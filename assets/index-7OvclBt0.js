var XF=Object.defineProperty;var q2=e=>{throw TypeError(e)};var ZF=(e,t,n)=>t in e?XF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var q=(e,t,n)=>ZF(e,typeof t!="symbol"?t+"":t,n),D1=(e,t,n)=>t.has(e)||q2("Cannot "+n);var he=(e,t,n)=>(D1(e,t,"read from private field"),n?n.call(e):t.get(e)),St=(e,t,n)=>t.has(e)?q2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ot=(e,t,n,r)=>(D1(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$t=(e,t,n)=>(D1(e,t,"access private method"),n);var Vx=(e,t,n,r)=>({set _(s){ot(e,t,s,n)},get _(){return he(e,t,r)}});function JF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var XO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var P1={exports:{}},u0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function QF(){if(K2)return u0;K2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,a){var u=null;if(a!==void 0&&(u=""+a),s.key!==void 0&&(u=""+s.key),"key"in s){a={};for(var d in s)d!=="key"&&(a[d]=s[d])}else a=s;return s=a.ref,{$$typeof:e,type:r,key:u,ref:s!==void 0?s:null,props:a}}return u0.Fragment=t,u0.jsx=n,u0.jsxs=n,u0}var X2;function JO(){return X2||(X2=1,P1.exports=QF()),P1.exports}var O=JO(),M1={exports:{}},c0={},L1={exports:{}},F1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function ek(){return Z2||(Z2=1,function(e){function t(re,Ie){var de=re.length;re.push(Ie);e:for(;0<de;){var fe=de-1>>>1,K=re[fe];if(0<s(K,Ie))re[fe]=Ie,re[de]=K,de=fe;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var Ie=re[0],de=re.pop();if(de!==Ie){re[0]=de;e:for(var fe=0,K=re.length,ne=K>>>1;fe<ne;){var me=2*(fe+1)-1,j=re[me],z=me+1,G=re[z];if(0>s(j,de))z<K&&0>s(G,j)?(re[fe]=G,re[z]=de,fe=z):(re[fe]=j,re[me]=de,fe=me);else if(z<K&&0>s(G,de))re[fe]=G,re[z]=de,fe=z;else break e}}return Ie}function s(re,Ie){var de=re.sortIndex-Ie.sortIndex;return de!==0?de:re.id-Ie.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],g=[],p=1,m=null,x=3,b=!1,A=!1,C=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function D(re){for(var Ie=n(g);Ie!==null;){if(Ie.callback===null)r(g);else if(Ie.startTime<=re)r(g),Ie.sortIndex=Ie.expirationTime,t(h,Ie);else break;Ie=n(g)}}function L(re){if(C=!1,D(re),!A)if(n(h)!==null)A=!0,k||(k=!0,se());else{var Ie=n(g);Ie!==null&&Me(L,Ie.startTime-re)}}var k=!1,U=-1,B=5,W=-1;function te(){return w?!0:!(e.unstable_now()-W<B)}function ie(){if(w=!1,k){var re=e.unstable_now();W=re;var Ie=!0;try{e:{A=!1,C&&(C=!1,_(U),U=-1),b=!0;var de=x;try{t:{for(D(re),m=n(h);m!==null&&!(m.expirationTime>re&&te());){var fe=m.callback;if(typeof fe=="function"){m.callback=null,x=m.priorityLevel;var K=fe(m.expirationTime<=re);if(re=e.unstable_now(),typeof K=="function"){m.callback=K,D(re),Ie=!0;break t}m===n(h)&&r(h),D(re)}else r(h);m=n(h)}if(m!==null)Ie=!0;else{var ne=n(g);ne!==null&&Me(L,ne.startTime-re),Ie=!1}}break e}finally{m=null,x=de,b=!1}Ie=void 0}}finally{Ie?se():k=!1}}}var se;if(typeof I=="function")se=function(){I(ie)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,je=Ce.port2;Ce.port1.onmessage=ie,se=function(){je.postMessage(null)}}else se=function(){T(ie,0)};function Me(re,Ie){U=T(function(){re(e.unstable_now())},Ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(re){switch(x){case 1:case 2:case 3:var Ie=3;break;default:Ie=x}var de=x;x=Ie;try{return re()}finally{x=de}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(re,Ie){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var de=x;x=re;try{return Ie()}finally{x=de}},e.unstable_scheduleCallback=function(re,Ie,de){var fe=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?fe+de:fe):de=fe,re){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=de+K,re={id:p++,callback:Ie,priorityLevel:re,startTime:de,expirationTime:K,sortIndex:-1},de>fe?(re.sortIndex=de,t(g,re),n(h)===null&&re===n(g)&&(C?(_(U),U=-1):C=!0,Me(L,de-fe))):(re.sortIndex=K,t(h,re),A||b||(A=!0,k||(k=!0,se()))),re},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(re){var Ie=x;return function(){var de=x;x=Ie;try{return re.apply(this,arguments)}finally{x=de}}}}(F1)),F1}var J2;function tk(){return J2||(J2=1,L1.exports=ek()),L1.exports}var k1={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function nk(){if(Q2)return Vt;Q2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(K){return K===null||typeof K!="object"?null:(K=m&&K[m]||K["@@iterator"],typeof K=="function"?K:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function w(K,ne,me){this.props=K,this.context=ne,this.refs=C,this.updater=me||b}w.prototype.isReactComponent={},w.prototype.setState=function(K,ne){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ne,"setState")},w.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function T(){}T.prototype=w.prototype;function _(K,ne,me){this.props=K,this.context=ne,this.refs=C,this.updater=me||b}var I=_.prototype=new T;I.constructor=_,A(I,w.prototype),I.isPureReactComponent=!0;var D=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function U(K,ne,me,j,z,G){return me=G.ref,{$$typeof:e,type:K,key:ne,ref:me!==void 0?me:null,props:G}}function B(K,ne){return U(K.type,ne,void 0,void 0,void 0,K.props)}function W(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function te(K){var ne={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(me){return ne[me]})}var ie=/\/+/g;function se(K,ne){return typeof K=="object"&&K!==null&&K.key!=null?te(""+K.key):ne.toString(36)}function Ce(){}function je(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(Ce,Ce):(K.status="pending",K.then(function(ne){K.status==="pending"&&(K.status="fulfilled",K.value=ne)},function(ne){K.status==="pending"&&(K.status="rejected",K.reason=ne)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function Me(K,ne,me,j,z){var G=typeof K;(G==="undefined"||G==="boolean")&&(K=null);var H=!1;if(K===null)H=!0;else switch(G){case"bigint":case"string":case"number":H=!0;break;case"object":switch(K.$$typeof){case e:case t:H=!0;break;case p:return H=K._init,Me(H(K._payload),ne,me,j,z)}}if(H)return z=z(K),H=j===""?"."+se(K,0):j,D(z)?(me="",H!=null&&(me=H.replace(ie,"$&/")+"/"),Me(z,ne,me,"",function(Z){return Z})):z!=null&&(W(z)&&(z=B(z,me+(z.key==null||K&&K.key===z.key?"":(""+z.key).replace(ie,"$&/")+"/")+H)),ne.push(z)),1;H=0;var J=j===""?".":j+":";if(D(K))for(var X=0;X<K.length;X++)j=K[X],G=J+se(j,X),H+=Me(j,ne,me,G,z);else if(X=x(K),typeof X=="function")for(K=X.call(K),X=0;!(j=K.next()).done;)j=j.value,G=J+se(j,X++),H+=Me(j,ne,me,G,z);else if(G==="object"){if(typeof K.then=="function")return Me(je(K),ne,me,j,z);throw ne=String(K),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return H}function re(K,ne,me){if(K==null)return K;var j=[],z=0;return Me(K,j,"","",function(G){return ne.call(me,G,z++)}),j}function Ie(K){if(K._status===-1){var ne=K._result;ne=ne(),ne.then(function(me){(K._status===0||K._status===-1)&&(K._status=1,K._result=me)},function(me){(K._status===0||K._status===-1)&&(K._status=2,K._result=me)}),K._status===-1&&(K._status=0,K._result=ne)}if(K._status===1)return K._result.default;throw K._result}var de=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function fe(){}return Vt.Children={map:re,forEach:function(K,ne,me){re(K,function(){ne.apply(this,arguments)},me)},count:function(K){var ne=0;return re(K,function(){ne++}),ne},toArray:function(K){return re(K,function(ne){return ne})||[]},only:function(K){if(!W(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Vt.Component=w,Vt.Fragment=n,Vt.Profiler=s,Vt.PureComponent=_,Vt.StrictMode=r,Vt.Suspense=h,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(K){return L.H.useMemoCache(K)}},Vt.cache=function(K){return function(){return K.apply(null,arguments)}},Vt.cloneElement=function(K,ne,me){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var j=A({},K.props),z=K.key,G=void 0;if(ne!=null)for(H in ne.ref!==void 0&&(G=void 0),ne.key!==void 0&&(z=""+ne.key),ne)!k.call(ne,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&ne.ref===void 0||(j[H]=ne[H]);var H=arguments.length-2;if(H===1)j.children=me;else if(1<H){for(var J=Array(H),X=0;X<H;X++)J[X]=arguments[X+2];j.children=J}return U(K.type,z,void 0,void 0,G,j)},Vt.createContext=function(K){return K={$$typeof:u,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:a,_context:K},K},Vt.createElement=function(K,ne,me){var j,z={},G=null;if(ne!=null)for(j in ne.key!==void 0&&(G=""+ne.key),ne)k.call(ne,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(z[j]=ne[j]);var H=arguments.length-2;if(H===1)z.children=me;else if(1<H){for(var J=Array(H),X=0;X<H;X++)J[X]=arguments[X+2];z.children=J}if(K&&K.defaultProps)for(j in H=K.defaultProps,H)z[j]===void 0&&(z[j]=H[j]);return U(K,G,void 0,void 0,null,z)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(K){return{$$typeof:d,render:K}},Vt.isValidElement=W,Vt.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:Ie}},Vt.memo=function(K,ne){return{$$typeof:g,type:K,compare:ne===void 0?null:ne}},Vt.startTransition=function(K){var ne=L.T,me={};L.T=me;try{var j=K(),z=L.S;z!==null&&z(me,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(fe,de)}catch(G){de(G)}finally{L.T=ne}},Vt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Vt.use=function(K){return L.H.use(K)},Vt.useActionState=function(K,ne,me){return L.H.useActionState(K,ne,me)},Vt.useCallback=function(K,ne){return L.H.useCallback(K,ne)},Vt.useContext=function(K){return L.H.useContext(K)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(K,ne){return L.H.useDeferredValue(K,ne)},Vt.useEffect=function(K,ne,me){var j=L.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(K,ne)},Vt.useId=function(){return L.H.useId()},Vt.useImperativeHandle=function(K,ne,me){return L.H.useImperativeHandle(K,ne,me)},Vt.useInsertionEffect=function(K,ne){return L.H.useInsertionEffect(K,ne)},Vt.useLayoutEffect=function(K,ne){return L.H.useLayoutEffect(K,ne)},Vt.useMemo=function(K,ne){return L.H.useMemo(K,ne)},Vt.useOptimistic=function(K,ne){return L.H.useOptimistic(K,ne)},Vt.useReducer=function(K,ne,me){return L.H.useReducer(K,ne,me)},Vt.useRef=function(K){return L.H.useRef(K)},Vt.useState=function(K){return L.H.useState(K)},Vt.useSyncExternalStore=function(K,ne,me){return L.H.useSyncExternalStore(K,ne,me)},Vt.useTransition=function(){return L.H.useTransition()},Vt.version="19.1.0",Vt}var eR;function Gb(){return eR||(eR=1,k1.exports=nk()),k1.exports}var B1={exports:{}},ni={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR;function rk(){if(tR)return ni;tR=1;var e=Gb();function t(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,g,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:h,containerInfo:g,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ni.createPortal=function(h,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return a(h,g,null,p)},ni.flushSync=function(h){var g=u.T,p=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=g,r.p=p,r.d.f()}},ni.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(h,g))},ni.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},ni.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var p=g.as,m=d(p,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:b}):p==="script"&&r.d.X(h,{crossOrigin:m,integrity:x,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ni.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=d(g.as,g.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(h)},ni.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,m=d(p,g.crossOrigin);r.d.L(h,p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ni.preloadModule=function(h,g){if(typeof h=="string")if(g){var p=d(g.as,g.crossOrigin);r.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(h)},ni.requestFormReset=function(h){r.d.r(h)},ni.unstable_batchedUpdates=function(h,g){return h(g)},ni.useFormState=function(h,g,p){return u.H.useFormState(h,g,p)},ni.useFormStatus=function(){return u.H.useHostTransitionStatus()},ni.version="19.1.0",ni}var nR;function QO(){if(nR)return B1.exports;nR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),B1.exports=rk(),B1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR;function ik(){if(rR)return c0;rR=1;var e=tk(),t=Gb(),n=QO();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)c+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,v=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(v=c.return),o=c.return;while(o)}return c.tag===3?v:null}function u(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(r(188))}function h(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var v=o,S=c;;){var R=v.return;if(R===null)break;var P=R.alternate;if(P===null){if(S=R.return,S!==null){v=S;continue}break}if(R.child===P.child){for(P=R.child;P;){if(P===v)return d(R),o;if(P===S)return d(R),c;P=P.sibling}throw Error(r(188))}if(v.return!==S.return)v=R,S=P;else{for(var $=!1,Q=R.child;Q;){if(Q===v){$=!0,v=R,S=P;break}if(Q===S){$=!0,S=R,v=P;break}Q=Q.sibling}if(!$){for(Q=P.child;Q;){if(Q===v){$=!0,v=P,S=R;break}if(Q===S){$=!0,S=P,v=R;break}Q=Q.sibling}if(!$)throw Error(r(189))}}if(v.alternate!==S)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?o:c}function g(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=g(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function se(o){return o===null||typeof o!="object"?null:(o=ie&&o[ie]||o["@@iterator"],typeof o=="function"?o:null)}var Ce=Symbol.for("react.client.reference");function je(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Ce?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case w:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case k:return"SuspenseList";case W:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case I:return(o.displayName||"Context")+".Provider";case _:return(o._context.displayName||"Context")+".Consumer";case D:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return c=o.displayName||null,c!==null?c:je(o.type)||"Memo";case B:c=o._payload,o=o._init;try{return je(o(c))}catch{}}return null}var Me=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},fe=[],K=-1;function ne(o){return{current:o}}function me(o){0>K||(o.current=fe[K],fe[K]=null,K--)}function j(o,c){K++,fe[K]=o.current,o.current=c}var z=ne(null),G=ne(null),H=ne(null),J=ne(null);function X(o,c){switch(j(H,c),j(G,o),j(z,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?x1(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=x1(c),o=b1(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}me(z),j(z,o)}function Z(){me(z),me(G),me(H)}function le(o){o.memoizedState!==null&&j(J,o);var c=z.current,v=b1(c,o.type);c!==v&&(j(G,o),j(z,v))}function xe(o){G.current===o&&(me(z),me(G)),J.current===o&&(me(J),cc._currentValue=de)}var Se=Object.prototype.hasOwnProperty,oe=e.unstable_scheduleCallback,ae=e.unstable_cancelCallback,Ae=e.unstable_shouldYield,Oe=e.unstable_requestPaint,Be=e.unstable_now,Ge=e.unstable_getCurrentPriorityLevel,ye=e.unstable_ImmediatePriority,Fe=e.unstable_UserBlockingPriority,Qe=e.unstable_NormalPriority,yt=e.unstable_LowPriority,ht=e.unstable_IdlePriority,pe=e.log,Ne=e.unstable_setDisableYieldValue,Ye=null,qe=null;function tt(o){if(typeof pe=="function"&&Ne(o),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Ye,o)}catch{}}var ft=Math.clz32?Math.clz32:Ot,bt=Math.log,jt=Math.LN2;function Ot(o){return o>>>=0,o===0?32:31-(bt(o)/jt|0)|0}var un=256,Le=4194304;function rt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function mt(o,c,v){var S=o.pendingLanes;if(S===0)return 0;var R=0,P=o.suspendedLanes,$=o.pingedLanes;o=o.warmLanes;var Q=S&134217727;return Q!==0?(S=Q&~P,S!==0?R=rt(S):($&=Q,$!==0?R=rt($):v||(v=Q&~o,v!==0&&(R=rt(v))))):(Q=S&~P,Q!==0?R=rt(Q):$!==0?R=rt($):v||(v=S&~o,v!==0&&(R=rt(v)))),R===0?0:c!==0&&c!==R&&(c&P)===0&&(P=R&-R,v=c&-c,P>=v||P===32&&(v&4194048)!==0)?c:R}function Et(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Dt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function En(){var o=un;return un<<=1,(un&4194048)===0&&(un=256),o}function Fn(){var o=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),o}function Kn(o){for(var c=[],v=0;31>v;v++)c.push(o);return c}function Ur(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ta(o,c,v,S,R,P){var $=o.pendingLanes;o.pendingLanes=v,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=v,o.entangledLanes&=v,o.errorRecoveryDisabledLanes&=v,o.shellSuspendCounter=0;var Q=o.entanglements,ce=o.expirationTimes,_e=o.hiddenUpdates;for(v=$&~v;0<v;){var ze=31-ft(v),$e=1<<ze;Q[ze]=0,ce[ze]=-1;var De=_e[ze];if(De!==null)for(_e[ze]=null,ze=0;ze<De.length;ze++){var Pe=De[ze];Pe!==null&&(Pe.lane&=-536870913)}v&=~$e}S!==0&&dt(o,S,0),P!==0&&R===0&&o.tag!==0&&(o.suspendedLanes|=P&~($&~c))}function dt(o,c,v){o.pendingLanes|=c,o.suspendedLanes&=~c;var S=31-ft(c);o.entangledLanes|=c,o.entanglements[S]=o.entanglements[S]|1073741824|v&4194090}function kn(o,c){var v=o.entangledLanes|=c;for(o=o.entanglements;v;){var S=31-ft(v),R=1<<S;R&c|o[S]&c&&(o[S]|=c),v&=~R}}function Hn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function cr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Na(){var o=Ie.p;return o!==0?o:(o=window.event,o===void 0?32:U2(o.type))}function nn(o,c){var v=Ie.p;try{return Ie.p=o,c()}finally{Ie.p=v}}var Bn=Math.random().toString(36).slice(2),jn="__reactFiber$"+Bn,rn="__reactProps$"+Bn,fr="__reactContainer$"+Bn,Su="__reactEvents$"+Bn,Gi="__reactListeners$"+Bn,fh="__reactHandles$"+Bn,Sg="__reactResources$"+Bn,_a="__reactMarker$"+Bn;function Eg(o){delete o[jn],delete o[rn],delete o[Su],delete o[Gi],delete o[fh]}function Ts(o){var c=o[jn];if(c)return c;for(var v=o.parentNode;v;){if(c=v[fr]||v[jn]){if(v=c.alternate,c.child!==null||v!==null&&v.child!==null)for(o=Tx(o);o!==null;){if(v=o[jn])return v;o=Tx(o)}return c}o=v,v=o.parentNode}return null}function Lo(o){if(o=o[jn]||o[fr]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Eu(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Ns(o){var c=o[Sg];return c||(c=o[Sg]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Xn(o){o[_a]=!0}var Ag=new Set,Cg={};function _s(o,c){Ia(o,c),Ia(o+"Capture",c)}function Ia(o,c){for(Cg[o]=c,o=0;o<c.length;o++)Ag.add(c[o])}var wg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fy={},Jc={};function ky(o){return Se.call(Jc,o)?!0:Se.call(Fy,o)?!1:wg.test(o)?Jc[o]=!0:(Fy[o]=!0,!1)}function Fo(o,c,v){if(ky(c))if(v===null)o.removeAttribute(c);else{switch(typeof v){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var S=c.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+v)}}function Qc(o,c,v){if(v===null)o.removeAttribute(c);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+v)}}function ko(o,c,v,S){if(S===null)o.removeAttribute(v);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(v);return}o.setAttributeNS(c,v,""+S)}}var Oa,By;function lo(o){if(Oa===void 0)try{throw Error()}catch(v){var c=v.stack.trim().match(/\n( *(at )?)/);Oa=c&&c[1]||"",By=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oa+o+By}var ef=!1;function Rg(o,c){if(!o||ef)return"";ef=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(c){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Pe){var De=Pe}Reflect.construct(o,[],$e)}else{try{$e.call()}catch(Pe){De=Pe}o.call($e.prototype)}}else{try{throw Error()}catch(Pe){De=Pe}($e=o())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Pe){if(Pe&&De&&typeof Pe.stack=="string")return[Pe.stack,De.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=S.DetermineComponentFrameRoot(),$=P[0],Q=P[1];if($&&Q){var ce=$.split(`
`),_e=Q.split(`
`);for(R=S=0;S<ce.length&&!ce[S].includes("DetermineComponentFrameRoot");)S++;for(;R<_e.length&&!_e[R].includes("DetermineComponentFrameRoot");)R++;if(S===ce.length||R===_e.length)for(S=ce.length-1,R=_e.length-1;1<=S&&0<=R&&ce[S]!==_e[R];)R--;for(;1<=S&&0<=R;S--,R--)if(ce[S]!==_e[R]){if(S!==1||R!==1)do if(S--,R--,0>R||ce[S]!==_e[R]){var ze=`
`+ce[S].replace(" at new "," at ");return o.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",o.displayName)),ze}while(1<=S&&0<=R);break}}}finally{ef=!1,Error.prepareStackTrace=v}return(v=o?o.displayName||o.name:"")?lo(v):""}function PS(o){switch(o.tag){case 26:case 27:case 5:return lo(o.type);case 16:return lo("Lazy");case 13:return lo("Suspense");case 19:return lo("SuspenseList");case 0:case 15:return Rg(o.type,!1);case 11:return Rg(o.type.render,!1);case 1:return Rg(o.type,!0);case 31:return lo("Activity");default:return""}}function jy(o){try{var c="";do c+=PS(o),o=o.return;while(o);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function Gr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Tg(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function MS(o){var c=Tg(o)?"checked":"value",v=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),S=""+o[c];if(!o.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var R=v.get,P=v.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return R.call(this)},set:function($){S=""+$,P.call(this,$)}}),Object.defineProperty(o,c,{enumerable:v.enumerable}),{getValue:function(){return S},setValue:function($){S=""+$},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function dh(o){o._valueTracker||(o._valueTracker=MS(o))}function zy(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var v=c.getValue(),S="";return o&&(S=Tg(o)?o.checked?"true":"false":o.value),o=S,o!==v?(c.setValue(o),!0):!1}function hh(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var tf=/[\n"\\]/g;function Rr(o){return o.replace(tf,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ng(o,c,v,S,R,P,$,Q){o.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?o.type=$:o.removeAttribute("type"),c!=null?$==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Gr(c)):o.value!==""+Gr(c)&&(o.value=""+Gr(c)):$!=="submit"&&$!=="reset"||o.removeAttribute("value"),c!=null?nf(o,$,Gr(c)):v!=null?nf(o,$,Gr(v)):S!=null&&o.removeAttribute("value"),R==null&&P!=null&&(o.defaultChecked=!!P),R!=null&&(o.checked=R&&typeof R!="function"&&typeof R!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?o.name=""+Gr(Q):o.removeAttribute("name")}function _g(o,c,v,S,R,P,$,Q){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(o.type=P),c!=null||v!=null){if(!(P!=="submit"&&P!=="reset"||c!=null))return;v=v!=null?""+Gr(v):"",c=c!=null?""+Gr(c):v,Q||c===o.value||(o.value=c),o.defaultValue=c}S=S??R,S=typeof S!="function"&&typeof S!="symbol"&&!!S,o.checked=Q?o.checked:!!S,o.defaultChecked=!!S,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(o.name=$)}function nf(o,c,v){c==="number"&&hh(o.ownerDocument)===o||o.defaultValue===""+v||(o.defaultValue=""+v)}function Au(o,c,v,S){if(o=o.options,c){c={};for(var R=0;R<v.length;R++)c["$"+v[R]]=!0;for(v=0;v<o.length;v++)R=c.hasOwnProperty("$"+o[v].value),o[v].selected!==R&&(o[v].selected=R),R&&S&&(o[v].defaultSelected=!0)}else{for(v=""+Gr(v),c=null,R=0;R<o.length;R++){if(o[R].value===v){o[R].selected=!0,S&&(o[R].defaultSelected=!0);return}c!==null||o[R].disabled||(c=o[R])}c!==null&&(c.selected=!0)}}function Ig(o,c,v){if(c!=null&&(c=""+Gr(c),c!==o.value&&(o.value=c),v==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=v!=null?""+Gr(v):""}function Vy(o,c,v,S){if(c==null){if(S!=null){if(v!=null)throw Error(r(92));if(Me(S)){if(1<S.length)throw Error(r(93));S=S[0]}v=S}v==null&&(v=""),c=v}v=Gr(c),o.defaultValue=v,S=o.textContent,S===v&&S!==""&&S!==null&&(o.value=S)}function Is(o,c){if(c){var v=o.firstChild;if(v&&v===o.lastChild&&v.nodeType===3){v.nodeValue=c;return}}o.textContent=c}var Uy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gy(o,c,v){var S=c.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?S?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":S?o.setProperty(c,v):typeof v!="number"||v===0||Uy.has(c)?c==="float"?o.cssFloat=v:o[c]=(""+v).trim():o[c]=v+"px"}function $y(o,c,v){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,v!=null){for(var S in v)!v.hasOwnProperty(S)||c!=null&&c.hasOwnProperty(S)||(S.indexOf("--")===0?o.setProperty(S,""):S==="float"?o.cssFloat="":o[S]="");for(var R in c)S=c[R],c.hasOwnProperty(R)&&v[R]!==S&&Gy(o,R,S)}else for(var P in c)c.hasOwnProperty(P)&&Gy(o,P,c[P])}function Og(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rf(o){return Hy.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var of=null;function sf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Da=null,Pa=null;function Wy(o){var c=Lo(o);if(c&&(o=c.stateNode)){var v=o[rn]||null;e:switch(o=c.stateNode,c.type){case"input":if(Ng(o,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),c=v.name,v.type==="radio"&&c!=null){for(v=o;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+Rr(""+c)+'"][type="radio"]'),c=0;c<v.length;c++){var S=v[c];if(S!==o&&S.form===o.form){var R=S[rn]||null;if(!R)throw Error(r(90));Ng(S,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(c=0;c<v.length;c++)S=v[c],S.form===o.form&&zy(S)}break e;case"textarea":Ig(o,v.value,v.defaultValue);break e;case"select":c=v.value,c!=null&&Au(o,!!v.multiple,c,!1)}}}var Dg=!1;function Yy(o,c,v){if(Dg)return o(c,v);Dg=!0;try{var S=o(c);return S}finally{if(Dg=!1,(Da!==null||Pa!==null)&&(ea(),Da&&(c=Da,o=Pa,Pa=Da=null,Wy(c),o)))for(c=0;c<o.length;c++)Wy(o[c])}}function Ma(o,c){var v=o.stateNode;if(v===null)return null;var S=v[rn]||null;if(S===null)return null;v=S[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(o=o.type,S=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!S;break e;default:o=!1}if(o)return null;if(v&&typeof v!="function")throw Error(r(231,c,typeof v));return v}var Bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pg=!1;if(Bo)try{var af={};Object.defineProperty(af,"passive",{get:function(){Pg=!0}}),window.addEventListener("test",af,af),window.removeEventListener("test",af,af)}catch{Pg=!1}var Os=null,Cu=null,Ei=null;function qy(){if(Ei)return Ei;var o,c=Cu,v=c.length,S,R="value"in Os?Os.value:Os.textContent,P=R.length;for(o=0;o<v&&c[o]===R[o];o++);var $=v-o;for(S=1;S<=$&&c[v-S]===R[P-S];S++);return Ei=R.slice(o,1<S?1-S:void 0)}function ph(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function gh(){return!0}function Ky(){return!1}function $r(o){function c(v,S,R,P,$){this._reactName=v,this._targetInst=R,this.type=S,this.nativeEvent=P,this.target=$,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(v=o[Q],this[Q]=v?v(P):P[Q]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?gh:Ky,this.isPropagationStopped=Ky,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=gh)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=gh)},persist:function(){},isPersistent:gh}),c}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=$r(Ds),Dr=p({},Ds,{view:0,detail:0}),FS=$r(Dr),Mg,mh,lf,yh=p({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==lf&&(lf&&o.type==="mousemove"?(Mg=o.screenX-lf.screenX,mh=o.screenY-lf.screenY):mh=Mg=0,lf=o),Mg)},movementY:function(o){return"movementY"in o?o.movementY:mh}}),Lg=$r(yh),It=p({},yh,{dataTransfer:0}),L2=$r(It),kS=p({},Dr,{relatedTarget:0}),vh=$r(kS),Xy=p({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Zy=$r(Xy),Jy=p({},Ds,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Qy=$r(Jy),ev=p({},Ds,{data:0}),Fg=$r(ev),tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iv(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=rv[o])?!!c[o]:!1}function xh(){return iv}var ov=p({},Dr,{key:function(o){if(o.key){var c=tv[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=ph(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?nv[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(o){return o.type==="keypress"?ph(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ph(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),sv=$r(ov),av=p({},yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kg=$r(av),lv=p({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),uv=$r(lv),cv=p({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),fv=$r(cv),dv=p({},yh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),BS=$r(dv),Ai=p({},Ds,{newState:0,oldState:0}),hv=$r(Ai),pv=[9,13,27,32],Bg=Bo&&"CompositionEvent"in window,uf=null;Bo&&"documentMode"in document&&(uf=document.documentMode);var jg=Bo&&"TextEvent"in window&&!uf,La=Bo&&(!Bg||uf&&8<uf&&11>=uf),uo=" ",gv=!1;function mv(o,c){switch(o){case"keyup":return pv.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var wu=!1;function vv(o,c){switch(o){case"compositionend":return yv(c);case"keypress":return c.which!==32?null:(gv=!0,uo);case"textInput":return o=c.data,o===uo&&gv?null:o;default:return null}}function jS(o,c){if(wu)return o==="compositionend"||!Bg&&mv(o,c)?(o=qy(),Ei=Cu=Os=null,wu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return La&&c.locale!=="ko"?null:c.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!zS[o.type]:c==="textarea"}function xv(o,c,v,S){Da?Pa?Pa.push(S):Pa=[S]:Da=S,c=Lf(c,"onChange"),0<c.length&&(v=new jo("onChange","change",null,v,S),o.push({event:v,listeners:c}))}var Ci=null,Ps=null;function bv(o){Ro(o,0)}function Fa(o){var c=Eu(o);if(zy(c))return o}function Vg(o,c){if(o==="change")return c}var Sv=!1;if(Bo){var Ug;if(Bo){var bh="oninput"in document;if(!bh){var Ev=document.createElement("div");Ev.setAttribute("oninput","return;"),bh=typeof Ev.oninput=="function"}Ug=bh}else Ug=!1;Sv=Ug&&(!document.documentMode||9<document.documentMode)}function Av(){Ci&&(Ci.detachEvent("onpropertychange",Cv),Ps=Ci=null)}function Cv(o){if(o.propertyName==="value"&&Fa(Ps)){var c=[];xv(c,Ps,o,sf(o)),Yy(bv,c)}}function VS(o,c,v){o==="focusin"?(Av(),Ci=c,Ps=v,Ci.attachEvent("onpropertychange",Cv)):o==="focusout"&&Av()}function US(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Fa(Ps)}function wv(o,c){if(o==="click")return Fa(c)}function Gg(o,c){if(o==="input"||o==="change")return Fa(c)}function GS(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Hr=typeof Object.is=="function"?Object.is:GS;function cf(o,c){if(Hr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var v=Object.keys(o),S=Object.keys(c);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var R=v[S];if(!Se.call(c,R)||!Hr(o[R],c[R]))return!1}return!0}function Sh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Rv(o,c){var v=Sh(o);o=0;for(var S;v;){if(v.nodeType===3){if(S=o+v.textContent.length,o<=c&&S>=c)return{node:v,offset:c-o};o=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Sh(v)}}function Tv(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Tv(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Nv(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=hh(o.document);c instanceof o.HTMLIFrameElement;){try{var v=typeof c.contentWindow.location.href=="string"}catch{v=!1}if(v)o=c.contentWindow;else break;c=hh(o.document)}return c}function $g(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Eh=Bo&&"documentMode"in document&&11>=document.documentMode,ka=null,Hg=null,ff=null,Ah=!1;function _v(o,c,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Ah||ka==null||ka!==hh(S)||(S=ka,"selectionStart"in S&&$g(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),ff&&cf(ff,S)||(ff=S,S=Lf(Hg,"onSelect"),0<S.length&&(c=new jo("onSelect","select",null,c,v),o.push({event:c,listeners:S}),c.target=ka)))}function Ba(o,c){var v={};return v[o.toLowerCase()]=c.toLowerCase(),v["Webkit"+o]="webkit"+c,v["Moz"+o]="moz"+c,v}var Ru={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},ja={},Wg={};Bo&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete Ru.animationend.animation,delete Ru.animationiteration.animation,delete Ru.animationstart.animation),"TransitionEvent"in window||delete Ru.transitionend.transition);function za(o){if(ja[o])return ja[o];if(!Ru[o])return o;var c=Ru[o],v;for(v in c)if(c.hasOwnProperty(v)&&v in Wg)return ja[o]=c[v];return o}var Iv=za("animationend"),Ch=za("animationiteration"),df=za("animationstart"),$S=za("transitionrun"),HS=za("transitionstart"),WS=za("transitioncancel"),Ov=za("transitionend"),Dv=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function ui(o,c){Dv.set(o,c),_s(c,[o])}var Yg=new WeakMap;function wi(o,c){if(typeof o=="object"&&o!==null){var v=Yg.get(o);return v!==void 0?v:(c={value:o,source:c,stack:jy(c)},Yg.set(o,c),c)}return{value:o,source:c,stack:jy(c)}}var ci=[],Tu=0,qg=0;function Rh(){for(var o=Tu,c=qg=Tu=0;c<o;){var v=ci[c];ci[c++]=null;var S=ci[c];ci[c++]=null;var R=ci[c];ci[c++]=null;var P=ci[c];if(ci[c++]=null,S!==null&&R!==null){var $=S.pending;$===null?R.next=R:(R.next=$.next,$.next=R),S.pending=R}P!==0&&Pv(v,R,P)}}function zo(o,c,v,S){ci[Tu++]=o,ci[Tu++]=c,ci[Tu++]=v,ci[Tu++]=S,qg|=S,o.lanes|=S,o=o.alternate,o!==null&&(o.lanes|=S)}function Th(o,c,v,S){return zo(o,c,v,S),Nh(o)}function Nu(o,c){return zo(o,null,null,c),Nh(o)}function Pv(o,c,v){o.lanes|=v;var S=o.alternate;S!==null&&(S.lanes|=v);for(var R=!1,P=o.return;P!==null;)P.childLanes|=v,S=P.alternate,S!==null&&(S.childLanes|=v),P.tag===22&&(o=P.stateNode,o===null||o._visibility&1||(R=!0)),o=P,P=P.return;return o.tag===3?(P=o.stateNode,R&&c!==null&&(R=31-ft(v),o=P.hiddenUpdates,S=o[R],S===null?o[R]=[c]:S.push(c),c.lane=v|536870912),P):null}function Nh(o){if(50<fn)throw fn=0,Ir=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var _u={};function YS(o,c,v,S){this.tag=o,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(o,c,v,S){return new YS(o,c,v,S)}function hf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ri(o,c){var v=o.alternate;return v===null?(v=Tr(o.tag,c,o.key,o.mode),v.elementType=o.elementType,v.type=o.type,v.stateNode=o.stateNode,v.alternate=o,o.alternate=v):(v.pendingProps=c,v.type=o.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=o.flags&65011712,v.childLanes=o.childLanes,v.lanes=o.lanes,v.child=o.child,v.memoizedProps=o.memoizedProps,v.memoizedState=o.memoizedState,v.updateQueue=o.updateQueue,c=o.dependencies,v.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},v.sibling=o.sibling,v.index=o.index,v.ref=o.ref,v.refCleanup=o.refCleanup,v}function pf(o,c){o.flags&=65011714;var v=o.alternate;return v===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=v.childLanes,o.lanes=v.lanes,o.child=v.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=v.memoizedProps,o.memoizedState=v.memoizedState,o.updateQueue=v.updateQueue,o.type=v.type,c=v.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function _h(o,c,v,S,R,P){var $=0;if(S=o,typeof o=="function")hf(o)&&($=1);else if(typeof o=="string")$=en(o,v,z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case W:return o=Tr(31,v,c,R),o.elementType=W,o.lanes=P,o;case A:return Ms(v.children,R,P,c);case C:$=8,R|=24;break;case w:return o=Tr(12,v,c,R|2),o.elementType=w,o.lanes=P,o;case L:return o=Tr(13,v,c,R),o.elementType=L,o.lanes=P,o;case k:return o=Tr(19,v,c,R),o.elementType=k,o.lanes=P,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:case I:$=10;break e;case _:$=9;break e;case D:$=11;break e;case U:$=14;break e;case B:$=16,S=null;break e}$=29,v=Error(r(130,o===null?"null":typeof o,"")),S=null}return c=Tr($,v,c,R),c.elementType=o,c.type=S,c.lanes=P,c}function Ms(o,c,v,S){return o=Tr(7,o,S,c),o.lanes=v,o}function Kg(o,c,v){return o=Tr(6,o,null,c),o.lanes=v,o}function Xg(o,c,v){return c=Tr(4,o.children!==null?o.children:[],o.key,c),c.lanes=v,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Iu=[],Ou=0,Ih=null,Oh=0,fi=[],Wr=0,Ls=null,co=1,Ht="";function Va(o,c){Iu[Ou++]=Oh,Iu[Ou++]=Ih,Ih=o,Oh=c}function Mv(o,c,v){fi[Wr++]=co,fi[Wr++]=Ht,fi[Wr++]=Ls,Ls=o;var S=co;o=Ht;var R=32-ft(S)-1;S&=~(1<<R),v+=1;var P=32-ft(c)+R;if(30<P){var $=R-R%5;P=(S&(1<<$)-1).toString(32),S>>=$,R-=$,co=1<<32-ft(c)+R|v<<R|S,Ht=P+o}else co=1<<P|v<<R|S,Ht=o}function Zg(o){o.return!==null&&(Va(o,1),Mv(o,1,0))}function Dh(o){for(;o===Ih;)Ih=Iu[--Ou],Iu[Ou]=null,Oh=Iu[--Ou],Iu[Ou]=null;for(;o===Ls;)Ls=fi[--Wr],fi[Wr]=null,Ht=fi[--Wr],fi[Wr]=null,co=fi[--Wr],fi[Wr]=null}var Pr=null,zn=null,Qt=!1,Fs=null,$i=!1,Jg=Error(r(519));function Hi(o){var c=Error(r(418,""));throw mf(wi(c,o)),Jg}function Lv(o){var c=o.stateNode,v=o.type,S=o.memoizedProps;switch(c[jn]=o,c[rn]=S,v){case"dialog":Mt("cancel",c),Mt("close",c);break;case"iframe":case"object":case"embed":Mt("load",c);break;case"video":case"audio":for(v=0;v<wo.length;v++)Mt(wo[v],c);break;case"source":Mt("error",c);break;case"img":case"image":case"link":Mt("error",c),Mt("load",c);break;case"details":Mt("toggle",c);break;case"input":Mt("invalid",c),_g(c,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),dh(c);break;case"select":Mt("invalid",c);break;case"textarea":Mt("invalid",c),Vy(c,S.value,S.defaultValue,S.children),dh(c)}v=S.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||c.textContent===""+v||S.suppressHydrationWarning===!0||Sx(c.textContent,v)?(S.popover!=null&&(Mt("beforetoggle",c),Mt("toggle",c)),S.onScroll!=null&&Mt("scroll",c),S.onScrollEnd!=null&&Mt("scrollend",c),S.onClick!=null&&(c.onclick=il),c=!0):c=!1,c||Hi(o)}function Fv(o){for(Pr=o.return;Pr;)switch(Pr.tag){case 5:case 13:$i=!1;return;case 27:case 3:$i=!0;return;default:Pr=Pr.return}}function gf(o){if(o!==Pr)return!1;if(!Qt)return Fv(o),Qt=!0,!1;var c=o.tag,v;if((v=c!==3&&c!==27)&&((v=c===5)&&(v=o.type,v=!(v!=="form"&&v!=="button")||ac(o.type,o.memoizedProps)),v=!v),v&&zn&&Hi(o),Fv(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(v=o.data,v==="/$"){if(c===0){zn=ti(o.nextSibling);break e}c--}else v!=="$"&&v!=="$!"&&v!=="$?"||c++;o=o.nextSibling}zn=null}}else c===27?(c=zn,us(o.type)?(o=i0,i0=null,zn=o):zn=c):zn=Pr?ti(o.stateNode.nextSibling):null;return!0}function Du(){zn=Pr=null,Qt=!1}function Ua(){var o=Fs;return o!==null&&(zr===null?zr=o:zr.push.apply(zr,o),Fs=null),o}function mf(o){Fs===null?Fs=[o]:Fs.push(o)}var Qg=ne(null),Ga=null,Vo=null;function ks(o,c,v){j(Qg,c._currentValue),c._currentValue=v}function Uo(o){o._currentValue=Qg.current,me(Qg)}function em(o,c,v){for(;o!==null;){var S=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,S!==null&&(S.childLanes|=c)):S!==null&&(S.childLanes&c)!==c&&(S.childLanes|=c),o===v)break;o=o.return}}function Ph(o,c,v,S){var R=o.child;for(R!==null&&(R.return=o);R!==null;){var P=R.dependencies;if(P!==null){var $=R.child;P=P.firstContext;e:for(;P!==null;){var Q=P;P=R;for(var ce=0;ce<c.length;ce++)if(Q.context===c[ce]){P.lanes|=v,Q=P.alternate,Q!==null&&(Q.lanes|=v),em(P.return,v,o),S||($=null);break e}P=Q.next}}else if(R.tag===18){if($=R.return,$===null)throw Error(r(341));$.lanes|=v,P=$.alternate,P!==null&&(P.lanes|=v),em($,v,o),$=null}else $=R.child;if($!==null)$.return=R;else for($=R;$!==null;){if($===o){$=null;break}if(R=$.sibling,R!==null){R.return=$.return,$=R;break}$=$.return}R=$}}function yf(o,c,v,S){o=null;for(var R=c,P=!1;R!==null;){if(!P){if((R.flags&524288)!==0)P=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var $=R.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var Q=R.type;Hr(R.pendingProps.value,$.value)||(o!==null?o.push(Q):o=[Q])}}else if(R===J.current){if($=R.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(o!==null?o.push(cc):o=[cc])}R=R.return}o!==null&&Ph(c,o,v,S),c.flags|=262144}function Mh(o){for(o=o.firstContext;o!==null;){if(!Hr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Bs(o){Ga=o,Vo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function gr(o){return tm(Ga,o)}function Pu(o,c){return Ga===null&&Bs(o),tm(o,c)}function tm(o,c){var v=c._currentValue;if(c={context:c,memoizedValue:v,next:null},Vo===null){if(o===null)throw Error(r(308));Vo=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Vo=Vo.next=c;return v}var qS=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(v,S){o.push(S)}};this.abort=function(){c.aborted=!0,o.forEach(function(v){return v()})}},KS=e.unstable_scheduleCallback,Mu=e.unstable_NormalPriority,Zn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nm(){return{controller:new qS,data:new Map,refCount:0}}function vf(o){o.refCount--,o.refCount===0&&KS(Mu,function(){o.controller.abort()})}var Lu=null,rm=0,Fu=0,ku=null;function XS(o,c){if(Lu===null){var v=Lu=[];rm=0,Fu=pp(),ku={status:"pending",value:void 0,then:function(S){v.push(S)}}}return rm++,c.then(ZS,ZS),c}function ZS(){if(--rm===0&&Lu!==null){ku!==null&&(ku.status="fulfilled");var o=Lu;Lu=null,Fu=0,ku=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function JS(o,c){var v=[],S={status:"pending",value:null,reason:null,then:function(R){v.push(R)}};return o.then(function(){S.status="fulfilled",S.value=c;for(var R=0;R<v.length;R++)(0,v[R])(c)},function(R){for(S.status="rejected",S.reason=R,R=0;R<v.length;R++)(0,v[R])(void 0)}),S}var kv=re.S;re.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&XS(o,c),kv!==null&&kv(o,c)};var js=ne(null);function Lh(){var o=js.current;return o!==null?o:Rn.pooledCache}function xf(o,c){c===null?j(js,js.current):j(js,c.pool)}function Bv(){var o=Lh();return o===null?null:{parent:Zn._currentValue,pool:o}}var Bu=Error(r(460)),jv=Error(r(474)),bf=Error(r(542)),Fh={then:function(){}};function im(o){return o=o.status,o==="fulfilled"||o==="rejected"}function kh(){}function zv(o,c,v){switch(v=o[v],v===void 0?o.push(c):v!==c&&(c.then(kh,kh),c=v),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,om(o),o;default:if(typeof c.status=="string")c.then(kh,kh);else{if(o=Rn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(S){if(c.status==="pending"){var R=c;R.status="fulfilled",R.value=S}},function(S){if(c.status==="pending"){var R=c;R.status="rejected",R.reason=S}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,om(o),o}throw ju=c,Bu}}var ju=null;function Vv(){if(ju===null)throw Error(r(459));var o=ju;return ju=null,o}function om(o){if(o===Bu||o===bf)throw Error(r(483))}var Go=!1;function sm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Yr(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function zs(o,c,v){var S=o.updateQueue;if(S===null)return null;if(S=S.shared,(on&2)!==0){var R=S.pending;return R===null?c.next=c:(c.next=R.next,R.next=c),S.pending=c,c=Nh(o),Pv(o,null,v),c}return zo(o,S,c,v),Nh(o)}function zu(o,c,v){if(c=c.updateQueue,c!==null&&(c=c.shared,(v&4194048)!==0)){var S=c.lanes;S&=o.pendingLanes,v|=S,c.lanes=v,kn(o,v)}}function am(o,c){var v=o.updateQueue,S=o.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var R=null,P=null;if(v=v.firstBaseUpdate,v!==null){do{var $={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};P===null?R=P=$:P=P.next=$,v=v.next}while(v!==null);P===null?R=P=c:P=P.next=c}else R=P=c;v={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:P,shared:S.shared,callbacks:S.callbacks},o.updateQueue=v;return}o=v.lastBaseUpdate,o===null?v.firstBaseUpdate=c:o.next=c,v.lastBaseUpdate=c}var Pt=!1;function Sf(){if(Pt){var o=ku;if(o!==null)throw o}}function Ef(o,c,v,S){Pt=!1;var R=o.updateQueue;Go=!1;var P=R.firstBaseUpdate,$=R.lastBaseUpdate,Q=R.shared.pending;if(Q!==null){R.shared.pending=null;var ce=Q,_e=ce.next;ce.next=null,$===null?P=_e:$.next=_e,$=ce;var ze=o.alternate;ze!==null&&(ze=ze.updateQueue,Q=ze.lastBaseUpdate,Q!==$&&(Q===null?ze.firstBaseUpdate=_e:Q.next=_e,ze.lastBaseUpdate=ce))}if(P!==null){var $e=R.baseState;$=0,ze=_e=ce=null,Q=P;do{var De=Q.lane&-536870913,Pe=De!==Q.lane;if(Pe?(Kt&De)===De:(S&De)===De){De!==0&&De===Fu&&(Pt=!0),ze!==null&&(ze=ze.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var _t=o,Ct=Q;De=c;var Tn=v;switch(Ct.tag){case 1:if(_t=Ct.payload,typeof _t=="function"){$e=_t.call(Tn,$e,De);break e}$e=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Ct.payload,De=typeof _t=="function"?_t.call(Tn,$e,De):_t,De==null)break e;$e=p({},$e,De);break e;case 2:Go=!0}}De=Q.callback,De!==null&&(o.flags|=64,Pe&&(o.flags|=8192),Pe=R.callbacks,Pe===null?R.callbacks=[De]:Pe.push(De))}else Pe={lane:De,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},ze===null?(_e=ze=Pe,ce=$e):ze=ze.next=Pe,$|=De;if(Q=Q.next,Q===null){if(Q=R.shared.pending,Q===null)break;Pe=Q,Q=Pe.next,Pe.next=null,R.lastBaseUpdate=Pe,R.shared.pending=null}}while(!0);ze===null&&(ce=$e),R.baseState=ce,R.firstBaseUpdate=_e,R.lastBaseUpdate=ze,P===null&&(R.shared.lanes=0),Eo|=$,o.lanes=$,o.memoizedState=$e}}function Uv(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function jh(o,c){var v=o.callbacks;if(v!==null)for(o.callbacks=null,o=0;o<v.length;o++)Uv(v[o],c)}var Vs=ne(null),Vu=ne(0);function Gv(o,c){o=os,j(Vu,o),j(Vs,c),os=o|c.baseLanes}function lm(){j(Vu,os),j(Vs,Vs.current)}function um(){os=Vu.current,me(Vs),me(Vu)}var Us=0,zt=null,pn=null,Jn=null,zh=!1,Uu=!1,$a=!1,$o=0,Nr=0,Gu=null,QS=0;function Wn(){throw Error(r(321))}function cm(o,c){if(c===null)return!1;for(var v=0;v<c.length&&v<o.length;v++)if(!Hr(o[v],c[v]))return!1;return!0}function fm(o,c,v,S,R,P){return Us=P,zt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,re.H=o===null||o.memoizedState===null?Ke:gn,$a=!1,P=v(S,R),$a=!1,Uu&&(P=Hv(c,v,S,R)),$v(o),P}function $v(o){re.H=vr;var c=pn!==null&&pn.next!==null;if(Us=0,Jn=pn=zt=null,zh=!1,Nr=0,Gu=null,c)throw Error(r(300));o===null||Vn||(o=o.dependencies,o!==null&&Mh(o)&&(Vn=!0))}function Hv(o,c,v,S){zt=o;var R=0;do{if(Uu&&(Gu=null),Nr=0,Uu=!1,25<=R)throw Error(r(301));if(R+=1,Jn=pn=null,o.updateQueue!=null){var P=o.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}re.H=Dn,P=c(v,S)}while(Uu);return P}function e1(){var o=re.H,c=o.useState()[0];return c=typeof c.then=="function"?Af(c):c,o=o.useState()[0],(pn!==null?pn.memoizedState:null)!==o&&(zt.flags|=1024),c}function Vh(){var o=$o!==0;return $o=0,o}function dm(o,c,v){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~v}function hm(o){if(zh){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}zh=!1}Us=0,Jn=pn=zt=null,Uu=!1,Nr=$o=0,Gu=null}function qr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?zt.memoizedState=Jn=o:Jn=Jn.next=o,Jn}function Qn(){if(pn===null){var o=zt.alternate;o=o!==null?o.memoizedState:null}else o=pn.next;var c=Jn===null?zt.memoizedState:Jn.next;if(c!==null)Jn=c,pn=o;else{if(o===null)throw zt.alternate===null?Error(r(467)):Error(r(310));pn=o,o={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},Jn===null?zt.memoizedState=Jn=o:Jn=Jn.next=o}return Jn}function pm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Af(o){var c=Nr;return Nr+=1,Gu===null&&(Gu=[]),o=zv(Gu,o,c),c=zt,(Jn===null?c.memoizedState:Jn.next)===null&&(c=c.alternate,re.H=c===null||c.memoizedState===null?Ke:gn),o}function Cf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Af(o);if(o.$$typeof===I)return gr(o)}throw Error(r(438,String(o)))}function Ha(o){var c=null,v=zt.updateQueue;if(v!==null&&(c=v.memoCache),c==null){var S=zt.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(c={data:S.data.map(function(R){return R.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),v===null&&(v=pm(),zt.updateQueue=v),v.memoCache=c,v=c.data[c.index],v===void 0)for(v=c.data[c.index]=Array(o),S=0;S<o;S++)v[S]=te;return c.index++,v}function Ho(o,c){return typeof c=="function"?c(o):c}function Uh(o){var c=Qn();return gm(c,pn,o)}function gm(o,c,v){var S=o.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=v;var R=o.baseQueue,P=S.pending;if(P!==null){if(R!==null){var $=R.next;R.next=P.next,P.next=$}c.baseQueue=R=P,S.pending=null}if(P=o.baseState,R===null)o.memoizedState=P;else{c=R.next;var Q=$=null,ce=null,_e=c,ze=!1;do{var $e=_e.lane&-536870913;if($e!==_e.lane?(Kt&$e)===$e:(Us&$e)===$e){var De=_e.revertLane;if(De===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),$e===Fu&&(ze=!0);else if((Us&De)===De){_e=_e.next,De===Fu&&(ze=!0);continue}else $e={lane:0,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ce===null?(Q=ce=$e,$=P):ce=ce.next=$e,zt.lanes|=De,Eo|=De;$e=_e.action,$a&&v(P,$e),P=_e.hasEagerState?_e.eagerState:v(P,$e)}else De={lane:$e,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ce===null?(Q=ce=De,$=P):ce=ce.next=De,zt.lanes|=$e,Eo|=$e;_e=_e.next}while(_e!==null&&_e!==c);if(ce===null?$=P:ce.next=Q,!Hr(P,o.memoizedState)&&(Vn=!0,ze&&(v=ku,v!==null)))throw v;o.memoizedState=P,o.baseState=$,o.baseQueue=ce,S.lastRenderedState=P}return R===null&&(S.lanes=0),[o.memoizedState,S.dispatch]}function mm(o){var c=Qn(),v=c.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=o;var S=v.dispatch,R=v.pending,P=c.memoizedState;if(R!==null){v.pending=null;var $=R=R.next;do P=o(P,$.action),$=$.next;while($!==R);Hr(P,c.memoizedState)||(Vn=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),v.lastRenderedState=P}return[P,S]}function ym(o,c,v){var S=zt,R=Qn(),P=Qt;if(P){if(v===void 0)throw Error(r(407));v=v()}else v=c();var $=!Hr((pn||R).memoizedState,v);$&&(R.memoizedState=v,Vn=!0),R=R.queue;var Q=t1.bind(null,S,R,o);if(Mr(2048,8,Q,[o]),R.getSnapshot!==c||$||Jn!==null&&Jn.memoizedState.tag&1){if(S.flags|=2048,Yo(9,qo(),wf.bind(null,S,R,v,c),null),Rn===null)throw Error(r(349));P||(Us&124)!==0||Ft(S,c,v)}return v}function Ft(o,c,v){o.flags|=16384,o={getSnapshot:c,value:v},c=zt.updateQueue,c===null?(c=pm(),zt.updateQueue=c,c.stores=[o]):(v=c.stores,v===null?c.stores=[o]:v.push(o))}function wf(o,c,v,S){c.value=v,c.getSnapshot=S,Wv(c)&&n1(o)}function t1(o,c,v){return v(function(){Wv(c)&&n1(o)})}function Wv(o){var c=o.getSnapshot;o=o.value;try{var v=c();return!Hr(o,v)}catch{return!0}}function n1(o){var c=Nu(o,2);c!==null&&Xe(c,o,2)}function vm(o){var c=qr();if(typeof o=="function"){var v=o;if(o=v(),$a){tt(!0);try{v()}finally{tt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:o},c}function ge(o,c,v,S){return o.baseState=v,gm(o,pn,typeof S=="function"?S:Ho)}function be(o,c,v,S,R){if(Hu(o))throw Error(r(485));if(o=c.action,o!==null){var P={payload:R,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){P.listeners.push($)}};re.T!==null?v(!0):P.isTransition=!1,S(P),v=c.pending,v===null?(P.next=c.pending=P,Wi(c,P)):(P.next=v.next,c.pending=v.next=P)}}function Wi(o,c){var v=c.action,S=c.payload,R=o.state;if(c.isTransition){var P=re.T,$={};re.T=$;try{var Q=v(R,S),ce=re.S;ce!==null&&ce($,Q),Gh(o,c,Q)}catch(_e){Kr(o,c,_e)}finally{re.T=P}}else try{P=v(R,S),Gh(o,c,P)}catch(_e){Kr(o,c,_e)}}function Gh(o,c,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(S){Yi(o,c,S)},function(S){return Kr(o,c,S)}):Yi(o,c,v)}function Yi(o,c,v){c.status="fulfilled",c.value=v,$h(c),o.state=v,c=o.pending,c!==null&&(v=c.next,v===c?o.pending=null:(v=v.next,c.next=v,Wi(o,v)))}function Kr(o,c,v){var S=o.pending;if(o.pending=null,S!==null){S=S.next;do c.status="rejected",c.reason=v,$h(c),c=c.next;while(c!==S)}o.action=null}function $h(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function xm(o,c){return c}function Hh(o,c){if(Qt){var v=Rn.formState;if(v!==null){e:{var S=zt;if(Qt){if(zn){t:{for(var R=zn,P=$i;R.nodeType!==8;){if(!P){R=null;break t}if(R=ti(R.nextSibling),R===null){R=null;break t}}P=R.data,R=P==="F!"||P==="F"?R:null}if(R){zn=ti(R.nextSibling),S=R.data==="F!";break e}}Hi(S)}S=!1}S&&(c=v[0])}}return v=qr(),v.memoizedState=v.baseState=c,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:c},v.queue=S,v=fo.bind(null,zt,S),S.dispatch=v,S=vm(!1),P=Yh.bind(null,zt,!1,S.queue),S=qr(),R={state:c,dispatch:null,action:o,pending:null},S.queue=R,v=be.bind(null,zt,R,P,v),R.dispatch=v,S.memoizedState=o,[c,v,!1]}function Wa(o){var c=Qn();return qi(c,pn,o)}function qi(o,c,v){if(c=gm(o,c,xm)[0],o=Uh(Ho)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var S=Af(c)}catch($){throw $===Bu?bf:$}else S=c;c=Qn();var R=c.queue,P=R.dispatch;return v!==c.memoizedState&&(zt.flags|=2048,Yo(9,qo(),Rf.bind(null,R,v),null)),[S,P,o]}function Rf(o,c){o.action=c}function Wo(o){var c=Qn(),v=pn;if(v!==null)return qi(c,v,o);Qn(),c=c.memoizedState,v=Qn();var S=v.queue.dispatch;return v.memoizedState=o,[c,S,!1]}function Yo(o,c,v,S){return o={tag:o,create:v,deps:S,inst:c,next:null},c=zt.updateQueue,c===null&&(c=pm(),zt.updateQueue=c),v=c.lastEffect,v===null?c.lastEffect=o.next=o:(S=v.next,v.next=o,o.next=S,c.lastEffect=o),o}function qo(){return{destroy:void 0,resource:void 0}}function mr(){return Qn().memoizedState}function An(o,c,v,S){var R=qr();S=S===void 0?null:S,zt.flags|=o,R.memoizedState=Yo(1|c,qo(),v,S)}function Mr(o,c,v,S){var R=Qn();S=S===void 0?null:S;var P=R.memoizedState.inst;pn!==null&&S!==null&&cm(S,pn.memoizedState.deps)?R.memoizedState=Yo(c,P,v,S):(zt.flags|=o,R.memoizedState=Yo(1|c,P,v,S))}function bm(o,c){An(8390656,8,o,c)}function $u(o,c){Mr(2048,8,o,c)}function di(o,c){return Mr(4,2,o,c)}function Ut(o,c){return Mr(4,4,o,c)}function yr(o,c){if(typeof c=="function"){o=o();var v=c(o);return function(){typeof v=="function"?v():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Sm(o,c,v){v=v!=null?v.concat([o]):null,Mr(4,4,yr.bind(null,c,o),v)}function Wh(){}function Em(o,c){var v=Qn();c=c===void 0?null:c;var S=v.memoizedState;return c!==null&&cm(c,S[1])?S[0]:(v.memoizedState=[o,c],o)}function Gs(o,c){var v=Qn();c=c===void 0?null:c;var S=v.memoizedState;if(c!==null&&cm(c,S[1]))return S[0];if(S=o(),$a){tt(!0);try{o()}finally{tt(!1)}}return v.memoizedState=[S,c],S}function Xr(o,c,v){return v===void 0||(Us&1073741824)!==0?o.memoizedState=c:(o.memoizedState=v,o=dx(),zt.lanes|=o,Eo|=o,v)}function qt(o,c,v,S){return Hr(v,c)?v:Vs.current!==null?(o=Xr(o,v,S),Hr(o,c)||(Vn=!0),o):(Us&42)===0?(Vn=!0,o.memoizedState=v):(o=dx(),zt.lanes|=o,Eo|=o,c)}function Tf(o,c,v,S,R){var P=Ie.p;Ie.p=P!==0&&8>P?P:8;var $=re.T,Q={};re.T=Q,Yh(o,!1,c,v);try{var ce=R(),_e=re.S;if(_e!==null&&_e(Q,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var ze=JS(ce,S);ho(o,c,ze,sr(o))}else ho(o,c,S,sr(o))}catch($e){ho(o,c,{then:function(){},status:"rejected",reason:$e},sr())}finally{Ie.p=P,re.T=$}}function Am(){}function Zr(o,c,v,S){if(o.tag!==5)throw Error(r(476));var R=Cm(o).queue;Tf(o,R,c,de,v===null?Am:function(){return Yv(o),v(S)})}function Cm(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:de},next:null};var v={};return c.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:v},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Yv(o){var c=Cm(o).next.queue;ho(o,c,{},sr())}function $s(){return gr(cc)}function wm(){return Qn().memoizedState}function qv(){return Qn().memoizedState}function Kv(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var v=sr();o=Yr(v);var S=zs(c,o,v);S!==null&&(Xe(S,c,v),zu(S,c,v)),c={cache:nm()},o.payload=c;return}c=c.return}}function Ki(o,c,v){var S=sr();v={lane:S,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},Hu(o)?Rm(c,v):(v=Th(o,c,v,S),v!==null&&(Xe(v,o,S),Tm(v,c,S)))}function fo(o,c,v){var S=sr();ho(o,c,v,S)}function ho(o,c,v,S){var R={lane:S,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(Hu(o))Rm(c,R);else{var P=o.alternate;if(o.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var $=c.lastRenderedState,Q=P($,v);if(R.hasEagerState=!0,R.eagerState=Q,Hr(Q,$))return zo(o,c,R,0),Rn===null&&Rh(),!1}catch{}finally{}if(v=Th(o,c,R,S),v!==null)return Xe(v,o,S),Tm(v,c,S),!0}return!1}function Yh(o,c,v,S){if(S={lane:2,revertLane:pp(),action:S,hasEagerState:!1,eagerState:null,next:null},Hu(o)){if(c)throw Error(r(479))}else c=Th(o,v,S,2),c!==null&&Xe(c,o,2)}function Hu(o){var c=o.alternate;return o===zt||c!==null&&c===zt}function Rm(o,c){Uu=zh=!0;var v=o.pending;v===null?c.next=c:(c.next=v.next,v.next=c),o.pending=c}function Tm(o,c,v){if((v&4194048)!==0){var S=c.lanes;S&=o.pendingLanes,v|=S,c.lanes=v,kn(o,v)}}var vr={readContext:gr,use:Cf,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useInsertionEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useSyncExternalStore:Wn,useId:Wn,useHostTransitionStatus:Wn,useFormState:Wn,useActionState:Wn,useOptimistic:Wn,useMemoCache:Wn,useCacheRefresh:Wn},Ke={readContext:gr,use:Cf,useCallback:function(o,c){return qr().memoizedState=[o,c===void 0?null:c],o},useContext:gr,useEffect:bm,useImperativeHandle:function(o,c,v){v=v!=null?v.concat([o]):null,An(4194308,4,yr.bind(null,c,o),v)},useLayoutEffect:function(o,c){return An(4194308,4,o,c)},useInsertionEffect:function(o,c){An(4,2,o,c)},useMemo:function(o,c){var v=qr();c=c===void 0?null:c;var S=o();if($a){tt(!0);try{o()}finally{tt(!1)}}return v.memoizedState=[S,c],S},useReducer:function(o,c,v){var S=qr();if(v!==void 0){var R=v(c);if($a){tt(!0);try{v(c)}finally{tt(!1)}}}else R=c;return S.memoizedState=S.baseState=R,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:R},S.queue=o,o=o.dispatch=Ki.bind(null,zt,o),[S.memoizedState,o]},useRef:function(o){var c=qr();return o={current:o},c.memoizedState=o},useState:function(o){o=vm(o);var c=o.queue,v=fo.bind(null,zt,c);return c.dispatch=v,[o.memoizedState,v]},useDebugValue:Wh,useDeferredValue:function(o,c){var v=qr();return Xr(v,o,c)},useTransition:function(){var o=vm(!1);return o=Tf.bind(null,zt,o.queue,!0,!1),qr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,v){var S=zt,R=qr();if(Qt){if(v===void 0)throw Error(r(407));v=v()}else{if(v=c(),Rn===null)throw Error(r(349));(Kt&124)!==0||Ft(S,c,v)}R.memoizedState=v;var P={value:v,getSnapshot:c};return R.queue=P,bm(t1.bind(null,S,P,o),[o]),S.flags|=2048,Yo(9,qo(),wf.bind(null,S,P,v,c),null),v},useId:function(){var o=qr(),c=Rn.identifierPrefix;if(Qt){var v=Ht,S=co;v=(S&~(1<<32-ft(S)-1)).toString(32)+v,c=""+c+"R"+v,v=$o++,0<v&&(c+="H"+v.toString(32)),c+=""}else v=QS++,c=""+c+"r"+v.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:$s,useFormState:Hh,useActionState:Hh,useOptimistic:function(o){var c=qr();c.memoizedState=c.baseState=o;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=v,c=Yh.bind(null,zt,!0,v),v.dispatch=c,[o,c]},useMemoCache:Ha,useCacheRefresh:function(){return qr().memoizedState=Kv.bind(null,zt)}},gn={readContext:gr,use:Cf,useCallback:Em,useContext:gr,useEffect:$u,useImperativeHandle:Sm,useInsertionEffect:di,useLayoutEffect:Ut,useMemo:Gs,useReducer:Uh,useRef:mr,useState:function(){return Uh(Ho)},useDebugValue:Wh,useDeferredValue:function(o,c){var v=Qn();return qt(v,pn.memoizedState,o,c)},useTransition:function(){var o=Uh(Ho)[0],c=Qn().memoizedState;return[typeof o=="boolean"?o:Af(o),c]},useSyncExternalStore:ym,useId:wm,useHostTransitionStatus:$s,useFormState:Wa,useActionState:Wa,useOptimistic:function(o,c){var v=Qn();return ge(v,pn,o,c)},useMemoCache:Ha,useCacheRefresh:qv},Dn={readContext:gr,use:Cf,useCallback:Em,useContext:gr,useEffect:$u,useImperativeHandle:Sm,useInsertionEffect:di,useLayoutEffect:Ut,useMemo:Gs,useReducer:mm,useRef:mr,useState:function(){return mm(Ho)},useDebugValue:Wh,useDeferredValue:function(o,c){var v=Qn();return pn===null?Xr(v,o,c):qt(v,pn.memoizedState,o,c)},useTransition:function(){var o=mm(Ho)[0],c=Qn().memoizedState;return[typeof o=="boolean"?o:Af(o),c]},useSyncExternalStore:ym,useId:wm,useHostTransitionStatus:$s,useFormState:Wo,useActionState:Wo,useOptimistic:function(o,c){var v=Qn();return pn!==null?ge(v,pn,o,c):(v.baseState=o,[o,v.queue.dispatch])},useMemoCache:Ha,useCacheRefresh:qv},Ko=null,Xo=0;function nr(o){var c=Xo;return Xo+=1,Ko===null&&(Ko=[]),zv(Ko,o,c)}function Ti(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function hi(o,c){throw c.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Hs(o){var c=o._init;return c(o._payload)}function Ni(o){function c(Ee,ve){if(o){var Te=Ee.deletions;Te===null?(Ee.deletions=[ve],Ee.flags|=16):Te.push(ve)}}function v(Ee,ve){if(!o)return null;for(;ve!==null;)c(Ee,ve),ve=ve.sibling;return null}function S(Ee){for(var ve=new Map;Ee!==null;)Ee.key!==null?ve.set(Ee.key,Ee):ve.set(Ee.index,Ee),Ee=Ee.sibling;return ve}function R(Ee,ve){return Ee=Ri(Ee,ve),Ee.index=0,Ee.sibling=null,Ee}function P(Ee,ve,Te){return Ee.index=Te,o?(Te=Ee.alternate,Te!==null?(Te=Te.index,Te<ve?(Ee.flags|=67108866,ve):Te):(Ee.flags|=67108866,ve)):(Ee.flags|=1048576,ve)}function $(Ee){return o&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function Q(Ee,ve,Te,Ue){return ve===null||ve.tag!==6?(ve=Kg(Te,Ee.mode,Ue),ve.return=Ee,ve):(ve=R(ve,Te),ve.return=Ee,ve)}function ce(Ee,ve,Te,Ue){var at=Te.type;return at===A?ze(Ee,ve,Te.props.children,Ue,Te.key):ve!==null&&(ve.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===B&&Hs(at)===ve.type)?(ve=R(ve,Te.props),Ti(ve,Te),ve.return=Ee,ve):(ve=_h(Te.type,Te.key,Te.props,null,Ee.mode,Ue),Ti(ve,Te),ve.return=Ee,ve)}function _e(Ee,ve,Te,Ue){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Te.containerInfo||ve.stateNode.implementation!==Te.implementation?(ve=Xg(Te,Ee.mode,Ue),ve.return=Ee,ve):(ve=R(ve,Te.children||[]),ve.return=Ee,ve)}function ze(Ee,ve,Te,Ue,at){return ve===null||ve.tag!==7?(ve=Ms(Te,Ee.mode,Ue,at),ve.return=Ee,ve):(ve=R(ve,Te),ve.return=Ee,ve)}function $e(Ee,ve,Te){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=Kg(""+ve,Ee.mode,Te),ve.return=Ee,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case x:return Te=_h(ve.type,ve.key,ve.props,null,Ee.mode,Te),Ti(Te,ve),Te.return=Ee,Te;case b:return ve=Xg(ve,Ee.mode,Te),ve.return=Ee,ve;case B:var Ue=ve._init;return ve=Ue(ve._payload),$e(Ee,ve,Te)}if(Me(ve)||se(ve))return ve=Ms(ve,Ee.mode,Te,null),ve.return=Ee,ve;if(typeof ve.then=="function")return $e(Ee,nr(ve),Te);if(ve.$$typeof===I)return $e(Ee,Pu(Ee,ve),Te);hi(Ee,ve)}return null}function De(Ee,ve,Te,Ue){var at=ve!==null?ve.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return at!==null?null:Q(Ee,ve,""+Te,Ue);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:return Te.key===at?ce(Ee,ve,Te,Ue):null;case b:return Te.key===at?_e(Ee,ve,Te,Ue):null;case B:return at=Te._init,Te=at(Te._payload),De(Ee,ve,Te,Ue)}if(Me(Te)||se(Te))return at!==null?null:ze(Ee,ve,Te,Ue,null);if(typeof Te.then=="function")return De(Ee,ve,nr(Te),Ue);if(Te.$$typeof===I)return De(Ee,ve,Pu(Ee,Te),Ue);hi(Ee,Te)}return null}function Pe(Ee,ve,Te,Ue,at){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ee=Ee.get(Te)||null,Q(ve,Ee,""+Ue,at);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case x:return Ee=Ee.get(Ue.key===null?Te:Ue.key)||null,ce(ve,Ee,Ue,at);case b:return Ee=Ee.get(Ue.key===null?Te:Ue.key)||null,_e(ve,Ee,Ue,at);case B:var Yt=Ue._init;return Ue=Yt(Ue._payload),Pe(Ee,ve,Te,Ue,at)}if(Me(Ue)||se(Ue))return Ee=Ee.get(Te)||null,ze(ve,Ee,Ue,at,null);if(typeof Ue.then=="function")return Pe(Ee,ve,Te,nr(Ue),at);if(Ue.$$typeof===I)return Pe(Ee,ve,Te,Pu(ve,Ue),at);hi(ve,Ue)}return null}function _t(Ee,ve,Te,Ue){for(var at=null,Yt=null,vt=ve,wt=ve=0,Or=null;vt!==null&&wt<Te.length;wt++){vt.index>wt?(Or=vt,vt=null):Or=vt.sibling;var sn=De(Ee,vt,Te[wt],Ue);if(sn===null){vt===null&&(vt=Or);break}o&&vt&&sn.alternate===null&&c(Ee,vt),ve=P(sn,ve,wt),Yt===null?at=sn:Yt.sibling=sn,Yt=sn,vt=Or}if(wt===Te.length)return v(Ee,vt),Qt&&Va(Ee,wt),at;if(vt===null){for(;wt<Te.length;wt++)vt=$e(Ee,Te[wt],Ue),vt!==null&&(ve=P(vt,ve,wt),Yt===null?at=vt:Yt.sibling=vt,Yt=vt);return Qt&&Va(Ee,wt),at}for(vt=S(vt);wt<Te.length;wt++)Or=Pe(vt,Ee,wt,Te[wt],Ue),Or!==null&&(o&&Or.alternate!==null&&vt.delete(Or.key===null?wt:Or.key),ve=P(Or,ve,wt),Yt===null?at=Or:Yt.sibling=Or,Yt=Or);return o&&vt.forEach(function(gc){return c(Ee,gc)}),Qt&&Va(Ee,wt),at}function Ct(Ee,ve,Te,Ue){if(Te==null)throw Error(r(151));for(var at=null,Yt=null,vt=ve,wt=ve=0,Or=null,sn=Te.next();vt!==null&&!sn.done;wt++,sn=Te.next()){vt.index>wt?(Or=vt,vt=null):Or=vt.sibling;var gc=De(Ee,vt,sn.value,Ue);if(gc===null){vt===null&&(vt=Or);break}o&&vt&&gc.alternate===null&&c(Ee,vt),ve=P(gc,ve,wt),Yt===null?at=gc:Yt.sibling=gc,Yt=gc,vt=Or}if(sn.done)return v(Ee,vt),Qt&&Va(Ee,wt),at;if(vt===null){for(;!sn.done;wt++,sn=Te.next())sn=$e(Ee,sn.value,Ue),sn!==null&&(ve=P(sn,ve,wt),Yt===null?at=sn:Yt.sibling=sn,Yt=sn);return Qt&&Va(Ee,wt),at}for(vt=S(vt);!sn.done;wt++,sn=Te.next())sn=Pe(vt,Ee,wt,sn.value,Ue),sn!==null&&(o&&sn.alternate!==null&&vt.delete(sn.key===null?wt:sn.key),ve=P(sn,ve,wt),Yt===null?at=sn:Yt.sibling=sn,Yt=sn);return o&&vt.forEach(function(KF){return c(Ee,KF)}),Qt&&Va(Ee,wt),at}function Tn(Ee,ve,Te,Ue){if(typeof Te=="object"&&Te!==null&&Te.type===A&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:e:{for(var at=Te.key;ve!==null;){if(ve.key===at){if(at=Te.type,at===A){if(ve.tag===7){v(Ee,ve.sibling),Ue=R(ve,Te.props.children),Ue.return=Ee,Ee=Ue;break e}}else if(ve.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===B&&Hs(at)===ve.type){v(Ee,ve.sibling),Ue=R(ve,Te.props),Ti(Ue,Te),Ue.return=Ee,Ee=Ue;break e}v(Ee,ve);break}else c(Ee,ve);ve=ve.sibling}Te.type===A?(Ue=Ms(Te.props.children,Ee.mode,Ue,Te.key),Ue.return=Ee,Ee=Ue):(Ue=_h(Te.type,Te.key,Te.props,null,Ee.mode,Ue),Ti(Ue,Te),Ue.return=Ee,Ee=Ue)}return $(Ee);case b:e:{for(at=Te.key;ve!==null;){if(ve.key===at)if(ve.tag===4&&ve.stateNode.containerInfo===Te.containerInfo&&ve.stateNode.implementation===Te.implementation){v(Ee,ve.sibling),Ue=R(ve,Te.children||[]),Ue.return=Ee,Ee=Ue;break e}else{v(Ee,ve);break}else c(Ee,ve);ve=ve.sibling}Ue=Xg(Te,Ee.mode,Ue),Ue.return=Ee,Ee=Ue}return $(Ee);case B:return at=Te._init,Te=at(Te._payload),Tn(Ee,ve,Te,Ue)}if(Me(Te))return _t(Ee,ve,Te,Ue);if(se(Te)){if(at=se(Te),typeof at!="function")throw Error(r(150));return Te=at.call(Te),Ct(Ee,ve,Te,Ue)}if(typeof Te.then=="function")return Tn(Ee,ve,nr(Te),Ue);if(Te.$$typeof===I)return Tn(Ee,ve,Pu(Ee,Te),Ue);hi(Ee,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ve!==null&&ve.tag===6?(v(Ee,ve.sibling),Ue=R(ve,Te),Ue.return=Ee,Ee=Ue):(v(Ee,ve),Ue=Kg(Te,Ee.mode,Ue),Ue.return=Ee,Ee=Ue),$(Ee)):v(Ee,ve)}return function(Ee,ve,Te,Ue){try{Xo=0;var at=Tn(Ee,ve,Te,Ue);return Ko=null,at}catch(vt){if(vt===Bu||vt===bf)throw vt;var Yt=Tr(29,vt,null,Ee.mode);return Yt.lanes=Ue,Yt.return=Ee,Yt}finally{}}}var Wu=Ni(!0),Xv=Ni(!1),_i=ne(null),Xi=null;function Ws(o){var c=o.alternate;j(mn,mn.current&1),j(_i,o),Xi===null&&(c===null||Vs.current!==null||c.memoizedState!==null)&&(Xi=o)}function Nm(o){if(o.tag===22){if(j(mn,mn.current),j(_i,o),Xi===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Xi=o)}}else Nn()}function Nn(){j(mn,mn.current),j(_i,_i.current)}function Lr(o){me(_i),Xi===o&&(Xi=null),me(mn)}var mn=ne(0);function qh(o){for(var c=o;c!==null;){if(c.tag===13){var v=c.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||Ap(v)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function rr(o,c,v,S){c=o.memoizedState,v=v(S,c),v=v==null?c:p({},c,v),o.memoizedState=v,o.lanes===0&&(o.updateQueue.baseState=v)}var po={enqueueSetState:function(o,c,v){o=o._reactInternals;var S=sr(),R=Yr(S);R.payload=c,v!=null&&(R.callback=v),c=zs(o,R,S),c!==null&&(Xe(c,o,S),zu(c,o,S))},enqueueReplaceState:function(o,c,v){o=o._reactInternals;var S=sr(),R=Yr(S);R.tag=1,R.payload=c,v!=null&&(R.callback=v),c=zs(o,R,S),c!==null&&(Xe(c,o,S),zu(c,o,S))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var v=sr(),S=Yr(v);S.tag=2,c!=null&&(S.callback=c),c=zs(o,S,v),c!==null&&(Xe(c,o,v),zu(c,o,v))}};function Ya(o,c,v,S,R,P,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(S,P,$):c.prototype&&c.prototype.isPureReactComponent?!cf(v,S)||!cf(R,P):!0}function Zo(o,c,v,S){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(v,S),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(v,S),c.state!==o&&po.enqueueReplaceState(c,c.state,null)}function Fr(o,c){var v=c;if("ref"in c){v={};for(var S in c)S!=="ref"&&(v[S]=c[S])}if(o=o.defaultProps){v===c&&(v=p({},v));for(var R in o)v[R]===void 0&&(v[R]=o[R])}return v}var Jr=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function _m(o){Jr(o)}function qa(o){console.error(o)}function go(o){Jr(o)}function Ys(o,c){try{var v=o.onUncaughtError;v(c.value,{componentStack:c.stack})}catch(S){setTimeout(function(){throw S})}}function kr(o,c,v){try{var S=o.onCaughtError;S(v.value,{componentStack:v.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function mo(o,c,v){return v=Yr(v),v.tag=3,v.payload={element:null},v.callback=function(){Ys(o,c)},v}function Yu(o){return o=Yr(o),o.tag=3,o}function Zv(o,c,v,S){var R=v.type.getDerivedStateFromError;if(typeof R=="function"){var P=S.value;o.payload=function(){return R(P)},o.callback=function(){kr(c,v,S)}}var $=v.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(o.callback=function(){kr(c,v,S),typeof R!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var Q=S.stack;this.componentDidCatch(S.value,{componentStack:Q!==null?Q:""})})}function r1(o,c,v,S,R){if(v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(c=v.alternate,c!==null&&yf(c,v,R,!0),v=_i.current,v!==null){switch(v.tag){case 13:return Xi===null?Jt():v.alternate===null&&Pn===0&&(Pn=3),v.flags&=-257,v.flags|=65536,v.lanes=R,S===Fh?v.flags|=16384:(c=v.updateQueue,c===null?v.updateQueue=new Set([S]):c.add(S),Xm(o,S,R)),!1;case 22:return v.flags|=65536,S===Fh?v.flags|=16384:(c=v.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([S])},v.updateQueue=c):(v=c.retryQueue,v===null?c.retryQueue=new Set([S]):v.add(S)),Xm(o,S,R)),!1}throw Error(r(435,v.tag))}return Xm(o,S,R),Jt(),!1}if(Qt)return c=_i.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=R,S!==Jg&&(o=Error(r(422),{cause:S}),mf(wi(o,v)))):(S!==Jg&&(c=Error(r(423),{cause:S}),mf(wi(c,v))),o=o.current.alternate,o.flags|=65536,R&=-R,o.lanes|=R,S=wi(S,v),R=mo(o.stateNode,S,R),am(o,R),Pn!==4&&(Pn=2)),!1;var P=Error(r(520),{cause:S});if(P=wi(P,v),tc===null?tc=[P]:tc.push(P),Pn!==4&&(Pn=2),c===null)return!0;S=wi(S,v),v=c;do{switch(v.tag){case 3:return v.flags|=65536,o=R&-R,v.lanes|=o,o=mo(v.stateNode,S,o),am(v,o),!1;case 1:if(c=v.type,P=v.stateNode,(v.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(eo===null||!eo.has(P))))return v.flags|=65536,R&=-R,v.lanes|=R,R=Yu(R),Zv(R,o,v,S),am(v,R),!1}v=v.return}while(v!==null);return!1}var Zi=Error(r(461)),Vn=!1;function xr(o,c,v,S){c.child=o===null?Xv(c,null,v,S):Wu(c,o.child,v,S)}function Jv(o,c,v,S,R){v=v.render;var P=c.ref;if("ref"in S){var $={};for(var Q in S)Q!=="ref"&&($[Q]=S[Q])}else $=S;return Bs(c),S=fm(o,c,v,$,P,R),Q=Vh(),o!==null&&!Vn?(dm(o,c,R),Jo(o,c,R)):(Qt&&Q&&Zg(c),c.flags|=1,xr(o,c,S,R),c.child)}function Un(o,c,v,S,R){if(o===null){var P=v.type;return typeof P=="function"&&!hf(P)&&P.defaultProps===void 0&&v.compare===null?(c.tag=15,c.type=P,Im(o,c,P,S,R)):(o=_h(v.type,null,S,c,c.mode,R),o.ref=c.ref,o.return=c,c.child=o)}if(P=o.child,!qs(o,R)){var $=P.memoizedProps;if(v=v.compare,v=v!==null?v:cf,v($,S)&&o.ref===c.ref)return Jo(o,c,R)}return c.flags|=1,o=Ri(P,S),o.ref=c.ref,o.return=c,c.child=o}function Im(o,c,v,S,R){if(o!==null){var P=o.memoizedProps;if(cf(P,S)&&o.ref===c.ref)if(Vn=!1,c.pendingProps=S=P,qs(o,R))(o.flags&131072)!==0&&(Vn=!0);else return c.lanes=o.lanes,Jo(o,c,R)}return Kh(o,c,v,S,R)}function Om(o,c,v){var S=c.pendingProps,R=S.children,P=o!==null?o.memoizedState:null;if(S.mode==="hidden"){if((c.flags&128)!==0){if(S=P!==null?P.baseLanes|v:v,o!==null){for(R=c.child=o.child,P=0;R!==null;)P=P|R.lanes|R.childLanes,R=R.sibling;c.childLanes=P&~S}else c.childLanes=0,c.child=null;return Nf(o,c,S,v)}if((v&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&xf(c,P!==null?P.cachePool:null),P!==null?Gv(c,P):lm(),Nm(c);else return c.lanes=c.childLanes=536870912,Nf(o,c,P!==null?P.baseLanes|v:v,v)}else P!==null?(xf(c,P.cachePool),Gv(c,P),Nn(),c.memoizedState=null):(o!==null&&xf(c,null),lm(),Nn());return xr(o,c,R,v),c.child}function Nf(o,c,v,S){var R=Lh();return R=R===null?null:{parent:Zn._currentValue,pool:R},c.memoizedState={baseLanes:v,cachePool:R},o!==null&&xf(c,null),lm(),Nm(c),o!==null&&yf(o,c,S,!0),null}function qu(o,c){var v=c.ref;if(v===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(r(284));(o===null||o.ref!==v)&&(c.flags|=4194816)}}function Kh(o,c,v,S,R){return Bs(c),v=fm(o,c,v,S,void 0,R),S=Vh(),o!==null&&!Vn?(dm(o,c,R),Jo(o,c,R)):(Qt&&S&&Zg(c),c.flags|=1,xr(o,c,v,R),c.child)}function Qv(o,c,v,S,R,P){return Bs(c),c.updateQueue=null,v=Hv(c,S,v,R),$v(o),S=Vh(),o!==null&&!Vn?(dm(o,c,P),Jo(o,c,P)):(Qt&&S&&Zg(c),c.flags|=1,xr(o,c,v,P),c.child)}function ex(o,c,v,S,R){if(Bs(c),c.stateNode===null){var P=_u,$=v.contextType;typeof $=="object"&&$!==null&&(P=gr($)),P=new v(S,P),c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=po,c.stateNode=P,P._reactInternals=c,P=c.stateNode,P.props=S,P.state=c.memoizedState,P.refs={},sm(c),$=v.contextType,P.context=typeof $=="object"&&$!==null?gr($):_u,P.state=c.memoizedState,$=v.getDerivedStateFromProps,typeof $=="function"&&(rr(c,v,$,S),P.state=c.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||($=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),$!==P.state&&po.enqueueReplaceState(P,P.state,null),Ef(c,S,P,R),Sf(),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308),S=!0}else if(o===null){P=c.stateNode;var Q=c.memoizedProps,ce=Fr(v,Q);P.props=ce;var _e=P.context,ze=v.contextType;$=_u,typeof ze=="object"&&ze!==null&&($=gr(ze));var $e=v.getDerivedStateFromProps;ze=typeof $e=="function"||typeof P.getSnapshotBeforeUpdate=="function",Q=c.pendingProps!==Q,ze||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Q||_e!==$)&&Zo(c,P,S,$),Go=!1;var De=c.memoizedState;P.state=De,Ef(c,S,P,R),Sf(),_e=c.memoizedState,Q||De!==_e||Go?(typeof $e=="function"&&(rr(c,v,$e,S),_e=c.memoizedState),(ce=Go||Ya(c,v,ce,S,De,_e,$))?(ze||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(c.flags|=4194308)):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=S,c.memoizedState=_e),P.props=S,P.state=_e,P.context=$,S=ce):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),S=!1)}else{P=c.stateNode,Bh(o,c),$=c.memoizedProps,ze=Fr(v,$),P.props=ze,$e=c.pendingProps,De=P.context,_e=v.contextType,ce=_u,typeof _e=="object"&&_e!==null&&(ce=gr(_e)),Q=v.getDerivedStateFromProps,(_e=typeof Q=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==$e||De!==ce)&&Zo(c,P,S,ce),Go=!1,De=c.memoizedState,P.state=De,Ef(c,S,P,R),Sf();var Pe=c.memoizedState;$!==$e||De!==Pe||Go||o!==null&&o.dependencies!==null&&Mh(o.dependencies)?(typeof Q=="function"&&(rr(c,v,Q,S),Pe=c.memoizedState),(ze=Go||Ya(c,v,ze,S,De,Pe,ce)||o!==null&&o.dependencies!==null&&Mh(o.dependencies))?(_e||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(S,Pe,ce),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(S,Pe,ce)),typeof P.componentDidUpdate=="function"&&(c.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof P.componentDidUpdate!="function"||$===o.memoizedProps&&De===o.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&De===o.memoizedState||(c.flags|=1024),c.memoizedProps=S,c.memoizedState=Pe),P.props=S,P.state=Pe,P.context=ce,S=ze):(typeof P.componentDidUpdate!="function"||$===o.memoizedProps&&De===o.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&De===o.memoizedState||(c.flags|=1024),S=!1)}return P=S,qu(o,c),S=(c.flags&128)!==0,P||S?(P=c.stateNode,v=S&&typeof v.getDerivedStateFromError!="function"?null:P.render(),c.flags|=1,o!==null&&S?(c.child=Wu(c,o.child,null,R),c.child=Wu(c,null,v,R)):xr(o,c,v,R),c.memoizedState=P.state,o=c.child):o=Jo(o,c,R),o}function Ii(o,c,v,S){return Du(),c.flags|=256,xr(o,c,v,S),c.child}var ir={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Br(o){return{baseLanes:o,cachePool:Bv()}}function _f(o,c,v){return o=o!==null?o.childLanes&~v:0,c&&(o|=Di),o}function Xh(o,c,v){var S=c.pendingProps,R=!1,P=(c.flags&128)!==0,$;if(($=P)||($=o!==null&&o.memoizedState===null?!1:(mn.current&2)!==0),$&&(R=!0,c.flags&=-129),$=(c.flags&32)!==0,c.flags&=-33,o===null){if(Qt){if(R?Ws(c):Nn(),Qt){var Q=zn,ce;if(ce=Q){e:{for(ce=Q,Q=$i;ce.nodeType!==8;){if(!Q){Q=null;break e}if(ce=ti(ce.nextSibling),ce===null){Q=null;break e}}Q=ce}Q!==null?(c.memoizedState={dehydrated:Q,treeContext:Ls!==null?{id:co,overflow:Ht}:null,retryLane:536870912,hydrationErrors:null},ce=Tr(18,null,null,0),ce.stateNode=Q,ce.return=c,c.child=ce,Pr=c,zn=null,ce=!0):ce=!1}ce||Hi(c)}if(Q=c.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Ap(Q)?c.lanes=32:c.lanes=536870912,null;Lr(c)}return Q=S.children,S=S.fallback,R?(Nn(),R=c.mode,Q=_r({mode:"hidden",children:Q},R),S=Ms(S,R,v,null),Q.return=c,S.return=c,Q.sibling=S,c.child=Q,R=c.child,R.memoizedState=Br(v),R.childLanes=_f(o,$,v),c.memoizedState=ir,S):(Ws(c),Zh(c,Q))}if(ce=o.memoizedState,ce!==null&&(Q=ce.dehydrated,Q!==null)){if(P)c.flags&256?(Ws(c),c.flags&=-257,c=Ka(o,c,v)):c.memoizedState!==null?(Nn(),c.child=o.child,c.flags|=128,c=null):(Nn(),R=S.fallback,Q=c.mode,S=_r({mode:"visible",children:S.children},Q),R=Ms(R,Q,v,null),R.flags|=2,S.return=c,R.return=c,S.sibling=R,c.child=S,Wu(c,o.child,null,v),S=c.child,S.memoizedState=Br(v),S.childLanes=_f(o,$,v),c.memoizedState=ir,c=R);else if(Ws(c),Ap(Q)){if($=Q.nextSibling&&Q.nextSibling.dataset,$)var _e=$.dgst;$=_e,S=Error(r(419)),S.stack="",S.digest=$,mf({value:S,source:null,stack:null}),c=Ka(o,c,v)}else if(Vn||yf(o,c,v,!1),$=(v&o.childLanes)!==0,Vn||$){if($=Rn,$!==null&&(S=v&-v,S=(S&42)!==0?1:Hn(S),S=(S&($.suspendedLanes|v))!==0?0:S,S!==0&&S!==ce.retryLane))throw ce.retryLane=S,Nu(o,S),Xe($,o,S),Zi;Q.data==="$?"||Jt(),c=Ka(o,c,v)}else Q.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=ce.treeContext,zn=ti(Q.nextSibling),Pr=c,Qt=!0,Fs=null,$i=!1,o!==null&&(fi[Wr++]=co,fi[Wr++]=Ht,fi[Wr++]=Ls,co=o.id,Ht=o.overflow,Ls=c),c=Zh(c,S.children),c.flags|=4096);return c}return R?(Nn(),R=S.fallback,Q=c.mode,ce=o.child,_e=ce.sibling,S=Ri(ce,{mode:"hidden",children:S.children}),S.subtreeFlags=ce.subtreeFlags&65011712,_e!==null?R=Ri(_e,R):(R=Ms(R,Q,v,null),R.flags|=2),R.return=c,S.return=c,S.sibling=R,c.child=S,S=R,R=c.child,Q=o.child.memoizedState,Q===null?Q=Br(v):(ce=Q.cachePool,ce!==null?(_e=Zn._currentValue,ce=ce.parent!==_e?{parent:_e,pool:_e}:ce):ce=Bv(),Q={baseLanes:Q.baseLanes|v,cachePool:ce}),R.memoizedState=Q,R.childLanes=_f(o,$,v),c.memoizedState=ir,S):(Ws(c),v=o.child,o=v.sibling,v=Ri(v,{mode:"visible",children:S.children}),v.return=c,v.sibling=null,o!==null&&($=c.deletions,$===null?(c.deletions=[o],c.flags|=16):$.push(o)),c.child=v,c.memoizedState=null,v)}function Zh(o,c){return c=_r({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function _r(o,c){return o=Tr(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Ka(o,c,v){return Wu(c,o.child,null,v),o=Zh(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Xa(o,c,v){o.lanes|=c;var S=o.alternate;S!==null&&(S.lanes|=c),em(o.return,c,v)}function Jh(o,c,v,S,R){var P=o.memoizedState;P===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:R}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=S,P.tail=v,P.tailMode=R)}function Oi(o,c,v){var S=c.pendingProps,R=S.revealOrder,P=S.tail;if(xr(o,c,S.children,v),S=mn.current,(S&2)!==0)S=S&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Xa(o,v,c);else if(o.tag===19)Xa(o,v,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}S&=1}switch(j(mn,S),R){case"forwards":for(v=c.child,R=null;v!==null;)o=v.alternate,o!==null&&qh(o)===null&&(R=v),v=v.sibling;v=R,v===null?(R=c.child,c.child=null):(R=v.sibling,v.sibling=null),Jh(c,!1,R,v,P);break;case"backwards":for(v=null,R=c.child,c.child=null;R!==null;){if(o=R.alternate,o!==null&&qh(o)===null){c.child=R;break}o=R.sibling,R.sibling=v,v=R,R=o}Jh(c,!0,v,null,P);break;case"together":Jh(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Jo(o,c,v){if(o!==null&&(c.dependencies=o.dependencies),Eo|=c.lanes,(v&c.childLanes)===0)if(o!==null){if(yf(o,c,v,!1),(v&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,v=Ri(o,o.pendingProps),c.child=v,v.return=c;o.sibling!==null;)o=o.sibling,v=v.sibling=Ri(o,o.pendingProps),v.return=c;v.sibling=null}return c.child}function qs(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Mh(o)))}function Qh(o,c,v){switch(c.tag){case 3:X(c,c.stateNode.containerInfo),ks(c,Zn,o.memoizedState.cache),Du();break;case 27:case 5:le(c);break;case 4:X(c,c.stateNode.containerInfo);break;case 10:ks(c,c.type,c.memoizedProps.value);break;case 13:var S=c.memoizedState;if(S!==null)return S.dehydrated!==null?(Ws(c),c.flags|=128,null):(v&c.child.childLanes)!==0?Xh(o,c,v):(Ws(c),o=Jo(o,c,v),o!==null?o.sibling:null);Ws(c);break;case 19:var R=(o.flags&128)!==0;if(S=(v&c.childLanes)!==0,S||(yf(o,c,v,!1),S=(v&c.childLanes)!==0),R){if(S)return Oi(o,c,v);c.flags|=128}if(R=c.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),j(mn,mn.current),S)break;return null;case 22:case 23:return c.lanes=0,Om(o,c,v);case 24:ks(c,Zn,o.memoizedState.cache)}return Jo(o,c,v)}function Za(o,c,v){if(o!==null)if(o.memoizedProps!==c.pendingProps)Vn=!0;else{if(!qs(o,v)&&(c.flags&128)===0)return Vn=!1,Qh(o,c,v);Vn=(o.flags&131072)!==0}else Vn=!1,Qt&&(c.flags&1048576)!==0&&Mv(c,Oh,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var S=c.elementType,R=S._init;if(S=R(S._payload),c.type=S,typeof S=="function")hf(S)?(o=Fr(S,o),c.tag=1,c=ex(null,c,S,o,v)):(c.tag=0,c=Kh(null,c,S,o,v));else{if(S!=null){if(R=S.$$typeof,R===D){c.tag=11,c=Jv(null,c,S,o,v);break e}else if(R===U){c.tag=14,c=Un(null,c,S,o,v);break e}}throw c=je(S)||S,Error(r(306,c,""))}}return c;case 0:return Kh(o,c,c.type,c.pendingProps,v);case 1:return S=c.type,R=Fr(S,c.pendingProps),ex(o,c,S,R,v);case 3:e:{if(X(c,c.stateNode.containerInfo),o===null)throw Error(r(387));S=c.pendingProps;var P=c.memoizedState;R=P.element,Bh(o,c),Ef(c,S,null,v);var $=c.memoizedState;if(S=$.cache,ks(c,Zn,S),S!==P.cache&&Ph(c,[Zn],v,!0),Sf(),S=$.element,P.isDehydrated)if(P={element:S,isDehydrated:!1,cache:$.cache},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){c=Ii(o,c,S,v);break e}else if(S!==R){R=wi(Error(r(424)),c),mf(R),c=Ii(o,c,S,v);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(zn=ti(o.firstChild),Pr=c,Qt=!0,Fs=null,$i=!0,v=Xv(c,null,S,v),c.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(Du(),S===R){c=Jo(o,c,v);break e}xr(o,c,S,v)}c=c.child}return c;case 26:return qu(o,c),o===null?(v=E(c.type,null,c.pendingProps,null))?c.memoizedState=v:Qt||(v=c.type,o=c.pendingProps,S=Sp(H.current).createElement(v),S[jn]=c,S[rn]=o,Sr(S,v,o),Xn(S),c.stateNode=S):c.memoizedState=E(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return le(c),o===null&&Qt&&(S=c.stateNode=Nx(c.type,c.pendingProps,H.current),Pr=c,$i=!0,R=zn,us(c.type)?(i0=R,zn=ti(S.firstChild)):zn=R),xr(o,c,c.pendingProps.children,v),qu(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Qt&&((R=S=zn)&&(S=S1(S,c.type,c.pendingProps,$i),S!==null?(c.stateNode=S,Pr=c,zn=ti(S.firstChild),$i=!1,R=!0):R=!1),R||Hi(c)),le(c),R=c.type,P=c.pendingProps,$=o!==null?o.memoizedProps:null,S=P.children,ac(R,P)?S=null:$!==null&&ac(R,$)&&(c.flags|=32),c.memoizedState!==null&&(R=fm(o,c,e1,null,null,v),cc._currentValue=R),qu(o,c),xr(o,c,S,v),c.child;case 6:return o===null&&Qt&&((o=v=zn)&&(v=E1(v,c.pendingProps,$i),v!==null?(c.stateNode=v,Pr=c,zn=null,o=!0):o=!1),o||Hi(c)),null;case 13:return Xh(o,c,v);case 4:return X(c,c.stateNode.containerInfo),S=c.pendingProps,o===null?c.child=Wu(c,null,S,v):xr(o,c,S,v),c.child;case 11:return Jv(o,c,c.type,c.pendingProps,v);case 7:return xr(o,c,c.pendingProps,v),c.child;case 8:return xr(o,c,c.pendingProps.children,v),c.child;case 12:return xr(o,c,c.pendingProps.children,v),c.child;case 10:return S=c.pendingProps,ks(c,c.type,S.value),xr(o,c,S.children,v),c.child;case 9:return R=c.type._context,S=c.pendingProps.children,Bs(c),R=gr(R),S=S(R),c.flags|=1,xr(o,c,S,v),c.child;case 14:return Un(o,c,c.type,c.pendingProps,v);case 15:return Im(o,c,c.type,c.pendingProps,v);case 19:return Oi(o,c,v);case 31:return S=c.pendingProps,v=c.mode,S={mode:S.mode,children:S.children},o===null?(v=_r(S,v),v.ref=c.ref,c.child=v,v.return=c,c=v):(v=Ri(o.child,S),v.ref=c.ref,c.child=v,v.return=c,c=v),c;case 22:return Om(o,c,v);case 24:return Bs(c),S=gr(Zn),o===null?(R=Lh(),R===null&&(R=Rn,P=nm(),R.pooledCache=P,P.refCount++,P!==null&&(R.pooledCacheLanes|=v),R=P),c.memoizedState={parent:S,cache:R},sm(c),ks(c,Zn,R)):((o.lanes&v)!==0&&(Bh(o,c),Ef(c,null,null,v),Sf()),R=o.memoizedState,P=c.memoizedState,R.parent!==S?(R={parent:S,cache:S},c.memoizedState=R,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=R),ks(c,Zn,S)):(S=P.cache,ks(c,Zn,S),S!==R.cache&&Ph(c,[Zn],v,!0))),xr(o,c,c.pendingProps.children,v),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Qo(o){o.flags|=4}function Dm(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Cn(c)){if(c=_i.current,c!==null&&((Kt&4194048)===Kt?Xi!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||c!==Xi))throw ju=Fh,jv;o.flags|=8192}}function pi(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Fn():536870912,o.lanes|=c,ec|=c)}function dr(o,c){if(!Qt)switch(o.tailMode){case"hidden":c=o.tail;for(var v=null;c!==null;)c.alternate!==null&&(v=c),c=c.sibling;v===null?o.tail=null:v.sibling=null;break;case"collapsed":v=o.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:S.sibling=null}}function yn(o){var c=o.alternate!==null&&o.alternate.child===o.child,v=0,S=0;if(c)for(var R=o.child;R!==null;)v|=R.lanes|R.childLanes,S|=R.subtreeFlags&65011712,S|=R.flags&65011712,R.return=o,R=R.sibling;else for(R=o.child;R!==null;)v|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=o,R=R.sibling;return o.subtreeFlags|=S,o.childLanes=v,c}function es(o,c,v){var S=c.pendingProps;switch(Dh(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(c),null;case 1:return yn(c),null;case 3:return v=c.stateNode,S=null,o!==null&&(S=o.memoizedState.cache),c.memoizedState.cache!==S&&(c.flags|=2048),Uo(Zn),Z(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(gf(c)?Qo(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ua())),yn(c),null;case 26:return v=c.memoizedState,o===null?(Qo(c),v!==null?(yn(c),Dm(c,v)):(yn(c),c.flags&=-16777217)):v?v!==o.memoizedState?(Qo(c),yn(c),Dm(c,v)):(yn(c),c.flags&=-16777217):(o.memoizedProps!==S&&Qo(c),yn(c),c.flags&=-16777217),null;case 27:xe(c),v=H.current;var R=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==S&&Qo(c);else{if(!S){if(c.stateNode===null)throw Error(r(166));return yn(c),null}o=z.current,gf(c)?Lv(c):(o=Nx(R,S,v),c.stateNode=o,Qo(c))}return yn(c),null;case 5:if(xe(c),v=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==S&&Qo(c);else{if(!S){if(c.stateNode===null)throw Error(r(166));return yn(c),null}if(o=z.current,gf(c))Lv(c);else{switch(R=Sp(H.current),o){case 1:o=R.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:o=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":o=R.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":o=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":o=R.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof S.is=="string"?R.createElement("select",{is:S.is}):R.createElement("select"),S.multiple?o.multiple=!0:S.size&&(o.size=S.size);break;default:o=typeof S.is=="string"?R.createElement(v,{is:S.is}):R.createElement(v)}}o[jn]=c,o[rn]=S;e:for(R=c.child;R!==null;){if(R.tag===5||R.tag===6)o.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===c)break e;for(;R.sibling===null;){if(R.return===null||R.return===c)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}c.stateNode=o;e:switch(Sr(o,v,S),v){case"button":case"input":case"select":case"textarea":o=!!S.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Qo(c)}}return yn(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==S&&Qo(c);else{if(typeof S!="string"&&c.stateNode===null)throw Error(r(166));if(o=H.current,gf(c)){if(o=c.stateNode,v=c.memoizedProps,S=null,R=Pr,R!==null)switch(R.tag){case 27:case 5:S=R.memoizedProps}o[jn]=c,o=!!(o.nodeValue===v||S!==null&&S.suppressHydrationWarning===!0||Sx(o.nodeValue,v)),o||Hi(c)}else o=Sp(o).createTextNode(S),o[jn]=c,c.stateNode=o}return yn(c),null;case 13:if(S=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(R=gf(c),S!==null&&S.dehydrated!==null){if(o===null){if(!R)throw Error(r(318));if(R=c.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[jn]=c}else Du(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;yn(c),R=!1}else R=Ua(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=R),R=!0;if(!R)return c.flags&256?(Lr(c),c):(Lr(c),null)}if(Lr(c),(c.flags&128)!==0)return c.lanes=v,c;if(v=S!==null,o=o!==null&&o.memoizedState!==null,v){S=c.child,R=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(R=S.alternate.memoizedState.cachePool.pool);var P=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(P=S.memoizedState.cachePool.pool),P!==R&&(S.flags|=2048)}return v!==o&&v&&(c.child.flags|=8192),pi(c,c.updateQueue),yn(c),null;case 4:return Z(),o===null&&mp(c.stateNode.containerInfo),yn(c),null;case 10:return Uo(c.type),yn(c),null;case 19:if(me(mn),R=c.memoizedState,R===null)return yn(c),null;if(S=(c.flags&128)!==0,P=R.rendering,P===null)if(S)dr(R,!1);else{if(Pn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(P=qh(o),P!==null){for(c.flags|=128,dr(R,!1),o=P.updateQueue,c.updateQueue=o,pi(c,o),c.subtreeFlags=0,o=v,v=c.child;v!==null;)pf(v,o),v=v.sibling;return j(mn,mn.current&1|2),c.child}o=o.sibling}R.tail!==null&&Be()>op&&(c.flags|=128,S=!0,dr(R,!1),c.lanes=4194304)}else{if(!S)if(o=qh(P),o!==null){if(c.flags|=128,S=!0,o=o.updateQueue,c.updateQueue=o,pi(c,o),dr(R,!0),R.tail===null&&R.tailMode==="hidden"&&!P.alternate&&!Qt)return yn(c),null}else 2*Be()-R.renderingStartTime>op&&v!==536870912&&(c.flags|=128,S=!0,dr(R,!1),c.lanes=4194304);R.isBackwards?(P.sibling=c.child,c.child=P):(o=R.last,o!==null?o.sibling=P:c.child=P,R.last=P)}return R.tail!==null?(c=R.tail,R.rendering=c,R.tail=c.sibling,R.renderingStartTime=Be(),c.sibling=null,o=mn.current,j(mn,S?o&1|2:o&1),c):(yn(c),null);case 22:case 23:return Lr(c),um(),S=c.memoizedState!==null,o!==null?o.memoizedState!==null!==S&&(c.flags|=8192):S&&(c.flags|=8192),S?(v&536870912)!==0&&(c.flags&128)===0&&(yn(c),c.subtreeFlags&6&&(c.flags|=8192)):yn(c),v=c.updateQueue,v!==null&&pi(c,v.retryQueue),v=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(v=o.memoizedState.cachePool.pool),S=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(S=c.memoizedState.cachePool.pool),S!==v&&(c.flags|=2048),o!==null&&me(js),null;case 24:return v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Uo(Zn),yn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function ts(o,c){switch(Dh(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Uo(Zn),Z(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return xe(c),null;case 13:if(Lr(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Du()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return me(mn),null;case 4:return Z(),null;case 10:return Uo(c.type),null;case 22:case 23:return Lr(c),um(),o!==null&&me(js),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Uo(Zn),null;case 25:return null;default:return null}}function tx(o,c){switch(Dh(c),c.tag){case 3:Uo(Zn),Z();break;case 26:case 27:case 5:xe(c);break;case 4:Z();break;case 13:Lr(c);break;case 19:me(mn);break;case 10:Uo(c.type);break;case 22:case 23:Lr(c),um(),o!==null&&me(js);break;case 24:Uo(Zn)}}function If(o,c){try{var v=c.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var R=S.next;v=R;do{if((v.tag&o)===o){S=void 0;var P=v.create,$=v.inst;S=P(),$.destroy=S}v=v.next}while(v!==R)}}catch(Q){vn(c,c.return,Q)}}function Ks(o,c,v){try{var S=c.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var P=R.next;S=P;do{if((S.tag&o)===o){var $=S.inst,Q=$.destroy;if(Q!==void 0){$.destroy=void 0,R=c;var ce=v,_e=Q;try{_e()}catch(ze){vn(R,ce,ze)}}}S=S.next}while(S!==P)}}catch(ze){vn(c,c.return,ze)}}function ep(o){var c=o.updateQueue;if(c!==null){var v=o.stateNode;try{jh(c,v)}catch(S){vn(o,o.return,S)}}}function pt(o,c,v){v.props=Fr(o.type,o.memoizedProps),v.state=o.memoizedState;try{v.componentWillUnmount()}catch(S){vn(o,c,S)}}function Ja(o,c){try{var v=o.ref;if(v!==null){switch(o.tag){case 26:case 27:case 5:var S=o.stateNode;break;case 30:S=o.stateNode;break;default:S=o.stateNode}typeof v=="function"?o.refCleanup=v(S):v.current=S}}catch(R){vn(o,c,R)}}function Ji(o,c){var v=o.ref,S=o.refCleanup;if(v!==null)if(typeof S=="function")try{S()}catch(R){vn(o,c,R)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(R){vn(o,c,R)}else v.current=null}function Pm(o){var c=o.type,v=o.memoizedProps,S=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":v.autoFocus&&S.focus();break e;case"img":v.src?S.src=v.src:v.srcSet&&(S.srcset=v.srcSet)}}catch(R){vn(o,o.return,R)}}function Ku(o,c,v){try{var S=o.stateNode;v1(S,o.type,v,c),S[rn]=c}catch(R){vn(o,o.return,R)}}function nx(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&us(o.type)||o.tag===4}function Xu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||nx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&us(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Zu(o,c,v){var S=o.tag;if(S===5||S===6)o=o.stateNode,c?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(o,c):(c=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,c.appendChild(o),v=v._reactRootContainer,v!=null||c.onclick!==null||(c.onclick=il));else if(S!==4&&(S===27&&us(o.type)&&(v=o.stateNode,c=null),o=o.child,o!==null))for(Zu(o,c,v),o=o.sibling;o!==null;)Zu(o,c,v),o=o.sibling}function Xs(o,c,v){var S=o.tag;if(S===5||S===6)o=o.stateNode,c?v.insertBefore(o,c):v.appendChild(o);else if(S!==4&&(S===27&&us(o.type)&&(v=o.stateNode),o=o.child,o!==null))for(Xs(o,c,v),o=o.sibling;o!==null;)Xs(o,c,v),o=o.sibling}function tp(o){var c=o.stateNode,v=o.memoizedProps;try{for(var S=o.type,R=c.attributes;R.length;)c.removeAttributeNode(R[0]);Sr(c,S,v),c[jn]=o,c[rn]=v}catch(P){vn(o,o.return,P)}}var ns=!1,Yn=!1,Mm=!1,rx=typeof WeakSet=="function"?WeakSet:Set,hr=null;function i1(o,c){if(o=o.containerInfo,xp=Mx,o=Nv(o),$g(o)){if("selectionStart"in o)var v={start:o.selectionStart,end:o.selectionEnd};else e:{v=(v=o.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var R=S.anchorOffset,P=S.focusNode;S=S.focusOffset;try{v.nodeType,P.nodeType}catch{v=null;break e}var $=0,Q=-1,ce=-1,_e=0,ze=0,$e=o,De=null;t:for(;;){for(var Pe;$e!==v||R!==0&&$e.nodeType!==3||(Q=$+R),$e!==P||S!==0&&$e.nodeType!==3||(ce=$+S),$e.nodeType===3&&($+=$e.nodeValue.length),(Pe=$e.firstChild)!==null;)De=$e,$e=Pe;for(;;){if($e===o)break t;if(De===v&&++_e===R&&(Q=$),De===P&&++ze===S&&(ce=$),(Pe=$e.nextSibling)!==null)break;$e=De,De=$e.parentNode}$e=Pe}v=Q===-1||ce===-1?null:{start:Q,end:ce}}else v=null}v=v||{start:0,end:0}}else v=null;for(bp={focusedElem:o,selectionRange:v},Mx=!1,hr=c;hr!==null;)if(c=hr,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,hr=o;else for(;hr!==null;){switch(c=hr,P=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&P!==null){o=void 0,v=c,R=P.memoizedProps,P=P.memoizedState,S=v.stateNode;try{var _t=Fr(v.type,R,v.elementType===v.type);o=S.getSnapshotBeforeUpdate(_t,P),S.__reactInternalSnapshotBeforeUpdate=o}catch(Ct){vn(v,v.return,Ct)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,v=o.nodeType,v===9)r0(o);else if(v===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":r0(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,hr=o;break}hr=c.return}}function ix(o,c,v){var S=v.flags;switch(v.tag){case 0:case 11:case 15:vo(o,v),S&4&&If(5,v);break;case 1:if(vo(o,v),S&4)if(o=v.stateNode,c===null)try{o.componentDidMount()}catch($){vn(v,v.return,$)}else{var R=Fr(v.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(R,c,o.__reactInternalSnapshotBeforeUpdate)}catch($){vn(v,v.return,$)}}S&64&&ep(v),S&512&&Ja(v,v.return);break;case 3:if(vo(o,v),S&64&&(o=v.updateQueue,o!==null)){if(c=null,v.child!==null)switch(v.child.tag){case 27:case 5:c=v.child.stateNode;break;case 1:c=v.child.stateNode}try{jh(o,c)}catch($){vn(v,v.return,$)}}break;case 27:c===null&&S&4&&tp(v);case 26:case 5:vo(o,v),c===null&&S&4&&Pm(v),S&512&&Ja(v,v.return);break;case 12:vo(o,v);break;case 13:vo(o,v),S&4&&ax(o,v),S&64&&(o=v.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(v=f1.bind(null,v),Rx(o,v))));break;case 22:if(S=v.memoizedState!==null||ns,!S){c=c!==null&&c.memoizedState!==null||Yn,R=ns;var P=Yn;ns=S,(Yn=c)&&!P?xo(o,v,(v.subtreeFlags&8772)!==0):vo(o,v),ns=R,Yn=P}break;case 30:break;default:vo(o,v)}}function ox(o){var c=o.alternate;c!==null&&(o.alternate=null,ox(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Eg(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var wn=null,Qr=!1;function yo(o,c,v){for(v=v.child;v!==null;)sx(o,c,v),v=v.sibling}function sx(o,c,v){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ye,v)}catch{}switch(v.tag){case 26:Yn||Ji(v,c),yo(o,c,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:Yn||Ji(v,c);var S=wn,R=Qr;us(v.type)&&(wn=v.stateNode,Qr=!1),yo(o,c,v),Ff(v.stateNode),wn=S,Qr=R;break;case 5:Yn||Ji(v,c);case 6:if(S=wn,R=Qr,wn=null,yo(o,c,v),wn=S,Qr=R,wn!==null)if(Qr)try{(wn.nodeType===9?wn.body:wn.nodeName==="HTML"?wn.ownerDocument.body:wn).removeChild(v.stateNode)}catch(P){vn(v,c,P)}else try{wn.removeChild(v.stateNode)}catch(P){vn(v,c,P)}break;case 18:wn!==null&&(Qr?(o=wn,n0(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,v.stateNode),l0(o)):n0(wn,v.stateNode));break;case 4:S=wn,R=Qr,wn=v.stateNode.containerInfo,Qr=!0,yo(o,c,v),wn=S,Qr=R;break;case 0:case 11:case 14:case 15:Yn||Ks(2,v,c),Yn||Ks(4,v,c),yo(o,c,v);break;case 1:Yn||(Ji(v,c),S=v.stateNode,typeof S.componentWillUnmount=="function"&&pt(v,c,S)),yo(o,c,v);break;case 21:yo(o,c,v);break;case 22:Yn=(S=Yn)||v.memoizedState!==null,yo(o,c,v),Yn=S;break;default:yo(o,c,v)}}function ax(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{l0(o)}catch(v){vn(c,c.return,v)}}function o1(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new rx),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new rx),c;default:throw Error(r(435,o.tag))}}function np(o,c){var v=o1(o);c.forEach(function(S){var R=d1.bind(null,o,S);v.has(S)||(v.add(S),S.then(R,R))})}function jr(o,c){var v=c.deletions;if(v!==null)for(var S=0;S<v.length;S++){var R=v[S],P=o,$=c,Q=$;e:for(;Q!==null;){switch(Q.tag){case 27:if(us(Q.type)){wn=Q.stateNode,Qr=!1;break e}break;case 5:wn=Q.stateNode,Qr=!1;break e;case 3:case 4:wn=Q.stateNode.containerInfo,Qr=!0;break e}Q=Q.return}if(wn===null)throw Error(r(160));sx(P,$,R),wn=null,Qr=!1,P=R.alternate,P!==null&&(P.return=null),R.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)lx(c,o),c=c.sibling}var Qi=null;function lx(o,c){var v=o.alternate,S=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:jr(c,o),br(o),S&4&&(Ks(3,o,o.return),If(3,o),Ks(5,o,o.return));break;case 1:jr(c,o),br(o),S&512&&(Yn||v===null||Ji(v,v.return)),S&64&&ns&&(o=o.updateQueue,o!==null&&(S=o.callbacks,S!==null&&(v=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=v===null?S:v.concat(S))));break;case 26:var R=Qi;if(jr(c,o),br(o),S&512&&(Yn||v===null||Ji(v,v.return)),S&4){var P=v!==null?v.memoizedState:null;if(S=o.memoizedState,v===null)if(S===null)if(o.stateNode===null){e:{S=o.type,v=o.memoizedProps,R=R.ownerDocument||R;t:switch(S){case"title":P=R.getElementsByTagName("title")[0],(!P||P[_a]||P[jn]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=R.createElement(S),R.head.insertBefore(P,R.querySelector("head > title"))),Sr(P,S,v),P[jn]=o,Xn(P),S=P;break e;case"link":var $=it("link","href",R).get(S+(v.href||""));if($){for(var Q=0;Q<$.length;Q++)if(P=$[Q],P.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&P.getAttribute("rel")===(v.rel==null?null:v.rel)&&P.getAttribute("title")===(v.title==null?null:v.title)&&P.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){$.splice(Q,1);break t}}P=R.createElement(S),Sr(P,S,v),R.head.appendChild(P);break;case"meta":if($=it("meta","content",R).get(S+(v.content||""))){for(Q=0;Q<$.length;Q++)if(P=$[Q],P.getAttribute("content")===(v.content==null?null:""+v.content)&&P.getAttribute("name")===(v.name==null?null:v.name)&&P.getAttribute("property")===(v.property==null?null:v.property)&&P.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&P.getAttribute("charset")===(v.charSet==null?null:v.charSet)){$.splice(Q,1);break t}}P=R.createElement(S),Sr(P,S,v),R.head.appendChild(P);break;default:throw Error(r(468,S))}P[jn]=o,Xn(P),S=P}o.stateNode=S}else At(R,o.type,o.stateNode);else o.stateNode=we(R,S,o.memoizedProps);else P!==S?(P===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):P.count--,S===null?At(R,o.type,o.stateNode):we(R,S,o.memoizedProps)):S===null&&o.stateNode!==null&&Ku(o,o.memoizedProps,v.memoizedProps)}break;case 27:jr(c,o),br(o),S&512&&(Yn||v===null||Ji(v,v.return)),v!==null&&S&4&&Ku(o,o.memoizedProps,v.memoizedProps);break;case 5:if(jr(c,o),br(o),S&512&&(Yn||v===null||Ji(v,v.return)),o.flags&32){R=o.stateNode;try{Is(R,"")}catch(Pe){vn(o,o.return,Pe)}}S&4&&o.stateNode!=null&&(R=o.memoizedProps,Ku(o,R,v!==null?v.memoizedProps:R)),S&1024&&(Mm=!0);break;case 6:if(jr(c,o),br(o),S&4){if(o.stateNode===null)throw Error(r(162));S=o.memoizedProps,v=o.stateNode;try{v.nodeValue=S}catch(Pe){vn(o,o.return,Pe)}}break;case 3:if(He=null,R=Qi,Qi=lc(c.containerInfo),jr(c,o),Qi=R,br(o),S&4&&v!==null&&v.memoizedState.isDehydrated)try{l0(c.containerInfo)}catch(Pe){vn(o,o.return,Pe)}Mm&&(Mm=!1,Qa(o));break;case 4:S=Qi,Qi=lc(o.stateNode.containerInfo),jr(c,o),br(o),Qi=S;break;case 12:jr(c,o),br(o);break;case 13:jr(c,o),br(o),o.child.flags&8192&&o.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(jm=Be()),S&4&&(S=o.updateQueue,S!==null&&(o.updateQueue=null,np(o,S)));break;case 22:R=o.memoizedState!==null;var ce=v!==null&&v.memoizedState!==null,_e=ns,ze=Yn;if(ns=_e||R,Yn=ze||ce,jr(c,o),Yn=ze,ns=_e,br(o),S&8192)e:for(c=o.stateNode,c._visibility=R?c._visibility&-2:c._visibility|1,R&&(v===null||ce||ns||Yn||Zs(o)),v=null,c=o;;){if(c.tag===5||c.tag===26){if(v===null){ce=v=c;try{if(P=ce.stateNode,R)$=P.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{Q=ce.stateNode;var $e=ce.memoizedProps.style,De=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;Q.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Pe){vn(ce,ce.return,Pe)}}}else if(c.tag===6){if(v===null){ce=c;try{ce.stateNode.nodeValue=R?"":ce.memoizedProps}catch(Pe){vn(ce,ce.return,Pe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;v===c&&(v=null),c=c.return}v===c&&(v=null),c.sibling.return=c.return,c=c.sibling}S&4&&(S=o.updateQueue,S!==null&&(v=S.retryQueue,v!==null&&(S.retryQueue=null,np(o,v))));break;case 19:jr(c,o),br(o),S&4&&(S=o.updateQueue,S!==null&&(o.updateQueue=null,np(o,S)));break;case 30:break;case 21:break;default:jr(c,o),br(o)}}function br(o){var c=o.flags;if(c&2){try{for(var v,S=o.return;S!==null;){if(nx(S)){v=S;break}S=S.return}if(v==null)throw Error(r(160));switch(v.tag){case 27:var R=v.stateNode,P=Xu(o);Xs(o,P,R);break;case 5:var $=v.stateNode;v.flags&32&&(Is($,""),v.flags&=-33);var Q=Xu(o);Xs(o,Q,$);break;case 3:case 4:var ce=v.stateNode.containerInfo,_e=Xu(o);Zu(o,_e,ce);break;default:throw Error(r(161))}}catch(ze){vn(o,o.return,ze)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function Qa(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;Qa(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function vo(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)ix(o,c.alternate,c),c=c.sibling}function Zs(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ks(4,c,c.return),Zs(c);break;case 1:Ji(c,c.return);var v=c.stateNode;typeof v.componentWillUnmount=="function"&&pt(c,c.return,v),Zs(c);break;case 27:Ff(c.stateNode);case 26:case 5:Ji(c,c.return),Zs(c);break;case 22:c.memoizedState===null&&Zs(c);break;case 30:Zs(c);break;default:Zs(c)}o=o.sibling}}function xo(o,c,v){for(v=v&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var S=c.alternate,R=o,P=c,$=P.flags;switch(P.tag){case 0:case 11:case 15:xo(R,P,v),If(4,P);break;case 1:if(xo(R,P,v),S=P,R=S.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(_e){vn(S,S.return,_e)}if(S=P,R=S.updateQueue,R!==null){var Q=S.stateNode;try{var ce=R.shared.hiddenCallbacks;if(ce!==null)for(R.shared.hiddenCallbacks=null,R=0;R<ce.length;R++)Uv(ce[R],Q)}catch(_e){vn(S,S.return,_e)}}v&&$&64&&ep(P),Ja(P,P.return);break;case 27:tp(P);case 26:case 5:xo(R,P,v),v&&S===null&&$&4&&Pm(P),Ja(P,P.return);break;case 12:xo(R,P,v);break;case 13:xo(R,P,v),v&&$&4&&ax(R,P);break;case 22:P.memoizedState===null&&xo(R,P,v),Ja(P,P.return);break;case 30:break;default:xo(R,P,v)}c=c.sibling}}function gt(o,c){var v=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(v=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==v&&(o!=null&&o.refCount++,v!=null&&vf(v))}function Of(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&vf(o))}function bo(o,c,v,S){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ux(o,c,v,S),c=c.sibling}function ux(o,c,v,S){var R=c.flags;switch(c.tag){case 0:case 11:case 15:bo(o,c,v,S),R&2048&&If(9,c);break;case 1:bo(o,c,v,S);break;case 3:bo(o,c,v,S),R&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&vf(o)));break;case 12:if(R&2048){bo(o,c,v,S),o=c.stateNode;try{var P=c.memoizedProps,$=P.id,Q=P.onPostCommit;typeof Q=="function"&&Q($,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ce){vn(c,c.return,ce)}}else bo(o,c,v,S);break;case 13:bo(o,c,v,S);break;case 23:break;case 22:P=c.stateNode,$=c.alternate,c.memoizedState!==null?P._visibility&2?bo(o,c,v,S):Js(o,c):P._visibility&2?bo(o,c,v,S):(P._visibility|=2,el(o,c,v,S,(c.subtreeFlags&10256)!==0)),R&2048&&gt($,c);break;case 24:bo(o,c,v,S),R&2048&&Of(c.alternate,c);break;default:bo(o,c,v,S)}}function el(o,c,v,S,R){for(R=R&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var P=o,$=c,Q=v,ce=S,_e=$.flags;switch($.tag){case 0:case 11:case 15:el(P,$,Q,ce,R),If(8,$);break;case 23:break;case 22:var ze=$.stateNode;$.memoizedState!==null?ze._visibility&2?el(P,$,Q,ce,R):Js(P,$):(ze._visibility|=2,el(P,$,Q,ce,R)),R&&_e&2048&&gt($.alternate,$);break;case 24:el(P,$,Q,ce,R),R&&_e&2048&&Of($.alternate,$);break;default:el(P,$,Q,ce,R)}c=c.sibling}}function Js(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var v=o,S=c,R=S.flags;switch(S.tag){case 22:Js(v,S),R&2048&&gt(S.alternate,S);break;case 24:Js(v,S),R&2048&&Of(S.alternate,S);break;default:Js(v,S)}c=c.sibling}}var Qs=8192;function rs(o){if(o.subtreeFlags&Qs)for(o=o.child;o!==null;)Lm(o),o=o.sibling}function Lm(o){switch(o.tag){case 26:rs(o),o.flags&Qs&&o.memoizedState!==null&&tn(Qi,o.memoizedState,o.memoizedProps);break;case 5:rs(o);break;case 3:case 4:var c=Qi;Qi=lc(o.stateNode.containerInfo),rs(o),Qi=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Qs,Qs=16777216,rs(o),Qs=c):rs(o));break;default:rs(o)}}function cx(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function So(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var v=0;v<c.length;v++){var S=c[v];hr=S,ip(S,o)}cx(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ju(o),o=o.sibling}function Ju(o){switch(o.tag){case 0:case 11:case 15:So(o),o.flags&2048&&Ks(9,o,o.return);break;case 3:So(o);break;case 12:So(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,rp(o)):So(o);break;default:So(o)}}function rp(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var v=0;v<c.length;v++){var S=c[v];hr=S,ip(S,o)}cx(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ks(8,c,c.return),rp(c);break;case 22:v=c.stateNode,v._visibility&2&&(v._visibility&=-3,rp(c));break;default:rp(c)}o=o.sibling}}function ip(o,c){for(;hr!==null;){var v=hr;switch(v.tag){case 0:case 11:case 15:Ks(8,v,c);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var S=v.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:vf(v.memoizedState.cache)}if(S=v.child,S!==null)S.return=v,hr=S;else e:for(v=o;hr!==null;){S=hr;var R=S.sibling,P=S.return;if(ox(S),S===v){hr=null;break e}if(R!==null){R.return=P,hr=R;break e}hr=P}}}var s1={getCacheForType:function(o){var c=gr(Zn),v=c.data.get(o);return v===void 0&&(v=o(),c.data.set(o,v)),v}},a1=typeof WeakMap=="function"?WeakMap:Map,on=0,Rn=null,Gt=null,Kt=0,cn=0,ei=null,is=!1,Qu=!1,Fm=!1,os=0,Pn=0,Eo=0,tl=0,km=0,Di=0,ec=0,tc=null,zr=null,Bm=!1,jm=0,op=1/0,sp=null,eo=null,or=0,Ao=null,nc=null,ss=0,zm=0,Vm=null,fx=null,fn=0,Ir=null;function sr(){if((on&2)!==0&&Kt!==0)return Kt&-Kt;if(re.T!==null){var o=Fu;return o!==0?o:pp()}return Na()}function dx(){Di===0&&(Di=(Kt&536870912)===0||Qt?En():536870912);var o=_i.current;return o!==null&&(o.flags|=32),Di}function Xe(o,c,v){(o===Rn&&(cn===2||cn===9)||o.cancelPendingCommit!==null)&&(Co(o,0),as(o,Kt,Di,!1)),Ur(o,v),((on&2)===0||o!==Rn)&&(o===Rn&&((on&2)===0&&(tl|=v),Pn===4&&as(o,Kt,Di,!1)),gi(o))}function Um(o,c,v){if((on&6)!==0)throw Error(r(327));var S=!v&&(c&124)===0&&(c&o.expiredLanes)===0||Et(o,c),R=S?Hm(o,c):Df(o,c,!0),P=S;do{if(R===0){Qu&&!S&&as(o,c,0,!1);break}else{if(v=o.current.alternate,P&&!l1(v)){R=Df(o,c,!1),P=!1;continue}if(R===2){if(P=c,o.errorRecoveryDisabledLanes&P)var $=0;else $=o.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){c=$;e:{var Q=o;R=tc;var ce=Q.current.memoizedState.isDehydrated;if(ce&&(Co(Q,$).flags|=256),$=Df(Q,$,!1),$!==2){if(Fm&&!ce){Q.errorRecoveryDisabledLanes|=P,tl|=P,R=4;break e}P=zr,zr=R,P!==null&&(zr===null?zr=P:zr.push.apply(zr,P))}R=$}if(P=!1,R!==2)continue}}if(R===1){Co(o,0),as(o,c,0,!0);break}e:{switch(S=o,P=R,P){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:as(S,c,Di,!is);break e;case 2:zr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(R=jm+300-Be(),10<R)){if(as(S,c,Di,!is),mt(S,0,!0)!==0)break e;S.timeoutHandle=Ax(ap.bind(null,S,v,zr,sp,Bm,c,Di,tl,ec,is,P,2,-0,0),R);break e}ap(S,v,zr,sp,Bm,c,Di,tl,ec,is,P,0,-0,0)}}break}while(!0);gi(o)}function ap(o,c,v,S,R,P,$,Q,ce,_e,ze,$e,De,Pe){if(o.timeoutHandle=-1,$e=c.subtreeFlags,($e&8192||($e&16785408)===16785408)&&(Xt={stylesheets:null,count:0,unsuspend:Er},Lm(c),$e=er(),$e!==null)){o.cancelPendingCommit=$e(Ym.bind(null,o,c,P,v,S,R,$,Q,ce,ze,1,De,Pe)),as(o,P,$,!_e);return}Ym(o,c,P,v,S,R,$,Q,ce)}function l1(o){for(var c=o;;){var v=c.tag;if((v===0||v===11||v===15)&&c.flags&16384&&(v=c.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var S=0;S<v.length;S++){var R=v[S],P=R.getSnapshot;R=R.value;try{if(!Hr(P(),R))return!1}catch{return!1}}if(v=c.child,c.subtreeFlags&16384&&v!==null)v.return=c,c=v;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function as(o,c,v,S){c&=~km,c&=~tl,o.suspendedLanes|=c,o.pingedLanes&=~c,S&&(o.warmLanes|=c),S=o.expirationTimes;for(var R=c;0<R;){var P=31-ft(R),$=1<<P;S[P]=-1,R&=~$}v!==0&&dt(o,v,c)}function ea(){return(on&6)===0?(sa(0),!1):!0}function lp(){if(Gt!==null){if(cn===0)var o=Gt.return;else o=Gt,Vo=Ga=null,hm(o),Ko=null,Xo=0,o=Gt;for(;o!==null;)tx(o.alternate,o),o=o.return;Gt=null}}function Co(o,c){var v=o.timeoutHandle;v!==-1&&(o.timeoutHandle=-1,Cx(v)),v=o.cancelPendingCommit,v!==null&&(o.cancelPendingCommit=null,v()),lp(),Rn=o,Gt=v=Ri(o.current,null),Kt=c,cn=0,ei=null,is=!1,Qu=Et(o,c),Fm=!1,ec=Di=km=tl=Eo=Pn=0,zr=tc=null,Bm=!1,(c&8)!==0&&(c|=c&32);var S=o.entangledLanes;if(S!==0)for(o=o.entanglements,S&=c;0<S;){var R=31-ft(S),P=1<<R;c|=o[R],S&=~P}return os=c,Rh(),v}function hx(o,c){zt=null,re.H=vr,c===Bu||c===bf?(c=Vv(),cn=3):c===jv?(c=Vv(),cn=4):cn=c===Zi?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ei=c,Gt===null&&(Pn=1,Ys(o,wi(c,o.current)))}function Gm(){var o=re.H;return re.H=vr,o===null?vr:o}function px(){var o=re.A;return re.A=s1,o}function Jt(){Pn=4,is||(Kt&4194048)!==Kt&&_i.current!==null||(Qu=!0),(Eo&134217727)===0&&(tl&134217727)===0||Rn===null||as(Rn,Kt,Di,!1)}function Df(o,c,v){var S=on;on|=2;var R=Gm(),P=px();(Rn!==o||Kt!==c)&&(sp=null,Co(o,c)),c=!1;var $=Pn;e:do try{if(cn!==0&&Gt!==null){var Q=Gt,ce=ei;switch(cn){case 8:lp(),$=6;break e;case 3:case 2:case 9:case 6:_i.current===null&&(c=!0);var _e=cn;if(cn=0,ei=null,ta(o,Q,ce,_e),v&&Qu){$=0;break e}break;default:_e=cn,cn=0,ei=null,ta(o,Q,ce,_e)}}$m(),$=Pn;break}catch(ze){hx(o,ze)}while(!0);return c&&o.shellSuspendCounter++,Vo=Ga=null,on=S,re.H=R,re.A=P,Gt===null&&(Rn=null,Kt=0,Rh()),$}function $m(){for(;Gt!==null;)gx(Gt)}function Hm(o,c){var v=on;on|=2;var S=Gm(),R=px();Rn!==o||Kt!==c?(sp=null,op=Be()+500,Co(o,c)):Qu=Et(o,c);e:do try{if(cn!==0&&Gt!==null){c=Gt;var P=ei;t:switch(cn){case 1:cn=0,ei=null,ta(o,c,P,1);break;case 2:case 9:if(im(P)){cn=0,ei=null,mx(c);break}c=function(){cn!==2&&cn!==9||Rn!==o||(cn=7),gi(o)},P.then(c,c);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:im(P)?(cn=0,ei=null,mx(c)):(cn=0,ei=null,ta(o,c,P,7));break;case 5:var $=null;switch(Gt.tag){case 26:$=Gt.memoizedState;case 5:case 27:var Q=Gt;if(!$||Cn($)){cn=0,ei=null;var ce=Q.sibling;if(ce!==null)Gt=ce;else{var _e=Q.return;_e!==null?(Gt=_e,up(_e)):Gt=null}break t}}cn=0,ei=null,ta(o,c,P,5);break;case 6:cn=0,ei=null,ta(o,c,P,6);break;case 8:lp(),Pn=6;break e;default:throw Error(r(462))}}u1();break}catch(ze){hx(o,ze)}while(!0);return Vo=Ga=null,re.H=S,re.A=R,on=v,Gt!==null?0:(Rn=null,Kt=0,Rh(),Pn)}function u1(){for(;Gt!==null&&!Ae();)gx(Gt)}function gx(o){var c=Za(o.alternate,o,os);o.memoizedProps=o.pendingProps,c===null?up(o):Gt=c}function mx(o){var c=o,v=c.alternate;switch(c.tag){case 15:case 0:c=Qv(v,c,c.pendingProps,c.type,void 0,Kt);break;case 11:c=Qv(v,c,c.pendingProps,c.type.render,c.ref,Kt);break;case 5:hm(c);default:tx(v,c),c=Gt=pf(c,os),c=Za(v,c,os)}o.memoizedProps=o.pendingProps,c===null?up(o):Gt=c}function ta(o,c,v,S){Vo=Ga=null,hm(c),Ko=null,Xo=0;var R=c.return;try{if(r1(o,R,c,v,Kt)){Pn=1,Ys(o,wi(v,o.current)),Gt=null;return}}catch(P){if(R!==null)throw Gt=R,P;Pn=1,Ys(o,wi(v,o.current)),Gt=null;return}c.flags&32768?(Qt||S===1?o=!0:Qu||(Kt&536870912)!==0?o=!1:(is=o=!0,(S===2||S===9||S===3||S===6)&&(S=_i.current,S!==null&&S.tag===13&&(S.flags|=16384))),Wm(c,o)):up(c)}function up(o){var c=o;do{if((c.flags&32768)!==0){Wm(c,is);return}o=c.return;var v=es(c.alternate,c,os);if(v!==null){Gt=v;return}if(c=c.sibling,c!==null){Gt=c;return}Gt=c=o}while(c!==null);Pn===0&&(Pn=5)}function Wm(o,c){do{var v=ts(o.alternate,o);if(v!==null){v.flags&=32767,Gt=v;return}if(v=o.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!c&&(o=o.sibling,o!==null)){Gt=o;return}Gt=o=v}while(o!==null);Pn=6,Gt=null}function Ym(o,c,v,S,R,P,$,Q,ce){o.cancelPendingCommit=null;do ra();while(or!==0);if((on&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(P=c.lanes|c.childLanes,P|=qg,Ta(o,v,P,$,Q,ce),o===Rn&&(Gt=Rn=null,Kt=0),nc=c,Ao=o,ss=v,zm=P,Vm=R,fx=S,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,h1(Qe,function(){return rc(),null})):(o.callbackNode=null,o.callbackPriority=0),S=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||S){S=re.T,re.T=null,R=Ie.p,Ie.p=2,$=on,on|=4;try{i1(o,c,v)}finally{on=$,Ie.p=R,re.T=S}}or=1,cp(),qm(),Pi()}}function cp(){if(or===1){or=0;var o=Ao,c=nc,v=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||v){v=re.T,re.T=null;var S=Ie.p;Ie.p=2;var R=on;on|=4;try{lx(c,o);var P=bp,$=Nv(o.containerInfo),Q=P.focusedElem,ce=P.selectionRange;if($!==Q&&Q&&Q.ownerDocument&&Tv(Q.ownerDocument.documentElement,Q)){if(ce!==null&&$g(Q)){var _e=ce.start,ze=ce.end;if(ze===void 0&&(ze=_e),"selectionStart"in Q)Q.selectionStart=_e,Q.selectionEnd=Math.min(ze,Q.value.length);else{var $e=Q.ownerDocument||document,De=$e&&$e.defaultView||window;if(De.getSelection){var Pe=De.getSelection(),_t=Q.textContent.length,Ct=Math.min(ce.start,_t),Tn=ce.end===void 0?Ct:Math.min(ce.end,_t);!Pe.extend&&Ct>Tn&&($=Tn,Tn=Ct,Ct=$);var Ee=Rv(Q,Ct),ve=Rv(Q,Tn);if(Ee&&ve&&(Pe.rangeCount!==1||Pe.anchorNode!==Ee.node||Pe.anchorOffset!==Ee.offset||Pe.focusNode!==ve.node||Pe.focusOffset!==ve.offset)){var Te=$e.createRange();Te.setStart(Ee.node,Ee.offset),Pe.removeAllRanges(),Ct>Tn?(Pe.addRange(Te),Pe.extend(ve.node,ve.offset)):(Te.setEnd(ve.node,ve.offset),Pe.addRange(Te))}}}}for($e=[],Pe=Q;Pe=Pe.parentNode;)Pe.nodeType===1&&$e.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<$e.length;Q++){var Ue=$e[Q];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}Mx=!!xp,bp=xp=null}finally{on=R,Ie.p=S,re.T=v}}o.current=c,or=2}}function qm(){if(or===2){or=0;var o=Ao,c=nc,v=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||v){v=re.T,re.T=null;var S=Ie.p;Ie.p=2;var R=on;on|=4;try{ix(o,c.alternate,c)}finally{on=R,Ie.p=S,re.T=v}}or=3}}function Pi(){if(or===4||or===3){or=0,Oe();var o=Ao,c=nc,v=ss,S=fx;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?or=5:(or=0,nc=Ao=null,na(o,o.pendingLanes));var R=o.pendingLanes;if(R===0&&(eo=null),cr(v),c=c.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ye,c,void 0,(c.current.flags&128)===128)}catch{}if(S!==null){c=re.T,R=Ie.p,Ie.p=2,re.T=null;try{for(var P=o.onRecoverableError,$=0;$<S.length;$++){var Q=S[$];P(Q.value,{componentStack:Q.stack})}}finally{re.T=c,Ie.p=R}}(ss&3)!==0&&ra(),gi(o),R=o.pendingLanes,(v&4194090)!==0&&(R&42)!==0?o===Ir?fn++:(fn=0,Ir=o):fn=0,sa(0)}}function na(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,vf(c)))}function ra(o){return cp(),qm(),Pi(),rc()}function rc(){if(or!==5)return!1;var o=Ao,c=zm;zm=0;var v=cr(ss),S=re.T,R=Ie.p;try{Ie.p=32>v?32:v,re.T=null,v=Vm,Vm=null;var P=Ao,$=ss;if(or=0,nc=Ao=null,ss=0,(on&6)!==0)throw Error(r(331));var Q=on;if(on|=4,Ju(P.current),ux(P,P.current,$,v),on=Q,sa(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ye,P)}catch{}return!0}finally{Ie.p=R,re.T=S,na(o,c)}}function Km(o,c,v){c=wi(v,c),c=mo(o.stateNode,c,2),o=zs(o,c,2),o!==null&&(Ur(o,2),gi(o))}function vn(o,c,v){if(o.tag===3)Km(o,o,v);else for(;c!==null;){if(c.tag===3){Km(c,o,v);break}else if(c.tag===1){var S=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(eo===null||!eo.has(S))){o=wi(v,o),v=Yu(2),S=zs(c,v,2),S!==null&&(Zv(v,S,c,o),Ur(S,2),gi(S));break}}c=c.return}}function Xm(o,c,v){var S=o.pingCache;if(S===null){S=o.pingCache=new a1;var R=new Set;S.set(c,R)}else R=S.get(c),R===void 0&&(R=new Set,S.set(c,R));R.has(v)||(Fm=!0,R.add(v),o=c1.bind(null,o,c,v),c.then(o,o))}function c1(o,c,v){var S=o.pingCache;S!==null&&S.delete(c),o.pingedLanes|=o.suspendedLanes&v,o.warmLanes&=~v,Rn===o&&(Kt&v)===v&&(Pn===4||Pn===3&&(Kt&62914560)===Kt&&300>Be()-jm?(on&2)===0&&Co(o,0):km|=v,ec===Kt&&(ec=0)),gi(o)}function yx(o,c){c===0&&(c=Fn()),o=Nu(o,c),o!==null&&(Ur(o,c),gi(o))}function f1(o){var c=o.memoizedState,v=0;c!==null&&(v=c.retryLane),yx(o,v)}function d1(o,c){var v=0;switch(o.tag){case 13:var S=o.stateNode,R=o.memoizedState;R!==null&&(v=R.retryLane);break;case 19:S=o.stateNode;break;case 22:S=o.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(c),yx(o,v)}function h1(o,c){return oe(o,c)}var fp=null,ic=null,Zm=!1,dp=!1,ia=!1,oa=0;function gi(o){o!==ic&&o.next===null&&(ic===null?fp=ic=o:ic=ic.next=o),dp=!0,Zm||(Zm=!0,aa())}function sa(o,c){if(!ia&&dp){ia=!0;do for(var v=!1,S=fp;S!==null;){if(o!==0){var R=S.pendingLanes;if(R===0)var P=0;else{var $=S.suspendedLanes,Q=S.pingedLanes;P=(1<<31-ft(42|o)+1)-1,P&=R&~($&~Q),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(v=!0,hp(S,P))}else P=Kt,P=mt(S,S===Rn?P:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(P&3)===0||Et(S,P)||(v=!0,hp(S,P));S=S.next}while(v);ia=!1}}function p1(){ls()}function ls(){dp=Zm=!1;var o=0;oa!==0&&(Ex()&&(o=oa),oa=0);for(var c=Be(),v=null,S=fp;S!==null;){var R=S.next,P=ar(S,c);P===0?(S.next=null,v===null?fp=R:v.next=R,R===null&&(ic=v)):(v=S,(o!==0||(P&3)!==0)&&(dp=!0)),S=R}sa(o)}function ar(o,c){for(var v=o.suspendedLanes,S=o.pingedLanes,R=o.expirationTimes,P=o.pendingLanes&-62914561;0<P;){var $=31-ft(P),Q=1<<$,ce=R[$];ce===-1?((Q&v)===0||(Q&S)!==0)&&(R[$]=Dt(Q,c)):ce<=c&&(o.expiredLanes|=Q),P&=~Q}if(c=Rn,v=Kt,v=mt(o,o===c?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),S=o.callbackNode,v===0||o===c&&(cn===2||cn===9)||o.cancelPendingCommit!==null)return S!==null&&S!==null&&ae(S),o.callbackNode=null,o.callbackPriority=0;if((v&3)===0||Et(o,v)){if(c=v&-v,c===o.callbackPriority)return c;switch(S!==null&&ae(S),cr(v)){case 2:case 8:v=Fe;break;case 32:v=Qe;break;case 268435456:v=ht;break;default:v=Qe}return S=nl.bind(null,o),v=oe(v,S),o.callbackPriority=c,o.callbackNode=v,c}return S!==null&&S!==null&&ae(S),o.callbackPriority=2,o.callbackNode=null,2}function nl(o,c){if(or!==0&&or!==5)return o.callbackNode=null,o.callbackPriority=0,null;var v=o.callbackNode;if(ra()&&o.callbackNode!==v)return null;var S=Kt;return S=mt(o,o===Rn?S:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),S===0?null:(Um(o,S,c),ar(o,Be()),o.callbackNode!=null&&o.callbackNode===v?nl.bind(null,o):null)}function hp(o,c){if(ra())return null;Um(o,c,!0)}function aa(){wx(function(){(on&6)!==0?oe(ye,p1):ls()})}function pp(){return oa===0&&(oa=En()),oa}function vx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:rf(""+o)}function g1(o,c){var v=c.ownerDocument.createElement("input");return v.name=c.name,v.value=c.value,o.id&&v.setAttribute("form",o.id),c.parentNode.insertBefore(v,c),o=new FormData(o),v.parentNode.removeChild(v),o}function F2(o,c,v,S,R){if(c==="submit"&&v&&v.stateNode===R){var P=vx((R[rn]||null).action),$=S.submitter;$&&(c=(c=$[rn]||null)?vx(c.formAction):$.getAttribute("formAction"),c!==null&&(P=c,$=null));var Q=new jo("action","action",null,S,R);o.push({event:Q,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(oa!==0){var ce=$?g1(R,$):new FormData(R);Zr(v,{pending:!0,data:ce,method:R.method,action:P},null,ce)}}else typeof P=="function"&&(Q.preventDefault(),ce=$?g1(R,$):new FormData(R),Zr(v,{pending:!0,data:ce,method:R.method,action:P},P,ce))},currentTarget:R}]})}}for(var gp=0;gp<wh.length;gp++){var Jm=wh[gp],m1=Jm.toLowerCase(),Pf=Jm[0].toUpperCase()+Jm.slice(1);ui(m1,"on"+Pf)}ui(Iv,"onAnimationEnd"),ui(Ch,"onAnimationIteration"),ui(df,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui($S,"onTransitionRun"),ui(HS,"onTransitionStart"),ui(WS,"onTransitionCancel"),ui(Ov,"onTransitionEnd"),Ia("onMouseEnter",["mouseout","mouseover"]),Ia("onMouseLeave",["mouseout","mouseover"]),Ia("onPointerEnter",["pointerout","pointerover"]),Ia("onPointerLeave",["pointerout","pointerover"]),_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_s("onBeforeInput",["compositionend","keypress","textInput","paste"]),_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wo));function Ro(o,c){c=(c&4)!==0;for(var v=0;v<o.length;v++){var S=o[v],R=S.event;S=S.listeners;e:{var P=void 0;if(c)for(var $=S.length-1;0<=$;$--){var Q=S[$],ce=Q.instance,_e=Q.currentTarget;if(Q=Q.listener,ce!==P&&R.isPropagationStopped())break e;P=Q,R.currentTarget=_e;try{P(R)}catch(ze){Jr(ze)}R.currentTarget=null,P=ce}else for($=0;$<S.length;$++){if(Q=S[$],ce=Q.instance,_e=Q.currentTarget,Q=Q.listener,ce!==P&&R.isPropagationStopped())break e;P=Q,R.currentTarget=_e;try{P(R)}catch(ze){Jr(ze)}R.currentTarget=null,P=ce}}}}function Mt(o,c){var v=c[Su];v===void 0&&(v=c[Su]=new Set);var S=o+"__bubble";v.has(S)||(Qm(c,o,2,!1),v.add(S))}function la(o,c,v){var S=0;c&&(S|=4),Qm(v,o,S,c)}var oc="_reactListening"+Math.random().toString(36).slice(2);function mp(o){if(!o[oc]){o[oc]=!0,Ag.forEach(function(v){v!=="selectionchange"&&(Mf.has(v)||la(v,!1,o),la(v,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[oc]||(c[oc]=!0,la("selectionchange",!1,c))}}function Qm(o,c,v,S){switch(U2(c)){case 2:var R=GF;break;case 8:R=$F;break;default:R=T1}v=R.bind(null,c,v,o),R=void 0,!Pg||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(R=!0),S?R!==void 0?o.addEventListener(c,v,{capture:!0,passive:R}):o.addEventListener(c,v,!0):R!==void 0?o.addEventListener(c,v,{passive:R}):o.addEventListener(c,v,!1)}function yp(o,c,v,S,R){var P=S;if((c&1)===0&&(c&2)===0&&S!==null)e:for(;;){if(S===null)return;var $=S.tag;if($===3||$===4){var Q=S.stateNode.containerInfo;if(Q===R)break;if($===4)for($=S.return;$!==null;){var ce=$.tag;if((ce===3||ce===4)&&$.stateNode.containerInfo===R)return;$=$.return}for(;Q!==null;){if($=Ts(Q),$===null)return;if(ce=$.tag,ce===5||ce===6||ce===26||ce===27){S=P=$;continue e}Q=Q.parentNode}}S=S.return}Yy(function(){var _e=P,ze=sf(v),$e=[];e:{var De=Dv.get(o);if(De!==void 0){var Pe=jo,_t=o;switch(o){case"keypress":if(ph(v)===0)break e;case"keydown":case"keyup":Pe=sv;break;case"focusin":_t="focus",Pe=vh;break;case"focusout":_t="blur",Pe=vh;break;case"beforeblur":case"afterblur":Pe=vh;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=L2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=uv;break;case Iv:case Ch:case df:Pe=Zy;break;case Ov:Pe=fv;break;case"scroll":case"scrollend":Pe=FS;break;case"wheel":Pe=BS;break;case"copy":case"cut":case"paste":Pe=Qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=kg;break;case"toggle":case"beforetoggle":Pe=hv}var Ct=(c&4)!==0,Tn=!Ct&&(o==="scroll"||o==="scrollend"),Ee=Ct?De!==null?De+"Capture":null:De;Ct=[];for(var ve=_e,Te;ve!==null;){var Ue=ve;if(Te=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||Te===null||Ee===null||(Ue=Ma(ve,Ee),Ue!=null&&Ct.push(sc(ve,Ue,Te))),Tn)break;ve=ve.return}0<Ct.length&&(De=new Pe(De,_t,null,v,ze),$e.push({event:De,listeners:Ct}))}}if((c&7)===0){e:{if(De=o==="mouseover"||o==="pointerover",Pe=o==="mouseout"||o==="pointerout",De&&v!==of&&(_t=v.relatedTarget||v.fromElement)&&(Ts(_t)||_t[fr]))break e;if((Pe||De)&&(De=ze.window===ze?ze:(De=ze.ownerDocument)?De.defaultView||De.parentWindow:window,Pe?(_t=v.relatedTarget||v.toElement,Pe=_e,_t=_t?Ts(_t):null,_t!==null&&(Tn=a(_t),Ct=_t.tag,_t!==Tn||Ct!==5&&Ct!==27&&Ct!==6)&&(_t=null)):(Pe=null,_t=_e),Pe!==_t)){if(Ct=Lg,Ue="onMouseLeave",Ee="onMouseEnter",ve="mouse",(o==="pointerout"||o==="pointerover")&&(Ct=kg,Ue="onPointerLeave",Ee="onPointerEnter",ve="pointer"),Tn=Pe==null?De:Eu(Pe),Te=_t==null?De:Eu(_t),De=new Ct(Ue,ve+"leave",Pe,v,ze),De.target=Tn,De.relatedTarget=Te,Ue=null,Ts(ze)===_e&&(Ct=new Ct(Ee,ve+"enter",_t,v,ze),Ct.target=Te,Ct.relatedTarget=Tn,Ue=Ct),Tn=Ue,Pe&&_t)t:{for(Ct=Pe,Ee=_t,ve=0,Te=Ct;Te;Te=rl(Te))ve++;for(Te=0,Ue=Ee;Ue;Ue=rl(Ue))Te++;for(;0<ve-Te;)Ct=rl(Ct),ve--;for(;0<Te-ve;)Ee=rl(Ee),Te--;for(;ve--;){if(Ct===Ee||Ee!==null&&Ct===Ee.alternate)break t;Ct=rl(Ct),Ee=rl(Ee)}Ct=null}else Ct=null;Pe!==null&&e0($e,De,Pe,Ct,!1),_t!==null&&Tn!==null&&e0($e,Tn,_t,Ct,!0)}}e:{if(De=_e?Eu(_e):window,Pe=De.nodeName&&De.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&De.type==="file")var at=Vg;else if(zg(De))if(Sv)at=Gg;else{at=US;var Yt=VS}else Pe=De.nodeName,!Pe||Pe.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?_e&&Og(_e.elementType)&&(at=Vg):at=wv;if(at&&(at=at(o,_e))){xv($e,at,v,ze);break e}Yt&&Yt(o,De,_e),o==="focusout"&&_e&&De.type==="number"&&_e.memoizedProps.value!=null&&nf(De,"number",De.value)}switch(Yt=_e?Eu(_e):window,o){case"focusin":(zg(Yt)||Yt.contentEditable==="true")&&(ka=Yt,Hg=_e,ff=null);break;case"focusout":ff=Hg=ka=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,_v($e,v,ze);break;case"selectionchange":if(Eh)break;case"keydown":case"keyup":_v($e,v,ze)}var vt;if(Bg)e:{switch(o){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else wu?mv(o,v)&&(wt="onCompositionEnd"):o==="keydown"&&v.keyCode===229&&(wt="onCompositionStart");wt&&(La&&v.locale!=="ko"&&(wu||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&wu&&(vt=qy()):(Os=ze,Cu="value"in Os?Os.value:Os.textContent,wu=!0)),Yt=Lf(_e,wt),0<Yt.length&&(wt=new Fg(wt,o,null,v,ze),$e.push({event:wt,listeners:Yt}),vt?wt.data=vt:(vt=yv(v),vt!==null&&(wt.data=vt)))),(vt=jg?vv(o,v):jS(o,v))&&(wt=Lf(_e,"onBeforeInput"),0<wt.length&&(Yt=new Fg("onBeforeInput","beforeinput",null,v,ze),$e.push({event:Yt,listeners:wt}),Yt.data=vt)),F2($e,o,_e,v,ze)}Ro($e,c)})}function sc(o,c,v){return{instance:o,listener:c,currentTarget:v}}function Lf(o,c){for(var v=c+"Capture",S=[];o!==null;){var R=o,P=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||P===null||(R=Ma(o,v),R!=null&&S.unshift(sc(o,R,P)),R=Ma(o,c),R!=null&&S.push(sc(o,R,P))),o.tag===3)return S;o=o.return}return[]}function rl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function e0(o,c,v,S,R){for(var P=c._reactName,$=[];v!==null&&v!==S;){var Q=v,ce=Q.alternate,_e=Q.stateNode;if(Q=Q.tag,ce!==null&&ce===S)break;Q!==5&&Q!==26&&Q!==27||_e===null||(ce=_e,R?(_e=Ma(v,P),_e!=null&&$.unshift(sc(v,_e,ce))):R||(_e=Ma(v,P),_e!=null&&$.push(sc(v,_e,ce)))),v=v.return}$.length!==0&&o.push({event:c,listeners:$})}var xx=/\r\n?/g,y1=/\u0000|\uFFFD/g;function bx(o){return(typeof o=="string"?o:""+o).replace(xx,`
`).replace(y1,"")}function Sx(o,c){return c=bx(c),bx(o)===c}function il(){}function xn(o,c,v,S,R,P){switch(v){case"children":typeof S=="string"?c==="body"||c==="textarea"&&S===""||Is(o,S):(typeof S=="number"||typeof S=="bigint")&&c!=="body"&&Is(o,""+S);break;case"className":Qc(o,"class",S);break;case"tabIndex":Qc(o,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":Qc(o,v,S);break;case"style":$y(o,S,P);break;case"data":if(c!=="object"){Qc(o,"data",S);break}case"src":case"href":if(S===""&&(c!=="a"||v!=="href")){o.removeAttribute(v);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){o.removeAttribute(v);break}S=rf(""+S),o.setAttribute(v,S);break;case"action":case"formAction":if(typeof S=="function"){o.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(v==="formAction"?(c!=="input"&&xn(o,c,"name",R.name,R,null),xn(o,c,"formEncType",R.formEncType,R,null),xn(o,c,"formMethod",R.formMethod,R,null),xn(o,c,"formTarget",R.formTarget,R,null)):(xn(o,c,"encType",R.encType,R,null),xn(o,c,"method",R.method,R,null),xn(o,c,"target",R.target,R,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){o.removeAttribute(v);break}S=rf(""+S),o.setAttribute(v,S);break;case"onClick":S!=null&&(o.onclick=il);break;case"onScroll":S!=null&&Mt("scroll",o);break;case"onScrollEnd":S!=null&&Mt("scrollend",o);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(v=S.__html,v!=null){if(R.children!=null)throw Error(r(60));o.innerHTML=v}}break;case"multiple":o.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":o.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){o.removeAttribute("xlink:href");break}v=rf(""+S),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(v,""+S):o.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(v,""):o.removeAttribute(v);break;case"capture":case"download":S===!0?o.setAttribute(v,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(v,S):o.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?o.setAttribute(v,S):o.removeAttribute(v);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?o.removeAttribute(v):o.setAttribute(v,S);break;case"popover":Mt("beforetoggle",o),Mt("toggle",o),Fo(o,"popover",S);break;case"xlinkActuate":ko(o,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":ko(o,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":ko(o,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":ko(o,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":ko(o,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":ko(o,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":ko(o,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":ko(o,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":ko(o,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Fo(o,"is",S);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=LS.get(v)||v,Fo(o,v,S))}}function vp(o,c,v,S,R,P){switch(v){case"style":$y(o,S,P);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(v=S.__html,v!=null){if(R.children!=null)throw Error(r(60));o.innerHTML=v}}break;case"children":typeof S=="string"?Is(o,S):(typeof S=="number"||typeof S=="bigint")&&Is(o,""+S);break;case"onScroll":S!=null&&Mt("scroll",o);break;case"onScrollEnd":S!=null&&Mt("scrollend",o);break;case"onClick":S!=null&&(o.onclick=il);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cg.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(R=v.endsWith("Capture"),c=v.slice(2,R?v.length-7:void 0),P=o[rn]||null,P=P!=null?P[v]:null,typeof P=="function"&&o.removeEventListener(c,P,R),typeof S=="function")){typeof P!="function"&&P!==null&&(v in o?o[v]=null:o.hasAttribute(v)&&o.removeAttribute(v)),o.addEventListener(c,S,R);break e}v in o?o[v]=S:S===!0?o.setAttribute(v,""):Fo(o,v,S)}}}function Sr(o,c,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",o),Mt("load",o);var S=!1,R=!1,P;for(P in v)if(v.hasOwnProperty(P)){var $=v[P];if($!=null)switch(P){case"src":S=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:xn(o,c,P,$,v,null)}}R&&xn(o,c,"srcSet",v.srcSet,v,null),S&&xn(o,c,"src",v.src,v,null);return;case"input":Mt("invalid",o);var Q=P=$=R=null,ce=null,_e=null;for(S in v)if(v.hasOwnProperty(S)){var ze=v[S];if(ze!=null)switch(S){case"name":R=ze;break;case"type":$=ze;break;case"checked":ce=ze;break;case"defaultChecked":_e=ze;break;case"value":P=ze;break;case"defaultValue":Q=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,c));break;default:xn(o,c,S,ze,v,null)}}_g(o,P,Q,ce,_e,$,R,!1),dh(o);return;case"select":Mt("invalid",o),S=$=P=null;for(R in v)if(v.hasOwnProperty(R)&&(Q=v[R],Q!=null))switch(R){case"value":P=Q;break;case"defaultValue":$=Q;break;case"multiple":S=Q;default:xn(o,c,R,Q,v,null)}c=P,v=$,o.multiple=!!S,c!=null?Au(o,!!S,c,!1):v!=null&&Au(o,!!S,v,!0);return;case"textarea":Mt("invalid",o),P=R=S=null;for($ in v)if(v.hasOwnProperty($)&&(Q=v[$],Q!=null))switch($){case"value":S=Q;break;case"defaultValue":R=Q;break;case"children":P=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:xn(o,c,$,Q,v,null)}Vy(o,S,R,P),dh(o);return;case"option":for(ce in v)if(v.hasOwnProperty(ce)&&(S=v[ce],S!=null))switch(ce){case"selected":o.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:xn(o,c,ce,S,v,null)}return;case"dialog":Mt("beforetoggle",o),Mt("toggle",o),Mt("cancel",o),Mt("close",o);break;case"iframe":case"object":Mt("load",o);break;case"video":case"audio":for(S=0;S<wo.length;S++)Mt(wo[S],o);break;case"image":Mt("error",o),Mt("load",o);break;case"details":Mt("toggle",o);break;case"embed":case"source":case"link":Mt("error",o),Mt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in v)if(v.hasOwnProperty(_e)&&(S=v[_e],S!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:xn(o,c,_e,S,v,null)}return;default:if(Og(c)){for(ze in v)v.hasOwnProperty(ze)&&(S=v[ze],S!==void 0&&vp(o,c,ze,S,v,void 0));return}}for(Q in v)v.hasOwnProperty(Q)&&(S=v[Q],S!=null&&xn(o,c,Q,S,v,null))}function v1(o,c,v,S){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,P=null,$=null,Q=null,ce=null,_e=null,ze=null;for(Pe in v){var $e=v[Pe];if(v.hasOwnProperty(Pe)&&$e!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":ce=$e;default:S.hasOwnProperty(Pe)||xn(o,c,Pe,null,S,$e)}}for(var De in S){var Pe=S[De];if($e=v[De],S.hasOwnProperty(De)&&(Pe!=null||$e!=null))switch(De){case"type":P=Pe;break;case"name":R=Pe;break;case"checked":_e=Pe;break;case"defaultChecked":ze=Pe;break;case"value":$=Pe;break;case"defaultValue":Q=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,c));break;default:Pe!==$e&&xn(o,c,De,Pe,S,$e)}}Ng(o,$,Q,ce,_e,ze,P,R);return;case"select":Pe=$=Q=De=null;for(P in v)if(ce=v[P],v.hasOwnProperty(P)&&ce!=null)switch(P){case"value":break;case"multiple":Pe=ce;default:S.hasOwnProperty(P)||xn(o,c,P,null,S,ce)}for(R in S)if(P=S[R],ce=v[R],S.hasOwnProperty(R)&&(P!=null||ce!=null))switch(R){case"value":De=P;break;case"defaultValue":Q=P;break;case"multiple":$=P;default:P!==ce&&xn(o,c,R,P,S,ce)}c=Q,v=$,S=Pe,De!=null?Au(o,!!v,De,!1):!!S!=!!v&&(c!=null?Au(o,!!v,c,!0):Au(o,!!v,v?[]:"",!1));return;case"textarea":Pe=De=null;for(Q in v)if(R=v[Q],v.hasOwnProperty(Q)&&R!=null&&!S.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:xn(o,c,Q,null,S,R)}for($ in S)if(R=S[$],P=v[$],S.hasOwnProperty($)&&(R!=null||P!=null))switch($){case"value":De=R;break;case"defaultValue":Pe=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:R!==P&&xn(o,c,$,R,S,P)}Ig(o,De,Pe);return;case"option":for(var _t in v)if(De=v[_t],v.hasOwnProperty(_t)&&De!=null&&!S.hasOwnProperty(_t))switch(_t){case"selected":o.selected=!1;break;default:xn(o,c,_t,null,S,De)}for(ce in S)if(De=S[ce],Pe=v[ce],S.hasOwnProperty(ce)&&De!==Pe&&(De!=null||Pe!=null))switch(ce){case"selected":o.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:xn(o,c,ce,De,S,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in v)De=v[Ct],v.hasOwnProperty(Ct)&&De!=null&&!S.hasOwnProperty(Ct)&&xn(o,c,Ct,null,S,De);for(_e in S)if(De=S[_e],Pe=v[_e],S.hasOwnProperty(_e)&&De!==Pe&&(De!=null||Pe!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,c));break;default:xn(o,c,_e,De,S,Pe)}return;default:if(Og(c)){for(var Tn in v)De=v[Tn],v.hasOwnProperty(Tn)&&De!==void 0&&!S.hasOwnProperty(Tn)&&vp(o,c,Tn,void 0,S,De);for(ze in S)De=S[ze],Pe=v[ze],!S.hasOwnProperty(ze)||De===Pe||De===void 0&&Pe===void 0||vp(o,c,ze,De,S,Pe);return}}for(var Ee in v)De=v[Ee],v.hasOwnProperty(Ee)&&De!=null&&!S.hasOwnProperty(Ee)&&xn(o,c,Ee,null,S,De);for($e in S)De=S[$e],Pe=v[$e],!S.hasOwnProperty($e)||De===Pe||De==null&&Pe==null||xn(o,c,$e,De,S,Pe)}var xp=null,bp=null;function Sp(o){return o.nodeType===9?o:o.ownerDocument}function x1(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b1(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function ac(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ep=null;function Ex(){var o=window.event;return o&&o.type==="popstate"?o===Ep?!1:(Ep=o,!0):(Ep=null,!1)}var Ax=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,wx=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(o){return t0.resolve(null).then(o).catch(To)}:Ax;function To(o){setTimeout(function(){throw o})}function us(o){return o==="head"}function n0(o,c){var v=c,S=0,R=0;do{var P=v.nextSibling;if(o.removeChild(v),P&&P.nodeType===8)if(v=P.data,v==="/$"){if(0<S&&8>S){v=S;var $=o.ownerDocument;if(v&1&&Ff($.documentElement),v&2&&Ff($.body),v&4)for(v=$.head,Ff(v),$=v.firstChild;$;){var Q=$.nextSibling,ce=$.nodeName;$[_a]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&$.rel.toLowerCase()==="stylesheet"||v.removeChild($),$=Q}}if(R===0){o.removeChild(P),l0(c);return}R--}else v==="$"||v==="$?"||v==="$!"?R++:S=v.charCodeAt(0)-48;else S=0;v=P}while(v);l0(c)}function r0(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var v=c;switch(c=c.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":r0(v),Eg(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}o.removeChild(v)}}function S1(o,c,v,S){for(;o.nodeType===1;){var R=v;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!S&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(S){if(!o[_a])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(P=o.getAttribute("rel"),P==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(P!==R.rel||o.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||o.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||o.getAttribute("title")!==(R.title==null?null:R.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(P=o.getAttribute("src"),(P!==(R.src==null?null:R.src)||o.getAttribute("type")!==(R.type==null?null:R.type)||o.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&P&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var P=R.name==null?null:""+R.name;if(R.type==="hidden"&&o.getAttribute("name")===P)return o}else return o;if(o=ti(o.nextSibling),o===null)break}return null}function E1(o,c,v){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!v||(o=ti(o.nextSibling),o===null))return null;return o}function Ap(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Rx(o,c){var v=o.ownerDocument;if(o.data!=="$?"||v.readyState==="complete")c();else{var S=function(){c(),v.removeEventListener("DOMContentLoaded",S)};v.addEventListener("DOMContentLoaded",S),o._reactRetry=S}}function ti(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var i0=null;function Tx(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var v=o.data;if(v==="$"||v==="$!"||v==="$?"){if(c===0)return o;c--}else v==="/$"&&c++}o=o.previousSibling}return null}function Nx(o,c,v){switch(c=Sp(v),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Ff(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Eg(o)}var Mi=new Map,_x=new Set;function lc(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var cs=Ie.d;Ie.d={f:A1,r:Ix,D:Dx,C:C1,L:w1,m:f,X:l,S:i,M:y};function A1(){var o=cs.f(),c=ea();return o||c}function Ix(o){var c=Lo(o);c!==null&&c.tag===5&&c.type==="form"?Yv(c):cs.r(o)}var uc=typeof document>"u"?null:document;function Ox(o,c,v){var S=uc;if(S&&typeof c=="string"&&c){var R=Rr(c);R='link[rel="'+o+'"][href="'+R+'"]',typeof v=="string"&&(R+='[crossorigin="'+v+'"]'),_x.has(R)||(_x.add(R),o={rel:o,crossOrigin:v,href:c},S.querySelector(R)===null&&(c=S.createElement("link"),Sr(c,"link",o),Xn(c),S.head.appendChild(c)))}}function Dx(o){cs.D(o),Ox("dns-prefetch",o,null)}function C1(o,c){cs.C(o,c),Ox("preconnect",o,c)}function w1(o,c,v){cs.L(o,c,v);var S=uc;if(S&&o&&c){var R='link[rel="preload"][as="'+Rr(c)+'"]';c==="image"&&v&&v.imageSrcSet?(R+='[imagesrcset="'+Rr(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(R+='[imagesizes="'+Rr(v.imageSizes)+'"]')):R+='[href="'+Rr(o)+'"]';var P=R;switch(c){case"style":P=N(o);break;case"script":P=ee(o)}Mi.has(P)||(o=p({rel:"preload",href:c==="image"&&v&&v.imageSrcSet?void 0:o,as:c},v),Mi.set(P,o),S.querySelector(R)!==null||c==="style"&&S.querySelector(M(P))||c==="script"&&S.querySelector(ue(P))||(c=S.createElement("link"),Sr(c,"link",o),Xn(c),S.head.appendChild(c)))}}function f(o,c){cs.m(o,c);var v=uc;if(v&&o){var S=c&&typeof c.as=="string"?c.as:"script",R='link[rel="modulepreload"][as="'+Rr(S)+'"][href="'+Rr(o)+'"]',P=R;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=ee(o)}if(!Mi.has(P)&&(o=p({rel:"modulepreload",href:o},c),Mi.set(P,o),v.querySelector(R)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(ue(P)))return}S=v.createElement("link"),Sr(S,"link",o),Xn(S),v.head.appendChild(S)}}}function i(o,c,v){cs.S(o,c,v);var S=uc;if(S&&o){var R=Ns(S).hoistableStyles,P=N(o);c=c||"default";var $=R.get(P);if(!$){var Q={loading:0,preload:null};if($=S.querySelector(M(P)))Q.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},v),(v=Mi.get(P))&&Re(o,v);var ce=$=S.createElement("link");Xn(ce),Sr(ce,"link",o),ce._p=new Promise(function(_e,ze){ce.onload=_e,ce.onerror=ze}),ce.addEventListener("load",function(){Q.loading|=1}),ce.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,ke($,c,S)}$={type:"stylesheet",instance:$,count:1,state:Q},R.set(P,$)}}}function l(o,c){cs.X(o,c);var v=uc;if(v&&o){var S=Ns(v).hoistableScripts,R=ee(o),P=S.get(R);P||(P=v.querySelector(ue(R)),P||(o=p({src:o,async:!0},c),(c=Mi.get(R))&&We(o,c),P=v.createElement("script"),Xn(P),Sr(P,"link",o),v.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},S.set(R,P))}}function y(o,c){cs.M(o,c);var v=uc;if(v&&o){var S=Ns(v).hoistableScripts,R=ee(o),P=S.get(R);P||(P=v.querySelector(ue(R)),P||(o=p({src:o,async:!0,type:"module"},c),(c=Mi.get(R))&&We(o,c),P=v.createElement("script"),Xn(P),Sr(P,"link",o),v.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},S.set(R,P))}}function E(o,c,v,S){var R=(R=H.current)?lc(R):null;if(!R)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(c=N(v.href),v=Ns(R).hoistableStyles,S=v.get(c),S||(S={type:"style",instance:null,count:0,state:null},v.set(c,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){o=N(v.href);var P=Ns(R).hoistableStyles,$=P.get(o);if($||(R=R.ownerDocument||R,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(o,$),(P=R.querySelector(M(o)))&&!P._p&&($.instance=P,$.state.loading=5),Mi.has(o)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Mi.set(o,v),P||Y(R,o,v,$.state))),c&&S===null)throw Error(r(528,""));return $}if(c&&S!==null)throw Error(r(529,""));return null;case"script":return c=v.async,v=v.src,typeof v=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ee(v),v=Ns(R).hoistableScripts,S=v.get(c),S||(S={type:"script",instance:null,count:0,state:null},v.set(c,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function N(o){return'href="'+Rr(o)+'"'}function M(o){return'link[rel="stylesheet"]['+o+"]"}function V(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function Y(o,c,v,S){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?S.loading=1:(c=o.createElement("link"),S.preload=c,c.addEventListener("load",function(){return S.loading|=1}),c.addEventListener("error",function(){return S.loading|=2}),Sr(c,"link",v),Xn(c),o.head.appendChild(c))}function ee(o){return'[src="'+Rr(o)+'"]'}function ue(o){return"script[async]"+o}function we(o,c,v){if(c.count++,c.instance===null)switch(c.type){case"style":var S=o.querySelector('style[data-href~="'+Rr(v.href)+'"]');if(S)return c.instance=S,Xn(S),S;var R=p({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return S=(o.ownerDocument||o).createElement("style"),Xn(S),Sr(S,"style",R),ke(S,v.precedence,o),c.instance=S;case"stylesheet":R=N(v.href);var P=o.querySelector(M(R));if(P)return c.state.loading|=4,c.instance=P,Xn(P),P;S=V(v),(R=Mi.get(R))&&Re(S,R),P=(o.ownerDocument||o).createElement("link"),Xn(P);var $=P;return $._p=new Promise(function(Q,ce){$.onload=Q,$.onerror=ce}),Sr(P,"link",S),c.state.loading|=4,ke(P,v.precedence,o),c.instance=P;case"script":return P=ee(v.src),(R=o.querySelector(ue(P)))?(c.instance=R,Xn(R),R):(S=v,(R=Mi.get(P))&&(S=p({},v),We(S,R)),o=o.ownerDocument||o,R=o.createElement("script"),Xn(R),Sr(R,"link",S),o.head.appendChild(R),c.instance=R);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(S=c.instance,c.state.loading|=4,ke(S,v.precedence,o));return c.instance}function ke(o,c,v){for(var S=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=S.length?S[S.length-1]:null,P=R,$=0;$<S.length;$++){var Q=S[$];if(Q.dataset.precedence===c)P=Q;else if(P!==R)break}P?P.parentNode.insertBefore(o,P.nextSibling):(c=v.nodeType===9?v.head:v,c.insertBefore(o,c.firstChild))}function Re(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function We(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var He=null;function it(o,c,v){if(He===null){var S=new Map,R=He=new Map;R.set(v,S)}else R=He,S=R.get(v),S||(S=new Map,R.set(v,S));if(S.has(o))return S;for(S.set(o,null),v=v.getElementsByTagName(o),R=0;R<v.length;R++){var P=v[R];if(!(P[_a]||P[jn]||o==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var $=P.getAttribute(c)||"";$=o+$;var Q=S.get($);Q?Q.push(P):S.set($,[P])}}return S}function At(o,c,v){o=o.ownerDocument||o,o.head.insertBefore(v,c==="title"?o.querySelector("head > title"):null)}function en(o,c,v){if(v===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Cn(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Xt=null;function Er(){}function tn(o,c,v){if(Xt===null)throw Error(r(475));var S=Xt;if(c.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var R=N(v.href),P=o.querySelector(M(R));if(P){o=P._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(S.count++,S=Mn.bind(S),o.then(S,S)),c.state.loading|=4,c.instance=P,Xn(P);return}P=o.ownerDocument||o,v=V(v),(R=Mi.get(R))&&Re(v,R),P=P.createElement("link"),Xn(P);var $=P;$._p=new Promise(function(Q,ce){$.onload=Q,$.onerror=ce}),Sr(P,"link",v),c.instance=P}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(S.count++,c=Mn.bind(S),o.addEventListener("load",c),o.addEventListener("error",c))}}function er(){if(Xt===null)throw Error(r(475));var o=Xt;return o.stylesheets&&o.count===0&&mi(o,o.stylesheets),0<o.count?function(c){var v=setTimeout(function(){if(o.stylesheets&&mi(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(v)}}:null}function Mn(){if(this.count--,this.count===0){if(this.stylesheets)mi(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var _n=null;function mi(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,_n=new Map,c.forEach(Px,o),_n=null,Mn.call(o))}function Px(o,c){if(!(c.state.loading&4)){var v=_n.get(o);if(v)var S=v.get(null);else{v=new Map,_n.set(o,v);for(var R=o.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<R.length;P++){var $=R[P];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(v.set($.dataset.precedence,$),S=$)}S&&v.set(null,S)}R=c.instance,$=R.getAttribute("data-precedence"),P=v.get($)||S,P===S&&v.set(null,R),v.set($,R),this.count++,S=Mn.bind(this),R.addEventListener("load",S),R.addEventListener("error",S),P?P.parentNode.insertBefore(R,P.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(R,o.firstChild)),c.state.loading|=4}}var cc={$$typeof:I,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Cp(o,c,v,S,R,P,$,Q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=S,this.onUncaughtError=R,this.onCaughtError=P,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function k2(o,c,v,S,R,P,$,Q,ce,_e,ze,$e){return o=new Cp(o,c,v,$,Q,ce,_e,$e),c=1,P===!0&&(c|=24),P=Tr(3,null,null,c),o.current=P,P.stateNode=o,c=nm(),c.refCount++,o.pooledCache=c,c.refCount++,P.memoizedState={element:S,isDehydrated:v,cache:c},sm(P),o}function B2(o){return o?(o=_u,o):_u}function j2(o,c,v,S,R,P){R=B2(R),S.context===null?S.context=R:S.pendingContext=R,S=Yr(c),S.payload={element:v},P=P===void 0?null:P,P!==null&&(S.callback=P),v=zs(o,S,c),v!==null&&(Xe(v,o,c),zu(v,o,c))}function z2(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var v=o.retryLane;o.retryLane=v!==0&&v<c?v:c}}function R1(o,c){z2(o,c),(o=o.alternate)&&z2(o,c)}function V2(o){if(o.tag===13){var c=Nu(o,67108864);c!==null&&Xe(c,o,67108864),R1(o,67108864)}}var Mx=!0;function GF(o,c,v,S){var R=re.T;re.T=null;var P=Ie.p;try{Ie.p=2,T1(o,c,v,S)}finally{Ie.p=P,re.T=R}}function $F(o,c,v,S){var R=re.T;re.T=null;var P=Ie.p;try{Ie.p=8,T1(o,c,v,S)}finally{Ie.p=P,re.T=R}}function T1(o,c,v,S){if(Mx){var R=N1(S);if(R===null)yp(o,c,S,Lx,v),G2(o,S);else if(WF(R,o,c,v,S))S.stopPropagation();else if(G2(o,S),c&4&&-1<HF.indexOf(o)){for(;R!==null;){var P=Lo(R);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var $=rt(P.pendingLanes);if($!==0){var Q=P;for(Q.pendingLanes|=2,Q.entangledLanes|=2;$;){var ce=1<<31-ft($);Q.entanglements[1]|=ce,$&=~ce}gi(P),(on&6)===0&&(op=Be()+500,sa(0))}}break;case 13:Q=Nu(P,2),Q!==null&&Xe(Q,P,2),ea(),R1(P,2)}if(P=N1(S),P===null&&yp(o,c,S,Lx,v),P===R)break;R=P}R!==null&&S.stopPropagation()}else yp(o,c,S,null,v)}}function N1(o){return o=sf(o),_1(o)}var Lx=null;function _1(o){if(Lx=null,o=Ts(o),o!==null){var c=a(o);if(c===null)o=null;else{var v=c.tag;if(v===13){if(o=u(c),o!==null)return o;o=null}else if(v===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Lx=o,null}function U2(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case ye:return 2;case Fe:return 8;case Qe:case yt:return 32;case ht:return 268435456;default:return 32}default:return 32}}var I1=!1,fc=null,dc=null,hc=null,o0=new Map,s0=new Map,pc=[],HF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G2(o,c){switch(o){case"focusin":case"focusout":fc=null;break;case"dragenter":case"dragleave":dc=null;break;case"mouseover":case"mouseout":hc=null;break;case"pointerover":case"pointerout":o0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":s0.delete(c.pointerId)}}function a0(o,c,v,S,R,P){return o===null||o.nativeEvent!==P?(o={blockedOn:c,domEventName:v,eventSystemFlags:S,nativeEvent:P,targetContainers:[R]},c!==null&&(c=Lo(c),c!==null&&V2(c)),o):(o.eventSystemFlags|=S,c=o.targetContainers,R!==null&&c.indexOf(R)===-1&&c.push(R),o)}function WF(o,c,v,S,R){switch(c){case"focusin":return fc=a0(fc,o,c,v,S,R),!0;case"dragenter":return dc=a0(dc,o,c,v,S,R),!0;case"mouseover":return hc=a0(hc,o,c,v,S,R),!0;case"pointerover":var P=R.pointerId;return o0.set(P,a0(o0.get(P)||null,o,c,v,S,R)),!0;case"gotpointercapture":return P=R.pointerId,s0.set(P,a0(s0.get(P)||null,o,c,v,S,R)),!0}return!1}function $2(o){var c=Ts(o.target);if(c!==null){var v=a(c);if(v!==null){if(c=v.tag,c===13){if(c=u(v),c!==null){o.blockedOn=c,nn(o.priority,function(){if(v.tag===13){var S=sr();S=Hn(S);var R=Nu(v,S);R!==null&&Xe(R,v,S),R1(v,S)}});return}}else if(c===3&&v.stateNode.current.memoizedState.isDehydrated){o.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Fx(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var v=N1(o.nativeEvent);if(v===null){v=o.nativeEvent;var S=new v.constructor(v.type,v);of=S,v.target.dispatchEvent(S),of=null}else return c=Lo(v),c!==null&&V2(c),o.blockedOn=v,!1;c.shift()}return!0}function H2(o,c,v){Fx(o)&&v.delete(c)}function YF(){I1=!1,fc!==null&&Fx(fc)&&(fc=null),dc!==null&&Fx(dc)&&(dc=null),hc!==null&&Fx(hc)&&(hc=null),o0.forEach(H2),s0.forEach(H2)}function kx(o,c){o.blockedOn===c&&(o.blockedOn=null,I1||(I1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YF)))}var Bx=null;function W2(o){Bx!==o&&(Bx=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Bx===o&&(Bx=null);for(var c=0;c<o.length;c+=3){var v=o[c],S=o[c+1],R=o[c+2];if(typeof S!="function"){if(_1(S||v)===null)continue;break}var P=Lo(v);P!==null&&(o.splice(c,3),c-=3,Zr(P,{pending:!0,data:R,method:v.method,action:S},S,R))}}))}function l0(o){function c(ce){return kx(ce,o)}fc!==null&&kx(fc,o),dc!==null&&kx(dc,o),hc!==null&&kx(hc,o),o0.forEach(c),s0.forEach(c);for(var v=0;v<pc.length;v++){var S=pc[v];S.blockedOn===o&&(S.blockedOn=null)}for(;0<pc.length&&(v=pc[0],v.blockedOn===null);)$2(v),v.blockedOn===null&&pc.shift();if(v=(o.ownerDocument||o).$$reactFormReplay,v!=null)for(S=0;S<v.length;S+=3){var R=v[S],P=v[S+1],$=R[rn]||null;if(typeof P=="function")$||W2(v);else if($){var Q=null;if(P&&P.hasAttribute("formAction")){if(R=P,$=P[rn]||null)Q=$.formAction;else if(_1(R)!==null)continue}else Q=$.action;typeof Q=="function"?v[S+1]=Q:(v.splice(S,3),S-=3),W2(v)}}}function O1(o){this._internalRoot=o}jx.prototype.render=O1.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var v=c.current,S=sr();j2(v,S,o,c,null,null)},jx.prototype.unmount=O1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;j2(o.current,2,null,o,null,null),ea(),c[fr]=null}};function jx(o){this._internalRoot=o}jx.prototype.unstable_scheduleHydration=function(o){if(o){var c=Na();o={blockedOn:null,target:o,priority:c};for(var v=0;v<pc.length&&c!==0&&c<pc[v].priority;v++);pc.splice(v,0,o),v===0&&$2(o)}};var Y2=t.version;if(Y2!=="19.1.0")throw Error(r(527,Y2,"19.1.0"));Ie.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=h(c),o=o!==null?g(o):null,o=o===null?null:o.stateNode,o};var qF={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zx.isDisabled&&zx.supportsFiber)try{Ye=zx.inject(qF),qe=zx}catch{}}return c0.createRoot=function(o,c){if(!s(o))throw Error(r(299));var v=!1,S="",R=_m,P=qa,$=go,Q=null;return c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onUncaughtError!==void 0&&(R=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Q=c.unstable_transitionCallbacks)),c=k2(o,1,!1,null,null,v,S,R,P,$,Q,null),o[fr]=c.current,mp(o),new O1(c)},c0.hydrateRoot=function(o,c,v){if(!s(o))throw Error(r(299));var S=!1,R="",P=_m,$=qa,Q=go,ce=null,_e=null;return v!=null&&(v.unstable_strictMode===!0&&(S=!0),v.identifierPrefix!==void 0&&(R=v.identifierPrefix),v.onUncaughtError!==void 0&&(P=v.onUncaughtError),v.onCaughtError!==void 0&&($=v.onCaughtError),v.onRecoverableError!==void 0&&(Q=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(ce=v.unstable_transitionCallbacks),v.formState!==void 0&&(_e=v.formState)),c=k2(o,1,!0,c,v??null,S,R,P,$,Q,ce,_e),c.context=B2(null),v=c.current,S=sr(),S=Hn(S),R=Yr(S),R.callback=null,zs(v,R,S),v=S,c.current.lanes=v,Ur(c,v),gi(c),o[fr]=c.current,mp(o),new jx(c)},c0.version="19.1.0",c0}var iR;function ok(){if(iR)return M1.exports;iR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),M1.exports=ik(),M1.exports}var sk=ok(),F=Gb();const Ze=ZO(F),eD=JF({__proto__:null,default:Ze},[F]);var f0={},oR;function ak(){if(oR)return f0;oR=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.parse=u,f0.serialize=g;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function u(x,b){const A=new a,C=x.length;if(C<2)return A;const w=(b==null?void 0:b.decode)||p;let T=0;do{const _=x.indexOf("=",T);if(_===-1)break;const I=x.indexOf(";",T),D=I===-1?C:I;if(_>D){T=x.lastIndexOf(";",_-1)+1;continue}const L=d(x,T,_),k=h(x,_,L),U=x.slice(L,k);if(A[U]===void 0){let B=d(x,_+1,D),W=h(x,D,B);const te=w(x.slice(B,W));A[U]=te}T=D+1}while(T<C);return A}function d(x,b,A){do{const C=x.charCodeAt(b);if(C!==32&&C!==9)return b}while(++b<A);return A}function h(x,b,A){for(;b>A;){const C=x.charCodeAt(--b);if(C!==32&&C!==9)return b+1}return A}function g(x,b,A){const C=(A==null?void 0:A.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const w=C(b);if(!t.test(w))throw new TypeError(`argument val is invalid: ${b}`);let T=x+"="+w;if(!A)return T;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);T+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);T+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);T+="; Path="+A.path}if(A.expires){if(!m(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);T+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(T+="; HttpOnly"),A.secure&&(T+="; Secure"),A.partitioned&&(T+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return T}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function m(x){return s.call(x)==="[object Date]"}return f0}ak();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sR="popstate";function lk(e={}){function t(r,s){let{pathname:a,search:u,hash:d}=r.location;return QA("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ey(s)}return ck(t,n,null,e)}function $n(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uk(){return Math.random().toString(36).substring(2,10)}function aR(e,t){return{usr:e.state,key:e.key,idx:t}}function QA(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?rg(t):t,state:n,key:t&&t.key||r||uk()}}function ey({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function rg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ck(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d="POP",h=null,g=p();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function p(){return(u.state||{idx:null}).idx}function m(){d="POP";let w=p(),T=w==null?null:w-g;g=w,h&&h({action:d,location:C.location,delta:T})}function x(w,T){d="PUSH";let _=QA(C.location,w,T);g=p()+1;let I=aR(_,g),D=C.createHref(_);try{u.pushState(I,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(D)}a&&h&&h({action:d,location:C.location,delta:1})}function b(w,T){d="REPLACE";let _=QA(C.location,w,T);g=p();let I=aR(_,g),D=C.createHref(_);u.replaceState(I,"",D),a&&h&&h({action:d,location:C.location,delta:0})}function A(w){let T=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof w=="string"?w:ey(w);return _=_.replace(/ $/,"%20"),$n(T,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,T)}let C={get action(){return d},get location(){return e(s,u)},listen(w){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(sR,m),h=w,()=>{s.removeEventListener(sR,m),h=null}},createHref(w){return t(s,w)},createURL:A,encodeLocation(w){let T=A(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:b,go(w){return u.go(w)}};return C}function tD(e,t,n="/"){return fk(e,t,n,!1)}function fk(e,t,n,r){let s=typeof t=="string"?rg(t):t,a=pu(s.pathname||"/",n);if(a==null)return null;let u=nD(e);dk(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let g=Ak(a);d=Sk(u[h],g,r)}return d}function nD(e,t=[],n=[],r=""){let s=(a,u,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&($n(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let g=du([r,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&($n(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),nD(a.children,t,p,g)),!(a.path==null&&!a.index)&&t.push({path:g,score:xk(g,a.index),routesMeta:p})};return e.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let h of rD(a.path))s(a,u,h)}),t}function rD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=rD(r.join("/")),d=[];return d.push(...u.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...u),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function dk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var hk=/^:[\w-]+$/,pk=3,gk=2,mk=1,yk=10,vk=-2,lR=e=>e==="*";function xk(e,t){let n=e.split("/"),r=n.length;return n.some(lR)&&(r+=vk),t&&(r+=gk),n.filter(s=>!lR(s)).reduce((s,a)=>s+(hk.test(a)?pk:a===""?mk:yk),r)}function bk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Sk(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",u=[];for(let d=0;d<r.length;++d){let h=r[d],g=d===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=Cb({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},p),x=h.route;if(!m&&g&&n&&!r[r.length-1].route.index&&(m=Cb({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),u.push({params:s,pathname:du([a,m.pathname]),pathnameBase:Tk(du([a,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(a=du([a,m.pathnameBase]))}return u}function Cb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ek(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((g,{paramName:p,isOptional:m},x)=>{if(p==="*"){let A=d[x]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const b=d[x];return m&&!b?g[p]=void 0:g[p]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:u,pattern:e}}function Ek(e,t=!1,n=!0){vs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Ak(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function pu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ck(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?rg(e):e;return{pathname:n?n.startsWith("/")?n:wk(n,t):t,search:Nk(r),hash:_k(s)}}function wk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function j1(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function JC(e){let t=Rk(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function QC(e,t,n,r=!1){let s;typeof e=="string"?s=rg(e):(s={...e},$n(!s.pathname||!s.pathname.includes("?"),j1("?","pathname","search",s)),$n(!s.pathname||!s.pathname.includes("#"),j1("#","pathname","hash",s)),$n(!s.search||!s.search.includes("#"),j1("#","search","hash",s)));let a=e===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=n;else{let m=t.length-1;if(!r&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}d=m>=0?t[m]:"/"}let h=Ck(s,d),g=u&&u!=="/"&&u.endsWith("/"),p=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(g||p)&&(h.pathname+="/"),h}var du=e=>e.join("/").replace(/\/\/+/g,"/"),Tk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Nk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_k=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ik(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var iD=["POST","PUT","PATCH","DELETE"];new Set(iD);var Ok=["GET",...iD];new Set(Ok);var ig=F.createContext(null);ig.displayName="DataRouter";var $b=F.createContext(null);$b.displayName="DataRouterState";var oD=F.createContext({isTransitioning:!1});oD.displayName="ViewTransition";var Dk=F.createContext(new Map);Dk.displayName="Fetchers";var Pk=F.createContext(null);Pk.displayName="Await";var Ss=F.createContext(null);Ss.displayName="Navigation";var dy=F.createContext(null);dy.displayName="Location";var Mo=F.createContext({outlet:null,matches:[],isDataRoute:!1});Mo.displayName="Route";var ew=F.createContext(null);ew.displayName="RouteError";function Mk(e,{relative:t}={}){$n(og(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(Ss),{hash:s,pathname:a,search:u}=hy(e,{relative:t}),d=a;return n!=="/"&&(d=a==="/"?n:du([n,a])),r.createHref({pathname:d,search:u,hash:s})}function og(){return F.useContext(dy)!=null}function Aa(){return $n(og(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(dy).location}var sD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aD(e){F.useContext(Ss).static||F.useLayoutEffect(e)}function tw(){let{isDataRoute:e}=F.useContext(Mo);return e?Kk():Lk()}function Lk(){$n(og(),"useNavigate() may be used only in the context of a <Router> component.");let e=F.useContext(ig),{basename:t,navigator:n}=F.useContext(Ss),{matches:r}=F.useContext(Mo),{pathname:s}=Aa(),a=JSON.stringify(JC(r)),u=F.useRef(!1);return aD(()=>{u.current=!0}),F.useCallback((h,g={})=>{if(vs(u.current,sD),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=QC(h,JSON.parse(a),s,g.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:du([t,p.pathname])),(g.replace?n.replace:n.push)(p,g.state,g)},[t,n,a,s,e])}var Fk=F.createContext(null);function kk(e){let t=F.useContext(Mo).outlet;return t&&F.createElement(Fk.Provider,{value:e},t)}function lD(){let{matches:e}=F.useContext(Mo),t=e[e.length-1];return t?t.params:{}}function hy(e,{relative:t}={}){let{matches:n}=F.useContext(Mo),{pathname:r}=Aa(),s=JSON.stringify(JC(n));return F.useMemo(()=>QC(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Bk(e,t){return uD(e,t)}function uD(e,t,n,r){var _;$n(og(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=F.useContext(Ss),{matches:u}=F.useContext(Mo),d=u[u.length-1],h=d?d.params:{},g=d?d.pathname:"/",p=d?d.pathnameBase:"/",m=d&&d.route;{let I=m&&m.path||"";cD(g,!m||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let x=Aa(),b;if(t){let I=typeof t=="string"?rg(t):t;$n(p==="/"||((_=I.pathname)==null?void 0:_.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),b=I}else b=x;let A=b.pathname||"/",C=A;if(p!=="/"){let I=p.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let w=!a&&n&&n.matches&&n.matches.length>0?n.matches:tD(e,{pathname:C});vs(m||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),vs(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Gk(w&&w.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:du([p,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:du([p,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),u,n,r);return t&&T?F.createElement(dy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function jk(){let e=qk(),t=Ik(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:s},n):null,u)}var zk=F.createElement(jk,null),Vk=class extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(Mo.Provider,{value:this.props.routeContext},F.createElement(ew.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Uk({routeContext:e,match:t,children:n}){let r=F.useContext(ig);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Mo.Provider,{value:e},n)}function Gk(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);$n(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,d=-1;if(n)for(let h=0;h<s.length;h++){let g=s[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=h),g.route.id){let{loaderData:p,errors:m}=n,x=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,g,p)=>{let m,x=!1,b=null,A=null;n&&(m=a&&g.route.id?a[g.route.id]:void 0,b=g.route.errorElement||zk,u&&(d<0&&p===0?(cD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):d===p&&(x=!0,A=g.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,p+1)),w=()=>{let T;return m?T=b:x?T=A:g.route.Component?T=F.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=h,F.createElement(Uk,{match:g,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:T})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?F.createElement(Vk,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}function nw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $k(e){let t=F.useContext(ig);return $n(t,nw(e)),t}function Hk(e){let t=F.useContext($b);return $n(t,nw(e)),t}function Wk(e){let t=F.useContext(Mo);return $n(t,nw(e)),t}function rw(e){let t=Wk(e),n=t.matches[t.matches.length-1];return $n(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Yk(){return rw("useRouteId")}function qk(){var r;let e=F.useContext(ew),t=Hk("useRouteError"),n=rw("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Kk(){let{router:e}=$k("useNavigate"),t=rw("useNavigate"),n=F.useRef(!1);return aD(()=>{n.current=!0}),F.useCallback(async(s,a={})=>{vs(n.current,sD),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var uR={};function cD(e,t,n){!t&&!uR[e]&&(uR[e]=!0,vs(!1,n))}F.memo(Xk);function Xk({routes:e,future:t,state:n}){return uD(e,void 0,n,t)}function fD({to:e,replace:t,state:n,relative:r}){$n(og(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=F.useContext(Ss);vs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=F.useContext(Mo),{pathname:u}=Aa(),d=tw(),h=QC(e,JC(a),u,r==="path"),g=JSON.stringify(h);return F.useEffect(()=>{d(JSON.parse(g),{replace:t,state:n,relative:r})},[d,g,r,t,n]),null}function iw(e){return kk(e.context)}function ca(e){$n(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zk({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){$n(!og(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof n=="string"&&(n=rg(n));let{pathname:h="/",search:g="",hash:p="",state:m=null,key:x="default"}=n,b=F.useMemo(()=>{let A=pu(h,u);return A==null?null:{location:{pathname:A,search:g,hash:p,state:m,key:x},navigationType:r}},[u,h,g,p,m,x,r]);return vs(b!=null,`<Router basename="${u}"> is not able to match the URL "${h}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:F.createElement(Ss.Provider,{value:d},F.createElement(dy.Provider,{children:t,value:b}))}function Jk({children:e,location:t}){return Bk(eC(e),t)}function eC(e,t=[]){let n=[];return F.Children.forEach(e,(r,s)=>{if(!F.isValidElement(r))return;let a=[...t,s];if(r.type===F.Fragment){n.push.apply(n,eC(r.props.children,a));return}$n(r.type===ca,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$n(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=eC(r.props.children,a)),n.push(u)}),n}var ub="get",cb="application/x-www-form-urlencoded";function Hb(e){return e!=null&&typeof e.tagName=="string"}function Qk(e){return Hb(e)&&e.tagName.toLowerCase()==="button"}function eB(e){return Hb(e)&&e.tagName.toLowerCase()==="form"}function tB(e){return Hb(e)&&e.tagName.toLowerCase()==="input"}function nB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rB(e,t){return e.button===0&&(!t||t==="_self")&&!nB(e)}var Ux=null;function iB(){if(Ux===null)try{new FormData(document.createElement("form"),0),Ux=!1}catch{Ux=!0}return Ux}var oB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function z1(e){return e!=null&&!oB.has(e)?(vs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cb}"`),null):e}function sB(e,t){let n,r,s,a,u;if(eB(e)){let d=e.getAttribute("action");r=d?pu(d,t):null,n=e.getAttribute("method")||ub,s=z1(e.getAttribute("enctype"))||cb,a=new FormData(e)}else if(Qk(e)||tB(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(r=h?pu(h,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||ub,s=z1(e.getAttribute("formenctype"))||z1(d.getAttribute("enctype"))||cb,a=new FormData(d,e),!iB()){let{name:g,type:p,value:m}=e;if(p==="image"){let x=g?`${g}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else g&&a.append(g,m)}}else{if(Hb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ub,r=null,s=cb,u=e}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:u}}function ow(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function aB(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function uB(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let u=await aB(a,n);return u.links?u.links():[]}return[]}));return hB(r.flat(1).filter(lB).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function cR(e,t,n,r,s,a){let u=(h,g)=>n[g]?h.route.id!==n[g].route.id:!0,d=(h,g)=>{var p;return n[g].pathname!==h.pathname||((p=n[g].route.path)==null?void 0:p.endsWith("*"))&&n[g].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,g)=>u(h,g)||d(h,g)):a==="data"?t.filter((h,g)=>{var m;let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(u(h,g)||d(h,g))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function cB(e,t,{includeHydrateFallback:n}={}){return fB(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function fB(e){return[...new Set(e)]}function dB(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function hB(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(dB(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function pB(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&pu(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function dD(){let e=F.useContext(ig);return ow(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gB(){let e=F.useContext($b);return ow(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sw=F.createContext(void 0);sw.displayName="FrameworkContext";function hD(){let e=F.useContext(sw);return ow(e,"You must render this element inside a <HydratedRouter> element"),e}function mB(e,t){let n=F.useContext(sw),[r,s]=F.useState(!1),[a,u]=F.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:g,onMouseLeave:p,onTouchStart:m}=t,x=F.useRef(null);F.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let C=T=>{T.forEach(_=>{u(_.isIntersecting)})},w=new IntersectionObserver(C,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[e]),F.useEffect(()=>{if(r){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[r]);let b=()=>{s(!0)},A=()=>{s(!1),u(!1)};return n?e!=="intent"?[a,x,{}]:[a,x,{onFocus:d0(d,b),onBlur:d0(h,A),onMouseEnter:d0(g,b),onMouseLeave:d0(p,A),onTouchStart:d0(m,b)}]:[!1,x,{}]}function d0(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function yB({page:e,...t}){let{router:n}=dD(),r=F.useMemo(()=>tD(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?F.createElement(xB,{page:e,matches:r,...t}):null}function vB(e){let{manifest:t,routeModules:n}=hD(),[r,s]=F.useState([]);return F.useEffect(()=>{let a=!1;return uB(e,t,n).then(u=>{a||s(u)}),()=>{a=!0}},[e,t,n]),r}function xB({page:e,matches:t,...n}){let r=Aa(),{manifest:s,routeModules:a}=hD(),{basename:u}=dD(),{loaderData:d,matches:h}=gB(),g=F.useMemo(()=>cR(e,t,h,s,r,"data"),[e,t,h,s,r]),p=F.useMemo(()=>cR(e,t,h,s,r,"assets"),[e,t,h,s,r]),m=F.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let A=new Set,C=!1;if(t.forEach(T=>{var I;let _=s.routes[T.route.id];!_||!_.hasLoader||(!g.some(D=>D.route.id===T.route.id)&&T.route.id in d&&((I=a[T.route.id])!=null&&I.shouldRevalidate)||_.hasClientLoader?C=!0:A.add(T.route.id))}),A.size===0)return[];let w=pB(e,u);return C&&A.size>0&&w.searchParams.set("_routes",t.filter(T=>A.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[u,d,r,s,g,t,e,a]),x=F.useMemo(()=>cB(p,s),[p,s]),b=vB(p);return F.createElement(F.Fragment,null,m.map(A=>F.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),x.map(A=>F.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),b.map(({key:A,link:C})=>F.createElement("link",{key:A,...C})))}function bB(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var pD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pD&&(window.__reactRouterVersion="7.5.0")}catch{}function SB({basename:e,children:t,window:n}){let r=F.useRef();r.current==null&&(r.current=lk({window:n,v5Compat:!0}));let s=r.current,[a,u]=F.useState({action:s.action,location:s.location}),d=F.useCallback(h=>{F.startTransition(()=>u(h))},[u]);return F.useLayoutEffect(()=>s.listen(d),[s,d]),F.createElement(Zk,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var gD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sg=F.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:d,target:h,to:g,preventScrollReset:p,viewTransition:m,...x},b){let{basename:A}=F.useContext(Ss),C=typeof g=="string"&&gD.test(g),w,T=!1;if(typeof g=="string"&&C&&(w=g,pD))try{let W=new URL(window.location.href),te=g.startsWith("//")?new URL(W.protocol+g):new URL(g),ie=pu(te.pathname,A);te.origin===W.origin&&ie!=null?g=ie+te.search+te.hash:T=!0}catch{vs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Mk(g,{relative:s}),[I,D,L]=mB(r,x),k=wB(g,{replace:u,state:d,target:h,preventScrollReset:p,relative:s,viewTransition:m});function U(W){t&&t(W),W.defaultPrevented||k(W)}let B=F.createElement("a",{...x,...L,href:w||_,onClick:T||a?t:U,ref:bB(b,D),target:h,"data-discover":!C&&n==="render"?"true":void 0});return I&&!C?F.createElement(F.Fragment,null,B,F.createElement(yB,{page:_})):B});sg.displayName="Link";var EB=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:d,children:h,...g},p){let m=hy(u,{relative:g.relative}),x=Aa(),b=F.useContext($b),{navigator:A,basename:C}=F.useContext(Ss),w=b!=null&&IB(m)&&d===!0,T=A.encodeLocation?A.encodeLocation(m).pathname:m.pathname,_=x.pathname,I=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(_=_.toLowerCase(),I=I?I.toLowerCase():null,T=T.toLowerCase()),I&&C&&(I=pu(I,C)||I);const D=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let L=_===T||!s&&_.startsWith(T)&&_.charAt(D)==="/",k=I!=null&&(I===T||!s&&I.startsWith(T)&&I.charAt(T.length)==="/"),U={isActive:L,isPending:k,isTransitioning:w},B=L?t:void 0,W;typeof r=="function"?W=r(U):W=[r,L?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let te=typeof a=="function"?a(U):a;return F.createElement(sg,{...g,"aria-current":B,className:W,ref:p,style:te,to:u,viewTransition:d},typeof h=="function"?h(U):h)});EB.displayName="NavLink";var AB=F.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:u=ub,action:d,onSubmit:h,relative:g,preventScrollReset:p,viewTransition:m,...x},b)=>{let A=NB(),C=_B(d,{relative:g}),w=u.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&gD.test(d),_=I=>{if(h&&h(I),I.defaultPrevented)return;I.preventDefault();let D=I.nativeEvent.submitter,L=(D==null?void 0:D.getAttribute("formmethod"))||u;A(D||I.currentTarget,{fetcherKey:t,method:L,navigate:n,replace:s,state:a,relative:g,preventScrollReset:p,viewTransition:m})};return F.createElement("form",{ref:b,method:w,action:C,onSubmit:r?h:_,...x,"data-discover":!T&&e==="render"?"true":void 0})});AB.displayName="Form";function CB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mD(e){let t=F.useContext(ig);return $n(t,CB(e)),t}function wB(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let d=tw(),h=Aa(),g=hy(e,{relative:a});return F.useCallback(p=>{if(rB(p,t)){p.preventDefault();let m=n!==void 0?n:ey(h)===ey(g);d(e,{replace:m,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[h,d,g,n,r,t,e,s,a,u])}var RB=0,TB=()=>`__${String(++RB)}__`;function NB(){let{router:e}=mD("useSubmit"),{basename:t}=F.useContext(Ss),n=Yk();return F.useCallback(async(r,s={})=>{let{action:a,method:u,encType:d,formData:h,body:g}=sB(r,t);if(s.navigate===!1){let p=s.fetcherKey||TB();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:g,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:g,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function _B(e,{relative:t}={}){let{basename:n}=F.useContext(Ss),r=F.useContext(Mo);$n(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...hy(e||".",{relative:t})},u=Aa();if(e==null){a.search=u.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:du([n,a.pathname])),ey(a)}function IB(e,t={}){let n=F.useContext(oD);$n(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mD("useViewTransitionState"),s=hy(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=pu(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=pu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cb(s.pathname,u)!=null||Cb(s.pathname,a)!=null}new TextEncoder;var py=QO();const yD=ZO(py);var ag=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zd=typeof window>"u"||"Deno"in globalThis;function Do(){}function OB(e,t){return typeof e=="function"?e(t):e}function tC(e){return typeof e=="number"&&e>=0&&e!==1/0}function vD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pp(e,t){return typeof e=="function"?e(t):e}function ms(e,t){return typeof e=="function"?e(t):e}function fR(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:u,stale:d}=e;if(u){if(r){if(t.queryHash!==aw(u,t.options))return!1}else if(!ty(t.queryKey,u))return!1}if(n!=="all"){const h=t.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||a&&!a(t))}function dR(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Jd(t.options.mutationKey)!==Jd(a))return!1}else if(!ty(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function aw(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jd)(e)}function Jd(e){return JSON.stringify(e,(t,n)=>nC(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ty(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ty(e[n],t[n])):!1}function xD(e,t){if(e===t)return e;const n=hR(e)&&hR(t);if(n||nC(e)&&nC(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),u=a.length,d=n?[]:{};let h=0;for(let g=0;g<u;g++){const p=n?g:a[g];(!n&&r.includes(p)||n)&&e[p]===void 0&&t[p]===void 0?(d[p]=void 0,h++):(d[p]=xD(e[p],t[p]),d[p]===e[p]&&e[p]!==void 0&&h++)}return s===u&&h===s?e:d}return t}function wb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function hR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nC(e){if(!pR(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!pR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pR(e){return Object.prototype.toString.call(e)==="[object Object]"}function DB(e){return new Promise(t=>{setTimeout(t,e)})}function rC(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?xD(e,t):t}function PB(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function MB(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var lw=Symbol();function bD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Gd,Ec,Bp,zO,LB=(zO=class extends ag{constructor(){super();St(this,Gd);St(this,Ec);St(this,Bp);ot(this,Bp,t=>{if(!Zd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){he(this,Ec)||this.setEventListener(he(this,Bp))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,Ec))==null||t.call(this),ot(this,Ec,void 0))}setEventListener(t){var n;ot(this,Bp,t),(n=he(this,Ec))==null||n.call(this),ot(this,Ec,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){he(this,Gd)!==t&&(ot(this,Gd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof he(this,Gd)=="boolean"?he(this,Gd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gd=new WeakMap,Ec=new WeakMap,Bp=new WeakMap,zO),uw=new LB,jp,Ac,zp,VO,FB=(VO=class extends ag{constructor(){super();St(this,jp,!0);St(this,Ac);St(this,zp);ot(this,zp,t=>{if(!Zd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){he(this,Ac)||this.setEventListener(he(this,zp))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,Ac))==null||t.call(this),ot(this,Ac,void 0))}setEventListener(t){var n;ot(this,zp,t),(n=he(this,Ac))==null||n.call(this),ot(this,Ac,t(this.setOnline.bind(this)))}setOnline(t){he(this,jp)!==t&&(ot(this,jp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return he(this,jp)}},jp=new WeakMap,Ac=new WeakMap,zp=new WeakMap,VO),Rb=new FB;function iC(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function kB(e){return Math.min(1e3*2**e,3e4)}function SD(e){return(e??"online")==="online"?Rb.isOnline():!0}var ED=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function V1(e){return e instanceof ED}function AD(e){let t=!1,n=0,r=!1,s;const a=iC(),u=C=>{var w;r||(x(new ED(C)),(w=e.abort)==null||w.call(e))},d=()=>{t=!0},h=()=>{t=!1},g=()=>uw.isFocused()&&(e.networkMode==="always"||Rb.isOnline())&&e.canRun(),p=()=>SD(e.networkMode)&&e.canRun(),m=C=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,C),s==null||s(),a.resolve(C))},x=C=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,C),s==null||s(),a.reject(C))},b=()=>new Promise(C=>{var w;s=T=>{(r||g())&&C(T)},(w=e.onPause)==null||w.call(e)}).then(()=>{var C;s=void 0,r||(C=e.onContinue)==null||C.call(e)}),A=()=>{if(r)return;let C;const w=n===0?e.initialPromise:void 0;try{C=w??e.fn()}catch(T){C=Promise.reject(T)}Promise.resolve(C).then(m).catch(T=>{var k;if(r)return;const _=e.retry??(Zd?0:3),I=e.retryDelay??kB,D=typeof I=="function"?I(n,T):I,L=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,T);if(t||!L){x(T);return}n++,(k=e.onFail)==null||k.call(e,n,T),DB(D).then(()=>g()?void 0:b()).then(()=>{t?x(T):A()})})};return{promise:a,cancel:u,continue:()=>(s==null||s(),a),cancelRetry:d,continueRetry:h,canStart:p,start:()=>(p()?A():b().then(A),a)}}var BB=e=>setTimeout(e,0);function jB(){let e=[],t=0,n=d=>{d()},r=d=>{d()},s=BB;const a=d=>{t?e.push(d):s(()=>{n(d)})},u=()=>{const d=e;e=[],d.length&&s(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;t++;try{h=d()}finally{t--,t||u()}return h},batchCalls:d=>(...h)=>{a(()=>{d(...h)})},schedule:a,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{s=d}}}var Cr=jB(),$d,UO,CD=(UO=class{constructor(){St(this,$d)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tC(this.gcTime)&&ot(this,$d,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zd?1/0:5*60*1e3))}clearGcTimeout(){he(this,$d)&&(clearTimeout(he(this,$d)),ot(this,$d,void 0))}},$d=new WeakMap,UO),Vp,Up,Oo,Hd,li,ly,Wd,ps,lu,GO,zB=(GO=class extends CD{constructor(t){super();St(this,ps);St(this,Vp);St(this,Up);St(this,Oo);St(this,Hd);St(this,li);St(this,ly);St(this,Wd);ot(this,Wd,!1),ot(this,ly,t.defaultOptions),this.setOptions(t.options),this.observers=[],ot(this,Hd,t.client),ot(this,Oo,he(this,Hd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ot(this,Vp,VB(this.options)),this.state=t.state??he(this,Vp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=he(this,li))==null?void 0:t.promise}setOptions(t){this.options={...he(this,ly),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,Oo).remove(this)}setData(t,n){const r=rC(this.state.data,t,this.options);return $t(this,ps,lu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){$t(this,ps,lu).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=he(this,li))==null?void 0:r.promise;return(s=he(this,li))==null||s.cancel(t),n?n.then(Do).catch(Do):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,Vp))}isActive(){return this.observers.some(t=>ms(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!vD(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=he(this,li))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=he(this,li))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),he(this,Oo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(he(this,li)&&(he(this,Wd)?he(this,li).cancel({revert:!0}):he(this,li).cancelRetry()),this.scheduleGc()),he(this,Oo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,ps,lu).call(this,{type:"invalidate"})}fetch(t,n){var h,g,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(he(this,li))return he(this,li).continueRetry(),he(this,li).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ot(this,Wd,!0),r.signal)})},a=()=>{const m=bD(this.options,n),x={client:he(this,Hd),queryKey:this.queryKey,meta:this.meta};return s(x),ot(this,Wd,!1),this.options.persister?this.options.persister(m,x,this):m(x)},u={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:he(this,Hd),state:this.state,fetchFn:a};s(u),(h=this.options.behavior)==null||h.onFetch(u,this),ot(this,Up,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=u.fetchOptions)==null?void 0:g.meta))&&$t(this,ps,lu).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const d=m=>{var x,b,A,C;V1(m)&&m.silent||$t(this,ps,lu).call(this,{type:"error",error:m}),V1(m)||((b=(x=he(this,Oo).config).onError)==null||b.call(x,m,this),(C=(A=he(this,Oo).config).onSettled)==null||C.call(A,this.state.data,m,this)),this.scheduleGc()};return ot(this,li,AD({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var x,b,A,C;if(m===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){d(w);return}(b=(x=he(this,Oo).config).onSuccess)==null||b.call(x,m,this),(C=(A=he(this,Oo).config).onSettled)==null||C.call(A,m,this.state.error,this),this.scheduleGc()},onError:d,onFail:(m,x)=>{$t(this,ps,lu).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{$t(this,ps,lu).call(this,{type:"pause"})},onContinue:()=>{$t(this,ps,lu).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),he(this,li).start()}},Vp=new WeakMap,Up=new WeakMap,Oo=new WeakMap,Hd=new WeakMap,li=new WeakMap,ly=new WeakMap,Wd=new WeakMap,ps=new WeakSet,lu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...wD(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return V1(s)&&s.revert&&he(this,Up)?{...he(this,Up),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Cr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),he(this,Oo).notify({query:this,type:"updated",action:t})})},GO);function wD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function VB(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var fa,$O,UB=($O=class extends ag{constructor(t={}){super();St(this,fa);this.config=t,ot(this,fa,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??aw(s,n);let u=this.get(a);return u||(u=new zB({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(u)),u}add(t){he(this,fa).has(t.queryHash)||(he(this,fa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=he(this,fa).get(t.queryHash);n&&(t.destroy(),n===t&&he(this,fa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Cr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return he(this,fa).get(t)}getAll(){return[...he(this,fa).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>fR(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>fR(t,r)):n}notify(t){Cr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Cr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Cr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},fa=new WeakMap,$O),da,yi,Yd,ha,yc,HO,GB=(HO=class extends CD{constructor(t){super();St(this,ha);St(this,da);St(this,yi);St(this,Yd);this.mutationId=t.mutationId,ot(this,yi,t.mutationCache),ot(this,da,[]),this.state=t.state||RD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){he(this,da).includes(t)||(he(this,da).push(t),this.clearGcTimeout(),he(this,yi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ot(this,da,he(this,da).filter(n=>n!==t)),this.scheduleGc(),he(this,yi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){he(this,da).length||(this.state.status==="pending"?this.scheduleGc():he(this,yi).remove(this))}continue(){var t;return((t=he(this,Yd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,u,d,h,g,p,m,x,b,A,C,w,T,_,I,D,L,k,U,B;const n=()=>{$t(this,ha,yc).call(this,{type:"continue"})};ot(this,Yd,AD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(W,te)=>{$t(this,ha,yc).call(this,{type:"failed",failureCount:W,error:te})},onPause:()=>{$t(this,ha,yc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,yi).canRun(this)}));const r=this.state.status==="pending",s=!he(this,Yd).canStart();try{if(r)n();else{$t(this,ha,yc).call(this,{type:"pending",variables:t,isPaused:s}),await((u=(a=he(this,yi).config).onMutate)==null?void 0:u.call(a,t,this));const te=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,t));te!==this.state.context&&$t(this,ha,yc).call(this,{type:"pending",context:te,variables:t,isPaused:s})}const W=await he(this,Yd).start();return await((p=(g=he(this,yi).config).onSuccess)==null?void 0:p.call(g,W,t,this.state.context,this)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,W,t,this.state.context)),await((A=(b=he(this,yi).config).onSettled)==null?void 0:A.call(b,W,null,this.state.variables,this.state.context,this)),await((w=(C=this.options).onSettled)==null?void 0:w.call(C,W,null,t,this.state.context)),$t(this,ha,yc).call(this,{type:"success",data:W}),W}catch(W){try{throw await((_=(T=he(this,yi).config).onError)==null?void 0:_.call(T,W,t,this.state.context,this)),await((D=(I=this.options).onError)==null?void 0:D.call(I,W,t,this.state.context)),await((k=(L=he(this,yi).config).onSettled)==null?void 0:k.call(L,void 0,W,this.state.variables,this.state.context,this)),await((B=(U=this.options).onSettled)==null?void 0:B.call(U,void 0,W,t,this.state.context)),W}finally{$t(this,ha,yc).call(this,{type:"error",error:W})}}finally{he(this,yi).runNext(this)}}},da=new WeakMap,yi=new WeakMap,Yd=new WeakMap,ha=new WeakSet,yc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Cr.batch(()=>{he(this,da).forEach(r=>{r.onMutationUpdate(t)}),he(this,yi).notify({mutation:this,type:"updated",action:t})})},HO);function RD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cu,gs,uy,WO,$B=(WO=class extends ag{constructor(t={}){super();St(this,cu);St(this,gs);St(this,uy);this.config=t,ot(this,cu,new Set),ot(this,gs,new Map),ot(this,uy,0)}build(t,n,r){const s=new GB({mutationCache:this,mutationId:++Vx(this,uy)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){he(this,cu).add(t);const n=Gx(t);if(typeof n=="string"){const r=he(this,gs).get(n);r?r.push(t):he(this,gs).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(he(this,cu).delete(t)){const n=Gx(t);if(typeof n=="string"){const r=he(this,gs).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&he(this,gs).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Gx(t);if(typeof n=="string"){const r=he(this,gs).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Gx(t);if(typeof n=="string"){const s=(r=he(this,gs).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Cr.batch(()=>{he(this,cu).forEach(t=>{this.notify({type:"removed",mutation:t})}),he(this,cu).clear(),he(this,gs).clear()})}getAll(){return Array.from(he(this,cu))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>dR(n,r))}findAll(t={}){return this.getAll().filter(n=>dR(t,n))}notify(t){Cr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Cr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Do))))}},cu=new WeakMap,gs=new WeakMap,uy=new WeakMap,WO);function Gx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function gR(e){return{onFetch:(t,n)=>{var p,m,x,b,A;const r=t.options,s=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,a=((b=t.state.data)==null?void 0:b.pages)||[],u=((A=t.state.data)==null?void 0:A.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const g=async()=>{let C=!1;const w=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},T=bD(t.options,t.fetchOptions),_=async(I,D,L)=>{if(C)return Promise.reject();if(D==null&&I.pages.length)return Promise.resolve(I);const k={client:t.client,queryKey:t.queryKey,pageParam:D,direction:L?"backward":"forward",meta:t.options.meta};w(k);const U=await T(k),{maxPages:B}=t.options,W=L?MB:PB;return{pages:W(I.pages,U,B),pageParams:W(I.pageParams,D,B)}};if(s&&a.length){const I=s==="backward",D=I?HB:mR,L={pages:a,pageParams:u},k=D(r,L);d=await _(L,k,I)}else{const I=e??a.length;do{const D=h===0?u[0]??r.initialPageParam:mR(r,d);if(h>0&&D==null)break;d=await _(d,D),h++}while(h<I)}return d};t.options.persister?t.fetchFn=()=>{var C,w;return(w=(C=t.options).persister)==null?void 0:w.call(C,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function mR(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function HB(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var tr,Cc,wc,Gp,$p,Rc,Hp,Wp,YO,WB=(YO=class{constructor(e={}){St(this,tr);St(this,Cc);St(this,wc);St(this,Gp);St(this,$p);St(this,Rc);St(this,Hp);St(this,Wp);ot(this,tr,e.queryCache||new UB),ot(this,Cc,e.mutationCache||new $B),ot(this,wc,e.defaultOptions||{}),ot(this,Gp,new Map),ot(this,$p,new Map),ot(this,Rc,0)}mount(){Vx(this,Rc)._++,he(this,Rc)===1&&(ot(this,Hp,uw.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,tr).onFocus())})),ot(this,Wp,Rb.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,tr).onOnline())})))}unmount(){var e,t;Vx(this,Rc)._--,he(this,Rc)===0&&((e=he(this,Hp))==null||e.call(this),ot(this,Hp,void 0),(t=he(this,Wp))==null||t.call(this),ot(this,Wp,void 0))}isFetching(e){return he(this,tr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return he(this,Cc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=he(this,tr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=he(this,tr).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Pp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return he(this,tr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=he(this,tr).get(r.queryHash),a=s==null?void 0:s.state.data,u=OB(t,a);if(u!==void 0)return he(this,tr).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return Cr.batch(()=>he(this,tr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=he(this,tr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=he(this,tr);Cr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=he(this,tr);return Cr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Cr.batch(()=>he(this,tr).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Do).catch(Do)}invalidateQueries(e,t={}){return Cr.batch(()=>(he(this,tr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Cr.batch(()=>he(this,tr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Do)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Do)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=he(this,tr).build(this,t);return n.isStaleByTime(Pp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Do).catch(Do)}fetchInfiniteQuery(e){return e.behavior=gR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Do).catch(Do)}ensureInfiniteQueryData(e){return e.behavior=gR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rb.isOnline()?he(this,Cc).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,tr)}getMutationCache(){return he(this,Cc)}getDefaultOptions(){return he(this,wc)}setDefaultOptions(e){ot(this,wc,e)}setQueryDefaults(e,t){he(this,Gp).set(Jd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...he(this,Gp).values()],n={};return t.forEach(r=>{ty(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){he(this,$p).set(Jd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...he(this,$p).values()],n={};return t.forEach(r=>{ty(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...he(this,wc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=aw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...he(this,wc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){he(this,tr).clear(),he(this,Cc).clear()}},tr=new WeakMap,Cc=new WeakMap,wc=new WeakMap,Gp=new WeakMap,$p=new WeakMap,Rc=new WeakMap,Hp=new WeakMap,Wp=new WeakMap,YO),Li,Zt,cy,vi,qd,Yp,Tc,Nc,fy,qp,Kp,Kd,Xd,_c,Xp,Sn,V0,oC,sC,aC,lC,uC,cC,fC,TD,qO,YB=(qO=class extends ag{constructor(t,n){super();St(this,Sn);St(this,Li);St(this,Zt);St(this,cy);St(this,vi);St(this,qd);St(this,Yp);St(this,Tc);St(this,Nc);St(this,fy);St(this,qp);St(this,Kp);St(this,Kd);St(this,Xd);St(this,_c);St(this,Xp,new Set);this.options=n,ot(this,Li,t),ot(this,Nc,null),ot(this,Tc,iC()),this.options.experimental_prefetchInRender||he(this,Tc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(he(this,Zt).addObserver(this),yR(he(this,Zt),this.options)?$t(this,Sn,V0).call(this):this.updateResult(),$t(this,Sn,lC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dC(he(this,Zt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dC(he(this,Zt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$t(this,Sn,uC).call(this),$t(this,Sn,cC).call(this),he(this,Zt).removeObserver(this)}setOptions(t){const n=this.options,r=he(this,Zt);if(this.options=he(this,Li).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ms(this.options.enabled,he(this,Zt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$t(this,Sn,fC).call(this),he(this,Zt).setOptions(this.options),n._defaulted&&!wb(this.options,n)&&he(this,Li).getQueryCache().notify({type:"observerOptionsUpdated",query:he(this,Zt),observer:this});const s=this.hasListeners();s&&vR(he(this,Zt),r,this.options,n)&&$t(this,Sn,V0).call(this),this.updateResult(),s&&(he(this,Zt)!==r||ms(this.options.enabled,he(this,Zt))!==ms(n.enabled,he(this,Zt))||Pp(this.options.staleTime,he(this,Zt))!==Pp(n.staleTime,he(this,Zt)))&&$t(this,Sn,oC).call(this);const a=$t(this,Sn,sC).call(this);s&&(he(this,Zt)!==r||ms(this.options.enabled,he(this,Zt))!==ms(n.enabled,he(this,Zt))||a!==he(this,_c))&&$t(this,Sn,aC).call(this,a)}getOptimisticResult(t){const n=he(this,Li).getQueryCache().build(he(this,Li),t),r=this.createResult(n,t);return KB(this,r)&&(ot(this,vi,r),ot(this,Yp,this.options),ot(this,qd,he(this,Zt).state)),r}getCurrentResult(){return he(this,vi)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){he(this,Xp).add(t)}getCurrentQuery(){return he(this,Zt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=he(this,Li).defaultQueryOptions(t),r=he(this,Li).getQueryCache().build(he(this,Li),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return $t(this,Sn,V0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),he(this,vi)))}createResult(t,n){var W;const r=he(this,Zt),s=this.options,a=he(this,vi),u=he(this,qd),d=he(this,Yp),g=t!==r?t.state:he(this,cy),{state:p}=t;let m={...p},x=!1,b;if(n._optimisticResults){const te=this.hasListeners(),ie=!te&&yR(t,n),se=te&&vR(t,r,n,s);(ie||se)&&(m={...m,...wD(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:A,errorUpdatedAt:C,status:w}=m;b=m.data;let T=!1;if(n.placeholderData!==void 0&&b===void 0&&w==="pending"){let te;a!=null&&a.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData)?(te=a.data,T=!0):te=typeof n.placeholderData=="function"?n.placeholderData((W=he(this,Kp))==null?void 0:W.state.data,he(this,Kp)):n.placeholderData,te!==void 0&&(w="success",b=rC(a==null?void 0:a.data,te,n),x=!0)}if(n.select&&b!==void 0&&!T)if(a&&b===(u==null?void 0:u.data)&&n.select===he(this,fy))b=he(this,qp);else try{ot(this,fy,n.select),b=n.select(b),b=rC(a==null?void 0:a.data,b,n),ot(this,qp,b),ot(this,Nc,null)}catch(te){ot(this,Nc,te)}he(this,Nc)&&(A=he(this,Nc),b=he(this,qp),C=Date.now(),w="error");const _=m.fetchStatus==="fetching",I=w==="pending",D=w==="error",L=I&&_,k=b!==void 0,B={status:w,fetchStatus:m.fetchStatus,isPending:I,isSuccess:w==="success",isError:D,isInitialLoading:L,isLoading:L,data:b,dataUpdatedAt:m.dataUpdatedAt,error:A,errorUpdatedAt:C,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>g.dataUpdateCount||m.errorUpdateCount>g.errorUpdateCount,isFetching:_,isRefetching:_&&!I,isLoadingError:D&&!k,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:D&&k,isStale:cw(t,n),refetch:this.refetch,promise:he(this,Tc)};if(this.options.experimental_prefetchInRender){const te=Ce=>{B.status==="error"?Ce.reject(B.error):B.data!==void 0&&Ce.resolve(B.data)},ie=()=>{const Ce=ot(this,Tc,B.promise=iC());te(Ce)},se=he(this,Tc);switch(se.status){case"pending":t.queryHash===r.queryHash&&te(se);break;case"fulfilled":(B.status==="error"||B.data!==se.value)&&ie();break;case"rejected":(B.status!=="error"||B.error!==se.reason)&&ie();break}}return B}updateResult(){const t=he(this,vi),n=this.createResult(he(this,Zt),this.options);if(ot(this,qd,he(this,Zt).state),ot(this,Yp,this.options),he(this,qd).data!==void 0&&ot(this,Kp,he(this,Zt)),wb(n,t))return;ot(this,vi,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!he(this,Xp).size)return!0;const u=new Set(a??he(this,Xp));return this.options.throwOnError&&u.add("error"),Object.keys(he(this,vi)).some(d=>{const h=d;return he(this,vi)[h]!==t[h]&&u.has(h)})};$t(this,Sn,TD).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$t(this,Sn,lC).call(this)}},Li=new WeakMap,Zt=new WeakMap,cy=new WeakMap,vi=new WeakMap,qd=new WeakMap,Yp=new WeakMap,Tc=new WeakMap,Nc=new WeakMap,fy=new WeakMap,qp=new WeakMap,Kp=new WeakMap,Kd=new WeakMap,Xd=new WeakMap,_c=new WeakMap,Xp=new WeakMap,Sn=new WeakSet,V0=function(t){$t(this,Sn,fC).call(this);let n=he(this,Zt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Do)),n},oC=function(){$t(this,Sn,uC).call(this);const t=Pp(this.options.staleTime,he(this,Zt));if(Zd||he(this,vi).isStale||!tC(t))return;const r=vD(he(this,vi).dataUpdatedAt,t)+1;ot(this,Kd,setTimeout(()=>{he(this,vi).isStale||this.updateResult()},r))},sC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(he(this,Zt)):this.options.refetchInterval)??!1},aC=function(t){$t(this,Sn,cC).call(this),ot(this,_c,t),!(Zd||ms(this.options.enabled,he(this,Zt))===!1||!tC(he(this,_c))||he(this,_c)===0)&&ot(this,Xd,setInterval(()=>{(this.options.refetchIntervalInBackground||uw.isFocused())&&$t(this,Sn,V0).call(this)},he(this,_c)))},lC=function(){$t(this,Sn,oC).call(this),$t(this,Sn,aC).call(this,$t(this,Sn,sC).call(this))},uC=function(){he(this,Kd)&&(clearTimeout(he(this,Kd)),ot(this,Kd,void 0))},cC=function(){he(this,Xd)&&(clearInterval(he(this,Xd)),ot(this,Xd,void 0))},fC=function(){const t=he(this,Li).getQueryCache().build(he(this,Li),this.options);if(t===he(this,Zt))return;const n=he(this,Zt);ot(this,Zt,t),ot(this,cy,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},TD=function(t){Cr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(he(this,vi))}),he(this,Li).getQueryCache().notify({query:he(this,Zt),type:"observerResultsUpdated"})})},qO);function qB(e,t){return ms(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yR(e,t){return qB(e,t)||e.state.data!==void 0&&dC(e,t,t.refetchOnMount)}function dC(e,t,n){if(ms(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&cw(e,t)}return!1}function vR(e,t,n,r){return(e!==t||ms(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&cw(e,n)}function cw(e,t){return ms(t.enabled,e)!==!1&&e.isStaleByTime(Pp(t.staleTime,e))}function KB(e,t){return!wb(e.getCurrentResult(),t)}var Ic,Oc,Fi,fu,hu,fb,hC,KO,XB=(KO=class extends ag{constructor(n,r){super();St(this,hu);St(this,Ic);St(this,Oc);St(this,Fi);St(this,fu);ot(this,Ic,n),this.setOptions(r),this.bindMethods(),$t(this,hu,fb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=he(this,Ic).defaultMutationOptions(n),wb(this.options,r)||he(this,Ic).getMutationCache().notify({type:"observerOptionsUpdated",mutation:he(this,Fi),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Jd(r.mutationKey)!==Jd(this.options.mutationKey)?this.reset():((s=he(this,Fi))==null?void 0:s.state.status)==="pending"&&he(this,Fi).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=he(this,Fi))==null||n.removeObserver(this)}onMutationUpdate(n){$t(this,hu,fb).call(this),$t(this,hu,hC).call(this,n)}getCurrentResult(){return he(this,Oc)}reset(){var n;(n=he(this,Fi))==null||n.removeObserver(this),ot(this,Fi,void 0),$t(this,hu,fb).call(this),$t(this,hu,hC).call(this)}mutate(n,r){var s;return ot(this,fu,r),(s=he(this,Fi))==null||s.removeObserver(this),ot(this,Fi,he(this,Ic).getMutationCache().build(he(this,Ic),this.options)),he(this,Fi).addObserver(this),he(this,Fi).execute(n)}},Ic=new WeakMap,Oc=new WeakMap,Fi=new WeakMap,fu=new WeakMap,hu=new WeakSet,fb=function(){var r;const n=((r=he(this,Fi))==null?void 0:r.state)??RD();ot(this,Oc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},hC=function(n){Cr.batch(()=>{var r,s,a,u,d,h,g,p;if(he(this,fu)&&this.hasListeners()){const m=he(this,Oc).variables,x=he(this,Oc).context;(n==null?void 0:n.type)==="success"?((s=(r=he(this,fu)).onSuccess)==null||s.call(r,n.data,m,x),(u=(a=he(this,fu)).onSettled)==null||u.call(a,n.data,null,m,x)):(n==null?void 0:n.type)==="error"&&((h=(d=he(this,fu)).onError)==null||h.call(d,n.error,m,x),(p=(g=he(this,fu)).onSettled)==null||p.call(g,void 0,n.error,m,x))}this.listeners.forEach(m=>{m(he(this,Oc))})})},KO),ND=F.createContext(void 0),Wb=e=>{const t=F.useContext(ND);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ZB=({client:e,children:t})=>(F.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),O.jsx(ND.Provider,{value:e,children:t})),_D=F.createContext(!1),JB=()=>F.useContext(_D);_D.Provider;function QB(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ej=F.createContext(QB()),tj=()=>F.useContext(ej);function ID(e,t){return typeof e=="function"?e(...t):!!e}function pC(){}var nj=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},rj=e=>{F.useEffect(()=>{e.clearReset()},[e])},ij=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||ID(n,[e.error,r])),oj=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},sj=(e,t)=>e.isLoading&&e.isFetching&&!t,aj=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,xR=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function lj(e,t,n){var m,x,b,A,C;const r=Wb(),s=JB(),a=tj(),u=r.defaultQueryOptions(e);(x=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,u),u._optimisticResults=s?"isRestoring":"optimistic",oj(u),nj(u,a),rj(a);const d=!r.getQueryCache().get(u.queryHash),[h]=F.useState(()=>new t(r,u)),g=h.getOptimisticResult(u),p=!s&&e.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(w=>{const T=p?h.subscribe(Cr.batchCalls(w)):pC;return h.updateResult(),T},[h,p]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),F.useEffect(()=>{h.setOptions(u)},[u,h]),aj(u,g))throw xR(u,h,a);if(ij({result:g,errorResetBoundary:a,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw g.error;if((A=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||A.call(b,u,g),u.experimental_prefetchInRender&&!Zd&&sj(g,s)){const w=d?xR(u,h,a):(C=r.getQueryCache().get(u.queryHash))==null?void 0:C.promise;w==null||w.catch(pC).finally(()=>{h.updateResult()})}return u.notifyOnChangeProps?g:h.trackResult(g)}function vu(e,t){return lj(e,YB)}function db(e,t){const n=Wb(),[r]=F.useState(()=>new XB(n,e));F.useEffect(()=>{r.setOptions(e)},[r,e]);const s=F.useSyncExternalStore(F.useCallback(u=>r.subscribe(Cr.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=F.useCallback((u,d)=>{r.mutate(u,d).catch(pC)},[r]);if(s.error&&ID(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function uj(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const cj=e=>{switch(e){case"success":return hj;case"info":return gj;case"warning":return pj;case"error":return mj;default:return null}},fj=Array(12).fill(0),dj=({visible:e,className:t})=>Ze.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ze.createElement("div",{className:"sonner-spinner"},fj.map((n,r)=>Ze.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),hj=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pj=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gj=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mj=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yj=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ze.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ze.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vj=()=>{const[e,t]=Ze.useState(document.hidden);return Ze.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let gC=1;class xj{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:gC++,u=this.toasts.find(h=>h.id===a),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...t,id:a,title:r}),{...h,...t,id:a,dismissible:d,title:r}):h):this.addToast({title:r,...s,dismissible:d,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,u;const d=s.then(async g=>{if(u=["resolve",g],Ze.isValidElement(g))a=!1,this.create({id:r,type:"default",message:g});else if(Sj(g)&&!g.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,A=typeof m=="object"&&!Ze.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...A})}else if(g instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(g):n.error,x=typeof n.description=="function"?await n.description(g):n.description,A=typeof m=="object"&&!Ze.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...A})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(g):n.success,x=typeof n.description=="function"?await n.description(g):n.description,A=typeof m=="object"&&!Ze.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:x,...A})}}).catch(async g=>{if(u=["reject",g],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(g):n.error,m=typeof n.description=="function"?await n.description(g):n.description,b=typeof p=="object"&&!Ze.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...b})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((g,p)=>d.then(()=>u[0]==="reject"?p(u[1]):g(u[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||gC++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ki=new xj,bj=(e,t)=>{const n=(t==null?void 0:t.id)||gC++;return ki.addToast({title:e,...t,id:n}),n},Sj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Ej=bj,Aj=()=>ki.toasts,Cj=()=>ki.getActiveToasts(),On=Object.assign(Ej,{success:ki.success,info:ki.info,warning:ki.warning,error:ki.error,custom:ki.custom,message:ki.message,promise:ki.promise,dismiss:ki.dismiss,loading:ki.loading},{getHistory:Aj,getToasts:Cj});uj("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function $x(e){return e.label!==void 0}const wj=3,Rj="24px",Tj="16px",bR=4e3,Nj=356,_j=14,Ij=45,Oj=200;function ua(...e){return e.filter(Boolean).join(" ")}function Dj(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const Pj=e=>{var t,n,r,s,a,u,d,h,g;const{invert:p,toast:m,unstyled:x,interacting:b,setHeights:A,visibleToasts:C,heights:w,index:T,toasts:_,expanded:I,removeToast:D,defaultRichColors:L,closeButton:k,style:U,cancelButtonStyle:B,actionButtonStyle:W,className:te="",descriptionClassName:ie="",duration:se,position:Ce,gap:je,expandByDefault:Me,classNames:re,icons:Ie,closeButtonAriaLabel:de="Close toast"}=e,[fe,K]=Ze.useState(null),[ne,me]=Ze.useState(null),[j,z]=Ze.useState(!1),[G,H]=Ze.useState(!1),[J,X]=Ze.useState(!1),[Z,le]=Ze.useState(!1),[xe,Se]=Ze.useState(!1),[oe,ae]=Ze.useState(0),[Ae,Oe]=Ze.useState(0),Be=Ze.useRef(m.duration||se||bR),Ge=Ze.useRef(null),ye=Ze.useRef(null),Fe=T===0,Qe=T+1<=C,yt=m.type,ht=m.dismissible!==!1,pe=m.className||"",Ne=m.descriptionClassName||"",Ye=Ze.useMemo(()=>w.findIndex(dt=>dt.toastId===m.id)||0,[w,m.id]),qe=Ze.useMemo(()=>{var dt;return(dt=m.closeButton)!=null?dt:k},[m.closeButton,k]),tt=Ze.useMemo(()=>m.duration||se||bR,[m.duration,se]),ft=Ze.useRef(0),bt=Ze.useRef(0),jt=Ze.useRef(0),Ot=Ze.useRef(null),[un,Le]=Ce.split("-"),rt=Ze.useMemo(()=>w.reduce((dt,kn,Hn)=>Hn>=Ye?dt:dt+kn.height,0),[w,Ye]),mt=vj(),Et=m.invert||p,Dt=yt==="loading";bt.current=Ze.useMemo(()=>Ye*je+rt,[Ye,rt]),Ze.useEffect(()=>{Be.current=tt},[tt]),Ze.useEffect(()=>{z(!0)},[]),Ze.useEffect(()=>{const dt=ye.current;if(dt){const kn=dt.getBoundingClientRect().height;return Oe(kn),A(Hn=>[{toastId:m.id,height:kn,position:m.position},...Hn]),()=>A(Hn=>Hn.filter(cr=>cr.toastId!==m.id))}},[A,m.id]),Ze.useLayoutEffect(()=>{if(!j)return;const dt=ye.current,kn=dt.style.height;dt.style.height="auto";const Hn=dt.getBoundingClientRect().height;dt.style.height=kn,Oe(Hn),A(cr=>cr.find(nn=>nn.toastId===m.id)?cr.map(nn=>nn.toastId===m.id?{...nn,height:Hn}:nn):[{toastId:m.id,height:Hn,position:m.position},...cr])},[j,m.title,m.description,A,m.id]);const En=Ze.useCallback(()=>{H(!0),ae(bt.current),A(dt=>dt.filter(kn=>kn.toastId!==m.id)),setTimeout(()=>{D(m)},Oj)},[m,D,A,bt]);Ze.useEffect(()=>{if(m.promise&&yt==="loading"||m.duration===1/0||m.type==="loading")return;let dt;return I||b||mt?(()=>{if(jt.current<ft.current){const cr=new Date().getTime()-ft.current;Be.current=Be.current-cr}jt.current=new Date().getTime()})():(()=>{Be.current!==1/0&&(ft.current=new Date().getTime(),dt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),En()},Be.current))})(),()=>clearTimeout(dt)},[I,b,m,yt,mt,En]),Ze.useEffect(()=>{m.delete&&En()},[En,m.delete]);function Fn(){var dt;if(Ie!=null&&Ie.loading){var kn;return Ze.createElement("div",{className:ua(re==null?void 0:re.loader,m==null||(kn=m.classNames)==null?void 0:kn.loader,"sonner-loader"),"data-visible":yt==="loading"},Ie.loading)}return Ze.createElement(dj,{className:ua(re==null?void 0:re.loader,m==null||(dt=m.classNames)==null?void 0:dt.loader),visible:yt==="loading"})}const Kn=m.icon||(Ie==null?void 0:Ie[yt])||cj(yt);var Ur,Ta;return Ze.createElement("li",{tabIndex:0,ref:ye,className:ua(te,pe,re==null?void 0:re.toast,m==null||(t=m.classNames)==null?void 0:t.toast,re==null?void 0:re.default,re==null?void 0:re[yt],m==null||(n=m.classNames)==null?void 0:n[yt]),"data-sonner-toast":"","data-rich-colors":(Ur=m.richColors)!=null?Ur:L,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":j,"data-promise":!!m.promise,"data-swiped":xe,"data-removed":G,"data-visible":Qe,"data-y-position":un,"data-x-position":Le,"data-index":T,"data-front":Fe,"data-swiping":J,"data-dismissible":ht,"data-type":yt,"data-invert":Et,"data-swipe-out":Z,"data-swipe-direction":ne,"data-expanded":!!(I||Me&&j),style:{"--index":T,"--toasts-before":T,"--z-index":_.length-T,"--offset":`${G?oe:bt.current}px`,"--initial-height":Me?"auto":`${Ae}px`,...U,...m.style},onDragEnd:()=>{X(!1),K(null),Ot.current=null},onPointerDown:dt=>{Dt||!ht||(Ge.current=new Date,ae(bt.current),dt.target.setPointerCapture(dt.pointerId),dt.target.tagName!=="BUTTON"&&(X(!0),Ot.current={x:dt.clientX,y:dt.clientY}))},onPointerUp:()=>{var dt,kn,Hn;if(Z||!ht)return;Ot.current=null;const cr=Number(((dt=ye.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Na=Number(((kn=ye.current)==null?void 0:kn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),nn=new Date().getTime()-((Hn=Ge.current)==null?void 0:Hn.getTime()),Bn=fe==="x"?cr:Na,jn=Math.abs(Bn)/nn;if(Math.abs(Bn)>=Ij||jn>.11){ae(bt.current),m.onDismiss==null||m.onDismiss.call(m,m),me(fe==="x"?cr>0?"right":"left":Na>0?"down":"up"),En(),le(!0);return}else{var rn,fr;(rn=ye.current)==null||rn.style.setProperty("--swipe-amount-x","0px"),(fr=ye.current)==null||fr.style.setProperty("--swipe-amount-y","0px")}Se(!1),X(!1),K(null)},onPointerMove:dt=>{var kn,Hn,cr;if(!Ot.current||!ht||((kn=window.getSelection())==null?void 0:kn.toString().length)>0)return;const nn=dt.clientY-Ot.current.y,Bn=dt.clientX-Ot.current.x;var jn;const rn=(jn=e.swipeDirections)!=null?jn:Dj(Ce);!fe&&(Math.abs(Bn)>1||Math.abs(nn)>1)&&K(Math.abs(Bn)>Math.abs(nn)?"x":"y");let fr={x:0,y:0};const Su=Gi=>1/(1.5+Math.abs(Gi)/20);if(fe==="y"){if(rn.includes("top")||rn.includes("bottom"))if(rn.includes("top")&&nn<0||rn.includes("bottom")&&nn>0)fr.y=nn;else{const Gi=nn*Su(nn);fr.y=Math.abs(Gi)<Math.abs(nn)?Gi:nn}}else if(fe==="x"&&(rn.includes("left")||rn.includes("right")))if(rn.includes("left")&&Bn<0||rn.includes("right")&&Bn>0)fr.x=Bn;else{const Gi=Bn*Su(Bn);fr.x=Math.abs(Gi)<Math.abs(Bn)?Gi:Bn}(Math.abs(fr.x)>0||Math.abs(fr.y)>0)&&Se(!0),(Hn=ye.current)==null||Hn.style.setProperty("--swipe-amount-x",`${fr.x}px`),(cr=ye.current)==null||cr.style.setProperty("--swipe-amount-y",`${fr.y}px`)}},qe&&!m.jsx&&yt!=="loading"?Ze.createElement("button",{"aria-label":de,"data-disabled":Dt,"data-close-button":!0,onClick:Dt||!ht?()=>{}:()=>{En(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ua(re==null?void 0:re.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Ta=Ie==null?void 0:Ie.close)!=null?Ta:yj):null,(yt||m.icon||m.promise)&&m.icon!==null&&((Ie==null?void 0:Ie[yt])!==null||m.icon)?Ze.createElement("div",{"data-icon":"",className:ua(re==null?void 0:re.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Fn():null,m.type!=="loading"?Kn:null):null,Ze.createElement("div",{"data-content":"",className:ua(re==null?void 0:re.content,m==null||(a=m.classNames)==null?void 0:a.content)},Ze.createElement("div",{"data-title":"",className:ua(re==null?void 0:re.title,m==null||(u=m.classNames)==null?void 0:u.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Ze.createElement("div",{"data-description":"",className:ua(ie,Ne,re==null?void 0:re.description,m==null||(d=m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),Ze.isValidElement(m.cancel)?m.cancel:m.cancel&&$x(m.cancel)?Ze.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||B,onClick:dt=>{$x(m.cancel)&&ht&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,dt),En())},className:ua(re==null?void 0:re.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,Ze.isValidElement(m.action)?m.action:m.action&&$x(m.action)?Ze.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||W,onClick:dt=>{$x(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,dt),!dt.defaultPrevented&&En())},className:ua(re==null?void 0:re.actionButton,m==null||(g=m.classNames)==null?void 0:g.actionButton)},m.action.label):null)};function SR(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Mj(e,t){const n={};return[e,t].forEach((r,s)=>{const a=s===1,u=a?"--mobile-offset":"--offset",d=a?Tj:Rj;function h(g){["top","right","bottom","left"].forEach(p=>{n[`${u}-${p}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?n[`${u}-${g}`]=d:n[`${u}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):h(d)}),n}const Lj=Ze.forwardRef(function(t,n){const{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:u,closeButton:d,className:h,offset:g,mobileOffset:p,theme:m="light",richColors:x,duration:b,style:A,visibleToasts:C=wj,toastOptions:w,dir:T=SR(),gap:_=_j,icons:I,containerAriaLabel:D="Notifications"}=t,[L,k]=Ze.useState([]),U=Ze.useMemo(()=>Array.from(new Set([s].concat(L.filter(ne=>ne.position).map(ne=>ne.position)))),[L,s]),[B,W]=Ze.useState([]),[te,ie]=Ze.useState(!1),[se,Ce]=Ze.useState(!1),[je,Me]=Ze.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=Ze.useRef(null),Ie=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=Ze.useRef(null),fe=Ze.useRef(!1),K=Ze.useCallback(ne=>{k(me=>{var j;return(j=me.find(z=>z.id===ne.id))!=null&&j.delete||ki.dismiss(ne.id),me.filter(({id:z})=>z!==ne.id)})},[]);return Ze.useEffect(()=>ki.subscribe(ne=>{if(ne.dismiss){requestAnimationFrame(()=>{k(me=>me.map(j=>j.id===ne.id?{...j,delete:!0}:j))});return}setTimeout(()=>{yD.flushSync(()=>{k(me=>{const j=me.findIndex(z=>z.id===ne.id);return j!==-1?[...me.slice(0,j),{...me[j],...ne},...me.slice(j+1)]:[ne,...me]})})})}),[L]),Ze.useEffect(()=>{if(m!=="system"){Me(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Me("dark"):Me("light")),typeof window>"u")return;const ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:me})=>{Me(me?"dark":"light")})}catch{ne.addListener(({matches:j})=>{try{Me(j?"dark":"light")}catch(z){console.error(z)}})}},[m]),Ze.useEffect(()=>{L.length<=1&&ie(!1)},[L]),Ze.useEffect(()=>{const ne=me=>{var j;if(a.every(H=>me[H]||me.code===H)){var G;ie(!0),(G=re.current)==null||G.focus()}me.code==="Escape"&&(document.activeElement===re.current||(j=re.current)!=null&&j.contains(document.activeElement))&&ie(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[a]),Ze.useEffect(()=>{if(re.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,fe.current=!1)}},[re.current]),Ze.createElement("section",{ref:n,"aria-label":`${D} ${Ie}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((ne,me)=>{var j;const[z,G]=ne.split("-");return L.length?Ze.createElement("ol",{key:ne,dir:T==="auto"?SR():T,tabIndex:-1,ref:re,className:h,"data-sonner-toaster":!0,"data-sonner-theme":je,"data-y-position":z,"data-lifted":te&&L.length>1&&!u,"data-x-position":G,style:{"--front-toast-height":`${((j=B[0])==null?void 0:j.height)||0}px`,"--width":`${Nj}px`,"--gap":`${_}px`,...A,...Mj(g,p)},onBlur:H=>{fe.current&&!H.currentTarget.contains(H.relatedTarget)&&(fe.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,de.current=H.relatedTarget)},onMouseEnter:()=>ie(!0),onMouseMove:()=>ie(!0),onMouseLeave:()=>{se||ie(!1)},onDragEnd:()=>ie(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||Ce(!0)},onPointerUp:()=>Ce(!1)},L.filter(H=>!H.position&&me===0||H.position===ne).map((H,J)=>{var X,Z;return Ze.createElement(Pj,{key:H.id,icons:I,index:J,toast:H,defaultRichColors:x,duration:(X=w==null?void 0:w.duration)!=null?X:b,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:r,visibleToasts:C,closeButton:(Z=w==null?void 0:w.closeButton)!=null?Z:d,interacting:se,position:ne,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:K,toasts:L.filter(le=>le.position==H.position),heights:B.filter(le=>le.position==H.position),setHeights:W,expandByDefault:u,gap:_,expanded:te,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ER=e=>{const t=kj(e);return t.charAt(0).toUpperCase()+t.slice(1)},OD=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Bj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=F.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...d},h)=>F.createElement("svg",{ref:h,...jj,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:OD("lucide",s),...!a&&!Bj(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,p])=>F.createElement(g,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=(e,t)=>{const n=F.forwardRef(({className:r,...s},a)=>F.createElement(zj,{ref:a,iconNode:t,className:OD(`lucide-${Fj(ER(e))}`,`lucide-${e}`,r),...s}));return n.displayName=ER(e),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DD=zi("check",Vj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],PD=zi("chevron-down",Uj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$j=zi("chevron-up",Gj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wj=zi("circle-check",Hj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qj=zi("circle-x",Yj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],MD=zi("ellipsis",Kj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]],LD=zi("grid-2x2-plus",Xj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],FD=zi("loader-circle",Zj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Qj=zi("panel-left",Jj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],kD=zi("pencil",ez);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],BD=zi("plus",tz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],rz=zi("plug",nz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],jD=zi("trash-2",iz);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zD=zi("x",oz);function VD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=VD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function UD(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=VD(e))&&(r&&(r+=" "),r+=t);return r}const fw="-",sz=e=>{const t=lz(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const d=u.split(fw);return d[0]===""&&d.length!==1&&d.shift(),GD(d,t)||az(u)},getConflictingClassGroupIds:(u,d)=>{const h=n[u]||[];return d&&r[u]?[...h,...r[u]]:h}}},GD=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?GD(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(fw);return(u=t.validators.find(({validator:d})=>d(a)))==null?void 0:u.classGroupId},AR=/^\[(.+)\]$/,az=e=>{if(AR.test(e)){const t=AR.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},lz=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)mC(n[s],r,s,t);return r},mC=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:CR(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(uz(s)){mC(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,u])=>{mC(u,CR(t,a),n,r)})})},CR=(e,t)=>{let n=e;return t.split(fw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},uz=e=>e.isThemeGetter,cz=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,u)=>{n.set(a,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let u=n.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return s(a,u),u},set(a,u){n.has(a)?n.set(a,u):s(a,u)}}},yC="!",vC=":",fz=vC.length,dz=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const a=[];let u=0,d=0,h=0,g;for(let A=0;A<s.length;A++){let C=s[A];if(u===0&&d===0){if(C===vC){a.push(s.slice(h,A)),h=A+fz;continue}if(C==="/"){g=A;continue}}C==="["?u++:C==="]"?u--:C==="("?d++:C===")"&&d--}const p=a.length===0?s:s.substring(h),m=hz(p),x=m!==p,b=g&&g>h?g-h:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:b}};if(t){const s=t+vC,a=r;r=u=>u.startsWith(s)?a(u.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},hz=e=>e.endsWith(yC)?e.substring(0,e.length-1):e.startsWith(yC)?e.substring(1):e,pz=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(u=>{u[0]==="["||t[u]?(s.push(...a.sort(),u),a=[]):a.push(u)}),s.push(...a.sort()),s}},gz=e=>({cache:cz(e.cacheSize),parseClassName:dz(e),sortModifiers:pz(e),...sz(e)}),mz=/\s+/,yz=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=t,u=[],d=e.trim().split(mz);let h="";for(let g=d.length-1;g>=0;g-=1){const p=d[g],{isExternal:m,modifiers:x,hasImportantModifier:b,baseClassName:A,maybePostfixModifierPosition:C}=n(p);if(m){h=p+(h.length>0?" "+h:h);continue}let w=!!C,T=r(w?A.substring(0,C):A);if(!T){if(!w){h=p+(h.length>0?" "+h:h);continue}if(T=r(A),!T){h=p+(h.length>0?" "+h:h);continue}w=!1}const _=a(x).join(":"),I=b?_+yC:_,D=I+T;if(u.includes(D))continue;u.push(D);const L=s(T,w);for(let k=0;k<L.length;++k){const U=L[k];u.push(I+U)}h=p+(h.length>0?" "+h:h)}return h};function vz(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=$D(t))&&(r&&(r+=" "),r+=n);return r}const $D=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=$D(e[r]))&&(n&&(n+=" "),n+=t);return n};function xz(e,...t){let n,r,s,a=u;function u(h){const g=t.reduce((p,m)=>m(p),e());return n=gz(g),r=n.cache.get,s=n.cache.set,a=d,d(h)}function d(h){const g=r(h);if(g)return g;const p=yz(h,n);return s(h,p),p}return function(){return a(vz.apply(null,arguments))}}const Ar=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},HD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,WD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bz=/^\d+\/\d+$/,Sz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ez=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Az=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Cz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wp=e=>bz.test(e),Wt=e=>!!e&&!Number.isNaN(Number(e)),mc=e=>!!e&&Number.isInteger(Number(e)),U1=e=>e.endsWith("%")&&Wt(e.slice(0,-1)),ol=e=>Sz.test(e),Rz=()=>!0,Tz=e=>Ez.test(e)&&!Az.test(e),YD=()=>!1,Nz=e=>Cz.test(e),_z=e=>wz.test(e),Iz=e=>!lt(e)&&!ut(e),Oz=e=>lg(e,XD,YD),lt=e=>HD.test(e),kf=e=>lg(e,ZD,Tz),G1=e=>lg(e,Fz,Wt),wR=e=>lg(e,qD,YD),Dz=e=>lg(e,KD,_z),Hx=e=>lg(e,JD,Nz),ut=e=>WD.test(e),h0=e=>ug(e,ZD),Pz=e=>ug(e,kz),RR=e=>ug(e,qD),Mz=e=>ug(e,XD),Lz=e=>ug(e,KD),Wx=e=>ug(e,JD,!0),lg=(e,t,n)=>{const r=HD.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ug=(e,t,n=!1)=>{const r=WD.exec(e);return r?r[1]?t(r[1]):n:!1},qD=e=>e==="position"||e==="percentage",KD=e=>e==="image"||e==="url",XD=e=>e==="length"||e==="size"||e==="bg-size",ZD=e=>e==="length",Fz=e=>e==="number",kz=e=>e==="family-name",JD=e=>e==="shadow",Bz=()=>{const e=Ar("color"),t=Ar("font"),n=Ar("text"),r=Ar("font-weight"),s=Ar("tracking"),a=Ar("leading"),u=Ar("breakpoint"),d=Ar("container"),h=Ar("spacing"),g=Ar("radius"),p=Ar("shadow"),m=Ar("inset-shadow"),x=Ar("text-shadow"),b=Ar("drop-shadow"),A=Ar("blur"),C=Ar("perspective"),w=Ar("aspect"),T=Ar("ease"),_=Ar("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...D(),ut,lt],k=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],B=()=>[ut,lt,h],W=()=>[wp,"full","auto",...B()],te=()=>[mc,"none","subgrid",ut,lt],ie=()=>["auto",{span:["full",mc,ut,lt]},mc,ut,lt],se=()=>[mc,"auto",ut,lt],Ce=()=>["auto","min","max","fr",ut,lt],je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Me=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...B()],Ie=()=>[wp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],de=()=>[e,ut,lt],fe=()=>[...D(),RR,wR,{position:[ut,lt]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",Mz,Oz,{size:[ut,lt]}],me=()=>[U1,h0,kf],j=()=>["","none","full",g,ut,lt],z=()=>["",Wt,h0,kf],G=()=>["solid","dashed","dotted","double"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[Wt,U1,RR,wR],X=()=>["","none",A,ut,lt],Z=()=>["none",Wt,ut,lt],le=()=>["none",Wt,ut,lt],xe=()=>[Wt,ut,lt],Se=()=>[wp,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ol],breakpoint:[ol],color:[Rz],container:[ol],"drop-shadow":[ol],ease:["in","out","in-out"],font:[Iz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ol],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ol],shadow:[ol],spacing:["px",Wt],text:[ol],"text-shadow":[ol],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",wp,lt,ut,w]}],container:["container"],columns:[{columns:[Wt,lt,ut,d]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[mc,"auto",ut,lt]}],basis:[{basis:[wp,"full","auto",d,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Wt,wp,"auto","initial","none",lt]}],grow:[{grow:["",Wt,ut,lt]}],shrink:[{shrink:["",Wt,ut,lt]}],order:[{order:[mc,"first","last","none",ut,lt]}],"grid-cols":[{"grid-cols":te()}],"col-start-end":[{col:ie()}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":te()}],"row-start-end":[{row:ie()}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ce()}],"auto-rows":[{"auto-rows":Ce()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...je(),"normal"]}],"justify-items":[{"justify-items":[...Me(),"normal"]}],"justify-self":[{"justify-self":["auto",...Me()]}],"align-content":[{content:["normal",...je()]}],"align-items":[{items:[...Me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Me(),{baseline:["","last"]}]}],"place-content":[{"place-content":je()}],"place-items":[{"place-items":[...Me(),"baseline"]}],"place-self":[{"place-self":["auto",...Me()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ie()}],w:[{w:[d,"screen",...Ie()]}],"min-w":[{"min-w":[d,"screen","none",...Ie()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...Ie()]}],h:[{h:["screen",...Ie()]}],"min-h":[{"min-h":["screen","none",...Ie()]}],"max-h":[{"max-h":["screen",...Ie()]}],"font-size":[{text:["base",n,h0,kf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ut,G1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",U1,lt]}],"font-family":[{font:[Pz,lt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ut,lt]}],"line-clamp":[{"line-clamp":[Wt,"none",ut,G1]}],leading:[{leading:[a,...B()]}],"list-image":[{"list-image":["none",ut,lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ut,lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:de()}],"text-color":[{text:de()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Wt,"from-font","auto",ut,kf]}],"text-decoration-color":[{decoration:de()}],"underline-offset":[{"underline-offset":[Wt,"auto",ut,lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut,lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut,lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},mc,ut,lt],radial:["",ut,lt],conic:[mc,ut,lt]},Lz,Dz]}],"bg-color":[{bg:de()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:de()}],"gradient-via":[{via:de()}],"gradient-to":[{to:de()}],rounded:[{rounded:j()}],"rounded-s":[{"rounded-s":j()}],"rounded-e":[{"rounded-e":j()}],"rounded-t":[{"rounded-t":j()}],"rounded-r":[{"rounded-r":j()}],"rounded-b":[{"rounded-b":j()}],"rounded-l":[{"rounded-l":j()}],"rounded-ss":[{"rounded-ss":j()}],"rounded-se":[{"rounded-se":j()}],"rounded-ee":[{"rounded-ee":j()}],"rounded-es":[{"rounded-es":j()}],"rounded-tl":[{"rounded-tl":j()}],"rounded-tr":[{"rounded-tr":j()}],"rounded-br":[{"rounded-br":j()}],"rounded-bl":[{"rounded-bl":j()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:de()}],"border-color-x":[{"border-x":de()}],"border-color-y":[{"border-y":de()}],"border-color-s":[{"border-s":de()}],"border-color-e":[{"border-e":de()}],"border-color-t":[{"border-t":de()}],"border-color-r":[{"border-r":de()}],"border-color-b":[{"border-b":de()}],"border-color-l":[{"border-l":de()}],"divide-color":[{divide:de()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Wt,ut,lt]}],"outline-w":[{outline:["",Wt,h0,kf]}],"outline-color":[{outline:de()}],shadow:[{shadow:["","none",p,Wx,Hx]}],"shadow-color":[{shadow:de()}],"inset-shadow":[{"inset-shadow":["none",m,Wx,Hx]}],"inset-shadow-color":[{"inset-shadow":de()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:de()}],"ring-offset-w":[{"ring-offset":[Wt,kf]}],"ring-offset-color":[{"ring-offset":de()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":de()}],"text-shadow":[{"text-shadow":["none",x,Wx,Hx]}],"text-shadow-color":[{"text-shadow":de()}],opacity:[{opacity:[Wt,ut,lt]}],"mix-blend":[{"mix-blend":[...H(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":H()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Wt]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":de()}],"mask-image-linear-to-color":[{"mask-linear-to":de()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":de()}],"mask-image-t-to-color":[{"mask-t-to":de()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":de()}],"mask-image-r-to-color":[{"mask-r-to":de()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":de()}],"mask-image-b-to-color":[{"mask-b-to":de()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":de()}],"mask-image-l-to-color":[{"mask-l-to":de()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":de()}],"mask-image-x-to-color":[{"mask-x-to":de()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":de()}],"mask-image-y-to-color":[{"mask-y-to":de()}],"mask-image-radial":[{"mask-radial":[ut,lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":de()}],"mask-image-radial-to-color":[{"mask-radial-to":de()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Wt]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":de()}],"mask-image-conic-to-color":[{"mask-conic-to":de()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ut,lt]}],filter:[{filter:["","none",ut,lt]}],blur:[{blur:X()}],brightness:[{brightness:[Wt,ut,lt]}],contrast:[{contrast:[Wt,ut,lt]}],"drop-shadow":[{"drop-shadow":["","none",b,Wx,Hx]}],"drop-shadow-color":[{"drop-shadow":de()}],grayscale:[{grayscale:["",Wt,ut,lt]}],"hue-rotate":[{"hue-rotate":[Wt,ut,lt]}],invert:[{invert:["",Wt,ut,lt]}],saturate:[{saturate:[Wt,ut,lt]}],sepia:[{sepia:["",Wt,ut,lt]}],"backdrop-filter":[{"backdrop-filter":["","none",ut,lt]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[Wt,ut,lt]}],"backdrop-contrast":[{"backdrop-contrast":[Wt,ut,lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Wt,ut,lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Wt,ut,lt]}],"backdrop-invert":[{"backdrop-invert":["",Wt,ut,lt]}],"backdrop-opacity":[{"backdrop-opacity":[Wt,ut,lt]}],"backdrop-saturate":[{"backdrop-saturate":[Wt,ut,lt]}],"backdrop-sepia":[{"backdrop-sepia":["",Wt,ut,lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ut,lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Wt,"initial",ut,lt]}],ease:[{ease:["linear","initial",T,ut,lt]}],delay:[{delay:[Wt,ut,lt]}],animate:[{animate:["none",_,ut,lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,ut,lt]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[ut,lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Se()}],"translate-x":[{"translate-x":Se()}],"translate-y":[{"translate-y":Se()}],"translate-z":[{"translate-z":Se()}],"translate-none":["translate-none"],accent:[{accent:de()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:de()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut,lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut,lt]}],fill:[{fill:["none",...de()]}],"stroke-w":[{stroke:[Wt,h0,kf,G1]}],stroke:[{stroke:["none",...de()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jz=xz(Bz);function xt(...e){return jz(UD(e))}function TR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Yb(...e){return t=>{let n=!1;const r=e.map(s=>{const a=TR(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():TR(e[s],null)}}}}function ln(...e){return F.useCallback(Yb(...e),e)}function Fc(e){const t=zz(e),n=F.forwardRef((r,s)=>{const{children:a,...u}=r,d=F.Children.toArray(a),h=d.find(Uz);if(h){const g=h.props.children,p=d.map(m=>m===h?F.Children.count(g)>1?F.Children.only(null):F.isValidElement(g)?g.props.children:null:m);return O.jsx(t,{...u,ref:s,children:F.isValidElement(g)?F.cloneElement(g,void 0,p):null})}return O.jsx(t,{...u,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var dw=Fc("Slot");function zz(e){const t=F.forwardRef((n,r)=>{const{children:s,...a}=n;if(F.isValidElement(s)){const u=$z(s),d=Gz(a,s.props);return s.type!==F.Fragment&&(d.ref=r?Yb(r,u):u),F.cloneElement(s,d)}return F.Children.count(s)>1?F.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QD=Symbol("radix.slottable");function Vz(e){const t=({children:n})=>O.jsx(O.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=QD,t}function Uz(e){return F.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QD}function Gz(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...d)=>{a(...d),s(...d)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function $z(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const NR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_R=UD,qb=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return _R(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,u=Object.keys(s).map(g=>{const p=n==null?void 0:n[g],m=a==null?void 0:a[g];if(p===null)return null;const x=NR(p)||NR(m);return s[g][x]}),d=n&&Object.entries(n).reduce((g,p)=>{let[m,x]=p;return x===void 0||(g[m]=x),g},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((g,p)=>{let{class:m,className:x,...b}=p;return Object.entries(b).every(A=>{let[C,w]=A;return Array.isArray(w)?w.includes({...a,...d}[C]):{...a,...d}[C]===w})?[...g,m,x]:g},[]);return _R(e,u,h,n==null?void 0:n.class,n==null?void 0:n.className)},Hz=qb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function qn({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?dw:"button";return O.jsx(a,{"data-slot":"button",className:xt("cursor-pointer",Hz({variant:t,size:n,className:e})),...s})}function Wz({className:e,...t}){return O.jsxs("form",{className:xt("flex flex-col gap-6",e),...t,children:[O.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[O.jsx("h1",{className:"text-2xl font-bold",children:"Login to Wafflebase"}),O.jsx("p",{className:"text-balance text-sm text-muted-foreground",children:"Wafflebase with your GitHub account."})]}),O.jsx("div",{className:"grid gap-6",children:O.jsx(qn,{variant:"outline",className:"w-full",asChild:!0,children:O.jsxs(sg,{to:"https://wafflebase-api.yorkie.dev/auth/github",rel:"noopener noreferrer",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:O.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12",fill:"currentColor"})}),"Login with GitHub"]})})})]})}function Yz(){return O.jsx("div",{className:"grid min-h-svh",children:O.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[O.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:O.jsxs("a",{href:"#",className:"flex items-center gap-2 font-medium",children:[O.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-primary text-primary-foreground",children:O.jsx(LD,{className:"!size-5"})}),"Wafflebase"]})}),O.jsx("div",{className:"flex flex-1 items-center justify-center",children:O.jsx("div",{className:"w-full max-w-xs",children:O.jsx(Wz,{})})})]})})}async function e3(){if(!(await fetch("https://wafflebase-api.yorkie.dev/auth/logout",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to log out");On.success("Logged out successfully"),window.location.href="/login"}async function nh(){const e=await Vi("https://wafflebase-api.yorkie.dev/auth/me",{method:"GET",credentials:"include"});if(!e.ok)throw new Error("Failed to fetch user");return e.json()}async function Vi(e,t){const n=await fetch(e,{...t,credentials:"include"});if(n.status===401)throw await e3(),new Error("Unauthorized");return n}async function qz(e){const t=await Vi("https://wafflebase-api.yorkie.dev/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create document");return t.json()}async function Kz(){const e=await Vi("https://wafflebase-api.yorkie.dev/documents");if(!e.ok)throw new Error("Failed to fetch documents");return await e.json()}async function Xz(e,t){const n=await Vi(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})});if(!n.ok)throw new Error("Failed to rename document");return n.json()}async function Zz(e){if((await Vi(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"DELETE"})).ok)On.success("Document deleted successfully");else throw On.error("Failed to delete document"),new Error("Failed to delete document")}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Dc(e,t){return typeof e=="function"?e(t):e}function so(e,t){return n=>{t.setState(r=>({...r,[e]:Dc(n,r[e])}))}}function Kb(e){return e instanceof Function}function Jz(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Qz(e,t){const n=[],r=s=>{s.forEach(a=>{n.push(a);const u=t(a);u!=null&&u.length&&r(u)})};return r(e),n}function Rt(e,t,n){let r=[],s;return a=>{let u;n.key&&n.debug&&(u=Date.now());const d=e(a);if(!(d.length!==r.length||d.some((p,m)=>r[m]!==p)))return s;r=d;let g;if(n.key&&n.debug&&(g=Date.now()),s=t(...d),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-g)*100)/100,x=m/16,b=(A,C)=>{for(A=String(A);A.length<C;)A=" "+A;return A};console.info(`%c ${b(m,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function Tt(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function e5(e,t,n,r){const s=()=>{var u;return(u=a.getValue())!=null?u:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:Rt(()=>[e,n,t,a],(u,d,h,g)=>({table:u,column:d,row:h,cell:g,getValue:g.getValue,renderValue:g.renderValue}),Tt(e.options,"debugCells"))};return e._features.forEach(u=>{u.createCell==null||u.createCell(a,n,t,e)},{}),a}function t5(e,t,n,r){var s,a;const d={...e._getDefaultColumnDef(),...t},h=d.accessorKey;let g=(s=(a=d.id)!=null?a:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?s:typeof d.header=="string"?d.header:void 0,p;if(d.accessorFn?p=d.accessorFn:h&&(h.includes(".")?p=x=>{let b=x;for(const C of h.split(".")){var A;b=(A=b)==null?void 0:A[C]}return b}:p=x=>x[d.accessorKey]),!g)throw new Error;let m={id:`${String(g)}`,accessorFn:p,parent:r,depth:n,columnDef:d,columns:[],getFlatColumns:Rt(()=>[!0],()=>{var x;return[m,...(x=m.columns)==null?void 0:x.flatMap(b=>b.getFlatColumns())]},Tt(e.options,"debugColumns")),getLeafColumns:Rt(()=>[e._getOrderColumnsFn()],x=>{var b;if((b=m.columns)!=null&&b.length){let A=m.columns.flatMap(C=>C.getLeafColumns());return x(A)}return[m]},Tt(e.options,"debugColumns"))};for(const x of e._features)x.createColumn==null||x.createColumn(m,e);return m}const ri="debugHeaders";function IR(e,t,n){var r;let a={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const u=[],d=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(d),u.push(h)};return d(a),u},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(u=>{u.createHeader==null||u.createHeader(a,e)}),a}const n5={createTable:e=>{e.getHeaderGroups=Rt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var a,u;const d=(a=r==null?void 0:r.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?a:[],h=(u=s==null?void 0:s.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?u:[],g=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(s!=null&&s.includes(m.id)));return Yx(t,[...d,...g,...h],e)},Tt(e.options,ri)),e.getCenterHeaderGroups=Rt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(s!=null&&s.includes(a.id))),Yx(t,n,e,"center")),Tt(e.options,ri)),e.getLeftHeaderGroups=Rt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const a=(s=r==null?void 0:r.map(u=>n.find(d=>d.id===u)).filter(Boolean))!=null?s:[];return Yx(t,a,e,"left")},Tt(e.options,ri)),e.getRightHeaderGroups=Rt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const a=(s=r==null?void 0:r.map(u=>n.find(d=>d.id===u)).filter(Boolean))!=null?s:[];return Yx(t,a,e,"right")},Tt(e.options,ri)),e.getFooterGroups=Rt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Tt(e.options,ri)),e.getLeftFooterGroups=Rt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Tt(e.options,ri)),e.getCenterFooterGroups=Rt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Tt(e.options,ri)),e.getRightFooterGroups=Rt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Tt(e.options,ri)),e.getFlatHeaders=Rt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,ri)),e.getLeftFlatHeaders=Rt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,ri)),e.getCenterFlatHeaders=Rt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,ri)),e.getRightFlatHeaders=Rt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,ri)),e.getCenterLeafHeaders=Rt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Tt(e.options,ri)),e.getLeftLeafHeaders=Rt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Tt(e.options,ri)),e.getRightLeafHeaders=Rt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Tt(e.options,ri)),e.getLeafHeaders=Rt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,a,u,d,h,g;return[...(s=(a=t[0])==null?void 0:a.headers)!=null?s:[],...(u=(d=n[0])==null?void 0:d.headers)!=null?u:[],...(h=(g=r[0])==null?void 0:g.headers)!=null?h:[]].map(p=>p.getLeafHeaders()).flat()},Tt(e.options,ri))}};function Yx(e,t,n,r){var s,a;let u=0;const d=function(x,b){b===void 0&&(b=1),u=Math.max(u,b),x.filter(A=>A.getIsVisible()).forEach(A=>{var C;(C=A.columns)!=null&&C.length&&d(A.columns,b+1)},0)};d(e);let h=[];const g=(x,b)=>{const A={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},C=[];x.forEach(w=>{const T=[...C].reverse()[0],_=w.column.depth===A.depth;let I,D=!1;if(_&&w.column.parent?I=w.column.parent:(I=w.column,D=!0),T&&(T==null?void 0:T.column)===I)T.subHeaders.push(w);else{const L=IR(n,I,{id:[r,b,I.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${C.filter(k=>k.column===I).length}`:void 0,depth:b,index:C.length});L.subHeaders.push(w),C.push(L)}A.headers.push(w),w.headerGroup=A}),h.push(A),b>0&&g(C,b-1)},p=t.map((x,b)=>IR(n,x,{depth:u,index:b}));g(p,u-1),h.reverse();const m=x=>x.filter(A=>A.column.getIsVisible()).map(A=>{let C=0,w=0,T=[0];A.subHeaders&&A.subHeaders.length?(T=[],m(A.subHeaders).forEach(I=>{let{colSpan:D,rowSpan:L}=I;C+=D,T.push(L)})):C=1;const _=Math.min(...T);return w=w+_,A.colSpan=C,A.rowSpan=w,{colSpan:C,rowSpan:w}});return m((s=(a=h[0])==null?void 0:a.headers)!=null?s:[]),h}const hw=(e,t,n,r,s,a,u)=>{let d={id:t,index:r,original:n,depth:s,parentId:u,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(d._valuesCache.hasOwnProperty(h))return d._valuesCache[h];const g=e.getColumn(h);if(g!=null&&g.accessorFn)return d._valuesCache[h]=g.accessorFn(d.original,r),d._valuesCache[h]},getUniqueValues:h=>{if(d._uniqueValuesCache.hasOwnProperty(h))return d._uniqueValuesCache[h];const g=e.getColumn(h);if(g!=null&&g.accessorFn)return g.columnDef.getUniqueValues?(d._uniqueValuesCache[h]=g.columnDef.getUniqueValues(d.original,r),d._uniqueValuesCache[h]):(d._uniqueValuesCache[h]=[d.getValue(h)],d._uniqueValuesCache[h])},renderValue:h=>{var g;return(g=d.getValue(h))!=null?g:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Qz(d.subRows,h=>h.subRows),getParentRow:()=>d.parentId?e.getRow(d.parentId,!0):void 0,getParentRows:()=>{let h=[],g=d;for(;;){const p=g.getParentRow();if(!p)break;h.push(p),g=p}return h.reverse()},getAllCells:Rt(()=>[e.getAllLeafColumns()],h=>h.map(g=>e5(e,d,g,g.id)),Tt(e.options,"debugRows")),_getAllCellsByColumnId:Rt(()=>[d.getAllCells()],h=>h.reduce((g,p)=>(g[p.column.id]=p,g),{}),Tt(e.options,"debugRows"))};for(let h=0;h<e._features.length;h++){const g=e._features[h];g==null||g.createRow==null||g.createRow(d,e)}return d},r5={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},t3=(e,t,n)=>{var r,s;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(a))};t3.autoRemove=e=>ys(e);const n3=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};n3.autoRemove=e=>ys(e);const r3=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};r3.autoRemove=e=>ys(e);const i3=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};i3.autoRemove=e=>ys(e);const o3=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});o3.autoRemove=e=>ys(e)||!(e!=null&&e.length);const s3=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});s3.autoRemove=e=>ys(e)||!(e!=null&&e.length);const a3=(e,t,n)=>e.getValue(t)===n;a3.autoRemove=e=>ys(e);const l3=(e,t,n)=>e.getValue(t)==n;l3.autoRemove=e=>ys(e);const pw=(e,t,n)=>{let[r,s]=n;const a=e.getValue(t);return a>=r&&a<=s};pw.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(r)?-1/0:r,u=n===null||Number.isNaN(s)?1/0:s;if(a>u){const d=a;a=u,u=d}return[a,u]};pw.autoRemove=e=>ys(e)||ys(e[0])&&ys(e[1]);const uu={includesString:t3,includesStringSensitive:n3,equalsString:r3,arrIncludes:i3,arrIncludesAll:o3,arrIncludesSome:s3,equals:a3,weakEquals:l3,inNumberRange:pw};function ys(e){return e==null||e===""}const i5={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:so("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?uu.includesString:typeof r=="number"?uu.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?uu.equals:Array.isArray(r)?uu.arrIncludes:uu.weakEquals},e.getFilterFn=()=>{var n,r;return Kb(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:uu[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),a=r==null?void 0:r.find(p=>p.id===e.id),u=Dc(n,a?a.value:void 0);if(OR(s,u,e)){var d;return(d=r==null?void 0:r.filter(p=>p.id!==e.id))!=null?d:[]}const h={id:e.id,value:u};if(a){var g;return(g=r==null?void 0:r.map(p=>p.id===e.id?h:p))!=null?g:[]}return r!=null&&r.length?[...r,h]:[h]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var a;return(a=Dc(t,s))==null?void 0:a.filter(u=>{const d=n.find(h=>h.id===u.id);if(d){const h=d.getFilterFn();if(OR(h,u.value,d))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function OR(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const o5=(e,t,n)=>n.reduce((r,s)=>{const a=s.getValue(e);return r+(typeof a=="number"?a:0)},0),s5=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},a5=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},l5=(e,t,n)=>{let r,s;return n.forEach(a=>{const u=a.getValue(e);u!=null&&(r===void 0?u>=u&&(r=s=u):(r>u&&(r=u),s<u&&(s=u)))}),[r,s]},u5=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let a=s.getValue(e);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},c5=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!Jz(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((a,u)=>a-u);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},f5=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),d5=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,h5=(e,t)=>t.length,$1={sum:o5,min:s5,max:a5,extent:l5,mean:u5,median:c5,unique:f5,uniqueCount:d5,count:h5},p5={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:so("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return $1.sum;if(Object.prototype.toString.call(r)==="[object Date]")return $1.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Kb(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:$1[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function g5(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(a=>!t.includes(a.id));return n==="remove"?r:[...t.map(a=>e.find(u=>u.id===a)).filter(Boolean),...r]}const m5={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:so("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Rt(n=>[Z0(t,n)],n=>n.findIndex(r=>r.id===e.id),Tt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Z0(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=Z0(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Rt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let a=[];if(!(t!=null&&t.length))a=s;else{const u=[...t],d=[...s];for(;d.length&&u.length;){const h=u.shift(),g=d.findIndex(p=>p.id===h);g>-1&&a.push(d.splice(g,1)[0])}a=[...a,...d]}return g5(a,n,r)},Tt(e.options,"debugTable"))}},H1=()=>({left:[],right:[]}),y5={getInitialState:e=>({columnPinning:H1(),...e}),getDefaultOptions:e=>({onColumnPinningChange:so("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var a,u;if(n==="right"){var d,h;return{left:((d=s==null?void 0:s.left)!=null?d:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((h=s==null?void 0:s.right)!=null?h:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var g,p;return{left:[...((g=s==null?void 0:s.left)!=null?g:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((p=s==null?void 0:s.right)!=null?p:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(m=>!(r!=null&&r.includes(m))),right:((u=s==null?void 0:s.right)!=null?u:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,a,u;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((a=(u=t.options.enableColumnPinning)!=null?u:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(d=>d.id),{left:r,right:s}=t.getState().columnPinning,a=n.some(d=>r==null?void 0:r.includes(d)),u=n.some(d=>s==null?void 0:s.includes(d));return a?"left":u?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Rt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const a=[...r??[],...s??[]];return n.filter(u=>!a.includes(u.column.id))},Tt(t.options,"debugRows")),e.getLeftVisibleCells=Rt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(u=>u.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),Tt(t.options,"debugRows")),e.getRightVisibleCells=Rt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(u=>u.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),Tt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?H1():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:H1())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,a;return!!((s=r.left)!=null&&s.length||(a=r.right)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Rt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Tt(e.options,"debugColumns")),e.getRightLeafColumns=Rt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Tt(e.options,"debugColumns")),e.getCenterLeafColumns=Rt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(a=>!s.includes(a.id))},Tt(e.options,"debugColumns"))}},qx={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},W1=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),v5={getDefaultColumnDef:()=>qx,getInitialState:e=>({columnSizing:{},columnSizingInfo:W1(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:so("columnSizing",e),onColumnSizingInfoChange:so("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:qx.minSize,(r=a??e.columnDef.size)!=null?r:qx.size),(s=e.columnDef.maxSize)!=null?s:qx.maxSize)},e.getStart=Rt(n=>[n,Z0(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,a)=>s+a.getSize(),0),Tt(t.options,"debugColumns")),e.getAfter=Rt(n=>[n,Z0(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,a)=>s+a.getSize(),0),Tt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var a;n+=(a=s.column.getSize())!=null?a:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return a=>{if(!r||!s||(a.persist==null||a.persist(),Y1(a)&&a.touches&&a.touches.length>1))return;const u=e.getSize(),d=e?e.getLeafHeaders().map(T=>[T.column.id,T.column.getSize()]):[[r.id,r.getSize()]],h=Y1(a)?Math.round(a.touches[0].clientX):a.clientX,g={},p=(T,_)=>{typeof _=="number"&&(t.setColumnSizingInfo(I=>{var D,L;const k=t.options.columnResizeDirection==="rtl"?-1:1,U=(_-((D=I==null?void 0:I.startOffset)!=null?D:0))*k,B=Math.max(U/((L=I==null?void 0:I.startSize)!=null?L:0),-.999999);return I.columnSizingStart.forEach(W=>{let[te,ie]=W;g[te]=Math.round(Math.max(ie+ie*B,0)*100)/100}),{...I,deltaOffset:U,deltaPercentage:B}}),(t.options.columnResizeMode==="onChange"||T==="end")&&t.setColumnSizing(I=>({...I,...g})))},m=T=>p("move",T),x=T=>{p("end",T),t.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=n||typeof document<"u"?document:null,A={moveHandler:T=>m(T.clientX),upHandler:T=>{b==null||b.removeEventListener("mousemove",A.moveHandler),b==null||b.removeEventListener("mouseup",A.upHandler),x(T.clientX)}},C={moveHandler:T=>(T.cancelable&&(T.preventDefault(),T.stopPropagation()),m(T.touches[0].clientX),!1),upHandler:T=>{var _;b==null||b.removeEventListener("touchmove",C.moveHandler),b==null||b.removeEventListener("touchend",C.upHandler),T.cancelable&&(T.preventDefault(),T.stopPropagation()),x((_=T.touches[0])==null?void 0:_.clientX)}},w=x5()?{passive:!1}:!1;Y1(a)?(b==null||b.addEventListener("touchmove",C.moveHandler,w),b==null||b.addEventListener("touchend",C.upHandler,w)):(b==null||b.addEventListener("mousemove",A.moveHandler,w),b==null||b.addEventListener("mouseup",A.upHandler,w)),t.setColumnSizingInfo(T=>({...T,startOffset:h,startSize:u,deltaOffset:0,deltaPercentage:0,columnSizingStart:d,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?W1():(n=e.initialState.columnSizingInfo)!=null?n:W1())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let Kx=null;function x5(){if(typeof Kx=="boolean")return Kx;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Kx=e,Kx}function Y1(e){return e.type==="touchstart"}const b5={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:so("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Rt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Tt(t.options,"debugRows")),e.getVisibleCells=Rt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],Tt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Rt(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),Tt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,a)=>({...s,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Z0(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const S5={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},E5={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:so("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>uu.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Kb(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:uu[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},A5={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:so("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,a;e.setExpanded(r?{}:(s=(a=e.initialState)==null?void 0:a.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const u=a.split(".");r=Math.max(r,u.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const a=r===!0?!0:!!(r!=null&&r[e.id]);let u={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(d=>{u[d]=!0}):u=r,n=(s=n)!=null?s:!a,!a&&n)return{...u,[e.id]:!0};if(a&&!n){const{[e.id]:d,...h}=u;return h}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},xC=0,bC=10,q1=()=>({pageIndex:xC,pageSize:bC}),C5={getInitialState:e=>({...e,pagination:{...q1(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:so("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=a=>Dc(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?q1():(s=e.initialState.pagination)!=null?s:q1())},e.setPageIndex=r=>{e.setPagination(s=>{let a=Dc(r,s.pageIndex);const u=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,u)),{...s,pageIndex:a}})},e.resetPageIndex=r=>{var s,a;e.setPageIndex(r?xC:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?s:xC)},e.resetPageSize=r=>{var s,a;e.setPageSize(r?bC:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?s:bC)},e.setPageSize=r=>{e.setPagination(s=>{const a=Math.max(1,Dc(r,s.pageSize)),u=s.pageSize*s.pageIndex,d=Math.floor(u/a);return{...s,pageIndex:d,pageSize:a}})},e.setPageCount=r=>e.setPagination(s=>{var a;let u=Dc(r,(a=e.options.pageCount)!=null?a:-1);return typeof u=="number"&&(u=Math.max(-1,u)),{...s,pageCount:u}}),e.getPageOptions=Rt(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((a,u)=>u)),s},Tt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},K1=()=>({top:[],bottom:[]}),w5={getInitialState:e=>({rowPinning:K1(),...e}),getDefaultOptions:e=>({onRowPinningChange:so("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const a=r?e.getLeafRows().map(h=>{let{id:g}=h;return g}):[],u=s?e.getParentRows().map(h=>{let{id:g}=h;return g}):[],d=new Set([...u,e.id,...a]);t.setRowPinning(h=>{var g,p;if(n==="bottom"){var m,x;return{top:((m=h==null?void 0:h.top)!=null?m:[]).filter(C=>!(d!=null&&d.has(C))),bottom:[...((x=h==null?void 0:h.bottom)!=null?x:[]).filter(C=>!(d!=null&&d.has(C))),...Array.from(d)]}}if(n==="top"){var b,A;return{top:[...((b=h==null?void 0:h.top)!=null?b:[]).filter(C=>!(d!=null&&d.has(C))),...Array.from(d)],bottom:((A=h==null?void 0:h.bottom)!=null?A:[]).filter(C=>!(d!=null&&d.has(C)))}}return{top:((g=h==null?void 0:h.top)!=null?g:[]).filter(C=>!(d!=null&&d.has(C))),bottom:((p=h==null?void 0:h.bottom)!=null?p:[]).filter(C=>!(d!=null&&d.has(C)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,a=n.some(d=>r==null?void 0:r.includes(d)),u=n.some(d=>s==null?void 0:s.includes(d));return a?"top":u?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const a=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(u=>{let{id:d}=u;return d});return(r=a==null?void 0:a.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?K1():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:K1())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,a;return!!((s=r.top)!=null&&s.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(u=>{const d=e.getRow(u,!0);return d.getIsAllParentsExpanded()?d:null}):(n??[]).map(u=>t.find(d=>d.id===u))).filter(Boolean).map(u=>({...u,position:r}))},e.getTopRows=Rt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Tt(e.options,"debugRows")),e.getBottomRows=Rt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Tt(e.options,"debugRows")),e.getCenterRows=Rt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(a=>!s.has(a.id))},Tt(e.options,"debugRows"))}},R5={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:so("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):s.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(a=>{SC(s,a.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Rt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?X1(e,n):{rows:[],flatRows:[],rowsById:{}},Tt(e.options,"debugTable")),e.getFilteredSelectedRowModel=Rt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?X1(e,n):{rows:[],flatRows:[],rowsById:{}},Tt(e.options,"debugTable")),e.getGroupedSelectedRowModel=Rt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?X1(e,n):{rows:[],flatRows:[],rowsById:{}},Tt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(a=>{var u;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return a;const d={...a};return SC(d,e.id,n,(u=r==null?void 0:r.selectChildren)!=null?u:!0,t),d})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return gw(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return EC(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return EC(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},SC=(e,t,n,r,s)=>{var a;const u=s.getRow(t,!0);n?(u.getCanMultiSelect()||Object.keys(e).forEach(d=>delete e[d]),u.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=u.subRows)!=null&&a.length&&u.getCanSelectSubRows()&&u.subRows.forEach(d=>SC(e,d.id,n,r,s))};function X1(e,t){const n=e.getState().rowSelection,r=[],s={},a=function(u,d){return u.map(h=>{var g;const p=gw(h,n);if(p&&(r.push(h),s[h.id]=h),(g=h.subRows)!=null&&g.length&&(h={...h,subRows:a(h.subRows)}),p)return h}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:s}}function gw(e,t){var n;return(n=t[e.id])!=null?n:!1}function EC(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,a=!1;return e.subRows.forEach(u=>{if(!(a&&!s)&&(u.getCanSelect()&&(gw(u,t)?a=!0:s=!1),u.subRows&&u.subRows.length)){const d=EC(u,t);d==="all"?a=!0:(d==="some"&&(a=!0),s=!1)}}),s?"all":a?"some":!1}const AC=/([0-9]+)/gm,T5=(e,t,n)=>u3(kc(e.getValue(n)).toLowerCase(),kc(t.getValue(n)).toLowerCase()),N5=(e,t,n)=>u3(kc(e.getValue(n)),kc(t.getValue(n))),_5=(e,t,n)=>mw(kc(e.getValue(n)).toLowerCase(),kc(t.getValue(n)).toLowerCase()),I5=(e,t,n)=>mw(kc(e.getValue(n)),kc(t.getValue(n))),O5=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},D5=(e,t,n)=>mw(e.getValue(n),t.getValue(n));function mw(e,t){return e===t?0:e>t?1:-1}function kc(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function u3(e,t){const n=e.split(AC).filter(Boolean),r=t.split(AC).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),a=r.shift(),u=parseInt(s,10),d=parseInt(a,10),h=[u,d].sort();if(isNaN(h[0])){if(s>a)return 1;if(a>s)return-1;continue}if(isNaN(h[1]))return isNaN(u)?-1:1;if(u>d)return 1;if(d>u)return-1}return n.length-r.length}const p0={alphanumeric:T5,alphanumericCaseSensitive:N5,text:_5,textCaseSensitive:I5,datetime:O5,basic:D5},P5={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:so("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const a=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return p0.datetime;if(typeof a=="string"&&(r=!0,a.split(AC).length>1))return p0.alphanumeric}return r?p0.text:p0.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Kb(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:p0[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(u=>{const d=u==null?void 0:u.find(b=>b.id===e.id),h=u==null?void 0:u.findIndex(b=>b.id===e.id);let g=[],p,m=a?n:s==="desc";if(u!=null&&u.length&&e.getCanMultiSort()&&r?d?p="toggle":p="add":u!=null&&u.length&&h!==u.length-1?p="replace":d?p="toggle":p="replace",p==="toggle"&&(a||s||(p="remove")),p==="add"){var x;g=[...u,{id:e.id,desc:m}],g.splice(0,g.length-((x=t.options.maxMultiSortColCount)!=null?x:Number.MAX_SAFE_INTEGER))}else p==="toggle"?g=u.map(b=>b.id===e.id?{...b,desc:m}:b):p==="remove"?g=u.filter(b=>b.id!==e.id):g=[{id:e.id,desc:m}];return g})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const a=e.getFirstSortDir(),u=e.getIsSorted();return u?u!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:u==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},M5=[n5,b5,m5,y5,r5,i5,S5,E5,P5,p5,A5,C5,w5,R5,v5];function L5(e){var t,n;const r=[...M5,...(t=e._features)!=null?t:[]];let s={_features:r};const a=s._features.reduce((x,b)=>Object.assign(x,b.getDefaultOptions==null?void 0:b.getDefaultOptions(s)),{}),u=x=>s.options.mergeOptions?s.options.mergeOptions(a,x):{...a,...x};let h={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(x=>{var b;h=(b=x.getInitialState==null?void 0:x.getInitialState(h))!=null?b:h});const g=[];let p=!1;const m={_features:r,options:{...a,...e},initialState:h,_queue:x=>{g.push(x),p||(p=!0,Promise.resolve().then(()=>{for(;g.length;)g.shift()();p=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{s.setState(s.initialState)},setOptions:x=>{const b=Dc(x,s.options);s.options=u(b)},getState:()=>s.options.state,setState:x=>{s.options.onStateChange==null||s.options.onStateChange(x)},_getRowId:(x,b,A)=>{var C;return(C=s.options.getRowId==null?void 0:s.options.getRowId(x,b,A))!=null?C:`${A?[A.id,b].join("."):b}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(x,b)=>{let A=(b?s.getPrePaginationRowModel():s.getRowModel()).rowsById[x];if(!A&&(A=s.getCoreRowModel().rowsById[x],!A))throw new Error;return A},_getDefaultColumnDef:Rt(()=>[s.options.defaultColumn],x=>{var b;return x=(b=x)!=null?b:{},{header:A=>{const C=A.header.column.columnDef;return C.accessorKey?C.accessorKey:C.accessorFn?C.id:null},cell:A=>{var C,w;return(C=(w=A.renderValue())==null||w.toString==null?void 0:w.toString())!=null?C:null},...s._features.reduce((A,C)=>Object.assign(A,C.getDefaultColumnDef==null?void 0:C.getDefaultColumnDef()),{}),...x}},Tt(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:Rt(()=>[s._getColumnDefs()],x=>{const b=function(A,C,w){return w===void 0&&(w=0),A.map(T=>{const _=t5(s,T,w,C),I=T;return _.columns=I.columns?b(I.columns,_,w+1):[],_})};return b(x)},Tt(e,"debugColumns")),getAllFlatColumns:Rt(()=>[s.getAllColumns()],x=>x.flatMap(b=>b.getFlatColumns()),Tt(e,"debugColumns")),_getAllFlatColumnsById:Rt(()=>[s.getAllFlatColumns()],x=>x.reduce((b,A)=>(b[A.id]=A,b),{}),Tt(e,"debugColumns")),getAllLeafColumns:Rt(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(x,b)=>{let A=x.flatMap(C=>C.getLeafColumns());return b(A)},Tt(e,"debugColumns")),getColumn:x=>s._getAllFlatColumnsById()[x]};Object.assign(s,m);for(let x=0;x<s._features.length;x++){const b=s._features[x];b==null||b.createTable==null||b.createTable(s)}return s}function c3(){return e=>Rt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,a,u){a===void 0&&(a=0);const d=[];for(let g=0;g<s.length;g++){const p=hw(e,e._getRowId(s[g],g,u),s[g],g,a,void 0,u==null?void 0:u.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,d.push(p),e.options.getSubRows){var h;p.originalSubRows=e.options.getSubRows(s[g],g),(h=p.originalSubRows)!=null&&h.length&&(p.subRows=r(p.originalSubRows,a+1,p))}}return d};return n.rows=r(t),n},Tt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function F5(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function k5(e,t,n){return n.options.filterFromLeafRows?B5(e,t,n):j5(e,t,n)}function B5(e,t,n){var r;const s=[],a={},u=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,d=function(h,g){g===void 0&&(g=0);const p=[];for(let x=0;x<h.length;x++){var m;let b=h[x];const A=hw(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(A.columnFilters=b.columnFilters,(m=b.subRows)!=null&&m.length&&g<u){if(A.subRows=d(b.subRows,g+1),b=A,t(b)&&!A.subRows.length){p.push(b),a[b.id]=b,s.push(b);continue}if(t(b)||A.subRows.length){p.push(b),a[b.id]=b,s.push(b);continue}}else b=A,t(b)&&(p.push(b),a[b.id]=b,s.push(b))}return p};return{rows:d(e),flatRows:s,rowsById:a}}function j5(e,t,n){var r;const s=[],a={},u=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,d=function(h,g){g===void 0&&(g=0);const p=[];for(let x=0;x<h.length;x++){let b=h[x];if(t(b)){var m;if((m=b.subRows)!=null&&m.length&&g<u){const C=hw(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);C.subRows=d(b.subRows,g+1),b=C}p.push(b),s.push(b),a[b.id]=b}}return p};return{rows:d(e),flatRows:s,rowsById:a}}function f3(){return e=>Rt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let x=0;x<t.flatRows.length;x++)t.flatRows[x].columnFilters={},t.flatRows[x].columnFiltersMeta={};return t}const s=[],a=[];(n??[]).forEach(x=>{var b;const A=e.getColumn(x.id);if(!A)return;const C=A.getFilterFn();C&&s.push({id:x.id,filterFn:C,resolvedValue:(b=C.resolveFilterValue==null?void 0:C.resolveFilterValue(x.value))!=null?b:x.value})});const u=(n??[]).map(x=>x.id),d=e.getGlobalFilterFn(),h=e.getAllLeafColumns().filter(x=>x.getCanGlobalFilter());r&&d&&h.length&&(u.push("__global__"),h.forEach(x=>{var b;a.push({id:x.id,filterFn:d,resolvedValue:(b=d.resolveFilterValue==null?void 0:d.resolveFilterValue(r))!=null?b:r})}));let g,p;for(let x=0;x<t.flatRows.length;x++){const b=t.flatRows[x];if(b.columnFilters={},s.length)for(let A=0;A<s.length;A++){g=s[A];const C=g.id;b.columnFilters[C]=g.filterFn(b,C,g.resolvedValue,w=>{b.columnFiltersMeta[C]=w})}if(a.length){for(let A=0;A<a.length;A++){p=a[A];const C=p.id;if(p.filterFn(b,C,p.resolvedValue,w=>{b.columnFiltersMeta[C]=w})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const m=x=>{for(let b=0;b<u.length;b++)if(x.columnFilters[u[b]]===!1)return!1;return!0};return k5(t.rows,m,e)},Tt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function d3(e){return t=>Rt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:a}=n;let{rows:u,flatRows:d,rowsById:h}=r;const g=s*a,p=g+s;u=u.slice(g,p);let m;t.options.paginateExpandedRows?m={rows:u,flatRows:d,rowsById:h}:m=F5({rows:u,flatRows:d,rowsById:h}),m.flatRows=[];const x=b=>{m.flatRows.push(b),b.subRows.length&&b.subRows.forEach(x)};return m.rows.forEach(x),m},Tt(t.options,"debugTable"))}function h3(){return e=>Rt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],a=r.filter(h=>{var g;return(g=e.getColumn(h.id))==null?void 0:g.getCanSort()}),u={};a.forEach(h=>{const g=e.getColumn(h.id);g&&(u[h.id]={sortUndefined:g.columnDef.sortUndefined,invertSorting:g.columnDef.invertSorting,sortingFn:g.getSortingFn()})});const d=h=>{const g=h.map(p=>({...p}));return g.sort((p,m)=>{for(let b=0;b<a.length;b+=1){var x;const A=a[b],C=u[A.id],w=C.sortUndefined,T=(x=A==null?void 0:A.desc)!=null?x:!1;let _=0;if(w){const I=p.getValue(A.id),D=m.getValue(A.id),L=I===void 0,k=D===void 0;if(L||k){if(w==="first")return L?-1:1;if(w==="last")return L?1:-1;_=L&&k?0:L?w:-w}}if(_===0&&(_=C.sortingFn(p,m,A.id)),_!==0)return T&&(_*=-1),C.invertSorting&&(_*=-1),_}return p.index-m.index}),g.forEach(p=>{var m;s.push(p),(m=p.subRows)!=null&&m.length&&(p.subRows=d(p.subRows))}),g};return{rows:d(n.rows),flatRows:s,rowsById:n.rowsById}},Tt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Tb(e,t){return e?z5(e)?F.createElement(e,t):e:null}function z5(e){return V5(e)||typeof e=="function"||U5(e)}function V5(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function U5(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function p3(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=F.useState(()=>({current:L5(t)})),[r,s]=F.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:u=>{s(u),e.onStateChange==null||e.onStateChange(u)}})),n.current}const Xx=43200,DR=1440,PR=Symbol.for("constructDateFrom");function yw(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&PR in e?e[PR](t):e instanceof Date?new e.constructor(t):new Date(t)}function Bc(e,t){return yw(e,e)}let G5={};function $5(){return G5}function MR(e){const t=Bc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function vw(e,...t){const n=yw.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function hb(e,t){const n=+Bc(e)-+Bc(t);return n<0?-1:n>0?1:n}function H5(e){return yw(e,Date.now())}function W5(e,t,n){const[r,s]=vw(n==null?void 0:n.in,e,t),a=r.getFullYear()-s.getFullYear(),u=r.getMonth()-s.getMonth();return a*12+u}function Y5(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function q5(e,t){return+Bc(e)-+Bc(t)}function K5(e,t){const n=Bc(e);return n.setHours(23,59,59,999),n}function X5(e,t){const n=Bc(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Z5(e,t){const n=Bc(e);return+K5(n)==+X5(n)}function J5(e,t,n){const[r,s,a]=vw(n==null?void 0:n.in,e,e,t),u=hb(s,a),d=Math.abs(W5(s,a));if(d<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-u*d);let h=hb(s,a)===-u;Z5(r)&&d===1&&hb(r,a)===1&&(h=!1);const g=u*(d-+h);return g===0?0:g}function Q5(e,t,n){const r=q5(e,t)/1e3;return Y5(n==null?void 0:n.roundingMethod)(r)}const eV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tV=(e,t,n)=>{let r;const s=eV[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Z1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const nV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oV={date:Z1({formats:nV,defaultWidth:"full"}),time:Z1({formats:rV,defaultWidth:"full"}),dateTime:Z1({formats:iV,defaultWidth:"full"})},sV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aV=(e,t,n,r)=>sV[e];function g0(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,d=n!=null&&n.width?String(n.width):u;s=e.formattingValues[d]||e.formattingValues[u]}else{const u=e.defaultWidth,d=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[d]||e.values[u]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const lV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pV=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gV={ordinalNumber:pV,era:g0({values:lV,defaultWidth:"wide"}),quarter:g0({values:uV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:g0({values:cV,defaultWidth:"wide"}),day:g0({values:fV,defaultWidth:"wide"}),dayPeriod:g0({values:dV,defaultWidth:"wide",formattingValues:hV,defaultFormattingWidth:"wide"})};function m0(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const u=a[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(d)?yV(d,m=>m.test(u)):mV(d,m=>m.test(u));let g;g=e.valueCallback?e.valueCallback(h):h,g=n.valueCallback?n.valueCallback(g):g;const p=t.slice(u.length);return{value:g,rest:p}}}function mV(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function yV(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function vV(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let u=e.valueCallback?e.valueCallback(a[0]):a[0];u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}const xV=/^(\d+)(th|st|nd|rd)?/i,bV=/\d+/i,SV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},EV={any:[/^b/i,/^(a|c)/i]},AV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CV={any:[/1/i,/2/i,/3/i,/4/i]},wV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_V={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OV={ordinalNumber:vV({matchPattern:xV,parsePattern:bV,valueCallback:e=>parseInt(e,10)}),era:m0({matchPatterns:SV,defaultMatchWidth:"wide",parsePatterns:EV,defaultParseWidth:"any"}),quarter:m0({matchPatterns:AV,defaultMatchWidth:"wide",parsePatterns:CV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:m0({matchPatterns:wV,defaultMatchWidth:"wide",parsePatterns:RV,defaultParseWidth:"any"}),day:m0({matchPatterns:TV,defaultMatchWidth:"wide",parsePatterns:NV,defaultParseWidth:"any"}),dayPeriod:m0({matchPatterns:_V,defaultMatchWidth:"any",parsePatterns:IV,defaultParseWidth:"any"})},DV={code:"en-US",formatDistance:tV,formatLong:oV,formatRelative:aV,localize:gV,match:OV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PV(e,t,n){const r=$5(),s=(n==null?void 0:n.locale)??r.locale??DV,a=2520,u=hb(e,t);if(isNaN(u))throw new RangeError("Invalid time value");const d=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:u}),[h,g]=vw(n==null?void 0:n.in,...u>0?[t,e]:[e,t]),p=Q5(g,h),m=(MR(g)-MR(h))/1e3,x=Math.round((p-m)/60);let b;if(x<2)return n!=null&&n.includeSeconds?p<5?s.formatDistance("lessThanXSeconds",5,d):p<10?s.formatDistance("lessThanXSeconds",10,d):p<20?s.formatDistance("lessThanXSeconds",20,d):p<40?s.formatDistance("halfAMinute",0,d):p<60?s.formatDistance("lessThanXMinutes",1,d):s.formatDistance("xMinutes",1,d):x===0?s.formatDistance("lessThanXMinutes",1,d):s.formatDistance("xMinutes",x,d);if(x<45)return s.formatDistance("xMinutes",x,d);if(x<90)return s.formatDistance("aboutXHours",1,d);if(x<DR){const A=Math.round(x/60);return s.formatDistance("aboutXHours",A,d)}else{if(x<a)return s.formatDistance("xDays",1,d);if(x<Xx){const A=Math.round(x/DR);return s.formatDistance("xDays",A,d)}else if(x<Xx*2)return b=Math.round(x/Xx),s.formatDistance("aboutXMonths",b,d)}if(b=J5(g,h),b<12){const A=Math.round(x/Xx);return s.formatDistance("xMonths",A,d)}else{const A=b%12,C=Math.trunc(b/12);return A<3?s.formatDistance("aboutXYears",C,d):A<9?s.formatDistance("overXYears",C,d):s.formatDistance("almostXYears",C+1,d)}}function g3(e,t){return PV(e,H5(e),t)}function MV(e,t){const n=F.createContext(t),r=a=>{const{children:u,...d}=a,h=F.useMemo(()=>d,Object.values(d));return O.jsx(n.Provider,{value:h,children:u})};r.displayName=e+"Provider";function s(a){const u=F.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Es(e,t=[]){let n=[];function r(a,u){const d=F.createContext(u),h=n.length;n=[...n,u];const g=m=>{var T;const{scope:x,children:b,...A}=m,C=((T=x==null?void 0:x[e])==null?void 0:T[h])||d,w=F.useMemo(()=>A,Object.values(A));return O.jsx(C.Provider,{value:w,children:b})};g.displayName=a+"Provider";function p(m,x){var C;const b=((C=x==null?void 0:x[e])==null?void 0:C[h])||d,A=F.useContext(b);if(A)return A;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[g,p]}const s=()=>{const a=n.map(u=>F.createContext(u));return function(d){const h=(d==null?void 0:d[e])||a;return F.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return s.scopeName=e,[r,LV(s,...t)]}function LV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const u=r.reduce((d,{useScope:h,scopeName:g})=>{const m=h(a)[`__scope${g}`];return{...d,...m}},{});return F.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function st(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ao(e){const t=F.useRef(e);return F.useEffect(()=>{t.current=e}),F.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function jc({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=FV({defaultProp:t,onChange:n}),a=e!==void 0,u=a?e:r,d=ao(n),h=F.useCallback(g=>{if(a){const m=typeof g=="function"?g(e):g;m!==e&&d(m)}else s(g)},[a,e,s,d]);return[u,h]}function FV({defaultProp:e,onChange:t}){const n=F.useState(e),[r]=n,s=F.useRef(r),a=ao(t);return F.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}function xw(e){const t=F.useRef({value:e,previous:e});return F.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wr=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{};function bw(e){const[t,n]=F.useState(void 0);return wr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let u,d;if("borderBoxSize"in a){const h=a.borderBoxSize,g=Array.isArray(h)?h[0]:h;u=g.inlineSize,d=g.blockSize}else u=e.offsetWidth,d=e.offsetHeight;n({width:u,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function kV(e,t){return F.useReducer((n,r)=>t[n][r]??n,e)}var As=e=>{const{present:t,children:n}=e,r=BV(t),s=typeof n=="function"?n({present:r.isPresent}):F.Children.only(n),a=ln(r.ref,jV(s));return typeof n=="function"||r.isPresent?F.cloneElement(s,{ref:a}):null};As.displayName="Presence";function BV(e){const[t,n]=F.useState(),r=F.useRef({}),s=F.useRef(e),a=F.useRef("none"),u=e?"mounted":"unmounted",[d,h]=kV(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const g=Zx(r.current);a.current=d==="mounted"?g:"none"},[d]),wr(()=>{const g=r.current,p=s.current;if(p!==e){const x=a.current,b=Zx(g);e?h("MOUNT"):b==="none"||(g==null?void 0:g.display)==="none"?h("UNMOUNT"):h(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,h]),wr(()=>{if(t){let g;const p=t.ownerDocument.defaultView??window,m=b=>{const C=Zx(r.current).includes(b.animationName);if(b.target===t&&C&&(h("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},x=b=>{b.target===t&&(a.current=Zx(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:F.useCallback(g=>{g&&(r.current=getComputedStyle(g)),n(g)},[])}}function Zx(e){return(e==null?void 0:e.animationName)||"none"}function jV(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Bt=zV.reduce((e,t)=>{const n=Fc(`Primitive.${t}`),r=F.forwardRef((s,a)=>{const{asChild:u,...d}=s,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(h,{...d,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function m3(e,t){e&&py.flushSync(()=>e.dispatchEvent(t))}var Sw="Checkbox",[VV,U7]=Es(Sw),[UV,GV]=VV(Sw),y3=F.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:u,disabled:d,value:h="on",onCheckedChange:g,form:p,...m}=e,[x,b]=F.useState(null),A=ln(t,D=>b(D)),C=F.useRef(!1),w=x?p||!!x.closest("form"):!0,[T=!1,_]=jc({prop:s,defaultProp:a,onChange:g}),I=F.useRef(T);return F.useEffect(()=>{const D=x==null?void 0:x.form;if(D){const L=()=>_(I.current);return D.addEventListener("reset",L),()=>D.removeEventListener("reset",L)}},[x,_]),O.jsxs(UV,{scope:n,state:T,disabled:d,children:[O.jsx(Bt.button,{type:"button",role:"checkbox","aria-checked":Pc(T)?"mixed":T,"aria-required":u,"data-state":b3(T),"data-disabled":d?"":void 0,disabled:d,value:h,...m,ref:A,onKeyDown:st(e.onKeyDown,D=>{D.key==="Enter"&&D.preventDefault()}),onClick:st(e.onClick,D=>{_(L=>Pc(L)?!0:!L),w&&(C.current=D.isPropagationStopped(),C.current||D.stopPropagation())})}),w&&O.jsx($V,{control:x,bubbles:!C.current,name:r,value:h,checked:T,required:u,disabled:d,form:p,style:{transform:"translateX(-100%)"},defaultChecked:Pc(a)?!1:a})]})});y3.displayName=Sw;var v3="CheckboxIndicator",x3=F.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=GV(v3,n);return O.jsx(As,{present:r||Pc(a.state)||a.state===!0,children:O.jsx(Bt.span,{"data-state":b3(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});x3.displayName=v3;var $V=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,u=F.useRef(null),d=xw(n),h=bw(t);F.useEffect(()=>{const p=u.current,m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&b){const A=new Event("click",{bubbles:r});p.indeterminate=Pc(n),b.call(p,Pc(n)?!1:n),p.dispatchEvent(A)}},[d,n,r]);const g=F.useRef(Pc(n)?!1:n);return O.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??g.current,...a,tabIndex:-1,ref:u,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Pc(e){return e==="indeterminate"}function b3(e){return Pc(e)?"indeterminate":e?"checked":"unchecked"}var HV=y3,WV=x3;function Nb({className:e,...t}){return O.jsx(HV,{"data-slot":"checkbox",className:xt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:O.jsx(WV,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:O.jsx(DD,{className:"size-3.5"})})})}var YV=eD[" useId ".trim().toString()]||(()=>{}),qV=0;function va(e){const[t,n]=F.useState(YV());return wr(()=>{n(r=>r??String(qV++))},[e]),e||(t?`radix-${t}`:"")}function KV(e,t=globalThis==null?void 0:globalThis.document){const n=ao(e);F.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var XV="DismissableLayer",CC="dismissableLayer.update",ZV="dismissableLayer.pointerDownOutside",JV="dismissableLayer.focusOutside",LR,S3=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gy=F.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...h}=e,g=F.useContext(S3),[p,m]=F.useState(null),x=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=F.useState({}),A=ln(t,U=>m(U)),C=Array.from(g.layers),[w]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),T=C.indexOf(w),_=p?C.indexOf(p):-1,I=g.layersWithOutsidePointerEventsDisabled.size>0,D=_>=T,L=tU(U=>{const B=U.target,W=[...g.branches].some(te=>te.contains(B));!D||W||(s==null||s(U),u==null||u(U),U.defaultPrevented||d==null||d())},x),k=nU(U=>{const B=U.target;[...g.branches].some(te=>te.contains(B))||(a==null||a(U),u==null||u(U),U.defaultPrevented||d==null||d())},x);return KV(U=>{_===g.layers.size-1&&(r==null||r(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},x),F.useEffect(()=>{if(p)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(LR=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(p)),g.layers.add(p),FR(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=LR)}},[p,x,n,g]),F.useEffect(()=>()=>{p&&(g.layers.delete(p),g.layersWithOutsidePointerEventsDisabled.delete(p),FR())},[p,g]),F.useEffect(()=>{const U=()=>b({});return document.addEventListener(CC,U),()=>document.removeEventListener(CC,U)},[]),O.jsx(Bt.div,{...h,ref:A,style:{pointerEvents:I?D?"auto":"none":void 0,...e.style},onFocusCapture:st(e.onFocusCapture,k.onFocusCapture),onBlurCapture:st(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:st(e.onPointerDownCapture,L.onPointerDownCapture)})});gy.displayName=XV;var QV="DismissableLayerBranch",eU=F.forwardRef((e,t)=>{const n=F.useContext(S3),r=F.useRef(null),s=ln(t,r);return F.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),O.jsx(Bt.div,{...e,ref:s})});eU.displayName=QV;function tU(e,t=globalThis==null?void 0:globalThis.document){const n=ao(e),r=F.useRef(!1),s=F.useRef(()=>{});return F.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let h=function(){E3(ZV,n,g,{discrete:!0})};const g={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=h,t.addEventListener("click",s.current,{once:!0})):h()}else t.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function nU(e,t=globalThis==null?void 0:globalThis.document){const n=ao(e),r=F.useRef(!1);return F.useEffect(()=>{const s=a=>{a.target&&!r.current&&E3(JV,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function FR(){const e=new CustomEvent(CC);document.dispatchEvent(e)}function E3(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?m3(s,a):s.dispatchEvent(a)}var J1="focusScope.autoFocusOnMount",Q1="focusScope.autoFocusOnUnmount",kR={bubbles:!1,cancelable:!0},rU="FocusScope",Xb=F.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...u}=e,[d,h]=F.useState(null),g=ao(s),p=ao(a),m=F.useRef(null),x=ln(t,C=>h(C)),b=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(r){let C=function(I){if(b.paused||!d)return;const D=I.target;d.contains(D)?m.current=D:vc(m.current,{select:!0})},w=function(I){if(b.paused||!d)return;const D=I.relatedTarget;D!==null&&(d.contains(D)||vc(m.current,{select:!0}))},T=function(I){if(document.activeElement===document.body)for(const L of I)L.removedNodes.length>0&&vc(d)};document.addEventListener("focusin",C),document.addEventListener("focusout",w);const _=new MutationObserver(T);return d&&_.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",w),_.disconnect()}}},[r,d,b.paused]),F.useEffect(()=>{if(d){jR.add(b);const C=document.activeElement;if(!d.contains(C)){const T=new CustomEvent(J1,kR);d.addEventListener(J1,g),d.dispatchEvent(T),T.defaultPrevented||(iU(uU(A3(d)),{select:!0}),document.activeElement===C&&vc(d))}return()=>{d.removeEventListener(J1,g),setTimeout(()=>{const T=new CustomEvent(Q1,kR);d.addEventListener(Q1,p),d.dispatchEvent(T),T.defaultPrevented||vc(C??document.body,{select:!0}),d.removeEventListener(Q1,p),jR.remove(b)},0)}}},[d,g,p,b]);const A=F.useCallback(C=>{if(!n&&!r||b.paused)return;const w=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,T=document.activeElement;if(w&&T){const _=C.currentTarget,[I,D]=oU(_);I&&D?!C.shiftKey&&T===D?(C.preventDefault(),n&&vc(I,{select:!0})):C.shiftKey&&T===I&&(C.preventDefault(),n&&vc(D,{select:!0})):T===_&&C.preventDefault()}},[n,r,b.paused]);return O.jsx(Bt.div,{tabIndex:-1,...u,ref:x,onKeyDown:A})});Xb.displayName=rU;function iU(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(vc(r,{select:t}),document.activeElement!==n)return}function oU(e){const t=A3(e),n=BR(t,e),r=BR(t.reverse(),e);return[n,r]}function A3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function BR(e,t){for(const n of e)if(!sU(n,{upTo:t}))return n}function sU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aU(e){return e instanceof HTMLInputElement&&"select"in e}function vc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&aU(e)&&t&&e.select()}}var jR=lU();function lU(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=zR(e,t),e.unshift(t)},remove(t){var n;e=zR(e,t),(n=e[0])==null||n.resume()}}}function zR(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function uU(e){return e.filter(t=>t.tagName!=="A")}var cU="Portal",my=F.forwardRef((e,t)=>{var d;const{container:n,...r}=e,[s,a]=F.useState(!1);wr(()=>a(!0),[]);const u=n||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?yD.createPortal(O.jsx(Bt.div,{...r,ref:t}),u):null});my.displayName=cU;var eE=0;function Ew(){F.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??VR()),document.body.insertAdjacentElement("beforeend",e[1]??VR()),eE++,()=>{eE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),eE--}},[])}function VR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var pa=function(){return pa=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},pa.apply(this,arguments)};function C3(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function fU(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var pb="right-scroll-bar-position",gb="width-before-scroll-bar",dU="with-scroll-bars-hidden",hU="--removed-body-scroll-bar-size";function tE(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pU(e,t){var n=F.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var gU=typeof window<"u"?F.useLayoutEffect:F.useEffect,UR=new WeakMap;function mU(e,t){var n=pU(null,function(r){return e.forEach(function(s){return tE(s,r)})});return gU(function(){var r=UR.get(n);if(r){var s=new Set(r),a=new Set(e),u=n.current;s.forEach(function(d){a.has(d)||tE(d,null)}),a.forEach(function(d){s.has(d)||tE(d,u)})}UR.set(n,e)},[e]),n}function yU(e){return e}function vU(e,t){t===void 0&&(t=yU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var u=t(a,r);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(a){for(r=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(a),u=n}var h=function(){var p=u;u=[],p.forEach(a)},g=function(){return Promise.resolve().then(h)};g(),n={push:function(p){u.push(p),g()},filter:function(p){return u=u.filter(p),n}}}};return s}function xU(e){e===void 0&&(e={});var t=vU(null);return t.options=pa({async:!0,ssr:!1},e),t}var w3=function(e){var t=e.sideCar,n=C3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return F.createElement(r,pa({},n))};w3.isSideCarExport=!0;function bU(e,t){return e.useMedium(t),w3}var R3=xU(),nE=function(){},Zb=F.forwardRef(function(e,t){var n=F.useRef(null),r=F.useState({onScrollCapture:nE,onWheelCapture:nE,onTouchMoveCapture:nE}),s=r[0],a=r[1],u=e.forwardProps,d=e.children,h=e.className,g=e.removeScrollBar,p=e.enabled,m=e.shards,x=e.sideCar,b=e.noIsolation,A=e.inert,C=e.allowPinchZoom,w=e.as,T=w===void 0?"div":w,_=e.gapMode,I=C3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,L=mU([n,t]),k=pa(pa({},I),s);return F.createElement(F.Fragment,null,p&&F.createElement(D,{sideCar:R3,removeScrollBar:g,shards:m,noIsolation:b,inert:A,setCallbacks:a,allowPinchZoom:!!C,lockRef:n,gapMode:_}),u?F.cloneElement(F.Children.only(d),pa(pa({},k),{ref:L})):F.createElement(T,pa({},k,{className:h,ref:L}),d))});Zb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zb.classNames={fullWidth:gb,zeroRight:pb};var SU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SU();return t&&e.setAttribute("nonce",t),e}function AU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function CU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wU=function(){var e=0,t=null;return{add:function(n){e==0&&(t=EU())&&(AU(t,n),CU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},RU=function(){var e=wU();return function(t,n){F.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},T3=function(){var e=RU(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},TU={left:0,top:0,right:0,gap:0},rE=function(e){return parseInt(e||"",10)||0},NU=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[rE(n),rE(r),rE(s)]},_U=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return TU;var t=NU(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},IU=T3(),Mp="data-scroll-locked",OU=function(e,t,n,r){var s=e.left,a=e.top,u=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(dU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Mp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pb,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(gb,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(pb," .").concat(pb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gb," .").concat(gb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mp,`] {
    `).concat(hU,": ").concat(d,`px;
  }
`)},GR=function(){var e=parseInt(document.body.getAttribute(Mp)||"0",10);return isFinite(e)?e:0},DU=function(){F.useEffect(function(){return document.body.setAttribute(Mp,(GR()+1).toString()),function(){var e=GR()-1;e<=0?document.body.removeAttribute(Mp):document.body.setAttribute(Mp,e.toString())}},[])},PU=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;DU();var a=F.useMemo(function(){return _U(s)},[s]);return F.createElement(IU,{styles:OU(a,!t,s,n?"":"!important")})},wC=!1;if(typeof window<"u")try{var Jx=Object.defineProperty({},"passive",{get:function(){return wC=!0,!0}});window.addEventListener("test",Jx,Jx),window.removeEventListener("test",Jx,Jx)}catch{wC=!1}var Rp=wC?{passive:!1}:!1,MU=function(e){return e.tagName==="TEXTAREA"},N3=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!MU(e)&&n[t]==="visible")},LU=function(e){return N3(e,"overflowY")},FU=function(e){return N3(e,"overflowX")},$R=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=_3(e,r);if(s){var a=I3(e,r),u=a[1],d=a[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kU=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},BU=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},_3=function(e,t){return e==="v"?LU(t):FU(t)},I3=function(e,t){return e==="v"?kU(t):BU(t)},jU=function(e,t){return e==="h"&&t==="rtl"?-1:1},zU=function(e,t,n,r,s){var a=jU(e,window.getComputedStyle(t).direction),u=a*r,d=n.target,h=t.contains(d),g=!1,p=u>0,m=0,x=0;do{var b=I3(e,d),A=b[0],C=b[1],w=b[2],T=C-w-a*A;(A||T)&&_3(e,d)&&(m+=T,x+=A),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(g=!0),g},Qx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},HR=function(e){return[e.deltaX,e.deltaY]},WR=function(e){return e&&"current"in e?e.current:e},VU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GU=0,Tp=[];function $U(e){var t=F.useRef([]),n=F.useRef([0,0]),r=F.useRef(),s=F.useState(GU++)[0],a=F.useState(T3)[0],u=F.useRef(e);F.useEffect(function(){u.current=e},[e]),F.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var C=fU([e.lockRef.current],(e.shards||[]).map(WR),!0).filter(Boolean);return C.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var d=F.useCallback(function(C,w){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!u.current.allowPinchZoom;var T=Qx(C),_=n.current,I="deltaX"in C?C.deltaX:_[0]-T[0],D="deltaY"in C?C.deltaY:_[1]-T[1],L,k=C.target,U=Math.abs(I)>Math.abs(D)?"h":"v";if("touches"in C&&U==="h"&&k.type==="range")return!1;var B=$R(U,k);if(!B)return!0;if(B?L=U:(L=U==="v"?"h":"v",B=$R(U,k)),!B)return!1;if(!r.current&&"changedTouches"in C&&(I||D)&&(r.current=L),!L)return!0;var W=r.current||L;return zU(W,w,C,W==="h"?I:D)},[]),h=F.useCallback(function(C){var w=C;if(!(!Tp.length||Tp[Tp.length-1]!==a)){var T="deltaY"in w?HR(w):Qx(w),_=t.current.filter(function(L){return L.name===w.type&&(L.target===w.target||w.target===L.shadowParent)&&VU(L.delta,T)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var I=(u.current.shards||[]).map(WR).filter(Boolean).filter(function(L){return L.contains(w.target)}),D=I.length>0?d(w,I[0]):!u.current.noIsolation;D&&w.cancelable&&w.preventDefault()}}},[]),g=F.useCallback(function(C,w,T,_){var I={name:C,delta:w,target:T,should:_,shadowParent:HU(T)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(D){return D!==I})},1)},[]),p=F.useCallback(function(C){n.current=Qx(C),r.current=void 0},[]),m=F.useCallback(function(C){g(C.type,HR(C),C.target,d(C,e.lockRef.current))},[]),x=F.useCallback(function(C){g(C.type,Qx(C),C.target,d(C,e.lockRef.current))},[]);F.useEffect(function(){return Tp.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Rp),document.addEventListener("touchmove",h,Rp),document.addEventListener("touchstart",p,Rp),function(){Tp=Tp.filter(function(C){return C!==a}),document.removeEventListener("wheel",h,Rp),document.removeEventListener("touchmove",h,Rp),document.removeEventListener("touchstart",p,Rp)}},[]);var b=e.removeScrollBar,A=e.inert;return F.createElement(F.Fragment,null,A?F.createElement(a,{styles:UU(s)}):null,b?F.createElement(PU,{gapMode:e.gapMode}):null)}function HU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const WU=bU(R3,$U);var Jb=F.forwardRef(function(e,t){return F.createElement(Zb,pa({},e,{ref:t,sideCar:WU}))});Jb.classNames=Zb.classNames;var YU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Np=new WeakMap,eb=new WeakMap,tb={},iE=0,O3=function(e){return e&&(e.host||O3(e.parentNode))},qU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=O3(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},KU=function(e,t,n,r){var s=qU(t,Array.isArray(e)?e:[e]);tb[n]||(tb[n]=new WeakMap);var a=tb[n],u=[],d=new Set,h=new Set(s),g=function(m){!m||d.has(m)||(d.add(m),g(m.parentNode))};s.forEach(g);var p=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(x){if(d.has(x))p(x);else try{var b=x.getAttribute(r),A=b!==null&&b!=="false",C=(Np.get(x)||0)+1,w=(a.get(x)||0)+1;Np.set(x,C),a.set(x,w),u.push(x),C===1&&A&&eb.set(x,!0),w===1&&x.setAttribute(n,"true"),A||x.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",x,T)}})};return p(t),d.clear(),iE++,function(){u.forEach(function(m){var x=Np.get(m)-1,b=a.get(m)-1;Np.set(m,x),a.set(m,b),x||(eb.has(m)||m.removeAttribute(r),eb.delete(m)),b||m.removeAttribute(n)}),iE--,iE||(Np=new WeakMap,Np=new WeakMap,eb=new WeakMap,tb={})}},Aw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=YU(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),KU(r,s,n,"aria-hidden")):function(){return null}},Cw="Dialog",[D3,G7]=Es(Cw),[XU,Cs]=D3(Cw),P3=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:u=!0}=e,d=F.useRef(null),h=F.useRef(null),[g=!1,p]=jc({prop:r,defaultProp:s,onChange:a});return O.jsx(XU,{scope:t,triggerRef:d,contentRef:h,contentId:va(),titleId:va(),descriptionId:va(),open:g,onOpenChange:p,onOpenToggle:F.useCallback(()=>p(m=>!m),[p]),modal:u,children:n})};P3.displayName=Cw;var M3="DialogTrigger",L3=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cs(M3,n),a=ln(t,s.triggerRef);return O.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Tw(s.open),...r,ref:a,onClick:st(e.onClick,s.onOpenToggle)})});L3.displayName=M3;var ww="DialogPortal",[ZU,F3]=D3(ww,{forceMount:void 0}),k3=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Cs(ww,t);return O.jsx(ZU,{scope:t,forceMount:n,children:F.Children.map(r,u=>O.jsx(As,{present:n||a.open,children:O.jsx(my,{asChild:!0,container:s,children:u})}))})};k3.displayName=ww;var _b="DialogOverlay",B3=F.forwardRef((e,t)=>{const n=F3(_b,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Cs(_b,e.__scopeDialog);return a.modal?O.jsx(As,{present:r||a.open,children:O.jsx(QU,{...s,ref:t})}):null});B3.displayName=_b;var JU=Fc("DialogOverlay.RemoveScroll"),QU=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cs(_b,n);return O.jsx(Jb,{as:JU,allowPinchZoom:!0,shards:[s.contentRef],children:O.jsx(Bt.div,{"data-state":Tw(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Qd="DialogContent",j3=F.forwardRef((e,t)=>{const n=F3(Qd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Cs(Qd,e.__scopeDialog);return O.jsx(As,{present:r||a.open,children:a.modal?O.jsx(e4,{...s,ref:t}):O.jsx(t4,{...s,ref:t})})});j3.displayName=Qd;var e4=F.forwardRef((e,t)=>{const n=Cs(Qd,e.__scopeDialog),r=F.useRef(null),s=ln(t,n.contentRef,r);return F.useEffect(()=>{const a=r.current;if(a)return Aw(a)},[]),O.jsx(z3,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:st(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&a.preventDefault()}),onFocusOutside:st(e.onFocusOutside,a=>a.preventDefault())})}),t4=F.forwardRef((e,t)=>{const n=Cs(Qd,e.__scopeDialog),r=F.useRef(!1),s=F.useRef(!1);return O.jsx(z3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,d;(u=e.onCloseAutoFocus)==null||u.call(e,a),a.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var h,g;(h=e.onInteractOutside)==null||h.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=a.target;((g=n.triggerRef.current)==null?void 0:g.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),z3=F.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...u}=e,d=Cs(Qd,n),h=F.useRef(null),g=ln(t,h);return Ew(),O.jsxs(O.Fragment,{children:[O.jsx(Xb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:O.jsx(gy,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Tw(d.open),...u,ref:g,onDismiss:()=>d.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(n4,{titleId:d.titleId}),O.jsx(i4,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Rw="DialogTitle",V3=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cs(Rw,n);return O.jsx(Bt.h2,{id:s.titleId,...r,ref:t})});V3.displayName=Rw;var U3="DialogDescription",G3=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cs(U3,n);return O.jsx(Bt.p,{id:s.descriptionId,...r,ref:t})});G3.displayName=U3;var $3="DialogClose",H3=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cs($3,n);return O.jsx(Bt.button,{type:"button",...r,ref:t,onClick:st(e.onClick,()=>s.onOpenChange(!1))})});H3.displayName=$3;function Tw(e){return e?"open":"closed"}var W3="DialogTitleWarning",[$7,Y3]=MV(W3,{contentName:Qd,titleName:Rw,docsSlug:"dialog"}),n4=({titleId:e})=>{const t=Y3(W3),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return F.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},r4="DialogDescriptionWarning",i4=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Y3(r4).contentName}}.`;return F.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},q3=P3,o4=L3,K3=k3,X3=B3,Z3=j3,J3=V3,Q3=G3,eP=H3;function yy({...e}){return O.jsx(q3,{"data-slot":"dialog",...e})}function s4({...e}){return O.jsx(o4,{"data-slot":"dialog-trigger",...e})}function a4({...e}){return O.jsx(K3,{"data-slot":"dialog-portal",...e})}function l4({className:e,...t}){return O.jsx(X3,{"data-slot":"dialog-overlay",className:xt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function vy({className:e,children:t,...n}){return O.jsxs(a4,{children:[O.jsx(l4,{}),O.jsxs(Z3,{"data-slot":"dialog-content",className:xt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,O.jsxs(eP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:size-4",children:[O.jsx(zD,{}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function xy({className:e,...t}){return O.jsx("div",{"data-slot":"dialog-header",className:xt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function u4({className:e,...t}){return O.jsx("div",{"data-slot":"dialog-footer",className:xt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function by({className:e,...t}){return O.jsx(J3,{"data-slot":"dialog-title",className:xt("text-lg font-semibold leading-none",e),...t})}function Qb({className:e,...t}){return O.jsx(Q3,{"data-slot":"dialog-description",className:xt("text-muted-foreground text-sm",e),...t})}function Nw(e){const t=e+"CollectionProvider",[n,r]=Es(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:w,children:T}=C,_=Ze.useRef(null),I=Ze.useRef(new Map).current;return O.jsx(s,{scope:w,itemMap:I,collectionRef:_,children:T})};u.displayName=t;const d=e+"CollectionSlot",h=Fc(d),g=Ze.forwardRef((C,w)=>{const{scope:T,children:_}=C,I=a(d,T),D=ln(w,I.collectionRef);return O.jsx(h,{ref:D,children:_})});g.displayName=d;const p=e+"CollectionItemSlot",m="data-radix-collection-item",x=Fc(p),b=Ze.forwardRef((C,w)=>{const{scope:T,children:_,...I}=C,D=Ze.useRef(null),L=ln(w,D),k=a(p,T);return Ze.useEffect(()=>(k.itemMap.set(D,{ref:D,...I}),()=>void k.itemMap.delete(D))),O.jsx(x,{[m]:"",ref:L,children:_})});b.displayName=p;function A(C){const w=a(e+"CollectionConsumer",C);return Ze.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const I=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((k,U)=>I.indexOf(k.ref.current)-I.indexOf(U.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:u,Slot:g,ItemSlot:b},A,r]}var c4=F.createContext(void 0);function _w(e){const t=F.useContext(c4);return e||t||"ltr"}const f4=["top","right","bottom","left"],zc=Math.min,io=Math.max,Ib=Math.round,nb=Math.floor,xa=e=>({x:e,y:e}),d4={left:"right",right:"left",bottom:"top",top:"bottom"},h4={start:"end",end:"start"};function RC(e,t,n){return io(e,zc(t,n))}function gu(e,t){return typeof e=="function"?e(t):e}function mu(e){return e.split("-")[0]}function cg(e){return e.split("-")[1]}function Iw(e){return e==="x"?"y":"x"}function Ow(e){return e==="y"?"height":"width"}function Vc(e){return["top","bottom"].includes(mu(e))?"y":"x"}function Dw(e){return Iw(Vc(e))}function p4(e,t,n){n===void 0&&(n=!1);const r=cg(e),s=Dw(e),a=Ow(s);let u=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(u=Ob(u)),[u,Ob(u)]}function g4(e){const t=Ob(e);return[TC(e),t,TC(t)]}function TC(e){return e.replace(/start|end/g,t=>h4[t])}function m4(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:u;default:return[]}}function y4(e,t,n,r){const s=cg(e);let a=m4(mu(e),n==="start",r);return s&&(a=a.map(u=>u+"-"+s),t&&(a=a.concat(a.map(TC)))),a}function Ob(e){return e.replace(/left|right|bottom|top/g,t=>d4[t])}function v4(e){return{top:0,right:0,bottom:0,left:0,...e}}function tP(e){return typeof e!="number"?v4(e):{top:e,right:e,bottom:e,left:e}}function Db(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function YR(e,t,n){let{reference:r,floating:s}=e;const a=Vc(t),u=Dw(t),d=Ow(u),h=mu(t),g=a==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,x=r[d]/2-s[d]/2;let b;switch(h){case"top":b={x:p,y:r.y-s.height};break;case"bottom":b={x:p,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-s.width,y:m};break;default:b={x:r.x,y:r.y}}switch(cg(t)){case"start":b[u]-=x*(n&&g?-1:1);break;case"end":b[u]+=x*(n&&g?-1:1);break}return b}const x4=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:u}=n,d=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let g=await u.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:m}=YR(g,r,h),x=r,b={},A=0;for(let C=0;C<d.length;C++){const{name:w,fn:T}=d[C],{x:_,y:I,data:D,reset:L}=await T({x:p,y:m,initialPlacement:r,placement:x,strategy:s,middlewareData:b,rects:g,platform:u,elements:{reference:e,floating:t}});p=_??p,m=I??m,b={...b,[w]:{...b[w],...D}},L&&A<=50&&(A++,typeof L=="object"&&(L.placement&&(x=L.placement),L.rects&&(g=L.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:s}):L.rects),{x:p,y:m}=YR(g,x,h)),C=-1)}return{x:p,y:m,placement:x,strategy:s,middlewareData:b}};async function ny(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:u,elements:d,strategy:h}=e,{boundary:g="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=gu(t,e),A=tP(b),w=d[x?m==="floating"?"reference":"floating":m],T=Db(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:g,rootBoundary:p,strategy:h})),_=m==="floating"?{x:r,y:s,width:u.floating.width,height:u.floating.height}:u.reference,I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),D=await(a.isElement==null?void 0:a.isElement(I))?await(a.getScale==null?void 0:a.getScale(I))||{x:1,y:1}:{x:1,y:1},L=Db(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:_,offsetParent:I,strategy:h}):_);return{top:(T.top-L.top+A.top)/D.y,bottom:(L.bottom-T.bottom+A.bottom)/D.y,left:(T.left-L.left+A.left)/D.x,right:(L.right-T.right+A.right)/D.x}}const b4=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:u,elements:d,middlewareData:h}=t,{element:g,padding:p=0}=gu(e,t)||{};if(g==null)return{};const m=tP(p),x={x:n,y:r},b=Dw(s),A=Ow(b),C=await u.getDimensions(g),w=b==="y",T=w?"top":"left",_=w?"bottom":"right",I=w?"clientHeight":"clientWidth",D=a.reference[A]+a.reference[b]-x[b]-a.floating[A],L=x[b]-a.reference[b],k=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let U=k?k[I]:0;(!U||!await(u.isElement==null?void 0:u.isElement(k)))&&(U=d.floating[I]||a.floating[A]);const B=D/2-L/2,W=U/2-C[A]/2-1,te=zc(m[T],W),ie=zc(m[_],W),se=te,Ce=U-C[A]-ie,je=U/2-C[A]/2+B,Me=RC(se,je,Ce),re=!h.arrow&&cg(s)!=null&&je!==Me&&a.reference[A]/2-(je<se?te:ie)-C[A]/2<0,Ie=re?je<se?je-se:je-Ce:0;return{[b]:x[b]+Ie,data:{[b]:Me,centerOffset:je-Me-Ie,...re&&{alignmentOffset:Ie}},reset:re}}}),S4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:u,initialPlacement:d,platform:h,elements:g}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:C=!0,...w}=gu(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const T=mu(s),_=Vc(d),I=mu(d)===d,D=await(h.isRTL==null?void 0:h.isRTL(g.floating)),L=x||(I||!C?[Ob(d)]:g4(d)),k=A!=="none";!x&&k&&L.push(...y4(d,C,A,D));const U=[d,...L],B=await ny(t,w),W=[];let te=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&W.push(B[T]),m){const je=p4(s,u,D);W.push(B[je[0]],B[je[1]])}if(te=[...te,{placement:s,overflows:W}],!W.every(je=>je<=0)){var ie,se;const je=(((ie=a.flip)==null?void 0:ie.index)||0)+1,Me=U[je];if(Me)return{data:{index:je,overflows:te},reset:{placement:Me}};let re=(se=te.filter(Ie=>Ie.overflows[0]<=0).sort((Ie,de)=>Ie.overflows[1]-de.overflows[1])[0])==null?void 0:se.placement;if(!re)switch(b){case"bestFit":{var Ce;const Ie=(Ce=te.filter(de=>{if(k){const fe=Vc(de.placement);return fe===_||fe==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(fe=>fe>0).reduce((fe,K)=>fe+K,0)]).sort((de,fe)=>de[1]-fe[1])[0])==null?void 0:Ce[0];Ie&&(re=Ie);break}case"initialPlacement":re=d;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function qR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function KR(e){return f4.some(t=>e[t]>=0)}const E4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=gu(e,t);switch(r){case"referenceHidden":{const a=await ny(t,{...s,elementContext:"reference"}),u=qR(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:KR(u)}}}case"escaped":{const a=await ny(t,{...s,altBoundary:!0}),u=qR(a,n.floating);return{data:{escapedOffsets:u,escaped:KR(u)}}}default:return{}}}}};async function A4(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),u=mu(n),d=cg(n),h=Vc(n)==="y",g=["left","top"].includes(u)?-1:1,p=a&&h?-1:1,m=gu(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:A}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return d&&typeof A=="number"&&(b=d==="end"?A*-1:A),h?{x:b*p,y:x*g}:{x:x*g,y:b*p}}const C4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:u,middlewareData:d}=t,h=await A4(t,e);return u===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:u}}}}},w4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:w=>{let{x:T,y:_}=w;return{x:T,y:_}}},...h}=gu(e,t),g={x:n,y:r},p=await ny(t,h),m=Vc(mu(s)),x=Iw(m);let b=g[x],A=g[m];if(a){const w=x==="y"?"top":"left",T=x==="y"?"bottom":"right",_=b+p[w],I=b-p[T];b=RC(_,b,I)}if(u){const w=m==="y"?"top":"left",T=m==="y"?"bottom":"right",_=A+p[w],I=A-p[T];A=RC(_,A,I)}const C=d.fn({...t,[x]:b,[m]:A});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[x]:a,[m]:u}}}}}},R4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:u}=t,{offset:d=0,mainAxis:h=!0,crossAxis:g=!0}=gu(e,t),p={x:n,y:r},m=Vc(s),x=Iw(m);let b=p[x],A=p[m];const C=gu(d,t),w=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const I=x==="y"?"height":"width",D=a.reference[x]-a.floating[I]+w.mainAxis,L=a.reference[x]+a.reference[I]-w.mainAxis;b<D?b=D:b>L&&(b=L)}if(g){var T,_;const I=x==="y"?"width":"height",D=["top","left"].includes(mu(s)),L=a.reference[m]-a.floating[I]+(D&&((T=u.offset)==null?void 0:T[m])||0)+(D?0:w.crossAxis),k=a.reference[m]+a.reference[I]+(D?0:((_=u.offset)==null?void 0:_[m])||0)-(D?w.crossAxis:0);A<L?A=L:A>k&&(A=k)}return{[x]:b,[m]:A}}}},T4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:u,elements:d}=t,{apply:h=()=>{},...g}=gu(e,t),p=await ny(t,g),m=mu(s),x=cg(s),b=Vc(s)==="y",{width:A,height:C}=a.floating;let w,T;m==="top"||m==="bottom"?(w=m,T=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(T=m,w=x==="end"?"top":"bottom");const _=C-p.top-p.bottom,I=A-p.left-p.right,D=zc(C-p[w],_),L=zc(A-p[T],I),k=!t.middlewareData.shift;let U=D,B=L;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=I),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(U=_),k&&!x){const te=io(p.left,0),ie=io(p.right,0),se=io(p.top,0),Ce=io(p.bottom,0);b?B=A-2*(te!==0||ie!==0?te+ie:io(p.left,p.right)):U=C-2*(se!==0||Ce!==0?se+Ce:io(p.top,p.bottom))}await h({...t,availableWidth:B,availableHeight:U});const W=await u.getDimensions(d.floating);return A!==W.width||C!==W.height?{reset:{rects:!0}}:{}}}};function eS(){return typeof window<"u"}function fg(e){return nP(e)?(e.nodeName||"").toLowerCase():"#document"}function oo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ca(e){var t;return(t=(nP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nP(e){return eS()?e instanceof Node||e instanceof oo(e).Node:!1}function xs(e){return eS()?e instanceof Element||e instanceof oo(e).Element:!1}function Sa(e){return eS()?e instanceof HTMLElement||e instanceof oo(e).HTMLElement:!1}function XR(e){return!eS()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oo(e).ShadowRoot}function Sy(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=bs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function N4(e){return["table","td","th"].includes(fg(e))}function tS(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Pw(e){const t=Mw(),n=xs(e)?bs(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _4(e){let t=Uc(e);for(;Sa(t)&&!Zp(t);){if(Pw(t))return t;if(tS(t))return null;t=Uc(t)}return null}function Mw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zp(e){return["html","body","#document"].includes(fg(e))}function bs(e){return oo(e).getComputedStyle(e)}function nS(e){return xs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Uc(e){if(fg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||XR(e)&&e.host||Ca(e);return XR(t)?t.host:t}function rP(e){const t=Uc(e);return Zp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sa(t)&&Sy(t)?t:rP(t)}function ry(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=rP(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),u=oo(s);if(a){const d=NC(u);return t.concat(u,u.visualViewport||[],Sy(s)?s:[],d&&n?ry(d):[])}return t.concat(s,ry(s,[],n))}function NC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function iP(e){const t=bs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Sa(e),a=s?e.offsetWidth:n,u=s?e.offsetHeight:r,d=Ib(n)!==a||Ib(r)!==u;return d&&(n=a,r=u),{width:n,height:r,$:d}}function Lw(e){return xs(e)?e:e.contextElement}function Lp(e){const t=Lw(e);if(!Sa(t))return xa(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=iP(t);let u=(a?Ib(n.width):n.width)/r,d=(a?Ib(n.height):n.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const I4=xa(0);function oP(e){const t=oo(e);return!Mw()||!t.visualViewport?I4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function O4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==oo(e)?!1:t}function eh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Lw(e);let u=xa(1);t&&(r?xs(r)&&(u=Lp(r)):u=Lp(e));const d=O4(a,n,r)?oP(a):xa(0);let h=(s.left+d.x)/u.x,g=(s.top+d.y)/u.y,p=s.width/u.x,m=s.height/u.y;if(a){const x=oo(a),b=r&&xs(r)?oo(r):r;let A=x,C=NC(A);for(;C&&r&&b!==A;){const w=Lp(C),T=C.getBoundingClientRect(),_=bs(C),I=T.left+(C.clientLeft+parseFloat(_.paddingLeft))*w.x,D=T.top+(C.clientTop+parseFloat(_.paddingTop))*w.y;h*=w.x,g*=w.y,p*=w.x,m*=w.y,h+=I,g+=D,A=oo(C),C=NC(A)}}return Db({width:p,height:m,x:h,y:g})}function Fw(e,t){const n=nS(e).scrollLeft;return t?t.left+n:eh(Ca(e)).left+n}function sP(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Fw(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function D4(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",u=Ca(r),d=t?tS(t.floating):!1;if(r===u||d&&a)return n;let h={scrollLeft:0,scrollTop:0},g=xa(1);const p=xa(0),m=Sa(r);if((m||!m&&!a)&&((fg(r)!=="body"||Sy(u))&&(h=nS(r)),Sa(r))){const b=eh(r);g=Lp(r),p.x=b.x+r.clientLeft,p.y=b.y+r.clientTop}const x=u&&!m&&!a?sP(u,h,!0):xa(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-h.scrollLeft*g.x+p.x+x.x,y:n.y*g.y-h.scrollTop*g.y+p.y+x.y}}function P4(e){return Array.from(e.getClientRects())}function M4(e){const t=Ca(e),n=nS(e),r=e.ownerDocument.body,s=io(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=io(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+Fw(e);const d=-n.scrollTop;return bs(r).direction==="rtl"&&(u+=io(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:u,y:d}}function L4(e,t){const n=oo(e),r=Ca(e),s=n.visualViewport;let a=r.clientWidth,u=r.clientHeight,d=0,h=0;if(s){a=s.width,u=s.height;const g=Mw();(!g||g&&t==="fixed")&&(d=s.offsetLeft,h=s.offsetTop)}return{width:a,height:u,x:d,y:h}}function F4(e,t){const n=eh(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Sa(e)?Lp(e):xa(1),u=e.clientWidth*a.x,d=e.clientHeight*a.y,h=s*a.x,g=r*a.y;return{width:u,height:d,x:h,y:g}}function ZR(e,t,n){let r;if(t==="viewport")r=L4(e,n);else if(t==="document")r=M4(Ca(e));else if(xs(t))r=F4(t,n);else{const s=oP(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Db(r)}function aP(e,t){const n=Uc(e);return n===t||!xs(n)||Zp(n)?!1:bs(n).position==="fixed"||aP(n,t)}function k4(e,t){const n=t.get(e);if(n)return n;let r=ry(e,[],!1).filter(d=>xs(d)&&fg(d)!=="body"),s=null;const a=bs(e).position==="fixed";let u=a?Uc(e):e;for(;xs(u)&&!Zp(u);){const d=bs(u),h=Pw(u);!h&&d.position==="fixed"&&(s=null),(a?!h&&!s:!h&&d.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Sy(u)&&!h&&aP(e,u))?r=r.filter(p=>p!==u):s=d,u=Uc(u)}return t.set(e,r),r}function B4(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const u=[...n==="clippingAncestors"?tS(t)?[]:k4(t,this._c):[].concat(n),r],d=u[0],h=u.reduce((g,p)=>{const m=ZR(t,p,s);return g.top=io(m.top,g.top),g.right=zc(m.right,g.right),g.bottom=zc(m.bottom,g.bottom),g.left=io(m.left,g.left),g},ZR(t,d,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function j4(e){const{width:t,height:n}=iP(e);return{width:t,height:n}}function z4(e,t,n){const r=Sa(t),s=Ca(t),a=n==="fixed",u=eh(e,!0,a,t);let d={scrollLeft:0,scrollTop:0};const h=xa(0);if(r||!r&&!a)if((fg(t)!=="body"||Sy(s))&&(d=nS(t)),r){const x=eh(t,!0,a,t);h.x=x.x+t.clientLeft,h.y=x.y+t.clientTop}else s&&(h.x=Fw(s));const g=s&&!r&&!a?sP(s,d):xa(0),p=u.left+d.scrollLeft-h.x-g.x,m=u.top+d.scrollTop-h.y-g.y;return{x:p,y:m,width:u.width,height:u.height}}function oE(e){return bs(e).position==="static"}function JR(e,t){if(!Sa(e)||bs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ca(e)===n&&(n=n.ownerDocument.body),n}function lP(e,t){const n=oo(e);if(tS(e))return n;if(!Sa(e)){let s=Uc(e);for(;s&&!Zp(s);){if(xs(s)&&!oE(s))return s;s=Uc(s)}return n}let r=JR(e,t);for(;r&&N4(r)&&oE(r);)r=JR(r,t);return r&&Zp(r)&&oE(r)&&!Pw(r)?n:r||_4(e)||n}const V4=async function(e){const t=this.getOffsetParent||lP,n=this.getDimensions,r=await n(e.floating);return{reference:z4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function U4(e){return bs(e).direction==="rtl"}const G4={convertOffsetParentRelativeRectToViewportRelativeRect:D4,getDocumentElement:Ca,getClippingRect:B4,getOffsetParent:lP,getElementRects:V4,getClientRects:P4,getDimensions:j4,getScale:Lp,isElement:xs,isRTL:U4};function uP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $4(e,t){let n=null,r;const s=Ca(e);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const g=e.getBoundingClientRect(),{left:p,top:m,width:x,height:b}=g;if(d||t(),!x||!b)return;const A=nb(m),C=nb(s.clientWidth-(p+x)),w=nb(s.clientHeight-(m+b)),T=nb(p),I={rootMargin:-A+"px "+-C+"px "+-w+"px "+-T+"px",threshold:io(0,zc(1,h))||1};let D=!0;function L(k){const U=k[0].intersectionRatio;if(U!==h){if(!D)return u();U?u(!1,U):r=setTimeout(()=>{u(!1,1e-7)},1e3)}U===1&&!uP(g,e.getBoundingClientRect())&&u(),D=!1}try{n=new IntersectionObserver(L,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,I)}n.observe(e)}return u(!0),a}function H4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,g=Lw(e),p=s||a?[...g?ry(g):[],...ry(t)]:[];p.forEach(T=>{s&&T.addEventListener("scroll",n,{passive:!0}),a&&T.addEventListener("resize",n)});const m=g&&d?$4(g,n):null;let x=-1,b=null;u&&(b=new ResizeObserver(T=>{let[_]=T;_&&_.target===g&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var I;(I=b)==null||I.observe(t)})),n()}),g&&!h&&b.observe(g),b.observe(t));let A,C=h?eh(e):null;h&&w();function w(){const T=eh(e);C&&!uP(C,T)&&n(),C=T,A=requestAnimationFrame(w)}return n(),()=>{var T;p.forEach(_=>{s&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),m==null||m(),(T=b)==null||T.disconnect(),b=null,h&&cancelAnimationFrame(A)}}const W4=C4,Y4=w4,q4=S4,K4=T4,X4=E4,QR=b4,Z4=R4,J4=(e,t,n)=>{const r=new Map,s={platform:G4,...n},a={...s.platform,_c:r};return x4(e,t,{...s,platform:a})};var mb=typeof document<"u"?F.useLayoutEffect:F.useEffect;function Pb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Pb(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Pb(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function cP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eT(e,t){const n=cP(e);return Math.round(t*n)/n}function sE(e){const t=F.useRef(e);return mb(()=>{t.current=e}),t}function Q4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:h,open:g}=e,[p,m]=F.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=F.useState(r);Pb(x,r)||b(r);const[A,C]=F.useState(null),[w,T]=F.useState(null),_=F.useCallback(de=>{de!==k.current&&(k.current=de,C(de))},[]),I=F.useCallback(de=>{de!==U.current&&(U.current=de,T(de))},[]),D=a||A,L=u||w,k=F.useRef(null),U=F.useRef(null),B=F.useRef(p),W=h!=null,te=sE(h),ie=sE(s),se=sE(g),Ce=F.useCallback(()=>{if(!k.current||!U.current)return;const de={placement:t,strategy:n,middleware:x};ie.current&&(de.platform=ie.current),J4(k.current,U.current,de).then(fe=>{const K={...fe,isPositioned:se.current!==!1};je.current&&!Pb(B.current,K)&&(B.current=K,py.flushSync(()=>{m(K)}))})},[x,t,n,ie,se]);mb(()=>{g===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,m(de=>({...de,isPositioned:!1})))},[g]);const je=F.useRef(!1);mb(()=>(je.current=!0,()=>{je.current=!1}),[]),mb(()=>{if(D&&(k.current=D),L&&(U.current=L),D&&L){if(te.current)return te.current(D,L,Ce);Ce()}},[D,L,Ce,te,W]);const Me=F.useMemo(()=>({reference:k,floating:U,setReference:_,setFloating:I}),[_,I]),re=F.useMemo(()=>({reference:D,floating:L}),[D,L]),Ie=F.useMemo(()=>{const de={position:n,left:0,top:0};if(!re.floating)return de;const fe=eT(re.floating,p.x),K=eT(re.floating,p.y);return d?{...de,transform:"translate("+fe+"px, "+K+"px)",...cP(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:fe,top:K}},[n,d,re.floating,p.x,p.y]);return F.useMemo(()=>({...p,update:Ce,refs:Me,elements:re,floatingStyles:Ie}),[p,Ce,Me,re,Ie])}const e9=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?QR({element:r.current,padding:s}).fn(n):{}:r?QR({element:r,padding:s}).fn(n):{}}}},t9=(e,t)=>({...W4(e),options:[e,t]}),n9=(e,t)=>({...Y4(e),options:[e,t]}),r9=(e,t)=>({...Z4(e),options:[e,t]}),i9=(e,t)=>({...q4(e),options:[e,t]}),o9=(e,t)=>({...K4(e),options:[e,t]}),s9=(e,t)=>({...X4(e),options:[e,t]}),a9=(e,t)=>({...e9(e),options:[e,t]});var l9="Arrow",fP=F.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return O.jsx(Bt.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:O.jsx("polygon",{points:"0,0 30,0 15,10"})})});fP.displayName=l9;var u9=fP,kw="Popper",[dP,dg]=Es(kw),[c9,hP]=dP(kw),pP=e=>{const{__scopePopper:t,children:n}=e,[r,s]=F.useState(null);return O.jsx(c9,{scope:t,anchor:r,onAnchorChange:s,children:n})};pP.displayName=kw;var gP="PopperAnchor",mP=F.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=hP(gP,n),u=F.useRef(null),d=ln(t,u);return F.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:O.jsx(Bt.div,{...s,ref:d})});mP.displayName=gP;var Bw="PopperContent",[f9,d9]=dP(Bw),yP=F.forwardRef((e,t)=>{var J,X,Z,le,xe,Se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:A,...C}=e,w=hP(Bw,n),[T,_]=F.useState(null),I=ln(t,oe=>_(oe)),[D,L]=F.useState(null),k=bw(D),U=(k==null?void 0:k.width)??0,B=(k==null?void 0:k.height)??0,W=r+(a!=="center"?"-"+a:""),te=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ie=Array.isArray(g)?g:[g],se=ie.length>0,Ce={padding:te,boundary:ie.filter(p9),altBoundary:se},{refs:je,floatingStyles:Me,placement:re,isPositioned:Ie,middlewareData:de}=Q4({strategy:"fixed",placement:W,whileElementsMounted:(...oe)=>H4(...oe,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[t9({mainAxis:s+B,alignmentAxis:u}),h&&n9({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?r9():void 0,...Ce}),h&&i9({...Ce}),o9({...Ce,apply:({elements:oe,rects:ae,availableWidth:Ae,availableHeight:Oe})=>{const{width:Be,height:Ge}=ae.reference,ye=oe.floating.style;ye.setProperty("--radix-popper-available-width",`${Ae}px`),ye.setProperty("--radix-popper-available-height",`${Oe}px`),ye.setProperty("--radix-popper-anchor-width",`${Be}px`),ye.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),D&&a9({element:D,padding:d}),g9({arrowWidth:U,arrowHeight:B}),x&&s9({strategy:"referenceHidden",...Ce})]}),[fe,K]=bP(re),ne=ao(A);wr(()=>{Ie&&(ne==null||ne())},[Ie,ne]);const me=(J=de.arrow)==null?void 0:J.x,j=(X=de.arrow)==null?void 0:X.y,z=((Z=de.arrow)==null?void 0:Z.centerOffset)!==0,[G,H]=F.useState();return wr(()=>{T&&H(window.getComputedStyle(T).zIndex)},[T]),O.jsx("div",{ref:je.setFloating,"data-radix-popper-content-wrapper":"",style:{...Me,transform:Ie?Me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(le=de.transformOrigin)==null?void 0:le.x,(xe=de.transformOrigin)==null?void 0:xe.y].join(" "),...((Se=de.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:O.jsx(f9,{scope:n,placedSide:fe,onArrowChange:L,arrowX:me,arrowY:j,shouldHideArrow:z,children:O.jsx(Bt.div,{"data-side":fe,"data-align":K,...C,ref:I,style:{...C.style,animation:Ie?void 0:"none"}})})})});yP.displayName=Bw;var vP="PopperArrow",h9={top:"bottom",right:"left",bottom:"top",left:"right"},xP=F.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=d9(vP,r),u=h9[a.placedSide];return O.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:O.jsx(u9,{...s,ref:n,style:{...s.style,display:"block"}})})});xP.displayName=vP;function p9(e){return e!==null}var g9=e=>({name:"transformOrigin",options:e,fn(t){var w,T,_;const{placement:n,rects:r,middlewareData:s}=t,u=((w=s.arrow)==null?void 0:w.centerOffset)!==0,d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[g,p]=bP(n),m={start:"0%",center:"50%",end:"100%"}[p],x=(((T=s.arrow)==null?void 0:T.x)??0)+d/2,b=(((_=s.arrow)==null?void 0:_.y)??0)+h/2;let A="",C="";return g==="bottom"?(A=u?m:`${x}px`,C=`${-h}px`):g==="top"?(A=u?m:`${x}px`,C=`${r.floating.height+h}px`):g==="right"?(A=`${-h}px`,C=u?m:`${b}px`):g==="left"&&(A=`${r.floating.width+h}px`,C=u?m:`${b}px`),{data:{x:A,y:C}}}});function bP(e){const[t,n="center"]=e.split("-");return[t,n]}var jw=pP,zw=mP,Vw=yP,Uw=xP,aE="rovingFocusGroup.onEntryFocus",m9={bubbles:!1,cancelable:!0},rS="RovingFocusGroup",[_C,SP,y9]=Nw(rS),[v9,EP]=Es(rS,[y9]),[x9,b9]=v9(rS),AP=F.forwardRef((e,t)=>O.jsx(_C.Provider,{scope:e.__scopeRovingFocusGroup,children:O.jsx(_C.Slot,{scope:e.__scopeRovingFocusGroup,children:O.jsx(S9,{...e,ref:t})})}));AP.displayName=rS;var S9=F.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:g,preventScrollOnEntryFocus:p=!1,...m}=e,x=F.useRef(null),b=ln(t,x),A=_w(a),[C=null,w]=jc({prop:u,defaultProp:d,onChange:h}),[T,_]=F.useState(!1),I=ao(g),D=SP(n),L=F.useRef(!1),[k,U]=F.useState(0);return F.useEffect(()=>{const B=x.current;if(B)return B.addEventListener(aE,I),()=>B.removeEventListener(aE,I)},[I]),O.jsx(x9,{scope:n,orientation:r,dir:A,loop:s,currentTabStopId:C,onItemFocus:F.useCallback(B=>w(B),[w]),onItemShiftTab:F.useCallback(()=>_(!0),[]),onFocusableItemAdd:F.useCallback(()=>U(B=>B+1),[]),onFocusableItemRemove:F.useCallback(()=>U(B=>B-1),[]),children:O.jsx(Bt.div,{tabIndex:T||k===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...e.style},onMouseDown:st(e.onMouseDown,()=>{L.current=!0}),onFocus:st(e.onFocus,B=>{const W=!L.current;if(B.target===B.currentTarget&&W&&!T){const te=new CustomEvent(aE,m9);if(B.currentTarget.dispatchEvent(te),!te.defaultPrevented){const ie=D().filter(re=>re.focusable),se=ie.find(re=>re.active),Ce=ie.find(re=>re.id===C),Me=[se,Ce,...ie].filter(Boolean).map(re=>re.ref.current);RP(Me,p)}}L.current=!1}),onBlur:st(e.onBlur,()=>_(!1))})})}),CP="RovingFocusGroupItem",wP=F.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...u}=e,d=va(),h=a||d,g=b9(CP,n),p=g.currentTabStopId===h,m=SP(n),{onFocusableItemAdd:x,onFocusableItemRemove:b}=g;return F.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),O.jsx(_C.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:O.jsx(Bt.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:st(e.onMouseDown,A=>{r?g.onItemFocus(h):A.preventDefault()}),onFocus:st(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:st(e.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){g.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const C=C9(A,g.orientation,g.dir);if(C!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let T=m().filter(_=>_.focusable).map(_=>_.ref.current);if(C==="last")T.reverse();else if(C==="prev"||C==="next"){C==="prev"&&T.reverse();const _=T.indexOf(A.currentTarget);T=g.loop?w9(T,_+1):T.slice(_+1)}setTimeout(()=>RP(T))}})})})});wP.displayName=CP;var E9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function C9(e,t,n){const r=A9(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return E9[r]}function RP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function w9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var R9=AP,T9=wP,IC=["Enter"," "],N9=["ArrowDown","PageUp","Home"],TP=["ArrowUp","PageDown","End"],_9=[...N9,...TP],I9={ltr:[...IC,"ArrowRight"],rtl:[...IC,"ArrowLeft"]},O9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ey="Menu",[iy,D9,P9]=Nw(Ey),[rh,NP]=Es(Ey,[P9,dg,EP]),iS=dg(),_P=EP(),[M9,ih]=rh(Ey),[L9,Ay]=rh(Ey),IP=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:u=!0}=e,d=iS(t),[h,g]=F.useState(null),p=F.useRef(!1),m=ao(a),x=_w(s);return F.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),O.jsx(jw,{...d,children:O.jsx(M9,{scope:t,open:n,onOpenChange:m,content:h,onContentChange:g,children:O.jsx(L9,{scope:t,onClose:F.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:x,modal:u,children:r})})})};IP.displayName=Ey;var F9="MenuAnchor",Gw=F.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=iS(n);return O.jsx(zw,{...s,...r,ref:t})});Gw.displayName=F9;var $w="MenuPortal",[k9,OP]=rh($w,{forceMount:void 0}),DP=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=ih($w,t);return O.jsx(k9,{scope:t,forceMount:n,children:O.jsx(As,{present:n||a.open,children:O.jsx(my,{asChild:!0,container:s,children:r})})})};DP.displayName=$w;var Po="MenuContent",[B9,Hw]=rh(Po),PP=F.forwardRef((e,t)=>{const n=OP(Po,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=ih(Po,e.__scopeMenu),u=Ay(Po,e.__scopeMenu);return O.jsx(iy.Provider,{scope:e.__scopeMenu,children:O.jsx(As,{present:r||a.open,children:O.jsx(iy.Slot,{scope:e.__scopeMenu,children:u.modal?O.jsx(j9,{...s,ref:t}):O.jsx(z9,{...s,ref:t})})})})}),j9=F.forwardRef((e,t)=>{const n=ih(Po,e.__scopeMenu),r=F.useRef(null),s=ln(t,r);return F.useEffect(()=>{const a=r.current;if(a)return Aw(a)},[]),O.jsx(Ww,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:st(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),z9=F.forwardRef((e,t)=>{const n=ih(Po,e.__scopeMenu);return O.jsx(Ww,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),V9=Fc("MenuContent.ScrollLock"),Ww=F.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,disableOutsideScroll:A,...C}=e,w=ih(Po,n),T=Ay(Po,n),_=iS(n),I=_P(n),D=D9(n),[L,k]=F.useState(null),U=F.useRef(null),B=ln(t,U,w.onContentChange),W=F.useRef(0),te=F.useRef(""),ie=F.useRef(0),se=F.useRef(null),Ce=F.useRef("right"),je=F.useRef(0),Me=A?Jb:F.Fragment,re=A?{as:V9,allowPinchZoom:!0}:void 0,Ie=fe=>{var J,X;const K=te.current+fe,ne=D().filter(Z=>!Z.disabled),me=document.activeElement,j=(J=ne.find(Z=>Z.ref.current===me))==null?void 0:J.textValue,z=ne.map(Z=>Z.textValue),G=Q9(z,K,j),H=(X=ne.find(Z=>Z.textValue===G))==null?void 0:X.ref.current;(function Z(le){te.current=le,window.clearTimeout(W.current),le!==""&&(W.current=window.setTimeout(()=>Z(""),1e3))})(K),H&&setTimeout(()=>H.focus())};F.useEffect(()=>()=>window.clearTimeout(W.current),[]),Ew();const de=F.useCallback(fe=>{var ne,me;return Ce.current===((ne=se.current)==null?void 0:ne.side)&&t6(fe,(me=se.current)==null?void 0:me.area)},[]);return O.jsx(B9,{scope:n,searchRef:te,onItemEnter:F.useCallback(fe=>{de(fe)&&fe.preventDefault()},[de]),onItemLeave:F.useCallback(fe=>{var K;de(fe)||((K=U.current)==null||K.focus(),k(null))},[de]),onTriggerLeave:F.useCallback(fe=>{de(fe)&&fe.preventDefault()},[de]),pointerGraceTimerRef:ie,onPointerGraceIntentChange:F.useCallback(fe=>{se.current=fe},[]),children:O.jsx(Me,{...re,children:O.jsx(Xb,{asChild:!0,trapped:s,onMountAutoFocus:st(a,fe=>{var K;fe.preventDefault(),(K=U.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:O.jsx(gy,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,children:O.jsx(R9,{asChild:!0,...I,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:L,onCurrentTabStopIdChange:k,onEntryFocus:st(h,fe=>{T.isUsingKeyboardRef.current||fe.preventDefault()}),preventScrollOnEntryFocus:!0,children:O.jsx(Vw,{role:"menu","aria-orientation":"vertical","data-state":KP(w.open),"data-radix-menu-content":"",dir:T.dir,..._,...C,ref:B,style:{outline:"none",...C.style},onKeyDown:st(C.onKeyDown,fe=>{const ne=fe.target.closest("[data-radix-menu-content]")===fe.currentTarget,me=fe.ctrlKey||fe.altKey||fe.metaKey,j=fe.key.length===1;ne&&(fe.key==="Tab"&&fe.preventDefault(),!me&&j&&Ie(fe.key));const z=U.current;if(fe.target!==z||!_9.includes(fe.key))return;fe.preventDefault();const H=D().filter(J=>!J.disabled).map(J=>J.ref.current);TP.includes(fe.key)&&H.reverse(),Z9(H)}),onBlur:st(e.onBlur,fe=>{fe.currentTarget.contains(fe.target)||(window.clearTimeout(W.current),te.current="")}),onPointerMove:st(e.onPointerMove,oy(fe=>{const K=fe.target,ne=je.current!==fe.clientX;if(fe.currentTarget.contains(K)&&ne){const me=fe.clientX>je.current?"right":"left";Ce.current=me,je.current=fe.clientX}}))})})})})})})});PP.displayName=Po;var U9="MenuGroup",Yw=F.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Bt.div,{role:"group",...r,ref:t})});Yw.displayName=U9;var G9="MenuLabel",MP=F.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Bt.div,{...r,ref:t})});MP.displayName=G9;var Mb="MenuItem",tT="menu.itemSelect",oS=F.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=F.useRef(null),u=Ay(Mb,e.__scopeMenu),d=Hw(Mb,e.__scopeMenu),h=ln(t,a),g=F.useRef(!1),p=()=>{const m=a.current;if(!n&&m){const x=new CustomEvent(tT,{bubbles:!0,cancelable:!0});m.addEventListener(tT,b=>r==null?void 0:r(b),{once:!0}),m3(m,x),x.defaultPrevented?g.current=!1:u.onClose()}};return O.jsx(LP,{...s,ref:h,disabled:n,onClick:st(e.onClick,p),onPointerDown:m=>{var x;(x=e.onPointerDown)==null||x.call(e,m),g.current=!0},onPointerUp:st(e.onPointerUp,m=>{var x;g.current||(x=m.currentTarget)==null||x.click()}),onKeyDown:st(e.onKeyDown,m=>{const x=d.searchRef.current!=="";n||x&&m.key===" "||IC.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});oS.displayName=Mb;var LP=F.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,u=Hw(Mb,n),d=_P(n),h=F.useRef(null),g=ln(t,h),[p,m]=F.useState(!1),[x,b]=F.useState("");return F.useEffect(()=>{const A=h.current;A&&b((A.textContent??"").trim())},[a.children]),O.jsx(iy.ItemSlot,{scope:n,disabled:r,textValue:s??x,children:O.jsx(T9,{asChild:!0,...d,focusable:!r,children:O.jsx(Bt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:g,onPointerMove:st(e.onPointerMove,oy(A=>{r?u.onItemLeave(A):(u.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:st(e.onPointerLeave,oy(A=>u.onItemLeave(A))),onFocus:st(e.onFocus,()=>m(!0)),onBlur:st(e.onBlur,()=>m(!1))})})})}),$9="MenuCheckboxItem",FP=F.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return O.jsx(VP,{scope:e.__scopeMenu,checked:n,children:O.jsx(oS,{role:"menuitemcheckbox","aria-checked":Lb(n)?"mixed":n,...s,ref:t,"data-state":Kw(n),onSelect:st(s.onSelect,()=>r==null?void 0:r(Lb(n)?!0:!n),{checkForDefaultPrevented:!1})})})});FP.displayName=$9;var kP="MenuRadioGroup",[H9,W9]=rh(kP,{value:void 0,onValueChange:()=>{}}),BP=F.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=ao(r);return O.jsx(H9,{scope:e.__scopeMenu,value:n,onValueChange:a,children:O.jsx(Yw,{...s,ref:t})})});BP.displayName=kP;var jP="MenuRadioItem",zP=F.forwardRef((e,t)=>{const{value:n,...r}=e,s=W9(jP,e.__scopeMenu),a=n===s.value;return O.jsx(VP,{scope:e.__scopeMenu,checked:a,children:O.jsx(oS,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Kw(a),onSelect:st(r.onSelect,()=>{var u;return(u=s.onValueChange)==null?void 0:u.call(s,n)},{checkForDefaultPrevented:!1})})})});zP.displayName=jP;var qw="MenuItemIndicator",[VP,Y9]=rh(qw,{checked:!1}),UP=F.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=Y9(qw,n);return O.jsx(As,{present:r||Lb(a.checked)||a.checked===!0,children:O.jsx(Bt.span,{...s,ref:t,"data-state":Kw(a.checked)})})});UP.displayName=qw;var q9="MenuSeparator",GP=F.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Bt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});GP.displayName=q9;var K9="MenuArrow",$P=F.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=iS(n);return O.jsx(Uw,{...s,...r,ref:t})});$P.displayName=K9;var X9="MenuSub",[H7,HP]=rh(X9),U0="MenuSubTrigger",WP=F.forwardRef((e,t)=>{const n=ih(U0,e.__scopeMenu),r=Ay(U0,e.__scopeMenu),s=HP(U0,e.__scopeMenu),a=Hw(U0,e.__scopeMenu),u=F.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=a,g={__scopeMenu:e.__scopeMenu},p=F.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return F.useEffect(()=>p,[p]),F.useEffect(()=>{const m=d.current;return()=>{window.clearTimeout(m),h(null)}},[d,h]),O.jsx(Gw,{asChild:!0,...g,children:O.jsx(LP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":KP(n.open),...e,ref:Yb(t,s.onTriggerChange),onClick:m=>{var x;(x=e.onClick)==null||x.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:st(e.onPointerMove,oy(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:st(e.onPointerLeave,oy(m=>{var b,A;p();const x=(b=n.content)==null?void 0:b.getBoundingClientRect();if(x){const C=(A=n.content)==null?void 0:A.dataset.side,w=C==="right",T=w?-5:5,_=x[w?"left":"right"],I=x[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+T,y:m.clientY},{x:_,y:x.top},{x:I,y:x.top},{x:I,y:x.bottom},{x:_,y:x.bottom}],side:C}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:st(e.onKeyDown,m=>{var b;const x=a.searchRef.current!=="";e.disabled||x&&m.key===" "||I9[r.dir].includes(m.key)&&(n.onOpenChange(!0),(b=n.content)==null||b.focus(),m.preventDefault())})})})});WP.displayName=U0;var YP="MenuSubContent",qP=F.forwardRef((e,t)=>{const n=OP(Po,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=ih(Po,e.__scopeMenu),u=Ay(Po,e.__scopeMenu),d=HP(YP,e.__scopeMenu),h=F.useRef(null),g=ln(t,h);return O.jsx(iy.Provider,{scope:e.__scopeMenu,children:O.jsx(As,{present:r||a.open,children:O.jsx(iy.Slot,{scope:e.__scopeMenu,children:O.jsx(Ww,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:g,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var m;u.isUsingKeyboardRef.current&&((m=h.current)==null||m.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:st(e.onFocusOutside,p=>{p.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:st(e.onEscapeKeyDown,p=>{u.onClose(),p.preventDefault()}),onKeyDown:st(e.onKeyDown,p=>{var b;const m=p.currentTarget.contains(p.target),x=O9[u.dir].includes(p.key);m&&x&&(a.onOpenChange(!1),(b=d.trigger)==null||b.focus(),p.preventDefault())})})})})})});qP.displayName=YP;function KP(e){return e?"open":"closed"}function Lb(e){return e==="indeterminate"}function Kw(e){return Lb(e)?"indeterminate":e?"checked":"unchecked"}function Z9(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function J9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Q9(e,t,n){const s=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let u=J9(e,Math.max(a,0));s.length===1&&(u=u.filter(g=>g!==n));const h=u.find(g=>g.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function e6(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const d=t[a].x,h=t[a].y,g=t[u].x,p=t[u].y;h>r!=p>r&&n<(g-d)*(r-h)/(p-h)+d&&(s=!s)}return s}function t6(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return e6(n,t)}function oy(e){return t=>t.pointerType==="mouse"?e(t):void 0}var n6=IP,r6=Gw,i6=DP,o6=PP,s6=Yw,a6=MP,l6=oS,u6=FP,c6=BP,f6=zP,d6=UP,h6=GP,p6=$P,g6=WP,m6=qP,Xw="DropdownMenu",[y6,W7]=Es(Xw,[NP]),Si=NP(),[v6,XP]=y6(Xw),ZP=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:u,modal:d=!0}=e,h=Si(t),g=F.useRef(null),[p=!1,m]=jc({prop:s,defaultProp:a,onChange:u});return O.jsx(v6,{scope:t,triggerId:va(),triggerRef:g,contentId:va(),open:p,onOpenChange:m,onOpenToggle:F.useCallback(()=>m(x=>!x),[m]),modal:d,children:O.jsx(n6,{...h,open:p,onOpenChange:m,dir:r,modal:d,children:n})})};ZP.displayName=Xw;var JP="DropdownMenuTrigger",QP=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=XP(JP,n),u=Si(n);return O.jsx(r6,{asChild:!0,...u,children:O.jsx(Bt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Yb(t,a.triggerRef),onPointerDown:st(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:st(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});QP.displayName=JP;var x6="DropdownMenuPortal",eM=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Si(t);return O.jsx(i6,{...r,...n})};eM.displayName=x6;var tM="DropdownMenuContent",nM=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=XP(tM,n),a=Si(n),u=F.useRef(!1);return O.jsx(o6,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:st(e.onCloseAutoFocus,d=>{var h;u.current||(h=s.triggerRef.current)==null||h.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:st(e.onInteractOutside,d=>{const h=d.detail.originalEvent,g=h.button===0&&h.ctrlKey===!0,p=h.button===2||g;(!s.modal||p)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nM.displayName=tM;var b6="DropdownMenuGroup",S6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Si(n);return O.jsx(s6,{...s,...r,ref:t})});S6.displayName=b6;var E6="DropdownMenuLabel",rM=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Si(n);return O.jsx(a6,{...s,...r,ref:t})});rM.displayName=E6;var A6="DropdownMenuItem",iM=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Si(n);return O.jsx(l6,{...s,...r,ref:t})});iM.displayName=A6;var C6="DropdownMenuCheckboxItem",w6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Si(n);return O.jsx(u6,{...s,...r,ref:t})});w6.displayName=C6;var R6="DropdownMenuRadioGroup",T6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Si(n);return O.jsx(c6,{...s,...r,ref:t})});T6.displayName=R6;var N6="DropdownMenuRadioItem",_6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Si(n);return O.jsx(f6,{...s,...r,ref:t})});_6.displayName=N6;var I6="DropdownMenuItemIndicator",O6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Si(n);return O.jsx(d6,{...s,...r,ref:t})});O6.displayName=I6;var D6="DropdownMenuSeparator",oM=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Si(n);return O.jsx(h6,{...s,...r,ref:t})});oM.displayName=D6;var P6="DropdownMenuArrow",M6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Si(n);return O.jsx(p6,{...s,...r,ref:t})});M6.displayName=P6;var L6="DropdownMenuSubTrigger",F6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Si(n);return O.jsx(g6,{...s,...r,ref:t})});F6.displayName=L6;var k6="DropdownMenuSubContent",B6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Si(n);return O.jsx(m6,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});B6.displayName=k6;var j6=ZP,z6=QP,V6=eM,U6=nM,G6=rM,$6=iM,H6=oM;function ga({...e}){return O.jsx(j6,{"data-slot":"dropdown-menu",...e})}function ma({...e}){return O.jsx(z6,{"data-slot":"dropdown-menu-trigger",...e})}function ya({className:e,sideOffset:t=4,...n}){return O.jsx(V6,{children:O.jsx(U6,{"data-slot":"dropdown-menu-content",sideOffset:t,className:xt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function pr({className:e,inset:t,variant:n="default",...r}){return O.jsx($6,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:xt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function W6({className:e,inset:t,...n}){return O.jsx(G6,{"data-slot":"dropdown-menu-label","data-inset":t,className:xt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function Zw({className:e,...t}){return O.jsx(H6,{"data-slot":"dropdown-menu-separator",className:xt("bg-border -mx-1 my-1 h-px",e),...t})}function xi({className:e,type:t,...n}){return O.jsx("input",{type:t,"data-slot":"input",className:xt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function sM({className:e,...t}){return O.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:O.jsx("table",{"data-slot":"table",className:xt("w-full caption-bottom text-sm",e),...t})})}function aM({className:e,...t}){return O.jsx("thead",{"data-slot":"table-header",className:xt("[&_tr]:border-b",e),...t})}function lM({className:e,...t}){return O.jsx("tbody",{"data-slot":"table-body",className:xt("[&_tr:last-child]:border-0",e),...t})}function Fp({className:e,...t}){return O.jsx("tr",{"data-slot":"table-row",className:xt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function uM({className:e,...t}){return O.jsx("th",{"data-slot":"table-head",className:xt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Fb({className:e,...t}){return O.jsx("td",{"data-slot":"table-cell",className:xt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Y6({data:e}){var _,I;const t=Wb(),n=tw(),r=[{id:"select",header:({table:D})=>O.jsx(Nb,{checked:D.getIsAllPageRowsSelected()||D.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:L=>D.toggleAllPageRowsSelected(!!L),"aria-label":"Select all"}),cell:({row:D})=>O.jsx(Nb,{checked:D.getIsSelected(),onCheckedChange:L=>D.toggleSelected(!!L),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:"ID",enableHiding:!0},{accessorKey:"title",header:"Title",cell:({row:D})=>O.jsx("div",{className:"capitalize",children:D.getValue("title")})},{accessorKey:"createdAt",header:()=>O.jsx("div",{className:"text-right",children:"Created At"}),cell:({row:D})=>{const L=D.getValue("createdAt"),k=g3(new Date(L),{includeSeconds:!0,addSuffix:!0});return O.jsx("div",{className:"text-right font-medium",children:k})}},{id:"actions",enableHiding:!1,cell:({row:D})=>O.jsxs(ga,{children:[O.jsx(ma,{asChild:!0,children:O.jsxs(qn,{variant:"ghost",className:"h-8 w-8 p-0",children:[O.jsx("span",{className:"sr-only",children:"Open menu"}),O.jsx(MD,{})]})}),O.jsxs(ya,{align:"end",children:[O.jsxs(pr,{onClick:L=>{L.stopPropagation(),a({id:String(D.getValue("id")),title:D.getValue("title")})},children:[O.jsx(kD,{className:"mr-2 h-4 w-4"}),"Rename"]}),O.jsxs(pr,{className:"text-red-500 focus:text-red-500",onClick:L=>{L.stopPropagation(),d.mutate(String(D.getValue("id")))},children:[O.jsx(jD,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}],[s,a]=F.useState(null),u=db({mutationFn:async D=>await qz(D),onSuccess:D=>n(`/${D.id}`)}),d=db({mutationFn:async D=>await Zz(D),onSuccess:()=>t.invalidateQueries({queryKey:["documents"]})}),h=db({mutationFn:async({id:D,title:L})=>await Xz(D,L),onSuccess:()=>{t.invalidateQueries({queryKey:["documents"]}),a(null)}}),[g,p]=F.useState([]),[m,x]=F.useState([]),[b,A]=F.useState({id:!1}),[C,w]=F.useState({}),T=p3({data:e,columns:r,onSortingChange:p,onColumnFiltersChange:x,getCoreRowModel:c3(),getPaginationRowModel:d3(),getSortedRowModel:h3(),getFilteredRowModel:f3(),onColumnVisibilityChange:A,onRowSelectionChange:w,state:{sorting:g,columnFilters:m,columnVisibility:b,rowSelection:C}});return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex items-center justify-between py-4",children:[O.jsx(xi,{placeholder:"Filter by title...",value:((_=T.getColumn("title"))==null?void 0:_.getFilterValue())??"",onChange:D=>{var L;return(L=T.getColumn("title"))==null?void 0:L.setFilterValue(D.target.value)},className:"max-w-sm"}),O.jsxs(qn,{onClick:()=>{u.mutate({title:"New Document"})},className:"flex items-center gap-2",children:[O.jsx(BD,{className:"w-4 h-4"}),"New Document"]})]}),O.jsx("div",{className:"rounded-md border",children:O.jsxs(sM,{children:[O.jsx(aM,{children:T.getHeaderGroups().map(D=>O.jsx(Fp,{children:D.headers.map(L=>O.jsx(uM,{children:L.isPlaceholder?null:Tb(L.column.columnDef.header,L.getContext())},L.id))},D.id))}),O.jsx(lM,{children:(I=T.getRowModel().rows)!=null&&I.length?T.getRowModel().rows.map(D=>O.jsx(Fp,{"data-state":D.getIsSelected()&&"selected",className:"cursor-pointer hover:bg-muted",onClick:L=>{L.target.closest("input, button")||n(`/${D.getValue("id")}`)},children:D.getVisibleCells().map(L=>O.jsx(Fb,{children:Tb(L.column.columnDef.cell,L.getContext())},L.id))},D.id)):O.jsx(Fp,{children:O.jsx(Fb,{colSpan:r.length,className:"h-24 text-center",children:"No results."})})})]})}),O.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[O.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[T.getFilteredSelectedRowModel().rows.length," of"," ",T.getFilteredRowModel().rows.length," row(s) selected."]}),O.jsxs("div",{className:"space-x-2",children:[O.jsx(qn,{variant:"outline",size:"sm",onClick:()=>T.previousPage(),disabled:!T.getCanPreviousPage(),children:"Previous"}),O.jsx(qn,{variant:"outline",size:"sm",onClick:()=>T.nextPage(),disabled:!T.getCanNextPage(),children:"Next"})]})]}),O.jsx(yy,{open:s!==null,onOpenChange:D=>{D||a(null)},children:O.jsx(vy,{children:O.jsxs("form",{onSubmit:D=>{if(D.preventDefault(),!s)return;const k=new FormData(D.target).get("title");k.trim()&&h.mutate({id:s.id,title:k.trim()})},children:[O.jsx(xy,{children:O.jsx(by,{children:"Rename Document"})}),O.jsx(xi,{name:"title",defaultValue:(s==null?void 0:s.title)??"",autoFocus:!0},s==null?void 0:s.id),O.jsxs(u4,{children:[O.jsx(qn,{type:"button",variant:"outline",onClick:()=>a(null),children:"Cancel"}),O.jsx(qn,{type:"submit",disabled:h.isPending,children:"Rename"})]})]})})})]})}function q6(){const{data:e=[],isLoading:t,isError:n}=vu({queryKey:["documents"],queryFn:Kz});return t?O.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:O.jsx("p",{className:"text-gray-500 text-lg",children:"Loading documents..."})}):n?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[O.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load documents."}),O.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):O.jsx("div",{className:"p-4",children:O.jsx(Y6,{data:e})})}var G0={exports:{}},K6=G0.exports,nT;function X6(){return nT||(nT=1,function(e,t){var n={};(function(r,s){s(t,JO(),Gb())})(K6,function(r,s,a){var u;(function(f){f[f.Canceled=1]="Canceled",f[f.Unknown=2]="Unknown",f[f.InvalidArgument=3]="InvalidArgument",f[f.DeadlineExceeded=4]="DeadlineExceeded",f[f.NotFound=5]="NotFound",f[f.AlreadyExists=6]="AlreadyExists",f[f.PermissionDenied=7]="PermissionDenied",f[f.ResourceExhausted=8]="ResourceExhausted",f[f.FailedPrecondition=9]="FailedPrecondition",f[f.Aborted=10]="Aborted",f[f.OutOfRange=11]="OutOfRange",f[f.Unimplemented=12]="Unimplemented",f[f.Internal=13]="Internal",f[f.Unavailable=14]="Unavailable",f[f.DataLoss=15]="DataLoss",f[f.Unauthenticated=16]="Unauthenticated"})(u||(u={}));function d(f,i){return f!==null&&typeof f=="object"&&"$typeName"in f&&typeof f.$typeName=="string"?i===void 0?!0:i.typeName===f.$typeName:!1}var h;(function(f){f[f.DOUBLE=1]="DOUBLE",f[f.FLOAT=2]="FLOAT",f[f.INT64=3]="INT64",f[f.UINT64=4]="UINT64",f[f.INT32=5]="INT32",f[f.FIXED64=6]="FIXED64",f[f.FIXED32=7]="FIXED32",f[f.BOOL=8]="BOOL",f[f.STRING=9]="STRING",f[f.BYTES=12]="BYTES",f[f.UINT32=13]="UINT32",f[f.SFIXED32=15]="SFIXED32",f[f.SFIXED64=16]="SFIXED64",f[f.SINT32=17]="SINT32",f[f.SINT64=18]="SINT64"})(h||(h={}));function g(){let f=0,i=0;for(let y=0;y<28;y+=7){let E=this.buf[this.pos++];if(f|=(E&127)<<y,(E&128)==0)return this.assertBounds(),[f,i]}let l=this.buf[this.pos++];if(f|=(l&15)<<28,i=(l&112)>>4,(l&128)==0)return this.assertBounds(),[f,i];for(let y=3;y<=31;y+=7){let E=this.buf[this.pos++];if(i|=(E&127)<<y,(E&128)==0)return this.assertBounds(),[f,i]}throw new Error("invalid varint")}function p(f,i,l){for(let N=0;N<28;N=N+7){const M=f>>>N,V=!(!(M>>>7)&&i==0),Y=(V?M|128:M)&255;if(l.push(Y),!V)return}const y=f>>>28&15|(i&7)<<4,E=i>>3!=0;if(l.push((E?y|128:y)&255),!!E){for(let N=3;N<31;N=N+7){const M=i>>>N,V=!!(M>>>7),Y=(V?M|128:M)&255;if(l.push(Y),!V)return}l.push(i>>>31&1)}}const m=4294967296;function x(f){const i=f[0]==="-";i&&(f=f.slice(1));const l=1e6;let y=0,E=0;function N(M,V){const Y=Number(f.slice(M,V));E*=l,y=y*l+Y,y>=m&&(E=E+(y/m|0),y=y%m)}return N(-24,-18),N(-18,-12),N(-12,-6),N(-6),i?T(y,E):w(y,E)}function b(f,i){let l=w(f,i);const y=l.hi&2147483648;y&&(l=T(l.lo,l.hi));const E=A(l.lo,l.hi);return y?"-"+E:E}function A(f,i){if({lo:f,hi:i}=C(f,i),i<=2097151)return String(m*i+f);const l=f&16777215,y=(f>>>24|i<<8)&16777215,E=i>>16&65535;let N=l+y*6777216+E*6710656,M=y+E*8147497,V=E*2;const Y=1e7;return N>=Y&&(M+=Math.floor(N/Y),N%=Y),M>=Y&&(V+=Math.floor(M/Y),M%=Y),V.toString()+_(M)+_(N)}function C(f,i){return{lo:f>>>0,hi:i>>>0}}function w(f,i){return{lo:f|0,hi:i|0}}function T(f,i){return i=~i,f?f=~f+1:i+=1,w(f,i)}const _=f=>{const i=String(f);return"0000000".slice(i.length)+i};function I(f,i){if(f>=0){for(;f>127;)i.push(f&127|128),f=f>>>7;i.push(f)}else{for(let l=0;l<9;l++)i.push(f&127|128),f=f>>7;i.push(1)}}function D(){let f=this.buf[this.pos++],i=f&127;if((f&128)==0)return this.assertBounds(),i;if(f=this.buf[this.pos++],i|=(f&127)<<7,(f&128)==0)return this.assertBounds(),i;if(f=this.buf[this.pos++],i|=(f&127)<<14,(f&128)==0)return this.assertBounds(),i;if(f=this.buf[this.pos++],i|=(f&127)<<21,(f&128)==0)return this.assertBounds(),i;f=this.buf[this.pos++],i|=(f&15)<<28;for(let l=5;(f&128)!==0&&l<10;l++)f=this.buf[this.pos++];if((f&128)!=0)throw new Error("invalid varint");return this.assertBounds(),i>>>0}const L=k();function k(){const f=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof f.getBigInt64=="function"&&typeof f.getBigUint64=="function"&&typeof f.setBigInt64=="function"&&typeof f.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof n!="object"||n.BUF_BIGINT_DISABLE!=="1")){const l=BigInt("-9223372036854775808"),y=BigInt("9223372036854775807"),E=BigInt("0"),N=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(M){const V=typeof M=="bigint"?M:BigInt(M);if(V>y||V<l)throw new Error(`invalid int64: ${M}`);return V},uParse(M){const V=typeof M=="bigint"?M:BigInt(M);if(V>N||V<E)throw new Error(`invalid uint64: ${M}`);return V},enc(M){return f.setBigInt64(0,this.parse(M),!0),{lo:f.getInt32(0,!0),hi:f.getInt32(4,!0)}},uEnc(M){return f.setBigInt64(0,this.uParse(M),!0),{lo:f.getInt32(0,!0),hi:f.getInt32(4,!0)}},dec(M,V){return f.setInt32(0,M,!0),f.setInt32(4,V,!0),f.getBigInt64(0,!0)},uDec(M,V){return f.setInt32(0,M,!0),f.setInt32(4,V,!0),f.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(l){return typeof l!="string"&&(l=l.toString()),U(l),l},uParse(l){return typeof l!="string"&&(l=l.toString()),B(l),l},enc(l){return typeof l!="string"&&(l=l.toString()),U(l),x(l)},uEnc(l){return typeof l!="string"&&(l=l.toString()),B(l),x(l)},dec(l,y){return b(l,y)},uDec(l,y){return A(l,y)}}}function U(f){if(!/^-?[0-9]+$/.test(f))throw new Error("invalid int64: "+f)}function B(f){if(!/^[0-9]+$/.test(f))throw new Error("invalid uint64: "+f)}function W(f,i){switch(f){case h.STRING:return"";case h.BOOL:return!1;case h.DOUBLE:case h.FLOAT:return 0;case h.INT64:case h.UINT64:case h.SFIXED64:case h.FIXED64:case h.SINT64:return i?"0":L.zero;case h.BYTES:return new Uint8Array(0);default:return 0}}function te(f,i){switch(f){case h.BOOL:return i===!1;case h.STRING:return i==="";case h.BYTES:return i instanceof Uint8Array&&!i.byteLength;default:return i==0}}const ie=2,se=Symbol.for("reflect unsafe local");function Ce(f,i){const l=f[i.localName].case;return l===void 0?l:i.fields.find(y=>y.localName===l)}function je(f,i){const l=i.localName;if(i.oneof)return f[i.oneof.localName].case===l;if(i.presence!=ie)return f[l]!==void 0&&Object.prototype.hasOwnProperty.call(f,l);switch(i.fieldKind){case"list":return f[l].length>0;case"map":return Object.keys(f[l]).length>0;case"scalar":return!te(i.scalar,f[l]);case"enum":return f[l]!==i.enum.values[0].number}throw new Error("message field with implicit presence")}function Me(f,i){return Object.prototype.hasOwnProperty.call(f,i)&&f[i]!==void 0}function re(f,i){if(i.oneof){const l=f[i.oneof.localName];return l.case===i.localName?l.value:void 0}return f[i.localName]}function Ie(f,i,l){i.oneof?f[i.oneof.localName]={case:i.localName,value:l}:f[i.localName]=l}function de(f,i){const l=i.localName;if(i.oneof){const y=i.oneof.localName;f[y].case===l&&(f[y]={case:void 0})}else if(i.presence!=ie)delete f[l];else switch(i.fieldKind){case"map":f[l]={};break;case"list":f[l]=[];break;case"enum":f[l]=i.enum.values[0].number;break;case"scalar":f[l]=W(i.scalar,i.longAsString);break}}function fe(f){return f!==null&&typeof f=="object"&&!Array.isArray(f)}function K(f,i){var l,y,E,N;if(fe(f)&&se in f&&"add"in f&&"field"in f&&typeof f.field=="function"){if(i!==void 0){const M=i,V=f.field();return M.listKind==V.listKind&&M.scalar===V.scalar&&((l=M.message)===null||l===void 0?void 0:l.typeName)===((y=V.message)===null||y===void 0?void 0:y.typeName)&&((E=M.enum)===null||E===void 0?void 0:E.typeName)===((N=V.enum)===null||N===void 0?void 0:N.typeName)}return!0}return!1}function ne(f,i){var l,y,E,N;if(fe(f)&&se in f&&"has"in f&&"field"in f&&typeof f.field=="function"){if(i!==void 0){const M=i,V=f.field();return M.mapKey===V.mapKey&&M.mapKind==V.mapKind&&M.scalar===V.scalar&&((l=M.message)===null||l===void 0?void 0:l.typeName)===((y=V.message)===null||y===void 0?void 0:y.typeName)&&((E=M.enum)===null||E===void 0?void 0:E.typeName)===((N=V.enum)===null||N===void 0?void 0:N.typeName)}return!0}return!1}function me(f,i){return fe(f)&&se in f&&"desc"in f&&fe(f.desc)&&f.desc.kind==="message"&&(i===void 0||f.desc.typeName==i.typeName)}function j(f){return G(f.$typeName)}function z(f){const i=f.fields[0];return G(f.typeName)&&i!==void 0&&i.fieldKind=="scalar"&&i.name=="value"&&i.number==1}function G(f){return f.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(f.substring(16))}const H=999,J=998,X=2;function Z(f,i){if(d(i,f))return i;const l=ye(f);return i!==void 0&&le(f,l,i),l}function le(f,i,l){for(const y of f.members){let E=l[y.localName];if(E==null)continue;let N;if(y.kind=="oneof"){const M=Ce(l,y);if(!M)continue;N=M,E=re(l,M)}else N=y;switch(N.fieldKind){case"message":E=ae(N,E);break;case"scalar":E=xe(N,E);break;case"list":E=oe(N,E);break;case"map":E=Se(N,E);break}Ie(i,N,E)}return i}function xe(f,i){return f.scalar==h.BYTES?Ae(i):i}function Se(f,i){if(fe(i)){if(f.scalar==h.BYTES)return Oe(i,Ae);if(f.mapKind=="message")return Oe(i,l=>ae(f,l))}return i}function oe(f,i){if(Array.isArray(i)){if(f.scalar==h.BYTES)return i.map(Ae);if(f.listKind=="message")return i.map(l=>ae(f,l))}return i}function ae(f,i){if(f.fieldKind=="message"&&!f.oneof&&z(f.message))return xe(f.message.fields[0],i);if(fe(i)){if(f.message.typeName=="google.protobuf.Struct"&&f.parent.typeName!=="google.protobuf.Value")return i;if(!d(i,f.message))return Z(f.message,i)}return i}function Ae(f){return Array.isArray(f)?new Uint8Array(f):f}function Oe(f,i){const l={};for(const y of Object.entries(f))l[y[0]]=i(y[1]);return l}const Be=Symbol(),Ge=new WeakMap;function ye(f){let i;if(Fe(f)){const l=Ge.get(f);let y,E;if(l)({prototype:y,members:E}=l);else{y={},E=new Set;for(const N of f.members)N.kind!="oneof"&&(N.fieldKind!="scalar"&&N.fieldKind!="enum"||N.presence!=X&&(E.add(N),y[N.localName]=Qe(N)));Ge.set(f,{prototype:y,members:E})}i=Object.create(y),i.$typeName=f.typeName;for(const N of f.members)E.has(N)||N.kind=="field"&&(N.fieldKind=="message"||(N.fieldKind=="scalar"||N.fieldKind=="enum")&&N.presence!=X)||(i[N.localName]=Qe(N))}else{i={$typeName:f.typeName};for(const l of f.members)(l.kind=="oneof"||l.presence==X)&&(i[l.localName]=Qe(l))}return i}function Fe(f){switch(f.file.edition){case H:return!1;case J:return!0;default:return f.fields.some(i=>i.presence!=X&&i.fieldKind!="message"&&!i.oneof)}}function Qe(f){if(f.kind=="oneof")return{case:void 0};if(f.fieldKind=="list")return[];if(f.fieldKind=="map")return{};if(f.fieldKind=="message")return Be;const i=f.getDefaultValue();return i!==void 0?f.fieldKind=="scalar"&&f.longAsString?i.toString():i:f.fieldKind=="scalar"?W(f.scalar,f.longAsString):f.enum.values[0].number}const yt=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class ht extends Error{constructor(i,l,y="FieldValueInvalidError"){super(l),this.name=y,this.field=()=>i}}function pe(f){return f instanceof Error&&yt.includes(f.name)&&"field"in f&&typeof f.field=="function"}const Ne=Symbol.for("@bufbuild/protobuf/text-encoding");function Ye(){if(globalThis[Ne]==null){const f=new globalThis.TextEncoder,i=new globalThis.TextDecoder;globalThis[Ne]={encodeUtf8(l){return f.encode(l)},decodeUtf8(l){return i.decode(l)},checkUtf8(l){try{return encodeURIComponent(l),!0}catch{return!1}}}}return globalThis[Ne]}var qe;(function(f){f[f.Varint=0]="Varint",f[f.Bit64=1]="Bit64",f[f.LengthDelimited=2]="LengthDelimited",f[f.StartGroup=3]="StartGroup",f[f.EndGroup=4]="EndGroup",f[f.Bit32=5]="Bit32"})(qe||(qe={}));const tt=34028234663852886e22,ft=-34028234663852886e22,bt=4294967295,jt=2147483647,Ot=-2147483648;class un{constructor(i=Ye().encodeUtf8){this.encodeUtf8=i,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let i=0;for(let E=0;E<this.chunks.length;E++)i+=this.chunks[E].length;let l=new Uint8Array(i),y=0;for(let E=0;E<this.chunks.length;E++)l.set(this.chunks[E],y),y+=this.chunks[E].length;return this.chunks=[],l}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let i=this.finish(),l=this.stack.pop();if(!l)throw new Error("invalid state, fork stack empty");return this.chunks=l.chunks,this.buf=l.buf,this.uint32(i.byteLength),this.raw(i)}tag(i,l){return this.uint32((i<<3|l)>>>0)}raw(i){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(i),this}uint32(i){for(mt(i);i>127;)this.buf.push(i&127|128),i=i>>>7;return this.buf.push(i),this}int32(i){return rt(i),I(i,this.buf),this}bool(i){return this.buf.push(i?1:0),this}bytes(i){return this.uint32(i.byteLength),this.raw(i)}string(i){let l=this.encodeUtf8(i);return this.uint32(l.byteLength),this.raw(l)}float(i){Et(i);let l=new Uint8Array(4);return new DataView(l.buffer).setFloat32(0,i,!0),this.raw(l)}double(i){let l=new Uint8Array(8);return new DataView(l.buffer).setFloat64(0,i,!0),this.raw(l)}fixed32(i){mt(i);let l=new Uint8Array(4);return new DataView(l.buffer).setUint32(0,i,!0),this.raw(l)}sfixed32(i){rt(i);let l=new Uint8Array(4);return new DataView(l.buffer).setInt32(0,i,!0),this.raw(l)}sint32(i){return rt(i),i=(i<<1^i>>31)>>>0,I(i,this.buf),this}sfixed64(i){let l=new Uint8Array(8),y=new DataView(l.buffer),E=L.enc(i);return y.setInt32(0,E.lo,!0),y.setInt32(4,E.hi,!0),this.raw(l)}fixed64(i){let l=new Uint8Array(8),y=new DataView(l.buffer),E=L.uEnc(i);return y.setInt32(0,E.lo,!0),y.setInt32(4,E.hi,!0),this.raw(l)}int64(i){let l=L.enc(i);return p(l.lo,l.hi,this.buf),this}sint64(i){const l=L.enc(i),y=l.hi>>31,E=l.lo<<1^y,N=(l.hi<<1|l.lo>>>31)^y;return p(E,N,this.buf),this}uint64(i){const l=L.uEnc(i);return p(l.lo,l.hi,this.buf),this}}class Le{constructor(i,l=Ye().decodeUtf8){this.decodeUtf8=l,this.varint64=g,this.uint32=D,this.buf=i,this.len=i.length,this.pos=0,this.view=new DataView(i.buffer,i.byteOffset,i.byteLength)}tag(){let i=this.uint32(),l=i>>>3,y=i&7;if(l<=0||y<0||y>5)throw new Error("illegal tag: field no "+l+" wire type "+y);return[l,y]}skip(i,l){let y=this.pos;switch(i){case qe.Varint:for(;this.buf[this.pos++]&128;);break;case qe.Bit64:this.pos+=4;case qe.Bit32:this.pos+=4;break;case qe.LengthDelimited:let E=this.uint32();this.pos+=E;break;case qe.StartGroup:for(;;){const[N,M]=this.tag();if(M===qe.EndGroup){if(l!==void 0&&N!==l)throw new Error("invalid end group tag");break}this.skip(M,N)}break;default:throw new Error("cant skip wire type "+i)}return this.assertBounds(),this.buf.subarray(y,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let i=this.uint32();return i>>>1^-(i&1)}int64(){return L.dec(...this.varint64())}uint64(){return L.uDec(...this.varint64())}sint64(){let[i,l]=this.varint64(),y=-(i&1);return i=(i>>>1|(l&1)<<31)^y,l=l>>>1^y,L.dec(i,l)}bool(){let[i,l]=this.varint64();return i!==0||l!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return L.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return L.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let i=this.uint32(),l=this.pos;return this.pos+=i,this.assertBounds(),this.buf.subarray(l,l+i)}string(){return this.decodeUtf8(this.bytes())}}function rt(f){if(typeof f=="string")f=Number(f);else if(typeof f!="number")throw new Error("invalid int32: "+typeof f);if(!Number.isInteger(f)||f>jt||f<Ot)throw new Error("invalid int32: "+f)}function mt(f){if(typeof f=="string")f=Number(f);else if(typeof f!="number")throw new Error("invalid uint32: "+typeof f);if(!Number.isInteger(f)||f>bt||f<0)throw new Error("invalid uint32: "+f)}function Et(f){if(typeof f=="string"){const i=f;if(f=Number(f),Number.isNaN(f)&&i!=="NaN")throw new Error("invalid float32: "+i)}else if(typeof f!="number")throw new Error("invalid float32: "+typeof f);if(Number.isFinite(f)&&(f>tt||f<ft))throw new Error("invalid float32: "+f)}function Dt(f,i){const l=f.fieldKind=="list"?K(i,f):f.fieldKind=="map"?ne(i,f):Kn(f,i);if(l===!0)return;let y;switch(f.fieldKind){case"list":y=`expected ${Hn(f)}, got ${dt(i)}`;break;case"map":y=`expected ${cr(f)}, got ${dt(i)}`;break;default:y=Ta(f,i,l)}return new ht(f,y)}function En(f,i,l){const y=Kn(f,l);if(y!==!0)return new ht(f,`list item #${i+1}: ${Ta(f,l,y)}`)}function Fn(f,i,l){const y=Ur(i,f.mapKey);if(y!==!0)return new ht(f,`invalid map key: ${Ta({scalar:f.mapKey},i,y)}`);const E=Kn(f,l);if(E!==!0)return new ht(f,`map entry ${dt(i)}: ${Ta(f,l,E)}`)}function Kn(f,i){return f.scalar!==void 0?Ur(i,f.scalar):f.enum!==void 0?f.enum.open?Number.isInteger(i):f.enum.values.some(l=>l.number===i):me(i,f.message)}function Ur(f,i){switch(i){case h.DOUBLE:return typeof f=="number";case h.FLOAT:return typeof f!="number"?!1:Number.isNaN(f)||!Number.isFinite(f)?!0:f>tt||f<ft?`${f.toFixed()} out of range`:!0;case h.INT32:case h.SFIXED32:case h.SINT32:return typeof f!="number"||!Number.isInteger(f)?!1:f>jt||f<Ot?`${f.toFixed()} out of range`:!0;case h.FIXED32:case h.UINT32:return typeof f!="number"||!Number.isInteger(f)?!1:f>bt||f<0?`${f.toFixed()} out of range`:!0;case h.BOOL:return typeof f=="boolean";case h.STRING:return typeof f!="string"?!1:Ye().checkUtf8(f)||"invalid UTF8";case h.BYTES:return f instanceof Uint8Array;case h.INT64:case h.SFIXED64:case h.SINT64:if(typeof f=="bigint"||typeof f=="number"||typeof f=="string"&&f.length>0)try{return L.parse(f),!0}catch{return`${f} out of range`}return!1;case h.FIXED64:case h.UINT64:if(typeof f=="bigint"||typeof f=="number"||typeof f=="string"&&f.length>0)try{return L.uParse(f),!0}catch{return`${f} out of range`}return!1}}function Ta(f,i,l){return l=typeof l=="string"?`: ${l}`:`, got ${dt(i)}`,f.scalar!==void 0?`expected ${Na(f.scalar)}`+l:f.enum!==void 0?`expected ${f.enum.toString()}`+l:`expected ${kn(f.message)}`+l}function dt(f){switch(typeof f){case"object":return f===null?"null":f instanceof Uint8Array?`Uint8Array(${f.length})`:Array.isArray(f)?`Array(${f.length})`:K(f)?Hn(f.field()):ne(f)?cr(f.field()):me(f)?kn(f.desc):d(f)?`message ${f.$typeName}`:"object";case"string":return f.length>30?"string":`"${f.split('"').join('\\"')}"`;case"boolean":return String(f);case"number":return String(f);case"bigint":return String(f)+"n";default:return typeof f}}function kn(f){return`ReflectMessage (${f.typeName})`}function Hn(f){switch(f.listKind){case"message":return`ReflectList (${f.message.toString()})`;case"enum":return`ReflectList (${f.enum.toString()})`;case"scalar":return`ReflectList (${h[f.scalar]})`}}function cr(f){switch(f.mapKind){case"message":return`ReflectMap (${h[f.mapKey]}, ${f.message.toString()})`;case"enum":return`ReflectMap (${h[f.mapKey]}, ${f.enum.toString()})`;case"scalar":return`ReflectMap (${h[f.mapKey]}, ${h[f.scalar]})`}}function Na(f){switch(f){case h.STRING:return"string";case h.BOOL:return"boolean";case h.INT64:case h.SINT64:case h.SFIXED64:return"bigint (int64)";case h.UINT64:case h.FIXED64:return"bigint (uint64)";case h.BYTES:return"Uint8Array";case h.DOUBLE:return"number (float64)";case h.FLOAT:return"number (float32)";case h.FIXED32:case h.UINT32:return"number (uint32)";case h.INT32:case h.SFIXED32:case h.SINT32:return"number (int32)"}}function nn(f,i,l=!0){return new jn(f,i,l)}const Bn=new WeakMap;class jn{get sortedFields(){const i=Bn.get(this.desc);if(i)return i;const l=this.desc.fields.concat().sort((y,E)=>y.number-E.number);return Bn.set(this.desc,l),l}constructor(i,l,y=!0){this.lists=new Map,this.maps=new Map,this.check=y,this.desc=i,this.message=this[se]=l??Z(i),this.fields=i.fields,this.oneofs=i.oneofs,this.members=i.members}findNumber(i){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(l=>[l.number,l]))),this._fieldsByNumber.get(i)}oneofCase(i){return rn(this.message,i),Ce(this.message,i)}isSet(i){return rn(this.message,i),je(this.message,i)}clear(i){rn(this.message,i),de(this.message,i)}get(i){rn(this.message,i);const l=re(this.message,i);switch(i.fieldKind){case"list":let y=this.lists.get(i);return(!y||y[se]!==l)&&this.lists.set(i,y=new fr(i,l,this.check)),y;case"map":let E=this.maps.get(i);return(!E||E[se]!==l)&&this.maps.set(i,E=new Su(i,l,this.check)),E;case"message":return fh(i,l,this.check);case"scalar":return l===void 0?W(i.scalar,!1):Ns(i,l);case"enum":return l??i.enum.values[0].number}}set(i,l){if(rn(this.message,i),this.check){const E=Dt(i,l);if(E)throw E}let y;i.fieldKind=="message"?y=Gi(i,l):ne(l)||K(l)?y=l[se]:y=Xn(i,l),Ie(this.message,i,y)}getUnknown(){return this.message.$unknown}setUnknown(i){this.message.$unknown=i}}function rn(f,i){if(i.parent.typeName!==f.$typeName)throw new ht(i,`cannot use ${i.toString()} with message ${f.$typeName}`,"ForeignFieldError")}class fr{field(){return this._field}get size(){return this._arr.length}constructor(i,l,y){this._field=i,this._arr=this[se]=l,this.check=y}get(i){const l=this._arr[i];return l===void 0?void 0:_a(this._field,l,this.check)}set(i,l){if(i<0||i>=this._arr.length)throw new ht(this._field,`list item #${i+1}: out of range`);if(this.check){const y=En(this._field,i,l);if(y)throw y}this._arr[i]=Sg(this._field,l)}add(i){if(this.check){const l=En(this._field,this._arr.length,i);if(l)throw l}this._arr.push(Sg(this._field,i))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const i of this._arr)yield _a(this._field,i,this.check)}*entries(){for(let i=0;i<this._arr.length;i++)yield[i,_a(this._field,this._arr[i],this.check)]}}class Su{constructor(i,l,y=!0){this.obj=this[se]=l??{},this.check=y,this._field=i}field(){return this._field}set(i,l){if(this.check){const y=Fn(this._field,i,l);if(y)throw y}return this.obj[Lo(i)]=Eg(this._field,l),this}delete(i){const l=Lo(i),y=Object.prototype.hasOwnProperty.call(this.obj,l);return y&&delete this.obj[l],y}clear(){for(const i of Object.keys(this.obj))delete this.obj[i]}get(i){let l=this.obj[Lo(i)];return l!==void 0&&(l=Ts(this._field,l,this.check)),l}has(i){return Object.prototype.hasOwnProperty.call(this.obj,Lo(i))}*keys(){for(const i of Object.keys(this.obj))yield Eu(i,this._field.mapKey)}*entries(){for(const i of Object.entries(this.obj))yield[Eu(i[0],this._field.mapKey),Ts(this._field,i[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const i of Object.values(this.obj))yield Ts(this._field,i,this.check)}forEach(i,l){for(const y of this.entries())i.call(l,y[1],y[0],this)}}function Gi(f,i){return me(i)?j(i.message)&&!f.oneof&&f.fieldKind=="message"?i.message.value:i.desc.typeName=="google.protobuf.Struct"&&f.parent.typeName!="google.protobuf.Value"?Cg(i.message):i.message:i}function fh(f,i,l){return i!==void 0&&(z(f.message)&&!f.oneof&&f.fieldKind=="message"?i={$typeName:f.message.typeName,value:Ns(f.message.fields[0],i)}:f.message.typeName=="google.protobuf.Struct"&&f.parent.typeName!="google.protobuf.Value"&&fe(i)&&(i=Ag(i))),new jn(f.message,i,l)}function Sg(f,i){return f.listKind=="message"?Gi(f,i):Xn(f,i)}function _a(f,i,l){return f.listKind=="message"?fh(f,i,l):Ns(f,i)}function Eg(f,i){return f.mapKind=="message"?Gi(f,i):Xn(f,i)}function Ts(f,i,l){return f.mapKind=="message"?fh(f,i,l):i}function Lo(f){return typeof f=="string"||typeof f=="number"?f:String(f)}function Eu(f,i){switch(i){case h.STRING:return f;case h.INT32:case h.FIXED32:case h.UINT32:case h.SFIXED32:case h.SINT32:{const l=Number.parseInt(f);if(Number.isFinite(l))return l;break}case h.BOOL:switch(f){case"true":return!0;case"false":return!1}break;case h.UINT64:case h.FIXED64:try{return L.uParse(f)}catch{}break;default:try{return L.parse(f)}catch{}break}return f}function Ns(f,i){switch(f.scalar){case h.INT64:case h.SFIXED64:case h.SINT64:"longAsString"in f&&f.longAsString&&typeof i=="string"&&(i=L.parse(i));break;case h.FIXED64:case h.UINT64:"longAsString"in f&&f.longAsString&&typeof i=="string"&&(i=L.uParse(i));break}return i}function Xn(f,i){switch(f.scalar){case h.INT64:case h.SFIXED64:case h.SINT64:"longAsString"in f&&f.longAsString?i=String(i):(typeof i=="string"||typeof i=="number")&&(i=L.parse(i));break;case h.FIXED64:case h.UINT64:"longAsString"in f&&f.longAsString?i=String(i):(typeof i=="string"||typeof i=="number")&&(i=L.uParse(i));break}return i}function Ag(f){const i={$typeName:"google.protobuf.Struct",fields:{}};if(fe(f))for(const[l,y]of Object.entries(f))i.fields[l]=Ia(y);return i}function Cg(f){const i={};for(const[l,y]of Object.entries(f.fields))i[l]=_s(y);return i}function _s(f){switch(f.kind.case){case"structValue":return Cg(f.kind.value);case"listValue":return f.kind.value.values.map(_s);case"nullValue":case void 0:return null;default:return f.kind.value}}function Ia(f){const i={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof f){case"number":i.kind={case:"numberValue",value:f};break;case"string":i.kind={case:"stringValue",value:f};break;case"boolean":i.kind={case:"boolValue",value:f};break;case"object":if(f===null)i.kind={case:"nullValue",value:0};else if(Array.isArray(f)){const l={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(f))for(const y of f)l.values.push(Ia(y));i.kind={case:"listValue",value:l}}else i.kind={case:"structValue",value:Ag(f)};break}return i}function wg(f){const i=ko();let l=f.length*3/4;f[f.length-2]=="="?l-=2:f[f.length-1]=="="&&(l-=1);let y=new Uint8Array(l),E=0,N=0,M,V=0;for(let Y=0;Y<f.length;Y++){if(M=i[f.charCodeAt(Y)],M===void 0)switch(f[Y]){case"=":N=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(N){case 0:V=M,N=1;break;case 1:y[E++]=V<<2|(M&48)>>4,V=M,N=2;break;case 2:y[E++]=(V&15)<<4|(M&60)>>2,V=M,N=3;break;case 3:y[E++]=(V&3)<<6|M,N=0;break}}if(N==1)throw Error("invalid base64 string");return y.subarray(0,E)}function Fy(f,i="std"){const l=Qc(i),y=i=="std";let E="",N=0,M,V=0;for(let Y=0;Y<f.length;Y++)switch(M=f[Y],N){case 0:E+=l[M>>2],V=(M&3)<<4,N=1;break;case 1:E+=l[V|M>>4],V=(M&15)<<2,N=2;break;case 2:E+=l[V|M>>6],E+=l[M&63],N=0;break}return N&&(E+=l[V],y&&(E+="=",N==1&&(E+="="))),E}let Jc,ky,Fo;function Qc(f){return Jc||(Jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ky=Jc.slice(0,-2).concat("-","_")),f=="url"?ky:Jc}function ko(){if(!Fo){Fo=[];const f=Qc("std");for(let i=0;i<f.length;i++)Fo[f[i].charCodeAt(0)]=i;Fo[45]=f.indexOf("+"),Fo[95]=f.indexOf("/")}return Fo}function Oa(f){let i=!1;const l=[];for(let y=0;y<f.length;y++){let E=f.charAt(y);switch(E){case"_":i=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":l.push(E),i=!1;break;default:i&&(i=!1,E=E.toUpperCase()),l.push(E);break}}return l.join("")}const By=new Set(["constructor","toString","toJSON","valueOf"]);function lo(f){return By.has(f)?f+"$":f}function ef(f){for(const i of f.field)Me(i,"jsonName")||(i.jsonName=Oa(i.name));f.nestedType.forEach(ef)}function Rg(f,i){const l=f.values.find(y=>y.name===i);if(!l)throw new Error(`cannot parse ${f} default value: ${i}`);return l.number}function PS(f,i){switch(f){case h.STRING:return i;case h.BYTES:{const l=jy(i);if(l===!1)throw new Error(`cannot parse ${h[f]} default value: ${i}`);return l}case h.INT64:case h.SFIXED64:case h.SINT64:return L.parse(i);case h.UINT64:case h.FIXED64:return L.uParse(i);case h.DOUBLE:case h.FLOAT:switch(i){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(i)}case h.BOOL:return i==="true";case h.INT32:case h.UINT32:case h.SINT32:case h.FIXED32:case h.SFIXED32:return parseInt(i,10)}}function jy(f){const i=[],l={tail:f,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(y){if(this.tail.length>=y){const E=this.tail.substring(0,y);return this.tail=this.tail.substring(y),E}return!1}};for(;l.next();)switch(l.c){case"\\":if(l.next())switch(l.c){case"\\":i.push(l.c.charCodeAt(0));break;case"b":i.push(8);break;case"f":i.push(12);break;case"n":i.push(10);break;case"r":i.push(13);break;case"t":i.push(9);break;case"v":i.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const y=l.c,E=l.take(2);if(E===!1)return!1;const N=parseInt(y+E,8);if(Number.isNaN(N))return!1;i.push(N);break}case"x":{const y=l.c,E=l.take(2);if(E===!1)return!1;const N=parseInt(y+E,16);if(Number.isNaN(N))return!1;i.push(N);break}case"u":{const y=l.c,E=l.take(4);if(E===!1)return!1;const N=parseInt(y+E,16);if(Number.isNaN(N))return!1;const M=new Uint8Array(4);new DataView(M.buffer).setInt32(0,N,!0),i.push(M[0],M[1],M[2],M[3]);break}case"U":{const y=l.c,E=l.take(8);if(E===!1)return!1;const N=L.uEnc(y+E),M=new Uint8Array(8),V=new DataView(M.buffer);V.setInt32(0,N.lo,!0),V.setInt32(4,N.hi,!0),i.push(M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7]);break}}break;default:i.push(l.c.charCodeAt(0))}return new Uint8Array(i)}function*Gr(f){switch(f.kind){case"file":for(const i of f.messages)yield i,yield*Gr(i);yield*f.enums,yield*f.services,yield*f.extensions;break;case"message":for(const i of f.nestedMessages)yield i,yield*Gr(i);yield*f.nestedEnums,yield*f.nestedExtensions;break}}function Tg(...f){const i=MS();if(!f.length)return i;if("$typeName"in f[0]&&f[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const l of f[0].file)rf(l,i);return i}if("$typeName"in f[0]){let l=function(M){const V=[];for(const Y of M.dependency){if(i.getFile(Y)!=null||N.has(Y))continue;const ee=E(Y);if(!ee)throw new Error(`Unable to resolve ${Y}, imported by ${M.name}`);"kind"in ee?i.addFile(ee,!1,!0):(N.add(ee.name),V.push(ee))}return V.concat(...V.map(l))};const y=f[0],E=f[1],N=new Set;for(const M of[y,...l(y)].reverse())rf(M,i)}else for(const l of f)for(const y of l.files)i.addFile(y);return i}function MS(){const f=new Map,i=new Map,l=new Map;return{kind:"registry",types:f,extendees:i,[Symbol.iterator](){return f.values()},get files(){return l.values()},addFile(y,E,N){if(l.set(y.proto.name,y),!E)for(const M of Gr(y))this.add(M);if(N)for(const M of y.dependencies)this.addFile(M,E,N)},add(y){if(y.kind=="extension"){let E=i.get(y.extendee.typeName);E||i.set(y.extendee.typeName,E=new Map),E.set(y.number,y)}f.set(y.typeName,y)},get(y){return f.get(y)},getFile(y){return l.get(y)},getMessage(y){const E=f.get(y);return(E==null?void 0:E.kind)=="message"?E:void 0},getEnum(y){const E=f.get(y);return(E==null?void 0:E.kind)=="enum"?E:void 0},getExtension(y){const E=f.get(y);return(E==null?void 0:E.kind)=="extension"?E:void 0},getExtensionFor(y,E){var N;return(N=i.get(y.typeName))===null||N===void 0?void 0:N.get(E)},getService(y){const E=f.get(y);return(E==null?void 0:E.kind)=="service"?E:void 0}}}const dh=998,zy=999,hh=9,tf=10,Rr=11,Ng=12,_g=14,nf=3,Au=2,Ig=1,Vy=0,Is=1,Uy=2,Gy=3,$y=1,Og=2,LS=1,Hy={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function rf(f,i){var l,y;const E={kind:"file",proto:f,deprecated:(y=(l=f.options)===null||l===void 0?void 0:l.deprecated)!==null&&y!==void 0?y:!1,edition:Bo(f),name:f.name.replace(/\.proto$/,""),dependencies:Pg(f,i),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${f.name}`}},N=new Map,M={get(V){return N.get(V)},add(V){var Y;Dr(((Y=V.proto.options)===null||Y===void 0?void 0:Y.mapEntry)===!0),N.set(V.typeName,V)}};for(const V of f.enumType)Da(V,E,void 0,i);for(const V of f.messageType)Pa(V,E,void 0,i,M);for(const V of f.service)Wy(V,E,i);of(E,i);for(const V of N.values())sf(V,i,M);for(const V of E.messages)sf(V,i,M),of(V,i);i.addFile(E,!0)}function of(f,i){switch(f.kind){case"file":for(const l of f.proto.extension){const y=Ma(l,f,i);f.extensions.push(y),i.add(y)}break;case"message":for(const l of f.proto.extension){const y=Ma(l,f,i);f.nestedExtensions.push(y),i.add(y)}for(const l of f.nestedMessages)of(l,i);break}}function sf(f,i,l){const y=f.proto.oneofDecl.map(N=>Yy(N,f)),E=new Set;for(const N of f.proto.field){const M=qy(N,y),V=Ma(N,f,i,M,l);f.fields.push(V),f.field[V.localName]=V,M===void 0?f.members.push(V):(M.fields.push(V),E.has(M)||(E.add(M),f.members.push(M)))}for(const N of y.filter(M=>E.has(M)))f.oneofs.push(N);for(const N of f.nestedMessages)sf(N,i,l)}function Da(f,i,l,y){var E,N,M,V,Y;const ee=af(f.name,f.value),ue={kind:"enum",proto:f,deprecated:(N=(E=f.options)===null||E===void 0?void 0:E.deprecated)!==null&&N!==void 0?N:!1,file:i,parent:l,open:!0,name:f.name,typeName:Cu(f,l,i),value:{},values:[],sharedPrefix:ee,toString(){return`enum ${this.typeName}`}};ue.open=$r(ue),y.add(ue);for(const we of f.value){const ke=we.name;ue.values.push(ue.value[we.number]={kind:"enum_value",proto:we,deprecated:(V=(M=we.options)===null||M===void 0?void 0:M.deprecated)!==null&&V!==void 0?V:!1,parent:ue,name:ke,localName:lo(ee==null?ke:ke.substring(ee.length)),number:we.number,toString(){return`enum value ${ue.typeName}.${ke}`}})}((Y=l==null?void 0:l.nestedEnums)!==null&&Y!==void 0?Y:i.enums).push(ue)}function Pa(f,i,l,y,E){var N,M,V,Y;const ee={kind:"message",proto:f,deprecated:(M=(N=f.options)===null||N===void 0?void 0:N.deprecated)!==null&&M!==void 0?M:!1,file:i,parent:l,name:f.name,typeName:Cu(f,l,i),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((V=f.options)===null||V===void 0?void 0:V.mapEntry)===!0?E.add(ee):(((Y=l==null?void 0:l.nestedMessages)!==null&&Y!==void 0?Y:i.messages).push(ee),y.add(ee));for(const ue of f.enumType)Da(ue,i,ee,y);for(const ue of f.nestedType)Pa(ue,i,ee,y,E)}function Wy(f,i,l){var y,E;const N={kind:"service",proto:f,deprecated:(E=(y=f.options)===null||y===void 0?void 0:y.deprecated)!==null&&E!==void 0?E:!1,file:i,name:f.name,typeName:Cu(f,void 0,i),methods:[],method:{},toString(){return`service ${this.typeName}`}};i.services.push(N),l.add(N);for(const M of f.method){const V=Dg(M,N,l);N.methods.push(V),N.method[V.localName]=V}}function Dg(f,i,l){var y,E,N,M;let V;f.clientStreaming&&f.serverStreaming?V="bidi_streaming":f.clientStreaming?V="client_streaming":f.serverStreaming?V="server_streaming":V="unary";const Y=l.getMessage(Ei(f.inputType)),ee=l.getMessage(Ei(f.outputType));Dr(Y,`invalid MethodDescriptorProto: input_type ${f.inputType} not found`),Dr(ee,`invalid MethodDescriptorProto: output_type ${f.inputType} not found`);const ue=f.name;return{kind:"rpc",proto:f,deprecated:(E=(y=f.options)===null||y===void 0?void 0:y.deprecated)!==null&&E!==void 0?E:!1,parent:i,name:ue,localName:lo(ue.length?lo(ue[0].toLowerCase()+ue.substring(1)):ue),methodKind:V,input:Y,output:ee,idempotency:(M=(N=f.options)===null||N===void 0?void 0:N.idempotencyLevel)!==null&&M!==void 0?M:Vy,toString(){return`rpc ${i.typeName}.${ue}`}}}function Yy(f,i){return{kind:"oneof",proto:f,deprecated:!1,parent:i,fields:[],name:f.name,localName:lo(Oa(f.name)),toString(){return`oneof ${i.typeName}.${this.name}`}}}function Ma(f,i,l,y,E){var N,M,V;const Y=E===void 0,ee={kind:"field",proto:f,deprecated:(M=(N=f.options)===null||N===void 0?void 0:N.deprecated)!==null&&M!==void 0?M:!1,name:f.name,number:f.number,scalar:void 0,message:void 0,enum:void 0,presence:ph(f,y,Y,i),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(Y){const Re=i.kind=="file"?i:i.file,We=i.kind=="file"?void 0:i,He=Cu(f,We,Re);ee.kind="extension",ee.file=Re,ee.parent=We,ee.oneof=void 0,ee.typeName=He,ee.jsonName=`[${He}]`,ee.toString=()=>`extension ${He}`;const it=l.getMessage(Ei(f.extendee));Dr(it,`invalid FieldDescriptorProto: extendee ${f.extendee} not found`),ee.extendee=it}else{const Re=i;Dr(Re.kind=="message"),ee.parent=Re,ee.oneof=y,ee.localName=y?Oa(f.name):lo(Oa(f.name)),ee.jsonName=f.jsonName,ee.toString=()=>`field ${Re.typeName}.${f.name}`}const ue=f.label,we=f.type,ke=(V=f.options)===null||V===void 0?void 0:V.jstype;if(ue===nf){const Re=we==Rr?E==null?void 0:E.get(Ei(f.typeName)):void 0;if(Re){ee.fieldKind="map";const{key:We,value:He}=Ky(Re);return ee.mapKey=We.scalar,ee.mapKind=He.fieldKind,ee.message=He.message,ee.delimitedEncoding=!1,ee.enum=He.enum,ee.scalar=He.scalar,ee}switch(ee.fieldKind="list",we){case Rr:case tf:ee.listKind="message",ee.message=l.getMessage(Ei(f.typeName)),Dr(ee.message),ee.delimitedEncoding=Ds(f,i);break;case _g:ee.listKind="enum",ee.enum=l.getEnum(Ei(f.typeName)),Dr(ee.enum);break;default:ee.listKind="scalar",ee.scalar=we,ee.longAsString=ke==Ig;break}return ee.packed=gh(f,i),ee}switch(we){case Rr:case tf:ee.fieldKind="message",ee.message=l.getMessage(Ei(f.typeName)),Dr(ee.message,`invalid FieldDescriptorProto: type_name ${f.typeName} not found`),ee.delimitedEncoding=Ds(f,i),ee.getDefaultValue=()=>{};break;case _g:{const Re=l.getEnum(Ei(f.typeName));Dr(Re!==void 0,`invalid FieldDescriptorProto: type_name ${f.typeName} not found`),ee.fieldKind="enum",ee.enum=l.getEnum(Ei(f.typeName)),ee.getDefaultValue=()=>Me(f,"defaultValue")?Rg(Re,f.defaultValue):void 0;break}default:{ee.fieldKind="scalar",ee.scalar=we,ee.longAsString=ke==Ig,ee.getDefaultValue=()=>Me(f,"defaultValue")?PS(we,f.defaultValue):void 0;break}}return ee}function Bo(f){switch(f.syntax){case"":case"proto2":return dh;case"proto3":return zy;case"editions":if(f.edition in Hy)return f.edition;throw new Error(`${f.name}: unsupported edition`);default:throw new Error(`${f.name}: unsupported syntax "${f.syntax}"`)}}function Pg(f,i){return f.dependency.map(l=>{const y=i.getFile(l);if(!y)throw new Error(`Cannot find ${l}, imported by ${f.name}`);return y})}function af(f,i){const l=Os(f)+"_";for(const y of i){if(!y.name.toLowerCase().startsWith(l))return;const E=y.name.substring(l.length);if(E.length==0||/^\d/.test(E))return}return l}function Os(f){return(f.substring(0,1)+f.substring(1).replace(/[A-Z]/g,i=>"_"+i)).toLowerCase()}function Cu(f,i,l){let y;return i?y=`${i.typeName}.${f.name}`:l.proto.package.length>0?y=`${l.proto.package}.${f.name}`:y=`${f.name}`,y}function Ei(f){return f.startsWith(".")?f.substring(1):f}function qy(f,i){if(!Me(f,"oneofIndex")||f.proto3Optional)return;const l=i[f.oneofIndex];return Dr(l,`invalid FieldDescriptorProto: oneof #${f.oneofIndex} for field #${f.number} not found`),l}function ph(f,i,l,y){if(f.label==Au)return Gy;if(f.label==nf)return Uy;if(i||f.proto3Optional||l)return Is;const E=jo("fieldPresence",{proto:f,parent:y});return E==Uy&&(f.type==Rr||f.type==tf)?Is:E}function gh(f,i){if(f.label!=nf)return!1;switch(f.type){case hh:case Ng:case tf:case Rr:return!1}const l=f.options;return l&&Me(l,"packed")?l.packed:$y==jo("repeatedFieldEncoding",{proto:f,parent:i})}function Ky(f){const i=f.fields.find(y=>y.number===1),l=f.fields.find(y=>y.number===2);return Dr(i&&i.fieldKind=="scalar"&&i.scalar!=h.BYTES&&i.scalar!=h.FLOAT&&i.scalar!=h.DOUBLE&&l&&l.fieldKind!="list"&&l.fieldKind!="map"),{key:i,value:l}}function $r(f){var i;return LS==jo("enumType",{proto:f.proto,parent:(i=f.parent)!==null&&i!==void 0?i:f.file})}function Ds(f,i){return f.type==tf?!0:Og==jo("messageEncoding",{proto:f,parent:i})}function jo(f,i){var l,y;const E=(l=i.proto.options)===null||l===void 0?void 0:l.features;if(E){const N=E[f];if(N!=0)return N}if("kind"in i){if(i.kind=="message")return jo(f,(y=i.parent)!==null&&y!==void 0?y:i.file);const N=Hy[i.edition];if(!N)throw new Error(`feature default for edition ${i.edition} not found`);return N[f]}return jo(f,i.parent)}function Dr(f,i){if(!f)throw new Error(i)}function FS(f){const i=Mg(f);return i.messageType.forEach(ef),Tg(i,()=>{}).getFile(i.name)}function Mg(f){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},f),{messageType:f.messageType.map(mh),enumType:f.enumType.map(Lg)}))}function mh(f){var i,l,y,E,N,M,V,Y;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:f.name,field:(l=(i=f.field)===null||i===void 0?void 0:i.map(lf))!==null&&l!==void 0?l:[],extension:[],nestedType:(E=(y=f.nestedType)===null||y===void 0?void 0:y.map(mh))!==null&&E!==void 0?E:[],enumType:(M=(N=f.enumType)===null||N===void 0?void 0:N.map(Lg))!==null&&M!==void 0?M:[],extensionRange:(Y=(V=f.extensionRange)===null||V===void 0?void 0:V.map(ue=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},ue)))!==null&&Y!==void 0?Y:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function lf(f){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},f),{options:f.options?yh(f.options):void 0}))}function yh(f){var i,l,y;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},f),{targets:(i=f.targets)!==null&&i!==void 0?i:[],editionDefaults:(y=(l=f.editionDefaults)===null||l===void 0?void 0:l.map(N=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},N)))!==null&&y!==void 0?y:[],uninterpretedOption:[]}))}function Lg(f){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:f.name,reservedName:[],reservedRange:[],value:f.value.map(l=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},l))})}function It(f,i,...l){return l.reduce((y,E)=>y.nestedMessages[E],f.messages[i])}const kS=It(FS({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),1);var vh;(function(f){f[f.DECLARATION=0]="DECLARATION",f[f.UNVERIFIED=1]="UNVERIFIED"})(vh||(vh={}));var Xy;(function(f){f[f.DOUBLE=1]="DOUBLE",f[f.FLOAT=2]="FLOAT",f[f.INT64=3]="INT64",f[f.UINT64=4]="UINT64",f[f.INT32=5]="INT32",f[f.FIXED64=6]="FIXED64",f[f.FIXED32=7]="FIXED32",f[f.BOOL=8]="BOOL",f[f.STRING=9]="STRING",f[f.GROUP=10]="GROUP",f[f.MESSAGE=11]="MESSAGE",f[f.BYTES=12]="BYTES",f[f.UINT32=13]="UINT32",f[f.ENUM=14]="ENUM",f[f.SFIXED32=15]="SFIXED32",f[f.SFIXED64=16]="SFIXED64",f[f.SINT32=17]="SINT32",f[f.SINT64=18]="SINT64"})(Xy||(Xy={}));var Zy;(function(f){f[f.OPTIONAL=1]="OPTIONAL",f[f.REPEATED=3]="REPEATED",f[f.REQUIRED=2]="REQUIRED"})(Zy||(Zy={}));var Jy;(function(f){f[f.SPEED=1]="SPEED",f[f.CODE_SIZE=2]="CODE_SIZE",f[f.LITE_RUNTIME=3]="LITE_RUNTIME"})(Jy||(Jy={}));var Qy;(function(f){f[f.STRING=0]="STRING",f[f.CORD=1]="CORD",f[f.STRING_PIECE=2]="STRING_PIECE"})(Qy||(Qy={}));var ev;(function(f){f[f.JS_NORMAL=0]="JS_NORMAL",f[f.JS_STRING=1]="JS_STRING",f[f.JS_NUMBER=2]="JS_NUMBER"})(ev||(ev={}));var Fg;(function(f){f[f.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",f[f.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",f[f.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(Fg||(Fg={}));var tv;(function(f){f[f.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",f[f.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",f[f.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",f[f.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",f[f.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",f[f.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",f[f.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",f[f.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",f[f.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",f[f.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(tv||(tv={}));var nv;(function(f){f[f.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",f[f.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",f[f.IDEMPOTENT=2]="IDEMPOTENT"})(nv||(nv={}));var rv;(function(f){f[f.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",f[f.EXPORT_ALL=1]="EXPORT_ALL",f[f.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",f[f.LOCAL_ALL=3]="LOCAL_ALL",f[f.STRICT=4]="STRICT"})(rv||(rv={}));var iv;(function(f){f[f.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",f[f.EXPLICIT=1]="EXPLICIT",f[f.IMPLICIT=2]="IMPLICIT",f[f.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(iv||(iv={}));var xh;(function(f){f[f.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",f[f.OPEN=1]="OPEN",f[f.CLOSED=2]="CLOSED"})(xh||(xh={}));var ov;(function(f){f[f.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",f[f.PACKED=1]="PACKED",f[f.EXPANDED=2]="EXPANDED"})(ov||(ov={}));var sv;(function(f){f[f.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",f[f.VERIFY=2]="VERIFY",f[f.NONE=3]="NONE"})(sv||(sv={}));var av;(function(f){f[f.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",f[f.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",f[f.DELIMITED=2]="DELIMITED"})(av||(av={}));var kg;(function(f){f[f.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",f[f.ALLOW=1]="ALLOW",f[f.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(kg||(kg={}));var lv;(function(f){f[f.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",f[f.STYLE2024=1]="STYLE2024",f[f.STYLE_LEGACY=2]="STYLE_LEGACY"})(lv||(lv={}));var uv;(function(f){f[f.NONE=0]="NONE",f[f.SET=1]="SET",f[f.ALIAS=2]="ALIAS"})(uv||(uv={}));var cv;(function(f){f[f.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",f[f.EDITION_LEGACY=900]="EDITION_LEGACY",f[f.EDITION_PROTO2=998]="EDITION_PROTO2",f[f.EDITION_PROTO3=999]="EDITION_PROTO3",f[f.EDITION_2023=1e3]="EDITION_2023",f[f.EDITION_2024=1001]="EDITION_2024",f[f.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",f[f.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",f[f.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",f[f.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",f[f.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",f[f.EDITION_MAX=2147483647]="EDITION_MAX"})(cv||(cv={}));var fv;(function(f){f[f.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",f[f.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",f[f.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(fv||(fv={}));const dv={readUnknownFields:!0};function BS(f){return f?Object.assign(Object.assign({},dv),f):dv}function Ai(f,i,l){const y=nn(f,void 0,!1);return hv(y,new Le(i),BS(l),!1,i.byteLength),y.message}function hv(f,i,l,y,E){var N;const M=y?i.len:i.pos+E;let V,Y;const ee=(N=f.getUnknown())!==null&&N!==void 0?N:[];for(;i.pos<M&&([V,Y]=i.tag(),!(y&&Y==qe.EndGroup));){const ue=f.findNumber(V);if(!ue){const we=i.skip(Y,V);l.readUnknownFields&&ee.push({no:V,wireType:Y,data:we});continue}pv(f,i,ue,Y,l)}if(y&&(Y!=qe.EndGroup||V!==E))throw new Error("invalid end group tag");ee.length>0&&f.setUnknown(ee)}function pv(f,i,l,y,E){var N;switch(l.fieldKind){case"scalar":f.set(l,La(i,l.scalar));break;case"enum":const M=La(i,h.INT32);if(l.enum.open)f.set(l,M);else if(l.enum.values.some(Y=>Y.number===M))f.set(l,M);else if(E.readUnknownFields){const Y=[];I(M,Y);const ee=(N=f.getUnknown())!==null&&N!==void 0?N:[];ee.push({no:l.number,wireType:y,data:new Uint8Array(Y)}),f.setUnknown(ee)}break;case"message":f.set(l,jg(i,E,l,f.get(l)));break;case"list":uf(i,y,f.get(l),E);break;case"map":Bg(i,f.get(l),E);break}}function Bg(f,i,l){const y=i.field();let E,N;const M=f.uint32(),V=f.pos+M;for(;f.pos<V;){const[Y]=f.tag();switch(Y){case 1:E=La(f,y.mapKey);break;case 2:switch(y.mapKind){case"scalar":N=La(f,y.scalar);break;case"enum":N=f.int32();break;case"message":N=jg(f,l,y);break}break}}if(E===void 0&&(E=W(y.mapKey,!1)),N===void 0)switch(y.mapKind){case"scalar":N=W(y.scalar,!1);break;case"enum":N=y.enum.values[0].number;break;case"message":N=nn(y.message,void 0,!1);break}i.set(E,N)}function uf(f,i,l,y){var E;const N=l.field();if(N.listKind==="message"){l.add(jg(f,y,N));return}const M=(E=N.scalar)!==null&&E!==void 0?E:h.INT32;if(!(i==qe.LengthDelimited&&M!=h.STRING&&M!=h.BYTES)){l.add(La(f,M));return}const Y=f.uint32()+f.pos;for(;f.pos<Y;)l.add(La(f,M))}function jg(f,i,l,y){const E=l.delimitedEncoding,N=y??nn(l.message,void 0,!1);return hv(N,f,i,E,E?l.number:f.uint32()),N}function La(f,i){switch(i){case h.STRING:return f.string();case h.BOOL:return f.bool();case h.DOUBLE:return f.double();case h.FLOAT:return f.float();case h.INT32:return f.int32();case h.INT64:return f.int64();case h.UINT64:return f.uint64();case h.FIXED64:return f.fixed64();case h.BYTES:return f.bytes();case h.FIXED32:return f.fixed32();case h.SFIXED32:return f.sfixed32();case h.SFIXED64:return f.sfixed64();case h.SINT64:return f.sint64();case h.UINT32:return f.uint32();case h.SINT32:return f.sint32()}}function uo(f,i){var l;const y=Ai(kS,wg(f));return y.messageType.forEach(ef),y.dependency=(l=i==null?void 0:i.map(N=>N.proto.name))!==null&&l!==void 0?l:[],Tg(y,N=>i==null?void 0:i.find(M=>M.proto.name===N)).getFile(y.name)}const gv=uo("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function mv(f){return new Date(yv(f))}function yv(f){return Number(f.seconds)*1e3+Math.round(f.nanos/1e6)}const wu=uo("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),vv=uo("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),jS=It(vv,0),zS=3,zg={writeUnknownFields:!0};function xv(f){return f?Object.assign(Object.assign({},zg),f):zg}function Ci(f,i,l){return Ps(new un,xv(l),nn(f,i)).finish()}function Ps(f,i,l){var y;for(const E of l.sortedFields){if(!l.isSet(E)){if(E.presence==zS)throw new Error(`cannot encode ${E} to binary: required field not set`);continue}bv(f,i,l,E)}if(i.writeUnknownFields)for(const{no:E,wireType:N,data:M}of(y=l.getUnknown())!==null&&y!==void 0?y:[])f.tag(E,N).raw(M);return f}function bv(f,i,l,y){var E;switch(y.fieldKind){case"scalar":case"enum":Fa(f,l.desc.typeName,y.name,(E=y.scalar)!==null&&E!==void 0?E:h.INT32,y.number,l.get(y));break;case"list":Sv(f,i,y,l.get(y));break;case"message":Vg(f,i,y,l.get(y));break;case"map":for(const[N,M]of l.get(y))Ug(f,i,y,N,M);break}}function Fa(f,i,l,y,E,N){bh(f.tag(E,Ev(y)),i,l,y,N)}function Vg(f,i,l,y){l.delimitedEncoding?Ps(f.tag(l.number,qe.StartGroup),i,y).tag(l.number,qe.EndGroup):Ps(f.tag(l.number,qe.LengthDelimited).fork(),i,y).join()}function Sv(f,i,l,y){var E;if(l.listKind=="message"){for(const M of y)Vg(f,i,l,M);return}const N=(E=l.scalar)!==null&&E!==void 0?E:h.INT32;if(l.packed){if(!y.size)return;f.tag(l.number,qe.LengthDelimited).fork();for(const M of y)bh(f,l.parent.typeName,l.name,N,M);f.join();return}for(const M of y)Fa(f,l.parent.typeName,l.name,N,l.number,M)}function Ug(f,i,l,y,E){var N;switch(f.tag(l.number,qe.LengthDelimited).fork(),Fa(f,l.parent.typeName,l.name,l.mapKey,1,y),l.mapKind){case"scalar":case"enum":Fa(f,l.parent.typeName,l.name,(N=l.scalar)!==null&&N!==void 0?N:h.INT32,2,E);break;case"message":Ps(f.tag(2,qe.LengthDelimited).fork(),i,E).join();break}f.join()}function bh(f,i,l,y,E){try{switch(y){case h.STRING:f.string(E);break;case h.BOOL:f.bool(E);break;case h.DOUBLE:f.double(E);break;case h.FLOAT:f.float(E);break;case h.INT32:f.int32(E);break;case h.INT64:f.int64(E);break;case h.UINT64:f.uint64(E);break;case h.FIXED64:f.fixed64(E);break;case h.BYTES:f.bytes(E);break;case h.FIXED32:f.fixed32(E);break;case h.SFIXED32:f.sfixed32(E);break;case h.SFIXED64:f.sfixed64(E);break;case h.SINT64:f.sint64(E);break;case h.UINT32:f.uint32(E);break;case h.SINT32:f.sint32(E);break}}catch(N){throw N instanceof Error?new Error(`cannot encode field ${i}.${l} to binary: ${N.message}`):N}}function Ev(f){switch(f){case h.BYTES:case h.STRING:return qe.LengthDelimited;case h.DOUBLE:case h.FIXED64:case h.SFIXED64:return qe.Bit64;case h.FIXED32:case h.SFIXED32:case h.FLOAT:return qe.Bit32;default:return qe.Varint}}function Av(f,i,l){let y=!1;return l||(l=Z(jS),y=!0),l.value=Ci(f,i),l.typeUrl=US(i.$typeName),y?l:void 0}function Cv(f,i){if(f.typeUrl==="")return!1;const l=typeof i=="string"?i:i.typeName,y=wv(f.typeUrl);return l===y}function VS(f,i){if(f.typeUrl==="")return;const l=i.kind=="message"?i:i.getMessage(wv(f.typeUrl));if(!(!l||!Cv(f,l)))return Ai(l,f.value)}function US(f){return`type.googleapis.com/${f}`}function wv(f){const i=f.lastIndexOf("/"),l=i>=0?f.substring(i+1):f;if(!l.length)throw new Error(`invalid type url: ${f}`);return l}const Gg=uo("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),GS=It(Gg,0),Hr=It(Gg,1),cf=It(Gg,2);var Sh;(function(f){f[f.NULL_VALUE=0]="NULL_VALUE"})(Sh||(Sh={}));const Rv=uo("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function Tv(f,i){ka(i,f);const l=$g(f.$unknown,i),[y,E,N]=Eh(i);for(const M of l)pv(y,new Le(M.data),E,M.wireType,{readUnknownFields:!0});return N()}function Nv(f,i,l){var y;ka(i,f);const E=((y=f.$unknown)!==null&&y!==void 0?y:[]).filter(ee=>ee.no!==i.number),[N,M]=Eh(i,l),V=new un;bv(V,{writeUnknownFields:!0},N,M);const Y=new Le(V.finish());for(;Y.pos<Y.len;){const[ee,ue]=Y.tag(),we=Y.skip(ue,ee);E.push({no:ee,wireType:ue,data:we})}f.$unknown=E}function $g(f,i){if(f===void 0)return[];if(i.fieldKind==="enum"||i.fieldKind==="scalar"){for(let l=f.length-1;l>=0;--l)if(f[l].no==i.number)return[f[l]];return[]}return f.filter(l=>l.no===i.number)}function Eh(f,i){const l=f.typeName,y=Object.assign(Object.assign({},f),{kind:"field",parent:f.extendee,localName:l}),E=Object.assign(Object.assign({},f.extendee),{fields:[y],members:[y],oneofs:[]}),N=Z(E,i!==void 0?{[l]:i}:void 0);return[nn(E,N),y,()=>{const M=N[l];if(M===void 0){const V=f.message;return z(V)?W(V.fields[0].scalar,V.fields[0].longAsString):Z(V)}return M}]}function ka(f,i){if(f.extendee.typeName!=i.$typeName)throw new Error(`extension ${f.typeName} can only be applied to message ${f.extendee.typeName}`)}const Hg=3,ff=2,Ah={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function _v(f){return f?Object.assign(Object.assign({},Ah),f):Ah}function Ba(f,i,l){return ja(nn(f,i),_v(l))}function Ru(f,i,l){var y;const E=Ba(f,i,l);return JSON.stringify(E,null,(y=l==null?void 0:l.prettySpaces)!==null&&y!==void 0?y:0)}function ja(f,i){var l;const y=HS(f,i);if(y!==void 0)return y;const E={};for(const N of f.sortedFields){if(!f.isSet(N)){if(N.presence==Hg)throw new Error(`cannot encode ${N} to JSON: required field not set`);if(!i.alwaysEmitImplicit||N.presence!==ff)continue}const M=Wg(N,f.get(N),i);M!==void 0&&(E[$S(N,i)]=M)}if(i.registry){const N=new Set;for(const{no:M}of(l=f.getUnknown())!==null&&l!==void 0?l:[])if(!N.has(M)){N.add(M);const V=i.registry.getExtensionFor(f.desc,M);if(!V)continue;const Y=Tv(f.message,V),[ee,ue]=Eh(V,Y),we=Wg(ue,ee.get(ue),i);we!==void 0&&(E[V.jsonName]=we)}}return E}function Wg(f,i,l){switch(f.fieldKind){case"scalar":return df(f,i);case"message":return ja(i,l);case"enum":return Ch(f.enum,i,l.enumAsInteger);case"list":return Iv(i,l);case"map":return za(i,l)}}function za(f,i){const l=f.field(),y={};switch(l.mapKind){case"scalar":for(const[E,N]of f)y[E]=df(l,N);break;case"message":for(const[E,N]of f)y[E]=ja(N,i);break;case"enum":for(const[E,N]of f)y[E]=Ch(l.enum,N,i.enumAsInteger);break}return i.alwaysEmitImplicit||f.size>0?y:void 0}function Iv(f,i){const l=f.field(),y=[];switch(l.listKind){case"scalar":for(const E of f)y.push(df(l,E));break;case"enum":for(const E of f)y.push(Ch(l.enum,E,i.enumAsInteger));break;case"message":for(const E of f)y.push(ja(E,i));break}return i.alwaysEmitImplicit||y.length>0?y:void 0}function Ch(f,i,l){var y;if(typeof i!="number")throw new Error(`cannot encode ${f} to JSON: expected number, got ${dt(i)}`);if(f.typeName=="google.protobuf.NullValue")return null;if(l)return i;const E=f.value[i];return(y=E==null?void 0:E.name)!==null&&y!==void 0?y:i}function df(f,i){var l,y,E,N,M,V;switch(f.scalar){case h.INT32:case h.SFIXED32:case h.SINT32:case h.FIXED32:case h.UINT32:if(typeof i!="number")throw new Error(`cannot encode ${f} to JSON: ${(l=Dt(f,i))===null||l===void 0?void 0:l.message}`);return i;case h.FLOAT:case h.DOUBLE:if(typeof i!="number")throw new Error(`cannot encode ${f} to JSON: ${(y=Dt(f,i))===null||y===void 0?void 0:y.message}`);return Number.isNaN(i)?"NaN":i===Number.POSITIVE_INFINITY?"Infinity":i===Number.NEGATIVE_INFINITY?"-Infinity":i;case h.STRING:if(typeof i!="string")throw new Error(`cannot encode ${f} to JSON: ${(E=Dt(f,i))===null||E===void 0?void 0:E.message}`);return i;case h.BOOL:if(typeof i!="boolean")throw new Error(`cannot encode ${f} to JSON: ${(N=Dt(f,i))===null||N===void 0?void 0:N.message}`);return i;case h.UINT64:case h.FIXED64:case h.INT64:case h.SFIXED64:case h.SINT64:if(typeof i!="bigint"&&typeof i!="string")throw new Error(`cannot encode ${f} to JSON: ${(M=Dt(f,i))===null||M===void 0?void 0:M.message}`);return i.toString();case h.BYTES:if(i instanceof Uint8Array)return Fy(i);throw new Error(`cannot encode ${f} to JSON: ${(V=Dt(f,i))===null||V===void 0?void 0:V.message}`)}}function $S(f,i){return i.useProtoFieldName?f.name:f.jsonName}function HS(f,i){if(f.desc.typeName.startsWith("google.protobuf."))switch(f.desc.typeName){case"google.protobuf.Any":return WS(f.message,i);case"google.protobuf.Timestamp":return wi(f.message);case"google.protobuf.Duration":return Ov(f.message);case"google.protobuf.FieldMask":return Dv(f.message);case"google.protobuf.Struct":return wh(f.message);case"google.protobuf.Value":return ui(f.message);case"google.protobuf.ListValue":return Yg(f.message);default:if(z(f.desc)){const l=f.desc.fields[0];return df(l,f.get(l))}return}}function WS(f,i){if(f.typeUrl==="")return{};const{registry:l}=i;let y,E;if(l&&(y=VS(f,l),y&&(E=l.getMessage(y.$typeName))),!E||!y)throw new Error(`cannot encode message ${f.$typeName} to JSON: "${f.typeUrl}" is not in the type registry`);let N=ja(nn(E,y),i);return(E.typeName.startsWith("google.protobuf.")||N===null||Array.isArray(N)||typeof N!="object")&&(N={value:N}),N["@type"]=f.typeUrl,N}function Ov(f){const i=Number(f.seconds),l=f.nanos;if(i>315576e6||i<-315576e6)throw new Error(`cannot encode message ${f.$typeName} to JSON: value out of range`);if(i>0&&l<0||i<0&&l>0)throw new Error(`cannot encode message ${f.$typeName} to JSON: nanos sign must match seconds sign`);let y=f.seconds.toString();if(l!==0){let E=Math.abs(l).toString();E="0".repeat(9-E.length)+E,E.substring(3)==="000000"?E=E.substring(0,3):E.substring(6)==="000"&&(E=E.substring(0,6)),y+="."+E,l<0&&i==0&&(y="-"+y)}return y+"s"}function Dv(f){return f.paths.map(i=>{if(i.match(/_[0-9]?_/g)||i.match(/[A-Z]/g))throw new Error(`cannot encode message ${f.$typeName} to JSON: lowerCamelCase of path name "`+i+'" is irreversible');return Oa(i)}).join(",")}function wh(f){const i={};for(const[l,y]of Object.entries(f.fields))i[l]=ui(y);return i}function ui(f){switch(f.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(f.kind.value))throw new Error(`${f.$typeName} cannot be NaN or Infinity`);return f.kind.value;case"boolValue":return f.kind.value;case"stringValue":return f.kind.value;case"structValue":return wh(f.kind.value);case"listValue":return Yg(f.kind.value);default:throw new Error(`${f.$typeName} must have a value`)}}function Yg(f){return f.values.map(ui)}function wi(f){const i=Number(f.seconds)*1e3;if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${f.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(f.nanos<0)throw new Error(`cannot encode message ${f.$typeName} to JSON: nanos must not be negative`);if(f.nanos>999999999)throw new Error(`cannot encode message ${f.$typeName} to JSON: nanos must not be greater than 99999999`);let l="Z";if(f.nanos>0){const y=(f.nanos+1e9).toString().substring(1);y.substring(3)==="000000"?l="."+y.substring(0,3)+"Z":y.substring(6)==="000"?l="."+y.substring(0,6)+"Z":l="."+y+"Z"}return new Date(i).toISOString().replace(".000Z",l)}const ci={ignoreUnknownFields:!1};function Tu(f){return f?Object.assign(Object.assign({},ci),f):ci}function qg(f,i,l){return Rh(f,Kg(i,f.typeName),l)}function Rh(f,i,l){const y=nn(f);try{zo(y,i,Tu(l))}catch(E){throw pe(E)?new Error(`cannot decode ${E.field()} from JSON: ${E.message}`,{cause:E}):E}return y.message}function zo(f,i,l){var y;if(Xg(f,i,l))return;if(i==null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode ${f.desc} from JSON: ${dt(i)}`);const E=new Map,N=new Map;for(const M of f.desc.fields)N.set(M.name,M).set(M.jsonName,M);for(const[M,V]of Object.entries(i)){const Y=N.get(M);if(Y){if(Y.oneof){if(V===null&&Y.fieldKind=="scalar")continue;const ee=E.get(Y.oneof);if(ee!==void 0)throw new ht(Y.oneof,`oneof set multiple times by ${ee.name} and ${Y.name}`);E.set(Y.oneof,Y)}Th(f,Y,V,l)}else{let ee;if(M.startsWith("[")&&M.endsWith("]")&&(ee=(y=l.registry)===null||y===void 0?void 0:y.getExtension(M.substring(1,M.length-1)))&&ee.extendee.typeName===f.desc.typeName){const[ue,we,ke]=Eh(ee);Th(ue,we,V,l),Nv(f.message,ee,ke())}if(!ee&&!l.ignoreUnknownFields)throw new Error(`cannot decode ${f.desc} from JSON: key "${M}" is unknown`)}}}function Th(f,i,l,y){switch(i.fieldKind){case"scalar":YS(f,i,l);break;case"enum":_u(f,i,l,y);break;case"message":Nh(f,i,l,y);break;case"list":Pv(f.get(i),l,y);break;case"map":Nu(f.get(i),l,y);break}}function Nu(f,i,l){if(i===null)return;const y=f.field();if(typeof i!="object"||Array.isArray(i))throw new ht(y,"expected object, got "+dt(i));for(const[E,N]of Object.entries(i)){if(N===null)throw new ht(y,"map value must not be null");let M;switch(y.mapKind){case"message":const Y=nn(y.message);zo(Y,N,l),M=Y;break;case"enum":if(M=hf(y.enum,N,l.ignoreUnknownFields,!0),M===Tr)return;break;case"scalar":M=pf(y,N,!0);break}const V=_h(y.mapKey,E);f.set(V,M)}}function Pv(f,i,l){if(i===null)return;const y=f.field();if(!Array.isArray(i))throw new ht(y,"expected Array, got "+dt(i));for(const E of i){if(E===null)throw new ht(y,"list item must not be null");switch(y.listKind){case"message":const N=nn(y.message);zo(N,E,l),f.add(N);break;case"enum":const M=hf(y.enum,E,l.ignoreUnknownFields,!0);M!==Tr&&f.add(M);break;case"scalar":f.add(pf(y,E,!0));break}}}function Nh(f,i,l,y){if(l===null&&i.message.typeName!="google.protobuf.Value"){f.clear(i);return}const E=f.isSet(i)?f.get(i):nn(i.message);zo(E,l,y),f.set(i,E)}function _u(f,i,l,y){const E=hf(i.enum,l,y.ignoreUnknownFields,!1);E===Ri?f.clear(i):E!==Tr&&f.set(i,E)}function YS(f,i,l){const y=pf(i,l,!1);y===Ri?f.clear(i):f.set(i,y)}const Tr=Symbol();function hf(f,i,l,y){if(i===null)return f.typeName=="google.protobuf.NullValue"?0:y?f.values[0].number:Ri;switch(typeof i){case"number":if(Number.isInteger(i))return i;break;case"string":const E=f.values.find(N=>N.name===i);if(E!==void 0)return E.number;if(l)return Tr;break}throw new Error(`cannot decode ${f} from JSON: ${dt(i)}`)}const Ri=Symbol();function pf(f,i,l){if(i===null)return l?W(f.scalar,!1):Ri;switch(f.scalar){case h.DOUBLE:case h.FLOAT:if(i==="NaN")return NaN;if(i==="Infinity")return Number.POSITIVE_INFINITY;if(i==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof i=="number"){if(Number.isNaN(i))throw new ht(f,"unexpected NaN number");if(!Number.isFinite(i))throw new ht(f,"unexpected infinite number");break}if(typeof i=="string"){if(i===""||i.trim().length!==i.length)break;const y=Number(i);if(!Number.isFinite(y))break;return y}break;case h.INT32:case h.FIXED32:case h.SFIXED32:case h.SINT32:case h.UINT32:return Ms(i);case h.BYTES:if(typeof i=="string"){if(i==="")return new Uint8Array(0);try{return wg(i)}catch(y){const E=y instanceof Error?y.message:String(y);throw new ht(f,E)}}break}return i}function _h(f,i){switch(f){case h.BOOL:switch(i){case"true":return!0;case"false":return!1}return i;case h.INT32:case h.FIXED32:case h.UINT32:case h.SFIXED32:case h.SINT32:return Ms(i);default:return i}}function Ms(f){if(typeof f=="string"){if(f===""||f.trim().length!==f.length)return f;const i=Number(f);return Number.isNaN(i)?f:i}return f}function Kg(f,i){try{return JSON.parse(f)}catch(l){const y=l instanceof Error?l.message:String(l);throw new Error(`cannot decode message ${i} from JSON: ${y}`,{cause:l})}}function Xg(f,i,l){if(!f.desc.typeName.startsWith("google.protobuf."))return!1;switch(f.desc.typeName){case"google.protobuf.Any":return Iu(f.message,i,l),!0;case"google.protobuf.Timestamp":return Ou(f.message,i),!0;case"google.protobuf.Duration":return Ih(f.message,i),!0;case"google.protobuf.FieldMask":return Oh(f.message,i),!0;case"google.protobuf.Struct":return fi(f.message,i),!0;case"google.protobuf.Value":return Wr(f.message,i),!0;case"google.protobuf.ListValue":return Ls(f.message,i),!0;default:if(z(f.desc)){const y=f.desc.fields[0];return i===null?f.clear(y):f.set(y,pf(y,i,!0)),!0}return!1}}function Iu(f,i,l){var y;if(i===null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode message ${f.$typeName} from JSON: expected object but got ${dt(i)}`);if(Object.keys(i).length==0)return;const E=i["@type"];if(typeof E!="string"||E=="")throw new Error(`cannot decode message ${f.$typeName} from JSON: "@type" is empty`);const N=E.includes("/")?E.substring(E.lastIndexOf("/")+1):E;if(!N.length)throw new Error(`cannot decode message ${f.$typeName} from JSON: "@type" is invalid`);const M=(y=l.registry)===null||y===void 0?void 0:y.getMessage(N);if(!M)throw new Error(`cannot decode message ${f.$typeName} from JSON: ${E} is not in the type registry`);const V=nn(M);if(N.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(i,"value")){const Y=i.value;zo(V,Y,l)}else{const Y=Object.assign({},i);delete Y["@type"],zo(V,Y,l)}Av(V.desc,V.message,f)}function Ou(f,i){if(typeof i!="string")throw new Error(`cannot decode message ${f.$typeName} from JSON: ${dt(i)}`);const l=i.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!l)throw new Error(`cannot decode message ${f.$typeName} from JSON: invalid RFC 3339 string`);const y=Date.parse(l[1]+"-"+l[2]+"-"+l[3]+"T"+l[4]+":"+l[5]+":"+l[6]+(l[8]?l[8]:"Z"));if(Number.isNaN(y))throw new Error(`cannot decode message ${f.$typeName} from JSON: invalid RFC 3339 string`);if(y<Date.parse("0001-01-01T00:00:00Z")||y>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${f.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);f.seconds=L.parse(y/1e3),f.nanos=0,l[7]&&(f.nanos=parseInt("1"+l[7]+"0".repeat(9-l[7].length))-1e9)}function Ih(f,i){if(typeof i!="string")throw new Error(`cannot decode message ${f.$typeName} from JSON: ${dt(i)}`);const l=i.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(l===null)throw new Error(`cannot decode message ${f.$typeName} from JSON: ${dt(i)}`);const y=Number(l[1]);if(y>315576e6||y<-315576e6)throw new Error(`cannot decode message ${f.$typeName} from JSON: ${dt(i)}`);if(f.seconds=L.parse(y),typeof l[2]!="string")return;const E=l[2]+"0".repeat(9-l[2].length);f.nanos=parseInt(E),(y<0||Object.is(y,-0))&&(f.nanos=-f.nanos)}function Oh(f,i){if(typeof i!="string")throw new Error(`cannot decode message ${f.$typeName} from JSON: ${dt(i)}`);if(i==="")return;function l(y){if(y.includes("_"))throw new Error(`cannot decode message ${f.$typeName} from JSON: path names must be lowerCamelCase`);const E=y.replace(/[A-Z]/g,N=>"_"+N.toLowerCase());return E[0]==="_"?E.substring(1):E}f.paths=i.split(",").map(l)}function fi(f,i){if(typeof i!="object"||i==null||Array.isArray(i))throw new Error(`cannot decode message ${f.$typeName} from JSON ${dt(i)}`);for(const[l,y]of Object.entries(i)){const E=Z(Hr);Wr(E,y),f.fields[l]=E}}function Wr(f,i){switch(typeof i){case"number":f.kind={case:"numberValue",value:i};break;case"string":f.kind={case:"stringValue",value:i};break;case"boolean":f.kind={case:"boolValue",value:i};break;case"object":if(i===null)f.kind={case:"nullValue",value:Sh.NULL_VALUE};else if(Array.isArray(i)){const l=Z(cf);Ls(l,i),f.kind={case:"listValue",value:l}}else{const l=Z(GS);fi(l,i),f.kind={case:"structValue",value:l}}break;default:throw new Error(`cannot decode message ${f.$typeName} from JSON ${dt(i)}`)}return f}function Ls(f,i){if(!Array.isArray(i))throw new Error(`cannot decode message ${f.$typeName} from JSON ${dt(i)}`);for(const l of i){const y=Z(Hr);Wr(y,l),f.values.push(y)}}function co(f){const i=u[f];return typeof i!="string"?f.toString():i[0].toLowerCase()+i.substring(1).replace(/[A-Z]/g,l=>"_"+l.toLowerCase())}class Ht extends Error{constructor(i,l=u.Unknown,y,E,N){super(Va(i,l)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=i,this.code=l,this.metadata=new Headers(y??{}),this.details=E??[],this.cause=N}static from(i,l=u.Unknown){return i instanceof Ht?i:i instanceof Error?i.name=="AbortError"||i.name=="TimeoutError"?new Ht(i.message,u.Canceled):new Ht(i.message,l,void 0,void 0,i):new Ht(String(i),l,void 0,void 0,i)}static[Symbol.hasInstance](i){return i instanceof Error?Object.getPrototypeOf(i)===Ht.prototype?!0:i.name==="ConnectError"&&"code"in i&&typeof i.code=="number"&&"metadata"in i&&"details"in i&&Array.isArray(i.details)&&"rawMessage"in i&&typeof i.rawMessage=="string"&&"cause"in i:!1}findDetails(i){const l=i.kind==="message"?{getMessage:E=>E===i.typeName?i:void 0}:i,y=[];for(const E of this.details){if("desc"in E){l.getMessage(E.desc.typeName)&&y.push(Z(E.desc,E.value));continue}const N=l.getMessage(E.type);if(N)try{y.push(Ai(N,E.value))}catch{}}return y}}function Va(f,i){return f.length?`[${co(i)}] ${f}`:`[${co(i)}]`}function Mv(f,i,l){try{const y=wg(f);return i?Ai(i,y,l):y}catch(y){throw Ht.from(y,u.DataLoss)}}function Zg(f,i){const l={};for(const y of f.methods){const E=i(y);E!=null&&(l[y.localName]=E)}return l}const Dh=1;function Pr(f,i,l=!1){if(i>f){let y=`message size is larger than configured readMaxBytes ${f}`;throw l&&(y=`message size ${i} is larger than configured readMaxBytes ${f}`),new Ht(y,u.ResourceExhausted)}}function zn(f){return new Qt(f)}class Qt{constructor(i){this.readMaxBytes=i,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((i,l)=>i+l.byteLength,0)}decode(i){this.buf.push(i);const l=[];for(;;){let y=this.pop();if(!y)break;l.push(y)}return l}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const i=this.env;return this.env=void 0,i}}head(){if(!this.cons(this.header))return;const i=this.headerView.getUint8(0),l=this.headerView.getUint32(1);return Pr(this.readMaxBytes,l,!0),{flags:i,data:new Uint8Array(l)}}cons(i){const l=i.byteLength;if(this.byteLength<l)return!1;let y=0;for(;y<l;){const E=this.buf.shift();E.byteLength>l-y?(i.set(E.subarray(0,l-y),y),this.buf.unshift(E.subarray(l-y)),y+=l-y):(i.set(E,y),y+=E.byteLength)}return!0}}function Fs(f){let i;const l=zn(4294967295);return new ReadableStream({start(){i=f.getReader()},async pull(y){let E=!1;for(;!E;){const N=await i.read();if(N.done)l.byteLength>0&&y.error(new Ht("protocol error: incomplete envelope",u.InvalidArgument)),y.close();else for(const M of l.decode(N.value))y.enqueue(M),E=!0}}})}function $i(f,i){const l=new Uint8Array(i.length+5);l.set(i,5);const y=new DataView(l.buffer,l.byteOffset,l.byteLength);return y.setUint8(0,f),y.setUint32(1,i.length),l}var Jg=function(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=f[Symbol.asyncIterator],l;return i?i.call(f):(f=typeof __values=="function"?__values(f):f[Symbol.iterator](),l={},y("next"),y("throw"),y("return"),l[Symbol.asyncIterator]=function(){return this},l);function y(N){l[N]=f[N]&&function(M){return new Promise(function(V,Y){M=f[N](M),E(V,Y,M.done,M.value)})}}function E(N,M,V,Y){Promise.resolve(Y).then(function(ee){N({value:ee,done:V})},M)}},Hi=function(f){return this instanceof Hi?(this.v=f,this):new Hi(f)},Lv=function(f,i,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=l.apply(f,i||[]),E,N=[];return E=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",M),E[Symbol.asyncIterator]=function(){return this},E;function M(Re){return function(We){return Promise.resolve(We).then(Re,we)}}function V(Re,We){y[Re]&&(E[Re]=function(He){return new Promise(function(it,At){N.push([Re,He,it,At])>1||Y(Re,He)})},We&&(E[Re]=We(E[Re])))}function Y(Re,We){try{ee(y[Re](We))}catch(He){ke(N[0][3],He)}}function ee(Re){Re.value instanceof Hi?Promise.resolve(Re.value.v).then(ue,we):ke(N[0][2],Re)}function ue(Re){Y("next",Re)}function we(Re){Y("throw",Re)}function ke(Re,We){Re(We),N.shift(),N.length&&Y(N[0][0],N[0][1])}},Fv=function(f){var i,l;return i={},y("next"),y("throw",function(E){throw E}),y("return"),i[Symbol.iterator]=function(){return this},i;function y(E,N){i[E]=f[E]?function(M){return(l=!l)?{value:Hi(f[E](M)),done:!1}:N?N(M):M}:N}};function gf(f){return Lv(this,arguments,function*(){yield Hi(yield*Fv(Jg(f)))})}var Du=function(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=f[Symbol.asyncIterator],l;return i?i.call(f):(f=typeof __values=="function"?__values(f):f[Symbol.iterator](),l={},y("next"),y("throw"),y("return"),l[Symbol.asyncIterator]=function(){return this},l);function y(N){l[N]=f[N]&&function(M){return new Promise(function(V,Y){M=f[N](M),E(V,Y,M.done,M.value)})}}function E(N,M,V,Y){Promise.resolve(Y).then(function(ee){N({value:ee,done:V})},M)}},Ua=function(f){return this instanceof Ua?(this.v=f,this):new Ua(f)},mf=function(f){var i,l;return i={},y("next"),y("throw",function(E){throw E}),y("return"),i[Symbol.iterator]=function(){return this},i;function y(E,N){i[E]=f[E]?function(M){return(l=!l)?{value:Ua(f[E](M)),done:!1}:N?N(M):M}:N}},Qg=function(f,i,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=l.apply(f,i||[]),E,N=[];return E=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",M),E[Symbol.asyncIterator]=function(){return this},E;function M(Re){return function(We){return Promise.resolve(We).then(Re,we)}}function V(Re,We){y[Re]&&(E[Re]=function(He){return new Promise(function(it,At){N.push([Re,He,it,At])>1||Y(Re,He)})},We&&(E[Re]=We(E[Re])))}function Y(Re,We){try{ee(y[Re](We))}catch(He){ke(N[0][3],He)}}function ee(Re){Re.value instanceof Ua?Promise.resolve(Re.value.v).then(ue,we):ke(N[0][2],Re)}function ue(Re){Y("next",Re)}function we(Re){Y("throw",Re)}function ke(Re,We){Re(We),N.shift(),N.length&&Y(N[0][0],N[0][1])}};function Ga(f,i){return Zg(f,l=>{switch(l.methodKind){case"unary":return Vo(i,l);case"server_streaming":return ks(i,l);case"client_streaming":return Uo(i,l);case"bidi_streaming":return em(i,l);default:return null}})}function Vo(f,i){return async(l,y)=>{var E,N;const M=await f.unary(i,y==null?void 0:y.signal,y==null?void 0:y.timeoutMs,y==null?void 0:y.headers,l,y==null?void 0:y.contextValues);return(E=y==null?void 0:y.onHeader)===null||E===void 0||E.call(y,M.header),(N=y==null?void 0:y.onTrailer)===null||N===void 0||N.call(y,M.trailer),M.message}}function ks(f,i){return(l,y)=>Ph(f.stream(i,y==null?void 0:y.signal,y==null?void 0:y.timeoutMs,y==null?void 0:y.headers,gf([l]),y==null?void 0:y.contextValues),y)}function Uo(f,i){return async(l,y)=>{var E,N,M,V,Y,ee;const ue=await f.stream(i,y==null?void 0:y.signal,y==null?void 0:y.timeoutMs,y==null?void 0:y.headers,l,y==null?void 0:y.contextValues);(Y=y==null?void 0:y.onHeader)===null||Y===void 0||Y.call(y,ue.header);let we,ke=0;try{for(var Re=!0,We=Du(ue.message),He;He=await We.next(),E=He.done,!E;Re=!0)V=He.value,Re=!1,we=V,ke++}catch(it){N={error:it}}finally{try{!Re&&!E&&(M=We.return)&&await M.call(We)}finally{if(N)throw N.error}}if(!we)throw new Ht("protocol error: missing response message",u.Unimplemented);if(ke>1)throw new Ht("protocol error: received extra messages for client streaming method",u.Unimplemented);return(ee=y==null?void 0:y.onTrailer)===null||ee===void 0||ee.call(y,ue.trailer),we}}function em(f,i){return(l,y)=>Ph(f.stream(i,y==null?void 0:y.signal,y==null?void 0:y.timeoutMs,y==null?void 0:y.headers,l,y==null?void 0:y.contextValues),y)}function Ph(f,i){const l=function(){return Qg(this,arguments,function*(){var y,E;const N=yield Ua(f);(y=i==null?void 0:i.onHeader)===null||y===void 0||y.call(i,N.header),yield Ua(yield*mf(Du(N.message))),(E=i==null?void 0:i.onTrailer)===null||E===void 0||E.call(i,N.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>l.next()})}}function yf(...f){const i=new AbortController,l=f.filter(E=>E!==void 0).concat(i.signal);for(const E of l){if(E.aborted){y.apply(E);break}E.addEventListener("abort",y)}function y(){i.signal.aborted||i.abort(Bs(this));for(const E of l)E.removeEventListener("abort",y)}return i}function Mh(f){const i=new AbortController,l=()=>{i.abort(new Ht("the operation timed out",u.DeadlineExceeded))};let y;return f!==void 0&&(f<=0?l():y=setTimeout(l,f)),{signal:i.signal,cleanup:()=>clearTimeout(y)}}function Bs(f){if(!f.aborted)return;if(f.reason!==void 0)return f.reason;const i=new Error("This operation was aborted");return i.name="AbortError",i}function gr(){return{get(f){return f.id in this?this[f.id]:f.defaultValue},set(f,i){return this[f.id]=i,this},delete(f){return delete this[f.id],this}}}const Pu=128;function tm(f){const i=new Headers,l=new TextDecoder().decode(f).split(`\r
`);for(const y of l){if(y==="")continue;const E=y.indexOf(":");if(E>0){const N=y.substring(0,E).trim(),M=y.substring(E+1).trim();i.append(N,M)}}return i}const qS="Content-Type",KS="Grpc-Timeout",Mu="Grpc-Status",Zn="Grpc-Message",nm="Grpc-Status-Details-Bin",vf="User-Agent",Lu="X-User-Agent",rm="X-Grpc-Web",Fu="application/grpc-web+proto",ku="application/grpc-web+json";function XS(f,i,...l){if(l.length>0)throw new Error;return f.services[i]}const JS=It(uo("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[vv]),0),kv="0";function js(f){var i;const l=f.get(nm);if(l!=null){const E=Mv(l,JS);if(E.code==0)return;const N=new Ht(E.message,E.code,f);return N.details=E.details.map(M=>({type:M.typeUrl.substring(M.typeUrl.lastIndexOf("/")+1),value:M.value})),N}const y=f.get(Mu);if(y!=null){if(y===kv)return;const E=parseInt(y,10);return E in u?new Ht(decodeURIComponent((i=f.get(Zn))!==null&&i!==void 0?i:""),E,f):new Ht(`invalid grpc-status: ${y}`,u.Internal,f)}}function Lh(f,i){return f.toString().replace(/\/?$/,`/${i.parent.typeName}/${i.name}`)}function xf(f,i){return Z(f,i)}function Bv(f,i){function l(y){return y.done===!0?y:{done:y.done,value:xf(f,y.value)}}return{[Symbol.asyncIterator](){const y=i[Symbol.asyncIterator](),E={next:()=>y.next().then(l)};return y.throw!==void 0&&(E.throw=N=>y.throw(N).then(l)),y.return!==void 0&&(E.return=N=>y.return(N).then(l)),E}}}function Bu(f,i){if(!i)return f;for(const l of i.concat().reverse())f=l(f);return f}function jv(f){var i;const l=Object.assign({},f);return(i=l.ignoreUnknownFields)!==null&&i!==void 0||(l.ignoreUnknownFields=!0),l}function bf(f,i,l,y){const E=i?Fh(f.input,y):im(f.input,l);return{parse:(i?Fh(f.output,y):im(f.output,l)).parse,serialize:E.serialize}}function Fh(f,i){return{parse(l){try{return Ai(f,l,i)}catch(y){const E=y instanceof Error?y.message:String(y);throw new Ht(`parse binary: ${E}`,u.Internal)}},serialize(l){try{return Ci(f,l,i)}catch(y){const E=y instanceof Error?y.message:String(y);throw new Ht(`serialize binary: ${E}`,u.Internal)}}}}function im(f,i){var l,y;const E=(l=i==null?void 0:i.textEncoder)!==null&&l!==void 0?l:new TextEncoder,N=(y=i==null?void 0:i.textDecoder)!==null&&y!==void 0?y:new TextDecoder,M=jv(i);return{parse(V){try{const Y=N.decode(V);return qg(f,Y,M)}catch(Y){throw Ht.from(Y,u.InvalidArgument)}},serialize(V){try{const Y=Ru(f,V,M);return E.encode(Y)}catch(Y){throw Ht.from(Y,u.Internal)}}}}function kh(f){const i=Bu(f.next,f.interceptors),[l,y,E]=ju(f),N=Object.assign(Object.assign({},f.req),{message:xf(f.req.method.input,f.req.message),signal:l});return i(N).then(M=>(E(),M),y)}function zv(f){const i=Bu(f.next,f.interceptors),[l,y,E]=ju(f),N=Object.assign(Object.assign({},f.req),{message:Bv(f.req.method.input,f.req.message),signal:l});let M=!1;return l.addEventListener("abort",function(){var V,Y;const ee=f.req.message[Symbol.asyncIterator]();M||(V=ee.throw)===null||V===void 0||V.call(ee,this.reason).catch(()=>{}),(Y=ee.return)===null||Y===void 0||Y.call(ee).catch(()=>{})}),i(N).then(V=>Object.assign(Object.assign({},V),{message:{[Symbol.asyncIterator](){const Y=V.message[Symbol.asyncIterator]();return{next(){return Y.next().then(ee=>(ee.done==!0&&(M=!0,E()),ee),y)}}}}}),y)}function ju(f){const{signal:i,cleanup:l}=Mh(f.timeoutMs),y=yf(f.signal,i);return[y.signal,function(N){const M=Ht.from(i.aborted?Bs(i):N);return y.abort(M),l(),Promise.reject(M)},function(){l(),y.abort()}]}function Vv(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function om(f,i){const l=js(f);if(l)throw i.forEach((y,E)=>{l.metadata.append(E,y)}),l;if(!i.has(Mu)&&!f.has(Mu))throw new Ht("protocol error: missing status",u.Internal)}function Go(f,i,l,y){var E,N;const M=new Headers(l??{});M.set(qS,f?Fu:ku),M.set(rm,"1");const V=(N=(E=M.get(vf))!==null&&E!==void 0?E:M.get(Lu))!==null&&N!==void 0?N:"connect-es/2.1.1";return M.set(Lu,V),i!==void 0&&M.set(KS,`${i}m`),M}function sm(f){switch(f){case 400:return u.Internal;case 401:return u.Unauthenticated;case 403:return u.PermissionDenied;case 404:return u.Unimplemented;case 429:return u.Unavailable;case 502:return u.Unavailable;case 503:return u.Unavailable;case 504:return u.Unavailable;default:return u.Unknown}}function Bh(f,i){var l;if(f>=200&&f<300)return{foundStatus:i.has(Mu),headerError:js(i)};throw new Ht(decodeURIComponent((l=i.get(Zn))!==null&&l!==void 0?l:`HTTP ${f}`),sm(f),i)}var Yr=function(f){return this instanceof Yr?(this.v=f,this):new Yr(f)},zs=function(f,i,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=l.apply(f,i||[]),E,N=[];return E=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",M),E[Symbol.asyncIterator]=function(){return this},E;function M(Re){return function(We){return Promise.resolve(We).then(Re,we)}}function V(Re,We){y[Re]&&(E[Re]=function(He){return new Promise(function(it,At){N.push([Re,He,it,At])>1||Y(Re,He)})},We&&(E[Re]=We(E[Re])))}function Y(Re,We){try{ee(y[Re](We))}catch(He){ke(N[0][3],He)}}function ee(Re){Re.value instanceof Yr?Promise.resolve(Re.value.v).then(ue,we):ke(N[0][2],Re)}function ue(Re){Y("next",Re)}function we(Re){Y("throw",Re)}function ke(Re,We){Re(We),N.shift(),N.length&&Y(N[0][0],N[0][1])}};const zu={redirect:"error"};function am(f){var i;Vv();const l=(i=f.useBinaryFormat)!==null&&i!==void 0?i:!0;return{async unary(y,E,N,M,V,Y){const{serialize:ee,parse:ue}=bf(y,l,f.jsonOptions,f.binaryOptions);return N=N===void 0?f.defaultTimeoutMs:N<=0?void 0:N,await kh({interceptors:f.interceptors,signal:E,timeoutMs:N,req:{stream:!1,service:y.parent,method:y,requestMethod:"POST",url:Lh(f.baseUrl,y),header:Go(l,N,M),contextValues:Y??gr(),message:V},next:async we=>{var ke;const We=await((ke=f.fetch)!==null&&ke!==void 0?ke:globalThis.fetch)(we.url,Object.assign(Object.assign({},zu),{method:we.requestMethod,headers:we.header,signal:we.signal,body:$i(0,ee(we.message))})),{headerError:He}=Bh(We.status,We.headers);if(!We.body)throw He!==void 0?He:"missing response body";const it=Fs(We.body).getReader();let At,en;for(;;){const Cn=await it.read();if(Cn.done)break;const{flags:Xt,data:Er}=Cn.value;if((Xt&Dh)===Dh)throw new Ht("protocol error: received unsupported compressed output",u.Internal);if(Xt===Pu){if(At!==void 0)throw"extra trailer";At=tm(Er);continue}if(en!==void 0)throw new Ht("extra message",u.Unimplemented);en=ue(Er)}if(At===void 0)throw He!==void 0?He:new Ht("missing trailer",We.headers.has(Mu)?u.Unimplemented:u.Unknown);if(om(At,We.headers),en===void 0)throw new Ht("missing message",At.has(Mu)?u.Unimplemented:u.Unknown);return{stream:!1,service:y.parent,method:y,header:We.headers,message:en,trailer:At}}})},async stream(y,E,N,M,V,Y){const{serialize:ee,parse:ue}=bf(y,l,f.jsonOptions,f.binaryOptions);function we(Re,We,He,it,At){return zs(this,arguments,function*(){const Cn=Fs(Re).getReader();if(We){if(!(yield Yr(Cn.read())).done)throw"extra data for trailers-only";return yield Yr(void 0)}let Xt=!1;for(;;){const Er=yield Yr(Cn.read());if(Er.done)break;const{flags:tn,data:er}=Er.value;if((tn&Pu)===Pu){if(Xt)throw"extra trailer";Xt=!0;const Mn=tm(er);om(Mn,it),Mn.forEach((_n,mi)=>He.set(mi,_n));continue}if(Xt)throw"extra message";yield yield Yr(ue(er))}if("throwIfAborted"in At&&At.throwIfAborted(),!Xt)throw"missing trailer"})}async function ke(Re){if(y.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const We=await Re[Symbol.asyncIterator]().next();if(We.done==!0)throw"missing request message";return $i(0,ee(We.value))}return N=N===void 0?f.defaultTimeoutMs:N<=0?void 0:N,zv({interceptors:f.interceptors,signal:E,timeoutMs:N,req:{stream:!0,service:y.parent,method:y,requestMethod:"POST",url:Lh(f.baseUrl,y),header:Go(l,N,M),contextValues:Y??gr(),message:V},next:async Re=>{var We;const it=await((We=f.fetch)!==null&&We!==void 0?We:globalThis.fetch)(Re.url,Object.assign(Object.assign({},zu),{method:Re.requestMethod,headers:Re.header,signal:Re.signal,body:await ke(Re.message)})),{foundStatus:At,headerError:en}=Bh(it.status,it.headers);if(en!=null)throw en;if(!it.body)throw"missing response body";const Cn=new Headers;return Object.assign(Object.assign({},Re),{header:it.headers,trailer:Cn,message:we(it.body,At,Cn,it.headers,Re.signal)})}})}}}const Pt=uo("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[gv,Rv]),Sf=It(Pt,0),Ef=It(Pt,1),Uv=It(Pt,2),jh=It(Pt,3),Vs=It(Pt,4),Vu=It(Pt,5),Gv=It(Pt,5,0),lm=It(Pt,5,1),um=It(Pt,5,2),Us=It(Pt,5,3),zt=It(Pt,5,4),pn=It(Pt,5,5),Jn=It(Pt,5,6),zh=It(Pt,5,7),Uu=It(Pt,5,8),$a=It(Pt,5,9),$o=It(Pt,6),Nr=It(Pt,7),Gu=It(Pt,7,0),QS=It(Pt,7,1),Wn=It(Pt,7,2),cm=It(Pt,7,3),fm=It(Pt,7,4),$v=It(Pt,7,5),Hv=It(Pt,8),e1=It(Pt,9),Vh=It(Pt,10),dm=It(Pt,11),hm=It(Pt,12),qr=It(Pt,13),Qn=It(Pt,14),pm=It(Pt,15),Af=It(Pt,16),Cf=It(Pt,23);var Ha=(f=>(f[f.UNSPECIFIED=0]="UNSPECIFIED",f[f.PUT=1]="PUT",f[f.DELETE=2]="DELETE",f[f.CLEAR=3]="CLEAR",f))(Ha||{});const Ho=It(Pt,24),Uh=It(Pt,26),gm=It(Pt,27),mm=It(Pt,28);var ym=(f=>(f[f.UNSPECIFIED=0]="UNSPECIFIED",f[f.PRESENCE=1]="PRESENCE",f[f.BROADCAST=2]="BROADCAST",f))(ym||{}),Ft=(f=>(f[f.NULL=0]="NULL",f[f.BOOLEAN=1]="BOOLEAN",f[f.INTEGER=2]="INTEGER",f[f.LONG=3]="LONG",f[f.DOUBLE=4]="DOUBLE",f[f.STRING=5]="STRING",f[f.BYTES=6]="BYTES",f[f.DATE=7]="DATE",f[f.JSON_OBJECT=8]="JSON_OBJECT",f[f.JSON_ARRAY=9]="JSON_ARRAY",f[f.TEXT=10]="TEXT",f[f.INTEGER_CNT=11]="INTEGER_CNT",f[f.LONG_CNT=12]="LONG_CNT",f[f.TREE=13]="TREE",f))(Ft||{}),wf=(f=>(f[f.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",f[f.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",f[f.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",f[f.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",f))(wf||{});const Wv=XS(uo("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5Ij0KF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEhUKDXNlc3Npb25fY291bnQYASABKAMSCwoDc2VxGAIgASgDIloKEEJyb2FkY2FzdFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEg0KBXRvcGljGAMgASgJEg8KB3BheWxvYWQYBCABKAwiEwoRQnJvYWRjYXN0UmVzcG9uc2UyhQsKDVlvcmtpZVNlcnZpY2USVwoOQWN0aXZhdGVDbGllbnQSIC55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0GiEueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJdChBEZWFjdGl2YXRlQ2xpZW50EiIueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXF1ZXN0GiMueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXNwb25zZSIAElcKDkF0dGFjaERvY3VtZW50EiAueW9ya2llLnYxLkF0dGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoORGV0YWNoRG9jdW1lbnQSIC55b3JraWUudjEuRGV0YWNoRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVzcG9uc2UiABJXCg5SZW1vdmVEb2N1bWVudBIgLnlvcmtpZS52MS5SZW1vdmVEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXNwb25zZSIAEloKD1B1c2hQdWxsQ2hhbmdlcxIhLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXF1ZXN0GiIueW9ya2llLnYxLlB1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlIgASVgoNV2F0Y2hEb2N1bWVudBIfLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVxdWVzdBogLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UiADABElcKDkNyZWF0ZVJldmlzaW9uEiAueW9ya2llLnYxLkNyZWF0ZVJldmlzaW9uUmVxdWVzdBohLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlc3BvbnNlIgASTgoLR2V0UmV2aXNpb24SHS55b3JraWUudjEuR2V0UmV2aXNpb25SZXF1ZXN0Gh4ueW9ya2llLnYxLkdldFJldmlzaW9uUmVzcG9uc2UiABJUCg1MaXN0UmV2aXNpb25zEh8ueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXF1ZXN0GiAueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXNwb25zZSIAEloKD1Jlc3RvcmVSZXZpc2lvbhIhLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXF1ZXN0GiIueW9ya2llLnYxLlJlc3RvcmVSZXZpc2lvblJlc3BvbnNlIgASVAoNQXR0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVzcG9uc2UiABJUCg1EZXRhY2hDaGFubmVsEh8ueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXF1ZXN0GiAueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXNwb25zZSIAElcKDlJlZnJlc2hDaGFubmVsEiAueW9ya2llLnYxLlJlZnJlc2hDaGFubmVsUmVxdWVzdBohLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlc3BvbnNlIgASUwoMV2F0Y2hDaGFubmVsEh4ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlcXVlc3QaHy55b3JraWUudjEuV2F0Y2hDaGFubmVsUmVzcG9uc2UiADABEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[Pt]),0),vm=It(uo("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[wu]),0);var ge=(f=>(f.Ok="ok",f.ErrClientNotActivated="ErrClientNotActivated",f.ErrClientNotFound="ErrClientNotFound",f.ErrUnimplemented="ErrUnimplemented",f.ErrInvalidType="ErrInvalidType",f.ErrDummy="ErrDummy",f.ErrNotAttached="ErrNotAttached",f.ErrNotDetached="ErrNotDetached",f.ErrDocumentRemoved="ErrDocumentRemoved",f.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",f.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",f.ErrInvalidObjectKey="ErrInvalidObjectKey",f.ErrInvalidArgument="ErrInvalidArgument",f.ErrNotInitialized="ErrNotInitialized",f.ErrNotReady="ErrNotReady",f.ErrRefused="ErrRefused",f.ErrContextNotProvided="ErrContextNotProvided",f.ErrPermissionDenied="ErrPermissionDenied",f.ErrUnauthenticated="ErrUnauthenticated",f.ErrTooManySubscribers="ErrTooManySubscribers",f.ErrTooManyAttachments="ErrTooManyAttachments",f))(ge||{});class be extends Error{constructor(l,y){super(y);q(this,"name","YorkieError");q(this,"stack");this.code=l,this.message=y,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var Wi=(f=>(f.Put="put",f.Clear="clear",f))(Wi||{});const Gh="000000000000000000000000",Yi=24;class Kr{constructor(i,l,y){q(this,"lamport");q(this,"delimiter");q(this,"actorID");this.lamport=i,this.delimiter=l,this.actorID=y}static of(i,l,y){return new Kr(i,l,y)}static fromStruct(i){return Kr.of(BigInt(i.lamport),i.delimiter,i.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(i){return new Kr(this.lamport,this.delimiter,i)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(i){return this.compare(i)>0}equals(i){return this.compare(i)===0}compare(i){if(this.lamport>i.lamport)return 1;if(i.lamport>this.lamport)return-1;const l=this.actorID.localeCompare(i.actorID);return l!==0?l:this.delimiter>i.delimiter?1:i.delimiter>this.delimiter?-1:0}}const $h=0n,xm=0,Hh=9223372036854775807n,Wa=new Kr($h,xm,Gh);function qi(f){return f.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(i){switch(i){case'"':case"\\":return"\\"+i;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return i}})}class Rf{constructor(i){q(this,"createdAt");q(this,"movedAt");q(this,"removedAt");this.createdAt=i}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(i){this.createdAt=i}setMovedAt(i){return!this.movedAt||i&&i.after(this.movedAt)?(this.movedAt=i,!0):!1}setRemovedAt(i){this.removedAt=i}remove(i){return i&&i.after(this.createdAt)&&(!this.removedAt||i.after(this.removedAt))?(this.removedAt=i,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let i=0;return this.getCreatedAt()&&(i+=Yi),this.getMovedAt()&&(i+=Yi),this.getRemovedAt()&&(i+=Yi),i}}class Wo extends Rf{constructor(i){super(i)}}class Yo{constructor(i,l){q(this,"strKey");q(this,"value");this.strKey=i,this.value=l}static of(i,l){return new Yo(i,l)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(i){return this.value.remove(i)}}class qo{constructor(){q(this,"nodeMapByKey");q(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new qo}set(i,l,y){let E;const N=this.nodeMapByKey.get(i);N&&!N.isRemoved()&&N.remove(y)&&(E=N.getValue());const M=Yo.of(i,l);return this.nodeMapByCreatedAt.set(l.getCreatedAt().toIDString(),M),(!N||y.after(N.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(i,M),l.setMovedAt(y)),E}delete(i,l){if(!this.nodeMapByCreatedAt.has(i.toIDString()))throw new be(ge.ErrInvalidArgument,`fail to find ${i.toIDString()}`);const y=this.nodeMapByCreatedAt.get(i.toIDString());return y.remove(l),y.getValue()}subPathOf(i){const l=this.nodeMapByCreatedAt.get(i.toIDString());if(l)return l.getStrKey()}purge(i){const l=this.nodeMapByCreatedAt.get(i.getCreatedAt().toIDString());if(!l)throw new be(ge.ErrInvalidArgument,`fail to find ${i.getCreatedAt().toIDString()}`);const y=this.nodeMapByKey.get(l.getStrKey());l===y&&this.nodeMapByKey.delete(y.getStrKey()),this.nodeMapByCreatedAt.delete(l.getValue().getCreatedAt().toIDString())}deleteByKey(i,l){const y=this.nodeMapByKey.get(i);if(y&&y.remove(l))return y.getValue()}has(i){const l=this.nodeMapByKey.get(i);return l?!l.isRemoved():!1}getByID(i){return this.nodeMapByCreatedAt.get(i.toIDString())}get(i){const l=this.nodeMapByKey.get(i);if(!(!l||l.isRemoved()))return l}deepcopy(){const i=qo.create();for(const[,l]of this.nodeMapByCreatedAt)i.nodeMapByCreatedAt.set(l.getValue().getCreatedAt().toIDString(),Yo.of(l.getStrKey(),l.getValue().deepcopy()));for(const[l,y]of this.nodeMapByKey)i.nodeMapByKey.set(l,i.nodeMapByCreatedAt.get(y.getValue().getCreatedAt().toIDString()));return i}*[Symbol.iterator](){for(const[,i]of this.nodeMapByCreatedAt)yield i}}class mr extends Wo{constructor(l,y){super(l);q(this,"memberNodes");this.memberNodes=y}static create(l,y){if(!y)return new mr(l,qo.create());const E=qo.create();for(const[N,M]of Object.entries(y))E.set(N,M.deepcopy(),M.getCreatedAt());return new mr(l,E)}subPathOf(l){return this.memberNodes.subPathOf(l)}purge(l){this.memberNodes.purge(l)}set(l,y,E){return this.memberNodes.set(l,y,E)}delete(l,y){return this.memberNodes.delete(l,y)}deleteByKey(l,y){return this.memberNodes.deleteByKey(l,y)}get(l){const y=this.memberNodes.get(l);return y==null?void 0:y.getValue()}getByID(l){const y=this.memberNodes.getByID(l);return y==null?void 0:y.getValue()}has(l){return this.memberNodes.has(l)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const l=[];for(const[y,E]of this)l.push(`"${qi(y)}":${E.toJSON()}`);return`{${l.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const l={};for(const[y,E]of this){const{createdAt:N,value:M,type:V}=E.toJSForTest();l[y]={key:y,createdAt:N,value:M,type:V}}return{createdAt:this.getCreatedAt().toTestString(),value:l,type:"YORKIE_OBJECT"}}getKeys(){const l=Array();for(const[y]of this)l.push(y);return l}toSortedJSON(){var E;const l=new Set;for(const[N]of this)l.add(N);const y=[];for(const N of Array.from(l).sort()){const M=(E=this.memberNodes.get(N))==null?void 0:E.getValue();y.push(`"${qi(N)}":${M.toSortedJSON()}`)}return`{${y.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const l=mr.create(this.getCreatedAt());return l.memberNodes=this.memberNodes.deepcopy(),l.setRemovedAt(this.getRemovedAt()),l.setMovedAt(this.getMovedAt()),l}getDescendants(l){for(const y of this.memberNodes){const E=y.getValue();if(l(E,this))return;E instanceof Wo&&E.getDescendants(l)}}*[Symbol.iterator](){for(const l of this.memberNodes)l.isRemoved()||(yield[l.getStrKey(),l.getValue()])}}var An=(f=>(f.Local="local",f.Remote="remote",f.UndoRedo="undoredo",f))(An||{});class Mr{constructor(i,l){q(this,"parentCreatedAt");q(this,"executedAt");this.parentCreatedAt=i,this.executedAt=l}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new be(ge.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(i){this.executedAt&&(this.executedAt=this.executedAt.setActor(i))}setExecutedAt(i){this.executedAt=i}}class bm{constructor(i){q(this,"value");q(this,"left");q(this,"right");q(this,"parent");q(this,"weight");this.value=i,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(i){this.left=i}setRight(i){this.right=i}setParent(i){this.parent=i}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(i){this.weight+=i}initWeight(){this.weight=this.getLength()}}class $u{constructor(i){q(this,"root");this.root=i}get length(){return this.root?this.root.getWeight():0}findForText(i){if(!this.root||i<0)return[void 0,0];let l=this.root;for(;;)if(l.hasLeft()&&i<=l.getLeftWeight())l=l.getLeft();else if(l.hasRight()&&l.getLeftWeight()+l.getLength()<i)i-=l.getLeftWeight()+l.getLength(),l=l.getRight();else{i-=l.getLeftWeight();break}if(i>l.getLength())throw new be(ge.ErrInvalidArgument,`out of index range: pos: ${i} > node.length: ${l.getLength()}`);return this.splayNode(l),[l,i]}findForArray(i){if(!this.root)return;if(i<0||i>=this.length)throw new be(ge.ErrInvalidArgument,`out of index range: idx: ${i}, length: ${this.length}`);let l=this.root;for(;;)if(l.hasLeft()&&i<l.getLeftWeight())l=l.getLeft();else if(l.hasRight()&&l.getLeftWeight()+l.getLength()<=i)i-=l.getLeftWeight()+l.getLength(),l=l.getRight();else break;return this.splayNode(l),l}indexOf(i){return!i||i!==this.root&&!i.hasLinks()?-1:(this.splayNode(i),this.root.getLeftWeight())}getRoot(){return this.root}insert(i){return this.insertAfter(this.root,i)}insertAfter(i,l){return i?(this.splayNode(i),this.root=l,l.setRight(i.getRight()),i.hasRight()&&i.getRight().setParent(l),l.setLeft(i),i.setParent(l),i.setRight(),this.updateWeight(i),this.updateWeight(l),l):(this.root=l,l)}updateWeight(i){i.initWeight(),i.hasLeft()&&i.increaseWeight(i.getLeftWeight()),i.hasRight()&&i.increaseWeight(i.getRightWeight())}updateTreeWeight(i){for(;i;)this.updateWeight(i),i=i.getParent()}splayNode(i){if(i)for(;;)if(this.isLeftChild(i.getParent())&&this.isRightChild(i))this.rotateLeft(i),this.rotateRight(i);else if(this.isRightChild(i.getParent())&&this.isLeftChild(i))this.rotateRight(i),this.rotateLeft(i);else if(this.isLeftChild(i.getParent())&&this.isLeftChild(i))this.rotateRight(i.getParent()),this.rotateRight(i);else if(this.isRightChild(i.getParent())&&this.isRightChild(i))this.rotateLeft(i.getParent()),this.rotateLeft(i);else{this.isLeftChild(i)?this.rotateRight(i):this.isRightChild(i)&&this.rotateLeft(i),this.updateWeight(i);return}}delete(i){this.splayNode(i);const l=new $u(i.getLeft());l.root&&l.root.setParent();const y=new $u(i.getRight());if(y.root&&y.root.setParent(),l.root){const E=l.getRightmost();l.splayNode(E),l.root.setRight(y.root),y.root&&y.root.setParent(l.root),this.root=l.root}else this.root=y.root;i.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(i,l){if(!l){this.splayNode(i),this.cutOffRight(i);return}this.splayNode(i),this.splayNode(l),l.getLeft()!=i&&this.rotateRight(i),this.cutOffRight(i)}cutOffRight(i){const l=[];this.traversePostorder(i.getRight(),l);for(const y of l)y.initWeight();this.updateTreeWeight(i)}toTestString(){const i=[];return this.traverseInorder(this.root,i),i.map(l=>`[${l.getWeight()},${l.getLength()}]${l.getValue()||""}`).join("")}checkWeight(){const i=[];this.traverseInorder(this.root,i);for(const l of i)if(l.getWeight()!=l.getLength()+l.getLeftWeight()+l.getRightWeight())return!1;return!0}getRightmost(){let i=this.root;for(;i.hasRight();)i=i.getRight();return i}traverseInorder(i,l){i&&(this.traverseInorder(i.getLeft(),l),l.push(i),this.traverseInorder(i.getRight(),l))}traversePostorder(i,l){i&&(this.traversePostorder(i.getLeft(),l),this.traversePostorder(i.getRight(),l),l.push(i))}rotateLeft(i){const l=i.getParent();l.hasParent()?l===l.getParent().getLeft()?l.getParent().setLeft(i):l.getParent().setRight(i):this.root=i,i.setParent(l.getParent()),l.setRight(i.getLeft()),l.hasRight()&&l.getRight().setParent(l),i.setLeft(l),i.getLeft().setParent(i),this.updateWeight(l),this.updateWeight(i)}rotateRight(i){const l=i.getParent();l.hasParent()?l===l.getParent().getLeft()?l.getParent().setLeft(i):l.getParent().setRight(i):this.root=i,i.setParent(l.getParent()),l.setLeft(i.getRight()),l.hasLeft()&&l.getLeft().setParent(l),i.setRight(l),i.getRight().setParent(i),this.updateWeight(l),this.updateWeight(i)}isLeftChild(i){return i&&i.hasParent()?i.getParent().getLeft()===i:!1}isRightChild(i){return i&&i.hasParent()?i.getParent().getRight()===i:!1}}var di=null;try{di=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ut(f,i,l){this.low=f|0,this.high=i|0,this.unsigned=!!l}Ut.prototype.__isLong__,Object.defineProperty(Ut.prototype,"__isLong__",{value:!0});function yr(f){return(f&&f.__isLong__)===!0}function Sm(f){var i=Math.clz32(f&-f);return f?31-i:i}Ut.isLong=yr;var Wh={},Em={};function Gs(f,i){var l,y,E;return i?(f>>>=0,(E=0<=f&&f<256)&&(y=Em[f],y)?y:(l=qt(f,0,!0),E&&(Em[f]=l),l)):(f|=0,(E=-128<=f&&f<128)&&(y=Wh[f],y)?y:(l=qt(f,f<0?-1:0,!1),E&&(Wh[f]=l),l))}Ut.fromInt=Gs;function Xr(f,i){if(isNaN(f))return i?fo:Ki;if(i){if(f<0)return fo;if(f>=wm)return Tm}else{if(f<=-9223372036854776e3)return vr;if(f+1>=qv)return Rm}return f<0?Xr(-f,i).neg():qt(f%$s|0,f/$s|0,i)}Ut.fromNumber=Xr;function qt(f,i,l){return new Ut(f,i,l)}Ut.fromBits=qt;var Tf=Math.pow;function Am(f,i,l){if(f.length===0)throw Error("empty string");if(typeof i=="number"?(l=i,i=!1):i=!!i,f==="NaN"||f==="Infinity"||f==="+Infinity"||f==="-Infinity")return i?fo:Ki;if(l=l||10,l<2||36<l)throw RangeError("radix");var y;if((y=f.indexOf("-"))>0)throw Error("interior hyphen");if(y===0)return Am(f.substring(1),i,l).neg();for(var E=Xr(Tf(l,8)),N=Ki,M=0;M<f.length;M+=8){var V=Math.min(8,f.length-M),Y=parseInt(f.substring(M,M+V),l);if(V<8){var ee=Xr(Tf(l,V));N=N.mul(ee).add(Xr(Y))}else N=N.mul(E),N=N.add(Xr(Y))}return N.unsigned=i,N}Ut.fromString=Am;function Zr(f,i){return typeof f=="number"?Xr(f,i):typeof f=="string"?Am(f,i):qt(f.low,f.high,typeof i=="boolean"?i:f.unsigned)}Ut.fromValue=Zr;var Cm=65536,Yv=1<<24,$s=Cm*Cm,wm=$s*$s,qv=wm/2,Kv=Gs(Yv),Ki=Gs(0);Ut.ZERO=Ki;var fo=Gs(0,!0);Ut.UZERO=fo;var ho=Gs(1);Ut.ONE=ho;var Yh=Gs(1,!0);Ut.UONE=Yh;var Hu=Gs(-1);Ut.NEG_ONE=Hu;var Rm=qt(-1,2147483647,!1);Ut.MAX_VALUE=Rm;var Tm=qt(-1,-1,!0);Ut.MAX_UNSIGNED_VALUE=Tm;var vr=qt(0,-2147483648,!1);Ut.MIN_VALUE=vr;var Ke=Ut.prototype;Ke.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ke.toNumber=function(){return this.unsigned?(this.high>>>0)*$s+(this.low>>>0):this.high*$s+(this.low>>>0)},Ke.toString=function(i){if(i=i||10,i<2||36<i)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(vr)){var l=Xr(i),y=this.div(l),E=y.mul(l).sub(this);return y.toString(i)+E.toInt().toString(i)}else return"-"+this.neg().toString(i);for(var N=Xr(Tf(i,6),this.unsigned),M=this,V="";;){var Y=M.div(N),ee=M.sub(Y.mul(N)).toInt()>>>0,ue=ee.toString(i);if(M=Y,M.isZero())return ue+V;for(;ue.length<6;)ue="0"+ue;V=""+ue+V}},Ke.getHighBits=function(){return this.high},Ke.getHighBitsUnsigned=function(){return this.high>>>0},Ke.getLowBits=function(){return this.low},Ke.getLowBitsUnsigned=function(){return this.low>>>0},Ke.getNumBitsAbs=function(){if(this.isNegative())return this.eq(vr)?64:this.neg().getNumBitsAbs();for(var i=this.high!=0?this.high:this.low,l=31;l>0&&(i&1<<l)==0;l--);return this.high!=0?l+33:l+1},Ke.isSafeInteger=function(){var i=this.high>>21;return i?this.unsigned?!1:i===-1&&!(this.low===0&&this.high===-2097152):!0},Ke.isZero=function(){return this.high===0&&this.low===0},Ke.eqz=Ke.isZero,Ke.isNegative=function(){return!this.unsigned&&this.high<0},Ke.isPositive=function(){return this.unsigned||this.high>=0},Ke.isOdd=function(){return(this.low&1)===1},Ke.isEven=function(){return(this.low&1)===0},Ke.equals=function(i){return yr(i)||(i=Zr(i)),this.unsigned!==i.unsigned&&this.high>>>31===1&&i.high>>>31===1?!1:this.high===i.high&&this.low===i.low},Ke.eq=Ke.equals,Ke.notEquals=function(i){return!this.eq(i)},Ke.neq=Ke.notEquals,Ke.ne=Ke.notEquals,Ke.lessThan=function(i){return this.comp(i)<0},Ke.lt=Ke.lessThan,Ke.lessThanOrEqual=function(i){return this.comp(i)<=0},Ke.lte=Ke.lessThanOrEqual,Ke.le=Ke.lessThanOrEqual,Ke.greaterThan=function(i){return this.comp(i)>0},Ke.gt=Ke.greaterThan,Ke.greaterThanOrEqual=function(i){return this.comp(i)>=0},Ke.gte=Ke.greaterThanOrEqual,Ke.ge=Ke.greaterThanOrEqual,Ke.compare=function(i){if(yr(i)||(i=Zr(i)),this.eq(i))return 0;var l=this.isNegative(),y=i.isNegative();return l&&!y?-1:!l&&y?1:this.unsigned?i.high>>>0>this.high>>>0||i.high===this.high&&i.low>>>0>this.low>>>0?-1:1:this.sub(i).isNegative()?-1:1},Ke.comp=Ke.compare,Ke.negate=function(){return!this.unsigned&&this.eq(vr)?vr:this.not().add(ho)},Ke.neg=Ke.negate,Ke.add=function(i){yr(i)||(i=Zr(i));var l=this.high>>>16,y=this.high&65535,E=this.low>>>16,N=this.low&65535,M=i.high>>>16,V=i.high&65535,Y=i.low>>>16,ee=i.low&65535,ue=0,we=0,ke=0,Re=0;return Re+=N+ee,ke+=Re>>>16,Re&=65535,ke+=E+Y,we+=ke>>>16,ke&=65535,we+=y+V,ue+=we>>>16,we&=65535,ue+=l+M,ue&=65535,qt(ke<<16|Re,ue<<16|we,this.unsigned)},Ke.subtract=function(i){return yr(i)||(i=Zr(i)),this.add(i.neg())},Ke.sub=Ke.subtract,Ke.multiply=function(i){if(this.isZero())return this;if(yr(i)||(i=Zr(i)),di){var l=di.mul(this.low,this.high,i.low,i.high);return qt(l,di.get_high(),this.unsigned)}if(i.isZero())return this.unsigned?fo:Ki;if(this.eq(vr))return i.isOdd()?vr:Ki;if(i.eq(vr))return this.isOdd()?vr:Ki;if(this.isNegative())return i.isNegative()?this.neg().mul(i.neg()):this.neg().mul(i).neg();if(i.isNegative())return this.mul(i.neg()).neg();if(this.lt(Kv)&&i.lt(Kv))return Xr(this.toNumber()*i.toNumber(),this.unsigned);var y=this.high>>>16,E=this.high&65535,N=this.low>>>16,M=this.low&65535,V=i.high>>>16,Y=i.high&65535,ee=i.low>>>16,ue=i.low&65535,we=0,ke=0,Re=0,We=0;return We+=M*ue,Re+=We>>>16,We&=65535,Re+=N*ue,ke+=Re>>>16,Re&=65535,Re+=M*ee,ke+=Re>>>16,Re&=65535,ke+=E*ue,we+=ke>>>16,ke&=65535,ke+=N*ee,we+=ke>>>16,ke&=65535,ke+=M*Y,we+=ke>>>16,ke&=65535,we+=y*ue+E*ee+N*Y+M*V,we&=65535,qt(Re<<16|We,we<<16|ke,this.unsigned)},Ke.mul=Ke.multiply,Ke.divide=function(i){if(yr(i)||(i=Zr(i)),i.isZero())throw Error("division by zero");if(di){if(!this.unsigned&&this.high===-2147483648&&i.low===-1&&i.high===-1)return this;var l=(this.unsigned?di.div_u:di.div_s)(this.low,this.high,i.low,i.high);return qt(l,di.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?fo:Ki;var y,E,N;if(this.unsigned){if(i.unsigned||(i=i.toUnsigned()),i.gt(this))return fo;if(i.gt(this.shru(1)))return Yh;N=fo}else{if(this.eq(vr)){if(i.eq(ho)||i.eq(Hu))return vr;if(i.eq(vr))return ho;var M=this.shr(1);return y=M.div(i).shl(1),y.eq(Ki)?i.isNegative()?ho:Hu:(E=this.sub(i.mul(y)),N=y.add(E.div(i)),N)}else if(i.eq(vr))return this.unsigned?fo:Ki;if(this.isNegative())return i.isNegative()?this.neg().div(i.neg()):this.neg().div(i).neg();if(i.isNegative())return this.div(i.neg()).neg();N=Ki}for(E=this;E.gte(i);){y=Math.max(1,Math.floor(E.toNumber()/i.toNumber()));for(var V=Math.ceil(Math.log(y)/Math.LN2),Y=V<=48?1:Tf(2,V-48),ee=Xr(y),ue=ee.mul(i);ue.isNegative()||ue.gt(E);)y-=Y,ee=Xr(y,this.unsigned),ue=ee.mul(i);ee.isZero()&&(ee=ho),N=N.add(ee),E=E.sub(ue)}return N},Ke.div=Ke.divide,Ke.modulo=function(i){if(yr(i)||(i=Zr(i)),di){var l=(this.unsigned?di.rem_u:di.rem_s)(this.low,this.high,i.low,i.high);return qt(l,di.get_high(),this.unsigned)}return this.sub(this.div(i).mul(i))},Ke.mod=Ke.modulo,Ke.rem=Ke.modulo,Ke.not=function(){return qt(~this.low,~this.high,this.unsigned)},Ke.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Ke.clz=Ke.countLeadingZeros,Ke.countTrailingZeros=function(){return this.low?Sm(this.low):Sm(this.high)+32},Ke.ctz=Ke.countTrailingZeros,Ke.and=function(i){return yr(i)||(i=Zr(i)),qt(this.low&i.low,this.high&i.high,this.unsigned)},Ke.or=function(i){return yr(i)||(i=Zr(i)),qt(this.low|i.low,this.high|i.high,this.unsigned)},Ke.xor=function(i){return yr(i)||(i=Zr(i)),qt(this.low^i.low,this.high^i.high,this.unsigned)},Ke.shiftLeft=function(i){return yr(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?qt(this.low<<i,this.high<<i|this.low>>>32-i,this.unsigned):qt(0,this.low<<i-32,this.unsigned)},Ke.shl=Ke.shiftLeft,Ke.shiftRight=function(i){return yr(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?qt(this.low>>>i|this.high<<32-i,this.high>>i,this.unsigned):qt(this.high>>i-32,this.high>=0?0:-1,this.unsigned)},Ke.shr=Ke.shiftRight,Ke.shiftRightUnsigned=function(i){return yr(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?qt(this.low>>>i|this.high<<32-i,this.high>>>i,this.unsigned):i===32?qt(this.high,0,this.unsigned):qt(this.high>>>i-32,0,this.unsigned)},Ke.shru=Ke.shiftRightUnsigned,Ke.shr_u=Ke.shiftRightUnsigned,Ke.rotateLeft=function(i){var l;return yr(i)&&(i=i.toInt()),(i&=63)===0?this:i===32?qt(this.high,this.low,this.unsigned):i<32?(l=32-i,qt(this.low<<i|this.high>>>l,this.high<<i|this.low>>>l,this.unsigned)):(i-=32,l=32-i,qt(this.high<<i|this.low>>>l,this.low<<i|this.high>>>l,this.unsigned))},Ke.rotl=Ke.rotateLeft,Ke.rotateRight=function(i){var l;return yr(i)&&(i=i.toInt()),(i&=63)===0?this:i===32?qt(this.high,this.low,this.unsigned):i<32?(l=32-i,qt(this.high<<l|this.low>>>i,this.low<<l|this.high>>>i,this.unsigned)):(i-=32,l=32-i,qt(this.low<<l|this.high>>>i,this.high<<l|this.low>>>i,this.unsigned))},Ke.rotr=Ke.rotateRight,Ke.toSigned=function(){return this.unsigned?qt(this.low,this.high,!1):this},Ke.toUnsigned=function(){return this.unsigned?this:qt(this.low,this.high,!0)},Ke.toBytes=function(i){return i?this.toBytesLE():this.toBytesBE()},Ke.toBytesLE=function(){var i=this.high,l=this.low;return[l&255,l>>>8&255,l>>>16&255,l>>>24,i&255,i>>>8&255,i>>>16&255,i>>>24]},Ke.toBytesBE=function(){var i=this.high,l=this.low;return[i>>>24,i>>>16&255,i>>>8&255,i&255,l>>>24,l>>>16&255,l>>>8&255,l&255]},Ut.fromBytes=function(i,l,y){return y?Ut.fromBytesLE(i,l):Ut.fromBytesBE(i,l)},Ut.fromBytesLE=function(i,l){return new Ut(i[0]|i[1]<<8|i[2]<<16|i[3]<<24,i[4]|i[5]<<8|i[6]<<16|i[7]<<24,l)},Ut.fromBytesBE=function(i,l){return new Ut(i[4]<<24|i[5]<<16|i[6]<<8|i[7],i[0]<<24|i[1]<<16|i[2]<<8|i[3],l)},typeof BigInt=="function"&&(Ut.fromBigInt=function(i,l){var y=Number(BigInt.asIntN(32,i)),E=Number(BigInt.asIntN(32,i>>BigInt(32)));return qt(y,E,l)},Ut.fromValue=function(i,l){return typeof i=="bigint"?Ut.fromBigInt(i,l):Zr(i,l)},Ke.toBigInt=function(){var i=BigInt(this.low>>>0),l=BigInt(this.unsigned?this.high>>>0:this.high);return l<<BigInt(32)|i});var gn=(f=>(f[f.Null=0]="Null",f[f.Boolean=1]="Boolean",f[f.Integer=2]="Integer",f[f.Long=3]="Long",f[f.Double=4]="Double",f[f.String=5]="String",f[f.Bytes=6]="Bytes",f[f.Date=7]="Date",f))(gn||{});class Dn extends Rf{constructor(l,y){super(y);q(this,"valueType");q(this,"value");this.valueType=Dn.getPrimitiveType(l),this.value=l===void 0?null:l}static of(l,y){return new Dn(l,y)}static valueFromBytes(l,y){switch(l){case 0:return null;case 1:return!!y[0];case 2:return y[0]|y[1]<<8|y[2]<<16|y[3]<<24;case 4:{const E=new DataView(y.buffer);return y.forEach(function(N,M){E.setUint8(M,N)}),E.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(y);case 3:return Ut.fromBytesLE(Array.from(y));case 6:return y;case 7:return new Date(Ut.fromBytesLE(Array.from(y),!0).toNumber());default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${l}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${qi(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const l=Dn.of(this.value,this.getCreatedAt());return l.setMovedAt(this.getMovedAt()),l.setRemovedAt(this.getRemovedAt()),l}getType(){return this.valueType}static getPrimitiveType(l){switch(typeof l){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(l)?2:4;case"string":return 5;case"object":if(l===null)return 0;if(l instanceof Ut)return 3;if(l instanceof Uint8Array)return 6;if(l instanceof Date)return 7}}static isSupport(l){return Dn.getPrimitiveType(l)!==void 0}static isInteger(l){return l%1===0}isNumericType(){const l=this.valueType;return l===2||l===3||l===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const l=this.value;return new Uint8Array([l&255,l>>8&255,l>>16&255,l>>24&255])}case 4:{const l=this.value,y=new Uint8Array(8);return new DataView(y.buffer).setFloat64(0,l,!0),y}case 5:return new TextEncoder().encode(this.value);case 3:{const y=this.value.toBytesLE();return Uint8Array.from(y)}case 6:return this.value;case 7:{const l=this.value,y=Ut.fromNumber(l.getTime(),!0).toBytesLE();return Uint8Array.from(y)}default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Ko extends bm{constructor(l){super(l);q(this,"prev");q(this,"next");q(this,"movedFrom");this.value=l}static createAfter(l,y){const E=new Ko(y),N=l.next;return l.next=E,E.prev=l,E.next=N,N&&(N.prev=E),E}remove(l){return this.value.remove(l)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(l){this.movedFrom=l}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Xo{constructor(){q(this,"dummyHead");q(this,"last");q(this,"nodeMapByIndex");q(this,"nodeMapByCreatedAt");const i=Dn.of(0,Wa);i.setRemovedAt(Wa),this.dummyHead=new Ko(i),this.last=this.dummyHead,this.nodeMapByIndex=new $u,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Xo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(i,l){let y=this.nodeMapByCreatedAt.get(i.toIDString());if(!y)throw new be(ge.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);for(;y.getValue().getMovedAt()&&y.getValue().getMovedAt().after(l)&&y.getMovedFrom();)y=y.getMovedFrom();for(;y.getNext()&&y.getNext().getPositionedAt().after(l);)y=y.getNext();return y}release(i){this.last===i&&(this.last=i.getPrev()),i.release(),this.nodeMapByIndex.delete(i),this.nodeMapByCreatedAt.delete(i.getValue().getCreatedAt().toIDString())}insertAfter(i,l,y=l.getCreatedAt()){const E=this.findNextBeforeExecutedAt(i,y),N=Ko.createAfter(E,l);return E===this.last&&(this.last=N),this.nodeMapByIndex.insertAfter(E,N),this.nodeMapByCreatedAt.set(N.getCreatedAt().toIDString(),N),N}moveAfter(i,l,y){let E=this.nodeMapByCreatedAt.get(i.toIDString());if(!E)throw new be(ge.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);let N=this.nodeMapByCreatedAt.get(l.toIDString());if(!N)throw new be(ge.ErrInvalidArgument,`cant find the given node: ${l.toIDString()}`);if(E!==N&&y.after(N.getPositionedAt())){const M=N.getPrev();let V=N.getNext();for(this.release(N),N=this.insertAfter(E.getCreatedAt(),N.getValue(),y),N.getValue().setMovedAt(y),N.setMovedFrom(M);V&&V.getPositionedAt().after(y);)E=N,N=V,V=N.getNext(),this.release(N),N=this.insertAfter(E.getCreatedAt(),N.getValue(),y),N.getValue().setMovedAt(y),N.setMovedFrom(M)}}insert(i){this.insertAfter(this.last.getCreatedAt(),i)}getByID(i){return this.nodeMapByCreatedAt.get(i.toIDString())}subPathOf(i){const l=this.nodeMapByCreatedAt.get(i.toIDString());if(l)return String(this.nodeMapByIndex.indexOf(l))}purge(i){const l=this.nodeMapByCreatedAt.get(i.getCreatedAt().toIDString());if(!l)throw new be(ge.ErrInvalidArgument,`fail to find the given createdAt: ${i.getCreatedAt().toIDString()}`);this.release(l)}getByIndex(i){return i>=this.length?void 0:this.nodeMapByIndex.findForArray(i)}getPrevCreatedAt(i){let l=this.nodeMapByCreatedAt.get(i.toIDString());do l=l.getPrev();while(this.dummyHead!==l&&l.isRemoved());return l.getValue().getCreatedAt()}delete(i,l){const y=this.nodeMapByCreatedAt.get(i.toIDString()),E=y.isRemoved();return y.remove(l)&&!E&&this.nodeMapByIndex.splayNode(y),y.getValue()}set(i,l,y){const E=this.nodeMapByCreatedAt.get(i.toIDString());if(!E)throw new be(ge.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);return this.insertAfter(E.getCreatedAt(),l,y),this.delete(i,y)}deleteByIndex(i,l){const y=this.getByIndex(i);if(y)return y.remove(l)&&this.nodeMapByIndex.splayNode(y),y.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const i=[];for(const l of this){const y=`${l.getCreatedAt().toIDString()}:${l.getValue().toJSON()}`;l.isRemoved()?i.push(`{${y}}`):i.push(`[${y}]`)}return i.join("")}*[Symbol.iterator](){let i=this.dummyHead.getNext();for(;i;)yield i,i=i.getNext()}}class nr extends Wo{constructor(l,y){super(l);q(this,"elements");this.elements=y}static create(l,y){if(!y)return new nr(l,Xo.create());const E=Xo.create();for(const N of y)E.insertAfter(E.getLastCreatedAt(),N.deepcopy());return new nr(l,E)}subPathOf(l){return this.elements.subPathOf(l)}purge(l){this.elements.purge(l)}insertAfter(l,y,E){this.elements.insertAfter(l,y,E)}moveAfter(l,y,E){this.elements.moveAfter(l,y,E)}get(l){const y=this.elements.getByIndex(l);return y==null?void 0:y.getValue()}getByID(l){const y=this.elements.getByID(l);return y==null?void 0:y.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(l){return this.elements.getPrevCreatedAt(l)}delete(l,y){return this.elements.delete(l,y)}deleteByIndex(l,y){return this.elements.deleteByIndex(l,y)}set(l,y,E){return this.elements.set(l,y,E)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const l of this.elements)l.isRemoved()||(yield l.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(l){for(const y of this.elements){const E=y.getValue();if(l(E,this))return;E instanceof Wo&&E.getDescendants(l)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const l=[];for(const y of this)l.push(y.toJSON());return`[${l.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const l={};for(let y=0;y<this.length;y++){const{createdAt:E,value:N,type:M}=this.get(y).toJSForTest();l[y]={key:String(y),createdAt:E,value:N,type:M}}return{createdAt:this.getCreatedAt().toTestString(),value:l,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const l=nr.create(this.getCreatedAt());for(const y of this.elements)l.elements.insertAfter(l.getLastCreatedAt(),y.getValue().deepcopy());return l.setRemovedAt(this.getRemovedAt()),l.setMovedAt(this.getMovedAt()),l}}class Ti extends Mr{constructor(l,y,E,N){super(l,N);q(this,"prevCreatedAt");q(this,"value");this.prevCreatedAt=y,this.value=E}static create(l,y,E,N){return new Ti(l,y,E,N)}execute(l){const y=l.findByCreatedAt(this.getParentCreatedAt());if(!y)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(y instanceof nr))throw new be(ge.ErrInvalidArgument,"fail to execute, only array can execute add");const E=y,N=this.value.deepcopy();return E.insertAfter(this.prevCreatedAt,N,this.getExecutedAt()),l.registerElement(N,E),{opInfos:[{type:"add",path:l.createPath(this.getParentCreatedAt()),index:Number(E.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return hi.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(l){this.prevCreatedAt=l}}class hi extends Mr{constructor(l,y,E){super(l,E);q(this,"createdAt");this.createdAt=y}static create(l,y,E){return new hi(l,y,E)}execute(l,y){var ee;const E=l.findByCreatedAt(this.getParentCreatedAt());if(!E)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(E instanceof Wo))throw new be(ge.ErrInvalidArgument,`only object and array can execute remove: ${E}`);if(y===An.UndoRedo){let ue=E.getByID(this.createdAt);for(;ue;){if(ue.getRemovedAt())return;ue=(ee=l.findElementPairByCreatedAt(ue.getCreatedAt()))==null?void 0:ee.parent}}const N=E.subPathOf(this.createdAt),M=this.toReverseOperation(E),V=E.delete(this.createdAt,this.getExecutedAt());return l.registerRemovedElement(V),{opInfos:E instanceof nr?[{type:"remove",path:l.createPath(this.getParentCreatedAt()),index:Number(N)}]:[{type:"remove",path:l.createPath(this.getParentCreatedAt()),key:N}],reverseOp:M}}toReverseOperation(l){if(l instanceof nr){const y=l.getByID(this.createdAt);if(y!==void 0){const E=l.getPrevCreatedAt(this.createdAt);return Ti.create(this.getParentCreatedAt(),E,y.deepcopy())}}if(l instanceof mr){const y=l.subPathOf(this.createdAt);if(y!==void 0){const E=l.get(y);if(E!==void 0)return Hs.create(y,E.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(l){this.createdAt=l}}class Hs extends Mr{constructor(l,y,E,N){super(E,N);q(this,"key");q(this,"value");this.key=l,this.value=y}static create(l,y,E,N){return new Hs(l,y,E,N)}execute(l,y){var ee;const E=l.findByCreatedAt(this.getParentCreatedAt());if(!E)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(E instanceof mr))throw new be(ge.ErrInvalidArgument,"fail to execute, only object can execute set");if(y===An.UndoRedo){let ue=E;for(;ue;){if(ue.getRemovedAt())return;ue=(ee=l.findElementPairByCreatedAt(ue.getCreatedAt()))==null?void 0:ee.parent}}const N=E.get(this.key),M=this.toReverseOperation(N),V=this.value.deepcopy(),Y=E.set(this.key,V,this.getExecutedAt());return y===An.UndoRedo&&l.findByCreatedAt(V.getCreatedAt())&&l.deregisterElement(V),l.registerElement(V,E),Y&&l.registerRemovedElement(Y),{opInfos:[{type:"set",path:l.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:M}}toReverseOperation(l){let y=hi.create(this.getParentCreatedAt(),this.value.getCreatedAt());return l!==void 0&&!l.isRemoved()&&(y=Hs.create(this.key,l.deepcopy(),this.getParentCreatedAt())),y}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Ni extends Mr{constructor(l,y,E,N){super(l,N);q(this,"prevCreatedAt");q(this,"createdAt");this.prevCreatedAt=y,this.createdAt=E}static create(l,y,E,N){return new Ni(l,y,E,N)}execute(l){const y=l.findByCreatedAt(this.getParentCreatedAt());if(!y)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(y instanceof nr))throw new be(ge.ErrInvalidArgument,"fail to execute, only array can execute move");const E=y,N=this.toReverseOperation(E),M=Number(E.subPathOf(this.createdAt));E.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const V=Number(E.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:l.createPath(this.getParentCreatedAt()),index:V,previousIndex:M}],reverseOp:N}}toReverseOperation(l){const y=l.getPrevCreatedAt(this.createdAt);return Ni.create(this.getParentCreatedAt(),y,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(l){this.prevCreatedAt=l}setCreatedAt(l){this.createdAt=l}}const Wu=(f,i)=>f===i?0:f<i?-1:1;class Xv{constructor(i,l,y){q(this,"key");q(this,"value");q(this,"left");q(this,"right");q(this,"isRed");this.key=i,this.value=l,this.isRed=y}}class _i{constructor(i){q(this,"stack");this.stack=[],this.traverseInorder(i)}traverseInorder(i){i&&(this.traverseInorder(i.left),this.stack.push({key:i.key,value:i.value}),this.traverseInorder(i.right))}}class Xi{constructor(i){q(this,"root");q(this,"comparator");q(this,"counter");this.comparator=typeof i<"u"?i:Wu,this.counter=0}put(i,l){return this.root=this.putInternal(i,l,this.root),this.root.isRed=!1,l}get(i){const l=this.getInternal(i,this.root);return l?l.value:void 0}remove(i){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,i),this.root&&(this.root.isRed=!1)}getIterator(){return new _i(this.root)}values(){const i=[];for(const l of this.getIterator().stack)i.push(l.value);return i}floorEntry(i){let l=this.root,y;for(;l;){const E=this.comparator(i,l.key);if(E===0)return l;E<0?l=l.left:(y=l,l=l.right)}return y}lastEntry(){if(!this.root)return this.root;let i=this.root;for(;i.right;)i=i.right;return i}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(i,l){for(;l;){const y=this.comparator(i,l.key);if(y===0)return l;y<0?l=l.left:y>0&&(l=l.right)}}putInternal(i,l,y){if(!y)return this.counter+=1,new Xv(i,l,!0);const E=this.comparator(i,y.key);return E<0?y.left=this.putInternal(i,l,y.left):E>0?y.right=this.putInternal(i,l,y.right):y.value=l,this.isRed(y.right)&&!this.isRed(y.left)&&(y=this.rotateLeft(y)),this.isRed(y.left)&&this.isRed(y.left.left)&&(y=this.rotateRight(y)),this.isRed(y.left)&&this.isRed(y.right)&&this.flipColors(y),y}removeInternal(i,l){if(this.comparator(l,i.key)<0)!this.isRed(i.left)&&!this.isRed(i.left.left)&&(i=this.moveRedLeft(i)),i.left=this.removeInternal(i.left,l);else{if(this.isRed(i.left)&&(i=this.rotateRight(i)),this.comparator(l,i.key)===0&&!i.right){this.counter-=1;return}if(!this.isRed(i.right)&&!this.isRed(i.right.left)&&(i=this.moveRedRight(i)),this.comparator(l,i.key)===0){this.counter-=1;const y=this.min(i.right);i.value=y.value,i.key=y.key,i.right=this.removeMin(i.right)}else i.right=this.removeInternal(i.right,l)}return this.fixUp(i)}min(i){return i.left?this.min(i.left):i}removeMin(i){if(i.left)return!this.isRed(i.left)&&!this.isRed(i.left.left)&&(i=this.moveRedLeft(i)),i.left=this.removeMin(i.left),this.fixUp(i)}fixUp(i){return this.isRed(i.right)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}moveRedLeft(i){return this.flipColors(i),this.isRed(i.right.left)&&(i.right=this.rotateRight(i.right),i=this.rotateLeft(i),this.flipColors(i)),i}moveRedRight(i){return this.flipColors(i),this.isRed(i.left.left)&&(i=this.rotateRight(i),this.flipColors(i)),i}isRed(i){return i&&i.isRed}rotateLeft(i){const l=i.right;return i.right=l.left,l.left=i,l.isRed=l.left.isRed,l.left.isRed=!0,l}rotateRight(i){const l=i.left;return i.left=l.right,l.right=i,l.isRed=l.right.isRed,l.right.isRed=!0,l}flipColors(i){i.isRed=!i.isRed,i.left.isRed=!i.left.isRed,i.right.isRed=!i.right.isRed}}function Ws(f){return f?Nm(f.live)+Nm(f.gc):0}function Nm(f){return f.data+f.meta}function Nn(f,...i){for(const l of i)f.data+=l.data,f.meta+=l.meta}function Lr(f,i){f.data-=i.data,f.meta-=i.meta}class mn{constructor(i,l){q(this,"createdAt");q(this,"offset");this.createdAt=i,this.offset=l}static of(i,l){return new mn(i,l)}static fromStruct(i){return mn.of(Kr.fromStruct(i.createdAt),i.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(i){return this.createdAt.compare(i.createdAt)===0&&this.offset===i.offset}hasSameCreatedAt(i){return this.createdAt.compare(i.createdAt)===0}split(i){return new mn(this.createdAt,this.offset+i)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const qh=mn.of(Wa,0);class rr{constructor(i,l){q(this,"id");q(this,"relativeOffset");this.id=i,this.relativeOffset=l}static of(i,l){return new rr(i,l)}static fromStruct(i){const l=mn.fromStruct(i.id);return rr.of(l,i.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return mn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(i){return this.id.equals(i.id)?this.relativeOffset===i.relativeOffset:!1}}class po extends bm{constructor(l,y,E){super(y);q(this,"id");q(this,"removedAt");q(this,"prev");q(this,"next");q(this,"insPrev");q(this,"insNext");this.id=l,this.removedAt=E}static create(l,y){return new po(l,y)}static createComparator(){return(l,y)=>{const E=l.getCreatedAt().compare(y.getCreatedAt());return E!==0?E:l.getOffset()>y.getOffset()?1:l.getOffset()<y.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(l){this.prev=l,l&&(l.next=this)}setNext(l){this.next=l,l&&(l.prev=this)}setInsPrev(l){this.insPrev=l,l&&(l.insNext=this)}setInsNext(l){this.insNext=l,l&&(l.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(l){return new po(this.id.split(l),this.splitValue(l),this.removedAt)}canRemove(l,y,E){return y?!!(!this.removedAt||!E&&(l!=null&&l.after(this.removedAt))):!1}canStyle(l,y){return this.getCreatedAt().getLamport()<=y&&(!this.removedAt||l.after(this.removedAt))}setRemovedAt(l){this.removedAt=l}remove(l){if(!this.removedAt){this.removedAt=l;return}l.after(this.removedAt)&&(this.removedAt=l)}createPosRange(){return[rr.of(this.id,0),rr.of(this.id,this.getLength())]}getDataSize(){const l=this.value.getDataSize();return this.id&&(l.meta+=Yi),this.removedAt&&(l.meta+=Yi),l}deepcopy(){return new po(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(l){const y=this.value;return this.value=y.substring(0,l),y.substring(l,y.length)}toIDString(){return this.id.toIDString()}}class Ya{constructor(){q(this,"head");q(this,"treeByIndex");q(this,"treeByID");this.head=po.create(qh),this.treeByIndex=new $u,this.treeByID=new Xi(po.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Ya}edit(i,l,y,E){const N={data:0,meta:0},[M,V,Y]=this.findNodeWithSplit(i[1],l),[ee,ue,we]=this.findNodeWithSplit(i[0],l);Nn(N,V,ue);const ke=this.findBetween(we,Y),[Re,We]=this.deleteNodes(ke,l,E),He=Y?Y.getID():M.getID();let it=rr.of(He,0);if(y){const Cn=this.posToIndex(ee.createPosRange()[1],!0),Xt=this.insertAfter(ee,po.create(mn.of(l,0),y));Nn(N,Xt.getDataSize()),Re.length&&Re[Re.length-1].from===Cn?Re[Re.length-1].value=y:Re.push({actor:l.getActorID(),from:Cn,to:Cn,value:y}),it=rr.of(Xt.getID(),Xt.getContentLength())}const At=[],en=[];for(const[,Cn]of We)At.push({parent:this,child:Cn}),en.push(Cn.getValue());return[it,At,N,Re,en]}indexToPos(i){const[l,y]=this.treeByIndex.findForText(i),E=l;return rr.of(E.getID(),y)}findIndexesFromRange(i){const[l,y]=i;return[this.posToIndex(l,!1),this.posToIndex(y,!0)]}posToIndex(i,l){const y=i.getAbsoluteID(),E=l?this.findFloorNodePreferToLeft(y):this.findFloorNode(y);if(!E)throw new be(ge.ErrInvalidArgument,`the node of the given id should be found: ${y.toTestString()}`);const N=this.treeByIndex.indexOf(E),M=E.isRemoved()?0:y.getOffset()-E.getID().getOffset();return N+M}findNode(i){return this.findFloorNode(i)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const i=[];for(const l of this)l.isRemoved()||i.push(l.getValue());return i.join("")}*[Symbol.iterator](){let i=this.head.getNext();for(;i;)yield i,i=i.getNext()}getHead(){return this.head}deepcopy(){const i=new Ya;let l=this.head.getNext(),y=i.head,E;for(;l;){if(E=i.insertAfter(y,l.deepcopy()),l.hasInsPrev()){const N=i.findNode(l.getInsPrevID());E.setInsPrev(N)}y=E,l=l.getNext()}return i}normalizePos(i){const l=this.findFloorNode(i.getID());if(!l)throw new be(ge.ErrInvalidArgument,`the node of the given id should be found: ${i.getID().toTestString()}`);let y=i.getRelativeOffset(),E=l,N=l.getPrev();for(;N;)y+=N.getLength(),E=N,N=N.getPrev();return rr.of(E.getID(),y)}refinePos(i){let l=this.findFloorNode(i.getID());if(!l)throw new be(ge.ErrInvalidArgument,`the node of the given id should be found: ${i.getID().toTestString()}`);let y=i.getRelativeOffset(),E=l.getContentLength();for(;y>E;){y-=E;const N=l.getNext();if(!N)return rr.of(l.getID(),E);l=N,E=l.getLength()}return rr.of(l.getID(),y)}toTestString(){const i=[];let l=this.head;for(;l;)l.isRemoved()?i.push(`{${l.toTestString()}}`):i.push(`[${l.toTestString()}]`),l=l.getNext();return i.join("")}insertAfter(i,l){const y=i.getNext();return l.setPrev(i),y&&y.setPrev(l),this.treeByID.put(l.getID(),l),this.treeByIndex.insertAfter(i,l),l}findNodeWithSplit(i,l){const y=i.getAbsoluteID();let E=this.findFloorNodePreferToLeft(y);const N=y.getOffset()-E.getID().getOffset(),[,M]=this.splitNode(E,N);for(;E.hasNext()&&E.getNext().getCreatedAt().after(l);)E=E.getNext();return[E,M,E.getNext()]}findFloorNodePreferToLeft(i){let l=this.findFloorNode(i);if(!l)throw new be(ge.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);if(i.getOffset()>0&&l.getID().getOffset()==i.getOffset()){if(!l.hasInsPrev())return l;l=l.getInsPrev()}return l}findFloorNode(i){const l=this.treeByID.floorEntry(i);if(l&&!(!l.key.equals(i)&&!l.key.hasSameCreatedAt(i)))return l.value}findBetween(i,l){const y=[];let E=i;for(;E&&E!==l;)y.push(E),E=E.getNext();return y}splitNode(i,l){const y={data:0,meta:0};if(l>i.getContentLength())throw new be(ge.ErrInvalidArgument,"offset should be less than or equal to length");if(l===0)return[i,y];if(l===i.getContentLength())return[i.getNext(),y];const E=i.getDataSize(),N=i.split(l);this.treeByIndex.updateWeight(N),this.insertAfter(i,N);const M=i.getInsNext();return M&&M.setInsPrev(N),N.setInsPrev(i),Nn(y,i.getDataSize(),N.getDataSize()),Lr(y,E),[N,y]}deleteNodes(i,l,y){if(!i.length)return[[],new Map];const E=y===void 0||y.size()===0,N=[],M=[],[V,Y]=this.findEdgesOfCandidates(i);M.push(V);for(const we of i){let ke=!1;if(E)ke=!0;else{const We=y==null?void 0:y.get(we.getCreatedAt().getActorID());We&&We>=we.getCreatedAt().getLamport()&&(ke=!0)}let Re=!1;if(we.getRemovedAt()){const We=y==null?void 0:y.get(we.getRemovedAt().getActorID());(E||We&&We>=we.getRemovedAt().getLamport())&&(Re=!0)}we.canRemove(l,ke,Re)?N.push(we):M.push(we)}M.push(Y);const ee=this.makeChanges(M,l),ue=new Map;for(const we of N)ue.set(we.getID().toIDString(),we),we.remove(l);return this.deleteIndexNodes(M),[ee,ue]}findEdgesOfCandidates(i){return[i[0].getPrev(),i[i.length-1].getNext()]}makeChanges(i,l){const y=[];let E,N;for(let M=0;M<i.length-1;M++){const V=i[M],Y=i[M+1];V.getNext()!=Y&&([E]=this.findIndexesFromRange(V.getNext().createPosRange()),Y?[,N]=this.findIndexesFromRange(Y.getPrev().createPosRange()):N=this.treeByIndex.length,E<N&&y.push({actor:l.getActorID(),from:E,to:N}))}return y.reverse()}deleteIndexNodes(i){for(let l=0;l<i.length-1;l++){const y=i[l],E=i[l+1];y.getNext()!=E&&this.treeByIndex.deleteRange(y,E)}}purge(i){this.treeByIndex.delete(i),this.treeByID.remove(i.getID());const l=i.getPrev(),y=i.getNext(),E=i.getInsPrev(),N=i.getInsNext();l&&l.setNext(y),y&&y.setPrev(l),i.setPrev(void 0),i.setNext(void 0),E&&E.setInsNext(N),N&&N.setInsPrev(E),i.setInsPrev(void 0),i.setInsNext(void 0)}}class Zo{constructor(i,l,y,E){q(this,"key");q(this,"value");q(this,"updatedAt");q(this,"_isRemoved");this.key=i,this.value=l,this.updatedAt=y,this._isRemoved=E}static of(i,l,y,E){return new Zo(i,l,y,E)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Yi}}}class Fr{constructor(){q(this,"nodeMapByKey");q(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Fr}getNodeMapByKey(){return this.nodeMapByKey}set(i,l,y){const E=this.nodeMapByKey.get(i);if(E&&E.isRemoved()&&y.after(E.getUpdatedAt())&&(this.numberOfRemovedElement-=1),E===void 0||y.after(E.getUpdatedAt())){const N=Zo.of(i,l,y,!1);return this.nodeMapByKey.set(i,N),E!==void 0&&E.isRemoved()?[E,N]:[void 0,N]}return E.isRemoved()?[E,void 0]:[void 0,void 0]}setInternal(i,l,y,E){const N=Zo.of(i,l,y,E);this.nodeMapByKey.set(i,N),E&&this.numberOfRemovedElement++}remove(i,l){const y=this.nodeMapByKey.get(i),E=[];if(y===void 0||l.after(y.getUpdatedAt())){if(y===void 0){this.numberOfRemovedElement+=1;const V=Zo.of(i,"",l,!0);return this.nodeMapByKey.set(i,V),E.push(V),E}const N=y.isRemoved();N||(this.numberOfRemovedElement+=1),N&&E.push(y);const M=Zo.of(i,y.getValue(),l,!0);return this.nodeMapByKey.set(i,M),E.push(M),E}return E}has(i){if(this.nodeMapByKey.has(i)){const l=this.nodeMapByKey.get(i);return l!==void 0&&!l.isRemoved()}return!1}get(i){if(this.nodeMapByKey.has(i))return this.nodeMapByKey.get(i).getValue()}deepcopy(){const i=new Fr;for(const[,l]of this.nodeMapByKey)i.setInternal(l.getKey(),l.getValue(),l.getUpdatedAt(),l.isRemoved());return i}toJSON(){if(!this.size())return"{}";const i=[];for(const[l,y]of this.nodeMapByKey)y.isRemoved()||i.push(`"${qi(l)}":"${qi(y.getValue())}"`);return`{${i.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const i={};for(const[l,y]of this.nodeMapByKey)y.isRemoved()||(i[l]=y.getValue());return i}*[Symbol.iterator](){for(const[,i]of this.nodeMapByKey)yield i}purge(i){const l=this.nodeMapByKey.get(i.getKey());l==null||l.toIDString()!=i.toIDString()||(this.nodeMapByKey.delete(i.getKey()),this.numberOfRemovedElement--)}}function Jr(f){if(f instanceof Map){const i=Array.from(f);return new Map(JSON.parse(JSON.stringify(i)))}return JSON.parse(JSON.stringify(f))}const _m=f=>f?Object.entries(f).length===0:!0,qa=f=>{const i={};for(const[l,y]of Object.entries(f))i[l]=JSON.stringify(y);return i},go=f=>{const i={};for(const[l,y]of Object.entries(f))i[l]=JSON.parse(y);return i};class Ys{constructor(i){q(this,"attributes");q(this,"content");this.attributes=Fr.create(),this.content=i}static create(i){return new Ys(i)}get length(){return this.content.length}substring(i,l){const y=new Ys(this.content.substring(i,l));return y.attributes=this.attributes.deepcopy(),y}setAttr(i,l,y){return this.attributes.set(i,l,y)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const i={data:0,meta:0};i.data+=this.content.length*2;for(const l of this.attributes){const y=l.getDataSize();i.meta+=y.meta,i.data+=y.data}return i}toJSON(){const i=qi(this.content),l=this.attributes.toObject(),y=[];for(const[E,N]of Object.entries(l)){const M=JSON.parse(N),V=typeof M=="string"?`"${qi(E)}":"${qi(M)}"`:`"${qi(E)}":${String(M)}`;y.push(V)}return y.sort(),y.length===0?`{"val":"${i}"}`:`{"attrs":{${y.join(",")}},"val":"${i}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(i){this.attributes&&i instanceof Zo&&this.attributes.purge(i)}getGCPairs(){const i=[];for(const l of this.attributes)l.getRemovedAt()&&i.push({parent:this,child:l});return i}}class kr extends Rf{constructor(l,y){super(y);q(this,"rgaTreeSplit");this.rgaTreeSplit=l}static create(l,y){return new kr(l,y)}edit(l,y,E,N,M){const V=y?Ys.create(y):void 0;if(V&&N)for(const[We,He]of Object.entries(N))V.setAttr(We,He,E);const[Y,ee,ue,we,ke]=this.rgaTreeSplit.edit(l,E,V,M);return[we.map(We=>({...We,value:We.value?{attributes:go(We.value.getAttributes()),content:We.value.getContent()}:{attributes:void 0,content:""},type:"content"})),ee,ue,[Y,Y],ke]}setStyle(l,y,E,N){const M={data:0,meta:0},[,V,Y]=this.rgaTreeSplit.findNodeWithSplit(l[1],E),[,ee,ue]=this.rgaTreeSplit.findNodeWithSplit(l[0],E);Nn(M,V,ee);const we=[],ke=this.rgaTreeSplit.findBetween(ue,Y),Re=[];for(const He of ke){const it=He.getCreatedAt().getActorID();let At=Hh;N!=null&&(At=N.get(it)?N.get(it):0n),He.canStyle(E,At)&&Re.push(He)}const We=[];for(const He of Re){if(He.isRemoved())continue;const[it,At]=this.rgaTreeSplit.findIndexesFromRange(He.createPosRange());we.push({type:"style",actor:E.getActorID(),from:it,to:At,value:{attributes:go(y)}});for(const[en,Cn]of Object.entries(y)){const[Xt]=He.getValue().setAttr(en,Cn,E);Xt!==void 0&&We.push({parent:He.getValue(),child:Xt});const Er=He.getValue().getAttrs().getNodeMapByKey().get(en);Er!==void 0&&Nn(M,Er.getDataSize())}}return[We,M,we]}indexRangeToPosRange(l,y){const E=this.rgaTreeSplit.indexToPos(l);return l===y?[E,E]:[E,this.rgaTreeSplit.indexToPos(y)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(l){return this.rgaTreeSplit.refinePos(l)}normalizePos(l){return this.rgaTreeSplit.normalizePos(l)}getDataSize(){const l={data:0,meta:0};for(const y of this.rgaTreeSplit){if(y.isRemoved())continue;const E=y.getDataSize();l.data+=E.data,l.meta+=E.meta}return{data:l.data,meta:l.meta+this.getMetaUsage()}}toJSON(){const l=[];for(const y of this.rgaTreeSplit)y.isRemoved()||l.push(y.getValue().toJSON());return`[${l.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const l=[];for(const y of this.rgaTreeSplit)if(!y.isRemoved()){const E=y.getValue();l.push({attributes:go(E.getAttributes()),content:E.getContent()})}return l}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const l=new kr(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return l.setRemovedAt(this.getRemovedAt()),l.setMovedAt(this.getMovedAt()),l}findIndexesFromRange(l){return this.rgaTreeSplit.findIndexesFromRange(l)}posToIndex(l,y=!1){return this.rgaTreeSplit.posToIndex(l,y)}getGCPairs(){const l=[];for(const y of this.rgaTreeSplit){y.getRemovedAt()&&l.push({parent:this.rgaTreeSplit,child:y});for(const E of y.getValue().getGCPairs())l.push(E)}return l}}class mo extends Mr{constructor(l,y,E,N,M,V,Y){super(l,V);q(this,"fromPos");q(this,"toPos");q(this,"content");q(this,"attributes");q(this,"isUndoOp");this.fromPos=y,this.toPos=E,this.content=N,this.attributes=M,this.isUndoOp=Y}static create(l,y,E,N,M,V,Y){return new mo(l,y,E,N,M,V,Y)}execute(l,y,E){const N=l.findByCreatedAt(this.getParentCreatedAt());if(!N)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(N instanceof kr))throw new be(ge.ErrInvalidArgument,"fail to execute, only Text can execute edit");const M=N;this.isUndoOp&&(this.fromPos=M.refinePos(this.fromPos),this.toPos=M.refinePos(this.toPos));const[V,Y,ee,,ue]=M.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),E),we=this.toReverseOperation(ue,M.normalizePos(this.fromPos));l.acc(ee);for(const ke of Y)l.registerGCPair(ke);return{opInfos:V.map(({from:ke,to:Re,value:We})=>({type:"edit",from:ke,to:Re,value:We,path:l.createPath(this.getParentCreatedAt())})),reverseOp:we}}toReverseOperation(l,y){var M;const E=l!=null&&l.length?l.map(V=>V.getContent()).join(""):"";let N;if(l.length===1){const V=l[0].getAttributes();V&&(N=Array.from(Object.entries(V)))}return mo.create(this.getParentCreatedAt(),y,rr.of(y.getID(),y.getRelativeOffset()+(((M=this.content)==null?void 0:M.length)??0)),E,N?new Map(N):new Map,void 0,!0)}normalizePos(l){const y=l.findByCreatedAt(this.getParentCreatedAt());if(!y)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(y instanceof kr))throw new be(ge.ErrInvalidArgument,"only Text can normalize edit");const E=y,N=E.normalizePos(this.fromPos).getRelativeOffset(),M=E.normalizePos(this.toPos).getRelativeOffset();return[N,M]}reconcileOperation(l,y,E){if(!this.isUndoOp||l>y)return;const N=y-l,M=this.fromPos.getRelativeOffset(),V=this.toPos.getRelativeOffset(),Y=(ee,ue)=>{this.fromPos=rr.of(this.fromPos.getID(),Math.max(0,ee)),this.toPos=rr.of(this.toPos.getID(),Math.max(0,ue))};if(y<=M){Y(M-N+E,V-N+E);return}if(!(V<=l)){if(l<=M&&V<=y&&l!==y){Y(l,l);return}if(M<=l&&y<=V&&M!==V){Y(M,V-N+E);return}if(l<M&&M<y&&y<V){Y(l,l+(V-y));return}if(M<l&&l<V&&V<y){Y(M,l);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const l=this.getParentCreatedAt().toTestString(),y=this.fromPos.toTestString(),E=this.toPos.toTestString(),N=this.content;return`${l}.EDIT(${y},${E},${N})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Yu extends Mr{constructor(l,y,E,N,M){super(l,M);q(this,"fromPos");q(this,"toPos");q(this,"attributes");this.fromPos=y,this.toPos=E,this.attributes=N}static create(l,y,E,N,M){return new Yu(l,y,E,N,M)}execute(l,y,E){const N=l.findByCreatedAt(this.getParentCreatedAt());if(!N)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(N instanceof kr))throw new be(ge.ErrInvalidArgument,"fail to execute, only Text can execute edit");const M=N,[V,Y,ee]=M.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),E);l.acc(Y);for(const ue of V)l.registerGCPair(ue);return{opInfos:ee.map(({from:ue,to:we,value:ke})=>({type:"style",from:ue,to:we,value:ke,path:l.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const l=this.getParentCreatedAt().toTestString(),y=this.fromPos.toTestString(),E=this.toPos.toTestString(),N=this.attributes;return`${l}.STYL(${y},${E},${JSON.stringify(N)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const Zv=2,r1="root",Zi="text";function Vn(f,i,l=!1){let y=0;const E=l?f.allChildren:f.children;for(let N=0;N<i;N++){const M=E[N];!M||!l&&M.isRemoved||(y+=M.paddedSize(l))}return y}class xr{constructor(i,l=[]){q(this,"type");q(this,"parent");q(this,"_children");q(this,"visibleSize");q(this,"totalSize");if(this.type=i,this.visibleSize=0,this.totalSize=0,this._children=l,this.isText&&this._children.length>0)throw new be(ge.ErrRefused,"Text node cannot have children")}updateAncestorsSize(i,l=!1){let y=this.parent;for(;y;){if(l)y.totalSize+=i;else if(y.visibleSize+=i,y.isRemoved)break;y=y.parent}}updateDescendantsSize(i=!1){let l=0;for(const y of this._children){const E=y.updateDescendantsSize(i);!i&&y.isRemoved||(l+=E)}return i?this.totalSize+=l:this.visibleSize+=l,this.paddedSize(i)}get isText(){return this.type===Zi}paddedSize(i=!1){let l=this.visibleSize;return i&&(l=this.totalSize),this.isText||(l+=Zv),l}isAncestorOf(i){return Jv(this,i)}get nextSibling(){const i=this.parent.findOffset(this),l=this.parent.children[i+1];if(l)return l}get prevSibling(){const i=this.parent.findOffset(this),l=this.parent.children[i-1];if(l)return l}splitText(i,l){const y={data:0,meta:0};if(i===0||i===this.visibleSize)return[void 0,y];const E=this.value.slice(0,i),N=this.value.slice(i);if(!N.length)return[void 0,y];const M=this.getDataSize();this.value=E;const V=this.cloneText(i+l);return V.value=N,this.parent.insertAfterInternal(V,this),Nn(y,this.getDataSize(),V.getDataSize()),Lr(y,M),[V,y]}get children(){return this._children.filter(i=>!i.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(i=>i.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(i=>i.value).join(""):""}append(...i){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");this._children.push(...i);for(const l of i)l.parent=this,l.updateAncestorsSize(l.paddedSize()),l.updateAncestorsSize(l.paddedSize(!0),!0)}prepend(...i){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");this._children.unshift(...i);for(const l of i)l.parent=this}insertBefore(i,l){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");const y=this._children.indexOf(l);if(y===-1)throw new be(ge.ErrInvalidArgument,"child not found");this.insertAtInternal(i,y),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}insertAfter(i,l){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");const y=this._children.indexOf(l);if(y===-1)throw new be(ge.ErrInvalidArgument,"child not found");this.insertAtInternal(i,y+1),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}insertAt(i,l){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");this.insertAtInternal(i,l),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}removeChild(i){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");const l=this._children.indexOf(i);if(l===-1)throw new be(ge.ErrInvalidArgument,"child not found");this._children.splice(l,1),i.updateAncestorsSize(-i.paddedSize(!0),!0),i.parent=void 0}splitElement(i,l){const y={data:0,meta:0},E=this.getDataSize(),N=this.cloneElement(l);this.parent.insertAfterInternal(N,this),N.updateAncestorsSize(N.paddedSize()),N.updateAncestorsSize(N.paddedSize(!0),!0);const M=this.children.slice(0,i),V=this.children.slice(i);this._children=M,N._children=V,this.visibleSize=this._children.reduce((Y,ee)=>Y+ee.paddedSize(),0),this.totalSize=this._children.reduce((Y,ee)=>Y+ee.paddedSize(!0),0),N.visibleSize=N._children.reduce((Y,ee)=>Y+ee.paddedSize(!0),0),N.totalSize=N._children.reduce((Y,ee)=>Y+ee.paddedSize(!0),0);for(const Y of N._children)Y.parent=N;return Nn(y,this.getDataSize(),N.getDataSize()),Lr(y,E),[N,y]}insertAfterInternal(i,l){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");const y=this._children.indexOf(l);if(y===-1)throw new be(ge.ErrInvalidArgument,"child not found");this.insertAtInternal(i,y+1)}insertAtInternal(i,l){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");this._children.splice(l,0,i),i.parent=this}findOffset(i,l=!1){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");if(l)return this._children.indexOf(i);if(i.isRemoved){const y=this._children.indexOf(i);return this.allChildren.splice(0,y).filter(N=>!N.isRemoved).length}return this.children.indexOf(i)}findBranchOffset(i){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");let l=i;for(;l;){const y=this._children.indexOf(l);if(y!==-1)return y;l=l.parent}return-1}}function Jv(f,i){if(f===i)return!1;for(;i.parent;){if(i.parent===f)return!0;i=i.parent}return!1}var Un=(f=>(f.Start="Start",f.End="End",f.Text="Text",f))(Un||{});function Im(f,i,l,y,E=!1){if(i>l)throw new be(ge.ErrInvalidArgument,`from is greater than to: ${i} > ${l}`);const N=E?f.totalSize:f.visibleSize;if(i>N)throw new be(ge.ErrInvalidArgument,`from is out of range: ${i} > ${N}`);if(l>N)throw new be(ge.ErrInvalidArgument,`to is out of range: ${l} > ${N}`);if(i===l)return;let M=0;const V=E?f._children:f.children;for(const Y of V){if(i-Y.paddedSize(E)<M&&M<l){const ee=Y.isText?i-M:i-M-1,ue=Y.isText?l-M:l-M-1,we=E?Y.totalSize:Y.visibleSize,ke=!Y.isText&&ee<0,Re=!Y.isText&&ue>we;(Y.isText||ke)&&y([Y,Y.isText?"Text":"Start"],Re),Im(Y,Math.max(0,ee),Math.min(ue,we),y,E),Re&&y([Y,"End"],Re)}M+=Y.paddedSize(E)}}function Om(f,i,l=0){for(const y of f.children)Om(y,i,l+1);i(f,l)}function Nf(f,i,l=0){for(const y of f._children)Nf(y,i,l+1);i(f,l)}function qu(f,i,l=!0){if(i>f.visibleSize)throw new be(ge.ErrInvalidArgument,`index is out of range: ${i} > ${f.visibleSize}`);if(f.isText)return{node:f,offset:i};let y=0,E=0;for(const N of f.children){if(l&&N.isText&&N.visibleSize>=i-E)return qu(N,i-E,l);if(i===E)return{node:f,offset:y};if(!l&&N.paddedSize()===i-E)return{node:f,offset:y+1};if(N.paddedSize()>i-E)return qu(N,i-E-1,l);E+=N.paddedSize(),y+=1}return{node:f,offset:y}}function Kh(f){return f.isText||f.children.length===0?f:Kh(f.children[0])}function Qv(f,i){if(f.visibleSize<i)throw new be(ge.ErrInvalidArgument,"unacceptable path");for(let l=0;l<f.children.length;l++){const y=f.children[l];if(y.visibleSize<i)i-=y.visibleSize;else{f=y;break}}return{node:f,offset:i}}class ex{constructor(i){q(this,"root");this.root=i}tokensBetween(i,l,y,E=!1){Im(this.root,i,l,y,E)}traverse(i){Om(this.root,i,0)}traverseAll(i){Nf(this.root,i,0)}findTreePos(i,l=!0){return qu(this.root,i,l)}treePosToPath(i){const l=[];let y=i.node;if(y.isText){const E=y.parent.findOffset(y);if(E===-1)throw new be(ge.ErrInvalidArgument,"invalid treePos");const N=Vn(y.parent,E);l.push(N+i.offset),y=y.parent}else if(y.hasTextChild()){const E=Vn(y,i.offset);l.push(E)}else l.push(i.offset);for(;y.parent;){const E=y.parent.findOffset(y);if(E===-1)throw new be(ge.ErrInvalidArgument,"invalid treePos");l.push(E),y=y.parent}return l.reverse()}pathToIndex(i){const l=this.pathToTreePos(i);return this.indexOf(l)}pathToTreePos(i){if(!i.length)throw new be(ge.ErrInvalidArgument,"unacceptable path");let l=this.root;for(let y=0;y<i.length-1;y++){const E=i[y];if(l=l.children[E],!l)throw new be(ge.ErrInvalidArgument,"unacceptable path")}if(l.hasTextChild())return Qv(l,i[i.length-1]);if(l.children.length<i[i.length-1])throw new be(ge.ErrInvalidArgument,"unacceptable path");return{node:l,offset:i[i.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(i){const{node:l,offset:y}=i;if(l.isText){if(l.visibleSize===y){const E=l.nextSibling;return E||l.parent}return l}return l.children.length===y?l:Kh(l.children[y])}indexOf(i,l=!1){let{node:y}=i;const{offset:E}=i;let N=0,M=1;if(y.isText){N+=E;const V=y.parent,Y=V.findOffset(y,l);if(Y===-1)throw new be(ge.ErrInvalidArgument,"invalid pos");N+=Vn(V,Y,l),y=y.parent}else N+=Vn(y,E,l);for(;y!=null&&y.parent;){const V=y.parent,Y=V.findOffset(y,l);if(Y===-1)throw new be(ge.ErrInvalidArgument,"invalid pos");N+=Vn(V,Y,l),M++,y=y.parent}return N+M-1}indexToPath(i){const l=this.findTreePos(i);return this.treePosToPath(l)}}class Ii{constructor(i,l){q(this,"parentID");q(this,"leftSiblingID");this.parentID=i,this.leftSiblingID=l}static of(i,l){return new Ii(i,l)}static fromTreePos(i){const{offset:l}=i;let{node:y}=i,E;return y.isText?(y.parent.children[0]===y&&l===0?E=y.parent:E=y,y=y.parent):l===0?E=y:E=y.children[l-1],Ii.of(y.id,ir.of(E.getCreatedAt(),E.getOffset()+l))}getParentID(){return this.parentID}static fromStruct(i){return Ii.of(ir.of(Kr.fromStruct(i.parentID.createdAt),i.parentID.offset),ir.of(Kr.fromStruct(i.leftSiblingID.createdAt),i.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(i){const l=this.getParentID(),y=this.getLeftSiblingID(),E=i.findFloorNode(l);let N=i.findFloorNode(y);if(!E||!N)throw new be(ge.ErrRefused,`cannot find node of CRDTTreePos(${l.toTestString()}, ${y.toTestString()})`);return!y.equals(l)&&y.getOffset()>0&&y.getOffset()===N.id.getOffset()&&N.insPrevID&&(N=i.findFloorNode(N.insPrevID)),[E,N]}getLeftSiblingID(){return this.leftSiblingID}equals(i){return this.getParentID().getCreatedAt().equals(i.getParentID().getCreatedAt())&&this.getParentID().getOffset()===i.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(i.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===i.getLeftSiblingID().getOffset()}}class ir{constructor(i,l){q(this,"createdAt");q(this,"offset");this.createdAt=i,this.offset=l}static of(i,l){return new ir(i,l)}static fromStruct(i){return ir.of(Kr.fromStruct(i.createdAt),i.offset)}static createComparator(){return(i,l)=>{const y=i.getCreatedAt().compare(l.getCreatedAt());return y!==0?y:i.getOffset()>l.getOffset()?1:i.getOffset()<l.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(i){return this.createdAt.compare(i.createdAt)===0&&this.offset===i.offset}getOffset(){return this.offset}setOffset(i){this.offset=i}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Br extends xr{constructor(l,y,E,N,M){super(y);q(this,"id");q(this,"removedAt");q(this,"attrs");q(this,"insPrevID");q(this,"insNextID");q(this,"_value","");this.id=l,this.removedAt=M,N&&(this.attrs=N),typeof E=="string"?this.value=E:Array.isArray(E)&&(this._children=E)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(l,y,E,N){return new Br(l,y,E,N)}deepcopy(){var y;const l=new Br(this.id,this.type);return l.removedAt=this.removedAt,l._value=this._value,l.visibleSize=this.visibleSize,l.totalSize=this.totalSize,l.attrs=(y=this.attrs)==null?void 0:y.deepcopy(),l._children=this._children.map(E=>{const N=E.deepcopy();return N.parent=l,N}),l.insPrevID=this.insPrevID,l.insNextID=this.insNextID,l}get value(){if(!this.isText)throw new be(ge.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(l){if(!this.isText)throw new be(ge.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=l,this.visibleSize=l.length,this.totalSize=l.length}get isRemoved(){return!!this.removedAt}remove(l){return this.removedAt?(l.after(this.removedAt)&&(this.removedAt=l),!1):(this.removedAt=l,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(l){return new Br(ir.of(this.id.getCreatedAt(),l),this.type,void 0,void 0,this.removedAt)}cloneElement(l){return new Br(ir.of(l(),0),this.type,void 0,void 0,this.removedAt)}split(l,y,E){const[N,M]=this.isText?this.splitText(y,this.id.getOffset()):this.splitElement(y,E);if(N){if(N.insPrevID=this.id,this.insNextID){const V=l.findFloorNode(this.insNextID);V.insPrevID=N.id,N.insNextID=this.insNextID}this.insNextID=N.id,l.registerNode(N)}return[N,M]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(l,y,E){return y?!!(!this.removedAt||!E&&(l!=null&&l.after(this.removedAt))):!1}canStyle(l,y){return this.isText?!1:this.getCreatedAt().getLamport()<=y&&(!this.removedAt||l.after(this.removedAt))}setAttrs(l,y){this.attrs||(this.attrs=new Fr);const E=[];for(const[N,M]of Object.entries(l))E.push(this.attrs.set(N,M,y));return E}purge(l){this.attrs&&this.attrs.purge(l)}getDataSize(){const l={data:0,meta:0};if(this.isText&&(l.data+=this.visibleSize*2),this.id&&(l.meta+=Yi),this.removedAt&&(l.meta+=Yi),this.attrs)for(const y of this.attrs){if(y.getRemovedAt())continue;const E=y.getDataSize();l.meta+=E.meta,l.data+=E.data}return l}getGCPairs(){const l=[];if(!this.attrs)return l;for(const y of this.attrs)y.getRemovedAt()&&l.push({parent:this,child:y});return l}}function _f(f){var l;if(f.isText){const y=f;return{type:y.type,value:y.value}}const i={type:f.type,children:f.children.map(_f)};return f.attrs&&(i.attributes=go((l=f.attrs)==null?void 0:l.toObject())),i}function Xh(f){if(f.isText)return f.value;let i="";return f.attrs&&f.attrs.size()&&(i=" "+Array.from(f.attrs).filter(l=>!l.isRemoved()).sort((l,y)=>l.getKey().localeCompare(y.getKey())).map(l=>{const y=JSON.parse(l.getValue());return typeof y=="string"?`${l.getKey()}="${y}"`:`${l.getKey()}="${qi(l.getValue())}"`}).join(" ")),`<${f.type}${i}>${f.children.map(l=>Xh(l)).join("")}</${f.type}>`}function Zh(f){if(f.isText){const i=f;return{type:i.type,value:i.value,visibleSize:i.visibleSize,isRemoved:i.isRemoved}}return{type:f.type,children:f.children.map(Zh),visibleSize:f.visibleSize,isRemoved:f.isRemoved}}class _r extends Rf{constructor(l,y){super(y);q(this,"indexTree");q(this,"nodeMapByID");this.indexTree=new ex(l),this.nodeMapByID=new Xi(ir.createComparator()),this.indexTree.traverseAll(E=>{this.nodeMapByID.put(E.id,E)})}static create(l,y){return new _r(l,y)}findFloorNode(l){const y=this.nodeMapByID.floorEntry(l);if(!(!y||!y.key.getCreatedAt().equals(l.getCreatedAt())))return y.value}registerNode(l){this.nodeMapByID.put(l.id,l)}findNodesAndSplitText(l,y){let E={data:0,meta:0};const[N,M]=l.toTreeNodePair(this);let V=M;const Y=N===V,ee=V.parent&&!Y?V.parent:N;if(V.isText){const[,ue]=V.split(this,l.getLeftSiblingID().getOffset()-V.id.getOffset());E=ue}if(y){const ue=ee.allChildren,we=Y?0:ue.indexOf(V)+1;for(let ke=we;ke<ue.length;ke++){const Re=ue[ke];if(!Re.id.getCreatedAt().after(y))break;V=Re}}return[[ee,V],E]}style(l,y,E,N){const M={data:0,meta:0},[[V,Y],ee]=this.findNodesAndSplitText(l[0],E),[[ue,we],ke]=this.findNodesAndSplitText(l[1],E);Nn(M,ke,ee);const Re=[],We=y?go(y):{},He=[];return this.traverseInPosRange(V,Y,ue,we,([it,At])=>{var Xt;const en=it.getCreatedAt().getActorID();let Cn=Hh;if(N!=null&&(Cn=N.get(en)?N.get(en):0n),it.canStyle(E,Cn)&&y){const Er=it.setAttrs(y,E),tn=Er.reduce((_n,[,mi])=>(mi&&(_n[mi.getKey()]=We[mi.getKey()]),_n),{}),er=it.parent,Mn=it.prevSibling||it.parent;Object.keys(tn).length>0&&Re.push({type:"style",from:this.toIndex(er,Mn),to:this.toIndex(it,it),fromPath:this.toPath(er,Mn),toPath:this.toPath(it,it),actor:E.getActorID(),value:tn});for(const[_n]of Er)_n&&He.push({parent:it,child:_n});for(const[_n]of Object.entries(We)){const mi=(Xt=it.attrs)==null?void 0:Xt.getNodeMapByKey().get(_n);mi!==void 0&&At!==Un.End&&Nn(M,mi.getDataSize())}}}),[He,Re,M]}removeStyle(l,y,E,N){const M={data:0,meta:0},[[V,Y],ee]=this.findNodesAndSplitText(l[0],E),[[ue,we],ke]=this.findNodesAndSplitText(l[1],E);Nn(M,ke,ee);const Re=[],We=[];return this.traverseInPosRange(V,Y,ue,we,([He])=>{const it=He.getCreatedAt().getActorID();let At=Hh;if(N!=null&&(At=N.get(it)?N.get(it):0n),He.canStyle(E,At)&&y){He.attrs||(He.attrs=new Fr);for(const Xt of y){const Er=He.attrs.remove(Xt,E);for(const tn of Er)We.push({parent:He,child:tn})}const en=He.parent,Cn=He.prevSibling||He.parent;Re.push({actor:E.getActorID(),type:"removeStyle",from:this.toIndex(en,Cn),to:this.toIndex(He,He),fromPath:this.toPath(en,Cn),toPath:this.toPath(He,He),value:y})}}),[We,Re,M]}edit(l,y,E,N,M,V){const Y={data:0,meta:0},[[ee,ue],we]=this.findNodesAndSplitText(l[0],N),[[ke,Re],We]=this.findNodesAndSplitText(l[1],N);Nn(Y,We,we);const He=this.toIndex(ee,ue),it=this.toPath(ee,ue),At=[],en=[],Cn=[];this.traverseInPosRange(ee,ue,ke,Re,([tn,er],Mn)=>{if(er===Un.Start&&!Mn)for(const Cp of tn.children)Cn.push(Cp);const _n=V===void 0;let mi=!1;const Px=V==null?void 0:V.get(tn.id.getCreatedAt().getActorID());mi=_n||Px!==void 0&&Px>=tn.id.getCreatedAt().getLamport();let cc=!1;if(tn.removedAt){const Cp=V==null?void 0:V.get(tn.removedAt.getActorID());cc=_n||Cp!==void 0&&Cp>=tn.removedAt.getLamport()}(tn.canDelete(N,mi,cc)||At.includes(tn.parent))&&((er===Un.Text||er===Un.Start)&&At.push(tn),en.push([tn,er]))},!0);const Xt=this.makeDeletionChanges(en,N),Er=[];for(const tn of At)tn.remove(N),tn.isRemoved&&Er.push({parent:this,child:tn});for(const tn of Cn)tn.removedAt||ee.append(tn);if(E>0){let tn=0,er=ee,Mn=ue;for(;tn<E;)er.split(this,er.findOffset(Mn)+1,M),Mn=er,er=er.parent,tn++;Xt.push({type:"content",from:He,to:He,fromPath:it,toPath:it,actor:N.getActorID()})}if(y!=null&&y.length){const tn=[];let er=ue;for(const Mn of y)er===ee?ee.insertAt(Mn,0):ee.insertAfter(Mn,er),er=Mn,Nf(Mn,_n=>{ee.isRemoved?(_n.remove(N),Er.push({parent:this,child:_n})):Nn(Y,_n.getDataSize()),this.nodeMapByID.put(_n.id,_n)}),Mn.isRemoved||tn.push(Mn);if(tn.length){const Mn=tn.map(_n=>_f(_n));Xt.length&&Xt[Xt.length-1].from===He?Xt[Xt.length-1].value=Mn:Xt.push({type:"content",from:He,to:He,fromPath:it,toPath:it,actor:N.getActorID(),value:Mn})}}return[Xt,Er,Y]}editT(l,y,E,N,M){const V=this.findPos(l[0]),Y=this.findPos(l[1]);return this.edit([V,Y],y,E,N,M)}move(l,y,E){throw new be(ge.ErrUnimplemented,`not implemented: ${l}, ${y}, ${E}`)}pathToTreePos(l){return this.indexTree.pathToTreePos(l)}purge(l){var N;(N=l.parent)==null||N.removeChild(l),this.nodeMapByID.remove(l.id);const y=l.insPrevID,E=l.insNextID;if(y){const M=this.findFloorNode(y);M.insNextID=E}if(E){const M=this.findFloorNode(E);M.insPrevID=y}l.insPrevID=void 0,l.insNextID=void 0}getGCPairs(){const l=[];return this.indexTree.traverse(y=>{y.getRemovedAt()&&l.push({parent:this,child:y});for(const E of y.getGCPairs())l.push(E)}),l}findPos(l,y=!0){const E=this.indexTree.findTreePos(l,y);return Ii.fromTreePos(E)}pathToPosRange(l){const y=this.pathToIndex(l);return[this.findPos(y),this.findPos(y+1)]}pathToPos(l){const y=this.indexTree.pathToIndex(l);return this.findPos(y)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Xh(this.indexTree.getRoot())}getDataSize(){const l={data:0,meta:0};return this.indexTree.traverse(y=>{if(y.getRemovedAt())return;const E=y.getDataSize();l.data+=E.data,l.meta+=E.meta}),{data:l.data,meta:l.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const l=this.indexTree.getRoot(),y=(E,N=void 0,M=void 0,V=0)=>{var Re,We,He,it;let Y,ee,ue;const we=E.isText?{node:E,offset:0}:N&&M?this.toTreePos(N,M):null;we&&(Y=this.indexTree.indexOf(we),ee=this.indexTree.treePosToPath(we),ue=Ii.fromTreePos(we).toStruct());const ke={type:E.type,parent:N==null?void 0:N.id.toTestString(),size:E.visibleSize,id:E.id.toTestString(),removedAt:(Re=E.removedAt)==null?void 0:Re.toTestString(),insPrev:(We=E.insPrevID)==null?void 0:We.toTestString(),insNext:(He=E.insNextID)==null?void 0:He.toTestString(),value:E.isText?E.value:void 0,isRemoved:E.isRemoved,children:[],depth:V,attributes:E.attrs?go((it=E.attrs)==null?void 0:it.toObject()):void 0,index:Y,path:ee,pos:ue};for(let At=0;At<E.allChildren.length;At++){const en=At===0?E:E.allChildren[At-1];ke.children.push(y(E.allChildren[At],E,en,V+1))}return ke};return y(l)}getRootTreeNode(){return _f(this.indexTree.getRoot())}toTestTreeNode(){return Zh(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const l=this.getRoot(),y=new _r(l.deepcopy(),this.getCreatedAt());return y.setRemovedAt(this.getRemovedAt()),y.setMovedAt(this.getMovedAt()),y}toPath(l,y){const E=this.toTreePos(l,y);return E?this.indexTree.treePosToPath(E):[]}toIndex(l,y,E=!1){const N=this.toTreePos(l,y,E);return N?this.indexTree.indexOf(N,E):-1}indexToPath(l){return this.indexTree.indexToPath(l)}pathToIndex(l){return this.indexTree.pathToIndex(l)}indexRangeToPosRange(l){const y=this.findPos(l[0]);return l[0]===l[1]?[y,y]:[y,this.findPos(l[1])]}indexRangeToPosStructRange(l){const[y,E]=l,N=this.findPos(y);return y===E?[N.toStruct(),N.toStruct()]:[N.toStruct(),this.findPos(E).toStruct()]}posRangeToPathRange(l){const[[y,E]]=this.findNodesAndSplitText(l[0]),[[N,M]]=this.findNodesAndSplitText(l[1]);return[this.toPath(y,E),this.toPath(N,M)]}posRangeToIndexRange(l){const[[y,E]]=this.findNodesAndSplitText(l[0]),[[N,M]]=this.findNodesAndSplitText(l[1]);return[this.toIndex(y,E),this.toIndex(N,M)]}traverseInPosRange(l,y,E,N,M,V=!1){const Y=this.toIndex(l,y,V),ee=this.toIndex(E,N,V);this.indexTree.tokensBetween(Y,ee,M,V)}toTreePos(l,y,E=!1){if(!l||!y)return;if(!E&&l.isRemoved){let M;for(;l.isRemoved;)M=l,l=M.parent;const V=l.findOffset(M,E);return{node:l,offset:V}}if(l===y)return{node:l,offset:0};let N=l.findOffset(y,E);if(E||!y.isRemoved){if(y.isText)return{node:y,offset:y.paddedSize(E)};N++}return{node:l,offset:N}}makeDeletionChanges(l,y){const E=[],N=[];let M=null,V=null;for(let Y=0;Y<l.length;Y++){const ee=l[Y],ue=l[Y+1];M||(M=ee),V=ee;const we=this.findRightToken(ee);(!we||!ue||we[0]!==ue[0]||we[1]!==ue[1])&&(N.push([M,V]),M=null,V=null)}for(const Y of N){const[ee,ue]=Y,[we,ke]=this.findLeftToken(ee),[Re,We]=ue,He=ke===Un.Start?we:we.parent,it=We===Un.Start?Re:Re.parent,At=this.toIndex(He,we),en=this.toIndex(it,Re);At<en&&(E.length>0&&At===E[E.length-1].to?(E[E.length-1].to=en,E[E.length-1].toPath=this.toPath(it,Re)):E.push({type:"content",from:At,to:en,fromPath:this.toPath(He,we),toPath:this.toPath(it,Re),actor:y.getActorID()}))}return E.reverse()}findRightToken([l,y]){if(y===Un.Start){const Y=l.allChildren;return Y.length>0?[Y[0],Y[0].isText?Un.Text:Un.Start]:[l,Un.End]}const E=l.parent,N=E.allChildren,M=N.indexOf(l);if(E&&M===N.length-1)return[E,Un.End];const V=N[M+1];return[V,V.isText?Un.Text:Un.Start]}findLeftToken([l,y]){if(y===Un.End){const Y=l.allChildren;if(Y.length>0){const ee=Y[Y.length-1];return[ee,ee.isText?Un.Text:Un.End]}return[l,Un.Start]}const E=l.parent,N=E.allChildren,M=N.indexOf(l);if(E&&M===0)return[E,Un.Start];const V=N[M-1];return[V,V.isText?Un.Text:Un.End]}}class Ka extends Mr{constructor(l,y,E,N,M,V){super(l,V);q(this,"fromPos");q(this,"toPos");q(this,"contents");q(this,"splitLevel");this.fromPos=y,this.toPos=E,this.contents=N,this.splitLevel=M}static create(l,y,E,N,M,V){return new Ka(l,y,E,N,M,V)}execute(l,y,E){var we;const N=l.findByCreatedAt(this.getParentCreatedAt());if(!N)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(N instanceof _r))throw new be(ge.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const M=this.getExecutedAt(),V=N,[Y,ee,ue]=V.edit([this.fromPos,this.toPos],(we=this.contents)==null?void 0:we.map(ke=>ke.deepcopy()),this.splitLevel,M,(()=>{let ke=M.getDelimiter();return this.contents!==void 0&&(ke+=this.contents.length),()=>Kr.of(M.getLamport(),++ke,M.getActorID())})(),E);l.acc(ue);for(const ke of ee)l.registerGCPair(ke);return{opInfos:Y.map(({from:ke,to:Re,value:We,splitLevel:He,fromPath:it,toPath:At})=>({type:"tree-edit",path:l.createPath(this.getParentCreatedAt()),from:ke,to:Re,value:We,splitLevel:He,fromPath:it,toPath:At}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const l=this.getParentCreatedAt().toTestString(),y=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,E=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,N=this.contents||[];return`${l}.EDIT(${y},${E},${N.map(M=>Xh(M)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Xa{constructor(i){q(this,"vector");this.vector=i||new Map}set(i,l){this.vector.set(i,l)}unset(i){this.vector.delete(i)}get(i){return this.vector.get(i)}has(i){return this.vector.has(i)}maxLamport(){let i=BigInt(0);for(const[,l]of this)l>i&&(i=l);return i}max(i){const l=new Map;for(const[y,E]of i){const N=this.vector.get(y),M=N&&N>E?N:E;l.set(y,M)}for(const[y,E]of this){const N=i.get(y),M=N&&N>E?N:E;l.set(y,M)}return new Xa(l)}afterOrEqual(i){const l=this.vector.get(i.getActorID());return l===void 0?!1:l>=i.getLamport()}deepcopy(){const i=new Map;for(const[l,y]of this.vector)i.set(l,y);return new Xa(i)}filter(i){const l=new Map;for(const[y]of i){const E=this.vector.get(y);E!==void 0&&l.set(y,E)}return new Xa(l)}size(){return this.vector.size}*[Symbol.iterator](){for(const[i,l]of this.vector)yield[i,l]}}const Jh=new Xa(new Map);class Oi{constructor(i,l,y,E,N){q(this,"clientSeq");q(this,"serverSeq");q(this,"actor");q(this,"lamport");q(this,"versionVector");this.clientSeq=i,this.serverSeq=N,this.lamport=l,this.versionVector=E,this.actor=y}hasClocks(){return this.versionVector.size()>0&&this.lamport!=$h}static of(i,l,y,E,N){return new Oi(i,l,y,E,N)}next(i=!1){if(i)return new Oi(this.clientSeq+1,this.lamport,this.actor,Jh,$h);const l=this.versionVector.deepcopy();return l.set(this.actor,this.lamport+1n),new Oi(this.clientSeq+1,this.lamport+1n,this.actor,l)}syncClocks(i){if(!i.hasClocks())return this;const l=i.lamport>this.lamport?i.lamport+1n:this.lamport+1n,y=this.versionVector.max(i.versionVector),E=new Oi(this.clientSeq,l,this.actor,y);return E.versionVector.set(this.actor,l),E}setClocks(i,l){const y=i>this.lamport?i+1n:this.lamport+1n,E=this.versionVector.max(l);return E.set(this.actor,y),Oi.of(this.clientSeq,y,this.actor,E)}createTimeTicket(i){return Kr.of(this.lamport,i,this.actor)}setActor(i){return new Oi(this.clientSeq,this.lamport,i,this.versionVector,this.serverSeq)}setLamport(i){return new Oi(this.clientSeq,i,this.actor,this.versionVector,this.serverSeq)}setVersionVector(i){return new Oi(this.clientSeq,this.lamport,this.actor,i,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const Jo=new Oi(0,0n,Gh,Jh);class qs{constructor({id:i,operations:l,presenceChange:y,message:E}){q(this,"id");q(this,"operations");q(this,"presenceChange");q(this,"message");this.id=i,this.operations=l||[],this.presenceChange=y,this.message=E}static create({id:i,operations:l,presenceChange:y,message:E}){return new qs({id:i,operations:l,presenceChange:y,message:E})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(i){for(const l of this.operations)l.setActor(i);this.id=this.id.setActor(i)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(i,l,y){const E=[],N=[],M=[];for(const V of this.operations){const Y=V.execute(i,y,this.id.getVersionVector());if(!Y)continue;const{opInfos:ee,reverseOp:ue}=Y;E.push(...ee),N.push(V),ue&&M.unshift(ue)}return this.presenceChange&&(this.presenceChange.type===Wi.Put?l.set(this.id.getActorID(),Jr(this.presenceChange.presence)):l.delete(this.id.getActorID())),{operations:N,opInfos:E,reverseOps:M}}toTestString(){return`${this.operations.map(i=>i.toTestString()).join(",")}`}toStruct(){return{changeID:fn.bytesToHex(fn.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(i=>fn.bytesToHex(fn.operationToBinary(i))),presenceChange:this.getPresenceChange()}}static fromStruct(i){const{changeID:l,operations:y,presenceChange:E,message:N}=i;return qs.create({id:fn.bytesToChangeID(fn.hexToBytes(l)),operations:y==null?void 0:y.map(M=>fn.bytesToOperation(fn.hexToBytes(M))),presenceChange:E,message:N})}}class Qh{constructor(i,l,y,E,N,M){q(this,"documentKey");q(this,"checkpoint");q(this,"isRemoved");q(this,"changes");q(this,"snapshot");q(this,"versionVector");this.documentKey=i,this.checkpoint=l,this.isRemoved=y,this.changes=E,this.snapshot=M,this.versionVector=N}static create(i,l,y,E,N,M){return new Qh(i,l,y,E,N,M)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Za{constructor(i,l){q(this,"serverSeq");q(this,"clientSeq");this.serverSeq=i,this.clientSeq=l}static of(i,l){return new Za(i,l)}increaseClientSeq(i){return i===0?this:new Za(this.serverSeq,this.clientSeq+i)}forward(i){if(this.equals(i))return this;const l=this.serverSeq>i.serverSeq?this.serverSeq:i.serverSeq,y=Math.max(this.clientSeq,i.clientSeq);return Za.of(l,y)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(i){return this.clientSeq===i.clientSeq&&this.serverSeq==i.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const Qo=new Za(0n,0),Dm=f=>f<0?Math.ceil(f):Math.floor(f);var pi=(f=>(f[f.Int=0]="Int",f[f.Long=1]="Long",f))(pi||{});class dr extends Rf{constructor(l,y,E){super(E);q(this,"valueType");q(this,"value");switch(this.valueType=l,l){case 0:typeof y=="number"?y>Math.pow(2,31)-1||y<-Math.pow(2,31)?this.value=Ut.fromNumber(y).toInt():this.value=Dm(y):this.value=y.toInt();break;case 1:typeof y=="number"?this.value=Ut.fromNumber(y):this.value=y;break;default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${l}`)}}static create(l,y,E){return new dr(l,y,E)}static valueFromBytes(l,y){switch(l){case 0:return y[0]|y[1]<<8|y[2]<<16|y[3]<<24;case 1:return Ut.fromBytesLE(Array.from(y));default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${l}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const l=dr.create(this.valueType,this.value,this.getCreatedAt());return l.setRemovedAt(this.getRemovedAt()),l.setMovedAt(this.getMovedAt()),l}getType(){return this.valueType}static getCounterType(l){switch(typeof l){case"object":return l instanceof Ut?1:void 0;case"number":return l>Math.pow(2,31)-1||l<-Math.pow(2,31)?1:0;default:return}}static isSupport(l){return!!dr.getCounterType(l)}static isInteger(l){return l%1===0}isNumericType(){const l=this.valueType;return l===0||l===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const l=this.value;return new Uint8Array([l&255,l>>8&255,l>>16&255,l>>24&255])}case 1:{const y=this.value.toBytesLE();return Uint8Array.from(y)}default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(l){function y(E){if(!E.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof E.getValue()}`)}return y(this),y(l),this.valueType===1?this.value=this.value.add(l.getValue()):l.getType()===gn.Long?this.value=this.value+l.getValue().toInt():this.value=Ut.fromNumber(this.value+Dm(l.getValue())).toInt(),this}}class yn extends Mr{constructor(l,y,E){super(l,E);q(this,"value");this.value=y}static create(l,y,E){return new yn(l,y,E)}execute(l){const y=l.findByCreatedAt(this.getParentCreatedAt());if(!y)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(y instanceof dr))throw new be(ge.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const E=y,N=this.value.deepcopy();return E.increase(N),{opInfos:[{type:"increase",path:l.createPath(this.getParentCreatedAt()),value:N.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const l=this.value.deepcopy(),E=l.getType()===gn.Long?l.getValue().multiply(-1):l.getValue()*-1;return yn.create(this.getParentCreatedAt(),Dn.of(E,l.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class es extends Mr{constructor(l,y,E,N,M,V){super(l,V);q(this,"fromPos");q(this,"toPos");q(this,"attributes");q(this,"attributesToRemove");this.fromPos=y,this.toPos=E,this.attributes=N,this.attributesToRemove=M}static create(l,y,E,N,M){return new es(l,y,E,N,[],M)}static createTreeRemoveStyleOperation(l,y,E,N,M){return new es(l,y,E,new Map,N,M)}execute(l,y,E){const N=l.findByCreatedAt(this.getParentCreatedAt());if(!N)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(N instanceof _r))throw new be(ge.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const M=N;let V,Y,ee={data:0,meta:0};if(this.attributes.size){const ue={};[...this.attributes].forEach(([we,ke])=>ue[we]=ke),[Y,V,ee]=M.style([this.fromPos,this.toPos],ue,this.getExecutedAt(),E)}else{const ue=this.attributesToRemove;[Y,V,ee]=M.removeStyle([this.fromPos,this.toPos],ue,this.getExecutedAt(),E)}l.acc(ee);for(const ue of Y)l.registerGCPair(ue);return{opInfos:V.map(({from:ue,to:we,value:ke,fromPath:Re,toPath:We})=>({type:"tree-style",from:ue,to:we,value:this.attributes.size?{attributes:ke}:{attributesToRemove:ke},fromPath:Re,toPath:We,path:l.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const l=this.getParentCreatedAt().toTestString(),y=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,E=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${l}.STYLE(${y},${E},${Object.entries(this.attributes||{}).map(([N,M])=>`${N}:"${M}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class ts extends Mr{constructor(l,y,E,N){super(l,N);q(this,"createdAt");q(this,"value");this.createdAt=y,this.value=E}static create(l,y,E,N){return new ts(l,y,E,N)}execute(l){const y=l.findByCreatedAt(this.getParentCreatedAt());if(!y)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(y instanceof nr))throw new be(ge.ErrInvalidArgument,"fail to execute, only array can execute set");const E=y.getByID(this.createdAt).deepcopy(),N=this.toReverseOperation(this.value,E),M=this.value.deepcopy();return y.insertAfter(this.createdAt,M,this.getExecutedAt()),y.delete(this.createdAt,this.getExecutedAt()),l.registerElement(M),{opInfos:[{type:"array-set",path:l.createPath(this.getParentCreatedAt())}],reverseOp:N}}toReverseOperation(l,y){return ts.create(this.getParentCreatedAt(),l.getCreatedAt(),y)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(l){this.createdAt=l}}function tx(f){const i={};for(const[l,y]of Object.entries(f))i[l]=JSON.stringify(y);return Z(Ho,{data:i})}function If(f){if(f.type===Wi.Put)return Z(Cf,{type:Ha.PUT,presence:tx(f.presence)});if(f.type===Wi.Clear)return Z(Cf,{type:Ha.CLEAR});throw new be(ge.ErrUnimplemented,"unimplemented type")}function Ks(f){return Z(Uh,{serverSeq:f.getServerSeq(),clientSeq:f.getClientSeq()})}function ep(f){return Z(jh,{clientSeq:f.getClientSeq(),lamport:f.getLamport(),actorId:ss(f.getActorID()),versionVector:Ja(f.getVersionVector())})}function pt(f){if(f)return Z(mm,{lamport:f.getLamport(),delimiter:f.getDelimiter(),actorId:ss(f.getActorID())})}function Ja(f){if(!f)return;const i=Z(Vs);for(const[l,y]of f){const E=zm(ss(l));i.vector[E]=BigInt(y.toString())}return i}function Ji(f){switch(f){case gn.Null:return Ft.NULL;case gn.Boolean:return Ft.BOOLEAN;case gn.Integer:return Ft.INTEGER;case gn.Long:return Ft.LONG;case gn.Double:return Ft.DOUBLE;case gn.String:return Ft.STRING;case gn.Bytes:return Ft.BYTES;case gn.Date:return Ft.DATE;default:throw new be(ge.ErrInvalidType,`unsupported type: ${f}`)}}function Pm(f){switch(f){case pi.Int:return Ft.INTEGER_CNT;case pi.Long:return Ft.LONG_CNT;default:throw new be(ge.ErrInvalidType,`unsupported type: ${f}`)}}function Ku(f){if(f instanceof mr)return Z($o,{type:Ft.JSON_OBJECT,createdAt:pt(f.getCreatedAt()),value:zr(f)});if(f instanceof nr)return Z($o,{type:Ft.JSON_ARRAY,createdAt:pt(f.getCreatedAt()),value:jm(f)});if(f instanceof kr)return Z($o,{type:Ft.TEXT,createdAt:pt(f.getCreatedAt())});if(f instanceof Dn)return Z($o,{type:Ji(f.getType()),createdAt:pt(f.getCreatedAt()),value:f.toBytes()});if(f instanceof dr)return Z($o,{type:Pm(f.getType()),createdAt:pt(f.getCreatedAt()),value:f.toBytes()});if(f instanceof _r)return Z($o,{type:Ft.TREE,createdAt:pt(f.getCreatedAt()),value:sp(f)});throw new be(ge.ErrUnimplemented,"unimplemented element")}function nx(f){return Z(hm,{createdAt:pt(f.getCreatedAt()),offset:f.getOffset()})}function Xu(f){return Z(gm,{createdAt:pt(f.getID().getCreatedAt()),offset:f.getID().getOffset(),relativeOffset:f.getRelativeOffset()})}function Zu(f){return Z(Af,{parentId:Xs(f.getParentID()),leftSiblingId:Xs(f.getLeftSiblingID())})}function Xs(f){return Z(pm,{createdAt:pt(f.getCreatedAt()),offset:f.getOffset()})}function tp(f){const i=Z(Vu);if(f instanceof Hs){const l=f,y=Z(Gv);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.key=l.getKey(),y.value=Ku(l.getValue()),y.executedAt=pt(l.getExecutedAt()),i.body.case="set",i.body.value=y}else if(f instanceof Ti){const l=f,y=Z(lm);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.prevCreatedAt=pt(l.getPrevCreatedAt()),y.value=Ku(l.getValue()),y.executedAt=pt(l.getExecutedAt()),i.body.case="add",i.body.value=y}else if(f instanceof Ni){const l=f,y=Z(um);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.prevCreatedAt=pt(l.getPrevCreatedAt()),y.createdAt=pt(l.getCreatedAt()),y.executedAt=pt(l.getExecutedAt()),i.body.case="move",i.body.value=y}else if(f instanceof hi){const l=f,y=Z(Us);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.createdAt=pt(l.getCreatedAt()),y.executedAt=pt(l.getExecutedAt()),i.body.case="remove",i.body.value=y}else if(f instanceof mo){const l=f,y=Z(zt);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.from=Xu(l.getFromPos()),y.to=Xu(l.getToPos()),y.content=l.getContent();const E=y.attributes;for(const[N,M]of l.getAttributes())E[N]=M;y.executedAt=pt(l.getExecutedAt()),i.body.case="edit",i.body.value=y}else if(f instanceof Yu){const l=f,y=Z(pn);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.from=Xu(l.getFromPos()),y.to=Xu(l.getToPos());const E=y.attributes;for(const[N,M]of l.getAttributes())E[N]=M;y.executedAt=pt(l.getExecutedAt()),i.body.case="style",i.body.value=y}else if(f instanceof yn){const l=f,y=Z(Jn);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.value=Ku(l.getValue()),y.executedAt=pt(l.getExecutedAt()),i.body.case="increase",i.body.value=y}else if(f instanceof Ka){const l=f,y=Z(zh);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.from=Zu(l.getFromPos()),y.to=Zu(l.getToPos()),y.contents=ix(l.getContents()),y.splitLevel=l.getSplitLevel(),y.executedAt=pt(l.getExecutedAt()),i.body.case="treeEdit",i.body.value=y}else if(f instanceof es){const l=f,y=Z(Uu);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.from=Zu(l.getFromPos()),y.to=Zu(l.getToPos());const E=l.getAttributesToRemove();if(E.length>0)y.attributesToRemove=E;else{const N=y.attributes;for(const[M,V]of l.getAttributes())N[M]=V}y.executedAt=pt(l.getExecutedAt()),i.body.case="treeStyle",i.body.value=y}else if(f instanceof ts){const l=f,y=Z($a);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.createdAt=pt(l.getCreatedAt()),y.value=Ku(l.getValue()),y.executedAt=pt(l.getExecutedAt()),i.body.case="arraySet",i.body.value=y}else throw new be(ge.ErrUnimplemented,"unimplemented operation");return i}function ns(f){const i=[];for(const l of f)i.push(tp(l));return i}function Yn(f){const i=Z(Uv,{id:ep(f.getID()),message:f.getMessage()});return f.hasOperations()&&(i.operations=ns(f.getOperations())),f.hasPresenceChange()&&(i.presenceChange=If(f.getPresenceChange())),i}function Mm(f){const i=[];for(const l of f)i.push(Yn(l));return i}function rx(f){const i=[];for(const l of f)i.push(Z(Hv,{key:l.getStrKey(),element:jr(l.getValue())}));return i}function hr(f){const i=[];for(const l of f)i.push(Z(e1,{element:jr(l.getValue())}));return i}function i1(f){const i=[];for(const l of f){const y=Z(dm);y.id=nx(l.getID()),y.value=l.getValue().getContent(),y.removedAt=pt(l.getRemovedAt());const E=y.attributes,N=l.getValue().getAttrs();for(const M of N){const V=Z(Vh);V.value=M.getValue(),V.updatedAt=pt(M.getUpdatedAt()),E[M.getKey()]=V}i.push(y)}return i}function ix(f){const i=[];if(!f||!f.length)return i;for(const l of f)i.push(Z(Qn,{content:wn(l)}));return i}function ox(f){const i={};for(const l of f)i[l.getKey()]=Z(Vh,{value:l.getValue(),updatedAt:pt(l.getUpdatedAt()),isRemoved:l.isRemoved()});return i}function wn(f){if(!f)return[];const i=[];return Nf(f,(l,y)=>{const E=Z(qr,{id:Xs(l.id),type:l.type,removedAt:pt(l.removedAt),depth:y});l.isText&&(E.value=l.value),l.insPrevID&&(E.insPrevId=Xs(l.insPrevID)),l.insNextID&&(E.insNextId=Xs(l.insNextID)),l.attrs&&(E.attributes=ox(l.attrs)),i.push(E)}),i}function Qr(f){return Z(Nr,{body:{case:"jsonObject",value:Z(Gu,{nodes:rx(f.getRHT()),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function yo(f){return Z(Nr,{body:{case:"jsonArray",value:Z(QS,{nodes:hr(f.getElements()),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function sx(f){return Z(Nr,{body:{case:"primitive",value:Z(Wn,{type:Ji(f.getType()),value:f.toBytes(),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function ax(f){return Z(Nr,{body:{case:"text",value:Z(cm,{nodes:i1(f.getRGATreeSplit()),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function o1(f){return Z(Nr,{body:{case:"counter",value:Z(fm,{type:Pm(f.getType()),value:f.toBytes(),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function np(f){return Z(Nr,{body:{case:"tree",value:Z($v,{nodes:wn(f.getRoot()),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function jr(f){if(f instanceof mr)return Qr(f);if(f instanceof nr)return yo(f);if(f instanceof Dn)return sx(f);if(f instanceof kr)return ax(f);if(f instanceof dr)return o1(f);if(f instanceof _r)return np(f);throw new be(ge.ErrUnimplemented,"unimplemented element")}function Qi(f){return Z(Ef,{documentKey:f.getDocumentKey(),checkpoint:Ks(f.getCheckpoint()),isRemoved:f.getIsRemoved(),changes:Mm(f.getChanges()),snapshot:f.getSnapshot(),versionVector:Ja(f.getVersionVector())})}function lx(f){return{id:f.id,label:f.label,description:f.description,snapshot:f.snapshot,createdAt:f.createdAt?mv(f.createdAt):new Date}}function br(f){if(!(f instanceof Ht))return{};const i=f.findDetails(vm);for(const l of i)return l.metadata;return{}}function Qa(f){return br(f).code??""}function vo(f,i){return f instanceof Ht&&Qa(f)===i}function Zs(f){return Oi.of(f.clientSeq,BigInt(f.lamport),or(f.actorId),xo(f.versionVector),BigInt(f.serverSeq))}function xo(f){if(!f)return;const i=new Xa;return Object.entries(f.vector).forEach(([l,y])=>{const E=eo(nc(l));i.set(E,BigInt(y.toString()))}),i}function gt(f){if(f)return Kr.of(BigInt(f.lamport),f.delimiter,or(f.actorId))}function Of(f){const i={};return Object.entries(f.data).forEach(([l,y])=>{i[l]=JSON.parse(y)}),i}function bo(f){const i=f.type;if(i===Ha.PUT){const l=Of(f.presence);return{type:Wi.Put,presence:l}}if(i===Ha.CLEAR)return{type:Wi.Clear};throw new be(ge.ErrInvalidType,`unsupported type: ${i}`)}function ux(f){const i=new Map;return Object.entries(f).forEach(([l,y])=>{i.set(l,Of(y))}),i}function el(f){switch(f){case Ft.NULL:return gn.Null;case Ft.BOOLEAN:return gn.Boolean;case Ft.INTEGER:return gn.Integer;case Ft.LONG:return gn.Long;case Ft.DOUBLE:return gn.Double;case Ft.STRING:return gn.String;case Ft.BYTES:return gn.Bytes;case Ft.DATE:return gn.Date}throw new be(ge.ErrUnimplemented,`unimplemented value type: ${f}`)}function Js(f){switch(f){case Ft.INTEGER_CNT:return pi.Int;case Ft.LONG_CNT:return pi.Long}throw new be(ge.ErrUnimplemented,`unimplemented value type: ${f}`)}function Qs(f){switch(f.type){case Ft.JSON_OBJECT:return f.value?tc(f.value):mr.create(gt(f.createdAt));case Ft.JSON_ARRAY:return f.value?Bm(f.value):nr.create(gt(f.createdAt));case Ft.TEXT:return kr.create(Ya.create(),gt(f.createdAt));case Ft.TREE:return op(f.value);case Ft.NULL:case Ft.BOOLEAN:case Ft.INTEGER:case Ft.LONG:case Ft.DOUBLE:case Ft.STRING:case Ft.BYTES:case Ft.DATE:return Dn.of(Dn.valueFromBytes(el(f.type),f.value),gt(f.createdAt));case Ft.INTEGER_CNT:case Ft.LONG_CNT:return dr.create(Js(f.type),dr.valueFromBytes(Js(f.type),f.value),gt(f.createdAt))}}function rs(f){return rr.of(mn.of(gt(f.createdAt),f.offset),f.relativeOffset)}function Lm(f){return mn.of(gt(f.createdAt),f.offset)}function cx(f){const i=Ys.create(f.value);Object.entries(f.attributes).forEach(([y,E])=>{i.setAttr(y,E.value,gt(E.updatedAt))});const l=po.create(Lm(f.id),i);return l.setRemovedAt(gt(f.removedAt)),l}function So(f){return Ii.of(Ju(f.parentId),Ju(f.leftSiblingId))}function Ju(f){return ir.of(gt(f.createdAt),f.offset)}function rp(f){if(!f.length)return;const i=[];return f.forEach(l=>{const y=ip(l.content);i.push(y)}),i}function ip(f){if(f.length===0)return;const i=[];for(const E of f)i.push(a1(E));const l=i[i.length-1],y=new Map;y.set(f[i.length-1].depth,i[i.length-1]);for(let E=i.length-2;E>=0;E--)y.get(f[E].depth-1).prepend(i[E]),y.set(f[E].depth,i[E]);return l.updateDescendantsSize(),l.updateDescendantsSize(!0),_r.create(l,Wa).getRoot()}function s1(f){const i=Fr.create();for(const[l,y]of Object.entries(f))i.setInternal(l,y.value,gt(y.updatedAt),y.isRemoved);return i}function a1(f){const i=Ju(f.id),l=Br.create(i,f.type),y=Object.entries(f.attributes);return l.isText?l.value=f.value:y.length&&(l.attrs=s1(f.attributes)),f.insPrevId&&(l.insPrevID=Ju(f.insPrevId)),f.insNextId&&(l.insNextID=Ju(f.insNextId)),l.removedAt=gt(f.removedAt),l}function on(f){if(f.body.case==="set"){const i=f.body.value;return Hs.create(i.key,Qs(i.value),gt(i.parentCreatedAt),gt(i.executedAt))}else if(f.body.case==="add"){const i=f.body.value;return Ti.create(gt(i.parentCreatedAt),gt(i.prevCreatedAt),Qs(i.value),gt(i.executedAt))}else if(f.body.case==="move"){const i=f.body.value;return Ni.create(gt(i.parentCreatedAt),gt(i.prevCreatedAt),gt(i.createdAt),gt(i.executedAt))}else if(f.body.case==="remove"){const i=f.body.value;return hi.create(gt(i.parentCreatedAt),gt(i.createdAt),gt(i.executedAt))}else if(f.body.case==="edit"){const i=f.body.value,l=new Map;return Object.entries(i.attributes).forEach(([y,E])=>{l.set(y,E)}),mo.create(gt(i.parentCreatedAt),rs(i.from),rs(i.to),i.content,l,gt(i.executedAt))}else if(f.body.case==="style"){const i=f.body.value,l=new Map;return Object.entries(i.attributes).forEach(([y,E])=>{l.set(y,E)}),Yu.create(gt(i.parentCreatedAt),rs(i.from),rs(i.to),l,gt(i.executedAt))}else if(f.body.case==="increase"){const i=f.body.value;return yn.create(gt(i.parentCreatedAt),Qs(i.value),gt(i.executedAt))}else if(f.body.case==="treeEdit"){const i=f.body.value;return Ka.create(gt(i.parentCreatedAt),So(i.from),So(i.to),rp(i.contents),i.splitLevel,gt(i.executedAt))}else if(f.body.case==="treeStyle"){const i=f.body.value,l=new Map,y=i.attributesToRemove;return(y==null?void 0:y.length)>0?es.createTreeRemoveStyleOperation(gt(i.parentCreatedAt),So(i.from),So(i.to),y,gt(i.executedAt)):(Object.entries(i.attributes).forEach(([E,N])=>{l.set(E,N)}),es.create(gt(i.parentCreatedAt),So(i.from),So(i.to),l,gt(i.executedAt)))}else if(f.body.case==="arraySet"){const i=f.body.value;return ts.create(gt(i.parentCreatedAt),gt(i.createdAt),Qs(i.value),gt(i.executedAt))}else throw new be(ge.ErrUnimplemented,"unimplemented operation")}function Rn(f){const i=[];for(const l of f){const y=on(l);y&&i.push(y)}return i}function Gt(f){const i=[];for(const l of f)i.push(qs.create({id:Zs(l.id),operations:Rn(l.operations),presenceChange:l.presenceChange?bo(l.presenceChange):void 0,message:l.message}));return i}function Kt(f){return Za.of(BigInt(f.serverSeq),f.clientSeq)}function cn(f){return Qh.create(f.documentKey,Kt(f.checkpoint),f.isRemoved,Gt(f.changes),xo(f.versionVector),f.snapshot)}function ei(f){const i=new qo;for(const y of f.nodes){const E=Eo(y.element);i.set(y.key,E,E.getPositionedAt())}const l=new mr(gt(f.createdAt),i);return l.setMovedAt(gt(f.movedAt)),l.setRemovedAt(gt(f.removedAt)),l}function is(f){const i=new Xo;for(const y of f.nodes)i.insert(Eo(y.element));const l=new nr(gt(f.createdAt),i);return l.setMovedAt(gt(f.movedAt)),l.setRemovedAt(gt(f.removedAt)),l}function Qu(f){const i=Dn.of(Dn.valueFromBytes(el(f.type),f.value),gt(f.createdAt));return i.setMovedAt(gt(f.movedAt)),i.setRemovedAt(gt(f.removedAt)),i}function Fm(f){const i=new Ya;let l=i.getHead();for(const E of f.nodes){const N=i.insertAfter(l,cx(E));E.insPrevId&&N.setInsPrev(i.findNode(Lm(E.insPrevId))),l=N}const y=new kr(i,gt(f.createdAt));return y.setMovedAt(gt(f.movedAt)),y.setRemovedAt(gt(f.removedAt)),y}function os(f){const i=dr.create(Js(f.type),dr.valueFromBytes(Js(f.type),f.value),gt(f.createdAt));return i.setMovedAt(gt(f.movedAt)),i.setRemovedAt(gt(f.removedAt)),i}function Pn(f){const i=ip(f.nodes);return _r.create(i,gt(f.createdAt))}function Eo(f){if(f.body.case==="jsonObject")return ei(f.body.value);if(f.body.case==="jsonArray")return is(f.body.value);if(f.body.case==="primitive")return Qu(f.body.value);if(f.body.case==="text")return Fm(f.body.value);if(f.body.case==="counter")return os(f.body.value);if(f.body.case==="tree")return Pn(f.body.value);throw new be(ge.ErrUnimplemented,"unimplemented element")}function tl(f){return f.map(i=>({path:i.path,type:i.type}))}function km(f){if(!f)return{root:mr.create(Wa),presences:new Map};const i=Ai(Sf,f);return{root:Eo(i.root),presences:ux(i.presences)}}function Di(f){const i=Ja(f);return eo(Ci(Vs,i))}function ec(f){const i=Ao(f),l=Ai(Vs,i);return xo(l)}function tc(f){if(!f)throw new be(ge.ErrInvalidArgument,"bytes is empty");const i=Ai(Nr,f);return ei(i.body.value)}function zr(f){return Ci(Nr,jr(f))}function Bm(f){if(!f)throw new be(ge.ErrInvalidArgument,"bytes is empty");const i=Ai(Nr,f);return is(i.body.value)}function jm(f){return Ci(Nr,yo(f))}function op(f){if(!f)throw new be(ge.ErrInvalidArgument,"bytes is empty");const i=Ai(Nr,f);return Pn(i.body.value)}function sp(f){return Ci(Nr,np(f))}function eo(f){return f?Array.from(f).map(i=>i.toString(16).padStart(2,"0")).join(""):""}function or(f){return eo(f)}function Ao(f){return new Uint8Array(f.match(/.{1,2}/g).map(i=>parseInt(i,16)))}function nc(f){if(typeof window<"u"&&typeof window.atob=="function"){const i=window.atob(f),l=i.length,y=new Uint8Array(l);for(let E=0;E<l;E++)y[E]=i.charCodeAt(E);return y}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const i=globalThis.Buffer;return new Uint8Array(i.from(f,"base64"))}else throw new Error("No base64 decoder available")}function ss(f){return Ao(f)}function zm(f){if(typeof window<"u"&&typeof window.btoa=="function"){let i="";for(let l=0;l<f.byteLength;l++)i+=String.fromCharCode(f[l]);return window.btoa(i)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(f).toString("base64");throw new Error("No base64 encoder available")}}function Vm(f){const i=Ai(jh,f);return Zs(i)}function fx(f){const i=Ai(Vu,f);return on(i)}const fn={fromPresence:Of,toChangePack:Qi,fromChangePack:cn,fromChanges:Gt,toTreeNodes:wn,fromTreeNodes:ip,objectToBytes:zr,bytesToObject:tc,bytesToSnapshot:km,bytesToHex:eo,hexToBytes:Ao,toHexString:or,toUint8Array:ss,toOperation:tp,toChangeID:ep,bytesToChangeID:Vm,bytesToOperation:fx,versionVectorToHex:Di,hexToVersionVector:ec,fromSchemaRules:tl,toRevisionSummary:lx,changeIDToBinary:f=>Ci(jh,ep(f)),operationToBinary:f=>Ci(Vu,tp(f))};var Ir=(f=>(f[f.Trivial=0]="Trivial",f[f.Debug=1]="Debug",f[f.Info=2]="Info",f[f.Warn=3]="Warn",f[f.Error=4]="Error",f[f.Fatal=5]="Fatal",f))(Ir||{});let sr=3;function dx(f){sr=f}const Xe={trivial:(...f)=>{sr>0||typeof console<"u"&&console.log("YORKIE T:",...f)},debug:(...f)=>{sr>1||typeof console<"u"&&console.log("YORKIE D:",...f)},info:(...f)=>{sr>2||typeof console<"u"&&console.log("YORKIE I:",...f)},warn:(...f)=>{sr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...f):console.log("YORKIE W:",...f))},error:(...f)=>{sr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...f):console.log("YORKIE E:",...f))},fatal:(...f)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...f):console.log("YORKIE F:",...f))},isEnabled:f=>sr<=f};function Um(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,f=>{const i=Math.random()*16|0;return(f==="x"?i:i&3|8).toString(16)})}const ap=()=>{};class l1{constructor(i){q(this,"finalized",!1);q(this,"observers",[]);q(this,"finalError");try{i(this)}catch(l){this.error(l)}}next(i){this.forEachObserver(l=>{l.next(i)})}error(i){this.forEachObserver(l=>{l.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,l,y){let E;if(!i)throw new be(ge.ErrInvalidArgument,"missing observer");if(this.finalized)throw new be(ge.ErrRefused,"observable is finalized due to previous error");typeof i=="object"?E=i:E={next:i,error:l,complete:y},E.next===void 0&&(E.next=ap),E.error===void 0&&(E.error=ap),E.complete===void 0&&(E.complete=ap);const N=Um(),M=this.unsubscribeOne.bind(this,N);if(this.observers.push({subscriptionID:N,observer:E}),this.finalized)try{this.finalError?E.error(this.finalError):E.complete()}catch(V){Xe.warn(V)}return M}unsubscribeOne(i){var l;this.observers=(l=this.observers)==null?void 0:l.filter(y=>y.subscriptionID!==i)}forEachObserver(i){if(!this.finalized)for(let l=0;l<this.observers.length;l++)this.sendOne(l,i)}sendOne(i,l){if(this.observers!==void 0&&this.observers[i]!==void 0)try{l(this.observers[i].observer)}catch(y){Xe.error(y)}}close(i){this.finalized||(this.finalized=!0,i!==void 0&&(this.finalError=i),this.observers=void 0)}}function as(f){const i=new l1(f);return{subscribe:i.subscribe.bind(i),getProxy:()=>i}}class ea{constructor(i,l,y,E){q(this,"prevID");q(this,"nextID");q(this,"delimiter");q(this,"message");q(this,"root");q(this,"operations");q(this,"presenceChange");q(this,"previousPresence");q(this,"reversePresenceKeys");this.prevID=i,this.nextID=i.next(),this.delimiter=xm,this.root=l,this.operations=[],this.previousPresence=Jr(y),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=E}static create(i,l,y,E){return new ea(i,l,y,E)}push(i){this.operations.push(i)}registerElement(i,l){this.root.registerElement(i,l)}registerRemovedElement(i){this.root.registerRemovedElement(i)}registerGCPair(i){this.root.registerGCPair(i)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const i=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return qs.create({id:i,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(i){this.presenceChange=i}setReversePresence(i,l){for(const y of Object.keys(i))l!=null&&l.addToHistory?this.reversePresenceKeys.add(y):this.reversePresenceKeys.delete(y)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const i={};for(const l of this.reversePresenceKeys)i[l]=this.previousPresence[l];return i}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(i){this.root.acc(i)}}function lp(f,i){const l=new Co(f);return new Proxy(i,l.getHandlers())}class Co{constructor(i){q(this,"context");q(this,"handlers");this.context=i,this.handlers={set:(l,y,E)=>(Xe.isEnabled(Ir.Trivial)&&Xe.trivial(`obj[${y}]=${JSON.stringify(E)}`),Co.setInternal(i,l,y,E),!0),get:(l,y)=>(Xe.isEnabled(Ir.Trivial)&&Xe.trivial(`obj[${y}]`),y==="getID"?()=>l.getCreatedAt():y==="toJSON"||y==="toString"?()=>l.toJSON():y==="toJS"?()=>l.toJS():y==="toJSForTest"?()=>l.toJSForTest():na(i,l.get(y))),ownKeys:l=>l.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(l,y)=>(Xe.isEnabled(Ir.Trivial)&&Xe.trivial(`obj[${y}]`),Co.deleteInternal(i,l,y),!0)}}static setInternal(i,l,y,E){if(y.includes("."))throw new be(ge.ErrInvalidObjectKey,"key must not contain the '.'.");const N=i.issueTimeTicket(),M=ra(i,E,N),V=l.set(y,M,N);i.registerElement(M,l),V&&i.registerRemovedElement(V),i.push(Hs.create(y,M.deepcopy(),l.getCreatedAt(),N))}static buildObjectMembers(i,l){const y={};for(const[E,N]of Object.entries(l)){if(E.includes("."))throw new be(ge.ErrInvalidObjectKey,"key must not contain the '.'.");const M=i.issueTimeTicket(),V=ra(i,N,M);y[E]=V}return y}static deleteInternal(i,l,y){const E=i.issueTimeTicket(),N=l.deleteByKey(y,E);N&&(i.push(hi.create(l.getCreatedAt(),N.getCreatedAt(),E)),i.registerRemovedElement(N))}getHandlers(){return this.handlers}}function hx(f,i){const l=new Jt(f,i);return new Proxy(i,l.getHandlers())}function Gm(f){return typeof f=="string"||f instanceof String?!isNaN(f):!1}function px(f){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(f)}class Jt{constructor(i,l){q(this,"context");q(this,"handlers");q(this,"array");this.context=i,this.array=l,this.handlers={get:(y,E,N)=>E==="getID"?()=>y.getCreatedAt():E==="getElementByID"?M=>{const V=y.getByID(M);if(!(!V||V.isRemoved()))return Pi(i,V)}:E==="getElementByIndex"?M=>{const V=y.get(M);return Pi(i,V)}:E==="getLast"?()=>Pi(i,y.getLast()):E==="delete"?M=>{const V=Jt.deleteInternalByIndex(i,y,M);return Pi(i,V)}:E==="deleteByID"?M=>{const V=Jt.deleteInternalByID(i,y,M);return Pi(i,V)}:E==="insertAfter"?(M,V)=>{const Y=Jt.insertAfterInternal(i,y,M,V);return Pi(i,Y)}:E==="insertIntegerAfter"?(M,V)=>{const Y=Jt.insertIntegerAfterInternal(i,y,M,V);return Pi(i,Y)}:E==="insertBefore"?(M,V)=>{const Y=Jt.insertBeforeInternal(i,y,M,V);return Pi(i,Y)}:E==="setValue"?(M,V)=>{const Y=Jt.setValueInternal(i,y,M,V);return Pi(i,Y)}:E==="moveBefore"?(M,V)=>{Jt.moveBeforeInternal(i,y,M,V)}:E==="moveAfter"?(M,V)=>{Jt.moveAfterInternal(i,y,M,V)}:E==="moveAfterByIndex"?(M,V)=>{Jt.moveAfterByIndexInternal(i,y,M,V)}:E==="moveFront"?M=>{Jt.moveFrontInternal(i,y,M)}:E==="moveLast"?M=>{Jt.moveLastInternal(i,y,M)}:Gm(E)?na(i,y.get(Number(E))):E==="push"?M=>Jt.pushInternal(i,y,M):E==="splice"?(M,V,...Y)=>Jt.splice(i,y,M,V,...Y):E==="length"?y.length:typeof E=="symbol"&&E===Symbol.iterator?Jt.iteratorInternal.bind(this,i,y):E==="includes"?(M,V)=>Jt.includes(i,y,M,V):E==="indexOf"?(M,V)=>Jt.indexOf(i,y,M,V):E==="lastIndexOf"?(M,V)=>Jt.lastIndexOf(i,y,M,V):E==="toJSForTest"?()=>y.toJSForTest():E==="toTestString"?()=>Jt.toTestString(y):typeof E=="string"&&px(E)?(...M)=>{const V=Array.from(y).map(Y=>na(i,Y));return Array.prototype[E].apply(V,M)}:Reflect.get(y,E,N),set:(y,E,N)=>{if(Gm(E)){const M=Number(E);return Jt.setValueInternal(i,y,M,N),!0}return Reflect.set(y,E,N)},deleteProperty:(y,E)=>(Xe.isEnabled(Ir.Trivial)&&Xe.trivial(`array[${E}]`),Jt.deleteInternalByIndex(i,y,Number.parseInt(E)),!0)}}static*iteratorInternal(i,l){for(const y of l)yield Pi(i,y)}static buildArrayElements(i,l){const y=[];for(const E of l){const N=i.issueTimeTicket(),M=ra(i,E,N);y.push(M)}return y}static pushInternal(i,l,y){return Jt.insertAfterInternal(i,l,l.getLastCreatedAt(),y),l.length}static moveBeforeInternal(i,l,y,E){const N=i.issueTimeTicket(),M=l.getPrevCreatedAt(y);l.moveAfter(M,E,N),i.push(Ni.create(l.getCreatedAt(),M,E,N))}static moveAfterInternal(i,l,y,E){const N=i.issueTimeTicket();i.push(Ni.create(l.getCreatedAt(),y,E,N)),l.moveAfter(y,E,N)}static moveAfterByIndexInternal(i,l,y,E){const N=l.get(y);if(!N)throw new be(ge.ErrInvalidArgument,`index out of bounds: ${y}`);const M=l.get(E);if(!M)throw new be(ge.ErrInvalidArgument,`index out of bounds: ${E}`);Jt.moveAfterInternal(i,l,N.getCreatedAt(),M.getCreatedAt())}static moveFrontInternal(i,l,y){const E=i.issueTimeTicket(),N=l.getHead();l.moveAfter(N.getCreatedAt(),y,E),i.push(Ni.create(l.getCreatedAt(),N.getCreatedAt(),y,E))}static moveLastInternal(i,l,y){const E=i.issueTimeTicket(),N=l.getLastCreatedAt();l.moveAfter(N,y,E),i.push(Ni.create(l.getCreatedAt(),N,y,E))}static insertAfterInternal(i,l,y,E){const N=i.issueTimeTicket(),M=ra(i,E,N);return l.insertAfter(y,M),i.registerElement(M,l),i.push(Ti.create(l.getCreatedAt(),y,M.deepcopy(),N)),M}static insertIntegerAfterInternal(i,l,y,E){const N=l.get(y);if(!N)throw new be(ge.ErrInvalidArgument,`index out of bounds: ${y}`);return Jt.insertAfterInternal(i,l,N.getCreatedAt(),E),l}static insertBeforeInternal(i,l,y,E){return Jt.insertAfterInternal(i,l,l.getPrevCreatedAt(y),E)}static setValueInternal(i,l,y,E){const N=l.get(y);if(!N)throw new be(ge.ErrInvalidArgument,`index out of bounds: ${y}`);return Jt.setByIndexInternal(i,l,N.getCreatedAt(),E),l}static setByIndexInternal(i,l,y,E){const N=i.issueTimeTicket(),M=ra(i,E,N),V=M.deepcopy();return i.push(ts.create(l.getCreatedAt(),y,V,N)),l.set(y,M,N),i.registerElement(M,l),M}static deleteInternalByIndex(i,l,y){const E=i.issueTimeTicket(),N=l.deleteByIndex(y,E);if(N)return i.push(hi.create(l.getCreatedAt(),N.getCreatedAt(),E)),i.registerRemovedElement(N),N}static deleteInternalByID(i,l,y){const E=i.issueTimeTicket(),N=l.delete(y,E);return i.push(hi.create(l.getCreatedAt(),N.getCreatedAt(),E)),i.registerRemovedElement(N),N}static splice(i,l,y,E,...N){const M=l.length,V=y>=0?Math.min(y,M):Math.max(M+y,0),Y=E===void 0?M:E<0?V:Math.min(V+E,M),ee=[];for(let ue=V;ue<Y;ue++){const we=Jt.deleteInternalByIndex(i,l,V);if(we){const ke=we.deepcopy();ke.setRemovedAt(),ee.push(na(i,ke))}}if(N){let ue=V===0?l.getHead().getID():l.get(V-1).getID();for(const we of N)ue=Jt.insertAfterInternal(i,l,ue,we).getID()}return ee}static includes(i,l,y,E){var V;const N=l.length,M=E===void 0?0:E<0?Math.max(E+N,0):E;if(M>=N)return!1;if(Dn.isSupport(y))return Array.from(l).map(ee=>na(i,ee)).includes(y,M);for(let Y=M;Y<N;Y++)if(((V=l.get(Y))==null?void 0:V.getID())===y.getID())return!0;return!1}static indexOf(i,l,y,E){var V;const N=l.length,M=E===void 0?0:E<0?Math.max(E+N,0):E;if(M>=N)return-1;if(Dn.isSupport(y))return Array.from(l).map(ee=>na(i,ee)).indexOf(y,M);for(let Y=M;Y<N;Y++)if(((V=l.get(Y))==null?void 0:V.getID())===y.getID())return Y;return-1}static lastIndexOf(i,l,y,E){var V;const N=l.length,M=E===void 0||E>=N?N-1:E<0?E+N:E;if(M<0)return-1;if(Dn.isSupport(y))return Array.from(l).map(ee=>na(i,ee)).lastIndexOf(y,M);for(let Y=M;Y>0;Y--)if(((V=l.get(Y))==null?void 0:V.getID())===y.getID())return Y;return-1}static toTestString(i){return i.toTestString()}getHandlers(){return this.handlers}}class Df{constructor(i,l){q(this,"context");q(this,"text");this.context=i,this.text=l}initialize(i,l){this.context=i,this.text=l}getID(){return this.text.getID()}edit(i,l,y,E){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const N=this.text.indexRangeToPosRange(i,l);Xe.isEnabled(Ir.Debug)&&Xe.debug(`EDIT: f:${i}->${N[0].toTestString()}, t:${l}->${N[1].toTestString()} c:${y}`);const M=E?qa(E):void 0,V=this.context.issueTimeTicket(),[,Y,ee,ue]=this.text.edit(N,y,V,M);this.context.acc(ee);for(const we of Y)this.context.registerGCPair(we);return this.context.push(new mo(this.text.getCreatedAt(),N[0],N[1],y,M?new Map(Object.entries(M)):new Map,V)),this.text.findIndexesFromRange(ue)}delete(i,l){return this.edit(i,l,"")}empty(){return this.edit(0,this.length,"")}setStyle(i,l,y){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const E=this.text.indexRangeToPosRange(i,l);Xe.isEnabled(Ir.Debug)&&Xe.debug(`STYL: f:${i}->${E[0].toTestString()}, t:${l}->${E[1].toTestString()} a:${JSON.stringify(y)}`);const N=qa(y),M=this.context.issueTimeTicket(),[V,Y]=this.text.setStyle(E,N,M);this.context.acc(Y);for(const ee of V)this.context.registerGCPair(ee);return this.context.push(new Yu(this.text.getCreatedAt(),E[0],E[1],new Map(Object.entries(N)),M)),!0}indexRangeToPosRange(i){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");const l=this.text.indexRangeToPosRange(i[0],i[1]);return[l[0].toStruct(),l[1].toStruct()]}posRangeToIndexRange(i){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");const l=this.text.findIndexesFromRange([rr.fromStruct(i[0]),rr.fromStruct(i[1])]);return[l[0],l[1]]}toTestString(){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(i,l){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(i,l)}}class $m{constructor(i,l){q(this,"valueType");q(this,"value");q(this,"context");q(this,"counter");this.valueType=i,this.value=l}initialize(i,l){this.valueType=l.getValueType(),this.context=i,this.counter=l,this.value=l.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(i){if(!this.context||!this.counter)throw new be(ge.ErrNotInitialized,"Counter is not initialized yet");const l=this.context.issueTimeTicket(),y=Dn.of(i,l);if(!y.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof y.getValue()}`);return this.counter.increase(y),this.context.push(yn.create(this.counter.getCreatedAt(),y,l)),this}toJSForTest(){if(!this.context||!this.counter)throw new be(ge.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Hm(f){if(f.isText)return{type:f.type,value:f.value};const i={type:f.type,children:f.children.map(l=>Hm(l))};return f.attrs&&(i.attributes=go(f.attrs.toObject())),i}function u1(f,i){const l={type:f.isText?f.parent.type:f.type,children:f.isText?f.parent.getChildrenText().length===i?[]:[{type:Zi,value:f.parent.getChildrenText().slice(i)}]:f.children.slice(i).map(y=>Hm(y))};return f.attrs?l.attributes=go(f.attrs.toObject()):f.isText&&f.parent.attrs&&(l.attributes=go(f.parent.attrs.toObject())),l}function gx(f,i){const{node:l}=f,y=[...i].slice(0,-1),E=l.isText?l.parent.getChildrenText().length:l.children.length,N=[...y,E],M=[...y],V=[];M[M.length-1]+=1,i.every((ee,ue)=>ee===N[ue])||V.push({fromPath:[...i],toPath:N});const Y=u1(l,i[i.length-1]);return Y&&V.push({fromPath:M,toPath:M,content:Y}),V}function mx(f,i){const{node:l,offset:y}=f,E=l.children[y],N=l.children[y-1],{children:M}=E,V=[...i].slice(0,-1),Y=[{fromPath:[...i],toPath:[...V,y+1]}];if(!E.children.length)return Y;const ee=[...V,y-1,N.hasTextChild()?N.getChildrenText().length:N.children.length],ue=M.map(we=>Hm(we));return Y.push({fromPath:ee,toPath:ee,content:ue}),Y}function ta(f,i,l){const{type:y}=f,E=l.issueTimeTicket();if(y===Zi){Wm(f);const{value:N}=f,M=Br.create(ir.of(E,0),y,N);i.append(M)}else{const{children:N=[]}=f,{attributes:M}=f;let V;if(typeof M=="object"&&!_m(M)){const ee=qa(M);V=new Fr;for(const[ue,we]of Object.entries(ee))V.set(ue,we,E)}const Y=Br.create(ir.of(E,0),y,void 0,V);i.append(Y);for(const ee of N)ta(ee,Y,l)}}function up(f,i){const{type:l}=i,y=f.issueTimeTicket();let E;if(i.type===Zi){const{value:N}=i;E=Br.create(ir.of(y,0),l,N)}else if(i){const{children:N=[]}=i,{attributes:M}=i;let V;if(typeof M=="object"&&!_m(M)){const Y=qa(M);V=new Fr;for(const[ee,ue]of Object.entries(Y))V.set(ee,ue,y)}E=Br.create(ir.of(f.issueTimeTicket(),0),l,void 0,V);for(const Y of N)ta(Y,E,f)}return E}function Wm(f){if(!f.value.length)throw new be(ge.ErrInvalidArgument,"text node cannot have empty value");return!0}function Ym(f){if(!f.length)return!0;if(f[0].type===Zi)for(const l of f){const{type:y}=l;if(y!==Zi)throw new be(ge.ErrInvalidArgument,"element node and text node cannot be passed together");Wm(l)}else for(const l of f){const{type:y}=l;if(y===Zi)throw new be(ge.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class cp{constructor(i){q(this,"initialRoot");q(this,"context");q(this,"tree");this.initialRoot=i}initialize(i,l){this.context=i,this.tree=l}getID(){return this.tree.getID()}buildRoot(i){if(!this.initialRoot)return Br.create(ir.of(i.issueTimeTicket(),0),r1);const l=Br.create(ir.of(i.issueTimeTicket(),0),this.initialRoot.type);for(const y of this.initialRoot.children)ta(y,l,i);return l}getSize(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new be(ge.ErrInvalidArgument,"path should not be empty");const l=this.tree.pathToTreePos(i),y=gx(l,i);for(const E of y){const{fromPath:N,toPath:M,content:V}=E,Y=this.tree.pathToPos(N),ee=this.tree.pathToPos(M);this.editInternal(Y,ee,V?[V]:[],0)}}mergeByPath(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new be(ge.ErrInvalidArgument,"path should not be empty");const l=this.tree.pathToTreePos(i);if(l.node.isText)throw new be(ge.ErrInvalidArgument,"text node cannot be merged");const y=mx(l,i);for(const E of y){const{fromPath:N,toPath:M,content:V}=E,Y=this.tree.pathToPos(N),ee=this.tree.pathToPos(M);this.editInternal(Y,ee,V??[],0)}}styleByPath(i,l){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new be(ge.ErrInvalidArgument,"path should not be empty");const[y,E]=this.tree.pathToPosRange(i),N=this.context.issueTimeTicket(),M=l?qa(l):void 0,[V,,Y]=this.tree.style([y,E],M,N);this.context.acc(Y);for(const ee of V)this.context.registerGCPair(ee);this.context.push(es.create(this.tree.getCreatedAt(),y,E,M?new Map(Object.entries(M)):new Map,N))}style(i,l,y){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const E=this.tree.findPos(i),N=this.tree.findPos(l),M=this.context.issueTimeTicket(),V=y?qa(y):void 0,[Y,,ee]=this.tree.style([E,N],V,M);this.context.acc(ee);for(const ue of Y)this.context.registerGCPair(ue);this.context.push(es.create(this.tree.getCreatedAt(),E,N,V?new Map(Object.entries(V)):new Map,M))}removeStyle(i,l,y){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const E=this.tree.findPos(i),N=this.tree.findPos(l),M=this.context.issueTimeTicket(),[V,,Y]=this.tree.removeStyle([E,N],y,M);this.context.acc(Y);for(const ee of V)this.context.registerGCPair(ee);this.context.push(es.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),E,N,y,M))}editInternal(i,l,y,E=0){var ee;if(y.length!==0&&y[0]&&(Ym(y),y[0].type!==Zi))for(const ue of y){const{children:we=[]}=ue;Ym(we)}const N=this.context.getLastTimeTicket();let M=new Array;if(((ee=y[0])==null?void 0:ee.type)===Zi){let ue="";for(const we of y){const{value:ke}=we;ue+=ke}M.push(Br.create(ir.of(this.context.issueTimeTicket(),0),Zi,ue))}else M=y.map(ue=>ue&&up(this.context,ue)).filter(ue=>ue);const[,V,Y]=this.tree.edit([i,l],M.length?M.map(ue=>ue==null?void 0:ue.deepcopy()):void 0,E,N,()=>this.context.issueTimeTicket());this.context.acc(Y);for(const ue of V)this.context.registerGCPair(ue);return this.context.push(Ka.create(this.tree.getCreatedAt(),i,l,M.length?M:void 0,E,N)),!0}editByPath(i,l,y,E=0){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i.length!==l.length)throw new be(ge.ErrInvalidArgument,"path length should be equal");if(!i.length||!l.length)throw new be(ge.ErrInvalidArgument,"path should not be empty");const N=this.tree.pathToPos(i),M=this.tree.pathToPos(l);return this.editInternal(N,M,y?[y]:[],E)}editBulkByPath(i,l,y,E=0){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i.length!==l.length)throw new be(ge.ErrInvalidArgument,"path length should be equal");if(!i.length||!l.length)throw new be(ge.ErrInvalidArgument,"path should not be empty");const N=this.tree.pathToPos(i),M=this.tree.pathToPos(l);return this.editInternal(N,M,y,E)}edit(i,l,y,E=0){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const N=this.tree.findPos(i),M=this.tree.findPos(l);return this.editInternal(N,M,y?[y]:[],E)}editBulk(i,l,y,E=0){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const N=this.tree.findPos(i),M=this.tree.findPos(l);return this.editInternal(N,M,y,E)}toXML(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(i)}pathToIndex(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(i)}pathRangeToPosRange(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");const l=[this.tree.pathToIndex(i[0]),this.tree.pathToIndex(i[1])],y=this.tree.indexRangeToPosRange(l);return[y[0].toStruct(),y[1].toStruct()]}indexRangeToPosRange(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(i)}posRangeToIndexRange(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");const l=[Ii.fromStruct(i[0]),Ii.fromStruct(i[1])];return this.tree.posRangeToIndexRange(l)}posRangeToPathRange(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");const l=[Ii.fromStruct(i[0]),Ii.fromStruct(i[1])];return this.tree.posRangeToPathRange(l)}}function qm(f,i){return lp(f,i)}function Pi(f,i){if(i){if(i instanceof Dn)return i;if(i instanceof mr)return lp(f,i);if(i instanceof nr)return hx(f,i);if(i instanceof kr)return new Df(f,i);if(i instanceof dr){const l=new $m(pi.Int,0);return l.initialize(f,i),l}else if(i instanceof _r){const l=new cp;return l.initialize(f,i),l}}else return;throw new TypeError(`Unsupported type of element: ${typeof i}`)}function na(f,i){const l=Pi(f,i);return l instanceof Dn?l.getValue():l}function ra(f,i,l){let y;if(Dn.isSupport(i))y=Dn.of(i,l);else if(Array.isArray(i))y=nr.create(l,Jt.buildArrayElements(f,i));else if(typeof i=="object")i instanceof Df?(y=kr.create(Ya.create(),l),i.initialize(f,y)):i instanceof $m?(y=dr.create(i.getValueType(),i.getValue(),l),i.initialize(f,y)):i instanceof cp?(y=_r.create(i.buildRoot(f),l),i.initialize(f,y)):y=mr.create(l,Co.buildObjectMembers(f,i));else throw new TypeError(`Unsupported type of value: ${typeof i}`);return y}class rc{constructor(i){q(this,"rootObject");q(this,"elementPairMapByCreatedAt");q(this,"gcElementSetByCreatedAt");q(this,"gcPairMap");q(this,"docSize");this.rootObject=i,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(i,void 0),i.getDescendants(l=>{if(l.getRemovedAt()&&this.registerRemovedElement(l),l instanceof kr||l instanceof _r)for(const y of l.getGCPairs())this.registerGCPair(y);return!1})}static create(){return new rc(mr.create(Wa))}findByCreatedAt(i){const l=this.elementPairMapByCreatedAt.get(i.toIDString());if(l)return l.element}findElementPairByCreatedAt(i){return this.elementPairMapByCreatedAt.get(i.toIDString())}createSubPaths(i){let l=this.elementPairMapByCreatedAt.get(i.toIDString());if(!l)return[];const y=[];for(;l.parent;){const E=l.element.getCreatedAt(),N=l.parent.subPathOf(E);if(N===void 0)throw new be(ge.ErrInvalidArgument,`cant find the given element: ${E.toIDString()}`);y.unshift(N),l=this.elementPairMapByCreatedAt.get(l.parent.getCreatedAt().toIDString())}return y.unshift("$"),y}createPath(i){return this.createSubPaths(i).join(".")}registerElement(i,l){this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:l,element:i}),Nn(this.docSize.live,i.getDataSize()),i instanceof Wo&&i.getDescendants((y,E)=>(this.elementPairMapByCreatedAt.set(y.getCreatedAt().toIDString(),{parent:E,element:y}),Nn(this.docSize.live,y.getDataSize()),!1))}deregisterElement(i){let l=0;const y=E=>{const N=E.getCreatedAt().toIDString();Lr(this.docSize.gc,E.getDataSize()),this.elementPairMapByCreatedAt.delete(N),this.gcElementSetByCreatedAt.delete(N),l++};return y(i),i instanceof Wo&&i.getDescendants(E=>(y(E),!1)),l}registerRemovedElement(i){Nn(this.docSize.gc,i.getDataSize()),Lr(this.docSize.live,i.getDataSize()),this.docSize.live.meta+=Yi,this.gcElementSetByCreatedAt.add(i.getCreatedAt().toIDString())}registerGCPair(i){if(this.gcPairMap.get(i.child.toIDString())){this.gcPairMap.delete(i.child.toIDString());return}this.gcPairMap.set(i.child.toIDString(),i);const y=this.gcPairMap.get(i.child.toIDString()).child.getDataSize();Nn(this.docSize.gc,y),Lr(this.docSize.live,y),i.child instanceof Zo||(this.docSize.live.meta+=Yi)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const i=new Set;for(const l of this.gcElementSetByCreatedAt){i.add(l);const y=this.elementPairMapByCreatedAt.get(l);y.element instanceof Wo&&y.element.getDescendants(E=>(i.add(E.getCreatedAt().toIDString()),!1))}return i.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new rc(this.rootObject.deepcopy())}garbageCollect(i){let l=0;for(const y of this.gcElementSetByCreatedAt){const E=this.elementPairMapByCreatedAt.get(y),N=E.element.getRemovedAt();N&&(i!=null&&i.afterOrEqual(N))&&(E.parent.purge(E.element),l+=this.deregisterElement(E.element))}for(const[,y]of this.gcPairMap){const E=y.child.getRemovedAt();E&&(i!=null&&i.afterOrEqual(E))&&(y.parent.purge(y.child),Lr(this.docSize.gc,y.child.getDataSize()),this.gcPairMap.delete(y.child.toIDString()),l+=1)}return l}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(i){Nn(this.docSize.live,i)}*getGCElementPairs(){for(const i of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(i);l&&(yield l)}}}let Km=class{constructor(i,l){q(this,"context");q(this,"presence");this.context=i,this.presence=l}set(i,l){for(const y of Object.keys(i))this.presence[y]=i[y];this.context.setPresenceChange({type:Wi.Put,presence:Jr(this.presence)}),this.context.setReversePresence(i,l)}get(i){return this.presence[i]}clear(){this.presence={},this.context.setPresenceChange({type:Wi.Clear})}};const vn=50;class Xm{constructor(){q(this,"undoStack",[]);q(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(i){this.undoStack.length>=vn&&this.undoStack.shift(),this.undoStack.push(i)}popUndo(){return this.undoStack.pop()}pushRedo(i){this.redoStack.length>=vn&&this.redoStack.shift(),this.redoStack.push(i)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(i,l){const y=E=>{for(const N of E)for(const M of N)(M instanceof ts||M instanceof hi||M instanceof Ni)&&M.getCreatedAt()===i&&M.setCreatedAt(l),(M instanceof Ti||M instanceof Ni)&&M.getPrevCreatedAt()===i&&M.setPrevCreatedAt(l)};y(this.undoStack),y(this.redoStack)}reconcileTextEdit(i,l,y,E){const N=M=>{for(const V of M)for(const Y of V)Y instanceof mo&&Y.getParentCreatedAt().compare(i)===0&&Y.reconcileOperation(l,y,E)};N(this.undoStack),N(this.redoStack)}}function c1(f,i){const l=[];for(const y of i){const E=yx(f,y.path),N=f1(E,y);if(!N.valid)for(const M of N.errors||[])l.push(M)}return{valid:l.length===0,errors:l}}function yx(f,i){if(!i.startsWith("$"))throw new Error(`Path must start with $, got ${i}`);const l=i.split(".");let y=f;for(let E=1;E<l.length;E++){const N=l[E];if(!(y instanceof mr))return;y=y.get(N)}return y}function f1(f,i){switch(i.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return h1(f,i);case"object":if(!(f instanceof mr))return{valid:!1,errors:[{path:i.path,message:`expected object at path ${i.path}`}]};break;case"array":if(!(f instanceof nr))return{valid:!1,errors:[{path:i.path,message:`expected array at path ${i.path}`}]};break;case"yorkie.Text":if(!(f instanceof kr))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Text at path ${i.path}`}]};break;case"yorkie.Tree":if(!(f instanceof _r))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Tree at path ${i.path}`}]};break;case"yorkie.Counter":if(!(f instanceof dr))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Counter at path ${i.path}`}]};break;default:throw new Error(`Unknown rule type: ${i.type}`)}return{valid:!0}}function d1(f){switch(f){case"null":return gn.Null;case"boolean":return gn.Boolean;case"integer":return gn.Integer;case"long":return gn.Long;case"double":return gn.Double;case"string":return gn.String;case"bytes":return gn.Bytes;case"date":return gn.Date;default:throw new Error(`Unknown primitive type: ${f}`)}}function h1(f,i){return f instanceof Dn&&f.getType()===d1(i.type)?{valid:!0}:{valid:!1,errors:[{path:i.path,message:`expected ${i.type} at path ${i.path}`}]}}const fp="yorkie-devtools-panel",ic="yorkie-devtools-sdk";function Zm(f){return[ar.StatusChanged,ar.Snapshot,ar.LocalChange,ar.RemoteChange,ar.Initialized,ar.Watched,ar.Unwatched,ar.PresenceChanged].includes(f.type)}function dp(f){return f.every(Zm)}let ia="disconnected";const oa=new Map,gi=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=gi);function sa(f,i){(i!=null&&i.force||ia!=="disconnected")&&window.postMessage({source:ic,...f},"*")}function p1(f){if(!f.isEnableDevtools()||typeof window>"u"||oa.has(f.getKey()))return;gi.set(f.getKey(),[]);const i=f.subscribe("all",l=>{dp(l)&&(gi.get(f.getKey()).push(l),ia==="synced"&&sa({msg:"doc::sync::partial",docKey:f.getKey(),event:l}))});oa.set(f.getKey(),[i]),sa({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",l=>{var E;if(((E=l.data)==null?void 0:E.source)!==fp)return;switch(l.data.msg){case"devtools::connect":if(ia!=="disconnected")break;ia="connected",sa({msg:"doc::available",docKey:f.getKey()}),Xe.info(`[YD] Devtools connected. Doc: ${f.getKey()}`);break;case"devtools::disconnect":ia="disconnected",Xe.info(`[YD] Devtools disconnected. Doc: ${f.getKey()}`);break;case"devtools::subscribe":ia="synced",sa({msg:"doc::sync::full",docKey:f.getKey(),events:gi.get(f.getKey())}),Xe.info(`[YD] Devtools subscribed. Doc: ${f.getKey()}`);break}})}var ls=(f=>(f.Detached="detached",f.Attached="attached",f.Removed="removed",f))(ls||{}),ar=(f=>(f.StatusChanged="status-changed",f.ConnectionChanged="connection-changed",f.SyncStatusChanged="sync-status-changed",f.Snapshot="snapshot",f.LocalChange="local-change",f.RemoteChange="remote-change",f.Initialized="initialized",f.Watched="watched",f.Unwatched="unwatched",f.PresenceChanged="presence-changed",f.AuthError="auth-error",f))(ar||{}),nl=(f=>(f.Connected="connected",f.Disconnected="disconnected",f))(nl||{}),hp=(f=>(f.Synced="synced",f.SyncFailed="sync-failed",f))(hp||{});class aa{constructor(i,l){q(this,"key");q(this,"status");q(this,"opts");q(this,"maxSizeLimit");q(this,"schemaRules");q(this,"changeID");q(this,"checkpoint");q(this,"localChanges");q(this,"root");q(this,"presences");q(this,"clone");q(this,"internalHistory");q(this,"isUpdating");q(this,"onlineClients");q(this,"eventStream");q(this,"eventStreamObserver");q(this,"history");this.key=i,this.status="detached",this.opts=l||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=Jo,this.checkpoint=Qo,this.localChanges=[],this.root=rc.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new Xm,this.isUpdating=!1,this.eventStream=as(y=>this.eventStreamObserver=y),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},p1(this)}update(i,l){var V,Y,ee;if(this.getStatus()==="removed")throw new be(ge.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const y=this.changeID.getActorID(),E=ea.create(this.changeID,this.clone.root,this.clone.presences.get(y)||{},l);try{const ue=qm(E,this.clone.root.getObject());this.presences.has(y)||this.clone.presences.set(y,{}),this.isUpdating=!0,i(ue,new Km(E,this.clone.presences.get(y)))}catch(ue){throw this.clone=void 0,ue}finally{this.isUpdating=!1}const N=this.getSchemaRules();if(!E.isPresenceOnlyChange()&&N.length){const ue=c1((V=this.clone)==null?void 0:V.root.getObject(),N);if(!ue.valid)throw this.clone=void 0,new be(ge.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(Y=ue.errors)==null?void 0:Y.map(we=>we.message).join(", ")}`)}const M=Ws((ee=this.clone)==null?void 0:ee.root.getDocSize());if(!E.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<M)throw this.clone=void 0,new be(ge.ErrDocumentSizeExceedsLimit,`document size exceeded: ${M} > ${this.maxSizeLimit}`);if(E.hasChange()){Xe.isEnabled(Ir.Trivial)&&Xe.trivial(`trying to update a local change: ${this.toJSON()}`);const ue=E.toChange(),{opInfos:we,reverseOps:ke}=ue.execute(this.root,this.presences,An.Local);for(const He of ue.getOperations())He instanceof ts&&this.internalHistory.reconcileCreatedAt(He.getCreatedAt(),He.getValue().getCreatedAt());const Re=E.getReversePresence();Re&&ke.push({type:"presence",value:Re}),this.localChanges.push(ue),ke.length&&this.internalHistory.pushUndo(ke),we.length&&this.internalHistory.clearRedo(),this.changeID=E.getNextID();const We=[];we.length&&We.push({type:"local-change",source:An.Local,value:{message:ue.getMessage()||"",operations:we,actor:y,clientSeq:ue.getID().getClientSeq(),serverSeq:ue.getID().getServerSeq()},rawChange:this.isEnableDevtools()?ue.toStruct():void 0}),ue.hasPresenceChange()&&We.push({type:"presence-changed",source:An.Local,value:{clientID:y,presence:this.getPresence(y)}}),this.publish(We),Xe.isEnabled(Ir.Trivial)&&Xe.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(i,l,y,E){if(typeof i=="string"){if(typeof l!="function")throw new be(ge.ErrInvalidArgument,"Second argument must be a callback function");if(i==="presence"){const V=l;return this.eventStream.subscribe(Y=>{for(const ee of Y)ee.type!=="initialized"&&ee.type!=="watched"&&ee.type!=="unwatched"&&ee.type!=="presence-changed"||V(ee)},y,E)}if(i==="my-presence"){const V=l;return this.eventStream.subscribe(Y=>{for(const ee of Y)ee.type!=="initialized"&&ee.type!=="presence-changed"||ee.type==="presence-changed"&&ee.value.clientID!==this.changeID.getActorID()||V(ee)},y,E)}if(i==="others"){const V=l;return this.eventStream.subscribe(Y=>{for(const ee of Y)ee.type!=="watched"&&ee.type!=="unwatched"&&ee.type!=="presence-changed"||ee.value.clientID!==this.changeID.getActorID()&&V(ee)},y,E)}if(i==="connection"){const V=l;return this.eventStream.subscribe(Y=>{for(const ee of Y)ee.type==="connection-changed"&&V(ee)},y,E)}if(i==="status"){const V=l;return this.eventStream.subscribe(Y=>{for(const ee of Y)ee.type==="status-changed"&&V(ee)},y,E)}if(i==="sync"){const V=l;return this.eventStream.subscribe(Y=>{for(const ee of Y)ee.type==="sync-status-changed"&&V(ee)},y,E)}if(i==="auth-error"){const V=l;return this.eventStream.subscribe(Y=>{for(const ee of Y)ee.type==="auth-error"&&V(ee)},y)}if(i==="all"){const V=l;return this.eventStream.subscribe(V,y,E)}const N=i,M=l;return this.eventStream.subscribe(V=>{for(const Y of V){if(Y.type!=="local-change"&&Y.type!=="remote-change")continue;const ee=[];for(const ue of Y.value.operations)this.isSameElementOrChildOf(ue.path,N)&&ee.push(ue);ee.length&&M({...Y,value:{...Y.value,operations:ee}})}},y,E)}if(typeof i=="function"){const N=i,M=l,V=y;return this.eventStream.subscribe(Y=>{for(const ee of Y)ee.type!=="snapshot"&&ee.type!=="local-change"&&ee.type!=="remote-change"||N(ee)},M,V)}throw new be(ge.ErrInvalidArgument,`"${i}" is not a valid`)}publish(i){this.eventStreamObserver&&this.eventStreamObserver.next(i)}applyChangePack(i){i.hasSnapshot()?this.applySnapshot(i.getCheckpoint().getServerSeq(),i.getVersionVector(),i.getSnapshot(),i.getCheckpoint().getClientSeq()):(this.applyChanges(i.getChanges(),An.Remote),this.removePushedLocalChanges(i.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(i.getCheckpoint()),i.hasSnapshot()||this.garbageCollect(i.getVersionVector()),i.getIsRemoved()&&this.applyStatus("removed"),Xe.isEnabled(Ir.Trivial)&&Xe.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Jr(this.presences)})}createChangePack(){const i=Array.from(this.localChanges),l=this.checkpoint.increaseClientSeq(i.length);return Qh.create(this.key,l,!1,i,this.getVersionVector())}setActor(i){for(const l of this.localChanges)l.setActor(i);this.changeID=this.changeID.setActor(i)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const i=ea.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return qm(i,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(i){this.maxSizeLimit=i}getSchemaRules(){return this.schemaRules}setSchemaRules(i){this.schemaRules=i}garbageCollect(i){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(i),this.root.garbageCollect(i))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(i,l,y,E=-1){const{root:N,presences:M}=fn.bytesToSnapshot(y);this.root=new rc(N),this.presences=M,this.changeID=this.changeID.setClocks(l.maxLamport(),l),this.clone=void 0,this.removePushedLocalChanges(E),this.applyChanges(this.localChanges,An.Local),this.clearHistory(),this.publish([{type:"snapshot",source:An.Remote,value:{serverSeq:i.toString(),snapshot:this.isEnableDevtools()?fn.bytesToHex(y):void 0,snapshotVector:fn.versionVectorToHex(l)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(i,l){Xe.isEnabled(Ir.Debug)&&Xe.debug(`trying to apply ${i.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),Xe.isEnabled(Ir.Trivial)&&Xe.trivial(i.map(y=>`${y.getID().toTestString()}	${y.toTestString()}`).join(`
`));for(const y of i)this.applyChange(y,l);Xe.isEnabled(Ir.Debug)&&Xe.debug(`after appling ${i.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(i,l){var V;this.ensureClone(),i.execute(this.clone.root,this.clone.presences,l);const y=[],E=i.getID().getActorID();if(i.hasPresenceChange()&&this.onlineClients.has(E)){const Y=i.getPresenceChange();switch(Y.type){case Wi.Put:y.push(this.presences.has(E)?{type:"presence-changed",source:l,value:{clientID:E,presence:Y.presence}}:{type:"watched",source:An.Remote,value:{clientID:E,presence:Y.presence}});break;case Wi.Clear:y.push({type:"unwatched",source:An.Remote,value:{clientID:E,presence:this.getPresence(E)}}),this.removeOnlineClient(E);break}}const{opInfos:N,operations:M}=i.execute(this.root,this.presences,l);for(const Y of M)if(Y instanceof mo){const[ee,ue]=Y.normalizePos(this.root);this.internalHistory.reconcileTextEdit(Y.getParentCreatedAt(),ee,ue,((V=Y.getContent())==null?void 0:V.length)??0)}if(this.changeID=this.changeID.syncClocks(i.getID()),N.length){const Y=this.isEnableDevtools()?i.toStruct():void 0;y.push(l===An.Remote?{type:"remote-change",source:l,value:{actor:E,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq(),message:i.getMessage()||"",operations:N},rawChange:Y}:{type:"local-change",source:l,value:{actor:E,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq(),message:i.getMessage()||"",operations:N},rawChange:Y})}y.length&&this.publish(y)}applyWatchStream(i){if(i.body.case==="initialization"){const l=i.body.value.clientIds,y=new Set;for(const E of l)E!==this.changeID.getActorID()&&y.add(E);this.setOnlineClients(y),this.publish([{type:"initialized",source:An.Local,value:this.getPresences()}]);return}if(i.body.case==="event"){const{type:l,publisher:y}=i.body.value,E=[];if(l===wf.DOCUMENT_WATCHED){if(this.onlineClients.has(y)&&this.hasPresence(y))return;this.addOnlineClient(y),this.hasPresence(y)&&E.push({type:"watched",source:An.Remote,value:{clientID:y,presence:this.getPresence(y)}})}else if(l===wf.DOCUMENT_UNWATCHED){const N=this.getPresence(y);this.removeOnlineClient(y),N&&E.push({type:"unwatched",source:An.Remote,value:{clientID:y,presence:N}})}E.length&&this.publish(E)}}applyStatus(i){this.status=i,i==="detached"&&this.setActor(Gh),this.publish([{source:i==="removed"?An.Remote:An.Local,type:"status-changed",value:i==="attached"?{status:i,actorID:this.changeID.getActorID()}:{status:i}}])}applyDocEventsForReplay(i){for(const l of i){if(l.type==="status-changed"){this.applyStatus(l.value.status),l.value.status==="attached"&&this.setActor(l.value.actorID);continue}if(l.type==="snapshot"){const{snapshot:y,serverSeq:E,snapshotVector:N}=l.value;if(!y)continue;this.applySnapshot(BigInt(E),fn.hexToVersionVector(N),fn.hexToBytes(y));continue}if(l.type==="local-change"||l.type==="remote-change"){if(!l.rawChange)continue;const y=qs.fromStruct(l.rawChange);this.applyChange(y,l.source)}if(l.type==="initialized"){const y=new Set;for(const{clientID:E,presence:N}of l.value)y.add(E),this.presences.set(E,N);this.setOnlineClients(y)}else if(l.type==="watched"){const{clientID:y,presence:E}=l.value;this.addOnlineClient(y),this.presences.set(y,E)}else if(l.type==="unwatched"){const{clientID:y}=l.value;this.removeOnlineClient(y),this.presences.delete(y)}else if(l.type==="presence-changed"){const{clientID:y,presence:E}=l.value;this.presences.set(y,E)}}}getValueByPath(i){if(!i.startsWith("$"))throw new be(ge.ErrInvalidArgument,'path must start with "$"');const l=i.split(".");l.shift();let y=this.getRoot();for(const E of l)if(y=y[E],!y)return;return y}setOnlineClients(i){this.onlineClients=i}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(i){this.onlineClients.add(i)}removeOnlineClient(i){this.onlineClients.delete(i)}hasPresence(i){return this.presences.has(i)}getMyPresence(){if(this.status!=="attached")return{};const i=this.presences.get(this.changeID.getActorID());return i?Jr(i):{}}getOthersPresences(){const i=[],l=this.changeID.getActorID();for(const y of this.onlineClients)y!==l&&this.presences.has(y)&&i.push({clientID:y,presence:Jr(this.presences.get(y))});return i}getPresence(i){if(i===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(i))return;const l=this.presences.get(i);return l?Jr(l):void 0}getPresences(){const i=[];i.push({clientID:this.changeID.getActorID(),presence:Jr(this.getMyPresence())});for(const l of this.onlineClients)this.presences.has(l)&&i.push({clientID:l,presence:Jr(this.presences.get(l))});return i}getPresenceForTest(i){const l=this.presences.get(i);return l?Jr(l):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const i=this.getChangeID().getActorID();return this.getPresences().filter(l=>l.clientID!==i).sort((l,y)=>l.clientID>y.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(i,l){if(l===i)return!0;const y=i.split(".");return l.split(".").every((E,N)=>E===y[N])}removePushedLocalChanges(i){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>i);)this.localChanges.shift()}executeUndoRedo(i){if(this.isUpdating)throw new be(ge.ErrRefused,`${i?"Undo":"Redo"} is not allowed during an update`);const l=i?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!l)throw new be(ge.ErrRefused,`There is no operation to be ${i?"undone":"redone"}`);this.ensureClone();const y=ea.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const ue of l){if(!(ue instanceof Mr)){new Km(y,Jr(this.clone.presences.get(this.changeID.getActorID()))).set(ue.value,{addToHistory:!0});continue}const we=y.issueTimeTicket();if(ue.setExecutedAt(we),ue instanceof ts){const ke=ue.getCreatedAt();ue.getValue().setCreatedAt(we),this.internalHistory.reconcileCreatedAt(ke,we)}else if(ue instanceof Ti){const ke=ue.getValue().getCreatedAt();ue.getValue().setCreatedAt(we),this.internalHistory.reconcileCreatedAt(ke,we)}y.push(ue)}const E=y.toChange();E.execute(this.clone.root,this.clone.presences,An.UndoRedo);const{opInfos:N,reverseOps:M}=E.execute(this.root,this.presences,An.UndoRedo),V=y.getReversePresence();if(V&&M.push({type:"presence",value:V}),M.length&&(i?this.internalHistory.pushRedo(M):this.internalHistory.pushUndo(M)),!E.hasPresenceChange()&&!N.length)return;this.localChanges.push(E),this.changeID=y.getNextID();const Y=this.changeID.getActorID(),ee=[];N.length&&ee.push({type:"local-change",source:An.UndoRedo,value:{message:E.getMessage()||"",operations:N,actor:Y,clientSeq:E.getID().getClientSeq(),serverSeq:E.getID().getServerSeq()},rawChange:this.isEnableDevtools()?E.toStruct():void 0}),E.hasPresenceChange()&&ee.push({type:"presence-changed",source:An.UndoRedo,value:{clientID:Y,presence:this.getPresence(Y)}}),this.publish(ee)}}class pp{constructor(i,l,y,E){q(this,"resource");q(this,"resourceID");q(this,"syncMode");q(this,"changeEventReceived");q(this,"lastHeartbeatTime");q(this,"reconnectStreamDelay");q(this,"cancelled");q(this,"watchStream");q(this,"watchLoopTimerID");q(this,"watchAbortController");this.reconnectStreamDelay=i,this.resource=l,this.resourceID=y,this.syncMode=E,this.changeEventReceived=E!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(i){this.syncMode=i}needRealtimeSync(){return this.syncMode===Mt.RealtimeSyncOff?!1:this.syncMode===Mt.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Mt.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(i){return this.resource instanceof aa?this.needRealtimeSync():this.syncMode===Mt.Manual?!1:Date.now()-this.lastHeartbeatTime>=i}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(i){const l=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await i(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(l,this.reconnectStreamDelay))})}catch{}};await l()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function vx(f,i){let l=i;return{authInterceptor:N=>async M=>(f&&M.header.set("x-api-key",f),l&&M.header.set("authorization",l),await N(M)),setToken:N=>{l=N}}}const gp={name:"@yorkie-js/sdk",version:"0.6.47"};function Jm(f){return i=>async l=>(f?l.header.set("x-yorkie-user-agent",f):l.header.set("x-yorkie-user-agent",gp.name+"/"+gp.version),await i(l))}const m1=f=>{try{if(JSON.stringify(f)===void 0)return!1}catch{return!1}return!0};var Pf=(f=>(f.Detached="detached",f.Attached="attached",f.Removed="removed",f))(Pf||{}),wo=(f=>(f.PresenceChanged="presence-changed",f.Initialized="initialized",f.Broadcast="broadcast",f.LocalBroadcast="local-broadcast",f.AuthError="auth-error",f))(wo||{});const Mf=".";class Ro{constructor(i){q(this,"key");q(this,"status");q(this,"actorID");q(this,"sessionID");q(this,"sessionCount");q(this,"seq");q(this,"eventStream");q(this,"eventStreamObserver");this.validateChannelKey(i),this.key=i,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=as(l=>this.eventStreamObserver=l)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Mf)[0]}getStatus(){return this.status}applyStatus(i){this.status=i}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(i){this.actorID=i}getSessionID(){return this.sessionID}setSessionID(i){this.sessionID=i}getSessionCount(){return this.sessionCount}updateSessionCount(i,l){return l===0||l>this.seq?(this.sessionCount=i,this.seq=l,!0):!1}hasLocalChanges(){return!1}subscribe(i,l){if(typeof i=="function")return this.eventStream.subscribe(i);const y=i,E=l;if(!E)throw new Error("callback is required when subscribing to specific event type or topic");if(y==="broadcast")return this.eventStream.subscribe(M=>{M.type==="broadcast"&&E(M)});if(y==="local-broadcast")return this.eventStream.subscribe(M=>{M.type==="local-broadcast"&&E(M)});if(y==="auth-error")return this.eventStream.subscribe(M=>{M.type==="auth-error"&&E(M)});if(y==="presence")return this.eventStream.subscribe(M=>{(M.type==="presence-changed"||M.type==="initialized")&&E(M)});if(y==="all")return this.eventStream.subscribe(E);const N=y;return this.eventStream.subscribe(M=>{M.type==="broadcast"&&M.topic===N&&E(M)})}publish(i){this.eventStreamObserver&&this.eventStreamObserver.next(i)}broadcast(i,l,y){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:i,payload:l,options:y})}validateChannelKey(i){if(i==="")throw new Error("channel key must not be empty");if(i.includes(" "))throw new Error("channel key must not contain a whitespace");if(i.startsWith(Mf))throw new Error("channel key must not start with a period");if(i.endsWith(Mf))throw new Error("channel key must not end with a period");if(i.includes(`${Mf}${Mf}`))throw new Error("channel key path must not empty")}}var Mt=(f=>(f.Manual="manual",f.Realtime="realtime",f.RealtimePushOnly="realtime-pushonly",f.RealtimeSyncOff="realtime-syncoff",f))(Mt||{});const la={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},oc={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class mp{constructor(i){q(this,"id");q(this,"key");q(this,"metadata");q(this,"status");q(this,"attachmentMap");q(this,"apiKey");q(this,"authTokenInjector");q(this,"conditions");q(this,"syncLoopDuration");q(this,"reconnectStreamDelay");q(this,"retrySyncLoopDelay");q(this,"channelHeartbeatInterval");q(this,"rpcClient");q(this,"setAuthToken");q(this,"taskQueue");q(this,"processing",!1);q(this,"keepalive",!1);i=i||la;const l=i.rpcAddr||la.rpcAddr;this.key=i.key||Um(),this.metadata=i.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=i.apiKey||"",this.authTokenInjector=i.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=i.syncLoopDuration??la.syncLoopDuration,this.reconnectStreamDelay=i.reconnectStreamDelay??la.reconnectStreamDelay,this.retrySyncLoopDelay=i.retrySyncLoopDelay??la.retrySyncLoopDelay,this.channelHeartbeatInterval=i.channelHeartbeatInterval??la.channelHeartbeatInterval;const{authInterceptor:y,setToken:E}=vx(this.apiKey);this.setAuthToken=E,this.rpcClient=Ga(Wv,am({baseUrl:l,interceptors:[y,Jm(i==null?void 0:i.userAgent)],fetch:(N,M)=>fetch(N,{...M,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const i=await this.authTokenInjector();this.setAuthToken(i)}return this.enqueueTask(async()=>{try{const i=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=i.clientId,this.status="activated",this.runSyncLoop(),Xe.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(i){throw Xe.error(`[AC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}})}deactivate(i={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const l=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:i.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),Xe.info(`[DC] c"${this.getKey()}" deactivated`)}catch(y){throw Xe.error(`[DC] c:"${this.getKey()}" err :`,y),await this.handleConnectError(y),y}};if(i.keepalive){this.keepalive=!0;const y=l();return this.keepalive=!1,y}return this.enqueueTask(l)}has(i){return this.attachmentMap.has(i)}attach(i,l){return i instanceof Ro?this.attachChannel(i,l):this.attachDocument(i,l)}attachDocument(i,l={}){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);if(i.getStatus()!==ls.Detached)throw new be(ge.ErrNotDetached,`${i.getKey()} is not detached`);i.setActor(this.id),i.update((E,N)=>N.set(l.initialPresence||{}));const y=l.syncMode??"realtime";return this.enqueueTask(async()=>{try{const E=await this.rpcClient.attachDocument({clientId:this.id,changePack:fn.toChangePack(i.createChangePack()),schemaKey:l.schema},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});(E.maxSizePerDocument??0)>0&&i.setMaxSizePerDocument(E.maxSizePerDocument),E.schemaRules.length>0&&i.setSchemaRules(fn.fromSchemaRules(E.schemaRules));const M=fn.fromChangePack(E.changePack);if(i.applyChangePack(M),i.getStatus()===ls.Removed)return i;i.applyStatus(ls.Attached),this.attachmentMap.set(i.getKey(),new pp(this.reconnectStreamDelay,i,E.documentId,y)),y!=="manual"&&await this.runWatchLoop(i.getKey()),Xe.info(`[AD] c:"${this.getKey()}" attaches d:"${i.getKey()}"`);const V=i.getRootObject();if(l.initialRoot){const Y=l.initialRoot;i.update(ee=>{for(const[ue,we]of Object.entries(Y))if(!V.has(ue)){const ke=ue;ee[ke]=we}})}return i}catch(E){throw Xe.error(`[AD] c:"${this.getKey()}" err :`,E),await this.handleConnectError(E),E}})}detach(i,l){return i instanceof Ro?this.detachChannel(i):this.detachDocument(i,l)}detachDocument(i,l={keepalive:!1}){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const y=this.attachmentMap.get(i.getKey());if(!y)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);i.update((N,M)=>M.clear());const E=async()=>{try{const N=await this.rpcClient.detachDocument({clientId:this.id,documentId:y.resourceID,changePack:fn.toChangePack(i.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),M=fn.fromChangePack(N.changePack);return i.applyChangePack(M),i.getStatus()!==ls.Removed&&i.applyStatus(ls.Detached),this.detachInternal(i.getKey()),Xe.info(`[DD] c:"${this.getKey()}" detaches d:"${i.getKey()}"`),i}catch(N){throw Xe.error(`[DD] c:"${this.getKey()}" err :`,N),await this.handleConnectError(N),N}};if(l.keepalive){this.keepalive=!0;const N=E();return this.keepalive=!1,N}return this.enqueueTask(E)}async attachChannel(i,l={}){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);if(i.getStatus()!==Pf.Detached)throw new be(ge.ErrNotDetached,`${i.getKey()} is not detached`);i.setActor(this.id);const y=async()=>{try{const E=await this.rpcClient.attachChannel({clientId:this.id,channelKey:i.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});i.setSessionID(E.sessionId),i.updateSessionCount(Number(E.sessionCount),0),i.applyStatus(Pf.Attached);const N=l.isRealtime!==!1?"realtime":"manual",M=new pp(this.reconnectStreamDelay,i,E.sessionId,N);return i.subscribe("local-broadcast",V=>{const{topic:Y,payload:ee,options:ue}=V;this.broadcast(i.getKey(),Y,ee,ue).catch(we=>{ue!=null&&ue.error&&ue.error(we),Xe.error(`[BC] c:"${this.getKey()}" failed: ${we}`)})}),this.attachmentMap.set(i.getKey(),M),N==="realtime"&&await this.runWatchLoop(i.getKey()),Xe.info(`[AP] c:"${this.getKey()}" attaches p:"${i.getKey()}" mode:${N} count:${i.getSessionCount()}`),i}catch(E){throw Xe.error(`[AP] c:"${this.getKey()}" err :`,E),await this.handleConnectError(E),E}};return this.enqueueTask(y)}async detachChannel(i){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(i.getKey()))throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const l=async()=>{try{const y=await this.rpcClient.detachChannel({clientId:this.id,channelKey:i.getKey(),sessionId:i.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});return i.updateSessionCount(Number(y.sessionCount),0),i.applyStatus(Pf.Detached),this.detachInternal(i.getKey()),Xe.info(`[DP] c:"${this.getKey()}" detaches p:"${i.getKey()}" count:${i.getSessionCount()}`),i}catch(y){throw Xe.error(`[DP] c:"${this.getKey()}" err :`,y),await this.handleConnectError(y),y}};return this.enqueueTask(l)}async changeSyncMode(i,l){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const y=this.attachmentMap.get(i.getKey());if(!y)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const E=y.syncMode;return E===l?i:(y.changeSyncMode(l),l==="manual"?(y.cancelWatchStream(),i):(l==="realtime"&&(y.changeEventReceived=!0),E==="manual"&&await this.runWatchLoop(i.getKey()),i))}sync(i){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);if(i instanceof Ro){const l=this.attachmentMap.get(i.getKey());if(!l)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(l).catch(async y=>{throw Xe.error(`[SY] c:"${this.getKey()}" err :`,y),await this.handleConnectError(y),y}))}if(i instanceof aa){const l=this.attachmentMap.get(i.getKey());if(!l)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(l,"realtime").catch(async y=>{throw Xe.error(`[SY] c:"${this.getKey()}" err :`,y),await this.handleConnectError(y),y}))}return this.enqueueTask(async()=>{const l=[];for(const[,y]of this.attachmentMap)y.syncMode!==void 0&&y.resource instanceof aa&&l.push(this.syncInternal(y,y.syncMode));return Promise.all(l).catch(async y=>{throw Xe.error(`[SY] c:"${this.getKey()}" err :`,y),await this.handleConnectError(y),y})})}remove(i){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const l=this.attachmentMap.get(i.getKey());if(!l)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);i.setActor(this.id);const y=fn.toChangePack(i.createChangePack());return y.isRemoved=!0,this.enqueueTask(async()=>{try{const E=await this.rpcClient.removeDocument({clientId:this.id,documentId:l.resourceID,changePack:y},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),N=fn.fromChangePack(E.changePack);i.applyChangePack(N),this.detachInternal(i.getKey()),Xe.info(`[RD] c:"${this.getKey()}" removes d:"${i.getKey()}"`)}catch(E){throw Xe.error(`[RD] c:"${this.getKey()}" err :`,E),await this.handleConnectError(E),E}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(i){return this.conditions[i]}async createRevision(i,l,y){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const E=this.attachmentMap.get(i.getKey());if(!E)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const N=async()=>{try{const M=await this.rpcClient.createRevision({clientId:this.id,documentId:E.resourceID,label:l,description:y||""},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});if(!M.revision)throw new be(ge.ErrInvalidArgument,"revision is not returned");return Xe.info(`[CR] c:"${this.getKey()}" creates revision d:"${i.getKey()}" l:"${l}"`),fn.toRevisionSummary(M.revision)}catch(M){throw Xe.error(`[CR] c:"${this.getKey()}" err :`,M),await this.handleConnectError(M),M}};return this.enqueueTask(N)}async listRevisions(i,l){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const y=this.attachmentMap.get(i.getKey());if(!y)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const E=async()=>{try{const N=await this.rpcClient.listRevisions({clientId:this.id,documentId:y.resourceID,pageSize:(l==null?void 0:l.pageSize)||10,offset:(l==null?void 0:l.offset)||0,isForward:(l==null?void 0:l.isForward)??!1},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});return Xe.info(`[LR] c:"${this.getKey()}" lists revisions d:"${i.getKey()}" count:${N.revisions.length}`),N.revisions.map(fn.toRevisionSummary)}catch(N){throw Xe.error(`[LR] c:"${this.getKey()}" err :`,N),await this.handleConnectError(N),N}};return this.enqueueTask(E)}async getRevision(i,l){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const y=this.attachmentMap.get(i.getKey());if(!y)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const E=async()=>{try{const N=await this.rpcClient.getRevision({clientId:this.id,documentId:y.resourceID,revisionId:l},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});if(!N.revision)throw new be(ge.ErrInvalidArgument,"revision is not returned");return Xe.info(`[GR] c:"${this.getKey()}" gets revision d:"${i.getKey()}" r:"${l}"`),fn.toRevisionSummary(N.revision)}catch(N){throw Xe.error(`[GR] c:"${this.getKey()}" err :`,N),await this.handleConnectError(N),N}};return this.enqueueTask(E)}async restoreRevision(i,l){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const y=this.attachmentMap.get(i.getKey());if(!y)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const E=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:y.resourceID,revisionId:l},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),Xe.info(`[RR] c:"${this.getKey()}" restores revision d:"${i.getKey()}" r:"${l}"`)}catch(N){throw Xe.error(`[RR] c:"${this.getKey()}" err :`,N),await this.handleConnectError(N),N}};return this.enqueueTask(E)}async broadcast(i,l,y,E){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const N=this.attachmentMap.get(i);if(!N)throw new be(ge.ErrNotAttached,`${i} is not attached`);if(!m1(y))throw new be(ge.ErrInvalidArgument,"payload is not serializable");const M=N.resource,V=(E==null?void 0:E.maxRetries)??oc.maxRetries,Y=oc.maxBackoff;let ee=0;const ue=ke=>Math.min(oc.initialRetryInterval*2**ke,Y),we=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:i,topic:l,payload:new TextEncoder().encode(JSON.stringify(y))},{headers:{"x-shard-key":`${this.apiKey}/${M.getFirstKeyPath()}`}}),Xe.info(`[BC] c:"${this.getKey()}" broadcasts p:"${i}" t:"${l}"`)}catch(ke){if(Xe.error(`[BC] c:"${this.getKey()}" err:`,ke),await this.handleConnectError(ke))if(vo(ke,ge.ErrUnauthenticated)&&N.resource instanceof Ro&&N.resource.publish({type:wo.AuthError,reason:br(ke).reason||"unauthenticated",method:"Broadcast"}),ee<V)ee++,setTimeout(()=>we(),ue(ee-1)),Xe.info(`[BC] c:"${this.getKey()}" retry attempt ${ee}/${V}`);else throw Xe.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),ke}});return we()}runSyncLoop(){const i=async()=>{if(!this.isActive()){Xe.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const l=[];for(const[,y]of this.attachmentMap)y.needSync(this.channelHeartbeatInterval)&&(y.changeEventReceived!==void 0&&(y.changeEventReceived=!1),l.push(this.syncInternal(y,y.syncMode).catch(E=>{throw vo(E,ge.ErrUnauthenticated)&&y.resource.publish([{type:ar.AuthError,value:{reason:br(E).reason,method:"PushPull"}}]),E})));await Promise.all(l),setTimeout(i,this.syncLoopDuration)})}catch(l){Xe.error(`[SL] c:"${this.getKey()}" sync failed:`,l),await this.handleConnectError(l)?setTimeout(i,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};Xe.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,i()}async runWatchLoop(i){const l=this.attachmentMap.get(i);if(!l)throw new be(ge.ErrNotAttached,`${i} is not attached`);return this.conditions.WatchLoop=!0,l.runWatchLoop(y=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new be(ge.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(i))return this.conditions.WatchLoop=!1,Promise.reject(new be(ge.ErrNotAttached,`${i} is not attached`));const E=new AbortController;return l.resource instanceof aa?this.createDocumentWatchStream(l,i,E,y):l.resource instanceof Ro?this.createChannelWatchStream(l,i,E,y):Promise.reject(new be(ge.ErrClientNotActivated,`Unknown resource type for ${i}`))})}createDocumentWatchStream(i,l,y,E){const N=this.rpcClient.watchDocument({clientId:this.id,documentId:i.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${l}`},signal:y.signal});return i.resource.publish([{type:ar.ConnectionChanged,value:nl.Connected}]),Xe.info(`[WD] c:"${this.getKey()}" watches d:"${l}"`),i.changeEventReceived!==void 0&&(i.changeEventReceived=!0),new Promise((M,V)=>{(async()=>{try{for await(const ee of N)this.handleWatchDocumentResponse(i,ee),ee.body.case==="initialization"&&M([N,y]);i.resource.resetOnlineClients(),i.resource.publish([{type:ar.Initialized,source:An.Local,value:i.resource.getPresences()}]),i.resource.publish([{type:ar.ConnectionChanged,value:nl.Disconnected}]),Xe.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),E()}catch(ee){i.resource.resetOnlineClients(),i.resource.publish([{type:ar.Initialized,source:An.Local,value:i.resource.getPresences()}]),i.resource.publish([{type:ar.ConnectionChanged,value:nl.Disconnected}]),Xe.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(ee)?(vo(ee,ge.ErrUnauthenticated)&&i.resource.publish([{type:ar.AuthError,value:{reason:br(ee).reason,method:"WatchDocument"}}]),E()):this.conditions.WatchLoop=!1,V(ee)}})()})}createChannelWatchStream(i,l,y,E){const N=this.rpcClient.watchChannel({clientId:this.id,channelKey:l},{headers:{"x-shard-key":`${this.apiKey}/${i.resource.getFirstKeyPath()}`},signal:y.signal});return Xe.info(`[WP] c:"${this.getKey()}" watches p:"${l}"`),new Promise((M,V)=>{(async()=>{try{let ee=!0;for await(const ue of N)this.handleWatchChannelResponse(i,ue),ee&&(ee=!1,M([N,y]));Xe.debug(`[WP] c:"${this.getKey()}" p:"${l}" stream ended`),E()}catch(ee){if(ee instanceof Error&&ee.name==="AbortError"){Xe.debug(`[WP] c:"${this.getKey()}" p:"${l}" stream aborted`);return}Xe.debug(`[WP] c:"${this.getKey()}" p:"${l}" err:`,ee),await this.handleConnectError(ee)?E():this.conditions.WatchLoop=!1,V(ee)}})()})}handleWatchChannelResponse(i,l){const y=i.resource;if(l.body.case==="initialized"){const{sessionCount:E,seq:N}=l.body.value;y.updateSessionCount(Number(E),Number(N))&&y.publish({type:wo.Initialized,count:Number(E)})}else if(l.body.case==="event"){const E=l.body.value;if(E.type===ym.BROADCAST){const N=new TextDecoder;try{const M=JSON.parse(N.decode(E.payload));y.publish({type:wo.Broadcast,clientID:E.publisher,topic:E.topic,payload:M})}catch(M){Xe.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,M)}return}y.updateSessionCount(Number(E.sessionCount),Number(E.seq))&&y.publish({type:wo.PresenceChanged,count:Number(E.sessionCount)})}}handleWatchDocumentResponse(i,l){if(l.body.case==="event"&&l.body.value.type===wf.DOCUMENT_CHANGED){i.changeEventReceived!==void 0&&(i.changeEventReceived=!0);return}i.resource.applyWatchStream(l)}deactivateInternal(){this.status="deactivated";for(const[i,l]of this.attachmentMap)this.detachInternal(i),l.resource instanceof aa?l.resource.applyStatus(ls.Detached):l.resource instanceof Ro&&l.resource.applyStatus(Pf.Detached)}detachInternal(i){const l=this.attachmentMap.get(i);l&&(l.cancelWatchStream(),l.resource instanceof aa&&l.resource.resetOnlineClients(),this.attachmentMap.delete(i))}async syncInternal(i,l){const{resource:y}=i;if(y instanceof Ro){try{const V=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:y.getKey(),sessionId:y.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${y.getFirstKeyPath()}`}});y.updateSessionCount(Number(V.sessionCount),0),i.updateHeartbeatTime(),Xe.debug(`[RP] c:"${this.getKey()}" refreshes p:"${y.getKey()}" mode:${i.syncMode}`)}catch(V){throw Xe.error(`[RP] c:"${this.getKey()}" err :`,V),V}return y}const E=y,{resourceID:N}=i,M=E.createChangePack();try{const V=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:N,changePack:fn.toChangePack(M),pushOnly:l==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${E.getKey()}`}}),Y=fn.fromChangePack(V.changePack);if(Y.hasChanges()&&(i.syncMode==="realtime-pushonly"||i.syncMode==="realtime-syncoff"))return E;E.applyChangePack(Y),i.resource.publish([{type:ar.SyncStatusChanged,value:hp.Synced}]),E.getStatus()===ls.Removed&&this.detachInternal(E.getKey());const ee=E.getKey(),ue=Y.getChangeSize();return Xe.info(`[PP] c:"${this.getKey()}" sync d:"${ee}", push:${M.getChangeSize()} pull:${ue} cp:${Y.getCheckpoint().toTestString()}`),E}catch(V){throw E.publish([{type:ar.SyncStatusChanged,value:hp.SyncFailed}]),Xe.error(`[PP] c:"${this.getKey()}" err :`,V),V}}async handleConnectError(i){if(!(i instanceof Ht))return!1;if(i.code===u.Canceled||i.code===u.Unknown||i.code===u.ResourceExhausted||i.code===u.Unavailable)return!0;if(Qa(i)===ge.ErrUnauthenticated){if(this.authTokenInjector){const l=await this.authTokenInjector(br(i).reason);this.setAuthToken(l)}return!0}return Qa(i)===ge.ErrTooManySubscribers?(Xe.error(`[WD] c:"${this.getKey()}" err :`,i.rawMessage),!0):(Qa(i)===ge.ErrTooManyAttachments||(Qa(i)===ge.ErrClientNotActivated||Qa(i)===ge.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(i){return new Promise((l,y)=>{this.taskQueue.push(()=>i().then(l).catch(y)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{Xe.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function Qm(f){return typeof f=="object"&&f!==null&&f.type==="Text"&&Array.isArray(f.nodes)}function yp(f){return typeof f=="object"&&f!==null&&f.type==="Tree"&&typeof f.root=="object"}function sc(f){return typeof f=="object"&&f!==null&&f.type==="Int"&&typeof f.value=="number"}function Lf(f){return typeof f=="object"&&f!==null&&f.type==="Long"&&typeof f.value=="number"}function rl(f){return typeof f=="object"&&f!==null&&f.type==="Date"&&typeof f.value=="string"}function e0(f){return typeof f=="object"&&f!==null&&f.type==="BinData"&&typeof f.value=="string"}function xx(f){return typeof f=="object"&&f!==null&&f.type==="Counter"&&typeof f.value=="object"}function y1(f){return typeof f=="object"&&f!==null&&!Array.isArray(f)&&!Qm(f)&&!yp(f)&&!sc(f)&&!Lf(f)&&!rl(f)&&!e0(f)&&!xx(f)}function bx(f){try{const i=Sx(f),l=JSON.parse(i);return il(l)}catch(i){throw new be(ge.ErrInvalidArgument,`Failed to parse YSON: ${i instanceof Error?i.message:String(i)}`)}}function Sx(f){let i=f;return i=i.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(l,y,E)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${y}","__yson_data":${E}}}`),i=i.replace(/Int\((-?\d+)\)/g,(l,y)=>`{"__yson_type":"Int","__yson_data":${y}}`),i=i.replace(/Long\((-?\d+)\)/g,(l,y)=>`{"__yson_type":"Long","__yson_data":${y}}`),i=i.replace(/Date\("([^"]*)"\)/g,(l,y)=>`{"__yson_type":"Date","__yson_data":"${y}"}`),i=i.replace(/BinData\("([^"]*)"\)/g,(l,y)=>`{"__yson_type":"BinData","__yson_data":"${y}"}`),i=i.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(l,y)=>`{"__yson_type":"Text","__yson_data":${y}}`),i=i.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(l,y)=>`{"__yson_type":"Tree","__yson_data":${y}}`),i}function il(f){if(f===null||typeof f!="object")return f;if(f.__yson_type==="Int"&&typeof f.__yson_data=="number")return{type:"Int",value:f.__yson_data};if(f.__yson_type==="Long"&&typeof f.__yson_data=="number")return{type:"Long",value:f.__yson_data};if(f.__yson_type==="Date"&&typeof f.__yson_data=="string")return{type:"Date",value:f.__yson_data};if(f.__yson_type==="BinData"&&typeof f.__yson_data=="string")return{type:"BinData",value:f.__yson_data};if(f.__yson_type==="Counter"&&typeof f.__yson_data=="object"){const l=il(f.__yson_data);if(typeof l=="object"&&l!==null&&"type"in l&&(l.type==="Int"||l.type==="Long"))return{type:"Counter",value:l};throw new be(ge.ErrInvalidArgument,"Counter must contain Int or Long")}if(f.__yson_type==="Text"&&Array.isArray(f.__yson_data))return{type:"Text",nodes:f.__yson_data.map(l=>xn(l))};if(f.__yson_type==="Tree"&&typeof f.__yson_data=="object")return{type:"Tree",root:vp(f.__yson_data)};if(Array.isArray(f))return f.map(l=>il(l));const i={};for(const[l,y]of Object.entries(f))i[l]=il(y);return i}function xn(f){if(typeof f!="object"||f===null||typeof f.val!="string")throw new be(ge.ErrInvalidArgument,"invalid text node format");const i={val:f.val};return f.attrs&&typeof f.attrs=="object"&&(i.attrs=f.attrs),i}function vp(f){if(typeof f!="object"||f===null||typeof f.type!="string")throw new be(ge.ErrInvalidArgument,"invalid tree node format");const i={type:f.type};return f.type==="text"&&typeof f.value=="string"?(i.value=f.value,i):(f.attrs&&typeof f.attrs=="object"&&(i.attrs=f.attrs),Array.isArray(f.children)&&(i.children=f.children.map(l=>vp(l))),i)}function Sr(f){return f.nodes.map(i=>i.val).join("")}function v1(f){return xp(f.root)}function xp(f){const i=f.attrs?Object.entries(f.attrs).map(([y,E])=>` ${y}="${bp(E)}"`).join(""):"";if(f.type==="text"&&f.value!==void 0)return`<${f.type}${i}>${bp(f.value)}</${f.type}>`;if(!f.children||f.children.length===0)return`<${f.type}${i} />`;const l=f.children.map(y=>xp(y)).join("");return`<${f.type}${i}>${l}</${f.type}>`}function bp(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Sp=Object.freeze(Object.defineProperty({__proto__:null,isBinData:e0,isCounter:xx,isDate:rl,isInt:sc,isLong:Lf,isObject:y1,isText:Qm,isTree:yp,parse:bx,textToString:Sr,treeToXML:v1},Symbol.toStringTag,{value:"Module"}));pi.Int,pi.Long,typeof globalThis<"u"&&(globalThis.yorkie={Client:mp,Document:aa,Primitive:Dn,Text:Df,Counter:$m,Tree:cp,Channel:Ro,ChannelEventType:wo,YSON:Sp,LogLevel:Ir,setLogLevel:dx,IntType:pi.Int,LongType:pi.Long});const ac={name:"@yorkie-js/react",version:"0.6.47"},Ep=a.createContext({client:void 0,loading:!0,error:void 0});function Ex(f){const[i,l]=a.useState(void 0),[y,E]=a.useState(!0),[N,M]=a.useState(void 0),[V,Y]=a.useState(!1);return a.useEffect(()=>{Y(!0)},[]),a.useEffect(()=>{E(!0),M(void 0);async function ee(){if(V)try{const ue=new mp(f);await ue.activate(),l(ue)}catch(ue){M(ue instanceof Error?ue:new Error("Failed to activate client"))}finally{E(!1)}}return ee(),()=>{i!=null&&i.isActive()&&i.deactivate({keepalive:!0})}},[f.apiKey,f.rpcAddr,V]),{client:i,loading:y,error:N}}const Ax=({children:f,...i})=>{const l=a.useMemo(()=>({userAgent:ac.name+"/"+ac.version,...i}),[i.apiKey,i.rpcAddr]),{client:y,loading:E,error:N}=Ex(l);return s.jsx(Ep.Provider,{value:{client:y,loading:E,error:N},children:f})},Cx=()=>{const f=a.useContext(Ep);if(!f)throw new Error("useYorkie must be used under YorkieProvider");return{client:f.client,loading:f.loading,error:f.error}};function t0(f){const i=new Set;let l=f;const y=()=>{i.forEach(Y=>Y(l))};return{subscribe:Y=>(i.add(Y),()=>i.delete(Y)),getSnapshot:()=>l,setState:Y=>{const ee=l;l=typeof Y=="function"?Y(ee):Y,ee!==l&&y()},destroy:()=>{i.clear()}}}const wx=f=>t0(f);function To(f,i,l=Object.is){const y=a.useRef(i),E=a.useRef(l),N=a.useRef(void 0);y.current=i,E.current=l;const M=()=>{const V=f.getSnapshot(),Y=y.current?y.current(V):V;return N.current!==void 0&&E.current(N.current,Y)?N.current:(N.current=Y,Y)};return a.useSyncExternalStore(f.subscribe,M,M)}function us(f){return f!=null&&typeof f[Symbol.iterator]=="function"}function n0(f){return"entries"in f&&typeof f.entries=="function"}function r0(f,i){const l=f instanceof Map?f:new Map(f.entries()),y=i instanceof Map?i:new Map(i.entries());if(l.size!==y.size)return!1;for(const[E,N]of l)if(!y.has(E)||!Object.is(N,y.get(E)))return!1;return!0}function S1(f,i){const l=f[Symbol.iterator](),y=i[Symbol.iterator]();let E=l.next(),N=y.next();for(;!E.done&&!N.done;){if(!Object.is(E.value,N.value))return!1;E=l.next(),N=y.next()}return E.done===N.done}function E1(f,i){const l=Object.keys(f),y=Object.keys(i);if(l.length!==y.length)return!1;for(const E of l)if(!Object.prototype.hasOwnProperty.call(i,E)||!Object.is(f[E],i[E]))return!1;return!0}function Ap(f,i){if(Object.is(f,i))return!0;if(typeof f!="object"||f===null||typeof i!="object"||i===null||Object.getPrototypeOf(f)!==Object.getPrototypeOf(i))return!1;const l=us(f),y=us(i);return l!==y?!1:l&&y?n0(f)&&n0(i)?r0(f,i):S1(f,i):E1(f,i)}function Rx(f,i,l,y,E,N,M,V){const Y=a.useRef(E),ee=a.useRef(N),[ue,we]=a.useState(!1);a.useEffect(()=>{we(!0)},[]),a.useEffect(()=>{if(l){V.setState(He=>({...He,loading:!1,error:l}));return}if(!f||i||!ue){V.setState(He=>({...He,loading:!0}));return}V.setState(He=>({...He,loading:!0,error:void 0}));const ke=new aa(y,{enableDevtools:M}),Re=[];Re.push(ke.subscribe(()=>{V.setState(He=>({...He,root:ke.getRoot()}))})),Re.push(ke.subscribe("presence",()=>{V.setState(He=>({...He,presences:ke.getPresences()}))})),Re.push(ke.subscribe("connection",He=>{V.setState(it=>({...it,connection:He.value}))}));async function We(){try{await(f==null?void 0:f.attach(ke,{initialRoot:Y.current,initialPresence:ee.current}));const He=it=>{try{ke.update(it)}catch(At){V.setState(en=>({...en,error:At instanceof Error?At:new Error("Failed to update document")}))}};V.setState(it=>({...it,doc:ke,root:ke.getRoot(),presences:ke.getPresences(),update:He}))}catch(He){V.setState(it=>({...it,error:He instanceof Error?He:new Error("Failed to attach document")}))}finally{V.setState(He=>({...He,loading:!1}))}}return We(),()=>{f&&f.has(y)&&f.detach(ke);for(const He of Re)He()}},[f,i,l,y,V,ue])}const ti=a.createContext(void 0),i0=({docKey:f,initialRoot:i={},initialPresence:l={},enableDevtools:y=!1,children:E})=>{const{client:N,loading:M,error:V}=Cx(),Y=a.useRef(void 0);Y.current||(Y.current=wx({doc:void 0,root:i,presences:[],connection:nl.Disconnected,update:()=>{},loading:!0,error:void 0}));const ee=Y.current;return Rx(N,M,V,f,i,l,y,ee),s.jsx(ti.Provider,{value:ee,children:E})};function Tx(){const f=a.useContext(ti);if(!f)throw new Error("useDocument must be used within a DocumentProvider");return To(f)}const Nx=()=>(f,i=Ap)=>{const l=a.useContext(ti);if(!l)throw new Error("useDocument must be used within a DocumentProvider");return To(l,f,i)},Ff=()=>{const f=lc("useRoot");return{root:To(f,l=>l.root)}},Mi=()=>{const f=lc("usePresences");return To(f,i=>i.presences)},_x=()=>{const f=lc("useConnection");return To(f,i=>i.connection)},lc=f=>{const i=a.useContext(ti);if(!i)throw new Error(`${f} must be used within a DocumentProvider`);return i};function cs(f,i,l){const y=a.useRef(void 0);y.current||(y.current=wx({doc:void 0,root:(l==null?void 0:l.initialRoot)??{},presences:[],connection:nl.Disconnected,update:()=>{},loading:!0,error:void 0}));const E=y.current,N=a.useMemo(()=>({apiKey:f,userAgent:ac.name+"/"+ac.version,...l}),[f,l]),{client:M,loading:V,error:Y}=Ex(N);Rx(M,V,Y,i,(l==null?void 0:l.initialRoot)??{},(l==null?void 0:l.initialPresence)??{},(l==null?void 0:l.enableDevtools)??!1,E);const ee=To(E);return{root:ee.root,presences:ee.presences,connection:ee.connection,update:ee.update,loading:ee.loading,error:ee.error}}function A1(f){return t0(f)}const Ix=a.createContext(void 0);function uc(f,i,l,y,E,N){const M=a.useRef(void 0),[V,Y]=a.useState(!1);a.useEffect(()=>{Y(!0)},[]),a.useEffect(()=>{if(!V||i||l||!f){l&&N.setState(we=>({...we,error:l,loading:!1}));return}let ee;async function ue(){if(!(!f||!f.isActive())){N.setState(we=>({...we,loading:!0,error:void 0}));try{const we=new Ro(y);await f.attach(we,{isRealtime:E}),M.current=we,ee=we.subscribe(()=>{N.setState(ke=>({...ke,sessionCount:we.getSessionCount()}))}),N.setState({channel:we,sessionCount:we.getSessionCount(),loading:!1,error:void 0})}catch(we){N.setState(ke=>({...ke,loading:!1,error:we instanceof Error?we:new Error("Failed to attach channel")}))}}}return ue(),()=>{ee&&ee();async function we(){if(M.current&&(f!=null&&f.isActive()))try{await f.detach(M.current)}catch(ke){console.error("Failed to detach channel:",ke)}}we()}},[f,i,l,y,E,V])}const Ox=({children:f,channelKey:i,isRealtime:l=!0})=>{const{client:y,loading:E,error:N}=Cx(),M=a.useRef(void 0);M.current||(M.current=A1({channel:void 0,sessionCount:0,loading:!0,error:void 0}));const V=M.current;return uc(y,E,N,i,l,V),s.jsx(Ix.Provider,{value:V,children:f})},Dx=f=>{const i=a.useContext(Ix);if(!i)throw new Error(`${f} must be used within ChannelProvider`);return i},C1=()=>{const f=Dx("useChannel"),i=To(f,E=>E.sessionCount),l=To(f,E=>E.loading),y=To(f,E=>E.error);return{sessionCount:i,loading:l,error:y}},w1=()=>{const f=Dx("useChannelSessionCount");return To(f,i=>i.sessionCount)};r.ChannelProvider=Ox,r.DocumentProvider=i0,r.YorkieProvider=Ax,r.createDocumentSelector=Nx,r.shallowEqual=Ap,r.useChannel=C1,r.useChannelSessionCount=w1,r.useConnection=_x,r.useDocument=Tx,r.usePresences=Mi,r.useRoot=Ff,r.useYorkieDoc=cs,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})})}(G0,G0.exports)),G0.exports}var Ea=X6();const yu=()=>O.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]","aria-live":"polite",children:[O.jsx(FD,{className:"h-8 w-8 animate-spin text-primary"}),O.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading..."})]}),lE=768;function Z6(){const[e,t]=F.useState(void 0);return F.useEffect(()=>{const n=window.matchMedia(`(max-width: ${lE-1}px)`),r=()=>{t(window.innerWidth<lE)};return n.addEventListener("change",r),t(window.innerWidth<lE),()=>n.removeEventListener("change",r)},[]),!!e}var J6="Separator",rT="horizontal",Q6=["horizontal","vertical"],cM=F.forwardRef((e,t)=>{const{decorative:n,orientation:r=rT,...s}=e,a=eG(r)?r:rT,d=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return O.jsx(Bt.div,{"data-orientation":a,...d,...s,ref:t})});cM.displayName=J6;function eG(e){return Q6.includes(e)}var tG=cM;function Ip({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return O.jsx(tG,{"data-slot":"separator-root",decorative:n,orientation:t,className:xt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function nG({...e}){return O.jsx(q3,{"data-slot":"sheet",...e})}function rG({...e}){return O.jsx(K3,{"data-slot":"sheet-portal",...e})}function iG({className:e,...t}){return O.jsx(X3,{"data-slot":"sheet-overlay",className:xt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function oG({className:e,children:t,side:n="right",...r}){return O.jsxs(rG,{children:[O.jsx(iG,{}),O.jsxs(Z3,{"data-slot":"sheet-content",className:xt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,O.jsxs(eP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[O.jsx(zD,{className:"size-4"}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function sG({className:e,...t}){return O.jsx("div",{"data-slot":"sheet-header",className:xt("flex flex-col gap-1.5 p-4",e),...t})}function aG({className:e,...t}){return O.jsx(J3,{"data-slot":"sheet-title",className:xt("text-foreground font-semibold",e),...t})}function lG({className:e,...t}){return O.jsx(Q3,{"data-slot":"sheet-description",className:xt("text-muted-foreground text-sm",e),...t})}var uG="VisuallyHidden",Jw=F.forwardRef((e,t)=>O.jsx(Bt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Jw.displayName=uG;var cG=Jw,[sS,q7]=Es("Tooltip",[dg]),aS=dg(),fM="TooltipProvider",fG=700,OC="tooltip.open",[dG,Qw]=sS(fM),dM=e=>{const{__scopeTooltip:t,delayDuration:n=fG,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,u=F.useRef(!0),d=F.useRef(!1),h=F.useRef(0);return F.useEffect(()=>{const g=h.current;return()=>window.clearTimeout(g)},[]),O.jsx(dG,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:F.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:F.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:F.useCallback(g=>{d.current=g},[]),disableHoverableContent:s,children:a})};dM.displayName=fM;var lS="Tooltip",[hG,Cy]=sS(lS),hM=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:u,delayDuration:d}=e,h=Qw(lS,e.__scopeTooltip),g=aS(t),[p,m]=F.useState(null),x=va(),b=F.useRef(0),A=u??h.disableHoverableContent,C=d??h.delayDuration,w=F.useRef(!1),[T=!1,_]=jc({prop:r,defaultProp:s,onChange:U=>{U?(h.onOpen(),document.dispatchEvent(new CustomEvent(OC))):h.onClose(),a==null||a(U)}}),I=F.useMemo(()=>T?w.current?"delayed-open":"instant-open":"closed",[T]),D=F.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w.current=!1,_(!0)},[_]),L=F.useCallback(()=>{window.clearTimeout(b.current),b.current=0,_(!1)},[_]),k=F.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,_(!0),b.current=0},C)},[C,_]);return F.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),O.jsx(jw,{...g,children:O.jsx(hG,{scope:t,contentId:x,open:T,stateAttribute:I,trigger:p,onTriggerChange:m,onTriggerEnter:F.useCallback(()=>{h.isOpenDelayedRef.current?k():D()},[h.isOpenDelayedRef,k,D]),onTriggerLeave:F.useCallback(()=>{A?L():(window.clearTimeout(b.current),b.current=0)},[L,A]),onOpen:D,onClose:L,disableHoverableContent:A,children:n})})};hM.displayName=lS;var DC="TooltipTrigger",pM=F.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Cy(DC,n),a=Qw(DC,n),u=aS(n),d=F.useRef(null),h=ln(t,d,s.onTriggerChange),g=F.useRef(!1),p=F.useRef(!1),m=F.useCallback(()=>g.current=!1,[]);return F.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),O.jsx(zw,{asChild:!0,...u,children:O.jsx(Bt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:h,onPointerMove:st(e.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:st(e.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:st(e.onPointerDown,()=>{s.open&&s.onClose(),g.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:st(e.onFocus,()=>{g.current||s.onOpen()}),onBlur:st(e.onBlur,s.onClose),onClick:st(e.onClick,s.onClose)})})});pM.displayName=DC;var e2="TooltipPortal",[pG,gG]=sS(e2,{forceMount:void 0}),gM=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,a=Cy(e2,t);return O.jsx(pG,{scope:t,forceMount:n,children:O.jsx(As,{present:n||a.open,children:O.jsx(my,{asChild:!0,container:s,children:r})})})};gM.displayName=e2;var Jp="TooltipContent",mM=F.forwardRef((e,t)=>{const n=gG(Jp,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,u=Cy(Jp,e.__scopeTooltip);return O.jsx(As,{present:r||u.open,children:u.disableHoverableContent?O.jsx(yM,{side:s,...a,ref:t}):O.jsx(mG,{side:s,...a,ref:t})})}),mG=F.forwardRef((e,t)=>{const n=Cy(Jp,e.__scopeTooltip),r=Qw(Jp,e.__scopeTooltip),s=F.useRef(null),a=ln(t,s),[u,d]=F.useState(null),{trigger:h,onClose:g}=n,p=s.current,{onPointerInTransitChange:m}=r,x=F.useCallback(()=>{d(null),m(!1)},[m]),b=F.useCallback((A,C)=>{const w=A.currentTarget,T={x:A.clientX,y:A.clientY},_=bG(T,w.getBoundingClientRect()),I=SG(T,_),D=EG(C.getBoundingClientRect()),L=CG([...I,...D]);d(L),m(!0)},[m]);return F.useEffect(()=>()=>x(),[x]),F.useEffect(()=>{if(h&&p){const A=w=>b(w,p),C=w=>b(w,h);return h.addEventListener("pointerleave",A),p.addEventListener("pointerleave",C),()=>{h.removeEventListener("pointerleave",A),p.removeEventListener("pointerleave",C)}}},[h,p,b,x]),F.useEffect(()=>{if(u){const A=C=>{const w=C.target,T={x:C.clientX,y:C.clientY},_=(h==null?void 0:h.contains(w))||(p==null?void 0:p.contains(w)),I=!AG(T,u);_?x():I&&(x(),g())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[h,p,u,g,x]),O.jsx(yM,{...e,ref:a})}),[yG,vG]=sS(lS,{isInside:!1}),xG=Vz("TooltipContent"),yM=F.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:u,...d}=e,h=Cy(Jp,n),g=aS(n),{onClose:p}=h;return F.useEffect(()=>(document.addEventListener(OC,p),()=>document.removeEventListener(OC,p)),[p]),F.useEffect(()=>{if(h.trigger){const m=x=>{const b=x.target;b!=null&&b.contains(h.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,p]),O.jsx(gy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:O.jsxs(Vw,{"data-state":h.stateAttribute,...g,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[O.jsx(xG,{children:r}),O.jsx(yG,{scope:n,isInside:!0,children:O.jsx(cG,{id:h.contentId,role:"tooltip",children:s||r})})]})})});mM.displayName=Jp;var vM="TooltipArrow",xM=F.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=aS(n);return vG(vM,n).isInside?null:O.jsx(Uw,{...s,...r,ref:t})});xM.displayName=vM;function bG(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function SG(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function EG(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function AG(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const d=t[a].x,h=t[a].y,g=t[u].x,p=t[u].y;h>r!=p>r&&n<(g-d)*(r-h)/(p-h)+d&&(s=!s)}return s}function CG(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),wG(t)}function wG(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(s.y-u.y)>=(a.y-u.y)*(s.x-u.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],u=n[n.length-2];if((a.x-u.x)*(s.y-u.y)>=(a.y-u.y)*(s.x-u.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var RG=dM,TG=hM,NG=pM,_G=gM,IG=mM,OG=xM;function t2({delayDuration:e=0,...t}){return O.jsx(RG,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function oi({...e}){return O.jsx(t2,{children:O.jsx(TG,{"data-slot":"tooltip",...e})})}function si({...e}){return O.jsx(NG,{"data-slot":"tooltip-trigger",...e})}function ai({className:e,sideOffset:t=0,children:n,...r}){return O.jsx(_G,{children:O.jsxs(IG,{"data-slot":"tooltip-content",sideOffset:t,className:xt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,O.jsx(OG,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const DG="sidebar_state",PG=60*60*24*7,MG="16rem",LG="18rem",FG="3rem",kG="b",bM=F.createContext(null);function uS(){const e=F.useContext(bM);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function SM({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:a,...u}){const d=Z6(),[h,g]=F.useState(!1),[p,m]=F.useState(e),x=t??p,b=F.useCallback(T=>{const _=typeof T=="function"?T(x):T;n?n(_):m(_),document.cookie=`${DG}=${_}; path=/; max-age=${PG}`},[n,x]),A=F.useCallback(()=>d?g(T=>!T):b(T=>!T),[d,b,g]);F.useEffect(()=>{const T=_=>{_.key===kG&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),A())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[A]);const C=x?"expanded":"collapsed",w=F.useMemo(()=>({state:C,open:x,setOpen:b,isMobile:d,openMobile:h,setOpenMobile:g,toggleSidebar:A}),[C,x,b,d,h,g,A]);return O.jsx(bM.Provider,{value:w,children:O.jsx(t2,{delayDuration:0,children:O.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":MG,"--sidebar-width-icon":FG,...s},className:xt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...u,children:a})})})}function BG({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...a}){const{isMobile:u,state:d,openMobile:h,setOpenMobile:g}=uS();return n==="none"?O.jsx("div",{"data-slot":"sidebar",className:xt("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...a,children:s}):u?O.jsx(nG,{open:h,onOpenChange:g,...a,children:O.jsxs(oG,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":LG},side:e,children:[O.jsxs(sG,{className:"sr-only",children:[O.jsx(aG,{children:"Sidebar"}),O.jsx(lG,{children:"Displays the mobile sidebar."})]}),O.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):O.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":d,"data-collapsible":d==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[O.jsx("div",{"data-slot":"sidebar-gap",className:xt("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),O.jsx("div",{"data-slot":"sidebar-container",className:xt("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:O.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function jG({className:e,onClick:t,...n}){const{toggleSidebar:r}=uS();return O.jsxs(qn,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:xt("size-7",e),onClick:s=>{t==null||t(s),r()},...n,children:[O.jsx(Qj,{}),O.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function EM({className:e,...t}){return O.jsx("main",{"data-slot":"sidebar-inset",className:xt("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function zG({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:xt("flex flex-col gap-2 p-2",e),...t})}function VG({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:xt("flex flex-col gap-2 p-2",e),...t})}function UG({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:xt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function AM({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:xt("relative flex w-full min-w-0 flex-col p-2",e),...t})}function CM({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:xt("w-full text-sm",e),...t})}function cS({className:e,...t}){return O.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:xt("flex w-full min-w-0 flex-col gap-1",e),...t})}function fS({className:e,...t}){return O.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:xt("group/menu-item relative",e),...t})}const GG=qb("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function dS({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:a,...u}){const d=e?dw:"button",{isMobile:h,state:g}=uS(),p=O.jsx(d,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:xt(GG({variant:n,size:r}),a),...u});return s?(typeof s=="string"&&(s={children:s}),O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:p}),O.jsx(ai,{side:"right",align:"center",hidden:g!=="collapsed"||h,...s})]})):p}function $G({items:e}){const t=Aa(),n=F.useCallback(r=>{const s=t.pathname;return s===r||s.startsWith(r+"/")},[t.pathname]);return O.jsx(AM,{children:O.jsx(CM,{className:"flex flex-col gap-2",children:O.jsx(cS,{children:e.map(r=>O.jsx(fS,{children:O.jsx(dS,{tooltip:r.title,isActive:n(r.url),children:O.jsxs(sg,{to:r.url,className:"flex items-center gap-2",children:[r.icon&&O.jsx(r.icon,{}),O.jsx("span",{children:r.title})]})})},r.title))})})})}function HG({items:e,...t}){return O.jsx(AM,{...t,children:O.jsx(CM,{children:O.jsx(cS,{children:e.map(n=>O.jsx(fS,{children:O.jsx(dS,{asChild:!0,children:O.jsxs(sg,{to:n.url,className:"flex items-center gap-2",children:[n.icon&&O.jsx(n.icon,{}),O.jsx("span",{children:n.title})]})})},n.title))})})})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WG={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=(e,t,n,r)=>{const s=F.forwardRef(({color:a="currentColor",size:u=24,stroke:d=2,title:h,className:g,children:p,...m},x)=>F.createElement("svg",{ref:x,...WG[e],width:u,height:u,className:["tabler-icon",`tabler-icon-${t}`,g].join(" "),strokeWidth:d,stroke:a,...m},[h&&F.createElement("title",{key:"svg-title"},h),...r.map(([b,A])=>F.createElement(b,A)),...Array.isArray(p)?p:[p]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wM=hn("outline","abc","IconAbc",[["path",{d:"M3 16v-6a2 2 0 1 1 4 0v6",key:"svg-0"}],["path",{d:"M3 13h4",key:"svg-1"}],["path",{d:"M10 8v6a2 2 0 1 0 4 0v-1a2 2 0 1 0 -4 0v1",key:"svg-2"}],["path",{d:"M20.732 12a2 2 0 0 0 -3.732 1v1a2 2 0 0 0 3.726 1.01",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var RM=hn("outline","align-box-bottom-center","IconAlignBoxBottomCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 15v2",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M15 13v4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var TM=hn("outline","align-box-center-middle","IconAlignBoxCenterMiddle",[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M11 15h2",key:"svg-1"}],["path",{d:"M9 12h6",key:"svg-2"}],["path",{d:"M10 9h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var NM=hn("outline","align-box-top-center","IconAlignBoxTopCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 9v-2",key:"svg-1"}],["path",{d:"M12 13v-6",key:"svg-2"}],["path",{d:"M15 11v-4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _M=hn("outline","align-center","IconAlignCenter",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M8 12l8 0",key:"svg-1"}],["path",{d:"M6 18l12 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IM=hn("outline","align-left","IconAlignLeft",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l10 0",key:"svg-1"}],["path",{d:"M4 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var OM=hn("outline","align-right","IconAlignRight",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M10 12l10 0",key:"svg-1"}],["path",{d:"M6 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YG=hn("outline","arrow-back-up","IconArrowBackUp",[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qG=hn("outline","arrow-forward-up","IconArrowForwardUp",[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KG=hn("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uE=hn("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XG=hn("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var PC=hn("outline","currency-dollar","IconCurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sy=hn("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iT=hn("outline","decimal","IconDecimal",[["path",{d:"M17 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-0"}],["path",{d:"M10 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-1"}],["path",{d:"M5 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZG=hn("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oT=hn("outline","droplet-off","IconDropletOff",[["path",{d:"M18.963 14.938a6.54 6.54 0 0 0 -.899 -4.06l-4.89 -7.26c-.42 -.626 -1.287 -.804 -1.936 -.398a1.376 1.376 0 0 0 -.41 .397l-1.282 1.9m-1.625 2.415l-1.986 2.946c-1.695 2.837 -1.035 6.44 1.567 8.545c2.602 2.105 6.395 2.105 8.996 0a6.83 6.83 0 0 0 1.376 -1.499",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var DM=hn("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var PM=hn("outline","hash","IconHash",[["path",{d:"M5 9l14 0",key:"svg-0"}],["path",{d:"M5 15l14 0",key:"svg-1"}],["path",{d:"M11 4l-4 16",key:"svg-2"}],["path",{d:"M17 4l-4 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JG=hn("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QG=hn("outline","logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var e8=hn("outline","paint","IconPaint",[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M19 6h1a2 2 0 0 1 2 2a5 5 0 0 1 -5 5l-5 0v2",key:"svg-1"}],["path",{d:"M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var MC=hn("outline","percentage","IconPercentage",[["path",{d:"M17 17m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 7m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var t8=hn("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var MM=hn("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var LM=hn("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var n8=hn("outline","share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var r8=hn("outline","strikethrough","IconStrikethrough",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sT=hn("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var i8=hn("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var o8=hn("outline","typography","IconTypography",[["path",{d:"M4 20l3 0",key:"svg-0"}],["path",{d:"M14 20l7 0",key:"svg-1"}],["path",{d:"M6.9 15l6.9 0",key:"svg-2"}],["path",{d:"M10.2 6.3l5.8 13.7",key:"svg-3"}],["path",{d:"M5 20l6 -16l2 0l7 16",key:"svg-4"}]]),n2="Avatar",[s8,K7]=Es(n2),[a8,FM]=s8(n2),kM=F.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=F.useState("idle");return O.jsx(a8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:O.jsx(Bt.span,{...r,ref:t})})});kM.displayName=n2;var BM="AvatarImage",jM=F.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,u=FM(BM,n),d=l8(r,a),h=ao(g=>{s(g),u.onImageLoadingStatusChange(g)});return wr(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?O.jsx(Bt.img,{...a,ref:t,src:r}):null});jM.displayName=BM;var zM="AvatarFallback",VM=F.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=FM(zM,n),[u,d]=F.useState(r===void 0);return F.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(h)}},[r]),u&&a.imageLoadingStatus!=="loaded"?O.jsx(Bt.span,{...s,ref:t}):null});VM.displayName=zM;function aT(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function l8(e,{referrerPolicy:t,crossOrigin:n}){const r=c8(),s=F.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[u,d]=F.useState(()=>aT(a,e));return wr(()=>{d(aT(a,e))},[a,e]),wr(()=>{const h=m=>()=>{d(m)};if(!a)return;const g=h("loaded"),p=h("error");return a.addEventListener("load",g),a.addEventListener("error",p),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",g),a.removeEventListener("error",p)}},[a,n,t]),u}function u8(){return()=>{}}function c8(){return F.useSyncExternalStore(u8,()=>!0,()=>!1)}var f8=kM,d8=jM,h8=VM;function kb({className:e,...t}){return O.jsx(f8,{"data-slot":"avatar",className:xt("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function LC({className:e,...t}){return O.jsx(d8,{"data-slot":"avatar-image",className:xt("aspect-square size-full",e),...t})}function Bb({className:e,...t}){return O.jsx(h8,{"data-slot":"avatar-fallback",className:xt("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function p8({user:e}){const{isMobile:t}=uS(),n=async()=>{await e3()};return O.jsx(cS,{children:O.jsx(fS,{children:O.jsxs(ga,{children:[O.jsx(ma,{asChild:!0,children:O.jsxs(dS,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground cursor-pointer",children:[O.jsxs(kb,{className:"h-8 w-8 rounded-lg",children:[O.jsx(LC,{src:e.photo,alt:e.username}),O.jsx(Bb,{className:"rounded-lg",children:"CN"})]}),O.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[O.jsx("span",{className:"truncate font-medium",children:e.username}),O.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]}),O.jsx(ZG,{className:"ml-auto size-4"})]})}),O.jsxs(ya,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[O.jsx(W6,{className:"p-0 font-normal",children:O.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[O.jsxs(kb,{className:"h-8 w-8 rounded-lg",children:[O.jsx(LC,{src:e.photo,alt:e.username}),O.jsx(Bb,{className:"rounded-lg",children:"CN"})]}),O.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[O.jsx("span",{className:"truncate font-medium",children:e.username}),O.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]})]})}),O.jsx(Zw,{}),O.jsxs(pr,{onClick:n,className:"cursor-pointer",children:[O.jsx(QG,{}),"Log out"]})]})]})})})}function UM({items:e,...t}){const{data:n,isLoading:r}=vu({queryKey:["me"],queryFn:nh,retry:!1});return r?null:O.jsxs(BG,{collapsible:"offcanvas",...t,children:[O.jsx(zG,{children:O.jsx(cS,{children:O.jsx(fS,{children:O.jsx(dS,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5",children:O.jsxs(sg,{to:"/",children:[O.jsx(LD,{className:"!size-5"}),O.jsx("span",{className:"text-base font-semibold",children:"Wafflebase"})]})})})})}),O.jsxs(UG,{children:[O.jsx($G,{items:e.main}),O.jsx(HG,{items:e.secondary,className:"mt-auto"})]}),O.jsx(VG,{children:O.jsx(p8,{user:n})})]})}function GM({title:e,children:t}){return O.jsx("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:O.jsxs("div",{className:"flex w-full items-center justify-between gap-1 px-4 lg:gap-2 lg:px-6 min-h-[3.5rem]",children:[O.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[O.jsx(jG,{className:"-ml-1"}),O.jsx(Ip,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),O.jsx("h1",{className:"text-base font-medium",children:e})]}),O.jsx("div",{className:"flex items-center min-w-0",children:t})]})})}function g8({className:e}){const{data:t}=vu({queryKey:["me"],queryFn:nh,retry:!1}),r=Ea.usePresences().reduce((a,u)=>{const d=u.presence.username;return a.find(h=>h.presence.username===d)||a.push(u),a},[]),s=r.length;return O.jsx(t2,{children:O.jsx("div",{className:`flex items-center gap-2 min-h-[2.5rem] ${e}`,children:s>0?O.jsx(O.Fragment,{children:O.jsxs("div",{className:"flex items-center -space-x-2",children:[r.slice(0,4).map(a=>{var g,p;const u=(g=a.presence)==null?void 0:g.username,d=(p=a.presence)==null?void 0:p.photo,h=u===(t==null?void 0:t.username);return u?O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsxs("div",{className:"relative",children:[O.jsxs(kb,{className:"h-8 w-8 border-2 border-background",children:[d&&O.jsx(LC,{src:d,alt:u}),O.jsx(Bb,{className:"text-xs",children:(u==null?void 0:u.slice(0,2).toUpperCase())||"??"})]}),O.jsx("div",{className:"absolute -bottom-1 -right-1",children:O.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 border-2 border-background"})})]})}),O.jsx(ai,{children:O.jsxs("p",{children:[u||"Anonymous",h?" (You)":""]})})]},a.clientID):null}).filter(Boolean),s>4&&O.jsx(kb,{className:"w-8 border-2 border-background",children:O.jsxs(Bb,{className:"text-xs bg-muted",children:["+",s-4]})})]})}):O.jsx("div",{className:"w-32 opacity-0"})})})}function lT(e,[t,n]){return Math.min(n,Math.max(t,e))}var m8=[" ","Enter","ArrowUp","ArrowDown"],y8=[" ","Enter"],wy="Select",[hS,pS,v8]=Nw(wy),[hg,X7]=Es(wy,[v8,dg]),gS=dg(),[x8,Gc]=hg(wy),[b8,S8]=hg(wy),$M=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:u,defaultValue:d,onValueChange:h,dir:g,name:p,autoComplete:m,disabled:x,required:b,form:A}=e,C=gS(t),[w,T]=F.useState(null),[_,I]=F.useState(null),[D,L]=F.useState(!1),k=_w(g),[U=!1,B]=jc({prop:r,defaultProp:s,onChange:a}),[W,te]=jc({prop:u,defaultProp:d,onChange:h}),ie=F.useRef(null),se=w?A||!!w.closest("form"):!0,[Ce,je]=F.useState(new Set),Me=Array.from(Ce).map(re=>re.props.value).join(";");return O.jsx(jw,{...C,children:O.jsxs(x8,{required:b,scope:t,trigger:w,onTriggerChange:T,valueNode:_,onValueNodeChange:I,valueNodeHasChildren:D,onValueNodeHasChildrenChange:L,contentId:va(),value:W,onValueChange:te,open:U,onOpenChange:B,dir:k,triggerPointerDownPosRef:ie,disabled:x,children:[O.jsx(hS.Provider,{scope:t,children:O.jsx(b8,{scope:e.__scopeSelect,onNativeOptionAdd:F.useCallback(re=>{je(Ie=>new Set(Ie).add(re))},[]),onNativeOptionRemove:F.useCallback(re=>{je(Ie=>{const de=new Set(Ie);return de.delete(re),de})},[]),children:n})}),se?O.jsxs(hL,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:m,value:W,onChange:re=>te(re.target.value),disabled:x,form:A,children:[W===void 0?O.jsx("option",{value:""}):null,Array.from(Ce)]},Me):null]})})};$M.displayName=wy;var HM="SelectTrigger",WM=F.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=gS(n),u=Gc(HM,n),d=u.disabled||r,h=ln(t,u.onTriggerChange),g=pS(n),p=F.useRef("touch"),[m,x,b]=pL(C=>{const w=g().filter(I=>!I.disabled),T=w.find(I=>I.value===u.value),_=gL(w,C,T);_!==void 0&&u.onValueChange(_.value)}),A=C=>{d||(u.onOpenChange(!0),b()),C&&(u.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return O.jsx(zw,{asChild:!0,...a,children:O.jsx(Bt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":dL(u.value)?"":void 0,...s,ref:h,onClick:st(s.onClick,C=>{C.currentTarget.focus(),p.current!=="mouse"&&A(C)}),onPointerDown:st(s.onPointerDown,C=>{p.current=C.pointerType;const w=C.target;w.hasPointerCapture(C.pointerId)&&w.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(A(C),C.preventDefault())}),onKeyDown:st(s.onKeyDown,C=>{const w=m.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&x(C.key),!(w&&C.key===" ")&&m8.includes(C.key)&&(A(),C.preventDefault())})})})});WM.displayName=HM;var YM="SelectValue",qM=F.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:u="",...d}=e,h=Gc(YM,n),{onValueNodeHasChildrenChange:g}=h,p=a!==void 0,m=ln(t,h.onValueNodeChange);return wr(()=>{g(p)},[g,p]),O.jsx(Bt.span,{...d,ref:m,style:{pointerEvents:"none"},children:dL(h.value)?O.jsx(O.Fragment,{children:u}):a})});qM.displayName=YM;var E8="SelectIcon",KM=F.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return O.jsx(Bt.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});KM.displayName=E8;var A8="SelectPortal",XM=e=>O.jsx(my,{asChild:!0,...e});XM.displayName=A8;var th="SelectContent",ZM=F.forwardRef((e,t)=>{const n=Gc(th,e.__scopeSelect),[r,s]=F.useState();if(wr(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?py.createPortal(O.jsx(JM,{scope:e.__scopeSelect,children:O.jsx(hS.Slot,{scope:e.__scopeSelect,children:O.jsx("div",{children:e.children})})}),a):null}return O.jsx(QM,{...e,ref:t})});ZM.displayName=th;var hs=10,[JM,$c]=hg(th),C8="SelectContentImpl",w8=Fc("SelectContent.RemoveScroll"),QM=F.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:u,side:d,sideOffset:h,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:A,hideWhenDetached:C,avoidCollisions:w,...T}=e,_=Gc(th,n),[I,D]=F.useState(null),[L,k]=F.useState(null),U=ln(t,J=>D(J)),[B,W]=F.useState(null),[te,ie]=F.useState(null),se=pS(n),[Ce,je]=F.useState(!1),Me=F.useRef(!1);F.useEffect(()=>{if(I)return Aw(I)},[I]),Ew();const re=F.useCallback(J=>{const[X,...Z]=se().map(Se=>Se.ref.current),[le]=Z.slice(-1),xe=document.activeElement;for(const Se of J)if(Se===xe||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===X&&L&&(L.scrollTop=0),Se===le&&L&&(L.scrollTop=L.scrollHeight),Se==null||Se.focus(),document.activeElement!==xe))return},[se,L]),Ie=F.useCallback(()=>re([B,I]),[re,B,I]);F.useEffect(()=>{Ce&&Ie()},[Ce,Ie]);const{onOpenChange:de,triggerPointerDownPosRef:fe}=_;F.useEffect(()=>{if(I){let J={x:0,y:0};const X=le=>{var xe,Se;J={x:Math.abs(Math.round(le.pageX)-(((xe=fe.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(le.pageY)-(((Se=fe.current)==null?void 0:Se.y)??0))}},Z=le=>{J.x<=10&&J.y<=10?le.preventDefault():I.contains(le.target)||de(!1),document.removeEventListener("pointermove",X),fe.current=null};return fe.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Z,{capture:!0})}}},[I,de,fe]),F.useEffect(()=>{const J=()=>de(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[de]);const[K,ne]=pL(J=>{const X=se().filter(xe=>!xe.disabled),Z=X.find(xe=>xe.ref.current===document.activeElement),le=gL(X,J,Z);le&&setTimeout(()=>le.ref.current.focus())}),me=F.useCallback((J,X,Z)=>{const le=!Me.current&&!Z;(_.value!==void 0&&_.value===X||le)&&(W(J),le&&(Me.current=!0))},[_.value]),j=F.useCallback(()=>I==null?void 0:I.focus(),[I]),z=F.useCallback((J,X,Z)=>{const le=!Me.current&&!Z;(_.value!==void 0&&_.value===X||le)&&ie(J)},[_.value]),G=r==="popper"?FC:eL,H=G===FC?{side:d,sideOffset:h,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:A,hideWhenDetached:C,avoidCollisions:w}:{};return O.jsx(JM,{scope:n,content:I,viewport:L,onViewportChange:k,itemRefCallback:me,selectedItem:B,onItemLeave:j,itemTextRefCallback:z,focusSelectedItem:Ie,selectedItemText:te,position:r,isPositioned:Ce,searchRef:K,children:O.jsx(Jb,{as:w8,allowPinchZoom:!0,children:O.jsx(Xb,{asChild:!0,trapped:_.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:st(s,J=>{var X;(X=_.trigger)==null||X.focus({preventScroll:!0}),J.preventDefault()}),children:O.jsx(gy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:O.jsx(G,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:J=>J.preventDefault(),...T,...H,onPlaced:()=>je(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:st(T.onKeyDown,J=>{const X=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!X&&J.key.length===1&&ne(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let le=se().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const xe=J.target,Se=le.indexOf(xe);le=le.slice(Se+1)}setTimeout(()=>re(le)),J.preventDefault()}})})})})})})});QM.displayName=C8;var R8="SelectItemAlignedPosition",eL=F.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Gc(th,n),u=$c(th,n),[d,h]=F.useState(null),[g,p]=F.useState(null),m=ln(t,U=>p(U)),x=pS(n),b=F.useRef(!1),A=F.useRef(!0),{viewport:C,selectedItem:w,selectedItemText:T,focusSelectedItem:_}=u,I=F.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&g&&C&&w&&T){const U=a.trigger.getBoundingClientRect(),B=g.getBoundingClientRect(),W=a.valueNode.getBoundingClientRect(),te=T.getBoundingClientRect();if(a.dir!=="rtl"){const xe=te.left-B.left,Se=W.left-xe,oe=U.left-Se,ae=U.width+oe,Ae=Math.max(ae,B.width),Oe=window.innerWidth-hs,Be=lT(Se,[hs,Math.max(hs,Oe-Ae)]);d.style.minWidth=ae+"px",d.style.left=Be+"px"}else{const xe=B.right-te.right,Se=window.innerWidth-W.right-xe,oe=window.innerWidth-U.right-Se,ae=U.width+oe,Ae=Math.max(ae,B.width),Oe=window.innerWidth-hs,Be=lT(Se,[hs,Math.max(hs,Oe-Ae)]);d.style.minWidth=ae+"px",d.style.right=Be+"px"}const ie=x(),se=window.innerHeight-hs*2,Ce=C.scrollHeight,je=window.getComputedStyle(g),Me=parseInt(je.borderTopWidth,10),re=parseInt(je.paddingTop,10),Ie=parseInt(je.borderBottomWidth,10),de=parseInt(je.paddingBottom,10),fe=Me+re+Ce+de+Ie,K=Math.min(w.offsetHeight*5,fe),ne=window.getComputedStyle(C),me=parseInt(ne.paddingTop,10),j=parseInt(ne.paddingBottom,10),z=U.top+U.height/2-hs,G=se-z,H=w.offsetHeight/2,J=w.offsetTop+H,X=Me+re+J,Z=fe-X;if(X<=z){const xe=ie.length>0&&w===ie[ie.length-1].ref.current;d.style.bottom="0px";const Se=g.clientHeight-C.offsetTop-C.offsetHeight,oe=Math.max(G,H+(xe?j:0)+Se+Ie),ae=X+oe;d.style.height=ae+"px"}else{const xe=ie.length>0&&w===ie[0].ref.current;d.style.top="0px";const oe=Math.max(z,Me+C.offsetTop+(xe?me:0)+H)+Z;d.style.height=oe+"px",C.scrollTop=X-z+C.offsetTop}d.style.margin=`${hs}px 0`,d.style.minHeight=K+"px",d.style.maxHeight=se+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[x,a.trigger,a.valueNode,d,g,C,w,T,a.dir,r]);wr(()=>I(),[I]);const[D,L]=F.useState();wr(()=>{g&&L(window.getComputedStyle(g).zIndex)},[g]);const k=F.useCallback(U=>{U&&A.current===!0&&(I(),_==null||_(),A.current=!1)},[I,_]);return O.jsx(N8,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:k,children:O.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:O.jsx(Bt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});eL.displayName=R8;var T8="SelectPopperPosition",FC=F.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=hs,...a}=e,u=gS(n);return O.jsx(Vw,{...u,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});FC.displayName=T8;var[N8,r2]=hg(th,{}),kC="SelectViewport",tL=F.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=$c(kC,n),u=r2(kC,n),d=ln(t,a.onViewportChange),h=F.useRef(0);return O.jsxs(O.Fragment,{children:[O.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),O.jsx(hS.Slot,{scope:n,children:O.jsx(Bt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:st(s.onScroll,g=>{const p=g.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=u;if(x!=null&&x.current&&m){const b=Math.abs(h.current-p.scrollTop);if(b>0){const A=window.innerHeight-hs*2,C=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),T=Math.max(C,w);if(T<A){const _=T+b,I=Math.min(A,_),D=_-I;m.style.height=I+"px",m.style.bottom==="0px"&&(p.scrollTop=D>0?D:0,m.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});tL.displayName=kC;var nL="SelectGroup",[_8,I8]=hg(nL),O8=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=va();return O.jsx(_8,{scope:n,id:s,children:O.jsx(Bt.div,{role:"group","aria-labelledby":s,...r,ref:t})})});O8.displayName=nL;var rL="SelectLabel",D8=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=I8(rL,n);return O.jsx(Bt.div,{id:s.id,...r,ref:t})});D8.displayName=rL;var jb="SelectItem",[P8,iL]=hg(jb),oL=F.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...u}=e,d=Gc(jb,n),h=$c(jb,n),g=d.value===r,[p,m]=F.useState(a??""),[x,b]=F.useState(!1),A=ln(t,_=>{var I;return(I=h.itemRefCallback)==null?void 0:I.call(h,_,r,s)}),C=va(),w=F.useRef("touch"),T=()=>{s||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return O.jsx(P8,{scope:n,value:r,disabled:s,textId:C,isSelected:g,onItemTextChange:F.useCallback(_=>{m(I=>I||((_==null?void 0:_.textContent)??"").trim())},[]),children:O.jsx(hS.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:O.jsx(Bt.div,{role:"option","aria-labelledby":C,"data-highlighted":x?"":void 0,"aria-selected":g&&x,"data-state":g?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...u,ref:A,onFocus:st(u.onFocus,()=>b(!0)),onBlur:st(u.onBlur,()=>b(!1)),onClick:st(u.onClick,()=>{w.current!=="mouse"&&T()}),onPointerUp:st(u.onPointerUp,()=>{w.current==="mouse"&&T()}),onPointerDown:st(u.onPointerDown,_=>{w.current=_.pointerType}),onPointerMove:st(u.onPointerMove,_=>{var I;w.current=_.pointerType,s?(I=h.onItemLeave)==null||I.call(h):w.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(u.onPointerLeave,_=>{var I;_.currentTarget===document.activeElement&&((I=h.onItemLeave)==null||I.call(h))}),onKeyDown:st(u.onKeyDown,_=>{var D;((D=h.searchRef)==null?void 0:D.current)!==""&&_.key===" "||(y8.includes(_.key)&&T(),_.key===" "&&_.preventDefault())})})})})});oL.displayName=jb;var $0="SelectItemText",sL=F.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,u=Gc($0,n),d=$c($0,n),h=iL($0,n),g=S8($0,n),[p,m]=F.useState(null),x=ln(t,T=>m(T),h.onItemTextChange,T=>{var _;return(_=d.itemTextRefCallback)==null?void 0:_.call(d,T,h.value,h.disabled)}),b=p==null?void 0:p.textContent,A=F.useMemo(()=>O.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:C,onNativeOptionRemove:w}=g;return wr(()=>(C(A),()=>w(A)),[C,w,A]),O.jsxs(O.Fragment,{children:[O.jsx(Bt.span,{id:h.textId,...a,ref:x}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?py.createPortal(a.children,u.valueNode):null]})});sL.displayName=$0;var aL="SelectItemIndicator",lL=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return iL(aL,n).isSelected?O.jsx(Bt.span,{"aria-hidden":!0,...r,ref:t}):null});lL.displayName=aL;var BC="SelectScrollUpButton",uL=F.forwardRef((e,t)=>{const n=$c(BC,e.__scopeSelect),r=r2(BC,e.__scopeSelect),[s,a]=F.useState(!1),u=ln(t,r.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let d=function(){const g=h.scrollTop>0;a(g)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?O.jsx(fL,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});uL.displayName=BC;var jC="SelectScrollDownButton",cL=F.forwardRef((e,t)=>{const n=$c(jC,e.__scopeSelect),r=r2(jC,e.__scopeSelect),[s,a]=F.useState(!1),u=ln(t,r.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let d=function(){const g=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<g;a(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?O.jsx(fL,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});cL.displayName=jC;var fL=F.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=$c("SelectScrollButton",n),u=F.useRef(null),d=pS(n),h=F.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return F.useEffect(()=>()=>h(),[h]),wr(()=>{var p;const g=d().find(m=>m.ref.current===document.activeElement);(p=g==null?void 0:g.ref.current)==null||p.scrollIntoView({block:"nearest"})},[d]),O.jsx(Bt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:st(s.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:st(s.onPointerMove,()=>{var g;(g=a.onItemLeave)==null||g.call(a),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:st(s.onPointerLeave,()=>{h()})})}),M8="SelectSeparator",L8=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return O.jsx(Bt.div,{"aria-hidden":!0,...r,ref:t})});L8.displayName=M8;var zC="SelectArrow",F8=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=gS(n),a=Gc(zC,n),u=$c(zC,n);return a.open&&u.position==="popper"?O.jsx(Uw,{...s,...r,ref:t}):null});F8.displayName=zC;function dL(e){return e===""||e===void 0}var hL=F.forwardRef((e,t)=>{const{value:n,...r}=e,s=F.useRef(null),a=ln(t,s),u=xw(n);return F.useEffect(()=>{const d=s.current,h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==n&&p){const m=new Event("change",{bubbles:!0});p.call(d,n),d.dispatchEvent(m)}},[u,n]),O.jsx(Jw,{asChild:!0,children:O.jsx("select",{...r,ref:a,defaultValue:n})})});hL.displayName="BubbleSelect";function pL(e){const t=ao(e),n=F.useRef(""),r=F.useRef(0),s=F.useCallback(u=>{const d=n.current+u;t(d),function h(g){n.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(d)},[t]),a=F.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return F.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function gL(e,t,n){const s=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let u=k8(e,Math.max(a,0));s.length===1&&(u=u.filter(g=>g!==n));const h=u.find(g=>g.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function k8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var B8=$M,j8=WM,z8=qM,V8=KM,U8=XM,G8=ZM,$8=tL,H8=oL,W8=sL,Y8=lL,q8=uL,K8=cL;function uT({...e}){return O.jsx(B8,{"data-slot":"select",...e})}function cT({...e}){return O.jsx(z8,{"data-slot":"select-value",...e})}function fT({className:e,size:t="default",children:n,...r}){return O.jsxs(j8,{"data-slot":"select-trigger","data-size":t,className:xt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,O.jsx(V8,{asChild:!0,children:O.jsx(PD,{className:"size-4 opacity-50"})})]})}function dT({className:e,children:t,position:n="popper",...r}){return O.jsx(U8,{children:O.jsxs(G8,{"data-slot":"select-content",className:xt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[O.jsx(X8,{}),O.jsx($8,{className:xt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),O.jsx(Z8,{})]})})}function cE({className:e,children:t,...n}){return O.jsxs(H8,{"data-slot":"select-item",className:xt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[O.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:O.jsx(Y8,{children:O.jsx(DD,{className:"size-4"})})}),O.jsx(W8,{children:t})]})}function X8({className:e,...t}){return O.jsx(q8,{"data-slot":"select-scroll-up-button",className:xt("flex cursor-default items-center justify-center py-1",e),...t,children:O.jsx($j,{className:"size-4"})})}function Z8({className:e,...t}){return O.jsx(K8,{"data-slot":"select-scroll-down-button",className:xt("flex cursor-default items-center justify-center py-1",e),...t,children:O.jsx(PD,{className:"size-4"})})}async function J8(e,t,n){const r=await Vi(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:t,expiration:n})});if(!r.ok)throw new Error("Failed to create share link");return r.json()}async function Q8(e){const t=await Vi(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`);if(!t.ok)throw new Error("Failed to fetch share links");return t.json()}async function e$(e){if(!(await Vi(`https://wafflebase-api.yorkie.dev/share-links/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete share link")}async function t$(e){const t=await fetch(`https://wafflebase-api.yorkie.dev/share-links/${e}/resolve`);if(t.status===410)throw new Error("Share link has expired");if(!t.ok)throw new Error("Invalid share link");return t.json()}const n$=[{value:"none",label:"No limit"},{value:"1h",label:"1 hour"},{value:"8h",label:"8 hours"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"}];function r$(e){if(!e)return"No expiration";const t=new Date(e),n=new Date;if(t<n)return"Expired";const r=t.getTime()-n.getTime(),s=Math.floor(r/(1e3*60*60)),a=Math.floor(s/24);return a>0?`Expires in ${a}d`:s>0?`Expires in ${s}h`:`Expires in ${Math.floor(r/(1e3*60))}m`}function i$({documentId:e}){const[t,n]=F.useState(!1),[r,s]=F.useState("viewer"),[a,u]=F.useState("none"),[d,h]=F.useState([]),[g,p]=F.useState(!1);F.useEffect(()=>{t&&Q8(e).then(h).catch(()=>{})},[t,e]);const m=async()=>{p(!0);try{const A=await J8(e,r,a==="none"?null:a);h(w=>[A,...w]);const C=`${window.location.origin}/shared/${A.token}`;await navigator.clipboard.writeText(C),On.success("Link created and copied to clipboard")}catch{On.error("Failed to create share link")}finally{p(!1)}},x=async A=>{const C=`${window.location.origin}/shared/${A}`;await navigator.clipboard.writeText(C),On.success("Link copied to clipboard")},b=async A=>{try{await e$(A),h(C=>C.filter(w=>w.id!==A)),On.success("Share link revoked")}catch{On.error("Failed to revoke share link")}};return O.jsxs(yy,{open:t,onOpenChange:n,children:[O.jsx(s4,{asChild:!0,children:O.jsxs(qn,{variant:"outline",size:"sm",children:[O.jsx(n8,{className:"h-4 w-4 mr-1"}),"Share"]})}),O.jsxs(vy,{children:[O.jsxs(xy,{children:[O.jsx(by,{children:"Share document"}),O.jsx(Qb,{children:"Create a link to share this document with others."})]}),O.jsxs("div",{className:"flex items-end gap-2",children:[O.jsxs("div",{className:"flex-1 space-y-1",children:[O.jsx("label",{className:"text-sm font-medium",children:"Permission"}),O.jsxs(uT,{value:r,onValueChange:s,children:[O.jsx(fT,{className:"w-full",children:O.jsx(cT,{})}),O.jsxs(dT,{children:[O.jsx(cE,{value:"viewer",children:"Viewer"}),O.jsx(cE,{value:"editor",children:"Editor"})]})]})]}),O.jsxs("div",{className:"flex-1 space-y-1",children:[O.jsx("label",{className:"text-sm font-medium",children:"Expiration"}),O.jsxs(uT,{value:a,onValueChange:u,children:[O.jsx(fT,{className:"w-full",children:O.jsx(cT,{})}),O.jsx(dT,{children:n$.map(A=>O.jsx(cE,{value:A.value,children:A.label},A.value))})]})]}),O.jsx(qn,{onClick:m,disabled:g,children:"Create Link"})]}),d.length>0&&O.jsxs(O.Fragment,{children:[O.jsx(Ip,{}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("h4",{className:"text-sm font-medium",children:"Active links"}),O.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:d.map(A=>O.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2 text-sm",children:[O.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O.jsx("span",{className:"capitalize font-medium",children:A.role}),O.jsx("span",{className:"text-muted-foreground text-xs",children:r$(A.expiresAt)})]}),O.jsxs("div",{className:"flex items-center gap-1",children:[O.jsx(qn,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>x(A.token),children:O.jsx(XG,{className:"h-3.5 w-3.5"})}),O.jsx(qn,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>b(A.id),children:O.jsx(i8,{className:"h-3.5 w-3.5"})})]})]},A.id))})]})]})]})]})}function o$(){const{doc:e}=Ea.useDocument(),{data:t}=vu({queryKey:["me"],queryFn:nh,retry:!1});F.useEffect(()=>{!e||!t||e.update((n,r)=>{r.set({username:t.username,email:t.email,photo:t.photo||""})})},[e,t])}var Bf={},fE={},hT;function s$(){if(hT)return fE;hT=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(fE,"__esModule",{value:!0}),fE}var dE={},pT;function a$(){if(pT)return dE;pT=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(dE,"__esModule",{value:!0}),dE}var jf={},hE={exports:{}},pE={},gE={},mE={},yE,gT;function i2(){return gT||(gT=1,yE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;t[n]=s;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var u=Object.getOwnPropertySymbols(t);if(u.length!==1||u[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(t,n);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),yE}var vE,mT;function mS(){if(mT)return vE;mT=1;var e=i2();return vE=function(){return e()&&!!Symbol.toStringTag},vE}var xE,yT;function o2(){return yT||(yT=1,xE=Object),xE}var bE,vT;function l$(){return vT||(vT=1,bE=Error),bE}var SE,xT;function u$(){return xT||(xT=1,SE=EvalError),SE}var EE,bT;function c$(){return bT||(bT=1,EE=RangeError),EE}var AE,ST;function f$(){return ST||(ST=1,AE=ReferenceError),AE}var CE,ET;function mL(){return ET||(ET=1,CE=SyntaxError),CE}var wE,AT;function Ry(){return AT||(AT=1,wE=TypeError),wE}var RE,CT;function d$(){return CT||(CT=1,RE=URIError),RE}var TE,wT;function h$(){return wT||(wT=1,TE=Math.abs),TE}var NE,RT;function p$(){return RT||(RT=1,NE=Math.floor),NE}var _E,TT;function g$(){return TT||(TT=1,_E=Math.max),_E}var IE,NT;function m$(){return NT||(NT=1,IE=Math.min),IE}var OE,_T;function y$(){return _T||(_T=1,OE=Math.pow),OE}var DE,IT;function v$(){return IT||(IT=1,DE=Math.round),DE}var PE,OT;function x$(){return OT||(OT=1,PE=Number.isNaN||function(t){return t!==t}),PE}var ME,DT;function b$(){if(DT)return ME;DT=1;var e=x$();return ME=function(n){return e(n)||n===0?n:n<0?-1:1},ME}var LE,PT;function S$(){return PT||(PT=1,LE=Object.getOwnPropertyDescriptor),LE}var FE,MT;function pg(){if(MT)return FE;MT=1;var e=S$();if(e)try{e([],"length")}catch{e=null}return FE=e,FE}var kE,LT;function yS(){if(LT)return kE;LT=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return kE=e,kE}var BE,FT;function E$(){if(FT)return BE;FT=1;var e=typeof Symbol<"u"&&Symbol,t=i2();return BE=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},BE}var jE,kT;function yL(){return kT||(kT=1,jE=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),jE}var zE,BT;function vL(){if(BT)return zE;BT=1;var e=o2();return zE=e.getPrototypeOf||null,zE}var VE,jT;function A$(){if(jT)return VE;jT=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",s=function(h,g){for(var p=[],m=0;m<h.length;m+=1)p[m]=h[m];for(var x=0;x<g.length;x+=1)p[x+h.length]=g[x];return p},a=function(h,g){for(var p=[],m=g,x=0;m<h.length;m+=1,x+=1)p[x]=h[m];return p},u=function(d,h){for(var g="",p=0;p<d.length;p+=1)g+=d[p],p+1<d.length&&(g+=h);return g};return VE=function(h){var g=this;if(typeof g!="function"||t.apply(g)!==r)throw new TypeError(e+g);for(var p=a(arguments,1),m,x=function(){if(this instanceof m){var T=g.apply(this,s(p,arguments));return Object(T)===T?T:this}return g.apply(h,s(p,arguments))},b=n(0,g.length-p.length),A=[],C=0;C<b;C++)A[C]="$"+C;if(m=Function("binder","return function ("+u(A,",")+"){ return binder.apply(this,arguments); }")(x),g.prototype){var w=function(){};w.prototype=g.prototype,m.prototype=new w,w.prototype=null}return m},VE}var UE,zT;function Ty(){if(zT)return UE;zT=1;var e=A$();return UE=Function.prototype.bind||e,UE}var GE,VT;function s2(){return VT||(VT=1,GE=Function.prototype.call),GE}var $E,UT;function a2(){return UT||(UT=1,$E=Function.prototype.apply),$E}var HE,GT;function C$(){return GT||(GT=1,HE=typeof Reflect<"u"&&Reflect&&Reflect.apply),HE}var WE,$T;function xL(){if($T)return WE;$T=1;var e=Ty(),t=a2(),n=s2(),r=C$();return WE=r||e.call(n,t),WE}var YE,HT;function l2(){if(HT)return YE;HT=1;var e=Ty(),t=Ry(),n=s2(),r=xL();return YE=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return r(e,n,a)},YE}var qE,WT;function w$(){if(WT)return qE;WT=1;var e=l2(),t=pg(),n;try{n=[].__proto__===Array.prototype}catch(u){if(!u||typeof u!="object"||!("code"in u)||u.code!=="ERR_PROTO_ACCESS")throw u}var r=!!n&&t&&t(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return qE=r&&typeof r.get=="function"?e([r.get]):typeof a=="function"?function(d){return a(d==null?d:s(d))}:!1,qE}var KE,YT;function u2(){if(YT)return KE;YT=1;var e=yL(),t=vL(),n=w$();return KE=e?function(s){return e(s)}:t?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return t(s)}:n?function(s){return n(s)}:null,KE}var XE,qT;function bL(){if(qT)return XE;qT=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=Ty();return XE=n.call(e,t),XE}var ZE,KT;function c2(){if(KT)return ZE;KT=1;var e,t=o2(),n=l$(),r=u$(),s=c$(),a=f$(),u=mL(),d=Ry(),h=d$(),g=h$(),p=p$(),m=g$(),x=m$(),b=y$(),A=v$(),C=b$(),w=Function,T=function(Z){try{return w('"use strict"; return ('+Z+").constructor;")()}catch{}},_=pg(),I=yS(),D=function(){throw new d},L=_?function(){try{return arguments.callee,D}catch{try{return _(arguments,"callee").get}catch{return D}}}():D,k=E$()(),U=u2(),B=vL(),W=yL(),te=a2(),ie=s2(),se={},Ce=typeof Uint8Array>"u"||!U?e:U(Uint8Array),je={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":k&&U?U([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":se,"%AsyncGenerator%":se,"%AsyncGeneratorFunction%":se,"%AsyncIteratorPrototype%":se,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":se,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&U?U(U([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k||!U?e:U(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k||!U?e:U(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&U?U(""[Symbol.iterator]()):e,"%Symbol%":k?Symbol:e,"%SyntaxError%":u,"%ThrowTypeError%":L,"%TypedArray%":Ce,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":h,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":ie,"%Function.prototype.apply%":te,"%Object.defineProperty%":I,"%Object.getPrototypeOf%":B,"%Math.abs%":g,"%Math.floor%":p,"%Math.max%":m,"%Math.min%":x,"%Math.pow%":b,"%Math.round%":A,"%Math.sign%":C,"%Reflect.getPrototypeOf%":W};if(U)try{null.error}catch(Z){var Me=U(U(Z));je["%Error.prototype%"]=Me}var re=function Z(le){var xe;if(le==="%AsyncFunction%")xe=T("async function () {}");else if(le==="%GeneratorFunction%")xe=T("function* () {}");else if(le==="%AsyncGeneratorFunction%")xe=T("async function* () {}");else if(le==="%AsyncGenerator%"){var Se=Z("%AsyncGeneratorFunction%");Se&&(xe=Se.prototype)}else if(le==="%AsyncIteratorPrototype%"){var oe=Z("%AsyncGenerator%");oe&&U&&(xe=U(oe.prototype))}return je[le]=xe,xe},Ie={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},de=Ty(),fe=bL(),K=de.call(ie,Array.prototype.concat),ne=de.call(te,Array.prototype.splice),me=de.call(ie,String.prototype.replace),j=de.call(ie,String.prototype.slice),z=de.call(ie,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H=/\\(\\)?/g,J=function(le){var xe=j(le,0,1),Se=j(le,-1);if(xe==="%"&&Se!=="%")throw new u("invalid intrinsic syntax, expected closing `%`");if(Se==="%"&&xe!=="%")throw new u("invalid intrinsic syntax, expected opening `%`");var oe=[];return me(le,G,function(ae,Ae,Oe,Be){oe[oe.length]=Oe?me(Be,H,"$1"):Ae||ae}),oe},X=function(le,xe){var Se=le,oe;if(fe(Ie,Se)&&(oe=Ie[Se],Se="%"+oe[0]+"%"),fe(je,Se)){var ae=je[Se];if(ae===se&&(ae=re(Se)),typeof ae>"u"&&!xe)throw new d("intrinsic "+le+" exists, but is not available. Please file an issue!");return{alias:oe,name:Se,value:ae}}throw new u("intrinsic "+le+" does not exist!")};return ZE=function(le,xe){if(typeof le!="string"||le.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof xe!="boolean")throw new d('"allowMissing" argument must be a boolean');if(z(/^%?[^%]*%?$/,le)===null)throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Se=J(le),oe=Se.length>0?Se[0]:"",ae=X("%"+oe+"%",xe),Ae=ae.name,Oe=ae.value,Be=!1,Ge=ae.alias;Ge&&(oe=Ge[0],ne(Se,K([0,1],Ge)));for(var ye=1,Fe=!0;ye<Se.length;ye+=1){var Qe=Se[ye],yt=j(Qe,0,1),ht=j(Qe,-1);if((yt==='"'||yt==="'"||yt==="`"||ht==='"'||ht==="'"||ht==="`")&&yt!==ht)throw new u("property names with quotes must have matching quotes");if((Qe==="constructor"||!Fe)&&(Be=!0),oe+="."+Qe,Ae="%"+oe+"%",fe(je,Ae))Oe=je[Ae];else if(Oe!=null){if(!(Qe in Oe)){if(!xe)throw new d("base intrinsic for "+le+" exists, but the property is not available.");return}if(_&&ye+1>=Se.length){var pe=_(Oe,Qe);Fe=!!pe,Fe&&"get"in pe&&!("originalValue"in pe.get)?Oe=pe.get:Oe=Oe[Qe]}else Fe=fe(Oe,Qe),Oe=Oe[Qe];Fe&&!Be&&(je[Ae]=Oe)}}return Oe},ZE}var JE,XT;function gg(){if(XT)return JE;XT=1;var e=c2(),t=l2(),n=t([e("%String.prototype.indexOf%")]);return JE=function(s,a){var u=e(s,!!a);return typeof u=="function"&&n(s,".prototype.")>-1?t([u]):u},JE}var QE,ZT;function R$(){if(ZT)return QE;ZT=1;var e=mS()(),t=gg(),n=t("Object.prototype.toString"),r=function(d){return e&&d&&typeof d=="object"&&Symbol.toStringTag in d?!1:n(d)==="[object Arguments]"},s=function(d){return r(d)?!0:d!==null&&typeof d=="object"&&"length"in d&&typeof d.length=="number"&&d.length>=0&&n(d)!=="[object Array]"&&"callee"in d&&n(d.callee)==="[object Function]"},a=function(){return r(arguments)}();return r.isLegacyArguments=s,QE=a?r:s,QE}var eA,JT;function T$(){if(JT)return eA;JT=1;var e=gg(),t=mS()(),n=bL(),r=pg(),s;if(t){var a=e("RegExp.prototype.exec"),u={},d=function(){throw u},h={toString:d,valueOf:d};typeof Symbol.toPrimitive=="symbol"&&(h[Symbol.toPrimitive]=d),s=function(x){if(!x||typeof x!="object")return!1;var b=r(x,"lastIndex"),A=b&&n(b,"value");if(!A)return!1;try{a(x,h)}catch(C){return C===u}}}else{var g=e("Object.prototype.toString"),p="[object RegExp]";s=function(x){return!x||typeof x!="object"&&typeof x!="function"?!1:g(x)===p}}return eA=s,eA}var tA,QT;function N$(){if(QT)return tA;QT=1;var e=gg(),t=T$(),n=e("RegExp.prototype.exec"),r=Ry();return tA=function(a){if(!t(a))throw new r("`regex` must be a RegExp");return function(d){return n(a,d)!==null}},tA}var nA,eN;function _$(){if(eN)return nA;eN=1;var e=gg(),t=N$(),n=t(/^\s*(?:function)?\*/),r=mS()(),s=u2(),a=e("Object.prototype.toString"),u=e("Function.prototype.toString"),d=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},h;return nA=function(p){if(typeof p!="function")return!1;if(n(u(p)))return!0;if(!r){var m=a(p);return m==="[object GeneratorFunction]"}if(!s)return!1;if(typeof h>"u"){var x=d();h=x?s(x):!1}return s(p)===h},nA}var rA,tN;function I$(){if(tN)return rA;tN=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},t(function(){throw 42},null,n)}catch(_){_!==r&&(t=null)}else t=null;var s=/^\s*class\b/,a=function(I){try{var D=e.call(I);return s.test(D)}catch{return!1}},u=function(I){try{return a(I)?!1:(e.call(I),!0)}catch{return!1}},d=Object.prototype.toString,h="[object Object]",g="[object Function]",p="[object GeneratorFunction]",m="[object HTMLAllCollection]",x="[object HTML document.all class]",b="[object HTMLCollection]",A=typeof Symbol=="function"&&!!Symbol.toStringTag,C=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var T=document.all;d.call(T)===d.call(document.all)&&(w=function(I){if((C||!I)&&(typeof I>"u"||typeof I=="object"))try{var D=d.call(I);return(D===m||D===x||D===b||D===h)&&I("")==null}catch{}return!1})}return rA=t?function(I){if(w(I))return!0;if(!I||typeof I!="function"&&typeof I!="object")return!1;try{t(I,null,n)}catch(D){if(D!==r)return!1}return!a(I)&&u(I)}:function(I){if(w(I))return!0;if(!I||typeof I!="function"&&typeof I!="object")return!1;if(A)return u(I);if(a(I))return!1;var D=d.call(I);return D!==g&&D!==p&&!/^\[object HTML/.test(D)?!1:u(I)},rA}var iA,nN;function O$(){if(nN)return iA;nN=1;var e=I$(),t=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(h,g,p){for(var m=0,x=h.length;m<x;m++)n.call(h,m)&&(p==null?g(h[m],m,h):g.call(p,h[m],m,h))},s=function(h,g,p){for(var m=0,x=h.length;m<x;m++)p==null?g(h.charAt(m),m,h):g.call(p,h.charAt(m),m,h)},a=function(h,g,p){for(var m in h)n.call(h,m)&&(p==null?g(h[m],m,h):g.call(p,h[m],m,h))};function u(d){return t.call(d)==="[object Array]"}return iA=function(h,g,p){if(!e(g))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=p),u(h)?r(h,g,m):typeof h=="string"?s(h,g,m):a(h,g,m)},iA}var oA,rN;function D$(){return rN||(rN=1,oA=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),oA}var sA,iN;function P$(){if(iN)return sA;iN=1;var e=D$(),t=typeof globalThis>"u"?XO:globalThis;return sA=function(){for(var r=[],s=0;s<e.length;s++)typeof t[e[s]]=="function"&&(r[r.length]=e[s]);return r},sA}var aA={exports:{}},lA,oN;function SL(){if(oN)return lA;oN=1;var e=yS(),t=mL(),n=Ry(),r=pg();return lA=function(a,u,d){if(!a||typeof a!="object"&&typeof a!="function")throw new n("`obj` must be an object or a function`");if(typeof u!="string"&&typeof u!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var h=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,x=!!r&&r(a,u);if(e)e(a,u,{configurable:p===null&&x?x.configurable:!p,enumerable:h===null&&x?x.enumerable:!h,value:d,writable:g===null&&x?x.writable:!g});else if(m||!h&&!g&&!p)a[u]=d;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},lA}var uA,sN;function EL(){if(sN)return uA;sN=1;var e=yS(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},uA=t,uA}var cA,aN;function M$(){if(aN)return cA;aN=1;var e=c2(),t=SL(),n=EL()(),r=pg(),s=Ry(),a=e("%Math.floor%");return cA=function(d,h){if(typeof d!="function")throw new s("`fn` is not a function");if(typeof h!="number"||h<0||h>4294967295||a(h)!==h)throw new s("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],p=!0,m=!0;if("length"in d&&r){var x=r(d,"length");x&&!x.configurable&&(p=!1),x&&!x.writable&&(m=!1)}return(p||m||!g)&&(n?t(d,"length",h,!0,!0):t(d,"length",h)),d},cA}var fA,lN;function L$(){if(lN)return fA;lN=1;var e=Ty(),t=a2(),n=xL();return fA=function(){return n(e,t,arguments)},fA}var uN;function vS(){return uN||(uN=1,function(e){var t=M$(),n=yS(),r=l2(),s=L$();e.exports=function(u){var d=r(arguments),h=u.length-(arguments.length-1);return t(d,1+(h>0?h:0),!0)},n?n(e.exports,"apply",{value:s}):e.exports.apply=s}(aA)),aA.exports}var dA,cN;function AL(){if(cN)return dA;cN=1;var e=O$(),t=P$(),n=vS(),r=gg(),s=pg(),a=u2(),u=r("Object.prototype.toString"),d=mS()(),h=typeof globalThis>"u"?XO:globalThis,g=t(),p=r("String.prototype.slice"),m=r("Array.prototype.indexOf",!0)||function(w,T){for(var _=0;_<w.length;_+=1)if(w[_]===T)return _;return-1},x={__proto__:null};d&&s&&a?e(g,function(C){var w=new h[C];if(Symbol.toStringTag in w&&a){var T=a(w),_=s(T,Symbol.toStringTag);if(!_&&T){var I=a(T);_=s(I,Symbol.toStringTag)}x["$"+C]=n(_.get)}}):e(g,function(C){var w=new h[C],T=w.slice||w.set;T&&(x["$"+C]=n(T))});var b=function(w){var T=!1;return e(x,function(_,I){if(!T)try{"$"+_(w)===I&&(T=p(I,1))}catch{}}),T},A=function(w){var T=!1;return e(x,function(_,I){if(!T)try{_(w),T=p(I,1)}catch{}}),T};return dA=function(w){if(!w||typeof w!="object")return!1;if(!d){var T=p(u(w),8,-1);return m(g,T)>-1?T:T!=="Object"?!1:A(w)}return s?b(w):null},dA}var hA,fN;function F$(){if(fN)return hA;fN=1;var e=AL();return hA=function(n){return!!e(n)},hA}var dN;function k$(){return dN||(dN=1,function(e){var t=R$(),n=_$(),r=AL(),s=F$();function a(ye){return ye.call.bind(ye)}var u=typeof BigInt<"u",d=typeof Symbol<"u",h=a(Object.prototype.toString),g=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),m=a(Boolean.prototype.valueOf);if(u)var x=a(BigInt.prototype.valueOf);if(d)var b=a(Symbol.prototype.valueOf);function A(ye,Fe){if(typeof ye!="object")return!1;try{return Fe(ye),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=s;function C(ye){return typeof Promise<"u"&&ye instanceof Promise||ye!==null&&typeof ye=="object"&&typeof ye.then=="function"&&typeof ye.catch=="function"}e.isPromise=C;function w(ye){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ye):s(ye)||j(ye)}e.isArrayBufferView=w;function T(ye){return r(ye)==="Uint8Array"}e.isUint8Array=T;function _(ye){return r(ye)==="Uint8ClampedArray"}e.isUint8ClampedArray=_;function I(ye){return r(ye)==="Uint16Array"}e.isUint16Array=I;function D(ye){return r(ye)==="Uint32Array"}e.isUint32Array=D;function L(ye){return r(ye)==="Int8Array"}e.isInt8Array=L;function k(ye){return r(ye)==="Int16Array"}e.isInt16Array=k;function U(ye){return r(ye)==="Int32Array"}e.isInt32Array=U;function B(ye){return r(ye)==="Float32Array"}e.isFloat32Array=B;function W(ye){return r(ye)==="Float64Array"}e.isFloat64Array=W;function te(ye){return r(ye)==="BigInt64Array"}e.isBigInt64Array=te;function ie(ye){return r(ye)==="BigUint64Array"}e.isBigUint64Array=ie;function se(ye){return h(ye)==="[object Map]"}se.working=typeof Map<"u"&&se(new Map);function Ce(ye){return typeof Map>"u"?!1:se.working?se(ye):ye instanceof Map}e.isMap=Ce;function je(ye){return h(ye)==="[object Set]"}je.working=typeof Set<"u"&&je(new Set);function Me(ye){return typeof Set>"u"?!1:je.working?je(ye):ye instanceof Set}e.isSet=Me;function re(ye){return h(ye)==="[object WeakMap]"}re.working=typeof WeakMap<"u"&&re(new WeakMap);function Ie(ye){return typeof WeakMap>"u"?!1:re.working?re(ye):ye instanceof WeakMap}e.isWeakMap=Ie;function de(ye){return h(ye)==="[object WeakSet]"}de.working=typeof WeakSet<"u"&&de(new WeakSet);function fe(ye){return de(ye)}e.isWeakSet=fe;function K(ye){return h(ye)==="[object ArrayBuffer]"}K.working=typeof ArrayBuffer<"u"&&K(new ArrayBuffer);function ne(ye){return typeof ArrayBuffer>"u"?!1:K.working?K(ye):ye instanceof ArrayBuffer}e.isArrayBuffer=ne;function me(ye){return h(ye)==="[object DataView]"}me.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&me(new DataView(new ArrayBuffer(1),0,1));function j(ye){return typeof DataView>"u"?!1:me.working?me(ye):ye instanceof DataView}e.isDataView=j;var z=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function G(ye){return h(ye)==="[object SharedArrayBuffer]"}function H(ye){return typeof z>"u"?!1:(typeof G.working>"u"&&(G.working=G(new z)),G.working?G(ye):ye instanceof z)}e.isSharedArrayBuffer=H;function J(ye){return h(ye)==="[object AsyncFunction]"}e.isAsyncFunction=J;function X(ye){return h(ye)==="[object Map Iterator]"}e.isMapIterator=X;function Z(ye){return h(ye)==="[object Set Iterator]"}e.isSetIterator=Z;function le(ye){return h(ye)==="[object Generator]"}e.isGeneratorObject=le;function xe(ye){return h(ye)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=xe;function Se(ye){return A(ye,g)}e.isNumberObject=Se;function oe(ye){return A(ye,p)}e.isStringObject=oe;function ae(ye){return A(ye,m)}e.isBooleanObject=ae;function Ae(ye){return u&&A(ye,x)}e.isBigIntObject=Ae;function Oe(ye){return d&&A(ye,b)}e.isSymbolObject=Oe;function Be(ye){return Se(ye)||oe(ye)||ae(ye)||Ae(ye)||Oe(ye)}e.isBoxedPrimitive=Be;function Ge(ye){return typeof Uint8Array<"u"&&(ne(ye)||H(ye))}e.isAnyArrayBuffer=Ge,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ye){Object.defineProperty(e,ye,{enumerable:!1,value:function(){throw new Error(ye+" is not supported in userland")}})})}(mE)),mE}var pA,hN;function B$(){return hN||(hN=1,pA=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),pA}var rb={exports:{}},pN;function j$(){return pN||(pN=1,typeof Object.create=="function"?rb.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:rb.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}),rb.exports}var gN;function Qp(){return gN||(gN=1,function(e){var t={},n=Object.getOwnPropertyDescriptors||function(z){for(var G=Object.keys(z),H={},J=0;J<G.length;J++)H[G[J]]=Object.getOwnPropertyDescriptor(z,G[J]);return H},r=/%[sdj%]/g;e.format=function(j){if(!k(j)){for(var z=[],G=0;G<arguments.length;G++)z.push(d(arguments[G]));return z.join(" ")}for(var G=1,H=arguments,J=H.length,X=String(j).replace(r,function(le){if(le==="%%")return"%";if(G>=J)return le;switch(le){case"%s":return String(H[G++]);case"%d":return Number(H[G++]);case"%j":try{return JSON.stringify(H[G++])}catch{return"[Circular]"}default:return le}}),Z=H[G];G<J;Z=H[++G])I(Z)||!te(Z)?X+=" "+Z:X+=" "+d(Z);return X},e.deprecate=function(j,z){if(typeof process<"u"&&process.noDeprecation===!0)return j;if(typeof process>"u")return function(){return e.deprecate(j,z).apply(this,arguments)};var G=!1;function H(){if(!G){if(process.throwDeprecation)throw new Error(z);process.traceDeprecation?console.trace(z):console.error(z),G=!0}return j.apply(this,arguments)}return H};var s={},a=/^$/;if(t.NODE_DEBUG){var u=t.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+u+"$","i")}e.debuglog=function(j){if(j=j.toUpperCase(),!s[j])if(a.test(j)){var z=process.pid;s[j]=function(){var G=e.format.apply(e,arguments);console.error("%s %d: %s",j,z,G)}}else s[j]=function(){};return s[j]};function d(j,z){var G={seen:[],stylize:g};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),_(z)?G.showHidden=z:z&&e._extend(G,z),B(G.showHidden)&&(G.showHidden=!1),B(G.depth)&&(G.depth=2),B(G.colors)&&(G.colors=!1),B(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=h),m(G,j,G.depth)}e.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function h(j,z){var G=d.styles[z];return G?"\x1B["+d.colors[G][0]+"m"+j+"\x1B["+d.colors[G][1]+"m":j}function g(j,z){return j}function p(j){var z={};return j.forEach(function(G,H){z[G]=!0}),z}function m(j,z,G){if(j.customInspect&&z&&Ce(z.inspect)&&z.inspect!==e.inspect&&!(z.constructor&&z.constructor.prototype===z)){var H=z.inspect(G,j);return k(H)||(H=m(j,H,G)),H}var J=x(j,z);if(J)return J;var X=Object.keys(z),Z=p(X);if(j.showHidden&&(X=Object.getOwnPropertyNames(z)),se(z)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return b(z);if(X.length===0){if(Ce(z)){var le=z.name?": "+z.name:"";return j.stylize("[Function"+le+"]","special")}if(W(z))return j.stylize(RegExp.prototype.toString.call(z),"regexp");if(ie(z))return j.stylize(Date.prototype.toString.call(z),"date");if(se(z))return b(z)}var xe="",Se=!1,oe=["{","}"];if(T(z)&&(Se=!0,oe=["[","]"]),Ce(z)){var ae=z.name?": "+z.name:"";xe=" [Function"+ae+"]"}if(W(z)&&(xe=" "+RegExp.prototype.toString.call(z)),ie(z)&&(xe=" "+Date.prototype.toUTCString.call(z)),se(z)&&(xe=" "+b(z)),X.length===0&&(!Se||z.length==0))return oe[0]+xe+oe[1];if(G<0)return W(z)?j.stylize(RegExp.prototype.toString.call(z),"regexp"):j.stylize("[Object]","special");j.seen.push(z);var Ae;return Se?Ae=A(j,z,G,Z,X):Ae=X.map(function(Oe){return C(j,z,G,Z,Oe,Se)}),j.seen.pop(),w(Ae,xe,oe)}function x(j,z){if(B(z))return j.stylize("undefined","undefined");if(k(z)){var G="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return j.stylize(G,"string")}if(L(z))return j.stylize(""+z,"number");if(_(z))return j.stylize(""+z,"boolean");if(I(z))return j.stylize("null","null")}function b(j){return"["+Error.prototype.toString.call(j)+"]"}function A(j,z,G,H,J){for(var X=[],Z=0,le=z.length;Z<le;++Z)fe(z,String(Z))?X.push(C(j,z,G,H,String(Z),!0)):X.push("");return J.forEach(function(xe){xe.match(/^\d+$/)||X.push(C(j,z,G,H,xe,!0))}),X}function C(j,z,G,H,J,X){var Z,le,xe;if(xe=Object.getOwnPropertyDescriptor(z,J)||{value:z[J]},xe.get?xe.set?le=j.stylize("[Getter/Setter]","special"):le=j.stylize("[Getter]","special"):xe.set&&(le=j.stylize("[Setter]","special")),fe(H,J)||(Z="["+J+"]"),le||(j.seen.indexOf(xe.value)<0?(I(G)?le=m(j,xe.value,null):le=m(j,xe.value,G-1),le.indexOf(`
`)>-1&&(X?le=le.split(`
`).map(function(Se){return"  "+Se}).join(`
`).slice(2):le=`
`+le.split(`
`).map(function(Se){return"   "+Se}).join(`
`))):le=j.stylize("[Circular]","special")),B(Z)){if(X&&J.match(/^\d+$/))return le;Z=JSON.stringify(""+J),Z.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Z=Z.slice(1,-1),Z=j.stylize(Z,"name")):(Z=Z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Z=j.stylize(Z,"string"))}return Z+": "+le}function w(j,z,G){var H=j.reduce(function(J,X){return X.indexOf(`
`)>=0,J+X.replace(/\u001b\[\d\d?m/g,"").length+1},0);return H>60?G[0]+(z===""?"":z+`
 `)+" "+j.join(`,
  `)+" "+G[1]:G[0]+z+" "+j.join(", ")+" "+G[1]}e.types=k$();function T(j){return Array.isArray(j)}e.isArray=T;function _(j){return typeof j=="boolean"}e.isBoolean=_;function I(j){return j===null}e.isNull=I;function D(j){return j==null}e.isNullOrUndefined=D;function L(j){return typeof j=="number"}e.isNumber=L;function k(j){return typeof j=="string"}e.isString=k;function U(j){return typeof j=="symbol"}e.isSymbol=U;function B(j){return j===void 0}e.isUndefined=B;function W(j){return te(j)&&Me(j)==="[object RegExp]"}e.isRegExp=W,e.types.isRegExp=W;function te(j){return typeof j=="object"&&j!==null}e.isObject=te;function ie(j){return te(j)&&Me(j)==="[object Date]"}e.isDate=ie,e.types.isDate=ie;function se(j){return te(j)&&(Me(j)==="[object Error]"||j instanceof Error)}e.isError=se,e.types.isNativeError=se;function Ce(j){return typeof j=="function"}e.isFunction=Ce;function je(j){return j===null||typeof j=="boolean"||typeof j=="number"||typeof j=="string"||typeof j=="symbol"||typeof j>"u"}e.isPrimitive=je,e.isBuffer=B$();function Me(j){return Object.prototype.toString.call(j)}function re(j){return j<10?"0"+j.toString(10):j.toString(10)}var Ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(){var j=new Date,z=[re(j.getHours()),re(j.getMinutes()),re(j.getSeconds())].join(":");return[j.getDate(),Ie[j.getMonth()],z].join(" ")}e.log=function(){console.log("%s - %s",de(),e.format.apply(e,arguments))},e.inherits=j$(),e._extend=function(j,z){if(!z||!te(z))return j;for(var G=Object.keys(z),H=G.length;H--;)j[G[H]]=z[G[H]];return j};function fe(j,z){return Object.prototype.hasOwnProperty.call(j,z)}var K=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');if(K&&z[K]){var G=z[K];if(typeof G!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(G,K,{value:G,enumerable:!1,writable:!1,configurable:!0}),G}function G(){for(var H,J,X=new Promise(function(xe,Se){H=xe,J=Se}),Z=[],le=0;le<arguments.length;le++)Z.push(arguments[le]);Z.push(function(xe,Se){xe?J(xe):H(Se)});try{z.apply(this,Z)}catch(xe){J(xe)}return X}return Object.setPrototypeOf(G,Object.getPrototypeOf(z)),K&&Object.defineProperty(G,K,{value:G,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(G,n(z))},e.promisify.custom=K;function ne(j,z){if(!j){var G=new Error("Promise was rejected with a falsy value");G.reason=j,j=G}return z(j)}function me(j){if(typeof j!="function")throw new TypeError('The "original" argument must be of type Function');function z(){for(var G=[],H=0;H<arguments.length;H++)G.push(arguments[H]);var J=G.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var X=this,Z=function(){return J.apply(X,arguments)};j.apply(this,G).then(function(le){process.nextTick(Z.bind(null,null,le))},function(le){process.nextTick(ne.bind(null,le,Z))})}return Object.setPrototypeOf(z,Object.getPrototypeOf(j)),Object.defineProperties(z,n(j)),z}e.callbackify=me}(gE)),gE}var mN;function CL(){if(mN)return pE;mN=1;function e(_){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},e(_)}function t(_,I,D){return Object.defineProperty(_,"prototype",{writable:!1}),_}function n(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")}function r(_,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(I&&I.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),I&&s(_,I)}function s(_,I){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,k){return L.__proto__=k,L},s(_,I)}function a(_){var I=h();return function(){var L=g(_),k;if(I){var U=g(this).constructor;k=Reflect.construct(L,arguments,U)}else k=L.apply(this,arguments);return u(this,k)}}function u(_,I){if(I&&(e(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(_)}function d(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(_){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},g(_)}var p={},m,x;function b(_,I,D){D||(D=Error);function L(U,B,W){return typeof I=="string"?I:I(U,B,W)}var k=function(U){r(W,U);var B=a(W);function W(te,ie,se){var Ce;return n(this,W),Ce=B.call(this,L(te,ie,se)),Ce.code=_,Ce}return t(W)}(D);p[_]=k}function A(_,I){if(Array.isArray(_)){var D=_.length;return _=_.map(function(L){return String(L)}),D>2?"one of ".concat(I," ").concat(_.slice(0,D-1).join(", "),", or ")+_[D-1]:D===2?"one of ".concat(I," ").concat(_[0]," or ").concat(_[1]):"of ".concat(I," ").concat(_[0])}else return"of ".concat(I," ").concat(String(_))}function C(_,I,D){return _.substr(0,I.length)===I}function w(_,I,D){return(D===void 0||D>_.length)&&(D=_.length),_.substring(D-I.length,D)===I}function T(_,I,D){return typeof D!="number"&&(D=0),D+I.length>_.length?!1:_.indexOf(I,D)!==-1}return b("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),b("ERR_INVALID_ARG_TYPE",function(_,I,D){m===void 0&&(m=bi()),m(typeof _=="string","'name' must be a string");var L;typeof I=="string"&&C(I,"not ")?(L="must not be",I=I.replace(/^not /,"")):L="must be";var k;if(w(_," argument"))k="The ".concat(_," ").concat(L," ").concat(A(I,"type"));else{var U=T(_,".")?"property":"argument";k='The "'.concat(_,'" ').concat(U," ").concat(L," ").concat(A(I,"type"))}return k+=". Received type ".concat(e(D)),k},TypeError),b("ERR_INVALID_ARG_VALUE",function(_,I){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";x===void 0&&(x=Qp());var L=x.inspect(I);return L.length>128&&(L="".concat(L.slice(0,128),"...")),"The argument '".concat(_,"' ").concat(D,". Received ").concat(L)},TypeError),b("ERR_INVALID_RETURN_VALUE",function(_,I,D){var L;return D&&D.constructor&&D.constructor.name?L="instance of ".concat(D.constructor.name):L="type ".concat(e(D)),"Expected ".concat(_,' to be returned from the "').concat(I,'"')+" function but got ".concat(L,".")},TypeError),b("ERR_MISSING_ARGS",function(){for(var _=arguments.length,I=new Array(_),D=0;D<_;D++)I[D]=arguments[D];m===void 0&&(m=bi()),m(I.length>0,"At least one arg needs to be specified");var L="The ",k=I.length;switch(I=I.map(function(U){return'"'.concat(U,'"')}),k){case 1:L+="".concat(I[0]," argument");break;case 2:L+="".concat(I[0]," and ").concat(I[1]," arguments");break;default:L+=I.slice(0,k-1).join(", "),L+=", and ".concat(I[k-1]," arguments");break}return"".concat(L," must be specified")},TypeError),pE.codes=p,pE}var gA,yN;function z$(){if(yN)return gA;yN=1;function e(fe,K){var ne=Object.keys(fe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(fe);K&&(me=me.filter(function(j){return Object.getOwnPropertyDescriptor(fe,j).enumerable})),ne.push.apply(ne,me)}return ne}function t(fe){for(var K=1;K<arguments.length;K++){var ne=arguments[K]!=null?arguments[K]:{};K%2?e(Object(ne),!0).forEach(function(me){n(fe,me,ne[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ne)):e(Object(ne)).forEach(function(me){Object.defineProperty(fe,me,Object.getOwnPropertyDescriptor(ne,me))})}return fe}function n(fe,K,ne){return K=u(K),K in fe?Object.defineProperty(fe,K,{value:ne,enumerable:!0,configurable:!0,writable:!0}):fe[K]=ne,fe}function r(fe,K){if(!(fe instanceof K))throw new TypeError("Cannot call a class as a function")}function s(fe,K){for(var ne=0;ne<K.length;ne++){var me=K[ne];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(fe,u(me.key),me)}}function a(fe,K,ne){return K&&s(fe.prototype,K),Object.defineProperty(fe,"prototype",{writable:!1}),fe}function u(fe){var K=d(fe,"string");return _(K)==="symbol"?K:String(K)}function d(fe,K){if(_(fe)!=="object"||fe===null)return fe;var ne=fe[Symbol.toPrimitive];if(ne!==void 0){var me=ne.call(fe,K);if(_(me)!=="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(fe)}function h(fe,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(K&&K.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),K&&w(fe,K)}function g(fe){var K=A();return function(){var me=T(fe),j;if(K){var z=T(this).constructor;j=Reflect.construct(me,arguments,z)}else j=me.apply(this,arguments);return p(this,j)}}function p(fe,K){if(K&&(_(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(fe)}function m(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}function x(fe){var K=typeof Map=="function"?new Map:void 0;return x=function(me){if(me===null||!C(me))return me;if(typeof me!="function")throw new TypeError("Super expression must either be null or a function");if(typeof K<"u"){if(K.has(me))return K.get(me);K.set(me,j)}function j(){return b(me,arguments,T(this).constructor)}return j.prototype=Object.create(me.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w(j,me)},x(fe)}function b(fe,K,ne){return A()?b=Reflect.construct.bind():b=function(j,z,G){var H=[null];H.push.apply(H,z);var J=Function.bind.apply(j,H),X=new J;return G&&w(X,G.prototype),X},b.apply(null,arguments)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(fe){return Function.toString.call(fe).indexOf("[native code]")!==-1}function w(fe,K){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(me,j){return me.__proto__=j,me},w(fe,K)}function T(fe){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},T(fe)}function _(fe){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},_(fe)}var I=Qp(),D=I.inspect,L=CL(),k=L.codes.ERR_INVALID_ARG_TYPE;function U(fe,K,ne){return(ne===void 0||ne>fe.length)&&(ne=fe.length),fe.substring(ne-K.length,ne)===K}function B(fe,K){if(K=Math.floor(K),fe.length==0||K==0)return"";var ne=fe.length*K;for(K=Math.floor(Math.log(K)/Math.log(2));K;)fe+=fe,K--;return fe+=fe.substring(0,ne-fe.length),fe}var W="",te="",ie="",se="",Ce={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},je=10;function Me(fe){var K=Object.keys(fe),ne=Object.create(Object.getPrototypeOf(fe));return K.forEach(function(me){ne[me]=fe[me]}),Object.defineProperty(ne,"message",{value:fe.message}),ne}function re(fe){return D(fe,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Ie(fe,K,ne){var me="",j="",z=0,G="",H=!1,J=re(fe),X=J.split(`
`),Z=re(K).split(`
`),le=0,xe="";if(ne==="strictEqual"&&_(fe)==="object"&&_(K)==="object"&&fe!==null&&K!==null&&(ne="strictEqualObject"),X.length===1&&Z.length===1&&X[0]!==Z[0]){var Se=X[0].length+Z[0].length;if(Se<=je){if((_(fe)!=="object"||fe===null)&&(_(K)!=="object"||K===null)&&(fe!==0||K!==0))return"".concat(Ce[ne],`

`)+"".concat(X[0]," !== ").concat(Z[0],`
`)}else if(ne!=="strictEqualObject"){var oe=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(Se<oe){for(;X[0][le]===Z[0][le];)le++;le>2&&(xe=`
  `.concat(B(" ",le),"^"),le=0)}}}for(var ae=X[X.length-1],Ae=Z[Z.length-1];ae===Ae&&(le++<2?G=`
  `.concat(ae).concat(G):me=ae,X.pop(),Z.pop(),!(X.length===0||Z.length===0));)ae=X[X.length-1],Ae=Z[Z.length-1];var Oe=Math.max(X.length,Z.length);if(Oe===0){var Be=J.split(`
`);if(Be.length>30)for(Be[26]="".concat(W,"...").concat(se);Be.length>27;)Be.pop();return"".concat(Ce.notIdentical,`

`).concat(Be.join(`
`),`
`)}le>3&&(G=`
`.concat(W,"...").concat(se).concat(G),H=!0),me!==""&&(G=`
  `.concat(me).concat(G),me="");var Ge=0,ye=Ce[ne]+`
`.concat(te,"+ actual").concat(se," ").concat(ie,"- expected").concat(se),Fe=" ".concat(W,"...").concat(se," Lines skipped");for(le=0;le<Oe;le++){var Qe=le-z;if(X.length<le+1)Qe>1&&le>2&&(Qe>4?(j+=`
`.concat(W,"...").concat(se),H=!0):Qe>3&&(j+=`
  `.concat(Z[le-2]),Ge++),j+=`
  `.concat(Z[le-1]),Ge++),z=le,me+=`
`.concat(ie,"-").concat(se," ").concat(Z[le]),Ge++;else if(Z.length<le+1)Qe>1&&le>2&&(Qe>4?(j+=`
`.concat(W,"...").concat(se),H=!0):Qe>3&&(j+=`
  `.concat(X[le-2]),Ge++),j+=`
  `.concat(X[le-1]),Ge++),z=le,j+=`
`.concat(te,"+").concat(se," ").concat(X[le]),Ge++;else{var yt=Z[le],ht=X[le],pe=ht!==yt&&(!U(ht,",")||ht.slice(0,-1)!==yt);pe&&U(yt,",")&&yt.slice(0,-1)===ht&&(pe=!1,ht+=","),pe?(Qe>1&&le>2&&(Qe>4?(j+=`
`.concat(W,"...").concat(se),H=!0):Qe>3&&(j+=`
  `.concat(X[le-2]),Ge++),j+=`
  `.concat(X[le-1]),Ge++),z=le,j+=`
`.concat(te,"+").concat(se," ").concat(ht),me+=`
`.concat(ie,"-").concat(se," ").concat(yt),Ge+=2):(j+=me,me="",(Qe===1||le===0)&&(j+=`
  `.concat(ht),Ge++))}if(Ge>20&&le<Oe-2)return"".concat(ye).concat(Fe,`
`).concat(j,`
`).concat(W,"...").concat(se).concat(me,`
`)+"".concat(W,"...").concat(se)}return"".concat(ye).concat(H?Fe:"",`
`).concat(j).concat(me).concat(G).concat(xe)}var de=function(fe,K){h(me,fe);var ne=g(me);function me(j){var z;if(r(this,me),_(j)!=="object"||j===null)throw new k("options","Object",j);var G=j.message,H=j.operator,J=j.stackStartFn,X=j.actual,Z=j.expected,le=Error.stackTraceLimit;if(Error.stackTraceLimit=0,G!=null)z=ne.call(this,String(G));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(W="\x1B[34m",te="\x1B[32m",se="\x1B[39m",ie="\x1B[31m"):(W="",te="",se="",ie="")),_(X)==="object"&&X!==null&&_(Z)==="object"&&Z!==null&&"stack"in X&&X instanceof Error&&"stack"in Z&&Z instanceof Error&&(X=Me(X),Z=Me(Z)),H==="deepStrictEqual"||H==="strictEqual")z=ne.call(this,Ie(X,Z,H));else if(H==="notDeepStrictEqual"||H==="notStrictEqual"){var xe=Ce[H],Se=re(X).split(`
`);if(H==="notStrictEqual"&&_(X)==="object"&&X!==null&&(xe=Ce.notStrictEqualObject),Se.length>30)for(Se[26]="".concat(W,"...").concat(se);Se.length>27;)Se.pop();Se.length===1?z=ne.call(this,"".concat(xe," ").concat(Se[0])):z=ne.call(this,"".concat(xe,`

`).concat(Se.join(`
`),`
`))}else{var oe=re(X),ae="",Ae=Ce[H];H==="notDeepEqual"||H==="notEqual"?(oe="".concat(Ce[H],`

`).concat(oe),oe.length>1024&&(oe="".concat(oe.slice(0,1021),"..."))):(ae="".concat(re(Z)),oe.length>512&&(oe="".concat(oe.slice(0,509),"...")),ae.length>512&&(ae="".concat(ae.slice(0,509),"...")),H==="deepEqual"||H==="equal"?oe="".concat(Ae,`

`).concat(oe,`

should equal

`):ae=" ".concat(H," ").concat(ae)),z=ne.call(this,"".concat(oe).concat(ae))}return Error.stackTraceLimit=le,z.generatedMessage=!G,Object.defineProperty(m(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=X,z.expected=Z,z.operator=H,Error.captureStackTrace&&Error.captureStackTrace(m(z),J),z.stack,z.name="AssertionError",p(z)}return a(me,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:K,value:function(z,G){return D(this,t(t({},G),{},{customInspect:!1,depth:0}))}}]),me}(x(Error),D.custom);return gA=de,gA}var mA,vN;function wL(){if(vN)return mA;vN=1;var e=Object.prototype.toString;return mA=function(n){var r=e.call(n),s=r==="[object Arguments]";return s||(s=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),s},mA}var yA,xN;function V$(){if(xN)return yA;xN=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=wL(),s=Object.prototype.propertyIsEnumerable,a=!s.call({toString:null},"toString"),u=s.call(function(){},"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(x){var b=x.constructor;return b&&b.prototype===x},g={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var x in window)try{if(!g["$"+x]&&t.call(window,x)&&window[x]!==null&&typeof window[x]=="object")try{h(window[x])}catch{return!0}}catch{return!0}return!1}(),m=function(x){if(typeof window>"u"||!p)return h(x);try{return h(x)}catch{return!1}};e=function(b){var A=b!==null&&typeof b=="object",C=n.call(b)==="[object Function]",w=r(b),T=A&&n.call(b)==="[object String]",_=[];if(!A&&!C&&!w)throw new TypeError("Object.keys called on a non-object");var I=u&&C;if(T&&b.length>0&&!t.call(b,0))for(var D=0;D<b.length;++D)_.push(String(D));if(w&&b.length>0)for(var L=0;L<b.length;++L)_.push(String(L));else for(var k in b)!(I&&k==="prototype")&&t.call(b,k)&&_.push(String(k));if(a)for(var U=m(b),B=0;B<d.length;++B)!(U&&d[B]==="constructor")&&t.call(b,d[B])&&_.push(d[B]);return _}}return yA=e,yA}var vA,bN;function RL(){if(bN)return vA;bN=1;var e=Array.prototype.slice,t=wL(),n=Object.keys,r=n?function(u){return n(u)}:V$(),s=Object.keys;return r.shim=function(){if(Object.keys){var u=function(){var d=Object.keys(arguments);return d&&d.length===arguments.length}(1,2);u||(Object.keys=function(h){return t(h)?s(e.call(h)):s(h)})}else Object.keys=r;return Object.keys||r},vA=r,vA}var xA,SN;function U$(){if(SN)return xA;SN=1;var e=RL(),t=i2()(),n=gg(),r=o2(),s=n("Array.prototype.push"),a=n("Object.prototype.propertyIsEnumerable"),u=t?r.getOwnPropertySymbols:null;return xA=function(h,g){if(h==null)throw new TypeError("target must be an object");var p=r(h);if(arguments.length===1)return p;for(var m=1;m<arguments.length;++m){var x=r(arguments[m]),b=e(x),A=t&&(r.getOwnPropertySymbols||u);if(A)for(var C=A(x),w=0;w<C.length;++w){var T=C[w];a(x,T)&&s(b,T)}for(var _=0;_<b.length;++_){var I=b[_];if(a(x,I)){var D=x[I];p[I]=D}}}return p},xA}var bA,EN;function G$(){if(EN)return bA;EN=1;var e=U$(),t=function(){if(!Object.assign)return!1;for(var r="abcdefghijklmnopqrst",s=r.split(""),a={},u=0;u<s.length;++u)a[s[u]]=s[u];var d=Object.assign({},a),h="";for(var g in d)h+=g;return r!==h},n=function(){if(!Object.assign||!Object.preventExtensions)return!1;var r=Object.preventExtensions({1:2});try{Object.assign(r,"xy")}catch{return r[1]==="y"}return!1};return bA=function(){return!Object.assign||t()||n()?e:Object.assign},bA}var SA,AN;function TL(){if(AN)return SA;AN=1;var e=function(t){return t!==t};return SA=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},SA}var EA,CN;function f2(){if(CN)return EA;CN=1;var e=TL();return EA=function(){return typeof Object.is=="function"?Object.is:e},EA}var AA,wN;function $$(){if(wN)return AA;wN=1;var e=c2(),t=vS(),n=t(e("String.prototype.indexOf"));return AA=function(s,a){var u=e(s,!!a);return typeof u=="function"&&n(s,".prototype.")>-1?t(u):u},AA}var CA,RN;function xS(){if(RN)return CA;RN=1;var e=RL(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,s=SL(),a=function(g){return typeof g=="function"&&n.call(g)==="[object Function]"},u=EL()(),d=function(g,p,m,x){if(p in g){if(x===!0){if(g[p]===m)return}else if(!a(x)||!x())return}u?s(g,p,m,!0):s(g,p,m)},h=function(g,p){var m=arguments.length>2?arguments[2]:{},x=e(p);t&&(x=r.call(x,Object.getOwnPropertySymbols(p)));for(var b=0;b<x.length;b+=1)d(g,x[b],p[x[b]],m[x[b]])};return h.supportsDescriptors=!!u,CA=h,CA}var wA,TN;function H$(){if(TN)return wA;TN=1;var e=f2(),t=xS();return wA=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},wA}var RA,NN;function W$(){if(NN)return RA;NN=1;var e=xS(),t=vS(),n=TL(),r=f2(),s=H$(),a=t(r(),Object);return e(a,{getPolyfill:r,implementation:n,shim:s}),RA=a,RA}var TA,_N;function NL(){return _N||(_N=1,TA=function(t){return t!==t}),TA}var NA,IN;function _L(){if(IN)return NA;IN=1;var e=NL();return NA=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},NA}var _A,ON;function Y$(){if(ON)return _A;ON=1;var e=xS(),t=_L();return _A=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},_A}var IA,DN;function q$(){if(DN)return IA;DN=1;var e=vS(),t=xS(),n=NL(),r=_L(),s=Y$(),a=e(r(),Number);return t(a,{getPolyfill:r,implementation:n,shim:s}),IA=a,IA}var OA,PN;function K$(){if(PN)return OA;PN=1;function e(pe,Ne){return a(pe)||s(pe,Ne)||n(pe,Ne)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(pe,Ne){if(pe){if(typeof pe=="string")return r(pe,Ne);var Ye=Object.prototype.toString.call(pe).slice(8,-1);if(Ye==="Object"&&pe.constructor&&(Ye=pe.constructor.name),Ye==="Map"||Ye==="Set")return Array.from(pe);if(Ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ye))return r(pe,Ne)}}function r(pe,Ne){(Ne==null||Ne>pe.length)&&(Ne=pe.length);for(var Ye=0,qe=new Array(Ne);Ye<Ne;Ye++)qe[Ye]=pe[Ye];return qe}function s(pe,Ne){var Ye=pe==null?null:typeof Symbol<"u"&&pe[Symbol.iterator]||pe["@@iterator"];if(Ye!=null){var qe,tt,ft,bt,jt=[],Ot=!0,un=!1;try{if(ft=(Ye=Ye.call(pe)).next,Ne!==0)for(;!(Ot=(qe=ft.call(Ye)).done)&&(jt.push(qe.value),jt.length!==Ne);Ot=!0);}catch(Le){un=!0,tt=Le}finally{try{if(!Ot&&Ye.return!=null&&(bt=Ye.return(),Object(bt)!==bt))return}finally{if(un)throw tt}}return jt}}function a(pe){if(Array.isArray(pe))return pe}function u(pe){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ne){return typeof Ne}:function(Ne){return Ne&&typeof Symbol=="function"&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},u(pe)}var d=/a/g.flags!==void 0,h=function(Ne){var Ye=[];return Ne.forEach(function(qe){return Ye.push(qe)}),Ye},g=function(Ne){var Ye=[];return Ne.forEach(function(qe,tt){return Ye.push([tt,qe])}),Ye},p=Object.is?Object.is:W$(),m=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},x=Number.isNaN?Number.isNaN:q$();function b(pe){return pe.call.bind(pe)}var A=b(Object.prototype.hasOwnProperty),C=b(Object.prototype.propertyIsEnumerable),w=b(Object.prototype.toString),T=Qp().types,_=T.isAnyArrayBuffer,I=T.isArrayBufferView,D=T.isDate,L=T.isMap,k=T.isRegExp,U=T.isSet,B=T.isNativeError,W=T.isBoxedPrimitive,te=T.isNumberObject,ie=T.isStringObject,se=T.isBooleanObject,Ce=T.isBigIntObject,je=T.isSymbolObject,Me=T.isFloat32Array,re=T.isFloat64Array;function Ie(pe){if(pe.length===0||pe.length>10)return!0;for(var Ne=0;Ne<pe.length;Ne++){var Ye=pe.charCodeAt(Ne);if(Ye<48||Ye>57)return!0}return pe.length===10&&pe>=Math.pow(2,32)}function de(pe){return Object.keys(pe).filter(Ie).concat(m(pe).filter(Object.prototype.propertyIsEnumerable.bind(pe)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function fe(pe,Ne){if(pe===Ne)return 0;for(var Ye=pe.length,qe=Ne.length,tt=0,ft=Math.min(Ye,qe);tt<ft;++tt)if(pe[tt]!==Ne[tt]){Ye=pe[tt],qe=Ne[tt];break}return Ye<qe?-1:qe<Ye?1:0}var K=!0,ne=!1,me=0,j=1,z=2,G=3;function H(pe,Ne){return d?pe.source===Ne.source&&pe.flags===Ne.flags:RegExp.prototype.toString.call(pe)===RegExp.prototype.toString.call(Ne)}function J(pe,Ne){if(pe.byteLength!==Ne.byteLength)return!1;for(var Ye=0;Ye<pe.byteLength;Ye++)if(pe[Ye]!==Ne[Ye])return!1;return!0}function X(pe,Ne){return pe.byteLength!==Ne.byteLength?!1:fe(new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength),new Uint8Array(Ne.buffer,Ne.byteOffset,Ne.byteLength))===0}function Z(pe,Ne){return pe.byteLength===Ne.byteLength&&fe(new Uint8Array(pe),new Uint8Array(Ne))===0}function le(pe,Ne){return te(pe)?te(Ne)&&p(Number.prototype.valueOf.call(pe),Number.prototype.valueOf.call(Ne)):ie(pe)?ie(Ne)&&String.prototype.valueOf.call(pe)===String.prototype.valueOf.call(Ne):se(pe)?se(Ne)&&Boolean.prototype.valueOf.call(pe)===Boolean.prototype.valueOf.call(Ne):Ce(pe)?Ce(Ne)&&BigInt.prototype.valueOf.call(pe)===BigInt.prototype.valueOf.call(Ne):je(Ne)&&Symbol.prototype.valueOf.call(pe)===Symbol.prototype.valueOf.call(Ne)}function xe(pe,Ne,Ye,qe){if(pe===Ne)return pe!==0?!0:Ye?p(pe,Ne):!0;if(Ye){if(u(pe)!=="object")return typeof pe=="number"&&x(pe)&&x(Ne);if(u(Ne)!=="object"||pe===null||Ne===null||Object.getPrototypeOf(pe)!==Object.getPrototypeOf(Ne))return!1}else{if(pe===null||u(pe)!=="object")return Ne===null||u(Ne)!=="object"?pe==Ne:!1;if(Ne===null||u(Ne)!=="object")return!1}var tt=w(pe),ft=w(Ne);if(tt!==ft)return!1;if(Array.isArray(pe)){if(pe.length!==Ne.length)return!1;var bt=de(pe),jt=de(Ne);return bt.length!==jt.length?!1:oe(pe,Ne,Ye,qe,j,bt)}if(tt==="[object Object]"&&(!L(pe)&&L(Ne)||!U(pe)&&U(Ne)))return!1;if(D(pe)){if(!D(Ne)||Date.prototype.getTime.call(pe)!==Date.prototype.getTime.call(Ne))return!1}else if(k(pe)){if(!k(Ne)||!H(pe,Ne))return!1}else if(B(pe)||pe instanceof Error){if(pe.message!==Ne.message||pe.name!==Ne.name)return!1}else if(I(pe)){if(!Ye&&(Me(pe)||re(pe))){if(!J(pe,Ne))return!1}else if(!X(pe,Ne))return!1;var Ot=de(pe),un=de(Ne);return Ot.length!==un.length?!1:oe(pe,Ne,Ye,qe,me,Ot)}else{if(U(pe))return!U(Ne)||pe.size!==Ne.size?!1:oe(pe,Ne,Ye,qe,z);if(L(pe))return!L(Ne)||pe.size!==Ne.size?!1:oe(pe,Ne,Ye,qe,G);if(_(pe)){if(!Z(pe,Ne))return!1}else if(W(pe)&&!le(pe,Ne))return!1}return oe(pe,Ne,Ye,qe,me)}function Se(pe,Ne){return Ne.filter(function(Ye){return C(pe,Ye)})}function oe(pe,Ne,Ye,qe,tt,ft){if(arguments.length===5){ft=Object.keys(pe);var bt=Object.keys(Ne);if(ft.length!==bt.length)return!1}for(var jt=0;jt<ft.length;jt++)if(!A(Ne,ft[jt]))return!1;if(Ye&&arguments.length===5){var Ot=m(pe);if(Ot.length!==0){var un=0;for(jt=0;jt<Ot.length;jt++){var Le=Ot[jt];if(C(pe,Le)){if(!C(Ne,Le))return!1;ft.push(Le),un++}else if(C(Ne,Le))return!1}var rt=m(Ne);if(Ot.length!==rt.length&&Se(Ne,rt).length!==un)return!1}else{var mt=m(Ne);if(mt.length!==0&&Se(Ne,mt).length!==0)return!1}}if(ft.length===0&&(tt===me||tt===j&&pe.length===0||pe.size===0))return!0;if(qe===void 0)qe={val1:new Map,val2:new Map,position:0};else{var Et=qe.val1.get(pe);if(Et!==void 0){var Dt=qe.val2.get(Ne);if(Dt!==void 0)return Et===Dt}qe.position++}qe.val1.set(pe,qe.position),qe.val2.set(Ne,qe.position);var En=Qe(pe,Ne,Ye,ft,qe,tt);return qe.val1.delete(pe),qe.val2.delete(Ne),En}function ae(pe,Ne,Ye,qe){for(var tt=h(pe),ft=0;ft<tt.length;ft++){var bt=tt[ft];if(xe(Ne,bt,Ye,qe))return pe.delete(bt),!0}return!1}function Ae(pe){switch(u(pe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":pe=+pe;case"number":if(x(pe))return!1}return!0}function Oe(pe,Ne,Ye){var qe=Ae(Ye);return qe??(Ne.has(qe)&&!pe.has(qe))}function Be(pe,Ne,Ye,qe,tt){var ft=Ae(Ye);if(ft!=null)return ft;var bt=Ne.get(ft);return bt===void 0&&!Ne.has(ft)||!xe(qe,bt,!1,tt)?!1:!pe.has(ft)&&xe(qe,bt,!1,tt)}function Ge(pe,Ne,Ye,qe){for(var tt=null,ft=h(pe),bt=0;bt<ft.length;bt++){var jt=ft[bt];if(u(jt)==="object"&&jt!==null)tt===null&&(tt=new Set),tt.add(jt);else if(!Ne.has(jt)){if(Ye||!Oe(pe,Ne,jt))return!1;tt===null&&(tt=new Set),tt.add(jt)}}if(tt!==null){for(var Ot=h(Ne),un=0;un<Ot.length;un++){var Le=Ot[un];if(u(Le)==="object"&&Le!==null){if(!ae(tt,Le,Ye,qe))return!1}else if(!Ye&&!pe.has(Le)&&!ae(tt,Le,Ye,qe))return!1}return tt.size===0}return!0}function ye(pe,Ne,Ye,qe,tt,ft){for(var bt=h(pe),jt=0;jt<bt.length;jt++){var Ot=bt[jt];if(xe(Ye,Ot,tt,ft)&&xe(qe,Ne.get(Ot),tt,ft))return pe.delete(Ot),!0}return!1}function Fe(pe,Ne,Ye,qe){for(var tt=null,ft=g(pe),bt=0;bt<ft.length;bt++){var jt=e(ft[bt],2),Ot=jt[0],un=jt[1];if(u(Ot)==="object"&&Ot!==null)tt===null&&(tt=new Set),tt.add(Ot);else{var Le=Ne.get(Ot);if(Le===void 0&&!Ne.has(Ot)||!xe(un,Le,Ye,qe)){if(Ye||!Be(pe,Ne,Ot,un,qe))return!1;tt===null&&(tt=new Set),tt.add(Ot)}}}if(tt!==null){for(var rt=g(Ne),mt=0;mt<rt.length;mt++){var Et=e(rt[mt],2),Dt=Et[0],En=Et[1];if(u(Dt)==="object"&&Dt!==null){if(!ye(tt,pe,Dt,En,Ye,qe))return!1}else if(!Ye&&(!pe.has(Dt)||!xe(pe.get(Dt),En,!1,qe))&&!ye(tt,pe,Dt,En,!1,qe))return!1}return tt.size===0}return!0}function Qe(pe,Ne,Ye,qe,tt,ft){var bt=0;if(ft===z){if(!Ge(pe,Ne,Ye,tt))return!1}else if(ft===G){if(!Fe(pe,Ne,Ye,tt))return!1}else if(ft===j)for(;bt<pe.length;bt++)if(A(pe,bt)){if(!A(Ne,bt)||!xe(pe[bt],Ne[bt],Ye,tt))return!1}else{if(A(Ne,bt))return!1;for(var jt=Object.keys(pe);bt<jt.length;bt++){var Ot=jt[bt];if(!A(Ne,Ot)||!xe(pe[Ot],Ne[Ot],Ye,tt))return!1}return jt.length===Object.keys(Ne).length}for(bt=0;bt<qe.length;bt++){var un=qe[bt];if(!xe(pe[un],Ne[un],Ye,tt))return!1}return!0}function yt(pe,Ne){return xe(pe,Ne,ne)}function ht(pe,Ne){return xe(pe,Ne,K)}return OA={isDeepEqual:yt,isDeepStrictEqual:ht},OA}var MN;function bi(){if(MN)return hE.exports;MN=1;function e(z){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},e(z)}function t(z,G,H){return Object.defineProperty(z,"prototype",{writable:!1}),z}function n(z,G){if(!(z instanceof G))throw new TypeError("Cannot call a class as a function")}var r=CL(),s=r.codes,a=s.ERR_AMBIGUOUS_ARGUMENT,u=s.ERR_INVALID_ARG_TYPE,d=s.ERR_INVALID_ARG_VALUE,h=s.ERR_INVALID_RETURN_VALUE,g=s.ERR_MISSING_ARGS,p=z$(),m=Qp(),x=m.inspect,b=Qp().types,A=b.isPromise,C=b.isRegExp,w=G$()(),T=f2()(),_=$$()("RegExp.prototype.test"),I,D;function L(){var z=K$();I=z.isDeepEqual,D=z.isDeepStrictEqual}var k=!1,U=hE.exports=se,B={};function W(z){throw z.message instanceof Error?z.message:new p(z)}function te(z,G,H,J,X){var Z=arguments.length,le;if(Z===0)le="Failed";else if(Z===1)H=z,z=void 0;else{if(k===!1){k=!0;var xe=process.emitWarning?process.emitWarning:console.warn.bind(console);xe("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(J="!=")}if(H instanceof Error)throw H;var Se={actual:z,expected:G,operator:J===void 0?"fail":J,stackStartFn:X||te};H!==void 0&&(Se.message=H);var oe=new p(Se);throw le&&(oe.message=le,oe.generatedMessage=!0),oe}U.fail=te,U.AssertionError=p;function ie(z,G,H,J){if(!H){var X=!1;if(G===0)X=!0,J="No value argument passed to `assert.ok()`";else if(J instanceof Error)throw J;var Z=new p({actual:H,expected:!0,message:J,operator:"==",stackStartFn:z});throw Z.generatedMessage=X,Z}}function se(){for(var z=arguments.length,G=new Array(z),H=0;H<z;H++)G[H]=arguments[H];ie.apply(void 0,[se,G.length].concat(G))}U.ok=se,U.equal=function z(G,H,J){if(arguments.length<2)throw new g("actual","expected");G!=H&&W({actual:G,expected:H,message:J,operator:"==",stackStartFn:z})},U.notEqual=function z(G,H,J){if(arguments.length<2)throw new g("actual","expected");G==H&&W({actual:G,expected:H,message:J,operator:"!=",stackStartFn:z})},U.deepEqual=function z(G,H,J){if(arguments.length<2)throw new g("actual","expected");I===void 0&&L(),I(G,H)||W({actual:G,expected:H,message:J,operator:"deepEqual",stackStartFn:z})},U.notDeepEqual=function z(G,H,J){if(arguments.length<2)throw new g("actual","expected");I===void 0&&L(),I(G,H)&&W({actual:G,expected:H,message:J,operator:"notDeepEqual",stackStartFn:z})},U.deepStrictEqual=function z(G,H,J){if(arguments.length<2)throw new g("actual","expected");I===void 0&&L(),D(G,H)||W({actual:G,expected:H,message:J,operator:"deepStrictEqual",stackStartFn:z})},U.notDeepStrictEqual=Ce;function Ce(z,G,H){if(arguments.length<2)throw new g("actual","expected");I===void 0&&L(),D(z,G)&&W({actual:z,expected:G,message:H,operator:"notDeepStrictEqual",stackStartFn:Ce})}U.strictEqual=function z(G,H,J){if(arguments.length<2)throw new g("actual","expected");T(G,H)||W({actual:G,expected:H,message:J,operator:"strictEqual",stackStartFn:z})},U.notStrictEqual=function z(G,H,J){if(arguments.length<2)throw new g("actual","expected");T(G,H)&&W({actual:G,expected:H,message:J,operator:"notStrictEqual",stackStartFn:z})};var je=t(function z(G,H,J){var X=this;n(this,z),H.forEach(function(Z){Z in G&&(J!==void 0&&typeof J[Z]=="string"&&C(G[Z])&&_(G[Z],J[Z])?X[Z]=J[Z]:X[Z]=G[Z])})});function Me(z,G,H,J,X,Z){if(!(H in z)||!D(z[H],G[H])){if(!J){var le=new je(z,X),xe=new je(G,X,z),Se=new p({actual:le,expected:xe,operator:"deepStrictEqual",stackStartFn:Z});throw Se.actual=z,Se.expected=G,Se.operator=Z.name,Se}W({actual:z,expected:G,message:J,operator:Z.name,stackStartFn:Z})}}function re(z,G,H,J){if(typeof G!="function"){if(C(G))return _(G,z);if(arguments.length===2)throw new u("expected",["Function","RegExp"],G);if(e(z)!=="object"||z===null){var X=new p({actual:z,expected:G,message:H,operator:"deepStrictEqual",stackStartFn:J});throw X.operator=J.name,X}var Z=Object.keys(G);if(G instanceof Error)Z.push("name","message");else if(Z.length===0)throw new d("error",G,"may not be an empty object");return I===void 0&&L(),Z.forEach(function(le){typeof z[le]=="string"&&C(G[le])&&_(G[le],z[le])||Me(z,G,le,H,Z,J)}),!0}return G.prototype!==void 0&&z instanceof G?!0:Error.isPrototypeOf(G)?!1:G.call({},z)===!0}function Ie(z){if(typeof z!="function")throw new u("fn","Function",z);try{z()}catch(G){return G}return B}function de(z){return A(z)||z!==null&&e(z)==="object"&&typeof z.then=="function"&&typeof z.catch=="function"}function fe(z){return Promise.resolve().then(function(){var G;if(typeof z=="function"){if(G=z(),!de(G))throw new h("instance of Promise","promiseFn",G)}else if(de(z))G=z;else throw new u("promiseFn",["Function","Promise"],z);return Promise.resolve().then(function(){return G}).then(function(){return B}).catch(function(H){return H})})}function K(z,G,H,J){if(typeof H=="string"){if(arguments.length===4)throw new u("error",["Object","Error","Function","RegExp"],H);if(e(G)==="object"&&G!==null){if(G.message===H)throw new a("error/message",'The error message "'.concat(G.message,'" is identical to the message.'))}else if(G===H)throw new a("error/message",'The error "'.concat(G,'" is identical to the message.'));J=H,H=void 0}else if(H!=null&&e(H)!=="object"&&typeof H!="function")throw new u("error",["Object","Error","Function","RegExp"],H);if(G===B){var X="";H&&H.name&&(X+=" (".concat(H.name,")")),X+=J?": ".concat(J):".";var Z=z.name==="rejects"?"rejection":"exception";W({actual:void 0,expected:H,operator:z.name,message:"Missing expected ".concat(Z).concat(X),stackStartFn:z})}if(H&&!re(G,H,J,z))throw G}function ne(z,G,H,J){if(G!==B){if(typeof H=="string"&&(J=H,H=void 0),!H||re(G,H)){var X=J?": ".concat(J):".",Z=z.name==="doesNotReject"?"rejection":"exception";W({actual:G,expected:H,operator:z.name,message:"Got unwanted ".concat(Z).concat(X,`
`)+'Actual message: "'.concat(G&&G.message,'"'),stackStartFn:z})}throw G}}U.throws=function z(G){for(var H=arguments.length,J=new Array(H>1?H-1:0),X=1;X<H;X++)J[X-1]=arguments[X];K.apply(void 0,[z,Ie(G)].concat(J))},U.rejects=function z(G){for(var H=arguments.length,J=new Array(H>1?H-1:0),X=1;X<H;X++)J[X-1]=arguments[X];return fe(G).then(function(Z){return K.apply(void 0,[z,Z].concat(J))})},U.doesNotThrow=function z(G){for(var H=arguments.length,J=new Array(H>1?H-1:0),X=1;X<H;X++)J[X-1]=arguments[X];ne.apply(void 0,[z,Ie(G)].concat(J))},U.doesNotReject=function z(G){for(var H=arguments.length,J=new Array(H>1?H-1:0),X=1;X<H;X++)J[X-1]=arguments[X];return fe(G).then(function(Z){return ne.apply(void 0,[z,Z].concat(J))})},U.ifError=function z(G){if(G!=null){var H="ifError got unwanted exception: ";e(G)==="object"&&typeof G.message=="string"?G.message.length===0&&G.constructor?H+=G.constructor.name:H+=G.message:H+=x(G);var J=new p({actual:G,expected:null,operator:"ifError",message:H,stackStartFn:z}),X=G.stack;if(typeof X=="string"){var Z=X.split(`
`);Z.shift();for(var le=J.stack.split(`
`),xe=0;xe<Z.length;xe++){var Se=le.indexOf(Z[xe]);if(Se!==-1){le=le.slice(0,Se);break}}J.stack="".concat(le.join(`
`),`
`).concat(Z.join(`
`))}throw J}};function me(z,G,H,J,X){if(!C(G))throw new u("regexp","RegExp",G);var Z=X==="match";if(typeof z!="string"||_(G,z)!==Z){if(H instanceof Error)throw H;var le=!H;H=H||(typeof z!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(z)," (").concat(x(z),")"):(Z?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(x(G),`. Input:

`).concat(x(z),`
`));var xe=new p({actual:z,expected:G,message:H,operator:X,stackStartFn:J});throw xe.generatedMessage=le,xe}}U.match=function z(G,H,J){me(G,H,J,z,"match")},U.doesNotMatch=function z(G,H,J){me(G,H,J,z,"doesNotMatch")};function j(){for(var z=arguments.length,G=new Array(z),H=0;H<z;H++)G[H]=arguments[H];ie.apply(void 0,[j,G.length].concat(G))}return U.strict=w(j,U,{equal:U.strictEqual,deepEqual:U.deepStrictEqual,notEqual:U.notStrictEqual,notDeepEqual:U.notDeepStrictEqual}),U.strict.strict=U.strict,hE.exports}var fs={},LN;function Ve(){if(LN)return fs;LN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(fs,"__esModule",{value:!0}),fs.SuppressWarnings=fs.Override=fs.Nullable=fs.NotNull=void 0;function e(s,a,u){}fs.NotNull=e;function t(s,a,u){}fs.Nullable=t;function n(s,a,u){}fs.Override=n;function r(s){return(a,u,d)=>{}}return fs.SuppressWarnings=r,fs}var DA={},FN;function Hc(){return FN||(FN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.IntStream=void 0,function(t){t.EOF=-1,t.UNKNOWN_SOURCE_NAME="<unknown>"}(e.IntStream||(e.IntStream={}))}(DA)),DA}var kN;function X$(){if(kN)return jf;kN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jf&&jf.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(jf,"__esModule",{value:!0}),jf.ANTLRInputStream=void 0;const t=bi(),n=Ve(),r=Hc();let s=class{constructor(u){this.p=0,this.data=u,this.n=u.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw t(this.LA(1)===r.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(u){return u===0?0:u<0&&(u++,this.p+u-1<0)||this.p+u-1>=this.n?r.IntStream.EOF:this.data.charCodeAt(this.p+u-1)}LT(u){return this.LA(u)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(u){}seek(u){if(u<=this.p){this.p=u;return}for(u=Math.min(u,this.n);this.p<u;)this.consume()}getText(u){let d=u.a,h=u.b;h>=this.n&&(h=this.n-1);let g=h-d+1;return d>=this.n?"":this.data.substr(d,g)}get sourceName(){return this.name?this.name:r.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};return e([n.Override],s.prototype,"consume",null),e([n.Override],s.prototype,"LA",null),e([n.Override],s.prototype,"index",null),e([n.Override],s.prototype,"size",null),e([n.Override],s.prototype,"mark",null),e([n.Override],s.prototype,"release",null),e([n.Override],s.prototype,"seek",null),e([n.Override],s.prototype,"getText",null),e([n.Override],s.prototype,"sourceName",null),e([n.Override],s.prototype,"toString",null),jf.ANTLRInputStream=s,jf}var zf={},sl={},y0={},BN;function xu(){return BN||(BN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=y0&&y0.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNState=void 0;const n=Ve();let r=class VC{constructor(){this.stateNumber=VC.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(a){return a instanceof VC?this.stateNumber===a.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(a,u){if(this.transitions.length===0)this.epsilonOnlyTransitions=a.isEpsilon;else if(this.epsilonOnlyTransitions!==a.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(u!==void 0?u:this.transitions.length,0,a)}transition(a){return this.transitions[a]}setTransition(a,u){this.transitions[a]=u}removeTransition(a){return this.transitions.splice(a,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(a){this.ruleIndex=a}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(a){return this.optimizedTransitions[a]}addOptimizedTransition(a){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(a)}setOptimizedTransition(a,u){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[a]=u}removeOptimizedTransition(a){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(a,1)}};t([n.Override],r.prototype,"hashCode",null),t([n.Override],r.prototype,"equals",null),t([n.Override],r.prototype,"toString",null),e.ATNState=r,function(s){s.INVALID_STATE_NUMBER=-1}(r=e.ATNState||(e.ATNState={}))}(y0)),y0}var PA={},jN;function Vr(){return jN||(jN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ATNStateType=void 0,function(t){t[t.INVALID_TYPE=0]="INVALID_TYPE",t[t.BASIC=1]="BASIC",t[t.RULE_START=2]="RULE_START",t[t.BLOCK_START=3]="BLOCK_START",t[t.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",t[t.STAR_BLOCK_START=5]="STAR_BLOCK_START",t[t.TOKEN_START=6]="TOKEN_START",t[t.RULE_STOP=7]="RULE_STOP",t[t.BLOCK_END=8]="BLOCK_END",t[t.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",t[t.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",t[t.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",t[t.LOOP_END=12]="LOOP_END"}(e.ATNStateType||(e.ATNStateType={}))}(PA)),PA}var al={},v0={},zN;function Wc(){if(zN)return v0;zN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(v0,"__esModule",{value:!0}),v0.RecognitionException=void 0;let e=class extends Error{constructor(n,r,s,a){super(a),this._offendingState=-1,this._recognizer=n,this.input=r,this.ctx=s,n&&(this._offendingState=n.state)}get offendingState(){return this._offendingState}setOffendingState(n){this._offendingState=n}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(n){if(!(n&&n!==this._recognizer))return this.offendingToken}setOffendingToken(n,r){n===this._recognizer&&(this.offendingToken=r)}get recognizer(){return this._recognizer}};return v0.RecognitionException=e,v0}var ll={},x0={},ul={},VN;function Yc(){if(VN)return ul;VN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ul&&ul.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g},t=ul&&ul.__param||function(s,a){return function(u,d){a(u,d,s)}};Object.defineProperty(ul,"__esModule",{value:!0}),ul.Transition=void 0;const n=Ve();let r=class{constructor(a){if(a==null)throw new Error("target cannot be null.");this.target=a}get isEpsilon(){return!1}get label(){}};return r.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],e([n.NotNull],r.prototype,"target",void 0),r=e([t(0,n.NotNull)],r),ul.Transition=r,ul}var UN;function d2(){if(UN)return x0;UN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(x0,"__esModule",{value:!0}),x0.AbstractPredicateTransition=void 0;const e=Yc();let t=class extends e.Transition{constructor(r){super(r)}};return x0.AbstractPredicateTransition=t,x0}var Vf={},cl={},Uf={},MA={},GN;function ur(){return GN||(GN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash=void 0,function(t){function r(h=0){return h}t.initialize=r;function s(h,g){g==null?g=0:typeof g=="string"?g=d(g):typeof g=="object"&&(g=g.hashCode());let w=g;return w=Math.imul(w,3432918353),w=w<<15|w>>>17,w=Math.imul(w,461845907),h=h^w,h=h<<13|h>>>19,h=Math.imul(h,5)+3864292196,h&4294967295}t.update=s;function a(h,g){return h=h^g*4,h=h^h>>>16,h=Math.imul(h,2246822507),h=h^h>>>13,h=Math.imul(h,3266489909),h=h^h>>>16,h}t.finish=a;function u(h,g=0){let p=r(g),m=0;for(let x of h)p=s(p,x),m++;return p=a(p,m),p}t.hashCode=u;function d(h){let g=h.length;if(g===0)return 0;let p=0;for(let m=0;m<g;m++){let x=h.charCodeAt(m);p=(p<<5>>>0)-p+x,p|=0}return p}}(e.MurmurHash||(e.MurmurHash={}))}(MA)),MA}var Gf={},$N;function wa(){if($N)return Gf;$N=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gf&&Gf.__decorate||function(r,s,a,u){var d=arguments.length,h=d<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,a):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(r,s,a,u);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(h=(d<3?g(h):d>3?g(s,a,h):g(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h};Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.ObjectEqualityComparator=void 0;const t=Ve();let n=class{hashCode(s){return s==null?0:s.hashCode()}equals(s,a){return s==null?a==null:s.equals(a)}};return n.INSTANCE=new n,e([t.Override],n.prototype,"hashCode",null),e([t.Override],n.prototype,"equals",null),Gf.ObjectEqualityComparator=n,Gf}var HN;function Z$(){if(HN)return Uf;HN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Uf&&Uf.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.DefaultEqualityComparator=void 0;const t=Ve(),n=ur(),r=wa();let s=class{hashCode(u){return u==null?0:typeof u=="string"||typeof u=="number"?n.MurmurHash.hashCode([u]):r.ObjectEqualityComparator.INSTANCE.hashCode(u)}equals(u,d){return u==null?d==null:typeof u=="string"||typeof u=="number"?u===d:r.ObjectEqualityComparator.INSTANCE.equals(u,d)}};return s.INSTANCE=new s,e([t.Override],s.prototype,"hashCode",null),e([t.Override],s.prototype,"equals",null),Uf.DefaultEqualityComparator=s,Uf}var WN;function qc(){if(WN)return cl;WN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=cl&&cl.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A},t=cl&&cl.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(cl,"__esModule",{value:!0}),cl.Array2DHashSet=void 0;const n=bi(),r=Z$(),s=Ve(),a=ur(),u=16,d=.75;let h=class yb{constructor(p,m=u){if(this.n=0,this.threshold=Math.floor(u*d),p instanceof yb){this.comparator=p.comparator,this.buckets=p.buckets.slice(0);for(let x=0;x<this.buckets.length;x++){let b=this.buckets[x];b&&(this.buckets[x]=b.slice(0))}this.n=p.n,this.threshold=p.threshold}else this.comparator=p||r.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(m)}getOrAdd(p){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(p)}getOrAddImpl(p){let m=this.getBucket(p),x=this.buckets[m];if(!x)return x=[p],this.buckets[m]=x,this.n++,p;for(let b of x)if(this.comparator.equals(b,p))return b;return x.push(p),this.n++,p}get(p){if(p==null)return p;let m=this.getBucket(p),x=this.buckets[m];if(x){for(let b of x)if(this.comparator.equals(b,p))return b}}getBucket(p){return this.comparator.hashCode(p)&this.buckets.length-1}hashCode(){let p=a.MurmurHash.initialize();for(let m of this.buckets)if(m!=null)for(let x of m){if(x==null)break;p=a.MurmurHash.update(p,this.comparator.hashCode(x))}return p=a.MurmurHash.finish(p,this.size),p}equals(p){return p===this?!0:!(p instanceof yb)||p.size!==this.size?!1:this.containsAll(p)}expand(){let p=this.buckets,m=this.buckets.length*2,x=this.createBuckets(m);this.buckets=x,this.threshold=Math.floor(m*d);let b=this.size;for(let A of p)if(A)for(let C of A){let w=this.getBucket(C),T=this.buckets[w];T||(T=[],this.buckets[w]=T),T.push(C)}n(this.n===b)}add(p){return this.getOrAdd(p)===p}get size(){return this.n}get isEmpty(){return this.n===0}contains(p){return this.containsFast(this.asElementType(p))}containsFast(p){return p==null?!1:this.get(p)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){const p=new Array(this.size);let m=0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;p[m++]=b}return p}containsAll(p){if(p instanceof yb){let m=p;for(let x of m.buckets)if(x!=null)for(let b of x){if(b==null)break;if(!this.containsFast(this.asElementType(b)))return!1}}else for(let m of p)if(!this.containsFast(this.asElementType(m)))return!1;return!0}addAll(p){let m=!1;for(let x of p)this.getOrAdd(x)!==x&&(m=!0);return m}clear(){this.buckets=this.createBuckets(u),this.n=0,this.threshold=Math.floor(u*d)}toString(){if(this.size===0)return"{}";let p="{",m=!0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;m?m=!1:p+=", ",p+=b.toString()}return p+="}",p}toTableString(){let p="";for(let m of this.buckets){if(m==null){p+=`null
`;continue}p+="[";let x=!0;for(let b of m)x?x=!1:p+=" ",b==null?p+="_":p+=b.toString();p+=`]
`}return p}asElementType(p){return p}createBuckets(p){return new Array(p)}};return e([s.NotNull],h.prototype,"comparator",void 0),e([s.Override],h.prototype,"hashCode",null),e([s.Override],h.prototype,"equals",null),e([s.Override],h.prototype,"add",null),e([s.Override],h.prototype,"size",null),e([s.Override],h.prototype,"isEmpty",null),e([s.Override],h.prototype,"contains",null),e([t(0,s.Nullable)],h.prototype,"containsFast",null),e([s.Override],h.prototype,Symbol.iterator,null),e([s.Override],h.prototype,"toArray",null),e([s.Override],h.prototype,"containsAll",null),e([s.Override],h.prototype,"addAll",null),e([s.Override],h.prototype,"clear",null),e([s.Override],h.prototype,"toString",null),e([s.SuppressWarnings("unchecked")],h.prototype,"asElementType",null),e([s.SuppressWarnings("unchecked")],h.prototype,"createBuckets",null),cl.Array2DHashSet=h,cl}var $f={},YN;function bS(){if(YN)return $f;YN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$f&&$f.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty($f,"__esModule",{value:!0}),$f.ArrayEqualityComparator=void 0;const t=Ve(),n=ur(),r=wa();let s=class{hashCode(u){return u==null?0:n.MurmurHash.hashCode(u,0)}equals(u,d){if(u==null)return d==null;if(d==null||u.length!==d.length)return!1;for(let h=0;h<u.length;h++)if(!r.ObjectEqualityComparator.INSTANCE.equals(u[h],d[h]))return!1;return!0}};return s.INSTANCE=new s,e([t.Override],s.prototype,"hashCode",null),e([t.Override],s.prototype,"equals",null),$f.ArrayEqualityComparator=s,$f}var to={},qN;function bu(){if(qN)return to;qN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(to,"__esModule",{value:!0}),to.toCharArray=to.toMap=to.equals=to.join=to.escapeWhitespace=void 0;function e(a,u){return u?a.replace(/ /,""):a.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}to.escapeWhitespace=e;function t(a,u){let d="",h=!0;for(let g of a)h?h=!1:d+=u,d+=g;return d}to.join=t;function n(a,u){return a===u?!0:a===void 0||u===void 0?!1:a.equals(u)}to.equals=n;function r(a){let u=new Map;for(let d=0;d<a.length;d++)u.set(a[d],d);return u}to.toMap=r;function s(a){if(typeof a=="string"){let u=new Uint16Array(a.length);for(let d=0;d<a.length;d++)u[d]=a.charCodeAt(d);return u}else return a.toCharArray()}return to.toCharArray=s,to}var KN;function mg(){return KN||(KN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Vf&&Vf.__decorate||function(x,b,A,C){var w=arguments.length,T=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,A):C,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,b,A,C);else for(var I=x.length-1;I>=0;I--)(_=x[I])&&(T=(w<3?_(T):w>3?_(b,A,T):_(b,A))||T);return w>3&&T&&Object.defineProperty(b,A,T),T},n=Vf&&Vf.__param||function(x,b){return function(A,C){b(A,C,x)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticContext=void 0;const r=qc(),s=bS(),a=ur(),u=Ve(),d=wa(),h=bu();function g(x){let b;for(let A of x){if(b===void 0){b=A;continue}b.compareTo(A)<0&&(b=A)}return b}function p(x){let b;for(let A of x){if(b===void 0){b=A;continue}b.compareTo(A)>0&&(b=A)}return b}let m=class No{static get NONE(){return No._NONE===void 0&&(No._NONE=new No.Predicate),No._NONE}evalPrecedence(b,A){return this}static and(b,A){if(!b||b===No.NONE)return A;if(A===No.NONE)return b;let C=new No.AND(b,A);return C.opnds.length===1?C.opnds[0]:C}static or(b,A){if(!b)return A;if(b===No.NONE||A===No.NONE)return No.NONE;let C=new No.OR(b,A);return C.opnds.length===1?C.opnds[0]:C}};e.SemanticContext=m,function(x){function C(L){let k=[];for(let U=0;U<L.length;U++){let B=L[U];B instanceof x.PrecedencePredicate&&(k.push(B),L.splice(U,1),U--)}return k}class w extends x{constructor(k=-1,U=-1,B=!1){super(),this.ruleIndex=k,this.predIndex=U,this.isCtxDependent=B}eval(k,U){let B=this.isCtxDependent?U:void 0;return k.sempred(B,this.ruleIndex,this.predIndex)}hashCode(){let k=a.MurmurHash.initialize();return k=a.MurmurHash.update(k,this.ruleIndex),k=a.MurmurHash.update(k,this.predIndex),k=a.MurmurHash.update(k,this.isCtxDependent?1:0),k=a.MurmurHash.finish(k,3),k}equals(k){return k instanceof w?this===k?!0:this.ruleIndex===k.ruleIndex&&this.predIndex===k.predIndex&&this.isCtxDependent===k.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}t([u.Override],w.prototype,"eval",null),t([u.Override],w.prototype,"hashCode",null),t([u.Override],w.prototype,"equals",null),t([u.Override],w.prototype,"toString",null),x.Predicate=w;class T extends x{constructor(k){super(),this.precedence=k}eval(k,U){return k.precpred(U,this.precedence)}evalPrecedence(k,U){if(k.precpred(U,this.precedence))return x.NONE}compareTo(k){return this.precedence-k.precedence}hashCode(){let k=1;return k=31*k+this.precedence,k}equals(k){return k instanceof T?this===k?!0:this.precedence===k.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}t([u.Override],T.prototype,"eval",null),t([u.Override],T.prototype,"evalPrecedence",null),t([u.Override],T.prototype,"compareTo",null),t([u.Override],T.prototype,"hashCode",null),t([u.Override],T.prototype,"equals",null),t([u.Override],T.prototype,"toString",null),x.PrecedencePredicate=T;class _ extends x{}x.Operator=_;let I=class vb extends _{constructor(k,U){super();let B=new r.Array2DHashSet(d.ObjectEqualityComparator.INSTANCE);k instanceof vb?B.addAll(k.opnds):B.add(k),U instanceof vb?B.addAll(U.opnds):B.add(U),this.opnds=B.toArray();let W=C(this.opnds),te=p(W);te&&this.opnds.push(te)}get operands(){return this.opnds}equals(k){return this===k?!0:k instanceof vb?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,k.opnds):!1}hashCode(){return a.MurmurHash.hashCode(this.opnds,40363613)}eval(k,U){for(let B of this.opnds)if(!B.eval(k,U))return!1;return!0}evalPrecedence(k,U){let B=!1,W=[];for(let ie of this.opnds){let se=ie.evalPrecedence(k,U);if(B=B||se!==ie,se==null)return;se!==x.NONE&&W.push(se)}if(!B)return this;if(W.length===0)return x.NONE;let te=W[0];for(let ie=1;ie<W.length;ie++)te=x.and(te,W[ie]);return te}toString(){return h.join(this.opnds,"&&")}};t([u.Override],I.prototype,"operands",null),t([u.Override],I.prototype,"equals",null),t([u.Override],I.prototype,"hashCode",null),t([u.Override],I.prototype,"eval",null),t([u.Override],I.prototype,"evalPrecedence",null),t([u.Override],I.prototype,"toString",null),I=t([n(0,u.NotNull),n(1,u.NotNull)],I),x.AND=I;let D=class xb extends _{constructor(k,U){super();let B=new r.Array2DHashSet(d.ObjectEqualityComparator.INSTANCE);k instanceof xb?B.addAll(k.opnds):B.add(k),U instanceof xb?B.addAll(U.opnds):B.add(U),this.opnds=B.toArray();let W=C(this.opnds),te=g(W);te&&this.opnds.push(te)}get operands(){return this.opnds}equals(k){return this===k?!0:k instanceof xb?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,k.opnds):!1}hashCode(){return a.MurmurHash.hashCode(this.opnds,486279973)}eval(k,U){for(let B of this.opnds)if(B.eval(k,U))return!0;return!1}evalPrecedence(k,U){let B=!1,W=[];for(let ie of this.opnds){let se=ie.evalPrecedence(k,U);if(B=B||se!==ie,se===x.NONE)return x.NONE;se&&W.push(se)}if(!B)return this;if(W.length===0)return;let te=W[0];for(let ie=1;ie<W.length;ie++)te=x.or(te,W[ie]);return te}toString(){return h.join(this.opnds,"||")}};t([u.Override],D.prototype,"operands",null),t([u.Override],D.prototype,"equals",null),t([u.Override],D.prototype,"hashCode",null),t([u.Override],D.prototype,"eval",null),t([u.Override],D.prototype,"evalPrecedence",null),t([u.Override],D.prototype,"toString",null),D=t([n(0,u.NotNull),n(1,u.NotNull)],D),x.OR=D}(m=e.SemanticContext||(e.SemanticContext={}))}(Vf)),Vf}var XN;function IL(){if(XN)return ll;XN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ll&&ll.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=ll&&ll.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(ll,"__esModule",{value:!0}),ll.PredicateTransition=void 0;const n=d2(),r=Ve(),s=mg();let a=class extends n.AbstractPredicateTransition{constructor(d,h,g,p){super(d),this.ruleIndex=h,this.predIndex=g,this.isCtxDependent=p}get serializationType(){return 4}get isEpsilon(){return!0}matches(d,h,g){return!1}get predicate(){return new s.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override],a.prototype,"isEpsilon",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),ll.PredicateTransition=a,ll}var ZN;function SS(){if(ZN)return al;ZN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=al&&al.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=al&&al.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(al,"__esModule",{value:!0}),al.FailedPredicateException=void 0;const n=Wc(),r=Ve(),s=IL();let a=class OL extends n.RecognitionException{constructor(d,h,g){super(d,d.inputStream,d.context,OL.formatMessage(h,g));let m=d.interpreter.atn.states[d.state].transition(0);m instanceof s.PredicateTransition?(this._ruleIndex=m.ruleIndex,this._predicateIndex=m.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=h,super.setOffendingToken(d,d.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(d,h){return h||`failed predicate: {${d}}?`}};return e([r.NotNull],a,"formatMessage",null),a=e([t(0,r.NotNull)],a),al.FailedPredicateException=a,al}var fl={},JN;function ES(){if(JN)return fl;JN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=fl&&fl.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=fl&&fl.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(fl,"__esModule",{value:!0}),fl.InputMismatchException=void 0;const n=Wc(),r=Ve();let s=class extends n.RecognitionException{constructor(u,d,h){h===void 0&&(h=u.context),super(u,u.inputStream,h),d!==void 0&&this.setOffendingState(d),this.setOffendingToken(u,u.currentToken)}};return s=e([t(0,r.NotNull)],s),fl.InputMismatchException=s,fl}var dl={},Hf={},LA={},QN;function h2(){return QN||(QN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Arrays=void 0,function(t){function n(a,u,d,h){return r(a,d!==void 0?d:0,h!==void 0?h:a.length,u)}t.binarySearch=n;function r(a,u,d,h){let g=u,p=d-1;for(;g<=p;){let m=g+p>>>1,x=a[m];if(x<h)g=m+1;else if(x>h)p=m-1;else return m}return-(g+1)}function s(a){let u="[",d=!0;for(let h of a)d?d=!1:u+=", ",h===null?u+="null":h===void 0?u+="undefined":u+=h;return u+="]",u}t.toString=s}(e.Arrays||(e.Arrays={}))}(LA)),LA}var e_;function p2(){if(e_)return Hf;e_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hf&&Hf.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var A=d.length-1;A>=0;A--)(b=d[A])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x};Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.IntegerList=void 0;const t=h2(),n=Ve(),r=new Int32Array(0),s=4,a=(1<<31>>>0)-1-8;let u=class bb{constructor(h){if(!h)this._data=r,this._size=0;else if(h instanceof bb)this._data=h._data.slice(0),this._size=h._size;else if(typeof h=="number")h===0?(this._data=r,this._size=0):(this._data=new Int32Array(h),this._size=0);else{this._data=r,this._size=0;for(let g of h)this.add(g)}}add(h){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=h,this._size++}addAll(h){if(Array.isArray(h))this.ensureCapacity(this._size+h.length),this._data.subarray(this._size,this._size+h.length).set(h),this._size+=h.length;else if(h instanceof bb)this.ensureCapacity(this._size+h._size),this._data.subarray(this._size,this._size+h.size).set(h._data),this._size+=h._size;else{this.ensureCapacity(this._size+h.size);let g=0;for(let p of h)this._data[this._size+g]=p,g++;this._size+=h.size}}get(h){if(h<0||h>=this._size)throw RangeError();return this._data[h]}contains(h){for(let g=0;g<this._size;g++)if(this._data[g]===h)return!0;return!1}set(h,g){if(h<0||h>=this._size)throw RangeError();let p=this._data[h];return this._data[h]=g,p}removeAt(h){let g=this.get(h);return this._data.copyWithin(h,h+1,this._size),this._data[this._size-1]=0,this._size--,g}removeRange(h,g){if(h<0||g<0||h>this._size||g>this._size||h>g)throw RangeError();this._data.copyWithin(g,h,this._size),this._data.fill(0,this._size-(g-h),this._size),this._size-=g-h}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(h){if(h===this)return!0;if(!(h instanceof bb)||this._size!==h._size)return!1;for(let g=0;g<this._size;g++)if(this._data[g]!==h._data[g])return!1;return!0}hashCode(){let h=1;for(let g=0;g<this._size;g++)h=31*h+this._data[g];return h}toString(){return this._data.toString()}binarySearch(h,g,p){if(g===void 0&&(g=0),p===void 0&&(p=this._size),g<0||p<0||g>this._size||p>this._size)throw new RangeError;if(g>p)throw new RangeError;return t.Arrays.binarySearch(this._data,h,g,p)}ensureCapacity(h){if(h<0||h>a)throw new RangeError;let g;for(this._data.length===0?g=s:g=this._data.length;g<h;)g=g*2,(g<0||g>a)&&(g=a);let p=new Int32Array(g);p.set(this._data),this._data=p}toCharArray(){let h=new Uint16Array(this._size),g=0,p=!1;for(let m=0;m<this._size;m++){let x=this._data[m];if(x>=0&&x<65536){h[g]=x,g++;continue}if(!p){let A=new Uint16Array(this.charArraySize());A.set(h,0),h=A,p=!0}let b=String.fromCodePoint(x);h[g]=b.charCodeAt(0),h[g+1]=b.charCodeAt(1),g+=2}return h}charArraySize(){let h=0;for(let g=0;g<this._size;g++)h+=this._data[g]>=65536?2:1;return h}};return e([n.NotNull],u.prototype,"_data",void 0),e([n.Override],u.prototype,"equals",null),e([n.Override],u.prototype,"hashCode",null),e([n.Override],u.prototype,"toString",null),Hf.IntegerList=u,Hf}var Wf={},t_;function Ui(){if(t_)return Wf;t_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wf&&Wf.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g};Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.Interval=void 0;const t=Ve(),n=1e3;let r=class _o{constructor(a,u){this.a=a,this.b=u}static get INVALID(){return _o._INVALID}static of(a,u){return a!==u||a<0||a>n?new _o(a,u):(_o.cache[a]==null&&(_o.cache[a]=new _o(a,a)),_o.cache[a])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(a){return a===this?!0:a instanceof _o?this.a===a.a&&this.b===a.b:!1}hashCode(){let a=23;return a=a*31+this.a,a=a*31+this.b,a}startsBeforeDisjoint(a){return this.a<a.a&&this.b<a.a}startsBeforeNonDisjoint(a){return this.a<=a.a&&this.b>=a.a}startsAfter(a){return this.a>a.a}startsAfterDisjoint(a){return this.a>a.b}startsAfterNonDisjoint(a){return this.a>a.a&&this.a<=a.b}disjoint(a){return this.startsBeforeDisjoint(a)||this.startsAfterDisjoint(a)}adjacent(a){return this.a===a.b+1||this.b===a.a-1}properlyContains(a){return a.a>=this.a&&a.b<=this.b}union(a){return _o.of(Math.min(this.a,a.a),Math.max(this.b,a.b))}intersection(a){return _o.of(Math.max(this.a,a.a),Math.min(this.b,a.b))}differenceNotProperlyContained(a){let u;return a.startsBeforeNonDisjoint(this)?u=_o.of(Math.max(this.a,a.b+1),this.b):a.startsAfterNonDisjoint(this)&&(u=_o.of(this.a,a.a-1)),u}toString(){return this.a+".."+this.b}};return r._INVALID=new r(-1,-2),r.cache=new Array(n+1),e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),e([t.Override],r.prototype,"toString",null),Wf.Interval=r,Wf}var Yf={},b0={},hl={},FA={},n_;function Ln(){return n_||(n_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Token=void 0;const t=Hc();(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=t.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(e.Token||(e.Token={}))}(FA)),FA}var r_;function Ny(){if(r_)return hl;r_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=hl&&hl.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=hl&&hl.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(hl,"__esModule",{value:!0}),hl.CommonToken=void 0;const n=Ui(),r=Ve(),s=Ln();let a=class H0{constructor(d,h,g=H0.EMPTY_SOURCE,p=s.Token.DEFAULT_CHANNEL,m=0,x=0){this._line=0,this._charPositionInLine=-1,this._channel=s.Token.DEFAULT_CHANNEL,this.index=-1,this._text=h,this._type=d,this.source=g,this._channel=p,this.start=m,this.stop=x,g.source!=null&&(this._line=g.source.line,this._charPositionInLine=g.source.charPositionInLine)}static fromToken(d){let h=new H0(d.type,void 0,H0.EMPTY_SOURCE,d.channel,d.startIndex,d.stopIndex);return h._line=d.line,h.index=d.tokenIndex,h._charPositionInLine=d.charPositionInLine,d instanceof H0?(h._text=d._text,h.source=d.source):(h._text=d.text,h.source={source:d.tokenSource,stream:d.inputStream}),h}get type(){return this._type}set type(d){this._type=d}get line(){return this._line}set line(d){this._line=d}get text(){if(this._text!=null)return this._text;let d=this.inputStream;if(d==null)return;let h=d.size;return this.start<h&&this.stop<h?d.getText(n.Interval.of(this.start,this.stop)):"<EOF>"}set text(d){this._text=d}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(d){this._charPositionInLine=d}get channel(){return this._channel}set channel(d){this._channel=d}get startIndex(){return this.start}set startIndex(d){this.start=d}get stopIndex(){return this.stop}set stopIndex(d){this.stop=d}get tokenIndex(){return this.index}set tokenIndex(d){this.index=d}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(d){let h="";this._channel>0&&(h=",channel="+this._channel);let g=this.text;g!=null?(g=g.replace(/\n/g,"\\n"),g=g.replace(/\r/g,"\\r"),g=g.replace(/\t/g,"\\t")):g="<no text>";let p=String(this._type);return d&&(p=d.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+g+"',<"+p+">"+h+","+this._line+":"+this.charPositionInLine+"]"}};return a.EMPTY_SOURCE={source:void 0,stream:void 0},e([r.NotNull],a.prototype,"source",void 0),e([r.Override],a.prototype,"type",null),e([r.Override],a.prototype,"line",null),e([r.Override],a.prototype,"text",null),e([r.Override],a.prototype,"charPositionInLine",null),e([r.Override],a.prototype,"channel",null),e([r.Override],a.prototype,"startIndex",null),e([r.Override],a.prototype,"stopIndex",null),e([r.Override],a.prototype,"tokenIndex",null),e([r.Override],a.prototype,"tokenSource",null),e([r.Override],a.prototype,"inputStream",null),e([r.Override],a.prototype,"toString",null),e([t(0,r.NotNull)],a,"fromToken",null),a=e([t(2,r.NotNull)],a),hl.CommonToken=a,hl}var i_;function g2(){return i_||(i_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=b0&&b0.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTokenFactory=void 0;const n=Ny(),r=Ui(),s=Ve();let a=class{constructor(d=!1){this.copyText=d}create(d,h,g,p,m,x,b,A){let C=new n.CommonToken(h,g,d,p,m,x);return C.line=b,C.charPositionInLine=A,g==null&&this.copyText&&d.stream!=null&&(C.text=d.stream.getText(r.Interval.of(m,x))),C}createSimple(d,h){return new n.CommonToken(d,h)}};t([s.Override],a.prototype,"create",null),t([s.Override],a.prototype,"createSimple",null),e.CommonTokenFactory=a,function(u){u.DEFAULT=new u}(a=e.CommonTokenFactory||(e.CommonTokenFactory={}))}(b0)),b0}var S0={},o_;function DL(){if(o_)return S0;o_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(S0,"__esModule",{value:!0}),S0.IntegerStack=void 0;const e=p2();let t=class extends e.IntegerList{constructor(r){super(r)}push(r){this.add(r)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};return S0.IntegerStack=t,S0}var qf={},E0={},s_;function PL(){if(s_)return E0;s_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(E0,"__esModule",{value:!0}),E0.AcceptStateInfo=void 0;let e=class{constructor(n,r){this._prediction=n,this._lexerActionExecutor=r}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};return E0.AcceptStateInfo=e,E0}var Kf={},A0={},a_;function yg(){if(a_)return A0;a_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(A0,"__esModule",{value:!0}),A0.Array2DHashMap=void 0;const e=qc();class t{constructor(s){this.keyComparator=s}hashCode(s){return this.keyComparator.hashCode(s.key)}equals(s,a){return this.keyComparator.equals(s.key,a.key)}}let n=class UC{constructor(s){s instanceof UC?this.backingStore=new e.Array2DHashSet(s.backingStore):this.backingStore=new e.Array2DHashSet(new t(s))}clear(){this.backingStore.clear()}containsKey(s){return this.backingStore.contains({key:s})}get(s){let a=this.backingStore.get({key:s});if(a)return a.value}get isEmpty(){return this.backingStore.isEmpty}put(s,a){let u=this.backingStore.get({key:s,value:a}),d;return u?(d=u.value,u.value=a):this.backingStore.add({key:s,value:a}),d}putIfAbsent(s,a){let u=this.backingStore.get({key:s,value:a}),d;return u?d=u.value:this.backingStore.add({key:s,value:a}),d}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(s){return s instanceof UC?this.backingStore.equals(s.backingStore):!1}};return A0.Array2DHashMap=n,A0}var pl={},Xf={},gl={},C0={},l_;function oh(){if(l_)return C0;l_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(C0,"__esModule",{value:!0}),C0.DecisionState=void 0;const e=xu();let t=class extends e.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}};return C0.DecisionState=t,C0}var Zf={},w0={},u_;function m2(){return u_||(u_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w0&&w0.__decorate||function(h,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(h,g,p,m);else for(var C=h.length-1;C>=0;C--)(A=h[C])&&(b=(x<3?A(b):x>3?A(g,p,b):A(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionContextCache=void 0;const n=yg(),r=Ve(),s=wa(),a=ws(),u=bi();let d=class GC{constructor(g=!0){this.contexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.childContexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.joinContexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.enableCache=g}getAsCached(g){if(!this.enableCache)return g;let p=this.contexts.get(g);return p||(p=g,this.contexts.put(g,g)),p}getChild(g,p){if(!this.enableCache)return g.getChild(p);let m=new GC.PredictionContextAndInt(g,p),x=this.childContexts.get(m);return x||(x=g.getChild(p),x=this.getAsCached(x),this.childContexts.put(m,x)),x}join(g,p){if(!this.enableCache)return a.PredictionContext.join(g,p,this);let m=new GC.IdentityCommutativePredictionContextOperands(g,p),x=this.joinContexts.get(m);return x||(x=a.PredictionContext.join(g,p,this),x=this.getAsCached(x),this.joinContexts.put(m,x),x)}};e.PredictionContextCache=d,d.UNCACHED=new d(!1),function(h){class g{constructor(x,b){this.obj=x,this.value=b}equals(x){if(x instanceof g){if(x===this)return!0}else return!1;let b=x;return this.value===b.value&&(this.obj===b.obj||this.obj!=null&&this.obj.equals(b.obj))}hashCode(){let x=5;return x=7*x+(this.obj!=null?this.obj.hashCode():0),x=7*x+this.value,x}}t([r.Override],g.prototype,"equals",null),t([r.Override],g.prototype,"hashCode",null),h.PredictionContextAndInt=g;class p{constructor(x,b){u(x!=null),u(b!=null),this._x=x,this._y=b}get x(){return this._x}get y(){return this._y}equals(x){if(x instanceof p){if(this===x)return!0}else return!1;let b=x;return this._x===b._x&&this._y===b._y||this._x===b._y&&this._y===b._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}t([r.Override],p.prototype,"equals",null),t([r.Override],p.prototype,"hashCode",null),h.IdentityCommutativePredictionContextOperands=p}(d=e.PredictionContextCache||(e.PredictionContextCache={}))}(w0)),w0}var c_;function ws(){return c_||(c_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Zf&&Zf.__decorate||function(C,w,T,_){var I=arguments.length,D=I<3?w:_===null?_=Object.getOwnPropertyDescriptor(w,T):_,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,T,_);else for(var k=C.length-1;k>=0;k--)(L=C[k])&&(D=(I<3?L(D):I>3?L(w,T,D):L(w,T))||D);return I>3&&D&&Object.defineProperty(w,T,D),D},n=Zf&&Zf.__param||function(C,w){return function(T,_){w(T,_,C)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SingletonPredictionContext=e.PredictionContext=void 0;const r=yg(),s=qc(),a=h2(),u=ur(),d=Ve(),h=m2(),g=bi(),p=1;let m=class ii{constructor(w){this.cachedHashCode=w}static calculateEmptyHashCode(){let w=u.MurmurHash.initialize(p);return w=u.MurmurHash.finish(w,0),w}static calculateSingleHashCode(w,T){let _=u.MurmurHash.initialize(p);return _=u.MurmurHash.update(_,w),_=u.MurmurHash.update(_,T),_=u.MurmurHash.finish(_,2),_}static calculateHashCode(w,T){let _=u.MurmurHash.initialize(p);for(let I of w)_=u.MurmurHash.update(_,I);for(let I of T)_=u.MurmurHash.update(_,I);return _=u.MurmurHash.finish(_,2*w.length),_}static fromRuleContext(w,T,_=!0){if(T.isEmpty)return _?ii.EMPTY_FULL:ii.EMPTY_LOCAL;let I;T._parent?I=ii.fromRuleContext(w,T._parent,_):I=_?ii.EMPTY_FULL:ii.EMPTY_LOCAL;let L=w.states[T.invokingState].transition(0);return I.getChild(L.followState.stateNumber)}static addEmptyContext(w){return w.addEmptyContext()}static removeEmptyContext(w){return w.removeEmptyContext()}static join(w,T,_=h.PredictionContextCache.UNCACHED){if(w===T)return w;if(w.isEmpty)return ii.isEmptyLocal(w)?w:ii.addEmptyContext(T);if(T.isEmpty)return ii.isEmptyLocal(T)?T:ii.addEmptyContext(w);let I=w.size,D=T.size;if(I===1&&D===1&&w.getReturnState(0)===T.getReturnState(0)){let se=_.join(w.getParent(0),T.getParent(0));return se===w.getParent(0)?w:se===T.getParent(0)?T:se.getChild(w.getReturnState(0))}let L=0,k=new Array(I+D),U=new Array(k.length),B=0,W=0,te=!0,ie=!0;for(;B<I&&W<D;)w.getReturnState(B)===T.getReturnState(W)?(k[L]=_.join(w.getParent(B),T.getParent(W)),U[L]=w.getReturnState(B),te=te&&k[L]===w.getParent(B),ie=ie&&k[L]===T.getParent(W),B++,W++):w.getReturnState(B)<T.getReturnState(W)?(k[L]=w.getParent(B),U[L]=w.getReturnState(B),ie=!1,B++):(g(T.getReturnState(W)<w.getReturnState(B)),k[L]=T.getParent(W),U[L]=T.getReturnState(W),te=!1,W++),L++;for(;B<I;)k[L]=w.getParent(B),U[L]=w.getReturnState(B),B++,ie=!1,L++;for(;W<D;)k[L]=T.getParent(W),U[L]=T.getReturnState(W),W++,te=!1,L++;return te?w:ie?T:(L<k.length&&(k=k.slice(0,L),U=U.slice(0,L)),k.length===0?ii.EMPTY_FULL:k.length===1?new A(k[0],U[0]):new b(k,U))}static isEmptyLocal(w){return w===ii.EMPTY_LOCAL}static getCachedContext(w,T,_){if(w.isEmpty)return w;let I=_.get(w);if(I)return I;if(I=T.get(w),I)return _.put(w,I),I;let D=!1,L=new Array(w.size);for(let U=0;U<L.length;U++){let B=ii.getCachedContext(w.getParent(U),T,_);if(D||B!==w.getParent(U)){if(!D){L=new Array(w.size);for(let W=0;W<w.size;W++)L[W]=w.getParent(W);D=!0}L[U]=B}}if(!D)return I=T.putIfAbsent(w,w),_.put(w,I??w),w;let k;if(L.length===1)k=new A(L[0],w.getReturnState(0));else{let U=new Array(w.size);for(let B=0;B<w.size;B++)U[B]=w.getReturnState(B);k=new b(L,U,w.hashCode())}return I=T.putIfAbsent(k,k),_.put(k,I||k),_.put(w,I||k),k}appendSingleContext(w,T){return this.appendContext(ii.EMPTY_FULL.getChild(w),T)}getChild(w){return new A(this,w)}hashCode(){return this.cachedHashCode}toStrings(w,T,_=ii.EMPTY_FULL){let I=[];e:for(let D=0;;D++){let L=0,k=!0,U=this,B=T,W="";for(W+="[";!U.isEmpty&&U!==_;){let te=0;if(U.size>0){let ie=1;for(;1<<ie>>>0<U.size;)ie++;let se=(1<<ie>>>0)-1;if(te=D>>L&se,k=k&&te>=U.size-1,te>=U.size)continue e;L+=ie}if(w){W.length>1&&(W+=" ");let se=w.atn.states[B],Ce=w.ruleNames[se.ruleIndex];W+=Ce}else U.getReturnState(te)!==ii.EMPTY_FULL_STATE_KEY&&(U.isEmpty||(W.length>1&&(W+=" "),W+=U.getReturnState(te)));B=U.getReturnState(te),U=U.getParent(te)}if(W+="]",I.push(W),k)break}return I}};t([d.Override],m.prototype,"hashCode",null),t([n(0,d.NotNull),n(1,d.NotNull),n(2,d.NotNull)],m,"join",null),t([n(0,d.NotNull),n(1,d.NotNull),n(2,d.NotNull)],m,"getCachedContext",null),e.PredictionContext=m;class x extends m{constructor(w){super(m.calculateEmptyHashCode()),this.fullContext=w}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(w){throw new Error("index out of bounds")}getReturnState(w){throw new Error("index out of bounds")}findReturnState(w){return-1}get size(){return 0}appendSingleContext(w,T){return T.getChild(this,w)}appendContext(w,T){return w}get isEmpty(){return!0}get hasEmpty(){return!0}equals(w){return this===w}toStrings(w,T,_){return["[]"]}}t([d.Override],x.prototype,"addEmptyContext",null),t([d.Override],x.prototype,"removeEmptyContext",null),t([d.Override],x.prototype,"getParent",null),t([d.Override],x.prototype,"getReturnState",null),t([d.Override],x.prototype,"findReturnState",null),t([d.Override],x.prototype,"size",null),t([d.Override],x.prototype,"appendSingleContext",null),t([d.Override],x.prototype,"appendContext",null),t([d.Override],x.prototype,"isEmpty",null),t([d.Override],x.prototype,"hasEmpty",null),t([d.Override],x.prototype,"equals",null),t([d.Override],x.prototype,"toStrings",null);let b=class Vd extends m{constructor(w,T,_){super(_||m.calculateHashCode(w,T)),g(w.length===T.length),g(T.length>1||T[0]!==m.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=w,this.returnStates=T}getParent(w){return this.parents[w]}getReturnState(w){return this.returnStates[w]}findReturnState(w){return a.Arrays.binarySearch(this.returnStates,w)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===m.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let w=this.parents.slice(0),T=this.returnStates.slice(0);return w.push(m.EMPTY_FULL),T.push(m.EMPTY_FULL_STATE_KEY),new Vd(w,T)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new A(this.parents[0],this.returnStates[0]);{let w=this.parents.slice(0,this.parents.length-1),T=this.returnStates.slice(0,this.returnStates.length-1);return new Vd(w,T)}}appendContext(w,T){return Vd.appendContextImpl(this,w,new m.IdentityHashMap)}static appendContextImpl(w,T,_){if(T.isEmpty){if(m.isEmptyLocal(T)){if(w.hasEmpty)return m.EMPTY_LOCAL;throw new Error("what to do here?")}return w}if(T.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let I=_.get(w);if(!I){if(w.isEmpty)I=T;else{let D=w.size;w.hasEmpty&&D--;let L=new Array(D),k=new Array(D);for(let U=0;U<D;U++)k[U]=w.getReturnState(U);for(let U=0;U<D;U++)L[U]=Vd.appendContextImpl(w.getParent(U),T,_);L.length===1?I=new A(L[0],k[0]):(g(L.length>1),I=new Vd(L,k)),w.hasEmpty&&(I=m.join(I,T))}_.put(w,I)}return I}equals(w){if(this===w)return!0;if(!(w instanceof Vd)||this.hashCode()!==w.hashCode())return!1;let T=w;return this.equalsImpl(T,new s.Array2DHashSet)}equalsImpl(w,T){let _=[],I=[];for(_.push(this),I.push(w);;){let D=_.pop(),L=I.pop();if(!D||!L)break;let k=new h.PredictionContextCache.IdentityCommutativePredictionContextOperands(D,L);if(!T.add(k))continue;let U=k.x.size;if(U===0){if(!k.x.equals(k.y))return!1;continue}let B=k.y.size;if(U!==B)return!1;for(let W=0;W<U;W++){if(k.x.getReturnState(W)!==k.y.getReturnState(W))return!1;let te=k.x.getParent(W),ie=k.y.getParent(W);if(te.hashCode()!==ie.hashCode())return!1;te!==ie&&(_.push(te),I.push(ie))}}return!0}};t([d.NotNull],b.prototype,"parents",void 0),t([d.NotNull],b.prototype,"returnStates",void 0),t([d.Override],b.prototype,"getParent",null),t([d.Override],b.prototype,"getReturnState",null),t([d.Override],b.prototype,"findReturnState",null),t([d.Override],b.prototype,"size",null),t([d.Override],b.prototype,"isEmpty",null),t([d.Override],b.prototype,"hasEmpty",null),t([d.Override],b.prototype,"addEmptyContext",null),t([d.Override],b.prototype,"removeEmptyContext",null),t([d.Override],b.prototype,"appendContext",null),t([d.Override],b.prototype,"equals",null),b=t([n(0,d.NotNull)],b);let A=class ML extends m{constructor(w,T){super(m.calculateSingleHashCode(w,T)),this.parent=w,this.returnState=T}getParent(w){return this.parent}getReturnState(w){return this.returnState}findReturnState(w){return this.returnState===w?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(w,T){return T.getChild(this.parent.appendContext(w,T),this.returnState)}addEmptyContext(){let w=[this.parent,m.EMPTY_FULL],T=[this.returnState,m.EMPTY_FULL_STATE_KEY];return new b(w,T)}removeEmptyContext(){return this}equals(w){if(w===this)return!0;if(!(w instanceof ML))return!1;let T=w;return this.hashCode()!==T.hashCode()?!1:this.returnState===T.returnState&&this.parent.equals(T.parent)}};t([d.NotNull],A.prototype,"parent",void 0),t([d.Override],A.prototype,"getParent",null),t([d.Override],A.prototype,"getReturnState",null),t([d.Override],A.prototype,"findReturnState",null),t([d.Override],A.prototype,"size",null),t([d.Override],A.prototype,"isEmpty",null),t([d.Override],A.prototype,"hasEmpty",null),t([d.Override],A.prototype,"appendContext",null),t([d.Override],A.prototype,"addEmptyContext",null),t([d.Override],A.prototype,"removeEmptyContext",null),t([d.Override],A.prototype,"equals",null),A=t([n(0,d.NotNull)],A),e.SingletonPredictionContext=A,function(C){C.EMPTY_LOCAL=new x(!1),C.EMPTY_FULL=new x(!0),C.EMPTY_LOCAL_STATE_KEY=-2147483648,C.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class w extends r.Array2DHashMap{constructor(){super(T.INSTANCE)}}C.IdentityHashMap=w;class T{IdentityEqualityComparator(){}hashCode(I){return I.hashCode()}equals(I,D){return I===D}}T.INSTANCE=new T,t([d.Override],T.prototype,"hashCode",null),t([d.Override],T.prototype,"equals",null),C.IdentityEqualityComparator=T}(m=e.PredictionContext||(e.PredictionContext={}))}(Zf)),Zf}var f_;function AS(){if(f_)return gl;f_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gl&&gl.__decorate||function(C,w,T,_){var I=arguments.length,D=I<3?w:_===null?_=Object.getOwnPropertyDescriptor(w,T):_,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,T,_);else for(var k=C.length-1;k>=0;k--)(L=C[k])&&(D=(I<3?L(D):I>3?L(w,T,D):L(w,T))||D);return I>3&&D&&Object.defineProperty(w,T,D),D},t=gl&&gl.__param||function(C,w){return function(T,_){w(T,_,C)}};Object.defineProperty(gl,"__esModule",{value:!0}),gl.ATNConfig=void 0;const n=yg(),r=oh(),s=ur(),a=Ve(),u=wa(),d=ws(),h=mg(),g=bi(),p=2147483648;let m=class W0{constructor(w,T,_){typeof T=="number"?(g((T&16777215)===T),this._state=w,this.altAndOuterContextDepth=T,this._context=_):(this._state=w,this.altAndOuterContextDepth=T.altAndOuterContextDepth,this._context=_)}static create(w,T,_,I=h.SemanticContext.NONE,D){return I!==h.SemanticContext.NONE?D!=null?new A(D,I,w,T,_,!1):new x(I,w,T,_):D!=null?new b(D,w,T,_,!1):new W0(w,T,_)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(w){this._context=w}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(w){g(w>=0),w=Math.min(w,127),this.altAndOuterContextDepth=w<<24|(this.altAndOuterContextDepth&-2130706433)>>>0}get lexerActionExecutor(){}get semanticContext(){return h.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(w,T,_){return _==null?this.transformImpl(w,this._context,this.semanticContext,T,this.lexerActionExecutor):_ instanceof d.PredictionContext?this.transformImpl(w,_,this.semanticContext,T,this.lexerActionExecutor):_ instanceof h.SemanticContext?this.transformImpl(w,this._context,_,T,this.lexerActionExecutor):this.transformImpl(w,this._context,this.semanticContext,T,_)}transformImpl(w,T,_,I,D){let L=I&&W0.checkNonGreedyDecision(this,w);return _!==h.SemanticContext.NONE?D!=null||L?new A(D,_,w,this,T,L):new x(_,w,this,T):D!=null||L?new b(D,w,this,T,L):new W0(w,this,T)}static checkNonGreedyDecision(w,T){return w.hasPassedThroughNonGreedyDecision||T instanceof r.DecisionState&&T.nonGreedy}appendContext(w,T){if(typeof w=="number"){let _=this.context.appendSingleContext(w,T);return this.transform(this.state,!1,_)}else{let _=this.context.appendContext(w,T);return this.transform(this.state,!1,_)}}contains(w){if(this.state.stateNumber!==w.state.stateNumber||this.alt!==w.alt||!this.semanticContext.equals(w.semanticContext))return!1;let T=[],_=[];for(T.push(this.context),_.push(w.context);;){let I=T.pop(),D=_.pop();if(!I||!D)break;if(I===D)return!0;if(I.size<D.size)return!1;if(D.isEmpty)return I.hasEmpty;for(let L=0;L<D.size;L++){let k=I.findReturnState(D.getReturnState(L));if(k<0)return!1;T.push(I.getParent(k)),_.push(D.getParent(L))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&p)!==0}set isPrecedenceFilterSuppressed(w){w?this.altAndOuterContextDepth|=p:this.altAndOuterContextDepth&=2147483647}equals(w){return this===w?!0:w instanceof W0?this.state.stateNumber===w.state.stateNumber&&this.alt===w.alt&&this.reachesIntoOuterContext===w.reachesIntoOuterContext&&this.context.equals(w.context)&&this.semanticContext.equals(w.semanticContext)&&this.isPrecedenceFilterSuppressed===w.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===w.hasPassedThroughNonGreedyDecision&&u.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,w.lexerActionExecutor):!1}hashCode(){let w=s.MurmurHash.initialize(7);return w=s.MurmurHash.update(w,this.state.stateNumber),w=s.MurmurHash.update(w,this.alt),w=s.MurmurHash.update(w,this.reachesIntoOuterContext?1:0),w=s.MurmurHash.update(w,this.context),w=s.MurmurHash.update(w,this.semanticContext),w=s.MurmurHash.update(w,this.hasPassedThroughNonGreedyDecision?1:0),w=s.MurmurHash.update(w,this.lexerActionExecutor),w=s.MurmurHash.finish(w,7),w}toDotString(){let w="";w+=`digraph G {
`,w+=`rankdir=LR;
`;let T=new n.Array2DHashMap(d.PredictionContext.IdentityEqualityComparator.INSTANCE),_=[];function I(D){let L=T.size,k=T.putIfAbsent(D,L);return k??(_.push(D),L)}for(_.push(this.context),T.put(this.context,0);;){let D=_.pop();if(!D)break;for(let L=0;L<D.size;L++)w+="  s"+I(D),w+="->",w+="s"+I(D.getParent(L)),w+='[label="'+D.getReturnState(L)+`"];
`}return w+=`}
`,w.toString()}toString(w,T,_){_==null&&(_=T!=null),T==null&&(T=!0);let I="",D;_?D=this.context.toStrings(w,this.state.stateNumber):D=["?"];let L=!0;for(let k of D)L?L=!1:I+=", ",I+="(",I+=this.state,T&&(I+=",",I+=this.alt),this.context&&(I+=",",I+=k),this.semanticContext!==h.SemanticContext.NONE&&(I+=",",I+=this.semanticContext),this.reachesIntoOuterContext&&(I+=",up="+this.outerContextDepth),I+=")";return I.toString()}};e([a.NotNull],m.prototype,"_state",void 0),e([a.NotNull],m.prototype,"_context",void 0),e([a.NotNull],m.prototype,"state",null),e([a.NotNull,t(0,a.NotNull)],m.prototype,"context",null),e([a.NotNull],m.prototype,"semanticContext",null),e([a.Override],m.prototype,"clone",null),e([t(0,a.NotNull),t(2,a.NotNull)],m.prototype,"transformImpl",null),e([a.Override],m.prototype,"equals",null),e([a.Override],m.prototype,"hashCode",null),e([t(0,a.NotNull),t(3,a.NotNull)],m,"create",null),m=e([t(0,a.NotNull),t(2,a.NotNull)],m),gl.ATNConfig=m;let x=class extends m{constructor(w,T,_,I){typeof _=="number"?super(T,_,I):super(T,_,I),this._semanticContext=w}get semanticContext(){return this._semanticContext}};e([a.NotNull],x.prototype,"_semanticContext",void 0),e([a.Override],x.prototype,"semanticContext",null),x=e([t(1,a.NotNull),t(2,a.NotNull)],x);let b=class extends m{constructor(w,T,_,I,D){if(typeof _=="number")super(T,_,I);else if(super(T,_,I),_.semanticContext!==h.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=w,this.passedThroughNonGreedyDecision=D}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};e([a.Override],b.prototype,"lexerActionExecutor",null),e([a.Override],b.prototype,"hasPassedThroughNonGreedyDecision",null),b=e([t(1,a.NotNull),t(2,a.NotNull)],b);let A=class extends x{constructor(w,T,_,I,D,L){typeof I=="number"?super(T,_,I,D):super(T,_,I,D),this._lexerActionExecutor=w,this.passedThroughNonGreedyDecision=L}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};return e([a.Override],A.prototype,"lexerActionExecutor",null),e([a.Override],A.prototype,"hasPassedThroughNonGreedyDecision",null),A=e([t(1,a.NotNull),t(2,a.NotNull)],A),gl}var R0={},d_;function Kc(){if(d_)return R0;d_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(R0,"__esModule",{value:!0}),R0.BitSet=void 0;const e=Qp(),t=ur(),n=new Uint16Array(0);function r(m){return m>>>4}function s(m){return m*16}function a(m){let x=1;for(let b=0;b<16;b++){if((m&x)!==0)return b;x=x<<1>>>0}throw new RangeError("No specified bit found")}function u(m){let x=32768;for(let b=15;b>=0;b--){if((m&x)!==0)return b;x=x>>>1}throw new RangeError("No specified bit found")}function d(m,x){return m&=15,x&=15,m===x?1<<m>>>0:65535>>>15-x^65535>>>16-m}const h=new Uint8Array(65536);for(let m=0;m<16;m++){const x=1<<m>>>0;let b=0;for(;b<h.length;){b+=x;for(let A=0;A<x;A++)h[b]++,b++}}let g=class Y0{constructor(x){if(!x)this.data=n;else if(typeof x=="number"){if(x<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(r(x-1)+1)}else if(x instanceof Y0)this.data=x.data.slice(0);else{let b=-1;for(let A of x)b<A&&(b=A);this.data=new Uint16Array(r(b-1)+1);for(let A of x)this.set(A)}}and(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length);let w=-1;for(let T=0;T<C;T++)(b[T]&=A[T])!==0&&(w=T);w===-1&&(this.data=n),w<b.length-1&&(this.data=b.slice(0,w+1))}andNot(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length);let w=-1;for(let T=0;T<C;T++)(b[T]&=A[T]^65535)!==0&&(w=T);w===-1&&(this.data=n),w<b.length-1&&(this.data=b.slice(0,w+1))}cardinality(){if(this.isEmpty)return 0;const x=this.data,b=x.length;let A=0;for(let C=0;C<b;C++)A+=h[x[C]];return A}clear(x,b){x==null?this.data.fill(0):b==null?this.set(x,!1):this.set(x,b,!1)}flip(x,b){if(b==null&&(b=x),x<0||b<x)throw new RangeError;let A=r(x);const C=r(b);if(A===C)this.data[A]^=d(x,b);else{for(this.data[A++]^=d(x,15);A<C;)this.data[A++]^=65535;this.data[A++]^=d(0,b)}}get(x,b){if(b===void 0)return!!(this.data[r(x)]&d(x,x));{let A=new Y0(b+1);for(let C=x;C<=b;C++)A.set(C,this.get(C));return A}}intersects(x){let b=Math.min(this.length(),x.length());if(b===0)return!1;let A=r(b-1);for(let C=0;C<=A;C++)if((this.data[C]&x.data[C])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(s(this.data.length)-1)+1:0}nextClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);if(C>A)return-1;let w=65535^d(x,15);if((b[C]|w)===65535){for(C++,w=0;C<A&&b[C]===65535;C++);if(C===A)return-1}return s(C)+a((b[C]|w)^65535)}nextSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);if(C>A)return-1;let w=d(x,15);if((b[C]&w)===0){for(C++,w=65535;C<A&&b[C]===0;C++);if(C>=A)return-1}return s(C)+a(b[C]&w)}or(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length),w=Math.max(b.length,A.length),T=b.length===w?b:new Uint16Array(w);let _=-1;for(let D=0;D<C;D++)(T[D]=b[D]|A[D])!==0&&(_=D);const I=b.length>A.length?b:A;for(let D=C;D<w;D++)(T[D]=I[D])!==0&&(_=D);_===-1?this.data=n:T.length===_+1?this.data=T:this.data=T.slice(0,_)}previousClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);C>=A&&(C=A-1);let w=65535^d(0,x);if((b[C]|w)===65535){for(w=0,C--;C>=0&&b[C]===65535;C--);if(C<0)return-1}return s(C)+u((b[C]|w)^65535)}previousSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);C>=A&&(C=A-1);let w=d(0,x);if((b[C]&w)===0){for(C--,w=65535;C>=0&&b[C]===0;C--);if(C<0)return-1}return s(C)+u(b[C]&w)}set(x,b,A){if(b===void 0?(b=x,A=!0):typeof b=="boolean"&&(A=b,b=x),A===void 0&&(A=!0),x<0||x>b)throw new RangeError;let C=r(x),w=r(b);if(A&&w>=this.data.length){let T=new Uint16Array(w+1);this.data.forEach((_,I)=>T[I]=_),this.data=T}else if(!A){if(C>=this.data.length)return;w>=this.data.length&&(w=this.data.length-1,b=this.data.length*16-1)}if(C===w)this._setBits(C,A,d(x,b));else{for(this._setBits(C++,A,d(x,15));C<w;)this.data[C++]=A?65535:0;this._setBits(C,A,d(0,b))}}_setBits(x,b,A){b?this.data[x]|=A:this.data[x]&=65535^A}get size(){return this.data.byteLength*8}hashCode(){return t.MurmurHash.hashCode(this.data,22)}equals(x){if(x===this)return!0;if(!(x instanceof Y0))return!1;const b=this.length();if(b!==x.length())return!1;if(b===0)return!0;let A=r(b-1);for(let C=0;C<=A;C++)if(this.data[C]!==x.data[C])return!1;return!0}toString(){let x="{",b=!0;for(let A=this.nextSetBit(0);A>=0;A=this.nextSetBit(A+1))b?b=!1:x+=", ",x+=A;return x+="}",x}xor(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length),w=Math.max(b.length,A.length),T=b.length===w?b:new Uint16Array(w);let _=-1;for(let D=0;D<C;D++)(T[D]=b[D]^A[D])!==0&&(_=D);const I=b.length>A.length?b:A;for(let D=C;D<w;D++)(T[D]=I[D])!==0&&(_=D);_===-1?this.data=n:T.length===_+1?this.data=T:this.data=T.slice(0,_+1)}clone(){return new Y0(this)}[Symbol.iterator](){return new p(this.data)}[e.inspect.custom](){return"BitSet "+this.toString()}};R0.BitSet=g;class p{constructor(x){this.data=x,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const x=this.data[this.index]&this.mask;if(x!==0){const b=s(this.index)+a(x);return this.mask=d(b+1,15),{done:!1,value:b}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}return R0}var h_;function _y(){if(h_)return Xf;h_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xf&&Xf.__decorate||function(T,_,I,D){var L=arguments.length,k=L<3?_:D===null?D=Object.getOwnPropertyDescriptor(_,I):D,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(T,_,I,D);else for(var B=T.length-1;B>=0;B--)(U=T[B])&&(k=(L<3?U(k):L>3?U(_,I,k):U(_,I))||k);return L>3&&k&&Object.defineProperty(_,I,k),k};Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.ATNConfigSet=void 0;const t=yg(),n=qc(),r=bS(),s=Ra(),a=AS(),u=Kc(),d=Ve(),h=wa(),g=ws(),p=m2(),m=mg(),x=bi(),b=bu();class A{hashCode(_){return _.state^_.alt}equals(_,I){return _.state===I.state&&_.alt===I.alt}}A.INSTANCE=new A;function C(T){return T?new t.Array2DHashMap(T):new t.Array2DHashMap(A.INSTANCE)}let w=class $C{constructor(_,I){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,_?(I?(this.mergedConfigs=void 0,this.unmerged=void 0):_.isReadOnly?(this.mergedConfigs=C(),this.unmerged=[]):(this.mergedConfigs=C(_.mergedConfigs),this.unmerged=_.unmerged.slice(0)),this.configs=_.configs.slice(0),this._dipsIntoOuterContext=_._dipsIntoOuterContext,this._hasSemanticContext=_._hasSemanticContext,this.outermostConfigSet=_.outermostConfigSet,(I||!_.isReadOnly)&&(this._uniqueAlt=_._uniqueAlt,this._conflictInfo=_._conflictInfo)):(this.mergedConfigs=C(),this.unmerged=[],this.configs=[],this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let _=new u.BitSet;for(let I of this)_.set(I.alt);return _}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(_){if(this.outermostConfigSet&&!_)throw new Error("IllegalStateException");x(!_||!this._dipsIntoOuterContext),this.outermostConfigSet=_}getStates(){let _=new n.Array2DHashSet(h.ObjectEqualityComparator.INSTANCE);for(let I of this.configs)_.add(I.state);return _}optimizeConfigs(_){if(this.configs.length!==0)for(let I of this.configs)I.context=_.atn.getCachedContext(I.context)}clone(_){let I=new $C(this,_);return!_&&this.isReadOnly&&I.addAll(this.configs),I}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(_){if(!(_ instanceof a.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let I=_,D=this.getKey(I),L=this.mergedConfigs.get(D);if(L!=null&&this.canMerge(I,D,L))return L.contains(I);for(let k of this.unmerged)if(k.contains(_))return!0}else for(let I of this.configs)if(I.contains(_))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(_,I){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");x(!this.outermostConfigSet||!_.reachesIntoOuterContext),I==null&&(I=p.PredictionContextCache.UNCACHED);let D,L=this.getKey(_),k=this.mergedConfigs.get(L);if(D=k==null,k!=null&&this.canMerge(_,L,k)){k.outerContextDepth=Math.max(k.outerContextDepth,_.outerContextDepth),_.isPrecedenceFilterSuppressed&&(k.isPrecedenceFilterSuppressed=!0);let U=g.PredictionContext.join(k.context,_.context,I);return this.updatePropertiesForMergedConfig(_),k.context===U?!1:(k.context=U,!0)}for(let U=0;U<this.unmerged.length;U++){let B=this.unmerged[U];if(this.canMerge(_,L,B)){B.outerContextDepth=Math.max(B.outerContextDepth,_.outerContextDepth),_.isPrecedenceFilterSuppressed&&(B.isPrecedenceFilterSuppressed=!0);let W=g.PredictionContext.join(B.context,_.context,I);return this.updatePropertiesForMergedConfig(_),B.context===W?!1:(B.context=W,D&&(this.mergedConfigs.put(L,B),this.unmerged.splice(U,1)),!0)}}return this.configs.push(_),D?this.mergedConfigs.put(L,_):this.unmerged.push(_),this.updatePropertiesForAddedConfig(_),!0}updatePropertiesForMergedConfig(_){this._dipsIntoOuterContext=this._dipsIntoOuterContext||_.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(_){this.configs.length===1?this._uniqueAlt=_.alt:this._uniqueAlt!==_.alt&&(this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!m.SemanticContext.NONE.equals(_.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||_.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(_,I,D){return _.state.stateNumber!==D.state.stateNumber||I.alt!==D.alt?!1:_.semanticContext.equals(D.semanticContext)}getKey(_){return{state:_.state.stateNumber,alt:_.alt}}containsAll(_){for(let I of _)if(!(I instanceof a.ATNConfig)||!this.contains(I))return!1;return!0}addAll(_,I){this.ensureWritable();let D=!1;for(let L of _)this.add(L,I)&&(D=!0);return D}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(_){return this===_?!0:_ instanceof $C?this.outermostConfigSet===_.outermostConfigSet&&b.equals(this._conflictInfo,_._conflictInfo)&&r.ArrayEqualityComparator.INSTANCE.equals(this.configs,_.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let _=1;return _=5*_^(this.outermostConfigSet?1:0),_=5*_^r.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=_),_}toString(_){_==null&&(_=!1);let I="",D=this.configs.slice(0);D.sort((L,k)=>L.alt!==k.alt?L.alt-k.alt:L.state.stateNumber!==k.state.stateNumber?L.state.stateNumber-k.state.stateNumber:L.semanticContext.toString().localeCompare(k.semanticContext.toString())),I+="[";for(let L=0;L<D.length;L++)L>0&&(I+=", "),I+=D[L].toString(void 0,!0,_);return I+="]",this._hasSemanticContext&&(I+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==s.ATN.INVALID_ALT_NUMBER&&(I+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(I+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(I+="*")),this._dipsIntoOuterContext&&(I+=",dipsIntoOuterContext"),I.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(_){this.ensureWritable(),this._hasSemanticContext=_}get conflictInfo(){return this._conflictInfo}set conflictInfo(_){this.ensureWritable(),this._conflictInfo=_}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(_){return this.configs[_]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};return e([d.NotNull],w.prototype,"getRepresentedAlternatives",null),e([d.Override],w.prototype,"size",null),e([d.Override],w.prototype,"isEmpty",null),e([d.Override],w.prototype,"contains",null),e([d.Override],w.prototype,Symbol.iterator,null),e([d.Override],w.prototype,"toArray",null),e([d.Override],w.prototype,"containsAll",null),e([d.Override],w.prototype,"clear",null),e([d.Override],w.prototype,"equals",null),e([d.Override],w.prototype,"hashCode",null),Xf.ATNConfigSet=w,Xf}var Jf={},Qf={},ed={},p_;function CS(){return p_||(p_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=ed&&ed.__decorate||function(p,m,x,b){var A=arguments.length,C=A<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,m,x,b);else for(var T=p.length-1;T>=0;T--)(w=p[T])&&(C=(A<3?w(C):A>3?w(m,x,C):w(m,x))||C);return A>3&&C&&Object.defineProperty(m,x,C),C},n=ed&&ed.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DFAState=void 0;const r=Ra(),s=Kc(),a=ur(),u=Ve(),d=ws(),h=bi();let g=class LL{constructor(m){this.stateNumber=-1,this.configs=m,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(m){return this.isContextSensitive?this.contextSymbols.get(m):!1}setContextSymbol(m){h(this.isContextSensitive),this.contextSymbols.set(m)}setContextSensitive(m){h(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new s.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(m){this._acceptStateInfo=m}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:r.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(m){return this.edges.get(m)}setTarget(m,x){this.edges.set(m,x)}getEdgeMap(){return this.edges}getContextTarget(m){return m===d.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.get(m)}setContextTarget(m,x){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");m===d.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.set(m,x)}getContextEdgeMap(){let m=new Map(this.contextEdges),x=m.get(-1);if(x!==void 0)if(m.size===1){let b=new Map;return b.set(d.PredictionContext.EMPTY_FULL_STATE_KEY,x),b}else m.delete(-1),m.set(d.PredictionContext.EMPTY_FULL_STATE_KEY,x);return m}hashCode(){let m=a.MurmurHash.initialize(7);return m=a.MurmurHash.update(m,this.configs.hashCode()),m=a.MurmurHash.finish(m,1),m}equals(m){if(this===m)return!0;if(!(m instanceof LL))return!1;let x=m;return this.configs.equals(x.configs)}toString(){let m="";return m+=this.stateNumber+":"+this.configs,this.isAcceptState&&(m+="=>",this.predicates?m+=this.predicates:m+=this.prediction),m.toString()}};t([u.NotNull],g.prototype,"configs",void 0),t([u.NotNull],g.prototype,"edges",void 0),t([u.NotNull],g.prototype,"contextEdges",void 0),t([u.Override],g.prototype,"hashCode",null),t([u.Override],g.prototype,"equals",null),t([u.Override],g.prototype,"toString",null),e.DFAState=g,function(p){let m=class{constructor(b,A){this.alt=A,this.pred=b}toString(){return"("+this.pred+", "+this.alt+")"}};t([u.NotNull],m.prototype,"pred",void 0),t([u.Override],m.prototype,"toString",null),m=t([n(0,u.NotNull)],m),p.PredPrediction=m}(g=e.DFAState||(e.DFAState={}))}(ed)),ed}var g_;function wS(){return g_||(g_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Qf&&Qf.__decorate||function(h,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(h,g,p,m);else for(var C=h.length-1;C>=0;C--)(A=h[C])&&(b=(x<3?A(b):x>3?A(g,p,b):A(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},n=Qf&&Qf.__param||function(h,g){return function(p,m){g(p,m,h)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNSimulator=void 0;const r=_y(),s=CS(),a=Ve(),u=ws();let d=class q0{constructor(g){this.atn=g}static get ERROR(){return q0._ERROR||(q0._ERROR=new s.DFAState(new r.ATNConfigSet),q0._ERROR.stateNumber=u.PredictionContext.EMPTY_FULL_STATE_KEY),q0._ERROR}clearDFA(){this.atn.clearDFA()}};t([a.NotNull],d.prototype,"atn",void 0),t([a.NotNull],d,"ERROR",null),d=t([n(0,a.NotNull)],d),e.ATNSimulator=d,d=e.ATNSimulator||(e.ATNSimulator={}),e.ATNSimulator=d}(Qf)),Qf}var ml={},T0={},m_;function FL(){if(m_)return T0;m_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(T0,"__esModule",{value:!0}),T0.ConsoleErrorListener=void 0;let e=class{syntaxError(n,r,s,a,u,d){console.error(`line ${s}:${a} ${u}`)}};return T0.ConsoleErrorListener=e,e.INSTANCE=new e,T0}var yl={},y_;function y2(){if(y_)return yl;y_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yl&&yl.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g},t=yl&&yl.__param||function(s,a){return function(u,d){a(u,d,s)}};Object.defineProperty(yl,"__esModule",{value:!0}),yl.ProxyErrorListener=void 0;const n=Ve();let r=class{constructor(a){if(this.delegates=a,!a)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(a,u,d,h,g,p){this.delegates.forEach(m=>{m.syntaxError&&m.syntaxError(a,u,d,h,g,p)})}};return e([n.Override,t(0,n.NotNull),t(4,n.NotNull)],r.prototype,"syntaxError",null),yl.ProxyErrorListener=r,yl}var v_;function Iy(){if(v_)return ml;v_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ml&&ml.__decorate||function(h,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(h,g,p,m);else for(var C=h.length-1;C>=0;C--)(A=h[C])&&(b=(x<3?A(b):x>3?A(g,p,b):A(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},t=ml&&ml.__param||function(h,g){return function(p,m){g(p,m,h)}};Object.defineProperty(ml,"__esModule",{value:!0}),ml.Recognizer=void 0;const n=FL(),r=y2(),s=Ve(),a=Ln(),u=bu();let d=class K0{constructor(){this._listeners=[n.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let g=this.vocabulary,p=K0.tokenTypeMapCache.get(g);if(p==null){let m=new Map;for(let x=0;x<=this.atn.maxTokenType;x++){let b=g.getLiteralName(x);b!=null&&m.set(b,x);let A=g.getSymbolicName(x);A!=null&&m.set(A,x)}m.set("EOF",a.Token.EOF),p=m,K0.tokenTypeMapCache.set(g,p)}return p}getRuleIndexMap(){let g=this.ruleNames;if(g==null)throw new Error("The current recognizer does not provide a list of rule names.");let p=K0.ruleIndexMapCache.get(g);return p==null&&(p=u.toMap(g),K0.ruleIndexMapCache.set(g,p)),p}getTokenType(g){let p=this.getTokenTypeMap().get(g);return p??a.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(g){this._interp=g}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(g){let p=g.getOffendingToken();if(!p)return"";let m=p.line,x=p.charPositionInLine;return"line "+m+":"+x}addErrorListener(g){if(!g)throw new TypeError("listener must not be null");this._listeners.push(g)}removeErrorListener(g){let p=this._listeners.indexOf(g);p!==-1&&this._listeners.splice(p,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new r.ProxyErrorListener(this.getErrorListeners())}sempred(g,p,m){return!0}precpred(g,p){return!0}action(g,p,m){}get state(){return this._stateNumber}set state(g){this._stateNumber=g}};return d.EOF=-1,d.tokenTypeMapCache=new WeakMap,d.ruleIndexMapCache=new WeakMap,e([s.SuppressWarnings("serial"),s.NotNull],d.prototype,"_listeners",void 0),e([s.NotNull],d.prototype,"getTokenTypeMap",null),e([s.NotNull],d.prototype,"getRuleIndexMap",null),e([s.NotNull],d.prototype,"serializedATN",null),e([s.NotNull],d.prototype,"atn",null),e([s.NotNull,t(0,s.NotNull)],d.prototype,"interpreter",null),e([s.NotNull,t(0,s.NotNull)],d.prototype,"getErrorHeader",null),e([t(0,s.NotNull)],d.prototype,"addErrorListener",null),e([t(0,s.NotNull)],d.prototype,"removeErrorListener",null),e([s.NotNull],d.prototype,"getErrorListeners",null),ml.Recognizer=d,ml}var td={},x_;function sh(){if(x_)return td;x_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=td&&td.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g};Object.defineProperty(td,"__esModule",{value:!0}),td.VocabularyImpl=void 0;const t=Ve(),n=Ln();let r=class{constructor(a,u,d){this.literalNames=a,this.symbolicNames=u,this.displayNames=d,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(a){if(a>=0&&a<this.literalNames.length)return this.literalNames[a]}getSymbolicName(a){if(a>=0&&a<this.symbolicNames.length)return this.symbolicNames[a];if(a===n.Token.EOF)return"EOF"}getDisplayName(a){if(a>=0&&a<this.displayNames.length){let h=this.displayNames[a];if(h)return h}let u=this.getLiteralName(a);if(u)return u;let d=this.getSymbolicName(a);return d||String(a)}};return r.EMPTY_VOCABULARY=new r([],[],[]),e([t.NotNull],r.prototype,"literalNames",void 0),e([t.NotNull],r.prototype,"symbolicNames",void 0),e([t.NotNull],r.prototype,"displayNames",void 0),e([t.Override],r.prototype,"maxTokenType",null),e([t.Override],r.prototype,"getLiteralName",null),e([t.Override],r.prototype,"getSymbolicName",null),e([t.Override,t.NotNull],r.prototype,"getDisplayName",null),e([t.NotNull],r,"EMPTY_VOCABULARY",void 0),td.VocabularyImpl=r,td}var b_;function kL(){if(b_)return Jf;b_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jf&&Jf.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var A=d.length-1;A>=0;A--)(b=d[A])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x};Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.DFASerializer=void 0;const t=wS(),n=Ve(),r=ws(),s=Iy(),a=sh();let u=class{constructor(h,g,p,m){g instanceof s.Recognizer?(p=g.ruleNames,m=g.atn,g=g.vocabulary):g||(g=a.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=h,this.vocabulary=g,this.ruleNames=p,this.atn=m}toString(){if(!this.dfa.s0)return"";let h="";if(this.dfa.states){let p=new Array(...this.dfa.states.toArray());p.sort((m,x)=>m.stateNumber-x.stateNumber);for(let m of p){let x=m.getEdgeMap(),b=[...x.keys()].sort((w,T)=>w-T),A=m.getContextEdgeMap(),C=[...A.keys()].sort((w,T)=>w-T);for(let w of b){let T=x.get(w);if((T==null||T===t.ATNSimulator.ERROR)&&!m.isContextSymbol(w))continue;let _=!1;h+=this.getStateString(m)+"-"+this.getEdgeLabel(w)+"->",m.isContextSymbol(w)&&(h+="!",_=!0);let I=T;I&&I.stateNumber!==t.ATNSimulator.ERROR.stateNumber?h+=this.getStateString(I)+`
`:_&&(h+=`ctx
`)}if(m.isContextSensitive)for(let w of C)h+=this.getStateString(m)+"-"+this.getContextLabel(w)+"->"+this.getStateString(A.get(w))+`
`}}let g=h;return g.length===0?"":g}getContextLabel(h){if(h===r.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(h===r.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&h>0&&h<=this.atn.states.length){let p=this.atn.states[h].ruleIndex;if(this.ruleNames&&p>=0&&p<this.ruleNames.length)return"ctx:"+String(h)+"("+this.ruleNames[p]+")"}return"ctx:"+String(h)}getEdgeLabel(h){return this.vocabulary.getDisplayName(h)}getStateString(h){if(h===t.ATNSimulator.ERROR)return"ERROR";let g=h.stateNumber,p="s"+g;if(h.isAcceptState&&(h.predicates?p=":s"+g+"=>"+h.predicates:p=":s"+g+"=>"+h.prediction),h.isContextSensitive){p+="*";for(let m of h.configs)if(m.reachesIntoOuterContext){p+="*";break}}return p}};return e([n.NotNull],u.prototype,"dfa",void 0),e([n.NotNull],u.prototype,"vocabulary",void 0),e([n.Override],u.prototype,"toString",null),Jf.DFASerializer=u,Jf}var vl={},S_;function J$(){if(S_)return vl;S_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vl&&vl.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=vl&&vl.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(vl,"__esModule",{value:!0}),vl.LexerDFASerializer=void 0;const n=kL(),r=Ve(),s=sh();let a=class extends n.DFASerializer{constructor(d){super(d,s.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(d){return"'"+String.fromCodePoint(d)+"'"}};return e([r.Override,r.NotNull],a.prototype,"getEdgeLabel",null),a=e([t(0,r.NotNull)],a),vl.LexerDFASerializer=a,vl}var nd={},E_;function v2(){if(E_)return nd;E_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nd&&nd.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(nd,"__esModule",{value:!0}),nd.StarLoopEntryState=void 0;const t=Vr(),n=Kc(),r=oh(),s=Ve();let a=class extends r.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new n.BitSet}get stateType(){return t.ATNStateType.STAR_LOOP_ENTRY}};return e([s.Override],a.prototype,"stateType",null),nd.StarLoopEntryState=a,nd}var A_;function BL(){if(A_)return pl;A_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pl&&pl.__decorate||function(x,b,A,C){var w=arguments.length,T=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,A):C,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,b,A,C);else for(var I=x.length-1;I>=0;I--)(_=x[I])&&(T=(w<3?_(T):w>3?_(b,A,T):_(b,A))||T);return w>3&&T&&Object.defineProperty(b,A,T),T},t=pl&&pl.__param||function(x,b){return function(A,C){b(A,C,x)}};Object.defineProperty(pl,"__esModule",{value:!0}),pl.DFA=void 0;const n=qc(),r=_y(),s=kL(),a=CS(),u=J$(),d=Ve(),h=wa(),g=v2(),p=sh();let m=class{constructor(b,A=0){if(this.states=new n.Array2DHashSet(h.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!b.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=b,this.atn=b.atn,this.decision=A;let C=!1;b instanceof g.StarLoopEntryState&&b.precedenceRuleDecision&&(C=!0,this.s0=new a.DFAState(new r.ATNConfigSet),this.s0full=new a.DFAState(new r.ATNConfigSet)),this.precedenceDfa=C}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(b,A){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return A?this.s0full.getTarget(b):this.s0.getTarget(b)}setPrecedenceStartState(b,A,C){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");b<0||(A?this.s0full.setTarget(b,C):this.s0.setTarget(b,C))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(b){return b.stateNumber=this.nextStateNumber++,this.states.getOrAdd(b)}toString(b,A){if(b||(b=p.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let C;return A?C=new s.DFASerializer(this,b,A,this.atnStartState.atn):C=new s.DFASerializer(this,b),C.toString()}toLexerString(){return this.s0?new u.LexerDFASerializer(this).toString():""}};return e([d.NotNull],m.prototype,"states",void 0),e([d.NotNull],m.prototype,"atnStartState",void 0),e([d.NotNull],m.prototype,"atn",void 0),m=e([t(0,d.NotNull)],m),pl.DFA=m,pl}var rd={},id={},C_;function jL(){if(C_)return id;C_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=id&&id.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(id,"__esModule",{value:!0}),id.BasicState=void 0;const t=xu(),n=Vr(),r=Ve();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.BASIC}};return e([r.Override],s.prototype,"stateType",null),id.BasicState=s,id}var w_;function zL(){if(w_)return rd;w_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=rd&&rd.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(rd,"__esModule",{value:!0}),rd.InvalidState=void 0;const t=Vr(),n=jL(),r=Ve();let s=class extends n.BasicState{get stateType(){return t.ATNStateType.INVALID_TYPE}};return e([r.Override],s.prototype,"stateType",null),rd.InvalidState=s,rd}var xl={},bl={},Sl={},R_;function x2(){if(R_)return Sl;R_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sl&&Sl.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var A=d.length-1;A>=0;A--)(b=d[A])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x},t=Sl&&Sl.__param||function(d,h){return function(g,p){h(g,p,d)}};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.SetTransition=void 0;const n=ah(),r=Ve(),s=Ln(),a=Yc();let u=class extends a.Transition{constructor(h,g){super(h),g==null&&(g=n.IntervalSet.of(s.Token.INVALID_TYPE)),this.set=g}get serializationType(){return 7}get label(){return this.set}matches(h,g,p){return this.set.contains(h)}toString(){return this.set.toString()}};return e([r.NotNull],u.prototype,"set",void 0),e([r.Override],u.prototype,"serializationType",null),e([r.Override,r.NotNull],u.prototype,"label",null),e([r.Override],u.prototype,"matches",null),e([r.Override,r.NotNull],u.prototype,"toString",null),u=e([t(0,r.NotNull),t(1,r.Nullable)],u),Sl.SetTransition=u,Sl}var T_;function b2(){if(T_)return bl;T_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bl&&bl.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=bl&&bl.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(bl,"__esModule",{value:!0}),bl.NotSetTransition=void 0;const n=Ve(),r=x2();let s=class extends r.SetTransition{constructor(u,d){super(u,d)}get serializationType(){return 8}matches(u,d,h){return u>=d&&u<=h&&!super.matches(u,d,h)}toString(){return"~"+super.toString()}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"matches",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull),t(1,n.Nullable)],s),bl.NotSetTransition=s,bl}var od={},N_;function Oy(){if(N_)return od;N_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=od&&od.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(od,"__esModule",{value:!0}),od.RuleStopState=void 0;const t=xu(),n=Vr(),r=Ve();let s=class extends t.ATNState{get nonStopStateNumber(){return-1}get stateType(){return n.ATNStateType.RULE_STOP}};return e([r.Override],s.prototype,"nonStopStateNumber",null),e([r.Override],s.prototype,"stateType",null),od.RuleStopState=s,od}var El={},__;function S2(){if(__)return El;__=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=El&&El.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=El&&El.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(El,"__esModule",{value:!0}),El.RuleTransition=void 0;const n=Ve(),r=Yc();let s=class extends r.Transition{constructor(u,d,h,g){super(u),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=d,this.precedence=h,this.followState=g}get serializationType(){return 3}get isEpsilon(){return!0}matches(u,d,h){return!1}};return e([n.NotNull],s.prototype,"followState",void 0),e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),s=e([t(0,n.NotNull),t(3,n.NotNull)],s),El.RuleTransition=s,El}var Al={},I_;function VL(){if(I_)return Al;I_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Al&&Al.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Al&&Al.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Al,"__esModule",{value:!0}),Al.WildcardTransition=void 0;const n=Ve(),r=Yc();let s=class extends r.Transition{constructor(u){super(u)}get serializationType(){return 9}matches(u,d,h){return u>=d&&u<=h}toString(){return"."}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"matches",null),e([n.Override,n.NotNull],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),Al.WildcardTransition=s,Al}var O_;function Q$(){if(O_)return xl;O_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xl&&xl.__decorate||function(w,T,_,I){var D=arguments.length,L=D<3?T:I===null?I=Object.getOwnPropertyDescriptor(T,_):I,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(w,T,_,I);else for(var U=w.length-1;U>=0;U--)(k=w[U])&&(L=(D<3?k(L):D>3?k(T,_,L):k(T,_))||L);return D>3&&L&&Object.defineProperty(T,_,L),L},t=xl&&xl.__param||function(w,T){return function(_,I){T(_,I,w)}};Object.defineProperty(xl,"__esModule",{value:!0}),xl.LL1Analyzer=void 0;const n=d2(),r=qc(),s=AS(),a=Kc(),u=ah(),d=Ve(),h=b2(),g=wa(),p=ws(),m=Oy(),x=S2(),b=Ln(),A=VL();let C=class HC{constructor(T){this.atn=T}getDecisionLookahead(T){if(T==null)return;let _=new Array(T.numberOfTransitions);for(let I=0;I<T.numberOfTransitions;I++){let D=new u.IntervalSet;_[I]=D;let L=new r.Array2DHashSet(g.ObjectEqualityComparator.INSTANCE);this._LOOK(T.transition(I).target,void 0,p.PredictionContext.EMPTY_LOCAL,D,L,new a.BitSet,!1,!1),(D.size===0||D.contains(HC.HIT_PRED))&&(D=void 0,_[I]=D)}return _}LOOK(T,_,I){if(I===void 0){if(T.atn==null)throw new Error("Illegal state");I=T.atn.ruleToStopState[T.ruleIndex]}else I===null&&(I=void 0);let D=new u.IntervalSet;return this._LOOK(T,I,_,D,new r.Array2DHashSet,new a.BitSet,!0,!0),D}_LOOK(T,_,I,D,L,k,U,B){let W=s.ATNConfig.create(T,0,I);if(!L.add(W))return;if(T===_){if(p.PredictionContext.isEmptyLocal(I)){D.add(b.Token.EPSILON);return}else if(I.isEmpty){B&&D.add(b.Token.EOF);return}}if(T instanceof m.RuleStopState){if(I.isEmpty&&!p.PredictionContext.isEmptyLocal(I)){B&&D.add(b.Token.EOF);return}let ie=k.get(T.ruleIndex);try{k.clear(T.ruleIndex);for(let se=0;se<I.size;se++){if(I.getReturnState(se)===p.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let Ce=this.atn.states[I.getReturnState(se)];this._LOOK(Ce,_,I.getParent(se),D,L,k,U,B)}}finally{ie&&k.set(T.ruleIndex)}}let te=T.numberOfTransitions;for(let ie=0;ie<te;ie++){let se=T.transition(ie);if(se instanceof x.RuleTransition){if(k.get(se.ruleIndex))continue;let Ce=I.getChild(se.followState.stateNumber);try{k.set(se.ruleIndex),this._LOOK(se.target,_,Ce,D,L,k,U,B)}finally{k.clear(se.ruleIndex)}}else if(se instanceof n.AbstractPredicateTransition)U?this._LOOK(se.target,_,I,D,L,k,U,B):D.add(HC.HIT_PRED);else if(se.isEpsilon)this._LOOK(se.target,_,I,D,L,k,U,B);else if(se instanceof A.WildcardTransition)D.addAll(u.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let Ce=se.label;Ce!=null&&(se instanceof h.NotSetTransition&&(Ce=Ce.complement(u.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),D.addAll(Ce))}}}};return C.HIT_PRED=b.Token.INVALID_TYPE,e([d.NotNull],C.prototype,"atn",void 0),e([d.NotNull,t(0,d.NotNull),t(1,d.NotNull)],C.prototype,"LOOK",null),e([t(0,d.NotNull),t(2,d.NotNull),t(3,d.NotNull),t(4,d.NotNull),t(5,d.NotNull)],C.prototype,"_LOOK",null),C=e([t(0,d.NotNull)],C),xl.LL1Analyzer=C,xl}var D_;function Ra(){return D_||(D_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Kf&&Kf.__decorate||function(A,C,w,T){var _=arguments.length,I=_<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,w):T,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(A,C,w,T);else for(var L=A.length-1;L>=0;L--)(D=A[L])&&(I=(_<3?D(I):_>3?D(C,w,I):D(C,w))||I);return _>3&&I&&Object.defineProperty(C,w,I),I},n=Kf&&Kf.__param||function(A,C){return function(w,T){C(w,T,A)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATN=void 0;const r=yg(),s=BL(),a=ah(),u=zL(),d=Q$(),h=Ve(),g=wa(),p=ws(),m=Ln(),x=bi();let b=class{constructor(C,w){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new r.Array2DHashMap(g.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=C,this.maxTokenType=w}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let C=0;C<this.decisionToDFA.length;C++)this.decisionToDFA[C]=new s.DFA(this.decisionToState[C],C);this.modeToDFA=new Array(this.modeToStartState.length);for(let C=0;C<this.modeToDFA.length;C++)this.modeToDFA[C]=new s.DFA(this.modeToStartState[C]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(C){return p.PredictionContext.getCachedContext(C,this.contextCache,new p.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return x(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(C,w){return w?new d.LL1Analyzer(this).LOOK(C,w):(C.nextTokenWithinRule||(C.nextTokenWithinRule=this.nextTokens(C,p.PredictionContext.EMPTY_LOCAL),C.nextTokenWithinRule.setReadonly(!0)),C.nextTokenWithinRule)}addState(C){C.atn=this,C.stateNumber=this.states.length,this.states.push(C)}removeState(C){let w=new u.InvalidState;w.atn=this,w.stateNumber=C.stateNumber,this.states[C.stateNumber]=w}defineMode(C,w){this.modeNameToStartState.set(C,w),this.modeToStartState.push(w),this.modeToDFA.push(new s.DFA(w)),this.defineDecisionState(w)}defineDecisionState(C){return this.decisionToState.push(C),C.decision=this.decisionToState.length-1,this.decisionToDFA.push(new s.DFA(C,C.decision)),C.decision}getDecisionState(C){if(this.decisionToState.length>0)return this.decisionToState[C]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(C,w){if(C<0||C>=this.states.length)throw new RangeError("Invalid state number.");let T=w,_=this.states[C],I=this.nextTokens(_);if(!I.contains(m.Token.EPSILON))return I;let D=new a.IntervalSet;for(D.addAll(I),D.remove(m.Token.EPSILON);T!=null&&T.invokingState>=0&&I.contains(m.Token.EPSILON);){let k=this.states[T.invokingState].transition(0);I=this.nextTokens(k.followState),D.addAll(I),D.remove(m.Token.EPSILON),T=T._parent}return I.contains(m.Token.EPSILON)&&D.add(m.Token.EOF),D}};t([h.NotNull],b.prototype,"states",void 0),t([h.NotNull],b.prototype,"decisionToState",void 0),t([h.NotNull],b.prototype,"modeNameToStartState",void 0),t([h.NotNull],b.prototype,"modeToStartState",void 0),t([h.NotNull],b.prototype,"decisionToDFA",void 0),t([h.NotNull],b.prototype,"modeToDFA",void 0),t([h.NotNull],b.prototype,"nextTokens",null),t([n(0,h.NotNull)],b.prototype,"removeState",null),t([n(0,h.NotNull),n(1,h.NotNull)],b.prototype,"defineMode",null),t([n(0,h.NotNull)],b.prototype,"defineDecisionState",null),t([h.NotNull],b.prototype,"getExpectedTokens",null),b=t([n(0,h.NotNull)],b),e.ATN=b,function(A){A.INVALID_ALT_NUMBER=0}(b=e.ATN||(e.ATN={})),e.ATN=b}(Kf)),Kf}var Cl={},wl={},P_;function eH(){if(P_)return wl;P_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wl&&wl.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=wl&&wl.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(wl,"__esModule",{value:!0}),wl.LexerIndexedCustomAction=void 0;const n=ur(),r=Ve();let s=class UL{constructor(u,d){this._offset=u,this._action=d}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(u){this._action.execute(u)}hashCode(){let u=n.MurmurHash.initialize();return u=n.MurmurHash.update(u,this._offset),u=n.MurmurHash.update(u,this._action),n.MurmurHash.finish(u,2)}equals(u){return u===this?!0:u instanceof UL?this._offset===u._offset&&this._action.equals(u._action):!1}};return e([r.NotNull],s.prototype,"action",null),e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),s=e([t(1,r.NotNull)],s),wl.LexerIndexedCustomAction=s,wl}var M_;function tH(){if(M_)return Cl;M_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cl&&Cl.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var A=d.length-1;A>=0;A--)(b=d[A])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x},t=Cl&&Cl.__param||function(d,h){return function(g,p){h(g,p,d)}};Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.LexerActionExecutor=void 0;const n=bS(),r=eH(),s=ur(),a=Ve();let u=class X0{constructor(h){this._lexerActions=h;let g=s.MurmurHash.initialize();for(let p of h)g=s.MurmurHash.update(g,p);this.cachedHashCode=s.MurmurHash.finish(g,h.length)}static append(h,g){if(!h)return new X0([g]);let p=h._lexerActions.slice(0);return p.push(g),new X0(p)}fixOffsetBeforeMatch(h){let g;for(let p=0;p<this._lexerActions.length;p++)this._lexerActions[p].isPositionDependent&&!(this._lexerActions[p]instanceof r.LexerIndexedCustomAction)&&(g||(g=this._lexerActions.slice(0)),g[p]=new r.LexerIndexedCustomAction(h,this._lexerActions[p]));return g?new X0(g):this}get lexerActions(){return this._lexerActions}execute(h,g,p){let m=!1,x=g.index;try{for(let b of this._lexerActions){if(b instanceof r.LexerIndexedCustomAction){let A=b.offset;g.seek(p+A),b=b.action,m=p+A!==x}else b.isPositionDependent&&(g.seek(x),m=!1);b.execute(h)}}finally{m&&g.seek(x)}}hashCode(){return this.cachedHashCode}equals(h){return h===this?!0:h instanceof X0?this.cachedHashCode===h.cachedHashCode&&n.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,h._lexerActions):!1}};return e([a.NotNull],u.prototype,"_lexerActions",void 0),e([a.NotNull],u.prototype,"lexerActions",null),e([t(0,a.NotNull)],u.prototype,"execute",null),e([a.Override],u.prototype,"hashCode",null),e([a.Override],u.prototype,"equals",null),e([a.NotNull,t(1,a.NotNull)],u,"append",null),u=e([t(0,a.NotNull)],u),Cl.LexerActionExecutor=u,Cl}var Rl={},L_;function RS(){if(L_)return Rl;L_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rl&&Rl.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var A=d.length-1;A>=0;A--)(b=d[A])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x},t=Rl&&Rl.__param||function(d,h){return function(g,p){h(g,p,d)}};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.LexerNoViableAltException=void 0;const n=Wc(),r=Ve(),s=Ui(),a=bu();let u=class extends n.RecognitionException{constructor(h,g,p,m){super(h,g),this._startIndex=p,this._deadEndConfigs=m}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let h="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(h=this.inputStream.getText(s.Interval.of(this._startIndex,this._startIndex)),h=a.escapeWhitespace(h,!1)),`LexerNoViableAltException('${h}')`}};return e([r.Override],u.prototype,"inputStream",null),e([r.Override],u.prototype,"toString",null),u=e([t(1,r.NotNull)],u),Rl.LexerNoViableAltException=u,Rl}var sd={},F_;function nH(){if(F_)return sd;F_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=sd&&sd.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g};Object.defineProperty(sd,"__esModule",{value:!0}),sd.OrderedATNConfigSet=void 0;const t=_y(),n=Ve();let r=class GL extends t.ATNConfigSet{constructor(a,u){a!=null&&u!=null?super(a,u):super()}clone(a){let u=new GL(this,a);return!a&&this.isReadOnly&&u.addAll(this),u}getKey(a){return{state:0,alt:a.hashCode()}}canMerge(a,u,d){return a.equals(d)}};return e([n.Override],r.prototype,"clone",null),e([n.Override],r.prototype,"getKey",null),e([n.Override],r.prototype,"canMerge",null),sd.OrderedATNConfigSet=r,sd}var k_;function TS(){return k_||(k_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=qf&&qf.__decorate||function(L,k,U,B){var W=arguments.length,te=W<3?k:B===null?B=Object.getOwnPropertyDescriptor(k,U):B,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(L,k,U,B);else for(var se=L.length-1;se>=0;se--)(ie=L[se])&&(te=(W<3?ie(te):W>3?ie(k,U,te):ie(k,U))||te);return W>3&&te&&Object.defineProperty(k,U,te),te},n=qf&&qf.__param||function(L,k){return function(U,B){k(U,B,L)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerATNSimulator=void 0;const r=PL(),s=Ra(),a=AS(),u=_y(),d=wS(),h=CS(),g=Ui(),p=Hc(),m=Xc(),x=tH(),b=RS(),A=Ve(),C=nH(),w=ws(),T=Oy(),_=Ln(),I=bi();let D=class no extends d.ATNSimulator{constructor(k,U){super(k),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE,this.prevAccept=new no.SimState,this.recog=U}copyState(k){this._charPositionInLine=k.charPositionInLine,this._line=k._line,this.mode=k.mode,this.startIndex=k.startIndex}match(k,U){this.mode=U;let B=k.mark();try{this.startIndex=k.index,this.prevAccept.reset();let W=this.atn.modeToDFA[U].s0;return W==null?this.matchATN(k):this.execATN(k,W)}finally{k.release(B)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE}matchATN(k){let U=this.atn.modeToStartState[this.mode];no.debug&&console.log(`matchATN mode ${this.mode} start: ${U}`);let B=this.mode,W=this.computeStartState(k,U),te=W.hasSemanticContext;te&&(W.hasSemanticContext=!1);let ie=this.addDFAState(W);if(!te){let Ce=this.atn.modeToDFA[this.mode];Ce.s0?ie=Ce.s0:Ce.s0=ie}let se=this.execATN(k,ie);return no.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[B].toLexerString()}`),se}execATN(k,U){no.debug&&console.log(`start state closure=${U.configs}`),U.isAcceptState&&this.captureSimState(this.prevAccept,k,U);let B=k.LA(1),W=U;for(;;){no.debug&&console.log(`execATN loop starting closure: ${W.configs}`);let te=this.getExistingTargetState(W,B);if(te==null&&(te=this.computeTargetState(k,W,B)),te===d.ATNSimulator.ERROR||(B!==p.IntStream.EOF&&this.consume(k),te.isAcceptState&&(this.captureSimState(this.prevAccept,k,te),B===p.IntStream.EOF)))break;B=k.LA(1),W=te}return this.failOrAccept(this.prevAccept,k,W.configs,B)}getExistingTargetState(k,U){let B=k.getTarget(U);return no.debug&&B!=null&&console.log("reuse state "+k.stateNumber+" edge to "+B.stateNumber),B}computeTargetState(k,U,B){let W=new C.OrderedATNConfigSet;return this.getReachableConfigSet(k,U.configs,W,B),W.isEmpty?(W.hasSemanticContext||this.addDFAEdge(U,B,d.ATNSimulator.ERROR),d.ATNSimulator.ERROR):this.addDFAEdge(U,B,W)}failOrAccept(k,U,B,W){if(k.dfaState!=null){let te=k.dfaState.lexerActionExecutor;return this.accept(U,te,this.startIndex,k.index,k.line,k.charPos),k.dfaState.prediction}else{if(W===p.IntStream.EOF&&U.index===this.startIndex)return _.Token.EOF;throw new b.LexerNoViableAltException(this.recog,U,this.startIndex,B)}}getReachableConfigSet(k,U,B,W){let te=s.ATN.INVALID_ALT_NUMBER;for(let ie of U){let se=ie.alt===te;if(se&&ie.hasPassedThroughNonGreedyDecision)continue;no.debug&&console.log(`testing ${this.getTokenName(W)} at ${ie.toString(this.recog,!0)}`);let Ce=ie.state.numberOfOptimizedTransitions;for(let je=0;je<Ce;je++){let Me=ie.state.getOptimizedTransition(je),re=this.getReachableTarget(Me,W);if(re!=null){let Ie=ie.lexerActionExecutor,de;Ie!=null?(Ie=Ie.fixOffsetBeforeMatch(k.index-this.startIndex),de=ie.transform(re,!0,Ie)):(I(ie.lexerActionExecutor==null),de=ie.transform(re,!0));let fe=W===p.IntStream.EOF;if(this.closure(k,de,B,se,!0,fe)){te=ie.alt;break}}}}}accept(k,U,B,W,te,ie){no.debug&&console.log(`ACTION ${U}`),k.seek(W),this._line=te,this._charPositionInLine=ie,U!=null&&this.recog!=null&&U.execute(this.recog,k,B)}getReachableTarget(k,U){if(k.matches(U,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE))return k.target}computeStartState(k,U){let B=w.PredictionContext.EMPTY_FULL,W=new C.OrderedATNConfigSet;for(let te=0;te<U.numberOfTransitions;te++){let ie=U.transition(te).target,se=a.ATNConfig.create(ie,te+1,B);this.closure(k,se,W,!1,!1,!1)}return W}closure(k,U,B,W,te,ie){if(no.debug&&console.log("closure("+U.toString(this.recog,!0)+")"),U.state instanceof T.RuleStopState){no.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[U.state.ruleIndex]} rule stop ${U}`):console.log(`closure at rule stop ${U}`));let Ce=U.context;if(Ce.isEmpty)return B.add(U),!0;Ce.hasEmpty&&(B.add(U.transform(U.state,!0,w.PredictionContext.EMPTY_FULL)),W=!0);for(let je=0;je<Ce.size;je++){let Me=Ce.getReturnState(je);if(Me===w.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let re=Ce.getParent(je),Ie=this.atn.states[Me],de=U.transform(Ie,!1,re);W=this.closure(k,de,B,W,te,ie)}return W}U.state.onlyHasEpsilonTransitions||(!W||!U.hasPassedThroughNonGreedyDecision)&&B.add(U);let se=U.state;for(let Ce=0;Ce<se.numberOfOptimizedTransitions;Ce++){let je=se.getOptimizedTransition(Ce),Me=this.getEpsilonTarget(k,U,je,B,te,ie);Me!=null&&(W=this.closure(k,Me,B,W,te,ie))}return W}getEpsilonTarget(k,U,B,W,te,ie){let se;switch(B.serializationType){case 3:let Ce=B;if(this.optimize_tail_calls&&Ce.optimizedTailCall&&!U.context.hasEmpty)se=U.transform(B.target,!0);else{let Me=U.context.getChild(Ce.followState.stateNumber);se=U.transform(B.target,!0,Me)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let je=B;no.debug&&console.log("EVAL rule "+je.ruleIndex+":"+je.predIndex),W.hasSemanticContext=!0,this.evaluatePredicate(k,je.ruleIndex,je.predIndex,te)?se=U.transform(B.target,!0):se=void 0;break;case 6:if(U.context.hasEmpty){let Me=x.LexerActionExecutor.append(U.lexerActionExecutor,this.atn.lexerActions[B.actionIndex]);se=U.transform(B.target,!0,Me);break}else{se=U.transform(B.target,!0);break}case 1:se=U.transform(B.target,!0);break;case 5:case 2:case 7:if(ie&&B.matches(p.IntStream.EOF,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE)){se=U.transform(B.target,!1);break}se=void 0;break;default:se=void 0;break}return se}evaluatePredicate(k,U,B,W){if(this.recog==null)return!0;if(!W)return this.recog.sempred(void 0,U,B);let te=this._charPositionInLine,ie=this._line,se=k.index,Ce=k.mark();try{return this.consume(k),this.recog.sempred(void 0,U,B)}finally{this._charPositionInLine=te,this._line=ie,k.seek(se),k.release(Ce)}}captureSimState(k,U,B){k.index=U.index,k.line=this._line,k.charPos=this._charPositionInLine,k.dfaState=B}addDFAEdge(k,U,B){if(B instanceof u.ATNConfigSet){let W=B.hasSemanticContext;W&&(B.hasSemanticContext=!1);let te=this.addDFAState(B);return W||this.addDFAEdge(k,U,te),te}else no.debug&&console.log("EDGE "+k+" -> "+B+" upon "+String.fromCharCode(U)),k!=null&&k.setTarget(U,B)}addDFAState(k){I(!k.hasSemanticContext);let U=new h.DFAState(k),B=this.atn.modeToDFA[this.mode].states.get(U);if(B!=null)return B;k.optimizeConfigs(this);let W=new h.DFAState(k.clone(!0)),te;for(let ie of k)if(ie.state instanceof T.RuleStopState){te=ie;break}if(te!=null){let ie=this.atn.ruleToTokenType[te.state.ruleIndex],se=te.lexerActionExecutor;W.acceptStateInfo=new r.AcceptStateInfo(ie,se)}return this.atn.modeToDFA[this.mode].addState(W)}getDFA(k){return this.atn.modeToDFA[k]}getText(k){return k.getText(g.Interval.of(this.startIndex,k.index-1))}get line(){return this._line}set line(k){this._line=k}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(k){this._charPositionInLine=k}consume(k){k.LA(1)===10?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,k.consume()}getTokenName(k){return k===-1?"EOF":"'"+String.fromCharCode(k)+"'"}};t([A.NotNull],D.prototype,"prevAccept",void 0),t([n(0,A.NotNull)],D.prototype,"copyState",null),t([n(0,A.NotNull)],D.prototype,"match",null),t([A.Override],D.prototype,"reset",null),t([n(0,A.NotNull)],D.prototype,"matchATN",null),t([n(0,A.NotNull),n(1,A.NotNull)],D.prototype,"execATN",null),t([n(0,A.NotNull)],D.prototype,"getExistingTargetState",null),t([A.NotNull,n(0,A.NotNull),n(1,A.NotNull)],D.prototype,"computeTargetState",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull)],D.prototype,"getReachableConfigSet",null),t([n(0,A.NotNull)],D.prototype,"accept",null),t([A.NotNull,n(0,A.NotNull),n(1,A.NotNull)],D.prototype,"computeStartState",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull)],D.prototype,"closure",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull),n(3,A.NotNull)],D.prototype,"getEpsilonTarget",null),t([n(0,A.NotNull)],D.prototype,"evaluatePredicate",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull)],D.prototype,"captureSimState",null),t([A.NotNull,n(0,A.NotNull)],D.prototype,"addDFAState",null),t([A.NotNull],D.prototype,"getDFA",null),t([A.NotNull,n(0,A.NotNull)],D.prototype,"getText",null),t([n(0,A.NotNull)],D.prototype,"consume",null),t([A.NotNull],D.prototype,"getTokenName",null),D=t([n(0,A.NotNull)],D),e.LexerATNSimulator=D,function(L){L.debug=!1,L.dfa_debug=!1;class k{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}L.SimState=k}(D=e.LexerATNSimulator||(e.LexerATNSimulator={})),e.LexerATNSimulator=D}(qf)),qf}var B_;function Xc(){if(B_)return Yf;B_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yf&&Yf.__decorate||function(m,x,b,A){var C=arguments.length,w=C<3?x:A===null?A=Object.getOwnPropertyDescriptor(x,b):A,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(m,x,b,A);else for(var _=m.length-1;_>=0;_--)(T=m[_])&&(w=(C<3?T(w):C>3?T(x,b,w):T(x,b))||w);return C>3&&w&&Object.defineProperty(x,b,w),w};Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.Lexer=void 0;const t=g2(),n=DL(),r=Ui(),s=Hc(),a=TS(),u=RS(),d=Ve(),h=Iy(),g=Ln();let p=class xc extends h.Recognizer{constructor(x){super(),this._factory=t.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new n.IntegerStack,this._mode=xc.DEFAULT_MODE,this._input=x,this._tokenFactorySourcePair={source:this,stream:x}}static get DEFAULT_TOKEN_CHANNEL(){return g.Token.DEFAULT_CHANNEL}static get HIDDEN(){return g.Token.HIDDEN_CHANNEL}reset(x){(x===void 0||x)&&this._input.seek(0),this._token=void 0,this._type=g.Token.INVALID_TYPE,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=xc.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let x=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=g.Token.INVALID_TYPE;let b;try{b=this.interpreter.match(this._input,this._mode)}catch(A){if(A instanceof u.LexerNoViableAltException)this.notifyListeners(A),this.recover(A),b=xc.SKIP;else throw A}if(this._input.LA(1)===s.IntStream.EOF&&(this._hitEOF=!0),this._type===g.Token.INVALID_TYPE&&(this._type=b),this._type===xc.SKIP)continue e}while(this._type===xc.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(x)}}skip(){this._type=xc.SKIP}more(){this._type=xc.MORE}mode(x){this._mode=x}pushMode(x){a.LexerATNSimulator.debug&&console.log("pushMode "+x),this._modeStack.push(this._mode),this.mode(x)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return a.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(x){this._factory=x}get inputStream(){return this._input}set inputStream(x){this.reset(!1),this._input=x,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(x){return x||(x=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=x,x}emitEOF(){let x=this.charPositionInLine,b=this.line,A=this._factory.create(this._tokenFactorySourcePair,g.Token.EOF,void 0,g.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,b,x);return this.emit(A),A}get line(){return this.interpreter.line}set line(x){this.interpreter.line=x}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(x){this.interpreter.charPositionInLine=x}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(x){this._text=x}get token(){return this._token}set token(x){this._token=x}set type(x){this._type=x}get type(){return this._type}set channel(x){this._channel=x}get channel(){return this._channel}getAllTokens(){let x=[],b=this.nextToken();for(;b.type!==g.Token.EOF;)x.push(b),b=this.nextToken();return x}notifyListeners(x){let b=this._input.getText(r.Interval.of(this._tokenStartCharIndex,this._input.index)),A="token recognition error at: '"+this.getErrorDisplay(b)+"'",C=this.getErrorListenerDispatch();C.syntaxError&&C.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,A,x)}getErrorDisplay(x){if(typeof x=="number"){switch(x){case g.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(x)}return x.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(x){return"'"+this.getErrorDisplay(x)+"'"}recover(x){x instanceof u.LexerNoViableAltException?this._input.LA(1)!==s.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};return p.DEFAULT_MODE=0,p.MORE=-2,p.SKIP=-3,p.MIN_CHAR_VALUE=0,p.MAX_CHAR_VALUE=1114111,e([d.Override],p.prototype,"nextToken",null),e([d.Override],p.prototype,"tokenFactory",null),e([d.Override],p.prototype,"inputStream",null),e([d.Override],p.prototype,"sourceName",null),e([d.Override],p.prototype,"line",null),e([d.Override],p.prototype,"charPositionInLine",null),Yf.Lexer=p,Yf}var j_;function ah(){if(j_)return dl;j_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=dl&&dl.__decorate||function(p,m,x,b){var A=arguments.length,C=A<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,m,x,b);else for(var T=p.length-1;T>=0;T--)(w=p[T])&&(C=(A<3?w(C):A>3?w(m,x,C):w(m,x))||C);return A>3&&C&&Object.defineProperty(m,x,C),C},t=dl&&dl.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(dl,"__esModule",{value:!0}),dl.IntervalSet=void 0;const n=bS(),r=p2(),s=Ui(),a=Xc(),u=ur(),d=Ve(),h=Ln();let g=class an{constructor(m){this.readonly=!1,m!=null?this._intervals=m.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return an._COMPLETE_CHAR_SET===void 0&&(an._COMPLETE_CHAR_SET=an.of(a.Lexer.MIN_CHAR_VALUE,a.Lexer.MAX_CHAR_VALUE),an._COMPLETE_CHAR_SET.setReadonly(!0)),an._COMPLETE_CHAR_SET}static get EMPTY_SET(){return an._EMPTY_SET==null&&(an._EMPTY_SET=new an,an._EMPTY_SET.setReadonly(!0)),an._EMPTY_SET}static of(m,x=m){let b=new an;return b.add(m,x),b}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(m,x=m){this.addRange(s.Interval.of(m,x))}addRange(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(m.b<m.a)){for(let x=0;x<this._intervals.length;x++){let b=this._intervals[x];if(m.equals(b))return;if(m.adjacent(b)||!m.disjoint(b)){let A=m.union(b);for(this._intervals[x]=A;x<this._intervals.length-1;){x++;let C=this._intervals[x];if(!A.adjacent(C)&&A.disjoint(C))break;this._intervals.splice(x,1),x--,this._intervals[x]=A.union(C)}return}if(m.startsBeforeDisjoint(b)){this._intervals.splice(x,0,m);return}}this._intervals.push(m)}}static or(m){let x=new an;for(let b of m)x.addAll(b);return x}addAll(m){if(m==null)return this;if(m instanceof an){let x=m,b=x._intervals.length;for(let A=0;A<b;A++){let C=x._intervals[A];this.add(C.a,C.b)}}else for(let x of m.toArray())this.add(x);return this}complementRange(m,x){return this.complement(an.of(m,x))}complement(m){if(m.isNil)return an.EMPTY_SET;let x;return m instanceof an?x=m:(x=new an,x.addAll(m)),x.subtract(this)}subtract(m){if(m==null||m.isNil)return new an(this._intervals);if(m instanceof an)return an.subtract(this,m);let x=new an;return x.addAll(m),an.subtract(this,x)}static subtract(m,x){if(m.isNil)return new an;let b=new an(m._intervals);if(x.isNil)return b;let A=0,C=0;for(;A<b._intervals.length&&C<x._intervals.length;){let w=b._intervals[A],T=x._intervals[C];if(T.b<w.a){C++;continue}if(T.a>w.b){A++;continue}let _,I;if(T.a>w.a&&(_=new s.Interval(w.a,T.a-1)),T.b<w.b&&(I=new s.Interval(T.b+1,w.b)),_)if(I){b._intervals[A]=_,b._intervals.splice(A+1,0,I),A++,C++;continue}else{b._intervals[A]=_,A++;continue}else if(I){b._intervals[A]=I,C++;continue}else{b._intervals.splice(A,1);continue}}return b}or(m){let x=new an;return x.addAll(this),x.addAll(m),x}and(m){if(m.isNil)return new an;let x=this._intervals,b=m._intervals,A,C=x.length,w=b.length,T=0,_=0;for(;T<C&&_<w;){let I=x[T],D=b[_];I.startsBeforeDisjoint(D)?T++:D.startsBeforeDisjoint(I)?_++:I.properlyContains(D)?(A||(A=new an),A.addRange(I.intersection(D)),_++):D.properlyContains(I)?(A||(A=new an),A.addRange(I.intersection(D)),T++):I.disjoint(D)||(A||(A=new an),A.addRange(I.intersection(D)),I.startsAfterNonDisjoint(D)?_++:D.startsAfterNonDisjoint(I)&&T++)}return A||new an}contains(m){let x=this._intervals.length,b=0,A=x-1;for(;b<=A;){let C=b+A>>1,w=this._intervals[C],T=w.a;if(w.b<m)b=C+1;else if(T>m)A=C-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let m=u.MurmurHash.initialize();for(let x of this._intervals)m=u.MurmurHash.update(m,x.a),m=u.MurmurHash.update(m,x.b);return m=u.MurmurHash.finish(m,this._intervals.length*2),m}equals(m){return m==null||!(m instanceof an)?!1:n.ArrayEqualityComparator.INSTANCE.equals(this._intervals,m._intervals)}toString(m=!1){let x="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(x+="{");let b=!0;for(let A of this._intervals){b?b=!1:x+=", ";let C=A.a,w=A.b;C===w?C===h.Token.EOF?x+="<EOF>":m?x+="'"+String.fromCodePoint(C)+"'":x+=C:m?x+="'"+String.fromCodePoint(C)+"'..'"+String.fromCodePoint(w)+"'":x+=C+".."+w}return this.size>1&&(x+="}"),x}toStringVocabulary(m){if(this._intervals==null||this._intervals.length===0)return"{}";let x="";this.size>1&&(x+="{");let b=!0;for(let A of this._intervals){b?b=!1:x+=", ";let C=A.a,w=A.b;if(C===w)x+=this.elementName(m,C);else for(let T=C;T<=w;T++)T>C&&(x+=", "),x+=this.elementName(m,T)}return this.size>1&&(x+="}"),x}elementName(m,x){return x===h.Token.EOF?"<EOF>":x===h.Token.EPSILON?"<EPSILON>":m.getDisplayName(x)}get size(){let m=0,x=this._intervals.length;if(x===1){let b=this._intervals[0];return b.b-b.a+1}for(let b=0;b<x;b++){let A=this._intervals[b];m+=A.b-A.a+1}return m}toIntegerList(){let m=new r.IntegerList(this.size),x=this._intervals.length;for(let b=0;b<x;b++){let A=this._intervals[b],C=A.a,w=A.b;for(let T=C;T<=w;T++)m.add(T)}return m}toSet(){let m=new Set;for(let x of this._intervals){let b=x.a,A=x.b;for(let C=b;C<=A;C++)m.add(C)}return m}toArray(){let m=new Array,x=this._intervals.length;for(let b=0;b<x;b++){let A=this._intervals[b],C=A.a,w=A.b;for(let T=C;T<=w;T++)m.push(T)}return m}remove(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let x=this._intervals.length;for(let b=0;b<x;b++){let A=this._intervals[b],C=A.a,w=A.b;if(m<C)break;if(m===C&&m===w){this._intervals.splice(b,1);break}if(m===C){this._intervals[b]=s.Interval.of(A.a+1,A.b);break}if(m===w){this._intervals[b]=s.Interval.of(A.a,A.b-1);break}if(m>C&&m<w){let T=A.b;this._intervals[b]=s.Interval.of(A.a,m-1),this.add(m+1,T)}}}get isReadonly(){return this.readonly}setReadonly(m){if(this.readonly&&!m)throw new Error("can't alter readonly IntervalSet");this.readonly=m}};return e([d.Override],g.prototype,"addAll",null),e([d.Override],g.prototype,"complement",null),e([d.Override],g.prototype,"subtract",null),e([d.Override],g.prototype,"or",null),e([d.Override],g.prototype,"and",null),e([d.Override],g.prototype,"contains",null),e([d.Override],g.prototype,"isNil",null),e([d.Override],g.prototype,"hashCode",null),e([d.Override],g.prototype,"equals",null),e([t(0,d.NotNull)],g.prototype,"toStringVocabulary",null),e([d.NotNull,t(0,d.NotNull)],g.prototype,"elementName",null),e([d.Override],g.prototype,"size",null),e([d.Override],g.prototype,"remove",null),e([d.NotNull],g,"of",null),e([d.NotNull],g,"subtract",null),dl.IntervalSet=g,dl}var ad={},ds={},ld={},z_;function $L(){if(z_)return ld;z_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ld&&ld.__decorate||function(r,s,a,u){var d=arguments.length,h=d<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,a):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(r,s,a,u);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(h=(d<3?g(h):d>3?g(s,a,h):g(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h};Object.defineProperty(ld,"__esModule",{value:!0}),ld.ATNDeserializationOptions=void 0;const t=Ve();let n=class _p{constructor(s){this.readOnly=!1,s?(this.verifyATN=s.verifyATN,this.generateRuleBypassTransitions=s.generateRuleBypassTransitions,this.optimize=s.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return _p._defaultOptions==null&&(_p._defaultOptions=new _p,_p._defaultOptions.makeReadOnly()),_p._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(s){this.throwIfReadOnly(),this.verifyATN=s}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(s){this.throwIfReadOnly(),this.generateRuleBypassTransitions=s}get isOptimize(){return this.optimize}set isOptimize(s){this.throwIfReadOnly(),this.optimize=s}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};return e([t.NotNull],n,"defaultOptions",null),ld.ATNDeserializationOptions=n,ld}var Tl={},Nl={},V_;function HL(){if(V_)return Nl;V_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nl&&Nl.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Nl&&Nl.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.ActionTransition=void 0;const n=Ve(),r=Yc();let s=class extends r.Transition{constructor(u,d,h=-1,g=!1){super(u),this.ruleIndex=d,this.actionIndex=h,this.isCtxDependent=g}get serializationType(){return 6}get isEpsilon(){return!0}matches(u,d,h){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),Nl.ActionTransition=s,Nl}var _l={},U_;function WL(){if(U_)return _l;U_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_l&&_l.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=_l&&_l.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(_l,"__esModule",{value:!0}),_l.AtomTransition=void 0;const n=ah(),r=Ve(),s=Yc();let a=class extends s.Transition{constructor(d,h){super(d),this._label=h}get serializationType(){return 5}get label(){return n.IntervalSet.of(this._label)}matches(d,h,g){return this._label===d}toString(){return String(this.label)}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override,r.NotNull],a.prototype,"label",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),_l.AtomTransition=a,_l}var ud={},N0={},G_;function NS(){if(G_)return N0;G_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(N0,"__esModule",{value:!0}),N0.BlockStartState=void 0;const e=oh();let t=class extends e.DecisionState{};return N0.BlockStartState=t,N0}var $_;function rH(){if($_)return ud;$_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ud&&ud.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(ud,"__esModule",{value:!0}),ud.BasicBlockStartState=void 0;const t=Vr(),n=NS(),r=Ve();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),ud.BasicBlockStartState=s,ud}var cd={},H_;function iH(){if(H_)return cd;H_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=cd&&cd.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(cd,"__esModule",{value:!0}),cd.BlockEndState=void 0;const t=xu(),n=Vr(),r=Ve();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.BLOCK_END}};return e([r.Override],s.prototype,"stateType",null),cd.BlockEndState=s,cd}var Il={},W_;function oH(){if(W_)return Il;W_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Il&&Il.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Il&&Il.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Il,"__esModule",{value:!0}),Il.EpsilonTransition=void 0;const n=Ve(),r=Yc();let s=class extends r.Transition{constructor(u,d=-1){super(u),this._outermostPrecedenceReturn=d}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(u,d,h){return!1}toString(){return"epsilon"}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),e([n.Override,n.NotNull],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),Il.EpsilonTransition=s,Il}var Ol={},Y_;function sH(){if(Y_)return Ol;Y_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ol&&Ol.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Ol&&Ol.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.LexerChannelAction=void 0;const n=ur(),r=Ve();let s=class YL{constructor(u){this._channel=u}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(u){u.channel=this._channel}hashCode(){let u=n.MurmurHash.initialize();return u=n.MurmurHash.update(u,this.actionType),u=n.MurmurHash.update(u,this._channel),n.MurmurHash.finish(u,2)}equals(u){return u===this?!0:u instanceof YL?this._channel===u._channel:!1}toString(){return`channel(${this._channel})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Ol.LexerChannelAction=s,Ol}var Dl={},q_;function aH(){if(q_)return Dl;q_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dl&&Dl.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Dl&&Dl.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.LexerCustomAction=void 0;const n=ur(),r=Ve();let s=class qL{constructor(u,d){this._ruleIndex=u,this._actionIndex=d}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(u){u.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let u=n.MurmurHash.initialize();return u=n.MurmurHash.update(u,this.actionType),u=n.MurmurHash.update(u,this._ruleIndex),u=n.MurmurHash.update(u,this._actionIndex),n.MurmurHash.finish(u,3)}equals(u){return u===this?!0:u instanceof qL?this._ruleIndex===u._ruleIndex&&this._actionIndex===u._actionIndex:!1}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),Dl.LexerCustomAction=s,Dl}var Pl={},K_;function lH(){if(K_)return Pl;K_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pl&&Pl.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Pl&&Pl.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.LexerModeAction=void 0;const n=ur(),r=Ve();let s=class KL{constructor(u){this._mode=u}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(u){u.mode(this._mode)}hashCode(){let u=n.MurmurHash.initialize();return u=n.MurmurHash.update(u,this.actionType),u=n.MurmurHash.update(u,this._mode),n.MurmurHash.finish(u,2)}equals(u){return u===this?!0:u instanceof KL?this._mode===u._mode:!1}toString(){return`mode(${this._mode})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Pl.LexerModeAction=s,Pl}var fd={},X_;function uH(){return X_||(X_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=fd&&fd.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},n=fd&&fd.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerMoreAction=void 0;const r=ur(),s=Ve();let a=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(d){d.more()}hashCode(){let d=r.MurmurHash.initialize();return d=r.MurmurHash.update(d,this.actionType),r.MurmurHash.finish(d,1)}equals(d){return d===this}toString(){return"more"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerMoreAction=a,function(u){u.INSTANCE=new u}(a=e.LexerMoreAction||(e.LexerMoreAction={}))}(fd)),fd}var dd={},Z_;function cH(){return Z_||(Z_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=dd&&dd.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},n=dd&&dd.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerPopModeAction=void 0;const r=ur(),s=Ve();let a=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(d){d.popMode()}hashCode(){let d=r.MurmurHash.initialize();return d=r.MurmurHash.update(d,this.actionType),r.MurmurHash.finish(d,1)}equals(d){return d===this}toString(){return"popMode"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerPopModeAction=a,function(u){u.INSTANCE=new u}(a=e.LexerPopModeAction||(e.LexerPopModeAction={}))}(dd)),dd}var Ml={},J_;function fH(){if(J_)return Ml;J_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ml&&Ml.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Ml&&Ml.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.LexerPushModeAction=void 0;const n=ur(),r=Ve();let s=class XL{constructor(u){this._mode=u}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(u){u.pushMode(this._mode)}hashCode(){let u=n.MurmurHash.initialize();return u=n.MurmurHash.update(u,this.actionType),u=n.MurmurHash.update(u,this._mode),n.MurmurHash.finish(u,2)}equals(u){return u===this?!0:u instanceof XL?this._mode===u._mode:!1}toString(){return`pushMode(${this._mode})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Ml.LexerPushModeAction=s,Ml}var hd={},Q_;function dH(){return Q_||(Q_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=hd&&hd.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},n=hd&&hd.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerSkipAction=void 0;const r=ur(),s=Ve();let a=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(d){d.skip()}hashCode(){let d=r.MurmurHash.initialize();return d=r.MurmurHash.update(d,this.actionType),r.MurmurHash.finish(d,1)}equals(d){return d===this}toString(){return"skip"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerSkipAction=a,function(u){u.INSTANCE=new u}(a=e.LexerSkipAction||(e.LexerSkipAction={}))}(hd)),hd}var Ll={},eI;function hH(){if(eI)return Ll;eI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ll&&Ll.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Ll&&Ll.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.LexerTypeAction=void 0;const n=ur(),r=Ve();let s=class ZL{constructor(u){this._type=u}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(u){u.type=this._type}hashCode(){let u=n.MurmurHash.initialize();return u=n.MurmurHash.update(u,this.actionType),u=n.MurmurHash.update(u,this._type),n.MurmurHash.finish(u,2)}equals(u){return u===this?!0:u instanceof ZL?this._type===u._type:!1}toString(){return`type(${this._type})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Ll.LexerTypeAction=s,Ll}var pd={},tI;function JL(){if(tI)return pd;tI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pd&&pd.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(pd,"__esModule",{value:!0}),pd.LoopEndState=void 0;const t=xu(),n=Vr(),r=Ve();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.LOOP_END}};return e([r.Override],s.prototype,"stateType",null),pd.LoopEndState=s,pd}var Fl={},gd={},nI;function pH(){if(nI)return gd;nI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gd&&gd.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g};Object.defineProperty(gd,"__esModule",{value:!0}),gd.ConflictInfo=void 0;const t=Ve(),n=bu();let r=class QL{constructor(a,u){this._conflictedAlts=a,this.exact=u}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(a){return a===this?!0:a instanceof QL?this.isExact===a.isExact&&n.equals(this.conflictedAlts,a.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};return e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),gd.ConflictInfo=r,gd}var md={},yd={},vd={},rI;function vg(){if(rI)return vd;rI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vd&&vd.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(vd,"__esModule",{value:!0}),vd.TerminalNode=void 0;const t=Ui(),n=Ve(),r=Ln();let s=class{constructor(u){this._symbol=u}getChild(u){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(u){this._parent=u}get payload(){return this._symbol}get sourceInterval(){let u=this._symbol.tokenIndex;return new t.Interval(u,u)}get childCount(){return 0}accept(u){return u.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(u){return this.toString()}toString(){return this._symbol.type===r.Token.EOF?"<EOF>":this._symbol.text||""}};return e([n.Override],s.prototype,"getChild",null),e([n.Override],s.prototype,"parent",null),e([n.Override],s.prototype,"setParent",null),e([n.Override],s.prototype,"payload",null),e([n.Override],s.prototype,"sourceInterval",null),e([n.Override],s.prototype,"childCount",null),e([n.Override],s.prototype,"accept",null),e([n.Override],s.prototype,"text",null),e([n.Override],s.prototype,"toStringTree",null),e([n.Override],s.prototype,"toString",null),vd.TerminalNode=s,vd}var iI;function E2(){if(iI)return yd;iI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yd&&yd.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g};Object.defineProperty(yd,"__esModule",{value:!0}),yd.ErrorNode=void 0;const t=Ve(),n=vg();let r=class extends n.TerminalNode{constructor(a){super(a)}accept(a){return a.visitErrorNode(this)}};return e([t.Override],r.prototype,"accept",null),yd.ErrorNode=r,yd}var xd={},_0={},oI;function A2(){if(oI)return _0;oI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(_0,"__esModule",{value:!0}),_0.RuleNode=void 0;let e=class{};return _0.RuleNode=e,_0}var kl={},sI;function lh(){if(sI)return kl;sI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kl&&kl.__decorate||function(b,A,C,w){var T=arguments.length,_=T<3?A:w===null?w=Object.getOwnPropertyDescriptor(A,C):w,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(b,A,C,w);else for(var D=b.length-1;D>=0;D--)(I=b[D])&&(_=(T<3?I(_):T>3?I(A,C,_):I(A,C))||_);return T>3&&_&&Object.defineProperty(A,C,_),_},t=kl&&kl.__param||function(b,A){return function(C,w){A(C,w,b)}};Object.defineProperty(kl,"__esModule",{value:!0}),kl.Trees=void 0;const n=Ra(),r=Ny(),s=E2(),a=Ve(),u=My(),d=Rs(),h=A2(),g=vg(),p=Ln(),m=bu();let x=class bc{static toStringTree(A,C){let w;C instanceof u.Parser?w=C.ruleNames:w=C;let T=m.escapeWhitespace(this.getNodeText(A,w),!1);if(A.childCount===0)return T;let _="";_+="(",T=m.escapeWhitespace(this.getNodeText(A,w),!1),_+=T,_+=" ";for(let I=0;I<A.childCount;I++)I>0&&(_+=" "),_+=this.toStringTree(A.getChild(I),w);return _+=")",_}static getNodeText(A,C){let w;if(C instanceof u.Parser)w=C.ruleNames;else if(C)w=C;else{let T=A.payload;return typeof T.text=="string"?T.text:A.payload.toString()}if(A instanceof h.RuleNode){let T=A.ruleContext,_=T.ruleIndex,I=w[_],D=T.altNumber;return D!==n.ATN.INVALID_ALT_NUMBER?I+":"+D:I}else{if(A instanceof s.ErrorNode)return A.toString();if(A instanceof g.TerminalNode)return A.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(A){let C=[];for(let w=0;w<A.childCount;w++)C.push(A.getChild(w));return C}static getAncestors(A){let C=[],w=A.parent;for(;w;)C.unshift(w),w=w.parent;return C}static isAncestorOf(A,C){if(!A||!C||!A.parent)return!1;let w=C.parent;for(;w;){if(A===w)return!0;w=w.parent}return!1}static findAllTokenNodes(A,C){return bc.findAllNodes(A,C,!0)}static findAllRuleNodes(A,C){return bc.findAllNodes(A,C,!1)}static findAllNodes(A,C,w){let T=[];return bc._findAllNodes(A,C,w,T),T}static _findAllNodes(A,C,w,T){w&&A instanceof g.TerminalNode?A.symbol.type===C&&T.push(A):!w&&A instanceof d.ParserRuleContext&&A.ruleIndex===C&&T.push(A);for(let _=0;_<A.childCount;_++)bc._findAllNodes(A.getChild(_),C,w,T)}static getDescendants(A){let C=[];function w(T){C.push(T);const _=T.childCount;for(let I=0;I<_;I++)w(T.getChild(I))}return w(A),C}static getRootOfSubtreeEnclosingRegion(A,C,w){let T=A.childCount;for(let _=0;_<T;_++){let I=A.getChild(_),D=bc.getRootOfSubtreeEnclosingRegion(I,C,w);if(D)return D}if(A instanceof d.ParserRuleContext){let _=A.stop;if(C>=A.start.tokenIndex&&(_==null||w<=_.tokenIndex))return A}}static stripChildrenOutOfRange(A,C,w,T){if(!A)return;let _=A.childCount;for(let I=0;I<_;I++){let D=A.getChild(I),L=D.sourceInterval;if(D instanceof d.ParserRuleContext&&(L.b<w||L.a>T)&&bc.isAncestorOf(D,C)){let k=new r.CommonToken(p.Token.INVALID_TYPE,"...");A.children[I]=new g.TerminalNode(k)}}}static findNodeSuchThat(A,C){if(C(A))return A;let w=A.childCount;for(let T=0;T<w;T++){let _=bc.findNodeSuchThat(A.getChild(T),C);if(_!==void 0)return _}}};return e([t(0,a.NotNull)],x,"toStringTree",null),e([a.NotNull,t(0,a.NotNull)],x,"getAncestors",null),e([t(0,a.NotNull)],x,"getRootOfSubtreeEnclosingRegion",null),kl.Trees=x,kl}var aI;function tF(){if(aI)return xd;aI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xd&&xd.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A};Object.defineProperty(xd,"__esModule",{value:!0}),xd.RuleContext=void 0;const t=Ra(),n=Iy(),r=A2(),s=Ui(),a=Ve(),u=lh(),d=Rs();let h=class eF extends r.RuleNode{constructor(p,m){super(),this._parent=p,this.invokingState=m??-1}static getChildContext(p,m){return new eF(p,m)}depth(){let p=0,m=this;for(;m;)m=m._parent,p++;return p}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return s.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(p){this._parent=p}get payload(){return this}get text(){if(this.childCount===0)return"";let p="";for(let m=0;m<this.childCount;m++)p+=this.getChild(m).text;return p.toString()}get ruleIndex(){return-1}get altNumber(){return t.ATN.INVALID_ALT_NUMBER}set altNumber(p){}getChild(p){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(p){return p.visitChildren(this)}toStringTree(p){return u.Trees.toStringTree(this,p)}toString(p,m){const x=p instanceof n.Recognizer?p.ruleNames:p;m=m||d.ParserRuleContext.emptyContext();let b="",A=this;for(b+="[";A&&A!==m;){if(!x)A.isEmpty||(b+=A.invokingState);else{let C=A.ruleIndex,w=C>=0&&C<x.length?x[C]:C.toString();b+=w}A._parent&&(x||!A._parent.isEmpty)&&(b+=" "),A=A._parent}return b+="]",b.toString()}};return e([a.Override],h.prototype,"sourceInterval",null),e([a.Override],h.prototype,"ruleContext",null),e([a.Override],h.prototype,"parent",null),e([a.Override],h.prototype,"setParent",null),e([a.Override],h.prototype,"payload",null),e([a.Override],h.prototype,"text",null),e([a.Override],h.prototype,"getChild",null),e([a.Override],h.prototype,"childCount",null),e([a.Override],h.prototype,"accept",null),e([a.Override],h.prototype,"toStringTree",null),xd.RuleContext=h,xd}var lI;function Rs(){if(lI)return md;lI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=md&&md.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var A=d.length-1;A>=0;A--)(b=d[A])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x};Object.defineProperty(md,"__esModule",{value:!0}),md.ParserRuleContext=void 0;const t=E2(),n=Ui(),r=Ve(),s=tF(),a=vg();let u=class WC extends s.RuleContext{constructor(h,g){g==null?super():super(h,g)}static emptyContext(){return WC.EMPTY}copyFrom(h){if(this._parent=h._parent,this.invokingState=h.invokingState,this._start=h._start,this._stop=h._stop,h.children){this.children=[];for(let g of h.children)g instanceof t.ErrorNode&&this.addChild(g)}}enterRule(h){}exitRule(h){}addAnyChild(h){return this.children?this.children.push(h):this.children=[h],h}addChild(h){if(h instanceof a.TerminalNode){h.setParent(this),this.addAnyChild(h);return}else if(h instanceof s.RuleContext){this.addAnyChild(h);return}else return h=new a.TerminalNode(h),this.addAnyChild(h),h.setParent(this),h}addErrorNode(h){if(h instanceof t.ErrorNode){const g=h;return g.setParent(this),this.addAnyChild(g)}else{const g=h;let p=new t.ErrorNode(g);return this.addAnyChild(p),p.setParent(this),p}}removeLastChild(){this.children&&this.children.pop()}get parent(){let h=super.parent;if(h===void 0||h instanceof WC)return h;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(h,g){if(!this.children||h<0||h>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(g==null)return this.children[h];let p=this.tryGetChild(h,g);if(p===void 0)throw new Error("The specified node does not exist");return p}tryGetChild(h,g){if(!this.children||h<0||h>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof g&&(p++,p===h))return m}getToken(h,g){let p=this.tryGetToken(h,g);if(p===void 0)throw new Error("The specified token does not exist");return p}tryGetToken(h,g){if(!this.children||g<0||g>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof a.TerminalNode&&m.symbol.type===h&&(p++,p===g))return m}getTokens(h){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof a.TerminalNode&&p.symbol.type===h&&g.push(p);return g}get ruleContext(){return this}getRuleContext(h,g){return this.getChild(h,g)}tryGetRuleContext(h,g){return this.tryGetChild(h,g)}getRuleContexts(h){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof h&&g.push(p);return g}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?n.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):n.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):n.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(h){return"ParserRuleContext"+h.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}};return u.EMPTY=new u,e([r.Override],u.prototype,"parent",null),e([r.Override],u.prototype,"childCount",null),e([r.Override],u.prototype,"sourceInterval",null),md.ParserRuleContext=u,md}var I0={},uI;function gH(){return uI||(uI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=I0&&I0.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionMode=void 0;const n=yg(),r=ur(),s=Ve(),a=Oy();(function(u){u[u.SLL=0]="SLL",u[u.LL=1]="LL",u[u.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(e.PredictionMode||(e.PredictionMode={})),function(u){class d extends n.Array2DHashMap{constructor(){super(h.INSTANCE)}}class h{AltAndContextConfigEqualityComparator(){}hashCode(x){let b=r.MurmurHash.initialize(7);return b=r.MurmurHash.update(b,x.state.stateNumber),b=r.MurmurHash.update(b,x.context),b=r.MurmurHash.finish(b,2),b}equals(x,b){return x===b?!0:x==null||b==null?!1:x.state.stateNumber===b.state.stateNumber&&x.context.equals(b.context)}}h.INSTANCE=new h,t([s.Override],h.prototype,"hashCode",null),t([s.Override],h.prototype,"equals",null);function g(m){for(let x of m)if(x.state instanceof a.RuleStopState)return!0;return!1}u.hasConfigInRuleStopState=g;function p(m){for(let x of m)if(!(x.state instanceof a.RuleStopState))return!1;return!0}u.allConfigsInRuleStopStates=p}(e.PredictionMode||(e.PredictionMode={}))}(I0)),I0}var Bl={},cI;function nF(){if(cI)return Bl;cI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bl&&Bl.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Bl&&Bl.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.SimulatorState=void 0;const n=Ve(),r=Rs();let s=class{constructor(u,d,h,g){this.outerContext=u??r.ParserRuleContext.emptyContext(),this.s0=d,this.useContext=h,this.remainingOuterContext=g}};return s=e([t(1,n.NotNull)],s),Bl.SimulatorState=s,Bl}var fI;function Dy(){if(fI)return Fl;fI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fl&&Fl.__decorate||function(me,j,z,G){var H=arguments.length,J=H<3?j:G===null?G=Object.getOwnPropertyDescriptor(j,z):G,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(me,j,z,G);else for(var Z=me.length-1;Z>=0;Z--)(X=me[Z])&&(J=(H<3?X(J):H>3?X(j,z,J):X(j,z))||J);return H>3&&J&&Object.defineProperty(j,z,J),J},t=Fl&&Fl.__param||function(me,j){return function(z,G){j(z,G,me)}};Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.ParserATNSimulator=void 0;const n=PL(),r=HL(),s=qc(),a=h2(),u=Ra(),d=AS(),h=_y(),g=wS(),p=Vr(),m=WL(),x=Kc(),b=pH(),A=oh(),C=CS(),w=p2(),T=Ui(),_=Hc(),I=Ve(),D=b2(),L=_S(),k=wa(),U=Rs(),B=ws(),W=m2(),te=gH(),ie=Oy(),se=S2(),Ce=mg(),je=x2(),Me=nF(),re=Ln(),Ie=sh(),de=bi(),fe=65535,K=-2147483648;let ne=class kt extends g.ATNSimulator{constructor(j,z){super(j),this.predictionMode=te.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=z}getPredictionMode(){return this.predictionMode}setPredictionMode(j){this.predictionMode=j}reset(){}adaptivePredict(j,z,G,H){H===void 0&&(H=!1);let J=this.atn.decisionToDFA[z];if(de(J!=null),this.optimize_ll1&&!J.isPrecedenceDfa&&!J.isEmpty){let xe=j.LA(1);if(xe>=0&&xe<=65535){let Se=(z<<16>>>0)+xe,oe=this.atn.LL1Table.get(Se);if(oe!=null)return oe}}this.dfa=J,this.force_global_context?H=!0:this.always_try_local_context||(H=H||J.isContextSensitive),this.userWantsCtxSensitive=H||this.predictionMode!==te.PredictionMode.SLL&&G!=null&&!this.atn.decisionToState[z].sll,G==null&&(G=U.ParserRuleContext.emptyContext());let X;J.isEmpty||(X=this.getStartState(J,j,G,H)),X==null&&(G==null&&(G=U.ParserRuleContext.emptyContext()),kt.debug&&console.log("ATN decision "+J.decision+" exec LA(1)=="+this.getLookaheadName(j)+", outerContext="+G.toString(this._parser)),X=this.computeStartState(J,G,H));let Z=j.mark(),le=j.index;try{let xe=this.execDFA(J,j,le,X);return kt.debug&&console.log("DFA after predictATN: "+J.toString(this._parser.vocabulary,this._parser.ruleNames)),xe}finally{this.dfa=void 0,j.seek(le),j.release(Z)}}getStartState(j,z,G,H){if(!H)if(j.isPrecedenceDfa){let Z=j.getPrecedenceStartState(this._parser.precedence,!1);return Z==null?void 0:new Me.SimulatorState(G,Z,!1,G)}else return j.s0==null?void 0:new Me.SimulatorState(G,j.s0,!1,G);if(!this.enable_global_context_dfa)return;let J=G;de(G!=null);let X;for(j.isPrecedenceDfa?X=j.getPrecedenceStartState(this._parser.precedence,!0):X=j.s0full;J!=null&&X!=null&&X.isContextSensitive;)J=this.skipTailCalls(J),X=X.getContextTarget(this.getReturnState(J)),J.isEmpty?de(X==null||!X.isContextSensitive):J=J.parent;if(X!=null)return new Me.SimulatorState(G,X,H,J)}execDFA(j,z,G,H){let J=H.outerContext;kt.dfa_debug&&console.log("DFA decision "+j.decision+" exec LA(1)=="+this.getLookaheadName(z)+", outerContext="+J.toString(this._parser)),kt.dfa_debug&&console.log(j.toString(this._parser.vocabulary,this._parser.ruleNames));let X=H.s0,Z=z.LA(1),le=H.remainingOuterContext;for(;;){if(kt.dfa_debug&&console.log("DFA state "+X.stateNumber+" LA(1)=="+this.getLookaheadName(z)),H.useContext)for(;X.isContextSymbol(Z);){let oe;if(le!=null&&(le=this.skipTailCalls(le),oe=X.getContextTarget(this.getReturnState(le))),oe==null){let ae=new Me.SimulatorState(H.outerContext,X,H.useContext,le);return this.execATN(j,z,G,ae)}de(le!=null),le=le.parent,X=oe}if(this.isAcceptState(X,H.useContext)){X.predicates!=null?kt.dfa_debug&&console.log("accept "+X):kt.dfa_debug&&console.log("accept; predict "+X.prediction+" in state "+X.stateNumber);break}de(!this.isAcceptState(X,H.useContext));let Se=this.getExistingTargetState(X,Z);if(Se==null){kt.dfa_debug&&Z>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(Z));let oe;if(kt.dfa_debug){let Ae=T.Interval.of(G,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(Ae)+" at DFA state "+X.stateNumber)}let ae=new Me.SimulatorState(J,X,H.useContext,le);return oe=this.execATN(j,z,G,ae),kt.dfa_debug&&console.log("back from DFA update, alt="+oe+`, dfa=
`+j.toString(this._parser.vocabulary,this._parser.ruleNames)),kt.dfa_debug&&console.log("DFA decision "+j.decision+" predicts "+oe),oe}else if(Se===g.ATNSimulator.ERROR){let oe=new Me.SimulatorState(J,X,H.useContext,le);return this.handleNoViableAlt(z,G,oe)}X=Se,!this.isAcceptState(X,H.useContext)&&Z!==_.IntStream.EOF&&(z.consume(),Z=z.LA(1))}if(!H.useContext&&X.configs.conflictInfo!=null&&j.atnStartState instanceof A.DecisionState&&!(!this.userWantsCtxSensitive||!X.configs.dipsIntoOuterContext&&X.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&z.index===G)){de(!H.useContext);let Se,oe=X.predicates;if(oe!=null){let ae=z.index;if(ae!==G&&z.seek(G),Se=this.evalSemanticContext(oe,J,!0),Se.cardinality()===1)return Se.nextSetBit(0);ae!==G&&z.seek(ae)}if(this.reportAmbiguities){let ae=new Me.SimulatorState(J,X,H.useContext,le);this.reportAttemptingFullContext(j,Se,ae,G,z.index)}return z.seek(G),this.adaptivePredict(z,j.decision,J,!0)}let xe=X.predicates;if(xe!=null){let Se=z.index;G!==Se&&z.seek(G);let oe=this.evalSemanticContext(xe,J,this.reportAmbiguities&&this.predictionMode===te.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(oe.cardinality()){case 0:throw this.noViableAlt(z,J,X.configs,G);case 1:return oe.nextSetBit(0);default:return G!==Se&&z.seek(Se),this.reportAmbiguity(j,X,G,Se,X.configs.isExactConflict,oe,X.configs),oe.nextSetBit(0)}}return kt.dfa_debug&&console.log("DFA decision "+j.decision+" predicts "+X.prediction),X.prediction}isAcceptState(j,z){return j.isAcceptState?j.configs.conflictingAlts==null?!0:z&&this.predictionMode===te.PredictionMode.LL_EXACT_AMBIG_DETECTION?j.configs.isExactConflict:!0:!1}execATN(j,z,G,H){kt.debug&&console.log("execATN decision "+j.decision+" exec LA(1)=="+this.getLookaheadName(z));let J=H.outerContext,X=H.useContext,Z=z.LA(1),le=H,xe=new W.PredictionContextCache;for(;;){let Se=this.computeReachSet(j,le,Z,xe);if(Se==null)return this.setDFAEdge(le.s0,z.LA(1),g.ATNSimulator.ERROR),this.handleNoViableAlt(z,G,le);let oe=Se.s0;if(de(oe.isAcceptState||oe.prediction===u.ATN.INVALID_ALT_NUMBER),de(oe.isAcceptState||oe.configs.conflictInfo==null),this.isAcceptState(oe,X)){let ae=oe.configs.conflictingAlts,Ae=ae==null?oe.prediction:u.ATN.INVALID_ALT_NUMBER;if(Ae!==u.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&z.index===G&&!j.isPrecedenceDfa&&Se.outerContext===Se.remainingOuterContext&&j.decision>=0&&!oe.configs.hasSemanticContext&&Z>=0&&Z<=fe){let Be=(j.decision<<16>>>0)+Z;this.atn.LL1Table.set(Be,Ae)}X&&this.always_try_local_context&&this.reportContextSensitivity(j,Ae,Se,G,z.index)}Ae=oe.prediction;let Oe=ae!=null&&this.userWantsCtxSensitive;if(Oe&&(Oe=!X&&(oe.configs.dipsIntoOuterContext||!oe.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||z.index!==G)),oe.configs.hasSemanticContext){let Be=oe.predicates;if(Be!=null){let Ge=z.index;switch(Ge!==G&&z.seek(G),ae=this.evalSemanticContext(Be,J,Oe||this.reportAmbiguities),ae.cardinality()){case 0:throw this.noViableAlt(z,J,oe.configs,G);case 1:return ae.nextSetBit(0)}Ge!==G&&z.seek(Ge)}}if(Oe){de(!X),de(this.isAcceptState(oe,!1)),kt.debug&&console.log("RETRY with outerContext="+J);let Be=this.computeStartState(j,J,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(j,ae,Se,G,z.index),z.seek(G),this.execATN(j,z,G,Be)}else return ae!=null&&(this.reportAmbiguities&&ae.cardinality()>1&&this.reportAmbiguity(j,oe,G,z.index,oe.configs.isExactConflict,ae,oe.configs),Ae=ae.nextSetBit(0)),Ae}le=Se,Z!==_.IntStream.EOF&&(z.consume(),Z=z.LA(1))}}handleNoViableAlt(j,z,G){if(G.s0!=null){let H=new x.BitSet,J=0;for(let X of G.s0.configs)(X.reachesIntoOuterContext||X.state instanceof ie.RuleStopState)&&(H.set(X.alt),J=Math.max(J,X.alt));switch(H.cardinality()){case 0:break;case 1:return H.nextSetBit(0);default:if(!G.s0.configs.hasSemanticContext)return H.nextSetBit(0);let X=new h.ATNConfigSet;for(let le of G.s0.configs)(le.reachesIntoOuterContext||le.state instanceof ie.RuleStopState)&&X.add(le);let Z=this.getPredsForAmbigAlts(H,X,J);if(Z!=null){let le=this.getPredicatePredictions(H,Z);if(le!=null){let xe=j.index;try{j.seek(z);let Se=this.evalSemanticContext(le,G.outerContext,!1);if(!Se.isEmpty)return Se.nextSetBit(0)}finally{j.seek(xe)}}}return H.nextSetBit(0)}}throw this.noViableAlt(j,G.outerContext,G.s0.configs,z)}computeReachSet(j,z,G,H){let J=z.useContext,X=z.remainingOuterContext,Z=z.s0;if(J)for(;Z.isContextSymbol(G);){let Se;if(X!=null&&(X=this.skipTailCalls(X),Se=Z.getContextTarget(this.getReturnState(X))),Se==null)break;de(X!=null),X=X.parent,Z=Se}if(de(!this.isAcceptState(Z,J)),this.isAcceptState(Z,J))return new Me.SimulatorState(z.outerContext,Z,J,X);let le=Z,xe=this.getExistingTargetState(le,G);if(xe==null){let Se=this.computeTargetState(j,le,X,G,J,H);xe=Se[0],X=Se[1]}if(xe!==g.ATNSimulator.ERROR)return de(!J||!xe.configs.dipsIntoOuterContext),new Me.SimulatorState(z.outerContext,xe,J,X)}getExistingTargetState(j,z){return j.getTarget(z)}computeTargetState(j,z,G,H,J,X){let Z=z.configs.toArray(),le,xe=new h.ATNConfigSet,Se;do{let ae=!J||G!=null;ae||(xe.isOutermostConfigSet=!0);let Ae=new h.ATNConfigSet,Oe;for(let ye of Z){if(kt.debug&&console.log("testing "+this.getTokenName(H)+" at "+ye.toString()),ye.state instanceof ie.RuleStopState){de(ye.context.isEmpty),(J&&!ye.reachesIntoOuterContext||H===_.IntStream.EOF)&&(Oe==null&&(Oe=[]),Oe.push(ye));continue}let Fe=ye.state.numberOfOptimizedTransitions;for(let Qe=0;Qe<Fe;Qe++){let yt=ye.state.getOptimizedTransition(Qe),ht=this.getReachableTarget(ye,yt,H);ht!=null&&Ae.add(ye.transform(ht,!1),X)}}if(this.optimize_unique_closure&&Oe==null&&H!==re.Token.EOF&&Ae.uniqueAlt!==u.ATN.INVALID_ALT_NUMBER){Ae.isOutermostConfigSet=xe.isOutermostConfigSet,xe=Ae;break}let Be=!1,Ge=H===re.Token.EOF;if(this.closure(Ae,xe,Be,ae,X,Ge),Se=xe.dipsIntoOuterContext,H===_.IntStream.EOF&&(xe=this.removeAllConfigsNotInRuleStopState(xe,X)),Oe!=null&&(!J||!te.PredictionMode.hasConfigInRuleStopState(xe))){de(Oe.length>0);for(let ye of Oe)xe.add(ye,X)}if(J&&Se){xe.clear(),G=G,G=this.skipTailCalls(G);let ye=this.getReturnState(G);if(le==null&&(le=new w.IntegerList),G.isEmpty?G=void 0:G=G.parent,le.add(ye),ye!==B.PredictionContext.EMPTY_FULL_STATE_KEY)for(let Fe=0;Fe<Z.length;Fe++)Z[Fe]=Z[Fe].appendContext(ye,X)}}while(J&&Se);return xe.isEmpty?(this.setDFAEdge(z,H,g.ATNSimulator.ERROR),[g.ATNSimulator.ERROR,G]):[this.addDFAEdge(j,z,H,le,xe,X),G]}removeAllConfigsNotInRuleStopState(j,z){if(te.PredictionMode.allConfigsInRuleStopStates(j))return j;let G=new h.ATNConfigSet;for(let H of j)H.state instanceof ie.RuleStopState&&G.add(H,z);return G}computeStartState(j,z,G){let H=j.isPrecedenceDfa?j.getPrecedenceStartState(this._parser.precedence,G):G?j.s0full:j.s0;if(H!=null){if(!G)return new Me.SimulatorState(z,H,G,z);H.setContextSensitive(this.atn)}j.decision;let J=j.atnStartState,X=0,Z=z,le=G?B.PredictionContext.EMPTY_FULL:B.PredictionContext.EMPTY_LOCAL,xe=new W.PredictionContextCache;if(G){if(!this.enable_global_context_dfa)for(;Z!=null;)Z.isEmpty?(X=B.PredictionContext.EMPTY_FULL_STATE_KEY,Z=void 0):(X=this.getReturnState(Z),le=le.appendSingleContext(X,xe),Z=Z.parent);for(;H!=null&&H.isContextSensitive&&Z!=null;){let oe;if(Z=this.skipTailCalls(Z),Z.isEmpty?(oe=H.getContextTarget(B.PredictionContext.EMPTY_FULL_STATE_KEY),X=B.PredictionContext.EMPTY_FULL_STATE_KEY,Z=void 0):(X=this.getReturnState(Z),oe=H.getContextTarget(X),le=le.appendSingleContext(X,xe),Z=Z.parent),oe==null)break;H=oe}}if(H!=null&&!H.isContextSensitive)return new Me.SimulatorState(z,H,G,Z);let Se=new h.ATNConfigSet;for(;;){let oe=new h.ATNConfigSet,ae=J.numberOfTransitions;for(let Fe=0;Fe<ae;Fe++){let Qe=J.transition(Fe).target;oe.add(d.ATNConfig.create(Qe,Fe+1,le))}let Ae=Z!=null;Ae||(Se.isOutermostConfigSet=!0),this.closure(oe,Se,!0,Ae,xe,!1);let Be=Se.dipsIntoOuterContext,Ge;if(G&&!this.enable_global_context_dfa){H=this.addDFAState(j,Se,xe);break}else H==null?j.isPrecedenceDfa?(Se=this.applyPrecedenceFilter(Se,z,xe),Ge=this.addDFAState(j,Se,xe),j.setPrecedenceStartState(this._parser.precedence,G,Ge)):(Ge=this.addDFAState(j,Se,xe),G?j.s0full?Ge=j.s0full:j.s0full=Ge:j.s0?Ge=j.s0:j.s0=Ge):(j.isPrecedenceDfa&&(Se=this.applyPrecedenceFilter(Se,z,xe)),Ge=this.addDFAState(j,Se,xe),H.setContextTarget(X,Ge));if(H=Ge,!G||!Be)break;Ge.setContextSensitive(this.atn),Z=Z,Se.clear(),Z=this.skipTailCalls(Z);let ye=this.getReturnState(Z);Z.isEmpty?Z=void 0:Z=Z.parent,ye!==B.PredictionContext.EMPTY_FULL_STATE_KEY&&(le=le.appendSingleContext(ye,xe)),X=ye}return new Me.SimulatorState(z,H,G,Z)}applyPrecedenceFilter(j,z,G){let H=new Map,J=new h.ATNConfigSet;for(let X of j){if(X.alt!==1)continue;let Z=X.semanticContext.evalPrecedence(this._parser,z);Z!=null&&(H.set(X.state.stateNumber,X.context),Z!==X.semanticContext?J.add(X.transform(X.state,!1,Z),G):J.add(X,G))}for(let X of j)if(X.alt!==1){if(!X.isPrecedenceFilterSuppressed){let Z=H.get(X.state.stateNumber);if(Z!=null&&Z.equals(X.context))continue}J.add(X,G)}return J}getReachableTarget(j,z,G){if(z.matches(G,0,this.atn.maxTokenType))return z.target}predicateDFAState(j,z,G){let H=this.getConflictingAltsFromConfigSet(z);if(!H)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");kt.debug&&console.log("predicateDFAState "+j);let J=this.getPredsForAmbigAlts(H,z,G),X;return J!=null&&(X=this.getPredicatePredictions(H,J),j.predicates=X),X}getPredsForAmbigAlts(j,z,G){let H=new Array(G+1),J=H.length;for(let le of z)j.get(le.alt)&&(H[le.alt]=Ce.SemanticContext.or(H[le.alt],le.semanticContext));let X=0;for(let le=0;le<J;le++)H[le]==null?H[le]=Ce.SemanticContext.NONE:H[le]!==Ce.SemanticContext.NONE&&X++;let Z=H;return X===0&&(Z=void 0),kt.debug&&console.log("getPredsForAmbigAlts result "+(Z?a.Arrays.toString(Z):"undefined")),Z}getPredicatePredictions(j,z){let G=[],H=!1;for(let J=1;J<z.length;J++){let X=z[J];de(X!=null),j!=null&&j.get(J)&&X===Ce.SemanticContext.NONE?G.push(new C.DFAState.PredPrediction(X,J)):X!==Ce.SemanticContext.NONE&&(H=!0,G.push(new C.DFAState.PredPrediction(X,J)))}if(H)return G}evalSemanticContext(j,z,G){let H=new x.BitSet;for(let J of j){if(J.pred===Ce.SemanticContext.NONE){if(H.set(J.alt),!G)break;continue}let X=this.evalSemanticContextImpl(J.pred,z,J.alt);if((kt.debug||kt.dfa_debug)&&console.log("eval pred "+J+"="+X),X&&((kt.debug||kt.dfa_debug)&&console.log("PREDICT "+J.alt),H.set(J.alt),!G))break}return H}evalSemanticContextImpl(j,z,G){return j.eval(this._parser,z)}closure(j,z,G,H,J,X){J==null&&(J=W.PredictionContextCache.UNCACHED);let Z=j,le=new s.Array2DHashSet(k.ObjectEqualityComparator.INSTANCE);for(;Z.size>0;){let xe=new h.ATNConfigSet;for(let Se of Z)this.closureImpl(Se,z,xe,le,G,H,J,0,X);Z=xe}}closureImpl(j,z,G,H,J,X,Z,le,xe){if(kt.debug&&console.log("closure("+j.toString(this._parser,!0)+")"),j.state instanceof ie.RuleStopState)if(j.context.isEmpty)if(X)kt.debug&&console.log("FALLING off rule "+this.getRuleName(j.state.ruleIndex)),j.context===B.PredictionContext.EMPTY_FULL?j=j.transform(j.state,!1,B.PredictionContext.EMPTY_LOCAL):!j.reachesIntoOuterContext&&B.PredictionContext.isEmptyLocal(j.context)&&z.add(j,Z);else{z.add(j,Z);return}else{let oe=j.context.hasEmpty,ae=j.context.size-(oe?1:0);for(let Ae=0;Ae<ae;Ae++){let Oe=j.context.getParent(Ae),Be=this.atn.states[j.context.getReturnState(Ae)],Ge=d.ATNConfig.create(Be,j.alt,Oe,j.semanticContext);Ge.outerContextDepth=j.outerContextDepth,Ge.isPrecedenceFilterSuppressed=j.isPrecedenceFilterSuppressed,de(le>K),this.closureImpl(Ge,z,G,H,J,X,Z,le-1,xe)}if(!oe||!X)return;j=j.transform(j.state,!1,B.PredictionContext.EMPTY_LOCAL)}let Se=j.state;Se.onlyHasEpsilonTransitions||(z.add(j,Z),kt.debug&&console.log("added config "+z));for(let oe=0;oe<Se.numberOfOptimizedTransitions;oe++){if(oe===0&&Se.stateType===p.ATNStateType.STAR_LOOP_ENTRY&&Se.precedenceRuleDecision&&!j.context.hasEmpty){let Be=Se,Ge=!0;for(let ye=0;ye<j.context.size;ye++)if(!Be.precedenceLoopbackStates.get(j.context.getReturnState(ye))){Ge=!1;break}if(Ge)continue}let ae=Se.getOptimizedTransition(oe),Ae=!(ae instanceof r.ActionTransition)&&J,Oe=this.getEpsilonTarget(j,ae,Ae,le===0,Z,xe);if(Oe!=null){if(ae instanceof se.RuleTransition&&G!=null&&!J){G.add(Oe,Z);continue}let Be=le;if(j.state instanceof ie.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&ae.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(Oe.isPrecedenceFilterSuppressed=!0),Oe.outerContextDepth=Oe.outerContextDepth+1,!H.add(Oe))continue;de(Be>K),Be--,kt.debug&&console.log("dips into outer ctx: "+Oe)}else if(ae instanceof se.RuleTransition)this.optimize_tail_calls&&ae.optimizedTailCall&&(!this.tail_call_preserves_sll||!B.PredictionContext.isEmptyLocal(j.context))?(de(Oe.context===j.context),Be===0&&(Be--,!this.tail_call_preserves_sll&&B.PredictionContext.isEmptyLocal(j.context)&&(Oe.outerContextDepth=Oe.outerContextDepth+1))):Be>=0&&Be++;else if(!ae.isEpsilon&&!H.add(Oe))continue;this.closureImpl(Oe,z,G,H,Ae,X,Z,Be,xe)}}}getRuleName(j){return this._parser!=null&&j>=0?this._parser.ruleNames[j]:"<rule "+j+">"}getEpsilonTarget(j,z,G,H,J,X){switch(z.serializationType){case 3:return this.ruleTransition(j,z,J);case 10:return this.precedenceTransition(j,z,G,H);case 4:return this.predTransition(j,z,G,H);case 6:return this.actionTransition(j,z);case 1:return j.transform(z.target,!1);case 5:case 2:case 7:return X&&z.matches(re.Token.EOF,0,1)?j.transform(z.target,!1):void 0;default:return}}actionTransition(j,z){return kt.debug&&console.log("ACTION edge "+z.ruleIndex+":"+z.actionIndex),j.transform(z.target,!1)}precedenceTransition(j,z,G,H){kt.debug&&(console.log("PRED (collectPredicates="+G+") "+z.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let J;if(G&&H){let X=Ce.SemanticContext.and(j.semanticContext,z.predicate);J=j.transform(z.target,!1,X)}else J=j.transform(z.target,!1);return kt.debug&&console.log("config from pred transition="+J),J}predTransition(j,z,G,H){kt.debug&&(console.log("PRED (collectPredicates="+G+") "+z.ruleIndex+":"+z.predIndex+", ctx dependent="+z.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let J;if(G&&(!z.isCtxDependent||z.isCtxDependent&&H)){let X=Ce.SemanticContext.and(j.semanticContext,z.predicate);J=j.transform(z.target,!1,X)}else J=j.transform(z.target,!1);return kt.debug&&console.log("config from pred transition="+J),J}ruleTransition(j,z,G){kt.debug&&console.log("CALL rule "+this.getRuleName(z.target.ruleIndex)+", ctx="+j.context);let H=z.followState,J;return this.optimize_tail_calls&&z.optimizedTailCall&&(!this.tail_call_preserves_sll||!B.PredictionContext.isEmptyLocal(j.context))?J=j.context:G!=null?J=G.getChild(j.context,H.stateNumber):J=j.context.getChild(H.stateNumber),j.transform(z.target,!1,J)}isConflicted(j,z){if(j.uniqueAlt!==u.ATN.INVALID_ALT_NUMBER||j.size<=1)return;let G=j.toArray();G.sort(kt.STATE_ALT_SORT_COMPARATOR);let H=!j.dipsIntoOuterContext,J=new x.BitSet,X=G[0].alt;J.set(X);let Z=G[0].state.nonStopStateNumber;for(let ae of G){let Ae=ae.state.nonStopStateNumber;if(Ae!==Z){if(ae.alt!==X)return;Z=Ae}}let le;if(H){Z=G[0].state.nonStopStateNumber,le=new x.BitSet;let ae=X;for(let Oe of G){if(Oe.state.nonStopStateNumber!==Z)break;let Be=Oe.alt;le.set(Be),ae=Be}Z=G[0].state.nonStopStateNumber;let Ae=X;for(let Oe of G){let Be=Oe.state.nonStopStateNumber,Ge=Oe.alt;if(Be!==Z){if(Ae!==ae){H=!1;break}Z=Be,Ae=X}else if(Ge!==Ae){if(Ge!==le.nextSetBit(Ae+1)){H=!1;break}Ae=Ge}}}Z=G[0].state.nonStopStateNumber;let xe=0,Se=0,oe=G[0].context;for(let ae=1;ae<G.length;ae++){let Ae=G[ae];if(Ae.alt!==X||Ae.state.nonStopStateNumber!==Z)break;Se=ae,oe=z.join(oe,G[ae].context)}for(let ae=Se+1;ae<G.length;ae++){let Ae=G[ae],Oe=Ae.state;if(J.set(Ae.alt),Oe.nonStopStateNumber!==Z){Z=Oe.nonStopStateNumber,xe=ae,Se=ae,oe=Ae.context;for(let Qe=xe+1;Qe<G.length;Qe++){let yt=G[Qe];if(yt.alt!==X||yt.state.nonStopStateNumber!==Z)break;Se=Qe,oe=z.join(oe,yt.context)}ae=Se;continue}let Be=Ae.context,Ge=Ae.alt,ye=ae;for(let Qe=ye+1;Qe<G.length;Qe++){let yt=G[Qe];if(yt.alt!==Ge||yt.state.nonStopStateNumber!==Z)break;ye=Qe,Be=z.join(Be,yt.context)}ae=ye;let Fe=z.join(oe,Be);if(!oe.equals(Fe))return;H=H&&oe.equals(Be)}return new b.ConflictInfo(J,H)}getConflictingAltsFromConfigSet(j){let z=j.conflictingAlts;return z==null&&j.uniqueAlt!==u.ATN.INVALID_ALT_NUMBER&&(z=new x.BitSet,z.set(j.uniqueAlt)),z}getTokenName(j){if(j===re.Token.EOF)return"EOF";let G=(this._parser!=null?this._parser.vocabulary:Ie.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(j);return G===String(j)?G:G+"<"+j+">"}getLookaheadName(j){return this.getTokenName(j.LA(1))}dumpDeadEndConfigs(j){console.log("dead end configs: ");let z=j.deadEndConfigs;if(z)for(let G of z){let H="no edges";if(G.state.numberOfOptimizedTransitions>0){let J=G.state.getOptimizedTransition(0);J instanceof m.AtomTransition?H="Atom "+this.getTokenName(J._label):J instanceof je.SetTransition&&(H=(J instanceof D.NotSetTransition?"~":"")+"Set "+J.set.toString())}console.log(G.toString(this._parser,!0)+":"+H)}}noViableAlt(j,z,G,H){return new L.NoViableAltException(this._parser,j,j.get(H),j.LT(1),G,z)}getUniqueAlt(j){let z=u.ATN.INVALID_ALT_NUMBER;for(let G of j)if(z===u.ATN.INVALID_ALT_NUMBER)z=G.alt;else if(G.alt!==z)return u.ATN.INVALID_ALT_NUMBER;return z}configWithAltAtStopState(j,z){for(let G of j)if(G.alt===z&&G.state instanceof ie.RuleStopState)return!0;return!1}addDFAEdge(j,z,G,H,J,X){de(H==null||H.isEmpty||j.isContextSensitive);let Z=z,le=this.addDFAState(j,J,X);if(H!=null)for(let xe of H.toArray()){if(xe===B.PredictionContext.EMPTY_FULL_STATE_KEY&&Z.configs.isOutermostConfigSet)continue;Z.setContextSensitive(this.atn),Z.setContextSymbol(G);let Se=Z.getContextTarget(xe);if(Se!=null){Z=Se;continue}Se=this.addDFAContextState(j,Z.configs,xe,X),de(xe!==B.PredictionContext.EMPTY_FULL_STATE_KEY||Se.configs.isOutermostConfigSet),Z.setContextTarget(xe,Se),Z=Se}return kt.debug&&console.log("EDGE "+Z+" -> "+le+" upon "+this.getTokenName(G)),this.setDFAEdge(Z,G,le),kt.debug&&console.log(`DFA=
`+j.toString(this._parser!=null?this._parser.vocabulary:Ie.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),le}setDFAEdge(j,z,G){j!=null&&j.setTarget(z,G)}addDFAContextState(j,z,G,H){if(G!==B.PredictionContext.EMPTY_FULL_STATE_KEY){let J=new h.ATNConfigSet;for(let X of z)J.add(X.appendContext(G,H));return this.addDFAState(j,J,H)}else return de(!z.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),z=z.clone(!0),z.isOutermostConfigSet=!0,this.addDFAState(j,z,H)}addDFAState(j,z,G){let H=this.enable_global_context_dfa||!z.isOutermostConfigSet;if(H){z.isReadOnly||z.optimizeConfigs(this);let xe=this.createDFAState(j,z),Se=j.states.get(xe);if(Se!=null)return Se}z.isReadOnly||z.conflictInfo==null&&(z.conflictInfo=this.isConflicted(z,G));let J=this.createDFAState(j,z.clone(!0)),X=this.atn.getDecisionState(j.decision),Z=this.getUniqueAlt(z);if(Z!==u.ATN.INVALID_ALT_NUMBER)J.acceptStateInfo=new n.AcceptStateInfo(Z);else if(z.conflictingAlts!=null){let xe=z.conflictingAlts;xe&&(J.acceptStateInfo=new n.AcceptStateInfo(xe.nextSetBit(0)))}if(J.isAcceptState&&z.hasSemanticContext&&this.predicateDFAState(J,z,X.numberOfTransitions),!H)return J;let le=j.addState(J);return kt.debug&&le===J&&console.log("adding new DFA state: "+J),le}createDFAState(j,z){return new C.DFAState(z)}reportAttemptingFullContext(j,z,G,H,J){if(kt.debug||kt.retry_debug){let X=T.Interval.of(H,J);console.log("reportAttemptingFullContext decision="+j.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(X))}if(this._parser!=null){let X=this._parser.getErrorListenerDispatch();X.reportAttemptingFullContext&&X.reportAttemptingFullContext(this._parser,j,H,J,z,G)}}reportContextSensitivity(j,z,G,H,J){if(kt.debug||kt.retry_debug){let X=T.Interval.of(H,J);console.log("reportContextSensitivity decision="+j.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(X))}if(this._parser!=null){let X=this._parser.getErrorListenerDispatch();X.reportContextSensitivity&&X.reportContextSensitivity(this._parser,j,H,J,z,G)}}reportAmbiguity(j,z,G,H,J,X,Z){if(kt.debug||kt.retry_debug){let le=T.Interval.of(G,H);console.log("reportAmbiguity "+X+":"+Z+", input="+this._parser.inputStream.getText(le))}if(this._parser!=null){let le=this._parser.getErrorListenerDispatch();le.reportAmbiguity&&le.reportAmbiguity(this._parser,j,G,H,J,X,Z)}}getReturnState(j){return j.isEmpty?B.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[j.invokingState].transition(0).followState.stateNumber}skipTailCalls(j){if(!this.optimize_tail_calls)return j;for(;!j.isEmpty;){let z=this.atn.states[j.invokingState];if(de(z.numberOfTransitions===1&&z.transition(0).serializationType===3),!z.transition(0).tailCall)break;j=j.parent}return j}get parser(){return this._parser}};return ne.debug=!1,ne.dfa_debug=!1,ne.retry_debug=!1,ne.STATE_ALT_SORT_COMPARATOR=(me,j)=>{let z=me.state.nonStopStateNumber-j.state.nonStopStateNumber;return z!==0||(z=me.alt-j.alt,z!==0)?z:0},e([I.NotNull],ne.prototype,"predictionMode",void 0),e([I.NotNull],ne.prototype,"getPredictionMode",null),e([t(0,I.NotNull)],ne.prototype,"setPredictionMode",null),e([I.Override],ne.prototype,"reset",null),e([t(0,I.NotNull)],ne.prototype,"adaptivePredict",null),e([t(0,I.NotNull),t(1,I.NotNull),t(2,I.NotNull)],ne.prototype,"getStartState",null),e([t(0,I.NotNull),t(1,I.NotNull),t(3,I.NotNull)],ne.prototype,"execDFA",null),e([t(0,I.NotNull),t(1,I.NotNull),t(3,I.NotNull)],ne.prototype,"execATN",null),e([t(0,I.NotNull),t(2,I.NotNull)],ne.prototype,"handleNoViableAlt",null),e([t(0,I.NotNull)],ne.prototype,"getExistingTargetState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"computeTargetState",null),e([I.NotNull,t(0,I.NotNull)],ne.prototype,"removeAllConfigsNotInRuleStopState",null),e([I.NotNull],ne.prototype,"computeStartState",null),e([I.NotNull,t(0,I.NotNull)],ne.prototype,"applyPrecedenceFilter",null),e([t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"getReachableTarget",null),e([t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"getPredsForAmbigAlts",null),e([t(0,I.NotNull)],ne.prototype,"evalSemanticContext",null),e([t(0,I.NotNull)],ne.prototype,"evalSemanticContextImpl",null),e([t(1,I.NotNull),t(4,I.Nullable)],ne.prototype,"closure",null),e([t(0,I.NotNull),t(1,I.NotNull),t(2,I.Nullable),t(3,I.NotNull),t(6,I.NotNull)],ne.prototype,"closureImpl",null),e([I.NotNull],ne.prototype,"getRuleName",null),e([t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"getEpsilonTarget",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"actionTransition",null),e([I.Nullable,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"precedenceTransition",null),e([I.Nullable,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"predTransition",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull),t(2,I.Nullable)],ne.prototype,"ruleTransition",null),e([t(0,I.NotNull)],ne.prototype,"isConflicted",null),e([I.NotNull],ne.prototype,"getTokenName",null),e([t(0,I.NotNull)],ne.prototype,"dumpDeadEndConfigs",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull),t(2,I.NotNull)],ne.prototype,"noViableAlt",null),e([t(0,I.NotNull)],ne.prototype,"getUniqueAlt",null),e([t(0,I.NotNull)],ne.prototype,"configWithAltAtStopState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull),t(4,I.NotNull)],ne.prototype,"addDFAEdge",null),e([t(0,I.Nullable),t(2,I.Nullable)],ne.prototype,"setDFAEdge",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"addDFAContextState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"addDFAState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"createDFAState",null),e([t(0,I.NotNull),t(2,I.NotNull)],ne.prototype,"reportAttemptingFullContext",null),e([t(0,I.NotNull),t(2,I.NotNull)],ne.prototype,"reportContextSensitivity",null),e([t(0,I.NotNull),t(5,I.NotNull),t(6,I.NotNull)],ne.prototype,"reportAmbiguity",null),ne=e([t(0,I.NotNull)],ne),Fl.ParserATNSimulator=ne,Fl}var bd={},dI;function mH(){if(dI)return bd;dI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bd&&bd.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(bd,"__esModule",{value:!0}),bd.PlusBlockStartState=void 0;const t=Vr(),n=NS(),r=Ve();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.PLUS_BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),bd.PlusBlockStartState=s,bd}var Sd={},hI;function yH(){if(hI)return Sd;hI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sd&&Sd.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.PlusLoopbackState=void 0;const t=Vr(),n=oh(),r=Ve();let s=class extends n.DecisionState{get stateType(){return t.ATNStateType.PLUS_LOOP_BACK}};return e([r.Override],s.prototype,"stateType",null),Sd.PlusLoopbackState=s,Sd}var jl={},pI;function vH(){if(pI)return jl;pI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jl&&jl.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=jl&&jl.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(jl,"__esModule",{value:!0}),jl.PrecedencePredicateTransition=void 0;const n=d2(),r=Ve(),s=mg();let a=class extends n.AbstractPredicateTransition{constructor(d,h){super(d),this.precedence=h}get serializationType(){return 10}get isEpsilon(){return!0}matches(d,h,g){return!1}get predicate(){return new s.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override],a.prototype,"isEpsilon",null),e([r.Override],a.prototype,"matches",null),e([r.Override],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),jl.PrecedencePredicateTransition=a,jl}var zl={},gI;function xH(){if(gI)return zl;gI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zl&&zl.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=zl&&zl.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(zl,"__esModule",{value:!0}),zl.RangeTransition=void 0;const n=ah(),r=Ve(),s=Yc();let a=class extends s.Transition{constructor(d,h,g){super(d),this.from=h,this.to=g}get serializationType(){return 2}get label(){return n.IntervalSet.of(this.from,this.to)}matches(d,h,g){return d>=this.from&&d<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override,r.NotNull],a.prototype,"label",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),zl.RangeTransition=a,zl}var Ed={},mI;function bH(){if(mI)return Ed;mI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ed&&Ed.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.RuleStartState=void 0;const t=xu(),n=Vr(),r=Ve();let s=class extends t.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return n.ATNStateType.RULE_START}};return e([r.Override],s.prototype,"stateType",null),Ed.RuleStartState=s,Ed}var Ad={},yI;function SH(){if(yI)return Ad;yI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ad&&Ad.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.StarBlockStartState=void 0;const t=Vr(),n=NS(),r=Ve();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.STAR_BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),Ad.StarBlockStartState=s,Ad}var Cd={},vI;function EH(){if(vI)return Cd;vI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cd&&Cd.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.StarLoopbackState=void 0;const t=xu(),n=Vr(),r=Ve();let s=class extends t.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return n.ATNStateType.STAR_LOOP_BACK}};return e([r.Override],s.prototype,"stateType",null),Cd.StarLoopbackState=s,Cd}var wd={},xI;function AH(){if(xI)return wd;xI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wd&&wd.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(wd,"__esModule",{value:!0}),wd.TokensStartState=void 0;const t=Vr(),n=oh(),r=Ve();let s=class extends n.DecisionState{get stateType(){return t.ATNStateType.TOKEN_START}};return e([r.Override],s.prototype,"stateType",null),wd.TokensStartState=s,wd}var O0={},bI;function CH(){if(bI)return O0;bI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(O0,"__esModule",{value:!0}),O0.UUID=void 0;const e=ur();let t=class YC{constructor(r,s,a,u){this.data=new Uint32Array(4),this.data[0]=r,this.data[1]=s,this.data[2]=a,this.data[3]=u}static fromString(r){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(r))throw new Error("Incorrectly formatted UUID");let s=r.split("-"),a=parseInt(s[0],16),u=(parseInt(s[1],16)<<16>>>0)+parseInt(s[2],16),d=(parseInt(s[3],16)<<16>>>0)+parseInt(s[4].substr(0,4),16),h=parseInt(s[4].substr(-8),16);return new YC(a,u,d,h)}hashCode(){return e.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(r){return r===this?!0:r instanceof YC?this.data[0]===r.data[0]&&this.data[1]===r.data[1]&&this.data[2]===r.data[2]&&this.data[3]===r.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};return O0.UUID=t,O0}var SI;function C2(){if(SI)return Tl;SI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Tl&&Tl.__decorate||function(Se,oe,ae,Ae){var Oe=arguments.length,Be=Oe<3?oe:Ae===null?Ae=Object.getOwnPropertyDescriptor(oe,ae):Ae,Ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(Se,oe,ae,Ae);else for(var ye=Se.length-1;ye>=0;ye--)(Ge=Se[ye])&&(Be=(Oe<3?Ge(Be):Oe>3?Ge(oe,ae,Be):Ge(oe,ae))||Be);return Oe>3&&Be&&Object.defineProperty(oe,ae,Be),Be},t=Tl&&Tl.__param||function(Se,oe){return function(ae,Ae){oe(ae,Ae,Se)}};Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.ATNDeserializer=void 0;const n=HL(),r=qc(),s=Ra(),a=$L(),u=Vr(),d=WL(),h=rH(),g=jL(),p=Kc(),m=iH(),x=NS(),b=oh(),A=BL(),C=oH(),w=ah(),T=zL(),_=sH(),I=aH(),D=lH(),L=uH(),k=cH(),U=fH(),B=dH(),W=hH(),te=JL(),ie=Ve(),se=b2(),Ce=Dy(),je=mH(),Me=yH(),re=vH(),Ie=IL(),de=xH(),fe=bH(),K=Oy(),ne=S2(),me=x2(),j=SH(),z=EH(),G=v2(),H=Ln(),J=AH(),X=CH(),Z=VL();var le;(function(Se){Se[Se.UNICODE_BMP=0]="UNICODE_BMP",Se[Se.UNICODE_SMP=1]="UNICODE_SMP"})(le||(le={}));let xe=class ct{constructor(oe){oe===void 0&&(oe=a.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=oe}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(oe,ae){let Ae=ct.SUPPORTED_UUIDS.findIndex(Oe=>Oe.equals(oe));return Ae<0?!1:ct.SUPPORTED_UUIDS.findIndex(Oe=>Oe.equals(ae))>=Ae}static getUnicodeDeserializer(oe){return oe===0?{readUnicode:(ae,Ae)=>ct.toInt(ae[Ae]),size:1}:{readUnicode:(ae,Ae)=>ct.toInt32(ae,Ae),size:2}}deserialize(oe){oe=oe.slice(0);for(let Le=1;Le<oe.length;Le++)oe[Le]=oe[Le]-2&65535;let ae=0,Ae=ct.toInt(oe[ae++]);if(Ae!==ct.SERIALIZED_VERSION){let Le=`Could not deserialize ATN with version ${Ae} (expected ${ct.SERIALIZED_VERSION}).`;throw new Error(Le)}let Oe=ct.toUUID(oe,ae);if(ae+=8,ct.SUPPORTED_UUIDS.findIndex(Le=>Le.equals(Oe))<0){let Le=`Could not deserialize ATN with UUID ${Oe} (expected ${ct.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(Le)}let Be=ct.isFeatureSupported(ct.ADDED_LEXER_ACTIONS,Oe),Ge=ct.toInt(oe[ae++]),ye=ct.toInt(oe[ae++]),Fe=new s.ATN(Ge,ye),Qe=[],yt=[],ht=ct.toInt(oe[ae++]);for(let Le=0;Le<ht;Le++){let rt=ct.toInt(oe[ae++]);if(rt===u.ATNStateType.INVALID_TYPE){Fe.addState(new T.InvalidState);continue}let mt=ct.toInt(oe[ae++]);mt===65535&&(mt=-1);let Et=this.stateFactory(rt,mt);if(rt===u.ATNStateType.LOOP_END){let Dt=ct.toInt(oe[ae++]);Qe.push([Et,Dt])}else if(Et instanceof x.BlockStartState){let Dt=ct.toInt(oe[ae++]);yt.push([Et,Dt])}Fe.addState(Et)}for(let Le of Qe)Le[0].loopBackState=Fe.states[Le[1]];for(let Le of yt)Le[0].endState=Fe.states[Le[1]];let pe=ct.toInt(oe[ae++]);for(let Le=0;Le<pe;Le++){let rt=ct.toInt(oe[ae++]);Fe.states[rt].nonGreedy=!0}let Ne=ct.toInt(oe[ae++]);for(let Le=0;Le<Ne;Le++){let rt=ct.toInt(oe[ae++]);Fe.states[rt].sll=!0}let Ye=ct.toInt(oe[ae++]);for(let Le=0;Le<Ye;Le++){let rt=ct.toInt(oe[ae++]);Fe.states[rt].isPrecedenceRule=!0}let qe=ct.toInt(oe[ae++]);Fe.grammarType===0&&(Fe.ruleToTokenType=new Int32Array(qe)),Fe.ruleToStartState=new Array(qe);for(let Le=0;Le<qe;Le++){let rt=ct.toInt(oe[ae++]),mt=Fe.states[rt];if(mt.leftFactored=ct.toInt(oe[ae++])!==0,Fe.ruleToStartState[Le]=mt,Fe.grammarType===0){let Et=ct.toInt(oe[ae++]);Et===65535&&(Et=H.Token.EOF),Fe.ruleToTokenType[Le]=Et,ct.isFeatureSupported(ct.ADDED_LEXER_ACTIONS,Oe)||ct.toInt(oe[ae++])}}Fe.ruleToStopState=new Array(qe);for(let Le of Fe.states)Le instanceof K.RuleStopState&&(Fe.ruleToStopState[Le.ruleIndex]=Le,Fe.ruleToStartState[Le.ruleIndex].stopState=Le);let tt=ct.toInt(oe[ae++]);for(let Le=0;Le<tt;Le++){let rt=ct.toInt(oe[ae++]);Fe.modeToStartState.push(Fe.states[rt])}Fe.modeToDFA=new Array(tt);for(let Le=0;Le<tt;Le++)Fe.modeToDFA[Le]=new A.DFA(Fe.modeToStartState[Le]);let ft=[];ae=this.deserializeSets(oe,ae,ft,ct.getUnicodeDeserializer(0)),ct.isFeatureSupported(ct.ADDED_UNICODE_SMP,Oe)&&(ae=this.deserializeSets(oe,ae,ft,ct.getUnicodeDeserializer(1)));let bt=ct.toInt(oe[ae++]);for(let Le=0;Le<bt;Le++){let rt=ct.toInt(oe[ae]),mt=ct.toInt(oe[ae+1]),Et=ct.toInt(oe[ae+2]),Dt=ct.toInt(oe[ae+3]),En=ct.toInt(oe[ae+4]),Fn=ct.toInt(oe[ae+5]),Kn=this.edgeFactory(Fe,Et,rt,mt,Dt,En,Fn,ft);Fe.states[rt].addTransition(Kn),ae+=6}let jt=new r.Array2DHashSet({hashCode:Le=>Le.stopState^Le.returnState^Le.outermostPrecedenceReturn,equals:(Le,rt)=>Le.stopState===rt.stopState&&Le.returnState===rt.returnState&&Le.outermostPrecedenceReturn===rt.outermostPrecedenceReturn}),Ot=[];for(let Le of Fe.states){let rt=Le.ruleIndex>=0&&Fe.ruleToStartState[Le.ruleIndex].leftFactored;for(let mt=0;mt<Le.numberOfTransitions;mt++){let Et=Le.transition(mt);if(!(Et instanceof ne.RuleTransition))continue;let Dt=Et;if(!Fe.ruleToStartState[Dt.target.ruleIndex].leftFactored&&rt)continue;let Fn=-1;Fe.ruleToStartState[Dt.target.ruleIndex].isPrecedenceRule&&Dt.precedence===0&&(Fn=Dt.target.ruleIndex);let Kn={stopState:Dt.target.ruleIndex,returnState:Dt.followState.stateNumber,outermostPrecedenceReturn:Fn};jt.add(Kn)&&Ot.push(Kn)}}for(let Le of Ot){let rt=new C.EpsilonTransition(Fe.states[Le.returnState],Le.outermostPrecedenceReturn);Fe.ruleToStopState[Le.stopState].addTransition(rt)}for(let Le of Fe.states){if(Le instanceof x.BlockStartState){if(Le.endState===void 0)throw new Error("IllegalStateException");if(Le.endState.startState!==void 0)throw new Error("IllegalStateException");Le.endState.startState=Le}if(Le instanceof Me.PlusLoopbackState){let rt=Le;for(let mt=0;mt<rt.numberOfTransitions;mt++){let Et=rt.transition(mt).target;Et instanceof je.PlusBlockStartState&&(Et.loopBackState=rt)}}else if(Le instanceof z.StarLoopbackState){let rt=Le;for(let mt=0;mt<rt.numberOfTransitions;mt++){let Et=rt.transition(mt).target;Et instanceof G.StarLoopEntryState&&(Et.loopBackState=rt)}}}let un=ct.toInt(oe[ae++]);for(let Le=1;Le<=un;Le++){let rt=ct.toInt(oe[ae++]),mt=Fe.states[rt];Fe.decisionToState.push(mt),mt.decision=Le-1}if(Fe.grammarType===0)if(Be){Fe.lexerActions=new Array(ct.toInt(oe[ae++]));for(let Le=0;Le<Fe.lexerActions.length;Le++){let rt=ct.toInt(oe[ae++]),mt=ct.toInt(oe[ae++]);mt===65535&&(mt=-1);let Et=ct.toInt(oe[ae++]);Et===65535&&(Et=-1);let Dt=this.lexerActionFactory(rt,mt,Et);Fe.lexerActions[Le]=Dt}}else{let Le=[];for(let rt of Fe.states)for(let mt=0;mt<rt.numberOfTransitions;mt++){let Et=rt.transition(mt);if(!(Et instanceof n.ActionTransition))continue;let Dt=Et.ruleIndex,En=Et.actionIndex,Fn=new I.LexerCustomAction(Dt,En);rt.setTransition(mt,new n.ActionTransition(Et.target,Dt,Le.length,!1)),Le.push(Fn)}Fe.lexerActions=Le}this.markPrecedenceDecisions(Fe),Fe.decisionToDFA=new Array(un);for(let Le=0;Le<un;Le++)Fe.decisionToDFA[Le]=new A.DFA(Fe.decisionToState[Le],Le);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(Fe),this.deserializationOptions.isGenerateRuleBypassTransitions&&Fe.grammarType===1){Fe.ruleToTokenType=new Int32Array(Fe.ruleToStartState.length);for(let Le=0;Le<Fe.ruleToStartState.length;Le++)Fe.ruleToTokenType[Le]=Fe.maxTokenType+Le+1;for(let Le=0;Le<Fe.ruleToStartState.length;Le++){let rt=new h.BasicBlockStartState;rt.ruleIndex=Le,Fe.addState(rt);let mt=new m.BlockEndState;mt.ruleIndex=Le,Fe.addState(mt),rt.endState=mt,Fe.defineDecisionState(rt),mt.startState=rt;let Et,Dt;if(Fe.ruleToStartState[Le].isPrecedenceRule){Et=void 0;for(let Fn of Fe.states){if(Fn.ruleIndex!==Le||!(Fn instanceof G.StarLoopEntryState))continue;let Kn=Fn.transition(Fn.numberOfTransitions-1).target;if(Kn instanceof te.LoopEndState&&Kn.epsilonOnlyTransitions&&Kn.transition(0).target instanceof K.RuleStopState){Et=Fn;break}}if(!Et)throw new Error("Couldn't identify final state of the precedence rule prefix section.");Dt=Et.loopBackState.transition(0)}else Et=Fe.ruleToStopState[Le];for(let Fn of Fe.states)for(let Kn=0;Kn<Fn.numberOfTransitions;Kn++){let Ur=Fn.transition(Kn);Ur!==Dt&&Ur.target===Et&&(Ur.target=mt)}for(;Fe.ruleToStartState[Le].numberOfTransitions>0;){let Fn=Fe.ruleToStartState[Le].removeTransition(Fe.ruleToStartState[Le].numberOfTransitions-1);rt.addTransition(Fn)}Fe.ruleToStartState[Le].addTransition(new C.EpsilonTransition(rt)),mt.addTransition(new C.EpsilonTransition(Et));let En=new g.BasicState;Fe.addState(En),En.addTransition(new d.AtomTransition(mt,Fe.ruleToTokenType[Le])),rt.addTransition(new C.EpsilonTransition(En))}this.deserializationOptions.isVerifyATN&&this.verifyATN(Fe)}if(this.deserializationOptions.isOptimize){for(;;){let Le=0;Le+=ct.inlineSetRules(Fe),Le+=ct.combineChainedEpsilons(Fe);let rt=Fe.grammarType===0;if(Le+=ct.optimizeSets(Fe,rt),Le===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(Fe)}return ct.identifyTailCalls(Fe),Fe}deserializeSets(oe,ae,Ae,Oe){let Be=ct.toInt(oe[ae++]);for(let Ge=0;Ge<Be;Ge++){let ye=ct.toInt(oe[ae]);ae++;let Fe=new w.IntervalSet;Ae.push(Fe),ct.toInt(oe[ae++])!==0&&Fe.add(-1);for(let yt=0;yt<ye;yt++){let ht=Oe.readUnicode(oe,ae);ae+=Oe.size;let pe=Oe.readUnicode(oe,ae);ae+=Oe.size,Fe.add(ht,pe)}}return ae}markPrecedenceDecisions(oe){let ae=new Map;for(let Ae of oe.states)if(Ae instanceof G.StarLoopEntryState&&oe.ruleToStartState[Ae.ruleIndex].isPrecedenceRule){let Oe=Ae.transition(Ae.numberOfTransitions-1).target;Oe instanceof te.LoopEndState&&Oe.epsilonOnlyTransitions&&Oe.transition(0).target instanceof K.RuleStopState&&(ae.set(Ae.ruleIndex,Ae),Ae.precedenceRuleDecision=!0,Ae.precedenceLoopbackStates=new p.BitSet(oe.states.length))}for(let Ae of ae)for(let Oe of oe.ruleToStopState[Ae[0]].getTransitions())Oe.serializationType!==1||Oe.outermostPrecedenceReturn!==-1||Ae[1].precedenceLoopbackStates.set(Oe.target.stateNumber)}verifyATN(oe){for(let ae of oe.states)if(this.checkCondition(ae!==void 0,"ATN states should not be undefined."),ae.stateType!==u.ATNStateType.INVALID_TYPE){if(this.checkCondition(ae.onlyHasEpsilonTransitions||ae.numberOfTransitions<=1),ae instanceof je.PlusBlockStartState&&this.checkCondition(ae.loopBackState!==void 0),ae instanceof G.StarLoopEntryState){let Ae=ae;if(this.checkCondition(Ae.loopBackState!==void 0),this.checkCondition(Ae.numberOfTransitions===2),Ae.transition(0).target instanceof j.StarBlockStartState)this.checkCondition(Ae.transition(1).target instanceof te.LoopEndState),this.checkCondition(!Ae.nonGreedy);else if(Ae.transition(0).target instanceof te.LoopEndState)this.checkCondition(Ae.transition(1).target instanceof j.StarBlockStartState),this.checkCondition(Ae.nonGreedy);else throw new Error("IllegalStateException")}if(ae instanceof z.StarLoopbackState&&(this.checkCondition(ae.numberOfTransitions===1),this.checkCondition(ae.transition(0).target instanceof G.StarLoopEntryState)),ae instanceof te.LoopEndState&&this.checkCondition(ae.loopBackState!==void 0),ae instanceof fe.RuleStartState&&this.checkCondition(ae.stopState!==void 0),ae instanceof x.BlockStartState&&this.checkCondition(ae.endState!==void 0),ae instanceof m.BlockEndState&&this.checkCondition(ae.startState!==void 0),ae instanceof b.DecisionState){let Ae=ae;this.checkCondition(Ae.numberOfTransitions<=1||Ae.decision>=0)}else this.checkCondition(ae.numberOfTransitions<=1||ae instanceof K.RuleStopState)}}checkCondition(oe,ae){if(!oe)throw new Error("IllegalStateException: "+ae)}static inlineSetRules(oe){let ae=0,Ae=new Array(oe.ruleToStartState.length);for(let Oe=0;Oe<oe.ruleToStartState.length;Oe++){let Ge=oe.ruleToStartState[Oe];for(;Ge.onlyHasEpsilonTransitions&&Ge.numberOfOptimizedTransitions===1&&Ge.getOptimizedTransition(0).serializationType===1;)Ge=Ge.getOptimizedTransition(0).target;if(Ge.numberOfOptimizedTransitions!==1)continue;let ye=Ge.getOptimizedTransition(0),Fe=ye.target;if(!(ye.isEpsilon||!Fe.onlyHasEpsilonTransitions||Fe.numberOfOptimizedTransitions!==1||!(Fe.getOptimizedTransition(0).target instanceof K.RuleStopState)))switch(ye.serializationType){case 5:case 2:case 7:Ae[Oe]=ye;break;case 8:case 9:continue;default:continue}}for(let Oe of oe.states){if(Oe.ruleIndex<0)continue;let Be;for(let Ge=0;Ge<Oe.numberOfOptimizedTransitions;Ge++){let ye=Oe.getOptimizedTransition(Ge);if(!(ye instanceof ne.RuleTransition)){Be!==void 0&&Be.push(ye);continue}let Fe=ye,Qe=Ae[Fe.target.ruleIndex];if(Qe===void 0){Be!==void 0&&Be.push(ye);continue}if(Be===void 0){Be=[];for(let pe=0;pe<Ge;pe++)Be.push(Oe.getOptimizedTransition(Ge))}ae++;let yt=Fe.followState,ht=new g.BasicState;switch(ht.setRuleIndex(yt.ruleIndex),oe.addState(ht),Be.push(new C.EpsilonTransition(ht)),Qe.serializationType){case 5:ht.addTransition(new d.AtomTransition(yt,Qe._label));break;case 2:ht.addTransition(new de.RangeTransition(yt,Qe.from,Qe.to));break;case 7:ht.addTransition(new me.SetTransition(yt,Qe.label));break;default:throw new Error("UnsupportedOperationException")}}if(Be!==void 0){if(Oe.isOptimized)for(;Oe.numberOfOptimizedTransitions>0;)Oe.removeOptimizedTransition(Oe.numberOfOptimizedTransitions-1);for(let Ge of Be)Oe.addOptimizedTransition(Ge)}}return Ce.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+ae+" rule invocations by inlining sets."),ae}static combineChainedEpsilons(oe){let ae=0;for(let Ae of oe.states){if(!Ae.onlyHasEpsilonTransitions||Ae instanceof K.RuleStopState)continue;let Oe;e:for(let Be=0;Be<Ae.numberOfOptimizedTransitions;Be++){let Ge=Ae.getOptimizedTransition(Be),ye=Ge.target;if(Ge.serializationType!==1||Ge.outermostPrecedenceReturn!==-1||ye.stateType!==u.ATNStateType.BASIC||!ye.onlyHasEpsilonTransitions){Oe!==void 0&&Oe.push(Ge);continue e}for(let Fe=0;Fe<ye.numberOfOptimizedTransitions;Fe++)if(ye.getOptimizedTransition(Fe).serializationType!==1||ye.getOptimizedTransition(Fe).outermostPrecedenceReturn!==-1){Oe!==void 0&&Oe.push(Ge);continue e}if(ae++,Oe===void 0){Oe=[];for(let Fe=0;Fe<Be;Fe++)Oe.push(Ae.getOptimizedTransition(Fe))}for(let Fe=0;Fe<ye.numberOfOptimizedTransitions;Fe++){let Qe=ye.getOptimizedTransition(Fe).target;Oe.push(new C.EpsilonTransition(Qe))}}if(Oe!==void 0){if(Ae.isOptimized)for(;Ae.numberOfOptimizedTransitions>0;)Ae.removeOptimizedTransition(Ae.numberOfOptimizedTransitions-1);for(let Be of Oe)Ae.addOptimizedTransition(Be)}}return Ce.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+ae+" transitions by combining chained epsilon transitions."),ae}static optimizeSets(oe,ae){if(ae)return 0;let Ae=0,Oe=oe.decisionToState;for(let Be of Oe){let Ge=new w.IntervalSet;for(let pe=0;pe<Be.numberOfOptimizedTransitions;pe++){let Ne=Be.getOptimizedTransition(pe);if(!(Ne instanceof C.EpsilonTransition)||Ne.target.numberOfOptimizedTransitions!==1)continue;let Ye=Ne.target.getOptimizedTransition(0);Ye.target instanceof m.BlockEndState&&(Ye instanceof se.NotSetTransition||(Ye instanceof d.AtomTransition||Ye instanceof de.RangeTransition||Ye instanceof me.SetTransition)&&Ge.add(pe))}if(Ge.size<=1)continue;let ye=[];for(let pe=0;pe<Be.numberOfOptimizedTransitions;pe++)Ge.contains(pe)||ye.push(Be.getOptimizedTransition(pe));let Fe=Be.getOptimizedTransition(Ge.minElement).target.getOptimizedTransition(0).target,Qe=new w.IntervalSet;for(let pe of Ge.intervals)for(let Ne=pe.a;Ne<=pe.b;Ne++){let Ye=Be.getOptimizedTransition(Ne).target.getOptimizedTransition(0);if(Ye instanceof se.NotSetTransition)throw new Error("Not yet implemented.");Qe.addAll(Ye.label)}let yt;if(Qe.intervals.length===1)if(Qe.size===1)yt=new d.AtomTransition(Fe,Qe.minElement);else{let pe=Qe.intervals[0];yt=new de.RangeTransition(Fe,pe.a,pe.b)}else yt=new me.SetTransition(Fe,Qe);let ht=new g.BasicState;if(ht.setRuleIndex(Be.ruleIndex),oe.addState(ht),ht.addTransition(yt),ye.push(new C.EpsilonTransition(ht)),Ae+=Be.numberOfOptimizedTransitions-ye.length,Be.isOptimized)for(;Be.numberOfOptimizedTransitions>0;)Be.removeOptimizedTransition(Be.numberOfOptimizedTransitions-1);for(let pe of ye)Be.addOptimizedTransition(pe)}return Ce.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+Ae+" paths by collapsing sets."),Ae}static identifyTailCalls(oe){for(let ae of oe.states){for(let Ae=0;Ae<ae.numberOfTransitions;Ae++){let Oe=ae.transition(Ae);Oe instanceof ne.RuleTransition&&(Oe.tailCall=this.testTailCall(oe,Oe,!1),Oe.optimizedTailCall=this.testTailCall(oe,Oe,!0))}if(ae.isOptimized)for(let Ae=0;Ae<ae.numberOfOptimizedTransitions;Ae++){let Oe=ae.getOptimizedTransition(Ae);Oe instanceof ne.RuleTransition&&(Oe.tailCall=this.testTailCall(oe,Oe,!1),Oe.optimizedTailCall=this.testTailCall(oe,Oe,!0))}}}static testTailCall(oe,ae,Ae){if(!Ae&&ae.tailCall||Ae&&ae.optimizedTailCall)return!0;let Oe=new p.BitSet(oe.states.length),Be=[];for(Be.push(ae.followState);;){let Ge=Be.pop();if(!Ge)break;if(Oe.get(Ge.stateNumber)||Ge instanceof K.RuleStopState)continue;if(!Ge.onlyHasEpsilonTransitions)return!1;let ye=Ae?Ge.numberOfOptimizedTransitions:Ge.numberOfTransitions;for(let Fe=0;Fe<ye;Fe++){let Qe=Ae?Ge.getOptimizedTransition(Fe):Ge.transition(Fe);if(Qe.serializationType!==1)return!1;Be.push(Qe.target)}}return!0}static toInt(oe){return oe}static toInt32(oe,ae){return(oe[ae]|oe[ae+1]<<16)>>>0}static toUUID(oe,ae){let Ae=ct.toInt32(oe,ae),Oe=ct.toInt32(oe,ae+2),Be=ct.toInt32(oe,ae+4),Ge=ct.toInt32(oe,ae+6);return new X.UUID(Ge,Be,Oe,Ae)}edgeFactory(oe,ae,Ae,Oe,Be,Ge,ye,Fe){let Qe=oe.states[Oe];switch(ae){case 1:return new C.EpsilonTransition(Qe);case 2:return ye!==0?new de.RangeTransition(Qe,H.Token.EOF,Ge):new de.RangeTransition(Qe,Be,Ge);case 3:return new ne.RuleTransition(oe.states[Be],Ge,ye,Qe);case 4:return new Ie.PredicateTransition(Qe,Be,Ge,ye!==0);case 10:return new re.PrecedencePredicateTransition(Qe,Be);case 5:return ye!==0?new d.AtomTransition(Qe,H.Token.EOF):new d.AtomTransition(Qe,Be);case 6:return new n.ActionTransition(Qe,Be,Ge,ye!==0);case 7:return new me.SetTransition(Qe,Fe[Be]);case 8:return new se.NotSetTransition(Qe,Fe[Be]);case 9:return new Z.WildcardTransition(Qe)}throw new Error("The specified transition type is not valid.")}stateFactory(oe,ae){let Ae;switch(oe){case u.ATNStateType.INVALID_TYPE:return new T.InvalidState;case u.ATNStateType.BASIC:Ae=new g.BasicState;break;case u.ATNStateType.RULE_START:Ae=new fe.RuleStartState;break;case u.ATNStateType.BLOCK_START:Ae=new h.BasicBlockStartState;break;case u.ATNStateType.PLUS_BLOCK_START:Ae=new je.PlusBlockStartState;break;case u.ATNStateType.STAR_BLOCK_START:Ae=new j.StarBlockStartState;break;case u.ATNStateType.TOKEN_START:Ae=new J.TokensStartState;break;case u.ATNStateType.RULE_STOP:Ae=new K.RuleStopState;break;case u.ATNStateType.BLOCK_END:Ae=new m.BlockEndState;break;case u.ATNStateType.STAR_LOOP_BACK:Ae=new z.StarLoopbackState;break;case u.ATNStateType.STAR_LOOP_ENTRY:Ae=new G.StarLoopEntryState;break;case u.ATNStateType.PLUS_LOOP_BACK:Ae=new Me.PlusLoopbackState;break;case u.ATNStateType.LOOP_END:Ae=new te.LoopEndState;break;default:let Oe=`The specified state type ${oe} is not valid.`;throw new Error(Oe)}return Ae.ruleIndex=ae,Ae}lexerActionFactory(oe,ae,Ae){switch(oe){case 0:return new _.LexerChannelAction(ae);case 1:return new I.LexerCustomAction(ae,Ae);case 2:return new D.LexerModeAction(ae);case 3:return L.LexerMoreAction.INSTANCE;case 4:return k.LexerPopModeAction.INSTANCE;case 5:return new U.LexerPushModeAction(ae);case 6:return B.LexerSkipAction.INSTANCE;case 7:return new W.LexerTypeAction(ae);default:let Oe=`The specified lexer action type ${oe} is not valid.`;throw new Error(Oe)}}};return xe.BASE_SERIALIZED_UUID=X.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),xe.ADDED_LEXER_ACTIONS=X.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),xe.ADDED_UNICODE_SMP=X.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),xe.SUPPORTED_UUIDS=[xe.BASE_SERIALIZED_UUID,xe.ADDED_LEXER_ACTIONS,xe.ADDED_UNICODE_SMP],xe.SERIALIZED_UUID=xe.ADDED_UNICODE_SMP,e([ie.NotNull],xe.prototype,"deserializationOptions",void 0),e([t(0,ie.NotNull)],xe.prototype,"deserialize",null),e([t(0,ie.NotNull)],xe.prototype,"markPrecedenceDecisions",null),e([ie.NotNull,t(0,ie.NotNull)],xe.prototype,"edgeFactory",null),Tl.ATNDeserializer=xe,Tl}var Vl={},EI;function wH(){if(EI)return Vl;EI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vl&&Vl.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g},t=Vl&&Vl.__param||function(s,a){return function(u,d){a(u,d,s)}};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.ParseInfo=void 0;const n=Ve();let r=class{constructor(a){this.atnSimulator=a}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let a=this.atnSimulator.getDecisionInfo(),u=[];for(let d=0;d<a.length;d++)a[d].LL_Fallback>0&&u.push(d);return u}getTotalTimeInPrediction(){let a=this.atnSimulator.getDecisionInfo(),u=0;for(let d of a)u+=d.timeInPrediction;return u}getTotalSLLLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),u=0;for(let d of a)u+=d.SLL_TotalLook;return u}getTotalLLLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),u=0;for(let d of a)u+=d.LL_TotalLook;return u}getTotalSLLATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),u=0;for(let d of a)u+=d.SLL_ATNTransitions;return u}getTotalLLATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),u=0;for(let d of a)u+=d.LL_ATNTransitions;return u}getTotalATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),u=0;for(let d of a)u+=d.SLL_ATNTransitions,u+=d.LL_ATNTransitions;return u}getDFASize(a){if(a)return this.atnSimulator.atn.decisionToDFA[a].states.size;{let u=0,d=this.atnSimulator.atn.decisionToDFA;for(let h=0;h<d.length;h++)u+=this.getDFASize(h);return u}}};return e([n.NotNull],r.prototype,"getDecisionInfo",null),e([n.NotNull],r.prototype,"getLLDecisions",null),r=e([t(0,n.NotNull)],r),Vl.ParseInfo=r,Vl}var Rd={},AI;function rF(){if(AI)return Rd;AI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rd&&Rd.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g};Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.ProxyParserErrorListener=void 0;const t=y2(),n=Ve();let r=class extends t.ProxyErrorListener{constructor(a){super(a)}reportAmbiguity(a,u,d,h,g,p,m){this.getDelegates().forEach(x=>{x.reportAmbiguity&&x.reportAmbiguity(a,u,d,h,g,p,m)})}reportAttemptingFullContext(a,u,d,h,g,p){this.getDelegates().forEach(m=>{m.reportAttemptingFullContext&&m.reportAttemptingFullContext(a,u,d,h,g,p)})}reportContextSensitivity(a,u,d,h,g,p){this.getDelegates().forEach(m=>{m.reportContextSensitivity&&m.reportContextSensitivity(a,u,d,h,g,p)})}};return e([n.Override],r.prototype,"reportAmbiguity",null),e([n.Override],r.prototype,"reportAttemptingFullContext",null),e([n.Override],r.prototype,"reportContextSensitivity",null),Rd.ProxyParserErrorListener=r,Rd}var Td={},kA={},BA={},Ul={},CI;function RH(){if(CI)return Ul;CI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.isSupplementaryCodePoint=Ul.isLowSurrogate=Ul.isHighSurrogate=void 0;function e(r){return r>=55296&&r<=56319}Ul.isHighSurrogate=e;function t(r){return r>=56320&&r<=57343}Ul.isLowSurrogate=t;function n(r){return r>=65536}return Ul.isSupplementaryCodePoint=n,Ul}var wI;function iF(){return wI||(wI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CodePointBuffer=void 0;const t=bi(),n=RH();class r{constructor(a,u){this.buffer=a,this._position=0,this._size=u}static withArray(a){return new r(a,a.length)}get position(){return this._position}set position(a){if(a<0||a>this._size)throw new RangeError;this._position=a}get remaining(){return this._size-this.position}get(a){return this.buffer[a]}array(){return this.buffer.slice(0,this._size)}static builder(a){return new r.Builder(a)}}e.CodePointBuffer=r,function(s){let a;(function(d){d[d.BYTE=0]="BYTE",d[d.CHAR=1]="CHAR",d[d.INT=2]="INT"})(a||(a={}));class u{constructor(h){this.type=0,this.buffer=new Uint8Array(h),this.prevHighSurrogate=-1,this.position=0}build(){return new s(this.buffer,this.position)}static roundUpToNextPowerOfTwo(h){let g=32-Math.clz32(h-1);return Math.pow(2,g)}ensureRemaining(h){switch(this.type){case 0:if(this.buffer.length-this.position<h){let g=u.roundUpToNextPowerOfTwo(this.buffer.length+h),p=new Uint8Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 1:if(this.buffer.length-this.position<h){let g=u.roundUpToNextPowerOfTwo(this.buffer.length+h),p=new Uint16Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 2:if(this.buffer.length-this.position<h){let g=u.roundUpToNextPowerOfTwo(this.buffer.length+h),p=new Int32Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break}}append(h){this.ensureRemaining(h.length),this.appendArray(h)}appendArray(h){switch(this.type){case 0:this.appendArrayByte(h);break;case 1:this.appendArrayChar(h);break;case 2:this.appendArrayInt(h);break}}appendArrayByte(h){t(this.prevHighSurrogate===-1);let g=h,p=0,m=h.length,x=this.buffer,b=this.position;for(;p<m;){let A=g[p];if(A<=255)x[b]=A;else if(h=h.subarray(p,m),this.position=b,n.isHighSurrogate(A)){this.byteToIntBuffer(h.length),this.appendArrayInt(h);return}else{this.byteToCharBuffer(h.length),this.appendArrayChar(h);return}p++,b++}this.position=b}appendArrayChar(h){t(this.prevHighSurrogate===-1);let g=h,p=0,m=h.length,x=this.buffer,b=this.position;for(;p<m;){let A=g[p];if(!n.isHighSurrogate(A))x[b]=A;else{h=h.subarray(p,m),this.position=b,this.charToIntBuffer(h.length),this.appendArrayInt(h);return}p++,b++}this.position=b}appendArrayInt(h){let g=h,p=0,m=h.length,x=this.buffer,b=this.position;for(;p<m;){let A=g[p];p++,this.prevHighSurrogate!==-1?n.isLowSurrogate(A)?(x[b]=String.fromCharCode(this.prevHighSurrogate,A).codePointAt(0),b++,this.prevHighSurrogate=-1):(x[b]=this.prevHighSurrogate,b++,n.isHighSurrogate(A)?this.prevHighSurrogate=A:(x[b]=A,b++,this.prevHighSurrogate=-1)):n.isHighSurrogate(A)?this.prevHighSurrogate=A:(x[b]=A,b++)}this.prevHighSurrogate!==-1&&(x[b]=this.prevHighSurrogate,b++),this.position=b}byteToCharBuffer(h){let g=new Uint16Array(Math.max(this.position+h,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=g}byteToIntBuffer(h){let g=new Int32Array(Math.max(this.position+h,this.buffer.length>>2));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}charToIntBuffer(h){let g=new Int32Array(Math.max(this.position+h,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}}s.Builder=u}(r=e.CodePointBuffer||(e.CodePointBuffer={}))}(BA)),BA}var Nd={},RI;function sF(){if(RI)return Nd;RI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nd&&Nd.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.CodePointCharStream=void 0;const t=bi(),n=Hc(),r=Ui(),s=Ve();let a=class oF{constructor(d,h,g,p){t(h===0),this._array=d,this._size=g,this._name=p,this._position=0}get internalStorage(){return this._array}static fromBuffer(d,h){return(h===void 0||h.length===0)&&(h=n.IntStream.UNKNOWN_SOURCE_NAME),new oF(d.array(),d.position,d.remaining,h)}consume(){if(this._size-this._position===0)throw t(this.LA(1)===n.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(d){}seek(d){this._position=d}get sourceName(){return this._name}toString(){return this.getText(r.Interval.of(0,this.size-1))}LA(d){let h;switch(Math.sign(d)){case-1:return h=this.index+d,h<0?n.IntStream.EOF:this._array[h];case 0:return 0;case 1:return h=this.index+d-1,h>=this.size?n.IntStream.EOF:this._array[h]}throw new RangeError("Not reached")}getText(d){const h=Math.min(d.a,this.size),g=Math.min(d.b-d.a+1,this.size-h);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(h,h+g))):String.fromCharCode(...Array.from(this._array.subarray(h,h+g)))}};return e([s.Override],a.prototype,"consume",null),e([s.Override],a.prototype,"index",null),e([s.Override],a.prototype,"size",null),e([s.Override],a.prototype,"mark",null),e([s.Override],a.prototype,"release",null),e([s.Override],a.prototype,"seek",null),e([s.Override],a.prototype,"sourceName",null),e([s.Override],a.prototype,"toString",null),e([s.Override],a.prototype,"LA",null),e([s.Override],a.prototype,"getText",null),Nd.CodePointCharStream=a,Nd}var TI;function w2(){return TI||(TI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CharStreams=void 0;const t=iF(),n=sF(),r=Hc();(function(s){function a(u,d){(d===void 0||d.length===0)&&(d=r.IntStream.UNKNOWN_SOURCE_NAME);let h=t.CodePointBuffer.builder(u.length),g=new Uint16Array(u.length);for(let p=0;p<u.length;p++)g[p]=u.charCodeAt(p);return h.append(g),n.CodePointCharStream.fromBuffer(h.build(),d)}s.fromString=a})(e.CharStreams||(e.CharStreams={}))}(kA)),kA}var Gl={},$l={},NI;function aF(){if(NI)return $l;NI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$l&&$l.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A},t=$l&&$l.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty($l,"__esModule",{value:!0}),$l.BufferedTokenStream=void 0;const n=bi(),r=Ny(),s=Ui(),a=Xc(),u=Ve(),d=Ln();let h=class{constructor(p){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,p==null)throw new Error("tokenSource cannot be null");this._tokenSource=p}get tokenSource(){return this._tokenSource}set tokenSource(p){this._tokenSource=p,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(p){}seek(p){this.lazyInit(),this.p=this.adjustSeekIndex(p)}get size(){return this.tokens.length}consume(){let p;if(this.p>=0?this.fetchedEOF?p=this.p<this.tokens.length-1:p=this.p<this.tokens.length:p=!1,!p&&this.LA(1)===d.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(p){n(p>=0);let m=p-this.tokens.length+1;return m>0?this.fetch(m)>=m:!0}fetch(p){if(this.fetchedEOF)return 0;for(let m=0;m<p;m++){let x=this.tokenSource.nextToken();if(this.isWritableToken(x)&&(x.tokenIndex=this.tokens.length),this.tokens.push(x),x.type===d.Token.EOF)return this.fetchedEOF=!0,m+1}return p}get(p){if(p<0||p>=this.tokens.length)throw new RangeError("token index "+p+" out of range 0.."+(this.tokens.length-1));return this.tokens[p]}getRange(p,m){if(p<0||m<0)return[];this.lazyInit();let x=new Array;m>=this.tokens.length&&(m=this.tokens.length-1);for(let b=p;b<=m;b++){let A=this.tokens[b];if(A.type===d.Token.EOF)break;x.push(A)}return x}LA(p){let m=this.LT(p);return m?m.type:d.Token.INVALID_TYPE}tryLB(p){if(!(this.p-p<0))return this.tokens[this.p-p]}LT(p){let m=this.tryLT(p);if(m===void 0)throw new RangeError("requested lookback index out of range");return m}tryLT(p){if(this.lazyInit(),p===0)throw new RangeError("0 is not a valid lookahead index");if(p<0)return this.tryLB(-p);let m=this.p+p-1;return this.sync(m),m>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[m]}adjustSeekIndex(p){return p}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(p,m,x){if(this.lazyInit(),p===void 0)return n(m===void 0&&x===void 0),this.tokens;if(m===void 0&&(m=this.tokens.length-1),p<0||m>=this.tokens.length||m<0||p>=this.tokens.length)throw new RangeError("start "+p+" or stop "+m+" not in 0.."+(this.tokens.length-1));if(p>m)return[];if(x===void 0)return this.tokens.slice(p,m+1);typeof x=="number"&&(x=new Set().add(x));let b=x,A=this.tokens.slice(p,m+1);return A=A.filter(C=>b.has(C.type)),A}nextTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;let x=this.tokens[p];for(;x.channel!==m;){if(x.type===d.Token.EOF)return p;p++,this.sync(p),x=this.tokens[p]}return p}previousTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;for(;p>=0;){let x=this.tokens[p];if(x.type===d.Token.EOF||x.channel===m)return p;p--}return p}getHiddenTokensToRight(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));let x=this.nextTokenOnChannel(p+1,a.Lexer.DEFAULT_TOKEN_CHANNEL),b,A=p+1;return x===-1?b=this.size-1:b=x,this.filterForChannel(A,b,m)}getHiddenTokensToLeft(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));if(p===0)return[];let x=this.previousTokenOnChannel(p-1,a.Lexer.DEFAULT_TOKEN_CHANNEL);if(x===p-1)return[];let b=x+1,A=p-1;return this.filterForChannel(b,A,m)}filterForChannel(p,m,x){let b=new Array;for(let A=p;A<=m;A++){let C=this.tokens[A];x===-1?C.channel!==a.Lexer.DEFAULT_TOKEN_CHANNEL&&b.push(C):C.channel===x&&b.push(C)}return b}get sourceName(){return this.tokenSource.sourceName}getText(p){p===void 0?p=s.Interval.of(0,this.size-1):p instanceof s.Interval||(p=p.sourceInterval);let m=p.a,x=p.b;if(m<0||x<0)return"";this.fill(),x>=this.tokens.length&&(x=this.tokens.length-1);let b="";for(let A=m;A<=x;A++){let C=this.tokens[A];if(C.type===d.Token.EOF)break;b+=C.text}return b.toString()}getTextFromRange(p,m){return this.isToken(p)&&this.isToken(m)?this.getText(s.Interval.of(p.tokenIndex,m.tokenIndex)):""}fill(){this.lazyInit();const p=1e3;for(;;)if(this.fetch(p)<p)return}isWritableToken(p){return p instanceof r.CommonToken}isToken(p){return p instanceof r.CommonToken}};return e([u.NotNull],h.prototype,"_tokenSource",void 0),e([u.Override],h.prototype,"tokenSource",null),e([u.Override],h.prototype,"index",null),e([u.Override],h.prototype,"mark",null),e([u.Override],h.prototype,"release",null),e([u.Override],h.prototype,"seek",null),e([u.Override],h.prototype,"size",null),e([u.Override],h.prototype,"consume",null),e([u.Override],h.prototype,"get",null),e([u.Override],h.prototype,"LA",null),e([u.NotNull,u.Override],h.prototype,"LT",null),e([u.Override],h.prototype,"sourceName",null),e([u.NotNull,u.Override],h.prototype,"getText",null),e([u.NotNull,u.Override],h.prototype,"getTextFromRange",null),h=e([t(0,u.NotNull)],h),$l.BufferedTokenStream=h,$l}var _I;function R2(){if(_I)return Gl;_I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gl&&Gl.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=Gl&&Gl.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.CommonTokenStream=void 0;const n=aF(),r=Ve(),s=Ln();let a=class extends n.BufferedTokenStream{constructor(d,h=s.Token.DEFAULT_CHANNEL){super(d),this.channel=h}adjustSeekIndex(d){return this.nextTokenOnChannel(d,this.channel)}tryLB(d){if(this.p-d<0)return;let h=this.p,g=1;for(;g<=d&&h>0;)h=this.previousTokenOnChannel(h-1,this.channel),g++;if(!(h<0))return this.tokens[h]}tryLT(d){if(this.lazyInit(),d===0)throw new RangeError("0 is not a valid lookahead index");if(d<0)return this.tryLB(-d);let h=this.p,g=1;for(;g<d;)this.sync(h+1)&&(h=this.nextTokenOnChannel(h+1,this.channel)),g++;return this.tokens[h]}getNumberOfOnChannelTokens(){let d=0;this.fill();for(let h of this.tokens)if(h.channel===this.channel&&d++,h.type===s.Token.EOF)break;return d}};return e([r.Override],a.prototype,"adjustSeekIndex",null),e([r.Override],a.prototype,"tryLB",null),e([r.Override],a.prototype,"tryLT",null),a=e([t(0,r.NotNull)],a),Gl.CommonTokenStream=a,Gl}var Hl={},II;function lF(){if(II)return Hl;II=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hl&&Hl.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=Hl&&Hl.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.ListTokenSource=void 0;const n=g2(),r=Ve(),s=Ln();let a=class{constructor(d,h){if(this.i=0,this._factory=n.CommonTokenFactory.DEFAULT,d==null)throw new Error("tokens cannot be null");this.tokens=d,this._sourceName=h}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let d=this.tokens[this.tokens.length-1],h=d.text;if(h!=null){let g=h.lastIndexOf(`
`);if(g>=0)return h.length-g-1}return d.charPositionInLine+d.stopIndex-d.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let h=-1;if(this.tokens.length>0){let p=this.tokens[this.tokens.length-1].stopIndex;p!==-1&&(h=p+1)}let g=Math.max(-1,h-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},s.Token.EOF,"EOF",s.Token.DEFAULT_CHANNEL,h,g,this.line,this.charPositionInLine)}return this.eofToken}let d=this.tokens[this.i];return this.i===this.tokens.length-1&&d.type===s.Token.EOF&&(this.eofToken=d),this.i++,d}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let d=this.tokens[this.tokens.length-1],h=d.line,g=d.text;if(g!=null)for(let p=0;p<g.length;p++)g.charAt(p)===`
`&&h++;return h}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let d=this.inputStream;return d!=null?d.sourceName:"List"}set tokenFactory(d){this._factory=d}get tokenFactory(){return this._factory}};return e([r.Override],a.prototype,"charPositionInLine",null),e([r.Override],a.prototype,"nextToken",null),e([r.Override],a.prototype,"line",null),e([r.Override],a.prototype,"inputStream",null),e([r.Override],a.prototype,"sourceName",null),e([r.Override,r.NotNull,t(0,r.NotNull)],a.prototype,"tokenFactory",null),a=e([t(0,r.NotNull)],a),Hl.ListTokenSource=a,Hl}var D0={},OI;function TH(){if(OI)return D0;OI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(D0,"__esModule",{value:!0}),D0.MultiMap=void 0;let e=class extends Map{constructor(){super()}map(n,r){let s=super.get(n);s||(s=[],super.set(n,s)),s.push(r)}getPairs(){let n=[];return this.forEach((r,s)=>{r.forEach(a=>{n.push([s,a])})}),n}};return D0.MultiMap=e,D0}var P0={},DI;function uF(){if(DI)return P0;DI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(P0,"__esModule",{value:!0}),P0.ParseCancellationException=void 0;let e=class extends Error{constructor(n){super(n.message),this.cause=n,this.stack=n.stack}getCause(){return this.cause}};return P0.ParseCancellationException=e,P0}var Wl={},_d={},PI;function cF(){if(PI)return _d;PI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_d&&_d.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g};Object.defineProperty(_d,"__esModule",{value:!0}),_d.InterpreterRuleContext=void 0;const t=Ve(),n=Rs();let r=class extends n.ParserRuleContext{constructor(a,u,d){d!==void 0?super(u,d):super(),this._ruleIndex=a}get ruleIndex(){return this._ruleIndex}};return e([t.Override],r.prototype,"ruleIndex",null),_d.InterpreterRuleContext=r,_d}var MI;function fF(){if(MI)return Wl;MI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wl&&Wl.__decorate||function(T,_,I,D){var L=arguments.length,k=L<3?_:D===null?D=Object.getOwnPropertyDescriptor(_,I):D,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(T,_,I,D);else for(var B=T.length-1;B>=0;B--)(U=T[B])&&(k=(L<3?U(k):L>3?U(_,I,k):U(_,I))||k);return L>3&&k&&Object.defineProperty(_,I,k),k},t=Wl&&Wl.__param||function(T,_){return function(I,D){_(I,D,T)}};Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.ParserInterpreter=void 0;const n=xu(),r=Vr(),s=Kc(),a=SS(),u=ES(),d=cF(),h=JL(),g=Ve(),p=Ve(),m=My(),x=Dy(),b=Wc(),A=v2(),C=Ln();let w=class qC extends m.Parser{constructor(_,I,D,L,k){if(super(_ instanceof qC?_.inputStream:k),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,_ instanceof qC){let U=_;this._grammarFileName=U._grammarFileName,this._atn=U._atn,this.pushRecursionContextStates=U.pushRecursionContextStates,this._ruleNames=U._ruleNames,this._vocabulary=U._vocabulary,this.interpreter=new x.ParserATNSimulator(this._atn,this)}else{I=I,D=D,L=L,this._grammarFileName=_,this._atn=L,this._ruleNames=D.slice(0),this._vocabulary=I,this.pushRecursionContextStates=new s.BitSet(L.states.length);for(let U of L.states)U instanceof A.StarLoopEntryState&&U.precedenceRuleDecision&&this.pushRecursionContextStates.set(U.stateNumber);this.interpreter=new x.ParserATNSimulator(L,this)}}reset(_){_===void 0?super.reset():super.reset(_),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(_){let I=this._atn.ruleToStartState[_];for(this._rootContext=this.createInterpreterRuleContext(void 0,n.ATNState.INVALID_STATE_NUMBER,_),I.isPrecedenceRule?this.enterRecursionRule(this._rootContext,I.stateNumber,_,0):this.enterRule(this._rootContext,I.stateNumber,_);;){let D=this.atnState;switch(D.stateType){case r.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(I.isPrecedenceRule){let L=this._ctx,k=this._parentContextStack.pop();return this.unrollRecursionContexts(k[0]),L}else return this.exitRule(),this._rootContext;this.visitRuleStopState(D);break;default:try{this.visitState(D)}catch(L){if(L instanceof b.RecognitionException)this.state=this._atn.ruleToStopState[D.ruleIndex].stateNumber,this.context.exception=L,this.errorHandler.reportError(this,L),this.recover(L);else throw L}break}}}enterRecursionRule(_,I,D,L){this._parentContextStack.push([this._ctx,_.invokingState]),super.enterRecursionRule(_,I,D,L)}get atnState(){return this._atn.states[this.state]}visitState(_){let I=1;_.numberOfTransitions>1&&(I=this.visitDecisionState(_));let D=_.transition(I-1);switch(D.serializationType){case 1:if(this.pushRecursionContextStates.get(_.stateNumber)&&!(D.target instanceof h.LoopEndState)){let te=this._parentContextStack[this._parentContextStack.length-1],ie=this.createInterpreterRuleContext(te[0],te[1],this._ctx.ruleIndex);this.pushNewRecursionContext(ie,this._atn.ruleToStartState[_.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(D._label);break;case 2:case 7:case 8:D.matches(this._input.LA(1),C.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let L=D.target,k=L.ruleIndex,U=this.createInterpreterRuleContext(this._ctx,_.stateNumber,k);L.isPrecedenceRule?this.enterRecursionRule(U,L.stateNumber,k,D.precedence):this.enterRule(U,D.target.stateNumber,k);break;case 4:let B=D;if(!this.sempred(this._ctx,B.ruleIndex,B.predIndex))throw new a.FailedPredicateException(this);break;case 6:let W=D;this.action(this._ctx,W.ruleIndex,W.actionIndex);break;case 10:if(!this.precpred(this._ctx,D.precedence)){let te=D.precedence;throw new a.FailedPredicateException(this,`precpred(_ctx, ${te})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=D.target.stateNumber}visitDecisionState(_){let I;this.errorHandler.sync(this);let D=_.decision;return D===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(I=this.overrideDecisionAlt,this.overrideDecisionReached=!0):I=this.interpreter.adaptivePredict(this._input,D,this._ctx),I}createInterpreterRuleContext(_,I,D){return new d.InterpreterRuleContext(D,_,I)}visitRuleStopState(_){if(this._atn.ruleToStartState[_.ruleIndex].isPrecedenceRule){let L=this._parentContextStack.pop();this.unrollRecursionContexts(L[0]),this.state=L[1]}else this.exitRule();let D=this._atn.states[this.state].transition(0);this.state=D.followState.stateNumber}addDecisionOverride(_,I,D){this.overrideDecision=_,this.overrideDecisionInputIndex=I,this.overrideDecisionAlt=D}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(_){let I=this._input.index;if(this.errorHandler.recover(this,_),this._input.index===I){let D=_.getOffendingToken();if(!D)throw new Error("Expected exception to have an offending token");let L=D.tokenSource,k=L!==void 0?L.inputStream:void 0,U={source:L,stream:k};if(_ instanceof u.InputMismatchException){let B=_.expectedTokens;if(B===void 0)throw new Error("Expected the exception to provide expected tokens");let W=C.Token.INVALID_TYPE;B.isNil||(W=B.minElement);let te=this.tokenFactory.create(U,W,D.text,C.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,te))}else{D.tokenSource;let B=this.tokenFactory.create(U,C.Token.INVALID_TYPE,D.text,C.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,B))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};return e([g.NotNull],w.prototype,"_vocabulary",void 0),e([p.Override],w.prototype,"reset",null),e([p.Override],w.prototype,"atn",null),e([p.Override],w.prototype,"vocabulary",null),e([p.Override],w.prototype,"ruleNames",null),e([p.Override],w.prototype,"grammarFileName",null),e([p.Override],w.prototype,"enterRecursionRule",null),w=e([t(1,g.NotNull)],w),Wl.ParserInterpreter=w,Wl}var Yl={},LI;function NH(){if(LI)return Yl;LI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yl&&Yl.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g},t=Yl&&Yl.__param||function(s,a){return function(u,d){a(u,d,s)}};Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.ParseTreeMatch=void 0;const n=Ve();let r=class{constructor(a,u,d,h){if(!a)throw new Error("tree cannot be null");if(!u)throw new Error("pattern cannot be null");if(!d)throw new Error("labels cannot be null");this._tree=a,this._pattern=u,this._labels=d,this._mismatchedNode=h}get(a){let u=this._labels.get(a);if(!(!u||u.length===0))return u[u.length-1]}getAll(a){const u=this._labels.get(a);return u||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};return e([n.NotNull,t(0,n.NotNull)],r.prototype,"getAll",null),e([n.NotNull],r.prototype,"labels",null),e([n.NotNull],r.prototype,"pattern",null),e([n.NotNull],r.prototype,"tree",null),e([n.Override],r.prototype,"toString",null),r=e([t(0,n.NotNull),t(1,n.NotNull),t(2,n.NotNull)],r),Yl.ParseTreeMatch=r,Yl}var ql={},M0={},L0={},FI;function _H(){if(FI)return L0;FI=1,Object.defineProperty(L0,"__esModule",{value:!0}),L0.XPathLexer=void 0;const e=C2(),t=Xc(),n=TS(),r=sh(),s=bu();let a=class ro extends t.Lexer{constructor(d){super(d),this._interp=new n.LexerATNSimulator(ro._ATN,this)}get vocabulary(){return ro.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return ro.ruleNames}get serializedATN(){return ro._serializedATN}get channelNames(){return ro.channelNames}get modeNames(){return ro.modeNames}action(d,h,g){switch(h){case 4:this.ID_action(d,g);break}}ID_action(d,h){switch(h){case 0:let g=this.text;g.charAt(0)===g.charAt(0).toUpperCase()?this.type=ro.TOKEN_REF:this.type=ro.RULE_REF;break}}static get _ATN(){return ro.__ATN||(ro.__ATN=new e.ATNDeserializer().deserialize(s.toCharArray(ro._serializedATN))),ro.__ATN}};return L0.XPathLexer=a,a.TOKEN_REF=1,a.RULE_REF=2,a.ANYWHERE=3,a.ROOT=4,a.WILDCARD=5,a.BANG=6,a.ID=7,a.STRING=8,a.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],a.modeNames=["DEFAULT_MODE"],a.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],a._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],a._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],a.VOCABULARY=new r.VocabularyImpl(a._LITERAL_NAMES,a._SYMBOLIC_NAMES,[]),a._serializedATNSegments=2,a._serializedATNSegment0=`
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r

2;C\\aac|\r(*<>?AOR_\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1"C\\c|\r(*<>?AOR_`,a._serializedATNSegment1=`1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`,a._serializedATN=s.join([a._serializedATNSegment0,a._serializedATNSegment1],""),L0}var Id={},kI;function IH(){if(kI)return Id;kI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Id&&Id.__decorate||function(r,s,a,u){var d=arguments.length,h=d<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,a):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(r,s,a,u);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(h=(d<3?g(h):d>3?g(s,a,h):g(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h};Object.defineProperty(Id,"__esModule",{value:!0}),Id.XPathLexerErrorListener=void 0;const t=Ve();let n=class{syntaxError(s,a,u,d,h,g){}};return e([t.Override],n.prototype,"syntaxError",null),Id.XPathLexerErrorListener=n,Id}var Od={},Dd={},BI;function xg(){if(BI)return Dd;BI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dd&&Dd.__decorate||function(r,s,a,u){var d=arguments.length,h=d<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,a):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(r,s,a,u);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(h=(d<3?g(h):d>3?g(s,a,h):g(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.XPathElement=void 0;const t=Ve();let n=class{constructor(s){this.nodeName=s,this.invert=!1}toString(){let s=this.invert?"!":"";return Object.constructor.name+"["+s+this.nodeName+"]"}};return e([t.Override],n.prototype,"toString",null),Dd.XPathElement=n,Dd}var jI;function OH(){if(jI)return Od;jI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Od&&Od.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(Od,"__esModule",{value:!0}),Od.XPathRuleAnywhereElement=void 0;const t=Ve(),n=lh(),r=xg();let s=class extends r.XPathElement{constructor(u,d){super(u),this.ruleIndex=d}evaluate(u){return n.Trees.findAllRuleNodes(u,this.ruleIndex)}};return e([t.Override],s.prototype,"evaluate",null),Od.XPathRuleAnywhereElement=s,Od}var Pd={},zI;function DH(){if(zI)return Pd;zI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pd&&Pd.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.XPathRuleElement=void 0;const t=Rs(),n=Ve(),r=lh(),s=xg();let a=class extends s.XPathElement{constructor(d,h){super(d),this.ruleIndex=h}evaluate(d){let h=[];for(let g of r.Trees.getChildren(d))g instanceof t.ParserRuleContext&&(g.ruleIndex===this.ruleIndex&&!this.invert||g.ruleIndex!==this.ruleIndex&&this.invert)&&h.push(g);return h}};return e([n.Override],a.prototype,"evaluate",null),Pd.XPathRuleElement=a,Pd}var Md={},VI;function PH(){if(VI)return Md;VI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Md&&Md.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(Md,"__esModule",{value:!0}),Md.XPathTokenAnywhereElement=void 0;const t=Ve(),n=lh(),r=xg();let s=class extends r.XPathElement{constructor(u,d){super(u),this.tokenType=d}evaluate(u){return n.Trees.findAllTokenNodes(u,this.tokenType)}};return e([t.Override],s.prototype,"evaluate",null),Md.XPathTokenAnywhereElement=s,Md}var Ld={},UI;function MH(){if(UI)return Ld;UI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ld&&Ld.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.XPathTokenElement=void 0;const t=Ve(),n=vg(),r=lh(),s=xg();let a=class extends s.XPathElement{constructor(d,h){super(d),this.tokenType=h}evaluate(d){let h=[];for(let g of r.Trees.getChildren(d))g instanceof n.TerminalNode&&(g.symbol.type===this.tokenType&&!this.invert||g.symbol.type!==this.tokenType&&this.invert)&&h.push(g);return h}};return e([t.Override],a.prototype,"evaluate",null),Ld.XPathTokenElement=a,Ld}var Fd={},GI;function LH(){if(GI)return Fd;GI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fd&&Fd.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.XPathWildcardAnywhereElement=void 0;const t=Ve(),n=lh(),r=T2(),s=xg();let a=class extends s.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(d){return this.invert?[]:n.Trees.getDescendants(d)}};return e([t.Override],a.prototype,"evaluate",null),Fd.XPathWildcardAnywhereElement=a,Fd}var kd={},$I;function FH(){if($I)return kd;$I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kd&&kd.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(kd,"__esModule",{value:!0}),kd.XPathWildcardElement=void 0;const t=Ve(),n=lh(),r=T2(),s=xg();let a=class extends s.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(d){let h=[];if(this.invert)return h;for(let g of n.Trees.getChildren(d))h.push(g);return h}};return e([t.Override],a.prototype,"evaluate",null),kd.XPathWildcardElement=a,kd}var HI;function T2(){if(HI)return M0;HI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(M0,"__esModule",{value:!0}),M0.XPath=void 0;const e=w2(),t=R2(),n=RS(),r=Rs(),s=Ln(),a=_H(),u=IH(),d=OH(),h=DH(),g=PH(),p=MH(),m=LH(),x=FH();let b=class dF{constructor(C,w){this.parser=C,this.path=w,this.elements=this.split(w)}split(C){let w=new a.XPathLexer(e.CharStreams.fromString(C));w.recover=k=>{throw k},w.removeErrorListeners(),w.addErrorListener(new u.XPathLexerErrorListener);let T=new t.CommonTokenStream(w);try{T.fill()}catch(k){if(k instanceof n.LexerNoViableAltException){let B="Invalid tokens or characters at index "+w.charPositionInLine+" in path '"+C+"' -- "+k.message;throw new RangeError(B)}throw k}let _=T.getTokens(),I=[],D=_.length,L=0;e:for(;L<D;){let k=_[L],U;switch(k.type){case a.XPathLexer.ROOT:case a.XPathLexer.ANYWHERE:let B=k.type===a.XPathLexer.ANYWHERE;L++,U=_[L];let W=U.type===a.XPathLexer.BANG;W&&(L++,U=_[L]);let te=this.getXPathElement(U,B);te.invert=W,I.push(te),L++;break;case a.XPathLexer.TOKEN_REF:case a.XPathLexer.RULE_REF:case a.XPathLexer.WILDCARD:I.push(this.getXPathElement(k,!1)),L++;break;case s.Token.EOF:break e;default:throw new Error("Unknowth path element "+k)}}return I}getXPathElement(C,w){if(C.type===s.Token.EOF)throw new Error("Missing path element at end of path");let T=C.text;if(T==null)throw new Error("Expected wordToken to have text content.");let _=this.parser.getTokenType(T),I=this.parser.getRuleIndex(T);switch(C.type){case a.XPathLexer.WILDCARD:return w?new m.XPathWildcardAnywhereElement:new x.XPathWildcardElement;case a.XPathLexer.TOKEN_REF:case a.XPathLexer.STRING:if(_===s.Token.INVALID_TYPE)throw new Error(T+" at index "+C.startIndex+" isn't a valid token name");return w?new g.XPathTokenAnywhereElement(T,_):new p.XPathTokenElement(T,_);default:if(I===-1)throw new Error(T+" at index "+C.startIndex+" isn't a valid rule name");return w?new d.XPathRuleAnywhereElement(T,I):new h.XPathRuleElement(T,I)}}static findAll(C,w,T){return new dF(T,w).evaluate(C)}evaluate(C){let w=new r.ParserRuleContext;w.addChild(C);let T=new Set([w]),_=0;for(;_<this.elements.length;){let I=new Set;for(let D of T)D.childCount>0&&this.elements[_].evaluate(D).forEach(I.add,I);_++,T=I}return T}};return M0.XPath=b,b.WILDCARD="*",b.NOT="!",M0}var WI;function kH(){if(WI)return ql;WI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ql&&ql.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=ql&&ql.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(ql,"__esModule",{value:!0}),ql.ParseTreePattern=void 0;const n=Ve(),r=T2();let s=class{constructor(u,d,h,g){this._matcher=u,this._patternRuleIndex=h,this._pattern=d,this._patternTree=g}match(u){return this._matcher.match(u,this)}matches(u){return this._matcher.match(u,this).succeeded}findAll(u,d){let h=r.XPath.findAll(u,d,this._matcher.parser),g=[];for(let p of h){let m=this.match(p);m.succeeded&&g.push(m)}return g}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};return e([n.NotNull],s.prototype,"_pattern",void 0),e([n.NotNull],s.prototype,"_patternTree",void 0),e([n.NotNull],s.prototype,"_matcher",void 0),e([n.NotNull,t(0,n.NotNull)],s.prototype,"match",null),e([t(0,n.NotNull)],s.prototype,"matches",null),e([n.NotNull,t(0,n.NotNull),t(1,n.NotNull)],s.prototype,"findAll",null),e([n.NotNull],s.prototype,"matcher",null),e([n.NotNull],s.prototype,"pattern",null),e([n.NotNull],s.prototype,"patternTree",null),s=e([t(0,n.NotNull),t(1,n.NotNull),t(3,n.NotNull)],s),ql.ParseTreePattern=s,ql}var Kl={},YI;function BH(){if(YI)return Kl;YI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kl&&Kl.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Kl&&Kl.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.RuleTagToken=void 0;const n=Ve(),r=Ln();let s=class{constructor(u,d,h){if(u==null||u.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=u,this.bypassTokenType=d,this._label=h}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return r.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};return e([n.NotNull],s.prototype,"ruleName",null),e([n.Override],s.prototype,"channel",null),e([n.Override],s.prototype,"text",null),e([n.Override],s.prototype,"type",null),e([n.Override],s.prototype,"line",null),e([n.Override],s.prototype,"charPositionInLine",null),e([n.Override],s.prototype,"tokenIndex",null),e([n.Override],s.prototype,"startIndex",null),e([n.Override],s.prototype,"stopIndex",null),e([n.Override],s.prototype,"tokenSource",null),e([n.Override],s.prototype,"inputStream",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),Kl.RuleTagToken=s,Kl}var Bd={},F0={},qI;function hF(){if(qI)return F0;qI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(F0,"__esModule",{value:!0}),F0.Chunk=void 0;let e=class{};return F0.Chunk=e,F0}var KI;function jH(){if(KI)return Bd;KI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bd&&Bd.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g};Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.TagChunk=void 0;const t=hF(),n=Ve();let r=class extends t.Chunk{constructor(a,u){if(super(),a==null||a.length===0)throw new Error("tag cannot be null or empty");this._tag=a,this._label=u}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};return e([n.NotNull],r.prototype,"tag",null),e([n.Override],r.prototype,"toString",null),Bd.TagChunk=r,Bd}var Xl={},XI;function zH(){if(XI)return Xl;XI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xl&&Xl.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Xl&&Xl.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.TextChunk=void 0;const n=hF(),r=Ve();let s=class extends n.Chunk{constructor(u){if(super(),u==null)throw new Error("text cannot be null");this._text=u}get text(){return this._text}toString(){return"'"+this._text+"'"}};return e([r.NotNull],s.prototype,"_text",void 0),e([r.NotNull],s.prototype,"text",null),e([r.Override],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),Xl.TextChunk=s,Xl}var Zl={},ZI;function VH(){if(ZI)return Zl;ZI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zl&&Zl.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Zl&&Zl.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.TokenTagToken=void 0;const n=Ny(),r=Ve();let s=class extends n.CommonToken{constructor(u,d,h){super(d),this._tokenName=u,this._label=h}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};return e([r.NotNull],s.prototype,"_tokenName",void 0),e([r.NotNull],s.prototype,"tokenName",null),e([r.Override],s.prototype,"text",null),e([r.Override],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),Zl.TokenTagToken=s,Zl}var JI;function UH(){return JI||(JI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Td&&Td.__decorate||function(U,B,W,te){var ie=arguments.length,se=ie<3?B:te===null?te=Object.getOwnPropertyDescriptor(B,W):te,Ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(U,B,W,te);else for(var je=U.length-1;je>=0;je--)(Ce=U[je])&&(se=(ie<3?Ce(se):ie>3?Ce(B,W,se):Ce(B,W))||se);return ie>3&&se&&Object.defineProperty(B,W,se),se},n=Td&&Td.__param||function(U,B){return function(W,te){B(W,te,U)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreePatternMatcher=void 0;const r=pF(),s=w2(),a=R2(),u=lF(),d=TH(),h=Ve(),g=uF(),p=fF(),m=Rs(),x=NH(),b=kH(),A=Wc(),C=A2(),w=BH(),T=jH(),_=vg(),I=zH(),D=Ln(),L=VH();let k=class KC{constructor(B,W){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=B,this._parser=W}setDelimiters(B,W,te){if(!B)throw new Error("start cannot be null or empty");if(!W)throw new Error("stop cannot be null or empty");this.start=B,this.stop=W,this.escape=te,this.escapeRE=new RegExp(te.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(B,W,te=0){if(typeof W=="string"){let ie=this.compile(W,te);return this.matches(B,ie)}else{let ie=new d.MultiMap;return!this.matchImpl(B,W.patternTree,ie)}}match(B,W,te=0){if(typeof W=="string"){let ie=this.compile(W,te);return this.match(B,ie)}else{let ie=new d.MultiMap,se=this.matchImpl(B,W.patternTree,ie);return new x.ParseTreeMatch(B,W,ie,se)}}compile(B,W){let te=this.tokenize(B),ie=new u.ListTokenSource(te),se=new a.CommonTokenStream(ie);const Ce=this._parser;let je=new p.ParserInterpreter(Ce.grammarFileName,Ce.vocabulary,Ce.ruleNames,Ce.getATNWithBypassAlts(),se),Me;try{je.errorHandler=new r.BailErrorStrategy,Me=je.parse(W)}catch(re){throw re instanceof g.ParseCancellationException?re.getCause():re instanceof A.RecognitionException?re:re instanceof Error?new KC.CannotInvokeStartRule(re):re}if(se.LA(1)!==D.Token.EOF)throw new KC.StartRuleDoesNotConsumeFullPattern;return new b.ParseTreePattern(this,B,W,Me)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(B,W,te){if(!B)throw new TypeError("tree cannot be null");if(!W)throw new TypeError("patternTree cannot be null");if(B instanceof _.TerminalNode&&W instanceof _.TerminalNode){let ie;if(B.symbol.type===W.symbol.type)if(W.symbol instanceof L.TokenTagToken){let se=W.symbol;te.map(se.tokenName,B);const Ce=se.label;Ce&&te.map(Ce,B)}else B.text===W.text||ie||(ie=B);else ie||(ie=B);return ie}if(B instanceof m.ParserRuleContext&&W instanceof m.ParserRuleContext){let ie,se=this.getRuleTagToken(W);if(se){if(B.ruleContext.ruleIndex===W.ruleContext.ruleIndex){te.map(se.ruleName,B);const je=se.label;je&&te.map(je,B)}else ie||(ie=B);return ie}if(B.childCount!==W.childCount)return ie||(ie=B),ie;let Ce=B.childCount;for(let je=0;je<Ce;je++){let Me=this.matchImpl(B.getChild(je),W.getChild(je),te);if(Me)return Me}return ie}return B}getRuleTagToken(B){if(B instanceof C.RuleNode&&B.childCount===1&&B.getChild(0)instanceof _.TerminalNode){let W=B.getChild(0);if(W.symbol instanceof w.RuleTagToken)return W.symbol}}tokenize(B){let W=this.split(B),te=[];for(let ie of W)if(ie instanceof T.TagChunk){let se=ie;const Ce=se.tag.substr(0,1);if(Ce===Ce.toUpperCase()){let je=this._parser.getTokenType(se.tag);if(je===D.Token.INVALID_TYPE)throw new Error("Unknown token "+se.tag+" in pattern: "+B);let Me=new L.TokenTagToken(se.tag,je,se.label);te.push(Me)}else if(Ce===Ce.toLowerCase()){let je=this._parser.getRuleIndex(se.tag);if(je===-1)throw new Error("Unknown rule "+se.tag+" in pattern: "+B);let Me=this._parser.getATNWithBypassAlts().ruleToTokenType[je];te.push(new w.RuleTagToken(se.tag,Me,se.label))}else throw new Error("invalid tag: "+se.tag+" in pattern: "+B)}else{let se=ie;this._lexer.inputStream=s.CharStreams.fromString(se.text);let Ce=this._lexer.nextToken();for(;Ce.type!==D.Token.EOF;)te.push(Ce),Ce=this._lexer.nextToken()}return te}split(B){let W=0,te=B.length,ie=[],se=[],Ce=[];for(;W<te;)W===B.indexOf(this.escape+this.start,W)?W+=this.escape.length+this.start.length:W===B.indexOf(this.escape+this.stop,W)?W+=this.escape.length+this.stop.length:W===B.indexOf(this.start,W)?(se.push(W),W+=this.start.length):W===B.indexOf(this.stop,W)?(Ce.push(W),W+=this.stop.length):W++;if(se.length>Ce.length)throw new Error("unterminated tag in pattern: "+B);if(se.length<Ce.length)throw new Error("missing start tag in pattern: "+B);let je=se.length;for(let Me=0;Me<je;Me++)if(se[Me]>=Ce[Me])throw new Error("tag delimiters out of order in pattern: "+B);if(je===0){let Me=B.substring(0,te);ie.push(new I.TextChunk(Me))}if(je>0&&se[0]>0){let Me=B.substring(0,se[0]);ie.push(new I.TextChunk(Me))}for(let Me=0;Me<je;Me++){let re=B.substring(se[Me]+this.start.length,Ce[Me]),Ie=re,de,fe=re.indexOf(":");if(fe>=0&&(de=re.substring(0,fe),Ie=re.substring(fe+1,re.length)),ie.push(new T.TagChunk(Ie,de)),Me+1<je){let K=B.substring(Ce[Me]+this.stop.length,se[Me+1]);ie.push(new I.TextChunk(K))}}if(je>0){let Me=Ce[je-1]+this.stop.length;if(Me<te){let re=B.substring(Me,te);ie.push(new I.TextChunk(re))}}for(let Me=0;Me<ie.length;Me++){let re=ie[Me];if(re instanceof I.TextChunk){let Ie=re.text.replace(this.escapeRE,"");Ie.length<re.text.length&&(ie[Me]=new I.TextChunk(Ie))}}return ie}};t([h.NotNull,n(1,h.NotNull)],k.prototype,"match",null),t([h.NotNull],k.prototype,"lexer",null),t([h.NotNull],k.prototype,"parser",null),t([n(0,h.NotNull),n(1,h.NotNull),n(2,h.NotNull)],k.prototype,"matchImpl",null),e.ParseTreePatternMatcher=k,function(U){class B extends Error{constructor(ie){super(`CannotInvokeStartRule: ${ie}`),this.error=ie}}U.CannotInvokeStartRule=B;class W extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}U.StartRuleDoesNotConsumeFullPattern=W}(k=e.ParseTreePatternMatcher||(e.ParseTreePatternMatcher={}))}(Td)),Td}var Jl={},Ql={},eu={},QI;function Py(){if(QI)return eu;QI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=eu&&eu.__decorate||function(s,a,u,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,u):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,u,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,u,g):p(a,u))||g);return h>3&&g&&Object.defineProperty(a,u,g),g},t=eu&&eu.__param||function(s,a){return function(u,d){a(u,d,s)}};Object.defineProperty(eu,"__esModule",{value:!0}),eu.DecisionEventInfo=void 0;const n=Ve();let r=class{constructor(a,u,d,h,g,p){this.decision=a,this.fullCtx=p,this.stopIndex=g,this.input=d,this.startIndex=h,this.state=u}};return e([n.NotNull],r.prototype,"input",void 0),r=e([t(2,n.NotNull)],r),eu.DecisionEventInfo=r,eu}var eO;function GH(){if(eO)return Ql;eO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ql&&Ql.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=Ql&&Ql.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.AmbiguityInfo=void 0;const n=Py(),r=Ve();let s=class extends n.DecisionEventInfo{constructor(u,d,h,g,p,m){super(u,d,g,p,m,d.useContext),this.ambigAlts=h}get ambiguousAlternatives(){return this.ambigAlts}};return e([r.NotNull],s.prototype,"ambigAlts",void 0),e([r.NotNull],s.prototype,"ambiguousAlternatives",null),s=e([t(1,r.NotNull),t(2,r.NotNull),t(3,r.NotNull)],s),Ql.AmbiguityInfo=s,Ql}var tu={},tO;function $H(){if(tO)return tu;tO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=tu&&tu.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=tu&&tu.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(tu,"__esModule",{value:!0}),tu.ContextSensitivityInfo=void 0;const n=Py(),r=Ve();let s=class extends n.DecisionEventInfo{constructor(u,d,h,g,p){super(u,d,h,g,p,!0)}};return s=e([t(1,r.NotNull),t(2,r.NotNull)],s),tu.ContextSensitivityInfo=s,tu}var jd={},nO;function HH(){if(nO)return jd;nO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jd&&jd.__decorate||function(r,s,a,u){var d=arguments.length,h=d<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,a):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(r,s,a,u);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(h=(d<3?g(h):d>3?g(s,a,h):g(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h};Object.defineProperty(jd,"__esModule",{value:!0}),jd.DecisionInfo=void 0;const t=Ve();let n=class{constructor(s){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=s}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};return e([t.Override],n.prototype,"toString",null),jd.DecisionInfo=n,jd}var nu={},rO;function WH(){if(rO)return nu;rO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nu&&nu.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=nu&&nu.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(nu,"__esModule",{value:!0}),nu.ErrorInfo=void 0;const n=Py(),r=Ve();let s=class extends n.DecisionEventInfo{constructor(u,d,h,g,p){super(u,d,h,g,p,d.useContext)}};return s=e([t(1,r.NotNull),t(2,r.NotNull)],s),nu.ErrorInfo=s,nu}var ru={},iO;function YH(){if(iO)return ru;iO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ru&&ru.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=ru&&ru.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(ru,"__esModule",{value:!0}),ru.LookaheadEventInfo=void 0;const n=Py(),r=Ve();let s=class extends n.DecisionEventInfo{constructor(u,d,h,g,p,m,x){super(u,d,g,p,m,x),this.predictedAlt=h}};return s=e([t(3,r.NotNull)],s),ru.LookaheadEventInfo=s,ru}var iu={},oO;function qH(){if(oO)return iu;oO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=iu&&iu.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p},t=iu&&iu.__param||function(a,u){return function(d,h){u(d,h,a)}};Object.defineProperty(iu,"__esModule",{value:!0}),iu.PredicateEvalInfo=void 0;const n=Py(),r=Ve();let s=class extends n.DecisionEventInfo{constructor(u,d,h,g,p,m,x,b){super(d,u,h,g,p,u.useContext),this.semctx=m,this.evalResult=x,this.predictedAlt=b}};return s=e([t(0,r.NotNull),t(2,r.NotNull),t(5,r.NotNull)],s),iu.PredicateEvalInfo=s,iu}var sO;function aO(){if(sO)return Jl;sO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jl&&Jl.__decorate||function(C,w,T,_){var I=arguments.length,D=I<3?w:_===null?_=Object.getOwnPropertyDescriptor(w,T):_,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,T,_);else for(var k=C.length-1;k>=0;k--)(L=C[k])&&(D=(I<3?L(D):I>3?L(w,T,D):L(w,T))||D);return I>3&&D&&Object.defineProperty(w,T,D),D},t=Jl&&Jl.__param||function(C,w){return function(T,_){w(T,_,C)}};Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.ProfilingATNSimulator=void 0;const n=GH(),r=Ra(),s=wS(),a=$H(),u=HH(),d=WH(),h=Ve(),g=YH(),p=Dy(),m=qH(),x=mg(),b=nF();let A=class extends p.ParserATNSimulator{constructor(w){super(w.interpreter.atn,w),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let T=0;T<this.numDecisions;T++)this.decisions.push(new u.DecisionInfo(T))}adaptivePredict(w,T,_,I){if(I!==void 0)return super.adaptivePredict(w,T,_,I);try{this._input=w,this._startIndex=w.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=T,this.currentState=void 0,this.conflictingAltResolvedBySLL=r.ATN.INVALID_ALT_NUMBER;let D=process.hrtime(),L=super.adaptivePredict(w,T,_),k=process.hrtime(),U=(k[0]-D[0])*1e9;U===0?U=k[1]-D[1]:U+=1e9-D[1]+k[1],this.decisions[T].timeInPrediction+=U,this.decisions[T].invocations++;let B=this._sllStopIndex-this._startIndex+1;if(this.decisions[T].SLL_TotalLook+=B,this.decisions[T].SLL_MinLook=this.decisions[T].SLL_MinLook===0?B:Math.min(this.decisions[T].SLL_MinLook,B),B>this.decisions[T].SLL_MaxLook&&(this.decisions[T].SLL_MaxLook=B,this.decisions[T].SLL_MaxLookEvent=new g.LookaheadEventInfo(T,void 0,L,w,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let W=this._llStopIndex-this._startIndex+1;this.decisions[T].LL_TotalLook+=W,this.decisions[T].LL_MinLook=this.decisions[T].LL_MinLook===0?W:Math.min(this.decisions[T].LL_MinLook,W),W>this.decisions[T].LL_MaxLook&&(this.decisions[T].LL_MaxLook=W,this.decisions[T].LL_MaxLookEvent=new g.LookaheadEventInfo(T,void 0,L,w,this._startIndex,this._llStopIndex,!0))}return L}finally{this._input=void 0,this.currentDecision=-1}}getStartState(w,T,_,I){let D=super.getStartState(w,T,_,I);return this.currentState=D,D}computeStartState(w,T,_){let I=super.computeStartState(w,T,_);return this.currentState=I,I}computeReachSet(w,T,_,I){if(this._input===void 0)throw new Error("Invalid state");let D=super.computeReachSet(w,T,_,I);return D==null&&this.decisions[this.currentDecision].errors.push(new d.ErrorInfo(this.currentDecision,T,this._input,this._startIndex,this._input.index)),this.currentState=D,D}getExistingTargetState(w,T){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let _=super.getExistingTargetState(w,T);if(_!=null&&(this.currentState=new b.SimulatorState(this.currentState.outerContext,_,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,_===s.ATNSimulator.ERROR)){let I=new b.SimulatorState(this.currentState.outerContext,w,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new d.ErrorInfo(this.currentDecision,I,this._input,this._startIndex,this._input.index))}return _}computeTargetState(w,T,_,I,D,L){let k=super.computeTargetState(w,T,_,I,D,L);return D?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,k}evalSemanticContextImpl(w,T,_){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let I=super.evalSemanticContextImpl(w,T,_);if(!(w instanceof x.SemanticContext.PrecedencePredicate)){let L=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new m.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,L,w,I,_))}return I}reportContextSensitivity(w,T,_,I,D){if(this._input===void 0)throw new Error("Invalid state");T!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a.ContextSensitivityInfo(this.currentDecision,_,this._input,I,D)),super.reportContextSensitivity(w,T,_,I,D)}reportAttemptingFullContext(w,T,_,I,D){T!=null?this.conflictingAltResolvedBySLL=T.nextSetBit(0):this.conflictingAltResolvedBySLL=_.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(w,T,_,I,D)}reportAmbiguity(w,T,_,I,D,L,k){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let U;L!=null?U=L.nextSetBit(0):U=k.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==r.ATN.INVALID_ALT_NUMBER&&U!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,_,I)),this.decisions[this.currentDecision].ambiguities.push(new n.AmbiguityInfo(this.currentDecision,this.currentState,L,this._input,_,I)),super.reportAmbiguity(w,T,_,I,D,L,k)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};return e([h.Override,t(0,h.NotNull)],A.prototype,"adaptivePredict",null),e([h.Override],A.prototype,"getStartState",null),e([h.Override],A.prototype,"computeStartState",null),e([h.Override],A.prototype,"computeReachSet",null),e([h.Override],A.prototype,"getExistingTargetState",null),e([h.Override],A.prototype,"computeTargetState",null),e([h.Override],A.prototype,"evalSemanticContextImpl",null),e([h.Override],A.prototype,"reportContextSensitivity",null),e([h.Override],A.prototype,"reportAttemptingFullContext",null),e([h.Override,t(0,h.NotNull),t(5,h.NotNull),t(6,h.NotNull)],A.prototype,"reportAmbiguity",null),Jl.ProfilingATNSimulator=A,Jl}var lO;function My(){if(lO)return ds;lO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ds&&ds.__decorate||function(I,D,L,k){var U=arguments.length,B=U<3?D:k===null?k=Object.getOwnPropertyDescriptor(D,L):k,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(I,D,L,k);else for(var te=I.length-1;te>=0;te--)(W=I[te])&&(B=(U<3?W(B):U>3?W(D,L,B):W(D,L))||B);return U>3&&B&&Object.defineProperty(D,L,B),B},t=ds&&ds.__param||function(I,D){return function(L,k){D(L,k,I)}},n=ds&&ds.__awaiter||function(I,D,L,k){function U(B){return B instanceof L?B:new L(function(W){W(B)})}return new(L||(L=Promise))(function(B,W){function te(Ce){try{se(k.next(Ce))}catch(je){W(je)}}function ie(Ce){try{se(k.throw(Ce))}catch(je){W(je)}}function se(Ce){Ce.done?B(Ce.value):U(Ce.value).then(te,ie)}se((k=k.apply(I,D||[])).next())})};Object.defineProperty(ds,"__esModule",{value:!0}),ds.Parser=void 0;const r=bu(),s=$L(),a=C2(),u=N2(),d=E2(),h=DL(),g=Xc(),p=Ve(),m=wH(),x=Dy(),b=rF(),A=Iy(),C=vg(),w=Ln();class T{constructor(D,L){this.ruleNames=D,this.tokenStream=L}enterEveryRule(D){console.log("enter   "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(D){console.log("exit    "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(D){}visitTerminal(D){let L=D.parent.ruleContext,k=D.symbol;console.log("consume "+k+" rule "+this.ruleNames[L.ruleIndex])}}e([p.Override],T.prototype,"enterEveryRule",null),e([p.Override],T.prototype,"exitEveryRule",null),e([p.Override],T.prototype,"visitErrorNode",null),e([p.Override],T.prototype,"visitTerminal",null);let _=class Sb extends A.Recognizer{constructor(D){super(),this._errHandler=new u.DefaultErrorStrategy,this._precedenceStack=new h.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=D}reset(D){(D===void 0||D)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let L=this.interpreter;L!=null&&L.reset()}match(D){let L=this.currentToken;return L.type===D?(D===w.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(L=this._errHandler.recoverInline(this),this._buildParseTrees&&L.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,L))),L}matchWildcard(){let D=this.currentToken;return D.type>0?(this._errHandler.reportMatch(this),this.consume()):(D=this._errHandler.recoverInline(this),this._buildParseTrees&&D.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,D))),D}set buildParseTree(D){this._buildParseTrees=D}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(D){if(D==null)throw new TypeError("listener cannot be null");this._parseListeners.push(D)}removeParseListener(D){let L=this._parseListeners.findIndex(k=>k===D);L!==-1&&this._parseListeners.splice(L,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let D of this._parseListeners)D.enterEveryRule&&D.enterEveryRule(this._ctx),this._ctx.enterRule(D)}triggerExitRuleEvent(){for(let D=this._parseListeners.length-1;D>=0;D--){let L=this._parseListeners[D];this._ctx.exitRule(L),L.exitEveryRule&&L.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let D=this.serializedATN;if(D==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let L=Sb.bypassAltsAtnCache.get(D);if(L==null){let k=new s.ATNDeserializationOptions;k.isGenerateRuleBypassTransitions=!0,L=new a.ATNDeserializer(k).deserialize(r.toCharArray(D)),Sb.bypassAltsAtnCache.set(D,L)}return L}compileParseTreePattern(D,L,k){return n(this,void 0,void 0,function*(){if(!k){if(this.inputStream){let te=this.inputStream.tokenSource;te instanceof g.Lexer&&(k=te)}if(!k)throw new Error("Parser can't discover a lexer to use")}let U=k,B=yield Promise.resolve().then(()=>UH());return new B.ParseTreePatternMatcher(U,this).compile(D,L)})}get errorHandler(){return this._errHandler}set errorHandler(D){this._errHandler=D}get inputStream(){return this._input}set inputStream(D){this.reset(!1),this._input=D}get currentToken(){return this._input.LT(1)}notifyErrorListeners(D,L,k){L===void 0?L=this.currentToken:L===null&&(L=void 0),this._syntaxErrors++;let U=-1,B=-1;L!=null&&(U=L.line,B=L.charPositionInLine);let W=this.getErrorListenerDispatch();W.syntaxError&&W.syntaxError(this,L,U,B,D,k)}consume(){let D=this.currentToken;D.type!==Sb.EOF&&this.inputStream.consume();let L=this._parseListeners.length!==0;if(this._buildParseTrees||L)if(this._errHandler.inErrorRecoveryMode(this)){let k=this._ctx.addErrorNode(this.createErrorNode(this._ctx,D));if(L)for(let U of this._parseListeners)U.visitErrorNode&&U.visitErrorNode(k)}else{let k=this.createTerminalNode(this._ctx,D);if(this._ctx.addChild(k),L)for(let U of this._parseListeners)U.visitTerminal&&U.visitTerminal(k)}return D}createTerminalNode(D,L){return new C.TerminalNode(L)}createErrorNode(D,L){return new d.ErrorNode(L)}addContextToParseTree(){let D=this._ctx._parent;D!=null&&D.addChild(this._ctx)}enterRule(D,L,k){this.state=L,this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(D,L,k){if(this.state=L,this._buildParseTrees){let U=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),U._parent=D,D.addChild(U)}this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(D,L){if(D.altNumber=L,this._buildParseTrees&&this._ctx!==D){let k=this._ctx._parent;k!=null&&(k.removeLastChild(),k.addChild(D))}this._ctx=D}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(D,L,k,U){this.state=L,this._precedenceStack.push(U),this._ctx=D,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(D,L,k){let U=this._ctx;U._parent=D,U.invokingState=L,U._stop=this._input.tryLT(-1),this._ctx=D,this._ctx._start=U._start,this._buildParseTrees&&this._ctx.addChild(U),this.triggerEnterRuleEvent()}unrollRecursionContexts(D){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let L=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==D;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=D;L._parent=D,this._buildParseTrees&&D!=null&&D.addChild(L)}getInvokingContext(D){let L=this._ctx;for(;L&&L.ruleIndex!==D;)L=L._parent;return L}get context(){return this._ctx}set context(D){this._ctx=D}precpred(D,L){return L>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new b.ProxyParserErrorListener(this.getErrorListeners())}inContext(D){return!1}isExpectedToken(D){let L=this.interpreter.atn,k=this._ctx,U=L.states[this.state],B=L.nextTokens(U);if(B.contains(D))return!0;if(!B.contains(w.Token.EPSILON))return!1;for(;k!=null&&k.invokingState>=0&&B.contains(w.Token.EPSILON);){let te=L.states[k.invokingState].transition(0);if(B=L.nextTokens(te.followState),B.contains(D))return!0;k=k._parent}return!!(B.contains(w.Token.EPSILON)&&D===w.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let D=this.interpreter.atn,L=D.states[this.state];return D.nextTokens(L)}getRuleIndex(D){let L=this.getRuleIndexMap().get(D);return L??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(D=this._ctx){let L=D,k=this.ruleNames,U=[];for(;L!=null;){let B=L.ruleIndex;B<0?U.push("n/a"):U.push(k[B]),L=L._parent}return U}getDFAStrings(){let D=[];for(let L of this._interp.atn.decisionToDFA)D.push(L.toString(this.vocabulary,this.ruleNames));return D}dumpDFA(){let D=!1;for(let L of this._interp.atn.decisionToDFA)L.isEmpty||(D&&console.log(),console.log("Decision "+L.decision+":"),process.stdout.write(L.toString(this.vocabulary,this.ruleNames)),D=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>aO()).then(D=>{let L=this.interpreter;if(L instanceof D.ProfilingATNSimulator)return new m.ParseInfo(L)})}setProfile(D){return n(this,void 0,void 0,function*(){let L=yield Promise.resolve().then(()=>aO()),k=this.interpreter;D?k instanceof L.ProfilingATNSimulator||(this.interpreter=new L.ProfilingATNSimulator(this)):k instanceof L.ProfilingATNSimulator&&(this.interpreter=new x.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(k.getPredictionMode())})}set isTrace(D){D?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new T(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};return _.bypassAltsAtnCache=new Map,e([p.NotNull],_.prototype,"_errHandler",void 0),e([p.NotNull],_.prototype,"match",null),e([p.NotNull],_.prototype,"matchWildcard",null),e([p.NotNull],_.prototype,"getParseListeners",null),e([t(0,p.NotNull)],_.prototype,"addParseListener",null),e([p.NotNull],_.prototype,"getATNWithBypassAlts",null),e([p.NotNull,t(0,p.NotNull)],_.prototype,"errorHandler",null),e([p.Override],_.prototype,"inputStream",null),e([p.NotNull],_.prototype,"currentToken",null),e([t(0,p.NotNull)],_.prototype,"enterRule",null),e([p.Override,t(0,p.Nullable)],_.prototype,"precpred",null),e([p.Override],_.prototype,"getErrorListenerDispatch",null),e([p.NotNull],_.prototype,"getExpectedTokens",null),e([p.NotNull],_.prototype,"getExpectedTokensWithinCurrentRule",null),e([p.Override],_.prototype,"parseInfo",null),ds.Parser=_,ds}var uO;function _S(){if(uO)return ad;uO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ad&&ad.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(ad,"__esModule",{value:!0}),ad.NoViableAltException=void 0;const t=My(),n=Wc(),r=Ve();let s=class extends n.RecognitionException{constructor(u,d,h,g,p,m){u instanceof t.Parser&&(d===void 0&&(d=u.inputStream),h===void 0&&(h=u.currentToken),g===void 0&&(g=u.currentToken),m===void 0&&(m=u.context)),super(u,d,m),this._deadEndConfigs=p,this._startToken=h,this.setOffendingToken(u,g)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};return e([r.NotNull],s.prototype,"_startToken",void 0),ad.NoViableAltException=s,ad}var cO;function N2(){if(cO)return sl;cO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=sl&&sl.__decorate||function(x,b,A,C){var w=arguments.length,T=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,A):C,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,b,A,C);else for(var I=x.length-1;I>=0;I--)(_=x[I])&&(T=(w<3?_(T):w>3?_(b,A,T):_(b,A))||T);return w>3&&T&&Object.defineProperty(b,A,T),T},t=sl&&sl.__param||function(x,b){return function(A,C){b(A,C,x)}};Object.defineProperty(sl,"__esModule",{value:!0}),sl.DefaultErrorStrategy=void 0;const n=xu(),r=Vr(),s=SS(),a=ES(),u=ah(),d=_S(),h=ws(),g=Ln(),p=Ve();let m=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER}reset(b){this.endErrorCondition(b)}beginErrorCondition(b){this.errorRecoveryMode=!0}inErrorRecoveryMode(b){return this.errorRecoveryMode}endErrorCondition(b){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(b){this.endErrorCondition(b)}reportError(b,A){this.inErrorRecoveryMode(b)||(this.beginErrorCondition(b),A instanceof d.NoViableAltException?this.reportNoViableAlternative(b,A):A instanceof a.InputMismatchException?this.reportInputMismatch(b,A):A instanceof s.FailedPredicateException?this.reportFailedPredicate(b,A):(console.error(`unknown recognition error type: ${A}`),this.notifyErrorListeners(b,A.toString(),A)))}notifyErrorListeners(b,A,C){let w=C.getOffendingToken(b);w===void 0&&(w=null),b.notifyErrorListeners(A,w,C)}recover(b,A){this.lastErrorIndex===b.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(b.state)&&b.consume(),this.lastErrorIndex=b.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new u.IntervalSet),this.lastErrorStates.add(b.state);let C=this.getErrorRecoverySet(b);this.consumeUntil(b,C)}sync(b){let A=b.interpreter.atn.states[b.state];if(this.inErrorRecoveryMode(b))return;let w=b.inputStream.LA(1),T=b.atn.nextTokens(A);if(T.contains(w)){this.nextTokensContext=void 0,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER;return}if(T.contains(g.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=b.context,this.nextTokensState=b.state);return}switch(A.stateType){case r.ATNStateType.BLOCK_START:case r.ATNStateType.STAR_BLOCK_START:case r.ATNStateType.PLUS_BLOCK_START:case r.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(b))return;throw new a.InputMismatchException(b);case r.ATNStateType.PLUS_LOOP_BACK:case r.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(b);let I=b.getExpectedTokens().or(this.getErrorRecoverySet(b));this.consumeUntil(b,I);break}}reportNoViableAlternative(b,A){let C=b.inputStream,w;C?A.startToken.type===g.Token.EOF?w="<EOF>":w=C.getTextFromRange(A.startToken,A.getOffendingToken()):w="<unknown input>";let T="no viable alternative at input "+this.escapeWSAndQuote(w);this.notifyErrorListeners(b,T,A)}reportInputMismatch(b,A){let C=A.expectedTokens,w=C?C.toStringVocabulary(b.vocabulary):"",T="mismatched input "+this.getTokenErrorDisplay(A.getOffendingToken(b))+" expecting "+w;this.notifyErrorListeners(b,T,A)}reportFailedPredicate(b,A){let w="rule "+b.ruleNames[b.context.ruleIndex]+" "+A.message;this.notifyErrorListeners(b,w,A)}reportUnwantedToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let A=b.currentToken,C=this.getTokenErrorDisplay(A),w=this.getExpectedTokens(b),T="extraneous input "+C+" expecting "+w.toStringVocabulary(b.vocabulary);b.notifyErrorListeners(T,A,void 0)}reportMissingToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let A=b.currentToken,w="missing "+this.getExpectedTokens(b).toStringVocabulary(b.vocabulary)+" at "+this.getTokenErrorDisplay(A);b.notifyErrorListeners(w,A,void 0)}recoverInline(b){let A=this.singleTokenDeletion(b);if(A)return b.consume(),A;if(this.singleTokenInsertion(b))return this.getMissingSymbol(b);throw this.nextTokensContext===void 0?new a.InputMismatchException(b):new a.InputMismatchException(b,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(b){let A=b.inputStream.LA(1),w=b.interpreter.atn.states[b.state].transition(0).target,T=b.interpreter.atn;return T.nextTokens(w,h.PredictionContext.fromRuleContext(T,b.context)).contains(A)?(this.reportMissingToken(b),!0):!1}singleTokenDeletion(b){let A=b.inputStream.LA(2);if(this.getExpectedTokens(b).contains(A)){this.reportUnwantedToken(b),b.consume();let w=b.currentToken;return this.reportMatch(b),w}}getMissingSymbol(b){let A=b.currentToken,C=this.getExpectedTokens(b),w=g.Token.INVALID_TYPE;C.isNil||(w=C.minElement);let T;w===g.Token.EOF?T="<missing EOF>":T="<missing "+b.vocabulary.getDisplayName(w)+">";let _=A,I=b.inputStream.tryLT(-1);return _.type===g.Token.EOF&&I!=null&&(_=I),this.constructToken(b.inputStream.tokenSource,w,T,_)}constructToken(b,A,C,w){let T=b.tokenFactory,_=w.tokenSource,I=_?_.inputStream:void 0;return T.create({source:b,stream:I},A,C,g.Token.DEFAULT_CHANNEL,-1,-1,w.line,w.charPositionInLine)}getExpectedTokens(b){return b.getExpectedTokens()}getTokenErrorDisplay(b){if(!b)return"<no token>";let A=this.getSymbolText(b);return A||(this.getSymbolType(b)===g.Token.EOF?A="<EOF>":A=`<${this.getSymbolType(b)}>`),this.escapeWSAndQuote(A)}getSymbolText(b){return b.text}getSymbolType(b){return b.type}escapeWSAndQuote(b){return b=b.replace(`
`,"\\n"),b=b.replace("\r","\\r"),b=b.replace("	","\\t"),"'"+b+"'"}getErrorRecoverySet(b){let A=b.interpreter.atn,C=b.context,w=new u.IntervalSet;for(;C&&C.invokingState>=0;){let _=A.states[C.invokingState].transition(0),I=A.nextTokens(_.followState);w.addAll(I),C=C._parent}return w.remove(g.Token.EPSILON),w}consumeUntil(b,A){let C=b.inputStream.LA(1);for(;C!==g.Token.EOF&&!A.contains(C);)b.consume(),C=b.inputStream.LA(1)}};return e([p.Override],m.prototype,"reset",null),e([t(0,p.NotNull)],m.prototype,"beginErrorCondition",null),e([p.Override],m.prototype,"inErrorRecoveryMode",null),e([t(0,p.NotNull)],m.prototype,"endErrorCondition",null),e([p.Override],m.prototype,"reportMatch",null),e([p.Override],m.prototype,"reportError",null),e([t(0,p.NotNull)],m.prototype,"notifyErrorListeners",null),e([p.Override],m.prototype,"recover",null),e([p.Override],m.prototype,"sync",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportNoViableAlternative",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportInputMismatch",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportFailedPredicate",null),e([t(0,p.NotNull)],m.prototype,"reportUnwantedToken",null),e([t(0,p.NotNull)],m.prototype,"reportMissingToken",null),e([p.Override],m.prototype,"recoverInline",null),e([t(0,p.NotNull)],m.prototype,"singleTokenInsertion",null),e([t(0,p.NotNull)],m.prototype,"singleTokenDeletion",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getMissingSymbol",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getExpectedTokens",null),e([t(0,p.NotNull)],m.prototype,"getSymbolText",null),e([t(0,p.NotNull)],m.prototype,"getSymbolType",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"escapeWSAndQuote",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getErrorRecoverySet",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"consumeUntil",null),sl.DefaultErrorStrategy=m,sl}var fO;function pF(){if(fO)return zf;fO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zf&&zf.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(zf,"__esModule",{value:!0}),zf.BailErrorStrategy=void 0;const t=N2(),n=ES(),r=Ve(),s=uF();let a=class extends t.DefaultErrorStrategy{recover(d,h){for(let g=d.context;g;g=g.parent)g.exception=h;throw new s.ParseCancellationException(h)}recoverInline(d){let h=new n.InputMismatchException(d);for(let g=d.context;g;g=g.parent)g.exception=h;throw new s.ParseCancellationException(h)}sync(d){}};return e([r.Override],a.prototype,"recover",null),e([r.Override],a.prototype,"recoverInline",null),e([r.Override],a.prototype,"sync",null),zf.BailErrorStrategy=a,zf}var jA={},dO;function KH(){if(dO)return jA;dO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(jA,"__esModule",{value:!0}),jA}var zA={},hO;function XH(){return hO||(hO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Dependents=void 0,function(t){t[t.SELF=0]="SELF",t[t.PARENTS=1]="PARENTS",t[t.CHILDREN=2]="CHILDREN",t[t.ANCESTORS=3]="ANCESTORS",t[t.DESCENDANTS=4]="DESCENDANTS",t[t.SIBLINGS=5]="SIBLINGS",t[t.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",t[t.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",t[t.PRECEEDING=8]="PRECEEDING",t[t.FOLLOWING=9]="FOLLOWING"}(e.Dependents||(e.Dependents={}))}(zA)),zA}var ou={},pO;function ZH(){if(pO)return ou;pO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ou&&ou.__decorate||function(u,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,d,h,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=ou&&ou.__param||function(u,d){return function(h,g){d(h,g,u)}};Object.defineProperty(ou,"__esModule",{value:!0}),ou.DiagnosticErrorListener=void 0;const n=Kc(),r=Ve(),s=Ui();let a=class{constructor(d=!0){this.exactOnly=d,this.exactOnly=d}syntaxError(d,h,g,p,m,x){}reportAmbiguity(d,h,g,p,m,x,b){if(this.exactOnly&&!m)return;let A=this.getDecisionDescription(d,h),C=this.getConflictingAlts(x,b),w=d.inputStream.getText(s.Interval.of(g,p)),T=`reportAmbiguity d=${A}: ambigAlts=${C}, input='${w}'`;d.notifyErrorListeners(T)}reportAttemptingFullContext(d,h,g,p,m,x){let b=this.getDecisionDescription(d,h),A=d.inputStream.getText(s.Interval.of(g,p)),C=`reportAttemptingFullContext d=${b}, input='${A}'`;d.notifyErrorListeners(C)}reportContextSensitivity(d,h,g,p,m,x){let b=this.getDecisionDescription(d,h),A=d.inputStream.getText(s.Interval.of(g,p)),C=`reportContextSensitivity d=${b}, input='${A}'`;d.notifyErrorListeners(C)}getDecisionDescription(d,h){let g=h.decision,p=h.atnStartState.ruleIndex,m=d.ruleNames;if(p<0||p>=m.length)return g.toString();let x=m[p];return x?`${g} (${x})`:g.toString()}getConflictingAlts(d,h){if(d!=null)return d;let g=new n.BitSet;for(let p of h)g.set(p.alt);return g}};return e([r.Override],a.prototype,"syntaxError",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(6,r.NotNull)],a.prototype,"reportAmbiguity",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],a.prototype,"reportAttemptingFullContext",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],a.prototype,"reportContextSensitivity",null),e([t(0,r.NotNull),t(1,r.NotNull)],a.prototype,"getDecisionDescription",null),e([r.NotNull,t(1,r.NotNull)],a.prototype,"getConflictingAlts",null),ou.DiagnosticErrorListener=a,ou}var su={},gO;function JH(){if(gO)return su;gO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=su&&su.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var A=d.length-1;A>=0;A--)(b=d[A])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x},t=su&&su.__param||function(d,h){return function(g,p){h(g,p,d)}};Object.defineProperty(su,"__esModule",{value:!0}),su.LexerInterpreter=void 0;const n=Xc(),r=TS(),s=Ve(),a=Ve();let u=class extends n.Lexer{constructor(h,g,p,m,x,b,A){if(super(A),b.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=h,this._atn=b,this._ruleNames=p.slice(0),this._channelNames=m.slice(0),this._modeNames=x.slice(0),this._vocabulary=g,this._interp=new r.LexerATNSimulator(b,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};return e([s.NotNull],u.prototype,"_vocabulary",void 0),e([a.Override],u.prototype,"atn",null),e([a.Override],u.prototype,"grammarFileName",null),e([a.Override],u.prototype,"ruleNames",null),e([a.Override],u.prototype,"channelNames",null),e([a.Override],u.prototype,"modeNames",null),e([a.Override],u.prototype,"vocabulary",null),u=e([t(1,s.NotNull)],u),su.LexerInterpreter=u,su}var VA={},mO;function QH(){if(mO)return VA;mO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(VA,"__esModule",{value:!0}),VA}var zd={},yO;function eW(){if(yO)return zd;yO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zd&&zd.__decorate||function(a,u,d,h){var g=arguments.length,p=g<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,u,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(u,d,p):m(u,d))||p);return g>3&&p&&Object.defineProperty(u,d,p),p};Object.defineProperty(zd,"__esModule",{value:!0}),zd.RuleContextWithAltNum=void 0;const t=Ra(),n=Ve(),r=Rs();let s=class extends r.ParserRuleContext{constructor(u,d){d!==void 0?super(u,d):super(),this._altNumber=t.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(u){this._altNumber=u}};return e([n.Override],s.prototype,"altNumber",null),zd.RuleContextWithAltNum=s,zd}var k0={},vO;function tW(){if(vO)return k0;vO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(k0,"__esModule",{value:!0}),k0.RuleDependency=void 0;function e(t){return(n,r,s)=>{}}return k0.RuleDependency=e,k0}var B0={},xO;function nW(){if(xO)return B0;xO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(B0,"__esModule",{value:!0}),B0.RuleVersion=void 0;function e(t){return(n,r,s)=>{}}return B0.RuleVersion=e,B0}var UA={},bO;function rW(){if(bO)return UA;bO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(UA,"__esModule",{value:!0}),UA}var GA={},SO;function iW(){if(SO)return GA;SO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(GA,"__esModule",{value:!0}),GA}var $A={},EO;function oW(){if(EO)return $A;EO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty($A,"__esModule",{value:!0}),$A}var au={},AO;function sW(){if(AO)return au;AO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=au&&au.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A};Object.defineProperty(au,"__esModule",{value:!0}),au.RewriteOperation=au.TokenStreamRewriter=void 0;const t=Ui(),n=Ve(),r=Ln();let s=class Io{constructor(p){this.tokens=p,this.programs=new Map,this.programs.set(Io.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(p,m=Io.DEFAULT_PROGRAM_NAME){let x=this.programs.get(m);x!=null&&this.programs.set(m,x.slice(Io.MIN_TOKEN_INDEX,p))}deleteProgram(p=Io.DEFAULT_PROGRAM_NAME){this.rollback(Io.MIN_TOKEN_INDEX,p)}insertAfter(p,m,x=Io.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let A=this.getProgram(x),C=new d(this.tokens,b,A.length,m);A.push(C)}insertBefore(p,m,x=Io.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let A=this.getProgram(x),C=new u(this.tokens,b,A.length,m);A.push(C)}replaceSingle(p,m){typeof p=="number"?this.replace(p,p,m):this.replace(p,p,m)}replace(p,m,x,b=Io.DEFAULT_PROGRAM_NAME){if(typeof p!="number"&&(p=p.tokenIndex),typeof m!="number"&&(m=m.tokenIndex),p>m||p<0||m<0||m>=this.tokens.size)throw new RangeError(`replace: range invalid: ${p}..${m}(size=${this.tokens.size})`);let A=this.getProgram(b),C=new h(this.tokens,p,m,A.length,x);A.push(C)}delete(p,m,x=Io.DEFAULT_PROGRAM_NAME){m===void 0&&(m=p),typeof p=="number"?this.replace(p,m,"",x):this.replace(p,m,"",x)}getLastRewriteTokenIndex(p=Io.DEFAULT_PROGRAM_NAME){let m=this.lastRewriteTokenIndexes.get(p);return m??-1}setLastRewriteTokenIndex(p,m){this.lastRewriteTokenIndexes.set(p,m)}getProgram(p){let m=this.programs.get(p);return m==null&&(m=this.initializeProgram(p)),m}initializeProgram(p){let m=[];return this.programs.set(p,m),m}getText(p,m=Io.DEFAULT_PROGRAM_NAME){let x;p instanceof t.Interval?x=p:x=t.Interval.of(0,this.tokens.size-1),typeof p=="string"&&(m=p);let b=this.programs.get(m),A=x.a,C=x.b;if(C>this.tokens.size-1&&(C=this.tokens.size-1),A<0&&(A=0),b==null||b.length===0)return this.tokens.getText(x);let w=[],T=this.reduceToSingleOperationPerIndex(b),_=A;for(;_<=C&&_<this.tokens.size;){let I=T.get(_);T.delete(_);let D=this.tokens.get(_);I==null?(D.type!==r.Token.EOF&&w.push(String(D.text)),_++):_=I.execute(w)}if(C===this.tokens.size-1)for(let I of T.values())I.index>=this.tokens.size-1&&w.push(I.text.toString());return w.join("")}reduceToSingleOperationPerIndex(p){for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof h))continue;let A=b,C=this.getKindOfOps(p,u,x);for(let T of C)T.index===A.index?(p[T.instructionIndex]=void 0,A.text=T.text.toString()+(A.text!=null?A.text.toString():"")):T.index>A.index&&T.index<=A.lastIndex&&(p[T.instructionIndex]=void 0);let w=this.getKindOfOps(p,h,x);for(let T of w){if(T.index>=A.index&&T.lastIndex<=A.lastIndex){p[T.instructionIndex]=void 0;continue}let _=T.lastIndex<A.index||T.index>A.lastIndex;if(T.text==null&&A.text==null&&!_)p[T.instructionIndex]=void 0,A.index=Math.min(T.index,A.index),A.lastIndex=Math.max(T.lastIndex,A.lastIndex);else if(!_)throw new Error(`replace op boundaries of ${A} overlap with previous ${T}`)}}for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof u))continue;let A=b,C=this.getKindOfOps(p,u,x);for(let T of C)T.index===A.index&&(T instanceof d?(A.text=this.catOpText(T.text,A.text),p[T.instructionIndex]=void 0):T instanceof u&&(A.text=this.catOpText(A.text,T.text),p[T.instructionIndex]=void 0));let w=this.getKindOfOps(p,h,x);for(let T of w){if(A.index===T.index){T.text=this.catOpText(A.text,T.text),p[x]=void 0;continue}if(A.index>=T.index&&A.index<=T.lastIndex)throw new Error(`insert op ${A} within boundaries of previous ${T}`)}}let m=new Map;for(let x of p)if(x!=null){if(m.get(x.index)!=null)throw new Error("should only be one op per index");m.set(x.index,x)}return m}catOpText(p,m){let x="",b="";return p!=null&&(x=p.toString()),m!=null&&(b=m.toString()),x+b}getKindOfOps(p,m,x){let b=[];for(let A=0;A<x&&A<p.length;A++){let C=p[A];C!=null&&C instanceof m&&b.push(C)}return b}};au.TokenStreamRewriter=s,s.DEFAULT_PROGRAM_NAME="default",s.PROGRAM_INIT_SIZE=100,s.MIN_TOKEN_INDEX=0;class a{constructor(p,m,x,b){this.tokens=p,this.instructionIndex=x,this.index=m,this.text=b===void 0?"":b}execute(p){return this.index}toString(){let p=this.constructor.name,m=p.indexOf("$");return p=p.substring(m+1,p.length),"<"+p+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}e([n.Override],a.prototype,"toString",null),au.RewriteOperation=a;class u extends a{constructor(p,m,x,b){super(p,m,x,b)}execute(p){return p.push(this.text.toString()),this.tokens.get(this.index).type!==r.Token.EOF&&p.push(String(this.tokens.get(this.index).text)),this.index+1}}e([n.Override],u.prototype,"execute",null);class d extends u{constructor(p,m,x,b){super(p,m+1,x,b)}}class h extends a{constructor(p,m,x,b,A){super(p,m,b,A),this.lastIndex=x}execute(p){return this.text!=null&&p.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}return e([n.Override],h.prototype,"execute",null),e([n.Override],h.prototype,"toString",null),au}var HA={},CO;function aW(){if(CO)return HA;CO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(HA,"__esModule",{value:!0}),HA}var WA={},wO;function lW(){if(wO)return WA;wO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(WA,"__esModule",{value:!0}),WA}var RO;function uW(){return RO||(RO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Bf&&Bf.__createBinding||(Object.create?function(r,s,a,u){u===void 0&&(u=a),Object.defineProperty(r,u,{enumerable:!0,get:function(){return s[a]}})}:function(r,s,a,u){u===void 0&&(u=a),r[u]=s[a]}),n=Bf&&Bf.__exportStar||function(r,s){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&t(s,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(s$(),e),n(a$(),e),n(X$(),e),n(pF(),e),n(aF(),e),n(KH(),e),n(w2(),e),n(iF(),e),n(sF(),e),n(Ny(),e),n(g2(),e),n(R2(),e),n(FL(),e),n(N2(),e),n(XH(),e),n(ZH(),e),n(SS(),e),n(ES(),e),n(cF(),e),n(Hc(),e),n(Xc(),e),n(JH(),e),n(RS(),e),n(lF(),e),n(_S(),e),n(My(),e),n(QH(),e),n(fF(),e),n(Rs(),e),n(y2(),e),n(rF(),e),n(Wc(),e),n(Iy(),e),n(tF(),e),n(eW(),e),n(tW(),e),n(nW(),e),n(Ln(),e),n(rW(),e),n(iW(),e),n(oW(),e),n(sW(),e),n(aW(),e),n(sh(),e),n(lW(),e)}(Bf)),Bf}var eg=uW(),gF=C2(),cW=Xc(),fW=TS(),mF=sh(),yF=bu();const Lt=class Lt extends cW.Lexer{get vocabulary(){return Lt.VOCABULARY}constructor(t){super(t),this._interp=new fW.LexerATNSimulator(Lt._ATN,this)}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Lt.ruleNames}get serializedATN(){return Lt._serializedATN}get channelNames(){return Lt.channelNames}get modeNames(){return Lt.modeNames}action(t,n,r){switch(n){case 4:this.REF_action(t,r);break}}REF_action(t,n){}static get _ATN(){return Lt.__ATN||(Lt.__ATN=new gF.ATNDeserializer().deserialize(yF.toCharArray(Lt._serializedATN))),Lt.__ATN}};q(Lt,"T__0",1),q(Lt,"T__1",2),q(Lt,"T__2",3),q(Lt,"REFERENCE",4),q(Lt,"REF",5),q(Lt,"REFRANGE",6),q(Lt,"BOOL",7),q(Lt,"STRING",8),q(Lt,"NUM",9),q(Lt,"FUNCNAME",10),q(Lt,"WS",11),q(Lt,"MUL",12),q(Lt,"DIV",13),q(Lt,"ADD",14),q(Lt,"SUB",15),q(Lt,"EQ",16),q(Lt,"NEQ",17),q(Lt,"LTE",18),q(Lt,"GTE",19),q(Lt,"LT",20),q(Lt,"GT",21),q(Lt,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),q(Lt,"modeNames",["DEFAULT_MODE"]),q(Lt,"ruleNames",["T__0","T__1","T__2","REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(Lt,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),q(Lt,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(Lt,"VOCABULARY",new mF.VocabularyImpl(Lt._LITERAL_NAMES,Lt._SYMBOLIC_NAMES,[])),q(Lt,"_serializedATN",`\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r									6
9
>
\x07B
\fE\v\x07\x07\x07\x07\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b]
\b		\x07	a
	\f		d\v			

i

\r

j


o

\r

p
s

\v\v\x07\vw
\v\f\v\vz\v\v\f\f}
\f\r\f\f~\f\f\r\r\x07	\v\x07\r\b	
\v\f\r\x1B!#%')+\bC\\c|3;2;$$2;C\\c|\v\v""\x07	\v\r\x1B!#%')+-/\x071	5\v8\rF\\^ht|\x1B!#%')+-.\x07*./0\x07+012\x07.2\b36\v46\r\x0753546
79\x07&87899::;	;=\b<>\x07&=<=>>??C	@B	A@BECACDD\fECFG\vGH\x07<HI\vIJK\x07VKL\x07TLM\x07WM]\x07GNO\x07HOP\x07CPQ\x07NQR\x07UR]\x07GST\x07vTU\x07tUV\x07wV]\x07gWX\x07hXY\x07cYZ\x07nZ[\x07u[]\x07g\\J\\N\\S\\W]^b\x07$_a
\`_adb\`bccedbef\x07$fgi	hgijjhjkkrln\x070mo	nmoppnpqqsrlrsstx	uw	vuwzxvxyyzx{}	\x07|{}~~|~\b\f\x07,\x071\x07-\x07/ \x07?"\x07>\x07@$\x07>\x07?&\x07@\x07?(\x07>*\x07@,58=C\\bjprx~\b`),q(Lt,"__ATN");let tg=Lt;var dW=Ra(),hW=SS(),pW=_S(),gW=My(),_2=Rs(),mW=Dy(),YA=Wc(),qA=Ln();const Je=class Je extends gW.Parser{get vocabulary(){return Je.VOCABULARY}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Je.ruleNames}get serializedATN(){return Je._serializedATN}createFailedPredicateException(t,n){return new hW.FailedPredicateException(this,t,n)}constructor(t){super(t),this._interp=new mW.ParserATNSimulator(Je._ATN,this)}formula(){let t=new yW(this._ctx,this.state);this.enterRule(t,0,Je.RULE_formula);let n;try{this.enterOuterAlt(t,1);{this.state=7,this._errHandler.sync(this),n=this._input.LA(1);do this.state=6,this.expr(0),this.state=9,this._errHandler.sync(this),n=this._input.LA(1);while((n&-32)===0&&(1<<n&(1<<Je.T__0|1<<Je.REFERENCE|1<<Je.BOOL|1<<Je.STRING|1<<Je.NUM|1<<Je.FUNCNAME))!==0)}}catch(r){if(r instanceof YA.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}expr(t){t===void 0&&(t=0);let n=this._ctx,r=this.state,s=new Gn(this._ctx,r),a=s,u=2;this.enterRecursionRule(s,2,Je.RULE_expr,t);let d;try{let h;this.enterOuterAlt(s,1);{switch(this.state=26,this._errHandler.sync(this),this._input.LA(1)){case Je.FUNCNAME:s=new vW(s),this._ctx=s,a=s,this.state=12,this.match(Je.FUNCNAME),this.state=13,this.match(Je.T__0),this.state=15,this._errHandler.sync(this),d=this._input.LA(1),(d&-32)===0&&(1<<d&(1<<Je.T__0|1<<Je.REFERENCE|1<<Je.BOOL|1<<Je.STRING|1<<Je.NUM|1<<Je.FUNCNAME))!==0&&(this.state=14,this.args()),this.state=17,this.match(Je.T__1);break;case Je.NUM:s=new EW(s),this._ctx=s,a=s,this.state=18,this.match(Je.NUM);break;case Je.BOOL:s=new AW(s),this._ctx=s,a=s,this.state=19,this.match(Je.BOOL);break;case Je.STRING:s=new CW(s),this._ctx=s,a=s,this.state=20,this.match(Je.STRING);break;case Je.REFERENCE:s=new wW(s),this._ctx=s,a=s,this.state=21,this.match(Je.REFERENCE);break;case Je.T__0:s=new RW(s),this._ctx=s,a=s,this.state=22,this.match(Je.T__0),this.state=23,this.expr(0),this.state=24,this.match(Je.T__1);break;default:throw new pW.NoViableAltException(this)}for(this._ctx._stop=this._input.tryLT(-1),this.state=39,this._errHandler.sync(this),h=this.interpreter.adaptivePredict(this._input,4,this._ctx);h!==2&&h!==dW.ATN.INVALID_ALT_NUMBER;){if(h===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),a=s,this.state=37,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:{if(s=new xW(new Gn(n,r)),this.pushNewRecursionContext(s,u,Je.RULE_expr),this.state=28,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=29,s._op=this._input.LT(1),d=this._input.LA(1),d===Je.MUL||d===Je.DIV?(this._input.LA(1)===qA.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=30,this.expr(9)}break;case 2:{if(s=new bW(new Gn(n,r)),this.pushNewRecursionContext(s,u,Je.RULE_expr),this.state=31,!this.precpred(this._ctx,7))throw this.createFailedPredicateException("this.precpred(this._ctx, 7)");this.state=32,s._op=this._input.LT(1),d=this._input.LA(1),d===Je.ADD||d===Je.SUB?(this._input.LA(1)===qA.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=33,this.expr(8)}break;case 3:{if(s=new SW(new Gn(n,r)),this.pushNewRecursionContext(s,u,Je.RULE_expr),this.state=34,!this.precpred(this._ctx,6))throw this.createFailedPredicateException("this.precpred(this._ctx, 6)");this.state=35,s._op=this._input.LT(1),d=this._input.LA(1),(d&-32)===0&&(1<<d&(1<<Je.EQ|1<<Je.NEQ|1<<Je.LTE|1<<Je.GTE|1<<Je.LT|1<<Je.GT))!==0?(this._input.LA(1)===qA.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=36,this.expr(7)}break}this.state=41,this._errHandler.sync(this),h=this.interpreter.adaptivePredict(this._input,4,this._ctx)}}}catch(h){if(h instanceof YA.RecognitionException)s.exception=h,this._errHandler.reportError(this,h),this._errHandler.recover(this,h);else throw h}finally{this.unrollRecursionContexts(n)}return s}args(){let t=new vF(this._ctx,this.state);this.enterRule(t,4,Je.RULE_args);let n;try{for(this.enterOuterAlt(t,1),this.state=42,this.expr(0),this.state=47,this._errHandler.sync(this),n=this._input.LA(1);n===Je.T__2;)this.state=43,this.match(Je.T__2),this.state=44,this.expr(0),this.state=49,this._errHandler.sync(this),n=this._input.LA(1)}catch(r){if(r instanceof YA.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}sempred(t,n,r){switch(n){case 1:return this.expr_sempred(t,r)}return!0}expr_sempred(t,n){switch(n){case 0:return this.precpred(this._ctx,8);case 1:return this.precpred(this._ctx,7);case 2:return this.precpred(this._ctx,6)}return!0}static get _ATN(){return Je.__ATN||(Je.__ATN=new gF.ATNDeserializer().deserialize(yF.toCharArray(Je._serializedATN))),Je.__ATN}};q(Je,"T__0",1),q(Je,"T__1",2),q(Je,"T__2",3),q(Je,"REFERENCE",4),q(Je,"REF",5),q(Je,"REFRANGE",6),q(Je,"BOOL",7),q(Je,"STRING",8),q(Je,"NUM",9),q(Je,"FUNCNAME",10),q(Je,"WS",11),q(Je,"MUL",12),q(Je,"DIV",13),q(Je,"ADD",14),q(Je,"SUB",15),q(Je,"EQ",16),q(Je,"NEQ",17),q(Je,"LTE",18),q(Je,"GTE",19),q(Je,"LT",20),q(Je,"GT",21),q(Je,"RULE_formula",0),q(Je,"RULE_expr",1),q(Je,"RULE_args",2),q(Je,"ruleNames",["formula","expr","args"]),q(Je,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),q(Je,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(Je,"VOCABULARY",new mF.VocabularyImpl(Je._LITERAL_NAMES,Je._SYMBOLIC_NAMES,[])),q(Je,"_serializedATN",`5			

\r\v

\x07(
\f+\v\x070
\f3\v<	,\b
	\b
\v\v	\v\f\f\r\b\x07\f\x07\x07\x07\v\x07	\x07
\x07\x07\x1B\x07\x1B\r)\f
 	 (\v!"\f	"#	#(
$%\f\b%&	&(	''!'$(+)')**+),1-.\x07.0/-031/122\x0731\b\v')1`),q(Je,"__ATN");let bn=Je;class yW extends _2.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Gn):this.getRuleContext(t,Gn)}constructor(t,n){super(t,n)}get ruleIndex(){return bn.RULE_formula}enterRule(t){t.enterFormula&&t.enterFormula(this)}exitRule(t){t.exitFormula&&t.exitFormula(this)}accept(t){return t.visitFormula?t.visitFormula(this):t.visitChildren(this)}}class Gn extends _2.ParserRuleContext{constructor(t,n){super(t,n)}get ruleIndex(){return bn.RULE_expr}copyFrom(t){super.copyFrom(t)}}class vW extends Gn{FUNCNAME(){return this.getToken(bn.FUNCNAME,0)}args(){return this.tryGetRuleContext(0,vF)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterFunction&&t.enterFunction(this)}exitRule(t){t.exitFunction&&t.exitFunction(this)}accept(t){return t.visitFunction?t.visitFunction(this):t.visitChildren(this)}}class xW extends Gn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Gn):this.getRuleContext(n,Gn)}MUL(){return this.tryGetToken(bn.MUL,0)}DIV(){return this.tryGetToken(bn.DIV,0)}enterRule(n){n.enterMulDiv&&n.enterMulDiv(this)}exitRule(n){n.exitMulDiv&&n.exitMulDiv(this)}accept(n){return n.visitMulDiv?n.visitMulDiv(this):n.visitChildren(this)}}class bW extends Gn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Gn):this.getRuleContext(n,Gn)}ADD(){return this.tryGetToken(bn.ADD,0)}SUB(){return this.tryGetToken(bn.SUB,0)}enterRule(n){n.enterAddSub&&n.enterAddSub(this)}exitRule(n){n.exitAddSub&&n.exitAddSub(this)}accept(n){return n.visitAddSub?n.visitAddSub(this):n.visitChildren(this)}}class SW extends Gn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Gn):this.getRuleContext(n,Gn)}EQ(){return this.tryGetToken(bn.EQ,0)}NEQ(){return this.tryGetToken(bn.NEQ,0)}LT(){return this.tryGetToken(bn.LT,0)}GT(){return this.tryGetToken(bn.GT,0)}LTE(){return this.tryGetToken(bn.LTE,0)}GTE(){return this.tryGetToken(bn.GTE,0)}enterRule(n){n.enterComparison&&n.enterComparison(this)}exitRule(n){n.exitComparison&&n.exitComparison(this)}accept(n){return n.visitComparison?n.visitComparison(this):n.visitChildren(this)}}class EW extends Gn{NUM(){return this.getToken(bn.NUM,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterNumber&&t.enterNumber(this)}exitRule(t){t.exitNumber&&t.exitNumber(this)}accept(t){return t.visitNumber?t.visitNumber(this):t.visitChildren(this)}}class AW extends Gn{BOOL(){return this.getToken(bn.BOOL,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterBoolean&&t.enterBoolean(this)}exitRule(t){t.exitBoolean&&t.exitBoolean(this)}accept(t){return t.visitBoolean?t.visitBoolean(this):t.visitChildren(this)}}class CW extends Gn{STRING(){return this.getToken(bn.STRING,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterStr&&t.enterStr(this)}exitRule(t){t.exitStr&&t.exitStr(this)}accept(t){return t.visitStr?t.visitStr(this):t.visitChildren(this)}}class wW extends Gn{REFERENCE(){return this.getToken(bn.REFERENCE,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterReference&&t.enterReference(this)}exitRule(t){t.exitReference&&t.exitReference(this)}accept(t){return t.visitReference?t.visitReference(this):t.visitChildren(this)}}class RW extends Gn{expr(){return this.getRuleContext(0,Gn)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterParentheses&&t.enterParentheses(this)}exitRule(t){t.exitParentheses&&t.exitParentheses(this)}accept(t){return t.visitParentheses?t.visitParentheses(this):t.visitChildren(this)}}class vF extends _2.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Gn):this.getRuleContext(t,Gn)}constructor(t,n){super(t,n)}get ruleIndex(){return bn.RULE_args}enterRule(t){t.enterArgs&&t.enterArgs(this)}exitRule(t){t.exitArgs&&t.exitArgs(this)}accept(t){return t.visitArgs?t.visitArgs(this):t.visitChildren(this)}}function*TW(e){const[t,n]=e;for(let r=t.r;r<=n.r;r++)for(let s=t.c;s<=n.c;s++)yield{r,c:s}}function Eb(e,t){const[n,r]=t;return n.r<=e.r&&e.r<=r.r&&n.c<=e.c&&e.c<=r.c}function NW(e,t){const[n,r]=e,[s,a]=t;return s.r<=n.r&&r.r<=a.r&&s.c<=n.c&&r.c<=a.c}function TO(e,t){return[{r:Math.min(e.r,t.r),c:Math.min(e.c,t.c)},{r:Math.max(e.r,t.r),c:Math.max(e.c,t.c)}]}function ib(e){return[NO(e[0]),NO(e[1])]}function _W(e,t){return J0(e[0],t[0])&&J0(e[1],t[1])}function IW(e,t){const n=[];return e[0].r>t[0].r&&n.push([{r:e[0].r-1,c:e[0].c},{r:e[0].r-1,c:e[1].c}]),e[1].r<t[1].r&&n.push([{r:e[1].r+1,c:e[0].c},{r:e[1].r+1,c:e[1].c}]),e[0].c>t[0].c&&n.push([{r:e[0].r,c:e[0].c-1},{r:e[1].r,c:e[0].c-1}]),e[1].c<t[1].c&&n.push([{r:e[0].r,c:e[1].c+1},{r:e[1].r,c:e[1].c+1}]),n}function OW(e,t){const[n,r]=e,[s,a]=t;return[{r:Math.min(n.r,s.r),c:Math.min(n.c,s.c)},{r:Math.max(r.r,a.r),c:Math.max(r.c,a.c)}]}function J0(e,t){return e.r===t.r&&e.c===t.c}function NO(e){return{r:e.r,c:e.c}}function uh(e){return e.includes(":")}function*Mc(e){for(const t of e){if(uh(t)){const n=xF(t);for(const r of TW(n))yield Nt(r);continue}yield t}}function Nt(e){return ay(e.c)+e.r}function DW(e){const[t,n]=e;return`${Nt(t)}:${Nt(n)}`}function ay(e){let t="";for(;e>0;){const n=e%26;n===0?(t="Z"+t,e=Math.floor(e/26)-1):(t=String.fromCharCode(n+64)+t,e=Math.floor(e/26))}return t}function dn(e){const t=e.replace(/\$/g,"");let n=0;for(let a=0;a<t.length;a++){const u=t.charCodeAt(a);if(48<=u&&u<=57){n=a;break}}if(n===0)throw new Error("Invalid Reference");const r=parseInt(t.substring(n)),s=t.substring(0,n).split("").reverse().reduce((a,u,d)=>a+Math.pow(26,d)*(u.charCodeAt(0)-65+1),0);if(isNaN(r)||isNaN(s))throw new Error("Invalid Reference");return{r,c:s}}function xF(e){const[t,n]=e.split(":");return[dn(t),dn(n)]}class Ly{constructor(){q(this,"ref");q(this,"bool");q(this,"num");q(this,"str")}static create(){return new Ly}setRef(t){return this.ref=t,this}setBool(t){return this.bool=t,this}setNum(t){return this.num=t,this}setStr(t){return this.str=t,this}map(t,n){return t.t==="bool"&&this.bool?this.bool(t):t.t==="num"&&this.num?this.num(t):t.t==="str"&&this.str?this.str(t):t.t==="ref"&&this.ref&&n?this.ref(t,n):t}*iterate(t,n,r){for(const s of t.expr()){const a=n(s);if(a.t==="ref"&&r)for(const u of Mc([a.v]))yield this.ref({t:"ref",v:u},r);else yield this.map(a)}}}function PW(e){return{t:"num",v:e.v?1:0}}function MW(e){const t=Number(e);return{t:"num",v:isNaN(t)?0:t}}function LW(e,t){var s;if(uh(e.v))return{t:"err",v:"#VALUE!"};const n=((s=t.get(e.v))==null?void 0:s.v)||"",r=Number(n);return{t:"num",v:isNaN(r)?0:r}}const ji=Ly.create().setRef(LW).setBool(PW).setStr(MW);function FW(e){return{t:"bool",v:e.v!==0}}function kW(e,t){var s;if(uh(e.v))return{t:"err",v:"#VALUE!"};const n=((s=t.get(e.v))==null?void 0:s.v)||"";if(n==="TRUE"||n==="true")return{t:"bool",v:!0};if(n==="FALSE"||n==="false"||n==="")return{t:"bool",v:!1};const r=Number(n);return isNaN(r)?{t:"err",v:"#VALUE!"}:{t:"bool",v:r!==0}}const IS=Ly.create().setRef(kW).setNum(FW).setStr(()=>({t:"err",v:"#VALUE!"}));function BW(e){return{t:"str",v:e.v.toString()}}function jW(e){return{t:"str",v:e.v?"TRUE":"FALSE"}}function bF(e,t){var r;return uh(e.v)?{t:"err",v:"#VALUE!"}:{t:"str",v:((r=t.get(e.v))==null?void 0:r.v)||""}}Ly.create().setRef(bF).setNum(BW).setBool(jW);const _O=new Map([["SUM",zW],["IF",VW],["AND",UW],["OR",GW],["NOT",$W],["AVERAGE",HW],["MIN",WW],["MAX",YW],["COUNT",qW],["COUNTA",KW],["TRIM",XW],["LEN",ZW],["LEFT",JW],["RIGHT",QW],["MID",eY],["CONCATENATE",tY],["TODAY",nY],["NOW",rY],["YEAR",iY],["MONTH",oY],["DAY",sY],["IFERROR",aY]]);function zW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const a of ji.iterate(r,t,n)){if(a.t==="err")return a;s+=a.v}return{t:"num",v:s}}function VW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<2||s.length>3)return{t:"err",v:"#N/A!"};const a=IS.map(t(s[0]),n);return a.t==="err"?a:a.v?t(s[1]):s.length===3?t(s[2]):{t:"bool",v:!1}}function UW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const s of IS.iterate(r,t,n)){if(s.t==="err")return s;if(!s.v)return{t:"bool",v:!1}}return{t:"bool",v:!0}}function GW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const s of IS.iterate(r,t,n)){if(s.t==="err")return s;if(s.v)return{t:"bool",v:!0}}return{t:"bool",v:!1}}function $W(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=IS.map(t(s[0]),n);return a.t==="err"?a:{t:"bool",v:!a.v}}function HW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0,a=0;for(const u of ji.iterate(r,t,n)){if(u.t==="err")return u;s+=u.v,a++}return a===0?{t:"err",v:"#VALUE!"}:{t:"num",v:s/a}}function WW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=1/0;for(const a of ji.iterate(r,t,n)){if(a.t==="err")return a;a.v<s&&(s=a.v)}return{t:"num",v:s}}function YW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=-1/0;for(const a of ji.iterate(r,t,n)){if(a.t==="err")return a;a.v>s&&(s=a.v)}return{t:"num",v:s}}function qW(e,t,n){var a,u;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const d of r.expr()){const h=t(d);if(h.t==="num")s++;else if(h.t==="bool")s++;else if(h.t==="ref"&&n)if(uh(h.v))for(const g of Mc([h.v])){const p=((a=n.get(g))==null?void 0:a.v)||"";p!==""&&!isNaN(Number(p))&&s++}else{const g=((u=n.get(h.v))==null?void 0:u.v)||"";g!==""&&!isNaN(Number(g))&&s++}}return{t:"num",v:s}}function KW(e,t,n){var a,u;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const d of r.expr()){const h=t(d);if(h.t==="num"||h.t==="bool")s++;else if(h.t==="str")h.v!==""&&s++;else if(h.t==="ref"&&n)if(uh(h.v))for(const g of Mc([h.v]))(((a=n.get(g))==null?void 0:a.v)||"")!==""&&s++;else(((u=n.get(h.v))==null?void 0:u.v)||"")!==""&&s++}return{t:"num",v:s}}function ch(e,t){return e.t==="err"||e.t==="str"?e:e.t==="num"?{t:"str",v:e.v.toString()}:e.t==="bool"?{t:"str",v:e.v?"TRUE":"FALSE"}:e.t==="ref"&&t?bF(e,t):{t:"err",v:"#VALUE!"}}function XW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=ch(t(s[0]),n);return a.t==="err"?a:{t:"str",v:a.v.trim()}}function ZW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=ch(t(s[0]),n);return a.t==="err"?a:{t:"num",v:a.v.length}}function JW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<1||s.length>2)return{t:"err",v:"#N/A!"};const a=ch(t(s[0]),n);if(a.t==="err")return a;let u=1;if(s.length===2){const d=ji.map(t(s[1]),n);if(d.t==="err")return d;u=d.v}return{t:"str",v:a.v.slice(0,u)}}function QW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<1||s.length>2)return{t:"err",v:"#N/A!"};const a=ch(t(s[0]),n);if(a.t==="err")return a;let u=1;if(s.length===2){const d=ji.map(t(s[1]),n);if(d.t==="err")return d;u=d.v}return{t:"str",v:a.v.slice(-u)}}function eY(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==3)return{t:"err",v:"#N/A!"};const a=ch(t(s[0]),n);if(a.t==="err")return a;const u=ji.map(t(s[1]),n);if(u.t==="err")return u;const d=ji.map(t(s[2]),n);if(d.t==="err")return d;const h=u.v-1;return{t:"str",v:a.v.slice(h,h+d.v)}}function tY(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<2)return{t:"err",v:"#N/A!"};let a="";for(const u of s){const d=ch(t(u),n);if(d.t==="err")return d;a+=d.v}return{t:"str",v:a}}function nY(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const s=new Date,a=s.getFullYear(),u=String(s.getMonth()+1).padStart(2,"0"),d=String(s.getDate()).padStart(2,"0");return{t:"str",v:`${a}-${u}-${d}`}}function rY(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const s=new Date,a=s.getFullYear(),u=String(s.getMonth()+1).padStart(2,"0"),d=String(s.getDate()).padStart(2,"0"),h=String(s.getHours()).padStart(2,"0"),g=String(s.getMinutes()).padStart(2,"0"),p=String(s.getSeconds()).padStart(2,"0");return{t:"str",v:`${a}-${u}-${d} ${h}:${g}:${p}`}}function I2(e,t){const n=ch(e,t);if(n.t==="err")return n;const r=new Date(n.v);return isNaN(r.getTime())?{t:"err",v:"#VALUE!"}:r}function iY(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=I2(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getFullYear()}:a}function oY(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=I2(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getMonth()+1}:a}function sY(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=I2(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getDate()}:a}function aY(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==2)return{t:"err",v:"#N/A!"};const a=t(s[0]);return a.t==="err"?t(s[1]):a}function Q0(e){const t=eg.CharStreams.fromString(e.slice(1)),n=new tg(t),r=new eg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const s=new Set;for(const a of r.getTokens())a.type===bn.REFERENCE&&s.add(a.text.toUpperCase());return s}function Zc(e){const t=eg.CharStreams.fromString(e.slice(1)),n=new tg(t),r=new eg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const s=[];for(const d of r.getTokens())d.type!=tg.EOF&&s.push({type:n.vocabulary.getSymbolicName(d.type)||"STRING",start:d.startIndex,stop:d.stopIndex,text:d.text});const a=[];let u;for(const d of s)!u&&d.start>0?a.push({type:"STRING",start:0,stop:d.start-1,text:e.slice(1,d.start+1)}):u&&u.stop+1!==d.start&&a.push({type:"STRING",start:u.stop+1,stop:d.start-1,text:e.slice(u.stop+2,d.start+1)}),a.push(d),u=d;return u&&u.stop+2<e.length&&a.push({type:"STRING",start:u.stop+1,stop:e.length-1,text:e.slice(u.stop+2)}),a}function ob(e){const t=Zc(e),n=[];for(const r of t)if(r.type==="REFERENCE")try{const s=r.text.toUpperCase();if(s.includes(":"))n.push({text:s,range:xF(s)});else{const a=dn(s);n.push({text:s,range:[a,a]})}}catch{}return n}function lY(e,t){if(!e.startsWith("=")||t<=0)return!1;if(t===1)return!0;const n=Zc(e);for(const d of n){const h=d.start+1,g=d.stop+2;if(d.type==="REFERENCE"&&t>=h&&t<=g)return!0}const s=e.slice(0,t).trimEnd();if(s.length===0)return!1;const a=s[s.length-1];return new Set(["=","(",",","+","-","*","/","<",">",":"]).has(a)}function IO(e,t){if(!e.startsWith("="))return;const n=Zc(e);for(const r of n){if(r.type!=="REFERENCE")continue;const s=r.start+1,a=r.stop+2;if(t>=s&&t<=a)return{start:s,end:a,text:r.text}}}function uY(e,t){var n;try{const r=eg.CharStreams.fromString(e.slice(1)),s=new tg(r),a=new eg.CommonTokenStream(s),u=new bn(a),d=u.expr(),h=new cY(t);s.removeErrorListeners(),u.removeErrorListeners();const g=h.visit(d);return g.t==="ref"&&t?uh(g.v)?"#VALUE!":((n=t.get(g.v))==null?void 0:n.v)||"":g.v.toString()}catch{return"#ERROR!"}}class cY{constructor(t){q(this,"grid");this.visit=this.visit.bind(this),this.grid=t}visitChildren(){throw new Error("Method not implemented.")}visitTerminal(){throw new Error("Method not implemented.")}visitErrorNode(){throw new Error("Method not implemented.")}visitFormula(){throw new Error("Method not implemented.")}visitExpr(){throw new Error("Method not implemented.")}visitArgs(){throw new Error("Method not implemented.")}visit(t){return t.accept(this)}visitFunction(t){const n=t.FUNCNAME().text.toUpperCase();if(_O.has(n))return _O.get(n)(t,this.visit,this.grid);throw new Error("Function not implemented.")}visitReference(t){return this.grid?{t:"ref",v:t.text.toUpperCase()}:{t:"err",v:"#REF!"}}visitParentheses(t){return this.visit(t.expr())}visitNumber(t){return{t:"num",v:Number(t.text)}}visitBoolean(t){return{t:"bool",v:t.text==="TRUE"||t.text==="true"}}visitAddSub(t){const n=ji.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=ji.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===bn.ADD?{t:"num",v:n.v+r.v}:{t:"num",v:n.v-r.v}}visitMulDiv(t){const n=ji.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=ji.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===bn.MUL?{t:"num",v:n.v*r.v}:{t:"num",v:n.v/r.v}}visitComparison(t){const n=ji.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=ji.map(this.visit(t.expr(1)),this.grid);if(r.t==="err")return r;switch(t._op.type){case bn.EQ:return{t:"bool",v:n.v===r.v};case bn.NEQ:return{t:"bool",v:n.v!==r.v};case bn.LT:return{t:"bool",v:n.v<r.v};case bn.GT:return{t:"bool",v:n.v>r.v};case bn.LTE:return{t:"bool",v:n.v<=r.v};case bn.GTE:return{t:"bool",v:n.v>=r.v};default:return{t:"err",v:"#ERROR!"}}}visitStr(t){return{t:"str",v:t.text.slice(1,-1)}}}function ng(e,t,n,r){const s=t+n;return r<=t?e>=t&&e<s?r+(e-t):e>=r&&e<t?e+n:e:e>=t&&e<s?r-n+(e-t):e>=s&&e<r?e-n:e}function Lc(e,t,n,r,s){return t==="row"?{r:ng(e.r,n,r,s),c:e.c}:{r:e.r,c:ng(e.c,n,r,s)}}function SF(e,t,n,r,s){const a=Zc(e);let u="=";for(const d of a)if(d.type==="REFERENCE"){const h=d.text;if(h.includes(":")){const[g,p]=h.split(":"),m=dn(g.toUpperCase()),x=dn(p.toUpperCase()),b=Lc(m,t,n,r,s),A=Lc(x,t,n,r,s);u+=Nt(b)+":"+Nt(A)}else{const g=dn(h.toUpperCase()),p=Lc(g,t,n,r,s);u+=Nt(p)}}else u+=d.text;return u}function fY(e,t,n,r,s){const a=new Map;for(const[u,d]of e){const h=dn(u),g=Lc(h,t,n,r,s),p=Nt(g);let m;d.f?m={...d,f:SF(d.f,t,n,r,s)}:m={...d},a.set(p,m)}return a}function Op(e,t,n,r){const s=new Map;for(const[a,u]of e)s.set(ng(a,t,n,r),u);return s}function dY(e,t,n){const r=Zc(e);let s="=";for(const a of r)if(a.type==="REFERENCE"){const u=a.text;if(u.includes(":")){const[d,h]=u.split(":"),g=dn(d.toUpperCase()),p=dn(h.toUpperCase()),m={r:g.r+t,c:g.c+n},x={r:p.r+t,c:p.c+n};m.r<1||m.c<1||x.r<1||x.c<1?s+="#REF!":s+=Nt(m)+":"+Nt(x)}else{const d=dn(u.toUpperCase()),h={r:d.r+t,c:d.c+n};h.r<1||h.c<1?s+="#REF!":s+=Nt(h)}}else s+=a.text;return s}function Ab(e,t,n,r){const s=t==="row"?e.r:e.c;if(r>0)return s>=n?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e;const a=Math.abs(r);return s>=n&&s<n+a?null:s>=n+a?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e}function EF(e,t,n,r){const s=dn(e),a=Ab(s,t,n,r);return a?Nt(a):null}function AF(e,t,n,r){const s=Zc(e);let a="=";for(const u of s)if(u.type==="REFERENCE"){const d=u.text;if(d.includes(":")){const[h,g]=d.split(":"),p=dn(h.toUpperCase()),m=dn(g.toUpperCase()),x=Ab(p,t,n,r),b=Ab(m,t,n,r);!x||!b?a+="#REF!":a+=Nt(x)+":"+Nt(b)}else{const h=dn(d.toUpperCase()),g=Ab(h,t,n,r);g?a+=Nt(g):a+="#REF!"}}else a+=u.text;return a}function Dp(e,t,n){const r=new Map;for(const[s,a]of e)if(n>0)s>=t?r.set(s+n,a):r.set(s,a);else{const u=Math.abs(n);s>=t&&s<t+u||(s>=t+u?r.set(s+n,a):r.set(s,a))}return r}function hY(e,t,n,r){const s=new Map;for(const[a,u]of e){const d=EF(a,t,n,r);if(d===null)continue;let h;u.f?h={...u,f:AF(u.f,t,n,r)}:h={...u},s.set(d,h)}return s}class OO{constructor(t){q(this,"customSizes");q(this,"defaultSize");this.defaultSize=t,this.customSizes=new Map}getSize(t){return this.customSizes.get(t)??this.defaultSize}setSize(t,n){n===this.defaultSize?this.customSizes.delete(t):this.customSizes.set(t,n)}getDefaultSize(){return this.defaultSize}getOffset(t){let n=(t-1)*this.defaultSize;for(const[r,s]of this.customSizes)r<t&&(n+=s-this.defaultSize);return n}findIndex(t){if(this.customSizes.size===0)return Math.floor(t/this.defaultSize)+1;const n=Array.from(this.customSizes.entries()).sort((a,u)=>a[0]-u[0]);let r=0,s=0;for(const[a,u]of n){const d=a-1-s,h=r+d*this.defaultSize;if(t<h)return s+Math.floor((t-r)/this.defaultSize)+1;if(r=h,t<r+u)return a;r+=u,s=a}return s+Math.floor((t-r)/this.defaultSize)+1}shift(t,n){const r=new Map;for(const[s,a]of this.customSizes)if(n>0)s>=t?r.set(s+n,a):r.set(s,a);else{const u=Math.abs(n);s>=t&&s<t+u||(s>=t+u?r.set(s+n,a):r.set(s,a))}this.customSizes=r}move(t,n,r){const s=new Map;for(const[a,u]of this.customSizes)s.set(ng(a,t,n,r),u);this.customSizes=s}clear(){this.customSizes.clear()}hasCustomSizes(){return this.customSizes.size>0}}class O2{constructor(){q(this,"rowIndex",new Map);q(this,"colIndex",new Map)}add(t,n){let r=this.rowIndex.get(t);r||(r=new Set,this.rowIndex.set(t,r)),r.add(n);let s=this.colIndex.get(n);s||(s=new Set,this.colIndex.set(n,s)),s.add(t)}remove(t,n){const r=this.rowIndex.get(t);r&&(r.delete(n),r.size===0&&this.rowIndex.delete(t));const s=this.colIndex.get(n);s&&(s.delete(t),s.size===0&&this.colIndex.delete(n))}has(t,n){const r=this.rowIndex.get(t);return r!==void 0&&r.has(n)}clear(){this.rowIndex.clear(),this.colIndex.clear()}rebuild(t){this.clear();for(const[n,r]of t)this.add(n,r)}*cellsInRange(t){const[n,r]=t;for(const[s,a]of this.rowIndex)if(!(s<n.r||s>r.r))for(const u of a)u>=n.c&&u<=r.c&&(yield[s,u])}hasAnyInRange(t){return!this.cellsInRange(t).next().done}getOccupiedColsInRow(t){return this.rowIndex.get(t)}getOccupiedRowsInCol(t){return this.colIndex.get(t)}get size(){let t=0;for(const n of this.rowIndex.values())t+=n.size;return t}}function D2(e,t,n,r,s){const a=n==="left"||n==="right",u=n==="down"||n==="right",d=a?t.c:t.r,h=a?r[0].c:r[0].r,g=a?r[1].c:r[1].r,p=a?e.getOccupiedColsInRow(t.r):e.getOccupiedRowsInCol(t.c);let m;if(p&&s){const T=new Set;for(const _ of p){const I=a?t.r:_,D=a?_:t.c;s(I,D)&&T.add(_)}m=T.size>0?T:void 0}else m=p;if(!m||m.size===0)return DO(t,n,r);const x=Array.from(m).sort((T,_)=>T-_);u||x.reverse();const b=u?x.filter(T=>T>d):x.filter(T=>T<d),A=m.has(d),C=u?d+1:d-1,w=Eb(a?{r:t.r,c:C}:{r:C,c:t.c},r)&&m.has(C);if(A&&w){let T=d,_=C;for(;(u?_<=g:_>=h)&&m.has(_);)T=_,_=u?_+1:_-1;return a?{r:t.r,c:T}:{r:T,c:t.c}}if(b.length>0){const T=b[0];return a?{r:t.r,c:T}:{r:T,c:t.c}}return DO(t,n,r)}function DO(e,t,n){switch(t){case"up":return{r:n[0].r,c:e.c};case"down":return{r:n[1].r,c:e.c};case"left":return{r:e.r,c:n[0].c};case"right":return{r:e.r,c:n[1].c}}}class pY{constructor(){q(this,"grid",new Map);q(this,"cellIndex",new O2)}loadQueryResults(t,n){this.grid.clear();for(let r=0;r<t.length;r++){const s=Nt({r:0,c:r});this.grid.set(s,{v:t[r].name,s:{bold:!0}})}for(let r=0;r<n.length;r++){const s=n[r];for(let a=0;a<t.length;a++){const u=s[t[a].name];if(u==null)continue;const d=Nt({r:r+1,c:a});this.grid.set(d,{v:String(u)})}}this.rebuildIndex()}async set(t,n){}async get(t){return this.grid.get(Nt(t))}async has(t){return this.grid.has(Nt(t))}async delete(t){return!1}async deleteRange(t){return new Set}async setGrid(t){}async getGrid(t){const n=new Map;for(const[r,s]of this.cellIndex.cellsInRange(t)){const a=Nt({r,c:s}),u=this.grid.get(a);u!==void 0&&n.set(a,u)}return n}async findEdge(t,n,r){return D2(this.cellIndex,t,n,r,(s,a)=>{const u=this.grid.get(Nt({r:s,c:a}));return u!==void 0&&(!!u.v||!!u.f)})}async shiftCells(t,n,r){}async moveCells(t,n,r,s){}async buildDependantsMap(t){return new Map}getPresences(){return[]}updateActiveCell(t){}async setDimensionSize(t,n,r){}async getDimensionSizes(t){return new Map}async setColumnStyle(t,n){}async getColumnStyles(){return new Map}async setRowStyle(t,n){}async getRowStyles(){return new Map}async setSheetStyle(t){}async getSheetStyle(){}async setFreezePane(t,n){}async getFreezePane(){return{frozenRows:0,frozenCols:0}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=dn(t);return[n.r,n.c]}))}}async function j0(e,t,n){const[r,s]=gY(t,n);for(const a of r){const u=dn(a);if(!await e.hasFormula(u))continue;const d=await e.getCell(u);if(s.has(a)){await e.setCell(u,{v:"#REF!",f:d.f});continue}const h=Q0(d.f),g=await e.fetchGridByReferences(h),p=await uY(d.f,g);await e.setCell(u,{v:p,f:d.f})}}function gY(e,t){const n=[],r=new Set,s=new Set,a=new Set,u=d=>{if(a.has(d))for(const h of a)r.add(h);if(a.add(d),!s.has(d)){if(s.add(d),e.has(d))for(const h of e.get(d))u(h);n.push(d)}a.delete(d)};for(const d of t)u(d);return[n.reverse(),r]}function mY(e){let t=1/0,n=1/0,r=0,s=0;for(const[u]of e.entries()){const{r:d,c:h}=dn(u);t=Math.min(t,d),n=Math.min(n,h),r=Math.max(r,d),s=Math.max(s,h)}const a=Array.from({length:r-t+1},()=>Array(s-n+1).fill(""));for(const[u,d]of e.entries()){const{r:h,c:g}=dn(u);a[h-t][g-n]=d.v||d.f||""}return a.map(u=>u.join("	")).join(`
`)}function yY(e,t){let n=e.r,r=e.c;const s=new Map,a=t.split(`
`);for(const u of a){const d=u.split("	");for(const h of d)s.set(Nt({r:n,c:r}),{v:h}),r+=1;n+=1,r=e.c}return s}function PO(e){const t=e.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);if(!t)return;const n=parseInt(t[1],10),r=parseInt(t[2],10),s=parseInt(t[3],10);if(!(n===255&&r===255&&s===255))return"#"+n.toString(16).padStart(2,"0")+r.toString(16).padStart(2,"0")+s.toString(16).padStart(2,"0")}function vY(e){return e.includes("google-sheets-html-origin")||e.includes("data-sheets-value")||e.includes("urn:schemas-microsoft-com:office:excel")||e.includes('xmlns:x="urn:schemas-microsoft-com:office:excel"')}function xY(e,t){const s=new DOMParser().parseFromString(e,"text/html").querySelector("table");if(!s)return new Map;const a=new Map,u=s.querySelectorAll("tr");for(let d=0;d<u.length;d++){const h=u[d].querySelectorAll("td, th");for(let g=0;g<h.length;g++){const p=h[g],m=p.textContent||"";if(!m&&!p.style.cssText)continue;const x={v:m},b={};let A=!1;const C=p.style.fontWeight;if((C==="bold"||C==="700")&&(b.b=!0,A=!0),p.style.fontStyle==="italic"&&(b.i=!0,A=!0),p.style.backgroundColor){const w=PO(p.style.backgroundColor);w&&(b.bg=w,A=!0)}if(p.style.color){const w=PO(p.style.color);w&&(b.tc=w,A=!0)}if(p.style.textAlign){const w=p.style.textAlign;(w==="left"||w==="center"||w==="right")&&(b.al=w,A=!0)}A&&(x.s=b),a.set(Nt({r:t.r+d,c:t.c+g}),x)}}return a}function CF(e,t,n){if(!t||t==="plain"||e==="")return e;const r=Number(e);if(isNaN(r))return e;const s=n??2;switch(t){case"number":return r.toLocaleString("en-US",{minimumFractionDigits:s,maximumFractionDigits:s});case"currency":return r.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:s,maximumFractionDigits:s});case"percent":return(r/100).toLocaleString("en-US",{style:"percent",minimumFractionDigits:s,maximumFractionDigits:s});default:return e}}const bY={rows:1e6,columns:18278};class SY{constructor(t){q(this,"store");q(this,"dimension");q(this,"activeCell");q(this,"range");q(this,"selectionType","cell");q(this,"rowDimensions");q(this,"colDimensions");q(this,"frozenRows",0);q(this,"frozenCols",0);q(this,"colStyles",new Map);q(this,"rowStyles",new Map);q(this,"sheetStyle");q(this,"copyBuffer");this.store=t,this.dimension={...bY},this.activeCell={r:1,c:1}}get dimensionRange(){return[{r:1,c:1},{r:this.dimension.rows,c:this.dimension.columns}]}getDimension(){return this.dimension}setDimensions(t,n){this.rowDimensions=t,this.colDimensions=n}getRowDimensions(){return this.rowDimensions}getColDimensions(){return this.colDimensions}setRowHeight(t,n){var r;(r=this.rowDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("row",t,n)}setColumnWidth(t,n){var r;(r=this.colDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("column",t,n)}async loadDimensions(){if(this.rowDimensions){this.rowDimensions.clear();const t=await this.store.getDimensionSizes("row");for(const[n,r]of t)this.rowDimensions.setSize(n,r)}if(this.colDimensions){this.colDimensions.clear();const t=await this.store.getDimensionSizes("column");for(const[n,r]of t)this.colDimensions.setSize(n,r)}}getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n,await this.store.setFreezePane(t,n)}async loadFreezePane(){const{frozenRows:t,frozenCols:n}=await this.store.getFreezePane();this.frozenRows=t,this.frozenCols=n}async loadStyles(){this.colStyles=await this.store.getColumnStyles(),this.rowStyles=await this.store.getRowStyles(),this.sheetStyle=await this.store.getSheetStyle()}getColStyles(){return this.colStyles}getRowStyles(){return this.rowStyles}getSheetStyle(){return this.sheetStyle}resolveEffectiveStyle(t,n,r){const s=this.sheetStyle,a=this.colStyles.get(n),u=this.rowStyles.get(t);if(!(!s&&!a&&!u&&!r))return{...s,...a,...u,...r}}async getCell(t){return this.store.get(t)}async setCell(t,n){await this.store.set(t,n)}async setGrid(t){await this.store.setGrid(t)}async hasFormula(t){const n=await this.store.get(t);return!!(n&&n.f)}async toInputString(t){const n=await this.store.get(t);return n?n.f?n.f:n.v||"":""}async toDisplayString(t){const n=await this.store.get(t);if(!n||!n.v)return"";const r=this.resolveEffectiveStyle(t.r,t.c,n.s);return CF(n.v,r==null?void 0:r.nf,r==null?void 0:r.dp)}async setData(t,n){this.store.beginBatch();try{const r=await this.store.get(t),s=n.startsWith("=")?{f:n}:{v:n},a=r!=null&&r.s?{...s,s:r.s}:s;this.isEmptyCell(a)?await this.store.delete(t):await this.store.set(t,a);const u=await this.store.buildDependantsMap([Nt(t)]);await j0(this,u,[Nt(t)])}finally{this.store.endBatch()}}async removeData(){this.store.beginBatch();try{const t=this.range?this.range:[this.activeCell,this.activeCell],n=await this.store.getGrid(t),r=new Set;for(const[a,u]of n){const d=dn(a);u.s&&Object.keys(u.s).length>0?await this.store.set(d,{s:u.s}):await this.store.delete(d),r.add(a)}if(r.size===0)return!1;const s=await this.store.buildDependantsMap(r);return await j0(this,s,r),!0}finally{this.store.endBatch()}}async insertRows(t,n=1){await this.shiftCells("row",t,n)}async deleteRows(t,n=1){await this.shiftCells("row",t,-n)}async insertColumns(t,n=1){await this.shiftCells("column",t,n)}async deleteColumns(t,n=1){await this.shiftCells("column",t,-n)}async moveRows(t,n,r){await this.moveCells("row",t,n,r)}async moveColumns(t,n,r){await this.moveCells("column",t,n,r)}async shiftCells(t,n,r){var a,u;await this.store.shiftCells(t,n,r),t==="row"?((a=this.rowDimensions)==null||a.shift(n,r),this.rowStyles=Dp(this.rowStyles,n,r)):((u=this.colDimensions)==null||u.shift(n,r),this.colStyles=Dp(this.colStyles,n,r));const s=t==="row"?this.activeCell.r:this.activeCell.c;if(r>0&&s>=n)t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r};else if(r<0){const d=Math.abs(r);s>=n&&s<n+d?t==="row"?this.activeCell={r:Math.max(1,n),c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:Math.max(1,n)}:s>=n+d&&(t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r})}this.store.beginBatch();try{const d=t==="row"?this.frozenRows:this.frozenCols;if(d>0){if(r>0&&n<=d){const m=d+r;t==="row"?this.frozenRows=m:this.frozenCols=m,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}else if(r<0){const m=Math.abs(r);if(n<=d){const x=Math.min(m,d-n+1),b=Math.max(0,d-x);t==="row"?this.frozenRows=b:this.frozenCols=b,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}}}const h=new Set,g=[{r:1,c:1},{r:1e3,c:100}],p=await this.store.getGrid(g);for(const[m,x]of p)x.f&&h.add(m);if(h.size>0){const m=await this.store.buildDependantsMap(h);await j0(this,m,h)}}finally{this.store.endBatch()}}async moveCells(t,n,r,s){var a,u;if(!(s>=n&&s<=n+r)){await this.store.moveCells(t,n,r,s),t==="row"?((a=this.rowDimensions)==null||a.move(n,r,s),this.rowStyles=Op(this.rowStyles,n,r,s)):((u=this.colDimensions)==null||u.move(n,r,s),this.colStyles=Op(this.colStyles,n,r,s)),this.activeCell=Lc(this.activeCell,t,n,r,s),this.range&&(this.range=[Lc(this.range[0],t,n,r,s),Lc(this.range[1],t,n,r,s)]),this.store.beginBatch();try{const d=new Set,h=[{r:1,c:1},{r:1e3,c:100}],g=await this.store.getGrid(h);for(const[p,m]of g)m.f&&d.add(p);if(d.size>0){const p=await this.store.buildDependantsMap(d);await j0(this,p,d)}}finally{this.store.endBatch()}}}async fetchGrid(t){return this.store.getGrid(t)}isEmptyCell(t){const n=t.v!==void 0&&t.v!==""&&t.v!==null,r=!!t.f,s=t.s!==void 0&&Object.keys(t.s).length>0;return!n&&!r&&!s}getCopyRange(){var t;return(t=this.copyBuffer)==null?void 0:t.sourceRange}clearCopyBuffer(){this.copyBuffer=void 0}async copy(){const t=this.range||[this.activeCell,this.activeCell],n=await this.fetchGrid(t),r=mY(n);return this.copyBuffer={sourceRange:t,grid:n,text:r},{text:r}}async paste(t){const{text:n,html:r}=t;let s;if(this.copyBuffer&&n===this.copyBuffer.text)s=this.relocateGrid(this.copyBuffer.grid,this.copyBuffer.sourceRange,this.activeCell);else if(r&&vY(r))s=xY(r,this.activeCell);else if(n)s=yY(this.activeCell,n);else return;this.store.beginBatch();try{await this.setGrid(s);const a=new Set;for(const[u,d]of s)d.f&&a.add(u);if(a.size>0){const u=await this.store.buildDependantsMap(a);await j0(this,u,a)}}finally{this.store.endBatch()}this.selectPastedRange(s)}selectPastedRange(t){if(t.size===0)return;let n=1/0,r=-1/0,s=1/0,a=-1/0;for(const u of t.keys()){const d=dn(u);d.r<n&&(n=d.r),d.r>r&&(r=d.r),d.c<s&&(s=d.c),d.c>a&&(a=d.c)}n===r&&s===a?this.selectStart({r:n,c:s}):(this.selectionType="cell",this.activeCell={r:n,c:s},this.range=[{r:n,c:s},{r,c:a}],this.store.updateActiveCell(this.activeCell))}relocateGrid(t,n,r){const s=r.r-n[0].r,a=r.c-n[0].c,u=new Map;for(const[d,h]of t){const g=dn(d),p={r:g.r+s,c:g.c+a},m=Nt(p);if(h.f){const x=dY(h.f,s,a);u.set(m,{f:x,s:h.s})}else u.set(m,{...h})}return u}async hasContents(t){return(await this.store.getGrid(t)).size>0}async fetchGridByReferences(t){const n=new Map;for(const r of Mc(t)){const s=await this.store.get(dn(r));s&&n.set(r,s)}return n}getActiveCell(){return this.activeCell}setActiveCell(t){this.activeCell=t,this.store.updateActiveCell(t)}getRange(){return this.range}getPresences(){return this.store.getPresences()}getRangeOrActiveCell(){return this.range||[this.activeCell,this.activeCell]}getSelectionType(){return this.selectionType}selectRow(t){this.selectionType="row",this.activeCell={r:t,c:1},this.range=[{r:t,c:1},{r:t,c:this.dimension.columns}],this.store.updateActiveCell(this.activeCell)}selectColumn(t){this.selectionType="column",this.activeCell={r:1,c:t},this.range=[{r:1,c:t},{r:this.dimension.rows,c:t}],this.store.updateActiveCell(this.activeCell)}selectRowRange(t,n){this.selectionType="row";const r=Math.min(t,n),s=Math.max(t,n);this.range=[{r,c:1},{r:s,c:this.dimension.columns}]}selectColumnRange(t,n){this.selectionType="column";const r=Math.min(t,n),s=Math.max(t,n);this.range=[{r:1,c:r},{r:this.dimension.rows,c:s}]}selectAllCells(){this.selectionType="all",this.activeCell={r:1,c:1},this.range=ib(this.dimensionRange),this.store.updateActiveCell(this.activeCell)}getSelectedIndices(){return this.selectionType==="cell"||this.selectionType==="all"||!this.range?null:this.selectionType==="row"?{axis:"row",from:this.range[0].r,to:this.range[1].r}:{axis:"column",from:this.range[0].c,to:this.range[1].c}}selectStart(t){Eb(t,this.dimensionRange)&&(this.selectionType="cell",this.setActiveCell(t),this.range=void 0)}selectEnd(t){if(Eb(t,this.dimensionRange)){if(J0(this.activeCell,t)){this.range=void 0;return}this.range=TO(this.activeCell,t)}}hasRange(){return!!this.range}async selectAll(){let t=this.getRangeOrActiveCell(),n=ib(t),r=!0;for(;r;){r=!1;for(const s of IW(n,this.dimensionRange))await this.hasContents(s)&&(n=OW(n,s),r=!0)}if(_W(t,n)){this.range=ib(this.dimensionRange);return}this.range=n}async moveToEdge(t){const n=await this.store.findEdge(this.activeCell,t,this.dimensionRange);return J0(this.activeCell,n)?!1:(this.range=void 0,this.setActiveCell(n),!0)}move(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let s=this.activeCell.r+n,a=this.activeCell.c+r;return!Eb({r:s,c:a},this.dimensionRange)||J0(this.activeCell,{r:s,c:a})?!1:(this.range=void 0,this.setActiveCell({r:s,c:a}),!0)}resizeRange(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let s=ib(this.range||[this.activeCell,this.activeCell]);return this.activeCell.r===s[1].r?s[0].r+=n:s[1].r+=n,this.activeCell.c===s[1].c?s[0].c+=r:s[1].c+=r,s=TO(s[0],s[1]),NW(s,this.dimensionRange)?(this.range=s,!0):!1}async getStyle(t){const n=await this.store.get(t);return this.resolveEffectiveStyle(t.r,t.c,n==null?void 0:n.s)}async setStyle(t,n){const r=await this.store.get(t)||{},s={...r.s,...n};for(const u of Object.keys(s))(s[u]===void 0||s[u]==="")&&delete s[u];const a=Object.keys(s).length>0?{...r,s}:{v:r.v,f:r.f};await this.store.set(t,a)}async setRangeStyle(t){this.store.beginBatch();try{if(this.selectionType==="column"){const r=this.getRangeOrActiveCell();for(let s=r[0].c;s<=r[1].c;s++){const u={...this.colStyles.get(s)||{},...t};for(const d of Object.keys(u))!u[d]&&u[d]!==0&&delete u[d];this.colStyles.set(s,u),await this.store.setColumnStyle(s,u)}return}if(this.selectionType==="row"){const r=this.getRangeOrActiveCell();for(let s=r[0].r;s<=r[1].r;s++){const u={...this.rowStyles.get(s)||{},...t};for(const d of Object.keys(u))!u[d]&&u[d]!==0&&delete u[d];this.rowStyles.set(s,u),await this.store.setRowStyle(s,u)}return}if(this.selectionType==="all"){const s={...this.sheetStyle||{},...t};for(const a of Object.keys(s))!s[a]&&s[a]!==0&&delete s[a];this.sheetStyle=s,await this.store.setSheetStyle(s);return}const n=this.getRangeOrActiveCell();for(let r=n[0].r;r<=n[1].r;r++)for(let s=n[0].c;s<=n[1].c;s++)await this.setStyle({r,c:s},t)}finally{this.store.endBatch()}}async toggleRangeStyle(t){const n=await this.getStyle(this.activeCell),r=!(n!=null&&n[t]);await this.setRangeStyle({[t]:r})}async getActiveDecimalPlaces(){const t=await this.getStyle(this.activeCell);return(t==null?void 0:t.dp)??2}async undo(){const t=await this.store.undo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}async redo(){const t=await this.store.redo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}moveInRange(t,n){const r=this.range||this.dimensionRange;let s=this.activeCell.r,a=this.activeCell.c;const u=r[1].r-r[0].r+1,d=r[1].c-r[0].c+1;t!==0&&(s+t>r[1].r?(s=r[0].r,a=(a+1-r[0].c+d)%d+r[0].c):s+t<r[0].r?(s=r[1].r,a=(a-1-r[0].c+d)%d+r[0].c):s+=t),n!==0&&(a+n>r[1].c?(a=r[0].c,s=(s+1-r[0].r+u)%u+r[0].r):a+n<r[0].c?(a=r[1].c,s=(s-1-r[0].r+u)%u+r[0].r):a+=n),this.setActiveCell({r:s,c:a})}}class EY{constructor(t){q(this,"grid");q(this,"cellIndex",new O2);q(this,"rowHeights",new Map);q(this,"colWidths",new Map);q(this,"colStyles",new Map);q(this,"rowStyles",new Map);q(this,"sheetStyle");q(this,"frozenRows",0);q(this,"frozenCols",0);this.grid=t||new Map,this.rebuildIndex()}async set(t,n){this.grid.set(Nt(t),n),this.cellIndex.add(t.r,t.c)}async get(t){return this.grid.get(Nt(t))}async has(t){return this.grid.has(Nt(t))}async delete(t){const n=this.grid.delete(Nt(t));return n&&this.cellIndex.remove(t.r,t.c),n}async deleteRange(t){const n=new Set,r=[];for(const[s,a]of this.cellIndex.cellsInRange(t)){const u=Nt({r:s,c:a});this.grid.delete(u),n.add(u),r.push([s,a])}for(const[s,a]of r)this.cellIndex.remove(s,a);return n}async setGrid(t){for(const[n,r]of t){this.grid.set(n,r);const s=dn(n);this.cellIndex.add(s.r,s.c)}}async getGrid(t){const n=new Map;for(const[r,s]of this.cellIndex.cellsInRange(t)){const a=Nt({r,c:s}),u=this.grid.get(a);u!==void 0&&n.set(a,u)}return n}async findEdge(t,n,r){return D2(this.cellIndex,t,n,r,(s,a)=>{const u=this.grid.get(Nt({r:s,c:a}));return u!==void 0&&(!!u.v||!!u.f)})}async shiftCells(t,n,r){this.grid=hY(this.grid,t,n,r),this.rebuildIndex(),t==="row"?(this.rowHeights=Dp(this.rowHeights,n,r),this.rowStyles=Dp(this.rowStyles,n,r)):(this.colWidths=Dp(this.colWidths,n,r),this.colStyles=Dp(this.colStyles,n,r))}async moveCells(t,n,r,s){this.grid=fY(this.grid,t,n,r,s),this.rebuildIndex(),t==="row"?(this.rowHeights=Op(this.rowHeights,n,r,s),this.rowStyles=Op(this.rowStyles,n,r,s)):(this.colWidths=Op(this.colWidths,n,r,s),this.colStyles=Op(this.colStyles,n,r,s))}async buildDependantsMap(t){const n=Array.from(this.grid.entries()),r=new Map;for(const[s,a]of n)if(a.f)for(const u of Mc(Q0(a.f)))r.has(u)||r.set(u,new Set),r.get(u).add(s);return r}getPresences(){return[]}async setDimensionSize(t,n,r){(t==="row"?this.rowHeights:this.colWidths).set(n,r)}async getDimensionSizes(t){return new Map(t==="row"?this.rowHeights:this.colWidths)}updateActiveCell(t){}async setColumnStyle(t,n){this.colStyles.set(t,n)}async getColumnStyles(){return new Map(this.colStyles)}async setRowStyle(t,n){this.rowStyles.set(t,n)}async getRowStyles(){return new Map(this.rowStyles)}async setSheetStyle(t){this.sheetStyle=t}async getSheetStyle(){return this.sheetStyle?{...this.sheetStyle}:void 0}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n}async getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=dn(t);return[n.r,n.c]}))}}const AY={cellBorderColor:"#D3D3D3",cellBGColor:"#FFFFFF",cellTextColor:"#000000",activeCellColor:"#E6C746",selectionBGColor:"rgba(230, 199, 70, 0.1)",headerBGColor:"#F0F0F0",headerActiveBGColor:"#E6C746","tokens.REFERENCE":"#E6C746","tokens.NUM":"#4DA6FF",peerCursor1:"#FF6B6B",peerCursor2:"#4ECDC4",peerCursor3:"#45B7D1",peerCursor4:"#96CEB4",peerCursor5:"#FFEAA7",peerCursor6:"#DDA0DD",peerCursor7:"#98D8C8",peerCursor8:"#F7DC6F",resizeHandleColor:"#1A73E8",headerSelectedBGColor:"rgba(26, 115, 232, 0.3)",dropIndicatorColor:"#1A73E8",freezeLineColor:"#BBBBBB",freezeHandleColor:"#9E9E9E",freezeHandleHoverColor:"#5F6368",formulaRange1:"#1A73E8",formulaRange2:"#E84C3D",formulaRange3:"#9B59B6",formulaRange4:"#27AE60",formulaRange5:"#F39C12",formulaRange6:"#00ACC1"},CY={cellBorderColor:"#4A4A4A",cellBGColor:"#1E1E1E",cellTextColor:"#FFFFFF",activeCellColor:"#D4B73E",selectionBGColor:"rgba(212, 183, 62, 0.1)",headerBGColor:"#2D2D2D",headerActiveBGColor:"#D4B73E","tokens.REFERENCE":"#D4B73E","tokens.NUM":"#4DA6FF",peerCursor1:"#FF7979",peerCursor2:"#55EFC4",peerCursor3:"#74B9FF",peerCursor4:"#A4D4C4",peerCursor5:"#FDCB6E",peerCursor6:"#E17055",peerCursor7:"#81ECEC",peerCursor8:"#F8D84F",resizeHandleColor:"#8AB4F8",headerSelectedBGColor:"rgba(138, 180, 248, 0.3)",dropIndicatorColor:"#8AB4F8",freezeLineColor:"#5A5A5A",freezeHandleColor:"#8E8E8E",freezeHandleHoverColor:"#CCCCCC",formulaRange1:"#8AB4F8",formulaRange2:"#FF7979",formulaRange3:"#BB86FC",formulaRange4:"#66BB6A",formulaRange5:"#FFB74D",formulaRange6:"#4DD0E1"};function lr(e,t){return e==="light"?AY[t]:CY[t]}const MO=["formulaRange1","formulaRange2","formulaRange3","formulaRange4","formulaRange5","formulaRange6"];function zb(e,t){return lr(e,MO[t%MO.length])}function LO(e,t){const n=["peerCursor1","peerCursor2","peerCursor3","peerCursor4","peerCursor5","peerCursor6","peerCursor7","peerCursor8"];let r=0;for(let a=0;a<t.length;a++){const u=t.charCodeAt(a);r=(r<<5)-r+u,r=r&r}const s=Math.abs(r)%n.length;return lr(e,n[s])}function Ud(e){const t=window.getSelection();if(t.rangeCount===0)return;const n=t.getRangeAt(0);if(!e.contains(n.commonAncestorContainer))return;let r=0,s=0,a=0;function u(d){if(d.nodeType===Node.TEXT_NODE){const h=d.textContent;d===n.startContainer&&(s=r+n.startOffset),d===n.endContainer&&(a=r+n.endOffset),r+=h.length}for(const h of d.childNodes)u(h)}return u(e),{start:s,end:a}}function kp(e,t){let n=0,r=null,s=null;const a=document.createRange();function u(h){if(h.nodeType===Node.TEXT_NODE){const g=h.textContent;r===null&&n+g.length>=t.start&&(r=h,a.setStart(h,t.start-n)),s===null&&n+g.length>=t.end&&(s=h,a.setEnd(h,t.end-n)),n+=g.length}for(const g of h.childNodes)u(g)}u(e);const d=window.getSelection();d.removeAllRanges(),d.addRange(a),e.focus()}function wF(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#039;"),e=e.replace(/\n/g,"<br>"),e=e.replace(/ /g,"&nbsp;"),e}const RF=23,TF=10;class wY{constructor(t="light"){q(this,"sheet");q(this,"theme");q(this,"container");q(this,"cellLabel");q(this,"formulaInput");q(this,"boundRenderInput");this.theme=t,this.container=document.createElement("div"),this.container.style.height=`${RF}px`,this.container.style.margin=`${TF}px 0px`,this.container.style.display="flex",this.container.style.alignItems="center",this.container.style.borderTop=`1px solid ${lr(this.theme,"cellBorderColor")}`,this.container.style.borderBottom=`1px solid ${lr(this.theme,"cellBorderColor")}`,this.container.style.justifyContent="flex-start",this.cellLabel=document.createElement("div"),this.cellLabel.style.width="120px",this.cellLabel.style.textAlign="center",this.cellLabel.style.font="12px Arial",this.cellLabel.style.borderRight=`1px solid ${lr(this.theme,"cellBorderColor")}`,this.container.appendChild(this.cellLabel),this.formulaInput=document.createElement("div"),this.formulaInput.contentEditable="true",this.formulaInput.style.margin="0 20px",this.formulaInput.style.width="100%",this.formulaInput.style.height="12px",this.formulaInput.style.border="none",this.formulaInput.style.font="12px Arial",this.formulaInput.style.outline="none",this.formulaInput.style.overflow="hidden",this.formulaInput.style.whiteSpace="nowrap",this.formulaInput.style.lineHeight="12px",this.container.appendChild(this.formulaInput),this.boundRenderInput=this.renderInput.bind(this),this.formulaInput.addEventListener("input",this.boundRenderInput)}getContainer(){return this.container}initialize(t){this.sheet=t}cleanup(){this.formulaInput.removeEventListener("input",this.boundRenderInput),this.sheet=void 0,this.container.remove()}async render(){if(!this.sheet)return;const t=this.sheet.getActiveCell(),n=this.sheet.getSelectionType(),r=this.sheet.getSelectedIndices();let s;if(n==="row"&&r)s=`${r.from}:${r.to}`;else if(n==="column"&&r){const a=ay(r.from),u=ay(r.to);s=`${a}:${u}`}else{const a=this.sheet.getRange();s=a?DW(a):Nt(t)}this.cellLabel.textContent=s,this.formulaInput.innerText=await this.sheet.toInputString(t),this.renderInput()}getFormulaInput(){return this.formulaInput}getValue(){return this.formulaInput.innerText}setValue(t){this.formulaInput.innerText=t,this.renderInput()}focus(){this.formulaInput.focus()}blur(){this.formulaInput.blur()}isFocused(){return document.activeElement===this.formulaInput}renderInput(){const t=this.formulaInput.innerText;if(!t.startsWith("="))return;const n=Zc(t),r=[];let s=0;for(const u of n){if(u.type==="REFERENCE"){r.push(`<span style="color: ${zb(this.theme,s)}">${u.text}</span>`),s++;continue}if(u.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${u.text}</span>`);continue}r.push(wF(u.text))}const a=Ud(this.formulaInput);this.formulaInput.innerHTML="="+r.join(""),a&&kp(this.formulaInput,a)}getThemeColor(t){return lr(this.theme,t)}}const ba=100,et=23,nt=50,Sc=13,Vb=1.5,KA=4,XC=5,XA=.5,RY="center",TY=10,FO=10,NF=4,NY=10;function In(e,t={left:0,top:0},n,r){const s=r?r.getOffset(e.c):(e.c-1)*ba,a=n?n.getOffset(e.r):(e.r-1)*et,u=r?r.getSize(e.c):ba,d=n?n.getSize(e.r):et;return{left:s+nt-t.left,top:a+et-t.top,width:u,height:d}}function z0(e,t){const n=Math.min(e.left,t.left),r=Math.min(e.top,t.top),s=Math.max(e.left+e.width,t.left+t.width),a=Math.max(e.top+e.height,t.top+t.height);return{left:n,top:r,width:s-n,height:a-r}}const OS={frozenRows:0,frozenCols:0,frozenWidth:0,frozenHeight:0};function _Y(e,t,n,r){return e===0&&t===0?OS:{frozenRows:e,frozenCols:t,frozenWidth:t>0?r.getOffset(t+1):0,frozenHeight:e>0?n.getOffset(e+1):0}}function IY(e,t,n,r){const s=n?n.findIndex(t-et):Math.floor(t/et),a=r?r.findIndex(e-nt):Math.floor((e+nt)/ba);return{r:s,c:a}}function OY(e,t,n,r,s,a){const u=a.frozenCols>0&&e<nt+a.frozenWidth,d=a.frozenRows>0&&t<et+a.frozenHeight,h=u?e-nt:e-nt-a.frozenWidth+s.getOffset(a.frozenCols+1)+n.left,g=d?t-et:t-et-a.frozenHeight+r.getOffset(a.frozenRows+1)+n.top,p=s.findIndex(h),m=r.findIndex(g);return{r:Math.max(1,m),c:Math.max(1,p)}}function DY(e,t,n,r,s){const a=r.getOffset(e.c),u=n.getOffset(e.r),d=r.getSize(e.c),h=n.getSize(e.r),g=s.frozenCols>0&&e.c<=s.frozenCols,p=s.frozenRows>0&&e.r<=s.frozenRows,m=g?a+nt:a+nt-t.left-r.getOffset(s.frozenCols+1)+s.frozenWidth,x=p?u+et:u+et-t.top-n.getOffset(s.frozenRows+1)+s.frozenHeight;return{left:m,top:x,width:d,height:h}}class PY{constructor(t="light"){q(this,"container");q(this,"input");q(this,"theme");q(this,"boundHandleInput");q(this,"minWidth",ba);q(this,"minHeight",et);q(this,"maxWidth",1/0);q(this,"maxHeight",1/0);q(this,"composing",!1);this.theme=t,this.container=document.createElement("div"),this.container.style.position="absolute",this.container.style.left="-1000px",this.container.style.width=ba+"px",this.container.style.height=et+"px",this.container.style.zIndex="1",this.container.style.margin="0px",this.container.style.pointerEvents="none",this.input=document.createElement("div"),this.input.contentEditable="true",this.input.style.border="none",this.input.style.outline=`2px solid ${this.getThemeColor("activeCellColor")}`,this.input.style.fontFamily="Arial, sans-serif",this.input.style.fontSize=Sc+"px",this.input.style.fontWeight="normal",this.input.style.lineHeight=String(Vb),this.input.style.color=this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=this.getThemeColor("cellBGColor"),this.input.style.whiteSpace="pre",this.input.style.overflow="hidden",this.container.appendChild(this.input),this.boundHandleInput=this.handleInput.bind(this),this.input.addEventListener("input",this.boundHandleInput),this.input.addEventListener("compositionstart",()=>{this.composing=!0}),this.input.addEventListener("compositionend",()=>{this.composing=!1,this.adjustSize()})}cleanup(){this.input.removeEventListener("input",this.boundHandleInput),this.container.remove()}getContainer(){return this.container}getInput(){return this.input}show(t,n,r="",s=!0,a,u,d,h){this.minWidth=a??ba,this.minHeight=u??et,this.maxWidth=d??1/0,this.maxHeight=h??1/0,this.container.style.left=t+"px",this.container.style.top=n+"px",this.container.style.pointerEvents="auto",this.input.innerText=r,this.renderInput(),this.adjustSize(),s&&(kp(this.input,{start:this.input.innerText.length,end:this.input.innerText.length}),this.input.focus())}hide(){this.container.style.left="-1000px",this.container.style.pointerEvents="none",this.input.innerText="",this.input.blur()}isShown(){return this.container.style.left!=="-1000px"}isFocused(){return document.activeElement===this.input}getValue(){return this.input.innerText}setValue(t){this.input.innerText=t,this.renderInput(),this.adjustSize()}hasFormula(){return this.input.innerText.startsWith("=")}applyStyle(t){this.input.style.fontWeight=t!=null&&t.b?"bold":"normal",this.input.style.fontStyle=t!=null&&t.i?"italic":"normal";const n=[];t!=null&&t.u&&n.push("underline"),t!=null&&t.st&&n.push("line-through"),this.input.style.textDecoration=n.length?n.join(" "):"none",this.input.style.color=(t==null?void 0:t.tc)||this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=(t==null?void 0:t.bg)||this.getThemeColor("cellBGColor"),this.input.style.textAlign=(t==null?void 0:t.al)||"left";const r=(t==null?void 0:t.va)||"top";this.container.style.display="flex",this.container.style.alignItems=r==="middle"?"center":r==="bottom"?"flex-end":"flex-start"}handleInput(){this.renderInput(),this.composing||this.adjustSize()}adjustSize(){this.input.style.width=this.minWidth+"px",this.input.style.height=this.minHeight+"px";const t=Math.min(Math.max(this.minWidth,this.input.scrollWidth),this.maxWidth),n=Math.min(Math.max(this.minHeight,this.input.scrollHeight),this.maxHeight);this.container.style.width=t+"px",this.container.style.height=n+"px",this.input.style.width=t+"px",this.input.style.height=n+"px",this.input.style.overflowY=this.input.scrollHeight>this.maxHeight?"auto":"hidden"}renderInput(){const t=this.input.innerText;if(!t.startsWith("="))return;const n=Zc(t),r=[];let s=0;for(const u of n){if(u.type==="REFERENCE"){r.push(`<span style="color: ${zb(this.theme,s)}">${u.text}</span>`),s++;continue}if(u.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${u.text}</span>`);continue}r.push(wF(u.text))}const a=Ud(this.input);this.input.innerHTML="="+r.join(""),a&&kp(this.input,a)}getThemeColor(t){return lr(this.theme,t)}}class MY{constructor(t="light"){q(this,"canvas");q(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="1",this.canvas.style.pointerEvents="none"}cleanup(){this.canvas.remove()}getContainer(){return this.canvas}render(t,n,r,s,a,u,d,h,g,p,m,x=OS,b,A){this.canvas.width=0,this.canvas.height=0;const C=this.canvas.getContext("2d"),w=window.devicePixelRatio||1;if(this.canvas.width=t.width*w,this.canvas.height=t.height*w,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",C.scale(w,w),!(x.frozenRows>0||x.frozenCols>0))this.renderActiveCellSimple(C,r,n,u,d),this.renderSelectionSimple(C,t,n,a,g,u,d),this.renderPeerCursorsSimple(C,t,s,n,u,d),this.renderFormulaRangesSimple(C,m,n,u,d),this.renderCopyRangeSimple(C,A,n,u,d);else{const _=this.buildQuadrants(t,n,x,u,d);this.renderSelectionFrozen(C,t,n,a,g,u,d,x,_);for(const I of _){C.save(),C.beginPath(),C.rect(I.x,I.y,I.width,I.height),C.clip();const D=In(r,{left:I.scrollLeft,top:I.scrollTop},u,d);C.strokeStyle=this.getThemeColor("activeCellColor"),C.lineWidth=2,C.strokeRect(D.left,D.top,D.width,D.height),C.restore()}for(const{clientID:I,presence:D}of s){if(!D.activeCell)continue;const L=dn(D.activeCell),k=LO(this.theme,I);for(const U of _){C.save(),C.beginPath(),C.rect(U.x,U.y,U.width,U.height),C.clip();const B=In(L,{left:U.scrollLeft,top:U.scrollTop},u,d);B.left>=-B.width&&B.left<t.width&&B.top>=-B.height&&B.top<t.height&&(C.strokeStyle=k,C.lineWidth=2,C.strokeRect(B.left,B.top,B.width,B.height)),C.restore()}}if(m&&m.length>0)for(let I=0;I<m.length;I++){const D=m[I],L=zb(this.theme,I);for(const k of _){C.save(),C.beginPath(),C.rect(k.x,k.y,k.width,k.height),C.clip();const U={left:k.scrollLeft,top:k.scrollTop},B=z0(In(D[0],U,u,d),In(D[1],U,u,d));C.strokeStyle=L,C.lineWidth=2,C.strokeRect(B.left,B.top,B.width,B.height),C.fillStyle=L+"20",C.fillRect(B.left,B.top,B.width,B.height),C.restore()}}if(A)for(const I of _){C.save(),C.beginPath(),C.rect(I.x,I.y,I.width,I.height),C.clip();const D={left:I.scrollLeft,top:I.scrollTop};this.drawCopyRangeBorder(C,A,D,u,d),C.restore()}}h&&d&&u&&this.renderResizeHover(C,t,n,h,u,d,x),p&&d&&u&&this.renderDragMoveIndicator(C,t,n,p,u,d,x),b&&d&&u&&this.renderFreezeDragPreview(C,t,b,u,d)}buildQuadrants(t,n,r,s,a){const u=r.frozenWidth,d=r.frozenHeight,h=s?s.getOffset(r.frozenRows+1):0,g=a?a.getOffset(r.frozenCols+1):0,p=[];return p.push({x:nt+u,y:et+d,width:t.width-nt-u,height:t.height-et-d,scrollLeft:n.left+g-u,scrollTop:n.top+h-d}),r.frozenRows>0&&p.push({x:nt+u,y:et,width:t.width-nt-u,height:d,scrollLeft:n.left+g-u,scrollTop:0}),r.frozenCols>0&&p.push({x:nt,y:et+d,width:u,height:t.height-et-d,scrollLeft:0,scrollTop:n.top+h-d}),r.frozenRows>0&&r.frozenCols>0&&p.push({x:nt,y:et,width:u,height:d,scrollLeft:0,scrollTop:0}),p}renderActiveCellSimple(t,n,r,s,a){const u=In(n,r,s,a);t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.strokeRect(u.left,u.top,u.width,u.height)}renderSelectionSimple(t,n,r,s,a,u,d){if(a==="all")t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(nt,et,n.width-nt,n.height-et);else if(s)if(a==="row"){const h=In(s[0],r,u,d),g=In(s[1],r,u,d),p=h.top,m=g.top+g.height-h.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(nt,p,n.width-nt,m),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(nt,p,n.width-nt,m)}else if(a==="column"){const h=In(s[0],r,u,d),g=In(s[1],r,u,d),p=h.left,m=g.left+g.width-h.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(p,et,m,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(p,et,m,n.height-et)}else{const h=z0(In(s[0],r,u,d),In(s[1],r,u,d));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(h.left,h.top,h.width,h.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(h.left,h.top,h.width,h.height)}}renderPeerCursorsSimple(t,n,r,s,a,u){for(const{clientID:d,presence:h}of r){if(!h.activeCell)continue;const g=dn(h.activeCell),p=In(g,s,a,u);if(p.left>=-p.width&&p.left<n.width&&p.top>=-p.height&&p.top<n.height){const m=LO(this.theme,d);t.strokeStyle=m,t.lineWidth=2,t.strokeRect(p.left,p.top,p.width,p.height)}}}renderFormulaRangesSimple(t,n,r,s,a){if(!(!n||n.length===0))for(let u=0;u<n.length;u++){const d=n[u],h=z0(In(d[0],r,s,a),In(d[1],r,s,a)),g=zb(this.theme,u);t.strokeStyle=g,t.lineWidth=2,t.strokeRect(h.left,h.top,h.width,h.height),t.fillStyle=g+"20",t.fillRect(h.left,h.top,h.width,h.height)}}renderCopyRangeSimple(t,n,r,s,a){n&&this.drawCopyRangeBorder(t,n,r,s,a)}drawCopyRangeBorder(t,n,r,s,a){const u=z0(In(n[0],r,s,a),In(n[1],r,s,a));t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.setLineDash([5,3]),t.strokeRect(u.left,u.top,u.width,u.height),t.setLineDash([])}renderSelectionFrozen(t,n,r,s,a,u,d,h,g){if(a==="all"){t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(nt,et,n.width-nt,n.height-et);return}if(s)for(const p of g){t.save(),t.beginPath(),t.rect(p.x,p.y,p.width,p.height),t.clip();const m={left:p.scrollLeft,top:p.scrollTop};if(a==="row"){const x=In(s[0],m,u,d),b=In(s[1],m,u,d),A=x.top,C=b.top+b.height-x.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(nt,A,n.width-nt,C),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(nt,A,n.width-nt,C)}else if(a==="column"){const x=In(s[0],m,u,d),b=In(s[1],m,u,d),A=x.left,C=b.left+b.width-x.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(A,et,C,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(A,et,C,n.height-et)}else{const x=z0(In(s[0],m,u,d),In(s[1],m,u,d));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(x.left,x.top,x.width,x.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(x.left,x.top,x.width,x.height)}t.restore()}}renderResizeHover(t,n,r,s,a,u,d){if(t.strokeStyle=this.getThemeColor("resizeHandleColor"),t.lineWidth=2,s.axis==="column"){const g=d.frozenCols>0&&s.index<=d.frozenCols?0:r.left+u.getOffset(d.frozenCols+1)-d.frozenWidth,p=nt+u.getOffset(s.index)+u.getSize(s.index)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=d.frozenRows>0&&s.index<=d.frozenRows?0:r.top+a.getOffset(d.frozenRows+1)-d.frozenHeight,p=et+a.getOffset(s.index)+a.getSize(s.index)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderDragMoveIndicator(t,n,r,s,a,u,d){if(t.strokeStyle=this.getThemeColor("dropIndicatorColor"),t.lineWidth=3,s.axis==="column"){const g=d.frozenCols>0&&s.dropIndex<=d.frozenCols?0:r.left+u.getOffset(d.frozenCols+1)-d.frozenWidth,p=nt+u.getOffset(s.dropIndex)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=d.frozenRows>0&&s.dropIndex<=d.frozenRows?0:r.top+a.getOffset(d.frozenRows+1)-d.frozenHeight,p=et+a.getOffset(s.dropIndex)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderFreezeDragPreview(t,n,r,s,a){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,r.axis==="row"){const u=r.targetIndex===0?et:et+s.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(0,u),t.lineTo(n.width,u),t.stroke()}else{const u=r.targetIndex===0?nt:nt+a.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(u,0),t.lineTo(u,n.height),t.stroke()}}getThemeColor(t){return lr(this.theme,t)}}const sb=1e7;class LY{constructor(t="light"){q(this,"container");q(this,"scrollContainer");q(this,"dummyContainer");q(this,"actualWidth",0);q(this,"actualHeight",0);this.createContainers()}createContainers(){this.container=document.createElement("div"),this.container.style.position="relative",this.container.style.width="100%",this.container.style.height=`calc(100% - ${RF+TF*2}px)`,this.scrollContainer=document.createElement("div"),this.scrollContainer.style.position="absolute",this.scrollContainer.style.overflow="auto",this.scrollContainer.style.width="100%",this.scrollContainer.style.height="100%",this.scrollContainer.style.zIndex="1",this.dummyContainer=document.createElement("div"),this.dummyContainer.style.margin="0px",this.dummyContainer.style.padding="0px",this.dummyContainer.style.pointerEvents="none",this.scrollContainer.appendChild(this.dummyContainer),this.container.appendChild(this.scrollContainer)}getContainer(){return this.container}getScrollContainer(){return this.scrollContainer}getDummyContainer(){return this.dummyContainer}updateDummySize(t,n){this.actualWidth=t,this.actualHeight=n;const r=Math.min(t,sb),s=Math.min(n,sb);this.dummyContainer.style.width=r+"px",this.dummyContainer.style.height=s+"px"}appendChild(t){this.container.appendChild(t)}getViewport(){return this.scrollContainer.getBoundingClientRect()}getScrollPosition(){const t=this.scrollContainer.scrollLeft,n=this.scrollContainer.scrollTop,r=this.scrollContainer.getBoundingClientRect();return{left:this.toLogical(t,this.actualWidth,r.width),top:this.toLogical(n,this.actualHeight,r.height)}}setScrollPosition(t){const n=this.scrollContainer.getBoundingClientRect();t.left!==void 0&&(this.scrollContainer.scrollLeft=this.toPhysical(t.left,this.actualWidth,n.width)),t.top!==void 0&&(this.scrollContainer.scrollTop=this.toPhysical(t.top,this.actualHeight,n.height))}scrollBy(t,n){const r=this.scrollContainer.getBoundingClientRect(),s=this.needsRemap(this.actualWidth,r.width)?t*this.physicalMax(this.actualWidth,r.width)/this.logicalMax(this.actualWidth,r.width):t,a=this.needsRemap(this.actualHeight,r.height)?n*this.physicalMax(this.actualHeight,r.height)/this.logicalMax(this.actualHeight,r.height):n;this.scrollContainer.scrollBy(s,a)}addEventListener(t,n,r){this.scrollContainer.addEventListener(t,n,r)}removeEventListener(t,n,r){this.scrollContainer.removeEventListener(t,n,r)}cleanup(){this.container.remove()}needsRemap(t,n){return t>sb&&n<t}cappedSize(t){return Math.min(t,sb)}physicalMax(t,n){return this.cappedSize(t)-n}logicalMax(t,n){return t-n}toLogical(t,n,r){if(!this.needsRemap(n,r))return t;const s=this.physicalMax(n,r);if(s<=0)return 0;const a=this.logicalMax(n,r);return t*a/s}toPhysical(t,n,r){if(!this.needsRemap(n,r))return t;const s=this.logicalMax(n,r);if(s<=0)return 0;const a=this.physicalMax(n,r);return t*a/s}}class FY{constructor(t="light"){q(this,"canvas");q(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.pointerEvents="none"}getCanvas(){return this.canvas}render(t,n,r,s,a,u,d,h,g,p=OS,m=null,x,b,A){this.canvas.width=0,this.canvas.height=0;const C=this.canvas.getContext("2d"),w=window.devicePixelRatio||1;this.canvas.width=t.width*w,this.canvas.height=t.height*w,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",C.scale(w,w);const[T,_]=r;if(!(p.frozenRows>0||p.frozenCols>0))this.renderQuadrantCells(C,T.r,_.r+1,T.c,_.c+1,a,n,u,d,x,b,A),this.renderColumnHeaders(C,T.c,_.c,n.left,nt,t.width,s,h,g,u,d),this.renderRowHeaders(C,T.r,_.r,n.top,et,t.height,s,h,g,u,d);else{const L=p.frozenWidth,k=p.frozenHeight,U=p.frozenRows,B=p.frozenCols,W=u?u.getOffset(U+1):U*et,te=d?d.getOffset(B+1):B*ba;C.save(),C.beginPath(),C.rect(nt+L,et+k,t.width-nt-L,t.height-et-k),C.clip(),this.renderQuadrantCells(C,T.r,_.r+1,T.c,_.c+1,a,{left:n.left+te-L,top:n.top+W-k},u,d,x,b,A),C.restore(),U>0&&(C.save(),C.beginPath(),C.rect(nt+L,et,t.width-nt-L,k),C.clip(),this.renderQuadrantCells(C,1,U+1,T.c,_.c+1,a,{left:n.left+te-L,top:0},u,d,x,b,A),C.restore()),B>0&&(C.save(),C.beginPath(),C.rect(nt,et+k,L,t.height-et-k),C.clip(),this.renderQuadrantCells(C,T.r,_.r+1,1,B+1,a,{left:0,top:n.top+W-k},u,d,x,b,A),C.restore()),U>0&&B>0&&(C.save(),C.beginPath(),C.rect(nt,et,L,k),C.clip(),this.renderQuadrantCells(C,1,U+1,1,B+1,a,{left:0,top:0},u,d,x,b,A),C.restore()),B>0&&this.renderColumnHeaders(C,1,B,0,nt,nt+L,s,h,g,u,d),this.renderColumnHeaders(C,T.c,_.c,n.left+te-L,nt+L,t.width,s,h,g,u,d),U>0&&this.renderRowHeaders(C,1,U,0,et,et+k,s,h,g,u,d),this.renderRowHeaders(C,T.r,_.r,n.top+W-k,et+k,t.height,s,h,g,u,d),this.renderFreezeLines(C,t,L,k)}const D=h==="all";C.fillStyle=D?this.getThemeColor("headerSelectedBGColor"):this.getThemeColor("headerBGColor"),C.fillRect(0,0,nt,et),C.strokeStyle=this.getThemeColor("cellBorderColor"),C.lineWidth=XA,C.strokeRect(0,0,nt,et),this.renderFreezeHandles(C,p,m)}renderQuadrantCells(t,n,r,s,a,u,d,h,g,p,m,x){for(let b=n;b<=r;b++){const A=m==null?void 0:m.get(b);for(let C=s;C<=a;C++){const w=u==null?void 0:u.get(Nt({r:b,c:C})),T=p==null?void 0:p.get(C);let _;(x||T||A||w!=null&&w.s)&&(_={...x,...T,...A,...w==null?void 0:w.s}),this.renderCellBackground(t,{r:b,c:C},w,d,h,g,_)}}for(let b=n;b<=r;b++){const A=m==null?void 0:m.get(b);for(let C=s;C<=a;C++){const w=u==null?void 0:u.get(Nt({r:b,c:C})),T=p==null?void 0:p.get(C);let _;(x||T||A||w!=null&&w.s)&&(_={...x,...T,...A,...w==null?void 0:w.s}),this.renderCellContent(t,{r:b,c:C},w,d,h,g,_,u,a)}}}renderColumnHeaders(t,n,r,s,a,u,d,h,g,p,m){t.save(),t.beginPath(),t.rect(a,0,u-a,et),t.clip();for(let x=n;x<=r;x++){const b=m?m.getOffset(x):ba*(x-1),A=m?m.getSize(x):ba,C=nt+b-s,w=0,T=h==="all"||h==="column"&&g&&x>=g[0].c&&x<=g[1].c;this.renderHeader(t,C,w,A,et,ay(x),d.c===x,T||!1)}t.restore()}renderRowHeaders(t,n,r,s,a,u,d,h,g,p,m){t.save(),t.beginPath(),t.rect(0,a,nt,u-a),t.clip();for(let x=n;x<=r;x++){const b=p?p.getOffset(x):et*(x-1),A=p?p.getSize(x):et,C=0,w=b+et-s,T=h==="all"||h==="row"&&g&&x>=g[0].r&&x<=g[1].r;this.renderHeader(t,C,w,nt,A,String(x),d.r===x,T||!1)}t.restore()}renderFreezeLines(t,n,r,s){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,s>0){const a=et+s;t.beginPath(),t.moveTo(0,a),t.lineTo(n.width,a),t.stroke()}if(r>0){const a=nt+r;t.beginPath(),t.moveTo(a,0),t.lineTo(a,n.height),t.stroke()}}renderFreezeHandles(t,n,r){const s=n.frozenRows>0||n.frozenCols>0,a=NF,u=s&&n.frozenRows>0?et+n.frozenHeight-a/2:et-a,d=r==="row";t.fillStyle=d?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(0,u,nt,a);const h=s&&n.frozenCols>0?nt+n.frozenWidth-a/2:nt-a,g=r==="column";t.fillStyle=g?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(h,0,a,et)}renderHeader(t,n,r,s,a,u,d,h=!1){t.fillStyle=h?this.getThemeColor("headerSelectedBGColor"):d?this.getThemeColor("headerActiveBGColor"):this.getThemeColor("headerBGColor"),t.fillRect(n,r,s,a),t.strokeStyle=this.getThemeColor("cellBorderColor"),t.lineWidth=XA,t.strokeRect(n,r,s,a),t.fillStyle=this.getThemeColor("cellTextColor"),t.textAlign=RY,t.font=d||h?"bold 10px Arial":"10px Arial",t.fillText(u,n+s/2,r+Math.min(15,a-4))}renderCellBackground(t,n,r,s,a,u,d){const h=In(n,s,a,u),g=d??(r==null?void 0:r.s);t.strokeStyle=this.getThemeColor("cellTextColor"),t.lineWidth=XA,t.strokeRect(h.left,h.top,h.width,h.height),t.fillStyle=(g==null?void 0:g.bg)||this.getThemeColor("cellBGColor"),t.fillRect(h.left,h.top,h.width,h.height)}renderCellContent(t,n,r,s,a,u,d,h,g){const p=In(n,s,a,u),m=d??(r==null?void 0:r.s),x=(r==null?void 0:r.v)||"";if(x){const b=CF(x,m==null?void 0:m.nf,m==null?void 0:m.dp),A=b.split(`
`),C=[];m!=null&&m.b&&C.push("bold"),m!=null&&m.i&&C.push("italic"),C.push(`${Sc}px Arial`);const w=C.join(" ");let T=p.width;const _=(m==null?void 0:m.al)||"left";if(A.length===1&&_==="left"&&h&&u&&g){t.save(),t.font=w;const U=t.measureText(b).width+KA*2;if(t.restore(),U>p.width){let B=0;for(let W=n.c+1;W<=g;W++){const te=h.get(Nt({r:n.r,c:W}));if(te&&(te.v||te.f))break;const ie=u.getSize(W);if(B+=ie,p.width+B>=U)break}T=p.width+B}}t.save(),t.beginPath(),t.rect(p.left,p.top,T,p.height),t.clip(),t.fillStyle=(m==null?void 0:m.tc)||this.getThemeColor("cellTextColor"),t.font=w,t.textBaseline="top";let I;_==="center"?(t.textAlign="center",I=p.left+p.width/2):_==="right"?(t.textAlign="right",I=p.left+p.width-KA):(t.textAlign="left",I=p.left+KA);const D=(m==null?void 0:m.va)||"top",L=A.length*Sc*Vb;let k;D==="middle"?k=p.top+(p.height-L)/2:D==="bottom"?k=p.top+p.height-L-XC:k=p.top+XC;for(let U=0;U<A.length;U++){const B=k+U*(Sc*Vb);if(t.fillText(A[U],I,B),m!=null&&m.u){const W=t.measureText(A[U]),te=B+Sc+1;let ie;_==="center"?ie=I-W.width/2:_==="right"?ie=I-W.width:ie=I,t.beginPath(),t.strokeStyle=(m==null?void 0:m.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(ie,te),t.lineTo(ie+W.width,te),t.stroke()}if(m!=null&&m.st){const W=t.measureText(A[U]),te=B+Sc/2;let ie;_==="center"?ie=I-W.width/2:_==="right"?ie=I-W.width:ie=I,t.beginPath(),t.strokeStyle=(m==null?void 0:m.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(ie,te),t.lineTo(ie+W.width,te),t.stroke()}}t.restore()}}getThemeColor(t){return lr(this.theme,t)}cleanup(){this.canvas.remove()}}class kY{constructor(t="light"){q(this,"container");q(this,"theme");this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="160px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.applyTheme(),this.handleDocumentClick=this.handleDocumentClick.bind(this)}getContainer(){return this.container}show(t,n,r){this.container.innerHTML="";for(const s of r){const a=document.createElement("div");a.textContent=s.label,a.style.padding="6px 16px",a.style.cursor="pointer",a.style.color=lr(this.theme,"cellTextColor"),a.addEventListener("mouseenter",()=>{a.style.backgroundColor=lr(this.theme,"selectionBGColor")}),a.addEventListener("mouseleave",()=>{a.style.backgroundColor="transparent"}),a.addEventListener("mousedown",u=>{u.preventDefault(),u.stopPropagation(),this.hide(),s.action()}),this.container.appendChild(a)}this.container.style.left=`${t}px`,this.container.style.top=`${n}px`,this.container.style.display="block",document.addEventListener("mousedown",this.handleDocumentClick)}hide(){this.container.style.display="none",document.removeEventListener("mousedown",this.handleDocumentClick)}cleanup(){this.hide(),this.container.remove()}handleDocumentClick(t){this.container.contains(t.target)||this.hide()}applyTheme(){this.container.style.backgroundColor=lr(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${lr(this.theme,"cellBorderColor")}`}}const _F=[{name:"SUM",description:"Returns the sum of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"IF",description:"Returns one value if true and another if false",args:[{name:"condition"},{name:"value_if_true"},{name:"value_if_false",optional:!0}]},{name:"AND",description:"Returns TRUE if all arguments are true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"OR",description:"Returns TRUE if any argument is true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"NOT",description:"Returns the opposite of a logical value",args:[{name:"logical"}]},{name:"AVERAGE",description:"Returns the average of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MIN",description:"Returns the smallest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MAX",description:"Returns the largest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"COUNT",description:"Counts the number of numeric values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTA",description:"Counts the number of non-empty values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"TRIM",description:"Removes leading and trailing whitespace from text",args:[{name:"text"}]},{name:"LEN",description:"Returns the number of characters in a text string",args:[{name:"text"}]},{name:"LEFT",description:"Returns the leftmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"RIGHT",description:"Returns the rightmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"MID",description:"Returns characters from the middle of a text string",args:[{name:"text"},{name:"start_num"},{name:"num_chars"}]},{name:"CONCATENATE",description:"Joins two or more text strings into one",args:[{name:"text1"},{name:"text2"},{name:"text3",optional:!0,repeating:!0}]},{name:"TODAY",description:"Returns the current date",args:[]},{name:"NOW",description:"Returns the current date and time",args:[]},{name:"YEAR",description:"Returns the year from a date",args:[{name:"date"}]},{name:"MONTH",description:"Returns the month from a date (1-12)",args:[{name:"date"}]},{name:"DAY",description:"Returns the day of the month from a date (1-31)",args:[{name:"date"}]},{name:"IFERROR",description:"Returns a value if no error, otherwise returns an alternate value",args:[{name:"value"},{name:"value_if_error"}]}];function BY(e){const t=e.toUpperCase();return _F.filter(n=>n.name.startsWith(t))}function jY(e){const t=e.toUpperCase();return _F.find(n=>n.name===t)}function zY(e){const t=e.args.map(n=>{let r=n.optional?`[${n.name}]`:n.name;return n.repeating&&(r+=", ..."),r});return`${e.name}(${t.join(", ")})`}function VY(e,t){if(!e.startsWith("="))return{type:"none"};const n=e.slice(1,t);let r=0,s=0;for(let u=n.length-1;u>=0;u--){const d=n[u];if(d===")")r++;else if(d==="(")if(r>0)r--;else{const h=n.slice(0,u).match(/([A-Za-z_]\w*)$/);return h?{type:"argument",funcName:h[1].toUpperCase(),argIndex:s}:{type:"none"}}else d===","&&r===0&&s++}const a=n.match(/([A-Za-z_]\w*)$/);return a?{type:"function-name",prefix:a[1]}:{type:"none"}}class UY{constructor(t="light"){q(this,"container");q(this,"theme");q(this,"selectedIndex",0);q(this,"matches",[]);q(this,"mode","hidden");q(this,"currentHint",null);this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="220px",this.container.style.maxWidth="360px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.container.style.overflow="hidden",this.applyTheme()}getContainer(){return this.container}showList(t,n){if(this.matches=BY(t),this.matches.length===0){this.hide();return}this.mode="list",this.selectedIndex=0,this.renderList(),this.positionAt(n),this.container.style.display="block"}showHint(t,n,r){const s=jY(t);if(!s){this.hide();return}this.mode="hint",this.currentHint={info:s,argIndex:n},this.renderHint(),this.positionAt(r),this.container.style.display="block"}hide(){this.mode="hidden",this.matches=[],this.currentHint=null,this.container.style.display="none",this.container.innerHTML=""}moveUp(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex-1+this.matches.length)%this.matches.length,this.renderList())}moveDown(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex+1)%this.matches.length,this.renderList())}getSelectedFunction(){if(this.mode==="list")return this.matches[this.selectedIndex]}isListVisible(){return this.mode==="list"}isHintVisible(){return this.mode==="hint"}cleanup(){this.hide(),this.container.remove()}positionAt(t){this.container.style.left=`${t.left}px`,this.container.style.top=`${t.top}px`}renderList(){this.container.innerHTML="";const t=lr(this.theme,"cellBGColor"),n=lr(this.theme,"cellTextColor"),r=lr(this.theme,"selectionBGColor"),s=lr(this.theme,"activeCellColor");for(let a=0;a<this.matches.length;a++){const u=this.matches[a],d=document.createElement("div");d.style.padding="4px 10px",d.style.cursor="pointer",d.style.display="flex",d.style.flexDirection="column",d.style.gap="1px",d.style.backgroundColor=a===this.selectedIndex?r:t;const h=document.createElement("div");h.style.fontWeight="600",h.style.color=a===this.selectedIndex?s:n,h.textContent=u.name;const g=document.createElement("div");g.style.fontSize="11px",g.style.opacity="0.7",g.style.color=n,g.textContent=u.description,d.appendChild(h),d.appendChild(g),d.addEventListener("mouseenter",()=>{this.selectedIndex=a,this.renderList()}),d.addEventListener("mousedown",p=>{p.preventDefault(),p.stopPropagation()}),this.container.appendChild(d)}}renderHint(){if(this.container.innerHTML="",!this.currentHint)return;const{info:t,argIndex:n}=this.currentHint,r=lr(this.theme,"cellTextColor"),s=lr(this.theme,"activeCellColor"),a=document.createElement("div");a.style.padding="6px 10px",a.style.color=r,a.style.whiteSpace="nowrap";const u=document.createElement("span");u.style.fontWeight="600",u.textContent=t.name+"(",a.appendChild(u);for(let h=0;h<t.args.length;h++){h>0&&a.appendChild(document.createTextNode(", "));const g=t.args[h];let p=g.optional?`[${g.name}]`:g.name;g.repeating&&(p+=", ...");const m=document.createElement("span");(h===n||h===t.args.length-1&&g.repeating&&n>=h)&&(m.style.fontWeight="700",m.style.color=s),m.textContent=p,a.appendChild(m)}a.appendChild(document.createTextNode(")"));const d=document.createElement("div");d.style.fontSize="11px",d.style.opacity="0.7",d.style.color=r,d.style.padding="2px 10px 4px",d.textContent=zY(t)+"  "+t.description,this.container.appendChild(a),this.container.appendChild(d)}applyTheme(){this.container.style.backgroundColor=lr(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${lr(this.theme,"cellBorderColor")}`}}const ab=4,GY=10,kO=20;class $Y{constructor(t,n="light",r=!1){q(this,"sheet");q(this,"container");q(this,"formulaBar");q(this,"cellInput");q(this,"overlay");q(this,"gridContainer");q(this,"gridCanvas");q(this,"contextMenu");q(this,"autocomplete");q(this,"rowDim");q(this,"colDim");q(this,"listeners",[]);q(this,"resizeObserver");q(this,"boundRender");q(this,"boundHandleGridKeydown");q(this,"boundHandleFormulaKeydown");q(this,"boundHandleCellInputKeydown");q(this,"boundHandleMouseDown");q(this,"boundHandleDblClick");q(this,"boundHandleKeyDown");q(this,"boundHandleKeyUp");q(this,"boundHandleMouseMove");q(this,"boundHandleContextMenu");q(this,"resizeHover",null);q(this,"dragMove",null);q(this,"editMode",!1);q(this,"manuallyResizedRows",new Set);q(this,"formulaRanges",[]);q(this,"freezeState",OS);q(this,"freezeHandleHover",null);q(this,"freezeDrag",null);q(this,"onRenderCallback");q(this,"readOnly");q(this,"formulaRangeAnchor",null);q(this,"activeFormulaInput",null);q(this,"formulaRefInsertPos",null);q(this,"lastFormulaRefTarget",null);this.container=t,this.readOnly=r,this.formulaBar=new wY(n),this.gridContainer=new LY(n),this.overlay=new MY(n),this.gridCanvas=new FY(n),this.cellInput=new PY(n),this.contextMenu=new kY(n),this.autocomplete=new UY(n),this.rowDim=new OO(et),this.colDim=new OO(ba),this.gridContainer.appendChild(this.overlay.getContainer()),this.gridContainer.appendChild(this.gridCanvas.getCanvas()),this.gridContainer.appendChild(this.cellInput.getContainer()),this.container.appendChild(this.formulaBar.getContainer()),this.container.appendChild(this.gridContainer.getContainer()),this.container.appendChild(this.contextMenu.getContainer()),this.container.appendChild(this.autocomplete.getContainer()),this.boundRender=this.render.bind(this),this.boundHandleGridKeydown=this.handleGridKeydown.bind(this),this.boundHandleFormulaKeydown=this.handleFormulaKeydown.bind(this),this.boundHandleCellInputKeydown=this.handleCellInputKeydown.bind(this),this.boundHandleMouseDown=this.handleMouseDown.bind(this),this.boundHandleDblClick=this.handleDblClick.bind(this),this.boundHandleKeyDown=this.handleKeyDown.bind(this),this.boundHandleKeyUp=this.handleKeyUp.bind(this),this.boundHandleMouseMove=this.handleMouseMove.bind(this),this.boundHandleContextMenu=this.handleContextMenu.bind(this),this.resizeObserver=new ResizeObserver(()=>this.boundRender())}async initialize(t){this.sheet=t,this.sheet.setDimensions(this.rowDim,this.colDim),await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadFreezePane(),this.updateFreezeState(),this.formulaBar.initialize(t),this.addEventListeners(),this.resizeObserver.observe(this.container),this.render()}updateFreezeState(){const{frozenRows:t,frozenCols:n}=this.sheet.getFreezePane();this.freezeState=_Y(t,n,this.rowDim,this.colDim)}async setFreezePane(t,n){await this.sheet.setFreezePane(t,n),this.updateFreezeState(),this.render()}async reloadFreezePane(){await this.sheet.loadFreezePane(),this.updateFreezeState()}cleanup(){this.removeAllEventListeners(),this.resizeObserver.disconnect(),this.formulaBar.cleanup(),this.cellInput.cleanup(),this.overlay.cleanup(),this.gridCanvas.cleanup(),this.gridContainer.cleanup(),this.contextMenu.cleanup(),this.autocomplete.cleanup(),this.sheet=void 0,this.container.innerHTML=""}addEventListener(t,n,r,s){t.addEventListener(n,r,s),this.listeners.push({element:t,type:n,handler:r})}removeAllEventListeners(){for(const{element:t,type:n,handler:r}of this.listeners)t.removeEventListener(n,r);this.listeners=[]}focusGrid(){var t;this.formulaBar.blur(),this.cellInput.hide(),this.autocomplete.hide(),this.formulaRanges=[],this.resetFormulaRangeState(),(t=window.getSelection())==null||t.removeAllRanges()}async finishEditing(){this.autocomplete.hide();const t=this.sheet.getActiveCell();if(this.formulaBar.isFocused())await this.sheet.setData(t,this.formulaBar.getValue()),this.formulaBar.blur(),this.cellInput.hide();else if(this.cellInput.isFocused())await this.sheet.setData(t,this.cellInput.getValue()),this.cellInput.hide();else return;this.formulaRanges=[],this.resetFormulaRangeState(),await this.autoResizeRow(t.r)}isExternalInput(t){if(!t||this.container.contains(t))return!1;const n=t.tagName;return!!(n==="INPUT"||n==="TEXTAREA"||n==="SELECT"||t.isContentEditable)}handleKeyDown(t){if(!this.isExternalInput(t.target)){if(this.formulaBar.isFocused()){this.boundHandleFormulaKeydown(t);return}else if(this.cellInput.isFocused()){this.boundHandleCellInputKeydown(t);return}this.boundHandleGridKeydown(t)}}handleKeyUp(t){if(this.isExternalInput(t.target))return;const r=(t.key==="ArrowDown"||t.key==="ArrowUp"||t.key==="Escape"||t.key==="Enter"||t.key==="Tab")&&(this.autocomplete.isListVisible()||this.autocomplete.isHintVisible());let s,a;this.formulaBar.isFocused()?(s=this.formulaBar.getValue(),a=this.formulaBar.getFormulaInput(),this.cellInput.setValue(s)):this.cellInput.isFocused()&&(s=this.cellInput.getValue(),a=this.cellInput.getInput(),this.formulaBar.setValue(s)),s!==void 0&&s.startsWith("=")?(this.formulaRanges=ob(s).map(u=>u.range),this.renderOverlay()):s!==void 0&&(this.formulaRanges=[],this.renderOverlay()),!r&&(a&&s!==void 0?this.updateAutocomplete(s,a):this.autocomplete.hide())}updateAutocomplete(t,n){if(!t.startsWith("=")){this.autocomplete.hide();return}const r=Ud(n);if(!r){this.autocomplete.hide();return}const s=r.end,a=VY(t,s),u=n.getBoundingClientRect(),d={left:u.left,top:u.bottom+2};a.type==="function-name"?this.autocomplete.showList(a.prefix,d):a.type==="argument"?this.autocomplete.showHint(a.funcName,a.argIndex,d):this.autocomplete.hide()}insertFunctionCompletion(t,n){const r=n.innerText,s=Ud(n);if(!s)return;const a=s.end,d=r.slice(0,a).match(/([A-Za-z_]\w*)$/);if(!d)return;const h=a-d[1].length,g=r.slice(a),p=r.slice(0,h)+t+"("+g;this.formulaBar.setValue(p),this.cellInput.setValue(p);const m=h+t.length+1;kp(n,{start:m,end:m}),this.autocomplete.hide(),this.updateAutocomplete(p,n)}isInFormulaRangeMode(){let t,n;if(this.cellInput.isFocused()?(t=this.cellInput.getValue(),n=this.cellInput.getInput()):this.formulaBar.isFocused()&&(t=this.formulaBar.getValue(),n=this.formulaBar.getFormulaInput()),!t||!n||!t.startsWith("="))return!1;const r=Ud(n);return r?lY(t,r.end):!1}insertReferenceAtCursor(t,n){const r=this.cellInput.isFocused(),s=this.formulaBar.isFocused();if(!r&&!s)return;const a=r?this.cellInput.getInput():this.formulaBar.getFormulaInput(),u=a.innerText,d=Ud(a);if(!d)return;const h=n&&(t.r!==n.r||t.c!==n.c)?Nt(t)+":"+Nt(n):Nt(t);let g,p;if(this.formulaRefInsertPos){const{start:m,end:x}=this.formulaRefInsertPos;g=u.slice(0,m)+h+u.slice(x),p=m+h.length,this.formulaRefInsertPos={start:m,end:p}}else{const m=IO(u,d.end);m?(g=u.slice(0,m.start)+h+u.slice(m.end),p=m.start+h.length,this.formulaRefInsertPos={start:m.start,end:p}):d.start!==d.end?(g=u.slice(0,d.start)+h+u.slice(d.end),p=d.start+h.length,this.formulaRefInsertPos={start:d.start,end:p}):(g=u.slice(0,d.end)+h+u.slice(d.end),p=d.end+h.length,this.formulaRefInsertPos={start:d.end,end:p})}this.formulaBar.setValue(g),this.cellInput.setValue(g),kp(a,{start:p,end:p}),g.startsWith("=")&&(this.formulaRanges=ob(g).map(m=>m.range),this.renderOverlay()),this.lastFormulaRefTarget=n||t}toggleAbsoluteReference(t){const n=t.innerText;if(!n.startsWith("="))return;const r=Ud(t);if(!r)return;const s=IO(n,r.end);if(!s)return;const a=s.text,u=a.startsWith("$"),d=a.replace(/\$/g,"");let h=0;for(let w=0;w<d.length;w++)if(d.charCodeAt(w)>=48&&d.charCodeAt(w)<=57){h=w;break}const g=d.slice(0,h),p=d.slice(h),m=a.indexOf(p,a.lastIndexOf(g)+g.length),x=m>0&&a[m-1]==="$";let b;!u&&!x?b="$"+g+"$"+p:u&&x?b=g+"$"+p:!u&&x?b="$"+g+p:b=g+p;const A=n.slice(0,s.start)+b+n.slice(s.end),C=s.start+b.length;this.formulaBar.setValue(A),this.cellInput.setValue(A),kp(t,{start:C,end:C}),A.startsWith("=")&&(this.formulaRanges=ob(A).map(w=>w.range),this.renderOverlay())}resetFormulaRangeState(){this.formulaRangeAnchor=null,this.activeFormulaInput=null,this.formulaRefInsertPos=null,this.lastFormulaRefTarget=null}handleDblClick(t){if(this.readOnly)return;const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n){t.preventDefault();const s=this.sheet.getFreezePane();n==="row"?this.setFreezePane(s.frozenRows>0?0:1,s.frozenCols):this.setFreezePane(s.frozenRows,s.frozenCols>0?0:1);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r){t.preventDefault(),this.autoFitSize(r.axis,r.index);return}this.showCellInput(),t.preventDefault()}handleContextMenu(t){if(this.readOnly)return;const n=t.offsetX,r=t.offsetY,s=n<nt,a=r<et;if(!(!s&&!a)){if(t.preventDefault(),s){const u=this.toRowFromMouse(r);if(u<1)return;const d=this.sheet.getSelectedIndices(),h=d&&d.axis==="row"&&u>=d.from&&u<=d.to,g=h?d.from:u,p=h?d.to-d.from+1:1,m=p>1?`${p} rows`:"row";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} above`,action:()=>{this.sheet.insertRows(g,p).then(()=>this.render())}},{label:`Insert ${m} below`,action:()=>{this.sheet.insertRows(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteRows(g,p).then(()=>this.render())}}])}else if(a){const u=this.toColFromMouse(n);if(u<1)return;const d=this.sheet.getSelectedIndices(),h=d&&d.axis==="column"&&u>=d.from&&u<=d.to,g=h?d.from:u,p=h?d.to-d.from+1:1,m=p>1?`${p} columns`:"column";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} left`,action:()=>{this.sheet.insertColumns(g,p).then(()=>this.render())}},{label:`Insert ${m} right`,action:()=>{this.sheet.insertColumns(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteColumns(g,p).then(()=>this.render())}}])}}}addEventListeners(){this.addEventListener(window,"resize",this.boundRender),this.gridContainer.addEventListener("scroll",this.boundRender),this.gridContainer.addEventListener("mousedown",this.boundHandleMouseDown),this.gridContainer.addEventListener("mousemove",this.boundHandleMouseMove),this.gridContainer.addEventListener("dblclick",this.boundHandleDblClick),this.gridContainer.addEventListener("contextmenu",this.boundHandleContextMenu),this.addEventListener(document,"keydown",this.boundHandleKeyDown),this.addEventListener(document,"keyup",this.boundHandleKeyUp)}detectResizeEdge(t,n){const r=this.scroll,s=this.freezeState;if(n<et&&t>nt){const u=s.frozenCols>0&&t<nt+s.frozenWidth?t-nt:t-nt-s.frozenWidth+this.colDim.getOffset(s.frozenCols+1)+r.left,d=this.colDim.findIndex(u),h=this.colDim.getOffset(d)+this.colDim.getSize(d);if(Math.abs(u-h)<ab)return{axis:"column",index:d};if(d>1){const g=this.colDim.getOffset(d-1)+this.colDim.getSize(d-1);if(Math.abs(u-g)<ab)return{axis:"column",index:d-1}}}if(t<nt&&n>et){const u=s.frozenRows>0&&n<et+s.frozenHeight?n-et:n-et-s.frozenHeight+this.rowDim.getOffset(s.frozenRows+1)+r.top,d=this.rowDim.findIndex(u),h=this.rowDim.getOffset(d)+this.rowDim.getSize(d);if(Math.abs(u-h)<ab)return{axis:"row",index:d};if(d>1){const g=this.rowDim.getOffset(d-1)+this.rowDim.getSize(d-1);if(Math.abs(u-g)<ab)return{axis:"row",index:d-1}}}return null}detectFreezeHandle(t,n){const r=this.freezeState,s=r.frozenRows>0||r.frozenCols>0,a=NF,u=NY,d=s&&r.frozenRows>0?et+r.frozenHeight-a/2:et-a;if(t>=0&&t<=nt&&n>=d-u&&n<=d+a+u)return"row";const h=s&&r.frozenCols>0?nt+r.frozenWidth-a/2:nt-a;return t>=h-u&&t<=h+a+u&&n>=0&&n<=et?"column":null}startFreezeDrag(t,n){const r=this.gridContainer.getScrollContainer();r.style.cursor="grabbing";const s=d=>{const h=this.viewport;if(t==="row"){const g=d.target!==r?Math.max(0,Math.min(h.height,d.clientY-h.top)):d.offsetY;if(g<=et)return 0;const p=g-et,m=this.rowDim.findIndex(p),b=this.rowDim.getOffset(m)+this.rowDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}else{const g=d.target!==r?Math.max(0,Math.min(h.width,d.clientX-h.left)):d.offsetX;if(g<=nt)return 0;const p=g-nt,m=this.colDim.findIndex(p),b=this.colDim.getOffset(m)+this.colDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}};this.freezeDrag={axis:t,targetIndex:s(n)},this.renderOverlay();const a=d=>{const h=s(d);this.freezeDrag&&this.freezeDrag.targetIndex!==h&&(this.freezeDrag={axis:t,targetIndex:h},this.renderOverlay())},u=()=>{var g;r.style.cursor="",document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",u);const d=((g=this.freezeDrag)==null?void 0:g.targetIndex)??0;this.freezeDrag=null,this.freezeHandleHover=null;const h=this.sheet.getFreezePane();t==="row"?this.setFreezePane(d,h.frozenCols):this.setFreezePane(h.frozenRows,d)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",u)}toRefFromMouse(t,n){const r=this.freezeState;return r.frozenRows>0||r.frozenCols>0?OY(t,n,this.scroll,this.rowDim,this.colDim,r):IY(t+this.scroll.left,n+this.scroll.top,this.rowDim,this.colDim)}toRowFromMouse(t){const n=this.freezeState,s=n.frozenRows>0&&t<et+n.frozenHeight?t-et:t-et-n.frozenHeight+this.rowDim.getOffset(n.frozenRows+1)+this.scroll.top;return this.rowDim.findIndex(s)}toColFromMouse(t){const n=this.freezeState,s=n.frozenCols>0&&t<nt+n.frozenWidth?t-nt:t-nt-n.frozenWidth+this.colDim.getOffset(n.frozenCols+1)+this.scroll.left;return this.colDim.findIndex(s)}handleMouseMove(t){var u,d,h;const n=this.gridContainer.getScrollContainer(),r=this.detectFreezeHandle(t.offsetX,t.offsetY);if(r!==this.freezeHandleHover&&(this.freezeHandleHover=r,this.renderSheet()),r){n.style.cursor="grab",this.resizeHover&&(this.resizeHover=null,this.renderOverlay());return}const s=this.detectResizeEdge(t.offsetX,t.offsetY),a=(s==null?void 0:s.axis)!==((u=this.resizeHover)==null?void 0:u.axis)||(s==null?void 0:s.index)!==((d=this.resizeHover)==null?void 0:d.index);if(a&&(this.resizeHover=s),s)n.style.cursor=s.axis==="column"?"col-resize":"row-resize";else{const g=t.offsetX,p=t.offsetY,m=(h=this.sheet)==null?void 0:h.getSelectedIndices();if(m){const x=m.axis==="column"?p<et&&g>nt&&(()=>{const b=this.toColFromMouse(g);return b>=m.from&&b<=m.to})():g<nt&&p>et&&(()=>{const b=this.toRowFromMouse(p);return b>=m.from&&b<=m.to})();n.style.cursor=x?"grab":""}else n.style.cursor=""}a&&this.renderOverlay()}async handleMouseDown(t){const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n&&!this.readOnly){t.preventDefault(),this.startFreezeDrag(n,t);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r&&!this.readOnly){t.preventDefault(),this.startResize(r.axis,r.index,t);return}const s=t.offsetX,a=t.offsetY;if(s<nt&&a<et){t.preventDefault(),await this.finishEditing(),this.sheet.selectAllCells(),this.render();return}const d=a<et&&s>nt,h=s<nt&&a>et;if(d){t.preventDefault(),await this.finishEditing();const x=this.toColFromMouse(s);if(x<1)return;if(t.shiftKey){this.sheet.selectColumnRange(this.sheet.getActiveCell().c,x),this.render();return}const b=this.sheet.getSelectedIndices();if(!this.readOnly&&b&&b.axis==="column"&&x>=b.from&&x<=b.to){this.startDragMove("column",b.from,b.to-b.from+1,t);return}this.sheet.selectColumn(x),this.render();const A=x,C=T=>{const _=this.viewport,I=T.target!==this.gridContainer.getScrollContainer()?Math.max(0,Math.min(_.width,T.clientX-_.left)):T.offsetX,D=this.toColFromMouse(I);D>=1&&(this.sheet.selectColumnRange(A,D),this.render())},w=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",w);return}if(h){t.preventDefault(),await this.finishEditing();const x=this.toRowFromMouse(a);if(x<1)return;if(t.shiftKey){this.sheet.selectRowRange(this.sheet.getActiveCell().r,x),this.render();return}const b=this.sheet.getSelectedIndices();if(!this.readOnly&&b&&b.axis==="row"&&x>=b.from&&x<=b.to){this.startDragMove("row",b.from,b.to-b.from+1,t);return}this.sheet.selectRow(x),this.render();const A=x,C=T=>{const _=this.viewport,I=T.target!==this.gridContainer.getScrollContainer()?Math.max(0,Math.min(_.height,T.clientY-_.top)):T.offsetY,D=this.toRowFromMouse(I);D>=1&&(this.sheet.selectRowRange(A,D),this.render())},w=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",w);return}if(this.isInFormulaRangeMode()){t.preventDefault();const x=this.toRefFromMouse(t.offsetX,t.offsetY);if(this.activeFormulaInput=this.cellInput.isFocused()?"cellInput":"formulaBar",t.shiftKey&&this.formulaRangeAnchor){const w={r:Math.min(this.formulaRangeAnchor.r,x.r),c:Math.min(this.formulaRangeAnchor.c,x.c)},T={r:Math.max(this.formulaRangeAnchor.r,x.r),c:Math.max(this.formulaRangeAnchor.c,x.c)};this.insertReferenceAtCursor(w,T)}else this.formulaRangeAnchor=x,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(x);const b=this.gridContainer.getScrollContainer(),A=w=>{const T=this.viewport,_=w.target!==b?Math.max(0,Math.min(T.width,w.clientX-T.left)):w.offsetX,I=w.target!==b?Math.max(0,Math.min(T.height,w.clientY-T.top)):w.offsetY,D=this.toRefFromMouse(_,I),L={r:Math.min(this.formulaRangeAnchor.r,D.r),c:Math.min(this.formulaRangeAnchor.c,D.c)},k={r:Math.max(this.formulaRangeAnchor.r,D.r),c:Math.max(this.formulaRangeAnchor.c,D.c)};this.insertReferenceAtCursor(L,k)},C=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",C),this.activeFormulaInput==="cellInput"?this.cellInput.getInput().focus():this.activeFormulaInput==="formulaBar"&&this.formulaBar.getFormulaInput().focus(),this.formulaRefInsertPos=null};document.addEventListener("mousemove",A),document.addEventListener("mouseup",C);return}if(await this.finishEditing(),t.shiftKey){const x=this.toRefFromMouse(t.offsetX,t.offsetY);this.sheet.selectEnd(x),this.render();return}this.sheet.selectStart(this.toRefFromMouse(t.offsetX,t.offsetY)),this.render();let g=null;const p=x=>{let b=x.offsetX,A=x.offsetY;const C=this.viewport;x.target!==this.gridContainer.getScrollContainer()&&(b=Math.max(0,Math.min(C.width,x.clientX-C.left)),A=Math.max(0,Math.min(C.height,x.clientY-C.top))),this.sheet.selectEnd(this.toRefFromMouse(b,A)),this.render();const{clientX:w,clientY:T}=x;g&&clearInterval(g);const _={x:0,y:0};w<=C.left?_.x=-10:w>=C.width&&(_.x=FO),T<=C.top?_.y=-10:T>=C.height&&(_.y=FO),(_.x!==0||_.y!==0)&&(g=setInterval(()=>{this.gridContainer.scrollBy(_.x,_.y),this.sheet.selectEnd(this.toRefFromMouse(b,A)),this.render()},TY))},m=()=>{g&&clearInterval(g),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",m)}startResize(t,n,r){const s=t==="column"?r.clientX:r.clientY,a=t==="column"?this.colDim.getSize(n):this.rowDim.getSize(n),u=this.gridContainer.getScrollContainer();u.style.cursor=t==="column"?"col-resize":"row-resize";const d=t==="column"?this.colDim:this.rowDim,h=this.sheet.getSelectedIndices(),p=h&&h.axis===t&&n>=h.from&&n<=h.to?Array.from({length:h.to-h.from+1},(b,A)=>h.from+A):[n],m=b=>{const C=(t==="column"?b.clientX:b.clientY)-s,T=Math.max(t==="column"?kO:GY,a+C);d.setSize(n,T),this.render()},x=()=>{u.style.cursor="",document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x);const b=d.getSize(n);for(const A of p)d.setSize(A,b),t==="column"?this.sheet.setColumnWidth(A,b):(this.manuallyResizedRows.add(A),this.sheet.setRowHeight(A,b));this.render()};document.addEventListener("mousemove",m),document.addEventListener("mouseup",x)}async autoFitSize(t,n){const s=document.createElement("canvas").getContext("2d"),a=6;if(t==="column"){s.font=`${Sc}px Arial`;const u=ay(n);let d=s.measureText(u).width+a;const[h,g]=this.viewRange,p=[{r:h.r,c:n},{r:g.r,c:n}],m=await this.sheet.fetchGrid(p);for(const[,b]of m)if(b.v){const A=s.measureText(b.v).width+a;A>d&&(d=A)}const x=Math.max(kO,Math.ceil(d));this.sheet.setColumnWidth(n,x)}else{this.manuallyResizedRows.delete(n);const u=await this.computeContentHeight(n);this.sheet.setRowHeight(n,u)}this.render()}async computeContentHeight(t){const[n,r]=this.viewRange,s=[{r:t,c:n.c},{r:t,c:r.c}],a=await this.sheet.fetchGrid(s);let u=1;for(const[,d]of a)if(d.v){const h=d.v.split(`
`).length;h>u&&(u=h)}return u<=1?et:Math.max(et,Math.ceil(u*Sc*Vb+2*XC))}async autoResizeRow(t){if(this.manuallyResizedRows.has(t))return;const n=await this.computeContentHeight(t),r=this.rowDim.getSize(t);n!==r&&(this.sheet.setRowHeight(t,n),this.render())}startDragMove(t,n,r,s){const a=this.gridContainer.getScrollContainer();a.style.cursor="grabbing";const u=t==="column"?this.colDim:this.rowDim,d=p=>{const m=this.viewport;if(t==="column"){const x=p.target!==a?Math.max(0,Math.min(m.width,p.clientX-m.left)):p.offsetX,b=this.toColFromMouse(x),A=this.freezeState,w=A.frozenCols>0&&x<nt+A.frozenWidth?x-nt:x-nt-A.frozenWidth+this.colDim.getOffset(A.frozenCols+1)+this.scroll.left,_=u.getOffset(b)+u.getSize(b)/2;return w<_?b:b+1}else{const x=p.target!==a?Math.max(0,Math.min(m.height,p.clientY-m.top)):p.offsetY,b=this.toRowFromMouse(x),A=this.freezeState,w=A.frozenRows>0&&x<et+A.frozenHeight?x-et:x-et-A.frozenHeight+this.rowDim.getOffset(A.frozenRows+1)+this.scroll.top,_=u.getOffset(b)+u.getSize(b)/2;return w<_?b:b+1}};this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:d(s)},this.renderOverlay();const h=p=>{const m=d(p);this.dragMove&&this.dragMove.dropIndex!==m&&(this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:m},this.renderOverlay())},g=()=>{var m;a.style.cursor="",document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",g);const p=(m=this.dragMove)==null?void 0:m.dropIndex;this.dragMove=null,p!==void 0&&!(p>=n&&p<=n+r)?(t==="row"?this.sheet.moveRows(n,r,p):this.sheet.moveColumns(n,r,p)).then(()=>{const b=p<n?p:p-r;t==="row"?(this.sheet.selectRow(b),r>1&&this.sheet.selectRowRange(b,b+r-1)):(this.sheet.selectColumn(b),r>1&&this.sheet.selectColumnRange(b,b+r-1)),this.render()}):this.renderOverlay()};document.addEventListener("mousemove",h),document.addEventListener("mouseup",g)}async handleFormulaKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.formulaBar.getFormulaInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.move("down"),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const s={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},a={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(s,a),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.formulaBar.getFormulaInput())):t.key==="Escape"?(t.preventDefault(),this.focusGrid(),this.render()):this.cellInput.isShown()||this.showCellInput(!0,!0)}}async handleCellInputKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.cellInput.getInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&this.cellInput.hasFormula()&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const s={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},a={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(s,a),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key.startsWith("Arrow")&&!this.cellInput.hasFormula()&&!this.editMode?(t.preventDefault(),await this.finishEditing(),t.key==="ArrowDown"?this.sheet.move("down"):t.key==="ArrowUp"?this.sheet.move("up"):t.key==="ArrowLeft"?this.sheet.move("left"):t.key==="ArrowRight"&&this.sheet.move("right"),this.render(),this.scrollIntoView()):t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.cellInput.getInput())):t.key==="Escape"&&(t.preventDefault(),this.focusGrid(),this.render())}}async copy(){const{text:t}=await this.sheet.copy();await navigator.clipboard.writeText(t)}async paste(){try{let t,n;if(navigator.clipboard.read)try{const r=await navigator.clipboard.read();for(const s of r)s.types.includes("text/html")&&(n=await(await s.getType("text/html")).text()),s.types.includes("text/plain")&&(t=await(await s.getType("text/plain")).text())}catch{t=await navigator.clipboard.readText()}else t=await navigator.clipboard.readText();await this.sheet.paste({text:t,html:n}),this.sheet.clearCopyBuffer(),this.render()}catch(t){console.error("Failed to paste cell content: ",t)}}async handleGridKeydown(t){const n=async(r,s,a)=>{t.preventDefault(),(s?this.sheet.resizeRange(r):a?await this.sheet.moveToEdge(r):this.sheet.move(r))&&(this.render(),this.scrollIntoView())};if(t.key==="ArrowDown")n("down",t.shiftKey,t.metaKey);else if(t.key==="ArrowUp")n("up",t.shiftKey,t.metaKey);else if(t.key==="ArrowLeft")n("left",t.shiftKey,t.metaKey);else if(t.key==="ArrowRight")n("right",t.shiftKey,t.metaKey);else if(t.key==="a"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.sheet.selectAll(),this.render();else if(t.key==="Tab")t.preventDefault(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key==="Enter")t.preventDefault(),this.sheet.hasRange()?(this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView()):this.readOnly||this.showCellInput();else if(t.key==="Delete"||t.key==="Backspace"){if(this.readOnly)return;t.preventDefault(),await this.sheet.removeData()&&this.render()}else if(!t.metaKey&&!t.ctrlKey&&this.isValidCellInput(t.key)){if(this.readOnly)return;this.showCellInput(!0)}else if(t.key==="z"&&(t.metaKey||t.ctrlKey)&&!t.shiftKey){if(this.readOnly)return;t.preventDefault(),await this.sheet.undo()&&(this.render(),this.scrollIntoView())}else if((t.key==="z"&&t.shiftKey||t.key==="y")&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.redo()&&(this.render(),this.scrollIntoView())}else if(t.key==="Escape")t.preventDefault(),this.sheet.getCopyRange()&&(this.sheet.clearCopyBuffer(),this.renderOverlay());else if(t.key==="c"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.copy();else if(t.key==="v"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.paste()}else if(t.key==="b"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("b"),this.render()}else if(t.key==="i"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("i"),this.render()}else if(t.key==="u"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("u"),this.render()}}async reloadDimensions(){await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadFreezePane(),this.updateFreezeState()}setOnRender(t){this.onRenderCallback=t}render(){var t;this.formulaBar.render(),this.renderSheet(),this.renderOverlay(),(t=this.onRenderCallback)==null||t.call(this)}renderOverlay(){this.overlay.render(this.viewport,this.scroll,this.sheet.getActiveCell(),this.sheet.getPresences(),this.sheet.getRange(),this.rowDim,this.colDim,this.resizeHover,this.sheet.getSelectionType(),this.dragMove?{axis:this.dragMove.axis,dropIndex:this.dragMove.dropIndex}:null,this.formulaRanges,this.freezeState,this.freezeDrag,this.sheet.getCopyRange())}get viewRange(){const t=this.scroll,n=this.viewport,r=this.freezeState,s=this.rowDim.getOffset(r.frozenRows+1),a=this.colDim.getOffset(r.frozenCols+1),u=this.rowDim.findIndex(s+t.top),d=this.rowDim.findIndex(s+t.top+n.height)+1,h=this.colDim.findIndex(a+t.left),g=this.colDim.findIndex(a+t.left+n.width)+1;return[{r:u,c:h},{r:d,c:g}]}scrollIntoView(t=this.sheet.getActiveCell()){const n=this.scroll,r=this.freezeState,s=r.frozenRows>0&&t.r<=r.frozenRows,a=r.frozenCols>0&&t.c<=r.frozenCols,u=In(t,{left:0,top:0},this.rowDim,this.colDim),d=this.colDim.getOffset(r.frozenCols+1),h=this.rowDim.getOffset(r.frozenRows+1),g=this.viewport.width-nt-r.frozenWidth,p=this.viewport.height-et-r.frozenHeight;let m=!1;if(!a){const x=d+n.left,b=x+g,A=u.left-nt,C=A+u.width;A<x?(this.scroll={left:A-d},m=!0):C>b&&(this.scroll={left:C-g-d},m=!0)}if(!s){const x=h+n.top,b=x+p,A=u.top-et,C=A+u.height;A<x?(this.scroll={top:A-h},m=!0):C>b&&(this.scroll={top:C-p-h},m=!0)}m&&this.render()}async showCellInput(t=!1,n=!1){n||(this.editMode=!t);const r=this.sheet.getActiveCell(),s=this.freezeState,a=s.frozenRows>0||s.frozenCols>0?DY(r,this.scroll,this.rowDim,this.colDim,s):In(r,this.scroll,this.rowDim,this.colDim),u=t?"":await this.sheet.toInputString(r),d=Math.max(a.width,this.viewport.width-a.left),h=Math.max(a.height,this.viewport.height-a.top);this.cellInput.show(a.left,a.top,u,!n,a.width,a.height,d,h);const g=await this.sheet.getStyle(r);this.cellInput.applyStyle(g),u.startsWith("=")&&(this.formulaRanges=ob(u).map(p=>p.range),this.renderOverlay())}isValidCellInput(t){return t.length===1||t==="Process"}async renderSheet(){const t=this.gridSize,n=this.freezeState;this.gridContainer.updateDummySize(t.width+nt,t.height+et);const r=this.viewRange,s=[{r:Math.min(1,r[0].r),c:Math.min(1,r[0].c)},{r:r[1].r,c:r[1].c}],a=await this.sheet.fetchGrid(s);this.gridCanvas.render(this.viewport,this.scroll,this.viewRange,this.sheet.getActiveCell(),a,this.rowDim,this.colDim,this.sheet.getSelectionType(),this.sheet.getRange(),n,this.freezeHandleHover,this.sheet.getColStyles(),this.sheet.getRowStyles(),this.sheet.getSheetStyle())}get gridSize(){const t=this.sheet.getDimension();return{width:this.colDim.getOffset(t.columns+1),height:this.rowDim.getOffset(t.rows+1)}}get viewport(){return this.gridContainer.getViewport()}get scroll(){return this.gridContainer.getScrollPosition()}set scroll(t){this.gridContainer.setScrollPosition(t)}}async function IF(e,t){const n=new HY(e,t),r=(t==null?void 0:t.store)||new EY;return await n.initialize(r),n}class HY{constructor(t,n){q(this,"container");q(this,"worksheet");q(this,"sheet");q(this,"theme");q(this,"_readOnly");q(this,"selectionChangeCallbacks",[]);this.container=t,this.container.style.position="relative",this.container.style.overflow="hidden",this.theme=(n==null?void 0:n.theme)||"light",this._readOnly=(n==null?void 0:n.readOnly)||!1,this.worksheet=new $Y(this.container,this.theme,this._readOnly)}get readOnly(){return this._readOnly}async initialize(t){this.sheet=new SY(t),this.worksheet.setOnRender(()=>this.notifySelectionChange()),await this.worksheet.initialize(this.sheet)}async reloadDimensions(){await this.worksheet.reloadDimensions()}async setFreezePane(t,n){this._readOnly||await this.worksheet.setFreezePane(t,n)}render(){this.worksheet.render()}renderOverlay(){this.worksheet.renderOverlay()}async applyStyle(t){!this.sheet||this._readOnly||(await this.sheet.setRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async toggleStyle(t){!this.sheet||this._readOnly||(await this.sheet.toggleRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async getActiveStyle(){if(this.sheet)return this.sheet.getStyle(this.sheet.getActiveCell())}onSelectionChange(t){return this.selectionChangeCallbacks.push(t),()=>{this.selectionChangeCallbacks=this.selectionChangeCallbacks.filter(n=>n!==t)}}notifySelectionChange(){for(const t of this.selectionChangeCallbacks)t()}async increaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:t+1}),this.worksheet.render(),this.notifySelectionChange()}async decreaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:Math.max(0,t-1)}),this.worksheet.render(),this.notifySelectionChange()}async undo(){!this.sheet||this._readOnly||await this.sheet.undo()&&(this.worksheet.render(),this.notifySelectionChange())}async redo(){!this.sheet||this._readOnly||await this.sheet.redo()&&(this.worksheet.render(),this.notifySelectionChange())}cleanup(){this.worksheet.cleanup(),this.selectionChangeCallbacks=[]}}var WY="Toggle",OF=F.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:s,...a}=e,[u=!1,d]=jc({prop:n,onChange:s,defaultProp:r});return O.jsx(Bt.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:st(e.onClick,()=>{e.disabled||d(!u)})})});OF.displayName=WY;var YY=OF;const qY=qb("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function ZA({className:e,variant:t,size:n,...r}){return O.jsx(YY,{"data-slot":"toggle",className:xt(qY({variant:t,size:n}),e),...r})}const KY=["#000000","#434343","#666666","#999999","#cccccc","#d50000","#e67c73","#f4511e","#ef6c00","#f09300","#0b8043","#33b679","#039be5","#3f51b5","#7986cb","#8e24aa","#d81b60","#ad1457","#6a1b9a","#4a148c"],XY=["#ffffff","#f3f3f3","#e8e8e8","#d9d9d9","#cccccc","#fce4ec","#fff3e0","#fff9c4","#e8f5e9","#e0f7fa","#e3f2fd","#ede7f6","#fce4ec","#f3e5f5","#e8eaf6","#ffcdd2","#ffe0b2","#fff59d","#c8e6c9","#b2dfdb"],ZY={left:IM,center:_M,right:OM},JY={top:NM,middle:TM,bottom:RM},QY={plain:wM,number:PM,currency:PC,percent:MC};function e7({spreadsheet:e}){const[t,n]=F.useState(void 0),r=F.useCallback(async()=>{if(!e)return;const k=await e.getActiveStyle();n(k)},[e]);F.useEffect(()=>{if(e)return r(),e.onSelectionChange(r)},[e,r]);const s=F.useCallback(k=>{e==null||e.toggleStyle(k)},[e]),a=F.useCallback(k=>{e==null||e.applyStyle({al:k})},[e]),u=F.useCallback(k=>{e==null||e.applyStyle({va:k})},[e]),d=F.useCallback(k=>{e==null||e.applyStyle({tc:k})},[e]),h=F.useCallback(()=>{e==null||e.applyStyle({tc:""})},[e]),g=F.useCallback(k=>{e==null||e.applyStyle({bg:k})},[e]),p=F.useCallback(()=>{e==null||e.applyStyle({bg:""})},[e]),m=F.useCallback(()=>{e==null||e.undo()},[e]),x=F.useCallback(()=>{e==null||e.redo()},[e]),b=F.useCallback(k=>{e==null||e.applyStyle({nf:k})},[e]),A=F.useCallback(()=>{e==null||e.increaseDecimals()},[e]),C=F.useCallback(()=>{e==null||e.decreaseDecimals()},[e]),w=(t==null?void 0:t.al)||"left",T=ZY[w],_=(t==null?void 0:t.va)||"top",I=JY[_],D=(t==null?void 0:t.nf)||"plain",L=QY[D];return O.jsxs("div",{className:"flex items-center gap-0.5 border-b px-2 py-1 bg-background",children:[O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:m,children:O.jsx(YG,{size:16})})}),O.jsx(ai,{children:"Undo"})]}),O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:x,children:O.jsx(qG,{size:16})})}),O.jsx(ai,{children:"Redo"})]}),O.jsx(Ip,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>b("currency"),children:O.jsx(PC,{size:16})})}),O.jsx(ai,{children:"Format as currency"})]}),O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>b("percent"),children:O.jsx(MC,{size:16})})}),O.jsx(ai,{children:"Format as percent"})]}),O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:C,children:[O.jsx(iT,{size:16}),O.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"-"})]})}),O.jsx(ai,{children:"Decrease decimal places"})]}),O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:A,children:[O.jsx(iT,{size:16}),O.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"+"})]})}),O.jsx(ai,{children:"Increase decimal places"})]}),O.jsxs(ga,{children:[O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx(ma,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(L,{size:16}),O.jsx(uE,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(ai,{children:"More format"})]}),O.jsxs(ya,{children:[O.jsxs(pr,{onClick:()=>b("plain"),children:[O.jsx(wM,{size:16,className:"mr-2"}),"Plain text"]}),O.jsxs(pr,{onClick:()=>b("number"),children:[O.jsx(PM,{size:16,className:"mr-2"}),"Number"]}),O.jsxs(pr,{onClick:()=>b("currency"),children:[O.jsx(PC,{size:16,className:"mr-2"}),"Currency"]}),O.jsxs(pr,{onClick:()=>b("percent"),children:[O.jsx(MC,{size:16,className:"mr-2"}),"Percent"]})]})]}),O.jsx(Ip,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx(ZA,{size:"sm",pressed:(t==null?void 0:t.b)||!1,onPressedChange:()=>s("b"),className:"h-7 w-7",children:O.jsx(KG,{size:16})})}),O.jsx(ai,{children:"Bold"})]}),O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx(ZA,{size:"sm",pressed:(t==null?void 0:t.i)||!1,onPressedChange:()=>s("i"),className:"h-7 w-7",children:O.jsx(JG,{size:16})})}),O.jsx(ai,{children:"Italic"})]}),O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx(ZA,{size:"sm",pressed:(t==null?void 0:t.st)||!1,onPressedChange:()=>s("st"),className:"h-7 w-7",children:O.jsx(r8,{size:16})})}),O.jsx(ai,{children:"Strikethrough"})]}),O.jsxs(ga,{children:[O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx(ma,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",children:[O.jsx(o8,{size:16}),O.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.tc)||"#000000"}})]})})}),O.jsx(ai,{children:"Text color"})]}),O.jsxs(ya,{className:"w-auto p-2",children:[O.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:h,children:[O.jsx(oT,{size:14}),"Reset"]}),O.jsx("div",{className:"grid grid-cols-5 gap-1",children:KY.map(k=>O.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:k},onClick:()=>d(k)},k))})]})]}),O.jsx(Ip,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(ga,{children:[O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx(ma,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",children:[O.jsx(e8,{size:16}),O.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.bg)||"transparent",border:t!=null&&t.bg?"none":"1px solid #ccc"}})]})})}),O.jsx(ai,{children:"Fill color"})]}),O.jsxs(ya,{className:"w-auto p-2",children:[O.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:p,children:[O.jsx(oT,{size:14}),"Reset"]}),O.jsx("div",{className:"grid grid-cols-5 gap-1",children:XY.map(k=>O.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:k},onClick:()=>g(k)},k))})]})]}),O.jsx(Ip,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(ga,{children:[O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx(ma,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(T,{size:16}),O.jsx(uE,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(ai,{children:"Horizontal align"})]}),O.jsxs(ya,{children:[O.jsxs(pr,{onClick:()=>a("left"),children:[O.jsx(IM,{size:16,className:"mr-2"}),"Left"]}),O.jsxs(pr,{onClick:()=>a("center"),children:[O.jsx(_M,{size:16,className:"mr-2"}),"Center"]}),O.jsxs(pr,{onClick:()=>a("right"),children:[O.jsx(OM,{size:16,className:"mr-2"}),"Right"]})]})]}),O.jsxs(ga,{children:[O.jsxs(oi,{children:[O.jsx(si,{asChild:!0,children:O.jsx(ma,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(I,{size:16}),O.jsx(uE,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(ai,{children:"Vertical align"})]}),O.jsxs(ya,{children:[O.jsxs(pr,{onClick:()=>u("top"),children:[O.jsx(NM,{size:16,className:"mr-2"}),"Top"]}),O.jsxs(pr,{onClick:()=>u("middle"),children:[O.jsx(TM,{size:16,className:"mr-2"}),"Middle"]}),O.jsxs(pr,{onClick:()=>u("bottom"),children:[O.jsx(RM,{size:16,className:"mr-2"}),"Bottom"]})]})]})]})}const t7={theme:"system",resolvedTheme:"light",setTheme:()=>null},P2=F.createContext(t7);function n7({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[s,a]=F.useState(()=>localStorage.getItem(n)||t),[u,d]=F.useState(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");F.useEffect(()=>{const g=window.document.documentElement;g.classList.remove("light","dark");let p;if(s==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";p=m,g.classList.add(m)}else p=s,g.classList.add(s);d(p)},[s]),F.useEffect(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>{if(s==="system"){const m=window.document.documentElement,x=g.matches?"dark":"light";m.classList.remove("light","dark"),m.classList.add(x),d(x)}};return g.addEventListener("change",p),()=>g.removeEventListener("change",p)},[s]);const h={theme:s,resolvedTheme:u,setTheme:g=>{localStorage.setItem(n,g),a(g)}};return O.jsx(P2.Provider,{...r,value:h,children:e})}const DF=()=>{const e=F.useContext(P2);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};class r7{constructor(t,n){q(this,"doc");q(this,"tabId");q(this,"cellIndex",new O2);q(this,"dirty",!0);q(this,"batchOverlay",null);q(this,"batchOps",null);this.doc=t,this.tabId=n,t.subscribe(r=>{r.type==="remote-change"&&(this.dirty=!0)})}getSheet(){return this.doc.getRoot().sheets[this.tabId]}ensureIndex(){if(!this.dirty)return;const t=this.getSheet().sheet,n=[];for(const r of Object.keys(t)){const s=dn(r);n.push([s.r,s.c])}this.cellIndex.rebuild(n),this.dirty=!1}async set(t,n){const r=Nt(t);if(this.batchOverlay){this.batchOverlay.set(r,n),this.dirty||this.cellIndex.add(t.r,t.c);return}const s=this.tabId;this.doc.update(a=>{a.sheets[s].sheet[r]=n}),this.dirty||this.cellIndex.add(t.r,t.c)}async get(t){const n=Nt(t);if(this.batchOverlay&&this.batchOverlay.has(n)){const r=this.batchOverlay.get(n);return r===null?void 0:r}return this.getSheet().sheet[n]}async has(t){const n=Nt(t);return this.batchOverlay&&this.batchOverlay.has(n)?this.batchOverlay.get(n)!==null:this.getSheet().sheet[n]!==void 0}async delete(t){const n=Nt(t);if(this.batchOverlay){let a=!1;return this.batchOverlay.has(n)?a=this.batchOverlay.get(n)!==null:a=this.getSheet().sheet[n]!==void 0,a?(this.batchOverlay.set(n,null),this.dirty||this.cellIndex.remove(t.r,t.c),!0):!1}let r=!1;const s=this.tabId;return this.doc.update(a=>{a.sheets[s].sheet[n]!==void 0&&(delete a.sheets[s].sheet[n],r=!0)}),r&&!this.dirty&&this.cellIndex.remove(t.r,t.c),r}async deleteRange(t){this.ensureIndex();const n=Array.from(this.cellIndex.cellsInRange(t)),r=new Set;if(this.batchOverlay){for(const[a,u]of n){const d=Nt({r:a,c:u});this.batchOverlay.has(d)&&this.batchOverlay.get(d)===null||(this.batchOverlay.set(d,null),r.add(d))}for(const[a,u]of n)this.cellIndex.remove(a,u);return r}const s=this.tabId;this.doc.update(a=>{for(const[u,d]of n){const h=Nt({r:u,c:d});delete a.sheets[s].sheet[h],r.add(h)}});for(const[a,u]of n)this.cellIndex.remove(a,u);return r}async setGrid(t){if(this.batchOverlay){for(const[r,s]of t)this.batchOverlay.set(r,s);if(!this.dirty)for(const[r]of t){const s=dn(r);this.cellIndex.add(s.r,s.c)}return}const n=this.tabId;if(this.doc.update(r=>{for(const[s,a]of t)r.sheets[n].sheet[s]=a}),!this.dirty)for(const[r]of t){const s=dn(r);this.cellIndex.add(s.r,s.c)}}async getGrid(t){this.ensureIndex();const n=this.getSheet().sheet,r=new Map;for(const[s,a]of this.cellIndex.cellsInRange(t)){const u=Nt({r:s,c:a});if(this.batchOverlay&&this.batchOverlay.has(u)){const h=this.batchOverlay.get(u);h!==null&&r.set(u,h);continue}const d=n[u];d!==void 0&&r.set(u,d)}return r}async findEdge(t,n,r){return this.ensureIndex(),D2(this.cellIndex,t,n,r,(s,a)=>{const u=Nt({r:s,c:a}),d=this.getSheet().sheet[u];return d!==void 0&&(!!d.v||!!d.f)})}async shiftCells(t,n,r){const s=this.tabId;this.doc.update(a=>{const u=a.sheets[s],d=[];for(const[m,x]of Object.entries(u.sheet))d.push([m,{v:x.v,f:x.f,s:x.s}]);for(const[m]of d)delete u.sheet[m];for(const[m,x]of d){const b=EF(m,t,n,r);b!==null&&(x.f?u.sheet[b]={...x,f:AF(x.f,t,n,r)}:u.sheet[b]={...x})}const h=t==="row"?u.rowHeights:u.colWidths,g=[];for(const[m,x]of Object.entries(h))g.push([m,x]);for(const[m]of g)delete h[m];for(const[m,x]of g){const b=Number(m);if(r>0)b>=n?h[String(b+r)]=x:h[m]=x;else{const A=Math.abs(r);b>=n&&b<n+A||(b>=n+A?h[String(b+r)]=x:h[m]=x)}}const p=t==="row"?u.rowStyles:u.colStyles;if(p){const m=[];for(const[x,b]of Object.entries(p))m.push([x,b]);for(const[x]of m)delete p[x];for(const[x,b]of m){const A=Number(x);if(r>0)A>=n?p[String(A+r)]=b:p[x]=b;else{const C=Math.abs(r);A>=n&&A<n+C||(A>=n+C?p[String(A+r)]=b:p[x]=b)}}}}),this.dirty=!0}async moveCells(t,n,r,s){const a=this.tabId;this.doc.update(u=>{const d=u.sheets[a],h=[];for(const[x,b]of Object.entries(d.sheet))h.push([x,{v:b.v,f:b.f,s:b.s}]);for(const[x]of h)delete d.sheet[x];for(const[x,b]of h){const A=dn(x),C=Lc(A,t,n,r,s),w=Nt(C);b.f?d.sheet[w]={...b,f:SF(b.f,t,n,r,s)}:d.sheet[w]={...b}}const g=t==="row"?d.rowHeights:d.colWidths,p=[];for(const[x,b]of Object.entries(g))p.push([x,b]);for(const[x]of p)delete g[x];for(const[x,b]of p){const A=Number(x),C=ng(A,n,r,s);g[String(C)]=b}const m=t==="row"?d.rowStyles:d.colStyles;if(m){const x=[];for(const[b,A]of Object.entries(m))x.push([b,A]);for(const[b]of x)delete m[b];for(const[b,A]of x){const C=Number(b),w=ng(C,n,r,s);m[String(w)]=A}}}),this.dirty=!0}async buildDependantsMap(t){const n=new Map,r=this.getSheet().sheet;if(this.batchOverlay){for(const[s,a]of Object.entries(r))if(!this.batchOverlay.has(s)&&a.f)for(const u of Mc(Q0(a.f)))n.has(u)||n.set(u,new Set),n.get(u).add(s);for(const[s,a]of this.batchOverlay)if(!(a===null||!a.f))for(const u of Mc(Q0(a.f)))n.has(u)||n.set(u,new Set),n.get(u).add(s);return n}for(const[s,a]of Object.entries(r))if(a.f)for(const u of Mc(Q0(a.f)))n.has(u)||n.set(u,new Set),n.get(u).add(s);return n}async setDimensionSize(t,n,r){if(this.batchOps){const a=this.tabId;this.batchOps.push(u=>{const d=t==="row"?u.sheets[a].rowHeights:u.sheets[a].colWidths;d[String(n)]=r});return}const s=this.tabId;this.doc.update(a=>{const u=t==="row"?a.sheets[s].rowHeights:a.sheets[s].colWidths;u[String(n)]=r})}async getDimensionSizes(t){const n=this.getSheet(),r=t==="row"?n.rowHeights:n.colWidths,s=new Map;if(r)for(const[a,u]of Object.entries(r))s.set(Number(a),u);return s}updateActiveCell(t){this.doc.update((n,r)=>{r.set({activeCell:Nt(t)})})}getPresences(){return this.doc.getOthersPresences()}async setColumnStyle(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].colStyles||(a.sheets[s].colStyles={}),a.sheets[s].colStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].colStyles||(s.sheets[r].colStyles={}),s.sheets[r].colStyles[String(t)]=n})}async getColumnStyles(){const t=this.getSheet(),n=new Map;if(t.colStyles)for(const[r,s]of Object.entries(t.colStyles))n.set(Number(r),s);return n}async setRowStyle(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].rowStyles||(a.sheets[s].rowStyles={}),a.sheets[s].rowStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].rowStyles||(s.sheets[r].rowStyles={}),s.sheets[r].rowStyles[String(t)]=n})}async getRowStyles(){const t=this.getSheet(),n=new Map;if(t.rowStyles)for(const[r,s]of Object.entries(t.rowStyles))n.set(Number(r),s);return n}async setSheetStyle(t){if(this.batchOps){const r=this.tabId;this.batchOps.push(s=>{s.sheets[r].sheetStyle=t});return}const n=this.tabId;this.doc.update(r=>{r.sheets[n].sheetStyle=t})}async getSheetStyle(){const t=this.getSheet();return t.sheetStyle?{...t.sheetStyle}:void 0}async setFreezePane(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].frozenRows=t,a.sheets[s].frozenCols=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].frozenRows=t,s.sheets[r].frozenCols=n})}async getFreezePane(){const t=this.getSheet();return{frozenRows:t.frozenRows??0,frozenCols:t.frozenCols??0}}beginBatch(){this.batchOverlay=new Map,this.batchOps=[]}endBatch(){const t=this.batchOverlay,n=this.batchOps;this.batchOverlay=null,this.batchOps=null;const r=t&&t.size>0,s=n&&n.length>0;if(!r&&!s)return;const a=this.tabId;this.doc.update(u=>{const d=u.sheets[a];if(t)for(const[h,g]of t)g===null?d.sheet[h]!==void 0&&delete d.sheet[h]:d.sheet[h]=g;if(n)for(const h of n)h(u)}),this.dirty=!0}async undo(){if(!this.doc.history.canUndo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet));return this.doc.history.undo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t)}}async redo(){if(!this.doc.history.canRedo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet));return this.doc.history.redo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t)}}computeAffectedRange(t){const n=new Set(Object.keys(this.getSheet().sheet)),r=new Set;for(const h of n)t.has(h)||r.add(h);for(const h of t)n.has(h)||r.add(h);if(r.size===0)return;let s=1/0,a=-1/0,u=1/0,d=-1/0;for(const h of r){const g=dn(h);g.r<s&&(s=g.r),g.r>a&&(a=g.r),g.c<u&&(u=g.c),g.c>d&&(d=g.c)}return[{r:s,c:u},{r:a,c:d}]}canUndo(){return this.doc.history.canUndo()}canRedo(){return this.doc.history.canRedo()}}function PF({tabId:e,readOnly:t=!1}){const{resolvedTheme:n}=DF(),r=F.useRef(null),[s,a]=F.useState(!1),u=F.useRef(void 0),{doc:d,loading:h,error:g}=Ea.useDocument();return F.useEffect(()=>{a(!0)},[]),F.useEffect(()=>{const p=r.current;if(!s||!p||!d)return;let m,x=[],b=!1;return IF(p,{theme:n,store:new r7(d,e),readOnly:t}).then(A=>{if(b){A.cleanup();return}m=A,u.current=A,x.push(d.subscribe(C=>{C.type==="remote-change"&&m.reloadDimensions().then(()=>m.render())})),x.push(d.subscribe("presence",()=>m.renderOverlay()))}),()=>{b=!0,m&&m.cleanup(),u.current=void 0;for(const A of x)A()}},[s,r,d,e,t]),h?O.jsx(yu,{}):g?O.jsx("div",{className:"flex h-full w-full items-center justify-center",children:O.jsx("div",{className:"text-red-500",children:g.message})}):O.jsxs("div",{className:"flex h-full w-full flex-col",children:[!t&&O.jsx(e7,{spreadsheet:u.current}),O.jsx("div",{ref:r,className:"flex-1 w-full"})]})}function i7({tabs:e,activeTabId:t,onSelectTab:n,onAddTab:r,onRenameTab:s,onDeleteTab:a}){const[u,d]=F.useState(null),[h,g]=F.useState(""),[p,m]=F.useState(null),x=F.useRef(null);F.useEffect(()=>{u&&x.current&&(x.current.focus(),x.current.select())},[u]);const b=C=>{d(C.id),g(C.name)},A=()=>{u&&h.trim()&&s(u,h.trim()),d(null)};return O.jsxs("div",{className:"flex items-center border-t bg-muted/30 px-1 h-9 shrink-0",children:[e.map(C=>O.jsxs(ga,{open:p===C.id,onOpenChange:w=>{w||m(null)},children:[O.jsx(ma,{asChild:!0,children:O.jsxs("button",{className:xt("flex items-center gap-1.5 px-3 py-1 text-sm rounded-t border-b-2 cursor-pointer select-none","hover:bg-muted/50 transition-colors",C.id===t?"border-primary bg-background text-foreground font-medium":"border-transparent text-muted-foreground"),onClick:()=>{n(C.id)},onDoubleClick:()=>b(C),onContextMenu:w=>{w.preventDefault(),m(C.id)},children:[C.type==="datasource"?O.jsx(sy,{className:"size-3.5"}):O.jsx(sT,{className:"size-3.5"}),u===C.id?O.jsx("input",{ref:x,className:"w-20 bg-transparent border-b border-primary text-sm outline-none",value:h,onChange:w=>g(w.target.value),onBlur:A,onKeyDown:w=>{w.key==="Enter"&&A(),w.key==="Escape"&&d(null)},onClick:w=>w.stopPropagation()}):O.jsx("span",{children:C.name})]})}),O.jsxs(ya,{align:"start",children:[O.jsx(pr,{onClick:()=>b(C),children:"Rename"}),e.length>1&&O.jsxs(O.Fragment,{children:[O.jsx(Zw,{}),O.jsx(pr,{variant:"destructive",onClick:()=>a(C.id),children:"Delete"})]})]})]},C.id)),O.jsxs(ga,{children:[O.jsx(ma,{asChild:!0,children:O.jsx("button",{className:"flex items-center justify-center size-7 ml-1 rounded hover:bg-muted/50 text-muted-foreground cursor-pointer",children:O.jsx(MM,{className:"size-4"})})}),O.jsxs(ya,{align:"start",children:[O.jsxs(pr,{onClick:()=>r("sheet"),children:[O.jsx(sT,{className:"size-4"}),"New Sheet"]}),O.jsxs(pr,{onClick:()=>r("datasource"),children:[O.jsx(sy,{className:"size-4"}),"New DataSource"]})]})]})]})}const bg="https://wafflebase-api.yorkie.dev/datasources";async function BO(e){const t=await Vi(bg,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create datasource");return t.json()}async function ZC(){const e=await Vi(bg);if(!e.ok)throw new Error("Failed to fetch datasources");return e.json()}async function o7(e,t){const n=await Vi(`${bg}/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update datasource");return n.json()}async function s7(e){if(!(await Vi(`${bg}/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete datasource")}async function Ub(e){const t=await Vi(`${bg}/${e}/test`,{method:"POST"});if(!t.ok)throw new Error("Failed to test connection");return t.json()}async function a7(e,t){const n=await Vi(`${bg}/${e}/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.message||"Query execution failed")}return n.json()}function l7({tabId:e}){const{resolvedTheme:t}=DF(),n=F.useRef(null),[r,s]=F.useState(!1),a=F.useRef(void 0),u=F.useRef(new pY),{doc:d,loading:h,error:g}=Ea.useDocument(),[p,m]=F.useState(""),[x,b]=F.useState(!1),[A,C]=F.useState(null),[w,T]=F.useState(null);F.useEffect(()=>{s(!0)},[]),F.useEffect(()=>{if(!d)return;const L=d.getRoot().tabs[e];L!=null&&L.query&&m(L.query)},[d,e]),F.useEffect(()=>{const D=n.current;if(!r||!D)return;let L,k=!1;return IF(D,{theme:t,store:u.current,readOnly:!0}).then(U=>{if(k){U.cleanup();return}L=U,a.current=U}),()=>{k=!0,L&&L.cleanup(),a.current=void 0}},[r,t]);const _=F.useCallback(async()=>{if(!d||!p.trim())return;const L=d.getRoot().tabs[e];if(!(L!=null&&L.datasourceId)){T("No datasource connected to this tab");return}d.update(k=>{k.tabs[e]&&(k.tabs[e].query=p)}),b(!0),T(null);try{const k=await a7(L.datasourceId,p);C(k),u.current.loadQueryResults(k.columns,k.rows),a.current&&(await a.current.reloadDimensions(),a.current.render())}catch(k){T(k.message)}finally{b(!1)}},[d,e,p]),I=F.useCallback(D=>{(D.metaKey||D.ctrlKey)&&D.key==="Enter"&&(D.preventDefault(),_())},[_]);return h?O.jsx(yu,{}):g?O.jsx("div",{className:"flex h-full w-full items-center justify-center",children:O.jsx("div",{className:"text-red-500",children:g.message})}):O.jsxs("div",{className:"flex h-full w-full flex-col",children:[O.jsx("div",{className:"border-b p-2 shrink-0",children:O.jsx("textarea",{className:"w-full h-24 p-2 font-mono text-sm border rounded resize-y bg-background text-foreground focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"SELECT * FROM users LIMIT 100",value:p,onChange:D=>m(D.target.value),onKeyDown:I})}),O.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 border-b shrink-0",children:[O.jsxs(qn,{size:"sm",onClick:_,disabled:x||!p.trim(),children:[O.jsx(t8,{className:"size-4"}),x?"Executing...":"Execute"]}),A&&O.jsxs("span",{className:"text-xs text-muted-foreground",children:[A.rowCount," row",A.rowCount!==1?"s":"",A.truncated?" (truncated)":""," in ",A.executionTime,"ms"]}),w&&O.jsx("span",{className:"text-xs text-destructive truncate",children:w})]}),O.jsx("div",{ref:n,className:"flex-1 w-full"})]})}var u7="Label",MF=F.forwardRef((e,t)=>O.jsx(Bt.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));MF.displayName=u7;var c7=MF;function Bi({className:e,...t}){return O.jsx(c7,{"data-slot":"label",className:xt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var f7=eD[" useInsertionEffect ".trim().toString()]||wr;function d7({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,u]=h7({defaultProp:t,onChange:n}),d=e!==void 0,h=d?e:s;{const p=F.useRef(e!==void 0);F.useEffect(()=>{const m=p.current;m!==d&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,r])}const g=F.useCallback(p=>{var m;if(d){const x=p7(p)?p(e):p;x!==e&&((m=u.current)==null||m.call(u,x))}else a(p)},[d,e,a,u]);return[h,g]}function h7({defaultProp:e,onChange:t}){const[n,r]=F.useState(e),s=F.useRef(n),a=F.useRef(t);return f7(()=>{a.current=t},[t]),F.useEffect(()=>{var u;s.current!==n&&((u=a.current)==null||u.call(a,n),s.current=n)},[n,s]),[n,r,a]}function p7(e){return typeof e=="function"}var g7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],LF=g7.reduce((e,t)=>{const n=Fc(`Primitive.${t}`),r=F.forwardRef((s,a)=>{const{asChild:u,...d}=s,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(h,{...d,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),DS="Switch",[m7,LK]=Es(DS),[y7,v7]=m7(DS),FF=F.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:u,disabled:d,value:h="on",onCheckedChange:g,form:p,...m}=e,[x,b]=F.useState(null),A=ln(t,I=>b(I)),C=F.useRef(!1),w=x?p||!!x.closest("form"):!0,[T,_]=d7({prop:s,defaultProp:a??!1,onChange:g,caller:DS});return O.jsxs(y7,{scope:n,checked:T,disabled:d,children:[O.jsx(LF.button,{type:"button",role:"switch","aria-checked":T,"aria-required":u,"data-state":zF(T),"data-disabled":d?"":void 0,disabled:d,value:h,...m,ref:A,onClick:st(e.onClick,I=>{_(D=>!D),w&&(C.current=I.isPropagationStopped(),C.current||I.stopPropagation())})}),w&&O.jsx(jF,{control:x,bubbles:!C.current,name:r,value:h,checked:T,required:u,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});FF.displayName=DS;var kF="SwitchThumb",BF=F.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=v7(kF,n);return O.jsx(LF.span,{"data-state":zF(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});BF.displayName=kF;var x7="SwitchBubbleInput",jF=F.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const u=F.useRef(null),d=ln(u,a),h=xw(n),g=bw(t);return F.useEffect(()=>{const p=u.current;if(!p)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==n&&b){const A=new Event("click",{bubbles:r});b.call(p,n),p.dispatchEvent(A)}},[h,n,r]),O.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:d,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jF.displayName=x7;function zF(e){return e?"checked":"unchecked"}var b7=FF,S7=BF;function M2({className:e,...t}){return O.jsx(b7,{"data-slot":"switch",className:xt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:O.jsx(S7,{"data-slot":"switch-thumb",className:xt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function VF({open:e,onOpenChange:t,onCreated:n}){const[r,s]=F.useState(""),[a,u]=F.useState("localhost"),[d,h]=F.useState("5432"),[g,p]=F.useState(""),[m,x]=F.useState(""),[b,A]=F.useState(""),[C,w]=F.useState(!1),[T,_]=F.useState(!1),[I,D]=F.useState(!1),[L,k]=F.useState(null),U=()=>{s(""),u("localhost"),h("5432"),p(""),x(""),A(""),w(!1),k(null)},B=async()=>{D(!0);try{const te=await BO({name:r,host:a,port:Number(d),database:g,username:m,password:b,sslEnabled:C});k(te.id),On.success("DataSource created"),n(te),U(),t(!1)}catch{On.error("Failed to create datasource")}finally{D(!1)}},W=async()=>{if(!L){D(!0);try{const te=await BO({name:r||"Untitled",host:a,port:Number(d),database:g,username:m,password:b,sslEnabled:C});k(te.id),_(!0);const ie=await Ub(te.id);ie.success?On.success("Connection successful"):On.error(`Connection failed: ${ie.error}`)}catch{On.error("Failed to test connection")}finally{D(!1),_(!1)}return}_(!0);try{const te=await Ub(L);te.success?On.success("Connection successful"):On.error(`Connection failed: ${te.error}`)}catch{On.error("Failed to test connection")}finally{_(!1)}};return O.jsx(yy,{open:e,onOpenChange:te=>{te||U(),t(te)},children:O.jsxs(vy,{className:"sm:max-w-md",children:[O.jsxs(xy,{children:[O.jsx(by,{children:"New DataSource Connection"}),O.jsx(Qb,{children:"Connect to an external PostgreSQL database."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Bi,{htmlFor:"ds-name",children:"Name"}),O.jsx(xi,{id:"ds-name",placeholder:"My Database",value:r,onChange:te=>s(te.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[O.jsxs("div",{className:"col-span-2 grid gap-2",children:[O.jsx(Bi,{htmlFor:"ds-host",children:"Host"}),O.jsx(xi,{id:"ds-host",placeholder:"localhost",value:a,onChange:te=>u(te.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Bi,{htmlFor:"ds-port",children:"Port"}),O.jsx(xi,{id:"ds-port",type:"number",value:d,onChange:te=>h(te.target.value)})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Bi,{htmlFor:"ds-database",children:"Database"}),O.jsx(xi,{id:"ds-database",placeholder:"mydb",value:g,onChange:te=>p(te.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Bi,{htmlFor:"ds-username",children:"Username"}),O.jsx(xi,{id:"ds-username",placeholder:"postgres",value:m,onChange:te=>x(te.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Bi,{htmlFor:"ds-password",children:"Password"}),O.jsx(xi,{id:"ds-password",type:"password",value:b,onChange:te=>A(te.target.value)})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(M2,{id:"ds-ssl",checked:C,onCheckedChange:w}),O.jsx(Bi,{htmlFor:"ds-ssl",children:"Enable SSL"})]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx(qn,{variant:"outline",onClick:W,disabled:T||!a||!g,children:T?"Testing...":"Test Connection"}),O.jsx(qn,{onClick:B,disabled:I||!r||!a||!g||!m,children:I?"Saving...":"Save"})]})]})})}function E7({open:e,onOpenChange:t,onSelect:n}){const[r,s]=F.useState([]),[a,u]=F.useState(!1),[d,h]=F.useState(!1),[g,p]=F.useState(null);F.useEffect(()=>{e&&(u(!0),ZC().then(s).catch(()=>s([])).finally(()=>u(!1)))},[e]);const m=()=>{const x=r.find(b=>b.id===g);x&&(n(x),t(!1))};return O.jsxs(O.Fragment,{children:[O.jsx(yy,{open:e&&!d,onOpenChange:t,children:O.jsxs(vy,{className:"sm:max-w-sm",children:[O.jsxs(xy,{children:[O.jsx(by,{children:"Select DataSource"}),O.jsx(Qb,{children:"Choose an existing connection or create a new one."})]}),O.jsx("div",{className:"py-2",children:a?O.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading..."}):r.length===0?O.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No datasources yet. Create one to get started."}):O.jsx("div",{className:"flex flex-col gap-1 max-h-60 overflow-y-auto",children:r.map(x=>O.jsxs("button",{className:xt("flex items-center gap-2 px-3 py-2 rounded text-sm text-left cursor-pointer","hover:bg-muted/50 transition-colors",g===x.id&&"bg-muted"),onClick:()=>p(x.id),onDoubleClick:()=>{n(x),t(!1)},children:[O.jsx(sy,{className:"size-4 text-muted-foreground shrink-0"}),O.jsxs("div",{className:"flex flex-col min-w-0",children:[O.jsx("span",{className:"font-medium truncate",children:x.name}),O.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[x.host,":",x.port,"/",x.database]})]})]},x.id))})}),O.jsxs("div",{className:"flex justify-between",children:[O.jsxs(qn,{variant:"outline",size:"sm",onClick:()=>h(!0),children:[O.jsx(MM,{className:"size-4"}),"New Connection"]}),O.jsx(qn,{size:"sm",disabled:!g,onClick:m,children:"Select"})]})]})}),O.jsx(VF,{open:d,onOpenChange:x=>{h(x),x||ZC().then(s).catch(()=>{})},onCreated:x=>{n(x),t(!1),h(!1)}})]})}const lb="tab-1",UF={tabs:{[lb]:{id:lb,name:"Sheet1",type:"sheet"}},tabOrder:[lb],sheets:{[lb]:{sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},frozenRows:0,frozenCols:0}}},A7={main:[{title:"Documents",url:"/",icon:DM},{title:"Data Sources",url:"/datasources",icon:sy}],secondary:[{title:"Settings",url:"/settings",icon:LM}]};function C7(e){if(!e)return;const t=e.getRoot();if(t.tabs||!t.sheet)return;const r="tab-1";e.update(s=>{s.tabs={[r]:{id:r,name:"Sheet1",type:"sheet"}},s.tabOrder=[r],s.sheets={[r]:{sheet:s.sheet||{},rowHeights:s.rowHeights||{},colWidths:s.colWidths||{},colStyles:s.colStyles||{},rowStyles:s.rowStyles||{},sheetStyle:s.sheetStyle,frozenRows:s.frozenRows||0,frozenCols:s.frozenCols||0}},delete s.sheet,delete s.rowHeights,delete s.colWidths,delete s.colStyles,delete s.rowStyles,delete s.sheetStyle,delete s.frozenRows,delete s.frozenCols})}function jO(){return`tab-${Date.now()}-${Math.random().toString(36).slice(2,6)}`}function w7({documentId:e}){o$();const{doc:t}=Ea.useDocument(),[n,r]=F.useState(null),[s,a]=F.useState(!1),[u,d]=F.useState(!1);F.useEffect(()=>{t&&(C7(t),a(!0))},[t]),F.useEffect(()=>{if(!t||!s)return;const w=t.getRoot();w.tabOrder&&w.tabOrder.length>0&&!n&&r(w.tabOrder[0])},[t,s,n]);const h=F.useCallback(()=>{if(!t)return;const w=t.getRoot(),T=jO(),_=w.tabOrder.filter(I=>{var D;return((D=w.tabs[I])==null?void 0:D.type)==="sheet"}).length+1;t.update(I=>{I.tabs[T]={id:T,name:`Sheet${_}`,type:"sheet"},I.tabOrder.push(T),I.sheets[T]={sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},frozenRows:0,frozenCols:0}}),r(T)},[t]),g=F.useCallback(w=>{if(!t)return;const T=t.getRoot(),_=jO(),I=T.tabOrder.filter(D=>{var L;return((L=T.tabs[D])==null?void 0:L.type)==="datasource"}).length+1;t.update(D=>{D.tabs[_]={id:_,name:w.name||`DataSource${I}`,type:"datasource",datasourceId:w.id,query:""},D.tabOrder.push(_)}),r(_)},[t]),p=F.useCallback(w=>{w==="datasource"?d(!0):h()},[h]),m=F.useCallback((w,T)=>{t&&t.update(_=>{_.tabs[w]&&(_.tabs[w].name=T)})},[t]),x=F.useCallback(w=>{if(!t)return;const T=t.getRoot();if(T.tabOrder.length<=1)return;const _=T.tabOrder.indexOf(w);if(t.update(I=>{delete I.tabs[w],I.sheets[w]&&delete I.sheets[w];const D=I.tabOrder.indexOf(w);D!==-1&&I.tabOrder.splice(D,1)}),n===w){const I=t.getRoot(),D=Math.min(_,I.tabOrder.length-1);r(I.tabOrder[D])}},[t,n]);if(!t||!s||!n)return O.jsx(yu,{});const b=t.getRoot(),A=b.tabOrder.map(w=>b.tabs[w]).filter(Boolean),C=b.tabs[n];return O.jsxs(SM,{children:[O.jsx(UM,{variant:"inset",items:A7}),O.jsxs(EM,{children:[O.jsx(GM,{title:"Spreadsheet",children:O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(i$,{documentId:e}),O.jsx(g8,{})]})}),O.jsxs("div",{className:"flex flex-1 flex-col",children:[O.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:O.jsx("div",{className:"flex flex-col h-full",children:(C==null?void 0:C.type)==="datasource"?O.jsx(l7,{tabId:n}):O.jsx(PF,{tabId:n})})}),O.jsx(i7,{tabs:A,activeTabId:n,onSelectTab:r,onAddTab:p,onRenameTab:m,onDeleteTab:x})]})]}),O.jsx(E7,{open:u,onOpenChange:d,onSelect:g})]})}function R7(){const{id:e}=lD(),{data:t,isLoading:n,isError:r}=vu({queryKey:["me"],queryFn:nh,retry:!1,staleTime:5*60*1e3});return n?O.jsx(yu,{}):r||!t?O.jsx("div",{children:"User not found"}):!t.username||!t.email?O.jsx(yu,{}):O.jsx(Ea.DocumentProvider,{docKey:`sheet-${e}`,initialRoot:UF,initialPresence:{username:t.username,email:t.email,photo:t.photo||""},children:O.jsx(w7,{documentId:e})})}const T7=qb("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function N7({className:e,variant:t,asChild:n=!1,...r}){const s=n?dw:"span";return O.jsx(s,{"data-slot":"badge",className:xt(T7({variant:t}),e),...r})}function _7({datasource:e,open:t,onOpenChange:n,onSaved:r}){const[s,a]=F.useState(""),[u,d]=F.useState(""),[h,g]=F.useState("5432"),[p,m]=F.useState(""),[x,b]=F.useState(""),[A,C]=F.useState(""),[w,T]=F.useState(!1),[_,I]=F.useState(!1),[D,L]=F.useState(!1);F.useEffect(()=>{e&&(a(e.name),d(e.host),g(String(e.port)),m(e.database),b(e.username),C(""),T(e.sslEnabled))},[e]);const k=async()=>{if(e){L(!0);try{const B={};s!==e.name&&(B.name=s),u!==e.host&&(B.host=u),Number(h)!==e.port&&(B.port=Number(h)),p!==e.database&&(B.database=p),x!==e.username&&(B.username=x),A&&(B.password=A),w!==e.sslEnabled&&(B.sslEnabled=w),await o7(e.id,B),On.success("DataSource updated"),r()}catch{On.error("Failed to update datasource")}finally{L(!1)}}},U=async()=>{if(e){I(!0);try{const B=await Ub(e.id);B.success?On.success("Connection successful"):On.error(`Connection failed: ${B.error}`)}catch{On.error("Failed to test connection")}finally{I(!1)}}};return O.jsx(yy,{open:t,onOpenChange:n,children:O.jsxs(vy,{className:"sm:max-w-md",children:[O.jsxs(xy,{children:[O.jsx(by,{children:"Edit DataSource"}),O.jsx(Qb,{children:"Update the connection settings for this datasource."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Bi,{htmlFor:"edit-ds-name",children:"Name"}),O.jsx(xi,{id:"edit-ds-name",value:s,onChange:B=>a(B.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[O.jsxs("div",{className:"col-span-2 grid gap-2",children:[O.jsx(Bi,{htmlFor:"edit-ds-host",children:"Host"}),O.jsx(xi,{id:"edit-ds-host",value:u,onChange:B=>d(B.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Bi,{htmlFor:"edit-ds-port",children:"Port"}),O.jsx(xi,{id:"edit-ds-port",type:"number",value:h,onChange:B=>g(B.target.value)})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Bi,{htmlFor:"edit-ds-database",children:"Database"}),O.jsx(xi,{id:"edit-ds-database",value:p,onChange:B=>m(B.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Bi,{htmlFor:"edit-ds-username",children:"Username"}),O.jsx(xi,{id:"edit-ds-username",value:x,onChange:B=>b(B.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Bi,{htmlFor:"edit-ds-password",children:"Password"}),O.jsx(xi,{id:"edit-ds-password",type:"password",placeholder:"Leave blank to keep current",value:A,onChange:B=>C(B.target.value)})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(M2,{id:"edit-ds-ssl",checked:w,onCheckedChange:T}),O.jsx(Bi,{htmlFor:"edit-ds-ssl",children:"Enable SSL"})]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx(qn,{variant:"outline",onClick:U,disabled:_,children:_?"Testing...":"Test Connection"}),O.jsx(qn,{onClick:k,disabled:D||!s||!u||!p||!x,children:D?"Saving...":"Save Changes"})]})]})})}function I7({data:e}){var k,U;const t=Wb(),[n,r]=F.useState(!1),[s,a]=F.useState(null),[u,d]=F.useState(null),[h,g]=F.useState({}),p=db({mutationFn:async B=>await s7(B),onSuccess:()=>{t.invalidateQueries({queryKey:["datasources"]}),On.success("DataSource deleted")},onError:()=>{On.error("Failed to delete datasource")}}),m=async B=>{d(B),g(W=>({...W,[B]:null}));try{const W=await Ub(B);g(te=>({...te,[B]:W.success})),W.success?On.success("Connection successful"):On.error(`Connection failed: ${W.error}`)}catch{g(W=>({...W,[B]:!1})),On.error("Failed to test connection")}finally{d(null)}},x=[{id:"select",header:({table:B})=>O.jsx(Nb,{checked:B.getIsAllPageRowsSelected()||B.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:W=>B.toggleAllPageRowsSelected(!!W),"aria-label":"Select all"}),cell:({row:B})=>O.jsx(Nb,{checked:B.getIsSelected(),onCheckedChange:W=>B.toggleSelected(!!W),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:"Name",cell:({row:B})=>O.jsx("div",{className:"font-medium",children:B.getValue("name")})},{id:"connection",header:"Connection",cell:({row:B})=>{const W=B.original;return O.jsxs("div",{className:"text-sm text-muted-foreground",children:[W.host,":",W.port,"/",W.database]})}},{accessorKey:"username",header:"User",cell:({row:B})=>O.jsx("div",{className:"text-sm",children:B.getValue("username")})},{id:"ssl",header:"SSL",cell:({row:B})=>B.original.sslEnabled?O.jsx(N7,{variant:"secondary",children:"SSL"}):null},{id:"status",header:"Status",cell:({row:B})=>{const W=B.original.id,te=h[W];return u===W?O.jsx(FD,{className:"h-4 w-4 animate-spin text-muted-foreground"}):te===!0?O.jsx(Wj,{className:"h-4 w-4 text-green-500"}):te===!1?O.jsx(qj,{className:"h-4 w-4 text-red-500"}):O.jsx("span",{className:"text-sm text-muted-foreground",children:""})}},{accessorKey:"createdAt",header:()=>O.jsx("div",{className:"text-right",children:"Created"}),cell:({row:B})=>{const W=B.getValue("createdAt"),te=g3(new Date(W),{includeSeconds:!0,addSuffix:!0});return O.jsx("div",{className:"text-right text-sm",children:te})}},{id:"actions",enableHiding:!1,cell:({row:B})=>{const W=B.original;return O.jsxs(ga,{children:[O.jsx(ma,{asChild:!0,children:O.jsxs(qn,{variant:"ghost",className:"h-8 w-8 p-0",children:[O.jsx("span",{className:"sr-only",children:"Open menu"}),O.jsx(MD,{})]})}),O.jsxs(ya,{align:"end",children:[O.jsxs(pr,{onClick:te=>{te.stopPropagation(),m(W.id)},children:[O.jsx(rz,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),O.jsxs(pr,{onClick:te=>{te.stopPropagation(),a(W)},children:[O.jsx(kD,{className:"mr-2 h-4 w-4"}),"Edit"]}),O.jsx(Zw,{}),O.jsxs(pr,{className:"text-red-500 focus:text-red-500",onClick:te=>{te.stopPropagation(),p.mutate(W.id)},children:[O.jsx(jD,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}],[b,A]=F.useState([]),[C,w]=F.useState([]),[T,_]=F.useState({}),[I,D]=F.useState({}),L=p3({data:e,columns:x,onSortingChange:A,onColumnFiltersChange:w,getCoreRowModel:c3(),getPaginationRowModel:d3(),getSortedRowModel:h3(),getFilteredRowModel:f3(),onColumnVisibilityChange:_,onRowSelectionChange:D,state:{sorting:b,columnFilters:C,columnVisibility:T,rowSelection:I}});return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex items-center justify-between py-4",children:[O.jsx(xi,{placeholder:"Filter by name...",value:((k=L.getColumn("name"))==null?void 0:k.getFilterValue())??"",onChange:B=>{var W;return(W=L.getColumn("name"))==null?void 0:W.setFilterValue(B.target.value)},className:"max-w-sm"}),O.jsxs(qn,{onClick:()=>r(!0),className:"flex items-center gap-2",children:[O.jsx(BD,{className:"w-4 h-4"}),"New DataSource"]})]}),O.jsx("div",{className:"rounded-md border",children:O.jsxs(sM,{children:[O.jsx(aM,{children:L.getHeaderGroups().map(B=>O.jsx(Fp,{children:B.headers.map(W=>O.jsx(uM,{children:W.isPlaceholder?null:Tb(W.column.columnDef.header,W.getContext())},W.id))},B.id))}),O.jsx(lM,{children:(U=L.getRowModel().rows)!=null&&U.length?L.getRowModel().rows.map(B=>O.jsx(Fp,{"data-state":B.getIsSelected()&&"selected",children:B.getVisibleCells().map(W=>O.jsx(Fb,{children:Tb(W.column.columnDef.cell,W.getContext())},W.id))},B.id)):O.jsx(Fp,{children:O.jsx(Fb,{colSpan:x.length,className:"h-24 text-center",children:"No datasources yet. Create one to get started."})})})]})}),O.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[O.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[L.getFilteredSelectedRowModel().rows.length," of"," ",L.getFilteredRowModel().rows.length," row(s) selected."]}),O.jsxs("div",{className:"space-x-2",children:[O.jsx(qn,{variant:"outline",size:"sm",onClick:()=>L.previousPage(),disabled:!L.getCanPreviousPage(),children:"Previous"}),O.jsx(qn,{variant:"outline",size:"sm",onClick:()=>L.nextPage(),disabled:!L.getCanNextPage(),children:"Next"})]})]}),O.jsx(VF,{open:n,onOpenChange:r,onCreated:()=>{r(!1),t.invalidateQueries({queryKey:["datasources"]})}}),O.jsx(_7,{datasource:s,open:s!==null,onOpenChange:B=>{B||a(null)},onSaved:()=>{a(null),t.invalidateQueries({queryKey:["datasources"]})}})]})}function O7(){const{data:e=[],isLoading:t,isError:n}=vu({queryKey:["datasources"],queryFn:ZC});return t?O.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:O.jsx("p",{className:"text-gray-500 text-lg",children:"Loading datasources..."})}):n?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[O.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load datasources."}),O.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):O.jsx("div",{className:"p-4",children:O.jsx(I7,{data:e})})}function D7({resolved:e}){const t=e.role==="viewer",{doc:n}=Ea.useDocument();if(!n)return O.jsx(yu,{});const r=n.getRoot(),s=r.tabOrder&&r.tabOrder.length>0?r.tabOrder[0]:"tab-1";return O.jsxs("div",{className:"flex h-screen w-full flex-col",children:[O.jsxs("header",{className:"flex h-14 shrink-0 items-center gap-2 border-b px-4",children:[O.jsx("h1",{className:"text-base font-medium",children:e.title}),t&&O.jsx("span",{className:"rounded bg-muted px-2 py-0.5 text-xs text-muted-foreground",children:"View only"})]}),O.jsx("div",{className:"flex flex-1 flex-col",children:O.jsx(PF,{tabId:s,readOnly:t})})]})}function P7({resolved:e}){const{data:t}=vu({queryKey:["me"],queryFn:nh,retry:!1}),n={username:(t==null?void 0:t.username)||"Anonymous",email:(t==null?void 0:t.email)||"",photo:(t==null?void 0:t.photo)||""};return O.jsx(Ea.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:n.username},children:O.jsx(Ea.DocumentProvider,{docKey:`sheet-${e.documentId}`,initialRoot:UF,initialPresence:n,children:O.jsx(D7,{resolved:e})})})}function M7(){const{token:e}=lD(),[t,n]=F.useState(null),[r,s]=F.useState(null),[a,u]=F.useState(!0);return F.useEffect(()=>{if(!e){s("No share token provided"),u(!1);return}t$(e).then(d=>{n(d),u(!1)}).catch(d=>{s(d.message||"Invalid or expired link"),u(!1)})},[e]),a?O.jsx(yu,{}):r||!t?O.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:O.jsxs("div",{className:"text-center",children:[O.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Link unavailable"}),O.jsx("p",{className:"text-muted-foreground",children:r||"Invalid or expired link"})]})}):O.jsx(P7,{resolved:t})}function L7(){const{theme:e,setTheme:t}=F.useContext(P2),n=()=>{t(e==="dark"?"light":"dark")};return O.jsx("div",{className:"max-w-2xl mx-auto p-6",children:O.jsxs("div",{className:"flex items-center justify-between p-4",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"theme-switch",className:"text-sm font-medium",children:"Theme"}),O.jsx("p",{className:"text-xs text-gray-500",children:"Toggle between light and dark themes."})]}),O.jsx("div",{className:"ml-4",children:O.jsx("div",{className:"flex items-center space-x-2",children:O.jsx(M2,{id:"theme-switch",checked:e==="dark",onCheckedChange:n})})})]})})}const F7=()=>{const{data:e,isLoading:t}=vu({queryKey:["me"],queryFn:nh,retry:!1});return t?O.jsx(yu,{}):e?O.jsx(Ea.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:e.username||"anonymous-user"},children:O.jsx(iw,{})}):O.jsx(fD,{to:"/login"})},k7=()=>{const{data:e,isLoading:t}=vu({queryKey:["me"],queryFn:nh,retry:!1});return t?O.jsx(yu,{}):e?O.jsx(fD,{to:"/"}):O.jsx(iw,{})},JA={main:[{title:"Documents",url:"/",icon:DM},{title:"Data Sources",url:"/datasources",icon:sy}],secondary:[{title:"Settings",url:"/settings",icon:LM}]};function B7(){var n,r;const e=Aa();let t="";return e.pathname==="/"?t="Documents":e.pathname==="/datasources"?t="Data Sources":e.pathname==="/settings"?t="Settings":e.pathname.match(/^\/\d+$/)?t="Spreadsheet":t=((n=JA.secondary.find(s=>s.url===e.pathname))==null?void 0:n.title)||((r=JA.main.find(s=>e.pathname.startsWith(s.url)))==null?void 0:r.title)||"",O.jsxs(SM,{children:[O.jsx(UM,{variant:"inset",items:JA}),O.jsxs(EM,{children:[O.jsx(GM,{title:t}),O.jsx("div",{className:"flex flex-1 flex-col",children:O.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:O.jsx("div",{className:"flex flex-col h-full",children:O.jsx(iw,{})})})})]})]})}function j7(){return O.jsxs(n7,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[O.jsx(ZB,{client:new WB,children:O.jsx(SB,{basename:"/",children:O.jsxs(Jk,{children:[O.jsx(ca,{element:O.jsx(k7,{}),children:O.jsx(ca,{path:"/login",element:O.jsx(Yz,{})})}),O.jsx(ca,{path:"/shared/:token",element:O.jsx(M7,{})}),O.jsxs(ca,{element:O.jsx(F7,{}),children:[O.jsxs(ca,{element:O.jsx(B7,{}),children:[O.jsx(ca,{path:"/",element:O.jsx(q6,{})}),O.jsx(ca,{path:"/datasources",element:O.jsx(O7,{})}),O.jsx(ca,{path:"/settings",element:O.jsx(L7,{})})]}),O.jsx(ca,{path:"/:id",element:O.jsx(R7,{})})]})]})})}),O.jsx(Lj,{})]})}sk.createRoot(document.getElementById("root")).render(O.jsx(F.StrictMode,{children:O.jsx(j7,{})}));
