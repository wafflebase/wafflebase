var fg=Object.defineProperty;var dg=(r,t,e)=>t in r?fg(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var lt=(r,t,e)=>dg(r,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();var w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ea={},A0={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(A0,"__esModule",{value:!0});var T0={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(T0,"__esModule",{value:!0});var gu={};function yg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var N0={exports:{}},he=N0.exports={},Rr,Fr;function vh(){throw new Error("setTimeout has not been defined")}function Sh(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Rr=setTimeout:Rr=vh}catch{Rr=vh}try{typeof clearTimeout=="function"?Fr=clearTimeout:Fr=Sh}catch{Fr=Sh}})();function w0(r){if(Rr===setTimeout)return setTimeout(r,0);if((Rr===vh||!Rr)&&setTimeout)return Rr=setTimeout,setTimeout(r,0);try{return Rr(r,0)}catch{try{return Rr.call(null,r,0)}catch{return Rr.call(this,r,0)}}}function mg(r){if(Fr===clearTimeout)return clearTimeout(r);if((Fr===Sh||!Fr)&&clearTimeout)return Fr=clearTimeout,clearTimeout(r);try{return Fr(r)}catch{try{return Fr.call(null,r)}catch{return Fr.call(this,r)}}}var dn=[],us=!1,ui,yl=-1;function xg(){!us||!ui||(us=!1,ui.length?dn=ui.concat(dn):yl=-1,dn.length&&O0())}function O0(){if(!us){var r=w0(xg);us=!0;for(var t=dn.length;t;){for(ui=dn,dn=[];++yl<t;)ui&&ui[yl].run();yl=-1,t=dn.length}ui=null,us=!1,mg(r)}}he.nextTick=function(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];dn.push(new C0(r,t)),dn.length===1&&!us&&w0(O0)};function C0(r,t){this.fun=r,this.array=t}C0.prototype.run=function(){this.fun.apply(null,this.array)};he.title="browser";he.browser=!0;he.env={};he.argv=[];he.version="";he.versions={};function bn(){}he.on=bn;he.addListener=bn;he.once=bn;he.off=bn;he.removeListener=bn;he.removeAllListeners=bn;he.emit=bn;he.prependListener=bn;he.prependOnceListener=bn;he.listeners=function(r){return[]};he.binding=function(r){throw new Error("process.binding is not supported")};he.cwd=function(){return"/"};he.chdir=function(r){throw new Error("process.chdir is not supported")};he.umask=function(){return 0};var gg=N0.exports;const ae=yg(gg);var _c={exports:{}},vc={},_i={},I0={},Xh=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;t[e]=s;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,e);if(o.value!==s||o.enumerable!==!0)return!1}return!0},_g=Xh,Jh=function(){return _g()&&!!Symbol.toStringTag},vg=Error,Sg=EvalError,bg=RangeError,Eg=ReferenceError,D0=SyntaxError,_u=TypeError,Ag=URIError,id=typeof Symbol<"u"&&Symbol,Tg=Xh,Ng=function(){return typeof id!="function"||typeof Symbol!="function"||typeof id("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Tg()},Sc={__proto__:null,foo:{}},wg=Object,Og=function(){return{__proto__:Sc}.foo===Sc.foo&&!(Sc instanceof wg)},Cg="Function.prototype.bind called on incompatible ",Ig=Object.prototype.toString,Dg=Math.max,Rg="[object Function]",sd=function(t,e){for(var n=[],s=0;s<t.length;s+=1)n[s]=t[s];for(var i=0;i<e.length;i+=1)n[i+t.length]=e[i];return n},Fg=function(t,e){for(var n=[],s=e||0,i=0;s<t.length;s+=1,i+=1)n[i]=t[s];return n},Pg=function(r,t){for(var e="",n=0;n<r.length;n+=1)e+=r[n],n+1<r.length&&(e+=t);return e},Lg=function(t){var e=this;if(typeof e!="function"||Ig.apply(e)!==Rg)throw new TypeError(Cg+e);for(var n=Fg(arguments,1),s,i=function(){if(this instanceof s){var h=e.apply(this,sd(n,arguments));return Object(h)===h?h:this}return e.apply(t,sd(n,arguments))},o=Dg(0,e.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(s=Function("binder","return function ("+Pg(a,",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var u=function(){};u.prototype=e.prototype,s.prototype=new u,u.prototype=null}return s},Bg=Lg,Qh=Function.prototype.bind||Bg,Mg=Function.prototype.call,kg=Object.prototype.hasOwnProperty,jg=Qh,Ug=jg.call(Mg,kg),Ut,$g=vg,zg=Sg,qg=bg,Vg=Eg,ms=D0,cs=_u,Hg=Ag,R0=Function,bc=function(r){try{return R0('"use strict"; return ('+r+").constructor;")()}catch{}},mi=Object.getOwnPropertyDescriptor;if(mi)try{mi({},"")}catch{mi=null}var Ec=function(){throw new cs},Wg=mi?function(){try{return arguments.callee,Ec}catch{try{return mi(arguments,"callee").get}catch{return Ec}}}():Ec,Xi=Ng(),Yg=Og(),_e=Object.getPrototypeOf||(Yg?function(r){return r.__proto__}:null),Zi={},Gg=typeof Uint8Array>"u"||!_e?Ut:_e(Uint8Array),xi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ut:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ut:ArrayBuffer,"%ArrayIteratorPrototype%":Xi&&_e?_e([][Symbol.iterator]()):Ut,"%AsyncFromSyncIteratorPrototype%":Ut,"%AsyncFunction%":Zi,"%AsyncGenerator%":Zi,"%AsyncGeneratorFunction%":Zi,"%AsyncIteratorPrototype%":Zi,"%Atomics%":typeof Atomics>"u"?Ut:Atomics,"%BigInt%":typeof BigInt>"u"?Ut:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ut:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ut:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ut:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$g,"%eval%":eval,"%EvalError%":zg,"%Float32Array%":typeof Float32Array>"u"?Ut:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ut:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ut:FinalizationRegistry,"%Function%":R0,"%GeneratorFunction%":Zi,"%Int8Array%":typeof Int8Array>"u"?Ut:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ut:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ut:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Xi&&_e?_e(_e([][Symbol.iterator]())):Ut,"%JSON%":typeof JSON=="object"?JSON:Ut,"%Map%":typeof Map>"u"?Ut:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Xi||!_e?Ut:_e(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ut:Promise,"%Proxy%":typeof Proxy>"u"?Ut:Proxy,"%RangeError%":qg,"%ReferenceError%":Vg,"%Reflect%":typeof Reflect>"u"?Ut:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ut:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Xi||!_e?Ut:_e(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ut:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Xi&&_e?_e(""[Symbol.iterator]()):Ut,"%Symbol%":Xi?Symbol:Ut,"%SyntaxError%":ms,"%ThrowTypeError%":Wg,"%TypedArray%":Gg,"%TypeError%":cs,"%Uint8Array%":typeof Uint8Array>"u"?Ut:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ut:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ut:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ut:Uint32Array,"%URIError%":Hg,"%WeakMap%":typeof WeakMap>"u"?Ut:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ut:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ut:WeakSet};if(_e)try{null.error}catch(r){var Kg=_e(_e(r));xi["%Error.prototype%"]=Kg}var Xg=function r(t){var e;if(t==="%AsyncFunction%")e=bc("async function () {}");else if(t==="%GeneratorFunction%")e=bc("function* () {}");else if(t==="%AsyncGeneratorFunction%")e=bc("async function* () {}");else if(t==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var s=r("%AsyncGenerator%");s&&_e&&(e=_e(s.prototype))}return xi[t]=e,e},od={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xa=Qh,Fl=Ug,Jg=xa.call(Function.call,Array.prototype.concat),Qg=xa.call(Function.apply,Array.prototype.splice),ad=xa.call(Function.call,String.prototype.replace),Pl=xa.call(Function.call,String.prototype.slice),Zg=xa.call(Function.call,RegExp.prototype.exec),t_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,e_=/\\(\\)?/g,r_=function(t){var e=Pl(t,0,1),n=Pl(t,-1);if(e==="%"&&n!=="%")throw new ms("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new ms("invalid intrinsic syntax, expected opening `%`");var s=[];return ad(t,t_,function(i,o,a,l){s[s.length]=a?ad(l,e_,"$1"):o||i}),s},n_=function(t,e){var n=t,s;if(Fl(od,n)&&(s=od[n],n="%"+s[0]+"%"),Fl(xi,n)){var i=xi[n];if(i===Zi&&(i=Xg(n)),typeof i>"u"&&!e)throw new cs("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:i}}throw new ms("intrinsic "+t+" does not exist!")},ga=function(t,e){if(typeof t!="string"||t.length===0)throw new cs("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new cs('"allowMissing" argument must be a boolean');if(Zg(/^%?[^%]*%?$/,t)===null)throw new ms("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=r_(t),s=n.length>0?n[0]:"",i=n_("%"+s+"%",e),o=i.name,a=i.value,l=!1,u=i.alias;u&&(s=u[0],Qg(n,Jg([0,1],u)));for(var h=1,c=!0;h<n.length;h+=1){var f=n[h],d=Pl(f,0,1),m=Pl(f,-1);if((d==='"'||d==="'"||d==="`"||m==='"'||m==="'"||m==="`")&&d!==m)throw new ms("property names with quotes must have matching quotes");if((f==="constructor"||!c)&&(l=!0),s+="."+f,o="%"+s+"%",Fl(xi,o))a=xi[o];else if(a!=null){if(!(f in a)){if(!e)throw new cs("base intrinsic for "+t+" exists, but the property is not available.");return}if(mi&&h+1>=n.length){var T=mi(a,f);c=!!T,c&&"get"in T&&!("originalValue"in T.get)?a=T.get:a=a[f]}else c=Fl(a,f),a=a[f];c&&!l&&(xi[o]=a)}}return a},F0={exports:{}},Ac,ld;function Zh(){if(ld)return Ac;ld=1;var r=ga,t=r("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Ac=t,Ac}var i_=ga,ml=i_("%Object.getOwnPropertyDescriptor%",!0);if(ml)try{ml([],"length")}catch{ml=null}var tf=ml,ud=Zh(),s_=D0,Ji=_u,cd=tf,P0=function(t,e,n){if(!t||typeof t!="object"&&typeof t!="function")throw new Ji("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new Ji("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ji("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ji("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ji("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ji("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!cd&&cd(t,e);if(ud)ud(t,e,{configurable:o===null&&l?l.configurable:!o,enumerable:s===null&&l?l.enumerable:!s,value:n,writable:i===null&&l?l.writable:!i});else if(a||!s&&!i&&!o)t[e]=n;else throw new s_("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},bh=Zh(),L0=function(){return!!bh};L0.hasArrayLengthDefineBug=function(){if(!bh)return null;try{return bh([],"length",{value:1}).length!==1}catch{return!0}};var B0=L0,o_=ga,hd=P0,a_=B0(),fd=tf,dd=_u,l_=o_("%Math.floor%"),u_=function(t,e){if(typeof t!="function")throw new dd("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||l_(e)!==e)throw new dd("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],s=!0,i=!0;if("length"in t&&fd){var o=fd(t,"length");o&&!o.configurable&&(s=!1),o&&!o.writable&&(i=!1)}return(s||i||!n)&&(a_?hd(t,"length",e,!0,!0):hd(t,"length",e)),t};(function(r){var t=Qh,e=ga,n=u_,s=_u,i=e("%Function.prototype.apply%"),o=e("%Function.prototype.call%"),a=e("%Reflect.apply%",!0)||t.call(o,i),l=Zh(),u=e("%Math.max%");r.exports=function(f){if(typeof f!="function")throw new s("a function is required");var d=a(t,o,arguments);return n(d,1+u(0,f.length-(arguments.length-1)),!0)};var h=function(){return a(t,i,arguments)};l?l(r.exports,"apply",{value:h}):r.exports.apply=h})(F0);var vu=F0.exports,M0=ga,k0=vu,c_=k0(M0("String.prototype.indexOf")),Su=function(t,e){var n=M0(t,!!e);return typeof n=="function"&&c_(t,".prototype.")>-1?k0(n):n},h_=Jh(),f_=Su,Eh=f_("Object.prototype.toString"),bu=function(t){return h_&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Eh(t)==="[object Arguments]"},j0=function(t){return bu(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Eh(t)!=="[object Array]"&&Eh(t.callee)==="[object Function]"},d_=function(){return bu(arguments)}();bu.isLegacyArguments=j0;var p_=d_?bu:j0,y_=Object.prototype.toString,m_=Function.prototype.toString,x_=/^\s*(?:function)?\*/,U0=Jh(),Tc=Object.getPrototypeOf,g_=function(){if(!U0)return!1;try{return Function("return function*() {}")()}catch{}},Nc,__=function(t){if(typeof t!="function")return!1;if(x_.test(m_.call(t)))return!0;if(!U0){var e=y_.call(t);return e==="[object GeneratorFunction]"}if(!Tc)return!1;if(typeof Nc>"u"){var n=g_();Nc=n?Tc(n):!1}return Tc(t)===Nc},$0=Function.prototype.toString,ss=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Ah,xl;if(typeof ss=="function"&&typeof Object.defineProperty=="function")try{Ah=Object.defineProperty({},"length",{get:function(){throw xl}}),xl={},ss(function(){throw 42},null,Ah)}catch(r){r!==xl&&(ss=null)}else ss=null;var v_=/^\s*class\b/,Th=function(t){try{var e=$0.call(t);return v_.test(e)}catch{return!1}},wc=function(t){try{return Th(t)?!1:($0.call(t),!0)}catch{return!1}},gl=Object.prototype.toString,S_="[object Object]",b_="[object Function]",E_="[object GeneratorFunction]",A_="[object HTMLAllCollection]",T_="[object HTML document.all class]",N_="[object HTMLCollection]",w_=typeof Symbol=="function"&&!!Symbol.toStringTag,O_=!(0 in[,]),Nh=function(){return!1};if(typeof document=="object"){var C_=document.all;gl.call(C_)===gl.call(document.all)&&(Nh=function(t){if((O_||!t)&&(typeof t>"u"||typeof t=="object"))try{var e=gl.call(t);return(e===A_||e===T_||e===N_||e===S_)&&t("")==null}catch{}return!1})}var I_=ss?function(t){if(Nh(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{ss(t,null,Ah)}catch(e){if(e!==xl)return!1}return!Th(t)&&wc(t)}:function(t){if(Nh(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(w_)return wc(t);if(Th(t))return!1;var e=gl.call(t);return e!==b_&&e!==E_&&!/^\[object HTML/.test(e)?!1:wc(t)},D_=I_,R_=Object.prototype.toString,z0=Object.prototype.hasOwnProperty,F_=function(t,e,n){for(var s=0,i=t.length;s<i;s++)z0.call(t,s)&&(n==null?e(t[s],s,t):e.call(n,t[s],s,t))},P_=function(t,e,n){for(var s=0,i=t.length;s<i;s++)n==null?e(t.charAt(s),s,t):e.call(n,t.charAt(s),s,t)},L_=function(t,e,n){for(var s in t)z0.call(t,s)&&(n==null?e(t[s],s,t):e.call(n,t[s],s,t))},B_=function(t,e,n){if(!D_(e))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=n),R_.call(t)==="[object Array]"?F_(t,e,s):typeof t=="string"?P_(t,e,s):L_(t,e,s)},M_=B_,k_=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],Oc=k_,j_=typeof globalThis>"u"?w:globalThis,U_=function(){for(var t=[],e=0;e<Oc.length;e++)typeof j_[Oc[e]]=="function"&&(t[t.length]=Oc[e]);return t},Ll=M_,$_=U_,pd=vu,ef=Su,_l=tf,z_=ef("Object.prototype.toString"),q0=Jh(),yd=typeof globalThis>"u"?w:globalThis,wh=$_(),rf=ef("String.prototype.slice"),Cc=Object.getPrototypeOf,q_=ef("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},Bl={__proto__:null};q0&&_l&&Cc?Ll(wh,function(r){var t=new yd[r];if(Symbol.toStringTag in t){var e=Cc(t),n=_l(e,Symbol.toStringTag);if(!n){var s=Cc(e);n=_l(s,Symbol.toStringTag)}Bl["$"+r]=pd(n.get)}}):Ll(wh,function(r){var t=new yd[r],e=t.slice||t.set;e&&(Bl["$"+r]=pd(e))});var V_=function(t){var e=!1;return Ll(Bl,function(n,s){if(!e)try{"$"+n(t)===s&&(e=rf(s,1))}catch{}}),e},H_=function(t){var e=!1;return Ll(Bl,function(n,s){if(!e)try{n(t),e=rf(s,1)}catch{}}),e},V0=function(t){if(!t||typeof t!="object")return!1;if(!q0){var e=rf(z_(t),8,-1);return q_(wh,e)>-1?e:e!=="Object"?!1:H_(t)}return _l?V_(t):null},W_=V0,Y_=function(t){return!!W_(t)};(function(r){var t=p_,e=__,n=V0,s=Y_;function i(q){return q.call.bind(q)}var o=typeof BigInt<"u",a=typeof Symbol<"u",l=i(Object.prototype.toString),u=i(Number.prototype.valueOf),h=i(String.prototype.valueOf),c=i(Boolean.prototype.valueOf);if(o)var f=i(BigInt.prototype.valueOf);if(a)var d=i(Symbol.prototype.valueOf);function m(q,Q){if(typeof q!="object")return!1;try{return Q(q),!0}catch{return!1}}r.isArgumentsObject=t,r.isGeneratorFunction=e,r.isTypedArray=s;function T(q){return typeof Promise<"u"&&q instanceof Promise||q!==null&&typeof q=="object"&&typeof q.then=="function"&&typeof q.catch=="function"}r.isPromise=T;function y(q){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(q):s(q)||g(q)}r.isArrayBufferView=y;function v(q){return n(q)==="Uint8Array"}r.isUint8Array=v;function _(q){return n(q)==="Uint8ClampedArray"}r.isUint8ClampedArray=_;function S(q){return n(q)==="Uint16Array"}r.isUint16Array=S;function E(q){return n(q)==="Uint32Array"}r.isUint32Array=E;function N(q){return n(q)==="Int8Array"}r.isInt8Array=N;function x(q){return n(q)==="Int16Array"}r.isInt16Array=x;function O(q){return n(q)==="Int32Array"}r.isInt32Array=O;function p(q){return n(q)==="Float32Array"}r.isFloat32Array=p;function b(q){return n(q)==="Float64Array"}r.isFloat64Array=b;function F(q){return n(q)==="BigInt64Array"}r.isBigInt64Array=F;function j(q){return n(q)==="BigUint64Array"}r.isBigUint64Array=j;function k(q){return l(q)==="[object Map]"}k.working=typeof Map<"u"&&k(new Map);function K(q){return typeof Map>"u"?!1:k.working?k(q):q instanceof Map}r.isMap=K;function it(q){return l(q)==="[object Set]"}it.working=typeof Set<"u"&&it(new Set);function st(q){return typeof Set>"u"?!1:it.working?it(q):q instanceof Set}r.isSet=st;function ut(q){return l(q)==="[object WeakMap]"}ut.working=typeof WeakMap<"u"&&ut(new WeakMap);function at(q){return typeof WeakMap>"u"?!1:ut.working?ut(q):q instanceof WeakMap}r.isWeakMap=at;function ht(q){return l(q)==="[object WeakSet]"}ht.working=typeof WeakSet<"u"&&ht(new WeakSet);function G(q){return ht(q)}r.isWeakSet=G;function et(q){return l(q)==="[object ArrayBuffer]"}et.working=typeof ArrayBuffer<"u"&&et(new ArrayBuffer);function Z(q){return typeof ArrayBuffer>"u"?!1:et.working?et(q):q instanceof ArrayBuffer}r.isArrayBuffer=Z;function J(q){return l(q)==="[object DataView]"}J.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&J(new DataView(new ArrayBuffer(1),0,1));function g(q){return typeof DataView>"u"?!1:J.working?J(q):q instanceof DataView}r.isDataView=g;var C=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function D(q){return l(q)==="[object SharedArrayBuffer]"}function B(q){return typeof C>"u"?!1:(typeof D.working>"u"&&(D.working=D(new C)),D.working?D(q):q instanceof C)}r.isSharedArrayBuffer=B;function R(q){return l(q)==="[object AsyncFunction]"}r.isAsyncFunction=R;function A(q){return l(q)==="[object Map Iterator]"}r.isMapIterator=A;function I(q){return l(q)==="[object Set Iterator]"}r.isSetIterator=I;function P(q){return l(q)==="[object Generator]"}r.isGeneratorObject=P;function z(q){return l(q)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=z;function W(q){return m(q,u)}r.isNumberObject=W;function L(q){return m(q,h)}r.isStringObject=L;function M(q){return m(q,c)}r.isBooleanObject=M;function V(q){return o&&m(q,f)}r.isBigIntObject=V;function Y(q){return a&&m(q,d)}r.isSymbolObject=Y;function rt(q){return W(q)||L(q)||M(q)||V(q)||Y(q)}r.isBoxedPrimitive=rt;function nt(q){return typeof Uint8Array<"u"&&(Z(q)||B(q))}r.isAnyArrayBuffer=nt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(q){Object.defineProperty(r,q,{enumerable:!1,value:function(){throw new Error(q+" is not supported in userland")}})})})(I0);var G_=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},Oh={exports:{}};typeof Object.create=="function"?Oh.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Oh.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}};var K_=Oh.exports;(function(r){var t={},e=Object.getOwnPropertyDescriptors||function(C){for(var D=Object.keys(C),B={},R=0;R<D.length;R++)B[D[R]]=Object.getOwnPropertyDescriptor(C,D[R]);return B},n=/%[sdj%]/g;r.format=function(g){if(!x(g)){for(var C=[],D=0;D<arguments.length;D++)C.push(a(arguments[D]));return C.join(" ")}for(var D=1,B=arguments,R=B.length,A=String(g).replace(n,function(P){if(P==="%%")return"%";if(D>=R)return P;switch(P){case"%s":return String(B[D++]);case"%d":return Number(B[D++]);case"%j":try{return JSON.stringify(B[D++])}catch{return"[Circular]"}default:return P}}),I=B[D];D<R;I=B[++D])S(I)||!F(I)?A+=" "+I:A+=" "+a(I);return A},r.deprecate=function(g,C){if(typeof ae<"u"&&ae.noDeprecation===!0)return g;if(typeof ae>"u")return function(){return r.deprecate(g,C).apply(this,arguments)};var D=!1;function B(){if(!D){if(ae.throwDeprecation)throw new Error(C);ae.traceDeprecation?console.trace(C):console.error(C),D=!0}return g.apply(this,arguments)}return B};var s={},i=/^$/;if(t.NODE_DEBUG){var o=t.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}r.debuglog=function(g){if(g=g.toUpperCase(),!s[g])if(i.test(g)){var C=ae.pid;s[g]=function(){var D=r.format.apply(r,arguments);console.error("%s %d: %s",g,C,D)}}else s[g]=function(){};return s[g]};function a(g,C){var D={seen:[],stylize:u};return arguments.length>=3&&(D.depth=arguments[2]),arguments.length>=4&&(D.colors=arguments[3]),_(C)?D.showHidden=C:C&&r._extend(D,C),p(D.showHidden)&&(D.showHidden=!1),p(D.depth)&&(D.depth=2),p(D.colors)&&(D.colors=!1),p(D.customInspect)&&(D.customInspect=!0),D.colors&&(D.stylize=l),c(D,g,D.depth)}r.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(g,C){var D=a.styles[C];return D?"\x1B["+a.colors[D][0]+"m"+g+"\x1B["+a.colors[D][1]+"m":g}function u(g,C){return g}function h(g){var C={};return g.forEach(function(D,B){C[D]=!0}),C}function c(g,C,D){if(g.customInspect&&C&&K(C.inspect)&&C.inspect!==r.inspect&&!(C.constructor&&C.constructor.prototype===C)){var B=C.inspect(D,g);return x(B)||(B=c(g,B,D)),B}var R=f(g,C);if(R)return R;var A=Object.keys(C),I=h(A);if(g.showHidden&&(A=Object.getOwnPropertyNames(C)),k(C)&&(A.indexOf("message")>=0||A.indexOf("description")>=0))return d(C);if(A.length===0){if(K(C)){var P=C.name?": "+C.name:"";return g.stylize("[Function"+P+"]","special")}if(b(C))return g.stylize(RegExp.prototype.toString.call(C),"regexp");if(j(C))return g.stylize(Date.prototype.toString.call(C),"date");if(k(C))return d(C)}var z="",W=!1,L=["{","}"];if(v(C)&&(W=!0,L=["[","]"]),K(C)){var M=C.name?": "+C.name:"";z=" [Function"+M+"]"}if(b(C)&&(z=" "+RegExp.prototype.toString.call(C)),j(C)&&(z=" "+Date.prototype.toUTCString.call(C)),k(C)&&(z=" "+d(C)),A.length===0&&(!W||C.length==0))return L[0]+z+L[1];if(D<0)return b(C)?g.stylize(RegExp.prototype.toString.call(C),"regexp"):g.stylize("[Object]","special");g.seen.push(C);var V;return W?V=m(g,C,D,I,A):V=A.map(function(Y){return T(g,C,D,I,Y,W)}),g.seen.pop(),y(V,z,L)}function f(g,C){if(p(C))return g.stylize("undefined","undefined");if(x(C)){var D="'"+JSON.stringify(C).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return g.stylize(D,"string")}if(N(C))return g.stylize(""+C,"number");if(_(C))return g.stylize(""+C,"boolean");if(S(C))return g.stylize("null","null")}function d(g){return"["+Error.prototype.toString.call(g)+"]"}function m(g,C,D,B,R){for(var A=[],I=0,P=C.length;I<P;++I)G(C,String(I))?A.push(T(g,C,D,B,String(I),!0)):A.push("");return R.forEach(function(z){z.match(/^\d+$/)||A.push(T(g,C,D,B,z,!0))}),A}function T(g,C,D,B,R,A){var I,P,z;if(z=Object.getOwnPropertyDescriptor(C,R)||{value:C[R]},z.get?z.set?P=g.stylize("[Getter/Setter]","special"):P=g.stylize("[Getter]","special"):z.set&&(P=g.stylize("[Setter]","special")),G(B,R)||(I="["+R+"]"),P||(g.seen.indexOf(z.value)<0?(S(D)?P=c(g,z.value,null):P=c(g,z.value,D-1),P.indexOf(`
`)>-1&&(A?P=P.split(`
`).map(function(W){return"  "+W}).join(`
`).slice(2):P=`
`+P.split(`
`).map(function(W){return"   "+W}).join(`
`))):P=g.stylize("[Circular]","special")),p(I)){if(A&&R.match(/^\d+$/))return P;I=JSON.stringify(""+R),I.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(I=I.slice(1,-1),I=g.stylize(I,"name")):(I=I.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),I=g.stylize(I,"string"))}return I+": "+P}function y(g,C,D){var B=g.reduce(function(R,A){return A.indexOf(`
`)>=0,R+A.replace(/\u001b\[\d\d?m/g,"").length+1},0);return B>60?D[0]+(C===""?"":C+`
 `)+" "+g.join(`,
  `)+" "+D[1]:D[0]+C+" "+g.join(", ")+" "+D[1]}r.types=I0;function v(g){return Array.isArray(g)}r.isArray=v;function _(g){return typeof g=="boolean"}r.isBoolean=_;function S(g){return g===null}r.isNull=S;function E(g){return g==null}r.isNullOrUndefined=E;function N(g){return typeof g=="number"}r.isNumber=N;function x(g){return typeof g=="string"}r.isString=x;function O(g){return typeof g=="symbol"}r.isSymbol=O;function p(g){return g===void 0}r.isUndefined=p;function b(g){return F(g)&&st(g)==="[object RegExp]"}r.isRegExp=b,r.types.isRegExp=b;function F(g){return typeof g=="object"&&g!==null}r.isObject=F;function j(g){return F(g)&&st(g)==="[object Date]"}r.isDate=j,r.types.isDate=j;function k(g){return F(g)&&(st(g)==="[object Error]"||g instanceof Error)}r.isError=k,r.types.isNativeError=k;function K(g){return typeof g=="function"}r.isFunction=K;function it(g){return g===null||typeof g=="boolean"||typeof g=="number"||typeof g=="string"||typeof g=="symbol"||typeof g>"u"}r.isPrimitive=it,r.isBuffer=G_;function st(g){return Object.prototype.toString.call(g)}function ut(g){return g<10?"0"+g.toString(10):g.toString(10)}var at=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ht(){var g=new Date,C=[ut(g.getHours()),ut(g.getMinutes()),ut(g.getSeconds())].join(":");return[g.getDate(),at[g.getMonth()],C].join(" ")}r.log=function(){console.log("%s - %s",ht(),r.format.apply(r,arguments))},r.inherits=K_,r._extend=function(g,C){if(!C||!F(C))return g;for(var D=Object.keys(C),B=D.length;B--;)g[D[B]]=C[D[B]];return g};function G(g,C){return Object.prototype.hasOwnProperty.call(g,C)}var et=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');if(et&&C[et]){var D=C[et];if(typeof D!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(D,et,{value:D,enumerable:!1,writable:!1,configurable:!0}),D}function D(){for(var B,R,A=new Promise(function(z,W){B=z,R=W}),I=[],P=0;P<arguments.length;P++)I.push(arguments[P]);I.push(function(z,W){z?R(z):B(W)});try{C.apply(this,I)}catch(z){R(z)}return A}return Object.setPrototypeOf(D,Object.getPrototypeOf(C)),et&&Object.defineProperty(D,et,{value:D,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(D,e(C))},r.promisify.custom=et;function Z(g,C){if(!g){var D=new Error("Promise was rejected with a falsy value");D.reason=g,g=D}return C(g)}function J(g){if(typeof g!="function")throw new TypeError('The "original" argument must be of type Function');function C(){for(var D=[],B=0;B<arguments.length;B++)D.push(arguments[B]);var R=D.pop();if(typeof R!="function")throw new TypeError("The last argument must be of type Function");var A=this,I=function(){return R.apply(A,arguments)};g.apply(this,D).then(function(P){ae.nextTick(I.bind(null,null,P))},function(P){ae.nextTick(Z.bind(null,P,I))})}return Object.setPrototypeOf(C,Object.getPrototypeOf(g)),Object.defineProperties(C,e(g)),C}r.callbackify=J})(_i);var md;function H0(){if(md)return vc;md=1;function r(N){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},r(N)}function t(N,x){for(var O=0;O<x.length;O++){var p=x[O];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(N,n(p.key),p)}}function e(N,x,O){return x&&t(N.prototype,x),O&&t(N,O),Object.defineProperty(N,"prototype",{writable:!1}),N}function n(N){var x=s(N,"string");return r(x)==="symbol"?x:String(x)}function s(N,x){if(r(N)!=="object"||N===null)return N;var O=N[Symbol.toPrimitive];if(O!==void 0){var p=O.call(N,x||"default");if(r(p)!=="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(N)}function i(N,x){if(!(N instanceof x))throw new TypeError("Cannot call a class as a function")}function o(N,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(x&&x.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),x&&a(N,x)}function a(N,x){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,b){return p.__proto__=b,p},a(N,x)}function l(N){var x=c();return function(){var p=f(N),b;if(x){var F=f(this).constructor;b=Reflect.construct(p,arguments,F)}else b=p.apply(this,arguments);return u(this,b)}}function u(N,x){if(x&&(r(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(N)}function h(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(N){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},f(N)}var d={},m,T;function y(N,x,O){O||(O=Error);function p(F,j,k){return typeof x=="string"?x:x(F,j,k)}var b=function(F){o(k,F);var j=l(k);function k(K,it,st){var ut;return i(this,k),ut=j.call(this,p(K,it,st)),ut.code=N,ut}return e(k)}(O);d[N]=b}function v(N,x){if(Array.isArray(N)){var O=N.length;return N=N.map(function(p){return String(p)}),O>2?"one of ".concat(x," ").concat(N.slice(0,O-1).join(", "),", or ")+N[O-1]:O===2?"one of ".concat(x," ").concat(N[0]," or ").concat(N[1]):"of ".concat(x," ").concat(N[0])}else return"of ".concat(x," ").concat(String(N))}function _(N,x,O){return N.substr(!O||O<0?0:+O,x.length)===x}function S(N,x,O){return(O===void 0||O>N.length)&&(O=N.length),N.substring(O-x.length,O)===x}function E(N,x,O){return typeof O!="number"&&(O=0),O+x.length>N.length?!1:N.indexOf(x,O)!==-1}return y("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),y("ERR_INVALID_ARG_TYPE",function(N,x,O){m===void 0&&(m=Le()),m(typeof N=="string","'name' must be a string");var p;typeof x=="string"&&_(x,"not ")?(p="must not be",x=x.replace(/^not /,"")):p="must be";var b;if(S(N," argument"))b="The ".concat(N," ").concat(p," ").concat(v(x,"type"));else{var F=E(N,".")?"property":"argument";b='The "'.concat(N,'" ').concat(F," ").concat(p," ").concat(v(x,"type"))}return b+=". Received type ".concat(r(O)),b},TypeError),y("ERR_INVALID_ARG_VALUE",function(N,x){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";T===void 0&&(T=_i);var p=T.inspect(x);return p.length>128&&(p="".concat(p.slice(0,128),"...")),"The argument '".concat(N,"' ").concat(O,". Received ").concat(p)},TypeError),y("ERR_INVALID_RETURN_VALUE",function(N,x,O){var p;return O&&O.constructor&&O.constructor.name?p="instance of ".concat(O.constructor.name):p="type ".concat(r(O)),"Expected ".concat(N,' to be returned from the "').concat(x,'"')+" function but got ".concat(p,".")},TypeError),y("ERR_MISSING_ARGS",function(){for(var N=arguments.length,x=new Array(N),O=0;O<N;O++)x[O]=arguments[O];m===void 0&&(m=Le()),m(x.length>0,"At least one arg needs to be specified");var p="The ",b=x.length;switch(x=x.map(function(F){return'"'.concat(F,'"')}),b){case 1:p+="".concat(x[0]," argument");break;case 2:p+="".concat(x[0]," and ").concat(x[1]," arguments");break;default:p+=x.slice(0,b-1).join(", "),p+=", and ".concat(x[b-1]," arguments");break}return"".concat(p," must be specified")},TypeError),vc.codes=d,vc}var Ic,xd;function X_(){if(xd)return Ic;xd=1;function r(G,et){var Z=Object.keys(G);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(G);et&&(J=J.filter(function(g){return Object.getOwnPropertyDescriptor(G,g).enumerable})),Z.push.apply(Z,J)}return Z}function t(G){for(var et=1;et<arguments.length;et++){var Z=arguments[et]!=null?arguments[et]:{};et%2?r(Object(Z),!0).forEach(function(J){e(G,J,Z[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(Z)):r(Object(Z)).forEach(function(J){Object.defineProperty(G,J,Object.getOwnPropertyDescriptor(Z,J))})}return G}function e(G,et,Z){return et=o(et),et in G?Object.defineProperty(G,et,{value:Z,enumerable:!0,configurable:!0,writable:!0}):G[et]=Z,G}function n(G,et){if(!(G instanceof et))throw new TypeError("Cannot call a class as a function")}function s(G,et){for(var Z=0;Z<et.length;Z++){var J=et[Z];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(G,o(J.key),J)}}function i(G,et,Z){return et&&s(G.prototype,et),Z&&s(G,Z),Object.defineProperty(G,"prototype",{writable:!1}),G}function o(G){var et=a(G,"string");return _(et)==="symbol"?et:String(et)}function a(G,et){if(_(G)!=="object"||G===null)return G;var Z=G[Symbol.toPrimitive];if(Z!==void 0){var J=Z.call(G,et||"default");if(_(J)!=="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(G)}function l(G,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(et&&et.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),et&&y(G,et)}function u(G){var et=m();return function(){var J=v(G),g;if(et){var C=v(this).constructor;g=Reflect.construct(J,arguments,C)}else g=J.apply(this,arguments);return h(this,g)}}function h(G,et){if(et&&(_(et)==="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(G)}function c(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function f(G){var et=typeof Map=="function"?new Map:void 0;return f=function(J){if(J===null||!T(J))return J;if(typeof J!="function")throw new TypeError("Super expression must either be null or a function");if(typeof et<"u"){if(et.has(J))return et.get(J);et.set(J,g)}function g(){return d(J,arguments,v(this).constructor)}return g.prototype=Object.create(J.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y(g,J)},f(G)}function d(G,et,Z){return m()?d=Reflect.construct.bind():d=function(g,C,D){var B=[null];B.push.apply(B,C);var R=Function.bind.apply(g,B),A=new R;return D&&y(A,D.prototype),A},d.apply(null,arguments)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T(G){return Function.toString.call(G).indexOf("[native code]")!==-1}function y(G,et){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,g){return J.__proto__=g,J},y(G,et)}function v(G){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},v(G)}function _(G){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_(G)}var S=_i,E=S.inspect,N=H0(),x=N.codes.ERR_INVALID_ARG_TYPE;function O(G,et,Z){return(Z===void 0||Z>G.length)&&(Z=G.length),G.substring(Z-et.length,Z)===et}function p(G,et){if(et=Math.floor(et),G.length==0||et==0)return"";var Z=G.length*et;for(et=Math.floor(Math.log(et)/Math.log(2));et;)G+=G,et--;return G+=G.substring(0,Z-G.length),G}var b="",F="",j="",k="",K={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},it=10;function st(G){var et=Object.keys(G),Z=Object.create(Object.getPrototypeOf(G));return et.forEach(function(J){Z[J]=G[J]}),Object.defineProperty(Z,"message",{value:G.message}),Z}function ut(G){return E(G,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function at(G,et,Z){var J="",g="",C=0,D="",B=!1,R=ut(G),A=R.split(`
`),I=ut(et).split(`
`),P=0,z="";if(Z==="strictEqual"&&_(G)==="object"&&_(et)==="object"&&G!==null&&et!==null&&(Z="strictEqualObject"),A.length===1&&I.length===1&&A[0]!==I[0]){var W=A[0].length+I[0].length;if(W<=it){if((_(G)!=="object"||G===null)&&(_(et)!=="object"||et===null)&&(G!==0||et!==0))return"".concat(K[Z],`

`)+"".concat(A[0]," !== ").concat(I[0],`
`)}else if(Z!=="strictEqualObject"){var L=ae.stderr&&ae.stderr.isTTY?ae.stderr.columns:80;if(W<L){for(;A[0][P]===I[0][P];)P++;P>2&&(z=`
  `.concat(p(" ",P),"^"),P=0)}}}for(var M=A[A.length-1],V=I[I.length-1];M===V&&(P++<2?D=`
  `.concat(M).concat(D):J=M,A.pop(),I.pop(),!(A.length===0||I.length===0));)M=A[A.length-1],V=I[I.length-1];var Y=Math.max(A.length,I.length);if(Y===0){var rt=R.split(`
`);if(rt.length>30)for(rt[26]="".concat(b,"...").concat(k);rt.length>27;)rt.pop();return"".concat(K.notIdentical,`

`).concat(rt.join(`
`),`
`)}P>3&&(D=`
`.concat(b,"...").concat(k).concat(D),B=!0),J!==""&&(D=`
  `.concat(J).concat(D),J="");var nt=0,q=K[Z]+`
`.concat(F,"+ actual").concat(k," ").concat(j,"- expected").concat(k),Q=" ".concat(b,"...").concat(k," Lines skipped");for(P=0;P<Y;P++){var ct=P-C;if(A.length<P+1)ct>1&&P>2&&(ct>4?(g+=`
`.concat(b,"...").concat(k),B=!0):ct>3&&(g+=`
  `.concat(I[P-2]),nt++),g+=`
  `.concat(I[P-1]),nt++),C=P,J+=`
`.concat(j,"-").concat(k," ").concat(I[P]),nt++;else if(I.length<P+1)ct>1&&P>2&&(ct>4?(g+=`
`.concat(b,"...").concat(k),B=!0):ct>3&&(g+=`
  `.concat(A[P-2]),nt++),g+=`
  `.concat(A[P-1]),nt++),C=P,g+=`
`.concat(F,"+").concat(k," ").concat(A[P]),nt++;else{var xt=I[P],St=A[P],$=St!==xt&&(!O(St,",")||St.slice(0,-1)!==xt);$&&O(xt,",")&&xt.slice(0,-1)===St&&($=!1,St+=","),$?(ct>1&&P>2&&(ct>4?(g+=`
`.concat(b,"...").concat(k),B=!0):ct>3&&(g+=`
  `.concat(A[P-2]),nt++),g+=`
  `.concat(A[P-1]),nt++),C=P,g+=`
`.concat(F,"+").concat(k," ").concat(St),J+=`
`.concat(j,"-").concat(k," ").concat(xt),nt+=2):(g+=J,J="",(ct===1||P===0)&&(g+=`
  `.concat(St),nt++))}if(nt>20&&P<Y-2)return"".concat(q).concat(Q,`
`).concat(g,`
`).concat(b,"...").concat(k).concat(J,`
`)+"".concat(b,"...").concat(k)}return"".concat(q).concat(B?Q:"",`
`).concat(g).concat(J).concat(D).concat(z)}var ht=function(G,et){l(J,G);var Z=u(J);function J(g){var C;if(n(this,J),_(g)!=="object"||g===null)throw new x("options","Object",g);var D=g.message,B=g.operator,R=g.stackStartFn,A=g.actual,I=g.expected,P=Error.stackTraceLimit;if(Error.stackTraceLimit=0,D!=null)C=Z.call(this,String(D));else if(ae.stderr&&ae.stderr.isTTY&&(ae.stderr&&ae.stderr.getColorDepth&&ae.stderr.getColorDepth()!==1?(b="\x1B[34m",F="\x1B[32m",k="\x1B[39m",j="\x1B[31m"):(b="",F="",k="",j="")),_(A)==="object"&&A!==null&&_(I)==="object"&&I!==null&&"stack"in A&&A instanceof Error&&"stack"in I&&I instanceof Error&&(A=st(A),I=st(I)),B==="deepStrictEqual"||B==="strictEqual")C=Z.call(this,at(A,I,B));else if(B==="notDeepStrictEqual"||B==="notStrictEqual"){var z=K[B],W=ut(A).split(`
`);if(B==="notStrictEqual"&&_(A)==="object"&&A!==null&&(z=K.notStrictEqualObject),W.length>30)for(W[26]="".concat(b,"...").concat(k);W.length>27;)W.pop();W.length===1?C=Z.call(this,"".concat(z," ").concat(W[0])):C=Z.call(this,"".concat(z,`

`).concat(W.join(`
`),`
`))}else{var L=ut(A),M="",V=K[B];B==="notDeepEqual"||B==="notEqual"?(L="".concat(K[B],`

`).concat(L),L.length>1024&&(L="".concat(L.slice(0,1021),"..."))):(M="".concat(ut(I)),L.length>512&&(L="".concat(L.slice(0,509),"...")),M.length>512&&(M="".concat(M.slice(0,509),"...")),B==="deepEqual"||B==="equal"?L="".concat(V,`

`).concat(L,`

should equal

`):M=" ".concat(B," ").concat(M)),C=Z.call(this,"".concat(L).concat(M))}return Error.stackTraceLimit=P,C.generatedMessage=!D,Object.defineProperty(c(C),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),C.code="ERR_ASSERTION",C.actual=A,C.expected=I,C.operator=B,Error.captureStackTrace&&Error.captureStackTrace(c(C),R),C.stack,C.name="AssertionError",h(C)}return i(J,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:et,value:function(C,D){return E(this,t(t({},D),{},{customInspect:!1,depth:0}))}}]),J}(f(Error),E.custom);return Ic=ht,Ic}var gd=Object.prototype.toString,W0=function(t){var e=gd.call(t),n=e==="[object Arguments]";return n||(n=e!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&gd.call(t.callee)==="[object Function]"),n},Dc,_d;function J_(){if(_d)return Dc;_d=1;var r;if(!Object.keys){var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=W0,s=Object.prototype.propertyIsEnumerable,i=!s.call({toString:null},"toString"),o=s.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(f){var d=f.constructor;return d&&d.prototype===f},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!u["$"+f]&&t.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{l(window[f])}catch{return!0}}catch{return!0}return!1}(),c=function(f){if(typeof window>"u"||!h)return l(f);try{return l(f)}catch{return!1}};r=function(d){var m=d!==null&&typeof d=="object",T=e.call(d)==="[object Function]",y=n(d),v=m&&e.call(d)==="[object String]",_=[];if(!m&&!T&&!y)throw new TypeError("Object.keys called on a non-object");var S=o&&T;if(v&&d.length>0&&!t.call(d,0))for(var E=0;E<d.length;++E)_.push(String(E));if(y&&d.length>0)for(var N=0;N<d.length;++N)_.push(String(N));else for(var x in d)!(S&&x==="prototype")&&t.call(d,x)&&_.push(String(x));if(i)for(var O=c(d),p=0;p<a.length;++p)!(O&&a[p]==="constructor")&&t.call(d,a[p])&&_.push(a[p]);return _}}return Dc=r,Dc}var Q_=Array.prototype.slice,Z_=W0,vd=Object.keys,vl=vd?function(t){return vd(t)}:J_(),Sd=Object.keys;vl.shim=function(){if(Object.keys){var t=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);t||(Object.keys=function(n){return Z_(n)?Sd(Q_.call(n)):Sd(n)})}else Object.keys=vl;return Object.keys||vl};var Y0=vl,tv=Y0,G0=Xh(),K0=Su,bd=Object,ev=K0("Array.prototype.push"),Ed=K0("Object.prototype.propertyIsEnumerable"),rv=G0?Object.getOwnPropertySymbols:null,nv=function(t,e){if(t==null)throw new TypeError("target must be an object");var n=bd(t);if(arguments.length===1)return n;for(var s=1;s<arguments.length;++s){var i=bd(arguments[s]),o=tv(i),a=G0&&(Object.getOwnPropertySymbols||rv);if(a)for(var l=a(i),u=0;u<l.length;++u){var h=l[u];Ed(i,h)&&ev(o,h)}for(var c=0;c<o.length;++c){var f=o[c];if(Ed(i,f)){var d=i[f];n[f]=d}}}return n},Rc=nv,iv=function(){if(!Object.assign)return!1;for(var r="abcdefghijklmnopqrst",t=r.split(""),e={},n=0;n<t.length;++n)e[t[n]]=t[n];var s=Object.assign({},e),i="";for(var o in s)i+=o;return r!==i},sv=function(){if(!Object.assign||!Object.preventExtensions)return!1;var r=Object.preventExtensions({1:2});try{Object.assign(r,"xy")}catch{return r[1]==="y"}return!1},ov=function(){return!Object.assign||iv()||sv()?Rc:Object.assign},Ad=function(r){return r!==r},X0=function(t,e){return t===0&&e===0?1/t===1/e:!!(t===e||Ad(t)&&Ad(e))},av=X0,nf=function(){return typeof Object.is=="function"?Object.is:av},Fc,Td;function Eu(){if(Td)return Fc;Td=1;var r=Y0,t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",e=Object.prototype.toString,n=Array.prototype.concat,s=P0,i=function(u){return typeof u=="function"&&e.call(u)==="[object Function]"},o=B0(),a=function(u,h,c,f){if(h in u){if(f===!0){if(u[h]===c)return}else if(!i(f)||!f())return}o?s(u,h,c,!0):s(u,h,c)},l=function(u,h){var c=arguments.length>2?arguments[2]:{},f=r(h);t&&(f=n.call(f,Object.getOwnPropertySymbols(h)));for(var d=0;d<f.length;d+=1)a(u,f[d],h[f[d]],c[f[d]])};return l.supportsDescriptors=!!o,Fc=l,Fc}var Pc,Nd;function lv(){if(Nd)return Pc;Nd=1;var r=nf,t=Eu();return Pc=function(){var n=r();return t(Object,{is:n},{is:function(){return Object.is!==n}}),n},Pc}var Lc,wd;function uv(){if(wd)return Lc;wd=1;var r=Eu(),t=vu,e=X0,n=nf,s=lv(),i=t(n(),Object);return r(i,{getPolyfill:n,implementation:e,shim:s}),Lc=i,Lc}var Bc,Od;function J0(){return Od||(Od=1,Bc=function(t){return t!==t}),Bc}var Mc,Cd;function Q0(){if(Cd)return Mc;Cd=1;var r=J0();return Mc=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r},Mc}var kc,Id;function cv(){if(Id)return kc;Id=1;var r=Eu(),t=Q0();return kc=function(){var n=t();return r(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},kc}var jc,Dd;function hv(){if(Dd)return jc;Dd=1;var r=vu,t=Eu(),e=J0(),n=Q0(),s=cv(),i=r(n(),Number);return t(i,{getPolyfill:n,implementation:e,shim:s}),jc=i,jc}var Uc,Rd;function fv(){if(Rd)return Uc;Rd=1;function r($,H){return i($)||s($,H)||e($,H)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e($,H){if($){if(typeof $=="string")return n($,H);var ot=Object.prototype.toString.call($).slice(8,-1);if(ot==="Object"&&$.constructor&&(ot=$.constructor.name),ot==="Map"||ot==="Set")return Array.from($);if(ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ot))return n($,H)}}function n($,H){(H==null||H>$.length)&&(H=$.length);for(var ot=0,ft=new Array(H);ot<H;ot++)ft[ot]=$[ot];return ft}function s($,H){var ot=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(ot!=null){var ft,pt,bt,gt,Lt=[],It=!0,re=!1;try{if(bt=(ot=ot.call($)).next,H===0){if(Object(ot)!==ot)return;It=!1}else for(;!(It=(ft=bt.call(ot)).done)&&(Lt.push(ft.value),Lt.length!==H);It=!0);}catch(X){re=!0,pt=X}finally{try{if(!It&&ot.return!=null&&(gt=ot.return(),Object(gt)!==gt))return}finally{if(re)throw pt}}return Lt}}function i($){if(Array.isArray($))return $}function o($){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o($)}var a=/a/g.flags!==void 0,l=function(H){var ot=[];return H.forEach(function(ft){return ot.push(ft)}),ot},u=function(H){var ot=[];return H.forEach(function(ft,pt){return ot.push([pt,ft])}),ot},h=Object.is?Object.is:uv(),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:hv();function d($){return $.call.bind($)}var m=d(Object.prototype.hasOwnProperty),T=d(Object.prototype.propertyIsEnumerable),y=d(Object.prototype.toString),v=_i.types,_=v.isAnyArrayBuffer,S=v.isArrayBufferView,E=v.isDate,N=v.isMap,x=v.isRegExp,O=v.isSet,p=v.isNativeError,b=v.isBoxedPrimitive,F=v.isNumberObject,j=v.isStringObject,k=v.isBooleanObject,K=v.isBigIntObject,it=v.isSymbolObject,st=v.isFloat32Array,ut=v.isFloat64Array;function at($){if($.length===0||$.length>10)return!0;for(var H=0;H<$.length;H++){var ot=$.charCodeAt(H);if(ot<48||ot>57)return!0}return $.length===10&&$>=Math.pow(2,32)}function ht($){return Object.keys($).filter(at).concat(c($).filter(Object.prototype.propertyIsEnumerable.bind($)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function G($,H){if($===H)return 0;for(var ot=$.length,ft=H.length,pt=0,bt=Math.min(ot,ft);pt<bt;++pt)if($[pt]!==H[pt]){ot=$[pt],ft=H[pt];break}return ot<ft?-1:ft<ot?1:0}var et=!0,Z=!1,J=0,g=1,C=2,D=3;function B($,H){return a?$.source===H.source&&$.flags===H.flags:RegExp.prototype.toString.call($)===RegExp.prototype.toString.call(H)}function R($,H){if($.byteLength!==H.byteLength)return!1;for(var ot=0;ot<$.byteLength;ot++)if($[ot]!==H[ot])return!1;return!0}function A($,H){return $.byteLength!==H.byteLength?!1:G(new Uint8Array($.buffer,$.byteOffset,$.byteLength),new Uint8Array(H.buffer,H.byteOffset,H.byteLength))===0}function I($,H){return $.byteLength===H.byteLength&&G(new Uint8Array($),new Uint8Array(H))===0}function P($,H){return F($)?F(H)&&h(Number.prototype.valueOf.call($),Number.prototype.valueOf.call(H)):j($)?j(H)&&String.prototype.valueOf.call($)===String.prototype.valueOf.call(H):k($)?k(H)&&Boolean.prototype.valueOf.call($)===Boolean.prototype.valueOf.call(H):K($)?K(H)&&BigInt.prototype.valueOf.call($)===BigInt.prototype.valueOf.call(H):it(H)&&Symbol.prototype.valueOf.call($)===Symbol.prototype.valueOf.call(H)}function z($,H,ot,ft){if($===H)return $!==0?!0:ot?h($,H):!0;if(ot){if(o($)!=="object")return typeof $=="number"&&f($)&&f(H);if(o(H)!=="object"||$===null||H===null||Object.getPrototypeOf($)!==Object.getPrototypeOf(H))return!1}else{if($===null||o($)!=="object")return H===null||o(H)!=="object"?$==H:!1;if(H===null||o(H)!=="object")return!1}var pt=y($),bt=y(H);if(pt!==bt)return!1;if(Array.isArray($)){if($.length!==H.length)return!1;var gt=ht($),Lt=ht(H);return gt.length!==Lt.length?!1:L($,H,ot,ft,g,gt)}if(pt==="[object Object]"&&(!N($)&&N(H)||!O($)&&O(H)))return!1;if(E($)){if(!E(H)||Date.prototype.getTime.call($)!==Date.prototype.getTime.call(H))return!1}else if(x($)){if(!x(H)||!B($,H))return!1}else if(p($)||$ instanceof Error){if($.message!==H.message||$.name!==H.name)return!1}else if(S($)){if(!ot&&(st($)||ut($))){if(!R($,H))return!1}else if(!A($,H))return!1;var It=ht($),re=ht(H);return It.length!==re.length?!1:L($,H,ot,ft,J,It)}else{if(O($))return!O(H)||$.size!==H.size?!1:L($,H,ot,ft,C);if(N($))return!N(H)||$.size!==H.size?!1:L($,H,ot,ft,D);if(_($)){if(!I($,H))return!1}else if(b($)&&!P($,H))return!1}return L($,H,ot,ft,J)}function W($,H){return H.filter(function(ot){return T($,ot)})}function L($,H,ot,ft,pt,bt){if(arguments.length===5){bt=Object.keys($);var gt=Object.keys(H);if(bt.length!==gt.length)return!1}for(var Lt=0;Lt<bt.length;Lt++)if(!m(H,bt[Lt]))return!1;if(ot&&arguments.length===5){var It=c($);if(It.length!==0){var re=0;for(Lt=0;Lt<It.length;Lt++){var X=It[Lt];if(T($,X)){if(!T(H,X))return!1;bt.push(X),re++}else if(T(H,X))return!1}var mt=c(H);if(It.length!==mt.length&&W(H,mt).length!==re)return!1}else{var vt=c(H);if(vt.length!==0&&W(H,vt).length!==0)return!1}}if(bt.length===0&&(pt===J||pt===g&&$.length===0||$.size===0))return!0;if(ft===void 0)ft={val1:new Map,val2:new Map,position:0};else{var Bt=ft.val1.get($);if(Bt!==void 0){var Wt=ft.val2.get(H);if(Wt!==void 0)return Bt===Wt}ft.position++}ft.val1.set($,ft.position),ft.val2.set(H,ft.position);var Ue=ct($,H,ot,bt,ft,pt);return ft.val1.delete($),ft.val2.delete(H),Ue}function M($,H,ot,ft){for(var pt=l($),bt=0;bt<pt.length;bt++){var gt=pt[bt];if(z(H,gt,ot,ft))return $.delete(gt),!0}return!1}function V($){switch(o($)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":$=+$;case"number":if(f($))return!1}return!0}function Y($,H,ot){var ft=V(ot);return ft??(H.has(ft)&&!$.has(ft))}function rt($,H,ot,ft,pt){var bt=V(ot);if(bt!=null)return bt;var gt=H.get(bt);return gt===void 0&&!H.has(bt)||!z(ft,gt,!1,pt)?!1:!$.has(bt)&&z(ft,gt,!1,pt)}function nt($,H,ot,ft){for(var pt=null,bt=l($),gt=0;gt<bt.length;gt++){var Lt=bt[gt];if(o(Lt)==="object"&&Lt!==null)pt===null&&(pt=new Set),pt.add(Lt);else if(!H.has(Lt)){if(ot||!Y($,H,Lt))return!1;pt===null&&(pt=new Set),pt.add(Lt)}}if(pt!==null){for(var It=l(H),re=0;re<It.length;re++){var X=It[re];if(o(X)==="object"&&X!==null){if(!M(pt,X,ot,ft))return!1}else if(!ot&&!$.has(X)&&!M(pt,X,ot,ft))return!1}return pt.size===0}return!0}function q($,H,ot,ft,pt,bt){for(var gt=l($),Lt=0;Lt<gt.length;Lt++){var It=gt[Lt];if(z(ot,It,pt,bt)&&z(ft,H.get(It),pt,bt))return $.delete(It),!0}return!1}function Q($,H,ot,ft){for(var pt=null,bt=u($),gt=0;gt<bt.length;gt++){var Lt=r(bt[gt],2),It=Lt[0],re=Lt[1];if(o(It)==="object"&&It!==null)pt===null&&(pt=new Set),pt.add(It);else{var X=H.get(It);if(X===void 0&&!H.has(It)||!z(re,X,ot,ft)){if(ot||!rt($,H,It,re,ft))return!1;pt===null&&(pt=new Set),pt.add(It)}}}if(pt!==null){for(var mt=u(H),vt=0;vt<mt.length;vt++){var Bt=r(mt[vt],2),Wt=Bt[0],Ue=Bt[1];if(o(Wt)==="object"&&Wt!==null){if(!q(pt,$,Wt,Ue,ot,ft))return!1}else if(!ot&&(!$.has(Wt)||!z($.get(Wt),Ue,!1,ft))&&!q(pt,$,Wt,Ue,!1,ft))return!1}return pt.size===0}return!0}function ct($,H,ot,ft,pt,bt){var gt=0;if(bt===C){if(!nt($,H,ot,pt))return!1}else if(bt===D){if(!Q($,H,ot,pt))return!1}else if(bt===g)for(;gt<$.length;gt++)if(m($,gt)){if(!m(H,gt)||!z($[gt],H[gt],ot,pt))return!1}else{if(m(H,gt))return!1;for(var Lt=Object.keys($);gt<Lt.length;gt++){var It=Lt[gt];if(!m(H,It)||!z($[It],H[It],ot,pt))return!1}return Lt.length===Object.keys(H).length}for(gt=0;gt<ft.length;gt++){var re=ft[gt];if(!z($[re],H[re],ot,pt))return!1}return!0}function xt($,H){return z($,H,Z)}function St($,H){return z($,H,et)}return Uc={isDeepEqual:xt,isDeepStrictEqual:St},Uc}var Fd;function Le(){if(Fd)return _c.exports;Fd=1;function r(R){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},r(R)}function t(R,A){for(var I=0;I<A.length;I++){var P=A[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,n(P.key),P)}}function e(R,A,I){return A&&t(R.prototype,A),I&&t(R,I),Object.defineProperty(R,"prototype",{writable:!1}),R}function n(R){var A=s(R,"string");return r(A)==="symbol"?A:String(A)}function s(R,A){if(r(R)!=="object"||R===null)return R;var I=R[Symbol.toPrimitive];if(I!==void 0){var P=I.call(R,A||"default");if(r(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(R)}function i(R,A){if(!(R instanceof A))throw new TypeError("Cannot call a class as a function")}var o=H0(),a=o.codes,l=a.ERR_AMBIGUOUS_ARGUMENT,u=a.ERR_INVALID_ARG_TYPE,h=a.ERR_INVALID_ARG_VALUE,c=a.ERR_INVALID_RETURN_VALUE,f=a.ERR_MISSING_ARGS,d=X_(),m=_i,T=m.inspect,y=_i.types,v=y.isPromise,_=y.isRegExp,S=ov(),E=nf(),N=Su("RegExp.prototype.test"),x,O;function p(){var R=fv();x=R.isDeepEqual,O=R.isDeepStrictEqual}var b=!1,F=_c.exports=st,j={};function k(R){throw R.message instanceof Error?R.message:new d(R)}function K(R,A,I,P,z){var W=arguments.length,L;if(W===0)L="Failed";else if(W===1)I=R,R=void 0;else{if(b===!1){b=!0;var M=ae.emitWarning?ae.emitWarning:console.warn.bind(console);M("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}W===2&&(P="!=")}if(I instanceof Error)throw I;var V={actual:R,expected:A,operator:P===void 0?"fail":P,stackStartFn:z||K};I!==void 0&&(V.message=I);var Y=new d(V);throw L&&(Y.message=L,Y.generatedMessage=!0),Y}F.fail=K,F.AssertionError=d;function it(R,A,I,P){if(!I){var z=!1;if(A===0)z=!0,P="No value argument passed to `assert.ok()`";else if(P instanceof Error)throw P;var W=new d({actual:I,expected:!0,message:P,operator:"==",stackStartFn:R});throw W.generatedMessage=z,W}}function st(){for(var R=arguments.length,A=new Array(R),I=0;I<R;I++)A[I]=arguments[I];it.apply(void 0,[st,A.length].concat(A))}F.ok=st,F.equal=function R(A,I,P){if(arguments.length<2)throw new f("actual","expected");A!=I&&k({actual:A,expected:I,message:P,operator:"==",stackStartFn:R})},F.notEqual=function R(A,I,P){if(arguments.length<2)throw new f("actual","expected");A==I&&k({actual:A,expected:I,message:P,operator:"!=",stackStartFn:R})},F.deepEqual=function R(A,I,P){if(arguments.length<2)throw new f("actual","expected");x===void 0&&p(),x(A,I)||k({actual:A,expected:I,message:P,operator:"deepEqual",stackStartFn:R})},F.notDeepEqual=function R(A,I,P){if(arguments.length<2)throw new f("actual","expected");x===void 0&&p(),x(A,I)&&k({actual:A,expected:I,message:P,operator:"notDeepEqual",stackStartFn:R})},F.deepStrictEqual=function R(A,I,P){if(arguments.length<2)throw new f("actual","expected");x===void 0&&p(),O(A,I)||k({actual:A,expected:I,message:P,operator:"deepStrictEqual",stackStartFn:R})},F.notDeepStrictEqual=ut;function ut(R,A,I){if(arguments.length<2)throw new f("actual","expected");x===void 0&&p(),O(R,A)&&k({actual:R,expected:A,message:I,operator:"notDeepStrictEqual",stackStartFn:ut})}F.strictEqual=function R(A,I,P){if(arguments.length<2)throw new f("actual","expected");E(A,I)||k({actual:A,expected:I,message:P,operator:"strictEqual",stackStartFn:R})},F.notStrictEqual=function R(A,I,P){if(arguments.length<2)throw new f("actual","expected");E(A,I)&&k({actual:A,expected:I,message:P,operator:"notStrictEqual",stackStartFn:R})};var at=e(function R(A,I,P){var z=this;i(this,R),I.forEach(function(W){W in A&&(P!==void 0&&typeof P[W]=="string"&&_(A[W])&&N(A[W],P[W])?z[W]=P[W]:z[W]=A[W])})});function ht(R,A,I,P,z,W){if(!(I in R)||!O(R[I],A[I])){if(!P){var L=new at(R,z),M=new at(A,z,R),V=new d({actual:L,expected:M,operator:"deepStrictEqual",stackStartFn:W});throw V.actual=R,V.expected=A,V.operator=W.name,V}k({actual:R,expected:A,message:P,operator:W.name,stackStartFn:W})}}function G(R,A,I,P){if(typeof A!="function"){if(_(A))return N(A,R);if(arguments.length===2)throw new u("expected",["Function","RegExp"],A);if(r(R)!=="object"||R===null){var z=new d({actual:R,expected:A,message:I,operator:"deepStrictEqual",stackStartFn:P});throw z.operator=P.name,z}var W=Object.keys(A);if(A instanceof Error)W.push("name","message");else if(W.length===0)throw new h("error",A,"may not be an empty object");return x===void 0&&p(),W.forEach(function(L){typeof R[L]=="string"&&_(A[L])&&N(A[L],R[L])||ht(R,A,L,I,W,P)}),!0}return A.prototype!==void 0&&R instanceof A?!0:Error.isPrototypeOf(A)?!1:A.call({},R)===!0}function et(R){if(typeof R!="function")throw new u("fn","Function",R);try{R()}catch(A){return A}return j}function Z(R){return v(R)||R!==null&&r(R)==="object"&&typeof R.then=="function"&&typeof R.catch=="function"}function J(R){return Promise.resolve().then(function(){var A;if(typeof R=="function"){if(A=R(),!Z(A))throw new c("instance of Promise","promiseFn",A)}else if(Z(R))A=R;else throw new u("promiseFn",["Function","Promise"],R);return Promise.resolve().then(function(){return A}).then(function(){return j}).catch(function(I){return I})})}function g(R,A,I,P){if(typeof I=="string"){if(arguments.length===4)throw new u("error",["Object","Error","Function","RegExp"],I);if(r(A)==="object"&&A!==null){if(A.message===I)throw new l("error/message",'The error message "'.concat(A.message,'" is identical to the message.'))}else if(A===I)throw new l("error/message",'The error "'.concat(A,'" is identical to the message.'));P=I,I=void 0}else if(I!=null&&r(I)!=="object"&&typeof I!="function")throw new u("error",["Object","Error","Function","RegExp"],I);if(A===j){var z="";I&&I.name&&(z+=" (".concat(I.name,")")),z+=P?": ".concat(P):".";var W=R.name==="rejects"?"rejection":"exception";k({actual:void 0,expected:I,operator:R.name,message:"Missing expected ".concat(W).concat(z),stackStartFn:R})}if(I&&!G(A,I,P,R))throw A}function C(R,A,I,P){if(A!==j){if(typeof I=="string"&&(P=I,I=void 0),!I||G(A,I)){var z=P?": ".concat(P):".",W=R.name==="doesNotReject"?"rejection":"exception";k({actual:A,expected:I,operator:R.name,message:"Got unwanted ".concat(W).concat(z,`
`)+'Actual message: "'.concat(A&&A.message,'"'),stackStartFn:R})}throw A}}F.throws=function R(A){for(var I=arguments.length,P=new Array(I>1?I-1:0),z=1;z<I;z++)P[z-1]=arguments[z];g.apply(void 0,[R,et(A)].concat(P))},F.rejects=function R(A){for(var I=arguments.length,P=new Array(I>1?I-1:0),z=1;z<I;z++)P[z-1]=arguments[z];return J(A).then(function(W){return g.apply(void 0,[R,W].concat(P))})},F.doesNotThrow=function R(A){for(var I=arguments.length,P=new Array(I>1?I-1:0),z=1;z<I;z++)P[z-1]=arguments[z];C.apply(void 0,[R,et(A)].concat(P))},F.doesNotReject=function R(A){for(var I=arguments.length,P=new Array(I>1?I-1:0),z=1;z<I;z++)P[z-1]=arguments[z];return J(A).then(function(W){return C.apply(void 0,[R,W].concat(P))})},F.ifError=function R(A){if(A!=null){var I="ifError got unwanted exception: ";r(A)==="object"&&typeof A.message=="string"?A.message.length===0&&A.constructor?I+=A.constructor.name:I+=A.message:I+=T(A);var P=new d({actual:A,expected:null,operator:"ifError",message:I,stackStartFn:R}),z=A.stack;if(typeof z=="string"){var W=z.split(`
`);W.shift();for(var L=P.stack.split(`
`),M=0;M<W.length;M++){var V=L.indexOf(W[M]);if(V!==-1){L=L.slice(0,V);break}}P.stack="".concat(L.join(`
`),`
`).concat(W.join(`
`))}throw P}};function D(R,A,I,P,z){if(!_(A))throw new u("regexp","RegExp",A);var W=z==="match";if(typeof R!="string"||N(A,R)!==W){if(I instanceof Error)throw I;var L=!I;I=I||(typeof R!="string"?'The "string" argument must be of type string. Received type '+"".concat(r(R)," (").concat(T(R),")"):(W?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(T(A),`. Input:

`).concat(T(R),`
`));var M=new d({actual:R,expected:A,message:I,operator:z,stackStartFn:P});throw M.generatedMessage=L,M}}F.match=function R(A,I,P){D(A,I,P,R,"match")},F.doesNotMatch=function R(A,I,P){D(A,I,P,R,"doesNotMatch")};function B(){for(var R=arguments.length,A=new Array(R),I=0;I<R;I++)A[I]=arguments[I];it.apply(void 0,[B,A.length].concat(A))}return F.strict=S(B,F,{equal:F.strictEqual,deepEqual:F.deepStrictEqual,notEqual:F.notStrictEqual,notDeepEqual:F.notDeepStrictEqual}),F.strict.strict=F.strict,_c.exports}var tt={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(tt,"__esModule",{value:!0});tt.SuppressWarnings=tt.Override=tt.Nullable=tt.NotNull=void 0;function dv(r,t,e){}tt.NotNull=dv;function pv(r,t,e){}tt.Nullable=pv;function yv(r,t,e){}tt.Override=yv;function mv(r){return(t,e,n)=>{}}tt.SuppressWarnings=mv;var En={};(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.IntStream=void 0,function(t){t.EOF=-1,t.UNKNOWN_SOURCE_NAME="<unknown>"}(r.IntStream||(r.IntStream={}))})(En);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Yr=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(gu,"__esModule",{value:!0});gu.ANTLRInputStream=void 0;const xv=Le(),Gr=tt,nl=En;class Sr{constructor(t){this.p=0,this.data=t,this.n=t.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw xv(this.LA(1)===nl.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(t){return t===0?0:t<0&&(t++,this.p+t-1<0)||this.p+t-1>=this.n?nl.IntStream.EOF:this.data.charCodeAt(this.p+t-1)}LT(t){return this.LA(t)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(t){}seek(t){if(t<=this.p){this.p=t;return}for(t=Math.min(t,this.n);this.p<t;)this.consume()}getText(t){let e=t.a,n=t.b;n>=this.n&&(n=this.n-1);let s=n-e+1;return e>=this.n?"":this.data.substr(e,s)}get sourceName(){return this.name?this.name:nl.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}}Yr([Gr.Override],Sr.prototype,"consume",null);Yr([Gr.Override],Sr.prototype,"LA",null);Yr([Gr.Override],Sr.prototype,"index",null);Yr([Gr.Override],Sr.prototype,"size",null);Yr([Gr.Override],Sr.prototype,"mark",null);Yr([Gr.Override],Sr.prototype,"release",null);Yr([Gr.Override],Sr.prototype,"seek",null);Yr([Gr.Override],Sr.prototype,"getText",null);Yr([Gr.Override],Sr.prototype,"sourceName",null);Yr([Gr.Override],Sr.prototype,"toString",null);gu.ANTLRInputStream=Sr;var Xs={},Js={},Kr={};(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var c=s.length-1;c>=0;c--)(h=s[c])&&(u=(l<3?h(u):l>3?h(i,o,u):h(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u};Object.defineProperty(r,"__esModule",{value:!0}),r.ATNState=void 0;const e=tt;class n{constructor(){this.stateNumber=n.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(i){return i instanceof n?this.stateNumber===i.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(i,o){if(this.transitions.length===0)this.epsilonOnlyTransitions=i.isEpsilon;else if(this.epsilonOnlyTransitions!==i.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(o!==void 0?o:this.transitions.length,0,i)}transition(i){return this.transitions[i]}setTransition(i,o){this.transitions[i]=o}removeTransition(i){return this.transitions.splice(i,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(i){this.ruleIndex=i}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(i){return this.optimizedTransitions[i]}addOptimizedTransition(i){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(i)}setOptimizedTransition(i,o){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[i]=o}removeOptimizedTransition(i){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(i,1)}}t([e.Override],n.prototype,"hashCode",null),t([e.Override],n.prototype,"equals",null),t([e.Override],n.prototype,"toString",null),r.ATNState=n,function(s){s.INVALID_STATE_NUMBER=-1}(n=r.ATNState||(r.ATNState={}))})(Kr);var Se={};(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.ATNStateType=void 0,function(t){t[t.INVALID_TYPE=0]="INVALID_TYPE",t[t.BASIC=1]="BASIC",t[t.RULE_START=2]="RULE_START",t[t.BLOCK_START=3]="BLOCK_START",t[t.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",t[t.STAR_BLOCK_START=5]="STAR_BLOCK_START",t[t.TOKEN_START=6]="TOKEN_START",t[t.RULE_STOP=7]="RULE_STOP",t[t.BLOCK_END=8]="BLOCK_END",t[t.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",t[t.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",t[t.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",t[t.LOOP_END=12]="LOOP_END"}(r.ATNStateType||(r.ATNStateType={}))})(Se);var Rs={},Xr={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Xr,"__esModule",{value:!0});var Sl=Xr.RecognitionException=void 0;class gv extends Error{constructor(t,e,n,s){super(s),this._offendingState=-1,this._recognizer=t,this.input=e,this.ctx=n,t&&(this._offendingState=t.state)}get offendingState(){return this._offendingState}setOffendingState(t){this._offendingState=t}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(t){if(!(t&&t!==this._recognizer))return this.offendingToken}setOffendingToken(t,e){t===this._recognizer&&(this.offendingToken=e)}get recognizer(){return this._recognizer}}Sl=Xr.RecognitionException=gv;var _a={},Fs={},br={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Z0=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},_v=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(br,"__esModule",{value:!0});br.Transition=void 0;const ty=tt;let ra=class{constructor(t){if(t==null)throw new Error("target cannot be null.");this.target=t}get isEpsilon(){return!1}get label(){}};ra.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"];Z0([ty.NotNull],ra.prototype,"target",void 0);ra=Z0([_v(0,ty.NotNull)],ra);br.Transition=ra;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Fs,"__esModule",{value:!0});Fs.AbstractPredicateTransition=void 0;const vv=br;class Sv extends vv.Transition{constructor(t){super(t)}}Fs.AbstractPredicateTransition=Sv;var Mi={},Er={},Au={},oe={};(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.MurmurHash=void 0,function(t){function n(l=0){return l}t.initialize=n;function s(l,u){u==null?u=0:typeof u=="string"?u=a(u):typeof u=="object"&&(u=u.hashCode());let y=u;return y=Math.imul(y,3432918353),y=y<<15|y>>>17,y=Math.imul(y,461845907),l=l^y,l=l<<13|l>>>19,l=Math.imul(l,5)+3864292196,l&4294967295}t.update=s;function i(l,u){return l=l^u*4,l=l^l>>>16,l=Math.imul(l,2246822507),l=l^l>>>13,l=Math.imul(l,3266489909),l=l^l>>>16,l}t.finish=i;function o(l,u=0){let h=n(u),c=0;for(let f of l)h=s(h,f),c++;return h=i(h,c),h}t.hashCode=o;function a(l){let u=l.length;if(u===0)return 0;let h=0;for(let c=0;c<u;c++){let f=l.charCodeAt(c);h=(h<<5>>>0)-h+f,h|=0}return h}}(r.MurmurHash||(r.MurmurHash={}))})(oe);var ir={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ey=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(ir,"__esModule",{value:!0});ir.ObjectEqualityComparator=void 0;const ry=tt;class na{hashCode(t){return t==null?0:t.hashCode()}equals(t,e){return t==null?e==null:t.equals(e)}}na.INSTANCE=new na;ey([ry.Override],na.prototype,"hashCode",null);ey([ry.Override],na.prototype,"equals",null);ir.ObjectEqualityComparator=na;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ny=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Au,"__esModule",{value:!0});Au.DefaultEqualityComparator=void 0;const iy=tt,bv=oe,Pd=ir;class ia{hashCode(t){return t==null?0:typeof t=="string"||typeof t=="number"?bv.MurmurHash.hashCode([t]):Pd.ObjectEqualityComparator.INSTANCE.hashCode(t)}equals(t,e){return t==null?e==null:typeof t=="string"||typeof t=="number"?t===e:Pd.ObjectEqualityComparator.INSTANCE.equals(t,e)}}ia.INSTANCE=new ia;ny([iy.Override],ia.prototype,"hashCode",null);ny([iy.Override],ia.prototype,"equals",null);Au.DefaultEqualityComparator=ia;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ie=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Ev=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Er,"__esModule",{value:!0});Er.Array2DHashSet=void 0;const Av=Le(),Tv=Au,De=tt,$c=oe,il=16,zc=.75;class ue{constructor(t,e=il){if(this.n=0,this.threshold=Math.floor(il*zc),t instanceof ue){this.comparator=t.comparator,this.buckets=t.buckets.slice(0);for(let n=0;n<this.buckets.length;n++){let s=this.buckets[n];s&&(this.buckets[n]=s.slice(0))}this.n=t.n,this.threshold=t.threshold}else this.comparator=t||Tv.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(e)}getOrAdd(t){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(t)}getOrAddImpl(t){let e=this.getBucket(t),n=this.buckets[e];if(!n)return n=[t],this.buckets[e]=n,this.n++,t;for(let s of n)if(this.comparator.equals(s,t))return s;return n.push(t),this.n++,t}get(t){if(t==null)return t;let e=this.getBucket(t),n=this.buckets[e];if(n){for(let s of n)if(this.comparator.equals(s,t))return s}}getBucket(t){return this.comparator.hashCode(t)&this.buckets.length-1}hashCode(){let t=$c.MurmurHash.initialize();for(let e of this.buckets)if(e!=null)for(let n of e){if(n==null)break;t=$c.MurmurHash.update(t,this.comparator.hashCode(n))}return t=$c.MurmurHash.finish(t,this.size),t}equals(t){return t===this?!0:!(t instanceof ue)||t.size!==this.size?!1:this.containsAll(t)}expand(){let t=this.buckets,e=this.buckets.length*2,n=this.createBuckets(e);this.buckets=n,this.threshold=Math.floor(e*zc);let s=this.size;for(let i of t)if(i)for(let o of i){let a=this.getBucket(o),l=this.buckets[a];l||(l=[],this.buckets[a]=l),l.push(o)}Av(this.n===s)}add(t){return this.getOrAdd(t)===t}get size(){return this.n}get isEmpty(){return this.n===0}contains(t){return this.containsFast(this.asElementType(t))}containsFast(t){return t==null?!1:this.get(t)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){const t=new Array(this.size);let e=0;for(let n of this.buckets)if(n!=null)for(let s of n){if(s==null)break;t[e++]=s}return t}containsAll(t){if(t instanceof ue){let e=t;for(let n of e.buckets)if(n!=null)for(let s of n){if(s==null)break;if(!this.containsFast(this.asElementType(s)))return!1}}else for(let e of t)if(!this.containsFast(this.asElementType(e)))return!1;return!0}addAll(t){let e=!1;for(let n of t)this.getOrAdd(n)!==n&&(e=!0);return e}clear(){this.buckets=this.createBuckets(il),this.n=0,this.threshold=Math.floor(il*zc)}toString(){if(this.size===0)return"{}";let t="{",e=!0;for(let n of this.buckets)if(n!=null)for(let s of n){if(s==null)break;e?e=!1:t+=", ",t+=s.toString()}return t+="}",t}toTableString(){let t="";for(let e of this.buckets){if(e==null){t+=`null
`;continue}t+="[";let n=!0;for(let s of e)n?n=!1:t+=" ",s==null?t+="_":t+=s.toString();t+=`]
`}return t}asElementType(t){return t}createBuckets(t){return new Array(t)}}Ie([De.NotNull],ue.prototype,"comparator",void 0);Ie([De.Override],ue.prototype,"hashCode",null);Ie([De.Override],ue.prototype,"equals",null);Ie([De.Override],ue.prototype,"add",null);Ie([De.Override],ue.prototype,"size",null);Ie([De.Override],ue.prototype,"isEmpty",null);Ie([De.Override],ue.prototype,"contains",null);Ie([Ev(0,De.Nullable)],ue.prototype,"containsFast",null);Ie([De.Override],ue.prototype,Symbol.iterator,null);Ie([De.Override],ue.prototype,"toArray",null);Ie([De.Override],ue.prototype,"containsAll",null);Ie([De.Override],ue.prototype,"addAll",null);Ie([De.Override],ue.prototype,"clear",null);Ie([De.Override],ue.prototype,"toString",null);Ie([De.SuppressWarnings("unchecked")],ue.prototype,"asElementType",null);Ie([De.SuppressWarnings("unchecked")],ue.prototype,"createBuckets",null);Er.Array2DHashSet=ue;var ki={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var sy=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(ki,"__esModule",{value:!0});ki.ArrayEqualityComparator=void 0;const oy=tt,Nv=oe,wv=ir;class sa{hashCode(t){return t==null?0:Nv.MurmurHash.hashCode(t,0)}equals(t,e){if(t==null)return e==null;if(e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!wv.ObjectEqualityComparator.INSTANCE.equals(t[n],e[n]))return!1;return!0}}sa.INSTANCE=new sa;sy([oy.Override],sa.prototype,"hashCode",null);sy([oy.Override],sa.prototype,"equals",null);ki.ArrayEqualityComparator=sa;var me={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(me,"__esModule",{value:!0});var sf=me.toCharArray=me.toMap=me.equals=me.join=me.escapeWhitespace=void 0;function Ov(r,t){return t?r.replace(/ /,"·"):r.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}me.escapeWhitespace=Ov;function Cv(r,t){let e="",n=!0;for(let s of r)n?n=!1:e+=t,e+=s;return e}me.join=Cv;function Iv(r,t){return r===t?!0:r===void 0||t===void 0?!1:r.equals(t)}me.equals=Iv;function Dv(r){let t=new Map;for(let e=0;e<r.length;e++)t.set(r[e],e);return t}me.toMap=Dv;function Rv(r){if(typeof r=="string"){let t=new Uint16Array(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t}else return r.toCharArray()}sf=me.toCharArray=Rv;(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(f,d,m,T){var y=arguments.length,v=y<3?d:T===null?T=Object.getOwnPropertyDescriptor(d,m):T,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(f,d,m,T);else for(var S=f.length-1;S>=0;S--)(_=f[S])&&(v=(y<3?_(v):y>3?_(d,m,v):_(d,m))||v);return y>3&&v&&Object.defineProperty(d,m,v),v},e=w&&w.__param||function(f,d){return function(m,T){d(m,T,f)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SemanticContext=void 0;const n=Er,s=ki,i=oe,o=tt,a=ir,l=me;function u(f){let d;for(let m of f){if(d===void 0){d=m;continue}d.compareTo(m)<0&&(d=m)}return d}function h(f){let d;for(let m of f){if(d===void 0){d=m;continue}d.compareTo(m)>0&&(d=m)}return d}class c{static get NONE(){return c._NONE===void 0&&(c._NONE=new c.Predicate),c._NONE}evalPrecedence(d,m){return this}static and(d,m){if(!d||d===c.NONE)return m;if(m===c.NONE)return d;let T=new c.AND(d,m);return T.opnds.length===1?T.opnds[0]:T}static or(d,m){if(!d)return m;if(d===c.NONE||m===c.NONE)return c.NONE;let T=new c.OR(d,m);return T.opnds.length===1?T.opnds[0]:T}}r.SemanticContext=c,function(f){function T(N){let x=[];for(let O=0;O<N.length;O++){let p=N[O];p instanceof f.PrecedencePredicate&&(x.push(p),N.splice(O,1),O--)}return x}class y extends f{constructor(x=-1,O=-1,p=!1){super(),this.ruleIndex=x,this.predIndex=O,this.isCtxDependent=p}eval(x,O){let p=this.isCtxDependent?O:void 0;return x.sempred(p,this.ruleIndex,this.predIndex)}hashCode(){let x=i.MurmurHash.initialize();return x=i.MurmurHash.update(x,this.ruleIndex),x=i.MurmurHash.update(x,this.predIndex),x=i.MurmurHash.update(x,this.isCtxDependent?1:0),x=i.MurmurHash.finish(x,3),x}equals(x){return x instanceof y?this===x?!0:this.ruleIndex===x.ruleIndex&&this.predIndex===x.predIndex&&this.isCtxDependent===x.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}t([o.Override],y.prototype,"eval",null),t([o.Override],y.prototype,"hashCode",null),t([o.Override],y.prototype,"equals",null),t([o.Override],y.prototype,"toString",null),f.Predicate=y;class v extends f{constructor(x){super(),this.precedence=x}eval(x,O){return x.precpred(O,this.precedence)}evalPrecedence(x,O){if(x.precpred(O,this.precedence))return f.NONE}compareTo(x){return this.precedence-x.precedence}hashCode(){let x=1;return x=31*x+this.precedence,x}equals(x){return x instanceof v?this===x?!0:this.precedence===x.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}t([o.Override],v.prototype,"eval",null),t([o.Override],v.prototype,"evalPrecedence",null),t([o.Override],v.prototype,"compareTo",null),t([o.Override],v.prototype,"hashCode",null),t([o.Override],v.prototype,"equals",null),t([o.Override],v.prototype,"toString",null),f.PrecedencePredicate=v;class _ extends f{}f.Operator=_;let S=class bl extends _{constructor(x,O){super();let p=new n.Array2DHashSet(a.ObjectEqualityComparator.INSTANCE);x instanceof bl?p.addAll(x.opnds):p.add(x),O instanceof bl?p.addAll(O.opnds):p.add(O),this.opnds=p.toArray();let b=T(this.opnds),F=h(b);F&&this.opnds.push(F)}get operands(){return this.opnds}equals(x){return this===x?!0:x instanceof bl?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,x.opnds):!1}hashCode(){return i.MurmurHash.hashCode(this.opnds,40363613)}eval(x,O){for(let p of this.opnds)if(!p.eval(x,O))return!1;return!0}evalPrecedence(x,O){let p=!1,b=[];for(let j of this.opnds){let k=j.evalPrecedence(x,O);if(p=p||k!==j,k==null)return;k!==f.NONE&&b.push(k)}if(!p)return this;if(b.length===0)return f.NONE;let F=b[0];for(let j=1;j<b.length;j++)F=f.and(F,b[j]);return F}toString(){return l.join(this.opnds,"&&")}};t([o.Override],S.prototype,"operands",null),t([o.Override],S.prototype,"equals",null),t([o.Override],S.prototype,"hashCode",null),t([o.Override],S.prototype,"eval",null),t([o.Override],S.prototype,"evalPrecedence",null),t([o.Override],S.prototype,"toString",null),S=t([e(0,o.NotNull),e(1,o.NotNull)],S),f.AND=S;let E=class El extends _{constructor(x,O){super();let p=new n.Array2DHashSet(a.ObjectEqualityComparator.INSTANCE);x instanceof El?p.addAll(x.opnds):p.add(x),O instanceof El?p.addAll(O.opnds):p.add(O),this.opnds=p.toArray();let b=T(this.opnds),F=u(b);F&&this.opnds.push(F)}get operands(){return this.opnds}equals(x){return this===x?!0:x instanceof El?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,x.opnds):!1}hashCode(){return i.MurmurHash.hashCode(this.opnds,486279973)}eval(x,O){for(let p of this.opnds)if(p.eval(x,O))return!0;return!1}evalPrecedence(x,O){let p=!1,b=[];for(let j of this.opnds){let k=j.evalPrecedence(x,O);if(p=p||k!==j,k===f.NONE)return f.NONE;k&&b.push(k)}if(!p)return this;if(b.length===0)return;let F=b[0];for(let j=1;j<b.length;j++)F=f.or(F,b[j]);return F}toString(){return l.join(this.opnds,"||")}};t([o.Override],E.prototype,"operands",null),t([o.Override],E.prototype,"equals",null),t([o.Override],E.prototype,"hashCode",null),t([o.Override],E.prototype,"eval",null),t([o.Override],E.prototype,"evalPrecedence",null),t([o.Override],E.prototype,"toString",null),E=t([e(0,o.NotNull),e(1,o.NotNull)],E),f.OR=E}(c=r.SemanticContext||(r.SemanticContext={}))})(Mi);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var va=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Fv=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(_a,"__esModule",{value:!0});_a.PredicateTransition=void 0;const Pv=Fs,xs=tt,Lv=Mi;let vi=class extends Pv.AbstractPredicateTransition{constructor(t,e,n,s){super(t),this.ruleIndex=e,this.predIndex=n,this.isCtxDependent=s}get serializationType(){return 4}get isEpsilon(){return!0}matches(t,e,n){return!1}get predicate(){return new Lv.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};va([xs.Override],vi.prototype,"serializationType",null);va([xs.Override],vi.prototype,"isEpsilon",null);va([xs.Override],vi.prototype,"matches",null);va([xs.Override,xs.NotNull],vi.prototype,"toString",null);vi=va([Fv(0,xs.NotNull)],vi);_a.PredicateTransition=vi;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ay=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Bv=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Rs,"__esModule",{value:!0});var ly=Rs.FailedPredicateException=void 0;const Mv=Xr,uy=tt,kv=_a;let Ml=class cy extends Mv.RecognitionException{constructor(t,e,n){super(t,t.inputStream,t.context,cy.formatMessage(e,n));let i=t.interpreter.atn.states[t.state].transition(0);i instanceof kv.PredicateTransition?(this._ruleIndex=i.ruleIndex,this._predicateIndex=i.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=e,super.setOffendingToken(t,t.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(t,e){return e||`failed predicate: {${t}}?`}};ay([uy.NotNull],Ml,"formatMessage",null);Ml=ay([Bv(0,uy.NotNull)],Ml);ly=Rs.FailedPredicateException=Ml;var ji={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var jv=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Uv=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(ji,"__esModule",{value:!0});ji.InputMismatchException=void 0;const $v=Xr,zv=tt;let Ch=class extends $v.RecognitionException{constructor(t,e,n){n===void 0&&(n=t.context),super(t,t.inputStream,n),e!==void 0&&this.setOffendingState(e),this.setOffendingToken(t,t.currentToken)}};Ch=jv([Uv(0,zv.NotNull)],Ch);ji.InputMismatchException=Ch;var Qs={},Ps={},Tu={};(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.Arrays=void 0,function(t){function e(i,o,a,l){return n(i,a!==void 0?a:0,l!==void 0?l:i.length,o)}t.binarySearch=e;function n(i,o,a,l){let u=o,h=a-1;for(;u<=h;){let c=u+h>>>1,f=i[c];if(f<l)u=c+1;else if(f>l)h=c-1;else return c}return-(u+1)}function s(i){let o="[",a=!0;for(let l of i)a?a=!1:o+=", ",l===null?o+="null":l===void 0?o+="undefined":o+=l;return o+="]",o}t.toString=s}(r.Arrays||(r.Arrays={}))})(Tu);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Nu=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.IntegerList=void 0;const qv=Tu,wu=tt,qc=new Int32Array(0),Vv=4,Vc=(1<<31>>>0)-1-8;class yn{constructor(t){if(!t)this._data=qc,this._size=0;else if(t instanceof yn)this._data=t._data.slice(0),this._size=t._size;else if(typeof t=="number")t===0?(this._data=qc,this._size=0):(this._data=new Int32Array(t),this._size=0);else{this._data=qc,this._size=0;for(let e of t)this.add(e)}}add(t){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=t,this._size++}addAll(t){if(Array.isArray(t))this.ensureCapacity(this._size+t.length),this._data.subarray(this._size,this._size+t.length).set(t),this._size+=t.length;else if(t instanceof yn)this.ensureCapacity(this._size+t._size),this._data.subarray(this._size,this._size+t.size).set(t._data),this._size+=t._size;else{this.ensureCapacity(this._size+t.size);let e=0;for(let n of t)this._data[this._size+e]=n,e++;this._size+=t.size}}get(t){if(t<0||t>=this._size)throw RangeError();return this._data[t]}contains(t){for(let e=0;e<this._size;e++)if(this._data[e]===t)return!0;return!1}set(t,e){if(t<0||t>=this._size)throw RangeError();let n=this._data[t];return this._data[t]=e,n}removeAt(t){let e=this.get(t);return this._data.copyWithin(t,t+1,this._size),this._data[this._size-1]=0,this._size--,e}removeRange(t,e){if(t<0||e<0||t>this._size||e>this._size||t>e)throw RangeError();this._data.copyWithin(e,t,this._size),this._data.fill(0,this._size-(e-t),this._size),this._size-=e-t}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(t){if(t===this)return!0;if(!(t instanceof yn)||this._size!==t._size)return!1;for(let e=0;e<this._size;e++)if(this._data[e]!==t._data[e])return!1;return!0}hashCode(){let t=1;for(let e=0;e<this._size;e++)t=31*t+this._data[e];return t}toString(){return this._data.toString()}binarySearch(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this._size),e<0||n<0||e>this._size||n>this._size)throw new RangeError;if(e>n)throw new RangeError;return qv.Arrays.binarySearch(this._data,t,e,n)}ensureCapacity(t){if(t<0||t>Vc)throw new RangeError;let e;for(this._data.length===0?e=Vv:e=this._data.length;e<t;)e=e*2,(e<0||e>Vc)&&(e=Vc);let n=new Int32Array(e);n.set(this._data),this._data=n}toCharArray(){let t=new Uint16Array(this._size),e=0,n=!1;for(let s=0;s<this._size;s++){let i=this._data[s];if(i>=0&&i<65536){t[e]=i,e++;continue}if(!n){let a=new Uint16Array(this.charArraySize());a.set(t,0),t=a,n=!0}let o=String.fromCodePoint(i);t[e]=o.charCodeAt(0),t[e+1]=o.charCodeAt(1),e+=2}return t}charArraySize(){let t=0;for(let e=0;e<this._size;e++)t+=this._data[e]>=65536?2:1;return t}}Nu([wu.NotNull],yn.prototype,"_data",void 0);Nu([wu.Override],yn.prototype,"equals",null);Nu([wu.Override],yn.prototype,"hashCode",null);Nu([wu.Override],yn.prototype,"toString",null);Ps.IntegerList=yn;var Oe={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var of=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.Interval=void 0;const af=tt,hy=1e3;let Si=class lr{constructor(t,e){this.a=t,this.b=e}static get INVALID(){return lr._INVALID}static of(t,e){return t!==e||t<0||t>hy?new lr(t,e):(lr.cache[t]==null&&(lr.cache[t]=new lr(t,t)),lr.cache[t])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(t){return t===this?!0:t instanceof lr?this.a===t.a&&this.b===t.b:!1}hashCode(){let t=23;return t=t*31+this.a,t=t*31+this.b,t}startsBeforeDisjoint(t){return this.a<t.a&&this.b<t.a}startsBeforeNonDisjoint(t){return this.a<=t.a&&this.b>=t.a}startsAfter(t){return this.a>t.a}startsAfterDisjoint(t){return this.a>t.b}startsAfterNonDisjoint(t){return this.a>t.a&&this.a<=t.b}disjoint(t){return this.startsBeforeDisjoint(t)||this.startsAfterDisjoint(t)}adjacent(t){return this.a===t.b+1||this.b===t.a-1}properlyContains(t){return t.a>=this.a&&t.b<=this.b}union(t){return lr.of(Math.min(this.a,t.a),Math.max(this.b,t.b))}intersection(t){return lr.of(Math.max(this.a,t.a),Math.min(this.b,t.b))}differenceNotProperlyContained(t){let e;return t.startsBeforeNonDisjoint(this)?e=lr.of(Math.max(this.a,t.b+1),this.b):t.startsAfterNonDisjoint(this)&&(e=lr.of(this.a,t.a-1)),e}toString(){return this.a+".."+this.b}};Si._INVALID=new Si(-1,-2);Si.cache=new Array(hy+1);of([af.Override],Si.prototype,"equals",null);of([af.Override],Si.prototype,"hashCode",null);of([af.Override],Si.prototype,"toString",null);Oe.Interval=Si;var Zs={},Ou={},Kn={},te={};(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.Token=void 0;const t=En;(function(e){e.INVALID_TYPE=0,e.EPSILON=-2,e.MIN_USER_TOKEN_TYPE=1,e.EOF=t.IntStream.EOF,e.DEFAULT_CHANNEL=0,e.HIDDEN_CHANNEL=1,e.MIN_USER_CHANNEL_VALUE=2})(r.Token||(r.Token={}))})(te);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ge=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},fy=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.CommonToken=void 0;const Hv=Oe,Ke=tt,Ld=te;let Te=class Go{constructor(t,e,n=Go.EMPTY_SOURCE,s=Ld.Token.DEFAULT_CHANNEL,i=0,o=0){this._line=0,this._charPositionInLine=-1,this._channel=Ld.Token.DEFAULT_CHANNEL,this.index=-1,this._text=e,this._type=t,this.source=n,this._channel=s,this.start=i,this.stop=o,n.source!=null&&(this._line=n.source.line,this._charPositionInLine=n.source.charPositionInLine)}static fromToken(t){let e=new Go(t.type,void 0,Go.EMPTY_SOURCE,t.channel,t.startIndex,t.stopIndex);return e._line=t.line,e.index=t.tokenIndex,e._charPositionInLine=t.charPositionInLine,t instanceof Go?(e._text=t._text,e.source=t.source):(e._text=t.text,e.source={source:t.tokenSource,stream:t.inputStream}),e}get type(){return this._type}set type(t){this._type=t}get line(){return this._line}set line(t){this._line=t}get text(){if(this._text!=null)return this._text;let t=this.inputStream;if(t==null)return;let e=t.size;return this.start<e&&this.stop<e?t.getText(Hv.Interval.of(this.start,this.stop)):"<EOF>"}set text(t){this._text=t}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(t){this._charPositionInLine=t}get channel(){return this._channel}set channel(t){this._channel=t}get startIndex(){return this.start}set startIndex(t){this.start=t}get stopIndex(){return this.stop}set stopIndex(t){this.stop=t}get tokenIndex(){return this.index}set tokenIndex(t){this.index=t}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(t){let e="";this._channel>0&&(e=",channel="+this._channel);let n=this.text;n!=null?(n=n.replace(/\n/g,"\\n"),n=n.replace(/\r/g,"\\r"),n=n.replace(/\t/g,"\\t")):n="<no text>";let s=String(this._type);return t&&(s=t.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+n+"',<"+s+">"+e+","+this._line+":"+this.charPositionInLine+"]"}};Te.EMPTY_SOURCE={source:void 0,stream:void 0};Ge([Ke.NotNull],Te.prototype,"source",void 0);Ge([Ke.Override],Te.prototype,"type",null);Ge([Ke.Override],Te.prototype,"line",null);Ge([Ke.Override],Te.prototype,"text",null);Ge([Ke.Override],Te.prototype,"charPositionInLine",null);Ge([Ke.Override],Te.prototype,"channel",null);Ge([Ke.Override],Te.prototype,"startIndex",null);Ge([Ke.Override],Te.prototype,"stopIndex",null);Ge([Ke.Override],Te.prototype,"tokenIndex",null);Ge([Ke.Override],Te.prototype,"tokenSource",null);Ge([Ke.Override],Te.prototype,"inputStream",null);Ge([Ke.Override],Te.prototype,"toString",null);Ge([fy(0,Ke.NotNull)],Te,"fromToken",null);Te=Ge([fy(2,Ke.NotNull)],Te);Kn.CommonToken=Te;(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(o,a,l,u){var h=arguments.length,c=h<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,a,l,u);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(h<3?f(c):h>3?f(a,l,c):f(a,l))||c);return h>3&&c&&Object.defineProperty(a,l,c),c};Object.defineProperty(r,"__esModule",{value:!0}),r.CommonTokenFactory=void 0;const e=Kn,n=Oe,s=tt;class i{constructor(a=!1){this.copyText=a}create(a,l,u,h,c,f,d,m){let T=new e.CommonToken(l,u,a,h,c,f);return T.line=d,T.charPositionInLine=m,u==null&&this.copyText&&a.stream!=null&&(T.text=a.stream.getText(n.Interval.of(c,f))),T}createSimple(a,l){return new e.CommonToken(a,l)}}t([s.Override],i.prototype,"create",null),t([s.Override],i.prototype,"createSimple",null),r.CommonTokenFactory=i,function(o){o.DEFAULT=new o}(i=r.CommonTokenFactory||(r.CommonTokenFactory={}))})(Ou);var Sa={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Sa,"__esModule",{value:!0});Sa.IntegerStack=void 0;const Wv=Ps;class Yv extends Wv.IntegerList{constructor(t){super(t)}push(t){this.add(t)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}}Sa.IntegerStack=Yv;var Hc={},ba={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ba,"__esModule",{value:!0});ba.AcceptStateInfo=void 0;class Gv{constructor(t,e){this._prediction=t,this._lexerActionExecutor=e}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}}ba.AcceptStateInfo=Gv;var Wc={},An={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(An,"__esModule",{value:!0});An.Array2DHashMap=void 0;const Bd=Er;class Kv{constructor(t){this.keyComparator=t}hashCode(t){return this.keyComparator.hashCode(t.key)}equals(t,e){return this.keyComparator.equals(t.key,e.key)}}class kl{constructor(t){t instanceof kl?this.backingStore=new Bd.Array2DHashSet(t.backingStore):this.backingStore=new Bd.Array2DHashSet(new Kv(t))}clear(){this.backingStore.clear()}containsKey(t){return this.backingStore.contains({key:t})}get(t){let e=this.backingStore.get({key:t});if(e)return e.value}get isEmpty(){return this.backingStore.isEmpty}put(t,e){let n=this.backingStore.get({key:t,value:e}),s;return n?(s=n.value,n.value=e):this.backingStore.add({key:t,value:e}),s}putIfAbsent(t,e){let n=this.backingStore.get({key:t,value:e}),s;return n?s=n.value:this.backingStore.add({key:t,value:e}),s}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(t){return t instanceof kl?this.backingStore.equals(t.backingStore):!1}}An.Array2DHashMap=kl;var to={},eo={},Ui={},Jr={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Jr,"__esModule",{value:!0});Jr.DecisionState=void 0;const Xv=Kr;class Jv extends Xv.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}}Jr.DecisionState=Jv;var Yc={},Gc={},Md;function lf(){return Md||(Md=1,function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(l,u,h,c){var f=arguments.length,d=f<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,h):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,u,h,c);else for(var T=l.length-1;T>=0;T--)(m=l[T])&&(d=(f<3?m(d):f>3?m(u,h,d):m(u,h))||d);return f>3&&d&&Object.defineProperty(u,h,d),d};Object.defineProperty(r,"__esModule",{value:!0}),r.PredictionContextCache=void 0;const e=An,n=tt,s=ir,i=Ar(),o=Le();class a{constructor(u=!0){this.contexts=new e.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.childContexts=new e.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.joinContexts=new e.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.enableCache=u}getAsCached(u){if(!this.enableCache)return u;let h=this.contexts.get(u);return h||(h=u,this.contexts.put(u,u)),h}getChild(u,h){if(!this.enableCache)return u.getChild(h);let c=new a.PredictionContextAndInt(u,h),f=this.childContexts.get(c);return f||(f=u.getChild(h),f=this.getAsCached(f),this.childContexts.put(c,f)),f}join(u,h){if(!this.enableCache)return i.PredictionContext.join(u,h,this);let c=new a.IdentityCommutativePredictionContextOperands(u,h),f=this.joinContexts.get(c);return f||(f=i.PredictionContext.join(u,h,this),f=this.getAsCached(f),this.joinContexts.put(c,f),f)}}r.PredictionContextCache=a,a.UNCACHED=new a(!1),function(l){class u{constructor(f,d){this.obj=f,this.value=d}equals(f){if(f instanceof u){if(f===this)return!0}else return!1;let d=f;return this.value===d.value&&(this.obj===d.obj||this.obj!=null&&this.obj.equals(d.obj))}hashCode(){let f=5;return f=7*f+(this.obj!=null?this.obj.hashCode():0),f=7*f+this.value,f}}t([n.Override],u.prototype,"equals",null),t([n.Override],u.prototype,"hashCode",null),l.PredictionContextAndInt=u;class h{constructor(f,d){o(f!=null),o(d!=null),this._x=f,this._y=d}get x(){return this._x}get y(){return this._y}equals(f){if(f instanceof h){if(this===f)return!0}else return!1;let d=f;return this._x===d._x&&this._y===d._y||this._x===d._y&&this._y===d._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}t([n.Override],h.prototype,"equals",null),t([n.Override],h.prototype,"hashCode",null),l.IdentityCommutativePredictionContextOperands=h}(a=r.PredictionContextCache||(r.PredictionContextCache={}))}(Gc)),Gc}var kd;function Ar(){return kd||(kd=1,function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(T,y,v,_){var S=arguments.length,E=S<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,v):_,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(T,y,v,_);else for(var x=T.length-1;x>=0;x--)(N=T[x])&&(E=(S<3?N(E):S>3?N(y,v,E):N(y,v))||E);return S>3&&E&&Object.defineProperty(y,v,E),E},e=w&&w.__param||function(T,y){return function(v,_){y(v,_,T)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SingletonPredictionContext=r.PredictionContext=void 0;const n=An,s=Er,i=Tu,o=oe,a=tt,l=lf(),u=Le(),h=1;class c{constructor(y){this.cachedHashCode=y}static calculateEmptyHashCode(){let y=o.MurmurHash.initialize(h);return y=o.MurmurHash.finish(y,0),y}static calculateSingleHashCode(y,v){let _=o.MurmurHash.initialize(h);return _=o.MurmurHash.update(_,y),_=o.MurmurHash.update(_,v),_=o.MurmurHash.finish(_,2),_}static calculateHashCode(y,v){let _=o.MurmurHash.initialize(h);for(let S of y)_=o.MurmurHash.update(_,S);for(let S of v)_=o.MurmurHash.update(_,S);return _=o.MurmurHash.finish(_,2*y.length),_}static fromRuleContext(y,v,_=!0){if(v.isEmpty)return _?c.EMPTY_FULL:c.EMPTY_LOCAL;let S;v._parent?S=c.fromRuleContext(y,v._parent,_):S=_?c.EMPTY_FULL:c.EMPTY_LOCAL;let N=y.states[v.invokingState].transition(0);return S.getChild(N.followState.stateNumber)}static addEmptyContext(y){return y.addEmptyContext()}static removeEmptyContext(y){return y.removeEmptyContext()}static join(y,v,_=l.PredictionContextCache.UNCACHED){if(y===v)return y;if(y.isEmpty)return c.isEmptyLocal(y)?y:c.addEmptyContext(v);if(v.isEmpty)return c.isEmptyLocal(v)?v:c.addEmptyContext(y);let S=y.size,E=v.size;if(S===1&&E===1&&y.getReturnState(0)===v.getReturnState(0)){let k=_.join(y.getParent(0),v.getParent(0));return k===y.getParent(0)?y:k===v.getParent(0)?v:k.getChild(y.getReturnState(0))}let N=0,x=new Array(S+E),O=new Array(x.length),p=0,b=0,F=!0,j=!0;for(;p<S&&b<E;)y.getReturnState(p)===v.getReturnState(b)?(x[N]=_.join(y.getParent(p),v.getParent(b)),O[N]=y.getReturnState(p),F=F&&x[N]===y.getParent(p),j=j&&x[N]===v.getParent(b),p++,b++):y.getReturnState(p)<v.getReturnState(b)?(x[N]=y.getParent(p),O[N]=y.getReturnState(p),j=!1,p++):(u(v.getReturnState(b)<y.getReturnState(p)),x[N]=v.getParent(b),O[N]=v.getReturnState(b),F=!1,b++),N++;for(;p<S;)x[N]=y.getParent(p),O[N]=y.getReturnState(p),p++,j=!1,N++;for(;b<E;)x[N]=v.getParent(b),O[N]=v.getReturnState(b),b++,F=!1,N++;return F?y:j?v:(N<x.length&&(x=x.slice(0,N),O=O.slice(0,N)),x.length===0?c.EMPTY_FULL:x.length===1?new m(x[0],O[0]):new d(x,O))}static isEmptyLocal(y){return y===c.EMPTY_LOCAL}static getCachedContext(y,v,_){if(y.isEmpty)return y;let S=_.get(y);if(S)return S;if(S=v.get(y),S)return _.put(y,S),S;let E=!1,N=new Array(y.size);for(let O=0;O<N.length;O++){let p=c.getCachedContext(y.getParent(O),v,_);if(E||p!==y.getParent(O)){if(!E){N=new Array(y.size);for(let b=0;b<y.size;b++)N[b]=y.getParent(b);E=!0}N[O]=p}}if(!E)return S=v.putIfAbsent(y,y),_.put(y,S??y),y;let x;if(N.length===1)x=new m(N[0],y.getReturnState(0));else{let O=new Array(y.size);for(let p=0;p<y.size;p++)O[p]=y.getReturnState(p);x=new d(N,O,y.hashCode())}return S=v.putIfAbsent(x,x),_.put(x,S||x),_.put(y,S||x),x}appendSingleContext(y,v){return this.appendContext(c.EMPTY_FULL.getChild(y),v)}getChild(y){return new m(this,y)}hashCode(){return this.cachedHashCode}toStrings(y,v,_=c.EMPTY_FULL){let S=[];t:for(let E=0;;E++){let N=0,x=!0,O=this,p=v,b="";for(b+="[";!O.isEmpty&&O!==_;){let F=0;if(O.size>0){let j=1;for(;1<<j>>>0<O.size;)j++;let k=(1<<j>>>0)-1;if(F=E>>N&k,x=x&&F>=O.size-1,F>=O.size)continue t;N+=j}if(y){b.length>1&&(b+=" ");let k=y.atn.states[p],K=y.ruleNames[k.ruleIndex];b+=K}else O.getReturnState(F)!==c.EMPTY_FULL_STATE_KEY&&(O.isEmpty||(b.length>1&&(b+=" "),b+=O.getReturnState(F)));p=O.getReturnState(F),O=O.getParent(F)}if(b+="]",S.push(b),x)break}return S}}t([a.Override],c.prototype,"hashCode",null),t([e(0,a.NotNull),e(1,a.NotNull),e(2,a.NotNull)],c,"join",null),t([e(0,a.NotNull),e(1,a.NotNull),e(2,a.NotNull)],c,"getCachedContext",null),r.PredictionContext=c;class f extends c{constructor(y){super(c.calculateEmptyHashCode()),this.fullContext=y}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(y){throw new Error("index out of bounds")}getReturnState(y){throw new Error("index out of bounds")}findReturnState(y){return-1}get size(){return 0}appendSingleContext(y,v){return v.getChild(this,y)}appendContext(y,v){return y}get isEmpty(){return!0}get hasEmpty(){return!0}equals(y){return this===y}toStrings(y,v,_){return["[]"]}}t([a.Override],f.prototype,"addEmptyContext",null),t([a.Override],f.prototype,"removeEmptyContext",null),t([a.Override],f.prototype,"getParent",null),t([a.Override],f.prototype,"getReturnState",null),t([a.Override],f.prototype,"findReturnState",null),t([a.Override],f.prototype,"size",null),t([a.Override],f.prototype,"appendSingleContext",null),t([a.Override],f.prototype,"appendContext",null),t([a.Override],f.prototype,"isEmpty",null),t([a.Override],f.prototype,"hasEmpty",null),t([a.Override],f.prototype,"equals",null),t([a.Override],f.prototype,"toStrings",null);let d=class oi extends c{constructor(y,v,_){super(_||c.calculateHashCode(y,v)),u(y.length===v.length),u(v.length>1||v[0]!==c.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=y,this.returnStates=v}getParent(y){return this.parents[y]}getReturnState(y){return this.returnStates[y]}findReturnState(y){return i.Arrays.binarySearch(this.returnStates,y)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===c.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let y=this.parents.slice(0),v=this.returnStates.slice(0);return y.push(c.EMPTY_FULL),v.push(c.EMPTY_FULL_STATE_KEY),new oi(y,v)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new m(this.parents[0],this.returnStates[0]);{let y=this.parents.slice(0,this.parents.length-1),v=this.returnStates.slice(0,this.returnStates.length-1);return new oi(y,v)}}appendContext(y,v){return oi.appendContextImpl(this,y,new c.IdentityHashMap)}static appendContextImpl(y,v,_){if(v.isEmpty){if(c.isEmptyLocal(v)){if(y.hasEmpty)return c.EMPTY_LOCAL;throw new Error("what to do here?")}return y}if(v.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let S=_.get(y);if(!S){if(y.isEmpty)S=v;else{let E=y.size;y.hasEmpty&&E--;let N=new Array(E),x=new Array(E);for(let O=0;O<E;O++)x[O]=y.getReturnState(O);for(let O=0;O<E;O++)N[O]=oi.appendContextImpl(y.getParent(O),v,_);N.length===1?S=new m(N[0],x[0]):(u(N.length>1),S=new oi(N,x)),y.hasEmpty&&(S=c.join(S,v))}_.put(y,S)}return S}equals(y){if(this===y)return!0;if(!(y instanceof oi)||this.hashCode()!==y.hashCode())return!1;let v=y;return this.equalsImpl(v,new s.Array2DHashSet)}equalsImpl(y,v){let _=[],S=[];for(_.push(this),S.push(y);;){let E=_.pop(),N=S.pop();if(!E||!N)break;let x=new l.PredictionContextCache.IdentityCommutativePredictionContextOperands(E,N);if(!v.add(x))continue;let O=x.x.size;if(O===0){if(!x.x.equals(x.y))return!1;continue}let p=x.y.size;if(O!==p)return!1;for(let b=0;b<O;b++){if(x.x.getReturnState(b)!==x.y.getReturnState(b))return!1;let F=x.x.getParent(b),j=x.y.getParent(b);if(F.hashCode()!==j.hashCode())return!1;F!==j&&(_.push(F),S.push(j))}}return!0}};t([a.NotNull],d.prototype,"parents",void 0),t([a.NotNull],d.prototype,"returnStates",void 0),t([a.Override],d.prototype,"getParent",null),t([a.Override],d.prototype,"getReturnState",null),t([a.Override],d.prototype,"findReturnState",null),t([a.Override],d.prototype,"size",null),t([a.Override],d.prototype,"isEmpty",null),t([a.Override],d.prototype,"hasEmpty",null),t([a.Override],d.prototype,"addEmptyContext",null),t([a.Override],d.prototype,"removeEmptyContext",null),t([a.Override],d.prototype,"appendContext",null),t([a.Override],d.prototype,"equals",null),d=t([e(0,a.NotNull)],d);let m=class dy extends c{constructor(y,v){super(c.calculateSingleHashCode(y,v)),this.parent=y,this.returnState=v}getParent(y){return this.parent}getReturnState(y){return this.returnState}findReturnState(y){return this.returnState===y?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(y,v){return v.getChild(this.parent.appendContext(y,v),this.returnState)}addEmptyContext(){let y=[this.parent,c.EMPTY_FULL],v=[this.returnState,c.EMPTY_FULL_STATE_KEY];return new d(y,v)}removeEmptyContext(){return this}equals(y){if(y===this)return!0;if(!(y instanceof dy))return!1;let v=y;return this.hashCode()!==v.hashCode()?!1:this.returnState===v.returnState&&this.parent.equals(v.parent)}};t([a.NotNull],m.prototype,"parent",void 0),t([a.Override],m.prototype,"getParent",null),t([a.Override],m.prototype,"getReturnState",null),t([a.Override],m.prototype,"findReturnState",null),t([a.Override],m.prototype,"size",null),t([a.Override],m.prototype,"isEmpty",null),t([a.Override],m.prototype,"hasEmpty",null),t([a.Override],m.prototype,"appendContext",null),t([a.Override],m.prototype,"addEmptyContext",null),t([a.Override],m.prototype,"removeEmptyContext",null),t([a.Override],m.prototype,"equals",null),m=t([e(0,a.NotNull)],m),r.SingletonPredictionContext=m,function(T){T.EMPTY_LOCAL=new f(!1),T.EMPTY_FULL=new f(!0),T.EMPTY_LOCAL_STATE_KEY=-(1<<31>>>0),T.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class y extends n.Array2DHashMap{constructor(){super(v.INSTANCE)}}T.IdentityHashMap=y;class v{IdentityEqualityComparator(){}hashCode(S){return S.hashCode()}equals(S,E){return S===E}}v.INSTANCE=new v,t([a.Override],v.prototype,"hashCode",null),t([a.Override],v.prototype,"equals",null),T.IdentityEqualityComparator=v}(c=r.PredictionContext||(r.PredictionContext={}))}(Yc)),Yc}/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var fe=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},er=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.ATNConfig=void 0;const Qv=An,Zv=Jr,sn=oe,ee=tt,tS=ir,jd=Ar(),ai=Mi,Ud=Le(),Kc=2147483648;let Be=class Ko{constructor(t,e,n){typeof e=="number"?(Ud((e&16777215)===e),this._state=t,this.altAndOuterContextDepth=e,this._context=n):(this._state=t,this.altAndOuterContextDepth=e.altAndOuterContextDepth,this._context=n)}static create(t,e,n,s=ai.SemanticContext.NONE,i){return s!==ai.SemanticContext.NONE?i!=null?new _s(i,s,t,e,n,!1):new bi(s,t,e,n):i!=null?new gs(i,t,e,n,!1):new Ko(t,e,n)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(t){this._context=t}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(t){Ud(t>=0),t=Math.min(t,127),this.altAndOuterContextDepth=t<<24|(this.altAndOuterContextDepth&-2130706433)>>>0}get lexerActionExecutor(){}get semanticContext(){return ai.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(t,e,n){return n==null?this.transformImpl(t,this._context,this.semanticContext,e,this.lexerActionExecutor):n instanceof jd.PredictionContext?this.transformImpl(t,n,this.semanticContext,e,this.lexerActionExecutor):n instanceof ai.SemanticContext?this.transformImpl(t,this._context,n,e,this.lexerActionExecutor):this.transformImpl(t,this._context,this.semanticContext,e,n)}transformImpl(t,e,n,s,i){let o=s&&Ko.checkNonGreedyDecision(this,t);return n!==ai.SemanticContext.NONE?i!=null||o?new _s(i,n,t,this,e,o):new bi(n,t,this,e):i!=null||o?new gs(i,t,this,e,o):new Ko(t,this,e)}static checkNonGreedyDecision(t,e){return t.hasPassedThroughNonGreedyDecision||e instanceof Zv.DecisionState&&e.nonGreedy}appendContext(t,e){if(typeof t=="number"){let n=this.context.appendSingleContext(t,e);return this.transform(this.state,!1,n)}else{let n=this.context.appendContext(t,e);return this.transform(this.state,!1,n)}}contains(t){if(this.state.stateNumber!==t.state.stateNumber||this.alt!==t.alt||!this.semanticContext.equals(t.semanticContext))return!1;let e=[],n=[];for(e.push(this.context),n.push(t.context);;){let s=e.pop(),i=n.pop();if(!s||!i)break;if(s===i)return!0;if(s.size<i.size)return!1;if(i.isEmpty)return s.hasEmpty;for(let o=0;o<i.size;o++){let a=s.findReturnState(i.getReturnState(o));if(a<0)return!1;e.push(s.getParent(a)),n.push(i.getParent(o))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&Kc)!==0}set isPrecedenceFilterSuppressed(t){t?this.altAndOuterContextDepth|=Kc:this.altAndOuterContextDepth&=~Kc}equals(t){return this===t?!0:t instanceof Ko?this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.reachesIntoOuterContext===t.reachesIntoOuterContext&&this.context.equals(t.context)&&this.semanticContext.equals(t.semanticContext)&&this.isPrecedenceFilterSuppressed===t.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===t.hasPassedThroughNonGreedyDecision&&tS.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,t.lexerActionExecutor):!1}hashCode(){let t=sn.MurmurHash.initialize(7);return t=sn.MurmurHash.update(t,this.state.stateNumber),t=sn.MurmurHash.update(t,this.alt),t=sn.MurmurHash.update(t,this.reachesIntoOuterContext?1:0),t=sn.MurmurHash.update(t,this.context),t=sn.MurmurHash.update(t,this.semanticContext),t=sn.MurmurHash.update(t,this.hasPassedThroughNonGreedyDecision?1:0),t=sn.MurmurHash.update(t,this.lexerActionExecutor),t=sn.MurmurHash.finish(t,7),t}toDotString(){let t="";t+=`digraph G {
`,t+=`rankdir=LR;
`;let e=new Qv.Array2DHashMap(jd.PredictionContext.IdentityEqualityComparator.INSTANCE),n=[];function s(i){let o=e.size,a=e.putIfAbsent(i,o);return a??(n.push(i),o)}for(n.push(this.context),e.put(this.context,0);;){let i=n.pop();if(!i)break;for(let o=0;o<i.size;o++)t+="  s"+s(i),t+="->",t+="s"+s(i.getParent(o)),t+='[label="'+i.getReturnState(o)+`"];
`}return t+=`}
`,t.toString()}toString(t,e,n){n==null&&(n=e!=null),e==null&&(e=!0);let s="",i;n?i=this.context.toStrings(t,this.state.stateNumber):i=["?"];let o=!0;for(let a of i)o?o=!1:s+=", ",s+="(",s+=this.state,e&&(s+=",",s+=this.alt),this.context&&(s+=",",s+=a),this.semanticContext!==ai.SemanticContext.NONE&&(s+=",",s+=this.semanticContext),this.reachesIntoOuterContext&&(s+=",up="+this.outerContextDepth),s+=")";return s.toString()}};fe([ee.NotNull],Be.prototype,"_state",void 0);fe([ee.NotNull],Be.prototype,"_context",void 0);fe([ee.NotNull],Be.prototype,"state",null);fe([ee.NotNull,er(0,ee.NotNull)],Be.prototype,"context",null);fe([ee.NotNull],Be.prototype,"semanticContext",null);fe([ee.Override],Be.prototype,"clone",null);fe([er(0,ee.NotNull),er(2,ee.NotNull)],Be.prototype,"transformImpl",null);fe([ee.Override],Be.prototype,"equals",null);fe([ee.Override],Be.prototype,"hashCode",null);fe([er(0,ee.NotNull),er(3,ee.NotNull)],Be,"create",null);Be=fe([er(0,ee.NotNull),er(2,ee.NotNull)],Be);Ui.ATNConfig=Be;let bi=class extends Be{constructor(t,e,n,s){typeof n=="number"?super(e,n,s):super(e,n,s),this._semanticContext=t}get semanticContext(){return this._semanticContext}};fe([ee.NotNull],bi.prototype,"_semanticContext",void 0);fe([ee.Override],bi.prototype,"semanticContext",null);bi=fe([er(1,ee.NotNull),er(2,ee.NotNull)],bi);let gs=class extends Be{constructor(t,e,n,s,i){if(typeof n=="number")super(e,n,s);else if(super(e,n,s),n.semanticContext!==ai.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=t,this.passedThroughNonGreedyDecision=i}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};fe([ee.Override],gs.prototype,"lexerActionExecutor",null);fe([ee.Override],gs.prototype,"hasPassedThroughNonGreedyDecision",null);gs=fe([er(1,ee.NotNull),er(2,ee.NotNull)],gs);let _s=class extends bi{constructor(t,e,n,s,i,o){typeof s=="number"?super(e,n,s,i):super(e,n,s,i),this._lexerActionExecutor=t,this.passedThroughNonGreedyDecision=o}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};fe([ee.Override],_s.prototype,"lexerActionExecutor",null);fe([ee.Override],_s.prototype,"hasPassedThroughNonGreedyDecision",null);_s=fe([er(1,ee.NotNull),er(2,ee.NotNull)],_s);var Tr={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Tr,"__esModule",{value:!0});Tr.BitSet=void 0;const eS=_i,rS=oe,ro=new Uint16Array(0);function Xe(r){return r>>>4}function ts(r){return r*16}function Ih(r){let t=1;for(let e=0;e<16;e++){if(r&t)return e;t=t<<1>>>0}throw new RangeError("No specified bit found")}function $d(r){let t=32768;for(let e=15;e>=0;e--){if(r&t)return e;t=t>>>1}throw new RangeError("No specified bit found")}function ur(r,t){return r&=15,t&=15,r===t?1<<r>>>0:65535>>>15-t^65535>>>16-r}const Dh=new Uint8Array(65536);for(let r=0;r<16;r++){const t=1<<r>>>0;let e=0;for(;e<Dh.length;){e+=t;for(let n=0;n<t;n++)Dh[e]++,e++}}class os{constructor(t){if(!t)this.data=ro;else if(typeof t=="number"){if(t<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(Xe(t-1)+1)}else if(t instanceof os)this.data=t.data.slice(0);else{let e=-1;for(let n of t)e<n&&(e=n);this.data=new Uint16Array(Xe(e-1)+1);for(let n of t)this.set(n)}}and(t){const e=this.data,n=t.data,s=Math.min(e.length,n.length);let i=-1;for(let o=0;o<s;o++)(e[o]&=n[o])!==0&&(i=o);i===-1&&(this.data=ro),i<e.length-1&&(this.data=e.slice(0,i+1))}andNot(t){const e=this.data,n=t.data,s=Math.min(e.length,n.length);let i=-1;for(let o=0;o<s;o++)(e[o]&=n[o]^65535)!==0&&(i=o);i===-1&&(this.data=ro),i<e.length-1&&(this.data=e.slice(0,i+1))}cardinality(){if(this.isEmpty)return 0;const t=this.data,e=t.length;let n=0;for(let s=0;s<e;s++)n+=Dh[t[s]];return n}clear(t,e){t==null?this.data.fill(0):e==null?this.set(t,!1):this.set(t,e,!1)}flip(t,e){if(e==null&&(e=t),t<0||e<t)throw new RangeError;let n=Xe(t);const s=Xe(e);if(n===s)this.data[n]^=ur(t,e);else{for(this.data[n++]^=ur(t,15);n<s;)this.data[n++]^=65535;this.data[n++]^=ur(0,e)}}get(t,e){if(e===void 0)return!!(this.data[Xe(t)]&ur(t,t));{let n=new os(e+1);for(let s=t;s<=e;s++)n.set(s,this.get(s));return n}}intersects(t){let e=Math.min(this.length(),t.length());if(e===0)return!1;let n=Xe(e-1);for(let s=0;s<=n;s++)if(this.data[s]&t.data[s])return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(ts(this.data.length)-1)+1:0}nextClearBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,n=e.length;let s=Xe(t);if(s>n)return-1;let i=65535^ur(t,15);if((e[s]|i)===65535){for(s++,i=0;s<n&&e[s]===65535;s++);if(s===n)return-1}return ts(s)+Ih((e[s]|i)^65535)}nextSetBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,n=e.length;let s=Xe(t);if(s>n)return-1;let i=ur(t,15);if(!(e[s]&i)){for(s++,i=65535;s<n&&e[s]===0;s++);if(s>=n)return-1}return ts(s)+Ih(e[s]&i)}or(t){const e=this.data,n=t.data,s=Math.min(e.length,n.length),i=Math.max(e.length,n.length),o=e.length===i?e:new Uint16Array(i);let a=-1;for(let u=0;u<s;u++)(o[u]=e[u]|n[u])!==0&&(a=u);const l=e.length>n.length?e:n;for(let u=s;u<i;u++)(o[u]=l[u])!==0&&(a=u);a===-1?this.data=ro:o.length===a+1?this.data=o:this.data=o.slice(0,a)}previousClearBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,n=e.length;let s=Xe(t);s>=n&&(s=n-1);let i=65535^ur(0,t);if((e[s]|i)===65535){for(i=0,s--;s>=0&&e[s]===65535;s--);if(s<0)return-1}return ts(s)+$d((e[s]|i)^65535)}previousSetBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,n=e.length;let s=Xe(t);s>=n&&(s=n-1);let i=ur(0,t);if(!(e[s]&i)){for(s--,i=65535;s>=0&&e[s]===0;s--);if(s<0)return-1}return ts(s)+$d(e[s]&i)}set(t,e,n){if(e===void 0?(e=t,n=!0):typeof e=="boolean"&&(n=e,e=t),n===void 0&&(n=!0),t<0||t>e)throw new RangeError;let s=Xe(t),i=Xe(e);if(n&&i>=this.data.length){let o=new Uint16Array(i+1);this.data.forEach((a,l)=>o[l]=a),this.data=o}else if(!n){if(s>=this.data.length)return;i>=this.data.length&&(i=this.data.length-1,e=this.data.length*16-1)}if(s===i)this._setBits(s,n,ur(t,e));else{for(this._setBits(s++,n,ur(t,15));s<i;)this.data[s++]=n?65535:0;this._setBits(s,n,ur(0,e))}}_setBits(t,e,n){e?this.data[t]|=n:this.data[t]&=65535^n}get size(){return this.data.byteLength*8}hashCode(){return rS.MurmurHash.hashCode(this.data,22)}equals(t){if(t===this)return!0;if(!(t instanceof os))return!1;const e=this.length();if(e!==t.length())return!1;if(e===0)return!0;let n=Xe(e-1);for(let s=0;s<=n;s++)if(this.data[s]!==t.data[s])return!1;return!0}toString(){let t="{",e=!0;for(let n=this.nextSetBit(0);n>=0;n=this.nextSetBit(n+1))e?e=!1:t+=", ",t+=n;return t+="}",t}xor(t){const e=this.data,n=t.data,s=Math.min(e.length,n.length),i=Math.max(e.length,n.length),o=e.length===i?e:new Uint16Array(i);let a=-1;for(let u=0;u<s;u++)(o[u]=e[u]^n[u])!==0&&(a=u);const l=e.length>n.length?e:n;for(let u=s;u<i;u++)(o[u]=l[u])!==0&&(a=u);a===-1?this.data=ro:o.length===a+1?this.data=o:this.data=o.slice(0,a+1)}clone(){return new os(this)}[Symbol.iterator](){return new nS(this.data)}[eS.inspect.custom](){return"BitSet "+this.toString()}}Tr.BitSet=os;class nS{constructor(t){this.data=t,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const t=this.data[this.index]&this.mask;if(t!==0){const e=ts(this.index)+Ih(t);return this.mask=ur(e+1,15),{done:!1,value:e}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}var zd;function Ea(){if(zd)return eo;zd=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(v,_,S,E){var N=arguments.length,x=N<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,S):E,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(v,_,S,E);else for(var p=v.length-1;p>=0;p--)(O=v[p])&&(x=(N<3?O(x):N>3?O(_,S,x):O(_,S))||x);return N>3&&x&&Object.defineProperty(_,S,x),x};Object.defineProperty(eo,"__esModule",{value:!0}),eo.ATNConfigSet=void 0;const t=An,e=Er,n=ki,s=Zr(),i=Ui,o=Tr,a=tt,l=ir,u=Ar(),h=lf(),c=Mi,f=Le(),d=me;class m{hashCode(_){return _.state^_.alt}equals(_,S){return _.state===S.state&&_.alt===S.alt}}m.INSTANCE=new m;function T(v){return v?new t.Array2DHashMap(v):new t.Array2DHashMap(m.INSTANCE)}let y=class Rh{constructor(_,S){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,_?(S?(this.mergedConfigs=void 0,this.unmerged=void 0):_.isReadOnly?(this.mergedConfigs=T(),this.unmerged=[]):(this.mergedConfigs=T(_.mergedConfigs),this.unmerged=_.unmerged.slice(0)),this.configs=_.configs.slice(0),this._dipsIntoOuterContext=_._dipsIntoOuterContext,this._hasSemanticContext=_._hasSemanticContext,this.outermostConfigSet=_.outermostConfigSet,(S||!_.isReadOnly)&&(this._uniqueAlt=_._uniqueAlt,this._conflictInfo=_._conflictInfo)):(this.mergedConfigs=T(),this.unmerged=[],this.configs=[],this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let _=new o.BitSet;for(let S of this)_.set(S.alt);return _}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(_){if(this.outermostConfigSet&&!_)throw new Error("IllegalStateException");f(!_||!this._dipsIntoOuterContext),this.outermostConfigSet=_}getStates(){let _=new e.Array2DHashSet(l.ObjectEqualityComparator.INSTANCE);for(let S of this.configs)_.add(S.state);return _}optimizeConfigs(_){if(this.configs.length!==0)for(let S of this.configs)S.context=_.atn.getCachedContext(S.context)}clone(_){let S=new Rh(this,_);return!_&&this.isReadOnly&&S.addAll(this.configs),S}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(_){if(!(_ instanceof i.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let S=_,E=this.getKey(S),N=this.mergedConfigs.get(E);if(N!=null&&this.canMerge(S,E,N))return N.contains(S);for(let x of this.unmerged)if(x.contains(_))return!0}else for(let S of this.configs)if(S.contains(_))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(_,S){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");f(!this.outermostConfigSet||!_.reachesIntoOuterContext),S==null&&(S=h.PredictionContextCache.UNCACHED);let E,N=this.getKey(_),x=this.mergedConfigs.get(N);if(E=x==null,x!=null&&this.canMerge(_,N,x)){x.outerContextDepth=Math.max(x.outerContextDepth,_.outerContextDepth),_.isPrecedenceFilterSuppressed&&(x.isPrecedenceFilterSuppressed=!0);let O=u.PredictionContext.join(x.context,_.context,S);return this.updatePropertiesForMergedConfig(_),x.context===O?!1:(x.context=O,!0)}for(let O=0;O<this.unmerged.length;O++){let p=this.unmerged[O];if(this.canMerge(_,N,p)){p.outerContextDepth=Math.max(p.outerContextDepth,_.outerContextDepth),_.isPrecedenceFilterSuppressed&&(p.isPrecedenceFilterSuppressed=!0);let b=u.PredictionContext.join(p.context,_.context,S);return this.updatePropertiesForMergedConfig(_),p.context===b?!1:(p.context=b,E&&(this.mergedConfigs.put(N,p),this.unmerged.splice(O,1)),!0)}}return this.configs.push(_),E?this.mergedConfigs.put(N,_):this.unmerged.push(_),this.updatePropertiesForAddedConfig(_),!0}updatePropertiesForMergedConfig(_){this._dipsIntoOuterContext=this._dipsIntoOuterContext||_.reachesIntoOuterContext,f(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(_){this.configs.length===1?this._uniqueAlt=_.alt:this._uniqueAlt!==_.alt&&(this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!c.SemanticContext.NONE.equals(_.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||_.reachesIntoOuterContext,f(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(_,S,E){return _.state.stateNumber!==E.state.stateNumber||S.alt!==E.alt?!1:_.semanticContext.equals(E.semanticContext)}getKey(_){return{state:_.state.stateNumber,alt:_.alt}}containsAll(_){for(let S of _)if(!(S instanceof i.ATNConfig)||!this.contains(S))return!1;return!0}addAll(_,S){this.ensureWritable();let E=!1;for(let N of _)this.add(N,S)&&(E=!0);return E}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(_){return this===_?!0:_ instanceof Rh?this.outermostConfigSet===_.outermostConfigSet&&d.equals(this._conflictInfo,_._conflictInfo)&&n.ArrayEqualityComparator.INSTANCE.equals(this.configs,_.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let _=1;return _=5*_^(this.outermostConfigSet?1:0),_=5*_^n.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=_),_}toString(_){_==null&&(_=!1);let S="",E=this.configs.slice(0);E.sort((N,x)=>N.alt!==x.alt?N.alt-x.alt:N.state.stateNumber!==x.state.stateNumber?N.state.stateNumber-x.state.stateNumber:N.semanticContext.toString().localeCompare(x.semanticContext.toString())),S+="[";for(let N=0;N<E.length;N++)N>0&&(S+=", "),S+=E[N].toString(void 0,!0,_);return S+="]",this._hasSemanticContext&&(S+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==s.ATN.INVALID_ALT_NUMBER&&(S+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(S+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(S+="*")),this._dipsIntoOuterContext&&(S+=",dipsIntoOuterContext"),S.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(_){this.ensureWritable(),this._hasSemanticContext=_}get conflictInfo(){return this._conflictInfo}set conflictInfo(_){this.ensureWritable(),this._conflictInfo=_}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(_){return this.configs[_]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};return r([a.NotNull],y.prototype,"getRepresentedAlternatives",null),r([a.Override],y.prototype,"size",null),r([a.Override],y.prototype,"isEmpty",null),r([a.Override],y.prototype,"contains",null),r([a.Override],y.prototype,Symbol.iterator,null),r([a.Override],y.prototype,"toArray",null),r([a.Override],y.prototype,"containsAll",null),r([a.Override],y.prototype,"clear",null),r([a.Override],y.prototype,"equals",null),r([a.Override],y.prototype,"hashCode",null),eo.ATNConfigSet=y,eo}var no={},Xc={},Jc={},qd;function Cu(){return qd||(qd=1,function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(h,c,f,d){var m=arguments.length,T=m<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(h,c,f,d);else for(var v=h.length-1;v>=0;v--)(y=h[v])&&(T=(m<3?y(T):m>3?y(c,f,T):y(c,f))||T);return m>3&&T&&Object.defineProperty(c,f,T),T},e=w&&w.__param||function(h,c){return function(f,d){c(f,d,h)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DFAState=void 0;const n=Zr(),s=Tr,i=oe,o=tt,a=Ar(),l=Le();class u{constructor(c){this.stateNumber=-1,this.configs=c,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(c){return this.isContextSensitive?this.contextSymbols.get(c):!1}setContextSymbol(c){l(this.isContextSensitive),this.contextSymbols.set(c)}setContextSensitive(c){l(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new s.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(c){this._acceptStateInfo=c}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:n.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(c){return this.edges.get(c)}setTarget(c,f){this.edges.set(c,f)}getEdgeMap(){return this.edges}getContextTarget(c){return c===a.PredictionContext.EMPTY_FULL_STATE_KEY&&(c=-1),this.contextEdges.get(c)}setContextTarget(c,f){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");c===a.PredictionContext.EMPTY_FULL_STATE_KEY&&(c=-1),this.contextEdges.set(c,f)}getContextEdgeMap(){let c=new Map(this.contextEdges),f=c.get(-1);if(f!==void 0)if(c.size===1){let d=new Map;return d.set(a.PredictionContext.EMPTY_FULL_STATE_KEY,f),d}else c.delete(-1),c.set(a.PredictionContext.EMPTY_FULL_STATE_KEY,f);return c}hashCode(){let c=i.MurmurHash.initialize(7);return c=i.MurmurHash.update(c,this.configs.hashCode()),c=i.MurmurHash.finish(c,1),c}equals(c){if(this===c)return!0;if(!(c instanceof u))return!1;let f=c;return this.configs.equals(f.configs)}toString(){let c="";return c+=this.stateNumber+":"+this.configs,this.isAcceptState&&(c+="=>",this.predicates?c+=this.predicates:c+=this.prediction),c.toString()}}t([o.NotNull],u.prototype,"configs",void 0),t([o.NotNull],u.prototype,"edges",void 0),t([o.NotNull],u.prototype,"contextEdges",void 0),t([o.Override],u.prototype,"hashCode",null),t([o.Override],u.prototype,"equals",null),t([o.Override],u.prototype,"toString",null),r.DFAState=u,function(h){let c=class{constructor(d,m){this.alt=m,this.pred=d}toString(){return"("+this.pred+", "+this.alt+")"}};t([o.NotNull],c.prototype,"pred",void 0),t([o.Override],c.prototype,"toString",null),c=t([e(0,o.NotNull)],c),h.PredPrediction=c}(u=r.DFAState||(r.DFAState={}))}(Jc)),Jc}var Vd;function Iu(){return Vd||(Vd=1,function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(l,u,h,c){var f=arguments.length,d=f<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,h):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,u,h,c);else for(var T=l.length-1;T>=0;T--)(m=l[T])&&(d=(f<3?m(d):f>3?m(u,h,d):m(u,h))||d);return f>3&&d&&Object.defineProperty(u,h,d),d},e=w&&w.__param||function(l,u){return function(h,c){u(h,c,l)}};Object.defineProperty(r,"__esModule",{value:!0}),r.ATNSimulator=void 0;const n=Ea(),s=Cu(),i=tt,o=Ar();let a=class Xo{constructor(u){this.atn=u}static get ERROR(){return Xo._ERROR||(Xo._ERROR=new s.DFAState(new n.ATNConfigSet),Xo._ERROR.stateNumber=o.PredictionContext.EMPTY_FULL_STATE_KEY),Xo._ERROR}clearDFA(){this.atn.clearDFA()}};t([i.NotNull],a.prototype,"atn",void 0),t([i.NotNull],a,"ERROR",null),a=t([e(0,i.NotNull)],a),r.ATNSimulator=a,a=r.ATNSimulator||(r.ATNSimulator={}),r.ATNSimulator=a}(Xc)),Xc}var Xn={},Aa={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Aa,"__esModule",{value:!0});Aa.ConsoleErrorListener=void 0;class Fh{syntaxError(t,e,n,s,i,o){console.error(`line ${n}:${s} ${i}`)}}Aa.ConsoleErrorListener=Fh;Fh.INSTANCE=new Fh;var Ls={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var iS=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Hd=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.ProxyErrorListener=void 0;const Qc=tt;class py{constructor(t){if(this.delegates=t,!t)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(t,e,n,s,i,o){this.delegates.forEach(a=>{a.syntaxError&&a.syntaxError(t,e,n,s,i,o)})}}iS([Qc.Override,Hd(0,Qc.NotNull),Hd(4,Qc.NotNull)],py.prototype,"syntaxError",null);Ls.ProxyErrorListener=py;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Qr=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Du=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.Recognizer=void 0;const sS=Aa,oS=Ls,rr=tt,Wd=te,aS=me;class xe{constructor(){this._listeners=[sS.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let t=this.vocabulary,e=xe.tokenTypeMapCache.get(t);if(e==null){let n=new Map;for(let s=0;s<=this.atn.maxTokenType;s++){let i=t.getLiteralName(s);i!=null&&n.set(i,s);let o=t.getSymbolicName(s);o!=null&&n.set(o,s)}n.set("EOF",Wd.Token.EOF),e=n,xe.tokenTypeMapCache.set(t,e)}return e}getRuleIndexMap(){let t=this.ruleNames;if(t==null)throw new Error("The current recognizer does not provide a list of rule names.");let e=xe.ruleIndexMapCache.get(t);return e==null&&(e=aS.toMap(t),xe.ruleIndexMapCache.set(t,e)),e}getTokenType(t){let e=this.getTokenTypeMap().get(t);return e??Wd.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(t){this._interp=t}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(t){let e=t.getOffendingToken();if(!e)return"";let n=e.line,s=e.charPositionInLine;return"line "+n+":"+s}addErrorListener(t){if(!t)throw new TypeError("listener must not be null");this._listeners.push(t)}removeErrorListener(t){let e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new oS.ProxyErrorListener(this.getErrorListeners())}sempred(t,e,n){return!0}precpred(t,e){return!0}action(t,e,n){}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}xe.EOF=-1;xe.tokenTypeMapCache=new WeakMap;xe.ruleIndexMapCache=new WeakMap;Qr([rr.SuppressWarnings("serial"),rr.NotNull],xe.prototype,"_listeners",void 0);Qr([rr.NotNull],xe.prototype,"getTokenTypeMap",null);Qr([rr.NotNull],xe.prototype,"getRuleIndexMap",null);Qr([rr.NotNull],xe.prototype,"serializedATN",null);Qr([rr.NotNull],xe.prototype,"atn",null);Qr([rr.NotNull,Du(0,rr.NotNull)],xe.prototype,"interpreter",null);Qr([rr.NotNull,Du(0,rr.NotNull)],xe.prototype,"getErrorHeader",null);Qr([Du(0,rr.NotNull)],xe.prototype,"addErrorListener",null);Qr([Du(0,rr.NotNull)],xe.prototype,"removeErrorListener",null);Qr([rr.NotNull],xe.prototype,"getErrorListeners",null);Xn.Recognizer=xe;var Tn={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Jn=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Tn,"__esModule",{value:!0});var uf=Tn.VocabularyImpl=void 0;const xn=tt,lS=te;class _r{constructor(t,e,n){this.literalNames=t,this.symbolicNames=e,this.displayNames=n,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(t){if(t>=0&&t<this.literalNames.length)return this.literalNames[t]}getSymbolicName(t){if(t>=0&&t<this.symbolicNames.length)return this.symbolicNames[t];if(t===lS.Token.EOF)return"EOF"}getDisplayName(t){if(t>=0&&t<this.displayNames.length){let s=this.displayNames[t];if(s)return s}let e=this.getLiteralName(t);if(e)return e;let n=this.getSymbolicName(t);return n||String(t)}}_r.EMPTY_VOCABULARY=new _r([],[],[]);Jn([xn.NotNull],_r.prototype,"literalNames",void 0);Jn([xn.NotNull],_r.prototype,"symbolicNames",void 0);Jn([xn.NotNull],_r.prototype,"displayNames",void 0);Jn([xn.Override],_r.prototype,"maxTokenType",null);Jn([xn.Override],_r.prototype,"getLiteralName",null);Jn([xn.Override],_r.prototype,"getSymbolicName",null);Jn([xn.Override,xn.NotNull],_r.prototype,"getDisplayName",null);Jn([xn.NotNull],_r,"EMPTY_VOCABULARY",void 0);uf=Tn.VocabularyImpl=_r;var Yd;function yy(){if(Yd)return no;Yd=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(a,l,u,h){var c=arguments.length,f=c<3?l:h===null?h=Object.getOwnPropertyDescriptor(l,u):h,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(a,l,u,h);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(f=(c<3?d(f):c>3?d(l,u,f):d(l,u))||f);return c>3&&f&&Object.defineProperty(l,u,f),f};Object.defineProperty(no,"__esModule",{value:!0}),no.DFASerializer=void 0;const t=Iu(),e=tt,n=Ar(),s=Xn,i=Tn;let o=class{constructor(l,u,h,c){u instanceof s.Recognizer?(h=u.ruleNames,c=u.atn,u=u.vocabulary):u||(u=i.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=l,this.vocabulary=u,this.ruleNames=h,this.atn=c}toString(){if(!this.dfa.s0)return"";let l="";if(this.dfa.states){let h=new Array(...this.dfa.states.toArray());h.sort((c,f)=>c.stateNumber-f.stateNumber);for(let c of h){let f=c.getEdgeMap(),d=[...f.keys()].sort((y,v)=>y-v),m=c.getContextEdgeMap(),T=[...m.keys()].sort((y,v)=>y-v);for(let y of d){let v=f.get(y);if((v==null||v===t.ATNSimulator.ERROR)&&!c.isContextSymbol(y))continue;let _=!1;l+=this.getStateString(c)+"-"+this.getEdgeLabel(y)+"->",c.isContextSymbol(y)&&(l+="!",_=!0);let S=v;S&&S.stateNumber!==t.ATNSimulator.ERROR.stateNumber?l+=this.getStateString(S)+`
`:_&&(l+=`ctx
`)}if(c.isContextSensitive)for(let y of T)l+=this.getStateString(c)+"-"+this.getContextLabel(y)+"->"+this.getStateString(m.get(y))+`
`}}let u=l;return u.length===0?"":u}getContextLabel(l){if(l===n.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(l===n.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&l>0&&l<=this.atn.states.length){let h=this.atn.states[l].ruleIndex;if(this.ruleNames&&h>=0&&h<this.ruleNames.length)return"ctx:"+String(l)+"("+this.ruleNames[h]+")"}return"ctx:"+String(l)}getEdgeLabel(l){return this.vocabulary.getDisplayName(l)}getStateString(l){if(l===t.ATNSimulator.ERROR)return"ERROR";let u=l.stateNumber,h="s"+u;if(l.isAcceptState&&(l.predicates?h=":s"+u+"=>"+l.predicates:h=":s"+u+"=>"+l.prediction),l.isContextSensitive){h+="*";for(let c of l.configs)if(c.reachesIntoOuterContext){h+="*";break}}return h}};return r([e.NotNull],o.prototype,"dfa",void 0),r([e.NotNull],o.prototype,"vocabulary",void 0),r([e.Override],o.prototype,"toString",null),no.DFASerializer=o,no}var io={},Gd;function uS(){if(Gd)return io;Gd=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(o,a,l,u){var h=arguments.length,c=h<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,a,l,u);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(h<3?f(c):h>3?f(a,l,c):f(a,l))||c);return h>3&&c&&Object.defineProperty(a,l,c),c},t=w&&w.__param||function(o,a){return function(l,u){a(l,u,o)}};Object.defineProperty(io,"__esModule",{value:!0}),io.LexerDFASerializer=void 0;const e=yy(),n=tt,s=Tn;let i=class extends e.DFASerializer{constructor(a){super(a,s.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(a){return"'"+String.fromCodePoint(a)+"'"}};return r([n.Override,n.NotNull],i.prototype,"getEdgeLabel",null),i=r([t(0,n.NotNull)],i),io.LexerDFASerializer=i,io}var Bs={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var cS=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.StarLoopEntryState=void 0;const hS=Se,fS=Tr,dS=Jr,pS=tt;class my extends dS.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new fS.BitSet}get stateType(){return hS.ATNStateType.STAR_LOOP_ENTRY}}cS([pS.Override],my.prototype,"stateType",null);Bs.StarLoopEntryState=my;var Kd;function xy(){if(Kd)return to;Kd=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(f,d,m,T){var y=arguments.length,v=y<3?d:T===null?T=Object.getOwnPropertyDescriptor(d,m):T,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(f,d,m,T);else for(var S=f.length-1;S>=0;S--)(_=f[S])&&(v=(y<3?_(v):y>3?_(d,m,v):_(d,m))||v);return y>3&&v&&Object.defineProperty(d,m,v),v},t=w&&w.__param||function(f,d){return function(m,T){d(m,T,f)}};Object.defineProperty(to,"__esModule",{value:!0}),to.DFA=void 0;const e=Er,n=Ea(),s=yy(),i=Cu(),o=uS(),a=tt,l=ir,u=Bs,h=Tn;let c=class{constructor(d,m=0){if(this.states=new e.Array2DHashSet(l.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!d.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=d,this.atn=d.atn,this.decision=m;let T=!1;d instanceof u.StarLoopEntryState&&d.precedenceRuleDecision&&(T=!0,this.s0=new i.DFAState(new n.ATNConfigSet),this.s0full=new i.DFAState(new n.ATNConfigSet)),this.precedenceDfa=T}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(d,m){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return m?this.s0full.getTarget(d):this.s0.getTarget(d)}setPrecedenceStartState(d,m,T){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");d<0||(m?this.s0full.setTarget(d,T):this.s0.setTarget(d,T))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(d){return d.stateNumber=this.nextStateNumber++,this.states.getOrAdd(d)}toString(d,m){if(d||(d=h.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let T;return m?T=new s.DFASerializer(this,d,m,this.atnStartState.atn):T=new s.DFASerializer(this,d),T.toString()}toLexerString(){return this.s0?new o.LexerDFASerializer(this).toString():""}};return r([a.NotNull],c.prototype,"states",void 0),r([a.NotNull],c.prototype,"atnStartState",void 0),r([a.NotNull],c.prototype,"atn",void 0),c=r([t(0,a.NotNull)],c),to.DFA=c,to}var Ta={},Na={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var yS=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Na,"__esModule",{value:!0});Na.BasicState=void 0;const mS=Kr,xS=Se,gS=tt;class gy extends mS.ATNState{get stateType(){return xS.ATNStateType.BASIC}}yS([gS.Override],gy.prototype,"stateType",null);Na.BasicState=gy;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var _S=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.InvalidState=void 0;const vS=Se,SS=Na,bS=tt;class _y extends SS.BasicState{get stateType(){return vS.ATNStateType.INVALID_TYPE}}_S([bS.Override],_y.prototype,"stateType",null);Ta.InvalidState=_y;var so={},oo={},ao={},Xd;function cf(){if(Xd)return ao;Xd=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(a,l,u,h){var c=arguments.length,f=c<3?l:h===null?h=Object.getOwnPropertyDescriptor(l,u):h,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(a,l,u,h);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(f=(c<3?d(f):c>3?d(l,u,f):d(l,u))||f);return c>3&&f&&Object.defineProperty(l,u,f),f},t=w&&w.__param||function(a,l){return function(u,h){l(u,h,a)}};Object.defineProperty(ao,"__esModule",{value:!0}),ao.SetTransition=void 0;const e=Hi(),n=tt,s=te,i=br;let o=class extends i.Transition{constructor(l,u){super(l),u==null&&(u=e.IntervalSet.of(s.Token.INVALID_TYPE)),this.set=u}get serializationType(){return 7}get label(){return this.set}matches(l,u,h){return this.set.contains(l)}toString(){return this.set.toString()}};return r([n.NotNull],o.prototype,"set",void 0),r([n.Override],o.prototype,"serializationType",null),r([n.Override,n.NotNull],o.prototype,"label",null),r([n.Override],o.prototype,"matches",null),r([n.Override,n.NotNull],o.prototype,"toString",null),o=r([t(0,n.NotNull),t(1,n.Nullable)],o),ao.SetTransition=o,ao}var Jd;function hf(){if(Jd)return oo;Jd=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h},t=w&&w.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(oo,"__esModule",{value:!0}),oo.NotSetTransition=void 0;const e=tt,n=cf();let s=class extends n.SetTransition{constructor(o,a){super(o,a)}get serializationType(){return 8}matches(o,a,l){return o>=a&&o<=l&&!super.matches(o,a,l)}toString(){return"~"+super.toString()}};return r([e.Override],s.prototype,"serializationType",null),r([e.Override],s.prototype,"matches",null),r([e.Override],s.prototype,"toString",null),s=r([t(0,e.NotNull),t(1,e.Nullable)],s),oo.NotSetTransition=s,oo}var Qn={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var vy=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.RuleStopState=void 0;const ES=Kr,AS=Se,Sy=tt;class ff extends ES.ATNState{get nonStopStateNumber(){return-1}get stateType(){return AS.ATNStateType.RULE_STOP}}vy([Sy.Override],ff.prototype,"nonStopStateNumber",null);vy([Sy.Override],ff.prototype,"stateType",null);Qn.RuleStopState=ff;var Ms={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var wa=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Qd=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.RuleTransition=void 0;const vs=tt,TS=br;let Ei=class extends TS.Transition{constructor(t,e,n,s){super(t),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=e,this.precedence=n,this.followState=s}get serializationType(){return 3}get isEpsilon(){return!0}matches(t,e,n){return!1}};wa([vs.NotNull],Ei.prototype,"followState",void 0);wa([vs.Override],Ei.prototype,"serializationType",null);wa([vs.Override],Ei.prototype,"isEpsilon",null);wa([vs.Override],Ei.prototype,"matches",null);Ei=wa([Qd(0,vs.NotNull),Qd(3,vs.NotNull)],Ei);Ms.RuleTransition=Ei;var Oa={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ru=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},NS=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.WildcardTransition=void 0;const oa=tt,wS=br;let Ss=class extends wS.Transition{constructor(t){super(t)}get serializationType(){return 9}matches(t,e,n){return t>=e&&t<=n}toString(){return"."}};Ru([oa.Override],Ss.prototype,"serializationType",null);Ru([oa.Override],Ss.prototype,"matches",null);Ru([oa.Override,oa.NotNull],Ss.prototype,"toString",null);Ss=Ru([NS(0,oa.NotNull)],Ss);Oa.WildcardTransition=Ss;var Zd;function OS(){if(Zd)return so;Zd=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(y,v,_,S){var E=arguments.length,N=E<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,_):S,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(y,v,_,S);else for(var O=y.length-1;O>=0;O--)(x=y[O])&&(N=(E<3?x(N):E>3?x(v,_,N):x(v,_))||N);return E>3&&N&&Object.defineProperty(v,_,N),N},t=w&&w.__param||function(y,v){return function(_,S){v(_,S,y)}};Object.defineProperty(so,"__esModule",{value:!0}),so.LL1Analyzer=void 0;const e=Fs,n=Er,s=Ui,i=Tr,o=Hi(),a=tt,l=hf(),u=ir,h=Ar(),c=Qn,f=Ms,d=te,m=Oa;let T=class Ph{constructor(v){this.atn=v}getDecisionLookahead(v){if(v==null)return;let _=new Array(v.numberOfTransitions);for(let S=0;S<v.numberOfTransitions;S++){let E=new o.IntervalSet;_[S]=E;let N=new n.Array2DHashSet(u.ObjectEqualityComparator.INSTANCE);this._LOOK(v.transition(S).target,void 0,h.PredictionContext.EMPTY_LOCAL,E,N,new i.BitSet,!1,!1),(E.size===0||E.contains(Ph.HIT_PRED))&&(E=void 0,_[S]=E)}return _}LOOK(v,_,S){if(S===void 0){if(v.atn==null)throw new Error("Illegal state");S=v.atn.ruleToStopState[v.ruleIndex]}else S===null&&(S=void 0);let E=new o.IntervalSet;return this._LOOK(v,S,_,E,new n.Array2DHashSet,new i.BitSet,!0,!0),E}_LOOK(v,_,S,E,N,x,O,p){let b=s.ATNConfig.create(v,0,S);if(!N.add(b))return;if(v===_){if(h.PredictionContext.isEmptyLocal(S)){E.add(d.Token.EPSILON);return}else if(S.isEmpty){p&&E.add(d.Token.EOF);return}}if(v instanceof c.RuleStopState){if(S.isEmpty&&!h.PredictionContext.isEmptyLocal(S)){p&&E.add(d.Token.EOF);return}let j=x.get(v.ruleIndex);try{x.clear(v.ruleIndex);for(let k=0;k<S.size;k++){if(S.getReturnState(k)===h.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let K=this.atn.states[S.getReturnState(k)];this._LOOK(K,_,S.getParent(k),E,N,x,O,p)}}finally{j&&x.set(v.ruleIndex)}}let F=v.numberOfTransitions;for(let j=0;j<F;j++){let k=v.transition(j);if(k instanceof f.RuleTransition){if(x.get(k.ruleIndex))continue;let K=S.getChild(k.followState.stateNumber);try{x.set(k.ruleIndex),this._LOOK(k.target,_,K,E,N,x,O,p)}finally{x.clear(k.ruleIndex)}}else if(k instanceof e.AbstractPredicateTransition)O?this._LOOK(k.target,_,S,E,N,x,O,p):E.add(Ph.HIT_PRED);else if(k.isEpsilon)this._LOOK(k.target,_,S,E,N,x,O,p);else if(k instanceof m.WildcardTransition)E.addAll(o.IntervalSet.of(d.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let K=k.label;K!=null&&(k instanceof l.NotSetTransition&&(K=K.complement(o.IntervalSet.of(d.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),E.addAll(K))}}}};return T.HIT_PRED=d.Token.INVALID_TYPE,r([a.NotNull],T.prototype,"atn",void 0),r([a.NotNull,t(0,a.NotNull),t(1,a.NotNull)],T.prototype,"LOOK",null),r([t(0,a.NotNull),t(2,a.NotNull),t(3,a.NotNull),t(4,a.NotNull),t(5,a.NotNull)],T.prototype,"_LOOK",null),T=r([t(0,a.NotNull)],T),so.LL1Analyzer=T,so}var tp;function Zr(){return tp||(tp=1,function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(m,T,y,v){var _=arguments.length,S=_<3?T:v===null?v=Object.getOwnPropertyDescriptor(T,y):v,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,T,y,v);else for(var N=m.length-1;N>=0;N--)(E=m[N])&&(S=(_<3?E(S):_>3?E(T,y,S):E(T,y))||S);return _>3&&S&&Object.defineProperty(T,y,S),S},e=w&&w.__param||function(m,T){return function(y,v){T(y,v,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.ATN=void 0;const n=An,s=xy(),i=Hi(),o=Ta,a=OS(),l=tt,u=ir,h=Ar(),c=te,f=Le();let d=class{constructor(T,y){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new n.Array2DHashMap(u.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=T,this.maxTokenType=y}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let T=0;T<this.decisionToDFA.length;T++)this.decisionToDFA[T]=new s.DFA(this.decisionToState[T],T);this.modeToDFA=new Array(this.modeToStartState.length);for(let T=0;T<this.modeToDFA.length;T++)this.modeToDFA[T]=new s.DFA(this.modeToStartState[T]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(T){return h.PredictionContext.getCachedContext(T,this.contextCache,new h.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return f(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(T,y){return y?new a.LL1Analyzer(this).LOOK(T,y):(T.nextTokenWithinRule||(T.nextTokenWithinRule=this.nextTokens(T,h.PredictionContext.EMPTY_LOCAL),T.nextTokenWithinRule.setReadonly(!0)),T.nextTokenWithinRule)}addState(T){T.atn=this,T.stateNumber=this.states.length,this.states.push(T)}removeState(T){let y=new o.InvalidState;y.atn=this,y.stateNumber=T.stateNumber,this.states[T.stateNumber]=y}defineMode(T,y){this.modeNameToStartState.set(T,y),this.modeToStartState.push(y),this.modeToDFA.push(new s.DFA(y)),this.defineDecisionState(y)}defineDecisionState(T){return this.decisionToState.push(T),T.decision=this.decisionToState.length-1,this.decisionToDFA.push(new s.DFA(T,T.decision)),T.decision}getDecisionState(T){if(this.decisionToState.length>0)return this.decisionToState[T]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(T,y){if(T<0||T>=this.states.length)throw new RangeError("Invalid state number.");let v=y,_=this.states[T],S=this.nextTokens(_);if(!S.contains(c.Token.EPSILON))return S;let E=new i.IntervalSet;for(E.addAll(S),E.remove(c.Token.EPSILON);v!=null&&v.invokingState>=0&&S.contains(c.Token.EPSILON);){let x=this.states[v.invokingState].transition(0);S=this.nextTokens(x.followState),E.addAll(S),E.remove(c.Token.EPSILON),v=v._parent}return S.contains(c.Token.EPSILON)&&E.add(c.Token.EOF),E}};t([l.NotNull],d.prototype,"states",void 0),t([l.NotNull],d.prototype,"decisionToState",void 0),t([l.NotNull],d.prototype,"modeNameToStartState",void 0),t([l.NotNull],d.prototype,"modeToStartState",void 0),t([l.NotNull],d.prototype,"decisionToDFA",void 0),t([l.NotNull],d.prototype,"modeToDFA",void 0),t([l.NotNull],d.prototype,"nextTokens",null),t([e(0,l.NotNull)],d.prototype,"removeState",null),t([e(0,l.NotNull),e(1,l.NotNull)],d.prototype,"defineMode",null),t([e(0,l.NotNull)],d.prototype,"defineDecisionState",null),t([l.NotNull],d.prototype,"getExpectedTokens",null),d=t([e(0,l.NotNull)],d),r.ATN=d,function(m){m.INVALID_ALT_NUMBER=0}(d=r.ATN||(r.ATN={})),r.ATN=d}(Wc)),Wc}var Fu={},Pu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var $i=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},CS=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.LexerIndexedCustomAction=void 0;const sl=oe,zi=tt;let gn=class by{constructor(t,e){this._offset=t,this._action=e}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(t){this._action.execute(t)}hashCode(){let t=sl.MurmurHash.initialize();return t=sl.MurmurHash.update(t,this._offset),t=sl.MurmurHash.update(t,this._action),sl.MurmurHash.finish(t,2)}equals(t){return t===this?!0:t instanceof by?this._offset===t._offset&&this._action.equals(t._action):!1}};$i([zi.NotNull],gn.prototype,"action",null);$i([zi.Override],gn.prototype,"actionType",null);$i([zi.Override],gn.prototype,"isPositionDependent",null);$i([zi.Override],gn.prototype,"execute",null);$i([zi.Override],gn.prototype,"hashCode",null);$i([zi.Override],gn.prototype,"equals",null);gn=$i([CS(1,zi.NotNull)],gn);Pu.LexerIndexedCustomAction=gn;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var qi=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},df=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.LexerActionExecutor=void 0;const IS=ki,Zc=Pu,th=oe,$n=tt;let _n=class Jo{constructor(t){this._lexerActions=t;let e=th.MurmurHash.initialize();for(let n of t)e=th.MurmurHash.update(e,n);this.cachedHashCode=th.MurmurHash.finish(e,t.length)}static append(t,e){if(!t)return new Jo([e]);let n=t._lexerActions.slice(0);return n.push(e),new Jo(n)}fixOffsetBeforeMatch(t){let e;for(let n=0;n<this._lexerActions.length;n++)this._lexerActions[n].isPositionDependent&&!(this._lexerActions[n]instanceof Zc.LexerIndexedCustomAction)&&(e||(e=this._lexerActions.slice(0)),e[n]=new Zc.LexerIndexedCustomAction(t,this._lexerActions[n]));return e?new Jo(e):this}get lexerActions(){return this._lexerActions}execute(t,e,n){let s=!1,i=e.index;try{for(let o of this._lexerActions){if(o instanceof Zc.LexerIndexedCustomAction){let a=o.offset;e.seek(n+a),o=o.action,s=n+a!==i}else o.isPositionDependent&&(e.seek(i),s=!1);o.execute(t)}}finally{s&&e.seek(i)}}hashCode(){return this.cachedHashCode}equals(t){return t===this?!0:t instanceof Jo?this.cachedHashCode===t.cachedHashCode&&IS.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,t._lexerActions):!1}};qi([$n.NotNull],_n.prototype,"_lexerActions",void 0);qi([$n.NotNull],_n.prototype,"lexerActions",null);qi([df(0,$n.NotNull)],_n.prototype,"execute",null);qi([$n.Override],_n.prototype,"hashCode",null);qi([$n.Override],_n.prototype,"equals",null);qi([$n.NotNull,df(1,$n.NotNull)],_n,"append",null);_n=qi([df(0,$n.NotNull)],_n);Fu.LexerActionExecutor=_n;var Vi={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var pf=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},DS=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.LexerNoViableAltException=void 0;const RS=Xr,yf=tt,FS=Oe,PS=me;let aa=class extends RS.RecognitionException{constructor(t,e,n,s){super(t,e),this._startIndex=n,this._deadEndConfigs=s}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let t="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(t=this.inputStream.getText(FS.Interval.of(this._startIndex,this._startIndex)),t=PS.escapeWhitespace(t,!1)),`LexerNoViableAltException('${t}')`}};pf([yf.Override],aa.prototype,"inputStream",null);pf([yf.Override],aa.prototype,"toString",null);aa=pf([DS(1,yf.NotNull)],aa);Vi.LexerNoViableAltException=aa;var lo={},ep;function LS(){if(ep)return lo;ep=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var c=s.length-1;c>=0;c--)(h=s[c])&&(u=(l<3?h(u):l>3?h(i,o,u):h(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u};Object.defineProperty(lo,"__esModule",{value:!0}),lo.OrderedATNConfigSet=void 0;const t=Ea(),e=tt;let n=class Ey extends t.ATNConfigSet{constructor(i,o){i!=null&&o!=null?super(i,o):super()}clone(i){let o=new Ey(this,i);return!i&&this.isReadOnly&&o.addAll(this),o}getKey(i){return{state:0,alt:i.hashCode()}}canMerge(i,o,a){return i.equals(a)}};return r([e.Override],n.prototype,"clone",null),r([e.Override],n.prototype,"getKey",null),r([e.Override],n.prototype,"canMerge",null),lo.OrderedATNConfigSet=n,lo}var rp;function Lu(){return rp||(rp=1,function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(N,x,O,p){var b=arguments.length,F=b<3?x:p===null?p=Object.getOwnPropertyDescriptor(x,O):p,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(N,x,O,p);else for(var k=N.length-1;k>=0;k--)(j=N[k])&&(F=(b<3?j(F):b>3?j(x,O,F):j(x,O))||F);return b>3&&F&&Object.defineProperty(x,O,F),F},e=w&&w.__param||function(N,x){return function(O,p){x(O,p,N)}};Object.defineProperty(r,"__esModule",{value:!0}),r.LexerATNSimulator=void 0;const n=ba,s=Zr(),i=Ui,o=Ea(),a=Iu(),l=Cu(),u=Oe,h=En,c=Zn(),f=Fu,d=Vi,m=tt,T=LS(),y=Ar(),v=Qn,_=te,S=Le();let E=class Je extends a.ATNSimulator{constructor(x,O){super(x),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=c.Lexer.DEFAULT_MODE,this.prevAccept=new Je.SimState,this.recog=O}copyState(x){this._charPositionInLine=x.charPositionInLine,this._line=x._line,this.mode=x.mode,this.startIndex=x.startIndex}match(x,O){this.mode=O;let p=x.mark();try{this.startIndex=x.index,this.prevAccept.reset();let b=this.atn.modeToDFA[O].s0;return b==null?this.matchATN(x):this.execATN(x,b)}finally{x.release(p)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=c.Lexer.DEFAULT_MODE}matchATN(x){let O=this.atn.modeToStartState[this.mode];Je.debug&&console.log(`matchATN mode ${this.mode} start: ${O}`);let p=this.mode,b=this.computeStartState(x,O),F=b.hasSemanticContext;F&&(b.hasSemanticContext=!1);let j=this.addDFAState(b);if(!F){let K=this.atn.modeToDFA[this.mode];K.s0?j=K.s0:K.s0=j}let k=this.execATN(x,j);return Je.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[p].toLexerString()}`),k}execATN(x,O){Je.debug&&console.log(`start state closure=${O.configs}`),O.isAcceptState&&this.captureSimState(this.prevAccept,x,O);let p=x.LA(1),b=O;for(;;){Je.debug&&console.log(`execATN loop starting closure: ${b.configs}`);let F=this.getExistingTargetState(b,p);if(F==null&&(F=this.computeTargetState(x,b,p)),F===a.ATNSimulator.ERROR||(p!==h.IntStream.EOF&&this.consume(x),F.isAcceptState&&(this.captureSimState(this.prevAccept,x,F),p===h.IntStream.EOF)))break;p=x.LA(1),b=F}return this.failOrAccept(this.prevAccept,x,b.configs,p)}getExistingTargetState(x,O){let p=x.getTarget(O);return Je.debug&&p!=null&&console.log("reuse state "+x.stateNumber+" edge to "+p.stateNumber),p}computeTargetState(x,O,p){let b=new T.OrderedATNConfigSet;return this.getReachableConfigSet(x,O.configs,b,p),b.isEmpty?(b.hasSemanticContext||this.addDFAEdge(O,p,a.ATNSimulator.ERROR),a.ATNSimulator.ERROR):this.addDFAEdge(O,p,b)}failOrAccept(x,O,p,b){if(x.dfaState!=null){let F=x.dfaState.lexerActionExecutor;return this.accept(O,F,this.startIndex,x.index,x.line,x.charPos),x.dfaState.prediction}else{if(b===h.IntStream.EOF&&O.index===this.startIndex)return _.Token.EOF;throw new d.LexerNoViableAltException(this.recog,O,this.startIndex,p)}}getReachableConfigSet(x,O,p,b){let F=s.ATN.INVALID_ALT_NUMBER;for(let j of O){let k=j.alt===F;if(k&&j.hasPassedThroughNonGreedyDecision)continue;Je.debug&&console.log(`testing ${this.getTokenName(b)} at ${j.toString(this.recog,!0)}`);let K=j.state.numberOfOptimizedTransitions;for(let it=0;it<K;it++){let st=j.state.getOptimizedTransition(it),ut=this.getReachableTarget(st,b);if(ut!=null){let at=j.lexerActionExecutor,ht;at!=null?(at=at.fixOffsetBeforeMatch(x.index-this.startIndex),ht=j.transform(ut,!0,at)):(S(j.lexerActionExecutor==null),ht=j.transform(ut,!0));let G=b===h.IntStream.EOF;if(this.closure(x,ht,p,k,!0,G)){F=j.alt;break}}}}}accept(x,O,p,b,F,j){Je.debug&&console.log(`ACTION ${O}`),x.seek(b),this._line=F,this._charPositionInLine=j,O!=null&&this.recog!=null&&O.execute(this.recog,x,p)}getReachableTarget(x,O){if(x.matches(O,c.Lexer.MIN_CHAR_VALUE,c.Lexer.MAX_CHAR_VALUE))return x.target}computeStartState(x,O){let p=y.PredictionContext.EMPTY_FULL,b=new T.OrderedATNConfigSet;for(let F=0;F<O.numberOfTransitions;F++){let j=O.transition(F).target,k=i.ATNConfig.create(j,F+1,p);this.closure(x,k,b,!1,!1,!1)}return b}closure(x,O,p,b,F,j){if(Je.debug&&console.log("closure("+O.toString(this.recog,!0)+")"),O.state instanceof v.RuleStopState){Je.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[O.state.ruleIndex]} rule stop ${O}`):console.log(`closure at rule stop ${O}`));let K=O.context;if(K.isEmpty)return p.add(O),!0;K.hasEmpty&&(p.add(O.transform(O.state,!0,y.PredictionContext.EMPTY_FULL)),b=!0);for(let it=0;it<K.size;it++){let st=K.getReturnState(it);if(st===y.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let ut=K.getParent(it),at=this.atn.states[st],ht=O.transform(at,!1,ut);b=this.closure(x,ht,p,b,F,j)}return b}O.state.onlyHasEpsilonTransitions||(!b||!O.hasPassedThroughNonGreedyDecision)&&p.add(O);let k=O.state;for(let K=0;K<k.numberOfOptimizedTransitions;K++){let it=k.getOptimizedTransition(K),st=this.getEpsilonTarget(x,O,it,p,F,j);st!=null&&(b=this.closure(x,st,p,b,F,j))}return b}getEpsilonTarget(x,O,p,b,F,j){let k;switch(p.serializationType){case 3:let K=p;if(this.optimize_tail_calls&&K.optimizedTailCall&&!O.context.hasEmpty)k=O.transform(p.target,!0);else{let st=O.context.getChild(K.followState.stateNumber);k=O.transform(p.target,!0,st)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let it=p;Je.debug&&console.log("EVAL rule "+it.ruleIndex+":"+it.predIndex),b.hasSemanticContext=!0,this.evaluatePredicate(x,it.ruleIndex,it.predIndex,F)?k=O.transform(p.target,!0):k=void 0;break;case 6:if(O.context.hasEmpty){let st=f.LexerActionExecutor.append(O.lexerActionExecutor,this.atn.lexerActions[p.actionIndex]);k=O.transform(p.target,!0,st);break}else{k=O.transform(p.target,!0);break}case 1:k=O.transform(p.target,!0);break;case 5:case 2:case 7:if(j&&p.matches(h.IntStream.EOF,c.Lexer.MIN_CHAR_VALUE,c.Lexer.MAX_CHAR_VALUE)){k=O.transform(p.target,!1);break}k=void 0;break;default:k=void 0;break}return k}evaluatePredicate(x,O,p,b){if(this.recog==null)return!0;if(!b)return this.recog.sempred(void 0,O,p);let F=this._charPositionInLine,j=this._line,k=x.index,K=x.mark();try{return this.consume(x),this.recog.sempred(void 0,O,p)}finally{this._charPositionInLine=F,this._line=j,x.seek(k),x.release(K)}}captureSimState(x,O,p){x.index=O.index,x.line=this._line,x.charPos=this._charPositionInLine,x.dfaState=p}addDFAEdge(x,O,p){if(p instanceof o.ATNConfigSet){let b=p.hasSemanticContext;b&&(p.hasSemanticContext=!1);let F=this.addDFAState(p);return b||this.addDFAEdge(x,O,F),F}else Je.debug&&console.log("EDGE "+x+" -> "+p+" upon "+String.fromCharCode(O)),x!=null&&x.setTarget(O,p)}addDFAState(x){S(!x.hasSemanticContext);let O=new l.DFAState(x),p=this.atn.modeToDFA[this.mode].states.get(O);if(p!=null)return p;x.optimizeConfigs(this);let b=new l.DFAState(x.clone(!0)),F;for(let j of x)if(j.state instanceof v.RuleStopState){F=j;break}if(F!=null){let j=this.atn.ruleToTokenType[F.state.ruleIndex],k=F.lexerActionExecutor;b.acceptStateInfo=new n.AcceptStateInfo(j,k)}return this.atn.modeToDFA[this.mode].addState(b)}getDFA(x){return this.atn.modeToDFA[x]}getText(x){return x.getText(u.Interval.of(this.startIndex,x.index-1))}get line(){return this._line}set line(x){this._line=x}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(x){this._charPositionInLine=x}consume(x){x.LA(1)===10?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,x.consume()}getTokenName(x){return x===-1?"EOF":"'"+String.fromCharCode(x)+"'"}};t([m.NotNull],E.prototype,"prevAccept",void 0),t([e(0,m.NotNull)],E.prototype,"copyState",null),t([e(0,m.NotNull)],E.prototype,"match",null),t([m.Override],E.prototype,"reset",null),t([e(0,m.NotNull)],E.prototype,"matchATN",null),t([e(0,m.NotNull),e(1,m.NotNull)],E.prototype,"execATN",null),t([e(0,m.NotNull)],E.prototype,"getExistingTargetState",null),t([m.NotNull,e(0,m.NotNull),e(1,m.NotNull)],E.prototype,"computeTargetState",null),t([e(0,m.NotNull),e(1,m.NotNull),e(2,m.NotNull)],E.prototype,"getReachableConfigSet",null),t([e(0,m.NotNull)],E.prototype,"accept",null),t([m.NotNull,e(0,m.NotNull),e(1,m.NotNull)],E.prototype,"computeStartState",null),t([e(0,m.NotNull),e(1,m.NotNull),e(2,m.NotNull)],E.prototype,"closure",null),t([e(0,m.NotNull),e(1,m.NotNull),e(2,m.NotNull),e(3,m.NotNull)],E.prototype,"getEpsilonTarget",null),t([e(0,m.NotNull)],E.prototype,"evaluatePredicate",null),t([e(0,m.NotNull),e(1,m.NotNull),e(2,m.NotNull)],E.prototype,"captureSimState",null),t([m.NotNull,e(0,m.NotNull)],E.prototype,"addDFAState",null),t([m.NotNull],E.prototype,"getDFA",null),t([m.NotNull,e(0,m.NotNull)],E.prototype,"getText",null),t([e(0,m.NotNull)],E.prototype,"consume",null),t([m.NotNull],E.prototype,"getTokenName",null),E=t([e(0,m.NotNull)],E),r.LexerATNSimulator=E,function(N){N.debug=!1,N.dfa_debug=!1;class x{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}N.SimState=x}(E=r.LexerATNSimulator||(r.LexerATNSimulator={})),r.LexerATNSimulator=E}(Hc)),Hc}var np;function Zn(){if(np)return Zs;np=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(c,f,d,m){var T=arguments.length,y=T<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,d):m,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(c,f,d,m);else for(var _=c.length-1;_>=0;_--)(v=c[_])&&(y=(T<3?v(y):T>3?v(f,d,y):v(f,d))||y);return T>3&&y&&Object.defineProperty(f,d,y),y};Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.Lexer=void 0;const t=Ou,e=Sa,n=Oe,s=En,i=Lu(),o=Vi,a=tt,l=Xn,u=te;let h=class Ln extends l.Recognizer{constructor(f){super(),this._factory=t.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new e.IntegerStack,this._mode=Ln.DEFAULT_MODE,this._input=f,this._tokenFactorySourcePair={source:this,stream:f}}static get DEFAULT_TOKEN_CHANNEL(){return u.Token.DEFAULT_CHANNEL}static get HIDDEN(){return u.Token.HIDDEN_CHANNEL}reset(f){(f===void 0||f)&&this._input.seek(0),this._token=void 0,this._type=u.Token.INVALID_TYPE,this._channel=u.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=Ln.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let f=this._input.mark();try{t:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=u.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=u.Token.INVALID_TYPE;let d;try{d=this.interpreter.match(this._input,this._mode)}catch(m){if(m instanceof o.LexerNoViableAltException)this.notifyListeners(m),this.recover(m),d=Ln.SKIP;else throw m}if(this._input.LA(1)===s.IntStream.EOF&&(this._hitEOF=!0),this._type===u.Token.INVALID_TYPE&&(this._type=d),this._type===Ln.SKIP)continue t}while(this._type===Ln.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(f)}}skip(){this._type=Ln.SKIP}more(){this._type=Ln.MORE}mode(f){this._mode=f}pushMode(f){i.LexerATNSimulator.debug&&console.log("pushMode "+f),this._modeStack.push(this._mode),this.mode(f)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return i.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(f){this._factory=f}get inputStream(){return this._input}set inputStream(f){this.reset(!1),this._input=f,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(f){return f||(f=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=f,f}emitEOF(){let f=this.charPositionInLine,d=this.line,m=this._factory.create(this._tokenFactorySourcePair,u.Token.EOF,void 0,u.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,d,f);return this.emit(m),m}get line(){return this.interpreter.line}set line(f){this.interpreter.line=f}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(f){this.interpreter.charPositionInLine=f}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(f){this._text=f}get token(){return this._token}set token(f){this._token=f}set type(f){this._type=f}get type(){return this._type}set channel(f){this._channel=f}get channel(){return this._channel}getAllTokens(){let f=[],d=this.nextToken();for(;d.type!==u.Token.EOF;)f.push(d),d=this.nextToken();return f}notifyListeners(f){let d=this._input.getText(n.Interval.of(this._tokenStartCharIndex,this._input.index)),m="token recognition error at: '"+this.getErrorDisplay(d)+"'",T=this.getErrorListenerDispatch();T.syntaxError&&T.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,m,f)}getErrorDisplay(f){if(typeof f=="number"){switch(f){case u.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(f)}return f.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(f){return"'"+this.getErrorDisplay(f)+"'"}recover(f){f instanceof o.LexerNoViableAltException?this._input.LA(1)!==s.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};return h.DEFAULT_MODE=0,h.MORE=-2,h.SKIP=-3,h.MIN_CHAR_VALUE=0,h.MAX_CHAR_VALUE=1114111,r([a.Override],h.prototype,"nextToken",null),r([a.Override],h.prototype,"tokenFactory",null),r([a.Override],h.prototype,"inputStream",null),r([a.Override],h.prototype,"sourceName",null),r([a.Override],h.prototype,"line",null),r([a.Override],h.prototype,"charPositionInLine",null),Zs.Lexer=h,Zs}var ip;function Hi(){if(ip)return Qs;ip=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(h,c,f,d){var m=arguments.length,T=m<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(h,c,f,d);else for(var v=h.length-1;v>=0;v--)(y=h[v])&&(T=(m<3?y(T):m>3?y(c,f,T):y(c,f))||T);return m>3&&T&&Object.defineProperty(c,f,T),T},t=w&&w.__param||function(h,c){return function(f,d){c(f,d,h)}};Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.IntervalSet=void 0;const e=ki,n=Ps,s=Oe,i=Zn(),o=oe,a=tt,l=te;let u=class Vt{constructor(c){this.readonly=!1,c!=null?this._intervals=c.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return Vt._COMPLETE_CHAR_SET===void 0&&(Vt._COMPLETE_CHAR_SET=Vt.of(i.Lexer.MIN_CHAR_VALUE,i.Lexer.MAX_CHAR_VALUE),Vt._COMPLETE_CHAR_SET.setReadonly(!0)),Vt._COMPLETE_CHAR_SET}static get EMPTY_SET(){return Vt._EMPTY_SET==null&&(Vt._EMPTY_SET=new Vt,Vt._EMPTY_SET.setReadonly(!0)),Vt._EMPTY_SET}static of(c,f=c){let d=new Vt;return d.add(c,f),d}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(c,f=c){this.addRange(s.Interval.of(c,f))}addRange(c){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(c.b<c.a)){for(let f=0;f<this._intervals.length;f++){let d=this._intervals[f];if(c.equals(d))return;if(c.adjacent(d)||!c.disjoint(d)){let m=c.union(d);for(this._intervals[f]=m;f<this._intervals.length-1;){f++;let T=this._intervals[f];if(!m.adjacent(T)&&m.disjoint(T))break;this._intervals.splice(f,1),f--,this._intervals[f]=m.union(T)}return}if(c.startsBeforeDisjoint(d)){this._intervals.splice(f,0,c);return}}this._intervals.push(c)}}static or(c){let f=new Vt;for(let d of c)f.addAll(d);return f}addAll(c){if(c==null)return this;if(c instanceof Vt){let f=c,d=f._intervals.length;for(let m=0;m<d;m++){let T=f._intervals[m];this.add(T.a,T.b)}}else for(let f of c.toArray())this.add(f);return this}complementRange(c,f){return this.complement(Vt.of(c,f))}complement(c){if(c.isNil)return Vt.EMPTY_SET;let f;return c instanceof Vt?f=c:(f=new Vt,f.addAll(c)),f.subtract(this)}subtract(c){if(c==null||c.isNil)return new Vt(this._intervals);if(c instanceof Vt)return Vt.subtract(this,c);let f=new Vt;return f.addAll(c),Vt.subtract(this,f)}static subtract(c,f){if(c.isNil)return new Vt;let d=new Vt(c._intervals);if(f.isNil)return d;let m=0,T=0;for(;m<d._intervals.length&&T<f._intervals.length;){let y=d._intervals[m],v=f._intervals[T];if(v.b<y.a){T++;continue}if(v.a>y.b){m++;continue}let _,S;if(v.a>y.a&&(_=new s.Interval(y.a,v.a-1)),v.b<y.b&&(S=new s.Interval(v.b+1,y.b)),_)if(S){d._intervals[m]=_,d._intervals.splice(m+1,0,S),m++,T++;continue}else{d._intervals[m]=_,m++;continue}else if(S){d._intervals[m]=S,T++;continue}else{d._intervals.splice(m,1);continue}}return d}or(c){let f=new Vt;return f.addAll(this),f.addAll(c),f}and(c){if(c.isNil)return new Vt;let f=this._intervals,d=c._intervals,m,T=f.length,y=d.length,v=0,_=0;for(;v<T&&_<y;){let S=f[v],E=d[_];S.startsBeforeDisjoint(E)?v++:E.startsBeforeDisjoint(S)?_++:S.properlyContains(E)?(m||(m=new Vt),m.addRange(S.intersection(E)),_++):E.properlyContains(S)?(m||(m=new Vt),m.addRange(S.intersection(E)),v++):S.disjoint(E)||(m||(m=new Vt),m.addRange(S.intersection(E)),S.startsAfterNonDisjoint(E)?_++:E.startsAfterNonDisjoint(S)&&v++)}return m||new Vt}contains(c){let f=this._intervals.length,d=0,m=f-1;for(;d<=m;){let T=d+m>>1,y=this._intervals[T],v=y.a;if(y.b<c)d=T+1;else if(v>c)m=T-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let c=o.MurmurHash.initialize();for(let f of this._intervals)c=o.MurmurHash.update(c,f.a),c=o.MurmurHash.update(c,f.b);return c=o.MurmurHash.finish(c,this._intervals.length*2),c}equals(c){return c==null||!(c instanceof Vt)?!1:e.ArrayEqualityComparator.INSTANCE.equals(this._intervals,c._intervals)}toString(c=!1){let f="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(f+="{");let d=!0;for(let m of this._intervals){d?d=!1:f+=", ";let T=m.a,y=m.b;T===y?T===l.Token.EOF?f+="<EOF>":c?f+="'"+String.fromCodePoint(T)+"'":f+=T:c?f+="'"+String.fromCodePoint(T)+"'..'"+String.fromCodePoint(y)+"'":f+=T+".."+y}return this.size>1&&(f+="}"),f}toStringVocabulary(c){if(this._intervals==null||this._intervals.length===0)return"{}";let f="";this.size>1&&(f+="{");let d=!0;for(let m of this._intervals){d?d=!1:f+=", ";let T=m.a,y=m.b;if(T===y)f+=this.elementName(c,T);else for(let v=T;v<=y;v++)v>T&&(f+=", "),f+=this.elementName(c,v)}return this.size>1&&(f+="}"),f}elementName(c,f){return f===l.Token.EOF?"<EOF>":f===l.Token.EPSILON?"<EPSILON>":c.getDisplayName(f)}get size(){let c=0,f=this._intervals.length;if(f===1){let d=this._intervals[0];return d.b-d.a+1}for(let d=0;d<f;d++){let m=this._intervals[d];c+=m.b-m.a+1}return c}toIntegerList(){let c=new n.IntegerList(this.size),f=this._intervals.length;for(let d=0;d<f;d++){let m=this._intervals[d],T=m.a,y=m.b;for(let v=T;v<=y;v++)c.add(v)}return c}toSet(){let c=new Set;for(let f of this._intervals){let d=f.a,m=f.b;for(let T=d;T<=m;T++)c.add(T)}return c}toArray(){let c=new Array,f=this._intervals.length;for(let d=0;d<f;d++){let m=this._intervals[d],T=m.a,y=m.b;for(let v=T;v<=y;v++)c.push(v)}return c}remove(c){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let f=this._intervals.length;for(let d=0;d<f;d++){let m=this._intervals[d],T=m.a,y=m.b;if(c<T)break;if(c===T&&c===y){this._intervals.splice(d,1);break}if(c===T){this._intervals[d]=s.Interval.of(m.a+1,m.b);break}if(c===y){this._intervals[d]=s.Interval.of(m.a,m.b-1);break}if(c>T&&c<y){let v=m.b;this._intervals[d]=s.Interval.of(m.a,c-1),this.add(c+1,v)}}}get isReadonly(){return this.readonly}setReadonly(c){if(this.readonly&&!c)throw new Error("can't alter readonly IntervalSet");this.readonly=c}};return r([a.Override],u.prototype,"addAll",null),r([a.Override],u.prototype,"complement",null),r([a.Override],u.prototype,"subtract",null),r([a.Override],u.prototype,"or",null),r([a.Override],u.prototype,"and",null),r([a.Override],u.prototype,"contains",null),r([a.Override],u.prototype,"isNil",null),r([a.Override],u.prototype,"hashCode",null),r([a.Override],u.prototype,"equals",null),r([t(0,a.NotNull)],u.prototype,"toStringVocabulary",null),r([a.NotNull,t(0,a.NotNull)],u.prototype,"elementName",null),r([a.Override],u.prototype,"size",null),r([a.Override],u.prototype,"remove",null),r([a.NotNull],u,"of",null),r([a.NotNull],u,"subtract",null),Qs.IntervalSet=u,Qs}var uo={},co={},Ca={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var BS=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.ATNDeserializationOptions=void 0;const MS=tt;class jn{constructor(t){this.readOnly=!1,t?(this.verifyATN=t.verifyATN,this.generateRuleBypassTransitions=t.generateRuleBypassTransitions,this.optimize=t.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return jn._defaultOptions==null&&(jn._defaultOptions=new jn,jn._defaultOptions.makeReadOnly()),jn._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(t){this.throwIfReadOnly(),this.verifyATN=t}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(t){this.throwIfReadOnly(),this.generateRuleBypassTransitions=t}get isOptimize(){return this.optimize}set isOptimize(t){this.throwIfReadOnly(),this.optimize=t}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}}BS([MS.NotNull],jn,"defaultOptions",null);Ca.ATNDeserializationOptions=jn;var ho={},Ia={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Da=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},kS=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.ActionTransition=void 0;const Ra=tt,jS=br;let Ai=class extends jS.Transition{constructor(t,e,n=-1,s=!1){super(t),this.ruleIndex=e,this.actionIndex=n,this.isCtxDependent=s}get serializationType(){return 6}get isEpsilon(){return!0}matches(t,e,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};Da([Ra.Override],Ai.prototype,"serializationType",null);Da([Ra.Override],Ai.prototype,"isEpsilon",null);Da([Ra.Override],Ai.prototype,"matches",null);Da([Ra.Override],Ai.prototype,"toString",null);Ai=Da([kS(0,Ra.NotNull)],Ai);Ia.ActionTransition=Ai;var Fa={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Pa=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},US=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.AtomTransition=void 0;const $S=Hi(),Ti=tt,zS=br;let Ni=class extends zS.Transition{constructor(t,e){super(t),this._label=e}get serializationType(){return 5}get label(){return $S.IntervalSet.of(this._label)}matches(t,e,n){return this._label===t}toString(){return String(this.label)}};Pa([Ti.Override],Ni.prototype,"serializationType",null);Pa([Ti.Override,Ti.NotNull],Ni.prototype,"label",null);Pa([Ti.Override],Ni.prototype,"matches",null);Pa([Ti.Override,Ti.NotNull],Ni.prototype,"toString",null);Ni=Pa([US(0,Ti.NotNull)],Ni);Fa.AtomTransition=Ni;var Bu={},Wi={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Wi,"__esModule",{value:!0});Wi.BlockStartState=void 0;const qS=Jr;class VS extends qS.DecisionState{}Wi.BlockStartState=VS;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var HS=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.BasicBlockStartState=void 0;const WS=Se,YS=Wi,GS=tt;class Ay extends YS.BlockStartState{get stateType(){return WS.ATNStateType.BLOCK_START}}HS([GS.Override],Ay.prototype,"stateType",null);Bu.BasicBlockStartState=Ay;var Mu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var KS=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.BlockEndState=void 0;const XS=Kr,JS=Se,QS=tt;class Ty extends XS.ATNState{get stateType(){return JS.ATNStateType.BLOCK_END}}KS([QS.Override],Ty.prototype,"stateType",null);Mu.BlockEndState=Ty;var ku={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var La=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},ZS=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(ku,"__esModule",{value:!0});ku.EpsilonTransition=void 0;const bs=tt,tb=br;let wi=class extends tb.Transition{constructor(t,e=-1){super(t),this._outermostPrecedenceReturn=e}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(t,e,n){return!1}toString(){return"epsilon"}};La([bs.Override],wi.prototype,"serializationType",null);La([bs.Override],wi.prototype,"isEpsilon",null);La([bs.Override],wi.prototype,"matches",null);La([bs.Override,bs.NotNull],wi.prototype,"toString",null);wi=La([ZS(0,bs.NotNull)],wi);ku.EpsilonTransition=wi;var ju={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ks=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},eb=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(ju,"__esModule",{value:!0});ju.LexerChannelAction=void 0;const ol=oe,Oi=tt;class Nn{constructor(t){this._channel=t}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(t){t.channel=this._channel}hashCode(){let t=ol.MurmurHash.initialize();return t=ol.MurmurHash.update(t,this.actionType),t=ol.MurmurHash.update(t,this._channel),ol.MurmurHash.finish(t,2)}equals(t){return t===this?!0:t instanceof Nn?this._channel===t._channel:!1}toString(){return`channel(${this._channel})`}}ks([Oi.Override],Nn.prototype,"actionType",null);ks([Oi.Override],Nn.prototype,"isPositionDependent",null);ks([Oi.Override,eb(0,Oi.NotNull)],Nn.prototype,"execute",null);ks([Oi.Override],Nn.prototype,"hashCode",null);ks([Oi.Override],Nn.prototype,"equals",null);ks([Oi.Override],Nn.prototype,"toString",null);ju.LexerChannelAction=Nn;var Uu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ba=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},rb=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.LexerCustomAction=void 0;const fo=oe,Es=tt;class ti{constructor(t,e){this._ruleIndex=t,this._actionIndex=e}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(t){t.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let t=fo.MurmurHash.initialize();return t=fo.MurmurHash.update(t,this.actionType),t=fo.MurmurHash.update(t,this._ruleIndex),t=fo.MurmurHash.update(t,this._actionIndex),fo.MurmurHash.finish(t,3)}equals(t){return t===this?!0:t instanceof ti?this._ruleIndex===t._ruleIndex&&this._actionIndex===t._actionIndex:!1}}Ba([Es.Override],ti.prototype,"actionType",null);Ba([Es.Override],ti.prototype,"isPositionDependent",null);Ba([Es.Override,rb(0,Es.NotNull)],ti.prototype,"execute",null);Ba([Es.Override],ti.prototype,"hashCode",null);Ba([Es.Override],ti.prototype,"equals",null);Uu.LexerCustomAction=ti;var $u={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var js=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},nb=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty($u,"__esModule",{value:!0});$u.LexerModeAction=void 0;const al=oe,Ci=tt;class wn{constructor(t){this._mode=t}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(t){t.mode(this._mode)}hashCode(){let t=al.MurmurHash.initialize();return t=al.MurmurHash.update(t,this.actionType),t=al.MurmurHash.update(t,this._mode),al.MurmurHash.finish(t,2)}equals(t){return t===this?!0:t instanceof wn?this._mode===t._mode:!1}toString(){return`mode(${this._mode})`}}js([Ci.Override],wn.prototype,"actionType",null);js([Ci.Override],wn.prototype,"isPositionDependent",null);js([Ci.Override,nb(0,Ci.NotNull)],wn.prototype,"execute",null);js([Ci.Override],wn.prototype,"hashCode",null);js([Ci.Override],wn.prototype,"equals",null);js([Ci.Override],wn.prototype,"toString",null);$u.LexerModeAction=wn;var Ny={};(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(o,a,l,u){var h=arguments.length,c=h<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,a,l,u);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(h<3?f(c):h>3?f(a,l,c):f(a,l))||c);return h>3&&c&&Object.defineProperty(a,l,c),c},e=w&&w.__param||function(o,a){return function(l,u){a(l,u,o)}};Object.defineProperty(r,"__esModule",{value:!0}),r.LexerMoreAction=void 0;const n=oe,s=tt;class i{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(a){a.more()}hashCode(){let a=n.MurmurHash.initialize();return a=n.MurmurHash.update(a,this.actionType),n.MurmurHash.finish(a,1)}equals(a){return a===this}toString(){return"more"}}t([s.Override],i.prototype,"actionType",null),t([s.Override],i.prototype,"isPositionDependent",null),t([s.Override,e(0,s.NotNull)],i.prototype,"execute",null),t([s.Override],i.prototype,"hashCode",null),t([s.Override],i.prototype,"equals",null),t([s.Override],i.prototype,"toString",null),r.LexerMoreAction=i,function(o){o.INSTANCE=new o}(i=r.LexerMoreAction||(r.LexerMoreAction={}))})(Ny);var wy={};(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(o,a,l,u){var h=arguments.length,c=h<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,a,l,u);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(h<3?f(c):h>3?f(a,l,c):f(a,l))||c);return h>3&&c&&Object.defineProperty(a,l,c),c},e=w&&w.__param||function(o,a){return function(l,u){a(l,u,o)}};Object.defineProperty(r,"__esModule",{value:!0}),r.LexerPopModeAction=void 0;const n=oe,s=tt;class i{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(a){a.popMode()}hashCode(){let a=n.MurmurHash.initialize();return a=n.MurmurHash.update(a,this.actionType),n.MurmurHash.finish(a,1)}equals(a){return a===this}toString(){return"popMode"}}t([s.Override],i.prototype,"actionType",null),t([s.Override],i.prototype,"isPositionDependent",null),t([s.Override,e(0,s.NotNull)],i.prototype,"execute",null),t([s.Override],i.prototype,"hashCode",null),t([s.Override],i.prototype,"equals",null),t([s.Override],i.prototype,"toString",null),r.LexerPopModeAction=i,function(o){o.INSTANCE=new o}(i=r.LexerPopModeAction||(r.LexerPopModeAction={}))})(wy);var zu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Us=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},ib=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(zu,"__esModule",{value:!0});zu.LexerPushModeAction=void 0;const ll=oe,Ii=tt;class On{constructor(t){this._mode=t}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(t){t.pushMode(this._mode)}hashCode(){let t=ll.MurmurHash.initialize();return t=ll.MurmurHash.update(t,this.actionType),t=ll.MurmurHash.update(t,this._mode),ll.MurmurHash.finish(t,2)}equals(t){return t===this?!0:t instanceof On?this._mode===t._mode:!1}toString(){return`pushMode(${this._mode})`}}Us([Ii.Override],On.prototype,"actionType",null);Us([Ii.Override],On.prototype,"isPositionDependent",null);Us([Ii.Override,ib(0,Ii.NotNull)],On.prototype,"execute",null);Us([Ii.Override],On.prototype,"hashCode",null);Us([Ii.Override],On.prototype,"equals",null);Us([Ii.Override],On.prototype,"toString",null);zu.LexerPushModeAction=On;var Oy={};(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(o,a,l,u){var h=arguments.length,c=h<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,a,l,u);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(h<3?f(c):h>3?f(a,l,c):f(a,l))||c);return h>3&&c&&Object.defineProperty(a,l,c),c},e=w&&w.__param||function(o,a){return function(l,u){a(l,u,o)}};Object.defineProperty(r,"__esModule",{value:!0}),r.LexerSkipAction=void 0;const n=oe,s=tt;class i{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(a){a.skip()}hashCode(){let a=n.MurmurHash.initialize();return a=n.MurmurHash.update(a,this.actionType),n.MurmurHash.finish(a,1)}equals(a){return a===this}toString(){return"skip"}}t([s.Override],i.prototype,"actionType",null),t([s.Override],i.prototype,"isPositionDependent",null),t([s.Override,e(0,s.NotNull)],i.prototype,"execute",null),t([s.Override],i.prototype,"hashCode",null),t([s.Override],i.prototype,"equals",null),t([s.Override],i.prototype,"toString",null),r.LexerSkipAction=i,function(o){o.INSTANCE=new o}(i=r.LexerSkipAction||(r.LexerSkipAction={}))})(Oy);var qu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var $s=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},sb=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(qu,"__esModule",{value:!0});qu.LexerTypeAction=void 0;const ul=oe,Di=tt;class Cn{constructor(t){this._type=t}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(t){t.type=this._type}hashCode(){let t=ul.MurmurHash.initialize();return t=ul.MurmurHash.update(t,this.actionType),t=ul.MurmurHash.update(t,this._type),ul.MurmurHash.finish(t,2)}equals(t){return t===this?!0:t instanceof Cn?this._type===t._type:!1}toString(){return`type(${this._type})`}}$s([Di.Override],Cn.prototype,"actionType",null);$s([Di.Override],Cn.prototype,"isPositionDependent",null);$s([Di.Override,sb(0,Di.NotNull)],Cn.prototype,"execute",null);$s([Di.Override],Cn.prototype,"hashCode",null);$s([Di.Override],Cn.prototype,"equals",null);$s([Di.Override],Cn.prototype,"toString",null);qu.LexerTypeAction=Cn;var Ma={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ob=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.LoopEndState=void 0;const ab=Kr,lb=Se,ub=tt;class Cy extends ab.ATNState{get stateType(){return lb.ATNStateType.LOOP_END}}ob([ub.Override],Cy.prototype,"stateType",null);Ma.LoopEndState=Cy;var po={},Vu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Iy=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.ConflictInfo=void 0;const Dy=tt,cb=me;class ka{constructor(t,e){this._conflictedAlts=t,this.exact=e}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(t){return t===this?!0:t instanceof ka?this.isExact===t.isExact&&cb.equals(this.conflictedAlts,t.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}}Iy([Dy.Override],ka.prototype,"equals",null);Iy([Dy.Override],ka.prototype,"hashCode",null);Vu.ConflictInfo=ka;var yo={},zs={},In={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var tn=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(In,"__esModule",{value:!0});In.TerminalNode=void 0;const hb=Oe,en=tt,fb=te;class Nr{constructor(t){this._symbol=t}getChild(t){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(t){this._parent=t}get payload(){return this._symbol}get sourceInterval(){let t=this._symbol.tokenIndex;return new hb.Interval(t,t)}get childCount(){return 0}accept(t){return t.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(t){return this.toString()}toString(){return this._symbol.type===fb.Token.EOF?"<EOF>":this._symbol.text||""}}tn([en.Override],Nr.prototype,"getChild",null);tn([en.Override],Nr.prototype,"parent",null);tn([en.Override],Nr.prototype,"setParent",null);tn([en.Override],Nr.prototype,"payload",null);tn([en.Override],Nr.prototype,"sourceInterval",null);tn([en.Override],Nr.prototype,"childCount",null);tn([en.Override],Nr.prototype,"accept",null);tn([en.Override],Nr.prototype,"text",null);tn([en.Override],Nr.prototype,"toStringTree",null);tn([en.Override],Nr.prototype,"toString",null);In.TerminalNode=Nr;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var db=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(zs,"__esModule",{value:!0});zs.ErrorNode=void 0;const pb=tt,yb=In;class Ry extends yb.TerminalNode{constructor(t){super(t)}accept(t){return t.visitErrorNode(this)}}db([pb.Override],Ry.prototype,"accept",null);zs.ErrorNode=Ry;var mo={},qs={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(qs,"__esModule",{value:!0});qs.RuleNode=void 0;class mb{}qs.RuleNode=mb;var xo={},sp;function Yi(){if(sp)return xo;sp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(d,m,T,y){var v=arguments.length,_=v<3?m:y===null?y=Object.getOwnPropertyDescriptor(m,T):y,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(d,m,T,y);else for(var E=d.length-1;E>=0;E--)(S=d[E])&&(_=(v<3?S(_):v>3?S(m,T,_):S(m,T))||_);return v>3&&_&&Object.defineProperty(m,T,_),_},t=w&&w.__param||function(d,m){return function(T,y){m(T,y,d)}};Object.defineProperty(xo,"__esModule",{value:!0}),xo.Trees=void 0;const e=Zr(),n=Kn,s=zs,i=tt,o=Ka(),a=wr(),l=qs,u=In,h=te,c=me;let f=class Bn{static toStringTree(m,T){let y;T instanceof o.Parser?y=T.ruleNames:y=T;let v=c.escapeWhitespace(this.getNodeText(m,y),!1);if(m.childCount===0)return v;let _="";_+="(",v=c.escapeWhitespace(this.getNodeText(m,y),!1),_+=v,_+=" ";for(let S=0;S<m.childCount;S++)S>0&&(_+=" "),_+=this.toStringTree(m.getChild(S),y);return _+=")",_}static getNodeText(m,T){let y;if(T instanceof o.Parser)y=T.ruleNames;else if(T)y=T;else{let v=m.payload;return typeof v.text=="string"?v.text:m.payload.toString()}if(m instanceof l.RuleNode){let v=m.ruleContext,_=v.ruleIndex,S=y[_],E=v.altNumber;return E!==e.ATN.INVALID_ALT_NUMBER?S+":"+E:S}else{if(m instanceof s.ErrorNode)return m.toString();if(m instanceof u.TerminalNode)return m.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(m){let T=[];for(let y=0;y<m.childCount;y++)T.push(m.getChild(y));return T}static getAncestors(m){let T=[],y=m.parent;for(;y;)T.unshift(y),y=y.parent;return T}static isAncestorOf(m,T){if(!m||!T||!m.parent)return!1;let y=T.parent;for(;y;){if(m===y)return!0;y=y.parent}return!1}static findAllTokenNodes(m,T){return Bn.findAllNodes(m,T,!0)}static findAllRuleNodes(m,T){return Bn.findAllNodes(m,T,!1)}static findAllNodes(m,T,y){let v=[];return Bn._findAllNodes(m,T,y,v),v}static _findAllNodes(m,T,y,v){y&&m instanceof u.TerminalNode?m.symbol.type===T&&v.push(m):!y&&m instanceof a.ParserRuleContext&&m.ruleIndex===T&&v.push(m);for(let _=0;_<m.childCount;_++)Bn._findAllNodes(m.getChild(_),T,y,v)}static getDescendants(m){let T=[];function y(v){T.push(v);const _=v.childCount;for(let S=0;S<_;S++)y(v.getChild(S))}return y(m),T}static getRootOfSubtreeEnclosingRegion(m,T,y){let v=m.childCount;for(let _=0;_<v;_++){let S=m.getChild(_),E=Bn.getRootOfSubtreeEnclosingRegion(S,T,y);if(E)return E}if(m instanceof a.ParserRuleContext){let _=m.stop;if(T>=m.start.tokenIndex&&(_==null||y<=_.tokenIndex))return m}}static stripChildrenOutOfRange(m,T,y,v){if(!m)return;let _=m.childCount;for(let S=0;S<_;S++){let E=m.getChild(S),N=E.sourceInterval;if(E instanceof a.ParserRuleContext&&(N.b<y||N.a>v)&&Bn.isAncestorOf(E,T)){let x=new n.CommonToken(h.Token.INVALID_TYPE,"...");m.children[S]=new u.TerminalNode(x)}}}static findNodeSuchThat(m,T){if(T(m))return m;let y=m.childCount;for(let v=0;v<y;v++){let _=Bn.findNodeSuchThat(m.getChild(v),T);if(_!==void 0)return _}}};return r([t(0,i.NotNull)],f,"toStringTree",null),r([i.NotNull,t(0,i.NotNull)],f,"getAncestors",null),r([t(0,i.NotNull)],f,"getRootOfSubtreeEnclosingRegion",null),xo.Trees=f,xo}var op;function Py(){if(op)return mo;op=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(u,h,c,f){var d=arguments.length,m=d<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,c):f,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,h,c,f);else for(var y=u.length-1;y>=0;y--)(T=u[y])&&(m=(d<3?T(m):d>3?T(h,c,m):T(h,c))||m);return d>3&&m&&Object.defineProperty(h,c,m),m};Object.defineProperty(mo,"__esModule",{value:!0}),mo.RuleContext=void 0;const t=Zr(),e=Xn,n=qs,s=Oe,i=tt,o=Yi(),a=wr();let l=class Fy extends n.RuleNode{constructor(h,c){super(),this._parent=h,this.invokingState=c??-1}static getChildContext(h,c){return new Fy(h,c)}depth(){let h=0,c=this;for(;c;)c=c._parent,h++;return h}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return s.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(h){this._parent=h}get payload(){return this}get text(){if(this.childCount===0)return"";let h="";for(let c=0;c<this.childCount;c++)h+=this.getChild(c).text;return h.toString()}get ruleIndex(){return-1}get altNumber(){return t.ATN.INVALID_ALT_NUMBER}set altNumber(h){}getChild(h){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(h){return h.visitChildren(this)}toStringTree(h){return o.Trees.toStringTree(this,h)}toString(h,c){const f=h instanceof e.Recognizer?h.ruleNames:h;c=c||a.ParserRuleContext.emptyContext();let d="",m=this;for(d+="[";m&&m!==c;){if(!f)m.isEmpty||(d+=m.invokingState);else{let T=m.ruleIndex,y=T>=0&&T<f.length?f[T]:T.toString();d+=y}m._parent&&(f||!m._parent.isEmpty)&&(d+=" "),m=m._parent}return d+="]",d.toString()}};return r([i.Override],l.prototype,"sourceInterval",null),r([i.Override],l.prototype,"ruleContext",null),r([i.Override],l.prototype,"parent",null),r([i.Override],l.prototype,"setParent",null),r([i.Override],l.prototype,"payload",null),r([i.Override],l.prototype,"text",null),r([i.Override],l.prototype,"getChild",null),r([i.Override],l.prototype,"childCount",null),r([i.Override],l.prototype,"accept",null),r([i.Override],l.prototype,"toStringTree",null),mo.RuleContext=l,mo}var ap;function wr(){if(ap)return yo;ap=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(a,l,u,h){var c=arguments.length,f=c<3?l:h===null?h=Object.getOwnPropertyDescriptor(l,u):h,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(a,l,u,h);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(f=(c<3?d(f):c>3?d(l,u,f):d(l,u))||f);return c>3&&f&&Object.defineProperty(l,u,f),f};Object.defineProperty(yo,"__esModule",{value:!0}),yo.ParserRuleContext=void 0;const t=zs,e=Oe,n=tt,s=Py(),i=In;let o=class Lh extends s.RuleContext{constructor(l,u){u==null?super():super(l,u)}static emptyContext(){return Lh.EMPTY}copyFrom(l){if(this._parent=l._parent,this.invokingState=l.invokingState,this._start=l._start,this._stop=l._stop,l.children){this.children=[];for(let u of l.children)u instanceof t.ErrorNode&&this.addChild(u)}}enterRule(l){}exitRule(l){}addAnyChild(l){return this.children?this.children.push(l):this.children=[l],l}addChild(l){if(l instanceof i.TerminalNode){l.setParent(this),this.addAnyChild(l);return}else if(l instanceof s.RuleContext){this.addAnyChild(l);return}else return l=new i.TerminalNode(l),this.addAnyChild(l),l.setParent(this),l}addErrorNode(l){if(l instanceof t.ErrorNode){const u=l;return u.setParent(this),this.addAnyChild(u)}else{const u=l;let h=new t.ErrorNode(u);return this.addAnyChild(h),h.setParent(this),h}}removeLastChild(){this.children&&this.children.pop()}get parent(){let l=super.parent;if(l===void 0||l instanceof Lh)return l;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(l,u){if(!this.children||l<0||l>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(u==null)return this.children[l];let h=this.tryGetChild(l,u);if(h===void 0)throw new Error("The specified node does not exist");return h}tryGetChild(l,u){if(!this.children||l<0||l>=this.children.length)return;let h=-1;for(let c of this.children)if(c instanceof u&&(h++,h===l))return c}getToken(l,u){let h=this.tryGetToken(l,u);if(h===void 0)throw new Error("The specified token does not exist");return h}tryGetToken(l,u){if(!this.children||u<0||u>=this.children.length)return;let h=-1;for(let c of this.children)if(c instanceof i.TerminalNode&&c.symbol.type===l&&(h++,h===u))return c}getTokens(l){let u=[];if(!this.children)return u;for(let h of this.children)h instanceof i.TerminalNode&&h.symbol.type===l&&u.push(h);return u}get ruleContext(){return this}getRuleContext(l,u){return this.getChild(l,u)}tryGetRuleContext(l,u){return this.tryGetChild(l,u)}getRuleContexts(l){let u=[];if(!this.children)return u;for(let h of this.children)h instanceof l&&u.push(h);return u}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?e.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):e.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):e.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(l){return"ParserRuleContext"+l.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}};return o.EMPTY=new o,r([n.Override],o.prototype,"parent",null),r([n.Override],o.prototype,"childCount",null),r([n.Override],o.prototype,"sourceInterval",null),yo.ParserRuleContext=o,yo}var Ly={};(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(o,a,l,u){var h=arguments.length,c=h<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,a,l,u);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(h<3?f(c):h>3?f(a,l,c):f(a,l))||c);return h>3&&c&&Object.defineProperty(a,l,c),c};Object.defineProperty(r,"__esModule",{value:!0}),r.PredictionMode=void 0;const e=An,n=oe,s=tt,i=Qn;(function(o){o[o.SLL=0]="SLL",o[o.LL=1]="LL",o[o.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(r.PredictionMode||(r.PredictionMode={})),function(o){class a extends e.Array2DHashMap{constructor(){super(l.INSTANCE)}}class l{AltAndContextConfigEqualityComparator(){}hashCode(f){let d=n.MurmurHash.initialize(7);return d=n.MurmurHash.update(d,f.state.stateNumber),d=n.MurmurHash.update(d,f.context),d=n.MurmurHash.finish(d,2),d}equals(f,d){return f===d?!0:f==null||d==null?!1:f.state.stateNumber===d.state.stateNumber&&f.context.equals(d.context)}}l.INSTANCE=new l,t([s.Override],l.prototype,"hashCode",null),t([s.Override],l.prototype,"equals",null);function u(c){for(let f of c)if(f.state instanceof i.RuleStopState)return!0;return!1}o.hasConfigInRuleStopState=u;function h(c){for(let f of c)if(!(f.state instanceof i.RuleStopState))return!1;return!0}o.allConfigsInRuleStopStates=h}(r.PredictionMode||(r.PredictionMode={}))})(Ly);var go={},lp;function By(){if(lp)return go;lp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h},t=w&&w.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(go,"__esModule",{value:!0}),go.SimulatorState=void 0;const e=tt,n=wr();let s=class{constructor(o,a,l,u){this.outerContext=o??n.ParserRuleContext.emptyContext(),this.s0=a,this.useContext=l,this.remainingOuterContext=u}};return s=r([t(1,e.NotNull)],s),go.SimulatorState=s,go}var up;function ja(){if(up)return po;up=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(J,g,C,D){var B=arguments.length,R=B<3?g:D===null?D=Object.getOwnPropertyDescriptor(g,C):D,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(J,g,C,D);else for(var I=J.length-1;I>=0;I--)(A=J[I])&&(R=(B<3?A(R):B>3?A(g,C,R):A(g,C))||R);return B>3&&R&&Object.defineProperty(g,C,R),R},t=w&&w.__param||function(J,g){return function(C,D){g(C,D,J)}};Object.defineProperty(po,"__esModule",{value:!0}),po.ParserATNSimulator=void 0;const e=ba,n=Ia,s=Er,i=Tu,o=Zr(),a=Ui,l=Ea(),u=Iu(),h=Se,c=Fa,f=Tr,d=Vu,m=Jr,T=Cu(),y=Ps,v=Oe,_=En,S=tt,E=hf(),N=sc(),x=ir,O=wr(),p=Ar(),b=lf(),F=Ly,j=Qn,k=Ms,K=Mi,it=cf(),st=By(),ut=te,at=Tn,ht=Le(),G=65535,et=-(1<<31>>>0);let Z=class Mt extends u.ATNSimulator{constructor(g,C){super(g),this.predictionMode=F.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=C}getPredictionMode(){return this.predictionMode}setPredictionMode(g){this.predictionMode=g}reset(){}adaptivePredict(g,C,D,B){B===void 0&&(B=!1);let R=this.atn.decisionToDFA[C];if(ht(R!=null),this.optimize_ll1&&!R.isPrecedenceDfa&&!R.isEmpty){let z=g.LA(1);if(z>=0&&z<=65535){let W=(C<<16>>>0)+z,L=this.atn.LL1Table.get(W);if(L!=null)return L}}this.dfa=R,this.force_global_context?B=!0:this.always_try_local_context||(B=B||R.isContextSensitive),this.userWantsCtxSensitive=B||this.predictionMode!==F.PredictionMode.SLL&&D!=null&&!this.atn.decisionToState[C].sll,D==null&&(D=O.ParserRuleContext.emptyContext());let A;R.isEmpty||(A=this.getStartState(R,g,D,B)),A==null&&(D==null&&(D=O.ParserRuleContext.emptyContext()),Mt.debug&&console.log("ATN decision "+R.decision+" exec LA(1)=="+this.getLookaheadName(g)+", outerContext="+D.toString(this._parser)),A=this.computeStartState(R,D,B));let I=g.mark(),P=g.index;try{let z=this.execDFA(R,g,P,A);return Mt.debug&&console.log("DFA after predictATN: "+R.toString(this._parser.vocabulary,this._parser.ruleNames)),z}finally{this.dfa=void 0,g.seek(P),g.release(I)}}getStartState(g,C,D,B){if(!B)if(g.isPrecedenceDfa){let I=g.getPrecedenceStartState(this._parser.precedence,!1);return I==null?void 0:new st.SimulatorState(D,I,!1,D)}else return g.s0==null?void 0:new st.SimulatorState(D,g.s0,!1,D);if(!this.enable_global_context_dfa)return;let R=D;ht(D!=null);let A;for(g.isPrecedenceDfa?A=g.getPrecedenceStartState(this._parser.precedence,!0):A=g.s0full;R!=null&&A!=null&&A.isContextSensitive;)R=this.skipTailCalls(R),A=A.getContextTarget(this.getReturnState(R)),R.isEmpty?ht(A==null||!A.isContextSensitive):R=R.parent;if(A!=null)return new st.SimulatorState(D,A,B,R)}execDFA(g,C,D,B){let R=B.outerContext;Mt.dfa_debug&&console.log("DFA decision "+g.decision+" exec LA(1)=="+this.getLookaheadName(C)+", outerContext="+R.toString(this._parser)),Mt.dfa_debug&&console.log(g.toString(this._parser.vocabulary,this._parser.ruleNames));let A=B.s0,I=C.LA(1),P=B.remainingOuterContext;for(;;){if(Mt.dfa_debug&&console.log("DFA state "+A.stateNumber+" LA(1)=="+this.getLookaheadName(C)),B.useContext)for(;A.isContextSymbol(I);){let L;if(P!=null&&(P=this.skipTailCalls(P),L=A.getContextTarget(this.getReturnState(P))),L==null){let M=new st.SimulatorState(B.outerContext,A,B.useContext,P);return this.execATN(g,C,D,M)}ht(P!=null),P=P.parent,A=L}if(this.isAcceptState(A,B.useContext)){A.predicates!=null?Mt.dfa_debug&&console.log("accept "+A):Mt.dfa_debug&&console.log("accept; predict "+A.prediction+" in state "+A.stateNumber);break}ht(!this.isAcceptState(A,B.useContext));let W=this.getExistingTargetState(A,I);if(W==null){Mt.dfa_debug&&I>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(I));let L;if(Mt.dfa_debug){let V=v.Interval.of(D,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(V)+" at DFA state "+A.stateNumber)}let M=new st.SimulatorState(R,A,B.useContext,P);return L=this.execATN(g,C,D,M),Mt.dfa_debug&&console.log("back from DFA update, alt="+L+`, dfa=
`+g.toString(this._parser.vocabulary,this._parser.ruleNames)),Mt.dfa_debug&&console.log("DFA decision "+g.decision+" predicts "+L),L}else if(W===u.ATNSimulator.ERROR){let L=new st.SimulatorState(R,A,B.useContext,P);return this.handleNoViableAlt(C,D,L)}A=W,!this.isAcceptState(A,B.useContext)&&I!==_.IntStream.EOF&&(C.consume(),I=C.LA(1))}if(!B.useContext&&A.configs.conflictInfo!=null&&g.atnStartState instanceof m.DecisionState&&!(!this.userWantsCtxSensitive||!A.configs.dipsIntoOuterContext&&A.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&C.index===D)){ht(!B.useContext);let W,L=A.predicates;if(L!=null){let M=C.index;if(M!==D&&C.seek(D),W=this.evalSemanticContext(L,R,!0),W.cardinality()===1)return W.nextSetBit(0);M!==D&&C.seek(M)}if(this.reportAmbiguities){let M=new st.SimulatorState(R,A,B.useContext,P);this.reportAttemptingFullContext(g,W,M,D,C.index)}return C.seek(D),this.adaptivePredict(C,g.decision,R,!0)}let z=A.predicates;if(z!=null){let W=C.index;D!==W&&C.seek(D);let L=this.evalSemanticContext(z,R,this.reportAmbiguities&&this.predictionMode===F.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(L.cardinality()){case 0:throw this.noViableAlt(C,R,A.configs,D);case 1:return L.nextSetBit(0);default:return D!==W&&C.seek(W),this.reportAmbiguity(g,A,D,W,A.configs.isExactConflict,L,A.configs),L.nextSetBit(0)}}return Mt.dfa_debug&&console.log("DFA decision "+g.decision+" predicts "+A.prediction),A.prediction}isAcceptState(g,C){return g.isAcceptState?g.configs.conflictingAlts==null?!0:C&&this.predictionMode===F.PredictionMode.LL_EXACT_AMBIG_DETECTION?g.configs.isExactConflict:!0:!1}execATN(g,C,D,B){Mt.debug&&console.log("execATN decision "+g.decision+" exec LA(1)=="+this.getLookaheadName(C));let R=B.outerContext,A=B.useContext,I=C.LA(1),P=B,z=new b.PredictionContextCache;for(;;){let W=this.computeReachSet(g,P,I,z);if(W==null)return this.setDFAEdge(P.s0,C.LA(1),u.ATNSimulator.ERROR),this.handleNoViableAlt(C,D,P);let L=W.s0;if(ht(L.isAcceptState||L.prediction===o.ATN.INVALID_ALT_NUMBER),ht(L.isAcceptState||L.configs.conflictInfo==null),this.isAcceptState(L,A)){let M=L.configs.conflictingAlts,V=M==null?L.prediction:o.ATN.INVALID_ALT_NUMBER;if(V!==o.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&C.index===D&&!g.isPrecedenceDfa&&W.outerContext===W.remainingOuterContext&&g.decision>=0&&!L.configs.hasSemanticContext&&I>=0&&I<=G){let rt=(g.decision<<16>>>0)+I;this.atn.LL1Table.set(rt,V)}A&&this.always_try_local_context&&this.reportContextSensitivity(g,V,W,D,C.index)}V=L.prediction;let Y=M!=null&&this.userWantsCtxSensitive;if(Y&&(Y=!A&&(L.configs.dipsIntoOuterContext||!L.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||C.index!==D)),L.configs.hasSemanticContext){let rt=L.predicates;if(rt!=null){let nt=C.index;switch(nt!==D&&C.seek(D),M=this.evalSemanticContext(rt,R,Y||this.reportAmbiguities),M.cardinality()){case 0:throw this.noViableAlt(C,R,L.configs,D);case 1:return M.nextSetBit(0)}nt!==D&&C.seek(nt)}}if(Y){ht(!A),ht(this.isAcceptState(L,!1)),Mt.debug&&console.log("RETRY with outerContext="+R);let rt=this.computeStartState(g,R,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(g,M,W,D,C.index),C.seek(D),this.execATN(g,C,D,rt)}else return M!=null&&(this.reportAmbiguities&&M.cardinality()>1&&this.reportAmbiguity(g,L,D,C.index,L.configs.isExactConflict,M,L.configs),V=M.nextSetBit(0)),V}P=W,I!==_.IntStream.EOF&&(C.consume(),I=C.LA(1))}}handleNoViableAlt(g,C,D){if(D.s0!=null){let B=new f.BitSet,R=0;for(let A of D.s0.configs)(A.reachesIntoOuterContext||A.state instanceof j.RuleStopState)&&(B.set(A.alt),R=Math.max(R,A.alt));switch(B.cardinality()){case 0:break;case 1:return B.nextSetBit(0);default:if(!D.s0.configs.hasSemanticContext)return B.nextSetBit(0);let A=new l.ATNConfigSet;for(let P of D.s0.configs)(P.reachesIntoOuterContext||P.state instanceof j.RuleStopState)&&A.add(P);let I=this.getPredsForAmbigAlts(B,A,R);if(I!=null){let P=this.getPredicatePredictions(B,I);if(P!=null){let z=g.index;try{g.seek(C);let W=this.evalSemanticContext(P,D.outerContext,!1);if(!W.isEmpty)return W.nextSetBit(0)}finally{g.seek(z)}}}return B.nextSetBit(0)}}throw this.noViableAlt(g,D.outerContext,D.s0.configs,C)}computeReachSet(g,C,D,B){let R=C.useContext,A=C.remainingOuterContext,I=C.s0;if(R)for(;I.isContextSymbol(D);){let W;if(A!=null&&(A=this.skipTailCalls(A),W=I.getContextTarget(this.getReturnState(A))),W==null)break;ht(A!=null),A=A.parent,I=W}if(ht(!this.isAcceptState(I,R)),this.isAcceptState(I,R))return new st.SimulatorState(C.outerContext,I,R,A);let P=I,z=this.getExistingTargetState(P,D);if(z==null){let W=this.computeTargetState(g,P,A,D,R,B);z=W[0],A=W[1]}if(z!==u.ATNSimulator.ERROR)return ht(!R||!z.configs.dipsIntoOuterContext),new st.SimulatorState(C.outerContext,z,R,A)}getExistingTargetState(g,C){return g.getTarget(C)}computeTargetState(g,C,D,B,R,A){let I=C.configs.toArray(),P,z=new l.ATNConfigSet,W;do{let M=!R||D!=null;M||(z.isOutermostConfigSet=!0);let V=new l.ATNConfigSet,Y;for(let q of I){if(Mt.debug&&console.log("testing "+this.getTokenName(B)+" at "+q.toString()),q.state instanceof j.RuleStopState){ht(q.context.isEmpty),(R&&!q.reachesIntoOuterContext||B===_.IntStream.EOF)&&(Y==null&&(Y=[]),Y.push(q));continue}let Q=q.state.numberOfOptimizedTransitions;for(let ct=0;ct<Q;ct++){let xt=q.state.getOptimizedTransition(ct),St=this.getReachableTarget(q,xt,B);St!=null&&V.add(q.transform(St,!1),A)}}if(this.optimize_unique_closure&&Y==null&&B!==ut.Token.EOF&&V.uniqueAlt!==o.ATN.INVALID_ALT_NUMBER){V.isOutermostConfigSet=z.isOutermostConfigSet,z=V;break}let rt=!1,nt=B===ut.Token.EOF;if(this.closure(V,z,rt,M,A,nt),W=z.dipsIntoOuterContext,B===_.IntStream.EOF&&(z=this.removeAllConfigsNotInRuleStopState(z,A)),Y!=null&&(!R||!F.PredictionMode.hasConfigInRuleStopState(z))){ht(Y.length>0);for(let q of Y)z.add(q,A)}if(R&&W){z.clear(),D=D,D=this.skipTailCalls(D);let q=this.getReturnState(D);if(P==null&&(P=new y.IntegerList),D.isEmpty?D=void 0:D=D.parent,P.add(q),q!==p.PredictionContext.EMPTY_FULL_STATE_KEY)for(let Q=0;Q<I.length;Q++)I[Q]=I[Q].appendContext(q,A)}}while(R&&W);return z.isEmpty?(this.setDFAEdge(C,B,u.ATNSimulator.ERROR),[u.ATNSimulator.ERROR,D]):[this.addDFAEdge(g,C,B,P,z,A),D]}removeAllConfigsNotInRuleStopState(g,C){if(F.PredictionMode.allConfigsInRuleStopStates(g))return g;let D=new l.ATNConfigSet;for(let B of g)B.state instanceof j.RuleStopState&&D.add(B,C);return D}computeStartState(g,C,D){let B=g.isPrecedenceDfa?g.getPrecedenceStartState(this._parser.precedence,D):D?g.s0full:g.s0;if(B!=null){if(!D)return new st.SimulatorState(C,B,D,C);B.setContextSensitive(this.atn)}g.decision;let R=g.atnStartState,A=0,I=C,P=D?p.PredictionContext.EMPTY_FULL:p.PredictionContext.EMPTY_LOCAL,z=new b.PredictionContextCache;if(D){if(!this.enable_global_context_dfa)for(;I!=null;)I.isEmpty?(A=p.PredictionContext.EMPTY_FULL_STATE_KEY,I=void 0):(A=this.getReturnState(I),P=P.appendSingleContext(A,z),I=I.parent);for(;B!=null&&B.isContextSensitive&&I!=null;){let L;if(I=this.skipTailCalls(I),I.isEmpty?(L=B.getContextTarget(p.PredictionContext.EMPTY_FULL_STATE_KEY),A=p.PredictionContext.EMPTY_FULL_STATE_KEY,I=void 0):(A=this.getReturnState(I),L=B.getContextTarget(A),P=P.appendSingleContext(A,z),I=I.parent),L==null)break;B=L}}if(B!=null&&!B.isContextSensitive)return new st.SimulatorState(C,B,D,I);let W=new l.ATNConfigSet;for(;;){let L=new l.ATNConfigSet,M=R.numberOfTransitions;for(let Q=0;Q<M;Q++){let ct=R.transition(Q).target;L.add(a.ATNConfig.create(ct,Q+1,P))}let V=I!=null;V||(W.isOutermostConfigSet=!0),this.closure(L,W,!0,V,z,!1);let rt=W.dipsIntoOuterContext,nt;if(D&&!this.enable_global_context_dfa){B=this.addDFAState(g,W,z);break}else B==null?g.isPrecedenceDfa?(W=this.applyPrecedenceFilter(W,C,z),nt=this.addDFAState(g,W,z),g.setPrecedenceStartState(this._parser.precedence,D,nt)):(nt=this.addDFAState(g,W,z),D?g.s0full?nt=g.s0full:g.s0full=nt:g.s0?nt=g.s0:g.s0=nt):(g.isPrecedenceDfa&&(W=this.applyPrecedenceFilter(W,C,z)),nt=this.addDFAState(g,W,z),B.setContextTarget(A,nt));if(B=nt,!D||!rt)break;nt.setContextSensitive(this.atn),I=I,W.clear(),I=this.skipTailCalls(I);let q=this.getReturnState(I);I.isEmpty?I=void 0:I=I.parent,q!==p.PredictionContext.EMPTY_FULL_STATE_KEY&&(P=P.appendSingleContext(q,z)),A=q}return new st.SimulatorState(C,B,D,I)}applyPrecedenceFilter(g,C,D){let B=new Map,R=new l.ATNConfigSet;for(let A of g){if(A.alt!==1)continue;let I=A.semanticContext.evalPrecedence(this._parser,C);I!=null&&(B.set(A.state.stateNumber,A.context),I!==A.semanticContext?R.add(A.transform(A.state,!1,I),D):R.add(A,D))}for(let A of g)if(A.alt!==1){if(!A.isPrecedenceFilterSuppressed){let I=B.get(A.state.stateNumber);if(I!=null&&I.equals(A.context))continue}R.add(A,D)}return R}getReachableTarget(g,C,D){if(C.matches(D,0,this.atn.maxTokenType))return C.target}predicateDFAState(g,C,D){let B=this.getConflictingAltsFromConfigSet(C);if(!B)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");Mt.debug&&console.log("predicateDFAState "+g);let R=this.getPredsForAmbigAlts(B,C,D),A;return R!=null&&(A=this.getPredicatePredictions(B,R),g.predicates=A),A}getPredsForAmbigAlts(g,C,D){let B=new Array(D+1),R=B.length;for(let P of C)g.get(P.alt)&&(B[P.alt]=K.SemanticContext.or(B[P.alt],P.semanticContext));let A=0;for(let P=0;P<R;P++)B[P]==null?B[P]=K.SemanticContext.NONE:B[P]!==K.SemanticContext.NONE&&A++;let I=B;return A===0&&(I=void 0),Mt.debug&&console.log("getPredsForAmbigAlts result "+(I?i.Arrays.toString(I):"undefined")),I}getPredicatePredictions(g,C){let D=[],B=!1;for(let R=1;R<C.length;R++){let A=C[R];ht(A!=null),g!=null&&g.get(R)&&A===K.SemanticContext.NONE?D.push(new T.DFAState.PredPrediction(A,R)):A!==K.SemanticContext.NONE&&(B=!0,D.push(new T.DFAState.PredPrediction(A,R)))}if(B)return D}evalSemanticContext(g,C,D){let B=new f.BitSet;for(let R of g){if(R.pred===K.SemanticContext.NONE){if(B.set(R.alt),!D)break;continue}let A=this.evalSemanticContextImpl(R.pred,C,R.alt);if((Mt.debug||Mt.dfa_debug)&&console.log("eval pred "+R+"="+A),A&&((Mt.debug||Mt.dfa_debug)&&console.log("PREDICT "+R.alt),B.set(R.alt),!D))break}return B}evalSemanticContextImpl(g,C,D){return g.eval(this._parser,C)}closure(g,C,D,B,R,A){R==null&&(R=b.PredictionContextCache.UNCACHED);let I=g,P=new s.Array2DHashSet(x.ObjectEqualityComparator.INSTANCE);for(;I.size>0;){let z=new l.ATNConfigSet;for(let W of I)this.closureImpl(W,C,z,P,D,B,R,0,A);I=z}}closureImpl(g,C,D,B,R,A,I,P,z){if(Mt.debug&&console.log("closure("+g.toString(this._parser,!0)+")"),g.state instanceof j.RuleStopState)if(g.context.isEmpty)if(A)Mt.debug&&console.log("FALLING off rule "+this.getRuleName(g.state.ruleIndex)),g.context===p.PredictionContext.EMPTY_FULL?g=g.transform(g.state,!1,p.PredictionContext.EMPTY_LOCAL):!g.reachesIntoOuterContext&&p.PredictionContext.isEmptyLocal(g.context)&&C.add(g,I);else{C.add(g,I);return}else{let L=g.context.hasEmpty,M=g.context.size-(L?1:0);for(let V=0;V<M;V++){let Y=g.context.getParent(V),rt=this.atn.states[g.context.getReturnState(V)],nt=a.ATNConfig.create(rt,g.alt,Y,g.semanticContext);nt.outerContextDepth=g.outerContextDepth,nt.isPrecedenceFilterSuppressed=g.isPrecedenceFilterSuppressed,ht(P>et),this.closureImpl(nt,C,D,B,R,A,I,P-1,z)}if(!L||!A)return;g=g.transform(g.state,!1,p.PredictionContext.EMPTY_LOCAL)}let W=g.state;W.onlyHasEpsilonTransitions||(C.add(g,I),Mt.debug&&console.log("added config "+C));for(let L=0;L<W.numberOfOptimizedTransitions;L++){if(L===0&&W.stateType===h.ATNStateType.STAR_LOOP_ENTRY&&W.precedenceRuleDecision&&!g.context.hasEmpty){let rt=W,nt=!0;for(let q=0;q<g.context.size;q++)if(!rt.precedenceLoopbackStates.get(g.context.getReturnState(q))){nt=!1;break}if(nt)continue}let M=W.getOptimizedTransition(L),V=!(M instanceof n.ActionTransition)&&R,Y=this.getEpsilonTarget(g,M,V,P===0,I,z);if(Y!=null){if(M instanceof k.RuleTransition&&D!=null&&!R){D.add(Y,I);continue}let rt=P;if(g.state instanceof j.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&M.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(Y.isPrecedenceFilterSuppressed=!0),Y.outerContextDepth=Y.outerContextDepth+1,!B.add(Y))continue;ht(rt>et),rt--,Mt.debug&&console.log("dips into outer ctx: "+Y)}else if(M instanceof k.RuleTransition)this.optimize_tail_calls&&M.optimizedTailCall&&(!this.tail_call_preserves_sll||!p.PredictionContext.isEmptyLocal(g.context))?(ht(Y.context===g.context),rt===0&&(rt--,!this.tail_call_preserves_sll&&p.PredictionContext.isEmptyLocal(g.context)&&(Y.outerContextDepth=Y.outerContextDepth+1))):rt>=0&&rt++;else if(!M.isEpsilon&&!B.add(Y))continue;this.closureImpl(Y,C,D,B,V,A,I,rt,z)}}}getRuleName(g){return this._parser!=null&&g>=0?this._parser.ruleNames[g]:"<rule "+g+">"}getEpsilonTarget(g,C,D,B,R,A){switch(C.serializationType){case 3:return this.ruleTransition(g,C,R);case 10:return this.precedenceTransition(g,C,D,B);case 4:return this.predTransition(g,C,D,B);case 6:return this.actionTransition(g,C);case 1:return g.transform(C.target,!1);case 5:case 2:case 7:return A&&C.matches(ut.Token.EOF,0,1)?g.transform(C.target,!1):void 0;default:return}}actionTransition(g,C){return Mt.debug&&console.log("ACTION edge "+C.ruleIndex+":"+C.actionIndex),g.transform(C.target,!1)}precedenceTransition(g,C,D,B){Mt.debug&&(console.log("PRED (collectPredicates="+D+") "+C.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let R;if(D&&B){let A=K.SemanticContext.and(g.semanticContext,C.predicate);R=g.transform(C.target,!1,A)}else R=g.transform(C.target,!1);return Mt.debug&&console.log("config from pred transition="+R),R}predTransition(g,C,D,B){Mt.debug&&(console.log("PRED (collectPredicates="+D+") "+C.ruleIndex+":"+C.predIndex+", ctx dependent="+C.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let R;if(D&&(!C.isCtxDependent||C.isCtxDependent&&B)){let A=K.SemanticContext.and(g.semanticContext,C.predicate);R=g.transform(C.target,!1,A)}else R=g.transform(C.target,!1);return Mt.debug&&console.log("config from pred transition="+R),R}ruleTransition(g,C,D){Mt.debug&&console.log("CALL rule "+this.getRuleName(C.target.ruleIndex)+", ctx="+g.context);let B=C.followState,R;return this.optimize_tail_calls&&C.optimizedTailCall&&(!this.tail_call_preserves_sll||!p.PredictionContext.isEmptyLocal(g.context))?R=g.context:D!=null?R=D.getChild(g.context,B.stateNumber):R=g.context.getChild(B.stateNumber),g.transform(C.target,!1,R)}isConflicted(g,C){if(g.uniqueAlt!==o.ATN.INVALID_ALT_NUMBER||g.size<=1)return;let D=g.toArray();D.sort(Mt.STATE_ALT_SORT_COMPARATOR);let B=!g.dipsIntoOuterContext,R=new f.BitSet,A=D[0].alt;R.set(A);let I=D[0].state.nonStopStateNumber;for(let M of D){let V=M.state.nonStopStateNumber;if(V!==I){if(M.alt!==A)return;I=V}}let P;if(B){I=D[0].state.nonStopStateNumber,P=new f.BitSet;let M=A;for(let Y of D){if(Y.state.nonStopStateNumber!==I)break;let rt=Y.alt;P.set(rt),M=rt}I=D[0].state.nonStopStateNumber;let V=A;for(let Y of D){let rt=Y.state.nonStopStateNumber,nt=Y.alt;if(rt!==I){if(V!==M){B=!1;break}I=rt,V=A}else if(nt!==V){if(nt!==P.nextSetBit(V+1)){B=!1;break}V=nt}}}I=D[0].state.nonStopStateNumber;let z=0,W=0,L=D[0].context;for(let M=1;M<D.length;M++){let V=D[M];if(V.alt!==A||V.state.nonStopStateNumber!==I)break;W=M,L=C.join(L,D[M].context)}for(let M=W+1;M<D.length;M++){let V=D[M],Y=V.state;if(R.set(V.alt),Y.nonStopStateNumber!==I){I=Y.nonStopStateNumber,z=M,W=M,L=V.context;for(let ct=z+1;ct<D.length;ct++){let xt=D[ct];if(xt.alt!==A||xt.state.nonStopStateNumber!==I)break;W=ct,L=C.join(L,xt.context)}M=W;continue}let rt=V.context,nt=V.alt,q=M;for(let ct=q+1;ct<D.length;ct++){let xt=D[ct];if(xt.alt!==nt||xt.state.nonStopStateNumber!==I)break;q=ct,rt=C.join(rt,xt.context)}M=q;let Q=C.join(L,rt);if(!L.equals(Q))return;B=B&&L.equals(rt)}return new d.ConflictInfo(R,B)}getConflictingAltsFromConfigSet(g){let C=g.conflictingAlts;return C==null&&g.uniqueAlt!==o.ATN.INVALID_ALT_NUMBER&&(C=new f.BitSet,C.set(g.uniqueAlt)),C}getTokenName(g){if(g===ut.Token.EOF)return"EOF";let D=(this._parser!=null?this._parser.vocabulary:at.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(g);return D===String(g)?D:D+"<"+g+">"}getLookaheadName(g){return this.getTokenName(g.LA(1))}dumpDeadEndConfigs(g){console.log("dead end configs: ");let C=g.deadEndConfigs;if(C)for(let D of C){let B="no edges";if(D.state.numberOfOptimizedTransitions>0){let R=D.state.getOptimizedTransition(0);R instanceof c.AtomTransition?B="Atom "+this.getTokenName(R._label):R instanceof it.SetTransition&&(B=(R instanceof E.NotSetTransition?"~":"")+"Set "+R.set.toString())}console.log(D.toString(this._parser,!0)+":"+B)}}noViableAlt(g,C,D,B){return new N.NoViableAltException(this._parser,g,g.get(B),g.LT(1),D,C)}getUniqueAlt(g){let C=o.ATN.INVALID_ALT_NUMBER;for(let D of g)if(C===o.ATN.INVALID_ALT_NUMBER)C=D.alt;else if(D.alt!==C)return o.ATN.INVALID_ALT_NUMBER;return C}configWithAltAtStopState(g,C){for(let D of g)if(D.alt===C&&D.state instanceof j.RuleStopState)return!0;return!1}addDFAEdge(g,C,D,B,R,A){ht(B==null||B.isEmpty||g.isContextSensitive);let I=C,P=this.addDFAState(g,R,A);if(B!=null)for(let z of B.toArray()){if(z===p.PredictionContext.EMPTY_FULL_STATE_KEY&&I.configs.isOutermostConfigSet)continue;I.setContextSensitive(this.atn),I.setContextSymbol(D);let W=I.getContextTarget(z);if(W!=null){I=W;continue}W=this.addDFAContextState(g,I.configs,z,A),ht(z!==p.PredictionContext.EMPTY_FULL_STATE_KEY||W.configs.isOutermostConfigSet),I.setContextTarget(z,W),I=W}return Mt.debug&&console.log("EDGE "+I+" -> "+P+" upon "+this.getTokenName(D)),this.setDFAEdge(I,D,P),Mt.debug&&console.log(`DFA=
`+g.toString(this._parser!=null?this._parser.vocabulary:at.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),P}setDFAEdge(g,C,D){g!=null&&g.setTarget(C,D)}addDFAContextState(g,C,D,B){if(D!==p.PredictionContext.EMPTY_FULL_STATE_KEY){let R=new l.ATNConfigSet;for(let A of C)R.add(A.appendContext(D,B));return this.addDFAState(g,R,B)}else return ht(!C.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),C=C.clone(!0),C.isOutermostConfigSet=!0,this.addDFAState(g,C,B)}addDFAState(g,C,D){let B=this.enable_global_context_dfa||!C.isOutermostConfigSet;if(B){C.isReadOnly||C.optimizeConfigs(this);let z=this.createDFAState(g,C),W=g.states.get(z);if(W!=null)return W}C.isReadOnly||C.conflictInfo==null&&(C.conflictInfo=this.isConflicted(C,D));let R=this.createDFAState(g,C.clone(!0)),A=this.atn.getDecisionState(g.decision),I=this.getUniqueAlt(C);if(I!==o.ATN.INVALID_ALT_NUMBER)R.acceptStateInfo=new e.AcceptStateInfo(I);else if(C.conflictingAlts!=null){let z=C.conflictingAlts;z&&(R.acceptStateInfo=new e.AcceptStateInfo(z.nextSetBit(0)))}if(R.isAcceptState&&C.hasSemanticContext&&this.predicateDFAState(R,C,A.numberOfTransitions),!B)return R;let P=g.addState(R);return Mt.debug&&P===R&&console.log("adding new DFA state: "+R),P}createDFAState(g,C){return new T.DFAState(C)}reportAttemptingFullContext(g,C,D,B,R){if(Mt.debug||Mt.retry_debug){let A=v.Interval.of(B,R);console.log("reportAttemptingFullContext decision="+g.decision+":"+D.s0.configs+", input="+this._parser.inputStream.getText(A))}if(this._parser!=null){let A=this._parser.getErrorListenerDispatch();A.reportAttemptingFullContext&&A.reportAttemptingFullContext(this._parser,g,B,R,C,D)}}reportContextSensitivity(g,C,D,B,R){if(Mt.debug||Mt.retry_debug){let A=v.Interval.of(B,R);console.log("reportContextSensitivity decision="+g.decision+":"+D.s0.configs+", input="+this._parser.inputStream.getText(A))}if(this._parser!=null){let A=this._parser.getErrorListenerDispatch();A.reportContextSensitivity&&A.reportContextSensitivity(this._parser,g,B,R,C,D)}}reportAmbiguity(g,C,D,B,R,A,I){if(Mt.debug||Mt.retry_debug){let P=v.Interval.of(D,B);console.log("reportAmbiguity "+A+":"+I+", input="+this._parser.inputStream.getText(P))}if(this._parser!=null){let P=this._parser.getErrorListenerDispatch();P.reportAmbiguity&&P.reportAmbiguity(this._parser,g,D,B,R,A,I)}}getReturnState(g){return g.isEmpty?p.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[g.invokingState].transition(0).followState.stateNumber}skipTailCalls(g){if(!this.optimize_tail_calls)return g;for(;!g.isEmpty;){let C=this.atn.states[g.invokingState];if(ht(C.numberOfTransitions===1&&C.transition(0).serializationType===3),!C.transition(0).tailCall)break;g=g.parent}return g}get parser(){return this._parser}};return Z.debug=!1,Z.dfa_debug=!1,Z.retry_debug=!1,Z.STATE_ALT_SORT_COMPARATOR=(J,g)=>{let C=J.state.nonStopStateNumber-g.state.nonStopStateNumber;return C!==0||(C=J.alt-g.alt,C!==0)?C:0},r([S.NotNull],Z.prototype,"predictionMode",void 0),r([S.NotNull],Z.prototype,"getPredictionMode",null),r([t(0,S.NotNull)],Z.prototype,"setPredictionMode",null),r([S.Override],Z.prototype,"reset",null),r([t(0,S.NotNull)],Z.prototype,"adaptivePredict",null),r([t(0,S.NotNull),t(1,S.NotNull),t(2,S.NotNull)],Z.prototype,"getStartState",null),r([t(0,S.NotNull),t(1,S.NotNull),t(3,S.NotNull)],Z.prototype,"execDFA",null),r([t(0,S.NotNull),t(1,S.NotNull),t(3,S.NotNull)],Z.prototype,"execATN",null),r([t(0,S.NotNull),t(2,S.NotNull)],Z.prototype,"handleNoViableAlt",null),r([t(0,S.NotNull)],Z.prototype,"getExistingTargetState",null),r([S.NotNull,t(0,S.NotNull),t(1,S.NotNull)],Z.prototype,"computeTargetState",null),r([S.NotNull,t(0,S.NotNull)],Z.prototype,"removeAllConfigsNotInRuleStopState",null),r([S.NotNull],Z.prototype,"computeStartState",null),r([S.NotNull,t(0,S.NotNull)],Z.prototype,"applyPrecedenceFilter",null),r([t(0,S.NotNull),t(1,S.NotNull)],Z.prototype,"getReachableTarget",null),r([t(0,S.NotNull),t(1,S.NotNull)],Z.prototype,"getPredsForAmbigAlts",null),r([t(0,S.NotNull)],Z.prototype,"evalSemanticContext",null),r([t(0,S.NotNull)],Z.prototype,"evalSemanticContextImpl",null),r([t(1,S.NotNull),t(4,S.Nullable)],Z.prototype,"closure",null),r([t(0,S.NotNull),t(1,S.NotNull),t(2,S.Nullable),t(3,S.NotNull),t(6,S.NotNull)],Z.prototype,"closureImpl",null),r([S.NotNull],Z.prototype,"getRuleName",null),r([t(0,S.NotNull),t(1,S.NotNull)],Z.prototype,"getEpsilonTarget",null),r([S.NotNull,t(0,S.NotNull),t(1,S.NotNull)],Z.prototype,"actionTransition",null),r([S.Nullable,t(0,S.NotNull),t(1,S.NotNull)],Z.prototype,"precedenceTransition",null),r([S.Nullable,t(0,S.NotNull),t(1,S.NotNull)],Z.prototype,"predTransition",null),r([S.NotNull,t(0,S.NotNull),t(1,S.NotNull),t(2,S.Nullable)],Z.prototype,"ruleTransition",null),r([t(0,S.NotNull)],Z.prototype,"isConflicted",null),r([S.NotNull],Z.prototype,"getTokenName",null),r([t(0,S.NotNull)],Z.prototype,"dumpDeadEndConfigs",null),r([S.NotNull,t(0,S.NotNull),t(1,S.NotNull),t(2,S.NotNull)],Z.prototype,"noViableAlt",null),r([t(0,S.NotNull)],Z.prototype,"getUniqueAlt",null),r([t(0,S.NotNull)],Z.prototype,"configWithAltAtStopState",null),r([S.NotNull,t(0,S.NotNull),t(1,S.NotNull),t(4,S.NotNull)],Z.prototype,"addDFAEdge",null),r([t(0,S.Nullable),t(2,S.Nullable)],Z.prototype,"setDFAEdge",null),r([S.NotNull,t(0,S.NotNull),t(1,S.NotNull)],Z.prototype,"addDFAContextState",null),r([S.NotNull,t(0,S.NotNull),t(1,S.NotNull)],Z.prototype,"addDFAState",null),r([S.NotNull,t(0,S.NotNull),t(1,S.NotNull)],Z.prototype,"createDFAState",null),r([t(0,S.NotNull),t(2,S.NotNull)],Z.prototype,"reportAttemptingFullContext",null),r([t(0,S.NotNull),t(2,S.NotNull)],Z.prototype,"reportContextSensitivity",null),r([t(0,S.NotNull),t(5,S.NotNull),t(6,S.NotNull)],Z.prototype,"reportAmbiguity",null),Z=r([t(0,S.NotNull)],Z),po.ParserATNSimulator=Z,po}var Hu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var xb=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.PlusBlockStartState=void 0;const gb=Se,_b=Wi,vb=tt;class My extends _b.BlockStartState{get stateType(){return gb.ATNStateType.PLUS_BLOCK_START}}xb([vb.Override],My.prototype,"stateType",null);Hu.PlusBlockStartState=My;var Wu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Sb=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.PlusLoopbackState=void 0;const bb=Se,Eb=Jr,Ab=tt;class ky extends Eb.DecisionState{get stateType(){return bb.ATNStateType.PLUS_LOOP_BACK}}Sb([Ab.Override],ky.prototype,"stateType",null);Wu.PlusLoopbackState=ky;var Yu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ua=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Tb=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.PrecedencePredicateTransition=void 0;const Nb=Fs,$a=tt,wb=Mi;let Ri=class extends Nb.AbstractPredicateTransition{constructor(t,e){super(t),this.precedence=e}get serializationType(){return 10}get isEpsilon(){return!0}matches(t,e,n){return!1}get predicate(){return new wb.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};Ua([$a.Override],Ri.prototype,"serializationType",null);Ua([$a.Override],Ri.prototype,"isEpsilon",null);Ua([$a.Override],Ri.prototype,"matches",null);Ua([$a.Override],Ri.prototype,"toString",null);Ri=Ua([Tb(0,$a.NotNull)],Ri);Yu.PrecedencePredicateTransition=Ri;var Gu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var za=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Ob=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.RangeTransition=void 0;const Cb=Hi(),Fi=tt,Ib=br;let Pi=class extends Ib.Transition{constructor(t,e,n){super(t),this.from=e,this.to=n}get serializationType(){return 2}get label(){return Cb.IntervalSet.of(this.from,this.to)}matches(t,e,n){return t>=this.from&&t<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};za([Fi.Override],Pi.prototype,"serializationType",null);za([Fi.Override,Fi.NotNull],Pi.prototype,"label",null);za([Fi.Override],Pi.prototype,"matches",null);za([Fi.Override,Fi.NotNull],Pi.prototype,"toString",null);Pi=za([Ob(0,Fi.NotNull)],Pi);Gu.RangeTransition=Pi;var Ku={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Db=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.RuleStartState=void 0;const Rb=Kr,Fb=Se,Pb=tt;class jy extends Rb.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return Fb.ATNStateType.RULE_START}}Db([Pb.Override],jy.prototype,"stateType",null);Ku.RuleStartState=jy;var Xu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Lb=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.StarBlockStartState=void 0;const Bb=Se,Mb=Wi,kb=tt;class Uy extends Mb.BlockStartState{get stateType(){return Bb.ATNStateType.STAR_BLOCK_START}}Lb([kb.Override],Uy.prototype,"stateType",null);Xu.StarBlockStartState=Uy;var Ju={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var jb=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Ju,"__esModule",{value:!0});Ju.StarLoopbackState=void 0;const Ub=Kr,$b=Se,zb=tt;class $y extends Ub.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return $b.ATNStateType.STAR_LOOP_BACK}}jb([zb.Override],$y.prototype,"stateType",null);Ju.StarLoopbackState=$y;var Qu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var qb=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.TokensStartState=void 0;const Vb=Se,Hb=Jr,Wb=tt;class zy extends Hb.DecisionState{get stateType(){return Vb.ATNStateType.TOKEN_START}}qb([Wb.Override],zy.prototype,"stateType",null);Qu.TokensStartState=zy;var Zu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Zu,"__esModule",{value:!0});Zu.UUID=void 0;const Yb=oe;class jl{constructor(t,e,n,s){this.data=new Uint32Array(4),this.data[0]=t,this.data[1]=e,this.data[2]=n,this.data[3]=s}static fromString(t){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(t))throw new Error("Incorrectly formatted UUID");let e=t.split("-"),n=parseInt(e[0],16),s=(parseInt(e[1],16)<<16>>>0)+parseInt(e[2],16),i=(parseInt(e[3],16)<<16>>>0)+parseInt(e[4].substr(0,4),16),o=parseInt(e[4].substr(-8),16);return new jl(n,s,i,o)}hashCode(){return Yb.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(t){return t===this?!0:t instanceof jl?this.data[0]===t.data[0]&&this.data[1]===t.data[1]&&this.data[2]===t.data[2]&&this.data[3]===t.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}}Zu.UUID=jl;var cp;function mf(){if(cp)return ho;cp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(W,L,M,V){var Y=arguments.length,rt=Y<3?L:V===null?V=Object.getOwnPropertyDescriptor(L,M):V,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(W,L,M,V);else for(var q=W.length-1;q>=0;q--)(nt=W[q])&&(rt=(Y<3?nt(rt):Y>3?nt(L,M,rt):nt(L,M))||rt);return Y>3&&rt&&Object.defineProperty(L,M,rt),rt},t=w&&w.__param||function(W,L){return function(M,V){L(M,V,W)}};Object.defineProperty(ho,"__esModule",{value:!0}),ho.ATNDeserializer=void 0;const e=Ia,n=Er,s=Zr(),i=Ca,o=Se,a=Fa,l=Bu,u=Na,h=Tr,c=Mu,f=Wi,d=Jr,m=xy(),T=ku,y=Hi(),v=Ta,_=ju,S=Uu,E=$u,N=Ny,x=wy,O=zu,p=Oy,b=qu,F=Ma,j=tt,k=hf(),K=ja(),it=Hu,st=Wu,ut=Yu,at=_a,ht=Gu,G=Ku,et=Qn,Z=Ms,J=cf(),g=Xu,C=Ju,D=Bs,B=te,R=Qu,A=Zu,I=Oa;var P;(function(W){W[W.UNICODE_BMP=0]="UNICODE_BMP",W[W.UNICODE_SMP=1]="UNICODE_SMP"})(P||(P={}));let z=class yt{constructor(L){L===void 0&&(L=i.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=L}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(L,M){let V=yt.SUPPORTED_UUIDS.findIndex(Y=>Y.equals(L));return V<0?!1:yt.SUPPORTED_UUIDS.findIndex(Y=>Y.equals(M))>=V}static getUnicodeDeserializer(L){return L===0?{readUnicode:(M,V)=>yt.toInt(M[V]),size:1}:{readUnicode:(M,V)=>yt.toInt32(M,V),size:2}}deserialize(L){L=L.slice(0);for(let X=1;X<L.length;X++)L[X]=L[X]-2&65535;let M=0,V=yt.toInt(L[M++]);if(V!==yt.SERIALIZED_VERSION){let X=`Could not deserialize ATN with version ${V} (expected ${yt.SERIALIZED_VERSION}).`;throw new Error(X)}let Y=yt.toUUID(L,M);if(M+=8,yt.SUPPORTED_UUIDS.findIndex(X=>X.equals(Y))<0){let X=`Could not deserialize ATN with UUID ${Y} (expected ${yt.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(X)}let rt=yt.isFeatureSupported(yt.ADDED_LEXER_ACTIONS,Y),nt=yt.toInt(L[M++]),q=yt.toInt(L[M++]),Q=new s.ATN(nt,q),ct=[],xt=[],St=yt.toInt(L[M++]);for(let X=0;X<St;X++){let mt=yt.toInt(L[M++]);if(mt===o.ATNStateType.INVALID_TYPE){Q.addState(new v.InvalidState);continue}let vt=yt.toInt(L[M++]);vt===65535&&(vt=-1);let Bt=this.stateFactory(mt,vt);if(mt===o.ATNStateType.LOOP_END){let Wt=yt.toInt(L[M++]);ct.push([Bt,Wt])}else if(Bt instanceof f.BlockStartState){let Wt=yt.toInt(L[M++]);xt.push([Bt,Wt])}Q.addState(Bt)}for(let X of ct)X[0].loopBackState=Q.states[X[1]];for(let X of xt)X[0].endState=Q.states[X[1]];let $=yt.toInt(L[M++]);for(let X=0;X<$;X++){let mt=yt.toInt(L[M++]);Q.states[mt].nonGreedy=!0}let H=yt.toInt(L[M++]);for(let X=0;X<H;X++){let mt=yt.toInt(L[M++]);Q.states[mt].sll=!0}let ot=yt.toInt(L[M++]);for(let X=0;X<ot;X++){let mt=yt.toInt(L[M++]);Q.states[mt].isPrecedenceRule=!0}let ft=yt.toInt(L[M++]);Q.grammarType===0&&(Q.ruleToTokenType=new Int32Array(ft)),Q.ruleToStartState=new Array(ft);for(let X=0;X<ft;X++){let mt=yt.toInt(L[M++]),vt=Q.states[mt];if(vt.leftFactored=yt.toInt(L[M++])!==0,Q.ruleToStartState[X]=vt,Q.grammarType===0){let Bt=yt.toInt(L[M++]);Bt===65535&&(Bt=B.Token.EOF),Q.ruleToTokenType[X]=Bt,yt.isFeatureSupported(yt.ADDED_LEXER_ACTIONS,Y)||yt.toInt(L[M++])}}Q.ruleToStopState=new Array(ft);for(let X of Q.states)X instanceof et.RuleStopState&&(Q.ruleToStopState[X.ruleIndex]=X,Q.ruleToStartState[X.ruleIndex].stopState=X);let pt=yt.toInt(L[M++]);for(let X=0;X<pt;X++){let mt=yt.toInt(L[M++]);Q.modeToStartState.push(Q.states[mt])}Q.modeToDFA=new Array(pt);for(let X=0;X<pt;X++)Q.modeToDFA[X]=new m.DFA(Q.modeToStartState[X]);let bt=[];M=this.deserializeSets(L,M,bt,yt.getUnicodeDeserializer(0)),yt.isFeatureSupported(yt.ADDED_UNICODE_SMP,Y)&&(M=this.deserializeSets(L,M,bt,yt.getUnicodeDeserializer(1)));let gt=yt.toInt(L[M++]);for(let X=0;X<gt;X++){let mt=yt.toInt(L[M]),vt=yt.toInt(L[M+1]),Bt=yt.toInt(L[M+2]),Wt=yt.toInt(L[M+3]),Ue=yt.toInt(L[M+4]),be=yt.toInt(L[M+5]),or=this.edgeFactory(Q,Bt,mt,vt,Wt,Ue,be,bt);Q.states[mt].addTransition(or),M+=6}let Lt=new n.Array2DHashSet({hashCode:X=>X.stopState^X.returnState^X.outermostPrecedenceReturn,equals:(X,mt)=>X.stopState===mt.stopState&&X.returnState===mt.returnState&&X.outermostPrecedenceReturn===mt.outermostPrecedenceReturn}),It=[];for(let X of Q.states){let mt=X.ruleIndex>=0&&Q.ruleToStartState[X.ruleIndex].leftFactored;for(let vt=0;vt<X.numberOfTransitions;vt++){let Bt=X.transition(vt);if(!(Bt instanceof Z.RuleTransition))continue;let Wt=Bt;if(!Q.ruleToStartState[Wt.target.ruleIndex].leftFactored&&mt)continue;let be=-1;Q.ruleToStartState[Wt.target.ruleIndex].isPrecedenceRule&&Wt.precedence===0&&(be=Wt.target.ruleIndex);let or={stopState:Wt.target.ruleIndex,returnState:Wt.followState.stateNumber,outermostPrecedenceReturn:be};Lt.add(or)&&It.push(or)}}for(let X of It){let mt=new T.EpsilonTransition(Q.states[X.returnState],X.outermostPrecedenceReturn);Q.ruleToStopState[X.stopState].addTransition(mt)}for(let X of Q.states){if(X instanceof f.BlockStartState){if(X.endState===void 0)throw new Error("IllegalStateException");if(X.endState.startState!==void 0)throw new Error("IllegalStateException");X.endState.startState=X}if(X instanceof st.PlusLoopbackState){let mt=X;for(let vt=0;vt<mt.numberOfTransitions;vt++){let Bt=mt.transition(vt).target;Bt instanceof it.PlusBlockStartState&&(Bt.loopBackState=mt)}}else if(X instanceof C.StarLoopbackState){let mt=X;for(let vt=0;vt<mt.numberOfTransitions;vt++){let Bt=mt.transition(vt).target;Bt instanceof D.StarLoopEntryState&&(Bt.loopBackState=mt)}}}let re=yt.toInt(L[M++]);for(let X=1;X<=re;X++){let mt=yt.toInt(L[M++]),vt=Q.states[mt];Q.decisionToState.push(vt),vt.decision=X-1}if(Q.grammarType===0)if(rt){Q.lexerActions=new Array(yt.toInt(L[M++]));for(let X=0;X<Q.lexerActions.length;X++){let mt=yt.toInt(L[M++]),vt=yt.toInt(L[M++]);vt===65535&&(vt=-1);let Bt=yt.toInt(L[M++]);Bt===65535&&(Bt=-1);let Wt=this.lexerActionFactory(mt,vt,Bt);Q.lexerActions[X]=Wt}}else{let X=[];for(let mt of Q.states)for(let vt=0;vt<mt.numberOfTransitions;vt++){let Bt=mt.transition(vt);if(!(Bt instanceof e.ActionTransition))continue;let Wt=Bt.ruleIndex,Ue=Bt.actionIndex,be=new S.LexerCustomAction(Wt,Ue);mt.setTransition(vt,new e.ActionTransition(Bt.target,Wt,X.length,!1)),X.push(be)}Q.lexerActions=X}this.markPrecedenceDecisions(Q),Q.decisionToDFA=new Array(re);for(let X=0;X<re;X++)Q.decisionToDFA[X]=new m.DFA(Q.decisionToState[X],X);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(Q),this.deserializationOptions.isGenerateRuleBypassTransitions&&Q.grammarType===1){Q.ruleToTokenType=new Int32Array(Q.ruleToStartState.length);for(let X=0;X<Q.ruleToStartState.length;X++)Q.ruleToTokenType[X]=Q.maxTokenType+X+1;for(let X=0;X<Q.ruleToStartState.length;X++){let mt=new l.BasicBlockStartState;mt.ruleIndex=X,Q.addState(mt);let vt=new c.BlockEndState;vt.ruleIndex=X,Q.addState(vt),mt.endState=vt,Q.defineDecisionState(mt),vt.startState=mt;let Bt,Wt;if(Q.ruleToStartState[X].isPrecedenceRule){Bt=void 0;for(let be of Q.states){if(be.ruleIndex!==X||!(be instanceof D.StarLoopEntryState))continue;let or=be.transition(be.numberOfTransitions-1).target;if(or instanceof F.LoopEndState&&or.epsilonOnlyTransitions&&or.transition(0).target instanceof et.RuleStopState){Bt=be;break}}if(!Bt)throw new Error("Couldn't identify final state of the precedence rule prefix section.");Wt=Bt.loopBackState.transition(0)}else Bt=Q.ruleToStopState[X];for(let be of Q.states)for(let or=0;or<be.numberOfTransitions;or++){let rl=be.transition(or);rl!==Wt&&rl.target===Bt&&(rl.target=vt)}for(;Q.ruleToStartState[X].numberOfTransitions>0;){let be=Q.ruleToStartState[X].removeTransition(Q.ruleToStartState[X].numberOfTransitions-1);mt.addTransition(be)}Q.ruleToStartState[X].addTransition(new T.EpsilonTransition(mt)),vt.addTransition(new T.EpsilonTransition(Bt));let Ue=new u.BasicState;Q.addState(Ue),Ue.addTransition(new a.AtomTransition(vt,Q.ruleToTokenType[X])),mt.addTransition(new T.EpsilonTransition(Ue))}this.deserializationOptions.isVerifyATN&&this.verifyATN(Q)}if(this.deserializationOptions.isOptimize){for(;;){let X=0;X+=yt.inlineSetRules(Q),X+=yt.combineChainedEpsilons(Q);let mt=Q.grammarType===0;if(X+=yt.optimizeSets(Q,mt),X===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(Q)}return yt.identifyTailCalls(Q),Q}deserializeSets(L,M,V,Y){let rt=yt.toInt(L[M++]);for(let nt=0;nt<rt;nt++){let q=yt.toInt(L[M]);M++;let Q=new y.IntervalSet;V.push(Q),yt.toInt(L[M++])!==0&&Q.add(-1);for(let xt=0;xt<q;xt++){let St=Y.readUnicode(L,M);M+=Y.size;let $=Y.readUnicode(L,M);M+=Y.size,Q.add(St,$)}}return M}markPrecedenceDecisions(L){let M=new Map;for(let V of L.states)if(V instanceof D.StarLoopEntryState&&L.ruleToStartState[V.ruleIndex].isPrecedenceRule){let Y=V.transition(V.numberOfTransitions-1).target;Y instanceof F.LoopEndState&&Y.epsilonOnlyTransitions&&Y.transition(0).target instanceof et.RuleStopState&&(M.set(V.ruleIndex,V),V.precedenceRuleDecision=!0,V.precedenceLoopbackStates=new h.BitSet(L.states.length))}for(let V of M)for(let Y of L.ruleToStopState[V[0]].getTransitions())Y.serializationType!==1||Y.outermostPrecedenceReturn!==-1||V[1].precedenceLoopbackStates.set(Y.target.stateNumber)}verifyATN(L){for(let M of L.states)if(this.checkCondition(M!==void 0,"ATN states should not be undefined."),M.stateType!==o.ATNStateType.INVALID_TYPE){if(this.checkCondition(M.onlyHasEpsilonTransitions||M.numberOfTransitions<=1),M instanceof it.PlusBlockStartState&&this.checkCondition(M.loopBackState!==void 0),M instanceof D.StarLoopEntryState){let V=M;if(this.checkCondition(V.loopBackState!==void 0),this.checkCondition(V.numberOfTransitions===2),V.transition(0).target instanceof g.StarBlockStartState)this.checkCondition(V.transition(1).target instanceof F.LoopEndState),this.checkCondition(!V.nonGreedy);else if(V.transition(0).target instanceof F.LoopEndState)this.checkCondition(V.transition(1).target instanceof g.StarBlockStartState),this.checkCondition(V.nonGreedy);else throw new Error("IllegalStateException")}if(M instanceof C.StarLoopbackState&&(this.checkCondition(M.numberOfTransitions===1),this.checkCondition(M.transition(0).target instanceof D.StarLoopEntryState)),M instanceof F.LoopEndState&&this.checkCondition(M.loopBackState!==void 0),M instanceof G.RuleStartState&&this.checkCondition(M.stopState!==void 0),M instanceof f.BlockStartState&&this.checkCondition(M.endState!==void 0),M instanceof c.BlockEndState&&this.checkCondition(M.startState!==void 0),M instanceof d.DecisionState){let V=M;this.checkCondition(V.numberOfTransitions<=1||V.decision>=0)}else this.checkCondition(M.numberOfTransitions<=1||M instanceof et.RuleStopState)}}checkCondition(L,M){if(!L)throw new Error("IllegalStateException: "+M)}static inlineSetRules(L){let M=0,V=new Array(L.ruleToStartState.length);for(let Y=0;Y<L.ruleToStartState.length;Y++){let nt=L.ruleToStartState[Y];for(;nt.onlyHasEpsilonTransitions&&nt.numberOfOptimizedTransitions===1&&nt.getOptimizedTransition(0).serializationType===1;)nt=nt.getOptimizedTransition(0).target;if(nt.numberOfOptimizedTransitions!==1)continue;let q=nt.getOptimizedTransition(0),Q=q.target;if(!(q.isEpsilon||!Q.onlyHasEpsilonTransitions||Q.numberOfOptimizedTransitions!==1||!(Q.getOptimizedTransition(0).target instanceof et.RuleStopState)))switch(q.serializationType){case 5:case 2:case 7:V[Y]=q;break;case 8:case 9:continue;default:continue}}for(let Y of L.states){if(Y.ruleIndex<0)continue;let rt;for(let nt=0;nt<Y.numberOfOptimizedTransitions;nt++){let q=Y.getOptimizedTransition(nt);if(!(q instanceof Z.RuleTransition)){rt!==void 0&&rt.push(q);continue}let Q=q,ct=V[Q.target.ruleIndex];if(ct===void 0){rt!==void 0&&rt.push(q);continue}if(rt===void 0){rt=[];for(let $=0;$<nt;$++)rt.push(Y.getOptimizedTransition(nt))}M++;let xt=Q.followState,St=new u.BasicState;switch(St.setRuleIndex(xt.ruleIndex),L.addState(St),rt.push(new T.EpsilonTransition(St)),ct.serializationType){case 5:St.addTransition(new a.AtomTransition(xt,ct._label));break;case 2:St.addTransition(new ht.RangeTransition(xt,ct.from,ct.to));break;case 7:St.addTransition(new J.SetTransition(xt,ct.label));break;default:throw new Error("UnsupportedOperationException")}}if(rt!==void 0){if(Y.isOptimized)for(;Y.numberOfOptimizedTransitions>0;)Y.removeOptimizedTransition(Y.numberOfOptimizedTransitions-1);for(let nt of rt)Y.addOptimizedTransition(nt)}}return K.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+M+" rule invocations by inlining sets."),M}static combineChainedEpsilons(L){let M=0;for(let V of L.states){if(!V.onlyHasEpsilonTransitions||V instanceof et.RuleStopState)continue;let Y;t:for(let rt=0;rt<V.numberOfOptimizedTransitions;rt++){let nt=V.getOptimizedTransition(rt),q=nt.target;if(nt.serializationType!==1||nt.outermostPrecedenceReturn!==-1||q.stateType!==o.ATNStateType.BASIC||!q.onlyHasEpsilonTransitions){Y!==void 0&&Y.push(nt);continue t}for(let Q=0;Q<q.numberOfOptimizedTransitions;Q++)if(q.getOptimizedTransition(Q).serializationType!==1||q.getOptimizedTransition(Q).outermostPrecedenceReturn!==-1){Y!==void 0&&Y.push(nt);continue t}if(M++,Y===void 0){Y=[];for(let Q=0;Q<rt;Q++)Y.push(V.getOptimizedTransition(Q))}for(let Q=0;Q<q.numberOfOptimizedTransitions;Q++){let ct=q.getOptimizedTransition(Q).target;Y.push(new T.EpsilonTransition(ct))}}if(Y!==void 0){if(V.isOptimized)for(;V.numberOfOptimizedTransitions>0;)V.removeOptimizedTransition(V.numberOfOptimizedTransitions-1);for(let rt of Y)V.addOptimizedTransition(rt)}}return K.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+M+" transitions by combining chained epsilon transitions."),M}static optimizeSets(L,M){if(M)return 0;let V=0,Y=L.decisionToState;for(let rt of Y){let nt=new y.IntervalSet;for(let $=0;$<rt.numberOfOptimizedTransitions;$++){let H=rt.getOptimizedTransition($);if(!(H instanceof T.EpsilonTransition)||H.target.numberOfOptimizedTransitions!==1)continue;let ot=H.target.getOptimizedTransition(0);ot.target instanceof c.BlockEndState&&(ot instanceof k.NotSetTransition||(ot instanceof a.AtomTransition||ot instanceof ht.RangeTransition||ot instanceof J.SetTransition)&&nt.add($))}if(nt.size<=1)continue;let q=[];for(let $=0;$<rt.numberOfOptimizedTransitions;$++)nt.contains($)||q.push(rt.getOptimizedTransition($));let Q=rt.getOptimizedTransition(nt.minElement).target.getOptimizedTransition(0).target,ct=new y.IntervalSet;for(let $ of nt.intervals)for(let H=$.a;H<=$.b;H++){let ot=rt.getOptimizedTransition(H).target.getOptimizedTransition(0);if(ot instanceof k.NotSetTransition)throw new Error("Not yet implemented.");ct.addAll(ot.label)}let xt;if(ct.intervals.length===1)if(ct.size===1)xt=new a.AtomTransition(Q,ct.minElement);else{let $=ct.intervals[0];xt=new ht.RangeTransition(Q,$.a,$.b)}else xt=new J.SetTransition(Q,ct);let St=new u.BasicState;if(St.setRuleIndex(rt.ruleIndex),L.addState(St),St.addTransition(xt),q.push(new T.EpsilonTransition(St)),V+=rt.numberOfOptimizedTransitions-q.length,rt.isOptimized)for(;rt.numberOfOptimizedTransitions>0;)rt.removeOptimizedTransition(rt.numberOfOptimizedTransitions-1);for(let $ of q)rt.addOptimizedTransition($)}return K.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+V+" paths by collapsing sets."),V}static identifyTailCalls(L){for(let M of L.states){for(let V=0;V<M.numberOfTransitions;V++){let Y=M.transition(V);Y instanceof Z.RuleTransition&&(Y.tailCall=this.testTailCall(L,Y,!1),Y.optimizedTailCall=this.testTailCall(L,Y,!0))}if(M.isOptimized)for(let V=0;V<M.numberOfOptimizedTransitions;V++){let Y=M.getOptimizedTransition(V);Y instanceof Z.RuleTransition&&(Y.tailCall=this.testTailCall(L,Y,!1),Y.optimizedTailCall=this.testTailCall(L,Y,!0))}}}static testTailCall(L,M,V){if(!V&&M.tailCall||V&&M.optimizedTailCall)return!0;let Y=new h.BitSet(L.states.length),rt=[];for(rt.push(M.followState);;){let nt=rt.pop();if(!nt)break;if(Y.get(nt.stateNumber)||nt instanceof et.RuleStopState)continue;if(!nt.onlyHasEpsilonTransitions)return!1;let q=V?nt.numberOfOptimizedTransitions:nt.numberOfTransitions;for(let Q=0;Q<q;Q++){let ct=V?nt.getOptimizedTransition(Q):nt.transition(Q);if(ct.serializationType!==1)return!1;rt.push(ct.target)}}return!0}static toInt(L){return L}static toInt32(L,M){return(L[M]|L[M+1]<<16)>>>0}static toUUID(L,M){let V=yt.toInt32(L,M),Y=yt.toInt32(L,M+2),rt=yt.toInt32(L,M+4),nt=yt.toInt32(L,M+6);return new A.UUID(nt,rt,Y,V)}edgeFactory(L,M,V,Y,rt,nt,q,Q){let ct=L.states[Y];switch(M){case 1:return new T.EpsilonTransition(ct);case 2:return q!==0?new ht.RangeTransition(ct,B.Token.EOF,nt):new ht.RangeTransition(ct,rt,nt);case 3:return new Z.RuleTransition(L.states[rt],nt,q,ct);case 4:return new at.PredicateTransition(ct,rt,nt,q!==0);case 10:return new ut.PrecedencePredicateTransition(ct,rt);case 5:return q!==0?new a.AtomTransition(ct,B.Token.EOF):new a.AtomTransition(ct,rt);case 6:return new e.ActionTransition(ct,rt,nt,q!==0);case 7:return new J.SetTransition(ct,Q[rt]);case 8:return new k.NotSetTransition(ct,Q[rt]);case 9:return new I.WildcardTransition(ct)}throw new Error("The specified transition type is not valid.")}stateFactory(L,M){let V;switch(L){case o.ATNStateType.INVALID_TYPE:return new v.InvalidState;case o.ATNStateType.BASIC:V=new u.BasicState;break;case o.ATNStateType.RULE_START:V=new G.RuleStartState;break;case o.ATNStateType.BLOCK_START:V=new l.BasicBlockStartState;break;case o.ATNStateType.PLUS_BLOCK_START:V=new it.PlusBlockStartState;break;case o.ATNStateType.STAR_BLOCK_START:V=new g.StarBlockStartState;break;case o.ATNStateType.TOKEN_START:V=new R.TokensStartState;break;case o.ATNStateType.RULE_STOP:V=new et.RuleStopState;break;case o.ATNStateType.BLOCK_END:V=new c.BlockEndState;break;case o.ATNStateType.STAR_LOOP_BACK:V=new C.StarLoopbackState;break;case o.ATNStateType.STAR_LOOP_ENTRY:V=new D.StarLoopEntryState;break;case o.ATNStateType.PLUS_LOOP_BACK:V=new st.PlusLoopbackState;break;case o.ATNStateType.LOOP_END:V=new F.LoopEndState;break;default:let Y=`The specified state type ${L} is not valid.`;throw new Error(Y)}return V.ruleIndex=M,V}lexerActionFactory(L,M,V){switch(L){case 0:return new _.LexerChannelAction(M);case 1:return new S.LexerCustomAction(M,V);case 2:return new E.LexerModeAction(M);case 3:return N.LexerMoreAction.INSTANCE;case 4:return x.LexerPopModeAction.INSTANCE;case 5:return new O.LexerPushModeAction(M);case 6:return p.LexerSkipAction.INSTANCE;case 7:return new b.LexerTypeAction(M);default:let Y=`The specified lexer action type ${L} is not valid.`;throw new Error(Y)}}};return z.BASE_SERIALIZED_UUID=A.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),z.ADDED_LEXER_ACTIONS=A.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),z.ADDED_UNICODE_SMP=A.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),z.SUPPORTED_UUIDS=[z.BASE_SERIALIZED_UUID,z.ADDED_LEXER_ACTIONS,z.ADDED_UNICODE_SMP],z.SERIALIZED_UUID=z.ADDED_UNICODE_SMP,r([j.NotNull],z.prototype,"deserializationOptions",void 0),r([t(0,j.NotNull)],z.prototype,"deserialize",null),r([t(0,j.NotNull)],z.prototype,"markPrecedenceDecisions",null),r([j.NotNull,t(0,j.NotNull)],z.prototype,"edgeFactory",null),ho.ATNDeserializer=z,ho}var tc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var xf=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Gb=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(tc,"__esModule",{value:!0});tc.ParseInfo=void 0;const gf=tt;let la=class{constructor(t){this.atnSimulator=t}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let t=this.atnSimulator.getDecisionInfo(),e=[];for(let n=0;n<t.length;n++)t[n].LL_Fallback>0&&e.push(n);return e}getTotalTimeInPrediction(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let n of t)e+=n.timeInPrediction;return e}getTotalSLLLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let n of t)e+=n.SLL_TotalLook;return e}getTotalLLLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let n of t)e+=n.LL_TotalLook;return e}getTotalSLLATNLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let n of t)e+=n.SLL_ATNTransitions;return e}getTotalLLATNLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let n of t)e+=n.LL_ATNTransitions;return e}getTotalATNLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let n of t)e+=n.SLL_ATNTransitions,e+=n.LL_ATNTransitions;return e}getDFASize(t){if(t)return this.atnSimulator.atn.decisionToDFA[t].states.size;{let e=0,n=this.atnSimulator.atn.decisionToDFA;for(let s=0;s<n.length;s++)e+=this.getDFASize(s);return e}}};xf([gf.NotNull],la.prototype,"getDecisionInfo",null);xf([gf.NotNull],la.prototype,"getLLDecisions",null);la=xf([Gb(0,gf.NotNull)],la);tc.ParseInfo=la;var qa={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var _f=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(qa,"__esModule",{value:!0});qa.ProxyParserErrorListener=void 0;const Kb=Ls,vf=tt;class ec extends Kb.ProxyErrorListener{constructor(t){super(t)}reportAmbiguity(t,e,n,s,i,o,a){this.getDelegates().forEach(l=>{l.reportAmbiguity&&l.reportAmbiguity(t,e,n,s,i,o,a)})}reportAttemptingFullContext(t,e,n,s,i,o){this.getDelegates().forEach(a=>{a.reportAttemptingFullContext&&a.reportAttemptingFullContext(t,e,n,s,i,o)})}reportContextSensitivity(t,e,n,s,i,o){this.getDelegates().forEach(a=>{a.reportContextSensitivity&&a.reportContextSensitivity(t,e,n,s,i,o)})}}_f([vf.Override],ec.prototype,"reportAmbiguity",null);_f([vf.Override],ec.prototype,"reportAttemptingFullContext",null);_f([vf.Override],ec.prototype,"reportContextSensitivity",null);qa.ProxyParserErrorListener=ec;var eh={},rc={},Sf={},Un={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Un,"__esModule",{value:!0});Un.isSupplementaryCodePoint=Un.isLowSurrogate=Un.isHighSurrogate=void 0;function Xb(r){return r>=55296&&r<=56319}Un.isHighSurrogate=Xb;function Jb(r){return r>=56320&&r<=57343}Un.isLowSurrogate=Jb;function Qb(r){return r>=65536}Un.isSupplementaryCodePoint=Qb;(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.CodePointBuffer=void 0;const t=Le(),e=Un;class n{constructor(i,o){this.buffer=i,this._position=0,this._size=o}static withArray(i){return new n(i,i.length)}get position(){return this._position}set position(i){if(i<0||i>this._size)throw new RangeError;this._position=i}get remaining(){return this._size-this.position}get(i){return this.buffer[i]}array(){return this.buffer.slice(0,this._size)}static builder(i){return new n.Builder(i)}}r.CodePointBuffer=n,function(s){let i;(function(a){a[a.BYTE=0]="BYTE",a[a.CHAR=1]="CHAR",a[a.INT=2]="INT"})(i||(i={}));class o{constructor(l){this.type=0,this.buffer=new Uint8Array(l),this.prevHighSurrogate=-1,this.position=0}build(){return new s(this.buffer,this.position)}static roundUpToNextPowerOfTwo(l){let u=32-Math.clz32(l-1);return Math.pow(2,u)}ensureRemaining(l){switch(this.type){case 0:if(this.buffer.length-this.position<l){let u=o.roundUpToNextPowerOfTwo(this.buffer.length+l),h=new Uint8Array(u);h.set(this.buffer.subarray(0,this.position),0),this.buffer=h}break;case 1:if(this.buffer.length-this.position<l){let u=o.roundUpToNextPowerOfTwo(this.buffer.length+l),h=new Uint16Array(u);h.set(this.buffer.subarray(0,this.position),0),this.buffer=h}break;case 2:if(this.buffer.length-this.position<l){let u=o.roundUpToNextPowerOfTwo(this.buffer.length+l),h=new Int32Array(u);h.set(this.buffer.subarray(0,this.position),0),this.buffer=h}break}}append(l){this.ensureRemaining(l.length),this.appendArray(l)}appendArray(l){switch(this.type){case 0:this.appendArrayByte(l);break;case 1:this.appendArrayChar(l);break;case 2:this.appendArrayInt(l);break}}appendArrayByte(l){t(this.prevHighSurrogate===-1);let u=l,h=0,c=l.length,f=this.buffer,d=this.position;for(;h<c;){let m=u[h];if(m<=255)f[d]=m;else if(l=l.subarray(h,c),this.position=d,e.isHighSurrogate(m)){this.byteToIntBuffer(l.length),this.appendArrayInt(l);return}else{this.byteToCharBuffer(l.length),this.appendArrayChar(l);return}h++,d++}this.position=d}appendArrayChar(l){t(this.prevHighSurrogate===-1);let u=l,h=0,c=l.length,f=this.buffer,d=this.position;for(;h<c;){let m=u[h];if(!e.isHighSurrogate(m))f[d]=m;else{l=l.subarray(h,c),this.position=d,this.charToIntBuffer(l.length),this.appendArrayInt(l);return}h++,d++}this.position=d}appendArrayInt(l){let u=l,h=0,c=l.length,f=this.buffer,d=this.position;for(;h<c;){let m=u[h];h++,this.prevHighSurrogate!==-1?e.isLowSurrogate(m)?(f[d]=String.fromCharCode(this.prevHighSurrogate,m).codePointAt(0),d++,this.prevHighSurrogate=-1):(f[d]=this.prevHighSurrogate,d++,e.isHighSurrogate(m)?this.prevHighSurrogate=m:(f[d]=m,d++,this.prevHighSurrogate=-1)):e.isHighSurrogate(m)?this.prevHighSurrogate=m:(f[d]=m,d++)}this.prevHighSurrogate!==-1&&(f[d]=this.prevHighSurrogate,d++),this.position=d}byteToCharBuffer(l){let u=new Uint16Array(Math.max(this.position+l,this.buffer.length>>1));u.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=u}byteToIntBuffer(l){let u=new Int32Array(Math.max(this.position+l,this.buffer.length>>2));u.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=u}charToIntBuffer(l){let u=new Int32Array(Math.max(this.position+l,this.buffer.length>>1));u.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=u}}s.Builder=o}(n=r.CodePointBuffer||(r.CodePointBuffer={}))})(Sf);var Va={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var rn=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Va,"__esModule",{value:!0});Va.CodePointCharStream=void 0;const hp=Le(),cl=En,Zb=Oe,nn=tt;class sr{constructor(t,e,n,s){hp(e===0),this._array=t,this._size=n,this._name=s,this._position=0}get internalStorage(){return this._array}static fromBuffer(t,e){return(e===void 0||e.length===0)&&(e=cl.IntStream.UNKNOWN_SOURCE_NAME),new sr(t.array(),t.position,t.remaining,e)}consume(){if(this._size-this._position===0)throw hp(this.LA(1)===cl.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(t){}seek(t){this._position=t}get sourceName(){return this._name}toString(){return this.getText(Zb.Interval.of(0,this.size-1))}LA(t){let e;switch(Math.sign(t)){case-1:return e=this.index+t,e<0?cl.IntStream.EOF:this._array[e];case 0:return 0;case 1:return e=this.index+t-1,e>=this.size?cl.IntStream.EOF:this._array[e]}throw new RangeError("Not reached")}getText(t){const e=Math.min(t.a,this.size),n=Math.min(t.b-t.a+1,this.size-e);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(e,e+n))):String.fromCharCode(...Array.from(this._array.subarray(e,e+n)))}}rn([nn.Override],sr.prototype,"consume",null);rn([nn.Override],sr.prototype,"index",null);rn([nn.Override],sr.prototype,"size",null);rn([nn.Override],sr.prototype,"mark",null);rn([nn.Override],sr.prototype,"release",null);rn([nn.Override],sr.prototype,"seek",null);rn([nn.Override],sr.prototype,"sourceName",null);rn([nn.Override],sr.prototype,"toString",null);rn([nn.Override],sr.prototype,"LA",null);rn([nn.Override],sr.prototype,"getText",null);Va.CodePointCharStream=sr;(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.CharStreams=void 0;const t=Sf,e=Va,n=En;(function(s){function i(o,a){(a===void 0||a.length===0)&&(a=n.IntStream.UNKNOWN_SOURCE_NAME);let l=t.CodePointBuffer.builder(o.length),u=new Uint16Array(o.length);for(let h=0;h<o.length;h++)u[h]=o.charCodeAt(h);return l.append(u),e.CodePointCharStream.fromBuffer(l.build(),a)}s.fromString=i})(r.CharStreams||(r.CharStreams={}))})(rc);var Vs={},Ha={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ke=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},tE=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.BufferedTokenStream=void 0;const fp=Le(),dp=Kn,rh=Oe,nh=Zn(),ve=tt,ii=te;let Ne=class{constructor(t){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,t==null)throw new Error("tokenSource cannot be null");this._tokenSource=t}get tokenSource(){return this._tokenSource}set tokenSource(t){this._tokenSource=t,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(t){}seek(t){this.lazyInit(),this.p=this.adjustSeekIndex(t)}get size(){return this.tokens.length}consume(){let t;if(this.p>=0?this.fetchedEOF?t=this.p<this.tokens.length-1:t=this.p<this.tokens.length:t=!1,!t&&this.LA(1)===ii.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(t){fp(t>=0);let e=t-this.tokens.length+1;return e>0?this.fetch(e)>=e:!0}fetch(t){if(this.fetchedEOF)return 0;for(let e=0;e<t;e++){let n=this.tokenSource.nextToken();if(this.isWritableToken(n)&&(n.tokenIndex=this.tokens.length),this.tokens.push(n),n.type===ii.Token.EOF)return this.fetchedEOF=!0,e+1}return t}get(t){if(t<0||t>=this.tokens.length)throw new RangeError("token index "+t+" out of range 0.."+(this.tokens.length-1));return this.tokens[t]}getRange(t,e){if(t<0||e<0)return[];this.lazyInit();let n=new Array;e>=this.tokens.length&&(e=this.tokens.length-1);for(let s=t;s<=e;s++){let i=this.tokens[s];if(i.type===ii.Token.EOF)break;n.push(i)}return n}LA(t){let e=this.LT(t);return e?e.type:ii.Token.INVALID_TYPE}tryLB(t){if(!(this.p-t<0))return this.tokens[this.p-t]}LT(t){let e=this.tryLT(t);if(e===void 0)throw new RangeError("requested lookback index out of range");return e}tryLT(t){if(this.lazyInit(),t===0)throw new RangeError("0 is not a valid lookahead index");if(t<0)return this.tryLB(-t);let e=this.p+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(t,e,n){if(this.lazyInit(),t===void 0)return fp(e===void 0&&n===void 0),this.tokens;if(e===void 0&&(e=this.tokens.length-1),t<0||e>=this.tokens.length||e<0||t>=this.tokens.length)throw new RangeError("start "+t+" or stop "+e+" not in 0.."+(this.tokens.length-1));if(t>e)return[];if(n===void 0)return this.tokens.slice(t,e+1);typeof n=="number"&&(n=new Set().add(n));let s=n,i=this.tokens.slice(t,e+1);return i=i.filter(o=>s.has(o.type)),i}nextTokenOnChannel(t,e){if(this.sync(t),t>=this.size)return this.size-1;let n=this.tokens[t];for(;n.channel!==e;){if(n.type===ii.Token.EOF)return t;t++,this.sync(t),n=this.tokens[t]}return t}previousTokenOnChannel(t,e){if(this.sync(t),t>=this.size)return this.size-1;for(;t>=0;){let n=this.tokens[t];if(n.type===ii.Token.EOF||n.channel===e)return t;t--}return t}getHiddenTokensToRight(t,e=-1){if(this.lazyInit(),t<0||t>=this.tokens.length)throw new RangeError(t+" not in 0.."+(this.tokens.length-1));let n=this.nextTokenOnChannel(t+1,nh.Lexer.DEFAULT_TOKEN_CHANNEL),s,i=t+1;return n===-1?s=this.size-1:s=n,this.filterForChannel(i,s,e)}getHiddenTokensToLeft(t,e=-1){if(this.lazyInit(),t<0||t>=this.tokens.length)throw new RangeError(t+" not in 0.."+(this.tokens.length-1));if(t===0)return[];let n=this.previousTokenOnChannel(t-1,nh.Lexer.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return[];let s=n+1,i=t-1;return this.filterForChannel(s,i,e)}filterForChannel(t,e,n){let s=new Array;for(let i=t;i<=e;i++){let o=this.tokens[i];n===-1?o.channel!==nh.Lexer.DEFAULT_TOKEN_CHANNEL&&s.push(o):o.channel===n&&s.push(o)}return s}get sourceName(){return this.tokenSource.sourceName}getText(t){t===void 0?t=rh.Interval.of(0,this.size-1):t instanceof rh.Interval||(t=t.sourceInterval);let e=t.a,n=t.b;if(e<0||n<0)return"";this.fill(),n>=this.tokens.length&&(n=this.tokens.length-1);let s="";for(let i=e;i<=n;i++){let o=this.tokens[i];if(o.type===ii.Token.EOF)break;s+=o.text}return s.toString()}getTextFromRange(t,e){return this.isToken(t)&&this.isToken(e)?this.getText(rh.Interval.of(t.tokenIndex,e.tokenIndex)):""}fill(){this.lazyInit();const t=1e3;for(;;)if(this.fetch(t)<t)return}isWritableToken(t){return t instanceof dp.CommonToken}isToken(t){return t instanceof dp.CommonToken}};ke([ve.NotNull],Ne.prototype,"_tokenSource",void 0);ke([ve.Override],Ne.prototype,"tokenSource",null);ke([ve.Override],Ne.prototype,"index",null);ke([ve.Override],Ne.prototype,"mark",null);ke([ve.Override],Ne.prototype,"release",null);ke([ve.Override],Ne.prototype,"seek",null);ke([ve.Override],Ne.prototype,"size",null);ke([ve.Override],Ne.prototype,"consume",null);ke([ve.Override],Ne.prototype,"get",null);ke([ve.Override],Ne.prototype,"LA",null);ke([ve.NotNull,ve.Override],Ne.prototype,"LT",null);ke([ve.Override],Ne.prototype,"sourceName",null);ke([ve.NotNull,ve.Override],Ne.prototype,"getText",null);ke([ve.NotNull,ve.Override],Ne.prototype,"getTextFromRange",null);Ne=ke([tE(0,ve.NotNull)],Ne);Ha.BufferedTokenStream=Ne;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var nc=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},eE=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.CommonTokenStream=void 0;const rE=Ha,ic=tt,pp=te;let As=class extends rE.BufferedTokenStream{constructor(t,e=pp.Token.DEFAULT_CHANNEL){super(t),this.channel=e}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}tryLB(t){if(this.p-t<0)return;let e=this.p,n=1;for(;n<=t&&e>0;)e=this.previousTokenOnChannel(e-1,this.channel),n++;if(!(e<0))return this.tokens[e]}tryLT(t){if(this.lazyInit(),t===0)throw new RangeError("0 is not a valid lookahead index");if(t<0)return this.tryLB(-t);let e=this.p,n=1;for(;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n++;return this.tokens[e]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let e of this.tokens)if(e.channel===this.channel&&t++,e.type===pp.Token.EOF)break;return t}};nc([ic.Override],As.prototype,"adjustSeekIndex",null);nc([ic.Override],As.prototype,"tryLB",null);nc([ic.Override],As.prototype,"tryLT",null);As=nc([eE(0,ic.NotNull)],As);Vs.CommonTokenStream=As;var Wa={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Gi=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},qy=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.ListTokenSource=void 0;const nE=Ou,mn=tt,ih=te;let vn=class{constructor(t,e){if(this.i=0,this._factory=nE.CommonTokenFactory.DEFAULT,t==null)throw new Error("tokens cannot be null");this.tokens=t,this._sourceName=e}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let t=this.tokens[this.tokens.length-1],e=t.text;if(e!=null){let n=e.lastIndexOf(`
`);if(n>=0)return e.length-n-1}return t.charPositionInLine+t.stopIndex-t.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let e=-1;if(this.tokens.length>0){let s=this.tokens[this.tokens.length-1].stopIndex;s!==-1&&(e=s+1)}let n=Math.max(-1,e-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},ih.Token.EOF,"EOF",ih.Token.DEFAULT_CHANNEL,e,n,this.line,this.charPositionInLine)}return this.eofToken}let t=this.tokens[this.i];return this.i===this.tokens.length-1&&t.type===ih.Token.EOF&&(this.eofToken=t),this.i++,t}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let t=this.tokens[this.tokens.length-1],e=t.line,n=t.text;if(n!=null)for(let s=0;s<n.length;s++)n.charAt(s)===`
`&&e++;return e}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let t=this.inputStream;return t!=null?t.sourceName:"List"}set tokenFactory(t){this._factory=t}get tokenFactory(){return this._factory}};Gi([mn.Override],vn.prototype,"charPositionInLine",null);Gi([mn.Override],vn.prototype,"nextToken",null);Gi([mn.Override],vn.prototype,"line",null);Gi([mn.Override],vn.prototype,"inputStream",null);Gi([mn.Override],vn.prototype,"sourceName",null);Gi([mn.Override,mn.NotNull,qy(0,mn.NotNull)],vn.prototype,"tokenFactory",null);vn=Gi([qy(0,mn.NotNull)],vn);Wa.ListTokenSource=vn;var _o={},yp;function iE(){if(yp)return _o;yp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(_o,"__esModule",{value:!0}),_o.MultiMap=void 0;let r=class extends Map{constructor(){super()}map(e,n){let s=super.get(e);s||(s=[],super.set(e,s)),s.push(n)}getPairs(){let e=[];return this.forEach((n,s)=>{n.forEach(i=>{e.push([s,i])})}),e}};return _o.MultiMap=r,_o}var Ya={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Ya,"__esModule",{value:!0});Ya.ParseCancellationException=void 0;class sE extends Error{constructor(t){super(t.message),this.cause=t,this.stack=t.stack}getCause(){return this.cause}}Ya.ParseCancellationException=sE;var vo={},So={},mp;function Vy(){if(mp)return So;mp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var c=s.length-1;c>=0;c--)(h=s[c])&&(u=(l<3?h(u):l>3?h(i,o,u):h(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u};Object.defineProperty(So,"__esModule",{value:!0}),So.InterpreterRuleContext=void 0;const t=tt,e=wr();let n=class extends e.ParserRuleContext{constructor(i,o,a){a!==void 0?super(o,a):super(),this._ruleIndex=i}get ruleIndex(){return this._ruleIndex}};return r([t.Override],n.prototype,"ruleIndex",null),So.InterpreterRuleContext=n,So}var xp;function Hy(){if(xp)return vo;xp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(v,_,S,E){var N=arguments.length,x=N<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,S):E,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(v,_,S,E);else for(var p=v.length-1;p>=0;p--)(O=v[p])&&(x=(N<3?O(x):N>3?O(_,S,x):O(_,S))||x);return N>3&&x&&Object.defineProperty(_,S,x),x},t=w&&w.__param||function(v,_){return function(S,E){_(S,E,v)}};Object.defineProperty(vo,"__esModule",{value:!0}),vo.ParserInterpreter=void 0;const e=Kr,n=Se,s=Tr,i=Rs,o=ji,a=Vy(),l=Ma,u=tt,h=tt,c=Ka(),f=ja(),d=Xr,m=Bs,T=te;let y=class Bh extends c.Parser{constructor(_,S,E,N,x){if(super(_ instanceof Bh?_.inputStream:x),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,_ instanceof Bh){let O=_;this._grammarFileName=O._grammarFileName,this._atn=O._atn,this.pushRecursionContextStates=O.pushRecursionContextStates,this._ruleNames=O._ruleNames,this._vocabulary=O._vocabulary,this.interpreter=new f.ParserATNSimulator(this._atn,this)}else{S=S,E=E,N=N,this._grammarFileName=_,this._atn=N,this._ruleNames=E.slice(0),this._vocabulary=S,this.pushRecursionContextStates=new s.BitSet(N.states.length);for(let O of N.states)O instanceof m.StarLoopEntryState&&O.precedenceRuleDecision&&this.pushRecursionContextStates.set(O.stateNumber);this.interpreter=new f.ParserATNSimulator(N,this)}}reset(_){_===void 0?super.reset():super.reset(_),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(_){let S=this._atn.ruleToStartState[_];for(this._rootContext=this.createInterpreterRuleContext(void 0,e.ATNState.INVALID_STATE_NUMBER,_),S.isPrecedenceRule?this.enterRecursionRule(this._rootContext,S.stateNumber,_,0):this.enterRule(this._rootContext,S.stateNumber,_);;){let E=this.atnState;switch(E.stateType){case n.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(S.isPrecedenceRule){let N=this._ctx,x=this._parentContextStack.pop();return this.unrollRecursionContexts(x[0]),N}else return this.exitRule(),this._rootContext;this.visitRuleStopState(E);break;default:try{this.visitState(E)}catch(N){if(N instanceof d.RecognitionException)this.state=this._atn.ruleToStopState[E.ruleIndex].stateNumber,this.context.exception=N,this.errorHandler.reportError(this,N),this.recover(N);else throw N}break}}}enterRecursionRule(_,S,E,N){this._parentContextStack.push([this._ctx,_.invokingState]),super.enterRecursionRule(_,S,E,N)}get atnState(){return this._atn.states[this.state]}visitState(_){let S=1;_.numberOfTransitions>1&&(S=this.visitDecisionState(_));let E=_.transition(S-1);switch(E.serializationType){case 1:if(this.pushRecursionContextStates.get(_.stateNumber)&&!(E.target instanceof l.LoopEndState)){let F=this._parentContextStack[this._parentContextStack.length-1],j=this.createInterpreterRuleContext(F[0],F[1],this._ctx.ruleIndex);this.pushNewRecursionContext(j,this._atn.ruleToStartState[_.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(E._label);break;case 2:case 7:case 8:E.matches(this._input.LA(1),T.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let N=E.target,x=N.ruleIndex,O=this.createInterpreterRuleContext(this._ctx,_.stateNumber,x);N.isPrecedenceRule?this.enterRecursionRule(O,N.stateNumber,x,E.precedence):this.enterRule(O,E.target.stateNumber,x);break;case 4:let p=E;if(!this.sempred(this._ctx,p.ruleIndex,p.predIndex))throw new i.FailedPredicateException(this);break;case 6:let b=E;this.action(this._ctx,b.ruleIndex,b.actionIndex);break;case 10:if(!this.precpred(this._ctx,E.precedence)){let F=E.precedence;throw new i.FailedPredicateException(this,`precpred(_ctx, ${F})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=E.target.stateNumber}visitDecisionState(_){let S;this.errorHandler.sync(this);let E=_.decision;return E===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(S=this.overrideDecisionAlt,this.overrideDecisionReached=!0):S=this.interpreter.adaptivePredict(this._input,E,this._ctx),S}createInterpreterRuleContext(_,S,E){return new a.InterpreterRuleContext(E,_,S)}visitRuleStopState(_){if(this._atn.ruleToStartState[_.ruleIndex].isPrecedenceRule){let N=this._parentContextStack.pop();this.unrollRecursionContexts(N[0]),this.state=N[1]}else this.exitRule();let E=this._atn.states[this.state].transition(0);this.state=E.followState.stateNumber}addDecisionOverride(_,S,E){this.overrideDecision=_,this.overrideDecisionInputIndex=S,this.overrideDecisionAlt=E}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(_){let S=this._input.index;if(this.errorHandler.recover(this,_),this._input.index===S){let E=_.getOffendingToken();if(!E)throw new Error("Expected exception to have an offending token");let N=E.tokenSource,x=N!==void 0?N.inputStream:void 0,O={source:N,stream:x};if(_ instanceof o.InputMismatchException){let p=_.expectedTokens;if(p===void 0)throw new Error("Expected the exception to provide expected tokens");let b=T.Token.INVALID_TYPE;p.isNil||(b=p.minElement);let F=this.tokenFactory.create(O,b,E.text,T.Token.DEFAULT_CHANNEL,-1,-1,E.line,E.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,F))}else{E.tokenSource;let p=this.tokenFactory.create(O,T.Token.INVALID_TYPE,E.text,T.Token.DEFAULT_CHANNEL,-1,-1,E.line,E.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,p))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};return r([u.NotNull],y.prototype,"_vocabulary",void 0),r([h.Override],y.prototype,"reset",null),r([h.Override],y.prototype,"atn",null),r([h.Override],y.prototype,"vocabulary",null),r([h.Override],y.prototype,"ruleNames",null),r([h.Override],y.prototype,"grammarFileName",null),r([h.Override],y.prototype,"enterRecursionRule",null),y=r([t(1,u.NotNull)],y),vo.ParserInterpreter=y,vo}var bo={},gp;function oE(){if(gp)return bo;gp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var c=s.length-1;c>=0;c--)(h=s[c])&&(u=(l<3?h(u):l>3?h(i,o,u):h(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u},t=w&&w.__param||function(s,i){return function(o,a){i(o,a,s)}};Object.defineProperty(bo,"__esModule",{value:!0}),bo.ParseTreeMatch=void 0;const e=tt;let n=class{constructor(i,o,a,l){if(!i)throw new Error("tree cannot be null");if(!o)throw new Error("pattern cannot be null");if(!a)throw new Error("labels cannot be null");this._tree=i,this._pattern=o,this._labels=a,this._mismatchedNode=l}get(i){let o=this._labels.get(i);if(!(!o||o.length===0))return o[o.length-1]}getAll(i){const o=this._labels.get(i);return o||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};return r([e.NotNull,t(0,e.NotNull)],n.prototype,"getAll",null),r([e.NotNull],n.prototype,"labels",null),r([e.NotNull],n.prototype,"pattern",null),r([e.NotNull],n.prototype,"tree",null),r([e.Override],n.prototype,"toString",null),n=r([t(0,e.NotNull),t(1,e.NotNull),t(2,e.NotNull)],n),bo.ParseTreeMatch=n,bo}var Eo={},Ao={},To={},_p;function aE(){if(_p)return To;_p=1,Object.defineProperty(To,"__esModule",{value:!0}),To.XPathLexer=void 0;const r=mf(),t=Zn(),e=Lu(),n=Tn,s=me;let i=class Qe extends t.Lexer{constructor(a){super(a),this._interp=new e.LexerATNSimulator(Qe._ATN,this)}get vocabulary(){return Qe.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return Qe.ruleNames}get serializedATN(){return Qe._serializedATN}get channelNames(){return Qe.channelNames}get modeNames(){return Qe.modeNames}action(a,l,u){switch(l){case 4:this.ID_action(a,u);break}}ID_action(a,l){switch(l){case 0:let u=this.text;u.charAt(0)===u.charAt(0).toUpperCase()?this.type=Qe.TOKEN_REF:this.type=Qe.RULE_REF;break}}static get _ATN(){return Qe.__ATN||(Qe.__ATN=new r.ATNDeserializer().deserialize(s.toCharArray(Qe._serializedATN))),Qe.__ATN}};return To.XPathLexer=i,i.TOKEN_REF=1,i.RULE_REF=2,i.ANYWHERE=3,i.ROOT=4,i.WILDCARD=5,i.BANG=6,i.ID=7,i.STRING=8,i.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],i.modeNames=["DEFAULT_MODE"],i.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],i._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],i._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],i.VOCABULARY=new n.VocabularyImpl(i._LITERAL_NAMES,i._SYMBOLIC_NAMES,[]),i._serializedATNSegments=2,i._serializedATNSegment0=`줝쪺֍꾺体؇쉁
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r
ʶ
2;C\\aac|¡¬¬¯¯··¼¼ÂØÚøú˃ˈ˓ˢ˦ˮˮ˰˰̂Ͷ͸͹ͼͿ΁΁ΈΈΊΌΎΎΐΣΥϷϹ҃҅҉ҌԱԳ՘՛՛գ։֓ֿׁׁ׃ׄ׆ׇ׉׉ג׬ײ״؂؇ؒ؜؞؞آ٫ٰەۗ۟ۡ۪۬۾܁܁ܑ݌ݏ޳߂߷߼߼ࠂ࠯ࡂ࡝ࢢࢶࢸࢿࣖ॥२ॱॳঅই঎঑঒কপবল঴঴স঻া৆৉৊্৐৙৙৞য়ৡ৥২৳ਃਅਇ਌਑਒ਕਪਬਲ਴ਵ਷ਸ਺਻ਾਾੀ੄੉੊੍੏੓੓ਜ਼ਫ਼੠੠੨੷ઃઅઇએઑઓકપબલ઴વષ઻ાેૉો્૏૒૒ૢ૥૨૱ૻૻଃଅଇ଎଑଒କପବଲ଴ଵଷ଻ା୆୉୊୍୏୘୙୞ୟୡ୥୨ୱ୳୳஄அஇ஌ஐஒஔ஗஛ஜஞஞ஠஡஥஦ப஬ர஻ீ௄ைொௌ௏௒௒௙௙௨௱ంఅఇఎఐఒఔపబ఻ిెైొౌ౏౗ౘౚ౜ౢ౥౨౱ಂಅಇಎಐಒಔಪಬವಷ಻ಾೆೈೊೌ೏೗೘ೠೠೢ೥೨ೱೳ೴ഃഅഇഎഐഒഔ഼ിെൈൊൌ൐ൖ൙ൡ൥൨൱ർඁ඄අඇ඘ගඳඵල඿඿ෂ෈෌෌ෑූෘෘේ෡෨෱෴෵ฃ฼โ๐๒๛຃ຄຆຆຉຊຌຌຏຏຖນປມຣລວວຩຩຬອຯົຽ຿ໂໆ່່໊໏໒໛ໞ໡༂༂༚༛༢༫༷༷༹༹༻༻ཀཉཋ཮ཱི྆ྈྙྛ྾࿈࿈ဂ။ၒ႟ႢჇ჉჉჏჏გჼჾቊቌ቏ቒቘቚቚቜ቟ቢኊኌ኏ኒኲኴ኷ኺዀዂዂዄ዇ዊዘዚጒጔ጗ጚ፜፟፡ᎂ᎑Ꭲ᏷ᏺ᏿ᐃ᙮ᙱᚁᚃ᚜ᚢ᛬ᛰ᛺ᜂᜎᜐ᜖ᜢ᜶ᝂ᝕ᝢᝮᝰᝲ᝴᝵គ៕៙៙៞៟២៫᠍᠐᠒᠛ᠢ᡹ᢂ᢬ᢲ᣷ᤂᤠᤢ᤭ᤲ᤽᥈᥯ᥲ᥶ᦂ᦭ᦲ᧋᧒᧛ᨂ᨝ᨢ᩠ᩢ᩾᪁᪋᪒᪛᪩᪩᪲ᪿᬂ᭍᭒᭛᭭᭵ᮂ᯵ᰂ᰹᱂᱋ᱏ᱿ᲂᲊ᳒᳔᳖᳸ᳺ᳻ᴂ᷷᷽἗Ἒ἟ἢ὇Ὂ὏ὒὙὛὛὝὝὟὟὡ὿ᾂᾶᾸι῀῀ῄῆῈ῎ῒ῕Ῐ῝ῢ΅ῴῶῸ῾‍‑‬‰⁁⁂⁖⁖⁢⁦⁨ⁱ⁳⁳₁₁ₒ₞⃒⃞⃣⃣⃧⃲℄℄℉℉ℌℕ℗℗ℛ℟ΩΩℨℨKKℬℯℱ℻ℾ⅁ⅇ⅋⅐⅐Ⅲ↊ⰂⰰⰲⱠⱢ⳦Ⳮ⳵ⴂⴧ⴩⴩⴯⴯ⴲ⵩⵱⵱ⶁ⶘ⶢⶨⶪⶰⶲⶸⶺⷀⷂⷈⷊⷐⷒⷘⷚⷠⷢ⸁⸱⸱〇〉〣〱〳〷〺〾ぃ゘゛゜ゟァィーヾ㄁ㄇㄯㄳ㆐ㆢㆼㇲ㈁㐂䶷丂鿗ꀂ꒎ꓒ꓿ꔂ꘎ꘒ꘭Ꙃ꙱ꙶꙿꚁ꛳ꜙ꜡Ꜥ꞊ꞍꞰꞲꞹꟹ꠩ꡂ꡵ꢂ꣇꣒꣛꣢꣹ꣽꣽꣿꣿ꤂꤯ꤲ꥕ꥢ꥾ꦂ꧂꧑꧛ꧢꨀꨂ꨸ꩂ꩏꩒꩛ꩢ꩸ꩼ꫄ꫝ꫟ꫢ꫱ꫴ꫸ꬃ꬈ꬋ꬐ꬓ꬘ꬢꬨꬪꬰꬲꭜꭞꭧꭲ꯬꯮꯯꯲꯻갂힥ힲ퟈ퟍ퟽車﩯全﫛ﬂ﬈ﬕ﬙ײַשׁשּׁטּךּמּנּנּ﭂ףּ﭅צּרּ﮳ﯕ﴿ﵒ﶑ﶔ﷉ﷲ﷽︂︑︢︱︵︶﹏﹑ﹲﹶﹸ﻾！！２；Ｃ＼ａａｃ｜ｨ￀ￄ￉ￌ￑ￔ￙ￜ￞￻�\r(*<>?AOR_üłŶǿǿʂʞʢ˒ˢˢ̂̡̲͌͒ͼ΂Ο΢υϊϑϓϗЂҟҢҫҲӕӚӽԂԩԲե؂ܸ݂ݗݢݩࠂࠇࠊࠊࠌ࠷࠹࠺࠾࠾ࡁࡗࡢࡸࢂࢠ࣢ࣴࣶࣷंगढऻংহীুਂਅਇਈ਎ਕਗਙਛਵ਺਼ੁੁ੢੾ંઞૂૉો૨ଂଷୂୗୢ୴ஂஓంొಂ಴ೂ೴ဂ၈ၨၱႁႼႿႿგცჲ჻ᄂᄶᄸᅁᅒᅵᅸᅸᆂᇆᇌᇎᇒᇜᇞᇞሂሓሕሹቀቀኂኈኊኊኌ኏ኑኟኡኪኲዬዲዻጂጅጇጎ጑ጒጕጪጬጲጴጵጷጻጾፆፉፊፍፏፒፒፙፙ፟፥፨፮፲፶ᐂᑌᑒᑛᒂᓇᓉᓉᓒᓛᖂᖷᖺᗂᗚᗟᘂᙂᙆᙆᙒᙛᚂᚹᛂᛋᜂ᜛ᜟᜭᜲ᜻ᢢᣫᤁᤁ᫂᫺ᰂᰊᰌ᰸᰺᱂᱒ᱛᱴᲑᲔᲩᲫᲸ ⎛␂⑰⒂╅。㐰䐂䙈栂樺橂橠橢橫櫒櫯櫲櫶欂欸歂歅歒歛步歹歿殑漂潆潒澀澑澡濢濢瀂蟮蠂諴뀂뀃밂뱬뱲뱾벂벊벒벛벟베벢벥텧텫텯톄톇톍톬톯퉄퉆퐂푖푘풞풠풡풤풤풧풨풫풮풰풻풽풽풿퓅퓇픇픉플픏픖픘픞픠픻픽핀핂핆핈핈핌핒핔횧횪훂후훜훞훼훾휖휘휶휸흐흒흰흲힊힌힪힬ퟄퟆퟍퟐ\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1ꛘ꜂뜶띂렟렢캣﨟"ĂǱɀC\\c|¬¬··¼¼ÂØÚøú˃ˈ˓ˢ˦ˮˮ˰˰ͲͶ͸͹ͼͿ΁΁ΈΈΊΌΎΎΐΣΥϷϹ҃ҌԱԳ՘՛՛գ։ג׬ײ״آٌٰٱٳەۗۗۧۨ۰۱ۼ۾܁܁ܒܒܔܱݏާ޳޳ߌ߬߶߷߼߼ࠂࠗࠜࠜࠦࠦࠪࠪࡂ࡚ࢢࢶࢸࢿआऻिि॒॒ग़ॣॳংই঎঑঒কপবল঴঴স঻িি৐৐৞য়ৡৣ৲৳ਇ਌਑਒ਕਪਬਲ਴ਵ਷ਸ਺਻ਜ਼ਫ਼੠੠ੴ੶ઇએઑઓકપબલ઴વષ઻િિ૒૒ૢૣૻૻଇ଎଑଒କପବଲ଴ଵଷ଻ିି୞ୟୡୣ୳୳அஅஇ஌ஐஒஔ஗஛ஜஞஞ஠஡஥஦ப஬ர஻௒௒ఇఎఐఒఔపబ఻ిిౚ౜ౢౣಂಂಇಎಐಒಔಪಬವಷ಻ಿಿೠೠೢೣೳ೴ഇഎഐഒഔ഼ിി൐൐ൖ൘ൡൣർඁඇ඘ගඳඵල඿඿ෂ෈ฃาิีโ่຃ຄຆຆຉຊຌຌຏຏຖນປມຣລວວຩຩຬອຯາິີ຿຿ໂໆ່່ໞ໡༂༂གཉཋ཮ྊྎဂာ၁၁ၒၗၜၟၣၣၧၨၰၲၷႃ႐႐ႢჇ჉჉჏჏გჼჾቊቌ቏ቒቘቚቚቜ቟ቢኊኌ኏ኒኲኴ኷ኺዀዂዂዄ዇ዊዘዚጒጔ጗ጚ፜ᎂ᎑Ꭲ᏷ᏺ᏿ᐃ᙮ᙱᚁᚃ᚜ᚢ᛬ᛰ᛺ᜂᜎᜐᜓᜢᜳᝂᝓᝢᝮᝰᝲគ឵៙៙៞៞ᠢ᡹ᢂᢆᢉᢪ᢬᢬ᢲ᣷ᤂᤠᥒ᥯ᥲ᥶ᦂ᦭ᦲ᧋ᨂᨘᨢᩖ᪩᪩ᬇᬵᭇ᭍ᮅᮢ᮰᮱ᮼᯧᰂᰥᱏ᱑ᱜ᱿ᲂᲊᳫᳮᳰᳳ᳷᳸ᴂ᷁Ḃ἗Ἒ἟ἢ὇Ὂ὏ὒὙὛὛὝὝὟὟὡ὿ᾂᾶᾸι῀῀ῄῆῈ῎ῒ῕Ῐ῝ῢ΅ῴῶῸ῾⁳⁳₁₁ₒ₞℄℄℉℉ℌℕ℗℗ℛ℟ΩΩℨℨKKℬℯℱ℻ℾ⅁ⅇ⅋⅐⅐Ⅲ↊ⰂⰰⰲⱠⱢ⳦Ⳮ⳰⳴⳵ⴂⴧ⴩⴩⴯⴯ⴲ⵩⵱⵱ⶂ⶘ⶢⶨⶪⶰⶲⶸⶺⷀⷂⷈⷊⷐⷒⷘⷚⷠ⸱⸱〇〉〣〫〳〷〺〾ぃ゘ゟァィーヾ㄁ㄇㄯㄳ㆐ㆢㆼㇲ㈁㐂䶷丂鿗ꀂ꒎ꓒ꓿ꔂ꘎ꘒ꘡꘬꘭Ꙃ꙰ꚁꚟꚢ꛱ꜙ꜡Ꜥ꞊ꞍꞰꞲꞹꟹꠃꠅꠇꠉꠌꠎꠤꡂ꡵ꢄꢵꣴ꣹ꣽꣽꣿꣿꤌꤧꤲꥈꥢ꥾ꦆꦴ꧑꧑ꧢꧦꧨ꧱ꧼꨀꨂꨪꩂꩄꩆꩍꩢ꩸ꩼꩼꪀꪱꪳꪳꪷꪸꪻ꪿ꫂꫂ꫄꫄ꫝ꫟ꫢꫬꫴ꫶ꬃ꬈ꬋ꬐ꬓ꬘ꬢꬨꬪꬰꬲꭜꭞꭧꭲꯤ갂힥ힲ퟈ퟍ퟽車﩯全﫛ﬂ﬈ﬕ﬙ײַײַﬡשׁשּׁטּךּמּנּנּ﭂ףּ﭅צּרּ﮳ﯕ﴿ﵒ﶑ﶔ﷉ﷲ﷽ﹲﹶﹸ﻾Ｃ＼ｃ｜ｨ￀ￄ￉ￌ￑ￔ￙ￜ￞\r(*<>?AOR_üłŶʂʞʢ˒̂̡̲͌͒ͷ΂Ο΢υϊϑϓϗЂҟҲӕӚӽԂԩԲե؂ܸ݂ݗݢݩࠂࠇࠊࠊࠌ࠷࠹࠺࠾࠾ࡁࡗࡢࡸࢂࢠ࣢ࣴࣶࣷंगढऻংহীুਂਂ਒ਕਗਙਛਵ੢੾ંઞૂૉો૦ଂଷୂୗୢ୴ஂஓంొಂ಴ೂ೴စ္ႅႱგცᄅᄨᅒᅴᅸᅸᆅᆴᇃᇆᇜᇜᇞᇞሂሓሕርኂኈኊኊኌ኏ኑኟኡኪኲዠጇጎ጑ጒጕጪጬጲጴጵጷጻጿጿፒፒ፟፣ᐂᐶᑉᑌᒂᒱᓆᓇᓉᓉᖂᖰᗚᗝᘂᘱᙆᙆᚂᚬᜂ᜛ᢢᣡᤁᤁ᫂᫺ᰂᰊᰌᰰ᱂᱂ᱴᲑ ⎛␂⑰⒂╅。㐰䐂䙈栂樺橂橠櫒櫯欂欱歂歅步歹歿殑漂潆潒潒澕澡濢濢瀂蟮蠂諴뀂뀃밂뱬뱲뱾벂벊벒벛퐂푖푘풞풠풡풤풤풧풨풫풮풰풻풽풽풿퓅퓇픇픉플픏픖픘픞픠픻픽핀핂핆핈핈`,i._serializedATNSegment1=`핌핒핔횧횪훂후훜훞훼훾휖휘휶휸흐흒흰흲힊힌힪힬ퟄퟆퟍꛘ꜂뜶띂렟렢캣﨟1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`,i._serializedATN=s.join([i._serializedATNSegment0,i._serializedATNSegment1],""),To}var No={},vp;function lE(){if(vp)return No;vp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(n,s,i,o){var a=arguments.length,l=a<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,i):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,s,i,o);else for(var h=n.length-1;h>=0;h--)(u=n[h])&&(l=(a<3?u(l):a>3?u(s,i,l):u(s,i))||l);return a>3&&l&&Object.defineProperty(s,i,l),l};Object.defineProperty(No,"__esModule",{value:!0}),No.XPathLexerErrorListener=void 0;const t=tt;let e=class{syntaxError(s,i,o,a,l,u){}};return r([t.Override],e.prototype,"syntaxError",null),No.XPathLexerErrorListener=e,No}var wo={},Oo={},Sp;function Hs(){if(Sp)return Oo;Sp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(n,s,i,o){var a=arguments.length,l=a<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,i):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,s,i,o);else for(var h=n.length-1;h>=0;h--)(u=n[h])&&(l=(a<3?u(l):a>3?u(s,i,l):u(s,i))||l);return a>3&&l&&Object.defineProperty(s,i,l),l};Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.XPathElement=void 0;const t=tt;let e=class{constructor(s){this.nodeName=s,this.invert=!1}toString(){let s=this.invert?"!":"";return Object.constructor.name+"["+s+this.nodeName+"]"}};return r([t.Override],e.prototype,"toString",null),Oo.XPathElement=e,Oo}var bp;function uE(){if(bp)return wo;bp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h};Object.defineProperty(wo,"__esModule",{value:!0}),wo.XPathRuleAnywhereElement=void 0;const t=tt,e=Yi(),n=Hs();let s=class extends n.XPathElement{constructor(o,a){super(o),this.ruleIndex=a}evaluate(o){return e.Trees.findAllRuleNodes(o,this.ruleIndex)}};return r([t.Override],s.prototype,"evaluate",null),wo.XPathRuleAnywhereElement=s,wo}var Co={},Ep;function cE(){if(Ep)return Co;Ep=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(o,a,l,u){var h=arguments.length,c=h<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,a,l,u);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(h<3?f(c):h>3?f(a,l,c):f(a,l))||c);return h>3&&c&&Object.defineProperty(a,l,c),c};Object.defineProperty(Co,"__esModule",{value:!0}),Co.XPathRuleElement=void 0;const t=wr(),e=tt,n=Yi(),s=Hs();let i=class extends s.XPathElement{constructor(a,l){super(a),this.ruleIndex=l}evaluate(a){let l=[];for(let u of n.Trees.getChildren(a))u instanceof t.ParserRuleContext&&(u.ruleIndex===this.ruleIndex&&!this.invert||u.ruleIndex!==this.ruleIndex&&this.invert)&&l.push(u);return l}};return r([e.Override],i.prototype,"evaluate",null),Co.XPathRuleElement=i,Co}var Io={},Ap;function hE(){if(Ap)return Io;Ap=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h};Object.defineProperty(Io,"__esModule",{value:!0}),Io.XPathTokenAnywhereElement=void 0;const t=tt,e=Yi(),n=Hs();let s=class extends n.XPathElement{constructor(o,a){super(o),this.tokenType=a}evaluate(o){return e.Trees.findAllTokenNodes(o,this.tokenType)}};return r([t.Override],s.prototype,"evaluate",null),Io.XPathTokenAnywhereElement=s,Io}var Do={},Tp;function fE(){if(Tp)return Do;Tp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(o,a,l,u){var h=arguments.length,c=h<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,a,l,u);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(h<3?f(c):h>3?f(a,l,c):f(a,l))||c);return h>3&&c&&Object.defineProperty(a,l,c),c};Object.defineProperty(Do,"__esModule",{value:!0}),Do.XPathTokenElement=void 0;const t=tt,e=In,n=Yi(),s=Hs();let i=class extends s.XPathElement{constructor(a,l){super(a),this.tokenType=l}evaluate(a){let l=[];for(let u of n.Trees.getChildren(a))u instanceof e.TerminalNode&&(u.symbol.type===this.tokenType&&!this.invert||u.symbol.type!==this.tokenType&&this.invert)&&l.push(u);return l}};return r([t.Override],i.prototype,"evaluate",null),Do.XPathTokenElement=i,Do}var Ro={},Np;function dE(){if(Np)return Ro;Np=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(o,a,l,u){var h=arguments.length,c=h<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,a,l,u);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(h<3?f(c):h>3?f(a,l,c):f(a,l))||c);return h>3&&c&&Object.defineProperty(a,l,c),c};Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.XPathWildcardAnywhereElement=void 0;const t=tt,e=Yi(),n=bf(),s=Hs();let i=class extends s.XPathElement{constructor(){super(n.XPath.WILDCARD)}evaluate(a){return this.invert?[]:e.Trees.getDescendants(a)}};return r([t.Override],i.prototype,"evaluate",null),Ro.XPathWildcardAnywhereElement=i,Ro}var Fo={},wp;function pE(){if(wp)return Fo;wp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(o,a,l,u){var h=arguments.length,c=h<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,a,l,u);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(h<3?f(c):h>3?f(a,l,c):f(a,l))||c);return h>3&&c&&Object.defineProperty(a,l,c),c};Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.XPathWildcardElement=void 0;const t=tt,e=Yi(),n=bf(),s=Hs();let i=class extends s.XPathElement{constructor(){super(n.XPath.WILDCARD)}evaluate(a){let l=[];if(this.invert)return l;for(let u of e.Trees.getChildren(a))l.push(u);return l}};return r([t.Override],i.prototype,"evaluate",null),Fo.XPathWildcardElement=i,Fo}var Op;function bf(){if(Op)return Ao;Op=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.XPath=void 0;const r=rc,t=Vs,e=Vi,n=wr(),s=te,i=aE(),o=lE(),a=uE(),l=cE(),u=hE(),h=fE(),c=dE(),f=pE();let d=class Wy{constructor(T,y){this.parser=T,this.path=y,this.elements=this.split(y)}split(T){let y=new i.XPathLexer(r.CharStreams.fromString(T));y.recover=x=>{throw x},y.removeErrorListeners(),y.addErrorListener(new o.XPathLexerErrorListener);let v=new t.CommonTokenStream(y);try{v.fill()}catch(x){if(x instanceof e.LexerNoViableAltException){let p="Invalid tokens or characters at index "+y.charPositionInLine+" in path '"+T+"' -- "+x.message;throw new RangeError(p)}throw x}let _=v.getTokens(),S=[],E=_.length,N=0;t:for(;N<E;){let x=_[N],O;switch(x.type){case i.XPathLexer.ROOT:case i.XPathLexer.ANYWHERE:let p=x.type===i.XPathLexer.ANYWHERE;N++,O=_[N];let b=O.type===i.XPathLexer.BANG;b&&(N++,O=_[N]);let F=this.getXPathElement(O,p);F.invert=b,S.push(F),N++;break;case i.XPathLexer.TOKEN_REF:case i.XPathLexer.RULE_REF:case i.XPathLexer.WILDCARD:S.push(this.getXPathElement(x,!1)),N++;break;case s.Token.EOF:break t;default:throw new Error("Unknowth path element "+x)}}return S}getXPathElement(T,y){if(T.type===s.Token.EOF)throw new Error("Missing path element at end of path");let v=T.text;if(v==null)throw new Error("Expected wordToken to have text content.");let _=this.parser.getTokenType(v),S=this.parser.getRuleIndex(v);switch(T.type){case i.XPathLexer.WILDCARD:return y?new c.XPathWildcardAnywhereElement:new f.XPathWildcardElement;case i.XPathLexer.TOKEN_REF:case i.XPathLexer.STRING:if(_===s.Token.INVALID_TYPE)throw new Error(v+" at index "+T.startIndex+" isn't a valid token name");return y?new u.XPathTokenAnywhereElement(v,_):new h.XPathTokenElement(v,_);default:if(S===-1)throw new Error(v+" at index "+T.startIndex+" isn't a valid rule name");return y?new a.XPathRuleAnywhereElement(v,S):new l.XPathRuleElement(v,S)}}static findAll(T,y,v){return new Wy(v,y).evaluate(T)}evaluate(T){let y=new n.ParserRuleContext;y.addChild(T);let v=new Set([y]),_=0;for(;_<this.elements.length;){let S=new Set;for(let E of v)E.childCount>0&&this.elements[_].evaluate(E).forEach(S.add,S);_++,v=S}return v}};return Ao.XPath=d,d.WILDCARD="*",d.NOT="!",Ao}var Cp;function yE(){if(Cp)return Eo;Cp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h},t=w&&w.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.ParseTreePattern=void 0;const e=tt,n=bf();let s=class{constructor(o,a,l,u){this._matcher=o,this._patternRuleIndex=l,this._pattern=a,this._patternTree=u}match(o){return this._matcher.match(o,this)}matches(o){return this._matcher.match(o,this).succeeded}findAll(o,a){let l=n.XPath.findAll(o,a,this._matcher.parser),u=[];for(let h of l){let c=this.match(h);c.succeeded&&u.push(c)}return u}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};return r([e.NotNull],s.prototype,"_pattern",void 0),r([e.NotNull],s.prototype,"_patternTree",void 0),r([e.NotNull],s.prototype,"_matcher",void 0),r([e.NotNull,t(0,e.NotNull)],s.prototype,"match",null),r([t(0,e.NotNull)],s.prototype,"matches",null),r([e.NotNull,t(0,e.NotNull),t(1,e.NotNull)],s.prototype,"findAll",null),r([e.NotNull],s.prototype,"matcher",null),r([e.NotNull],s.prototype,"pattern",null),r([e.NotNull],s.prototype,"patternTree",null),s=r([t(0,e.NotNull),t(1,e.NotNull),t(3,e.NotNull)],s),Eo.ParseTreePattern=s,Eo}var Po={},Ip;function mE(){if(Ip)return Po;Ip=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h},t=w&&w.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(Po,"__esModule",{value:!0}),Po.RuleTagToken=void 0;const e=tt,n=te;let s=class{constructor(o,a,l){if(o==null||o.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=o,this.bypassTokenType=a,this._label=l}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return n.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};return r([e.NotNull],s.prototype,"ruleName",null),r([e.Override],s.prototype,"channel",null),r([e.Override],s.prototype,"text",null),r([e.Override],s.prototype,"type",null),r([e.Override],s.prototype,"line",null),r([e.Override],s.prototype,"charPositionInLine",null),r([e.Override],s.prototype,"tokenIndex",null),r([e.Override],s.prototype,"startIndex",null),r([e.Override],s.prototype,"stopIndex",null),r([e.Override],s.prototype,"tokenSource",null),r([e.Override],s.prototype,"inputStream",null),r([e.Override],s.prototype,"toString",null),s=r([t(0,e.NotNull)],s),Po.RuleTagToken=s,Po}var Lo={},Bo={},Dp;function Yy(){if(Dp)return Bo;Dp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.Chunk=void 0;let r=class{};return Bo.Chunk=r,Bo}var Rp;function xE(){if(Rp)return Lo;Rp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var c=s.length-1;c>=0;c--)(h=s[c])&&(u=(l<3?h(u):l>3?h(i,o,u):h(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u};Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.TagChunk=void 0;const t=Yy(),e=tt;let n=class extends t.Chunk{constructor(i,o){if(super(),i==null||i.length===0)throw new Error("tag cannot be null or empty");this._tag=i,this._label=o}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};return r([e.NotNull],n.prototype,"tag",null),r([e.Override],n.prototype,"toString",null),Lo.TagChunk=n,Lo}var Mo={},Fp;function gE(){if(Fp)return Mo;Fp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h},t=w&&w.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.TextChunk=void 0;const e=Yy(),n=tt;let s=class extends e.Chunk{constructor(o){if(super(),o==null)throw new Error("text cannot be null");this._text=o}get text(){return this._text}toString(){return"'"+this._text+"'"}};return r([n.NotNull],s.prototype,"_text",void 0),r([n.NotNull],s.prototype,"text",null),r([n.Override],s.prototype,"toString",null),s=r([t(0,n.NotNull)],s),Mo.TextChunk=s,Mo}var ko={},Pp;function _E(){if(Pp)return ko;Pp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h},t=w&&w.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(ko,"__esModule",{value:!0}),ko.TokenTagToken=void 0;const e=Kn,n=tt;let s=class extends e.CommonToken{constructor(o,a,l){super(a),this._tokenName=o,this._label=l}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};return r([n.NotNull],s.prototype,"_tokenName",void 0),r([n.NotNull],s.prototype,"tokenName",null),r([n.Override],s.prototype,"text",null),r([n.Override],s.prototype,"toString",null),s=r([t(0,n.NotNull)],s),ko.TokenTagToken=s,ko}var Lp;function vE(){return Lp||(Lp=1,function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__decorate||function(O,p,b,F){var j=arguments.length,k=j<3?p:F===null?F=Object.getOwnPropertyDescriptor(p,b):F,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(O,p,b,F);else for(var it=O.length-1;it>=0;it--)(K=O[it])&&(k=(j<3?K(k):j>3?K(p,b,k):K(p,b))||k);return j>3&&k&&Object.defineProperty(p,b,k),k},e=w&&w.__param||function(O,p){return function(b,F){p(b,F,O)}};Object.defineProperty(r,"__esModule",{value:!0}),r.ParseTreePatternMatcher=void 0;const n=Gy(),s=rc,i=Vs,o=Wa,a=iE(),l=tt,u=Ya,h=Hy(),c=wr(),f=oE(),d=yE(),m=Xr,T=qs,y=mE(),v=xE(),_=In,S=gE(),E=te,N=_E();class x{constructor(p,b){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=p,this._parser=b}setDelimiters(p,b,F){if(!p)throw new Error("start cannot be null or empty");if(!b)throw new Error("stop cannot be null or empty");this.start=p,this.stop=b,this.escape=F,this.escapeRE=new RegExp(F.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(p,b,F=0){if(typeof b=="string"){let j=this.compile(b,F);return this.matches(p,j)}else{let j=new a.MultiMap;return!this.matchImpl(p,b.patternTree,j)}}match(p,b,F=0){if(typeof b=="string"){let j=this.compile(b,F);return this.match(p,j)}else{let j=new a.MultiMap,k=this.matchImpl(p,b.patternTree,j);return new f.ParseTreeMatch(p,b,j,k)}}compile(p,b){let F=this.tokenize(p),j=new o.ListTokenSource(F),k=new i.CommonTokenStream(j);const K=this._parser;let it=new h.ParserInterpreter(K.grammarFileName,K.vocabulary,K.ruleNames,K.getATNWithBypassAlts(),k),st;try{it.errorHandler=new n.BailErrorStrategy,st=it.parse(b)}catch(ut){throw ut instanceof u.ParseCancellationException?ut.getCause():ut instanceof m.RecognitionException?ut:ut instanceof Error?new x.CannotInvokeStartRule(ut):ut}if(k.LA(1)!==E.Token.EOF)throw new x.StartRuleDoesNotConsumeFullPattern;return new d.ParseTreePattern(this,p,b,st)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(p,b,F){if(!p)throw new TypeError("tree cannot be null");if(!b)throw new TypeError("patternTree cannot be null");if(p instanceof _.TerminalNode&&b instanceof _.TerminalNode){let j;if(p.symbol.type===b.symbol.type)if(b.symbol instanceof N.TokenTagToken){let k=b.symbol;F.map(k.tokenName,p);const K=k.label;K&&F.map(K,p)}else p.text===b.text||j||(j=p);else j||(j=p);return j}if(p instanceof c.ParserRuleContext&&b instanceof c.ParserRuleContext){let j,k=this.getRuleTagToken(b);if(k){if(p.ruleContext.ruleIndex===b.ruleContext.ruleIndex){F.map(k.ruleName,p);const it=k.label;it&&F.map(it,p)}else j||(j=p);return j}if(p.childCount!==b.childCount)return j||(j=p),j;let K=p.childCount;for(let it=0;it<K;it++){let st=this.matchImpl(p.getChild(it),b.getChild(it),F);if(st)return st}return j}return p}getRuleTagToken(p){if(p instanceof T.RuleNode&&p.childCount===1&&p.getChild(0)instanceof _.TerminalNode){let b=p.getChild(0);if(b.symbol instanceof y.RuleTagToken)return b.symbol}}tokenize(p){let b=this.split(p),F=[];for(let j of b)if(j instanceof v.TagChunk){let k=j;const K=k.tag.substr(0,1);if(K===K.toUpperCase()){let it=this._parser.getTokenType(k.tag);if(it===E.Token.INVALID_TYPE)throw new Error("Unknown token "+k.tag+" in pattern: "+p);let st=new N.TokenTagToken(k.tag,it,k.label);F.push(st)}else if(K===K.toLowerCase()){let it=this._parser.getRuleIndex(k.tag);if(it===-1)throw new Error("Unknown rule "+k.tag+" in pattern: "+p);let st=this._parser.getATNWithBypassAlts().ruleToTokenType[it];F.push(new y.RuleTagToken(k.tag,st,k.label))}else throw new Error("invalid tag: "+k.tag+" in pattern: "+p)}else{let k=j;this._lexer.inputStream=s.CharStreams.fromString(k.text);let K=this._lexer.nextToken();for(;K.type!==E.Token.EOF;)F.push(K),K=this._lexer.nextToken()}return F}split(p){let b=0,F=p.length,j=[],k=[],K=[];for(;b<F;)b===p.indexOf(this.escape+this.start,b)?b+=this.escape.length+this.start.length:b===p.indexOf(this.escape+this.stop,b)?b+=this.escape.length+this.stop.length:b===p.indexOf(this.start,b)?(k.push(b),b+=this.start.length):b===p.indexOf(this.stop,b)?(K.push(b),b+=this.stop.length):b++;if(k.length>K.length)throw new Error("unterminated tag in pattern: "+p);if(k.length<K.length)throw new Error("missing start tag in pattern: "+p);let it=k.length;for(let st=0;st<it;st++)if(k[st]>=K[st])throw new Error("tag delimiters out of order in pattern: "+p);if(it===0){let st=p.substring(0,F);j.push(new S.TextChunk(st))}if(it>0&&k[0]>0){let st=p.substring(0,k[0]);j.push(new S.TextChunk(st))}for(let st=0;st<it;st++){let ut=p.substring(k[st]+this.start.length,K[st]),at=ut,ht,G=ut.indexOf(":");if(G>=0&&(ht=ut.substring(0,G),at=ut.substring(G+1,ut.length)),j.push(new v.TagChunk(at,ht)),st+1<it){let et=p.substring(K[st]+this.stop.length,k[st+1]);j.push(new S.TextChunk(et))}}if(it>0){let st=K[it-1]+this.stop.length;if(st<F){let ut=p.substring(st,F);j.push(new S.TextChunk(ut))}}for(let st=0;st<j.length;st++){let ut=j[st];if(ut instanceof S.TextChunk){let at=ut.text.replace(this.escapeRE,"");at.length<ut.text.length&&(j[st]=new S.TextChunk(at))}}return j}}t([l.NotNull,e(1,l.NotNull)],x.prototype,"match",null),t([l.NotNull],x.prototype,"lexer",null),t([l.NotNull],x.prototype,"parser",null),t([e(0,l.NotNull),e(1,l.NotNull),e(2,l.NotNull)],x.prototype,"matchImpl",null),r.ParseTreePatternMatcher=x,function(O){class p extends Error{constructor(j){super(`CannotInvokeStartRule: ${j}`),this.error=j}}O.CannotInvokeStartRule=p;class b extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}O.StartRuleDoesNotConsumeFullPattern=b}(x=r.ParseTreePatternMatcher||(r.ParseTreePatternMatcher={}))}(eh)),eh}var jo={},Uo={},$o={},Bp;function Ga(){if(Bp)return $o;Bp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var c=s.length-1;c>=0;c--)(h=s[c])&&(u=(l<3?h(u):l>3?h(i,o,u):h(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u},t=w&&w.__param||function(s,i){return function(o,a){i(o,a,s)}};Object.defineProperty($o,"__esModule",{value:!0}),$o.DecisionEventInfo=void 0;const e=tt;let n=class{constructor(i,o,a,l,u,h){this.decision=i,this.fullCtx=h,this.stopIndex=u,this.input=a,this.startIndex=l,this.state=o}};return r([e.NotNull],n.prototype,"input",void 0),n=r([t(2,e.NotNull)],n),$o.DecisionEventInfo=n,$o}var Mp;function SE(){if(Mp)return Uo;Mp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h},t=w&&w.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.AmbiguityInfo=void 0;const e=Ga(),n=tt;let s=class extends e.DecisionEventInfo{constructor(o,a,l,u,h,c){super(o,a,u,h,c,a.useContext),this.ambigAlts=l}get ambiguousAlternatives(){return this.ambigAlts}};return r([n.NotNull],s.prototype,"ambigAlts",void 0),r([n.NotNull],s.prototype,"ambiguousAlternatives",null),s=r([t(1,n.NotNull),t(2,n.NotNull),t(3,n.NotNull)],s),Uo.AmbiguityInfo=s,Uo}var zo={},kp;function bE(){if(kp)return zo;kp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h},t=w&&w.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(zo,"__esModule",{value:!0}),zo.ContextSensitivityInfo=void 0;const e=Ga(),n=tt;let s=class extends e.DecisionEventInfo{constructor(o,a,l,u,h){super(o,a,l,u,h,!0)}};return s=r([t(1,n.NotNull),t(2,n.NotNull)],s),zo.ContextSensitivityInfo=s,zo}var qo={},jp;function EE(){if(jp)return qo;jp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(n,s,i,o){var a=arguments.length,l=a<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,i):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,s,i,o);else for(var h=n.length-1;h>=0;h--)(u=n[h])&&(l=(a<3?u(l):a>3?u(s,i,l):u(s,i))||l);return a>3&&l&&Object.defineProperty(s,i,l),l};Object.defineProperty(qo,"__esModule",{value:!0}),qo.DecisionInfo=void 0;const t=tt;let e=class{constructor(s){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=s}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};return r([t.Override],e.prototype,"toString",null),qo.DecisionInfo=e,qo}var Vo={},Up;function AE(){if(Up)return Vo;Up=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h},t=w&&w.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.ErrorInfo=void 0;const e=Ga(),n=tt;let s=class extends e.DecisionEventInfo{constructor(o,a,l,u,h){super(o,a,l,u,h,a.useContext)}};return s=r([t(1,n.NotNull),t(2,n.NotNull)],s),Vo.ErrorInfo=s,Vo}var Ho={},$p;function TE(){if($p)return Ho;$p=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h},t=w&&w.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.LookaheadEventInfo=void 0;const e=Ga(),n=tt;let s=class extends e.DecisionEventInfo{constructor(o,a,l,u,h,c,f){super(o,a,u,h,c,f),this.predictedAlt=l}};return s=r([t(3,n.NotNull)],s),Ho.LookaheadEventInfo=s,Ho}var Wo={},zp;function NE(){if(zp)return Wo;zp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h},t=w&&w.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.PredicateEvalInfo=void 0;const e=Ga(),n=tt;let s=class extends e.DecisionEventInfo{constructor(o,a,l,u,h,c,f,d){super(a,o,l,u,h,o.useContext),this.semctx=c,this.evalResult=f,this.predictedAlt=d}};return s=r([t(0,n.NotNull),t(2,n.NotNull),t(5,n.NotNull)],s),Wo.PredicateEvalInfo=s,Wo}var qp;function Vp(){if(qp)return jo;qp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(T,y,v,_){var S=arguments.length,E=S<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,v):_,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(T,y,v,_);else for(var x=T.length-1;x>=0;x--)(N=T[x])&&(E=(S<3?N(E):S>3?N(y,v,E):N(y,v))||E);return S>3&&E&&Object.defineProperty(y,v,E),E},t=w&&w.__param||function(T,y){return function(v,_){y(v,_,T)}};Object.defineProperty(jo,"__esModule",{value:!0}),jo.ProfilingATNSimulator=void 0;const e=SE(),n=Zr(),s=Iu(),i=bE(),o=EE(),a=AE(),l=tt,u=TE(),h=ja(),c=NE(),f=Mi,d=By();let m=class extends h.ParserATNSimulator{constructor(y){super(y.interpreter.atn,y),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let v=0;v<this.numDecisions;v++)this.decisions.push(new o.DecisionInfo(v))}adaptivePredict(y,v,_,S){if(S!==void 0)return super.adaptivePredict(y,v,_,S);try{this._input=y,this._startIndex=y.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=v,this.currentState=void 0,this.conflictingAltResolvedBySLL=n.ATN.INVALID_ALT_NUMBER;let E=ae.hrtime(),N=super.adaptivePredict(y,v,_),x=ae.hrtime(),O=(x[0]-E[0])*1e9;O===0?O=x[1]-E[1]:O+=1e9-E[1]+x[1],this.decisions[v].timeInPrediction+=O,this.decisions[v].invocations++;let p=this._sllStopIndex-this._startIndex+1;if(this.decisions[v].SLL_TotalLook+=p,this.decisions[v].SLL_MinLook=this.decisions[v].SLL_MinLook===0?p:Math.min(this.decisions[v].SLL_MinLook,p),p>this.decisions[v].SLL_MaxLook&&(this.decisions[v].SLL_MaxLook=p,this.decisions[v].SLL_MaxLookEvent=new u.LookaheadEventInfo(v,void 0,N,y,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let b=this._llStopIndex-this._startIndex+1;this.decisions[v].LL_TotalLook+=b,this.decisions[v].LL_MinLook=this.decisions[v].LL_MinLook===0?b:Math.min(this.decisions[v].LL_MinLook,b),b>this.decisions[v].LL_MaxLook&&(this.decisions[v].LL_MaxLook=b,this.decisions[v].LL_MaxLookEvent=new u.LookaheadEventInfo(v,void 0,N,y,this._startIndex,this._llStopIndex,!0))}return N}finally{this._input=void 0,this.currentDecision=-1}}getStartState(y,v,_,S){let E=super.getStartState(y,v,_,S);return this.currentState=E,E}computeStartState(y,v,_){let S=super.computeStartState(y,v,_);return this.currentState=S,S}computeReachSet(y,v,_,S){if(this._input===void 0)throw new Error("Invalid state");let E=super.computeReachSet(y,v,_,S);return E==null&&this.decisions[this.currentDecision].errors.push(new a.ErrorInfo(this.currentDecision,v,this._input,this._startIndex,this._input.index)),this.currentState=E,E}getExistingTargetState(y,v){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let _=super.getExistingTargetState(y,v);if(_!=null&&(this.currentState=new d.SimulatorState(this.currentState.outerContext,_,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,_===s.ATNSimulator.ERROR)){let S=new d.SimulatorState(this.currentState.outerContext,y,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new a.ErrorInfo(this.currentDecision,S,this._input,this._startIndex,this._input.index))}return _}computeTargetState(y,v,_,S,E,N){let x=super.computeTargetState(y,v,_,S,E,N);return E?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,x}evalSemanticContextImpl(y,v,_){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let S=super.evalSemanticContextImpl(y,v,_);if(!(y instanceof f.SemanticContext.PrecedencePredicate)){let N=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new c.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,N,y,S,_))}return S}reportContextSensitivity(y,v,_,S,E){if(this._input===void 0)throw new Error("Invalid state");v!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new i.ContextSensitivityInfo(this.currentDecision,_,this._input,S,E)),super.reportContextSensitivity(y,v,_,S,E)}reportAttemptingFullContext(y,v,_,S,E){v!=null?this.conflictingAltResolvedBySLL=v.nextSetBit(0):this.conflictingAltResolvedBySLL=_.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(y,v,_,S,E)}reportAmbiguity(y,v,_,S,E,N,x){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let O;N!=null?O=N.nextSetBit(0):O=x.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==n.ATN.INVALID_ALT_NUMBER&&O!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new i.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,_,S)),this.decisions[this.currentDecision].ambiguities.push(new e.AmbiguityInfo(this.currentDecision,this.currentState,N,this._input,_,S)),super.reportAmbiguity(y,v,_,S,E,N,x)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};return r([l.Override,t(0,l.NotNull)],m.prototype,"adaptivePredict",null),r([l.Override],m.prototype,"getStartState",null),r([l.Override],m.prototype,"computeStartState",null),r([l.Override],m.prototype,"computeReachSet",null),r([l.Override],m.prototype,"getExistingTargetState",null),r([l.Override],m.prototype,"computeTargetState",null),r([l.Override],m.prototype,"evalSemanticContextImpl",null),r([l.Override],m.prototype,"reportContextSensitivity",null),r([l.Override],m.prototype,"reportAttemptingFullContext",null),r([l.Override,t(0,l.NotNull),t(5,l.NotNull),t(6,l.NotNull)],m.prototype,"reportAmbiguity",null),jo.ProfilingATNSimulator=m,jo}var Hp;function Ka(){if(Hp)return co;Hp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(S,E,N,x){var O=arguments.length,p=O<3?E:x===null?x=Object.getOwnPropertyDescriptor(E,N):x,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(S,E,N,x);else for(var F=S.length-1;F>=0;F--)(b=S[F])&&(p=(O<3?b(p):O>3?b(E,N,p):b(E,N))||p);return O>3&&p&&Object.defineProperty(E,N,p),p},t=w&&w.__param||function(S,E){return function(N,x){E(N,x,S)}},e=w&&w.__awaiter||function(S,E,N,x){function O(p){return p instanceof N?p:new N(function(b){b(p)})}return new(N||(N=Promise))(function(p,b){function F(K){try{k(x.next(K))}catch(it){b(it)}}function j(K){try{k(x.throw(K))}catch(it){b(it)}}function k(K){K.done?p(K.value):O(K.value).then(F,j)}k((x=x.apply(S,E||[])).next())})};Object.defineProperty(co,"__esModule",{value:!0}),co.Parser=void 0;const n=me,s=Ca,i=mf(),o=Ef(),a=zs,l=Sa,u=Zn(),h=tt,c=tc,f=ja(),d=qa,m=Xn,T=In,y=te;class v{constructor(E,N){this.ruleNames=E,this.tokenStream=N}enterEveryRule(E){console.log("enter   "+this.ruleNames[E.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(E){console.log("exit    "+this.ruleNames[E.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(E){}visitTerminal(E){let N=E.parent.ruleContext,x=E.symbol;console.log("consume "+x+" rule "+this.ruleNames[N.ruleIndex])}}r([h.Override],v.prototype,"enterEveryRule",null),r([h.Override],v.prototype,"exitEveryRule",null),r([h.Override],v.prototype,"visitErrorNode",null),r([h.Override],v.prototype,"visitTerminal",null);let _=class Al extends m.Recognizer{constructor(E){super(),this._errHandler=new o.DefaultErrorStrategy,this._precedenceStack=new l.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=E}reset(E){(E===void 0||E)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let N=this.interpreter;N!=null&&N.reset()}match(E){let N=this.currentToken;return N.type===E?(E===y.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(N=this._errHandler.recoverInline(this),this._buildParseTrees&&N.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,N))),N}matchWildcard(){let E=this.currentToken;return E.type>0?(this._errHandler.reportMatch(this),this.consume()):(E=this._errHandler.recoverInline(this),this._buildParseTrees&&E.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,E))),E}set buildParseTree(E){this._buildParseTrees=E}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(E){if(E==null)throw new TypeError("listener cannot be null");this._parseListeners.push(E)}removeParseListener(E){let N=this._parseListeners.findIndex(x=>x===E);N!==-1&&this._parseListeners.splice(N,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let E of this._parseListeners)E.enterEveryRule&&E.enterEveryRule(this._ctx),this._ctx.enterRule(E)}triggerExitRuleEvent(){for(let E=this._parseListeners.length-1;E>=0;E--){let N=this._parseListeners[E];this._ctx.exitRule(N),N.exitEveryRule&&N.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let E=this.serializedATN;if(E==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let N=Al.bypassAltsAtnCache.get(E);if(N==null){let x=new s.ATNDeserializationOptions;x.isGenerateRuleBypassTransitions=!0,N=new i.ATNDeserializer(x).deserialize(n.toCharArray(E)),Al.bypassAltsAtnCache.set(E,N)}return N}compileParseTreePattern(E,N,x){return e(this,void 0,void 0,function*(){if(!x){if(this.inputStream){let F=this.inputStream.tokenSource;F instanceof u.Lexer&&(x=F)}if(!x)throw new Error("Parser can't discover a lexer to use")}let O=x,p=yield Promise.resolve().then(()=>vE());return new p.ParseTreePatternMatcher(O,this).compile(E,N)})}get errorHandler(){return this._errHandler}set errorHandler(E){this._errHandler=E}get inputStream(){return this._input}set inputStream(E){this.reset(!1),this._input=E}get currentToken(){return this._input.LT(1)}notifyErrorListeners(E,N,x){N===void 0?N=this.currentToken:N===null&&(N=void 0),this._syntaxErrors++;let O=-1,p=-1;N!=null&&(O=N.line,p=N.charPositionInLine);let b=this.getErrorListenerDispatch();b.syntaxError&&b.syntaxError(this,N,O,p,E,x)}consume(){let E=this.currentToken;E.type!==Al.EOF&&this.inputStream.consume();let N=this._parseListeners.length!==0;if(this._buildParseTrees||N)if(this._errHandler.inErrorRecoveryMode(this)){let x=this._ctx.addErrorNode(this.createErrorNode(this._ctx,E));if(N)for(let O of this._parseListeners)O.visitErrorNode&&O.visitErrorNode(x)}else{let x=this.createTerminalNode(this._ctx,E);if(this._ctx.addChild(x),N)for(let O of this._parseListeners)O.visitTerminal&&O.visitTerminal(x)}return E}createTerminalNode(E,N){return new T.TerminalNode(N)}createErrorNode(E,N){return new a.ErrorNode(N)}addContextToParseTree(){let E=this._ctx._parent;E!=null&&E.addChild(this._ctx)}enterRule(E,N,x){this.state=N,this._ctx=E,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(E,N,x){if(this.state=N,this._buildParseTrees){let O=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),O._parent=E,E.addChild(O)}this._ctx=E,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(E,N){if(E.altNumber=N,this._buildParseTrees&&this._ctx!==E){let x=this._ctx._parent;x!=null&&(x.removeLastChild(),x.addChild(E))}this._ctx=E}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(E,N,x,O){this.state=N,this._precedenceStack.push(O),this._ctx=E,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(E,N,x){let O=this._ctx;O._parent=E,O.invokingState=N,O._stop=this._input.tryLT(-1),this._ctx=E,this._ctx._start=O._start,this._buildParseTrees&&this._ctx.addChild(O),this.triggerEnterRuleEvent()}unrollRecursionContexts(E){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let N=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==E;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=E;N._parent=E,this._buildParseTrees&&E!=null&&E.addChild(N)}getInvokingContext(E){let N=this._ctx;for(;N&&N.ruleIndex!==E;)N=N._parent;return N}get context(){return this._ctx}set context(E){this._ctx=E}precpred(E,N){return N>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new d.ProxyParserErrorListener(this.getErrorListeners())}inContext(E){return!1}isExpectedToken(E){let N=this.interpreter.atn,x=this._ctx,O=N.states[this.state],p=N.nextTokens(O);if(p.contains(E))return!0;if(!p.contains(y.Token.EPSILON))return!1;for(;x!=null&&x.invokingState>=0&&p.contains(y.Token.EPSILON);){let F=N.states[x.invokingState].transition(0);if(p=N.nextTokens(F.followState),p.contains(E))return!0;x=x._parent}return!!(p.contains(y.Token.EPSILON)&&E===y.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let E=this.interpreter.atn,N=E.states[this.state];return E.nextTokens(N)}getRuleIndex(E){let N=this.getRuleIndexMap().get(E);return N??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(E=this._ctx){let N=E,x=this.ruleNames,O=[];for(;N!=null;){let p=N.ruleIndex;p<0?O.push("n/a"):O.push(x[p]),N=N._parent}return O}getDFAStrings(){let E=[];for(let N of this._interp.atn.decisionToDFA)E.push(N.toString(this.vocabulary,this.ruleNames));return E}dumpDFA(){let E=!1;for(let N of this._interp.atn.decisionToDFA)N.isEmpty||(E&&console.log(),console.log("Decision "+N.decision+":"),ae.stdout.write(N.toString(this.vocabulary,this.ruleNames)),E=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>Vp()).then(E=>{let N=this.interpreter;if(N instanceof E.ProfilingATNSimulator)return new c.ParseInfo(N)})}setProfile(E){return e(this,void 0,void 0,function*(){let N=yield Promise.resolve().then(()=>Vp()),x=this.interpreter;E?x instanceof N.ProfilingATNSimulator||(this.interpreter=new N.ProfilingATNSimulator(this)):x instanceof N.ProfilingATNSimulator&&(this.interpreter=new f.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(x.getPredictionMode())})}set isTrace(E){E?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new v(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};return _.bypassAltsAtnCache=new Map,r([h.NotNull],_.prototype,"_errHandler",void 0),r([h.NotNull],_.prototype,"match",null),r([h.NotNull],_.prototype,"matchWildcard",null),r([h.NotNull],_.prototype,"getParseListeners",null),r([t(0,h.NotNull)],_.prototype,"addParseListener",null),r([h.NotNull],_.prototype,"getATNWithBypassAlts",null),r([h.NotNull,t(0,h.NotNull)],_.prototype,"errorHandler",null),r([h.Override],_.prototype,"inputStream",null),r([h.NotNull],_.prototype,"currentToken",null),r([t(0,h.NotNull)],_.prototype,"enterRule",null),r([h.Override,t(0,h.Nullable)],_.prototype,"precpred",null),r([h.Override],_.prototype,"getErrorListenerDispatch",null),r([h.NotNull],_.prototype,"getExpectedTokens",null),r([h.NotNull],_.prototype,"getExpectedTokensWithinCurrentRule",null),r([h.Override],_.prototype,"parseInfo",null),co.Parser=_,co}var Wp;function sc(){if(Wp)return uo;Wp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(i,o,a,l){var u=arguments.length,h=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(i,o,a,l);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(h=(u<3?c(h):u>3?c(o,a,h):c(o,a))||h);return u>3&&h&&Object.defineProperty(o,a,h),h};Object.defineProperty(uo,"__esModule",{value:!0}),uo.NoViableAltException=void 0;const t=Ka(),e=Xr,n=tt;let s=class extends e.RecognitionException{constructor(o,a,l,u,h,c){o instanceof t.Parser&&(a===void 0&&(a=o.inputStream),l===void 0&&(l=o.currentToken),u===void 0&&(u=o.currentToken),c===void 0&&(c=o.context)),super(o,a,c),this._deadEndConfigs=h,this._startToken=l,this.setOffendingToken(o,u)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};return r([n.NotNull],s.prototype,"_startToken",void 0),uo.NoViableAltException=s,uo}var Yp;function Ef(){if(Yp)return Js;Yp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(f,d,m,T){var y=arguments.length,v=y<3?d:T===null?T=Object.getOwnPropertyDescriptor(d,m):T,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(f,d,m,T);else for(var S=f.length-1;S>=0;S--)(_=f[S])&&(v=(y<3?_(v):y>3?_(d,m,v):_(d,m))||v);return y>3&&v&&Object.defineProperty(d,m,v),v},t=w&&w.__param||function(f,d){return function(m,T){d(m,T,f)}};Object.defineProperty(Js,"__esModule",{value:!0}),Js.DefaultErrorStrategy=void 0;const e=Kr,n=Se,s=Rs,i=ji,o=Hi(),a=sc(),l=Ar(),u=te,h=tt;let c=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=e.ATNState.INVALID_STATE_NUMBER}reset(d){this.endErrorCondition(d)}beginErrorCondition(d){this.errorRecoveryMode=!0}inErrorRecoveryMode(d){return this.errorRecoveryMode}endErrorCondition(d){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(d){this.endErrorCondition(d)}reportError(d,m){this.inErrorRecoveryMode(d)||(this.beginErrorCondition(d),m instanceof a.NoViableAltException?this.reportNoViableAlternative(d,m):m instanceof i.InputMismatchException?this.reportInputMismatch(d,m):m instanceof s.FailedPredicateException?this.reportFailedPredicate(d,m):(console.error(`unknown recognition error type: ${m}`),this.notifyErrorListeners(d,m.toString(),m)))}notifyErrorListeners(d,m,T){let y=T.getOffendingToken(d);y===void 0&&(y=null),d.notifyErrorListeners(m,y,T)}recover(d,m){this.lastErrorIndex===d.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(d.state)&&d.consume(),this.lastErrorIndex=d.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new o.IntervalSet),this.lastErrorStates.add(d.state);let T=this.getErrorRecoverySet(d);this.consumeUntil(d,T)}sync(d){let m=d.interpreter.atn.states[d.state];if(this.inErrorRecoveryMode(d))return;let y=d.inputStream.LA(1),v=d.atn.nextTokens(m);if(v.contains(y)){this.nextTokensContext=void 0,this.nextTokensState=e.ATNState.INVALID_STATE_NUMBER;return}if(v.contains(u.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=d.context,this.nextTokensState=d.state);return}switch(m.stateType){case n.ATNStateType.BLOCK_START:case n.ATNStateType.STAR_BLOCK_START:case n.ATNStateType.PLUS_BLOCK_START:case n.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(d))return;throw new i.InputMismatchException(d);case n.ATNStateType.PLUS_LOOP_BACK:case n.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(d);let S=d.getExpectedTokens().or(this.getErrorRecoverySet(d));this.consumeUntil(d,S);break}}reportNoViableAlternative(d,m){let T=d.inputStream,y;T?m.startToken.type===u.Token.EOF?y="<EOF>":y=T.getTextFromRange(m.startToken,m.getOffendingToken()):y="<unknown input>";let v="no viable alternative at input "+this.escapeWSAndQuote(y);this.notifyErrorListeners(d,v,m)}reportInputMismatch(d,m){let T=m.expectedTokens,y=T?T.toStringVocabulary(d.vocabulary):"",v="mismatched input "+this.getTokenErrorDisplay(m.getOffendingToken(d))+" expecting "+y;this.notifyErrorListeners(d,v,m)}reportFailedPredicate(d,m){let y="rule "+d.ruleNames[d.context.ruleIndex]+" "+m.message;this.notifyErrorListeners(d,y,m)}reportUnwantedToken(d){if(this.inErrorRecoveryMode(d))return;this.beginErrorCondition(d);let m=d.currentToken,T=this.getTokenErrorDisplay(m),y=this.getExpectedTokens(d),v="extraneous input "+T+" expecting "+y.toStringVocabulary(d.vocabulary);d.notifyErrorListeners(v,m,void 0)}reportMissingToken(d){if(this.inErrorRecoveryMode(d))return;this.beginErrorCondition(d);let m=d.currentToken,y="missing "+this.getExpectedTokens(d).toStringVocabulary(d.vocabulary)+" at "+this.getTokenErrorDisplay(m);d.notifyErrorListeners(y,m,void 0)}recoverInline(d){let m=this.singleTokenDeletion(d);if(m)return d.consume(),m;if(this.singleTokenInsertion(d))return this.getMissingSymbol(d);throw this.nextTokensContext===void 0?new i.InputMismatchException(d):new i.InputMismatchException(d,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(d){let m=d.inputStream.LA(1),y=d.interpreter.atn.states[d.state].transition(0).target,v=d.interpreter.atn;return v.nextTokens(y,l.PredictionContext.fromRuleContext(v,d.context)).contains(m)?(this.reportMissingToken(d),!0):!1}singleTokenDeletion(d){let m=d.inputStream.LA(2);if(this.getExpectedTokens(d).contains(m)){this.reportUnwantedToken(d),d.consume();let y=d.currentToken;return this.reportMatch(d),y}}getMissingSymbol(d){let m=d.currentToken,T=this.getExpectedTokens(d),y=u.Token.INVALID_TYPE;T.isNil||(y=T.minElement);let v;y===u.Token.EOF?v="<missing EOF>":v="<missing "+d.vocabulary.getDisplayName(y)+">";let _=m,S=d.inputStream.tryLT(-1);return _.type===u.Token.EOF&&S!=null&&(_=S),this.constructToken(d.inputStream.tokenSource,y,v,_)}constructToken(d,m,T,y){let v=d.tokenFactory,_=y.tokenSource,S=_?_.inputStream:void 0;return v.create({source:d,stream:S},m,T,u.Token.DEFAULT_CHANNEL,-1,-1,y.line,y.charPositionInLine)}getExpectedTokens(d){return d.getExpectedTokens()}getTokenErrorDisplay(d){if(!d)return"<no token>";let m=this.getSymbolText(d);return m||(this.getSymbolType(d)===u.Token.EOF?m="<EOF>":m=`<${this.getSymbolType(d)}>`),this.escapeWSAndQuote(m)}getSymbolText(d){return d.text}getSymbolType(d){return d.type}escapeWSAndQuote(d){return d=d.replace(`
`,"\\n"),d=d.replace("\r","\\r"),d=d.replace("	","\\t"),"'"+d+"'"}getErrorRecoverySet(d){let m=d.interpreter.atn,T=d.context,y=new o.IntervalSet;for(;T&&T.invokingState>=0;){let _=m.states[T.invokingState].transition(0),S=m.nextTokens(_.followState);y.addAll(S),T=T._parent}return y.remove(u.Token.EPSILON),y}consumeUntil(d,m){let T=d.inputStream.LA(1);for(;T!==u.Token.EOF&&!m.contains(T);)d.consume(),T=d.inputStream.LA(1)}};return r([h.Override],c.prototype,"reset",null),r([t(0,h.NotNull)],c.prototype,"beginErrorCondition",null),r([h.Override],c.prototype,"inErrorRecoveryMode",null),r([t(0,h.NotNull)],c.prototype,"endErrorCondition",null),r([h.Override],c.prototype,"reportMatch",null),r([h.Override],c.prototype,"reportError",null),r([t(0,h.NotNull)],c.prototype,"notifyErrorListeners",null),r([h.Override],c.prototype,"recover",null),r([h.Override],c.prototype,"sync",null),r([t(0,h.NotNull),t(1,h.NotNull)],c.prototype,"reportNoViableAlternative",null),r([t(0,h.NotNull),t(1,h.NotNull)],c.prototype,"reportInputMismatch",null),r([t(0,h.NotNull),t(1,h.NotNull)],c.prototype,"reportFailedPredicate",null),r([t(0,h.NotNull)],c.prototype,"reportUnwantedToken",null),r([t(0,h.NotNull)],c.prototype,"reportMissingToken",null),r([h.Override],c.prototype,"recoverInline",null),r([t(0,h.NotNull)],c.prototype,"singleTokenInsertion",null),r([t(0,h.NotNull)],c.prototype,"singleTokenDeletion",null),r([h.NotNull,t(0,h.NotNull)],c.prototype,"getMissingSymbol",null),r([h.NotNull,t(0,h.NotNull)],c.prototype,"getExpectedTokens",null),r([t(0,h.NotNull)],c.prototype,"getSymbolText",null),r([t(0,h.NotNull)],c.prototype,"getSymbolType",null),r([h.NotNull,t(0,h.NotNull)],c.prototype,"escapeWSAndQuote",null),r([h.NotNull,t(0,h.NotNull)],c.prototype,"getErrorRecoverySet",null),r([t(0,h.NotNull),t(1,h.NotNull)],c.prototype,"consumeUntil",null),Js.DefaultErrorStrategy=c,Js}var Gp;function Gy(){if(Gp)return Xs;Gp=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=w&&w.__decorate||function(o,a,l,u){var h=arguments.length,c=h<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,a,l,u);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(h<3?f(c):h>3?f(a,l,c):f(a,l))||c);return h>3&&c&&Object.defineProperty(a,l,c),c};Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.BailErrorStrategy=void 0;const t=Ef(),e=ji,n=tt,s=Ya;let i=class extends t.DefaultErrorStrategy{recover(a,l){for(let u=a.context;u;u=u.parent)u.exception=l;throw new s.ParseCancellationException(l)}recoverInline(a){let l=new e.InputMismatchException(a);for(let u=a.context;u;u=u.parent)u.exception=l;throw new s.ParseCancellationException(l)}sync(a){}};return r([n.Override],i.prototype,"recover",null),r([n.Override],i.prototype,"recoverInline",null),r([n.Override],i.prototype,"sync",null),Xs.BailErrorStrategy=i,Xs}var Ky={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Ky,"__esModule",{value:!0});var Xy={};(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.Dependents=void 0,function(t){t[t.SELF=0]="SELF",t[t.PARENTS=1]="PARENTS",t[t.CHILDREN=2]="CHILDREN",t[t.ANCESTORS=3]="ANCESTORS",t[t.DESCENDANTS=4]="DESCENDANTS",t[t.SIBLINGS=5]="SIBLINGS",t[t.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",t[t.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",t[t.PRECEEDING=8]="PRECEEDING",t[t.FOLLOWING=9]="FOLLOWING"}(r.Dependents||(r.Dependents={}))})(Xy);var oc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ws=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},pr=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(oc,"__esModule",{value:!0});oc.DiagnosticErrorListener=void 0;const wE=Tr,Ae=tt,sh=Oe;class Ki{constructor(t=!0){this.exactOnly=t,this.exactOnly=t}syntaxError(t,e,n,s,i,o){}reportAmbiguity(t,e,n,s,i,o,a){if(this.exactOnly&&!i)return;let l=this.getDecisionDescription(t,e),u=this.getConflictingAlts(o,a),h=t.inputStream.getText(sh.Interval.of(n,s)),c=`reportAmbiguity d=${l}: ambigAlts=${u}, input='${h}'`;t.notifyErrorListeners(c)}reportAttemptingFullContext(t,e,n,s,i,o){let a=this.getDecisionDescription(t,e),l=t.inputStream.getText(sh.Interval.of(n,s)),u=`reportAttemptingFullContext d=${a}, input='${l}'`;t.notifyErrorListeners(u)}reportContextSensitivity(t,e,n,s,i,o){let a=this.getDecisionDescription(t,e),l=t.inputStream.getText(sh.Interval.of(n,s)),u=`reportContextSensitivity d=${a}, input='${l}'`;t.notifyErrorListeners(u)}getDecisionDescription(t,e){let n=e.decision,s=e.atnStartState.ruleIndex,i=t.ruleNames;if(s<0||s>=i.length)return n.toString();let o=i[s];return o?`${n} (${o})`:n.toString()}getConflictingAlts(t,e){if(t!=null)return t;let n=new wE.BitSet;for(let s of e)n.set(s.alt);return n}}Ws([Ae.Override],Ki.prototype,"syntaxError",null);Ws([Ae.Override,pr(0,Ae.NotNull),pr(1,Ae.NotNull),pr(6,Ae.NotNull)],Ki.prototype,"reportAmbiguity",null);Ws([Ae.Override,pr(0,Ae.NotNull),pr(1,Ae.NotNull),pr(5,Ae.NotNull)],Ki.prototype,"reportAttemptingFullContext",null);Ws([Ae.Override,pr(0,Ae.NotNull),pr(1,Ae.NotNull),pr(5,Ae.NotNull)],Ki.prototype,"reportContextSensitivity",null);Ws([pr(0,Ae.NotNull),pr(1,Ae.NotNull)],Ki.prototype,"getDecisionDescription",null);Ws([Ae.NotNull,pr(1,Ae.NotNull)],Ki.prototype,"getConflictingAlts",null);oc.DiagnosticErrorListener=Ki;var ac={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ei=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},OE=w&&w.__param||function(r,t){return function(e,n){t(e,n,r)}};Object.defineProperty(ac,"__esModule",{value:!0});ac.LexerInterpreter=void 0;const CE=Zn(),IE=Lu(),Jy=tt,Ys=tt;let qr=class extends CE.Lexer{constructor(t,e,n,s,i,o,a){if(super(a),o.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=t,this._atn=o,this._ruleNames=n.slice(0),this._channelNames=s.slice(0),this._modeNames=i.slice(0),this._vocabulary=e,this._interp=new IE.LexerATNSimulator(o,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};ei([Jy.NotNull],qr.prototype,"_vocabulary",void 0);ei([Ys.Override],qr.prototype,"atn",null);ei([Ys.Override],qr.prototype,"grammarFileName",null);ei([Ys.Override],qr.prototype,"ruleNames",null);ei([Ys.Override],qr.prototype,"channelNames",null);ei([Ys.Override],qr.prototype,"modeNames",null);ei([Ys.Override],qr.prototype,"vocabulary",null);qr=ei([OE(1,Jy.NotNull)],qr);ac.LexerInterpreter=qr;var Qy={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Qy,"__esModule",{value:!0});var lc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var DE=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(lc,"__esModule",{value:!0});lc.RuleContextWithAltNum=void 0;const RE=Zr(),FE=tt,PE=wr();class Zy extends PE.ParserRuleContext{constructor(t,e){e!==void 0?super(t,e):super(),this._altNumber=RE.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(t){this._altNumber=t}}DE([FE.Override],Zy.prototype,"altNumber",null);lc.RuleContextWithAltNum=Zy;var uc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(uc,"__esModule",{value:!0});uc.RuleDependency=void 0;function LE(r){return(t,e,n)=>{}}uc.RuleDependency=LE;var cc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(cc,"__esModule",{value:!0});cc.RuleVersion=void 0;function BE(r){return(t,e,n)=>{}}cc.RuleVersion=BE;var tm={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(tm,"__esModule",{value:!0});var em={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(em,"__esModule",{value:!0});var rm={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(rm,"__esModule",{value:!0});var Ts={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var hc=w&&w.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.RewriteOperation=Ts.TokenStreamRewriter=void 0;const Kp=Oe,fc=tt,nm=te;class Ce{constructor(t){this.tokens=t,this.programs=new Map,this.programs.set(Ce.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(t,e=Ce.DEFAULT_PROGRAM_NAME){let n=this.programs.get(e);n!=null&&this.programs.set(e,n.slice(Ce.MIN_TOKEN_INDEX,t))}deleteProgram(t=Ce.DEFAULT_PROGRAM_NAME){this.rollback(Ce.MIN_TOKEN_INDEX,t)}insertAfter(t,e,n=Ce.DEFAULT_PROGRAM_NAME){let s;typeof t=="number"?s=t:s=t.tokenIndex;let i=this.getProgram(n),o=new Xp(this.tokens,s,i.length,e);i.push(o)}insertBefore(t,e,n=Ce.DEFAULT_PROGRAM_NAME){let s;typeof t=="number"?s=t:s=t.tokenIndex;let i=this.getProgram(n),o=new li(this.tokens,s,i.length,e);i.push(o)}replaceSingle(t,e){typeof t=="number"?this.replace(t,t,e):this.replace(t,t,e)}replace(t,e,n,s=Ce.DEFAULT_PROGRAM_NAME){if(typeof t!="number"&&(t=t.tokenIndex),typeof e!="number"&&(e=e.tokenIndex),t>e||t<0||e<0||e>=this.tokens.size)throw new RangeError(`replace: range invalid: ${t}..${e}(size=${this.tokens.size})`);let i=this.getProgram(s),o=new as(this.tokens,t,e,i.length,n);i.push(o)}delete(t,e,n=Ce.DEFAULT_PROGRAM_NAME){e===void 0&&(e=t),typeof t=="number"?this.replace(t,e,"",n):this.replace(t,e,"",n)}getLastRewriteTokenIndex(t=Ce.DEFAULT_PROGRAM_NAME){let e=this.lastRewriteTokenIndexes.get(t);return e??-1}setLastRewriteTokenIndex(t,e){this.lastRewriteTokenIndexes.set(t,e)}getProgram(t){let e=this.programs.get(t);return e==null&&(e=this.initializeProgram(t)),e}initializeProgram(t){let e=[];return this.programs.set(t,e),e}getText(t,e=Ce.DEFAULT_PROGRAM_NAME){let n;t instanceof Kp.Interval?n=t:n=Kp.Interval.of(0,this.tokens.size-1),typeof t=="string"&&(e=t);let s=this.programs.get(e),i=n.a,o=n.b;if(o>this.tokens.size-1&&(o=this.tokens.size-1),i<0&&(i=0),s==null||s.length===0)return this.tokens.getText(n);let a=[],l=this.reduceToSingleOperationPerIndex(s),u=i;for(;u<=o&&u<this.tokens.size;){let h=l.get(u);l.delete(u);let c=this.tokens.get(u);h==null?(c.type!==nm.Token.EOF&&a.push(String(c.text)),u++):u=h.execute(a)}if(o===this.tokens.size-1)for(let h of l.values())h.index>=this.tokens.size-1&&a.push(h.text.toString());return a.join("")}reduceToSingleOperationPerIndex(t){for(let n=0;n<t.length;n++){let s=t[n];if(s==null||!(s instanceof as))continue;let i=s,o=this.getKindOfOps(t,li,n);for(let l of o)l.index===i.index?(t[l.instructionIndex]=void 0,i.text=l.text.toString()+(i.text!=null?i.text.toString():"")):l.index>i.index&&l.index<=i.lastIndex&&(t[l.instructionIndex]=void 0);let a=this.getKindOfOps(t,as,n);for(let l of a){if(l.index>=i.index&&l.lastIndex<=i.lastIndex){t[l.instructionIndex]=void 0;continue}let u=l.lastIndex<i.index||l.index>i.lastIndex;if(l.text==null&&i.text==null&&!u)t[l.instructionIndex]=void 0,i.index=Math.min(l.index,i.index),i.lastIndex=Math.max(l.lastIndex,i.lastIndex);else if(!u)throw new Error(`replace op boundaries of ${i} overlap with previous ${l}`)}}for(let n=0;n<t.length;n++){let s=t[n];if(s==null||!(s instanceof li))continue;let i=s,o=this.getKindOfOps(t,li,n);for(let l of o)l.index===i.index&&(l instanceof Xp?(i.text=this.catOpText(l.text,i.text),t[l.instructionIndex]=void 0):l instanceof li&&(i.text=this.catOpText(i.text,l.text),t[l.instructionIndex]=void 0));let a=this.getKindOfOps(t,as,n);for(let l of a){if(i.index===l.index){l.text=this.catOpText(i.text,l.text),t[n]=void 0;continue}if(i.index>=l.index&&i.index<=l.lastIndex)throw new Error(`insert op ${i} within boundaries of previous ${l}`)}}let e=new Map;for(let n of t)if(n!=null){if(e.get(n.index)!=null)throw new Error("should only be one op per index");e.set(n.index,n)}return e}catOpText(t,e){let n="",s="";return t!=null&&(n=t.toString()),e!=null&&(s=e.toString()),n+s}getKindOfOps(t,e,n){let s=[];for(let i=0;i<n&&i<t.length;i++){let o=t[i];o!=null&&o instanceof e&&s.push(o)}return s}}Ts.TokenStreamRewriter=Ce;Ce.DEFAULT_PROGRAM_NAME="default";Ce.PROGRAM_INIT_SIZE=100;Ce.MIN_TOKEN_INDEX=0;class dc{constructor(t,e,n,s){this.tokens=t,this.instructionIndex=n,this.index=e,this.text=s===void 0?"":s}execute(t){return this.index}toString(){let t=this.constructor.name,e=t.indexOf("$");return t=t.substring(e+1,t.length),"<"+t+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}hc([fc.Override],dc.prototype,"toString",null);Ts.RewriteOperation=dc;class li extends dc{constructor(t,e,n,s){super(t,e,n,s)}execute(t){return t.push(this.text.toString()),this.tokens.get(this.index).type!==nm.Token.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}hc([fc.Override],li.prototype,"execute",null);class Xp extends li{constructor(t,e,n,s){super(t,e+1,n,s)}}class as extends dc{constructor(t,e,n,s,i){super(t,e,s,i),this.lastIndex=n}execute(t){return this.text!=null&&t.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}hc([fc.Override],as.prototype,"execute",null);hc([fc.Override],as.prototype,"toString",null);var im={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(im,"__esModule",{value:!0});var sm={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(sm,"__esModule",{value:!0});(function(r){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=w&&w.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i),Object.defineProperty(n,o,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),e=w&&w.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),e(A0,r),e(T0,r),e(gu,r),e(Gy(),r),e(Ha,r),e(Ky,r),e(rc,r),e(Sf,r),e(Va,r),e(Kn,r),e(Ou,r),e(Vs,r),e(Aa,r),e(Ef(),r),e(Xy,r),e(oc,r),e(Rs,r),e(ji,r),e(Vy(),r),e(En,r),e(Zn(),r),e(ac,r),e(Vi,r),e(Wa,r),e(sc(),r),e(Ka(),r),e(Qy,r),e(Hy(),r),e(wr(),r),e(Ls,r),e(qa,r),e(Xr,r),e(Xn,r),e(Py(),r),e(lc,r),e(uc,r),e(cc,r),e(te,r),e(tm,r),e(em,r),e(rm,r),e(Ts,r),e(im,r),e(Tn,r),e(sm,r)})(ea);var om=mf(),ME=Zn(),kE=Lu();const $t=class $t extends ME.Lexer{get vocabulary(){return $t.VOCABULARY}constructor(t){super(t),this._interp=new kE.LexerATNSimulator($t._ATN,this)}get grammarFileName(){return"Formula.g4"}get ruleNames(){return $t.ruleNames}get serializedATN(){return $t._serializedATN}get channelNames(){return $t.channelNames}get modeNames(){return $t.modeNames}action(t,e,n){switch(e){case 4:this.REF_action(t,n);break}}REF_action(t,e){}static get _ATN(){return $t.__ATN||($t.__ATN=new om.ATNDeserializer().deserialize(sf($t._serializedATN))),$t.__ATN}};lt($t,"T__0",1),lt($t,"T__1",2),lt($t,"T__2",3),lt($t,"REFERENCE",4),lt($t,"REF",5),lt($t,"REFRANGE",6),lt($t,"BOOL",7),lt($t,"NUM",8),lt($t,"FUNCNAME",9),lt($t,"WS",10),lt($t,"MUL",11),lt($t,"DIV",12),lt($t,"ADD",13),lt($t,"SUB",14),lt($t,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),lt($t,"modeNames",["DEFAULT_MODE"]),lt($t,"ruleNames",["T__0","T__1","T__2","REFERENCE","REF","REFRANGE","BOOL","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB"]),lt($t,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'"]),lt($t,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB"]),lt($t,"VOCABULARY",new uf($t._LITERAL_NAMES,$t._SYMBOLIC_NAMES,[])),lt($t,"_serializedATN",`줝쪺֍꾺体؇쉁m\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r		(
\x07.
\f1\v\x07\x07\x07\x07\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bI
\b		L
	\r		M			R
	\r		S	V
	

\x07
Z

\f

]\v
\v\v\`
\v\r\v\va\v\v\f\f\r\r\x07	\v\x07\r\b	
\v\f\r\x1B\x07C\\c|3;2;2;C\\c|\v\v""v\x07	\v\r\x1B!\x07#	'\v)\r2HKW_eg\x1Bik \x07* !"\x07+"#$\x07.$\b%(\v&(\r\x07'%'&(
)*	*+\b+/	,.	-,.1/-/00\f1/23\v34\x07<45\v567\x07V78\x07T89\x07W9I\x07G:;\x07H;<\x07C<=\x07N=>\x07U>I\x07G?@\x07v@A\x07tAB\x07wBI\x07gCD\x07hDE\x07cEF\x07nFG\x07uGI\x07gH6H:H?HCIJL	KJLMMKMNNUOQ\x070PR	QPRSSQSTTVUOUVVW[	XZ	YXZ][Y[\\\\][^\`	_^\`aa_abbccd\b\vdef\x07,fgh\x071hij\x07-jkl\x07/l\v'/HMSU[a\b`),lt($t,"__ATN");let Ul=$t;var jE=Zr(),UE=sc(),$E=Ka(),Af=wr(),zE=ja();const dt=class dt extends $E.Parser{get vocabulary(){return dt.VOCABULARY}get grammarFileName(){return"Formula.g4"}get ruleNames(){return dt.ruleNames}get serializedATN(){return dt._serializedATN}createFailedPredicateException(t,e){return new ly(this,t,e)}constructor(t){super(t),this._interp=new zE.ParserATNSimulator(dt._ATN,this)}formula(){let t=new qE(this._ctx,this.state);this.enterRule(t,0,dt.RULE_formula);let e;try{this.enterOuterAlt(t,1);{this.state=7,this._errHandler.sync(this),e=this._input.LA(1);do this.state=6,this.expr(0),this.state=9,this._errHandler.sync(this),e=this._input.LA(1);while(!(e&-32)&&1<<e&(1<<dt.T__0|1<<dt.REFERENCE|1<<dt.BOOL|1<<dt.NUM|1<<dt.FUNCNAME))}}catch(n){if(n instanceof Sl)t.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return t}expr(t){t===void 0&&(t=0);let e=this._ctx,n=this.state,s=new ge(this._ctx,n),i=s,o=2;this.enterRecursionRule(s,2,dt.RULE_expr,t);let a;try{let l;this.enterOuterAlt(s,1);{switch(this.state=25,this._errHandler.sync(this),this._input.LA(1)){case dt.FUNCNAME:s=new VE(s),this._ctx=s,i=s,this.state=12,this.match(dt.FUNCNAME),this.state=13,this.match(dt.T__0),this.state=15,this._errHandler.sync(this),a=this._input.LA(1),!(a&-32)&&1<<a&(1<<dt.T__0|1<<dt.REFERENCE|1<<dt.BOOL|1<<dt.NUM|1<<dt.FUNCNAME)&&(this.state=14,this.args()),this.state=17,this.match(dt.T__1);break;case dt.NUM:s=new YE(s),this._ctx=s,i=s,this.state=18,this.match(dt.NUM);break;case dt.BOOL:s=new GE(s),this._ctx=s,i=s,this.state=19,this.match(dt.BOOL);break;case dt.REFERENCE:s=new KE(s),this._ctx=s,i=s,this.state=20,this.match(dt.REFERENCE);break;case dt.T__0:s=new XE(s),this._ctx=s,i=s,this.state=21,this.match(dt.T__0),this.state=22,this.expr(0),this.state=23,this.match(dt.T__1);break;default:throw new UE.NoViableAltException(this)}for(this._ctx._stop=this._input.tryLT(-1),this.state=35,this._errHandler.sync(this),l=this.interpreter.adaptivePredict(this._input,4,this._ctx);l!==2&&l!==jE.ATN.INVALID_ALT_NUMBER;){if(l===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),i=s,this.state=33,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:{if(s=new HE(new ge(e,n)),this.pushNewRecursionContext(s,o,dt.RULE_expr),this.state=27,!this.precpred(this._ctx,6))throw this.createFailedPredicateException("this.precpred(this._ctx, 6)");this.state=28,s._op=this._input.LT(1),a=this._input.LA(1),a===dt.MUL||a===dt.DIV?(this._input.LA(1)===te.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=29,this.expr(7)}break;case 2:{if(s=new WE(new ge(e,n)),this.pushNewRecursionContext(s,o,dt.RULE_expr),this.state=30,!this.precpred(this._ctx,5))throw this.createFailedPredicateException("this.precpred(this._ctx, 5)");this.state=31,s._op=this._input.LT(1),a=this._input.LA(1),a===dt.ADD||a===dt.SUB?(this._input.LA(1)===te.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=32,this.expr(6)}break}this.state=37,this._errHandler.sync(this),l=this.interpreter.adaptivePredict(this._input,4,this._ctx)}}}catch(l){if(l instanceof Sl)s.exception=l,this._errHandler.reportError(this,l),this._errHandler.recover(this,l);else throw l}finally{this.unrollRecursionContexts(e)}return s}args(){let t=new am(this._ctx,this.state);this.enterRule(t,4,dt.RULE_args);let e;try{for(this.enterOuterAlt(t,1),this.state=38,this.expr(0),this.state=43,this._errHandler.sync(this),e=this._input.LA(1);e===dt.T__2;)this.state=39,this.match(dt.T__2),this.state=40,this.expr(0),this.state=45,this._errHandler.sync(this),e=this._input.LA(1)}catch(n){if(n instanceof Sl)t.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return t}sempred(t,e,n){switch(e){case 1:return this.expr_sempred(t,n)}return!0}expr_sempred(t,e){switch(e){case 0:return this.precpred(this._ctx,6);case 1:return this.precpred(this._ctx,5)}return!0}static get _ATN(){return dt.__ATN||(dt.__ATN=new om.ATNDeserializer().deserialize(sf(dt._serializedATN))),dt.__ATN}};lt(dt,"T__0",1),lt(dt,"T__1",2),lt(dt,"T__2",3),lt(dt,"REFERENCE",4),lt(dt,"REF",5),lt(dt,"REFRANGE",6),lt(dt,"BOOL",7),lt(dt,"NUM",8),lt(dt,"FUNCNAME",9),lt(dt,"WS",10),lt(dt,"MUL",11),lt(dt,"DIV",12),lt(dt,"ADD",13),lt(dt,"SUB",14),lt(dt,"RULE_formula",0),lt(dt,"RULE_expr",1),lt(dt,"RULE_args",2),lt(dt,"ruleNames",["formula","expr","args"]),lt(dt,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'"]),lt(dt,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB"]),lt(dt,"VOCABULARY",new uf(dt._LITERAL_NAMES,dt._SYMBOLIC_NAMES,[])),lt(dt,"_serializedATN",`줝쪺֍꾺体؇쉁1			

\r\v

\x07$
\f'\v\x07,
\f/\v\r6	\x1B(\b
	\b
\v\v	\v\f\f\r\b\x07\v\x07\x07\x07
\x07	\x07\x07\x07\x1B\r\x1B\x1B\x1B\x1B%\f\b	$	 !\f\x07!"	"$\b## $'%#%&&'%(-)*\x07*,+),/-+-..\x07/-\b\v\x1B#%-`),lt(dt,"__ATN");let we=dt;class qE extends Af.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(ge):this.getRuleContext(t,ge)}constructor(t,e){super(t,e)}get ruleIndex(){return we.RULE_formula}enterRule(t){t.enterFormula&&t.enterFormula(this)}exitRule(t){t.exitFormula&&t.exitFormula(this)}accept(t){return t.visitFormula?t.visitFormula(this):t.visitChildren(this)}}class ge extends Af.ParserRuleContext{constructor(t,e){super(t,e)}get ruleIndex(){return we.RULE_expr}copyFrom(t){super.copyFrom(t)}}class VE extends ge{FUNCNAME(){return this.getToken(we.FUNCNAME,0)}args(){return this.tryGetRuleContext(0,am)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterFunction&&t.enterFunction(this)}exitRule(t){t.exitFunction&&t.exitFunction(this)}accept(t){return t.visitFunction?t.visitFunction(this):t.visitChildren(this)}}class HE extends ge{constructor(e){super(e.parent,e.invokingState);lt(this,"_op");this.copyFrom(e)}expr(e){return e===void 0?this.getRuleContexts(ge):this.getRuleContext(e,ge)}MUL(){return this.tryGetToken(we.MUL,0)}DIV(){return this.tryGetToken(we.DIV,0)}enterRule(e){e.enterMulDiv&&e.enterMulDiv(this)}exitRule(e){e.exitMulDiv&&e.exitMulDiv(this)}accept(e){return e.visitMulDiv?e.visitMulDiv(this):e.visitChildren(this)}}class WE extends ge{constructor(e){super(e.parent,e.invokingState);lt(this,"_op");this.copyFrom(e)}expr(e){return e===void 0?this.getRuleContexts(ge):this.getRuleContext(e,ge)}ADD(){return this.tryGetToken(we.ADD,0)}SUB(){return this.tryGetToken(we.SUB,0)}enterRule(e){e.enterAddSub&&e.enterAddSub(this)}exitRule(e){e.exitAddSub&&e.exitAddSub(this)}accept(e){return e.visitAddSub?e.visitAddSub(this):e.visitChildren(this)}}class YE extends ge{NUM(){return this.getToken(we.NUM,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterNumber&&t.enterNumber(this)}exitRule(t){t.exitNumber&&t.exitNumber(this)}accept(t){return t.visitNumber?t.visitNumber(this):t.visitChildren(this)}}class GE extends ge{BOOL(){return this.getToken(we.BOOL,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterBoolean&&t.enterBoolean(this)}exitRule(t){t.exitBoolean&&t.exitBoolean(this)}accept(t){return t.visitBoolean?t.visitBoolean(this):t.visitChildren(this)}}class KE extends ge{REFERENCE(){return this.getToken(we.REFERENCE,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterReference&&t.enterReference(this)}exitRule(t){t.exitReference&&t.exitReference(this)}accept(t){return t.visitReference?t.visitReference(this):t.visitChildren(this)}}class XE extends ge{expr(){return this.getRuleContext(0,ge)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterParentheses&&t.enterParentheses(this)}exitRule(t){t.exitParentheses&&t.exitParentheses(this)}accept(t){return t.visitParentheses?t.visitParentheses(this):t.visitChildren(this)}}class am extends Af.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(ge):this.getRuleContext(t,ge)}constructor(t,e){super(t,e)}get ruleIndex(){return we.RULE_args}enterRule(t){t.enterArgs&&t.enterArgs(this)}exitRule(t){t.exitArgs&&t.exitArgs(this)}accept(t){return t.visitArgs?t.visitArgs(this):t.visitChildren(this)}}function JE(r,t){const[e,n]=r,[s,i]=t;return e.r<=i.r&&n.r>=s.r&&e.c<=i.c&&n.c>=s.c}function QE(r){const t=Array.from(r.keys()).map(Li),e=t.map(s=>s.r),n=t.map(s=>s.c);return[{r:Math.min(...e),c:Math.min(...n)},{r:Math.max(...e),c:Math.max(...n)}]}function*Tf(r){const[t,e]=r;for(let n=t.r;n<=e.r;n++)for(let s=t.c;s<=e.c;s++)yield{r:n,c:s}}function ZE(r,t){const[e,n]=r,s=Math.floor((n.r-e.r)*t),i=Math.floor((n.c-e.c)*t);return[{r:Math.max(e.r-s,1),c:Math.max(e.c-i,1)},{r:n.r+s,c:n.c+i}]}function pn(r,t){const[e,n]=t;return e.r<=r.r&&r.r<=n.r&&e.c<=r.c&&r.c<=n.c}function lm(r,t){const[e,n]=r,[s,i]=t;return s.r<=e.r&&n.r<=i.r&&s.c<=e.c&&n.c<=i.c}function Jp(r,t){return[{r:Math.min(r.r,t.r),c:Math.min(r.c,t.c)},{r:Math.max(r.r,t.r),c:Math.max(r.c,t.c)}]}function tA(r){return[Qp(r[0]),Qp(r[1])]}function oh(r,t){return r.r===t.r&&r.c===t.c}function Qp(r){return{r:r.r,c:r.c}}function Nf(r){return r.includes(":")}function*pc(r){for(const t of r){if(Nf(t)){const e=rA(t);for(const n of Tf(e))yield le(n);continue}yield t}}function le(r){return um(r.c)+r.r}function eA(r){const[t,e]=r;return`${le(t)}:${le(e)}`}function um(r){let t="";for(;r>0;){const e=r%26;e===0?(t="Z"+t,r=Math.floor(r/26)-1):(t=String.fromCharCode(e+64)+t,r=Math.floor(r/26))}return t}function Li(r){let t=0;for(let s=0;s<r.length;s++){const i=r.charCodeAt(s);if(48<=i&&i<=57){t=s;break}}if(t===0)throw new Error("Invalid Reference");const e=parseInt(r.substring(t)),n=r.substring(0,t).split("").reverse().reduce((s,i,o)=>s+Math.pow(26,o)*(i.charCodeAt(0)-65+1),0);if(isNaN(e)||isNaN(n))throw new Error("Invalid Reference");return{r:e,c:n}}function rA(r){const[t,e]=r.split(":");return[Li(t),Li(e)]}class wf{constructor(){lt(this,"ref");lt(this,"bool");lt(this,"num");lt(this,"str")}static create(){return new wf}setRef(t){return this.ref=t,this}setBool(t){return this.bool=t,this}setNum(t){return this.num=t,this}setStr(t){return this.str=t,this}map(t,e){return t.t==="bool"&&this.bool?this.bool(t):t.t==="num"&&this.num?this.num(t):t.t==="str"&&this.str?this.str(t):t.t==="ref"&&this.ref&&e?this.ref(t,e):t}*iterate(t,e,n){for(const s of t.expr()){const i=e(s);if(i.t==="ref"&&n)for(const o of pc([i.v]))yield this.ref({t:"ref",v:o},n);else yield this.map(i)}}}function nA(r){return{t:"num",v:r.v?1:0}}function iA(r){const t=Number(r);return{t:"num",v:isNaN(t)?0:t}}function sA(r,t){var s;if(Nf(r.v))return{t:"err",v:"#VALUE!"};const e=((s=t.get(r.v))==null?void 0:s.v)||"",n=Number(e);return{t:"num",v:isNaN(n)?0:n}}const Qo=wf.create().setRef(sA).setBool(nA).setStr(iA),Zp=new Map([["SUM",oA]]);function oA(r,t,e){const n=r.args();if(!n)return{t:"err",v:"#N/A!"};let s=0;for(const i of Qo.iterate(n,t,e)){if(i.t==="err")return i;s+=i.v}return{t:"num",v:s}}function Of(r){const t=ea.CharStreams.fromString(r.slice(1)),e=new Ul(t),n=new ea.CommonTokenStream(e);e.removeErrorListeners(),n.fill();const s=new Set;for(const i of n.getTokens())i.type===we.REFERENCE&&s.add(i.text.toUpperCase());return s}function aA(r,t){var e;try{const n=ea.CharStreams.fromString(r.slice(1)),s=new Ul(n),i=new ea.CommonTokenStream(s),o=new we(i),a=o.expr(),l=new lA(t);s.removeErrorListeners(),o.removeErrorListeners();const u=l.visit(a);return u.t==="ref"&&t?Nf(u.v)?"#VALUE!":((e=t.get(u.v))==null?void 0:e.v)||"":u.v.toString()}catch{return"#ERROR!"}}class lA{constructor(t){lt(this,"grid");this.visit=this.visit.bind(this),this.grid=t}visitChildren(){throw new Error("Method not implemented.")}visitTerminal(){throw new Error("Method not implemented.")}visitErrorNode(){throw new Error("Method not implemented.")}visitFormula(){throw new Error("Method not implemented.")}visitExpr(){throw new Error("Method not implemented.")}visitArgs(){throw new Error("Method not implemented.")}visit(t){return t.accept(this)}visitFunction(t){const e=t.FUNCNAME().text.toUpperCase();if(Zp.has(e))return Zp.get(e)(t,this.visit,this.grid);throw new Error("Function not implemented.")}visitReference(t){return this.grid?{t:"ref",v:t.text.toUpperCase()}:{t:"err",v:"#REF!"}}visitParentheses(t){return this.visit(t.expr())}visitNumber(t){return{t:"num",v:Number(t.text)}}visitBoolean(t){return{t:"bool",v:t.text==="TRUE"||t.text==="true"}}visitAddSub(t){const e=Qo.map(this.visit(t.expr(0)),this.grid);if(e.t==="err")return e;const n=Qo.map(this.visit(t.expr(1)),this.grid);return n.t==="err"?n:t._op.type===we.ADD?{t:"num",v:e.v+n.v}:{t:"num",v:e.v-n.v}}visitMulDiv(t){const e=Qo.map(this.visit(t.expr(0)),this.grid);if(e.t==="err")return e;const n=Qo.map(this.visit(t.expr(1)),this.grid);return n.t==="err"?n:t._op.type===we.MUL?{t:"num",v:e.v*n.v}:{t:"num",v:e.v/n.v}}}class uA{constructor(t){lt(this,"grid");this.grid=t||new Map}async set(t,e){this.grid.set(le(t),e)}async get(t){return this.grid.get(le(t))}async has(t){return this.grid.has(le(t))}async delete(t){return this.grid.delete(le(t))}async setGrid(t){for(const[e,n]of t)this.grid.set(e,n)}async getGrid(t){const e=this.grid.entries(),n=new Map;for(const[s,i]of e){const o=Li(s);pn(o,t)&&n.set(s,i)}return Promise.resolve(n)}async findEdge(t,e,n){let s=t.r,i=t.c;const o=e==="up"?-1:e==="down"?1:0,a=e==="left"?-1:e==="right"?1:0;let l=!0,u=!0;for(;;){const h=s+o,c=i+a;if(!pn({r:h,c},n))break;const f=await this.has({r:s,c:i}),d=await this.has({r:h,c});if(!u&&f||!l&&f&&!d)break;u=f,l=!1,s=h,i=c}return{r:s,c:i}}async buildDependantsMap(t){const e=Array.from(this.grid.entries()),n=new Map;for(const[s,i]of e)if(i.f)for(const o of pc(Of(i.f)))n.has(o)||n.set(o,new Set),n.get(o).add(s);return n}}async function t0(r,t,e){const[n,s]=cA(t,e);for(const i of n){const o=Li(i);if(!await r.hasFormula(o))continue;const a=await r.getCell(o);if(s.has(i)){await r.setCell(o,{v:"#REF!",f:a.f});continue}const l=Of(a.f),u=await r.fetchGridByReferences(l),h=await aA(a.f,u);await r.setCell(o,{v:h,f:a.f})}}function cA(r,t){const e=[],n=new Set,s=new Set,i=new Set,o=a=>{if(i.has(a))for(const l of i)n.add(l);if(i.add(a),!s.has(a)){if(s.add(a),r.has(a))for(const l of r.get(a))o(l);e.push(a)}i.delete(a)};for(const a of t)o(a);return[e.reverse(),n]}const hA={rows:2147483647,columns:18278};class fA{constructor(t){lt(this,"store");lt(this,"dimension");lt(this,"activeCell");lt(this,"range");this.store=t||new uA,this.dimension={...hA},this.activeCell={r:1,c:1}}get dimensionRange(){return[{r:1,c:1},{r:this.dimension.rows,c:this.dimension.columns}]}getDimension(){return this.dimension}async getCell(t){return this.store.get(t)}async setCell(t,e){await this.store.set(t,e)}async setGrid(t){await this.store.setGrid(t)}async hasFormula(t){const e=await this.store.get(t);return!!(e&&e.f)}async toInputString(t){const e=await this.store.get(t);return e?e.f?e.f:e.v||"":""}async toDisplayString(t){const e=await this.store.get(t);return e&&e.v||""}async setData(t,e){const n=e.startsWith("=")?{f:e}:{v:e};await this.store.set(t,n);const s=await this.store.buildDependantsMap([le(t)]);await t0(this,s,[le(t)])}async removeData(){const t=new Set;for(const n of this.toSelecteds())await this.store.delete(n)&&t.add(le(n));const e=await this.store.buildDependantsMap(t);return await t0(this,e,t),t.size>0}async fetchGrid(t){return this.store.getGrid(t)}async fetchGridByReferences(t){const e=new Map;for(const n of pc(t)){const s=await this.store.get(Li(n));s&&e.set(n,s)}return e}*toSelecteds(){if(!this.range){yield this.activeCell;return}for(const t of Tf(this.range))yield t}getActiveCell(){return this.activeCell}getRange(){return this.range}selectStart(t){pn(t,this.dimensionRange)&&(this.activeCell=t,this.range=void 0)}selectEnd(t){if(pn(t,this.dimensionRange)){if(oh(this.activeCell,t)){this.range=void 0;return}this.range=Jp(this.activeCell,t)}}hasRange(){return!!this.range}async moveToEdge(t){const e=await this.store.findEdge(this.activeCell,t,this.dimensionRange);return oh(this.activeCell,e)?!1:(this.range=void 0,this.activeCell=e,!0)}move(t){const e=t==="up"?-1:t==="down"?1:0,n=t==="left"?-1:t==="right"?1:0;let s=this.activeCell.r+e,i=this.activeCell.c+n;return!pn({r:s,c:i},this.dimensionRange)||oh(this.activeCell,{r:s,c:i})?!1:(this.range=void 0,this.activeCell={r:s,c:i},!0)}resizeRange(t){const e=t==="up"?-1:t==="down"?1:0,n=t==="left"?-1:t==="right"?1:0;let s=tA(this.range||[this.activeCell,this.activeCell]);return this.activeCell.r===s[1].r?s[0].r+=e:s[1].r+=e,this.activeCell.c===s[1].c?s[0].c+=n:s[1].c+=n,s=Jp(s[0],s[1]),lm(s,this.dimensionRange)?(this.range=s,!0):!1}moveInRange(t,e){const n=this.range||this.dimensionRange;let s=this.activeCell.r,i=this.activeCell.c;const o=n[1].r-n[0].r+1,a=n[1].c-n[0].c+1;t!==0&&(s+t>n[1].r?(s=n[0].r,i=(i+1-n[0].c+a)%a+n[0].c):s+t<n[0].r?(s=n[1].r,i=(i-1-n[0].c+a)%a+n[0].c):s+=t),e!==0&&(i+e>n[1].c?(i=n[0].c,s=(s+1-n[0].r+o)%o+n[0].r):i+e<n[0].c?(i=n[1].c,s=(s-1-n[0].r+o)%o+n[0].r):i+=e),this.activeCell={r:s,c:i}}}function Rt(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(h){try{u(n.next(h))}catch(c){o(c)}}function l(h){try{u(n.throw(h))}catch(c){o(c)}}function u(h){h.done?i(h.value):s(h.value).then(a,l)}u((n=n.apply(r,t||[])).next())})}function e0(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(r){return this instanceof kt?(this.v=r,this):new kt(r)}function $r(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(r,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(d){return new Promise(function(m,T){i.push([f,d,m,T])>1||a(f,d)})})}function a(f,d){try{l(n[f](d))}catch(m){c(i[0][3],m)}}function l(f){f.value instanceof kt?Promise.resolve(f.value.v).then(u,h):c(i[0][2],f)}function u(f){a("next",f)}function h(f){a("throw",f)}function c(f,d){f(d),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Tl(r){var t,e;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=r[s]?function(o){return(e=!e)?{value:kt(r[s](o)),done:!1}:i?i(o):o}:i}}function gi(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof e0=="function"?e0(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=r[i]&&function(o){return new Promise(function(a,l){o=r[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}const dA=new TextDecoder("utf-8"),Mh=r=>dA.decode(r),pA=new TextEncoder,Cf=r=>pA.encode(r),yA=r=>typeof r=="number",cm=r=>typeof r=="boolean",pe=r=>typeof r=="function",We=r=>r!=null&&Object(r)===r,Bi=r=>We(r)&&pe(r.then),Xa=r=>We(r)&&pe(r[Symbol.iterator]),Gs=r=>We(r)&&pe(r[Symbol.asyncIterator]),kh=r=>We(r)&&We(r.schema),hm=r=>We(r)&&"done"in r&&"value"in r,fm=r=>We(r)&&pe(r.stat)&&yA(r.fd),dm=r=>We(r)&&If(r.body),yc=r=>"_getDOMStream"in r&&"_getNodeStream"in r,mA=r=>We(r)&&pe(r.abort)&&pe(r.getWriter)&&!yc(r),If=r=>We(r)&&pe(r.cancel)&&pe(r.getReader)&&!yc(r),xA=r=>We(r)&&pe(r.end)&&pe(r.write)&&cm(r.writable)&&!yc(r),pm=r=>We(r)&&pe(r.read)&&pe(r.pipe)&&cm(r.readable)&&!yc(r),gA=r=>We(r)&&pe(r.clear)&&pe(r.bytes)&&pe(r.position)&&pe(r.setPosition)&&pe(r.capacity)&&pe(r.getBufferIdentifier)&&pe(r.createLong),Df=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function _A(r){const t=r[0]?[r[0]]:[];let e,n,s,i;for(let o,a,l=0,u=0,h=r.length;++l<h;){if(o=t[u],a=r[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++u]=a);continue}if({byteOffset:e,byteLength:s}=o,{byteOffset:n,byteLength:i}=a,e+s<n||n+i<e){a&&(t[++u]=a);continue}t[u]=new Uint8Array(o.buffer,e,n-e+i)}return t}function r0(r,t,e=0,n=t.byteLength){const s=r.byteLength,i=new Uint8Array(r.buffer,r.byteOffset,s),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(n,s));return i.set(o,e),r}function Vr(r,t){const e=_A(r),n=e.reduce((h,c)=>h+c.byteLength,0);let s,i,o,a=0,l=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,n);for(const h=e.length;++l<h;){if(s=e[l],i=s.subarray(0,Math.min(s.length,u-a)),u<=a+i.length){i.length<s.length?e[l]=s.subarray(i.length):i.length===s.length&&l++,o?r0(o,i,a):o=i;break}r0(o||(o=new Uint8Array(u)),i,a),a+=i.length}return[o||new Uint8Array(0),e.slice(l),n-(o?o.byteLength:0)]}function Jt(r,t){let e=hm(t)?t.value:t;return e instanceof r?r===Uint8Array?new r(e.buffer,e.byteOffset,e.byteLength):e:e?(typeof e=="string"&&(e=Cf(e)),e instanceof ArrayBuffer?new r(e):e instanceof Df?new r(e):gA(e)?Jt(r,e.bytes()):ArrayBuffer.isView(e)?e.byteLength<=0?new r(0):new r(e.buffer,e.byteOffset,e.byteLength/r.BYTES_PER_ELEMENT):r.from(e)):new r(0)}const Yo=r=>Jt(Int32Array,r),Ht=r=>Jt(Uint8Array,r),jh=r=>(r.next(),r);function*vA(r,t){const e=function*(s){yield s},n=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Df?e(t):Xa(t)?t:e(t);return yield*jh(function*(s){let i=null;do i=s.next(yield Jt(r,i));while(!i.done)}(n[Symbol.iterator]())),new r}const SA=r=>vA(Uint8Array,r);function ym(r,t){return $r(this,arguments,function*(){if(Bi(t))return yield kt(yield kt(yield*Tl(gi(ym(r,yield kt(t))))));const n=function(o){return $r(this,arguments,function*(){yield yield kt(yield kt(o))})},s=function(o){return $r(this,arguments,function*(){yield kt(yield*Tl(gi(jh(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},i=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Df?n(t):Xa(t)?s(t):Gs(t)?t:n(t);return yield kt(yield*Tl(gi(jh(function(o){return $r(this,arguments,function*(){let a=null;do a=yield kt(o.next(yield yield kt(Jt(r,a))));while(!a.done)})}(i[Symbol.asyncIterator]()))))),yield kt(new r)})}const bA=r=>ym(Uint8Array,r);function mm(r,t,e){if(r!==0){e=e.slice(0,t);for(let n=-1,s=e.length;++n<s;)e[n]+=r}return e.subarray(0,t)}function EA(r,t){let e=0;const n=r.length;if(n!==t.length)return!1;if(n>0)do if(r[e]!==t[e])return!1;while(++e<n);return!0}const hr={fromIterable(r){return hl(AA(r))},fromAsyncIterable(r){return hl(TA(r))},fromDOMStream(r){return hl(NA(r))},fromNodeStream(r){return hl(OA(r))},toDOMStream(r,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(r,t){throw new Error('"toNodeStream" not available in this environment')}},hl=r=>(r.next(),r);function*AA(r){let t,e=!1,n=[],s,i,o,a=0;function l(){return i==="peek"?Vr(n,o)[0]:([s,n,a]=Vr(n,o),s)}({cmd:i,size:o}=yield null);const u=SA(r)[Symbol.iterator]();try{do if({done:t,value:s}=Number.isNaN(o-a)?u.next():u.next(o-a),!t&&s.byteLength>0&&(n.push(s),a+=s.byteLength),t||o<=a)do({cmd:i,size:o}=yield l());while(o<a);while(!t)}catch(h){(e=!0)&&typeof u.throw=="function"&&u.throw(h)}finally{e===!1&&typeof u.return=="function"&&u.return(null)}return null}function TA(r){return $r(this,arguments,function*(){let e,n=!1,s=[],i,o,a,l=0;function u(){return o==="peek"?Vr(s,a)[0]:([i,s,l]=Vr(s,a),i)}({cmd:o,size:a}=yield yield kt(null));const h=bA(r)[Symbol.asyncIterator]();try{do if({done:e,value:i}=Number.isNaN(a-l)?yield kt(h.next()):yield kt(h.next(a-l)),!e&&i.byteLength>0&&(s.push(i),l+=i.byteLength),e||a<=l)do({cmd:o,size:a}=yield yield kt(u()));while(a<l);while(!e)}catch(c){(n=!0)&&typeof h.throw=="function"&&(yield kt(h.throw(c)))}finally{n===!1&&typeof h.return=="function"&&(yield kt(h.return(new Uint8Array(0))))}return yield kt(null)})}function NA(r){return $r(this,arguments,function*(){let e=!1,n=!1,s=[],i,o,a,l=0;function u(){return o==="peek"?Vr(s,a)[0]:([i,s,l]=Vr(s,a),i)}({cmd:o,size:a}=yield yield kt(null));const h=new wA(r);try{do if({done:e,value:i}=Number.isNaN(a-l)?yield kt(h.read()):yield kt(h.read(a-l)),!e&&i.byteLength>0&&(s.push(Ht(i)),l+=i.byteLength),e||a<=l)do({cmd:o,size:a}=yield yield kt(u()));while(a<l);while(!e)}catch(c){(n=!0)&&(yield kt(h.cancel(c)))}finally{n===!1?yield kt(h.cancel()):r.locked&&h.releaseLock()}return yield kt(null)})}class wA{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Rt(this,void 0,void 0,function*(){const{reader:e,source:n}=this;e&&(yield e.cancel(t).catch(()=>{})),n&&n.locked&&this.releaseLock()})}read(t){return Rt(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=Ht(e)),e})}}const ah=(r,t)=>{const e=s=>n([t,s]);let n;return[t,e,new Promise(s=>(n=s)&&r.once(t,e))]};function OA(r){return $r(this,arguments,function*(){const e=[];let n="error",s=!1,i=null,o,a,l=0,u=[],h;function c(){return o==="peek"?Vr(u,a)[0]:([h,u,l]=Vr(u,a),h)}if({cmd:o,size:a}=yield yield kt(null),r.isTTY)return yield yield kt(new Uint8Array(0)),yield kt(null);try{e[0]=ah(r,"end"),e[1]=ah(r,"error");do{if(e[2]=ah(r,"readable"),[n,i]=yield kt(Promise.race(e.map(d=>d[2]))),n==="error")break;if((s=n==="end")||(Number.isFinite(a-l)?(h=Ht(r.read(a-l)),h.byteLength<a-l&&(h=Ht(r.read()))):h=Ht(r.read()),h.byteLength>0&&(u.push(h),l+=h.byteLength)),s||a<=l)do({cmd:o,size:a}=yield yield kt(c()));while(a<l)}while(!s)}finally{yield kt(f(e,n==="error"?i:null))}return yield kt(null);function f(d,m){return h=u=null,new Promise((T,y)=>{for(const[v,_]of d)r.off(v,_);try{const v=r.destroy;v&&v.call(r,m),m=void 0}catch(v){m=v||m}finally{m!=null?y(m):T()}})}})}var Ee;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(Ee||(Ee={}));var Me;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(Me||(Me={}));var He;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(He||(He={}));var Sn;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(Sn||(Sn={}));var Ft;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(Ft||(Ft={}));var zn;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(zn||(zn={}));var Yt;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(Yt||(Yt={}));var U;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth",r[r.DurationSecond=-27]="DurationSecond",r[r.DurationMillisecond=-28]="DurationMillisecond",r[r.DurationMicrosecond=-29]="DurationMicrosecond",r[r.DurationNanosecond=-30]="DurationNanosecond"})(U||(U={}));var ln;(function(r){r[r.OFFSET=0]="OFFSET",r[r.DATA=1]="DATA",r[r.VALIDITY=2]="VALIDITY",r[r.TYPE=3]="TYPE"})(ln||(ln={}));const CA=void 0;function ua(r){if(r===null)return"null";if(r===CA)return"undefined";switch(typeof r){case"number":return`${r}`;case"bigint":return`${r}`;case"string":return`"${r}"`}return typeof r[Symbol.toPrimitive]=="function"?r[Symbol.toPrimitive]("string"):ArrayBuffer.isView(r)?r instanceof BigInt64Array||r instanceof BigUint64Array?`[${[...r].map(t=>ua(t))}]`:`[${r}]`:ArrayBuffer.isView(r)?`[${r}]`:JSON.stringify(r,(t,e)=>typeof e=="bigint"?`${e}`:e)}const IA=Symbol.for("isArrowBigNum");function Or(r,...t){return t.length===0?Object.setPrototypeOf(Jt(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...t),this.constructor.prototype)}Or.prototype[IA]=!0;Or.prototype.toJSON=function(){return`"${ha(this)}"`};Or.prototype.valueOf=function(){return xm(this)};Or.prototype.toString=function(){return ha(this)};Or.prototype[Symbol.toPrimitive]=function(r="default"){switch(r){case"number":return xm(this);case"string":return ha(this);case"default":return DA(this)}return ha(this)};function hs(...r){return Or.apply(this,r)}function fs(...r){return Or.apply(this,r)}function ca(...r){return Or.apply(this,r)}Object.setPrototypeOf(hs.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(fs.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(ca.prototype,Object.create(Uint32Array.prototype));Object.assign(hs.prototype,Or.prototype,{constructor:hs,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(fs.prototype,Or.prototype,{constructor:fs,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(ca.prototype,Or.prototype,{constructor:ca,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function xm(r){const{buffer:t,byteOffset:e,length:n,signed:s}=r,i=new BigUint64Array(t,e,n),o=s&&i.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),l=BigInt(0);if(o){for(const u of i)a+=~u*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const u of i)a+=u*(BigInt(1)<<BigInt(32)*l++);return a}const ha=r=>{if(r.byteLength===8)return`${new r.BigIntArray(r.buffer,r.byteOffset,1)[0]}`;if(!r.signed)return lh(r);let t=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return lh(r);t=t.slice();let n=1;for(let i=0;i<t.length;i++){const o=t[i],a=~o+n;t[i]=a,n&=o===0?1:0}return`-${lh(t)}`},DA=r=>r.byteLength===8?new r.BigIntArray(r.buffer,r.byteOffset,1)[0]:ha(r);function lh(r){let t="";const e=new Uint32Array(2);let n=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2);const s=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let i=-1;const o=n.length-1;do{for(e[0]=n[i=0];i<o;)n[i++]=e[1]=e[0]/10,e[0]=(e[0]-e[1]*10<<16)+n[i];n[i]=e[1]=e[0]/10,e[0]=e[0]-e[1]*10,t=`${e[0]}${t}`}while(s[0]||s[1]||s[2]||s[3]);return t??"0"}class Rf{static new(t,e){switch(e){case!0:return new hs(t);case!1:return new fs(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new hs(t)}return t.byteLength===16?new ca(t):new fs(t)}static signed(t){return new hs(t)}static unsigned(t){return new fs(t)}static decimal(t){return new ca(t)}constructor(t,e){return Rf.new(t,e)}}function vr(r){if(typeof r=="bigint"&&(r<Number.MIN_SAFE_INTEGER||r>Number.MAX_SAFE_INTEGER))throw new TypeError(`${r} is not safe to convert to a number.`);return Number(r)}var gm,_m,vm,Sm,bm,Em,Am,Tm,Nm,wm,Om,Cm,Im,Dm,Rm,Fm,Pm,Lm,Bm,Mm;class _t{static isNull(t){return(t==null?void 0:t.typeId)===U.Null}static isInt(t){return(t==null?void 0:t.typeId)===U.Int}static isFloat(t){return(t==null?void 0:t.typeId)===U.Float}static isBinary(t){return(t==null?void 0:t.typeId)===U.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===U.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===U.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===U.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===U.Date}static isTime(t){return(t==null?void 0:t.typeId)===U.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===U.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===U.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===U.Duration}static isList(t){return(t==null?void 0:t.typeId)===U.List}static isStruct(t){return(t==null?void 0:t.typeId)===U.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===U.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===U.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===U.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===U.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===U.Dictionary}static isDenseUnion(t){return _t.isUnion(t)&&t.mode===Me.Dense}static isSparseUnion(t){return _t.isUnion(t)&&t.mode===Me.Sparse}get typeId(){return U.NONE}}gm=Symbol.toStringTag;_t[gm]=(r=>(r.children=null,r.ArrayType=Array,r[Symbol.toStringTag]="DataType"))(_t.prototype);let qn=class extends _t{toString(){return"Null"}get typeId(){return U.Null}};_m=Symbol.toStringTag;qn[_m]=(r=>r[Symbol.toStringTag]="Null")(qn.prototype);class Vn extends _t{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return U.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}vm=Symbol.toStringTag;Vn[vm]=(r=>(r.isSigned=null,r.bitWidth=null,r[Symbol.toStringTag]="Int"))(Vn.prototype);class fa extends Vn{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(fa.prototype,"ArrayType",{value:Int32Array});class da extends _t{constructor(t){super(),this.precision=t}get typeId(){return U.Float}get ArrayType(){switch(this.precision){case He.HALF:return Uint16Array;case He.SINGLE:return Float32Array;case He.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Sm=Symbol.toStringTag;da[Sm]=(r=>(r.precision=null,r[Symbol.toStringTag]="Float"))(da.prototype);let $l=class extends _t{constructor(){super()}get typeId(){return U.Binary}toString(){return"Binary"}};bm=Symbol.toStringTag;$l[bm]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Binary"))($l.prototype);let zl=class extends _t{constructor(){super()}get typeId(){return U.Utf8}toString(){return"Utf8"}};Em=Symbol.toStringTag;zl[Em]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Utf8"))(zl.prototype);let ql=class extends _t{constructor(){super()}get typeId(){return U.Bool}toString(){return"Bool"}};Am=Symbol.toStringTag;ql[Am]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Bool"))(ql.prototype);let Vl=class extends _t{constructor(t,e,n=128){super(),this.scale=t,this.precision=e,this.bitWidth=n}get typeId(){return U.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Tm=Symbol.toStringTag;Vl[Tm]=(r=>(r.scale=null,r.precision=null,r.ArrayType=Uint32Array,r[Symbol.toStringTag]="Decimal"))(Vl.prototype);class Hl extends _t{constructor(t){super(),this.unit=t}get typeId(){return U.Date}toString(){return`Date${(this.unit+1)*32}<${Sn[this.unit]}>`}}Nm=Symbol.toStringTag;Hl[Nm]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Date"))(Hl.prototype);class pa extends _t{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return U.Time}toString(){return`Time${this.bitWidth}<${Ft[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}wm=Symbol.toStringTag;pa[wm]=(r=>(r.unit=null,r.bitWidth=null,r[Symbol.toStringTag]="Time"))(pa.prototype);class Wl extends _t{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return U.Timestamp}toString(){return`Timestamp<${Ft[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Om=Symbol.toStringTag;Wl[Om]=(r=>(r.unit=null,r.timezone=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Timestamp"))(Wl.prototype);class Yl extends _t{constructor(t){super(),this.unit=t}get typeId(){return U.Interval}toString(){return`Interval<${zn[this.unit]}>`}}Cm=Symbol.toStringTag;Yl[Cm]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Interval"))(Yl.prototype);let Gl=class extends _t{constructor(t){super(),this.unit=t}get typeId(){return U.Duration}toString(){return`Duration<${Ft[this.unit]}>`}};Im=Symbol.toStringTag;Gl[Im]=(r=>(r.unit=null,r.ArrayType=BigInt64Array,r[Symbol.toStringTag]="Duration"))(Gl.prototype);let Kl=class extends _t{constructor(t){super(),this.children=[t]}get typeId(){return U.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Dm=Symbol.toStringTag;Kl[Dm]=(r=>(r.children=null,r[Symbol.toStringTag]="List"))(Kl.prototype);class Fe extends _t{constructor(t){super(),this.children=t}get typeId(){return U.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Rm=Symbol.toStringTag;Fe[Rm]=(r=>(r.children=null,r[Symbol.toStringTag]="Struct"))(Fe.prototype);class Xl extends _t{constructor(t,e,n){super(),this.mode=t,this.children=n,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((s,i,o)=>(s[i]=o)&&s||s,Object.create(null))}get typeId(){return U.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Fm=Symbol.toStringTag;Xl[Fm]=(r=>(r.mode=null,r.typeIds=null,r.children=null,r.typeIdToChildIndex=null,r.ArrayType=Int8Array,r[Symbol.toStringTag]="Union"))(Xl.prototype);let Jl=class extends _t{constructor(t){super(),this.byteWidth=t}get typeId(){return U.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Pm=Symbol.toStringTag;Jl[Pm]=(r=>(r.byteWidth=null,r.ArrayType=Uint8Array,r[Symbol.toStringTag]="FixedSizeBinary"))(Jl.prototype);let Ql=class extends _t{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return U.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Lm=Symbol.toStringTag;Ql[Lm]=(r=>(r.children=null,r.listSize=null,r[Symbol.toStringTag]="FixedSizeList"))(Ql.prototype);class Zl extends _t{constructor(t,e=!1){var n,s,i;if(super(),this.children=[t],this.keysSorted=e,t&&(t.name="entries",!((n=t==null?void 0:t.type)===null||n===void 0)&&n.children)){const o=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[0];o&&(o.name="key");const a=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[1];a&&(a.name="value")}}get typeId(){return U.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Bm=Symbol.toStringTag;Zl[Bm]=(r=>(r.children=null,r.keysSorted=null,r[Symbol.toStringTag]="Map_"))(Zl.prototype);const RA=(r=>()=>++r)(-1);class Ns extends _t{constructor(t,e,n,s){super(),this.indices=e,this.dictionary=t,this.isOrdered=s||!1,this.id=n==null?RA():vr(n)}get typeId(){return U.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Mm=Symbol.toStringTag;Ns[Mm]=(r=>(r.id=null,r.indices=null,r.isOrdered=null,r.dictionary=null,r[Symbol.toStringTag]="Dictionary"))(Ns.prototype);function un(r){const t=r;switch(r.typeId){case U.Decimal:return r.bitWidth/32;case U.Timestamp:return 2;case U.Date:return 1+t.unit;case U.Interval:return 1+t.unit;case U.FixedSizeList:return t.listSize;case U.FixedSizeBinary:return t.byteWidth;default:return 1}}class jt{visitMany(t,...e){return t.map((n,s)=>this.visit(n,...e.map(i=>i[s])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return FA(this,t,e)}getVisitFnByTypeId(t,e=!0){return es(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitDuration(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function FA(r,t,e=!0){return typeof t=="number"?es(r,t,e):typeof t=="string"&&t in U?es(r,U[t],e):t&&t instanceof _t?es(r,n0(t),e):t!=null&&t.type&&t.type instanceof _t?es(r,n0(t.type),e):es(r,U.NONE,e)}function es(r,t,e=!0){let n=null;switch(t){case U.Null:n=r.visitNull;break;case U.Bool:n=r.visitBool;break;case U.Int:n=r.visitInt;break;case U.Int8:n=r.visitInt8||r.visitInt;break;case U.Int16:n=r.visitInt16||r.visitInt;break;case U.Int32:n=r.visitInt32||r.visitInt;break;case U.Int64:n=r.visitInt64||r.visitInt;break;case U.Uint8:n=r.visitUint8||r.visitInt;break;case U.Uint16:n=r.visitUint16||r.visitInt;break;case U.Uint32:n=r.visitUint32||r.visitInt;break;case U.Uint64:n=r.visitUint64||r.visitInt;break;case U.Float:n=r.visitFloat;break;case U.Float16:n=r.visitFloat16||r.visitFloat;break;case U.Float32:n=r.visitFloat32||r.visitFloat;break;case U.Float64:n=r.visitFloat64||r.visitFloat;break;case U.Utf8:n=r.visitUtf8;break;case U.Binary:n=r.visitBinary;break;case U.FixedSizeBinary:n=r.visitFixedSizeBinary;break;case U.Date:n=r.visitDate;break;case U.DateDay:n=r.visitDateDay||r.visitDate;break;case U.DateMillisecond:n=r.visitDateMillisecond||r.visitDate;break;case U.Timestamp:n=r.visitTimestamp;break;case U.TimestampSecond:n=r.visitTimestampSecond||r.visitTimestamp;break;case U.TimestampMillisecond:n=r.visitTimestampMillisecond||r.visitTimestamp;break;case U.TimestampMicrosecond:n=r.visitTimestampMicrosecond||r.visitTimestamp;break;case U.TimestampNanosecond:n=r.visitTimestampNanosecond||r.visitTimestamp;break;case U.Time:n=r.visitTime;break;case U.TimeSecond:n=r.visitTimeSecond||r.visitTime;break;case U.TimeMillisecond:n=r.visitTimeMillisecond||r.visitTime;break;case U.TimeMicrosecond:n=r.visitTimeMicrosecond||r.visitTime;break;case U.TimeNanosecond:n=r.visitTimeNanosecond||r.visitTime;break;case U.Decimal:n=r.visitDecimal;break;case U.List:n=r.visitList;break;case U.Struct:n=r.visitStruct;break;case U.Union:n=r.visitUnion;break;case U.DenseUnion:n=r.visitDenseUnion||r.visitUnion;break;case U.SparseUnion:n=r.visitSparseUnion||r.visitUnion;break;case U.Dictionary:n=r.visitDictionary;break;case U.Interval:n=r.visitInterval;break;case U.IntervalDayTime:n=r.visitIntervalDayTime||r.visitInterval;break;case U.IntervalYearMonth:n=r.visitIntervalYearMonth||r.visitInterval;break;case U.Duration:n=r.visitDuration;break;case U.DurationSecond:n=r.visitDurationSecond||r.visitDuration;break;case U.DurationMillisecond:n=r.visitDurationMillisecond||r.visitDuration;break;case U.DurationMicrosecond:n=r.visitDurationMicrosecond||r.visitDuration;break;case U.DurationNanosecond:n=r.visitDurationNanosecond||r.visitDuration;break;case U.FixedSizeList:n=r.visitFixedSizeList;break;case U.Map:n=r.visitMap;break}if(typeof n=="function")return n;if(!e)return()=>null;throw new Error(`Unrecognized type '${U[t]}'`)}function n0(r){switch(r.typeId){case U.Null:return U.Null;case U.Int:{const{bitWidth:t,isSigned:e}=r;switch(t){case 8:return e?U.Int8:U.Uint8;case 16:return e?U.Int16:U.Uint16;case 32:return e?U.Int32:U.Uint32;case 64:return e?U.Int64:U.Uint64}return U.Int}case U.Float:switch(r.precision){case He.HALF:return U.Float16;case He.SINGLE:return U.Float32;case He.DOUBLE:return U.Float64}return U.Float;case U.Binary:return U.Binary;case U.Utf8:return U.Utf8;case U.Bool:return U.Bool;case U.Decimal:return U.Decimal;case U.Time:switch(r.unit){case Ft.SECOND:return U.TimeSecond;case Ft.MILLISECOND:return U.TimeMillisecond;case Ft.MICROSECOND:return U.TimeMicrosecond;case Ft.NANOSECOND:return U.TimeNanosecond}return U.Time;case U.Timestamp:switch(r.unit){case Ft.SECOND:return U.TimestampSecond;case Ft.MILLISECOND:return U.TimestampMillisecond;case Ft.MICROSECOND:return U.TimestampMicrosecond;case Ft.NANOSECOND:return U.TimestampNanosecond}return U.Timestamp;case U.Date:switch(r.unit){case Sn.DAY:return U.DateDay;case Sn.MILLISECOND:return U.DateMillisecond}return U.Date;case U.Interval:switch(r.unit){case zn.DAY_TIME:return U.IntervalDayTime;case zn.YEAR_MONTH:return U.IntervalYearMonth}return U.Interval;case U.Duration:switch(r.unit){case Ft.SECOND:return U.DurationSecond;case Ft.MILLISECOND:return U.DurationMillisecond;case Ft.MICROSECOND:return U.DurationMicrosecond;case Ft.NANOSECOND:return U.DurationNanosecond}return U.Duration;case U.Map:return U.Map;case U.List:return U.List;case U.Struct:return U.Struct;case U.Union:switch(r.mode){case Me.Dense:return U.DenseUnion;case Me.Sparse:return U.SparseUnion}return U.Union;case U.FixedSizeBinary:return U.FixedSizeBinary;case U.FixedSizeList:return U.FixedSizeList;case U.Dictionary:return U.Dictionary}throw new Error(`Unrecognized type '${U[r.typeId]}'`)}jt.prototype.visitInt8=null;jt.prototype.visitInt16=null;jt.prototype.visitInt32=null;jt.prototype.visitInt64=null;jt.prototype.visitUint8=null;jt.prototype.visitUint16=null;jt.prototype.visitUint32=null;jt.prototype.visitUint64=null;jt.prototype.visitFloat16=null;jt.prototype.visitFloat32=null;jt.prototype.visitFloat64=null;jt.prototype.visitDateDay=null;jt.prototype.visitDateMillisecond=null;jt.prototype.visitTimestampSecond=null;jt.prototype.visitTimestampMillisecond=null;jt.prototype.visitTimestampMicrosecond=null;jt.prototype.visitTimestampNanosecond=null;jt.prototype.visitTimeSecond=null;jt.prototype.visitTimeMillisecond=null;jt.prototype.visitTimeMicrosecond=null;jt.prototype.visitTimeNanosecond=null;jt.prototype.visitDenseUnion=null;jt.prototype.visitSparseUnion=null;jt.prototype.visitIntervalDayTime=null;jt.prototype.visitIntervalYearMonth=null;jt.prototype.visitDuration=null;jt.prototype.visitDurationSecond=null;jt.prototype.visitDurationMillisecond=null;jt.prototype.visitDurationMicrosecond=null;jt.prototype.visitDurationNanosecond=null;const km=new Float64Array(1),Qi=new Uint32Array(km.buffer);function jm(r){const t=(r&31744)>>10,e=(r&1023)/1024,n=Math.pow(-1,(r&32768)>>15);switch(t){case 31:return n*(e?Number.NaN:1/0);case 0:return n*(e?6103515625e-14*e:0)}return n*Math.pow(2,t-15)*(1+e)}function PA(r){if(r!==r)return 32256;km[0]=r;const t=(Qi[1]&2147483648)>>16&65535;let e=Qi[1]&2146435072,n=0;return e>=1089470464?Qi[0]>0?e=31744:(e=(e&2080374784)>>16,n=(Qi[1]&1048575)>>10):e<=1056964608?(n=1048576+(Qi[1]&1048575),n=1048576+(n<<(e>>20)-998)>>21,e=0):(e=e-1056964608>>10,n=(Qi[1]&1048575)+512>>10),t|e|n&65535}class wt extends jt{}function Dt(r){return(t,e,n)=>{if(t.setValid(e,n!=null))return r(t,e,n)}}const LA=(r,t,e)=>{r[t]=Math.trunc(e/864e5)},Ff=(r,t,e)=>{r[t]=Math.trunc(e%4294967296),r[t+1]=Math.trunc(e/4294967296)},BA=(r,t,e)=>{r[t]=Math.trunc(e*1e3%4294967296),r[t+1]=Math.trunc(e*1e3/4294967296)},MA=(r,t,e)=>{r[t]=Math.trunc(e*1e6%4294967296),r[t+1]=Math.trunc(e*1e6/4294967296)},Um=(r,t,e,n)=>{if(e+1<t.length){const{[e]:s,[e+1]:i}=t;r.set(n.subarray(0,i-s),s)}},kA=({offset:r,values:t},e,n)=>{const s=r+e;n?t[s>>3]|=1<<s%8:t[s>>3]&=~(1<<s%8)},Dn=({values:r},t,e)=>{r[t]=e},Pf=({values:r},t,e)=>{r[t]=e},$m=({values:r},t,e)=>{r[t]=PA(e)},jA=(r,t,e)=>{switch(r.type.precision){case He.HALF:return $m(r,t,e);case He.SINGLE:case He.DOUBLE:return Pf(r,t,e)}},zm=({values:r},t,e)=>{LA(r,t,e.valueOf())},qm=({values:r},t,e)=>{Ff(r,t*2,e.valueOf())},UA=({stride:r,values:t},e,n)=>{t.set(n.subarray(0,r),r*e)},$A=({values:r,valueOffsets:t},e,n)=>Um(r,t,e,n),zA=({values:r,valueOffsets:t},e,n)=>{Um(r,t,e,Cf(n))},qA=(r,t,e)=>{r.type.unit===Sn.DAY?zm(r,t,e):qm(r,t,e)},Vm=({values:r},t,e)=>Ff(r,t*2,e/1e3),Hm=({values:r},t,e)=>Ff(r,t*2,e),Wm=({values:r},t,e)=>BA(r,t*2,e),Ym=({values:r},t,e)=>MA(r,t*2,e),VA=(r,t,e)=>{switch(r.type.unit){case Ft.SECOND:return Vm(r,t,e);case Ft.MILLISECOND:return Hm(r,t,e);case Ft.MICROSECOND:return Wm(r,t,e);case Ft.NANOSECOND:return Ym(r,t,e)}},Gm=({values:r},t,e)=>{r[t]=e},Km=({values:r},t,e)=>{r[t]=e},Xm=({values:r},t,e)=>{r[t]=e},Jm=({values:r},t,e)=>{r[t]=e},HA=(r,t,e)=>{switch(r.type.unit){case Ft.SECOND:return Gm(r,t,e);case Ft.MILLISECOND:return Km(r,t,e);case Ft.MICROSECOND:return Xm(r,t,e);case Ft.NANOSECOND:return Jm(r,t,e)}},WA=({values:r,stride:t},e,n)=>{r.set(n.subarray(0,t),t*e)},YA=(r,t,e)=>{const n=r.children[0],s=r.valueOffsets,i=mr.getVisitFn(n);if(Array.isArray(e))for(let o=-1,a=s[t],l=s[t+1];a<l;)i(n,a++,e[++o]);else for(let o=-1,a=s[t],l=s[t+1];a<l;)i(n,a++,e.get(++o))},GA=(r,t,e)=>{const n=r.children[0],{valueOffsets:s}=r,i=mr.getVisitFn(n);let{[t]:o,[t+1]:a}=s;const l=e instanceof Map?e.entries():Object.entries(e);for(const u of l)if(i(n,o,u),++o>=a)break},KA=(r,t)=>(e,n,s,i)=>n&&e(n,r,t[i]),XA=(r,t)=>(e,n,s,i)=>n&&e(n,r,t.get(i)),JA=(r,t)=>(e,n,s,i)=>n&&e(n,r,t.get(s.name)),QA=(r,t)=>(e,n,s,i)=>n&&e(n,r,t[s.name]),ZA=(r,t,e)=>{const n=r.type.children.map(i=>mr.getVisitFn(i.type)),s=e instanceof Map?JA(t,e):e instanceof Gt?XA(t,e):Array.isArray(e)?KA(t,e):QA(t,e);r.type.children.forEach((i,o)=>s(n[o],r.children[o],i,o))},t1=(r,t,e)=>{r.type.mode===Me.Dense?Qm(r,t,e):Zm(r,t,e)},Qm=(r,t,e)=>{const n=r.type.typeIdToChildIndex[r.typeIds[t]],s=r.children[n];mr.visit(s,r.valueOffsets[t],e)},Zm=(r,t,e)=>{const n=r.type.typeIdToChildIndex[r.typeIds[t]],s=r.children[n];mr.visit(s,t,e)},e1=(r,t,e)=>{var n;(n=r.dictionary)===null||n===void 0||n.set(r.values[t],e)},r1=(r,t,e)=>{r.type.unit===zn.DAY_TIME?tx(r,t,e):ex(r,t,e)},tx=({values:r},t,e)=>{r.set(e.subarray(0,2),2*t)},ex=({values:r},t,e)=>{r[t]=e[0]*12+e[1]%12},rx=({values:r},t,e)=>{r[t]=e},nx=({values:r},t,e)=>{r[t]=e},ix=({values:r},t,e)=>{r[t]=e},sx=({values:r},t,e)=>{r[t]=e},n1=(r,t,e)=>{switch(r.type.unit){case Ft.SECOND:return rx(r,t,e);case Ft.MILLISECOND:return nx(r,t,e);case Ft.MICROSECOND:return ix(r,t,e);case Ft.NANOSECOND:return sx(r,t,e)}},i1=(r,t,e)=>{const{stride:n}=r,s=r.children[0],i=mr.getVisitFn(s);if(Array.isArray(e))for(let o=-1,a=t*n;++o<n;)i(s,a+o,e[o]);else for(let o=-1,a=t*n;++o<n;)i(s,a+o,e.get(o))};wt.prototype.visitBool=Dt(kA);wt.prototype.visitInt=Dt(Dn);wt.prototype.visitInt8=Dt(Dn);wt.prototype.visitInt16=Dt(Dn);wt.prototype.visitInt32=Dt(Dn);wt.prototype.visitInt64=Dt(Dn);wt.prototype.visitUint8=Dt(Dn);wt.prototype.visitUint16=Dt(Dn);wt.prototype.visitUint32=Dt(Dn);wt.prototype.visitUint64=Dt(Dn);wt.prototype.visitFloat=Dt(jA);wt.prototype.visitFloat16=Dt($m);wt.prototype.visitFloat32=Dt(Pf);wt.prototype.visitFloat64=Dt(Pf);wt.prototype.visitUtf8=Dt(zA);wt.prototype.visitBinary=Dt($A);wt.prototype.visitFixedSizeBinary=Dt(UA);wt.prototype.visitDate=Dt(qA);wt.prototype.visitDateDay=Dt(zm);wt.prototype.visitDateMillisecond=Dt(qm);wt.prototype.visitTimestamp=Dt(VA);wt.prototype.visitTimestampSecond=Dt(Vm);wt.prototype.visitTimestampMillisecond=Dt(Hm);wt.prototype.visitTimestampMicrosecond=Dt(Wm);wt.prototype.visitTimestampNanosecond=Dt(Ym);wt.prototype.visitTime=Dt(HA);wt.prototype.visitTimeSecond=Dt(Gm);wt.prototype.visitTimeMillisecond=Dt(Km);wt.prototype.visitTimeMicrosecond=Dt(Xm);wt.prototype.visitTimeNanosecond=Dt(Jm);wt.prototype.visitDecimal=Dt(WA);wt.prototype.visitList=Dt(YA);wt.prototype.visitStruct=Dt(ZA);wt.prototype.visitUnion=Dt(t1);wt.prototype.visitDenseUnion=Dt(Qm);wt.prototype.visitSparseUnion=Dt(Zm);wt.prototype.visitDictionary=Dt(e1);wt.prototype.visitInterval=Dt(r1);wt.prototype.visitIntervalDayTime=Dt(tx);wt.prototype.visitIntervalYearMonth=Dt(ex);wt.prototype.visitDuration=Dt(n1);wt.prototype.visitDurationSecond=Dt(rx);wt.prototype.visitDurationMillisecond=Dt(nx);wt.prototype.visitDurationMicrosecond=Dt(ix);wt.prototype.visitDurationNanosecond=Dt(sx);wt.prototype.visitFixedSizeList=Dt(i1);wt.prototype.visitMap=Dt(GA);const mr=new wt,xr=Symbol.for("parent"),ds=Symbol.for("rowIndex");class Lf{constructor(t,e){return this[xr]=t,this[ds]=e,new Proxy(this,new o1)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ds],e=this[xr],n=e.type.children,s={};for(let i=-1,o=n.length;++i<o;)s[n[i].name]=Ye.visit(e.children[i],t);return s}toString(){return`{${[...this].map(([t,e])=>`${ua(t)}: ${ua(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new s1(this[xr],this[ds])}}class s1{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Ye.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Lf.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[xr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ds]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class o1{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[xr].type.children.map(e=>e.name)}has(t,e){return t[xr].type.children.findIndex(n=>n.name===e)!==-1}getOwnPropertyDescriptor(t,e){if(t[xr].type.children.findIndex(n=>n.name===e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[xr].type.children.findIndex(s=>s.name===e);if(n!==-1){const s=Ye.visit(t[xr].children[n],t[ds]);return Reflect.set(t,e,s),s}}set(t,e,n){const s=t[xr].type.children.findIndex(i=>i.name===e);return s!==-1?(mr.visit(t[xr].children[s],t[ds],n),Reflect.set(t,e,n)):Reflect.has(t,e)||typeof e=="symbol"?Reflect.set(t,e,n):!1}}class Et extends jt{}function Ot(r){return(t,e)=>t.getValid(e)?r(t,e):null}const a1=(r,t)=>864e5*r[t],Bf=(r,t)=>4294967296*r[t+1]+(r[t]>>>0),l1=(r,t)=>4294967296*(r[t+1]/1e3)+(r[t]>>>0)/1e3,u1=(r,t)=>4294967296*(r[t+1]/1e6)+(r[t]>>>0)/1e6,ox=r=>new Date(r),c1=(r,t)=>ox(a1(r,t)),h1=(r,t)=>ox(Bf(r,t)),f1=(r,t)=>null,ax=(r,t,e)=>{if(e+1>=t.length)return null;const n=t[e],s=t[e+1];return r.subarray(n,s)},d1=({offset:r,values:t},e)=>{const n=r+e;return(t[n>>3]&1<<n%8)!==0},lx=({values:r},t)=>c1(r,t),ux=({values:r},t)=>h1(r,t*2),ri=({stride:r,values:t},e)=>t[r*e],p1=({stride:r,values:t},e)=>jm(t[r*e]),cx=({values:r},t)=>r[t],y1=({stride:r,values:t},e)=>t.subarray(r*e,r*(e+1)),m1=({values:r,valueOffsets:t},e)=>ax(r,t,e),x1=({values:r,valueOffsets:t},e)=>{const n=ax(r,t,e);return n!==null?Mh(n):null},g1=({values:r},t)=>r[t],_1=({type:r,values:t},e)=>r.precision!==He.HALF?t[e]:jm(t[e]),v1=(r,t)=>r.type.unit===Sn.DAY?lx(r,t):ux(r,t),hx=({values:r},t)=>1e3*Bf(r,t*2),fx=({values:r},t)=>Bf(r,t*2),dx=({values:r},t)=>l1(r,t*2),px=({values:r},t)=>u1(r,t*2),S1=(r,t)=>{switch(r.type.unit){case Ft.SECOND:return hx(r,t);case Ft.MILLISECOND:return fx(r,t);case Ft.MICROSECOND:return dx(r,t);case Ft.NANOSECOND:return px(r,t)}},yx=({values:r},t)=>r[t],mx=({values:r},t)=>r[t],xx=({values:r},t)=>r[t],gx=({values:r},t)=>r[t],b1=(r,t)=>{switch(r.type.unit){case Ft.SECOND:return yx(r,t);case Ft.MILLISECOND:return mx(r,t);case Ft.MICROSECOND:return xx(r,t);case Ft.NANOSECOND:return gx(r,t)}},E1=({values:r,stride:t},e)=>Rf.decimal(r.subarray(t*e,t*(e+1))),A1=(r,t)=>{const{valueOffsets:e,stride:n,children:s}=r,{[t*n]:i,[t*n+1]:o}=e,l=s[0].slice(i,o-i);return new Gt([l])},T1=(r,t)=>{const{valueOffsets:e,children:n}=r,{[t]:s,[t+1]:i}=e,o=n[0];return new Mf(o.slice(s,i-s))},N1=(r,t)=>new Lf(r,t),w1=(r,t)=>r.type.mode===Me.Dense?_x(r,t):vx(r,t),_x=(r,t)=>{const e=r.type.typeIdToChildIndex[r.typeIds[t]],n=r.children[e];return Ye.visit(n,r.valueOffsets[t])},vx=(r,t)=>{const e=r.type.typeIdToChildIndex[r.typeIds[t]],n=r.children[e];return Ye.visit(n,t)},O1=(r,t)=>{var e;return(e=r.dictionary)===null||e===void 0?void 0:e.get(r.values[t])},C1=(r,t)=>r.type.unit===zn.DAY_TIME?Sx(r,t):bx(r,t),Sx=({values:r},t)=>r.subarray(2*t,2*(t+1)),bx=({values:r},t)=>{const e=r[t],n=new Int32Array(2);return n[0]=Math.trunc(e/12),n[1]=Math.trunc(e%12),n},Ex=({values:r},t)=>r[t],Ax=({values:r},t)=>r[t],Tx=({values:r},t)=>r[t],Nx=({values:r},t)=>r[t],I1=(r,t)=>{switch(r.type.unit){case Ft.SECOND:return Ex(r,t);case Ft.MILLISECOND:return Ax(r,t);case Ft.MICROSECOND:return Tx(r,t);case Ft.NANOSECOND:return Nx(r,t)}},D1=(r,t)=>{const{stride:e,children:n}=r,i=n[0].slice(t*e,e);return new Gt([i])};Et.prototype.visitNull=Ot(f1);Et.prototype.visitBool=Ot(d1);Et.prototype.visitInt=Ot(g1);Et.prototype.visitInt8=Ot(ri);Et.prototype.visitInt16=Ot(ri);Et.prototype.visitInt32=Ot(ri);Et.prototype.visitInt64=Ot(cx);Et.prototype.visitUint8=Ot(ri);Et.prototype.visitUint16=Ot(ri);Et.prototype.visitUint32=Ot(ri);Et.prototype.visitUint64=Ot(cx);Et.prototype.visitFloat=Ot(_1);Et.prototype.visitFloat16=Ot(p1);Et.prototype.visitFloat32=Ot(ri);Et.prototype.visitFloat64=Ot(ri);Et.prototype.visitUtf8=Ot(x1);Et.prototype.visitBinary=Ot(m1);Et.prototype.visitFixedSizeBinary=Ot(y1);Et.prototype.visitDate=Ot(v1);Et.prototype.visitDateDay=Ot(lx);Et.prototype.visitDateMillisecond=Ot(ux);Et.prototype.visitTimestamp=Ot(S1);Et.prototype.visitTimestampSecond=Ot(hx);Et.prototype.visitTimestampMillisecond=Ot(fx);Et.prototype.visitTimestampMicrosecond=Ot(dx);Et.prototype.visitTimestampNanosecond=Ot(px);Et.prototype.visitTime=Ot(b1);Et.prototype.visitTimeSecond=Ot(yx);Et.prototype.visitTimeMillisecond=Ot(mx);Et.prototype.visitTimeMicrosecond=Ot(xx);Et.prototype.visitTimeNanosecond=Ot(gx);Et.prototype.visitDecimal=Ot(E1);Et.prototype.visitList=Ot(A1);Et.prototype.visitStruct=Ot(N1);Et.prototype.visitUnion=Ot(w1);Et.prototype.visitDenseUnion=Ot(_x);Et.prototype.visitSparseUnion=Ot(vx);Et.prototype.visitDictionary=Ot(O1);Et.prototype.visitInterval=Ot(C1);Et.prototype.visitIntervalDayTime=Ot(Sx);Et.prototype.visitIntervalYearMonth=Ot(bx);Et.prototype.visitDuration=Ot(I1);Et.prototype.visitDurationSecond=Ot(Ex);Et.prototype.visitDurationMillisecond=Ot(Ax);Et.prototype.visitDurationMicrosecond=Ot(Tx);Et.prototype.visitDurationNanosecond=Ot(Nx);Et.prototype.visitFixedSizeList=Ot(D1);Et.prototype.visitMap=Ot(T1);const Ye=new Et,Pr=Symbol.for("keys"),ps=Symbol.for("vals");class Mf{constructor(t){return this[Pr]=new Gt([t.children[0]]).memoize(),this[ps]=t.children[1],new Proxy(this,new F1)}[Symbol.iterator](){return new R1(this[Pr],this[ps])}get size(){return this[Pr].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Pr],e=this[ps],n={};for(let s=-1,i=t.length;++s<i;)n[t.get(s)]=Ye.visit(e,s);return n}toString(){return`{${[...this].map(([t,e])=>`${ua(t)}: ${ua(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class R1{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Ye.visit(this.vals,t)]})}}class F1{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Pr].toArray().map(String)}has(t,e){return t[Pr].includes(e)}getOwnPropertyDescriptor(t,e){if(t[Pr].indexOf(e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[Pr].indexOf(e);if(n!==-1){const s=Ye.visit(Reflect.get(t,ps),n);return Reflect.set(t,e,s),s}}set(t,e,n){const s=t[Pr].indexOf(e);return s!==-1?(mr.visit(Reflect.get(t,ps),s,n),Reflect.set(t,e,n)):Reflect.has(t,e)?Reflect.set(t,e,n):!1}}Object.defineProperties(Mf.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Pr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ps]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let i0;function wx(r,t,e,n){const{length:s=0}=r;let i=typeof t!="number"?0:t,o=typeof e!="number"?s:e;return i<0&&(i=(i%s+s)%s),o<0&&(o=(o%s+s)%s),o<i&&(i0=i,i=o,o=i0),o>s&&(o=s),n?n(r,i,o):[i,o]}const s0=r=>r!==r;function Ks(r){if(typeof r!=="object"||r===null)return s0(r)?s0:e=>e===r;if(r instanceof Date){const e=r.valueOf();return n=>n instanceof Date?n.valueOf()===e:!1}return ArrayBuffer.isView(r)?e=>e?EA(r,e):!1:r instanceof Map?L1(r):Array.isArray(r)?P1(r):r instanceof Gt?B1(r):M1(r,!0)}function P1(r){const t=[];for(let e=-1,n=r.length;++e<n;)t[e]=Ks(r[e]);return mc(t)}function L1(r){let t=-1;const e=[];for(const n of r.values())e[++t]=Ks(n);return mc(e)}function B1(r){const t=[];for(let e=-1,n=r.length;++e<n;)t[e]=Ks(r.get(e));return mc(t)}function M1(r,t=!1){const e=Object.keys(r);if(!t&&e.length===0)return()=>!1;const n=[];for(let s=-1,i=e.length;++s<i;)n[s]=Ks(r[e[s]]);return mc(n,e)}function mc(r,t){return e=>{if(!e||typeof e!="object")return!1;switch(e.constructor){case Array:return k1(r,e);case Map:return o0(r,e,e.keys());case Mf:case Lf:case Object:case void 0:return o0(r,e,t||Object.keys(e))}return e instanceof Gt?j1(r,e):!1}}function k1(r,t){const e=r.length;if(t.length!==e)return!1;for(let n=-1;++n<e;)if(!r[n](t[n]))return!1;return!0}function j1(r,t){const e=r.length;if(t.length!==e)return!1;for(let n=-1;++n<e;)if(!r[n](t.get(n)))return!1;return!0}function o0(r,t,e){const n=e[Symbol.iterator](),s=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),i=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=r.length;let l=i.next(),u=n.next(),h=s.next();for(;o<a&&!u.done&&!h.done&&!l.done&&!(u.value!==h.value||!r[o](l.value));++o,u=n.next(),h=s.next(),l=i.next());return o===a&&u.done&&h.done&&l.done?!0:(n.return&&n.return(),s.return&&s.return(),i.return&&i.return(),!1)}function Ox(r,t,e,n){return(e&1<<n)!==0}function U1(r,t,e,n){return(e&1<<n)>>n}function tu(r,t,e){const n=e.byteLength+7&-8;if(r>0||e.byteLength<n){const s=new Uint8Array(n);return s.set(r%8===0?e.subarray(r>>3):eu(new kf(e,r,t,null,Ox)).subarray(0,n)),s}return e}function eu(r){const t=[];let e=0,n=0,s=0;for(const o of r)o&&(s|=1<<n),++n===8&&(t[e++]=s,s=n=0);(e===0||n>0)&&(t[e++]=s);const i=new Uint8Array(t.length+7&-8);return i.set(t),i}class kf{constructor(t,e,n,s,i){this.bytes=t,this.length=n,this.context=s,this.get=i,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Uh(r,t,e){if(e-t<=0)return 0;if(e-t<8){let i=0;for(const o of new kf(r,t,e-t,r,U1))i+=o;return i}const n=e>>3<<3,s=t+(t%8===0?0:8-t%8);return Uh(r,t,s)+Uh(r,n,e)+$1(r,s>>3,n-s>>3)}function $1(r,t,e){let n=0,s=Math.trunc(t);const i=new DataView(r.buffer,r.byteOffset,r.byteLength),o=e===void 0?r.byteLength:s+e;for(;o-s>=4;)n+=uh(i.getUint32(s)),s+=4;for(;o-s>=2;)n+=uh(i.getUint16(s)),s+=2;for(;o-s>=1;)n+=uh(i.getUint8(s)),s+=1;return n}function uh(r){let t=Math.trunc(r);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const z1=-1;class Zt{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return _t.isSparseUnion(t)?this.children.some(e=>e.nullable):_t.isDenseUnion(t)?this.children.some(e=>e.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:e,values:n,nullBitmap:s,typeIds:i}=this;return e&&(t+=e.byteLength),n&&(t+=n.byteLength),s&&(t+=s.byteLength),i&&(t+=i.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(_t.isUnion(this.type))return this.children.reduce((n,s)=>n+s.nullCount,0);let t=this._nullCount,e;return t<=z1&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-Uh(e,this.offset,this.offset+this.length)),t}constructor(t,e,n,s,i,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(s||0,-1));let l;i instanceof Zt?(this.stride=i.stride,this.values=i.values,this.typeIds=i.typeIds,this.nullBitmap=i.nullBitmap,this.valueOffsets=i.valueOffsets):(this.stride=un(t),i&&((l=i[0])&&(this.valueOffsets=l),(l=i[1])&&(this.values=l),(l=i[2])&&(this.nullBitmap=l),(l=i[3])&&(this.typeIds=l)))}getValid(t){const{type:e}=this;if(_t.isUnion(e)){const n=e,s=this.children[n.typeIdToChildIndex[this.typeIds[t]]],i=n.mode===Me.Dense?this.valueOffsets[t]:t;return s.getValid(i)}if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,e){let n;const{type:s}=this;if(_t.isUnion(s)){const i=s,o=this.children[i.typeIdToChildIndex[this.typeIds[t]]],a=i.mode===Me.Dense?this.valueOffsets[t]:t;n=o.getValid(a),o.setValid(a,e)}else{let{nullBitmap:i}=this;const{offset:o,length:a}=this,l=o+t,u=1<<l%8,h=l>>3;(!i||i.byteLength<=h)&&(i=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0&&i.set(tu(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:i,_nullCount:-1}));const c=i[h];n=(c&u)!==0,e?i[h]=c|u:i[h]=c&~u}return n!==!!e&&(this._nullCount=this.nullCount+(e?-1:1)),e}clone(t=this.type,e=this.offset,n=this.length,s=this._nullCount,i=this,o=this.children){return new Zt(t,e,n,s,i,o,this.dictionary)}slice(t,e){const{stride:n,typeId:s,children:i}=this,o=+(this._nullCount===0)-1,a=s===16?n:1,l=this._sliceBuffers(t,e,n,s);return this.clone(this.type,this.offset+t,e,o,l,i.length===0||this.valueOffsets?i:this._sliceChildren(i,a*t,a*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===U.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:n}=this,s=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);s[e>>3]=(1<<e-(e&-8))-1,n>0&&s.set(tu(this.offset,e,this.nullBitmap),0);const i=this.buffers;return i[ln.VALIDITY]=s,this.clone(this.type,0,t,n+(t-e),i)}_sliceBuffers(t,e,n,s){let i;const{buffers:o}=this;return(i=o[ln.TYPE])&&(o[ln.TYPE]=i.subarray(t,t+e)),(i=o[ln.OFFSET])&&(o[ln.OFFSET]=i.subarray(t,t+e+1))||(i=o[ln.DATA])&&(o[ln.DATA]=s===6?i:i.subarray(n*t,n*(t+e))),o}_sliceChildren(t,e,n){return t.map(s=>s.slice(e,n))}}Zt.prototype.children=Object.freeze([]);class ta extends jt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:e,["offset"]:n=0,["length"]:s=0}=t;return new Zt(e,n,s,s)}visitBool(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.nullBitmap),i=Jt(e.ArrayType,t.data),{["length"]:o=i.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,i,s])}visitInt(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.nullBitmap),i=Jt(e.ArrayType,t.data),{["length"]:o=i.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,i,s])}visitFloat(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.nullBitmap),i=Jt(e.ArrayType,t.data),{["length"]:o=i.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,i,s])}visitUtf8(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.data),i=Ht(t.nullBitmap),o=Yo(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Zt(e,n,a,l,[o,s,i])}visitBinary(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.data),i=Ht(t.nullBitmap),o=Yo(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Zt(e,n,a,l,[o,s,i])}visitFixedSizeBinary(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.nullBitmap),i=Jt(e.ArrayType,t.data),{["length"]:o=i.length/un(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,i,s])}visitDate(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.nullBitmap),i=Jt(e.ArrayType,t.data),{["length"]:o=i.length/un(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,i,s])}visitTimestamp(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.nullBitmap),i=Jt(e.ArrayType,t.data),{["length"]:o=i.length/un(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,i,s])}visitTime(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.nullBitmap),i=Jt(e.ArrayType,t.data),{["length"]:o=i.length/un(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,i,s])}visitDecimal(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.nullBitmap),i=Jt(e.ArrayType,t.data),{["length"]:o=i.length/un(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,i,s])}visitList(t){const{["type"]:e,["offset"]:n=0,["child"]:s}=t,i=Ht(t.nullBitmap),o=Yo(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Zt(e,n,a,l,[o,void 0,i],[s])}visitStruct(t){const{["type"]:e,["offset"]:n=0,["children"]:s=[]}=t,i=Ht(t.nullBitmap),{length:o=s.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,void 0,i],s)}visitUnion(t){const{["type"]:e,["offset"]:n=0,["children"]:s=[]}=t,i=Jt(e.ArrayType,t.typeIds),{["length"]:o=i.length,["nullCount"]:a=-1}=t;if(_t.isSparseUnion(e))return new Zt(e,n,o,a,[void 0,void 0,void 0,i],s);const l=Yo(t.valueOffsets);return new Zt(e,n,o,a,[l,void 0,void 0,i],s)}visitDictionary(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.nullBitmap),i=Jt(e.indices.ArrayType,t.data),{["dictionary"]:o=new Gt([new ta().visit({type:e.dictionary})])}=t,{["length"]:a=i.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Zt(e,n,a,l,[void 0,i,s],[],o)}visitInterval(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.nullBitmap),i=Jt(e.ArrayType,t.data),{["length"]:o=i.length/un(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,i,s])}visitDuration(t){const{["type"]:e,["offset"]:n=0}=t,s=Ht(t.nullBitmap),i=Jt(e.ArrayType,t.data),{["length"]:o=i.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,i,s])}visitFixedSizeList(t){const{["type"]:e,["offset"]:n=0,["child"]:s=new ta().visit({type:e.valueType})}=t,i=Ht(t.nullBitmap),{["length"]:o=s.length/un(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Zt(e,n,o,a,[void 0,void 0,i],[s])}visitMap(t){const{["type"]:e,["offset"]:n=0,["child"]:s=new ta().visit({type:e.childType})}=t,i=Ht(t.nullBitmap),o=Yo(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Zt(e,n,a,l,[o,void 0,i],[s])}}const q1=new ta;function zt(r){return q1.visit(r)}class a0{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Cx(r){return r.reduce((t,e)=>t+e.nullCount,0)}function Ix(r){return r.reduce((t,e,n)=>(t[n+1]=t[n]+e.length,t),new Uint32Array(r.length+1))}function Dx(r,t,e,n){const s=[];for(let i=-1,o=r.length;++i<o;){const a=r[i],l=t[i],{length:u}=a;if(l>=n)break;if(e>=l+u)continue;if(l>=e&&l+u<=n){s.push(a);continue}const h=Math.max(0,e-l),c=Math.min(n-l,u);s.push(a.slice(h,c-h))}return s.length===0&&s.push(r[0].slice(0,0)),s}function jf(r,t,e,n){let s=0,i=0,o=t.length-1;do{if(s>=o-1)return e<t[o]?n(r,s,e-t[s]):null;i=s+Math.trunc((o-s)*.5),e<t[i]?o=i:s=i}while(s<o)}function Uf(r,t){return r.getValid(t)}function ys(r){function t(e,n,s){return r(e[n],s)}return function(e){const n=this.data;return jf(n,this._offsets,e,t)}}function Rx(r){let t;function e(n,s,i){return r(n[s],i,t)}return function(n,s){const i=this.data;t=s;const o=jf(i,this._offsets,n,e);return t=void 0,o}}function Fx(r){let t;function e(n,s,i){let o=i,a=0,l=0;for(let u=s-1,h=n.length;++u<h;){const c=n[u];if(~(a=r(c,t,o)))return l+a;o=0,l+=c.length}return-1}return function(n,s){t=n;const i=this.data,o=typeof s!="number"?e(i,0,0):jf(i,this._offsets,s,e);return t=void 0,o}}class At extends jt{}function V1(r,t){return t===null&&r.length>0?0:-1}function H1(r,t){const{nullBitmap:e}=r;if(!e||r.nullCount<=0)return-1;let n=0;for(const s of new kf(e,r.offset+(t||0),r.length,e,Ox)){if(!s)return n;++n}return-1}function Pt(r,t,e){if(t===void 0)return-1;if(t===null)switch(r.typeId){case U.Union:break;case U.Dictionary:break;default:return H1(r,e)}const n=Ye.getVisitFn(r),s=Ks(t);for(let i=(e||0)-1,o=r.length;++i<o;)if(s(n(r,i)))return i;return-1}function Px(r,t,e){const n=Ye.getVisitFn(r),s=Ks(t);for(let i=(e||0)-1,o=r.length;++i<o;)if(s(n(r,i)))return i;return-1}At.prototype.visitNull=V1;At.prototype.visitBool=Pt;At.prototype.visitInt=Pt;At.prototype.visitInt8=Pt;At.prototype.visitInt16=Pt;At.prototype.visitInt32=Pt;At.prototype.visitInt64=Pt;At.prototype.visitUint8=Pt;At.prototype.visitUint16=Pt;At.prototype.visitUint32=Pt;At.prototype.visitUint64=Pt;At.prototype.visitFloat=Pt;At.prototype.visitFloat16=Pt;At.prototype.visitFloat32=Pt;At.prototype.visitFloat64=Pt;At.prototype.visitUtf8=Pt;At.prototype.visitBinary=Pt;At.prototype.visitFixedSizeBinary=Pt;At.prototype.visitDate=Pt;At.prototype.visitDateDay=Pt;At.prototype.visitDateMillisecond=Pt;At.prototype.visitTimestamp=Pt;At.prototype.visitTimestampSecond=Pt;At.prototype.visitTimestampMillisecond=Pt;At.prototype.visitTimestampMicrosecond=Pt;At.prototype.visitTimestampNanosecond=Pt;At.prototype.visitTime=Pt;At.prototype.visitTimeSecond=Pt;At.prototype.visitTimeMillisecond=Pt;At.prototype.visitTimeMicrosecond=Pt;At.prototype.visitTimeNanosecond=Pt;At.prototype.visitDecimal=Pt;At.prototype.visitList=Pt;At.prototype.visitStruct=Pt;At.prototype.visitUnion=Pt;At.prototype.visitDenseUnion=Px;At.prototype.visitSparseUnion=Px;At.prototype.visitDictionary=Pt;At.prototype.visitInterval=Pt;At.prototype.visitIntervalDayTime=Pt;At.prototype.visitIntervalYearMonth=Pt;At.prototype.visitDuration=Pt;At.prototype.visitDurationSecond=Pt;At.prototype.visitDurationMillisecond=Pt;At.prototype.visitDurationMicrosecond=Pt;At.prototype.visitDurationNanosecond=Pt;At.prototype.visitFixedSizeList=Pt;At.prototype.visitMap=Pt;const ru=new At;class Tt extends jt{}function Ct(r){const{type:t}=r;if(r.nullCount===0&&r.stride===1&&(t.typeId===U.Timestamp||t instanceof Vn&&t.bitWidth!==64||t instanceof pa&&t.bitWidth!==64||t instanceof da&&t.precision!==He.HALF))return new a0(r.data.length,n=>{const s=r.data[n];return s.values.subarray(0,s.length)[Symbol.iterator]()});let e=0;return new a0(r.data.length,n=>{const i=r.data[n].length,o=r.slice(e,e+i);return e+=i,new W1(o)})}class W1{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Tt.prototype.visitNull=Ct;Tt.prototype.visitBool=Ct;Tt.prototype.visitInt=Ct;Tt.prototype.visitInt8=Ct;Tt.prototype.visitInt16=Ct;Tt.prototype.visitInt32=Ct;Tt.prototype.visitInt64=Ct;Tt.prototype.visitUint8=Ct;Tt.prototype.visitUint16=Ct;Tt.prototype.visitUint32=Ct;Tt.prototype.visitUint64=Ct;Tt.prototype.visitFloat=Ct;Tt.prototype.visitFloat16=Ct;Tt.prototype.visitFloat32=Ct;Tt.prototype.visitFloat64=Ct;Tt.prototype.visitUtf8=Ct;Tt.prototype.visitBinary=Ct;Tt.prototype.visitFixedSizeBinary=Ct;Tt.prototype.visitDate=Ct;Tt.prototype.visitDateDay=Ct;Tt.prototype.visitDateMillisecond=Ct;Tt.prototype.visitTimestamp=Ct;Tt.prototype.visitTimestampSecond=Ct;Tt.prototype.visitTimestampMillisecond=Ct;Tt.prototype.visitTimestampMicrosecond=Ct;Tt.prototype.visitTimestampNanosecond=Ct;Tt.prototype.visitTime=Ct;Tt.prototype.visitTimeSecond=Ct;Tt.prototype.visitTimeMillisecond=Ct;Tt.prototype.visitTimeMicrosecond=Ct;Tt.prototype.visitTimeNanosecond=Ct;Tt.prototype.visitDecimal=Ct;Tt.prototype.visitList=Ct;Tt.prototype.visitStruct=Ct;Tt.prototype.visitUnion=Ct;Tt.prototype.visitDenseUnion=Ct;Tt.prototype.visitSparseUnion=Ct;Tt.prototype.visitDictionary=Ct;Tt.prototype.visitInterval=Ct;Tt.prototype.visitIntervalDayTime=Ct;Tt.prototype.visitIntervalYearMonth=Ct;Tt.prototype.visitDuration=Ct;Tt.prototype.visitDurationSecond=Ct;Tt.prototype.visitDurationMillisecond=Ct;Tt.prototype.visitDurationMicrosecond=Ct;Tt.prototype.visitDurationNanosecond=Ct;Tt.prototype.visitFixedSizeList=Ct;Tt.prototype.visitMap=Ct;const $f=new Tt,Y1=(r,t)=>r+t;class ni extends jt{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return(t.type.unit+1)*4}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===Ft.SECOND?4:8}visitInterval(t,e){return(t.type.unit+1)*4}visitDuration(t,e){return 8}visitStruct(t,e){return t.children.reduce((n,s)=>n+Hr.visit(s,e),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce((n,s)=>n+Hr.visit(s,e),0)}visitDictionary(t,e){var n;return t.type.indices.bitWidth/8+(((n=t.dictionary)===null||n===void 0?void 0:n.getByteLength(t.values[e]))||0)}}const G1=({valueOffsets:r},t)=>8+(r[t+1]-r[t]),K1=({valueOffsets:r},t)=>8+(r[t+1]-r[t]),X1=({valueOffsets:r,stride:t,children:e},n)=>{const s=e[0],{[n*t]:i}=r,{[n*t+1]:o}=r,a=Hr.getVisitFn(s.type),l=s.slice(i,o-i);let u=8;for(let h=-1,c=o-i;++h<c;)u+=a(l,h);return u},J1=({stride:r,children:t},e)=>{const n=t[0],s=n.slice(e*r,r),i=Hr.getVisitFn(n.type);let o=0;for(let a=-1,l=s.length;++a<l;)o+=i(s,a);return o},Q1=(r,t)=>r.type.mode===Me.Dense?Lx(r,t):Bx(r,t),Lx=({type:r,children:t,typeIds:e,valueOffsets:n},s)=>{const i=r.typeIdToChildIndex[e[s]];return 8+Hr.visit(t[i],n[s])},Bx=({children:r},t)=>4+Hr.visitMany(r,r.map(()=>t)).reduce(Y1,0);ni.prototype.visitUtf8=G1;ni.prototype.visitBinary=K1;ni.prototype.visitList=X1;ni.prototype.visitFixedSizeList=J1;ni.prototype.visitUnion=Q1;ni.prototype.visitDenseUnion=Lx;ni.prototype.visitSparseUnion=Bx;const Hr=new ni;var Mx;const kx={},jx={};class Gt{constructor(t){var e,n,s;const i=t[0]instanceof Gt?t.flatMap(a=>a.data):t;if(i.length===0||i.some(a=>!(a instanceof Zt)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(e=i[0])===null||e===void 0?void 0:e.type;switch(i.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u,byteLength:h}=kx[o.typeId],c=i[0];this.isValid=f=>Uf(c,f),this.get=f=>a(c,f),this.set=(f,d)=>l(c,f,d),this.indexOf=f=>u(c,f),this.getByteLength=f=>h(c,f),this._offsets=[0,c.length];break}default:Object.setPrototypeOf(this,jx[o.typeId]),this._offsets=Ix(i);break}this.data=i,this.type=o,this.stride=un(o),this.numChildren=(s=(n=o.children)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,e)=>t+e.byteLength,0)}get nullCount(){return Cx(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${U[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>-1}getByteLength(t){return 0}[Symbol.iterator](){return $f.visit(this)}concat(...t){return new Gt(this.data.concat(t.flatMap(e=>e.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Gt(wx(this,t,e,({data:n,_offsets:s},i,o)=>Dx(n,s,i,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:n,stride:s,ArrayType:i}=this;switch(t.typeId){case U.Int:case U.Float:case U.Decimal:case U.Time:case U.Timestamp:switch(e.length){case 0:return new i;case 1:return e[0].values.subarray(0,n*s);default:return e.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*s),o.offset),o.offset+=l*s,o),{array:new i(n*s),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt((e=this.type.children)===null||e===void 0?void 0:e.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Gt(this.data.map(({children:e})=>e[t])):null}get isMemoized(){return _t.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(_t.isDictionary(this.type)){const t=new nu(this.data[0].dictionary),e=this.data.map(n=>{const s=n.clone();return s.dictionary=t,s});return new Gt(e)}return new nu(this)}unmemoize(){if(_t.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map(n=>{const s=n.clone();return s.dictionary=t,s});return new Gt(e)}return this}}Mx=Symbol.toStringTag;Gt[Mx]=(r=>{r.type=_t.prototype,r.data=[],r.length=0,r.stride=1,r.numChildren=0,r._offsets=new Uint32Array([0]),r[Symbol.isConcatSpreadable]=!0;const t=Object.keys(U).map(e=>U[e]).filter(e=>typeof e=="number"&&e!==U.NONE);for(const e of t){const n=Ye.getVisitFnByTypeId(e),s=mr.getVisitFnByTypeId(e),i=ru.getVisitFnByTypeId(e),o=Hr.getVisitFnByTypeId(e);kx[e]={get:n,set:s,indexOf:i,byteLength:o},jx[e]=Object.create(r,{isValid:{value:ys(Uf)},get:{value:ys(Ye.getVisitFnByTypeId(e))},set:{value:Rx(mr.getVisitFnByTypeId(e))},indexOf:{value:Fx(ru.getVisitFnByTypeId(e))},getByteLength:{value:ys(Hr.getVisitFnByTypeId(e))}})}return"Vector"})(Gt.prototype);class nu extends Gt{constructor(t){super(t.data);const e=this.get,n=this.set,s=this.slice,i=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=i[o];if(a!==void 0)return a;const l=e.call(this,o);return i[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){n.call(this,o,a),i[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new nu(s.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Gt(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class $h{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,n,s){return t.prep(8,24),t.writeInt64(BigInt(s??0)),t.pad(4),t.writeInt32(n),t.writeInt64(BigInt(e??0)),t.offset()}}const ch=2,Lr=4,hn=4,Qt=4,Mn=new Int32Array(2),l0=new Float32Array(Mn.buffer),u0=new Float64Array(Mn.buffer),fl=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var zh;(function(r){r[r.UTF8_BYTES=1]="UTF8_BYTES",r[r.UTF16_STRING=2]="UTF16_STRING"})(zh||(zh={}));let ws=class Ux{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Ux(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return Mn[0]=this.readInt32(t),l0[0]}readFloat64(t){return Mn[fl?0:1]=this.readInt32(t),Mn[fl?1:0]=this.readInt32(t+4),u0[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){l0[0]=e,this.writeInt32(t,Mn[0])}writeFloat64(t,e){u0[0]=e,this.writeInt32(t,Mn[fl?0:1]),this.writeInt32(t+4,Mn[fl?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Lr+hn)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<hn;e++)t+=String.fromCharCode(this.readInt8(this.position_+Lr+e));return t}__offset(t,e){const n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const n=this.readInt32(t);t+=Lr;const s=this.bytes_.subarray(t,t+n);return e===zh.UTF8_BYTES?s:this.text_decoder_.decode(s)}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Lr}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=hn)throw new Error("FlatBuffers: file identifier must be length "+hn);for(let e=0;e<hn;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+Lr+e))return!1;return!0}createScalarList(t,e){const n=[];for(let s=0;s<e;++s){const i=t(s);i!==null&&n.push(i)}return n}createObjList(t,e){const n=[];for(let s=0;s<e;++s){const i=t(s);i!==null&&n.push(i.unpack())}return n}},$x=class zx{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let e;t?e=t:e=1024,this.bb=ws.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const n=~(this.bb.capacity()-this.space+e)+1&t-1;for(;this.space<n+t+e;){const s=this.bb.capacity();this.bb=zx.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(n)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,n){(this.force_defaults||e!==n)&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,n){e!=n&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=e<<1,s=ws.allocate(n);return s.setPosition(n-e),s.bytes().set(t.bytes(),n-e),s}addOffset(t){this.prep(Lr,0),this.writeInt32(this.offset()-t+Lr)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&this.vtable[e]==0;e--);const n=e+1;for(;e>=0;e--)this.addInt16(this.vtable[e]!=0?t-this.vtable[e]:0);const s=2;this.addInt16(t-this.object_start);const i=(n+s)*ch;this.addInt16(i);let o=0;const a=this.space;t:for(e=0;e<this.vtables.length;e++){const l=this.bb.capacity()-this.vtables[e];if(i==this.bb.readInt16(l)){for(let u=ch;u<i;u+=ch)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue t;o=this.vtables[e];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,n){const s=n?Qt:0;if(e){const i=e;if(this.prep(this.minalign,Lr+hn+s),i.length!=hn)throw new TypeError("FlatBuffers: file identifier must be length "+hn);for(let o=hn-1;o>=0;o--)this.writeInt8(i.charCodeAt(o))}this.prep(this.minalign,Lr+s),this.addOffset(t),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const n=this.bb.capacity()-t,s=n-this.bb.readInt32(n);if(!(e<this.bb.readInt16(s)&&this.bb.readInt16(s+e)!=0))throw new TypeError("FlatBuffers: field "+e+" must be set")}startVector(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(Lr,t*e),this.prep(n,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(t==null)return 0;let e;t instanceof Uint8Array?e=t:e=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let n=0,s=this.space,i=this.bb.bytes();n<e.length;n++)i[s++]=e[n];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let n=0;n<t.length;++n){const s=t[n];if(s!==null)e.push(this.createObjectOffset(s));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};class ye{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new ye).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+Qt),(e||new ye).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,n){return ye.startKeyValue(t),ye.addKey(t,e),ye.addValue(t,n),ye.endKeyValue(t)}}var Os;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(Os||(Os={}));var Cs;(function(r){r[r.Little=0]="Little",r[r.Big=1]="Big"})(Cs||(Cs={}));var iu;(function(r){r[r.DenseArray=0]="DenseArray"})(iu||(iu={}));class tr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new tr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+Qt),(e||new tr).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,n){return tr.startInt(t),tr.addBitWidth(t,e),tr.addIsSigned(t,n),tr.endInt(t)}}class fn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new fn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+Qt),(e||new fn).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new tr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):iu.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,iu.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class ci{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new ci).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+Qt),(e||new ci).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return ci.startBinary(t),ci.endBinary(t)}}class hi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new hi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+Qt),(e||new hi).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return hi.startBool(t),hi.endBool(t)}}var su;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(su||(su={}));let Nl=class rs{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new rs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+Qt),(e||new rs).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):su.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,su.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return rs.startDate(t),rs.addUnit(t,e),rs.endDate(t)}};class ze{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new ze).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+Qt),(e||new ze).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,n,s){return ze.startDecimal(t),ze.addPrecision(t,e),ze.addScale(t,n),ze.addBitWidth(t,s),ze.endDecimal(t)}}var Hn;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(Hn||(Hn={}));class Br{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDuration(t,e){return(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,e){return t.setPosition(t.position()+Qt),(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Hn.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,Hn.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,e){return Br.startDuration(t),Br.addUnit(t,e),Br.endDuration(t)}}class Mr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+Qt),(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return Mr.startFixedSizeBinary(t),Mr.addByteWidth(t,e),Mr.endFixedSizeBinary(t)}}class kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+Qt),(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return kr.startFixedSizeList(t),kr.addListSize(t,e),kr.endFixedSizeList(t)}}var ou;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(ou||(ou={}));class jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+Qt),(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ou.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,ou.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return jr.startFloatingPoint(t),jr.addPrecision(t,e),jr.endFloatingPoint(t)}}var au;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(au||(au={}));class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+Qt),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):au.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,au.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Ur.startInterval(t),Ur.addUnit(t,e),Ur.endInterval(t)}}class fi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new fi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+Qt),(e||new fi).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return fi.startList(t),fi.endList(t)}}let wl=class ns{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new ns).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+Qt),(e||new ns).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return ns.startMap(t),ns.addKeysSorted(t,e),ns.endMap(t)}};class di{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new di).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+Qt),(e||new di).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return di.startNull(t),di.endNull(t)}}class pi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new pi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+Qt),(e||new pi).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return pi.startStruct_(t),pi.endStruct_(t)}}class fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+Qt),(e||new fr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Hn.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,Hn.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,n){return fr.startTime(t),fr.addUnit(t,e),fr.addBitWidth(t,n),fr.endTime(t)}}class dr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new dr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+Qt),(e||new dr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Hn.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,Hn.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,n){return dr.startTimestamp(t),dr.addUnit(t,e),dr.addTimezone(t,n),dr.endTimestamp(t)}}var lu;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(lu||(lu={}));class qe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new qe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+Qt),(e||new qe).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):lu.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,lu.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,n){return qe.startUnion(t),qe.addMode(t,e),qe.addTypeIds(t,n),qe.endUnion(t)}}class yi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new yi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+Qt),(e||new yi).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return yi.startUtf8(t),yi.endUtf8(t)}}var ie;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList",r[r.RunEndEncoded=22]="RunEndEncoded"})(ie||(ie={}));let cr=class Ol{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new Ol).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+Qt),(e||new Ol).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):ie.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new fn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const n=this.bb.__offset(this.bb_pos,14);return n?(e||new Ol).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,16);return n?(e||new ye).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,ie.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}},Ir=class an{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new an).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+Qt),(e||new an).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Cs.Little}fields(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new cr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new ye).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,Cs.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,n,s,i){return an.startSchema(t),an.addEndianness(t,e),an.addFields(t,n),an.addCustomMetadata(t,s),an.addFeatures(t,i),an.endSchema(t)}};class Ze{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new Ze).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+Qt),(e||new Ze).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Os.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Ir).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new $h).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new $h).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new ye).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Os.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}class Kt{constructor(t=[],e,n,s=Ee.V5){this.fields=t||[],this.metadata=e||new Map,n||(n=qh(t)),this.dictionaries=n,this.metadataVersion=s}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){const e=new Set(t),n=this.fields.filter(s=>e.has(s.name));return new Kt(n,this.metadata)}selectAt(t){const e=t.map(n=>this.fields[n]).filter(Boolean);return new Kt(e,this.metadata)}assign(...t){const e=t[0]instanceof Kt?t[0]:Array.isArray(t[0])?new Kt(t[0]):new Kt(t),n=[...this.fields],s=dl(dl(new Map,this.metadata),e.metadata),i=e.fields.filter(a=>{const l=n.findIndex(u=>u.name===a.name);return~l?(n[l]=a.clone({metadata:dl(dl(new Map,n[l].metadata),a.metadata)}))&&!1:!0}),o=qh(i,new Map);return new Kt([...n,...i],s,new Map([...this.dictionaries,...o]))}}Kt.prototype.fields=null;Kt.prototype.metadata=null;Kt.prototype.dictionaries=null;class ne{static new(...t){let[e,n,s,i]=t;return t[0]&&typeof t[0]=="object"&&({name:e}=t[0],n===void 0&&(n=t[0].type),s===void 0&&(s=t[0].nullable),i===void 0&&(i=t[0].metadata)),new ne(`${e}`,n,s,i)}constructor(t,e,n=!1,s){this.name=t,this.type=e,this.nullable=n,this.metadata=s||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,n,s,i]=t;return!t[0]||typeof t[0]!="object"?[e=this.name,n=this.type,s=this.nullable,i=this.metadata]=t:{name:e=this.name,type:n=this.type,nullable:s=this.nullable,metadata:i=this.metadata}=t[0],ne.new(e,n,s,i)}}ne.prototype.type=null;ne.prototype.name=null;ne.prototype.nullable=null;ne.prototype.metadata=null;function dl(r,t){return new Map([...r||new Map,...t||new Map])}function qh(r,t=new Map){for(let e=-1,n=r.length;++e<n;){const i=r[e].type;if(_t.isDictionary(i)){if(!t.has(i.id))t.set(i.id,i.dictionary);else if(t.get(i.id)!==i.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}i.children&&i.children.length>0&&qh(i.children,t)}return t}var Z1=$x,t2=ws;class ya{static decode(t){t=new t2(Ht(t));const e=Ze.getRootAsFooter(t),n=Kt.decode(e.schema(),new Map,e.version());return new e2(n,e)}static encode(t){const e=new Z1,n=Kt.encode(e,t.schema);Ze.startRecordBatchesVector(e,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Wn.encode(e,o);const s=e.endVector();Ze.startDictionariesVector(e,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Wn.encode(e,o);const i=e.endVector();return Ze.startFooter(e),Ze.addSchema(e,n),Ze.addVersion(e,Ee.V5),Ze.addRecordBatches(e,s),Ze.addDictionaries(e,i),Ze.finishFooterBuffer(e,Ze.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,e=Ee.V5,n,s){this.schema=t,this.version=e,n&&(this._recordBatches=n),s&&(this._dictionaryBatches=s)}*recordBatches(){for(let t,e=-1,n=this.numRecordBatches;++e<n;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,n=this.numDictionaries;++e<n;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class e2 extends ya{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,e){super(t,e.version()),this._footer=e}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Wn.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Wn.decode(e)}return null}}class Wn{static decode(t){return new Wn(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:n}=e,s=BigInt(e.offset),i=BigInt(e.bodyLength);return $h.createBlock(t,s,n,i)}constructor(t,e,n){this.metaDataLength=t,this.offset=vr(n),this.bodyLength=vr(e)}}const se=Object.freeze({done:!0,value:void 0});class c0{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class zf{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class r2 extends zf{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Rt(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(se);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return hr.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return hr.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Rt(this,void 0,void 0,function*(){return yield this.abort(t),se})}return(t){return Rt(this,void 0,void 0,function*(){return yield this.close(),se})}read(t){return Rt(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Rt(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((e,n)=>{this.resolvers.push({resolve:e,reject:n})}):Promise.resolve(se)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Cl extends r2{write(t){if((t=Ht(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Mh(this.toUint8Array(!0)):this.toUint8Array(!1).then(Mh)}toUint8Array(t=!1){return t?Vr(this._values)[0]:Rt(this,void 0,void 0,function*(){var e,n,s,i;const o=[];let a=0;try{for(var l=!0,u=gi(this),h;h=yield u.next(),e=h.done,!e;l=!0){i=h.value,l=!1;const c=i;o.push(c),a+=c.byteLength}}catch(c){n={error:c}}finally{try{!l&&!e&&(s=u.return)&&(yield s.call(u))}finally{if(n)throw n.error}}return Vr(o,a)[0]})}}class uu{constructor(t){t&&(this.source=new n2(hr.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Is{constructor(t){t instanceof Is?this.source=t.source:t instanceof Cl?this.source=new si(hr.fromAsyncIterable(t)):pm(t)?this.source=new si(hr.fromNodeStream(t)):If(t)?this.source=new si(hr.fromDOMStream(t)):dm(t)?this.source=new si(hr.fromDOMStream(t.body)):Xa(t)?this.source=new si(hr.fromIterable(t)):Bi(t)?this.source=new si(hr.fromAsyncIterable(t)):Gs(t)&&(this.source=new si(hr.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class n2{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||se)}return(t){return Object.create(this.source.return&&this.source.return(t)||se)}}class si{constructor(t){this.source=t,this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}cancel(t){return Rt(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return Rt(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Rt(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t,e="read"){return Rt(this,void 0,void 0,function*(){return yield this.source.next({cmd:e,size:t})})}throw(t){return Rt(this,void 0,void 0,function*(){const e=this.source.throw&&(yield this.source.throw(t))||se;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return Rt(this,void 0,void 0,function*(){const e=this.source.return&&(yield this.source.return(t))||se;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}class h0 extends uu{constructor(t,e){super(),this.position=0,this.buffer=Ht(t),this.size=e===void 0?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:n}=this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:n,position:s}=this;return e&&s<n?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(n,s+Math.min(n-s,t)),e.subarray(s,this.position)):null}readAt(t,e){const n=this.buffer,s=Math.min(this.size,t+e);return n?n.subarray(t,s):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class cu extends Is{constructor(t,e){super(),this.position=0,this._handle=t,typeof e=="number"?this.size=e:this._pending=Rt(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return Rt(this,void 0,void 0,function*(){const{buffer:e,byteOffset:n}=yield this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)})}seek(t){return Rt(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return Rt(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:e,size:n,position:s}=this;if(e&&s<n){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let i=s,o=0,a=0;const l=Math.min(n,i+Math.min(n-i,t)),u=new Uint8Array(Math.max(0,(this.position=l)-i));for(;(i+=a)<l&&(o+=a)<u.byteLength;)({bytesRead:a}=yield e.read(u,o,u.byteLength-o,i));return u}return null})}readAt(t,e){return Rt(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:s}=this;if(n&&t+e<s){const i=Math.min(s,t+e),o=new Uint8Array(i-t);return(yield n.read(o,0,e,t)).buffer}return new Uint8Array(e)})}close(){return Rt(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return Rt(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return Rt(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const i2=65536;function ls(r){return r<0&&(r=4294967295+r+1),`0x${r.toString(16)}`}const Ds=8,qf=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class qx{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),n=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let s=e[3]*n[3];this.buffer[0]=s&65535;let i=s>>>16;return s=e[2]*n[3],i+=s,s=e[3]*n[2]>>>0,i+=s,this.buffer[0]+=i<<16,this.buffer[1]=i>>>0<s?i2:0,this.buffer[1]+=i>>>16,this.buffer[1]+=e[1]*n[3]+e[2]*n[2]+e[3]*n[1],this.buffer[1]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${ls(this.buffer[1])} ${ls(this.buffer[0])}`}}class Xt extends qx{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return Xt.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return Xt.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.length,s=new Xt(e);for(let i=0;i<n;){const o=Ds<n-i?Ds:n-i,a=new Xt(new Uint32Array([Number.parseInt(t.slice(i,i+o),10),0])),l=new Xt(new Uint32Array([qf[o],0]));s.times(l),s.plus(a),i+=o}return s}static convertArray(t){const e=new Uint32Array(t.length*2);for(let n=-1,s=t.length;++n<s;)Xt.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new Xt(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Xt(new Uint32Array(t.buffer)).plus(e)}}class $e extends qx{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,n=t.buffer[1]<<0;return e<n||e===n&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return $e.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return $e.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.startsWith("-"),s=t.length,i=new $e(e);for(let o=n?1:0;o<s;){const a=Ds<s-o?Ds:s-o,l=new $e(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0])),u=new $e(new Uint32Array([qf[a],0]));i.times(u),i.plus(l),o+=a}return n?i.negate():i}static convertArray(t){const e=new Uint32Array(t.length*2);for(let n=-1,s=t.length;++n<s;)$e.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new $e(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new $e(new Uint32Array(t.buffer)).plus(e)}}class Dr{constructor(t){this.buffer=t}high(){return new $e(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new $e(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const e=new Xt(new Uint32Array([this.buffer[3],0])),n=new Xt(new Uint32Array([this.buffer[2],0])),s=new Xt(new Uint32Array([this.buffer[1],0])),i=new Xt(new Uint32Array([this.buffer[0],0])),o=new Xt(new Uint32Array([t.buffer[3],0])),a=new Xt(new Uint32Array([t.buffer[2],0])),l=new Xt(new Uint32Array([t.buffer[1],0])),u=new Xt(new Uint32Array([t.buffer[0],0]));let h=Xt.multiply(i,u);this.buffer[0]=h.low();const c=new Xt(new Uint32Array([h.high(),0]));return h=Xt.multiply(s,u),c.plus(h),h=Xt.multiply(i,l),c.plus(h),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(h)?1:0,this.buffer[2]=c.high(),new Xt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Xt.multiply(n,u)).plus(Xt.multiply(s,l)).plus(Xt.multiply(i,a)),this.buffer[3]+=Xt.multiply(e,u).plus(Xt.multiply(n,l)).plus(Xt.multiply(s,a)).plus(Xt.multiply(i,o)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${ls(this.buffer[3])} ${ls(this.buffer[2])} ${ls(this.buffer[1])} ${ls(this.buffer[0])}`}static multiply(t,e){return new Dr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Dr(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return Dr.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return Dr.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){const n=t.startsWith("-"),s=t.length,i=new Dr(e);for(let o=n?1:0;o<s;){const a=Ds<s-o?Ds:s-o,l=new Dr(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0,0,0])),u=new Dr(new Uint32Array([qf[a],0,0,0]));i.times(u),i.plus(l),o+=a}return n?i.negate():i}static convertArray(t){const e=new Uint32Array(t.length*4);for(let n=-1,s=t.length;++n<s;)Dr.from(t[n],new Uint32Array(e.buffer,e.byteOffset+4*4*n,4));return e}}class Vx extends jt{constructor(t,e,n,s,i=Ee.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=n,this.dictionaries=s,this.metadataVersion=i}visit(t){return super.visit(t instanceof ne?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return zt({type:t,length:e})}visitBool(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitInt(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDate(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTime(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitList(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),children:this.visitMany(t.children)})}visitUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return this.metadataVersion<Ee.V5&&this.readNullBitmap(t,n),t.mode===Me.Sparse?this.visitSparseUnion(t,{length:e,nullCount:n}):this.visitDenseUnion(t,{length:e,nullCount:n})}visitDenseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDuration(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:n}=this.nextFieldNode()){return zt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,n=this.nextBufferRange()){return e>0&&this.readData(t,n)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class s2 extends Vx{constructor(t,e,n,s,i){super(new Uint8Array(0),e,n,s,i),this.sources=t}readNullBitmap(t,e,{offset:n}=this.nextBufferRange()){return e<=0?new Uint8Array(0):eu(this.sources[n])}readOffsets(t,{offset:e}=this.nextBufferRange()){return Jt(Uint8Array,Jt(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return Jt(Uint8Array,Jt(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:n}=this;return _t.isTimestamp(t)||(_t.isInt(t)||_t.isTime(t))&&t.bitWidth===64||_t.isDuration(t)||_t.isDate(t)&&t.unit===Sn.MILLISECOND?Jt(Uint8Array,$e.convertArray(n[e])):_t.isDecimal(t)?Jt(Uint8Array,Dr.convertArray(n[e])):_t.isBinary(t)||_t.isFixedSizeBinary(t)?o2(n[e]):_t.isBool(t)?eu(n[e]):_t.isUtf8(t)?Cf(n[e].join("")):Jt(Uint8Array,Jt(t.ArrayType,n[e].map(s=>+s)))}}function o2(r){const t=r.join(""),e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n>>1]=Number.parseInt(t.slice(n,n+2),16);return e}class Nt extends jt{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((n,s)=>this.compareFields(n,e[s]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function je(r,t){return t instanceof r.constructor}function Ja(r,t){return r===t||je(r,t)}function Rn(r,t){return r===t||je(r,t)&&r.bitWidth===t.bitWidth&&r.isSigned===t.isSigned}function xc(r,t){return r===t||je(r,t)&&r.precision===t.precision}function a2(r,t){return r===t||je(r,t)&&r.byteWidth===t.byteWidth}function Vf(r,t){return r===t||je(r,t)&&r.unit===t.unit}function Qa(r,t){return r===t||je(r,t)&&r.unit===t.unit&&r.timezone===t.timezone}function Za(r,t){return r===t||je(r,t)&&r.unit===t.unit&&r.bitWidth===t.bitWidth}function l2(r,t){return r===t||je(r,t)&&r.children.length===t.children.length&&Yn.compareManyFields(r.children,t.children)}function u2(r,t){return r===t||je(r,t)&&r.children.length===t.children.length&&Yn.compareManyFields(r.children,t.children)}function Hf(r,t){return r===t||je(r,t)&&r.mode===t.mode&&r.typeIds.every((e,n)=>e===t.typeIds[n])&&Yn.compareManyFields(r.children,t.children)}function c2(r,t){return r===t||je(r,t)&&r.id===t.id&&r.isOrdered===t.isOrdered&&Yn.visit(r.indices,t.indices)&&Yn.visit(r.dictionary,t.dictionary)}function Wf(r,t){return r===t||je(r,t)&&r.unit===t.unit}function tl(r,t){return r===t||je(r,t)&&r.unit===t.unit}function h2(r,t){return r===t||je(r,t)&&r.listSize===t.listSize&&r.children.length===t.children.length&&Yn.compareManyFields(r.children,t.children)}function f2(r,t){return r===t||je(r,t)&&r.keysSorted===t.keysSorted&&r.children.length===t.children.length&&Yn.compareManyFields(r.children,t.children)}Nt.prototype.visitNull=Ja;Nt.prototype.visitBool=Ja;Nt.prototype.visitInt=Rn;Nt.prototype.visitInt8=Rn;Nt.prototype.visitInt16=Rn;Nt.prototype.visitInt32=Rn;Nt.prototype.visitInt64=Rn;Nt.prototype.visitUint8=Rn;Nt.prototype.visitUint16=Rn;Nt.prototype.visitUint32=Rn;Nt.prototype.visitUint64=Rn;Nt.prototype.visitFloat=xc;Nt.prototype.visitFloat16=xc;Nt.prototype.visitFloat32=xc;Nt.prototype.visitFloat64=xc;Nt.prototype.visitUtf8=Ja;Nt.prototype.visitBinary=Ja;Nt.prototype.visitFixedSizeBinary=a2;Nt.prototype.visitDate=Vf;Nt.prototype.visitDateDay=Vf;Nt.prototype.visitDateMillisecond=Vf;Nt.prototype.visitTimestamp=Qa;Nt.prototype.visitTimestampSecond=Qa;Nt.prototype.visitTimestampMillisecond=Qa;Nt.prototype.visitTimestampMicrosecond=Qa;Nt.prototype.visitTimestampNanosecond=Qa;Nt.prototype.visitTime=Za;Nt.prototype.visitTimeSecond=Za;Nt.prototype.visitTimeMillisecond=Za;Nt.prototype.visitTimeMicrosecond=Za;Nt.prototype.visitTimeNanosecond=Za;Nt.prototype.visitDecimal=Ja;Nt.prototype.visitList=l2;Nt.prototype.visitStruct=u2;Nt.prototype.visitUnion=Hf;Nt.prototype.visitDenseUnion=Hf;Nt.prototype.visitSparseUnion=Hf;Nt.prototype.visitDictionary=c2;Nt.prototype.visitInterval=Wf;Nt.prototype.visitIntervalDayTime=Wf;Nt.prototype.visitIntervalYearMonth=Wf;Nt.prototype.visitDuration=tl;Nt.prototype.visitDurationSecond=tl;Nt.prototype.visitDurationMillisecond=tl;Nt.prototype.visitDurationMicrosecond=tl;Nt.prototype.visitDurationNanosecond=tl;Nt.prototype.visitFixedSizeList=h2;Nt.prototype.visitMap=f2;const Yn=new Nt;function Vh(r,t){return Yn.compareSchemas(r,t)}function hh(r,t){return d2(r,t.map(e=>e.data.concat()))}function d2(r,t){const e=[...r.fields],n=[],s={numBatches:t.reduce((c,f)=>Math.max(c,f.length),0)};let i=0,o=0,a=-1;const l=t.length;let u,h=[];for(;s.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)h[a]=u=t[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(h=p2(e,o,h,t,s),o>0&&(n[i++]=zt({type:new Fe(e),length:o,nullCount:0,children:h.slice()})))}return[r=r.assign(e),n.map(c=>new Ve(r,c))]}function p2(r,t,e,n,s){var i;const o=(t+63&-64)>>3;for(let a=-1,l=n.length;++a<l;){const u=e[a],h=u==null?void 0:u.length;if(h>=t)h===t?e[a]=u:(e[a]=u.slice(0,t),s.numBatches=Math.max(s.numBatches,n[a].unshift(u.slice(t,h-t))));else{const c=r[a];r[a]=c.clone({nullable:!0}),e[a]=(i=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&i!==void 0?i:zt({type:c.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return e}var Hx;class Re{constructor(...t){var e,n;if(t.length===0)return this.batches=[],this.schema=new Kt([]),this._offsets=[0],this;let s,i;t[0]instanceof Kt&&(s=t.shift()),t.at(-1)instanceof Uint32Array&&(i=t.pop());const o=l=>{if(l){if(l instanceof Ve)return[l];if(l instanceof Re)return l.batches;if(l instanceof Zt){if(l.type instanceof Fe)return[new Ve(new Kt(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),h=u.map(d=>new Gt([l[d]])),c=new Kt(u.map((d,m)=>new ne(String(d),h[m].type))),[,f]=hh(c,h);return f.length===0?[new Ve(l)]:f}}}return[]},a=t.flatMap(l=>o(l));if(s=(n=s??((e=a[0])===null||e===void 0?void 0:e.schema))!==null&&n!==void 0?n:new Kt([]),!(s instanceof Kt))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof Ve))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Vh(s,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=a,this._offsets=i??Ix(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Cx(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?$f.visit(new Gt(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const e=this.schema,n=this.data.concat(t.flatMap(({data:s})=>s));return new Re(e,n.map(s=>new Ve(e,s)))}slice(t,e){const n=this.schema;[t,e]=wx({length:this.numRows},t,e);const s=Dx(this.data,this._offsets,t,e);return new Re(n,s.map(i=>new Ve(n,i)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map(n=>n.children[t]);if(e.length===0){const{type:n}=this.schema.fields[t],s=zt({type:n,length:0,nullCount:0});e.push(s._changeLengthAndBackfillNullBitmap(this.numRows))}return new Gt(e)}return null}setChild(t,e){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(s=>s.name===t),e)}setChildAt(t,e){let n=this.schema,s=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Gt([zt({type:new qn,length:this.numRows})]));const i=n.fields.slice(),o=i[t].clone({type:e.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[i[t],a[t]]=[o,e],[n,s]=hh(n,a)}return new Re(n,s)}select(t){const e=this.schema.fields.reduce((n,s,i)=>n.set(s.name,i),new Map);return this.selectAt(t.map(n=>e.get(n)).filter(n=>n>-1))}selectAt(t){const e=this.schema.selectAt(t),n=this.batches.map(s=>s.selectAt(t));return new Re(e,n)}assign(t){const e=this.schema.fields,[n,s]=t.schema.fields.reduce((a,l,u)=>{const[h,c]=a,f=e.findIndex(d=>d.name===l.name);return~f?c[f]=u:h.push(u),a},[[],[]]),i=this.schema.assign(t.schema),o=[...e.map((a,l)=>[l,s[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):t.getChildAt(l)),...n.map(a=>t.getChildAt(a))].filter(Boolean);return new Re(...hh(i,o))}}Hx=Symbol.toStringTag;Re[Hx]=(r=>(r.schema=null,r.batches=[],r._offsets=new Uint32Array([0]),r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,r.isValid=ys(Uf),r.get=ys(Ye.getVisitFn(U.Struct)),r.set=Rx(mr.getVisitFn(U.Struct)),r.indexOf=Fx(ru.getVisitFn(U.Struct)),r.getByteLength=ys(Hr.getVisitFn(U.Struct)),"Table"))(Re.prototype);var Wx;let Ve=class Zo{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Kt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=zt({nullCount:0,type:new Fe(this.schema.fields),children:this.schema.fields.map(e=>zt({type:e.type,nullCount:0}))})]=t,!(this.data instanceof Zt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=f0(this.schema,this.data.children);break}case 1:{const[e]=t,{fields:n,children:s,length:i}=Object.keys(e).reduce((l,u,h)=>(l.children[h]=e[u],l.length=Math.max(l.length,e[u].length),l.fields[h]=ne.new({name:u,type:e[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new Kt(n),a=zt({type:new Fe(n),length:i,children:s,nullCount:0});[this.schema,this.data]=f0(o,a.children,i);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Yx(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Ye.visit(this.data,t)}set(t,e){return mr.visit(this.data,t,e)}indexOf(t,e){return ru.visit(this.data,t,e)}getByteLength(t){return Hr.visit(this.data,t)}[Symbol.iterator](){return $f.visit(new Gt([this.data]))}toArray(){return[...this]}concat(...t){return new Re(this.schema,[this,...t])}slice(t,e){const[n]=new Gt([this.data]).slice(t,e).data;return new Zo(this.schema,n)}getChild(t){var e;return this.getChildAt((e=this.schema.fields)===null||e===void 0?void 0:e.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Gt([this.data.children[t]]):null}setChild(t,e){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(s=>s.name===t),e)}setChildAt(t,e){let n=this.schema,s=this.data;if(t>-1&&t<this.numCols){e||(e=new Gt([zt({type:new qn,length:this.numRows})]));const i=n.fields.slice(),o=s.children.slice(),a=i[t].clone({type:e.type});[i[t],o[t]]=[a,e.data[0]],n=new Kt(i,new Map(this.schema.metadata)),s=zt({type:new Fe(i),children:o})}return new Zo(n,s)}select(t){const e=this.schema.select(t),n=new Fe(e.fields),s=[];for(const i of t){const o=this.schema.fields.findIndex(a=>a.name===i);~o&&(s[o]=this.data.children[o])}return new Zo(e,zt({type:n,length:this.numRows,children:s}))}selectAt(t){const e=this.schema.selectAt(t),n=t.map(i=>this.data.children[i]).filter(Boolean),s=zt({type:new Fe(e.fields),length:this.numRows,children:n});return new Zo(e,s)}};Wx=Symbol.toStringTag;Ve[Wx]=(r=>(r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Ve.prototype);function f0(r,t,e=t.reduce((n,s)=>Math.max(n,s.length),0)){var n;const s=[...r.fields],i=[...t],o=(e+63&-64)>>3;for(const[a,l]of r.fields.entries()){const u=t[a];(!u||u.length!==e)&&(s[a]=l.clone({nullable:!0}),i[a]=(n=u==null?void 0:u._changeLengthAndBackfillNullBitmap(e))!==null&&n!==void 0?n:zt({type:l.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)}))}return[r.assign(s),zt({type:new Fe(s),length:e,children:i})]}function Yx(r,t,e=new Map){var n,s;if(((n=r==null?void 0:r.length)!==null&&n!==void 0?n:0)>0&&(r==null?void 0:r.length)===(t==null?void 0:t.length))for(let i=-1,o=r.length;++i<o;){const{type:a}=r[i],l=t[i];for(const u of[l,...((s=l==null?void 0:l.dictionary)===null||s===void 0?void 0:s.data)||[]])Yx(a.children,u==null?void 0:u.children,e);if(_t.isDictionary(a)){const{id:u}=a;if(!e.has(u))l!=null&&l.dictionary&&e.set(u,l.dictionary);else if(e.get(u)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return e}class Yf extends Ve{constructor(t){const e=t.fields.map(s=>zt({type:s.type})),n=zt({type:new Fe(t.fields),nullCount:0,children:e});super(t,n)}}var hu;(function(r){r[r.BUFFER=0]="BUFFER"})(hu||(hu={}));var fu;(function(r){r[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD"})(fu||(fu={}));class kn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new kn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+Qt),(e||new kn).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):fu.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):hu.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,fu.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,hu.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,n){return kn.startBodyCompression(t),kn.addCodec(t,e),kn.addMethod(t,n),kn.endBodyCompression(t)}}class Gx{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,n){return t.prep(8,16),t.writeInt64(BigInt(n??0)),t.writeInt64(BigInt(e??0)),t.offset()}}let Kx=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,n){return t.prep(8,16),t.writeInt64(BigInt(n??0)),t.writeInt64(BigInt(e??0)),t.offset()}},cn=class Hh{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new Hh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+Qt),(e||new Hh).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Kx).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Gx).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new kn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}},is=class Wh{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new Wh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+Qt),(e||new Wh).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new cn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}};var du;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(du||(du={}));let Pn=class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+Qt),(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Os.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):du.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new ye).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Os.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,du.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,BigInt("0"))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,n,s,i,o){return Cr.startMessage(t),Cr.addVersion(t,e),Cr.addHeaderType(t,n),Cr.addHeader(t,s),Cr.addBodyLength(t,i),Cr.addCustomMetadata(t,o),Cr.endMessage(t)}};class y2 extends jt{visit(t,e){return t==null||e==null?void 0:super.visit(t,e)}visitNull(t,e){return di.startNull(e),di.endNull(e)}visitInt(t,e){return tr.startInt(e),tr.addBitWidth(e,t.bitWidth),tr.addIsSigned(e,t.isSigned),tr.endInt(e)}visitFloat(t,e){return jr.startFloatingPoint(e),jr.addPrecision(e,t.precision),jr.endFloatingPoint(e)}visitBinary(t,e){return ci.startBinary(e),ci.endBinary(e)}visitBool(t,e){return hi.startBool(e),hi.endBool(e)}visitUtf8(t,e){return yi.startUtf8(e),yi.endUtf8(e)}visitDecimal(t,e){return ze.startDecimal(e),ze.addScale(e,t.scale),ze.addPrecision(e,t.precision),ze.addBitWidth(e,t.bitWidth),ze.endDecimal(e)}visitDate(t,e){return Nl.startDate(e),Nl.addUnit(e,t.unit),Nl.endDate(e)}visitTime(t,e){return fr.startTime(e),fr.addUnit(e,t.unit),fr.addBitWidth(e,t.bitWidth),fr.endTime(e)}visitTimestamp(t,e){const n=t.timezone&&e.createString(t.timezone)||void 0;return dr.startTimestamp(e),dr.addUnit(e,t.unit),n!==void 0&&dr.addTimezone(e,n),dr.endTimestamp(e)}visitInterval(t,e){return Ur.startInterval(e),Ur.addUnit(e,t.unit),Ur.endInterval(e)}visitDuration(t,e){return Br.startDuration(e),Br.addUnit(e,t.unit),Br.endDuration(e)}visitList(t,e){return fi.startList(e),fi.endList(e)}visitStruct(t,e){return pi.startStruct_(e),pi.endStruct_(e)}visitUnion(t,e){qe.startTypeIdsVector(e,t.typeIds.length);const n=qe.createTypeIdsVector(e,t.typeIds);return qe.startUnion(e),qe.addMode(e,t.mode),qe.addTypeIds(e,n),qe.endUnion(e)}visitDictionary(t,e){const n=this.visit(t.indices,e);return fn.startDictionaryEncoding(e),fn.addId(e,BigInt(t.id)),fn.addIsOrdered(e,t.isOrdered),n!==void 0&&fn.addIndexType(e,n),fn.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Mr.startFixedSizeBinary(e),Mr.addByteWidth(e,t.byteWidth),Mr.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return kr.startFixedSizeList(e),kr.addListSize(e,t.listSize),kr.endFixedSizeList(e)}visitMap(t,e){return wl.startMap(e),wl.addKeysSorted(e,t.keysSorted),wl.endMap(e)}}const fh=new y2;function m2(r,t=new Map){return new Kt(g2(r,t),Il(r.metadata),t)}function Xx(r){return new nr(r.count,Jx(r.columns),Qx(r.columns))}function x2(r){return new Wr(Xx(r.data),r.id,r.isDelta)}function g2(r,t){return(r.fields||[]).filter(Boolean).map(e=>ne.fromJSON(e,t))}function d0(r,t){return(r.children||[]).filter(Boolean).map(e=>ne.fromJSON(e,t))}function Jx(r){return(r||[]).reduce((t,e)=>[...t,new Gn(e.count,_2(e.VALIDITY)),...Jx(e.children)],[])}function Qx(r,t=[]){for(let e=-1,n=(r||[]).length;++e<n;){const s=r[e];s.VALIDITY&&t.push(new zr(t.length,s.VALIDITY.length)),s.TYPE_ID&&t.push(new zr(t.length,s.TYPE_ID.length)),s.OFFSET&&t.push(new zr(t.length,s.OFFSET.length)),s.DATA&&t.push(new zr(t.length,s.DATA.length)),t=Qx(s.children,t)}return t}function _2(r){return(r||[]).reduce((t,e)=>t+ +(e===0),0)}function v2(r,t){let e,n,s,i,o,a;return!t||!(i=r.dictionary)?(o=y0(r,d0(r,t)),s=new ne(r.name,o,r.nullable,Il(r.metadata))):t.has(e=i.id)?(n=(n=i.indexType)?p0(n):new fa,a=new Ns(t.get(e),n,e,i.isOrdered),s=new ne(r.name,a,r.nullable,Il(r.metadata))):(n=(n=i.indexType)?p0(n):new fa,t.set(e,o=y0(r,d0(r,t))),a=new Ns(o,n,e,i.isOrdered),s=new ne(r.name,a,r.nullable,Il(r.metadata))),s||null}function Il(r=[]){return new Map(r.map(({key:t,value:e})=>[t,e]))}function p0(r){return new Vn(r.isSigned,r.bitWidth)}function y0(r,t){const e=r.type.name;switch(e){case"NONE":return new qn;case"null":return new qn;case"binary":return new $l;case"utf8":return new zl;case"bool":return new ql;case"list":return new Kl((t||[])[0]);case"struct":return new Fe(t||[]);case"struct_":return new Fe(t||[])}switch(e){case"int":{const n=r.type;return new Vn(n.isSigned,n.bitWidth)}case"floatingpoint":{const n=r.type;return new da(He[n.precision])}case"decimal":{const n=r.type;return new Vl(n.scale,n.precision,n.bitWidth)}case"date":{const n=r.type;return new Hl(Sn[n.unit])}case"time":{const n=r.type;return new pa(Ft[n.unit],n.bitWidth)}case"timestamp":{const n=r.type;return new Wl(Ft[n.unit],n.timezone)}case"interval":{const n=r.type;return new Yl(zn[n.unit])}case"duration":{const n=r.type;return new Gl(Ft[n.unit])}case"union":{const n=r.type,[s,...i]=(n.mode+"").toLowerCase(),o=s.toUpperCase()+i.join("");return new Xl(Me[o],n.typeIds||[],t||[])}case"fixedsizebinary":{const n=r.type;return new Jl(n.byteWidth)}case"fixedsizelist":{const n=r.type;return new Ql(n.listSize,(t||[])[0])}case"map":{const n=r.type;return new Zl((t||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${e}"`)}var S2=$x,b2=ws;class Pe{static fromJSON(t,e){const n=new Pe(0,Ee.V5,e);return n._createHeader=E2(t,e),n}static decode(t){t=new b2(Ht(t));const e=Pn.getRootAsMessage(t),n=e.bodyLength(),s=e.version(),i=e.headerType(),o=new Pe(n,s,i);return o._createHeader=A2(e,i),o}static encode(t){const e=new S2;let n=-1;return t.isSchema()?n=Kt.encode(e,t.header()):t.isRecordBatch()?n=nr.encode(e,t.header()):t.isDictionaryBatch()&&(n=Wr.encode(e,t.header())),Pn.startMessage(e),Pn.addVersion(e,Ee.V5),Pn.addHeader(e,n),Pn.addHeaderType(e,t.headerType),Pn.addBodyLength(e,BigInt(t.bodyLength)),Pn.finishMessageBuffer(e,Pn.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof Kt)return new Pe(0,Ee.V5,Yt.Schema,t);if(t instanceof nr)return new Pe(e,Ee.V5,Yt.RecordBatch,t);if(t instanceof Wr)return new Pe(e,Ee.V5,Yt.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Yt.Schema}isRecordBatch(){return this.headerType===Yt.RecordBatch}isDictionaryBatch(){return this.headerType===Yt.DictionaryBatch}constructor(t,e,n,s){this._version=e,this._headerType=n,this.body=new Uint8Array(0),s&&(this._createHeader=()=>s),this._bodyLength=vr(t)}}class nr{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,e,n){this._nodes=e,this._buffers=n,this._length=vr(t)}}class Wr{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,e,n=!1){this._data=t,this._isDelta=n,this._id=vr(e)}}class zr{constructor(t,e){this.offset=vr(t),this.length=vr(e)}}class Gn{constructor(t,e){this.length=vr(t),this.nullCount=vr(e)}}function E2(r,t){return()=>{switch(t){case Yt.Schema:return Kt.fromJSON(r);case Yt.RecordBatch:return nr.fromJSON(r);case Yt.DictionaryBatch:return Wr.fromJSON(r)}throw new Error(`Unrecognized Message type: { name: ${Yt[t]}, type: ${t} }`)}}function A2(r,t){return()=>{switch(t){case Yt.Schema:return Kt.decode(r.header(new Ir),new Map,r.version());case Yt.RecordBatch:return nr.decode(r.header(new cn),r.version());case Yt.DictionaryBatch:return Wr.decode(r.header(new is),r.version())}throw new Error(`Unrecognized Message type: { name: ${Yt[t]}, type: ${t} }`)}}ne.encode=L2;ne.decode=F2;ne.fromJSON=v2;Kt.encode=P2;Kt.decode=T2;Kt.fromJSON=m2;nr.encode=B2;nr.decode=N2;nr.fromJSON=Xx;Wr.encode=M2;Wr.decode=w2;Wr.fromJSON=x2;Gn.encode=k2;Gn.decode=C2;zr.encode=j2;zr.decode=O2;function T2(r,t=new Map,e=Ee.V5){const n=R2(r,t);return new Kt(n,Dl(r),t,e)}function N2(r,t=Ee.V5){if(r.compression()!==null)throw new Error("Record batch compression not implemented");return new nr(r.length(),I2(r),D2(r,t))}function w2(r,t=Ee.V5){return new Wr(nr.decode(r.data(),t),r.id(),r.isDelta())}function O2(r){return new zr(r.offset(),r.length())}function C2(r){return new Gn(r.length(),r.nullCount())}function I2(r){const t=[];for(let e,n=-1,s=-1,i=r.nodesLength();++n<i;)(e=r.nodes(n))&&(t[++s]=Gn.decode(e));return t}function D2(r,t){const e=[];for(let n,s=-1,i=-1,o=r.buffersLength();++s<o;)(n=r.buffers(s))&&(t<Ee.V4&&(n.bb_pos+=8*(s+1)),e[++i]=zr.decode(n));return e}function R2(r,t){const e=[];for(let n,s=-1,i=-1,o=r.fieldsLength();++s<o;)(n=r.fields(s))&&(e[++i]=ne.decode(n,t));return e}function m0(r,t){const e=[];for(let n,s=-1,i=-1,o=r.childrenLength();++s<o;)(n=r.children(s))&&(e[++i]=ne.decode(n,t));return e}function F2(r,t){let e,n,s,i,o,a;return!t||!(a=r.dictionary())?(s=g0(r,m0(r,t)),n=new ne(r.name(),s,r.nullable(),Dl(r))):t.has(e=vr(a.id()))?(i=(i=a.indexType())?x0(i):new fa,o=new Ns(t.get(e),i,e,a.isOrdered()),n=new ne(r.name(),o,r.nullable(),Dl(r))):(i=(i=a.indexType())?x0(i):new fa,t.set(e,s=g0(r,m0(r,t))),o=new Ns(s,i,e,a.isOrdered()),n=new ne(r.name(),o,r.nullable(),Dl(r))),n||null}function Dl(r){const t=new Map;if(r)for(let e,n,s=-1,i=Math.trunc(r.customMetadataLength());++s<i;)(e=r.customMetadata(s))&&(n=e.key())!=null&&t.set(n,e.value());return t}function x0(r){return new Vn(r.isSigned(),r.bitWidth())}function g0(r,t){const e=r.typeType();switch(e){case ie.NONE:return new qn;case ie.Null:return new qn;case ie.Binary:return new $l;case ie.Utf8:return new zl;case ie.Bool:return new ql;case ie.List:return new Kl((t||[])[0]);case ie.Struct_:return new Fe(t||[])}switch(e){case ie.Int:{const n=r.type(new tr);return new Vn(n.isSigned(),n.bitWidth())}case ie.FloatingPoint:{const n=r.type(new jr);return new da(n.precision())}case ie.Decimal:{const n=r.type(new ze);return new Vl(n.scale(),n.precision(),n.bitWidth())}case ie.Date:{const n=r.type(new Nl);return new Hl(n.unit())}case ie.Time:{const n=r.type(new fr);return new pa(n.unit(),n.bitWidth())}case ie.Timestamp:{const n=r.type(new dr);return new Wl(n.unit(),n.timezone())}case ie.Interval:{const n=r.type(new Ur);return new Yl(n.unit())}case ie.Duration:{const n=r.type(new Br);return new Gl(n.unit())}case ie.Union:{const n=r.type(new qe);return new Xl(n.mode(),n.typeIdsArray()||[],t||[])}case ie.FixedSizeBinary:{const n=r.type(new Mr);return new Jl(n.byteWidth())}case ie.FixedSizeList:{const n=r.type(new kr);return new Ql(n.listSize(),(t||[])[0])}case ie.Map:{const n=r.type(new wl);return new Zl((t||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${ie[e]}" (${e})`)}function P2(r,t){const e=t.fields.map(i=>ne.encode(r,i));Ir.startFieldsVector(r,e.length);const n=Ir.createFieldsVector(r,e),s=t.metadata&&t.metadata.size>0?Ir.createCustomMetadataVector(r,[...t.metadata].map(([i,o])=>{const a=r.createString(`${i}`),l=r.createString(`${o}`);return ye.startKeyValue(r),ye.addKey(r,a),ye.addValue(r,l),ye.endKeyValue(r)})):-1;return Ir.startSchema(r),Ir.addFields(r,n),Ir.addEndianness(r,U2?Cs.Little:Cs.Big),s!==-1&&Ir.addCustomMetadata(r,s),Ir.endSchema(r)}function L2(r,t){let e=-1,n=-1,s=-1;const i=t.type;let o=t.typeId;_t.isDictionary(i)?(o=i.dictionary.typeId,s=fh.visit(i,r),n=fh.visit(i.dictionary,r)):n=fh.visit(i,r);const a=(i.children||[]).map(h=>ne.encode(r,h)),l=cr.createChildrenVector(r,a),u=t.metadata&&t.metadata.size>0?cr.createCustomMetadataVector(r,[...t.metadata].map(([h,c])=>{const f=r.createString(`${h}`),d=r.createString(`${c}`);return ye.startKeyValue(r),ye.addKey(r,f),ye.addValue(r,d),ye.endKeyValue(r)})):-1;return t.name&&(e=r.createString(t.name)),cr.startField(r),cr.addType(r,n),cr.addTypeType(r,o),cr.addChildren(r,l),cr.addNullable(r,!!t.nullable),e!==-1&&cr.addName(r,e),s!==-1&&cr.addDictionary(r,s),u!==-1&&cr.addCustomMetadata(r,u),cr.endField(r)}function B2(r,t){const e=t.nodes||[],n=t.buffers||[];cn.startNodesVector(r,e.length);for(const o of e.slice().reverse())Gn.encode(r,o);const s=r.endVector();cn.startBuffersVector(r,n.length);for(const o of n.slice().reverse())zr.encode(r,o);const i=r.endVector();return cn.startRecordBatch(r),cn.addLength(r,BigInt(t.length)),cn.addNodes(r,s),cn.addBuffers(r,i),cn.endRecordBatch(r)}function M2(r,t){const e=nr.encode(r,t.data);return is.startDictionaryBatch(r),is.addId(r,BigInt(t.id)),is.addIsDelta(r,t.isDelta),is.addData(r,e),is.endDictionaryBatch(r)}function k2(r,t){return Kx.createFieldNode(r,BigInt(t.length),BigInt(t.nullCount))}function j2(r,t){return Gx.createBuffer(r,BigInt(t.offset),BigInt(t.length))}const U2=(()=>{const r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256})(),Gf=r=>`Expected ${Yt[r]} Message in stream, but was null or length 0.`,Kf=r=>`Header pointer of flatbuffer-encoded ${Yt[r]} Message is null or length 0.`,Zx=(r,t)=>`Expected to read ${r} metadata bytes, but only read ${t}.`,tg=(r,t)=>`Expected to read ${r} bytes for message body, but only read ${t}.`;class eg{constructor(t){this.source=t instanceof uu?t:new uu(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?se:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Gf(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=Ht(this.source.read(t));if(e.byteLength<t)throw new Error(tg(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){const e=Yt.Schema,n=this.readMessage(e),s=n==null?void 0:n.header();if(t&&!s)throw new Error(Kf(e));return s}readMetadataLength(){const t=this.source.read(gc),e=t&&new ws(t),n=(e==null?void 0:e.readInt32(0))||0;return{done:n===0,value:n}}readMetadata(t){const e=this.source.read(t);if(!e)return se;if(e.byteLength<t)throw new Error(Zx(t,e.byteLength));return{done:!1,value:Pe.decode(e)}}}class $2{constructor(t,e){this.source=t instanceof Is?t:fm(t)?new cu(t,e):new Is(t)}[Symbol.asyncIterator](){return this}next(){return Rt(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?se:t})}throw(t){return Rt(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return Rt(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return Rt(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Gf(t));return e.value})}readMessageBody(t){return Rt(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const e=Ht(yield this.source.read(t));if(e.byteLength<t)throw new Error(tg(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(t=!1){return Rt(this,void 0,void 0,function*(){const e=Yt.Schema,n=yield this.readMessage(e),s=n==null?void 0:n.header();if(t&&!s)throw new Error(Kf(e));return s})}readMetadataLength(){return Rt(this,void 0,void 0,function*(){const t=yield this.source.read(gc),e=t&&new ws(t),n=(e==null?void 0:e.readInt32(0))||0;return{done:n===0,value:n}})}readMetadata(t){return Rt(this,void 0,void 0,function*(){const e=yield this.source.read(t);if(!e)return se;if(e.byteLength<t)throw new Error(Zx(t,e.byteLength));return{done:!1,value:Pe.decode(e)}})}}class z2 extends eg{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof c0?t:new c0(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Pe.fromJSON(t.schema,Yt.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];return this._body=e.data.columns,{done:!1,value:Pe.fromJSON(e,Yt.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];return this._body=e.columns,{done:!1,value:Pe.fromJSON(e,Yt.RecordBatch)}}return this._body=[],se}readMessageBody(t){return e(this._body);function e(n){return(n||[]).reduce((s,i)=>[...s,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE_ID&&[i.TYPE_ID]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...e(i.children)],[])}}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Gf(t));return e.value}readSchema(){const t=Yt.Schema,e=this.readMessage(t),n=e==null?void 0:e.header();if(!e||!n)throw new Error(Kf(t));return n}}const gc=4,Yh="ARROW1",ma=new Uint8Array(Yh.length);for(let r=0;r<Yh.length;r+=1)ma[r]=Yh.codePointAt(r);function Xf(r,t=0){for(let e=-1,n=ma.length;++e<n;)if(ma[e]!==r[t+e])return!1;return!0}const el=ma.length,rg=el+gc,q2=el*2+gc;class yr extends zf{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return Bi(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return hr.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return hr.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof yr?t:kh(t)?Y2(t):fm(t)?X2(t):Bi(t)?Rt(this,void 0,void 0,function*(){return yield yr.from(yield t)}):dm(t)||If(t)||pm(t)||Gs(t)?K2(new Is(t)):G2(new uu(t))}static readAll(t){return t instanceof yr?t.isSync()?_0(t):v0(t):kh(t)||ArrayBuffer.isView(t)||Xa(t)||hm(t)?_0(t):v0(t)}}class pu extends yr{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return $r(this,arguments,function*(){yield kt(yield*Tl(gi(this[Symbol.iterator]())))})}}class yu extends yr{constructor(t){super(t),this._impl=t}readAll(){var t,e,n,s;return Rt(this,void 0,void 0,function*(){const i=new Array;try{for(var o=!0,a=gi(this),l;l=yield a.next(),t=l.done,!t;o=!0){s=l.value,o=!1;const u=s;i.push(u)}}catch(u){e={error:u}}finally{try{!o&&!t&&(n=a.return)&&(yield n.call(a))}finally{if(e)throw e.error}}return i})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class ng extends pu{constructor(t){super(t),this._impl=t}}class V2 extends yu{constructor(t){super(t),this._impl=t}}class ig{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const n=this._loadVectors(t,e,this.schema.fields),s=zt({type:new Fe(this.schema.fields),length:t.length,children:n});return new Ve(this.schema,s)}_loadDictionaryBatch(t,e){const{id:n,isDelta:s}=t,{dictionaries:i,schema:o}=this,a=i.get(n);if(s||!a){const l=o.dictionaries.get(n),u=this._loadVectors(t.data,e,[l]);return(a&&s?a.concat(new Gt(u)):new Gt(u)).memoize()}return a.memoize()}_loadVectors(t,e,n){return new Vx(e,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(n)}}class mu extends ig{constructor(t,e){super(e),this._reader=kh(t)?new z2(this._handle=t):new eg(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=og(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):se}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):se}next(){if(this.closed)return se;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),s=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),s=e.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(n,s);this.dictionaries.set(n.id,i)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Yf(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class xu extends ig{constructor(t,e){super(e),this._reader=new $2(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Rt(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return Rt(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=og(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return Rt(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):se})}return(t){return Rt(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):se})}next(){return Rt(this,void 0,void 0,function*(){if(this.closed)return se;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),s=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),s=yield e.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(n,s);this.dictionaries.set(n.id,i)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Yf(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return Rt(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class sg extends mu{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,e){super(t instanceof h0?t:new h0(t),e)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(n&&this._handle.seek(n.offset)){const s=this._reader.readMessage(Yt.RecordBatch);if(s!=null&&s.isRecordBatch()){const i=s.header(),o=this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(i,o)}}return null}_readDictionaryBatch(t){var e;const n=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(n&&this._handle.seek(n.offset)){const s=this._reader.readMessage(Yt.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const i=s.header(),o=this._reader.readMessageBody(s.bodyLength),a=this._loadDictionaryBatch(i,o);this.dictionaries.set(i.id,a)}}}_readFooter(){const{_handle:t}=this,e=t.size-rg,n=t.readInt32(e),s=t.readAt(e-n,n);return ya.decode(s)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(t)}return null}}class H2 extends xu{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...e){const n=typeof e[0]!="number"?e.shift():void 0,s=e[0]instanceof Map?e.shift():void 0;super(t instanceof cu?t:new cu(t,n),s)}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return Rt(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)})}readRecordBatch(t){var e;return Rt(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(n&&(yield this._handle.seek(n.offset))){const s=yield this._reader.readMessage(Yt.RecordBatch);if(s!=null&&s.isRecordBatch()){const i=s.header(),o=yield this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(i,o)}}return null})}_readDictionaryBatch(t){var e;return Rt(this,void 0,void 0,function*(){const n=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(n&&(yield this._handle.seek(n.offset))){const s=yield this._reader.readMessage(Yt.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const i=s.header(),o=yield this._reader.readMessageBody(s.bodyLength),a=this._loadDictionaryBatch(i,o);this.dictionaries.set(i.id,a)}}})}_readFooter(){return Rt(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-rg,n=yield t.readInt32(e),s=yield t.readAt(e-n,n);return ya.decode(s)})}_readNextMessageAndValidate(t){return Rt(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class W2 extends mu{constructor(t,e){super(t,e)}_loadVectors(t,e,n){return new s2(e,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(n)}}function og(r,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:r.autoDestroy}function*_0(r){const t=yr.from(r);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function v0(r){return $r(this,arguments,function*(){const e=yield kt(yr.from(r));try{if(!(yield kt(e.open({autoDestroy:!1}))).closed)do yield yield kt(e);while(!(yield kt(e.reset().open())).closed)}finally{yield kt(e.cancel())}})}function Y2(r){return new pu(new W2(r))}function G2(r){const t=r.peek(el+7&-8);return t&&t.byteLength>=4?Xf(t)?new ng(new sg(r.read())):new pu(new mu(r)):new pu(new mu(function*(){}()))}function K2(r){return Rt(this,void 0,void 0,function*(){const t=yield r.peek(el+7&-8);return t&&t.byteLength>=4?Xf(t)?new ng(new sg(yield r.read())):new yu(new xu(r)):new yu(new xu(function(){return $r(this,arguments,function*(){})}()))})}function X2(r){return Rt(this,void 0,void 0,function*(){const{size:t}=yield r.stat(),e=new cu(r,t);return t>=q2&&Xf(yield e.readAt(0,el+7&-8))?new V2(new H2(e)):new yu(new xu(e))})}class ce extends jt{static assemble(...t){const e=s=>s.flatMap(i=>Array.isArray(i)?e(i):i instanceof Ve?i.data.children:i.data),n=new ce;return n.visitMany(e(t)),n}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof Gt)return this.visitMany(t.data),this;const{type:e}=t;if(!_t.isDictionary(e)){const{length:n}=t;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(_t.isUnion(e))this.nodes.push(new Gn(n,0));else{const{nullCount:s}=t;_t.isNull(e)||gr.call(this,s<=0?new Uint8Array(0):tu(t.offset,n,t.nullBitmap)),this.nodes.push(new Gn(n,s))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function gr(r){const t=r.byteLength+7&-8;return this.buffers.push(r),this.bufferRegions.push(new zr(this._byteLength,t)),this._byteLength+=t,this}function J2(r){var t;const{type:e,length:n,typeIds:s,valueOffsets:i}=r;if(gr.call(this,s),e.mode===Me.Sparse)return Gh.call(this,r);if(e.mode===Me.Dense){if(r.offset<=0)return gr.call(this,i),Gh.call(this,r);{const o=new Int32Array(n),a=Object.create(null),l=Object.create(null);for(let u,h,c=-1;++c<n;)(u=s[c])!==void 0&&((h=a[u])===void 0&&(h=a[u]=i[c]),o[c]=i[c]-h,l[u]=((t=l[u])!==null&&t!==void 0?t:0)+1);gr.call(this,o),this.visitMany(r.children.map((u,h)=>{const c=e.typeIds[h],f=a[c],d=l[c];return u.slice(f,Math.min(n,d))}))}}return this}function Q2(r){let t;return r.nullCount>=r.length?gr.call(this,new Uint8Array(0)):(t=r.values)instanceof Uint8Array?gr.call(this,tu(r.offset,r.length,t)):gr.call(this,eu(r.values))}function Fn(r){return gr.call(this,r.values.subarray(0,r.length*r.stride))}function ag(r){const{length:t,values:e,valueOffsets:n}=r,{[0]:s,[t]:i}=n,o=Math.min(i-s,e.byteLength-s);return gr.call(this,mm(-s,t+1,n)),gr.call(this,e.subarray(s,s+o)),this}function Jf(r){const{length:t,valueOffsets:e}=r;if(e){const{[0]:n,[t]:s}=e;return gr.call(this,mm(-n,t+1,e)),this.visit(r.children[0].slice(n,s-n))}return this.visit(r.children[0])}function Gh(r){return this.visitMany(r.type.children.map((t,e)=>r.children[e]).filter(Boolean))[0]}ce.prototype.visitBool=Q2;ce.prototype.visitInt=Fn;ce.prototype.visitFloat=Fn;ce.prototype.visitUtf8=ag;ce.prototype.visitBinary=ag;ce.prototype.visitFixedSizeBinary=Fn;ce.prototype.visitDate=Fn;ce.prototype.visitTimestamp=Fn;ce.prototype.visitTime=Fn;ce.prototype.visitDecimal=Fn;ce.prototype.visitList=Jf;ce.prototype.visitStruct=Gh;ce.prototype.visitUnion=J2;ce.prototype.visitInterval=Fn;ce.prototype.visitDuration=Fn;ce.prototype.visitFixedSizeList=Jf;ce.prototype.visitMap=Jf;class lg extends zf{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new Cl,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,We(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return Bi(t)?t.then(e=>this.writeAll(e)):Gs(t)?ed(this,t):td(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){return t===this._sink||t instanceof Cl?this._sink=t:(this._sink=new Cl,t&&mA(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&xA(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!e||!Vh(e,this._schema))&&(e==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Re&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof Ve&&!(e=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(e&&!Vh(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof Ve?t instanceof Yf||this._writeRecordBatch(t):t instanceof Re?this.writeAll(t.batches):Xa(t)&&this.writeAll(t)}_writeMessage(t,e=8){const n=e-1,s=Pe.encode(t),i=s.byteLength,o=this._writeLegacyIpcFormat?4:8,a=i+o+n&~n,l=a-i-o;return t.headerType===Yt.RecordBatch?this._recordBatchBlocks.push(new Wn(a,t.bodyLength,this._position)):t.headerType===Yt.DictionaryBatch&&this._dictionaryBlocks.push(new Wn(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),i>0&&this._write(s),this._writePadding(l)}_write(t){if(this._started){const e=Ht(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(Pe.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(ma)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:n,bufferRegions:s,buffers:i}=ce.assemble(t),o=new nr(t.numRows,n,s),a=Pe.from(o,e);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(i)}_writeDictionaryBatch(t,e,n=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:s,nodes:i,bufferRegions:o,buffers:a}=ce.assemble(new Gt([t])),l=new nr(t.length,i,o),u=new Wr(l,e,n),h=Pe.from(u,s);return this._writeMessage(h)._writeBodyBuffers(a)}_writeBodyBuffers(t){let e,n,s;for(let i=-1,o=t.length;++i<o;)(e=t[i])&&(n=e.byteLength)>0&&(this._write(e),(s=(n+7&-8)-n)>0&&this._writePadding(s));return this}_writeDictionaries(t){for(let[e,n]of t.dictionaries){let s=this._dictionaryDeltaOffsets.get(e)||0;if(s===0||(n=n==null?void 0:n.slice(s)).length>0)for(const i of n.data)this._writeDictionaryBatch(i,e,s>0),s+=i.length}return this}}class Qf extends lg{static writeAll(t,e){const n=new Qf(e);return Bi(t)?t.then(s=>n.writeAll(s)):Gs(t)?ed(n,t):td(n,t)}}class Zf extends lg{static writeAll(t){const e=new Zf;return Bi(t)?t.then(n=>e.writeAll(n)):Gs(t)?ed(e,t):td(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=ya.encode(new ya(t,Ee.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function td(r,t){let e=t;t instanceof Re&&(e=t.batches,r.reset(void 0,t.schema));for(const n of e)r.write(n);return r.finish()}function ed(r,t){var e,n,s,i,o,a,l;return Rt(this,void 0,void 0,function*(){try{for(e=!0,n=gi(t);s=yield n.next(),i=s.done,!i;e=!0){l=s.value,e=!1;const u=l;r.write(u)}}catch(u){o={error:u}}finally{try{!e&&!i&&(a=n.return)&&(yield a.call(n))}finally{if(o)throw o.error}}return r.finish()})}function Z2(r,t="stream"){return(t==="stream"?Qf:Zf).writeAll(r).toUint8Array(!0)}var tT=Object.create,ug=Object.defineProperty,eT=Object.getOwnPropertyDescriptor,rT=Object.getOwnPropertyNames,nT=Object.getPrototypeOf,iT=Object.prototype.hasOwnProperty,sT=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),oT=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of rT(t))!iT.call(r,s)&&s!==e&&ug(r,s,{get:()=>t[s],enumerable:!(n=eT(t,s))||n.enumerable});return r},aT=(r,t,e)=>(e=r!=null?tT(nT(r)):{},oT(t||!r||!r.__esModule?ug(e,"default",{value:r,enumerable:!0}):e,r)),lT=sT((r,t)=>{t.exports=Worker}),uT=(r=>(r[r.UNDEFINED=0]="UNDEFINED",r[r.AUTOMATIC=1]="AUTOMATIC",r[r.READ_ONLY=2]="READ_ONLY",r[r.READ_WRITE=3]="READ_WRITE",r))(uT||{}),cT=(r=>(r[r.IDENTIFIER=0]="IDENTIFIER",r[r.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",r[r.STRING_CONSTANT=2]="STRING_CONSTANT",r[r.OPERATOR=3]="OPERATOR",r[r.KEYWORD=4]="KEYWORD",r[r.COMMENT=5]="COMMENT",r))(cT||{}),rd=(r=>(r[r.NONE=0]="NONE",r[r.DEBUG=1]="DEBUG",r[r.INFO=2]="INFO",r[r.WARNING=3]="WARNING",r[r.ERROR=4]="ERROR",r))(rd||{}),hT=(r=>(r[r.NONE=0]="NONE",r[r.CONNECT=1]="CONNECT",r[r.DISCONNECT=2]="DISCONNECT",r[r.OPEN=3]="OPEN",r[r.QUERY=4]="QUERY",r[r.INSTANTIATE=5]="INSTANTIATE",r))(hT||{}),fT=(r=>(r[r.NONE=0]="NONE",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR",r[r.START=3]="START",r[r.RUN=4]="RUN",r[r.CAPTURE=5]="CAPTURE",r))(fT||{}),dT=(r=>(r[r.NONE=0]="NONE",r[r.WEB_WORKER=1]="WEB_WORKER",r[r.NODE_WORKER=2]="NODE_WORKER",r[r.BINDINGS=3]="BINDINGS",r[r.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",r))(dT||{}),pT=(r=>(r[r.SUCCESS=0]="SUCCESS",r))(pT||{}),yT=class{constructor(r,t){this._bindings=r,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(r){return r(this._bindings,this._conn)}async query(r){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:r});let t=await this._bindings.runQuery(this._conn,r),e=yr.from(t);return console.assert(e.isSync(),"Reader is not sync"),console.assert(e.isFile(),"Reader is not file"),new Re(e)}async send(r){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:r});let t=await this._bindings.startPendingQuery(this._conn,r);for(;t==null;)t=await this._bindings.pollPendingQuery(this._conn);let e=new cg(this._bindings,this._conn,t),n=await yr.from(e);return console.assert(n.isAsync()),console.assert(n.isStream()),n}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(r){return await this._bindings.getTableNames(this._conn,r)}async prepare(r){let t=await this._bindings.createPrepared(this._conn,r);return new mT(this._bindings,this._conn,t)}async insertArrowTable(r,t){let e=Z2(r,"stream");await this.insertArrowFromIPCStream(e,t)}async insertArrowFromIPCStream(r,t){await this._bindings.insertArrowFromIPCStream(this._conn,r,t)}async insertCSVFromPath(r,t){await this._bindings.insertCSVFromPath(this._conn,r,t)}async insertJSONFromPath(r,t){await this._bindings.insertJSONFromPath(this._conn,r,t)}},cg=class{constructor(r,t,e){this.db=r,this.conn=t,this.header=e,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let r;return this._inFlight!=null?(r=await this._inFlight,this._inFlight=null):r=await this.db.fetchQueryResults(this.conn),this._depleted=r.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:r}}[Symbol.asyncIterator](){return this}},mT=class{constructor(r,t,e){this.bindings=r,this.connectionId=t,this.statementId=e}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...r){let t=await this.bindings.runPrepared(this.connectionId,this.statementId,r),e=yr.from(t);return console.assert(e.isSync()),console.assert(e.isFile()),new Re(e)}async send(...r){let t=await this.bindings.sendPrepared(this.connectionId,this.statementId,r),e=new cg(this.bindings,this.connectionId,t),n=await yr.from(e);return console.assert(n.isAsync()),console.assert(n.isStream()),n}},xT=(r=>(r.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",r.CLOSE_PREPARED="CLOSE_PREPARED",r.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",r.CONNECT="CONNECT",r.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",r.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",r.CREATE_PREPARED="CREATE_PREPARED",r.DISCONNECT="DISCONNECT",r.DROP_FILE="DROP_FILE",r.DROP_FILES="DROP_FILES",r.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",r.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",r.FLUSH_FILES="FLUSH_FILES",r.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",r.GET_TABLE_NAMES="GET_TABLE_NAMES",r.GET_VERSION="GET_VERSION",r.GLOB_FILE_INFOS="GLOB_FILE_INFOS",r.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",r.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",r.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",r.INSTANTIATE="INSTANTIATE",r.OPEN="OPEN",r.PING="PING",r.POLL_PENDING_QUERY="POLL_PENDING_QUERY",r.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",r.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",r.REGISTER_FILE_URL="REGISTER_FILE_URL",r.RESET="RESET",r.RUN_PREPARED="RUN_PREPARED",r.RUN_QUERY="RUN_QUERY",r.SEND_PREPARED="SEND_PREPARED",r.START_PENDING_QUERY="START_PENDING_QUERY",r.TOKENIZE="TOKENIZE",r))(xT||{}),gT=(r=>(r.CONNECTION_INFO="CONNECTION_INFO",r.ERROR="ERROR",r.FEATURE_FLAGS="FEATURE_FLAGS",r.FILE_BUFFER="FILE_BUFFER",r.FILE_INFOS="FILE_INFOS",r.FILE_SIZE="FILE_SIZE",r.FILE_STATISTICS="FILE_STATISTICS",r.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",r.LOG="LOG",r.OK="OK",r.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",r.QUERY_PLAN="QUERY_PLAN",r.QUERY_RESULT="QUERY_RESULT",r.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",r.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",r.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",r.REGISTERED_FILE="REGISTERED_FILE",r.SCRIPT_TOKENS="SCRIPT_TOKENS",r.SUCCESS="SUCCESS",r.TABLE_NAMES="TABLE_NAMES",r.VERSION_STRING="VERSION_STRING",r))(gT||{}),qt=class{constructor(r,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=r,this.data=t,this.promise=new Promise((e,n)=>{this.promiseResolver=e,this.promiseRejecter=n})}};function Rl(r){switch(r.typeId){case U.Binary:return{sqlType:"binary"};case U.Bool:return{sqlType:"bool"};case U.Date:return{sqlType:"date"};case U.DateDay:return{sqlType:"date32[d]"};case U.DateMillisecond:return{sqlType:"date64[ms]"};case U.Decimal:{let t=r;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case U.Float:return{sqlType:"float"};case U.Float16:return{sqlType:"float16"};case U.Float32:return{sqlType:"float32"};case U.Float64:return{sqlType:"float64"};case U.Int:return{sqlType:"int32"};case U.Int16:return{sqlType:"int16"};case U.Int32:return{sqlType:"int32"};case U.Int64:return{sqlType:"int64"};case U.Uint16:return{sqlType:"uint16"};case U.Uint32:return{sqlType:"uint32"};case U.Uint64:return{sqlType:"uint64"};case U.Uint8:return{sqlType:"uint8"};case U.IntervalDayTime:return{sqlType:"interval[dt]"};case U.IntervalYearMonth:return{sqlType:"interval[m]"};case U.List:return{sqlType:"list",valueType:Rl(r.valueType)};case U.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:r.byteWidth};case U.Null:return{sqlType:"null"};case U.Utf8:return{sqlType:"utf8"};case U.Struct:return{sqlType:"struct",fields:r.children.map(t=>Kh(t.name,t.type))};case U.Map:{let t=r;return{sqlType:"map",keyType:Rl(t.keyType),valueType:Rl(t.valueType)}}case U.Time:return{sqlType:"time[s]"};case U.TimeMicrosecond:return{sqlType:"time[us]"};case U.TimeMillisecond:return{sqlType:"time[ms]"};case U.TimeNanosecond:return{sqlType:"time[ns]"};case U.TimeSecond:return{sqlType:"time[s]"};case U.Timestamp:return{sqlType:"timestamp",timezone:r.timezone||void 0};case U.TimestampSecond:return{sqlType:"timestamp[s]",timezone:r.timezone||void 0};case U.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:r.timezone||void 0};case U.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:r.timezone||void 0};case U.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:r.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(r.toString()))}function Kh(r,t){let e=Rl(t);return e.name=r,e}var _T=new TextEncoder,vT=class{constructor(r,t=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=r,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),t!=null&&this.attach(t)}get logger(){return this._logger}attach(r){this._worker=r,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,e)=>{this._workerShutdownResolver=t})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(r,t=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let e=this._nextMessageId++;return this._pendingRequests.set(e,r),this._worker.postMessage({messageId:e,type:r.type,data:r.data},t),await r.promise}onMessage(r){var t;let e=r.data;switch(e.type){case"LOG":{this._logger.log(e.data);return}case"INSTANTIATE_PROGRESS":{for(let s of this._onInstantiationProgress)s(e.data);return}}let n=this._pendingRequests.get(e.requestId);if(!n){console.warn("unassociated response: [".concat(e.requestId,", ").concat(e.type.toString(),"]"));return}if(this._pendingRequests.delete(e.requestId),e.type=="ERROR"){let s=new Error(e.data.message);s.name=e.data.name,(t=Object.getOwnPropertyDescriptor(s,"stack"))!=null&&t.writable&&(s.stack=e.data.stack),n.promiseRejecter(s);return}switch(n.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(e.type=="OK"){n.promiseResolver(e.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],e.type=="OK"){n.promiseResolver(e.data);return}break;case"GLOB_FILE_INFOS":if(e.type=="FILE_INFOS"){n.promiseResolver(e.data);return}break;case"GET_VERSION":if(e.type=="VERSION_STRING"){n.promiseResolver(e.data);return}break;case"GET_FEATURE_FLAGS":if(e.type=="FEATURE_FLAGS"){n.promiseResolver(e.data);return}break;case"GET_TABLE_NAMES":if(e.type=="TABLE_NAMES"){n.promiseResolver(e.data);return}break;case"TOKENIZE":if(e.type=="SCRIPT_TOKENS"){n.promiseResolver(e.data);return}break;case"COPY_FILE_TO_BUFFER":if(e.type=="FILE_BUFFER"){n.promiseResolver(e.data);return}break;case"EXPORT_FILE_STATISTICS":if(e.type=="FILE_STATISTICS"){n.promiseResolver(e.data);return}break;case"CONNECT":if(e.type=="CONNECTION_INFO"){n.promiseResolver(e.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(e.type=="QUERY_RESULT"){n.promiseResolver(e.data);return}break;case"SEND_PREPARED":if(e.type=="QUERY_RESULT_HEADER"){n.promiseResolver(e.data);return}break;case"START_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){n.promiseResolver(e.data);return}break;case"POLL_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){n.promiseResolver(e.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],e.type=="SUCCESS"){n.promiseResolver(e.data);return}break;case"FETCH_QUERY_RESULTS":if(e.type=="QUERY_RESULT_CHUNK"){n.promiseResolver(e.data);return}break;case"CREATE_PREPARED":if(e.type=="PREPARED_STATEMENT_ID"){n.promiseResolver(e.data);return}break}n.promiseRejecter(new Error("unexpected response type: ".concat(e.type.toString())))}onError(r){console.error(r),console.error("error in duckdb worker: ".concat(r.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let r=new qt("RESET",null);return await this.postTask(r)}async ping(){let r=new qt("PING",null);await this.postTask(r)}async dropFile(r){let t=new qt("DROP_FILE",r);return await this.postTask(t)}async dropFiles(){let r=new qt("DROP_FILES",null);return await this.postTask(r)}async flushFiles(){let r=new qt("FLUSH_FILES",null);return await this.postTask(r)}async instantiate(r,t=null,e=n=>{}){this._onInstantiationProgress.push(e);let n=new qt("INSTANTIATE",[r,t]);return await this.postTask(n)}async getVersion(){let r=new qt("GET_VERSION",null);return await this.postTask(r)}async getFeatureFlags(){let r=new qt("GET_FEATURE_FLAGS",null);return await this.postTask(r)}async open(r){let t=new qt("OPEN",r);await this.postTask(t)}async tokenize(r){let t=new qt("TOKENIZE",r);return await this.postTask(t)}async connectInternal(){let r=new qt("CONNECT",null);return await this.postTask(r)}async connect(){let r=await this.connectInternal();return new yT(this,r)}async disconnect(r){let t=new qt("DISCONNECT",r);await this.postTask(t)}async runQuery(r,t){let e=new qt("RUN_QUERY",[r,t]);return await this.postTask(e)}async startPendingQuery(r,t){let e=new qt("START_PENDING_QUERY",[r,t]);return await this.postTask(e)}async pollPendingQuery(r){let t=new qt("POLL_PENDING_QUERY",r);return await this.postTask(t)}async cancelPendingQuery(r){let t=new qt("CANCEL_PENDING_QUERY",r);return await this.postTask(t)}async fetchQueryResults(r){let t=new qt("FETCH_QUERY_RESULTS",r);return await this.postTask(t)}async getTableNames(r,t){let e=new qt("GET_TABLE_NAMES",[r,t]);return await this.postTask(e)}async createPrepared(r,t){let e=new qt("CREATE_PREPARED",[r,t]);return await this.postTask(e)}async closePrepared(r,t){let e=new qt("CLOSE_PREPARED",[r,t]);await this.postTask(e)}async runPrepared(r,t,e){let n=new qt("RUN_PREPARED",[r,t,e]);return await this.postTask(n)}async sendPrepared(r,t,e){let n=new qt("SEND_PREPARED",[r,t,e]);return await this.postTask(n)}async globFiles(r){let t=new qt("GLOB_FILE_INFOS",r);return await this.postTask(t)}async registerFileText(r,t){let e=_T.encode(t);await this.registerFileBuffer(r,e)}async registerFileURL(r,t,e,n){t===void 0&&(t=r);let s=new qt("REGISTER_FILE_URL",[r,t,e,n]);await this.postTask(s)}async registerEmptyFileBuffer(r){let t=new qt("REGISTER_FILE_BUFFER",[r,new Uint8Array]);await this.postTask(t)}async registerFileBuffer(r,t){let e=new qt("REGISTER_FILE_BUFFER",[r,t]);await this.postTask(e,[t.buffer])}async registerFileHandle(r,t,e,n){let s=new qt("REGISTER_FILE_HANDLE",[r,t,e,n]);await this.postTask(s,[])}async collectFileStatistics(r,t){let e=new qt("COLLECT_FILE_STATISTICS",[r,t]);await this.postTask(e,[])}async exportFileStatistics(r){let t=new qt("EXPORT_FILE_STATISTICS",r);return await this.postTask(t,[])}async copyFileToBuffer(r){let t=new qt("COPY_FILE_TO_BUFFER",r);return await this.postTask(t)}async copyFileToPath(r,t){let e=new qt("COPY_FILE_TO_PATH",[r,t]);await this.postTask(e)}async insertArrowFromIPCStream(r,t,e){if(t.length==0)return;let n=new qt("INSERT_ARROW_FROM_IPC_STREAM",[r,t,e]);await this.postTask(n,[t.buffer])}async insertCSVFromPath(r,t,e){if(e.columns!==void 0){let s=[];for(let i in e.columns){let o=e.columns[i];s.push(Kh(i,o))}e.columnsFlat=s,delete e.columns}let n=new qt("IMPORT_CSV_FROM_PATH",[r,t,e]);await this.postTask(n)}async insertJSONFromPath(r,t,e){if(e.columns!==void 0){let s=[];for(let i in e.columns){let o=e.columns[i];s.push(Kh(i,o))}e.columnsFlat=s,delete e.columns}let n=new qt("IMPORT_JSON_FROM_PATH",[r,t,e]);await this.postTask(n)}},ST=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),bT=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),ET=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),AT=()=>(async r=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(r)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),TT={name:"@duckdb/duckdb-wasm",version:"1.28.1-dev99.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^14.0.1"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.18.0","@typescript-eslint/parser":"^6.18.0",esbuild:"^0.19.10",eslint:"^8.56.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.33.2","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.1","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.10.1",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.2",puppeteer:"^21.7.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.7",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},nd=TT.version.split(".");nd[0];nd[1];nd[2];var NT=()=>typeof navigator>"u",dh=null,ph=null,yh=null,mh=null,xh=null;async function wT(){return dh==null&&(dh=typeof BigInt64Array<"u"),ph==null&&(ph=await bT()),yh==null&&(yh=await AT()),mh==null&&(mh=await ET()),xh==null&&(xh=await ST()),{bigInt64Array:dh,crossOriginIsolated:NT()||globalThis.crossOriginIsolated||!1,wasmExceptions:ph,wasmSIMD:mh,wasmThreads:yh,wasmBulkMemory:xh}}async function OT(r){let t=await wT();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&r.coi)return{mainModule:r.coi.mainModule,mainWorker:r.coi.mainWorker,pthreadWorker:r.coi.pthreadWorker};if(r.eh)return{mainModule:r.eh.mainModule,mainWorker:r.eh.mainWorker,pthreadWorker:null}}return{mainModule:r.mvp.mainModule,mainWorker:r.mvp.mainWorker,pthreadWorker:null}}aT(lT());function CT(){let r=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),r.decode(t))}CT();var IT=(r=>(r[r.BUFFER=0]="BUFFER",r[r.NODE_FS=1]="NODE_FS",r[r.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",r[r.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",r[r.HTTP=4]="HTTP",r[r.S3=5]="S3",r))(IT||{});const DT="/assets/duckdb-mvp-CI5K6Di1.wasm",RT="/assets/duckdb-browser-mvp.worker-BRLOR7bd.js",FT="/assets/duckdb-eh-BLkKBhS_.wasm",PT="/assets/duckdb-browser-eh.worker-BadpHMmr.js";class LT{constructor(t){lt(this,"level");this.level=t||rd.INFO}log(t){t.level<this.level||console.log(t.timestamp,t.value)}}async function BT(r){const t=await OT({mvp:{mainModule:DT,mainWorker:RT},eh:{mainModule:FT,mainWorker:PT},coi:{mainModule:"./duckdb-coi.wasm",mainWorker:"./duckdb-browser-coi.worker.js",pthreadWorker:"./duckdb-browser-coi.pthread.worker.js"}}),e=new LT(rd.WARNING),n=new Worker(t.mainWorker),s=new vT(e,n);await s.instantiate(t.mainModule,t.pthreadWorker);const i=await s.connect();return await i.query("CREATE TABLE IF NOT EXISTS cells (r INTEGER, c INTEGER, v STRING, f STRING, PRIMARY KEY (r, c))"),await i.query("CREATE TABLE IF NOT EXISTS dependencies (ref STRING, dependant STRING, PRIMARY KEY (ref, dependant))"),new MT(s,i,n)}class MT{constructor(t,e,n){lt(this,"db");lt(this,"conn");lt(this,"worker");this.db=t,this.conn=e,this.worker=n}async setGrid(t){await this.conn.query("BEGIN TRANSACTION;");for(const[e,n]of t){const s=Li(e);await this.upsertCell(s,n)}await this.conn.query("COMMIT;")}async set(t,e){await this.conn.query("BEGIN TRANSACTION;"),await this.upsertCell(t,e),await this.conn.query("COMMIT;")}async get(t){const n=(await this.conn.query(`SELECT * FROM cells WHERE r = ${t.r} AND c = ${t.c}`)).toArray();if(n.length!==0)return{v:n[0].v.toString(),f:n[0].f.toString()}}async has(t){return(await this.conn.query(`SELECT r, c FROM cells WHERE r = ${t.r} AND c = ${t.c}`)).numRows>0}async delete(t){await this.conn.query("BEGIN TRANSACTION;");const n=(await this.conn.query(`DELETE FROM cells WHERE r = ${t.r} AND c = ${t.c}`)).numRows>0;return await this.deleteDependency(t),await this.conn.query("COMMIT;"),n}async getGrid(t){const[e,n]=t,s=await this.conn.query(`SELECT * FROM cells
       WHERE r >= ${e.r} AND r <= ${n.r} AND c >= ${e.c} AND c <= ${n.c}`),i=new Map,o=s.toArray();for(const a of o){const l=a.toJSON();i.set(le({r:l.r,c:l.c}),{v:l.v.toString(),f:l.f.toString()})}return i}async findEdge(t,e,n){const[s,i]=n,o=e==="up"||e==="down",a=e==="up"||e==="left",l=o?"r":"c",u=o?"c":"r",h=t[u],c=s[l],f=i[l],d=await this.conn.query(`SELECT r, c FROM cells
       WHERE ${l} ${a?"<=":">="} ${t[l]}
       AND ${u} = ${h} AND ${l} >= ${c} AND ${l} <= ${f}
       ORDER BY ${l} ${a?"DESC":"ASC"}`);if(d.numRows===0)return{[u]:h,[l]:a?c:f};const m=d.toArray(),T=m[0];if(!(T[l]===t[l]))return{r:T.r,c:T.c};if(m.length===1)return{[u]:h,[l]:a?c:f};for(let v=1;v<m.length;v++){const _=m[v-1],S=m[v];if(S[l]!==_[l]+(a?-1:1))return _[l]==t[l]?{r:S.r,c:S.c}:{r:_.r,c:_.c}}return{r:m[m.length-1].r,c:m[m.length-1].c}}async buildDependantsMap(t){const e=Array.from(t),n=new Map;for(;e.length;){const s=e.filter(o=>!n.has(o)).map(o=>`'${o}'`);if(e.length=0,s.length===0)continue;const i=await this.conn.query(`SELECT * FROM dependencies WHERE ref IN (${s.join(", ")})`);for(const o of i.toArray()){const a=o.toJSON();n.has(a.ref)||n.set(a.ref,new Set),n.get(a.ref).add(a.dependant),e.push(a.dependant)}}return n}async close(){await this.conn.close(),await this.db.terminate(),await this.worker.terminate()}escape(t){return t.replace(/'/g,"''")}async upsertCell(t,e){if(await this.conn.query(`INSERT INTO cells
       VALUES (${t.r}, ${t.c}, '${this.escape(e.v||"")}', '${this.escape(e.f||"")}')
       ON CONFLICT (r, c)
       DO UPDATE 
       SET v = '${this.escape(e.v||"")}', f = '${this.escape(e.f||"")}'`),e.f)for(const n of pc(Of(e.f)))await this.conn.query(`INSERT INTO dependencies
           VALUES ('${n}', '${le(t)}')
           ON CONFLICT (ref, dependant)
           DO NOTHING`);else await this.deleteDependency(t)}async deleteDependency(t){await this.conn.query(`DELETE FROM dependencies WHERE dependant = '${le(t)}'`)}}class kT{constructor(){lt(this,"grids");this.grids=[]}set(t,e){let n=this.grids.find(s=>pn(t,s.range));n==null||n.grid.set(le(t),e)}get(t){let e=this.grids.find(n=>pn(t,n.range));return e==null?void 0:e.grid.get(le(t))}has(t){let e=this.grids.find(n=>pn(t,n.range));return(e==null?void 0:e.grid.has(le(t)))??!1}delete(t){let e=this.grids.find(n=>pn(t,n.range));return(e==null?void 0:e.grid.delete(le(t)))??!1}setGrid(t,e){this.grids.push({range:t,grid:e})}hasRange(t){return this.grids.find(n=>lm(t,n.range))!==void 0}evict(t){console.log("evicting",eA(t)),this.grids=this.grids.filter(e=>!JE(t,e.range))}async getGrid(t){const[e,n]=t,s=new Map;for(const i of Tf([e,n])){const o=this.get(i);o!==void 0&&s.set(le(i),o)}return s}}async function jT(r){const t=await BT();return new $T(t)}const UT=10;class $T{constructor(t){lt(this,"cache");lt(this,"store");this.cache=new kT,this.store=t}async set(t,e){this.cache.set(t,e),await this.store.set(t,e)}async get(t){if(this.cache.hasRange([t,t]))return this.cache.get(t);const e=await this.store.get(t);return e!==void 0?this.cache.set(t,e):this.cache.delete(t),e}async has(t){return this.cache.hasRange([t,t])?this.cache.has(t):await this.store.has(t)}async delete(t){return this.cache.delete(t),await this.store.delete(t)}async setGrid(t){const e=QE(t);this.cache.evict(e),await this.store.setGrid(t)}async getGrid(t){if(this.cache.hasRange(t))return this.cache.getGrid(t);const e=ZE(t,UT),n=await this.store.getGrid(e);return this.cache.setGrid(e,n),n}async findEdge(t,e,n){return this.store.findEdge(t,e,n)}async buildDependantsMap(t){return this.store.buildDependantsMap(t)}}const S0=23,b0=10,ar=100,de=23,E0=.5,pl="#D3D3D3",zT="#FFFFFF",gh="#000000",_h="#FFD580",qT="rgba(255, 213, 128, 0.1)",VT="#F0F0F0",HT="#FFD580",WT="center",on=50;class YT{constructor(t){lt(this,"sheet");lt(this,"container");lt(this,"formulaBar");lt(this,"cellLabel");lt(this,"formulaInput");lt(this,"sheetContainer");lt(this,"scrollContainer");lt(this,"dummyContainer");lt(this,"inputContainer");lt(this,"cellInput");lt(this,"gridCanvas");lt(this,"overlayCanvas");this.container=t,this.formulaBar=document.createElement("div"),this.formulaBar.style.height=`${S0}px`,this.formulaBar.style.margin=`${b0}px 0px`,this.formulaBar.style.display="flex",this.formulaBar.style.alignItems="center",this.formulaBar.style.borderTop=`1px solid ${pl}`,this.formulaBar.style.borderBottom=`1px solid ${pl}`,this.formulaBar.style.justifyContent="flex-start",this.cellLabel=document.createElement("div"),this.cellLabel.style.width="120px",this.cellLabel.style.textAlign="center",this.cellLabel.style.font="12px Arial",this.cellLabel.style.borderRight=`1px solid ${pl}`,this.formulaBar.appendChild(this.cellLabel),this.formulaInput=document.createElement("input"),this.formulaInput.style.margin="20px",this.formulaInput.style.width="100%",this.formulaInput.style.height="12px",this.formulaInput.style.border="none",this.formulaInput.style.font="12px Arial",this.formulaInput.style.outlineWidth="0",this.formulaBar.appendChild(this.formulaInput),this.sheetContainer=document.createElement("div"),this.sheetContainer.style.position="relative",this.sheetContainer.style.width="100%",this.sheetContainer.style.height=`calc(100% - ${S0+b0*2}px)`,this.scrollContainer=document.createElement("div"),this.scrollContainer.style.position="absolute",this.scrollContainer.style.overflow="auto",this.scrollContainer.style.width="100%",this.scrollContainer.style.height="100%",this.scrollContainer.style.zIndex="1",this.dummyContainer=document.createElement("div"),this.dummyContainer.style.margin="0px",this.dummyContainer.style.padding="0px",this.scrollContainer.appendChild(this.dummyContainer),this.inputContainer=document.createElement("div"),this.inputContainer.style.position="absolute",this.inputContainer.style.left="-1000px",this.inputContainer.style.width=ar+"px",this.inputContainer.style.height=de+"px",this.inputContainer.style.zIndex="1",this.inputContainer.style.margin="0px",this.cellInput=document.createElement("input"),this.cellInput.style.width="100%",this.cellInput.style.height="100%",this.cellInput.style.border="none",this.cellInput.style.outline=`2px solid ${_h}`,this.inputContainer.appendChild(this.cellInput),this.gridCanvas=this.sheetContainer.appendChild(document.createElement("canvas")),this.overlayCanvas=this.sheetContainer.appendChild(document.createElement("canvas")),this.sheetContainer.appendChild(this.scrollContainer),this.sheetContainer.appendChild(this.inputContainer),this.gridCanvas.style.position="absolute",this.overlayCanvas.style.position="absolute",this.overlayCanvas.style.zIndex="1",this.container.appendChild(this.formulaBar),this.container.appendChild(this.sheetContainer)}initialize(t){this.sheet=t,this.addEventListeners(),this.render()}render(){this.paintFormulaBar(),this.paintSheet(),this.paintOverlay()}async finishEditing(){this.isFormulaInputFocused()?(await this.sheet.setData(this.sheet.getActiveCell(),this.formulaInput.value),this.formulaInput.blur(),this.hideCellInput()):this.isCellInputFocused()&&(await this.sheet.setData(this.sheet.getActiveCell(),this.cellInput.value),this.cellInput.blur(),this.hideCellInput())}addEventListeners(){window.addEventListener("resize",()=>{this.render()}),this.scrollContainer.addEventListener("scroll",()=>{this.render()}),this.scrollContainer.addEventListener("mousedown",async t=>{await this.finishEditing(),this.sheet.selectStart(this.toRef(t.offsetX,t.offsetY)),this.render();const e=s=>{this.sheet.selectEnd(this.toRef(s.offsetX,s.offsetY)),this.render()},n=()=>{this.scrollContainer.removeEventListener("mousemove",e),this.scrollContainer.removeEventListener("mouseup",n)};this.scrollContainer.addEventListener("mousemove",e),this.scrollContainer.addEventListener("mouseup",n)}),this.scrollContainer.addEventListener("dblclick",t=>{this.showCellInput(),this.cellInput.focus(),t.preventDefault()}),document.addEventListener("keydown",t=>{if(this.isFormulaInputFocused()){this.handleFormulaInputKeydown(t);return}else if(this.isCellInputFocused()){this.handleCellInputKeydown(t);return}this.handleGridKeydown(t)}),document.addEventListener("keyup",()=>{if(this.isFormulaInputFocused()){this.cellInput.value=this.formulaInput.value;return}else if(this.isCellInputFocused()){this.formulaInput.value=this.cellInput.value;return}})}isFormulaInputFocused(){return document.activeElement===this.formulaInput}async handleFormulaInputKeydown(t){t.key==="Enter"?(await this.finishEditing(),this.sheet.move("down"),this.scrollIntoView(),t.preventDefault()):t.key==="Escape"?(this.formulaInput.value=await this.sheet.toInputString(this.sheet.getActiveCell()),this.hideCellInput(),this.formulaInput.blur(),t.preventDefault()):this.isCellInputShown()||this.showCellInput(!0,!0)}async handleCellInputKeydown(t){t.key==="Enter"?(t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView()):t.key==="Tab"?(t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView()):t.key.startsWith("Arrow")&&!this.hasFormulaInCellInput()?(t.preventDefault(),await this.finishEditing(),t.key==="ArrowDown"?this.sheet.move("down"):t.key==="ArrowUp"?this.sheet.move("up"):t.key==="ArrowLeft"?this.sheet.move("left"):t.key==="ArrowRight"&&this.sheet.move("right"),this.render(),this.scrollIntoView()):t.key==="Escape"&&this.hideCellInput()}async handleGridKeydown(t){const e=async(n,s,i)=>{t.preventDefault(),(s?this.sheet.resizeRange(n):i?await this.sheet.moveToEdge(n):this.sheet.move(n))&&(this.render(),this.scrollIntoView())};t.key==="ArrowDown"?e("down",t.shiftKey,t.metaKey):t.key==="ArrowUp"?e("up",t.shiftKey,t.metaKey):t.key==="ArrowLeft"?e("left",t.shiftKey,t.metaKey):t.key==="ArrowRight"&&e("right",t.shiftKey,t.metaKey),t.key==="Tab"?(t.preventDefault(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView()):t.key==="Enter"?(t.preventDefault(),this.sheet.hasRange()?(this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView()):(this.showCellInput(),this.cellInput.focus())):t.key==="Delete"||t.key==="Backspace"?(t.preventDefault(),await this.sheet.removeData()&&this.render()):!t.metaKey&&!t.ctrlKey&&this.isValidCellInput(t.key)&&this.showCellInput(!0)}get viewRange(){const t=this.scroll,e=this.viewport,n=Math.floor(t.top/de)+1,s=Math.ceil((t.top+e.height)/de)+1,i=Math.floor(t.left/ar)+1,o=Math.ceil((t.left+e.width)/ar)+1;return[{r:n,c:i},{r:s,c:o}]}scrollIntoView(t=this.sheet.getActiveCell()){const e=this.scroll,n=this.toBoundingRect(t,!0),s={left:e.left+on,top:e.top+de,width:this.viewport.width-on,height:this.viewport.height-de};let i=!1;n.left<s.left?(this.scroll={left:n.left-on},i=!0):n.left+n.width>s.left+s.width&&(this.scroll={left:n.left+n.width-s.width-on},i=!0),n.top<s.top?(this.scroll={top:n.top-de},i=!0):n.top+n.height>s.top+s.height&&(this.scroll={top:n.top+n.height-s.height-de},i=!0),i&&this.render()}isCellInputShown(){return this.inputContainer.style.left!=="-1000px"}hasFormulaInCellInput(){return this.cellInput.value.startsWith("=")}async showCellInput(t=!1,e=!1){const n=this.sheet.getActiveCell(),s=this.toBoundingRect(n);this.inputContainer.style.left=s.left+"px",this.inputContainer.style.top=s.top+"px",this.cellInput.value=t?"":await this.sheet.toInputString(n),e||this.cellInput.focus()}hideCellInput(){this.inputContainer.style.left="-1000px",this.cellInput.value="",this.cellInput.blur()}isValidCellInput(t){return/^[a-zA-Z0-9 =-]$/.test(t)}isCellInputFocused(){return document.activeElement===this.cellInput}toRef(t,e){const n=Math.floor(e/de),s=Math.floor((t+on)/ar);return{r:n,c:s}}toBoundingRect(t,e=!1){const n=this.scroll;return{left:(t.c-1)*ar+on-(e?0:n.left),top:(t.r-1)*de+de-(e?0:n.top),width:ar,height:de}}expandBoundingRect(t,e){return{left:Math.min(t.left,e.left),top:Math.min(t.top,e.top),width:Math.abs(t.left-e.left)+ar,height:Math.abs(t.top-e.top)+de}}async paintFormulaBar(){const t=this.sheet.getActiveCell();this.cellLabel.textContent=le(t),this.formulaInput.value=await this.sheet.toInputString(t)}async paintSheet(){this.paintDummy(),this.paintGrid();const t=await this.sheet.fetchGrid(this.viewRange);this.paintGrid(t)}get gridSize(){const t=this.sheet.getDimension();return{width:t.columns*ar,height:t.rows*de}}get viewport(){return{width:this.scrollContainer.clientWidth,height:this.scrollContainer.clientHeight}}get scroll(){return{left:this.scrollContainer.scrollLeft,top:this.scrollContainer.scrollTop}}set scroll(t){t.left!==void 0&&(this.scrollContainer.scrollLeft=t.left),t.top!==void 0&&(this.scrollContainer.scrollTop=t.top)}paintDummy(){const t=this.gridSize;this.dummyContainer.style.width=t.width+on+"px",this.dummyContainer.style.height=t.height+de+"px"}paintGrid(t){this.gridCanvas.width=0,this.gridCanvas.height=0;const e=this.gridCanvas.getContext("2d"),n=window.devicePixelRatio||1,s=this.viewport,i=this.scroll;this.gridCanvas.width=s.width*n,this.gridCanvas.height=s.height*n,this.gridCanvas.style.width=s.width+"px",this.gridCanvas.style.height=s.height+"px",e.scale(n,n);const[o,a]=this.viewRange,l=this.sheet.getActiveCell();for(let u=o.r;u<=a.r+1;u++)for(let h=o.c;h<=a.c+1;h++)this.paintCell(e,{r:u,c:h},t==null?void 0:t.get(le({r:u,c:h})));for(let u=o.c;u<=a.c;u++){const h=on+ar*(u-1)-i.left;this.paintHeader(e,h,0,ar,um(u),l.c===u)}for(let u=o.r;u<=a.r;u++){const c=u*de-i.top;this.paintHeader(e,0,c,on,String(u),l.r===u)}}paintOverlay(){this.overlayCanvas.width=0,this.overlayCanvas.height=0;const t=this.overlayCanvas.getContext("2d"),e=window.devicePixelRatio||1,n=this.viewport;this.overlayCanvas.width=n.width*e,this.overlayCanvas.height=n.height*e,this.overlayCanvas.style.width=n.width+"px",this.overlayCanvas.style.height=n.height+"px",t.scale(e,e);const s=this.sheet.getActiveCell(),i=this.toBoundingRect(s);t.strokeStyle=_h,t.lineWidth=2,t.strokeRect(i.left,i.top,i.width,i.height);const o=this.sheet.getRange();if(o){const a=this.expandBoundingRect(this.toBoundingRect(o[0]),this.toBoundingRect(o[1]));t.fillStyle=qT,t.fillRect(a.left,a.top,a.width,a.height),t.strokeStyle=_h,t.lineWidth=1,t.strokeRect(a.left,a.top,a.width,a.height)}}paintHeader(t,e,n,s,i,o){t.fillStyle=o?HT:VT,t.fillRect(e,n,s,de),t.strokeStyle=pl,t.lineWidth=E0,t.strokeRect(e,n,s,de),t.fillStyle=gh,t.textAlign=WT,t.font=o?"bold 10px Arial":"10px Arial",t.fillText(i,e+s/2,n+15)}paintCell(t,e,n){const s=this.toBoundingRect(e);t.strokeStyle=gh,t.lineWidth=E0,t.strokeRect(s.left,s.top,ar,de),t.fillStyle=zT,t.fillRect(s.left,s.top,ar,de);const i=(n==null?void 0:n.v)||"";i&&(t.fillStyle=gh,t.font="12px Arial",t.fillText(i,s.left+3,s.top+15))}}var hg={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(r,t){(function(e,n){r.exports=n()})(w,function e(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},a=0,l={parse:function(p,b){var F=(b=b||{}).dynamicTyping||!1;if(O(F)&&(b.dynamicTypingFunction=F,F={}),b.dynamicTyping=F,b.transform=!!O(b.transform)&&b.transform,b.worker&&l.WORKERS_SUPPORTED){var j=function(){if(!l.WORKERS_SUPPORTED)return!1;var K=(st=n.URL||n.webkitURL||null,ut=e.toString(),l.BLOB_URL||(l.BLOB_URL=st.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ut,")();"],{type:"text/javascript"})))),it=new n.Worker(K),st,ut;return it.onmessage=_,it.id=a++,o[it.id]=it}();return j.userStep=b.step,j.userChunk=b.chunk,j.userComplete=b.complete,j.userError=b.error,b.step=O(b.step),b.chunk=O(b.chunk),b.complete=O(b.complete),b.error=O(b.error),delete b.worker,void j.postMessage({input:p,config:b,workerId:j.id})}var k=null;return l.NODE_STREAM_INPUT,typeof p=="string"?(p=function(K){return K.charCodeAt(0)===65279?K.slice(1):K}(p),k=b.download?new c(b):new d(b)):p.readable===!0&&O(p.read)&&O(p.on)?k=new m(b):(n.File&&p instanceof File||p instanceof Object)&&(k=new f(b)),k.stream(p)},unparse:function(p,b){var F=!1,j=!0,k=",",K=`\r
`,it='"',st=it+it,ut=!1,at=null,ht=!1;(function(){if(typeof b=="object"){if(typeof b.delimiter!="string"||l.BAD_DELIMITERS.filter(function(J){return b.delimiter.indexOf(J)!==-1}).length||(k=b.delimiter),(typeof b.quotes=="boolean"||typeof b.quotes=="function"||Array.isArray(b.quotes))&&(F=b.quotes),typeof b.skipEmptyLines!="boolean"&&typeof b.skipEmptyLines!="string"||(ut=b.skipEmptyLines),typeof b.newline=="string"&&(K=b.newline),typeof b.quoteChar=="string"&&(it=b.quoteChar),typeof b.header=="boolean"&&(j=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");at=b.columns}b.escapeChar!==void 0&&(st=b.escapeChar+it),(typeof b.escapeFormulae=="boolean"||b.escapeFormulae instanceof RegExp)&&(ht=b.escapeFormulae instanceof RegExp?b.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var G=new RegExp(y(it),"g");if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return et(null,p,ut);if(typeof p[0]=="object")return et(at||Object.keys(p[0]),p,ut)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||at),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),et(p.fields||[],p.data||[],ut);throw new Error("Unable to serialize unrecognized input");function et(J,g,C){var D="";typeof J=="string"&&(J=JSON.parse(J)),typeof g=="string"&&(g=JSON.parse(g));var B=Array.isArray(J)&&0<J.length,R=!Array.isArray(g[0]);if(B&&j){for(var A=0;A<J.length;A++)0<A&&(D+=k),D+=Z(J[A],A);0<g.length&&(D+=K)}for(var I=0;I<g.length;I++){var P=B?J.length:g[I].length,z=!1,W=B?Object.keys(g[I]).length===0:g[I].length===0;if(C&&!B&&(z=C==="greedy"?g[I].join("").trim()==="":g[I].length===1&&g[I][0].length===0),C==="greedy"&&B){for(var L=[],M=0;M<P;M++){var V=R?J[M]:M;L.push(g[I][V])}z=L.join("").trim()===""}if(!z){for(var Y=0;Y<P;Y++){0<Y&&!W&&(D+=k);var rt=B&&R?J[Y]:Y;D+=Z(g[I][rt],Y)}I<g.length-1&&(!C||0<P&&!W)&&(D+=K)}}return D}function Z(J,g){if(J==null)return"";if(J.constructor===Date)return JSON.stringify(J).slice(1,25);var C=!1;ht&&typeof J=="string"&&ht.test(J)&&(J="'"+J,C=!0);var D=J.toString().replace(G,st);return(C=C||F===!0||typeof F=="function"&&F(J,g)||Array.isArray(F)&&F[g]||function(B,R){for(var A=0;A<R.length;A++)if(-1<B.indexOf(R[A]))return!0;return!1}(D,l.BAD_DELIMITERS)||-1<D.indexOf(k)||D.charAt(0)===" "||D.charAt(D.length-1)===" ")?it+D+it:D}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!n.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=v,l.ParserHandle=T,l.NetworkStreamer=c,l.FileStreamer=f,l.StringStreamer=d,l.ReadableStreamStreamer=m,n.jQuery){var u=n.jQuery;u.fn.parse=function(p){var b=p.config||{},F=[];return this.each(function(K){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var it=0;it<this.files.length;it++)F.push({file:this.files[it],inputElem:this,instanceConfig:u.extend({},b)})}),j(),this;function j(){if(F.length!==0){var K,it,st,ut,at=F[0];if(O(p.before)){var ht=p.before(at.file,at.inputElem);if(typeof ht=="object"){if(ht.action==="abort")return K="AbortError",it=at.file,st=at.inputElem,ut=ht.reason,void(O(p.error)&&p.error({name:K},it,st,ut));if(ht.action==="skip")return void k();typeof ht.config=="object"&&(at.instanceConfig=u.extend(at.instanceConfig,ht.config))}else if(ht==="skip")return void k()}var G=at.instanceConfig.complete;at.instanceConfig.complete=function(et){O(G)&&G(et,at.file,at.inputElem),k()},l.parse(at.file,at.instanceConfig)}else O(p.complete)&&p.complete()}function k(){F.splice(0,1),j()}}}function h(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(b){var F=N(b);F.chunkSize=parseInt(F.chunkSize),b.step||b.chunk||(F.chunkSize=null),this._handle=new T(F),(this._handle.streamer=this)._config=F}).call(this,p),this.parseChunk=function(b,F){if(this.isFirstChunk&&O(this._config.beforeFirstChunk)){var j=this._config.beforeFirstChunk(b);j!==void 0&&(b=j)}this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+b;this._partialLine="";var K=this._handle.parse(k,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var it=K.meta.cursor;this._finished||(this._partialLine=k.substring(it-this._baseIndex),this._baseIndex=it),K&&K.data&&(this._rowCount+=K.data.length);var st=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)n.postMessage({results:K,workerId:l.WORKER_ID,finished:st});else if(O(this._config.chunk)&&!F){if(this._config.chunk(K,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);K=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(K.data),this._completeResults.errors=this._completeResults.errors.concat(K.errors),this._completeResults.meta=K.meta),this._completed||!st||!O(this._config.complete)||K&&K.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),st||K&&K.meta.paused||this._nextChunk(),K}this._halted=!0},this._sendError=function(b){O(this._config.error)?this._config.error(b):i&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:b,finished:!1})}}function c(p){var b;(p=p||{}).chunkSize||(p.chunkSize=l.RemoteChunkSize),h.call(this,p),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(F){this._input=F,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),s||(b.onload=x(this._chunkLoaded,this),b.onerror=x(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var F=this._config.downloadRequestHeaders;for(var j in F)b.setRequestHeader(j,F[j])}if(this._config.chunkSize){var k=this._start+this._config.chunkSize-1;b.setRequestHeader("Range","bytes="+this._start+"-"+k)}try{b.send(this._config.downloadRequestBody)}catch(K){this._chunkError(K.message)}s&&b.status===0&&this._chunkError()}},this._chunkLoaded=function(){b.readyState===4&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:b.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(F){var j=F.getResponseHeader("Content-Range");return j===null?-1:parseInt(j.substring(j.lastIndexOf("/")+1))}(b),this.parseChunk(b.responseText)))},this._chunkError=function(F){var j=b.statusText||F;this._sendError(new Error(j))}}function f(p){var b,F;(p=p||{}).chunkSize||(p.chunkSize=l.LocalChunkSize),h.call(this,p);var j=typeof FileReader<"u";this.stream=function(k){this._input=k,F=k.slice||k.webkitSlice||k.mozSlice,j?((b=new FileReader).onload=x(this._chunkLoaded,this),b.onerror=x(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var k=this._input;if(this._config.chunkSize){var K=Math.min(this._start+this._config.chunkSize,this._input.size);k=F.call(k,this._start,K)}var it=b.readAsText(k,this._config.encoding);j||this._chunkLoaded({target:{result:it}})},this._chunkLoaded=function(k){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(k.target.result)},this._chunkError=function(){this._sendError(b.error)}}function d(p){var b;h.call(this,p=p||{}),this.stream=function(F){return b=F,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var F,j=this._config.chunkSize;return j?(F=b.substring(0,j),b=b.substring(j)):(F=b,b=""),this._finished=!b,this.parseChunk(F)}}}function m(p){h.call(this,p=p||{});var b=[],F=!0,j=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(k){this._input=k,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):F=!0},this._streamData=x(function(k){try{b.push(typeof k=="string"?k:k.toString(this._config.encoding)),F&&(F=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(K){this._streamError(K)}},this),this._streamError=x(function(k){this._streamCleanUp(),this._sendError(k)},this),this._streamEnd=x(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(p){var b,F,j,k=Math.pow(2,53),K=-k,it=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,st=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ut=this,at=0,ht=0,G=!1,et=!1,Z=[],J={data:[],errors:[],meta:{}};if(O(p.step)){var g=p.step;p.step=function(I){if(J=I,B())D();else{if(D(),J.data.length===0)return;at+=I.data.length,p.preview&&at>p.preview?F.abort():(J.data=J.data[0],g(J,ut))}}}function C(I){return p.skipEmptyLines==="greedy"?I.join("").trim()==="":I.length===1&&I[0].length===0}function D(){return J&&j&&(A("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),j=!1),p.skipEmptyLines&&(J.data=J.data.filter(function(I){return!C(I)})),B()&&function(){if(!J)return;function I(z,W){O(p.transformHeader)&&(z=p.transformHeader(z,W)),Z.push(z)}if(Array.isArray(J.data[0])){for(var P=0;B()&&P<J.data.length;P++)J.data[P].forEach(I);J.data.splice(0,1)}else J.data.forEach(I)}(),function(){if(!J||!p.header&&!p.dynamicTyping&&!p.transform)return J;function I(z,W){var L,M=p.header?{}:[];for(L=0;L<z.length;L++){var V=L,Y=z[L];p.header&&(V=L>=Z.length?"__parsed_extra":Z[L]),p.transform&&(Y=p.transform(Y,V)),Y=R(V,Y),V==="__parsed_extra"?(M[V]=M[V]||[],M[V].push(Y)):M[V]=Y}return p.header&&(L>Z.length?A("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+L,ht+W):L<Z.length&&A("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+L,ht+W)),M}var P=1;return!J.data.length||Array.isArray(J.data[0])?(J.data=J.data.map(I),P=J.data.length):J.data=I(J.data,0),p.header&&J.meta&&(J.meta.fields=Z),ht+=P,J}()}function B(){return p.header&&Z.length===0}function R(I,P){return z=I,p.dynamicTypingFunction&&p.dynamicTyping[z]===void 0&&(p.dynamicTyping[z]=p.dynamicTypingFunction(z)),(p.dynamicTyping[z]||p.dynamicTyping)===!0?P==="true"||P==="TRUE"||P!=="false"&&P!=="FALSE"&&(function(W){if(it.test(W)){var L=parseFloat(W);if(K<L&&L<k)return!0}return!1}(P)?parseFloat(P):st.test(P)?new Date(P):P===""?null:P):P;var z}function A(I,P,z,W){var L={type:I,code:P,message:z};W!==void 0&&(L.row=W),J.errors.push(L)}this.parse=function(I,P,z){var W=p.quoteChar||'"';if(p.newline||(p.newline=function(V,Y){V=V.substring(0,1048576);var rt=new RegExp(y(Y)+"([^]*?)"+y(Y),"gm"),nt=(V=V.replace(rt,"")).split("\r"),q=V.split(`
`),Q=1<q.length&&q[0].length<nt[0].length;if(nt.length===1||Q)return`
`;for(var ct=0,xt=0;xt<nt.length;xt++)nt[xt][0]===`
`&&ct++;return ct>=nt.length/2?`\r
`:"\r"}(I,W)),j=!1,p.delimiter)O(p.delimiter)&&(p.delimiter=p.delimiter(I),J.meta.delimiter=p.delimiter);else{var L=function(V,Y,rt,nt,q){var Q,ct,xt,St;q=q||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var $=0;$<q.length;$++){var H=q[$],ot=0,ft=0,pt=0;xt=void 0;for(var bt=new v({comments:nt,delimiter:H,newline:Y,preview:10}).parse(V),gt=0;gt<bt.data.length;gt++)if(rt&&C(bt.data[gt]))pt++;else{var Lt=bt.data[gt].length;ft+=Lt,xt!==void 0?0<Lt&&(ot+=Math.abs(Lt-xt),xt=Lt):xt=Lt}0<bt.data.length&&(ft/=bt.data.length-pt),(ct===void 0||ot<=ct)&&(St===void 0||St<ft)&&1.99<ft&&(ct=ot,Q=H,St=ft)}return{successful:!!(p.delimiter=Q),bestDelimiter:Q}}(I,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess);L.successful?p.delimiter=L.bestDelimiter:(j=!0,p.delimiter=l.DefaultDelimiter),J.meta.delimiter=p.delimiter}var M=N(p);return p.preview&&p.header&&M.preview++,b=I,F=new v(M),J=F.parse(b,P,z),D(),G?{meta:{paused:!0}}:J||{meta:{paused:!1}}},this.paused=function(){return G},this.pause=function(){G=!0,F.abort(),b=O(p.chunk)?"":b.substring(F.getCharIndex())},this.resume=function(){ut.streamer._halted?(G=!1,ut.streamer.parseChunk(b,!0)):setTimeout(ut.resume,3)},this.aborted=function(){return et},this.abort=function(){et=!0,F.abort(),J.meta.aborted=!0,O(p.complete)&&p.complete(J),b=""}}function y(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(p){var b,F=(p=p||{}).delimiter,j=p.newline,k=p.comments,K=p.step,it=p.preview,st=p.fastMode,ut=b=p.quoteChar===void 0||p.quoteChar===null?'"':p.quoteChar;if(p.escapeChar!==void 0&&(ut=p.escapeChar),(typeof F!="string"||-1<l.BAD_DELIMITERS.indexOf(F))&&(F=","),k===F)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<l.BAD_DELIMITERS.indexOf(k))&&(k=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var at=0,ht=!1;this.parse=function(G,et,Z){if(typeof G!="string")throw new Error("Input must be a string");var J=G.length,g=F.length,C=j.length,D=k.length,B=O(K),R=[],A=[],I=[],P=at=0;if(!G)return It();if(p.header&&!et){var z=G.split(j)[0].split(F),W=[],L={},M=!1;for(var V in z){var Y=z[V];O(p.transformHeader)&&(Y=p.transformHeader(Y,V));var rt=Y,nt=L[Y]||0;for(0<nt&&(M=!0,rt=Y+"_"+nt),L[Y]=nt+1;W.includes(rt);)rt=rt+"_"+nt;W.push(rt)}if(M){var q=G.split(j);q[0]=W.join(F),G=q.join(j)}}if(st||st!==!1&&G.indexOf(b)===-1){for(var Q=G.split(j),ct=0;ct<Q.length;ct++){if(I=Q[ct],at+=I.length,ct!==Q.length-1)at+=j.length;else if(Z)return It();if(!k||I.substring(0,D)!==k){if(B){if(R=[],pt(I.split(F)),re(),ht)return It()}else pt(I.split(F));if(it&&it<=ct)return R=R.slice(0,it),It(!0)}}return It()}for(var xt=G.indexOf(F,at),St=G.indexOf(j,at),$=new RegExp(y(ut)+y(b),"g"),H=G.indexOf(b,at);;)if(G[at]!==b)if(k&&I.length===0&&G.substring(at,at+D)===k){if(St===-1)return It();at=St+C,St=G.indexOf(j,at),xt=G.indexOf(F,at)}else if(xt!==-1&&(xt<St||St===-1))I.push(G.substring(at,xt)),at=xt+g,xt=G.indexOf(F,at);else{if(St===-1)break;if(I.push(G.substring(at,St)),Lt(St+C),B&&(re(),ht))return It();if(it&&R.length>=it)return It(!0)}else for(H=at,at++;;){if((H=G.indexOf(b,H+1))===-1)return Z||A.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:R.length,index:at}),gt();if(H===J-1)return gt(G.substring(at,H).replace($,b));if(b!==ut||G[H+1]!==ut){if(b===ut||H===0||G[H-1]!==ut){xt!==-1&&xt<H+1&&(xt=G.indexOf(F,H+1)),St!==-1&&St<H+1&&(St=G.indexOf(j,H+1));var ot=bt(St===-1?xt:Math.min(xt,St));if(G.substr(H+1+ot,g)===F){I.push(G.substring(at,H).replace($,b)),G[at=H+1+ot+g]!==b&&(H=G.indexOf(b,at)),xt=G.indexOf(F,at),St=G.indexOf(j,at);break}var ft=bt(St);if(G.substring(H+1+ft,H+1+ft+C)===j){if(I.push(G.substring(at,H).replace($,b)),Lt(H+1+ft+C),xt=G.indexOf(F,at),H=G.indexOf(b,at),B&&(re(),ht))return It();if(it&&R.length>=it)return It(!0);break}A.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:R.length,index:at}),H++}}else H++}return gt();function pt(X){R.push(X),P=at}function bt(X){var mt=0;if(X!==-1){var vt=G.substring(H+1,X);vt&&vt.trim()===""&&(mt=vt.length)}return mt}function gt(X){return Z||(X===void 0&&(X=G.substring(at)),I.push(X),at=J,pt(I),B&&re()),It()}function Lt(X){at=X,pt(I),I=[],St=G.indexOf(j,at)}function It(X){return{data:R,errors:A,meta:{delimiter:F,linebreak:j,aborted:ht,truncated:!!X,cursor:P+(et||0)}}}function re(){K(It()),R=[],A=[]}},this.abort=function(){ht=!0},this.getCharIndex=function(){return at}}function _(p){var b=p.data,F=o[b.workerId],j=!1;if(b.error)F.userError(b.error,b.file);else if(b.results&&b.results.data){var k={abort:function(){j=!0,S(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(O(F.userStep)){for(var K=0;K<b.results.data.length&&(F.userStep({data:b.results.data[K],errors:b.results.errors,meta:b.results.meta},k),!j);K++);delete b.results}else O(F.userChunk)&&(F.userChunk(b.results,k,b.file),delete b.results)}b.finished&&!j&&S(b.workerId,b.results)}function S(p,b){var F=o[p];O(F.userComplete)&&F.userComplete(b),F.terminate(),delete o[p]}function E(){throw new Error("Not implemented.")}function N(p){if(typeof p!="object"||p===null)return p;var b=Array.isArray(p)?[]:{};for(var F in p)b[F]=N(p[F]);return b}function x(p,b){return function(){p.apply(b,arguments)}}function O(p){return typeof p=="function"}return i&&(n.onmessage=function(p){var b=p.data;if(l.WORKER_ID===void 0&&b&&(l.WORKER_ID=b.workerId),typeof b.input=="string")n.postMessage({workerId:l.WORKER_ID,results:l.parse(b.input,b.config),finished:!0});else if(n.File&&b.input instanceof File||b.input instanceof Object){var F=l.parse(b.input,b.config);F&&n.postMessage({workerId:l.WORKER_ID,results:F,finished:!0})}}),(c.prototype=Object.create(h.prototype)).constructor=c,(f.prototype=Object.create(h.prototype)).constructor=f,(d.prototype=Object.create(d.prototype)).constructor=d,(m.prototype=Object.create(h.prototype)).constructor=m,l})})(hg);var GT=hg.exports;const KT=pg(GT),XT=1e3;class JT{constructor(t){lt(this,"sheet");lt(this,"container");lt(this,"element");this.element=document.createElement("div"),this.element.style.display="none",this.element.style.position="absolute",this.element.style.top="0",this.element.style.left="0",this.element.style.width="calc(100% - 4px)",this.element.style.height="calc(100% - 4px)",this.element.style.border="2px dashed #4A90E2",this.element.style.justifyContent="center",this.element.style.alignItems="center",this.element.style.backgroundColor="#fff",this.element.style.opacity="0.8",this.element.style.zIndex="1000",this.element.style.color="#4A90E2",this.element.style.fontSize="24px",this.element.style.fontWeight="bold",this.element.innerText="Drag and drop a file here",this.container=t,this.container.appendChild(this.element),this.handleDragEnter=this.handleDragEnter.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleFileSelect=this.handleFileSelect.bind(this)}initialize(t){this.sheet=t,this.addEventListeners()}destroy(){this.container.removeChild(this.element),this.removeEventListeners()}addEventListeners(){this.container.addEventListener("dragenter",this.handleDragEnter),this.container.addEventListener("dragleave",this.handleDragLeave),this.element.addEventListener("dragover",this.handleDragOver,!1),this.element.addEventListener("drop",this.handleFileSelect,!1)}removeEventListeners(){this.container.removeEventListener("dragenter",this.handleDragEnter),this.container.removeEventListener("dragleave",this.handleDragLeave),this.element.removeEventListener("dragover",this.handleDragOver,!1),this.element.removeEventListener("drop",this.handleFileSelect,!1)}handleDragEnter(t){t.stopPropagation(),t.preventDefault(),this.element.style.display="flex"}handleDragLeave(t){t.stopPropagation(),this.container.contains(t.relatedTarget)||this.hide()}handleDragOver(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}handleFileSelect(t){var s;this.hide(),t.stopPropagation(),t.preventDefault();const e=(s=t.dataTransfer)==null?void 0:s.files;if(!e||e.length===0)return;const n=e[0];this.uploadFile(n)}async uploadFile(t){const e=performance.now(),n=t.size;let s=0,i=0,o=0;const a=new Map,l=()=>{const h=Math.floor(s/n*100),c=this.toSecs(performance.now()-e);console.log(`Progress: ${h}%, Elapsed: ${c}s`)},u=async()=>{await this.sheet.setGrid(a),a.clear(),i=0};KT.parse(t,{step:async(h,c)=>{const{data:f}=h;for(let m=1;m<=f.length;m++){const T={v:f[m-1]};a.set(le({r:o,c:m}),T)}o+=1,i+=1;const d=new Blob([h.data.join(",")]).size;s+=d,i>=XT&&(c.pause(),await u(),l(),c.resume())},complete:async()=>{a.size>0&&await u(),console.log(`Finished: ${this.toSecs(performance.now()-e)}s`)},error:h=>{console.error("Error while parsing:",h)}})}toSecs(t){return(t/1e3).toFixed(2)}hide(){this.element.style.display="none"}}async function QT(r){const t=new ZT(r),e=await jT();t.initialize(e)}class ZT{constructor(t){lt(this,"container");lt(this,"worksheet");lt(this,"dropzone");this.container=t,this.container.style.position="relative",this.container.style.overflow="hidden",this.worksheet=new YT(this.container),this.dropzone=new JT(this.container)}async initialize(t){const e=new fA(t);this.worksheet.initialize(e),this.dropzone.initialize(e)}}QT(document.querySelector("#app"));
