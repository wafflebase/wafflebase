var _B=Object.defineProperty;var $R=e=>{throw TypeError(e)};var IB=(e,t,n)=>t in e?_B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var q=(e,t,n)=>IB(e,typeof t!="symbol"?t+"":t,n),cE=(e,t,n)=>t.has(e)||$R("Cannot "+n);var pe=(e,t,n)=>(cE(e,t,"read from private field"),n?n.call(e):t.get(e)),At=(e,t,n)=>t.has(e)?$R("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),st=(e,t,n,r)=>(cE(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Yt=(e,t,n)=>(cE(e,t,"access private method"),n);var hb=(e,t,n,r)=>({set _(s){st(e,t,s,n)},get _(){return pe(e,t,r)}});function OB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var l3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fE={exports:{}},w0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR;function DB(){if(HR)return w0;HR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:e,type:r,key:l,ref:s!==void 0?s:null,props:a}}return w0.Fragment=t,w0.jsx=n,w0.jsxs=n,w0}var YR;function c3(){return YR||(YR=1,fE.exports=DB()),fE.exports}var O=c3(),dE={exports:{}},C0={},hE={exports:{}},pE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR;function MB(){return WR||(WR=1,function(e){function t(ie,Ee){var de=ie.length;ie.push(Ee);e:for(;0<de;){var ue=de-1>>>1,X=ie[ue];if(0<s(X,Ee))ie[ue]=Ee,ie[de]=X,de=ue;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var Ee=ie[0],de=ie.pop();if(de!==Ee){ie[0]=de;e:for(var ue=0,X=ie.length,oe=X>>>1;ue<oe;){var he=2*(ue+1)-1,z=ie[he],V=he+1,G=ie[V];if(0>s(z,de))V<X&&0>s(G,z)?(ie[ue]=G,ie[V]=de,ue=V):(ie[ue]=z,ie[he]=de,ue=he);else if(V<X&&0>s(G,de))ie[ue]=G,ie[V]=de,ue=V;else break e}}return Ee}function s(ie,Ee){var de=ie.sortIndex-Ee.sortIndex;return de!==0?de:ie.id-Ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],g=[],p=1,m=null,x=3,b=!1,A=!1,C=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(ie){for(var Ee=n(g);Ee!==null;){if(Ee.callback===null)r(g);else if(Ee.startTime<=ie)r(g),Ee.sortIndex=Ee.expirationTime,t(d,Ee);else break;Ee=n(g)}}function L(ie){if(C=!1,D(ie),!A)if(n(d)!==null)A=!0,k||(k=!0,re());else{var Ee=n(g);Ee!==null&&Oe(L,Ee.startTime-ie)}}var k=!1,j=-1,B=5,$=-1;function K(){return w?!0:!(e.unstable_now()-$<B)}function ne(){if(w=!1,k){var ie=e.unstable_now();$=ie;var Ee=!0;try{e:{A=!1,C&&(C=!1,I(j),j=-1),b=!0;var de=x;try{t:{for(D(ie),m=n(d);m!==null&&!(m.expirationTime>ie&&K());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,x=m.priorityLevel;var X=ue(m.expirationTime<=ie);if(ie=e.unstable_now(),typeof X=="function"){m.callback=X,D(ie),Ee=!0;break t}m===n(d)&&r(d),D(ie)}else r(d);m=n(d)}if(m!==null)Ee=!0;else{var oe=n(g);oe!==null&&Oe(L,oe.startTime-ie),Ee=!1}}break e}finally{m=null,x=de,b=!1}Ee=void 0}}finally{Ee?re():k=!1}}}var re;if(typeof N=="function")re=function(){N(ne)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Me=Se.port2;Se.port1.onmessage=ne,re=function(){Me.postMessage(null)}}else re=function(){R(ne,0)};function Oe(ie,Ee){j=R(function(){ie(e.unstable_now())},Ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(ie){switch(x){case 1:case 2:case 3:var Ee=3;break;default:Ee=x}var de=x;x=Ee;try{return ie()}finally{x=de}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(ie,Ee){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var de=x;x=ie;try{return Ee()}finally{x=de}},e.unstable_scheduleCallback=function(ie,Ee,de){var ue=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ue+de:ue):de=ue,ie){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=de+X,ie={id:p++,callback:Ee,priorityLevel:ie,startTime:de,expirationTime:X,sortIndex:-1},de>ue?(ie.sortIndex=de,t(g,ie),n(d)===null&&ie===n(g)&&(C?(I(j),j=-1):C=!0,Oe(L,de-ue))):(ie.sortIndex=X,t(d,ie),A||b||(A=!0,k||(k=!0,re()))),ie},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(ie){var Ee=x;return function(){var de=x;x=Ee;try{return ie.apply(this,arguments)}finally{x=de}}}}(pE)),pE}var qR;function PB(){return qR||(qR=1,hE.exports=MB()),hE.exports}var gE={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR;function LB(){if(KR)return Gt;KR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(X){return X===null||typeof X!="object"?null:(X=m&&X[m]||X["@@iterator"],typeof X=="function"?X:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function w(X,oe,he){this.props=X,this.context=oe,this.refs=C,this.updater=he||b}w.prototype.isReactComponent={},w.prototype.setState=function(X,oe){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,oe,"setState")},w.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function R(){}R.prototype=w.prototype;function I(X,oe,he){this.props=X,this.context=oe,this.refs=C,this.updater=he||b}var N=I.prototype=new R;N.constructor=I,A(N,w.prototype),N.isPureReactComponent=!0;var D=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function j(X,oe,he,z,V,G){return he=G.ref,{$$typeof:e,type:X,key:oe,ref:he!==void 0?he:null,props:G}}function B(X,oe){return j(X.type,oe,void 0,void 0,void 0,X.props)}function $(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function K(X){var oe={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(he){return oe[he]})}var ne=/\/+/g;function re(X,oe){return typeof X=="object"&&X!==null&&X.key!=null?K(""+X.key):oe.toString(36)}function Se(){}function Me(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(Se,Se):(X.status="pending",X.then(function(oe){X.status==="pending"&&(X.status="fulfilled",X.value=oe)},function(oe){X.status==="pending"&&(X.status="rejected",X.reason=oe)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function Oe(X,oe,he,z,V){var G=typeof X;(G==="undefined"||G==="boolean")&&(X=null);var Y=!1;if(X===null)Y=!0;else switch(G){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(X.$$typeof){case e:case t:Y=!0;break;case p:return Y=X._init,Oe(Y(X._payload),oe,he,z,V)}}if(Y)return V=V(X),Y=z===""?"."+re(X,0):z,D(V)?(he="",Y!=null&&(he=Y.replace(ne,"$&/")+"/"),Oe(V,oe,he,"",function(J){return J})):V!=null&&($(V)&&(V=B(V,he+(V.key==null||X&&X.key===V.key?"":(""+V.key).replace(ne,"$&/")+"/")+Y)),oe.push(V)),1;Y=0;var Q=z===""?".":z+":";if(D(X))for(var Z=0;Z<X.length;Z++)z=X[Z],G=Q+re(z,Z),Y+=Oe(z,oe,he,G,V);else if(Z=x(X),typeof Z=="function")for(X=Z.call(X),Z=0;!(z=X.next()).done;)z=z.value,G=Q+re(z,Z++),Y+=Oe(z,oe,he,G,V);else if(G==="object"){if(typeof X.then=="function")return Oe(Me(X),oe,he,z,V);throw oe=String(X),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Y}function ie(X,oe,he){if(X==null)return X;var z=[],V=0;return Oe(X,z,"","",function(G){return oe.call(he,G,V++)}),z}function Ee(X){if(X._status===-1){var oe=X._result;oe=oe(),oe.then(function(he){(X._status===0||X._status===-1)&&(X._status=1,X._result=he)},function(he){(X._status===0||X._status===-1)&&(X._status=2,X._result=he)}),X._status===-1&&(X._status=0,X._result=oe)}if(X._status===1)return X._result.default;throw X._result}var de=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function ue(){}return Gt.Children={map:ie,forEach:function(X,oe,he){ie(X,function(){oe.apply(this,arguments)},he)},count:function(X){var oe=0;return ie(X,function(){oe++}),oe},toArray:function(X){return ie(X,function(oe){return oe})||[]},only:function(X){if(!$(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Gt.Component=w,Gt.Fragment=n,Gt.Profiler=s,Gt.PureComponent=I,Gt.StrictMode=r,Gt.Suspense=d,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return L.H.useMemoCache(X)}},Gt.cache=function(X){return function(){return X.apply(null,arguments)}},Gt.cloneElement=function(X,oe,he){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var z=A({},X.props),V=X.key,G=void 0;if(oe!=null)for(Y in oe.ref!==void 0&&(G=void 0),oe.key!==void 0&&(V=""+oe.key),oe)!k.call(oe,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&oe.ref===void 0||(z[Y]=oe[Y]);var Y=arguments.length-2;if(Y===1)z.children=he;else if(1<Y){for(var Q=Array(Y),Z=0;Z<Y;Z++)Q[Z]=arguments[Z+2];z.children=Q}return j(X.type,V,void 0,void 0,G,z)},Gt.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},Gt.createElement=function(X,oe,he){var z,V={},G=null;if(oe!=null)for(z in oe.key!==void 0&&(G=""+oe.key),oe)k.call(oe,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(V[z]=oe[z]);var Y=arguments.length-2;if(Y===1)V.children=he;else if(1<Y){for(var Q=Array(Y),Z=0;Z<Y;Z++)Q[Z]=arguments[Z+2];V.children=Q}if(X&&X.defaultProps)for(z in Y=X.defaultProps,Y)V[z]===void 0&&(V[z]=Y[z]);return j(X,G,void 0,void 0,null,V)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(X){return{$$typeof:u,render:X}},Gt.isValidElement=$,Gt.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:Ee}},Gt.memo=function(X,oe){return{$$typeof:g,type:X,compare:oe===void 0?null:oe}},Gt.startTransition=function(X){var oe=L.T,he={};L.T=he;try{var z=X(),V=L.S;V!==null&&V(he,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(ue,de)}catch(G){de(G)}finally{L.T=oe}},Gt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Gt.use=function(X){return L.H.use(X)},Gt.useActionState=function(X,oe,he){return L.H.useActionState(X,oe,he)},Gt.useCallback=function(X,oe){return L.H.useCallback(X,oe)},Gt.useContext=function(X){return L.H.useContext(X)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(X,oe){return L.H.useDeferredValue(X,oe)},Gt.useEffect=function(X,oe,he){var z=L.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(X,oe)},Gt.useId=function(){return L.H.useId()},Gt.useImperativeHandle=function(X,oe,he){return L.H.useImperativeHandle(X,oe,he)},Gt.useInsertionEffect=function(X,oe){return L.H.useInsertionEffect(X,oe)},Gt.useLayoutEffect=function(X,oe){return L.H.useLayoutEffect(X,oe)},Gt.useMemo=function(X,oe){return L.H.useMemo(X,oe)},Gt.useOptimistic=function(X,oe){return L.H.useOptimistic(X,oe)},Gt.useReducer=function(X,oe,he){return L.H.useReducer(X,oe,he)},Gt.useRef=function(X){return L.H.useRef(X)},Gt.useState=function(X){return L.H.useState(X)},Gt.useSyncExternalStore=function(X,oe,he){return L.H.useSyncExternalStore(X,oe,he)},Gt.useTransition=function(){return L.H.useTransition()},Gt.version="19.1.0",Gt}var XR;function bS(){return XR||(XR=1,gE.exports=LB()),gE.exports}var mE={exports:{}},di={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR;function FB(){if(ZR)return di;ZR=1;var e=bS();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,g,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:d,containerInfo:g,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return di.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,di.createPortal=function(d,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return a(d,g,null,p)},di.flushSync=function(d){var g=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=g,r.p=p,r.d.f()}},di.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},di.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},di.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var p=g.as,m=u(p,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:x,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},di.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=u(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},di.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,m=u(p,g.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},di.preloadModule=function(d,g){if(typeof d=="string")if(g){var p=u(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},di.requestFormReset=function(d){r.d.r(d)},di.unstable_batchedUpdates=function(d,g){return d(g)},di.useFormState=function(d,g,p){return l.H.useFormState(d,g,p)},di.useFormStatus=function(){return l.H.useHostTransitionStatus()},di.version="19.1.0",di}var JR;function f3(){if(JR)return mE.exports;JR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mE.exports=FB(),mE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QR;function kB(){if(QR)return C0;QR=1;var e=PB(),t=bS(),n=f3();function r(o){var f="https://react.dev/errors/"+o;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+o+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var f=o,y=o;if(o.alternate)for(;f.return;)f=f.return;else{o=f;do f=o,(f.flags&4098)!==0&&(y=f.return),o=f.return;while(o)}return f.tag===3?y:null}function l(o){if(o.tag===13){var f=o.memoizedState;if(f===null&&(o=o.alternate,o!==null&&(f=o.memoizedState)),f!==null)return f.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function d(o){var f=o.alternate;if(!f){if(f=a(o),f===null)throw Error(r(188));return f!==o?null:o}for(var y=o,S=f;;){var T=y.return;if(T===null)break;var M=T.alternate;if(M===null){if(S=T.return,S!==null){y=S;continue}break}if(T.child===M.child){for(M=T.child;M;){if(M===y)return u(T),o;if(M===S)return u(T),f;M=M.sibling}throw Error(r(188))}if(y.return!==S.return)y=T,S=M;else{for(var H=!1,ee=T.child;ee;){if(ee===y){H=!0,y=T,S=M;break}if(ee===S){H=!0,S=T,y=M;break}ee=ee.sibling}if(!H){for(ee=M.child;ee;){if(ee===y){H=!0,y=M,S=T;break}if(ee===S){H=!0,S=M,y=T;break}ee=ee.sibling}if(!H)throw Error(r(189))}}if(y.alternate!==S)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?o:f}function g(o){var f=o.tag;if(f===5||f===26||f===27||f===6)return o;for(o=o.child;o!==null;){if(f=g(o),f!==null)return f;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function re(o){return o===null||typeof o!="object"?null:(o=ne&&o[ne]||o["@@iterator"],typeof o=="function"?o:null)}var Se=Symbol.for("react.client.reference");function Me(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Se?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case w:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case k:return"SuspenseList";case $:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case N:return(o.displayName||"Context")+".Provider";case I:return(o._context.displayName||"Context")+".Consumer";case D:var f=o.render;return o=o.displayName,o||(o=f.displayName||f.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case j:return f=o.displayName||null,f!==null?f:Me(o.type)||"Memo";case B:f=o._payload,o=o._init;try{return Me(o(f))}catch{}}return null}var Oe=Array.isArray,ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ue=[],X=-1;function oe(o){return{current:o}}function he(o){0>X||(o.current=ue[X],ue[X]=null,X--)}function z(o,f){X++,ue[X]=o.current,o.current=f}var V=oe(null),G=oe(null),Y=oe(null),Q=oe(null);function Z(o,f){switch(z(Y,f),z(G,o),z(V,null),f.nodeType){case 9:case 11:o=(o=f.documentElement)&&(o=o.namespaceURI)?Z1(o):0;break;default:if(o=f.tagName,f=f.namespaceURI)f=Z1(f),o=J1(f,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}he(V),z(V,o)}function J(){he(V),he(G),he(Y)}function se(o){o.memoizedState!==null&&z(Q,o);var f=V.current,y=J1(f,o.type);f!==y&&(z(G,o),z(V,y))}function ye(o){G.current===o&&(he(V),he(G)),Q.current===o&&(he(Q),bc._currentValue=de)}var xe=Object.prototype.hasOwnProperty,ae=e.unstable_scheduleCallback,le=e.unstable_cancelCallback,we=e.unstable_shouldYield,Ie=e.unstable_requestPaint,je=e.unstable_now,Ve=e.unstable_getCurrentPriorityLevel,me=e.unstable_ImmediatePriority,Pe=e.unstable_UserBlockingPriority,Ze=e.unstable_NormalPriority,pt=e.unstable_LowPriority,gt=e.unstable_IdlePriority,ge=e.log,Ne=e.unstable_setDisableYieldValue,qe=null,Ye=null;function tt(o){if(typeof ge=="function"&&Ne(o),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(qe,o)}catch{}}var lt=Math.clz32?Math.clz32:It,xt=Math.log,Rt=Math.LN2;function It(o){return o>>>=0,o===0?32:31-(xt(o)/Rt|0)|0}var sn=256,ke=4194304;function nt(o){var f=o&42;if(f!==0)return f;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function mt(o,f,y){var S=o.pendingLanes;if(S===0)return 0;var T=0,M=o.suspendedLanes,H=o.pingedLanes;o=o.warmLanes;var ee=S&134217727;return ee!==0?(S=ee&~M,S!==0?T=nt(S):(H&=ee,H!==0?T=nt(H):y||(y=ee&~o,y!==0&&(T=nt(y))))):(ee=S&~M,ee!==0?T=nt(ee):H!==0?T=nt(H):y||(y=S&~o,y!==0&&(T=nt(y)))),T===0?0:f!==0&&f!==T&&(f&M)===0&&(M=T&-T,y=f&-f,M>=y||M===32&&(y&4194048)!==0)?f:T}function Et(o,f){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&f)===0}function Dt(o,f){switch(o){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vn(){var o=sn;return sn<<=1,(sn&4194048)===0&&(sn=256),o}function Fn(){var o=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),o}function Hn(o){for(var f=[],y=0;31>y;y++)f.push(o);return f}function an(o,f){o.pendingLanes|=f,f!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Zn(o,f,y,S,T,M){var H=o.pendingLanes;o.pendingLanes=y,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=y,o.entangledLanes&=y,o.errorRecoveryDisabledLanes&=y,o.shellSuspendCounter=0;var ee=o.entanglements,fe=o.expirationTimes,De=o.hiddenUpdates;for(y=H&~y;0<y;){var ze=31-lt(y),$e=1<<ze;ee[ze]=0,fe[ze]=-1;var Le=De[ze];if(Le!==null)for(De[ze]=null,ze=0;ze<Le.length;ze++){var Fe=Le[ze];Fe!==null&&(Fe.lane&=-536870913)}y&=~$e}S!==0&&rt(o,S,0),M!==0&&T===0&&o.tag!==0&&(o.suspendedLanes|=M&~(H&~f))}function rt(o,f,y){o.pendingLanes|=f,o.suspendedLanes&=~f;var S=31-lt(f);o.entangledLanes|=f,o.entanglements[S]=o.entanglements[S]|1073741824|y&4194090}function ln(o,f){var y=o.entangledLanes|=f;for(o=o.entanglements;y;){var S=31-lt(y),T=1<<S;T&f|o[S]&f&&(o[S]|=f),y&=~T}}function Jt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function rn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function gr(){var o=Ee.p;return o!==0?o:(o=window.event,o===void 0?32:BR(o.type))}function qt(o,f){var y=Ee.p;try{return Ee.p=o,f()}finally{Ee.p=y}}var jt=Math.random().toString(36).slice(2),un="__reactFiber$"+jt,Lt="__reactProps$"+jt,En="__reactContainer$"+jt,Oi="__reactEvents$"+jt,xr="__reactListeners$"+jt,mi="__reactHandles$"+jt,Ho="__reactResources$"+jt,Ji="__reactMarker$"+jt;function kg(o){delete o[un],delete o[Lt],delete o[Oi],delete o[xr],delete o[mi]}function ks(o){var f=o[un];if(f)return f;for(var y=o.parentNode;y;){if(f=y[En]||y[un]){if(y=f.alternate,f.child!==null||y!==null&&y.child!==null)for(o=Qx(o);o!==null;){if(y=o[un])return y;o=Qx(o)}return f}o=y,y=o.parentNode}return null}function Yo(o){if(o=o[un]||o[En]){var f=o.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return o}return null}function Du(o){var f=o.tag;if(f===5||f===26||f===27||f===6)return o.stateNode;throw Error(r(33))}function Bs(o){var f=o[Ho];return f||(f=o[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function tr(o){o[Ji]=!0}var Bg=new Set,jg={};function js(o,f){Ua(o,f),Ua(o+"Capture",f)}function Ua(o,f){for(jg[o]=f,o=0;o<f.length;o++)Bg.add(f[o])}var zg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ly={},cf={};function uy(o){return xe.call(cf,o)?!0:xe.call(ly,o)?!1:zg.test(o)?cf[o]=!0:(ly[o]=!0,!1)}function Wo(o,f,y){if(uy(f))if(y===null)o.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":o.removeAttribute(f);return;case"boolean":var S=f.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){o.removeAttribute(f);return}}o.setAttribute(f,""+y)}}function ff(o,f,y){if(y===null)o.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttribute(f,""+y)}}function qo(o,f,y,S){if(S===null)o.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(y);return}o.setAttributeNS(f,y,""+S)}}var Ga,cy;function yo(o){if(Ga===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);Ga=f&&f[1]||"",cy=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+o+cy}var df=!1;function Vg(o,f){if(!o||df)return"";df=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(f){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Fe){var Le=Fe}Reflect.construct(o,[],$e)}else{try{$e.call()}catch(Fe){Le=Fe}o.call($e.prototype)}}else{try{throw Error()}catch(Fe){Le=Fe}($e=o())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Fe){if(Fe&&Le&&typeof Fe.stack=="string")return[Fe.stack,Le.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=S.DetermineComponentFrameRoot(),H=M[0],ee=M[1];if(H&&ee){var fe=H.split(`
`),De=ee.split(`
`);for(T=S=0;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;for(;T<De.length&&!De[T].includes("DetermineComponentFrameRoot");)T++;if(S===fe.length||T===De.length)for(S=fe.length-1,T=De.length-1;1<=S&&0<=T&&fe[S]!==De[T];)T--;for(;1<=S&&0<=T;S--,T--)if(fe[S]!==De[T]){if(S!==1||T!==1)do if(S--,T--,0>T||fe[S]!==De[T]){var ze=`
`+fe[S].replace(" at new "," at ");return o.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",o.displayName)),ze}while(1<=S&&0<=T);break}}}finally{df=!1,Error.prepareStackTrace=y}return(y=o?o.displayName||o.name:"")?yo(y):""}function f1(o){switch(o.tag){case 26:case 27:case 5:return yo(o.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 15:return Vg(o.type,!1);case 11:return Vg(o.type.render,!1);case 1:return Vg(o.type,!0);case 31:return yo("Activity");default:return""}}function fy(o){try{var f="";do f+=f1(o),o=o.return;while(o);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function Qr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ug(o){var f=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function d1(o){var f=Ug(o)?"checked":"value",y=Object.getOwnPropertyDescriptor(o.constructor.prototype,f),S=""+o[f];if(!o.hasOwnProperty(f)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var T=y.get,M=y.set;return Object.defineProperty(o,f,{configurable:!0,get:function(){return T.call(this)},set:function(H){S=""+H,M.call(this,H)}}),Object.defineProperty(o,f,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(H){S=""+H},stopTracking:function(){o._valueTracker=null,delete o[f]}}}}function wh(o){o._valueTracker||(o._valueTracker=d1(o))}function dy(o){if(!o)return!1;var f=o._valueTracker;if(!f)return!0;var y=f.getValue(),S="";return o&&(S=Ug(o)?o.checked?"true":"false":o.value),o=S,o!==y?(f.setValue(o),!0):!1}function Ch(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var hf=/[\n"\\]/g;function Mr(o){return o.replace(hf,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Gg(o,f,y,S,T,M,H,ee){o.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?o.type=H:o.removeAttribute("type"),f!=null?H==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+Qr(f)):o.value!==""+Qr(f)&&(o.value=""+Qr(f)):H!=="submit"&&H!=="reset"||o.removeAttribute("value"),f!=null?pf(o,H,Qr(f)):y!=null?pf(o,H,Qr(y)):S!=null&&o.removeAttribute("value"),T==null&&M!=null&&(o.defaultChecked=!!M),T!=null&&(o.checked=T&&typeof T!="function"&&typeof T!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?o.name=""+Qr(ee):o.removeAttribute("name")}function $g(o,f,y,S,T,M,H,ee){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.type=M),f!=null||y!=null){if(!(M!=="submit"&&M!=="reset"||f!=null))return;y=y!=null?""+Qr(y):"",f=f!=null?""+Qr(f):y,ee||f===o.value||(o.value=f),o.defaultValue=f}S=S??T,S=typeof S!="function"&&typeof S!="symbol"&&!!S,o.checked=ee?o.checked:!!S,o.defaultChecked=!!S,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(o.name=H)}function pf(o,f,y){f==="number"&&Ch(o.ownerDocument)===o||o.defaultValue===""+y||(o.defaultValue=""+y)}function Mu(o,f,y,S){if(o=o.options,f){f={};for(var T=0;T<y.length;T++)f["$"+y[T]]=!0;for(y=0;y<o.length;y++)T=f.hasOwnProperty("$"+o[y].value),o[y].selected!==T&&(o[y].selected=T),T&&S&&(o[y].defaultSelected=!0)}else{for(y=""+Qr(y),f=null,T=0;T<o.length;T++){if(o[T].value===y){o[T].selected=!0,S&&(o[T].defaultSelected=!0);return}f!==null||o[T].disabled||(f=o[T])}f!==null&&(f.selected=!0)}}function Hg(o,f,y){if(f!=null&&(f=""+Qr(f),f!==o.value&&(o.value=f),y==null)){o.defaultValue!==f&&(o.defaultValue=f);return}o.defaultValue=y!=null?""+Qr(y):""}function hy(o,f,y,S){if(f==null){if(S!=null){if(y!=null)throw Error(r(92));if(Oe(S)){if(1<S.length)throw Error(r(93));S=S[0]}y=S}y==null&&(y=""),f=y}y=Qr(f),o.defaultValue=y,S=o.textContent,S===y&&S!==""&&S!==null&&(o.value=S)}function zs(o,f){if(f){var y=o.firstChild;if(y&&y===o.lastChild&&y.nodeType===3){y.nodeValue=f;return}}o.textContent=f}var py=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gy(o,f,y){var S=f.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?S?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="":S?o.setProperty(f,y):typeof y!="number"||y===0||py.has(f)?f==="float"?o.cssFloat=y:o[f]=(""+y).trim():o[f]=y+"px"}function my(o,f,y){if(f!=null&&typeof f!="object")throw Error(r(62));if(o=o.style,y!=null){for(var S in y)!y.hasOwnProperty(S)||f!=null&&f.hasOwnProperty(S)||(S.indexOf("--")===0?o.setProperty(S,""):S==="float"?o.cssFloat="":o[S]="");for(var T in f)S=f[T],f.hasOwnProperty(T)&&y[T]!==S&&gy(o,T,S)}else for(var M in f)f.hasOwnProperty(M)&&gy(o,M,f[M])}function Yg(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gf(o){return vy.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var mf=null;function vf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var $a=null,Ha=null;function yy(o){var f=Yo(o);if(f&&(o=f.stateNode)){var y=o[Lt]||null;e:switch(o=f.stateNode,f.type){case"input":if(Gg(o,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),f=y.name,y.type==="radio"&&f!=null){for(y=o;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Mr(""+f)+'"][type="radio"]'),f=0;f<y.length;f++){var S=y[f];if(S!==o&&S.form===o.form){var T=S[Lt]||null;if(!T)throw Error(r(90));Gg(S,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(f=0;f<y.length;f++)S=y[f],S.form===o.form&&dy(S)}break e;case"textarea":Hg(o,y.value,y.defaultValue);break e;case"select":f=y.value,f!=null&&Mu(o,!!y.multiple,f,!1)}}}var Wg=!1;function xy(o,f,y){if(Wg)return o(f,y);Wg=!0;try{var S=o(f);return S}finally{if(Wg=!1,($a!==null||Ha!==null)&&(ca(),$a&&(f=$a,o=Ha,Ha=$a=null,yy(f),o)))for(f=0;f<o.length;f++)yy(o[f])}}function Ya(o,f){var y=o.stateNode;if(y===null)return null;var S=y[Lt]||null;if(S===null)return null;y=S[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(o=o.type,S=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!S;break e;default:o=!1}if(o)return null;if(y&&typeof y!="function")throw Error(r(231,f,typeof y));return y}var Ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qg=!1;if(Ko)try{var yf={};Object.defineProperty(yf,"passive",{get:function(){qg=!0}}),window.addEventListener("test",yf,yf),window.removeEventListener("test",yf,yf)}catch{qg=!1}var Vs=null,Pu=null,Di=null;function by(){if(Di)return Di;var o,f=Pu,y=f.length,S,T="value"in Vs?Vs.value:Vs.textContent,M=T.length;for(o=0;o<y&&f[o]===T[o];o++);var H=y-o;for(S=1;S<=H&&f[y-S]===T[M-S];S++);return Di=T.slice(o,1<S?1-S:void 0)}function Rh(o){var f=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&f===13&&(o=13)):o=f,o===10&&(o=13),32<=o||o===13?o:0}function Th(){return!0}function Sy(){return!1}function ei(o){function f(y,S,T,M,H){this._reactName=y,this._targetInst=T,this.type=S,this.nativeEvent=M,this.target=H,this.currentTarget=null;for(var ee in o)o.hasOwnProperty(ee)&&(y=o[ee],this[ee]=y?y(M):M[ee]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Th:Sy,this.isPropagationStopped=Sy,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),f}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=ei(Us),zr=p({},Us,{view:0,detail:0}),p1=ei(zr),Kg,Nh,xf,_h=p({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==xf&&(xf&&o.type==="mousemove"?(Kg=o.screenX-xf.screenX,Nh=o.screenY-xf.screenY):Nh=Kg=0,xf=o),Kg)},movementY:function(o){return"movementY"in o?o.movementY:Nh}}),Xg=ei(_h),Mt=p({},_h,{dataTransfer:0}),OR=ei(Mt),g1=p({},zr,{relatedTarget:0}),Ih=ei(g1),Ey=p({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),Ay=ei(Ey),wy=p({},Us,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Cy=ei(wy),Ry=p({},Us,{data:0}),Zg=ei(Ry),Ty={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ny={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iy(o){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(o):(o=_y[o])?!!f[o]:!1}function Oh(){return Iy}var Oy=p({},zr,{key:function(o){if(o.key){var f=Ty[o.key]||o.key;if(f!=="Unidentified")return f}return o.type==="keypress"?(o=Rh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ny[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oh,charCode:function(o){return o.type==="keypress"?Rh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Rh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Dy=ei(Oy),My=p({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=ei(My),Py=p({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oh}),Ly=ei(Py),Fy=p({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),ky=ei(Fy),By=p({},_h,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),m1=ei(By),Mi=p({},Us,{newState:0,oldState:0}),jy=ei(Mi),zy=[9,13,27,32],Qg=Ko&&"CompositionEvent"in window,bf=null;Ko&&"documentMode"in document&&(bf=document.documentMode);var em=Ko&&"TextEvent"in window&&!bf,Wa=Ko&&(!Qg||bf&&8<bf&&11>=bf),xo=" ",Vy=!1;function Uy(o,f){switch(o){case"keyup":return zy.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gy(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Lu=!1;function $y(o,f){switch(o){case"compositionend":return Gy(f);case"keypress":return f.which!==32?null:(Vy=!0,xo);case"textInput":return o=f.data,o===xo&&Vy?null:o;default:return null}}function v1(o,f){if(Lu)return o==="compositionend"||!Qg&&Uy(o,f)?(o=by(),Di=Pu=Vs=null,Lu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Wa&&f.locale!=="ko"?null:f.data;default:return null}}var y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tm(o){var f=o&&o.nodeName&&o.nodeName.toLowerCase();return f==="input"?!!y1[o.type]:f==="textarea"}function Hy(o,f,y,S){$a?Ha?Ha.push(S):Ha=[S]:$a=S,f=Yf(f,"onChange"),0<f.length&&(y=new Xo("onChange","change",null,y,S),o.push({event:y,listeners:f}))}var Pi=null,Gs=null;function Yy(o){Lo(o,0)}function qa(o){var f=Du(o);if(dy(f))return o}function nm(o,f){if(o==="change")return f}var Wy=!1;if(Ko){var rm;if(Ko){var Dh="oninput"in document;if(!Dh){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),Dh=typeof qy.oninput=="function"}rm=Dh}else rm=!1;Wy=rm&&(!document.documentMode||9<document.documentMode)}function Ky(){Pi&&(Pi.detachEvent("onpropertychange",Xy),Gs=Pi=null)}function Xy(o){if(o.propertyName==="value"&&qa(Gs)){var f=[];Hy(f,Gs,o,vf(o)),xy(Yy,f)}}function x1(o,f,y){o==="focusin"?(Ky(),Pi=f,Gs=y,Pi.attachEvent("onpropertychange",Xy)):o==="focusout"&&Ky()}function b1(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return qa(Gs)}function Zy(o,f){if(o==="click")return qa(f)}function im(o,f){if(o==="input"||o==="change")return qa(f)}function S1(o,f){return o===f&&(o!==0||1/o===1/f)||o!==o&&f!==f}var ti=typeof Object.is=="function"?Object.is:S1;function Sf(o,f){if(ti(o,f))return!0;if(typeof o!="object"||o===null||typeof f!="object"||f===null)return!1;var y=Object.keys(o),S=Object.keys(f);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var T=y[S];if(!xe.call(f,T)||!ti(o[T],f[T]))return!1}return!0}function Mh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Jy(o,f){var y=Mh(o);o=0;for(var S;y;){if(y.nodeType===3){if(S=o+y.textContent.length,o<=f&&S>=f)return{node:y,offset:f-o};o=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Mh(y)}}function Qy(o,f){return o&&f?o===f?!0:o&&o.nodeType===3?!1:f&&f.nodeType===3?Qy(o,f.parentNode):"contains"in o?o.contains(f):o.compareDocumentPosition?!!(o.compareDocumentPosition(f)&16):!1:!1}function ex(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var f=Ch(o.document);f instanceof o.HTMLIFrameElement;){try{var y=typeof f.contentWindow.location.href=="string"}catch{y=!1}if(y)o=f.contentWindow;else break;f=Ch(o.document)}return f}function om(o){var f=o&&o.nodeName&&o.nodeName.toLowerCase();return f&&(f==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||f==="textarea"||o.contentEditable==="true")}var Ph=Ko&&"documentMode"in document&&11>=document.documentMode,Ka=null,sm=null,Ef=null,Lh=!1;function tx(o,f,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Lh||Ka==null||Ka!==Ch(S)||(S=Ka,"selectionStart"in S&&om(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Ef&&Sf(Ef,S)||(Ef=S,S=Yf(sm,"onSelect"),0<S.length&&(f=new Xo("onSelect","select",null,f,y),o.push({event:f,listeners:S}),f.target=Ka)))}function Xa(o,f){var y={};return y[o.toLowerCase()]=f.toLowerCase(),y["Webkit"+o]="webkit"+f,y["Moz"+o]="moz"+f,y}var Fu={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Za={},am={};Ko&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function Ja(o){if(Za[o])return Za[o];if(!Fu[o])return o;var f=Fu[o],y;for(y in f)if(f.hasOwnProperty(y)&&y in am)return Za[o]=f[y];return o}var nx=Ja("animationend"),Fh=Ja("animationiteration"),Af=Ja("animationstart"),E1=Ja("transitionrun"),A1=Ja("transitionstart"),w1=Ja("transitioncancel"),rx=Ja("transitionend"),ix=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function vi(o,f){ix.set(o,f),js(f,[o])}var lm=new WeakMap;function Li(o,f){if(typeof o=="object"&&o!==null){var y=lm.get(o);return y!==void 0?y:(f={value:o,source:f,stack:fy(f)},lm.set(o,f),f)}return{value:o,source:f,stack:fy(f)}}var yi=[],ku=0,um=0;function Bh(){for(var o=ku,f=um=ku=0;f<o;){var y=yi[f];yi[f++]=null;var S=yi[f];yi[f++]=null;var T=yi[f];yi[f++]=null;var M=yi[f];if(yi[f++]=null,S!==null&&T!==null){var H=S.pending;H===null?T.next=T:(T.next=H.next,H.next=T),S.pending=T}M!==0&&ox(y,T,M)}}function Zo(o,f,y,S){yi[ku++]=o,yi[ku++]=f,yi[ku++]=y,yi[ku++]=S,um|=S,o.lanes|=S,o=o.alternate,o!==null&&(o.lanes|=S)}function jh(o,f,y,S){return Zo(o,f,y,S),zh(o)}function Bu(o,f){return Zo(o,null,null,f),zh(o)}function ox(o,f,y){o.lanes|=y;var S=o.alternate;S!==null&&(S.lanes|=y);for(var T=!1,M=o.return;M!==null;)M.childLanes|=y,S=M.alternate,S!==null&&(S.childLanes|=y),M.tag===22&&(o=M.stateNode,o===null||o._visibility&1||(T=!0)),o=M,M=M.return;return o.tag===3?(M=o.stateNode,T&&f!==null&&(T=31-lt(y),o=M.hiddenUpdates,S=o[T],S===null?o[T]=[f]:S.push(f),f.lane=y|536870912),M):null}function zh(o){if(50<xn)throw xn=0,kr=null,Error(r(185));for(var f=o.return;f!==null;)o=f,f=o.return;return o.tag===3?o.stateNode:null}var ju={};function C1(o,f,y,S){this.tag=o,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(o,f,y,S){return new C1(o,f,y,S)}function wf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fi(o,f){var y=o.alternate;return y===null?(y=Pr(o.tag,f,o.key,o.mode),y.elementType=o.elementType,y.type=o.type,y.stateNode=o.stateNode,y.alternate=o,o.alternate=y):(y.pendingProps=f,y.type=o.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=o.flags&65011712,y.childLanes=o.childLanes,y.lanes=o.lanes,y.child=o.child,y.memoizedProps=o.memoizedProps,y.memoizedState=o.memoizedState,y.updateQueue=o.updateQueue,f=o.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=o.sibling,y.index=o.index,y.ref=o.ref,y.refCleanup=o.refCleanup,y}function Cf(o,f){o.flags&=65011714;var y=o.alternate;return y===null?(o.childLanes=0,o.lanes=f,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=y.childLanes,o.lanes=y.lanes,o.child=y.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=y.memoizedProps,o.memoizedState=y.memoizedState,o.updateQueue=y.updateQueue,o.type=y.type,f=y.dependencies,o.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),o}function Vh(o,f,y,S,T,M){var H=0;if(S=o,typeof o=="function")wf(o)&&(H=1);else if(typeof o=="string")H=fn(o,y,V.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case $:return o=Pr(31,y,f,T),o.elementType=$,o.lanes=M,o;case A:return $s(y.children,T,M,f);case C:H=8,T|=24;break;case w:return o=Pr(12,y,f,T|2),o.elementType=w,o.lanes=M,o;case L:return o=Pr(13,y,f,T),o.elementType=L,o.lanes=M,o;case k:return o=Pr(19,y,f,T),o.elementType=k,o.lanes=M,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:case N:H=10;break e;case I:H=9;break e;case D:H=11;break e;case j:H=14;break e;case B:H=16,S=null;break e}H=29,y=Error(r(130,o===null?"null":typeof o,"")),S=null}return f=Pr(H,y,f,T),f.elementType=o,f.type=S,f.lanes=M,f}function $s(o,f,y,S){return o=Pr(7,o,S,f),o.lanes=y,o}function cm(o,f,y){return o=Pr(6,o,null,f),o.lanes=y,o}function fm(o,f,y){return f=Pr(4,o.children!==null?o.children:[],o.key,f),f.lanes=y,f.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},f}var zu=[],Vu=0,Uh=null,Gh=0,xi=[],ni=0,Hs=null,bo=1,Kt="";function Qa(o,f){zu[Vu++]=Gh,zu[Vu++]=Uh,Uh=o,Gh=f}function sx(o,f,y){xi[ni++]=bo,xi[ni++]=Kt,xi[ni++]=Hs,Hs=o;var S=bo;o=Kt;var T=32-lt(S)-1;S&=~(1<<T),y+=1;var M=32-lt(f)+T;if(30<M){var H=T-T%5;M=(S&(1<<H)-1).toString(32),S>>=H,T-=H,bo=1<<32-lt(f)+T|y<<T|S,Kt=M+o}else bo=1<<M|y<<T|S,Kt=o}function dm(o){o.return!==null&&(Qa(o,1),sx(o,1,0))}function $h(o){for(;o===Uh;)Uh=zu[--Vu],zu[Vu]=null,Gh=zu[--Vu],zu[Vu]=null;for(;o===Hs;)Hs=xi[--ni],xi[ni]=null,Kt=xi[--ni],xi[ni]=null,bo=xi[--ni],xi[ni]=null}var Vr=null,Yn=null,cn=!1,Ys=null,Qi=!1,hm=Error(r(519));function eo(o){var f=Error(r(418,""));throw Tf(Li(f,o)),hm}function ax(o){var f=o.stateNode,y=o.type,S=o.memoizedProps;switch(f[un]=o,f[Lt]=S,y){case"dialog":kt("cancel",f),kt("close",f);break;case"iframe":case"object":case"embed":kt("load",f);break;case"video":case"audio":for(y=0;y<Po.length;y++)kt(Po[y],f);break;case"source":kt("error",f);break;case"img":case"image":case"link":kt("error",f),kt("load",f);break;case"details":kt("toggle",f);break;case"input":kt("invalid",f),$g(f,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),wh(f);break;case"select":kt("invalid",f);break;case"textarea":kt("invalid",f),hy(f,S.value,S.defaultValue,S.children),wh(f)}y=S.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||f.textContent===""+y||S.suppressHydrationWarning===!0||Wx(f.textContent,y)?(S.popover!=null&&(kt("beforetoggle",f),kt("toggle",f)),S.onScroll!=null&&kt("scroll",f),S.onScrollEnd!=null&&kt("scrollend",f),S.onClick!=null&&(f.onclick=ml),f=!0):f=!1,f||eo(o)}function lx(o){for(Vr=o.return;Vr;)switch(Vr.tag){case 5:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:Vr=Vr.return}}function Rf(o){if(o!==Vr)return!1;if(!cn)return lx(o),cn=!0,!1;var f=o.tag,y;if((y=f!==3&&f!==27)&&((y=f===5)&&(y=o.type,y=!(y!=="form"&&y!=="button")||vc(o.type,o.memoizedProps)),y=!y),y&&Yn&&eo(o),lx(o),f===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,f=0;o;){if(o.nodeType===8)if(y=o.data,y==="/$"){if(f===0){Yn=fi(o.nextSibling);break e}f--}else y!=="$"&&y!=="$!"&&y!=="$?"||f++;o=o.nextSibling}Yn=null}}else f===27?(f=Yn,bs(o.type)?(o=x0,x0=null,Yn=o):Yn=f):Yn=Vr?fi(o.stateNode.nextSibling):null;return!0}function Uu(){Yn=Vr=null,cn=!1}function el(){var o=Ys;return o!==null&&(qr===null?qr=o:qr.push.apply(qr,o),Ys=null),o}function Tf(o){Ys===null?Ys=[o]:Ys.push(o)}var pm=oe(null),tl=null,Jo=null;function Ws(o,f,y){z(pm,f._currentValue),f._currentValue=y}function Qo(o){o._currentValue=pm.current,he(pm)}function gm(o,f,y){for(;o!==null;){var S=o.alternate;if((o.childLanes&f)!==f?(o.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),o===y)break;o=o.return}}function Hh(o,f,y,S){var T=o.child;for(T!==null&&(T.return=o);T!==null;){var M=T.dependencies;if(M!==null){var H=T.child;M=M.firstContext;e:for(;M!==null;){var ee=M;M=T;for(var fe=0;fe<f.length;fe++)if(ee.context===f[fe]){M.lanes|=y,ee=M.alternate,ee!==null&&(ee.lanes|=y),gm(M.return,y,o),S||(H=null);break e}M=ee.next}}else if(T.tag===18){if(H=T.return,H===null)throw Error(r(341));H.lanes|=y,M=H.alternate,M!==null&&(M.lanes|=y),gm(H,y,o),H=null}else H=T.child;if(H!==null)H.return=T;else for(H=T;H!==null;){if(H===o){H=null;break}if(T=H.sibling,T!==null){T.return=H.return,H=T;break}H=H.return}T=H}}function Nf(o,f,y,S){o=null;for(var T=f,M=!1;T!==null;){if(!M){if((T.flags&524288)!==0)M=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var H=T.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var ee=T.type;ti(T.pendingProps.value,H.value)||(o!==null?o.push(ee):o=[ee])}}else if(T===Q.current){if(H=T.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(o!==null?o.push(bc):o=[bc])}T=T.return}o!==null&&Hh(f,o,y,S),f.flags|=262144}function Yh(o){for(o=o.firstContext;o!==null;){if(!ti(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function qs(o){tl=o,Jo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function br(o){return mm(tl,o)}function Gu(o,f){return tl===null&&qs(o),mm(o,f)}function mm(o,f){var y=f._currentValue;if(f={context:f,memoizedValue:y,next:null},Jo===null){if(o===null)throw Error(r(308));Jo=f,o.dependencies={lanes:0,firstContext:f},o.flags|=524288}else Jo=Jo.next=f;return y}var R1=typeof AbortController<"u"?AbortController:function(){var o=[],f=this.signal={aborted:!1,addEventListener:function(y,S){o.push(S)}};this.abort=function(){f.aborted=!0,o.forEach(function(y){return y()})}},T1=e.unstable_scheduleCallback,$u=e.unstable_NormalPriority,nr={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vm(){return{controller:new R1,data:new Map,refCount:0}}function _f(o){o.refCount--,o.refCount===0&&T1($u,function(){o.controller.abort()})}var Hu=null,ym=0,Yu=0,Wu=null;function N1(o,f){if(Hu===null){var y=Hu=[];ym=0,Yu=Rp(),Wu={status:"pending",value:void 0,then:function(S){y.push(S)}}}return ym++,f.then(_1,_1),f}function _1(){if(--ym===0&&Hu!==null){Wu!==null&&(Wu.status="fulfilled");var o=Hu;Hu=null,Yu=0,Wu=null;for(var f=0;f<o.length;f++)(0,o[f])()}}function I1(o,f){var y=[],S={status:"pending",value:null,reason:null,then:function(T){y.push(T)}};return o.then(function(){S.status="fulfilled",S.value=f;for(var T=0;T<y.length;T++)(0,y[T])(f)},function(T){for(S.status="rejected",S.reason=T,T=0;T<y.length;T++)(0,y[T])(void 0)}),S}var ux=ie.S;ie.S=function(o,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&N1(o,f),ux!==null&&ux(o,f)};var Ks=oe(null);function Wh(){var o=Ks.current;return o!==null?o:Pn.pooledCache}function If(o,f){f===null?z(Ks,Ks.current):z(Ks,f.pool)}function cx(){var o=Wh();return o===null?null:{parent:nr._currentValue,pool:o}}var qu=Error(r(460)),fx=Error(r(474)),Of=Error(r(542)),qh={then:function(){}};function xm(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Kh(){}function dx(o,f,y){switch(y=o[y],y===void 0?o.push(f):y!==f&&(f.then(Kh,Kh),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw o=f.reason,bm(o),o;default:if(typeof f.status=="string")f.then(Kh,Kh);else{if(o=Pn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=f,o.status="pending",o.then(function(S){if(f.status==="pending"){var T=f;T.status="fulfilled",T.value=S}},function(S){if(f.status==="pending"){var T=f;T.status="rejected",T.reason=S}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw o=f.reason,bm(o),o}throw Ku=f,qu}}var Ku=null;function hx(){if(Ku===null)throw Error(r(459));var o=Ku;return Ku=null,o}function bm(o){if(o===qu||o===Of)throw Error(r(483))}var es=!1;function Sm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(o,f){o=o.updateQueue,f.updateQueue===o&&(f.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ri(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Xs(o,f,y){var S=o.updateQueue;if(S===null)return null;if(S=S.shared,(hn&2)!==0){var T=S.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),S.pending=f,f=zh(o),ox(o,null,y),f}return Zo(o,S,f,y),zh(o)}function Xu(o,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194048)!==0)){var S=f.lanes;S&=o.pendingLanes,y|=S,f.lanes=y,ln(o,y)}}function Em(o,f){var y=o.updateQueue,S=o.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var T=null,M=null;if(y=y.firstBaseUpdate,y!==null){do{var H={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};M===null?T=M=H:M=M.next=H,y=y.next}while(y!==null);M===null?T=M=f:M=M.next=f}else T=M=f;y={baseState:S.baseState,firstBaseUpdate:T,lastBaseUpdate:M,shared:S.shared,callbacks:S.callbacks},o.updateQueue=y;return}o=y.lastBaseUpdate,o===null?y.firstBaseUpdate=f:o.next=f,y.lastBaseUpdate=f}var Ft=!1;function Df(){if(Ft){var o=Wu;if(o!==null)throw o}}function Mf(o,f,y,S){Ft=!1;var T=o.updateQueue;es=!1;var M=T.firstBaseUpdate,H=T.lastBaseUpdate,ee=T.shared.pending;if(ee!==null){T.shared.pending=null;var fe=ee,De=fe.next;fe.next=null,H===null?M=De:H.next=De,H=fe;var ze=o.alternate;ze!==null&&(ze=ze.updateQueue,ee=ze.lastBaseUpdate,ee!==H&&(ee===null?ze.firstBaseUpdate=De:ee.next=De,ze.lastBaseUpdate=fe))}if(M!==null){var $e=T.baseState;H=0,ze=De=fe=null,ee=M;do{var Le=ee.lane&-536870913,Fe=Le!==ee.lane;if(Fe?(en&Le)===Le:(S&Le)===Le){Le!==0&&Le===Yu&&(Ft=!0),ze!==null&&(ze=ze.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Ot=o,Ct=ee;Le=f;var Ln=y;switch(Ct.tag){case 1:if(Ot=Ct.payload,typeof Ot=="function"){$e=Ot.call(Ln,$e,Le);break e}$e=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=Ct.payload,Le=typeof Ot=="function"?Ot.call(Ln,$e,Le):Ot,Le==null)break e;$e=p({},$e,Le);break e;case 2:es=!0}}Le=ee.callback,Le!==null&&(o.flags|=64,Fe&&(o.flags|=8192),Fe=T.callbacks,Fe===null?T.callbacks=[Le]:Fe.push(Le))}else Fe={lane:Le,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ze===null?(De=ze=Fe,fe=$e):ze=ze.next=Fe,H|=Le;if(ee=ee.next,ee===null){if(ee=T.shared.pending,ee===null)break;Fe=ee,ee=Fe.next,Fe.next=null,T.lastBaseUpdate=Fe,T.shared.pending=null}}while(!0);ze===null&&(fe=$e),T.baseState=fe,T.firstBaseUpdate=De,T.lastBaseUpdate=ze,M===null&&(T.shared.lanes=0),Oo|=H,o.lanes=H,o.memoizedState=$e}}function px(o,f){if(typeof o!="function")throw Error(r(191,o));o.call(f)}function Zh(o,f){var y=o.callbacks;if(y!==null)for(o.callbacks=null,o=0;o<y.length;o++)px(y[o],f)}var Zs=oe(null),Zu=oe(0);function gx(o,f){o=ms,z(Zu,o),z(Zs,f),ms=o|f.baseLanes}function Am(){z(Zu,ms),z(Zs,Zs.current)}function wm(){ms=Zu.current,he(Zs),he(Zu)}var Js=0,Ut=null,An=null,rr=null,Jh=!1,Ju=!1,nl=!1,ts=0,Lr=0,Qu=null,O1=0;function Jn(){throw Error(r(321))}function Cm(o,f){if(f===null)return!1;for(var y=0;y<f.length&&y<o.length;y++)if(!ti(o[y],f[y]))return!1;return!0}function Rm(o,f,y,S,T,M){return Js=M,Ut=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ie.H=o===null||o.memoizedState===null?Xe:wn,nl=!1,M=y(S,T),nl=!1,Ju&&(M=vx(f,y,S,T)),mx(o),M}function mx(o){ie.H=Ar;var f=An!==null&&An.next!==null;if(Js=0,rr=An=Ut=null,Jh=!1,Lr=0,Qu=null,f)throw Error(r(300));o===null||Wn||(o=o.dependencies,o!==null&&Yh(o)&&(Wn=!0))}function vx(o,f,y,S){Ut=o;var T=0;do{if(Ju&&(Qu=null),Lr=0,Ju=!1,25<=T)throw Error(r(301));if(T+=1,rr=An=null,o.updateQueue!=null){var M=o.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}ie.H=Vn,M=f(y,S)}while(Ju);return M}function D1(){var o=ie.H,f=o.useState()[0];return f=typeof f.then=="function"?Pf(f):f,o=o.useState()[0],(An!==null?An.memoizedState:null)!==o&&(Ut.flags|=1024),f}function Qh(){var o=ts!==0;return ts=0,o}function Tm(o,f,y){f.updateQueue=o.updateQueue,f.flags&=-2053,o.lanes&=~y}function Nm(o){if(Jh){for(o=o.memoizedState;o!==null;){var f=o.queue;f!==null&&(f.pending=null),o=o.next}Jh=!1}Js=0,rr=An=Ut=null,Ju=!1,Lr=ts=0,Qu=null}function ii(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?Ut.memoizedState=rr=o:rr=rr.next=o,rr}function ir(){if(An===null){var o=Ut.alternate;o=o!==null?o.memoizedState:null}else o=An.next;var f=rr===null?Ut.memoizedState:rr.next;if(f!==null)rr=f,An=o;else{if(o===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));An=o,o={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},rr===null?Ut.memoizedState=rr=o:rr=rr.next=o}return rr}function _m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pf(o){var f=Lr;return Lr+=1,Qu===null&&(Qu=[]),o=dx(Qu,o,f),f=Ut,(rr===null?f.memoizedState:rr.next)===null&&(f=f.alternate,ie.H=f===null||f.memoizedState===null?Xe:wn),o}function Lf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Pf(o);if(o.$$typeof===N)return br(o)}throw Error(r(438,String(o)))}function rl(o){var f=null,y=Ut.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var S=Ut.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(f={data:S.data.map(function(T){return T.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=_m(),Ut.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(o),S=0;S<o;S++)y[S]=K;return f.index++,y}function ns(o,f){return typeof f=="function"?f(o):f}function ep(o){var f=ir();return Im(f,An,o)}function Im(o,f,y){var S=o.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=y;var T=o.baseQueue,M=S.pending;if(M!==null){if(T!==null){var H=T.next;T.next=M.next,M.next=H}f.baseQueue=T=M,S.pending=null}if(M=o.baseState,T===null)o.memoizedState=M;else{f=T.next;var ee=H=null,fe=null,De=f,ze=!1;do{var $e=De.lane&-536870913;if($e!==De.lane?(en&$e)===$e:(Js&$e)===$e){var Le=De.revertLane;if(Le===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),$e===Yu&&(ze=!0);else if((Js&Le)===Le){De=De.next,Le===Yu&&(ze=!0);continue}else $e={lane:0,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},fe===null?(ee=fe=$e,H=M):fe=fe.next=$e,Ut.lanes|=Le,Oo|=Le;$e=De.action,nl&&y(M,$e),M=De.hasEagerState?De.eagerState:y(M,$e)}else Le={lane:$e,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},fe===null?(ee=fe=Le,H=M):fe=fe.next=Le,Ut.lanes|=$e,Oo|=$e;De=De.next}while(De!==null&&De!==f);if(fe===null?H=M:fe.next=ee,!ti(M,o.memoizedState)&&(Wn=!0,ze&&(y=Wu,y!==null)))throw y;o.memoizedState=M,o.baseState=H,o.baseQueue=fe,S.lastRenderedState=M}return T===null&&(S.lanes=0),[o.memoizedState,S.dispatch]}function Om(o){var f=ir(),y=f.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=o;var S=y.dispatch,T=y.pending,M=f.memoizedState;if(T!==null){y.pending=null;var H=T=T.next;do M=o(M,H.action),H=H.next;while(H!==T);ti(M,f.memoizedState)||(Wn=!0),f.memoizedState=M,f.baseQueue===null&&(f.baseState=M),y.lastRenderedState=M}return[M,S]}function Dm(o,f,y){var S=Ut,T=ir(),M=cn;if(M){if(y===void 0)throw Error(r(407));y=y()}else y=f();var H=!ti((An||T).memoizedState,y);H&&(T.memoizedState=y,Wn=!0),T=T.queue;var ee=M1.bind(null,S,T,o);if(Ur(2048,8,ee,[o]),T.getSnapshot!==f||H||rr!==null&&rr.memoizedState.tag&1){if(S.flags|=2048,is(9,os(),Ff.bind(null,S,T,y,f),null),Pn===null)throw Error(r(349));M||(Js&124)!==0||zt(S,f,y)}return y}function zt(o,f,y){o.flags|=16384,o={getSnapshot:f,value:y},f=Ut.updateQueue,f===null?(f=_m(),Ut.updateQueue=f,f.stores=[o]):(y=f.stores,y===null?f.stores=[o]:y.push(o))}function Ff(o,f,y,S){f.value=y,f.getSnapshot=S,yx(f)&&P1(o)}function M1(o,f,y){return y(function(){yx(f)&&P1(o)})}function yx(o){var f=o.getSnapshot;o=o.value;try{var y=f();return!ti(o,y)}catch{return!0}}function P1(o){var f=Bu(o,2);f!==null&&Je(f,o,2)}function Mm(o){var f=ii();if(typeof o=="function"){var y=o;if(o=y(),nl){tt(!0);try{y()}finally{tt(!1)}}}return f.memoizedState=f.baseState=o,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:o},f}function ve(o,f,y,S){return o.baseState=y,Im(o,An,typeof S=="function"?S:ns)}function Ae(o,f,y,S,T){if(tc(o))throw Error(r(485));if(o=f.action,o!==null){var M={payload:T,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){M.listeners.push(H)}};ie.T!==null?y(!0):M.isTransition=!1,S(M),y=f.pending,y===null?(M.next=f.pending=M,to(f,M)):(M.next=y.next,f.pending=y.next=M)}}function to(o,f){var y=f.action,S=f.payload,T=o.state;if(f.isTransition){var M=ie.T,H={};ie.T=H;try{var ee=y(T,S),fe=ie.S;fe!==null&&fe(H,ee),tp(o,f,ee)}catch(De){oi(o,f,De)}finally{ie.T=M}}else try{M=y(T,S),tp(o,f,M)}catch(De){oi(o,f,De)}}function tp(o,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(S){no(o,f,S)},function(S){return oi(o,f,S)}):no(o,f,y)}function no(o,f,y){f.status="fulfilled",f.value=y,np(f),o.state=y,f=o.pending,f!==null&&(y=f.next,y===f?o.pending=null:(y=y.next,f.next=y,to(o,y)))}function oi(o,f,y){var S=o.pending;if(o.pending=null,S!==null){S=S.next;do f.status="rejected",f.reason=y,np(f),f=f.next;while(f!==S)}o.action=null}function np(o){o=o.listeners;for(var f=0;f<o.length;f++)(0,o[f])()}function Pm(o,f){return f}function rp(o,f){if(cn){var y=Pn.formState;if(y!==null){e:{var S=Ut;if(cn){if(Yn){t:{for(var T=Yn,M=Qi;T.nodeType!==8;){if(!M){T=null;break t}if(T=fi(T.nextSibling),T===null){T=null;break t}}M=T.data,T=M==="F!"||M==="F"?T:null}if(T){Yn=fi(T.nextSibling),S=T.data==="F!";break e}}eo(S)}S=!1}S&&(f=y[0])}}return y=ii(),y.memoizedState=y.baseState=f,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:f},y.queue=S,y=So.bind(null,Ut,S),S.dispatch=y,S=Mm(!1),M=op.bind(null,Ut,!1,S.queue),S=ii(),T={state:f,dispatch:null,action:o,pending:null},S.queue=T,y=Ae.bind(null,Ut,T,M,y),T.dispatch=y,S.memoizedState=o,[f,y,!1]}function il(o){var f=ir();return ro(f,An,o)}function ro(o,f,y){if(f=Im(o,f,Pm)[0],o=ep(ns)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var S=Pf(f)}catch(H){throw H===qu?Of:H}else S=f;f=ir();var T=f.queue,M=T.dispatch;return y!==f.memoizedState&&(Ut.flags|=2048,is(9,os(),kf.bind(null,T,y),null)),[S,M,o]}function kf(o,f){o.action=f}function rs(o){var f=ir(),y=An;if(y!==null)return ro(f,y,o);ir(),f=f.memoizedState,y=ir();var S=y.queue.dispatch;return y.memoizedState=o,[f,S,!1]}function is(o,f,y,S){return o={tag:o,create:y,deps:S,inst:f,next:null},f=Ut.updateQueue,f===null&&(f=_m(),Ut.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=o.next=o:(S=y.next,y.next=o,o.next=S,f.lastEffect=o),o}function os(){return{destroy:void 0,resource:void 0}}function Sr(){return ir().memoizedState}function On(o,f,y,S){var T=ii();S=S===void 0?null:S,Ut.flags|=o,T.memoizedState=is(1|f,os(),y,S)}function Ur(o,f,y,S){var T=ir();S=S===void 0?null:S;var M=T.memoizedState.inst;An!==null&&S!==null&&Cm(S,An.memoizedState.deps)?T.memoizedState=is(f,M,y,S):(Ut.flags|=o,T.memoizedState=is(1|f,M,y,S))}function Lm(o,f){On(8390656,8,o,f)}function ec(o,f){Ur(2048,8,o,f)}function bi(o,f){return Ur(4,2,o,f)}function $t(o,f){return Ur(4,4,o,f)}function Er(o,f){if(typeof f=="function"){o=o();var y=f(o);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return o=o(),f.current=o,function(){f.current=null}}function Fm(o,f,y){y=y!=null?y.concat([o]):null,Ur(4,4,Er.bind(null,f,o),y)}function ip(){}function km(o,f){var y=ir();f=f===void 0?null:f;var S=y.memoizedState;return f!==null&&Cm(f,S[1])?S[0]:(y.memoizedState=[o,f],o)}function Qs(o,f){var y=ir();f=f===void 0?null:f;var S=y.memoizedState;if(f!==null&&Cm(f,S[1]))return S[0];if(S=o(),nl){tt(!0);try{o()}finally{tt(!1)}}return y.memoizedState=[S,f],S}function si(o,f,y){return y===void 0||(Js&1073741824)!==0?o.memoizedState=f:(o.memoizedState=y,o=Bx(),Ut.lanes|=o,Oo|=o,y)}function Qt(o,f,y,S){return ti(y,f)?y:Zs.current!==null?(o=si(o,y,S),ti(o,f)||(Wn=!0),o):(Js&42)===0?(Wn=!0,o.memoizedState=y):(o=Bx(),Ut.lanes|=o,Oo|=o,f)}function Bf(o,f,y,S,T){var M=Ee.p;Ee.p=M!==0&&8>M?M:8;var H=ie.T,ee={};ie.T=ee,op(o,!1,f,y);try{var fe=T(),De=ie.S;if(De!==null&&De(ee,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var ze=I1(fe,S);Eo(o,f,ze,fr(o))}else Eo(o,f,S,fr(o))}catch($e){Eo(o,f,{then:function(){},status:"rejected",reason:$e},fr())}finally{Ee.p=M,ie.T=H}}function Bm(){}function ai(o,f,y,S){if(o.tag!==5)throw Error(r(476));var T=jm(o).queue;Bf(o,T,f,de,y===null?Bm:function(){return xx(o),y(S)})}function jm(o){var f=o.memoizedState;if(f!==null)return f;f={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:de},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:y},next:null},o.memoizedState=f,o=o.alternate,o!==null&&(o.memoizedState=f),f}function xx(o){var f=jm(o).next.queue;Eo(o,f,{},fr())}function ea(){return br(bc)}function zm(){return ir().memoizedState}function bx(){return ir().memoizedState}function Sx(o){for(var f=o.return;f!==null;){switch(f.tag){case 24:case 3:var y=fr();o=ri(y);var S=Xs(f,o,y);S!==null&&(Je(S,f,y),Xu(S,f,y)),f={cache:vm()},o.payload=f;return}f=f.return}}function io(o,f,y){var S=fr();y={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},tc(o)?Vm(f,y):(y=jh(o,f,y,S),y!==null&&(Je(y,o,S),Um(y,f,S)))}function So(o,f,y){var S=fr();Eo(o,f,y,S)}function Eo(o,f,y,S){var T={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(tc(o))Vm(f,T);else{var M=o.alternate;if(o.lanes===0&&(M===null||M.lanes===0)&&(M=f.lastRenderedReducer,M!==null))try{var H=f.lastRenderedState,ee=M(H,y);if(T.hasEagerState=!0,T.eagerState=ee,ti(ee,H))return Zo(o,f,T,0),Pn===null&&Bh(),!1}catch{}finally{}if(y=jh(o,f,T,S),y!==null)return Je(y,o,S),Um(y,f,S),!0}return!1}function op(o,f,y,S){if(S={lane:2,revertLane:Rp(),action:S,hasEagerState:!1,eagerState:null,next:null},tc(o)){if(f)throw Error(r(479))}else f=jh(o,y,S,2),f!==null&&Je(f,o,2)}function tc(o){var f=o.alternate;return o===Ut||f!==null&&f===Ut}function Vm(o,f){Ju=Jh=!0;var y=o.pending;y===null?f.next=f:(f.next=y.next,y.next=f),o.pending=f}function Um(o,f,y){if((y&4194048)!==0){var S=f.lanes;S&=o.pendingLanes,y|=S,f.lanes=y,ln(o,y)}}var Ar={readContext:br,use:Lf,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useInsertionEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useSyncExternalStore:Jn,useId:Jn,useHostTransitionStatus:Jn,useFormState:Jn,useActionState:Jn,useOptimistic:Jn,useMemoCache:Jn,useCacheRefresh:Jn},Xe={readContext:br,use:Lf,useCallback:function(o,f){return ii().memoizedState=[o,f===void 0?null:f],o},useContext:br,useEffect:Lm,useImperativeHandle:function(o,f,y){y=y!=null?y.concat([o]):null,On(4194308,4,Er.bind(null,f,o),y)},useLayoutEffect:function(o,f){return On(4194308,4,o,f)},useInsertionEffect:function(o,f){On(4,2,o,f)},useMemo:function(o,f){var y=ii();f=f===void 0?null:f;var S=o();if(nl){tt(!0);try{o()}finally{tt(!1)}}return y.memoizedState=[S,f],S},useReducer:function(o,f,y){var S=ii();if(y!==void 0){var T=y(f);if(nl){tt(!0);try{y(f)}finally{tt(!1)}}}else T=f;return S.memoizedState=S.baseState=T,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:T},S.queue=o,o=o.dispatch=io.bind(null,Ut,o),[S.memoizedState,o]},useRef:function(o){var f=ii();return o={current:o},f.memoizedState=o},useState:function(o){o=Mm(o);var f=o.queue,y=So.bind(null,Ut,f);return f.dispatch=y,[o.memoizedState,y]},useDebugValue:ip,useDeferredValue:function(o,f){var y=ii();return si(y,o,f)},useTransition:function(){var o=Mm(!1);return o=Bf.bind(null,Ut,o.queue,!0,!1),ii().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,f,y){var S=Ut,T=ii();if(cn){if(y===void 0)throw Error(r(407));y=y()}else{if(y=f(),Pn===null)throw Error(r(349));(en&124)!==0||zt(S,f,y)}T.memoizedState=y;var M={value:y,getSnapshot:f};return T.queue=M,Lm(M1.bind(null,S,M,o),[o]),S.flags|=2048,is(9,os(),Ff.bind(null,S,M,y,f),null),y},useId:function(){var o=ii(),f=Pn.identifierPrefix;if(cn){var y=Kt,S=bo;y=(S&~(1<<32-lt(S)-1)).toString(32)+y,f=""+f+"R"+y,y=ts++,0<y&&(f+="H"+y.toString(32)),f+=""}else y=O1++,f=""+f+"r"+y.toString(32)+"";return o.memoizedState=f},useHostTransitionStatus:ea,useFormState:rp,useActionState:rp,useOptimistic:function(o){var f=ii();f.memoizedState=f.baseState=o;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=op.bind(null,Ut,!0,y),y.dispatch=f,[o,f]},useMemoCache:rl,useCacheRefresh:function(){return ii().memoizedState=Sx.bind(null,Ut)}},wn={readContext:br,use:Lf,useCallback:km,useContext:br,useEffect:ec,useImperativeHandle:Fm,useInsertionEffect:bi,useLayoutEffect:$t,useMemo:Qs,useReducer:ep,useRef:Sr,useState:function(){return ep(ns)},useDebugValue:ip,useDeferredValue:function(o,f){var y=ir();return Qt(y,An.memoizedState,o,f)},useTransition:function(){var o=ep(ns)[0],f=ir().memoizedState;return[typeof o=="boolean"?o:Pf(o),f]},useSyncExternalStore:Dm,useId:zm,useHostTransitionStatus:ea,useFormState:il,useActionState:il,useOptimistic:function(o,f){var y=ir();return ve(y,An,o,f)},useMemoCache:rl,useCacheRefresh:bx},Vn={readContext:br,use:Lf,useCallback:km,useContext:br,useEffect:ec,useImperativeHandle:Fm,useInsertionEffect:bi,useLayoutEffect:$t,useMemo:Qs,useReducer:Om,useRef:Sr,useState:function(){return Om(ns)},useDebugValue:ip,useDeferredValue:function(o,f){var y=ir();return An===null?si(y,o,f):Qt(y,An.memoizedState,o,f)},useTransition:function(){var o=Om(ns)[0],f=ir().memoizedState;return[typeof o=="boolean"?o:Pf(o),f]},useSyncExternalStore:Dm,useId:zm,useHostTransitionStatus:ea,useFormState:rs,useActionState:rs,useOptimistic:function(o,f){var y=ir();return An!==null?ve(y,An,o,f):(y.baseState=o,[o,y.queue.dispatch])},useMemoCache:rl,useCacheRefresh:bx},ss=null,as=0;function ar(o){var f=as;return as+=1,ss===null&&(ss=[]),dx(ss,o,f)}function ki(o,f){f=f.props.ref,o.ref=f!==void 0?f:null}function Si(o,f){throw f.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(f),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":o)))}function ta(o){var f=o._init;return f(o._payload)}function Bi(o){function f(Ce,be){if(o){var _e=Ce.deletions;_e===null?(Ce.deletions=[be],Ce.flags|=16):_e.push(be)}}function y(Ce,be){if(!o)return null;for(;be!==null;)f(Ce,be),be=be.sibling;return null}function S(Ce){for(var be=new Map;Ce!==null;)Ce.key!==null?be.set(Ce.key,Ce):be.set(Ce.index,Ce),Ce=Ce.sibling;return be}function T(Ce,be){return Ce=Fi(Ce,be),Ce.index=0,Ce.sibling=null,Ce}function M(Ce,be,_e){return Ce.index=_e,o?(_e=Ce.alternate,_e!==null?(_e=_e.index,_e<be?(Ce.flags|=67108866,be):_e):(Ce.flags|=67108866,be)):(Ce.flags|=1048576,be)}function H(Ce){return o&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function ee(Ce,be,_e,Ge){return be===null||be.tag!==6?(be=cm(_e,Ce.mode,Ge),be.return=Ce,be):(be=T(be,_e),be.return=Ce,be)}function fe(Ce,be,_e,Ge){var ut=_e.type;return ut===A?ze(Ce,be,_e.props.children,Ge,_e.key):be!==null&&(be.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===B&&ta(ut)===be.type)?(be=T(be,_e.props),ki(be,_e),be.return=Ce,be):(be=Vh(_e.type,_e.key,_e.props,null,Ce.mode,Ge),ki(be,_e),be.return=Ce,be)}function De(Ce,be,_e,Ge){return be===null||be.tag!==4||be.stateNode.containerInfo!==_e.containerInfo||be.stateNode.implementation!==_e.implementation?(be=fm(_e,Ce.mode,Ge),be.return=Ce,be):(be=T(be,_e.children||[]),be.return=Ce,be)}function ze(Ce,be,_e,Ge,ut){return be===null||be.tag!==7?(be=$s(_e,Ce.mode,Ge,ut),be.return=Ce,be):(be=T(be,_e),be.return=Ce,be)}function $e(Ce,be,_e){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=cm(""+be,Ce.mode,_e),be.return=Ce,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case x:return _e=Vh(be.type,be.key,be.props,null,Ce.mode,_e),ki(_e,be),_e.return=Ce,_e;case b:return be=fm(be,Ce.mode,_e),be.return=Ce,be;case B:var Ge=be._init;return be=Ge(be._payload),$e(Ce,be,_e)}if(Oe(be)||re(be))return be=$s(be,Ce.mode,_e,null),be.return=Ce,be;if(typeof be.then=="function")return $e(Ce,ar(be),_e);if(be.$$typeof===N)return $e(Ce,Gu(Ce,be),_e);Si(Ce,be)}return null}function Le(Ce,be,_e,Ge){var ut=be!==null?be.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ut!==null?null:ee(Ce,be,""+_e,Ge);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case x:return _e.key===ut?fe(Ce,be,_e,Ge):null;case b:return _e.key===ut?De(Ce,be,_e,Ge):null;case B:return ut=_e._init,_e=ut(_e._payload),Le(Ce,be,_e,Ge)}if(Oe(_e)||re(_e))return ut!==null?null:ze(Ce,be,_e,Ge,null);if(typeof _e.then=="function")return Le(Ce,be,ar(_e),Ge);if(_e.$$typeof===N)return Le(Ce,be,Gu(Ce,_e),Ge);Si(Ce,_e)}return null}function Fe(Ce,be,_e,Ge,ut){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ce=Ce.get(_e)||null,ee(be,Ce,""+Ge,ut);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case x:return Ce=Ce.get(Ge.key===null?_e:Ge.key)||null,fe(be,Ce,Ge,ut);case b:return Ce=Ce.get(Ge.key===null?_e:Ge.key)||null,De(be,Ce,Ge,ut);case B:var Zt=Ge._init;return Ge=Zt(Ge._payload),Fe(Ce,be,_e,Ge,ut)}if(Oe(Ge)||re(Ge))return Ce=Ce.get(_e)||null,ze(be,Ce,Ge,ut,null);if(typeof Ge.then=="function")return Fe(Ce,be,_e,ar(Ge),ut);if(Ge.$$typeof===N)return Fe(Ce,be,_e,Gu(be,Ge),ut);Si(be,Ge)}return null}function Ot(Ce,be,_e,Ge){for(var ut=null,Zt=null,bt=be,Tt=be=0,Br=null;bt!==null&&Tt<_e.length;Tt++){bt.index>Tt?(Br=bt,bt=null):Br=bt.sibling;var pn=Le(Ce,bt,_e[Tt],Ge);if(pn===null){bt===null&&(bt=Br);break}o&&bt&&pn.alternate===null&&f(Ce,bt),be=M(pn,be,Tt),Zt===null?ut=pn:Zt.sibling=pn,Zt=pn,bt=Br}if(Tt===_e.length)return y(Ce,bt),cn&&Qa(Ce,Tt),ut;if(bt===null){for(;Tt<_e.length;Tt++)bt=$e(Ce,_e[Tt],Ge),bt!==null&&(be=M(bt,be,Tt),Zt===null?ut=bt:Zt.sibling=bt,Zt=bt);return cn&&Qa(Ce,Tt),ut}for(bt=S(bt);Tt<_e.length;Tt++)Br=Fe(bt,Ce,Tt,_e[Tt],Ge),Br!==null&&(o&&Br.alternate!==null&&bt.delete(Br.key===null?Tt:Br.key),be=M(Br,be,Tt),Zt===null?ut=Br:Zt.sibling=Br,Zt=Br);return o&&bt.forEach(function(Cc){return f(Ce,Cc)}),cn&&Qa(Ce,Tt),ut}function Ct(Ce,be,_e,Ge){if(_e==null)throw Error(r(151));for(var ut=null,Zt=null,bt=be,Tt=be=0,Br=null,pn=_e.next();bt!==null&&!pn.done;Tt++,pn=_e.next()){bt.index>Tt?(Br=bt,bt=null):Br=bt.sibling;var Cc=Le(Ce,bt,pn.value,Ge);if(Cc===null){bt===null&&(bt=Br);break}o&&bt&&Cc.alternate===null&&f(Ce,bt),be=M(Cc,be,Tt),Zt===null?ut=Cc:Zt.sibling=Cc,Zt=Cc,bt=Br}if(pn.done)return y(Ce,bt),cn&&Qa(Ce,Tt),ut;if(bt===null){for(;!pn.done;Tt++,pn=_e.next())pn=$e(Ce,pn.value,Ge),pn!==null&&(be=M(pn,be,Tt),Zt===null?ut=pn:Zt.sibling=pn,Zt=pn);return cn&&Qa(Ce,Tt),ut}for(bt=S(bt);!pn.done;Tt++,pn=_e.next())pn=Fe(bt,Ce,Tt,pn.value,Ge),pn!==null&&(o&&pn.alternate!==null&&bt.delete(pn.key===null?Tt:pn.key),be=M(pn,be,Tt),Zt===null?ut=pn:Zt.sibling=pn,Zt=pn);return o&&bt.forEach(function(NB){return f(Ce,NB)}),cn&&Qa(Ce,Tt),ut}function Ln(Ce,be,_e,Ge){if(typeof _e=="object"&&_e!==null&&_e.type===A&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case x:e:{for(var ut=_e.key;be!==null;){if(be.key===ut){if(ut=_e.type,ut===A){if(be.tag===7){y(Ce,be.sibling),Ge=T(be,_e.props.children),Ge.return=Ce,Ce=Ge;break e}}else if(be.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===B&&ta(ut)===be.type){y(Ce,be.sibling),Ge=T(be,_e.props),ki(Ge,_e),Ge.return=Ce,Ce=Ge;break e}y(Ce,be);break}else f(Ce,be);be=be.sibling}_e.type===A?(Ge=$s(_e.props.children,Ce.mode,Ge,_e.key),Ge.return=Ce,Ce=Ge):(Ge=Vh(_e.type,_e.key,_e.props,null,Ce.mode,Ge),ki(Ge,_e),Ge.return=Ce,Ce=Ge)}return H(Ce);case b:e:{for(ut=_e.key;be!==null;){if(be.key===ut)if(be.tag===4&&be.stateNode.containerInfo===_e.containerInfo&&be.stateNode.implementation===_e.implementation){y(Ce,be.sibling),Ge=T(be,_e.children||[]),Ge.return=Ce,Ce=Ge;break e}else{y(Ce,be);break}else f(Ce,be);be=be.sibling}Ge=fm(_e,Ce.mode,Ge),Ge.return=Ce,Ce=Ge}return H(Ce);case B:return ut=_e._init,_e=ut(_e._payload),Ln(Ce,be,_e,Ge)}if(Oe(_e))return Ot(Ce,be,_e,Ge);if(re(_e)){if(ut=re(_e),typeof ut!="function")throw Error(r(150));return _e=ut.call(_e),Ct(Ce,be,_e,Ge)}if(typeof _e.then=="function")return Ln(Ce,be,ar(_e),Ge);if(_e.$$typeof===N)return Ln(Ce,be,Gu(Ce,_e),Ge);Si(Ce,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,be!==null&&be.tag===6?(y(Ce,be.sibling),Ge=T(be,_e),Ge.return=Ce,Ce=Ge):(y(Ce,be),Ge=cm(_e,Ce.mode,Ge),Ge.return=Ce,Ce=Ge),H(Ce)):y(Ce,be)}return function(Ce,be,_e,Ge){try{as=0;var ut=Ln(Ce,be,_e,Ge);return ss=null,ut}catch(bt){if(bt===qu||bt===Of)throw bt;var Zt=Pr(29,bt,null,Ce.mode);return Zt.lanes=Ge,Zt.return=Ce,Zt}finally{}}}var nc=Bi(!0),Ex=Bi(!1),ji=oe(null),oo=null;function na(o){var f=o.alternate;z(Cn,Cn.current&1),z(ji,o),oo===null&&(f===null||Zs.current!==null||f.memoizedState!==null)&&(oo=o)}function Gm(o){if(o.tag===22){if(z(Cn,Cn.current),z(ji,o),oo===null){var f=o.alternate;f!==null&&f.memoizedState!==null&&(oo=o)}}else kn()}function kn(){z(Cn,Cn.current),z(ji,ji.current)}function Gr(o){he(ji),oo===o&&(oo=null),he(Cn)}var Cn=oe(0);function sp(o){for(var f=o;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||Lp(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function lr(o,f,y,S){f=o.memoizedState,y=y(S,f),y=y==null?f:p({},f,y),o.memoizedState=y,o.lanes===0&&(o.updateQueue.baseState=y)}var Ao={enqueueSetState:function(o,f,y){o=o._reactInternals;var S=fr(),T=ri(S);T.payload=f,y!=null&&(T.callback=y),f=Xs(o,T,S),f!==null&&(Je(f,o,S),Xu(f,o,S))},enqueueReplaceState:function(o,f,y){o=o._reactInternals;var S=fr(),T=ri(S);T.tag=1,T.payload=f,y!=null&&(T.callback=y),f=Xs(o,T,S),f!==null&&(Je(f,o,S),Xu(f,o,S))},enqueueForceUpdate:function(o,f){o=o._reactInternals;var y=fr(),S=ri(y);S.tag=2,f!=null&&(S.callback=f),f=Xs(o,S,y),f!==null&&(Je(f,o,y),Xu(f,o,y))}};function ol(o,f,y,S,T,M,H){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(S,M,H):f.prototype&&f.prototype.isPureReactComponent?!Sf(y,S)||!Sf(T,M):!0}function ls(o,f,y,S){o=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,S),f.state!==o&&Ao.enqueueReplaceState(f,f.state,null)}function $r(o,f){var y=f;if("ref"in f){y={};for(var S in f)S!=="ref"&&(y[S]=f[S])}if(o=o.defaultProps){y===f&&(y=p({},y));for(var T in o)y[T]===void 0&&(y[T]=o[T])}return y}var li=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function $m(o){li(o)}function sl(o){console.error(o)}function wo(o){li(o)}function ra(o,f){try{var y=o.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(S){setTimeout(function(){throw S})}}function Hr(o,f,y){try{var S=o.onCaughtError;S(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Co(o,f,y){return y=ri(y),y.tag=3,y.payload={element:null},y.callback=function(){ra(o,f)},y}function rc(o){return o=ri(o),o.tag=3,o}function Ax(o,f,y,S){var T=y.type.getDerivedStateFromError;if(typeof T=="function"){var M=S.value;o.payload=function(){return T(M)},o.callback=function(){Hr(f,y,S)}}var H=y.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(o.callback=function(){Hr(f,y,S),typeof T!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var ee=S.stack;this.componentDidCatch(S.value,{componentStack:ee!==null?ee:""})})}function L1(o,f,y,S,T){if(y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(f=y.alternate,f!==null&&Nf(f,y,T,!0),y=ji.current,y!==null){switch(y.tag){case 13:return oo===null?on():y.alternate===null&&Un===0&&(Un=3),y.flags&=-257,y.flags|=65536,y.lanes=T,S===qh?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([S]):f.add(S),f0(o,S,T)),!1;case 22:return y.flags|=65536,S===qh?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([S])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([S]):y.add(S)),f0(o,S,T)),!1}throw Error(r(435,y.tag))}return f0(o,S,T),on(),!1}if(cn)return f=ji.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=T,S!==hm&&(o=Error(r(422),{cause:S}),Tf(Li(o,y)))):(S!==hm&&(f=Error(r(423),{cause:S}),Tf(Li(f,y))),o=o.current.alternate,o.flags|=65536,T&=-T,o.lanes|=T,S=Li(S,y),T=Co(o.stateNode,S,T),Em(o,T),Un!==4&&(Un=2)),!1;var M=Error(r(520),{cause:S});if(M=Li(M,y),fc===null?fc=[M]:fc.push(M),Un!==4&&(Un=2),f===null)return!0;S=Li(S,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,o=T&-T,y.lanes|=o,o=Co(y.stateNode,S,o),Em(y,o),!1;case 1:if(f=y.type,M=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(uo===null||!uo.has(M))))return y.flags|=65536,T&=-T,y.lanes|=T,T=rc(T),Ax(T,o,y,S),Em(y,T),!1}y=y.return}while(y!==null);return!1}var so=Error(r(461)),Wn=!1;function wr(o,f,y,S){f.child=o===null?Ex(f,null,y,S):nc(f,o.child,y,S)}function wx(o,f,y,S,T){y=y.render;var M=f.ref;if("ref"in S){var H={};for(var ee in S)ee!=="ref"&&(H[ee]=S[ee])}else H=S;return qs(f),S=Rm(o,f,y,H,M,T),ee=Qh(),o!==null&&!Wn?(Tm(o,f,T),us(o,f,T)):(cn&&ee&&dm(f),f.flags|=1,wr(o,f,S,T),f.child)}function qn(o,f,y,S,T){if(o===null){var M=y.type;return typeof M=="function"&&!wf(M)&&M.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=M,Hm(o,f,M,S,T)):(o=Vh(y.type,null,S,f,f.mode,T),o.ref=f.ref,o.return=f,f.child=o)}if(M=o.child,!ia(o,T)){var H=M.memoizedProps;if(y=y.compare,y=y!==null?y:Sf,y(H,S)&&o.ref===f.ref)return us(o,f,T)}return f.flags|=1,o=Fi(M,S),o.ref=f.ref,o.return=f,f.child=o}function Hm(o,f,y,S,T){if(o!==null){var M=o.memoizedProps;if(Sf(M,S)&&o.ref===f.ref)if(Wn=!1,f.pendingProps=S=M,ia(o,T))(o.flags&131072)!==0&&(Wn=!0);else return f.lanes=o.lanes,us(o,f,T)}return ap(o,f,y,S,T)}function Ym(o,f,y){var S=f.pendingProps,T=S.children,M=o!==null?o.memoizedState:null;if(S.mode==="hidden"){if((f.flags&128)!==0){if(S=M!==null?M.baseLanes|y:y,o!==null){for(T=f.child=o.child,M=0;T!==null;)M=M|T.lanes|T.childLanes,T=T.sibling;f.childLanes=M&~S}else f.childLanes=0,f.child=null;return jf(o,f,S,y)}if((y&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},o!==null&&If(f,M!==null?M.cachePool:null),M!==null?gx(f,M):Am(),Gm(f);else return f.lanes=f.childLanes=536870912,jf(o,f,M!==null?M.baseLanes|y:y,y)}else M!==null?(If(f,M.cachePool),gx(f,M),kn(),f.memoizedState=null):(o!==null&&If(f,null),Am(),kn());return wr(o,f,T,y),f.child}function jf(o,f,y,S){var T=Wh();return T=T===null?null:{parent:nr._currentValue,pool:T},f.memoizedState={baseLanes:y,cachePool:T},o!==null&&If(f,null),Am(),Gm(f),o!==null&&Nf(o,f,S,!0),null}function ic(o,f){var y=f.ref;if(y===null)o!==null&&o.ref!==null&&(f.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(o===null||o.ref!==y)&&(f.flags|=4194816)}}function ap(o,f,y,S,T){return qs(f),y=Rm(o,f,y,S,void 0,T),S=Qh(),o!==null&&!Wn?(Tm(o,f,T),us(o,f,T)):(cn&&S&&dm(f),f.flags|=1,wr(o,f,y,T),f.child)}function Cx(o,f,y,S,T,M){return qs(f),f.updateQueue=null,y=vx(f,S,y,T),mx(o),S=Qh(),o!==null&&!Wn?(Tm(o,f,M),us(o,f,M)):(cn&&S&&dm(f),f.flags|=1,wr(o,f,y,M),f.child)}function Rx(o,f,y,S,T){if(qs(f),f.stateNode===null){var M=ju,H=y.contextType;typeof H=="object"&&H!==null&&(M=br(H)),M=new y(S,M),f.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Ao,f.stateNode=M,M._reactInternals=f,M=f.stateNode,M.props=S,M.state=f.memoizedState,M.refs={},Sm(f),H=y.contextType,M.context=typeof H=="object"&&H!==null?br(H):ju,M.state=f.memoizedState,H=y.getDerivedStateFromProps,typeof H=="function"&&(lr(f,y,H,S),M.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(H=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),H!==M.state&&Ao.enqueueReplaceState(M,M.state,null),Mf(f,S,M,T),Df(),M.state=f.memoizedState),typeof M.componentDidMount=="function"&&(f.flags|=4194308),S=!0}else if(o===null){M=f.stateNode;var ee=f.memoizedProps,fe=$r(y,ee);M.props=fe;var De=M.context,ze=y.contextType;H=ju,typeof ze=="object"&&ze!==null&&(H=br(ze));var $e=y.getDerivedStateFromProps;ze=typeof $e=="function"||typeof M.getSnapshotBeforeUpdate=="function",ee=f.pendingProps!==ee,ze||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ee||De!==H)&&ls(f,M,S,H),es=!1;var Le=f.memoizedState;M.state=Le,Mf(f,S,M,T),Df(),De=f.memoizedState,ee||Le!==De||es?(typeof $e=="function"&&(lr(f,y,$e,S),De=f.memoizedState),(fe=es||ol(f,y,fe,S,Le,De,H))?(ze||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(f.flags|=4194308)):(typeof M.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=De),M.props=S,M.state=De,M.context=H,S=fe):(typeof M.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{M=f.stateNode,Xh(o,f),H=f.memoizedProps,ze=$r(y,H),M.props=ze,$e=f.pendingProps,Le=M.context,De=y.contextType,fe=ju,typeof De=="object"&&De!==null&&(fe=br(De)),ee=y.getDerivedStateFromProps,(De=typeof ee=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==$e||Le!==fe)&&ls(f,M,S,fe),es=!1,Le=f.memoizedState,M.state=Le,Mf(f,S,M,T),Df();var Fe=f.memoizedState;H!==$e||Le!==Fe||es||o!==null&&o.dependencies!==null&&Yh(o.dependencies)?(typeof ee=="function"&&(lr(f,y,ee,S),Fe=f.memoizedState),(ze=es||ol(f,y,ze,S,Le,Fe,fe)||o!==null&&o.dependencies!==null&&Yh(o.dependencies))?(De||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(S,Fe,fe),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(S,Fe,fe)),typeof M.componentDidUpdate=="function"&&(f.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof M.componentDidUpdate!="function"||H===o.memoizedProps&&Le===o.memoizedState||(f.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&Le===o.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=Fe),M.props=S,M.state=Fe,M.context=fe,S=ze):(typeof M.componentDidUpdate!="function"||H===o.memoizedProps&&Le===o.memoizedState||(f.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&Le===o.memoizedState||(f.flags|=1024),S=!1)}return M=S,ic(o,f),S=(f.flags&128)!==0,M||S?(M=f.stateNode,y=S&&typeof y.getDerivedStateFromError!="function"?null:M.render(),f.flags|=1,o!==null&&S?(f.child=nc(f,o.child,null,T),f.child=nc(f,null,y,T)):wr(o,f,y,T),f.memoizedState=M.state,o=f.child):o=us(o,f,T),o}function zi(o,f,y,S){return Uu(),f.flags|=256,wr(o,f,y,S),f.child}var ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yr(o){return{baseLanes:o,cachePool:cx()}}function zf(o,f,y){return o=o!==null?o.childLanes&~y:0,f&&(o|=Ui),o}function lp(o,f,y){var S=f.pendingProps,T=!1,M=(f.flags&128)!==0,H;if((H=M)||(H=o!==null&&o.memoizedState===null?!1:(Cn.current&2)!==0),H&&(T=!0,f.flags&=-129),H=(f.flags&32)!==0,f.flags&=-33,o===null){if(cn){if(T?na(f):kn(),cn){var ee=Yn,fe;if(fe=ee){e:{for(fe=ee,ee=Qi;fe.nodeType!==8;){if(!ee){ee=null;break e}if(fe=fi(fe.nextSibling),fe===null){ee=null;break e}}ee=fe}ee!==null?(f.memoizedState={dehydrated:ee,treeContext:Hs!==null?{id:bo,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},fe=Pr(18,null,null,0),fe.stateNode=ee,fe.return=f,f.child=fe,Vr=f,Yn=null,fe=!0):fe=!1}fe||eo(f)}if(ee=f.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))return Lp(ee)?f.lanes=32:f.lanes=536870912,null;Gr(f)}return ee=S.children,S=S.fallback,T?(kn(),T=f.mode,ee=Fr({mode:"hidden",children:ee},T),S=$s(S,T,y,null),ee.return=f,S.return=f,ee.sibling=S,f.child=ee,T=f.child,T.memoizedState=Yr(y),T.childLanes=zf(o,H,y),f.memoizedState=ur,S):(na(f),up(f,ee))}if(fe=o.memoizedState,fe!==null&&(ee=fe.dehydrated,ee!==null)){if(M)f.flags&256?(na(f),f.flags&=-257,f=al(o,f,y)):f.memoizedState!==null?(kn(),f.child=o.child,f.flags|=128,f=null):(kn(),T=S.fallback,ee=f.mode,S=Fr({mode:"visible",children:S.children},ee),T=$s(T,ee,y,null),T.flags|=2,S.return=f,T.return=f,S.sibling=T,f.child=S,nc(f,o.child,null,y),S=f.child,S.memoizedState=Yr(y),S.childLanes=zf(o,H,y),f.memoizedState=ur,f=T);else if(na(f),Lp(ee)){if(H=ee.nextSibling&&ee.nextSibling.dataset,H)var De=H.dgst;H=De,S=Error(r(419)),S.stack="",S.digest=H,Tf({value:S,source:null,stack:null}),f=al(o,f,y)}else if(Wn||Nf(o,f,y,!1),H=(y&o.childLanes)!==0,Wn||H){if(H=Pn,H!==null&&(S=y&-y,S=(S&42)!==0?1:Jt(S),S=(S&(H.suspendedLanes|y))!==0?0:S,S!==0&&S!==fe.retryLane))throw fe.retryLane=S,Bu(o,S),Je(H,o,S),so;ee.data==="$?"||on(),f=al(o,f,y)}else ee.data==="$?"?(f.flags|=192,f.child=o.child,f=null):(o=fe.treeContext,Yn=fi(ee.nextSibling),Vr=f,cn=!0,Ys=null,Qi=!1,o!==null&&(xi[ni++]=bo,xi[ni++]=Kt,xi[ni++]=Hs,bo=o.id,Kt=o.overflow,Hs=f),f=up(f,S.children),f.flags|=4096);return f}return T?(kn(),T=S.fallback,ee=f.mode,fe=o.child,De=fe.sibling,S=Fi(fe,{mode:"hidden",children:S.children}),S.subtreeFlags=fe.subtreeFlags&65011712,De!==null?T=Fi(De,T):(T=$s(T,ee,y,null),T.flags|=2),T.return=f,S.return=f,S.sibling=T,f.child=S,S=T,T=f.child,ee=o.child.memoizedState,ee===null?ee=Yr(y):(fe=ee.cachePool,fe!==null?(De=nr._currentValue,fe=fe.parent!==De?{parent:De,pool:De}:fe):fe=cx(),ee={baseLanes:ee.baseLanes|y,cachePool:fe}),T.memoizedState=ee,T.childLanes=zf(o,H,y),f.memoizedState=ur,S):(na(f),y=o.child,o=y.sibling,y=Fi(y,{mode:"visible",children:S.children}),y.return=f,y.sibling=null,o!==null&&(H=f.deletions,H===null?(f.deletions=[o],f.flags|=16):H.push(o)),f.child=y,f.memoizedState=null,y)}function up(o,f){return f=Fr({mode:"visible",children:f},o.mode),f.return=o,o.child=f}function Fr(o,f){return o=Pr(22,o,null,f),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function al(o,f,y){return nc(f,o.child,null,y),o=up(f,f.pendingProps.children),o.flags|=2,f.memoizedState=null,o}function ll(o,f,y){o.lanes|=f;var S=o.alternate;S!==null&&(S.lanes|=f),gm(o.return,f,y)}function cp(o,f,y,S,T){var M=o.memoizedState;M===null?o.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:T}:(M.isBackwards=f,M.rendering=null,M.renderingStartTime=0,M.last=S,M.tail=y,M.tailMode=T)}function Vi(o,f,y){var S=f.pendingProps,T=S.revealOrder,M=S.tail;if(wr(o,f,S.children,y),S=Cn.current,(S&2)!==0)S=S&1|2,f.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=f.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ll(o,y,f);else if(o.tag===19)ll(o,y,f);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===f)break e;for(;o.sibling===null;){if(o.return===null||o.return===f)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}S&=1}switch(z(Cn,S),T){case"forwards":for(y=f.child,T=null;y!==null;)o=y.alternate,o!==null&&sp(o)===null&&(T=y),y=y.sibling;y=T,y===null?(T=f.child,f.child=null):(T=y.sibling,y.sibling=null),cp(f,!1,T,y,M);break;case"backwards":for(y=null,T=f.child,f.child=null;T!==null;){if(o=T.alternate,o!==null&&sp(o)===null){f.child=T;break}o=T.sibling,T.sibling=y,y=T,T=o}cp(f,!0,y,null,M);break;case"together":cp(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function us(o,f,y){if(o!==null&&(f.dependencies=o.dependencies),Oo|=f.lanes,(y&f.childLanes)===0)if(o!==null){if(Nf(o,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(o!==null&&f.child!==o.child)throw Error(r(153));if(f.child!==null){for(o=f.child,y=Fi(o,o.pendingProps),f.child=y,y.return=f;o.sibling!==null;)o=o.sibling,y=y.sibling=Fi(o,o.pendingProps),y.return=f;y.sibling=null}return f.child}function ia(o,f){return(o.lanes&f)!==0?!0:(o=o.dependencies,!!(o!==null&&Yh(o)))}function fp(o,f,y){switch(f.tag){case 3:Z(f,f.stateNode.containerInfo),Ws(f,nr,o.memoizedState.cache),Uu();break;case 27:case 5:se(f);break;case 4:Z(f,f.stateNode.containerInfo);break;case 10:Ws(f,f.type,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(na(f),f.flags|=128,null):(y&f.child.childLanes)!==0?lp(o,f,y):(na(f),o=us(o,f,y),o!==null?o.sibling:null);na(f);break;case 19:var T=(o.flags&128)!==0;if(S=(y&f.childLanes)!==0,S||(Nf(o,f,y,!1),S=(y&f.childLanes)!==0),T){if(S)return Vi(o,f,y);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),z(Cn,Cn.current),S)break;return null;case 22:case 23:return f.lanes=0,Ym(o,f,y);case 24:Ws(f,nr,o.memoizedState.cache)}return us(o,f,y)}function ul(o,f,y){if(o!==null)if(o.memoizedProps!==f.pendingProps)Wn=!0;else{if(!ia(o,y)&&(f.flags&128)===0)return Wn=!1,fp(o,f,y);Wn=(o.flags&131072)!==0}else Wn=!1,cn&&(f.flags&1048576)!==0&&sx(f,Gh,f.index);switch(f.lanes=0,f.tag){case 16:e:{o=f.pendingProps;var S=f.elementType,T=S._init;if(S=T(S._payload),f.type=S,typeof S=="function")wf(S)?(o=$r(S,o),f.tag=1,f=Rx(null,f,S,o,y)):(f.tag=0,f=ap(null,f,S,o,y));else{if(S!=null){if(T=S.$$typeof,T===D){f.tag=11,f=wx(null,f,S,o,y);break e}else if(T===j){f.tag=14,f=qn(null,f,S,o,y);break e}}throw f=Me(S)||S,Error(r(306,f,""))}}return f;case 0:return ap(o,f,f.type,f.pendingProps,y);case 1:return S=f.type,T=$r(S,f.pendingProps),Rx(o,f,S,T,y);case 3:e:{if(Z(f,f.stateNode.containerInfo),o===null)throw Error(r(387));S=f.pendingProps;var M=f.memoizedState;T=M.element,Xh(o,f),Mf(f,S,null,y);var H=f.memoizedState;if(S=H.cache,Ws(f,nr,S),S!==M.cache&&Hh(f,[nr],y,!0),Df(),S=H.element,M.isDehydrated)if(M={element:S,isDehydrated:!1,cache:H.cache},f.updateQueue.baseState=M,f.memoizedState=M,f.flags&256){f=zi(o,f,S,y);break e}else if(S!==T){T=Li(Error(r(424)),f),Tf(T),f=zi(o,f,S,y);break e}else{switch(o=f.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Yn=fi(o.firstChild),Vr=f,cn=!0,Ys=null,Qi=!0,y=Ex(f,null,S,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Uu(),S===T){f=us(o,f,y);break e}wr(o,f,S,y)}f=f.child}return f;case 26:return ic(o,f),o===null?(y=E(f.type,null,f.pendingProps,null))?f.memoizedState=y:cn||(y=f.type,o=f.pendingProps,S=Mp(Y.current).createElement(y),S[un]=f,S[Lt]=o,Rr(S,y,o),tr(S),f.stateNode=S):f.memoizedState=E(f.type,o.memoizedProps,f.pendingProps,o.memoizedState),null;case 27:return se(f),o===null&&cn&&(S=f.stateNode=eb(f.type,f.pendingProps,Y.current),Vr=f,Qi=!0,T=Yn,bs(f.type)?(x0=T,Yn=fi(S.firstChild)):Yn=T),wr(o,f,f.pendingProps.children,y),ic(o,f),o===null&&(f.flags|=4194304),f.child;case 5:return o===null&&cn&&((T=S=Yn)&&(S=Q1(S,f.type,f.pendingProps,Qi),S!==null?(f.stateNode=S,Vr=f,Yn=fi(S.firstChild),Qi=!1,T=!0):T=!1),T||eo(f)),se(f),T=f.type,M=f.pendingProps,H=o!==null?o.memoizedProps:null,S=M.children,vc(T,M)?S=null:H!==null&&vc(T,H)&&(f.flags|=32),f.memoizedState!==null&&(T=Rm(o,f,D1,null,null,y),bc._currentValue=T),ic(o,f),wr(o,f,S,y),f.child;case 6:return o===null&&cn&&((o=y=Yn)&&(y=eE(y,f.pendingProps,Qi),y!==null?(f.stateNode=y,Vr=f,Yn=null,o=!0):o=!1),o||eo(f)),null;case 13:return lp(o,f,y);case 4:return Z(f,f.stateNode.containerInfo),S=f.pendingProps,o===null?f.child=nc(f,null,S,y):wr(o,f,S,y),f.child;case 11:return wx(o,f,f.type,f.pendingProps,y);case 7:return wr(o,f,f.pendingProps,y),f.child;case 8:return wr(o,f,f.pendingProps.children,y),f.child;case 12:return wr(o,f,f.pendingProps.children,y),f.child;case 10:return S=f.pendingProps,Ws(f,f.type,S.value),wr(o,f,S.children,y),f.child;case 9:return T=f.type._context,S=f.pendingProps.children,qs(f),T=br(T),S=S(T),f.flags|=1,wr(o,f,S,y),f.child;case 14:return qn(o,f,f.type,f.pendingProps,y);case 15:return Hm(o,f,f.type,f.pendingProps,y);case 19:return Vi(o,f,y);case 31:return S=f.pendingProps,y=f.mode,S={mode:S.mode,children:S.children},o===null?(y=Fr(S,y),y.ref=f.ref,f.child=y,y.return=f,f=y):(y=Fi(o.child,S),y.ref=f.ref,f.child=y,y.return=f,f=y),f;case 22:return Ym(o,f,y);case 24:return qs(f),S=br(nr),o===null?(T=Wh(),T===null&&(T=Pn,M=vm(),T.pooledCache=M,M.refCount++,M!==null&&(T.pooledCacheLanes|=y),T=M),f.memoizedState={parent:S,cache:T},Sm(f),Ws(f,nr,T)):((o.lanes&y)!==0&&(Xh(o,f),Mf(f,null,null,y),Df()),T=o.memoizedState,M=f.memoizedState,T.parent!==S?(T={parent:S,cache:S},f.memoizedState=T,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=T),Ws(f,nr,S)):(S=M.cache,Ws(f,nr,S),S!==T.cache&&Hh(f,[nr],y,!0))),wr(o,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function cs(o){o.flags|=4}function Wm(o,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Dn(f)){if(f=ji.current,f!==null&&((en&4194048)===en?oo!==null:(en&62914560)!==en&&(en&536870912)===0||f!==oo))throw Ku=qh,fx;o.flags|=8192}}function Ei(o,f){f!==null&&(o.flags|=4),o.flags&16384&&(f=o.tag!==22?Fn():536870912,o.lanes|=f,cc|=f)}function mr(o,f){if(!cn)switch(o.tailMode){case"hidden":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?o.tail=null:y.sibling=null;break;case"collapsed":y=o.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?f||o.tail===null?o.tail=null:o.tail.sibling=null:S.sibling=null}}function Rn(o){var f=o.alternate!==null&&o.alternate.child===o.child,y=0,S=0;if(f)for(var T=o.child;T!==null;)y|=T.lanes|T.childLanes,S|=T.subtreeFlags&65011712,S|=T.flags&65011712,T.return=o,T=T.sibling;else for(T=o.child;T!==null;)y|=T.lanes|T.childLanes,S|=T.subtreeFlags,S|=T.flags,T.return=o,T=T.sibling;return o.subtreeFlags|=S,o.childLanes=y,f}function fs(o,f,y){var S=f.pendingProps;switch($h(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(f),null;case 1:return Rn(f),null;case 3:return y=f.stateNode,S=null,o!==null&&(S=o.memoizedState.cache),f.memoizedState.cache!==S&&(f.flags|=2048),Qo(nr),J(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Rf(f)?cs(f):o===null||o.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,el())),Rn(f),null;case 26:return y=f.memoizedState,o===null?(cs(f),y!==null?(Rn(f),Wm(f,y)):(Rn(f),f.flags&=-16777217)):y?y!==o.memoizedState?(cs(f),Rn(f),Wm(f,y)):(Rn(f),f.flags&=-16777217):(o.memoizedProps!==S&&cs(f),Rn(f),f.flags&=-16777217),null;case 27:ye(f),y=Y.current;var T=f.type;if(o!==null&&f.stateNode!=null)o.memoizedProps!==S&&cs(f);else{if(!S){if(f.stateNode===null)throw Error(r(166));return Rn(f),null}o=V.current,Rf(f)?ax(f):(o=eb(T,S,y),f.stateNode=o,cs(f))}return Rn(f),null;case 5:if(ye(f),y=f.type,o!==null&&f.stateNode!=null)o.memoizedProps!==S&&cs(f);else{if(!S){if(f.stateNode===null)throw Error(r(166));return Rn(f),null}if(o=V.current,Rf(f))ax(f);else{switch(T=Mp(Y.current),o){case 1:o=T.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:o=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":o=T.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":o=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":o=T.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof S.is=="string"?T.createElement("select",{is:S.is}):T.createElement("select"),S.multiple?o.multiple=!0:S.size&&(o.size=S.size);break;default:o=typeof S.is=="string"?T.createElement(y,{is:S.is}):T.createElement(y)}}o[un]=f,o[Lt]=S;e:for(T=f.child;T!==null;){if(T.tag===5||T.tag===6)o.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===f)break e;for(;T.sibling===null;){if(T.return===null||T.return===f)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}f.stateNode=o;e:switch(Rr(o,y,S),y){case"button":case"input":case"select":case"textarea":o=!!S.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&cs(f)}}return Rn(f),f.flags&=-16777217,null;case 6:if(o&&f.stateNode!=null)o.memoizedProps!==S&&cs(f);else{if(typeof S!="string"&&f.stateNode===null)throw Error(r(166));if(o=Y.current,Rf(f)){if(o=f.stateNode,y=f.memoizedProps,S=null,T=Vr,T!==null)switch(T.tag){case 27:case 5:S=T.memoizedProps}o[un]=f,o=!!(o.nodeValue===y||S!==null&&S.suppressHydrationWarning===!0||Wx(o.nodeValue,y)),o||eo(f)}else o=Mp(o).createTextNode(S),o[un]=f,f.stateNode=o}return Rn(f),null;case 13:if(S=f.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(T=Rf(f),S!==null&&S.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[un]=f}else Uu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Rn(f),T=!1}else T=el(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=T),T=!0;if(!T)return f.flags&256?(Gr(f),f):(Gr(f),null)}if(Gr(f),(f.flags&128)!==0)return f.lanes=y,f;if(y=S!==null,o=o!==null&&o.memoizedState!==null,y){S=f.child,T=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(T=S.alternate.memoizedState.cachePool.pool);var M=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(M=S.memoizedState.cachePool.pool),M!==T&&(S.flags|=2048)}return y!==o&&y&&(f.child.flags|=8192),Ei(f,f.updateQueue),Rn(f),null;case 4:return J(),o===null&&Np(f.stateNode.containerInfo),Rn(f),null;case 10:return Qo(f.type),Rn(f),null;case 19:if(he(Cn),T=f.memoizedState,T===null)return Rn(f),null;if(S=(f.flags&128)!==0,M=T.rendering,M===null)if(S)mr(T,!1);else{if(Un!==0||o!==null&&(o.flags&128)!==0)for(o=f.child;o!==null;){if(M=sp(o),M!==null){for(f.flags|=128,mr(T,!1),o=M.updateQueue,f.updateQueue=o,Ei(f,o),f.subtreeFlags=0,o=y,y=f.child;y!==null;)Cf(y,o),y=y.sibling;return z(Cn,Cn.current&1|2),f.child}o=o.sibling}T.tail!==null&&je()>vp&&(f.flags|=128,S=!0,mr(T,!1),f.lanes=4194304)}else{if(!S)if(o=sp(M),o!==null){if(f.flags|=128,S=!0,o=o.updateQueue,f.updateQueue=o,Ei(f,o),mr(T,!0),T.tail===null&&T.tailMode==="hidden"&&!M.alternate&&!cn)return Rn(f),null}else 2*je()-T.renderingStartTime>vp&&y!==536870912&&(f.flags|=128,S=!0,mr(T,!1),f.lanes=4194304);T.isBackwards?(M.sibling=f.child,f.child=M):(o=T.last,o!==null?o.sibling=M:f.child=M,T.last=M)}return T.tail!==null?(f=T.tail,T.rendering=f,T.tail=f.sibling,T.renderingStartTime=je(),f.sibling=null,o=Cn.current,z(Cn,S?o&1|2:o&1),f):(Rn(f),null);case 22:case 23:return Gr(f),wm(),S=f.memoizedState!==null,o!==null?o.memoizedState!==null!==S&&(f.flags|=8192):S&&(f.flags|=8192),S?(y&536870912)!==0&&(f.flags&128)===0&&(Rn(f),f.subtreeFlags&6&&(f.flags|=8192)):Rn(f),y=f.updateQueue,y!==null&&Ei(f,y.retryQueue),y=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),S=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),S!==y&&(f.flags|=2048),o!==null&&he(Ks),null;case 24:return y=null,o!==null&&(y=o.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),Qo(nr),Rn(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function ds(o,f){switch($h(f),f.tag){case 1:return o=f.flags,o&65536?(f.flags=o&-65537|128,f):null;case 3:return Qo(nr),J(),o=f.flags,(o&65536)!==0&&(o&128)===0?(f.flags=o&-65537|128,f):null;case 26:case 27:case 5:return ye(f),null;case 13:if(Gr(f),o=f.memoizedState,o!==null&&o.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Uu()}return o=f.flags,o&65536?(f.flags=o&-65537|128,f):null;case 19:return he(Cn),null;case 4:return J(),null;case 10:return Qo(f.type),null;case 22:case 23:return Gr(f),wm(),o!==null&&he(Ks),o=f.flags,o&65536?(f.flags=o&-65537|128,f):null;case 24:return Qo(nr),null;case 25:return null;default:return null}}function Tx(o,f){switch($h(f),f.tag){case 3:Qo(nr),J();break;case 26:case 27:case 5:ye(f);break;case 4:J();break;case 13:Gr(f);break;case 19:he(Cn);break;case 10:Qo(f.type);break;case 22:case 23:Gr(f),wm(),o!==null&&he(Ks);break;case 24:Qo(nr)}}function Vf(o,f){try{var y=f.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var T=S.next;y=T;do{if((y.tag&o)===o){S=void 0;var M=y.create,H=y.inst;S=M(),H.destroy=S}y=y.next}while(y!==T)}}catch(ee){Tn(f,f.return,ee)}}function oa(o,f,y){try{var S=f.updateQueue,T=S!==null?S.lastEffect:null;if(T!==null){var M=T.next;S=M;do{if((S.tag&o)===o){var H=S.inst,ee=H.destroy;if(ee!==void 0){H.destroy=void 0,T=f;var fe=y,De=ee;try{De()}catch(ze){Tn(T,fe,ze)}}}S=S.next}while(S!==M)}}catch(ze){Tn(f,f.return,ze)}}function dp(o){var f=o.updateQueue;if(f!==null){var y=o.stateNode;try{Zh(f,y)}catch(S){Tn(o,o.return,S)}}}function vt(o,f,y){y.props=$r(o.type,o.memoizedProps),y.state=o.memoizedState;try{y.componentWillUnmount()}catch(S){Tn(o,f,S)}}function cl(o,f){try{var y=o.ref;if(y!==null){switch(o.tag){case 26:case 27:case 5:var S=o.stateNode;break;case 30:S=o.stateNode;break;default:S=o.stateNode}typeof y=="function"?o.refCleanup=y(S):y.current=S}}catch(T){Tn(o,f,T)}}function ao(o,f){var y=o.ref,S=o.refCleanup;if(y!==null)if(typeof S=="function")try{S()}catch(T){Tn(o,f,T)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(T){Tn(o,f,T)}else y.current=null}function qm(o){var f=o.type,y=o.memoizedProps,S=o.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":y.autoFocus&&S.focus();break e;case"img":y.src?S.src=y.src:y.srcSet&&(S.srcset=y.srcSet)}}catch(T){Tn(o,o.return,T)}}function oc(o,f,y){try{var S=o.stateNode;X1(S,o.type,y,f),S[Lt]=f}catch(T){Tn(o,o.return,T)}}function Nx(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&bs(o.type)||o.tag===4}function sc(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Nx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&bs(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ac(o,f,y){var S=o.tag;if(S===5||S===6)o=o.stateNode,f?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(o,f):(f=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,f.appendChild(o),y=y._reactRootContainer,y!=null||f.onclick!==null||(f.onclick=ml));else if(S!==4&&(S===27&&bs(o.type)&&(y=o.stateNode,f=null),o=o.child,o!==null))for(ac(o,f,y),o=o.sibling;o!==null;)ac(o,f,y),o=o.sibling}function sa(o,f,y){var S=o.tag;if(S===5||S===6)o=o.stateNode,f?y.insertBefore(o,f):y.appendChild(o);else if(S!==4&&(S===27&&bs(o.type)&&(y=o.stateNode),o=o.child,o!==null))for(sa(o,f,y),o=o.sibling;o!==null;)sa(o,f,y),o=o.sibling}function hp(o){var f=o.stateNode,y=o.memoizedProps;try{for(var S=o.type,T=f.attributes;T.length;)f.removeAttributeNode(T[0]);Rr(f,S,y),f[un]=o,f[Lt]=y}catch(M){Tn(o,o.return,M)}}var hs=!1,Qn=!1,Km=!1,_x=typeof WeakSet=="function"?WeakSet:Set,vr=null;function F1(o,f){if(o=o.containerInfo,Op=sb,o=ex(o),om(o)){if("selectionStart"in o)var y={start:o.selectionStart,end:o.selectionEnd};else e:{y=(y=o.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var T=S.anchorOffset,M=S.focusNode;S=S.focusOffset;try{y.nodeType,M.nodeType}catch{y=null;break e}var H=0,ee=-1,fe=-1,De=0,ze=0,$e=o,Le=null;t:for(;;){for(var Fe;$e!==y||T!==0&&$e.nodeType!==3||(ee=H+T),$e!==M||S!==0&&$e.nodeType!==3||(fe=H+S),$e.nodeType===3&&(H+=$e.nodeValue.length),(Fe=$e.firstChild)!==null;)Le=$e,$e=Fe;for(;;){if($e===o)break t;if(Le===y&&++De===T&&(ee=H),Le===M&&++ze===S&&(fe=H),(Fe=$e.nextSibling)!==null)break;$e=Le,Le=$e.parentNode}$e=Fe}y=ee===-1||fe===-1?null:{start:ee,end:fe}}else y=null}y=y||{start:0,end:0}}else y=null;for(Dp={focusedElem:o,selectionRange:y},sb=!1,vr=f;vr!==null;)if(f=vr,o=f.child,(f.subtreeFlags&1024)!==0&&o!==null)o.return=f,vr=o;else for(;vr!==null;){switch(f=vr,M=f.alternate,o=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&M!==null){o=void 0,y=f,T=M.memoizedProps,M=M.memoizedState,S=y.stateNode;try{var Ot=$r(y.type,T,y.elementType===y.type);o=S.getSnapshotBeforeUpdate(Ot,M),S.__reactInternalSnapshotBeforeUpdate=o}catch(Ct){Tn(y,y.return,Ct)}}break;case 3:if((o&1024)!==0){if(o=f.stateNode.containerInfo,y=o.nodeType,y===9)y0(o);else if(y===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":y0(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=f.sibling,o!==null){o.return=f.return,vr=o;break}vr=f.return}}function Ix(o,f,y){var S=y.flags;switch(y.tag){case 0:case 11:case 15:To(o,y),S&4&&Vf(5,y);break;case 1:if(To(o,y),S&4)if(o=y.stateNode,f===null)try{o.componentDidMount()}catch(H){Tn(y,y.return,H)}else{var T=$r(y.type,f.memoizedProps);f=f.memoizedState;try{o.componentDidUpdate(T,f,o.__reactInternalSnapshotBeforeUpdate)}catch(H){Tn(y,y.return,H)}}S&64&&dp(y),S&512&&cl(y,y.return);break;case 3:if(To(o,y),S&64&&(o=y.updateQueue,o!==null)){if(f=null,y.child!==null)switch(y.child.tag){case 27:case 5:f=y.child.stateNode;break;case 1:f=y.child.stateNode}try{Zh(o,f)}catch(H){Tn(y,y.return,H)}}break;case 27:f===null&&S&4&&hp(y);case 26:case 5:To(o,y),f===null&&S&4&&qm(y),S&512&&cl(y,y.return);break;case 12:To(o,y);break;case 13:To(o,y),S&4&&Mx(o,y),S&64&&(o=y.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(y=G1.bind(null,y),Jx(o,y))));break;case 22:if(S=y.memoizedState!==null||hs,!S){f=f!==null&&f.memoizedState!==null||Qn,T=hs;var M=Qn;hs=S,(Qn=f)&&!M?No(o,y,(y.subtreeFlags&8772)!==0):To(o,y),hs=T,Qn=M}break;case 30:break;default:To(o,y)}}function Ox(o){var f=o.alternate;f!==null&&(o.alternate=null,Ox(f)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(f=o.stateNode,f!==null&&kg(f)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Mn=null,ui=!1;function Ro(o,f,y){for(y=y.child;y!==null;)Dx(o,f,y),y=y.sibling}function Dx(o,f,y){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(qe,y)}catch{}switch(y.tag){case 26:Qn||ao(y,f),Ro(o,f,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:Qn||ao(y,f);var S=Mn,T=ui;bs(y.type)&&(Mn=y.stateNode,ui=!1),Ro(o,f,y),Wf(y.stateNode),Mn=S,ui=T;break;case 5:Qn||ao(y,f);case 6:if(S=Mn,T=ui,Mn=null,Ro(o,f,y),Mn=S,ui=T,Mn!==null)if(ui)try{(Mn.nodeType===9?Mn.body:Mn.nodeName==="HTML"?Mn.ownerDocument.body:Mn).removeChild(y.stateNode)}catch(M){Tn(y,f,M)}else try{Mn.removeChild(y.stateNode)}catch(M){Tn(y,f,M)}break;case 18:Mn!==null&&(ui?(o=Mn,v0(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,y.stateNode),A0(o)):v0(Mn,y.stateNode));break;case 4:S=Mn,T=ui,Mn=y.stateNode.containerInfo,ui=!0,Ro(o,f,y),Mn=S,ui=T;break;case 0:case 11:case 14:case 15:Qn||oa(2,y,f),Qn||oa(4,y,f),Ro(o,f,y);break;case 1:Qn||(ao(y,f),S=y.stateNode,typeof S.componentWillUnmount=="function"&&vt(y,f,S)),Ro(o,f,y);break;case 21:Ro(o,f,y);break;case 22:Qn=(S=Qn)||y.memoizedState!==null,Ro(o,f,y),Qn=S;break;default:Ro(o,f,y)}}function Mx(o,f){if(f.memoizedState===null&&(o=f.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{A0(o)}catch(y){Tn(f,f.return,y)}}function k1(o){switch(o.tag){case 13:case 19:var f=o.stateNode;return f===null&&(f=o.stateNode=new _x),f;case 22:return o=o.stateNode,f=o._retryCache,f===null&&(f=o._retryCache=new _x),f;default:throw Error(r(435,o.tag))}}function pp(o,f){var y=k1(o);f.forEach(function(S){var T=$1.bind(null,o,S);y.has(S)||(y.add(S),S.then(T,T))})}function Wr(o,f){var y=f.deletions;if(y!==null)for(var S=0;S<y.length;S++){var T=y[S],M=o,H=f,ee=H;e:for(;ee!==null;){switch(ee.tag){case 27:if(bs(ee.type)){Mn=ee.stateNode,ui=!1;break e}break;case 5:Mn=ee.stateNode,ui=!1;break e;case 3:case 4:Mn=ee.stateNode.containerInfo,ui=!0;break e}ee=ee.return}if(Mn===null)throw Error(r(160));Dx(M,H,T),Mn=null,ui=!1,M=T.alternate,M!==null&&(M.return=null),T.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Px(f,o),f=f.sibling}var lo=null;function Px(o,f){var y=o.alternate,S=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Wr(f,o),Cr(o),S&4&&(oa(3,o,o.return),Vf(3,o),oa(5,o,o.return));break;case 1:Wr(f,o),Cr(o),S&512&&(Qn||y===null||ao(y,y.return)),S&64&&hs&&(o=o.updateQueue,o!==null&&(S=o.callbacks,S!==null&&(y=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=y===null?S:y.concat(S))));break;case 26:var T=lo;if(Wr(f,o),Cr(o),S&512&&(Qn||y===null||ao(y,y.return)),S&4){var M=y!==null?y.memoizedState:null;if(S=o.memoizedState,y===null)if(S===null)if(o.stateNode===null){e:{S=o.type,y=o.memoizedProps,T=T.ownerDocument||T;t:switch(S){case"title":M=T.getElementsByTagName("title")[0],(!M||M[Ji]||M[un]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=T.createElement(S),T.head.insertBefore(M,T.querySelector("head > title"))),Rr(M,S,y),M[un]=o,tr(M),S=M;break e;case"link":var H=ot("link","href",T).get(S+(y.href||""));if(H){for(var ee=0;ee<H.length;ee++)if(M=H[ee],M.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&M.getAttribute("rel")===(y.rel==null?null:y.rel)&&M.getAttribute("title")===(y.title==null?null:y.title)&&M.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){H.splice(ee,1);break t}}M=T.createElement(S),Rr(M,S,y),T.head.appendChild(M);break;case"meta":if(H=ot("meta","content",T).get(S+(y.content||""))){for(ee=0;ee<H.length;ee++)if(M=H[ee],M.getAttribute("content")===(y.content==null?null:""+y.content)&&M.getAttribute("name")===(y.name==null?null:y.name)&&M.getAttribute("property")===(y.property==null?null:y.property)&&M.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&M.getAttribute("charset")===(y.charSet==null?null:y.charSet)){H.splice(ee,1);break t}}M=T.createElement(S),Rr(M,S,y),T.head.appendChild(M);break;default:throw Error(r(468,S))}M[un]=o,tr(M),S=M}o.stateNode=S}else wt(T,o.type,o.stateNode);else o.stateNode=Re(T,S,o.memoizedProps);else M!==S?(M===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):M.count--,S===null?wt(T,o.type,o.stateNode):Re(T,S,o.memoizedProps)):S===null&&o.stateNode!==null&&oc(o,o.memoizedProps,y.memoizedProps)}break;case 27:Wr(f,o),Cr(o),S&512&&(Qn||y===null||ao(y,y.return)),y!==null&&S&4&&oc(o,o.memoizedProps,y.memoizedProps);break;case 5:if(Wr(f,o),Cr(o),S&512&&(Qn||y===null||ao(y,y.return)),o.flags&32){T=o.stateNode;try{zs(T,"")}catch(Fe){Tn(o,o.return,Fe)}}S&4&&o.stateNode!=null&&(T=o.memoizedProps,oc(o,T,y!==null?y.memoizedProps:T)),S&1024&&(Km=!0);break;case 6:if(Wr(f,o),Cr(o),S&4){if(o.stateNode===null)throw Error(r(162));S=o.memoizedProps,y=o.stateNode;try{y.nodeValue=S}catch(Fe){Tn(o,o.return,Fe)}}break;case 3:if(He=null,T=lo,lo=yc(f.containerInfo),Wr(f,o),lo=T,Cr(o),S&4&&y!==null&&y.memoizedState.isDehydrated)try{A0(f.containerInfo)}catch(Fe){Tn(o,o.return,Fe)}Km&&(Km=!1,fl(o));break;case 4:S=lo,lo=yc(o.stateNode.containerInfo),Wr(f,o),Cr(o),lo=S;break;case 12:Wr(f,o),Cr(o);break;case 13:Wr(f,o),Cr(o),o.child.flags&8192&&o.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(e0=je()),S&4&&(S=o.updateQueue,S!==null&&(o.updateQueue=null,pp(o,S)));break;case 22:T=o.memoizedState!==null;var fe=y!==null&&y.memoizedState!==null,De=hs,ze=Qn;if(hs=De||T,Qn=ze||fe,Wr(f,o),Qn=ze,hs=De,Cr(o),S&8192)e:for(f=o.stateNode,f._visibility=T?f._visibility&-2:f._visibility|1,T&&(y===null||fe||hs||Qn||aa(o)),y=null,f=o;;){if(f.tag===5||f.tag===26){if(y===null){fe=y=f;try{if(M=fe.stateNode,T)H=M.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{ee=fe.stateNode;var $e=fe.memoizedProps.style,Le=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;ee.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(Fe){Tn(fe,fe.return,Fe)}}}else if(f.tag===6){if(y===null){fe=f;try{fe.stateNode.nodeValue=T?"":fe.memoizedProps}catch(Fe){Tn(fe,fe.return,Fe)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===o)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break e;for(;f.sibling===null;){if(f.return===null||f.return===o)break e;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}S&4&&(S=o.updateQueue,S!==null&&(y=S.retryQueue,y!==null&&(S.retryQueue=null,pp(o,y))));break;case 19:Wr(f,o),Cr(o),S&4&&(S=o.updateQueue,S!==null&&(o.updateQueue=null,pp(o,S)));break;case 30:break;case 21:break;default:Wr(f,o),Cr(o)}}function Cr(o){var f=o.flags;if(f&2){try{for(var y,S=o.return;S!==null;){if(Nx(S)){y=S;break}S=S.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var T=y.stateNode,M=sc(o);sa(o,M,T);break;case 5:var H=y.stateNode;y.flags&32&&(zs(H,""),y.flags&=-33);var ee=sc(o);sa(o,ee,H);break;case 3:case 4:var fe=y.stateNode.containerInfo,De=sc(o);ac(o,De,fe);break;default:throw Error(r(161))}}catch(ze){Tn(o,o.return,ze)}o.flags&=-3}f&4096&&(o.flags&=-4097)}function fl(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var f=o;fl(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),o=o.sibling}}function To(o,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Ix(o,f.alternate,f),f=f.sibling}function aa(o){for(o=o.child;o!==null;){var f=o;switch(f.tag){case 0:case 11:case 14:case 15:oa(4,f,f.return),aa(f);break;case 1:ao(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&vt(f,f.return,y),aa(f);break;case 27:Wf(f.stateNode);case 26:case 5:ao(f,f.return),aa(f);break;case 22:f.memoizedState===null&&aa(f);break;case 30:aa(f);break;default:aa(f)}o=o.sibling}}function No(o,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var S=f.alternate,T=o,M=f,H=M.flags;switch(M.tag){case 0:case 11:case 15:No(T,M,y),Vf(4,M);break;case 1:if(No(T,M,y),S=M,T=S.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(De){Tn(S,S.return,De)}if(S=M,T=S.updateQueue,T!==null){var ee=S.stateNode;try{var fe=T.shared.hiddenCallbacks;if(fe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<fe.length;T++)px(fe[T],ee)}catch(De){Tn(S,S.return,De)}}y&&H&64&&dp(M),cl(M,M.return);break;case 27:hp(M);case 26:case 5:No(T,M,y),y&&S===null&&H&4&&qm(M),cl(M,M.return);break;case 12:No(T,M,y);break;case 13:No(T,M,y),y&&H&4&&Mx(T,M);break;case 22:M.memoizedState===null&&No(T,M,y),cl(M,M.return);break;case 30:break;default:No(T,M,y)}f=f.sibling}}function yt(o,f){var y=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),o=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(o=f.memoizedState.cachePool.pool),o!==y&&(o!=null&&o.refCount++,y!=null&&_f(y))}function Uf(o,f){o=null,f.alternate!==null&&(o=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==o&&(f.refCount++,o!=null&&_f(o))}function _o(o,f,y,S){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Lx(o,f,y,S),f=f.sibling}function Lx(o,f,y,S){var T=f.flags;switch(f.tag){case 0:case 11:case 15:_o(o,f,y,S),T&2048&&Vf(9,f);break;case 1:_o(o,f,y,S);break;case 3:_o(o,f,y,S),T&2048&&(o=null,f.alternate!==null&&(o=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==o&&(f.refCount++,o!=null&&_f(o)));break;case 12:if(T&2048){_o(o,f,y,S),o=f.stateNode;try{var M=f.memoizedProps,H=M.id,ee=M.onPostCommit;typeof ee=="function"&&ee(H,f.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(fe){Tn(f,f.return,fe)}}else _o(o,f,y,S);break;case 13:_o(o,f,y,S);break;case 23:break;case 22:M=f.stateNode,H=f.alternate,f.memoizedState!==null?M._visibility&2?_o(o,f,y,S):la(o,f):M._visibility&2?_o(o,f,y,S):(M._visibility|=2,dl(o,f,y,S,(f.subtreeFlags&10256)!==0)),T&2048&&yt(H,f);break;case 24:_o(o,f,y,S),T&2048&&Uf(f.alternate,f);break;default:_o(o,f,y,S)}}function dl(o,f,y,S,T){for(T=T&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var M=o,H=f,ee=y,fe=S,De=H.flags;switch(H.tag){case 0:case 11:case 15:dl(M,H,ee,fe,T),Vf(8,H);break;case 23:break;case 22:var ze=H.stateNode;H.memoizedState!==null?ze._visibility&2?dl(M,H,ee,fe,T):la(M,H):(ze._visibility|=2,dl(M,H,ee,fe,T)),T&&De&2048&&yt(H.alternate,H);break;case 24:dl(M,H,ee,fe,T),T&&De&2048&&Uf(H.alternate,H);break;default:dl(M,H,ee,fe,T)}f=f.sibling}}function la(o,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=o,S=f,T=S.flags;switch(S.tag){case 22:la(y,S),T&2048&&yt(S.alternate,S);break;case 24:la(y,S),T&2048&&Uf(S.alternate,S);break;default:la(y,S)}f=f.sibling}}var ua=8192;function ps(o){if(o.subtreeFlags&ua)for(o=o.child;o!==null;)Xm(o),o=o.sibling}function Xm(o){switch(o.tag){case 26:ps(o),o.flags&ua&&o.memoizedState!==null&&dn(lo,o.memoizedState,o.memoizedProps);break;case 5:ps(o);break;case 3:case 4:var f=lo;lo=yc(o.stateNode.containerInfo),ps(o),lo=f;break;case 22:o.memoizedState===null&&(f=o.alternate,f!==null&&f.memoizedState!==null?(f=ua,ua=16777216,ps(o),ua=f):ps(o));break;default:ps(o)}}function Fx(o){var f=o.alternate;if(f!==null&&(o=f.child,o!==null)){f.child=null;do f=o.sibling,o.sibling=null,o=f;while(o!==null)}}function Io(o){var f=o.deletions;if((o.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var S=f[y];vr=S,mp(S,o)}Fx(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lc(o),o=o.sibling}function lc(o){switch(o.tag){case 0:case 11:case 15:Io(o),o.flags&2048&&oa(9,o,o.return);break;case 3:Io(o);break;case 12:Io(o);break;case 22:var f=o.stateNode;o.memoizedState!==null&&f._visibility&2&&(o.return===null||o.return.tag!==13)?(f._visibility&=-3,gp(o)):Io(o);break;default:Io(o)}}function gp(o){var f=o.deletions;if((o.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var S=f[y];vr=S,mp(S,o)}Fx(o)}for(o=o.child;o!==null;){switch(f=o,f.tag){case 0:case 11:case 15:oa(8,f,f.return),gp(f);break;case 22:y=f.stateNode,y._visibility&2&&(y._visibility&=-3,gp(f));break;default:gp(f)}o=o.sibling}}function mp(o,f){for(;vr!==null;){var y=vr;switch(y.tag){case 0:case 11:case 15:oa(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var S=y.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:_f(y.memoizedState.cache)}if(S=y.child,S!==null)S.return=y,vr=S;else e:for(y=o;vr!==null;){S=vr;var T=S.sibling,M=S.return;if(Ox(S),S===y){vr=null;break e}if(T!==null){T.return=M,vr=T;break e}vr=M}}}var B1={getCacheForType:function(o){var f=br(nr),y=f.data.get(o);return y===void 0&&(y=o(),f.data.set(o,y)),y}},j1=typeof WeakMap=="function"?WeakMap:Map,hn=0,Pn=null,Ht=null,en=0,yn=0,ci=null,gs=!1,uc=!1,Zm=!1,ms=0,Un=0,Oo=0,hl=0,Jm=0,Ui=0,cc=0,fc=null,qr=null,Qm=!1,e0=0,vp=1/0,yp=null,uo=null,cr=0,Do=null,dc=null,vs=0,t0=0,n0=null,kx=null,xn=0,kr=null;function fr(){if((hn&2)!==0&&en!==0)return en&-en;if(ie.T!==null){var o=Yu;return o!==0?o:Rp()}return gr()}function Bx(){Ui===0&&(Ui=(en&536870912)===0||cn?vn():536870912);var o=ji.current;return o!==null&&(o.flags|=32),Ui}function Je(o,f,y){(o===Pn&&(yn===2||yn===9)||o.cancelPendingCommit!==null)&&(Mo(o,0),ys(o,en,Ui,!1)),an(o,y),((hn&2)===0||o!==Pn)&&(o===Pn&&((hn&2)===0&&(hl|=y),Un===4&&ys(o,en,Ui,!1)),Ai(o))}function r0(o,f,y){if((hn&6)!==0)throw Error(r(327));var S=!y&&(f&124)===0&&(f&o.expiredLanes)===0||Et(o,f),T=S?s0(o,f):Gf(o,f,!0),M=S;do{if(T===0){uc&&!S&&ys(o,f,0,!1);break}else{if(y=o.current.alternate,M&&!z1(y)){T=Gf(o,f,!1),M=!1;continue}if(T===2){if(M=f,o.errorRecoveryDisabledLanes&M)var H=0;else H=o.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){f=H;e:{var ee=o;T=fc;var fe=ee.current.memoizedState.isDehydrated;if(fe&&(Mo(ee,H).flags|=256),H=Gf(ee,H,!1),H!==2){if(Zm&&!fe){ee.errorRecoveryDisabledLanes|=M,hl|=M,T=4;break e}M=qr,qr=T,M!==null&&(qr===null?qr=M:qr.push.apply(qr,M))}T=H}if(M=!1,T!==2)continue}}if(T===1){Mo(o,0),ys(o,f,0,!0);break}e:{switch(S=o,M=T,M){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:ys(S,f,Ui,!gs);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(T=e0+300-je(),10<T)){if(ys(S,f,Ui,!gs),mt(S,0,!0)!==0)break e;S.timeoutHandle=Kx(xp.bind(null,S,y,qr,yp,Qm,f,Ui,hl,cc,gs,M,2,-0,0),T);break e}xp(S,y,qr,yp,Qm,f,Ui,hl,cc,gs,M,0,-0,0)}}break}while(!0);Ai(o)}function xp(o,f,y,S,T,M,H,ee,fe,De,ze,$e,Le,Fe){if(o.timeoutHandle=-1,$e=f.subtreeFlags,($e&8192||($e&16785408)===16785408)&&(tn={stylesheets:null,count:0,unsuspend:Tr},Xm(f),$e=or(),$e!==null)){o.cancelPendingCommit=$e(l0.bind(null,o,f,M,y,S,T,H,ee,fe,ze,1,Le,Fe)),ys(o,M,H,!De);return}l0(o,f,M,y,S,T,H,ee,fe)}function z1(o){for(var f=o;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var S=0;S<y.length;S++){var T=y[S],M=T.getSnapshot;T=T.value;try{if(!ti(M(),T))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ys(o,f,y,S){f&=~Jm,f&=~hl,o.suspendedLanes|=f,o.pingedLanes&=~f,S&&(o.warmLanes|=f),S=o.expirationTimes;for(var T=f;0<T;){var M=31-lt(T),H=1<<M;S[M]=-1,T&=~H}y!==0&&rt(o,y,f)}function ca(){return(hn&6)===0?(ma(0),!1):!0}function bp(){if(Ht!==null){if(yn===0)var o=Ht.return;else o=Ht,Jo=tl=null,Nm(o),ss=null,as=0,o=Ht;for(;o!==null;)Tx(o.alternate,o),o=o.return;Ht=null}}function Mo(o,f){var y=o.timeoutHandle;y!==-1&&(o.timeoutHandle=-1,Xx(y)),y=o.cancelPendingCommit,y!==null&&(o.cancelPendingCommit=null,y()),bp(),Pn=o,Ht=y=Fi(o.current,null),en=f,yn=0,ci=null,gs=!1,uc=Et(o,f),Zm=!1,cc=Ui=Jm=hl=Oo=Un=0,qr=fc=null,Qm=!1,(f&8)!==0&&(f|=f&32);var S=o.entangledLanes;if(S!==0)for(o=o.entanglements,S&=f;0<S;){var T=31-lt(S),M=1<<T;f|=o[T],S&=~M}return ms=f,Bh(),y}function jx(o,f){Ut=null,ie.H=Ar,f===qu||f===Of?(f=hx(),yn=3):f===fx?(f=hx(),yn=4):yn=f===so?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ci=f,Ht===null&&(Un=1,ra(o,Li(f,o.current)))}function i0(){var o=ie.H;return ie.H=Ar,o===null?Ar:o}function zx(){var o=ie.A;return ie.A=B1,o}function on(){Un=4,gs||(en&4194048)!==en&&ji.current!==null||(uc=!0),(Oo&134217727)===0&&(hl&134217727)===0||Pn===null||ys(Pn,en,Ui,!1)}function Gf(o,f,y){var S=hn;hn|=2;var T=i0(),M=zx();(Pn!==o||en!==f)&&(yp=null,Mo(o,f)),f=!1;var H=Un;e:do try{if(yn!==0&&Ht!==null){var ee=Ht,fe=ci;switch(yn){case 8:bp(),H=6;break e;case 3:case 2:case 9:case 6:ji.current===null&&(f=!0);var De=yn;if(yn=0,ci=null,fa(o,ee,fe,De),y&&uc){H=0;break e}break;default:De=yn,yn=0,ci=null,fa(o,ee,fe,De)}}o0(),H=Un;break}catch(ze){jx(o,ze)}while(!0);return f&&o.shellSuspendCounter++,Jo=tl=null,hn=S,ie.H=T,ie.A=M,Ht===null&&(Pn=null,en=0,Bh()),H}function o0(){for(;Ht!==null;)Vx(Ht)}function s0(o,f){var y=hn;hn|=2;var S=i0(),T=zx();Pn!==o||en!==f?(yp=null,vp=je()+500,Mo(o,f)):uc=Et(o,f);e:do try{if(yn!==0&&Ht!==null){f=Ht;var M=ci;t:switch(yn){case 1:yn=0,ci=null,fa(o,f,M,1);break;case 2:case 9:if(xm(M)){yn=0,ci=null,Ux(f);break}f=function(){yn!==2&&yn!==9||Pn!==o||(yn=7),Ai(o)},M.then(f,f);break e;case 3:yn=7;break e;case 4:yn=5;break e;case 7:xm(M)?(yn=0,ci=null,Ux(f)):(yn=0,ci=null,fa(o,f,M,7));break;case 5:var H=null;switch(Ht.tag){case 26:H=Ht.memoizedState;case 5:case 27:var ee=Ht;if(!H||Dn(H)){yn=0,ci=null;var fe=ee.sibling;if(fe!==null)Ht=fe;else{var De=ee.return;De!==null?(Ht=De,Sp(De)):Ht=null}break t}}yn=0,ci=null,fa(o,f,M,5);break;case 6:yn=0,ci=null,fa(o,f,M,6);break;case 8:bp(),Un=6;break e;default:throw Error(r(462))}}V1();break}catch(ze){jx(o,ze)}while(!0);return Jo=tl=null,ie.H=S,ie.A=T,hn=y,Ht!==null?0:(Pn=null,en=0,Bh(),Un)}function V1(){for(;Ht!==null&&!we();)Vx(Ht)}function Vx(o){var f=ul(o.alternate,o,ms);o.memoizedProps=o.pendingProps,f===null?Sp(o):Ht=f}function Ux(o){var f=o,y=f.alternate;switch(f.tag){case 15:case 0:f=Cx(y,f,f.pendingProps,f.type,void 0,en);break;case 11:f=Cx(y,f,f.pendingProps,f.type.render,f.ref,en);break;case 5:Nm(f);default:Tx(y,f),f=Ht=Cf(f,ms),f=ul(y,f,ms)}o.memoizedProps=o.pendingProps,f===null?Sp(o):Ht=f}function fa(o,f,y,S){Jo=tl=null,Nm(f),ss=null,as=0;var T=f.return;try{if(L1(o,T,f,y,en)){Un=1,ra(o,Li(y,o.current)),Ht=null;return}}catch(M){if(T!==null)throw Ht=T,M;Un=1,ra(o,Li(y,o.current)),Ht=null;return}f.flags&32768?(cn||S===1?o=!0:uc||(en&536870912)!==0?o=!1:(gs=o=!0,(S===2||S===9||S===3||S===6)&&(S=ji.current,S!==null&&S.tag===13&&(S.flags|=16384))),a0(f,o)):Sp(f)}function Sp(o){var f=o;do{if((f.flags&32768)!==0){a0(f,gs);return}o=f.return;var y=fs(f.alternate,f,ms);if(y!==null){Ht=y;return}if(f=f.sibling,f!==null){Ht=f;return}Ht=f=o}while(f!==null);Un===0&&(Un=5)}function a0(o,f){do{var y=ds(o.alternate,o);if(y!==null){y.flags&=32767,Ht=y;return}if(y=o.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(o=o.sibling,o!==null)){Ht=o;return}Ht=o=y}while(o!==null);Un=6,Ht=null}function l0(o,f,y,S,T,M,H,ee,fe){o.cancelPendingCommit=null;do ha();while(cr!==0);if((hn&6)!==0)throw Error(r(327));if(f!==null){if(f===o.current)throw Error(r(177));if(M=f.lanes|f.childLanes,M|=um,Zn(o,y,M,H,ee,fe),o===Pn&&(Ht=Pn=null,en=0),dc=f,Do=o,vs=y,t0=M,n0=T,kx=S,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,H1(Ze,function(){return hc(),null})):(o.callbackNode=null,o.callbackPriority=0),S=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||S){S=ie.T,ie.T=null,T=Ee.p,Ee.p=2,H=hn,hn|=4;try{F1(o,f,y)}finally{hn=H,Ee.p=T,ie.T=S}}cr=1,Ep(),u0(),Gi()}}function Ep(){if(cr===1){cr=0;var o=Do,f=dc,y=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||y){y=ie.T,ie.T=null;var S=Ee.p;Ee.p=2;var T=hn;hn|=4;try{Px(f,o);var M=Dp,H=ex(o.containerInfo),ee=M.focusedElem,fe=M.selectionRange;if(H!==ee&&ee&&ee.ownerDocument&&Qy(ee.ownerDocument.documentElement,ee)){if(fe!==null&&om(ee)){var De=fe.start,ze=fe.end;if(ze===void 0&&(ze=De),"selectionStart"in ee)ee.selectionStart=De,ee.selectionEnd=Math.min(ze,ee.value.length);else{var $e=ee.ownerDocument||document,Le=$e&&$e.defaultView||window;if(Le.getSelection){var Fe=Le.getSelection(),Ot=ee.textContent.length,Ct=Math.min(fe.start,Ot),Ln=fe.end===void 0?Ct:Math.min(fe.end,Ot);!Fe.extend&&Ct>Ln&&(H=Ln,Ln=Ct,Ct=H);var Ce=Jy(ee,Ct),be=Jy(ee,Ln);if(Ce&&be&&(Fe.rangeCount!==1||Fe.anchorNode!==Ce.node||Fe.anchorOffset!==Ce.offset||Fe.focusNode!==be.node||Fe.focusOffset!==be.offset)){var _e=$e.createRange();_e.setStart(Ce.node,Ce.offset),Fe.removeAllRanges(),Ct>Ln?(Fe.addRange(_e),Fe.extend(be.node,be.offset)):(_e.setEnd(be.node,be.offset),Fe.addRange(_e))}}}}for($e=[],Fe=ee;Fe=Fe.parentNode;)Fe.nodeType===1&&$e.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<$e.length;ee++){var Ge=$e[ee];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}sb=!!Op,Dp=Op=null}finally{hn=T,Ee.p=S,ie.T=y}}o.current=f,cr=2}}function u0(){if(cr===2){cr=0;var o=Do,f=dc,y=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||y){y=ie.T,ie.T=null;var S=Ee.p;Ee.p=2;var T=hn;hn|=4;try{Ix(o,f.alternate,f)}finally{hn=T,Ee.p=S,ie.T=y}}cr=3}}function Gi(){if(cr===4||cr===3){cr=0,Ie();var o=Do,f=dc,y=vs,S=kx;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?cr=5:(cr=0,dc=Do=null,da(o,o.pendingLanes));var T=o.pendingLanes;if(T===0&&(uo=null),rn(y),f=f.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(qe,f,void 0,(f.current.flags&128)===128)}catch{}if(S!==null){f=ie.T,T=Ee.p,Ee.p=2,ie.T=null;try{for(var M=o.onRecoverableError,H=0;H<S.length;H++){var ee=S[H];M(ee.value,{componentStack:ee.stack})}}finally{ie.T=f,Ee.p=T}}(vs&3)!==0&&ha(),Ai(o),T=o.pendingLanes,(y&4194090)!==0&&(T&42)!==0?o===kr?xn++:(xn=0,kr=o):xn=0,ma(0)}}function da(o,f){(o.pooledCacheLanes&=f)===0&&(f=o.pooledCache,f!=null&&(o.pooledCache=null,_f(f)))}function ha(o){return Ep(),u0(),Gi(),hc()}function hc(){if(cr!==5)return!1;var o=Do,f=t0;t0=0;var y=rn(vs),S=ie.T,T=Ee.p;try{Ee.p=32>y?32:y,ie.T=null,y=n0,n0=null;var M=Do,H=vs;if(cr=0,dc=Do=null,vs=0,(hn&6)!==0)throw Error(r(331));var ee=hn;if(hn|=4,lc(M.current),Lx(M,M.current,H,y),hn=ee,ma(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(qe,M)}catch{}return!0}finally{Ee.p=T,ie.T=S,da(o,f)}}function c0(o,f,y){f=Li(y,f),f=Co(o.stateNode,f,2),o=Xs(o,f,2),o!==null&&(an(o,2),Ai(o))}function Tn(o,f,y){if(o.tag===3)c0(o,o,y);else for(;f!==null;){if(f.tag===3){c0(f,o,y);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(uo===null||!uo.has(S))){o=Li(y,o),y=rc(2),S=Xs(f,y,2),S!==null&&(Ax(y,S,f,o),an(S,2),Ai(S));break}}f=f.return}}function f0(o,f,y){var S=o.pingCache;if(S===null){S=o.pingCache=new j1;var T=new Set;S.set(f,T)}else T=S.get(f),T===void 0&&(T=new Set,S.set(f,T));T.has(y)||(Zm=!0,T.add(y),o=U1.bind(null,o,f,y),f.then(o,o))}function U1(o,f,y){var S=o.pingCache;S!==null&&S.delete(f),o.pingedLanes|=o.suspendedLanes&y,o.warmLanes&=~y,Pn===o&&(en&y)===y&&(Un===4||Un===3&&(en&62914560)===en&&300>je()-e0?(hn&2)===0&&Mo(o,0):Jm|=y,cc===en&&(cc=0)),Ai(o)}function Gx(o,f){f===0&&(f=Fn()),o=Bu(o,f),o!==null&&(an(o,f),Ai(o))}function G1(o){var f=o.memoizedState,y=0;f!==null&&(y=f.retryLane),Gx(o,y)}function $1(o,f){var y=0;switch(o.tag){case 13:var S=o.stateNode,T=o.memoizedState;T!==null&&(y=T.retryLane);break;case 19:S=o.stateNode;break;case 22:S=o.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(f),Gx(o,y)}function H1(o,f){return ae(o,f)}var Ap=null,pc=null,d0=!1,wp=!1,pa=!1,ga=0;function Ai(o){o!==pc&&o.next===null&&(pc===null?Ap=pc=o:pc=pc.next=o),wp=!0,d0||(d0=!0,va())}function ma(o,f){if(!pa&&wp){pa=!0;do for(var y=!1,S=Ap;S!==null;){if(o!==0){var T=S.pendingLanes;if(T===0)var M=0;else{var H=S.suspendedLanes,ee=S.pingedLanes;M=(1<<31-lt(42|o)+1)-1,M&=T&~(H&~ee),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(y=!0,Cp(S,M))}else M=en,M=mt(S,S===Pn?M:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(M&3)===0||Et(S,M)||(y=!0,Cp(S,M));S=S.next}while(y);pa=!1}}function Y1(){xs()}function xs(){wp=d0=!1;var o=0;ga!==0&&(qx()&&(o=ga),ga=0);for(var f=je(),y=null,S=Ap;S!==null;){var T=S.next,M=dr(S,f);M===0?(S.next=null,y===null?Ap=T:y.next=T,T===null&&(pc=y)):(y=S,(o!==0||(M&3)!==0)&&(wp=!0)),S=T}ma(o)}function dr(o,f){for(var y=o.suspendedLanes,S=o.pingedLanes,T=o.expirationTimes,M=o.pendingLanes&-62914561;0<M;){var H=31-lt(M),ee=1<<H,fe=T[H];fe===-1?((ee&y)===0||(ee&S)!==0)&&(T[H]=Dt(ee,f)):fe<=f&&(o.expiredLanes|=ee),M&=~ee}if(f=Pn,y=en,y=mt(o,o===f?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),S=o.callbackNode,y===0||o===f&&(yn===2||yn===9)||o.cancelPendingCommit!==null)return S!==null&&S!==null&&le(S),o.callbackNode=null,o.callbackPriority=0;if((y&3)===0||Et(o,y)){if(f=y&-y,f===o.callbackPriority)return f;switch(S!==null&&le(S),rn(y)){case 2:case 8:y=Pe;break;case 32:y=Ze;break;case 268435456:y=gt;break;default:y=Ze}return S=pl.bind(null,o),y=ae(y,S),o.callbackPriority=f,o.callbackNode=y,f}return S!==null&&S!==null&&le(S),o.callbackPriority=2,o.callbackNode=null,2}function pl(o,f){if(cr!==0&&cr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var y=o.callbackNode;if(ha()&&o.callbackNode!==y)return null;var S=en;return S=mt(o,o===Pn?S:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),S===0?null:(r0(o,S,f),dr(o,je()),o.callbackNode!=null&&o.callbackNode===y?pl.bind(null,o):null)}function Cp(o,f){if(ha())return null;r0(o,f,!0)}function va(){Zx(function(){(hn&6)!==0?ae(me,Y1):xs()})}function Rp(){return ga===0&&(ga=vn()),ga}function $x(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:gf(""+o)}function W1(o,f){var y=f.ownerDocument.createElement("input");return y.name=f.name,y.value=f.value,o.id&&y.setAttribute("form",o.id),f.parentNode.insertBefore(y,f),o=new FormData(o),y.parentNode.removeChild(y),o}function DR(o,f,y,S,T){if(f==="submit"&&y&&y.stateNode===T){var M=$x((T[Lt]||null).action),H=S.submitter;H&&(f=(f=H[Lt]||null)?$x(f.formAction):H.getAttribute("formAction"),f!==null&&(M=f,H=null));var ee=new Xo("action","action",null,S,T);o.push({event:ee,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(ga!==0){var fe=H?W1(T,H):new FormData(T);ai(y,{pending:!0,data:fe,method:T.method,action:M},null,fe)}}else typeof M=="function"&&(ee.preventDefault(),fe=H?W1(T,H):new FormData(T),ai(y,{pending:!0,data:fe,method:T.method,action:M},M,fe))},currentTarget:T}]})}}for(var Tp=0;Tp<kh.length;Tp++){var h0=kh[Tp],q1=h0.toLowerCase(),$f=h0[0].toUpperCase()+h0.slice(1);vi(q1,"on"+$f)}vi(nx,"onAnimationEnd"),vi(Fh,"onAnimationIteration"),vi(Af,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(E1,"onTransitionRun"),vi(A1,"onTransitionStart"),vi(w1,"onTransitionCancel"),vi(rx,"onTransitionEnd"),Ua("onMouseEnter",["mouseout","mouseover"]),Ua("onMouseLeave",["mouseout","mouseover"]),Ua("onPointerEnter",["pointerout","pointerover"]),Ua("onPointerLeave",["pointerout","pointerover"]),js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),js("onBeforeInput",["compositionend","keypress","textInput","paste"]),js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function Lo(o,f){f=(f&4)!==0;for(var y=0;y<o.length;y++){var S=o[y],T=S.event;S=S.listeners;e:{var M=void 0;if(f)for(var H=S.length-1;0<=H;H--){var ee=S[H],fe=ee.instance,De=ee.currentTarget;if(ee=ee.listener,fe!==M&&T.isPropagationStopped())break e;M=ee,T.currentTarget=De;try{M(T)}catch(ze){li(ze)}T.currentTarget=null,M=fe}else for(H=0;H<S.length;H++){if(ee=S[H],fe=ee.instance,De=ee.currentTarget,ee=ee.listener,fe!==M&&T.isPropagationStopped())break e;M=ee,T.currentTarget=De;try{M(T)}catch(ze){li(ze)}T.currentTarget=null,M=fe}}}}function kt(o,f){var y=f[Oi];y===void 0&&(y=f[Oi]=new Set);var S=o+"__bubble";y.has(S)||(p0(f,o,2,!1),y.add(S))}function ya(o,f,y){var S=0;f&&(S|=4),p0(y,o,S,f)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Np(o){if(!o[gc]){o[gc]=!0,Bg.forEach(function(y){y!=="selectionchange"&&(Hf.has(y)||ya(y,!1,o),ya(y,!0,o))});var f=o.nodeType===9?o:o.ownerDocument;f===null||f[gc]||(f[gc]=!0,ya("selectionchange",!1,f))}}function p0(o,f,y,S){switch(BR(f)){case 2:var T=EB;break;case 8:T=AB;break;default:T=oE}y=T.bind(null,f,y,o),T=void 0,!qg||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),S?T!==void 0?o.addEventListener(f,y,{capture:!0,passive:T}):o.addEventListener(f,y,!0):T!==void 0?o.addEventListener(f,y,{passive:T}):o.addEventListener(f,y,!1)}function _p(o,f,y,S,T){var M=S;if((f&1)===0&&(f&2)===0&&S!==null)e:for(;;){if(S===null)return;var H=S.tag;if(H===3||H===4){var ee=S.stateNode.containerInfo;if(ee===T)break;if(H===4)for(H=S.return;H!==null;){var fe=H.tag;if((fe===3||fe===4)&&H.stateNode.containerInfo===T)return;H=H.return}for(;ee!==null;){if(H=ks(ee),H===null)return;if(fe=H.tag,fe===5||fe===6||fe===26||fe===27){S=M=H;continue e}ee=ee.parentNode}}S=S.return}xy(function(){var De=M,ze=vf(y),$e=[];e:{var Le=ix.get(o);if(Le!==void 0){var Fe=Xo,Ot=o;switch(o){case"keypress":if(Rh(y)===0)break e;case"keydown":case"keyup":Fe=Dy;break;case"focusin":Ot="focus",Fe=Ih;break;case"focusout":Ot="blur",Fe=Ih;break;case"beforeblur":case"afterblur":Fe=Ih;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=OR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=Ly;break;case nx:case Fh:case Af:Fe=Ay;break;case rx:Fe=ky;break;case"scroll":case"scrollend":Fe=p1;break;case"wheel":Fe=m1;break;case"copy":case"cut":case"paste":Fe=Cy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Jg;break;case"toggle":case"beforetoggle":Fe=jy}var Ct=(f&4)!==0,Ln=!Ct&&(o==="scroll"||o==="scrollend"),Ce=Ct?Le!==null?Le+"Capture":null:Le;Ct=[];for(var be=De,_e;be!==null;){var Ge=be;if(_e=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||_e===null||Ce===null||(Ge=Ya(be,Ce),Ge!=null&&Ct.push(mc(be,Ge,_e))),Ln)break;be=be.return}0<Ct.length&&(Le=new Fe(Le,Ot,null,y,ze),$e.push({event:Le,listeners:Ct}))}}if((f&7)===0){e:{if(Le=o==="mouseover"||o==="pointerover",Fe=o==="mouseout"||o==="pointerout",Le&&y!==mf&&(Ot=y.relatedTarget||y.fromElement)&&(ks(Ot)||Ot[En]))break e;if((Fe||Le)&&(Le=ze.window===ze?ze:(Le=ze.ownerDocument)?Le.defaultView||Le.parentWindow:window,Fe?(Ot=y.relatedTarget||y.toElement,Fe=De,Ot=Ot?ks(Ot):null,Ot!==null&&(Ln=a(Ot),Ct=Ot.tag,Ot!==Ln||Ct!==5&&Ct!==27&&Ct!==6)&&(Ot=null)):(Fe=null,Ot=De),Fe!==Ot)){if(Ct=Xg,Ge="onMouseLeave",Ce="onMouseEnter",be="mouse",(o==="pointerout"||o==="pointerover")&&(Ct=Jg,Ge="onPointerLeave",Ce="onPointerEnter",be="pointer"),Ln=Fe==null?Le:Du(Fe),_e=Ot==null?Le:Du(Ot),Le=new Ct(Ge,be+"leave",Fe,y,ze),Le.target=Ln,Le.relatedTarget=_e,Ge=null,ks(ze)===De&&(Ct=new Ct(Ce,be+"enter",Ot,y,ze),Ct.target=_e,Ct.relatedTarget=Ln,Ge=Ct),Ln=Ge,Fe&&Ot)t:{for(Ct=Fe,Ce=Ot,be=0,_e=Ct;_e;_e=gl(_e))be++;for(_e=0,Ge=Ce;Ge;Ge=gl(Ge))_e++;for(;0<be-_e;)Ct=gl(Ct),be--;for(;0<_e-be;)Ce=gl(Ce),_e--;for(;be--;){if(Ct===Ce||Ce!==null&&Ct===Ce.alternate)break t;Ct=gl(Ct),Ce=gl(Ce)}Ct=null}else Ct=null;Fe!==null&&g0($e,Le,Fe,Ct,!1),Ot!==null&&Ln!==null&&g0($e,Ln,Ot,Ct,!0)}}e:{if(Le=De?Du(De):window,Fe=Le.nodeName&&Le.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Le.type==="file")var ut=nm;else if(tm(Le))if(Wy)ut=im;else{ut=b1;var Zt=x1}else Fe=Le.nodeName,!Fe||Fe.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?De&&Yg(De.elementType)&&(ut=nm):ut=Zy;if(ut&&(ut=ut(o,De))){Hy($e,ut,y,ze);break e}Zt&&Zt(o,Le,De),o==="focusout"&&De&&Le.type==="number"&&De.memoizedProps.value!=null&&pf(Le,"number",Le.value)}switch(Zt=De?Du(De):window,o){case"focusin":(tm(Zt)||Zt.contentEditable==="true")&&(Ka=Zt,sm=De,Ef=null);break;case"focusout":Ef=sm=Ka=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,tx($e,y,ze);break;case"selectionchange":if(Ph)break;case"keydown":case"keyup":tx($e,y,ze)}var bt;if(Qg)e:{switch(o){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Lu?Uy(o,y)&&(Tt="onCompositionEnd"):o==="keydown"&&y.keyCode===229&&(Tt="onCompositionStart");Tt&&(Wa&&y.locale!=="ko"&&(Lu||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Lu&&(bt=by()):(Vs=ze,Pu="value"in Vs?Vs.value:Vs.textContent,Lu=!0)),Zt=Yf(De,Tt),0<Zt.length&&(Tt=new Zg(Tt,o,null,y,ze),$e.push({event:Tt,listeners:Zt}),bt?Tt.data=bt:(bt=Gy(y),bt!==null&&(Tt.data=bt)))),(bt=em?$y(o,y):v1(o,y))&&(Tt=Yf(De,"onBeforeInput"),0<Tt.length&&(Zt=new Zg("onBeforeInput","beforeinput",null,y,ze),$e.push({event:Zt,listeners:Tt}),Zt.data=bt)),DR($e,o,De,y,ze)}Lo($e,f)})}function mc(o,f,y){return{instance:o,listener:f,currentTarget:y}}function Yf(o,f){for(var y=f+"Capture",S=[];o!==null;){var T=o,M=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||M===null||(T=Ya(o,y),T!=null&&S.unshift(mc(o,T,M)),T=Ya(o,f),T!=null&&S.push(mc(o,T,M))),o.tag===3)return S;o=o.return}return[]}function gl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function g0(o,f,y,S,T){for(var M=f._reactName,H=[];y!==null&&y!==S;){var ee=y,fe=ee.alternate,De=ee.stateNode;if(ee=ee.tag,fe!==null&&fe===S)break;ee!==5&&ee!==26&&ee!==27||De===null||(fe=De,T?(De=Ya(y,M),De!=null&&H.unshift(mc(y,De,fe))):T||(De=Ya(y,M),De!=null&&H.push(mc(y,De,fe)))),y=y.return}H.length!==0&&o.push({event:f,listeners:H})}var Hx=/\r\n?/g,K1=/\u0000|\uFFFD/g;function Yx(o){return(typeof o=="string"?o:""+o).replace(Hx,`
`).replace(K1,"")}function Wx(o,f){return f=Yx(f),Yx(o)===f}function ml(){}function Nn(o,f,y,S,T,M){switch(y){case"children":typeof S=="string"?f==="body"||f==="textarea"&&S===""||zs(o,S):(typeof S=="number"||typeof S=="bigint")&&f!=="body"&&zs(o,""+S);break;case"className":ff(o,"class",S);break;case"tabIndex":ff(o,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":ff(o,y,S);break;case"style":my(o,S,M);break;case"data":if(f!=="object"){ff(o,"data",S);break}case"src":case"href":if(S===""&&(f!=="a"||y!=="href")){o.removeAttribute(y);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){o.removeAttribute(y);break}S=gf(""+S),o.setAttribute(y,S);break;case"action":case"formAction":if(typeof S=="function"){o.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(y==="formAction"?(f!=="input"&&Nn(o,f,"name",T.name,T,null),Nn(o,f,"formEncType",T.formEncType,T,null),Nn(o,f,"formMethod",T.formMethod,T,null),Nn(o,f,"formTarget",T.formTarget,T,null)):(Nn(o,f,"encType",T.encType,T,null),Nn(o,f,"method",T.method,T,null),Nn(o,f,"target",T.target,T,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){o.removeAttribute(y);break}S=gf(""+S),o.setAttribute(y,S);break;case"onClick":S!=null&&(o.onclick=ml);break;case"onScroll":S!=null&&kt("scroll",o);break;case"onScrollEnd":S!=null&&kt("scrollend",o);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(T.children!=null)throw Error(r(60));o.innerHTML=y}}break;case"multiple":o.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":o.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){o.removeAttribute("xlink:href");break}y=gf(""+S),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(y,""+S):o.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(y,""):o.removeAttribute(y);break;case"capture":case"download":S===!0?o.setAttribute(y,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(y,S):o.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?o.setAttribute(y,S):o.removeAttribute(y);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?o.removeAttribute(y):o.setAttribute(y,S);break;case"popover":kt("beforetoggle",o),kt("toggle",o),Wo(o,"popover",S);break;case"xlinkActuate":qo(o,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":qo(o,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":qo(o,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":qo(o,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":qo(o,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":qo(o,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":qo(o,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":qo(o,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":qo(o,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Wo(o,"is",S);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=h1.get(y)||y,Wo(o,y,S))}}function Ip(o,f,y,S,T,M){switch(y){case"style":my(o,S,M);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(T.children!=null)throw Error(r(60));o.innerHTML=y}}break;case"children":typeof S=="string"?zs(o,S):(typeof S=="number"||typeof S=="bigint")&&zs(o,""+S);break;case"onScroll":S!=null&&kt("scroll",o);break;case"onScrollEnd":S!=null&&kt("scrollend",o);break;case"onClick":S!=null&&(o.onclick=ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jg.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(T=y.endsWith("Capture"),f=y.slice(2,T?y.length-7:void 0),M=o[Lt]||null,M=M!=null?M[y]:null,typeof M=="function"&&o.removeEventListener(f,M,T),typeof S=="function")){typeof M!="function"&&M!==null&&(y in o?o[y]=null:o.hasAttribute(y)&&o.removeAttribute(y)),o.addEventListener(f,S,T);break e}y in o?o[y]=S:S===!0?o.setAttribute(y,""):Wo(o,y,S)}}}function Rr(o,f,y){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",o),kt("load",o);var S=!1,T=!1,M;for(M in y)if(y.hasOwnProperty(M)){var H=y[M];if(H!=null)switch(M){case"src":S=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Nn(o,f,M,H,y,null)}}T&&Nn(o,f,"srcSet",y.srcSet,y,null),S&&Nn(o,f,"src",y.src,y,null);return;case"input":kt("invalid",o);var ee=M=H=T=null,fe=null,De=null;for(S in y)if(y.hasOwnProperty(S)){var ze=y[S];if(ze!=null)switch(S){case"name":T=ze;break;case"type":H=ze;break;case"checked":fe=ze;break;case"defaultChecked":De=ze;break;case"value":M=ze;break;case"defaultValue":ee=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,f));break;default:Nn(o,f,S,ze,y,null)}}$g(o,M,ee,fe,De,H,T,!1),wh(o);return;case"select":kt("invalid",o),S=H=M=null;for(T in y)if(y.hasOwnProperty(T)&&(ee=y[T],ee!=null))switch(T){case"value":M=ee;break;case"defaultValue":H=ee;break;case"multiple":S=ee;default:Nn(o,f,T,ee,y,null)}f=M,y=H,o.multiple=!!S,f!=null?Mu(o,!!S,f,!1):y!=null&&Mu(o,!!S,y,!0);return;case"textarea":kt("invalid",o),M=T=S=null;for(H in y)if(y.hasOwnProperty(H)&&(ee=y[H],ee!=null))switch(H){case"value":S=ee;break;case"defaultValue":T=ee;break;case"children":M=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(91));break;default:Nn(o,f,H,ee,y,null)}hy(o,S,T,M),wh(o);return;case"option":for(fe in y)if(y.hasOwnProperty(fe)&&(S=y[fe],S!=null))switch(fe){case"selected":o.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Nn(o,f,fe,S,y,null)}return;case"dialog":kt("beforetoggle",o),kt("toggle",o),kt("cancel",o),kt("close",o);break;case"iframe":case"object":kt("load",o);break;case"video":case"audio":for(S=0;S<Po.length;S++)kt(Po[S],o);break;case"image":kt("error",o),kt("load",o);break;case"details":kt("toggle",o);break;case"embed":case"source":case"link":kt("error",o),kt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in y)if(y.hasOwnProperty(De)&&(S=y[De],S!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Nn(o,f,De,S,y,null)}return;default:if(Yg(f)){for(ze in y)y.hasOwnProperty(ze)&&(S=y[ze],S!==void 0&&Ip(o,f,ze,S,y,void 0));return}}for(ee in y)y.hasOwnProperty(ee)&&(S=y[ee],S!=null&&Nn(o,f,ee,S,y,null))}function X1(o,f,y,S){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,M=null,H=null,ee=null,fe=null,De=null,ze=null;for(Fe in y){var $e=y[Fe];if(y.hasOwnProperty(Fe)&&$e!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":fe=$e;default:S.hasOwnProperty(Fe)||Nn(o,f,Fe,null,S,$e)}}for(var Le in S){var Fe=S[Le];if($e=y[Le],S.hasOwnProperty(Le)&&(Fe!=null||$e!=null))switch(Le){case"type":M=Fe;break;case"name":T=Fe;break;case"checked":De=Fe;break;case"defaultChecked":ze=Fe;break;case"value":H=Fe;break;case"defaultValue":ee=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,f));break;default:Fe!==$e&&Nn(o,f,Le,Fe,S,$e)}}Gg(o,H,ee,fe,De,ze,M,T);return;case"select":Fe=H=ee=Le=null;for(M in y)if(fe=y[M],y.hasOwnProperty(M)&&fe!=null)switch(M){case"value":break;case"multiple":Fe=fe;default:S.hasOwnProperty(M)||Nn(o,f,M,null,S,fe)}for(T in S)if(M=S[T],fe=y[T],S.hasOwnProperty(T)&&(M!=null||fe!=null))switch(T){case"value":Le=M;break;case"defaultValue":ee=M;break;case"multiple":H=M;default:M!==fe&&Nn(o,f,T,M,S,fe)}f=ee,y=H,S=Fe,Le!=null?Mu(o,!!y,Le,!1):!!S!=!!y&&(f!=null?Mu(o,!!y,f,!0):Mu(o,!!y,y?[]:"",!1));return;case"textarea":Fe=Le=null;for(ee in y)if(T=y[ee],y.hasOwnProperty(ee)&&T!=null&&!S.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:Nn(o,f,ee,null,S,T)}for(H in S)if(T=S[H],M=y[H],S.hasOwnProperty(H)&&(T!=null||M!=null))switch(H){case"value":Le=T;break;case"defaultValue":Fe=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==M&&Nn(o,f,H,T,S,M)}Hg(o,Le,Fe);return;case"option":for(var Ot in y)if(Le=y[Ot],y.hasOwnProperty(Ot)&&Le!=null&&!S.hasOwnProperty(Ot))switch(Ot){case"selected":o.selected=!1;break;default:Nn(o,f,Ot,null,S,Le)}for(fe in S)if(Le=S[fe],Fe=y[fe],S.hasOwnProperty(fe)&&Le!==Fe&&(Le!=null||Fe!=null))switch(fe){case"selected":o.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:Nn(o,f,fe,Le,S,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in y)Le=y[Ct],y.hasOwnProperty(Ct)&&Le!=null&&!S.hasOwnProperty(Ct)&&Nn(o,f,Ct,null,S,Le);for(De in S)if(Le=S[De],Fe=y[De],S.hasOwnProperty(De)&&Le!==Fe&&(Le!=null||Fe!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,f));break;default:Nn(o,f,De,Le,S,Fe)}return;default:if(Yg(f)){for(var Ln in y)Le=y[Ln],y.hasOwnProperty(Ln)&&Le!==void 0&&!S.hasOwnProperty(Ln)&&Ip(o,f,Ln,void 0,S,Le);for(ze in S)Le=S[ze],Fe=y[ze],!S.hasOwnProperty(ze)||Le===Fe||Le===void 0&&Fe===void 0||Ip(o,f,ze,Le,S,Fe);return}}for(var Ce in y)Le=y[Ce],y.hasOwnProperty(Ce)&&Le!=null&&!S.hasOwnProperty(Ce)&&Nn(o,f,Ce,null,S,Le);for($e in S)Le=S[$e],Fe=y[$e],!S.hasOwnProperty($e)||Le===Fe||Le==null&&Fe==null||Nn(o,f,$e,Le,S,Fe)}var Op=null,Dp=null;function Mp(o){return o.nodeType===9?o:o.ownerDocument}function Z1(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J1(o,f){if(o===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&f==="foreignObject"?0:o}function vc(o,f){return o==="textarea"||o==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Pp=null;function qx(){var o=window.event;return o&&o.type==="popstate"?o===Pp?!1:(Pp=o,!0):(Pp=null,!1)}var Kx=typeof setTimeout=="function"?setTimeout:void 0,Xx=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,Zx=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(o){return m0.resolve(null).then(o).catch(Fo)}:Kx;function Fo(o){setTimeout(function(){throw o})}function bs(o){return o==="head"}function v0(o,f){var y=f,S=0,T=0;do{var M=y.nextSibling;if(o.removeChild(y),M&&M.nodeType===8)if(y=M.data,y==="/$"){if(0<S&&8>S){y=S;var H=o.ownerDocument;if(y&1&&Wf(H.documentElement),y&2&&Wf(H.body),y&4)for(y=H.head,Wf(y),H=y.firstChild;H;){var ee=H.nextSibling,fe=H.nodeName;H[Ji]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&H.rel.toLowerCase()==="stylesheet"||y.removeChild(H),H=ee}}if(T===0){o.removeChild(M),A0(f);return}T--}else y==="$"||y==="$?"||y==="$!"?T++:S=y.charCodeAt(0)-48;else S=0;y=M}while(y);A0(f)}function y0(o){var f=o.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var y=f;switch(f=f.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":y0(y),kg(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}o.removeChild(y)}}function Q1(o,f,y,S){for(;o.nodeType===1;){var T=y;if(o.nodeName.toLowerCase()!==f.toLowerCase()){if(!S&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(S){if(!o[Ji])switch(f){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(M=o.getAttribute("rel"),M==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(M!==T.rel||o.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||o.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||o.getAttribute("title")!==(T.title==null?null:T.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(M=o.getAttribute("src"),(M!==(T.src==null?null:T.src)||o.getAttribute("type")!==(T.type==null?null:T.type)||o.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&M&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(f==="input"&&o.type==="hidden"){var M=T.name==null?null:""+T.name;if(T.type==="hidden"&&o.getAttribute("name")===M)return o}else return o;if(o=fi(o.nextSibling),o===null)break}return null}function eE(o,f,y){if(f==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!y||(o=fi(o.nextSibling),o===null))return null;return o}function Lp(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Jx(o,f){var y=o.ownerDocument;if(o.data!=="$?"||y.readyState==="complete")f();else{var S=function(){f(),y.removeEventListener("DOMContentLoaded",S)};y.addEventListener("DOMContentLoaded",S),o._reactRetry=S}}function fi(o){for(;o!=null;o=o.nextSibling){var f=o.nodeType;if(f===1||f===3)break;if(f===8){if(f=o.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return o}var x0=null;function Qx(o){o=o.previousSibling;for(var f=0;o;){if(o.nodeType===8){var y=o.data;if(y==="$"||y==="$!"||y==="$?"){if(f===0)return o;f--}else y==="/$"&&f++}o=o.previousSibling}return null}function eb(o,f,y){switch(f=Mp(y),o){case"html":if(o=f.documentElement,!o)throw Error(r(452));return o;case"head":if(o=f.head,!o)throw Error(r(453));return o;case"body":if(o=f.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Wf(o){for(var f=o.attributes;f.length;)o.removeAttributeNode(f[0]);kg(o)}var $i=new Map,tb=new Set;function yc(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ss=Ee.d;Ee.d={f:tE,r:nb,D:ib,C:nE,L:rE,m:h,X:c,S:i,M:v};function tE(){var o=Ss.f(),f=ca();return o||f}function nb(o){var f=Yo(o);f!==null&&f.tag===5&&f.type==="form"?xx(f):Ss.r(o)}var xc=typeof document>"u"?null:document;function rb(o,f,y){var S=xc;if(S&&typeof f=="string"&&f){var T=Mr(f);T='link[rel="'+o+'"][href="'+T+'"]',typeof y=="string"&&(T+='[crossorigin="'+y+'"]'),tb.has(T)||(tb.add(T),o={rel:o,crossOrigin:y,href:f},S.querySelector(T)===null&&(f=S.createElement("link"),Rr(f,"link",o),tr(f),S.head.appendChild(f)))}}function ib(o){Ss.D(o),rb("dns-prefetch",o,null)}function nE(o,f){Ss.C(o,f),rb("preconnect",o,f)}function rE(o,f,y){Ss.L(o,f,y);var S=xc;if(S&&o&&f){var T='link[rel="preload"][as="'+Mr(f)+'"]';f==="image"&&y&&y.imageSrcSet?(T+='[imagesrcset="'+Mr(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(T+='[imagesizes="'+Mr(y.imageSizes)+'"]')):T+='[href="'+Mr(o)+'"]';var M=T;switch(f){case"style":M=_(o);break;case"script":M=te(o)}$i.has(M)||(o=p({rel:"preload",href:f==="image"&&y&&y.imageSrcSet?void 0:o,as:f},y),$i.set(M,o),S.querySelector(T)!==null||f==="style"&&S.querySelector(F(M))||f==="script"&&S.querySelector(ce(M))||(f=S.createElement("link"),Rr(f,"link",o),tr(f),S.head.appendChild(f)))}}function h(o,f){Ss.m(o,f);var y=xc;if(y&&o){var S=f&&typeof f.as=="string"?f.as:"script",T='link[rel="modulepreload"][as="'+Mr(S)+'"][href="'+Mr(o)+'"]',M=T;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=te(o)}if(!$i.has(M)&&(o=p({rel:"modulepreload",href:o},f),$i.set(M,o),y.querySelector(T)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(ce(M)))return}S=y.createElement("link"),Rr(S,"link",o),tr(S),y.head.appendChild(S)}}}function i(o,f,y){Ss.S(o,f,y);var S=xc;if(S&&o){var T=Bs(S).hoistableStyles,M=_(o);f=f||"default";var H=T.get(M);if(!H){var ee={loading:0,preload:null};if(H=S.querySelector(F(M)))ee.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":f},y),(y=$i.get(M))&&Te(o,y);var fe=H=S.createElement("link");tr(fe),Rr(fe,"link",o),fe._p=new Promise(function(De,ze){fe.onload=De,fe.onerror=ze}),fe.addEventListener("load",function(){ee.loading|=1}),fe.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Be(H,f,S)}H={type:"stylesheet",instance:H,count:1,state:ee},T.set(M,H)}}}function c(o,f){Ss.X(o,f);var y=xc;if(y&&o){var S=Bs(y).hoistableScripts,T=te(o),M=S.get(T);M||(M=y.querySelector(ce(T)),M||(o=p({src:o,async:!0},f),(f=$i.get(T))&&We(o,f),M=y.createElement("script"),tr(M),Rr(M,"link",o),y.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},S.set(T,M))}}function v(o,f){Ss.M(o,f);var y=xc;if(y&&o){var S=Bs(y).hoistableScripts,T=te(o),M=S.get(T);M||(M=y.querySelector(ce(T)),M||(o=p({src:o,async:!0,type:"module"},f),(f=$i.get(T))&&We(o,f),M=y.createElement("script"),tr(M),Rr(M,"link",o),y.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},S.set(T,M))}}function E(o,f,y,S){var T=(T=Y.current)?yc(T):null;if(!T)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(f=_(y.href),y=Bs(T).hoistableStyles,S=y.get(f),S||(S={type:"style",instance:null,count:0,state:null},y.set(f,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){o=_(y.href);var M=Bs(T).hoistableStyles,H=M.get(o);if(H||(T=T.ownerDocument||T,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(o,H),(M=T.querySelector(F(o)))&&!M._p&&(H.instance=M,H.state.loading=5),$i.has(o)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},$i.set(o,y),M||W(T,o,y,H.state))),f&&S===null)throw Error(r(528,""));return H}if(f&&S!==null)throw Error(r(529,""));return null;case"script":return f=y.async,y=y.src,typeof y=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=te(y),y=Bs(T).hoistableScripts,S=y.get(f),S||(S={type:"script",instance:null,count:0,state:null},y.set(f,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function _(o){return'href="'+Mr(o)+'"'}function F(o){return'link[rel="stylesheet"]['+o+"]"}function U(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function W(o,f,y,S){o.querySelector('link[rel="preload"][as="style"]['+f+"]")?S.loading=1:(f=o.createElement("link"),S.preload=f,f.addEventListener("load",function(){return S.loading|=1}),f.addEventListener("error",function(){return S.loading|=2}),Rr(f,"link",y),tr(f),o.head.appendChild(f))}function te(o){return'[src="'+Mr(o)+'"]'}function ce(o){return"script[async]"+o}function Re(o,f,y){if(f.count++,f.instance===null)switch(f.type){case"style":var S=o.querySelector('style[data-href~="'+Mr(y.href)+'"]');if(S)return f.instance=S,tr(S),S;var T=p({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return S=(o.ownerDocument||o).createElement("style"),tr(S),Rr(S,"style",T),Be(S,y.precedence,o),f.instance=S;case"stylesheet":T=_(y.href);var M=o.querySelector(F(T));if(M)return f.state.loading|=4,f.instance=M,tr(M),M;S=U(y),(T=$i.get(T))&&Te(S,T),M=(o.ownerDocument||o).createElement("link"),tr(M);var H=M;return H._p=new Promise(function(ee,fe){H.onload=ee,H.onerror=fe}),Rr(M,"link",S),f.state.loading|=4,Be(M,y.precedence,o),f.instance=M;case"script":return M=te(y.src),(T=o.querySelector(ce(M)))?(f.instance=T,tr(T),T):(S=y,(T=$i.get(M))&&(S=p({},y),We(S,T)),o=o.ownerDocument||o,T=o.createElement("script"),tr(T),Rr(T,"link",S),o.head.appendChild(T),f.instance=T);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(S=f.instance,f.state.loading|=4,Be(S,y.precedence,o));return f.instance}function Be(o,f,y){for(var S=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=S.length?S[S.length-1]:null,M=T,H=0;H<S.length;H++){var ee=S[H];if(ee.dataset.precedence===f)M=ee;else if(M!==T)break}M?M.parentNode.insertBefore(o,M.nextSibling):(f=y.nodeType===9?y.head:y,f.insertBefore(o,f.firstChild))}function Te(o,f){o.crossOrigin==null&&(o.crossOrigin=f.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=f.referrerPolicy),o.title==null&&(o.title=f.title)}function We(o,f){o.crossOrigin==null&&(o.crossOrigin=f.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=f.referrerPolicy),o.integrity==null&&(o.integrity=f.integrity)}var He=null;function ot(o,f,y){if(He===null){var S=new Map,T=He=new Map;T.set(y,S)}else T=He,S=T.get(y),S||(S=new Map,T.set(y,S));if(S.has(o))return S;for(S.set(o,null),y=y.getElementsByTagName(o),T=0;T<y.length;T++){var M=y[T];if(!(M[Ji]||M[un]||o==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var H=M.getAttribute(f)||"";H=o+H;var ee=S.get(H);ee?ee.push(M):S.set(H,[M])}}return S}function wt(o,f,y){o=o.ownerDocument||o,o.head.insertBefore(y,f==="title"?o.querySelector("head > title"):null)}function fn(o,f,y){if(y===1||f.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return o=f.disabled,typeof f.precedence=="string"&&o==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function Dn(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var tn=null;function Tr(){}function dn(o,f,y){if(tn===null)throw Error(r(475));var S=tn;if(f.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var T=_(y.href),M=o.querySelector(F(T));if(M){o=M._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(S.count++,S=Gn.bind(S),o.then(S,S)),f.state.loading|=4,f.instance=M,tr(M);return}M=o.ownerDocument||o,y=U(y),(T=$i.get(T))&&Te(y,T),M=M.createElement("link"),tr(M);var H=M;H._p=new Promise(function(ee,fe){H.onload=ee,H.onerror=fe}),Rr(M,"link",y),f.instance=M}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(f,o),(o=f.state.preload)&&(f.state.loading&3)===0&&(S.count++,f=Gn.bind(S),o.addEventListener("load",f),o.addEventListener("error",f))}}function or(){if(tn===null)throw Error(r(475));var o=tn;return o.stylesheets&&o.count===0&&wi(o,o.stylesheets),0<o.count?function(f){var y=setTimeout(function(){if(o.stylesheets&&wi(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(y)}}:null}function Gn(){if(this.count--,this.count===0){if(this.stylesheets)wi(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Bn=null;function wi(o,f){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Bn=new Map,f.forEach(ob,o),Bn=null,Gn.call(o))}function ob(o,f){if(!(f.state.loading&4)){var y=Bn.get(o);if(y)var S=y.get(null);else{y=new Map,Bn.set(o,y);for(var T=o.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<T.length;M++){var H=T[M];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(y.set(H.dataset.precedence,H),S=H)}S&&y.set(null,S)}T=f.instance,H=T.getAttribute("data-precedence"),M=y.get(H)||S,M===S&&y.set(null,T),y.set(H,T),this.count++,S=Gn.bind(this),T.addEventListener("load",S),T.addEventListener("error",S),M?M.parentNode.insertBefore(T,M.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(T,o.firstChild)),f.state.loading|=4}}var bc={$$typeof:N,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Fp(o,f,y,S,T,M,H,ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=S,this.onUncaughtError=T,this.onCaughtError=M,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function MR(o,f,y,S,T,M,H,ee,fe,De,ze,$e){return o=new Fp(o,f,y,H,ee,fe,De,$e),f=1,M===!0&&(f|=24),M=Pr(3,null,null,f),o.current=M,M.stateNode=o,f=vm(),f.refCount++,o.pooledCache=f,f.refCount++,M.memoizedState={element:S,isDehydrated:y,cache:f},Sm(M),o}function PR(o){return o?(o=ju,o):ju}function LR(o,f,y,S,T,M){T=PR(T),S.context===null?S.context=T:S.pendingContext=T,S=ri(f),S.payload={element:y},M=M===void 0?null:M,M!==null&&(S.callback=M),y=Xs(o,S,f),y!==null&&(Je(y,o,f),Xu(y,o,f))}function FR(o,f){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var y=o.retryLane;o.retryLane=y!==0&&y<f?y:f}}function iE(o,f){FR(o,f),(o=o.alternate)&&FR(o,f)}function kR(o){if(o.tag===13){var f=Bu(o,67108864);f!==null&&Je(f,o,67108864),iE(o,67108864)}}var sb=!0;function EB(o,f,y,S){var T=ie.T;ie.T=null;var M=Ee.p;try{Ee.p=2,oE(o,f,y,S)}finally{Ee.p=M,ie.T=T}}function AB(o,f,y,S){var T=ie.T;ie.T=null;var M=Ee.p;try{Ee.p=8,oE(o,f,y,S)}finally{Ee.p=M,ie.T=T}}function oE(o,f,y,S){if(sb){var T=sE(S);if(T===null)_p(o,f,S,ab,y),jR(o,S);else if(CB(T,o,f,y,S))S.stopPropagation();else if(jR(o,S),f&4&&-1<wB.indexOf(o)){for(;T!==null;){var M=Yo(T);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var H=nt(M.pendingLanes);if(H!==0){var ee=M;for(ee.pendingLanes|=2,ee.entangledLanes|=2;H;){var fe=1<<31-lt(H);ee.entanglements[1]|=fe,H&=~fe}Ai(M),(hn&6)===0&&(vp=je()+500,ma(0))}}break;case 13:ee=Bu(M,2),ee!==null&&Je(ee,M,2),ca(),iE(M,2)}if(M=sE(S),M===null&&_p(o,f,S,ab,y),M===T)break;T=M}T!==null&&S.stopPropagation()}else _p(o,f,S,null,y)}}function sE(o){return o=vf(o),aE(o)}var ab=null;function aE(o){if(ab=null,o=ks(o),o!==null){var f=a(o);if(f===null)o=null;else{var y=f.tag;if(y===13){if(o=l(f),o!==null)return o;o=null}else if(y===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;o=null}else f!==o&&(o=null)}}return ab=o,null}function BR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case me:return 2;case Pe:return 8;case Ze:case pt:return 32;case gt:return 268435456;default:return 32}default:return 32}}var lE=!1,Sc=null,Ec=null,Ac=null,b0=new Map,S0=new Map,wc=[],wB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jR(o,f){switch(o){case"focusin":case"focusout":Sc=null;break;case"dragenter":case"dragleave":Ec=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":b0.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":S0.delete(f.pointerId)}}function E0(o,f,y,S,T,M){return o===null||o.nativeEvent!==M?(o={blockedOn:f,domEventName:y,eventSystemFlags:S,nativeEvent:M,targetContainers:[T]},f!==null&&(f=Yo(f),f!==null&&kR(f)),o):(o.eventSystemFlags|=S,f=o.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),o)}function CB(o,f,y,S,T){switch(f){case"focusin":return Sc=E0(Sc,o,f,y,S,T),!0;case"dragenter":return Ec=E0(Ec,o,f,y,S,T),!0;case"mouseover":return Ac=E0(Ac,o,f,y,S,T),!0;case"pointerover":var M=T.pointerId;return b0.set(M,E0(b0.get(M)||null,o,f,y,S,T)),!0;case"gotpointercapture":return M=T.pointerId,S0.set(M,E0(S0.get(M)||null,o,f,y,S,T)),!0}return!1}function zR(o){var f=ks(o.target);if(f!==null){var y=a(f);if(y!==null){if(f=y.tag,f===13){if(f=l(y),f!==null){o.blockedOn=f,qt(o.priority,function(){if(y.tag===13){var S=fr();S=Jt(S);var T=Bu(y,S);T!==null&&Je(T,y,S),iE(y,S)}});return}}else if(f===3&&y.stateNode.current.memoizedState.isDehydrated){o.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}o.blockedOn=null}function lb(o){if(o.blockedOn!==null)return!1;for(var f=o.targetContainers;0<f.length;){var y=sE(o.nativeEvent);if(y===null){y=o.nativeEvent;var S=new y.constructor(y.type,y);mf=S,y.target.dispatchEvent(S),mf=null}else return f=Yo(y),f!==null&&kR(f),o.blockedOn=y,!1;f.shift()}return!0}function VR(o,f,y){lb(o)&&y.delete(f)}function RB(){lE=!1,Sc!==null&&lb(Sc)&&(Sc=null),Ec!==null&&lb(Ec)&&(Ec=null),Ac!==null&&lb(Ac)&&(Ac=null),b0.forEach(VR),S0.forEach(VR)}function ub(o,f){o.blockedOn===f&&(o.blockedOn=null,lE||(lE=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,RB)))}var cb=null;function UR(o){cb!==o&&(cb=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cb===o&&(cb=null);for(var f=0;f<o.length;f+=3){var y=o[f],S=o[f+1],T=o[f+2];if(typeof S!="function"){if(aE(S||y)===null)continue;break}var M=Yo(y);M!==null&&(o.splice(f,3),f-=3,ai(M,{pending:!0,data:T,method:y.method,action:S},S,T))}}))}function A0(o){function f(fe){return ub(fe,o)}Sc!==null&&ub(Sc,o),Ec!==null&&ub(Ec,o),Ac!==null&&ub(Ac,o),b0.forEach(f),S0.forEach(f);for(var y=0;y<wc.length;y++){var S=wc[y];S.blockedOn===o&&(S.blockedOn=null)}for(;0<wc.length&&(y=wc[0],y.blockedOn===null);)zR(y),y.blockedOn===null&&wc.shift();if(y=(o.ownerDocument||o).$$reactFormReplay,y!=null)for(S=0;S<y.length;S+=3){var T=y[S],M=y[S+1],H=T[Lt]||null;if(typeof M=="function")H||UR(y);else if(H){var ee=null;if(M&&M.hasAttribute("formAction")){if(T=M,H=M[Lt]||null)ee=H.formAction;else if(aE(T)!==null)continue}else ee=H.action;typeof ee=="function"?y[S+1]=ee:(y.splice(S,3),S-=3),UR(y)}}}function uE(o){this._internalRoot=o}fb.prototype.render=uE.prototype.render=function(o){var f=this._internalRoot;if(f===null)throw Error(r(409));var y=f.current,S=fr();LR(y,S,o,f,null,null)},fb.prototype.unmount=uE.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var f=o.containerInfo;LR(o.current,2,null,o,null,null),ca(),f[En]=null}};function fb(o){this._internalRoot=o}fb.prototype.unstable_scheduleHydration=function(o){if(o){var f=gr();o={blockedOn:null,target:o,priority:f};for(var y=0;y<wc.length&&f!==0&&f<wc[y].priority;y++);wc.splice(y,0,o),y===0&&zR(o)}};var GR=t.version;if(GR!=="19.1.0")throw Error(r(527,GR,"19.1.0"));Ee.findDOMNode=function(o){var f=o._reactInternals;if(f===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(f),o=o!==null?g(o):null,o=o===null?null:o.stateNode,o};var TB={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var db=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!db.isDisabled&&db.supportsFiber)try{qe=db.inject(TB),Ye=db}catch{}}return C0.createRoot=function(o,f){if(!s(o))throw Error(r(299));var y=!1,S="",T=$m,M=sl,H=wo,ee=null;return f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(M=f.onCaughtError),f.onRecoverableError!==void 0&&(H=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ee=f.unstable_transitionCallbacks)),f=MR(o,1,!1,null,null,y,S,T,M,H,ee,null),o[En]=f.current,Np(o),new uE(f)},C0.hydrateRoot=function(o,f,y){if(!s(o))throw Error(r(299));var S=!1,T="",M=$m,H=sl,ee=wo,fe=null,De=null;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(T=y.identifierPrefix),y.onUncaughtError!==void 0&&(M=y.onUncaughtError),y.onCaughtError!==void 0&&(H=y.onCaughtError),y.onRecoverableError!==void 0&&(ee=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(fe=y.unstable_transitionCallbacks),y.formState!==void 0&&(De=y.formState)),f=MR(o,1,!0,f,y??null,S,T,M,H,ee,fe,De),f.context=PR(null),y=f.current,S=fr(),S=Jt(S),T=ri(S),T.callback=null,Xs(y,T,S),y=S,f.current.lanes=y,an(f,y),Ai(f),o[En]=f.current,Np(o),new fb(f)},C0.version="19.1.0",C0}var eT;function BB(){if(eT)return dE.exports;eT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dE.exports=kB(),dE.exports}var jB=BB(),P=bS();const Ke=u3(P),d3=OB({__proto__:null,default:Ke},[P]);var R0={},tT;function zB(){if(tT)return R0;tT=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.parse=l,R0.serialize=g;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,b){const A=new a,C=x.length;if(C<2)return A;const w=(b==null?void 0:b.decode)||p;let R=0;do{const I=x.indexOf("=",R);if(I===-1)break;const N=x.indexOf(";",R),D=N===-1?C:N;if(I>D){R=x.lastIndexOf(";",I-1)+1;continue}const L=u(x,R,I),k=d(x,I,L),j=x.slice(L,k);if(A[j]===void 0){let B=u(x,I+1,D),$=d(x,D,B);const K=w(x.slice(B,$));A[j]=K}R=D+1}while(R<C);return A}function u(x,b,A){do{const C=x.charCodeAt(b);if(C!==32&&C!==9)return b}while(++b<A);return A}function d(x,b,A){for(;b>A;){const C=x.charCodeAt(--b);if(C!==32&&C!==9)return b+1}return A}function g(x,b,A){const C=(A==null?void 0:A.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const w=C(b);if(!t.test(w))throw new TypeError(`argument val is invalid: ${b}`);let R=x+"="+w;if(!A)return R;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);R+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);R+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);R+="; Path="+A.path}if(A.expires){if(!m(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);R+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(R+="; HttpOnly"),A.secure&&(R+="; Secure"),A.partitioned&&(R+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return R}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function m(x){return s.call(x)==="[object Date]"}return R0}zB();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nT="popstate";function VB(e={}){function t(r,s){let{pathname:a,search:l,hash:u}=r.location;return Fw("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xv(s)}return GB(t,n,null,e)}function Xn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _s(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UB(){return Math.random().toString(36).substring(2,10)}function rT(e,t){return{usr:e.state,key:e.key,idx:t}}function Fw(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?mg(t):t,state:n,key:t&&t.key||r||UB()}}function xv({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function GB(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,u="POP",d=null,g=p();g==null&&(g=0,l.replaceState({...l.state,idx:g},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let w=p(),R=w==null?null:w-g;g=w,d&&d({action:u,location:C.location,delta:R})}function x(w,R){u="PUSH";let I=Fw(C.location,w,R);g=p()+1;let N=rT(I,g),D=C.createHref(I);try{l.pushState(N,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(D)}a&&d&&d({action:u,location:C.location,delta:1})}function b(w,R){u="REPLACE";let I=Fw(C.location,w,R);g=p();let N=rT(I,g),D=C.createHref(I);l.replaceState(N,"",D),a&&d&&d({action:u,location:C.location,delta:0})}function A(w){let R=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof w=="string"?w:xv(w);return I=I.replace(/ $/,"%20"),Xn(R,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,R)}let C={get action(){return u},get location(){return e(s,l)},listen(w){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(nT,m),d=w,()=>{s.removeEventListener(nT,m),d=null}},createHref(w){return t(s,w)},createURL:A,encodeLocation(w){let R=A(w);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:b,go(w){return l.go(w)}};return C}function h3(e,t,n="/"){return $B(e,t,n,!1)}function $B(e,t,n,r){let s=typeof t=="string"?mg(t):t,a=Ru(s.pathname||"/",n);if(a==null)return null;let l=p3(e);HB(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let g=nj(a);u=ej(l[d],g,r)}return u}function p3(e,t=[],n=[],r=""){let s=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Xn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let g=wu([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(Xn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),p3(a.children,t,p,g)),!(a.path==null&&!a.index)&&t.push({path:g,score:JB(g,a.index),routesMeta:p})};return e.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let d of g3(a.path))s(a,l,d)}),t}function g3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=g3(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function HB(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:QB(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var YB=/^:[\w-]+$/,WB=3,qB=2,KB=1,XB=10,ZB=-2,iT=e=>e==="*";function JB(e,t){let n=e.split("/"),r=n.length;return n.some(iT)&&(r+=ZB),t&&(r+=qB),n.filter(s=>!iT(s)).reduce((s,a)=>s+(YB.test(a)?WB:a===""?KB:XB),r)}function QB(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function ej(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],g=u===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=Jb({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},p),x=d.route;if(!m&&g&&n&&!r[r.length-1].route.index&&(m=Jb({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:wu([a,m.pathname]),pathnameBase:sj(wu([a,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(a=wu([a,m.pathnameBase]))}return l}function Jb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=tj(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((g,{paramName:p,isOptional:m},x)=>{if(p==="*"){let A=u[x]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const b=u[x];return m&&!b?g[p]=void 0:g[p]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:l,pattern:e}}function tj(e,t=!1,n=!0){_s(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function nj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ru(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function rj(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?mg(e):e;return{pathname:n?n.startsWith("/")?n:ij(n,t):t,search:aj(r),hash:lj(s)}}function ij(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vE(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function VC(e){let t=oj(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function UC(e,t,n,r=!1){let s;typeof e=="string"?s=mg(e):(s={...e},Xn(!s.pathname||!s.pathname.includes("?"),vE("?","pathname","search",s)),Xn(!s.pathname||!s.pathname.includes("#"),vE("#","pathname","hash",s)),Xn(!s.search||!s.search.includes("#"),vE("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}u=m>=0?t[m]:"/"}let d=rj(s,u),g=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||p)&&(d.pathname+="/"),d}var wu=e=>e.join("/").replace(/\/\/+/g,"/"),sj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var m3=["POST","PUT","PATCH","DELETE"];new Set(m3);var cj=["GET",...m3];new Set(cj);var vg=P.createContext(null);vg.displayName="DataRouter";var SS=P.createContext(null);SS.displayName="DataRouterState";var v3=P.createContext({isTransitioning:!1});v3.displayName="ViewTransition";var fj=P.createContext(new Map);fj.displayName="Fetchers";var dj=P.createContext(null);dj.displayName="Await";var Ms=P.createContext(null);Ms.displayName="Navigation";var Mv=P.createContext(null);Mv.displayName="Location";var $o=P.createContext({outlet:null,matches:[],isDataRoute:!1});$o.displayName="Route";var GC=P.createContext(null);GC.displayName="RouteError";function hj(e,{relative:t}={}){Xn(yg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(Ms),{hash:s,pathname:a,search:l}=Pv(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:wu([n,a])),r.createHref({pathname:u,search:l,hash:s})}function yg(){return P.useContext(Mv)!=null}function La(){return Xn(yg(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Mv).location}var y3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x3(e){P.useContext(Ms).static||P.useLayoutEffect(e)}function $C(){let{isDataRoute:e}=P.useContext($o);return e?Nj():pj()}function pj(){Xn(yg(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(vg),{basename:t,navigator:n}=P.useContext(Ms),{matches:r}=P.useContext($o),{pathname:s}=La(),a=JSON.stringify(VC(r)),l=P.useRef(!1);return x3(()=>{l.current=!0}),P.useCallback((d,g={})=>{if(_s(l.current,y3),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=UC(d,JSON.parse(a),s,g.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:wu([t,p.pathname])),(g.replace?n.replace:n.push)(p,g.state,g)},[t,n,a,s,e])}var gj=P.createContext(null);function mj(e){let t=P.useContext($o).outlet;return t&&P.createElement(gj.Provider,{value:e},t)}function b3(){let{matches:e}=P.useContext($o),t=e[e.length-1];return t?t.params:{}}function Pv(e,{relative:t}={}){let{matches:n}=P.useContext($o),{pathname:r}=La(),s=JSON.stringify(VC(n));return P.useMemo(()=>UC(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function vj(e,t){return S3(e,t)}function S3(e,t,n,r){var I;Xn(yg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=P.useContext(Ms),{matches:l}=P.useContext($o),u=l[l.length-1],d=u?u.params:{},g=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let N=m&&m.path||"";E3(g,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=La(),b;if(t){let N=typeof t=="string"?mg(t):t;Xn(p==="/"||((I=N.pathname)==null?void 0:I.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=x;let A=b.pathname||"/",C=A;if(p!=="/"){let N=p.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=!a&&n&&n.matches&&n.matches.length>0?n.matches:h3(e,{pathname:C});_s(m||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),_s(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Ej(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:wu([p,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:wu([p,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,n,r);return t&&R?P.createElement(Mv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function yj(){let e=Tj(),t=uj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:s},n):null,l)}var xj=P.createElement(yj,null),bj=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement($o.Provider,{value:this.props.routeContext},P.createElement(GC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sj({routeContext:e,match:t,children:n}){let r=P.useContext(vg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement($o.Provider,{value:e},n)}function Ej(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);Xn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let g=s[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=d),g.route.id){let{loaderData:p,errors:m}=n,x=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,g,p)=>{let m,x=!1,b=null,A=null;n&&(m=a&&g.route.id?a[g.route.id]:void 0,b=g.route.errorElement||xj,l&&(u<0&&p===0?(E3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):u===p&&(x=!0,A=g.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,p+1)),w=()=>{let R;return m?R=b:x?R=A:g.route.Component?R=P.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=d,P.createElement(Sj,{match:g,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?P.createElement(bj,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}function HC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Aj(e){let t=P.useContext(vg);return Xn(t,HC(e)),t}function wj(e){let t=P.useContext(SS);return Xn(t,HC(e)),t}function Cj(e){let t=P.useContext($o);return Xn(t,HC(e)),t}function YC(e){let t=Cj(e),n=t.matches[t.matches.length-1];return Xn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Rj(){return YC("useRouteId")}function Tj(){var r;let e=P.useContext(GC),t=wj("useRouteError"),n=YC("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Nj(){let{router:e}=Aj("useNavigate"),t=YC("useNavigate"),n=P.useRef(!1);return x3(()=>{n.current=!0}),P.useCallback(async(s,a={})=>{_s(n.current,y3),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var oT={};function E3(e,t,n){!t&&!oT[e]&&(oT[e]=!0,_s(!1,n))}P.memo(_j);function _j({routes:e,future:t,state:n}){return S3(e,void 0,n,t)}function A3({to:e,replace:t,state:n,relative:r}){Xn(yg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(Ms);_s(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=P.useContext($o),{pathname:l}=La(),u=$C(),d=UC(e,VC(a),l,r==="path"),g=JSON.stringify(d);return P.useEffect(()=>{u(JSON.parse(g),{replace:t,state:n,relative:r})},[u,g,r,t,n]),null}function WC(e){return mj(e.context)}function ba(e){Xn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ij({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){Xn(!yg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=mg(n));let{pathname:d="/",search:g="",hash:p="",state:m=null,key:x="default"}=n,b=P.useMemo(()=>{let A=Ru(d,l);return A==null?null:{location:{pathname:A,search:g,hash:p,state:m,key:x},navigationType:r}},[l,d,g,p,m,x,r]);return _s(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Ms.Provider,{value:u},P.createElement(Mv.Provider,{children:t,value:b}))}function Oj({children:e,location:t}){return vj(kw(e),t)}function kw(e,t=[]){let n=[];return P.Children.forEach(e,(r,s)=>{if(!P.isValidElement(r))return;let a=[...t,s];if(r.type===P.Fragment){n.push.apply(n,kw(r.props.children,a));return}Xn(r.type===ba,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=kw(r.props.children,a)),n.push(l)}),n}var kb="get",Bb="application/x-www-form-urlencoded";function ES(e){return e!=null&&typeof e.tagName=="string"}function Dj(e){return ES(e)&&e.tagName.toLowerCase()==="button"}function Mj(e){return ES(e)&&e.tagName.toLowerCase()==="form"}function Pj(e){return ES(e)&&e.tagName.toLowerCase()==="input"}function Lj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Fj(e,t){return e.button===0&&(!t||t==="_self")&&!Lj(e)}var pb=null;function kj(){if(pb===null)try{new FormData(document.createElement("form"),0),pb=!1}catch{pb=!0}return pb}var Bj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yE(e){return e!=null&&!Bj.has(e)?(_s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bb}"`),null):e}function jj(e,t){let n,r,s,a,l;if(Mj(e)){let u=e.getAttribute("action");r=u?Ru(u,t):null,n=e.getAttribute("method")||kb,s=yE(e.getAttribute("enctype"))||Bb,a=new FormData(e)}else if(Dj(e)||Pj(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?Ru(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||kb,s=yE(e.getAttribute("formenctype"))||yE(u.getAttribute("enctype"))||Bb,a=new FormData(u,e),!kj()){let{name:g,type:p,value:m}=e;if(p==="image"){let x=g?`${g}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else g&&a.append(g,m)}}else{if(ES(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kb,r=null,s=Bb,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function qC(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function zj(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Uj(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await zj(a,n);return l.links?l.links():[]}return[]}));return Yj(r.flat(1).filter(Vj).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function sT(e,t,n,r,s,a){let l=(d,g)=>n[g]?d.route.id!==n[g].route.id:!0,u=(d,g)=>{var p;return n[g].pathname!==d.pathname||((p=n[g].route.path)==null?void 0:p.endsWith("*"))&&n[g].params["*"]!==d.params["*"]};return a==="assets"?t.filter((d,g)=>l(d,g)||u(d,g)):a==="data"?t.filter((d,g)=>{var m;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,g)||u(d,g))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Gj(e,t,{includeHydrateFallback:n}={}){return $j(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function $j(e){return[...new Set(e)]}function Hj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Yj(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(Hj(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function Wj(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ru(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function w3(){let e=P.useContext(vg);return qC(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function qj(){let e=P.useContext(SS);return qC(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var KC=P.createContext(void 0);KC.displayName="FrameworkContext";function C3(){let e=P.useContext(KC);return qC(e,"You must render this element inside a <HydratedRouter> element"),e}function Kj(e,t){let n=P.useContext(KC),[r,s]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:g,onMouseLeave:p,onTouchStart:m}=t,x=P.useRef(null);P.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let C=R=>{R.forEach(I=>{l(I.isIntersecting)})},w=new IntersectionObserver(C,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[e]),P.useEffect(()=>{if(r){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[r]);let b=()=>{s(!0)},A=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,x,{}]:[a,x,{onFocus:T0(u,b),onBlur:T0(d,A),onMouseEnter:T0(g,b),onMouseLeave:T0(p,A),onTouchStart:T0(m,b)}]:[!1,x,{}]}function T0(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Xj({page:e,...t}){let{router:n}=w3(),r=P.useMemo(()=>h3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?P.createElement(Jj,{page:e,matches:r,...t}):null}function Zj(e){let{manifest:t,routeModules:n}=C3(),[r,s]=P.useState([]);return P.useEffect(()=>{let a=!1;return Uj(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),r}function Jj({page:e,matches:t,...n}){let r=La(),{manifest:s,routeModules:a}=C3(),{basename:l}=w3(),{loaderData:u,matches:d}=qj(),g=P.useMemo(()=>sT(e,t,d,s,r,"data"),[e,t,d,s,r]),p=P.useMemo(()=>sT(e,t,d,s,r,"assets"),[e,t,d,s,r]),m=P.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let A=new Set,C=!1;if(t.forEach(R=>{var N;let I=s.routes[R.route.id];!I||!I.hasLoader||(!g.some(D=>D.route.id===R.route.id)&&R.route.id in u&&((N=a[R.route.id])!=null&&N.shouldRevalidate)||I.hasClientLoader?C=!0:A.add(R.route.id))}),A.size===0)return[];let w=Wj(e,l);return C&&A.size>0&&w.searchParams.set("_routes",t.filter(R=>A.has(R.route.id)).map(R=>R.route.id).join(",")),[w.pathname+w.search]},[l,u,r,s,g,t,e,a]),x=P.useMemo(()=>Gj(p,s),[p,s]),b=Zj(p);return P.createElement(P.Fragment,null,m.map(A=>P.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),x.map(A=>P.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),b.map(({key:A,link:C})=>P.createElement("link",{key:A,...C})))}function Qj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var R3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R3&&(window.__reactRouterVersion="7.5.0")}catch{}function ez({basename:e,children:t,window:n}){let r=P.useRef();r.current==null&&(r.current=VB({window:n,v5Compat:!0}));let s=r.current,[a,l]=P.useState({action:s.action,location:s.location}),u=P.useCallback(d=>{P.startTransition(()=>l(d))},[l]);return P.useLayoutEffect(()=>s.listen(u),[s,u]),P.createElement(Ij,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var T3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xg=P.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:u,target:d,to:g,preventScrollReset:p,viewTransition:m,...x},b){let{basename:A}=P.useContext(Ms),C=typeof g=="string"&&T3.test(g),w,R=!1;if(typeof g=="string"&&C&&(w=g,R3))try{let $=new URL(window.location.href),K=g.startsWith("//")?new URL($.protocol+g):new URL(g),ne=Ru(K.pathname,A);K.origin===$.origin&&ne!=null?g=ne+K.search+K.hash:R=!0}catch{_s(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=hj(g,{relative:s}),[N,D,L]=Kj(r,x),k=iz(g,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:m});function j($){t&&t($),$.defaultPrevented||k($)}let B=P.createElement("a",{...x,...L,href:w||I,onClick:R||a?t:j,ref:Qj(b,D),target:d,"data-discover":!C&&n==="render"?"true":void 0});return N&&!C?P.createElement(P.Fragment,null,B,P.createElement(Xj,{page:I})):B});xg.displayName="Link";var tz=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:u,children:d,...g},p){let m=Pv(l,{relative:g.relative}),x=La(),b=P.useContext(SS),{navigator:A,basename:C}=P.useContext(Ms),w=b!=null&&uz(m)&&u===!0,R=A.encodeLocation?A.encodeLocation(m).pathname:m.pathname,I=x.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(I=I.toLowerCase(),N=N?N.toLowerCase():null,R=R.toLowerCase()),N&&C&&(N=Ru(N,C)||N);const D=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let L=I===R||!s&&I.startsWith(R)&&I.charAt(D)==="/",k=N!=null&&(N===R||!s&&N.startsWith(R)&&N.charAt(R.length)==="/"),j={isActive:L,isPending:k,isTransitioning:w},B=L?t:void 0,$;typeof r=="function"?$=r(j):$=[r,L?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(j):a;return P.createElement(xg,{...g,"aria-current":B,className:$,ref:p,style:K,to:l,viewTransition:u},typeof d=="function"?d(j):d)});tz.displayName="NavLink";var nz=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:l=kb,action:u,onSubmit:d,relative:g,preventScrollReset:p,viewTransition:m,...x},b)=>{let A=az(),C=lz(u,{relative:g}),w=l.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&T3.test(u),I=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let D=N.nativeEvent.submitter,L=(D==null?void 0:D.getAttribute("formmethod"))||l;A(D||N.currentTarget,{fetcherKey:t,method:L,navigate:n,replace:s,state:a,relative:g,preventScrollReset:p,viewTransition:m})};return P.createElement("form",{ref:b,method:w,action:C,onSubmit:r?d:I,...x,"data-discover":!R&&e==="render"?"true":void 0})});nz.displayName="Form";function rz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N3(e){let t=P.useContext(vg);return Xn(t,rz(e)),t}function iz(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=$C(),d=La(),g=Pv(e,{relative:a});return P.useCallback(p=>{if(Fj(p,t)){p.preventDefault();let m=n!==void 0?n:xv(d)===xv(g);u(e,{replace:m,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,u,g,n,r,t,e,s,a,l])}var oz=0,sz=()=>`__${String(++oz)}__`;function az(){let{router:e}=N3("useSubmit"),{basename:t}=P.useContext(Ms),n=Rj();return P.useCallback(async(r,s={})=>{let{action:a,method:l,encType:u,formData:d,body:g}=jj(r,t);if(s.navigate===!1){let p=s.fetcherKey||sz();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function lz(e,{relative:t}={}){let{basename:n}=P.useContext(Ms),r=P.useContext($o);Xn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Pv(e||".",{relative:t})},l=La();if(e==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:wu([n,a.pathname])),xv(a)}function uz(e,t={}){let n=P.useContext(v3);Xn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=N3("useViewTransitionState"),s=Pv(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Ru(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ru(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jb(s.pathname,l)!=null||Jb(s.pathname,a)!=null}new TextEncoder;var Na=f3();const _3=u3(Na);var bg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uh=typeof window>"u"||"Deno"in globalThis;function Vo(){}function cz(e,t){return typeof e=="function"?e(t):e}function Bw(e){return typeof e=="number"&&e>=0&&e!==1/0}function I3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yp(e,t){return typeof e=="function"?e(t):e}function Ts(e,t){return typeof e=="function"?e(t):e}function aT(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==XC(l,t.options))return!1}else if(!bv(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||a&&!a(t))}function lT(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(ch(t.options.mutationKey)!==ch(a))return!1}else if(!bv(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function XC(e,t){return((t==null?void 0:t.queryKeyHashFn)||ch)(e)}function ch(e){return JSON.stringify(e,(t,n)=>jw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function bv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>bv(e[n],t[n])):!1}function O3(e,t){if(e===t)return e;const n=uT(e)&&uT(t);if(n||jw(e)&&jw(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),l=a.length,u=n?[]:{};let d=0;for(let g=0;g<l;g++){const p=n?g:a[g];(!n&&r.includes(p)||n)&&e[p]===void 0&&t[p]===void 0?(u[p]=void 0,d++):(u[p]=O3(e[p],t[p]),u[p]===e[p]&&e[p]!==void 0&&d++)}return s===l&&d===s?e:u}return t}function Qb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function uT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function jw(e){if(!cT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!cT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function cT(e){return Object.prototype.toString.call(e)==="[object Object]"}function fz(e){return new Promise(t=>{setTimeout(t,e)})}function zw(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?O3(e,t):t}function dz(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function hz(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ZC=Symbol();function D3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ZC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var eh,Pc,Jp,JD,pz=(JD=class extends bg{constructor(){super();At(this,eh);At(this,Pc);At(this,Jp);st(this,Jp,t=>{if(!uh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){pe(this,Pc)||this.setEventListener(pe(this,Jp))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Pc))==null||t.call(this),st(this,Pc,void 0))}setEventListener(t){var n;st(this,Jp,t),(n=pe(this,Pc))==null||n.call(this),st(this,Pc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){pe(this,eh)!==t&&(st(this,eh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof pe(this,eh)=="boolean"?pe(this,eh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},eh=new WeakMap,Pc=new WeakMap,Jp=new WeakMap,JD),JC=new pz,Qp,Lc,eg,QD,gz=(QD=class extends bg{constructor(){super();At(this,Qp,!0);At(this,Lc);At(this,eg);st(this,eg,t=>{if(!uh&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){pe(this,Lc)||this.setEventListener(pe(this,eg))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Lc))==null||t.call(this),st(this,Lc,void 0))}setEventListener(t){var n;st(this,eg,t),(n=pe(this,Lc))==null||n.call(this),st(this,Lc,t(this.setOnline.bind(this)))}setOnline(t){pe(this,Qp)!==t&&(st(this,Qp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return pe(this,Qp)}},Qp=new WeakMap,Lc=new WeakMap,eg=new WeakMap,QD),eS=new gz;function Vw(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function mz(e){return Math.min(1e3*2**e,3e4)}function M3(e){return(e??"online")==="online"?eS.isOnline():!0}var P3=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function xE(e){return e instanceof P3}function L3(e){let t=!1,n=0,r=!1,s;const a=Vw(),l=C=>{var w;r||(x(new P3(C)),(w=e.abort)==null||w.call(e))},u=()=>{t=!0},d=()=>{t=!1},g=()=>JC.isFocused()&&(e.networkMode==="always"||eS.isOnline())&&e.canRun(),p=()=>M3(e.networkMode)&&e.canRun(),m=C=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,C),s==null||s(),a.resolve(C))},x=C=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,C),s==null||s(),a.reject(C))},b=()=>new Promise(C=>{var w;s=R=>{(r||g())&&C(R)},(w=e.onPause)==null||w.call(e)}).then(()=>{var C;s=void 0,r||(C=e.onContinue)==null||C.call(e)}),A=()=>{if(r)return;let C;const w=n===0?e.initialPromise:void 0;try{C=w??e.fn()}catch(R){C=Promise.reject(R)}Promise.resolve(C).then(m).catch(R=>{var k;if(r)return;const I=e.retry??(uh?0:3),N=e.retryDelay??mz,D=typeof N=="function"?N(n,R):N,L=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,R);if(t||!L){x(R);return}n++,(k=e.onFail)==null||k.call(e,n,R),fz(D).then(()=>g()?void 0:b()).then(()=>{t?x(R):A()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?A():b().then(A),a)}}var vz=e=>setTimeout(e,0);function yz(){let e=[],t=0,n=u=>{u()},r=u=>{u()},s=vz;const a=u=>{t?e.push(u):s(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{a(()=>{u(...d)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var Or=yz(),th,e3,F3=(e3=class{constructor(){At(this,th)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bw(this.gcTime)&&st(this,th,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(uh?1/0:5*60*1e3))}clearGcTimeout(){pe(this,th)&&(clearTimeout(pe(this,th)),st(this,th,void 0))}},th=new WeakMap,e3),tg,ng,zo,nh,gi,_v,rh,Cs,bu,t3,xz=(t3=class extends F3{constructor(t){super();At(this,Cs);At(this,tg);At(this,ng);At(this,zo);At(this,nh);At(this,gi);At(this,_v);At(this,rh);st(this,rh,!1),st(this,_v,t.defaultOptions),this.setOptions(t.options),this.observers=[],st(this,nh,t.client),st(this,zo,pe(this,nh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,st(this,tg,bz(this.options)),this.state=t.state??pe(this,tg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=pe(this,gi))==null?void 0:t.promise}setOptions(t){this.options={...pe(this,_v),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,zo).remove(this)}setData(t,n){const r=zw(this.state.data,t,this.options);return Yt(this,Cs,bu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Yt(this,Cs,bu).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=pe(this,gi))==null?void 0:r.promise;return(s=pe(this,gi))==null||s.cancel(t),n?n.then(Vo).catch(Vo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,tg))}isActive(){return this.observers.some(t=>Ts(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ZC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!I3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=pe(this,gi))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=pe(this,gi))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),pe(this,zo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(pe(this,gi)&&(pe(this,rh)?pe(this,gi).cancel({revert:!0}):pe(this,gi).cancelRetry()),this.scheduleGc()),pe(this,zo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yt(this,Cs,bu).call(this,{type:"invalidate"})}fetch(t,n){var d,g,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(pe(this,gi))return pe(this,gi).continueRetry(),pe(this,gi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(st(this,rh,!0),r.signal)})},a=()=>{const m=D3(this.options,n),x={client:pe(this,nh),queryKey:this.queryKey,meta:this.meta};return s(x),st(this,rh,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:pe(this,nh),state:this.state,fetchFn:a};s(l),(d=this.options.behavior)==null||d.onFetch(l,this),st(this,ng,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=l.fetchOptions)==null?void 0:g.meta))&&Yt(this,Cs,bu).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=m=>{var x,b,A,C;xE(m)&&m.silent||Yt(this,Cs,bu).call(this,{type:"error",error:m}),xE(m)||((b=(x=pe(this,zo).config).onError)==null||b.call(x,m,this),(C=(A=pe(this,zo).config).onSettled)==null||C.call(A,this.state.data,m,this)),this.scheduleGc()};return st(this,gi,L3({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var x,b,A,C;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){u(w);return}(b=(x=pe(this,zo).config).onSuccess)==null||b.call(x,m,this),(C=(A=pe(this,zo).config).onSettled)==null||C.call(A,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,x)=>{Yt(this,Cs,bu).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{Yt(this,Cs,bu).call(this,{type:"pause"})},onContinue:()=>{Yt(this,Cs,bu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),pe(this,gi).start()}},tg=new WeakMap,ng=new WeakMap,zo=new WeakMap,nh=new WeakMap,gi=new WeakMap,_v=new WeakMap,rh=new WeakMap,Cs=new WeakSet,bu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...k3(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return xE(s)&&s.revert&&pe(this,ng)?{...pe(this,ng),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Or.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),pe(this,zo).notify({query:this,type:"updated",action:t})})},t3);function k3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:M3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function bz(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Sa,n3,Sz=(n3=class extends bg{constructor(t={}){super();At(this,Sa);this.config=t,st(this,Sa,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??XC(s,n);let l=this.get(a);return l||(l=new xz({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){pe(this,Sa).has(t.queryHash)||(pe(this,Sa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=pe(this,Sa).get(t.queryHash);n&&(t.destroy(),n===t&&pe(this,Sa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Or.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return pe(this,Sa).get(t)}getAll(){return[...pe(this,Sa).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>aT(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>aT(t,r)):n}notify(t){Or.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Or.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Or.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Sa=new WeakMap,n3),Ea,Ci,ih,Aa,Nc,r3,Ez=(r3=class extends F3{constructor(t){super();At(this,Aa);At(this,Ea);At(this,Ci);At(this,ih);this.mutationId=t.mutationId,st(this,Ci,t.mutationCache),st(this,Ea,[]),this.state=t.state||B3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){pe(this,Ea).includes(t)||(pe(this,Ea).push(t),this.clearGcTimeout(),pe(this,Ci).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){st(this,Ea,pe(this,Ea).filter(n=>n!==t)),this.scheduleGc(),pe(this,Ci).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){pe(this,Ea).length||(this.state.status==="pending"?this.scheduleGc():pe(this,Ci).remove(this))}continue(){var t;return((t=pe(this,ih))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,u,d,g,p,m,x,b,A,C,w,R,I,N,D,L,k,j,B;const n=()=>{Yt(this,Aa,Nc).call(this,{type:"continue"})};st(this,ih,L3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:($,K)=>{Yt(this,Aa,Nc).call(this,{type:"failed",failureCount:$,error:K})},onPause:()=>{Yt(this,Aa,Nc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,Ci).canRun(this)}));const r=this.state.status==="pending",s=!pe(this,ih).canStart();try{if(r)n();else{Yt(this,Aa,Nc).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(a=pe(this,Ci).config).onMutate)==null?void 0:l.call(a,t,this));const K=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t));K!==this.state.context&&Yt(this,Aa,Nc).call(this,{type:"pending",context:K,variables:t,isPaused:s})}const $=await pe(this,ih).start();return await((p=(g=pe(this,Ci).config).onSuccess)==null?void 0:p.call(g,$,t,this.state.context,this)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,$,t,this.state.context)),await((A=(b=pe(this,Ci).config).onSettled)==null?void 0:A.call(b,$,null,this.state.variables,this.state.context,this)),await((w=(C=this.options).onSettled)==null?void 0:w.call(C,$,null,t,this.state.context)),Yt(this,Aa,Nc).call(this,{type:"success",data:$}),$}catch($){try{throw await((I=(R=pe(this,Ci).config).onError)==null?void 0:I.call(R,$,t,this.state.context,this)),await((D=(N=this.options).onError)==null?void 0:D.call(N,$,t,this.state.context)),await((k=(L=pe(this,Ci).config).onSettled)==null?void 0:k.call(L,void 0,$,this.state.variables,this.state.context,this)),await((B=(j=this.options).onSettled)==null?void 0:B.call(j,void 0,$,t,this.state.context)),$}finally{Yt(this,Aa,Nc).call(this,{type:"error",error:$})}}finally{pe(this,Ci).runNext(this)}}},Ea=new WeakMap,Ci=new WeakMap,ih=new WeakMap,Aa=new WeakSet,Nc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Or.batch(()=>{pe(this,Ea).forEach(r=>{r.onMutationUpdate(t)}),pe(this,Ci).notify({mutation:this,type:"updated",action:t})})},r3);function B3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Eu,Rs,Iv,i3,Az=(i3=class extends bg{constructor(t={}){super();At(this,Eu);At(this,Rs);At(this,Iv);this.config=t,st(this,Eu,new Set),st(this,Rs,new Map),st(this,Iv,0)}build(t,n,r){const s=new Ez({mutationCache:this,mutationId:++hb(this,Iv)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){pe(this,Eu).add(t);const n=gb(t);if(typeof n=="string"){const r=pe(this,Rs).get(n);r?r.push(t):pe(this,Rs).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(pe(this,Eu).delete(t)){const n=gb(t);if(typeof n=="string"){const r=pe(this,Rs).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&pe(this,Rs).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=gb(t);if(typeof n=="string"){const r=pe(this,Rs).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=gb(t);if(typeof n=="string"){const s=(r=pe(this,Rs).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Or.batch(()=>{pe(this,Eu).forEach(t=>{this.notify({type:"removed",mutation:t})}),pe(this,Eu).clear(),pe(this,Rs).clear()})}getAll(){return Array.from(pe(this,Eu))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>lT(n,r))}findAll(t={}){return this.getAll().filter(n=>lT(t,n))}notify(t){Or.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Or.batch(()=>Promise.all(t.map(n=>n.continue().catch(Vo))))}},Eu=new WeakMap,Rs=new WeakMap,Iv=new WeakMap,i3);function gb(e){var t;return(t=e.options.scope)==null?void 0:t.id}function fT(e){return{onFetch:(t,n)=>{var p,m,x,b,A;const r=t.options,s=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,a=((b=t.state.data)==null?void 0:b.pages)||[],l=((A=t.state.data)==null?void 0:A.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const g=async()=>{let C=!1;const w=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},R=D3(t.options,t.fetchOptions),I=async(N,D,L)=>{if(C)return Promise.reject();if(D==null&&N.pages.length)return Promise.resolve(N);const k={client:t.client,queryKey:t.queryKey,pageParam:D,direction:L?"backward":"forward",meta:t.options.meta};w(k);const j=await R(k),{maxPages:B}=t.options,$=L?hz:dz;return{pages:$(N.pages,j,B),pageParams:$(N.pageParams,D,B)}};if(s&&a.length){const N=s==="backward",D=N?wz:dT,L={pages:a,pageParams:l},k=D(r,L);u=await I(L,k,N)}else{const N=e??a.length;do{const D=d===0?l[0]??r.initialPageParam:dT(r,u);if(d>0&&D==null)break;u=await I(u,D),d++}while(d<N)}return u};t.options.persister?t.fetchFn=()=>{var C,w;return(w=(C=t.options).persister)==null?void 0:w.call(C,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function dT(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function wz(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var sr,Fc,kc,rg,ig,Bc,og,sg,o3,Cz=(o3=class{constructor(e={}){At(this,sr);At(this,Fc);At(this,kc);At(this,rg);At(this,ig);At(this,Bc);At(this,og);At(this,sg);st(this,sr,e.queryCache||new Sz),st(this,Fc,e.mutationCache||new Az),st(this,kc,e.defaultOptions||{}),st(this,rg,new Map),st(this,ig,new Map),st(this,Bc,0)}mount(){hb(this,Bc)._++,pe(this,Bc)===1&&(st(this,og,JC.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,sr).onFocus())})),st(this,sg,eS.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,sr).onOnline())})))}unmount(){var e,t;hb(this,Bc)._--,pe(this,Bc)===0&&((e=pe(this,og))==null||e.call(this),st(this,og,void 0),(t=pe(this,sg))==null||t.call(this),st(this,sg,void 0))}isFetching(e){return pe(this,sr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return pe(this,Fc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=pe(this,sr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=pe(this,sr).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Yp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return pe(this,sr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=pe(this,sr).get(r.queryHash),a=s==null?void 0:s.state.data,l=cz(t,a);if(l!==void 0)return pe(this,sr).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Or.batch(()=>pe(this,sr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=pe(this,sr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=pe(this,sr);Or.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=pe(this,sr);return Or.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Or.batch(()=>pe(this,sr).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Vo).catch(Vo)}invalidateQueries(e,t={}){return Or.batch(()=>(pe(this,sr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Or.batch(()=>pe(this,sr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Vo)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Vo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=pe(this,sr).build(this,t);return n.isStaleByTime(Yp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vo).catch(Vo)}fetchInfiniteQuery(e){return e.behavior=fT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vo).catch(Vo)}ensureInfiniteQueryData(e){return e.behavior=fT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return eS.isOnline()?pe(this,Fc).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,sr)}getMutationCache(){return pe(this,Fc)}getDefaultOptions(){return pe(this,kc)}setDefaultOptions(e){st(this,kc,e)}setQueryDefaults(e,t){pe(this,rg).set(ch(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...pe(this,rg).values()],n={};return t.forEach(r=>{bv(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){pe(this,ig).set(ch(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...pe(this,ig).values()],n={};return t.forEach(r=>{bv(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...pe(this,kc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=XC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ZC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...pe(this,kc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){pe(this,sr).clear(),pe(this,Fc).clear()}},sr=new WeakMap,Fc=new WeakMap,kc=new WeakMap,rg=new WeakMap,ig=new WeakMap,Bc=new WeakMap,og=new WeakMap,sg=new WeakMap,o3),Hi,nn,Ov,Ri,oh,ag,jc,zc,Dv,lg,ug,sh,ah,Vc,cg,In,rv,Uw,Gw,$w,Hw,Yw,Ww,qw,j3,s3,Rz=(s3=class extends bg{constructor(t,n){super();At(this,In);At(this,Hi);At(this,nn);At(this,Ov);At(this,Ri);At(this,oh);At(this,ag);At(this,jc);At(this,zc);At(this,Dv);At(this,lg);At(this,ug);At(this,sh);At(this,ah);At(this,Vc);At(this,cg,new Set);this.options=n,st(this,Hi,t),st(this,zc,null),st(this,jc,Vw()),this.options.experimental_prefetchInRender||pe(this,jc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,nn).addObserver(this),hT(pe(this,nn),this.options)?Yt(this,In,rv).call(this):this.updateResult(),Yt(this,In,Hw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kw(pe(this,nn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kw(pe(this,nn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Yt(this,In,Yw).call(this),Yt(this,In,Ww).call(this),pe(this,nn).removeObserver(this)}setOptions(t){const n=this.options,r=pe(this,nn);if(this.options=pe(this,Hi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ts(this.options.enabled,pe(this,nn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Yt(this,In,qw).call(this),pe(this,nn).setOptions(this.options),n._defaulted&&!Qb(this.options,n)&&pe(this,Hi).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,nn),observer:this});const s=this.hasListeners();s&&pT(pe(this,nn),r,this.options,n)&&Yt(this,In,rv).call(this),this.updateResult(),s&&(pe(this,nn)!==r||Ts(this.options.enabled,pe(this,nn))!==Ts(n.enabled,pe(this,nn))||Yp(this.options.staleTime,pe(this,nn))!==Yp(n.staleTime,pe(this,nn)))&&Yt(this,In,Uw).call(this);const a=Yt(this,In,Gw).call(this);s&&(pe(this,nn)!==r||Ts(this.options.enabled,pe(this,nn))!==Ts(n.enabled,pe(this,nn))||a!==pe(this,Vc))&&Yt(this,In,$w).call(this,a)}getOptimisticResult(t){const n=pe(this,Hi).getQueryCache().build(pe(this,Hi),t),r=this.createResult(n,t);return Nz(this,r)&&(st(this,Ri,r),st(this,ag,this.options),st(this,oh,pe(this,nn).state)),r}getCurrentResult(){return pe(this,Ri)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){pe(this,cg).add(t)}getCurrentQuery(){return pe(this,nn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=pe(this,Hi).defaultQueryOptions(t),r=pe(this,Hi).getQueryCache().build(pe(this,Hi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Yt(this,In,rv).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,Ri)))}createResult(t,n){var $;const r=pe(this,nn),s=this.options,a=pe(this,Ri),l=pe(this,oh),u=pe(this,ag),g=t!==r?t.state:pe(this,Ov),{state:p}=t;let m={...p},x=!1,b;if(n._optimisticResults){const K=this.hasListeners(),ne=!K&&hT(t,n),re=K&&pT(t,r,n,s);(ne||re)&&(m={...m,...k3(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:A,errorUpdatedAt:C,status:w}=m;b=m.data;let R=!1;if(n.placeholderData!==void 0&&b===void 0&&w==="pending"){let K;a!=null&&a.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(K=a.data,R=!0):K=typeof n.placeholderData=="function"?n.placeholderData(($=pe(this,ug))==null?void 0:$.state.data,pe(this,ug)):n.placeholderData,K!==void 0&&(w="success",b=zw(a==null?void 0:a.data,K,n),x=!0)}if(n.select&&b!==void 0&&!R)if(a&&b===(l==null?void 0:l.data)&&n.select===pe(this,Dv))b=pe(this,lg);else try{st(this,Dv,n.select),b=n.select(b),b=zw(a==null?void 0:a.data,b,n),st(this,lg,b),st(this,zc,null)}catch(K){st(this,zc,K)}pe(this,zc)&&(A=pe(this,zc),b=pe(this,lg),C=Date.now(),w="error");const I=m.fetchStatus==="fetching",N=w==="pending",D=w==="error",L=N&&I,k=b!==void 0,B={status:w,fetchStatus:m.fetchStatus,isPending:N,isSuccess:w==="success",isError:D,isInitialLoading:L,isLoading:L,data:b,dataUpdatedAt:m.dataUpdatedAt,error:A,errorUpdatedAt:C,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>g.dataUpdateCount||m.errorUpdateCount>g.errorUpdateCount,isFetching:I,isRefetching:I&&!N,isLoadingError:D&&!k,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:D&&k,isStale:QC(t,n),refetch:this.refetch,promise:pe(this,jc)};if(this.options.experimental_prefetchInRender){const K=Se=>{B.status==="error"?Se.reject(B.error):B.data!==void 0&&Se.resolve(B.data)},ne=()=>{const Se=st(this,jc,B.promise=Vw());K(Se)},re=pe(this,jc);switch(re.status){case"pending":t.queryHash===r.queryHash&&K(re);break;case"fulfilled":(B.status==="error"||B.data!==re.value)&&ne();break;case"rejected":(B.status!=="error"||B.error!==re.reason)&&ne();break}}return B}updateResult(){const t=pe(this,Ri),n=this.createResult(pe(this,nn),this.options);if(st(this,oh,pe(this,nn).state),st(this,ag,this.options),pe(this,oh).data!==void 0&&st(this,ug,pe(this,nn)),Qb(n,t))return;st(this,Ri,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!pe(this,cg).size)return!0;const l=new Set(a??pe(this,cg));return this.options.throwOnError&&l.add("error"),Object.keys(pe(this,Ri)).some(u=>{const d=u;return pe(this,Ri)[d]!==t[d]&&l.has(d)})};Yt(this,In,j3).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Yt(this,In,Hw).call(this)}},Hi=new WeakMap,nn=new WeakMap,Ov=new WeakMap,Ri=new WeakMap,oh=new WeakMap,ag=new WeakMap,jc=new WeakMap,zc=new WeakMap,Dv=new WeakMap,lg=new WeakMap,ug=new WeakMap,sh=new WeakMap,ah=new WeakMap,Vc=new WeakMap,cg=new WeakMap,In=new WeakSet,rv=function(t){Yt(this,In,qw).call(this);let n=pe(this,nn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Vo)),n},Uw=function(){Yt(this,In,Yw).call(this);const t=Yp(this.options.staleTime,pe(this,nn));if(uh||pe(this,Ri).isStale||!Bw(t))return;const r=I3(pe(this,Ri).dataUpdatedAt,t)+1;st(this,sh,setTimeout(()=>{pe(this,Ri).isStale||this.updateResult()},r))},Gw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,nn)):this.options.refetchInterval)??!1},$w=function(t){Yt(this,In,Ww).call(this),st(this,Vc,t),!(uh||Ts(this.options.enabled,pe(this,nn))===!1||!Bw(pe(this,Vc))||pe(this,Vc)===0)&&st(this,ah,setInterval(()=>{(this.options.refetchIntervalInBackground||JC.isFocused())&&Yt(this,In,rv).call(this)},pe(this,Vc)))},Hw=function(){Yt(this,In,Uw).call(this),Yt(this,In,$w).call(this,Yt(this,In,Gw).call(this))},Yw=function(){pe(this,sh)&&(clearTimeout(pe(this,sh)),st(this,sh,void 0))},Ww=function(){pe(this,ah)&&(clearInterval(pe(this,ah)),st(this,ah,void 0))},qw=function(){const t=pe(this,Hi).getQueryCache().build(pe(this,Hi),this.options);if(t===pe(this,nn))return;const n=pe(this,nn);st(this,nn,t),st(this,Ov,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},j3=function(t){Or.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(pe(this,Ri))}),pe(this,Hi).getQueryCache().notify({query:pe(this,nn),type:"observerResultsUpdated"})})},s3);function Tz(e,t){return Ts(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function hT(e,t){return Tz(e,t)||e.state.data!==void 0&&Kw(e,t,t.refetchOnMount)}function Kw(e,t,n){if(Ts(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&QC(e,t)}return!1}function pT(e,t,n,r){return(e!==t||Ts(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&QC(e,n)}function QC(e,t){return Ts(t.enabled,e)!==!1&&e.isStaleByTime(Yp(t.staleTime,e))}function Nz(e,t){return!Qb(e.getCurrentResult(),t)}var Uc,Gc,Yi,Au,Cu,jb,Xw,a3,_z=(a3=class extends bg{constructor(n,r){super();At(this,Cu);At(this,Uc);At(this,Gc);At(this,Yi);At(this,Au);st(this,Uc,n),this.setOptions(r),this.bindMethods(),Yt(this,Cu,jb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=pe(this,Uc).defaultMutationOptions(n),Qb(this.options,r)||pe(this,Uc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:pe(this,Yi),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ch(r.mutationKey)!==ch(this.options.mutationKey)?this.reset():((s=pe(this,Yi))==null?void 0:s.state.status)==="pending"&&pe(this,Yi).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=pe(this,Yi))==null||n.removeObserver(this)}onMutationUpdate(n){Yt(this,Cu,jb).call(this),Yt(this,Cu,Xw).call(this,n)}getCurrentResult(){return pe(this,Gc)}reset(){var n;(n=pe(this,Yi))==null||n.removeObserver(this),st(this,Yi,void 0),Yt(this,Cu,jb).call(this),Yt(this,Cu,Xw).call(this)}mutate(n,r){var s;return st(this,Au,r),(s=pe(this,Yi))==null||s.removeObserver(this),st(this,Yi,pe(this,Uc).getMutationCache().build(pe(this,Uc),this.options)),pe(this,Yi).addObserver(this),pe(this,Yi).execute(n)}},Uc=new WeakMap,Gc=new WeakMap,Yi=new WeakMap,Au=new WeakMap,Cu=new WeakSet,jb=function(){var r;const n=((r=pe(this,Yi))==null?void 0:r.state)??B3();st(this,Gc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Xw=function(n){Or.batch(()=>{var r,s,a,l,u,d,g,p;if(pe(this,Au)&&this.hasListeners()){const m=pe(this,Gc).variables,x=pe(this,Gc).context;(n==null?void 0:n.type)==="success"?((s=(r=pe(this,Au)).onSuccess)==null||s.call(r,n.data,m,x),(l=(a=pe(this,Au)).onSettled)==null||l.call(a,n.data,null,m,x)):(n==null?void 0:n.type)==="error"&&((d=(u=pe(this,Au)).onError)==null||d.call(u,n.error,m,x),(p=(g=pe(this,Au)).onSettled)==null||p.call(g,void 0,n.error,m,x))}this.listeners.forEach(m=>{m(pe(this,Gc))})})},a3),z3=P.createContext(void 0),Lv=e=>{const t=P.useContext(z3);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Iz=({client:e,children:t})=>(P.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),O.jsx(z3.Provider,{value:e,children:t})),V3=P.createContext(!1),Oz=()=>P.useContext(V3);V3.Provider;function Dz(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mz=P.createContext(Dz()),Pz=()=>P.useContext(Mz);function U3(e,t){return typeof e=="function"?e(...t):!!e}function Zw(){}var Lz=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Fz=e=>{P.useEffect(()=>{e.clearReset()},[e])},kz=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||U3(n,[e.error,r])),Bz=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},jz=(e,t)=>e.isLoading&&e.isFetching&&!t,zz=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,gT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Vz(e,t,n){var m,x,b,A,C;const r=Lv(),s=Oz(),a=Pz(),l=r.defaultQueryOptions(e);(x=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,l),l._optimisticResults=s?"isRestoring":"optimistic",Bz(l),Lz(l,a),Fz(a);const u=!r.getQueryCache().get(l.queryHash),[d]=P.useState(()=>new t(r,l)),g=d.getOptimisticResult(l),p=!s&&e.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(w=>{const R=p?d.subscribe(Or.batchCalls(w)):Zw;return d.updateResult(),R},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),P.useEffect(()=>{d.setOptions(l)},[l,d]),zz(l,g))throw gT(l,d,a);if(kz({result:g,errorResetBoundary:a,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw g.error;if((A=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||A.call(b,l,g),l.experimental_prefetchInRender&&!uh&&jz(g,s)){const w=u?gT(l,d,a):(C=r.getQueryCache().get(l.queryHash))==null?void 0:C.promise;w==null||w.catch(Zw).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?g:d.trackResult(g)}function Fa(e,t){return Vz(e,Rz)}function zb(e,t){const n=Lv(),[r]=P.useState(()=>new _z(n,e));P.useEffect(()=>{r.setOptions(e)},[r,e]);const s=P.useSyncExternalStore(P.useCallback(l=>r.subscribe(Or.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=P.useCallback((l,u)=>{r.mutate(l,u).catch(Zw)},[r]);if(s.error&&U3(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function Uz(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Gz=e=>{switch(e){case"success":return Yz;case"info":return qz;case"warning":return Wz;case"error":return Kz;default:return null}},$z=Array(12).fill(0),Hz=({visible:e,className:t})=>Ke.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ke.createElement("div",{className:"sonner-spinner"},$z.map((n,r)=>Ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Yz=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wz=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qz=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Kz=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Xz=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Zz=()=>{const[e,t]=Ke.useState(document.hidden);return Ke.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Jw=1;class Jz{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Jw++,l=this.toasts.find(d=>d.id===a),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...t,id:a,title:r}),{...d,...t,id:a,dismissible:u,title:r}):d):this.addToast({title:r,...s,dismissible:u,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,l;const u=s.then(async g=>{if(l=["resolve",g],Ke.isValidElement(g))a=!1,this.create({id:r,type:"default",message:g});else if(e5(g)&&!g.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,A=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...A})}else if(g instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(g):n.error,x=typeof n.description=="function"?await n.description(g):n.description,A=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...A})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(g):n.success,x=typeof n.description=="function"?await n.description(g):n.description,A=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:x,...A})}}).catch(async g=>{if(l=["reject",g],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(g):n.error,m=typeof n.description=="function"?await n.description(g):n.description,b=typeof p=="object"&&!Ke.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...b})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((g,p)=>u.then(()=>l[0]==="reject"?p(l[1]):g(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||Jw++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Wi=new Jz,Qz=(e,t)=>{const n=(t==null?void 0:t.id)||Jw++;return Wi.addToast({title:e,...t,id:n}),n},e5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",t5=Qz,n5=()=>Wi.toasts,r5=()=>Wi.getActiveToasts(),zn=Object.assign(t5,{success:Wi.success,info:Wi.info,warning:Wi.warning,error:Wi.error,custom:Wi.custom,message:Wi.message,promise:Wi.promise,dismiss:Wi.dismiss,loading:Wi.loading},{getHistory:n5,getToasts:r5});Uz("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function mb(e){return e.label!==void 0}const i5=3,o5="24px",s5="16px",mT=4e3,a5=356,l5=14,u5=45,c5=200;function xa(...e){return e.filter(Boolean).join(" ")}function f5(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const d5=e=>{var t,n,r,s,a,l,u,d,g;const{invert:p,toast:m,unstyled:x,interacting:b,setHeights:A,visibleToasts:C,heights:w,index:R,toasts:I,expanded:N,removeToast:D,defaultRichColors:L,closeButton:k,style:j,cancelButtonStyle:B,actionButtonStyle:$,className:K="",descriptionClassName:ne="",duration:re,position:Se,gap:Me,expandByDefault:Oe,classNames:ie,icons:Ee,closeButtonAriaLabel:de="Close toast"}=e,[ue,X]=Ke.useState(null),[oe,he]=Ke.useState(null),[z,V]=Ke.useState(!1),[G,Y]=Ke.useState(!1),[Q,Z]=Ke.useState(!1),[J,se]=Ke.useState(!1),[ye,xe]=Ke.useState(!1),[ae,le]=Ke.useState(0),[we,Ie]=Ke.useState(0),je=Ke.useRef(m.duration||re||mT),Ve=Ke.useRef(null),me=Ke.useRef(null),Pe=R===0,Ze=R+1<=C,pt=m.type,gt=m.dismissible!==!1,ge=m.className||"",Ne=m.descriptionClassName||"",qe=Ke.useMemo(()=>w.findIndex(rt=>rt.toastId===m.id)||0,[w,m.id]),Ye=Ke.useMemo(()=>{var rt;return(rt=m.closeButton)!=null?rt:k},[m.closeButton,k]),tt=Ke.useMemo(()=>m.duration||re||mT,[m.duration,re]),lt=Ke.useRef(0),xt=Ke.useRef(0),Rt=Ke.useRef(0),It=Ke.useRef(null),[sn,ke]=Se.split("-"),nt=Ke.useMemo(()=>w.reduce((rt,ln,Jt)=>Jt>=qe?rt:rt+ln.height,0),[w,qe]),mt=Zz(),Et=m.invert||p,Dt=pt==="loading";xt.current=Ke.useMemo(()=>qe*Me+nt,[qe,nt]),Ke.useEffect(()=>{je.current=tt},[tt]),Ke.useEffect(()=>{V(!0)},[]),Ke.useEffect(()=>{const rt=me.current;if(rt){const ln=rt.getBoundingClientRect().height;return Ie(ln),A(Jt=>[{toastId:m.id,height:ln,position:m.position},...Jt]),()=>A(Jt=>Jt.filter(rn=>rn.toastId!==m.id))}},[A,m.id]),Ke.useLayoutEffect(()=>{if(!z)return;const rt=me.current,ln=rt.style.height;rt.style.height="auto";const Jt=rt.getBoundingClientRect().height;rt.style.height=ln,Ie(Jt),A(rn=>rn.find(qt=>qt.toastId===m.id)?rn.map(qt=>qt.toastId===m.id?{...qt,height:Jt}:qt):[{toastId:m.id,height:Jt,position:m.position},...rn])},[z,m.title,m.description,A,m.id]);const vn=Ke.useCallback(()=>{Y(!0),le(xt.current),A(rt=>rt.filter(ln=>ln.toastId!==m.id)),setTimeout(()=>{D(m)},c5)},[m,D,A,xt]);Ke.useEffect(()=>{if(m.promise&&pt==="loading"||m.duration===1/0||m.type==="loading")return;let rt;return N||b||mt?(()=>{if(Rt.current<lt.current){const rn=new Date().getTime()-lt.current;je.current=je.current-rn}Rt.current=new Date().getTime()})():(()=>{je.current!==1/0&&(lt.current=new Date().getTime(),rt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),vn()},je.current))})(),()=>clearTimeout(rt)},[N,b,m,pt,mt,vn]),Ke.useEffect(()=>{m.delete&&vn()},[vn,m.delete]);function Fn(){var rt;if(Ee!=null&&Ee.loading){var ln;return Ke.createElement("div",{className:xa(ie==null?void 0:ie.loader,m==null||(ln=m.classNames)==null?void 0:ln.loader,"sonner-loader"),"data-visible":pt==="loading"},Ee.loading)}return Ke.createElement(Hz,{className:xa(ie==null?void 0:ie.loader,m==null||(rt=m.classNames)==null?void 0:rt.loader),visible:pt==="loading"})}const Hn=m.icon||(Ee==null?void 0:Ee[pt])||Gz(pt);var an,Zn;return Ke.createElement("li",{tabIndex:0,ref:me,className:xa(K,ge,ie==null?void 0:ie.toast,m==null||(t=m.classNames)==null?void 0:t.toast,ie==null?void 0:ie.default,ie==null?void 0:ie[pt],m==null||(n=m.classNames)==null?void 0:n[pt]),"data-sonner-toast":"","data-rich-colors":(an=m.richColors)!=null?an:L,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":z,"data-promise":!!m.promise,"data-swiped":ye,"data-removed":G,"data-visible":Ze,"data-y-position":sn,"data-x-position":ke,"data-index":R,"data-front":Pe,"data-swiping":Q,"data-dismissible":gt,"data-type":pt,"data-invert":Et,"data-swipe-out":J,"data-swipe-direction":oe,"data-expanded":!!(N||Oe&&z),style:{"--index":R,"--toasts-before":R,"--z-index":I.length-R,"--offset":`${G?ae:xt.current}px`,"--initial-height":Oe?"auto":`${we}px`,...j,...m.style},onDragEnd:()=>{Z(!1),X(null),It.current=null},onPointerDown:rt=>{Dt||!gt||(Ve.current=new Date,le(xt.current),rt.target.setPointerCapture(rt.pointerId),rt.target.tagName!=="BUTTON"&&(Z(!0),It.current={x:rt.clientX,y:rt.clientY}))},onPointerUp:()=>{var rt,ln,Jt;if(J||!gt)return;It.current=null;const rn=Number(((rt=me.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gr=Number(((ln=me.current)==null?void 0:ln.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qt=new Date().getTime()-((Jt=Ve.current)==null?void 0:Jt.getTime()),jt=ue==="x"?rn:gr,un=Math.abs(jt)/qt;if(Math.abs(jt)>=u5||un>.11){le(xt.current),m.onDismiss==null||m.onDismiss.call(m,m),he(ue==="x"?rn>0?"right":"left":gr>0?"down":"up"),vn(),se(!0);return}else{var Lt,En;(Lt=me.current)==null||Lt.style.setProperty("--swipe-amount-x","0px"),(En=me.current)==null||En.style.setProperty("--swipe-amount-y","0px")}xe(!1),Z(!1),X(null)},onPointerMove:rt=>{var ln,Jt,rn;if(!It.current||!gt||((ln=window.getSelection())==null?void 0:ln.toString().length)>0)return;const qt=rt.clientY-It.current.y,jt=rt.clientX-It.current.x;var un;const Lt=(un=e.swipeDirections)!=null?un:f5(Se);!ue&&(Math.abs(jt)>1||Math.abs(qt)>1)&&X(Math.abs(jt)>Math.abs(qt)?"x":"y");let En={x:0,y:0};const Oi=xr=>1/(1.5+Math.abs(xr)/20);if(ue==="y"){if(Lt.includes("top")||Lt.includes("bottom"))if(Lt.includes("top")&&qt<0||Lt.includes("bottom")&&qt>0)En.y=qt;else{const xr=qt*Oi(qt);En.y=Math.abs(xr)<Math.abs(qt)?xr:qt}}else if(ue==="x"&&(Lt.includes("left")||Lt.includes("right")))if(Lt.includes("left")&&jt<0||Lt.includes("right")&&jt>0)En.x=jt;else{const xr=jt*Oi(jt);En.x=Math.abs(xr)<Math.abs(jt)?xr:jt}(Math.abs(En.x)>0||Math.abs(En.y)>0)&&xe(!0),(Jt=me.current)==null||Jt.style.setProperty("--swipe-amount-x",`${En.x}px`),(rn=me.current)==null||rn.style.setProperty("--swipe-amount-y",`${En.y}px`)}},Ye&&!m.jsx&&pt!=="loading"?Ke.createElement("button",{"aria-label":de,"data-disabled":Dt,"data-close-button":!0,onClick:Dt||!gt?()=>{}:()=>{vn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:xa(ie==null?void 0:ie.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Zn=Ee==null?void 0:Ee.close)!=null?Zn:Xz):null,(pt||m.icon||m.promise)&&m.icon!==null&&((Ee==null?void 0:Ee[pt])!==null||m.icon)?Ke.createElement("div",{"data-icon":"",className:xa(ie==null?void 0:ie.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Fn():null,m.type!=="loading"?Hn:null):null,Ke.createElement("div",{"data-content":"",className:xa(ie==null?void 0:ie.content,m==null||(a=m.classNames)==null?void 0:a.content)},Ke.createElement("div",{"data-title":"",className:xa(ie==null?void 0:ie.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Ke.createElement("div",{"data-description":"",className:xa(ne,Ne,ie==null?void 0:ie.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),Ke.isValidElement(m.cancel)?m.cancel:m.cancel&&mb(m.cancel)?Ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||B,onClick:rt=>{mb(m.cancel)&&gt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,rt),vn())},className:xa(ie==null?void 0:ie.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,Ke.isValidElement(m.action)?m.action:m.action&&mb(m.action)?Ke.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||$,onClick:rt=>{mb(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,rt),!rt.defaultPrevented&&vn())},className:xa(ie==null?void 0:ie.actionButton,m==null||(g=m.classNames)==null?void 0:g.actionButton)},m.action.label):null)};function vT(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function h5(e,t){const n={};return[e,t].forEach((r,s)=>{const a=s===1,l=a?"--mobile-offset":"--offset",u=a?s5:o5;function d(g){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?n[`${l}-${g}`]=u:n[`${l}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):d(u)}),n}const p5=Ke.forwardRef(function(t,n){const{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:g,mobileOffset:p,theme:m="light",richColors:x,duration:b,style:A,visibleToasts:C=i5,toastOptions:w,dir:R=vT(),gap:I=l5,icons:N,containerAriaLabel:D="Notifications"}=t,[L,k]=Ke.useState([]),j=Ke.useMemo(()=>Array.from(new Set([s].concat(L.filter(oe=>oe.position).map(oe=>oe.position)))),[L,s]),[B,$]=Ke.useState([]),[K,ne]=Ke.useState(!1),[re,Se]=Ke.useState(!1),[Me,Oe]=Ke.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=Ke.useRef(null),Ee=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=Ke.useRef(null),ue=Ke.useRef(!1),X=Ke.useCallback(oe=>{k(he=>{var z;return(z=he.find(V=>V.id===oe.id))!=null&&z.delete||Wi.dismiss(oe.id),he.filter(({id:V})=>V!==oe.id)})},[]);return Ke.useEffect(()=>Wi.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{k(he=>he.map(z=>z.id===oe.id?{...z,delete:!0}:z))});return}setTimeout(()=>{_3.flushSync(()=>{k(he=>{const z=he.findIndex(V=>V.id===oe.id);return z!==-1?[...he.slice(0,z),{...he[z],...oe},...he.slice(z+1)]:[oe,...he]})})})}),[L]),Ke.useEffect(()=>{if(m!=="system"){Oe(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Oe("dark"):Oe("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:he})=>{Oe(he?"dark":"light")})}catch{oe.addListener(({matches:z})=>{try{Oe(z?"dark":"light")}catch(V){console.error(V)}})}},[m]),Ke.useEffect(()=>{L.length<=1&&ne(!1)},[L]),Ke.useEffect(()=>{const oe=he=>{var z;if(a.every(Y=>he[Y]||he.code===Y)){var G;ne(!0),(G=ie.current)==null||G.focus()}he.code==="Escape"&&(document.activeElement===ie.current||(z=ie.current)!=null&&z.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[a]),Ke.useEffect(()=>{if(ie.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,ue.current=!1)}},[ie.current]),Ke.createElement("section",{ref:n,"aria-label":`${D} ${Ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((oe,he)=>{var z;const[V,G]=oe.split("-");return L.length?Ke.createElement("ol",{key:oe,dir:R==="auto"?vT():R,tabIndex:-1,ref:ie,className:d,"data-sonner-toaster":!0,"data-sonner-theme":Me,"data-y-position":V,"data-lifted":K&&L.length>1&&!l,"data-x-position":G,style:{"--front-toast-height":`${((z=B[0])==null?void 0:z.height)||0}px`,"--width":`${a5}px`,"--gap":`${I}px`,...A,...h5(g,p)},onBlur:Y=>{ue.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(ue.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,de.current=Y.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{re||ne(!1)},onDragEnd:()=>ne(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||Se(!0)},onPointerUp:()=>Se(!1)},L.filter(Y=>!Y.position&&he===0||Y.position===oe).map((Y,Q)=>{var Z,J;return Ke.createElement(d5,{key:Y.id,icons:N,index:Q,toast:Y,defaultRichColors:x,duration:(Z=w==null?void 0:w.duration)!=null?Z:b,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:r,visibleToasts:C,closeButton:(J=w==null?void 0:w.closeButton)!=null?J:u,interacting:re,position:oe,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:X,toasts:L.filter(se=>se.position==Y.position),heights:B.filter(se=>se.position==Y.position),setHeights:$,expandByDefault:l,gap:I,expanded:K,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),yT=e=>{const t=m5(e);return t.charAt(0).toUpperCase()+t.slice(1)},G3=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),v5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...u},d)=>P.createElement("svg",{ref:d,...y5,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:G3("lucide",s),...!a&&!v5(u)&&{"aria-hidden":"true"},...u},[...l.map(([g,p])=>P.createElement(g,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=(e,t)=>{const n=P.forwardRef(({className:r,...s},a)=>P.createElement(x5,{ref:a,iconNode:t,className:G3(`lucide-${g5(yT(e))}`,`lucide-${e}`,r),...s}));return n.displayName=yT(e),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],S5=Ki("check",b5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$3=Ki("chevron-down",E5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],w5=Ki("chevron-up",A5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],R5=Ki("circle-check",C5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],N5=Ki("circle-x",T5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],H3=Ki("ellipsis",_5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]],Y3=Ki("grid-2x2-plus",I5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],W3=Ki("loader-circle",O5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],M5=Ki("panel-left",D5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],q3=Ki("pencil",P5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],K3=Ki("plus",L5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],k5=Ki("plug",F5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],X3=Ki("trash-2",B5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Z3=Ki("x",j5);function J3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=J3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Q3(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=J3(e))&&(r&&(r+=" "),r+=t);return r}const e2="-",z5=e=>{const t=U5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(e2);return u[0]===""&&u.length!==1&&u.shift(),eM(u,t)||V5(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},eM=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?eM(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(e2);return(l=t.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},xT=/^\[(.+)\]$/,V5=e=>{if(xT.test(e)){const t=xT.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},U5=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)Qw(n[s],r,s,t);return r},Qw=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:bT(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(G5(s)){Qw(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,l])=>{Qw(l,bT(t,a),n,r)})})},bT=(e,t)=>{let n=e;return t.split(e2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},G5=e=>e.isThemeGetter,$5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,l)=>{n.set(a,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){n.has(a)?n.set(a,l):s(a,l)}}},eC="!",tC=":",H5=tC.length,Y5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const a=[];let l=0,u=0,d=0,g;for(let A=0;A<s.length;A++){let C=s[A];if(l===0&&u===0){if(C===tC){a.push(s.slice(d,A)),d=A+H5;continue}if(C==="/"){g=A;continue}}C==="["?l++:C==="]"?l--:C==="("?u++:C===")"&&u--}const p=a.length===0?s:s.substring(d),m=W5(p),x=m!==p,b=g&&g>d?g-d:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:b}};if(t){const s=t+tC,a=r;r=l=>l.startsWith(s)?a(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},W5=e=>e.endsWith(eC)?e.substring(0,e.length-1):e.startsWith(eC)?e.substring(1):e,q5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(l=>{l[0]==="["||t[l]?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s}},K5=e=>({cache:$5(e.cacheSize),parseClassName:Y5(e),sortModifiers:q5(e),...z5(e)}),X5=/\s+/,Z5=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=t,l=[],u=e.trim().split(X5);let d="";for(let g=u.length-1;g>=0;g-=1){const p=u[g],{isExternal:m,modifiers:x,hasImportantModifier:b,baseClassName:A,maybePostfixModifierPosition:C}=n(p);if(m){d=p+(d.length>0?" "+d:d);continue}let w=!!C,R=r(w?A.substring(0,C):A);if(!R){if(!w){d=p+(d.length>0?" "+d:d);continue}if(R=r(A),!R){d=p+(d.length>0?" "+d:d);continue}w=!1}const I=a(x).join(":"),N=b?I+eC:I,D=N+R;if(l.includes(D))continue;l.push(D);const L=s(R,w);for(let k=0;k<L.length;++k){const j=L[k];l.push(N+j)}d=p+(d.length>0?" "+d:d)}return d};function J5(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=tM(t))&&(r&&(r+=" "),r+=n);return r}const tM=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=tM(e[r]))&&(n&&(n+=" "),n+=t);return n};function Q5(e,...t){let n,r,s,a=l;function l(d){const g=t.reduce((p,m)=>m(p),e());return n=K5(g),r=n.cache.get,s=n.cache.set,a=u,u(d)}function u(d){const g=r(d);if(g)return g;const p=Z5(d,n);return s(d,p),p}return function(){return a(J5.apply(null,arguments))}}const Nr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},nM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eV=/^\d+\/\d+$/,tV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kp=e=>eV.test(e),Xt=e=>!!e&&!Number.isNaN(Number(e)),Rc=e=>!!e&&Number.isInteger(Number(e)),bE=e=>e.endsWith("%")&&Xt(e.slice(0,-1)),vl=e=>tV.test(e),sV=()=>!0,aV=e=>nV.test(e)&&!rV.test(e),iM=()=>!1,lV=e=>iV.test(e),uV=e=>oV.test(e),cV=e=>!ct(e)&&!ft(e),fV=e=>Sg(e,aM,iM),ct=e=>nM.test(e),qf=e=>Sg(e,lM,aV),SE=e=>Sg(e,mV,Xt),ST=e=>Sg(e,oM,iM),dV=e=>Sg(e,sM,uV),vb=e=>Sg(e,uM,lV),ft=e=>rM.test(e),N0=e=>Eg(e,lM),hV=e=>Eg(e,vV),ET=e=>Eg(e,oM),pV=e=>Eg(e,aM),gV=e=>Eg(e,sM),yb=e=>Eg(e,uM,!0),Sg=(e,t,n)=>{const r=nM.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Eg=(e,t,n=!1)=>{const r=rM.exec(e);return r?r[1]?t(r[1]):n:!1},oM=e=>e==="position"||e==="percentage",sM=e=>e==="image"||e==="url",aM=e=>e==="length"||e==="size"||e==="bg-size",lM=e=>e==="length",mV=e=>e==="number",vV=e=>e==="family-name",uM=e=>e==="shadow",yV=()=>{const e=Nr("color"),t=Nr("font"),n=Nr("text"),r=Nr("font-weight"),s=Nr("tracking"),a=Nr("leading"),l=Nr("breakpoint"),u=Nr("container"),d=Nr("spacing"),g=Nr("radius"),p=Nr("shadow"),m=Nr("inset-shadow"),x=Nr("text-shadow"),b=Nr("drop-shadow"),A=Nr("blur"),C=Nr("perspective"),w=Nr("aspect"),R=Nr("ease"),I=Nr("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...D(),ft,ct],k=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],B=()=>[ft,ct,d],$=()=>[kp,"full","auto",...B()],K=()=>[Rc,"none","subgrid",ft,ct],ne=()=>["auto",{span:["full",Rc,ft,ct]},Rc,ft,ct],re=()=>[Rc,"auto",ft,ct],Se=()=>["auto","min","max","fr",ft,ct],Me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Oe=()=>["start","end","center","stretch","center-safe","end-safe"],ie=()=>["auto",...B()],Ee=()=>[kp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],de=()=>[e,ft,ct],ue=()=>[...D(),ET,ST,{position:[ft,ct]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],oe=()=>["auto","cover","contain",pV,fV,{size:[ft,ct]}],he=()=>[bE,N0,qf],z=()=>["","none","full",g,ft,ct],V=()=>["",Xt,N0,qf],G=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[Xt,bE,ET,ST],Z=()=>["","none",A,ft,ct],J=()=>["none",Xt,ft,ct],se=()=>["none",Xt,ft,ct],ye=()=>[Xt,ft,ct],xe=()=>[kp,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vl],breakpoint:[vl],color:[sV],container:[vl],"drop-shadow":[vl],ease:["in","out","in-out"],font:[cV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vl],shadow:[vl],spacing:["px",Xt],text:[vl],"text-shadow":[vl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",kp,ct,ft,w]}],container:["container"],columns:[{columns:[Xt,ct,ft,u]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Rc,"auto",ft,ct]}],basis:[{basis:[kp,"full","auto",u,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xt,kp,"auto","initial","none",ct]}],grow:[{grow:["",Xt,ft,ct]}],shrink:[{shrink:["",Xt,ft,ct]}],order:[{order:[Rc,"first","last","none",ft,ct]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:ne()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:ne()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Se()}],"auto-rows":[{"auto-rows":Se()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...Me(),"normal"]}],"justify-items":[{"justify-items":[...Oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Oe()]}],"align-content":[{content:["normal",...Me()]}],"align-items":[{items:[...Oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Me()}],"place-items":[{"place-items":[...Oe(),"baseline"]}],"place-self":[{"place-self":["auto",...Oe()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:ie()}],mx:[{mx:ie()}],my:[{my:ie()}],ms:[{ms:ie()}],me:[{me:ie()}],mt:[{mt:ie()}],mr:[{mr:ie()}],mb:[{mb:ie()}],ml:[{ml:ie()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ee()}],w:[{w:[u,"screen",...Ee()]}],"min-w":[{"min-w":[u,"screen","none",...Ee()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Ee()]}],h:[{h:["screen",...Ee()]}],"min-h":[{"min-h":["screen","none",...Ee()]}],"max-h":[{"max-h":["screen",...Ee()]}],"font-size":[{text:["base",n,N0,qf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ft,SE]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bE,ct]}],"font-family":[{font:[hV,ct,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ft,ct]}],"line-clamp":[{"line-clamp":[Xt,"none",ft,SE]}],leading:[{leading:[a,...B()]}],"list-image":[{"list-image":["none",ft,ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ft,ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:de()}],"text-color":[{text:de()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xt,"from-font","auto",ft,qf]}],"text-decoration-color":[{decoration:de()}],"underline-offset":[{"underline-offset":[Xt,"auto",ft,ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft,ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft,ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Rc,ft,ct],radial:["",ft,ct],conic:[Rc,ft,ct]},gV,dV]}],"bg-color":[{bg:de()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:de()}],"gradient-via":[{via:de()}],"gradient-to":[{to:de()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:de()}],"border-color-x":[{"border-x":de()}],"border-color-y":[{"border-y":de()}],"border-color-s":[{"border-s":de()}],"border-color-e":[{"border-e":de()}],"border-color-t":[{"border-t":de()}],"border-color-r":[{"border-r":de()}],"border-color-b":[{"border-b":de()}],"border-color-l":[{"border-l":de()}],"divide-color":[{divide:de()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xt,ft,ct]}],"outline-w":[{outline:["",Xt,N0,qf]}],"outline-color":[{outline:de()}],shadow:[{shadow:["","none",p,yb,vb]}],"shadow-color":[{shadow:de()}],"inset-shadow":[{"inset-shadow":["none",m,yb,vb]}],"inset-shadow-color":[{"inset-shadow":de()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:de()}],"ring-offset-w":[{"ring-offset":[Xt,qf]}],"ring-offset-color":[{"ring-offset":de()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":de()}],"text-shadow":[{"text-shadow":["none",x,yb,vb]}],"text-shadow-color":[{"text-shadow":de()}],opacity:[{opacity:[Xt,ft,ct]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":de()}],"mask-image-linear-to-color":[{"mask-linear-to":de()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":de()}],"mask-image-t-to-color":[{"mask-t-to":de()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":de()}],"mask-image-r-to-color":[{"mask-r-to":de()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":de()}],"mask-image-b-to-color":[{"mask-b-to":de()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":de()}],"mask-image-l-to-color":[{"mask-l-to":de()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":de()}],"mask-image-x-to-color":[{"mask-x-to":de()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":de()}],"mask-image-y-to-color":[{"mask-y-to":de()}],"mask-image-radial":[{"mask-radial":[ft,ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":de()}],"mask-image-radial-to-color":[{"mask-radial-to":de()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Xt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":de()}],"mask-image-conic-to-color":[{"mask-conic-to":de()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ft,ct]}],filter:[{filter:["","none",ft,ct]}],blur:[{blur:Z()}],brightness:[{brightness:[Xt,ft,ct]}],contrast:[{contrast:[Xt,ft,ct]}],"drop-shadow":[{"drop-shadow":["","none",b,yb,vb]}],"drop-shadow-color":[{"drop-shadow":de()}],grayscale:[{grayscale:["",Xt,ft,ct]}],"hue-rotate":[{"hue-rotate":[Xt,ft,ct]}],invert:[{invert:["",Xt,ft,ct]}],saturate:[{saturate:[Xt,ft,ct]}],sepia:[{sepia:["",Xt,ft,ct]}],"backdrop-filter":[{"backdrop-filter":["","none",ft,ct]}],"backdrop-blur":[{"backdrop-blur":Z()}],"backdrop-brightness":[{"backdrop-brightness":[Xt,ft,ct]}],"backdrop-contrast":[{"backdrop-contrast":[Xt,ft,ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xt,ft,ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xt,ft,ct]}],"backdrop-invert":[{"backdrop-invert":["",Xt,ft,ct]}],"backdrop-opacity":[{"backdrop-opacity":[Xt,ft,ct]}],"backdrop-saturate":[{"backdrop-saturate":[Xt,ft,ct]}],"backdrop-sepia":[{"backdrop-sepia":["",Xt,ft,ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ft,ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xt,"initial",ft,ct]}],ease:[{ease:["linear","initial",R,ft,ct]}],delay:[{delay:[Xt,ft,ct]}],animate:[{animate:["none",I,ft,ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,ft,ct]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[ft,ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:de()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:de()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft,ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft,ct]}],fill:[{fill:["none",...de()]}],"stroke-w":[{stroke:[Xt,N0,qf,SE]}],stroke:[{stroke:["none",...de()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xV=Q5(yV);function St(...e){return xV(Q3(e))}function AT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function AS(...e){return t=>{let n=!1;const r=e.map(s=>{const a=AT(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():AT(e[s],null)}}}}function Sn(...e){return P.useCallback(AS(...e),e)}function Wc(e){const t=bV(e),n=P.forwardRef((r,s)=>{const{children:a,...l}=r,u=P.Children.toArray(a),d=u.find(EV);if(d){const g=d.props.children,p=u.map(m=>m===d?P.Children.count(g)>1?P.Children.only(null):P.isValidElement(g)?g.props.children:null:m);return O.jsx(t,{...l,ref:s,children:P.isValidElement(g)?P.cloneElement(g,void 0,p):null})}return O.jsx(t,{...l,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var t2=Wc("Slot");function bV(e){const t=P.forwardRef((n,r)=>{const{children:s,...a}=n;if(P.isValidElement(s)){const l=wV(s),u=AV(a,s.props);return s.type!==P.Fragment&&(u.ref=r?AS(r,l):l),P.cloneElement(s,u)}return P.Children.count(s)>1?P.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cM=Symbol("radix.slottable");function SV(e){const t=({children:n})=>O.jsx(O.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=cM,t}function EV(e){return P.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cM}function AV(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...u)=>{a(...u),s(...u)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function wV(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const wT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,CT=Q3,wS=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return CT(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,l=Object.keys(s).map(g=>{const p=n==null?void 0:n[g],m=a==null?void 0:a[g];if(p===null)return null;const x=wT(p)||wT(m);return s[g][x]}),u=n&&Object.entries(n).reduce((g,p)=>{let[m,x]=p;return x===void 0||(g[m]=x),g},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((g,p)=>{let{class:m,className:x,...b}=p;return Object.entries(b).every(A=>{let[C,w]=A;return Array.isArray(w)?w.includes({...a,...u}[C]):{...a,...u}[C]===w})?[...g,m,x]:g},[]);return CT(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},CV=wS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function er({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?t2:"button";return O.jsx(a,{"data-slot":"button",className:St("cursor-pointer",CV({variant:t,size:n,className:e})),...s})}function RV({className:e,...t}){return O.jsxs("form",{className:St("flex flex-col gap-6",e),...t,children:[O.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[O.jsx("h1",{className:"text-2xl font-bold",children:"Login to Wafflebase"}),O.jsx("p",{className:"text-balance text-sm text-muted-foreground",children:"Wafflebase with your GitHub account."})]}),O.jsx("div",{className:"grid gap-6",children:O.jsx(er,{variant:"outline",className:"w-full",asChild:!0,children:O.jsxs(xg,{to:"https://wafflebase-api.yorkie.dev/auth/github",rel:"noopener noreferrer",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:O.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12",fill:"currentColor"})}),"Login with GitHub"]})})})]})}function TV(){return O.jsx("div",{className:"grid min-h-svh",children:O.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[O.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:O.jsxs("a",{href:"#",className:"flex items-center gap-2 font-medium",children:[O.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-primary text-primary-foreground",children:O.jsx(Y3,{className:"!size-5"})}),"Wafflebase"]})}),O.jsx("div",{className:"flex flex-1 items-center justify-center",children:O.jsx("div",{className:"w-full max-w-xs",children:O.jsx(RV,{})})})]})})}async function fM(){if(!(await fetch("https://wafflebase-api.yorkie.dev/auth/logout",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to log out");zn.success("Logged out successfully"),window.location.href="/login"}async function gh(){const e=await _i("https://wafflebase-api.yorkie.dev/auth/me",{method:"GET",credentials:"include"});if(!e.ok)throw new Error("Failed to fetch user");return e.json()}async function _i(e,t){const n=await fetch(e,{...t,credentials:"include"});if(n.status===401)throw await fM(),new Error("Unauthorized");return n}async function NV(e){const t=await _i("https://wafflebase-api.yorkie.dev/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create document");return t.json()}async function _V(){const e=await _i("https://wafflebase-api.yorkie.dev/documents");if(!e.ok)throw new Error("Failed to fetch documents");return await e.json()}async function IV(e){const t=await _i(`https://wafflebase-api.yorkie.dev/documents/${e}`);if(!t.ok)throw new Error("Failed to fetch document");const n=await t.json();if(!n)throw new Error("Document not found");return n}async function dM(e,t){const n=await _i(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})});if(!n.ok)throw new Error("Failed to rename document");return n.json()}async function OV(e){if((await _i(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"DELETE"})).ok)zn.success("Document deleted successfully");else throw zn.error("Failed to delete document"),new Error("Failed to delete document")}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function $c(e,t){return typeof e=="function"?e(t):e}function mo(e,t){return n=>{t.setState(r=>({...r,[e]:$c(n,r[e])}))}}function CS(e){return e instanceof Function}function DV(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function MV(e,t){const n=[],r=s=>{s.forEach(a=>{n.push(a);const l=t(a);l!=null&&l.length&&r(l)})};return r(e),n}function Nt(e,t,n){let r=[],s;return a=>{let l;n.key&&n.debug&&(l=Date.now());const u=e(a);if(!(u.length!==r.length||u.some((p,m)=>r[m]!==p)))return s;r=u;let g;if(n.key&&n.debug&&(g=Date.now()),s=t(...u),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-l)*100)/100,m=Math.round((Date.now()-g)*100)/100,x=m/16,b=(A,C)=>{for(A=String(A);A.length<C;)A=" "+A;return A};console.info(`%c ${b(m,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function _t(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function PV(e,t,n,r){const s=()=>{var l;return(l=a.getValue())!=null?l:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:Nt(()=>[e,n,t,a],(l,u,d,g)=>({table:l,column:u,row:d,cell:g,getValue:g.getValue,renderValue:g.renderValue}),_t(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(a,n,t,e)},{}),a}function LV(e,t,n,r){var s,a;const u={...e._getDefaultColumnDef(),...t},d=u.accessorKey;let g=(s=(a=u.id)!=null?a:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?s:typeof u.header=="string"?u.header:void 0,p;if(u.accessorFn?p=u.accessorFn:d&&(d.includes(".")?p=x=>{let b=x;for(const C of d.split(".")){var A;b=(A=b)==null?void 0:A[C]}return b}:p=x=>x[u.accessorKey]),!g)throw new Error;let m={id:`${String(g)}`,accessorFn:p,parent:r,depth:n,columnDef:u,columns:[],getFlatColumns:Nt(()=>[!0],()=>{var x;return[m,...(x=m.columns)==null?void 0:x.flatMap(b=>b.getFlatColumns())]},_t(e.options,"debugColumns")),getLeafColumns:Nt(()=>[e._getOrderColumnsFn()],x=>{var b;if((b=m.columns)!=null&&b.length){let A=m.columns.flatMap(C=>C.getLeafColumns());return x(A)}return[m]},_t(e.options,"debugColumns"))};for(const x of e._features)x.createColumn==null||x.createColumn(m,e);return m}const hi="debugHeaders";function RT(e,t,n){var r;let a={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],u=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(u),l.push(d)};return u(a),l},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(a,e)}),a}const FV={createTable:e=>{e.getHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var a,l;const u=(a=r==null?void 0:r.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?a:[],d=(l=s==null?void 0:s.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?l:[],g=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(s!=null&&s.includes(m.id)));return xb(t,[...u,...g,...d],e)},_t(e.options,hi)),e.getCenterHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(s!=null&&s.includes(a.id))),xb(t,n,e,"center")),_t(e.options,hi)),e.getLeftHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const a=(s=r==null?void 0:r.map(l=>n.find(u=>u.id===l)).filter(Boolean))!=null?s:[];return xb(t,a,e,"left")},_t(e.options,hi)),e.getRightHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const a=(s=r==null?void 0:r.map(l=>n.find(u=>u.id===l)).filter(Boolean))!=null?s:[];return xb(t,a,e,"right")},_t(e.options,hi)),e.getFooterGroups=Nt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),_t(e.options,hi)),e.getLeftFooterGroups=Nt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),_t(e.options,hi)),e.getCenterFooterGroups=Nt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),_t(e.options,hi)),e.getRightFooterGroups=Nt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),_t(e.options,hi)),e.getFlatHeaders=Nt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,hi)),e.getLeftFlatHeaders=Nt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,hi)),e.getCenterFlatHeaders=Nt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,hi)),e.getRightFlatHeaders=Nt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,hi)),e.getCenterLeafHeaders=Nt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,hi)),e.getLeftLeafHeaders=Nt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,hi)),e.getRightLeafHeaders=Nt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,hi)),e.getLeafHeaders=Nt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,a,l,u,d,g;return[...(s=(a=t[0])==null?void 0:a.headers)!=null?s:[],...(l=(u=n[0])==null?void 0:u.headers)!=null?l:[],...(d=(g=r[0])==null?void 0:g.headers)!=null?d:[]].map(p=>p.getLeafHeaders()).flat()},_t(e.options,hi))}};function xb(e,t,n,r){var s,a;let l=0;const u=function(x,b){b===void 0&&(b=1),l=Math.max(l,b),x.filter(A=>A.getIsVisible()).forEach(A=>{var C;(C=A.columns)!=null&&C.length&&u(A.columns,b+1)},0)};u(e);let d=[];const g=(x,b)=>{const A={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},C=[];x.forEach(w=>{const R=[...C].reverse()[0],I=w.column.depth===A.depth;let N,D=!1;if(I&&w.column.parent?N=w.column.parent:(N=w.column,D=!0),R&&(R==null?void 0:R.column)===N)R.subHeaders.push(w);else{const L=RT(n,N,{id:[r,b,N.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${C.filter(k=>k.column===N).length}`:void 0,depth:b,index:C.length});L.subHeaders.push(w),C.push(L)}A.headers.push(w),w.headerGroup=A}),d.push(A),b>0&&g(C,b-1)},p=t.map((x,b)=>RT(n,x,{depth:l,index:b}));g(p,l-1),d.reverse();const m=x=>x.filter(A=>A.column.getIsVisible()).map(A=>{let C=0,w=0,R=[0];A.subHeaders&&A.subHeaders.length?(R=[],m(A.subHeaders).forEach(N=>{let{colSpan:D,rowSpan:L}=N;C+=D,R.push(L)})):C=1;const I=Math.min(...R);return w=w+I,A.colSpan=C,A.rowSpan=w,{colSpan:C,rowSpan:w}});return m((s=(a=d[0])==null?void 0:a.headers)!=null?s:[]),d}const n2=(e,t,n,r,s,a,l)=>{let u={id:t,index:r,original:n,depth:s,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(u._valuesCache.hasOwnProperty(d))return u._valuesCache[d];const g=e.getColumn(d);if(g!=null&&g.accessorFn)return u._valuesCache[d]=g.accessorFn(u.original,r),u._valuesCache[d]},getUniqueValues:d=>{if(u._uniqueValuesCache.hasOwnProperty(d))return u._uniqueValuesCache[d];const g=e.getColumn(d);if(g!=null&&g.accessorFn)return g.columnDef.getUniqueValues?(u._uniqueValuesCache[d]=g.columnDef.getUniqueValues(u.original,r),u._uniqueValuesCache[d]):(u._uniqueValuesCache[d]=[u.getValue(d)],u._uniqueValuesCache[d])},renderValue:d=>{var g;return(g=u.getValue(d))!=null?g:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>MV(u.subRows,d=>d.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let d=[],g=u;for(;;){const p=g.getParentRow();if(!p)break;d.push(p),g=p}return d.reverse()},getAllCells:Nt(()=>[e.getAllLeafColumns()],d=>d.map(g=>PV(e,u,g,g.id)),_t(e.options,"debugRows")),_getAllCellsByColumnId:Nt(()=>[u.getAllCells()],d=>d.reduce((g,p)=>(g[p.column.id]=p,g),{}),_t(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const g=e._features[d];g==null||g.createRow==null||g.createRow(u,e)}return u},kV={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},hM=(e,t,n)=>{var r,s;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(a))};hM.autoRemove=e=>Ns(e);const pM=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};pM.autoRemove=e=>Ns(e);const gM=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};gM.autoRemove=e=>Ns(e);const mM=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};mM.autoRemove=e=>Ns(e);const vM=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});vM.autoRemove=e=>Ns(e)||!(e!=null&&e.length);const yM=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});yM.autoRemove=e=>Ns(e)||!(e!=null&&e.length);const xM=(e,t,n)=>e.getValue(t)===n;xM.autoRemove=e=>Ns(e);const bM=(e,t,n)=>e.getValue(t)==n;bM.autoRemove=e=>Ns(e);const r2=(e,t,n)=>{let[r,s]=n;const a=e.getValue(t);return a>=r&&a<=s};r2.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(r)?-1/0:r,l=n===null||Number.isNaN(s)?1/0:s;if(a>l){const u=a;a=l,l=u}return[a,l]};r2.autoRemove=e=>Ns(e)||Ns(e[0])&&Ns(e[1]);const Su={includesString:hM,includesStringSensitive:pM,equalsString:gM,arrIncludes:mM,arrIncludesAll:vM,arrIncludesSome:yM,equals:xM,weakEquals:bM,inNumberRange:r2};function Ns(e){return e==null||e===""}const BV={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:mo("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Su.includesString:typeof r=="number"?Su.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Su.equals:Array.isArray(r)?Su.arrIncludes:Su.weakEquals},e.getFilterFn=()=>{var n,r;return CS(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Su[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),a=r==null?void 0:r.find(p=>p.id===e.id),l=$c(n,a?a.value:void 0);if(TT(s,l,e)){var u;return(u=r==null?void 0:r.filter(p=>p.id!==e.id))!=null?u:[]}const d={id:e.id,value:l};if(a){var g;return(g=r==null?void 0:r.map(p=>p.id===e.id?d:p))!=null?g:[]}return r!=null&&r.length?[...r,d]:[d]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var a;return(a=$c(t,s))==null?void 0:a.filter(l=>{const u=n.find(d=>d.id===l.id);if(u){const d=u.getFilterFn();if(TT(d,l.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function TT(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const jV=(e,t,n)=>n.reduce((r,s)=>{const a=s.getValue(e);return r+(typeof a=="number"?a:0)},0),zV=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},VV=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},UV=(e,t,n)=>{let r,s;return n.forEach(a=>{const l=a.getValue(e);l!=null&&(r===void 0?l>=l&&(r=s=l):(r>l&&(r=l),s<l&&(s=l)))}),[r,s]},GV=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let a=s.getValue(e);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},$V=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!DV(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((a,l)=>a-l);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},HV=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),YV=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,WV=(e,t)=>t.length,EE={sum:jV,min:zV,max:VV,extent:UV,mean:GV,median:$V,unique:HV,uniqueCount:YV,count:WV},qV={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:mo("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return EE.sum;if(Object.prototype.toString.call(r)==="[object Date]")return EE.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return CS(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:EE[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function KV(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(a=>!t.includes(a.id));return n==="remove"?r:[...t.map(a=>e.find(l=>l.id===a)).filter(Boolean),...r]}const XV={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:mo("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Nt(n=>[hv(t,n)],n=>n.findIndex(r=>r.id===e.id),_t(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=hv(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=hv(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Nt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let a=[];if(!(t!=null&&t.length))a=s;else{const l=[...t],u=[...s];for(;u.length&&l.length;){const d=l.shift(),g=u.findIndex(p=>p.id===d);g>-1&&a.push(u.splice(g,1)[0])}a=[...a,...u]}return KV(a,n,r)},_t(e.options,"debugTable"))}},AE=()=>({left:[],right:[]}),ZV={getInitialState:e=>({columnPinning:AE(),...e}),getDefaultOptions:e=>({onColumnPinningChange:mo("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var a,l;if(n==="right"){var u,d;return{left:((u=s==null?void 0:s.left)!=null?u:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((d=s==null?void 0:s.right)!=null?d:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var g,p;return{left:[...((g=s==null?void 0:s.left)!=null?g:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((p=s==null?void 0:s.right)!=null?p:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(m=>!(r!=null&&r.includes(m))),right:((l=s==null?void 0:s.right)!=null?l:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,a,l;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((a=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(u=>u.id),{left:r,right:s}=t.getState().columnPinning,a=n.some(u=>r==null?void 0:r.includes(u)),l=n.some(u=>s==null?void 0:s.includes(u));return a?"left":l?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const a=[...r??[],...s??[]];return n.filter(l=>!a.includes(l.column.id))},_t(t.options,"debugRows")),e.getLeftVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),_t(t.options,"debugRows")),e.getRightVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),_t(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?AE():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:AE())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,a;return!!((s=r.left)!=null&&s.length||(a=r.right)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),_t(e.options,"debugColumns")),e.getRightLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),_t(e.options,"debugColumns")),e.getCenterLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(a=>!s.includes(a.id))},_t(e.options,"debugColumns"))}},bb={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},wE=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),JV={getDefaultColumnDef:()=>bb,getInitialState:e=>({columnSizing:{},columnSizingInfo:wE(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:mo("columnSizing",e),onColumnSizingInfoChange:mo("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:bb.minSize,(r=a??e.columnDef.size)!=null?r:bb.size),(s=e.columnDef.maxSize)!=null?s:bb.maxSize)},e.getStart=Nt(n=>[n,hv(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,a)=>s+a.getSize(),0),_t(t.options,"debugColumns")),e.getAfter=Nt(n=>[n,hv(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,a)=>s+a.getSize(),0),_t(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var a;n+=(a=s.column.getSize())!=null?a:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return a=>{if(!r||!s||(a.persist==null||a.persist(),CE(a)&&a.touches&&a.touches.length>1))return;const l=e.getSize(),u=e?e.getLeafHeaders().map(R=>[R.column.id,R.column.getSize()]):[[r.id,r.getSize()]],d=CE(a)?Math.round(a.touches[0].clientX):a.clientX,g={},p=(R,I)=>{typeof I=="number"&&(t.setColumnSizingInfo(N=>{var D,L;const k=t.options.columnResizeDirection==="rtl"?-1:1,j=(I-((D=N==null?void 0:N.startOffset)!=null?D:0))*k,B=Math.max(j/((L=N==null?void 0:N.startSize)!=null?L:0),-.999999);return N.columnSizingStart.forEach($=>{let[K,ne]=$;g[K]=Math.round(Math.max(ne+ne*B,0)*100)/100}),{...N,deltaOffset:j,deltaPercentage:B}}),(t.options.columnResizeMode==="onChange"||R==="end")&&t.setColumnSizing(N=>({...N,...g})))},m=R=>p("move",R),x=R=>{p("end",R),t.setColumnSizingInfo(I=>({...I,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=n||typeof document<"u"?document:null,A={moveHandler:R=>m(R.clientX),upHandler:R=>{b==null||b.removeEventListener("mousemove",A.moveHandler),b==null||b.removeEventListener("mouseup",A.upHandler),x(R.clientX)}},C={moveHandler:R=>(R.cancelable&&(R.preventDefault(),R.stopPropagation()),m(R.touches[0].clientX),!1),upHandler:R=>{var I;b==null||b.removeEventListener("touchmove",C.moveHandler),b==null||b.removeEventListener("touchend",C.upHandler),R.cancelable&&(R.preventDefault(),R.stopPropagation()),x((I=R.touches[0])==null?void 0:I.clientX)}},w=QV()?{passive:!1}:!1;CE(a)?(b==null||b.addEventListener("touchmove",C.moveHandler,w),b==null||b.addEventListener("touchend",C.upHandler,w)):(b==null||b.addEventListener("mousemove",A.moveHandler,w),b==null||b.addEventListener("mouseup",A.upHandler,w)),t.setColumnSizingInfo(R=>({...R,startOffset:d,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?wE():(n=e.initialState.columnSizingInfo)!=null?n:wE())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let Sb=null;function QV(){if(typeof Sb=="boolean")return Sb;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Sb=e,Sb}function CE(e){return e.type==="touchstart"}const eU={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:mo("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Nt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),_t(t.options,"debugRows")),e.getVisibleCells=Nt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],_t(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Nt(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),_t(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,a)=>({...s,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function hv(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const tU={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},nU={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:mo("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Su.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return CS(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Su[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},rU={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:mo("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,a;e.setExpanded(r?{}:(s=(a=e.initialState)==null?void 0:a.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const l=a.split(".");r=Math.max(r,l.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const a=r===!0?!0:!!(r!=null&&r[e.id]);let l={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(u=>{l[u]=!0}):l=r,n=(s=n)!=null?s:!a,!a&&n)return{...l,[e.id]:!0};if(a&&!n){const{[e.id]:u,...d}=l;return d}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},nC=0,rC=10,RE=()=>({pageIndex:nC,pageSize:rC}),iU={getInitialState:e=>({...e,pagination:{...RE(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:mo("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=a=>$c(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?RE():(s=e.initialState.pagination)!=null?s:RE())},e.setPageIndex=r=>{e.setPagination(s=>{let a=$c(r,s.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,l)),{...s,pageIndex:a}})},e.resetPageIndex=r=>{var s,a;e.setPageIndex(r?nC:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?s:nC)},e.resetPageSize=r=>{var s,a;e.setPageSize(r?rC:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?s:rC)},e.setPageSize=r=>{e.setPagination(s=>{const a=Math.max(1,$c(r,s.pageSize)),l=s.pageSize*s.pageIndex,u=Math.floor(l/a);return{...s,pageIndex:u,pageSize:a}})},e.setPageCount=r=>e.setPagination(s=>{var a;let l=$c(r,(a=e.options.pageCount)!=null?a:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...s,pageCount:l}}),e.getPageOptions=Nt(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((a,l)=>l)),s},_t(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},TE=()=>({top:[],bottom:[]}),oU={getInitialState:e=>({rowPinning:TE(),...e}),getDefaultOptions:e=>({onRowPinningChange:mo("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const a=r?e.getLeafRows().map(d=>{let{id:g}=d;return g}):[],l=s?e.getParentRows().map(d=>{let{id:g}=d;return g}):[],u=new Set([...l,e.id,...a]);t.setRowPinning(d=>{var g,p;if(n==="bottom"){var m,x;return{top:((m=d==null?void 0:d.top)!=null?m:[]).filter(C=>!(u!=null&&u.has(C))),bottom:[...((x=d==null?void 0:d.bottom)!=null?x:[]).filter(C=>!(u!=null&&u.has(C))),...Array.from(u)]}}if(n==="top"){var b,A;return{top:[...((b=d==null?void 0:d.top)!=null?b:[]).filter(C=>!(u!=null&&u.has(C))),...Array.from(u)],bottom:((A=d==null?void 0:d.bottom)!=null?A:[]).filter(C=>!(u!=null&&u.has(C)))}}return{top:((g=d==null?void 0:d.top)!=null?g:[]).filter(C=>!(u!=null&&u.has(C))),bottom:((p=d==null?void 0:d.bottom)!=null?p:[]).filter(C=>!(u!=null&&u.has(C)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,a=n.some(u=>r==null?void 0:r.includes(u)),l=n.some(u=>s==null?void 0:s.includes(u));return a?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const a=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(l=>{let{id:u}=l;return u});return(r=a==null?void 0:a.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?TE():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:TE())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,a;return!!((s=r.top)!=null&&s.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(l=>{const u=e.getRow(l,!0);return u.getIsAllParentsExpanded()?u:null}):(n??[]).map(l=>t.find(u=>u.id===l))).filter(Boolean).map(l=>({...l,position:r}))},e.getTopRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),_t(e.options,"debugRows")),e.getBottomRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),_t(e.options,"debugRows")),e.getCenterRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(a=>!s.has(a.id))},_t(e.options,"debugRows"))}},sU={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:mo("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):s.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(a=>{iC(s,a.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?NE(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getFilteredSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?NE(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getGroupedSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?NE(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(a=>{var l;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return a;const u={...a};return iC(u,e.id,n,(l=r==null?void 0:r.selectChildren)!=null?l:!0,t),u})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return i2(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return oC(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return oC(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},iC=(e,t,n,r,s)=>{var a;const l=s.getRow(t,!0);n?(l.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),l.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=l.subRows)!=null&&a.length&&l.getCanSelectSubRows()&&l.subRows.forEach(u=>iC(e,u.id,n,r,s))};function NE(e,t){const n=e.getState().rowSelection,r=[],s={},a=function(l,u){return l.map(d=>{var g;const p=i2(d,n);if(p&&(r.push(d),s[d.id]=d),(g=d.subRows)!=null&&g.length&&(d={...d,subRows:a(d.subRows)}),p)return d}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:s}}function i2(e,t){var n;return(n=t[e.id])!=null?n:!1}function oC(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,a=!1;return e.subRows.forEach(l=>{if(!(a&&!s)&&(l.getCanSelect()&&(i2(l,t)?a=!0:s=!1),l.subRows&&l.subRows.length)){const u=oC(l,t);u==="all"?a=!0:(u==="some"&&(a=!0),s=!1)}}),s?"all":a?"some":!1}const sC=/([0-9]+)/gm,aU=(e,t,n)=>SM(qc(e.getValue(n)).toLowerCase(),qc(t.getValue(n)).toLowerCase()),lU=(e,t,n)=>SM(qc(e.getValue(n)),qc(t.getValue(n))),uU=(e,t,n)=>o2(qc(e.getValue(n)).toLowerCase(),qc(t.getValue(n)).toLowerCase()),cU=(e,t,n)=>o2(qc(e.getValue(n)),qc(t.getValue(n))),fU=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},dU=(e,t,n)=>o2(e.getValue(n),t.getValue(n));function o2(e,t){return e===t?0:e>t?1:-1}function qc(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function SM(e,t){const n=e.split(sC).filter(Boolean),r=t.split(sC).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),a=r.shift(),l=parseInt(s,10),u=parseInt(a,10),d=[l,u].sort();if(isNaN(d[0])){if(s>a)return 1;if(a>s)return-1;continue}if(isNaN(d[1]))return isNaN(l)?-1:1;if(l>u)return 1;if(u>l)return-1}return n.length-r.length}const _0={alphanumeric:aU,alphanumericCaseSensitive:lU,text:uU,textCaseSensitive:cU,datetime:fU,basic:dU},hU={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:mo("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const a=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return _0.datetime;if(typeof a=="string"&&(r=!0,a.split(sC).length>1))return _0.alphanumeric}return r?_0.text:_0.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return CS(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:_0[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(l=>{const u=l==null?void 0:l.find(b=>b.id===e.id),d=l==null?void 0:l.findIndex(b=>b.id===e.id);let g=[],p,m=a?n:s==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&r?u?p="toggle":p="add":l!=null&&l.length&&d!==l.length-1?p="replace":u?p="toggle":p="replace",p==="toggle"&&(a||s||(p="remove")),p==="add"){var x;g=[...l,{id:e.id,desc:m}],g.splice(0,g.length-((x=t.options.maxMultiSortColCount)!=null?x:Number.MAX_SAFE_INTEGER))}else p==="toggle"?g=l.map(b=>b.id===e.id?{...b,desc:m}:b):p==="remove"?g=l.filter(b=>b.id!==e.id):g=[{id:e.id,desc:m}];return g})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const a=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:l==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},pU=[FV,eU,XV,ZV,kV,BV,tU,nU,hU,qV,rU,iU,oU,sU,JV];function gU(e){var t,n;const r=[...pU,...(t=e._features)!=null?t:[]];let s={_features:r};const a=s._features.reduce((x,b)=>Object.assign(x,b.getDefaultOptions==null?void 0:b.getDefaultOptions(s)),{}),l=x=>s.options.mergeOptions?s.options.mergeOptions(a,x):{...a,...x};let d={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(x=>{var b;d=(b=x.getInitialState==null?void 0:x.getInitialState(d))!=null?b:d});const g=[];let p=!1;const m={_features:r,options:{...a,...e},initialState:d,_queue:x=>{g.push(x),p||(p=!0,Promise.resolve().then(()=>{for(;g.length;)g.shift()();p=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{s.setState(s.initialState)},setOptions:x=>{const b=$c(x,s.options);s.options=l(b)},getState:()=>s.options.state,setState:x=>{s.options.onStateChange==null||s.options.onStateChange(x)},_getRowId:(x,b,A)=>{var C;return(C=s.options.getRowId==null?void 0:s.options.getRowId(x,b,A))!=null?C:`${A?[A.id,b].join("."):b}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(x,b)=>{let A=(b?s.getPrePaginationRowModel():s.getRowModel()).rowsById[x];if(!A&&(A=s.getCoreRowModel().rowsById[x],!A))throw new Error;return A},_getDefaultColumnDef:Nt(()=>[s.options.defaultColumn],x=>{var b;return x=(b=x)!=null?b:{},{header:A=>{const C=A.header.column.columnDef;return C.accessorKey?C.accessorKey:C.accessorFn?C.id:null},cell:A=>{var C,w;return(C=(w=A.renderValue())==null||w.toString==null?void 0:w.toString())!=null?C:null},...s._features.reduce((A,C)=>Object.assign(A,C.getDefaultColumnDef==null?void 0:C.getDefaultColumnDef()),{}),...x}},_t(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:Nt(()=>[s._getColumnDefs()],x=>{const b=function(A,C,w){return w===void 0&&(w=0),A.map(R=>{const I=LV(s,R,w,C),N=R;return I.columns=N.columns?b(N.columns,I,w+1):[],I})};return b(x)},_t(e,"debugColumns")),getAllFlatColumns:Nt(()=>[s.getAllColumns()],x=>x.flatMap(b=>b.getFlatColumns()),_t(e,"debugColumns")),_getAllFlatColumnsById:Nt(()=>[s.getAllFlatColumns()],x=>x.reduce((b,A)=>(b[A.id]=A,b),{}),_t(e,"debugColumns")),getAllLeafColumns:Nt(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(x,b)=>{let A=x.flatMap(C=>C.getLeafColumns());return b(A)},_t(e,"debugColumns")),getColumn:x=>s._getAllFlatColumnsById()[x]};Object.assign(s,m);for(let x=0;x<s._features.length;x++){const b=s._features[x];b==null||b.createTable==null||b.createTable(s)}return s}function EM(){return e=>Nt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,a,l){a===void 0&&(a=0);const u=[];for(let g=0;g<s.length;g++){const p=n2(e,e._getRowId(s[g],g,l),s[g],g,a,void 0,l==null?void 0:l.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,u.push(p),e.options.getSubRows){var d;p.originalSubRows=e.options.getSubRows(s[g],g),(d=p.originalSubRows)!=null&&d.length&&(p.subRows=r(p.originalSubRows,a+1,p))}}return u};return n.rows=r(t),n},_t(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function mU(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function vU(e,t,n){return n.options.filterFromLeafRows?yU(e,t,n):xU(e,t,n)}function yU(e,t,n){var r;const s=[],a={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(d,g){g===void 0&&(g=0);const p=[];for(let x=0;x<d.length;x++){var m;let b=d[x];const A=n2(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(A.columnFilters=b.columnFilters,(m=b.subRows)!=null&&m.length&&g<l){if(A.subRows=u(b.subRows,g+1),b=A,t(b)&&!A.subRows.length){p.push(b),a[b.id]=b,s.push(b);continue}if(t(b)||A.subRows.length){p.push(b),a[b.id]=b,s.push(b);continue}}else b=A,t(b)&&(p.push(b),a[b.id]=b,s.push(b))}return p};return{rows:u(e),flatRows:s,rowsById:a}}function xU(e,t,n){var r;const s=[],a={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(d,g){g===void 0&&(g=0);const p=[];for(let x=0;x<d.length;x++){let b=d[x];if(t(b)){var m;if((m=b.subRows)!=null&&m.length&&g<l){const C=n2(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);C.subRows=u(b.subRows,g+1),b=C}p.push(b),s.push(b),a[b.id]=b}}return p};return{rows:u(e),flatRows:s,rowsById:a}}function AM(){return e=>Nt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let x=0;x<t.flatRows.length;x++)t.flatRows[x].columnFilters={},t.flatRows[x].columnFiltersMeta={};return t}const s=[],a=[];(n??[]).forEach(x=>{var b;const A=e.getColumn(x.id);if(!A)return;const C=A.getFilterFn();C&&s.push({id:x.id,filterFn:C,resolvedValue:(b=C.resolveFilterValue==null?void 0:C.resolveFilterValue(x.value))!=null?b:x.value})});const l=(n??[]).map(x=>x.id),u=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(x=>x.getCanGlobalFilter());r&&u&&d.length&&(l.push("__global__"),d.forEach(x=>{var b;a.push({id:x.id,filterFn:u,resolvedValue:(b=u.resolveFilterValue==null?void 0:u.resolveFilterValue(r))!=null?b:r})}));let g,p;for(let x=0;x<t.flatRows.length;x++){const b=t.flatRows[x];if(b.columnFilters={},s.length)for(let A=0;A<s.length;A++){g=s[A];const C=g.id;b.columnFilters[C]=g.filterFn(b,C,g.resolvedValue,w=>{b.columnFiltersMeta[C]=w})}if(a.length){for(let A=0;A<a.length;A++){p=a[A];const C=p.id;if(p.filterFn(b,C,p.resolvedValue,w=>{b.columnFiltersMeta[C]=w})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const m=x=>{for(let b=0;b<l.length;b++)if(x.columnFilters[l[b]]===!1)return!1;return!0};return vU(t.rows,m,e)},_t(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function wM(e){return t=>Nt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:a}=n;let{rows:l,flatRows:u,rowsById:d}=r;const g=s*a,p=g+s;l=l.slice(g,p);let m;t.options.paginateExpandedRows?m={rows:l,flatRows:u,rowsById:d}:m=mU({rows:l,flatRows:u,rowsById:d}),m.flatRows=[];const x=b=>{m.flatRows.push(b),b.subRows.length&&b.subRows.forEach(x)};return m.rows.forEach(x),m},_t(t.options,"debugTable"))}function CM(){return e=>Nt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],a=r.filter(d=>{var g;return(g=e.getColumn(d.id))==null?void 0:g.getCanSort()}),l={};a.forEach(d=>{const g=e.getColumn(d.id);g&&(l[d.id]={sortUndefined:g.columnDef.sortUndefined,invertSorting:g.columnDef.invertSorting,sortingFn:g.getSortingFn()})});const u=d=>{const g=d.map(p=>({...p}));return g.sort((p,m)=>{for(let b=0;b<a.length;b+=1){var x;const A=a[b],C=l[A.id],w=C.sortUndefined,R=(x=A==null?void 0:A.desc)!=null?x:!1;let I=0;if(w){const N=p.getValue(A.id),D=m.getValue(A.id),L=N===void 0,k=D===void 0;if(L||k){if(w==="first")return L?-1:1;if(w==="last")return L?1:-1;I=L&&k?0:L?w:-w}}if(I===0&&(I=C.sortingFn(p,m,A.id)),I!==0)return R&&(I*=-1),C.invertSorting&&(I*=-1),I}return p.index-m.index}),g.forEach(p=>{var m;s.push(p),(m=p.subRows)!=null&&m.length&&(p.subRows=u(p.subRows))}),g};return{rows:u(n.rows),flatRows:s,rowsById:n.rowsById}},_t(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function tS(e,t){return e?bU(e)?P.createElement(e,t):e:null}function bU(e){return SU(e)||typeof e=="function"||EU(e)}function SU(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function EU(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function RM(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=P.useState(()=>({current:gU(t)})),[r,s]=P.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:l=>{s(l),e.onStateChange==null||e.onStateChange(l)}})),n.current}const Eb=43200,NT=1440,_T=Symbol.for("constructDateFrom");function s2(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&_T in e?e[_T](t):e instanceof Date?new e.constructor(t):new Date(t)}function Kc(e,t){return s2(e,e)}let AU={};function wU(){return AU}function IT(e){const t=Kc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function a2(e,...t){const n=s2.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Vb(e,t){const n=+Kc(e)-+Kc(t);return n<0?-1:n>0?1:n}function CU(e){return s2(e,Date.now())}function RU(e,t,n){const[r,s]=a2(n==null?void 0:n.in,e,t),a=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return a*12+l}function TU(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function NU(e,t){return+Kc(e)-+Kc(t)}function _U(e,t){const n=Kc(e);return n.setHours(23,59,59,999),n}function IU(e,t){const n=Kc(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function OU(e,t){const n=Kc(e);return+_U(n)==+IU(n)}function DU(e,t,n){const[r,s,a]=a2(n==null?void 0:n.in,e,e,t),l=Vb(s,a),u=Math.abs(RU(s,a));if(u<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*u);let d=Vb(s,a)===-l;OU(r)&&u===1&&Vb(r,a)===1&&(d=!1);const g=l*(u-+d);return g===0?0:g}function MU(e,t,n){const r=NU(e,t)/1e3;return TU(n==null?void 0:n.roundingMethod)(r)}const PU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},LU=(e,t,n)=>{let r;const s=PU[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function _E(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const FU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},BU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jU={date:_E({formats:FU,defaultWidth:"full"}),time:_E({formats:kU,defaultWidth:"full"}),dateTime:_E({formats:BU,defaultWidth:"full"})},zU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VU=(e,t,n,r)=>zU[e];function I0(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):l;s=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[u]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const UU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$U={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qU=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},KU={ordinalNumber:qU,era:I0({values:UU,defaultWidth:"wide"}),quarter:I0({values:GU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:I0({values:$U,defaultWidth:"wide"}),day:I0({values:HU,defaultWidth:"wide"}),dayPeriod:I0({values:YU,defaultWidth:"wide",formattingValues:WU,defaultFormattingWidth:"wide"})};function O0(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const l=a[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?ZU(u,m=>m.test(l)):XU(u,m=>m.test(l));let g;g=e.valueCallback?e.valueCallback(d):d,g=n.valueCallback?n.valueCallback(g):g;const p=t.slice(l.length);return{value:g,rest:p}}}function XU(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function ZU(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function JU(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(s.length);return{value:l,rest:u}}}const QU=/^(\d+)(th|st|nd|rd)?/i,e4=/\d+/i,t4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},n4={any:[/^b/i,/^(a|c)/i]},r4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},i4={any:[/1/i,/2/i,/3/i,/4/i]},o4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},s4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},a4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},l4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},u4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},c4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},f4={ordinalNumber:JU({matchPattern:QU,parsePattern:e4,valueCallback:e=>parseInt(e,10)}),era:O0({matchPatterns:t4,defaultMatchWidth:"wide",parsePatterns:n4,defaultParseWidth:"any"}),quarter:O0({matchPatterns:r4,defaultMatchWidth:"wide",parsePatterns:i4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:O0({matchPatterns:o4,defaultMatchWidth:"wide",parsePatterns:s4,defaultParseWidth:"any"}),day:O0({matchPatterns:a4,defaultMatchWidth:"wide",parsePatterns:l4,defaultParseWidth:"any"}),dayPeriod:O0({matchPatterns:u4,defaultMatchWidth:"any",parsePatterns:c4,defaultParseWidth:"any"})},d4={code:"en-US",formatDistance:LU,formatLong:jU,formatRelative:VU,localize:KU,match:f4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function h4(e,t,n){const r=wU(),s=(n==null?void 0:n.locale)??r.locale??d4,a=2520,l=Vb(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[d,g]=a2(n==null?void 0:n.in,...l>0?[t,e]:[e,t]),p=MU(g,d),m=(IT(g)-IT(d))/1e3,x=Math.round((p-m)/60);let b;if(x<2)return n!=null&&n.includeSeconds?p<5?s.formatDistance("lessThanXSeconds",5,u):p<10?s.formatDistance("lessThanXSeconds",10,u):p<20?s.formatDistance("lessThanXSeconds",20,u):p<40?s.formatDistance("halfAMinute",0,u):p<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):x===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",x,u);if(x<45)return s.formatDistance("xMinutes",x,u);if(x<90)return s.formatDistance("aboutXHours",1,u);if(x<NT){const A=Math.round(x/60);return s.formatDistance("aboutXHours",A,u)}else{if(x<a)return s.formatDistance("xDays",1,u);if(x<Eb){const A=Math.round(x/NT);return s.formatDistance("xDays",A,u)}else if(x<Eb*2)return b=Math.round(x/Eb),s.formatDistance("aboutXMonths",b,u)}if(b=DU(g,d),b<12){const A=Math.round(x/Eb);return s.formatDistance("xMonths",A,u)}else{const A=b%12,C=Math.trunc(b/12);return A<3?s.formatDistance("aboutXYears",C,u):A<9?s.formatDistance("overXYears",C,u):s.formatDistance("almostXYears",C+1,u)}}function TM(e,t){return h4(e,CU(e),t)}function dt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function p4(e,t){const n=P.createContext(t),r=a=>{const{children:l,...u}=a,d=P.useMemo(()=>u,Object.values(u));return O.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function s(a){const l=P.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function ka(e,t=[]){let n=[];function r(a,l){const u=P.createContext(l),d=n.length;n=[...n,l];const g=m=>{var R;const{scope:x,children:b,...A}=m,C=((R=x==null?void 0:x[e])==null?void 0:R[d])||u,w=P.useMemo(()=>A,Object.values(A));return O.jsx(C.Provider,{value:w,children:b})};g.displayName=a+"Provider";function p(m,x){var C;const b=((C=x==null?void 0:x[e])==null?void 0:C[d])||u,A=P.useContext(b);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[g,p]}const s=()=>{const a=n.map(l=>P.createContext(l));return function(u){const d=(u==null?void 0:u[e])||a;return P.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,g4(s,...t)]}function g4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((u,{useScope:d,scopeName:g})=>{const m=d(a)[`__scope${g}`];return{...u,...m}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Dr=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},m4=d3[" useId ".trim().toString()]||(()=>{}),v4=0;function _a(e){const[t,n]=P.useState(m4());return Dr(()=>{n(r=>r??String(v4++))},[e]),e||(t?`radix-${t}`:"")}function vo(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function fh({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=y4({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:r,u=vo(n),d=P.useCallback(g=>{if(a){const m=typeof g=="function"?g(e):g;m!==e&&u(m)}else s(g)},[a,e,s,u]);return[l,d]}function y4({defaultProp:e,onChange:t}){const n=P.useState(e),[r]=n,s=P.useRef(r),a=vo(t);return P.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var x4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Wt=x4.reduce((e,t)=>{const n=Wc(`Primitive.${t}`),r=P.forwardRef((s,a)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(d,{...u,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function NM(e,t){e&&Na.flushSync(()=>e.dispatchEvent(t))}function b4(e,t=globalThis==null?void 0:globalThis.document){const n=vo(e);P.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var S4="DismissableLayer",aC="dismissableLayer.update",E4="dismissableLayer.pointerDownOutside",A4="dismissableLayer.focusOutside",OT,_M=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fv=P.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...d}=e,g=P.useContext(_M),[p,m]=P.useState(null),x=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=P.useState({}),A=Sn(t,j=>m(j)),C=Array.from(g.layers),[w]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),R=C.indexOf(w),I=p?C.indexOf(p):-1,N=g.layersWithOutsidePointerEventsDisabled.size>0,D=I>=R,L=R4(j=>{const B=j.target,$=[...g.branches].some(K=>K.contains(B));!D||$||(s==null||s(j),l==null||l(j),j.defaultPrevented||u==null||u())},x),k=T4(j=>{const B=j.target;[...g.branches].some(K=>K.contains(B))||(a==null||a(j),l==null||l(j),j.defaultPrevented||u==null||u())},x);return b4(j=>{I===g.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&u&&(j.preventDefault(),u()))},x),P.useEffect(()=>{if(p)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(OT=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(p)),g.layers.add(p),DT(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=OT)}},[p,x,n,g]),P.useEffect(()=>()=>{p&&(g.layers.delete(p),g.layersWithOutsidePointerEventsDisabled.delete(p),DT())},[p,g]),P.useEffect(()=>{const j=()=>b({});return document.addEventListener(aC,j),()=>document.removeEventListener(aC,j)},[]),O.jsx(Wt.div,{...d,ref:A,style:{pointerEvents:N?D?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,L.onPointerDownCapture)})});Fv.displayName=S4;var w4="DismissableLayerBranch",C4=P.forwardRef((e,t)=>{const n=P.useContext(_M),r=P.useRef(null),s=Sn(t,r);return P.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),O.jsx(Wt.div,{...e,ref:s})});C4.displayName=w4;function R4(e,t=globalThis==null?void 0:globalThis.document){const n=vo(e),r=P.useRef(!1),s=P.useRef(()=>{});return P.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let d=function(){IM(E4,n,g,{discrete:!0})};const g={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function T4(e,t=globalThis==null?void 0:globalThis.document){const n=vo(e),r=P.useRef(!1);return P.useEffect(()=>{const s=a=>{a.target&&!r.current&&IM(A4,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DT(){const e=new CustomEvent(aC);document.dispatchEvent(e)}function IM(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?NM(s,a):s.dispatchEvent(a)}var IE="focusScope.autoFocusOnMount",OE="focusScope.autoFocusOnUnmount",MT={bubbles:!1,cancelable:!0},N4="FocusScope",RS=P.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=e,[u,d]=P.useState(null),g=vo(s),p=vo(a),m=P.useRef(null),x=Sn(t,C=>d(C)),b=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let C=function(N){if(b.paused||!u)return;const D=N.target;u.contains(D)?m.current=D:_c(m.current,{select:!0})},w=function(N){if(b.paused||!u)return;const D=N.relatedTarget;D!==null&&(u.contains(D)||_c(m.current,{select:!0}))},R=function(N){if(document.activeElement===document.body)for(const L of N)L.removedNodes.length>0&&_c(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",w);const I=new MutationObserver(R);return u&&I.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",w),I.disconnect()}}},[r,u,b.paused]),P.useEffect(()=>{if(u){LT.add(b);const C=document.activeElement;if(!u.contains(C)){const R=new CustomEvent(IE,MT);u.addEventListener(IE,g),u.dispatchEvent(R),R.defaultPrevented||(_4(P4(OM(u)),{select:!0}),document.activeElement===C&&_c(u))}return()=>{u.removeEventListener(IE,g),setTimeout(()=>{const R=new CustomEvent(OE,MT);u.addEventListener(OE,p),u.dispatchEvent(R),R.defaultPrevented||_c(C??document.body,{select:!0}),u.removeEventListener(OE,p),LT.remove(b)},0)}}},[u,g,p,b]);const A=P.useCallback(C=>{if(!n&&!r||b.paused)return;const w=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,R=document.activeElement;if(w&&R){const I=C.currentTarget,[N,D]=I4(I);N&&D?!C.shiftKey&&R===D?(C.preventDefault(),n&&_c(N,{select:!0})):C.shiftKey&&R===N&&(C.preventDefault(),n&&_c(D,{select:!0})):R===I&&C.preventDefault()}},[n,r,b.paused]);return O.jsx(Wt.div,{tabIndex:-1,...l,ref:x,onKeyDown:A})});RS.displayName=N4;function _4(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(_c(r,{select:t}),document.activeElement!==n)return}function I4(e){const t=OM(e),n=PT(t,e),r=PT(t.reverse(),e);return[n,r]}function OM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function PT(e,t){for(const n of e)if(!O4(n,{upTo:t}))return n}function O4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function D4(e){return e instanceof HTMLInputElement&&"select"in e}function _c(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&D4(e)&&t&&e.select()}}var LT=M4();function M4(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=FT(e,t),e.unshift(t)},remove(t){var n;e=FT(e,t),(n=e[0])==null||n.resume()}}}function FT(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function P4(e){return e.filter(t=>t.tagName!=="A")}var L4="Portal",kv=P.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,a]=P.useState(!1);Dr(()=>a(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?_3.createPortal(O.jsx(Wt.div,{...r,ref:t}),l):null});kv.displayName=L4;function F4(e,t){return P.useReducer((n,r)=>t[n][r]??n,e)}var Ba=e=>{const{present:t,children:n}=e,r=k4(t),s=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),a=Sn(r.ref,B4(s));return typeof n=="function"||r.isPresent?P.cloneElement(s,{ref:a}):null};Ba.displayName="Presence";function k4(e){const[t,n]=P.useState(),r=P.useRef({}),s=P.useRef(e),a=P.useRef("none"),l=e?"mounted":"unmounted",[u,d]=F4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const g=Ab(r.current);a.current=u==="mounted"?g:"none"},[u]),Dr(()=>{const g=r.current,p=s.current;if(p!==e){const x=a.current,b=Ab(g);e?d("MOUNT"):b==="none"||(g==null?void 0:g.display)==="none"?d("UNMOUNT"):d(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Dr(()=>{if(t){let g;const p=t.ownerDocument.defaultView??window,m=b=>{const C=Ab(r.current).includes(b.animationName);if(b.target===t&&C&&(d("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},x=b=>{b.target===t&&(a.current=Ab(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:P.useCallback(g=>{g&&(r.current=getComputedStyle(g)),n(g)},[])}}function Ab(e){return(e==null?void 0:e.animationName)||"none"}function B4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var DE=0;function l2(){P.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??kT()),document.body.insertAdjacentElement("beforeend",e[1]??kT()),DE++,()=>{DE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),DE--}},[])}function kT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var wa=function(){return wa=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},wa.apply(this,arguments)};function DM(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function j4(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Ub="right-scroll-bar-position",Gb="width-before-scroll-bar",z4="with-scroll-bars-hidden",V4="--removed-body-scroll-bar-size";function ME(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function U4(e,t){var n=P.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var G4=typeof window<"u"?P.useLayoutEffect:P.useEffect,BT=new WeakMap;function $4(e,t){var n=U4(null,function(r){return e.forEach(function(s){return ME(s,r)})});return G4(function(){var r=BT.get(n);if(r){var s=new Set(r),a=new Set(e),l=n.current;s.forEach(function(u){a.has(u)||ME(u,null)}),a.forEach(function(u){s.has(u)||ME(u,l)})}BT.set(n,e)},[e]),n}function H4(e){return e}function Y4(e,t){t===void 0&&(t=H4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var l=t(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var d=function(){var p=l;l=[],p.forEach(a)},g=function(){return Promise.resolve().then(d)};g(),n={push:function(p){l.push(p),g()},filter:function(p){return l=l.filter(p),n}}}};return s}function W4(e){e===void 0&&(e={});var t=Y4(null);return t.options=wa({async:!0,ssr:!1},e),t}var MM=function(e){var t=e.sideCar,n=DM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,wa({},n))};MM.isSideCarExport=!0;function q4(e,t){return e.useMedium(t),MM}var PM=W4(),PE=function(){},TS=P.forwardRef(function(e,t){var n=P.useRef(null),r=P.useState({onScrollCapture:PE,onWheelCapture:PE,onTouchMoveCapture:PE}),s=r[0],a=r[1],l=e.forwardProps,u=e.children,d=e.className,g=e.removeScrollBar,p=e.enabled,m=e.shards,x=e.sideCar,b=e.noIsolation,A=e.inert,C=e.allowPinchZoom,w=e.as,R=w===void 0?"div":w,I=e.gapMode,N=DM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,L=$4([n,t]),k=wa(wa({},N),s);return P.createElement(P.Fragment,null,p&&P.createElement(D,{sideCar:PM,removeScrollBar:g,shards:m,noIsolation:b,inert:A,setCallbacks:a,allowPinchZoom:!!C,lockRef:n,gapMode:I}),l?P.cloneElement(P.Children.only(u),wa(wa({},k),{ref:L})):P.createElement(R,wa({},k,{className:d,ref:L}),u))});TS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};TS.classNames={fullWidth:Gb,zeroRight:Ub};var K4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function X4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=K4();return t&&e.setAttribute("nonce",t),e}function Z4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function J4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Q4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=X4())&&(Z4(t,n),J4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},e9=function(){var e=Q4();return function(t,n){P.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},LM=function(){var e=e9(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},t9={left:0,top:0,right:0,gap:0},LE=function(e){return parseInt(e||"",10)||0},n9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[LE(n),LE(r),LE(s)]},r9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return t9;var t=n9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},i9=LM(),Wp="data-scroll-locked",o9=function(e,t,n,r){var s=e.left,a=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(z4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Wp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ub,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Gb,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Ub," .").concat(Ub,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gb," .").concat(Gb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wp,`] {
    `).concat(V4,": ").concat(u,`px;
  }
`)},jT=function(){var e=parseInt(document.body.getAttribute(Wp)||"0",10);return isFinite(e)?e:0},s9=function(){P.useEffect(function(){return document.body.setAttribute(Wp,(jT()+1).toString()),function(){var e=jT()-1;e<=0?document.body.removeAttribute(Wp):document.body.setAttribute(Wp,e.toString())}},[])},a9=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;s9();var a=P.useMemo(function(){return r9(s)},[s]);return P.createElement(i9,{styles:o9(a,!t,s,n?"":"!important")})},lC=!1;if(typeof window<"u")try{var wb=Object.defineProperty({},"passive",{get:function(){return lC=!0,!0}});window.addEventListener("test",wb,wb),window.removeEventListener("test",wb,wb)}catch{lC=!1}var Bp=lC?{passive:!1}:!1,l9=function(e){return e.tagName==="TEXTAREA"},FM=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!l9(e)&&n[t]==="visible")},u9=function(e){return FM(e,"overflowY")},c9=function(e){return FM(e,"overflowX")},zT=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=kM(e,r);if(s){var a=BM(e,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},f9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},d9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},kM=function(e,t){return e==="v"?u9(t):c9(t)},BM=function(e,t){return e==="v"?f9(t):d9(t)},h9=function(e,t){return e==="h"&&t==="rtl"?-1:1},p9=function(e,t,n,r,s){var a=h9(e,window.getComputedStyle(t).direction),l=a*r,u=n.target,d=t.contains(u),g=!1,p=l>0,m=0,x=0;do{var b=BM(e,u),A=b[0],C=b[1],w=b[2],R=C-w-a*A;(A||R)&&kM(e,u)&&(m+=R,x+=A),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(g=!0),g},Cb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},VT=function(e){return[e.deltaX,e.deltaY]},UT=function(e){return e&&"current"in e?e.current:e},g9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},m9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},v9=0,jp=[];function y9(e){var t=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),s=P.useState(v9++)[0],a=P.useState(LM)[0],l=P.useRef(e);P.useEffect(function(){l.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var C=j4([e.lockRef.current],(e.shards||[]).map(UT),!0).filter(Boolean);return C.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=P.useCallback(function(C,w){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var R=Cb(C),I=n.current,N="deltaX"in C?C.deltaX:I[0]-R[0],D="deltaY"in C?C.deltaY:I[1]-R[1],L,k=C.target,j=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in C&&j==="h"&&k.type==="range")return!1;var B=zT(j,k);if(!B)return!0;if(B?L=j:(L=j==="v"?"h":"v",B=zT(j,k)),!B)return!1;if(!r.current&&"changedTouches"in C&&(N||D)&&(r.current=L),!L)return!0;var $=r.current||L;return p9($,w,C,$==="h"?N:D)},[]),d=P.useCallback(function(C){var w=C;if(!(!jp.length||jp[jp.length-1]!==a)){var R="deltaY"in w?VT(w):Cb(w),I=t.current.filter(function(L){return L.name===w.type&&(L.target===w.target||w.target===L.shadowParent)&&g9(L.delta,R)})[0];if(I&&I.should){w.cancelable&&w.preventDefault();return}if(!I){var N=(l.current.shards||[]).map(UT).filter(Boolean).filter(function(L){return L.contains(w.target)}),D=N.length>0?u(w,N[0]):!l.current.noIsolation;D&&w.cancelable&&w.preventDefault()}}},[]),g=P.useCallback(function(C,w,R,I){var N={name:C,delta:w,target:R,should:I,shadowParent:x9(R)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(D){return D!==N})},1)},[]),p=P.useCallback(function(C){n.current=Cb(C),r.current=void 0},[]),m=P.useCallback(function(C){g(C.type,VT(C),C.target,u(C,e.lockRef.current))},[]),x=P.useCallback(function(C){g(C.type,Cb(C),C.target,u(C,e.lockRef.current))},[]);P.useEffect(function(){return jp.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",d,Bp),document.addEventListener("touchmove",d,Bp),document.addEventListener("touchstart",p,Bp),function(){jp=jp.filter(function(C){return C!==a}),document.removeEventListener("wheel",d,Bp),document.removeEventListener("touchmove",d,Bp),document.removeEventListener("touchstart",p,Bp)}},[]);var b=e.removeScrollBar,A=e.inert;return P.createElement(P.Fragment,null,A?P.createElement(a,{styles:m9(s)}):null,b?P.createElement(a9,{gapMode:e.gapMode}):null)}function x9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const b9=q4(PM,y9);var NS=P.forwardRef(function(e,t){return P.createElement(TS,wa({},e,{ref:t,sideCar:b9}))});NS.classNames=TS.classNames;var S9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zp=new WeakMap,Rb=new WeakMap,Tb={},FE=0,jM=function(e){return e&&(e.host||jM(e.parentNode))},E9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=jM(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},A9=function(e,t,n,r){var s=E9(t,Array.isArray(e)?e:[e]);Tb[n]||(Tb[n]=new WeakMap);var a=Tb[n],l=[],u=new Set,d=new Set(s),g=function(m){!m||u.has(m)||(u.add(m),g(m.parentNode))};s.forEach(g);var p=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(x){if(u.has(x))p(x);else try{var b=x.getAttribute(r),A=b!==null&&b!=="false",C=(zp.get(x)||0)+1,w=(a.get(x)||0)+1;zp.set(x,C),a.set(x,w),l.push(x),C===1&&A&&Rb.set(x,!0),w===1&&x.setAttribute(n,"true"),A||x.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",x,R)}})};return p(t),u.clear(),FE++,function(){l.forEach(function(m){var x=zp.get(m)-1,b=a.get(m)-1;zp.set(m,x),a.set(m,b),x||(Rb.has(m)||m.removeAttribute(r),Rb.delete(m)),b||m.removeAttribute(n)}),FE--,FE||(zp=new WeakMap,zp=new WeakMap,Rb=new WeakMap,Tb={})}},u2=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=S9(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),A9(r,s,n,"aria-hidden")):function(){return null}},c2="Dialog",[zM,sZ]=ka(c2),[w9,Ps]=zM(c2),VM=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,u=P.useRef(null),d=P.useRef(null),[g=!1,p]=fh({prop:r,defaultProp:s,onChange:a});return O.jsx(w9,{scope:t,triggerRef:u,contentRef:d,contentId:_a(),titleId:_a(),descriptionId:_a(),open:g,onOpenChange:p,onOpenToggle:P.useCallback(()=>p(m=>!m),[p]),modal:l,children:n})};VM.displayName=c2;var UM="DialogTrigger",GM=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ps(UM,n),a=Sn(t,s.triggerRef);return O.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":h2(s.open),...r,ref:a,onClick:dt(e.onClick,s.onOpenToggle)})});GM.displayName=UM;var f2="DialogPortal",[C9,$M]=zM(f2,{forceMount:void 0}),HM=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Ps(f2,t);return O.jsx(C9,{scope:t,forceMount:n,children:P.Children.map(r,l=>O.jsx(Ba,{present:n||a.open,children:O.jsx(kv,{asChild:!0,container:s,children:l})}))})};HM.displayName=f2;var nS="DialogOverlay",YM=P.forwardRef((e,t)=>{const n=$M(nS,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ps(nS,e.__scopeDialog);return a.modal?O.jsx(Ba,{present:r||a.open,children:O.jsx(T9,{...s,ref:t})}):null});YM.displayName=nS;var R9=Wc("DialogOverlay.RemoveScroll"),T9=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ps(nS,n);return O.jsx(NS,{as:R9,allowPinchZoom:!0,shards:[s.contentRef],children:O.jsx(Wt.div,{"data-state":h2(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),dh="DialogContent",WM=P.forwardRef((e,t)=>{const n=$M(dh,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ps(dh,e.__scopeDialog);return O.jsx(Ba,{present:r||a.open,children:a.modal?O.jsx(N9,{...s,ref:t}):O.jsx(_9,{...s,ref:t})})});WM.displayName=dh;var N9=P.forwardRef((e,t)=>{const n=Ps(dh,e.__scopeDialog),r=P.useRef(null),s=Sn(t,n.contentRef,r);return P.useEffect(()=>{const a=r.current;if(a)return u2(a)},[]),O.jsx(qM,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,a=>a.preventDefault())})}),_9=P.forwardRef((e,t)=>{const n=Ps(dh,e.__scopeDialog),r=P.useRef(!1),s=P.useRef(!1);return O.jsx(qM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,a),a.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var d,g;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((g=n.triggerRef.current)==null?void 0:g.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),qM=P.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=e,u=Ps(dh,n),d=P.useRef(null),g=Sn(t,d);return l2(),O.jsxs(O.Fragment,{children:[O.jsx(RS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:O.jsx(Fv,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":h2(u.open),...l,ref:g,onDismiss:()=>u.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(I9,{titleId:u.titleId}),O.jsx(D9,{contentRef:d,descriptionId:u.descriptionId})]})]})}),d2="DialogTitle",KM=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ps(d2,n);return O.jsx(Wt.h2,{id:s.titleId,...r,ref:t})});KM.displayName=d2;var XM="DialogDescription",ZM=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ps(XM,n);return O.jsx(Wt.p,{id:s.descriptionId,...r,ref:t})});ZM.displayName=XM;var JM="DialogClose",QM=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ps(JM,n);return O.jsx(Wt.button,{type:"button",...r,ref:t,onClick:dt(e.onClick,()=>s.onOpenChange(!1))})});QM.displayName=JM;function h2(e){return e?"open":"closed"}var eP="DialogTitleWarning",[aZ,tP]=p4(eP,{contentName:dh,titleName:d2,docsSlug:"dialog"}),I9=({titleId:e})=>{const t=tP(eP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return P.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},O9="DialogDescriptionWarning",D9=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tP(O9).contentName}}.`;return P.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},nP=VM,M9=GM,rP=HM,iP=YM,oP=WM,sP=KM,aP=ZM,lP=QM;function Bv({...e}){return O.jsx(nP,{"data-slot":"dialog",...e})}function P9({...e}){return O.jsx(M9,{"data-slot":"dialog-trigger",...e})}function L9({...e}){return O.jsx(rP,{"data-slot":"dialog-portal",...e})}function F9({className:e,...t}){return O.jsx(iP,{"data-slot":"dialog-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function jv({className:e,children:t,...n}){return O.jsxs(L9,{children:[O.jsx(F9,{}),O.jsxs(oP,{"data-slot":"dialog-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,O.jsxs(lP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:size-4",children:[O.jsx(Z3,{}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function zv({className:e,...t}){return O.jsx("div",{"data-slot":"dialog-header",className:St("flex flex-col gap-2 text-center sm:text-left",e),...t})}function k9({className:e,...t}){return O.jsx("div",{"data-slot":"dialog-footer",className:St("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Vv({className:e,...t}){return O.jsx(sP,{"data-slot":"dialog-title",className:St("text-lg font-semibold leading-none",e),...t})}function Uv({className:e,...t}){return O.jsx(aP,{"data-slot":"dialog-description",className:St("text-muted-foreground text-sm",e),...t})}function p2(e){const t=e+"CollectionProvider",[n,r]=ka(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:w,children:R}=C,I=Ke.useRef(null),N=Ke.useRef(new Map).current;return O.jsx(s,{scope:w,itemMap:N,collectionRef:I,children:R})};l.displayName=t;const u=e+"CollectionSlot",d=Wc(u),g=Ke.forwardRef((C,w)=>{const{scope:R,children:I}=C,N=a(u,R),D=Sn(w,N.collectionRef);return O.jsx(d,{ref:D,children:I})});g.displayName=u;const p=e+"CollectionItemSlot",m="data-radix-collection-item",x=Wc(p),b=Ke.forwardRef((C,w)=>{const{scope:R,children:I,...N}=C,D=Ke.useRef(null),L=Sn(w,D),k=a(p,R);return Ke.useEffect(()=>(k.itemMap.set(D,{ref:D,...N}),()=>void k.itemMap.delete(D))),O.jsx(x,{[m]:"",ref:L,children:I})});b.displayName=p;function A(C){const w=a(e+"CollectionConsumer",C);return Ke.useCallback(()=>{const I=w.collectionRef.current;if(!I)return[];const N=Array.from(I.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((k,j)=>N.indexOf(k.ref.current)-N.indexOf(j.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:g,ItemSlot:b},A,r]}var B9=P.createContext(void 0);function g2(e){const t=P.useContext(B9);return e||t||"ltr"}const j9=["top","right","bottom","left"],Xc=Math.min,po=Math.max,rS=Math.round,Nb=Math.floor,Ia=e=>({x:e,y:e}),z9={left:"right",right:"left",bottom:"top",top:"bottom"},V9={start:"end",end:"start"};function uC(e,t,n){return po(e,Xc(t,n))}function Tu(e,t){return typeof e=="function"?e(t):e}function Nu(e){return e.split("-")[0]}function Ag(e){return e.split("-")[1]}function m2(e){return e==="x"?"y":"x"}function v2(e){return e==="y"?"height":"width"}function Zc(e){return["top","bottom"].includes(Nu(e))?"y":"x"}function y2(e){return m2(Zc(e))}function U9(e,t,n){n===void 0&&(n=!1);const r=Ag(e),s=y2(e),a=v2(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=iS(l)),[l,iS(l)]}function G9(e){const t=iS(e);return[cC(e),t,cC(t)]}function cC(e){return e.replace(/start|end/g,t=>V9[t])}function $9(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:l;default:return[]}}function H9(e,t,n,r){const s=Ag(e);let a=$9(Nu(e),n==="start",r);return s&&(a=a.map(l=>l+"-"+s),t&&(a=a.concat(a.map(cC)))),a}function iS(e){return e.replace(/left|right|bottom|top/g,t=>z9[t])}function Y9(e){return{top:0,right:0,bottom:0,left:0,...e}}function uP(e){return typeof e!="number"?Y9(e):{top:e,right:e,bottom:e,left:e}}function oS(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function GT(e,t,n){let{reference:r,floating:s}=e;const a=Zc(t),l=y2(t),u=v2(l),d=Nu(t),g=a==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,x=r[u]/2-s[u]/2;let b;switch(d){case"top":b={x:p,y:r.y-s.height};break;case"bottom":b={x:p,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-s.width,y:m};break;default:b={x:r.x,y:r.y}}switch(Ag(t)){case"start":b[l]-=x*(n&&g?-1:1);break;case"end":b[l]+=x*(n&&g?-1:1);break}return b}const W9=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let g=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:m}=GT(g,r,d),x=r,b={},A=0;for(let C=0;C<u.length;C++){const{name:w,fn:R}=u[C],{x:I,y:N,data:D,reset:L}=await R({x:p,y:m,initialPlacement:r,placement:x,strategy:s,middlewareData:b,rects:g,platform:l,elements:{reference:e,floating:t}});p=I??p,m=N??m,b={...b,[w]:{...b[w],...D}},L&&A<=50&&(A++,typeof L=="object"&&(L.placement&&(x=L.placement),L.rects&&(g=L.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):L.rects),{x:p,y:m}=GT(g,x,d)),C=-1)}return{x:p,y:m,placement:x,strategy:s,middlewareData:b}};async function Sv(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:l,elements:u,strategy:d}=e,{boundary:g="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=Tu(t,e),A=uP(b),w=u[x?m==="floating"?"reference":"floating":m],R=oS(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:g,rootBoundary:p,strategy:d})),I=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),D=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},L=oS(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:I,offsetParent:N,strategy:d}):I);return{top:(R.top-L.top+A.top)/D.y,bottom:(L.bottom-R.bottom+A.bottom)/D.y,left:(R.left-L.left+A.left)/D.x,right:(L.right-R.right+A.right)/D.x}}const q9=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:l,elements:u,middlewareData:d}=t,{element:g,padding:p=0}=Tu(e,t)||{};if(g==null)return{};const m=uP(p),x={x:n,y:r},b=y2(s),A=v2(b),C=await l.getDimensions(g),w=b==="y",R=w?"top":"left",I=w?"bottom":"right",N=w?"clientHeight":"clientWidth",D=a.reference[A]+a.reference[b]-x[b]-a.floating[A],L=x[b]-a.reference[b],k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(g));let j=k?k[N]:0;(!j||!await(l.isElement==null?void 0:l.isElement(k)))&&(j=u.floating[N]||a.floating[A]);const B=D/2-L/2,$=j/2-C[A]/2-1,K=Xc(m[R],$),ne=Xc(m[I],$),re=K,Se=j-C[A]-ne,Me=j/2-C[A]/2+B,Oe=uC(re,Me,Se),ie=!d.arrow&&Ag(s)!=null&&Me!==Oe&&a.reference[A]/2-(Me<re?K:ne)-C[A]/2<0,Ee=ie?Me<re?Me-re:Me-Se:0;return{[b]:x[b]+Ee,data:{[b]:Oe,centerOffset:Me-Oe-Ee,...ie&&{alignmentOffset:Ee}},reset:ie}}}),K9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:u,platform:d,elements:g}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:C=!0,...w}=Tu(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const R=Nu(s),I=Zc(u),N=Nu(u)===u,D=await(d.isRTL==null?void 0:d.isRTL(g.floating)),L=x||(N||!C?[iS(u)]:G9(u)),k=A!=="none";!x&&k&&L.push(...H9(u,C,A,D));const j=[u,...L],B=await Sv(t,w),$=[];let K=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&$.push(B[R]),m){const Me=U9(s,l,D);$.push(B[Me[0]],B[Me[1]])}if(K=[...K,{placement:s,overflows:$}],!$.every(Me=>Me<=0)){var ne,re;const Me=(((ne=a.flip)==null?void 0:ne.index)||0)+1,Oe=j[Me];if(Oe)return{data:{index:Me,overflows:K},reset:{placement:Oe}};let ie=(re=K.filter(Ee=>Ee.overflows[0]<=0).sort((Ee,de)=>Ee.overflows[1]-de.overflows[1])[0])==null?void 0:re.placement;if(!ie)switch(b){case"bestFit":{var Se;const Ee=(Se=K.filter(de=>{if(k){const ue=Zc(de.placement);return ue===I||ue==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(ue=>ue>0).reduce((ue,X)=>ue+X,0)]).sort((de,ue)=>de[1]-ue[1])[0])==null?void 0:Se[0];Ee&&(ie=Ee);break}case"initialPlacement":ie=u;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function $T(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function HT(e){return j9.some(t=>e[t]>=0)}const X9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Tu(e,t);switch(r){case"referenceHidden":{const a=await Sv(t,{...s,elementContext:"reference"}),l=$T(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:HT(l)}}}case"escaped":{const a=await Sv(t,{...s,altBoundary:!0}),l=$T(a,n.floating);return{data:{escapedOffsets:l,escaped:HT(l)}}}default:return{}}}}};async function Z9(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Nu(n),u=Ag(n),d=Zc(n)==="y",g=["left","top"].includes(l)?-1:1,p=a&&d?-1:1,m=Tu(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:A}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof A=="number"&&(b=u==="end"?A*-1:A),d?{x:b*p,y:x*g}:{x:x*g,y:b*p}}const J9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:l,middlewareData:u}=t,d=await Z9(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:a+d.y,data:{...d,placement:l}}}}},Q9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:w=>{let{x:R,y:I}=w;return{x:R,y:I}}},...d}=Tu(e,t),g={x:n,y:r},p=await Sv(t,d),m=Zc(Nu(s)),x=m2(m);let b=g[x],A=g[m];if(a){const w=x==="y"?"top":"left",R=x==="y"?"bottom":"right",I=b+p[w],N=b-p[R];b=uC(I,b,N)}if(l){const w=m==="y"?"top":"left",R=m==="y"?"bottom":"right",I=A+p[w],N=A-p[R];A=uC(I,A,N)}const C=u.fn({...t,[x]:b,[m]:A});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[x]:a,[m]:l}}}}}},e6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:g=!0}=Tu(e,t),p={x:n,y:r},m=Zc(s),x=m2(m);let b=p[x],A=p[m];const C=Tu(u,t),w=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const N=x==="y"?"height":"width",D=a.reference[x]-a.floating[N]+w.mainAxis,L=a.reference[x]+a.reference[N]-w.mainAxis;b<D?b=D:b>L&&(b=L)}if(g){var R,I;const N=x==="y"?"width":"height",D=["top","left"].includes(Nu(s)),L=a.reference[m]-a.floating[N]+(D&&((R=l.offset)==null?void 0:R[m])||0)+(D?0:w.crossAxis),k=a.reference[m]+a.reference[N]+(D?0:((I=l.offset)==null?void 0:I[m])||0)-(D?w.crossAxis:0);A<L?A=L:A>k&&(A=k)}return{[x]:b,[m]:A}}}},t6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:l,elements:u}=t,{apply:d=()=>{},...g}=Tu(e,t),p=await Sv(t,g),m=Nu(s),x=Ag(s),b=Zc(s)==="y",{width:A,height:C}=a.floating;let w,R;m==="top"||m==="bottom"?(w=m,R=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(R=m,w=x==="end"?"top":"bottom");const I=C-p.top-p.bottom,N=A-p.left-p.right,D=Xc(C-p[w],I),L=Xc(A-p[R],N),k=!t.middlewareData.shift;let j=D,B=L;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=I),k&&!x){const K=po(p.left,0),ne=po(p.right,0),re=po(p.top,0),Se=po(p.bottom,0);b?B=A-2*(K!==0||ne!==0?K+ne:po(p.left,p.right)):j=C-2*(re!==0||Se!==0?re+Se:po(p.top,p.bottom))}await d({...t,availableWidth:B,availableHeight:j});const $=await l.getDimensions(u.floating);return A!==$.width||C!==$.height?{reset:{rects:!0}}:{}}}};function _S(){return typeof window<"u"}function wg(e){return cP(e)?(e.nodeName||"").toLowerCase():"#document"}function go(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ja(e){var t;return(t=(cP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cP(e){return _S()?e instanceof Node||e instanceof go(e).Node:!1}function Is(e){return _S()?e instanceof Element||e instanceof go(e).Element:!1}function Da(e){return _S()?e instanceof HTMLElement||e instanceof go(e).HTMLElement:!1}function YT(e){return!_S()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof go(e).ShadowRoot}function Gv(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Os(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function n6(e){return["table","td","th"].includes(wg(e))}function IS(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function x2(e){const t=b2(),n=Is(e)?Os(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function r6(e){let t=Jc(e);for(;Da(t)&&!fg(t);){if(x2(t))return t;if(IS(t))return null;t=Jc(t)}return null}function b2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fg(e){return["html","body","#document"].includes(wg(e))}function Os(e){return go(e).getComputedStyle(e)}function OS(e){return Is(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jc(e){if(wg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||YT(e)&&e.host||ja(e);return YT(t)?t.host:t}function fP(e){const t=Jc(e);return fg(t)?e.ownerDocument?e.ownerDocument.body:e.body:Da(t)&&Gv(t)?t:fP(t)}function Ev(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=fP(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),l=go(s);if(a){const u=fC(l);return t.concat(l,l.visualViewport||[],Gv(s)?s:[],u&&n?Ev(u):[])}return t.concat(s,Ev(s,[],n))}function fC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dP(e){const t=Os(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Da(e),a=s?e.offsetWidth:n,l=s?e.offsetHeight:r,u=rS(n)!==a||rS(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function S2(e){return Is(e)?e:e.contextElement}function qp(e){const t=S2(e);if(!Da(t))return Ia(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=dP(t);let l=(a?rS(n.width):n.width)/r,u=(a?rS(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const i6=Ia(0);function hP(e){const t=go(e);return!b2()||!t.visualViewport?i6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function o6(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==go(e)?!1:t}function hh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=S2(e);let l=Ia(1);t&&(r?Is(r)&&(l=qp(r)):l=qp(e));const u=o6(a,n,r)?hP(a):Ia(0);let d=(s.left+u.x)/l.x,g=(s.top+u.y)/l.y,p=s.width/l.x,m=s.height/l.y;if(a){const x=go(a),b=r&&Is(r)?go(r):r;let A=x,C=fC(A);for(;C&&r&&b!==A;){const w=qp(C),R=C.getBoundingClientRect(),I=Os(C),N=R.left+(C.clientLeft+parseFloat(I.paddingLeft))*w.x,D=R.top+(C.clientTop+parseFloat(I.paddingTop))*w.y;d*=w.x,g*=w.y,p*=w.x,m*=w.y,d+=N,g+=D,A=go(C),C=fC(A)}}return oS({width:p,height:m,x:d,y:g})}function E2(e,t){const n=OS(e).scrollLeft;return t?t.left+n:hh(ja(e)).left+n}function pP(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:E2(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function s6(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",l=ja(r),u=t?IS(t.floating):!1;if(r===l||u&&a)return n;let d={scrollLeft:0,scrollTop:0},g=Ia(1);const p=Ia(0),m=Da(r);if((m||!m&&!a)&&((wg(r)!=="body"||Gv(l))&&(d=OS(r)),Da(r))){const b=hh(r);g=qp(r),p.x=b.x+r.clientLeft,p.y=b.y+r.clientTop}const x=l&&!m&&!a?pP(l,d,!0):Ia(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-d.scrollLeft*g.x+p.x+x.x,y:n.y*g.y-d.scrollTop*g.y+p.y+x.y}}function a6(e){return Array.from(e.getClientRects())}function l6(e){const t=ja(e),n=OS(e),r=e.ownerDocument.body,s=po(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=po(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+E2(e);const u=-n.scrollTop;return Os(r).direction==="rtl"&&(l+=po(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:u}}function u6(e,t){const n=go(e),r=ja(e),s=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,d=0;if(s){a=s.width,l=s.height;const g=b2();(!g||g&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:a,height:l,x:u,y:d}}function c6(e,t){const n=hh(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Da(e)?qp(e):Ia(1),l=e.clientWidth*a.x,u=e.clientHeight*a.y,d=s*a.x,g=r*a.y;return{width:l,height:u,x:d,y:g}}function WT(e,t,n){let r;if(t==="viewport")r=u6(e,n);else if(t==="document")r=l6(ja(e));else if(Is(t))r=c6(t,n);else{const s=hP(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return oS(r)}function gP(e,t){const n=Jc(e);return n===t||!Is(n)||fg(n)?!1:Os(n).position==="fixed"||gP(n,t)}function f6(e,t){const n=t.get(e);if(n)return n;let r=Ev(e,[],!1).filter(u=>Is(u)&&wg(u)!=="body"),s=null;const a=Os(e).position==="fixed";let l=a?Jc(e):e;for(;Is(l)&&!fg(l);){const u=Os(l),d=x2(l);!d&&u.position==="fixed"&&(s=null),(a?!d&&!s:!d&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Gv(l)&&!d&&gP(e,l))?r=r.filter(p=>p!==l):s=u,l=Jc(l)}return t.set(e,r),r}function d6(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const l=[...n==="clippingAncestors"?IS(t)?[]:f6(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((g,p)=>{const m=WT(t,p,s);return g.top=po(m.top,g.top),g.right=Xc(m.right,g.right),g.bottom=Xc(m.bottom,g.bottom),g.left=po(m.left,g.left),g},WT(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function h6(e){const{width:t,height:n}=dP(e);return{width:t,height:n}}function p6(e,t,n){const r=Da(t),s=ja(t),a=n==="fixed",l=hh(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const d=Ia(0);if(r||!r&&!a)if((wg(t)!=="body"||Gv(s))&&(u=OS(t)),r){const x=hh(t,!0,a,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else s&&(d.x=E2(s));const g=s&&!r&&!a?pP(s,u):Ia(0),p=l.left+u.scrollLeft-d.x-g.x,m=l.top+u.scrollTop-d.y-g.y;return{x:p,y:m,width:l.width,height:l.height}}function kE(e){return Os(e).position==="static"}function qT(e,t){if(!Da(e)||Os(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ja(e)===n&&(n=n.ownerDocument.body),n}function mP(e,t){const n=go(e);if(IS(e))return n;if(!Da(e)){let s=Jc(e);for(;s&&!fg(s);){if(Is(s)&&!kE(s))return s;s=Jc(s)}return n}let r=qT(e,t);for(;r&&n6(r)&&kE(r);)r=qT(r,t);return r&&fg(r)&&kE(r)&&!x2(r)?n:r||r6(e)||n}const g6=async function(e){const t=this.getOffsetParent||mP,n=this.getDimensions,r=await n(e.floating);return{reference:p6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function m6(e){return Os(e).direction==="rtl"}const v6={convertOffsetParentRelativeRectToViewportRelativeRect:s6,getDocumentElement:ja,getClippingRect:d6,getOffsetParent:mP,getElementRects:g6,getClientRects:a6,getDimensions:h6,getScale:qp,isElement:Is,isRTL:m6};function vP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function y6(e,t){let n=null,r;const s=ja(e);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const g=e.getBoundingClientRect(),{left:p,top:m,width:x,height:b}=g;if(u||t(),!x||!b)return;const A=Nb(m),C=Nb(s.clientWidth-(p+x)),w=Nb(s.clientHeight-(m+b)),R=Nb(p),N={rootMargin:-A+"px "+-C+"px "+-w+"px "+-R+"px",threshold:po(0,Xc(1,d))||1};let D=!0;function L(k){const j=k[0].intersectionRatio;if(j!==d){if(!D)return l();j?l(!1,j):r=setTimeout(()=>{l(!1,1e-7)},1e3)}j===1&&!vP(g,e.getBoundingClientRect())&&l(),D=!1}try{n=new IntersectionObserver(L,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,N)}n.observe(e)}return l(!0),a}function x6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,g=S2(e),p=s||a?[...g?Ev(g):[],...Ev(t)]:[];p.forEach(R=>{s&&R.addEventListener("scroll",n,{passive:!0}),a&&R.addEventListener("resize",n)});const m=g&&u?y6(g,n):null;let x=-1,b=null;l&&(b=new ResizeObserver(R=>{let[I]=R;I&&I.target===g&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(t)})),n()}),g&&!d&&b.observe(g),b.observe(t));let A,C=d?hh(e):null;d&&w();function w(){const R=hh(e);C&&!vP(C,R)&&n(),C=R,A=requestAnimationFrame(w)}return n(),()=>{var R;p.forEach(I=>{s&&I.removeEventListener("scroll",n),a&&I.removeEventListener("resize",n)}),m==null||m(),(R=b)==null||R.disconnect(),b=null,d&&cancelAnimationFrame(A)}}const b6=J9,S6=Q9,E6=K9,A6=t6,w6=X9,KT=q9,C6=e6,R6=(e,t,n)=>{const r=new Map,s={platform:v6,...n},a={...s.platform,_c:r};return W9(e,t,{...s,platform:a})};var $b=typeof document<"u"?P.useLayoutEffect:P.useEffect;function sS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!sS(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!sS(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function yP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function XT(e,t){const n=yP(e);return Math.round(t*n)/n}function BE(e){const t=P.useRef(e);return $b(()=>{t.current=e}),t}function T6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:d,open:g}=e,[p,m]=P.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=P.useState(r);sS(x,r)||b(r);const[A,C]=P.useState(null),[w,R]=P.useState(null),I=P.useCallback(de=>{de!==k.current&&(k.current=de,C(de))},[]),N=P.useCallback(de=>{de!==j.current&&(j.current=de,R(de))},[]),D=a||A,L=l||w,k=P.useRef(null),j=P.useRef(null),B=P.useRef(p),$=d!=null,K=BE(d),ne=BE(s),re=BE(g),Se=P.useCallback(()=>{if(!k.current||!j.current)return;const de={placement:t,strategy:n,middleware:x};ne.current&&(de.platform=ne.current),R6(k.current,j.current,de).then(ue=>{const X={...ue,isPositioned:re.current!==!1};Me.current&&!sS(B.current,X)&&(B.current=X,Na.flushSync(()=>{m(X)}))})},[x,t,n,ne,re]);$b(()=>{g===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,m(de=>({...de,isPositioned:!1})))},[g]);const Me=P.useRef(!1);$b(()=>(Me.current=!0,()=>{Me.current=!1}),[]),$b(()=>{if(D&&(k.current=D),L&&(j.current=L),D&&L){if(K.current)return K.current(D,L,Se);Se()}},[D,L,Se,K,$]);const Oe=P.useMemo(()=>({reference:k,floating:j,setReference:I,setFloating:N}),[I,N]),ie=P.useMemo(()=>({reference:D,floating:L}),[D,L]),Ee=P.useMemo(()=>{const de={position:n,left:0,top:0};if(!ie.floating)return de;const ue=XT(ie.floating,p.x),X=XT(ie.floating,p.y);return u?{...de,transform:"translate("+ue+"px, "+X+"px)",...yP(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ue,top:X}},[n,u,ie.floating,p.x,p.y]);return P.useMemo(()=>({...p,update:Se,refs:Oe,elements:ie,floatingStyles:Ee}),[p,Se,Oe,ie,Ee])}const N6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?KT({element:r.current,padding:s}).fn(n):{}:r?KT({element:r,padding:s}).fn(n):{}}}},_6=(e,t)=>({...b6(e),options:[e,t]}),I6=(e,t)=>({...S6(e),options:[e,t]}),O6=(e,t)=>({...C6(e),options:[e,t]}),D6=(e,t)=>({...E6(e),options:[e,t]}),M6=(e,t)=>({...A6(e),options:[e,t]}),P6=(e,t)=>({...w6(e),options:[e,t]}),L6=(e,t)=>({...N6(e),options:[e,t]});var F6="Arrow",xP=P.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return O.jsx(Wt.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:O.jsx("polygon",{points:"0,0 30,0 15,10"})})});xP.displayName=F6;var k6=xP;function bP(e){const[t,n]=P.useState(void 0);return Dr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,u;if("borderBoxSize"in a){const d=a.borderBoxSize,g=Array.isArray(d)?d[0]:d;l=g.inlineSize,u=g.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var A2="Popper",[SP,Cg]=ka(A2),[B6,EP]=SP(A2),AP=e=>{const{__scopePopper:t,children:n}=e,[r,s]=P.useState(null);return O.jsx(B6,{scope:t,anchor:r,onAnchorChange:s,children:n})};AP.displayName=A2;var wP="PopperAnchor",CP=P.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=EP(wP,n),l=P.useRef(null),u=Sn(t,l);return P.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:O.jsx(Wt.div,{...s,ref:u})});CP.displayName=wP;var w2="PopperContent",[j6,z6]=SP(w2),RP=P.forwardRef((e,t)=>{var Q,Z,J,se,ye,xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:g=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:A,...C}=e,w=EP(w2,n),[R,I]=P.useState(null),N=Sn(t,ae=>I(ae)),[D,L]=P.useState(null),k=bP(D),j=(k==null?void 0:k.width)??0,B=(k==null?void 0:k.height)??0,$=r+(a!=="center"?"-"+a:""),K=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ne=Array.isArray(g)?g:[g],re=ne.length>0,Se={padding:K,boundary:ne.filter(U6),altBoundary:re},{refs:Me,floatingStyles:Oe,placement:ie,isPositioned:Ee,middlewareData:de}=T6({strategy:"fixed",placement:$,whileElementsMounted:(...ae)=>x6(...ae,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[_6({mainAxis:s+B,alignmentAxis:l}),d&&I6({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?O6():void 0,...Se}),d&&D6({...Se}),M6({...Se,apply:({elements:ae,rects:le,availableWidth:we,availableHeight:Ie})=>{const{width:je,height:Ve}=le.reference,me=ae.floating.style;me.setProperty("--radix-popper-available-width",`${we}px`),me.setProperty("--radix-popper-available-height",`${Ie}px`),me.setProperty("--radix-popper-anchor-width",`${je}px`),me.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),D&&L6({element:D,padding:u}),G6({arrowWidth:j,arrowHeight:B}),x&&P6({strategy:"referenceHidden",...Se})]}),[ue,X]=_P(ie),oe=vo(A);Dr(()=>{Ee&&(oe==null||oe())},[Ee,oe]);const he=(Q=de.arrow)==null?void 0:Q.x,z=(Z=de.arrow)==null?void 0:Z.y,V=((J=de.arrow)==null?void 0:J.centerOffset)!==0,[G,Y]=P.useState();return Dr(()=>{R&&Y(window.getComputedStyle(R).zIndex)},[R]),O.jsx("div",{ref:Me.setFloating,"data-radix-popper-content-wrapper":"",style:{...Oe,transform:Ee?Oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(se=de.transformOrigin)==null?void 0:se.x,(ye=de.transformOrigin)==null?void 0:ye.y].join(" "),...((xe=de.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:O.jsx(j6,{scope:n,placedSide:ue,onArrowChange:L,arrowX:he,arrowY:z,shouldHideArrow:V,children:O.jsx(Wt.div,{"data-side":ue,"data-align":X,...C,ref:N,style:{...C.style,animation:Ee?void 0:"none"}})})})});RP.displayName=w2;var TP="PopperArrow",V6={top:"bottom",right:"left",bottom:"top",left:"right"},NP=P.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=z6(TP,r),l=V6[a.placedSide];return O.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:O.jsx(k6,{...s,ref:n,style:{...s.style,display:"block"}})})});NP.displayName=TP;function U6(e){return e!==null}var G6=e=>({name:"transformOrigin",options:e,fn(t){var w,R,I;const{placement:n,rects:r,middlewareData:s}=t,l=((w=s.arrow)==null?void 0:w.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[g,p]=_P(n),m={start:"0%",center:"50%",end:"100%"}[p],x=(((R=s.arrow)==null?void 0:R.x)??0)+u/2,b=(((I=s.arrow)==null?void 0:I.y)??0)+d/2;let A="",C="";return g==="bottom"?(A=l?m:`${x}px`,C=`${-d}px`):g==="top"?(A=l?m:`${x}px`,C=`${r.floating.height+d}px`):g==="right"?(A=`${-d}px`,C=l?m:`${b}px`):g==="left"&&(A=`${r.floating.width+d}px`,C=l?m:`${b}px`),{data:{x:A,y:C}}}});function _P(e){const[t,n="center"]=e.split("-");return[t,n]}var C2=AP,R2=CP,T2=RP,N2=NP,jE="rovingFocusGroup.onEntryFocus",$6={bubbles:!1,cancelable:!0},DS="RovingFocusGroup",[dC,IP,H6]=p2(DS),[Y6,OP]=ka(DS,[H6]),[W6,q6]=Y6(DS),DP=P.forwardRef((e,t)=>O.jsx(dC.Provider,{scope:e.__scopeRovingFocusGroup,children:O.jsx(dC.Slot,{scope:e.__scopeRovingFocusGroup,children:O.jsx(K6,{...e,ref:t})})}));DP.displayName=DS;var K6=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:g,preventScrollOnEntryFocus:p=!1,...m}=e,x=P.useRef(null),b=Sn(t,x),A=g2(a),[C=null,w]=fh({prop:l,defaultProp:u,onChange:d}),[R,I]=P.useState(!1),N=vo(g),D=IP(n),L=P.useRef(!1),[k,j]=P.useState(0);return P.useEffect(()=>{const B=x.current;if(B)return B.addEventListener(jE,N),()=>B.removeEventListener(jE,N)},[N]),O.jsx(W6,{scope:n,orientation:r,dir:A,loop:s,currentTabStopId:C,onItemFocus:P.useCallback(B=>w(B),[w]),onItemShiftTab:P.useCallback(()=>I(!0),[]),onFocusableItemAdd:P.useCallback(()=>j(B=>B+1),[]),onFocusableItemRemove:P.useCallback(()=>j(B=>B-1),[]),children:O.jsx(Wt.div,{tabIndex:R||k===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{L.current=!0}),onFocus:dt(e.onFocus,B=>{const $=!L.current;if(B.target===B.currentTarget&&$&&!R){const K=new CustomEvent(jE,$6);if(B.currentTarget.dispatchEvent(K),!K.defaultPrevented){const ne=D().filter(ie=>ie.focusable),re=ne.find(ie=>ie.active),Se=ne.find(ie=>ie.id===C),Oe=[re,Se,...ne].filter(Boolean).map(ie=>ie.ref.current);LP(Oe,p)}}L.current=!1}),onBlur:dt(e.onBlur,()=>I(!1))})})}),MP="RovingFocusGroupItem",PP=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...l}=e,u=_a(),d=a||u,g=q6(MP,n),p=g.currentTabStopId===d,m=IP(n),{onFocusableItemAdd:x,onFocusableItemRemove:b}=g;return P.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),O.jsx(dC.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:O.jsx(Wt.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...l,ref:t,onMouseDown:dt(e.onMouseDown,A=>{r?g.onItemFocus(d):A.preventDefault()}),onFocus:dt(e.onFocus,()=>g.onItemFocus(d)),onKeyDown:dt(e.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){g.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const C=J6(A,g.orientation,g.dir);if(C!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let R=m().filter(I=>I.focusable).map(I=>I.ref.current);if(C==="last")R.reverse();else if(C==="prev"||C==="next"){C==="prev"&&R.reverse();const I=R.indexOf(A.currentTarget);R=g.loop?Q6(R,I+1):R.slice(I+1)}setTimeout(()=>LP(R))}})})})});PP.displayName=MP;var X6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Z6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function J6(e,t,n){const r=Z6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return X6[r]}function LP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Q6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var eG=DP,tG=PP,hC=["Enter"," "],nG=["ArrowDown","PageUp","Home"],FP=["ArrowUp","PageDown","End"],rG=[...nG,...FP],iG={ltr:[...hC,"ArrowRight"],rtl:[...hC,"ArrowLeft"]},oG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$v="Menu",[Av,sG,aG]=p2($v),[mh,kP]=ka($v,[aG,Cg,OP]),MS=Cg(),BP=OP(),[lG,vh]=mh($v),[uG,Hv]=mh($v),jP=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:l=!0}=e,u=MS(t),[d,g]=P.useState(null),p=P.useRef(!1),m=vo(a),x=g2(s);return P.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),O.jsx(C2,{...u,children:O.jsx(lG,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:g,children:O.jsx(uG,{scope:t,onClose:P.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:x,modal:l,children:r})})})};jP.displayName=$v;var cG="MenuAnchor",_2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=MS(n);return O.jsx(R2,{...s,...r,ref:t})});_2.displayName=cG;var I2="MenuPortal",[fG,zP]=mh(I2,{forceMount:void 0}),VP=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=vh(I2,t);return O.jsx(fG,{scope:t,forceMount:n,children:O.jsx(Ba,{present:n||a.open,children:O.jsx(kv,{asChild:!0,container:s,children:r})})})};VP.displayName=I2;var Go="MenuContent",[dG,O2]=mh(Go),UP=P.forwardRef((e,t)=>{const n=zP(Go,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=vh(Go,e.__scopeMenu),l=Hv(Go,e.__scopeMenu);return O.jsx(Av.Provider,{scope:e.__scopeMenu,children:O.jsx(Ba,{present:r||a.open,children:O.jsx(Av.Slot,{scope:e.__scopeMenu,children:l.modal?O.jsx(hG,{...s,ref:t}):O.jsx(pG,{...s,ref:t})})})})}),hG=P.forwardRef((e,t)=>{const n=vh(Go,e.__scopeMenu),r=P.useRef(null),s=Sn(t,r);return P.useEffect(()=>{const a=r.current;if(a)return u2(a)},[]),O.jsx(D2,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:dt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pG=P.forwardRef((e,t)=>{const n=vh(Go,e.__scopeMenu);return O.jsx(D2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),gG=Wc("MenuContent.ScrollLock"),D2=P.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,disableOutsideScroll:A,...C}=e,w=vh(Go,n),R=Hv(Go,n),I=MS(n),N=BP(n),D=sG(n),[L,k]=P.useState(null),j=P.useRef(null),B=Sn(t,j,w.onContentChange),$=P.useRef(0),K=P.useRef(""),ne=P.useRef(0),re=P.useRef(null),Se=P.useRef("right"),Me=P.useRef(0),Oe=A?NS:P.Fragment,ie=A?{as:gG,allowPinchZoom:!0}:void 0,Ee=ue=>{var Q,Z;const X=K.current+ue,oe=D().filter(J=>!J.disabled),he=document.activeElement,z=(Q=oe.find(J=>J.ref.current===he))==null?void 0:Q.textValue,V=oe.map(J=>J.textValue),G=TG(V,X,z),Y=(Z=oe.find(J=>J.textValue===G))==null?void 0:Z.ref.current;(function J(se){K.current=se,window.clearTimeout($.current),se!==""&&($.current=window.setTimeout(()=>J(""),1e3))})(X),Y&&setTimeout(()=>Y.focus())};P.useEffect(()=>()=>window.clearTimeout($.current),[]),l2();const de=P.useCallback(ue=>{var oe,he;return Se.current===((oe=re.current)==null?void 0:oe.side)&&_G(ue,(he=re.current)==null?void 0:he.area)},[]);return O.jsx(dG,{scope:n,searchRef:K,onItemEnter:P.useCallback(ue=>{de(ue)&&ue.preventDefault()},[de]),onItemLeave:P.useCallback(ue=>{var X;de(ue)||((X=j.current)==null||X.focus(),k(null))},[de]),onTriggerLeave:P.useCallback(ue=>{de(ue)&&ue.preventDefault()},[de]),pointerGraceTimerRef:ne,onPointerGraceIntentChange:P.useCallback(ue=>{re.current=ue},[]),children:O.jsx(Oe,{...ie,children:O.jsx(RS,{asChild:!0,trapped:s,onMountAutoFocus:dt(a,ue=>{var X;ue.preventDefault(),(X=j.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:O.jsx(Fv,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,children:O.jsx(eG,{asChild:!0,...N,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:L,onCurrentTabStopIdChange:k,onEntryFocus:dt(d,ue=>{R.isUsingKeyboardRef.current||ue.preventDefault()}),preventScrollOnEntryFocus:!0,children:O.jsx(T2,{role:"menu","aria-orientation":"vertical","data-state":iL(w.open),"data-radix-menu-content":"",dir:R.dir,...I,...C,ref:B,style:{outline:"none",...C.style},onKeyDown:dt(C.onKeyDown,ue=>{const oe=ue.target.closest("[data-radix-menu-content]")===ue.currentTarget,he=ue.ctrlKey||ue.altKey||ue.metaKey,z=ue.key.length===1;oe&&(ue.key==="Tab"&&ue.preventDefault(),!he&&z&&Ee(ue.key));const V=j.current;if(ue.target!==V||!rG.includes(ue.key))return;ue.preventDefault();const Y=D().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);FP.includes(ue.key)&&Y.reverse(),CG(Y)}),onBlur:dt(e.onBlur,ue=>{ue.currentTarget.contains(ue.target)||(window.clearTimeout($.current),K.current="")}),onPointerMove:dt(e.onPointerMove,wv(ue=>{const X=ue.target,oe=Me.current!==ue.clientX;if(ue.currentTarget.contains(X)&&oe){const he=ue.clientX>Me.current?"right":"left";Se.current=he,Me.current=ue.clientX}}))})})})})})})});UP.displayName=Go;var mG="MenuGroup",M2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Wt.div,{role:"group",...r,ref:t})});M2.displayName=mG;var vG="MenuLabel",GP=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Wt.div,{...r,ref:t})});GP.displayName=vG;var aS="MenuItem",ZT="menu.itemSelect",PS=P.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=P.useRef(null),l=Hv(aS,e.__scopeMenu),u=O2(aS,e.__scopeMenu),d=Sn(t,a),g=P.useRef(!1),p=()=>{const m=a.current;if(!n&&m){const x=new CustomEvent(ZT,{bubbles:!0,cancelable:!0});m.addEventListener(ZT,b=>r==null?void 0:r(b),{once:!0}),NM(m,x),x.defaultPrevented?g.current=!1:l.onClose()}};return O.jsx($P,{...s,ref:d,disabled:n,onClick:dt(e.onClick,p),onPointerDown:m=>{var x;(x=e.onPointerDown)==null||x.call(e,m),g.current=!0},onPointerUp:dt(e.onPointerUp,m=>{var x;g.current||(x=m.currentTarget)==null||x.click()}),onKeyDown:dt(e.onKeyDown,m=>{const x=u.searchRef.current!=="";n||x&&m.key===" "||hC.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});PS.displayName=aS;var $P=P.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,l=O2(aS,n),u=BP(n),d=P.useRef(null),g=Sn(t,d),[p,m]=P.useState(!1),[x,b]=P.useState("");return P.useEffect(()=>{const A=d.current;A&&b((A.textContent??"").trim())},[a.children]),O.jsx(Av.ItemSlot,{scope:n,disabled:r,textValue:s??x,children:O.jsx(tG,{asChild:!0,...u,focusable:!r,children:O.jsx(Wt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:g,onPointerMove:dt(e.onPointerMove,wv(A=>{r?l.onItemLeave(A):(l.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:dt(e.onPointerLeave,wv(A=>l.onItemLeave(A))),onFocus:dt(e.onFocus,()=>m(!0)),onBlur:dt(e.onBlur,()=>m(!1))})})})}),yG="MenuCheckboxItem",HP=P.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return O.jsx(XP,{scope:e.__scopeMenu,checked:n,children:O.jsx(PS,{role:"menuitemcheckbox","aria-checked":lS(n)?"mixed":n,...s,ref:t,"data-state":L2(n),onSelect:dt(s.onSelect,()=>r==null?void 0:r(lS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});HP.displayName=yG;var YP="MenuRadioGroup",[xG,bG]=mh(YP,{value:void 0,onValueChange:()=>{}}),WP=P.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=vo(r);return O.jsx(xG,{scope:e.__scopeMenu,value:n,onValueChange:a,children:O.jsx(M2,{...s,ref:t})})});WP.displayName=YP;var qP="MenuRadioItem",KP=P.forwardRef((e,t)=>{const{value:n,...r}=e,s=bG(qP,e.__scopeMenu),a=n===s.value;return O.jsx(XP,{scope:e.__scopeMenu,checked:a,children:O.jsx(PS,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":L2(a),onSelect:dt(r.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,n)},{checkForDefaultPrevented:!1})})})});KP.displayName=qP;var P2="MenuItemIndicator",[XP,SG]=mh(P2,{checked:!1}),ZP=P.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=SG(P2,n);return O.jsx(Ba,{present:r||lS(a.checked)||a.checked===!0,children:O.jsx(Wt.span,{...s,ref:t,"data-state":L2(a.checked)})})});ZP.displayName=P2;var EG="MenuSeparator",JP=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Wt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});JP.displayName=EG;var AG="MenuArrow",QP=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=MS(n);return O.jsx(N2,{...s,...r,ref:t})});QP.displayName=AG;var wG="MenuSub",[lZ,eL]=mh(wG),iv="MenuSubTrigger",tL=P.forwardRef((e,t)=>{const n=vh(iv,e.__scopeMenu),r=Hv(iv,e.__scopeMenu),s=eL(iv,e.__scopeMenu),a=O2(iv,e.__scopeMenu),l=P.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=a,g={__scopeMenu:e.__scopeMenu},p=P.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return P.useEffect(()=>p,[p]),P.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),d(null)}},[u,d]),O.jsx(_2,{asChild:!0,...g,children:O.jsx($P,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":iL(n.open),...e,ref:AS(t,s.onTriggerChange),onClick:m=>{var x;(x=e.onClick)==null||x.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:dt(e.onPointerMove,wv(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:dt(e.onPointerLeave,wv(m=>{var b,A;p();const x=(b=n.content)==null?void 0:b.getBoundingClientRect();if(x){const C=(A=n.content)==null?void 0:A.dataset.side,w=C==="right",R=w?-5:5,I=x[w?"left":"right"],N=x[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+R,y:m.clientY},{x:I,y:x.top},{x:N,y:x.top},{x:N,y:x.bottom},{x:I,y:x.bottom}],side:C}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:dt(e.onKeyDown,m=>{var b;const x=a.searchRef.current!=="";e.disabled||x&&m.key===" "||iG[r.dir].includes(m.key)&&(n.onOpenChange(!0),(b=n.content)==null||b.focus(),m.preventDefault())})})})});tL.displayName=iv;var nL="MenuSubContent",rL=P.forwardRef((e,t)=>{const n=zP(Go,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=vh(Go,e.__scopeMenu),l=Hv(Go,e.__scopeMenu),u=eL(nL,e.__scopeMenu),d=P.useRef(null),g=Sn(t,d);return O.jsx(Av.Provider,{scope:e.__scopeMenu,children:O.jsx(Ba,{present:r||a.open,children:O.jsx(Av.Slot,{scope:e.__scopeMenu,children:O.jsx(D2,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:g,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var m;l.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:dt(e.onFocusOutside,p=>{p.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:dt(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:dt(e.onKeyDown,p=>{var b;const m=p.currentTarget.contains(p.target),x=oG[l.dir].includes(p.key);m&&x&&(a.onOpenChange(!1),(b=u.trigger)==null||b.focus(),p.preventDefault())})})})})})});rL.displayName=nL;function iL(e){return e?"open":"closed"}function lS(e){return e==="indeterminate"}function L2(e){return lS(e)?"indeterminate":e?"checked":"unchecked"}function CG(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function RG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function TG(e,t,n){const s=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=RG(e,Math.max(a,0));s.length===1&&(l=l.filter(g=>g!==n));const d=l.find(g=>g.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function NG(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const u=t[a].x,d=t[a].y,g=t[l].x,p=t[l].y;d>r!=p>r&&n<(g-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function _G(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return NG(n,t)}function wv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var IG=jP,OG=_2,DG=VP,MG=UP,PG=M2,LG=GP,FG=PS,kG=HP,BG=WP,jG=KP,zG=ZP,VG=JP,UG=QP,GG=tL,$G=rL,F2="DropdownMenu",[HG,uZ]=ka(F2,[kP]),Ii=kP(),[YG,oL]=HG(F2),sL=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:l,modal:u=!0}=e,d=Ii(t),g=P.useRef(null),[p=!1,m]=fh({prop:s,defaultProp:a,onChange:l});return O.jsx(YG,{scope:t,triggerId:_a(),triggerRef:g,contentId:_a(),open:p,onOpenChange:m,onOpenToggle:P.useCallback(()=>m(x=>!x),[m]),modal:u,children:O.jsx(IG,{...d,open:p,onOpenChange:m,dir:r,modal:u,children:n})})};sL.displayName=F2;var aL="DropdownMenuTrigger",lL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=oL(aL,n),l=Ii(n);return O.jsx(OG,{asChild:!0,...l,children:O.jsx(Wt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:AS(t,a.triggerRef),onPointerDown:dt(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:dt(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});lL.displayName=aL;var WG="DropdownMenuPortal",uL=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ii(t);return O.jsx(DG,{...r,...n})};uL.displayName=WG;var cL="DropdownMenuContent",fL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=oL(cL,n),a=Ii(n),l=P.useRef(!1);return O.jsx(MG,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:dt(e.onCloseAutoFocus,u=>{var d;l.current||(d=s.triggerRef.current)==null||d.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:dt(e.onInteractOutside,u=>{const d=u.detail.originalEvent,g=d.button===0&&d.ctrlKey===!0,p=d.button===2||g;(!s.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fL.displayName=cL;var qG="DropdownMenuGroup",KG=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(PG,{...s,...r,ref:t})});KG.displayName=qG;var XG="DropdownMenuLabel",dL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(LG,{...s,...r,ref:t})});dL.displayName=XG;var ZG="DropdownMenuItem",hL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(FG,{...s,...r,ref:t})});hL.displayName=ZG;var JG="DropdownMenuCheckboxItem",QG=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(kG,{...s,...r,ref:t})});QG.displayName=JG;var e$="DropdownMenuRadioGroup",t$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(BG,{...s,...r,ref:t})});t$.displayName=e$;var n$="DropdownMenuRadioItem",r$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(jG,{...s,...r,ref:t})});r$.displayName=n$;var i$="DropdownMenuItemIndicator",o$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(zG,{...s,...r,ref:t})});o$.displayName=i$;var s$="DropdownMenuSeparator",pL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(VG,{...s,...r,ref:t})});pL.displayName=s$;var a$="DropdownMenuArrow",l$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(UG,{...s,...r,ref:t})});l$.displayName=a$;var u$="DropdownMenuSubTrigger",c$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx(GG,{...s,...r,ref:t})});c$.displayName=u$;var f$="DropdownMenuSubContent",d$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ii(n);return O.jsx($G,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});d$.displayName=f$;var h$=sL,p$=lL,g$=uL,m$=fL,v$=dL,y$=hL,x$=pL;function Ca({...e}){return O.jsx(h$,{"data-slot":"dropdown-menu",...e})}function Ra({...e}){return O.jsx(p$,{"data-slot":"dropdown-menu-trigger",...e})}function Ta({className:e,sideOffset:t=4,...n}){return O.jsx(g$,{children:O.jsx(m$,{"data-slot":"dropdown-menu-content",sideOffset:t,className:St("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function yr({className:e,inset:t,variant:n="default",...r}){return O.jsx(y$,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:St("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function b$({className:e,inset:t,...n}){return O.jsx(v$,{"data-slot":"dropdown-menu-label","data-inset":t,className:St("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function k2({className:e,...t}){return O.jsx(x$,{"data-slot":"dropdown-menu-separator",className:St("bg-border -mx-1 my-1 h-px",e),...t})}function Ti({className:e,type:t,...n}){return O.jsx("input",{type:t,"data-slot":"input",className:St("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var S$="Label",gL=P.forwardRef((e,t)=>O.jsx(Wt.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gL.displayName=S$;var E$=gL;function _r({className:e,...t}){return O.jsx(E$,{"data-slot":"label",className:St("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function mL({className:e,...t}){return O.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:O.jsx("table",{"data-slot":"table",className:St("w-full caption-bottom text-sm",e),...t})})}function vL({className:e,...t}){return O.jsx("thead",{"data-slot":"table-header",className:St("[&_tr]:border-b",e),...t})}function yL({className:e,...t}){return O.jsx("tbody",{"data-slot":"table-body",className:St("[&_tr:last-child]:border-0",e),...t})}function Kp({className:e,...t}){return O.jsx("tr",{"data-slot":"table-row",className:St("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function xL({className:e,...t}){return O.jsx("th",{"data-slot":"table-head",className:St("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function uS({className:e,...t}){return O.jsx("td",{"data-slot":"table-cell",className:St("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function A$({data:e}){var I,N;const t=Lv(),n=$C(),r=[{accessorKey:"id",header:"ID",enableHiding:!0},{accessorKey:"title",header:"Title",cell:({row:D})=>O.jsx("div",{className:"capitalize",children:D.getValue("title")})},{accessorKey:"createdAt",header:()=>O.jsx("div",{className:"text-right",children:"Created At"}),cell:({row:D})=>{const L=D.getValue("createdAt"),k=TM(new Date(L),{includeSeconds:!0,addSuffix:!0});return O.jsx("div",{className:"text-right font-medium",children:k})}},{id:"actions",enableHiding:!1,cell:({row:D})=>O.jsxs(Ca,{children:[O.jsx(Ra,{asChild:!0,children:O.jsxs(er,{variant:"ghost",className:"h-8 w-8 p-0",children:[O.jsx("span",{className:"sr-only",children:"Open menu"}),O.jsx(H3,{})]})}),O.jsxs(Ta,{align:"end",children:[O.jsxs(yr,{onClick:L=>{L.stopPropagation(),a({id:String(D.getValue("id")),title:D.getValue("title")})},children:[O.jsx(q3,{className:"mr-2 h-4 w-4"}),"Rename"]}),O.jsxs(yr,{className:"text-red-500 focus:text-red-500",onClick:L=>{L.stopPropagation(),u.mutate(String(D.getValue("id")))},children:[O.jsx(X3,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}],[s,a]=P.useState(null),l=zb({mutationFn:async D=>await NV(D),onSuccess:D=>n(`/${D.id}`)}),u=zb({mutationFn:async D=>await OV(D),onSuccess:()=>t.invalidateQueries({queryKey:["documents"]})}),d=zb({mutationFn:async({id:D,title:L})=>await dM(D,L),onSuccess:()=>{t.invalidateQueries({queryKey:["documents"]}),a(null)}}),[g,p]=P.useState([]),[m,x]=P.useState([]),[b,A]=P.useState({id:!1}),[C,w]=P.useState({}),R=RM({data:e,columns:r,onSortingChange:p,onColumnFiltersChange:x,getCoreRowModel:EM(),getPaginationRowModel:wM(),getSortedRowModel:CM(),getFilteredRowModel:AM(),onColumnVisibilityChange:A,onRowSelectionChange:w,state:{sorting:g,columnFilters:m,columnVisibility:b,rowSelection:C}});return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex items-center justify-between py-4",children:[O.jsx(Ti,{placeholder:"Filter by title...",value:((I=R.getColumn("title"))==null?void 0:I.getFilterValue())??"",onChange:D=>{var L;return(L=R.getColumn("title"))==null?void 0:L.setFilterValue(D.target.value)},className:"max-w-sm"}),O.jsxs(er,{onClick:()=>{l.mutate({title:"New Document"})},className:"flex items-center gap-2",children:[O.jsx(K3,{className:"w-4 h-4"}),"New Document"]})]}),O.jsx("div",{className:"rounded-md border",children:O.jsxs(mL,{children:[O.jsx(vL,{children:R.getHeaderGroups().map(D=>O.jsx(Kp,{children:D.headers.map(L=>O.jsx(xL,{children:L.isPlaceholder?null:tS(L.column.columnDef.header,L.getContext())},L.id))},D.id))}),O.jsx(yL,{children:(N=R.getRowModel().rows)!=null&&N.length?R.getRowModel().rows.map(D=>O.jsx(Kp,{"data-state":D.getIsSelected()&&"selected",className:"cursor-pointer hover:bg-muted",onClick:L=>{L.target.closest("input, button")||n(`/${D.getValue("id")}`)},children:D.getVisibleCells().map(L=>O.jsx(uS,{children:tS(L.column.columnDef.cell,L.getContext())},L.id))},D.id)):O.jsx(Kp,{children:O.jsx(uS,{colSpan:r.length,className:"h-24 text-center",children:"No results."})})})]})}),O.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[O.jsx("div",{className:"flex-1"}),O.jsxs("div",{className:"space-x-2",children:[O.jsx(er,{variant:"outline",size:"sm",onClick:()=>R.previousPage(),disabled:!R.getCanPreviousPage(),children:"Previous"}),O.jsx(er,{variant:"outline",size:"sm",onClick:()=>R.nextPage(),disabled:!R.getCanNextPage(),children:"Next"})]})]}),O.jsx(Bv,{open:s!==null,onOpenChange:D=>{D||a(null)},children:O.jsx(jv,{className:"sm:max-w-md",children:O.jsxs("form",{onSubmit:D=>{if(D.preventDefault(),!s)return;const k=new FormData(D.target).get("title");k.trim()&&d.mutate({id:s.id,title:k.trim()})},children:[O.jsxs(zv,{children:[O.jsx(Vv,{children:"Rename Document"}),O.jsx(Uv,{children:"Enter a new name for this document."})]}),O.jsx("div",{className:"grid gap-4 py-2",children:O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"rename-title",children:"Title"}),O.jsx(Ti,{id:"rename-title",name:"title",defaultValue:(s==null?void 0:s.title)??"",autoFocus:!0},s==null?void 0:s.id)]})}),O.jsxs(k9,{children:[O.jsx(er,{type:"button",variant:"outline",onClick:()=>a(null),children:"Cancel"}),O.jsx(er,{type:"submit",disabled:d.isPending,children:"Rename"})]})]})})})]})}function w$(){const{data:e=[],isLoading:t,isError:n}=Fa({queryKey:["documents"],queryFn:_V});return t?O.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:O.jsx("p",{className:"text-gray-500 text-lg",children:"Loading documents..."})}):n?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[O.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load documents."}),O.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):O.jsx("div",{className:"p-4",children:O.jsx(A$,{data:e})})}var ov={exports:{}},C$=ov.exports,JT;function R$(){return JT||(JT=1,function(e,t){var n={};(function(r,s){s(t,c3(),bS())})(C$,function(r,s,a){var l;(function(h){h[h.Canceled=1]="Canceled",h[h.Unknown=2]="Unknown",h[h.InvalidArgument=3]="InvalidArgument",h[h.DeadlineExceeded=4]="DeadlineExceeded",h[h.NotFound=5]="NotFound",h[h.AlreadyExists=6]="AlreadyExists",h[h.PermissionDenied=7]="PermissionDenied",h[h.ResourceExhausted=8]="ResourceExhausted",h[h.FailedPrecondition=9]="FailedPrecondition",h[h.Aborted=10]="Aborted",h[h.OutOfRange=11]="OutOfRange",h[h.Unimplemented=12]="Unimplemented",h[h.Internal=13]="Internal",h[h.Unavailable=14]="Unavailable",h[h.DataLoss=15]="DataLoss",h[h.Unauthenticated=16]="Unauthenticated"})(l||(l={}));function u(h,i){return h!==null&&typeof h=="object"&&"$typeName"in h&&typeof h.$typeName=="string"?i===void 0?!0:i.typeName===h.$typeName:!1}var d;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(d||(d={}));function g(){let h=0,i=0;for(let v=0;v<28;v+=7){let E=this.buf[this.pos++];if(h|=(E&127)<<v,(E&128)==0)return this.assertBounds(),[h,i]}let c=this.buf[this.pos++];if(h|=(c&15)<<28,i=(c&112)>>4,(c&128)==0)return this.assertBounds(),[h,i];for(let v=3;v<=31;v+=7){let E=this.buf[this.pos++];if(i|=(E&127)<<v,(E&128)==0)return this.assertBounds(),[h,i]}throw new Error("invalid varint")}function p(h,i,c){for(let _=0;_<28;_=_+7){const F=h>>>_,U=!(!(F>>>7)&&i==0),W=(U?F|128:F)&255;if(c.push(W),!U)return}const v=h>>>28&15|(i&7)<<4,E=i>>3!=0;if(c.push((E?v|128:v)&255),!!E){for(let _=3;_<31;_=_+7){const F=i>>>_,U=!!(F>>>7),W=(U?F|128:F)&255;if(c.push(W),!U)return}c.push(i>>>31&1)}}const m=4294967296;function x(h){const i=h[0]==="-";i&&(h=h.slice(1));const c=1e6;let v=0,E=0;function _(F,U){const W=Number(h.slice(F,U));E*=c,v=v*c+W,v>=m&&(E=E+(v/m|0),v=v%m)}return _(-24,-18),_(-18,-12),_(-12,-6),_(-6),i?R(v,E):w(v,E)}function b(h,i){let c=w(h,i);const v=c.hi&2147483648;v&&(c=R(c.lo,c.hi));const E=A(c.lo,c.hi);return v?"-"+E:E}function A(h,i){if({lo:h,hi:i}=C(h,i),i<=2097151)return String(m*i+h);const c=h&16777215,v=(h>>>24|i<<8)&16777215,E=i>>16&65535;let _=c+v*6777216+E*6710656,F=v+E*8147497,U=E*2;const W=1e7;return _>=W&&(F+=Math.floor(_/W),_%=W),F>=W&&(U+=Math.floor(F/W),F%=W),U.toString()+I(F)+I(_)}function C(h,i){return{lo:h>>>0,hi:i>>>0}}function w(h,i){return{lo:h|0,hi:i|0}}function R(h,i){return i=~i,h?h=~h+1:i+=1,w(h,i)}const I=h=>{const i=String(h);return"0000000".slice(i.length)+i};function N(h,i){if(h>=0){for(;h>127;)i.push(h&127|128),h=h>>>7;i.push(h)}else{for(let c=0;c<9;c++)i.push(h&127|128),h=h>>7;i.push(1)}}function D(){let h=this.buf[this.pos++],i=h&127;if((h&128)==0)return this.assertBounds(),i;if(h=this.buf[this.pos++],i|=(h&127)<<7,(h&128)==0)return this.assertBounds(),i;if(h=this.buf[this.pos++],i|=(h&127)<<14,(h&128)==0)return this.assertBounds(),i;if(h=this.buf[this.pos++],i|=(h&127)<<21,(h&128)==0)return this.assertBounds(),i;h=this.buf[this.pos++],i|=(h&15)<<28;for(let c=5;(h&128)!==0&&c<10;c++)h=this.buf[this.pos++];if((h&128)!=0)throw new Error("invalid varint");return this.assertBounds(),i>>>0}const L=k();function k(){const h=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof h.getBigInt64=="function"&&typeof h.getBigUint64=="function"&&typeof h.setBigInt64=="function"&&typeof h.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof n!="object"||n.BUF_BIGINT_DISABLE!=="1")){const c=BigInt("-9223372036854775808"),v=BigInt("9223372036854775807"),E=BigInt("0"),_=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(F){const U=typeof F=="bigint"?F:BigInt(F);if(U>v||U<c)throw new Error(`invalid int64: ${F}`);return U},uParse(F){const U=typeof F=="bigint"?F:BigInt(F);if(U>_||U<E)throw new Error(`invalid uint64: ${F}`);return U},enc(F){return h.setBigInt64(0,this.parse(F),!0),{lo:h.getInt32(0,!0),hi:h.getInt32(4,!0)}},uEnc(F){return h.setBigInt64(0,this.uParse(F),!0),{lo:h.getInt32(0,!0),hi:h.getInt32(4,!0)}},dec(F,U){return h.setInt32(0,F,!0),h.setInt32(4,U,!0),h.getBigInt64(0,!0)},uDec(F,U){return h.setInt32(0,F,!0),h.setInt32(4,U,!0),h.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(c){return typeof c!="string"&&(c=c.toString()),j(c),c},uParse(c){return typeof c!="string"&&(c=c.toString()),B(c),c},enc(c){return typeof c!="string"&&(c=c.toString()),j(c),x(c)},uEnc(c){return typeof c!="string"&&(c=c.toString()),B(c),x(c)},dec(c,v){return b(c,v)},uDec(c,v){return A(c,v)}}}function j(h){if(!/^-?[0-9]+$/.test(h))throw new Error("invalid int64: "+h)}function B(h){if(!/^[0-9]+$/.test(h))throw new Error("invalid uint64: "+h)}function $(h,i){switch(h){case d.STRING:return"";case d.BOOL:return!1;case d.DOUBLE:case d.FLOAT:return 0;case d.INT64:case d.UINT64:case d.SFIXED64:case d.FIXED64:case d.SINT64:return i?"0":L.zero;case d.BYTES:return new Uint8Array(0);default:return 0}}function K(h,i){switch(h){case d.BOOL:return i===!1;case d.STRING:return i==="";case d.BYTES:return i instanceof Uint8Array&&!i.byteLength;default:return i==0}}const ne=2,re=Symbol.for("reflect unsafe local");function Se(h,i){const c=h[i.localName].case;return c===void 0?c:i.fields.find(v=>v.localName===c)}function Me(h,i){const c=i.localName;if(i.oneof)return h[i.oneof.localName].case===c;if(i.presence!=ne)return h[c]!==void 0&&Object.prototype.hasOwnProperty.call(h,c);switch(i.fieldKind){case"list":return h[c].length>0;case"map":return Object.keys(h[c]).length>0;case"scalar":return!K(i.scalar,h[c]);case"enum":return h[c]!==i.enum.values[0].number}throw new Error("message field with implicit presence")}function Oe(h,i){return Object.prototype.hasOwnProperty.call(h,i)&&h[i]!==void 0}function ie(h,i){if(i.oneof){const c=h[i.oneof.localName];return c.case===i.localName?c.value:void 0}return h[i.localName]}function Ee(h,i,c){i.oneof?h[i.oneof.localName]={case:i.localName,value:c}:h[i.localName]=c}function de(h,i){const c=i.localName;if(i.oneof){const v=i.oneof.localName;h[v].case===c&&(h[v]={case:void 0})}else if(i.presence!=ne)delete h[c];else switch(i.fieldKind){case"map":h[c]={};break;case"list":h[c]=[];break;case"enum":h[c]=i.enum.values[0].number;break;case"scalar":h[c]=$(i.scalar,i.longAsString);break}}function ue(h){return h!==null&&typeof h=="object"&&!Array.isArray(h)}function X(h,i){var c,v,E,_;if(ue(h)&&re in h&&"add"in h&&"field"in h&&typeof h.field=="function"){if(i!==void 0){const F=i,U=h.field();return F.listKind==U.listKind&&F.scalar===U.scalar&&((c=F.message)===null||c===void 0?void 0:c.typeName)===((v=U.message)===null||v===void 0?void 0:v.typeName)&&((E=F.enum)===null||E===void 0?void 0:E.typeName)===((_=U.enum)===null||_===void 0?void 0:_.typeName)}return!0}return!1}function oe(h,i){var c,v,E,_;if(ue(h)&&re in h&&"has"in h&&"field"in h&&typeof h.field=="function"){if(i!==void 0){const F=i,U=h.field();return F.mapKey===U.mapKey&&F.mapKind==U.mapKind&&F.scalar===U.scalar&&((c=F.message)===null||c===void 0?void 0:c.typeName)===((v=U.message)===null||v===void 0?void 0:v.typeName)&&((E=F.enum)===null||E===void 0?void 0:E.typeName)===((_=U.enum)===null||_===void 0?void 0:_.typeName)}return!0}return!1}function he(h,i){return ue(h)&&re in h&&"desc"in h&&ue(h.desc)&&h.desc.kind==="message"&&(i===void 0||h.desc.typeName==i.typeName)}function z(h){return G(h.$typeName)}function V(h){const i=h.fields[0];return G(h.typeName)&&i!==void 0&&i.fieldKind=="scalar"&&i.name=="value"&&i.number==1}function G(h){return h.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(h.substring(16))}const Y=999,Q=998,Z=2;function J(h,i){if(u(i,h))return i;const c=me(h);return i!==void 0&&se(h,c,i),c}function se(h,i,c){for(const v of h.members){let E=c[v.localName];if(E==null)continue;let _;if(v.kind=="oneof"){const F=Se(c,v);if(!F)continue;_=F,E=ie(c,F)}else _=v;switch(_.fieldKind){case"message":E=le(_,E);break;case"scalar":E=ye(_,E);break;case"list":E=ae(_,E);break;case"map":E=xe(_,E);break}Ee(i,_,E)}return i}function ye(h,i){return h.scalar==d.BYTES?we(i):i}function xe(h,i){if(ue(i)){if(h.scalar==d.BYTES)return Ie(i,we);if(h.mapKind=="message")return Ie(i,c=>le(h,c))}return i}function ae(h,i){if(Array.isArray(i)){if(h.scalar==d.BYTES)return i.map(we);if(h.listKind=="message")return i.map(c=>le(h,c))}return i}function le(h,i){if(h.fieldKind=="message"&&!h.oneof&&V(h.message))return ye(h.message.fields[0],i);if(ue(i)){if(h.message.typeName=="google.protobuf.Struct"&&h.parent.typeName!=="google.protobuf.Value")return i;if(!u(i,h.message))return J(h.message,i)}return i}function we(h){return Array.isArray(h)?new Uint8Array(h):h}function Ie(h,i){const c={};for(const v of Object.entries(h))c[v[0]]=i(v[1]);return c}const je=Symbol(),Ve=new WeakMap;function me(h){let i;if(Pe(h)){const c=Ve.get(h);let v,E;if(c)({prototype:v,members:E}=c);else{v={},E=new Set;for(const _ of h.members)_.kind!="oneof"&&(_.fieldKind!="scalar"&&_.fieldKind!="enum"||_.presence!=Z&&(E.add(_),v[_.localName]=Ze(_)));Ve.set(h,{prototype:v,members:E})}i=Object.create(v),i.$typeName=h.typeName;for(const _ of h.members)E.has(_)||_.kind=="field"&&(_.fieldKind=="message"||(_.fieldKind=="scalar"||_.fieldKind=="enum")&&_.presence!=Z)||(i[_.localName]=Ze(_))}else{i={$typeName:h.typeName};for(const c of h.members)(c.kind=="oneof"||c.presence==Z)&&(i[c.localName]=Ze(c))}return i}function Pe(h){switch(h.file.edition){case Y:return!1;case Q:return!0;default:return h.fields.some(i=>i.presence!=Z&&i.fieldKind!="message"&&!i.oneof)}}function Ze(h){if(h.kind=="oneof")return{case:void 0};if(h.fieldKind=="list")return[];if(h.fieldKind=="map")return{};if(h.fieldKind=="message")return je;const i=h.getDefaultValue();return i!==void 0?h.fieldKind=="scalar"&&h.longAsString?i.toString():i:h.fieldKind=="scalar"?$(h.scalar,h.longAsString):h.enum.values[0].number}const pt=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class gt extends Error{constructor(i,c,v="FieldValueInvalidError"){super(c),this.name=v,this.field=()=>i}}function ge(h){return h instanceof Error&&pt.includes(h.name)&&"field"in h&&typeof h.field=="function"}const Ne=Symbol.for("@bufbuild/protobuf/text-encoding");function qe(){if(globalThis[Ne]==null){const h=new globalThis.TextEncoder,i=new globalThis.TextDecoder;globalThis[Ne]={encodeUtf8(c){return h.encode(c)},decodeUtf8(c){return i.decode(c)},checkUtf8(c){try{return encodeURIComponent(c),!0}catch{return!1}}}}return globalThis[Ne]}var Ye;(function(h){h[h.Varint=0]="Varint",h[h.Bit64=1]="Bit64",h[h.LengthDelimited=2]="LengthDelimited",h[h.StartGroup=3]="StartGroup",h[h.EndGroup=4]="EndGroup",h[h.Bit32=5]="Bit32"})(Ye||(Ye={}));const tt=34028234663852886e22,lt=-34028234663852886e22,xt=4294967295,Rt=2147483647,It=-2147483648;class sn{constructor(i=qe().encodeUtf8){this.encodeUtf8=i,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let i=0;for(let E=0;E<this.chunks.length;E++)i+=this.chunks[E].length;let c=new Uint8Array(i),v=0;for(let E=0;E<this.chunks.length;E++)c.set(this.chunks[E],v),v+=this.chunks[E].length;return this.chunks=[],c}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let i=this.finish(),c=this.stack.pop();if(!c)throw new Error("invalid state, fork stack empty");return this.chunks=c.chunks,this.buf=c.buf,this.uint32(i.byteLength),this.raw(i)}tag(i,c){return this.uint32((i<<3|c)>>>0)}raw(i){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(i),this}uint32(i){for(mt(i);i>127;)this.buf.push(i&127|128),i=i>>>7;return this.buf.push(i),this}int32(i){return nt(i),N(i,this.buf),this}bool(i){return this.buf.push(i?1:0),this}bytes(i){return this.uint32(i.byteLength),this.raw(i)}string(i){let c=this.encodeUtf8(i);return this.uint32(c.byteLength),this.raw(c)}float(i){Et(i);let c=new Uint8Array(4);return new DataView(c.buffer).setFloat32(0,i,!0),this.raw(c)}double(i){let c=new Uint8Array(8);return new DataView(c.buffer).setFloat64(0,i,!0),this.raw(c)}fixed32(i){mt(i);let c=new Uint8Array(4);return new DataView(c.buffer).setUint32(0,i,!0),this.raw(c)}sfixed32(i){nt(i);let c=new Uint8Array(4);return new DataView(c.buffer).setInt32(0,i,!0),this.raw(c)}sint32(i){return nt(i),i=(i<<1^i>>31)>>>0,N(i,this.buf),this}sfixed64(i){let c=new Uint8Array(8),v=new DataView(c.buffer),E=L.enc(i);return v.setInt32(0,E.lo,!0),v.setInt32(4,E.hi,!0),this.raw(c)}fixed64(i){let c=new Uint8Array(8),v=new DataView(c.buffer),E=L.uEnc(i);return v.setInt32(0,E.lo,!0),v.setInt32(4,E.hi,!0),this.raw(c)}int64(i){let c=L.enc(i);return p(c.lo,c.hi,this.buf),this}sint64(i){const c=L.enc(i),v=c.hi>>31,E=c.lo<<1^v,_=(c.hi<<1|c.lo>>>31)^v;return p(E,_,this.buf),this}uint64(i){const c=L.uEnc(i);return p(c.lo,c.hi,this.buf),this}}class ke{constructor(i,c=qe().decodeUtf8){this.decodeUtf8=c,this.varint64=g,this.uint32=D,this.buf=i,this.len=i.length,this.pos=0,this.view=new DataView(i.buffer,i.byteOffset,i.byteLength)}tag(){let i=this.uint32(),c=i>>>3,v=i&7;if(c<=0||v<0||v>5)throw new Error("illegal tag: field no "+c+" wire type "+v);return[c,v]}skip(i,c){let v=this.pos;switch(i){case Ye.Varint:for(;this.buf[this.pos++]&128;);break;case Ye.Bit64:this.pos+=4;case Ye.Bit32:this.pos+=4;break;case Ye.LengthDelimited:let E=this.uint32();this.pos+=E;break;case Ye.StartGroup:for(;;){const[_,F]=this.tag();if(F===Ye.EndGroup){if(c!==void 0&&_!==c)throw new Error("invalid end group tag");break}this.skip(F,_)}break;default:throw new Error("cant skip wire type "+i)}return this.assertBounds(),this.buf.subarray(v,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let i=this.uint32();return i>>>1^-(i&1)}int64(){return L.dec(...this.varint64())}uint64(){return L.uDec(...this.varint64())}sint64(){let[i,c]=this.varint64(),v=-(i&1);return i=(i>>>1|(c&1)<<31)^v,c=c>>>1^v,L.dec(i,c)}bool(){let[i,c]=this.varint64();return i!==0||c!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return L.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return L.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let i=this.uint32(),c=this.pos;return this.pos+=i,this.assertBounds(),this.buf.subarray(c,c+i)}string(){return this.decodeUtf8(this.bytes())}}function nt(h){if(typeof h=="string")h=Number(h);else if(typeof h!="number")throw new Error("invalid int32: "+typeof h);if(!Number.isInteger(h)||h>Rt||h<It)throw new Error("invalid int32: "+h)}function mt(h){if(typeof h=="string")h=Number(h);else if(typeof h!="number")throw new Error("invalid uint32: "+typeof h);if(!Number.isInteger(h)||h>xt||h<0)throw new Error("invalid uint32: "+h)}function Et(h){if(typeof h=="string"){const i=h;if(h=Number(h),Number.isNaN(h)&&i!=="NaN")throw new Error("invalid float32: "+i)}else if(typeof h!="number")throw new Error("invalid float32: "+typeof h);if(Number.isFinite(h)&&(h>tt||h<lt))throw new Error("invalid float32: "+h)}function Dt(h,i){const c=h.fieldKind=="list"?X(i,h):h.fieldKind=="map"?oe(i,h):Hn(h,i);if(c===!0)return;let v;switch(h.fieldKind){case"list":v=`expected ${Jt(h)}, got ${rt(i)}`;break;case"map":v=`expected ${rn(h)}, got ${rt(i)}`;break;default:v=Zn(h,i,c)}return new gt(h,v)}function vn(h,i,c){const v=Hn(h,c);if(v!==!0)return new gt(h,`list item #${i+1}: ${Zn(h,c,v)}`)}function Fn(h,i,c){const v=an(i,h.mapKey);if(v!==!0)return new gt(h,`invalid map key: ${Zn({scalar:h.mapKey},i,v)}`);const E=Hn(h,c);if(E!==!0)return new gt(h,`map entry ${rt(i)}: ${Zn(h,c,E)}`)}function Hn(h,i){return h.scalar!==void 0?an(i,h.scalar):h.enum!==void 0?h.enum.open?Number.isInteger(i):h.enum.values.some(c=>c.number===i):he(i,h.message)}function an(h,i){switch(i){case d.DOUBLE:return typeof h=="number";case d.FLOAT:return typeof h!="number"?!1:Number.isNaN(h)||!Number.isFinite(h)?!0:h>tt||h<lt?`${h.toFixed()} out of range`:!0;case d.INT32:case d.SFIXED32:case d.SINT32:return typeof h!="number"||!Number.isInteger(h)?!1:h>Rt||h<It?`${h.toFixed()} out of range`:!0;case d.FIXED32:case d.UINT32:return typeof h!="number"||!Number.isInteger(h)?!1:h>xt||h<0?`${h.toFixed()} out of range`:!0;case d.BOOL:return typeof h=="boolean";case d.STRING:return typeof h!="string"?!1:qe().checkUtf8(h)||"invalid UTF8";case d.BYTES:return h instanceof Uint8Array;case d.INT64:case d.SFIXED64:case d.SINT64:if(typeof h=="bigint"||typeof h=="number"||typeof h=="string"&&h.length>0)try{return L.parse(h),!0}catch{return`${h} out of range`}return!1;case d.FIXED64:case d.UINT64:if(typeof h=="bigint"||typeof h=="number"||typeof h=="string"&&h.length>0)try{return L.uParse(h),!0}catch{return`${h} out of range`}return!1}}function Zn(h,i,c){return c=typeof c=="string"?`: ${c}`:`, got ${rt(i)}`,h.scalar!==void 0?`expected ${gr(h.scalar)}`+c:h.enum!==void 0?`expected ${h.enum.toString()}`+c:`expected ${ln(h.message)}`+c}function rt(h){switch(typeof h){case"object":return h===null?"null":h instanceof Uint8Array?`Uint8Array(${h.length})`:Array.isArray(h)?`Array(${h.length})`:X(h)?Jt(h.field()):oe(h)?rn(h.field()):he(h)?ln(h.desc):u(h)?`message ${h.$typeName}`:"object";case"string":return h.length>30?"string":`"${h.split('"').join('\\"')}"`;case"boolean":return String(h);case"number":return String(h);case"bigint":return String(h)+"n";default:return typeof h}}function ln(h){return`ReflectMessage (${h.typeName})`}function Jt(h){switch(h.listKind){case"message":return`ReflectList (${h.message.toString()})`;case"enum":return`ReflectList (${h.enum.toString()})`;case"scalar":return`ReflectList (${d[h.scalar]})`}}function rn(h){switch(h.mapKind){case"message":return`ReflectMap (${d[h.mapKey]}, ${h.message.toString()})`;case"enum":return`ReflectMap (${d[h.mapKey]}, ${h.enum.toString()})`;case"scalar":return`ReflectMap (${d[h.mapKey]}, ${d[h.scalar]})`}}function gr(h){switch(h){case d.STRING:return"string";case d.BOOL:return"boolean";case d.INT64:case d.SINT64:case d.SFIXED64:return"bigint (int64)";case d.UINT64:case d.FIXED64:return"bigint (uint64)";case d.BYTES:return"Uint8Array";case d.DOUBLE:return"number (float64)";case d.FLOAT:return"number (float32)";case d.FIXED32:case d.UINT32:return"number (uint32)";case d.INT32:case d.SFIXED32:case d.SINT32:return"number (int32)"}}function qt(h,i,c=!0){return new un(h,i,c)}const jt=new WeakMap;class un{get sortedFields(){const i=jt.get(this.desc);if(i)return i;const c=this.desc.fields.concat().sort((v,E)=>v.number-E.number);return jt.set(this.desc,c),c}constructor(i,c,v=!0){this.lists=new Map,this.maps=new Map,this.check=v,this.desc=i,this.message=this[re]=c??J(i),this.fields=i.fields,this.oneofs=i.oneofs,this.members=i.members}findNumber(i){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(c=>[c.number,c]))),this._fieldsByNumber.get(i)}oneofCase(i){return Lt(this.message,i),Se(this.message,i)}isSet(i){return Lt(this.message,i),Me(this.message,i)}clear(i){Lt(this.message,i),de(this.message,i)}get(i){Lt(this.message,i);const c=ie(this.message,i);switch(i.fieldKind){case"list":let v=this.lists.get(i);return(!v||v[re]!==c)&&this.lists.set(i,v=new En(i,c,this.check)),v;case"map":let E=this.maps.get(i);return(!E||E[re]!==c)&&this.maps.set(i,E=new Oi(i,c,this.check)),E;case"message":return mi(i,c,this.check);case"scalar":return c===void 0?$(i.scalar,!1):Bs(i,c);case"enum":return c??i.enum.values[0].number}}set(i,c){if(Lt(this.message,i),this.check){const E=Dt(i,c);if(E)throw E}let v;i.fieldKind=="message"?v=xr(i,c):oe(c)||X(c)?v=c[re]:v=tr(i,c),Ee(this.message,i,v)}getUnknown(){return this.message.$unknown}setUnknown(i){this.message.$unknown=i}}function Lt(h,i){if(i.parent.typeName!==h.$typeName)throw new gt(i,`cannot use ${i.toString()} with message ${h.$typeName}`,"ForeignFieldError")}class En{field(){return this._field}get size(){return this._arr.length}constructor(i,c,v){this._field=i,this._arr=this[re]=c,this.check=v}get(i){const c=this._arr[i];return c===void 0?void 0:Ji(this._field,c,this.check)}set(i,c){if(i<0||i>=this._arr.length)throw new gt(this._field,`list item #${i+1}: out of range`);if(this.check){const v=vn(this._field,i,c);if(v)throw v}this._arr[i]=Ho(this._field,c)}add(i){if(this.check){const c=vn(this._field,this._arr.length,i);if(c)throw c}this._arr.push(Ho(this._field,i))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const i of this._arr)yield Ji(this._field,i,this.check)}*entries(){for(let i=0;i<this._arr.length;i++)yield[i,Ji(this._field,this._arr[i],this.check)]}}class Oi{constructor(i,c,v=!0){this.obj=this[re]=c??{},this.check=v,this._field=i}field(){return this._field}set(i,c){if(this.check){const v=Fn(this._field,i,c);if(v)throw v}return this.obj[Yo(i)]=kg(this._field,c),this}delete(i){const c=Yo(i),v=Object.prototype.hasOwnProperty.call(this.obj,c);return v&&delete this.obj[c],v}clear(){for(const i of Object.keys(this.obj))delete this.obj[i]}get(i){let c=this.obj[Yo(i)];return c!==void 0&&(c=ks(this._field,c,this.check)),c}has(i){return Object.prototype.hasOwnProperty.call(this.obj,Yo(i))}*keys(){for(const i of Object.keys(this.obj))yield Du(i,this._field.mapKey)}*entries(){for(const i of Object.entries(this.obj))yield[Du(i[0],this._field.mapKey),ks(this._field,i[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const i of Object.values(this.obj))yield ks(this._field,i,this.check)}forEach(i,c){for(const v of this.entries())i.call(c,v[1],v[0],this)}}function xr(h,i){return he(i)?z(i.message)&&!h.oneof&&h.fieldKind=="message"?i.message.value:i.desc.typeName=="google.protobuf.Struct"&&h.parent.typeName!="google.protobuf.Value"?jg(i.message):i.message:i}function mi(h,i,c){return i!==void 0&&(V(h.message)&&!h.oneof&&h.fieldKind=="message"?i={$typeName:h.message.typeName,value:Bs(h.message.fields[0],i)}:h.message.typeName=="google.protobuf.Struct"&&h.parent.typeName!="google.protobuf.Value"&&ue(i)&&(i=Bg(i))),new un(h.message,i,c)}function Ho(h,i){return h.listKind=="message"?xr(h,i):tr(h,i)}function Ji(h,i,c){return h.listKind=="message"?mi(h,i,c):Bs(h,i)}function kg(h,i){return h.mapKind=="message"?xr(h,i):tr(h,i)}function ks(h,i,c){return h.mapKind=="message"?mi(h,i,c):i}function Yo(h){return typeof h=="string"||typeof h=="number"?h:String(h)}function Du(h,i){switch(i){case d.STRING:return h;case d.INT32:case d.FIXED32:case d.UINT32:case d.SFIXED32:case d.SINT32:{const c=Number.parseInt(h);if(Number.isFinite(c))return c;break}case d.BOOL:switch(h){case"true":return!0;case"false":return!1}break;case d.UINT64:case d.FIXED64:try{return L.uParse(h)}catch{}break;default:try{return L.parse(h)}catch{}break}return h}function Bs(h,i){switch(h.scalar){case d.INT64:case d.SFIXED64:case d.SINT64:"longAsString"in h&&h.longAsString&&typeof i=="string"&&(i=L.parse(i));break;case d.FIXED64:case d.UINT64:"longAsString"in h&&h.longAsString&&typeof i=="string"&&(i=L.uParse(i));break}return i}function tr(h,i){switch(h.scalar){case d.INT64:case d.SFIXED64:case d.SINT64:"longAsString"in h&&h.longAsString?i=String(i):(typeof i=="string"||typeof i=="number")&&(i=L.parse(i));break;case d.FIXED64:case d.UINT64:"longAsString"in h&&h.longAsString?i=String(i):(typeof i=="string"||typeof i=="number")&&(i=L.uParse(i));break}return i}function Bg(h){const i={$typeName:"google.protobuf.Struct",fields:{}};if(ue(h))for(const[c,v]of Object.entries(h))i.fields[c]=Ua(v);return i}function jg(h){const i={};for(const[c,v]of Object.entries(h.fields))i[c]=js(v);return i}function js(h){switch(h.kind.case){case"structValue":return jg(h.kind.value);case"listValue":return h.kind.value.values.map(js);case"nullValue":case void 0:return null;default:return h.kind.value}}function Ua(h){const i={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof h){case"number":i.kind={case:"numberValue",value:h};break;case"string":i.kind={case:"stringValue",value:h};break;case"boolean":i.kind={case:"boolValue",value:h};break;case"object":if(h===null)i.kind={case:"nullValue",value:0};else if(Array.isArray(h)){const c={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(h))for(const v of h)c.values.push(Ua(v));i.kind={case:"listValue",value:c}}else i.kind={case:"structValue",value:Bg(h)};break}return i}function zg(h){const i=qo();let c=h.length*3/4;h[h.length-2]=="="?c-=2:h[h.length-1]=="="&&(c-=1);let v=new Uint8Array(c),E=0,_=0,F,U=0;for(let W=0;W<h.length;W++){if(F=i[h.charCodeAt(W)],F===void 0)switch(h[W]){case"=":_=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(_){case 0:U=F,_=1;break;case 1:v[E++]=U<<2|(F&48)>>4,U=F,_=2;break;case 2:v[E++]=(U&15)<<4|(F&60)>>2,U=F,_=3;break;case 3:v[E++]=(U&3)<<6|F,_=0;break}}if(_==1)throw Error("invalid base64 string");return v.subarray(0,E)}function ly(h,i="std"){const c=ff(i),v=i=="std";let E="",_=0,F,U=0;for(let W=0;W<h.length;W++)switch(F=h[W],_){case 0:E+=c[F>>2],U=(F&3)<<4,_=1;break;case 1:E+=c[U|F>>4],U=(F&15)<<2,_=2;break;case 2:E+=c[U|F>>6],E+=c[F&63],_=0;break}return _&&(E+=c[U],v&&(E+="=",_==1&&(E+="="))),E}let cf,uy,Wo;function ff(h){return cf||(cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),uy=cf.slice(0,-2).concat("-","_")),h=="url"?uy:cf}function qo(){if(!Wo){Wo=[];const h=ff("std");for(let i=0;i<h.length;i++)Wo[h[i].charCodeAt(0)]=i;Wo[45]=h.indexOf("+"),Wo[95]=h.indexOf("/")}return Wo}function Ga(h){let i=!1;const c=[];for(let v=0;v<h.length;v++){let E=h.charAt(v);switch(E){case"_":i=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":c.push(E),i=!1;break;default:i&&(i=!1,E=E.toUpperCase()),c.push(E);break}}return c.join("")}const cy=new Set(["constructor","toString","toJSON","valueOf"]);function yo(h){return cy.has(h)?h+"$":h}function df(h){for(const i of h.field)Oe(i,"jsonName")||(i.jsonName=Ga(i.name));h.nestedType.forEach(df)}function Vg(h,i){const c=h.values.find(v=>v.name===i);if(!c)throw new Error(`cannot parse ${h} default value: ${i}`);return c.number}function f1(h,i){switch(h){case d.STRING:return i;case d.BYTES:{const c=fy(i);if(c===!1)throw new Error(`cannot parse ${d[h]} default value: ${i}`);return c}case d.INT64:case d.SFIXED64:case d.SINT64:return L.parse(i);case d.UINT64:case d.FIXED64:return L.uParse(i);case d.DOUBLE:case d.FLOAT:switch(i){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(i)}case d.BOOL:return i==="true";case d.INT32:case d.UINT32:case d.SINT32:case d.FIXED32:case d.SFIXED32:return parseInt(i,10)}}function fy(h){const i=[],c={tail:h,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(v){if(this.tail.length>=v){const E=this.tail.substring(0,v);return this.tail=this.tail.substring(v),E}return!1}};for(;c.next();)switch(c.c){case"\\":if(c.next())switch(c.c){case"\\":i.push(c.c.charCodeAt(0));break;case"b":i.push(8);break;case"f":i.push(12);break;case"n":i.push(10);break;case"r":i.push(13);break;case"t":i.push(9);break;case"v":i.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const v=c.c,E=c.take(2);if(E===!1)return!1;const _=parseInt(v+E,8);if(Number.isNaN(_))return!1;i.push(_);break}case"x":{const v=c.c,E=c.take(2);if(E===!1)return!1;const _=parseInt(v+E,16);if(Number.isNaN(_))return!1;i.push(_);break}case"u":{const v=c.c,E=c.take(4);if(E===!1)return!1;const _=parseInt(v+E,16);if(Number.isNaN(_))return!1;const F=new Uint8Array(4);new DataView(F.buffer).setInt32(0,_,!0),i.push(F[0],F[1],F[2],F[3]);break}case"U":{const v=c.c,E=c.take(8);if(E===!1)return!1;const _=L.uEnc(v+E),F=new Uint8Array(8),U=new DataView(F.buffer);U.setInt32(0,_.lo,!0),U.setInt32(4,_.hi,!0),i.push(F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7]);break}}break;default:i.push(c.c.charCodeAt(0))}return new Uint8Array(i)}function*Qr(h){switch(h.kind){case"file":for(const i of h.messages)yield i,yield*Qr(i);yield*h.enums,yield*h.services,yield*h.extensions;break;case"message":for(const i of h.nestedMessages)yield i,yield*Qr(i);yield*h.nestedEnums,yield*h.nestedExtensions;break}}function Ug(...h){const i=d1();if(!h.length)return i;if("$typeName"in h[0]&&h[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const c of h[0].file)gf(c,i);return i}if("$typeName"in h[0]){let c=function(F){const U=[];for(const W of F.dependency){if(i.getFile(W)!=null||_.has(W))continue;const te=E(W);if(!te)throw new Error(`Unable to resolve ${W}, imported by ${F.name}`);"kind"in te?i.addFile(te,!1,!0):(_.add(te.name),U.push(te))}return U.concat(...U.map(c))};const v=h[0],E=h[1],_=new Set;for(const F of[v,...c(v)].reverse())gf(F,i)}else for(const c of h)for(const v of c.files)i.addFile(v);return i}function d1(){const h=new Map,i=new Map,c=new Map;return{kind:"registry",types:h,extendees:i,[Symbol.iterator](){return h.values()},get files(){return c.values()},addFile(v,E,_){if(c.set(v.proto.name,v),!E)for(const F of Qr(v))this.add(F);if(_)for(const F of v.dependencies)this.addFile(F,E,_)},add(v){if(v.kind=="extension"){let E=i.get(v.extendee.typeName);E||i.set(v.extendee.typeName,E=new Map),E.set(v.number,v)}h.set(v.typeName,v)},get(v){return h.get(v)},getFile(v){return c.get(v)},getMessage(v){const E=h.get(v);return(E==null?void 0:E.kind)=="message"?E:void 0},getEnum(v){const E=h.get(v);return(E==null?void 0:E.kind)=="enum"?E:void 0},getExtension(v){const E=h.get(v);return(E==null?void 0:E.kind)=="extension"?E:void 0},getExtensionFor(v,E){var _;return(_=i.get(v.typeName))===null||_===void 0?void 0:_.get(E)},getService(v){const E=h.get(v);return(E==null?void 0:E.kind)=="service"?E:void 0}}}const wh=998,dy=999,Ch=9,hf=10,Mr=11,Gg=12,$g=14,pf=3,Mu=2,Hg=1,hy=0,zs=1,py=2,gy=3,my=1,Yg=2,h1=1,vy={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function gf(h,i){var c,v;const E={kind:"file",proto:h,deprecated:(v=(c=h.options)===null||c===void 0?void 0:c.deprecated)!==null&&v!==void 0?v:!1,edition:Ko(h),name:h.name.replace(/\.proto$/,""),dependencies:qg(h,i),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${h.name}`}},_=new Map,F={get(U){return _.get(U)},add(U){var W;zr(((W=U.proto.options)===null||W===void 0?void 0:W.mapEntry)===!0),_.set(U.typeName,U)}};for(const U of h.enumType)$a(U,E,void 0,i);for(const U of h.messageType)Ha(U,E,void 0,i,F);for(const U of h.service)yy(U,E,i);mf(E,i);for(const U of _.values())vf(U,i,F);for(const U of E.messages)vf(U,i,F),mf(U,i);i.addFile(E,!0)}function mf(h,i){switch(h.kind){case"file":for(const c of h.proto.extension){const v=Ya(c,h,i);h.extensions.push(v),i.add(v)}break;case"message":for(const c of h.proto.extension){const v=Ya(c,h,i);h.nestedExtensions.push(v),i.add(v)}for(const c of h.nestedMessages)mf(c,i);break}}function vf(h,i,c){const v=h.proto.oneofDecl.map(_=>xy(_,h)),E=new Set;for(const _ of h.proto.field){const F=by(_,v),U=Ya(_,h,i,F,c);h.fields.push(U),h.field[U.localName]=U,F===void 0?h.members.push(U):(F.fields.push(U),E.has(F)||(E.add(F),h.members.push(F)))}for(const _ of v.filter(F=>E.has(F)))h.oneofs.push(_);for(const _ of h.nestedMessages)vf(_,i,c)}function $a(h,i,c,v){var E,_,F,U,W;const te=yf(h.name,h.value),ce={kind:"enum",proto:h,deprecated:(_=(E=h.options)===null||E===void 0?void 0:E.deprecated)!==null&&_!==void 0?_:!1,file:i,parent:c,open:!0,name:h.name,typeName:Pu(h,c,i),value:{},values:[],sharedPrefix:te,toString(){return`enum ${this.typeName}`}};ce.open=ei(ce),v.add(ce);for(const Re of h.value){const Be=Re.name;ce.values.push(ce.value[Re.number]={kind:"enum_value",proto:Re,deprecated:(U=(F=Re.options)===null||F===void 0?void 0:F.deprecated)!==null&&U!==void 0?U:!1,parent:ce,name:Be,localName:yo(te==null?Be:Be.substring(te.length)),number:Re.number,toString(){return`enum value ${ce.typeName}.${Be}`}})}((W=c==null?void 0:c.nestedEnums)!==null&&W!==void 0?W:i.enums).push(ce)}function Ha(h,i,c,v,E){var _,F,U,W;const te={kind:"message",proto:h,deprecated:(F=(_=h.options)===null||_===void 0?void 0:_.deprecated)!==null&&F!==void 0?F:!1,file:i,parent:c,name:h.name,typeName:Pu(h,c,i),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((U=h.options)===null||U===void 0?void 0:U.mapEntry)===!0?E.add(te):(((W=c==null?void 0:c.nestedMessages)!==null&&W!==void 0?W:i.messages).push(te),v.add(te));for(const ce of h.enumType)$a(ce,i,te,v);for(const ce of h.nestedType)Ha(ce,i,te,v,E)}function yy(h,i,c){var v,E;const _={kind:"service",proto:h,deprecated:(E=(v=h.options)===null||v===void 0?void 0:v.deprecated)!==null&&E!==void 0?E:!1,file:i,name:h.name,typeName:Pu(h,void 0,i),methods:[],method:{},toString(){return`service ${this.typeName}`}};i.services.push(_),c.add(_);for(const F of h.method){const U=Wg(F,_,c);_.methods.push(U),_.method[U.localName]=U}}function Wg(h,i,c){var v,E,_,F;let U;h.clientStreaming&&h.serverStreaming?U="bidi_streaming":h.clientStreaming?U="client_streaming":h.serverStreaming?U="server_streaming":U="unary";const W=c.getMessage(Di(h.inputType)),te=c.getMessage(Di(h.outputType));zr(W,`invalid MethodDescriptorProto: input_type ${h.inputType} not found`),zr(te,`invalid MethodDescriptorProto: output_type ${h.inputType} not found`);const ce=h.name;return{kind:"rpc",proto:h,deprecated:(E=(v=h.options)===null||v===void 0?void 0:v.deprecated)!==null&&E!==void 0?E:!1,parent:i,name:ce,localName:yo(ce.length?yo(ce[0].toLowerCase()+ce.substring(1)):ce),methodKind:U,input:W,output:te,idempotency:(F=(_=h.options)===null||_===void 0?void 0:_.idempotencyLevel)!==null&&F!==void 0?F:hy,toString(){return`rpc ${i.typeName}.${ce}`}}}function xy(h,i){return{kind:"oneof",proto:h,deprecated:!1,parent:i,fields:[],name:h.name,localName:yo(Ga(h.name)),toString(){return`oneof ${i.typeName}.${this.name}`}}}function Ya(h,i,c,v,E){var _,F,U;const W=E===void 0,te={kind:"field",proto:h,deprecated:(F=(_=h.options)===null||_===void 0?void 0:_.deprecated)!==null&&F!==void 0?F:!1,name:h.name,number:h.number,scalar:void 0,message:void 0,enum:void 0,presence:Rh(h,v,W,i),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(W){const Te=i.kind=="file"?i:i.file,We=i.kind=="file"?void 0:i,He=Pu(h,We,Te);te.kind="extension",te.file=Te,te.parent=We,te.oneof=void 0,te.typeName=He,te.jsonName=`[${He}]`,te.toString=()=>`extension ${He}`;const ot=c.getMessage(Di(h.extendee));zr(ot,`invalid FieldDescriptorProto: extendee ${h.extendee} not found`),te.extendee=ot}else{const Te=i;zr(Te.kind=="message"),te.parent=Te,te.oneof=v,te.localName=v?Ga(h.name):yo(Ga(h.name)),te.jsonName=h.jsonName,te.toString=()=>`field ${Te.typeName}.${h.name}`}const ce=h.label,Re=h.type,Be=(U=h.options)===null||U===void 0?void 0:U.jstype;if(ce===pf){const Te=Re==Mr?E==null?void 0:E.get(Di(h.typeName)):void 0;if(Te){te.fieldKind="map";const{key:We,value:He}=Sy(Te);return te.mapKey=We.scalar,te.mapKind=He.fieldKind,te.message=He.message,te.delimitedEncoding=!1,te.enum=He.enum,te.scalar=He.scalar,te}switch(te.fieldKind="list",Re){case Mr:case hf:te.listKind="message",te.message=c.getMessage(Di(h.typeName)),zr(te.message),te.delimitedEncoding=Us(h,i);break;case $g:te.listKind="enum",te.enum=c.getEnum(Di(h.typeName)),zr(te.enum);break;default:te.listKind="scalar",te.scalar=Re,te.longAsString=Be==Hg;break}return te.packed=Th(h,i),te}switch(Re){case Mr:case hf:te.fieldKind="message",te.message=c.getMessage(Di(h.typeName)),zr(te.message,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),te.delimitedEncoding=Us(h,i),te.getDefaultValue=()=>{};break;case $g:{const Te=c.getEnum(Di(h.typeName));zr(Te!==void 0,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),te.fieldKind="enum",te.enum=c.getEnum(Di(h.typeName)),te.getDefaultValue=()=>Oe(h,"defaultValue")?Vg(Te,h.defaultValue):void 0;break}default:{te.fieldKind="scalar",te.scalar=Re,te.longAsString=Be==Hg,te.getDefaultValue=()=>Oe(h,"defaultValue")?f1(Re,h.defaultValue):void 0;break}}return te}function Ko(h){switch(h.syntax){case"":case"proto2":return wh;case"proto3":return dy;case"editions":if(h.edition in vy)return h.edition;throw new Error(`${h.name}: unsupported edition`);default:throw new Error(`${h.name}: unsupported syntax "${h.syntax}"`)}}function qg(h,i){return h.dependency.map(c=>{const v=i.getFile(c);if(!v)throw new Error(`Cannot find ${c}, imported by ${h.name}`);return v})}function yf(h,i){const c=Vs(h)+"_";for(const v of i){if(!v.name.toLowerCase().startsWith(c))return;const E=v.name.substring(c.length);if(E.length==0||/^\d/.test(E))return}return c}function Vs(h){return(h.substring(0,1)+h.substring(1).replace(/[A-Z]/g,i=>"_"+i)).toLowerCase()}function Pu(h,i,c){let v;return i?v=`${i.typeName}.${h.name}`:c.proto.package.length>0?v=`${c.proto.package}.${h.name}`:v=`${h.name}`,v}function Di(h){return h.startsWith(".")?h.substring(1):h}function by(h,i){if(!Oe(h,"oneofIndex")||h.proto3Optional)return;const c=i[h.oneofIndex];return zr(c,`invalid FieldDescriptorProto: oneof #${h.oneofIndex} for field #${h.number} not found`),c}function Rh(h,i,c,v){if(h.label==Mu)return gy;if(h.label==pf)return py;if(i||h.proto3Optional||c)return zs;const E=Xo("fieldPresence",{proto:h,parent:v});return E==py&&(h.type==Mr||h.type==hf)?zs:E}function Th(h,i){if(h.label!=pf)return!1;switch(h.type){case Ch:case Gg:case hf:case Mr:return!1}const c=h.options;return c&&Oe(c,"packed")?c.packed:my==Xo("repeatedFieldEncoding",{proto:h,parent:i})}function Sy(h){const i=h.fields.find(v=>v.number===1),c=h.fields.find(v=>v.number===2);return zr(i&&i.fieldKind=="scalar"&&i.scalar!=d.BYTES&&i.scalar!=d.FLOAT&&i.scalar!=d.DOUBLE&&c&&c.fieldKind!="list"&&c.fieldKind!="map"),{key:i,value:c}}function ei(h){var i;return h1==Xo("enumType",{proto:h.proto,parent:(i=h.parent)!==null&&i!==void 0?i:h.file})}function Us(h,i){return h.type==hf?!0:Yg==Xo("messageEncoding",{proto:h,parent:i})}function Xo(h,i){var c,v;const E=(c=i.proto.options)===null||c===void 0?void 0:c.features;if(E){const _=E[h];if(_!=0)return _}if("kind"in i){if(i.kind=="message")return Xo(h,(v=i.parent)!==null&&v!==void 0?v:i.file);const _=vy[i.edition];if(!_)throw new Error(`feature default for edition ${i.edition} not found`);return _[h]}return Xo(h,i.parent)}function zr(h,i){if(!h)throw new Error(i)}function p1(h){const i=Kg(h);return i.messageType.forEach(df),Ug(i,()=>{}).getFile(i.name)}function Kg(h){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},h),{messageType:h.messageType.map(Nh),enumType:h.enumType.map(Xg)}))}function Nh(h){var i,c,v,E,_,F,U,W;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:h.name,field:(c=(i=h.field)===null||i===void 0?void 0:i.map(xf))!==null&&c!==void 0?c:[],extension:[],nestedType:(E=(v=h.nestedType)===null||v===void 0?void 0:v.map(Nh))!==null&&E!==void 0?E:[],enumType:(F=(_=h.enumType)===null||_===void 0?void 0:_.map(Xg))!==null&&F!==void 0?F:[],extensionRange:(W=(U=h.extensionRange)===null||U===void 0?void 0:U.map(ce=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},ce)))!==null&&W!==void 0?W:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function xf(h){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},h),{options:h.options?_h(h.options):void 0}))}function _h(h){var i,c,v;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},h),{targets:(i=h.targets)!==null&&i!==void 0?i:[],editionDefaults:(v=(c=h.editionDefaults)===null||c===void 0?void 0:c.map(_=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},_)))!==null&&v!==void 0?v:[],uninterpretedOption:[]}))}function Xg(h){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:h.name,reservedName:[],reservedRange:[],value:h.value.map(c=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},c))})}function Mt(h,i,...c){return c.reduce((v,E)=>v.nestedMessages[E],h.messages[i])}const g1=Mt(p1({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),1);var Ih;(function(h){h[h.DECLARATION=0]="DECLARATION",h[h.UNVERIFIED=1]="UNVERIFIED"})(Ih||(Ih={}));var Ey;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.GROUP=10]="GROUP",h[h.MESSAGE=11]="MESSAGE",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.ENUM=14]="ENUM",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(Ey||(Ey={}));var Ay;(function(h){h[h.OPTIONAL=1]="OPTIONAL",h[h.REPEATED=3]="REPEATED",h[h.REQUIRED=2]="REQUIRED"})(Ay||(Ay={}));var wy;(function(h){h[h.SPEED=1]="SPEED",h[h.CODE_SIZE=2]="CODE_SIZE",h[h.LITE_RUNTIME=3]="LITE_RUNTIME"})(wy||(wy={}));var Cy;(function(h){h[h.STRING=0]="STRING",h[h.CORD=1]="CORD",h[h.STRING_PIECE=2]="STRING_PIECE"})(Cy||(Cy={}));var Ry;(function(h){h[h.JS_NORMAL=0]="JS_NORMAL",h[h.JS_STRING=1]="JS_STRING",h[h.JS_NUMBER=2]="JS_NUMBER"})(Ry||(Ry={}));var Zg;(function(h){h[h.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",h[h.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",h[h.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(Zg||(Zg={}));var Ty;(function(h){h[h.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",h[h.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",h[h.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",h[h.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",h[h.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",h[h.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",h[h.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",h[h.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",h[h.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",h[h.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(Ty||(Ty={}));var Ny;(function(h){h[h.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",h[h.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",h[h.IDEMPOTENT=2]="IDEMPOTENT"})(Ny||(Ny={}));var _y;(function(h){h[h.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",h[h.EXPORT_ALL=1]="EXPORT_ALL",h[h.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",h[h.LOCAL_ALL=3]="LOCAL_ALL",h[h.STRICT=4]="STRICT"})(_y||(_y={}));var Iy;(function(h){h[h.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",h[h.EXPLICIT=1]="EXPLICIT",h[h.IMPLICIT=2]="IMPLICIT",h[h.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(Iy||(Iy={}));var Oh;(function(h){h[h.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",h[h.OPEN=1]="OPEN",h[h.CLOSED=2]="CLOSED"})(Oh||(Oh={}));var Oy;(function(h){h[h.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",h[h.PACKED=1]="PACKED",h[h.EXPANDED=2]="EXPANDED"})(Oy||(Oy={}));var Dy;(function(h){h[h.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",h[h.VERIFY=2]="VERIFY",h[h.NONE=3]="NONE"})(Dy||(Dy={}));var My;(function(h){h[h.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",h[h.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",h[h.DELIMITED=2]="DELIMITED"})(My||(My={}));var Jg;(function(h){h[h.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",h[h.ALLOW=1]="ALLOW",h[h.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Jg||(Jg={}));var Py;(function(h){h[h.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",h[h.STYLE2024=1]="STYLE2024",h[h.STYLE_LEGACY=2]="STYLE_LEGACY"})(Py||(Py={}));var Ly;(function(h){h[h.NONE=0]="NONE",h[h.SET=1]="SET",h[h.ALIAS=2]="ALIAS"})(Ly||(Ly={}));var Fy;(function(h){h[h.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",h[h.EDITION_LEGACY=900]="EDITION_LEGACY",h[h.EDITION_PROTO2=998]="EDITION_PROTO2",h[h.EDITION_PROTO3=999]="EDITION_PROTO3",h[h.EDITION_2023=1e3]="EDITION_2023",h[h.EDITION_2024=1001]="EDITION_2024",h[h.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",h[h.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",h[h.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",h[h.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",h[h.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",h[h.EDITION_MAX=2147483647]="EDITION_MAX"})(Fy||(Fy={}));var ky;(function(h){h[h.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",h[h.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",h[h.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(ky||(ky={}));const By={readUnknownFields:!0};function m1(h){return h?Object.assign(Object.assign({},By),h):By}function Mi(h,i,c){const v=qt(h,void 0,!1);return jy(v,new ke(i),m1(c),!1,i.byteLength),v.message}function jy(h,i,c,v,E){var _;const F=v?i.len:i.pos+E;let U,W;const te=(_=h.getUnknown())!==null&&_!==void 0?_:[];for(;i.pos<F&&([U,W]=i.tag(),!(v&&W==Ye.EndGroup));){const ce=h.findNumber(U);if(!ce){const Re=i.skip(W,U);c.readUnknownFields&&te.push({no:U,wireType:W,data:Re});continue}zy(h,i,ce,W,c)}if(v&&(W!=Ye.EndGroup||U!==E))throw new Error("invalid end group tag");te.length>0&&h.setUnknown(te)}function zy(h,i,c,v,E){var _;switch(c.fieldKind){case"scalar":h.set(c,Wa(i,c.scalar));break;case"enum":const F=Wa(i,d.INT32);if(c.enum.open)h.set(c,F);else if(c.enum.values.some(W=>W.number===F))h.set(c,F);else if(E.readUnknownFields){const W=[];N(F,W);const te=(_=h.getUnknown())!==null&&_!==void 0?_:[];te.push({no:c.number,wireType:v,data:new Uint8Array(W)}),h.setUnknown(te)}break;case"message":h.set(c,em(i,E,c,h.get(c)));break;case"list":bf(i,v,h.get(c),E);break;case"map":Qg(i,h.get(c),E);break}}function Qg(h,i,c){const v=i.field();let E,_;const F=h.uint32(),U=h.pos+F;for(;h.pos<U;){const[W]=h.tag();switch(W){case 1:E=Wa(h,v.mapKey);break;case 2:switch(v.mapKind){case"scalar":_=Wa(h,v.scalar);break;case"enum":_=h.int32();break;case"message":_=em(h,c,v);break}break}}if(E===void 0&&(E=$(v.mapKey,!1)),_===void 0)switch(v.mapKind){case"scalar":_=$(v.scalar,!1);break;case"enum":_=v.enum.values[0].number;break;case"message":_=qt(v.message,void 0,!1);break}i.set(E,_)}function bf(h,i,c,v){var E;const _=c.field();if(_.listKind==="message"){c.add(em(h,v,_));return}const F=(E=_.scalar)!==null&&E!==void 0?E:d.INT32;if(!(i==Ye.LengthDelimited&&F!=d.STRING&&F!=d.BYTES)){c.add(Wa(h,F));return}const W=h.uint32()+h.pos;for(;h.pos<W;)c.add(Wa(h,F))}function em(h,i,c,v){const E=c.delimitedEncoding,_=v??qt(c.message,void 0,!1);return jy(_,h,i,E,E?c.number:h.uint32()),_}function Wa(h,i){switch(i){case d.STRING:return h.string();case d.BOOL:return h.bool();case d.DOUBLE:return h.double();case d.FLOAT:return h.float();case d.INT32:return h.int32();case d.INT64:return h.int64();case d.UINT64:return h.uint64();case d.FIXED64:return h.fixed64();case d.BYTES:return h.bytes();case d.FIXED32:return h.fixed32();case d.SFIXED32:return h.sfixed32();case d.SFIXED64:return h.sfixed64();case d.SINT64:return h.sint64();case d.UINT32:return h.uint32();case d.SINT32:return h.sint32()}}function xo(h,i){var c;const v=Mi(g1,zg(h));return v.messageType.forEach(df),v.dependency=(c=i==null?void 0:i.map(_=>_.proto.name))!==null&&c!==void 0?c:[],Ug(v,_=>i==null?void 0:i.find(F=>F.proto.name===_)).getFile(v.name)}const Vy=xo("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function Uy(h){return new Date(Gy(h))}function Gy(h){return Number(h.seconds)*1e3+Math.round(h.nanos/1e6)}const Lu=xo("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),$y=xo("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),v1=Mt($y,0),y1=3,tm={writeUnknownFields:!0};function Hy(h){return h?Object.assign(Object.assign({},tm),h):tm}function Pi(h,i,c){return Gs(new sn,Hy(c),qt(h,i)).finish()}function Gs(h,i,c){var v;for(const E of c.sortedFields){if(!c.isSet(E)){if(E.presence==y1)throw new Error(`cannot encode ${E} to binary: required field not set`);continue}Yy(h,i,c,E)}if(i.writeUnknownFields)for(const{no:E,wireType:_,data:F}of(v=c.getUnknown())!==null&&v!==void 0?v:[])h.tag(E,_).raw(F);return h}function Yy(h,i,c,v){var E;switch(v.fieldKind){case"scalar":case"enum":qa(h,c.desc.typeName,v.name,(E=v.scalar)!==null&&E!==void 0?E:d.INT32,v.number,c.get(v));break;case"list":Wy(h,i,v,c.get(v));break;case"message":nm(h,i,v,c.get(v));break;case"map":for(const[_,F]of c.get(v))rm(h,i,v,_,F);break}}function qa(h,i,c,v,E,_){Dh(h.tag(E,qy(v)),i,c,v,_)}function nm(h,i,c,v){c.delimitedEncoding?Gs(h.tag(c.number,Ye.StartGroup),i,v).tag(c.number,Ye.EndGroup):Gs(h.tag(c.number,Ye.LengthDelimited).fork(),i,v).join()}function Wy(h,i,c,v){var E;if(c.listKind=="message"){for(const F of v)nm(h,i,c,F);return}const _=(E=c.scalar)!==null&&E!==void 0?E:d.INT32;if(c.packed){if(!v.size)return;h.tag(c.number,Ye.LengthDelimited).fork();for(const F of v)Dh(h,c.parent.typeName,c.name,_,F);h.join();return}for(const F of v)qa(h,c.parent.typeName,c.name,_,c.number,F)}function rm(h,i,c,v,E){var _;switch(h.tag(c.number,Ye.LengthDelimited).fork(),qa(h,c.parent.typeName,c.name,c.mapKey,1,v),c.mapKind){case"scalar":case"enum":qa(h,c.parent.typeName,c.name,(_=c.scalar)!==null&&_!==void 0?_:d.INT32,2,E);break;case"message":Gs(h.tag(2,Ye.LengthDelimited).fork(),i,E).join();break}h.join()}function Dh(h,i,c,v,E){try{switch(v){case d.STRING:h.string(E);break;case d.BOOL:h.bool(E);break;case d.DOUBLE:h.double(E);break;case d.FLOAT:h.float(E);break;case d.INT32:h.int32(E);break;case d.INT64:h.int64(E);break;case d.UINT64:h.uint64(E);break;case d.FIXED64:h.fixed64(E);break;case d.BYTES:h.bytes(E);break;case d.FIXED32:h.fixed32(E);break;case d.SFIXED32:h.sfixed32(E);break;case d.SFIXED64:h.sfixed64(E);break;case d.SINT64:h.sint64(E);break;case d.UINT32:h.uint32(E);break;case d.SINT32:h.sint32(E);break}}catch(_){throw _ instanceof Error?new Error(`cannot encode field ${i}.${c} to binary: ${_.message}`):_}}function qy(h){switch(h){case d.BYTES:case d.STRING:return Ye.LengthDelimited;case d.DOUBLE:case d.FIXED64:case d.SFIXED64:return Ye.Bit64;case d.FIXED32:case d.SFIXED32:case d.FLOAT:return Ye.Bit32;default:return Ye.Varint}}function Ky(h,i,c){let v=!1;return c||(c=J(v1),v=!0),c.value=Pi(h,i),c.typeUrl=b1(i.$typeName),v?c:void 0}function Xy(h,i){if(h.typeUrl==="")return!1;const c=typeof i=="string"?i:i.typeName,v=Zy(h.typeUrl);return c===v}function x1(h,i){if(h.typeUrl==="")return;const c=i.kind=="message"?i:i.getMessage(Zy(h.typeUrl));if(!(!c||!Xy(h,c)))return Mi(c,h.value)}function b1(h){return`type.googleapis.com/${h}`}function Zy(h){const i=h.lastIndexOf("/"),c=i>=0?h.substring(i+1):h;if(!c.length)throw new Error(`invalid type url: ${h}`);return c}const im=xo("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),S1=Mt(im,0),ti=Mt(im,1),Sf=Mt(im,2);var Mh;(function(h){h[h.NULL_VALUE=0]="NULL_VALUE"})(Mh||(Mh={}));const Jy=xo("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function Qy(h,i){Ka(i,h);const c=om(h.$unknown,i),[v,E,_]=Ph(i);for(const F of c)zy(v,new ke(F.data),E,F.wireType,{readUnknownFields:!0});return _()}function ex(h,i,c){var v;Ka(i,h);const E=((v=h.$unknown)!==null&&v!==void 0?v:[]).filter(te=>te.no!==i.number),[_,F]=Ph(i,c),U=new sn;Yy(U,{writeUnknownFields:!0},_,F);const W=new ke(U.finish());for(;W.pos<W.len;){const[te,ce]=W.tag(),Re=W.skip(ce,te);E.push({no:te,wireType:ce,data:Re})}h.$unknown=E}function om(h,i){if(h===void 0)return[];if(i.fieldKind==="enum"||i.fieldKind==="scalar"){for(let c=h.length-1;c>=0;--c)if(h[c].no==i.number)return[h[c]];return[]}return h.filter(c=>c.no===i.number)}function Ph(h,i){const c=h.typeName,v=Object.assign(Object.assign({},h),{kind:"field",parent:h.extendee,localName:c}),E=Object.assign(Object.assign({},h.extendee),{fields:[v],members:[v],oneofs:[]}),_=J(E,i!==void 0?{[c]:i}:void 0);return[qt(E,_),v,()=>{const F=_[c];if(F===void 0){const U=h.message;return V(U)?$(U.fields[0].scalar,U.fields[0].longAsString):J(U)}return F}]}function Ka(h,i){if(h.extendee.typeName!=i.$typeName)throw new Error(`extension ${h.typeName} can only be applied to message ${h.extendee.typeName}`)}const sm=3,Ef=2,Lh={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function tx(h){return h?Object.assign(Object.assign({},Lh),h):Lh}function Xa(h,i,c){return Za(qt(h,i),tx(c))}function Fu(h,i,c){var v;const E=Xa(h,i,c);return JSON.stringify(E,null,(v=c==null?void 0:c.prettySpaces)!==null&&v!==void 0?v:0)}function Za(h,i){var c;const v=A1(h,i);if(v!==void 0)return v;const E={};for(const _ of h.sortedFields){if(!h.isSet(_)){if(_.presence==sm)throw new Error(`cannot encode ${_} to JSON: required field not set`);if(!i.alwaysEmitImplicit||_.presence!==Ef)continue}const F=am(_,h.get(_),i);F!==void 0&&(E[E1(_,i)]=F)}if(i.registry){const _=new Set;for(const{no:F}of(c=h.getUnknown())!==null&&c!==void 0?c:[])if(!_.has(F)){_.add(F);const U=i.registry.getExtensionFor(h.desc,F);if(!U)continue;const W=Qy(h.message,U),[te,ce]=Ph(U,W),Re=am(ce,te.get(ce),i);Re!==void 0&&(E[U.jsonName]=Re)}}return E}function am(h,i,c){switch(h.fieldKind){case"scalar":return Af(h,i);case"message":return Za(i,c);case"enum":return Fh(h.enum,i,c.enumAsInteger);case"list":return nx(i,c);case"map":return Ja(i,c)}}function Ja(h,i){const c=h.field(),v={};switch(c.mapKind){case"scalar":for(const[E,_]of h)v[E]=Af(c,_);break;case"message":for(const[E,_]of h)v[E]=Za(_,i);break;case"enum":for(const[E,_]of h)v[E]=Fh(c.enum,_,i.enumAsInteger);break}return i.alwaysEmitImplicit||h.size>0?v:void 0}function nx(h,i){const c=h.field(),v=[];switch(c.listKind){case"scalar":for(const E of h)v.push(Af(c,E));break;case"enum":for(const E of h)v.push(Fh(c.enum,E,i.enumAsInteger));break;case"message":for(const E of h)v.push(Za(E,i));break}return i.alwaysEmitImplicit||v.length>0?v:void 0}function Fh(h,i,c){var v;if(typeof i!="number")throw new Error(`cannot encode ${h} to JSON: expected number, got ${rt(i)}`);if(h.typeName=="google.protobuf.NullValue")return null;if(c)return i;const E=h.value[i];return(v=E==null?void 0:E.name)!==null&&v!==void 0?v:i}function Af(h,i){var c,v,E,_,F,U;switch(h.scalar){case d.INT32:case d.SFIXED32:case d.SINT32:case d.FIXED32:case d.UINT32:if(typeof i!="number")throw new Error(`cannot encode ${h} to JSON: ${(c=Dt(h,i))===null||c===void 0?void 0:c.message}`);return i;case d.FLOAT:case d.DOUBLE:if(typeof i!="number")throw new Error(`cannot encode ${h} to JSON: ${(v=Dt(h,i))===null||v===void 0?void 0:v.message}`);return Number.isNaN(i)?"NaN":i===Number.POSITIVE_INFINITY?"Infinity":i===Number.NEGATIVE_INFINITY?"-Infinity":i;case d.STRING:if(typeof i!="string")throw new Error(`cannot encode ${h} to JSON: ${(E=Dt(h,i))===null||E===void 0?void 0:E.message}`);return i;case d.BOOL:if(typeof i!="boolean")throw new Error(`cannot encode ${h} to JSON: ${(_=Dt(h,i))===null||_===void 0?void 0:_.message}`);return i;case d.UINT64:case d.FIXED64:case d.INT64:case d.SFIXED64:case d.SINT64:if(typeof i!="bigint"&&typeof i!="string")throw new Error(`cannot encode ${h} to JSON: ${(F=Dt(h,i))===null||F===void 0?void 0:F.message}`);return i.toString();case d.BYTES:if(i instanceof Uint8Array)return ly(i);throw new Error(`cannot encode ${h} to JSON: ${(U=Dt(h,i))===null||U===void 0?void 0:U.message}`)}}function E1(h,i){return i.useProtoFieldName?h.name:h.jsonName}function A1(h,i){if(h.desc.typeName.startsWith("google.protobuf."))switch(h.desc.typeName){case"google.protobuf.Any":return w1(h.message,i);case"google.protobuf.Timestamp":return Li(h.message);case"google.protobuf.Duration":return rx(h.message);case"google.protobuf.FieldMask":return ix(h.message);case"google.protobuf.Struct":return kh(h.message);case"google.protobuf.Value":return vi(h.message);case"google.protobuf.ListValue":return lm(h.message);default:if(V(h.desc)){const c=h.desc.fields[0];return Af(c,h.get(c))}return}}function w1(h,i){if(h.typeUrl==="")return{};const{registry:c}=i;let v,E;if(c&&(v=x1(h,c),v&&(E=c.getMessage(v.$typeName))),!E||!v)throw new Error(`cannot encode message ${h.$typeName} to JSON: "${h.typeUrl}" is not in the type registry`);let _=Za(qt(E,v),i);return(E.typeName.startsWith("google.protobuf.")||_===null||Array.isArray(_)||typeof _!="object")&&(_={value:_}),_["@type"]=h.typeUrl,_}function rx(h){const i=Number(h.seconds),c=h.nanos;if(i>315576e6||i<-315576e6)throw new Error(`cannot encode message ${h.$typeName} to JSON: value out of range`);if(i>0&&c<0||i<0&&c>0)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos sign must match seconds sign`);let v=h.seconds.toString();if(c!==0){let E=Math.abs(c).toString();E="0".repeat(9-E.length)+E,E.substring(3)==="000000"?E=E.substring(0,3):E.substring(6)==="000"&&(E=E.substring(0,6)),v+="."+E,c<0&&i==0&&(v="-"+v)}return v+"s"}function ix(h){return h.paths.map(i=>{if(i.match(/_[0-9]?_/g)||i.match(/[A-Z]/g))throw new Error(`cannot encode message ${h.$typeName} to JSON: lowerCamelCase of path name "`+i+'" is irreversible');return Ga(i)}).join(",")}function kh(h){const i={};for(const[c,v]of Object.entries(h.fields))i[c]=vi(v);return i}function vi(h){switch(h.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(h.kind.value))throw new Error(`${h.$typeName} cannot be NaN or Infinity`);return h.kind.value;case"boolValue":return h.kind.value;case"stringValue":return h.kind.value;case"structValue":return kh(h.kind.value);case"listValue":return lm(h.kind.value);default:throw new Error(`${h.$typeName} must have a value`)}}function lm(h){return h.values.map(vi)}function Li(h){const i=Number(h.seconds)*1e3;if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${h.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(h.nanos<0)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos must not be negative`);if(h.nanos>999999999)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos must not be greater than 99999999`);let c="Z";if(h.nanos>0){const v=(h.nanos+1e9).toString().substring(1);v.substring(3)==="000000"?c="."+v.substring(0,3)+"Z":v.substring(6)==="000"?c="."+v.substring(0,6)+"Z":c="."+v+"Z"}return new Date(i).toISOString().replace(".000Z",c)}const yi={ignoreUnknownFields:!1};function ku(h){return h?Object.assign(Object.assign({},yi),h):yi}function um(h,i,c){return Bh(h,cm(i,h.typeName),c)}function Bh(h,i,c){const v=qt(h);try{Zo(v,i,ku(c))}catch(E){throw ge(E)?new Error(`cannot decode ${E.field()} from JSON: ${E.message}`,{cause:E}):E}return v.message}function Zo(h,i,c){var v;if(fm(h,i,c))return;if(i==null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode ${h.desc} from JSON: ${rt(i)}`);const E=new Map,_=new Map;for(const F of h.desc.fields)_.set(F.name,F).set(F.jsonName,F);for(const[F,U]of Object.entries(i)){const W=_.get(F);if(W){if(W.oneof){if(U===null&&W.fieldKind=="scalar")continue;const te=E.get(W.oneof);if(te!==void 0)throw new gt(W.oneof,`oneof set multiple times by ${te.name} and ${W.name}`);E.set(W.oneof,W)}jh(h,W,U,c)}else{let te;if(F.startsWith("[")&&F.endsWith("]")&&(te=(v=c.registry)===null||v===void 0?void 0:v.getExtension(F.substring(1,F.length-1)))&&te.extendee.typeName===h.desc.typeName){const[ce,Re,Be]=Ph(te);jh(ce,Re,U,c),ex(h.message,te,Be())}if(!te&&!c.ignoreUnknownFields)throw new Error(`cannot decode ${h.desc} from JSON: key "${F}" is unknown`)}}}function jh(h,i,c,v){switch(i.fieldKind){case"scalar":C1(h,i,c);break;case"enum":ju(h,i,c,v);break;case"message":zh(h,i,c,v);break;case"list":ox(h.get(i),c,v);break;case"map":Bu(h.get(i),c,v);break}}function Bu(h,i,c){if(i===null)return;const v=h.field();if(typeof i!="object"||Array.isArray(i))throw new gt(v,"expected object, got "+rt(i));for(const[E,_]of Object.entries(i)){if(_===null)throw new gt(v,"map value must not be null");let F;switch(v.mapKind){case"message":const W=qt(v.message);Zo(W,_,c),F=W;break;case"enum":if(F=wf(v.enum,_,c.ignoreUnknownFields,!0),F===Pr)return;break;case"scalar":F=Cf(v,_,!0);break}const U=Vh(v.mapKey,E);h.set(U,F)}}function ox(h,i,c){if(i===null)return;const v=h.field();if(!Array.isArray(i))throw new gt(v,"expected Array, got "+rt(i));for(const E of i){if(E===null)throw new gt(v,"list item must not be null");switch(v.listKind){case"message":const _=qt(v.message);Zo(_,E,c),h.add(_);break;case"enum":const F=wf(v.enum,E,c.ignoreUnknownFields,!0);F!==Pr&&h.add(F);break;case"scalar":h.add(Cf(v,E,!0));break}}}function zh(h,i,c,v){if(c===null&&i.message.typeName!="google.protobuf.Value"){h.clear(i);return}const E=h.isSet(i)?h.get(i):qt(i.message);Zo(E,c,v),h.set(i,E)}function ju(h,i,c,v){const E=wf(i.enum,c,v.ignoreUnknownFields,!1);E===Fi?h.clear(i):E!==Pr&&h.set(i,E)}function C1(h,i,c){const v=Cf(i,c,!1);v===Fi?h.clear(i):h.set(i,v)}const Pr=Symbol();function wf(h,i,c,v){if(i===null)return h.typeName=="google.protobuf.NullValue"?0:v?h.values[0].number:Fi;switch(typeof i){case"number":if(Number.isInteger(i))return i;break;case"string":const E=h.values.find(_=>_.name===i);if(E!==void 0)return E.number;if(c)return Pr;break}throw new Error(`cannot decode ${h} from JSON: ${rt(i)}`)}const Fi=Symbol();function Cf(h,i,c){if(i===null)return c?$(h.scalar,!1):Fi;switch(h.scalar){case d.DOUBLE:case d.FLOAT:if(i==="NaN")return NaN;if(i==="Infinity")return Number.POSITIVE_INFINITY;if(i==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof i=="number"){if(Number.isNaN(i))throw new gt(h,"unexpected NaN number");if(!Number.isFinite(i))throw new gt(h,"unexpected infinite number");break}if(typeof i=="string"){if(i===""||i.trim().length!==i.length)break;const v=Number(i);if(!Number.isFinite(v))break;return v}break;case d.INT32:case d.FIXED32:case d.SFIXED32:case d.SINT32:case d.UINT32:return $s(i);case d.BYTES:if(typeof i=="string"){if(i==="")return new Uint8Array(0);try{return zg(i)}catch(v){const E=v instanceof Error?v.message:String(v);throw new gt(h,E)}}break}return i}function Vh(h,i){switch(h){case d.BOOL:switch(i){case"true":return!0;case"false":return!1}return i;case d.INT32:case d.FIXED32:case d.UINT32:case d.SFIXED32:case d.SINT32:return $s(i);default:return i}}function $s(h){if(typeof h=="string"){if(h===""||h.trim().length!==h.length)return h;const i=Number(h);return Number.isNaN(i)?h:i}return h}function cm(h,i){try{return JSON.parse(h)}catch(c){const v=c instanceof Error?c.message:String(c);throw new Error(`cannot decode message ${i} from JSON: ${v}`,{cause:c})}}function fm(h,i,c){if(!h.desc.typeName.startsWith("google.protobuf."))return!1;switch(h.desc.typeName){case"google.protobuf.Any":return zu(h.message,i,c),!0;case"google.protobuf.Timestamp":return Vu(h.message,i),!0;case"google.protobuf.Duration":return Uh(h.message,i),!0;case"google.protobuf.FieldMask":return Gh(h.message,i),!0;case"google.protobuf.Struct":return xi(h.message,i),!0;case"google.protobuf.Value":return ni(h.message,i),!0;case"google.protobuf.ListValue":return Hs(h.message,i),!0;default:if(V(h.desc)){const v=h.desc.fields[0];return i===null?h.clear(v):h.set(v,Cf(v,i,!0)),!0}return!1}}function zu(h,i,c){var v;if(i===null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode message ${h.$typeName} from JSON: expected object but got ${rt(i)}`);if(Object.keys(i).length==0)return;const E=i["@type"];if(typeof E!="string"||E=="")throw new Error(`cannot decode message ${h.$typeName} from JSON: "@type" is empty`);const _=E.includes("/")?E.substring(E.lastIndexOf("/")+1):E;if(!_.length)throw new Error(`cannot decode message ${h.$typeName} from JSON: "@type" is invalid`);const F=(v=c.registry)===null||v===void 0?void 0:v.getMessage(_);if(!F)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${E} is not in the type registry`);const U=qt(F);if(_.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(i,"value")){const W=i.value;Zo(U,W,c)}else{const W=Object.assign({},i);delete W["@type"],Zo(U,W,c)}Ky(U.desc,U.message,h)}function Vu(h,i){if(typeof i!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(i)}`);const c=i.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!c)throw new Error(`cannot decode message ${h.$typeName} from JSON: invalid RFC 3339 string`);const v=Date.parse(c[1]+"-"+c[2]+"-"+c[3]+"T"+c[4]+":"+c[5]+":"+c[6]+(c[8]?c[8]:"Z"));if(Number.isNaN(v))throw new Error(`cannot decode message ${h.$typeName} from JSON: invalid RFC 3339 string`);if(v<Date.parse("0001-01-01T00:00:00Z")||v>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${h.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);h.seconds=L.parse(v/1e3),h.nanos=0,c[7]&&(h.nanos=parseInt("1"+c[7]+"0".repeat(9-c[7].length))-1e9)}function Uh(h,i){if(typeof i!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(i)}`);const c=i.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(c===null)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(i)}`);const v=Number(c[1]);if(v>315576e6||v<-315576e6)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(i)}`);if(h.seconds=L.parse(v),typeof c[2]!="string")return;const E=c[2]+"0".repeat(9-c[2].length);h.nanos=parseInt(E),(v<0||Object.is(v,-0))&&(h.nanos=-h.nanos)}function Gh(h,i){if(typeof i!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(i)}`);if(i==="")return;function c(v){if(v.includes("_"))throw new Error(`cannot decode message ${h.$typeName} from JSON: path names must be lowerCamelCase`);const E=v.replace(/[A-Z]/g,_=>"_"+_.toLowerCase());return E[0]==="_"?E.substring(1):E}h.paths=i.split(",").map(c)}function xi(h,i){if(typeof i!="object"||i==null||Array.isArray(i))throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(i)}`);for(const[c,v]of Object.entries(i)){const E=J(ti);ni(E,v),h.fields[c]=E}}function ni(h,i){switch(typeof i){case"number":h.kind={case:"numberValue",value:i};break;case"string":h.kind={case:"stringValue",value:i};break;case"boolean":h.kind={case:"boolValue",value:i};break;case"object":if(i===null)h.kind={case:"nullValue",value:Mh.NULL_VALUE};else if(Array.isArray(i)){const c=J(Sf);Hs(c,i),h.kind={case:"listValue",value:c}}else{const c=J(S1);xi(c,i),h.kind={case:"structValue",value:c}}break;default:throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(i)}`)}return h}function Hs(h,i){if(!Array.isArray(i))throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(i)}`);for(const c of i){const v=J(ti);ni(v,c),h.values.push(v)}}function bo(h){const i=l[h];return typeof i!="string"?h.toString():i[0].toLowerCase()+i.substring(1).replace(/[A-Z]/g,c=>"_"+c.toLowerCase())}class Kt extends Error{constructor(i,c=l.Unknown,v,E,_){super(Qa(i,c)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=i,this.code=c,this.metadata=new Headers(v??{}),this.details=E??[],this.cause=_}static from(i,c=l.Unknown){return i instanceof Kt?i:i instanceof Error?i.name=="AbortError"||i.name=="TimeoutError"?new Kt(i.message,l.Canceled):new Kt(i.message,c,void 0,void 0,i):new Kt(String(i),c,void 0,void 0,i)}static[Symbol.hasInstance](i){return i instanceof Error?Object.getPrototypeOf(i)===Kt.prototype?!0:i.name==="ConnectError"&&"code"in i&&typeof i.code=="number"&&"metadata"in i&&"details"in i&&Array.isArray(i.details)&&"rawMessage"in i&&typeof i.rawMessage=="string"&&"cause"in i:!1}findDetails(i){const c=i.kind==="message"?{getMessage:E=>E===i.typeName?i:void 0}:i,v=[];for(const E of this.details){if("desc"in E){c.getMessage(E.desc.typeName)&&v.push(J(E.desc,E.value));continue}const _=c.getMessage(E.type);if(_)try{v.push(Mi(_,E.value))}catch{}}return v}}function Qa(h,i){return h.length?`[${bo(i)}] ${h}`:`[${bo(i)}]`}function sx(h,i,c){try{const v=zg(h);return i?Mi(i,v,c):v}catch(v){throw Kt.from(v,l.DataLoss)}}function dm(h,i){const c={};for(const v of h.methods){const E=i(v);E!=null&&(c[v.localName]=E)}return c}const $h=1;function Vr(h,i,c=!1){if(i>h){let v=`message size is larger than configured readMaxBytes ${h}`;throw c&&(v=`message size ${i} is larger than configured readMaxBytes ${h}`),new Kt(v,l.ResourceExhausted)}}function Yn(h){return new cn(h)}class cn{constructor(i){this.readMaxBytes=i,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((i,c)=>i+c.byteLength,0)}decode(i){this.buf.push(i);const c=[];for(;;){let v=this.pop();if(!v)break;c.push(v)}return c}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const i=this.env;return this.env=void 0,i}}head(){if(!this.cons(this.header))return;const i=this.headerView.getUint8(0),c=this.headerView.getUint32(1);return Vr(this.readMaxBytes,c,!0),{flags:i,data:new Uint8Array(c)}}cons(i){const c=i.byteLength;if(this.byteLength<c)return!1;let v=0;for(;v<c;){const E=this.buf.shift();E.byteLength>c-v?(i.set(E.subarray(0,c-v),v),this.buf.unshift(E.subarray(c-v)),v+=c-v):(i.set(E,v),v+=E.byteLength)}return!0}}function Ys(h){let i;const c=Yn(4294967295);return new ReadableStream({start(){i=h.getReader()},async pull(v){let E=!1;for(;!E;){const _=await i.read();if(_.done)c.byteLength>0&&v.error(new Kt("protocol error: incomplete envelope",l.InvalidArgument)),v.close();else for(const F of c.decode(_.value))v.enqueue(F),E=!0}}})}function Qi(h,i){const c=new Uint8Array(i.length+5);c.set(i,5);const v=new DataView(c.buffer,c.byteOffset,c.byteLength);return v.setUint8(0,h),v.setUint32(1,i.length),c}var hm=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=h[Symbol.asyncIterator],c;return i?i.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),c={},v("next"),v("throw"),v("return"),c[Symbol.asyncIterator]=function(){return this},c);function v(_){c[_]=h[_]&&function(F){return new Promise(function(U,W){F=h[_](F),E(U,W,F.done,F.value)})}}function E(_,F,U,W){Promise.resolve(W).then(function(te){_({value:te,done:U})},F)}},eo=function(h){return this instanceof eo?(this.v=h,this):new eo(h)},ax=function(h,i,c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=c.apply(h,i||[]),E,_=[];return E=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),U("next"),U("throw"),U("return",F),E[Symbol.asyncIterator]=function(){return this},E;function F(Te){return function(We){return Promise.resolve(We).then(Te,Re)}}function U(Te,We){v[Te]&&(E[Te]=function(He){return new Promise(function(ot,wt){_.push([Te,He,ot,wt])>1||W(Te,He)})},We&&(E[Te]=We(E[Te])))}function W(Te,We){try{te(v[Te](We))}catch(He){Be(_[0][3],He)}}function te(Te){Te.value instanceof eo?Promise.resolve(Te.value.v).then(ce,Re):Be(_[0][2],Te)}function ce(Te){W("next",Te)}function Re(Te){W("throw",Te)}function Be(Te,We){Te(We),_.shift(),_.length&&W(_[0][0],_[0][1])}},lx=function(h){var i,c;return i={},v("next"),v("throw",function(E){throw E}),v("return"),i[Symbol.iterator]=function(){return this},i;function v(E,_){i[E]=h[E]?function(F){return(c=!c)?{value:eo(h[E](F)),done:!1}:_?_(F):F}:_}};function Rf(h){return ax(this,arguments,function*(){yield eo(yield*lx(hm(h)))})}var Uu=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=h[Symbol.asyncIterator],c;return i?i.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),c={},v("next"),v("throw"),v("return"),c[Symbol.asyncIterator]=function(){return this},c);function v(_){c[_]=h[_]&&function(F){return new Promise(function(U,W){F=h[_](F),E(U,W,F.done,F.value)})}}function E(_,F,U,W){Promise.resolve(W).then(function(te){_({value:te,done:U})},F)}},el=function(h){return this instanceof el?(this.v=h,this):new el(h)},Tf=function(h){var i,c;return i={},v("next"),v("throw",function(E){throw E}),v("return"),i[Symbol.iterator]=function(){return this},i;function v(E,_){i[E]=h[E]?function(F){return(c=!c)?{value:el(h[E](F)),done:!1}:_?_(F):F}:_}},pm=function(h,i,c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=c.apply(h,i||[]),E,_=[];return E=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),U("next"),U("throw"),U("return",F),E[Symbol.asyncIterator]=function(){return this},E;function F(Te){return function(We){return Promise.resolve(We).then(Te,Re)}}function U(Te,We){v[Te]&&(E[Te]=function(He){return new Promise(function(ot,wt){_.push([Te,He,ot,wt])>1||W(Te,He)})},We&&(E[Te]=We(E[Te])))}function W(Te,We){try{te(v[Te](We))}catch(He){Be(_[0][3],He)}}function te(Te){Te.value instanceof el?Promise.resolve(Te.value.v).then(ce,Re):Be(_[0][2],Te)}function ce(Te){W("next",Te)}function Re(Te){W("throw",Te)}function Be(Te,We){Te(We),_.shift(),_.length&&W(_[0][0],_[0][1])}};function tl(h,i){return dm(h,c=>{switch(c.methodKind){case"unary":return Jo(i,c);case"server_streaming":return Ws(i,c);case"client_streaming":return Qo(i,c);case"bidi_streaming":return gm(i,c);default:return null}})}function Jo(h,i){return async(c,v)=>{var E,_;const F=await h.unary(i,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,c,v==null?void 0:v.contextValues);return(E=v==null?void 0:v.onHeader)===null||E===void 0||E.call(v,F.header),(_=v==null?void 0:v.onTrailer)===null||_===void 0||_.call(v,F.trailer),F.message}}function Ws(h,i){return(c,v)=>Hh(h.stream(i,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,Rf([c]),v==null?void 0:v.contextValues),v)}function Qo(h,i){return async(c,v)=>{var E,_,F,U,W,te;const ce=await h.stream(i,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,c,v==null?void 0:v.contextValues);(W=v==null?void 0:v.onHeader)===null||W===void 0||W.call(v,ce.header);let Re,Be=0;try{for(var Te=!0,We=Uu(ce.message),He;He=await We.next(),E=He.done,!E;Te=!0)U=He.value,Te=!1,Re=U,Be++}catch(ot){_={error:ot}}finally{try{!Te&&!E&&(F=We.return)&&await F.call(We)}finally{if(_)throw _.error}}if(!Re)throw new Kt("protocol error: missing response message",l.Unimplemented);if(Be>1)throw new Kt("protocol error: received extra messages for client streaming method",l.Unimplemented);return(te=v==null?void 0:v.onTrailer)===null||te===void 0||te.call(v,ce.trailer),Re}}function gm(h,i){return(c,v)=>Hh(h.stream(i,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,c,v==null?void 0:v.contextValues),v)}function Hh(h,i){const c=function(){return pm(this,arguments,function*(){var v,E;const _=yield el(h);(v=i==null?void 0:i.onHeader)===null||v===void 0||v.call(i,_.header),yield el(yield*Tf(Uu(_.message))),(E=i==null?void 0:i.onTrailer)===null||E===void 0||E.call(i,_.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>c.next()})}}function Nf(...h){const i=new AbortController,c=h.filter(E=>E!==void 0).concat(i.signal);for(const E of c){if(E.aborted){v.apply(E);break}E.addEventListener("abort",v)}function v(){i.signal.aborted||i.abort(qs(this));for(const E of c)E.removeEventListener("abort",v)}return i}function Yh(h){const i=new AbortController,c=()=>{i.abort(new Kt("the operation timed out",l.DeadlineExceeded))};let v;return h!==void 0&&(h<=0?c():v=setTimeout(c,h)),{signal:i.signal,cleanup:()=>clearTimeout(v)}}function qs(h){if(!h.aborted)return;if(h.reason!==void 0)return h.reason;const i=new Error("This operation was aborted");return i.name="AbortError",i}function br(){return{get(h){return h.id in this?this[h.id]:h.defaultValue},set(h,i){return this[h.id]=i,this},delete(h){return delete this[h.id],this}}}const Gu=128;function mm(h){const i=new Headers,c=new TextDecoder().decode(h).split(`\r
`);for(const v of c){if(v==="")continue;const E=v.indexOf(":");if(E>0){const _=v.substring(0,E).trim(),F=v.substring(E+1).trim();i.append(_,F)}}return i}const R1="Content-Type",T1="Grpc-Timeout",$u="Grpc-Status",nr="Grpc-Message",vm="Grpc-Status-Details-Bin",_f="User-Agent",Hu="X-User-Agent",ym="X-Grpc-Web",Yu="application/grpc-web+proto",Wu="application/grpc-web+json";function N1(h,i,...c){if(c.length>0)throw new Error;return h.services[i]}const I1=Mt(xo("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[$y]),0),ux="0";function Ks(h){var i;const c=h.get(vm);if(c!=null){const E=sx(c,I1);if(E.code==0)return;const _=new Kt(E.message,E.code,h);return _.details=E.details.map(F=>({type:F.typeUrl.substring(F.typeUrl.lastIndexOf("/")+1),value:F.value})),_}const v=h.get($u);if(v!=null){if(v===ux)return;const E=parseInt(v,10);return E in l?new Kt(decodeURIComponent((i=h.get(nr))!==null&&i!==void 0?i:""),E,h):new Kt(`invalid grpc-status: ${v}`,l.Internal,h)}}function Wh(h,i){return h.toString().replace(/\/?$/,`/${i.parent.typeName}/${i.name}`)}function If(h,i){return J(h,i)}function cx(h,i){function c(v){return v.done===!0?v:{done:v.done,value:If(h,v.value)}}return{[Symbol.asyncIterator](){const v=i[Symbol.asyncIterator](),E={next:()=>v.next().then(c)};return v.throw!==void 0&&(E.throw=_=>v.throw(_).then(c)),v.return!==void 0&&(E.return=_=>v.return(_).then(c)),E}}}function qu(h,i){if(!i)return h;for(const c of i.concat().reverse())h=c(h);return h}function fx(h){var i;const c=Object.assign({},h);return(i=c.ignoreUnknownFields)!==null&&i!==void 0||(c.ignoreUnknownFields=!0),c}function Of(h,i,c,v){const E=i?qh(h.input,v):xm(h.input,c);return{parse:(i?qh(h.output,v):xm(h.output,c)).parse,serialize:E.serialize}}function qh(h,i){return{parse(c){try{return Mi(h,c,i)}catch(v){const E=v instanceof Error?v.message:String(v);throw new Kt(`parse binary: ${E}`,l.Internal)}},serialize(c){try{return Pi(h,c,i)}catch(v){const E=v instanceof Error?v.message:String(v);throw new Kt(`serialize binary: ${E}`,l.Internal)}}}}function xm(h,i){var c,v;const E=(c=i==null?void 0:i.textEncoder)!==null&&c!==void 0?c:new TextEncoder,_=(v=i==null?void 0:i.textDecoder)!==null&&v!==void 0?v:new TextDecoder,F=fx(i);return{parse(U){try{const W=_.decode(U);return um(h,W,F)}catch(W){throw Kt.from(W,l.InvalidArgument)}},serialize(U){try{const W=Fu(h,U,F);return E.encode(W)}catch(W){throw Kt.from(W,l.Internal)}}}}function Kh(h){const i=qu(h.next,h.interceptors),[c,v,E]=Ku(h),_=Object.assign(Object.assign({},h.req),{message:If(h.req.method.input,h.req.message),signal:c});return i(_).then(F=>(E(),F),v)}function dx(h){const i=qu(h.next,h.interceptors),[c,v,E]=Ku(h),_=Object.assign(Object.assign({},h.req),{message:cx(h.req.method.input,h.req.message),signal:c});let F=!1;return c.addEventListener("abort",function(){var U,W;const te=h.req.message[Symbol.asyncIterator]();F||(U=te.throw)===null||U===void 0||U.call(te,this.reason).catch(()=>{}),(W=te.return)===null||W===void 0||W.call(te).catch(()=>{})}),i(_).then(U=>Object.assign(Object.assign({},U),{message:{[Symbol.asyncIterator](){const W=U.message[Symbol.asyncIterator]();return{next(){return W.next().then(te=>(te.done==!0&&(F=!0,E()),te),v)}}}}}),v)}function Ku(h){const{signal:i,cleanup:c}=Yh(h.timeoutMs),v=Nf(h.signal,i);return[v.signal,function(_){const F=Kt.from(i.aborted?qs(i):_);return v.abort(F),c(),Promise.reject(F)},function(){c(),v.abort()}]}function hx(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function bm(h,i){const c=Ks(h);if(c)throw i.forEach((v,E)=>{c.metadata.append(E,v)}),c;if(!i.has($u)&&!h.has($u))throw new Kt("protocol error: missing status",l.Internal)}function es(h,i,c,v){var E,_;const F=new Headers(c??{});F.set(R1,h?Yu:Wu),F.set(ym,"1");const U=(_=(E=F.get(_f))!==null&&E!==void 0?E:F.get(Hu))!==null&&_!==void 0?_:"connect-es/2.1.1";return F.set(Hu,U),i!==void 0&&F.set(T1,`${i}m`),F}function Sm(h){switch(h){case 400:return l.Internal;case 401:return l.Unauthenticated;case 403:return l.PermissionDenied;case 404:return l.Unimplemented;case 429:return l.Unavailable;case 502:return l.Unavailable;case 503:return l.Unavailable;case 504:return l.Unavailable;default:return l.Unknown}}function Xh(h,i){var c;if(h>=200&&h<300)return{foundStatus:i.has($u),headerError:Ks(i)};throw new Kt(decodeURIComponent((c=i.get(nr))!==null&&c!==void 0?c:`HTTP ${h}`),Sm(h),i)}var ri=function(h){return this instanceof ri?(this.v=h,this):new ri(h)},Xs=function(h,i,c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=c.apply(h,i||[]),E,_=[];return E=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),U("next"),U("throw"),U("return",F),E[Symbol.asyncIterator]=function(){return this},E;function F(Te){return function(We){return Promise.resolve(We).then(Te,Re)}}function U(Te,We){v[Te]&&(E[Te]=function(He){return new Promise(function(ot,wt){_.push([Te,He,ot,wt])>1||W(Te,He)})},We&&(E[Te]=We(E[Te])))}function W(Te,We){try{te(v[Te](We))}catch(He){Be(_[0][3],He)}}function te(Te){Te.value instanceof ri?Promise.resolve(Te.value.v).then(ce,Re):Be(_[0][2],Te)}function ce(Te){W("next",Te)}function Re(Te){W("throw",Te)}function Be(Te,We){Te(We),_.shift(),_.length&&W(_[0][0],_[0][1])}};const Xu={redirect:"error"};function Em(h){var i;hx();const c=(i=h.useBinaryFormat)!==null&&i!==void 0?i:!0;return{async unary(v,E,_,F,U,W){const{serialize:te,parse:ce}=Of(v,c,h.jsonOptions,h.binaryOptions);return _=_===void 0?h.defaultTimeoutMs:_<=0?void 0:_,await Kh({interceptors:h.interceptors,signal:E,timeoutMs:_,req:{stream:!1,service:v.parent,method:v,requestMethod:"POST",url:Wh(h.baseUrl,v),header:es(c,_,F),contextValues:W??br(),message:U},next:async Re=>{var Be;const We=await((Be=h.fetch)!==null&&Be!==void 0?Be:globalThis.fetch)(Re.url,Object.assign(Object.assign({},Xu),{method:Re.requestMethod,headers:Re.header,signal:Re.signal,body:Qi(0,te(Re.message))})),{headerError:He}=Xh(We.status,We.headers);if(!We.body)throw He!==void 0?He:"missing response body";const ot=Ys(We.body).getReader();let wt,fn;for(;;){const Dn=await ot.read();if(Dn.done)break;const{flags:tn,data:Tr}=Dn.value;if((tn&$h)===$h)throw new Kt("protocol error: received unsupported compressed output",l.Internal);if(tn===Gu){if(wt!==void 0)throw"extra trailer";wt=mm(Tr);continue}if(fn!==void 0)throw new Kt("extra message",l.Unimplemented);fn=ce(Tr)}if(wt===void 0)throw He!==void 0?He:new Kt("missing trailer",We.headers.has($u)?l.Unimplemented:l.Unknown);if(bm(wt,We.headers),fn===void 0)throw new Kt("missing message",wt.has($u)?l.Unimplemented:l.Unknown);return{stream:!1,service:v.parent,method:v,header:We.headers,message:fn,trailer:wt}}})},async stream(v,E,_,F,U,W){const{serialize:te,parse:ce}=Of(v,c,h.jsonOptions,h.binaryOptions);function Re(Te,We,He,ot,wt){return Xs(this,arguments,function*(){const Dn=Ys(Te).getReader();if(We){if(!(yield ri(Dn.read())).done)throw"extra data for trailers-only";return yield ri(void 0)}let tn=!1;for(;;){const Tr=yield ri(Dn.read());if(Tr.done)break;const{flags:dn,data:or}=Tr.value;if((dn&Gu)===Gu){if(tn)throw"extra trailer";tn=!0;const Gn=mm(or);bm(Gn,ot),Gn.forEach((Bn,wi)=>He.set(wi,Bn));continue}if(tn)throw"extra message";yield yield ri(ce(or))}if("throwIfAborted"in wt&&wt.throwIfAborted(),!tn)throw"missing trailer"})}async function Be(Te){if(v.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const We=await Te[Symbol.asyncIterator]().next();if(We.done==!0)throw"missing request message";return Qi(0,te(We.value))}return _=_===void 0?h.defaultTimeoutMs:_<=0?void 0:_,dx({interceptors:h.interceptors,signal:E,timeoutMs:_,req:{stream:!0,service:v.parent,method:v,requestMethod:"POST",url:Wh(h.baseUrl,v),header:es(c,_,F),contextValues:W??br(),message:U},next:async Te=>{var We;const ot=await((We=h.fetch)!==null&&We!==void 0?We:globalThis.fetch)(Te.url,Object.assign(Object.assign({},Xu),{method:Te.requestMethod,headers:Te.header,signal:Te.signal,body:await Be(Te.message)})),{foundStatus:wt,headerError:fn}=Xh(ot.status,ot.headers);if(fn!=null)throw fn;if(!ot.body)throw"missing response body";const Dn=new Headers;return Object.assign(Object.assign({},Te),{header:ot.headers,trailer:Dn,message:Re(ot.body,wt,Dn,ot.headers,Te.signal)})}})}}}const Ft=xo("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[Vy,Jy]),Df=Mt(Ft,0),Mf=Mt(Ft,1),px=Mt(Ft,2),Zh=Mt(Ft,3),Zs=Mt(Ft,4),Zu=Mt(Ft,5),gx=Mt(Ft,5,0),Am=Mt(Ft,5,1),wm=Mt(Ft,5,2),Js=Mt(Ft,5,3),Ut=Mt(Ft,5,4),An=Mt(Ft,5,5),rr=Mt(Ft,5,6),Jh=Mt(Ft,5,7),Ju=Mt(Ft,5,8),nl=Mt(Ft,5,9),ts=Mt(Ft,6),Lr=Mt(Ft,7),Qu=Mt(Ft,7,0),O1=Mt(Ft,7,1),Jn=Mt(Ft,7,2),Cm=Mt(Ft,7,3),Rm=Mt(Ft,7,4),mx=Mt(Ft,7,5),vx=Mt(Ft,8),D1=Mt(Ft,9),Qh=Mt(Ft,10),Tm=Mt(Ft,11),Nm=Mt(Ft,12),ii=Mt(Ft,13),ir=Mt(Ft,14),_m=Mt(Ft,15),Pf=Mt(Ft,16),Lf=Mt(Ft,23);var rl=(h=>(h[h.UNSPECIFIED=0]="UNSPECIFIED",h[h.PUT=1]="PUT",h[h.DELETE=2]="DELETE",h[h.CLEAR=3]="CLEAR",h))(rl||{});const ns=Mt(Ft,24),ep=Mt(Ft,26),Im=Mt(Ft,27),Om=Mt(Ft,28);var Dm=(h=>(h[h.UNSPECIFIED=0]="UNSPECIFIED",h[h.PRESENCE=1]="PRESENCE",h[h.BROADCAST=2]="BROADCAST",h))(Dm||{}),zt=(h=>(h[h.NULL=0]="NULL",h[h.BOOLEAN=1]="BOOLEAN",h[h.INTEGER=2]="INTEGER",h[h.LONG=3]="LONG",h[h.DOUBLE=4]="DOUBLE",h[h.STRING=5]="STRING",h[h.BYTES=6]="BYTES",h[h.DATE=7]="DATE",h[h.JSON_OBJECT=8]="JSON_OBJECT",h[h.JSON_ARRAY=9]="JSON_ARRAY",h[h.TEXT=10]="TEXT",h[h.INTEGER_CNT=11]="INTEGER_CNT",h[h.LONG_CNT=12]="LONG_CNT",h[h.TREE=13]="TREE",h))(zt||{}),Ff=(h=>(h[h.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",h[h.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",h[h.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",h[h.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",h))(Ff||{});const yx=N1(xo("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5Ij0KF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEhUKDXNlc3Npb25fY291bnQYASABKAMSCwoDc2VxGAIgASgDIloKEEJyb2FkY2FzdFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEg0KBXRvcGljGAMgASgJEg8KB3BheWxvYWQYBCABKAwiEwoRQnJvYWRjYXN0UmVzcG9uc2UyhQsKDVlvcmtpZVNlcnZpY2USVwoOQWN0aXZhdGVDbGllbnQSIC55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0GiEueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJdChBEZWFjdGl2YXRlQ2xpZW50EiIueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXF1ZXN0GiMueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXNwb25zZSIAElcKDkF0dGFjaERvY3VtZW50EiAueW9ya2llLnYxLkF0dGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoORGV0YWNoRG9jdW1lbnQSIC55b3JraWUudjEuRGV0YWNoRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVzcG9uc2UiABJXCg5SZW1vdmVEb2N1bWVudBIgLnlvcmtpZS52MS5SZW1vdmVEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXNwb25zZSIAEloKD1B1c2hQdWxsQ2hhbmdlcxIhLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXF1ZXN0GiIueW9ya2llLnYxLlB1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlIgASVgoNV2F0Y2hEb2N1bWVudBIfLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVxdWVzdBogLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UiADABElcKDkNyZWF0ZVJldmlzaW9uEiAueW9ya2llLnYxLkNyZWF0ZVJldmlzaW9uUmVxdWVzdBohLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlc3BvbnNlIgASTgoLR2V0UmV2aXNpb24SHS55b3JraWUudjEuR2V0UmV2aXNpb25SZXF1ZXN0Gh4ueW9ya2llLnYxLkdldFJldmlzaW9uUmVzcG9uc2UiABJUCg1MaXN0UmV2aXNpb25zEh8ueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXF1ZXN0GiAueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXNwb25zZSIAEloKD1Jlc3RvcmVSZXZpc2lvbhIhLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXF1ZXN0GiIueW9ya2llLnYxLlJlc3RvcmVSZXZpc2lvblJlc3BvbnNlIgASVAoNQXR0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVzcG9uc2UiABJUCg1EZXRhY2hDaGFubmVsEh8ueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXF1ZXN0GiAueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXNwb25zZSIAElcKDlJlZnJlc2hDaGFubmVsEiAueW9ya2llLnYxLlJlZnJlc2hDaGFubmVsUmVxdWVzdBohLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlc3BvbnNlIgASUwoMV2F0Y2hDaGFubmVsEh4ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlcXVlc3QaHy55b3JraWUudjEuV2F0Y2hDaGFubmVsUmVzcG9uc2UiADABEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[Ft]),0),Mm=Mt(xo("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[Lu]),0);var ve=(h=>(h.Ok="ok",h.ErrClientNotActivated="ErrClientNotActivated",h.ErrClientNotFound="ErrClientNotFound",h.ErrUnimplemented="ErrUnimplemented",h.ErrInvalidType="ErrInvalidType",h.ErrDummy="ErrDummy",h.ErrNotAttached="ErrNotAttached",h.ErrNotDetached="ErrNotDetached",h.ErrDocumentRemoved="ErrDocumentRemoved",h.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",h.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",h.ErrInvalidObjectKey="ErrInvalidObjectKey",h.ErrInvalidArgument="ErrInvalidArgument",h.ErrNotInitialized="ErrNotInitialized",h.ErrNotReady="ErrNotReady",h.ErrRefused="ErrRefused",h.ErrContextNotProvided="ErrContextNotProvided",h.ErrPermissionDenied="ErrPermissionDenied",h.ErrUnauthenticated="ErrUnauthenticated",h.ErrTooManySubscribers="ErrTooManySubscribers",h.ErrTooManyAttachments="ErrTooManyAttachments",h))(ve||{});class Ae extends Error{constructor(c,v){super(v);q(this,"name","YorkieError");q(this,"stack");this.code=c,this.message=v,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var to=(h=>(h.Put="put",h.Clear="clear",h))(to||{});const tp="000000000000000000000000",no=24;class oi{constructor(i,c,v){q(this,"lamport");q(this,"delimiter");q(this,"actorID");this.lamport=i,this.delimiter=c,this.actorID=v}static of(i,c,v){return new oi(i,c,v)}static fromStruct(i){return oi.of(BigInt(i.lamport),i.delimiter,i.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(i){return new oi(this.lamport,this.delimiter,i)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(i){return this.compare(i)>0}equals(i){return this.compare(i)===0}compare(i){if(this.lamport>i.lamport)return 1;if(i.lamport>this.lamport)return-1;const c=this.actorID.localeCompare(i.actorID);return c!==0?c:this.delimiter>i.delimiter?1:i.delimiter>this.delimiter?-1:0}}const np=0n,Pm=0,rp=9223372036854775807n,il=new oi(np,Pm,tp);function ro(h){return h.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(i){switch(i){case'"':case"\\":return"\\"+i;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return i}})}class kf{constructor(i){q(this,"createdAt");q(this,"movedAt");q(this,"removedAt");this.createdAt=i}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(i){this.createdAt=i}setMovedAt(i){return!this.movedAt||i&&i.after(this.movedAt)?(this.movedAt=i,!0):!1}setRemovedAt(i){this.removedAt=i}remove(i){return i&&i.after(this.createdAt)&&(!this.removedAt||i.after(this.removedAt))?(this.removedAt=i,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let i=0;return this.getCreatedAt()&&(i+=no),this.getMovedAt()&&(i+=no),this.getRemovedAt()&&(i+=no),i}}class rs extends kf{constructor(i){super(i)}}class is{constructor(i,c){q(this,"strKey");q(this,"value");this.strKey=i,this.value=c}static of(i,c){return new is(i,c)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(i){return this.value.remove(i)}}class os{constructor(){q(this,"nodeMapByKey");q(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new os}set(i,c,v){let E;const _=this.nodeMapByKey.get(i);_&&!_.isRemoved()&&_.remove(v)&&(E=_.getValue());const F=is.of(i,c);return this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),F),(!_||v.after(_.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(i,F),c.setMovedAt(v)),E}delete(i,c){if(!this.nodeMapByCreatedAt.has(i.toIDString()))throw new Ae(ve.ErrInvalidArgument,`fail to find ${i.toIDString()}`);const v=this.nodeMapByCreatedAt.get(i.toIDString());return v.remove(c),v.getValue()}subPathOf(i){const c=this.nodeMapByCreatedAt.get(i.toIDString());if(c)return c.getStrKey()}purge(i){const c=this.nodeMapByCreatedAt.get(i.getCreatedAt().toIDString());if(!c)throw new Ae(ve.ErrInvalidArgument,`fail to find ${i.getCreatedAt().toIDString()}`);const v=this.nodeMapByKey.get(c.getStrKey());c===v&&this.nodeMapByKey.delete(v.getStrKey()),this.nodeMapByCreatedAt.delete(c.getValue().getCreatedAt().toIDString())}deleteByKey(i,c){const v=this.nodeMapByKey.get(i);if(v&&v.remove(c))return v.getValue()}has(i){const c=this.nodeMapByKey.get(i);return c?!c.isRemoved():!1}getByID(i){return this.nodeMapByCreatedAt.get(i.toIDString())}get(i){const c=this.nodeMapByKey.get(i);if(!(!c||c.isRemoved()))return c}deepcopy(){const i=os.create();for(const[,c]of this.nodeMapByCreatedAt)i.nodeMapByCreatedAt.set(c.getValue().getCreatedAt().toIDString(),is.of(c.getStrKey(),c.getValue().deepcopy()));for(const[c,v]of this.nodeMapByKey)i.nodeMapByKey.set(c,i.nodeMapByCreatedAt.get(v.getValue().getCreatedAt().toIDString()));return i}*[Symbol.iterator](){for(const[,i]of this.nodeMapByCreatedAt)yield i}}class Sr extends rs{constructor(c,v){super(c);q(this,"memberNodes");this.memberNodes=v}static create(c,v){if(!v)return new Sr(c,os.create());const E=os.create();for(const[_,F]of Object.entries(v))E.set(_,F.deepcopy(),F.getCreatedAt());return new Sr(c,E)}subPathOf(c){return this.memberNodes.subPathOf(c)}purge(c){this.memberNodes.purge(c)}set(c,v,E){return this.memberNodes.set(c,v,E)}delete(c,v){return this.memberNodes.delete(c,v)}deleteByKey(c,v){return this.memberNodes.deleteByKey(c,v)}get(c){const v=this.memberNodes.get(c);return v==null?void 0:v.getValue()}getByID(c){const v=this.memberNodes.getByID(c);return v==null?void 0:v.getValue()}has(c){return this.memberNodes.has(c)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const c=[];for(const[v,E]of this)c.push(`"${ro(v)}":${E.toJSON()}`);return`{${c.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const c={};for(const[v,E]of this){const{createdAt:_,value:F,type:U}=E.toJSForTest();c[v]={key:v,createdAt:_,value:F,type:U}}return{createdAt:this.getCreatedAt().toTestString(),value:c,type:"YORKIE_OBJECT"}}getKeys(){const c=Array();for(const[v]of this)c.push(v);return c}toSortedJSON(){var E;const c=new Set;for(const[_]of this)c.add(_);const v=[];for(const _ of Array.from(c).sort()){const F=(E=this.memberNodes.get(_))==null?void 0:E.getValue();v.push(`"${ro(_)}":${F.toSortedJSON()}`)}return`{${v.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const c=Sr.create(this.getCreatedAt());return c.memberNodes=this.memberNodes.deepcopy(),c.setRemovedAt(this.getRemovedAt()),c.setMovedAt(this.getMovedAt()),c}getDescendants(c){for(const v of this.memberNodes){const E=v.getValue();if(c(E,this))return;E instanceof rs&&E.getDescendants(c)}}*[Symbol.iterator](){for(const c of this.memberNodes)c.isRemoved()||(yield[c.getStrKey(),c.getValue()])}}var On=(h=>(h.Local="local",h.Remote="remote",h.UndoRedo="undoredo",h))(On||{});class Ur{constructor(i,c){q(this,"parentCreatedAt");q(this,"executedAt");this.parentCreatedAt=i,this.executedAt=c}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Ae(ve.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(i){this.executedAt&&(this.executedAt=this.executedAt.setActor(i))}setExecutedAt(i){this.executedAt=i}}class Lm{constructor(i){q(this,"value");q(this,"left");q(this,"right");q(this,"parent");q(this,"weight");this.value=i,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(i){this.left=i}setRight(i){this.right=i}setParent(i){this.parent=i}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(i){this.weight+=i}initWeight(){this.weight=this.getLength()}}class ec{constructor(i){q(this,"root");this.root=i}get length(){return this.root?this.root.getWeight():0}findForText(i){if(!this.root||i<0)return[void 0,0];let c=this.root;for(;;)if(c.hasLeft()&&i<=c.getLeftWeight())c=c.getLeft();else if(c.hasRight()&&c.getLeftWeight()+c.getLength()<i)i-=c.getLeftWeight()+c.getLength(),c=c.getRight();else{i-=c.getLeftWeight();break}if(i>c.getLength())throw new Ae(ve.ErrInvalidArgument,`out of index range: pos: ${i} > node.length: ${c.getLength()}`);return this.splayNode(c),[c,i]}findForArray(i){if(!this.root)return;if(i<0||i>=this.length)throw new Ae(ve.ErrInvalidArgument,`out of index range: idx: ${i}, length: ${this.length}`);let c=this.root;for(;;)if(c.hasLeft()&&i<c.getLeftWeight())c=c.getLeft();else if(c.hasRight()&&c.getLeftWeight()+c.getLength()<=i)i-=c.getLeftWeight()+c.getLength(),c=c.getRight();else break;return this.splayNode(c),c}indexOf(i){return!i||i!==this.root&&!i.hasLinks()?-1:(this.splayNode(i),this.root.getLeftWeight())}getRoot(){return this.root}insert(i){return this.insertAfter(this.root,i)}insertAfter(i,c){return i?(this.splayNode(i),this.root=c,c.setRight(i.getRight()),i.hasRight()&&i.getRight().setParent(c),c.setLeft(i),i.setParent(c),i.setRight(),this.updateWeight(i),this.updateWeight(c),c):(this.root=c,c)}updateWeight(i){i.initWeight(),i.hasLeft()&&i.increaseWeight(i.getLeftWeight()),i.hasRight()&&i.increaseWeight(i.getRightWeight())}updateTreeWeight(i){for(;i;)this.updateWeight(i),i=i.getParent()}splayNode(i){if(i)for(;;)if(this.isLeftChild(i.getParent())&&this.isRightChild(i))this.rotateLeft(i),this.rotateRight(i);else if(this.isRightChild(i.getParent())&&this.isLeftChild(i))this.rotateRight(i),this.rotateLeft(i);else if(this.isLeftChild(i.getParent())&&this.isLeftChild(i))this.rotateRight(i.getParent()),this.rotateRight(i);else if(this.isRightChild(i.getParent())&&this.isRightChild(i))this.rotateLeft(i.getParent()),this.rotateLeft(i);else{this.isLeftChild(i)?this.rotateRight(i):this.isRightChild(i)&&this.rotateLeft(i),this.updateWeight(i);return}}delete(i){this.splayNode(i);const c=new ec(i.getLeft());c.root&&c.root.setParent();const v=new ec(i.getRight());if(v.root&&v.root.setParent(),c.root){const E=c.getRightmost();c.splayNode(E),c.root.setRight(v.root),v.root&&v.root.setParent(c.root),this.root=c.root}else this.root=v.root;i.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(i,c){if(!c){this.splayNode(i),this.cutOffRight(i);return}this.splayNode(i),this.splayNode(c),c.getLeft()!=i&&this.rotateRight(i),this.cutOffRight(i)}cutOffRight(i){const c=[];this.traversePostorder(i.getRight(),c);for(const v of c)v.initWeight();this.updateTreeWeight(i)}toTestString(){const i=[];return this.traverseInorder(this.root,i),i.map(c=>`[${c.getWeight()},${c.getLength()}]${c.getValue()||""}`).join("")}checkWeight(){const i=[];this.traverseInorder(this.root,i);for(const c of i)if(c.getWeight()!=c.getLength()+c.getLeftWeight()+c.getRightWeight())return!1;return!0}getRightmost(){let i=this.root;for(;i.hasRight();)i=i.getRight();return i}traverseInorder(i,c){i&&(this.traverseInorder(i.getLeft(),c),c.push(i),this.traverseInorder(i.getRight(),c))}traversePostorder(i,c){i&&(this.traversePostorder(i.getLeft(),c),this.traversePostorder(i.getRight(),c),c.push(i))}rotateLeft(i){const c=i.getParent();c.hasParent()?c===c.getParent().getLeft()?c.getParent().setLeft(i):c.getParent().setRight(i):this.root=i,i.setParent(c.getParent()),c.setRight(i.getLeft()),c.hasRight()&&c.getRight().setParent(c),i.setLeft(c),i.getLeft().setParent(i),this.updateWeight(c),this.updateWeight(i)}rotateRight(i){const c=i.getParent();c.hasParent()?c===c.getParent().getLeft()?c.getParent().setLeft(i):c.getParent().setRight(i):this.root=i,i.setParent(c.getParent()),c.setLeft(i.getRight()),c.hasLeft()&&c.getLeft().setParent(c),i.setRight(c),i.getRight().setParent(i),this.updateWeight(c),this.updateWeight(i)}isLeftChild(i){return i&&i.hasParent()?i.getParent().getLeft()===i:!1}isRightChild(i){return i&&i.hasParent()?i.getParent().getRight()===i:!1}}var bi=null;try{bi=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function $t(h,i,c){this.low=h|0,this.high=i|0,this.unsigned=!!c}$t.prototype.__isLong__,Object.defineProperty($t.prototype,"__isLong__",{value:!0});function Er(h){return(h&&h.__isLong__)===!0}function Fm(h){var i=Math.clz32(h&-h);return h?31-i:i}$t.isLong=Er;var ip={},km={};function Qs(h,i){var c,v,E;return i?(h>>>=0,(E=0<=h&&h<256)&&(v=km[h],v)?v:(c=Qt(h,0,!0),E&&(km[h]=c),c)):(h|=0,(E=-128<=h&&h<128)&&(v=ip[h],v)?v:(c=Qt(h,h<0?-1:0,!1),E&&(ip[h]=c),c))}$t.fromInt=Qs;function si(h,i){if(isNaN(h))return i?So:io;if(i){if(h<0)return So;if(h>=zm)return Um}else{if(h<=-9223372036854776e3)return Ar;if(h+1>=bx)return Vm}return h<0?si(-h,i).neg():Qt(h%ea|0,h/ea|0,i)}$t.fromNumber=si;function Qt(h,i,c){return new $t(h,i,c)}$t.fromBits=Qt;var Bf=Math.pow;function Bm(h,i,c){if(h.length===0)throw Error("empty string");if(typeof i=="number"?(c=i,i=!1):i=!!i,h==="NaN"||h==="Infinity"||h==="+Infinity"||h==="-Infinity")return i?So:io;if(c=c||10,c<2||36<c)throw RangeError("radix");var v;if((v=h.indexOf("-"))>0)throw Error("interior hyphen");if(v===0)return Bm(h.substring(1),i,c).neg();for(var E=si(Bf(c,8)),_=io,F=0;F<h.length;F+=8){var U=Math.min(8,h.length-F),W=parseInt(h.substring(F,F+U),c);if(U<8){var te=si(Bf(c,U));_=_.mul(te).add(si(W))}else _=_.mul(E),_=_.add(si(W))}return _.unsigned=i,_}$t.fromString=Bm;function ai(h,i){return typeof h=="number"?si(h,i):typeof h=="string"?Bm(h,i):Qt(h.low,h.high,typeof i=="boolean"?i:h.unsigned)}$t.fromValue=ai;var jm=65536,xx=1<<24,ea=jm*jm,zm=ea*ea,bx=zm/2,Sx=Qs(xx),io=Qs(0);$t.ZERO=io;var So=Qs(0,!0);$t.UZERO=So;var Eo=Qs(1);$t.ONE=Eo;var op=Qs(1,!0);$t.UONE=op;var tc=Qs(-1);$t.NEG_ONE=tc;var Vm=Qt(-1,2147483647,!1);$t.MAX_VALUE=Vm;var Um=Qt(-1,-1,!0);$t.MAX_UNSIGNED_VALUE=Um;var Ar=Qt(0,-2147483648,!1);$t.MIN_VALUE=Ar;var Xe=$t.prototype;Xe.toInt=function(){return this.unsigned?this.low>>>0:this.low},Xe.toNumber=function(){return this.unsigned?(this.high>>>0)*ea+(this.low>>>0):this.high*ea+(this.low>>>0)},Xe.toString=function(i){if(i=i||10,i<2||36<i)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ar)){var c=si(i),v=this.div(c),E=v.mul(c).sub(this);return v.toString(i)+E.toInt().toString(i)}else return"-"+this.neg().toString(i);for(var _=si(Bf(i,6),this.unsigned),F=this,U="";;){var W=F.div(_),te=F.sub(W.mul(_)).toInt()>>>0,ce=te.toString(i);if(F=W,F.isZero())return ce+U;for(;ce.length<6;)ce="0"+ce;U=""+ce+U}},Xe.getHighBits=function(){return this.high},Xe.getHighBitsUnsigned=function(){return this.high>>>0},Xe.getLowBits=function(){return this.low},Xe.getLowBitsUnsigned=function(){return this.low>>>0},Xe.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ar)?64:this.neg().getNumBitsAbs();for(var i=this.high!=0?this.high:this.low,c=31;c>0&&(i&1<<c)==0;c--);return this.high!=0?c+33:c+1},Xe.isSafeInteger=function(){var i=this.high>>21;return i?this.unsigned?!1:i===-1&&!(this.low===0&&this.high===-2097152):!0},Xe.isZero=function(){return this.high===0&&this.low===0},Xe.eqz=Xe.isZero,Xe.isNegative=function(){return!this.unsigned&&this.high<0},Xe.isPositive=function(){return this.unsigned||this.high>=0},Xe.isOdd=function(){return(this.low&1)===1},Xe.isEven=function(){return(this.low&1)===0},Xe.equals=function(i){return Er(i)||(i=ai(i)),this.unsigned!==i.unsigned&&this.high>>>31===1&&i.high>>>31===1?!1:this.high===i.high&&this.low===i.low},Xe.eq=Xe.equals,Xe.notEquals=function(i){return!this.eq(i)},Xe.neq=Xe.notEquals,Xe.ne=Xe.notEquals,Xe.lessThan=function(i){return this.comp(i)<0},Xe.lt=Xe.lessThan,Xe.lessThanOrEqual=function(i){return this.comp(i)<=0},Xe.lte=Xe.lessThanOrEqual,Xe.le=Xe.lessThanOrEqual,Xe.greaterThan=function(i){return this.comp(i)>0},Xe.gt=Xe.greaterThan,Xe.greaterThanOrEqual=function(i){return this.comp(i)>=0},Xe.gte=Xe.greaterThanOrEqual,Xe.ge=Xe.greaterThanOrEqual,Xe.compare=function(i){if(Er(i)||(i=ai(i)),this.eq(i))return 0;var c=this.isNegative(),v=i.isNegative();return c&&!v?-1:!c&&v?1:this.unsigned?i.high>>>0>this.high>>>0||i.high===this.high&&i.low>>>0>this.low>>>0?-1:1:this.sub(i).isNegative()?-1:1},Xe.comp=Xe.compare,Xe.negate=function(){return!this.unsigned&&this.eq(Ar)?Ar:this.not().add(Eo)},Xe.neg=Xe.negate,Xe.add=function(i){Er(i)||(i=ai(i));var c=this.high>>>16,v=this.high&65535,E=this.low>>>16,_=this.low&65535,F=i.high>>>16,U=i.high&65535,W=i.low>>>16,te=i.low&65535,ce=0,Re=0,Be=0,Te=0;return Te+=_+te,Be+=Te>>>16,Te&=65535,Be+=E+W,Re+=Be>>>16,Be&=65535,Re+=v+U,ce+=Re>>>16,Re&=65535,ce+=c+F,ce&=65535,Qt(Be<<16|Te,ce<<16|Re,this.unsigned)},Xe.subtract=function(i){return Er(i)||(i=ai(i)),this.add(i.neg())},Xe.sub=Xe.subtract,Xe.multiply=function(i){if(this.isZero())return this;if(Er(i)||(i=ai(i)),bi){var c=bi.mul(this.low,this.high,i.low,i.high);return Qt(c,bi.get_high(),this.unsigned)}if(i.isZero())return this.unsigned?So:io;if(this.eq(Ar))return i.isOdd()?Ar:io;if(i.eq(Ar))return this.isOdd()?Ar:io;if(this.isNegative())return i.isNegative()?this.neg().mul(i.neg()):this.neg().mul(i).neg();if(i.isNegative())return this.mul(i.neg()).neg();if(this.lt(Sx)&&i.lt(Sx))return si(this.toNumber()*i.toNumber(),this.unsigned);var v=this.high>>>16,E=this.high&65535,_=this.low>>>16,F=this.low&65535,U=i.high>>>16,W=i.high&65535,te=i.low>>>16,ce=i.low&65535,Re=0,Be=0,Te=0,We=0;return We+=F*ce,Te+=We>>>16,We&=65535,Te+=_*ce,Be+=Te>>>16,Te&=65535,Te+=F*te,Be+=Te>>>16,Te&=65535,Be+=E*ce,Re+=Be>>>16,Be&=65535,Be+=_*te,Re+=Be>>>16,Be&=65535,Be+=F*W,Re+=Be>>>16,Be&=65535,Re+=v*ce+E*te+_*W+F*U,Re&=65535,Qt(Te<<16|We,Re<<16|Be,this.unsigned)},Xe.mul=Xe.multiply,Xe.divide=function(i){if(Er(i)||(i=ai(i)),i.isZero())throw Error("division by zero");if(bi){if(!this.unsigned&&this.high===-2147483648&&i.low===-1&&i.high===-1)return this;var c=(this.unsigned?bi.div_u:bi.div_s)(this.low,this.high,i.low,i.high);return Qt(c,bi.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?So:io;var v,E,_;if(this.unsigned){if(i.unsigned||(i=i.toUnsigned()),i.gt(this))return So;if(i.gt(this.shru(1)))return op;_=So}else{if(this.eq(Ar)){if(i.eq(Eo)||i.eq(tc))return Ar;if(i.eq(Ar))return Eo;var F=this.shr(1);return v=F.div(i).shl(1),v.eq(io)?i.isNegative()?Eo:tc:(E=this.sub(i.mul(v)),_=v.add(E.div(i)),_)}else if(i.eq(Ar))return this.unsigned?So:io;if(this.isNegative())return i.isNegative()?this.neg().div(i.neg()):this.neg().div(i).neg();if(i.isNegative())return this.div(i.neg()).neg();_=io}for(E=this;E.gte(i);){v=Math.max(1,Math.floor(E.toNumber()/i.toNumber()));for(var U=Math.ceil(Math.log(v)/Math.LN2),W=U<=48?1:Bf(2,U-48),te=si(v),ce=te.mul(i);ce.isNegative()||ce.gt(E);)v-=W,te=si(v,this.unsigned),ce=te.mul(i);te.isZero()&&(te=Eo),_=_.add(te),E=E.sub(ce)}return _},Xe.div=Xe.divide,Xe.modulo=function(i){if(Er(i)||(i=ai(i)),bi){var c=(this.unsigned?bi.rem_u:bi.rem_s)(this.low,this.high,i.low,i.high);return Qt(c,bi.get_high(),this.unsigned)}return this.sub(this.div(i).mul(i))},Xe.mod=Xe.modulo,Xe.rem=Xe.modulo,Xe.not=function(){return Qt(~this.low,~this.high,this.unsigned)},Xe.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Xe.clz=Xe.countLeadingZeros,Xe.countTrailingZeros=function(){return this.low?Fm(this.low):Fm(this.high)+32},Xe.ctz=Xe.countTrailingZeros,Xe.and=function(i){return Er(i)||(i=ai(i)),Qt(this.low&i.low,this.high&i.high,this.unsigned)},Xe.or=function(i){return Er(i)||(i=ai(i)),Qt(this.low|i.low,this.high|i.high,this.unsigned)},Xe.xor=function(i){return Er(i)||(i=ai(i)),Qt(this.low^i.low,this.high^i.high,this.unsigned)},Xe.shiftLeft=function(i){return Er(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?Qt(this.low<<i,this.high<<i|this.low>>>32-i,this.unsigned):Qt(0,this.low<<i-32,this.unsigned)},Xe.shl=Xe.shiftLeft,Xe.shiftRight=function(i){return Er(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?Qt(this.low>>>i|this.high<<32-i,this.high>>i,this.unsigned):Qt(this.high>>i-32,this.high>=0?0:-1,this.unsigned)},Xe.shr=Xe.shiftRight,Xe.shiftRightUnsigned=function(i){return Er(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?Qt(this.low>>>i|this.high<<32-i,this.high>>>i,this.unsigned):i===32?Qt(this.high,0,this.unsigned):Qt(this.high>>>i-32,0,this.unsigned)},Xe.shru=Xe.shiftRightUnsigned,Xe.shr_u=Xe.shiftRightUnsigned,Xe.rotateLeft=function(i){var c;return Er(i)&&(i=i.toInt()),(i&=63)===0?this:i===32?Qt(this.high,this.low,this.unsigned):i<32?(c=32-i,Qt(this.low<<i|this.high>>>c,this.high<<i|this.low>>>c,this.unsigned)):(i-=32,c=32-i,Qt(this.high<<i|this.low>>>c,this.low<<i|this.high>>>c,this.unsigned))},Xe.rotl=Xe.rotateLeft,Xe.rotateRight=function(i){var c;return Er(i)&&(i=i.toInt()),(i&=63)===0?this:i===32?Qt(this.high,this.low,this.unsigned):i<32?(c=32-i,Qt(this.high<<c|this.low>>>i,this.low<<c|this.high>>>i,this.unsigned)):(i-=32,c=32-i,Qt(this.low<<c|this.high>>>i,this.high<<c|this.low>>>i,this.unsigned))},Xe.rotr=Xe.rotateRight,Xe.toSigned=function(){return this.unsigned?Qt(this.low,this.high,!1):this},Xe.toUnsigned=function(){return this.unsigned?this:Qt(this.low,this.high,!0)},Xe.toBytes=function(i){return i?this.toBytesLE():this.toBytesBE()},Xe.toBytesLE=function(){var i=this.high,c=this.low;return[c&255,c>>>8&255,c>>>16&255,c>>>24,i&255,i>>>8&255,i>>>16&255,i>>>24]},Xe.toBytesBE=function(){var i=this.high,c=this.low;return[i>>>24,i>>>16&255,i>>>8&255,i&255,c>>>24,c>>>16&255,c>>>8&255,c&255]},$t.fromBytes=function(i,c,v){return v?$t.fromBytesLE(i,c):$t.fromBytesBE(i,c)},$t.fromBytesLE=function(i,c){return new $t(i[0]|i[1]<<8|i[2]<<16|i[3]<<24,i[4]|i[5]<<8|i[6]<<16|i[7]<<24,c)},$t.fromBytesBE=function(i,c){return new $t(i[4]<<24|i[5]<<16|i[6]<<8|i[7],i[0]<<24|i[1]<<16|i[2]<<8|i[3],c)},typeof BigInt=="function"&&($t.fromBigInt=function(i,c){var v=Number(BigInt.asIntN(32,i)),E=Number(BigInt.asIntN(32,i>>BigInt(32)));return Qt(v,E,c)},$t.fromValue=function(i,c){return typeof i=="bigint"?$t.fromBigInt(i,c):ai(i,c)},Xe.toBigInt=function(){var i=BigInt(this.low>>>0),c=BigInt(this.unsigned?this.high>>>0:this.high);return c<<BigInt(32)|i});var wn=(h=>(h[h.Null=0]="Null",h[h.Boolean=1]="Boolean",h[h.Integer=2]="Integer",h[h.Long=3]="Long",h[h.Double=4]="Double",h[h.String=5]="String",h[h.Bytes=6]="Bytes",h[h.Date=7]="Date",h))(wn||{});class Vn extends kf{constructor(c,v){super(v);q(this,"valueType");q(this,"value");this.valueType=Vn.getPrimitiveType(c),this.value=c===void 0?null:c}static of(c,v){return new Vn(c,v)}static valueFromBytes(c,v){switch(c){case 0:return null;case 1:return!!v[0];case 2:return v[0]|v[1]<<8|v[2]<<16|v[3]<<24;case 4:{const E=new DataView(v.buffer);return v.forEach(function(_,F){E.setUint8(F,_)}),E.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(v);case 3:return $t.fromBytesLE(Array.from(v));case 6:return v;case 7:return new Date($t.fromBytesLE(Array.from(v),!0).toNumber());default:throw new Ae(ve.ErrUnimplemented,`unimplemented type: ${c}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new Ae(ve.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${ro(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const c=Vn.of(this.value,this.getCreatedAt());return c.setMovedAt(this.getMovedAt()),c.setRemovedAt(this.getRemovedAt()),c}getType(){return this.valueType}static getPrimitiveType(c){switch(typeof c){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(c)?2:4;case"string":return 5;case"object":if(c===null)return 0;if(c instanceof $t)return 3;if(c instanceof Uint8Array)return 6;if(c instanceof Date)return 7}}static isSupport(c){return Vn.getPrimitiveType(c)!==void 0}static isInteger(c){return c%1===0}isNumericType(){const c=this.valueType;return c===2||c===3||c===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const c=this.value;return new Uint8Array([c&255,c>>8&255,c>>16&255,c>>24&255])}case 4:{const c=this.value,v=new Uint8Array(8);return new DataView(v.buffer).setFloat64(0,c,!0),v}case 5:return new TextEncoder().encode(this.value);case 3:{const v=this.value.toBytesLE();return Uint8Array.from(v)}case 6:return this.value;case 7:{const c=this.value,v=$t.fromNumber(c.getTime(),!0).toBytesLE();return Uint8Array.from(v)}default:throw new Ae(ve.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class ss extends Lm{constructor(c){super(c);q(this,"prev");q(this,"next");q(this,"movedFrom");this.value=c}static createAfter(c,v){const E=new ss(v),_=c.next;return c.next=E,E.prev=c,E.next=_,_&&(_.prev=E),E}remove(c){return this.value.remove(c)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(c){this.movedFrom=c}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class as{constructor(){q(this,"dummyHead");q(this,"last");q(this,"nodeMapByIndex");q(this,"nodeMapByCreatedAt");const i=Vn.of(0,il);i.setRemovedAt(il),this.dummyHead=new ss(i),this.last=this.dummyHead,this.nodeMapByIndex=new ec,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new as}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(i,c){let v=this.nodeMapByCreatedAt.get(i.toIDString());if(!v)throw new Ae(ve.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);for(;v.getValue().getMovedAt()&&v.getValue().getMovedAt().after(c)&&v.getMovedFrom();)v=v.getMovedFrom();for(;v.getNext()&&v.getNext().getPositionedAt().after(c);)v=v.getNext();return v}release(i){this.last===i&&(this.last=i.getPrev()),i.release(),this.nodeMapByIndex.delete(i),this.nodeMapByCreatedAt.delete(i.getValue().getCreatedAt().toIDString())}insertAfter(i,c,v=c.getCreatedAt()){const E=this.findNextBeforeExecutedAt(i,v),_=ss.createAfter(E,c);return E===this.last&&(this.last=_),this.nodeMapByIndex.insertAfter(E,_),this.nodeMapByCreatedAt.set(_.getCreatedAt().toIDString(),_),_}moveAfter(i,c,v){let E=this.nodeMapByCreatedAt.get(i.toIDString());if(!E)throw new Ae(ve.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);let _=this.nodeMapByCreatedAt.get(c.toIDString());if(!_)throw new Ae(ve.ErrInvalidArgument,`cant find the given node: ${c.toIDString()}`);if(E!==_&&v.after(_.getPositionedAt())){const F=_.getPrev();let U=_.getNext();for(this.release(_),_=this.insertAfter(E.getCreatedAt(),_.getValue(),v),_.getValue().setMovedAt(v),_.setMovedFrom(F);U&&U.getPositionedAt().after(v);)E=_,_=U,U=_.getNext(),this.release(_),_=this.insertAfter(E.getCreatedAt(),_.getValue(),v),_.getValue().setMovedAt(v),_.setMovedFrom(F)}}insert(i){this.insertAfter(this.last.getCreatedAt(),i)}getByID(i){return this.nodeMapByCreatedAt.get(i.toIDString())}subPathOf(i){const c=this.nodeMapByCreatedAt.get(i.toIDString());if(c)return String(this.nodeMapByIndex.indexOf(c))}purge(i){const c=this.nodeMapByCreatedAt.get(i.getCreatedAt().toIDString());if(!c)throw new Ae(ve.ErrInvalidArgument,`fail to find the given createdAt: ${i.getCreatedAt().toIDString()}`);this.release(c)}getByIndex(i){return i>=this.length?void 0:this.nodeMapByIndex.findForArray(i)}getPrevCreatedAt(i){let c=this.nodeMapByCreatedAt.get(i.toIDString());do c=c.getPrev();while(this.dummyHead!==c&&c.isRemoved());return c.getValue().getCreatedAt()}delete(i,c){const v=this.nodeMapByCreatedAt.get(i.toIDString()),E=v.isRemoved();return v.remove(c)&&!E&&this.nodeMapByIndex.splayNode(v),v.getValue()}set(i,c,v){const E=this.nodeMapByCreatedAt.get(i.toIDString());if(!E)throw new Ae(ve.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);return this.insertAfter(E.getCreatedAt(),c,v),this.delete(i,v)}deleteByIndex(i,c){const v=this.getByIndex(i);if(v)return v.remove(c)&&this.nodeMapByIndex.splayNode(v),v.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const i=[];for(const c of this){const v=`${c.getCreatedAt().toIDString()}:${c.getValue().toJSON()}`;c.isRemoved()?i.push(`{${v}}`):i.push(`[${v}]`)}return i.join("")}*[Symbol.iterator](){let i=this.dummyHead.getNext();for(;i;)yield i,i=i.getNext()}}class ar extends rs{constructor(c,v){super(c);q(this,"elements");this.elements=v}static create(c,v){if(!v)return new ar(c,as.create());const E=as.create();for(const _ of v)E.insertAfter(E.getLastCreatedAt(),_.deepcopy());return new ar(c,E)}subPathOf(c){return this.elements.subPathOf(c)}purge(c){this.elements.purge(c)}insertAfter(c,v,E){this.elements.insertAfter(c,v,E)}moveAfter(c,v,E){this.elements.moveAfter(c,v,E)}get(c){const v=this.elements.getByIndex(c);return v==null?void 0:v.getValue()}getByID(c){const v=this.elements.getByID(c);return v==null?void 0:v.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(c){return this.elements.getPrevCreatedAt(c)}delete(c,v){return this.elements.delete(c,v)}deleteByIndex(c,v){return this.elements.deleteByIndex(c,v)}set(c,v,E){return this.elements.set(c,v,E)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const c of this.elements)c.isRemoved()||(yield c.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(c){for(const v of this.elements){const E=v.getValue();if(c(E,this))return;E instanceof rs&&E.getDescendants(c)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const c=[];for(const v of this)c.push(v.toJSON());return`[${c.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const c={};for(let v=0;v<this.length;v++){const{createdAt:E,value:_,type:F}=this.get(v).toJSForTest();c[v]={key:String(v),createdAt:E,value:_,type:F}}return{createdAt:this.getCreatedAt().toTestString(),value:c,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const c=ar.create(this.getCreatedAt());for(const v of this.elements)c.elements.insertAfter(c.getLastCreatedAt(),v.getValue().deepcopy());return c.setRemovedAt(this.getRemovedAt()),c.setMovedAt(this.getMovedAt()),c}}class ki extends Ur{constructor(c,v,E,_){super(c,_);q(this,"prevCreatedAt");q(this,"value");this.prevCreatedAt=v,this.value=E}static create(c,v,E,_){return new ki(c,v,E,_)}execute(c){const v=c.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ae(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof ar))throw new Ae(ve.ErrInvalidArgument,"fail to execute, only array can execute add");const E=v,_=this.value.deepcopy();return E.insertAfter(this.prevCreatedAt,_,this.getExecutedAt()),c.registerElement(_,E),{opInfos:[{type:"add",path:c.createPath(this.getParentCreatedAt()),index:Number(E.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Si.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(c){this.prevCreatedAt=c}}class Si extends Ur{constructor(c,v,E){super(c,E);q(this,"createdAt");this.createdAt=v}static create(c,v,E){return new Si(c,v,E)}execute(c,v){var te;const E=c.findByCreatedAt(this.getParentCreatedAt());if(!E)throw new Ae(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(E instanceof rs))throw new Ae(ve.ErrInvalidArgument,`only object and array can execute remove: ${E}`);if(v===On.UndoRedo){let ce=E.getByID(this.createdAt);for(;ce;){if(ce.getRemovedAt())return;ce=(te=c.findElementPairByCreatedAt(ce.getCreatedAt()))==null?void 0:te.parent}}const _=E.subPathOf(this.createdAt),F=this.toReverseOperation(E),U=E.delete(this.createdAt,this.getExecutedAt());return c.registerRemovedElement(U),{opInfos:E instanceof ar?[{type:"remove",path:c.createPath(this.getParentCreatedAt()),index:Number(_)}]:[{type:"remove",path:c.createPath(this.getParentCreatedAt()),key:_}],reverseOp:F}}toReverseOperation(c){if(c instanceof ar){const v=c.getByID(this.createdAt);if(v!==void 0){const E=c.getPrevCreatedAt(this.createdAt);return ki.create(this.getParentCreatedAt(),E,v.deepcopy())}}if(c instanceof Sr){const v=c.subPathOf(this.createdAt);if(v!==void 0){const E=c.get(v);if(E!==void 0)return ta.create(v,E.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(c){this.createdAt=c}}class ta extends Ur{constructor(c,v,E,_){super(E,_);q(this,"key");q(this,"value");this.key=c,this.value=v}static create(c,v,E,_){return new ta(c,v,E,_)}execute(c,v){var te;const E=c.findByCreatedAt(this.getParentCreatedAt());if(!E)throw new Ae(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(E instanceof Sr))throw new Ae(ve.ErrInvalidArgument,"fail to execute, only object can execute set");if(v===On.UndoRedo){let ce=E;for(;ce;){if(ce.getRemovedAt())return;ce=(te=c.findElementPairByCreatedAt(ce.getCreatedAt()))==null?void 0:te.parent}}const _=E.get(this.key),F=this.toReverseOperation(_),U=this.value.deepcopy(),W=E.set(this.key,U,this.getExecutedAt());return v===On.UndoRedo&&c.findByCreatedAt(U.getCreatedAt())&&c.deregisterElement(U),c.registerElement(U,E),W&&c.registerRemovedElement(W),{opInfos:[{type:"set",path:c.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:F}}toReverseOperation(c){let v=Si.create(this.getParentCreatedAt(),this.value.getCreatedAt());return c!==void 0&&!c.isRemoved()&&(v=ta.create(this.key,c.deepcopy(),this.getParentCreatedAt())),v}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Bi extends Ur{constructor(c,v,E,_){super(c,_);q(this,"prevCreatedAt");q(this,"createdAt");this.prevCreatedAt=v,this.createdAt=E}static create(c,v,E,_){return new Bi(c,v,E,_)}execute(c){const v=c.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ae(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof ar))throw new Ae(ve.ErrInvalidArgument,"fail to execute, only array can execute move");const E=v,_=this.toReverseOperation(E),F=Number(E.subPathOf(this.createdAt));E.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const U=Number(E.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:c.createPath(this.getParentCreatedAt()),index:U,previousIndex:F}],reverseOp:_}}toReverseOperation(c){const v=c.getPrevCreatedAt(this.createdAt);return Bi.create(this.getParentCreatedAt(),v,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(c){this.prevCreatedAt=c}setCreatedAt(c){this.createdAt=c}}const nc=(h,i)=>h===i?0:h<i?-1:1;class Ex{constructor(i,c,v){q(this,"key");q(this,"value");q(this,"left");q(this,"right");q(this,"isRed");this.key=i,this.value=c,this.isRed=v}}class ji{constructor(i){q(this,"stack");this.stack=[],this.traverseInorder(i)}traverseInorder(i){i&&(this.traverseInorder(i.left),this.stack.push({key:i.key,value:i.value}),this.traverseInorder(i.right))}}class oo{constructor(i){q(this,"root");q(this,"comparator");q(this,"counter");this.comparator=typeof i<"u"?i:nc,this.counter=0}put(i,c){return this.root=this.putInternal(i,c,this.root),this.root.isRed=!1,c}get(i){const c=this.getInternal(i,this.root);return c?c.value:void 0}remove(i){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,i),this.root&&(this.root.isRed=!1)}getIterator(){return new ji(this.root)}values(){const i=[];for(const c of this.getIterator().stack)i.push(c.value);return i}floorEntry(i){let c=this.root,v;for(;c;){const E=this.comparator(i,c.key);if(E===0)return c;E<0?c=c.left:(v=c,c=c.right)}return v}lastEntry(){if(!this.root)return this.root;let i=this.root;for(;i.right;)i=i.right;return i}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(i,c){for(;c;){const v=this.comparator(i,c.key);if(v===0)return c;v<0?c=c.left:v>0&&(c=c.right)}}putInternal(i,c,v){if(!v)return this.counter+=1,new Ex(i,c,!0);const E=this.comparator(i,v.key);return E<0?v.left=this.putInternal(i,c,v.left):E>0?v.right=this.putInternal(i,c,v.right):v.value=c,this.isRed(v.right)&&!this.isRed(v.left)&&(v=this.rotateLeft(v)),this.isRed(v.left)&&this.isRed(v.left.left)&&(v=this.rotateRight(v)),this.isRed(v.left)&&this.isRed(v.right)&&this.flipColors(v),v}removeInternal(i,c){if(this.comparator(c,i.key)<0)!this.isRed(i.left)&&!this.isRed(i.left.left)&&(i=this.moveRedLeft(i)),i.left=this.removeInternal(i.left,c);else{if(this.isRed(i.left)&&(i=this.rotateRight(i)),this.comparator(c,i.key)===0&&!i.right){this.counter-=1;return}if(!this.isRed(i.right)&&!this.isRed(i.right.left)&&(i=this.moveRedRight(i)),this.comparator(c,i.key)===0){this.counter-=1;const v=this.min(i.right);i.value=v.value,i.key=v.key,i.right=this.removeMin(i.right)}else i.right=this.removeInternal(i.right,c)}return this.fixUp(i)}min(i){return i.left?this.min(i.left):i}removeMin(i){if(i.left)return!this.isRed(i.left)&&!this.isRed(i.left.left)&&(i=this.moveRedLeft(i)),i.left=this.removeMin(i.left),this.fixUp(i)}fixUp(i){return this.isRed(i.right)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}moveRedLeft(i){return this.flipColors(i),this.isRed(i.right.left)&&(i.right=this.rotateRight(i.right),i=this.rotateLeft(i),this.flipColors(i)),i}moveRedRight(i){return this.flipColors(i),this.isRed(i.left.left)&&(i=this.rotateRight(i),this.flipColors(i)),i}isRed(i){return i&&i.isRed}rotateLeft(i){const c=i.right;return i.right=c.left,c.left=i,c.isRed=c.left.isRed,c.left.isRed=!0,c}rotateRight(i){const c=i.left;return i.left=c.right,c.right=i,c.isRed=c.right.isRed,c.right.isRed=!0,c}flipColors(i){i.isRed=!i.isRed,i.left.isRed=!i.left.isRed,i.right.isRed=!i.right.isRed}}function na(h){return h?Gm(h.live)+Gm(h.gc):0}function Gm(h){return h.data+h.meta}function kn(h,...i){for(const c of i)h.data+=c.data,h.meta+=c.meta}function Gr(h,i){h.data-=i.data,h.meta-=i.meta}class Cn{constructor(i,c){q(this,"createdAt");q(this,"offset");this.createdAt=i,this.offset=c}static of(i,c){return new Cn(i,c)}static fromStruct(i){return Cn.of(oi.fromStruct(i.createdAt),i.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(i){return this.createdAt.compare(i.createdAt)===0&&this.offset===i.offset}hasSameCreatedAt(i){return this.createdAt.compare(i.createdAt)===0}split(i){return new Cn(this.createdAt,this.offset+i)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const sp=Cn.of(il,0);class lr{constructor(i,c){q(this,"id");q(this,"relativeOffset");this.id=i,this.relativeOffset=c}static of(i,c){return new lr(i,c)}static fromStruct(i){const c=Cn.fromStruct(i.id);return lr.of(c,i.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Cn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(i){return this.id.equals(i.id)?this.relativeOffset===i.relativeOffset:!1}}class Ao extends Lm{constructor(c,v,E){super(v);q(this,"id");q(this,"removedAt");q(this,"prev");q(this,"next");q(this,"insPrev");q(this,"insNext");this.id=c,this.removedAt=E}static create(c,v){return new Ao(c,v)}static createComparator(){return(c,v)=>{const E=c.getCreatedAt().compare(v.getCreatedAt());return E!==0?E:c.getOffset()>v.getOffset()?1:c.getOffset()<v.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(c){this.prev=c,c&&(c.next=this)}setNext(c){this.next=c,c&&(c.prev=this)}setInsPrev(c){this.insPrev=c,c&&(c.insNext=this)}setInsNext(c){this.insNext=c,c&&(c.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(c){return new Ao(this.id.split(c),this.splitValue(c),this.removedAt)}canRemove(c,v,E){return v?!!(!this.removedAt||!E&&(c!=null&&c.after(this.removedAt))):!1}canStyle(c,v){return this.getCreatedAt().getLamport()<=v&&(!this.removedAt||c.after(this.removedAt))}setRemovedAt(c){this.removedAt=c}remove(c){if(!this.removedAt){this.removedAt=c;return}c.after(this.removedAt)&&(this.removedAt=c)}createPosRange(){return[lr.of(this.id,0),lr.of(this.id,this.getLength())]}getDataSize(){const c=this.value.getDataSize();return this.id&&(c.meta+=no),this.removedAt&&(c.meta+=no),c}deepcopy(){return new Ao(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(c){const v=this.value;return this.value=v.substring(0,c),v.substring(c,v.length)}toIDString(){return this.id.toIDString()}}class ol{constructor(){q(this,"head");q(this,"treeByIndex");q(this,"treeByID");this.head=Ao.create(sp),this.treeByIndex=new ec,this.treeByID=new oo(Ao.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new ol}edit(i,c,v,E){const _={data:0,meta:0},[F,U,W]=this.findNodeWithSplit(i[1],c),[te,ce,Re]=this.findNodeWithSplit(i[0],c);kn(_,U,ce);const Be=this.findBetween(Re,W),[Te,We]=this.deleteNodes(Be,c,E),He=W?W.getID():F.getID();let ot=lr.of(He,0);if(v){const Dn=this.posToIndex(te.createPosRange()[1],!0),tn=this.insertAfter(te,Ao.create(Cn.of(c,0),v));kn(_,tn.getDataSize()),Te.length&&Te[Te.length-1].from===Dn?Te[Te.length-1].value=v:Te.push({actor:c.getActorID(),from:Dn,to:Dn,value:v}),ot=lr.of(tn.getID(),tn.getContentLength())}const wt=[],fn=[];for(const[,Dn]of We)wt.push({parent:this,child:Dn}),fn.push(Dn.getValue());return[ot,wt,_,Te,fn]}indexToPos(i){const[c,v]=this.treeByIndex.findForText(i),E=c;return lr.of(E.getID(),v)}findIndexesFromRange(i){const[c,v]=i;return[this.posToIndex(c,!1),this.posToIndex(v,!0)]}posToIndex(i,c){const v=i.getAbsoluteID(),E=c?this.findFloorNodePreferToLeft(v):this.findFloorNode(v);if(!E)throw new Ae(ve.ErrInvalidArgument,`the node of the given id should be found: ${v.toTestString()}`);const _=this.treeByIndex.indexOf(E),F=E.isRemoved()?0:v.getOffset()-E.getID().getOffset();return _+F}findNode(i){return this.findFloorNode(i)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const i=[];for(const c of this)c.isRemoved()||i.push(c.getValue());return i.join("")}*[Symbol.iterator](){let i=this.head.getNext();for(;i;)yield i,i=i.getNext()}getHead(){return this.head}deepcopy(){const i=new ol;let c=this.head.getNext(),v=i.head,E;for(;c;){if(E=i.insertAfter(v,c.deepcopy()),c.hasInsPrev()){const _=i.findNode(c.getInsPrevID());E.setInsPrev(_)}v=E,c=c.getNext()}return i}normalizePos(i){const c=this.findFloorNode(i.getID());if(!c)throw new Ae(ve.ErrInvalidArgument,`the node of the given id should be found: ${i.getID().toTestString()}`);let v=i.getRelativeOffset(),E=c,_=c.getPrev();for(;_;)v+=_.getLength(),E=_,_=_.getPrev();return lr.of(E.getID(),v)}refinePos(i){let c=this.findFloorNode(i.getID());if(!c)throw new Ae(ve.ErrInvalidArgument,`the node of the given id should be found: ${i.getID().toTestString()}`);let v=i.getRelativeOffset(),E=c.getContentLength();for(;v>E;){v-=E;const _=c.getNext();if(!_)return lr.of(c.getID(),E);c=_,E=c.getLength()}return lr.of(c.getID(),v)}toTestString(){const i=[];let c=this.head;for(;c;)c.isRemoved()?i.push(`{${c.toTestString()}}`):i.push(`[${c.toTestString()}]`),c=c.getNext();return i.join("")}insertAfter(i,c){const v=i.getNext();return c.setPrev(i),v&&v.setPrev(c),this.treeByID.put(c.getID(),c),this.treeByIndex.insertAfter(i,c),c}findNodeWithSplit(i,c){const v=i.getAbsoluteID();let E=this.findFloorNodePreferToLeft(v);const _=v.getOffset()-E.getID().getOffset(),[,F]=this.splitNode(E,_);for(;E.hasNext()&&E.getNext().getCreatedAt().after(c);)E=E.getNext();return[E,F,E.getNext()]}findFloorNodePreferToLeft(i){let c=this.findFloorNode(i);if(!c)throw new Ae(ve.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);if(i.getOffset()>0&&c.getID().getOffset()==i.getOffset()){if(!c.hasInsPrev())return c;c=c.getInsPrev()}return c}findFloorNode(i){const c=this.treeByID.floorEntry(i);if(c&&!(!c.key.equals(i)&&!c.key.hasSameCreatedAt(i)))return c.value}findBetween(i,c){const v=[];let E=i;for(;E&&E!==c;)v.push(E),E=E.getNext();return v}splitNode(i,c){const v={data:0,meta:0};if(c>i.getContentLength())throw new Ae(ve.ErrInvalidArgument,"offset should be less than or equal to length");if(c===0)return[i,v];if(c===i.getContentLength())return[i.getNext(),v];const E=i.getDataSize(),_=i.split(c);this.treeByIndex.updateWeight(_),this.insertAfter(i,_);const F=i.getInsNext();return F&&F.setInsPrev(_),_.setInsPrev(i),kn(v,i.getDataSize(),_.getDataSize()),Gr(v,E),[_,v]}deleteNodes(i,c,v){if(!i.length)return[[],new Map];const E=v===void 0||v.size()===0,_=[],F=[],[U,W]=this.findEdgesOfCandidates(i);F.push(U);for(const Re of i){let Be=!1;if(E)Be=!0;else{const We=v==null?void 0:v.get(Re.getCreatedAt().getActorID());We&&We>=Re.getCreatedAt().getLamport()&&(Be=!0)}let Te=!1;if(Re.getRemovedAt()){const We=v==null?void 0:v.get(Re.getRemovedAt().getActorID());(E||We&&We>=Re.getRemovedAt().getLamport())&&(Te=!0)}Re.canRemove(c,Be,Te)?_.push(Re):F.push(Re)}F.push(W);const te=this.makeChanges(F,c),ce=new Map;for(const Re of _)ce.set(Re.getID().toIDString(),Re),Re.remove(c);return this.deleteIndexNodes(F),[te,ce]}findEdgesOfCandidates(i){return[i[0].getPrev(),i[i.length-1].getNext()]}makeChanges(i,c){const v=[];let E,_;for(let F=0;F<i.length-1;F++){const U=i[F],W=i[F+1];U.getNext()!=W&&([E]=this.findIndexesFromRange(U.getNext().createPosRange()),W?[,_]=this.findIndexesFromRange(W.getPrev().createPosRange()):_=this.treeByIndex.length,E<_&&v.push({actor:c.getActorID(),from:E,to:_}))}return v.reverse()}deleteIndexNodes(i){for(let c=0;c<i.length-1;c++){const v=i[c],E=i[c+1];v.getNext()!=E&&this.treeByIndex.deleteRange(v,E)}}purge(i){this.treeByIndex.delete(i),this.treeByID.remove(i.getID());const c=i.getPrev(),v=i.getNext(),E=i.getInsPrev(),_=i.getInsNext();c&&c.setNext(v),v&&v.setPrev(c),i.setPrev(void 0),i.setNext(void 0),E&&E.setInsNext(_),_&&_.setInsPrev(E),i.setInsPrev(void 0),i.setInsNext(void 0)}}class ls{constructor(i,c,v,E){q(this,"key");q(this,"value");q(this,"updatedAt");q(this,"_isRemoved");this.key=i,this.value=c,this.updatedAt=v,this._isRemoved=E}static of(i,c,v,E){return new ls(i,c,v,E)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:no}}}class $r{constructor(){q(this,"nodeMapByKey");q(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new $r}getNodeMapByKey(){return this.nodeMapByKey}set(i,c,v){const E=this.nodeMapByKey.get(i);if(E&&E.isRemoved()&&v.after(E.getUpdatedAt())&&(this.numberOfRemovedElement-=1),E===void 0||v.after(E.getUpdatedAt())){const _=ls.of(i,c,v,!1);return this.nodeMapByKey.set(i,_),E!==void 0&&E.isRemoved()?[E,_]:[void 0,_]}return E.isRemoved()?[E,void 0]:[void 0,void 0]}setInternal(i,c,v,E){const _=ls.of(i,c,v,E);this.nodeMapByKey.set(i,_),E&&this.numberOfRemovedElement++}remove(i,c){const v=this.nodeMapByKey.get(i),E=[];if(v===void 0||c.after(v.getUpdatedAt())){if(v===void 0){this.numberOfRemovedElement+=1;const U=ls.of(i,"",c,!0);return this.nodeMapByKey.set(i,U),E.push(U),E}const _=v.isRemoved();_||(this.numberOfRemovedElement+=1),_&&E.push(v);const F=ls.of(i,v.getValue(),c,!0);return this.nodeMapByKey.set(i,F),E.push(F),E}return E}has(i){if(this.nodeMapByKey.has(i)){const c=this.nodeMapByKey.get(i);return c!==void 0&&!c.isRemoved()}return!1}get(i){if(this.nodeMapByKey.has(i))return this.nodeMapByKey.get(i).getValue()}deepcopy(){const i=new $r;for(const[,c]of this.nodeMapByKey)i.setInternal(c.getKey(),c.getValue(),c.getUpdatedAt(),c.isRemoved());return i}toJSON(){if(!this.size())return"{}";const i=[];for(const[c,v]of this.nodeMapByKey)v.isRemoved()||i.push(`"${ro(c)}":"${ro(v.getValue())}"`);return`{${i.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const i={};for(const[c,v]of this.nodeMapByKey)v.isRemoved()||(i[c]=v.getValue());return i}*[Symbol.iterator](){for(const[,i]of this.nodeMapByKey)yield i}purge(i){const c=this.nodeMapByKey.get(i.getKey());c==null||c.toIDString()!=i.toIDString()||(this.nodeMapByKey.delete(i.getKey()),this.numberOfRemovedElement--)}}function li(h){if(h instanceof Map){const i=Array.from(h);return new Map(JSON.parse(JSON.stringify(i)))}return JSON.parse(JSON.stringify(h))}const $m=h=>h?Object.entries(h).length===0:!0,sl=h=>{const i={};for(const[c,v]of Object.entries(h))i[c]=JSON.stringify(v);return i},wo=h=>{const i={};for(const[c,v]of Object.entries(h))i[c]=JSON.parse(v);return i};class ra{constructor(i){q(this,"attributes");q(this,"content");this.attributes=$r.create(),this.content=i}static create(i){return new ra(i)}get length(){return this.content.length}substring(i,c){const v=new ra(this.content.substring(i,c));return v.attributes=this.attributes.deepcopy(),v}setAttr(i,c,v){return this.attributes.set(i,c,v)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const i={data:0,meta:0};i.data+=this.content.length*2;for(const c of this.attributes){const v=c.getDataSize();i.meta+=v.meta,i.data+=v.data}return i}toJSON(){const i=ro(this.content),c=this.attributes.toObject(),v=[];for(const[E,_]of Object.entries(c)){const F=JSON.parse(_),U=typeof F=="string"?`"${ro(E)}":"${ro(F)}"`:`"${ro(E)}":${String(F)}`;v.push(U)}return v.sort(),v.length===0?`{"val":"${i}"}`:`{"attrs":{${v.join(",")}},"val":"${i}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(i){this.attributes&&i instanceof ls&&this.attributes.purge(i)}getGCPairs(){const i=[];for(const c of this.attributes)c.getRemovedAt()&&i.push({parent:this,child:c});return i}}class Hr extends kf{constructor(c,v){super(v);q(this,"rgaTreeSplit");this.rgaTreeSplit=c}static create(c,v){return new Hr(c,v)}edit(c,v,E,_,F){const U=v?ra.create(v):void 0;if(U&&_)for(const[We,He]of Object.entries(_))U.setAttr(We,He,E);const[W,te,ce,Re,Be]=this.rgaTreeSplit.edit(c,E,U,F);return[Re.map(We=>({...We,value:We.value?{attributes:wo(We.value.getAttributes()),content:We.value.getContent()}:{attributes:void 0,content:""},type:"content"})),te,ce,[W,W],Be]}setStyle(c,v,E,_){const F={data:0,meta:0},[,U,W]=this.rgaTreeSplit.findNodeWithSplit(c[1],E),[,te,ce]=this.rgaTreeSplit.findNodeWithSplit(c[0],E);kn(F,U,te);const Re=[],Be=this.rgaTreeSplit.findBetween(ce,W),Te=[];for(const He of Be){const ot=He.getCreatedAt().getActorID();let wt=rp;_!=null&&(wt=_.get(ot)?_.get(ot):0n),He.canStyle(E,wt)&&Te.push(He)}const We=[];for(const He of Te){if(He.isRemoved())continue;const[ot,wt]=this.rgaTreeSplit.findIndexesFromRange(He.createPosRange());Re.push({type:"style",actor:E.getActorID(),from:ot,to:wt,value:{attributes:wo(v)}});for(const[fn,Dn]of Object.entries(v)){const[tn]=He.getValue().setAttr(fn,Dn,E);tn!==void 0&&We.push({parent:He.getValue(),child:tn});const Tr=He.getValue().getAttrs().getNodeMapByKey().get(fn);Tr!==void 0&&kn(F,Tr.getDataSize())}}return[We,F,Re]}indexRangeToPosRange(c,v){const E=this.rgaTreeSplit.indexToPos(c);return c===v?[E,E]:[E,this.rgaTreeSplit.indexToPos(v)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(c){return this.rgaTreeSplit.refinePos(c)}normalizePos(c){return this.rgaTreeSplit.normalizePos(c)}getDataSize(){const c={data:0,meta:0};for(const v of this.rgaTreeSplit){if(v.isRemoved())continue;const E=v.getDataSize();c.data+=E.data,c.meta+=E.meta}return{data:c.data,meta:c.meta+this.getMetaUsage()}}toJSON(){const c=[];for(const v of this.rgaTreeSplit)v.isRemoved()||c.push(v.getValue().toJSON());return`[${c.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const c=[];for(const v of this.rgaTreeSplit)if(!v.isRemoved()){const E=v.getValue();c.push({attributes:wo(E.getAttributes()),content:E.getContent()})}return c}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const c=new Hr(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return c.setRemovedAt(this.getRemovedAt()),c.setMovedAt(this.getMovedAt()),c}findIndexesFromRange(c){return this.rgaTreeSplit.findIndexesFromRange(c)}posToIndex(c,v=!1){return this.rgaTreeSplit.posToIndex(c,v)}getGCPairs(){const c=[];for(const v of this.rgaTreeSplit){v.getRemovedAt()&&c.push({parent:this.rgaTreeSplit,child:v});for(const E of v.getValue().getGCPairs())c.push(E)}return c}}class Co extends Ur{constructor(c,v,E,_,F,U,W){super(c,U);q(this,"fromPos");q(this,"toPos");q(this,"content");q(this,"attributes");q(this,"isUndoOp");this.fromPos=v,this.toPos=E,this.content=_,this.attributes=F,this.isUndoOp=W}static create(c,v,E,_,F,U,W){return new Co(c,v,E,_,F,U,W)}execute(c,v,E){const _=c.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Ae(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Hr))throw new Ae(ve.ErrInvalidArgument,"fail to execute, only Text can execute edit");const F=_;this.isUndoOp&&(this.fromPos=F.refinePos(this.fromPos),this.toPos=F.refinePos(this.toPos));const[U,W,te,,ce]=F.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),E),Re=this.toReverseOperation(ce,F.normalizePos(this.fromPos));c.acc(te);for(const Be of W)c.registerGCPair(Be);return{opInfos:U.map(({from:Be,to:Te,value:We})=>({type:"edit",from:Be,to:Te,value:We,path:c.createPath(this.getParentCreatedAt())})),reverseOp:Re}}toReverseOperation(c,v){var F;const E=c!=null&&c.length?c.map(U=>U.getContent()).join(""):"";let _;if(c.length===1){const U=c[0].getAttributes();U&&(_=Array.from(Object.entries(U)))}return Co.create(this.getParentCreatedAt(),v,lr.of(v.getID(),v.getRelativeOffset()+(((F=this.content)==null?void 0:F.length)??0)),E,_?new Map(_):new Map,void 0,!0)}normalizePos(c){const v=c.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ae(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof Hr))throw new Ae(ve.ErrInvalidArgument,"only Text can normalize edit");const E=v,_=E.normalizePos(this.fromPos).getRelativeOffset(),F=E.normalizePos(this.toPos).getRelativeOffset();return[_,F]}reconcileOperation(c,v,E){if(!this.isUndoOp||c>v)return;const _=v-c,F=this.fromPos.getRelativeOffset(),U=this.toPos.getRelativeOffset(),W=(te,ce)=>{this.fromPos=lr.of(this.fromPos.getID(),Math.max(0,te)),this.toPos=lr.of(this.toPos.getID(),Math.max(0,ce))};if(v<=F){W(F-_+E,U-_+E);return}if(!(U<=c)){if(c<=F&&U<=v&&c!==v){W(c,c);return}if(F<=c&&v<=U&&F!==U){W(F,U-_+E);return}if(c<F&&F<v&&v<U){W(c,c+(U-v));return}if(F<c&&c<U&&U<v){W(F,c);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const c=this.getParentCreatedAt().toTestString(),v=this.fromPos.toTestString(),E=this.toPos.toTestString(),_=this.content;return`${c}.EDIT(${v},${E},${_})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class rc extends Ur{constructor(c,v,E,_,F){super(c,F);q(this,"fromPos");q(this,"toPos");q(this,"attributes");this.fromPos=v,this.toPos=E,this.attributes=_}static create(c,v,E,_,F){return new rc(c,v,E,_,F)}execute(c,v,E){const _=c.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Ae(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Hr))throw new Ae(ve.ErrInvalidArgument,"fail to execute, only Text can execute edit");const F=_,[U,W,te]=F.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),E);c.acc(W);for(const ce of U)c.registerGCPair(ce);return{opInfos:te.map(({from:ce,to:Re,value:Be})=>({type:"style",from:ce,to:Re,value:Be,path:c.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const c=this.getParentCreatedAt().toTestString(),v=this.fromPos.toTestString(),E=this.toPos.toTestString(),_=this.attributes;return`${c}.STYL(${v},${E},${JSON.stringify(_)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const Ax=2,L1="root",so="text";function Wn(h,i,c=!1){let v=0;const E=c?h.allChildren:h.children;for(let _=0;_<i;_++){const F=E[_];!F||!c&&F.isRemoved||(v+=F.paddedSize(c))}return v}class wr{constructor(i,c=[]){q(this,"type");q(this,"parent");q(this,"_children");q(this,"visibleSize");q(this,"totalSize");if(this.type=i,this.visibleSize=0,this.totalSize=0,this._children=c,this.isText&&this._children.length>0)throw new Ae(ve.ErrRefused,"Text node cannot have children")}updateAncestorsSize(i,c=!1){let v=this.parent;for(;v;){if(c)v.totalSize+=i;else if(v.visibleSize+=i,v.isRemoved)break;v=v.parent}}updateDescendantsSize(i=!1){let c=0;for(const v of this._children){const E=v.updateDescendantsSize(i);!i&&v.isRemoved||(c+=E)}return i?this.totalSize+=c:this.visibleSize+=c,this.paddedSize(i)}get isText(){return this.type===so}paddedSize(i=!1){let c=this.visibleSize;return i&&(c=this.totalSize),this.isText||(c+=Ax),c}isAncestorOf(i){return wx(this,i)}get nextSibling(){const i=this.parent.findOffset(this),c=this.parent.children[i+1];if(c)return c}get prevSibling(){const i=this.parent.findOffset(this),c=this.parent.children[i-1];if(c)return c}splitText(i,c){const v={data:0,meta:0};if(i===0||i===this.visibleSize)return[void 0,v];const E=this.value.slice(0,i),_=this.value.slice(i);if(!_.length)return[void 0,v];const F=this.getDataSize();this.value=E;const U=this.cloneText(i+c);return U.value=_,this.parent.insertAfterInternal(U,this),kn(v,this.getDataSize(),U.getDataSize()),Gr(v,F),[U,v]}get children(){return this._children.filter(i=>!i.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(i=>i.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(i=>i.value).join(""):""}append(...i){if(this.isText)throw new Ae(ve.ErrRefused,"Text node cannot have children");this._children.push(...i);for(const c of i)c.parent=this,c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0)}prepend(...i){if(this.isText)throw new Ae(ve.ErrRefused,"Text node cannot have children");this._children.unshift(...i);for(const c of i)c.parent=this}insertBefore(i,c){if(this.isText)throw new Ae(ve.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(c);if(v===-1)throw new Ae(ve.ErrInvalidArgument,"child not found");this.insertAtInternal(i,v),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}insertAfter(i,c){if(this.isText)throw new Ae(ve.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(c);if(v===-1)throw new Ae(ve.ErrInvalidArgument,"child not found");this.insertAtInternal(i,v+1),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}insertAt(i,c){if(this.isText)throw new Ae(ve.ErrRefused,"Text node cannot have children");this.insertAtInternal(i,c),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}removeChild(i){if(this.isText)throw new Ae(ve.ErrRefused,"Text node cannot have children");const c=this._children.indexOf(i);if(c===-1)throw new Ae(ve.ErrInvalidArgument,"child not found");this._children.splice(c,1),i.updateAncestorsSize(-i.paddedSize(!0),!0),i.parent=void 0}splitElement(i,c){const v={data:0,meta:0},E=this.getDataSize(),_=this.cloneElement(c);this.parent.insertAfterInternal(_,this),_.updateAncestorsSize(_.paddedSize()),_.updateAncestorsSize(_.paddedSize(!0),!0);const F=this.children.slice(0,i),U=this.children.slice(i);this._children=F,_._children=U,this.visibleSize=this._children.reduce((W,te)=>W+te.paddedSize(),0),this.totalSize=this._children.reduce((W,te)=>W+te.paddedSize(!0),0),_.visibleSize=_._children.reduce((W,te)=>W+te.paddedSize(!0),0),_.totalSize=_._children.reduce((W,te)=>W+te.paddedSize(!0),0);for(const W of _._children)W.parent=_;return kn(v,this.getDataSize(),_.getDataSize()),Gr(v,E),[_,v]}insertAfterInternal(i,c){if(this.isText)throw new Ae(ve.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(c);if(v===-1)throw new Ae(ve.ErrInvalidArgument,"child not found");this.insertAtInternal(i,v+1)}insertAtInternal(i,c){if(this.isText)throw new Ae(ve.ErrRefused,"Text node cannot have children");this._children.splice(c,0,i),i.parent=this}findOffset(i,c=!1){if(this.isText)throw new Ae(ve.ErrRefused,"Text node cannot have children");if(c)return this._children.indexOf(i);if(i.isRemoved){const v=this._children.indexOf(i);return this.allChildren.splice(0,v).filter(_=>!_.isRemoved).length}return this.children.indexOf(i)}findBranchOffset(i){if(this.isText)throw new Ae(ve.ErrRefused,"Text node cannot have children");let c=i;for(;c;){const v=this._children.indexOf(c);if(v!==-1)return v;c=c.parent}return-1}}function wx(h,i){if(h===i)return!1;for(;i.parent;){if(i.parent===h)return!0;i=i.parent}return!1}var qn=(h=>(h.Start="Start",h.End="End",h.Text="Text",h))(qn||{});function Hm(h,i,c,v,E=!1){if(i>c)throw new Ae(ve.ErrInvalidArgument,`from is greater than to: ${i} > ${c}`);const _=E?h.totalSize:h.visibleSize;if(i>_)throw new Ae(ve.ErrInvalidArgument,`from is out of range: ${i} > ${_}`);if(c>_)throw new Ae(ve.ErrInvalidArgument,`to is out of range: ${c} > ${_}`);if(i===c)return;let F=0;const U=E?h._children:h.children;for(const W of U){if(i-W.paddedSize(E)<F&&F<c){const te=W.isText?i-F:i-F-1,ce=W.isText?c-F:c-F-1,Re=E?W.totalSize:W.visibleSize,Be=!W.isText&&te<0,Te=!W.isText&&ce>Re;(W.isText||Be)&&v([W,W.isText?"Text":"Start"],Te),Hm(W,Math.max(0,te),Math.min(ce,Re),v,E),Te&&v([W,"End"],Te)}F+=W.paddedSize(E)}}function Ym(h,i,c=0){for(const v of h.children)Ym(v,i,c+1);i(h,c)}function jf(h,i,c=0){for(const v of h._children)jf(v,i,c+1);i(h,c)}function ic(h,i,c=!0){if(i>h.visibleSize)throw new Ae(ve.ErrInvalidArgument,`index is out of range: ${i} > ${h.visibleSize}`);if(h.isText)return{node:h,offset:i};let v=0,E=0;for(const _ of h.children){if(c&&_.isText&&_.visibleSize>=i-E)return ic(_,i-E,c);if(i===E)return{node:h,offset:v};if(!c&&_.paddedSize()===i-E)return{node:h,offset:v+1};if(_.paddedSize()>i-E)return ic(_,i-E-1,c);E+=_.paddedSize(),v+=1}return{node:h,offset:v}}function ap(h){return h.isText||h.children.length===0?h:ap(h.children[0])}function Cx(h,i){if(h.visibleSize<i)throw new Ae(ve.ErrInvalidArgument,"unacceptable path");for(let c=0;c<h.children.length;c++){const v=h.children[c];if(v.visibleSize<i)i-=v.visibleSize;else{h=v;break}}return{node:h,offset:i}}class Rx{constructor(i){q(this,"root");this.root=i}tokensBetween(i,c,v,E=!1){Hm(this.root,i,c,v,E)}traverse(i){Ym(this.root,i,0)}traverseAll(i){jf(this.root,i,0)}findTreePos(i,c=!0){return ic(this.root,i,c)}treePosToPath(i){const c=[];let v=i.node;if(v.isText){const E=v.parent.findOffset(v);if(E===-1)throw new Ae(ve.ErrInvalidArgument,"invalid treePos");const _=Wn(v.parent,E);c.push(_+i.offset),v=v.parent}else if(v.hasTextChild()){const E=Wn(v,i.offset);c.push(E)}else c.push(i.offset);for(;v.parent;){const E=v.parent.findOffset(v);if(E===-1)throw new Ae(ve.ErrInvalidArgument,"invalid treePos");c.push(E),v=v.parent}return c.reverse()}pathToIndex(i){const c=this.pathToTreePos(i);return this.indexOf(c)}pathToTreePos(i){if(!i.length)throw new Ae(ve.ErrInvalidArgument,"unacceptable path");let c=this.root;for(let v=0;v<i.length-1;v++){const E=i[v];if(c=c.children[E],!c)throw new Ae(ve.ErrInvalidArgument,"unacceptable path")}if(c.hasTextChild())return Cx(c,i[i.length-1]);if(c.children.length<i[i.length-1])throw new Ae(ve.ErrInvalidArgument,"unacceptable path");return{node:c,offset:i[i.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(i){const{node:c,offset:v}=i;if(c.isText){if(c.visibleSize===v){const E=c.nextSibling;return E||c.parent}return c}return c.children.length===v?c:ap(c.children[v])}indexOf(i,c=!1){let{node:v}=i;const{offset:E}=i;let _=0,F=1;if(v.isText){_+=E;const U=v.parent,W=U.findOffset(v,c);if(W===-1)throw new Ae(ve.ErrInvalidArgument,"invalid pos");_+=Wn(U,W,c),v=v.parent}else _+=Wn(v,E,c);for(;v!=null&&v.parent;){const U=v.parent,W=U.findOffset(v,c);if(W===-1)throw new Ae(ve.ErrInvalidArgument,"invalid pos");_+=Wn(U,W,c),F++,v=v.parent}return _+F-1}indexToPath(i){const c=this.findTreePos(i);return this.treePosToPath(c)}}class zi{constructor(i,c){q(this,"parentID");q(this,"leftSiblingID");this.parentID=i,this.leftSiblingID=c}static of(i,c){return new zi(i,c)}static fromTreePos(i){const{offset:c}=i;let{node:v}=i,E;return v.isText?(v.parent.children[0]===v&&c===0?E=v.parent:E=v,v=v.parent):c===0?E=v:E=v.children[c-1],zi.of(v.id,ur.of(E.getCreatedAt(),E.getOffset()+c))}getParentID(){return this.parentID}static fromStruct(i){return zi.of(ur.of(oi.fromStruct(i.parentID.createdAt),i.parentID.offset),ur.of(oi.fromStruct(i.leftSiblingID.createdAt),i.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(i){const c=this.getParentID(),v=this.getLeftSiblingID(),E=i.findFloorNode(c);let _=i.findFloorNode(v);if(!E||!_)throw new Ae(ve.ErrRefused,`cannot find node of CRDTTreePos(${c.toTestString()}, ${v.toTestString()})`);return!v.equals(c)&&v.getOffset()>0&&v.getOffset()===_.id.getOffset()&&_.insPrevID&&(_=i.findFloorNode(_.insPrevID)),[E,_]}getLeftSiblingID(){return this.leftSiblingID}equals(i){return this.getParentID().getCreatedAt().equals(i.getParentID().getCreatedAt())&&this.getParentID().getOffset()===i.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(i.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===i.getLeftSiblingID().getOffset()}}class ur{constructor(i,c){q(this,"createdAt");q(this,"offset");this.createdAt=i,this.offset=c}static of(i,c){return new ur(i,c)}static fromStruct(i){return ur.of(oi.fromStruct(i.createdAt),i.offset)}static createComparator(){return(i,c)=>{const v=i.getCreatedAt().compare(c.getCreatedAt());return v!==0?v:i.getOffset()>c.getOffset()?1:i.getOffset()<c.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(i){return this.createdAt.compare(i.createdAt)===0&&this.offset===i.offset}getOffset(){return this.offset}setOffset(i){this.offset=i}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Yr extends wr{constructor(c,v,E,_,F){super(v);q(this,"id");q(this,"removedAt");q(this,"attrs");q(this,"insPrevID");q(this,"insNextID");q(this,"_value","");this.id=c,this.removedAt=F,_&&(this.attrs=_),typeof E=="string"?this.value=E:Array.isArray(E)&&(this._children=E)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(c,v,E,_){return new Yr(c,v,E,_)}deepcopy(){var v;const c=new Yr(this.id,this.type);return c.removedAt=this.removedAt,c._value=this._value,c.visibleSize=this.visibleSize,c.totalSize=this.totalSize,c.attrs=(v=this.attrs)==null?void 0:v.deepcopy(),c._children=this._children.map(E=>{const _=E.deepcopy();return _.parent=c,_}),c.insPrevID=this.insPrevID,c.insNextID=this.insNextID,c}get value(){if(!this.isText)throw new Ae(ve.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(c){if(!this.isText)throw new Ae(ve.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=c,this.visibleSize=c.length,this.totalSize=c.length}get isRemoved(){return!!this.removedAt}remove(c){return this.removedAt?(c.after(this.removedAt)&&(this.removedAt=c),!1):(this.removedAt=c,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(c){return new Yr(ur.of(this.id.getCreatedAt(),c),this.type,void 0,void 0,this.removedAt)}cloneElement(c){return new Yr(ur.of(c(),0),this.type,void 0,void 0,this.removedAt)}split(c,v,E){const[_,F]=this.isText?this.splitText(v,this.id.getOffset()):this.splitElement(v,E);if(_){if(_.insPrevID=this.id,this.insNextID){const U=c.findFloorNode(this.insNextID);U.insPrevID=_.id,_.insNextID=this.insNextID}this.insNextID=_.id,c.registerNode(_)}return[_,F]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(c,v,E){return v?!!(!this.removedAt||!E&&(c!=null&&c.after(this.removedAt))):!1}canStyle(c,v){return this.isText?!1:this.getCreatedAt().getLamport()<=v&&(!this.removedAt||c.after(this.removedAt))}setAttrs(c,v){this.attrs||(this.attrs=new $r);const E=[];for(const[_,F]of Object.entries(c))E.push(this.attrs.set(_,F,v));return E}purge(c){this.attrs&&this.attrs.purge(c)}getDataSize(){const c={data:0,meta:0};if(this.isText&&(c.data+=this.visibleSize*2),this.id&&(c.meta+=no),this.removedAt&&(c.meta+=no),this.attrs)for(const v of this.attrs){if(v.getRemovedAt())continue;const E=v.getDataSize();c.meta+=E.meta,c.data+=E.data}return c}getGCPairs(){const c=[];if(!this.attrs)return c;for(const v of this.attrs)v.getRemovedAt()&&c.push({parent:this,child:v});return c}}function zf(h){var c;if(h.isText){const v=h;return{type:v.type,value:v.value}}const i={type:h.type,children:h.children.map(zf)};return h.attrs&&(i.attributes=wo((c=h.attrs)==null?void 0:c.toObject())),i}function lp(h){if(h.isText)return h.value;let i="";return h.attrs&&h.attrs.size()&&(i=" "+Array.from(h.attrs).filter(c=>!c.isRemoved()).sort((c,v)=>c.getKey().localeCompare(v.getKey())).map(c=>{const v=JSON.parse(c.getValue());return typeof v=="string"?`${c.getKey()}="${v}"`:`${c.getKey()}="${ro(c.getValue())}"`}).join(" ")),`<${h.type}${i}>${h.children.map(c=>lp(c)).join("")}</${h.type}>`}function up(h){if(h.isText){const i=h;return{type:i.type,value:i.value,visibleSize:i.visibleSize,isRemoved:i.isRemoved}}return{type:h.type,children:h.children.map(up),visibleSize:h.visibleSize,isRemoved:h.isRemoved}}class Fr extends kf{constructor(c,v){super(v);q(this,"indexTree");q(this,"nodeMapByID");this.indexTree=new Rx(c),this.nodeMapByID=new oo(ur.createComparator()),this.indexTree.traverseAll(E=>{this.nodeMapByID.put(E.id,E)})}static create(c,v){return new Fr(c,v)}findFloorNode(c){const v=this.nodeMapByID.floorEntry(c);if(!(!v||!v.key.getCreatedAt().equals(c.getCreatedAt())))return v.value}registerNode(c){this.nodeMapByID.put(c.id,c)}findNodesAndSplitText(c,v){let E={data:0,meta:0};const[_,F]=c.toTreeNodePair(this);let U=F;const W=_===U,te=U.parent&&!W?U.parent:_;if(U.isText){const[,ce]=U.split(this,c.getLeftSiblingID().getOffset()-U.id.getOffset());E=ce}if(v){const ce=te.allChildren,Re=W?0:ce.indexOf(U)+1;for(let Be=Re;Be<ce.length;Be++){const Te=ce[Be];if(!Te.id.getCreatedAt().after(v))break;U=Te}}return[[te,U],E]}style(c,v,E,_){const F={data:0,meta:0},[[U,W],te]=this.findNodesAndSplitText(c[0],E),[[ce,Re],Be]=this.findNodesAndSplitText(c[1],E);kn(F,Be,te);const Te=[],We=v?wo(v):{},He=[];return this.traverseInPosRange(U,W,ce,Re,([ot,wt])=>{var tn;const fn=ot.getCreatedAt().getActorID();let Dn=rp;if(_!=null&&(Dn=_.get(fn)?_.get(fn):0n),ot.canStyle(E,Dn)&&v){const Tr=ot.setAttrs(v,E),dn=Tr.reduce((Bn,[,wi])=>(wi&&(Bn[wi.getKey()]=We[wi.getKey()]),Bn),{}),or=ot.parent,Gn=ot.prevSibling||ot.parent;Object.keys(dn).length>0&&Te.push({type:"style",from:this.toIndex(or,Gn),to:this.toIndex(ot,ot),fromPath:this.toPath(or,Gn),toPath:this.toPath(ot,ot),actor:E.getActorID(),value:dn});for(const[Bn]of Tr)Bn&&He.push({parent:ot,child:Bn});for(const[Bn]of Object.entries(We)){const wi=(tn=ot.attrs)==null?void 0:tn.getNodeMapByKey().get(Bn);wi!==void 0&&wt!==qn.End&&kn(F,wi.getDataSize())}}}),[He,Te,F]}removeStyle(c,v,E,_){const F={data:0,meta:0},[[U,W],te]=this.findNodesAndSplitText(c[0],E),[[ce,Re],Be]=this.findNodesAndSplitText(c[1],E);kn(F,Be,te);const Te=[],We=[];return this.traverseInPosRange(U,W,ce,Re,([He])=>{const ot=He.getCreatedAt().getActorID();let wt=rp;if(_!=null&&(wt=_.get(ot)?_.get(ot):0n),He.canStyle(E,wt)&&v){He.attrs||(He.attrs=new $r);for(const tn of v){const Tr=He.attrs.remove(tn,E);for(const dn of Tr)We.push({parent:He,child:dn})}const fn=He.parent,Dn=He.prevSibling||He.parent;Te.push({actor:E.getActorID(),type:"removeStyle",from:this.toIndex(fn,Dn),to:this.toIndex(He,He),fromPath:this.toPath(fn,Dn),toPath:this.toPath(He,He),value:v})}}),[We,Te,F]}edit(c,v,E,_,F,U){const W={data:0,meta:0},[[te,ce],Re]=this.findNodesAndSplitText(c[0],_),[[Be,Te],We]=this.findNodesAndSplitText(c[1],_);kn(W,We,Re);const He=this.toIndex(te,ce),ot=this.toPath(te,ce),wt=[],fn=[],Dn=[];this.traverseInPosRange(te,ce,Be,Te,([dn,or],Gn)=>{if(or===qn.Start&&!Gn)for(const Fp of dn.children)Dn.push(Fp);const Bn=U===void 0;let wi=!1;const ob=U==null?void 0:U.get(dn.id.getCreatedAt().getActorID());wi=Bn||ob!==void 0&&ob>=dn.id.getCreatedAt().getLamport();let bc=!1;if(dn.removedAt){const Fp=U==null?void 0:U.get(dn.removedAt.getActorID());bc=Bn||Fp!==void 0&&Fp>=dn.removedAt.getLamport()}(dn.canDelete(_,wi,bc)||wt.includes(dn.parent))&&((or===qn.Text||or===qn.Start)&&wt.push(dn),fn.push([dn,or]))},!0);const tn=this.makeDeletionChanges(fn,_),Tr=[];for(const dn of wt)dn.remove(_),dn.isRemoved&&Tr.push({parent:this,child:dn});for(const dn of Dn)dn.removedAt||te.append(dn);if(E>0){let dn=0,or=te,Gn=ce;for(;dn<E;)or.split(this,or.findOffset(Gn)+1,F),Gn=or,or=or.parent,dn++;tn.push({type:"content",from:He,to:He,fromPath:ot,toPath:ot,actor:_.getActorID()})}if(v!=null&&v.length){const dn=[];let or=ce;for(const Gn of v)or===te?te.insertAt(Gn,0):te.insertAfter(Gn,or),or=Gn,jf(Gn,Bn=>{te.isRemoved?(Bn.remove(_),Tr.push({parent:this,child:Bn})):kn(W,Bn.getDataSize()),this.nodeMapByID.put(Bn.id,Bn)}),Gn.isRemoved||dn.push(Gn);if(dn.length){const Gn=dn.map(Bn=>zf(Bn));tn.length&&tn[tn.length-1].from===He?tn[tn.length-1].value=Gn:tn.push({type:"content",from:He,to:He,fromPath:ot,toPath:ot,actor:_.getActorID(),value:Gn})}}return[tn,Tr,W]}editT(c,v,E,_,F){const U=this.findPos(c[0]),W=this.findPos(c[1]);return this.edit([U,W],v,E,_,F)}move(c,v,E){throw new Ae(ve.ErrUnimplemented,`not implemented: ${c}, ${v}, ${E}`)}pathToTreePos(c){return this.indexTree.pathToTreePos(c)}purge(c){var _;(_=c.parent)==null||_.removeChild(c),this.nodeMapByID.remove(c.id);const v=c.insPrevID,E=c.insNextID;if(v){const F=this.findFloorNode(v);F.insNextID=E}if(E){const F=this.findFloorNode(E);F.insPrevID=v}c.insPrevID=void 0,c.insNextID=void 0}getGCPairs(){const c=[];return this.indexTree.traverse(v=>{v.getRemovedAt()&&c.push({parent:this,child:v});for(const E of v.getGCPairs())c.push(E)}),c}findPos(c,v=!0){const E=this.indexTree.findTreePos(c,v);return zi.fromTreePos(E)}pathToPosRange(c){const v=this.pathToIndex(c);return[this.findPos(v),this.findPos(v+1)]}pathToPos(c){const v=this.indexTree.pathToIndex(c);return this.findPos(v)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return lp(this.indexTree.getRoot())}getDataSize(){const c={data:0,meta:0};return this.indexTree.traverse(v=>{if(v.getRemovedAt())return;const E=v.getDataSize();c.data+=E.data,c.meta+=E.meta}),{data:c.data,meta:c.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const c=this.indexTree.getRoot(),v=(E,_=void 0,F=void 0,U=0)=>{var Te,We,He,ot;let W,te,ce;const Re=E.isText?{node:E,offset:0}:_&&F?this.toTreePos(_,F):null;Re&&(W=this.indexTree.indexOf(Re),te=this.indexTree.treePosToPath(Re),ce=zi.fromTreePos(Re).toStruct());const Be={type:E.type,parent:_==null?void 0:_.id.toTestString(),size:E.visibleSize,id:E.id.toTestString(),removedAt:(Te=E.removedAt)==null?void 0:Te.toTestString(),insPrev:(We=E.insPrevID)==null?void 0:We.toTestString(),insNext:(He=E.insNextID)==null?void 0:He.toTestString(),value:E.isText?E.value:void 0,isRemoved:E.isRemoved,children:[],depth:U,attributes:E.attrs?wo((ot=E.attrs)==null?void 0:ot.toObject()):void 0,index:W,path:te,pos:ce};for(let wt=0;wt<E.allChildren.length;wt++){const fn=wt===0?E:E.allChildren[wt-1];Be.children.push(v(E.allChildren[wt],E,fn,U+1))}return Be};return v(c)}getRootTreeNode(){return zf(this.indexTree.getRoot())}toTestTreeNode(){return up(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const c=this.getRoot(),v=new Fr(c.deepcopy(),this.getCreatedAt());return v.setRemovedAt(this.getRemovedAt()),v.setMovedAt(this.getMovedAt()),v}toPath(c,v){const E=this.toTreePos(c,v);return E?this.indexTree.treePosToPath(E):[]}toIndex(c,v,E=!1){const _=this.toTreePos(c,v,E);return _?this.indexTree.indexOf(_,E):-1}indexToPath(c){return this.indexTree.indexToPath(c)}pathToIndex(c){return this.indexTree.pathToIndex(c)}indexRangeToPosRange(c){const v=this.findPos(c[0]);return c[0]===c[1]?[v,v]:[v,this.findPos(c[1])]}indexRangeToPosStructRange(c){const[v,E]=c,_=this.findPos(v);return v===E?[_.toStruct(),_.toStruct()]:[_.toStruct(),this.findPos(E).toStruct()]}posRangeToPathRange(c){const[[v,E]]=this.findNodesAndSplitText(c[0]),[[_,F]]=this.findNodesAndSplitText(c[1]);return[this.toPath(v,E),this.toPath(_,F)]}posRangeToIndexRange(c){const[[v,E]]=this.findNodesAndSplitText(c[0]),[[_,F]]=this.findNodesAndSplitText(c[1]);return[this.toIndex(v,E),this.toIndex(_,F)]}traverseInPosRange(c,v,E,_,F,U=!1){const W=this.toIndex(c,v,U),te=this.toIndex(E,_,U);this.indexTree.tokensBetween(W,te,F,U)}toTreePos(c,v,E=!1){if(!c||!v)return;if(!E&&c.isRemoved){let F;for(;c.isRemoved;)F=c,c=F.parent;const U=c.findOffset(F,E);return{node:c,offset:U}}if(c===v)return{node:c,offset:0};let _=c.findOffset(v,E);if(E||!v.isRemoved){if(v.isText)return{node:v,offset:v.paddedSize(E)};_++}return{node:c,offset:_}}makeDeletionChanges(c,v){const E=[],_=[];let F=null,U=null;for(let W=0;W<c.length;W++){const te=c[W],ce=c[W+1];F||(F=te),U=te;const Re=this.findRightToken(te);(!Re||!ce||Re[0]!==ce[0]||Re[1]!==ce[1])&&(_.push([F,U]),F=null,U=null)}for(const W of _){const[te,ce]=W,[Re,Be]=this.findLeftToken(te),[Te,We]=ce,He=Be===qn.Start?Re:Re.parent,ot=We===qn.Start?Te:Te.parent,wt=this.toIndex(He,Re),fn=this.toIndex(ot,Te);wt<fn&&(E.length>0&&wt===E[E.length-1].to?(E[E.length-1].to=fn,E[E.length-1].toPath=this.toPath(ot,Te)):E.push({type:"content",from:wt,to:fn,fromPath:this.toPath(He,Re),toPath:this.toPath(ot,Te),actor:v.getActorID()}))}return E.reverse()}findRightToken([c,v]){if(v===qn.Start){const W=c.allChildren;return W.length>0?[W[0],W[0].isText?qn.Text:qn.Start]:[c,qn.End]}const E=c.parent,_=E.allChildren,F=_.indexOf(c);if(E&&F===_.length-1)return[E,qn.End];const U=_[F+1];return[U,U.isText?qn.Text:qn.Start]}findLeftToken([c,v]){if(v===qn.End){const W=c.allChildren;if(W.length>0){const te=W[W.length-1];return[te,te.isText?qn.Text:qn.End]}return[c,qn.Start]}const E=c.parent,_=E.allChildren,F=_.indexOf(c);if(E&&F===0)return[E,qn.Start];const U=_[F-1];return[U,U.isText?qn.Text:qn.End]}}class al extends Ur{constructor(c,v,E,_,F,U){super(c,U);q(this,"fromPos");q(this,"toPos");q(this,"contents");q(this,"splitLevel");this.fromPos=v,this.toPos=E,this.contents=_,this.splitLevel=F}static create(c,v,E,_,F,U){return new al(c,v,E,_,F,U)}execute(c,v,E){var Re;const _=c.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Ae(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Fr))throw new Ae(ve.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const F=this.getExecutedAt(),U=_,[W,te,ce]=U.edit([this.fromPos,this.toPos],(Re=this.contents)==null?void 0:Re.map(Be=>Be.deepcopy()),this.splitLevel,F,(()=>{let Be=F.getDelimiter();return this.contents!==void 0&&(Be+=this.contents.length),()=>oi.of(F.getLamport(),++Be,F.getActorID())})(),E);c.acc(ce);for(const Be of te)c.registerGCPair(Be);return{opInfos:W.map(({from:Be,to:Te,value:We,splitLevel:He,fromPath:ot,toPath:wt})=>({type:"tree-edit",path:c.createPath(this.getParentCreatedAt()),from:Be,to:Te,value:We,splitLevel:He,fromPath:ot,toPath:wt}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const c=this.getParentCreatedAt().toTestString(),v=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,E=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,_=this.contents||[];return`${c}.EDIT(${v},${E},${_.map(F=>lp(F)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class ll{constructor(i){q(this,"vector");this.vector=i||new Map}set(i,c){this.vector.set(i,c)}unset(i){this.vector.delete(i)}get(i){return this.vector.get(i)}has(i){return this.vector.has(i)}maxLamport(){let i=BigInt(0);for(const[,c]of this)c>i&&(i=c);return i}max(i){const c=new Map;for(const[v,E]of i){const _=this.vector.get(v),F=_&&_>E?_:E;c.set(v,F)}for(const[v,E]of this){const _=i.get(v),F=_&&_>E?_:E;c.set(v,F)}return new ll(c)}afterOrEqual(i){const c=this.vector.get(i.getActorID());return c===void 0?!1:c>=i.getLamport()}deepcopy(){const i=new Map;for(const[c,v]of this.vector)i.set(c,v);return new ll(i)}filter(i){const c=new Map;for(const[v]of i){const E=this.vector.get(v);E!==void 0&&c.set(v,E)}return new ll(c)}size(){return this.vector.size}*[Symbol.iterator](){for(const[i,c]of this.vector)yield[i,c]}}const cp=new ll(new Map);class Vi{constructor(i,c,v,E,_){q(this,"clientSeq");q(this,"serverSeq");q(this,"actor");q(this,"lamport");q(this,"versionVector");this.clientSeq=i,this.serverSeq=_,this.lamport=c,this.versionVector=E,this.actor=v}hasClocks(){return this.versionVector.size()>0&&this.lamport!=np}static of(i,c,v,E,_){return new Vi(i,c,v,E,_)}next(i=!1){if(i)return new Vi(this.clientSeq+1,this.lamport,this.actor,cp,np);const c=this.versionVector.deepcopy();return c.set(this.actor,this.lamport+1n),new Vi(this.clientSeq+1,this.lamport+1n,this.actor,c)}syncClocks(i){if(!i.hasClocks())return this;const c=i.lamport>this.lamport?i.lamport+1n:this.lamport+1n,v=this.versionVector.max(i.versionVector),E=new Vi(this.clientSeq,c,this.actor,v);return E.versionVector.set(this.actor,c),E}setClocks(i,c){const v=i>this.lamport?i+1n:this.lamport+1n,E=this.versionVector.max(c);return E.set(this.actor,v),Vi.of(this.clientSeq,v,this.actor,E)}createTimeTicket(i){return oi.of(this.lamport,i,this.actor)}setActor(i){return new Vi(this.clientSeq,this.lamport,i,this.versionVector,this.serverSeq)}setLamport(i){return new Vi(this.clientSeq,i,this.actor,this.versionVector,this.serverSeq)}setVersionVector(i){return new Vi(this.clientSeq,this.lamport,this.actor,i,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const us=new Vi(0,0n,tp,cp);class ia{constructor({id:i,operations:c,presenceChange:v,message:E}){q(this,"id");q(this,"operations");q(this,"presenceChange");q(this,"message");this.id=i,this.operations=c||[],this.presenceChange=v,this.message=E}static create({id:i,operations:c,presenceChange:v,message:E}){return new ia({id:i,operations:c,presenceChange:v,message:E})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(i){for(const c of this.operations)c.setActor(i);this.id=this.id.setActor(i)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(i,c,v){const E=[],_=[],F=[];for(const U of this.operations){const W=U.execute(i,v,this.id.getVersionVector());if(!W)continue;const{opInfos:te,reverseOp:ce}=W;E.push(...te),_.push(U),ce&&F.unshift(ce)}return this.presenceChange&&(this.presenceChange.type===to.Put?c.set(this.id.getActorID(),li(this.presenceChange.presence)):c.delete(this.id.getActorID())),{operations:_,opInfos:E,reverseOps:F}}toTestString(){return`${this.operations.map(i=>i.toTestString()).join(",")}`}toStruct(){return{changeID:xn.bytesToHex(xn.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(i=>xn.bytesToHex(xn.operationToBinary(i))),presenceChange:this.getPresenceChange()}}static fromStruct(i){const{changeID:c,operations:v,presenceChange:E,message:_}=i;return ia.create({id:xn.bytesToChangeID(xn.hexToBytes(c)),operations:v==null?void 0:v.map(F=>xn.bytesToOperation(xn.hexToBytes(F))),presenceChange:E,message:_})}}class fp{constructor(i,c,v,E,_,F){q(this,"documentKey");q(this,"checkpoint");q(this,"isRemoved");q(this,"changes");q(this,"snapshot");q(this,"versionVector");this.documentKey=i,this.checkpoint=c,this.isRemoved=v,this.changes=E,this.snapshot=F,this.versionVector=_}static create(i,c,v,E,_,F){return new fp(i,c,v,E,_,F)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class ul{constructor(i,c){q(this,"serverSeq");q(this,"clientSeq");this.serverSeq=i,this.clientSeq=c}static of(i,c){return new ul(i,c)}increaseClientSeq(i){return i===0?this:new ul(this.serverSeq,this.clientSeq+i)}forward(i){if(this.equals(i))return this;const c=this.serverSeq>i.serverSeq?this.serverSeq:i.serverSeq,v=Math.max(this.clientSeq,i.clientSeq);return ul.of(c,v)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(i){return this.clientSeq===i.clientSeq&&this.serverSeq==i.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const cs=new ul(0n,0),Wm=h=>h<0?Math.ceil(h):Math.floor(h);var Ei=(h=>(h[h.Int=0]="Int",h[h.Long=1]="Long",h))(Ei||{});class mr extends kf{constructor(c,v,E){super(E);q(this,"valueType");q(this,"value");switch(this.valueType=c,c){case 0:typeof v=="number"?v>Math.pow(2,31)-1||v<-Math.pow(2,31)?this.value=$t.fromNumber(v).toInt():this.value=Wm(v):this.value=v.toInt();break;case 1:typeof v=="number"?this.value=$t.fromNumber(v):this.value=v;break;default:throw new Ae(ve.ErrUnimplemented,`unimplemented type: ${c}`)}}static create(c,v,E){return new mr(c,v,E)}static valueFromBytes(c,v){switch(c){case 0:return v[0]|v[1]<<8|v[2]<<16|v[3]<<24;case 1:return $t.fromBytesLE(Array.from(v));default:throw new Ae(ve.ErrUnimplemented,`unimplemented type: ${c}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const c=mr.create(this.valueType,this.value,this.getCreatedAt());return c.setRemovedAt(this.getRemovedAt()),c.setMovedAt(this.getMovedAt()),c}getType(){return this.valueType}static getCounterType(c){switch(typeof c){case"object":return c instanceof $t?1:void 0;case"number":return c>Math.pow(2,31)-1||c<-Math.pow(2,31)?1:0;default:return}}static isSupport(c){return!!mr.getCounterType(c)}static isInteger(c){return c%1===0}isNumericType(){const c=this.valueType;return c===0||c===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const c=this.value;return new Uint8Array([c&255,c>>8&255,c>>16&255,c>>24&255])}case 1:{const v=this.value.toBytesLE();return Uint8Array.from(v)}default:throw new Ae(ve.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(c){function v(E){if(!E.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof E.getValue()}`)}return v(this),v(c),this.valueType===1?this.value=this.value.add(c.getValue()):c.getType()===wn.Long?this.value=this.value+c.getValue().toInt():this.value=$t.fromNumber(this.value+Wm(c.getValue())).toInt(),this}}class Rn extends Ur{constructor(c,v,E){super(c,E);q(this,"value");this.value=v}static create(c,v,E){return new Rn(c,v,E)}execute(c){const v=c.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ae(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof mr))throw new Ae(ve.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const E=v,_=this.value.deepcopy();return E.increase(_),{opInfos:[{type:"increase",path:c.createPath(this.getParentCreatedAt()),value:_.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const c=this.value.deepcopy(),E=c.getType()===wn.Long?c.getValue().multiply(-1):c.getValue()*-1;return Rn.create(this.getParentCreatedAt(),Vn.of(E,c.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class fs extends Ur{constructor(c,v,E,_,F,U){super(c,U);q(this,"fromPos");q(this,"toPos");q(this,"attributes");q(this,"attributesToRemove");this.fromPos=v,this.toPos=E,this.attributes=_,this.attributesToRemove=F}static create(c,v,E,_,F){return new fs(c,v,E,_,[],F)}static createTreeRemoveStyleOperation(c,v,E,_,F){return new fs(c,v,E,new Map,_,F)}execute(c,v,E){const _=c.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Ae(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Fr))throw new Ae(ve.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const F=_;let U,W,te={data:0,meta:0};if(this.attributes.size){const ce={};[...this.attributes].forEach(([Re,Be])=>ce[Re]=Be),[W,U,te]=F.style([this.fromPos,this.toPos],ce,this.getExecutedAt(),E)}else{const ce=this.attributesToRemove;[W,U,te]=F.removeStyle([this.fromPos,this.toPos],ce,this.getExecutedAt(),E)}c.acc(te);for(const ce of W)c.registerGCPair(ce);return{opInfos:U.map(({from:ce,to:Re,value:Be,fromPath:Te,toPath:We})=>({type:"tree-style",from:ce,to:Re,value:this.attributes.size?{attributes:Be}:{attributesToRemove:Be},fromPath:Te,toPath:We,path:c.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const c=this.getParentCreatedAt().toTestString(),v=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,E=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${c}.STYLE(${v},${E},${Object.entries(this.attributes||{}).map(([_,F])=>`${_}:"${F}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class ds extends Ur{constructor(c,v,E,_){super(c,_);q(this,"createdAt");q(this,"value");this.createdAt=v,this.value=E}static create(c,v,E,_){return new ds(c,v,E,_)}execute(c){const v=c.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ae(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof ar))throw new Ae(ve.ErrInvalidArgument,"fail to execute, only array can execute set");const E=v.getByID(this.createdAt).deepcopy(),_=this.toReverseOperation(this.value,E),F=this.value.deepcopy();return v.insertAfter(this.createdAt,F,this.getExecutedAt()),v.delete(this.createdAt,this.getExecutedAt()),c.registerElement(F),{opInfos:[{type:"array-set",path:c.createPath(this.getParentCreatedAt())}],reverseOp:_}}toReverseOperation(c,v){return ds.create(this.getParentCreatedAt(),c.getCreatedAt(),v)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(c){this.createdAt=c}}function Tx(h){const i={};for(const[c,v]of Object.entries(h))i[c]=JSON.stringify(v);return J(ns,{data:i})}function Vf(h){if(h.type===to.Put)return J(Lf,{type:rl.PUT,presence:Tx(h.presence)});if(h.type===to.Clear)return J(Lf,{type:rl.CLEAR});throw new Ae(ve.ErrUnimplemented,"unimplemented type")}function oa(h){return J(ep,{serverSeq:h.getServerSeq(),clientSeq:h.getClientSeq()})}function dp(h){return J(Zh,{clientSeq:h.getClientSeq(),lamport:h.getLamport(),actorId:vs(h.getActorID()),versionVector:cl(h.getVersionVector())})}function vt(h){if(h)return J(Om,{lamport:h.getLamport(),delimiter:h.getDelimiter(),actorId:vs(h.getActorID())})}function cl(h){if(!h)return;const i=J(Zs);for(const[c,v]of h){const E=t0(vs(c));i.vector[E]=BigInt(v.toString())}return i}function ao(h){switch(h){case wn.Null:return zt.NULL;case wn.Boolean:return zt.BOOLEAN;case wn.Integer:return zt.INTEGER;case wn.Long:return zt.LONG;case wn.Double:return zt.DOUBLE;case wn.String:return zt.STRING;case wn.Bytes:return zt.BYTES;case wn.Date:return zt.DATE;default:throw new Ae(ve.ErrInvalidType,`unsupported type: ${h}`)}}function qm(h){switch(h){case Ei.Int:return zt.INTEGER_CNT;case Ei.Long:return zt.LONG_CNT;default:throw new Ae(ve.ErrInvalidType,`unsupported type: ${h}`)}}function oc(h){if(h instanceof Sr)return J(ts,{type:zt.JSON_OBJECT,createdAt:vt(h.getCreatedAt()),value:qr(h)});if(h instanceof ar)return J(ts,{type:zt.JSON_ARRAY,createdAt:vt(h.getCreatedAt()),value:e0(h)});if(h instanceof Hr)return J(ts,{type:zt.TEXT,createdAt:vt(h.getCreatedAt())});if(h instanceof Vn)return J(ts,{type:ao(h.getType()),createdAt:vt(h.getCreatedAt()),value:h.toBytes()});if(h instanceof mr)return J(ts,{type:qm(h.getType()),createdAt:vt(h.getCreatedAt()),value:h.toBytes()});if(h instanceof Fr)return J(ts,{type:zt.TREE,createdAt:vt(h.getCreatedAt()),value:yp(h)});throw new Ae(ve.ErrUnimplemented,"unimplemented element")}function Nx(h){return J(Nm,{createdAt:vt(h.getCreatedAt()),offset:h.getOffset()})}function sc(h){return J(Im,{createdAt:vt(h.getID().getCreatedAt()),offset:h.getID().getOffset(),relativeOffset:h.getRelativeOffset()})}function ac(h){return J(Pf,{parentId:sa(h.getParentID()),leftSiblingId:sa(h.getLeftSiblingID())})}function sa(h){return J(_m,{createdAt:vt(h.getCreatedAt()),offset:h.getOffset()})}function hp(h){const i=J(Zu);if(h instanceof ta){const c=h,v=J(gx);v.parentCreatedAt=vt(c.getParentCreatedAt()),v.key=c.getKey(),v.value=oc(c.getValue()),v.executedAt=vt(c.getExecutedAt()),i.body.case="set",i.body.value=v}else if(h instanceof ki){const c=h,v=J(Am);v.parentCreatedAt=vt(c.getParentCreatedAt()),v.prevCreatedAt=vt(c.getPrevCreatedAt()),v.value=oc(c.getValue()),v.executedAt=vt(c.getExecutedAt()),i.body.case="add",i.body.value=v}else if(h instanceof Bi){const c=h,v=J(wm);v.parentCreatedAt=vt(c.getParentCreatedAt()),v.prevCreatedAt=vt(c.getPrevCreatedAt()),v.createdAt=vt(c.getCreatedAt()),v.executedAt=vt(c.getExecutedAt()),i.body.case="move",i.body.value=v}else if(h instanceof Si){const c=h,v=J(Js);v.parentCreatedAt=vt(c.getParentCreatedAt()),v.createdAt=vt(c.getCreatedAt()),v.executedAt=vt(c.getExecutedAt()),i.body.case="remove",i.body.value=v}else if(h instanceof Co){const c=h,v=J(Ut);v.parentCreatedAt=vt(c.getParentCreatedAt()),v.from=sc(c.getFromPos()),v.to=sc(c.getToPos()),v.content=c.getContent();const E=v.attributes;for(const[_,F]of c.getAttributes())E[_]=F;v.executedAt=vt(c.getExecutedAt()),i.body.case="edit",i.body.value=v}else if(h instanceof rc){const c=h,v=J(An);v.parentCreatedAt=vt(c.getParentCreatedAt()),v.from=sc(c.getFromPos()),v.to=sc(c.getToPos());const E=v.attributes;for(const[_,F]of c.getAttributes())E[_]=F;v.executedAt=vt(c.getExecutedAt()),i.body.case="style",i.body.value=v}else if(h instanceof Rn){const c=h,v=J(rr);v.parentCreatedAt=vt(c.getParentCreatedAt()),v.value=oc(c.getValue()),v.executedAt=vt(c.getExecutedAt()),i.body.case="increase",i.body.value=v}else if(h instanceof al){const c=h,v=J(Jh);v.parentCreatedAt=vt(c.getParentCreatedAt()),v.from=ac(c.getFromPos()),v.to=ac(c.getToPos()),v.contents=Ix(c.getContents()),v.splitLevel=c.getSplitLevel(),v.executedAt=vt(c.getExecutedAt()),i.body.case="treeEdit",i.body.value=v}else if(h instanceof fs){const c=h,v=J(Ju);v.parentCreatedAt=vt(c.getParentCreatedAt()),v.from=ac(c.getFromPos()),v.to=ac(c.getToPos());const E=c.getAttributesToRemove();if(E.length>0)v.attributesToRemove=E;else{const _=v.attributes;for(const[F,U]of c.getAttributes())_[F]=U}v.executedAt=vt(c.getExecutedAt()),i.body.case="treeStyle",i.body.value=v}else if(h instanceof ds){const c=h,v=J(nl);v.parentCreatedAt=vt(c.getParentCreatedAt()),v.createdAt=vt(c.getCreatedAt()),v.value=oc(c.getValue()),v.executedAt=vt(c.getExecutedAt()),i.body.case="arraySet",i.body.value=v}else throw new Ae(ve.ErrUnimplemented,"unimplemented operation");return i}function hs(h){const i=[];for(const c of h)i.push(hp(c));return i}function Qn(h){const i=J(px,{id:dp(h.getID()),message:h.getMessage()});return h.hasOperations()&&(i.operations=hs(h.getOperations())),h.hasPresenceChange()&&(i.presenceChange=Vf(h.getPresenceChange())),i}function Km(h){const i=[];for(const c of h)i.push(Qn(c));return i}function _x(h){const i=[];for(const c of h)i.push(J(vx,{key:c.getStrKey(),element:Wr(c.getValue())}));return i}function vr(h){const i=[];for(const c of h)i.push(J(D1,{element:Wr(c.getValue())}));return i}function F1(h){const i=[];for(const c of h){const v=J(Tm);v.id=Nx(c.getID()),v.value=c.getValue().getContent(),v.removedAt=vt(c.getRemovedAt());const E=v.attributes,_=c.getValue().getAttrs();for(const F of _){const U=J(Qh);U.value=F.getValue(),U.updatedAt=vt(F.getUpdatedAt()),E[F.getKey()]=U}i.push(v)}return i}function Ix(h){const i=[];if(!h||!h.length)return i;for(const c of h)i.push(J(ir,{content:Mn(c)}));return i}function Ox(h){const i={};for(const c of h)i[c.getKey()]=J(Qh,{value:c.getValue(),updatedAt:vt(c.getUpdatedAt()),isRemoved:c.isRemoved()});return i}function Mn(h){if(!h)return[];const i=[];return jf(h,(c,v)=>{const E=J(ii,{id:sa(c.id),type:c.type,removedAt:vt(c.removedAt),depth:v});c.isText&&(E.value=c.value),c.insPrevID&&(E.insPrevId=sa(c.insPrevID)),c.insNextID&&(E.insNextId=sa(c.insNextID)),c.attrs&&(E.attributes=Ox(c.attrs)),i.push(E)}),i}function ui(h){return J(Lr,{body:{case:"jsonObject",value:J(Qu,{nodes:_x(h.getRHT()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Ro(h){return J(Lr,{body:{case:"jsonArray",value:J(O1,{nodes:vr(h.getElements()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Dx(h){return J(Lr,{body:{case:"primitive",value:J(Jn,{type:ao(h.getType()),value:h.toBytes(),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Mx(h){return J(Lr,{body:{case:"text",value:J(Cm,{nodes:F1(h.getRGATreeSplit()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function k1(h){return J(Lr,{body:{case:"counter",value:J(Rm,{type:qm(h.getType()),value:h.toBytes(),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function pp(h){return J(Lr,{body:{case:"tree",value:J(mx,{nodes:Mn(h.getRoot()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Wr(h){if(h instanceof Sr)return ui(h);if(h instanceof ar)return Ro(h);if(h instanceof Vn)return Dx(h);if(h instanceof Hr)return Mx(h);if(h instanceof mr)return k1(h);if(h instanceof Fr)return pp(h);throw new Ae(ve.ErrUnimplemented,"unimplemented element")}function lo(h){return J(Mf,{documentKey:h.getDocumentKey(),checkpoint:oa(h.getCheckpoint()),isRemoved:h.getIsRemoved(),changes:Km(h.getChanges()),snapshot:h.getSnapshot(),versionVector:cl(h.getVersionVector())})}function Px(h){return{id:h.id,label:h.label,description:h.description,snapshot:h.snapshot,createdAt:h.createdAt?Uy(h.createdAt):new Date}}function Cr(h){if(!(h instanceof Kt))return{};const i=h.findDetails(Mm);for(const c of i)return c.metadata;return{}}function fl(h){return Cr(h).code??""}function To(h,i){return h instanceof Kt&&fl(h)===i}function aa(h){return Vi.of(h.clientSeq,BigInt(h.lamport),cr(h.actorId),No(h.versionVector),BigInt(h.serverSeq))}function No(h){if(!h)return;const i=new ll;return Object.entries(h.vector).forEach(([c,v])=>{const E=uo(dc(c));i.set(E,BigInt(v.toString()))}),i}function yt(h){if(h)return oi.of(BigInt(h.lamport),h.delimiter,cr(h.actorId))}function Uf(h){const i={};return Object.entries(h.data).forEach(([c,v])=>{i[c]=JSON.parse(v)}),i}function _o(h){const i=h.type;if(i===rl.PUT){const c=Uf(h.presence);return{type:to.Put,presence:c}}if(i===rl.CLEAR)return{type:to.Clear};throw new Ae(ve.ErrInvalidType,`unsupported type: ${i}`)}function Lx(h){const i=new Map;return Object.entries(h).forEach(([c,v])=>{i.set(c,Uf(v))}),i}function dl(h){switch(h){case zt.NULL:return wn.Null;case zt.BOOLEAN:return wn.Boolean;case zt.INTEGER:return wn.Integer;case zt.LONG:return wn.Long;case zt.DOUBLE:return wn.Double;case zt.STRING:return wn.String;case zt.BYTES:return wn.Bytes;case zt.DATE:return wn.Date}throw new Ae(ve.ErrUnimplemented,`unimplemented value type: ${h}`)}function la(h){switch(h){case zt.INTEGER_CNT:return Ei.Int;case zt.LONG_CNT:return Ei.Long}throw new Ae(ve.ErrUnimplemented,`unimplemented value type: ${h}`)}function ua(h){switch(h.type){case zt.JSON_OBJECT:return h.value?fc(h.value):Sr.create(yt(h.createdAt));case zt.JSON_ARRAY:return h.value?Qm(h.value):ar.create(yt(h.createdAt));case zt.TEXT:return Hr.create(ol.create(),yt(h.createdAt));case zt.TREE:return vp(h.value);case zt.NULL:case zt.BOOLEAN:case zt.INTEGER:case zt.LONG:case zt.DOUBLE:case zt.STRING:case zt.BYTES:case zt.DATE:return Vn.of(Vn.valueFromBytes(dl(h.type),h.value),yt(h.createdAt));case zt.INTEGER_CNT:case zt.LONG_CNT:return mr.create(la(h.type),mr.valueFromBytes(la(h.type),h.value),yt(h.createdAt))}}function ps(h){return lr.of(Cn.of(yt(h.createdAt),h.offset),h.relativeOffset)}function Xm(h){return Cn.of(yt(h.createdAt),h.offset)}function Fx(h){const i=ra.create(h.value);Object.entries(h.attributes).forEach(([v,E])=>{i.setAttr(v,E.value,yt(E.updatedAt))});const c=Ao.create(Xm(h.id),i);return c.setRemovedAt(yt(h.removedAt)),c}function Io(h){return zi.of(lc(h.parentId),lc(h.leftSiblingId))}function lc(h){return ur.of(yt(h.createdAt),h.offset)}function gp(h){if(!h.length)return;const i=[];return h.forEach(c=>{const v=mp(c.content);i.push(v)}),i}function mp(h){if(h.length===0)return;const i=[];for(const E of h)i.push(j1(E));const c=i[i.length-1],v=new Map;v.set(h[i.length-1].depth,i[i.length-1]);for(let E=i.length-2;E>=0;E--)v.get(h[E].depth-1).prepend(i[E]),v.set(h[E].depth,i[E]);return c.updateDescendantsSize(),c.updateDescendantsSize(!0),Fr.create(c,il).getRoot()}function B1(h){const i=$r.create();for(const[c,v]of Object.entries(h))i.setInternal(c,v.value,yt(v.updatedAt),v.isRemoved);return i}function j1(h){const i=lc(h.id),c=Yr.create(i,h.type),v=Object.entries(h.attributes);return c.isText?c.value=h.value:v.length&&(c.attrs=B1(h.attributes)),h.insPrevId&&(c.insPrevID=lc(h.insPrevId)),h.insNextId&&(c.insNextID=lc(h.insNextId)),c.removedAt=yt(h.removedAt),c}function hn(h){if(h.body.case==="set"){const i=h.body.value;return ta.create(i.key,ua(i.value),yt(i.parentCreatedAt),yt(i.executedAt))}else if(h.body.case==="add"){const i=h.body.value;return ki.create(yt(i.parentCreatedAt),yt(i.prevCreatedAt),ua(i.value),yt(i.executedAt))}else if(h.body.case==="move"){const i=h.body.value;return Bi.create(yt(i.parentCreatedAt),yt(i.prevCreatedAt),yt(i.createdAt),yt(i.executedAt))}else if(h.body.case==="remove"){const i=h.body.value;return Si.create(yt(i.parentCreatedAt),yt(i.createdAt),yt(i.executedAt))}else if(h.body.case==="edit"){const i=h.body.value,c=new Map;return Object.entries(i.attributes).forEach(([v,E])=>{c.set(v,E)}),Co.create(yt(i.parentCreatedAt),ps(i.from),ps(i.to),i.content,c,yt(i.executedAt))}else if(h.body.case==="style"){const i=h.body.value,c=new Map;return Object.entries(i.attributes).forEach(([v,E])=>{c.set(v,E)}),rc.create(yt(i.parentCreatedAt),ps(i.from),ps(i.to),c,yt(i.executedAt))}else if(h.body.case==="increase"){const i=h.body.value;return Rn.create(yt(i.parentCreatedAt),ua(i.value),yt(i.executedAt))}else if(h.body.case==="treeEdit"){const i=h.body.value;return al.create(yt(i.parentCreatedAt),Io(i.from),Io(i.to),gp(i.contents),i.splitLevel,yt(i.executedAt))}else if(h.body.case==="treeStyle"){const i=h.body.value,c=new Map,v=i.attributesToRemove;return(v==null?void 0:v.length)>0?fs.createTreeRemoveStyleOperation(yt(i.parentCreatedAt),Io(i.from),Io(i.to),v,yt(i.executedAt)):(Object.entries(i.attributes).forEach(([E,_])=>{c.set(E,_)}),fs.create(yt(i.parentCreatedAt),Io(i.from),Io(i.to),c,yt(i.executedAt)))}else if(h.body.case==="arraySet"){const i=h.body.value;return ds.create(yt(i.parentCreatedAt),yt(i.createdAt),ua(i.value),yt(i.executedAt))}else throw new Ae(ve.ErrUnimplemented,"unimplemented operation")}function Pn(h){const i=[];for(const c of h){const v=hn(c);v&&i.push(v)}return i}function Ht(h){const i=[];for(const c of h)i.push(ia.create({id:aa(c.id),operations:Pn(c.operations),presenceChange:c.presenceChange?_o(c.presenceChange):void 0,message:c.message}));return i}function en(h){return ul.of(BigInt(h.serverSeq),h.clientSeq)}function yn(h){return fp.create(h.documentKey,en(h.checkpoint),h.isRemoved,Ht(h.changes),No(h.versionVector),h.snapshot)}function ci(h){const i=new os;for(const v of h.nodes){const E=Oo(v.element);i.set(v.key,E,E.getPositionedAt())}const c=new Sr(yt(h.createdAt),i);return c.setMovedAt(yt(h.movedAt)),c.setRemovedAt(yt(h.removedAt)),c}function gs(h){const i=new as;for(const v of h.nodes)i.insert(Oo(v.element));const c=new ar(yt(h.createdAt),i);return c.setMovedAt(yt(h.movedAt)),c.setRemovedAt(yt(h.removedAt)),c}function uc(h){const i=Vn.of(Vn.valueFromBytes(dl(h.type),h.value),yt(h.createdAt));return i.setMovedAt(yt(h.movedAt)),i.setRemovedAt(yt(h.removedAt)),i}function Zm(h){const i=new ol;let c=i.getHead();for(const E of h.nodes){const _=i.insertAfter(c,Fx(E));E.insPrevId&&_.setInsPrev(i.findNode(Xm(E.insPrevId))),c=_}const v=new Hr(i,yt(h.createdAt));return v.setMovedAt(yt(h.movedAt)),v.setRemovedAt(yt(h.removedAt)),v}function ms(h){const i=mr.create(la(h.type),mr.valueFromBytes(la(h.type),h.value),yt(h.createdAt));return i.setMovedAt(yt(h.movedAt)),i.setRemovedAt(yt(h.removedAt)),i}function Un(h){const i=mp(h.nodes);return Fr.create(i,yt(h.createdAt))}function Oo(h){if(h.body.case==="jsonObject")return ci(h.body.value);if(h.body.case==="jsonArray")return gs(h.body.value);if(h.body.case==="primitive")return uc(h.body.value);if(h.body.case==="text")return Zm(h.body.value);if(h.body.case==="counter")return ms(h.body.value);if(h.body.case==="tree")return Un(h.body.value);throw new Ae(ve.ErrUnimplemented,"unimplemented element")}function hl(h){return h.map(i=>({path:i.path,type:i.type}))}function Jm(h){if(!h)return{root:Sr.create(il),presences:new Map};const i=Mi(Df,h);return{root:Oo(i.root),presences:Lx(i.presences)}}function Ui(h){const i=cl(h);return uo(Pi(Zs,i))}function cc(h){const i=Do(h),c=Mi(Zs,i);return No(c)}function fc(h){if(!h)throw new Ae(ve.ErrInvalidArgument,"bytes is empty");const i=Mi(Lr,h);return ci(i.body.value)}function qr(h){return Pi(Lr,Wr(h))}function Qm(h){if(!h)throw new Ae(ve.ErrInvalidArgument,"bytes is empty");const i=Mi(Lr,h);return gs(i.body.value)}function e0(h){return Pi(Lr,Ro(h))}function vp(h){if(!h)throw new Ae(ve.ErrInvalidArgument,"bytes is empty");const i=Mi(Lr,h);return Un(i.body.value)}function yp(h){return Pi(Lr,pp(h))}function uo(h){return h?Array.from(h).map(i=>i.toString(16).padStart(2,"0")).join(""):""}function cr(h){return uo(h)}function Do(h){return new Uint8Array(h.match(/.{1,2}/g).map(i=>parseInt(i,16)))}function dc(h){if(typeof window<"u"&&typeof window.atob=="function"){const i=window.atob(h),c=i.length,v=new Uint8Array(c);for(let E=0;E<c;E++)v[E]=i.charCodeAt(E);return v}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const i=globalThis.Buffer;return new Uint8Array(i.from(h,"base64"))}else throw new Error("No base64 decoder available")}function vs(h){return Do(h)}function t0(h){if(typeof window<"u"&&typeof window.btoa=="function"){let i="";for(let c=0;c<h.byteLength;c++)i+=String.fromCharCode(h[c]);return window.btoa(i)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(h).toString("base64");throw new Error("No base64 encoder available")}}function n0(h){const i=Mi(Zh,h);return aa(i)}function kx(h){const i=Mi(Zu,h);return hn(i)}const xn={fromPresence:Uf,toChangePack:lo,fromChangePack:yn,fromChanges:Ht,toTreeNodes:Mn,fromTreeNodes:mp,objectToBytes:qr,bytesToObject:fc,bytesToSnapshot:Jm,bytesToHex:uo,hexToBytes:Do,toHexString:cr,toUint8Array:vs,toOperation:hp,toChangeID:dp,bytesToChangeID:n0,bytesToOperation:kx,versionVectorToHex:Ui,hexToVersionVector:cc,fromSchemaRules:hl,toRevisionSummary:Px,changeIDToBinary:h=>Pi(Zh,dp(h)),operationToBinary:h=>Pi(Zu,hp(h))};var kr=(h=>(h[h.Trivial=0]="Trivial",h[h.Debug=1]="Debug",h[h.Info=2]="Info",h[h.Warn=3]="Warn",h[h.Error=4]="Error",h[h.Fatal=5]="Fatal",h))(kr||{});let fr=3;function Bx(h){fr=h}const Je={trivial:(...h)=>{fr>0||typeof console<"u"&&console.log("YORKIE T:",...h)},debug:(...h)=>{fr>1||typeof console<"u"&&console.log("YORKIE D:",...h)},info:(...h)=>{fr>2||typeof console<"u"&&console.log("YORKIE I:",...h)},warn:(...h)=>{fr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...h):console.log("YORKIE W:",...h))},error:(...h)=>{fr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...h):console.log("YORKIE E:",...h))},fatal:(...h)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...h):console.log("YORKIE F:",...h))},isEnabled:h=>fr<=h};function r0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,h=>{const i=Math.random()*16|0;return(h==="x"?i:i&3|8).toString(16)})}const xp=()=>{};class z1{constructor(i){q(this,"finalized",!1);q(this,"observers",[]);q(this,"finalError");try{i(this)}catch(c){this.error(c)}}next(i){this.forEachObserver(c=>{c.next(i)})}error(i){this.forEachObserver(c=>{c.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,c,v){let E;if(!i)throw new Ae(ve.ErrInvalidArgument,"missing observer");if(this.finalized)throw new Ae(ve.ErrRefused,"observable is finalized due to previous error");typeof i=="object"?E=i:E={next:i,error:c,complete:v},E.next===void 0&&(E.next=xp),E.error===void 0&&(E.error=xp),E.complete===void 0&&(E.complete=xp);const _=r0(),F=this.unsubscribeOne.bind(this,_);if(this.observers.push({subscriptionID:_,observer:E}),this.finalized)try{this.finalError?E.error(this.finalError):E.complete()}catch(U){Je.warn(U)}return F}unsubscribeOne(i){var c;this.observers=(c=this.observers)==null?void 0:c.filter(v=>v.subscriptionID!==i)}forEachObserver(i){if(!this.finalized)for(let c=0;c<this.observers.length;c++)this.sendOne(c,i)}sendOne(i,c){if(this.observers!==void 0&&this.observers[i]!==void 0)try{c(this.observers[i].observer)}catch(v){Je.error(v)}}close(i){this.finalized||(this.finalized=!0,i!==void 0&&(this.finalError=i),this.observers=void 0)}}function ys(h){const i=new z1(h);return{subscribe:i.subscribe.bind(i),getProxy:()=>i}}class ca{constructor(i,c,v,E){q(this,"prevID");q(this,"nextID");q(this,"delimiter");q(this,"message");q(this,"root");q(this,"operations");q(this,"presenceChange");q(this,"previousPresence");q(this,"reversePresenceKeys");this.prevID=i,this.nextID=i.next(),this.delimiter=Pm,this.root=c,this.operations=[],this.previousPresence=li(v),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=E}static create(i,c,v,E){return new ca(i,c,v,E)}push(i){this.operations.push(i)}registerElement(i,c){this.root.registerElement(i,c)}registerRemovedElement(i){this.root.registerRemovedElement(i)}registerGCPair(i){this.root.registerGCPair(i)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const i=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return ia.create({id:i,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(i){this.presenceChange=i}setReversePresence(i,c){for(const v of Object.keys(i))c!=null&&c.addToHistory?this.reversePresenceKeys.add(v):this.reversePresenceKeys.delete(v)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const i={};for(const c of this.reversePresenceKeys)i[c]=this.previousPresence[c];return i}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(i){this.root.acc(i)}}function bp(h,i){const c=new Mo(h);return new Proxy(i,c.getHandlers())}class Mo{constructor(i){q(this,"context");q(this,"handlers");this.context=i,this.handlers={set:(c,v,E)=>(Je.isEnabled(kr.Trivial)&&Je.trivial(`obj[${v}]=${JSON.stringify(E)}`),Mo.setInternal(i,c,v,E),!0),get:(c,v)=>(Je.isEnabled(kr.Trivial)&&Je.trivial(`obj[${v}]`),v==="getID"?()=>c.getCreatedAt():v==="toJSON"||v==="toString"?()=>c.toJSON():v==="toJS"?()=>c.toJS():v==="toJSForTest"?()=>c.toJSForTest():da(i,c.get(v))),ownKeys:c=>c.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(c,v)=>(Je.isEnabled(kr.Trivial)&&Je.trivial(`obj[${v}]`),Mo.deleteInternal(i,c,v),!0)}}static setInternal(i,c,v,E){if(v.includes("."))throw new Ae(ve.ErrInvalidObjectKey,"key must not contain the '.'.");const _=i.issueTimeTicket(),F=ha(i,E,_),U=c.set(v,F,_);i.registerElement(F,c),U&&i.registerRemovedElement(U),i.push(ta.create(v,F.deepcopy(),c.getCreatedAt(),_))}static buildObjectMembers(i,c){const v={};for(const[E,_]of Object.entries(c)){if(E.includes("."))throw new Ae(ve.ErrInvalidObjectKey,"key must not contain the '.'.");const F=i.issueTimeTicket(),U=ha(i,_,F);v[E]=U}return v}static deleteInternal(i,c,v){const E=i.issueTimeTicket(),_=c.deleteByKey(v,E);_&&(i.push(Si.create(c.getCreatedAt(),_.getCreatedAt(),E)),i.registerRemovedElement(_))}getHandlers(){return this.handlers}}function jx(h,i){const c=new on(h,i);return new Proxy(i,c.getHandlers())}function i0(h){return typeof h=="string"||h instanceof String?!isNaN(h):!1}function zx(h){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(h)}class on{constructor(i,c){q(this,"context");q(this,"handlers");q(this,"array");this.context=i,this.array=c,this.handlers={get:(v,E,_)=>E==="getID"?()=>v.getCreatedAt():E==="getElementByID"?F=>{const U=v.getByID(F);if(!(!U||U.isRemoved()))return Gi(i,U)}:E==="getElementByIndex"?F=>{const U=v.get(F);return Gi(i,U)}:E==="getLast"?()=>Gi(i,v.getLast()):E==="delete"?F=>{const U=on.deleteInternalByIndex(i,v,F);return Gi(i,U)}:E==="deleteByID"?F=>{const U=on.deleteInternalByID(i,v,F);return Gi(i,U)}:E==="insertAfter"?(F,U)=>{const W=on.insertAfterInternal(i,v,F,U);return Gi(i,W)}:E==="insertIntegerAfter"?(F,U)=>{const W=on.insertIntegerAfterInternal(i,v,F,U);return Gi(i,W)}:E==="insertBefore"?(F,U)=>{const W=on.insertBeforeInternal(i,v,F,U);return Gi(i,W)}:E==="setValue"?(F,U)=>{const W=on.setValueInternal(i,v,F,U);return Gi(i,W)}:E==="moveBefore"?(F,U)=>{on.moveBeforeInternal(i,v,F,U)}:E==="moveAfter"?(F,U)=>{on.moveAfterInternal(i,v,F,U)}:E==="moveAfterByIndex"?(F,U)=>{on.moveAfterByIndexInternal(i,v,F,U)}:E==="moveFront"?F=>{on.moveFrontInternal(i,v,F)}:E==="moveLast"?F=>{on.moveLastInternal(i,v,F)}:i0(E)?da(i,v.get(Number(E))):E==="push"?F=>on.pushInternal(i,v,F):E==="splice"?(F,U,...W)=>on.splice(i,v,F,U,...W):E==="length"?v.length:typeof E=="symbol"&&E===Symbol.iterator?on.iteratorInternal.bind(this,i,v):E==="includes"?(F,U)=>on.includes(i,v,F,U):E==="indexOf"?(F,U)=>on.indexOf(i,v,F,U):E==="lastIndexOf"?(F,U)=>on.lastIndexOf(i,v,F,U):E==="toJSForTest"?()=>v.toJSForTest():E==="toTestString"?()=>on.toTestString(v):typeof E=="string"&&zx(E)?(...F)=>{const U=Array.from(v).map(W=>da(i,W));return Array.prototype[E].apply(U,F)}:Reflect.get(v,E,_),set:(v,E,_)=>{if(i0(E)){const F=Number(E);return on.setValueInternal(i,v,F,_),!0}return Reflect.set(v,E,_)},deleteProperty:(v,E)=>(Je.isEnabled(kr.Trivial)&&Je.trivial(`array[${E}]`),on.deleteInternalByIndex(i,v,Number.parseInt(E)),!0)}}static*iteratorInternal(i,c){for(const v of c)yield Gi(i,v)}static buildArrayElements(i,c){const v=[];for(const E of c){const _=i.issueTimeTicket(),F=ha(i,E,_);v.push(F)}return v}static pushInternal(i,c,v){return on.insertAfterInternal(i,c,c.getLastCreatedAt(),v),c.length}static moveBeforeInternal(i,c,v,E){const _=i.issueTimeTicket(),F=c.getPrevCreatedAt(v);c.moveAfter(F,E,_),i.push(Bi.create(c.getCreatedAt(),F,E,_))}static moveAfterInternal(i,c,v,E){const _=i.issueTimeTicket();i.push(Bi.create(c.getCreatedAt(),v,E,_)),c.moveAfter(v,E,_)}static moveAfterByIndexInternal(i,c,v,E){const _=c.get(v);if(!_)throw new Ae(ve.ErrInvalidArgument,`index out of bounds: ${v}`);const F=c.get(E);if(!F)throw new Ae(ve.ErrInvalidArgument,`index out of bounds: ${E}`);on.moveAfterInternal(i,c,_.getCreatedAt(),F.getCreatedAt())}static moveFrontInternal(i,c,v){const E=i.issueTimeTicket(),_=c.getHead();c.moveAfter(_.getCreatedAt(),v,E),i.push(Bi.create(c.getCreatedAt(),_.getCreatedAt(),v,E))}static moveLastInternal(i,c,v){const E=i.issueTimeTicket(),_=c.getLastCreatedAt();c.moveAfter(_,v,E),i.push(Bi.create(c.getCreatedAt(),_,v,E))}static insertAfterInternal(i,c,v,E){const _=i.issueTimeTicket(),F=ha(i,E,_);return c.insertAfter(v,F),i.registerElement(F,c),i.push(ki.create(c.getCreatedAt(),v,F.deepcopy(),_)),F}static insertIntegerAfterInternal(i,c,v,E){const _=c.get(v);if(!_)throw new Ae(ve.ErrInvalidArgument,`index out of bounds: ${v}`);return on.insertAfterInternal(i,c,_.getCreatedAt(),E),c}static insertBeforeInternal(i,c,v,E){return on.insertAfterInternal(i,c,c.getPrevCreatedAt(v),E)}static setValueInternal(i,c,v,E){const _=c.get(v);if(!_)throw new Ae(ve.ErrInvalidArgument,`index out of bounds: ${v}`);return on.setByIndexInternal(i,c,_.getCreatedAt(),E),c}static setByIndexInternal(i,c,v,E){const _=i.issueTimeTicket(),F=ha(i,E,_),U=F.deepcopy();return i.push(ds.create(c.getCreatedAt(),v,U,_)),c.set(v,F,_),i.registerElement(F,c),F}static deleteInternalByIndex(i,c,v){const E=i.issueTimeTicket(),_=c.deleteByIndex(v,E);if(_)return i.push(Si.create(c.getCreatedAt(),_.getCreatedAt(),E)),i.registerRemovedElement(_),_}static deleteInternalByID(i,c,v){const E=i.issueTimeTicket(),_=c.delete(v,E);return i.push(Si.create(c.getCreatedAt(),_.getCreatedAt(),E)),i.registerRemovedElement(_),_}static splice(i,c,v,E,..._){const F=c.length,U=v>=0?Math.min(v,F):Math.max(F+v,0),W=E===void 0?F:E<0?U:Math.min(U+E,F),te=[];for(let ce=U;ce<W;ce++){const Re=on.deleteInternalByIndex(i,c,U);if(Re){const Be=Re.deepcopy();Be.setRemovedAt(),te.push(da(i,Be))}}if(_){let ce=U===0?c.getHead().getID():c.get(U-1).getID();for(const Re of _)ce=on.insertAfterInternal(i,c,ce,Re).getID()}return te}static includes(i,c,v,E){var U;const _=c.length,F=E===void 0?0:E<0?Math.max(E+_,0):E;if(F>=_)return!1;if(Vn.isSupport(v))return Array.from(c).map(te=>da(i,te)).includes(v,F);for(let W=F;W<_;W++)if(((U=c.get(W))==null?void 0:U.getID())===v.getID())return!0;return!1}static indexOf(i,c,v,E){var U;const _=c.length,F=E===void 0?0:E<0?Math.max(E+_,0):E;if(F>=_)return-1;if(Vn.isSupport(v))return Array.from(c).map(te=>da(i,te)).indexOf(v,F);for(let W=F;W<_;W++)if(((U=c.get(W))==null?void 0:U.getID())===v.getID())return W;return-1}static lastIndexOf(i,c,v,E){var U;const _=c.length,F=E===void 0||E>=_?_-1:E<0?E+_:E;if(F<0)return-1;if(Vn.isSupport(v))return Array.from(c).map(te=>da(i,te)).lastIndexOf(v,F);for(let W=F;W>0;W--)if(((U=c.get(W))==null?void 0:U.getID())===v.getID())return W;return-1}static toTestString(i){return i.toTestString()}getHandlers(){return this.handlers}}class Gf{constructor(i,c){q(this,"context");q(this,"text");this.context=i,this.text=c}initialize(i,c){this.context=i,this.text=c}getID(){return this.text.getID()}edit(i,c,v,E){if(!this.context||!this.text)throw new Ae(ve.ErrNotInitialized,"Text is not initialized yet");if(i>c)throw new Ae(ve.ErrInvalidArgument,"from should be less than or equal to to");const _=this.text.indexRangeToPosRange(i,c);Je.isEnabled(kr.Debug)&&Je.debug(`EDIT: f:${i}->${_[0].toTestString()}, t:${c}->${_[1].toTestString()} c:${v}`);const F=E?sl(E):void 0,U=this.context.issueTimeTicket(),[,W,te,ce]=this.text.edit(_,v,U,F);this.context.acc(te);for(const Re of W)this.context.registerGCPair(Re);return this.context.push(new Co(this.text.getCreatedAt(),_[0],_[1],v,F?new Map(Object.entries(F)):new Map,U)),this.text.findIndexesFromRange(ce)}delete(i,c){return this.edit(i,c,"")}empty(){return this.edit(0,this.length,"")}setStyle(i,c,v){if(!this.context||!this.text)throw new Ae(ve.ErrNotInitialized,"Text is not initialized yet");if(i>c)throw new Ae(ve.ErrInvalidArgument,"from should be less than or equal to to");const E=this.text.indexRangeToPosRange(i,c);Je.isEnabled(kr.Debug)&&Je.debug(`STYL: f:${i}->${E[0].toTestString()}, t:${c}->${E[1].toTestString()} a:${JSON.stringify(v)}`);const _=sl(v),F=this.context.issueTimeTicket(),[U,W]=this.text.setStyle(E,_,F);this.context.acc(W);for(const te of U)this.context.registerGCPair(te);return this.context.push(new rc(this.text.getCreatedAt(),E[0],E[1],new Map(Object.entries(_)),F)),!0}indexRangeToPosRange(i){if(!this.context||!this.text)throw new Ae(ve.ErrNotInitialized,"Text is not initialized yet");const c=this.text.indexRangeToPosRange(i[0],i[1]);return[c[0].toStruct(),c[1].toStruct()]}posRangeToIndexRange(i){if(!this.context||!this.text)throw new Ae(ve.ErrNotInitialized,"Text is not initialized yet");const c=this.text.findIndexesFromRange([lr.fromStruct(i[0]),lr.fromStruct(i[1])]);return[c[0],c[1]]}toTestString(){if(!this.context||!this.text)throw new Ae(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new Ae(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new Ae(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new Ae(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new Ae(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(i,c){if(!this.context||!this.text)throw new Ae(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(i,c)}}class o0{constructor(i,c){q(this,"valueType");q(this,"value");q(this,"context");q(this,"counter");this.valueType=i,this.value=c}initialize(i,c){this.valueType=c.getValueType(),this.context=i,this.counter=c,this.value=c.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(i){if(!this.context||!this.counter)throw new Ae(ve.ErrNotInitialized,"Counter is not initialized yet");const c=this.context.issueTimeTicket(),v=Vn.of(i,c);if(!v.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof v.getValue()}`);return this.counter.increase(v),this.context.push(Rn.create(this.counter.getCreatedAt(),v,c)),this}toJSForTest(){if(!this.context||!this.counter)throw new Ae(ve.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function s0(h){if(h.isText)return{type:h.type,value:h.value};const i={type:h.type,children:h.children.map(c=>s0(c))};return h.attrs&&(i.attributes=wo(h.attrs.toObject())),i}function V1(h,i){const c={type:h.isText?h.parent.type:h.type,children:h.isText?h.parent.getChildrenText().length===i?[]:[{type:so,value:h.parent.getChildrenText().slice(i)}]:h.children.slice(i).map(v=>s0(v))};return h.attrs?c.attributes=wo(h.attrs.toObject()):h.isText&&h.parent.attrs&&(c.attributes=wo(h.parent.attrs.toObject())),c}function Vx(h,i){const{node:c}=h,v=[...i].slice(0,-1),E=c.isText?c.parent.getChildrenText().length:c.children.length,_=[...v,E],F=[...v],U=[];F[F.length-1]+=1,i.every((te,ce)=>te===_[ce])||U.push({fromPath:[...i],toPath:_});const W=V1(c,i[i.length-1]);return W&&U.push({fromPath:F,toPath:F,content:W}),U}function Ux(h,i){const{node:c,offset:v}=h,E=c.children[v],_=c.children[v-1],{children:F}=E,U=[...i].slice(0,-1),W=[{fromPath:[...i],toPath:[...U,v+1]}];if(!E.children.length)return W;const te=[...U,v-1,_.hasTextChild()?_.getChildrenText().length:_.children.length],ce=F.map(Re=>s0(Re));return W.push({fromPath:te,toPath:te,content:ce}),W}function fa(h,i,c){const{type:v}=h,E=c.issueTimeTicket();if(v===so){a0(h);const{value:_}=h,F=Yr.create(ur.of(E,0),v,_);i.append(F)}else{const{children:_=[]}=h,{attributes:F}=h;let U;if(typeof F=="object"&&!$m(F)){const te=sl(F);U=new $r;for(const[ce,Re]of Object.entries(te))U.set(ce,Re,E)}const W=Yr.create(ur.of(E,0),v,void 0,U);i.append(W);for(const te of _)fa(te,W,c)}}function Sp(h,i){const{type:c}=i,v=h.issueTimeTicket();let E;if(i.type===so){const{value:_}=i;E=Yr.create(ur.of(v,0),c,_)}else if(i){const{children:_=[]}=i,{attributes:F}=i;let U;if(typeof F=="object"&&!$m(F)){const W=sl(F);U=new $r;for(const[te,ce]of Object.entries(W))U.set(te,ce,v)}E=Yr.create(ur.of(h.issueTimeTicket(),0),c,void 0,U);for(const W of _)fa(W,E,h)}return E}function a0(h){if(!h.value.length)throw new Ae(ve.ErrInvalidArgument,"text node cannot have empty value");return!0}function l0(h){if(!h.length)return!0;if(h[0].type===so)for(const c of h){const{type:v}=c;if(v!==so)throw new Ae(ve.ErrInvalidArgument,"element node and text node cannot be passed together");a0(c)}else for(const c of h){const{type:v}=c;if(v===so)throw new Ae(ve.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Ep{constructor(i){q(this,"initialRoot");q(this,"context");q(this,"tree");this.initialRoot=i}initialize(i,c){this.context=i,this.tree=c}getID(){return this.tree.getID()}buildRoot(i){if(!this.initialRoot)return Yr.create(ur.of(i.issueTimeTicket(),0),L1);const c=Yr.create(ur.of(i.issueTimeTicket(),0),this.initialRoot.type);for(const v of this.initialRoot.children)fa(v,c,i);return c}getSize(){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(i){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new Ae(ve.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToTreePos(i),v=Vx(c,i);for(const E of v){const{fromPath:_,toPath:F,content:U}=E,W=this.tree.pathToPos(_),te=this.tree.pathToPos(F);this.editInternal(W,te,U?[U]:[],0)}}mergeByPath(i){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new Ae(ve.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToTreePos(i);if(c.node.isText)throw new Ae(ve.ErrInvalidArgument,"text node cannot be merged");const v=Ux(c,i);for(const E of v){const{fromPath:_,toPath:F,content:U}=E,W=this.tree.pathToPos(_),te=this.tree.pathToPos(F);this.editInternal(W,te,U??[],0)}}styleByPath(i,c){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new Ae(ve.ErrInvalidArgument,"path should not be empty");const[v,E]=this.tree.pathToPosRange(i),_=this.context.issueTimeTicket(),F=c?sl(c):void 0,[U,,W]=this.tree.style([v,E],F,_);this.context.acc(W);for(const te of U)this.context.registerGCPair(te);this.context.push(fs.create(this.tree.getCreatedAt(),v,E,F?new Map(Object.entries(F)):new Map,_))}style(i,c,v){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");if(i>c)throw new Ae(ve.ErrInvalidArgument,"from should be less than or equal to to");const E=this.tree.findPos(i),_=this.tree.findPos(c),F=this.context.issueTimeTicket(),U=v?sl(v):void 0,[W,,te]=this.tree.style([E,_],U,F);this.context.acc(te);for(const ce of W)this.context.registerGCPair(ce);this.context.push(fs.create(this.tree.getCreatedAt(),E,_,U?new Map(Object.entries(U)):new Map,F))}removeStyle(i,c,v){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");if(i>c)throw new Ae(ve.ErrInvalidArgument,"from should be less than or equal to to");const E=this.tree.findPos(i),_=this.tree.findPos(c),F=this.context.issueTimeTicket(),[U,,W]=this.tree.removeStyle([E,_],v,F);this.context.acc(W);for(const te of U)this.context.registerGCPair(te);this.context.push(fs.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),E,_,v,F))}editInternal(i,c,v,E=0){var te;if(v.length!==0&&v[0]&&(l0(v),v[0].type!==so))for(const ce of v){const{children:Re=[]}=ce;l0(Re)}const _=this.context.getLastTimeTicket();let F=new Array;if(((te=v[0])==null?void 0:te.type)===so){let ce="";for(const Re of v){const{value:Be}=Re;ce+=Be}F.push(Yr.create(ur.of(this.context.issueTimeTicket(),0),so,ce))}else F=v.map(ce=>ce&&Sp(this.context,ce)).filter(ce=>ce);const[,U,W]=this.tree.edit([i,c],F.length?F.map(ce=>ce==null?void 0:ce.deepcopy()):void 0,E,_,()=>this.context.issueTimeTicket());this.context.acc(W);for(const ce of U)this.context.registerGCPair(ce);return this.context.push(al.create(this.tree.getCreatedAt(),i,c,F.length?F:void 0,E,_)),!0}editByPath(i,c,v,E=0){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");if(i.length!==c.length)throw new Ae(ve.ErrInvalidArgument,"path length should be equal");if(!i.length||!c.length)throw new Ae(ve.ErrInvalidArgument,"path should not be empty");const _=this.tree.pathToPos(i),F=this.tree.pathToPos(c);return this.editInternal(_,F,v?[v]:[],E)}editBulkByPath(i,c,v,E=0){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");if(i.length!==c.length)throw new Ae(ve.ErrInvalidArgument,"path length should be equal");if(!i.length||!c.length)throw new Ae(ve.ErrInvalidArgument,"path should not be empty");const _=this.tree.pathToPos(i),F=this.tree.pathToPos(c);return this.editInternal(_,F,v,E)}edit(i,c,v,E=0){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");if(i>c)throw new Ae(ve.ErrInvalidArgument,"from should be less than or equal to to");const _=this.tree.findPos(i),F=this.tree.findPos(c);return this.editInternal(_,F,v?[v]:[],E)}editBulk(i,c,v,E=0){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");if(i>c)throw new Ae(ve.ErrInvalidArgument,"from should be less than or equal to to");const _=this.tree.findPos(i),F=this.tree.findPos(c);return this.editInternal(_,F,v,E)}toXML(){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(i){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(i)}pathToIndex(i){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(i)}pathRangeToPosRange(i){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");const c=[this.tree.pathToIndex(i[0]),this.tree.pathToIndex(i[1])],v=this.tree.indexRangeToPosRange(c);return[v[0].toStruct(),v[1].toStruct()]}indexRangeToPosRange(i){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(i)}posRangeToIndexRange(i){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");const c=[zi.fromStruct(i[0]),zi.fromStruct(i[1])];return this.tree.posRangeToIndexRange(c)}posRangeToPathRange(i){if(!this.context||!this.tree)throw new Ae(ve.ErrNotInitialized,"Tree is not initialized yet");const c=[zi.fromStruct(i[0]),zi.fromStruct(i[1])];return this.tree.posRangeToPathRange(c)}}function u0(h,i){return bp(h,i)}function Gi(h,i){if(i){if(i instanceof Vn)return i;if(i instanceof Sr)return bp(h,i);if(i instanceof ar)return jx(h,i);if(i instanceof Hr)return new Gf(h,i);if(i instanceof mr){const c=new o0(Ei.Int,0);return c.initialize(h,i),c}else if(i instanceof Fr){const c=new Ep;return c.initialize(h,i),c}}else return;throw new TypeError(`Unsupported type of element: ${typeof i}`)}function da(h,i){const c=Gi(h,i);return c instanceof Vn?c.getValue():c}function ha(h,i,c){let v;if(Vn.isSupport(i))v=Vn.of(i,c);else if(Array.isArray(i))v=ar.create(c,on.buildArrayElements(h,i));else if(typeof i=="object")i instanceof Gf?(v=Hr.create(ol.create(),c),i.initialize(h,v)):i instanceof o0?(v=mr.create(i.getValueType(),i.getValue(),c),i.initialize(h,v)):i instanceof Ep?(v=Fr.create(i.buildRoot(h),c),i.initialize(h,v)):v=Sr.create(c,Mo.buildObjectMembers(h,i));else throw new TypeError(`Unsupported type of value: ${typeof i}`);return v}class hc{constructor(i){q(this,"rootObject");q(this,"elementPairMapByCreatedAt");q(this,"gcElementSetByCreatedAt");q(this,"gcPairMap");q(this,"docSize");this.rootObject=i,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(i,void 0),i.getDescendants(c=>{if(c.getRemovedAt()&&this.registerRemovedElement(c),c instanceof Hr||c instanceof Fr)for(const v of c.getGCPairs())this.registerGCPair(v);return!1})}static create(){return new hc(Sr.create(il))}findByCreatedAt(i){const c=this.elementPairMapByCreatedAt.get(i.toIDString());if(c)return c.element}findElementPairByCreatedAt(i){return this.elementPairMapByCreatedAt.get(i.toIDString())}createSubPaths(i){let c=this.elementPairMapByCreatedAt.get(i.toIDString());if(!c)return[];const v=[];for(;c.parent;){const E=c.element.getCreatedAt(),_=c.parent.subPathOf(E);if(_===void 0)throw new Ae(ve.ErrInvalidArgument,`cant find the given element: ${E.toIDString()}`);v.unshift(_),c=this.elementPairMapByCreatedAt.get(c.parent.getCreatedAt().toIDString())}return v.unshift("$"),v}createPath(i){return this.createSubPaths(i).join(".")}registerElement(i,c){this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:c,element:i}),kn(this.docSize.live,i.getDataSize()),i instanceof rs&&i.getDescendants((v,E)=>(this.elementPairMapByCreatedAt.set(v.getCreatedAt().toIDString(),{parent:E,element:v}),kn(this.docSize.live,v.getDataSize()),!1))}deregisterElement(i){let c=0;const v=E=>{const _=E.getCreatedAt().toIDString();Gr(this.docSize.gc,E.getDataSize()),this.elementPairMapByCreatedAt.delete(_),this.gcElementSetByCreatedAt.delete(_),c++};return v(i),i instanceof rs&&i.getDescendants(E=>(v(E),!1)),c}registerRemovedElement(i){kn(this.docSize.gc,i.getDataSize()),Gr(this.docSize.live,i.getDataSize()),this.docSize.live.meta+=no,this.gcElementSetByCreatedAt.add(i.getCreatedAt().toIDString())}registerGCPair(i){if(this.gcPairMap.get(i.child.toIDString())){this.gcPairMap.delete(i.child.toIDString());return}this.gcPairMap.set(i.child.toIDString(),i);const v=this.gcPairMap.get(i.child.toIDString()).child.getDataSize();kn(this.docSize.gc,v),Gr(this.docSize.live,v),i.child instanceof ls||(this.docSize.live.meta+=no)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const i=new Set;for(const c of this.gcElementSetByCreatedAt){i.add(c);const v=this.elementPairMapByCreatedAt.get(c);v.element instanceof rs&&v.element.getDescendants(E=>(i.add(E.getCreatedAt().toIDString()),!1))}return i.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new hc(this.rootObject.deepcopy())}garbageCollect(i){let c=0;for(const v of this.gcElementSetByCreatedAt){const E=this.elementPairMapByCreatedAt.get(v),_=E.element.getRemovedAt();_&&(i!=null&&i.afterOrEqual(_))&&(E.parent.purge(E.element),c+=this.deregisterElement(E.element))}for(const[,v]of this.gcPairMap){const E=v.child.getRemovedAt();E&&(i!=null&&i.afterOrEqual(E))&&(v.parent.purge(v.child),Gr(this.docSize.gc,v.child.getDataSize()),this.gcPairMap.delete(v.child.toIDString()),c+=1)}return c}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(i){kn(this.docSize.live,i)}*getGCElementPairs(){for(const i of this.gcElementSetByCreatedAt){const c=this.elementPairMapByCreatedAt.get(i);c&&(yield c)}}}let c0=class{constructor(i,c){q(this,"context");q(this,"presence");this.context=i,this.presence=c}set(i,c){for(const v of Object.keys(i))this.presence[v]=i[v];this.context.setPresenceChange({type:to.Put,presence:li(this.presence)}),this.context.setReversePresence(i,c)}get(i){return this.presence[i]}clear(){this.presence={},this.context.setPresenceChange({type:to.Clear})}};const Tn=50;class f0{constructor(){q(this,"undoStack",[]);q(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(i){this.undoStack.length>=Tn&&this.undoStack.shift(),this.undoStack.push(i)}popUndo(){return this.undoStack.pop()}pushRedo(i){this.redoStack.length>=Tn&&this.redoStack.shift(),this.redoStack.push(i)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(i,c){const v=E=>{for(const _ of E)for(const F of _)(F instanceof ds||F instanceof Si||F instanceof Bi)&&F.getCreatedAt()===i&&F.setCreatedAt(c),(F instanceof ki||F instanceof Bi)&&F.getPrevCreatedAt()===i&&F.setPrevCreatedAt(c)};v(this.undoStack),v(this.redoStack)}reconcileTextEdit(i,c,v,E){const _=F=>{for(const U of F)for(const W of U)W instanceof Co&&W.getParentCreatedAt().compare(i)===0&&W.reconcileOperation(c,v,E)};_(this.undoStack),_(this.redoStack)}}function U1(h,i){const c=[];for(const v of i){const E=Gx(h,v.path),_=G1(E,v);if(!_.valid)for(const F of _.errors||[])c.push(F)}return{valid:c.length===0,errors:c}}function Gx(h,i){if(!i.startsWith("$"))throw new Error(`Path must start with $, got ${i}`);const c=i.split(".");let v=h;for(let E=1;E<c.length;E++){const _=c[E];if(!(v instanceof Sr))return;v=v.get(_)}return v}function G1(h,i){switch(i.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return H1(h,i);case"object":if(!(h instanceof Sr))return{valid:!1,errors:[{path:i.path,message:`expected object at path ${i.path}`}]};break;case"array":if(!(h instanceof ar))return{valid:!1,errors:[{path:i.path,message:`expected array at path ${i.path}`}]};break;case"yorkie.Text":if(!(h instanceof Hr))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Text at path ${i.path}`}]};break;case"yorkie.Tree":if(!(h instanceof Fr))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Tree at path ${i.path}`}]};break;case"yorkie.Counter":if(!(h instanceof mr))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Counter at path ${i.path}`}]};break;default:throw new Error(`Unknown rule type: ${i.type}`)}return{valid:!0}}function $1(h){switch(h){case"null":return wn.Null;case"boolean":return wn.Boolean;case"integer":return wn.Integer;case"long":return wn.Long;case"double":return wn.Double;case"string":return wn.String;case"bytes":return wn.Bytes;case"date":return wn.Date;default:throw new Error(`Unknown primitive type: ${h}`)}}function H1(h,i){return h instanceof Vn&&h.getType()===$1(i.type)?{valid:!0}:{valid:!1,errors:[{path:i.path,message:`expected ${i.type} at path ${i.path}`}]}}const Ap="yorkie-devtools-panel",pc="yorkie-devtools-sdk";function d0(h){return[dr.StatusChanged,dr.Snapshot,dr.LocalChange,dr.RemoteChange,dr.Initialized,dr.Watched,dr.Unwatched,dr.PresenceChanged].includes(h.type)}function wp(h){return h.every(d0)}let pa="disconnected";const ga=new Map,Ai=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Ai);function ma(h,i){(i!=null&&i.force||pa!=="disconnected")&&window.postMessage({source:pc,...h},"*")}function Y1(h){if(!h.isEnableDevtools()||typeof window>"u"||ga.has(h.getKey()))return;Ai.set(h.getKey(),[]);const i=h.subscribe("all",c=>{wp(c)&&(Ai.get(h.getKey()).push(c),pa==="synced"&&ma({msg:"doc::sync::partial",docKey:h.getKey(),event:c}))});ga.set(h.getKey(),[i]),ma({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",c=>{var E;if(((E=c.data)==null?void 0:E.source)!==Ap)return;switch(c.data.msg){case"devtools::connect":if(pa!=="disconnected")break;pa="connected",ma({msg:"doc::available",docKey:h.getKey()}),Je.info(`[YD] Devtools connected. Doc: ${h.getKey()}`);break;case"devtools::disconnect":pa="disconnected",Je.info(`[YD] Devtools disconnected. Doc: ${h.getKey()}`);break;case"devtools::subscribe":pa="synced",ma({msg:"doc::sync::full",docKey:h.getKey(),events:Ai.get(h.getKey())}),Je.info(`[YD] Devtools subscribed. Doc: ${h.getKey()}`);break}})}var xs=(h=>(h.Detached="detached",h.Attached="attached",h.Removed="removed",h))(xs||{}),dr=(h=>(h.StatusChanged="status-changed",h.ConnectionChanged="connection-changed",h.SyncStatusChanged="sync-status-changed",h.Snapshot="snapshot",h.LocalChange="local-change",h.RemoteChange="remote-change",h.Initialized="initialized",h.Watched="watched",h.Unwatched="unwatched",h.PresenceChanged="presence-changed",h.AuthError="auth-error",h))(dr||{}),pl=(h=>(h.Connected="connected",h.Disconnected="disconnected",h))(pl||{}),Cp=(h=>(h.Synced="synced",h.SyncFailed="sync-failed",h))(Cp||{});class va{constructor(i,c){q(this,"key");q(this,"status");q(this,"opts");q(this,"maxSizeLimit");q(this,"schemaRules");q(this,"changeID");q(this,"checkpoint");q(this,"localChanges");q(this,"root");q(this,"presences");q(this,"clone");q(this,"internalHistory");q(this,"isUpdating");q(this,"onlineClients");q(this,"eventStream");q(this,"eventStreamObserver");q(this,"history");this.key=i,this.status="detached",this.opts=c||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=us,this.checkpoint=cs,this.localChanges=[],this.root=hc.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new f0,this.isUpdating=!1,this.eventStream=ys(v=>this.eventStreamObserver=v),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},Y1(this)}update(i,c){var U,W,te;if(this.getStatus()==="removed")throw new Ae(ve.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const v=this.changeID.getActorID(),E=ca.create(this.changeID,this.clone.root,this.clone.presences.get(v)||{},c);try{const ce=u0(E,this.clone.root.getObject());this.presences.has(v)||this.clone.presences.set(v,{}),this.isUpdating=!0,i(ce,new c0(E,this.clone.presences.get(v)))}catch(ce){throw this.clone=void 0,ce}finally{this.isUpdating=!1}const _=this.getSchemaRules();if(!E.isPresenceOnlyChange()&&_.length){const ce=U1((U=this.clone)==null?void 0:U.root.getObject(),_);if(!ce.valid)throw this.clone=void 0,new Ae(ve.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(W=ce.errors)==null?void 0:W.map(Re=>Re.message).join(", ")}`)}const F=na((te=this.clone)==null?void 0:te.root.getDocSize());if(!E.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<F)throw this.clone=void 0,new Ae(ve.ErrDocumentSizeExceedsLimit,`document size exceeded: ${F} > ${this.maxSizeLimit}`);if(E.hasChange()){Je.isEnabled(kr.Trivial)&&Je.trivial(`trying to update a local change: ${this.toJSON()}`);const ce=E.toChange(),{opInfos:Re,reverseOps:Be}=ce.execute(this.root,this.presences,On.Local);for(const He of ce.getOperations())He instanceof ds&&this.internalHistory.reconcileCreatedAt(He.getCreatedAt(),He.getValue().getCreatedAt());const Te=E.getReversePresence();Te&&Be.push({type:"presence",value:Te}),this.localChanges.push(ce),Be.length&&this.internalHistory.pushUndo(Be),Re.length&&this.internalHistory.clearRedo(),this.changeID=E.getNextID();const We=[];Re.length&&We.push({type:"local-change",source:On.Local,value:{message:ce.getMessage()||"",operations:Re,actor:v,clientSeq:ce.getID().getClientSeq(),serverSeq:ce.getID().getServerSeq()},rawChange:this.isEnableDevtools()?ce.toStruct():void 0}),ce.hasPresenceChange()&&We.push({type:"presence-changed",source:On.Local,value:{clientID:v,presence:this.getPresence(v)}}),this.publish(We),Je.isEnabled(kr.Trivial)&&Je.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(i,c,v,E){if(typeof i=="string"){if(typeof c!="function")throw new Ae(ve.ErrInvalidArgument,"Second argument must be a callback function");if(i==="presence"){const U=c;return this.eventStream.subscribe(W=>{for(const te of W)te.type!=="initialized"&&te.type!=="watched"&&te.type!=="unwatched"&&te.type!=="presence-changed"||U(te)},v,E)}if(i==="my-presence"){const U=c;return this.eventStream.subscribe(W=>{for(const te of W)te.type!=="initialized"&&te.type!=="presence-changed"||te.type==="presence-changed"&&te.value.clientID!==this.changeID.getActorID()||U(te)},v,E)}if(i==="others"){const U=c;return this.eventStream.subscribe(W=>{for(const te of W)te.type!=="watched"&&te.type!=="unwatched"&&te.type!=="presence-changed"||te.value.clientID!==this.changeID.getActorID()&&U(te)},v,E)}if(i==="connection"){const U=c;return this.eventStream.subscribe(W=>{for(const te of W)te.type==="connection-changed"&&U(te)},v,E)}if(i==="status"){const U=c;return this.eventStream.subscribe(W=>{for(const te of W)te.type==="status-changed"&&U(te)},v,E)}if(i==="sync"){const U=c;return this.eventStream.subscribe(W=>{for(const te of W)te.type==="sync-status-changed"&&U(te)},v,E)}if(i==="auth-error"){const U=c;return this.eventStream.subscribe(W=>{for(const te of W)te.type==="auth-error"&&U(te)},v)}if(i==="all"){const U=c;return this.eventStream.subscribe(U,v,E)}const _=i,F=c;return this.eventStream.subscribe(U=>{for(const W of U){if(W.type!=="local-change"&&W.type!=="remote-change")continue;const te=[];for(const ce of W.value.operations)this.isSameElementOrChildOf(ce.path,_)&&te.push(ce);te.length&&F({...W,value:{...W.value,operations:te}})}},v,E)}if(typeof i=="function"){const _=i,F=c,U=v;return this.eventStream.subscribe(W=>{for(const te of W)te.type!=="snapshot"&&te.type!=="local-change"&&te.type!=="remote-change"||_(te)},F,U)}throw new Ae(ve.ErrInvalidArgument,`"${i}" is not a valid`)}publish(i){this.eventStreamObserver&&this.eventStreamObserver.next(i)}applyChangePack(i){i.hasSnapshot()?this.applySnapshot(i.getCheckpoint().getServerSeq(),i.getVersionVector(),i.getSnapshot(),i.getCheckpoint().getClientSeq()):(this.applyChanges(i.getChanges(),On.Remote),this.removePushedLocalChanges(i.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(i.getCheckpoint()),i.hasSnapshot()||this.garbageCollect(i.getVersionVector()),i.getIsRemoved()&&this.applyStatus("removed"),Je.isEnabled(kr.Trivial)&&Je.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:li(this.presences)})}createChangePack(){const i=Array.from(this.localChanges),c=this.checkpoint.increaseClientSeq(i.length);return fp.create(this.key,c,!1,i,this.getVersionVector())}setActor(i){for(const c of this.localChanges)c.setActor(i);this.changeID=this.changeID.setActor(i)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const i=ca.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return u0(i,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(i){this.maxSizeLimit=i}getSchemaRules(){return this.schemaRules}setSchemaRules(i){this.schemaRules=i}garbageCollect(i){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(i),this.root.garbageCollect(i))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(i,c,v,E=-1){const{root:_,presences:F}=xn.bytesToSnapshot(v);this.root=new hc(_),this.presences=F,this.changeID=this.changeID.setClocks(c.maxLamport(),c),this.clone=void 0,this.removePushedLocalChanges(E),this.applyChanges(this.localChanges,On.Local),this.clearHistory(),this.publish([{type:"snapshot",source:On.Remote,value:{serverSeq:i.toString(),snapshot:this.isEnableDevtools()?xn.bytesToHex(v):void 0,snapshotVector:xn.versionVectorToHex(c)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(i,c){Je.isEnabled(kr.Debug)&&Je.debug(`trying to apply ${i.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),Je.isEnabled(kr.Trivial)&&Je.trivial(i.map(v=>`${v.getID().toTestString()}	${v.toTestString()}`).join(`
`));for(const v of i)this.applyChange(v,c);Je.isEnabled(kr.Debug)&&Je.debug(`after appling ${i.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(i,c){var U;this.ensureClone(),i.execute(this.clone.root,this.clone.presences,c);const v=[],E=i.getID().getActorID();if(i.hasPresenceChange()&&this.onlineClients.has(E)){const W=i.getPresenceChange();switch(W.type){case to.Put:v.push(this.presences.has(E)?{type:"presence-changed",source:c,value:{clientID:E,presence:W.presence}}:{type:"watched",source:On.Remote,value:{clientID:E,presence:W.presence}});break;case to.Clear:v.push({type:"unwatched",source:On.Remote,value:{clientID:E,presence:this.getPresence(E)}}),this.removeOnlineClient(E);break}}const{opInfos:_,operations:F}=i.execute(this.root,this.presences,c);for(const W of F)if(W instanceof Co){const[te,ce]=W.normalizePos(this.root);this.internalHistory.reconcileTextEdit(W.getParentCreatedAt(),te,ce,((U=W.getContent())==null?void 0:U.length)??0)}if(this.changeID=this.changeID.syncClocks(i.getID()),_.length){const W=this.isEnableDevtools()?i.toStruct():void 0;v.push(c===On.Remote?{type:"remote-change",source:c,value:{actor:E,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq(),message:i.getMessage()||"",operations:_},rawChange:W}:{type:"local-change",source:c,value:{actor:E,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq(),message:i.getMessage()||"",operations:_},rawChange:W})}v.length&&this.publish(v)}applyWatchStream(i){if(i.body.case==="initialization"){const c=i.body.value.clientIds,v=new Set;for(const E of c)E!==this.changeID.getActorID()&&v.add(E);this.setOnlineClients(v),this.publish([{type:"initialized",source:On.Local,value:this.getPresences()}]);return}if(i.body.case==="event"){const{type:c,publisher:v}=i.body.value,E=[];if(c===Ff.DOCUMENT_WATCHED){if(this.onlineClients.has(v)&&this.hasPresence(v))return;this.addOnlineClient(v),this.hasPresence(v)&&E.push({type:"watched",source:On.Remote,value:{clientID:v,presence:this.getPresence(v)}})}else if(c===Ff.DOCUMENT_UNWATCHED){const _=this.getPresence(v);this.removeOnlineClient(v),_&&E.push({type:"unwatched",source:On.Remote,value:{clientID:v,presence:_}})}E.length&&this.publish(E)}}applyStatus(i){this.status=i,i==="detached"&&this.setActor(tp),this.publish([{source:i==="removed"?On.Remote:On.Local,type:"status-changed",value:i==="attached"?{status:i,actorID:this.changeID.getActorID()}:{status:i}}])}applyDocEventsForReplay(i){for(const c of i){if(c.type==="status-changed"){this.applyStatus(c.value.status),c.value.status==="attached"&&this.setActor(c.value.actorID);continue}if(c.type==="snapshot"){const{snapshot:v,serverSeq:E,snapshotVector:_}=c.value;if(!v)continue;this.applySnapshot(BigInt(E),xn.hexToVersionVector(_),xn.hexToBytes(v));continue}if(c.type==="local-change"||c.type==="remote-change"){if(!c.rawChange)continue;const v=ia.fromStruct(c.rawChange);this.applyChange(v,c.source)}if(c.type==="initialized"){const v=new Set;for(const{clientID:E,presence:_}of c.value)v.add(E),this.presences.set(E,_);this.setOnlineClients(v)}else if(c.type==="watched"){const{clientID:v,presence:E}=c.value;this.addOnlineClient(v),this.presences.set(v,E)}else if(c.type==="unwatched"){const{clientID:v}=c.value;this.removeOnlineClient(v),this.presences.delete(v)}else if(c.type==="presence-changed"){const{clientID:v,presence:E}=c.value;this.presences.set(v,E)}}}getValueByPath(i){if(!i.startsWith("$"))throw new Ae(ve.ErrInvalidArgument,'path must start with "$"');const c=i.split(".");c.shift();let v=this.getRoot();for(const E of c)if(v=v[E],!v)return;return v}setOnlineClients(i){this.onlineClients=i}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(i){this.onlineClients.add(i)}removeOnlineClient(i){this.onlineClients.delete(i)}hasPresence(i){return this.presences.has(i)}getMyPresence(){if(this.status!=="attached")return{};const i=this.presences.get(this.changeID.getActorID());return i?li(i):{}}getOthersPresences(){const i=[],c=this.changeID.getActorID();for(const v of this.onlineClients)v!==c&&this.presences.has(v)&&i.push({clientID:v,presence:li(this.presences.get(v))});return i}getPresence(i){if(i===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(i))return;const c=this.presences.get(i);return c?li(c):void 0}getPresences(){const i=[];i.push({clientID:this.changeID.getActorID(),presence:li(this.getMyPresence())});for(const c of this.onlineClients)this.presences.has(c)&&i.push({clientID:c,presence:li(this.presences.get(c))});return i}getPresenceForTest(i){const c=this.presences.get(i);return c?li(c):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const i=this.getChangeID().getActorID();return this.getPresences().filter(c=>c.clientID!==i).sort((c,v)=>c.clientID>v.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(i,c){if(c===i)return!0;const v=i.split(".");return c.split(".").every((E,_)=>E===v[_])}removePushedLocalChanges(i){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>i);)this.localChanges.shift()}executeUndoRedo(i){if(this.isUpdating)throw new Ae(ve.ErrRefused,`${i?"Undo":"Redo"} is not allowed during an update`);const c=i?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!c)throw new Ae(ve.ErrRefused,`There is no operation to be ${i?"undone":"redone"}`);this.ensureClone();const v=ca.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const ce of c){if(!(ce instanceof Ur)){new c0(v,li(this.clone.presences.get(this.changeID.getActorID()))).set(ce.value,{addToHistory:!0});continue}const Re=v.issueTimeTicket();if(ce.setExecutedAt(Re),ce instanceof ds){const Be=ce.getCreatedAt();ce.getValue().setCreatedAt(Re),this.internalHistory.reconcileCreatedAt(Be,Re)}else if(ce instanceof ki){const Be=ce.getValue().getCreatedAt();ce.getValue().setCreatedAt(Re),this.internalHistory.reconcileCreatedAt(Be,Re)}v.push(ce)}const E=v.toChange();E.execute(this.clone.root,this.clone.presences,On.UndoRedo);const{opInfos:_,reverseOps:F}=E.execute(this.root,this.presences,On.UndoRedo),U=v.getReversePresence();if(U&&F.push({type:"presence",value:U}),F.length&&(i?this.internalHistory.pushRedo(F):this.internalHistory.pushUndo(F)),!E.hasPresenceChange()&&!_.length)return;this.localChanges.push(E),this.changeID=v.getNextID();const W=this.changeID.getActorID(),te=[];_.length&&te.push({type:"local-change",source:On.UndoRedo,value:{message:E.getMessage()||"",operations:_,actor:W,clientSeq:E.getID().getClientSeq(),serverSeq:E.getID().getServerSeq()},rawChange:this.isEnableDevtools()?E.toStruct():void 0}),E.hasPresenceChange()&&te.push({type:"presence-changed",source:On.UndoRedo,value:{clientID:W,presence:this.getPresence(W)}}),this.publish(te)}}class Rp{constructor(i,c,v,E){q(this,"resource");q(this,"resourceID");q(this,"syncMode");q(this,"changeEventReceived");q(this,"lastHeartbeatTime");q(this,"reconnectStreamDelay");q(this,"cancelled");q(this,"watchStream");q(this,"watchLoopTimerID");q(this,"watchAbortController");this.reconnectStreamDelay=i,this.resource=c,this.resourceID=v,this.syncMode=E,this.changeEventReceived=E!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(i){this.syncMode=i}needRealtimeSync(){return this.syncMode===kt.RealtimeSyncOff?!1:this.syncMode===kt.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==kt.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(i){return this.resource instanceof va?this.needRealtimeSync():this.syncMode===kt.Manual?!1:Date.now()-this.lastHeartbeatTime>=i}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(i){const c=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await i(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(c,this.reconnectStreamDelay))})}catch{}};await c()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function $x(h,i){let c=i;return{authInterceptor:_=>async F=>(h&&F.header.set("x-api-key",h),c&&F.header.set("authorization",c),await _(F)),setToken:_=>{c=_}}}const Tp={name:"@yorkie-js/sdk",version:"0.6.47"};function h0(h){return i=>async c=>(h?c.header.set("x-yorkie-user-agent",h):c.header.set("x-yorkie-user-agent",Tp.name+"/"+Tp.version),await i(c))}const q1=h=>{try{if(JSON.stringify(h)===void 0)return!1}catch{return!1}return!0};var $f=(h=>(h.Detached="detached",h.Attached="attached",h.Removed="removed",h))($f||{}),Po=(h=>(h.PresenceChanged="presence-changed",h.Initialized="initialized",h.Broadcast="broadcast",h.LocalBroadcast="local-broadcast",h.AuthError="auth-error",h))(Po||{});const Hf=".";class Lo{constructor(i){q(this,"key");q(this,"status");q(this,"actorID");q(this,"sessionID");q(this,"sessionCount");q(this,"seq");q(this,"eventStream");q(this,"eventStreamObserver");this.validateChannelKey(i),this.key=i,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=ys(c=>this.eventStreamObserver=c)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Hf)[0]}getStatus(){return this.status}applyStatus(i){this.status=i}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(i){this.actorID=i}getSessionID(){return this.sessionID}setSessionID(i){this.sessionID=i}getSessionCount(){return this.sessionCount}updateSessionCount(i,c){return c===0||c>this.seq?(this.sessionCount=i,this.seq=c,!0):!1}hasLocalChanges(){return!1}subscribe(i,c){if(typeof i=="function")return this.eventStream.subscribe(i);const v=i,E=c;if(!E)throw new Error("callback is required when subscribing to specific event type or topic");if(v==="broadcast")return this.eventStream.subscribe(F=>{F.type==="broadcast"&&E(F)});if(v==="local-broadcast")return this.eventStream.subscribe(F=>{F.type==="local-broadcast"&&E(F)});if(v==="auth-error")return this.eventStream.subscribe(F=>{F.type==="auth-error"&&E(F)});if(v==="presence")return this.eventStream.subscribe(F=>{(F.type==="presence-changed"||F.type==="initialized")&&E(F)});if(v==="all")return this.eventStream.subscribe(E);const _=v;return this.eventStream.subscribe(F=>{F.type==="broadcast"&&F.topic===_&&E(F)})}publish(i){this.eventStreamObserver&&this.eventStreamObserver.next(i)}broadcast(i,c,v){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:i,payload:c,options:v})}validateChannelKey(i){if(i==="")throw new Error("channel key must not be empty");if(i.includes(" "))throw new Error("channel key must not contain a whitespace");if(i.startsWith(Hf))throw new Error("channel key must not start with a period");if(i.endsWith(Hf))throw new Error("channel key must not end with a period");if(i.includes(`${Hf}${Hf}`))throw new Error("channel key path must not empty")}}var kt=(h=>(h.Manual="manual",h.Realtime="realtime",h.RealtimePushOnly="realtime-pushonly",h.RealtimeSyncOff="realtime-syncoff",h))(kt||{});const ya={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},gc={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Np{constructor(i){q(this,"id");q(this,"key");q(this,"metadata");q(this,"status");q(this,"attachmentMap");q(this,"apiKey");q(this,"authTokenInjector");q(this,"conditions");q(this,"syncLoopDuration");q(this,"reconnectStreamDelay");q(this,"retrySyncLoopDelay");q(this,"channelHeartbeatInterval");q(this,"rpcClient");q(this,"setAuthToken");q(this,"taskQueue");q(this,"processing",!1);q(this,"keepalive",!1);i=i||ya;const c=i.rpcAddr||ya.rpcAddr;this.key=i.key||r0(),this.metadata=i.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=i.apiKey||"",this.authTokenInjector=i.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=i.syncLoopDuration??ya.syncLoopDuration,this.reconnectStreamDelay=i.reconnectStreamDelay??ya.reconnectStreamDelay,this.retrySyncLoopDelay=i.retrySyncLoopDelay??ya.retrySyncLoopDelay,this.channelHeartbeatInterval=i.channelHeartbeatInterval??ya.channelHeartbeatInterval;const{authInterceptor:v,setToken:E}=$x(this.apiKey);this.setAuthToken=E,this.rpcClient=tl(yx,Em({baseUrl:c,interceptors:[v,h0(i==null?void 0:i.userAgent)],fetch:(_,F)=>fetch(_,{...F,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const i=await this.authTokenInjector();this.setAuthToken(i)}return this.enqueueTask(async()=>{try{const i=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=i.clientId,this.status="activated",this.runSyncLoop(),Je.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(i){throw Je.error(`[AC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}})}deactivate(i={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const c=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:i.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),Je.info(`[DC] c"${this.getKey()}" deactivated`)}catch(v){throw Je.error(`[DC] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}};if(i.keepalive){this.keepalive=!0;const v=c();return this.keepalive=!1,v}return this.enqueueTask(c)}has(i){return this.attachmentMap.has(i)}attach(i,c){return i instanceof Lo?this.attachChannel(i,c):this.attachDocument(i,c)}attachDocument(i,c={}){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);if(i.getStatus()!==xs.Detached)throw new Ae(ve.ErrNotDetached,`${i.getKey()} is not detached`);i.setActor(this.id),i.update((E,_)=>_.set(c.initialPresence||{}));const v=c.syncMode??"realtime";return this.enqueueTask(async()=>{try{const E=await this.rpcClient.attachDocument({clientId:this.id,changePack:xn.toChangePack(i.createChangePack()),schemaKey:c.schema},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});(E.maxSizePerDocument??0)>0&&i.setMaxSizePerDocument(E.maxSizePerDocument),E.schemaRules.length>0&&i.setSchemaRules(xn.fromSchemaRules(E.schemaRules));const F=xn.fromChangePack(E.changePack);if(i.applyChangePack(F),i.getStatus()===xs.Removed)return i;i.applyStatus(xs.Attached),this.attachmentMap.set(i.getKey(),new Rp(this.reconnectStreamDelay,i,E.documentId,v)),v!=="manual"&&await this.runWatchLoop(i.getKey()),Je.info(`[AD] c:"${this.getKey()}" attaches d:"${i.getKey()}"`);const U=i.getRootObject();if(c.initialRoot){const W=c.initialRoot;i.update(te=>{for(const[ce,Re]of Object.entries(W))if(!U.has(ce)){const Be=ce;te[Be]=Re}})}return i}catch(E){throw Je.error(`[AD] c:"${this.getKey()}" err :`,E),await this.handleConnectError(E),E}})}detach(i,c){return i instanceof Lo?this.detachChannel(i):this.detachDocument(i,c)}detachDocument(i,c={keepalive:!1}){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(i.getKey());if(!v)throw new Ae(ve.ErrNotAttached,`${i.getKey()} is not attached`);i.update((_,F)=>F.clear());const E=async()=>{try{const _=await this.rpcClient.detachDocument({clientId:this.id,documentId:v.resourceID,changePack:xn.toChangePack(i.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),F=xn.fromChangePack(_.changePack);return i.applyChangePack(F),i.getStatus()!==xs.Removed&&i.applyStatus(xs.Detached),this.detachInternal(i.getKey()),Je.info(`[DD] c:"${this.getKey()}" detaches d:"${i.getKey()}"`),i}catch(_){throw Je.error(`[DD] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};if(c.keepalive){this.keepalive=!0;const _=E();return this.keepalive=!1,_}return this.enqueueTask(E)}async attachChannel(i,c={}){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);if(i.getStatus()!==$f.Detached)throw new Ae(ve.ErrNotDetached,`${i.getKey()} is not detached`);i.setActor(this.id);const v=async()=>{try{const E=await this.rpcClient.attachChannel({clientId:this.id,channelKey:i.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});i.setSessionID(E.sessionId),i.updateSessionCount(Number(E.sessionCount),0),i.applyStatus($f.Attached);const _=c.isRealtime!==!1?"realtime":"manual",F=new Rp(this.reconnectStreamDelay,i,E.sessionId,_);return i.subscribe("local-broadcast",U=>{const{topic:W,payload:te,options:ce}=U;this.broadcast(i.getKey(),W,te,ce).catch(Re=>{ce!=null&&ce.error&&ce.error(Re),Je.error(`[BC] c:"${this.getKey()}" failed: ${Re}`)})}),this.attachmentMap.set(i.getKey(),F),_==="realtime"&&await this.runWatchLoop(i.getKey()),Je.info(`[AP] c:"${this.getKey()}" attaches p:"${i.getKey()}" mode:${_} count:${i.getSessionCount()}`),i}catch(E){throw Je.error(`[AP] c:"${this.getKey()}" err :`,E),await this.handleConnectError(E),E}};return this.enqueueTask(v)}async detachChannel(i){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(i.getKey()))throw new Ae(ve.ErrNotAttached,`${i.getKey()} is not attached`);const c=async()=>{try{const v=await this.rpcClient.detachChannel({clientId:this.id,channelKey:i.getKey(),sessionId:i.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});return i.updateSessionCount(Number(v.sessionCount),0),i.applyStatus($f.Detached),this.detachInternal(i.getKey()),Je.info(`[DP] c:"${this.getKey()}" detaches p:"${i.getKey()}" count:${i.getSessionCount()}`),i}catch(v){throw Je.error(`[DP] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}};return this.enqueueTask(c)}async changeSyncMode(i,c){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(i.getKey());if(!v)throw new Ae(ve.ErrNotAttached,`${i.getKey()} is not attached`);const E=v.syncMode;return E===c?i:(v.changeSyncMode(c),c==="manual"?(v.cancelWatchStream(),i):(c==="realtime"&&(v.changeEventReceived=!0),E==="manual"&&await this.runWatchLoop(i.getKey()),i))}sync(i){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);if(i instanceof Lo){const c=this.attachmentMap.get(i.getKey());if(!c)throw new Ae(ve.ErrNotAttached,`${i.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(c).catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}))}if(i instanceof va){const c=this.attachmentMap.get(i.getKey());if(!c)throw new Ae(ve.ErrNotAttached,`${i.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(c,"realtime").catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}))}return this.enqueueTask(async()=>{const c=[];for(const[,v]of this.attachmentMap)v.syncMode!==void 0&&v.resource instanceof va&&c.push(this.syncInternal(v,v.syncMode));return Promise.all(c).catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v})})}remove(i){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(i.getKey());if(!c)throw new Ae(ve.ErrNotAttached,`${i.getKey()} is not attached`);i.setActor(this.id);const v=xn.toChangePack(i.createChangePack());return v.isRemoved=!0,this.enqueueTask(async()=>{try{const E=await this.rpcClient.removeDocument({clientId:this.id,documentId:c.resourceID,changePack:v},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),_=xn.fromChangePack(E.changePack);i.applyChangePack(_),this.detachInternal(i.getKey()),Je.info(`[RD] c:"${this.getKey()}" removes d:"${i.getKey()}"`)}catch(E){throw Je.error(`[RD] c:"${this.getKey()}" err :`,E),await this.handleConnectError(E),E}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(i){return this.conditions[i]}async createRevision(i,c,v){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);const E=this.attachmentMap.get(i.getKey());if(!E)throw new Ae(ve.ErrNotAttached,`${i.getKey()} is not attached`);const _=async()=>{try{const F=await this.rpcClient.createRevision({clientId:this.id,documentId:E.resourceID,label:c,description:v||""},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});if(!F.revision)throw new Ae(ve.ErrInvalidArgument,"revision is not returned");return Je.info(`[CR] c:"${this.getKey()}" creates revision d:"${i.getKey()}" l:"${c}"`),xn.toRevisionSummary(F.revision)}catch(F){throw Je.error(`[CR] c:"${this.getKey()}" err :`,F),await this.handleConnectError(F),F}};return this.enqueueTask(_)}async listRevisions(i,c){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(i.getKey());if(!v)throw new Ae(ve.ErrNotAttached,`${i.getKey()} is not attached`);const E=async()=>{try{const _=await this.rpcClient.listRevisions({clientId:this.id,documentId:v.resourceID,pageSize:(c==null?void 0:c.pageSize)||10,offset:(c==null?void 0:c.offset)||0,isForward:(c==null?void 0:c.isForward)??!1},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});return Je.info(`[LR] c:"${this.getKey()}" lists revisions d:"${i.getKey()}" count:${_.revisions.length}`),_.revisions.map(xn.toRevisionSummary)}catch(_){throw Je.error(`[LR] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};return this.enqueueTask(E)}async getRevision(i,c){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(i.getKey());if(!v)throw new Ae(ve.ErrNotAttached,`${i.getKey()} is not attached`);const E=async()=>{try{const _=await this.rpcClient.getRevision({clientId:this.id,documentId:v.resourceID,revisionId:c},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});if(!_.revision)throw new Ae(ve.ErrInvalidArgument,"revision is not returned");return Je.info(`[GR] c:"${this.getKey()}" gets revision d:"${i.getKey()}" r:"${c}"`),xn.toRevisionSummary(_.revision)}catch(_){throw Je.error(`[GR] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};return this.enqueueTask(E)}async restoreRevision(i,c){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(i.getKey());if(!v)throw new Ae(ve.ErrNotAttached,`${i.getKey()} is not attached`);const E=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:v.resourceID,revisionId:c},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),Je.info(`[RR] c:"${this.getKey()}" restores revision d:"${i.getKey()}" r:"${c}"`)}catch(_){throw Je.error(`[RR] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};return this.enqueueTask(E)}async broadcast(i,c,v,E){if(!this.isActive())throw new Ae(ve.ErrClientNotActivated,`${this.key} is not active`);const _=this.attachmentMap.get(i);if(!_)throw new Ae(ve.ErrNotAttached,`${i} is not attached`);if(!q1(v))throw new Ae(ve.ErrInvalidArgument,"payload is not serializable");const F=_.resource,U=(E==null?void 0:E.maxRetries)??gc.maxRetries,W=gc.maxBackoff;let te=0;const ce=Be=>Math.min(gc.initialRetryInterval*2**Be,W),Re=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:i,topic:c,payload:new TextEncoder().encode(JSON.stringify(v))},{headers:{"x-shard-key":`${this.apiKey}/${F.getFirstKeyPath()}`}}),Je.info(`[BC] c:"${this.getKey()}" broadcasts p:"${i}" t:"${c}"`)}catch(Be){if(Je.error(`[BC] c:"${this.getKey()}" err:`,Be),await this.handleConnectError(Be))if(To(Be,ve.ErrUnauthenticated)&&_.resource instanceof Lo&&_.resource.publish({type:Po.AuthError,reason:Cr(Be).reason||"unauthenticated",method:"Broadcast"}),te<U)te++,setTimeout(()=>Re(),ce(te-1)),Je.info(`[BC] c:"${this.getKey()}" retry attempt ${te}/${U}`);else throw Je.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),Be}});return Re()}runSyncLoop(){const i=async()=>{if(!this.isActive()){Je.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const c=[];for(const[,v]of this.attachmentMap)v.needSync(this.channelHeartbeatInterval)&&(v.changeEventReceived!==void 0&&(v.changeEventReceived=!1),c.push(this.syncInternal(v,v.syncMode).catch(E=>{throw To(E,ve.ErrUnauthenticated)&&v.resource.publish([{type:dr.AuthError,value:{reason:Cr(E).reason,method:"PushPull"}}]),E})));await Promise.all(c),setTimeout(i,this.syncLoopDuration)})}catch(c){Je.error(`[SL] c:"${this.getKey()}" sync failed:`,c),await this.handleConnectError(c)?setTimeout(i,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};Je.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,i()}async runWatchLoop(i){const c=this.attachmentMap.get(i);if(!c)throw new Ae(ve.ErrNotAttached,`${i} is not attached`);return this.conditions.WatchLoop=!0,c.runWatchLoop(v=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new Ae(ve.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(i))return this.conditions.WatchLoop=!1,Promise.reject(new Ae(ve.ErrNotAttached,`${i} is not attached`));const E=new AbortController;return c.resource instanceof va?this.createDocumentWatchStream(c,i,E,v):c.resource instanceof Lo?this.createChannelWatchStream(c,i,E,v):Promise.reject(new Ae(ve.ErrClientNotActivated,`Unknown resource type for ${i}`))})}createDocumentWatchStream(i,c,v,E){const _=this.rpcClient.watchDocument({clientId:this.id,documentId:i.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${c}`},signal:v.signal});return i.resource.publish([{type:dr.ConnectionChanged,value:pl.Connected}]),Je.info(`[WD] c:"${this.getKey()}" watches d:"${c}"`),i.changeEventReceived!==void 0&&(i.changeEventReceived=!0),new Promise((F,U)=>{(async()=>{try{for await(const te of _)this.handleWatchDocumentResponse(i,te),te.body.case==="initialization"&&F([_,v]);i.resource.resetOnlineClients(),i.resource.publish([{type:dr.Initialized,source:On.Local,value:i.resource.getPresences()}]),i.resource.publish([{type:dr.ConnectionChanged,value:pl.Disconnected}]),Je.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),E()}catch(te){i.resource.resetOnlineClients(),i.resource.publish([{type:dr.Initialized,source:On.Local,value:i.resource.getPresences()}]),i.resource.publish([{type:dr.ConnectionChanged,value:pl.Disconnected}]),Je.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(te)?(To(te,ve.ErrUnauthenticated)&&i.resource.publish([{type:dr.AuthError,value:{reason:Cr(te).reason,method:"WatchDocument"}}]),E()):this.conditions.WatchLoop=!1,U(te)}})()})}createChannelWatchStream(i,c,v,E){const _=this.rpcClient.watchChannel({clientId:this.id,channelKey:c},{headers:{"x-shard-key":`${this.apiKey}/${i.resource.getFirstKeyPath()}`},signal:v.signal});return Je.info(`[WP] c:"${this.getKey()}" watches p:"${c}"`),new Promise((F,U)=>{(async()=>{try{let te=!0;for await(const ce of _)this.handleWatchChannelResponse(i,ce),te&&(te=!1,F([_,v]));Je.debug(`[WP] c:"${this.getKey()}" p:"${c}" stream ended`),E()}catch(te){if(te instanceof Error&&te.name==="AbortError"){Je.debug(`[WP] c:"${this.getKey()}" p:"${c}" stream aborted`);return}Je.debug(`[WP] c:"${this.getKey()}" p:"${c}" err:`,te),await this.handleConnectError(te)?E():this.conditions.WatchLoop=!1,U(te)}})()})}handleWatchChannelResponse(i,c){const v=i.resource;if(c.body.case==="initialized"){const{sessionCount:E,seq:_}=c.body.value;v.updateSessionCount(Number(E),Number(_))&&v.publish({type:Po.Initialized,count:Number(E)})}else if(c.body.case==="event"){const E=c.body.value;if(E.type===Dm.BROADCAST){const _=new TextDecoder;try{const F=JSON.parse(_.decode(E.payload));v.publish({type:Po.Broadcast,clientID:E.publisher,topic:E.topic,payload:F})}catch(F){Je.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,F)}return}v.updateSessionCount(Number(E.sessionCount),Number(E.seq))&&v.publish({type:Po.PresenceChanged,count:Number(E.sessionCount)})}}handleWatchDocumentResponse(i,c){if(c.body.case==="event"&&c.body.value.type===Ff.DOCUMENT_CHANGED){i.changeEventReceived!==void 0&&(i.changeEventReceived=!0);return}i.resource.applyWatchStream(c)}deactivateInternal(){this.status="deactivated";for(const[i,c]of this.attachmentMap)this.detachInternal(i),c.resource instanceof va?c.resource.applyStatus(xs.Detached):c.resource instanceof Lo&&c.resource.applyStatus($f.Detached)}detachInternal(i){const c=this.attachmentMap.get(i);c&&(c.cancelWatchStream(),c.resource instanceof va&&c.resource.resetOnlineClients(),this.attachmentMap.delete(i))}async syncInternal(i,c){const{resource:v}=i;if(v instanceof Lo){try{const U=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:v.getKey(),sessionId:v.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${v.getFirstKeyPath()}`}});v.updateSessionCount(Number(U.sessionCount),0),i.updateHeartbeatTime(),Je.debug(`[RP] c:"${this.getKey()}" refreshes p:"${v.getKey()}" mode:${i.syncMode}`)}catch(U){throw Je.error(`[RP] c:"${this.getKey()}" err :`,U),U}return v}const E=v,{resourceID:_}=i,F=E.createChangePack();try{const U=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:_,changePack:xn.toChangePack(F),pushOnly:c==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${E.getKey()}`}}),W=xn.fromChangePack(U.changePack);if(W.hasChanges()&&(i.syncMode==="realtime-pushonly"||i.syncMode==="realtime-syncoff"))return E;E.applyChangePack(W),i.resource.publish([{type:dr.SyncStatusChanged,value:Cp.Synced}]),E.getStatus()===xs.Removed&&this.detachInternal(E.getKey());const te=E.getKey(),ce=W.getChangeSize();return Je.info(`[PP] c:"${this.getKey()}" sync d:"${te}", push:${F.getChangeSize()} pull:${ce} cp:${W.getCheckpoint().toTestString()}`),E}catch(U){throw E.publish([{type:dr.SyncStatusChanged,value:Cp.SyncFailed}]),Je.error(`[PP] c:"${this.getKey()}" err :`,U),U}}async handleConnectError(i){if(!(i instanceof Kt))return!1;if(i.code===l.Canceled||i.code===l.Unknown||i.code===l.ResourceExhausted||i.code===l.Unavailable)return!0;if(fl(i)===ve.ErrUnauthenticated){if(this.authTokenInjector){const c=await this.authTokenInjector(Cr(i).reason);this.setAuthToken(c)}return!0}return fl(i)===ve.ErrTooManySubscribers?(Je.error(`[WD] c:"${this.getKey()}" err :`,i.rawMessage),!0):(fl(i)===ve.ErrTooManyAttachments||(fl(i)===ve.ErrClientNotActivated||fl(i)===ve.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(i){return new Promise((c,v)=>{this.taskQueue.push(()=>i().then(c).catch(v)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{Je.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function p0(h){return typeof h=="object"&&h!==null&&h.type==="Text"&&Array.isArray(h.nodes)}function _p(h){return typeof h=="object"&&h!==null&&h.type==="Tree"&&typeof h.root=="object"}function mc(h){return typeof h=="object"&&h!==null&&h.type==="Int"&&typeof h.value=="number"}function Yf(h){return typeof h=="object"&&h!==null&&h.type==="Long"&&typeof h.value=="number"}function gl(h){return typeof h=="object"&&h!==null&&h.type==="Date"&&typeof h.value=="string"}function g0(h){return typeof h=="object"&&h!==null&&h.type==="BinData"&&typeof h.value=="string"}function Hx(h){return typeof h=="object"&&h!==null&&h.type==="Counter"&&typeof h.value=="object"}function K1(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)&&!p0(h)&&!_p(h)&&!mc(h)&&!Yf(h)&&!gl(h)&&!g0(h)&&!Hx(h)}function Yx(h){try{const i=Wx(h),c=JSON.parse(i);return ml(c)}catch(i){throw new Ae(ve.ErrInvalidArgument,`Failed to parse YSON: ${i instanceof Error?i.message:String(i)}`)}}function Wx(h){let i=h;return i=i.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(c,v,E)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${v}","__yson_data":${E}}}`),i=i.replace(/Int\((-?\d+)\)/g,(c,v)=>`{"__yson_type":"Int","__yson_data":${v}}`),i=i.replace(/Long\((-?\d+)\)/g,(c,v)=>`{"__yson_type":"Long","__yson_data":${v}}`),i=i.replace(/Date\("([^"]*)"\)/g,(c,v)=>`{"__yson_type":"Date","__yson_data":"${v}"}`),i=i.replace(/BinData\("([^"]*)"\)/g,(c,v)=>`{"__yson_type":"BinData","__yson_data":"${v}"}`),i=i.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(c,v)=>`{"__yson_type":"Text","__yson_data":${v}}`),i=i.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(c,v)=>`{"__yson_type":"Tree","__yson_data":${v}}`),i}function ml(h){if(h===null||typeof h!="object")return h;if(h.__yson_type==="Int"&&typeof h.__yson_data=="number")return{type:"Int",value:h.__yson_data};if(h.__yson_type==="Long"&&typeof h.__yson_data=="number")return{type:"Long",value:h.__yson_data};if(h.__yson_type==="Date"&&typeof h.__yson_data=="string")return{type:"Date",value:h.__yson_data};if(h.__yson_type==="BinData"&&typeof h.__yson_data=="string")return{type:"BinData",value:h.__yson_data};if(h.__yson_type==="Counter"&&typeof h.__yson_data=="object"){const c=ml(h.__yson_data);if(typeof c=="object"&&c!==null&&"type"in c&&(c.type==="Int"||c.type==="Long"))return{type:"Counter",value:c};throw new Ae(ve.ErrInvalidArgument,"Counter must contain Int or Long")}if(h.__yson_type==="Text"&&Array.isArray(h.__yson_data))return{type:"Text",nodes:h.__yson_data.map(c=>Nn(c))};if(h.__yson_type==="Tree"&&typeof h.__yson_data=="object")return{type:"Tree",root:Ip(h.__yson_data)};if(Array.isArray(h))return h.map(c=>ml(c));const i={};for(const[c,v]of Object.entries(h))i[c]=ml(v);return i}function Nn(h){if(typeof h!="object"||h===null||typeof h.val!="string")throw new Ae(ve.ErrInvalidArgument,"invalid text node format");const i={val:h.val};return h.attrs&&typeof h.attrs=="object"&&(i.attrs=h.attrs),i}function Ip(h){if(typeof h!="object"||h===null||typeof h.type!="string")throw new Ae(ve.ErrInvalidArgument,"invalid tree node format");const i={type:h.type};return h.type==="text"&&typeof h.value=="string"?(i.value=h.value,i):(h.attrs&&typeof h.attrs=="object"&&(i.attrs=h.attrs),Array.isArray(h.children)&&(i.children=h.children.map(c=>Ip(c))),i)}function Rr(h){return h.nodes.map(i=>i.val).join("")}function X1(h){return Op(h.root)}function Op(h){const i=h.attrs?Object.entries(h.attrs).map(([v,E])=>` ${v}="${Dp(E)}"`).join(""):"";if(h.type==="text"&&h.value!==void 0)return`<${h.type}${i}>${Dp(h.value)}</${h.type}>`;if(!h.children||h.children.length===0)return`<${h.type}${i} />`;const c=h.children.map(v=>Op(v)).join("");return`<${h.type}${i}>${c}</${h.type}>`}function Dp(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Mp=Object.freeze(Object.defineProperty({__proto__:null,isBinData:g0,isCounter:Hx,isDate:gl,isInt:mc,isLong:Yf,isObject:K1,isText:p0,isTree:_p,parse:Yx,textToString:Rr,treeToXML:X1},Symbol.toStringTag,{value:"Module"}));Ei.Int,Ei.Long,typeof globalThis<"u"&&(globalThis.yorkie={Client:Np,Document:va,Primitive:Vn,Text:Gf,Counter:o0,Tree:Ep,Channel:Lo,ChannelEventType:Po,YSON:Mp,LogLevel:kr,setLogLevel:Bx,IntType:Ei.Int,LongType:Ei.Long});const vc={name:"@yorkie-js/react",version:"0.6.47"},Pp=a.createContext({client:void 0,loading:!0,error:void 0});function qx(h){const[i,c]=a.useState(void 0),[v,E]=a.useState(!0),[_,F]=a.useState(void 0),[U,W]=a.useState(!1);return a.useEffect(()=>{W(!0)},[]),a.useEffect(()=>{E(!0),F(void 0);async function te(){if(U)try{const ce=new Np(h);await ce.activate(),c(ce)}catch(ce){F(ce instanceof Error?ce:new Error("Failed to activate client"))}finally{E(!1)}}return te(),()=>{i!=null&&i.isActive()&&i.deactivate({keepalive:!0})}},[h.apiKey,h.rpcAddr,U]),{client:i,loading:v,error:_}}const Kx=({children:h,...i})=>{const c=a.useMemo(()=>({userAgent:vc.name+"/"+vc.version,...i}),[i.apiKey,i.rpcAddr]),{client:v,loading:E,error:_}=qx(c);return s.jsx(Pp.Provider,{value:{client:v,loading:E,error:_},children:h})},Xx=()=>{const h=a.useContext(Pp);if(!h)throw new Error("useYorkie must be used under YorkieProvider");return{client:h.client,loading:h.loading,error:h.error}};function m0(h){const i=new Set;let c=h;const v=()=>{i.forEach(W=>W(c))};return{subscribe:W=>(i.add(W),()=>i.delete(W)),getSnapshot:()=>c,setState:W=>{const te=c;c=typeof W=="function"?W(te):W,te!==c&&v()},destroy:()=>{i.clear()}}}const Zx=h=>m0(h);function Fo(h,i,c=Object.is){const v=a.useRef(i),E=a.useRef(c),_=a.useRef(void 0);v.current=i,E.current=c;const F=()=>{const U=h.getSnapshot(),W=v.current?v.current(U):U;return _.current!==void 0&&E.current(_.current,W)?_.current:(_.current=W,W)};return a.useSyncExternalStore(h.subscribe,F,F)}function bs(h){return h!=null&&typeof h[Symbol.iterator]=="function"}function v0(h){return"entries"in h&&typeof h.entries=="function"}function y0(h,i){const c=h instanceof Map?h:new Map(h.entries()),v=i instanceof Map?i:new Map(i.entries());if(c.size!==v.size)return!1;for(const[E,_]of c)if(!v.has(E)||!Object.is(_,v.get(E)))return!1;return!0}function Q1(h,i){const c=h[Symbol.iterator](),v=i[Symbol.iterator]();let E=c.next(),_=v.next();for(;!E.done&&!_.done;){if(!Object.is(E.value,_.value))return!1;E=c.next(),_=v.next()}return E.done===_.done}function eE(h,i){const c=Object.keys(h),v=Object.keys(i);if(c.length!==v.length)return!1;for(const E of c)if(!Object.prototype.hasOwnProperty.call(i,E)||!Object.is(h[E],i[E]))return!1;return!0}function Lp(h,i){if(Object.is(h,i))return!0;if(typeof h!="object"||h===null||typeof i!="object"||i===null||Object.getPrototypeOf(h)!==Object.getPrototypeOf(i))return!1;const c=bs(h),v=bs(i);return c!==v?!1:c&&v?v0(h)&&v0(i)?y0(h,i):Q1(h,i):eE(h,i)}function Jx(h,i,c,v,E,_,F,U){const W=a.useRef(E),te=a.useRef(_),[ce,Re]=a.useState(!1);a.useEffect(()=>{Re(!0)},[]),a.useEffect(()=>{if(c){U.setState(He=>({...He,loading:!1,error:c}));return}if(!h||i||!ce){U.setState(He=>({...He,loading:!0}));return}U.setState(He=>({...He,loading:!0,error:void 0}));const Be=new va(v,{enableDevtools:F}),Te=[];Te.push(Be.subscribe(()=>{U.setState(He=>({...He,root:Be.getRoot()}))})),Te.push(Be.subscribe("presence",()=>{U.setState(He=>({...He,presences:Be.getPresences()}))})),Te.push(Be.subscribe("connection",He=>{U.setState(ot=>({...ot,connection:He.value}))}));async function We(){try{await(h==null?void 0:h.attach(Be,{initialRoot:W.current,initialPresence:te.current}));const He=ot=>{try{Be.update(ot)}catch(wt){U.setState(fn=>({...fn,error:wt instanceof Error?wt:new Error("Failed to update document")}))}};U.setState(ot=>({...ot,doc:Be,root:Be.getRoot(),presences:Be.getPresences(),update:He}))}catch(He){U.setState(ot=>({...ot,error:He instanceof Error?He:new Error("Failed to attach document")}))}finally{U.setState(He=>({...He,loading:!1}))}}return We(),()=>{h&&h.has(v)&&h.detach(Be);for(const He of Te)He()}},[h,i,c,v,U,ce])}const fi=a.createContext(void 0),x0=({docKey:h,initialRoot:i={},initialPresence:c={},enableDevtools:v=!1,children:E})=>{const{client:_,loading:F,error:U}=Xx(),W=a.useRef(void 0);W.current||(W.current=Zx({doc:void 0,root:i,presences:[],connection:pl.Disconnected,update:()=>{},loading:!0,error:void 0}));const te=W.current;return Jx(_,F,U,h,i,c,v,te),s.jsx(fi.Provider,{value:te,children:E})};function Qx(){const h=a.useContext(fi);if(!h)throw new Error("useDocument must be used within a DocumentProvider");return Fo(h)}const eb=()=>(h,i=Lp)=>{const c=a.useContext(fi);if(!c)throw new Error("useDocument must be used within a DocumentProvider");return Fo(c,h,i)},Wf=()=>{const h=yc("useRoot");return{root:Fo(h,c=>c.root)}},$i=()=>{const h=yc("usePresences");return Fo(h,i=>i.presences)},tb=()=>{const h=yc("useConnection");return Fo(h,i=>i.connection)},yc=h=>{const i=a.useContext(fi);if(!i)throw new Error(`${h} must be used within a DocumentProvider`);return i};function Ss(h,i,c){const v=a.useRef(void 0);v.current||(v.current=Zx({doc:void 0,root:(c==null?void 0:c.initialRoot)??{},presences:[],connection:pl.Disconnected,update:()=>{},loading:!0,error:void 0}));const E=v.current,_=a.useMemo(()=>({apiKey:h,userAgent:vc.name+"/"+vc.version,...c}),[h,c]),{client:F,loading:U,error:W}=qx(_);Jx(F,U,W,i,(c==null?void 0:c.initialRoot)??{},(c==null?void 0:c.initialPresence)??{},(c==null?void 0:c.enableDevtools)??!1,E);const te=Fo(E);return{root:te.root,presences:te.presences,connection:te.connection,update:te.update,loading:te.loading,error:te.error}}function tE(h){return m0(h)}const nb=a.createContext(void 0);function xc(h,i,c,v,E,_){const F=a.useRef(void 0),[U,W]=a.useState(!1);a.useEffect(()=>{W(!0)},[]),a.useEffect(()=>{if(!U||i||c||!h){c&&_.setState(Re=>({...Re,error:c,loading:!1}));return}let te;async function ce(){if(!(!h||!h.isActive())){_.setState(Re=>({...Re,loading:!0,error:void 0}));try{const Re=new Lo(v);await h.attach(Re,{isRealtime:E}),F.current=Re,te=Re.subscribe(()=>{_.setState(Be=>({...Be,sessionCount:Re.getSessionCount()}))}),_.setState({channel:Re,sessionCount:Re.getSessionCount(),loading:!1,error:void 0})}catch(Re){_.setState(Be=>({...Be,loading:!1,error:Re instanceof Error?Re:new Error("Failed to attach channel")}))}}}return ce(),()=>{te&&te();async function Re(){if(F.current&&(h!=null&&h.isActive()))try{await h.detach(F.current)}catch(Be){console.error("Failed to detach channel:",Be)}}Re()}},[h,i,c,v,E,U])}const rb=({children:h,channelKey:i,isRealtime:c=!0})=>{const{client:v,loading:E,error:_}=Xx(),F=a.useRef(void 0);F.current||(F.current=tE({channel:void 0,sessionCount:0,loading:!0,error:void 0}));const U=F.current;return xc(v,E,_,i,c,U),s.jsx(nb.Provider,{value:U,children:h})},ib=h=>{const i=a.useContext(nb);if(!i)throw new Error(`${h} must be used within ChannelProvider`);return i},nE=()=>{const h=ib("useChannel"),i=Fo(h,E=>E.sessionCount),c=Fo(h,E=>E.loading),v=Fo(h,E=>E.error);return{sessionCount:i,loading:c,error:v}},rE=()=>{const h=ib("useChannelSessionCount");return Fo(h,i=>i.sessionCount)};r.ChannelProvider=rb,r.DocumentProvider=x0,r.YorkieProvider=Kx,r.createDocumentSelector=eb,r.shallowEqual=Lp,r.useChannel=nE,r.useChannelSessionCount=rE,r.useConnection=tb,r.useDocument=Qx,r.usePresences=$i,r.useRoot=Wf,r.useYorkieDoc=Ss,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})})}(ov,ov.exports)),ov.exports}var Ma=R$();const _u=()=>O.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]","aria-live":"polite",children:[O.jsx(W3,{className:"h-8 w-8 animate-spin text-primary"}),O.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading..."})]}),zE=768;function T$(){const[e,t]=P.useState(void 0);return P.useEffect(()=>{const n=window.matchMedia(`(max-width: ${zE-1}px)`),r=()=>{t(window.innerWidth<zE)};return n.addEventListener("change",r),t(window.innerWidth<zE),()=>n.removeEventListener("change",r)},[]),!!e}var N$="Separator",QT="horizontal",_$=["horizontal","vertical"],bL=P.forwardRef((e,t)=>{const{decorative:n,orientation:r=QT,...s}=e,a=I$(r)?r:QT,u=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return O.jsx(Wt.div,{"data-orientation":a,...u,...s,ref:t})});bL.displayName=N$;function I$(e){return _$.includes(e)}var O$=bL;function Gp({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return O.jsx(O$,{"data-slot":"separator-root",decorative:n,orientation:t,className:St("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function D$({...e}){return O.jsx(nP,{"data-slot":"sheet",...e})}function M$({...e}){return O.jsx(rP,{"data-slot":"sheet-portal",...e})}function P$({className:e,...t}){return O.jsx(iP,{"data-slot":"sheet-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function L$({className:e,children:t,side:n="right",...r}){return O.jsxs(M$,{children:[O.jsx(P$,{}),O.jsxs(oP,{"data-slot":"sheet-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,O.jsxs(lP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[O.jsx(Z3,{className:"size-4"}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function F$({className:e,...t}){return O.jsx("div",{"data-slot":"sheet-header",className:St("flex flex-col gap-1.5 p-4",e),...t})}function k$({className:e,...t}){return O.jsx(sP,{"data-slot":"sheet-title",className:St("text-foreground font-semibold",e),...t})}function B$({className:e,...t}){return O.jsx(aP,{"data-slot":"sheet-description",className:St("text-muted-foreground text-sm",e),...t})}var j$="VisuallyHidden",B2=P.forwardRef((e,t)=>O.jsx(Wt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));B2.displayName=j$;var z$=B2,[LS,fZ]=ka("Tooltip",[Cg]),FS=Cg(),SL="TooltipProvider",V$=700,pC="tooltip.open",[U$,j2]=LS(SL),EL=e=>{const{__scopeTooltip:t,delayDuration:n=V$,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,l=P.useRef(!0),u=P.useRef(!1),d=P.useRef(0);return P.useEffect(()=>{const g=d.current;return()=>window.clearTimeout(g)},[]),O.jsx(U$,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:P.useCallback(g=>{u.current=g},[]),disableHoverableContent:s,children:a})};EL.displayName=SL;var kS="Tooltip",[G$,Yv]=LS(kS),AL=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:l,delayDuration:u}=e,d=j2(kS,e.__scopeTooltip),g=FS(t),[p,m]=P.useState(null),x=_a(),b=P.useRef(0),A=l??d.disableHoverableContent,C=u??d.delayDuration,w=P.useRef(!1),[R=!1,I]=fh({prop:r,defaultProp:s,onChange:j=>{j?(d.onOpen(),document.dispatchEvent(new CustomEvent(pC))):d.onClose(),a==null||a(j)}}),N=P.useMemo(()=>R?w.current?"delayed-open":"instant-open":"closed",[R]),D=P.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w.current=!1,I(!0)},[I]),L=P.useCallback(()=>{window.clearTimeout(b.current),b.current=0,I(!1)},[I]),k=P.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,I(!0),b.current=0},C)},[C,I]);return P.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),O.jsx(C2,{...g,children:O.jsx(G$,{scope:t,contentId:x,open:R,stateAttribute:N,trigger:p,onTriggerChange:m,onTriggerEnter:P.useCallback(()=>{d.isOpenDelayedRef.current?k():D()},[d.isOpenDelayedRef,k,D]),onTriggerLeave:P.useCallback(()=>{A?L():(window.clearTimeout(b.current),b.current=0)},[L,A]),onOpen:D,onClose:L,disableHoverableContent:A,children:n})})};AL.displayName=kS;var gC="TooltipTrigger",wL=P.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Yv(gC,n),a=j2(gC,n),l=FS(n),u=P.useRef(null),d=Sn(t,u,s.onTriggerChange),g=P.useRef(!1),p=P.useRef(!1),m=P.useCallback(()=>g.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),O.jsx(R2,{asChild:!0,...l,children:O.jsx(Wt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:dt(e.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{s.open&&s.onClose(),g.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:dt(e.onFocus,()=>{g.current||s.onOpen()}),onBlur:dt(e.onBlur,s.onClose),onClick:dt(e.onClick,s.onClose)})})});wL.displayName=gC;var z2="TooltipPortal",[$$,H$]=LS(z2,{forceMount:void 0}),CL=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,a=Yv(z2,t);return O.jsx($$,{scope:t,forceMount:n,children:O.jsx(Ba,{present:n||a.open,children:O.jsx(kv,{asChild:!0,container:s,children:r})})})};CL.displayName=z2;var dg="TooltipContent",RL=P.forwardRef((e,t)=>{const n=H$(dg,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,l=Yv(dg,e.__scopeTooltip);return O.jsx(Ba,{present:r||l.open,children:l.disableHoverableContent?O.jsx(TL,{side:s,...a,ref:t}):O.jsx(Y$,{side:s,...a,ref:t})})}),Y$=P.forwardRef((e,t)=>{const n=Yv(dg,e.__scopeTooltip),r=j2(dg,e.__scopeTooltip),s=P.useRef(null),a=Sn(t,s),[l,u]=P.useState(null),{trigger:d,onClose:g}=n,p=s.current,{onPointerInTransitChange:m}=r,x=P.useCallback(()=>{u(null),m(!1)},[m]),b=P.useCallback((A,C)=>{const w=A.currentTarget,R={x:A.clientX,y:A.clientY},I=X$(R,w.getBoundingClientRect()),N=Z$(R,I),D=J$(C.getBoundingClientRect()),L=e8([...N,...D]);u(L),m(!0)},[m]);return P.useEffect(()=>()=>x(),[x]),P.useEffect(()=>{if(d&&p){const A=w=>b(w,p),C=w=>b(w,d);return d.addEventListener("pointerleave",A),p.addEventListener("pointerleave",C),()=>{d.removeEventListener("pointerleave",A),p.removeEventListener("pointerleave",C)}}},[d,p,b,x]),P.useEffect(()=>{if(l){const A=C=>{const w=C.target,R={x:C.clientX,y:C.clientY},I=(d==null?void 0:d.contains(w))||(p==null?void 0:p.contains(w)),N=!Q$(R,l);I?x():N&&(x(),g())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[d,p,l,g,x]),O.jsx(TL,{...e,ref:a})}),[W$,q$]=LS(kS,{isInside:!1}),K$=SV("TooltipContent"),TL=P.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=e,d=Yv(dg,n),g=FS(n),{onClose:p}=d;return P.useEffect(()=>(document.addEventListener(pC,p),()=>document.removeEventListener(pC,p)),[p]),P.useEffect(()=>{if(d.trigger){const m=x=>{const b=x.target;b!=null&&b.contains(d.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,p]),O.jsx(Fv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:O.jsxs(T2,{"data-state":d.stateAttribute,...g,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[O.jsx(K$,{children:r}),O.jsx(W$,{scope:n,isInside:!0,children:O.jsx(z$,{id:d.contentId,role:"tooltip",children:s||r})})]})})});RL.displayName=dg;var NL="TooltipArrow",_L=P.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=FS(n);return q$(NL,n).isInside?null:O.jsx(N2,{...s,...r,ref:t})});_L.displayName=NL;function X$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Z$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function J$(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function Q$(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const u=t[a].x,d=t[a].y,g=t[l].x,p=t[l].y;d>r!=p>r&&n<(g-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function e8(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),t8(t)}function t8(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var n8=EL,r8=AL,i8=wL,o8=CL,s8=RL,a8=_L;function V2({delayDuration:e=0,...t}){return O.jsx(n8,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Kr({...e}){return O.jsx(V2,{children:O.jsx(r8,{"data-slot":"tooltip",...e})})}function Xr({...e}){return O.jsx(i8,{"data-slot":"tooltip-trigger",...e})}function Zr({className:e,sideOffset:t=0,children:n,...r}){return O.jsx(o8,{children:O.jsxs(s8,{"data-slot":"tooltip-content",sideOffset:t,className:St("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,O.jsx(a8,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const l8="sidebar_state",u8=60*60*24*7,c8="16rem",f8="18rem",d8="3rem",h8="b",IL=P.createContext(null);function BS(){const e=P.useContext(IL);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function OL({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:a,...l}){const u=T$(),[d,g]=P.useState(!1),[p,m]=P.useState(e),x=t??p,b=P.useCallback(R=>{const I=typeof R=="function"?R(x):R;n?n(I):m(I),document.cookie=`${l8}=${I}; path=/; max-age=${u8}`},[n,x]),A=P.useCallback(()=>u?g(R=>!R):b(R=>!R),[u,b,g]);P.useEffect(()=>{const R=I=>{I.key===h8&&(I.metaKey||I.ctrlKey)&&(I.preventDefault(),A())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[A]);const C=x?"expanded":"collapsed",w=P.useMemo(()=>({state:C,open:x,setOpen:b,isMobile:u,openMobile:d,setOpenMobile:g,toggleSidebar:A}),[C,x,b,u,d,g,A]);return O.jsx(IL.Provider,{value:w,children:O.jsx(V2,{delayDuration:0,children:O.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":c8,"--sidebar-width-icon":d8,...s},className:St("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...l,children:a})})})}function p8({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...a}){const{isMobile:l,state:u,openMobile:d,setOpenMobile:g}=BS();return n==="none"?O.jsx("div",{"data-slot":"sidebar",className:St("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...a,children:s}):l?O.jsx(D$,{open:d,onOpenChange:g,...a,children:O.jsxs(L$,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":f8},side:e,children:[O.jsxs(F$,{className:"sr-only",children:[O.jsx(k$,{children:"Sidebar"}),O.jsx(B$,{children:"Displays the mobile sidebar."})]}),O.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):O.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[O.jsx("div",{"data-slot":"sidebar-gap",className:St("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),O.jsx("div",{"data-slot":"sidebar-container",className:St("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:O.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function g8({className:e,onClick:t,...n}){const{toggleSidebar:r}=BS();return O.jsxs(er,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:St("size-7",e),onClick:s=>{t==null||t(s),r()},...n,children:[O.jsx(M5,{}),O.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function DL({className:e,...t}){return O.jsx("main",{"data-slot":"sidebar-inset",className:St("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function m8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:St("flex flex-col gap-2 p-2",e),...t})}function v8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:St("flex flex-col gap-2 p-2",e),...t})}function y8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:St("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function ML({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:St("relative flex w-full min-w-0 flex-col p-2",e),...t})}function PL({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:St("w-full text-sm",e),...t})}function jS({className:e,...t}){return O.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:St("flex w-full min-w-0 flex-col gap-1",e),...t})}function zS({className:e,...t}){return O.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:St("group/menu-item relative",e),...t})}const x8=wS("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function VS({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:a,...l}){const u=e?t2:"button",{isMobile:d,state:g}=BS(),p=O.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:St(x8({variant:n,size:r}),a),...l});return s?(typeof s=="string"&&(s={children:s}),O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:p}),O.jsx(Zr,{side:"right",align:"center",hidden:g!=="collapsed"||d,...s})]})):p}function b8({items:e}){const t=La(),n=P.useCallback(r=>{const s=t.pathname;return s===r||s.startsWith(r+"/")},[t.pathname]);return O.jsx(ML,{children:O.jsx(PL,{className:"flex flex-col gap-2",children:O.jsx(jS,{children:e.map(r=>O.jsx(zS,{children:O.jsx(VS,{tooltip:r.title,isActive:n(r.url),children:O.jsxs(xg,{to:r.url,className:"flex items-center gap-2",children:[r.icon&&O.jsx(r.icon,{}),O.jsx("span",{children:r.title})]})})},r.title))})})})}function S8({items:e,...t}){return O.jsx(ML,{...t,children:O.jsx(PL,{children:O.jsx(jS,{children:e.map(n=>O.jsx(zS,{children:O.jsx(VS,{asChild:!0,children:O.jsxs(xg,{to:n.url,className:"flex items-center gap-2",children:[n.icon&&O.jsx(n.icon,{}),O.jsx("span",{children:n.title})]})})},n.title))})})})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var E8={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=(e,t,n,r)=>{const s=P.forwardRef(({color:a="currentColor",size:l=24,stroke:u=2,title:d,className:g,children:p,...m},x)=>P.createElement("svg",{ref:x,...E8[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,g].join(" "),strokeWidth:u,stroke:a,...m},[d&&P.createElement("title",{key:"svg-title"},d),...r.map(([b,A])=>P.createElement(b,A)),...Array.isArray(p)?p:[p]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var LL=mn("outline","abc","IconAbc",[["path",{d:"M3 16v-6a2 2 0 1 1 4 0v6",key:"svg-0"}],["path",{d:"M3 13h4",key:"svg-1"}],["path",{d:"M10 8v6a2 2 0 1 0 4 0v-1a2 2 0 1 0 -4 0v1",key:"svg-2"}],["path",{d:"M20.732 12a2 2 0 0 0 -3.732 1v1a2 2 0 0 0 3.726 1.01",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var FL=mn("outline","align-box-bottom-center","IconAlignBoxBottomCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 15v2",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M15 13v4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kL=mn("outline","align-box-center-middle","IconAlignBoxCenterMiddle",[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M11 15h2",key:"svg-1"}],["path",{d:"M9 12h6",key:"svg-2"}],["path",{d:"M10 9h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BL=mn("outline","align-box-top-center","IconAlignBoxTopCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 9v-2",key:"svg-1"}],["path",{d:"M12 13v-6",key:"svg-2"}],["path",{d:"M15 11v-4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jL=mn("outline","align-center","IconAlignCenter",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M8 12l8 0",key:"svg-1"}],["path",{d:"M6 18l12 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zL=mn("outline","align-left","IconAlignLeft",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l10 0",key:"svg-1"}],["path",{d:"M4 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VL=mn("outline","align-right","IconAlignRight",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M10 12l10 0",key:"svg-1"}],["path",{d:"M6 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var A8=mn("outline","arrow-back-up","IconArrowBackUp",[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var w8=mn("outline","arrow-forward-up","IconArrowForwardUp",[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var C8=mn("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VE=mn("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var R8=mn("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mC=mn("outline","currency-dollar","IconCurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wv=mn("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eN=mn("outline","decimal","IconDecimal",[["path",{d:"M17 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-0"}],["path",{d:"M10 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-1"}],["path",{d:"M5 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var T8=mn("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tN=mn("outline","droplet-off","IconDropletOff",[["path",{d:"M18.963 14.938a6.54 6.54 0 0 0 -.899 -4.06l-4.89 -7.26c-.42 -.626 -1.287 -.804 -1.936 -.398a1.376 1.376 0 0 0 -.41 .397l-1.282 1.9m-1.625 2.415l-1.986 2.946c-1.695 2.837 -1.035 6.44 1.567 8.545c2.602 2.105 6.395 2.105 8.996 0a6.83 6.83 0 0 0 1.376 -1.499",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var UL=mn("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GL=mn("outline","hash","IconHash",[["path",{d:"M5 9l14 0",key:"svg-0"}],["path",{d:"M5 15l14 0",key:"svg-1"}],["path",{d:"M11 4l-4 16",key:"svg-2"}],["path",{d:"M17 4l-4 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var N8=mn("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _8=mn("outline","logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var I8=mn("outline","paint","IconPaint",[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M19 6h1a2 2 0 0 1 2 2a5 5 0 0 1 -5 5l-5 0v2",key:"svg-1"}],["path",{d:"M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vC=mn("outline","percentage","IconPercentage",[["path",{d:"M17 17m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 7m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var O8=mn("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $L=mn("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HL=mn("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var D8=mn("outline","share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var M8=mn("outline","strikethrough","IconStrikethrough",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var P8=mn("outline","table-alias","IconTableAlias",[["path",{d:"M3 12v-7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-7",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v10",key:"svg-2"}],["path",{d:"M2 17a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-4z",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YL=mn("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var L8=mn("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var F8=mn("outline","typography","IconTypography",[["path",{d:"M4 20l3 0",key:"svg-0"}],["path",{d:"M14 20l7 0",key:"svg-1"}],["path",{d:"M6.9 15l6.9 0",key:"svg-2"}],["path",{d:"M10.2 6.3l5.8 13.7",key:"svg-3"}],["path",{d:"M5 20l6 -16l2 0l7 16",key:"svg-4"}]]),U2="Avatar",[k8,dZ]=ka(U2),[B8,WL]=k8(U2),qL=P.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=P.useState("idle");return O.jsx(B8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:O.jsx(Wt.span,{...r,ref:t})})});qL.displayName=U2;var KL="AvatarImage",XL=P.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,l=WL(KL,n),u=j8(r,a),d=vo(g=>{s(g),l.onImageLoadingStatusChange(g)});return Dr(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?O.jsx(Wt.img,{...a,ref:t,src:r}):null});XL.displayName=KL;var ZL="AvatarFallback",JL=P.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=WL(ZL,n),[l,u]=P.useState(r===void 0);return P.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&a.imageLoadingStatus!=="loaded"?O.jsx(Wt.span,{...s,ref:t}):null});JL.displayName=ZL;function nN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function j8(e,{referrerPolicy:t,crossOrigin:n}){const r=V8(),s=P.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[l,u]=P.useState(()=>nN(a,e));return Dr(()=>{u(nN(a,e))},[a,e]),Dr(()=>{const d=m=>()=>{u(m)};if(!a)return;const g=d("loaded"),p=d("error");return a.addEventListener("load",g),a.addEventListener("error",p),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",g),a.removeEventListener("error",p)}},[a,n,t]),l}function z8(){return()=>{}}function V8(){return P.useSyncExternalStore(z8,()=>!0,()=>!1)}var U8=qL,G8=XL,$8=JL;function cS({className:e,...t}){return O.jsx(U8,{"data-slot":"avatar",className:St("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function yC({className:e,...t}){return O.jsx(G8,{"data-slot":"avatar-image",className:St("aspect-square size-full",e),...t})}function fS({className:e,...t}){return O.jsx($8,{"data-slot":"avatar-fallback",className:St("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function H8({user:e}){const{isMobile:t}=BS(),n=async()=>{await fM()};return O.jsx(jS,{children:O.jsx(zS,{children:O.jsxs(Ca,{children:[O.jsx(Ra,{asChild:!0,children:O.jsxs(VS,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground cursor-pointer",children:[O.jsxs(cS,{className:"h-8 w-8 rounded-lg",children:[O.jsx(yC,{src:e.photo,alt:e.username}),O.jsx(fS,{className:"rounded-lg",children:"CN"})]}),O.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[O.jsx("span",{className:"truncate font-medium",children:e.username}),O.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]}),O.jsx(T8,{className:"ml-auto size-4"})]})}),O.jsxs(Ta,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[O.jsx(b$,{className:"p-0 font-normal",children:O.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[O.jsxs(cS,{className:"h-8 w-8 rounded-lg",children:[O.jsx(yC,{src:e.photo,alt:e.username}),O.jsx(fS,{className:"rounded-lg",children:"CN"})]}),O.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[O.jsx("span",{className:"truncate font-medium",children:e.username}),O.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]})]})}),O.jsx(k2,{}),O.jsxs(yr,{onClick:n,className:"cursor-pointer",children:[O.jsx(_8,{}),"Log out"]})]})]})})})}function QL({items:e,...t}){const{data:n,isLoading:r}=Fa({queryKey:["me"],queryFn:gh,retry:!1});return r?null:O.jsxs(p8,{collapsible:"offcanvas",...t,children:[O.jsx(m8,{children:O.jsx(jS,{children:O.jsx(zS,{children:O.jsx(VS,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5",children:O.jsxs(xg,{to:"/",children:[O.jsx(Y3,{className:"!size-5"}),O.jsx("span",{className:"text-base font-semibold",children:"Wafflebase"})]})})})})}),O.jsxs(y8,{children:[O.jsx(b8,{items:e.main}),O.jsx(S8,{items:e.secondary,className:"mt-auto"})]}),O.jsx(v8,{children:O.jsx(H8,{user:n})})]})}function eF({title:e,editable:t=!1,onRename:n,children:r}){const[s,a]=P.useState(!1),[l,u]=P.useState(e),d=P.useRef(null);P.useEffect(()=>{u(e)},[e]),P.useEffect(()=>{s&&d.current&&(d.current.focus(),d.current.select())},[s]);const g=P.useCallback(()=>{const p=l.trim();p&&p!==e&&n&&n(p),a(!1)},[l,e,n]);return O.jsx("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:O.jsxs("div",{className:"flex w-full items-center justify-between gap-1 px-4 lg:gap-2 lg:px-6 min-h-[3.5rem]",children:[O.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[O.jsx(g8,{className:"-ml-1"}),O.jsx(Gp,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),s?O.jsx("input",{ref:d,className:"text-base font-medium bg-transparent border-b border-primary outline-none px-1 min-w-[120px]",value:l,onChange:p=>u(p.target.value),onBlur:g,onKeyDown:p=>{p.key==="Enter"&&g(),p.key==="Escape"&&(u(e),a(!1))}}):O.jsx("h1",{className:`text-base font-medium ${t?"cursor-pointer hover:bg-muted/50 px-1 rounded transition-colors":""}`,onClick:()=>{t&&a(!0)},title:t?"Click to rename":void 0,children:e})]}),O.jsx("div",{className:"flex items-center min-w-0",children:r})]})})}function Y8({className:e}){const{data:t}=Fa({queryKey:["me"],queryFn:gh,retry:!1}),r=Ma.usePresences().reduce((a,l)=>{const u=l.presence.username;return a.find(d=>d.presence.username===u)||a.push(l),a},[]),s=r.length;return O.jsx(V2,{children:O.jsx("div",{className:`flex items-center gap-2 min-h-[2.5rem] ${e}`,children:s>0?O.jsx(O.Fragment,{children:O.jsxs("div",{className:"flex items-center -space-x-2",children:[r.slice(0,4).map(a=>{var g,p;const l=(g=a.presence)==null?void 0:g.username,u=(p=a.presence)==null?void 0:p.photo,d=l===(t==null?void 0:t.username);return l?O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsxs("div",{className:"relative",children:[O.jsxs(cS,{className:"h-8 w-8 border-2 border-background",children:[u&&O.jsx(yC,{src:u,alt:l}),O.jsx(fS,{className:"text-xs",children:(l==null?void 0:l.slice(0,2).toUpperCase())||"??"})]}),O.jsx("div",{className:"absolute -bottom-1 -right-1",children:O.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 border-2 border-background"})})]})}),O.jsx(Zr,{children:O.jsxs("p",{children:[l||"Anonymous",d?" (You)":""]})})]},a.clientID):null}).filter(Boolean),s>4&&O.jsx(cS,{className:"w-8 border-2 border-background",children:O.jsxs(fS,{className:"text-xs bg-muted",children:["+",s-4]})})]})}):O.jsx("div",{className:"w-32 opacity-0"})})})}function rN(e,[t,n]){return Math.min(n,Math.max(t,e))}function tF(e){const t=P.useRef({value:e,previous:e});return P.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var W8=[" ","Enter","ArrowUp","ArrowDown"],q8=[" ","Enter"],qv="Select",[US,GS,K8]=p2(qv),[Rg,hZ]=ka(qv,[K8,Cg]),$S=Cg(),[X8,ef]=Rg(qv),[Z8,J8]=Rg(qv),nF=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:l,defaultValue:u,onValueChange:d,dir:g,name:p,autoComplete:m,disabled:x,required:b,form:A}=e,C=$S(t),[w,R]=P.useState(null),[I,N]=P.useState(null),[D,L]=P.useState(!1),k=g2(g),[j=!1,B]=fh({prop:r,defaultProp:s,onChange:a}),[$,K]=fh({prop:l,defaultProp:u,onChange:d}),ne=P.useRef(null),re=w?A||!!w.closest("form"):!0,[Se,Me]=P.useState(new Set),Oe=Array.from(Se).map(ie=>ie.props.value).join(";");return O.jsx(C2,{...C,children:O.jsxs(X8,{required:b,scope:t,trigger:w,onTriggerChange:R,valueNode:I,onValueNodeChange:N,valueNodeHasChildren:D,onValueNodeHasChildrenChange:L,contentId:_a(),value:$,onValueChange:K,open:j,onOpenChange:B,dir:k,triggerPointerDownPosRef:ne,disabled:x,children:[O.jsx(US.Provider,{scope:t,children:O.jsx(Z8,{scope:e.__scopeSelect,onNativeOptionAdd:P.useCallback(ie=>{Me(Ee=>new Set(Ee).add(ie))},[]),onNativeOptionRemove:P.useCallback(ie=>{Me(Ee=>{const de=new Set(Ee);return de.delete(ie),de})},[]),children:n})}),re?O.jsxs(CF,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:m,value:$,onChange:ie=>K(ie.target.value),disabled:x,form:A,children:[$===void 0?O.jsx("option",{value:""}):null,Array.from(Se)]},Oe):null]})})};nF.displayName=qv;var rF="SelectTrigger",iF=P.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=$S(n),l=ef(rF,n),u=l.disabled||r,d=Sn(t,l.onTriggerChange),g=GS(n),p=P.useRef("touch"),[m,x,b]=RF(C=>{const w=g().filter(N=>!N.disabled),R=w.find(N=>N.value===l.value),I=TF(w,C,R);I!==void 0&&l.onValueChange(I.value)}),A=C=>{u||(l.onOpenChange(!0),b()),C&&(l.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return O.jsx(R2,{asChild:!0,...a,children:O.jsx(Wt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":wF(l.value)?"":void 0,...s,ref:d,onClick:dt(s.onClick,C=>{C.currentTarget.focus(),p.current!=="mouse"&&A(C)}),onPointerDown:dt(s.onPointerDown,C=>{p.current=C.pointerType;const w=C.target;w.hasPointerCapture(C.pointerId)&&w.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(A(C),C.preventDefault())}),onKeyDown:dt(s.onKeyDown,C=>{const w=m.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&x(C.key),!(w&&C.key===" ")&&W8.includes(C.key)&&(A(),C.preventDefault())})})})});iF.displayName=rF;var oF="SelectValue",sF=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:l="",...u}=e,d=ef(oF,n),{onValueNodeHasChildrenChange:g}=d,p=a!==void 0,m=Sn(t,d.onValueNodeChange);return Dr(()=>{g(p)},[g,p]),O.jsx(Wt.span,{...u,ref:m,style:{pointerEvents:"none"},children:wF(d.value)?O.jsx(O.Fragment,{children:l}):a})});sF.displayName=oF;var Q8="SelectIcon",aF=P.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return O.jsx(Wt.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});aF.displayName=Q8;var eH="SelectPortal",lF=e=>O.jsx(kv,{asChild:!0,...e});lF.displayName=eH;var ph="SelectContent",uF=P.forwardRef((e,t)=>{const n=ef(ph,e.__scopeSelect),[r,s]=P.useState();if(Dr(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Na.createPortal(O.jsx(cF,{scope:e.__scopeSelect,children:O.jsx(US.Slot,{scope:e.__scopeSelect,children:O.jsx("div",{children:e.children})})}),a):null}return O.jsx(fF,{...e,ref:t})});uF.displayName=ph;var ws=10,[cF,tf]=Rg(ph),tH="SelectContentImpl",nH=Wc("SelectContent.RemoveScroll"),fF=P.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:d,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:A,hideWhenDetached:C,avoidCollisions:w,...R}=e,I=ef(ph,n),[N,D]=P.useState(null),[L,k]=P.useState(null),j=Sn(t,Q=>D(Q)),[B,$]=P.useState(null),[K,ne]=P.useState(null),re=GS(n),[Se,Me]=P.useState(!1),Oe=P.useRef(!1);P.useEffect(()=>{if(N)return u2(N)},[N]),l2();const ie=P.useCallback(Q=>{const[Z,...J]=re().map(xe=>xe.ref.current),[se]=J.slice(-1),ye=document.activeElement;for(const xe of Q)if(xe===ye||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===Z&&L&&(L.scrollTop=0),xe===se&&L&&(L.scrollTop=L.scrollHeight),xe==null||xe.focus(),document.activeElement!==ye))return},[re,L]),Ee=P.useCallback(()=>ie([B,N]),[ie,B,N]);P.useEffect(()=>{Se&&Ee()},[Se,Ee]);const{onOpenChange:de,triggerPointerDownPosRef:ue}=I;P.useEffect(()=>{if(N){let Q={x:0,y:0};const Z=se=>{var ye,xe;Q={x:Math.abs(Math.round(se.pageX)-(((ye=ue.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(se.pageY)-(((xe=ue.current)==null?void 0:xe.y)??0))}},J=se=>{Q.x<=10&&Q.y<=10?se.preventDefault():N.contains(se.target)||de(!1),document.removeEventListener("pointermove",Z),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",J,{capture:!0})}}},[N,de,ue]),P.useEffect(()=>{const Q=()=>de(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[de]);const[X,oe]=RF(Q=>{const Z=re().filter(ye=>!ye.disabled),J=Z.find(ye=>ye.ref.current===document.activeElement),se=TF(Z,Q,J);se&&setTimeout(()=>se.ref.current.focus())}),he=P.useCallback((Q,Z,J)=>{const se=!Oe.current&&!J;(I.value!==void 0&&I.value===Z||se)&&($(Q),se&&(Oe.current=!0))},[I.value]),z=P.useCallback(()=>N==null?void 0:N.focus(),[N]),V=P.useCallback((Q,Z,J)=>{const se=!Oe.current&&!J;(I.value!==void 0&&I.value===Z||se)&&ne(Q)},[I.value]),G=r==="popper"?xC:dF,Y=G===xC?{side:u,sideOffset:d,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:A,hideWhenDetached:C,avoidCollisions:w}:{};return O.jsx(cF,{scope:n,content:N,viewport:L,onViewportChange:k,itemRefCallback:he,selectedItem:B,onItemLeave:z,itemTextRefCallback:V,focusSelectedItem:Ee,selectedItemText:K,position:r,isPositioned:Se,searchRef:X,children:O.jsx(NS,{as:nH,allowPinchZoom:!0,children:O.jsx(RS,{asChild:!0,trapped:I.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:dt(s,Q=>{var Z;(Z=I.trigger)==null||Z.focus({preventScroll:!0}),Q.preventDefault()}),children:O.jsx(Fv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:O.jsx(G,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:Q=>Q.preventDefault(),...R,...Y,onPlaced:()=>Me(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:dt(R.onKeyDown,Q=>{const Z=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!Z&&Q.key.length===1&&oe(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let se=re().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ye=Q.target,xe=se.indexOf(ye);se=se.slice(xe+1)}setTimeout(()=>ie(se)),Q.preventDefault()}})})})})})})});fF.displayName=tH;var rH="SelectItemAlignedPosition",dF=P.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=ef(ph,n),l=tf(ph,n),[u,d]=P.useState(null),[g,p]=P.useState(null),m=Sn(t,j=>p(j)),x=GS(n),b=P.useRef(!1),A=P.useRef(!0),{viewport:C,selectedItem:w,selectedItemText:R,focusSelectedItem:I}=l,N=P.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&g&&C&&w&&R){const j=a.trigger.getBoundingClientRect(),B=g.getBoundingClientRect(),$=a.valueNode.getBoundingClientRect(),K=R.getBoundingClientRect();if(a.dir!=="rtl"){const ye=K.left-B.left,xe=$.left-ye,ae=j.left-xe,le=j.width+ae,we=Math.max(le,B.width),Ie=window.innerWidth-ws,je=rN(xe,[ws,Math.max(ws,Ie-we)]);u.style.minWidth=le+"px",u.style.left=je+"px"}else{const ye=B.right-K.right,xe=window.innerWidth-$.right-ye,ae=window.innerWidth-j.right-xe,le=j.width+ae,we=Math.max(le,B.width),Ie=window.innerWidth-ws,je=rN(xe,[ws,Math.max(ws,Ie-we)]);u.style.minWidth=le+"px",u.style.right=je+"px"}const ne=x(),re=window.innerHeight-ws*2,Se=C.scrollHeight,Me=window.getComputedStyle(g),Oe=parseInt(Me.borderTopWidth,10),ie=parseInt(Me.paddingTop,10),Ee=parseInt(Me.borderBottomWidth,10),de=parseInt(Me.paddingBottom,10),ue=Oe+ie+Se+de+Ee,X=Math.min(w.offsetHeight*5,ue),oe=window.getComputedStyle(C),he=parseInt(oe.paddingTop,10),z=parseInt(oe.paddingBottom,10),V=j.top+j.height/2-ws,G=re-V,Y=w.offsetHeight/2,Q=w.offsetTop+Y,Z=Oe+ie+Q,J=ue-Z;if(Z<=V){const ye=ne.length>0&&w===ne[ne.length-1].ref.current;u.style.bottom="0px";const xe=g.clientHeight-C.offsetTop-C.offsetHeight,ae=Math.max(G,Y+(ye?z:0)+xe+Ee),le=Z+ae;u.style.height=le+"px"}else{const ye=ne.length>0&&w===ne[0].ref.current;u.style.top="0px";const ae=Math.max(V,Oe+C.offsetTop+(ye?he:0)+Y)+J;u.style.height=ae+"px",C.scrollTop=Z-V+C.offsetTop}u.style.margin=`${ws}px 0`,u.style.minHeight=X+"px",u.style.maxHeight=re+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[x,a.trigger,a.valueNode,u,g,C,w,R,a.dir,r]);Dr(()=>N(),[N]);const[D,L]=P.useState();Dr(()=>{g&&L(window.getComputedStyle(g).zIndex)},[g]);const k=P.useCallback(j=>{j&&A.current===!0&&(N(),I==null||I(),A.current=!1)},[N,I]);return O.jsx(oH,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:k,children:O.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:O.jsx(Wt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});dF.displayName=rH;var iH="SelectPopperPosition",xC=P.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ws,...a}=e,l=$S(n);return O.jsx(T2,{...l,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xC.displayName=iH;var[oH,G2]=Rg(ph,{}),bC="SelectViewport",hF=P.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=tf(bC,n),l=G2(bC,n),u=Sn(t,a.onViewportChange),d=P.useRef(0);return O.jsxs(O.Fragment,{children:[O.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),O.jsx(US.Slot,{scope:n,children:O.jsx(Wt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:dt(s.onScroll,g=>{const p=g.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&m){const b=Math.abs(d.current-p.scrollTop);if(b>0){const A=window.innerHeight-ws*2,C=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),R=Math.max(C,w);if(R<A){const I=R+b,N=Math.min(A,I),D=I-N;m.style.height=N+"px",m.style.bottom==="0px"&&(p.scrollTop=D>0?D:0,m.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});hF.displayName=bC;var pF="SelectGroup",[sH,aH]=Rg(pF),lH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=_a();return O.jsx(sH,{scope:n,id:s,children:O.jsx(Wt.div,{role:"group","aria-labelledby":s,...r,ref:t})})});lH.displayName=pF;var gF="SelectLabel",uH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=aH(gF,n);return O.jsx(Wt.div,{id:s.id,...r,ref:t})});uH.displayName=gF;var dS="SelectItem",[cH,mF]=Rg(dS),vF=P.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...l}=e,u=ef(dS,n),d=tf(dS,n),g=u.value===r,[p,m]=P.useState(a??""),[x,b]=P.useState(!1),A=Sn(t,I=>{var N;return(N=d.itemRefCallback)==null?void 0:N.call(d,I,r,s)}),C=_a(),w=P.useRef("touch"),R=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return O.jsx(cH,{scope:n,value:r,disabled:s,textId:C,isSelected:g,onItemTextChange:P.useCallback(I=>{m(N=>N||((I==null?void 0:I.textContent)??"").trim())},[]),children:O.jsx(US.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:O.jsx(Wt.div,{role:"option","aria-labelledby":C,"data-highlighted":x?"":void 0,"aria-selected":g&&x,"data-state":g?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:A,onFocus:dt(l.onFocus,()=>b(!0)),onBlur:dt(l.onBlur,()=>b(!1)),onClick:dt(l.onClick,()=>{w.current!=="mouse"&&R()}),onPointerUp:dt(l.onPointerUp,()=>{w.current==="mouse"&&R()}),onPointerDown:dt(l.onPointerDown,I=>{w.current=I.pointerType}),onPointerMove:dt(l.onPointerMove,I=>{var N;w.current=I.pointerType,s?(N=d.onItemLeave)==null||N.call(d):w.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(l.onPointerLeave,I=>{var N;I.currentTarget===document.activeElement&&((N=d.onItemLeave)==null||N.call(d))}),onKeyDown:dt(l.onKeyDown,I=>{var D;((D=d.searchRef)==null?void 0:D.current)!==""&&I.key===" "||(q8.includes(I.key)&&R(),I.key===" "&&I.preventDefault())})})})})});vF.displayName=dS;var sv="SelectItemText",yF=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,l=ef(sv,n),u=tf(sv,n),d=mF(sv,n),g=J8(sv,n),[p,m]=P.useState(null),x=Sn(t,R=>m(R),d.onItemTextChange,R=>{var I;return(I=u.itemTextRefCallback)==null?void 0:I.call(u,R,d.value,d.disabled)}),b=p==null?void 0:p.textContent,A=P.useMemo(()=>O.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:C,onNativeOptionRemove:w}=g;return Dr(()=>(C(A),()=>w(A)),[C,w,A]),O.jsxs(O.Fragment,{children:[O.jsx(Wt.span,{id:d.textId,...a,ref:x}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Na.createPortal(a.children,l.valueNode):null]})});yF.displayName=sv;var xF="SelectItemIndicator",bF=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return mF(xF,n).isSelected?O.jsx(Wt.span,{"aria-hidden":!0,...r,ref:t}):null});bF.displayName=xF;var SC="SelectScrollUpButton",SF=P.forwardRef((e,t)=>{const n=tf(SC,e.__scopeSelect),r=G2(SC,e.__scopeSelect),[s,a]=P.useState(!1),l=Sn(t,r.onScrollButtonChange);return Dr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const g=d.scrollTop>0;a(g)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?O.jsx(AF,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});SF.displayName=SC;var EC="SelectScrollDownButton",EF=P.forwardRef((e,t)=>{const n=tf(EC,e.__scopeSelect),r=G2(EC,e.__scopeSelect),[s,a]=P.useState(!1),l=Sn(t,r.onScrollButtonChange);return Dr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const g=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<g;a(p)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?O.jsx(AF,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});EF.displayName=EC;var AF=P.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=tf("SelectScrollButton",n),l=P.useRef(null),u=GS(n),d=P.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return P.useEffect(()=>()=>d(),[d]),Dr(()=>{var p;const g=u().find(m=>m.ref.current===document.activeElement);(p=g==null?void 0:g.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),O.jsx(Wt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:dt(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:dt(s.onPointerMove,()=>{var g;(g=a.onItemLeave)==null||g.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:dt(s.onPointerLeave,()=>{d()})})}),fH="SelectSeparator",dH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return O.jsx(Wt.div,{"aria-hidden":!0,...r,ref:t})});dH.displayName=fH;var AC="SelectArrow",hH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=$S(n),a=ef(AC,n),l=tf(AC,n);return a.open&&l.position==="popper"?O.jsx(N2,{...s,...r,ref:t}):null});hH.displayName=AC;function wF(e){return e===""||e===void 0}var CF=P.forwardRef((e,t)=>{const{value:n,...r}=e,s=P.useRef(null),a=Sn(t,s),l=tF(n);return P.useEffect(()=>{const u=s.current,d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==n&&p){const m=new Event("change",{bubbles:!0});p.call(u,n),u.dispatchEvent(m)}},[l,n]),O.jsx(B2,{asChild:!0,children:O.jsx("select",{...r,ref:a,defaultValue:n})})});CF.displayName="BubbleSelect";function RF(e){const t=vo(e),n=P.useRef(""),r=P.useRef(0),s=P.useCallback(l=>{const u=n.current+l;t(u),function d(g){n.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(u)},[t]),a=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function TF(e,t,n){const s=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=pH(e,Math.max(a,0));s.length===1&&(l=l.filter(g=>g!==n));const d=l.find(g=>g.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function pH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var gH=nF,mH=iF,vH=sF,yH=aF,xH=lF,bH=uF,SH=hF,EH=vF,AH=yF,wH=bF,CH=SF,RH=EF;function iN({...e}){return O.jsx(gH,{"data-slot":"select",...e})}function oN({...e}){return O.jsx(vH,{"data-slot":"select-value",...e})}function sN({className:e,size:t="default",children:n,...r}){return O.jsxs(mH,{"data-slot":"select-trigger","data-size":t,className:St("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,O.jsx(yH,{asChild:!0,children:O.jsx($3,{className:"size-4 opacity-50"})})]})}function aN({className:e,children:t,position:n="popper",...r}){return O.jsx(xH,{children:O.jsxs(bH,{"data-slot":"select-content",className:St("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[O.jsx(TH,{}),O.jsx(SH,{className:St("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),O.jsx(NH,{})]})})}function UE({className:e,children:t,...n}){return O.jsxs(EH,{"data-slot":"select-item",className:St("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[O.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:O.jsx(wH,{children:O.jsx(S5,{className:"size-4"})})}),O.jsx(AH,{children:t})]})}function TH({className:e,...t}){return O.jsx(CH,{"data-slot":"select-scroll-up-button",className:St("flex cursor-default items-center justify-center py-1",e),...t,children:O.jsx(w5,{className:"size-4"})})}function NH({className:e,...t}){return O.jsx(RH,{"data-slot":"select-scroll-down-button",className:St("flex cursor-default items-center justify-center py-1",e),...t,children:O.jsx($3,{className:"size-4"})})}async function _H(e,t,n){const r=await _i(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:t,expiration:n})});if(!r.ok)throw new Error("Failed to create share link");return r.json()}async function IH(e){const t=await _i(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`);if(!t.ok)throw new Error("Failed to fetch share links");return t.json()}async function OH(e){if(!(await _i(`https://wafflebase-api.yorkie.dev/share-links/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete share link")}async function DH(e){const t=await fetch(`https://wafflebase-api.yorkie.dev/share-links/${e}/resolve`);if(t.status===410)throw new Error("Share link has expired");if(!t.ok)throw new Error("Invalid share link");return t.json()}const MH=[{value:"none",label:"No limit"},{value:"1h",label:"1 hour"},{value:"8h",label:"8 hours"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"}];function PH(e){if(!e)return"No expiration";const t=new Date(e),n=new Date;if(t<n)return"Expired";const r=t.getTime()-n.getTime(),s=Math.floor(r/(1e3*60*60)),a=Math.floor(s/24);return a>0?`Expires in ${a}d`:s>0?`Expires in ${s}h`:`Expires in ${Math.floor(r/(1e3*60))}m`}function LH({documentId:e}){const[t,n]=P.useState(!1),[r,s]=P.useState("viewer"),[a,l]=P.useState("none"),[u,d]=P.useState([]),[g,p]=P.useState(!1);P.useEffect(()=>{t&&IH(e).then(d).catch(()=>{})},[t,e]);const m=async()=>{p(!0);try{const A=await _H(e,r,a==="none"?null:a);d(w=>[A,...w]);const C=`${window.location.origin}/shared/${A.token}`;await navigator.clipboard.writeText(C),zn.success("Link created and copied to clipboard")}catch{zn.error("Failed to create share link")}finally{p(!1)}},x=async A=>{const C=`${window.location.origin}/shared/${A}`;await navigator.clipboard.writeText(C),zn.success("Link copied to clipboard")},b=async A=>{try{await OH(A),d(C=>C.filter(w=>w.id!==A)),zn.success("Share link revoked")}catch{zn.error("Failed to revoke share link")}};return O.jsxs(Bv,{open:t,onOpenChange:n,children:[O.jsx(P9,{asChild:!0,children:O.jsxs(er,{variant:"outline",size:"sm",children:[O.jsx(D8,{className:"h-4 w-4 mr-1"}),"Share"]})}),O.jsxs(jv,{className:"sm:max-w-md",children:[O.jsxs(zv,{children:[O.jsx(Vv,{children:"Share Document"}),O.jsx(Uv,{children:"Create a link to share this document with others."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"share-role",children:"Permission"}),O.jsxs(iN,{value:r,onValueChange:s,children:[O.jsx(sN,{id:"share-role",className:"w-full",children:O.jsx(oN,{})}),O.jsxs(aN,{children:[O.jsx(UE,{value:"viewer",children:"Viewer"}),O.jsx(UE,{value:"editor",children:"Editor"})]})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"share-expiration",children:"Expiration"}),O.jsxs(iN,{value:a,onValueChange:l,children:[O.jsx(sN,{id:"share-expiration",className:"w-full",children:O.jsx(oN,{})}),O.jsx(aN,{children:MH.map(A=>O.jsx(UE,{value:A.value,children:A.label},A.value))})]})]})]}),u.length>0&&O.jsxs(O.Fragment,{children:[O.jsx(Gp,{}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{children:"Active links"}),O.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:u.map(A=>O.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2 text-sm",children:[O.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O.jsx("span",{className:"capitalize font-medium",children:A.role}),O.jsx("span",{className:"text-muted-foreground text-xs",children:PH(A.expiresAt)})]}),O.jsxs("div",{className:"flex items-center gap-1",children:[O.jsx(er,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>x(A.token),children:O.jsx(R8,{className:"h-3.5 w-3.5"})}),O.jsx(er,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>b(A.id),children:O.jsx(L8,{className:"h-3.5 w-3.5"})})]})]},A.id))})]})]})]}),O.jsx("div",{className:"flex justify-end",children:O.jsx(er,{onClick:m,disabled:g,children:g?"Creating...":"Create Link"})})]})]})}function FH(){const{doc:e}=Ma.useDocument(),{data:t}=Fa({queryKey:["me"],queryFn:gh,retry:!1});P.useEffect(()=>{!e||!t||e.update((n,r)=>{r.set({username:t.username,email:t.email,photo:t.photo||""})})},[e,t])}var Kf={},GE={},lN;function kH(){if(lN)return GE;lN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(GE,"__esModule",{value:!0}),GE}var $E={},uN;function BH(){if(uN)return $E;uN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty($E,"__esModule",{value:!0}),$E}var Xf={},HE={exports:{}},YE={},WE={},qE={},KE,cN;function $2(){return cN||(cN=1,KE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;t[n]=s;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var l=Object.getOwnPropertySymbols(t);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,n);if(u.value!==s||u.enumerable!==!0)return!1}return!0}),KE}var XE,fN;function HS(){if(fN)return XE;fN=1;var e=$2();return XE=function(){return e()&&!!Symbol.toStringTag},XE}var ZE,dN;function H2(){return dN||(dN=1,ZE=Object),ZE}var JE,hN;function jH(){return hN||(hN=1,JE=Error),JE}var QE,pN;function zH(){return pN||(pN=1,QE=EvalError),QE}var eA,gN;function VH(){return gN||(gN=1,eA=RangeError),eA}var tA,mN;function UH(){return mN||(mN=1,tA=ReferenceError),tA}var nA,vN;function NF(){return vN||(vN=1,nA=SyntaxError),nA}var rA,yN;function Kv(){return yN||(yN=1,rA=TypeError),rA}var iA,xN;function GH(){return xN||(xN=1,iA=URIError),iA}var oA,bN;function $H(){return bN||(bN=1,oA=Math.abs),oA}var sA,SN;function HH(){return SN||(SN=1,sA=Math.floor),sA}var aA,EN;function YH(){return EN||(EN=1,aA=Math.max),aA}var lA,AN;function WH(){return AN||(AN=1,lA=Math.min),lA}var uA,wN;function qH(){return wN||(wN=1,uA=Math.pow),uA}var cA,CN;function KH(){return CN||(CN=1,cA=Math.round),cA}var fA,RN;function XH(){return RN||(RN=1,fA=Number.isNaN||function(t){return t!==t}),fA}var dA,TN;function ZH(){if(TN)return dA;TN=1;var e=XH();return dA=function(n){return e(n)||n===0?n:n<0?-1:1},dA}var hA,NN;function JH(){return NN||(NN=1,hA=Object.getOwnPropertyDescriptor),hA}var pA,_N;function Tg(){if(_N)return pA;_N=1;var e=JH();if(e)try{e([],"length")}catch{e=null}return pA=e,pA}var gA,IN;function YS(){if(IN)return gA;IN=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return gA=e,gA}var mA,ON;function QH(){if(ON)return mA;ON=1;var e=typeof Symbol<"u"&&Symbol,t=$2();return mA=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},mA}var vA,DN;function _F(){return DN||(DN=1,vA=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),vA}var yA,MN;function IF(){if(MN)return yA;MN=1;var e=H2();return yA=e.getPrototypeOf||null,yA}var xA,PN;function eY(){if(PN)return xA;PN=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",s=function(d,g){for(var p=[],m=0;m<d.length;m+=1)p[m]=d[m];for(var x=0;x<g.length;x+=1)p[x+d.length]=g[x];return p},a=function(d,g){for(var p=[],m=g,x=0;m<d.length;m+=1,x+=1)p[x]=d[m];return p},l=function(u,d){for(var g="",p=0;p<u.length;p+=1)g+=u[p],p+1<u.length&&(g+=d);return g};return xA=function(d){var g=this;if(typeof g!="function"||t.apply(g)!==r)throw new TypeError(e+g);for(var p=a(arguments,1),m,x=function(){if(this instanceof m){var R=g.apply(this,s(p,arguments));return Object(R)===R?R:this}return g.apply(d,s(p,arguments))},b=n(0,g.length-p.length),A=[],C=0;C<b;C++)A[C]="$"+C;if(m=Function("binder","return function ("+l(A,",")+"){ return binder.apply(this,arguments); }")(x),g.prototype){var w=function(){};w.prototype=g.prototype,m.prototype=new w,w.prototype=null}return m},xA}var bA,LN;function Xv(){if(LN)return bA;LN=1;var e=eY();return bA=Function.prototype.bind||e,bA}var SA,FN;function Y2(){return FN||(FN=1,SA=Function.prototype.call),SA}var EA,kN;function W2(){return kN||(kN=1,EA=Function.prototype.apply),EA}var AA,BN;function tY(){return BN||(BN=1,AA=typeof Reflect<"u"&&Reflect&&Reflect.apply),AA}var wA,jN;function OF(){if(jN)return wA;jN=1;var e=Xv(),t=W2(),n=Y2(),r=tY();return wA=r||e.call(n,t),wA}var CA,zN;function q2(){if(zN)return CA;zN=1;var e=Xv(),t=Kv(),n=Y2(),r=OF();return CA=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return r(e,n,a)},CA}var RA,VN;function nY(){if(VN)return RA;VN=1;var e=q2(),t=Tg(),n;try{n=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!n&&t&&t(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return RA=r&&typeof r.get=="function"?e([r.get]):typeof a=="function"?function(u){return a(u==null?u:s(u))}:!1,RA}var TA,UN;function K2(){if(UN)return TA;UN=1;var e=_F(),t=IF(),n=nY();return TA=e?function(s){return e(s)}:t?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return t(s)}:n?function(s){return n(s)}:null,TA}var NA,GN;function DF(){if(GN)return NA;GN=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=Xv();return NA=n.call(e,t),NA}var _A,$N;function X2(){if($N)return _A;$N=1;var e,t=H2(),n=jH(),r=zH(),s=VH(),a=UH(),l=NF(),u=Kv(),d=GH(),g=$H(),p=HH(),m=YH(),x=WH(),b=qH(),A=KH(),C=ZH(),w=Function,R=function(J){try{return w('"use strict"; return ('+J+").constructor;")()}catch{}},I=Tg(),N=YS(),D=function(){throw new u},L=I?function(){try{return arguments.callee,D}catch{try{return I(arguments,"callee").get}catch{return D}}}():D,k=QH()(),j=K2(),B=IF(),$=_F(),K=W2(),ne=Y2(),re={},Se=typeof Uint8Array>"u"||!j?e:j(Uint8Array),Me={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":k&&j?j([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":re,"%AsyncGenerator%":re,"%AsyncGeneratorFunction%":re,"%AsyncIteratorPrototype%":re,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":re,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&j?j(j([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k||!j?e:j(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k||!j?e:j(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&j?j(""[Symbol.iterator]()):e,"%Symbol%":k?Symbol:e,"%SyntaxError%":l,"%ThrowTypeError%":L,"%TypedArray%":Se,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":ne,"%Function.prototype.apply%":K,"%Object.defineProperty%":N,"%Object.getPrototypeOf%":B,"%Math.abs%":g,"%Math.floor%":p,"%Math.max%":m,"%Math.min%":x,"%Math.pow%":b,"%Math.round%":A,"%Math.sign%":C,"%Reflect.getPrototypeOf%":$};if(j)try{null.error}catch(J){var Oe=j(j(J));Me["%Error.prototype%"]=Oe}var ie=function J(se){var ye;if(se==="%AsyncFunction%")ye=R("async function () {}");else if(se==="%GeneratorFunction%")ye=R("function* () {}");else if(se==="%AsyncGeneratorFunction%")ye=R("async function* () {}");else if(se==="%AsyncGenerator%"){var xe=J("%AsyncGeneratorFunction%");xe&&(ye=xe.prototype)}else if(se==="%AsyncIteratorPrototype%"){var ae=J("%AsyncGenerator%");ae&&j&&(ye=j(ae.prototype))}return Me[se]=ye,ye},Ee={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},de=Xv(),ue=DF(),X=de.call(ne,Array.prototype.concat),oe=de.call(K,Array.prototype.splice),he=de.call(ne,String.prototype.replace),z=de.call(ne,String.prototype.slice),V=de.call(ne,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Y=/\\(\\)?/g,Q=function(se){var ye=z(se,0,1),xe=z(se,-1);if(ye==="%"&&xe!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(xe==="%"&&ye!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var ae=[];return he(se,G,function(le,we,Ie,je){ae[ae.length]=Ie?he(je,Y,"$1"):we||le}),ae},Z=function(se,ye){var xe=se,ae;if(ue(Ee,xe)&&(ae=Ee[xe],xe="%"+ae[0]+"%"),ue(Me,xe)){var le=Me[xe];if(le===re&&(le=ie(xe)),typeof le>"u"&&!ye)throw new u("intrinsic "+se+" exists, but is not available. Please file an issue!");return{alias:ae,name:xe,value:le}}throw new l("intrinsic "+se+" does not exist!")};return _A=function(se,ye){if(typeof se!="string"||se.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ye!="boolean")throw new u('"allowMissing" argument must be a boolean');if(V(/^%?[^%]*%?$/,se)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var xe=Q(se),ae=xe.length>0?xe[0]:"",le=Z("%"+ae+"%",ye),we=le.name,Ie=le.value,je=!1,Ve=le.alias;Ve&&(ae=Ve[0],oe(xe,X([0,1],Ve)));for(var me=1,Pe=!0;me<xe.length;me+=1){var Ze=xe[me],pt=z(Ze,0,1),gt=z(Ze,-1);if((pt==='"'||pt==="'"||pt==="`"||gt==='"'||gt==="'"||gt==="`")&&pt!==gt)throw new l("property names with quotes must have matching quotes");if((Ze==="constructor"||!Pe)&&(je=!0),ae+="."+Ze,we="%"+ae+"%",ue(Me,we))Ie=Me[we];else if(Ie!=null){if(!(Ze in Ie)){if(!ye)throw new u("base intrinsic for "+se+" exists, but the property is not available.");return}if(I&&me+1>=xe.length){var ge=I(Ie,Ze);Pe=!!ge,Pe&&"get"in ge&&!("originalValue"in ge.get)?Ie=ge.get:Ie=Ie[Ze]}else Pe=ue(Ie,Ze),Ie=Ie[Ze];Pe&&!je&&(Me[we]=Ie)}}return Ie},_A}var IA,HN;function Ng(){if(HN)return IA;HN=1;var e=X2(),t=q2(),n=t([e("%String.prototype.indexOf%")]);return IA=function(s,a){var l=e(s,!!a);return typeof l=="function"&&n(s,".prototype.")>-1?t([l]):l},IA}var OA,YN;function rY(){if(YN)return OA;YN=1;var e=HS()(),t=Ng(),n=t("Object.prototype.toString"),r=function(u){return e&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:n(u)==="[object Arguments]"},s=function(u){return r(u)?!0:u!==null&&typeof u=="object"&&"length"in u&&typeof u.length=="number"&&u.length>=0&&n(u)!=="[object Array]"&&"callee"in u&&n(u.callee)==="[object Function]"},a=function(){return r(arguments)}();return r.isLegacyArguments=s,OA=a?r:s,OA}var DA,WN;function iY(){if(WN)return DA;WN=1;var e=Ng(),t=HS()(),n=DF(),r=Tg(),s;if(t){var a=e("RegExp.prototype.exec"),l={},u=function(){throw l},d={toString:u,valueOf:u};typeof Symbol.toPrimitive=="symbol"&&(d[Symbol.toPrimitive]=u),s=function(x){if(!x||typeof x!="object")return!1;var b=r(x,"lastIndex"),A=b&&n(b,"value");if(!A)return!1;try{a(x,d)}catch(C){return C===l}}}else{var g=e("Object.prototype.toString"),p="[object RegExp]";s=function(x){return!x||typeof x!="object"&&typeof x!="function"?!1:g(x)===p}}return DA=s,DA}var MA,qN;function oY(){if(qN)return MA;qN=1;var e=Ng(),t=iY(),n=e("RegExp.prototype.exec"),r=Kv();return MA=function(a){if(!t(a))throw new r("`regex` must be a RegExp");return function(u){return n(a,u)!==null}},MA}var PA,KN;function sY(){if(KN)return PA;KN=1;var e=Ng(),t=oY(),n=t(/^\s*(?:function)?\*/),r=HS()(),s=K2(),a=e("Object.prototype.toString"),l=e("Function.prototype.toString"),u=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},d;return PA=function(p){if(typeof p!="function")return!1;if(n(l(p)))return!0;if(!r){var m=a(p);return m==="[object GeneratorFunction]"}if(!s)return!1;if(typeof d>"u"){var x=u();d=x?s(x):!1}return s(p)===d},PA}var LA,XN;function aY(){if(XN)return LA;XN=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},t(function(){throw 42},null,n)}catch(I){I!==r&&(t=null)}else t=null;var s=/^\s*class\b/,a=function(N){try{var D=e.call(N);return s.test(D)}catch{return!1}},l=function(N){try{return a(N)?!1:(e.call(N),!0)}catch{return!1}},u=Object.prototype.toString,d="[object Object]",g="[object Function]",p="[object GeneratorFunction]",m="[object HTMLAllCollection]",x="[object HTML document.all class]",b="[object HTMLCollection]",A=typeof Symbol=="function"&&!!Symbol.toStringTag,C=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var R=document.all;u.call(R)===u.call(document.all)&&(w=function(N){if((C||!N)&&(typeof N>"u"||typeof N=="object"))try{var D=u.call(N);return(D===m||D===x||D===b||D===d)&&N("")==null}catch{}return!1})}return LA=t?function(N){if(w(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;try{t(N,null,n)}catch(D){if(D!==r)return!1}return!a(N)&&l(N)}:function(N){if(w(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;if(A)return l(N);if(a(N))return!1;var D=u.call(N);return D!==g&&D!==p&&!/^\[object HTML/.test(D)?!1:l(N)},LA}var FA,ZN;function lY(){if(ZN)return FA;ZN=1;var e=aY(),t=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(d,g,p){for(var m=0,x=d.length;m<x;m++)n.call(d,m)&&(p==null?g(d[m],m,d):g.call(p,d[m],m,d))},s=function(d,g,p){for(var m=0,x=d.length;m<x;m++)p==null?g(d.charAt(m),m,d):g.call(p,d.charAt(m),m,d)},a=function(d,g,p){for(var m in d)n.call(d,m)&&(p==null?g(d[m],m,d):g.call(p,d[m],m,d))};function l(u){return t.call(u)==="[object Array]"}return FA=function(d,g,p){if(!e(g))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=p),l(d)?r(d,g,m):typeof d=="string"?s(d,g,m):a(d,g,m)},FA}var kA,JN;function uY(){return JN||(JN=1,kA=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),kA}var BA,QN;function cY(){if(QN)return BA;QN=1;var e=uY(),t=typeof globalThis>"u"?l3:globalThis;return BA=function(){for(var r=[],s=0;s<e.length;s++)typeof t[e[s]]=="function"&&(r[r.length]=e[s]);return r},BA}var jA={exports:{}},zA,e_;function MF(){if(e_)return zA;e_=1;var e=YS(),t=NF(),n=Kv(),r=Tg();return zA=function(a,l,u){if(!a||typeof a!="object"&&typeof a!="function")throw new n("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,x=!!r&&r(a,l);if(e)e(a,l,{configurable:p===null&&x?x.configurable:!p,enumerable:d===null&&x?x.enumerable:!d,value:u,writable:g===null&&x?x.writable:!g});else if(m||!d&&!g&&!p)a[l]=u;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},zA}var VA,t_;function PF(){if(t_)return VA;t_=1;var e=YS(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},VA=t,VA}var UA,n_;function fY(){if(n_)return UA;n_=1;var e=X2(),t=MF(),n=PF()(),r=Tg(),s=Kv(),a=e("%Math.floor%");return UA=function(u,d){if(typeof u!="function")throw new s("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||a(d)!==d)throw new s("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],p=!0,m=!0;if("length"in u&&r){var x=r(u,"length");x&&!x.configurable&&(p=!1),x&&!x.writable&&(m=!1)}return(p||m||!g)&&(n?t(u,"length",d,!0,!0):t(u,"length",d)),u},UA}var GA,r_;function dY(){if(r_)return GA;r_=1;var e=Xv(),t=W2(),n=OF();return GA=function(){return n(e,t,arguments)},GA}var i_;function WS(){return i_||(i_=1,function(e){var t=fY(),n=YS(),r=q2(),s=dY();e.exports=function(l){var u=r(arguments),d=l.length-(arguments.length-1);return t(u,1+(d>0?d:0),!0)},n?n(e.exports,"apply",{value:s}):e.exports.apply=s}(jA)),jA.exports}var $A,o_;function LF(){if(o_)return $A;o_=1;var e=lY(),t=cY(),n=WS(),r=Ng(),s=Tg(),a=K2(),l=r("Object.prototype.toString"),u=HS()(),d=typeof globalThis>"u"?l3:globalThis,g=t(),p=r("String.prototype.slice"),m=r("Array.prototype.indexOf",!0)||function(w,R){for(var I=0;I<w.length;I+=1)if(w[I]===R)return I;return-1},x={__proto__:null};u&&s&&a?e(g,function(C){var w=new d[C];if(Symbol.toStringTag in w&&a){var R=a(w),I=s(R,Symbol.toStringTag);if(!I&&R){var N=a(R);I=s(N,Symbol.toStringTag)}x["$"+C]=n(I.get)}}):e(g,function(C){var w=new d[C],R=w.slice||w.set;R&&(x["$"+C]=n(R))});var b=function(w){var R=!1;return e(x,function(I,N){if(!R)try{"$"+I(w)===N&&(R=p(N,1))}catch{}}),R},A=function(w){var R=!1;return e(x,function(I,N){if(!R)try{I(w),R=p(N,1)}catch{}}),R};return $A=function(w){if(!w||typeof w!="object")return!1;if(!u){var R=p(l(w),8,-1);return m(g,R)>-1?R:R!=="Object"?!1:A(w)}return s?b(w):null},$A}var HA,s_;function hY(){if(s_)return HA;s_=1;var e=LF();return HA=function(n){return!!e(n)},HA}var a_;function pY(){return a_||(a_=1,function(e){var t=rY(),n=sY(),r=LF(),s=hY();function a(me){return me.call.bind(me)}var l=typeof BigInt<"u",u=typeof Symbol<"u",d=a(Object.prototype.toString),g=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),m=a(Boolean.prototype.valueOf);if(l)var x=a(BigInt.prototype.valueOf);if(u)var b=a(Symbol.prototype.valueOf);function A(me,Pe){if(typeof me!="object")return!1;try{return Pe(me),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=s;function C(me){return typeof Promise<"u"&&me instanceof Promise||me!==null&&typeof me=="object"&&typeof me.then=="function"&&typeof me.catch=="function"}e.isPromise=C;function w(me){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(me):s(me)||z(me)}e.isArrayBufferView=w;function R(me){return r(me)==="Uint8Array"}e.isUint8Array=R;function I(me){return r(me)==="Uint8ClampedArray"}e.isUint8ClampedArray=I;function N(me){return r(me)==="Uint16Array"}e.isUint16Array=N;function D(me){return r(me)==="Uint32Array"}e.isUint32Array=D;function L(me){return r(me)==="Int8Array"}e.isInt8Array=L;function k(me){return r(me)==="Int16Array"}e.isInt16Array=k;function j(me){return r(me)==="Int32Array"}e.isInt32Array=j;function B(me){return r(me)==="Float32Array"}e.isFloat32Array=B;function $(me){return r(me)==="Float64Array"}e.isFloat64Array=$;function K(me){return r(me)==="BigInt64Array"}e.isBigInt64Array=K;function ne(me){return r(me)==="BigUint64Array"}e.isBigUint64Array=ne;function re(me){return d(me)==="[object Map]"}re.working=typeof Map<"u"&&re(new Map);function Se(me){return typeof Map>"u"?!1:re.working?re(me):me instanceof Map}e.isMap=Se;function Me(me){return d(me)==="[object Set]"}Me.working=typeof Set<"u"&&Me(new Set);function Oe(me){return typeof Set>"u"?!1:Me.working?Me(me):me instanceof Set}e.isSet=Oe;function ie(me){return d(me)==="[object WeakMap]"}ie.working=typeof WeakMap<"u"&&ie(new WeakMap);function Ee(me){return typeof WeakMap>"u"?!1:ie.working?ie(me):me instanceof WeakMap}e.isWeakMap=Ee;function de(me){return d(me)==="[object WeakSet]"}de.working=typeof WeakSet<"u"&&de(new WeakSet);function ue(me){return de(me)}e.isWeakSet=ue;function X(me){return d(me)==="[object ArrayBuffer]"}X.working=typeof ArrayBuffer<"u"&&X(new ArrayBuffer);function oe(me){return typeof ArrayBuffer>"u"?!1:X.working?X(me):me instanceof ArrayBuffer}e.isArrayBuffer=oe;function he(me){return d(me)==="[object DataView]"}he.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&he(new DataView(new ArrayBuffer(1),0,1));function z(me){return typeof DataView>"u"?!1:he.working?he(me):me instanceof DataView}e.isDataView=z;var V=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function G(me){return d(me)==="[object SharedArrayBuffer]"}function Y(me){return typeof V>"u"?!1:(typeof G.working>"u"&&(G.working=G(new V)),G.working?G(me):me instanceof V)}e.isSharedArrayBuffer=Y;function Q(me){return d(me)==="[object AsyncFunction]"}e.isAsyncFunction=Q;function Z(me){return d(me)==="[object Map Iterator]"}e.isMapIterator=Z;function J(me){return d(me)==="[object Set Iterator]"}e.isSetIterator=J;function se(me){return d(me)==="[object Generator]"}e.isGeneratorObject=se;function ye(me){return d(me)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=ye;function xe(me){return A(me,g)}e.isNumberObject=xe;function ae(me){return A(me,p)}e.isStringObject=ae;function le(me){return A(me,m)}e.isBooleanObject=le;function we(me){return l&&A(me,x)}e.isBigIntObject=we;function Ie(me){return u&&A(me,b)}e.isSymbolObject=Ie;function je(me){return xe(me)||ae(me)||le(me)||we(me)||Ie(me)}e.isBoxedPrimitive=je;function Ve(me){return typeof Uint8Array<"u"&&(oe(me)||Y(me))}e.isAnyArrayBuffer=Ve,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(me){Object.defineProperty(e,me,{enumerable:!1,value:function(){throw new Error(me+" is not supported in userland")}})})}(qE)),qE}var YA,l_;function gY(){return l_||(l_=1,YA=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),YA}var _b={exports:{}},u_;function mY(){return u_||(u_=1,typeof Object.create=="function"?_b.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:_b.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}),_b.exports}var c_;function hg(){return c_||(c_=1,function(e){var t={},n=Object.getOwnPropertyDescriptors||function(V){for(var G=Object.keys(V),Y={},Q=0;Q<G.length;Q++)Y[G[Q]]=Object.getOwnPropertyDescriptor(V,G[Q]);return Y},r=/%[sdj%]/g;e.format=function(z){if(!k(z)){for(var V=[],G=0;G<arguments.length;G++)V.push(u(arguments[G]));return V.join(" ")}for(var G=1,Y=arguments,Q=Y.length,Z=String(z).replace(r,function(se){if(se==="%%")return"%";if(G>=Q)return se;switch(se){case"%s":return String(Y[G++]);case"%d":return Number(Y[G++]);case"%j":try{return JSON.stringify(Y[G++])}catch{return"[Circular]"}default:return se}}),J=Y[G];G<Q;J=Y[++G])N(J)||!K(J)?Z+=" "+J:Z+=" "+u(J);return Z},e.deprecate=function(z,V){if(typeof process<"u"&&process.noDeprecation===!0)return z;if(typeof process>"u")return function(){return e.deprecate(z,V).apply(this,arguments)};var G=!1;function Y(){if(!G){if(process.throwDeprecation)throw new Error(V);process.traceDeprecation?console.trace(V):console.error(V),G=!0}return z.apply(this,arguments)}return Y};var s={},a=/^$/;if(t.NODE_DEBUG){var l=t.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i")}e.debuglog=function(z){if(z=z.toUpperCase(),!s[z])if(a.test(z)){var V=process.pid;s[z]=function(){var G=e.format.apply(e,arguments);console.error("%s %d: %s",z,V,G)}}else s[z]=function(){};return s[z]};function u(z,V){var G={seen:[],stylize:g};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),I(V)?G.showHidden=V:V&&e._extend(G,V),B(G.showHidden)&&(G.showHidden=!1),B(G.depth)&&(G.depth=2),B(G.colors)&&(G.colors=!1),B(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=d),m(G,z,G.depth)}e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(z,V){var G=u.styles[V];return G?"\x1B["+u.colors[G][0]+"m"+z+"\x1B["+u.colors[G][1]+"m":z}function g(z,V){return z}function p(z){var V={};return z.forEach(function(G,Y){V[G]=!0}),V}function m(z,V,G){if(z.customInspect&&V&&Se(V.inspect)&&V.inspect!==e.inspect&&!(V.constructor&&V.constructor.prototype===V)){var Y=V.inspect(G,z);return k(Y)||(Y=m(z,Y,G)),Y}var Q=x(z,V);if(Q)return Q;var Z=Object.keys(V),J=p(Z);if(z.showHidden&&(Z=Object.getOwnPropertyNames(V)),re(V)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return b(V);if(Z.length===0){if(Se(V)){var se=V.name?": "+V.name:"";return z.stylize("[Function"+se+"]","special")}if($(V))return z.stylize(RegExp.prototype.toString.call(V),"regexp");if(ne(V))return z.stylize(Date.prototype.toString.call(V),"date");if(re(V))return b(V)}var ye="",xe=!1,ae=["{","}"];if(R(V)&&(xe=!0,ae=["[","]"]),Se(V)){var le=V.name?": "+V.name:"";ye=" [Function"+le+"]"}if($(V)&&(ye=" "+RegExp.prototype.toString.call(V)),ne(V)&&(ye=" "+Date.prototype.toUTCString.call(V)),re(V)&&(ye=" "+b(V)),Z.length===0&&(!xe||V.length==0))return ae[0]+ye+ae[1];if(G<0)return $(V)?z.stylize(RegExp.prototype.toString.call(V),"regexp"):z.stylize("[Object]","special");z.seen.push(V);var we;return xe?we=A(z,V,G,J,Z):we=Z.map(function(Ie){return C(z,V,G,J,Ie,xe)}),z.seen.pop(),w(we,ye,ae)}function x(z,V){if(B(V))return z.stylize("undefined","undefined");if(k(V)){var G="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(G,"string")}if(L(V))return z.stylize(""+V,"number");if(I(V))return z.stylize(""+V,"boolean");if(N(V))return z.stylize("null","null")}function b(z){return"["+Error.prototype.toString.call(z)+"]"}function A(z,V,G,Y,Q){for(var Z=[],J=0,se=V.length;J<se;++J)ue(V,String(J))?Z.push(C(z,V,G,Y,String(J),!0)):Z.push("");return Q.forEach(function(ye){ye.match(/^\d+$/)||Z.push(C(z,V,G,Y,ye,!0))}),Z}function C(z,V,G,Y,Q,Z){var J,se,ye;if(ye=Object.getOwnPropertyDescriptor(V,Q)||{value:V[Q]},ye.get?ye.set?se=z.stylize("[Getter/Setter]","special"):se=z.stylize("[Getter]","special"):ye.set&&(se=z.stylize("[Setter]","special")),ue(Y,Q)||(J="["+Q+"]"),se||(z.seen.indexOf(ye.value)<0?(N(G)?se=m(z,ye.value,null):se=m(z,ye.value,G-1),se.indexOf(`
`)>-1&&(Z?se=se.split(`
`).map(function(xe){return"  "+xe}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(xe){return"   "+xe}).join(`
`))):se=z.stylize("[Circular]","special")),B(J)){if(Z&&Q.match(/^\d+$/))return se;J=JSON.stringify(""+Q),J.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(J=J.slice(1,-1),J=z.stylize(J,"name")):(J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=z.stylize(J,"string"))}return J+": "+se}function w(z,V,G){var Y=z.reduce(function(Q,Z){return Z.indexOf(`
`)>=0,Q+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Y>60?G[0]+(V===""?"":V+`
 `)+" "+z.join(`,
  `)+" "+G[1]:G[0]+V+" "+z.join(", ")+" "+G[1]}e.types=pY();function R(z){return Array.isArray(z)}e.isArray=R;function I(z){return typeof z=="boolean"}e.isBoolean=I;function N(z){return z===null}e.isNull=N;function D(z){return z==null}e.isNullOrUndefined=D;function L(z){return typeof z=="number"}e.isNumber=L;function k(z){return typeof z=="string"}e.isString=k;function j(z){return typeof z=="symbol"}e.isSymbol=j;function B(z){return z===void 0}e.isUndefined=B;function $(z){return K(z)&&Oe(z)==="[object RegExp]"}e.isRegExp=$,e.types.isRegExp=$;function K(z){return typeof z=="object"&&z!==null}e.isObject=K;function ne(z){return K(z)&&Oe(z)==="[object Date]"}e.isDate=ne,e.types.isDate=ne;function re(z){return K(z)&&(Oe(z)==="[object Error]"||z instanceof Error)}e.isError=re,e.types.isNativeError=re;function Se(z){return typeof z=="function"}e.isFunction=Se;function Me(z){return z===null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"||typeof z=="symbol"||typeof z>"u"}e.isPrimitive=Me,e.isBuffer=gY();function Oe(z){return Object.prototype.toString.call(z)}function ie(z){return z<10?"0"+z.toString(10):z.toString(10)}var Ee=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(){var z=new Date,V=[ie(z.getHours()),ie(z.getMinutes()),ie(z.getSeconds())].join(":");return[z.getDate(),Ee[z.getMonth()],V].join(" ")}e.log=function(){console.log("%s - %s",de(),e.format.apply(e,arguments))},e.inherits=mY(),e._extend=function(z,V){if(!V||!K(V))return z;for(var G=Object.keys(V),Y=G.length;Y--;)z[G[Y]]=V[G[Y]];return z};function ue(z,V){return Object.prototype.hasOwnProperty.call(z,V)}var X=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');if(X&&V[X]){var G=V[X];if(typeof G!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(G,X,{value:G,enumerable:!1,writable:!1,configurable:!0}),G}function G(){for(var Y,Q,Z=new Promise(function(ye,xe){Y=ye,Q=xe}),J=[],se=0;se<arguments.length;se++)J.push(arguments[se]);J.push(function(ye,xe){ye?Q(ye):Y(xe)});try{V.apply(this,J)}catch(ye){Q(ye)}return Z}return Object.setPrototypeOf(G,Object.getPrototypeOf(V)),X&&Object.defineProperty(G,X,{value:G,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(G,n(V))},e.promisify.custom=X;function oe(z,V){if(!z){var G=new Error("Promise was rejected with a falsy value");G.reason=z,z=G}return V(z)}function he(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');function V(){for(var G=[],Y=0;Y<arguments.length;Y++)G.push(arguments[Y]);var Q=G.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var Z=this,J=function(){return Q.apply(Z,arguments)};z.apply(this,G).then(function(se){process.nextTick(J.bind(null,null,se))},function(se){process.nextTick(oe.bind(null,se,J))})}return Object.setPrototypeOf(V,Object.getPrototypeOf(z)),Object.defineProperties(V,n(z)),V}e.callbackify=he}(WE)),WE}var f_;function FF(){if(f_)return YE;f_=1;function e(I){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},e(I)}function t(I,N,D){return Object.defineProperty(I,"prototype",{writable:!1}),I}function n(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function r(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),N&&s(I,N)}function s(I,N){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,k){return L.__proto__=k,L},s(I,N)}function a(I){var N=d();return function(){var L=g(I),k;if(N){var j=g(this).constructor;k=Reflect.construct(L,arguments,j)}else k=L.apply(this,arguments);return l(this,k)}}function l(I,N){if(N&&(e(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(I)}function u(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(I){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},g(I)}var p={},m,x;function b(I,N,D){D||(D=Error);function L(j,B,$){return typeof N=="string"?N:N(j,B,$)}var k=function(j){r($,j);var B=a($);function $(K,ne,re){var Se;return n(this,$),Se=B.call(this,L(K,ne,re)),Se.code=I,Se}return t($)}(D);p[I]=k}function A(I,N){if(Array.isArray(I)){var D=I.length;return I=I.map(function(L){return String(L)}),D>2?"one of ".concat(N," ").concat(I.slice(0,D-1).join(", "),", or ")+I[D-1]:D===2?"one of ".concat(N," ").concat(I[0]," or ").concat(I[1]):"of ".concat(N," ").concat(I[0])}else return"of ".concat(N," ").concat(String(I))}function C(I,N,D){return I.substr(0,N.length)===N}function w(I,N,D){return(D===void 0||D>I.length)&&(D=I.length),I.substring(D-N.length,D)===N}function R(I,N,D){return typeof D!="number"&&(D=0),D+N.length>I.length?!1:I.indexOf(N,D)!==-1}return b("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),b("ERR_INVALID_ARG_TYPE",function(I,N,D){m===void 0&&(m=Ni()),m(typeof I=="string","'name' must be a string");var L;typeof N=="string"&&C(N,"not ")?(L="must not be",N=N.replace(/^not /,"")):L="must be";var k;if(w(I," argument"))k="The ".concat(I," ").concat(L," ").concat(A(N,"type"));else{var j=R(I,".")?"property":"argument";k='The "'.concat(I,'" ').concat(j," ").concat(L," ").concat(A(N,"type"))}return k+=". Received type ".concat(e(D)),k},TypeError),b("ERR_INVALID_ARG_VALUE",function(I,N){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";x===void 0&&(x=hg());var L=x.inspect(N);return L.length>128&&(L="".concat(L.slice(0,128),"...")),"The argument '".concat(I,"' ").concat(D,". Received ").concat(L)},TypeError),b("ERR_INVALID_RETURN_VALUE",function(I,N,D){var L;return D&&D.constructor&&D.constructor.name?L="instance of ".concat(D.constructor.name):L="type ".concat(e(D)),"Expected ".concat(I,' to be returned from the "').concat(N,'"')+" function but got ".concat(L,".")},TypeError),b("ERR_MISSING_ARGS",function(){for(var I=arguments.length,N=new Array(I),D=0;D<I;D++)N[D]=arguments[D];m===void 0&&(m=Ni()),m(N.length>0,"At least one arg needs to be specified");var L="The ",k=N.length;switch(N=N.map(function(j){return'"'.concat(j,'"')}),k){case 1:L+="".concat(N[0]," argument");break;case 2:L+="".concat(N[0]," and ").concat(N[1]," arguments");break;default:L+=N.slice(0,k-1).join(", "),L+=", and ".concat(N[k-1]," arguments");break}return"".concat(L," must be specified")},TypeError),YE.codes=p,YE}var WA,d_;function vY(){if(d_)return WA;d_=1;function e(ue,X){var oe=Object.keys(ue);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(ue);X&&(he=he.filter(function(z){return Object.getOwnPropertyDescriptor(ue,z).enumerable})),oe.push.apply(oe,he)}return oe}function t(ue){for(var X=1;X<arguments.length;X++){var oe=arguments[X]!=null?arguments[X]:{};X%2?e(Object(oe),!0).forEach(function(he){n(ue,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(oe)):e(Object(oe)).forEach(function(he){Object.defineProperty(ue,he,Object.getOwnPropertyDescriptor(oe,he))})}return ue}function n(ue,X,oe){return X=l(X),X in ue?Object.defineProperty(ue,X,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ue[X]=oe,ue}function r(ue,X){if(!(ue instanceof X))throw new TypeError("Cannot call a class as a function")}function s(ue,X){for(var oe=0;oe<X.length;oe++){var he=X[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ue,l(he.key),he)}}function a(ue,X,oe){return X&&s(ue.prototype,X),Object.defineProperty(ue,"prototype",{writable:!1}),ue}function l(ue){var X=u(ue,"string");return I(X)==="symbol"?X:String(X)}function u(ue,X){if(I(ue)!=="object"||ue===null)return ue;var oe=ue[Symbol.toPrimitive];if(oe!==void 0){var he=oe.call(ue,X);if(I(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ue)}function d(ue,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(X&&X.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),Object.defineProperty(ue,"prototype",{writable:!1}),X&&w(ue,X)}function g(ue){var X=A();return function(){var he=R(ue),z;if(X){var V=R(this).constructor;z=Reflect.construct(he,arguments,V)}else z=he.apply(this,arguments);return p(this,z)}}function p(ue,X){if(X&&(I(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(ue)}function m(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function x(ue){var X=typeof Map=="function"?new Map:void 0;return x=function(he){if(he===null||!C(he))return he;if(typeof he!="function")throw new TypeError("Super expression must either be null or a function");if(typeof X<"u"){if(X.has(he))return X.get(he);X.set(he,z)}function z(){return b(he,arguments,R(this).constructor)}return z.prototype=Object.create(he.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),w(z,he)},x(ue)}function b(ue,X,oe){return A()?b=Reflect.construct.bind():b=function(z,V,G){var Y=[null];Y.push.apply(Y,V);var Q=Function.bind.apply(z,Y),Z=new Q;return G&&w(Z,G.prototype),Z},b.apply(null,arguments)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(ue){return Function.toString.call(ue).indexOf("[native code]")!==-1}function w(ue,X){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,z){return he.__proto__=z,he},w(ue,X)}function R(ue){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},R(ue)}function I(ue){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},I(ue)}var N=hg(),D=N.inspect,L=FF(),k=L.codes.ERR_INVALID_ARG_TYPE;function j(ue,X,oe){return(oe===void 0||oe>ue.length)&&(oe=ue.length),ue.substring(oe-X.length,oe)===X}function B(ue,X){if(X=Math.floor(X),ue.length==0||X==0)return"";var oe=ue.length*X;for(X=Math.floor(Math.log(X)/Math.log(2));X;)ue+=ue,X--;return ue+=ue.substring(0,oe-ue.length),ue}var $="",K="",ne="",re="",Se={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Me=10;function Oe(ue){var X=Object.keys(ue),oe=Object.create(Object.getPrototypeOf(ue));return X.forEach(function(he){oe[he]=ue[he]}),Object.defineProperty(oe,"message",{value:ue.message}),oe}function ie(ue){return D(ue,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Ee(ue,X,oe){var he="",z="",V=0,G="",Y=!1,Q=ie(ue),Z=Q.split(`
`),J=ie(X).split(`
`),se=0,ye="";if(oe==="strictEqual"&&I(ue)==="object"&&I(X)==="object"&&ue!==null&&X!==null&&(oe="strictEqualObject"),Z.length===1&&J.length===1&&Z[0]!==J[0]){var xe=Z[0].length+J[0].length;if(xe<=Me){if((I(ue)!=="object"||ue===null)&&(I(X)!=="object"||X===null)&&(ue!==0||X!==0))return"".concat(Se[oe],`

`)+"".concat(Z[0]," !== ").concat(J[0],`
`)}else if(oe!=="strictEqualObject"){var ae=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(xe<ae){for(;Z[0][se]===J[0][se];)se++;se>2&&(ye=`
  `.concat(B(" ",se),"^"),se=0)}}}for(var le=Z[Z.length-1],we=J[J.length-1];le===we&&(se++<2?G=`
  `.concat(le).concat(G):he=le,Z.pop(),J.pop(),!(Z.length===0||J.length===0));)le=Z[Z.length-1],we=J[J.length-1];var Ie=Math.max(Z.length,J.length);if(Ie===0){var je=Q.split(`
`);if(je.length>30)for(je[26]="".concat($,"...").concat(re);je.length>27;)je.pop();return"".concat(Se.notIdentical,`

`).concat(je.join(`
`),`
`)}se>3&&(G=`
`.concat($,"...").concat(re).concat(G),Y=!0),he!==""&&(G=`
  `.concat(he).concat(G),he="");var Ve=0,me=Se[oe]+`
`.concat(K,"+ actual").concat(re," ").concat(ne,"- expected").concat(re),Pe=" ".concat($,"...").concat(re," Lines skipped");for(se=0;se<Ie;se++){var Ze=se-V;if(Z.length<se+1)Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(re),Y=!0):Ze>3&&(z+=`
  `.concat(J[se-2]),Ve++),z+=`
  `.concat(J[se-1]),Ve++),V=se,he+=`
`.concat(ne,"-").concat(re," ").concat(J[se]),Ve++;else if(J.length<se+1)Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(re),Y=!0):Ze>3&&(z+=`
  `.concat(Z[se-2]),Ve++),z+=`
  `.concat(Z[se-1]),Ve++),V=se,z+=`
`.concat(K,"+").concat(re," ").concat(Z[se]),Ve++;else{var pt=J[se],gt=Z[se],ge=gt!==pt&&(!j(gt,",")||gt.slice(0,-1)!==pt);ge&&j(pt,",")&&pt.slice(0,-1)===gt&&(ge=!1,gt+=","),ge?(Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(re),Y=!0):Ze>3&&(z+=`
  `.concat(Z[se-2]),Ve++),z+=`
  `.concat(Z[se-1]),Ve++),V=se,z+=`
`.concat(K,"+").concat(re," ").concat(gt),he+=`
`.concat(ne,"-").concat(re," ").concat(pt),Ve+=2):(z+=he,he="",(Ze===1||se===0)&&(z+=`
  `.concat(gt),Ve++))}if(Ve>20&&se<Ie-2)return"".concat(me).concat(Pe,`
`).concat(z,`
`).concat($,"...").concat(re).concat(he,`
`)+"".concat($,"...").concat(re)}return"".concat(me).concat(Y?Pe:"",`
`).concat(z).concat(he).concat(G).concat(ye)}var de=function(ue,X){d(he,ue);var oe=g(he);function he(z){var V;if(r(this,he),I(z)!=="object"||z===null)throw new k("options","Object",z);var G=z.message,Y=z.operator,Q=z.stackStartFn,Z=z.actual,J=z.expected,se=Error.stackTraceLimit;if(Error.stackTraceLimit=0,G!=null)V=oe.call(this,String(G));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?($="\x1B[34m",K="\x1B[32m",re="\x1B[39m",ne="\x1B[31m"):($="",K="",re="",ne="")),I(Z)==="object"&&Z!==null&&I(J)==="object"&&J!==null&&"stack"in Z&&Z instanceof Error&&"stack"in J&&J instanceof Error&&(Z=Oe(Z),J=Oe(J)),Y==="deepStrictEqual"||Y==="strictEqual")V=oe.call(this,Ee(Z,J,Y));else if(Y==="notDeepStrictEqual"||Y==="notStrictEqual"){var ye=Se[Y],xe=ie(Z).split(`
`);if(Y==="notStrictEqual"&&I(Z)==="object"&&Z!==null&&(ye=Se.notStrictEqualObject),xe.length>30)for(xe[26]="".concat($,"...").concat(re);xe.length>27;)xe.pop();xe.length===1?V=oe.call(this,"".concat(ye," ").concat(xe[0])):V=oe.call(this,"".concat(ye,`

`).concat(xe.join(`
`),`
`))}else{var ae=ie(Z),le="",we=Se[Y];Y==="notDeepEqual"||Y==="notEqual"?(ae="".concat(Se[Y],`

`).concat(ae),ae.length>1024&&(ae="".concat(ae.slice(0,1021),"..."))):(le="".concat(ie(J)),ae.length>512&&(ae="".concat(ae.slice(0,509),"...")),le.length>512&&(le="".concat(le.slice(0,509),"...")),Y==="deepEqual"||Y==="equal"?ae="".concat(we,`

`).concat(ae,`

should equal

`):le=" ".concat(Y," ").concat(le)),V=oe.call(this,"".concat(ae).concat(le))}return Error.stackTraceLimit=se,V.generatedMessage=!G,Object.defineProperty(m(V),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),V.code="ERR_ASSERTION",V.actual=Z,V.expected=J,V.operator=Y,Error.captureStackTrace&&Error.captureStackTrace(m(V),Q),V.stack,V.name="AssertionError",p(V)}return a(he,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:X,value:function(V,G){return D(this,t(t({},G),{},{customInspect:!1,depth:0}))}}]),he}(x(Error),D.custom);return WA=de,WA}var qA,h_;function kF(){if(h_)return qA;h_=1;var e=Object.prototype.toString;return qA=function(n){var r=e.call(n),s=r==="[object Arguments]";return s||(s=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),s},qA}var KA,p_;function yY(){if(p_)return KA;p_=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=kF(),s=Object.prototype.propertyIsEnumerable,a=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(x){var b=x.constructor;return b&&b.prototype===x},g={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var x in window)try{if(!g["$"+x]&&t.call(window,x)&&window[x]!==null&&typeof window[x]=="object")try{d(window[x])}catch{return!0}}catch{return!0}return!1}(),m=function(x){if(typeof window>"u"||!p)return d(x);try{return d(x)}catch{return!1}};e=function(b){var A=b!==null&&typeof b=="object",C=n.call(b)==="[object Function]",w=r(b),R=A&&n.call(b)==="[object String]",I=[];if(!A&&!C&&!w)throw new TypeError("Object.keys called on a non-object");var N=l&&C;if(R&&b.length>0&&!t.call(b,0))for(var D=0;D<b.length;++D)I.push(String(D));if(w&&b.length>0)for(var L=0;L<b.length;++L)I.push(String(L));else for(var k in b)!(N&&k==="prototype")&&t.call(b,k)&&I.push(String(k));if(a)for(var j=m(b),B=0;B<u.length;++B)!(j&&u[B]==="constructor")&&t.call(b,u[B])&&I.push(u[B]);return I}}return KA=e,KA}var XA,g_;function BF(){if(g_)return XA;g_=1;var e=Array.prototype.slice,t=kF(),n=Object.keys,r=n?function(l){return n(l)}:yY(),s=Object.keys;return r.shim=function(){if(Object.keys){var l=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);l||(Object.keys=function(d){return t(d)?s(e.call(d)):s(d)})}else Object.keys=r;return Object.keys||r},XA=r,XA}var ZA,m_;function xY(){if(m_)return ZA;m_=1;var e=BF(),t=$2()(),n=Ng(),r=H2(),s=n("Array.prototype.push"),a=n("Object.prototype.propertyIsEnumerable"),l=t?r.getOwnPropertySymbols:null;return ZA=function(d,g){if(d==null)throw new TypeError("target must be an object");var p=r(d);if(arguments.length===1)return p;for(var m=1;m<arguments.length;++m){var x=r(arguments[m]),b=e(x),A=t&&(r.getOwnPropertySymbols||l);if(A)for(var C=A(x),w=0;w<C.length;++w){var R=C[w];a(x,R)&&s(b,R)}for(var I=0;I<b.length;++I){var N=b[I];if(a(x,N)){var D=x[N];p[N]=D}}}return p},ZA}var JA,v_;function bY(){if(v_)return JA;v_=1;var e=xY(),t=function(){if(!Object.assign)return!1;for(var r="abcdefghijklmnopqrst",s=r.split(""),a={},l=0;l<s.length;++l)a[s[l]]=s[l];var u=Object.assign({},a),d="";for(var g in u)d+=g;return r!==d},n=function(){if(!Object.assign||!Object.preventExtensions)return!1;var r=Object.preventExtensions({1:2});try{Object.assign(r,"xy")}catch{return r[1]==="y"}return!1};return JA=function(){return!Object.assign||t()||n()?e:Object.assign},JA}var QA,y_;function jF(){if(y_)return QA;y_=1;var e=function(t){return t!==t};return QA=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},QA}var ew,x_;function Z2(){if(x_)return ew;x_=1;var e=jF();return ew=function(){return typeof Object.is=="function"?Object.is:e},ew}var tw,b_;function SY(){if(b_)return tw;b_=1;var e=X2(),t=WS(),n=t(e("String.prototype.indexOf"));return tw=function(s,a){var l=e(s,!!a);return typeof l=="function"&&n(s,".prototype.")>-1?t(l):l},tw}var nw,S_;function qS(){if(S_)return nw;S_=1;var e=BF(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,s=MF(),a=function(g){return typeof g=="function"&&n.call(g)==="[object Function]"},l=PF()(),u=function(g,p,m,x){if(p in g){if(x===!0){if(g[p]===m)return}else if(!a(x)||!x())return}l?s(g,p,m,!0):s(g,p,m)},d=function(g,p){var m=arguments.length>2?arguments[2]:{},x=e(p);t&&(x=r.call(x,Object.getOwnPropertySymbols(p)));for(var b=0;b<x.length;b+=1)u(g,x[b],p[x[b]],m[x[b]])};return d.supportsDescriptors=!!l,nw=d,nw}var rw,E_;function EY(){if(E_)return rw;E_=1;var e=Z2(),t=qS();return rw=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},rw}var iw,A_;function AY(){if(A_)return iw;A_=1;var e=qS(),t=WS(),n=jF(),r=Z2(),s=EY(),a=t(r(),Object);return e(a,{getPolyfill:r,implementation:n,shim:s}),iw=a,iw}var ow,w_;function zF(){return w_||(w_=1,ow=function(t){return t!==t}),ow}var sw,C_;function VF(){if(C_)return sw;C_=1;var e=zF();return sw=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},sw}var aw,R_;function wY(){if(R_)return aw;R_=1;var e=qS(),t=VF();return aw=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},aw}var lw,T_;function CY(){if(T_)return lw;T_=1;var e=WS(),t=qS(),n=zF(),r=VF(),s=wY(),a=e(r(),Number);return t(a,{getPolyfill:r,implementation:n,shim:s}),lw=a,lw}var uw,N_;function RY(){if(N_)return uw;N_=1;function e(ge,Ne){return a(ge)||s(ge,Ne)||n(ge,Ne)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(ge,Ne){if(ge){if(typeof ge=="string")return r(ge,Ne);var qe=Object.prototype.toString.call(ge).slice(8,-1);if(qe==="Object"&&ge.constructor&&(qe=ge.constructor.name),qe==="Map"||qe==="Set")return Array.from(ge);if(qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return r(ge,Ne)}}function r(ge,Ne){(Ne==null||Ne>ge.length)&&(Ne=ge.length);for(var qe=0,Ye=new Array(Ne);qe<Ne;qe++)Ye[qe]=ge[qe];return Ye}function s(ge,Ne){var qe=ge==null?null:typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(qe!=null){var Ye,tt,lt,xt,Rt=[],It=!0,sn=!1;try{if(lt=(qe=qe.call(ge)).next,Ne!==0)for(;!(It=(Ye=lt.call(qe)).done)&&(Rt.push(Ye.value),Rt.length!==Ne);It=!0);}catch(ke){sn=!0,tt=ke}finally{try{if(!It&&qe.return!=null&&(xt=qe.return(),Object(xt)!==xt))return}finally{if(sn)throw tt}}return Rt}}function a(ge){if(Array.isArray(ge))return ge}function l(ge){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ne){return typeof Ne}:function(Ne){return Ne&&typeof Symbol=="function"&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},l(ge)}var u=/a/g.flags!==void 0,d=function(Ne){var qe=[];return Ne.forEach(function(Ye){return qe.push(Ye)}),qe},g=function(Ne){var qe=[];return Ne.forEach(function(Ye,tt){return qe.push([tt,Ye])}),qe},p=Object.is?Object.is:AY(),m=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},x=Number.isNaN?Number.isNaN:CY();function b(ge){return ge.call.bind(ge)}var A=b(Object.prototype.hasOwnProperty),C=b(Object.prototype.propertyIsEnumerable),w=b(Object.prototype.toString),R=hg().types,I=R.isAnyArrayBuffer,N=R.isArrayBufferView,D=R.isDate,L=R.isMap,k=R.isRegExp,j=R.isSet,B=R.isNativeError,$=R.isBoxedPrimitive,K=R.isNumberObject,ne=R.isStringObject,re=R.isBooleanObject,Se=R.isBigIntObject,Me=R.isSymbolObject,Oe=R.isFloat32Array,ie=R.isFloat64Array;function Ee(ge){if(ge.length===0||ge.length>10)return!0;for(var Ne=0;Ne<ge.length;Ne++){var qe=ge.charCodeAt(Ne);if(qe<48||qe>57)return!0}return ge.length===10&&ge>=Math.pow(2,32)}function de(ge){return Object.keys(ge).filter(Ee).concat(m(ge).filter(Object.prototype.propertyIsEnumerable.bind(ge)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function ue(ge,Ne){if(ge===Ne)return 0;for(var qe=ge.length,Ye=Ne.length,tt=0,lt=Math.min(qe,Ye);tt<lt;++tt)if(ge[tt]!==Ne[tt]){qe=ge[tt],Ye=Ne[tt];break}return qe<Ye?-1:Ye<qe?1:0}var X=!0,oe=!1,he=0,z=1,V=2,G=3;function Y(ge,Ne){return u?ge.source===Ne.source&&ge.flags===Ne.flags:RegExp.prototype.toString.call(ge)===RegExp.prototype.toString.call(Ne)}function Q(ge,Ne){if(ge.byteLength!==Ne.byteLength)return!1;for(var qe=0;qe<ge.byteLength;qe++)if(ge[qe]!==Ne[qe])return!1;return!0}function Z(ge,Ne){return ge.byteLength!==Ne.byteLength?!1:ue(new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength),new Uint8Array(Ne.buffer,Ne.byteOffset,Ne.byteLength))===0}function J(ge,Ne){return ge.byteLength===Ne.byteLength&&ue(new Uint8Array(ge),new Uint8Array(Ne))===0}function se(ge,Ne){return K(ge)?K(Ne)&&p(Number.prototype.valueOf.call(ge),Number.prototype.valueOf.call(Ne)):ne(ge)?ne(Ne)&&String.prototype.valueOf.call(ge)===String.prototype.valueOf.call(Ne):re(ge)?re(Ne)&&Boolean.prototype.valueOf.call(ge)===Boolean.prototype.valueOf.call(Ne):Se(ge)?Se(Ne)&&BigInt.prototype.valueOf.call(ge)===BigInt.prototype.valueOf.call(Ne):Me(Ne)&&Symbol.prototype.valueOf.call(ge)===Symbol.prototype.valueOf.call(Ne)}function ye(ge,Ne,qe,Ye){if(ge===Ne)return ge!==0?!0:qe?p(ge,Ne):!0;if(qe){if(l(ge)!=="object")return typeof ge=="number"&&x(ge)&&x(Ne);if(l(Ne)!=="object"||ge===null||Ne===null||Object.getPrototypeOf(ge)!==Object.getPrototypeOf(Ne))return!1}else{if(ge===null||l(ge)!=="object")return Ne===null||l(Ne)!=="object"?ge==Ne:!1;if(Ne===null||l(Ne)!=="object")return!1}var tt=w(ge),lt=w(Ne);if(tt!==lt)return!1;if(Array.isArray(ge)){if(ge.length!==Ne.length)return!1;var xt=de(ge),Rt=de(Ne);return xt.length!==Rt.length?!1:ae(ge,Ne,qe,Ye,z,xt)}if(tt==="[object Object]"&&(!L(ge)&&L(Ne)||!j(ge)&&j(Ne)))return!1;if(D(ge)){if(!D(Ne)||Date.prototype.getTime.call(ge)!==Date.prototype.getTime.call(Ne))return!1}else if(k(ge)){if(!k(Ne)||!Y(ge,Ne))return!1}else if(B(ge)||ge instanceof Error){if(ge.message!==Ne.message||ge.name!==Ne.name)return!1}else if(N(ge)){if(!qe&&(Oe(ge)||ie(ge))){if(!Q(ge,Ne))return!1}else if(!Z(ge,Ne))return!1;var It=de(ge),sn=de(Ne);return It.length!==sn.length?!1:ae(ge,Ne,qe,Ye,he,It)}else{if(j(ge))return!j(Ne)||ge.size!==Ne.size?!1:ae(ge,Ne,qe,Ye,V);if(L(ge))return!L(Ne)||ge.size!==Ne.size?!1:ae(ge,Ne,qe,Ye,G);if(I(ge)){if(!J(ge,Ne))return!1}else if($(ge)&&!se(ge,Ne))return!1}return ae(ge,Ne,qe,Ye,he)}function xe(ge,Ne){return Ne.filter(function(qe){return C(ge,qe)})}function ae(ge,Ne,qe,Ye,tt,lt){if(arguments.length===5){lt=Object.keys(ge);var xt=Object.keys(Ne);if(lt.length!==xt.length)return!1}for(var Rt=0;Rt<lt.length;Rt++)if(!A(Ne,lt[Rt]))return!1;if(qe&&arguments.length===5){var It=m(ge);if(It.length!==0){var sn=0;for(Rt=0;Rt<It.length;Rt++){var ke=It[Rt];if(C(ge,ke)){if(!C(Ne,ke))return!1;lt.push(ke),sn++}else if(C(Ne,ke))return!1}var nt=m(Ne);if(It.length!==nt.length&&xe(Ne,nt).length!==sn)return!1}else{var mt=m(Ne);if(mt.length!==0&&xe(Ne,mt).length!==0)return!1}}if(lt.length===0&&(tt===he||tt===z&&ge.length===0||ge.size===0))return!0;if(Ye===void 0)Ye={val1:new Map,val2:new Map,position:0};else{var Et=Ye.val1.get(ge);if(Et!==void 0){var Dt=Ye.val2.get(Ne);if(Dt!==void 0)return Et===Dt}Ye.position++}Ye.val1.set(ge,Ye.position),Ye.val2.set(Ne,Ye.position);var vn=Ze(ge,Ne,qe,lt,Ye,tt);return Ye.val1.delete(ge),Ye.val2.delete(Ne),vn}function le(ge,Ne,qe,Ye){for(var tt=d(ge),lt=0;lt<tt.length;lt++){var xt=tt[lt];if(ye(Ne,xt,qe,Ye))return ge.delete(xt),!0}return!1}function we(ge){switch(l(ge)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ge=+ge;case"number":if(x(ge))return!1}return!0}function Ie(ge,Ne,qe){var Ye=we(qe);return Ye??(Ne.has(Ye)&&!ge.has(Ye))}function je(ge,Ne,qe,Ye,tt){var lt=we(qe);if(lt!=null)return lt;var xt=Ne.get(lt);return xt===void 0&&!Ne.has(lt)||!ye(Ye,xt,!1,tt)?!1:!ge.has(lt)&&ye(Ye,xt,!1,tt)}function Ve(ge,Ne,qe,Ye){for(var tt=null,lt=d(ge),xt=0;xt<lt.length;xt++){var Rt=lt[xt];if(l(Rt)==="object"&&Rt!==null)tt===null&&(tt=new Set),tt.add(Rt);else if(!Ne.has(Rt)){if(qe||!Ie(ge,Ne,Rt))return!1;tt===null&&(tt=new Set),tt.add(Rt)}}if(tt!==null){for(var It=d(Ne),sn=0;sn<It.length;sn++){var ke=It[sn];if(l(ke)==="object"&&ke!==null){if(!le(tt,ke,qe,Ye))return!1}else if(!qe&&!ge.has(ke)&&!le(tt,ke,qe,Ye))return!1}return tt.size===0}return!0}function me(ge,Ne,qe,Ye,tt,lt){for(var xt=d(ge),Rt=0;Rt<xt.length;Rt++){var It=xt[Rt];if(ye(qe,It,tt,lt)&&ye(Ye,Ne.get(It),tt,lt))return ge.delete(It),!0}return!1}function Pe(ge,Ne,qe,Ye){for(var tt=null,lt=g(ge),xt=0;xt<lt.length;xt++){var Rt=e(lt[xt],2),It=Rt[0],sn=Rt[1];if(l(It)==="object"&&It!==null)tt===null&&(tt=new Set),tt.add(It);else{var ke=Ne.get(It);if(ke===void 0&&!Ne.has(It)||!ye(sn,ke,qe,Ye)){if(qe||!je(ge,Ne,It,sn,Ye))return!1;tt===null&&(tt=new Set),tt.add(It)}}}if(tt!==null){for(var nt=g(Ne),mt=0;mt<nt.length;mt++){var Et=e(nt[mt],2),Dt=Et[0],vn=Et[1];if(l(Dt)==="object"&&Dt!==null){if(!me(tt,ge,Dt,vn,qe,Ye))return!1}else if(!qe&&(!ge.has(Dt)||!ye(ge.get(Dt),vn,!1,Ye))&&!me(tt,ge,Dt,vn,!1,Ye))return!1}return tt.size===0}return!0}function Ze(ge,Ne,qe,Ye,tt,lt){var xt=0;if(lt===V){if(!Ve(ge,Ne,qe,tt))return!1}else if(lt===G){if(!Pe(ge,Ne,qe,tt))return!1}else if(lt===z)for(;xt<ge.length;xt++)if(A(ge,xt)){if(!A(Ne,xt)||!ye(ge[xt],Ne[xt],qe,tt))return!1}else{if(A(Ne,xt))return!1;for(var Rt=Object.keys(ge);xt<Rt.length;xt++){var It=Rt[xt];if(!A(Ne,It)||!ye(ge[It],Ne[It],qe,tt))return!1}return Rt.length===Object.keys(Ne).length}for(xt=0;xt<Ye.length;xt++){var sn=Ye[xt];if(!ye(ge[sn],Ne[sn],qe,tt))return!1}return!0}function pt(ge,Ne){return ye(ge,Ne,oe)}function gt(ge,Ne){return ye(ge,Ne,X)}return uw={isDeepEqual:pt,isDeepStrictEqual:gt},uw}var __;function Ni(){if(__)return HE.exports;__=1;function e(V){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},e(V)}function t(V,G,Y){return Object.defineProperty(V,"prototype",{writable:!1}),V}function n(V,G){if(!(V instanceof G))throw new TypeError("Cannot call a class as a function")}var r=FF(),s=r.codes,a=s.ERR_AMBIGUOUS_ARGUMENT,l=s.ERR_INVALID_ARG_TYPE,u=s.ERR_INVALID_ARG_VALUE,d=s.ERR_INVALID_RETURN_VALUE,g=s.ERR_MISSING_ARGS,p=vY(),m=hg(),x=m.inspect,b=hg().types,A=b.isPromise,C=b.isRegExp,w=bY()(),R=Z2()(),I=SY()("RegExp.prototype.test"),N,D;function L(){var V=RY();N=V.isDeepEqual,D=V.isDeepStrictEqual}var k=!1,j=HE.exports=re,B={};function $(V){throw V.message instanceof Error?V.message:new p(V)}function K(V,G,Y,Q,Z){var J=arguments.length,se;if(J===0)se="Failed";else if(J===1)Y=V,V=void 0;else{if(k===!1){k=!0;var ye=process.emitWarning?process.emitWarning:console.warn.bind(console);ye("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}J===2&&(Q="!=")}if(Y instanceof Error)throw Y;var xe={actual:V,expected:G,operator:Q===void 0?"fail":Q,stackStartFn:Z||K};Y!==void 0&&(xe.message=Y);var ae=new p(xe);throw se&&(ae.message=se,ae.generatedMessage=!0),ae}j.fail=K,j.AssertionError=p;function ne(V,G,Y,Q){if(!Y){var Z=!1;if(G===0)Z=!0,Q="No value argument passed to `assert.ok()`";else if(Q instanceof Error)throw Q;var J=new p({actual:Y,expected:!0,message:Q,operator:"==",stackStartFn:V});throw J.generatedMessage=Z,J}}function re(){for(var V=arguments.length,G=new Array(V),Y=0;Y<V;Y++)G[Y]=arguments[Y];ne.apply(void 0,[re,G.length].concat(G))}j.ok=re,j.equal=function V(G,Y,Q){if(arguments.length<2)throw new g("actual","expected");G!=Y&&$({actual:G,expected:Y,message:Q,operator:"==",stackStartFn:V})},j.notEqual=function V(G,Y,Q){if(arguments.length<2)throw new g("actual","expected");G==Y&&$({actual:G,expected:Y,message:Q,operator:"!=",stackStartFn:V})},j.deepEqual=function V(G,Y,Q){if(arguments.length<2)throw new g("actual","expected");N===void 0&&L(),N(G,Y)||$({actual:G,expected:Y,message:Q,operator:"deepEqual",stackStartFn:V})},j.notDeepEqual=function V(G,Y,Q){if(arguments.length<2)throw new g("actual","expected");N===void 0&&L(),N(G,Y)&&$({actual:G,expected:Y,message:Q,operator:"notDeepEqual",stackStartFn:V})},j.deepStrictEqual=function V(G,Y,Q){if(arguments.length<2)throw new g("actual","expected");N===void 0&&L(),D(G,Y)||$({actual:G,expected:Y,message:Q,operator:"deepStrictEqual",stackStartFn:V})},j.notDeepStrictEqual=Se;function Se(V,G,Y){if(arguments.length<2)throw new g("actual","expected");N===void 0&&L(),D(V,G)&&$({actual:V,expected:G,message:Y,operator:"notDeepStrictEqual",stackStartFn:Se})}j.strictEqual=function V(G,Y,Q){if(arguments.length<2)throw new g("actual","expected");R(G,Y)||$({actual:G,expected:Y,message:Q,operator:"strictEqual",stackStartFn:V})},j.notStrictEqual=function V(G,Y,Q){if(arguments.length<2)throw new g("actual","expected");R(G,Y)&&$({actual:G,expected:Y,message:Q,operator:"notStrictEqual",stackStartFn:V})};var Me=t(function V(G,Y,Q){var Z=this;n(this,V),Y.forEach(function(J){J in G&&(Q!==void 0&&typeof Q[J]=="string"&&C(G[J])&&I(G[J],Q[J])?Z[J]=Q[J]:Z[J]=G[J])})});function Oe(V,G,Y,Q,Z,J){if(!(Y in V)||!D(V[Y],G[Y])){if(!Q){var se=new Me(V,Z),ye=new Me(G,Z,V),xe=new p({actual:se,expected:ye,operator:"deepStrictEqual",stackStartFn:J});throw xe.actual=V,xe.expected=G,xe.operator=J.name,xe}$({actual:V,expected:G,message:Q,operator:J.name,stackStartFn:J})}}function ie(V,G,Y,Q){if(typeof G!="function"){if(C(G))return I(G,V);if(arguments.length===2)throw new l("expected",["Function","RegExp"],G);if(e(V)!=="object"||V===null){var Z=new p({actual:V,expected:G,message:Y,operator:"deepStrictEqual",stackStartFn:Q});throw Z.operator=Q.name,Z}var J=Object.keys(G);if(G instanceof Error)J.push("name","message");else if(J.length===0)throw new u("error",G,"may not be an empty object");return N===void 0&&L(),J.forEach(function(se){typeof V[se]=="string"&&C(G[se])&&I(G[se],V[se])||Oe(V,G,se,Y,J,Q)}),!0}return G.prototype!==void 0&&V instanceof G?!0:Error.isPrototypeOf(G)?!1:G.call({},V)===!0}function Ee(V){if(typeof V!="function")throw new l("fn","Function",V);try{V()}catch(G){return G}return B}function de(V){return A(V)||V!==null&&e(V)==="object"&&typeof V.then=="function"&&typeof V.catch=="function"}function ue(V){return Promise.resolve().then(function(){var G;if(typeof V=="function"){if(G=V(),!de(G))throw new d("instance of Promise","promiseFn",G)}else if(de(V))G=V;else throw new l("promiseFn",["Function","Promise"],V);return Promise.resolve().then(function(){return G}).then(function(){return B}).catch(function(Y){return Y})})}function X(V,G,Y,Q){if(typeof Y=="string"){if(arguments.length===4)throw new l("error",["Object","Error","Function","RegExp"],Y);if(e(G)==="object"&&G!==null){if(G.message===Y)throw new a("error/message",'The error message "'.concat(G.message,'" is identical to the message.'))}else if(G===Y)throw new a("error/message",'The error "'.concat(G,'" is identical to the message.'));Q=Y,Y=void 0}else if(Y!=null&&e(Y)!=="object"&&typeof Y!="function")throw new l("error",["Object","Error","Function","RegExp"],Y);if(G===B){var Z="";Y&&Y.name&&(Z+=" (".concat(Y.name,")")),Z+=Q?": ".concat(Q):".";var J=V.name==="rejects"?"rejection":"exception";$({actual:void 0,expected:Y,operator:V.name,message:"Missing expected ".concat(J).concat(Z),stackStartFn:V})}if(Y&&!ie(G,Y,Q,V))throw G}function oe(V,G,Y,Q){if(G!==B){if(typeof Y=="string"&&(Q=Y,Y=void 0),!Y||ie(G,Y)){var Z=Q?": ".concat(Q):".",J=V.name==="doesNotReject"?"rejection":"exception";$({actual:G,expected:Y,operator:V.name,message:"Got unwanted ".concat(J).concat(Z,`
`)+'Actual message: "'.concat(G&&G.message,'"'),stackStartFn:V})}throw G}}j.throws=function V(G){for(var Y=arguments.length,Q=new Array(Y>1?Y-1:0),Z=1;Z<Y;Z++)Q[Z-1]=arguments[Z];X.apply(void 0,[V,Ee(G)].concat(Q))},j.rejects=function V(G){for(var Y=arguments.length,Q=new Array(Y>1?Y-1:0),Z=1;Z<Y;Z++)Q[Z-1]=arguments[Z];return ue(G).then(function(J){return X.apply(void 0,[V,J].concat(Q))})},j.doesNotThrow=function V(G){for(var Y=arguments.length,Q=new Array(Y>1?Y-1:0),Z=1;Z<Y;Z++)Q[Z-1]=arguments[Z];oe.apply(void 0,[V,Ee(G)].concat(Q))},j.doesNotReject=function V(G){for(var Y=arguments.length,Q=new Array(Y>1?Y-1:0),Z=1;Z<Y;Z++)Q[Z-1]=arguments[Z];return ue(G).then(function(J){return oe.apply(void 0,[V,J].concat(Q))})},j.ifError=function V(G){if(G!=null){var Y="ifError got unwanted exception: ";e(G)==="object"&&typeof G.message=="string"?G.message.length===0&&G.constructor?Y+=G.constructor.name:Y+=G.message:Y+=x(G);var Q=new p({actual:G,expected:null,operator:"ifError",message:Y,stackStartFn:V}),Z=G.stack;if(typeof Z=="string"){var J=Z.split(`
`);J.shift();for(var se=Q.stack.split(`
`),ye=0;ye<J.length;ye++){var xe=se.indexOf(J[ye]);if(xe!==-1){se=se.slice(0,xe);break}}Q.stack="".concat(se.join(`
`),`
`).concat(J.join(`
`))}throw Q}};function he(V,G,Y,Q,Z){if(!C(G))throw new l("regexp","RegExp",G);var J=Z==="match";if(typeof V!="string"||I(G,V)!==J){if(Y instanceof Error)throw Y;var se=!Y;Y=Y||(typeof V!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(V)," (").concat(x(V),")"):(J?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(x(G),`. Input:

`).concat(x(V),`
`));var ye=new p({actual:V,expected:G,message:Y,operator:Z,stackStartFn:Q});throw ye.generatedMessage=se,ye}}j.match=function V(G,Y,Q){he(G,Y,Q,V,"match")},j.doesNotMatch=function V(G,Y,Q){he(G,Y,Q,V,"doesNotMatch")};function z(){for(var V=arguments.length,G=new Array(V),Y=0;Y<V;Y++)G[Y]=arguments[Y];ne.apply(void 0,[z,G.length].concat(G))}return j.strict=w(z,j,{equal:j.strictEqual,deepEqual:j.deepStrictEqual,notEqual:j.notStrictEqual,notDeepEqual:j.notDeepStrictEqual}),j.strict.strict=j.strict,HE.exports}var Es={},I_;function Ue(){if(I_)return Es;I_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Es,"__esModule",{value:!0}),Es.SuppressWarnings=Es.Override=Es.Nullable=Es.NotNull=void 0;function e(s,a,l){}Es.NotNull=e;function t(s,a,l){}Es.Nullable=t;function n(s,a,l){}Es.Override=n;function r(s){return(a,l,u)=>{}}return Es.SuppressWarnings=r,Es}var cw={},O_;function nf(){return O_||(O_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.IntStream=void 0,function(t){t.EOF=-1,t.UNKNOWN_SOURCE_NAME="<unknown>"}(e.IntStream||(e.IntStream={}))}(cw)),cw}var D_;function TY(){if(D_)return Xf;D_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xf&&Xf.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.ANTLRInputStream=void 0;const t=Ni(),n=Ue(),r=nf();let s=class{constructor(l){this.p=0,this.data=l,this.n=l.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw t(this.LA(1)===r.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(l){return l===0?0:l<0&&(l++,this.p+l-1<0)||this.p+l-1>=this.n?r.IntStream.EOF:this.data.charCodeAt(this.p+l-1)}LT(l){return this.LA(l)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(l){}seek(l){if(l<=this.p){this.p=l;return}for(l=Math.min(l,this.n);this.p<l;)this.consume()}getText(l){let u=l.a,d=l.b;d>=this.n&&(d=this.n-1);let g=d-u+1;return u>=this.n?"":this.data.substr(u,g)}get sourceName(){return this.name?this.name:r.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};return e([n.Override],s.prototype,"consume",null),e([n.Override],s.prototype,"LA",null),e([n.Override],s.prototype,"index",null),e([n.Override],s.prototype,"size",null),e([n.Override],s.prototype,"mark",null),e([n.Override],s.prototype,"release",null),e([n.Override],s.prototype,"seek",null),e([n.Override],s.prototype,"getText",null),e([n.Override],s.prototype,"sourceName",null),e([n.Override],s.prototype,"toString",null),Xf.ANTLRInputStream=s,Xf}var Zf={},yl={},D0={},M_;function Iu(){return M_||(M_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=D0&&D0.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNState=void 0;const n=Ue();let r=class wC{constructor(){this.stateNumber=wC.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(a){return a instanceof wC?this.stateNumber===a.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(a,l){if(this.transitions.length===0)this.epsilonOnlyTransitions=a.isEpsilon;else if(this.epsilonOnlyTransitions!==a.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(l!==void 0?l:this.transitions.length,0,a)}transition(a){return this.transitions[a]}setTransition(a,l){this.transitions[a]=l}removeTransition(a){return this.transitions.splice(a,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(a){this.ruleIndex=a}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(a){return this.optimizedTransitions[a]}addOptimizedTransition(a){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(a)}setOptimizedTransition(a,l){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[a]=l}removeOptimizedTransition(a){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(a,1)}};t([n.Override],r.prototype,"hashCode",null),t([n.Override],r.prototype,"equals",null),t([n.Override],r.prototype,"toString",null),e.ATNState=r,function(s){s.INVALID_STATE_NUMBER=-1}(r=e.ATNState||(e.ATNState={}))}(D0)),D0}var fw={},P_;function Jr(){return P_||(P_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ATNStateType=void 0,function(t){t[t.INVALID_TYPE=0]="INVALID_TYPE",t[t.BASIC=1]="BASIC",t[t.RULE_START=2]="RULE_START",t[t.BLOCK_START=3]="BLOCK_START",t[t.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",t[t.STAR_BLOCK_START=5]="STAR_BLOCK_START",t[t.TOKEN_START=6]="TOKEN_START",t[t.RULE_STOP=7]="RULE_STOP",t[t.BLOCK_END=8]="BLOCK_END",t[t.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",t[t.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",t[t.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",t[t.LOOP_END=12]="LOOP_END"}(e.ATNStateType||(e.ATNStateType={}))}(fw)),fw}var xl={},M0={},L_;function rf(){if(L_)return M0;L_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(M0,"__esModule",{value:!0}),M0.RecognitionException=void 0;let e=class extends Error{constructor(n,r,s,a){super(a),this._offendingState=-1,this._recognizer=n,this.input=r,this.ctx=s,n&&(this._offendingState=n.state)}get offendingState(){return this._offendingState}setOffendingState(n){this._offendingState=n}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(n){if(!(n&&n!==this._recognizer))return this.offendingToken}setOffendingToken(n,r){n===this._recognizer&&(this.offendingToken=r)}get recognizer(){return this._recognizer}};return M0.RecognitionException=e,M0}var bl={},P0={},Sl={},F_;function of(){if(F_)return Sl;F_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sl&&Sl.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g},t=Sl&&Sl.__param||function(s,a){return function(l,u){a(l,u,s)}};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.Transition=void 0;const n=Ue();let r=class{constructor(a){if(a==null)throw new Error("target cannot be null.");this.target=a}get isEpsilon(){return!1}get label(){}};return r.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],e([n.NotNull],r.prototype,"target",void 0),r=e([t(0,n.NotNull)],r),Sl.Transition=r,Sl}var k_;function J2(){if(k_)return P0;k_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(P0,"__esModule",{value:!0}),P0.AbstractPredicateTransition=void 0;const e=of();let t=class extends e.Transition{constructor(r){super(r)}};return P0.AbstractPredicateTransition=t,P0}var Jf={},El={},Qf={},dw={},B_;function pr(){return B_||(B_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash=void 0,function(t){function r(d=0){return d}t.initialize=r;function s(d,g){g==null?g=0:typeof g=="string"?g=u(g):typeof g=="object"&&(g=g.hashCode());let w=g;return w=Math.imul(w,3432918353),w=w<<15|w>>>17,w=Math.imul(w,461845907),d=d^w,d=d<<13|d>>>19,d=Math.imul(d,5)+3864292196,d&4294967295}t.update=s;function a(d,g){return d=d^g*4,d=d^d>>>16,d=Math.imul(d,2246822507),d=d^d>>>13,d=Math.imul(d,3266489909),d=d^d>>>16,d}t.finish=a;function l(d,g=0){let p=r(g),m=0;for(let x of d)p=s(p,x),m++;return p=a(p,m),p}t.hashCode=l;function u(d){let g=d.length;if(g===0)return 0;let p=0;for(let m=0;m<g;m++){let x=d.charCodeAt(m);p=(p<<5>>>0)-p+x,p|=0}return p}}(e.MurmurHash||(e.MurmurHash={}))}(dw)),dw}var ed={},j_;function za(){if(j_)return ed;j_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ed&&ed.__decorate||function(r,s,a,l){var u=arguments.length,d=u<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,s,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(d=(u<3?g(d):u>3?g(s,a,d):g(s,a))||d);return u>3&&d&&Object.defineProperty(s,a,d),d};Object.defineProperty(ed,"__esModule",{value:!0}),ed.ObjectEqualityComparator=void 0;const t=Ue();let n=class{hashCode(s){return s==null?0:s.hashCode()}equals(s,a){return s==null?a==null:s.equals(a)}};return n.INSTANCE=new n,e([t.Override],n.prototype,"hashCode",null),e([t.Override],n.prototype,"equals",null),ed.ObjectEqualityComparator=n,ed}var z_;function NY(){if(z_)return Qf;z_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Qf&&Qf.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.DefaultEqualityComparator=void 0;const t=Ue(),n=pr(),r=za();let s=class{hashCode(l){return l==null?0:typeof l=="string"||typeof l=="number"?n.MurmurHash.hashCode([l]):r.ObjectEqualityComparator.INSTANCE.hashCode(l)}equals(l,u){return l==null?u==null:typeof l=="string"||typeof l=="number"?l===u:r.ObjectEqualityComparator.INSTANCE.equals(l,u)}};return s.INSTANCE=new s,e([t.Override],s.prototype,"hashCode",null),e([t.Override],s.prototype,"equals",null),Qf.DefaultEqualityComparator=s,Qf}var V_;function sf(){if(V_)return El;V_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=El&&El.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A},t=El&&El.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(El,"__esModule",{value:!0}),El.Array2DHashSet=void 0;const n=Ni(),r=NY(),s=Ue(),a=pr(),l=16,u=.75;let d=class Hb{constructor(p,m=l){if(this.n=0,this.threshold=Math.floor(l*u),p instanceof Hb){this.comparator=p.comparator,this.buckets=p.buckets.slice(0);for(let x=0;x<this.buckets.length;x++){let b=this.buckets[x];b&&(this.buckets[x]=b.slice(0))}this.n=p.n,this.threshold=p.threshold}else this.comparator=p||r.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(m)}getOrAdd(p){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(p)}getOrAddImpl(p){let m=this.getBucket(p),x=this.buckets[m];if(!x)return x=[p],this.buckets[m]=x,this.n++,p;for(let b of x)if(this.comparator.equals(b,p))return b;return x.push(p),this.n++,p}get(p){if(p==null)return p;let m=this.getBucket(p),x=this.buckets[m];if(x){for(let b of x)if(this.comparator.equals(b,p))return b}}getBucket(p){return this.comparator.hashCode(p)&this.buckets.length-1}hashCode(){let p=a.MurmurHash.initialize();for(let m of this.buckets)if(m!=null)for(let x of m){if(x==null)break;p=a.MurmurHash.update(p,this.comparator.hashCode(x))}return p=a.MurmurHash.finish(p,this.size),p}equals(p){return p===this?!0:!(p instanceof Hb)||p.size!==this.size?!1:this.containsAll(p)}expand(){let p=this.buckets,m=this.buckets.length*2,x=this.createBuckets(m);this.buckets=x,this.threshold=Math.floor(m*u);let b=this.size;for(let A of p)if(A)for(let C of A){let w=this.getBucket(C),R=this.buckets[w];R||(R=[],this.buckets[w]=R),R.push(C)}n(this.n===b)}add(p){return this.getOrAdd(p)===p}get size(){return this.n}get isEmpty(){return this.n===0}contains(p){return this.containsFast(this.asElementType(p))}containsFast(p){return p==null?!1:this.get(p)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){const p=new Array(this.size);let m=0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;p[m++]=b}return p}containsAll(p){if(p instanceof Hb){let m=p;for(let x of m.buckets)if(x!=null)for(let b of x){if(b==null)break;if(!this.containsFast(this.asElementType(b)))return!1}}else for(let m of p)if(!this.containsFast(this.asElementType(m)))return!1;return!0}addAll(p){let m=!1;for(let x of p)this.getOrAdd(x)!==x&&(m=!0);return m}clear(){this.buckets=this.createBuckets(l),this.n=0,this.threshold=Math.floor(l*u)}toString(){if(this.size===0)return"{}";let p="{",m=!0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;m?m=!1:p+=", ",p+=b.toString()}return p+="}",p}toTableString(){let p="";for(let m of this.buckets){if(m==null){p+=`null
`;continue}p+="[";let x=!0;for(let b of m)x?x=!1:p+=" ",b==null?p+="_":p+=b.toString();p+=`]
`}return p}asElementType(p){return p}createBuckets(p){return new Array(p)}};return e([s.NotNull],d.prototype,"comparator",void 0),e([s.Override],d.prototype,"hashCode",null),e([s.Override],d.prototype,"equals",null),e([s.Override],d.prototype,"add",null),e([s.Override],d.prototype,"size",null),e([s.Override],d.prototype,"isEmpty",null),e([s.Override],d.prototype,"contains",null),e([t(0,s.Nullable)],d.prototype,"containsFast",null),e([s.Override],d.prototype,Symbol.iterator,null),e([s.Override],d.prototype,"toArray",null),e([s.Override],d.prototype,"containsAll",null),e([s.Override],d.prototype,"addAll",null),e([s.Override],d.prototype,"clear",null),e([s.Override],d.prototype,"toString",null),e([s.SuppressWarnings("unchecked")],d.prototype,"asElementType",null),e([s.SuppressWarnings("unchecked")],d.prototype,"createBuckets",null),El.Array2DHashSet=d,El}var td={},U_;function KS(){if(U_)return td;U_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=td&&td.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(td,"__esModule",{value:!0}),td.ArrayEqualityComparator=void 0;const t=Ue(),n=pr(),r=za();let s=class{hashCode(l){return l==null?0:n.MurmurHash.hashCode(l,0)}equals(l,u){if(l==null)return u==null;if(u==null||l.length!==u.length)return!1;for(let d=0;d<l.length;d++)if(!r.ObjectEqualityComparator.INSTANCE.equals(l[d],u[d]))return!1;return!0}};return s.INSTANCE=new s,e([t.Override],s.prototype,"hashCode",null),e([t.Override],s.prototype,"equals",null),td.ArrayEqualityComparator=s,td}var co={},G_;function Ou(){if(G_)return co;G_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(co,"__esModule",{value:!0}),co.toCharArray=co.toMap=co.equals=co.join=co.escapeWhitespace=void 0;function e(a,l){return l?a.replace(/ /,""):a.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}co.escapeWhitespace=e;function t(a,l){let u="",d=!0;for(let g of a)d?d=!1:u+=l,u+=g;return u}co.join=t;function n(a,l){return a===l?!0:a===void 0||l===void 0?!1:a.equals(l)}co.equals=n;function r(a){let l=new Map;for(let u=0;u<a.length;u++)l.set(a[u],u);return l}co.toMap=r;function s(a){if(typeof a=="string"){let l=new Uint16Array(a.length);for(let u=0;u<a.length;u++)l[u]=a.charCodeAt(u);return l}else return a.toCharArray()}return co.toCharArray=s,co}var $_;function _g(){return $_||($_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Jf&&Jf.__decorate||function(x,b,A,C){var w=arguments.length,R=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,A):C,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,A,C);else for(var N=x.length-1;N>=0;N--)(I=x[N])&&(R=(w<3?I(R):w>3?I(b,A,R):I(b,A))||R);return w>3&&R&&Object.defineProperty(b,A,R),R},n=Jf&&Jf.__param||function(x,b){return function(A,C){b(A,C,x)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticContext=void 0;const r=sf(),s=KS(),a=pr(),l=Ue(),u=za(),d=Ou();function g(x){let b;for(let A of x){if(b===void 0){b=A;continue}b.compareTo(A)<0&&(b=A)}return b}function p(x){let b;for(let A of x){if(b===void 0){b=A;continue}b.compareTo(A)>0&&(b=A)}return b}let m=class ko{static get NONE(){return ko._NONE===void 0&&(ko._NONE=new ko.Predicate),ko._NONE}evalPrecedence(b,A){return this}static and(b,A){if(!b||b===ko.NONE)return A;if(A===ko.NONE)return b;let C=new ko.AND(b,A);return C.opnds.length===1?C.opnds[0]:C}static or(b,A){if(!b)return A;if(b===ko.NONE||A===ko.NONE)return ko.NONE;let C=new ko.OR(b,A);return C.opnds.length===1?C.opnds[0]:C}};e.SemanticContext=m,function(x){function C(L){let k=[];for(let j=0;j<L.length;j++){let B=L[j];B instanceof x.PrecedencePredicate&&(k.push(B),L.splice(j,1),j--)}return k}class w extends x{constructor(k=-1,j=-1,B=!1){super(),this.ruleIndex=k,this.predIndex=j,this.isCtxDependent=B}eval(k,j){let B=this.isCtxDependent?j:void 0;return k.sempred(B,this.ruleIndex,this.predIndex)}hashCode(){let k=a.MurmurHash.initialize();return k=a.MurmurHash.update(k,this.ruleIndex),k=a.MurmurHash.update(k,this.predIndex),k=a.MurmurHash.update(k,this.isCtxDependent?1:0),k=a.MurmurHash.finish(k,3),k}equals(k){return k instanceof w?this===k?!0:this.ruleIndex===k.ruleIndex&&this.predIndex===k.predIndex&&this.isCtxDependent===k.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}t([l.Override],w.prototype,"eval",null),t([l.Override],w.prototype,"hashCode",null),t([l.Override],w.prototype,"equals",null),t([l.Override],w.prototype,"toString",null),x.Predicate=w;class R extends x{constructor(k){super(),this.precedence=k}eval(k,j){return k.precpred(j,this.precedence)}evalPrecedence(k,j){if(k.precpred(j,this.precedence))return x.NONE}compareTo(k){return this.precedence-k.precedence}hashCode(){let k=1;return k=31*k+this.precedence,k}equals(k){return k instanceof R?this===k?!0:this.precedence===k.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}t([l.Override],R.prototype,"eval",null),t([l.Override],R.prototype,"evalPrecedence",null),t([l.Override],R.prototype,"compareTo",null),t([l.Override],R.prototype,"hashCode",null),t([l.Override],R.prototype,"equals",null),t([l.Override],R.prototype,"toString",null),x.PrecedencePredicate=R;class I extends x{}x.Operator=I;let N=class Yb extends I{constructor(k,j){super();let B=new r.Array2DHashSet(u.ObjectEqualityComparator.INSTANCE);k instanceof Yb?B.addAll(k.opnds):B.add(k),j instanceof Yb?B.addAll(j.opnds):B.add(j),this.opnds=B.toArray();let $=C(this.opnds),K=p($);K&&this.opnds.push(K)}get operands(){return this.opnds}equals(k){return this===k?!0:k instanceof Yb?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,k.opnds):!1}hashCode(){return a.MurmurHash.hashCode(this.opnds,40363613)}eval(k,j){for(let B of this.opnds)if(!B.eval(k,j))return!1;return!0}evalPrecedence(k,j){let B=!1,$=[];for(let ne of this.opnds){let re=ne.evalPrecedence(k,j);if(B=B||re!==ne,re==null)return;re!==x.NONE&&$.push(re)}if(!B)return this;if($.length===0)return x.NONE;let K=$[0];for(let ne=1;ne<$.length;ne++)K=x.and(K,$[ne]);return K}toString(){return d.join(this.opnds,"&&")}};t([l.Override],N.prototype,"operands",null),t([l.Override],N.prototype,"equals",null),t([l.Override],N.prototype,"hashCode",null),t([l.Override],N.prototype,"eval",null),t([l.Override],N.prototype,"evalPrecedence",null),t([l.Override],N.prototype,"toString",null),N=t([n(0,l.NotNull),n(1,l.NotNull)],N),x.AND=N;let D=class Wb extends I{constructor(k,j){super();let B=new r.Array2DHashSet(u.ObjectEqualityComparator.INSTANCE);k instanceof Wb?B.addAll(k.opnds):B.add(k),j instanceof Wb?B.addAll(j.opnds):B.add(j),this.opnds=B.toArray();let $=C(this.opnds),K=g($);K&&this.opnds.push(K)}get operands(){return this.opnds}equals(k){return this===k?!0:k instanceof Wb?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,k.opnds):!1}hashCode(){return a.MurmurHash.hashCode(this.opnds,486279973)}eval(k,j){for(let B of this.opnds)if(B.eval(k,j))return!0;return!1}evalPrecedence(k,j){let B=!1,$=[];for(let ne of this.opnds){let re=ne.evalPrecedence(k,j);if(B=B||re!==ne,re===x.NONE)return x.NONE;re&&$.push(re)}if(!B)return this;if($.length===0)return;let K=$[0];for(let ne=1;ne<$.length;ne++)K=x.or(K,$[ne]);return K}toString(){return d.join(this.opnds,"||")}};t([l.Override],D.prototype,"operands",null),t([l.Override],D.prototype,"equals",null),t([l.Override],D.prototype,"hashCode",null),t([l.Override],D.prototype,"eval",null),t([l.Override],D.prototype,"evalPrecedence",null),t([l.Override],D.prototype,"toString",null),D=t([n(0,l.NotNull),n(1,l.NotNull)],D),x.OR=D}(m=e.SemanticContext||(e.SemanticContext={}))}(Jf)),Jf}var H_;function UF(){if(H_)return bl;H_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bl&&bl.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},t=bl&&bl.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(bl,"__esModule",{value:!0}),bl.PredicateTransition=void 0;const n=J2(),r=Ue(),s=_g();let a=class extends n.AbstractPredicateTransition{constructor(u,d,g,p){super(u),this.ruleIndex=d,this.predIndex=g,this.isCtxDependent=p}get serializationType(){return 4}get isEpsilon(){return!0}matches(u,d,g){return!1}get predicate(){return new s.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override],a.prototype,"isEpsilon",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),bl.PredicateTransition=a,bl}var Y_;function XS(){if(Y_)return xl;Y_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xl&&xl.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},t=xl&&xl.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(xl,"__esModule",{value:!0}),xl.FailedPredicateException=void 0;const n=rf(),r=Ue(),s=UF();let a=class GF extends n.RecognitionException{constructor(u,d,g){super(u,u.inputStream,u.context,GF.formatMessage(d,g));let m=u.interpreter.atn.states[u.state].transition(0);m instanceof s.PredicateTransition?(this._ruleIndex=m.ruleIndex,this._predicateIndex=m.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=d,super.setOffendingToken(u,u.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(u,d){return d||`failed predicate: {${u}}?`}};return e([r.NotNull],a,"formatMessage",null),a=e([t(0,r.NotNull)],a),xl.FailedPredicateException=a,xl}var Al={},W_;function ZS(){if(W_)return Al;W_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Al&&Al.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Al&&Al.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(Al,"__esModule",{value:!0}),Al.InputMismatchException=void 0;const n=rf(),r=Ue();let s=class extends n.RecognitionException{constructor(l,u,d){d===void 0&&(d=l.context),super(l,l.inputStream,d),u!==void 0&&this.setOffendingState(u),this.setOffendingToken(l,l.currentToken)}};return s=e([t(0,r.NotNull)],s),Al.InputMismatchException=s,Al}var wl={},nd={},hw={},q_;function Q2(){return q_||(q_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Arrays=void 0,function(t){function n(a,l,u,d){return r(a,u!==void 0?u:0,d!==void 0?d:a.length,l)}t.binarySearch=n;function r(a,l,u,d){let g=l,p=u-1;for(;g<=p;){let m=g+p>>>1,x=a[m];if(x<d)g=m+1;else if(x>d)p=m-1;else return m}return-(g+1)}function s(a){let l="[",u=!0;for(let d of a)u?u=!1:l+=", ",d===null?l+="null":d===void 0?l+="undefined":l+=d;return l+="]",l}t.toString=s}(e.Arrays||(e.Arrays={}))}(hw)),hw}var K_;function eR(){if(K_)return nd;K_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nd&&nd.__decorate||function(u,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,d,g,p);else for(var A=u.length-1;A>=0;A--)(b=u[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x};Object.defineProperty(nd,"__esModule",{value:!0}),nd.IntegerList=void 0;const t=Q2(),n=Ue(),r=new Int32Array(0),s=4,a=(1<<31>>>0)-1-8;let l=class qb{constructor(d){if(!d)this._data=r,this._size=0;else if(d instanceof qb)this._data=d._data.slice(0),this._size=d._size;else if(typeof d=="number")d===0?(this._data=r,this._size=0):(this._data=new Int32Array(d),this._size=0);else{this._data=r,this._size=0;for(let g of d)this.add(g)}}add(d){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=d,this._size++}addAll(d){if(Array.isArray(d))this.ensureCapacity(this._size+d.length),this._data.subarray(this._size,this._size+d.length).set(d),this._size+=d.length;else if(d instanceof qb)this.ensureCapacity(this._size+d._size),this._data.subarray(this._size,this._size+d.size).set(d._data),this._size+=d._size;else{this.ensureCapacity(this._size+d.size);let g=0;for(let p of d)this._data[this._size+g]=p,g++;this._size+=d.size}}get(d){if(d<0||d>=this._size)throw RangeError();return this._data[d]}contains(d){for(let g=0;g<this._size;g++)if(this._data[g]===d)return!0;return!1}set(d,g){if(d<0||d>=this._size)throw RangeError();let p=this._data[d];return this._data[d]=g,p}removeAt(d){let g=this.get(d);return this._data.copyWithin(d,d+1,this._size),this._data[this._size-1]=0,this._size--,g}removeRange(d,g){if(d<0||g<0||d>this._size||g>this._size||d>g)throw RangeError();this._data.copyWithin(g,d,this._size),this._data.fill(0,this._size-(g-d),this._size),this._size-=g-d}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(d){if(d===this)return!0;if(!(d instanceof qb)||this._size!==d._size)return!1;for(let g=0;g<this._size;g++)if(this._data[g]!==d._data[g])return!1;return!0}hashCode(){let d=1;for(let g=0;g<this._size;g++)d=31*d+this._data[g];return d}toString(){return this._data.toString()}binarySearch(d,g,p){if(g===void 0&&(g=0),p===void 0&&(p=this._size),g<0||p<0||g>this._size||p>this._size)throw new RangeError;if(g>p)throw new RangeError;return t.Arrays.binarySearch(this._data,d,g,p)}ensureCapacity(d){if(d<0||d>a)throw new RangeError;let g;for(this._data.length===0?g=s:g=this._data.length;g<d;)g=g*2,(g<0||g>a)&&(g=a);let p=new Int32Array(g);p.set(this._data),this._data=p}toCharArray(){let d=new Uint16Array(this._size),g=0,p=!1;for(let m=0;m<this._size;m++){let x=this._data[m];if(x>=0&&x<65536){d[g]=x,g++;continue}if(!p){let A=new Uint16Array(this.charArraySize());A.set(d,0),d=A,p=!0}let b=String.fromCodePoint(x);d[g]=b.charCodeAt(0),d[g+1]=b.charCodeAt(1),g+=2}return d}charArraySize(){let d=0;for(let g=0;g<this._size;g++)d+=this._data[g]>=65536?2:1;return d}};return e([n.NotNull],l.prototype,"_data",void 0),e([n.Override],l.prototype,"equals",null),e([n.Override],l.prototype,"hashCode",null),e([n.Override],l.prototype,"toString",null),nd.IntegerList=l,nd}var rd={},X_;function Xi(){if(X_)return rd;X_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=rd&&rd.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(rd,"__esModule",{value:!0}),rd.Interval=void 0;const t=Ue(),n=1e3;let r=class Bo{constructor(a,l){this.a=a,this.b=l}static get INVALID(){return Bo._INVALID}static of(a,l){return a!==l||a<0||a>n?new Bo(a,l):(Bo.cache[a]==null&&(Bo.cache[a]=new Bo(a,a)),Bo.cache[a])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(a){return a===this?!0:a instanceof Bo?this.a===a.a&&this.b===a.b:!1}hashCode(){let a=23;return a=a*31+this.a,a=a*31+this.b,a}startsBeforeDisjoint(a){return this.a<a.a&&this.b<a.a}startsBeforeNonDisjoint(a){return this.a<=a.a&&this.b>=a.a}startsAfter(a){return this.a>a.a}startsAfterDisjoint(a){return this.a>a.b}startsAfterNonDisjoint(a){return this.a>a.a&&this.a<=a.b}disjoint(a){return this.startsBeforeDisjoint(a)||this.startsAfterDisjoint(a)}adjacent(a){return this.a===a.b+1||this.b===a.a-1}properlyContains(a){return a.a>=this.a&&a.b<=this.b}union(a){return Bo.of(Math.min(this.a,a.a),Math.max(this.b,a.b))}intersection(a){return Bo.of(Math.max(this.a,a.a),Math.min(this.b,a.b))}differenceNotProperlyContained(a){let l;return a.startsBeforeNonDisjoint(this)?l=Bo.of(Math.max(this.a,a.b+1),this.b):a.startsAfterNonDisjoint(this)&&(l=Bo.of(this.a,a.a-1)),l}toString(){return this.a+".."+this.b}};return r._INVALID=new r(-1,-2),r.cache=new Array(n+1),e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),e([t.Override],r.prototype,"toString",null),rd.Interval=r,rd}var id={},L0={},Cl={},pw={},Z_;function $n(){return Z_||(Z_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Token=void 0;const t=nf();(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=t.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(e.Token||(e.Token={}))}(pw)),pw}var J_;function Zv(){if(J_)return Cl;J_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cl&&Cl.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},t=Cl&&Cl.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.CommonToken=void 0;const n=Xi(),r=Ue(),s=$n();let a=class av{constructor(u,d,g=av.EMPTY_SOURCE,p=s.Token.DEFAULT_CHANNEL,m=0,x=0){this._line=0,this._charPositionInLine=-1,this._channel=s.Token.DEFAULT_CHANNEL,this.index=-1,this._text=d,this._type=u,this.source=g,this._channel=p,this.start=m,this.stop=x,g.source!=null&&(this._line=g.source.line,this._charPositionInLine=g.source.charPositionInLine)}static fromToken(u){let d=new av(u.type,void 0,av.EMPTY_SOURCE,u.channel,u.startIndex,u.stopIndex);return d._line=u.line,d.index=u.tokenIndex,d._charPositionInLine=u.charPositionInLine,u instanceof av?(d._text=u._text,d.source=u.source):(d._text=u.text,d.source={source:u.tokenSource,stream:u.inputStream}),d}get type(){return this._type}set type(u){this._type=u}get line(){return this._line}set line(u){this._line=u}get text(){if(this._text!=null)return this._text;let u=this.inputStream;if(u==null)return;let d=u.size;return this.start<d&&this.stop<d?u.getText(n.Interval.of(this.start,this.stop)):"<EOF>"}set text(u){this._text=u}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(u){this._charPositionInLine=u}get channel(){return this._channel}set channel(u){this._channel=u}get startIndex(){return this.start}set startIndex(u){this.start=u}get stopIndex(){return this.stop}set stopIndex(u){this.stop=u}get tokenIndex(){return this.index}set tokenIndex(u){this.index=u}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(u){let d="";this._channel>0&&(d=",channel="+this._channel);let g=this.text;g!=null?(g=g.replace(/\n/g,"\\n"),g=g.replace(/\r/g,"\\r"),g=g.replace(/\t/g,"\\t")):g="<no text>";let p=String(this._type);return u&&(p=u.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+g+"',<"+p+">"+d+","+this._line+":"+this.charPositionInLine+"]"}};return a.EMPTY_SOURCE={source:void 0,stream:void 0},e([r.NotNull],a.prototype,"source",void 0),e([r.Override],a.prototype,"type",null),e([r.Override],a.prototype,"line",null),e([r.Override],a.prototype,"text",null),e([r.Override],a.prototype,"charPositionInLine",null),e([r.Override],a.prototype,"channel",null),e([r.Override],a.prototype,"startIndex",null),e([r.Override],a.prototype,"stopIndex",null),e([r.Override],a.prototype,"tokenIndex",null),e([r.Override],a.prototype,"tokenSource",null),e([r.Override],a.prototype,"inputStream",null),e([r.Override],a.prototype,"toString",null),e([t(0,r.NotNull)],a,"fromToken",null),a=e([t(2,r.NotNull)],a),Cl.CommonToken=a,Cl}var Q_;function tR(){return Q_||(Q_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=L0&&L0.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTokenFactory=void 0;const n=Zv(),r=Xi(),s=Ue();let a=class{constructor(u=!1){this.copyText=u}create(u,d,g,p,m,x,b,A){let C=new n.CommonToken(d,g,u,p,m,x);return C.line=b,C.charPositionInLine=A,g==null&&this.copyText&&u.stream!=null&&(C.text=u.stream.getText(r.Interval.of(m,x))),C}createSimple(u,d){return new n.CommonToken(u,d)}};t([s.Override],a.prototype,"create",null),t([s.Override],a.prototype,"createSimple",null),e.CommonTokenFactory=a,function(l){l.DEFAULT=new l}(a=e.CommonTokenFactory||(e.CommonTokenFactory={}))}(L0)),L0}var F0={},eI;function $F(){if(eI)return F0;eI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(F0,"__esModule",{value:!0}),F0.IntegerStack=void 0;const e=eR();let t=class extends e.IntegerList{constructor(r){super(r)}push(r){this.add(r)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};return F0.IntegerStack=t,F0}var od={},k0={},tI;function HF(){if(tI)return k0;tI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(k0,"__esModule",{value:!0}),k0.AcceptStateInfo=void 0;let e=class{constructor(n,r){this._prediction=n,this._lexerActionExecutor=r}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};return k0.AcceptStateInfo=e,k0}var sd={},B0={},nI;function Ig(){if(nI)return B0;nI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(B0,"__esModule",{value:!0}),B0.Array2DHashMap=void 0;const e=sf();class t{constructor(s){this.keyComparator=s}hashCode(s){return this.keyComparator.hashCode(s.key)}equals(s,a){return this.keyComparator.equals(s.key,a.key)}}let n=class CC{constructor(s){s instanceof CC?this.backingStore=new e.Array2DHashSet(s.backingStore):this.backingStore=new e.Array2DHashSet(new t(s))}clear(){this.backingStore.clear()}containsKey(s){return this.backingStore.contains({key:s})}get(s){let a=this.backingStore.get({key:s});if(a)return a.value}get isEmpty(){return this.backingStore.isEmpty}put(s,a){let l=this.backingStore.get({key:s,value:a}),u;return l?(u=l.value,l.value=a):this.backingStore.add({key:s,value:a}),u}putIfAbsent(s,a){let l=this.backingStore.get({key:s,value:a}),u;return l?u=l.value:this.backingStore.add({key:s,value:a}),u}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(s){return s instanceof CC?this.backingStore.equals(s.backingStore):!1}};return B0.Array2DHashMap=n,B0}var Rl={},ad={},Tl={},j0={},rI;function yh(){if(rI)return j0;rI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(j0,"__esModule",{value:!0}),j0.DecisionState=void 0;const e=Iu();let t=class extends e.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}};return j0.DecisionState=t,j0}var ld={},z0={},iI;function nR(){return iI||(iI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=z0&&z0.__decorate||function(d,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(d,g,p,m);else for(var C=d.length-1;C>=0;C--)(A=d[C])&&(b=(x<3?A(b):x>3?A(g,p,b):A(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionContextCache=void 0;const n=Ig(),r=Ue(),s=za(),a=Ls(),l=Ni();let u=class RC{constructor(g=!0){this.contexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.childContexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.joinContexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.enableCache=g}getAsCached(g){if(!this.enableCache)return g;let p=this.contexts.get(g);return p||(p=g,this.contexts.put(g,g)),p}getChild(g,p){if(!this.enableCache)return g.getChild(p);let m=new RC.PredictionContextAndInt(g,p),x=this.childContexts.get(m);return x||(x=g.getChild(p),x=this.getAsCached(x),this.childContexts.put(m,x)),x}join(g,p){if(!this.enableCache)return a.PredictionContext.join(g,p,this);let m=new RC.IdentityCommutativePredictionContextOperands(g,p),x=this.joinContexts.get(m);return x||(x=a.PredictionContext.join(g,p,this),x=this.getAsCached(x),this.joinContexts.put(m,x),x)}};e.PredictionContextCache=u,u.UNCACHED=new u(!1),function(d){class g{constructor(x,b){this.obj=x,this.value=b}equals(x){if(x instanceof g){if(x===this)return!0}else return!1;let b=x;return this.value===b.value&&(this.obj===b.obj||this.obj!=null&&this.obj.equals(b.obj))}hashCode(){let x=5;return x=7*x+(this.obj!=null?this.obj.hashCode():0),x=7*x+this.value,x}}t([r.Override],g.prototype,"equals",null),t([r.Override],g.prototype,"hashCode",null),d.PredictionContextAndInt=g;class p{constructor(x,b){l(x!=null),l(b!=null),this._x=x,this._y=b}get x(){return this._x}get y(){return this._y}equals(x){if(x instanceof p){if(this===x)return!0}else return!1;let b=x;return this._x===b._x&&this._y===b._y||this._x===b._y&&this._y===b._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}t([r.Override],p.prototype,"equals",null),t([r.Override],p.prototype,"hashCode",null),d.IdentityCommutativePredictionContextOperands=p}(u=e.PredictionContextCache||(e.PredictionContextCache={}))}(z0)),z0}var oI;function Ls(){return oI||(oI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=ld&&ld.__decorate||function(C,w,R,I){var N=arguments.length,D=N<3?w:I===null?I=Object.getOwnPropertyDescriptor(w,R):I,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,R,I);else for(var k=C.length-1;k>=0;k--)(L=C[k])&&(D=(N<3?L(D):N>3?L(w,R,D):L(w,R))||D);return N>3&&D&&Object.defineProperty(w,R,D),D},n=ld&&ld.__param||function(C,w){return function(R,I){w(R,I,C)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SingletonPredictionContext=e.PredictionContext=void 0;const r=Ig(),s=sf(),a=Q2(),l=pr(),u=Ue(),d=nR(),g=Ni(),p=1;let m=class pi{constructor(w){this.cachedHashCode=w}static calculateEmptyHashCode(){let w=l.MurmurHash.initialize(p);return w=l.MurmurHash.finish(w,0),w}static calculateSingleHashCode(w,R){let I=l.MurmurHash.initialize(p);return I=l.MurmurHash.update(I,w),I=l.MurmurHash.update(I,R),I=l.MurmurHash.finish(I,2),I}static calculateHashCode(w,R){let I=l.MurmurHash.initialize(p);for(let N of w)I=l.MurmurHash.update(I,N);for(let N of R)I=l.MurmurHash.update(I,N);return I=l.MurmurHash.finish(I,2*w.length),I}static fromRuleContext(w,R,I=!0){if(R.isEmpty)return I?pi.EMPTY_FULL:pi.EMPTY_LOCAL;let N;R._parent?N=pi.fromRuleContext(w,R._parent,I):N=I?pi.EMPTY_FULL:pi.EMPTY_LOCAL;let L=w.states[R.invokingState].transition(0);return N.getChild(L.followState.stateNumber)}static addEmptyContext(w){return w.addEmptyContext()}static removeEmptyContext(w){return w.removeEmptyContext()}static join(w,R,I=d.PredictionContextCache.UNCACHED){if(w===R)return w;if(w.isEmpty)return pi.isEmptyLocal(w)?w:pi.addEmptyContext(R);if(R.isEmpty)return pi.isEmptyLocal(R)?R:pi.addEmptyContext(w);let N=w.size,D=R.size;if(N===1&&D===1&&w.getReturnState(0)===R.getReturnState(0)){let re=I.join(w.getParent(0),R.getParent(0));return re===w.getParent(0)?w:re===R.getParent(0)?R:re.getChild(w.getReturnState(0))}let L=0,k=new Array(N+D),j=new Array(k.length),B=0,$=0,K=!0,ne=!0;for(;B<N&&$<D;)w.getReturnState(B)===R.getReturnState($)?(k[L]=I.join(w.getParent(B),R.getParent($)),j[L]=w.getReturnState(B),K=K&&k[L]===w.getParent(B),ne=ne&&k[L]===R.getParent($),B++,$++):w.getReturnState(B)<R.getReturnState($)?(k[L]=w.getParent(B),j[L]=w.getReturnState(B),ne=!1,B++):(g(R.getReturnState($)<w.getReturnState(B)),k[L]=R.getParent($),j[L]=R.getReturnState($),K=!1,$++),L++;for(;B<N;)k[L]=w.getParent(B),j[L]=w.getReturnState(B),B++,ne=!1,L++;for(;$<D;)k[L]=R.getParent($),j[L]=R.getReturnState($),$++,K=!1,L++;return K?w:ne?R:(L<k.length&&(k=k.slice(0,L),j=j.slice(0,L)),k.length===0?pi.EMPTY_FULL:k.length===1?new A(k[0],j[0]):new b(k,j))}static isEmptyLocal(w){return w===pi.EMPTY_LOCAL}static getCachedContext(w,R,I){if(w.isEmpty)return w;let N=I.get(w);if(N)return N;if(N=R.get(w),N)return I.put(w,N),N;let D=!1,L=new Array(w.size);for(let j=0;j<L.length;j++){let B=pi.getCachedContext(w.getParent(j),R,I);if(D||B!==w.getParent(j)){if(!D){L=new Array(w.size);for(let $=0;$<w.size;$++)L[$]=w.getParent($);D=!0}L[j]=B}}if(!D)return N=R.putIfAbsent(w,w),I.put(w,N??w),w;let k;if(L.length===1)k=new A(L[0],w.getReturnState(0));else{let j=new Array(w.size);for(let B=0;B<w.size;B++)j[B]=w.getReturnState(B);k=new b(L,j,w.hashCode())}return N=R.putIfAbsent(k,k),I.put(k,N||k),I.put(w,N||k),k}appendSingleContext(w,R){return this.appendContext(pi.EMPTY_FULL.getChild(w),R)}getChild(w){return new A(this,w)}hashCode(){return this.cachedHashCode}toStrings(w,R,I=pi.EMPTY_FULL){let N=[];e:for(let D=0;;D++){let L=0,k=!0,j=this,B=R,$="";for($+="[";!j.isEmpty&&j!==I;){let K=0;if(j.size>0){let ne=1;for(;1<<ne>>>0<j.size;)ne++;let re=(1<<ne>>>0)-1;if(K=D>>L&re,k=k&&K>=j.size-1,K>=j.size)continue e;L+=ne}if(w){$.length>1&&($+=" ");let re=w.atn.states[B],Se=w.ruleNames[re.ruleIndex];$+=Se}else j.getReturnState(K)!==pi.EMPTY_FULL_STATE_KEY&&(j.isEmpty||($.length>1&&($+=" "),$+=j.getReturnState(K)));B=j.getReturnState(K),j=j.getParent(K)}if($+="]",N.push($),k)break}return N}};t([u.Override],m.prototype,"hashCode",null),t([n(0,u.NotNull),n(1,u.NotNull),n(2,u.NotNull)],m,"join",null),t([n(0,u.NotNull),n(1,u.NotNull),n(2,u.NotNull)],m,"getCachedContext",null),e.PredictionContext=m;class x extends m{constructor(w){super(m.calculateEmptyHashCode()),this.fullContext=w}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(w){throw new Error("index out of bounds")}getReturnState(w){throw new Error("index out of bounds")}findReturnState(w){return-1}get size(){return 0}appendSingleContext(w,R){return R.getChild(this,w)}appendContext(w,R){return w}get isEmpty(){return!0}get hasEmpty(){return!0}equals(w){return this===w}toStrings(w,R,I){return["[]"]}}t([u.Override],x.prototype,"addEmptyContext",null),t([u.Override],x.prototype,"removeEmptyContext",null),t([u.Override],x.prototype,"getParent",null),t([u.Override],x.prototype,"getReturnState",null),t([u.Override],x.prototype,"findReturnState",null),t([u.Override],x.prototype,"size",null),t([u.Override],x.prototype,"appendSingleContext",null),t([u.Override],x.prototype,"appendContext",null),t([u.Override],x.prototype,"isEmpty",null),t([u.Override],x.prototype,"hasEmpty",null),t([u.Override],x.prototype,"equals",null),t([u.Override],x.prototype,"toStrings",null);let b=class Jd extends m{constructor(w,R,I){super(I||m.calculateHashCode(w,R)),g(w.length===R.length),g(R.length>1||R[0]!==m.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=w,this.returnStates=R}getParent(w){return this.parents[w]}getReturnState(w){return this.returnStates[w]}findReturnState(w){return a.Arrays.binarySearch(this.returnStates,w)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===m.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let w=this.parents.slice(0),R=this.returnStates.slice(0);return w.push(m.EMPTY_FULL),R.push(m.EMPTY_FULL_STATE_KEY),new Jd(w,R)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new A(this.parents[0],this.returnStates[0]);{let w=this.parents.slice(0,this.parents.length-1),R=this.returnStates.slice(0,this.returnStates.length-1);return new Jd(w,R)}}appendContext(w,R){return Jd.appendContextImpl(this,w,new m.IdentityHashMap)}static appendContextImpl(w,R,I){if(R.isEmpty){if(m.isEmptyLocal(R)){if(w.hasEmpty)return m.EMPTY_LOCAL;throw new Error("what to do here?")}return w}if(R.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let N=I.get(w);if(!N){if(w.isEmpty)N=R;else{let D=w.size;w.hasEmpty&&D--;let L=new Array(D),k=new Array(D);for(let j=0;j<D;j++)k[j]=w.getReturnState(j);for(let j=0;j<D;j++)L[j]=Jd.appendContextImpl(w.getParent(j),R,I);L.length===1?N=new A(L[0],k[0]):(g(L.length>1),N=new Jd(L,k)),w.hasEmpty&&(N=m.join(N,R))}I.put(w,N)}return N}equals(w){if(this===w)return!0;if(!(w instanceof Jd)||this.hashCode()!==w.hashCode())return!1;let R=w;return this.equalsImpl(R,new s.Array2DHashSet)}equalsImpl(w,R){let I=[],N=[];for(I.push(this),N.push(w);;){let D=I.pop(),L=N.pop();if(!D||!L)break;let k=new d.PredictionContextCache.IdentityCommutativePredictionContextOperands(D,L);if(!R.add(k))continue;let j=k.x.size;if(j===0){if(!k.x.equals(k.y))return!1;continue}let B=k.y.size;if(j!==B)return!1;for(let $=0;$<j;$++){if(k.x.getReturnState($)!==k.y.getReturnState($))return!1;let K=k.x.getParent($),ne=k.y.getParent($);if(K.hashCode()!==ne.hashCode())return!1;K!==ne&&(I.push(K),N.push(ne))}}return!0}};t([u.NotNull],b.prototype,"parents",void 0),t([u.NotNull],b.prototype,"returnStates",void 0),t([u.Override],b.prototype,"getParent",null),t([u.Override],b.prototype,"getReturnState",null),t([u.Override],b.prototype,"findReturnState",null),t([u.Override],b.prototype,"size",null),t([u.Override],b.prototype,"isEmpty",null),t([u.Override],b.prototype,"hasEmpty",null),t([u.Override],b.prototype,"addEmptyContext",null),t([u.Override],b.prototype,"removeEmptyContext",null),t([u.Override],b.prototype,"appendContext",null),t([u.Override],b.prototype,"equals",null),b=t([n(0,u.NotNull)],b);let A=class YF extends m{constructor(w,R){super(m.calculateSingleHashCode(w,R)),this.parent=w,this.returnState=R}getParent(w){return this.parent}getReturnState(w){return this.returnState}findReturnState(w){return this.returnState===w?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(w,R){return R.getChild(this.parent.appendContext(w,R),this.returnState)}addEmptyContext(){let w=[this.parent,m.EMPTY_FULL],R=[this.returnState,m.EMPTY_FULL_STATE_KEY];return new b(w,R)}removeEmptyContext(){return this}equals(w){if(w===this)return!0;if(!(w instanceof YF))return!1;let R=w;return this.hashCode()!==R.hashCode()?!1:this.returnState===R.returnState&&this.parent.equals(R.parent)}};t([u.NotNull],A.prototype,"parent",void 0),t([u.Override],A.prototype,"getParent",null),t([u.Override],A.prototype,"getReturnState",null),t([u.Override],A.prototype,"findReturnState",null),t([u.Override],A.prototype,"size",null),t([u.Override],A.prototype,"isEmpty",null),t([u.Override],A.prototype,"hasEmpty",null),t([u.Override],A.prototype,"appendContext",null),t([u.Override],A.prototype,"addEmptyContext",null),t([u.Override],A.prototype,"removeEmptyContext",null),t([u.Override],A.prototype,"equals",null),A=t([n(0,u.NotNull)],A),e.SingletonPredictionContext=A,function(C){C.EMPTY_LOCAL=new x(!1),C.EMPTY_FULL=new x(!0),C.EMPTY_LOCAL_STATE_KEY=-2147483648,C.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class w extends r.Array2DHashMap{constructor(){super(R.INSTANCE)}}C.IdentityHashMap=w;class R{IdentityEqualityComparator(){}hashCode(N){return N.hashCode()}equals(N,D){return N===D}}R.INSTANCE=new R,t([u.Override],R.prototype,"hashCode",null),t([u.Override],R.prototype,"equals",null),C.IdentityEqualityComparator=R}(m=e.PredictionContext||(e.PredictionContext={}))}(ld)),ld}var sI;function JS(){if(sI)return Tl;sI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Tl&&Tl.__decorate||function(C,w,R,I){var N=arguments.length,D=N<3?w:I===null?I=Object.getOwnPropertyDescriptor(w,R):I,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,R,I);else for(var k=C.length-1;k>=0;k--)(L=C[k])&&(D=(N<3?L(D):N>3?L(w,R,D):L(w,R))||D);return N>3&&D&&Object.defineProperty(w,R,D),D},t=Tl&&Tl.__param||function(C,w){return function(R,I){w(R,I,C)}};Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.ATNConfig=void 0;const n=Ig(),r=yh(),s=pr(),a=Ue(),l=za(),u=Ls(),d=_g(),g=Ni(),p=2147483648;let m=class lv{constructor(w,R,I){typeof R=="number"?(g((R&16777215)===R),this._state=w,this.altAndOuterContextDepth=R,this._context=I):(this._state=w,this.altAndOuterContextDepth=R.altAndOuterContextDepth,this._context=I)}static create(w,R,I,N=d.SemanticContext.NONE,D){return N!==d.SemanticContext.NONE?D!=null?new A(D,N,w,R,I,!1):new x(N,w,R,I):D!=null?new b(D,w,R,I,!1):new lv(w,R,I)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(w){this._context=w}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(w){g(w>=0),w=Math.min(w,127),this.altAndOuterContextDepth=w<<24|(this.altAndOuterContextDepth&-2130706433)>>>0}get lexerActionExecutor(){}get semanticContext(){return d.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(w,R,I){return I==null?this.transformImpl(w,this._context,this.semanticContext,R,this.lexerActionExecutor):I instanceof u.PredictionContext?this.transformImpl(w,I,this.semanticContext,R,this.lexerActionExecutor):I instanceof d.SemanticContext?this.transformImpl(w,this._context,I,R,this.lexerActionExecutor):this.transformImpl(w,this._context,this.semanticContext,R,I)}transformImpl(w,R,I,N,D){let L=N&&lv.checkNonGreedyDecision(this,w);return I!==d.SemanticContext.NONE?D!=null||L?new A(D,I,w,this,R,L):new x(I,w,this,R):D!=null||L?new b(D,w,this,R,L):new lv(w,this,R)}static checkNonGreedyDecision(w,R){return w.hasPassedThroughNonGreedyDecision||R instanceof r.DecisionState&&R.nonGreedy}appendContext(w,R){if(typeof w=="number"){let I=this.context.appendSingleContext(w,R);return this.transform(this.state,!1,I)}else{let I=this.context.appendContext(w,R);return this.transform(this.state,!1,I)}}contains(w){if(this.state.stateNumber!==w.state.stateNumber||this.alt!==w.alt||!this.semanticContext.equals(w.semanticContext))return!1;let R=[],I=[];for(R.push(this.context),I.push(w.context);;){let N=R.pop(),D=I.pop();if(!N||!D)break;if(N===D)return!0;if(N.size<D.size)return!1;if(D.isEmpty)return N.hasEmpty;for(let L=0;L<D.size;L++){let k=N.findReturnState(D.getReturnState(L));if(k<0)return!1;R.push(N.getParent(k)),I.push(D.getParent(L))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&p)!==0}set isPrecedenceFilterSuppressed(w){w?this.altAndOuterContextDepth|=p:this.altAndOuterContextDepth&=2147483647}equals(w){return this===w?!0:w instanceof lv?this.state.stateNumber===w.state.stateNumber&&this.alt===w.alt&&this.reachesIntoOuterContext===w.reachesIntoOuterContext&&this.context.equals(w.context)&&this.semanticContext.equals(w.semanticContext)&&this.isPrecedenceFilterSuppressed===w.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===w.hasPassedThroughNonGreedyDecision&&l.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,w.lexerActionExecutor):!1}hashCode(){let w=s.MurmurHash.initialize(7);return w=s.MurmurHash.update(w,this.state.stateNumber),w=s.MurmurHash.update(w,this.alt),w=s.MurmurHash.update(w,this.reachesIntoOuterContext?1:0),w=s.MurmurHash.update(w,this.context),w=s.MurmurHash.update(w,this.semanticContext),w=s.MurmurHash.update(w,this.hasPassedThroughNonGreedyDecision?1:0),w=s.MurmurHash.update(w,this.lexerActionExecutor),w=s.MurmurHash.finish(w,7),w}toDotString(){let w="";w+=`digraph G {
`,w+=`rankdir=LR;
`;let R=new n.Array2DHashMap(u.PredictionContext.IdentityEqualityComparator.INSTANCE),I=[];function N(D){let L=R.size,k=R.putIfAbsent(D,L);return k??(I.push(D),L)}for(I.push(this.context),R.put(this.context,0);;){let D=I.pop();if(!D)break;for(let L=0;L<D.size;L++)w+="  s"+N(D),w+="->",w+="s"+N(D.getParent(L)),w+='[label="'+D.getReturnState(L)+`"];
`}return w+=`}
`,w.toString()}toString(w,R,I){I==null&&(I=R!=null),R==null&&(R=!0);let N="",D;I?D=this.context.toStrings(w,this.state.stateNumber):D=["?"];let L=!0;for(let k of D)L?L=!1:N+=", ",N+="(",N+=this.state,R&&(N+=",",N+=this.alt),this.context&&(N+=",",N+=k),this.semanticContext!==d.SemanticContext.NONE&&(N+=",",N+=this.semanticContext),this.reachesIntoOuterContext&&(N+=",up="+this.outerContextDepth),N+=")";return N.toString()}};e([a.NotNull],m.prototype,"_state",void 0),e([a.NotNull],m.prototype,"_context",void 0),e([a.NotNull],m.prototype,"state",null),e([a.NotNull,t(0,a.NotNull)],m.prototype,"context",null),e([a.NotNull],m.prototype,"semanticContext",null),e([a.Override],m.prototype,"clone",null),e([t(0,a.NotNull),t(2,a.NotNull)],m.prototype,"transformImpl",null),e([a.Override],m.prototype,"equals",null),e([a.Override],m.prototype,"hashCode",null),e([t(0,a.NotNull),t(3,a.NotNull)],m,"create",null),m=e([t(0,a.NotNull),t(2,a.NotNull)],m),Tl.ATNConfig=m;let x=class extends m{constructor(w,R,I,N){typeof I=="number"?super(R,I,N):super(R,I,N),this._semanticContext=w}get semanticContext(){return this._semanticContext}};e([a.NotNull],x.prototype,"_semanticContext",void 0),e([a.Override],x.prototype,"semanticContext",null),x=e([t(1,a.NotNull),t(2,a.NotNull)],x);let b=class extends m{constructor(w,R,I,N,D){if(typeof I=="number")super(R,I,N);else if(super(R,I,N),I.semanticContext!==d.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=w,this.passedThroughNonGreedyDecision=D}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};e([a.Override],b.prototype,"lexerActionExecutor",null),e([a.Override],b.prototype,"hasPassedThroughNonGreedyDecision",null),b=e([t(1,a.NotNull),t(2,a.NotNull)],b);let A=class extends x{constructor(w,R,I,N,D,L){typeof N=="number"?super(R,I,N,D):super(R,I,N,D),this._lexerActionExecutor=w,this.passedThroughNonGreedyDecision=L}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};return e([a.Override],A.prototype,"lexerActionExecutor",null),e([a.Override],A.prototype,"hasPassedThroughNonGreedyDecision",null),A=e([t(1,a.NotNull),t(2,a.NotNull)],A),Tl}var V0={},aI;function af(){if(aI)return V0;aI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(V0,"__esModule",{value:!0}),V0.BitSet=void 0;const e=hg(),t=pr(),n=new Uint16Array(0);function r(m){return m>>>4}function s(m){return m*16}function a(m){let x=1;for(let b=0;b<16;b++){if((m&x)!==0)return b;x=x<<1>>>0}throw new RangeError("No specified bit found")}function l(m){let x=32768;for(let b=15;b>=0;b--){if((m&x)!==0)return b;x=x>>>1}throw new RangeError("No specified bit found")}function u(m,x){return m&=15,x&=15,m===x?1<<m>>>0:65535>>>15-x^65535>>>16-m}const d=new Uint8Array(65536);for(let m=0;m<16;m++){const x=1<<m>>>0;let b=0;for(;b<d.length;){b+=x;for(let A=0;A<x;A++)d[b]++,b++}}let g=class uv{constructor(x){if(!x)this.data=n;else if(typeof x=="number"){if(x<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(r(x-1)+1)}else if(x instanceof uv)this.data=x.data.slice(0);else{let b=-1;for(let A of x)b<A&&(b=A);this.data=new Uint16Array(r(b-1)+1);for(let A of x)this.set(A)}}and(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length);let w=-1;for(let R=0;R<C;R++)(b[R]&=A[R])!==0&&(w=R);w===-1&&(this.data=n),w<b.length-1&&(this.data=b.slice(0,w+1))}andNot(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length);let w=-1;for(let R=0;R<C;R++)(b[R]&=A[R]^65535)!==0&&(w=R);w===-1&&(this.data=n),w<b.length-1&&(this.data=b.slice(0,w+1))}cardinality(){if(this.isEmpty)return 0;const x=this.data,b=x.length;let A=0;for(let C=0;C<b;C++)A+=d[x[C]];return A}clear(x,b){x==null?this.data.fill(0):b==null?this.set(x,!1):this.set(x,b,!1)}flip(x,b){if(b==null&&(b=x),x<0||b<x)throw new RangeError;let A=r(x);const C=r(b);if(A===C)this.data[A]^=u(x,b);else{for(this.data[A++]^=u(x,15);A<C;)this.data[A++]^=65535;this.data[A++]^=u(0,b)}}get(x,b){if(b===void 0)return!!(this.data[r(x)]&u(x,x));{let A=new uv(b+1);for(let C=x;C<=b;C++)A.set(C,this.get(C));return A}}intersects(x){let b=Math.min(this.length(),x.length());if(b===0)return!1;let A=r(b-1);for(let C=0;C<=A;C++)if((this.data[C]&x.data[C])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(s(this.data.length)-1)+1:0}nextClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);if(C>A)return-1;let w=65535^u(x,15);if((b[C]|w)===65535){for(C++,w=0;C<A&&b[C]===65535;C++);if(C===A)return-1}return s(C)+a((b[C]|w)^65535)}nextSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);if(C>A)return-1;let w=u(x,15);if((b[C]&w)===0){for(C++,w=65535;C<A&&b[C]===0;C++);if(C>=A)return-1}return s(C)+a(b[C]&w)}or(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length),w=Math.max(b.length,A.length),R=b.length===w?b:new Uint16Array(w);let I=-1;for(let D=0;D<C;D++)(R[D]=b[D]|A[D])!==0&&(I=D);const N=b.length>A.length?b:A;for(let D=C;D<w;D++)(R[D]=N[D])!==0&&(I=D);I===-1?this.data=n:R.length===I+1?this.data=R:this.data=R.slice(0,I)}previousClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);C>=A&&(C=A-1);let w=65535^u(0,x);if((b[C]|w)===65535){for(w=0,C--;C>=0&&b[C]===65535;C--);if(C<0)return-1}return s(C)+l((b[C]|w)^65535)}previousSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,A=b.length;let C=r(x);C>=A&&(C=A-1);let w=u(0,x);if((b[C]&w)===0){for(C--,w=65535;C>=0&&b[C]===0;C--);if(C<0)return-1}return s(C)+l(b[C]&w)}set(x,b,A){if(b===void 0?(b=x,A=!0):typeof b=="boolean"&&(A=b,b=x),A===void 0&&(A=!0),x<0||x>b)throw new RangeError;let C=r(x),w=r(b);if(A&&w>=this.data.length){let R=new Uint16Array(w+1);this.data.forEach((I,N)=>R[N]=I),this.data=R}else if(!A){if(C>=this.data.length)return;w>=this.data.length&&(w=this.data.length-1,b=this.data.length*16-1)}if(C===w)this._setBits(C,A,u(x,b));else{for(this._setBits(C++,A,u(x,15));C<w;)this.data[C++]=A?65535:0;this._setBits(C,A,u(0,b))}}_setBits(x,b,A){b?this.data[x]|=A:this.data[x]&=65535^A}get size(){return this.data.byteLength*8}hashCode(){return t.MurmurHash.hashCode(this.data,22)}equals(x){if(x===this)return!0;if(!(x instanceof uv))return!1;const b=this.length();if(b!==x.length())return!1;if(b===0)return!0;let A=r(b-1);for(let C=0;C<=A;C++)if(this.data[C]!==x.data[C])return!1;return!0}toString(){let x="{",b=!0;for(let A=this.nextSetBit(0);A>=0;A=this.nextSetBit(A+1))b?b=!1:x+=", ",x+=A;return x+="}",x}xor(x){const b=this.data,A=x.data,C=Math.min(b.length,A.length),w=Math.max(b.length,A.length),R=b.length===w?b:new Uint16Array(w);let I=-1;for(let D=0;D<C;D++)(R[D]=b[D]^A[D])!==0&&(I=D);const N=b.length>A.length?b:A;for(let D=C;D<w;D++)(R[D]=N[D])!==0&&(I=D);I===-1?this.data=n:R.length===I+1?this.data=R:this.data=R.slice(0,I+1)}clone(){return new uv(this)}[Symbol.iterator](){return new p(this.data)}[e.inspect.custom](){return"BitSet "+this.toString()}};V0.BitSet=g;class p{constructor(x){this.data=x,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const x=this.data[this.index]&this.mask;if(x!==0){const b=s(this.index)+a(x);return this.mask=u(b+1,15),{done:!1,value:b}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}return V0}var lI;function Jv(){if(lI)return ad;lI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ad&&ad.__decorate||function(R,I,N,D){var L=arguments.length,k=L<3?I:D===null?D=Object.getOwnPropertyDescriptor(I,N):D,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(R,I,N,D);else for(var B=R.length-1;B>=0;B--)(j=R[B])&&(k=(L<3?j(k):L>3?j(I,N,k):j(I,N))||k);return L>3&&k&&Object.defineProperty(I,N,k),k};Object.defineProperty(ad,"__esModule",{value:!0}),ad.ATNConfigSet=void 0;const t=Ig(),n=sf(),r=KS(),s=Va(),a=JS(),l=af(),u=Ue(),d=za(),g=Ls(),p=nR(),m=_g(),x=Ni(),b=Ou();class A{hashCode(I){return I.state^I.alt}equals(I,N){return I.state===N.state&&I.alt===N.alt}}A.INSTANCE=new A;function C(R){return R?new t.Array2DHashMap(R):new t.Array2DHashMap(A.INSTANCE)}let w=class TC{constructor(I,N){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,I?(N?(this.mergedConfigs=void 0,this.unmerged=void 0):I.isReadOnly?(this.mergedConfigs=C(),this.unmerged=[]):(this.mergedConfigs=C(I.mergedConfigs),this.unmerged=I.unmerged.slice(0)),this.configs=I.configs.slice(0),this._dipsIntoOuterContext=I._dipsIntoOuterContext,this._hasSemanticContext=I._hasSemanticContext,this.outermostConfigSet=I.outermostConfigSet,(N||!I.isReadOnly)&&(this._uniqueAlt=I._uniqueAlt,this._conflictInfo=I._conflictInfo)):(this.mergedConfigs=C(),this.unmerged=[],this.configs=[],this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let I=new l.BitSet;for(let N of this)I.set(N.alt);return I}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(I){if(this.outermostConfigSet&&!I)throw new Error("IllegalStateException");x(!I||!this._dipsIntoOuterContext),this.outermostConfigSet=I}getStates(){let I=new n.Array2DHashSet(d.ObjectEqualityComparator.INSTANCE);for(let N of this.configs)I.add(N.state);return I}optimizeConfigs(I){if(this.configs.length!==0)for(let N of this.configs)N.context=I.atn.getCachedContext(N.context)}clone(I){let N=new TC(this,I);return!I&&this.isReadOnly&&N.addAll(this.configs),N}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(I){if(!(I instanceof a.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let N=I,D=this.getKey(N),L=this.mergedConfigs.get(D);if(L!=null&&this.canMerge(N,D,L))return L.contains(N);for(let k of this.unmerged)if(k.contains(I))return!0}else for(let N of this.configs)if(N.contains(I))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(I,N){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");x(!this.outermostConfigSet||!I.reachesIntoOuterContext),N==null&&(N=p.PredictionContextCache.UNCACHED);let D,L=this.getKey(I),k=this.mergedConfigs.get(L);if(D=k==null,k!=null&&this.canMerge(I,L,k)){k.outerContextDepth=Math.max(k.outerContextDepth,I.outerContextDepth),I.isPrecedenceFilterSuppressed&&(k.isPrecedenceFilterSuppressed=!0);let j=g.PredictionContext.join(k.context,I.context,N);return this.updatePropertiesForMergedConfig(I),k.context===j?!1:(k.context=j,!0)}for(let j=0;j<this.unmerged.length;j++){let B=this.unmerged[j];if(this.canMerge(I,L,B)){B.outerContextDepth=Math.max(B.outerContextDepth,I.outerContextDepth),I.isPrecedenceFilterSuppressed&&(B.isPrecedenceFilterSuppressed=!0);let $=g.PredictionContext.join(B.context,I.context,N);return this.updatePropertiesForMergedConfig(I),B.context===$?!1:(B.context=$,D&&(this.mergedConfigs.put(L,B),this.unmerged.splice(j,1)),!0)}}return this.configs.push(I),D?this.mergedConfigs.put(L,I):this.unmerged.push(I),this.updatePropertiesForAddedConfig(I),!0}updatePropertiesForMergedConfig(I){this._dipsIntoOuterContext=this._dipsIntoOuterContext||I.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(I){this.configs.length===1?this._uniqueAlt=I.alt:this._uniqueAlt!==I.alt&&(this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!m.SemanticContext.NONE.equals(I.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||I.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(I,N,D){return I.state.stateNumber!==D.state.stateNumber||N.alt!==D.alt?!1:I.semanticContext.equals(D.semanticContext)}getKey(I){return{state:I.state.stateNumber,alt:I.alt}}containsAll(I){for(let N of I)if(!(N instanceof a.ATNConfig)||!this.contains(N))return!1;return!0}addAll(I,N){this.ensureWritable();let D=!1;for(let L of I)this.add(L,N)&&(D=!0);return D}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(I){return this===I?!0:I instanceof TC?this.outermostConfigSet===I.outermostConfigSet&&b.equals(this._conflictInfo,I._conflictInfo)&&r.ArrayEqualityComparator.INSTANCE.equals(this.configs,I.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let I=1;return I=5*I^(this.outermostConfigSet?1:0),I=5*I^r.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=I),I}toString(I){I==null&&(I=!1);let N="",D=this.configs.slice(0);D.sort((L,k)=>L.alt!==k.alt?L.alt-k.alt:L.state.stateNumber!==k.state.stateNumber?L.state.stateNumber-k.state.stateNumber:L.semanticContext.toString().localeCompare(k.semanticContext.toString())),N+="[";for(let L=0;L<D.length;L++)L>0&&(N+=", "),N+=D[L].toString(void 0,!0,I);return N+="]",this._hasSemanticContext&&(N+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==s.ATN.INVALID_ALT_NUMBER&&(N+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(N+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(N+="*")),this._dipsIntoOuterContext&&(N+=",dipsIntoOuterContext"),N.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(I){this.ensureWritable(),this._hasSemanticContext=I}get conflictInfo(){return this._conflictInfo}set conflictInfo(I){this.ensureWritable(),this._conflictInfo=I}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(I){return this.configs[I]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};return e([u.NotNull],w.prototype,"getRepresentedAlternatives",null),e([u.Override],w.prototype,"size",null),e([u.Override],w.prototype,"isEmpty",null),e([u.Override],w.prototype,"contains",null),e([u.Override],w.prototype,Symbol.iterator,null),e([u.Override],w.prototype,"toArray",null),e([u.Override],w.prototype,"containsAll",null),e([u.Override],w.prototype,"clear",null),e([u.Override],w.prototype,"equals",null),e([u.Override],w.prototype,"hashCode",null),ad.ATNConfigSet=w,ad}var ud={},cd={},fd={},uI;function QS(){return uI||(uI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=fd&&fd.__decorate||function(p,m,x,b){var A=arguments.length,C=A<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,m,x,b);else for(var R=p.length-1;R>=0;R--)(w=p[R])&&(C=(A<3?w(C):A>3?w(m,x,C):w(m,x))||C);return A>3&&C&&Object.defineProperty(m,x,C),C},n=fd&&fd.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DFAState=void 0;const r=Va(),s=af(),a=pr(),l=Ue(),u=Ls(),d=Ni();let g=class WF{constructor(m){this.stateNumber=-1,this.configs=m,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(m){return this.isContextSensitive?this.contextSymbols.get(m):!1}setContextSymbol(m){d(this.isContextSensitive),this.contextSymbols.set(m)}setContextSensitive(m){d(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new s.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(m){this._acceptStateInfo=m}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:r.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(m){return this.edges.get(m)}setTarget(m,x){this.edges.set(m,x)}getEdgeMap(){return this.edges}getContextTarget(m){return m===u.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.get(m)}setContextTarget(m,x){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");m===u.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.set(m,x)}getContextEdgeMap(){let m=new Map(this.contextEdges),x=m.get(-1);if(x!==void 0)if(m.size===1){let b=new Map;return b.set(u.PredictionContext.EMPTY_FULL_STATE_KEY,x),b}else m.delete(-1),m.set(u.PredictionContext.EMPTY_FULL_STATE_KEY,x);return m}hashCode(){let m=a.MurmurHash.initialize(7);return m=a.MurmurHash.update(m,this.configs.hashCode()),m=a.MurmurHash.finish(m,1),m}equals(m){if(this===m)return!0;if(!(m instanceof WF))return!1;let x=m;return this.configs.equals(x.configs)}toString(){let m="";return m+=this.stateNumber+":"+this.configs,this.isAcceptState&&(m+="=>",this.predicates?m+=this.predicates:m+=this.prediction),m.toString()}};t([l.NotNull],g.prototype,"configs",void 0),t([l.NotNull],g.prototype,"edges",void 0),t([l.NotNull],g.prototype,"contextEdges",void 0),t([l.Override],g.prototype,"hashCode",null),t([l.Override],g.prototype,"equals",null),t([l.Override],g.prototype,"toString",null),e.DFAState=g,function(p){let m=class{constructor(b,A){this.alt=A,this.pred=b}toString(){return"("+this.pred+", "+this.alt+")"}};t([l.NotNull],m.prototype,"pred",void 0),t([l.Override],m.prototype,"toString",null),m=t([n(0,l.NotNull)],m),p.PredPrediction=m}(g=e.DFAState||(e.DFAState={}))}(fd)),fd}var cI;function e1(){return cI||(cI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=cd&&cd.__decorate||function(d,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(d,g,p,m);else for(var C=d.length-1;C>=0;C--)(A=d[C])&&(b=(x<3?A(b):x>3?A(g,p,b):A(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},n=cd&&cd.__param||function(d,g){return function(p,m){g(p,m,d)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNSimulator=void 0;const r=Jv(),s=QS(),a=Ue(),l=Ls();let u=class cv{constructor(g){this.atn=g}static get ERROR(){return cv._ERROR||(cv._ERROR=new s.DFAState(new r.ATNConfigSet),cv._ERROR.stateNumber=l.PredictionContext.EMPTY_FULL_STATE_KEY),cv._ERROR}clearDFA(){this.atn.clearDFA()}};t([a.NotNull],u.prototype,"atn",void 0),t([a.NotNull],u,"ERROR",null),u=t([n(0,a.NotNull)],u),e.ATNSimulator=u,u=e.ATNSimulator||(e.ATNSimulator={}),e.ATNSimulator=u}(cd)),cd}var Nl={},U0={},fI;function qF(){if(fI)return U0;fI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(U0,"__esModule",{value:!0}),U0.ConsoleErrorListener=void 0;let e=class{syntaxError(n,r,s,a,l,u){console.error(`line ${s}:${a} ${l}`)}};return U0.ConsoleErrorListener=e,e.INSTANCE=new e,U0}var _l={},dI;function rR(){if(dI)return _l;dI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_l&&_l.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g},t=_l&&_l.__param||function(s,a){return function(l,u){a(l,u,s)}};Object.defineProperty(_l,"__esModule",{value:!0}),_l.ProxyErrorListener=void 0;const n=Ue();let r=class{constructor(a){if(this.delegates=a,!a)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(a,l,u,d,g,p){this.delegates.forEach(m=>{m.syntaxError&&m.syntaxError(a,l,u,d,g,p)})}};return e([n.Override,t(0,n.NotNull),t(4,n.NotNull)],r.prototype,"syntaxError",null),_l.ProxyErrorListener=r,_l}var hI;function Qv(){if(hI)return Nl;hI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nl&&Nl.__decorate||function(d,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(d,g,p,m);else for(var C=d.length-1;C>=0;C--)(A=d[C])&&(b=(x<3?A(b):x>3?A(g,p,b):A(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},t=Nl&&Nl.__param||function(d,g){return function(p,m){g(p,m,d)}};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.Recognizer=void 0;const n=qF(),r=rR(),s=Ue(),a=$n(),l=Ou();let u=class fv{constructor(){this._listeners=[n.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let g=this.vocabulary,p=fv.tokenTypeMapCache.get(g);if(p==null){let m=new Map;for(let x=0;x<=this.atn.maxTokenType;x++){let b=g.getLiteralName(x);b!=null&&m.set(b,x);let A=g.getSymbolicName(x);A!=null&&m.set(A,x)}m.set("EOF",a.Token.EOF),p=m,fv.tokenTypeMapCache.set(g,p)}return p}getRuleIndexMap(){let g=this.ruleNames;if(g==null)throw new Error("The current recognizer does not provide a list of rule names.");let p=fv.ruleIndexMapCache.get(g);return p==null&&(p=l.toMap(g),fv.ruleIndexMapCache.set(g,p)),p}getTokenType(g){let p=this.getTokenTypeMap().get(g);return p??a.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(g){this._interp=g}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(g){let p=g.getOffendingToken();if(!p)return"";let m=p.line,x=p.charPositionInLine;return"line "+m+":"+x}addErrorListener(g){if(!g)throw new TypeError("listener must not be null");this._listeners.push(g)}removeErrorListener(g){let p=this._listeners.indexOf(g);p!==-1&&this._listeners.splice(p,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new r.ProxyErrorListener(this.getErrorListeners())}sempred(g,p,m){return!0}precpred(g,p){return!0}action(g,p,m){}get state(){return this._stateNumber}set state(g){this._stateNumber=g}};return u.EOF=-1,u.tokenTypeMapCache=new WeakMap,u.ruleIndexMapCache=new WeakMap,e([s.SuppressWarnings("serial"),s.NotNull],u.prototype,"_listeners",void 0),e([s.NotNull],u.prototype,"getTokenTypeMap",null),e([s.NotNull],u.prototype,"getRuleIndexMap",null),e([s.NotNull],u.prototype,"serializedATN",null),e([s.NotNull],u.prototype,"atn",null),e([s.NotNull,t(0,s.NotNull)],u.prototype,"interpreter",null),e([s.NotNull,t(0,s.NotNull)],u.prototype,"getErrorHeader",null),e([t(0,s.NotNull)],u.prototype,"addErrorListener",null),e([t(0,s.NotNull)],u.prototype,"removeErrorListener",null),e([s.NotNull],u.prototype,"getErrorListeners",null),Nl.Recognizer=u,Nl}var dd={},pI;function xh(){if(pI)return dd;pI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=dd&&dd.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(dd,"__esModule",{value:!0}),dd.VocabularyImpl=void 0;const t=Ue(),n=$n();let r=class{constructor(a,l,u){this.literalNames=a,this.symbolicNames=l,this.displayNames=u,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(a){if(a>=0&&a<this.literalNames.length)return this.literalNames[a]}getSymbolicName(a){if(a>=0&&a<this.symbolicNames.length)return this.symbolicNames[a];if(a===n.Token.EOF)return"EOF"}getDisplayName(a){if(a>=0&&a<this.displayNames.length){let d=this.displayNames[a];if(d)return d}let l=this.getLiteralName(a);if(l)return l;let u=this.getSymbolicName(a);return u||String(a)}};return r.EMPTY_VOCABULARY=new r([],[],[]),e([t.NotNull],r.prototype,"literalNames",void 0),e([t.NotNull],r.prototype,"symbolicNames",void 0),e([t.NotNull],r.prototype,"displayNames",void 0),e([t.Override],r.prototype,"maxTokenType",null),e([t.Override],r.prototype,"getLiteralName",null),e([t.Override],r.prototype,"getSymbolicName",null),e([t.Override,t.NotNull],r.prototype,"getDisplayName",null),e([t.NotNull],r,"EMPTY_VOCABULARY",void 0),dd.VocabularyImpl=r,dd}var gI;function KF(){if(gI)return ud;gI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ud&&ud.__decorate||function(u,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,d,g,p);else for(var A=u.length-1;A>=0;A--)(b=u[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x};Object.defineProperty(ud,"__esModule",{value:!0}),ud.DFASerializer=void 0;const t=e1(),n=Ue(),r=Ls(),s=Qv(),a=xh();let l=class{constructor(d,g,p,m){g instanceof s.Recognizer?(p=g.ruleNames,m=g.atn,g=g.vocabulary):g||(g=a.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=d,this.vocabulary=g,this.ruleNames=p,this.atn=m}toString(){if(!this.dfa.s0)return"";let d="";if(this.dfa.states){let p=new Array(...this.dfa.states.toArray());p.sort((m,x)=>m.stateNumber-x.stateNumber);for(let m of p){let x=m.getEdgeMap(),b=[...x.keys()].sort((w,R)=>w-R),A=m.getContextEdgeMap(),C=[...A.keys()].sort((w,R)=>w-R);for(let w of b){let R=x.get(w);if((R==null||R===t.ATNSimulator.ERROR)&&!m.isContextSymbol(w))continue;let I=!1;d+=this.getStateString(m)+"-"+this.getEdgeLabel(w)+"->",m.isContextSymbol(w)&&(d+="!",I=!0);let N=R;N&&N.stateNumber!==t.ATNSimulator.ERROR.stateNumber?d+=this.getStateString(N)+`
`:I&&(d+=`ctx
`)}if(m.isContextSensitive)for(let w of C)d+=this.getStateString(m)+"-"+this.getContextLabel(w)+"->"+this.getStateString(A.get(w))+`
`}}let g=d;return g.length===0?"":g}getContextLabel(d){if(d===r.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(d===r.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&d>0&&d<=this.atn.states.length){let p=this.atn.states[d].ruleIndex;if(this.ruleNames&&p>=0&&p<this.ruleNames.length)return"ctx:"+String(d)+"("+this.ruleNames[p]+")"}return"ctx:"+String(d)}getEdgeLabel(d){return this.vocabulary.getDisplayName(d)}getStateString(d){if(d===t.ATNSimulator.ERROR)return"ERROR";let g=d.stateNumber,p="s"+g;if(d.isAcceptState&&(d.predicates?p=":s"+g+"=>"+d.predicates:p=":s"+g+"=>"+d.prediction),d.isContextSensitive){p+="*";for(let m of d.configs)if(m.reachesIntoOuterContext){p+="*";break}}return p}};return e([n.NotNull],l.prototype,"dfa",void 0),e([n.NotNull],l.prototype,"vocabulary",void 0),e([n.Override],l.prototype,"toString",null),ud.DFASerializer=l,ud}var Il={},mI;function _Y(){if(mI)return Il;mI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Il&&Il.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},t=Il&&Il.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(Il,"__esModule",{value:!0}),Il.LexerDFASerializer=void 0;const n=KF(),r=Ue(),s=xh();let a=class extends n.DFASerializer{constructor(u){super(u,s.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(u){return"'"+String.fromCodePoint(u)+"'"}};return e([r.Override,r.NotNull],a.prototype,"getEdgeLabel",null),a=e([t(0,r.NotNull)],a),Il.LexerDFASerializer=a,Il}var hd={},vI;function iR(){if(vI)return hd;vI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=hd&&hd.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m};Object.defineProperty(hd,"__esModule",{value:!0}),hd.StarLoopEntryState=void 0;const t=Jr(),n=af(),r=yh(),s=Ue();let a=class extends r.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new n.BitSet}get stateType(){return t.ATNStateType.STAR_LOOP_ENTRY}};return e([s.Override],a.prototype,"stateType",null),hd.StarLoopEntryState=a,hd}var yI;function XF(){if(yI)return Rl;yI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rl&&Rl.__decorate||function(x,b,A,C){var w=arguments.length,R=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,A):C,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,A,C);else for(var N=x.length-1;N>=0;N--)(I=x[N])&&(R=(w<3?I(R):w>3?I(b,A,R):I(b,A))||R);return w>3&&R&&Object.defineProperty(b,A,R),R},t=Rl&&Rl.__param||function(x,b){return function(A,C){b(A,C,x)}};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.DFA=void 0;const n=sf(),r=Jv(),s=KF(),a=QS(),l=_Y(),u=Ue(),d=za(),g=iR(),p=xh();let m=class{constructor(b,A=0){if(this.states=new n.Array2DHashSet(d.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!b.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=b,this.atn=b.atn,this.decision=A;let C=!1;b instanceof g.StarLoopEntryState&&b.precedenceRuleDecision&&(C=!0,this.s0=new a.DFAState(new r.ATNConfigSet),this.s0full=new a.DFAState(new r.ATNConfigSet)),this.precedenceDfa=C}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(b,A){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return A?this.s0full.getTarget(b):this.s0.getTarget(b)}setPrecedenceStartState(b,A,C){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");b<0||(A?this.s0full.setTarget(b,C):this.s0.setTarget(b,C))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(b){return b.stateNumber=this.nextStateNumber++,this.states.getOrAdd(b)}toString(b,A){if(b||(b=p.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let C;return A?C=new s.DFASerializer(this,b,A,this.atnStartState.atn):C=new s.DFASerializer(this,b),C.toString()}toLexerString(){return this.s0?new l.LexerDFASerializer(this).toString():""}};return e([u.NotNull],m.prototype,"states",void 0),e([u.NotNull],m.prototype,"atnStartState",void 0),e([u.NotNull],m.prototype,"atn",void 0),m=e([t(0,u.NotNull)],m),Rl.DFA=m,Rl}var pd={},gd={},xI;function ZF(){if(xI)return gd;xI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gd&&gd.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(gd,"__esModule",{value:!0}),gd.BasicState=void 0;const t=Iu(),n=Jr(),r=Ue();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.BASIC}};return e([r.Override],s.prototype,"stateType",null),gd.BasicState=s,gd}var bI;function JF(){if(bI)return pd;bI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pd&&pd.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(pd,"__esModule",{value:!0}),pd.InvalidState=void 0;const t=Jr(),n=ZF(),r=Ue();let s=class extends n.BasicState{get stateType(){return t.ATNStateType.INVALID_TYPE}};return e([r.Override],s.prototype,"stateType",null),pd.InvalidState=s,pd}var Ol={},Dl={},Ml={},SI;function oR(){if(SI)return Ml;SI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ml&&Ml.__decorate||function(u,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,d,g,p);else for(var A=u.length-1;A>=0;A--)(b=u[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x},t=Ml&&Ml.__param||function(u,d){return function(g,p){d(g,p,u)}};Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.SetTransition=void 0;const n=bh(),r=Ue(),s=$n(),a=of();let l=class extends a.Transition{constructor(d,g){super(d),g==null&&(g=n.IntervalSet.of(s.Token.INVALID_TYPE)),this.set=g}get serializationType(){return 7}get label(){return this.set}matches(d,g,p){return this.set.contains(d)}toString(){return this.set.toString()}};return e([r.NotNull],l.prototype,"set",void 0),e([r.Override],l.prototype,"serializationType",null),e([r.Override,r.NotNull],l.prototype,"label",null),e([r.Override],l.prototype,"matches",null),e([r.Override,r.NotNull],l.prototype,"toString",null),l=e([t(0,r.NotNull),t(1,r.Nullable)],l),Ml.SetTransition=l,Ml}var EI;function sR(){if(EI)return Dl;EI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dl&&Dl.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Dl&&Dl.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.NotSetTransition=void 0;const n=Ue(),r=oR();let s=class extends r.SetTransition{constructor(l,u){super(l,u)}get serializationType(){return 8}matches(l,u,d){return l>=u&&l<=d&&!super.matches(l,u,d)}toString(){return"~"+super.toString()}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"matches",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull),t(1,n.Nullable)],s),Dl.NotSetTransition=s,Dl}var md={},AI;function ey(){if(AI)return md;AI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=md&&md.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(md,"__esModule",{value:!0}),md.RuleStopState=void 0;const t=Iu(),n=Jr(),r=Ue();let s=class extends t.ATNState{get nonStopStateNumber(){return-1}get stateType(){return n.ATNStateType.RULE_STOP}};return e([r.Override],s.prototype,"nonStopStateNumber",null),e([r.Override],s.prototype,"stateType",null),md.RuleStopState=s,md}var Pl={},wI;function aR(){if(wI)return Pl;wI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pl&&Pl.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Pl&&Pl.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.RuleTransition=void 0;const n=Ue(),r=of();let s=class extends r.Transition{constructor(l,u,d,g){super(l),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=u,this.precedence=d,this.followState=g}get serializationType(){return 3}get isEpsilon(){return!0}matches(l,u,d){return!1}};return e([n.NotNull],s.prototype,"followState",void 0),e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),s=e([t(0,n.NotNull),t(3,n.NotNull)],s),Pl.RuleTransition=s,Pl}var Ll={},CI;function QF(){if(CI)return Ll;CI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ll&&Ll.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Ll&&Ll.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.WildcardTransition=void 0;const n=Ue(),r=of();let s=class extends r.Transition{constructor(l){super(l)}get serializationType(){return 9}matches(l,u,d){return l>=u&&l<=d}toString(){return"."}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"matches",null),e([n.Override,n.NotNull],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),Ll.WildcardTransition=s,Ll}var RI;function IY(){if(RI)return Ol;RI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ol&&Ol.__decorate||function(w,R,I,N){var D=arguments.length,L=D<3?R:N===null?N=Object.getOwnPropertyDescriptor(R,I):N,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(w,R,I,N);else for(var j=w.length-1;j>=0;j--)(k=w[j])&&(L=(D<3?k(L):D>3?k(R,I,L):k(R,I))||L);return D>3&&L&&Object.defineProperty(R,I,L),L},t=Ol&&Ol.__param||function(w,R){return function(I,N){R(I,N,w)}};Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.LL1Analyzer=void 0;const n=J2(),r=sf(),s=JS(),a=af(),l=bh(),u=Ue(),d=sR(),g=za(),p=Ls(),m=ey(),x=aR(),b=$n(),A=QF();let C=class NC{constructor(R){this.atn=R}getDecisionLookahead(R){if(R==null)return;let I=new Array(R.numberOfTransitions);for(let N=0;N<R.numberOfTransitions;N++){let D=new l.IntervalSet;I[N]=D;let L=new r.Array2DHashSet(g.ObjectEqualityComparator.INSTANCE);this._LOOK(R.transition(N).target,void 0,p.PredictionContext.EMPTY_LOCAL,D,L,new a.BitSet,!1,!1),(D.size===0||D.contains(NC.HIT_PRED))&&(D=void 0,I[N]=D)}return I}LOOK(R,I,N){if(N===void 0){if(R.atn==null)throw new Error("Illegal state");N=R.atn.ruleToStopState[R.ruleIndex]}else N===null&&(N=void 0);let D=new l.IntervalSet;return this._LOOK(R,N,I,D,new r.Array2DHashSet,new a.BitSet,!0,!0),D}_LOOK(R,I,N,D,L,k,j,B){let $=s.ATNConfig.create(R,0,N);if(!L.add($))return;if(R===I){if(p.PredictionContext.isEmptyLocal(N)){D.add(b.Token.EPSILON);return}else if(N.isEmpty){B&&D.add(b.Token.EOF);return}}if(R instanceof m.RuleStopState){if(N.isEmpty&&!p.PredictionContext.isEmptyLocal(N)){B&&D.add(b.Token.EOF);return}let ne=k.get(R.ruleIndex);try{k.clear(R.ruleIndex);for(let re=0;re<N.size;re++){if(N.getReturnState(re)===p.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let Se=this.atn.states[N.getReturnState(re)];this._LOOK(Se,I,N.getParent(re),D,L,k,j,B)}}finally{ne&&k.set(R.ruleIndex)}}let K=R.numberOfTransitions;for(let ne=0;ne<K;ne++){let re=R.transition(ne);if(re instanceof x.RuleTransition){if(k.get(re.ruleIndex))continue;let Se=N.getChild(re.followState.stateNumber);try{k.set(re.ruleIndex),this._LOOK(re.target,I,Se,D,L,k,j,B)}finally{k.clear(re.ruleIndex)}}else if(re instanceof n.AbstractPredicateTransition)j?this._LOOK(re.target,I,N,D,L,k,j,B):D.add(NC.HIT_PRED);else if(re.isEpsilon)this._LOOK(re.target,I,N,D,L,k,j,B);else if(re instanceof A.WildcardTransition)D.addAll(l.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let Se=re.label;Se!=null&&(re instanceof d.NotSetTransition&&(Se=Se.complement(l.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),D.addAll(Se))}}}};return C.HIT_PRED=b.Token.INVALID_TYPE,e([u.NotNull],C.prototype,"atn",void 0),e([u.NotNull,t(0,u.NotNull),t(1,u.NotNull)],C.prototype,"LOOK",null),e([t(0,u.NotNull),t(2,u.NotNull),t(3,u.NotNull),t(4,u.NotNull),t(5,u.NotNull)],C.prototype,"_LOOK",null),C=e([t(0,u.NotNull)],C),Ol.LL1Analyzer=C,Ol}var TI;function Va(){return TI||(TI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=sd&&sd.__decorate||function(A,C,w,R){var I=arguments.length,N=I<3?C:R===null?R=Object.getOwnPropertyDescriptor(C,w):R,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(A,C,w,R);else for(var L=A.length-1;L>=0;L--)(D=A[L])&&(N=(I<3?D(N):I>3?D(C,w,N):D(C,w))||N);return I>3&&N&&Object.defineProperty(C,w,N),N},n=sd&&sd.__param||function(A,C){return function(w,R){C(w,R,A)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATN=void 0;const r=Ig(),s=XF(),a=bh(),l=JF(),u=IY(),d=Ue(),g=za(),p=Ls(),m=$n(),x=Ni();let b=class{constructor(C,w){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new r.Array2DHashMap(g.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=C,this.maxTokenType=w}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let C=0;C<this.decisionToDFA.length;C++)this.decisionToDFA[C]=new s.DFA(this.decisionToState[C],C);this.modeToDFA=new Array(this.modeToStartState.length);for(let C=0;C<this.modeToDFA.length;C++)this.modeToDFA[C]=new s.DFA(this.modeToStartState[C]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(C){return p.PredictionContext.getCachedContext(C,this.contextCache,new p.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return x(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(C,w){return w?new u.LL1Analyzer(this).LOOK(C,w):(C.nextTokenWithinRule||(C.nextTokenWithinRule=this.nextTokens(C,p.PredictionContext.EMPTY_LOCAL),C.nextTokenWithinRule.setReadonly(!0)),C.nextTokenWithinRule)}addState(C){C.atn=this,C.stateNumber=this.states.length,this.states.push(C)}removeState(C){let w=new l.InvalidState;w.atn=this,w.stateNumber=C.stateNumber,this.states[C.stateNumber]=w}defineMode(C,w){this.modeNameToStartState.set(C,w),this.modeToStartState.push(w),this.modeToDFA.push(new s.DFA(w)),this.defineDecisionState(w)}defineDecisionState(C){return this.decisionToState.push(C),C.decision=this.decisionToState.length-1,this.decisionToDFA.push(new s.DFA(C,C.decision)),C.decision}getDecisionState(C){if(this.decisionToState.length>0)return this.decisionToState[C]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(C,w){if(C<0||C>=this.states.length)throw new RangeError("Invalid state number.");let R=w,I=this.states[C],N=this.nextTokens(I);if(!N.contains(m.Token.EPSILON))return N;let D=new a.IntervalSet;for(D.addAll(N),D.remove(m.Token.EPSILON);R!=null&&R.invokingState>=0&&N.contains(m.Token.EPSILON);){let k=this.states[R.invokingState].transition(0);N=this.nextTokens(k.followState),D.addAll(N),D.remove(m.Token.EPSILON),R=R._parent}return N.contains(m.Token.EPSILON)&&D.add(m.Token.EOF),D}};t([d.NotNull],b.prototype,"states",void 0),t([d.NotNull],b.prototype,"decisionToState",void 0),t([d.NotNull],b.prototype,"modeNameToStartState",void 0),t([d.NotNull],b.prototype,"modeToStartState",void 0),t([d.NotNull],b.prototype,"decisionToDFA",void 0),t([d.NotNull],b.prototype,"modeToDFA",void 0),t([d.NotNull],b.prototype,"nextTokens",null),t([n(0,d.NotNull)],b.prototype,"removeState",null),t([n(0,d.NotNull),n(1,d.NotNull)],b.prototype,"defineMode",null),t([n(0,d.NotNull)],b.prototype,"defineDecisionState",null),t([d.NotNull],b.prototype,"getExpectedTokens",null),b=t([n(0,d.NotNull)],b),e.ATN=b,function(A){A.INVALID_ALT_NUMBER=0}(b=e.ATN||(e.ATN={})),e.ATN=b}(sd)),sd}var Fl={},kl={},NI;function OY(){if(NI)return kl;NI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kl&&kl.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=kl&&kl.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(kl,"__esModule",{value:!0}),kl.LexerIndexedCustomAction=void 0;const n=pr(),r=Ue();let s=class ek{constructor(l,u){this._offset=l,this._action=u}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(l){this._action.execute(l)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this._offset),l=n.MurmurHash.update(l,this._action),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof ek?this._offset===l._offset&&this._action.equals(l._action):!1}};return e([r.NotNull],s.prototype,"action",null),e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),s=e([t(1,r.NotNull)],s),kl.LexerIndexedCustomAction=s,kl}var _I;function DY(){if(_I)return Fl;_I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fl&&Fl.__decorate||function(u,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,d,g,p);else for(var A=u.length-1;A>=0;A--)(b=u[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x},t=Fl&&Fl.__param||function(u,d){return function(g,p){d(g,p,u)}};Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.LexerActionExecutor=void 0;const n=KS(),r=OY(),s=pr(),a=Ue();let l=class dv{constructor(d){this._lexerActions=d;let g=s.MurmurHash.initialize();for(let p of d)g=s.MurmurHash.update(g,p);this.cachedHashCode=s.MurmurHash.finish(g,d.length)}static append(d,g){if(!d)return new dv([g]);let p=d._lexerActions.slice(0);return p.push(g),new dv(p)}fixOffsetBeforeMatch(d){let g;for(let p=0;p<this._lexerActions.length;p++)this._lexerActions[p].isPositionDependent&&!(this._lexerActions[p]instanceof r.LexerIndexedCustomAction)&&(g||(g=this._lexerActions.slice(0)),g[p]=new r.LexerIndexedCustomAction(d,this._lexerActions[p]));return g?new dv(g):this}get lexerActions(){return this._lexerActions}execute(d,g,p){let m=!1,x=g.index;try{for(let b of this._lexerActions){if(b instanceof r.LexerIndexedCustomAction){let A=b.offset;g.seek(p+A),b=b.action,m=p+A!==x}else b.isPositionDependent&&(g.seek(x),m=!1);b.execute(d)}}finally{m&&g.seek(x)}}hashCode(){return this.cachedHashCode}equals(d){return d===this?!0:d instanceof dv?this.cachedHashCode===d.cachedHashCode&&n.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,d._lexerActions):!1}};return e([a.NotNull],l.prototype,"_lexerActions",void 0),e([a.NotNull],l.prototype,"lexerActions",null),e([t(0,a.NotNull)],l.prototype,"execute",null),e([a.Override],l.prototype,"hashCode",null),e([a.Override],l.prototype,"equals",null),e([a.NotNull,t(1,a.NotNull)],l,"append",null),l=e([t(0,a.NotNull)],l),Fl.LexerActionExecutor=l,Fl}var Bl={},II;function t1(){if(II)return Bl;II=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bl&&Bl.__decorate||function(u,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,d,g,p);else for(var A=u.length-1;A>=0;A--)(b=u[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x},t=Bl&&Bl.__param||function(u,d){return function(g,p){d(g,p,u)}};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.LexerNoViableAltException=void 0;const n=rf(),r=Ue(),s=Xi(),a=Ou();let l=class extends n.RecognitionException{constructor(d,g,p,m){super(d,g),this._startIndex=p,this._deadEndConfigs=m}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let d="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(d=this.inputStream.getText(s.Interval.of(this._startIndex,this._startIndex)),d=a.escapeWhitespace(d,!1)),`LexerNoViableAltException('${d}')`}};return e([r.Override],l.prototype,"inputStream",null),e([r.Override],l.prototype,"toString",null),l=e([t(1,r.NotNull)],l),Bl.LexerNoViableAltException=l,Bl}var vd={},OI;function MY(){if(OI)return vd;OI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vd&&vd.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(vd,"__esModule",{value:!0}),vd.OrderedATNConfigSet=void 0;const t=Jv(),n=Ue();let r=class tk extends t.ATNConfigSet{constructor(a,l){a!=null&&l!=null?super(a,l):super()}clone(a){let l=new tk(this,a);return!a&&this.isReadOnly&&l.addAll(this),l}getKey(a){return{state:0,alt:a.hashCode()}}canMerge(a,l,u){return a.equals(u)}};return e([n.Override],r.prototype,"clone",null),e([n.Override],r.prototype,"getKey",null),e([n.Override],r.prototype,"canMerge",null),vd.OrderedATNConfigSet=r,vd}var DI;function n1(){return DI||(DI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=od&&od.__decorate||function(L,k,j,B){var $=arguments.length,K=$<3?k:B===null?B=Object.getOwnPropertyDescriptor(k,j):B,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(L,k,j,B);else for(var re=L.length-1;re>=0;re--)(ne=L[re])&&(K=($<3?ne(K):$>3?ne(k,j,K):ne(k,j))||K);return $>3&&K&&Object.defineProperty(k,j,K),K},n=od&&od.__param||function(L,k){return function(j,B){k(j,B,L)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerATNSimulator=void 0;const r=HF(),s=Va(),a=JS(),l=Jv(),u=e1(),d=QS(),g=Xi(),p=nf(),m=lf(),x=DY(),b=t1(),A=Ue(),C=MY(),w=Ls(),R=ey(),I=$n(),N=Ni();let D=class fo extends u.ATNSimulator{constructor(k,j){super(k),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE,this.prevAccept=new fo.SimState,this.recog=j}copyState(k){this._charPositionInLine=k.charPositionInLine,this._line=k._line,this.mode=k.mode,this.startIndex=k.startIndex}match(k,j){this.mode=j;let B=k.mark();try{this.startIndex=k.index,this.prevAccept.reset();let $=this.atn.modeToDFA[j].s0;return $==null?this.matchATN(k):this.execATN(k,$)}finally{k.release(B)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE}matchATN(k){let j=this.atn.modeToStartState[this.mode];fo.debug&&console.log(`matchATN mode ${this.mode} start: ${j}`);let B=this.mode,$=this.computeStartState(k,j),K=$.hasSemanticContext;K&&($.hasSemanticContext=!1);let ne=this.addDFAState($);if(!K){let Se=this.atn.modeToDFA[this.mode];Se.s0?ne=Se.s0:Se.s0=ne}let re=this.execATN(k,ne);return fo.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[B].toLexerString()}`),re}execATN(k,j){fo.debug&&console.log(`start state closure=${j.configs}`),j.isAcceptState&&this.captureSimState(this.prevAccept,k,j);let B=k.LA(1),$=j;for(;;){fo.debug&&console.log(`execATN loop starting closure: ${$.configs}`);let K=this.getExistingTargetState($,B);if(K==null&&(K=this.computeTargetState(k,$,B)),K===u.ATNSimulator.ERROR||(B!==p.IntStream.EOF&&this.consume(k),K.isAcceptState&&(this.captureSimState(this.prevAccept,k,K),B===p.IntStream.EOF)))break;B=k.LA(1),$=K}return this.failOrAccept(this.prevAccept,k,$.configs,B)}getExistingTargetState(k,j){let B=k.getTarget(j);return fo.debug&&B!=null&&console.log("reuse state "+k.stateNumber+" edge to "+B.stateNumber),B}computeTargetState(k,j,B){let $=new C.OrderedATNConfigSet;return this.getReachableConfigSet(k,j.configs,$,B),$.isEmpty?($.hasSemanticContext||this.addDFAEdge(j,B,u.ATNSimulator.ERROR),u.ATNSimulator.ERROR):this.addDFAEdge(j,B,$)}failOrAccept(k,j,B,$){if(k.dfaState!=null){let K=k.dfaState.lexerActionExecutor;return this.accept(j,K,this.startIndex,k.index,k.line,k.charPos),k.dfaState.prediction}else{if($===p.IntStream.EOF&&j.index===this.startIndex)return I.Token.EOF;throw new b.LexerNoViableAltException(this.recog,j,this.startIndex,B)}}getReachableConfigSet(k,j,B,$){let K=s.ATN.INVALID_ALT_NUMBER;for(let ne of j){let re=ne.alt===K;if(re&&ne.hasPassedThroughNonGreedyDecision)continue;fo.debug&&console.log(`testing ${this.getTokenName($)} at ${ne.toString(this.recog,!0)}`);let Se=ne.state.numberOfOptimizedTransitions;for(let Me=0;Me<Se;Me++){let Oe=ne.state.getOptimizedTransition(Me),ie=this.getReachableTarget(Oe,$);if(ie!=null){let Ee=ne.lexerActionExecutor,de;Ee!=null?(Ee=Ee.fixOffsetBeforeMatch(k.index-this.startIndex),de=ne.transform(ie,!0,Ee)):(N(ne.lexerActionExecutor==null),de=ne.transform(ie,!0));let ue=$===p.IntStream.EOF;if(this.closure(k,de,B,re,!0,ue)){K=ne.alt;break}}}}}accept(k,j,B,$,K,ne){fo.debug&&console.log(`ACTION ${j}`),k.seek($),this._line=K,this._charPositionInLine=ne,j!=null&&this.recog!=null&&j.execute(this.recog,k,B)}getReachableTarget(k,j){if(k.matches(j,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE))return k.target}computeStartState(k,j){let B=w.PredictionContext.EMPTY_FULL,$=new C.OrderedATNConfigSet;for(let K=0;K<j.numberOfTransitions;K++){let ne=j.transition(K).target,re=a.ATNConfig.create(ne,K+1,B);this.closure(k,re,$,!1,!1,!1)}return $}closure(k,j,B,$,K,ne){if(fo.debug&&console.log("closure("+j.toString(this.recog,!0)+")"),j.state instanceof R.RuleStopState){fo.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[j.state.ruleIndex]} rule stop ${j}`):console.log(`closure at rule stop ${j}`));let Se=j.context;if(Se.isEmpty)return B.add(j),!0;Se.hasEmpty&&(B.add(j.transform(j.state,!0,w.PredictionContext.EMPTY_FULL)),$=!0);for(let Me=0;Me<Se.size;Me++){let Oe=Se.getReturnState(Me);if(Oe===w.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let ie=Se.getParent(Me),Ee=this.atn.states[Oe],de=j.transform(Ee,!1,ie);$=this.closure(k,de,B,$,K,ne)}return $}j.state.onlyHasEpsilonTransitions||(!$||!j.hasPassedThroughNonGreedyDecision)&&B.add(j);let re=j.state;for(let Se=0;Se<re.numberOfOptimizedTransitions;Se++){let Me=re.getOptimizedTransition(Se),Oe=this.getEpsilonTarget(k,j,Me,B,K,ne);Oe!=null&&($=this.closure(k,Oe,B,$,K,ne))}return $}getEpsilonTarget(k,j,B,$,K,ne){let re;switch(B.serializationType){case 3:let Se=B;if(this.optimize_tail_calls&&Se.optimizedTailCall&&!j.context.hasEmpty)re=j.transform(B.target,!0);else{let Oe=j.context.getChild(Se.followState.stateNumber);re=j.transform(B.target,!0,Oe)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let Me=B;fo.debug&&console.log("EVAL rule "+Me.ruleIndex+":"+Me.predIndex),$.hasSemanticContext=!0,this.evaluatePredicate(k,Me.ruleIndex,Me.predIndex,K)?re=j.transform(B.target,!0):re=void 0;break;case 6:if(j.context.hasEmpty){let Oe=x.LexerActionExecutor.append(j.lexerActionExecutor,this.atn.lexerActions[B.actionIndex]);re=j.transform(B.target,!0,Oe);break}else{re=j.transform(B.target,!0);break}case 1:re=j.transform(B.target,!0);break;case 5:case 2:case 7:if(ne&&B.matches(p.IntStream.EOF,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE)){re=j.transform(B.target,!1);break}re=void 0;break;default:re=void 0;break}return re}evaluatePredicate(k,j,B,$){if(this.recog==null)return!0;if(!$)return this.recog.sempred(void 0,j,B);let K=this._charPositionInLine,ne=this._line,re=k.index,Se=k.mark();try{return this.consume(k),this.recog.sempred(void 0,j,B)}finally{this._charPositionInLine=K,this._line=ne,k.seek(re),k.release(Se)}}captureSimState(k,j,B){k.index=j.index,k.line=this._line,k.charPos=this._charPositionInLine,k.dfaState=B}addDFAEdge(k,j,B){if(B instanceof l.ATNConfigSet){let $=B.hasSemanticContext;$&&(B.hasSemanticContext=!1);let K=this.addDFAState(B);return $||this.addDFAEdge(k,j,K),K}else fo.debug&&console.log("EDGE "+k+" -> "+B+" upon "+String.fromCharCode(j)),k!=null&&k.setTarget(j,B)}addDFAState(k){N(!k.hasSemanticContext);let j=new d.DFAState(k),B=this.atn.modeToDFA[this.mode].states.get(j);if(B!=null)return B;k.optimizeConfigs(this);let $=new d.DFAState(k.clone(!0)),K;for(let ne of k)if(ne.state instanceof R.RuleStopState){K=ne;break}if(K!=null){let ne=this.atn.ruleToTokenType[K.state.ruleIndex],re=K.lexerActionExecutor;$.acceptStateInfo=new r.AcceptStateInfo(ne,re)}return this.atn.modeToDFA[this.mode].addState($)}getDFA(k){return this.atn.modeToDFA[k]}getText(k){return k.getText(g.Interval.of(this.startIndex,k.index-1))}get line(){return this._line}set line(k){this._line=k}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(k){this._charPositionInLine=k}consume(k){k.LA(1)===10?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,k.consume()}getTokenName(k){return k===-1?"EOF":"'"+String.fromCharCode(k)+"'"}};t([A.NotNull],D.prototype,"prevAccept",void 0),t([n(0,A.NotNull)],D.prototype,"copyState",null),t([n(0,A.NotNull)],D.prototype,"match",null),t([A.Override],D.prototype,"reset",null),t([n(0,A.NotNull)],D.prototype,"matchATN",null),t([n(0,A.NotNull),n(1,A.NotNull)],D.prototype,"execATN",null),t([n(0,A.NotNull)],D.prototype,"getExistingTargetState",null),t([A.NotNull,n(0,A.NotNull),n(1,A.NotNull)],D.prototype,"computeTargetState",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull)],D.prototype,"getReachableConfigSet",null),t([n(0,A.NotNull)],D.prototype,"accept",null),t([A.NotNull,n(0,A.NotNull),n(1,A.NotNull)],D.prototype,"computeStartState",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull)],D.prototype,"closure",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull),n(3,A.NotNull)],D.prototype,"getEpsilonTarget",null),t([n(0,A.NotNull)],D.prototype,"evaluatePredicate",null),t([n(0,A.NotNull),n(1,A.NotNull),n(2,A.NotNull)],D.prototype,"captureSimState",null),t([A.NotNull,n(0,A.NotNull)],D.prototype,"addDFAState",null),t([A.NotNull],D.prototype,"getDFA",null),t([A.NotNull,n(0,A.NotNull)],D.prototype,"getText",null),t([n(0,A.NotNull)],D.prototype,"consume",null),t([A.NotNull],D.prototype,"getTokenName",null),D=t([n(0,A.NotNull)],D),e.LexerATNSimulator=D,function(L){L.debug=!1,L.dfa_debug=!1;class k{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}L.SimState=k}(D=e.LexerATNSimulator||(e.LexerATNSimulator={})),e.LexerATNSimulator=D}(od)),od}var MI;function lf(){if(MI)return id;MI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=id&&id.__decorate||function(m,x,b,A){var C=arguments.length,w=C<3?x:A===null?A=Object.getOwnPropertyDescriptor(x,b):A,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(m,x,b,A);else for(var I=m.length-1;I>=0;I--)(R=m[I])&&(w=(C<3?R(w):C>3?R(x,b,w):R(x,b))||w);return C>3&&w&&Object.defineProperty(x,b,w),w};Object.defineProperty(id,"__esModule",{value:!0}),id.Lexer=void 0;const t=tR(),n=$F(),r=Xi(),s=nf(),a=n1(),l=t1(),u=Ue(),d=Qv(),g=$n();let p=class Ic extends d.Recognizer{constructor(x){super(),this._factory=t.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new n.IntegerStack,this._mode=Ic.DEFAULT_MODE,this._input=x,this._tokenFactorySourcePair={source:this,stream:x}}static get DEFAULT_TOKEN_CHANNEL(){return g.Token.DEFAULT_CHANNEL}static get HIDDEN(){return g.Token.HIDDEN_CHANNEL}reset(x){(x===void 0||x)&&this._input.seek(0),this._token=void 0,this._type=g.Token.INVALID_TYPE,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=Ic.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let x=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=g.Token.INVALID_TYPE;let b;try{b=this.interpreter.match(this._input,this._mode)}catch(A){if(A instanceof l.LexerNoViableAltException)this.notifyListeners(A),this.recover(A),b=Ic.SKIP;else throw A}if(this._input.LA(1)===s.IntStream.EOF&&(this._hitEOF=!0),this._type===g.Token.INVALID_TYPE&&(this._type=b),this._type===Ic.SKIP)continue e}while(this._type===Ic.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(x)}}skip(){this._type=Ic.SKIP}more(){this._type=Ic.MORE}mode(x){this._mode=x}pushMode(x){a.LexerATNSimulator.debug&&console.log("pushMode "+x),this._modeStack.push(this._mode),this.mode(x)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return a.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(x){this._factory=x}get inputStream(){return this._input}set inputStream(x){this.reset(!1),this._input=x,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(x){return x||(x=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=x,x}emitEOF(){let x=this.charPositionInLine,b=this.line,A=this._factory.create(this._tokenFactorySourcePair,g.Token.EOF,void 0,g.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,b,x);return this.emit(A),A}get line(){return this.interpreter.line}set line(x){this.interpreter.line=x}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(x){this.interpreter.charPositionInLine=x}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(x){this._text=x}get token(){return this._token}set token(x){this._token=x}set type(x){this._type=x}get type(){return this._type}set channel(x){this._channel=x}get channel(){return this._channel}getAllTokens(){let x=[],b=this.nextToken();for(;b.type!==g.Token.EOF;)x.push(b),b=this.nextToken();return x}notifyListeners(x){let b=this._input.getText(r.Interval.of(this._tokenStartCharIndex,this._input.index)),A="token recognition error at: '"+this.getErrorDisplay(b)+"'",C=this.getErrorListenerDispatch();C.syntaxError&&C.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,A,x)}getErrorDisplay(x){if(typeof x=="number"){switch(x){case g.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(x)}return x.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(x){return"'"+this.getErrorDisplay(x)+"'"}recover(x){x instanceof l.LexerNoViableAltException?this._input.LA(1)!==s.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};return p.DEFAULT_MODE=0,p.MORE=-2,p.SKIP=-3,p.MIN_CHAR_VALUE=0,p.MAX_CHAR_VALUE=1114111,e([u.Override],p.prototype,"nextToken",null),e([u.Override],p.prototype,"tokenFactory",null),e([u.Override],p.prototype,"inputStream",null),e([u.Override],p.prototype,"sourceName",null),e([u.Override],p.prototype,"line",null),e([u.Override],p.prototype,"charPositionInLine",null),id.Lexer=p,id}var PI;function bh(){if(PI)return wl;PI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wl&&wl.__decorate||function(p,m,x,b){var A=arguments.length,C=A<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,m,x,b);else for(var R=p.length-1;R>=0;R--)(w=p[R])&&(C=(A<3?w(C):A>3?w(m,x,C):w(m,x))||C);return A>3&&C&&Object.defineProperty(m,x,C),C},t=wl&&wl.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(wl,"__esModule",{value:!0}),wl.IntervalSet=void 0;const n=KS(),r=eR(),s=Xi(),a=lf(),l=pr(),u=Ue(),d=$n();let g=class gn{constructor(m){this.readonly=!1,m!=null?this._intervals=m.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return gn._COMPLETE_CHAR_SET===void 0&&(gn._COMPLETE_CHAR_SET=gn.of(a.Lexer.MIN_CHAR_VALUE,a.Lexer.MAX_CHAR_VALUE),gn._COMPLETE_CHAR_SET.setReadonly(!0)),gn._COMPLETE_CHAR_SET}static get EMPTY_SET(){return gn._EMPTY_SET==null&&(gn._EMPTY_SET=new gn,gn._EMPTY_SET.setReadonly(!0)),gn._EMPTY_SET}static of(m,x=m){let b=new gn;return b.add(m,x),b}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(m,x=m){this.addRange(s.Interval.of(m,x))}addRange(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(m.b<m.a)){for(let x=0;x<this._intervals.length;x++){let b=this._intervals[x];if(m.equals(b))return;if(m.adjacent(b)||!m.disjoint(b)){let A=m.union(b);for(this._intervals[x]=A;x<this._intervals.length-1;){x++;let C=this._intervals[x];if(!A.adjacent(C)&&A.disjoint(C))break;this._intervals.splice(x,1),x--,this._intervals[x]=A.union(C)}return}if(m.startsBeforeDisjoint(b)){this._intervals.splice(x,0,m);return}}this._intervals.push(m)}}static or(m){let x=new gn;for(let b of m)x.addAll(b);return x}addAll(m){if(m==null)return this;if(m instanceof gn){let x=m,b=x._intervals.length;for(let A=0;A<b;A++){let C=x._intervals[A];this.add(C.a,C.b)}}else for(let x of m.toArray())this.add(x);return this}complementRange(m,x){return this.complement(gn.of(m,x))}complement(m){if(m.isNil)return gn.EMPTY_SET;let x;return m instanceof gn?x=m:(x=new gn,x.addAll(m)),x.subtract(this)}subtract(m){if(m==null||m.isNil)return new gn(this._intervals);if(m instanceof gn)return gn.subtract(this,m);let x=new gn;return x.addAll(m),gn.subtract(this,x)}static subtract(m,x){if(m.isNil)return new gn;let b=new gn(m._intervals);if(x.isNil)return b;let A=0,C=0;for(;A<b._intervals.length&&C<x._intervals.length;){let w=b._intervals[A],R=x._intervals[C];if(R.b<w.a){C++;continue}if(R.a>w.b){A++;continue}let I,N;if(R.a>w.a&&(I=new s.Interval(w.a,R.a-1)),R.b<w.b&&(N=new s.Interval(R.b+1,w.b)),I)if(N){b._intervals[A]=I,b._intervals.splice(A+1,0,N),A++,C++;continue}else{b._intervals[A]=I,A++;continue}else if(N){b._intervals[A]=N,C++;continue}else{b._intervals.splice(A,1);continue}}return b}or(m){let x=new gn;return x.addAll(this),x.addAll(m),x}and(m){if(m.isNil)return new gn;let x=this._intervals,b=m._intervals,A,C=x.length,w=b.length,R=0,I=0;for(;R<C&&I<w;){let N=x[R],D=b[I];N.startsBeforeDisjoint(D)?R++:D.startsBeforeDisjoint(N)?I++:N.properlyContains(D)?(A||(A=new gn),A.addRange(N.intersection(D)),I++):D.properlyContains(N)?(A||(A=new gn),A.addRange(N.intersection(D)),R++):N.disjoint(D)||(A||(A=new gn),A.addRange(N.intersection(D)),N.startsAfterNonDisjoint(D)?I++:D.startsAfterNonDisjoint(N)&&R++)}return A||new gn}contains(m){let x=this._intervals.length,b=0,A=x-1;for(;b<=A;){let C=b+A>>1,w=this._intervals[C],R=w.a;if(w.b<m)b=C+1;else if(R>m)A=C-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let m=l.MurmurHash.initialize();for(let x of this._intervals)m=l.MurmurHash.update(m,x.a),m=l.MurmurHash.update(m,x.b);return m=l.MurmurHash.finish(m,this._intervals.length*2),m}equals(m){return m==null||!(m instanceof gn)?!1:n.ArrayEqualityComparator.INSTANCE.equals(this._intervals,m._intervals)}toString(m=!1){let x="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(x+="{");let b=!0;for(let A of this._intervals){b?b=!1:x+=", ";let C=A.a,w=A.b;C===w?C===d.Token.EOF?x+="<EOF>":m?x+="'"+String.fromCodePoint(C)+"'":x+=C:m?x+="'"+String.fromCodePoint(C)+"'..'"+String.fromCodePoint(w)+"'":x+=C+".."+w}return this.size>1&&(x+="}"),x}toStringVocabulary(m){if(this._intervals==null||this._intervals.length===0)return"{}";let x="";this.size>1&&(x+="{");let b=!0;for(let A of this._intervals){b?b=!1:x+=", ";let C=A.a,w=A.b;if(C===w)x+=this.elementName(m,C);else for(let R=C;R<=w;R++)R>C&&(x+=", "),x+=this.elementName(m,R)}return this.size>1&&(x+="}"),x}elementName(m,x){return x===d.Token.EOF?"<EOF>":x===d.Token.EPSILON?"<EPSILON>":m.getDisplayName(x)}get size(){let m=0,x=this._intervals.length;if(x===1){let b=this._intervals[0];return b.b-b.a+1}for(let b=0;b<x;b++){let A=this._intervals[b];m+=A.b-A.a+1}return m}toIntegerList(){let m=new r.IntegerList(this.size),x=this._intervals.length;for(let b=0;b<x;b++){let A=this._intervals[b],C=A.a,w=A.b;for(let R=C;R<=w;R++)m.add(R)}return m}toSet(){let m=new Set;for(let x of this._intervals){let b=x.a,A=x.b;for(let C=b;C<=A;C++)m.add(C)}return m}toArray(){let m=new Array,x=this._intervals.length;for(let b=0;b<x;b++){let A=this._intervals[b],C=A.a,w=A.b;for(let R=C;R<=w;R++)m.push(R)}return m}remove(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let x=this._intervals.length;for(let b=0;b<x;b++){let A=this._intervals[b],C=A.a,w=A.b;if(m<C)break;if(m===C&&m===w){this._intervals.splice(b,1);break}if(m===C){this._intervals[b]=s.Interval.of(A.a+1,A.b);break}if(m===w){this._intervals[b]=s.Interval.of(A.a,A.b-1);break}if(m>C&&m<w){let R=A.b;this._intervals[b]=s.Interval.of(A.a,m-1),this.add(m+1,R)}}}get isReadonly(){return this.readonly}setReadonly(m){if(this.readonly&&!m)throw new Error("can't alter readonly IntervalSet");this.readonly=m}};return e([u.Override],g.prototype,"addAll",null),e([u.Override],g.prototype,"complement",null),e([u.Override],g.prototype,"subtract",null),e([u.Override],g.prototype,"or",null),e([u.Override],g.prototype,"and",null),e([u.Override],g.prototype,"contains",null),e([u.Override],g.prototype,"isNil",null),e([u.Override],g.prototype,"hashCode",null),e([u.Override],g.prototype,"equals",null),e([t(0,u.NotNull)],g.prototype,"toStringVocabulary",null),e([u.NotNull,t(0,u.NotNull)],g.prototype,"elementName",null),e([u.Override],g.prototype,"size",null),e([u.Override],g.prototype,"remove",null),e([u.NotNull],g,"of",null),e([u.NotNull],g,"subtract",null),wl.IntervalSet=g,wl}var yd={},As={},xd={},LI;function nk(){if(LI)return xd;LI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xd&&xd.__decorate||function(r,s,a,l){var u=arguments.length,d=u<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,s,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(d=(u<3?g(d):u>3?g(s,a,d):g(s,a))||d);return u>3&&d&&Object.defineProperty(s,a,d),d};Object.defineProperty(xd,"__esModule",{value:!0}),xd.ATNDeserializationOptions=void 0;const t=Ue();let n=class Vp{constructor(s){this.readOnly=!1,s?(this.verifyATN=s.verifyATN,this.generateRuleBypassTransitions=s.generateRuleBypassTransitions,this.optimize=s.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return Vp._defaultOptions==null&&(Vp._defaultOptions=new Vp,Vp._defaultOptions.makeReadOnly()),Vp._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(s){this.throwIfReadOnly(),this.verifyATN=s}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(s){this.throwIfReadOnly(),this.generateRuleBypassTransitions=s}get isOptimize(){return this.optimize}set isOptimize(s){this.throwIfReadOnly(),this.optimize=s}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};return e([t.NotNull],n,"defaultOptions",null),xd.ATNDeserializationOptions=n,xd}var jl={},zl={},FI;function rk(){if(FI)return zl;FI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zl&&zl.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=zl&&zl.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(zl,"__esModule",{value:!0}),zl.ActionTransition=void 0;const n=Ue(),r=of();let s=class extends r.Transition{constructor(l,u,d=-1,g=!1){super(l),this.ruleIndex=u,this.actionIndex=d,this.isCtxDependent=g}get serializationType(){return 6}get isEpsilon(){return!0}matches(l,u,d){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),zl.ActionTransition=s,zl}var Vl={},kI;function ik(){if(kI)return Vl;kI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vl&&Vl.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},t=Vl&&Vl.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.AtomTransition=void 0;const n=bh(),r=Ue(),s=of();let a=class extends s.Transition{constructor(u,d){super(u),this._label=d}get serializationType(){return 5}get label(){return n.IntervalSet.of(this._label)}matches(u,d,g){return this._label===u}toString(){return String(this.label)}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override,r.NotNull],a.prototype,"label",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),Vl.AtomTransition=a,Vl}var bd={},G0={},BI;function r1(){if(BI)return G0;BI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(G0,"__esModule",{value:!0}),G0.BlockStartState=void 0;const e=yh();let t=class extends e.DecisionState{};return G0.BlockStartState=t,G0}var jI;function PY(){if(jI)return bd;jI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bd&&bd.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(bd,"__esModule",{value:!0}),bd.BasicBlockStartState=void 0;const t=Jr(),n=r1(),r=Ue();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),bd.BasicBlockStartState=s,bd}var Sd={},zI;function LY(){if(zI)return Sd;zI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sd&&Sd.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.BlockEndState=void 0;const t=Iu(),n=Jr(),r=Ue();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.BLOCK_END}};return e([r.Override],s.prototype,"stateType",null),Sd.BlockEndState=s,Sd}var Ul={},VI;function FY(){if(VI)return Ul;VI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ul&&Ul.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Ul&&Ul.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.EpsilonTransition=void 0;const n=Ue(),r=of();let s=class extends r.Transition{constructor(l,u=-1){super(l),this._outermostPrecedenceReturn=u}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(l,u,d){return!1}toString(){return"epsilon"}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),e([n.Override,n.NotNull],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),Ul.EpsilonTransition=s,Ul}var Gl={},UI;function kY(){if(UI)return Gl;UI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gl&&Gl.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Gl&&Gl.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.LexerChannelAction=void 0;const n=pr(),r=Ue();let s=class ok{constructor(l){this._channel=l}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(l){l.channel=this._channel}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._channel),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof ok?this._channel===l._channel:!1}toString(){return`channel(${this._channel})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Gl.LexerChannelAction=s,Gl}var $l={},GI;function BY(){if(GI)return $l;GI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$l&&$l.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=$l&&$l.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty($l,"__esModule",{value:!0}),$l.LexerCustomAction=void 0;const n=pr(),r=Ue();let s=class sk{constructor(l,u){this._ruleIndex=l,this._actionIndex=u}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(l){l.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._ruleIndex),l=n.MurmurHash.update(l,this._actionIndex),n.MurmurHash.finish(l,3)}equals(l){return l===this?!0:l instanceof sk?this._ruleIndex===l._ruleIndex&&this._actionIndex===l._actionIndex:!1}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),$l.LexerCustomAction=s,$l}var Hl={},$I;function jY(){if($I)return Hl;$I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hl&&Hl.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Hl&&Hl.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.LexerModeAction=void 0;const n=pr(),r=Ue();let s=class ak{constructor(l){this._mode=l}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(l){l.mode(this._mode)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._mode),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof ak?this._mode===l._mode:!1}toString(){return`mode(${this._mode})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Hl.LexerModeAction=s,Hl}var Ed={},HI;function zY(){return HI||(HI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Ed&&Ed.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},n=Ed&&Ed.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerMoreAction=void 0;const r=pr(),s=Ue();let a=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(u){u.more()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"more"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerMoreAction=a,function(l){l.INSTANCE=new l}(a=e.LexerMoreAction||(e.LexerMoreAction={}))}(Ed)),Ed}var Ad={},YI;function VY(){return YI||(YI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Ad&&Ad.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},n=Ad&&Ad.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerPopModeAction=void 0;const r=pr(),s=Ue();let a=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(u){u.popMode()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"popMode"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerPopModeAction=a,function(l){l.INSTANCE=new l}(a=e.LexerPopModeAction||(e.LexerPopModeAction={}))}(Ad)),Ad}var Yl={},WI;function UY(){if(WI)return Yl;WI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yl&&Yl.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Yl&&Yl.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.LexerPushModeAction=void 0;const n=pr(),r=Ue();let s=class lk{constructor(l){this._mode=l}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(l){l.pushMode(this._mode)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._mode),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof lk?this._mode===l._mode:!1}toString(){return`pushMode(${this._mode})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Yl.LexerPushModeAction=s,Yl}var wd={},qI;function GY(){return qI||(qI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=wd&&wd.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},n=wd&&wd.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerSkipAction=void 0;const r=pr(),s=Ue();let a=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(u){u.skip()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"skip"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerSkipAction=a,function(l){l.INSTANCE=new l}(a=e.LexerSkipAction||(e.LexerSkipAction={}))}(wd)),wd}var Wl={},KI;function $Y(){if(KI)return Wl;KI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wl&&Wl.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Wl&&Wl.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.LexerTypeAction=void 0;const n=pr(),r=Ue();let s=class uk{constructor(l){this._type=l}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(l){l.type=this._type}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._type),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof uk?this._type===l._type:!1}toString(){return`type(${this._type})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Wl.LexerTypeAction=s,Wl}var Cd={},XI;function ck(){if(XI)return Cd;XI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cd&&Cd.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.LoopEndState=void 0;const t=Iu(),n=Jr(),r=Ue();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.LOOP_END}};return e([r.Override],s.prototype,"stateType",null),Cd.LoopEndState=s,Cd}var ql={},Rd={},ZI;function HY(){if(ZI)return Rd;ZI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rd&&Rd.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.ConflictInfo=void 0;const t=Ue(),n=Ou();let r=class fk{constructor(a,l){this._conflictedAlts=a,this.exact=l}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(a){return a===this?!0:a instanceof fk?this.isExact===a.isExact&&n.equals(this.conflictedAlts,a.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};return e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),Rd.ConflictInfo=r,Rd}var Td={},Nd={},_d={},JI;function Og(){if(JI)return _d;JI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_d&&_d.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(_d,"__esModule",{value:!0}),_d.TerminalNode=void 0;const t=Xi(),n=Ue(),r=$n();let s=class{constructor(l){this._symbol=l}getChild(l){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(l){this._parent=l}get payload(){return this._symbol}get sourceInterval(){let l=this._symbol.tokenIndex;return new t.Interval(l,l)}get childCount(){return 0}accept(l){return l.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(l){return this.toString()}toString(){return this._symbol.type===r.Token.EOF?"<EOF>":this._symbol.text||""}};return e([n.Override],s.prototype,"getChild",null),e([n.Override],s.prototype,"parent",null),e([n.Override],s.prototype,"setParent",null),e([n.Override],s.prototype,"payload",null),e([n.Override],s.prototype,"sourceInterval",null),e([n.Override],s.prototype,"childCount",null),e([n.Override],s.prototype,"accept",null),e([n.Override],s.prototype,"text",null),e([n.Override],s.prototype,"toStringTree",null),e([n.Override],s.prototype,"toString",null),_d.TerminalNode=s,_d}var QI;function lR(){if(QI)return Nd;QI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nd&&Nd.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.ErrorNode=void 0;const t=Ue(),n=Og();let r=class extends n.TerminalNode{constructor(a){super(a)}accept(a){return a.visitErrorNode(this)}};return e([t.Override],r.prototype,"accept",null),Nd.ErrorNode=r,Nd}var Id={},$0={},eO;function uR(){if(eO)return $0;eO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty($0,"__esModule",{value:!0}),$0.RuleNode=void 0;let e=class{};return $0.RuleNode=e,$0}var Kl={},tO;function Sh(){if(tO)return Kl;tO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kl&&Kl.__decorate||function(b,A,C,w){var R=arguments.length,I=R<3?A:w===null?w=Object.getOwnPropertyDescriptor(A,C):w,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(b,A,C,w);else for(var D=b.length-1;D>=0;D--)(N=b[D])&&(I=(R<3?N(I):R>3?N(A,C,I):N(A,C))||I);return R>3&&I&&Object.defineProperty(A,C,I),I},t=Kl&&Kl.__param||function(b,A){return function(C,w){A(C,w,b)}};Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.Trees=void 0;const n=Va(),r=Zv(),s=lR(),a=Ue(),l=ry(),u=Fs(),d=uR(),g=Og(),p=$n(),m=Ou();let x=class Oc{static toStringTree(A,C){let w;C instanceof l.Parser?w=C.ruleNames:w=C;let R=m.escapeWhitespace(this.getNodeText(A,w),!1);if(A.childCount===0)return R;let I="";I+="(",R=m.escapeWhitespace(this.getNodeText(A,w),!1),I+=R,I+=" ";for(let N=0;N<A.childCount;N++)N>0&&(I+=" "),I+=this.toStringTree(A.getChild(N),w);return I+=")",I}static getNodeText(A,C){let w;if(C instanceof l.Parser)w=C.ruleNames;else if(C)w=C;else{let R=A.payload;return typeof R.text=="string"?R.text:A.payload.toString()}if(A instanceof d.RuleNode){let R=A.ruleContext,I=R.ruleIndex,N=w[I],D=R.altNumber;return D!==n.ATN.INVALID_ALT_NUMBER?N+":"+D:N}else{if(A instanceof s.ErrorNode)return A.toString();if(A instanceof g.TerminalNode)return A.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(A){let C=[];for(let w=0;w<A.childCount;w++)C.push(A.getChild(w));return C}static getAncestors(A){let C=[],w=A.parent;for(;w;)C.unshift(w),w=w.parent;return C}static isAncestorOf(A,C){if(!A||!C||!A.parent)return!1;let w=C.parent;for(;w;){if(A===w)return!0;w=w.parent}return!1}static findAllTokenNodes(A,C){return Oc.findAllNodes(A,C,!0)}static findAllRuleNodes(A,C){return Oc.findAllNodes(A,C,!1)}static findAllNodes(A,C,w){let R=[];return Oc._findAllNodes(A,C,w,R),R}static _findAllNodes(A,C,w,R){w&&A instanceof g.TerminalNode?A.symbol.type===C&&R.push(A):!w&&A instanceof u.ParserRuleContext&&A.ruleIndex===C&&R.push(A);for(let I=0;I<A.childCount;I++)Oc._findAllNodes(A.getChild(I),C,w,R)}static getDescendants(A){let C=[];function w(R){C.push(R);const I=R.childCount;for(let N=0;N<I;N++)w(R.getChild(N))}return w(A),C}static getRootOfSubtreeEnclosingRegion(A,C,w){let R=A.childCount;for(let I=0;I<R;I++){let N=A.getChild(I),D=Oc.getRootOfSubtreeEnclosingRegion(N,C,w);if(D)return D}if(A instanceof u.ParserRuleContext){let I=A.stop;if(C>=A.start.tokenIndex&&(I==null||w<=I.tokenIndex))return A}}static stripChildrenOutOfRange(A,C,w,R){if(!A)return;let I=A.childCount;for(let N=0;N<I;N++){let D=A.getChild(N),L=D.sourceInterval;if(D instanceof u.ParserRuleContext&&(L.b<w||L.a>R)&&Oc.isAncestorOf(D,C)){let k=new r.CommonToken(p.Token.INVALID_TYPE,"...");A.children[N]=new g.TerminalNode(k)}}}static findNodeSuchThat(A,C){if(C(A))return A;let w=A.childCount;for(let R=0;R<w;R++){let I=Oc.findNodeSuchThat(A.getChild(R),C);if(I!==void 0)return I}}};return e([t(0,a.NotNull)],x,"toStringTree",null),e([a.NotNull,t(0,a.NotNull)],x,"getAncestors",null),e([t(0,a.NotNull)],x,"getRootOfSubtreeEnclosingRegion",null),Kl.Trees=x,Kl}var nO;function hk(){if(nO)return Id;nO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Id&&Id.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A};Object.defineProperty(Id,"__esModule",{value:!0}),Id.RuleContext=void 0;const t=Va(),n=Qv(),r=uR(),s=Xi(),a=Ue(),l=Sh(),u=Fs();let d=class dk extends r.RuleNode{constructor(p,m){super(),this._parent=p,this.invokingState=m??-1}static getChildContext(p,m){return new dk(p,m)}depth(){let p=0,m=this;for(;m;)m=m._parent,p++;return p}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return s.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(p){this._parent=p}get payload(){return this}get text(){if(this.childCount===0)return"";let p="";for(let m=0;m<this.childCount;m++)p+=this.getChild(m).text;return p.toString()}get ruleIndex(){return-1}get altNumber(){return t.ATN.INVALID_ALT_NUMBER}set altNumber(p){}getChild(p){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(p){return p.visitChildren(this)}toStringTree(p){return l.Trees.toStringTree(this,p)}toString(p,m){const x=p instanceof n.Recognizer?p.ruleNames:p;m=m||u.ParserRuleContext.emptyContext();let b="",A=this;for(b+="[";A&&A!==m;){if(!x)A.isEmpty||(b+=A.invokingState);else{let C=A.ruleIndex,w=C>=0&&C<x.length?x[C]:C.toString();b+=w}A._parent&&(x||!A._parent.isEmpty)&&(b+=" "),A=A._parent}return b+="]",b.toString()}};return e([a.Override],d.prototype,"sourceInterval",null),e([a.Override],d.prototype,"ruleContext",null),e([a.Override],d.prototype,"parent",null),e([a.Override],d.prototype,"setParent",null),e([a.Override],d.prototype,"payload",null),e([a.Override],d.prototype,"text",null),e([a.Override],d.prototype,"getChild",null),e([a.Override],d.prototype,"childCount",null),e([a.Override],d.prototype,"accept",null),e([a.Override],d.prototype,"toStringTree",null),Id.RuleContext=d,Id}var rO;function Fs(){if(rO)return Td;rO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Td&&Td.__decorate||function(u,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,d,g,p);else for(var A=u.length-1;A>=0;A--)(b=u[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x};Object.defineProperty(Td,"__esModule",{value:!0}),Td.ParserRuleContext=void 0;const t=lR(),n=Xi(),r=Ue(),s=hk(),a=Og();let l=class _C extends s.RuleContext{constructor(d,g){g==null?super():super(d,g)}static emptyContext(){return _C.EMPTY}copyFrom(d){if(this._parent=d._parent,this.invokingState=d.invokingState,this._start=d._start,this._stop=d._stop,d.children){this.children=[];for(let g of d.children)g instanceof t.ErrorNode&&this.addChild(g)}}enterRule(d){}exitRule(d){}addAnyChild(d){return this.children?this.children.push(d):this.children=[d],d}addChild(d){if(d instanceof a.TerminalNode){d.setParent(this),this.addAnyChild(d);return}else if(d instanceof s.RuleContext){this.addAnyChild(d);return}else return d=new a.TerminalNode(d),this.addAnyChild(d),d.setParent(this),d}addErrorNode(d){if(d instanceof t.ErrorNode){const g=d;return g.setParent(this),this.addAnyChild(g)}else{const g=d;let p=new t.ErrorNode(g);return this.addAnyChild(p),p.setParent(this),p}}removeLastChild(){this.children&&this.children.pop()}get parent(){let d=super.parent;if(d===void 0||d instanceof _C)return d;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(d,g){if(!this.children||d<0||d>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(g==null)return this.children[d];let p=this.tryGetChild(d,g);if(p===void 0)throw new Error("The specified node does not exist");return p}tryGetChild(d,g){if(!this.children||d<0||d>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof g&&(p++,p===d))return m}getToken(d,g){let p=this.tryGetToken(d,g);if(p===void 0)throw new Error("The specified token does not exist");return p}tryGetToken(d,g){if(!this.children||g<0||g>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof a.TerminalNode&&m.symbol.type===d&&(p++,p===g))return m}getTokens(d){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof a.TerminalNode&&p.symbol.type===d&&g.push(p);return g}get ruleContext(){return this}getRuleContext(d,g){return this.getChild(d,g)}tryGetRuleContext(d,g){return this.tryGetChild(d,g)}getRuleContexts(d){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof d&&g.push(p);return g}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?n.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):n.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):n.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(d){return"ParserRuleContext"+d.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}};return l.EMPTY=new l,e([r.Override],l.prototype,"parent",null),e([r.Override],l.prototype,"childCount",null),e([r.Override],l.prototype,"sourceInterval",null),Td.ParserRuleContext=l,Td}var H0={},iO;function YY(){return iO||(iO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=H0&&H0.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionMode=void 0;const n=Ig(),r=pr(),s=Ue(),a=ey();(function(l){l[l.SLL=0]="SLL",l[l.LL=1]="LL",l[l.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(e.PredictionMode||(e.PredictionMode={})),function(l){class u extends n.Array2DHashMap{constructor(){super(d.INSTANCE)}}class d{AltAndContextConfigEqualityComparator(){}hashCode(x){let b=r.MurmurHash.initialize(7);return b=r.MurmurHash.update(b,x.state.stateNumber),b=r.MurmurHash.update(b,x.context),b=r.MurmurHash.finish(b,2),b}equals(x,b){return x===b?!0:x==null||b==null?!1:x.state.stateNumber===b.state.stateNumber&&x.context.equals(b.context)}}d.INSTANCE=new d,t([s.Override],d.prototype,"hashCode",null),t([s.Override],d.prototype,"equals",null);function g(m){for(let x of m)if(x.state instanceof a.RuleStopState)return!0;return!1}l.hasConfigInRuleStopState=g;function p(m){for(let x of m)if(!(x.state instanceof a.RuleStopState))return!1;return!0}l.allConfigsInRuleStopStates=p}(e.PredictionMode||(e.PredictionMode={}))}(H0)),H0}var Xl={},oO;function pk(){if(oO)return Xl;oO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xl&&Xl.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Xl&&Xl.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.SimulatorState=void 0;const n=Ue(),r=Fs();let s=class{constructor(l,u,d,g){this.outerContext=l??r.ParserRuleContext.emptyContext(),this.s0=u,this.useContext=d,this.remainingOuterContext=g}};return s=e([t(1,n.NotNull)],s),Xl.SimulatorState=s,Xl}var sO;function ty(){if(sO)return ql;sO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ql&&ql.__decorate||function(he,z,V,G){var Y=arguments.length,Q=Y<3?z:G===null?G=Object.getOwnPropertyDescriptor(z,V):G,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(he,z,V,G);else for(var J=he.length-1;J>=0;J--)(Z=he[J])&&(Q=(Y<3?Z(Q):Y>3?Z(z,V,Q):Z(z,V))||Q);return Y>3&&Q&&Object.defineProperty(z,V,Q),Q},t=ql&&ql.__param||function(he,z){return function(V,G){z(V,G,he)}};Object.defineProperty(ql,"__esModule",{value:!0}),ql.ParserATNSimulator=void 0;const n=HF(),r=rk(),s=sf(),a=Q2(),l=Va(),u=JS(),d=Jv(),g=e1(),p=Jr(),m=ik(),x=af(),b=HY(),A=yh(),C=QS(),w=eR(),R=Xi(),I=nf(),N=Ue(),D=sR(),L=i1(),k=za(),j=Fs(),B=Ls(),$=nR(),K=YY(),ne=ey(),re=aR(),Se=_g(),Me=oR(),Oe=pk(),ie=$n(),Ee=xh(),de=Ni(),ue=65535,X=-2147483648;let oe=class Vt extends g.ATNSimulator{constructor(z,V){super(z),this.predictionMode=K.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=V}getPredictionMode(){return this.predictionMode}setPredictionMode(z){this.predictionMode=z}reset(){}adaptivePredict(z,V,G,Y){Y===void 0&&(Y=!1);let Q=this.atn.decisionToDFA[V];if(de(Q!=null),this.optimize_ll1&&!Q.isPrecedenceDfa&&!Q.isEmpty){let ye=z.LA(1);if(ye>=0&&ye<=65535){let xe=(V<<16>>>0)+ye,ae=this.atn.LL1Table.get(xe);if(ae!=null)return ae}}this.dfa=Q,this.force_global_context?Y=!0:this.always_try_local_context||(Y=Y||Q.isContextSensitive),this.userWantsCtxSensitive=Y||this.predictionMode!==K.PredictionMode.SLL&&G!=null&&!this.atn.decisionToState[V].sll,G==null&&(G=j.ParserRuleContext.emptyContext());let Z;Q.isEmpty||(Z=this.getStartState(Q,z,G,Y)),Z==null&&(G==null&&(G=j.ParserRuleContext.emptyContext()),Vt.debug&&console.log("ATN decision "+Q.decision+" exec LA(1)=="+this.getLookaheadName(z)+", outerContext="+G.toString(this._parser)),Z=this.computeStartState(Q,G,Y));let J=z.mark(),se=z.index;try{let ye=this.execDFA(Q,z,se,Z);return Vt.debug&&console.log("DFA after predictATN: "+Q.toString(this._parser.vocabulary,this._parser.ruleNames)),ye}finally{this.dfa=void 0,z.seek(se),z.release(J)}}getStartState(z,V,G,Y){if(!Y)if(z.isPrecedenceDfa){let J=z.getPrecedenceStartState(this._parser.precedence,!1);return J==null?void 0:new Oe.SimulatorState(G,J,!1,G)}else return z.s0==null?void 0:new Oe.SimulatorState(G,z.s0,!1,G);if(!this.enable_global_context_dfa)return;let Q=G;de(G!=null);let Z;for(z.isPrecedenceDfa?Z=z.getPrecedenceStartState(this._parser.precedence,!0):Z=z.s0full;Q!=null&&Z!=null&&Z.isContextSensitive;)Q=this.skipTailCalls(Q),Z=Z.getContextTarget(this.getReturnState(Q)),Q.isEmpty?de(Z==null||!Z.isContextSensitive):Q=Q.parent;if(Z!=null)return new Oe.SimulatorState(G,Z,Y,Q)}execDFA(z,V,G,Y){let Q=Y.outerContext;Vt.dfa_debug&&console.log("DFA decision "+z.decision+" exec LA(1)=="+this.getLookaheadName(V)+", outerContext="+Q.toString(this._parser)),Vt.dfa_debug&&console.log(z.toString(this._parser.vocabulary,this._parser.ruleNames));let Z=Y.s0,J=V.LA(1),se=Y.remainingOuterContext;for(;;){if(Vt.dfa_debug&&console.log("DFA state "+Z.stateNumber+" LA(1)=="+this.getLookaheadName(V)),Y.useContext)for(;Z.isContextSymbol(J);){let ae;if(se!=null&&(se=this.skipTailCalls(se),ae=Z.getContextTarget(this.getReturnState(se))),ae==null){let le=new Oe.SimulatorState(Y.outerContext,Z,Y.useContext,se);return this.execATN(z,V,G,le)}de(se!=null),se=se.parent,Z=ae}if(this.isAcceptState(Z,Y.useContext)){Z.predicates!=null?Vt.dfa_debug&&console.log("accept "+Z):Vt.dfa_debug&&console.log("accept; predict "+Z.prediction+" in state "+Z.stateNumber);break}de(!this.isAcceptState(Z,Y.useContext));let xe=this.getExistingTargetState(Z,J);if(xe==null){Vt.dfa_debug&&J>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(J));let ae;if(Vt.dfa_debug){let we=R.Interval.of(G,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(we)+" at DFA state "+Z.stateNumber)}let le=new Oe.SimulatorState(Q,Z,Y.useContext,se);return ae=this.execATN(z,V,G,le),Vt.dfa_debug&&console.log("back from DFA update, alt="+ae+`, dfa=
`+z.toString(this._parser.vocabulary,this._parser.ruleNames)),Vt.dfa_debug&&console.log("DFA decision "+z.decision+" predicts "+ae),ae}else if(xe===g.ATNSimulator.ERROR){let ae=new Oe.SimulatorState(Q,Z,Y.useContext,se);return this.handleNoViableAlt(V,G,ae)}Z=xe,!this.isAcceptState(Z,Y.useContext)&&J!==I.IntStream.EOF&&(V.consume(),J=V.LA(1))}if(!Y.useContext&&Z.configs.conflictInfo!=null&&z.atnStartState instanceof A.DecisionState&&!(!this.userWantsCtxSensitive||!Z.configs.dipsIntoOuterContext&&Z.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&V.index===G)){de(!Y.useContext);let xe,ae=Z.predicates;if(ae!=null){let le=V.index;if(le!==G&&V.seek(G),xe=this.evalSemanticContext(ae,Q,!0),xe.cardinality()===1)return xe.nextSetBit(0);le!==G&&V.seek(le)}if(this.reportAmbiguities){let le=new Oe.SimulatorState(Q,Z,Y.useContext,se);this.reportAttemptingFullContext(z,xe,le,G,V.index)}return V.seek(G),this.adaptivePredict(V,z.decision,Q,!0)}let ye=Z.predicates;if(ye!=null){let xe=V.index;G!==xe&&V.seek(G);let ae=this.evalSemanticContext(ye,Q,this.reportAmbiguities&&this.predictionMode===K.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(ae.cardinality()){case 0:throw this.noViableAlt(V,Q,Z.configs,G);case 1:return ae.nextSetBit(0);default:return G!==xe&&V.seek(xe),this.reportAmbiguity(z,Z,G,xe,Z.configs.isExactConflict,ae,Z.configs),ae.nextSetBit(0)}}return Vt.dfa_debug&&console.log("DFA decision "+z.decision+" predicts "+Z.prediction),Z.prediction}isAcceptState(z,V){return z.isAcceptState?z.configs.conflictingAlts==null?!0:V&&this.predictionMode===K.PredictionMode.LL_EXACT_AMBIG_DETECTION?z.configs.isExactConflict:!0:!1}execATN(z,V,G,Y){Vt.debug&&console.log("execATN decision "+z.decision+" exec LA(1)=="+this.getLookaheadName(V));let Q=Y.outerContext,Z=Y.useContext,J=V.LA(1),se=Y,ye=new $.PredictionContextCache;for(;;){let xe=this.computeReachSet(z,se,J,ye);if(xe==null)return this.setDFAEdge(se.s0,V.LA(1),g.ATNSimulator.ERROR),this.handleNoViableAlt(V,G,se);let ae=xe.s0;if(de(ae.isAcceptState||ae.prediction===l.ATN.INVALID_ALT_NUMBER),de(ae.isAcceptState||ae.configs.conflictInfo==null),this.isAcceptState(ae,Z)){let le=ae.configs.conflictingAlts,we=le==null?ae.prediction:l.ATN.INVALID_ALT_NUMBER;if(we!==l.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&V.index===G&&!z.isPrecedenceDfa&&xe.outerContext===xe.remainingOuterContext&&z.decision>=0&&!ae.configs.hasSemanticContext&&J>=0&&J<=ue){let je=(z.decision<<16>>>0)+J;this.atn.LL1Table.set(je,we)}Z&&this.always_try_local_context&&this.reportContextSensitivity(z,we,xe,G,V.index)}we=ae.prediction;let Ie=le!=null&&this.userWantsCtxSensitive;if(Ie&&(Ie=!Z&&(ae.configs.dipsIntoOuterContext||!ae.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||V.index!==G)),ae.configs.hasSemanticContext){let je=ae.predicates;if(je!=null){let Ve=V.index;switch(Ve!==G&&V.seek(G),le=this.evalSemanticContext(je,Q,Ie||this.reportAmbiguities),le.cardinality()){case 0:throw this.noViableAlt(V,Q,ae.configs,G);case 1:return le.nextSetBit(0)}Ve!==G&&V.seek(Ve)}}if(Ie){de(!Z),de(this.isAcceptState(ae,!1)),Vt.debug&&console.log("RETRY with outerContext="+Q);let je=this.computeStartState(z,Q,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(z,le,xe,G,V.index),V.seek(G),this.execATN(z,V,G,je)}else return le!=null&&(this.reportAmbiguities&&le.cardinality()>1&&this.reportAmbiguity(z,ae,G,V.index,ae.configs.isExactConflict,le,ae.configs),we=le.nextSetBit(0)),we}se=xe,J!==I.IntStream.EOF&&(V.consume(),J=V.LA(1))}}handleNoViableAlt(z,V,G){if(G.s0!=null){let Y=new x.BitSet,Q=0;for(let Z of G.s0.configs)(Z.reachesIntoOuterContext||Z.state instanceof ne.RuleStopState)&&(Y.set(Z.alt),Q=Math.max(Q,Z.alt));switch(Y.cardinality()){case 0:break;case 1:return Y.nextSetBit(0);default:if(!G.s0.configs.hasSemanticContext)return Y.nextSetBit(0);let Z=new d.ATNConfigSet;for(let se of G.s0.configs)(se.reachesIntoOuterContext||se.state instanceof ne.RuleStopState)&&Z.add(se);let J=this.getPredsForAmbigAlts(Y,Z,Q);if(J!=null){let se=this.getPredicatePredictions(Y,J);if(se!=null){let ye=z.index;try{z.seek(V);let xe=this.evalSemanticContext(se,G.outerContext,!1);if(!xe.isEmpty)return xe.nextSetBit(0)}finally{z.seek(ye)}}}return Y.nextSetBit(0)}}throw this.noViableAlt(z,G.outerContext,G.s0.configs,V)}computeReachSet(z,V,G,Y){let Q=V.useContext,Z=V.remainingOuterContext,J=V.s0;if(Q)for(;J.isContextSymbol(G);){let xe;if(Z!=null&&(Z=this.skipTailCalls(Z),xe=J.getContextTarget(this.getReturnState(Z))),xe==null)break;de(Z!=null),Z=Z.parent,J=xe}if(de(!this.isAcceptState(J,Q)),this.isAcceptState(J,Q))return new Oe.SimulatorState(V.outerContext,J,Q,Z);let se=J,ye=this.getExistingTargetState(se,G);if(ye==null){let xe=this.computeTargetState(z,se,Z,G,Q,Y);ye=xe[0],Z=xe[1]}if(ye!==g.ATNSimulator.ERROR)return de(!Q||!ye.configs.dipsIntoOuterContext),new Oe.SimulatorState(V.outerContext,ye,Q,Z)}getExistingTargetState(z,V){return z.getTarget(V)}computeTargetState(z,V,G,Y,Q,Z){let J=V.configs.toArray(),se,ye=new d.ATNConfigSet,xe;do{let le=!Q||G!=null;le||(ye.isOutermostConfigSet=!0);let we=new d.ATNConfigSet,Ie;for(let me of J){if(Vt.debug&&console.log("testing "+this.getTokenName(Y)+" at "+me.toString()),me.state instanceof ne.RuleStopState){de(me.context.isEmpty),(Q&&!me.reachesIntoOuterContext||Y===I.IntStream.EOF)&&(Ie==null&&(Ie=[]),Ie.push(me));continue}let Pe=me.state.numberOfOptimizedTransitions;for(let Ze=0;Ze<Pe;Ze++){let pt=me.state.getOptimizedTransition(Ze),gt=this.getReachableTarget(me,pt,Y);gt!=null&&we.add(me.transform(gt,!1),Z)}}if(this.optimize_unique_closure&&Ie==null&&Y!==ie.Token.EOF&&we.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER){we.isOutermostConfigSet=ye.isOutermostConfigSet,ye=we;break}let je=!1,Ve=Y===ie.Token.EOF;if(this.closure(we,ye,je,le,Z,Ve),xe=ye.dipsIntoOuterContext,Y===I.IntStream.EOF&&(ye=this.removeAllConfigsNotInRuleStopState(ye,Z)),Ie!=null&&(!Q||!K.PredictionMode.hasConfigInRuleStopState(ye))){de(Ie.length>0);for(let me of Ie)ye.add(me,Z)}if(Q&&xe){ye.clear(),G=G,G=this.skipTailCalls(G);let me=this.getReturnState(G);if(se==null&&(se=new w.IntegerList),G.isEmpty?G=void 0:G=G.parent,se.add(me),me!==B.PredictionContext.EMPTY_FULL_STATE_KEY)for(let Pe=0;Pe<J.length;Pe++)J[Pe]=J[Pe].appendContext(me,Z)}}while(Q&&xe);return ye.isEmpty?(this.setDFAEdge(V,Y,g.ATNSimulator.ERROR),[g.ATNSimulator.ERROR,G]):[this.addDFAEdge(z,V,Y,se,ye,Z),G]}removeAllConfigsNotInRuleStopState(z,V){if(K.PredictionMode.allConfigsInRuleStopStates(z))return z;let G=new d.ATNConfigSet;for(let Y of z)Y.state instanceof ne.RuleStopState&&G.add(Y,V);return G}computeStartState(z,V,G){let Y=z.isPrecedenceDfa?z.getPrecedenceStartState(this._parser.precedence,G):G?z.s0full:z.s0;if(Y!=null){if(!G)return new Oe.SimulatorState(V,Y,G,V);Y.setContextSensitive(this.atn)}z.decision;let Q=z.atnStartState,Z=0,J=V,se=G?B.PredictionContext.EMPTY_FULL:B.PredictionContext.EMPTY_LOCAL,ye=new $.PredictionContextCache;if(G){if(!this.enable_global_context_dfa)for(;J!=null;)J.isEmpty?(Z=B.PredictionContext.EMPTY_FULL_STATE_KEY,J=void 0):(Z=this.getReturnState(J),se=se.appendSingleContext(Z,ye),J=J.parent);for(;Y!=null&&Y.isContextSensitive&&J!=null;){let ae;if(J=this.skipTailCalls(J),J.isEmpty?(ae=Y.getContextTarget(B.PredictionContext.EMPTY_FULL_STATE_KEY),Z=B.PredictionContext.EMPTY_FULL_STATE_KEY,J=void 0):(Z=this.getReturnState(J),ae=Y.getContextTarget(Z),se=se.appendSingleContext(Z,ye),J=J.parent),ae==null)break;Y=ae}}if(Y!=null&&!Y.isContextSensitive)return new Oe.SimulatorState(V,Y,G,J);let xe=new d.ATNConfigSet;for(;;){let ae=new d.ATNConfigSet,le=Q.numberOfTransitions;for(let Pe=0;Pe<le;Pe++){let Ze=Q.transition(Pe).target;ae.add(u.ATNConfig.create(Ze,Pe+1,se))}let we=J!=null;we||(xe.isOutermostConfigSet=!0),this.closure(ae,xe,!0,we,ye,!1);let je=xe.dipsIntoOuterContext,Ve;if(G&&!this.enable_global_context_dfa){Y=this.addDFAState(z,xe,ye);break}else Y==null?z.isPrecedenceDfa?(xe=this.applyPrecedenceFilter(xe,V,ye),Ve=this.addDFAState(z,xe,ye),z.setPrecedenceStartState(this._parser.precedence,G,Ve)):(Ve=this.addDFAState(z,xe,ye),G?z.s0full?Ve=z.s0full:z.s0full=Ve:z.s0?Ve=z.s0:z.s0=Ve):(z.isPrecedenceDfa&&(xe=this.applyPrecedenceFilter(xe,V,ye)),Ve=this.addDFAState(z,xe,ye),Y.setContextTarget(Z,Ve));if(Y=Ve,!G||!je)break;Ve.setContextSensitive(this.atn),J=J,xe.clear(),J=this.skipTailCalls(J);let me=this.getReturnState(J);J.isEmpty?J=void 0:J=J.parent,me!==B.PredictionContext.EMPTY_FULL_STATE_KEY&&(se=se.appendSingleContext(me,ye)),Z=me}return new Oe.SimulatorState(V,Y,G,J)}applyPrecedenceFilter(z,V,G){let Y=new Map,Q=new d.ATNConfigSet;for(let Z of z){if(Z.alt!==1)continue;let J=Z.semanticContext.evalPrecedence(this._parser,V);J!=null&&(Y.set(Z.state.stateNumber,Z.context),J!==Z.semanticContext?Q.add(Z.transform(Z.state,!1,J),G):Q.add(Z,G))}for(let Z of z)if(Z.alt!==1){if(!Z.isPrecedenceFilterSuppressed){let J=Y.get(Z.state.stateNumber);if(J!=null&&J.equals(Z.context))continue}Q.add(Z,G)}return Q}getReachableTarget(z,V,G){if(V.matches(G,0,this.atn.maxTokenType))return V.target}predicateDFAState(z,V,G){let Y=this.getConflictingAltsFromConfigSet(V);if(!Y)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");Vt.debug&&console.log("predicateDFAState "+z);let Q=this.getPredsForAmbigAlts(Y,V,G),Z;return Q!=null&&(Z=this.getPredicatePredictions(Y,Q),z.predicates=Z),Z}getPredsForAmbigAlts(z,V,G){let Y=new Array(G+1),Q=Y.length;for(let se of V)z.get(se.alt)&&(Y[se.alt]=Se.SemanticContext.or(Y[se.alt],se.semanticContext));let Z=0;for(let se=0;se<Q;se++)Y[se]==null?Y[se]=Se.SemanticContext.NONE:Y[se]!==Se.SemanticContext.NONE&&Z++;let J=Y;return Z===0&&(J=void 0),Vt.debug&&console.log("getPredsForAmbigAlts result "+(J?a.Arrays.toString(J):"undefined")),J}getPredicatePredictions(z,V){let G=[],Y=!1;for(let Q=1;Q<V.length;Q++){let Z=V[Q];de(Z!=null),z!=null&&z.get(Q)&&Z===Se.SemanticContext.NONE?G.push(new C.DFAState.PredPrediction(Z,Q)):Z!==Se.SemanticContext.NONE&&(Y=!0,G.push(new C.DFAState.PredPrediction(Z,Q)))}if(Y)return G}evalSemanticContext(z,V,G){let Y=new x.BitSet;for(let Q of z){if(Q.pred===Se.SemanticContext.NONE){if(Y.set(Q.alt),!G)break;continue}let Z=this.evalSemanticContextImpl(Q.pred,V,Q.alt);if((Vt.debug||Vt.dfa_debug)&&console.log("eval pred "+Q+"="+Z),Z&&((Vt.debug||Vt.dfa_debug)&&console.log("PREDICT "+Q.alt),Y.set(Q.alt),!G))break}return Y}evalSemanticContextImpl(z,V,G){return z.eval(this._parser,V)}closure(z,V,G,Y,Q,Z){Q==null&&(Q=$.PredictionContextCache.UNCACHED);let J=z,se=new s.Array2DHashSet(k.ObjectEqualityComparator.INSTANCE);for(;J.size>0;){let ye=new d.ATNConfigSet;for(let xe of J)this.closureImpl(xe,V,ye,se,G,Y,Q,0,Z);J=ye}}closureImpl(z,V,G,Y,Q,Z,J,se,ye){if(Vt.debug&&console.log("closure("+z.toString(this._parser,!0)+")"),z.state instanceof ne.RuleStopState)if(z.context.isEmpty)if(Z)Vt.debug&&console.log("FALLING off rule "+this.getRuleName(z.state.ruleIndex)),z.context===B.PredictionContext.EMPTY_FULL?z=z.transform(z.state,!1,B.PredictionContext.EMPTY_LOCAL):!z.reachesIntoOuterContext&&B.PredictionContext.isEmptyLocal(z.context)&&V.add(z,J);else{V.add(z,J);return}else{let ae=z.context.hasEmpty,le=z.context.size-(ae?1:0);for(let we=0;we<le;we++){let Ie=z.context.getParent(we),je=this.atn.states[z.context.getReturnState(we)],Ve=u.ATNConfig.create(je,z.alt,Ie,z.semanticContext);Ve.outerContextDepth=z.outerContextDepth,Ve.isPrecedenceFilterSuppressed=z.isPrecedenceFilterSuppressed,de(se>X),this.closureImpl(Ve,V,G,Y,Q,Z,J,se-1,ye)}if(!ae||!Z)return;z=z.transform(z.state,!1,B.PredictionContext.EMPTY_LOCAL)}let xe=z.state;xe.onlyHasEpsilonTransitions||(V.add(z,J),Vt.debug&&console.log("added config "+V));for(let ae=0;ae<xe.numberOfOptimizedTransitions;ae++){if(ae===0&&xe.stateType===p.ATNStateType.STAR_LOOP_ENTRY&&xe.precedenceRuleDecision&&!z.context.hasEmpty){let je=xe,Ve=!0;for(let me=0;me<z.context.size;me++)if(!je.precedenceLoopbackStates.get(z.context.getReturnState(me))){Ve=!1;break}if(Ve)continue}let le=xe.getOptimizedTransition(ae),we=!(le instanceof r.ActionTransition)&&Q,Ie=this.getEpsilonTarget(z,le,we,se===0,J,ye);if(Ie!=null){if(le instanceof re.RuleTransition&&G!=null&&!Q){G.add(Ie,J);continue}let je=se;if(z.state instanceof ne.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&le.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(Ie.isPrecedenceFilterSuppressed=!0),Ie.outerContextDepth=Ie.outerContextDepth+1,!Y.add(Ie))continue;de(je>X),je--,Vt.debug&&console.log("dips into outer ctx: "+Ie)}else if(le instanceof re.RuleTransition)this.optimize_tail_calls&&le.optimizedTailCall&&(!this.tail_call_preserves_sll||!B.PredictionContext.isEmptyLocal(z.context))?(de(Ie.context===z.context),je===0&&(je--,!this.tail_call_preserves_sll&&B.PredictionContext.isEmptyLocal(z.context)&&(Ie.outerContextDepth=Ie.outerContextDepth+1))):je>=0&&je++;else if(!le.isEpsilon&&!Y.add(Ie))continue;this.closureImpl(Ie,V,G,Y,we,Z,J,je,ye)}}}getRuleName(z){return this._parser!=null&&z>=0?this._parser.ruleNames[z]:"<rule "+z+">"}getEpsilonTarget(z,V,G,Y,Q,Z){switch(V.serializationType){case 3:return this.ruleTransition(z,V,Q);case 10:return this.precedenceTransition(z,V,G,Y);case 4:return this.predTransition(z,V,G,Y);case 6:return this.actionTransition(z,V);case 1:return z.transform(V.target,!1);case 5:case 2:case 7:return Z&&V.matches(ie.Token.EOF,0,1)?z.transform(V.target,!1):void 0;default:return}}actionTransition(z,V){return Vt.debug&&console.log("ACTION edge "+V.ruleIndex+":"+V.actionIndex),z.transform(V.target,!1)}precedenceTransition(z,V,G,Y){Vt.debug&&(console.log("PRED (collectPredicates="+G+") "+V.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let Q;if(G&&Y){let Z=Se.SemanticContext.and(z.semanticContext,V.predicate);Q=z.transform(V.target,!1,Z)}else Q=z.transform(V.target,!1);return Vt.debug&&console.log("config from pred transition="+Q),Q}predTransition(z,V,G,Y){Vt.debug&&(console.log("PRED (collectPredicates="+G+") "+V.ruleIndex+":"+V.predIndex+", ctx dependent="+V.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let Q;if(G&&(!V.isCtxDependent||V.isCtxDependent&&Y)){let Z=Se.SemanticContext.and(z.semanticContext,V.predicate);Q=z.transform(V.target,!1,Z)}else Q=z.transform(V.target,!1);return Vt.debug&&console.log("config from pred transition="+Q),Q}ruleTransition(z,V,G){Vt.debug&&console.log("CALL rule "+this.getRuleName(V.target.ruleIndex)+", ctx="+z.context);let Y=V.followState,Q;return this.optimize_tail_calls&&V.optimizedTailCall&&(!this.tail_call_preserves_sll||!B.PredictionContext.isEmptyLocal(z.context))?Q=z.context:G!=null?Q=G.getChild(z.context,Y.stateNumber):Q=z.context.getChild(Y.stateNumber),z.transform(V.target,!1,Q)}isConflicted(z,V){if(z.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER||z.size<=1)return;let G=z.toArray();G.sort(Vt.STATE_ALT_SORT_COMPARATOR);let Y=!z.dipsIntoOuterContext,Q=new x.BitSet,Z=G[0].alt;Q.set(Z);let J=G[0].state.nonStopStateNumber;for(let le of G){let we=le.state.nonStopStateNumber;if(we!==J){if(le.alt!==Z)return;J=we}}let se;if(Y){J=G[0].state.nonStopStateNumber,se=new x.BitSet;let le=Z;for(let Ie of G){if(Ie.state.nonStopStateNumber!==J)break;let je=Ie.alt;se.set(je),le=je}J=G[0].state.nonStopStateNumber;let we=Z;for(let Ie of G){let je=Ie.state.nonStopStateNumber,Ve=Ie.alt;if(je!==J){if(we!==le){Y=!1;break}J=je,we=Z}else if(Ve!==we){if(Ve!==se.nextSetBit(we+1)){Y=!1;break}we=Ve}}}J=G[0].state.nonStopStateNumber;let ye=0,xe=0,ae=G[0].context;for(let le=1;le<G.length;le++){let we=G[le];if(we.alt!==Z||we.state.nonStopStateNumber!==J)break;xe=le,ae=V.join(ae,G[le].context)}for(let le=xe+1;le<G.length;le++){let we=G[le],Ie=we.state;if(Q.set(we.alt),Ie.nonStopStateNumber!==J){J=Ie.nonStopStateNumber,ye=le,xe=le,ae=we.context;for(let Ze=ye+1;Ze<G.length;Ze++){let pt=G[Ze];if(pt.alt!==Z||pt.state.nonStopStateNumber!==J)break;xe=Ze,ae=V.join(ae,pt.context)}le=xe;continue}let je=we.context,Ve=we.alt,me=le;for(let Ze=me+1;Ze<G.length;Ze++){let pt=G[Ze];if(pt.alt!==Ve||pt.state.nonStopStateNumber!==J)break;me=Ze,je=V.join(je,pt.context)}le=me;let Pe=V.join(ae,je);if(!ae.equals(Pe))return;Y=Y&&ae.equals(je)}return new b.ConflictInfo(Q,Y)}getConflictingAltsFromConfigSet(z){let V=z.conflictingAlts;return V==null&&z.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER&&(V=new x.BitSet,V.set(z.uniqueAlt)),V}getTokenName(z){if(z===ie.Token.EOF)return"EOF";let G=(this._parser!=null?this._parser.vocabulary:Ee.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(z);return G===String(z)?G:G+"<"+z+">"}getLookaheadName(z){return this.getTokenName(z.LA(1))}dumpDeadEndConfigs(z){console.log("dead end configs: ");let V=z.deadEndConfigs;if(V)for(let G of V){let Y="no edges";if(G.state.numberOfOptimizedTransitions>0){let Q=G.state.getOptimizedTransition(0);Q instanceof m.AtomTransition?Y="Atom "+this.getTokenName(Q._label):Q instanceof Me.SetTransition&&(Y=(Q instanceof D.NotSetTransition?"~":"")+"Set "+Q.set.toString())}console.log(G.toString(this._parser,!0)+":"+Y)}}noViableAlt(z,V,G,Y){return new L.NoViableAltException(this._parser,z,z.get(Y),z.LT(1),G,V)}getUniqueAlt(z){let V=l.ATN.INVALID_ALT_NUMBER;for(let G of z)if(V===l.ATN.INVALID_ALT_NUMBER)V=G.alt;else if(G.alt!==V)return l.ATN.INVALID_ALT_NUMBER;return V}configWithAltAtStopState(z,V){for(let G of z)if(G.alt===V&&G.state instanceof ne.RuleStopState)return!0;return!1}addDFAEdge(z,V,G,Y,Q,Z){de(Y==null||Y.isEmpty||z.isContextSensitive);let J=V,se=this.addDFAState(z,Q,Z);if(Y!=null)for(let ye of Y.toArray()){if(ye===B.PredictionContext.EMPTY_FULL_STATE_KEY&&J.configs.isOutermostConfigSet)continue;J.setContextSensitive(this.atn),J.setContextSymbol(G);let xe=J.getContextTarget(ye);if(xe!=null){J=xe;continue}xe=this.addDFAContextState(z,J.configs,ye,Z),de(ye!==B.PredictionContext.EMPTY_FULL_STATE_KEY||xe.configs.isOutermostConfigSet),J.setContextTarget(ye,xe),J=xe}return Vt.debug&&console.log("EDGE "+J+" -> "+se+" upon "+this.getTokenName(G)),this.setDFAEdge(J,G,se),Vt.debug&&console.log(`DFA=
`+z.toString(this._parser!=null?this._parser.vocabulary:Ee.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),se}setDFAEdge(z,V,G){z!=null&&z.setTarget(V,G)}addDFAContextState(z,V,G,Y){if(G!==B.PredictionContext.EMPTY_FULL_STATE_KEY){let Q=new d.ATNConfigSet;for(let Z of V)Q.add(Z.appendContext(G,Y));return this.addDFAState(z,Q,Y)}else return de(!V.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),V=V.clone(!0),V.isOutermostConfigSet=!0,this.addDFAState(z,V,Y)}addDFAState(z,V,G){let Y=this.enable_global_context_dfa||!V.isOutermostConfigSet;if(Y){V.isReadOnly||V.optimizeConfigs(this);let ye=this.createDFAState(z,V),xe=z.states.get(ye);if(xe!=null)return xe}V.isReadOnly||V.conflictInfo==null&&(V.conflictInfo=this.isConflicted(V,G));let Q=this.createDFAState(z,V.clone(!0)),Z=this.atn.getDecisionState(z.decision),J=this.getUniqueAlt(V);if(J!==l.ATN.INVALID_ALT_NUMBER)Q.acceptStateInfo=new n.AcceptStateInfo(J);else if(V.conflictingAlts!=null){let ye=V.conflictingAlts;ye&&(Q.acceptStateInfo=new n.AcceptStateInfo(ye.nextSetBit(0)))}if(Q.isAcceptState&&V.hasSemanticContext&&this.predicateDFAState(Q,V,Z.numberOfTransitions),!Y)return Q;let se=z.addState(Q);return Vt.debug&&se===Q&&console.log("adding new DFA state: "+Q),se}createDFAState(z,V){return new C.DFAState(V)}reportAttemptingFullContext(z,V,G,Y,Q){if(Vt.debug||Vt.retry_debug){let Z=R.Interval.of(Y,Q);console.log("reportAttemptingFullContext decision="+z.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(Z))}if(this._parser!=null){let Z=this._parser.getErrorListenerDispatch();Z.reportAttemptingFullContext&&Z.reportAttemptingFullContext(this._parser,z,Y,Q,V,G)}}reportContextSensitivity(z,V,G,Y,Q){if(Vt.debug||Vt.retry_debug){let Z=R.Interval.of(Y,Q);console.log("reportContextSensitivity decision="+z.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(Z))}if(this._parser!=null){let Z=this._parser.getErrorListenerDispatch();Z.reportContextSensitivity&&Z.reportContextSensitivity(this._parser,z,Y,Q,V,G)}}reportAmbiguity(z,V,G,Y,Q,Z,J){if(Vt.debug||Vt.retry_debug){let se=R.Interval.of(G,Y);console.log("reportAmbiguity "+Z+":"+J+", input="+this._parser.inputStream.getText(se))}if(this._parser!=null){let se=this._parser.getErrorListenerDispatch();se.reportAmbiguity&&se.reportAmbiguity(this._parser,z,G,Y,Q,Z,J)}}getReturnState(z){return z.isEmpty?B.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[z.invokingState].transition(0).followState.stateNumber}skipTailCalls(z){if(!this.optimize_tail_calls)return z;for(;!z.isEmpty;){let V=this.atn.states[z.invokingState];if(de(V.numberOfTransitions===1&&V.transition(0).serializationType===3),!V.transition(0).tailCall)break;z=z.parent}return z}get parser(){return this._parser}};return oe.debug=!1,oe.dfa_debug=!1,oe.retry_debug=!1,oe.STATE_ALT_SORT_COMPARATOR=(he,z)=>{let V=he.state.nonStopStateNumber-z.state.nonStopStateNumber;return V!==0||(V=he.alt-z.alt,V!==0)?V:0},e([N.NotNull],oe.prototype,"predictionMode",void 0),e([N.NotNull],oe.prototype,"getPredictionMode",null),e([t(0,N.NotNull)],oe.prototype,"setPredictionMode",null),e([N.Override],oe.prototype,"reset",null),e([t(0,N.NotNull)],oe.prototype,"adaptivePredict",null),e([t(0,N.NotNull),t(1,N.NotNull),t(2,N.NotNull)],oe.prototype,"getStartState",null),e([t(0,N.NotNull),t(1,N.NotNull),t(3,N.NotNull)],oe.prototype,"execDFA",null),e([t(0,N.NotNull),t(1,N.NotNull),t(3,N.NotNull)],oe.prototype,"execATN",null),e([t(0,N.NotNull),t(2,N.NotNull)],oe.prototype,"handleNoViableAlt",null),e([t(0,N.NotNull)],oe.prototype,"getExistingTargetState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"computeTargetState",null),e([N.NotNull,t(0,N.NotNull)],oe.prototype,"removeAllConfigsNotInRuleStopState",null),e([N.NotNull],oe.prototype,"computeStartState",null),e([N.NotNull,t(0,N.NotNull)],oe.prototype,"applyPrecedenceFilter",null),e([t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"getReachableTarget",null),e([t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"getPredsForAmbigAlts",null),e([t(0,N.NotNull)],oe.prototype,"evalSemanticContext",null),e([t(0,N.NotNull)],oe.prototype,"evalSemanticContextImpl",null),e([t(1,N.NotNull),t(4,N.Nullable)],oe.prototype,"closure",null),e([t(0,N.NotNull),t(1,N.NotNull),t(2,N.Nullable),t(3,N.NotNull),t(6,N.NotNull)],oe.prototype,"closureImpl",null),e([N.NotNull],oe.prototype,"getRuleName",null),e([t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"getEpsilonTarget",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"actionTransition",null),e([N.Nullable,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"precedenceTransition",null),e([N.Nullable,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"predTransition",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull),t(2,N.Nullable)],oe.prototype,"ruleTransition",null),e([t(0,N.NotNull)],oe.prototype,"isConflicted",null),e([N.NotNull],oe.prototype,"getTokenName",null),e([t(0,N.NotNull)],oe.prototype,"dumpDeadEndConfigs",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull),t(2,N.NotNull)],oe.prototype,"noViableAlt",null),e([t(0,N.NotNull)],oe.prototype,"getUniqueAlt",null),e([t(0,N.NotNull)],oe.prototype,"configWithAltAtStopState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull),t(4,N.NotNull)],oe.prototype,"addDFAEdge",null),e([t(0,N.Nullable),t(2,N.Nullable)],oe.prototype,"setDFAEdge",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"addDFAContextState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"addDFAState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"createDFAState",null),e([t(0,N.NotNull),t(2,N.NotNull)],oe.prototype,"reportAttemptingFullContext",null),e([t(0,N.NotNull),t(2,N.NotNull)],oe.prototype,"reportContextSensitivity",null),e([t(0,N.NotNull),t(5,N.NotNull),t(6,N.NotNull)],oe.prototype,"reportAmbiguity",null),oe=e([t(0,N.NotNull)],oe),ql.ParserATNSimulator=oe,ql}var Od={},aO;function WY(){if(aO)return Od;aO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Od&&Od.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Od,"__esModule",{value:!0}),Od.PlusBlockStartState=void 0;const t=Jr(),n=r1(),r=Ue();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.PLUS_BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),Od.PlusBlockStartState=s,Od}var Dd={},lO;function qY(){if(lO)return Dd;lO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dd&&Dd.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.PlusLoopbackState=void 0;const t=Jr(),n=yh(),r=Ue();let s=class extends n.DecisionState{get stateType(){return t.ATNStateType.PLUS_LOOP_BACK}};return e([r.Override],s.prototype,"stateType",null),Dd.PlusLoopbackState=s,Dd}var Zl={},uO;function KY(){if(uO)return Zl;uO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zl&&Zl.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},t=Zl&&Zl.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.PrecedencePredicateTransition=void 0;const n=J2(),r=Ue(),s=_g();let a=class extends n.AbstractPredicateTransition{constructor(u,d){super(u),this.precedence=d}get serializationType(){return 10}get isEpsilon(){return!0}matches(u,d,g){return!1}get predicate(){return new s.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override],a.prototype,"isEpsilon",null),e([r.Override],a.prototype,"matches",null),e([r.Override],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),Zl.PrecedencePredicateTransition=a,Zl}var Jl={},cO;function XY(){if(cO)return Jl;cO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jl&&Jl.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},t=Jl&&Jl.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.RangeTransition=void 0;const n=bh(),r=Ue(),s=of();let a=class extends s.Transition{constructor(u,d,g){super(u),this.from=d,this.to=g}get serializationType(){return 2}get label(){return n.IntervalSet.of(this.from,this.to)}matches(u,d,g){return u>=this.from&&u<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override,r.NotNull],a.prototype,"label",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),Jl.RangeTransition=a,Jl}var Md={},fO;function ZY(){if(fO)return Md;fO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Md&&Md.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Md,"__esModule",{value:!0}),Md.RuleStartState=void 0;const t=Iu(),n=Jr(),r=Ue();let s=class extends t.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return n.ATNStateType.RULE_START}};return e([r.Override],s.prototype,"stateType",null),Md.RuleStartState=s,Md}var Pd={},dO;function JY(){if(dO)return Pd;dO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pd&&Pd.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.StarBlockStartState=void 0;const t=Jr(),n=r1(),r=Ue();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.STAR_BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),Pd.StarBlockStartState=s,Pd}var Ld={},hO;function QY(){if(hO)return Ld;hO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ld&&Ld.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.StarLoopbackState=void 0;const t=Iu(),n=Jr(),r=Ue();let s=class extends t.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return n.ATNStateType.STAR_LOOP_BACK}};return e([r.Override],s.prototype,"stateType",null),Ld.StarLoopbackState=s,Ld}var Fd={},pO;function eW(){if(pO)return Fd;pO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fd&&Fd.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.TokensStartState=void 0;const t=Jr(),n=yh(),r=Ue();let s=class extends n.DecisionState{get stateType(){return t.ATNStateType.TOKEN_START}};return e([r.Override],s.prototype,"stateType",null),Fd.TokensStartState=s,Fd}var Y0={},gO;function tW(){if(gO)return Y0;gO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.UUID=void 0;const e=pr();let t=class IC{constructor(r,s,a,l){this.data=new Uint32Array(4),this.data[0]=r,this.data[1]=s,this.data[2]=a,this.data[3]=l}static fromString(r){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(r))throw new Error("Incorrectly formatted UUID");let s=r.split("-"),a=parseInt(s[0],16),l=(parseInt(s[1],16)<<16>>>0)+parseInt(s[2],16),u=(parseInt(s[3],16)<<16>>>0)+parseInt(s[4].substr(0,4),16),d=parseInt(s[4].substr(-8),16);return new IC(a,l,u,d)}hashCode(){return e.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(r){return r===this?!0:r instanceof IC?this.data[0]===r.data[0]&&this.data[1]===r.data[1]&&this.data[2]===r.data[2]&&this.data[3]===r.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};return Y0.UUID=t,Y0}var mO;function cR(){if(mO)return jl;mO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jl&&jl.__decorate||function(xe,ae,le,we){var Ie=arguments.length,je=Ie<3?ae:we===null?we=Object.getOwnPropertyDescriptor(ae,le):we,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(xe,ae,le,we);else for(var me=xe.length-1;me>=0;me--)(Ve=xe[me])&&(je=(Ie<3?Ve(je):Ie>3?Ve(ae,le,je):Ve(ae,le))||je);return Ie>3&&je&&Object.defineProperty(ae,le,je),je},t=jl&&jl.__param||function(xe,ae){return function(le,we){ae(le,we,xe)}};Object.defineProperty(jl,"__esModule",{value:!0}),jl.ATNDeserializer=void 0;const n=rk(),r=sf(),s=Va(),a=nk(),l=Jr(),u=ik(),d=PY(),g=ZF(),p=af(),m=LY(),x=r1(),b=yh(),A=XF(),C=FY(),w=bh(),R=JF(),I=kY(),N=BY(),D=jY(),L=zY(),k=VY(),j=UY(),B=GY(),$=$Y(),K=ck(),ne=Ue(),re=sR(),Se=ty(),Me=WY(),Oe=qY(),ie=KY(),Ee=UF(),de=XY(),ue=ZY(),X=ey(),oe=aR(),he=oR(),z=JY(),V=QY(),G=iR(),Y=$n(),Q=eW(),Z=tW(),J=QF();var se;(function(xe){xe[xe.UNICODE_BMP=0]="UNICODE_BMP",xe[xe.UNICODE_SMP=1]="UNICODE_SMP"})(se||(se={}));let ye=class ht{constructor(ae){ae===void 0&&(ae=a.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=ae}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(ae,le){let we=ht.SUPPORTED_UUIDS.findIndex(Ie=>Ie.equals(ae));return we<0?!1:ht.SUPPORTED_UUIDS.findIndex(Ie=>Ie.equals(le))>=we}static getUnicodeDeserializer(ae){return ae===0?{readUnicode:(le,we)=>ht.toInt(le[we]),size:1}:{readUnicode:(le,we)=>ht.toInt32(le,we),size:2}}deserialize(ae){ae=ae.slice(0);for(let ke=1;ke<ae.length;ke++)ae[ke]=ae[ke]-2&65535;let le=0,we=ht.toInt(ae[le++]);if(we!==ht.SERIALIZED_VERSION){let ke=`Could not deserialize ATN with version ${we} (expected ${ht.SERIALIZED_VERSION}).`;throw new Error(ke)}let Ie=ht.toUUID(ae,le);if(le+=8,ht.SUPPORTED_UUIDS.findIndex(ke=>ke.equals(Ie))<0){let ke=`Could not deserialize ATN with UUID ${Ie} (expected ${ht.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(ke)}let je=ht.isFeatureSupported(ht.ADDED_LEXER_ACTIONS,Ie),Ve=ht.toInt(ae[le++]),me=ht.toInt(ae[le++]),Pe=new s.ATN(Ve,me),Ze=[],pt=[],gt=ht.toInt(ae[le++]);for(let ke=0;ke<gt;ke++){let nt=ht.toInt(ae[le++]);if(nt===l.ATNStateType.INVALID_TYPE){Pe.addState(new R.InvalidState);continue}let mt=ht.toInt(ae[le++]);mt===65535&&(mt=-1);let Et=this.stateFactory(nt,mt);if(nt===l.ATNStateType.LOOP_END){let Dt=ht.toInt(ae[le++]);Ze.push([Et,Dt])}else if(Et instanceof x.BlockStartState){let Dt=ht.toInt(ae[le++]);pt.push([Et,Dt])}Pe.addState(Et)}for(let ke of Ze)ke[0].loopBackState=Pe.states[ke[1]];for(let ke of pt)ke[0].endState=Pe.states[ke[1]];let ge=ht.toInt(ae[le++]);for(let ke=0;ke<ge;ke++){let nt=ht.toInt(ae[le++]);Pe.states[nt].nonGreedy=!0}let Ne=ht.toInt(ae[le++]);for(let ke=0;ke<Ne;ke++){let nt=ht.toInt(ae[le++]);Pe.states[nt].sll=!0}let qe=ht.toInt(ae[le++]);for(let ke=0;ke<qe;ke++){let nt=ht.toInt(ae[le++]);Pe.states[nt].isPrecedenceRule=!0}let Ye=ht.toInt(ae[le++]);Pe.grammarType===0&&(Pe.ruleToTokenType=new Int32Array(Ye)),Pe.ruleToStartState=new Array(Ye);for(let ke=0;ke<Ye;ke++){let nt=ht.toInt(ae[le++]),mt=Pe.states[nt];if(mt.leftFactored=ht.toInt(ae[le++])!==0,Pe.ruleToStartState[ke]=mt,Pe.grammarType===0){let Et=ht.toInt(ae[le++]);Et===65535&&(Et=Y.Token.EOF),Pe.ruleToTokenType[ke]=Et,ht.isFeatureSupported(ht.ADDED_LEXER_ACTIONS,Ie)||ht.toInt(ae[le++])}}Pe.ruleToStopState=new Array(Ye);for(let ke of Pe.states)ke instanceof X.RuleStopState&&(Pe.ruleToStopState[ke.ruleIndex]=ke,Pe.ruleToStartState[ke.ruleIndex].stopState=ke);let tt=ht.toInt(ae[le++]);for(let ke=0;ke<tt;ke++){let nt=ht.toInt(ae[le++]);Pe.modeToStartState.push(Pe.states[nt])}Pe.modeToDFA=new Array(tt);for(let ke=0;ke<tt;ke++)Pe.modeToDFA[ke]=new A.DFA(Pe.modeToStartState[ke]);let lt=[];le=this.deserializeSets(ae,le,lt,ht.getUnicodeDeserializer(0)),ht.isFeatureSupported(ht.ADDED_UNICODE_SMP,Ie)&&(le=this.deserializeSets(ae,le,lt,ht.getUnicodeDeserializer(1)));let xt=ht.toInt(ae[le++]);for(let ke=0;ke<xt;ke++){let nt=ht.toInt(ae[le]),mt=ht.toInt(ae[le+1]),Et=ht.toInt(ae[le+2]),Dt=ht.toInt(ae[le+3]),vn=ht.toInt(ae[le+4]),Fn=ht.toInt(ae[le+5]),Hn=this.edgeFactory(Pe,Et,nt,mt,Dt,vn,Fn,lt);Pe.states[nt].addTransition(Hn),le+=6}let Rt=new r.Array2DHashSet({hashCode:ke=>ke.stopState^ke.returnState^ke.outermostPrecedenceReturn,equals:(ke,nt)=>ke.stopState===nt.stopState&&ke.returnState===nt.returnState&&ke.outermostPrecedenceReturn===nt.outermostPrecedenceReturn}),It=[];for(let ke of Pe.states){let nt=ke.ruleIndex>=0&&Pe.ruleToStartState[ke.ruleIndex].leftFactored;for(let mt=0;mt<ke.numberOfTransitions;mt++){let Et=ke.transition(mt);if(!(Et instanceof oe.RuleTransition))continue;let Dt=Et;if(!Pe.ruleToStartState[Dt.target.ruleIndex].leftFactored&&nt)continue;let Fn=-1;Pe.ruleToStartState[Dt.target.ruleIndex].isPrecedenceRule&&Dt.precedence===0&&(Fn=Dt.target.ruleIndex);let Hn={stopState:Dt.target.ruleIndex,returnState:Dt.followState.stateNumber,outermostPrecedenceReturn:Fn};Rt.add(Hn)&&It.push(Hn)}}for(let ke of It){let nt=new C.EpsilonTransition(Pe.states[ke.returnState],ke.outermostPrecedenceReturn);Pe.ruleToStopState[ke.stopState].addTransition(nt)}for(let ke of Pe.states){if(ke instanceof x.BlockStartState){if(ke.endState===void 0)throw new Error("IllegalStateException");if(ke.endState.startState!==void 0)throw new Error("IllegalStateException");ke.endState.startState=ke}if(ke instanceof Oe.PlusLoopbackState){let nt=ke;for(let mt=0;mt<nt.numberOfTransitions;mt++){let Et=nt.transition(mt).target;Et instanceof Me.PlusBlockStartState&&(Et.loopBackState=nt)}}else if(ke instanceof V.StarLoopbackState){let nt=ke;for(let mt=0;mt<nt.numberOfTransitions;mt++){let Et=nt.transition(mt).target;Et instanceof G.StarLoopEntryState&&(Et.loopBackState=nt)}}}let sn=ht.toInt(ae[le++]);for(let ke=1;ke<=sn;ke++){let nt=ht.toInt(ae[le++]),mt=Pe.states[nt];Pe.decisionToState.push(mt),mt.decision=ke-1}if(Pe.grammarType===0)if(je){Pe.lexerActions=new Array(ht.toInt(ae[le++]));for(let ke=0;ke<Pe.lexerActions.length;ke++){let nt=ht.toInt(ae[le++]),mt=ht.toInt(ae[le++]);mt===65535&&(mt=-1);let Et=ht.toInt(ae[le++]);Et===65535&&(Et=-1);let Dt=this.lexerActionFactory(nt,mt,Et);Pe.lexerActions[ke]=Dt}}else{let ke=[];for(let nt of Pe.states)for(let mt=0;mt<nt.numberOfTransitions;mt++){let Et=nt.transition(mt);if(!(Et instanceof n.ActionTransition))continue;let Dt=Et.ruleIndex,vn=Et.actionIndex,Fn=new N.LexerCustomAction(Dt,vn);nt.setTransition(mt,new n.ActionTransition(Et.target,Dt,ke.length,!1)),ke.push(Fn)}Pe.lexerActions=ke}this.markPrecedenceDecisions(Pe),Pe.decisionToDFA=new Array(sn);for(let ke=0;ke<sn;ke++)Pe.decisionToDFA[ke]=new A.DFA(Pe.decisionToState[ke],ke);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe),this.deserializationOptions.isGenerateRuleBypassTransitions&&Pe.grammarType===1){Pe.ruleToTokenType=new Int32Array(Pe.ruleToStartState.length);for(let ke=0;ke<Pe.ruleToStartState.length;ke++)Pe.ruleToTokenType[ke]=Pe.maxTokenType+ke+1;for(let ke=0;ke<Pe.ruleToStartState.length;ke++){let nt=new d.BasicBlockStartState;nt.ruleIndex=ke,Pe.addState(nt);let mt=new m.BlockEndState;mt.ruleIndex=ke,Pe.addState(mt),nt.endState=mt,Pe.defineDecisionState(nt),mt.startState=nt;let Et,Dt;if(Pe.ruleToStartState[ke].isPrecedenceRule){Et=void 0;for(let Fn of Pe.states){if(Fn.ruleIndex!==ke||!(Fn instanceof G.StarLoopEntryState))continue;let Hn=Fn.transition(Fn.numberOfTransitions-1).target;if(Hn instanceof K.LoopEndState&&Hn.epsilonOnlyTransitions&&Hn.transition(0).target instanceof X.RuleStopState){Et=Fn;break}}if(!Et)throw new Error("Couldn't identify final state of the precedence rule prefix section.");Dt=Et.loopBackState.transition(0)}else Et=Pe.ruleToStopState[ke];for(let Fn of Pe.states)for(let Hn=0;Hn<Fn.numberOfTransitions;Hn++){let an=Fn.transition(Hn);an!==Dt&&an.target===Et&&(an.target=mt)}for(;Pe.ruleToStartState[ke].numberOfTransitions>0;){let Fn=Pe.ruleToStartState[ke].removeTransition(Pe.ruleToStartState[ke].numberOfTransitions-1);nt.addTransition(Fn)}Pe.ruleToStartState[ke].addTransition(new C.EpsilonTransition(nt)),mt.addTransition(new C.EpsilonTransition(Et));let vn=new g.BasicState;Pe.addState(vn),vn.addTransition(new u.AtomTransition(mt,Pe.ruleToTokenType[ke])),nt.addTransition(new C.EpsilonTransition(vn))}this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe)}if(this.deserializationOptions.isOptimize){for(;;){let ke=0;ke+=ht.inlineSetRules(Pe),ke+=ht.combineChainedEpsilons(Pe);let nt=Pe.grammarType===0;if(ke+=ht.optimizeSets(Pe,nt),ke===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe)}return ht.identifyTailCalls(Pe),Pe}deserializeSets(ae,le,we,Ie){let je=ht.toInt(ae[le++]);for(let Ve=0;Ve<je;Ve++){let me=ht.toInt(ae[le]);le++;let Pe=new w.IntervalSet;we.push(Pe),ht.toInt(ae[le++])!==0&&Pe.add(-1);for(let pt=0;pt<me;pt++){let gt=Ie.readUnicode(ae,le);le+=Ie.size;let ge=Ie.readUnicode(ae,le);le+=Ie.size,Pe.add(gt,ge)}}return le}markPrecedenceDecisions(ae){let le=new Map;for(let we of ae.states)if(we instanceof G.StarLoopEntryState&&ae.ruleToStartState[we.ruleIndex].isPrecedenceRule){let Ie=we.transition(we.numberOfTransitions-1).target;Ie instanceof K.LoopEndState&&Ie.epsilonOnlyTransitions&&Ie.transition(0).target instanceof X.RuleStopState&&(le.set(we.ruleIndex,we),we.precedenceRuleDecision=!0,we.precedenceLoopbackStates=new p.BitSet(ae.states.length))}for(let we of le)for(let Ie of ae.ruleToStopState[we[0]].getTransitions())Ie.serializationType!==1||Ie.outermostPrecedenceReturn!==-1||we[1].precedenceLoopbackStates.set(Ie.target.stateNumber)}verifyATN(ae){for(let le of ae.states)if(this.checkCondition(le!==void 0,"ATN states should not be undefined."),le.stateType!==l.ATNStateType.INVALID_TYPE){if(this.checkCondition(le.onlyHasEpsilonTransitions||le.numberOfTransitions<=1),le instanceof Me.PlusBlockStartState&&this.checkCondition(le.loopBackState!==void 0),le instanceof G.StarLoopEntryState){let we=le;if(this.checkCondition(we.loopBackState!==void 0),this.checkCondition(we.numberOfTransitions===2),we.transition(0).target instanceof z.StarBlockStartState)this.checkCondition(we.transition(1).target instanceof K.LoopEndState),this.checkCondition(!we.nonGreedy);else if(we.transition(0).target instanceof K.LoopEndState)this.checkCondition(we.transition(1).target instanceof z.StarBlockStartState),this.checkCondition(we.nonGreedy);else throw new Error("IllegalStateException")}if(le instanceof V.StarLoopbackState&&(this.checkCondition(le.numberOfTransitions===1),this.checkCondition(le.transition(0).target instanceof G.StarLoopEntryState)),le instanceof K.LoopEndState&&this.checkCondition(le.loopBackState!==void 0),le instanceof ue.RuleStartState&&this.checkCondition(le.stopState!==void 0),le instanceof x.BlockStartState&&this.checkCondition(le.endState!==void 0),le instanceof m.BlockEndState&&this.checkCondition(le.startState!==void 0),le instanceof b.DecisionState){let we=le;this.checkCondition(we.numberOfTransitions<=1||we.decision>=0)}else this.checkCondition(le.numberOfTransitions<=1||le instanceof X.RuleStopState)}}checkCondition(ae,le){if(!ae)throw new Error("IllegalStateException: "+le)}static inlineSetRules(ae){let le=0,we=new Array(ae.ruleToStartState.length);for(let Ie=0;Ie<ae.ruleToStartState.length;Ie++){let Ve=ae.ruleToStartState[Ie];for(;Ve.onlyHasEpsilonTransitions&&Ve.numberOfOptimizedTransitions===1&&Ve.getOptimizedTransition(0).serializationType===1;)Ve=Ve.getOptimizedTransition(0).target;if(Ve.numberOfOptimizedTransitions!==1)continue;let me=Ve.getOptimizedTransition(0),Pe=me.target;if(!(me.isEpsilon||!Pe.onlyHasEpsilonTransitions||Pe.numberOfOptimizedTransitions!==1||!(Pe.getOptimizedTransition(0).target instanceof X.RuleStopState)))switch(me.serializationType){case 5:case 2:case 7:we[Ie]=me;break;case 8:case 9:continue;default:continue}}for(let Ie of ae.states){if(Ie.ruleIndex<0)continue;let je;for(let Ve=0;Ve<Ie.numberOfOptimizedTransitions;Ve++){let me=Ie.getOptimizedTransition(Ve);if(!(me instanceof oe.RuleTransition)){je!==void 0&&je.push(me);continue}let Pe=me,Ze=we[Pe.target.ruleIndex];if(Ze===void 0){je!==void 0&&je.push(me);continue}if(je===void 0){je=[];for(let ge=0;ge<Ve;ge++)je.push(Ie.getOptimizedTransition(Ve))}le++;let pt=Pe.followState,gt=new g.BasicState;switch(gt.setRuleIndex(pt.ruleIndex),ae.addState(gt),je.push(new C.EpsilonTransition(gt)),Ze.serializationType){case 5:gt.addTransition(new u.AtomTransition(pt,Ze._label));break;case 2:gt.addTransition(new de.RangeTransition(pt,Ze.from,Ze.to));break;case 7:gt.addTransition(new he.SetTransition(pt,Ze.label));break;default:throw new Error("UnsupportedOperationException")}}if(je!==void 0){if(Ie.isOptimized)for(;Ie.numberOfOptimizedTransitions>0;)Ie.removeOptimizedTransition(Ie.numberOfOptimizedTransitions-1);for(let Ve of je)Ie.addOptimizedTransition(Ve)}}return Se.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+le+" rule invocations by inlining sets."),le}static combineChainedEpsilons(ae){let le=0;for(let we of ae.states){if(!we.onlyHasEpsilonTransitions||we instanceof X.RuleStopState)continue;let Ie;e:for(let je=0;je<we.numberOfOptimizedTransitions;je++){let Ve=we.getOptimizedTransition(je),me=Ve.target;if(Ve.serializationType!==1||Ve.outermostPrecedenceReturn!==-1||me.stateType!==l.ATNStateType.BASIC||!me.onlyHasEpsilonTransitions){Ie!==void 0&&Ie.push(Ve);continue e}for(let Pe=0;Pe<me.numberOfOptimizedTransitions;Pe++)if(me.getOptimizedTransition(Pe).serializationType!==1||me.getOptimizedTransition(Pe).outermostPrecedenceReturn!==-1){Ie!==void 0&&Ie.push(Ve);continue e}if(le++,Ie===void 0){Ie=[];for(let Pe=0;Pe<je;Pe++)Ie.push(we.getOptimizedTransition(Pe))}for(let Pe=0;Pe<me.numberOfOptimizedTransitions;Pe++){let Ze=me.getOptimizedTransition(Pe).target;Ie.push(new C.EpsilonTransition(Ze))}}if(Ie!==void 0){if(we.isOptimized)for(;we.numberOfOptimizedTransitions>0;)we.removeOptimizedTransition(we.numberOfOptimizedTransitions-1);for(let je of Ie)we.addOptimizedTransition(je)}}return Se.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+le+" transitions by combining chained epsilon transitions."),le}static optimizeSets(ae,le){if(le)return 0;let we=0,Ie=ae.decisionToState;for(let je of Ie){let Ve=new w.IntervalSet;for(let ge=0;ge<je.numberOfOptimizedTransitions;ge++){let Ne=je.getOptimizedTransition(ge);if(!(Ne instanceof C.EpsilonTransition)||Ne.target.numberOfOptimizedTransitions!==1)continue;let qe=Ne.target.getOptimizedTransition(0);qe.target instanceof m.BlockEndState&&(qe instanceof re.NotSetTransition||(qe instanceof u.AtomTransition||qe instanceof de.RangeTransition||qe instanceof he.SetTransition)&&Ve.add(ge))}if(Ve.size<=1)continue;let me=[];for(let ge=0;ge<je.numberOfOptimizedTransitions;ge++)Ve.contains(ge)||me.push(je.getOptimizedTransition(ge));let Pe=je.getOptimizedTransition(Ve.minElement).target.getOptimizedTransition(0).target,Ze=new w.IntervalSet;for(let ge of Ve.intervals)for(let Ne=ge.a;Ne<=ge.b;Ne++){let qe=je.getOptimizedTransition(Ne).target.getOptimizedTransition(0);if(qe instanceof re.NotSetTransition)throw new Error("Not yet implemented.");Ze.addAll(qe.label)}let pt;if(Ze.intervals.length===1)if(Ze.size===1)pt=new u.AtomTransition(Pe,Ze.minElement);else{let ge=Ze.intervals[0];pt=new de.RangeTransition(Pe,ge.a,ge.b)}else pt=new he.SetTransition(Pe,Ze);let gt=new g.BasicState;if(gt.setRuleIndex(je.ruleIndex),ae.addState(gt),gt.addTransition(pt),me.push(new C.EpsilonTransition(gt)),we+=je.numberOfOptimizedTransitions-me.length,je.isOptimized)for(;je.numberOfOptimizedTransitions>0;)je.removeOptimizedTransition(je.numberOfOptimizedTransitions-1);for(let ge of me)je.addOptimizedTransition(ge)}return Se.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+we+" paths by collapsing sets."),we}static identifyTailCalls(ae){for(let le of ae.states){for(let we=0;we<le.numberOfTransitions;we++){let Ie=le.transition(we);Ie instanceof oe.RuleTransition&&(Ie.tailCall=this.testTailCall(ae,Ie,!1),Ie.optimizedTailCall=this.testTailCall(ae,Ie,!0))}if(le.isOptimized)for(let we=0;we<le.numberOfOptimizedTransitions;we++){let Ie=le.getOptimizedTransition(we);Ie instanceof oe.RuleTransition&&(Ie.tailCall=this.testTailCall(ae,Ie,!1),Ie.optimizedTailCall=this.testTailCall(ae,Ie,!0))}}}static testTailCall(ae,le,we){if(!we&&le.tailCall||we&&le.optimizedTailCall)return!0;let Ie=new p.BitSet(ae.states.length),je=[];for(je.push(le.followState);;){let Ve=je.pop();if(!Ve)break;if(Ie.get(Ve.stateNumber)||Ve instanceof X.RuleStopState)continue;if(!Ve.onlyHasEpsilonTransitions)return!1;let me=we?Ve.numberOfOptimizedTransitions:Ve.numberOfTransitions;for(let Pe=0;Pe<me;Pe++){let Ze=we?Ve.getOptimizedTransition(Pe):Ve.transition(Pe);if(Ze.serializationType!==1)return!1;je.push(Ze.target)}}return!0}static toInt(ae){return ae}static toInt32(ae,le){return(ae[le]|ae[le+1]<<16)>>>0}static toUUID(ae,le){let we=ht.toInt32(ae,le),Ie=ht.toInt32(ae,le+2),je=ht.toInt32(ae,le+4),Ve=ht.toInt32(ae,le+6);return new Z.UUID(Ve,je,Ie,we)}edgeFactory(ae,le,we,Ie,je,Ve,me,Pe){let Ze=ae.states[Ie];switch(le){case 1:return new C.EpsilonTransition(Ze);case 2:return me!==0?new de.RangeTransition(Ze,Y.Token.EOF,Ve):new de.RangeTransition(Ze,je,Ve);case 3:return new oe.RuleTransition(ae.states[je],Ve,me,Ze);case 4:return new Ee.PredicateTransition(Ze,je,Ve,me!==0);case 10:return new ie.PrecedencePredicateTransition(Ze,je);case 5:return me!==0?new u.AtomTransition(Ze,Y.Token.EOF):new u.AtomTransition(Ze,je);case 6:return new n.ActionTransition(Ze,je,Ve,me!==0);case 7:return new he.SetTransition(Ze,Pe[je]);case 8:return new re.NotSetTransition(Ze,Pe[je]);case 9:return new J.WildcardTransition(Ze)}throw new Error("The specified transition type is not valid.")}stateFactory(ae,le){let we;switch(ae){case l.ATNStateType.INVALID_TYPE:return new R.InvalidState;case l.ATNStateType.BASIC:we=new g.BasicState;break;case l.ATNStateType.RULE_START:we=new ue.RuleStartState;break;case l.ATNStateType.BLOCK_START:we=new d.BasicBlockStartState;break;case l.ATNStateType.PLUS_BLOCK_START:we=new Me.PlusBlockStartState;break;case l.ATNStateType.STAR_BLOCK_START:we=new z.StarBlockStartState;break;case l.ATNStateType.TOKEN_START:we=new Q.TokensStartState;break;case l.ATNStateType.RULE_STOP:we=new X.RuleStopState;break;case l.ATNStateType.BLOCK_END:we=new m.BlockEndState;break;case l.ATNStateType.STAR_LOOP_BACK:we=new V.StarLoopbackState;break;case l.ATNStateType.STAR_LOOP_ENTRY:we=new G.StarLoopEntryState;break;case l.ATNStateType.PLUS_LOOP_BACK:we=new Oe.PlusLoopbackState;break;case l.ATNStateType.LOOP_END:we=new K.LoopEndState;break;default:let Ie=`The specified state type ${ae} is not valid.`;throw new Error(Ie)}return we.ruleIndex=le,we}lexerActionFactory(ae,le,we){switch(ae){case 0:return new I.LexerChannelAction(le);case 1:return new N.LexerCustomAction(le,we);case 2:return new D.LexerModeAction(le);case 3:return L.LexerMoreAction.INSTANCE;case 4:return k.LexerPopModeAction.INSTANCE;case 5:return new j.LexerPushModeAction(le);case 6:return B.LexerSkipAction.INSTANCE;case 7:return new $.LexerTypeAction(le);default:let Ie=`The specified lexer action type ${ae} is not valid.`;throw new Error(Ie)}}};return ye.BASE_SERIALIZED_UUID=Z.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),ye.ADDED_LEXER_ACTIONS=Z.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),ye.ADDED_UNICODE_SMP=Z.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),ye.SUPPORTED_UUIDS=[ye.BASE_SERIALIZED_UUID,ye.ADDED_LEXER_ACTIONS,ye.ADDED_UNICODE_SMP],ye.SERIALIZED_UUID=ye.ADDED_UNICODE_SMP,e([ne.NotNull],ye.prototype,"deserializationOptions",void 0),e([t(0,ne.NotNull)],ye.prototype,"deserialize",null),e([t(0,ne.NotNull)],ye.prototype,"markPrecedenceDecisions",null),e([ne.NotNull,t(0,ne.NotNull)],ye.prototype,"edgeFactory",null),jl.ATNDeserializer=ye,jl}var Ql={},vO;function nW(){if(vO)return Ql;vO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ql&&Ql.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g},t=Ql&&Ql.__param||function(s,a){return function(l,u){a(l,u,s)}};Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.ParseInfo=void 0;const n=Ue();let r=class{constructor(a){this.atnSimulator=a}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let a=this.atnSimulator.getDecisionInfo(),l=[];for(let u=0;u<a.length;u++)a[u].LL_Fallback>0&&l.push(u);return l}getTotalTimeInPrediction(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.timeInPrediction;return l}getTotalSLLLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.SLL_TotalLook;return l}getTotalLLLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.LL_TotalLook;return l}getTotalSLLATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.SLL_ATNTransitions;return l}getTotalLLATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.LL_ATNTransitions;return l}getTotalATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.SLL_ATNTransitions,l+=u.LL_ATNTransitions;return l}getDFASize(a){if(a)return this.atnSimulator.atn.decisionToDFA[a].states.size;{let l=0,u=this.atnSimulator.atn.decisionToDFA;for(let d=0;d<u.length;d++)l+=this.getDFASize(d);return l}}};return e([n.NotNull],r.prototype,"getDecisionInfo",null),e([n.NotNull],r.prototype,"getLLDecisions",null),r=e([t(0,n.NotNull)],r),Ql.ParseInfo=r,Ql}var kd={},yO;function gk(){if(yO)return kd;yO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kd&&kd.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(kd,"__esModule",{value:!0}),kd.ProxyParserErrorListener=void 0;const t=rR(),n=Ue();let r=class extends t.ProxyErrorListener{constructor(a){super(a)}reportAmbiguity(a,l,u,d,g,p,m){this.getDelegates().forEach(x=>{x.reportAmbiguity&&x.reportAmbiguity(a,l,u,d,g,p,m)})}reportAttemptingFullContext(a,l,u,d,g,p){this.getDelegates().forEach(m=>{m.reportAttemptingFullContext&&m.reportAttemptingFullContext(a,l,u,d,g,p)})}reportContextSensitivity(a,l,u,d,g,p){this.getDelegates().forEach(m=>{m.reportContextSensitivity&&m.reportContextSensitivity(a,l,u,d,g,p)})}};return e([n.Override],r.prototype,"reportAmbiguity",null),e([n.Override],r.prototype,"reportAttemptingFullContext",null),e([n.Override],r.prototype,"reportContextSensitivity",null),kd.ProxyParserErrorListener=r,kd}var Bd={},gw={},mw={},eu={},xO;function rW(){if(xO)return eu;xO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(eu,"__esModule",{value:!0}),eu.isSupplementaryCodePoint=eu.isLowSurrogate=eu.isHighSurrogate=void 0;function e(r){return r>=55296&&r<=56319}eu.isHighSurrogate=e;function t(r){return r>=56320&&r<=57343}eu.isLowSurrogate=t;function n(r){return r>=65536}return eu.isSupplementaryCodePoint=n,eu}var bO;function mk(){return bO||(bO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CodePointBuffer=void 0;const t=Ni(),n=rW();class r{constructor(a,l){this.buffer=a,this._position=0,this._size=l}static withArray(a){return new r(a,a.length)}get position(){return this._position}set position(a){if(a<0||a>this._size)throw new RangeError;this._position=a}get remaining(){return this._size-this.position}get(a){return this.buffer[a]}array(){return this.buffer.slice(0,this._size)}static builder(a){return new r.Builder(a)}}e.CodePointBuffer=r,function(s){let a;(function(u){u[u.BYTE=0]="BYTE",u[u.CHAR=1]="CHAR",u[u.INT=2]="INT"})(a||(a={}));class l{constructor(d){this.type=0,this.buffer=new Uint8Array(d),this.prevHighSurrogate=-1,this.position=0}build(){return new s(this.buffer,this.position)}static roundUpToNextPowerOfTwo(d){let g=32-Math.clz32(d-1);return Math.pow(2,g)}ensureRemaining(d){switch(this.type){case 0:if(this.buffer.length-this.position<d){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+d),p=new Uint8Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 1:if(this.buffer.length-this.position<d){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+d),p=new Uint16Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 2:if(this.buffer.length-this.position<d){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+d),p=new Int32Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break}}append(d){this.ensureRemaining(d.length),this.appendArray(d)}appendArray(d){switch(this.type){case 0:this.appendArrayByte(d);break;case 1:this.appendArrayChar(d);break;case 2:this.appendArrayInt(d);break}}appendArrayByte(d){t(this.prevHighSurrogate===-1);let g=d,p=0,m=d.length,x=this.buffer,b=this.position;for(;p<m;){let A=g[p];if(A<=255)x[b]=A;else if(d=d.subarray(p,m),this.position=b,n.isHighSurrogate(A)){this.byteToIntBuffer(d.length),this.appendArrayInt(d);return}else{this.byteToCharBuffer(d.length),this.appendArrayChar(d);return}p++,b++}this.position=b}appendArrayChar(d){t(this.prevHighSurrogate===-1);let g=d,p=0,m=d.length,x=this.buffer,b=this.position;for(;p<m;){let A=g[p];if(!n.isHighSurrogate(A))x[b]=A;else{d=d.subarray(p,m),this.position=b,this.charToIntBuffer(d.length),this.appendArrayInt(d);return}p++,b++}this.position=b}appendArrayInt(d){let g=d,p=0,m=d.length,x=this.buffer,b=this.position;for(;p<m;){let A=g[p];p++,this.prevHighSurrogate!==-1?n.isLowSurrogate(A)?(x[b]=String.fromCharCode(this.prevHighSurrogate,A).codePointAt(0),b++,this.prevHighSurrogate=-1):(x[b]=this.prevHighSurrogate,b++,n.isHighSurrogate(A)?this.prevHighSurrogate=A:(x[b]=A,b++,this.prevHighSurrogate=-1)):n.isHighSurrogate(A)?this.prevHighSurrogate=A:(x[b]=A,b++)}this.prevHighSurrogate!==-1&&(x[b]=this.prevHighSurrogate,b++),this.position=b}byteToCharBuffer(d){let g=new Uint16Array(Math.max(this.position+d,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=g}byteToIntBuffer(d){let g=new Int32Array(Math.max(this.position+d,this.buffer.length>>2));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}charToIntBuffer(d){let g=new Int32Array(Math.max(this.position+d,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}}s.Builder=l}(r=e.CodePointBuffer||(e.CodePointBuffer={}))}(mw)),mw}var jd={},SO;function yk(){if(SO)return jd;SO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jd&&jd.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m};Object.defineProperty(jd,"__esModule",{value:!0}),jd.CodePointCharStream=void 0;const t=Ni(),n=nf(),r=Xi(),s=Ue();let a=class vk{constructor(u,d,g,p){t(d===0),this._array=u,this._size=g,this._name=p,this._position=0}get internalStorage(){return this._array}static fromBuffer(u,d){return(d===void 0||d.length===0)&&(d=n.IntStream.UNKNOWN_SOURCE_NAME),new vk(u.array(),u.position,u.remaining,d)}consume(){if(this._size-this._position===0)throw t(this.LA(1)===n.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(u){}seek(u){this._position=u}get sourceName(){return this._name}toString(){return this.getText(r.Interval.of(0,this.size-1))}LA(u){let d;switch(Math.sign(u)){case-1:return d=this.index+u,d<0?n.IntStream.EOF:this._array[d];case 0:return 0;case 1:return d=this.index+u-1,d>=this.size?n.IntStream.EOF:this._array[d]}throw new RangeError("Not reached")}getText(u){const d=Math.min(u.a,this.size),g=Math.min(u.b-u.a+1,this.size-d);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(d,d+g))):String.fromCharCode(...Array.from(this._array.subarray(d,d+g)))}};return e([s.Override],a.prototype,"consume",null),e([s.Override],a.prototype,"index",null),e([s.Override],a.prototype,"size",null),e([s.Override],a.prototype,"mark",null),e([s.Override],a.prototype,"release",null),e([s.Override],a.prototype,"seek",null),e([s.Override],a.prototype,"sourceName",null),e([s.Override],a.prototype,"toString",null),e([s.Override],a.prototype,"LA",null),e([s.Override],a.prototype,"getText",null),jd.CodePointCharStream=a,jd}var EO;function fR(){return EO||(EO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CharStreams=void 0;const t=mk(),n=yk(),r=nf();(function(s){function a(l,u){(u===void 0||u.length===0)&&(u=r.IntStream.UNKNOWN_SOURCE_NAME);let d=t.CodePointBuffer.builder(l.length),g=new Uint16Array(l.length);for(let p=0;p<l.length;p++)g[p]=l.charCodeAt(p);return d.append(g),n.CodePointCharStream.fromBuffer(d.build(),u)}s.fromString=a})(e.CharStreams||(e.CharStreams={}))}(gw)),gw}var tu={},nu={},AO;function xk(){if(AO)return nu;AO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nu&&nu.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A},t=nu&&nu.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(nu,"__esModule",{value:!0}),nu.BufferedTokenStream=void 0;const n=Ni(),r=Zv(),s=Xi(),a=lf(),l=Ue(),u=$n();let d=class{constructor(p){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,p==null)throw new Error("tokenSource cannot be null");this._tokenSource=p}get tokenSource(){return this._tokenSource}set tokenSource(p){this._tokenSource=p,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(p){}seek(p){this.lazyInit(),this.p=this.adjustSeekIndex(p)}get size(){return this.tokens.length}consume(){let p;if(this.p>=0?this.fetchedEOF?p=this.p<this.tokens.length-1:p=this.p<this.tokens.length:p=!1,!p&&this.LA(1)===u.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(p){n(p>=0);let m=p-this.tokens.length+1;return m>0?this.fetch(m)>=m:!0}fetch(p){if(this.fetchedEOF)return 0;for(let m=0;m<p;m++){let x=this.tokenSource.nextToken();if(this.isWritableToken(x)&&(x.tokenIndex=this.tokens.length),this.tokens.push(x),x.type===u.Token.EOF)return this.fetchedEOF=!0,m+1}return p}get(p){if(p<0||p>=this.tokens.length)throw new RangeError("token index "+p+" out of range 0.."+(this.tokens.length-1));return this.tokens[p]}getRange(p,m){if(p<0||m<0)return[];this.lazyInit();let x=new Array;m>=this.tokens.length&&(m=this.tokens.length-1);for(let b=p;b<=m;b++){let A=this.tokens[b];if(A.type===u.Token.EOF)break;x.push(A)}return x}LA(p){let m=this.LT(p);return m?m.type:u.Token.INVALID_TYPE}tryLB(p){if(!(this.p-p<0))return this.tokens[this.p-p]}LT(p){let m=this.tryLT(p);if(m===void 0)throw new RangeError("requested lookback index out of range");return m}tryLT(p){if(this.lazyInit(),p===0)throw new RangeError("0 is not a valid lookahead index");if(p<0)return this.tryLB(-p);let m=this.p+p-1;return this.sync(m),m>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[m]}adjustSeekIndex(p){return p}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(p,m,x){if(this.lazyInit(),p===void 0)return n(m===void 0&&x===void 0),this.tokens;if(m===void 0&&(m=this.tokens.length-1),p<0||m>=this.tokens.length||m<0||p>=this.tokens.length)throw new RangeError("start "+p+" or stop "+m+" not in 0.."+(this.tokens.length-1));if(p>m)return[];if(x===void 0)return this.tokens.slice(p,m+1);typeof x=="number"&&(x=new Set().add(x));let b=x,A=this.tokens.slice(p,m+1);return A=A.filter(C=>b.has(C.type)),A}nextTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;let x=this.tokens[p];for(;x.channel!==m;){if(x.type===u.Token.EOF)return p;p++,this.sync(p),x=this.tokens[p]}return p}previousTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;for(;p>=0;){let x=this.tokens[p];if(x.type===u.Token.EOF||x.channel===m)return p;p--}return p}getHiddenTokensToRight(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));let x=this.nextTokenOnChannel(p+1,a.Lexer.DEFAULT_TOKEN_CHANNEL),b,A=p+1;return x===-1?b=this.size-1:b=x,this.filterForChannel(A,b,m)}getHiddenTokensToLeft(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));if(p===0)return[];let x=this.previousTokenOnChannel(p-1,a.Lexer.DEFAULT_TOKEN_CHANNEL);if(x===p-1)return[];let b=x+1,A=p-1;return this.filterForChannel(b,A,m)}filterForChannel(p,m,x){let b=new Array;for(let A=p;A<=m;A++){let C=this.tokens[A];x===-1?C.channel!==a.Lexer.DEFAULT_TOKEN_CHANNEL&&b.push(C):C.channel===x&&b.push(C)}return b}get sourceName(){return this.tokenSource.sourceName}getText(p){p===void 0?p=s.Interval.of(0,this.size-1):p instanceof s.Interval||(p=p.sourceInterval);let m=p.a,x=p.b;if(m<0||x<0)return"";this.fill(),x>=this.tokens.length&&(x=this.tokens.length-1);let b="";for(let A=m;A<=x;A++){let C=this.tokens[A];if(C.type===u.Token.EOF)break;b+=C.text}return b.toString()}getTextFromRange(p,m){return this.isToken(p)&&this.isToken(m)?this.getText(s.Interval.of(p.tokenIndex,m.tokenIndex)):""}fill(){this.lazyInit();const p=1e3;for(;;)if(this.fetch(p)<p)return}isWritableToken(p){return p instanceof r.CommonToken}isToken(p){return p instanceof r.CommonToken}};return e([l.NotNull],d.prototype,"_tokenSource",void 0),e([l.Override],d.prototype,"tokenSource",null),e([l.Override],d.prototype,"index",null),e([l.Override],d.prototype,"mark",null),e([l.Override],d.prototype,"release",null),e([l.Override],d.prototype,"seek",null),e([l.Override],d.prototype,"size",null),e([l.Override],d.prototype,"consume",null),e([l.Override],d.prototype,"get",null),e([l.Override],d.prototype,"LA",null),e([l.NotNull,l.Override],d.prototype,"LT",null),e([l.Override],d.prototype,"sourceName",null),e([l.NotNull,l.Override],d.prototype,"getText",null),e([l.NotNull,l.Override],d.prototype,"getTextFromRange",null),d=e([t(0,l.NotNull)],d),nu.BufferedTokenStream=d,nu}var wO;function dR(){if(wO)return tu;wO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=tu&&tu.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},t=tu&&tu.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(tu,"__esModule",{value:!0}),tu.CommonTokenStream=void 0;const n=xk(),r=Ue(),s=$n();let a=class extends n.BufferedTokenStream{constructor(u,d=s.Token.DEFAULT_CHANNEL){super(u),this.channel=d}adjustSeekIndex(u){return this.nextTokenOnChannel(u,this.channel)}tryLB(u){if(this.p-u<0)return;let d=this.p,g=1;for(;g<=u&&d>0;)d=this.previousTokenOnChannel(d-1,this.channel),g++;if(!(d<0))return this.tokens[d]}tryLT(u){if(this.lazyInit(),u===0)throw new RangeError("0 is not a valid lookahead index");if(u<0)return this.tryLB(-u);let d=this.p,g=1;for(;g<u;)this.sync(d+1)&&(d=this.nextTokenOnChannel(d+1,this.channel)),g++;return this.tokens[d]}getNumberOfOnChannelTokens(){let u=0;this.fill();for(let d of this.tokens)if(d.channel===this.channel&&u++,d.type===s.Token.EOF)break;return u}};return e([r.Override],a.prototype,"adjustSeekIndex",null),e([r.Override],a.prototype,"tryLB",null),e([r.Override],a.prototype,"tryLT",null),a=e([t(0,r.NotNull)],a),tu.CommonTokenStream=a,tu}var ru={},CO;function bk(){if(CO)return ru;CO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ru&&ru.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},t=ru&&ru.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(ru,"__esModule",{value:!0}),ru.ListTokenSource=void 0;const n=tR(),r=Ue(),s=$n();let a=class{constructor(u,d){if(this.i=0,this._factory=n.CommonTokenFactory.DEFAULT,u==null)throw new Error("tokens cannot be null");this.tokens=u,this._sourceName=d}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let u=this.tokens[this.tokens.length-1],d=u.text;if(d!=null){let g=d.lastIndexOf(`
`);if(g>=0)return d.length-g-1}return u.charPositionInLine+u.stopIndex-u.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let d=-1;if(this.tokens.length>0){let p=this.tokens[this.tokens.length-1].stopIndex;p!==-1&&(d=p+1)}let g=Math.max(-1,d-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},s.Token.EOF,"EOF",s.Token.DEFAULT_CHANNEL,d,g,this.line,this.charPositionInLine)}return this.eofToken}let u=this.tokens[this.i];return this.i===this.tokens.length-1&&u.type===s.Token.EOF&&(this.eofToken=u),this.i++,u}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let u=this.tokens[this.tokens.length-1],d=u.line,g=u.text;if(g!=null)for(let p=0;p<g.length;p++)g.charAt(p)===`
`&&d++;return d}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let u=this.inputStream;return u!=null?u.sourceName:"List"}set tokenFactory(u){this._factory=u}get tokenFactory(){return this._factory}};return e([r.Override],a.prototype,"charPositionInLine",null),e([r.Override],a.prototype,"nextToken",null),e([r.Override],a.prototype,"line",null),e([r.Override],a.prototype,"inputStream",null),e([r.Override],a.prototype,"sourceName",null),e([r.Override,r.NotNull,t(0,r.NotNull)],a.prototype,"tokenFactory",null),a=e([t(0,r.NotNull)],a),ru.ListTokenSource=a,ru}var W0={},RO;function iW(){if(RO)return W0;RO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(W0,"__esModule",{value:!0}),W0.MultiMap=void 0;let e=class extends Map{constructor(){super()}map(n,r){let s=super.get(n);s||(s=[],super.set(n,s)),s.push(r)}getPairs(){let n=[];return this.forEach((r,s)=>{r.forEach(a=>{n.push([s,a])})}),n}};return W0.MultiMap=e,W0}var q0={},TO;function Sk(){if(TO)return q0;TO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(q0,"__esModule",{value:!0}),q0.ParseCancellationException=void 0;let e=class extends Error{constructor(n){super(n.message),this.cause=n,this.stack=n.stack}getCause(){return this.cause}};return q0.ParseCancellationException=e,q0}var iu={},zd={},NO;function Ek(){if(NO)return zd;NO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zd&&zd.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(zd,"__esModule",{value:!0}),zd.InterpreterRuleContext=void 0;const t=Ue(),n=Fs();let r=class extends n.ParserRuleContext{constructor(a,l,u){u!==void 0?super(l,u):super(),this._ruleIndex=a}get ruleIndex(){return this._ruleIndex}};return e([t.Override],r.prototype,"ruleIndex",null),zd.InterpreterRuleContext=r,zd}var _O;function Ak(){if(_O)return iu;_O=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=iu&&iu.__decorate||function(R,I,N,D){var L=arguments.length,k=L<3?I:D===null?D=Object.getOwnPropertyDescriptor(I,N):D,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(R,I,N,D);else for(var B=R.length-1;B>=0;B--)(j=R[B])&&(k=(L<3?j(k):L>3?j(I,N,k):j(I,N))||k);return L>3&&k&&Object.defineProperty(I,N,k),k},t=iu&&iu.__param||function(R,I){return function(N,D){I(N,D,R)}};Object.defineProperty(iu,"__esModule",{value:!0}),iu.ParserInterpreter=void 0;const n=Iu(),r=Jr(),s=af(),a=XS(),l=ZS(),u=Ek(),d=ck(),g=Ue(),p=Ue(),m=ry(),x=ty(),b=rf(),A=iR(),C=$n();let w=class OC extends m.Parser{constructor(I,N,D,L,k){if(super(I instanceof OC?I.inputStream:k),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,I instanceof OC){let j=I;this._grammarFileName=j._grammarFileName,this._atn=j._atn,this.pushRecursionContextStates=j.pushRecursionContextStates,this._ruleNames=j._ruleNames,this._vocabulary=j._vocabulary,this.interpreter=new x.ParserATNSimulator(this._atn,this)}else{N=N,D=D,L=L,this._grammarFileName=I,this._atn=L,this._ruleNames=D.slice(0),this._vocabulary=N,this.pushRecursionContextStates=new s.BitSet(L.states.length);for(let j of L.states)j instanceof A.StarLoopEntryState&&j.precedenceRuleDecision&&this.pushRecursionContextStates.set(j.stateNumber);this.interpreter=new x.ParserATNSimulator(L,this)}}reset(I){I===void 0?super.reset():super.reset(I),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(I){let N=this._atn.ruleToStartState[I];for(this._rootContext=this.createInterpreterRuleContext(void 0,n.ATNState.INVALID_STATE_NUMBER,I),N.isPrecedenceRule?this.enterRecursionRule(this._rootContext,N.stateNumber,I,0):this.enterRule(this._rootContext,N.stateNumber,I);;){let D=this.atnState;switch(D.stateType){case r.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(N.isPrecedenceRule){let L=this._ctx,k=this._parentContextStack.pop();return this.unrollRecursionContexts(k[0]),L}else return this.exitRule(),this._rootContext;this.visitRuleStopState(D);break;default:try{this.visitState(D)}catch(L){if(L instanceof b.RecognitionException)this.state=this._atn.ruleToStopState[D.ruleIndex].stateNumber,this.context.exception=L,this.errorHandler.reportError(this,L),this.recover(L);else throw L}break}}}enterRecursionRule(I,N,D,L){this._parentContextStack.push([this._ctx,I.invokingState]),super.enterRecursionRule(I,N,D,L)}get atnState(){return this._atn.states[this.state]}visitState(I){let N=1;I.numberOfTransitions>1&&(N=this.visitDecisionState(I));let D=I.transition(N-1);switch(D.serializationType){case 1:if(this.pushRecursionContextStates.get(I.stateNumber)&&!(D.target instanceof d.LoopEndState)){let K=this._parentContextStack[this._parentContextStack.length-1],ne=this.createInterpreterRuleContext(K[0],K[1],this._ctx.ruleIndex);this.pushNewRecursionContext(ne,this._atn.ruleToStartState[I.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(D._label);break;case 2:case 7:case 8:D.matches(this._input.LA(1),C.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let L=D.target,k=L.ruleIndex,j=this.createInterpreterRuleContext(this._ctx,I.stateNumber,k);L.isPrecedenceRule?this.enterRecursionRule(j,L.stateNumber,k,D.precedence):this.enterRule(j,D.target.stateNumber,k);break;case 4:let B=D;if(!this.sempred(this._ctx,B.ruleIndex,B.predIndex))throw new a.FailedPredicateException(this);break;case 6:let $=D;this.action(this._ctx,$.ruleIndex,$.actionIndex);break;case 10:if(!this.precpred(this._ctx,D.precedence)){let K=D.precedence;throw new a.FailedPredicateException(this,`precpred(_ctx, ${K})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=D.target.stateNumber}visitDecisionState(I){let N;this.errorHandler.sync(this);let D=I.decision;return D===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(N=this.overrideDecisionAlt,this.overrideDecisionReached=!0):N=this.interpreter.adaptivePredict(this._input,D,this._ctx),N}createInterpreterRuleContext(I,N,D){return new u.InterpreterRuleContext(D,I,N)}visitRuleStopState(I){if(this._atn.ruleToStartState[I.ruleIndex].isPrecedenceRule){let L=this._parentContextStack.pop();this.unrollRecursionContexts(L[0]),this.state=L[1]}else this.exitRule();let D=this._atn.states[this.state].transition(0);this.state=D.followState.stateNumber}addDecisionOverride(I,N,D){this.overrideDecision=I,this.overrideDecisionInputIndex=N,this.overrideDecisionAlt=D}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(I){let N=this._input.index;if(this.errorHandler.recover(this,I),this._input.index===N){let D=I.getOffendingToken();if(!D)throw new Error("Expected exception to have an offending token");let L=D.tokenSource,k=L!==void 0?L.inputStream:void 0,j={source:L,stream:k};if(I instanceof l.InputMismatchException){let B=I.expectedTokens;if(B===void 0)throw new Error("Expected the exception to provide expected tokens");let $=C.Token.INVALID_TYPE;B.isNil||($=B.minElement);let K=this.tokenFactory.create(j,$,D.text,C.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,K))}else{D.tokenSource;let B=this.tokenFactory.create(j,C.Token.INVALID_TYPE,D.text,C.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,B))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};return e([g.NotNull],w.prototype,"_vocabulary",void 0),e([p.Override],w.prototype,"reset",null),e([p.Override],w.prototype,"atn",null),e([p.Override],w.prototype,"vocabulary",null),e([p.Override],w.prototype,"ruleNames",null),e([p.Override],w.prototype,"grammarFileName",null),e([p.Override],w.prototype,"enterRecursionRule",null),w=e([t(1,g.NotNull)],w),iu.ParserInterpreter=w,iu}var ou={},IO;function oW(){if(IO)return ou;IO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ou&&ou.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g},t=ou&&ou.__param||function(s,a){return function(l,u){a(l,u,s)}};Object.defineProperty(ou,"__esModule",{value:!0}),ou.ParseTreeMatch=void 0;const n=Ue();let r=class{constructor(a,l,u,d){if(!a)throw new Error("tree cannot be null");if(!l)throw new Error("pattern cannot be null");if(!u)throw new Error("labels cannot be null");this._tree=a,this._pattern=l,this._labels=u,this._mismatchedNode=d}get(a){let l=this._labels.get(a);if(!(!l||l.length===0))return l[l.length-1]}getAll(a){const l=this._labels.get(a);return l||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};return e([n.NotNull,t(0,n.NotNull)],r.prototype,"getAll",null),e([n.NotNull],r.prototype,"labels",null),e([n.NotNull],r.prototype,"pattern",null),e([n.NotNull],r.prototype,"tree",null),e([n.Override],r.prototype,"toString",null),r=e([t(0,n.NotNull),t(1,n.NotNull),t(2,n.NotNull)],r),ou.ParseTreeMatch=r,ou}var su={},K0={},X0={},OO;function sW(){if(OO)return X0;OO=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.XPathLexer=void 0;const e=cR(),t=lf(),n=n1(),r=xh(),s=Ou();let a=class ho extends t.Lexer{constructor(u){super(u),this._interp=new n.LexerATNSimulator(ho._ATN,this)}get vocabulary(){return ho.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return ho.ruleNames}get serializedATN(){return ho._serializedATN}get channelNames(){return ho.channelNames}get modeNames(){return ho.modeNames}action(u,d,g){switch(d){case 4:this.ID_action(u,g);break}}ID_action(u,d){switch(d){case 0:let g=this.text;g.charAt(0)===g.charAt(0).toUpperCase()?this.type=ho.TOKEN_REF:this.type=ho.RULE_REF;break}}static get _ATN(){return ho.__ATN||(ho.__ATN=new e.ATNDeserializer().deserialize(s.toCharArray(ho._serializedATN))),ho.__ATN}};return X0.XPathLexer=a,a.TOKEN_REF=1,a.RULE_REF=2,a.ANYWHERE=3,a.ROOT=4,a.WILDCARD=5,a.BANG=6,a.ID=7,a.STRING=8,a.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],a.modeNames=["DEFAULT_MODE"],a.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],a._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],a._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],a.VOCABULARY=new r.VocabularyImpl(a._LITERAL_NAMES,a._SYMBOLIC_NAMES,[]),a._serializedATNSegments=2,a._serializedATNSegment0=`
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r

2;C\\aac|\r(*<>?AOR_\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1"C\\c|\r(*<>?AOR_`,a._serializedATNSegment1=`1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`,a._serializedATN=s.join([a._serializedATNSegment0,a._serializedATNSegment1],""),X0}var Vd={},DO;function aW(){if(DO)return Vd;DO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vd&&Vd.__decorate||function(r,s,a,l){var u=arguments.length,d=u<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,s,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(d=(u<3?g(d):u>3?g(s,a,d):g(s,a))||d);return u>3&&d&&Object.defineProperty(s,a,d),d};Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.XPathLexerErrorListener=void 0;const t=Ue();let n=class{syntaxError(s,a,l,u,d,g){}};return e([t.Override],n.prototype,"syntaxError",null),Vd.XPathLexerErrorListener=n,Vd}var Ud={},Gd={},MO;function Dg(){if(MO)return Gd;MO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gd&&Gd.__decorate||function(r,s,a,l){var u=arguments.length,d=u<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,s,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(d=(u<3?g(d):u>3?g(s,a,d):g(s,a))||d);return u>3&&d&&Object.defineProperty(s,a,d),d};Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.XPathElement=void 0;const t=Ue();let n=class{constructor(s){this.nodeName=s,this.invert=!1}toString(){let s=this.invert?"!":"";return Object.constructor.name+"["+s+this.nodeName+"]"}};return e([t.Override],n.prototype,"toString",null),Gd.XPathElement=n,Gd}var PO;function lW(){if(PO)return Ud;PO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ud&&Ud.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.XPathRuleAnywhereElement=void 0;const t=Ue(),n=Sh(),r=Dg();let s=class extends r.XPathElement{constructor(l,u){super(l),this.ruleIndex=u}evaluate(l){return n.Trees.findAllRuleNodes(l,this.ruleIndex)}};return e([t.Override],s.prototype,"evaluate",null),Ud.XPathRuleAnywhereElement=s,Ud}var $d={},LO;function uW(){if(LO)return $d;LO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$d&&$d.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m};Object.defineProperty($d,"__esModule",{value:!0}),$d.XPathRuleElement=void 0;const t=Fs(),n=Ue(),r=Sh(),s=Dg();let a=class extends s.XPathElement{constructor(u,d){super(u),this.ruleIndex=d}evaluate(u){let d=[];for(let g of r.Trees.getChildren(u))g instanceof t.ParserRuleContext&&(g.ruleIndex===this.ruleIndex&&!this.invert||g.ruleIndex!==this.ruleIndex&&this.invert)&&d.push(g);return d}};return e([n.Override],a.prototype,"evaluate",null),$d.XPathRuleElement=a,$d}var Hd={},FO;function cW(){if(FO)return Hd;FO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hd&&Hd.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.XPathTokenAnywhereElement=void 0;const t=Ue(),n=Sh(),r=Dg();let s=class extends r.XPathElement{constructor(l,u){super(l),this.tokenType=u}evaluate(l){return n.Trees.findAllTokenNodes(l,this.tokenType)}};return e([t.Override],s.prototype,"evaluate",null),Hd.XPathTokenAnywhereElement=s,Hd}var Yd={},kO;function fW(){if(kO)return Yd;kO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yd&&Yd.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m};Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.XPathTokenElement=void 0;const t=Ue(),n=Og(),r=Sh(),s=Dg();let a=class extends s.XPathElement{constructor(u,d){super(u),this.tokenType=d}evaluate(u){let d=[];for(let g of r.Trees.getChildren(u))g instanceof n.TerminalNode&&(g.symbol.type===this.tokenType&&!this.invert||g.symbol.type!==this.tokenType&&this.invert)&&d.push(g);return d}};return e([t.Override],a.prototype,"evaluate",null),Yd.XPathTokenElement=a,Yd}var Wd={},BO;function dW(){if(BO)return Wd;BO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wd&&Wd.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m};Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.XPathWildcardAnywhereElement=void 0;const t=Ue(),n=Sh(),r=hR(),s=Dg();let a=class extends s.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(u){return this.invert?[]:n.Trees.getDescendants(u)}};return e([t.Override],a.prototype,"evaluate",null),Wd.XPathWildcardAnywhereElement=a,Wd}var qd={},jO;function hW(){if(jO)return qd;jO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=qd&&qd.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m};Object.defineProperty(qd,"__esModule",{value:!0}),qd.XPathWildcardElement=void 0;const t=Ue(),n=Sh(),r=hR(),s=Dg();let a=class extends s.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(u){let d=[];if(this.invert)return d;for(let g of n.Trees.getChildren(u))d.push(g);return d}};return e([t.Override],a.prototype,"evaluate",null),qd.XPathWildcardElement=a,qd}var zO;function hR(){if(zO)return K0;zO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(K0,"__esModule",{value:!0}),K0.XPath=void 0;const e=fR(),t=dR(),n=t1(),r=Fs(),s=$n(),a=sW(),l=aW(),u=lW(),d=uW(),g=cW(),p=fW(),m=dW(),x=hW();let b=class wk{constructor(C,w){this.parser=C,this.path=w,this.elements=this.split(w)}split(C){let w=new a.XPathLexer(e.CharStreams.fromString(C));w.recover=k=>{throw k},w.removeErrorListeners(),w.addErrorListener(new l.XPathLexerErrorListener);let R=new t.CommonTokenStream(w);try{R.fill()}catch(k){if(k instanceof n.LexerNoViableAltException){let B="Invalid tokens or characters at index "+w.charPositionInLine+" in path '"+C+"' -- "+k.message;throw new RangeError(B)}throw k}let I=R.getTokens(),N=[],D=I.length,L=0;e:for(;L<D;){let k=I[L],j;switch(k.type){case a.XPathLexer.ROOT:case a.XPathLexer.ANYWHERE:let B=k.type===a.XPathLexer.ANYWHERE;L++,j=I[L];let $=j.type===a.XPathLexer.BANG;$&&(L++,j=I[L]);let K=this.getXPathElement(j,B);K.invert=$,N.push(K),L++;break;case a.XPathLexer.TOKEN_REF:case a.XPathLexer.RULE_REF:case a.XPathLexer.WILDCARD:N.push(this.getXPathElement(k,!1)),L++;break;case s.Token.EOF:break e;default:throw new Error("Unknowth path element "+k)}}return N}getXPathElement(C,w){if(C.type===s.Token.EOF)throw new Error("Missing path element at end of path");let R=C.text;if(R==null)throw new Error("Expected wordToken to have text content.");let I=this.parser.getTokenType(R),N=this.parser.getRuleIndex(R);switch(C.type){case a.XPathLexer.WILDCARD:return w?new m.XPathWildcardAnywhereElement:new x.XPathWildcardElement;case a.XPathLexer.TOKEN_REF:case a.XPathLexer.STRING:if(I===s.Token.INVALID_TYPE)throw new Error(R+" at index "+C.startIndex+" isn't a valid token name");return w?new g.XPathTokenAnywhereElement(R,I):new p.XPathTokenElement(R,I);default:if(N===-1)throw new Error(R+" at index "+C.startIndex+" isn't a valid rule name");return w?new u.XPathRuleAnywhereElement(R,N):new d.XPathRuleElement(R,N)}}static findAll(C,w,R){return new wk(R,w).evaluate(C)}evaluate(C){let w=new r.ParserRuleContext;w.addChild(C);let R=new Set([w]),I=0;for(;I<this.elements.length;){let N=new Set;for(let D of R)D.childCount>0&&this.elements[I].evaluate(D).forEach(N.add,N);I++,R=N}return R}};return K0.XPath=b,b.WILDCARD="*",b.NOT="!",K0}var VO;function pW(){if(VO)return su;VO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=su&&su.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=su&&su.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(su,"__esModule",{value:!0}),su.ParseTreePattern=void 0;const n=Ue(),r=hR();let s=class{constructor(l,u,d,g){this._matcher=l,this._patternRuleIndex=d,this._pattern=u,this._patternTree=g}match(l){return this._matcher.match(l,this)}matches(l){return this._matcher.match(l,this).succeeded}findAll(l,u){let d=r.XPath.findAll(l,u,this._matcher.parser),g=[];for(let p of d){let m=this.match(p);m.succeeded&&g.push(m)}return g}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};return e([n.NotNull],s.prototype,"_pattern",void 0),e([n.NotNull],s.prototype,"_patternTree",void 0),e([n.NotNull],s.prototype,"_matcher",void 0),e([n.NotNull,t(0,n.NotNull)],s.prototype,"match",null),e([t(0,n.NotNull)],s.prototype,"matches",null),e([n.NotNull,t(0,n.NotNull),t(1,n.NotNull)],s.prototype,"findAll",null),e([n.NotNull],s.prototype,"matcher",null),e([n.NotNull],s.prototype,"pattern",null),e([n.NotNull],s.prototype,"patternTree",null),s=e([t(0,n.NotNull),t(1,n.NotNull),t(3,n.NotNull)],s),su.ParseTreePattern=s,su}var au={},UO;function gW(){if(UO)return au;UO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=au&&au.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=au&&au.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(au,"__esModule",{value:!0}),au.RuleTagToken=void 0;const n=Ue(),r=$n();let s=class{constructor(l,u,d){if(l==null||l.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=l,this.bypassTokenType=u,this._label=d}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return r.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};return e([n.NotNull],s.prototype,"ruleName",null),e([n.Override],s.prototype,"channel",null),e([n.Override],s.prototype,"text",null),e([n.Override],s.prototype,"type",null),e([n.Override],s.prototype,"line",null),e([n.Override],s.prototype,"charPositionInLine",null),e([n.Override],s.prototype,"tokenIndex",null),e([n.Override],s.prototype,"startIndex",null),e([n.Override],s.prototype,"stopIndex",null),e([n.Override],s.prototype,"tokenSource",null),e([n.Override],s.prototype,"inputStream",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),au.RuleTagToken=s,au}var Kd={},Z0={},GO;function Ck(){if(GO)return Z0;GO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.Chunk=void 0;let e=class{};return Z0.Chunk=e,Z0}var $O;function mW(){if($O)return Kd;$O=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kd&&Kd.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.TagChunk=void 0;const t=Ck(),n=Ue();let r=class extends t.Chunk{constructor(a,l){if(super(),a==null||a.length===0)throw new Error("tag cannot be null or empty");this._tag=a,this._label=l}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};return e([n.NotNull],r.prototype,"tag",null),e([n.Override],r.prototype,"toString",null),Kd.TagChunk=r,Kd}var lu={},HO;function vW(){if(HO)return lu;HO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=lu&&lu.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=lu&&lu.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(lu,"__esModule",{value:!0}),lu.TextChunk=void 0;const n=Ck(),r=Ue();let s=class extends n.Chunk{constructor(l){if(super(),l==null)throw new Error("text cannot be null");this._text=l}get text(){return this._text}toString(){return"'"+this._text+"'"}};return e([r.NotNull],s.prototype,"_text",void 0),e([r.NotNull],s.prototype,"text",null),e([r.Override],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),lu.TextChunk=s,lu}var uu={},YO;function yW(){if(YO)return uu;YO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=uu&&uu.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=uu&&uu.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(uu,"__esModule",{value:!0}),uu.TokenTagToken=void 0;const n=Zv(),r=Ue();let s=class extends n.CommonToken{constructor(l,u,d){super(u),this._tokenName=l,this._label=d}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};return e([r.NotNull],s.prototype,"_tokenName",void 0),e([r.NotNull],s.prototype,"tokenName",null),e([r.Override],s.prototype,"text",null),e([r.Override],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),uu.TokenTagToken=s,uu}var WO;function xW(){return WO||(WO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Bd&&Bd.__decorate||function(j,B,$,K){var ne=arguments.length,re=ne<3?B:K===null?K=Object.getOwnPropertyDescriptor(B,$):K,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(j,B,$,K);else for(var Me=j.length-1;Me>=0;Me--)(Se=j[Me])&&(re=(ne<3?Se(re):ne>3?Se(B,$,re):Se(B,$))||re);return ne>3&&re&&Object.defineProperty(B,$,re),re},n=Bd&&Bd.__param||function(j,B){return function($,K){B($,K,j)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreePatternMatcher=void 0;const r=Rk(),s=fR(),a=dR(),l=bk(),u=iW(),d=Ue(),g=Sk(),p=Ak(),m=Fs(),x=oW(),b=pW(),A=rf(),C=uR(),w=gW(),R=mW(),I=Og(),N=vW(),D=$n(),L=yW();let k=class DC{constructor(B,$){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=B,this._parser=$}setDelimiters(B,$,K){if(!B)throw new Error("start cannot be null or empty");if(!$)throw new Error("stop cannot be null or empty");this.start=B,this.stop=$,this.escape=K,this.escapeRE=new RegExp(K.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(B,$,K=0){if(typeof $=="string"){let ne=this.compile($,K);return this.matches(B,ne)}else{let ne=new u.MultiMap;return!this.matchImpl(B,$.patternTree,ne)}}match(B,$,K=0){if(typeof $=="string"){let ne=this.compile($,K);return this.match(B,ne)}else{let ne=new u.MultiMap,re=this.matchImpl(B,$.patternTree,ne);return new x.ParseTreeMatch(B,$,ne,re)}}compile(B,$){let K=this.tokenize(B),ne=new l.ListTokenSource(K),re=new a.CommonTokenStream(ne);const Se=this._parser;let Me=new p.ParserInterpreter(Se.grammarFileName,Se.vocabulary,Se.ruleNames,Se.getATNWithBypassAlts(),re),Oe;try{Me.errorHandler=new r.BailErrorStrategy,Oe=Me.parse($)}catch(ie){throw ie instanceof g.ParseCancellationException?ie.getCause():ie instanceof A.RecognitionException?ie:ie instanceof Error?new DC.CannotInvokeStartRule(ie):ie}if(re.LA(1)!==D.Token.EOF)throw new DC.StartRuleDoesNotConsumeFullPattern;return new b.ParseTreePattern(this,B,$,Oe)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(B,$,K){if(!B)throw new TypeError("tree cannot be null");if(!$)throw new TypeError("patternTree cannot be null");if(B instanceof I.TerminalNode&&$ instanceof I.TerminalNode){let ne;if(B.symbol.type===$.symbol.type)if($.symbol instanceof L.TokenTagToken){let re=$.symbol;K.map(re.tokenName,B);const Se=re.label;Se&&K.map(Se,B)}else B.text===$.text||ne||(ne=B);else ne||(ne=B);return ne}if(B instanceof m.ParserRuleContext&&$ instanceof m.ParserRuleContext){let ne,re=this.getRuleTagToken($);if(re){if(B.ruleContext.ruleIndex===$.ruleContext.ruleIndex){K.map(re.ruleName,B);const Me=re.label;Me&&K.map(Me,B)}else ne||(ne=B);return ne}if(B.childCount!==$.childCount)return ne||(ne=B),ne;let Se=B.childCount;for(let Me=0;Me<Se;Me++){let Oe=this.matchImpl(B.getChild(Me),$.getChild(Me),K);if(Oe)return Oe}return ne}return B}getRuleTagToken(B){if(B instanceof C.RuleNode&&B.childCount===1&&B.getChild(0)instanceof I.TerminalNode){let $=B.getChild(0);if($.symbol instanceof w.RuleTagToken)return $.symbol}}tokenize(B){let $=this.split(B),K=[];for(let ne of $)if(ne instanceof R.TagChunk){let re=ne;const Se=re.tag.substr(0,1);if(Se===Se.toUpperCase()){let Me=this._parser.getTokenType(re.tag);if(Me===D.Token.INVALID_TYPE)throw new Error("Unknown token "+re.tag+" in pattern: "+B);let Oe=new L.TokenTagToken(re.tag,Me,re.label);K.push(Oe)}else if(Se===Se.toLowerCase()){let Me=this._parser.getRuleIndex(re.tag);if(Me===-1)throw new Error("Unknown rule "+re.tag+" in pattern: "+B);let Oe=this._parser.getATNWithBypassAlts().ruleToTokenType[Me];K.push(new w.RuleTagToken(re.tag,Oe,re.label))}else throw new Error("invalid tag: "+re.tag+" in pattern: "+B)}else{let re=ne;this._lexer.inputStream=s.CharStreams.fromString(re.text);let Se=this._lexer.nextToken();for(;Se.type!==D.Token.EOF;)K.push(Se),Se=this._lexer.nextToken()}return K}split(B){let $=0,K=B.length,ne=[],re=[],Se=[];for(;$<K;)$===B.indexOf(this.escape+this.start,$)?$+=this.escape.length+this.start.length:$===B.indexOf(this.escape+this.stop,$)?$+=this.escape.length+this.stop.length:$===B.indexOf(this.start,$)?(re.push($),$+=this.start.length):$===B.indexOf(this.stop,$)?(Se.push($),$+=this.stop.length):$++;if(re.length>Se.length)throw new Error("unterminated tag in pattern: "+B);if(re.length<Se.length)throw new Error("missing start tag in pattern: "+B);let Me=re.length;for(let Oe=0;Oe<Me;Oe++)if(re[Oe]>=Se[Oe])throw new Error("tag delimiters out of order in pattern: "+B);if(Me===0){let Oe=B.substring(0,K);ne.push(new N.TextChunk(Oe))}if(Me>0&&re[0]>0){let Oe=B.substring(0,re[0]);ne.push(new N.TextChunk(Oe))}for(let Oe=0;Oe<Me;Oe++){let ie=B.substring(re[Oe]+this.start.length,Se[Oe]),Ee=ie,de,ue=ie.indexOf(":");if(ue>=0&&(de=ie.substring(0,ue),Ee=ie.substring(ue+1,ie.length)),ne.push(new R.TagChunk(Ee,de)),Oe+1<Me){let X=B.substring(Se[Oe]+this.stop.length,re[Oe+1]);ne.push(new N.TextChunk(X))}}if(Me>0){let Oe=Se[Me-1]+this.stop.length;if(Oe<K){let ie=B.substring(Oe,K);ne.push(new N.TextChunk(ie))}}for(let Oe=0;Oe<ne.length;Oe++){let ie=ne[Oe];if(ie instanceof N.TextChunk){let Ee=ie.text.replace(this.escapeRE,"");Ee.length<ie.text.length&&(ne[Oe]=new N.TextChunk(Ee))}}return ne}};t([d.NotNull,n(1,d.NotNull)],k.prototype,"match",null),t([d.NotNull],k.prototype,"lexer",null),t([d.NotNull],k.prototype,"parser",null),t([n(0,d.NotNull),n(1,d.NotNull),n(2,d.NotNull)],k.prototype,"matchImpl",null),e.ParseTreePatternMatcher=k,function(j){class B extends Error{constructor(ne){super(`CannotInvokeStartRule: ${ne}`),this.error=ne}}j.CannotInvokeStartRule=B;class $ extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}j.StartRuleDoesNotConsumeFullPattern=$}(k=e.ParseTreePatternMatcher||(e.ParseTreePatternMatcher={}))}(Bd)),Bd}var cu={},fu={},du={},qO;function ny(){if(qO)return du;qO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=du&&du.__decorate||function(s,a,l,u){var d=arguments.length,g=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,l,u);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(d<3?p(g):d>3?p(a,l,g):p(a,l))||g);return d>3&&g&&Object.defineProperty(a,l,g),g},t=du&&du.__param||function(s,a){return function(l,u){a(l,u,s)}};Object.defineProperty(du,"__esModule",{value:!0}),du.DecisionEventInfo=void 0;const n=Ue();let r=class{constructor(a,l,u,d,g,p){this.decision=a,this.fullCtx=p,this.stopIndex=g,this.input=u,this.startIndex=d,this.state=l}};return e([n.NotNull],r.prototype,"input",void 0),r=e([t(2,n.NotNull)],r),du.DecisionEventInfo=r,du}var KO;function bW(){if(KO)return fu;KO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=fu&&fu.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=fu&&fu.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(fu,"__esModule",{value:!0}),fu.AmbiguityInfo=void 0;const n=ny(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(l,u,d,g,p,m){super(l,u,g,p,m,u.useContext),this.ambigAlts=d}get ambiguousAlternatives(){return this.ambigAlts}};return e([r.NotNull],s.prototype,"ambigAlts",void 0),e([r.NotNull],s.prototype,"ambiguousAlternatives",null),s=e([t(1,r.NotNull),t(2,r.NotNull),t(3,r.NotNull)],s),fu.AmbiguityInfo=s,fu}var hu={},XO;function SW(){if(XO)return hu;XO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=hu&&hu.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=hu&&hu.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(hu,"__esModule",{value:!0}),hu.ContextSensitivityInfo=void 0;const n=ny(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(l,u,d,g,p){super(l,u,d,g,p,!0)}};return s=e([t(1,r.NotNull),t(2,r.NotNull)],s),hu.ContextSensitivityInfo=s,hu}var Xd={},ZO;function EW(){if(ZO)return Xd;ZO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xd&&Xd.__decorate||function(r,s,a,l){var u=arguments.length,d=u<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,s,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(d=(u<3?g(d):u>3?g(s,a,d):g(s,a))||d);return u>3&&d&&Object.defineProperty(s,a,d),d};Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.DecisionInfo=void 0;const t=Ue();let n=class{constructor(s){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=s}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};return e([t.Override],n.prototype,"toString",null),Xd.DecisionInfo=n,Xd}var pu={},JO;function AW(){if(JO)return pu;JO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pu&&pu.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=pu&&pu.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(pu,"__esModule",{value:!0}),pu.ErrorInfo=void 0;const n=ny(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(l,u,d,g,p){super(l,u,d,g,p,u.useContext)}};return s=e([t(1,r.NotNull),t(2,r.NotNull)],s),pu.ErrorInfo=s,pu}var gu={},QO;function wW(){if(QO)return gu;QO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gu&&gu.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=gu&&gu.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(gu,"__esModule",{value:!0}),gu.LookaheadEventInfo=void 0;const n=ny(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(l,u,d,g,p,m,x){super(l,u,g,p,m,x),this.predictedAlt=d}};return s=e([t(3,r.NotNull)],s),gu.LookaheadEventInfo=s,gu}var mu={},eD;function CW(){if(eD)return mu;eD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=mu&&mu.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=mu&&mu.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(mu,"__esModule",{value:!0}),mu.PredicateEvalInfo=void 0;const n=ny(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(l,u,d,g,p,m,x,b){super(u,l,d,g,p,l.useContext),this.semctx=m,this.evalResult=x,this.predictedAlt=b}};return s=e([t(0,r.NotNull),t(2,r.NotNull),t(5,r.NotNull)],s),mu.PredicateEvalInfo=s,mu}var tD;function nD(){if(tD)return cu;tD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=cu&&cu.__decorate||function(C,w,R,I){var N=arguments.length,D=N<3?w:I===null?I=Object.getOwnPropertyDescriptor(w,R):I,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,R,I);else for(var k=C.length-1;k>=0;k--)(L=C[k])&&(D=(N<3?L(D):N>3?L(w,R,D):L(w,R))||D);return N>3&&D&&Object.defineProperty(w,R,D),D},t=cu&&cu.__param||function(C,w){return function(R,I){w(R,I,C)}};Object.defineProperty(cu,"__esModule",{value:!0}),cu.ProfilingATNSimulator=void 0;const n=bW(),r=Va(),s=e1(),a=SW(),l=EW(),u=AW(),d=Ue(),g=wW(),p=ty(),m=CW(),x=_g(),b=pk();let A=class extends p.ParserATNSimulator{constructor(w){super(w.interpreter.atn,w),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let R=0;R<this.numDecisions;R++)this.decisions.push(new l.DecisionInfo(R))}adaptivePredict(w,R,I,N){if(N!==void 0)return super.adaptivePredict(w,R,I,N);try{this._input=w,this._startIndex=w.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=R,this.currentState=void 0,this.conflictingAltResolvedBySLL=r.ATN.INVALID_ALT_NUMBER;let D=process.hrtime(),L=super.adaptivePredict(w,R,I),k=process.hrtime(),j=(k[0]-D[0])*1e9;j===0?j=k[1]-D[1]:j+=1e9-D[1]+k[1],this.decisions[R].timeInPrediction+=j,this.decisions[R].invocations++;let B=this._sllStopIndex-this._startIndex+1;if(this.decisions[R].SLL_TotalLook+=B,this.decisions[R].SLL_MinLook=this.decisions[R].SLL_MinLook===0?B:Math.min(this.decisions[R].SLL_MinLook,B),B>this.decisions[R].SLL_MaxLook&&(this.decisions[R].SLL_MaxLook=B,this.decisions[R].SLL_MaxLookEvent=new g.LookaheadEventInfo(R,void 0,L,w,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let $=this._llStopIndex-this._startIndex+1;this.decisions[R].LL_TotalLook+=$,this.decisions[R].LL_MinLook=this.decisions[R].LL_MinLook===0?$:Math.min(this.decisions[R].LL_MinLook,$),$>this.decisions[R].LL_MaxLook&&(this.decisions[R].LL_MaxLook=$,this.decisions[R].LL_MaxLookEvent=new g.LookaheadEventInfo(R,void 0,L,w,this._startIndex,this._llStopIndex,!0))}return L}finally{this._input=void 0,this.currentDecision=-1}}getStartState(w,R,I,N){let D=super.getStartState(w,R,I,N);return this.currentState=D,D}computeStartState(w,R,I){let N=super.computeStartState(w,R,I);return this.currentState=N,N}computeReachSet(w,R,I,N){if(this._input===void 0)throw new Error("Invalid state");let D=super.computeReachSet(w,R,I,N);return D==null&&this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,R,this._input,this._startIndex,this._input.index)),this.currentState=D,D}getExistingTargetState(w,R){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let I=super.getExistingTargetState(w,R);if(I!=null&&(this.currentState=new b.SimulatorState(this.currentState.outerContext,I,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,I===s.ATNSimulator.ERROR)){let N=new b.SimulatorState(this.currentState.outerContext,w,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,N,this._input,this._startIndex,this._input.index))}return I}computeTargetState(w,R,I,N,D,L){let k=super.computeTargetState(w,R,I,N,D,L);return D?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,k}evalSemanticContextImpl(w,R,I){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let N=super.evalSemanticContextImpl(w,R,I);if(!(w instanceof x.SemanticContext.PrecedencePredicate)){let L=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new m.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,L,w,N,I))}return N}reportContextSensitivity(w,R,I,N,D){if(this._input===void 0)throw new Error("Invalid state");R!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a.ContextSensitivityInfo(this.currentDecision,I,this._input,N,D)),super.reportContextSensitivity(w,R,I,N,D)}reportAttemptingFullContext(w,R,I,N,D){R!=null?this.conflictingAltResolvedBySLL=R.nextSetBit(0):this.conflictingAltResolvedBySLL=I.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(w,R,I,N,D)}reportAmbiguity(w,R,I,N,D,L,k){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let j;L!=null?j=L.nextSetBit(0):j=k.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==r.ATN.INVALID_ALT_NUMBER&&j!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,I,N)),this.decisions[this.currentDecision].ambiguities.push(new n.AmbiguityInfo(this.currentDecision,this.currentState,L,this._input,I,N)),super.reportAmbiguity(w,R,I,N,D,L,k)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};return e([d.Override,t(0,d.NotNull)],A.prototype,"adaptivePredict",null),e([d.Override],A.prototype,"getStartState",null),e([d.Override],A.prototype,"computeStartState",null),e([d.Override],A.prototype,"computeReachSet",null),e([d.Override],A.prototype,"getExistingTargetState",null),e([d.Override],A.prototype,"computeTargetState",null),e([d.Override],A.prototype,"evalSemanticContextImpl",null),e([d.Override],A.prototype,"reportContextSensitivity",null),e([d.Override],A.prototype,"reportAttemptingFullContext",null),e([d.Override,t(0,d.NotNull),t(5,d.NotNull),t(6,d.NotNull)],A.prototype,"reportAmbiguity",null),cu.ProfilingATNSimulator=A,cu}var rD;function ry(){if(rD)return As;rD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=As&&As.__decorate||function(N,D,L,k){var j=arguments.length,B=j<3?D:k===null?k=Object.getOwnPropertyDescriptor(D,L):k,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(N,D,L,k);else for(var K=N.length-1;K>=0;K--)($=N[K])&&(B=(j<3?$(B):j>3?$(D,L,B):$(D,L))||B);return j>3&&B&&Object.defineProperty(D,L,B),B},t=As&&As.__param||function(N,D){return function(L,k){D(L,k,N)}},n=As&&As.__awaiter||function(N,D,L,k){function j(B){return B instanceof L?B:new L(function($){$(B)})}return new(L||(L=Promise))(function(B,$){function K(Se){try{re(k.next(Se))}catch(Me){$(Me)}}function ne(Se){try{re(k.throw(Se))}catch(Me){$(Me)}}function re(Se){Se.done?B(Se.value):j(Se.value).then(K,ne)}re((k=k.apply(N,D||[])).next())})};Object.defineProperty(As,"__esModule",{value:!0}),As.Parser=void 0;const r=Ou(),s=nk(),a=cR(),l=pR(),u=lR(),d=$F(),g=lf(),p=Ue(),m=nW(),x=ty(),b=gk(),A=Qv(),C=Og(),w=$n();class R{constructor(D,L){this.ruleNames=D,this.tokenStream=L}enterEveryRule(D){console.log("enter   "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(D){console.log("exit    "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(D){}visitTerminal(D){let L=D.parent.ruleContext,k=D.symbol;console.log("consume "+k+" rule "+this.ruleNames[L.ruleIndex])}}e([p.Override],R.prototype,"enterEveryRule",null),e([p.Override],R.prototype,"exitEveryRule",null),e([p.Override],R.prototype,"visitErrorNode",null),e([p.Override],R.prototype,"visitTerminal",null);let I=class Kb extends A.Recognizer{constructor(D){super(),this._errHandler=new l.DefaultErrorStrategy,this._precedenceStack=new d.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=D}reset(D){(D===void 0||D)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let L=this.interpreter;L!=null&&L.reset()}match(D){let L=this.currentToken;return L.type===D?(D===w.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(L=this._errHandler.recoverInline(this),this._buildParseTrees&&L.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,L))),L}matchWildcard(){let D=this.currentToken;return D.type>0?(this._errHandler.reportMatch(this),this.consume()):(D=this._errHandler.recoverInline(this),this._buildParseTrees&&D.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,D))),D}set buildParseTree(D){this._buildParseTrees=D}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(D){if(D==null)throw new TypeError("listener cannot be null");this._parseListeners.push(D)}removeParseListener(D){let L=this._parseListeners.findIndex(k=>k===D);L!==-1&&this._parseListeners.splice(L,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let D of this._parseListeners)D.enterEveryRule&&D.enterEveryRule(this._ctx),this._ctx.enterRule(D)}triggerExitRuleEvent(){for(let D=this._parseListeners.length-1;D>=0;D--){let L=this._parseListeners[D];this._ctx.exitRule(L),L.exitEveryRule&&L.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let D=this.serializedATN;if(D==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let L=Kb.bypassAltsAtnCache.get(D);if(L==null){let k=new s.ATNDeserializationOptions;k.isGenerateRuleBypassTransitions=!0,L=new a.ATNDeserializer(k).deserialize(r.toCharArray(D)),Kb.bypassAltsAtnCache.set(D,L)}return L}compileParseTreePattern(D,L,k){return n(this,void 0,void 0,function*(){if(!k){if(this.inputStream){let K=this.inputStream.tokenSource;K instanceof g.Lexer&&(k=K)}if(!k)throw new Error("Parser can't discover a lexer to use")}let j=k,B=yield Promise.resolve().then(()=>xW());return new B.ParseTreePatternMatcher(j,this).compile(D,L)})}get errorHandler(){return this._errHandler}set errorHandler(D){this._errHandler=D}get inputStream(){return this._input}set inputStream(D){this.reset(!1),this._input=D}get currentToken(){return this._input.LT(1)}notifyErrorListeners(D,L,k){L===void 0?L=this.currentToken:L===null&&(L=void 0),this._syntaxErrors++;let j=-1,B=-1;L!=null&&(j=L.line,B=L.charPositionInLine);let $=this.getErrorListenerDispatch();$.syntaxError&&$.syntaxError(this,L,j,B,D,k)}consume(){let D=this.currentToken;D.type!==Kb.EOF&&this.inputStream.consume();let L=this._parseListeners.length!==0;if(this._buildParseTrees||L)if(this._errHandler.inErrorRecoveryMode(this)){let k=this._ctx.addErrorNode(this.createErrorNode(this._ctx,D));if(L)for(let j of this._parseListeners)j.visitErrorNode&&j.visitErrorNode(k)}else{let k=this.createTerminalNode(this._ctx,D);if(this._ctx.addChild(k),L)for(let j of this._parseListeners)j.visitTerminal&&j.visitTerminal(k)}return D}createTerminalNode(D,L){return new C.TerminalNode(L)}createErrorNode(D,L){return new u.ErrorNode(L)}addContextToParseTree(){let D=this._ctx._parent;D!=null&&D.addChild(this._ctx)}enterRule(D,L,k){this.state=L,this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(D,L,k){if(this.state=L,this._buildParseTrees){let j=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),j._parent=D,D.addChild(j)}this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(D,L){if(D.altNumber=L,this._buildParseTrees&&this._ctx!==D){let k=this._ctx._parent;k!=null&&(k.removeLastChild(),k.addChild(D))}this._ctx=D}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(D,L,k,j){this.state=L,this._precedenceStack.push(j),this._ctx=D,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(D,L,k){let j=this._ctx;j._parent=D,j.invokingState=L,j._stop=this._input.tryLT(-1),this._ctx=D,this._ctx._start=j._start,this._buildParseTrees&&this._ctx.addChild(j),this.triggerEnterRuleEvent()}unrollRecursionContexts(D){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let L=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==D;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=D;L._parent=D,this._buildParseTrees&&D!=null&&D.addChild(L)}getInvokingContext(D){let L=this._ctx;for(;L&&L.ruleIndex!==D;)L=L._parent;return L}get context(){return this._ctx}set context(D){this._ctx=D}precpred(D,L){return L>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new b.ProxyParserErrorListener(this.getErrorListeners())}inContext(D){return!1}isExpectedToken(D){let L=this.interpreter.atn,k=this._ctx,j=L.states[this.state],B=L.nextTokens(j);if(B.contains(D))return!0;if(!B.contains(w.Token.EPSILON))return!1;for(;k!=null&&k.invokingState>=0&&B.contains(w.Token.EPSILON);){let K=L.states[k.invokingState].transition(0);if(B=L.nextTokens(K.followState),B.contains(D))return!0;k=k._parent}return!!(B.contains(w.Token.EPSILON)&&D===w.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let D=this.interpreter.atn,L=D.states[this.state];return D.nextTokens(L)}getRuleIndex(D){let L=this.getRuleIndexMap().get(D);return L??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(D=this._ctx){let L=D,k=this.ruleNames,j=[];for(;L!=null;){let B=L.ruleIndex;B<0?j.push("n/a"):j.push(k[B]),L=L._parent}return j}getDFAStrings(){let D=[];for(let L of this._interp.atn.decisionToDFA)D.push(L.toString(this.vocabulary,this.ruleNames));return D}dumpDFA(){let D=!1;for(let L of this._interp.atn.decisionToDFA)L.isEmpty||(D&&console.log(),console.log("Decision "+L.decision+":"),process.stdout.write(L.toString(this.vocabulary,this.ruleNames)),D=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>nD()).then(D=>{let L=this.interpreter;if(L instanceof D.ProfilingATNSimulator)return new m.ParseInfo(L)})}setProfile(D){return n(this,void 0,void 0,function*(){let L=yield Promise.resolve().then(()=>nD()),k=this.interpreter;D?k instanceof L.ProfilingATNSimulator||(this.interpreter=new L.ProfilingATNSimulator(this)):k instanceof L.ProfilingATNSimulator&&(this.interpreter=new x.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(k.getPredictionMode())})}set isTrace(D){D?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new R(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};return I.bypassAltsAtnCache=new Map,e([p.NotNull],I.prototype,"_errHandler",void 0),e([p.NotNull],I.prototype,"match",null),e([p.NotNull],I.prototype,"matchWildcard",null),e([p.NotNull],I.prototype,"getParseListeners",null),e([t(0,p.NotNull)],I.prototype,"addParseListener",null),e([p.NotNull],I.prototype,"getATNWithBypassAlts",null),e([p.NotNull,t(0,p.NotNull)],I.prototype,"errorHandler",null),e([p.Override],I.prototype,"inputStream",null),e([p.NotNull],I.prototype,"currentToken",null),e([t(0,p.NotNull)],I.prototype,"enterRule",null),e([p.Override,t(0,p.Nullable)],I.prototype,"precpred",null),e([p.Override],I.prototype,"getErrorListenerDispatch",null),e([p.NotNull],I.prototype,"getExpectedTokens",null),e([p.NotNull],I.prototype,"getExpectedTokensWithinCurrentRule",null),e([p.Override],I.prototype,"parseInfo",null),As.Parser=I,As}var iD;function i1(){if(iD)return yd;iD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yd&&yd.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(yd,"__esModule",{value:!0}),yd.NoViableAltException=void 0;const t=ry(),n=rf(),r=Ue();let s=class extends n.RecognitionException{constructor(l,u,d,g,p,m){l instanceof t.Parser&&(u===void 0&&(u=l.inputStream),d===void 0&&(d=l.currentToken),g===void 0&&(g=l.currentToken),m===void 0&&(m=l.context)),super(l,u,m),this._deadEndConfigs=p,this._startToken=d,this.setOffendingToken(l,g)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};return e([r.NotNull],s.prototype,"_startToken",void 0),yd.NoViableAltException=s,yd}var oD;function pR(){if(oD)return yl;oD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yl&&yl.__decorate||function(x,b,A,C){var w=arguments.length,R=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,A):C,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,A,C);else for(var N=x.length-1;N>=0;N--)(I=x[N])&&(R=(w<3?I(R):w>3?I(b,A,R):I(b,A))||R);return w>3&&R&&Object.defineProperty(b,A,R),R},t=yl&&yl.__param||function(x,b){return function(A,C){b(A,C,x)}};Object.defineProperty(yl,"__esModule",{value:!0}),yl.DefaultErrorStrategy=void 0;const n=Iu(),r=Jr(),s=XS(),a=ZS(),l=bh(),u=i1(),d=Ls(),g=$n(),p=Ue();let m=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER}reset(b){this.endErrorCondition(b)}beginErrorCondition(b){this.errorRecoveryMode=!0}inErrorRecoveryMode(b){return this.errorRecoveryMode}endErrorCondition(b){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(b){this.endErrorCondition(b)}reportError(b,A){this.inErrorRecoveryMode(b)||(this.beginErrorCondition(b),A instanceof u.NoViableAltException?this.reportNoViableAlternative(b,A):A instanceof a.InputMismatchException?this.reportInputMismatch(b,A):A instanceof s.FailedPredicateException?this.reportFailedPredicate(b,A):(console.error(`unknown recognition error type: ${A}`),this.notifyErrorListeners(b,A.toString(),A)))}notifyErrorListeners(b,A,C){let w=C.getOffendingToken(b);w===void 0&&(w=null),b.notifyErrorListeners(A,w,C)}recover(b,A){this.lastErrorIndex===b.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(b.state)&&b.consume(),this.lastErrorIndex=b.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new l.IntervalSet),this.lastErrorStates.add(b.state);let C=this.getErrorRecoverySet(b);this.consumeUntil(b,C)}sync(b){let A=b.interpreter.atn.states[b.state];if(this.inErrorRecoveryMode(b))return;let w=b.inputStream.LA(1),R=b.atn.nextTokens(A);if(R.contains(w)){this.nextTokensContext=void 0,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER;return}if(R.contains(g.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=b.context,this.nextTokensState=b.state);return}switch(A.stateType){case r.ATNStateType.BLOCK_START:case r.ATNStateType.STAR_BLOCK_START:case r.ATNStateType.PLUS_BLOCK_START:case r.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(b))return;throw new a.InputMismatchException(b);case r.ATNStateType.PLUS_LOOP_BACK:case r.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(b);let N=b.getExpectedTokens().or(this.getErrorRecoverySet(b));this.consumeUntil(b,N);break}}reportNoViableAlternative(b,A){let C=b.inputStream,w;C?A.startToken.type===g.Token.EOF?w="<EOF>":w=C.getTextFromRange(A.startToken,A.getOffendingToken()):w="<unknown input>";let R="no viable alternative at input "+this.escapeWSAndQuote(w);this.notifyErrorListeners(b,R,A)}reportInputMismatch(b,A){let C=A.expectedTokens,w=C?C.toStringVocabulary(b.vocabulary):"",R="mismatched input "+this.getTokenErrorDisplay(A.getOffendingToken(b))+" expecting "+w;this.notifyErrorListeners(b,R,A)}reportFailedPredicate(b,A){let w="rule "+b.ruleNames[b.context.ruleIndex]+" "+A.message;this.notifyErrorListeners(b,w,A)}reportUnwantedToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let A=b.currentToken,C=this.getTokenErrorDisplay(A),w=this.getExpectedTokens(b),R="extraneous input "+C+" expecting "+w.toStringVocabulary(b.vocabulary);b.notifyErrorListeners(R,A,void 0)}reportMissingToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let A=b.currentToken,w="missing "+this.getExpectedTokens(b).toStringVocabulary(b.vocabulary)+" at "+this.getTokenErrorDisplay(A);b.notifyErrorListeners(w,A,void 0)}recoverInline(b){let A=this.singleTokenDeletion(b);if(A)return b.consume(),A;if(this.singleTokenInsertion(b))return this.getMissingSymbol(b);throw this.nextTokensContext===void 0?new a.InputMismatchException(b):new a.InputMismatchException(b,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(b){let A=b.inputStream.LA(1),w=b.interpreter.atn.states[b.state].transition(0).target,R=b.interpreter.atn;return R.nextTokens(w,d.PredictionContext.fromRuleContext(R,b.context)).contains(A)?(this.reportMissingToken(b),!0):!1}singleTokenDeletion(b){let A=b.inputStream.LA(2);if(this.getExpectedTokens(b).contains(A)){this.reportUnwantedToken(b),b.consume();let w=b.currentToken;return this.reportMatch(b),w}}getMissingSymbol(b){let A=b.currentToken,C=this.getExpectedTokens(b),w=g.Token.INVALID_TYPE;C.isNil||(w=C.minElement);let R;w===g.Token.EOF?R="<missing EOF>":R="<missing "+b.vocabulary.getDisplayName(w)+">";let I=A,N=b.inputStream.tryLT(-1);return I.type===g.Token.EOF&&N!=null&&(I=N),this.constructToken(b.inputStream.tokenSource,w,R,I)}constructToken(b,A,C,w){let R=b.tokenFactory,I=w.tokenSource,N=I?I.inputStream:void 0;return R.create({source:b,stream:N},A,C,g.Token.DEFAULT_CHANNEL,-1,-1,w.line,w.charPositionInLine)}getExpectedTokens(b){return b.getExpectedTokens()}getTokenErrorDisplay(b){if(!b)return"<no token>";let A=this.getSymbolText(b);return A||(this.getSymbolType(b)===g.Token.EOF?A="<EOF>":A=`<${this.getSymbolType(b)}>`),this.escapeWSAndQuote(A)}getSymbolText(b){return b.text}getSymbolType(b){return b.type}escapeWSAndQuote(b){return b=b.replace(`
`,"\\n"),b=b.replace("\r","\\r"),b=b.replace("	","\\t"),"'"+b+"'"}getErrorRecoverySet(b){let A=b.interpreter.atn,C=b.context,w=new l.IntervalSet;for(;C&&C.invokingState>=0;){let I=A.states[C.invokingState].transition(0),N=A.nextTokens(I.followState);w.addAll(N),C=C._parent}return w.remove(g.Token.EPSILON),w}consumeUntil(b,A){let C=b.inputStream.LA(1);for(;C!==g.Token.EOF&&!A.contains(C);)b.consume(),C=b.inputStream.LA(1)}};return e([p.Override],m.prototype,"reset",null),e([t(0,p.NotNull)],m.prototype,"beginErrorCondition",null),e([p.Override],m.prototype,"inErrorRecoveryMode",null),e([t(0,p.NotNull)],m.prototype,"endErrorCondition",null),e([p.Override],m.prototype,"reportMatch",null),e([p.Override],m.prototype,"reportError",null),e([t(0,p.NotNull)],m.prototype,"notifyErrorListeners",null),e([p.Override],m.prototype,"recover",null),e([p.Override],m.prototype,"sync",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportNoViableAlternative",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportInputMismatch",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportFailedPredicate",null),e([t(0,p.NotNull)],m.prototype,"reportUnwantedToken",null),e([t(0,p.NotNull)],m.prototype,"reportMissingToken",null),e([p.Override],m.prototype,"recoverInline",null),e([t(0,p.NotNull)],m.prototype,"singleTokenInsertion",null),e([t(0,p.NotNull)],m.prototype,"singleTokenDeletion",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getMissingSymbol",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getExpectedTokens",null),e([t(0,p.NotNull)],m.prototype,"getSymbolText",null),e([t(0,p.NotNull)],m.prototype,"getSymbolType",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"escapeWSAndQuote",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getErrorRecoverySet",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"consumeUntil",null),yl.DefaultErrorStrategy=m,yl}var sD;function Rk(){if(sD)return Zf;sD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zf&&Zf.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m};Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.BailErrorStrategy=void 0;const t=pR(),n=ZS(),r=Ue(),s=Sk();let a=class extends t.DefaultErrorStrategy{recover(u,d){for(let g=u.context;g;g=g.parent)g.exception=d;throw new s.ParseCancellationException(d)}recoverInline(u){let d=new n.InputMismatchException(u);for(let g=u.context;g;g=g.parent)g.exception=d;throw new s.ParseCancellationException(d)}sync(u){}};return e([r.Override],a.prototype,"recover",null),e([r.Override],a.prototype,"recoverInline",null),e([r.Override],a.prototype,"sync",null),Zf.BailErrorStrategy=a,Zf}var vw={},aD;function RW(){if(aD)return vw;aD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(vw,"__esModule",{value:!0}),vw}var yw={},lD;function TW(){return lD||(lD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Dependents=void 0,function(t){t[t.SELF=0]="SELF",t[t.PARENTS=1]="PARENTS",t[t.CHILDREN=2]="CHILDREN",t[t.ANCESTORS=3]="ANCESTORS",t[t.DESCENDANTS=4]="DESCENDANTS",t[t.SIBLINGS=5]="SIBLINGS",t[t.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",t[t.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",t[t.PRECEEDING=8]="PRECEEDING",t[t.FOLLOWING=9]="FOLLOWING"}(e.Dependents||(e.Dependents={}))}(yw)),yw}var vu={},uD;function NW(){if(uD)return vu;uD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vu&&vu.__decorate||function(l,u,d,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,d):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,d,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,d,m):x(u,d))||m);return p>3&&m&&Object.defineProperty(u,d,m),m},t=vu&&vu.__param||function(l,u){return function(d,g){u(d,g,l)}};Object.defineProperty(vu,"__esModule",{value:!0}),vu.DiagnosticErrorListener=void 0;const n=af(),r=Ue(),s=Xi();let a=class{constructor(u=!0){this.exactOnly=u,this.exactOnly=u}syntaxError(u,d,g,p,m,x){}reportAmbiguity(u,d,g,p,m,x,b){if(this.exactOnly&&!m)return;let A=this.getDecisionDescription(u,d),C=this.getConflictingAlts(x,b),w=u.inputStream.getText(s.Interval.of(g,p)),R=`reportAmbiguity d=${A}: ambigAlts=${C}, input='${w}'`;u.notifyErrorListeners(R)}reportAttemptingFullContext(u,d,g,p,m,x){let b=this.getDecisionDescription(u,d),A=u.inputStream.getText(s.Interval.of(g,p)),C=`reportAttemptingFullContext d=${b}, input='${A}'`;u.notifyErrorListeners(C)}reportContextSensitivity(u,d,g,p,m,x){let b=this.getDecisionDescription(u,d),A=u.inputStream.getText(s.Interval.of(g,p)),C=`reportContextSensitivity d=${b}, input='${A}'`;u.notifyErrorListeners(C)}getDecisionDescription(u,d){let g=d.decision,p=d.atnStartState.ruleIndex,m=u.ruleNames;if(p<0||p>=m.length)return g.toString();let x=m[p];return x?`${g} (${x})`:g.toString()}getConflictingAlts(u,d){if(u!=null)return u;let g=new n.BitSet;for(let p of d)g.set(p.alt);return g}};return e([r.Override],a.prototype,"syntaxError",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(6,r.NotNull)],a.prototype,"reportAmbiguity",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],a.prototype,"reportAttemptingFullContext",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],a.prototype,"reportContextSensitivity",null),e([t(0,r.NotNull),t(1,r.NotNull)],a.prototype,"getDecisionDescription",null),e([r.NotNull,t(1,r.NotNull)],a.prototype,"getConflictingAlts",null),vu.DiagnosticErrorListener=a,vu}var yu={},cD;function _W(){if(cD)return yu;cD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yu&&yu.__decorate||function(u,d,g,p){var m=arguments.length,x=m<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,d,g,p);else for(var A=u.length-1;A>=0;A--)(b=u[A])&&(x=(m<3?b(x):m>3?b(d,g,x):b(d,g))||x);return m>3&&x&&Object.defineProperty(d,g,x),x},t=yu&&yu.__param||function(u,d){return function(g,p){d(g,p,u)}};Object.defineProperty(yu,"__esModule",{value:!0}),yu.LexerInterpreter=void 0;const n=lf(),r=n1(),s=Ue(),a=Ue();let l=class extends n.Lexer{constructor(d,g,p,m,x,b,A){if(super(A),b.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=d,this._atn=b,this._ruleNames=p.slice(0),this._channelNames=m.slice(0),this._modeNames=x.slice(0),this._vocabulary=g,this._interp=new r.LexerATNSimulator(b,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};return e([s.NotNull],l.prototype,"_vocabulary",void 0),e([a.Override],l.prototype,"atn",null),e([a.Override],l.prototype,"grammarFileName",null),e([a.Override],l.prototype,"ruleNames",null),e([a.Override],l.prototype,"channelNames",null),e([a.Override],l.prototype,"modeNames",null),e([a.Override],l.prototype,"vocabulary",null),l=e([t(1,s.NotNull)],l),yu.LexerInterpreter=l,yu}var xw={},fD;function IW(){if(fD)return xw;fD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(xw,"__esModule",{value:!0}),xw}var Zd={},dD;function OW(){if(dD)return Zd;dD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zd&&Zd.__decorate||function(a,l,u,d){var g=arguments.length,p=g<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,d);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.RuleContextWithAltNum=void 0;const t=Va(),n=Ue(),r=Fs();let s=class extends r.ParserRuleContext{constructor(l,u){u!==void 0?super(l,u):super(),this._altNumber=t.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(l){this._altNumber=l}};return e([n.Override],s.prototype,"altNumber",null),Zd.RuleContextWithAltNum=s,Zd}var J0={},hD;function DW(){if(hD)return J0;hD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(J0,"__esModule",{value:!0}),J0.RuleDependency=void 0;function e(t){return(n,r,s)=>{}}return J0.RuleDependency=e,J0}var Q0={},pD;function MW(){if(pD)return Q0;pD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.RuleVersion=void 0;function e(t){return(n,r,s)=>{}}return Q0.RuleVersion=e,Q0}var bw={},gD;function PW(){if(gD)return bw;gD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(bw,"__esModule",{value:!0}),bw}var Sw={},mD;function LW(){if(mD)return Sw;mD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(Sw,"__esModule",{value:!0}),Sw}var Ew={},vD;function FW(){if(vD)return Ew;vD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(Ew,"__esModule",{value:!0}),Ew}var xu={},yD;function kW(){if(yD)return xu;yD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xu&&xu.__decorate||function(g,p,m,x){var b=arguments.length,A=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(A=(b<3?C(A):b>3?C(p,m,A):C(p,m))||A);return b>3&&A&&Object.defineProperty(p,m,A),A};Object.defineProperty(xu,"__esModule",{value:!0}),xu.RewriteOperation=xu.TokenStreamRewriter=void 0;const t=Xi(),n=Ue(),r=$n();let s=class jo{constructor(p){this.tokens=p,this.programs=new Map,this.programs.set(jo.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(p,m=jo.DEFAULT_PROGRAM_NAME){let x=this.programs.get(m);x!=null&&this.programs.set(m,x.slice(jo.MIN_TOKEN_INDEX,p))}deleteProgram(p=jo.DEFAULT_PROGRAM_NAME){this.rollback(jo.MIN_TOKEN_INDEX,p)}insertAfter(p,m,x=jo.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let A=this.getProgram(x),C=new u(this.tokens,b,A.length,m);A.push(C)}insertBefore(p,m,x=jo.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let A=this.getProgram(x),C=new l(this.tokens,b,A.length,m);A.push(C)}replaceSingle(p,m){typeof p=="number"?this.replace(p,p,m):this.replace(p,p,m)}replace(p,m,x,b=jo.DEFAULT_PROGRAM_NAME){if(typeof p!="number"&&(p=p.tokenIndex),typeof m!="number"&&(m=m.tokenIndex),p>m||p<0||m<0||m>=this.tokens.size)throw new RangeError(`replace: range invalid: ${p}..${m}(size=${this.tokens.size})`);let A=this.getProgram(b),C=new d(this.tokens,p,m,A.length,x);A.push(C)}delete(p,m,x=jo.DEFAULT_PROGRAM_NAME){m===void 0&&(m=p),typeof p=="number"?this.replace(p,m,"",x):this.replace(p,m,"",x)}getLastRewriteTokenIndex(p=jo.DEFAULT_PROGRAM_NAME){let m=this.lastRewriteTokenIndexes.get(p);return m??-1}setLastRewriteTokenIndex(p,m){this.lastRewriteTokenIndexes.set(p,m)}getProgram(p){let m=this.programs.get(p);return m==null&&(m=this.initializeProgram(p)),m}initializeProgram(p){let m=[];return this.programs.set(p,m),m}getText(p,m=jo.DEFAULT_PROGRAM_NAME){let x;p instanceof t.Interval?x=p:x=t.Interval.of(0,this.tokens.size-1),typeof p=="string"&&(m=p);let b=this.programs.get(m),A=x.a,C=x.b;if(C>this.tokens.size-1&&(C=this.tokens.size-1),A<0&&(A=0),b==null||b.length===0)return this.tokens.getText(x);let w=[],R=this.reduceToSingleOperationPerIndex(b),I=A;for(;I<=C&&I<this.tokens.size;){let N=R.get(I);R.delete(I);let D=this.tokens.get(I);N==null?(D.type!==r.Token.EOF&&w.push(String(D.text)),I++):I=N.execute(w)}if(C===this.tokens.size-1)for(let N of R.values())N.index>=this.tokens.size-1&&w.push(N.text.toString());return w.join("")}reduceToSingleOperationPerIndex(p){for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof d))continue;let A=b,C=this.getKindOfOps(p,l,x);for(let R of C)R.index===A.index?(p[R.instructionIndex]=void 0,A.text=R.text.toString()+(A.text!=null?A.text.toString():"")):R.index>A.index&&R.index<=A.lastIndex&&(p[R.instructionIndex]=void 0);let w=this.getKindOfOps(p,d,x);for(let R of w){if(R.index>=A.index&&R.lastIndex<=A.lastIndex){p[R.instructionIndex]=void 0;continue}let I=R.lastIndex<A.index||R.index>A.lastIndex;if(R.text==null&&A.text==null&&!I)p[R.instructionIndex]=void 0,A.index=Math.min(R.index,A.index),A.lastIndex=Math.max(R.lastIndex,A.lastIndex);else if(!I)throw new Error(`replace op boundaries of ${A} overlap with previous ${R}`)}}for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof l))continue;let A=b,C=this.getKindOfOps(p,l,x);for(let R of C)R.index===A.index&&(R instanceof u?(A.text=this.catOpText(R.text,A.text),p[R.instructionIndex]=void 0):R instanceof l&&(A.text=this.catOpText(A.text,R.text),p[R.instructionIndex]=void 0));let w=this.getKindOfOps(p,d,x);for(let R of w){if(A.index===R.index){R.text=this.catOpText(A.text,R.text),p[x]=void 0;continue}if(A.index>=R.index&&A.index<=R.lastIndex)throw new Error(`insert op ${A} within boundaries of previous ${R}`)}}let m=new Map;for(let x of p)if(x!=null){if(m.get(x.index)!=null)throw new Error("should only be one op per index");m.set(x.index,x)}return m}catOpText(p,m){let x="",b="";return p!=null&&(x=p.toString()),m!=null&&(b=m.toString()),x+b}getKindOfOps(p,m,x){let b=[];for(let A=0;A<x&&A<p.length;A++){let C=p[A];C!=null&&C instanceof m&&b.push(C)}return b}};xu.TokenStreamRewriter=s,s.DEFAULT_PROGRAM_NAME="default",s.PROGRAM_INIT_SIZE=100,s.MIN_TOKEN_INDEX=0;class a{constructor(p,m,x,b){this.tokens=p,this.instructionIndex=x,this.index=m,this.text=b===void 0?"":b}execute(p){return this.index}toString(){let p=this.constructor.name,m=p.indexOf("$");return p=p.substring(m+1,p.length),"<"+p+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}e([n.Override],a.prototype,"toString",null),xu.RewriteOperation=a;class l extends a{constructor(p,m,x,b){super(p,m,x,b)}execute(p){return p.push(this.text.toString()),this.tokens.get(this.index).type!==r.Token.EOF&&p.push(String(this.tokens.get(this.index).text)),this.index+1}}e([n.Override],l.prototype,"execute",null);class u extends l{constructor(p,m,x,b){super(p,m+1,x,b)}}class d extends a{constructor(p,m,x,b,A){super(p,m,b,A),this.lastIndex=x}execute(p){return this.text!=null&&p.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}return e([n.Override],d.prototype,"execute",null),e([n.Override],d.prototype,"toString",null),xu}var Aw={},xD;function BW(){if(xD)return Aw;xD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(Aw,"__esModule",{value:!0}),Aw}var ww={},bD;function jW(){if(bD)return ww;bD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(ww,"__esModule",{value:!0}),ww}var SD;function zW(){return SD||(SD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Kf&&Kf.__createBinding||(Object.create?function(r,s,a,l){l===void 0&&(l=a),Object.defineProperty(r,l,{enumerable:!0,get:function(){return s[a]}})}:function(r,s,a,l){l===void 0&&(l=a),r[l]=s[a]}),n=Kf&&Kf.__exportStar||function(r,s){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&t(s,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(kH(),e),n(BH(),e),n(TY(),e),n(Rk(),e),n(xk(),e),n(RW(),e),n(fR(),e),n(mk(),e),n(yk(),e),n(Zv(),e),n(tR(),e),n(dR(),e),n(qF(),e),n(pR(),e),n(TW(),e),n(NW(),e),n(XS(),e),n(ZS(),e),n(Ek(),e),n(nf(),e),n(lf(),e),n(_W(),e),n(t1(),e),n(bk(),e),n(i1(),e),n(ry(),e),n(IW(),e),n(Ak(),e),n(Fs(),e),n(rR(),e),n(gk(),e),n(rf(),e),n(Qv(),e),n(hk(),e),n(OW(),e),n(DW(),e),n(MW(),e),n($n(),e),n(PW(),e),n(LW(),e),n(FW(),e),n(kW(),e),n(BW(),e),n(xh(),e),n(jW(),e)}(Kf)),Kf}var pg=zW(),Tk=cR(),VW=lf(),UW=n1(),Nk=xh(),_k=Ou();const Bt=class Bt extends VW.Lexer{get vocabulary(){return Bt.VOCABULARY}constructor(t){super(t),this._interp=new UW.LexerATNSimulator(Bt._ATN,this)}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Bt.ruleNames}get serializedATN(){return Bt._serializedATN}get channelNames(){return Bt.channelNames}get modeNames(){return Bt.modeNames}action(t,n,r){switch(n){case 6:this.REF_action(t,r);break}}REF_action(t,n){}static get _ATN(){return Bt.__ATN||(Bt.__ATN=new Tk.ATNDeserializer().deserialize(_k.toCharArray(Bt._serializedATN))),Bt.__ATN}};q(Bt,"T__0",1),q(Bt,"T__1",2),q(Bt,"T__2",3),q(Bt,"REFERENCE",4),q(Bt,"REF",5),q(Bt,"REFRANGE",6),q(Bt,"BOOL",7),q(Bt,"STRING",8),q(Bt,"NUM",9),q(Bt,"FUNCNAME",10),q(Bt,"WS",11),q(Bt,"MUL",12),q(Bt,"DIV",13),q(Bt,"ADD",14),q(Bt,"SUB",15),q(Bt,"EQ",16),q(Bt,"NEQ",17),q(Bt,"LTE",18),q(Bt,"GTE",19),q(Bt,"LT",20),q(Bt,"GT",21),q(Bt,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),q(Bt,"modeNames",["DEFAULT_MODE"]),q(Bt,"ruleNames",["T__0","T__1","T__2","REFERENCE","SHEET_NAME","QUOTED_SHEET_NAME","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(Bt,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),q(Bt,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(Bt,"VOCABULARY",new Nk.VocabularyImpl(Bt._LITERAL_NAMES,Bt._SYMBOLIC_NAMES,[])),q(Bt,"_serializedATN",`\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r											J
\x07N
\fQ\v\x07\x07\x07U
\x07\r\x07\x07V\x07\x07\b\b\\
\b\b\b\b\ba
\b\b\b\x07\be
\b\f\b\bh\v\b				




















\v\v\x07\v
\v\f\v\v\v\v\v\v\f\f
\f\r\f\f\f\f\f
\f\r\f\f\f
\f\r\r\x07\r
\r\f\r\r\v\r
\r\x07	\v\r\x07\b	
\v\f\x1B\r!#%')+-/	C\\c|2;C\\c|))3;2;$$\v\v""\x07	\x1B!#%')+-/13\x075	I\vK\rR[i\x1B!#%')+-/12\x07*234\x07+456\x07.6\b78\r\x0789\x07#9:	:J;<\r\x07<=\x07#=>\b>J?@\v@A\x07#AB	BJCD\vDE\x07#EF\bFJGJ	HJ\bI7I;I?ICIGIHJ
KO	LN	MLNQOMOPP\fQORT\x07)SU
TSUVVTVWWXXY\x07)YZ\\\x07&[Z[\\\\]]^	^\`\b\b_a\x07&\`_\`aabbf	ce	dcehfdfgghfij\bjk\x07<kl\blmn\x07Vno\x07Top\x07Wp\x07Gqr\x07Hrs\x07Cst\x07Ntu\x07Uu\x07Gvw\x07vwx\x07txy\x07wy\x07gz{\x07h{|\x07c|}\x07n}~\x07u~\x07gmqvz\x07$
\x07\x07$	\x070				\b\b\x07,\x071 \x07-"\x07/$\x07?&\x07>\x07@(\x07>\x07?*\x07@\x07?,\x07>.\x07@0IOV[\`f\b\b`),q(Bt,"__ATN");let gg=Bt;var GW=Va(),$W=XS(),HW=i1(),YW=ry(),gR=Fs(),WW=ty(),Cw=rf(),Rw=$n();const Qe=class Qe extends YW.Parser{get vocabulary(){return Qe.VOCABULARY}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Qe.ruleNames}get serializedATN(){return Qe._serializedATN}createFailedPredicateException(t,n){return new $W.FailedPredicateException(this,t,n)}constructor(t){super(t),this._interp=new WW.ParserATNSimulator(Qe._ATN,this)}formula(){let t=new qW(this._ctx,this.state);this.enterRule(t,0,Qe.RULE_formula);let n;try{this.enterOuterAlt(t,1);{this.state=7,this._errHandler.sync(this),n=this._input.LA(1);do this.state=6,this.expr(0),this.state=9,this._errHandler.sync(this),n=this._input.LA(1);while((n&-32)===0&&(1<<n&(1<<Qe.T__0|1<<Qe.REFERENCE|1<<Qe.BOOL|1<<Qe.STRING|1<<Qe.NUM|1<<Qe.FUNCNAME))!==0)}}catch(r){if(r instanceof Cw.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}expr(t){t===void 0&&(t=0);let n=this._ctx,r=this.state,s=new Kn(this._ctx,r),a=s,l=2;this.enterRecursionRule(s,2,Qe.RULE_expr,t);let u;try{let d;this.enterOuterAlt(s,1);{switch(this.state=26,this._errHandler.sync(this),this._input.LA(1)){case Qe.FUNCNAME:s=new KW(s),this._ctx=s,a=s,this.state=12,this.match(Qe.FUNCNAME),this.state=13,this.match(Qe.T__0),this.state=15,this._errHandler.sync(this),u=this._input.LA(1),(u&-32)===0&&(1<<u&(1<<Qe.T__0|1<<Qe.REFERENCE|1<<Qe.BOOL|1<<Qe.STRING|1<<Qe.NUM|1<<Qe.FUNCNAME))!==0&&(this.state=14,this.args()),this.state=17,this.match(Qe.T__1);break;case Qe.NUM:s=new QW(s),this._ctx=s,a=s,this.state=18,this.match(Qe.NUM);break;case Qe.BOOL:s=new e7(s),this._ctx=s,a=s,this.state=19,this.match(Qe.BOOL);break;case Qe.STRING:s=new t7(s),this._ctx=s,a=s,this.state=20,this.match(Qe.STRING);break;case Qe.REFERENCE:s=new n7(s),this._ctx=s,a=s,this.state=21,this.match(Qe.REFERENCE);break;case Qe.T__0:s=new r7(s),this._ctx=s,a=s,this.state=22,this.match(Qe.T__0),this.state=23,this.expr(0),this.state=24,this.match(Qe.T__1);break;default:throw new HW.NoViableAltException(this)}for(this._ctx._stop=this._input.tryLT(-1),this.state=39,this._errHandler.sync(this),d=this.interpreter.adaptivePredict(this._input,4,this._ctx);d!==2&&d!==GW.ATN.INVALID_ALT_NUMBER;){if(d===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),a=s,this.state=37,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:{if(s=new XW(new Kn(n,r)),this.pushNewRecursionContext(s,l,Qe.RULE_expr),this.state=28,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=29,s._op=this._input.LT(1),u=this._input.LA(1),u===Qe.MUL||u===Qe.DIV?(this._input.LA(1)===Rw.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=30,this.expr(9)}break;case 2:{if(s=new ZW(new Kn(n,r)),this.pushNewRecursionContext(s,l,Qe.RULE_expr),this.state=31,!this.precpred(this._ctx,7))throw this.createFailedPredicateException("this.precpred(this._ctx, 7)");this.state=32,s._op=this._input.LT(1),u=this._input.LA(1),u===Qe.ADD||u===Qe.SUB?(this._input.LA(1)===Rw.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=33,this.expr(8)}break;case 3:{if(s=new JW(new Kn(n,r)),this.pushNewRecursionContext(s,l,Qe.RULE_expr),this.state=34,!this.precpred(this._ctx,6))throw this.createFailedPredicateException("this.precpred(this._ctx, 6)");this.state=35,s._op=this._input.LT(1),u=this._input.LA(1),(u&-32)===0&&(1<<u&(1<<Qe.EQ|1<<Qe.NEQ|1<<Qe.LTE|1<<Qe.GTE|1<<Qe.LT|1<<Qe.GT))!==0?(this._input.LA(1)===Rw.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=36,this.expr(7)}break}this.state=41,this._errHandler.sync(this),d=this.interpreter.adaptivePredict(this._input,4,this._ctx)}}}catch(d){if(d instanceof Cw.RecognitionException)s.exception=d,this._errHandler.reportError(this,d),this._errHandler.recover(this,d);else throw d}finally{this.unrollRecursionContexts(n)}return s}args(){let t=new Ik(this._ctx,this.state);this.enterRule(t,4,Qe.RULE_args);let n;try{for(this.enterOuterAlt(t,1),this.state=42,this.expr(0),this.state=47,this._errHandler.sync(this),n=this._input.LA(1);n===Qe.T__2;)this.state=43,this.match(Qe.T__2),this.state=44,this.expr(0),this.state=49,this._errHandler.sync(this),n=this._input.LA(1)}catch(r){if(r instanceof Cw.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}sempred(t,n,r){switch(n){case 1:return this.expr_sempred(t,r)}return!0}expr_sempred(t,n){switch(n){case 0:return this.precpred(this._ctx,8);case 1:return this.precpred(this._ctx,7);case 2:return this.precpred(this._ctx,6)}return!0}static get _ATN(){return Qe.__ATN||(Qe.__ATN=new Tk.ATNDeserializer().deserialize(_k.toCharArray(Qe._serializedATN))),Qe.__ATN}};q(Qe,"T__0",1),q(Qe,"T__1",2),q(Qe,"T__2",3),q(Qe,"REFERENCE",4),q(Qe,"REF",5),q(Qe,"REFRANGE",6),q(Qe,"BOOL",7),q(Qe,"STRING",8),q(Qe,"NUM",9),q(Qe,"FUNCNAME",10),q(Qe,"WS",11),q(Qe,"MUL",12),q(Qe,"DIV",13),q(Qe,"ADD",14),q(Qe,"SUB",15),q(Qe,"EQ",16),q(Qe,"NEQ",17),q(Qe,"LTE",18),q(Qe,"GTE",19),q(Qe,"LT",20),q(Qe,"GT",21),q(Qe,"RULE_formula",0),q(Qe,"RULE_expr",1),q(Qe,"RULE_args",2),q(Qe,"ruleNames",["formula","expr","args"]),q(Qe,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),q(Qe,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(Qe,"VOCABULARY",new Nk.VocabularyImpl(Qe._LITERAL_NAMES,Qe._SYMBOLIC_NAMES,[])),q(Qe,"_serializedATN",`5			

\r\v

\x07(
\f+\v\x070
\f3\v<	,\b
	\b
\v\v	\v\f\f\r\b\x07\f\x07\x07\x07\v\x07	\x07
\x07\x07\x1B\x07\x1B\r)\f
 	 (\v!"\f	"#	#(
$%\f\b%&	&(	''!'$(+)')**+),1-.\x07.0/-031/122\x0731\b\v')1`),q(Qe,"__ATN");let _n=Qe;class qW extends gR.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Kn):this.getRuleContext(t,Kn)}constructor(t,n){super(t,n)}get ruleIndex(){return _n.RULE_formula}enterRule(t){t.enterFormula&&t.enterFormula(this)}exitRule(t){t.exitFormula&&t.exitFormula(this)}accept(t){return t.visitFormula?t.visitFormula(this):t.visitChildren(this)}}class Kn extends gR.ParserRuleContext{constructor(t,n){super(t,n)}get ruleIndex(){return _n.RULE_expr}copyFrom(t){super.copyFrom(t)}}class KW extends Kn{FUNCNAME(){return this.getToken(_n.FUNCNAME,0)}args(){return this.tryGetRuleContext(0,Ik)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterFunction&&t.enterFunction(this)}exitRule(t){t.exitFunction&&t.exitFunction(this)}accept(t){return t.visitFunction?t.visitFunction(this):t.visitChildren(this)}}class XW extends Kn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Kn):this.getRuleContext(n,Kn)}MUL(){return this.tryGetToken(_n.MUL,0)}DIV(){return this.tryGetToken(_n.DIV,0)}enterRule(n){n.enterMulDiv&&n.enterMulDiv(this)}exitRule(n){n.exitMulDiv&&n.exitMulDiv(this)}accept(n){return n.visitMulDiv?n.visitMulDiv(this):n.visitChildren(this)}}class ZW extends Kn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Kn):this.getRuleContext(n,Kn)}ADD(){return this.tryGetToken(_n.ADD,0)}SUB(){return this.tryGetToken(_n.SUB,0)}enterRule(n){n.enterAddSub&&n.enterAddSub(this)}exitRule(n){n.exitAddSub&&n.exitAddSub(this)}accept(n){return n.visitAddSub?n.visitAddSub(this):n.visitChildren(this)}}class JW extends Kn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Kn):this.getRuleContext(n,Kn)}EQ(){return this.tryGetToken(_n.EQ,0)}NEQ(){return this.tryGetToken(_n.NEQ,0)}LT(){return this.tryGetToken(_n.LT,0)}GT(){return this.tryGetToken(_n.GT,0)}LTE(){return this.tryGetToken(_n.LTE,0)}GTE(){return this.tryGetToken(_n.GTE,0)}enterRule(n){n.enterComparison&&n.enterComparison(this)}exitRule(n){n.exitComparison&&n.exitComparison(this)}accept(n){return n.visitComparison?n.visitComparison(this):n.visitChildren(this)}}class QW extends Kn{NUM(){return this.getToken(_n.NUM,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterNumber&&t.enterNumber(this)}exitRule(t){t.exitNumber&&t.exitNumber(this)}accept(t){return t.visitNumber?t.visitNumber(this):t.visitChildren(this)}}class e7 extends Kn{BOOL(){return this.getToken(_n.BOOL,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterBoolean&&t.enterBoolean(this)}exitRule(t){t.exitBoolean&&t.exitBoolean(this)}accept(t){return t.visitBoolean?t.visitBoolean(this):t.visitChildren(this)}}class t7 extends Kn{STRING(){return this.getToken(_n.STRING,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterStr&&t.enterStr(this)}exitRule(t){t.exitStr&&t.exitStr(this)}accept(t){return t.visitStr?t.visitStr(this):t.visitChildren(this)}}class n7 extends Kn{REFERENCE(){return this.getToken(_n.REFERENCE,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterReference&&t.enterReference(this)}exitRule(t){t.exitReference&&t.exitReference(this)}accept(t){return t.visitReference?t.visitReference(this):t.visitChildren(this)}}class r7 extends Kn{expr(){return this.getRuleContext(0,Kn)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterParentheses&&t.enterParentheses(this)}exitRule(t){t.exitParentheses&&t.exitParentheses(this)}accept(t){return t.visitParentheses?t.visitParentheses(this):t.visitChildren(this)}}class Ik extends gR.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Kn):this.getRuleContext(t,Kn)}constructor(t,n){super(t,n)}get ruleIndex(){return _n.RULE_args}enterRule(t){t.enterArgs&&t.enterArgs(this)}exitRule(t){t.exitArgs&&t.exitArgs(this)}accept(t){return t.visitArgs?t.visitArgs(this):t.visitChildren(this)}}function*ED(e){const[t,n]=e;for(let r=t.r;r<=n.r;r++)for(let s=t.c;s<=n.c;s++)yield{r,c:s}}function Up(e,t){const[n,r]=t;return n.r<=e.r&&e.r<=r.r&&n.c<=e.c&&e.c<=r.c}function i7(e,t){const[n,r]=e,[s,a]=t;return s.r<=n.r&&r.r<=a.r&&s.c<=n.c&&r.c<=a.c}function AD(e,t){return[{r:Math.min(e.r,t.r),c:Math.min(e.c,t.c)},{r:Math.max(e.r,t.r),c:Math.max(e.c,t.c)}]}function ev(e){return[CD(e[0]),CD(e[1])]}function Tw(e,t){return pv(e[0],t[0])&&pv(e[1],t[1])}function o7(e,t){const n=[];return e[0].r>t[0].r&&n.push([{r:e[0].r-1,c:e[0].c},{r:e[0].r-1,c:e[1].c}]),e[1].r<t[1].r&&n.push([{r:e[1].r+1,c:e[0].c},{r:e[1].r+1,c:e[1].c}]),e[0].c>t[0].c&&n.push([{r:e[0].r,c:e[0].c-1},{r:e[1].r,c:e[0].c-1}]),e[1].c<t[1].c&&n.push([{r:e[0].r,c:e[1].c+1},{r:e[1].r,c:e[1].c+1}]),n}function wD(e,t){const[n,r]=e,[s,a]=t;return[{r:Math.min(n.r,s.r),c:Math.min(n.c,s.c)},{r:Math.max(r.r,a.r),c:Math.max(r.c,a.c)}]}function pv(e,t){return e.r===t.r&&e.c===t.c}function CD(e){return{r:e.r,c:e.c}}function Eh(e){return e.includes(":")}function lh(e){return e.includes("!")}function Ok(e){const t=e.indexOf("!");if(t===-1)throw new Error(`Not a cross-sheet reference: ${e}`);let n=e.substring(0,t);n.startsWith("'")&&n.endsWith("'")&&(n=n.slice(1,-1));const r=e.substring(t+1);return{sheetName:n,localRef:r}}function*Hc(e){for(const t of e){if(lh(t)){const{sheetName:n,localRef:r}=Ok(t);if(r.includes(":")){const s=MC(r);for(const a of ED(s))yield`${n}!${at(a)}`}else yield t;continue}if(Eh(t)){const n=MC(t);for(const r of ED(n))yield at(r);continue}yield t}}function at(e){return Cv(e.c)+e.r}function s7(e){const[t,n]=e;return`${at(t)}:${at(n)}`}function Cv(e){let t="";for(;e>0;){const n=e%26;n===0?(t="Z"+t,e=Math.floor(e/26)-1):(t=String.fromCharCode(n+64)+t,e=Math.floor(e/26))}return t}function Pt(e){const t=e.replace(/\$/g,"");let n=0;for(let a=0;a<t.length;a++){const l=t.charCodeAt(a);if(48<=l&&l<=57){n=a;break}}if(n===0)throw new Error("Invalid Reference");const r=parseInt(t.substring(n)),s=t.substring(0,n).split("").reverse().reduce((a,l,u)=>a+Math.pow(26,u)*(l.charCodeAt(0)-65+1),0);if(isNaN(r)||isNaN(s))throw new Error("Invalid Reference");return{r,c:s}}function MC(e){const[t,n]=e.split(":");return[Pt(t),Pt(n)]}class iy{constructor(){q(this,"ref");q(this,"bool");q(this,"num");q(this,"str")}static create(){return new iy}setRef(t){return this.ref=t,this}setBool(t){return this.bool=t,this}setNum(t){return this.num=t,this}setStr(t){return this.str=t,this}map(t,n){return t.t==="bool"&&this.bool?this.bool(t):t.t==="num"&&this.num?this.num(t):t.t==="str"&&this.str?this.str(t):t.t==="ref"&&this.ref&&n?this.ref(t,n):t}*iterate(t,n,r){for(const s of t.expr()){const a=n(s);if(a.t==="ref"&&r)for(const l of Hc([a.v]))yield this.ref({t:"ref",v:l},r);else yield this.map(a)}}}function a7(e){return{t:"num",v:e.v?1:0}}function l7(e){const t=Number(e);return{t:"num",v:isNaN(t)?0:t}}function u7(e,t){var s;if(Eh(e.v))return{t:"err",v:"#VALUE!"};const n=((s=t.get(e.v))==null?void 0:s.v)||"",r=Number(n);return{t:"num",v:isNaN(r)?0:r}}const qi=iy.create().setRef(u7).setBool(a7).setStr(l7);function c7(e){return{t:"bool",v:e.v!==0}}function f7(e,t){var s;if(Eh(e.v))return{t:"err",v:"#VALUE!"};const n=((s=t.get(e.v))==null?void 0:s.v)||"";if(n==="TRUE"||n==="true")return{t:"bool",v:!0};if(n==="FALSE"||n==="false"||n==="")return{t:"bool",v:!1};const r=Number(n);return isNaN(r)?{t:"err",v:"#VALUE!"}:{t:"bool",v:r!==0}}const o1=iy.create().setRef(f7).setNum(c7).setStr(()=>({t:"err",v:"#VALUE!"}));function d7(e){return{t:"str",v:e.v.toString()}}function h7(e){return{t:"str",v:e.v?"TRUE":"FALSE"}}function Dk(e,t){var r;return Eh(e.v)?{t:"err",v:"#VALUE!"}:{t:"str",v:((r=t.get(e.v))==null?void 0:r.v)||""}}iy.create().setRef(Dk).setNum(d7).setBool(h7);const RD=new Map([["SUM",p7],["IF",g7],["AND",m7],["OR",v7],["NOT",y7],["AVERAGE",x7],["MIN",b7],["MAX",S7],["COUNT",E7],["COUNTA",A7],["TRIM",w7],["LEN",C7],["LEFT",R7],["RIGHT",T7],["MID",N7],["CONCATENATE",_7],["TODAY",I7],["NOW",O7],["YEAR",D7],["MONTH",M7],["DAY",P7],["IFERROR",L7]]);function p7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const a of qi.iterate(r,t,n)){if(a.t==="err")return a;s+=a.v}return{t:"num",v:s}}function g7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<2||s.length>3)return{t:"err",v:"#N/A!"};const a=o1.map(t(s[0]),n);return a.t==="err"?a:a.v?t(s[1]):s.length===3?t(s[2]):{t:"bool",v:!1}}function m7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const s of o1.iterate(r,t,n)){if(s.t==="err")return s;if(!s.v)return{t:"bool",v:!1}}return{t:"bool",v:!0}}function v7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const s of o1.iterate(r,t,n)){if(s.t==="err")return s;if(s.v)return{t:"bool",v:!0}}return{t:"bool",v:!1}}function y7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=o1.map(t(s[0]),n);return a.t==="err"?a:{t:"bool",v:!a.v}}function x7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0,a=0;for(const l of qi.iterate(r,t,n)){if(l.t==="err")return l;s+=l.v,a++}return a===0?{t:"err",v:"#VALUE!"}:{t:"num",v:s/a}}function b7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=1/0;for(const a of qi.iterate(r,t,n)){if(a.t==="err")return a;a.v<s&&(s=a.v)}return{t:"num",v:s}}function S7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=-1/0;for(const a of qi.iterate(r,t,n)){if(a.t==="err")return a;a.v>s&&(s=a.v)}return{t:"num",v:s}}function E7(e,t,n){var a,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const u of r.expr()){const d=t(u);if(d.t==="num")s++;else if(d.t==="bool")s++;else if(d.t==="ref"&&n)if(Eh(d.v))for(const g of Hc([d.v])){const p=((a=n.get(g))==null?void 0:a.v)||"";p!==""&&!isNaN(Number(p))&&s++}else{const g=((l=n.get(d.v))==null?void 0:l.v)||"";g!==""&&!isNaN(Number(g))&&s++}}return{t:"num",v:s}}function A7(e,t,n){var a,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const u of r.expr()){const d=t(u);if(d.t==="num"||d.t==="bool")s++;else if(d.t==="str")d.v!==""&&s++;else if(d.t==="ref"&&n)if(Eh(d.v))for(const g of Hc([d.v]))(((a=n.get(g))==null?void 0:a.v)||"")!==""&&s++;else(((l=n.get(d.v))==null?void 0:l.v)||"")!==""&&s++}return{t:"num",v:s}}function Ah(e,t){return e.t==="err"||e.t==="str"?e:e.t==="num"?{t:"str",v:e.v.toString()}:e.t==="bool"?{t:"str",v:e.v?"TRUE":"FALSE"}:e.t==="ref"&&t?Dk(e,t):{t:"err",v:"#VALUE!"}}function w7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=Ah(t(s[0]),n);return a.t==="err"?a:{t:"str",v:a.v.trim()}}function C7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=Ah(t(s[0]),n);return a.t==="err"?a:{t:"num",v:a.v.length}}function R7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<1||s.length>2)return{t:"err",v:"#N/A!"};const a=Ah(t(s[0]),n);if(a.t==="err")return a;let l=1;if(s.length===2){const u=qi.map(t(s[1]),n);if(u.t==="err")return u;l=u.v}return{t:"str",v:a.v.slice(0,l)}}function T7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<1||s.length>2)return{t:"err",v:"#N/A!"};const a=Ah(t(s[0]),n);if(a.t==="err")return a;let l=1;if(s.length===2){const u=qi.map(t(s[1]),n);if(u.t==="err")return u;l=u.v}return{t:"str",v:a.v.slice(-l)}}function N7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==3)return{t:"err",v:"#N/A!"};const a=Ah(t(s[0]),n);if(a.t==="err")return a;const l=qi.map(t(s[1]),n);if(l.t==="err")return l;const u=qi.map(t(s[2]),n);if(u.t==="err")return u;const d=l.v-1;return{t:"str",v:a.v.slice(d,d+u.v)}}function _7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<2)return{t:"err",v:"#N/A!"};let a="";for(const l of s){const u=Ah(t(l),n);if(u.t==="err")return u;a+=u.v}return{t:"str",v:a}}function I7(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const s=new Date,a=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),u=String(s.getDate()).padStart(2,"0");return{t:"str",v:`${a}-${l}-${u}`}}function O7(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const s=new Date,a=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),u=String(s.getDate()).padStart(2,"0"),d=String(s.getHours()).padStart(2,"0"),g=String(s.getMinutes()).padStart(2,"0"),p=String(s.getSeconds()).padStart(2,"0");return{t:"str",v:`${a}-${l}-${u} ${d}:${g}:${p}`}}function mR(e,t){const n=Ah(e,t);if(n.t==="err")return n;const r=new Date(n.v);return isNaN(r.getTime())?{t:"err",v:"#VALUE!"}:r}function D7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=mR(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getFullYear()}:a}function M7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=mR(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getMonth()+1}:a}function P7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=mR(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getDate()}:a}function L7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==2)return{t:"err",v:"#N/A!"};const a=t(s[0]);return a.t==="err"?t(s[1]):a}function gv(e){const t=pg.CharStreams.fromString(e.slice(1)),n=new gg(t),r=new pg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const s=new Set;for(const a of r.getTokens())a.type===_n.REFERENCE&&s.add(a.text.toUpperCase());return s}function uf(e){const t=pg.CharStreams.fromString(e.slice(1)),n=new gg(t),r=new pg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const s=[];for(const u of r.getTokens())u.type!=gg.EOF&&s.push({type:n.vocabulary.getSymbolicName(u.type)||"STRING",start:u.startIndex,stop:u.stopIndex,text:u.text});const a=[];let l;for(const u of s)!l&&u.start>0?a.push({type:"STRING",start:0,stop:u.start-1,text:e.slice(1,u.start+1)}):l&&l.stop+1!==u.start&&a.push({type:"STRING",start:l.stop+1,stop:u.start-1,text:e.slice(l.stop+2,u.start+1)}),a.push(u),l=u;return l&&l.stop+2<e.length&&a.push({type:"STRING",start:l.stop+1,stop:e.length-1,text:e.slice(l.stop+2)}),a}function Ib(e){const t=uf(e),n=[];for(const r of t)if(r.type==="REFERENCE")try{const s=r.text.toUpperCase();if(lh(s))continue;if(s.includes(":"))n.push({text:s,range:MC(s)});else{const a=Pt(s);n.push({text:s,range:[a,a]})}}catch{}return n}function F7(e,t){if(!e.startsWith("=")||t<=0)return!1;if(t===1)return!0;const n=uf(e);for(const u of n){const d=u.start+1,g=u.stop+2;if(u.type==="REFERENCE"&&t>=d&&t<=g)return!0}const s=e.slice(0,t).trimEnd();if(s.length===0)return!1;const a=s[s.length-1];return new Set(["=","(",",","+","-","*","/","<",">",":"]).has(a)}function TD(e,t){if(!e.startsWith("="))return;const n=uf(e);for(const r of n){if(r.type!=="REFERENCE")continue;const s=r.start+1,a=r.stop+2;if(t>=s&&t<=a)return{start:s,end:a,text:r.text}}}function k7(e,t){var n;try{const r=pg.CharStreams.fromString(e.slice(1)),s=new gg(r),a=new pg.CommonTokenStream(s),l=new _n(a),u=l.expr(),d=new B7(t);s.removeErrorListeners(),l.removeErrorListeners();const g=d.visit(u);return g.t==="ref"&&t?Eh(g.v)?"#VALUE!":((n=t.get(g.v))==null?void 0:n.v)||"":g.v.toString()}catch{return"#ERROR!"}}class B7{constructor(t){q(this,"grid");this.visit=this.visit.bind(this),this.grid=t}visitChildren(){throw new Error("Method not implemented.")}visitTerminal(){throw new Error("Method not implemented.")}visitErrorNode(){throw new Error("Method not implemented.")}visitFormula(){throw new Error("Method not implemented.")}visitExpr(){throw new Error("Method not implemented.")}visitArgs(){throw new Error("Method not implemented.")}visit(t){return t.accept(this)}visitFunction(t){const n=t.FUNCNAME().text.toUpperCase();if(RD.has(n))return RD.get(n)(t,this.visit,this.grid);throw new Error("Function not implemented.")}visitReference(t){return this.grid?{t:"ref",v:t.text.toUpperCase()}:{t:"err",v:"#REF!"}}visitParentheses(t){return this.visit(t.expr())}visitNumber(t){return{t:"num",v:Number(t.text)}}visitBoolean(t){return{t:"bool",v:t.text==="TRUE"||t.text==="true"}}visitAddSub(t){const n=qi.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=qi.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===_n.ADD?{t:"num",v:n.v+r.v}:{t:"num",v:n.v-r.v}}visitMulDiv(t){const n=qi.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=qi.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===_n.MUL?{t:"num",v:n.v*r.v}:{t:"num",v:n.v/r.v}}visitComparison(t){const n=qi.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=qi.map(this.visit(t.expr(1)),this.grid);if(r.t==="err")return r;switch(t._op.type){case _n.EQ:return{t:"bool",v:n.v===r.v};case _n.NEQ:return{t:"bool",v:n.v!==r.v};case _n.LT:return{t:"bool",v:n.v<r.v};case _n.GT:return{t:"bool",v:n.v>r.v};case _n.LTE:return{t:"bool",v:n.v<=r.v};case _n.GTE:return{t:"bool",v:n.v>=r.v};default:return{t:"err",v:"#ERROR!"}}}visitStr(t){return{t:"str",v:t.text.slice(1,-1)}}}function Qc(e,t,n,r){const s=t+n;return r<=t?e>=t&&e<s?r+(e-t):e>=r&&e<t?e+n:e:e>=t&&e<s?r-n+(e-t):e>=s&&e<r?e-n:e}function Yc(e,t,n,r,s){return t==="row"?{r:Qc(e.r,n,r,s),c:e.c}:{r:e.r,c:Qc(e.c,n,r,s)}}function Mk(e,t,n,r,s){const a=uf(e);let l="=";for(const u of a)if(u.type==="REFERENCE"){const d=u.text;if(d.includes("!"))l+=d;else if(d.includes(":")){const[g,p]=d.split(":"),m=Pt(g.toUpperCase()),x=Pt(p.toUpperCase()),b=Yc(m,t,n,r,s),A=Yc(x,t,n,r,s);l+=at(b)+":"+at(A)}else{const g=Pt(d.toUpperCase()),p=Yc(g,t,n,r,s);l+=at(p)}}else l+=u.text;return l}function j7(e,t,n,r,s){const a=new Map;for(const[l,u]of e){const d=Pt(l),g=Yc(d,t,n,r,s),p=at(g);let m;u.f?m={...u,f:Mk(u.f,t,n,r,s)}:m={...u},a.set(p,m)}return a}function $p(e,t,n,r){const s=new Map;for(const[a,l]of e)s.set(Qc(a,t,n,r),l);return s}function z7(e,t,n){const r=uf(e);let s="=";for(const a of r)if(a.type==="REFERENCE"){const l=a.text;if(l.includes("!"))s+=l;else if(l.includes(":")){const[u,d]=l.split(":"),g=Pt(u.toUpperCase()),p=Pt(d.toUpperCase()),m={r:g.r+t,c:g.c+n},x={r:p.r+t,c:p.c+n};m.r<1||m.c<1||x.r<1||x.c<1?s+="#REF!":s+=at(m)+":"+at(x)}else{const u=Pt(l.toUpperCase()),d={r:u.r+t,c:u.c+n};d.r<1||d.c<1?s+="#REF!":s+=at(d)}}else s+=a.text;return s}function Xb(e,t,n,r){const s=t==="row"?e.r:e.c;if(r>0)return s>=n?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e;const a=Math.abs(r);return s>=n&&s<n+a?null:s>=n+a?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e}function Pk(e,t,n,r){const s=Pt(e),a=Xb(s,t,n,r);return a?at(a):null}function Lk(e,t,n,r){const s=uf(e);let a="=";for(const l of s)if(l.type==="REFERENCE"){const u=l.text;if(u.includes("!"))a+=u;else if(u.includes(":")){const[d,g]=u.split(":"),p=Pt(d.toUpperCase()),m=Pt(g.toUpperCase()),x=Xb(p,t,n,r),b=Xb(m,t,n,r);!x||!b?a+="#REF!":a+=at(x)+":"+at(b)}else{const d=Pt(u.toUpperCase()),g=Xb(d,t,n,r);g?a+=at(g):a+="#REF!"}}else a+=l.text;return a}function Hp(e,t,n){const r=new Map;for(const[s,a]of e)if(n>0)s>=t?r.set(s+n,a):r.set(s,a);else{const l=Math.abs(n);s>=t&&s<t+l||(s>=t+l?r.set(s+n,a):r.set(s,a))}return r}function V7(e,t,n,r){const s=new Map;for(const[a,l]of e){const u=Pk(a,t,n,r);if(u===null)continue;let d;l.f?d={...l,f:Lk(l.f,t,n,r)}:d={...l},s.set(u,d)}return s}function Ob(e,t){return[{r:e.r,c:e.c},{r:e.r+t.rs-1,c:e.c+t.cs-1}]}function ND(e,t,n,r){if(r>0)return n<=e?[e+r,t+r]:n<=t?[e,t+r]:[e,t];const s=Math.abs(r),a=n,l=n+s-1;if(l<e)return[e+r,t+r];if(a>t)return[e,t];const u=Math.max(e,a),g=Math.min(t,l)-u+1,p=t-e+1-g;return p<=0?null:a<=e?[a,a+p-1]:[e,e+p-1]}function U7(e,t,n,r,s){const a=ND(e.r,e.r+t.rs-1,n==="row"?r:Number.NEGATIVE_INFINITY,n==="row"?s:0);if(!a)return null;const l=ND(e.c,e.c+t.cs-1,n==="column"?r:Number.NEGATIVE_INFINITY,n==="column"?s:0);if(!l)return null;const[u,d]=a,[g,p]=l,m=d-u+1,x=p-g+1;return m<=1&&x<=1?null:{anchor:{r:u,c:g},span:{rs:m,cs:x}}}function G7(e,t,n,r,s,a){const l=n==="row"?e.r+t.rs-1:e.c+t.cs-1,u=n==="row"?e.r:e.c,d=Qc(u,r,s,a),g=Qc(l,r,s,a),p=Math.min(d,g),x=Math.max(d,g)-p+1;if(n==="row"){const C=x,w=t.cs;return C<=1&&w<=1?null:{anchor:{r:p,c:e.c},span:{rs:C,cs:w}}}const b=t.rs,A=x;return b<=1&&A<=1?null:{anchor:{r:e.r,c:p},span:{rs:b,cs:A}}}function vR(e,t,n,r){const s=new Map;for(const[a,l]of e){const u=Pt(a),d=U7(u,l,t,n,r);d&&s.set(at(d.anchor),d.span)}return s}function yR(e,t,n,r,s){const a=new Map;for(const[l,u]of e){const d=Pt(l),g=G7(d,u,t,n,r,s);g&&a.set(at(g.anchor),g.span)}return a}function $7(e,t,n,r,s){const a=n==="row"?e.r:e.c,l=n==="row"?e.r+t.rs-1:e.c+t.cs-1,u=r+s-1;return l<r||a>u?!1:!(a>=r&&l<=u)}class _D{constructor(t){q(this,"customSizes");q(this,"defaultSize");this.defaultSize=t,this.customSizes=new Map}getSize(t){return this.customSizes.get(t)??this.defaultSize}setSize(t,n){n===this.defaultSize?this.customSizes.delete(t):this.customSizes.set(t,n)}getDefaultSize(){return this.defaultSize}getOffset(t){let n=(t-1)*this.defaultSize;for(const[r,s]of this.customSizes)r<t&&(n+=s-this.defaultSize);return n}findIndex(t){if(t<0)return 1;if(this.customSizes.size===0)return Math.floor(t/this.defaultSize)+1;const n=Array.from(this.customSizes.entries()).sort((a,l)=>a[0]-l[0]);let r=0,s=0;for(const[a,l]of n){const u=a-1-s,d=r+u*this.defaultSize;if(t<d)return s+Math.floor((t-r)/this.defaultSize)+1;if(r=d,t<r+l)return a;r+=l,s=a}return s+Math.floor((t-r)/this.defaultSize)+1}shift(t,n){const r=new Map;for(const[s,a]of this.customSizes)if(n>0)s>=t?r.set(s+n,a):r.set(s,a);else{const l=Math.abs(n);s>=t&&s<t+l||(s>=t+l?r.set(s+n,a):r.set(s,a))}this.customSizes=r}move(t,n,r){const s=new Map;for(const[a,l]of this.customSizes)s.set(Qc(a,t,n,r),l);this.customSizes=s}clear(){this.customSizes.clear()}hasCustomSizes(){return this.customSizes.size>0}}class xR{constructor(){q(this,"rowIndex",new Map);q(this,"colIndex",new Map)}add(t,n){let r=this.rowIndex.get(t);r||(r=new Set,this.rowIndex.set(t,r)),r.add(n);let s=this.colIndex.get(n);s||(s=new Set,this.colIndex.set(n,s)),s.add(t)}remove(t,n){const r=this.rowIndex.get(t);r&&(r.delete(n),r.size===0&&this.rowIndex.delete(t));const s=this.colIndex.get(n);s&&(s.delete(t),s.size===0&&this.colIndex.delete(n))}has(t,n){const r=this.rowIndex.get(t);return r!==void 0&&r.has(n)}clear(){this.rowIndex.clear(),this.colIndex.clear()}rebuild(t){this.clear();for(const[n,r]of t)this.add(n,r)}*cellsInRange(t){const[n,r]=t;for(const[s,a]of this.rowIndex)if(!(s<n.r||s>r.r))for(const l of a)l>=n.c&&l<=r.c&&(yield[s,l])}hasAnyInRange(t){return!this.cellsInRange(t).next().done}getOccupiedColsInRow(t){return this.rowIndex.get(t)}getOccupiedRowsInCol(t){return this.colIndex.get(t)}get size(){let t=0;for(const n of this.rowIndex.values())t+=n.size;return t}}function bR(e,t,n,r,s){const a=n==="left"||n==="right",l=n==="down"||n==="right",u=a?t.c:t.r,d=a?r[0].c:r[0].r,g=a?r[1].c:r[1].r,p=a?e.getOccupiedColsInRow(t.r):e.getOccupiedRowsInCol(t.c);let m;if(p&&s){const R=new Set;for(const I of p){const N=a?t.r:I,D=a?I:t.c;s(N,D)&&R.add(I)}m=R.size>0?R:void 0}else m=p;if(!m||m.size===0)return ID(t,n,r);const x=Array.from(m).sort((R,I)=>R-I);l||x.reverse();const b=l?x.filter(R=>R>u):x.filter(R=>R<u),A=m.has(u),C=l?u+1:u-1,w=Up(a?{r:t.r,c:C}:{r:C,c:t.c},r)&&m.has(C);if(A&&w){let R=u,I=C;for(;(l?I<=g:I>=d)&&m.has(I);)R=I,I=l?I+1:I-1;return a?{r:t.r,c:R}:{r:R,c:t.c}}if(b.length>0){const R=b[0];return a?{r:t.r,c:R}:{r:R,c:t.c}}return ID(t,n,r)}function ID(e,t,n){switch(t){case"up":return{r:n[0].r,c:e.c};case"down":return{r:n[1].r,c:e.c};case"left":return{r:e.r,c:n[0].c};case"right":return{r:e.r,c:n[1].c}}}class H7{constructor(){q(this,"grid",new Map);q(this,"cellIndex",new xR)}loadQueryResults(t,n){this.grid.clear();for(let r=0;r<t.length;r++){const s=at({r:1,c:r+1});this.grid.set(s,{v:t[r].name,s:{b:!0}})}for(let r=0;r<n.length;r++){const s=n[r];for(let a=0;a<t.length;a++){const l=s[t[a].name];if(l==null)continue;const u=at({r:r+2,c:a+1});this.grid.set(u,{v:String(l)})}}this.rebuildIndex()}async set(t,n){}async get(t){return this.grid.get(at(t))}async has(t){return this.grid.has(at(t))}async delete(t){return!1}async deleteRange(t){return new Set}async setGrid(t){}async getGrid(t){const n=new Map;for(const[r,s]of this.cellIndex.cellsInRange(t)){const a=at({r,c:s}),l=this.grid.get(a);l!==void 0&&n.set(a,l)}return n}async findEdge(t,n,r){return bR(this.cellIndex,t,n,r,(s,a)=>{const l=this.grid.get(at({r:s,c:a}));return l!==void 0&&(!!l.v||!!l.f)})}async shiftCells(t,n,r){}async moveCells(t,n,r,s){}async buildDependantsMap(t){return new Map}async getFormulaGrid(){return new Map}getPresences(){return[]}updateActiveCell(t){}async setDimensionSize(t,n,r){}async getDimensionSizes(t){return new Map}async setColumnStyle(t,n){}async getColumnStyles(){return new Map}async setRowStyle(t,n){}async getRowStyles(){return new Map}async setSheetStyle(t){}async getSheetStyle(){}async setMerge(t,n){}async deleteMerge(t){return!1}async getMerges(){return new Map}async setFreezePane(t,n){}async getFreezePane(){return{frozenRows:0,frozenCols:0}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=Pt(t);return[n.r,n.c]}))}}async function Tc(e,t,n){const[r,s]=Y7(t,n);for(const a of r){const l=Pt(a);if(!await e.hasFormula(l))continue;const u=await e.getCell(l);if(s.has(a)){await e.setCell(l,{v:"#REF!",f:u.f,s:u.s});continue}const d=gv(u.f),g=await e.fetchGridByReferences(d),p=await k7(u.f,g);await e.setCell(l,{v:p,f:u.f,s:u.s})}}function Y7(e,t){const n=[],r=new Set,s=new Set,a=new Set,l=u=>{if(a.has(u))for(const d of a)r.add(d);if(a.add(u),!s.has(u)){if(s.add(u),e.has(u))for(const d of e.get(u))l(d);n.push(u)}a.delete(u)};for(const u of t)l(u);return[n.reverse(),r]}function W7(e){let t=1/0,n=1/0,r=0,s=0;for(const[l]of e.entries()){const{r:u,c:d}=Pt(l);t=Math.min(t,u),n=Math.min(n,d),r=Math.max(r,u),s=Math.max(s,d)}const a=Array.from({length:r-t+1},()=>Array(s-n+1).fill(""));for(const[l,u]of e.entries()){const{r:d,c:g}=Pt(l);a[d-t][g-n]=u.v||u.f||""}return a.map(l=>l.join("	")).join(`
`)}function q7(e,t){let n=e.r,r=e.c;const s=new Map,a=t.split(`
`);for(const l of a){const u=l.split("	");for(const d of u)s.set(at({r:n,c:r}),{v:d}),r+=1;n+=1,r=e.c}return s}function OD(e){const t=e.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);if(!t)return;const n=parseInt(t[1],10),r=parseInt(t[2],10),s=parseInt(t[3],10);if(!(n===255&&r===255&&s===255))return"#"+n.toString(16).padStart(2,"0")+r.toString(16).padStart(2,"0")+s.toString(16).padStart(2,"0")}function K7(e){return e.includes("google-sheets-html-origin")||e.includes("data-sheets-value")||e.includes("urn:schemas-microsoft-com:office:excel")||e.includes('xmlns:x="urn:schemas-microsoft-com:office:excel"')}function X7(e,t){const s=new DOMParser().parseFromString(e,"text/html").querySelector("table");if(!s)return new Map;const a=new Map,l=s.querySelectorAll("tr");for(let u=0;u<l.length;u++){const d=l[u].querySelectorAll("td, th");for(let g=0;g<d.length;g++){const p=d[g],m=p.textContent||"";if(!m&&!p.style.cssText)continue;const x={v:m},b={};let A=!1;const C=p.style.fontWeight;if((C==="bold"||C==="700")&&(b.b=!0,A=!0),p.style.fontStyle==="italic"&&(b.i=!0,A=!0),p.style.backgroundColor){const w=OD(p.style.backgroundColor);w&&(b.bg=w,A=!0)}if(p.style.color){const w=OD(p.style.color);w&&(b.tc=w,A=!0)}if(p.style.textAlign){const w=p.style.textAlign;(w==="left"||w==="center"||w==="right")&&(b.al=w,A=!0)}A&&(x.s=b),a.set(at({r:t.r+u,c:t.c+g}),x)}}return a}function Fk(e,t,n){if(!t||t==="plain"||e==="")return e;const r=Number(e);if(isNaN(r))return e;const s=n??2;switch(t){case"number":return r.toLocaleString("en-US",{minimumFractionDigits:s,maximumFractionDigits:s});case"currency":return r.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:s,maximumFractionDigits:s});case"percent":return(r/100).toLocaleString("en-US",{style:"percent",minimumFractionDigits:s,maximumFractionDigits:s});default:return e}}const Z7={rows:1e6,columns:18278},J7={b:!1,i:!1,u:!1,st:!1,al:"left",va:"top",nf:"plain",dp:2};class Q7{constructor(t){q(this,"store");q(this,"dimension");q(this,"activeCell");q(this,"range");q(this,"selectionType","cell");q(this,"rowDimensions");q(this,"colDimensions");q(this,"frozenRows",0);q(this,"frozenCols",0);q(this,"colStyles",new Map);q(this,"rowStyles",new Map);q(this,"sheetStyle");q(this,"merges",new Map);q(this,"mergeCoverMap",new Map);q(this,"copyBuffer");q(this,"gridResolver");this.store=t,this.dimension={...Z7},this.activeCell={r:1,c:1}}get dimensionRange(){return[{r:1,c:1},{r:this.dimension.rows,c:this.dimension.columns}]}getDimension(){return this.dimension}setDimensions(t,n){this.rowDimensions=t,this.colDimensions=n}getRowDimensions(){return this.rowDimensions}getColDimensions(){return this.colDimensions}setRowHeight(t,n){var r;(r=this.rowDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("row",t,n)}setColumnWidth(t,n){var r;(r=this.colDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("column",t,n)}async loadDimensions(){if(this.rowDimensions){this.rowDimensions.clear();const t=await this.store.getDimensionSizes("row");for(const[n,r]of t)this.rowDimensions.setSize(n,r)}if(this.colDimensions){this.colDimensions.clear();const t=await this.store.getDimensionSizes("column");for(const[n,r]of t)this.colDimensions.setSize(n,r)}}getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n,await this.store.setFreezePane(t,n)}async loadFreezePane(){const{frozenRows:t,frozenCols:n}=await this.store.getFreezePane();this.frozenRows=t,this.frozenCols=n}async loadStyles(){this.colStyles=await this.store.getColumnStyles(),this.rowStyles=await this.store.getRowStyles(),this.sheetStyle=await this.store.getSheetStyle()}async loadMerges(){this.merges=await this.store.getMerges(),this.rebuildMergeCoverMap()}getColStyles(){return this.colStyles}getRowStyles(){return this.rowStyles}getSheetStyle(){return this.sheetStyle}getMerges(){return this.merges}rebuildMergeCoverMap(){this.mergeCoverMap.clear();for(const[t,n]of this.merges){const r=Pt(t);for(let s=r.r;s<r.r+n.rs;s++)for(let a=r.c;a<r.c+n.cs;a++){const l=at({r:s,c:a});l!==t&&this.mergeCoverMap.set(l,t)}}}getAnchorSrefForRef(t){const n=at(t);return this.merges.has(n)?n:this.mergeCoverMap.get(n)||n}normalizeRefToAnchor(t){return Pt(this.getAnchorSrefForRef(t))}getMergeForRef(t){const n=this.getAnchorSrefForRef(t),r=this.merges.get(n);if(!r)return;const s=Pt(n);return{anchorSref:n,anchor:s,span:r,range:Ob(s,r)}}expandRangeToMergedBoundaries(t){let n=ev(t),r=!0;for(;r;){r=!1;for(const[s,a]of this.merges){const l=Ob(Pt(s),a);if(!Up(l[0],n)&&!Up(l[1],n)&&!(l[0].r<=n[1].r&&l[1].r>=n[0].r&&l[0].c<=n[1].c&&l[1].c>=n[0].c))continue;const u=wD(n,l);Tw(u,n)||(n=u,r=!0)}}return n}*mergeCoveredSrefs(t,n){for(let r=t.r;r<t.r+n.rs;r++)for(let s=t.c;s<t.c+n.cs;s++)yield at({r,c:s})}expandChangedSrefsWithMergeAliases(t){const n=new Set;for(const r of t){const s=this.getAnchorSrefForRef(Pt(r)),a=this.merges.get(s);if(!a){n.add(r);continue}const l=Pt(s);for(const u of this.mergeCoveredSrefs(l,a))n.add(u)}return n}getMergesIntersecting(t){const n=[];for(const[r,s]of this.merges){const a=Pt(r),l=Ob(a,s);l[0].r<=t[1].r&&l[1].r>=t[0].r&&l[0].c<=t[1].c&&l[1].c>=t[0].c&&n.push({anchorSref:r,anchor:a,span:s,range:l})}return n}resolveEffectiveStyle(t,n,r){const s=this.sheetStyle,a=this.colStyles.get(n),l=this.rowStyles.get(t);if(!(!s&&!a&&!l&&!r))return{...s,...a,...l,...r}}async getCell(t){return this.store.get(this.normalizeRefToAnchor(t))}async setCell(t,n){await this.store.set(this.normalizeRefToAnchor(t),n)}async setGrid(t){await this.store.setGrid(t)}async hasFormula(t){const n=await this.getCell(t);return!!(n&&n.f)}async toInputString(t){const n=await this.getCell(t);return n?n.f?n.f:n.v||"":""}async toDisplayString(t){const n=this.normalizeRefToAnchor(t),r=await this.store.get(n);if(!r||!r.v)return"";const s=this.resolveEffectiveStyle(n.r,n.c,r.s);return Fk(r.v,s==null?void 0:s.nf,s==null?void 0:s.dp)}async setData(t,n){const r=this.normalizeRefToAnchor(t);this.store.beginBatch();try{const s=await this.store.get(r),a=n.startsWith("=")?{f:n}:{v:n},l=s!=null&&s.s?{...a,s:s.s}:a;this.isEmptyCell(l)?await this.store.delete(r):await this.store.set(r,l);const u=this.expandChangedSrefsWithMergeAliases([at(r)]),d=await this.store.buildDependantsMap(u);await Tc(this,d,u)}finally{this.store.endBatch()}}async removeData(){this.store.beginBatch();try{const t=this.getRangeOrActiveCell(),n=await this.store.getGrid(t),r=new Set;for(const[l,u]of n){const d=Pt(l);u.s&&Object.keys(u.s).length>0?await this.store.set(d,{s:u.s}):await this.store.delete(d),r.add(l)}if(r.size===0)return!1;const s=this.expandChangedSrefsWithMergeAliases(r),a=await this.store.buildDependantsMap(s);return await Tc(this,a,s),!0}finally{this.store.endBatch()}}async insertRows(t,n=1){await this.shiftCells("row",t,n)}async deleteRows(t,n=1){await this.shiftCells("row",t,-n)}async insertColumns(t,n=1){await this.shiftCells("column",t,n)}async deleteColumns(t,n=1){await this.shiftCells("column",t,-n)}async moveRows(t,n,r){await this.moveCells("row",t,n,r)}async moveColumns(t,n,r){await this.moveCells("column",t,n,r)}async shiftCells(t,n,r){var a,l;await this.store.shiftCells(t,n,r),t==="row"?((a=this.rowDimensions)==null||a.shift(n,r),this.rowStyles=Hp(this.rowStyles,n,r)):((l=this.colDimensions)==null||l.shift(n,r),this.colStyles=Hp(this.colStyles,n,r)),this.merges=vR(this.merges,t,n,r),this.rebuildMergeCoverMap();const s=t==="row"?this.activeCell.r:this.activeCell.c;if(r>0&&s>=n)t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r};else if(r<0){const u=Math.abs(r);s>=n&&s<n+u?t==="row"?this.activeCell={r:Math.max(1,n),c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:Math.max(1,n)}:s>=n+u&&(t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r})}this.activeCell=this.normalizeRefToAnchor(this.activeCell),this.store.beginBatch();try{const u=t==="row"?this.frozenRows:this.frozenCols;if(u>0){if(r>0&&n<=u){const m=u+r;t==="row"?this.frozenRows=m:this.frozenCols=m,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}else if(r<0){const m=Math.abs(r);if(n<=u){const x=Math.min(m,u-n+1),b=Math.max(0,u-x);t==="row"?this.frozenRows=b:this.frozenCols=b,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}}}const d=new Set,g=[{r:1,c:1},{r:1e3,c:100}],p=await this.store.getGrid(g);for(const[m,x]of p)x.f&&d.add(m);if(d.size>0){const m=await this.store.buildDependantsMap(d);await Tc(this,m,d)}}finally{this.store.endBatch()}}async moveCells(t,n,r,s){var a,l;if(!(s>=n&&s<=n+r)){for(const[u,d]of this.merges){const g=Pt(u);if($7(g,d,t,n,r))return}await this.store.moveCells(t,n,r,s),t==="row"?((a=this.rowDimensions)==null||a.move(n,r,s),this.rowStyles=$p(this.rowStyles,n,r,s)):((l=this.colDimensions)==null||l.move(n,r,s),this.colStyles=$p(this.colStyles,n,r,s)),this.merges=yR(this.merges,t,n,r,s),this.rebuildMergeCoverMap(),this.activeCell=this.normalizeRefToAnchor(Yc(this.activeCell,t,n,r,s)),this.range&&(this.range=this.expandRangeToMergedBoundaries([Yc(this.range[0],t,n,r,s),Yc(this.range[1],t,n,r,s)])),this.store.beginBatch();try{const u=new Set,d=[{r:1,c:1},{r:1e3,c:100}],g=await this.store.getGrid(d);for(const[p,m]of g)m.f&&u.add(p);if(u.size>0){const p=await this.store.buildDependantsMap(u);await Tc(this,p,u)}}finally{this.store.endBatch()}}}async fetchGrid(t){return this.store.getGrid(t)}isEmptyCell(t){const n=t.v!==void 0&&t.v!==""&&t.v!==null,r=!!t.f,s=t.s!==void 0&&Object.keys(t.s).length>0;return!n&&!r&&!s}isDefaultStyleValue(t,n){return J7[t]===n}compactCell(t,n){const r={};return t.v!==void 0&&(r.v=t.v),t.f!==void 0&&(r.f=t.f),n&&Object.keys(n).length>0&&(r.s=n),r}getCopyRange(){var t;return(t=this.copyBuffer)==null?void 0:t.sourceRange}clearCopyBuffer(){this.copyBuffer=void 0}async copy(){const t=this.getRangeOrActiveCell(),n=await this.fetchGrid(t),r=W7(n);return this.copyBuffer={sourceRange:t,grid:n,text:r},{text:r}}async paste(t){const{text:n,html:r}=t;let s;if(this.copyBuffer&&n===this.copyBuffer.text)s=this.relocateGrid(this.copyBuffer.grid,this.copyBuffer.sourceRange,this.activeCell);else if(r&&K7(r))s=X7(r,this.activeCell);else if(n)s=q7(this.activeCell,n);else return;this.store.beginBatch();try{await this.setGrid(s);const a=new Set;for(const[l]of s)a.add(l);if(a.size>0){const l=this.expandChangedSrefsWithMergeAliases(a),u=await this.store.buildDependantsMap(l);await Tc(this,u,l)}}finally{this.store.endBatch()}this.selectPastedRange(s)}selectPastedRange(t){if(t.size===0)return;let n=1/0,r=-1/0,s=1/0,a=-1/0;for(const l of t.keys()){const u=Pt(l);u.r<n&&(n=u.r),u.r>r&&(r=u.r),u.c<s&&(s=u.c),u.c>a&&(a=u.c)}n===r&&s===a?this.selectStart({r:n,c:s}):(this.selectionType="cell",this.activeCell={r:n,c:s},this.range=[{r:n,c:s},{r,c:a}],this.store.updateActiveCell(this.activeCell))}relocateGrid(t,n,r){const s=r.r-n[0].r,a=r.c-n[0].c,l=new Map;for(const[u,d]of t){const g=Pt(u),p={r:g.r+s,c:g.c+a},m=at(p);if(d.f){const x=z7(d.f,s,a);l.set(m,{f:x,s:d.s})}else l.set(m,{...d})}return l}async hasContents(t){return(await this.store.getGrid(t)).size>0}async fetchGridByReferences(t){const n=new Map,r=new Map;for(const s of Hc(t))if(lh(s)){const{sheetName:a,localRef:l}=Ok(s);r.has(a.toUpperCase())||r.set(a.toUpperCase(),new Set),r.get(a.toUpperCase()).add(l)}else{const a=this.normalizeRefToAnchor(Pt(s)),l=await this.store.get(a);l&&n.set(s,l)}if(this.gridResolver&&r.size>0)for(const[s,a]of r){const l=this.gridResolver(s,a);if(l)for(const[u,d]of l)n.set(`${s}!${u}`,d)}return n}setGridResolver(t){this.gridResolver=t}async recalculateCrossSheetFormulas(){const t=await this.store.getFormulaGrid(),n=new Set;for(const[r]of t)n.add(r);if(n.size!==0){this.store.beginBatch();try{const r=await this.store.buildDependantsMap(n);await Tc(this,r,n)}finally{this.store.endBatch()}}}getActiveCell(){return this.activeCell}setActiveCell(t){const n=this.normalizeRefToAnchor(t);this.activeCell=n,this.store.updateActiveCell(n)}getRange(){return this.range}getPresences(){return this.store.getPresences()}getRangeOrActiveCell(){if(this.range)return this.expandRangeToMergedBoundaries(this.range);const t=this.getMergeForRef(this.activeCell);return t?t.range:[this.activeCell,this.activeCell]}getSelectionType(){return this.selectionType}selectRow(t){this.selectionType="row",this.activeCell={r:t,c:1},this.range=[{r:t,c:1},{r:t,c:this.dimension.columns}],this.store.updateActiveCell(this.activeCell)}selectColumn(t){this.selectionType="column",this.activeCell={r:1,c:t},this.range=[{r:1,c:t},{r:this.dimension.rows,c:t}],this.store.updateActiveCell(this.activeCell)}selectRowRange(t,n){this.selectionType="row";const r=Math.min(t,n),s=Math.max(t,n);this.range=[{r,c:1},{r:s,c:this.dimension.columns}]}selectColumnRange(t,n){this.selectionType="column";const r=Math.min(t,n),s=Math.max(t,n);this.range=[{r:1,c:r},{r:this.dimension.rows,c:s}]}selectAllCells(){this.selectionType="all",this.activeCell={r:1,c:1},this.range=ev(this.dimensionRange),this.store.updateActiveCell(this.activeCell)}getSelectedIndices(){return this.selectionType==="cell"||this.selectionType==="all"||!this.range?null:this.selectionType==="row"?{axis:"row",from:this.range[0].r,to:this.range[1].r}:{axis:"column",from:this.range[0].c,to:this.range[1].c}}selectStart(t){Up(t,this.dimensionRange)&&(this.selectionType="cell",this.setActiveCell(this.normalizeRefToAnchor(t)),this.range=void 0)}selectEnd(t){if(!Up(t,this.dimensionRange))return;const n=this.normalizeRefToAnchor(t);if(pv(this.activeCell,n)){this.range=void 0;return}this.range=this.expandRangeToMergedBoundaries(AD(this.activeCell,n))}hasRange(){return!!this.range}async selectAll(){let t=this.getRangeOrActiveCell(),n=ev(t),r=!0;for(;r;){r=!1;for(const s of o7(n,this.dimensionRange))await this.hasContents(s)&&(n=wD(n,s),r=!0)}if(Tw(t,n)){this.range=ev(this.dimensionRange);return}this.range=n}async moveToEdge(t){const n=this.getMergeForRef(this.activeCell),r={...this.activeCell};n&&(t==="right"?r.c=n.range[1].c:t==="down"&&(r.r=n.range[1].r));const s=await this.store.findEdge(r,t,this.dimensionRange),a=this.normalizeRefToAnchor(s);return pv(this.activeCell,a)?!1:(this.range=void 0,this.setActiveCell(a),!0)}move(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let s=this.activeCell.r,a=this.activeCell.c;const l=this.getMergeForRef(this.activeCell);if(l?t==="right"?a=l.range[1].c+1:t==="down"?s=l.range[1].r+1:t==="left"?a-=1:s-=1:(s+=n,a+=r),!Up({r:s,c:a},this.dimensionRange))return!1;const u=this.normalizeRefToAnchor({r:s,c:a});return pv(this.activeCell,u)?!1:(this.range=void 0,this.setActiveCell(u),!0)}resizeRange(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let s=ev(this.getRangeOrActiveCell());return this.activeCell.r===s[1].r?s[0].r+=n:s[1].r+=n,this.activeCell.c===s[1].c?s[0].c+=r:s[1].c+=r,s=AD(s[0],s[1]),i7(s,this.dimensionRange)?(this.range=this.expandRangeToMergedBoundaries(s),!0):!1}async getStyle(t){const n=this.normalizeRefToAnchor(t),r=await this.store.get(n);return this.resolveEffectiveStyle(n.r,n.c,r==null?void 0:r.s)}async setStyle(t,n){const r=this.normalizeRefToAnchor(t),s=await this.store.get(r)||{},a={...s.s,...n},l=this.resolveEffectiveStyle(r.r,r.c);for(const d of Object.keys(a))(a[d]===void 0||a[d]==="")&&delete a[d];for(const d of Object.keys(a)){const g=a[d];if(g===(l==null?void 0:l[d])){delete a[d];continue}(l==null?void 0:l[d])===void 0&&this.isDefaultStyleValue(d,g)&&delete a[d]}const u=this.compactCell(s,Object.keys(a).length>0?a:void 0);if(this.isEmptyCell(u)){await this.store.delete(r);return}await this.store.set(r,u)}async setRangeStyle(t){this.store.beginBatch();try{if(this.selectionType==="column"){const r=this.getRangeOrActiveCell();for(let s=r[0].c;s<=r[1].c;s++){const l={...this.colStyles.get(s)||{},...t};for(const u of Object.keys(l))!l[u]&&l[u]!==0&&delete l[u];this.colStyles.set(s,l),await this.store.setColumnStyle(s,l)}return}if(this.selectionType==="row"){const r=this.getRangeOrActiveCell();for(let s=r[0].r;s<=r[1].r;s++){const l={...this.rowStyles.get(s)||{},...t};for(const u of Object.keys(l))!l[u]&&l[u]!==0&&delete l[u];this.rowStyles.set(s,l),await this.store.setRowStyle(s,l)}return}if(this.selectionType==="all"){const s={...this.sheetStyle||{},...t};for(const a of Object.keys(s))!s[a]&&s[a]!==0&&delete s[a];this.sheetStyle=s,await this.store.setSheetStyle(s);return}const n=this.getRangeOrActiveCell();for(let r=n[0].r;r<=n[1].r;r++)for(let s=n[0].c;s<=n[1].c;s++)await this.setStyle({r,c:s},t)}finally{this.store.endBatch()}}async toggleRangeStyle(t){const n=await this.getStyle(this.activeCell),r=!(n!=null&&n[t]);await this.setRangeStyle({[t]:r})}isSelectionMerged(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell(),n=this.getMergesIntersecting(t);return n.length===1&&Tw(n[0].range,t)}canMergeSelection(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell();if(t[0].r===t[1].r&&t[0].c===t[1].c)return!1;const r=this.frozenRows>0&&t[0].r<=this.frozenRows&&t[1].r>this.frozenRows,s=this.frozenCols>0&&t[0].c<=this.frozenCols&&t[1].c>this.frozenCols;return r||s?!1:this.getMergesIntersecting(t).length===0}async toggleMergeSelection(){return this.isSelectionMerged()?this.unmergeSelection():this.mergeSelection()}async mergeSelection(){if(!this.canMergeSelection())return!1;const t=this.getRangeOrActiveCell(),n=t[0],r={rs:t[1].r-t[0].r+1,cs:t[1].c-t[0].c+1},s=new Set;for(const a of this.mergeCoveredSrefs(n,r))s.add(a);this.store.beginBatch();try{for(let u=t[0].r;u<=t[1].r;u++)for(let d=t[0].c;d<=t[1].c;d++){if(u===n.r&&d===n.c)continue;const g={r:u,c:d},p=await this.store.get(g);p&&(p.s&&Object.keys(p.s).length>0?await this.store.set(g,{s:p.s}):await this.store.delete(g))}await this.store.setMerge(n,r),this.merges.set(at(n),r),this.rebuildMergeCoverMap();const a=this.expandChangedSrefsWithMergeAliases(s),l=await this.store.buildDependantsMap(a);await Tc(this,l,a)}finally{this.store.endBatch()}return this.selectionType="cell",this.setActiveCell(n),this.range=Ob(n,r),!0}async unmergeSelection(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell(),n=this.getMergesIntersecting(t);if(n.length===0)return!1;const r=new Set;for(const s of n)for(const a of this.mergeCoveredSrefs(s.anchor,s.span))r.add(a);this.store.beginBatch();try{for(const l of n)await this.store.deleteMerge(l.anchor),this.merges.delete(l.anchorSref);this.rebuildMergeCoverMap();const s=this.expandChangedSrefsWithMergeAliases(r),a=await this.store.buildDependantsMap(s);await Tc(this,a,s)}finally{this.store.endBatch()}return this.selectionType="cell",this.range=void 0,!0}async getActiveDecimalPlaces(){const t=await this.getStyle(this.activeCell);return(t==null?void 0:t.dp)??2}async undo(){const t=await this.store.undo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadMerges(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}async redo(){const t=await this.store.redo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadMerges(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}moveInRange(t,n){const r=this.range||this.dimensionRange;let s=this.activeCell.r,a=this.activeCell.c;const l=this.getMergeForRef(this.activeCell),u=r[1].r-r[0].r+1,d=r[1].c-r[0].c+1;if(t!==0){const g=t>0?l?l.span.rs:t:t<0?-1:0;s+g>r[1].r?(s=r[0].r,a=(a+1-r[0].c+d)%d+r[0].c):s+g<r[0].r?(s=r[1].r,a=(a-1-r[0].c+d)%d+r[0].c):s+=g}if(n!==0){const g=n>0?l?l.span.cs:n:n<0?-1:0;a+g>r[1].c?(a=r[0].c,s=(s+1-r[0].r+u)%u+r[0].r):a+g<r[0].c?(a=r[1].c,s=(s-1-r[0].r+u)%u+r[0].r):a+=g}this.setActiveCell(this.normalizeRefToAnchor({r:s,c:a}))}}class eq{constructor(t){q(this,"grid");q(this,"cellIndex",new xR);q(this,"rowHeights",new Map);q(this,"colWidths",new Map);q(this,"colStyles",new Map);q(this,"rowStyles",new Map);q(this,"sheetStyle");q(this,"merges",new Map);q(this,"frozenRows",0);q(this,"frozenCols",0);this.grid=t||new Map,this.rebuildIndex()}async set(t,n){this.grid.set(at(t),n),this.cellIndex.add(t.r,t.c)}async get(t){return this.grid.get(at(t))}async has(t){return this.grid.has(at(t))}async delete(t){const n=this.grid.delete(at(t));return n&&this.cellIndex.remove(t.r,t.c),n}async deleteRange(t){const n=new Set,r=[];for(const[s,a]of this.cellIndex.cellsInRange(t)){const l=at({r:s,c:a});this.grid.delete(l),n.add(l),r.push([s,a])}for(const[s,a]of r)this.cellIndex.remove(s,a);return n}async setGrid(t){for(const[n,r]of t){this.grid.set(n,r);const s=Pt(n);this.cellIndex.add(s.r,s.c)}}async getGrid(t){const n=new Map;for(const[r,s]of this.cellIndex.cellsInRange(t)){const a=at({r,c:s}),l=this.grid.get(a);l!==void 0&&n.set(a,l)}return n}async findEdge(t,n,r){return bR(this.cellIndex,t,n,r,(s,a)=>{const l=this.grid.get(at({r:s,c:a}));return l!==void 0&&(!!l.v||!!l.f)})}async shiftCells(t,n,r){this.grid=V7(this.grid,t,n,r),this.rebuildIndex(),t==="row"?(this.rowHeights=Hp(this.rowHeights,n,r),this.rowStyles=Hp(this.rowStyles,n,r)):(this.colWidths=Hp(this.colWidths,n,r),this.colStyles=Hp(this.colStyles,n,r)),this.merges=vR(this.merges,t,n,r)}async moveCells(t,n,r,s){this.grid=j7(this.grid,t,n,r,s),this.rebuildIndex(),t==="row"?(this.rowHeights=$p(this.rowHeights,n,r,s),this.rowStyles=$p(this.rowStyles,n,r,s)):(this.colWidths=$p(this.colWidths,n,r,s),this.colStyles=$p(this.colStyles,n,r,s)),this.merges=yR(this.merges,t,n,r,s)}async getFormulaGrid(){const t=new Map;for(const[n,r]of this.grid)r.f&&t.set(n,r);return t}async buildDependantsMap(t){const n=Array.from(this.grid.entries()),r=new Map;for(const[s,a]of n)if(a.f)for(const l of Hc(gv(a.f)))lh(l)||(r.has(l)||r.set(l,new Set),r.get(l).add(s));return r}getPresences(){return[]}async setDimensionSize(t,n,r){(t==="row"?this.rowHeights:this.colWidths).set(n,r)}async getDimensionSizes(t){return new Map(t==="row"?this.rowHeights:this.colWidths)}updateActiveCell(t){}async setColumnStyle(t,n){this.colStyles.set(t,n)}async getColumnStyles(){return new Map(this.colStyles)}async setRowStyle(t,n){this.rowStyles.set(t,n)}async getRowStyles(){return new Map(this.rowStyles)}async setSheetStyle(t){this.sheetStyle=t}async getSheetStyle(){return this.sheetStyle?{...this.sheetStyle}:void 0}async setMerge(t,n){this.merges.set(at(t),{...n})}async deleteMerge(t){return this.merges.delete(at(t))}async getMerges(){return new Map(this.merges)}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n}async getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=Pt(t);return[n.r,n.c]}))}}const tq={cellBorderColor:"#D3D3D3",cellBGColor:"#FFFFFF",cellTextColor:"#000000",activeCellColor:"#E6C746",selectionBGColor:"rgba(230, 199, 70, 0.1)",headerBGColor:"#F0F0F0",headerActiveBGColor:"#E6C746","tokens.REFERENCE":"#E6C746","tokens.NUM":"#4DA6FF",peerCursor1:"#FF6B6B",peerCursor2:"#4ECDC4",peerCursor3:"#45B7D1",peerCursor4:"#96CEB4",peerCursor5:"#FFEAA7",peerCursor6:"#DDA0DD",peerCursor7:"#98D8C8",peerCursor8:"#F7DC6F",resizeHandleColor:"#1A73E8",headerSelectedBGColor:"rgba(26, 115, 232, 0.3)",dropIndicatorColor:"#1A73E8",freezeLineColor:"#BBBBBB",freezeHandleColor:"#9E9E9E",freezeHandleHoverColor:"#5F6368",formulaRange1:"#1A73E8",formulaRange2:"#E84C3D",formulaRange3:"#9B59B6",formulaRange4:"#27AE60",formulaRange5:"#F39C12",formulaRange6:"#00ACC1"},nq={cellBorderColor:"#4A4A4A",cellBGColor:"#1E1E1E",cellTextColor:"#FFFFFF",activeCellColor:"#D4B73E",selectionBGColor:"rgba(212, 183, 62, 0.1)",headerBGColor:"#2D2D2D",headerActiveBGColor:"#D4B73E","tokens.REFERENCE":"#D4B73E","tokens.NUM":"#4DA6FF",peerCursor1:"#FF7979",peerCursor2:"#55EFC4",peerCursor3:"#74B9FF",peerCursor4:"#A4D4C4",peerCursor5:"#FDCB6E",peerCursor6:"#E17055",peerCursor7:"#81ECEC",peerCursor8:"#F8D84F",resizeHandleColor:"#8AB4F8",headerSelectedBGColor:"rgba(138, 180, 248, 0.3)",dropIndicatorColor:"#8AB4F8",freezeLineColor:"#5A5A5A",freezeHandleColor:"#8E8E8E",freezeHandleHoverColor:"#CCCCCC",formulaRange1:"#8AB4F8",formulaRange2:"#FF7979",formulaRange3:"#BB86FC",formulaRange4:"#66BB6A",formulaRange5:"#FFB74D",formulaRange6:"#4DD0E1"};function hr(e,t){return e==="light"?tq[t]:nq[t]}const DD=["formulaRange1","formulaRange2","formulaRange3","formulaRange4","formulaRange5","formulaRange6"];function hS(e,t){return hr(e,DD[t%DD.length])}function MD(e,t){const n=["peerCursor1","peerCursor2","peerCursor3","peerCursor4","peerCursor5","peerCursor6","peerCursor7","peerCursor8"];let r=0;for(let a=0;a<t.length;a++){const l=t.charCodeAt(a);r=(r<<5)-r+l,r=r&r}const s=Math.abs(r)%n.length;return hr(e,n[s])}function Qd(e){const t=window.getSelection();if(t.rangeCount===0)return;const n=t.getRangeAt(0);if(!e.contains(n.commonAncestorContainer))return;let r=0,s=0,a=0;function l(u){if(u.nodeType===Node.TEXT_NODE){const d=u.textContent;u===n.startContainer&&(s=r+n.startOffset),u===n.endContainer&&(a=r+n.endOffset),r+=d.length}for(const d of u.childNodes)l(d)}return l(e),{start:s,end:a}}function Xp(e,t){let n=0,r=null,s=null;const a=document.createRange();function l(d){if(d.nodeType===Node.TEXT_NODE){const g=d.textContent;r===null&&n+g.length>=t.start&&(r=d,a.setStart(d,t.start-n)),s===null&&n+g.length>=t.end&&(s=d,a.setEnd(d,t.end-n)),n+=g.length}for(const g of d.childNodes)l(g)}l(e);const u=window.getSelection();u.removeAllRanges(),u.addRange(a),e.focus()}function kk(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#039;"),e=e.replace(/\n/g,"<br>"),e=e.replace(/ /g,"&nbsp;"),e}const Bk=23,jk=10;class rq{constructor(t="light"){q(this,"sheet");q(this,"theme");q(this,"container");q(this,"cellLabel");q(this,"formulaInput");q(this,"boundRenderInput");this.theme=t,this.container=document.createElement("div"),this.container.style.height=`${Bk}px`,this.container.style.margin=`${jk}px 0px`,this.container.style.display="flex",this.container.style.alignItems="center",this.container.style.borderTop=`1px solid ${hr(this.theme,"cellBorderColor")}`,this.container.style.borderBottom=`1px solid ${hr(this.theme,"cellBorderColor")}`,this.container.style.justifyContent="flex-start",this.cellLabel=document.createElement("div"),this.cellLabel.style.width="120px",this.cellLabel.style.textAlign="center",this.cellLabel.style.font="12px Arial",this.cellLabel.style.borderRight=`1px solid ${hr(this.theme,"cellBorderColor")}`,this.container.appendChild(this.cellLabel),this.formulaInput=document.createElement("div"),this.formulaInput.contentEditable="true",this.formulaInput.style.margin="0 20px",this.formulaInput.style.width="100%",this.formulaInput.style.height="12px",this.formulaInput.style.border="none",this.formulaInput.style.font="12px Arial",this.formulaInput.style.outline="none",this.formulaInput.style.overflow="hidden",this.formulaInput.style.whiteSpace="nowrap",this.formulaInput.style.lineHeight="12px",this.container.appendChild(this.formulaInput),this.boundRenderInput=this.renderInput.bind(this),this.formulaInput.addEventListener("input",this.boundRenderInput)}getContainer(){return this.container}initialize(t){this.sheet=t}cleanup(){this.formulaInput.removeEventListener("input",this.boundRenderInput),this.sheet=void 0,this.container.remove()}async render(){if(!this.sheet)return;const t=this.sheet.getActiveCell(),n=this.sheet.getSelectionType(),r=this.sheet.getSelectedIndices();let s;if(n==="row"&&r)s=`${r.from}:${r.to}`;else if(n==="column"&&r){const a=Cv(r.from),l=Cv(r.to);s=`${a}:${l}`}else{const a=this.sheet.getRange();s=a?s7(a):at(t)}this.cellLabel.textContent=s,this.formulaInput.innerText=await this.sheet.toInputString(t),this.renderInput()}getFormulaInput(){return this.formulaInput}getValue(){return this.formulaInput.innerText}setValue(t){this.formulaInput.innerText=t,this.renderInput()}focus(){this.formulaInput.focus()}blur(){this.formulaInput.blur()}isFocused(){return document.activeElement===this.formulaInput}renderInput(){const t=this.formulaInput.innerText;if(!t.startsWith("="))return;const n=uf(t),r=[];let s=0;for(const l of n){if(l.type==="REFERENCE"){r.push(`<span style="color: ${hS(this.theme,s)}">${l.text}</span>`),s++;continue}if(l.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${l.text}</span>`);continue}r.push(kk(l.text))}const a=Qd(this.formulaInput);this.formulaInput.innerHTML="="+r.join(""),a&&Xp(this.formulaInput,a)}getThemeColor(t){return hr(this.theme,t)}}const Oa=100,et=23,it=50,Mc=13,pS=1.5,Nw=4,PC=5,_w=.5,iq="center",zk=4,oq=10;function jn(e,t={left:0,top:0},n,r){const s=r?r.getOffset(e.c):(e.c-1)*Oa,a=n?n.getOffset(e.r):(e.r-1)*et,l=r?r.getSize(e.c):Oa,u=n?n.getSize(e.r):et;return{left:s+it-t.left,top:a+et-t.top,width:l,height:u}}function tv(e,t){const n=Math.min(e.left,t.left),r=Math.min(e.top,t.top),s=Math.max(e.left+e.width,t.left+t.width),a=Math.max(e.top+e.height,t.top+t.height);return{left:n,top:r,width:s-n,height:a-r}}const s1={frozenRows:0,frozenCols:0,frozenWidth:0,frozenHeight:0};function sq(e,t,n,r){return e===0&&t===0?s1:{frozenRows:e,frozenCols:t,frozenWidth:t>0?r.getOffset(t+1):0,frozenHeight:e>0?n.getOffset(e+1):0}}function aq(e,t,n,r){const s=n?n.findIndex(t-et):Math.floor(t/et),a=r?r.findIndex(e-it):Math.floor((e+it)/Oa);return{r:s,c:a}}function lq(e,t,n,r,s,a){const l=a.frozenCols>0&&e<it+a.frozenWidth,u=a.frozenRows>0&&t<et+a.frozenHeight,d=l?e-it:e-it-a.frozenWidth+s.getOffset(a.frozenCols+1)+n.left,g=u?t-et:t-et-a.frozenHeight+r.getOffset(a.frozenRows+1)+n.top,p=s.findIndex(d),m=r.findIndex(g);return{r:Math.max(1,m),c:Math.max(1,p)}}function PD(e,t,n,r,s){const a=r.getOffset(e.c),l=n.getOffset(e.r),u=r.getSize(e.c),d=n.getSize(e.r),g=s.frozenCols>0&&e.c<=s.frozenCols,p=s.frozenRows>0&&e.r<=s.frozenRows,m=g?a+it:a+it-t.left-r.getOffset(s.frozenCols+1)+s.frozenWidth,x=p?l+et:l+et-t.top-n.getOffset(s.frozenRows+1)+s.frozenHeight;return{left:m,top:x,width:u,height:d}}class uq{constructor(t="light"){q(this,"container");q(this,"input");q(this,"theme");q(this,"boundHandleInput");q(this,"minWidth",Oa);q(this,"minHeight",et);q(this,"maxWidth",1/0);q(this,"maxHeight",1/0);q(this,"composing",!1);this.theme=t,this.container=document.createElement("div"),this.container.style.position="absolute",this.container.style.left="-1000px",this.container.style.width=Oa+"px",this.container.style.height=et+"px",this.container.style.zIndex="1",this.container.style.margin="0px",this.container.style.pointerEvents="none",this.input=document.createElement("div"),this.input.contentEditable="true",this.input.style.border="none",this.input.style.outline=`2px solid ${this.getThemeColor("activeCellColor")}`,this.input.style.fontFamily="Arial, sans-serif",this.input.style.fontSize=Mc+"px",this.input.style.fontWeight="normal",this.input.style.lineHeight=String(pS),this.input.style.color=this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=this.getThemeColor("cellBGColor"),this.input.style.whiteSpace="pre",this.input.style.overflow="hidden",this.container.appendChild(this.input),this.boundHandleInput=this.handleInput.bind(this),this.input.addEventListener("input",this.boundHandleInput),this.input.addEventListener("compositionstart",()=>{this.composing=!0}),this.input.addEventListener("compositionend",()=>{this.composing=!1,this.adjustSize()})}cleanup(){this.input.removeEventListener("input",this.boundHandleInput),this.container.remove()}getContainer(){return this.container}getInput(){return this.input}show(t,n,r="",s=!0,a,l,u,d){this.minWidth=a??Oa,this.minHeight=l??et,this.maxWidth=u??1/0,this.maxHeight=d??1/0,this.container.style.left=t+"px",this.container.style.top=n+"px",this.container.style.pointerEvents="auto",this.input.innerText=r,this.renderInput(),this.adjustSize(),s&&(Xp(this.input,{start:this.input.innerText.length,end:this.input.innerText.length}),this.input.focus())}hide(){this.container.style.left="-1000px",this.container.style.pointerEvents="none",this.input.innerText="",this.input.blur()}isShown(){return this.container.style.left!=="-1000px"}isFocused(){return document.activeElement===this.input}getValue(){return this.input.innerText}setValue(t){this.input.innerText=t,this.renderInput(),this.adjustSize()}hasFormula(){return this.input.innerText.startsWith("=")}applyStyle(t){this.input.style.fontWeight=t!=null&&t.b?"bold":"normal",this.input.style.fontStyle=t!=null&&t.i?"italic":"normal";const n=[];t!=null&&t.u&&n.push("underline"),t!=null&&t.st&&n.push("line-through"),this.input.style.textDecoration=n.length?n.join(" "):"none",this.input.style.color=(t==null?void 0:t.tc)||this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=(t==null?void 0:t.bg)||this.getThemeColor("cellBGColor"),this.input.style.textAlign=(t==null?void 0:t.al)||"left";const r=(t==null?void 0:t.va)||"top";this.container.style.display="flex",this.container.style.alignItems=r==="middle"?"center":r==="bottom"?"flex-end":"flex-start"}handleInput(){this.renderInput(),this.composing||this.adjustSize()}adjustSize(){this.input.style.width=this.minWidth+"px",this.input.style.height=this.minHeight+"px";const t=Math.min(Math.max(this.minWidth,this.input.scrollWidth),this.maxWidth),n=Math.min(Math.max(this.minHeight,this.input.scrollHeight),this.maxHeight);this.container.style.width=t+"px",this.container.style.height=n+"px",this.input.style.width=t+"px",this.input.style.height=n+"px",this.input.style.overflowY=this.input.scrollHeight>this.maxHeight?"auto":"hidden"}renderInput(){const t=this.input.innerText;if(!t.startsWith("="))return;const n=uf(t),r=[];let s=0;for(const l of n){if(l.type==="REFERENCE"){r.push(`<span style="color: ${hS(this.theme,s)}">${l.text}</span>`),s++;continue}if(l.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${l.text}</span>`);continue}r.push(kk(l.text))}const a=Qd(this.input);this.input.innerHTML="="+r.join(""),a&&Xp(this.input,a)}getThemeColor(t){return hr(this.theme,t)}}class cq{constructor(t="light"){q(this,"canvas");q(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="1",this.canvas.style.pointerEvents="none"}cleanup(){this.canvas.remove()}getContainer(){return this.canvas}render(t,n,r,s,a,l,u,d,g,p,m,x=s1,b,A,C){this.canvas.width=0,this.canvas.height=0;const w=this.canvas.getContext("2d"),R=window.devicePixelRatio||1;this.canvas.width=t.width*R,this.canvas.height=t.height*R,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",w.scale(R,R);const I=x.frozenRows>0||x.frozenCols>0,N=this.buildMergeRenderData(C);if(!I)this.renderActiveCellSimple(w,r,n,l,u,N),this.renderSelectionSimple(w,t,n,a,g,l,u),this.renderPeerCursorsSimple(w,t,s,n,l,u,N),this.renderFormulaRangesSimple(w,m,n,l,u),this.renderCopyRangeSimple(w,A,n,l,u);else{const D=this.buildQuadrants(t,n,x,l,u);this.renderSelectionFrozen(w,t,n,a,g,l,u,x,D);for(const L of D){w.save(),w.beginPath(),w.rect(L.x,L.y,L.width,L.height),w.clip();const k=this.toCellRect(r,{left:L.scrollLeft,top:L.scrollTop},l,u,N);w.strokeStyle=this.getThemeColor("activeCellColor"),w.lineWidth=2,w.strokeRect(k.left,k.top,k.width,k.height),w.restore()}for(const{clientID:L,presence:k}of s){if(!k.activeCell)continue;const j=Pt(k.activeCell),B=MD(this.theme,L);for(const $ of D){w.save(),w.beginPath(),w.rect($.x,$.y,$.width,$.height),w.clip();const K=this.toCellRect(j,{left:$.scrollLeft,top:$.scrollTop},l,u,N);K.left>=-K.width&&K.left<t.width&&K.top>=-K.height&&K.top<t.height&&(w.strokeStyle=B,w.lineWidth=2,w.strokeRect(K.left,K.top,K.width,K.height)),w.restore()}}if(m&&m.length>0)for(let L=0;L<m.length;L++){const k=m[L],j=hS(this.theme,L);for(const B of D){w.save(),w.beginPath(),w.rect(B.x,B.y,B.width,B.height),w.clip();const $={left:B.scrollLeft,top:B.scrollTop},K=tv(jn(k[0],$,l,u),jn(k[1],$,l,u));w.strokeStyle=j,w.lineWidth=2,w.strokeRect(K.left,K.top,K.width,K.height),w.fillStyle=j+"20",w.fillRect(K.left,K.top,K.width,K.height),w.restore()}}if(A)for(const L of D){w.save(),w.beginPath(),w.rect(L.x,L.y,L.width,L.height),w.clip();const k={left:L.scrollLeft,top:L.scrollTop};this.drawCopyRangeBorder(w,A,k,l,u),w.restore()}}d&&u&&l&&this.renderResizeHover(w,t,n,d,l,u,x),p&&u&&l&&this.renderDragMoveIndicator(w,t,n,p,l,u,x),b&&u&&l&&this.renderFreezeDragPreview(w,t,b,l,u)}buildQuadrants(t,n,r,s,a){const l=r.frozenWidth,u=r.frozenHeight,d=s?s.getOffset(r.frozenRows+1):0,g=a?a.getOffset(r.frozenCols+1):0,p=[];return p.push({x:it+l,y:et+u,width:t.width-it-l,height:t.height-et-u,scrollLeft:n.left+g-l,scrollTop:n.top+d-u}),r.frozenRows>0&&p.push({x:it+l,y:et,width:t.width-it-l,height:u,scrollLeft:n.left+g-l,scrollTop:0}),r.frozenCols>0&&p.push({x:it,y:et+u,width:l,height:t.height-et-u,scrollLeft:0,scrollTop:n.top+d-u}),r.frozenRows>0&&r.frozenCols>0&&p.push({x:it,y:et,width:l,height:u,scrollLeft:0,scrollTop:0}),p}renderActiveCellSimple(t,n,r,s,a,l){const u=this.toCellRect(n,r,s,a,l);t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.strokeRect(u.left,u.top,u.width,u.height)}renderSelectionSimple(t,n,r,s,a,l,u){if(a==="all")t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,et,n.width-it,n.height-et);else if(s)if(a==="row"){const d=jn(s[0],r,l,u),g=jn(s[1],r,l,u),p=d.top,m=g.top+g.height-d.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,p,n.width-it,m),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(it,p,n.width-it,m)}else if(a==="column"){const d=jn(s[0],r,l,u),g=jn(s[1],r,l,u),p=d.left,m=g.left+g.width-d.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(p,et,m,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(p,et,m,n.height-et)}else{const d=tv(jn(s[0],r,l,u),jn(s[1],r,l,u));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(d.left,d.top,d.width,d.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(d.left,d.top,d.width,d.height)}}renderPeerCursorsSimple(t,n,r,s,a,l,u){for(const{clientID:d,presence:g}of r){if(!g.activeCell)continue;const p=Pt(g.activeCell),m=this.toCellRect(p,s,a,l,u);if(m.left>=-m.width&&m.left<n.width&&m.top>=-m.height&&m.top<n.height){const x=MD(this.theme,d);t.strokeStyle=x,t.lineWidth=2,t.strokeRect(m.left,m.top,m.width,m.height)}}}renderFormulaRangesSimple(t,n,r,s,a){if(!(!n||n.length===0))for(let l=0;l<n.length;l++){const u=n[l],d=tv(jn(u[0],r,s,a),jn(u[1],r,s,a)),g=hS(this.theme,l);t.strokeStyle=g,t.lineWidth=2,t.strokeRect(d.left,d.top,d.width,d.height),t.fillStyle=g+"20",t.fillRect(d.left,d.top,d.width,d.height)}}renderCopyRangeSimple(t,n,r,s,a){n&&this.drawCopyRangeBorder(t,n,r,s,a)}drawCopyRangeBorder(t,n,r,s,a){const l=tv(jn(n[0],r,s,a),jn(n[1],r,s,a));t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.setLineDash([5,3]),t.strokeRect(l.left,l.top,l.width,l.height),t.setLineDash([])}renderSelectionFrozen(t,n,r,s,a,l,u,d,g){if(a==="all"){t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,et,n.width-it,n.height-et);return}if(s)for(const p of g){t.save(),t.beginPath(),t.rect(p.x,p.y,p.width,p.height),t.clip();const m={left:p.scrollLeft,top:p.scrollTop};if(a==="row"){const x=jn(s[0],m,l,u),b=jn(s[1],m,l,u),A=x.top,C=b.top+b.height-x.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,A,n.width-it,C),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(it,A,n.width-it,C)}else if(a==="column"){const x=jn(s[0],m,l,u),b=jn(s[1],m,l,u),A=x.left,C=b.left+b.width-x.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(A,et,C,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(A,et,C,n.height-et)}else{const x=tv(jn(s[0],m,l,u),jn(s[1],m,l,u));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(x.left,x.top,x.width,x.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(x.left,x.top,x.width,x.height)}t.restore()}}renderResizeHover(t,n,r,s,a,l,u){if(t.strokeStyle=this.getThemeColor("resizeHandleColor"),t.lineWidth=2,s.axis==="column"){const g=u.frozenCols>0&&s.index<=u.frozenCols?0:r.left+l.getOffset(u.frozenCols+1)-u.frozenWidth,p=it+l.getOffset(s.index)+l.getSize(s.index)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=u.frozenRows>0&&s.index<=u.frozenRows?0:r.top+a.getOffset(u.frozenRows+1)-u.frozenHeight,p=et+a.getOffset(s.index)+a.getSize(s.index)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderDragMoveIndicator(t,n,r,s,a,l,u){if(t.strokeStyle=this.getThemeColor("dropIndicatorColor"),t.lineWidth=3,s.axis==="column"){const g=u.frozenCols>0&&s.dropIndex<=u.frozenCols?0:r.left+l.getOffset(u.frozenCols+1)-u.frozenWidth,p=it+l.getOffset(s.dropIndex)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=u.frozenRows>0&&s.dropIndex<=u.frozenRows?0:r.top+a.getOffset(u.frozenRows+1)-u.frozenHeight,p=et+a.getOffset(s.dropIndex)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderFreezeDragPreview(t,n,r,s,a){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,r.axis==="row"){const l=r.targetIndex===0?et:et+s.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(0,l),t.lineTo(n.width,l),t.stroke()}else{const l=r.targetIndex===0?it:it+a.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(l,0),t.lineTo(l,n.height),t.stroke()}}getThemeColor(t){return hr(this.theme,t)}buildMergeRenderData(t){if(!t||t.size===0)return;const n=new Map,r=new Map;for(const[s,a]of t){n.set(s,a);const l=Pt(s);for(let u=l.r;u<l.r+a.rs;u++)for(let d=l.c;d<l.c+a.cs;d++){const g=at({r:u,c:d});g!==s&&r.set(g,s)}}return{anchors:n,coverToAnchor:r}}toCellRect(t,n,r,s,a){const l=at(t),u=(a==null?void 0:a.coverToAnchor.get(l))||l,d=Pt(u),g=a==null?void 0:a.anchors.get(u),p=jn(d,n,r,s);if(!g||g.rs===1&&g.cs===1)return p;const m=jn({r:d.r+g.rs-1,c:d.c+g.cs-1},n,r,s);return{left:p.left,top:p.top,width:m.left+m.width-p.left,height:m.top+m.height-p.top}}}const Db=1e7;class fq{constructor(t="light"){q(this,"container");q(this,"scrollContainer");q(this,"dummyContainer");q(this,"actualWidth",0);q(this,"actualHeight",0);this.createContainers()}createContainers(){this.container=document.createElement("div"),this.container.style.position="relative",this.container.style.width="100%",this.container.style.height=`calc(100% - ${Bk+jk*2}px)`,this.scrollContainer=document.createElement("div"),this.scrollContainer.style.position="absolute",this.scrollContainer.style.overflow="auto",this.scrollContainer.style.width="100%",this.scrollContainer.style.height="100%",this.scrollContainer.style.zIndex="1",this.dummyContainer=document.createElement("div"),this.dummyContainer.style.margin="0px",this.dummyContainer.style.padding="0px",this.dummyContainer.style.pointerEvents="none",this.scrollContainer.appendChild(this.dummyContainer),this.container.appendChild(this.scrollContainer)}getContainer(){return this.container}getScrollContainer(){return this.scrollContainer}getDummyContainer(){return this.dummyContainer}updateDummySize(t,n){this.actualWidth=t,this.actualHeight=n;const r=Math.min(t,Db),s=Math.min(n,Db);this.dummyContainer.style.width=r+"px",this.dummyContainer.style.height=s+"px"}appendChild(t){this.container.appendChild(t)}getViewport(){return this.scrollContainer.getBoundingClientRect()}getScrollPosition(){const t=this.scrollContainer.scrollLeft,n=this.scrollContainer.scrollTop,r=this.scrollContainer.getBoundingClientRect();return{left:this.toLogical(t,this.actualWidth,r.width),top:this.toLogical(n,this.actualHeight,r.height)}}setScrollPosition(t){const n=this.scrollContainer.getBoundingClientRect();t.left!==void 0&&(this.scrollContainer.scrollLeft=this.toPhysical(t.left,this.actualWidth,n.width)),t.top!==void 0&&(this.scrollContainer.scrollTop=this.toPhysical(t.top,this.actualHeight,n.height))}scrollBy(t,n){const r=this.scrollContainer.getBoundingClientRect(),s=this.needsRemap(this.actualWidth,r.width)?t*this.physicalMax(this.actualWidth,r.width)/this.logicalMax(this.actualWidth,r.width):t,a=this.needsRemap(this.actualHeight,r.height)?n*this.physicalMax(this.actualHeight,r.height)/this.logicalMax(this.actualHeight,r.height):n;this.scrollContainer.scrollBy(s,a)}addEventListener(t,n,r){this.scrollContainer.addEventListener(t,n,r)}removeEventListener(t,n,r){this.scrollContainer.removeEventListener(t,n,r)}cleanup(){this.container.remove()}needsRemap(t,n){return t>Db&&n<t}cappedSize(t){return Math.min(t,Db)}physicalMax(t,n){return Math.max(0,this.cappedSize(t)-n)}logicalMax(t,n){return Math.max(0,t-n)}clamp(t,n,r){return r<=n?n:Math.min(r,Math.max(n,t))}toLogical(t,n,r){const s=this.logicalMax(n,r);if(!this.needsRemap(n,r))return this.clamp(t,0,s);const a=this.physicalMax(n,r);return a<=0||s<=0?0:this.clamp(t,0,a)*s/a}toPhysical(t,n,r){const s=this.logicalMax(n,r);if(!this.needsRemap(n,r))return this.clamp(t,0,s);if(s<=0)return 0;const a=this.physicalMax(n,r);return this.clamp(t,0,s)*a/s}}class dq{constructor(t="light"){q(this,"canvas");q(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.pointerEvents="none"}getCanvas(){return this.canvas}render(t,n,r,s,a,l,u,d,g,p=s1,m=null,x,b,A,C){this.canvas.width=0,this.canvas.height=0;const w=this.canvas.getContext("2d"),R=window.devicePixelRatio||1;this.canvas.width=t.width*R,this.canvas.height=t.height*R,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",w.scale(R,R);const[I,N]=r,D=this.buildMergeRenderData(C);if(!(p.frozenRows>0||p.frozenCols>0))this.renderQuadrantCells(w,I.r,N.r+1,I.c,N.c+1,a,n,l,u,x,b,A,D),this.renderColumnHeaders(w,I.c,N.c,n.left,it,t.width,s,d,g,l,u),this.renderRowHeaders(w,I.r,N.r,n.top,et,t.height,s,d,g,l,u);else{const j=p.frozenWidth,B=p.frozenHeight,$=p.frozenRows,K=p.frozenCols,ne=$+1,re=K+1,Se=Math.max(ne,I.r),Me=Math.max(re,I.c),Oe=l?l.getOffset(ne):$*et,ie=u?u.getOffset(re):K*Oa;w.save(),w.beginPath(),w.rect(it+j,et+B,t.width-it-j,t.height-et-B),w.clip(),this.renderQuadrantCells(w,Se,N.r+1,Me,N.c+1,a,{left:n.left+ie-j,top:n.top+Oe-B},l,u,x,b,A),w.restore(),$>0&&(w.save(),w.beginPath(),w.rect(it+j,et,t.width-it-j,B),w.clip(),this.renderQuadrantCells(w,1,$+1,Me,N.c+1,a,{left:n.left+ie-j,top:0},l,u,x,b,A,D),w.restore()),K>0&&(w.save(),w.beginPath(),w.rect(it,et+B,j,t.height-et-B),w.clip(),this.renderQuadrantCells(w,Se,N.r+1,1,K+1,a,{left:0,top:n.top+Oe-B},l,u,x,b,A,D),w.restore()),$>0&&K>0&&(w.save(),w.beginPath(),w.rect(it,et,j,B),w.clip(),this.renderQuadrantCells(w,1,$+1,1,K+1,a,{left:0,top:0},l,u,x,b,A,D),w.restore()),K>0&&this.renderColumnHeaders(w,1,K,0,it,it+j,s,d,g,l,u),this.renderColumnHeaders(w,Me,N.c,n.left+ie-j,it+j,t.width,s,d,g,l,u),$>0&&this.renderRowHeaders(w,1,$,0,et,et+B,s,d,g,l,u),this.renderRowHeaders(w,Se,N.r,n.top+Oe-B,et+B,t.height,s,d,g,l,u),this.renderFreezeLines(w,t,j,B)}const k=d==="all";w.fillStyle=k?this.getThemeColor("headerSelectedBGColor"):this.getThemeColor("headerBGColor"),w.fillRect(0,0,it,et),w.strokeStyle=this.getThemeColor("cellBorderColor"),w.lineWidth=_w,w.strokeRect(0,0,it,et),this.renderFreezeHandles(w,p,m)}renderQuadrantCells(t,n,r,s,a,l,u,d,g,p,m,x,b){for(let A=n;A<=r;A++){const C=m==null?void 0:m.get(A);for(let w=s;w<=a;w++){const R=at({r:A,c:w});if(b!=null&&b.coverToAnchor.has(R))continue;const I=l==null?void 0:l.get(at({r:A,c:w})),N=b==null?void 0:b.anchors.get(R),D=p==null?void 0:p.get(w);let L;(x||D||C||I!=null&&I.s)&&(L={...x,...D,...C,...I==null?void 0:I.s}),this.renderCellBackground(t,{r:A,c:w},I,u,d,g,L,N)}}for(let A=n;A<=r;A++){const C=m==null?void 0:m.get(A);for(let w=s;w<=a;w++){const R=at({r:A,c:w});if(b!=null&&b.coverToAnchor.has(R))continue;const I=l==null?void 0:l.get(at({r:A,c:w})),N=b==null?void 0:b.anchors.get(R),D=p==null?void 0:p.get(w);let L;(x||D||C||I!=null&&I.s)&&(L={...x,...D,...C,...I==null?void 0:I.s}),this.renderCellContent(t,{r:A,c:w},I,u,d,g,L,l,a,N)}}}renderColumnHeaders(t,n,r,s,a,l,u,d,g,p,m){t.save(),t.beginPath(),t.rect(a,0,l-a,et),t.clip();for(let x=n;x<=r;x++){const b=m?m.getOffset(x):Oa*(x-1),A=m?m.getSize(x):Oa,C=it+b-s,w=0,R=d==="all"||d==="column"&&g&&x>=g[0].c&&x<=g[1].c;this.renderHeader(t,C,w,A,et,Cv(x),u.c===x,R||!1)}t.restore()}renderRowHeaders(t,n,r,s,a,l,u,d,g,p,m){t.save(),t.beginPath(),t.rect(0,a,it,l-a),t.clip();for(let x=n;x<=r;x++){const b=p?p.getOffset(x):et*(x-1),A=p?p.getSize(x):et,C=0,w=b+et-s,R=d==="all"||d==="row"&&g&&x>=g[0].r&&x<=g[1].r;this.renderHeader(t,C,w,it,A,String(x),u.r===x,R||!1)}t.restore()}renderFreezeLines(t,n,r,s){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,s>0){const a=et+s;t.beginPath(),t.moveTo(0,a),t.lineTo(n.width,a),t.stroke()}if(r>0){const a=it+r;t.beginPath(),t.moveTo(a,0),t.lineTo(a,n.height),t.stroke()}}renderFreezeHandles(t,n,r){const s=n.frozenRows>0||n.frozenCols>0,a=zk,l=s&&n.frozenRows>0?et+n.frozenHeight-a/2:et-a,u=r==="row";t.fillStyle=u?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(0,l,it,a);const d=s&&n.frozenCols>0?it+n.frozenWidth-a/2:it-a,g=r==="column";t.fillStyle=g?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(d,0,a,et)}renderHeader(t,n,r,s,a,l,u,d=!1){t.fillStyle=d?this.getThemeColor("headerSelectedBGColor"):u?this.getThemeColor("headerActiveBGColor"):this.getThemeColor("headerBGColor"),t.fillRect(n,r,s,a),t.strokeStyle=this.getThemeColor("cellBorderColor"),t.lineWidth=_w,t.strokeRect(n,r,s,a),t.fillStyle=this.getThemeColor("cellTextColor"),t.textAlign=iq,t.font=u||d?"bold 10px Arial":"10px Arial",t.fillText(l,n+s/2,r+Math.min(15,a-4))}renderCellBackground(t,n,r,s,a,l,u,d){const g=this.toCellRect(n,s,a,l,d),p=u??(r==null?void 0:r.s);t.strokeStyle=this.getThemeColor("cellTextColor"),t.lineWidth=_w,t.strokeRect(g.left,g.top,g.width,g.height),t.fillStyle=(p==null?void 0:p.bg)||this.getThemeColor("cellBGColor"),t.fillRect(g.left,g.top,g.width,g.height)}renderCellContent(t,n,r,s,a,l,u,d,g,p){const m=this.toCellRect(n,s,a,l,p),x=u??(r==null?void 0:r.s),b=(r==null?void 0:r.v)||"";if(b){const A=Fk(b,x==null?void 0:x.nf,x==null?void 0:x.dp),C=A.split(`
`),w=[];x!=null&&x.b&&w.push("bold"),x!=null&&x.i&&w.push("italic"),w.push(`${Mc}px Arial`);const R=w.join(" ");let I=m.width;const N=(x==null?void 0:x.al)||"left";if(!p&&C.length===1&&N==="left"&&d&&l&&g){t.save(),t.font=R;const B=t.measureText(A).width+Nw*2;if(t.restore(),B>m.width){let $=0;for(let K=n.c+1;K<=g;K++){const ne=d.get(at({r:n.r,c:K}));if(ne&&(ne.v||ne.f))break;const re=l.getSize(K);if($+=re,m.width+$>=B)break}I=m.width+$}}t.save(),t.beginPath(),t.rect(m.left,m.top,I,m.height),t.clip(),t.fillStyle=(x==null?void 0:x.tc)||this.getThemeColor("cellTextColor"),t.font=R,t.textBaseline="top";let D;N==="center"?(t.textAlign="center",D=m.left+m.width/2):N==="right"?(t.textAlign="right",D=m.left+m.width-Nw):(t.textAlign="left",D=m.left+Nw);const L=(x==null?void 0:x.va)||"top",k=C.length*Mc*pS;let j;L==="middle"?j=m.top+(m.height-k)/2:L==="bottom"?j=m.top+m.height-k-PC:j=m.top+PC;for(let B=0;B<C.length;B++){const $=j+B*(Mc*pS);if(t.fillText(C[B],D,$),x!=null&&x.u){const K=t.measureText(C[B]),ne=$+Mc+1;let re;N==="center"?re=D-K.width/2:N==="right"?re=D-K.width:re=D,t.beginPath(),t.strokeStyle=(x==null?void 0:x.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(re,ne),t.lineTo(re+K.width,ne),t.stroke()}if(x!=null&&x.st){const K=t.measureText(C[B]),ne=$+Mc/2;let re;N==="center"?re=D-K.width/2:N==="right"?re=D-K.width:re=D,t.beginPath(),t.strokeStyle=(x==null?void 0:x.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(re,ne),t.lineTo(re+K.width,ne),t.stroke()}}t.restore()}}buildMergeRenderData(t){if(!t||t.size===0)return;const n=new Map,r=new Map;for(const[s,a]of t){n.set(s,a);const l=Pt(s);for(let u=l.r;u<l.r+a.rs;u++)for(let d=l.c;d<l.c+a.cs;d++){const g=at({r:u,c:d});g!==s&&r.set(g,s)}}return{anchors:n,coverToAnchor:r}}toCellRect(t,n,r,s,a){const l=jn(t,n,r,s);if(!a||a.rs===1&&a.cs===1)return l;const u=jn({r:t.r+a.rs-1,c:t.c+a.cs-1},n,r,s);return{left:l.left,top:l.top,width:u.left+u.width-l.left,height:u.top+u.height-l.top}}getThemeColor(t){return hr(this.theme,t)}cleanup(){this.canvas.remove()}}class hq{constructor(t="light"){q(this,"container");q(this,"theme");this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="160px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.applyTheme(),this.handleDocumentClick=this.handleDocumentClick.bind(this)}getContainer(){return this.container}show(t,n,r){this.container.innerHTML="";for(const s of r){const a=document.createElement("div");a.textContent=s.label,a.style.padding="6px 16px",a.style.cursor="pointer",a.style.color=hr(this.theme,"cellTextColor"),a.addEventListener("mouseenter",()=>{a.style.backgroundColor=hr(this.theme,"selectionBGColor")}),a.addEventListener("mouseleave",()=>{a.style.backgroundColor="transparent"}),a.addEventListener("mousedown",l=>{l.preventDefault(),l.stopPropagation(),this.hide(),s.action()}),this.container.appendChild(a)}this.container.style.left=`${t}px`,this.container.style.top=`${n}px`,this.container.style.display="block",document.addEventListener("mousedown",this.handleDocumentClick)}hide(){this.container.style.display="none",document.removeEventListener("mousedown",this.handleDocumentClick)}cleanup(){this.hide(),this.container.remove()}handleDocumentClick(t){this.container.contains(t.target)||this.hide()}applyTheme(){this.container.style.backgroundColor=hr(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${hr(this.theme,"cellBorderColor")}`}}const Vk=[{name:"SUM",description:"Returns the sum of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"IF",description:"Returns one value if true and another if false",args:[{name:"condition"},{name:"value_if_true"},{name:"value_if_false",optional:!0}]},{name:"AND",description:"Returns TRUE if all arguments are true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"OR",description:"Returns TRUE if any argument is true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"NOT",description:"Returns the opposite of a logical value",args:[{name:"logical"}]},{name:"AVERAGE",description:"Returns the average of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MIN",description:"Returns the smallest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MAX",description:"Returns the largest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"COUNT",description:"Counts the number of numeric values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTA",description:"Counts the number of non-empty values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"TRIM",description:"Removes leading and trailing whitespace from text",args:[{name:"text"}]},{name:"LEN",description:"Returns the number of characters in a text string",args:[{name:"text"}]},{name:"LEFT",description:"Returns the leftmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"RIGHT",description:"Returns the rightmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"MID",description:"Returns characters from the middle of a text string",args:[{name:"text"},{name:"start_num"},{name:"num_chars"}]},{name:"CONCATENATE",description:"Joins two or more text strings into one",args:[{name:"text1"},{name:"text2"},{name:"text3",optional:!0,repeating:!0}]},{name:"TODAY",description:"Returns the current date",args:[]},{name:"NOW",description:"Returns the current date and time",args:[]},{name:"YEAR",description:"Returns the year from a date",args:[{name:"date"}]},{name:"MONTH",description:"Returns the month from a date (1-12)",args:[{name:"date"}]},{name:"DAY",description:"Returns the day of the month from a date (1-31)",args:[{name:"date"}]},{name:"IFERROR",description:"Returns a value if no error, otherwise returns an alternate value",args:[{name:"value"},{name:"value_if_error"}]}];function pq(e){const t=e.toUpperCase();return Vk.filter(n=>n.name.startsWith(t))}function gq(e){const t=e.toUpperCase();return Vk.find(n=>n.name===t)}function mq(e){const t=e.args.map(n=>{let r=n.optional?`[${n.name}]`:n.name;return n.repeating&&(r+=", ..."),r});return`${e.name}(${t.join(", ")})`}function vq(e,t){if(!e.startsWith("="))return{type:"none"};const n=e.slice(1,t);let r=0,s=0;for(let l=n.length-1;l>=0;l--){const u=n[l];if(u===")")r++;else if(u==="(")if(r>0)r--;else{const d=n.slice(0,l).match(/([A-Za-z_]\w*)$/);return d?{type:"argument",funcName:d[1].toUpperCase(),argIndex:s}:{type:"none"}}else u===","&&r===0&&s++}const a=n.match(/([A-Za-z_]\w*)$/);return a?{type:"function-name",prefix:a[1]}:{type:"none"}}class yq{constructor(t="light"){q(this,"container");q(this,"theme");q(this,"selectedIndex",0);q(this,"matches",[]);q(this,"mode","hidden");q(this,"currentHint",null);this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="220px",this.container.style.maxWidth="360px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.container.style.overflow="hidden",this.applyTheme()}getContainer(){return this.container}showList(t,n){if(this.matches=pq(t),this.matches.length===0){this.hide();return}this.mode="list",this.selectedIndex=0,this.renderList(),this.positionAt(n),this.container.style.display="block"}showHint(t,n,r){const s=gq(t);if(!s){this.hide();return}this.mode="hint",this.currentHint={info:s,argIndex:n},this.renderHint(),this.positionAt(r),this.container.style.display="block"}hide(){this.mode="hidden",this.matches=[],this.currentHint=null,this.container.style.display="none",this.container.innerHTML=""}moveUp(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex-1+this.matches.length)%this.matches.length,this.renderList())}moveDown(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex+1)%this.matches.length,this.renderList())}getSelectedFunction(){if(this.mode==="list")return this.matches[this.selectedIndex]}isListVisible(){return this.mode==="list"}isHintVisible(){return this.mode==="hint"}cleanup(){this.hide(),this.container.remove()}positionAt(t){this.container.style.left=`${t.left}px`,this.container.style.top=`${t.top}px`}renderList(){this.container.innerHTML="";const t=hr(this.theme,"cellBGColor"),n=hr(this.theme,"cellTextColor"),r=hr(this.theme,"selectionBGColor"),s=hr(this.theme,"activeCellColor");for(let a=0;a<this.matches.length;a++){const l=this.matches[a],u=document.createElement("div");u.style.padding="4px 10px",u.style.cursor="pointer",u.style.display="flex",u.style.flexDirection="column",u.style.gap="1px",u.style.backgroundColor=a===this.selectedIndex?r:t;const d=document.createElement("div");d.style.fontWeight="600",d.style.color=a===this.selectedIndex?s:n,d.textContent=l.name;const g=document.createElement("div");g.style.fontSize="11px",g.style.opacity="0.7",g.style.color=n,g.textContent=l.description,u.appendChild(d),u.appendChild(g),u.addEventListener("mouseenter",()=>{this.selectedIndex=a,this.renderList()}),u.addEventListener("mousedown",p=>{p.preventDefault(),p.stopPropagation()}),this.container.appendChild(u)}}renderHint(){if(this.container.innerHTML="",!this.currentHint)return;const{info:t,argIndex:n}=this.currentHint,r=hr(this.theme,"cellTextColor"),s=hr(this.theme,"activeCellColor"),a=document.createElement("div");a.style.padding="6px 10px",a.style.color=r,a.style.whiteSpace="nowrap";const l=document.createElement("span");l.style.fontWeight="600",l.textContent=t.name+"(",a.appendChild(l);for(let d=0;d<t.args.length;d++){d>0&&a.appendChild(document.createTextNode(", "));const g=t.args[d];let p=g.optional?`[${g.name}]`:g.name;g.repeating&&(p+=", ...");const m=document.createElement("span");(d===n||d===t.args.length-1&&g.repeating&&n>=d)&&(m.style.fontWeight="700",m.style.color=s),m.textContent=p,a.appendChild(m)}a.appendChild(document.createTextNode(")"));const u=document.createElement("div");u.style.fontSize="11px",u.style.opacity="0.7",u.style.color=r,u.style.padding="2px 10px 4px",u.textContent=mq(t)+"  "+t.description,this.container.appendChild(a),this.container.appendChild(u)}applyTheme(){this.container.style.backgroundColor=hr(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${hr(this.theme,"cellBorderColor")}`}}const Mb=4,xq=10,LD=20,FD=120,kD=300,bq=1800;class Sq{constructor(t,n="light",r=!1){q(this,"sheet");q(this,"container");q(this,"formulaBar");q(this,"cellInput");q(this,"overlay");q(this,"gridContainer");q(this,"gridCanvas");q(this,"contextMenu");q(this,"autocomplete");q(this,"rowDim");q(this,"colDim");q(this,"listeners",[]);q(this,"resizeObserver");q(this,"boundRender");q(this,"boundHandleGridKeydown");q(this,"boundHandleFormulaKeydown");q(this,"boundHandleCellInputKeydown");q(this,"boundHandleMouseDown");q(this,"boundHandleDblClick");q(this,"boundHandleKeyDown");q(this,"boundHandleKeyUp");q(this,"boundHandleMouseMove");q(this,"boundHandleContextMenu");q(this,"resizeHover",null);q(this,"dragMove",null);q(this,"editMode",!1);q(this,"manuallyResizedRows",new Set);q(this,"formulaRanges",[]);q(this,"freezeState",s1);q(this,"freezeHandleHover",null);q(this,"freezeDrag",null);q(this,"onRenderCallback");q(this,"readOnly");q(this,"formulaRangeAnchor",null);q(this,"activeFormulaInput",null);q(this,"formulaRefInsertPos",null);q(this,"lastFormulaRefTarget",null);this.container=t,this.readOnly=r,this.formulaBar=new rq(n),this.gridContainer=new fq(n),this.overlay=new cq(n),this.gridCanvas=new dq(n),this.cellInput=new uq(n),this.contextMenu=new hq(n),this.autocomplete=new yq(n),this.rowDim=new _D(et),this.colDim=new _D(Oa),this.gridContainer.appendChild(this.overlay.getContainer()),this.gridContainer.appendChild(this.gridCanvas.getCanvas()),this.gridContainer.appendChild(this.cellInput.getContainer()),this.container.appendChild(this.formulaBar.getContainer()),this.container.appendChild(this.gridContainer.getContainer()),this.container.appendChild(this.contextMenu.getContainer()),this.container.appendChild(this.autocomplete.getContainer()),this.boundRender=this.render.bind(this),this.boundHandleGridKeydown=this.handleGridKeydown.bind(this),this.boundHandleFormulaKeydown=this.handleFormulaKeydown.bind(this),this.boundHandleCellInputKeydown=this.handleCellInputKeydown.bind(this),this.boundHandleMouseDown=this.handleMouseDown.bind(this),this.boundHandleDblClick=this.handleDblClick.bind(this),this.boundHandleKeyDown=this.handleKeyDown.bind(this),this.boundHandleKeyUp=this.handleKeyUp.bind(this),this.boundHandleMouseMove=this.handleMouseMove.bind(this),this.boundHandleContextMenu=this.handleContextMenu.bind(this),this.resizeObserver=new ResizeObserver(()=>this.boundRender())}async initialize(t){this.sheet=t,this.sheet.setDimensions(this.rowDim,this.colDim),await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadMerges(),await this.sheet.loadFreezePane(),this.updateFreezeState(),this.formulaBar.initialize(t),this.addEventListeners(),this.resizeObserver.observe(this.container),this.render()}updateFreezeState(){const{frozenRows:t,frozenCols:n}=this.sheet.getFreezePane();this.freezeState=sq(t,n,this.rowDim,this.colDim)}async setFreezePane(t,n){await this.sheet.setFreezePane(t,n),this.updateFreezeState(),this.render()}async reloadFreezePane(){await this.sheet.loadFreezePane(),this.updateFreezeState()}cleanup(){this.removeAllEventListeners(),this.resizeObserver.disconnect(),this.formulaBar.cleanup(),this.cellInput.cleanup(),this.overlay.cleanup(),this.gridCanvas.cleanup(),this.gridContainer.cleanup(),this.contextMenu.cleanup(),this.autocomplete.cleanup(),this.sheet=void 0,this.container.innerHTML=""}addEventListener(t,n,r,s){t.addEventListener(n,r,s),this.listeners.push({element:t,type:n,handler:r})}removeAllEventListeners(){for(const{element:t,type:n,handler:r}of this.listeners)t.removeEventListener(n,r);this.listeners=[]}focusGrid(){var t;this.formulaBar.blur(),this.cellInput.hide(),this.autocomplete.hide(),this.formulaRanges=[],this.resetFormulaRangeState(),(t=window.getSelection())==null||t.removeAllRanges()}async finishEditing(){this.autocomplete.hide();const t=this.sheet.getActiveCell();if(this.formulaBar.isFocused())await this.sheet.setData(t,this.formulaBar.getValue()),this.formulaBar.blur(),this.cellInput.hide();else if(this.cellInput.isFocused())await this.sheet.setData(t,this.cellInput.getValue()),this.cellInput.hide();else return;this.formulaRanges=[],this.resetFormulaRangeState(),await this.autoResizeRow(t.r)}isExternalInput(t){if(!t||this.container.contains(t))return!1;const n=t.tagName;return!!(n==="INPUT"||n==="TEXTAREA"||n==="SELECT"||t.isContentEditable)}handleKeyDown(t){if(!this.isExternalInput(t.target)){if(this.formulaBar.isFocused()){this.boundHandleFormulaKeydown(t);return}else if(this.cellInput.isFocused()){this.boundHandleCellInputKeydown(t);return}this.boundHandleGridKeydown(t)}}handleKeyUp(t){if(this.isExternalInput(t.target))return;const r=(t.key==="ArrowDown"||t.key==="ArrowUp"||t.key==="Escape"||t.key==="Enter"||t.key==="Tab")&&(this.autocomplete.isListVisible()||this.autocomplete.isHintVisible());let s,a;this.formulaBar.isFocused()?(s=this.formulaBar.getValue(),a=this.formulaBar.getFormulaInput(),this.cellInput.setValue(s)):this.cellInput.isFocused()&&(s=this.cellInput.getValue(),a=this.cellInput.getInput(),this.formulaBar.setValue(s)),s!==void 0&&s.startsWith("=")?(this.formulaRanges=Ib(s).map(l=>l.range),this.renderOverlay()):s!==void 0&&(this.formulaRanges=[],this.renderOverlay()),!r&&(a&&s!==void 0?this.updateAutocomplete(s,a):this.autocomplete.hide())}updateAutocomplete(t,n){if(!t.startsWith("=")){this.autocomplete.hide();return}const r=Qd(n);if(!r){this.autocomplete.hide();return}const s=r.end,a=vq(t,s),l=n.getBoundingClientRect(),u={left:l.left,top:l.bottom+2};a.type==="function-name"?this.autocomplete.showList(a.prefix,u):a.type==="argument"?this.autocomplete.showHint(a.funcName,a.argIndex,u):this.autocomplete.hide()}insertFunctionCompletion(t,n){const r=n.innerText,s=Qd(n);if(!s)return;const a=s.end,u=r.slice(0,a).match(/([A-Za-z_]\w*)$/);if(!u)return;const d=a-u[1].length,g=r.slice(a),p=r.slice(0,d)+t+"("+g;this.formulaBar.setValue(p),this.cellInput.setValue(p);const m=d+t.length+1;Xp(n,{start:m,end:m}),this.autocomplete.hide(),this.updateAutocomplete(p,n)}isInFormulaRangeMode(){let t,n;if(this.cellInput.isFocused()?(t=this.cellInput.getValue(),n=this.cellInput.getInput()):this.formulaBar.isFocused()&&(t=this.formulaBar.getValue(),n=this.formulaBar.getFormulaInput()),!t||!n||!t.startsWith("="))return!1;const r=Qd(n);return r?F7(t,r.end):!1}insertReferenceAtCursor(t,n){const r=this.cellInput.isFocused(),s=this.formulaBar.isFocused();if(!r&&!s)return;const a=r?this.cellInput.getInput():this.formulaBar.getFormulaInput(),l=a.innerText,u=Qd(a);if(!u)return;const d=n&&(t.r!==n.r||t.c!==n.c)?at(t)+":"+at(n):at(t);let g,p;if(this.formulaRefInsertPos){const{start:m,end:x}=this.formulaRefInsertPos;g=l.slice(0,m)+d+l.slice(x),p=m+d.length,this.formulaRefInsertPos={start:m,end:p}}else{const m=TD(l,u.end);m?(g=l.slice(0,m.start)+d+l.slice(m.end),p=m.start+d.length,this.formulaRefInsertPos={start:m.start,end:p}):u.start!==u.end?(g=l.slice(0,u.start)+d+l.slice(u.end),p=u.start+d.length,this.formulaRefInsertPos={start:u.start,end:p}):(g=l.slice(0,u.end)+d+l.slice(u.end),p=u.end+d.length,this.formulaRefInsertPos={start:u.end,end:p})}this.formulaBar.setValue(g),this.cellInput.setValue(g),Xp(a,{start:p,end:p}),g.startsWith("=")&&(this.formulaRanges=Ib(g).map(m=>m.range),this.renderOverlay()),this.lastFormulaRefTarget=n||t}toggleAbsoluteReference(t){const n=t.innerText;if(!n.startsWith("="))return;const r=Qd(t);if(!r)return;const s=TD(n,r.end);if(!s)return;const a=s.text,l=a.startsWith("$"),u=a.replace(/\$/g,"");let d=0;for(let w=0;w<u.length;w++)if(u.charCodeAt(w)>=48&&u.charCodeAt(w)<=57){d=w;break}const g=u.slice(0,d),p=u.slice(d),m=a.indexOf(p,a.lastIndexOf(g)+g.length),x=m>0&&a[m-1]==="$";let b;!l&&!x?b="$"+g+"$"+p:l&&x?b=g+"$"+p:!l&&x?b="$"+g+p:b=g+p;const A=n.slice(0,s.start)+b+n.slice(s.end),C=s.start+b.length;this.formulaBar.setValue(A),this.cellInput.setValue(A),Xp(t,{start:C,end:C}),A.startsWith("=")&&(this.formulaRanges=Ib(A).map(w=>w.range),this.renderOverlay())}resetFormulaRangeState(){this.formulaRangeAnchor=null,this.activeFormulaInput=null,this.formulaRefInsertPos=null,this.lastFormulaRefTarget=null}handleDblClick(t){if(this.readOnly)return;const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n){t.preventDefault();const s=this.sheet.getFreezePane();n==="row"?this.setFreezePane(s.frozenRows>0?0:1,s.frozenCols):this.setFreezePane(s.frozenRows,s.frozenCols>0?0:1);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r){t.preventDefault(),this.autoFitSize(r.axis,r.index);return}this.showCellInput(),t.preventDefault()}handleContextMenu(t){if(this.readOnly)return;const n=t.offsetX,r=t.offsetY,s=n<it,a=r<et;if(!(!s&&!a)){if(t.preventDefault(),s){const l=this.toRowFromMouse(r);if(l<1)return;const u=this.sheet.getSelectedIndices(),d=u&&u.axis==="row"&&l>=u.from&&l<=u.to,g=d?u.from:l,p=d?u.to-u.from+1:1,m=p>1?`${p} rows`:"row";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} above`,action:()=>{this.sheet.insertRows(g,p).then(()=>this.render())}},{label:`Insert ${m} below`,action:()=>{this.sheet.insertRows(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteRows(g,p).then(()=>this.render())}}])}else if(a){const l=this.toColFromMouse(n);if(l<1)return;const u=this.sheet.getSelectedIndices(),d=u&&u.axis==="column"&&l>=u.from&&l<=u.to,g=d?u.from:l,p=d?u.to-u.from+1:1,m=p>1?`${p} columns`:"column";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} left`,action:()=>{this.sheet.insertColumns(g,p).then(()=>this.render())}},{label:`Insert ${m} right`,action:()=>{this.sheet.insertColumns(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteColumns(g,p).then(()=>this.render())}}])}}}addEventListeners(){this.addEventListener(window,"resize",this.boundRender),this.gridContainer.addEventListener("scroll",this.boundRender),this.gridContainer.addEventListener("mousedown",this.boundHandleMouseDown),this.gridContainer.addEventListener("mousemove",this.boundHandleMouseMove),this.gridContainer.addEventListener("dblclick",this.boundHandleDblClick),this.gridContainer.addEventListener("contextmenu",this.boundHandleContextMenu),this.addEventListener(document,"keydown",this.boundHandleKeyDown),this.addEventListener(document,"keyup",this.boundHandleKeyUp)}detectResizeEdge(t,n){const r=this.scroll,s=this.freezeState;if(n<et&&t>it){const l=s.frozenCols>0&&t<it+s.frozenWidth?t-it:t-it-s.frozenWidth+this.colDim.getOffset(s.frozenCols+1)+r.left,u=this.colDim.findIndex(l),d=this.colDim.getOffset(u)+this.colDim.getSize(u);if(Math.abs(l-d)<Mb)return{axis:"column",index:u};if(u>1){const g=this.colDim.getOffset(u-1)+this.colDim.getSize(u-1);if(Math.abs(l-g)<Mb)return{axis:"column",index:u-1}}}if(t<it&&n>et){const l=s.frozenRows>0&&n<et+s.frozenHeight?n-et:n-et-s.frozenHeight+this.rowDim.getOffset(s.frozenRows+1)+r.top,u=this.rowDim.findIndex(l),d=this.rowDim.getOffset(u)+this.rowDim.getSize(u);if(Math.abs(l-d)<Mb)return{axis:"row",index:u};if(u>1){const g=this.rowDim.getOffset(u-1)+this.rowDim.getSize(u-1);if(Math.abs(l-g)<Mb)return{axis:"row",index:u-1}}}return null}detectFreezeHandle(t,n){const r=this.freezeState,s=r.frozenRows>0||r.frozenCols>0,a=zk,l=oq,u=s&&r.frozenRows>0?et+r.frozenHeight-a/2:et-a;if(t>=0&&t<=it&&n>=u-l&&n<=u+a+l)return"row";const d=s&&r.frozenCols>0?it+r.frozenWidth-a/2:it-a;return t>=d-l&&t<=d+a+l&&n>=0&&n<=et?"column":null}startFreezeDrag(t,n){const r=this.gridContainer.getScrollContainer();r.style.cursor="grabbing";const s=u=>{const d=this.viewport;if(t==="row"){const g=u.target!==r?Math.max(0,Math.min(d.height,u.clientY-d.top)):u.offsetY;if(g<=et)return 0;const p=g-et,m=this.rowDim.findIndex(p),b=this.rowDim.getOffset(m)+this.rowDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}else{const g=u.target!==r?Math.max(0,Math.min(d.width,u.clientX-d.left)):u.offsetX;if(g<=it)return 0;const p=g-it,m=this.colDim.findIndex(p),b=this.colDim.getOffset(m)+this.colDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}};this.freezeDrag={axis:t,targetIndex:s(n)},this.renderOverlay();const a=u=>{const d=s(u);this.freezeDrag&&this.freezeDrag.targetIndex!==d&&(this.freezeDrag={axis:t,targetIndex:d},this.renderOverlay())},l=()=>{var g;r.style.cursor="",document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l);const u=((g=this.freezeDrag)==null?void 0:g.targetIndex)??0;this.freezeDrag=null,this.freezeHandleHover=null;const d=this.sheet.getFreezePane();t==="row"?this.setFreezePane(u,d.frozenCols):this.setFreezePane(d.frozenRows,u)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",l)}toRefFromMouse(t,n){const r=this.freezeState;return r.frozenRows>0||r.frozenCols>0?lq(t,n,this.scroll,this.rowDim,this.colDim,r):aq(t+this.scroll.left,n+this.scroll.top,this.rowDim,this.colDim)}toRowFromMouse(t){const n=this.freezeState,s=n.frozenRows>0&&t<et+n.frozenHeight?t-et:t-et-n.frozenHeight+this.rowDim.getOffset(n.frozenRows+1)+this.scroll.top;return this.rowDim.findIndex(s)}toColFromMouse(t){const n=this.freezeState,s=n.frozenCols>0&&t<it+n.frozenWidth?t-it:t-it-n.frozenWidth+this.colDim.getOffset(n.frozenCols+1)+this.scroll.left;return this.colDim.findIndex(s)}clampClientPointToViewport(t,n){const r=this.viewport;return{x:Math.max(0,Math.min(r.width,t-r.left)),y:Math.max(0,Math.min(r.height,n-r.top))}}getAutoScrollSpeed(t){const r=Math.min(FD,Math.max(0,t))/FD;return kD+(bq-kD)*r}getAutoScrollVelocity(t,n,r){return t<n?-this.getAutoScrollSpeed(n-t):t>r?this.getAutoScrollSpeed(t-r):0}handleMouseMove(t){var l,u,d;const n=this.gridContainer.getScrollContainer(),r=this.detectFreezeHandle(t.offsetX,t.offsetY);if(r!==this.freezeHandleHover&&(this.freezeHandleHover=r,this.renderSheet()),r){n.style.cursor="grab",this.resizeHover&&(this.resizeHover=null,this.renderOverlay());return}const s=this.detectResizeEdge(t.offsetX,t.offsetY),a=(s==null?void 0:s.axis)!==((l=this.resizeHover)==null?void 0:l.axis)||(s==null?void 0:s.index)!==((u=this.resizeHover)==null?void 0:u.index);if(a&&(this.resizeHover=s),s)n.style.cursor=s.axis==="column"?"col-resize":"row-resize";else{const g=t.offsetX,p=t.offsetY,m=(d=this.sheet)==null?void 0:d.getSelectedIndices();if(m){const x=m.axis==="column"?p<et&&g>it&&(()=>{const b=this.toColFromMouse(g);return b>=m.from&&b<=m.to})():g<it&&p>et&&(()=>{const b=this.toRowFromMouse(p);return b>=m.from&&b<=m.to})();n.style.cursor=x?"grab":""}else n.style.cursor=""}a&&this.renderOverlay()}async handleMouseDown(t){const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n&&!this.readOnly){t.preventDefault(),this.startFreezeDrag(n,t);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r&&!this.readOnly){t.preventDefault(),this.startResize(r.axis,r.index,t);return}const s=t.offsetX,a=t.offsetY;if(s<it&&a<et){t.preventDefault(),await this.finishEditing(),this.sheet.selectAllCells(),this.render();return}const u=a<et&&s>it,d=s<it&&a>et;if(u){t.preventDefault(),await this.finishEditing();const N=this.toColFromMouse(s);if(N<1)return;if(t.shiftKey){this.sheet.selectColumnRange(this.sheet.getActiveCell().c,N),this.render();return}const D=this.sheet.getSelectedIndices();if(!this.readOnly&&D&&D.axis==="column"&&N>=D.from&&N<=D.to){this.startDragMove("column",D.from,D.to-D.from+1,t);return}this.sheet.selectColumn(N),this.render();const L=N;let k=N,j=t.clientX,B=null,$=null;const K=()=>{const{x:ie}=this.clampClientPointToViewport(j,0),Ee=this.toColFromMouse(ie);Ee>=1&&Ee!==k&&(k=Ee,this.sheet.selectColumnRange(L,k))},ne=()=>{B!==null&&(cancelAnimationFrame(B),B=null),$=null},re=ie=>{const Ee=this.viewport,de=this.getAutoScrollVelocity(j,Ee.left,Ee.left+Ee.width);if(de===0){B=null,$=null;return}const ue=Math.min(50,$===null?16:ie-$);$=ie,this.gridContainer.scrollBy(de*ue/1e3,0),K(),this.render(),B=requestAnimationFrame(re)},Se=()=>{B===null&&(B=requestAnimationFrame(re))},Me=ie=>{j=ie.clientX,K(),this.render();const Ee=this.viewport;this.getAutoScrollVelocity(j,Ee.left,Ee.left+Ee.width)===0?ne():Se()},Oe=()=>{ne(),document.removeEventListener("mousemove",Me),document.removeEventListener("mouseup",Oe)};document.addEventListener("mousemove",Me),document.addEventListener("mouseup",Oe);return}if(d){t.preventDefault(),await this.finishEditing();const N=this.toRowFromMouse(a);if(N<1)return;if(t.shiftKey){this.sheet.selectRowRange(this.sheet.getActiveCell().r,N),this.render();return}const D=this.sheet.getSelectedIndices();if(!this.readOnly&&D&&D.axis==="row"&&N>=D.from&&N<=D.to){this.startDragMove("row",D.from,D.to-D.from+1,t);return}this.sheet.selectRow(N),this.render();const L=N;let k=N,j=t.clientY,B=null,$=null;const K=()=>{const{y:ie}=this.clampClientPointToViewport(0,j),Ee=this.toRowFromMouse(ie);Ee>=1&&Ee!==k&&(k=Ee,this.sheet.selectRowRange(L,k))},ne=()=>{B!==null&&(cancelAnimationFrame(B),B=null),$=null},re=ie=>{const Ee=this.viewport,de=this.getAutoScrollVelocity(j,Ee.top,Ee.top+Ee.height);if(de===0){B=null,$=null;return}const ue=Math.min(50,$===null?16:ie-$);$=ie,this.gridContainer.scrollBy(0,de*ue/1e3),K(),this.render(),B=requestAnimationFrame(re)},Se=()=>{B===null&&(B=requestAnimationFrame(re))},Me=ie=>{j=ie.clientY,K(),this.render();const Ee=this.viewport;this.getAutoScrollVelocity(j,Ee.top,Ee.top+Ee.height)===0?ne():Se()},Oe=()=>{ne(),document.removeEventListener("mousemove",Me),document.removeEventListener("mouseup",Oe)};document.addEventListener("mousemove",Me),document.addEventListener("mouseup",Oe);return}if(this.isInFormulaRangeMode()){t.preventDefault();const N=this.toRefFromMouse(t.offsetX,t.offsetY);if(this.activeFormulaInput=this.cellInput.isFocused()?"cellInput":"formulaBar",t.shiftKey&&this.formulaRangeAnchor){const j={r:Math.min(this.formulaRangeAnchor.r,N.r),c:Math.min(this.formulaRangeAnchor.c,N.c)},B={r:Math.max(this.formulaRangeAnchor.r,N.r),c:Math.max(this.formulaRangeAnchor.c,N.c)};this.insertReferenceAtCursor(j,B)}else this.formulaRangeAnchor=N,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(N);const D=this.gridContainer.getScrollContainer(),L=j=>{const B=this.viewport,$=j.target!==D?Math.max(0,Math.min(B.width,j.clientX-B.left)):j.offsetX,K=j.target!==D?Math.max(0,Math.min(B.height,j.clientY-B.top)):j.offsetY,ne=this.toRefFromMouse($,K),re={r:Math.min(this.formulaRangeAnchor.r,ne.r),c:Math.min(this.formulaRangeAnchor.c,ne.c)},Se={r:Math.max(this.formulaRangeAnchor.r,ne.r),c:Math.max(this.formulaRangeAnchor.c,ne.c)};this.insertReferenceAtCursor(re,Se)},k=()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",k),this.activeFormulaInput==="cellInput"?this.cellInput.getInput().focus():this.activeFormulaInput==="formulaBar"&&this.formulaBar.getFormulaInput().focus(),this.formulaRefInsertPos=null};document.addEventListener("mousemove",L),document.addEventListener("mouseup",k);return}if(await this.finishEditing(),t.shiftKey){const N=this.toRefFromMouse(t.offsetX,t.offsetY);this.sheet.selectEnd(N),this.render();return}this.sheet.selectStart(this.toRefFromMouse(t.offsetX,t.offsetY)),this.render();let g=t.clientX,p=t.clientY,m=null,x=null;const b=()=>{const{x:N,y:D}=this.clampClientPointToViewport(g,p);this.sheet.selectEnd(this.toRefFromMouse(N,D))},A=()=>{m!==null&&(cancelAnimationFrame(m),m=null),x=null},C=N=>{const D=this.viewport,L=this.getAutoScrollVelocity(g,D.left,D.left+D.width),k=this.getAutoScrollVelocity(p,D.top,D.top+D.height);if(L===0&&k===0){m=null,x=null;return}const j=Math.min(50,x===null?16:N-x);x=N,this.gridContainer.scrollBy(L*j/1e3,k*j/1e3),b(),this.render(),m=requestAnimationFrame(C)},w=()=>{m===null&&(m=requestAnimationFrame(C))},R=N=>{g=N.clientX,p=N.clientY,b(),this.renderOverlay();const D=this.viewport,L=this.getAutoScrollVelocity(g,D.left,D.left+D.width),k=this.getAutoScrollVelocity(p,D.top,D.top+D.height);L===0&&k===0?A():w()},I=()=>{A(),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",I)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",I)}startResize(t,n,r){const s=t==="column"?r.clientX:r.clientY,a=t==="column"?this.colDim.getSize(n):this.rowDim.getSize(n),l=this.gridContainer.getScrollContainer();l.style.cursor=t==="column"?"col-resize":"row-resize";const u=t==="column"?this.colDim:this.rowDim,d=this.sheet.getSelectedIndices(),p=d&&d.axis===t&&n>=d.from&&n<=d.to?Array.from({length:d.to-d.from+1},(b,A)=>d.from+A):[n],m=b=>{const C=(t==="column"?b.clientX:b.clientY)-s,R=Math.max(t==="column"?LD:xq,a+C);u.setSize(n,R),this.render()},x=()=>{l.style.cursor="",document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x);const b=u.getSize(n);for(const A of p)u.setSize(A,b),t==="column"?this.sheet.setColumnWidth(A,b):(this.manuallyResizedRows.add(A),this.sheet.setRowHeight(A,b));this.render()};document.addEventListener("mousemove",m),document.addEventListener("mouseup",x)}async autoFitSize(t,n){const s=document.createElement("canvas").getContext("2d"),a=6;if(t==="column"){s.font=`${Mc}px Arial`;const l=Cv(n);let u=s.measureText(l).width+a;const[d,g]=this.viewRange,p=[{r:d.r,c:n},{r:g.r,c:n}],m=await this.sheet.fetchGrid(p);for(const[,b]of m)if(b.v){const A=s.measureText(b.v).width+a;A>u&&(u=A)}const x=Math.max(LD,Math.ceil(u));this.sheet.setColumnWidth(n,x)}else{this.manuallyResizedRows.delete(n);const l=await this.computeContentHeight(n);this.sheet.setRowHeight(n,l)}this.render()}async computeContentHeight(t){const[n,r]=this.viewRange,s=[{r:t,c:n.c},{r:t,c:r.c}],a=await this.sheet.fetchGrid(s);let l=1;for(const[,u]of a)if(u.v){const d=u.v.split(`
`).length;d>l&&(l=d)}return l<=1?et:Math.max(et,Math.ceil(l*Mc*pS+2*PC))}async autoResizeRow(t){if(this.manuallyResizedRows.has(t))return;const n=await this.computeContentHeight(t),r=this.rowDim.getSize(t);n!==r&&(this.sheet.setRowHeight(t,n),this.render())}startDragMove(t,n,r,s){const a=this.gridContainer.getScrollContainer();a.style.cursor="grabbing";const l=t==="column"?this.colDim:this.rowDim,u=p=>{const m=this.viewport;if(t==="column"){const x=p.target!==a?Math.max(0,Math.min(m.width,p.clientX-m.left)):p.offsetX,b=this.toColFromMouse(x),A=this.freezeState,w=A.frozenCols>0&&x<it+A.frozenWidth?x-it:x-it-A.frozenWidth+this.colDim.getOffset(A.frozenCols+1)+this.scroll.left,I=l.getOffset(b)+l.getSize(b)/2;return w<I?b:b+1}else{const x=p.target!==a?Math.max(0,Math.min(m.height,p.clientY-m.top)):p.offsetY,b=this.toRowFromMouse(x),A=this.freezeState,w=A.frozenRows>0&&x<et+A.frozenHeight?x-et:x-et-A.frozenHeight+this.rowDim.getOffset(A.frozenRows+1)+this.scroll.top,I=l.getOffset(b)+l.getSize(b)/2;return w<I?b:b+1}};this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:u(s)},this.renderOverlay();const d=p=>{const m=u(p);this.dragMove&&this.dragMove.dropIndex!==m&&(this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:m},this.renderOverlay())},g=()=>{var m;a.style.cursor="",document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",g);const p=(m=this.dragMove)==null?void 0:m.dropIndex;this.dragMove=null,p!==void 0&&!(p>=n&&p<=n+r)?(t==="row"?this.sheet.moveRows(n,r,p):this.sheet.moveColumns(n,r,p)).then(()=>{const b=p<n?p:p-r;t==="row"?(this.sheet.selectRow(b),r>1&&this.sheet.selectRowRange(b,b+r-1)):(this.sheet.selectColumn(b),r>1&&this.sheet.selectColumnRange(b,b+r-1)),this.render()}):this.renderOverlay()};document.addEventListener("mousemove",d),document.addEventListener("mouseup",g)}async handleFormulaKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.formulaBar.getFormulaInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.move("down"),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const s={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},a={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(s,a),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.formulaBar.getFormulaInput())):t.key==="Escape"?(t.preventDefault(),this.focusGrid(),this.render()):this.cellInput.isShown()||this.showCellInput(!0,!0)}}async handleCellInputKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.cellInput.getInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&this.cellInput.hasFormula()&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const s={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},a={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(s,a),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key.startsWith("Arrow")&&!this.cellInput.hasFormula()&&!this.editMode?(t.preventDefault(),await this.finishEditing(),t.key==="ArrowDown"?this.sheet.move("down"):t.key==="ArrowUp"?this.sheet.move("up"):t.key==="ArrowLeft"?this.sheet.move("left"):t.key==="ArrowRight"&&this.sheet.move("right"),this.render(),this.scrollIntoView()):t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.cellInput.getInput())):t.key==="Escape"&&(t.preventDefault(),this.focusGrid(),this.render())}}async copy(){const{text:t}=await this.sheet.copy();await navigator.clipboard.writeText(t)}async paste(){try{let t,n;if(navigator.clipboard.read)try{const r=await navigator.clipboard.read();for(const s of r)s.types.includes("text/html")&&(n=await(await s.getType("text/html")).text()),s.types.includes("text/plain")&&(t=await(await s.getType("text/plain")).text())}catch{t=await navigator.clipboard.readText()}else t=await navigator.clipboard.readText();await this.sheet.paste({text:t,html:n}),this.sheet.clearCopyBuffer(),this.render()}catch(t){console.error("Failed to paste cell content: ",t)}}async handleGridKeydown(t){const n=async(r,s,a)=>{t.preventDefault(),(s?this.sheet.resizeRange(r):a?await this.sheet.moveToEdge(r):this.sheet.move(r))&&(this.render(),this.scrollIntoView())};if(t.key==="ArrowDown")n("down",t.shiftKey,t.metaKey);else if(t.key==="ArrowUp")n("up",t.shiftKey,t.metaKey);else if(t.key==="ArrowLeft")n("left",t.shiftKey,t.metaKey);else if(t.key==="ArrowRight")n("right",t.shiftKey,t.metaKey);else if(t.key==="a"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.sheet.selectAll(),this.render();else if(t.key==="Tab")t.preventDefault(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key==="Enter")t.preventDefault(),this.sheet.hasRange()?(this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView()):this.readOnly||this.showCellInput();else if(t.key==="Delete"||t.key==="Backspace"){if(this.readOnly)return;t.preventDefault(),await this.sheet.removeData()&&this.render()}else if(!t.metaKey&&!t.ctrlKey&&this.isValidCellInput(t.key)){if(this.readOnly)return;this.showCellInput(!0)}else if(t.key==="z"&&(t.metaKey||t.ctrlKey)&&!t.shiftKey){if(this.readOnly)return;t.preventDefault(),await this.sheet.undo()&&(this.render(),this.scrollIntoView())}else if((t.key==="z"&&t.shiftKey||t.key==="y")&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.redo()&&(this.render(),this.scrollIntoView())}else if(t.key==="Escape")t.preventDefault(),this.sheet.getCopyRange()&&(this.sheet.clearCopyBuffer(),this.renderOverlay());else if(t.key==="c"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.copy();else if(t.key==="v"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.paste()}else if(t.key==="b"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("b"),this.render()}else if(t.key==="i"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("i"),this.render()}else if(t.key==="u"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("u"),this.render()}else if((t.key==="m"||t.key==="M")&&(t.metaKey||t.ctrlKey)&&t.shiftKey){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleMergeSelection()&&this.render()}}async reloadDimensions(){await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadMerges(),await this.sheet.loadFreezePane(),this.updateFreezeState()}setOnRender(t){this.onRenderCallback=t}render(){var t;this.formulaBar.render(),this.renderSheet(),this.renderOverlay(),(t=this.onRenderCallback)==null||t.call(this)}renderOverlay(){this.overlay.render(this.viewport,this.scroll,this.sheet.getActiveCell(),this.sheet.getPresences(),this.sheet.getRange(),this.rowDim,this.colDim,this.resizeHover,this.sheet.getSelectionType(),this.dragMove?{axis:this.dragMove.axis,dropIndex:this.dragMove.dropIndex}:null,this.formulaRanges,this.freezeState,this.freezeDrag,this.sheet.getCopyRange(),this.sheet.getMerges())}get viewRange(){const t=this.scroll,n=this.viewport,r=this.freezeState,s=this.rowDim.getOffset(r.frozenRows+1),a=this.colDim.getOffset(r.frozenCols+1),l=Math.max(r.frozenRows+1,this.rowDim.findIndex(s+t.top)),u=Math.max(l,this.rowDim.findIndex(s+t.top+n.height)+1),d=Math.max(r.frozenCols+1,this.colDim.findIndex(a+t.left)),g=Math.max(d,this.colDim.findIndex(a+t.left+n.width)+1);return[{r:l,c:d},{r:u,c:g}]}scrollIntoView(t=this.sheet.getActiveCell()){const n=this.scroll,r=this.freezeState,s=r.frozenRows>0&&t.r<=r.frozenRows,a=r.frozenCols>0&&t.c<=r.frozenCols,l=jn(t,{left:0,top:0},this.rowDim,this.colDim),u=this.sheet.getMerges().get(at(t));if(u){const b=jn({r:t.r+u.rs-1,c:t.c+u.cs-1},{left:0,top:0},this.rowDim,this.colDim);l.width=b.left+b.width-l.left,l.height=b.top+b.height-l.top}const d=this.colDim.getOffset(r.frozenCols+1),g=this.rowDim.getOffset(r.frozenRows+1),p=this.viewport.width-it-r.frozenWidth,m=this.viewport.height-et-r.frozenHeight;let x=!1;if(!a){const b=d+n.left,A=b+p,C=l.left-it,w=C+l.width;C<b?(this.scroll={left:C-d},x=!0):w>A&&(this.scroll={left:w-p-d},x=!0)}if(!s){const b=g+n.top,A=b+m,C=l.top-et,w=C+l.height;C<b?(this.scroll={top:C-g},x=!0):w>A&&(this.scroll={top:w-m-g},x=!0)}x&&this.render()}async showCellInput(t=!1,n=!1){n||(this.editMode=!t);const r=this.sheet.getActiveCell(),s=this.freezeState,a=s.frozenRows>0||s.frozenCols>0?PD(r,this.scroll,this.rowDim,this.colDim,s):jn(r,this.scroll,this.rowDim,this.colDim),l=this.sheet.getMerges().get(at(r));if(l){const m=s.frozenRows>0||s.frozenCols>0?PD({r:r.r+l.rs-1,c:r.c+l.cs-1},this.scroll,this.rowDim,this.colDim,s):jn({r:r.r+l.rs-1,c:r.c+l.cs-1},this.scroll,this.rowDim,this.colDim);a.width=m.left+m.width-a.left,a.height=m.top+m.height-a.top}const u=t?"":await this.sheet.toInputString(r),d=Math.max(a.width,this.viewport.width-a.left),g=Math.max(a.height,this.viewport.height-a.top);this.cellInput.show(a.left,a.top,u,!n,a.width,a.height,d,g);const p=await this.sheet.getStyle(r);this.cellInput.applyStyle(p),u.startsWith("=")&&(this.formulaRanges=Ib(u).map(m=>m.range),this.renderOverlay())}isValidCellInput(t){return t.length===1||t==="Process"}async renderSheet(){const t=this.gridSize,n=this.freezeState;this.gridContainer.updateDummySize(t.width+it,t.height+et);const r=this.viewRange,s=[{r:1,c:1},{r:r[1].r,c:r[1].c}],a=await this.sheet.fetchGrid(s);this.gridCanvas.render(this.viewport,this.scroll,this.viewRange,this.sheet.getActiveCell(),a,this.rowDim,this.colDim,this.sheet.getSelectionType(),this.sheet.getRange(),n,this.freezeHandleHover,this.sheet.getColStyles(),this.sheet.getRowStyles(),this.sheet.getSheetStyle(),this.sheet.getMerges())}get gridSize(){const t=this.sheet.getDimension();return{width:this.colDim.getOffset(t.columns+1),height:this.rowDim.getOffset(t.rows+1)}}get viewport(){return this.gridContainer.getViewport()}get scroll(){return this.gridContainer.getScrollPosition()}set scroll(t){this.gridContainer.setScrollPosition(t)}}async function Uk(e,t){const n=new Eq(e,t),r=(t==null?void 0:t.store)||new eq;return await n.initialize(r),n}class Eq{constructor(t,n){q(this,"container");q(this,"worksheet");q(this,"sheet");q(this,"theme");q(this,"_readOnly");q(this,"selectionChangeCallbacks",[]);this.container=t,this.container.style.position="relative",this.container.style.overflow="hidden",this.theme=(n==null?void 0:n.theme)||"light",this._readOnly=(n==null?void 0:n.readOnly)||!1,this.worksheet=new Sq(this.container,this.theme,this._readOnly)}get readOnly(){return this._readOnly}async initialize(t){this.sheet=new Q7(t),this.worksheet.setOnRender(()=>this.notifySelectionChange()),await this.worksheet.initialize(this.sheet)}async reloadDimensions(){await this.worksheet.reloadDimensions()}async setFreezePane(t,n){this._readOnly||await this.worksheet.setFreezePane(t,n)}render(){this.worksheet.render()}renderOverlay(){this.worksheet.renderOverlay()}async applyStyle(t){!this.sheet||this._readOnly||(await this.sheet.setRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async toggleStyle(t){!this.sheet||this._readOnly||(await this.sheet.toggleRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async getActiveStyle(){if(this.sheet)return this.sheet.getStyle(this.sheet.getActiveCell())}onSelectionChange(t){return this.selectionChangeCallbacks.push(t),()=>{this.selectionChangeCallbacks=this.selectionChangeCallbacks.filter(n=>n!==t)}}notifySelectionChange(){for(const t of this.selectionChangeCallbacks)t()}async increaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:t+1}),this.worksheet.render(),this.notifySelectionChange()}async decreaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:Math.max(0,t-1)}),this.worksheet.render(),this.notifySelectionChange()}async toggleMergeCells(){!this.sheet||this._readOnly||await this.sheet.toggleMergeSelection()&&(this.worksheet.render(),this.notifySelectionChange())}isSelectionMerged(){return this.sheet?this.sheet.isSelectionMerged():!1}canMergeSelection(){return this.sheet?this.sheet.canMergeSelection():!1}async undo(){!this.sheet||this._readOnly||await this.sheet.undo()&&(this.worksheet.render(),this.notifySelectionChange())}async redo(){!this.sheet||this._readOnly||await this.sheet.redo()&&(this.worksheet.render(),this.notifySelectionChange())}cleanup(){this.worksheet.cleanup(),this.selectionChangeCallbacks=[]}setGridResolver(t){this.sheet&&this.sheet.setGridResolver(t)}async recalculateCrossSheetFormulas(){this.sheet&&(await this.sheet.recalculateCrossSheetFormulas(),this.worksheet.render())}}var Aq="Toggle",Gk=P.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:s,...a}=e,[l=!1,u]=fh({prop:n,onChange:s,defaultProp:r});return O.jsx(Wt.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:dt(e.onClick,()=>{e.disabled||u(!l)})})});Gk.displayName=Aq;var wq=Gk;const Cq=wS("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function Iw({className:e,variant:t,size:n,...r}){return O.jsx(wq,{"data-slot":"toggle",className:St(Cq({variant:t,size:n}),e),...r})}const Rq=["#000000","#434343","#666666","#999999","#cccccc","#d50000","#e67c73","#f4511e","#ef6c00","#f09300","#0b8043","#33b679","#039be5","#3f51b5","#7986cb","#8e24aa","#d81b60","#ad1457","#6a1b9a","#4a148c"],Tq=["#ffffff","#f3f3f3","#e8e8e8","#d9d9d9","#cccccc","#fce4ec","#fff3e0","#fff9c4","#e8f5e9","#e0f7fa","#e3f2fd","#ede7f6","#fce4ec","#f3e5f5","#e8eaf6","#ffcdd2","#ffe0b2","#fff59d","#c8e6c9","#b2dfdb"],Nq={left:zL,center:jL,right:VL},_q={top:BL,middle:kL,bottom:FL},Iq={plain:LL,number:GL,currency:mC,percent:vC},$k=typeof navigator<"u"&&/Mac|iPhone|iPad|iPod/.test(navigator.userAgent),nv=$k?"":"Ctrl";function Oq({spreadsheet:e}){const[t,n]=P.useState(void 0),[r,s]=P.useState(!1),[a,l]=P.useState(!1),u=P.useCallback(async()=>{if(!e)return;const ne=await e.getActiveStyle();n(ne),s(e.isSelectionMerged()),l(e.canMergeSelection())},[e]);P.useEffect(()=>{if(e)return u(),e.onSelectionChange(u)},[e,u]);const d=P.useCallback(ne=>{e==null||e.toggleStyle(ne)},[e]),g=P.useCallback(ne=>{e==null||e.applyStyle({al:ne})},[e]),p=P.useCallback(ne=>{e==null||e.applyStyle({va:ne})},[e]),m=P.useCallback(ne=>{e==null||e.applyStyle({tc:ne})},[e]),x=P.useCallback(()=>{e==null||e.applyStyle({tc:""})},[e]),b=P.useCallback(ne=>{e==null||e.applyStyle({bg:ne})},[e]),A=P.useCallback(()=>{e==null||e.applyStyle({bg:""})},[e]),C=P.useCallback(()=>{e==null||e.undo()},[e]),w=P.useCallback(()=>{e==null||e.redo()},[e]),R=P.useCallback(ne=>{e==null||e.applyStyle({nf:ne})},[e]),I=P.useCallback(()=>{e==null||e.increaseDecimals()},[e]),N=P.useCallback(()=>{e==null||e.decreaseDecimals()},[e]),D=P.useCallback(()=>{e==null||e.toggleMergeCells()},[e]),L=(t==null?void 0:t.al)||"left",k=Nq[L],j=(t==null?void 0:t.va)||"top",B=_q[j],$=(t==null?void 0:t.nf)||"plain",K=Iq[$];return O.jsxs("div",{className:"flex items-center gap-0.5 border-b px-2 py-1 bg-background",children:[O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:C,children:O.jsx(A8,{size:16})})}),O.jsxs(Zr,{children:["Undo (",nv,"+Z)"]})]}),O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:w,children:O.jsx(w8,{size:16})})}),O.jsxs(Zr,{children:["Redo (",nv,"+",$k?"Z":"Y",")"]})]}),O.jsx(Gp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>R("currency"),children:O.jsx(mC,{size:16})})}),O.jsx(Zr,{children:"Format as currency"})]}),O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>R("percent"),children:O.jsx(vC,{size:16})})}),O.jsx(Zr,{children:"Format as percent"})]}),O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:N,children:[O.jsx(eN,{size:16}),O.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"-"})]})}),O.jsx(Zr,{children:"Decrease decimal places"})]}),O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:I,children:[O.jsx(eN,{size:16}),O.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"+"})]})}),O.jsx(Zr,{children:"Increase decimal places"})]}),O.jsxs(Ca,{children:[O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx(Ra,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(K,{size:16}),O.jsx(VE,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(Zr,{children:"More format"})]}),O.jsxs(Ta,{children:[O.jsxs(yr,{onClick:()=>R("plain"),children:[O.jsx(LL,{size:16,className:"mr-2"}),"Plain text"]}),O.jsxs(yr,{onClick:()=>R("number"),children:[O.jsx(GL,{size:16,className:"mr-2"}),"Number"]}),O.jsxs(yr,{onClick:()=>R("currency"),children:[O.jsx(mC,{size:16,className:"mr-2"}),"Currency"]}),O.jsxs(yr,{onClick:()=>R("percent"),children:[O.jsx(vC,{size:16,className:"mr-2"}),"Percent"]})]})]}),O.jsx(Gp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx(Iw,{size:"sm",pressed:(t==null?void 0:t.b)||!1,onPressedChange:()=>d("b"),className:"h-7 w-7 cursor-pointer",children:O.jsx(C8,{size:16})})}),O.jsxs(Zr,{children:["Bold (",nv,"+B)"]})]}),O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx(Iw,{size:"sm",pressed:(t==null?void 0:t.i)||!1,onPressedChange:()=>d("i"),className:"h-7 w-7 cursor-pointer",children:O.jsx(N8,{size:16})})}),O.jsxs(Zr,{children:["Italic (",nv,"+I)"]})]}),O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx(Iw,{size:"sm",pressed:(t==null?void 0:t.st)||!1,onPressedChange:()=>d("st"),className:"h-7 w-7 cursor-pointer",children:O.jsx(M8,{size:16})})}),O.jsx(Zr,{children:"Strikethrough"})]}),O.jsxs(Ca,{children:[O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx(Ra,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",children:[O.jsx(F8,{size:16}),O.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.tc)||"#000000"}})]})})}),O.jsx(Zr,{children:"Text color"})]}),O.jsxs(Ta,{className:"w-auto p-2",children:[O.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:x,children:[O.jsx(tN,{size:14}),"Reset"]}),O.jsx("div",{className:"grid grid-cols-5 gap-1",children:Rq.map(ne=>O.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:ne},onClick:()=>m(ne)},ne))})]})]}),O.jsx(Gp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Ca,{children:[O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx(Ra,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",children:[O.jsx(I8,{size:16}),O.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.bg)||"transparent",border:t!=null&&t.bg?"none":"1px solid #ccc"}})]})})}),O.jsx(Zr,{children:"Fill color"})]}),O.jsxs(Ta,{className:"w-auto p-2",children:[O.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:A,children:[O.jsx(tN,{size:14}),"Reset"]}),O.jsx("div",{className:"grid grid-cols-5 gap-1",children:Tq.map(ne=>O.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:ne},onClick:()=>b(ne)},ne))})]})]}),O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx("button",{className:`inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted disabled:cursor-not-allowed disabled:opacity-50 ${r?"bg-muted":""}`,onClick:D,disabled:!r&&!a,children:O.jsx(P8,{size:16})})}),O.jsx(Zr,{children:r?"Unmerge cells":`Merge cells (${nv}+Shift+M)`})]}),O.jsx(Gp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Ca,{children:[O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx(Ra,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(k,{size:16}),O.jsx(VE,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(Zr,{children:"Horizontal align"})]}),O.jsxs(Ta,{children:[O.jsxs(yr,{onClick:()=>g("left"),children:[O.jsx(zL,{size:16,className:"mr-2"}),"Left"]}),O.jsxs(yr,{onClick:()=>g("center"),children:[O.jsx(jL,{size:16,className:"mr-2"}),"Center"]}),O.jsxs(yr,{onClick:()=>g("right"),children:[O.jsx(VL,{size:16,className:"mr-2"}),"Right"]})]})]}),O.jsxs(Ca,{children:[O.jsxs(Kr,{children:[O.jsx(Xr,{asChild:!0,children:O.jsx(Ra,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(B,{size:16}),O.jsx(VE,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(Zr,{children:"Vertical align"})]}),O.jsxs(Ta,{children:[O.jsxs(yr,{onClick:()=>p("top"),children:[O.jsx(BL,{size:16,className:"mr-2"}),"Top"]}),O.jsxs(yr,{onClick:()=>p("middle"),children:[O.jsx(kL,{size:16,className:"mr-2"}),"Middle"]}),O.jsxs(yr,{onClick:()=>p("bottom"),children:[O.jsx(FL,{size:16,className:"mr-2"}),"Bottom"]})]})]})]})}const Dq={theme:"system",resolvedTheme:"light",setTheme:()=>null},SR=P.createContext(Dq);function Mq({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[s,a]=P.useState(()=>localStorage.getItem(n)||t),[l,u]=P.useState(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");P.useEffect(()=>{const g=window.document.documentElement;g.classList.remove("light","dark");let p;if(s==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";p=m,g.classList.add(m)}else p=s,g.classList.add(s);u(p)},[s]),P.useEffect(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>{if(s==="system"){const m=window.document.documentElement,x=g.matches?"dark":"light";m.classList.remove("light","dark"),m.classList.add(x),u(x)}};return g.addEventListener("change",p),()=>g.removeEventListener("change",p)},[s]);const d={theme:s,resolvedTheme:l,setTheme:g=>{localStorage.setItem(n,g),a(g)}};return O.jsx(SR.Provider,{...r,value:d,children:e})}const Hk=()=>{const e=P.useContext(SR);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};class Pq{constructor(t,n){q(this,"doc");q(this,"tabId");q(this,"cellIndex",new xR);q(this,"dirty",!0);q(this,"batchOverlay",null);q(this,"batchOps",null);this.doc=t,this.tabId=n,t.subscribe(r=>{r.type==="remote-change"&&(this.dirty=!0)})}getSheet(){return this.doc.getRoot().sheets[this.tabId]}ensureIndex(){if(!this.dirty)return;const t=this.getSheet().sheet,n=[];for(const r of Object.keys(t)){const s=Pt(r);n.push([s.r,s.c])}this.cellIndex.rebuild(n),this.dirty=!1}async set(t,n){const r=at(t);if(this.batchOverlay){this.batchOverlay.set(r,n),this.dirty||this.cellIndex.add(t.r,t.c);return}const s=this.tabId;this.doc.update(a=>{a.sheets[s].sheet[r]=n}),this.dirty||this.cellIndex.add(t.r,t.c)}async get(t){const n=at(t);if(this.batchOverlay&&this.batchOverlay.has(n)){const r=this.batchOverlay.get(n);return r===null?void 0:r}return this.getSheet().sheet[n]}async has(t){const n=at(t);return this.batchOverlay&&this.batchOverlay.has(n)?this.batchOverlay.get(n)!==null:this.getSheet().sheet[n]!==void 0}async delete(t){const n=at(t);if(this.batchOverlay){let a=!1;return this.batchOverlay.has(n)?a=this.batchOverlay.get(n)!==null:a=this.getSheet().sheet[n]!==void 0,a?(this.batchOverlay.set(n,null),this.dirty||this.cellIndex.remove(t.r,t.c),!0):!1}let r=!1;const s=this.tabId;return this.doc.update(a=>{a.sheets[s].sheet[n]!==void 0&&(delete a.sheets[s].sheet[n],r=!0)}),r&&!this.dirty&&this.cellIndex.remove(t.r,t.c),r}async deleteRange(t){this.ensureIndex();const n=Array.from(this.cellIndex.cellsInRange(t)),r=new Set;if(this.batchOverlay){for(const[a,l]of n){const u=at({r:a,c:l});this.batchOverlay.has(u)&&this.batchOverlay.get(u)===null||(this.batchOverlay.set(u,null),r.add(u))}for(const[a,l]of n)this.cellIndex.remove(a,l);return r}const s=this.tabId;this.doc.update(a=>{for(const[l,u]of n){const d=at({r:l,c:u});delete a.sheets[s].sheet[d],r.add(d)}});for(const[a,l]of n)this.cellIndex.remove(a,l);return r}async setGrid(t){if(this.batchOverlay){for(const[r,s]of t)this.batchOverlay.set(r,s);if(!this.dirty)for(const[r]of t){const s=Pt(r);this.cellIndex.add(s.r,s.c)}return}const n=this.tabId;if(this.doc.update(r=>{for(const[s,a]of t)r.sheets[n].sheet[s]=a}),!this.dirty)for(const[r]of t){const s=Pt(r);this.cellIndex.add(s.r,s.c)}}async getGrid(t){this.ensureIndex();const n=this.getSheet().sheet,r=new Map;for(const[s,a]of this.cellIndex.cellsInRange(t)){const l=at({r:s,c:a});if(this.batchOverlay&&this.batchOverlay.has(l)){const d=this.batchOverlay.get(l);d!==null&&r.set(l,d);continue}const u=n[l];u!==void 0&&r.set(l,u)}return r}async findEdge(t,n,r){return this.ensureIndex(),bR(this.cellIndex,t,n,r,(s,a)=>{const l=at({r:s,c:a}),u=this.getSheet().sheet[l];return u!==void 0&&(!!u.v||!!u.f)})}async shiftCells(t,n,r){const s=this.tabId;this.doc.update(a=>{const l=a.sheets[s],u=[];for(const[b,A]of Object.entries(l.sheet))u.push([b,{v:A.v,f:A.f,s:A.s}]);for(const[b]of u)delete l.sheet[b];for(const[b,A]of u){const C=Pk(b,t,n,r);C!==null&&(A.f?l.sheet[C]={...A,f:Lk(A.f,t,n,r)}:l.sheet[C]={...A})}const d=t==="row"?l.rowHeights:l.colWidths,g=[];for(const[b,A]of Object.entries(d))g.push([b,A]);for(const[b]of g)delete d[b];for(const[b,A]of g){const C=Number(b);if(r>0)C>=n?d[String(C+r)]=A:d[b]=A;else{const w=Math.abs(r);C>=n&&C<n+w||(C>=n+w?d[String(C+r)]=A:d[b]=A)}}const p=t==="row"?l.rowStyles:l.colStyles;if(p){const b=[];for(const[A,C]of Object.entries(p))b.push([A,C]);for(const[A]of b)delete p[A];for(const[A,C]of b){const w=Number(A);if(r>0)w>=n?p[String(w+r)]=C:p[A]=C;else{const R=Math.abs(r);w>=n&&w<n+R||(w>=n+R?p[String(w+r)]=C:p[A]=C)}}}const m=new Map(Object.entries(l.merges||{})),x=vR(m,t,n,r);l.merges={};for(const[b,A]of x)l.merges[b]=A}),this.dirty=!0}async moveCells(t,n,r,s){const a=this.tabId;this.doc.update(l=>{const u=l.sheets[a],d=[];for(const[A,C]of Object.entries(u.sheet))d.push([A,{v:C.v,f:C.f,s:C.s}]);for(const[A]of d)delete u.sheet[A];for(const[A,C]of d){const w=Pt(A),R=Yc(w,t,n,r,s),I=at(R);C.f?u.sheet[I]={...C,f:Mk(C.f,t,n,r,s)}:u.sheet[I]={...C}}const g=t==="row"?u.rowHeights:u.colWidths,p=[];for(const[A,C]of Object.entries(g))p.push([A,C]);for(const[A]of p)delete g[A];for(const[A,C]of p){const w=Number(A),R=Qc(w,n,r,s);g[String(R)]=C}const m=t==="row"?u.rowStyles:u.colStyles;if(m){const A=[];for(const[C,w]of Object.entries(m))A.push([C,w]);for(const[C]of A)delete m[C];for(const[C,w]of A){const R=Number(C),I=Qc(R,n,r,s);m[String(I)]=w}}const x=new Map(Object.entries(u.merges||{})),b=yR(x,t,n,r,s);u.merges={};for(const[A,C]of b)u.merges[A]=C}),this.dirty=!0}async getFormulaGrid(){const t=new Map,n=this.getSheet().sheet;for(const[r,s]of Object.entries(n))s.f&&t.set(r,s);return t}async buildDependantsMap(t){const n=new Map,r=this.getSheet().sheet;if(this.batchOverlay){for(const[s,a]of Object.entries(r))if(!this.batchOverlay.has(s)&&a.f)for(const l of Hc(gv(a.f)))lh(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(s));for(const[s,a]of this.batchOverlay)if(!(a===null||!a.f))for(const l of Hc(gv(a.f)))lh(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(s));return n}for(const[s,a]of Object.entries(r))if(a.f)for(const l of Hc(gv(a.f)))lh(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(s));return n}async setDimensionSize(t,n,r){if(this.batchOps){const a=this.tabId;this.batchOps.push(l=>{const u=t==="row"?l.sheets[a].rowHeights:l.sheets[a].colWidths;u[String(n)]=r});return}const s=this.tabId;this.doc.update(a=>{const l=t==="row"?a.sheets[s].rowHeights:a.sheets[s].colWidths;l[String(n)]=r})}async getDimensionSizes(t){const n=this.getSheet(),r=t==="row"?n.rowHeights:n.colWidths,s=new Map;if(r)for(const[a,l]of Object.entries(r))s.set(Number(a),l);return s}updateActiveCell(t){this.doc.update((n,r)=>{r.set({activeCell:at(t)})})}getPresences(){return this.doc.getOthersPresences()}async setColumnStyle(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].colStyles||(a.sheets[s].colStyles={}),a.sheets[s].colStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].colStyles||(s.sheets[r].colStyles={}),s.sheets[r].colStyles[String(t)]=n})}async getColumnStyles(){const t=this.getSheet(),n=new Map;if(t.colStyles)for(const[r,s]of Object.entries(t.colStyles))n.set(Number(r),s);return n}async setRowStyle(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].rowStyles||(a.sheets[s].rowStyles={}),a.sheets[s].rowStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].rowStyles||(s.sheets[r].rowStyles={}),s.sheets[r].rowStyles[String(t)]=n})}async getRowStyles(){const t=this.getSheet(),n=new Map;if(t.rowStyles)for(const[r,s]of Object.entries(t.rowStyles))n.set(Number(r),s);return n}async setSheetStyle(t){if(this.batchOps){const r=this.tabId;this.batchOps.push(s=>{s.sheets[r].sheetStyle=t});return}const n=this.tabId;this.doc.update(r=>{r.sheets[n].sheetStyle=t})}async getSheetStyle(){const t=this.getSheet();return t.sheetStyle?{...t.sheetStyle}:void 0}async setMerge(t,n){if(this.batchOps){const a=this.tabId,l=at(t);this.batchOps.push(u=>{u.sheets[a].merges||(u.sheets[a].merges={}),u.sheets[a].merges[l]={...n}});return}const r=this.tabId,s=at(t);this.doc.update(a=>{a.sheets[r].merges||(a.sheets[r].merges={}),a.sheets[r].merges[s]={...n}})}async deleteMerge(t){var a;const n=at(t);if(this.batchOps){const l=this.tabId;return!((a=this.getSheet().merges)!=null&&a[n])?!1:(this.batchOps.push(g=>{var p;(p=g.sheets[l].merges)!=null&&p[n]&&delete g.sheets[l].merges[n]}),!0)}let r=!1;const s=this.tabId;return this.doc.update(l=>{var u;(u=l.sheets[s].merges)!=null&&u[n]&&(delete l.sheets[s].merges[n],r=!0)}),r}async getMerges(){const t=this.getSheet(),n=new Map;if(!t.merges)return n;for(const[r,s]of Object.entries(t.merges))n.set(r,{...s});return n}async setFreezePane(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].frozenRows=t,a.sheets[s].frozenCols=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].frozenRows=t,s.sheets[r].frozenCols=n})}async getFreezePane(){const t=this.getSheet();return{frozenRows:t.frozenRows??0,frozenCols:t.frozenCols??0}}beginBatch(){this.batchOverlay=new Map,this.batchOps=[]}endBatch(){const t=this.batchOverlay,n=this.batchOps;this.batchOverlay=null,this.batchOps=null;const r=t&&t.size>0,s=n&&n.length>0;if(!r&&!s)return;const a=this.tabId;this.doc.update(l=>{const u=l.sheets[a];if(t)for(const[d,g]of t)g===null?u.sheet[d]!==void 0&&delete u.sheet[d]:u.sheet[d]=g;if(n)for(const d of n)d(l)}),this.dirty=!0}async undo(){if(!this.doc.history.canUndo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet)),n=new Map(Object.entries(this.getSheet().merges||{}));return this.doc.history.undo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t,n)}}async redo(){if(!this.doc.history.canRedo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet)),n=new Map(Object.entries(this.getSheet().merges||{}));return this.doc.history.redo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t,n)}}computeAffectedRange(t,n){const r=new Set(Object.keys(this.getSheet().sheet)),s=new Map(Object.entries(this.getSheet().merges||{})),a=new Set;for(const p of r)t.has(p)||a.add(p);for(const p of t)r.has(p)||a.add(p);for(const[p,m]of s){const x=n.get(p);(!x||x.rs!==m.rs||x.cs!==m.cs)&&a.add(p)}for(const p of n.keys())s.has(p)||a.add(p);if(a.size===0)return;let l=1/0,u=-1/0,d=1/0,g=-1/0;for(const p of a){const m=Pt(p);m.r<l&&(l=m.r),m.r>u&&(u=m.r),m.c<d&&(d=m.c),m.c>g&&(g=m.c)}return[{r:l,c:d},{r:u,c:g}]}canUndo(){return this.doc.history.canUndo()}canRedo(){return this.doc.history.canRedo()}}function Yk({tabId:e,readOnly:t=!1}){const{resolvedTheme:n}=Hk(),r=P.useRef(null),[s,a]=P.useState(!1),l=P.useRef(void 0),{doc:u,loading:d,error:g}=Ma.useDocument();return P.useEffect(()=>{a(!0)},[]),P.useEffect(()=>{const p=r.current;if(!s||!p||!u)return;let m,x=[],b=!1,A=!1,C=!1;return Uk(p,{theme:n,store:new Pq(u,e),readOnly:t}).then(w=>{if(b){w.cleanup();return}m=w,l.current=w;const R=()=>{if(!(b||!m)){if(A){C=!0;return}A=!0,m.reloadDimensions().then(()=>{if(!(b||!m))return m.recalculateCrossSheetFormulas()}).finally(()=>{A=!1,C&&(C=!1,queueMicrotask(R))})}};w.setGridResolver((I,N)=>{const D=u.getRoot(),L=Object.values(D.tabs).find($=>$.name.toUpperCase()===I);if(!L)return;const k=D.sheets[L.id];if(!k)return;const j=new Map;if(k.merges)for(const[$,K]of Object.entries(k.merges)){const ne=Pt($);for(let re=ne.r;re<ne.r+K.rs;re++)for(let Se=ne.c;Se<ne.c+K.cs;Se++){const Me=at({r:re,c:Se});Me!==$&&j.set(Me,$)}}const B=new Map;for(const $ of N){const K=Pt($),ne=at(K),re=j.get(ne)||ne,Se=k.sheet[re];Se&&B.set($,Se)}return B}),R(),x.push(u.subscribe(I=>{I.type==="remote-change"&&R()})),x.push(u.subscribe("presence",()=>m.renderOverlay()))}),()=>{b=!0,m&&m.cleanup(),l.current=void 0;for(const w of x)w()}},[s,r,u,e,t]),d?O.jsx(_u,{}):g?O.jsx("div",{className:"flex h-full w-full items-center justify-center",children:O.jsx("div",{className:"text-red-500",children:g.message})}):O.jsxs("div",{className:"flex h-full w-full flex-col",children:[!t&&O.jsx(Oq,{spreadsheet:l.current}),O.jsx("div",{ref:r,className:"flex-1 w-full"})]})}function Lq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const a1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mg(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ER(e){return"nodeType"in e}function Zi(e){var t,n;return e?Mg(e)?e:ER(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function AR(e){const{Document:t}=Zi(e);return e instanceof t}function oy(e){return Mg(e)?!1:e instanceof Zi(e).HTMLElement}function Wk(e){return e instanceof Zi(e).SVGElement}function Pg(e){return e?Mg(e)?e.document:ER(e)?AR(e)?e:oy(e)||Wk(e)?e.ownerDocument:document:document:document}const Pa=a1?P.useLayoutEffect:P.useEffect;function wR(e){const t=P.useRef(e);return Pa(()=>{t.current=e}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Fq(){const e=P.useRef(null),t=P.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=P.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Rv(e,t){t===void 0&&(t=[e]);const n=P.useRef(e);return Pa(()=>{n.current!==e&&(n.current=e)},t),n}function sy(e,t){const n=P.useRef();return P.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function gS(e){const t=wR(e),n=P.useRef(null),r=P.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function LC(e){const t=P.useRef();return P.useEffect(()=>{t.current=e},[e]),t.current}let Ow={};function ay(e,t){return P.useMemo(()=>{if(t)return t;const n=Ow[e]==null?0:Ow[e]+1;return Ow[e]=n,e+"-"+n},[e,t])}function qk(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>{const u=Object.entries(l);for(const[d,g]of u){const p=a[d];p!=null&&(a[d]=p+e*g)}return a},{...t})}}const Zp=qk(1),mS=qk(-1);function kq(e){return"clientX"in e&&"clientY"in e}function CR(e){if(!e)return!1;const{KeyboardEvent:t}=Zi(e.target);return t&&e instanceof t}function Bq(e){if(!e)return!1;const{TouchEvent:t}=Zi(e.target);return t&&e instanceof t}function FC(e){if(Bq(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return kq(e)?{x:e.clientX,y:e.clientY}:null}const Tv=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Tv.Translate.toString(e),Tv.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),BD="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function jq(e){return e.matches(BD)?e:e.querySelector(BD)}const zq={display:"none"};function Vq(e){let{id:t,value:n}=e;return Ke.createElement("div",{id:t,style:zq},n)}function Uq(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ke.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function Gq(){const[e,t]=P.useState("");return{announce:P.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Kk=P.createContext(null);function $q(e){const t=P.useContext(Kk);P.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Hq(){const[e]=P.useState(()=>new Set),t=P.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[P.useCallback(r=>{let{type:s,event:a}=r;e.forEach(l=>{var u;return(u=l[s])==null?void 0:u.call(l,a)})},[e]),t]}const Yq={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Wq={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function qq(e){let{announcements:t=Wq,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=Yq}=e;const{announce:a,announcement:l}=Gq(),u=ay("DndLiveRegion"),[d,g]=P.useState(!1);if(P.useEffect(()=>{g(!0)},[]),$q(P.useMemo(()=>({onDragStart(m){let{active:x}=m;a(t.onDragStart({active:x}))},onDragMove(m){let{active:x,over:b}=m;t.onDragMove&&a(t.onDragMove({active:x,over:b}))},onDragOver(m){let{active:x,over:b}=m;a(t.onDragOver({active:x,over:b}))},onDragEnd(m){let{active:x,over:b}=m;a(t.onDragEnd({active:x,over:b}))},onDragCancel(m){let{active:x,over:b}=m;a(t.onDragCancel({active:x,over:b}))}}),[a,t])),!d)return null;const p=Ke.createElement(Ke.Fragment,null,Ke.createElement(Vq,{id:r,value:s.draggable}),Ke.createElement(Uq,{id:u,announcement:l}));return n?Na.createPortal(p,n):p}var Ir;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ir||(Ir={}));function vS(){}function Kq(e,t){return P.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Xq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ds=Object.freeze({x:0,y:0});function Zq(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Jq(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Qq(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function eK(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function jD(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const tK=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=jD(t,t.left,t.top),a=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const g=Zq(jD(d),s);a.push({id:u,data:{droppableContainer:l,value:g}})}}return a.sort(Jq)};function nK(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),l=s-r,u=a-n;if(r<s&&n<a){const d=t.width*t.height,g=e.width*e.height,p=l*u,m=p/(d+g-p);return Number(m.toFixed(4))}return 0}const rK=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const a of r){const{id:l}=a,u=n.get(l);if(u){const d=nK(u,t);d>0&&s.push({id:l,data:{droppableContainer:a,value:d}})}}return s.sort(Qq)};function iK(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Xk(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ds}function oK(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const sK=oK(1);function aK(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function lK(e,t,n){const r=aK(t);if(!r)return e;const{scaleX:s,scaleY:a,x:l,y:u}=r,d=e.left-l-(1-s)*parseFloat(n),g=e.top-u-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?e.width/s:e.width,m=a?e.height/a:e.height;return{width:p,height:m,top:g,right:d+p,bottom:g+m,left:d}}const uK={ignoreTransform:!1};function Lg(e,t){t===void 0&&(t=uK);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:g,transformOrigin:p}=Zi(e).getComputedStyle(e);g&&(n=lK(n,g,p))}const{top:r,left:s,width:a,height:l,bottom:u,right:d}=n;return{top:r,left:s,width:a,height:l,bottom:u,right:d}}function zD(e){return Lg(e,{ignoreTransform:!0})}function cK(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function fK(e,t){return t===void 0&&(t=Zi(e).getComputedStyle(e)),t.position==="fixed"}function dK(e,t){t===void 0&&(t=Zi(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=t[s];return typeof a=="string"?n.test(a):!1})}function RR(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(AR(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!oy(s)||Wk(s)||n.includes(s))return n;const a=Zi(e).getComputedStyle(s);return s!==e&&dK(s,a)&&n.push(s),fK(s,a)?n:r(s.parentNode)}return e?r(e):n}function Zk(e){const[t]=RR(e,1);return t??null}function Dw(e){return!a1||!e?null:Mg(e)?e:ER(e)?AR(e)||e===Pg(e).scrollingElement?window:oy(e)?e:null:null}function Jk(e){return Mg(e)?e.scrollX:e.scrollLeft}function Qk(e){return Mg(e)?e.scrollY:e.scrollTop}function kC(e){return{x:Jk(e),y:Qk(e)}}var jr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(jr||(jr={}));function eB(e){return!a1||!e?!1:e===document.scrollingElement}function tB(e){const t={x:0,y:0},n=eB(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const hK={x:.2,y:.2};function pK(e,t,n,r,s){let{top:a,left:l,right:u,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=hK);const{isTop:g,isBottom:p,isLeft:m,isRight:x}=tB(e),b={x:0,y:0},A={x:0,y:0},C={height:t.height*s.y,width:t.width*s.x};return!g&&a<=t.top+C.height?(b.y=jr.Backward,A.y=r*Math.abs((t.top+C.height-a)/C.height)):!p&&d>=t.bottom-C.height&&(b.y=jr.Forward,A.y=r*Math.abs((t.bottom-C.height-d)/C.height)),!x&&u>=t.right-C.width?(b.x=jr.Forward,A.x=r*Math.abs((t.right-C.width-u)/C.width)):!m&&l<=t.left+C.width&&(b.x=jr.Backward,A.x=r*Math.abs((t.left+C.width-l)/C.width)),{direction:b,speed:A}}function gK(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function nB(e){return e.reduce((t,n)=>Zp(t,kC(n)),Ds)}function mK(e){return e.reduce((t,n)=>t+Jk(n),0)}function vK(e){return e.reduce((t,n)=>t+Qk(n),0)}function yK(e,t){if(t===void 0&&(t=Lg),!e)return;const{top:n,left:r,bottom:s,right:a}=t(e);Zk(e)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const xK=[["x",["left","right"],mK],["y",["top","bottom"],vK]];class TR{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=RR(n),s=nB(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,l,u]of xK)for(const d of l)Object.defineProperty(this,d,{get:()=>{const g=u(r),p=s[a]-g;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class mv{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function bK(e){const{EventTarget:t}=Zi(e);return e instanceof t?e:Pg(e)}function Mw(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Uo;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Uo||(Uo={}));function VD(e){e.preventDefault()}function SK(e){e.stopPropagation()}var bn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(bn||(bn={}));const rB={start:[bn.Space,bn.Enter],cancel:[bn.Esc],end:[bn.Space,bn.Enter,bn.Tab]},EK=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case bn.Right:return{...n,x:n.x+25};case bn.Left:return{...n,x:n.x-25};case bn.Down:return{...n,y:n.y+25};case bn.Up:return{...n,y:n.y-25}}};class iB{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new mv(Pg(n)),this.windowListeners=new mv(Zi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Uo.Resize,this.handleCancel),this.windowListeners.add(Uo.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Uo.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&yK(r),n(Ds)}handleKeyDown(t){if(CR(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=rB,coordinateGetter:l=EK,scrollBehavior:u="smooth"}=s,{code:d}=t;if(a.end.includes(d)){this.handleEnd(t);return}if(a.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:g}=r.current,p=g?{x:g.left,y:g.top}:Ds;this.referenceCoordinates||(this.referenceCoordinates=p);const m=l(t,{active:n,context:r.current,currentCoordinates:p});if(m){const x=mS(m,p),b={x:0,y:0},{scrollableAncestors:A}=r.current;for(const C of A){const w=t.code,{isTop:R,isRight:I,isLeft:N,isBottom:D,maxScroll:L,minScroll:k}=tB(C),j=gK(C),B={x:Math.min(w===bn.Right?j.right-j.width/2:j.right,Math.max(w===bn.Right?j.left:j.left+j.width/2,m.x)),y:Math.min(w===bn.Down?j.bottom-j.height/2:j.bottom,Math.max(w===bn.Down?j.top:j.top+j.height/2,m.y))},$=w===bn.Right&&!I||w===bn.Left&&!N,K=w===bn.Down&&!D||w===bn.Up&&!R;if($&&B.x!==m.x){const ne=C.scrollLeft+x.x,re=w===bn.Right&&ne<=L.x||w===bn.Left&&ne>=k.x;if(re&&!x.y){C.scrollTo({left:ne,behavior:u});return}re?b.x=C.scrollLeft-ne:b.x=w===bn.Right?C.scrollLeft-L.x:C.scrollLeft-k.x,b.x&&C.scrollBy({left:-b.x,behavior:u});break}else if(K&&B.y!==m.y){const ne=C.scrollTop+x.y,re=w===bn.Down&&ne<=L.y||w===bn.Up&&ne>=k.y;if(re&&!x.x){C.scrollTo({top:ne,behavior:u});return}re?b.y=C.scrollTop-ne:b.y=w===bn.Down?C.scrollTop-L.y:C.scrollTop-k.y,b.y&&C.scrollBy({top:-b.y,behavior:u});break}}this.handleMove(t,Zp(mS(m,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}iB.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=rB,onActivation:s}=t,{active:a}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=a.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function UD(e){return!!(e&&"distance"in e)}function GD(e){return!!(e&&"delay"in e)}class NR{constructor(t,n,r){var s;r===void 0&&(r=bK(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:l}=a;this.props=t,this.events=n,this.document=Pg(l),this.documentListeners=new mv(this.document),this.listeners=new mv(r),this.windowListeners=new mv(Zi(l)),this.initialCoordinates=(s=FC(a))!=null?s:Ds,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Uo.Resize,this.handleCancel),this.windowListeners.add(Uo.DragStart,VD),this.windowListeners.add(Uo.VisibilityChange,this.handleCancel),this.windowListeners.add(Uo.ContextMenu,VD),this.documentListeners.add(Uo.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(GD(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(UD(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Uo.Click,SK,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Uo.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:l,options:{activationConstraint:u}}=a;if(!s)return;const d=(n=FC(t))!=null?n:Ds,g=mS(s,d);if(!r&&u){if(UD(u)){if(u.tolerance!=null&&Mw(g,u.tolerance))return this.handleCancel();if(Mw(g,u.distance))return this.handleStart()}if(GD(u)&&Mw(g,u.tolerance))return this.handleCancel();this.handlePending(u,g);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===bn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const AK={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _R extends NR{constructor(t){const{event:n}=t,r=Pg(n.target);super(t,AK,r)}}_R.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const wK={move:{name:"mousemove"},end:{name:"mouseup"}};var BC;(function(e){e[e.RightClick=2]="RightClick"})(BC||(BC={}));class CK extends NR{constructor(t){super(t,wK,Pg(t.event.target))}}CK.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===BC.RightClick?!1:(r==null||r({event:n}),!0)}}];const Pw={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class RK extends NR{constructor(t){super(t,Pw)}static setup(){return window.addEventListener(Pw.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Pw.move.name,t)};function t(){}}}RK.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var vv;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(vv||(vv={}));var yS;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(yS||(yS={}));function TK(e){let{acceleration:t,activator:n=vv.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:l=5,order:u=yS.TreeOrder,pointerCoordinates:d,scrollableAncestors:g,scrollableAncestorRects:p,delta:m,threshold:x}=e;const b=_K({delta:m,disabled:!a}),[A,C]=Fq(),w=P.useRef({x:0,y:0}),R=P.useRef({x:0,y:0}),I=P.useMemo(()=>{switch(n){case vv.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case vv.DraggableRect:return s}},[n,s,d]),N=P.useRef(null),D=P.useCallback(()=>{const k=N.current;if(!k)return;const j=w.current.x*R.current.x,B=w.current.y*R.current.y;k.scrollBy(j,B)},[]),L=P.useMemo(()=>u===yS.TreeOrder?[...g].reverse():g,[u,g]);P.useEffect(()=>{if(!a||!g.length||!I){C();return}for(const k of L){if((r==null?void 0:r(k))===!1)continue;const j=g.indexOf(k),B=p[j];if(!B)continue;const{direction:$,speed:K}=pK(k,B,I,t,x);for(const ne of["x","y"])b[ne][$[ne]]||(K[ne]=0,$[ne]=0);if(K.x>0||K.y>0){C(),N.current=k,A(D,l),w.current=K,R.current=$;return}}w.current={x:0,y:0},R.current={x:0,y:0},C()},[t,D,r,C,a,l,JSON.stringify(I),JSON.stringify(b),A,g,L,p,JSON.stringify(x)])}const NK={x:{[jr.Backward]:!1,[jr.Forward]:!1},y:{[jr.Backward]:!1,[jr.Forward]:!1}};function _K(e){let{delta:t,disabled:n}=e;const r=LC(t);return sy(s=>{if(n||!r||!s)return NK;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[jr.Backward]:s.x[jr.Backward]||a.x===-1,[jr.Forward]:s.x[jr.Forward]||a.x===1},y:{[jr.Backward]:s.y[jr.Backward]||a.y===-1,[jr.Forward]:s.y[jr.Forward]||a.y===1}}},[n,t,r])}function IK(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return sy(s=>{var a;return t==null?null:(a=r??s)!=null?a:null},[r,t])}function OK(e,t){return P.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...a]},[]),[e,t])}var Nv;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Nv||(Nv={}));var jC;(function(e){e.Optimized="optimized"})(jC||(jC={}));const $D=new Map;function DK(e,t){let{dragging:n,dependencies:r,config:s}=t;const[a,l]=P.useState(null),{frequency:u,measure:d,strategy:g}=s,p=P.useRef(e),m=w(),x=Rv(m),b=P.useCallback(function(R){R===void 0&&(R=[]),!x.current&&l(I=>I===null?R:I.concat(R.filter(N=>!I.includes(N))))},[x]),A=P.useRef(null),C=sy(R=>{if(m&&!n)return $D;if(!R||R===$D||p.current!==e||a!=null){const I=new Map;for(let N of e){if(!N)continue;if(a&&a.length>0&&!a.includes(N.id)&&N.rect.current){I.set(N.id,N.rect.current);continue}const D=N.node.current,L=D?new TR(d(D),D):null;N.rect.current=L,L&&I.set(N.id,L)}return I}return R},[e,a,n,m,d]);return P.useEffect(()=>{p.current=e},[e]),P.useEffect(()=>{m||b()},[n,m]),P.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),P.useEffect(()=>{m||typeof u!="number"||A.current!==null||(A.current=setTimeout(()=>{b(),A.current=null},u))},[u,m,b,...r]),{droppableRects:C,measureDroppableContainers:b,measuringScheduled:a!=null};function w(){switch(g){case Nv.Always:return!1;case Nv.BeforeDragging:return n;default:return!n}}}function oB(e,t){return sy(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function MK(e,t){return oB(e,t)}function PK(e){let{callback:t,disabled:n}=e;const r=wR(t),s=P.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return P.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function l1(e){let{callback:t,disabled:n}=e;const r=wR(t),s=P.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return P.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function LK(e){return new TR(Lg(e),e)}function HD(e,t,n){t===void 0&&(t=LK);const[r,s]=P.useState(null);function a(){s(d=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=d??n)!=null?g:null}const p=t(e);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const l=PK({callback(d){if(e)for(const g of d){const{type:p,target:m}=g;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){a();break}}}}),u=l1({callback:a});return Pa(()=>{a(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function FK(e){const t=oB(e);return Xk(e,t)}const YD=[];function kK(e){const t=P.useRef(e),n=sy(r=>e?r&&r!==YD&&e&&t.current&&e.parentNode===t.current.parentNode?r:RR(e):YD,[e]);return P.useEffect(()=>{t.current=e},[e]),n}function BK(e){const[t,n]=P.useState(null),r=P.useRef(e),s=P.useCallback(a=>{const l=Dw(a.target);l&&n(u=>u?(u.set(l,kC(l)),new Map(u)):null)},[]);return P.useEffect(()=>{const a=r.current;if(e!==a){l(a);const u=e.map(d=>{const g=Dw(d);return g?(g.addEventListener("scroll",s,{passive:!0}),[g,kC(g)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(a)};function l(u){u.forEach(d=>{const g=Dw(d);g==null||g.removeEventListener("scroll",s)})}},[s,e]),P.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,l)=>Zp(a,l),Ds):nB(e):Ds,[e,t])}function WD(e,t){t===void 0&&(t=[]);const n=P.useRef(null);return P.useEffect(()=>{n.current=null},t),P.useEffect(()=>{const r=e!==Ds;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?mS(e,n.current):Ds}function jK(e){P.useEffect(()=>{if(!a1)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function zK(e,t){return P.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=l=>{a(l,t)},n},{}),[e,t])}function sB(e){return P.useMemo(()=>e?cK(e):null,[e])}const qD=[];function VK(e,t){t===void 0&&(t=Lg);const[n]=e,r=sB(n?Zi(n):null),[s,a]=P.useState(qD);function l(){a(()=>e.length?e.map(d=>eB(d)?r:new TR(t(d),d)):qD)}const u=l1({callback:l});return Pa(()=>{u==null||u.disconnect(),l(),e.forEach(d=>u==null?void 0:u.observe(d))},[e]),s}function UK(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return oy(t)?t:e}function GK(e){let{measure:t}=e;const[n,r]=P.useState(null),s=P.useCallback(g=>{for(const{target:p}of g)if(oy(p)){r(m=>{const x=t(p);return m?{...m,width:x.width,height:x.height}:x});break}},[t]),a=l1({callback:s}),l=P.useCallback(g=>{const p=UK(g);a==null||a.disconnect(),p&&(a==null||a.observe(p)),r(p?t(p):null)},[t,a]),[u,d]=gS(l);return P.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const $K=[{sensor:_R,options:{}},{sensor:iB,options:{}}],HK={current:{}},Zb={draggable:{measure:zD},droppable:{measure:zD,strategy:Nv.WhileDragging,frequency:jC.Optimized},dragOverlay:{measure:Lg}};class yv extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const YK={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new yv,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:vS},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Zb,measureDroppableContainers:vS,windowRect:null,measuringScheduled:!1},WK={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:vS,draggableNodes:new Map,over:null,measureDroppableContainers:vS},u1=P.createContext(WK),aB=P.createContext(YK);function qK(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new yv}}}function KK(e,t){switch(t.type){case Ir.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ir.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ir.DragEnd:case Ir.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ir.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new yv(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case Ir.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const l=new yv(e.droppable.containers);return l.set(n,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case Ir.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new yv(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function XK(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=P.useContext(u1),a=LC(r),l=LC(n==null?void 0:n.id);return P.useEffect(()=>{if(!t&&!r&&a&&l!=null){if(!CR(a)||document.activeElement===a.target)return;const u=s.get(l);if(!u)return;const{activatorNode:d,node:g}=u;if(!d.current&&!g.current)return;requestAnimationFrame(()=>{for(const p of[d.current,g.current]){if(!p)continue;const m=jq(p);if(m){m.focus();break}}})}},[r,t,s,l,a]),null}function ZK(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,a)=>a({transform:s,...r}),n):n}function JK(e){return P.useMemo(()=>({draggable:{...Zb.draggable,...e==null?void 0:e.draggable},droppable:{...Zb.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Zb.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function QK(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const a=P.useRef(!1),{x:l,y:u}=typeof s=="boolean"?{x:s,y:s}:s;Pa(()=>{if(!l&&!u||!t){a.current=!1;return}if(a.current||!r)return;const g=t==null?void 0:t.node.current;if(!g||g.isConnected===!1)return;const p=n(g),m=Xk(p,r);if(l||(m.x=0),u||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const x=Zk(g);x&&x.scrollBy({top:m.y,left:m.x})}},[t,l,u,r,n])}const lB=P.createContext({...Ds,scaleX:1,scaleY:1});var Dc;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Dc||(Dc={}));const eX=P.memo(function(t){var n,r,s,a;let{id:l,accessibility:u,autoScroll:d=!0,children:g,sensors:p=$K,collisionDetection:m=rK,measuring:x,modifiers:b,...A}=t;const C=P.useReducer(KK,void 0,qK),[w,R]=C,[I,N]=Hq(),[D,L]=P.useState(Dc.Uninitialized),k=D===Dc.Initialized,{draggable:{active:j,nodes:B,translate:$},droppable:{containers:K}}=w,ne=j!=null?B.get(j):null,re=P.useRef({initial:null,translated:null}),Se=P.useMemo(()=>{var an;return j!=null?{id:j,data:(an=ne==null?void 0:ne.data)!=null?an:HK,rect:re}:null},[j,ne]),Me=P.useRef(null),[Oe,ie]=P.useState(null),[Ee,de]=P.useState(null),ue=Rv(A,Object.values(A)),X=ay("DndDescribedBy",l),oe=P.useMemo(()=>K.getEnabled(),[K]),he=JK(x),{droppableRects:z,measureDroppableContainers:V,measuringScheduled:G}=DK(oe,{dragging:k,dependencies:[$.x,$.y],config:he.droppable}),Y=IK(B,j),Q=P.useMemo(()=>Ee?FC(Ee):null,[Ee]),Z=Hn(),J=MK(Y,he.draggable.measure);QK({activeNode:j!=null?B.get(j):null,config:Z.layoutShiftCompensation,initialRect:J,measure:he.draggable.measure});const se=HD(Y,he.draggable.measure,J),ye=HD(Y?Y.parentElement:null),xe=P.useRef({activatorEvent:null,active:null,activeNode:Y,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:B,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ae=K.getNodeFor((n=xe.current.over)==null?void 0:n.id),le=GK({measure:he.dragOverlay.measure}),we=(r=le.nodeRef.current)!=null?r:Y,Ie=k?(s=le.rect)!=null?s:se:null,je=!!(le.nodeRef.current&&le.rect),Ve=FK(je?null:se),me=sB(we?Zi(we):null),Pe=kK(k?ae??Y:null),Ze=VK(Pe),pt=ZK(b,{transform:{x:$.x-Ve.x,y:$.y-Ve.y,scaleX:1,scaleY:1},activatorEvent:Ee,active:Se,activeNodeRect:se,containerNodeRect:ye,draggingNodeRect:Ie,over:xe.current.over,overlayNodeRect:le.rect,scrollableAncestors:Pe,scrollableAncestorRects:Ze,windowRect:me}),gt=Q?Zp(Q,$):null,ge=BK(Pe),Ne=WD(ge),qe=WD(ge,[se]),Ye=Zp(pt,Ne),tt=Ie?sK(Ie,pt):null,lt=Se&&tt?m({active:Se,collisionRect:tt,droppableRects:z,droppableContainers:oe,pointerCoordinates:gt}):null,xt=eK(lt,"id"),[Rt,It]=P.useState(null),sn=je?pt:Zp(pt,qe),ke=iK(sn,(a=Rt==null?void 0:Rt.rect)!=null?a:null,se),nt=P.useRef(null),mt=P.useCallback((an,Zn)=>{let{sensor:rt,options:ln}=Zn;if(Me.current==null)return;const Jt=B.get(Me.current);if(!Jt)return;const rn=an.nativeEvent,gr=new rt({active:Me.current,activeNode:Jt,event:rn,options:ln,context:xe,onAbort(jt){if(!B.get(jt))return;const{onDragAbort:Lt}=ue.current,En={id:jt};Lt==null||Lt(En),I({type:"onDragAbort",event:En})},onPending(jt,un,Lt,En){if(!B.get(jt))return;const{onDragPending:xr}=ue.current,mi={id:jt,constraint:un,initialCoordinates:Lt,offset:En};xr==null||xr(mi),I({type:"onDragPending",event:mi})},onStart(jt){const un=Me.current;if(un==null)return;const Lt=B.get(un);if(!Lt)return;const{onDragStart:En}=ue.current,Oi={activatorEvent:rn,active:{id:un,data:Lt.data,rect:re}};Na.unstable_batchedUpdates(()=>{En==null||En(Oi),L(Dc.Initializing),R({type:Ir.DragStart,initialCoordinates:jt,active:un}),I({type:"onDragStart",event:Oi}),ie(nt.current),de(rn)})},onMove(jt){R({type:Ir.DragMove,coordinates:jt})},onEnd:qt(Ir.DragEnd),onCancel:qt(Ir.DragCancel)});nt.current=gr;function qt(jt){return async function(){const{active:Lt,collisions:En,over:Oi,scrollAdjustedTranslate:xr}=xe.current;let mi=null;if(Lt&&xr){const{cancelDrop:Ho}=ue.current;mi={activatorEvent:rn,active:Lt,collisions:En,delta:xr,over:Oi},jt===Ir.DragEnd&&typeof Ho=="function"&&await Promise.resolve(Ho(mi))&&(jt=Ir.DragCancel)}Me.current=null,Na.unstable_batchedUpdates(()=>{R({type:jt}),L(Dc.Uninitialized),It(null),ie(null),de(null),nt.current=null;const Ho=jt===Ir.DragEnd?"onDragEnd":"onDragCancel";if(mi){const Ji=ue.current[Ho];Ji==null||Ji(mi),I({type:Ho,event:mi})}})}}},[B]),Et=P.useCallback((an,Zn)=>(rt,ln)=>{const Jt=rt.nativeEvent,rn=B.get(ln);if(Me.current!==null||!rn||Jt.dndKit||Jt.defaultPrevented)return;const gr={active:rn};an(rt,Zn.options,gr)===!0&&(Jt.dndKit={capturedBy:Zn.sensor},Me.current=ln,mt(rt,Zn))},[B,mt]),Dt=OK(p,Et);jK(p),Pa(()=>{se&&D===Dc.Initializing&&L(Dc.Initialized)},[se,D]),P.useEffect(()=>{const{onDragMove:an}=ue.current,{active:Zn,activatorEvent:rt,collisions:ln,over:Jt}=xe.current;if(!Zn||!rt)return;const rn={active:Zn,activatorEvent:rt,collisions:ln,delta:{x:Ye.x,y:Ye.y},over:Jt};Na.unstable_batchedUpdates(()=>{an==null||an(rn),I({type:"onDragMove",event:rn})})},[Ye.x,Ye.y]),P.useEffect(()=>{const{active:an,activatorEvent:Zn,collisions:rt,droppableContainers:ln,scrollAdjustedTranslate:Jt}=xe.current;if(!an||Me.current==null||!Zn||!Jt)return;const{onDragOver:rn}=ue.current,gr=ln.get(xt),qt=gr&&gr.rect.current?{id:gr.id,rect:gr.rect.current,data:gr.data,disabled:gr.disabled}:null,jt={active:an,activatorEvent:Zn,collisions:rt,delta:{x:Jt.x,y:Jt.y},over:qt};Na.unstable_batchedUpdates(()=>{It(qt),rn==null||rn(jt),I({type:"onDragOver",event:jt})})},[xt]),Pa(()=>{xe.current={activatorEvent:Ee,active:Se,activeNode:Y,collisionRect:tt,collisions:lt,droppableRects:z,draggableNodes:B,draggingNode:we,draggingNodeRect:Ie,droppableContainers:K,over:Rt,scrollableAncestors:Pe,scrollAdjustedTranslate:Ye},re.current={initial:Ie,translated:tt}},[Se,Y,lt,tt,B,we,Ie,z,K,Rt,Pe,Ye]),TK({...Z,delta:$,draggingRect:tt,pointerCoordinates:gt,scrollableAncestors:Pe,scrollableAncestorRects:Ze});const vn=P.useMemo(()=>({active:Se,activeNode:Y,activeNodeRect:se,activatorEvent:Ee,collisions:lt,containerNodeRect:ye,dragOverlay:le,draggableNodes:B,droppableContainers:K,droppableRects:z,over:Rt,measureDroppableContainers:V,scrollableAncestors:Pe,scrollableAncestorRects:Ze,measuringConfiguration:he,measuringScheduled:G,windowRect:me}),[Se,Y,se,Ee,lt,ye,le,B,K,z,Rt,V,Pe,Ze,he,G,me]),Fn=P.useMemo(()=>({activatorEvent:Ee,activators:Dt,active:Se,activeNodeRect:se,ariaDescribedById:{draggable:X},dispatch:R,draggableNodes:B,over:Rt,measureDroppableContainers:V}),[Ee,Dt,Se,se,R,X,B,Rt,V]);return Ke.createElement(Kk.Provider,{value:N},Ke.createElement(u1.Provider,{value:Fn},Ke.createElement(aB.Provider,{value:vn},Ke.createElement(lB.Provider,{value:ke},g)),Ke.createElement(XK,{disabled:(u==null?void 0:u.restoreFocus)===!1})),Ke.createElement(qq,{...u,hiddenTextDescribedById:X}));function Hn(){const an=(Oe==null?void 0:Oe.autoScrollEnabled)===!1,Zn=typeof d=="object"?d.enabled===!1:d===!1,rt=k&&!an&&!Zn;return typeof d=="object"?{...d,enabled:rt}:{enabled:rt}}}),tX=P.createContext(null),KD="button",nX="Draggable";function rX(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const a=ay(nX),{activators:l,activatorEvent:u,active:d,activeNodeRect:g,ariaDescribedById:p,draggableNodes:m,over:x}=P.useContext(u1),{role:b=KD,roleDescription:A="draggable",tabIndex:C=0}=s??{},w=(d==null?void 0:d.id)===t,R=P.useContext(w?lB:tX),[I,N]=gS(),[D,L]=gS(),k=zK(l,t),j=Rv(n);Pa(()=>(m.set(t,{id:t,key:a,node:I,activatorNode:D,data:j}),()=>{const $=m.get(t);$&&$.key===a&&m.delete(t)}),[m,t]);const B=P.useMemo(()=>({role:b,tabIndex:C,"aria-disabled":r,"aria-pressed":w&&b===KD?!0:void 0,"aria-roledescription":A,"aria-describedby":p.draggable}),[r,b,C,w,A,p.draggable]);return{active:d,activatorEvent:u,activeNodeRect:g,attributes:B,isDragging:w,listeners:r?void 0:k,node:I,over:x,setNodeRef:N,setActivatorNodeRef:L,transform:R}}function iX(){return P.useContext(aB)}const oX="Droppable",sX={timeout:25};function aX(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const a=ay(oX),{active:l,dispatch:u,over:d,measureDroppableContainers:g}=P.useContext(u1),p=P.useRef({disabled:n}),m=P.useRef(!1),x=P.useRef(null),b=P.useRef(null),{disabled:A,updateMeasurementsFor:C,timeout:w}={...sX,...s},R=Rv(C??r),I=P.useCallback(()=>{if(!m.current){m.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{g(Array.isArray(R.current)?R.current:[R.current]),b.current=null},w)},[w]),N=l1({callback:I,disabled:A||!l}),D=P.useCallback((B,$)=>{N&&($&&(N.unobserve($),m.current=!1),B&&N.observe(B))},[N]),[L,k]=gS(D),j=Rv(t);return P.useEffect(()=>{!N||!L.current||(N.disconnect(),m.current=!1,N.observe(L.current))},[L,N]),P.useEffect(()=>(u({type:Ir.RegisterDroppable,element:{id:r,key:a,disabled:n,node:L,rect:x,data:j}}),()=>u({type:Ir.UnregisterDroppable,key:a,id:r})),[r]),P.useEffect(()=>{n!==p.current.disabled&&(u({type:Ir.SetDroppableDisabled,id:r,key:a,disabled:n}),p.current.disabled=n)},[r,a,n,u]),{active:l,rect:x,isOver:(d==null?void 0:d.id)===r,node:L,over:d,setNodeRef:k}}function uB(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function lX(e,t){return e.reduce((n,r,s)=>{const a=t.get(r);return a&&(n[s]=a),n},Array(e.length))}function Pb(e){return e!==null&&e>=0}function uX(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function cX(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Lb={scaleX:1,scaleY:1},fX=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:s,overIndex:a,index:l}=e;const u=(t=n[s])!=null?t:r;if(!u)return null;const d=dX(n,l,s);if(l===s){const g=n[a];return g?{x:s<a?g.left+g.width-(u.left+u.width):g.left-u.left,y:0,...Lb}:null}return l>s&&l<=a?{x:-u.width-d,y:0,...Lb}:l<s&&l>=a?{x:u.width+d,y:0,...Lb}:{x:0,y:0,...Lb}};function dX(e,t,n){const r=e[t],s=e[t-1],a=e[t+1];return!r||!s&&!a?0:n<t?s?r.left-(s.left+s.width):a.left-(r.left+r.width):a?a.left-(r.left+r.width):r.left-(s.left+s.width)}const cB=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const a=uB(t,r,n),l=t[s],u=a[s];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},fB="Sortable",dB=Ke.createContext({activeIndex:-1,containerId:fB,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:cB,disabled:{draggable:!1,droppable:!1}});function hX(e){let{children:t,id:n,items:r,strategy:s=cB,disabled:a=!1}=e;const{active:l,dragOverlay:u,droppableRects:d,over:g,measureDroppableContainers:p}=iX(),m=ay(fB,n),x=u.rect!==null,b=P.useMemo(()=>r.map(k=>typeof k=="object"&&"id"in k?k.id:k),[r]),A=l!=null,C=l?b.indexOf(l.id):-1,w=g?b.indexOf(g.id):-1,R=P.useRef(b),I=!uX(b,R.current),N=w!==-1&&C===-1||I,D=cX(a);Pa(()=>{I&&A&&p(b)},[I,b,A,p]),P.useEffect(()=>{R.current=b},[b]);const L=P.useMemo(()=>({activeIndex:C,containerId:m,disabled:D,disableTransforms:N,items:b,overIndex:w,useDragOverlay:x,sortedRects:lX(b,d),strategy:s}),[C,m,D.draggable,D.droppable,N,b,w,d,x,s]);return Ke.createElement(dB.Provider,{value:L},t)}const pX=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return uB(n,r,s).indexOf(t)},gX=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:a,newIndex:l,previousItems:u,previousContainerId:d,transition:g}=e;return!g||!r||u!==a&&s===l?!1:n?!0:l!==s&&t===d},mX={duration:200,easing:"ease"},hB="transform",vX=Tv.Transition.toString({property:hB,duration:0,easing:"linear"}),yX={roleDescription:"sortable"};function xX(e){let{disabled:t,index:n,node:r,rect:s}=e;const[a,l]=P.useState(null),u=P.useRef(n);return Pa(()=>{if(!t&&n!==u.current&&r.current){const d=s.current;if(d){const g=Lg(r.current,{ignoreTransform:!0}),p={x:d.left-g.left,y:d.top-g.top,scaleX:d.width/g.width,scaleY:d.height/g.height};(p.x||p.y)&&l(p)}}n!==u.current&&(u.current=n)},[t,n,r,s]),P.useEffect(()=>{a&&l(null)},[a]),a}function bX(e){let{animateLayoutChanges:t=gX,attributes:n,disabled:r,data:s,getNewIndex:a=pX,id:l,strategy:u,resizeObserverConfig:d,transition:g=mX}=e;const{items:p,containerId:m,activeIndex:x,disabled:b,disableTransforms:A,sortedRects:C,overIndex:w,useDragOverlay:R,strategy:I}=P.useContext(dB),N=SX(r,b),D=p.indexOf(l),L=P.useMemo(()=>({sortable:{containerId:m,index:D,items:p},...s}),[m,s,D,p]),k=P.useMemo(()=>p.slice(p.indexOf(l)),[p,l]),{rect:j,node:B,isOver:$,setNodeRef:K}=aX({id:l,data:L,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...d}}),{active:ne,activatorEvent:re,activeNodeRect:Se,attributes:Me,setNodeRef:Oe,listeners:ie,isDragging:Ee,over:de,setActivatorNodeRef:ue,transform:X}=rX({id:l,data:L,attributes:{...yX,...n},disabled:N.draggable}),oe=Lq(K,Oe),he=!!ne,z=he&&!A&&Pb(x)&&Pb(w),V=!R&&Ee,G=V&&z?X:null,Q=z?G??(u??I)({rects:C,activeNodeRect:Se,activeIndex:x,overIndex:w,index:D}):null,Z=Pb(x)&&Pb(w)?a({id:l,items:p,activeIndex:x,overIndex:w}):D,J=ne==null?void 0:ne.id,se=P.useRef({activeId:J,items:p,newIndex:Z,containerId:m}),ye=p!==se.current.items,xe=t({active:ne,containerId:m,isDragging:Ee,isSorting:he,id:l,index:D,items:p,newIndex:se.current.newIndex,previousItems:se.current.items,previousContainerId:se.current.containerId,transition:g,wasDragging:se.current.activeId!=null}),ae=xX({disabled:!xe,index:D,node:B,rect:j});return P.useEffect(()=>{he&&se.current.newIndex!==Z&&(se.current.newIndex=Z),m!==se.current.containerId&&(se.current.containerId=m),p!==se.current.items&&(se.current.items=p)},[he,Z,m,p]),P.useEffect(()=>{if(J===se.current.activeId)return;if(J!=null&&se.current.activeId==null){se.current.activeId=J;return}const we=setTimeout(()=>{se.current.activeId=J},50);return()=>clearTimeout(we)},[J]),{active:ne,activeIndex:x,attributes:Me,data:L,rect:j,index:D,newIndex:Z,items:p,isOver:$,isSorting:he,isDragging:Ee,listeners:ie,node:B,overIndex:w,over:de,setNodeRef:oe,setActivatorNodeRef:ue,setDroppableNodeRef:K,setDraggableNodeRef:Oe,transform:ae??Q,transition:le()};function le(){if(ae||ye&&se.current.newIndex===D)return vX;if(!(V&&!CR(re)||!g)&&(he||xe))return Tv.Transition.toString({...g,property:hB})}}function SX(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}bn.Down,bn.Right,bn.Up,bn.Left;const EX=e=>{let{transform:t}=e;return{...t,y:0}};function AX({tab:e,isActive:t,isEditing:n,editValue:r,onEditValueChange:s,onSelect:a,onStartRename:l,onCommitRename:u,onCancelRename:d,onContextMenu:g,inputRef:p}){const{attributes:m,listeners:x,setNodeRef:b,transform:A,transition:C,isDragging:w}=bX({id:e.id,disabled:n}),R={transform:Tv.Translate.toString(A),transition:C,zIndex:w?10:void 0,opacity:w?.5:void 0};return O.jsxs("button",{ref:b,style:R,className:St("flex items-center gap-1.5 px-3 py-1 text-sm rounded-t border-b-2 cursor-pointer select-none","hover:bg-muted/50 transition-colors",t?"border-primary bg-background text-foreground font-medium":"border-transparent text-muted-foreground"),onClick:a,onDoubleClick:l,onContextMenu:g,...m,...x,children:[e.type==="datasource"?O.jsx(Wv,{className:"size-3.5"}):O.jsx(YL,{className:"size-3.5"}),n?O.jsx("input",{ref:p,className:"w-20 bg-transparent border-b border-primary text-sm outline-none",value:r,onChange:I=>s(I.target.value),onBlur:u,onKeyDown:I=>{I.key==="Enter"&&u(),I.key==="Escape"&&d(),I.stopPropagation()},onMouseDown:I=>I.stopPropagation(),onClick:I=>I.stopPropagation(),onPointerDown:I=>I.stopPropagation()}):O.jsx("span",{children:e.name})]})}function wX({tabs:e,activeTabId:t,onSelectTab:n,onAddTab:r,onRenameTab:s,onDeleteTab:a,onMoveTab:l}){const[u,d]=P.useState(null),[g,p]=P.useState(""),[m,x]=P.useState(null),b=P.useRef(null),A=Xq(Kq(_R,{activationConstraint:{distance:5}}));P.useEffect(()=>{if(!u)return;const N=setTimeout(()=>{b.current&&(b.current.focus(),b.current.select())},50);return()=>clearTimeout(N)},[u]);const C=P.useCallback(N=>{d(N.id),p(N.name)},[]),w=P.useCallback(()=>{u&&g.trim()&&s(u,g.trim()),d(null)},[u,g,s]),R=P.useCallback(()=>{d(null)},[]),I=P.useCallback(N=>{const{active:D,over:L}=N;if(!L||D.id===L.id||!l)return;const k=e.findIndex(B=>B.id===D.id),j=e.findIndex(B=>B.id===L.id);k!==-1&&j!==-1&&l(k,j)},[e,l]);return O.jsxs("div",{className:"flex items-center border-t bg-muted/30 px-1 h-9 shrink-0",children:[O.jsx(eX,{sensors:A,collisionDetection:tK,modifiers:[EX],onDragEnd:I,children:O.jsx(hX,{items:e.map(N=>N.id),strategy:fX,children:e.map(N=>O.jsxs(Ca,{open:m===N.id,onOpenChange:D=>{D||x(null)},children:[O.jsx(Ra,{asChild:!0,children:O.jsx("div",{children:O.jsx(AX,{tab:N,isActive:N.id===t,isEditing:u===N.id,editValue:g,onEditValueChange:p,onSelect:()=>n(N.id),onStartRename:()=>C(N),onCommitRename:w,onCancelRename:R,onContextMenu:D=>{D.preventDefault(),x(N.id)},inputRef:b})})}),O.jsxs(Ta,{align:"start",children:[O.jsx(yr,{onClick:()=>{x(null),setTimeout(()=>C(N),0)},children:"Rename"}),e.length>1&&O.jsxs(O.Fragment,{children:[O.jsx(k2,{}),O.jsx(yr,{variant:"destructive",onClick:()=>a(N.id),children:"Delete"})]})]})]},N.id))})}),O.jsxs(Ca,{children:[O.jsx(Ra,{asChild:!0,children:O.jsx("button",{className:"flex items-center justify-center size-7 ml-1 rounded hover:bg-muted/50 text-muted-foreground cursor-pointer",children:O.jsx($L,{className:"size-4"})})}),O.jsxs(Ta,{align:"start",children:[O.jsxs(yr,{onClick:()=>r("sheet"),children:[O.jsx(YL,{className:"size-4"}),"New Sheet"]}),O.jsxs(yr,{onClick:()=>r("datasource"),children:[O.jsx(Wv,{className:"size-4"}),"New DataSource"]})]})]})]})}const Fg="https://wafflebase-api.yorkie.dev/datasources";async function XD(e){const t=await _i(Fg,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create datasource");return t.json()}async function zC(){const e=await _i(Fg);if(!e.ok)throw new Error("Failed to fetch datasources");return e.json()}async function CX(e,t){const n=await _i(`${Fg}/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update datasource");return n.json()}async function RX(e){if(!(await _i(`${Fg}/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete datasource")}async function xS(e){const t=await _i(`${Fg}/${e}/test`,{method:"POST"});if(!t.ok)throw new Error("Failed to test connection");return t.json()}async function TX(e,t){const n=await _i(`${Fg}/${e}/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.message||"Query execution failed")}return n.json()}function NX({tabId:e}){const{resolvedTheme:t}=Hk(),n=P.useRef(null),[r,s]=P.useState(!1),a=P.useRef(void 0),l=P.useRef(new H7),{doc:u,loading:d,error:g}=Ma.useDocument(),[p,m]=P.useState(""),[x,b]=P.useState(!1),[A,C]=P.useState(null),[w,R]=P.useState(null);P.useEffect(()=>{s(!0)},[]),P.useEffect(()=>{if(!u)return;const L=u.getRoot().tabs[e];L!=null&&L.query&&m(L.query)},[u,e]),P.useEffect(()=>{const D=n.current;if(!r||!D)return;let L,k=!1;return Uk(D,{theme:t,store:l.current,readOnly:!0}).then(j=>{if(k){j.cleanup();return}L=j,a.current=j}),()=>{k=!0,L&&L.cleanup(),a.current=void 0}},[r,t]);const I=P.useCallback(async()=>{if(!u||!p.trim())return;const L=u.getRoot().tabs[e];if(!(L!=null&&L.datasourceId)){R("No datasource connected to this tab");return}u.update(k=>{k.tabs[e]&&(k.tabs[e].query=p)}),b(!0),R(null);try{const k=await TX(L.datasourceId,p);C(k),l.current.loadQueryResults(k.columns,k.rows),a.current&&(await a.current.reloadDimensions(),a.current.render())}catch(k){R(k.message)}finally{b(!1)}},[u,e,p]),N=P.useCallback(D=>{(D.metaKey||D.ctrlKey)&&D.key==="Enter"&&(D.preventDefault(),I())},[I]);return d?O.jsx(_u,{}):g?O.jsx("div",{className:"flex h-full w-full items-center justify-center",children:O.jsx("div",{className:"text-red-500",children:g.message})}):O.jsxs("div",{className:"flex h-full w-full flex-col",children:[O.jsx("div",{className:"border-b p-2 shrink-0",children:O.jsx("textarea",{className:"w-full h-24 p-2 font-mono text-sm border rounded resize-y bg-background text-foreground focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"SELECT * FROM users LIMIT 100",value:p,onChange:D=>m(D.target.value),onKeyDown:N})}),O.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 border-b shrink-0",children:[O.jsxs(er,{size:"sm",onClick:I,disabled:x||!p.trim(),children:[O.jsx(O8,{className:"size-4"}),x?"Executing...":"Execute"]}),A&&O.jsxs("span",{className:"text-xs text-muted-foreground",children:[A.rowCount," row",A.rowCount!==1?"s":"",A.truncated?" (truncated)":""," in ",A.executionTime,"ms"]}),w&&O.jsx("span",{className:"text-xs text-destructive truncate",children:w})]}),O.jsx("div",{ref:n,className:"flex-1 w-full"})]})}var _X=d3[" useInsertionEffect ".trim().toString()]||Dr;function IX({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,l]=OX({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:s;{const p=P.useRef(e!==void 0);P.useEffect(()=>{const m=p.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const g=P.useCallback(p=>{var m;if(u){const x=DX(p)?p(e):p;x!==e&&((m=l.current)==null||m.call(l,x))}else a(p)},[u,e,a,l]);return[d,g]}function OX({defaultProp:e,onChange:t}){const[n,r]=P.useState(e),s=P.useRef(n),a=P.useRef(t);return _X(()=>{a.current=t},[t]),P.useEffect(()=>{var l;s.current!==n&&((l=a.current)==null||l.call(a,n),s.current=n)},[n,s]),[n,r,a]}function DX(e){return typeof e=="function"}var MX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pB=MX.reduce((e,t)=>{const n=Wc(`Primitive.${t}`),r=P.forwardRef((s,a)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(d,{...u,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),c1="Switch",[PX,JJ]=ka(c1),[LX,FX]=PX(c1),gB=P.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:l,disabled:u,value:d="on",onCheckedChange:g,form:p,...m}=e,[x,b]=P.useState(null),A=Sn(t,N=>b(N)),C=P.useRef(!1),w=x?p||!!x.closest("form"):!0,[R,I]=IX({prop:s,defaultProp:a??!1,onChange:g,caller:c1});return O.jsxs(LX,{scope:n,checked:R,disabled:u,children:[O.jsx(pB.button,{type:"button",role:"switch","aria-checked":R,"aria-required":l,"data-state":xB(R),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:A,onClick:dt(e.onClick,N=>{I(D=>!D),w&&(C.current=N.isPropagationStopped(),C.current||N.stopPropagation())})}),w&&O.jsx(yB,{control:x,bubbles:!C.current,name:r,value:d,checked:R,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});gB.displayName=c1;var mB="SwitchThumb",vB=P.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=FX(mB,n);return O.jsx(pB.span,{"data-state":xB(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});vB.displayName=mB;var kX="SwitchBubbleInput",yB=P.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const l=P.useRef(null),u=Sn(l,a),d=tF(n),g=bP(t);return P.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&b){const A=new Event("click",{bubbles:r});b.call(p,n),p.dispatchEvent(A)}},[d,n,r]),O.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yB.displayName=kX;function xB(e){return e?"checked":"unchecked"}var BX=gB,jX=vB;function IR({className:e,...t}){return O.jsx(BX,{"data-slot":"switch",className:St("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:O.jsx(jX,{"data-slot":"switch-thumb",className:St("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function bB({open:e,onOpenChange:t,onCreated:n}){const[r,s]=P.useState(""),[a,l]=P.useState("localhost"),[u,d]=P.useState("5432"),[g,p]=P.useState(""),[m,x]=P.useState(""),[b,A]=P.useState(""),[C,w]=P.useState(!1),[R,I]=P.useState(!1),[N,D]=P.useState(!1),[L,k]=P.useState(null),j=()=>{s(""),l("localhost"),d("5432"),p(""),x(""),A(""),w(!1),k(null)},B=async()=>{D(!0);try{const K=await XD({name:r,host:a,port:Number(u),database:g,username:m,password:b,sslEnabled:C});k(K.id),zn.success("DataSource created"),n(K),j(),t(!1)}catch{zn.error("Failed to create datasource")}finally{D(!1)}},$=async()=>{if(!L){D(!0);try{const K=await XD({name:r||"Untitled",host:a,port:Number(u),database:g,username:m,password:b,sslEnabled:C});k(K.id),I(!0);const ne=await xS(K.id);ne.success?zn.success("Connection successful"):zn.error(`Connection failed: ${ne.error}`)}catch{zn.error("Failed to test connection")}finally{D(!1),I(!1)}return}I(!0);try{const K=await xS(L);K.success?zn.success("Connection successful"):zn.error(`Connection failed: ${K.error}`)}catch{zn.error("Failed to test connection")}finally{I(!1)}};return O.jsx(Bv,{open:e,onOpenChange:K=>{K||j(),t(K)},children:O.jsxs(jv,{className:"sm:max-w-md",children:[O.jsxs(zv,{children:[O.jsx(Vv,{children:"New DataSource Connection"}),O.jsx(Uv,{children:"Connect to an external PostgreSQL database."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-name",children:"Name"}),O.jsx(Ti,{id:"ds-name",placeholder:"My Database",value:r,onChange:K=>s(K.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[O.jsxs("div",{className:"col-span-2 grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-host",children:"Host"}),O.jsx(Ti,{id:"ds-host",placeholder:"localhost",value:a,onChange:K=>l(K.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-port",children:"Port"}),O.jsx(Ti,{id:"ds-port",type:"number",value:u,onChange:K=>d(K.target.value)})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-database",children:"Database"}),O.jsx(Ti,{id:"ds-database",placeholder:"mydb",value:g,onChange:K=>p(K.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-username",children:"Username"}),O.jsx(Ti,{id:"ds-username",placeholder:"postgres",value:m,onChange:K=>x(K.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"ds-password",children:"Password"}),O.jsx(Ti,{id:"ds-password",type:"password",value:b,onChange:K=>A(K.target.value)})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(IR,{id:"ds-ssl",checked:C,onCheckedChange:w}),O.jsx(_r,{htmlFor:"ds-ssl",children:"Enable SSL"})]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx(er,{variant:"outline",onClick:$,disabled:R||!a||!g,children:R?"Testing...":"Test Connection"}),O.jsx(er,{onClick:B,disabled:N||!r||!a||!g||!m,children:N?"Saving...":"Save"})]})]})})}function zX({open:e,onOpenChange:t,onSelect:n}){const[r,s]=P.useState([]),[a,l]=P.useState(!1),[u,d]=P.useState(!1),[g,p]=P.useState(null);P.useEffect(()=>{e&&(l(!0),zC().then(s).catch(()=>s([])).finally(()=>l(!1)))},[e]);const m=()=>{const x=r.find(b=>b.id===g);x&&(n(x),t(!1))};return O.jsxs(O.Fragment,{children:[O.jsx(Bv,{open:e&&!u,onOpenChange:t,children:O.jsxs(jv,{className:"sm:max-w-sm",children:[O.jsxs(zv,{children:[O.jsx(Vv,{children:"Select DataSource"}),O.jsx(Uv,{children:"Choose an existing connection or create a new one."})]}),O.jsx("div",{className:"grid gap-4 py-2",children:a?O.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading..."}):r.length===0?O.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No datasources yet. Create one to get started."}):O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{children:"Connections"}),O.jsx("div",{className:"flex flex-col gap-1 max-h-60 overflow-y-auto",children:r.map(x=>O.jsxs("button",{className:St("flex items-center gap-2 px-3 py-2 rounded-md border text-sm text-left cursor-pointer","hover:bg-muted/50 transition-colors",g===x.id&&"bg-muted border-primary"),onClick:()=>p(x.id),onDoubleClick:()=>{n(x),t(!1)},children:[O.jsx(Wv,{className:"size-4 text-muted-foreground shrink-0"}),O.jsxs("div",{className:"flex flex-col min-w-0",children:[O.jsx("span",{className:"font-medium truncate",children:x.name}),O.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[x.host,":",x.port,"/",x.database]})]})]},x.id))})]})}),O.jsxs("div",{className:"flex justify-between",children:[O.jsxs(er,{variant:"outline",onClick:()=>d(!0),children:[O.jsx($L,{className:"size-4"}),"New Connection"]}),O.jsx(er,{disabled:!g,onClick:m,children:"Select"})]})]})}),O.jsx(bB,{open:u,onOpenChange:x=>{d(x),x||zC().then(s).catch(()=>{})},onCreated:x=>{n(x),t(!1),d(!1)}})]})}const Fb="tab-1",SB={tabs:{[Fb]:{id:Fb,name:"Sheet1",type:"sheet"}},tabOrder:[Fb],sheets:{[Fb]:{sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},merges:{},frozenRows:0,frozenCols:0}}},VX={main:[{title:"Documents",url:"/",icon:UL},{title:"Data Sources",url:"/datasources",icon:Wv}],secondary:[{title:"Settings",url:"/settings",icon:HL}]};function UX(e){if(!e)return;const t=e.getRoot();if(t.tabs||!t.sheet)return;const r="tab-1";e.update(s=>{s.tabs={[r]:{id:r,name:"Sheet1",type:"sheet"}},s.tabOrder=[r],s.sheets={[r]:{sheet:s.sheet||{},rowHeights:s.rowHeights||{},colWidths:s.colWidths||{},colStyles:s.colStyles||{},rowStyles:s.rowStyles||{},sheetStyle:s.sheetStyle,merges:s.merges||{},frozenRows:s.frozenRows||0,frozenCols:s.frozenCols||0}},delete s.sheet,delete s.rowHeights,delete s.colWidths,delete s.colStyles,delete s.rowStyles,delete s.sheetStyle,delete s.merges,delete s.frozenRows,delete s.frozenCols})}function ZD(){return`tab-${Date.now()}-${Math.random().toString(36).slice(2,6)}`}function GX({documentId:e}){FH();const t=Lv(),{doc:n}=Ma.useDocument(),[r,s]=P.useState(null),[a,l]=P.useState(!1),[u,d]=P.useState(!1),{data:g}=Fa({queryKey:["document",e],queryFn:()=>IV(e)}),p=P.useCallback(async D=>{await dM(e,D),t.invalidateQueries({queryKey:["document",e]}),t.invalidateQueries({queryKey:["documents"]})},[e,t]);P.useEffect(()=>{n&&(UX(n),l(!0))},[n]),P.useEffect(()=>{if(!n||!a)return;const D=n.getRoot();D.tabOrder&&D.tabOrder.length>0&&!r&&s(D.tabOrder[0])},[n,a,r]);const m=P.useCallback(()=>{if(!n)return;const D=n.getRoot(),L=ZD(),k=D.tabOrder.filter(j=>{var B;return((B=D.tabs[j])==null?void 0:B.type)==="sheet"}).length+1;n.update(j=>{j.tabs[L]={id:L,name:`Sheet${k}`,type:"sheet"},j.tabOrder.push(L),j.sheets[L]={sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},merges:{},frozenRows:0,frozenCols:0}}),s(L)},[n]),x=P.useCallback(D=>{if(!n)return;const L=n.getRoot(),k=ZD(),j=L.tabOrder.filter(B=>{var $;return(($=L.tabs[B])==null?void 0:$.type)==="datasource"}).length+1;n.update(B=>{B.tabs[k]={id:k,name:D.name||`DataSource${j}`,type:"datasource",datasourceId:D.id,query:""},B.tabOrder.push(k)}),s(k)},[n]),b=P.useCallback(D=>{D==="datasource"?d(!0):m()},[m]),A=P.useCallback((D,L)=>{n&&n.update(k=>{k.tabs[D]&&(k.tabs[D].name=L)})},[n]),C=P.useCallback(D=>{if(!n)return;const L=n.getRoot();if(L.tabOrder.length<=1)return;const k=L.tabOrder.indexOf(D);if(n.update(j=>{delete j.tabs[D],j.sheets[D]&&delete j.sheets[D];const B=j.tabOrder.indexOf(D);B!==-1&&j.tabOrder.splice(B,1)}),r===D){const j=n.getRoot(),B=Math.min(k,j.tabOrder.length-1);s(j.tabOrder[B])}},[n,r]),w=P.useCallback((D,L)=>{n&&n.update(k=>{const[j]=k.tabOrder.splice(D,1);k.tabOrder.splice(L,0,j)})},[n]);if(!n||!a||!r)return O.jsx(_u,{});const R=n.getRoot(),I=R.tabOrder.map(D=>R.tabs[D]).filter(Boolean),N=R.tabs[r];return O.jsxs(OL,{children:[O.jsx(QL,{variant:"inset",items:VX}),O.jsxs(DL,{children:[O.jsx(eF,{title:(g==null?void 0:g.title)??"Loading...",editable:!0,onRename:p,children:O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(LH,{documentId:e}),O.jsx(Y8,{})]})}),O.jsxs("div",{className:"flex flex-1 flex-col",children:[O.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:O.jsx("div",{className:"flex flex-col h-full",children:(N==null?void 0:N.type)==="datasource"?O.jsx(NX,{tabId:r}):O.jsx(Yk,{tabId:r})})}),O.jsx(wX,{tabs:I,activeTabId:r,onSelectTab:s,onAddTab:b,onRenameTab:A,onDeleteTab:C,onMoveTab:w})]})]}),O.jsx(zX,{open:u,onOpenChange:d,onSelect:x})]})}function $X(){const{id:e}=b3(),{data:t,isLoading:n,isError:r}=Fa({queryKey:["me"],queryFn:gh,retry:!1,staleTime:5*60*1e3});return n?O.jsx(_u,{}):r||!t?O.jsx("div",{children:"User not found"}):!t.username||!t.email?O.jsx(_u,{}):O.jsx(Ma.DocumentProvider,{docKey:`sheet-${e}`,initialRoot:SB,initialPresence:{username:t.username,email:t.email,photo:t.photo||""},enableDevtools:!1,children:O.jsx(GX,{documentId:e})})}const HX=wS("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function YX({className:e,variant:t,asChild:n=!1,...r}){const s=n?t2:"span";return O.jsx(s,{"data-slot":"badge",className:St(HX({variant:t}),e),...r})}function WX({datasource:e,open:t,onOpenChange:n,onSaved:r}){const[s,a]=P.useState(""),[l,u]=P.useState(""),[d,g]=P.useState("5432"),[p,m]=P.useState(""),[x,b]=P.useState(""),[A,C]=P.useState(""),[w,R]=P.useState(!1),[I,N]=P.useState(!1),[D,L]=P.useState(!1);P.useEffect(()=>{e&&(a(e.name),u(e.host),g(String(e.port)),m(e.database),b(e.username),C(""),R(e.sslEnabled))},[e]);const k=async()=>{if(e){L(!0);try{const B={};s!==e.name&&(B.name=s),l!==e.host&&(B.host=l),Number(d)!==e.port&&(B.port=Number(d)),p!==e.database&&(B.database=p),x!==e.username&&(B.username=x),A&&(B.password=A),w!==e.sslEnabled&&(B.sslEnabled=w),await CX(e.id,B),zn.success("DataSource updated"),r()}catch{zn.error("Failed to update datasource")}finally{L(!1)}}},j=async()=>{if(e){N(!0);try{const B=await xS(e.id);B.success?zn.success("Connection successful"):zn.error(`Connection failed: ${B.error}`)}catch{zn.error("Failed to test connection")}finally{N(!1)}}};return O.jsx(Bv,{open:t,onOpenChange:n,children:O.jsxs(jv,{className:"sm:max-w-md",children:[O.jsxs(zv,{children:[O.jsx(Vv,{children:"Edit DataSource"}),O.jsx(Uv,{children:"Update the connection settings for this datasource."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-name",children:"Name"}),O.jsx(Ti,{id:"edit-ds-name",value:s,onChange:B=>a(B.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[O.jsxs("div",{className:"col-span-2 grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-host",children:"Host"}),O.jsx(Ti,{id:"edit-ds-host",value:l,onChange:B=>u(B.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-port",children:"Port"}),O.jsx(Ti,{id:"edit-ds-port",type:"number",value:d,onChange:B=>g(B.target.value)})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-database",children:"Database"}),O.jsx(Ti,{id:"edit-ds-database",value:p,onChange:B=>m(B.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-username",children:"Username"}),O.jsx(Ti,{id:"edit-ds-username",value:x,onChange:B=>b(B.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(_r,{htmlFor:"edit-ds-password",children:"Password"}),O.jsx(Ti,{id:"edit-ds-password",type:"password",placeholder:"Leave blank to keep current",value:A,onChange:B=>C(B.target.value)})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(IR,{id:"edit-ds-ssl",checked:w,onCheckedChange:R}),O.jsx(_r,{htmlFor:"edit-ds-ssl",children:"Enable SSL"})]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx(er,{variant:"outline",onClick:j,disabled:I,children:I?"Testing...":"Test Connection"}),O.jsx(er,{onClick:k,disabled:D||!s||!l||!p||!x,children:D?"Saving...":"Save Changes"})]})]})})}function qX({data:e}){var k,j;const t=Lv(),[n,r]=P.useState(!1),[s,a]=P.useState(null),[l,u]=P.useState(null),[d,g]=P.useState({}),p=zb({mutationFn:async B=>await RX(B),onSuccess:()=>{t.invalidateQueries({queryKey:["datasources"]}),zn.success("DataSource deleted")},onError:()=>{zn.error("Failed to delete datasource")}}),m=async B=>{u(B),g($=>({...$,[B]:null}));try{const $=await xS(B);g(K=>({...K,[B]:$.success})),$.success?zn.success("Connection successful"):zn.error(`Connection failed: ${$.error}`)}catch{g($=>({...$,[B]:!1})),zn.error("Failed to test connection")}finally{u(null)}},x=[{accessorKey:"name",header:"Name",cell:({row:B})=>O.jsx("div",{className:"font-medium",children:B.getValue("name")})},{id:"connection",header:"Connection",cell:({row:B})=>{const $=B.original;return O.jsxs("div",{className:"text-sm text-muted-foreground",children:[$.host,":",$.port,"/",$.database]})}},{accessorKey:"username",header:"User",cell:({row:B})=>O.jsx("div",{className:"text-sm",children:B.getValue("username")})},{id:"ssl",header:"SSL",cell:({row:B})=>B.original.sslEnabled?O.jsx(YX,{variant:"secondary",children:"SSL"}):null},{id:"status",header:"Status",cell:({row:B})=>{const $=B.original.id,K=d[$];return l===$?O.jsx(W3,{className:"h-4 w-4 animate-spin text-muted-foreground"}):K===!0?O.jsx(R5,{className:"h-4 w-4 text-green-500"}):K===!1?O.jsx(N5,{className:"h-4 w-4 text-red-500"}):O.jsx("span",{className:"text-sm text-muted-foreground",children:""})}},{accessorKey:"createdAt",header:()=>O.jsx("div",{className:"text-right",children:"Created"}),cell:({row:B})=>{const $=B.getValue("createdAt"),K=TM(new Date($),{includeSeconds:!0,addSuffix:!0});return O.jsx("div",{className:"text-right text-sm",children:K})}},{id:"actions",enableHiding:!1,cell:({row:B})=>{const $=B.original;return O.jsxs(Ca,{children:[O.jsx(Ra,{asChild:!0,children:O.jsxs(er,{variant:"ghost",className:"h-8 w-8 p-0",children:[O.jsx("span",{className:"sr-only",children:"Open menu"}),O.jsx(H3,{})]})}),O.jsxs(Ta,{align:"end",children:[O.jsxs(yr,{onClick:K=>{K.stopPropagation(),m($.id)},children:[O.jsx(k5,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),O.jsxs(yr,{onClick:K=>{K.stopPropagation(),a($)},children:[O.jsx(q3,{className:"mr-2 h-4 w-4"}),"Edit"]}),O.jsx(k2,{}),O.jsxs(yr,{className:"text-red-500 focus:text-red-500",onClick:K=>{K.stopPropagation(),p.mutate($.id)},children:[O.jsx(X3,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}],[b,A]=P.useState([]),[C,w]=P.useState([]),[R,I]=P.useState({}),[N,D]=P.useState({}),L=RM({data:e,columns:x,onSortingChange:A,onColumnFiltersChange:w,getCoreRowModel:EM(),getPaginationRowModel:wM(),getSortedRowModel:CM(),getFilteredRowModel:AM(),onColumnVisibilityChange:I,onRowSelectionChange:D,state:{sorting:b,columnFilters:C,columnVisibility:R,rowSelection:N}});return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex items-center justify-between py-4",children:[O.jsx(Ti,{placeholder:"Filter by name...",value:((k=L.getColumn("name"))==null?void 0:k.getFilterValue())??"",onChange:B=>{var $;return($=L.getColumn("name"))==null?void 0:$.setFilterValue(B.target.value)},className:"max-w-sm"}),O.jsxs(er,{onClick:()=>r(!0),className:"flex items-center gap-2",children:[O.jsx(K3,{className:"w-4 h-4"}),"New DataSource"]})]}),O.jsx("div",{className:"rounded-md border",children:O.jsxs(mL,{children:[O.jsx(vL,{children:L.getHeaderGroups().map(B=>O.jsx(Kp,{children:B.headers.map($=>O.jsx(xL,{children:$.isPlaceholder?null:tS($.column.columnDef.header,$.getContext())},$.id))},B.id))}),O.jsx(yL,{children:(j=L.getRowModel().rows)!=null&&j.length?L.getRowModel().rows.map(B=>O.jsx(Kp,{"data-state":B.getIsSelected()&&"selected",children:B.getVisibleCells().map($=>O.jsx(uS,{children:tS($.column.columnDef.cell,$.getContext())},$.id))},B.id)):O.jsx(Kp,{children:O.jsx(uS,{colSpan:x.length,className:"h-24 text-center",children:"No datasources yet. Create one to get started."})})})]})}),O.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[O.jsx("div",{className:"flex-1"}),O.jsxs("div",{className:"space-x-2",children:[O.jsx(er,{variant:"outline",size:"sm",onClick:()=>L.previousPage(),disabled:!L.getCanPreviousPage(),children:"Previous"}),O.jsx(er,{variant:"outline",size:"sm",onClick:()=>L.nextPage(),disabled:!L.getCanNextPage(),children:"Next"})]})]}),O.jsx(bB,{open:n,onOpenChange:r,onCreated:()=>{r(!1),t.invalidateQueries({queryKey:["datasources"]})}}),O.jsx(WX,{datasource:s,open:s!==null,onOpenChange:B=>{B||a(null)},onSaved:()=>{a(null),t.invalidateQueries({queryKey:["datasources"]})}})]})}function KX(){const{data:e=[],isLoading:t,isError:n}=Fa({queryKey:["datasources"],queryFn:zC});return t?O.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:O.jsx("p",{className:"text-gray-500 text-lg",children:"Loading datasources..."})}):n?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[O.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load datasources."}),O.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):O.jsx("div",{className:"p-4",children:O.jsx(qX,{data:e})})}function XX({resolved:e}){const t=e.role==="viewer",{doc:n}=Ma.useDocument();if(!n)return O.jsx(_u,{});const r=n.getRoot(),s=r.tabOrder&&r.tabOrder.length>0?r.tabOrder[0]:"tab-1";return O.jsxs("div",{className:"flex h-screen w-full flex-col",children:[O.jsxs("header",{className:"flex h-14 shrink-0 items-center gap-2 border-b px-4",children:[O.jsx("h1",{className:"text-base font-medium",children:e.title}),t&&O.jsx("span",{className:"rounded bg-muted px-2 py-0.5 text-xs text-muted-foreground",children:"View only"})]}),O.jsx("div",{className:"flex flex-1 flex-col",children:O.jsx(Yk,{tabId:s,readOnly:t})})]})}function ZX({resolved:e}){const{data:t}=Fa({queryKey:["me"],queryFn:gh,retry:!1}),n={username:(t==null?void 0:t.username)||"Anonymous",email:(t==null?void 0:t.email)||"",photo:(t==null?void 0:t.photo)||""};return O.jsx(Ma.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:n.username},children:O.jsx(Ma.DocumentProvider,{docKey:`sheet-${e.documentId}`,initialRoot:SB,initialPresence:n,enableDevtools:!1,children:O.jsx(XX,{resolved:e})})})}function JX(){const{token:e}=b3(),[t,n]=P.useState(null),[r,s]=P.useState(null),[a,l]=P.useState(!0);return P.useEffect(()=>{if(!e){s("No share token provided"),l(!1);return}DH(e).then(u=>{n(u),l(!1)}).catch(u=>{s(u.message||"Invalid or expired link"),l(!1)})},[e]),a?O.jsx(_u,{}):r||!t?O.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:O.jsxs("div",{className:"text-center",children:[O.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Link unavailable"}),O.jsx("p",{className:"text-muted-foreground",children:r||"Invalid or expired link"})]})}):O.jsx(ZX,{resolved:t})}function QX(){const{theme:e,setTheme:t}=P.useContext(SR),n=()=>{t(e==="dark"?"light":"dark")};return O.jsx("div",{className:"max-w-2xl mx-auto p-6",children:O.jsxs("div",{className:"flex items-center justify-between p-4",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"theme-switch",className:"text-sm font-medium",children:"Theme"}),O.jsx("p",{className:"text-xs text-gray-500",children:"Toggle between light and dark themes."})]}),O.jsx("div",{className:"ml-4",children:O.jsx("div",{className:"flex items-center space-x-2",children:O.jsx(IR,{id:"theme-switch",checked:e==="dark",onCheckedChange:n})})})]})})}const eZ=()=>{const{data:e,isLoading:t}=Fa({queryKey:["me"],queryFn:gh,retry:!1});return t?O.jsx(_u,{}):e?O.jsx(Ma.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:e.username||"anonymous-user"},children:O.jsx(WC,{})}):O.jsx(A3,{to:"/login"})},tZ=()=>{const{data:e,isLoading:t}=Fa({queryKey:["me"],queryFn:gh,retry:!1});return t?O.jsx(_u,{}):e?O.jsx(A3,{to:"/"}):O.jsx(WC,{})},Lw={main:[{title:"Documents",url:"/",icon:UL},{title:"Data Sources",url:"/datasources",icon:Wv}],secondary:[{title:"Settings",url:"/settings",icon:HL}]};function nZ(){var n,r;const e=La();let t="";return e.pathname==="/"?t="Documents":e.pathname==="/datasources"?t="Data Sources":e.pathname==="/settings"?t="Settings":e.pathname.match(/^\/\d+$/)?t="Spreadsheet":t=((n=Lw.secondary.find(s=>s.url===e.pathname))==null?void 0:n.title)||((r=Lw.main.find(s=>e.pathname.startsWith(s.url)))==null?void 0:r.title)||"",O.jsxs(OL,{children:[O.jsx(QL,{variant:"inset",items:Lw}),O.jsxs(DL,{children:[O.jsx(eF,{title:t}),O.jsx("div",{className:"flex flex-1 flex-col",children:O.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:O.jsx("div",{className:"flex flex-col h-full",children:O.jsx(WC,{})})})})]})]})}function rZ(){return O.jsxs(Mq,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[O.jsx(Iz,{client:new Cz,children:O.jsx(ez,{basename:"/",children:O.jsxs(Oj,{children:[O.jsx(ba,{element:O.jsx(tZ,{}),children:O.jsx(ba,{path:"/login",element:O.jsx(TV,{})})}),O.jsx(ba,{path:"/shared/:token",element:O.jsx(JX,{})}),O.jsxs(ba,{element:O.jsx(eZ,{}),children:[O.jsxs(ba,{element:O.jsx(nZ,{}),children:[O.jsx(ba,{path:"/",element:O.jsx(w$,{})}),O.jsx(ba,{path:"/datasources",element:O.jsx(KX,{})}),O.jsx(ba,{path:"/settings",element:O.jsx(QX,{})})]}),O.jsx(ba,{path:"/:id",element:O.jsx($X,{})})]})]})})}),O.jsx(p5,{})]})}jB.createRoot(document.getElementById("root")).render(O.jsx(P.StrictMode,{children:O.jsx(rZ,{})}));
