import{u as O,T,a as R,b as B,d as L,c as S,e as K,S as F}from"./IconDotsVertical-f6cKZ-zy.js";import{j as e,r as o,l as H,L as y}from"./vendor-react-DTlow9yE.js";import{R as P,e as V,f as G,X as W,g as $,D as q,h as U,O as X,S as Q,n as Y,o as J,I as Z,F as ee,G as ae}from"./vendor-ui-DWkRr0MT.js";import{c as n}from"./utils-DjqsqOe8.js";import{D as te,a as se,b as re,d as ne,e as ie,c as oe}from"./dropdown-menu-2b3eoxrf.js";import{l as de,f as le}from"./index-B3niUjsX.js";import{u as ce}from"./vendor-app-CINdd9bB.js";import{c as ue}from"./index-3UDGtr2f.js";import{B as fe}from"./button-DOC9TnUA.js";function he({...a}){return e.jsx(P,{"data-slot":"sheet",...a})}function xe({...a}){return e.jsx(U,{"data-slot":"sheet-portal",...a})}function me({className:a,...t}){return e.jsx(X,{"data-slot":"sheet-overlay",className:n("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function pe({className:a,children:t,side:s="right",...r}){return e.jsxs(xe,{children:[e.jsx(me,{}),e.jsxs(V,{"data-slot":"sheet-content",className:n("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",a),...r,children:[t,e.jsxs(G,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(W,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function be({className:a,...t}){return e.jsx("div",{"data-slot":"sheet-header",className:n("flex flex-col gap-1.5 p-4",a),...t})}function ge({className:a,...t}){return e.jsx($,{"data-slot":"sheet-title",className:n("text-foreground font-semibold",a),...t})}function ve({className:a,...t}){return e.jsx(q,{"data-slot":"sheet-description",className:n("text-muted-foreground text-sm",a),...t})}const je="sidebar_state",we=60*60*24*7,Ne="16rem",Se="18rem",ye="3rem",Me="b",D=o.createContext(null);function v(){const a=o.useContext(D);if(!a)throw new Error("useSidebar must be used within a SidebarProvider.");return a}function We({defaultOpen:a=!0,open:t,onOpenChange:s,className:r,style:i,children:c,...x}){const d=O(),[u,f]=o.useState(!1),[l,z]=o.useState(a),p=t??l,b=o.useCallback(h=>{const m=typeof h=="function"?h(p):h;s?s(m):z(m),document.cookie=`${je}=${m}; path=/; max-age=${we}`},[s,p]),g=o.useCallback(()=>d?f(h=>!h):b(h=>!h),[d,b,f]);o.useEffect(()=>{const h=m=>{m.defaultPrevented||m.key===Me&&(m.metaKey||m.ctrlKey)&&(m.preventDefault(),g())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[g]);const M=p?"expanded":"collapsed",A=o.useMemo(()=>({state:M,open:p,setOpen:b,isMobile:d,openMobile:u,setOpenMobile:f,toggleSidebar:g}),[M,p,b,d,u,f,g]);return e.jsx(D.Provider,{value:A,children:e.jsx(T,{delayDuration:0,children:e.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Ne,"--sidebar-width-icon":ye,...i},className:n("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...x,children:c})})})}function Ce({side:a="left",variant:t="sidebar",collapsible:s="offcanvas",className:r,children:i,...c}){const{isMobile:x,state:d,openMobile:u,setOpenMobile:f}=v();return s==="none"?e.jsx("div",{"data-slot":"sidebar",className:n("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...c,children:i}):x?e.jsx(he,{open:u,onOpenChange:f,...c,children:e.jsxs(pe,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Se},side:a,children:[e.jsxs(be,{className:"sr-only",children:[e.jsx(ge,{children:"Sidebar"}),e.jsx(ve,{children:"Displays the mobile sidebar."})]}),e.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):e.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":d,"data-collapsible":d==="collapsed"?s:"","data-variant":t,"data-side":a,"data-slot":"sidebar",children:[e.jsx("div",{"data-slot":"sidebar-gap",className:n("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),e.jsx("div",{"data-slot":"sidebar-container",className:n("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",a==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...c,children:e.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function ke({className:a,onClick:t,...s}){const{toggleSidebar:r}=v();return e.jsxs(fe,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:n("size-7",a),onClick:i=>{t==null||t(i),r()},...s,children:[e.jsx(Y,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function $e({className:a,...t}){return e.jsx("main",{"data-slot":"sidebar-inset",className:n("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",a),...t})}function Ie({className:a,...t}){return e.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:n("flex flex-col gap-2 p-2",a),...t})}function De({className:a,...t}){return e.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:n("flex flex-col gap-2 p-2",a),...t})}function Ee({className:a,...t}){return e.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:n("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",a),...t})}function E({className:a,...t}){return e.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:n("relative flex w-full min-w-0 flex-col p-2",a),...t})}function _({className:a,...t}){return e.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:n("w-full text-sm",a),...t})}function j({className:a,...t}){return e.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:n("flex w-full min-w-0 flex-col gap-1",a),...t})}function w({className:a,...t}){return e.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:n("group/menu-item relative",a),...t})}const _e=ue("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function N({asChild:a=!1,isActive:t=!1,variant:s="default",size:r="default",tooltip:i,className:c,...x}){const d=a?Q:"button",{isMobile:u,state:f}=v(),l=e.jsx(d,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:n(_e({variant:s,size:r}),c),...x});return i?(typeof i=="string"&&(i={children:i}),e.jsxs(R,{children:[e.jsx(B,{asChild:!0,children:l}),e.jsx(L,{side:"right",align:"center",hidden:f!=="collapsed"||u,...i})]})):l}function ze({items:a}){const t=H(),s=o.useCallback(r=>{const i=t.pathname;return i===r||i.startsWith(r+"/")},[t.pathname]);return e.jsx(E,{children:e.jsx(_,{className:"flex flex-col gap-2",children:e.jsx(j,{children:a.map(r=>e.jsx(w,{children:e.jsx(N,{tooltip:r.title,isActive:s(r.url),children:e.jsxs(y,{to:r.url,className:"flex items-center gap-2",children:[r.icon&&e.jsx(r.icon,{}),e.jsx("span",{children:r.title})]})})},r.title))})})})}function Ae({items:a,...t}){return e.jsx(E,{...t,children:e.jsx(_,{children:e.jsx(j,{children:a.map(s=>e.jsx(w,{children:e.jsx(N,{asChild:!0,children:e.jsxs(y,{to:s.url,className:"flex items-center gap-2",children:[s.icon&&e.jsx(s.icon,{}),e.jsx("span",{children:s.title})]})})},s.title))})})})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qe=S("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oe=S("outline","logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ue=S("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);function C({className:a,...t}){return e.jsx(J,{"data-slot":"avatar",className:n("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...t})}function k({className:a,...t}){return e.jsx(Z,{"data-slot":"avatar-image",className:n("aspect-square size-full",a),...t})}function I({className:a,...t}){return e.jsx(ee,{"data-slot":"avatar-fallback",className:n("bg-muted flex size-full items-center justify-center rounded-full",a),...t})}function Te({user:a}){const{isMobile:t}=v(),s=async()=>{await de()};return e.jsx(j,{children:e.jsx(w,{children:e.jsxs(te,{children:[e.jsx(se,{asChild:!0,children:e.jsxs(N,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground cursor-pointer",children:[e.jsxs(C,{className:"h-8 w-8 rounded-lg",children:[e.jsx(k,{src:a.photo,alt:a.username}),e.jsx(I,{className:"rounded-lg",children:"CN"})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-medium",children:a.username}),e.jsx("span",{className:"text-muted-foreground truncate text-xs",children:a.email})]}),e.jsx(K,{className:"ml-auto size-4"})]})}),e.jsxs(re,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[e.jsx(ne,{className:"p-0 font-normal",children:e.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[e.jsxs(C,{className:"h-8 w-8 rounded-lg",children:[e.jsx(k,{src:a.photo,alt:a.username}),e.jsx(I,{className:"rounded-lg",children:"CN"})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-medium",children:a.username}),e.jsx("span",{className:"text-muted-foreground truncate text-xs",children:a.email})]})]})}),e.jsx(ie,{}),e.jsxs(oe,{onClick:s,className:"cursor-pointer",children:[e.jsx(Oe,{}),"Log out"]})]})]})})})}function Xe({items:a,...t}){const{data:s,isLoading:r}=ce({queryKey:["me"],queryFn:le,retry:!1});return r?null:e.jsxs(Ce,{collapsible:"offcanvas",...t,children:[e.jsx(Ie,{children:e.jsx(j,{children:e.jsx(w,{children:e.jsx(N,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5",children:e.jsxs(y,{to:"/",children:[e.jsx(ae,{className:"!size-5"}),e.jsx("span",{className:"text-base font-semibold",children:"Wafflebase"})]})})})})}),e.jsxs(Ee,{children:[e.jsx(ze,{items:a.main}),e.jsx(Ae,{items:a.secondary,className:"mt-auto"})]}),e.jsx(De,{children:e.jsx(Te,{user:s})})]})}function Qe({title:a,editable:t=!1,onRename:s,children:r}){const[i,c]=o.useState(!1),[x,d]=o.useState(a),u=o.useRef(null);o.useEffect(()=>{d(a)},[a]),o.useEffect(()=>{i&&u.current&&(u.current.focus(),u.current.select())},[i]);const f=o.useCallback(()=>{const l=x.trim();l&&l!==a&&s&&s(l),c(!1)},[x,a,s]);return e.jsx("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:e.jsxs("div",{className:"flex w-full items-center justify-between gap-1 px-4 lg:gap-2 lg:px-6 min-h-[3.5rem]",children:[e.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[e.jsx(ke,{className:"-ml-1"}),e.jsx(F,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),i?e.jsx("input",{ref:u,className:"text-base font-medium bg-transparent border-b border-primary outline-none px-1 min-w-[120px]",value:x,onChange:l=>d(l.target.value),onBlur:f,onKeyDown:l=>{l.key==="Enter"&&f(),l.key==="Escape"&&(d(a),c(!1))}}):e.jsx("h1",{className:`text-base font-medium ${t?"cursor-pointer hover:bg-muted/50 px-1 rounded transition-colors":""}`,onClick:()=>{t&&c(!0)},title:t?"Click to rename":void 0,children:a})]}),e.jsx("div",{className:"flex items-center min-w-0",children:r})]})})}export{C as A,Ue as I,We as S,k as a,I as b,Xe as c,qe as d,$e as e,Qe as f};
