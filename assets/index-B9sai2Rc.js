var MF=Object.defineProperty;var z2=e=>{throw TypeError(e)};var LF=(e,t,n)=>t in e?MF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>LF(e,typeof t!="symbol"?t+"":t,n),A1=(e,t,n)=>t.has(e)||z2("Cannot "+n);var he=(e,t,n)=>(A1(e,t,"read from private field"),n?n.call(e):t.get(e)),St=(e,t,n)=>t.has(e)?z2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ot=(e,t,n,r)=>(A1(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$t=(e,t,n)=>(A1(e,t,"access private method"),n);var Mx=(e,t,n,r)=>({set _(s){ot(e,t,s,n)},get _(){return he(e,t,r)}});function FF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var YO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var E1={exports:{}},a0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2;function kF(){if(U2)return a0;U2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var d in s)d!=="key"&&(a[d]=s[d])}else a=s;return s=a.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:a}}return a0.Fragment=t,a0.jsx=n,a0.jsxs=n,a0}var V2;function KO(){return V2||(V2=1,E1.exports=kF()),E1.exports}var P=KO(),C1={exports:{}},l0={},w1={exports:{}},R1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G2;function BF(){return G2||(G2=1,function(e){function t(re,Ie){var de=re.length;re.push(Ie);e:for(;0<de;){var fe=de-1>>>1,K=re[fe];if(0<s(K,Ie))re[fe]=Ie,re[de]=K,de=fe;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var Ie=re[0],de=re.pop();if(de!==Ie){re[0]=de;e:for(var fe=0,K=re.length,ne=K>>>1;fe<ne;){var me=2*(fe+1)-1,B=re[me],j=me+1,G=re[j];if(0>s(B,de))j<K&&0>s(G,B)?(re[fe]=G,re[j]=de,fe=j):(re[fe]=B,re[me]=de,fe=me);else if(j<K&&0>s(G,de))re[fe]=G,re[j]=de,fe=j;else break e}}return Ie}function s(re,Ie){var de=re.sortIndex-Ie.sortIndex;return de!==0?de:re.id-Ie.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],g=[],p=1,m=null,x=3,b=!1,E=!1,w=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function O(re){for(var Ie=n(g);Ie!==null;){if(Ie.callback===null)r(g);else if(Ie.startTime<=re)r(g),Ie.sortIndex=Ie.expirationTime,t(h,Ie);else break;Ie=n(g)}}function L(re){if(w=!1,O(re),!E)if(n(h)!==null)E=!0,k||(k=!0,se());else{var Ie=n(g);Ie!==null&&Me(L,Ie.startTime-re)}}var k=!1,V=-1,U=5,q=-1;function te(){return C?!0:!(e.unstable_now()-q<U)}function ie(){if(C=!1,k){var re=e.unstable_now();q=re;var Ie=!0;try{e:{E=!1,w&&(w=!1,_(V),V=-1),b=!0;var de=x;try{t:{for(O(re),m=n(h);m!==null&&!(m.expirationTime>re&&te());){var fe=m.callback;if(typeof fe=="function"){m.callback=null,x=m.priorityLevel;var K=fe(m.expirationTime<=re);if(re=e.unstable_now(),typeof K=="function"){m.callback=K,O(re),Ie=!0;break t}m===n(h)&&r(h),O(re)}else r(h);m=n(h)}if(m!==null)Ie=!0;else{var ne=n(g);ne!==null&&Me(L,ne.startTime-re),Ie=!1}}break e}finally{m=null,x=de,b=!1}Ie=void 0}}finally{Ie?se():k=!1}}}var se;if(typeof I=="function")se=function(){I(ie)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,je=Ce.port2;Ce.port1.onmessage=ie,se=function(){je.postMessage(null)}}else se=function(){T(ie,0)};function Me(re,Ie){V=T(function(){re(e.unstable_now())},Ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(re){switch(x){case 1:case 2:case 3:var Ie=3;break;default:Ie=x}var de=x;x=Ie;try{return re()}finally{x=de}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(re,Ie){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var de=x;x=re;try{return Ie()}finally{x=de}},e.unstable_scheduleCallback=function(re,Ie,de){var fe=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?fe+de:fe):de=fe,re){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=de+K,re={id:p++,callback:Ie,priorityLevel:re,startTime:de,expirationTime:K,sortIndex:-1},de>fe?(re.sortIndex=de,t(g,re),n(h)===null&&re===n(g)&&(w?(_(V),V=-1):w=!0,Me(L,de-fe))):(re.sortIndex=K,t(h,re),E||b||(E=!0,k||(k=!0,se()))),re},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(re){var Ie=x;return function(){var de=x;x=Ie;try{return re.apply(this,arguments)}finally{x=de}}}}(R1)),R1}var $2;function jF(){return $2||($2=1,w1.exports=BF()),w1.exports}var T1={exports:{}},Ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function zF(){if(H2)return Ut;H2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(K){return K===null||typeof K!="object"?null:(K=m&&K[m]||K["@@iterator"],typeof K=="function"?K:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function C(K,ne,me){this.props=K,this.context=ne,this.refs=w,this.updater=me||b}C.prototype.isReactComponent={},C.prototype.setState=function(K,ne){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ne,"setState")},C.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function T(){}T.prototype=C.prototype;function _(K,ne,me){this.props=K,this.context=ne,this.refs=w,this.updater=me||b}var I=_.prototype=new T;I.constructor=_,E(I,C.prototype),I.isPureReactComponent=!0;var O=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function V(K,ne,me,B,j,G){return me=G.ref,{$$typeof:e,type:K,key:ne,ref:me!==void 0?me:null,props:G}}function U(K,ne){return V(K.type,ne,void 0,void 0,void 0,K.props)}function q(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function te(K){var ne={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(me){return ne[me]})}var ie=/\/+/g;function se(K,ne){return typeof K=="object"&&K!==null&&K.key!=null?te(""+K.key):ne.toString(36)}function Ce(){}function je(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(Ce,Ce):(K.status="pending",K.then(function(ne){K.status==="pending"&&(K.status="fulfilled",K.value=ne)},function(ne){K.status==="pending"&&(K.status="rejected",K.reason=ne)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function Me(K,ne,me,B,j){var G=typeof K;(G==="undefined"||G==="boolean")&&(K=null);var H=!1;if(K===null)H=!0;else switch(G){case"bigint":case"string":case"number":H=!0;break;case"object":switch(K.$$typeof){case e:case t:H=!0;break;case p:return H=K._init,Me(H(K._payload),ne,me,B,j)}}if(H)return j=j(K),H=B===""?"."+se(K,0):B,O(j)?(me="",H!=null&&(me=H.replace(ie,"$&/")+"/"),Me(j,ne,me,"",function(Z){return Z})):j!=null&&(q(j)&&(j=U(j,me+(j.key==null||K&&K.key===j.key?"":(""+j.key).replace(ie,"$&/")+"/")+H)),ne.push(j)),1;H=0;var J=B===""?".":B+":";if(O(K))for(var X=0;X<K.length;X++)B=K[X],G=J+se(B,X),H+=Me(B,ne,me,G,j);else if(X=x(K),typeof X=="function")for(K=X.call(K),X=0;!(B=K.next()).done;)B=B.value,G=J+se(B,X++),H+=Me(B,ne,me,G,j);else if(G==="object"){if(typeof K.then=="function")return Me(je(K),ne,me,B,j);throw ne=String(K),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return H}function re(K,ne,me){if(K==null)return K;var B=[],j=0;return Me(K,B,"","",function(G){return ne.call(me,G,j++)}),B}function Ie(K){if(K._status===-1){var ne=K._result;ne=ne(),ne.then(function(me){(K._status===0||K._status===-1)&&(K._status=1,K._result=me)},function(me){(K._status===0||K._status===-1)&&(K._status=2,K._result=me)}),K._status===-1&&(K._status=0,K._result=ne)}if(K._status===1)return K._result.default;throw K._result}var de=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function fe(){}return Ut.Children={map:re,forEach:function(K,ne,me){re(K,function(){ne.apply(this,arguments)},me)},count:function(K){var ne=0;return re(K,function(){ne++}),ne},toArray:function(K){return re(K,function(ne){return ne})||[]},only:function(K){if(!q(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Ut.Component=C,Ut.Fragment=n,Ut.Profiler=s,Ut.PureComponent=_,Ut.StrictMode=r,Ut.Suspense=h,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ut.__COMPILER_RUNTIME={__proto__:null,c:function(K){return L.H.useMemoCache(K)}},Ut.cache=function(K){return function(){return K.apply(null,arguments)}},Ut.cloneElement=function(K,ne,me){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var B=E({},K.props),j=K.key,G=void 0;if(ne!=null)for(H in ne.ref!==void 0&&(G=void 0),ne.key!==void 0&&(j=""+ne.key),ne)!k.call(ne,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&ne.ref===void 0||(B[H]=ne[H]);var H=arguments.length-2;if(H===1)B.children=me;else if(1<H){for(var J=Array(H),X=0;X<H;X++)J[X]=arguments[X+2];B.children=J}return V(K.type,j,void 0,void 0,G,B)},Ut.createContext=function(K){return K={$$typeof:c,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:a,_context:K},K},Ut.createElement=function(K,ne,me){var B,j={},G=null;if(ne!=null)for(B in ne.key!==void 0&&(G=""+ne.key),ne)k.call(ne,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(j[B]=ne[B]);var H=arguments.length-2;if(H===1)j.children=me;else if(1<H){for(var J=Array(H),X=0;X<H;X++)J[X]=arguments[X+2];j.children=J}if(K&&K.defaultProps)for(B in H=K.defaultProps,H)j[B]===void 0&&(j[B]=H[B]);return V(K,G,void 0,void 0,null,j)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(K){return{$$typeof:d,render:K}},Ut.isValidElement=q,Ut.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:Ie}},Ut.memo=function(K,ne){return{$$typeof:g,type:K,compare:ne===void 0?null:ne}},Ut.startTransition=function(K){var ne=L.T,me={};L.T=me;try{var B=K(),j=L.S;j!==null&&j(me,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(fe,de)}catch(G){de(G)}finally{L.T=ne}},Ut.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ut.use=function(K){return L.H.use(K)},Ut.useActionState=function(K,ne,me){return L.H.useActionState(K,ne,me)},Ut.useCallback=function(K,ne){return L.H.useCallback(K,ne)},Ut.useContext=function(K){return L.H.useContext(K)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(K,ne){return L.H.useDeferredValue(K,ne)},Ut.useEffect=function(K,ne,me){var B=L.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(K,ne)},Ut.useId=function(){return L.H.useId()},Ut.useImperativeHandle=function(K,ne,me){return L.H.useImperativeHandle(K,ne,me)},Ut.useInsertionEffect=function(K,ne){return L.H.useInsertionEffect(K,ne)},Ut.useLayoutEffect=function(K,ne){return L.H.useLayoutEffect(K,ne)},Ut.useMemo=function(K,ne){return L.H.useMemo(K,ne)},Ut.useOptimistic=function(K,ne){return L.H.useOptimistic(K,ne)},Ut.useReducer=function(K,ne,me){return L.H.useReducer(K,ne,me)},Ut.useRef=function(K){return L.H.useRef(K)},Ut.useState=function(K){return L.H.useState(K)},Ut.useSyncExternalStore=function(K,ne,me){return L.H.useSyncExternalStore(K,ne,me)},Ut.useTransition=function(){return L.H.useTransition()},Ut.version="19.1.0",Ut}var W2;function Ob(){return W2||(W2=1,T1.exports=zF()),T1.exports}var N1={exports:{}},ti={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2;function UF(){if(Y2)return ti;Y2=1;var e=Ob();function t(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,g,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:h,containerInfo:g,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ti.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ti.createPortal=function(h,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return a(h,g,null,p)},ti.flushSync=function(h){var g=c.T,p=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=g,r.p=p,r.d.f()}},ti.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(h,g))},ti.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},ti.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var p=g.as,m=d(p,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:b}):p==="script"&&r.d.X(h,{crossOrigin:m,integrity:x,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ti.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=d(g.as,g.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(h)},ti.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,m=d(p,g.crossOrigin);r.d.L(h,p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ti.preloadModule=function(h,g){if(typeof h=="string")if(g){var p=d(g.as,g.crossOrigin);r.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(h)},ti.requestFormReset=function(h){r.d.r(h)},ti.unstable_batchedUpdates=function(h,g){return h(g)},ti.useFormState=function(h,g,p){return c.H.useFormState(h,g,p)},ti.useFormStatus=function(){return c.H.useHostTransitionStatus()},ti.version="19.1.0",ti}var q2;function XO(){if(q2)return N1.exports;q2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),N1.exports=UF(),N1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function VF(){if(K2)return l0;K2=1;var e=jF(),t=Ob(),n=XO();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)u+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,v=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(v=u.return),o=u.return;while(o)}return u.tag===3?v:null}function c(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(r(188))}function h(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var v=o,S=u;;){var R=v.return;if(R===null)break;var D=R.alternate;if(D===null){if(S=R.return,S!==null){v=S;continue}break}if(R.child===D.child){for(D=R.child;D;){if(D===v)return d(R),o;if(D===S)return d(R),u;D=D.sibling}throw Error(r(188))}if(v.return!==S.return)v=R,S=D;else{for(var $=!1,Q=R.child;Q;){if(Q===v){$=!0,v=R,S=D;break}if(Q===S){$=!0,S=R,v=D;break}Q=Q.sibling}if(!$){for(Q=D.child;Q;){if(Q===v){$=!0,v=D,S=R;break}if(Q===S){$=!0,S=D,v=R;break}Q=Q.sibling}if(!$)throw Error(r(189))}}if(v.alternate!==S)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?o:u}function g(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=g(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),I=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function se(o){return o===null||typeof o!="object"?null:(o=ie&&o[ie]||o["@@iterator"],typeof o=="function"?o:null)}var Ce=Symbol.for("react.client.reference");function je(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Ce?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case L:return"Suspense";case k:return"SuspenseList";case q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case I:return(o.displayName||"Context")+".Provider";case _:return(o._context.displayName||"Context")+".Consumer";case O:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case V:return u=o.displayName||null,u!==null?u:je(o.type)||"Memo";case U:u=o._payload,o=o._init;try{return je(o(u))}catch{}}return null}var Me=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},fe=[],K=-1;function ne(o){return{current:o}}function me(o){0>K||(o.current=fe[K],fe[K]=null,K--)}function B(o,u){K++,fe[K]=o.current,o.current=u}var j=ne(null),G=ne(null),H=ne(null),J=ne(null);function X(o,u){switch(B(H,u),B(G,o),B(j,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?u1(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=u1(u),o=c1(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}me(j),B(j,o)}function Z(){me(j),me(G),me(H)}function le(o){o.memoizedState!==null&&B(J,o);var u=j.current,v=c1(u,o.type);u!==v&&(B(G,o),B(j,v))}function xe(o){G.current===o&&(me(j),me(G)),J.current===o&&(me(J),ac._currentValue=de)}var Se=Object.prototype.hasOwnProperty,oe=e.unstable_scheduleCallback,ae=e.unstable_cancelCallback,Ee=e.unstable_shouldYield,Oe=e.unstable_requestPaint,Be=e.unstable_now,Ge=e.unstable_getCurrentPriorityLevel,ye=e.unstable_ImmediatePriority,Fe=e.unstable_UserBlockingPriority,Qe=e.unstable_NormalPriority,yt=e.unstable_LowPriority,ht=e.unstable_IdlePriority,pe=e.log,Ne=e.unstable_setDisableYieldValue,Ye=null,qe=null;function tt(o){if(typeof pe=="function"&&Ne(o),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Ye,o)}catch{}}var ft=Math.clz32?Math.clz32:Ot,bt=Math.log,jt=Math.LN2;function Ot(o){return o>>>=0,o===0?32:31-(bt(o)/jt|0)|0}var un=256,Le=4194304;function rt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function mt(o,u,v){var S=o.pendingLanes;if(S===0)return 0;var R=0,D=o.suspendedLanes,$=o.pingedLanes;o=o.warmLanes;var Q=S&134217727;return Q!==0?(S=Q&~D,S!==0?R=rt(S):($&=Q,$!==0?R=rt($):v||(v=Q&~o,v!==0&&(R=rt(v))))):(Q=S&~D,Q!==0?R=rt(Q):$!==0?R=rt($):v||(v=S&~o,v!==0&&(R=rt(v)))),R===0?0:u!==0&&u!==R&&(u&D)===0&&(D=R&-R,v=u&-u,D>=v||D===32&&(v&4194048)!==0)?u:R}function At(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Dt(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var o=un;return un<<=1,(un&4194048)===0&&(un=256),o}function Ln(){var o=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),o}function Yn(o){for(var u=[],v=0;31>v;v++)u.push(o);return u}function Ur(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Sa(o,u,v,S,R,D){var $=o.pendingLanes;o.pendingLanes=v,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=v,o.entangledLanes&=v,o.errorRecoveryDisabledLanes&=v,o.shellSuspendCounter=0;var Q=o.entanglements,ce=o.expirationTimes,_e=o.hiddenUpdates;for(v=$&~v;0<v;){var ze=31-ft(v),$e=1<<ze;Q[ze]=0,ce[ze]=-1;var De=_e[ze];if(De!==null)for(_e[ze]=null,ze=0;ze<De.length;ze++){var Pe=De[ze];Pe!==null&&(Pe.lane&=-536870913)}v&=~$e}S!==0&&dt(o,S,0),D!==0&&R===0&&o.tag!==0&&(o.suspendedLanes|=D&~($&~u))}function dt(o,u,v){o.pendingLanes|=u,o.suspendedLanes&=~u;var S=31-ft(u);o.entangledLanes|=u,o.entanglements[S]=o.entanglements[S]|1073741824|v&4194090}function Fn(o,u){var v=o.entangledLanes|=u;for(o=o.entanglements;v;){var S=31-ft(v),R=1<<S;R&u|o[S]&u&&(o[S]|=u),v&=~R}}function $n(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function lr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Aa(){var o=Ie.p;return o!==0?o:(o=window.event,o===void 0?32:M2(o.type))}function nn(o,u){var v=Ie.p;try{return Ie.p=o,u()}finally{Ie.p=v}}var kn=Math.random().toString(36).slice(2),Bn="__reactFiber$"+kn,rn="__reactProps$"+kn,ur="__reactContainer$"+kn,vu="__reactEvents$"+kn,ji="__reactListeners$"+kn,fh="__reactHandles$"+kn,xg="__reactResources$"+kn,Ea="__reactMarker$"+kn;function bg(o){delete o[Bn],delete o[rn],delete o[vu],delete o[ji],delete o[fh]}function ws(o){var u=o[Bn];if(u)return u;for(var v=o.parentNode;v;){if(u=v[ur]||v[Bn]){if(v=u.alternate,u.child!==null||v!==null&&v.child!==null)for(o=bx(o);o!==null;){if(v=o[Bn])return v;o=bx(o)}return u}o=v,v=o.parentNode}return null}function Do(o){if(o=o[Bn]||o[ur]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function xu(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function Rs(o){var u=o[xg];return u||(u=o[xg]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function qn(o){o[Ea]=!0}var Sg=new Set,Ag={};function Ts(o,u){Ca(o,u),Ca(o+"Capture",u)}function Ca(o,u){for(Ag[o]=u,o=0;o<u.length;o++)Sg.add(u[o])}var Eg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_y={},Zc={};function Iy(o){return Se.call(Zc,o)?!0:Se.call(_y,o)?!1:Eg.test(o)?Zc[o]=!0:(_y[o]=!0,!1)}function Po(o,u,v){if(Iy(u))if(v===null)o.removeAttribute(u);else{switch(typeof v){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var S=u.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+v)}}function Jc(o,u,v){if(v===null)o.removeAttribute(u);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+v)}}function Mo(o,u,v,S){if(S===null)o.removeAttribute(v);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(v);return}o.setAttributeNS(u,v,""+S)}}var wa,Oy;function io(o){if(wa===void 0)try{throw Error()}catch(v){var u=v.stack.trim().match(/\n( *(at )?)/);wa=u&&u[1]||"",Oy=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+o+Oy}var Qc=!1;function Cg(o,u){if(!o||Qc)return"";Qc=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(u){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Pe){var De=Pe}Reflect.construct(o,[],$e)}else{try{$e.call()}catch(Pe){De=Pe}o.call($e.prototype)}}else{try{throw Error()}catch(Pe){De=Pe}($e=o())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Pe){if(Pe&&De&&typeof Pe.stack=="string")return[Pe.stack,De.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=S.DetermineComponentFrameRoot(),$=D[0],Q=D[1];if($&&Q){var ce=$.split(`
`),_e=Q.split(`
`);for(R=S=0;S<ce.length&&!ce[S].includes("DetermineComponentFrameRoot");)S++;for(;R<_e.length&&!_e[R].includes("DetermineComponentFrameRoot");)R++;if(S===ce.length||R===_e.length)for(S=ce.length-1,R=_e.length-1;1<=S&&0<=R&&ce[S]!==_e[R];)R--;for(;1<=S&&0<=R;S--,R--)if(ce[S]!==_e[R]){if(S!==1||R!==1)do if(S--,R--,0>R||ce[S]!==_e[R]){var ze=`
`+ce[S].replace(" at new "," at ");return o.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",o.displayName)),ze}while(1<=S&&0<=R);break}}}finally{Qc=!1,Error.prepareStackTrace=v}return(v=o?o.displayName||o.name:"")?io(v):""}function ES(o){switch(o.tag){case 26:case 27:case 5:return io(o.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 15:return Cg(o.type,!1);case 11:return Cg(o.type.render,!1);case 1:return Cg(o.type,!0);case 31:return io("Activity");default:return""}}function Dy(o){try{var u="";do u+=ES(o),o=o.return;while(o);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function Vr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function wg(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function CS(o){var u=wg(o)?"checked":"value",v=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),S=""+o[u];if(!o.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var R=v.get,D=v.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return R.call(this)},set:function($){S=""+$,D.call(this,$)}}),Object.defineProperty(o,u,{enumerable:v.enumerable}),{getValue:function(){return S},setValue:function($){S=""+$},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function dh(o){o._valueTracker||(o._valueTracker=CS(o))}function Py(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var v=u.getValue(),S="";return o&&(S=wg(o)?o.checked?"true":"false":o.value),o=S,o!==v?(u.setValue(o),!0):!1}function hh(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ef=/[\n"\\]/g;function Er(o){return o.replace(ef,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Rg(o,u,v,S,R,D,$,Q){o.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?o.type=$:o.removeAttribute("type"),u!=null?$==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Vr(u)):o.value!==""+Vr(u)&&(o.value=""+Vr(u)):$!=="submit"&&$!=="reset"||o.removeAttribute("value"),u!=null?tf(o,$,Vr(u)):v!=null?tf(o,$,Vr(v)):S!=null&&o.removeAttribute("value"),R==null&&D!=null&&(o.defaultChecked=!!D),R!=null&&(o.checked=R&&typeof R!="function"&&typeof R!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?o.name=""+Vr(Q):o.removeAttribute("name")}function Tg(o,u,v,S,R,D,$,Q){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.type=D),u!=null||v!=null){if(!(D!=="submit"&&D!=="reset"||u!=null))return;v=v!=null?""+Vr(v):"",u=u!=null?""+Vr(u):v,Q||u===o.value||(o.value=u),o.defaultValue=u}S=S??R,S=typeof S!="function"&&typeof S!="symbol"&&!!S,o.checked=Q?o.checked:!!S,o.defaultChecked=!!S,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(o.name=$)}function tf(o,u,v){u==="number"&&hh(o.ownerDocument)===o||o.defaultValue===""+v||(o.defaultValue=""+v)}function bu(o,u,v,S){if(o=o.options,u){u={};for(var R=0;R<v.length;R++)u["$"+v[R]]=!0;for(v=0;v<o.length;v++)R=u.hasOwnProperty("$"+o[v].value),o[v].selected!==R&&(o[v].selected=R),R&&S&&(o[v].defaultSelected=!0)}else{for(v=""+Vr(v),u=null,R=0;R<o.length;R++){if(o[R].value===v){o[R].selected=!0,S&&(o[R].defaultSelected=!0);return}u!==null||o[R].disabled||(u=o[R])}u!==null&&(u.selected=!0)}}function Ng(o,u,v){if(u!=null&&(u=""+Vr(u),u!==o.value&&(o.value=u),v==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=v!=null?""+Vr(v):""}function My(o,u,v,S){if(u==null){if(S!=null){if(v!=null)throw Error(r(92));if(Me(S)){if(1<S.length)throw Error(r(93));S=S[0]}v=S}v==null&&(v=""),u=v}v=Vr(u),o.defaultValue=v,S=o.textContent,S===v&&S!==""&&S!==null&&(o.value=S)}function Ns(o,u){if(u){var v=o.firstChild;if(v&&v===o.lastChild&&v.nodeType===3){v.nodeValue=u;return}}o.textContent=u}var Ly=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fy(o,u,v){var S=u.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?S?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":S?o.setProperty(u,v):typeof v!="number"||v===0||Ly.has(u)?u==="float"?o.cssFloat=v:o[u]=(""+v).trim():o[u]=v+"px"}function ky(o,u,v){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,v!=null){for(var S in v)!v.hasOwnProperty(S)||u!=null&&u.hasOwnProperty(S)||(S.indexOf("--")===0?o.setProperty(S,""):S==="float"?o.cssFloat="":o[S]="");for(var R in u)S=u[R],u.hasOwnProperty(R)&&v[R]!==S&&Fy(o,R,S)}else for(var D in u)u.hasOwnProperty(D)&&Fy(o,D,u[D])}function _g(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),By=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nf(o){return By.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var rf=null;function of(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ra=null,Ta=null;function jy(o){var u=Do(o);if(u&&(o=u.stateNode)){var v=o[rn]||null;e:switch(o=u.stateNode,u.type){case"input":if(Rg(o,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),u=v.name,v.type==="radio"&&u!=null){for(v=o;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+Er(""+u)+'"][type="radio"]'),u=0;u<v.length;u++){var S=v[u];if(S!==o&&S.form===o.form){var R=S[rn]||null;if(!R)throw Error(r(90));Rg(S,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(u=0;u<v.length;u++)S=v[u],S.form===o.form&&Py(S)}break e;case"textarea":Ng(o,v.value,v.defaultValue);break e;case"select":u=v.value,u!=null&&bu(o,!!v.multiple,u,!1)}}}var Ig=!1;function zy(o,u,v){if(Ig)return o(u,v);Ig=!0;try{var S=o(u);return S}finally{if(Ig=!1,(Ra!==null||Ta!==null)&&(Js(),Ra&&(u=Ra,o=Ta,Ta=Ra=null,jy(u),o)))for(u=0;u<o.length;u++)jy(o[u])}}function Na(o,u){var v=o.stateNode;if(v===null)return null;var S=v[rn]||null;if(S===null)return null;v=S[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(o=o.type,S=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!S;break e;default:o=!1}if(o)return null;if(v&&typeof v!="function")throw Error(r(231,u,typeof v));return v}var Lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Og=!1;if(Lo)try{var sf={};Object.defineProperty(sf,"passive",{get:function(){Og=!0}}),window.addEventListener("test",sf,sf),window.removeEventListener("test",sf,sf)}catch{Og=!1}var _s=null,Su=null,Si=null;function Uy(){if(Si)return Si;var o,u=Su,v=u.length,S,R="value"in _s?_s.value:_s.textContent,D=R.length;for(o=0;o<v&&u[o]===R[o];o++);var $=v-o;for(S=1;S<=$&&u[v-S]===R[D-S];S++);return Si=R.slice(o,1<S?1-S:void 0)}function ph(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function gh(){return!0}function Vy(){return!1}function Gr(o){function u(v,S,R,D,$){this._reactName=v,this._targetInst=R,this.type=S,this.nativeEvent=D,this.target=$,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(v=o[Q],this[Q]=v?v(D):D[Q]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?gh:Vy,this.isPropagationStopped=Vy,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=gh)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=gh)},persist:function(){},isPersistent:gh}),u}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=Gr(Is),_r=p({},Is,{view:0,detail:0}),RS=Gr(_r),Dg,mh,af,yh=p({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==af&&(af&&o.type==="mousemove"?(Dg=o.screenX-af.screenX,mh=o.screenY-af.screenY):mh=Dg=0,af=o),Dg)},movementY:function(o){return"movementY"in o?o.movementY:mh}}),Pg=Gr(yh),It=p({},yh,{dataTransfer:0}),T2=Gr(It),TS=p({},_r,{relatedTarget:0}),vh=Gr(TS),Gy=p({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),$y=Gr(Gy),Hy=p({},Is,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Wy=Gr(Hy),Yy=p({},Is,{data:0}),Mg=Gr(Yy),qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zy(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Xy[o])?!!u[o]:!1}function xh(){return Zy}var Jy=p({},_r,{key:function(o){if(o.key){var u=qy[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=ph(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ky[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(o){return o.type==="keypress"?ph(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ph(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Qy=Gr(Jy),ev=p({},yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=Gr(ev),tv=p({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),nv=Gr(tv),rv=p({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),iv=Gr(rv),ov=p({},yh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),NS=Gr(ov),Ai=p({},Is,{newState:0,oldState:0}),sv=Gr(Ai),av=[9,13,27,32],Fg=Lo&&"CompositionEvent"in window,lf=null;Lo&&"documentMode"in document&&(lf=document.documentMode);var kg=Lo&&"TextEvent"in window&&!lf,_a=Lo&&(!Fg||lf&&8<lf&&11>=lf),oo=" ",lv=!1;function uv(o,u){switch(o){case"keyup":return av.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Au=!1;function fv(o,u){switch(o){case"compositionend":return cv(u);case"keypress":return u.which!==32?null:(lv=!0,oo);case"textInput":return o=u.data,o===oo&&lv?null:o;default:return null}}function _S(o,u){if(Au)return o==="compositionend"||!Fg&&uv(o,u)?(o=Uy(),Si=Su=_s=null,Au=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return _a&&u.locale!=="ko"?null:u.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bg(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!IS[o.type]:u==="textarea"}function dv(o,u,v,S){Ra?Ta?Ta.push(S):Ta=[S]:Ra=S,u=Mf(u,"onChange"),0<u.length&&(v=new Fo("onChange","change",null,v,S),o.push({event:v,listeners:u}))}var Ei=null,Os=null;function hv(o){Ao(o,0)}function Ia(o){var u=xu(o);if(Py(u))return o}function jg(o,u){if(o==="change")return u}var pv=!1;if(Lo){var zg;if(Lo){var bh="oninput"in document;if(!bh){var gv=document.createElement("div");gv.setAttribute("oninput","return;"),bh=typeof gv.oninput=="function"}zg=bh}else zg=!1;pv=zg&&(!document.documentMode||9<document.documentMode)}function mv(){Ei&&(Ei.detachEvent("onpropertychange",yv),Os=Ei=null)}function yv(o){if(o.propertyName==="value"&&Ia(Os)){var u=[];dv(u,Os,o,of(o)),zy(hv,u)}}function OS(o,u,v){o==="focusin"?(mv(),Ei=u,Os=v,Ei.attachEvent("onpropertychange",yv)):o==="focusout"&&mv()}function DS(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ia(Os)}function vv(o,u){if(o==="click")return Ia(u)}function Ug(o,u){if(o==="input"||o==="change")return Ia(u)}function PS(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var $r=typeof Object.is=="function"?Object.is:PS;function uf(o,u){if($r(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var v=Object.keys(o),S=Object.keys(u);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var R=v[S];if(!Se.call(u,R)||!$r(o[R],u[R]))return!1}return!0}function Sh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function xv(o,u){var v=Sh(o);o=0;for(var S;v;){if(v.nodeType===3){if(S=o+v.textContent.length,o<=u&&S>=u)return{node:v,offset:u-o};o=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Sh(v)}}function bv(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?bv(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Sv(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=hh(o.document);u instanceof o.HTMLIFrameElement;){try{var v=typeof u.contentWindow.location.href=="string"}catch{v=!1}if(v)o=u.contentWindow;else break;u=hh(o.document)}return u}function Vg(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var Ah=Lo&&"documentMode"in document&&11>=document.documentMode,Oa=null,Gg=null,cf=null,Eh=!1;function Av(o,u,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Eh||Oa==null||Oa!==hh(S)||(S=Oa,"selectionStart"in S&&Vg(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),cf&&uf(cf,S)||(cf=S,S=Mf(Gg,"onSelect"),0<S.length&&(u=new Fo("onSelect","select",null,u,v),o.push({event:u,listeners:S}),u.target=Oa)))}function Da(o,u){var v={};return v[o.toLowerCase()]=u.toLowerCase(),v["Webkit"+o]="webkit"+u,v["Moz"+o]="moz"+u,v}var Eu={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},Pa={},$g={};Lo&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function Ma(o){if(Pa[o])return Pa[o];if(!Eu[o])return o;var u=Eu[o],v;for(v in u)if(u.hasOwnProperty(v)&&v in $g)return Pa[o]=u[v];return o}var Ev=Ma("animationend"),Ch=Ma("animationiteration"),ff=Ma("animationstart"),MS=Ma("transitionrun"),LS=Ma("transitionstart"),FS=Ma("transitioncancel"),Cv=Ma("transitionend"),wv=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function ui(o,u){wv.set(o,u),Ts(u,[o])}var Hg=new WeakMap;function Ci(o,u){if(typeof o=="object"&&o!==null){var v=Hg.get(o);return v!==void 0?v:(u={value:o,source:u,stack:Dy(u)},Hg.set(o,u),u)}return{value:o,source:u,stack:Dy(u)}}var ci=[],Cu=0,Wg=0;function Rh(){for(var o=Cu,u=Wg=Cu=0;u<o;){var v=ci[u];ci[u++]=null;var S=ci[u];ci[u++]=null;var R=ci[u];ci[u++]=null;var D=ci[u];if(ci[u++]=null,S!==null&&R!==null){var $=S.pending;$===null?R.next=R:(R.next=$.next,$.next=R),S.pending=R}D!==0&&Rv(v,R,D)}}function ko(o,u,v,S){ci[Cu++]=o,ci[Cu++]=u,ci[Cu++]=v,ci[Cu++]=S,Wg|=S,o.lanes|=S,o=o.alternate,o!==null&&(o.lanes|=S)}function Th(o,u,v,S){return ko(o,u,v,S),Nh(o)}function wu(o,u){return ko(o,null,null,u),Nh(o)}function Rv(o,u,v){o.lanes|=v;var S=o.alternate;S!==null&&(S.lanes|=v);for(var R=!1,D=o.return;D!==null;)D.childLanes|=v,S=D.alternate,S!==null&&(S.childLanes|=v),D.tag===22&&(o=D.stateNode,o===null||o._visibility&1||(R=!0)),o=D,D=D.return;return o.tag===3?(D=o.stateNode,R&&u!==null&&(R=31-ft(v),o=D.hiddenUpdates,S=o[R],S===null?o[R]=[u]:S.push(u),u.lane=v|536870912),D):null}function Nh(o){if(50<fn)throw fn=0,Tr=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Ru={};function kS(o,u,v,S){this.tag=o,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(o,u,v,S){return new kS(o,u,v,S)}function df(o){return o=o.prototype,!(!o||!o.isReactComponent)}function wi(o,u){var v=o.alternate;return v===null?(v=Cr(o.tag,u,o.key,o.mode),v.elementType=o.elementType,v.type=o.type,v.stateNode=o.stateNode,v.alternate=o,o.alternate=v):(v.pendingProps=u,v.type=o.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=o.flags&65011712,v.childLanes=o.childLanes,v.lanes=o.lanes,v.child=o.child,v.memoizedProps=o.memoizedProps,v.memoizedState=o.memoizedState,v.updateQueue=o.updateQueue,u=o.dependencies,v.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},v.sibling=o.sibling,v.index=o.index,v.ref=o.ref,v.refCleanup=o.refCleanup,v}function hf(o,u){o.flags&=65011714;var v=o.alternate;return v===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=v.childLanes,o.lanes=v.lanes,o.child=v.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=v.memoizedProps,o.memoizedState=v.memoizedState,o.updateQueue=v.updateQueue,o.type=v.type,u=v.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function _h(o,u,v,S,R,D){var $=0;if(S=o,typeof o=="function")df(o)&&($=1);else if(typeof o=="string")$=en(o,v,j.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case q:return o=Cr(31,v,u,R),o.elementType=q,o.lanes=D,o;case E:return Ds(v.children,R,D,u);case w:$=8,R|=24;break;case C:return o=Cr(12,v,u,R|2),o.elementType=C,o.lanes=D,o;case L:return o=Cr(13,v,u,R),o.elementType=L,o.lanes=D,o;case k:return o=Cr(19,v,u,R),o.elementType=k,o.lanes=D,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:case I:$=10;break e;case _:$=9;break e;case O:$=11;break e;case V:$=14;break e;case U:$=16,S=null;break e}$=29,v=Error(r(130,o===null?"null":typeof o,"")),S=null}return u=Cr($,v,u,R),u.elementType=o,u.type=S,u.lanes=D,u}function Ds(o,u,v,S){return o=Cr(7,o,S,u),o.lanes=v,o}function Yg(o,u,v){return o=Cr(6,o,null,u),o.lanes=v,o}function qg(o,u,v){return u=Cr(4,o.children!==null?o.children:[],o.key,u),u.lanes=v,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Tu=[],Nu=0,Ih=null,Oh=0,fi=[],Hr=0,Ps=null,so=1,Ht="";function La(o,u){Tu[Nu++]=Oh,Tu[Nu++]=Ih,Ih=o,Oh=u}function Tv(o,u,v){fi[Hr++]=so,fi[Hr++]=Ht,fi[Hr++]=Ps,Ps=o;var S=so;o=Ht;var R=32-ft(S)-1;S&=~(1<<R),v+=1;var D=32-ft(u)+R;if(30<D){var $=R-R%5;D=(S&(1<<$)-1).toString(32),S>>=$,R-=$,so=1<<32-ft(u)+R|v<<R|S,Ht=D+o}else so=1<<D|v<<R|S,Ht=o}function Kg(o){o.return!==null&&(La(o,1),Tv(o,1,0))}function Dh(o){for(;o===Ih;)Ih=Tu[--Nu],Tu[Nu]=null,Oh=Tu[--Nu],Tu[Nu]=null;for(;o===Ps;)Ps=fi[--Hr],fi[Hr]=null,Ht=fi[--Hr],fi[Hr]=null,so=fi[--Hr],fi[Hr]=null}var Ir=null,jn=null,Qt=!1,Ms=null,zi=!1,Xg=Error(r(519));function Ui(o){var u=Error(r(418,""));throw gf(Ci(u,o)),Xg}function Nv(o){var u=o.stateNode,v=o.type,S=o.memoizedProps;switch(u[Bn]=o,u[rn]=S,v){case"dialog":Mt("cancel",u),Mt("close",u);break;case"iframe":case"object":case"embed":Mt("load",u);break;case"video":case"audio":for(v=0;v<So.length;v++)Mt(So[v],u);break;case"source":Mt("error",u);break;case"img":case"image":case"link":Mt("error",u),Mt("load",u);break;case"details":Mt("toggle",u);break;case"input":Mt("invalid",u),Tg(u,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),dh(u);break;case"select":Mt("invalid",u);break;case"textarea":Mt("invalid",u),My(u,S.value,S.defaultValue,S.children),dh(u)}v=S.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||u.textContent===""+v||S.suppressHydrationWarning===!0||px(u.textContent,v)?(S.popover!=null&&(Mt("beforetoggle",u),Mt("toggle",u)),S.onScroll!=null&&Mt("scroll",u),S.onScrollEnd!=null&&Mt("scrollend",u),S.onClick!=null&&(u.onclick=Ja),u=!0):u=!1,u||Ui(o)}function _v(o){for(Ir=o.return;Ir;)switch(Ir.tag){case 5:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:Ir=Ir.return}}function pf(o){if(o!==Ir)return!1;if(!Qt)return _v(o),Qt=!0,!1;var u=o.tag,v;if((v=u!==3&&u!==27)&&((v=u===5)&&(v=o.type,v=!(v!=="form"&&v!=="button")||ic(o.type,o.memoizedProps)),v=!v),v&&jn&&Ui(o),_v(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(v=o.data,v==="/$"){if(u===0){jn=ei(o.nextSibling);break e}u--}else v!=="$"&&v!=="$!"&&v!=="$?"||u++;o=o.nextSibling}jn=null}}else u===27?(u=jn,ss(o.type)?(o=n0,n0=null,jn=o):jn=u):jn=Ir?ei(o.stateNode.nextSibling):null;return!0}function _u(){jn=Ir=null,Qt=!1}function Fa(){var o=Ms;return o!==null&&(kr===null?kr=o:kr.push.apply(kr,o),Ms=null),o}function gf(o){Ms===null?Ms=[o]:Ms.push(o)}var Zg=ne(null),ka=null,Bo=null;function Ls(o,u,v){B(Zg,u._currentValue),u._currentValue=v}function jo(o){o._currentValue=Zg.current,me(Zg)}function Jg(o,u,v){for(;o!==null;){var S=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,S!==null&&(S.childLanes|=u)):S!==null&&(S.childLanes&u)!==u&&(S.childLanes|=u),o===v)break;o=o.return}}function Ph(o,u,v,S){var R=o.child;for(R!==null&&(R.return=o);R!==null;){var D=R.dependencies;if(D!==null){var $=R.child;D=D.firstContext;e:for(;D!==null;){var Q=D;D=R;for(var ce=0;ce<u.length;ce++)if(Q.context===u[ce]){D.lanes|=v,Q=D.alternate,Q!==null&&(Q.lanes|=v),Jg(D.return,v,o),S||($=null);break e}D=Q.next}}else if(R.tag===18){if($=R.return,$===null)throw Error(r(341));$.lanes|=v,D=$.alternate,D!==null&&(D.lanes|=v),Jg($,v,o),$=null}else $=R.child;if($!==null)$.return=R;else for($=R;$!==null;){if($===o){$=null;break}if(R=$.sibling,R!==null){R.return=$.return,$=R;break}$=$.return}R=$}}function mf(o,u,v,S){o=null;for(var R=u,D=!1;R!==null;){if(!D){if((R.flags&524288)!==0)D=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var $=R.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var Q=R.type;$r(R.pendingProps.value,$.value)||(o!==null?o.push(Q):o=[Q])}}else if(R===J.current){if($=R.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(o!==null?o.push(ac):o=[ac])}R=R.return}o!==null&&Ph(u,o,v,S),u.flags|=262144}function Mh(o){for(o=o.firstContext;o!==null;){if(!$r(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Fs(o){ka=o,Bo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function dr(o){return Qg(ka,o)}function Iu(o,u){return ka===null&&Fs(o),Qg(o,u)}function Qg(o,u){var v=u._currentValue;if(u={context:u,memoizedValue:v,next:null},Bo===null){if(o===null)throw Error(r(308));Bo=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Bo=Bo.next=u;return v}var BS=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(v,S){o.push(S)}};this.abort=function(){u.aborted=!0,o.forEach(function(v){return v()})}},jS=e.unstable_scheduleCallback,Ou=e.unstable_NormalPriority,Kn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function em(){return{controller:new BS,data:new Map,refCount:0}}function yf(o){o.refCount--,o.refCount===0&&jS(Ou,function(){o.controller.abort()})}var Du=null,tm=0,Pu=0,Mu=null;function zS(o,u){if(Du===null){var v=Du=[];tm=0,Pu=pp(),Mu={status:"pending",value:void 0,then:function(S){v.push(S)}}}return tm++,u.then(US,US),u}function US(){if(--tm===0&&Du!==null){Mu!==null&&(Mu.status="fulfilled");var o=Du;Du=null,Pu=0,Mu=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function VS(o,u){var v=[],S={status:"pending",value:null,reason:null,then:function(R){v.push(R)}};return o.then(function(){S.status="fulfilled",S.value=u;for(var R=0;R<v.length;R++)(0,v[R])(u)},function(R){for(S.status="rejected",S.reason=R,R=0;R<v.length;R++)(0,v[R])(void 0)}),S}var Iv=re.S;re.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&zS(o,u),Iv!==null&&Iv(o,u)};var ks=ne(null);function Lh(){var o=ks.current;return o!==null?o:Rn.pooledCache}function vf(o,u){u===null?B(ks,ks.current):B(ks,u.pool)}function Ov(){var o=Lh();return o===null?null:{parent:Kn._currentValue,pool:o}}var Lu=Error(r(460)),Dv=Error(r(474)),xf=Error(r(542)),Fh={then:function(){}};function nm(o){return o=o.status,o==="fulfilled"||o==="rejected"}function kh(){}function Pv(o,u,v){switch(v=o[v],v===void 0?o.push(u):v!==u&&(u.then(kh,kh),u=v),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,rm(o),o;default:if(typeof u.status=="string")u.then(kh,kh);else{if(o=Rn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(S){if(u.status==="pending"){var R=u;R.status="fulfilled",R.value=S}},function(S){if(u.status==="pending"){var R=u;R.status="rejected",R.reason=S}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,rm(o),o}throw Fu=u,Lu}}var Fu=null;function Mv(){if(Fu===null)throw Error(r(459));var o=Fu;return Fu=null,o}function rm(o){if(o===Lu||o===xf)throw Error(r(483))}var zo=!1;function im(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Wr(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Bs(o,u,v){var S=o.updateQueue;if(S===null)return null;if(S=S.shared,(on&2)!==0){var R=S.pending;return R===null?u.next=u:(u.next=R.next,R.next=u),S.pending=u,u=Nh(o),Rv(o,null,v),u}return ko(o,S,u,v),Nh(o)}function ku(o,u,v){if(u=u.updateQueue,u!==null&&(u=u.shared,(v&4194048)!==0)){var S=u.lanes;S&=o.pendingLanes,v|=S,u.lanes=v,Fn(o,v)}}function om(o,u){var v=o.updateQueue,S=o.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var R=null,D=null;if(v=v.firstBaseUpdate,v!==null){do{var $={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};D===null?R=D=$:D=D.next=$,v=v.next}while(v!==null);D===null?R=D=u:D=D.next=u}else R=D=u;v={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:D,shared:S.shared,callbacks:S.callbacks},o.updateQueue=v;return}o=v.lastBaseUpdate,o===null?v.firstBaseUpdate=u:o.next=u,v.lastBaseUpdate=u}var Pt=!1;function bf(){if(Pt){var o=Mu;if(o!==null)throw o}}function Sf(o,u,v,S){Pt=!1;var R=o.updateQueue;zo=!1;var D=R.firstBaseUpdate,$=R.lastBaseUpdate,Q=R.shared.pending;if(Q!==null){R.shared.pending=null;var ce=Q,_e=ce.next;ce.next=null,$===null?D=_e:$.next=_e,$=ce;var ze=o.alternate;ze!==null&&(ze=ze.updateQueue,Q=ze.lastBaseUpdate,Q!==$&&(Q===null?ze.firstBaseUpdate=_e:Q.next=_e,ze.lastBaseUpdate=ce))}if(D!==null){var $e=R.baseState;$=0,ze=_e=ce=null,Q=D;do{var De=Q.lane&-536870913,Pe=De!==Q.lane;if(Pe?(Kt&De)===De:(S&De)===De){De!==0&&De===Pu&&(Pt=!0),ze!==null&&(ze=ze.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var _t=o,Ct=Q;De=u;var Tn=v;switch(Ct.tag){case 1:if(_t=Ct.payload,typeof _t=="function"){$e=_t.call(Tn,$e,De);break e}$e=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Ct.payload,De=typeof _t=="function"?_t.call(Tn,$e,De):_t,De==null)break e;$e=p({},$e,De);break e;case 2:zo=!0}}De=Q.callback,De!==null&&(o.flags|=64,Pe&&(o.flags|=8192),Pe=R.callbacks,Pe===null?R.callbacks=[De]:Pe.push(De))}else Pe={lane:De,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},ze===null?(_e=ze=Pe,ce=$e):ze=ze.next=Pe,$|=De;if(Q=Q.next,Q===null){if(Q=R.shared.pending,Q===null)break;Pe=Q,Q=Pe.next,Pe.next=null,R.lastBaseUpdate=Pe,R.shared.pending=null}}while(!0);ze===null&&(ce=$e),R.baseState=ce,R.firstBaseUpdate=_e,R.lastBaseUpdate=ze,D===null&&(R.shared.lanes=0),vo|=$,o.lanes=$,o.memoizedState=$e}}function Lv(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function jh(o,u){var v=o.callbacks;if(v!==null)for(o.callbacks=null,o=0;o<v.length;o++)Lv(v[o],u)}var js=ne(null),Bu=ne(0);function Fv(o,u){o=ns,B(Bu,o),B(js,u),ns=o|u.baseLanes}function sm(){B(Bu,ns),B(js,js.current)}function am(){ns=Bu.current,me(js),me(Bu)}var zs=0,zt=null,pn=null,Xn=null,zh=!1,ju=!1,Ba=!1,Uo=0,wr=0,zu=null,GS=0;function Hn(){throw Error(r(321))}function lm(o,u){if(u===null)return!1;for(var v=0;v<u.length&&v<o.length;v++)if(!$r(o[v],u[v]))return!1;return!0}function um(o,u,v,S,R,D){return zs=D,zt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,re.H=o===null||o.memoizedState===null?Ke:gn,Ba=!1,D=v(S,R),Ba=!1,ju&&(D=Bv(u,v,S,R)),kv(o),D}function kv(o){re.H=gr;var u=pn!==null&&pn.next!==null;if(zs=0,Xn=pn=zt=null,zh=!1,wr=0,zu=null,u)throw Error(r(300));o===null||zn||(o=o.dependencies,o!==null&&Mh(o)&&(zn=!0))}function Bv(o,u,v,S){zt=o;var R=0;do{if(ju&&(zu=null),wr=0,ju=!1,25<=R)throw Error(r(301));if(R+=1,Xn=pn=null,o.updateQueue!=null){var D=o.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}re.H=On,D=u(v,S)}while(ju);return D}function $S(){var o=re.H,u=o.useState()[0];return u=typeof u.then=="function"?Af(u):u,o=o.useState()[0],(pn!==null?pn.memoizedState:null)!==o&&(zt.flags|=1024),u}function Uh(){var o=Uo!==0;return Uo=0,o}function cm(o,u,v){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~v}function fm(o){if(zh){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}zh=!1}zs=0,Xn=pn=zt=null,ju=!1,wr=Uo=0,zu=null}function Yr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?zt.memoizedState=Xn=o:Xn=Xn.next=o,Xn}function Zn(){if(pn===null){var o=zt.alternate;o=o!==null?o.memoizedState:null}else o=pn.next;var u=Xn===null?zt.memoizedState:Xn.next;if(u!==null)Xn=u,pn=o;else{if(o===null)throw zt.alternate===null?Error(r(467)):Error(r(310));pn=o,o={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},Xn===null?zt.memoizedState=Xn=o:Xn=Xn.next=o}return Xn}function dm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Af(o){var u=wr;return wr+=1,zu===null&&(zu=[]),o=Pv(zu,o,u),u=zt,(Xn===null?u.memoizedState:Xn.next)===null&&(u=u.alternate,re.H=u===null||u.memoizedState===null?Ke:gn),o}function Ef(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Af(o);if(o.$$typeof===I)return dr(o)}throw Error(r(438,String(o)))}function ja(o){var u=null,v=zt.updateQueue;if(v!==null&&(u=v.memoCache),u==null){var S=zt.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(u={data:S.data.map(function(R){return R.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),v===null&&(v=dm(),zt.updateQueue=v),v.memoCache=u,v=u.data[u.index],v===void 0)for(v=u.data[u.index]=Array(o),S=0;S<o;S++)v[S]=te;return u.index++,v}function Vo(o,u){return typeof u=="function"?u(o):u}function Vh(o){var u=Zn();return hm(u,pn,o)}function hm(o,u,v){var S=o.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=v;var R=o.baseQueue,D=S.pending;if(D!==null){if(R!==null){var $=R.next;R.next=D.next,D.next=$}u.baseQueue=R=D,S.pending=null}if(D=o.baseState,R===null)o.memoizedState=D;else{u=R.next;var Q=$=null,ce=null,_e=u,ze=!1;do{var $e=_e.lane&-536870913;if($e!==_e.lane?(Kt&$e)===$e:(zs&$e)===$e){var De=_e.revertLane;if(De===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),$e===Pu&&(ze=!0);else if((zs&De)===De){_e=_e.next,De===Pu&&(ze=!0);continue}else $e={lane:0,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ce===null?(Q=ce=$e,$=D):ce=ce.next=$e,zt.lanes|=De,vo|=De;$e=_e.action,Ba&&v(D,$e),D=_e.hasEagerState?_e.eagerState:v(D,$e)}else De={lane:$e,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ce===null?(Q=ce=De,$=D):ce=ce.next=De,zt.lanes|=$e,vo|=$e;_e=_e.next}while(_e!==null&&_e!==u);if(ce===null?$=D:ce.next=Q,!$r(D,o.memoizedState)&&(zn=!0,ze&&(v=Mu,v!==null)))throw v;o.memoizedState=D,o.baseState=$,o.baseQueue=ce,S.lastRenderedState=D}return R===null&&(S.lanes=0),[o.memoizedState,S.dispatch]}function pm(o){var u=Zn(),v=u.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=o;var S=v.dispatch,R=v.pending,D=u.memoizedState;if(R!==null){v.pending=null;var $=R=R.next;do D=o(D,$.action),$=$.next;while($!==R);$r(D,u.memoizedState)||(zn=!0),u.memoizedState=D,u.baseQueue===null&&(u.baseState=D),v.lastRenderedState=D}return[D,S]}function gm(o,u,v){var S=zt,R=Zn(),D=Qt;if(D){if(v===void 0)throw Error(r(407));v=v()}else v=u();var $=!$r((pn||R).memoizedState,v);$&&(R.memoizedState=v,zn=!0),R=R.queue;var Q=HS.bind(null,S,R,o);if(Or(2048,8,Q,[o]),R.getSnapshot!==u||$||Xn!==null&&Xn.memoizedState.tag&1){if(S.flags|=2048,$o(9,Ho(),Cf.bind(null,S,R,v,u),null),Rn===null)throw Error(r(349));D||(zs&124)!==0||Ft(S,u,v)}return v}function Ft(o,u,v){o.flags|=16384,o={getSnapshot:u,value:v},u=zt.updateQueue,u===null?(u=dm(),zt.updateQueue=u,u.stores=[o]):(v=u.stores,v===null?u.stores=[o]:v.push(o))}function Cf(o,u,v,S){u.value=v,u.getSnapshot=S,jv(u)&&WS(o)}function HS(o,u,v){return v(function(){jv(u)&&WS(o)})}function jv(o){var u=o.getSnapshot;o=o.value;try{var v=u();return!$r(o,v)}catch{return!0}}function WS(o){var u=wu(o,2);u!==null&&Xe(u,o,2)}function mm(o){var u=Yr();if(typeof o=="function"){var v=o;if(o=v(),Ba){tt(!0);try{v()}finally{tt(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:o},u}function ge(o,u,v,S){return o.baseState=v,hm(o,pn,typeof S=="function"?S:Vo)}function be(o,u,v,S,R){if(Vu(o))throw Error(r(485));if(o=u.action,o!==null){var D={payload:R,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){D.listeners.push($)}};re.T!==null?v(!0):D.isTransition=!1,S(D),v=u.pending,v===null?(D.next=u.pending=D,Vi(u,D)):(D.next=v.next,u.pending=v.next=D)}}function Vi(o,u){var v=u.action,S=u.payload,R=o.state;if(u.isTransition){var D=re.T,$={};re.T=$;try{var Q=v(R,S),ce=re.S;ce!==null&&ce($,Q),Gh(o,u,Q)}catch(_e){qr(o,u,_e)}finally{re.T=D}}else try{D=v(R,S),Gh(o,u,D)}catch(_e){qr(o,u,_e)}}function Gh(o,u,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(S){Gi(o,u,S)},function(S){return qr(o,u,S)}):Gi(o,u,v)}function Gi(o,u,v){u.status="fulfilled",u.value=v,$h(u),o.state=v,u=o.pending,u!==null&&(v=u.next,v===u?o.pending=null:(v=v.next,u.next=v,Vi(o,v)))}function qr(o,u,v){var S=o.pending;if(o.pending=null,S!==null){S=S.next;do u.status="rejected",u.reason=v,$h(u),u=u.next;while(u!==S)}o.action=null}function $h(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function ym(o,u){return u}function Hh(o,u){if(Qt){var v=Rn.formState;if(v!==null){e:{var S=zt;if(Qt){if(jn){t:{for(var R=jn,D=zi;R.nodeType!==8;){if(!D){R=null;break t}if(R=ei(R.nextSibling),R===null){R=null;break t}}D=R.data,R=D==="F!"||D==="F"?R:null}if(R){jn=ei(R.nextSibling),S=R.data==="F!";break e}}Ui(S)}S=!1}S&&(u=v[0])}}return v=Yr(),v.memoizedState=v.baseState=u,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ym,lastRenderedState:u},v.queue=S,v=ao.bind(null,zt,S),S.dispatch=v,S=mm(!1),D=Yh.bind(null,zt,!1,S.queue),S=Yr(),R={state:u,dispatch:null,action:o,pending:null},S.queue=R,v=be.bind(null,zt,R,D,v),R.dispatch=v,S.memoizedState=o,[u,v,!1]}function za(o){var u=Zn();return $i(u,pn,o)}function $i(o,u,v){if(u=hm(o,u,ym)[0],o=Vh(Vo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var S=Af(u)}catch($){throw $===Lu?xf:$}else S=u;u=Zn();var R=u.queue,D=R.dispatch;return v!==u.memoizedState&&(zt.flags|=2048,$o(9,Ho(),wf.bind(null,R,v),null)),[S,D,o]}function wf(o,u){o.action=u}function Go(o){var u=Zn(),v=pn;if(v!==null)return $i(u,v,o);Zn(),u=u.memoizedState,v=Zn();var S=v.queue.dispatch;return v.memoizedState=o,[u,S,!1]}function $o(o,u,v,S){return o={tag:o,create:v,deps:S,inst:u,next:null},u=zt.updateQueue,u===null&&(u=dm(),zt.updateQueue=u),v=u.lastEffect,v===null?u.lastEffect=o.next=o:(S=v.next,v.next=o,o.next=S,u.lastEffect=o),o}function Ho(){return{destroy:void 0,resource:void 0}}function hr(){return Zn().memoizedState}function En(o,u,v,S){var R=Yr();S=S===void 0?null:S,zt.flags|=o,R.memoizedState=$o(1|u,Ho(),v,S)}function Or(o,u,v,S){var R=Zn();S=S===void 0?null:S;var D=R.memoizedState.inst;pn!==null&&S!==null&&lm(S,pn.memoizedState.deps)?R.memoizedState=$o(u,D,v,S):(zt.flags|=o,R.memoizedState=$o(1|u,D,v,S))}function vm(o,u){En(8390656,8,o,u)}function Uu(o,u){Or(2048,8,o,u)}function di(o,u){return Or(4,2,o,u)}function Vt(o,u){return Or(4,4,o,u)}function pr(o,u){if(typeof u=="function"){o=o();var v=u(o);return function(){typeof v=="function"?v():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function xm(o,u,v){v=v!=null?v.concat([o]):null,Or(4,4,pr.bind(null,u,o),v)}function Wh(){}function bm(o,u){var v=Zn();u=u===void 0?null:u;var S=v.memoizedState;return u!==null&&lm(u,S[1])?S[0]:(v.memoizedState=[o,u],o)}function Us(o,u){var v=Zn();u=u===void 0?null:u;var S=v.memoizedState;if(u!==null&&lm(u,S[1]))return S[0];if(S=o(),Ba){tt(!0);try{o()}finally{tt(!1)}}return v.memoizedState=[S,u],S}function Kr(o,u,v){return v===void 0||(zs&1073741824)!==0?o.memoizedState=u:(o.memoizedState=v,o=ox(),zt.lanes|=o,vo|=o,v)}function qt(o,u,v,S){return $r(v,u)?v:js.current!==null?(o=Kr(o,v,S),$r(o,u)||(zn=!0),o):(zs&42)===0?(zn=!0,o.memoizedState=v):(o=ox(),zt.lanes|=o,vo|=o,u)}function Rf(o,u,v,S,R){var D=Ie.p;Ie.p=D!==0&&8>D?D:8;var $=re.T,Q={};re.T=Q,Yh(o,!1,u,v);try{var ce=R(),_e=re.S;if(_e!==null&&_e(Q,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var ze=VS(ce,S);lo(o,u,ze,ir(o))}else lo(o,u,S,ir(o))}catch($e){lo(o,u,{then:function(){},status:"rejected",reason:$e},ir())}finally{Ie.p=D,re.T=$}}function Sm(){}function Xr(o,u,v,S){if(o.tag!==5)throw Error(r(476));var R=Am(o).queue;Rf(o,R,u,de,v===null?Sm:function(){return zv(o),v(S)})}function Am(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:de},next:null};var v={};return u.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:v},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function zv(o){var u=Am(o).next.queue;lo(o,u,{},ir())}function Vs(){return dr(ac)}function Em(){return Zn().memoizedState}function Uv(){return Zn().memoizedState}function Vv(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var v=ir();o=Wr(v);var S=Bs(u,o,v);S!==null&&(Xe(S,u,v),ku(S,u,v)),u={cache:em()},o.payload=u;return}u=u.return}}function Hi(o,u,v){var S=ir();v={lane:S,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},Vu(o)?Cm(u,v):(v=Th(o,u,v,S),v!==null&&(Xe(v,o,S),wm(v,u,S)))}function ao(o,u,v){var S=ir();lo(o,u,v,S)}function lo(o,u,v,S){var R={lane:S,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(Vu(o))Cm(u,R);else{var D=o.alternate;if(o.lanes===0&&(D===null||D.lanes===0)&&(D=u.lastRenderedReducer,D!==null))try{var $=u.lastRenderedState,Q=D($,v);if(R.hasEagerState=!0,R.eagerState=Q,$r(Q,$))return ko(o,u,R,0),Rn===null&&Rh(),!1}catch{}finally{}if(v=Th(o,u,R,S),v!==null)return Xe(v,o,S),wm(v,u,S),!0}return!1}function Yh(o,u,v,S){if(S={lane:2,revertLane:pp(),action:S,hasEagerState:!1,eagerState:null,next:null},Vu(o)){if(u)throw Error(r(479))}else u=Th(o,v,S,2),u!==null&&Xe(u,o,2)}function Vu(o){var u=o.alternate;return o===zt||u!==null&&u===zt}function Cm(o,u){ju=zh=!0;var v=o.pending;v===null?u.next=u:(u.next=v.next,v.next=u),o.pending=u}function wm(o,u,v){if((v&4194048)!==0){var S=u.lanes;S&=o.pendingLanes,v|=S,u.lanes=v,Fn(o,v)}}var gr={readContext:dr,use:Ef,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn},Ke={readContext:dr,use:Ef,useCallback:function(o,u){return Yr().memoizedState=[o,u===void 0?null:u],o},useContext:dr,useEffect:vm,useImperativeHandle:function(o,u,v){v=v!=null?v.concat([o]):null,En(4194308,4,pr.bind(null,u,o),v)},useLayoutEffect:function(o,u){return En(4194308,4,o,u)},useInsertionEffect:function(o,u){En(4,2,o,u)},useMemo:function(o,u){var v=Yr();u=u===void 0?null:u;var S=o();if(Ba){tt(!0);try{o()}finally{tt(!1)}}return v.memoizedState=[S,u],S},useReducer:function(o,u,v){var S=Yr();if(v!==void 0){var R=v(u);if(Ba){tt(!0);try{v(u)}finally{tt(!1)}}}else R=u;return S.memoizedState=S.baseState=R,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:R},S.queue=o,o=o.dispatch=Hi.bind(null,zt,o),[S.memoizedState,o]},useRef:function(o){var u=Yr();return o={current:o},u.memoizedState=o},useState:function(o){o=mm(o);var u=o.queue,v=ao.bind(null,zt,u);return u.dispatch=v,[o.memoizedState,v]},useDebugValue:Wh,useDeferredValue:function(o,u){var v=Yr();return Kr(v,o,u)},useTransition:function(){var o=mm(!1);return o=Rf.bind(null,zt,o.queue,!0,!1),Yr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,v){var S=zt,R=Yr();if(Qt){if(v===void 0)throw Error(r(407));v=v()}else{if(v=u(),Rn===null)throw Error(r(349));(Kt&124)!==0||Ft(S,u,v)}R.memoizedState=v;var D={value:v,getSnapshot:u};return R.queue=D,vm(HS.bind(null,S,D,o),[o]),S.flags|=2048,$o(9,Ho(),Cf.bind(null,S,D,v,u),null),v},useId:function(){var o=Yr(),u=Rn.identifierPrefix;if(Qt){var v=Ht,S=so;v=(S&~(1<<32-ft(S)-1)).toString(32)+v,u=""+u+"R"+v,v=Uo++,0<v&&(u+="H"+v.toString(32)),u+=""}else v=GS++,u=""+u+"r"+v.toString(32)+"";return o.memoizedState=u},useHostTransitionStatus:Vs,useFormState:Hh,useActionState:Hh,useOptimistic:function(o){var u=Yr();u.memoizedState=u.baseState=o;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=v,u=Yh.bind(null,zt,!0,v),v.dispatch=u,[o,u]},useMemoCache:ja,useCacheRefresh:function(){return Yr().memoizedState=Vv.bind(null,zt)}},gn={readContext:dr,use:Ef,useCallback:bm,useContext:dr,useEffect:Uu,useImperativeHandle:xm,useInsertionEffect:di,useLayoutEffect:Vt,useMemo:Us,useReducer:Vh,useRef:hr,useState:function(){return Vh(Vo)},useDebugValue:Wh,useDeferredValue:function(o,u){var v=Zn();return qt(v,pn.memoizedState,o,u)},useTransition:function(){var o=Vh(Vo)[0],u=Zn().memoizedState;return[typeof o=="boolean"?o:Af(o),u]},useSyncExternalStore:gm,useId:Em,useHostTransitionStatus:Vs,useFormState:za,useActionState:za,useOptimistic:function(o,u){var v=Zn();return ge(v,pn,o,u)},useMemoCache:ja,useCacheRefresh:Uv},On={readContext:dr,use:Ef,useCallback:bm,useContext:dr,useEffect:Uu,useImperativeHandle:xm,useInsertionEffect:di,useLayoutEffect:Vt,useMemo:Us,useReducer:pm,useRef:hr,useState:function(){return pm(Vo)},useDebugValue:Wh,useDeferredValue:function(o,u){var v=Zn();return pn===null?Kr(v,o,u):qt(v,pn.memoizedState,o,u)},useTransition:function(){var o=pm(Vo)[0],u=Zn().memoizedState;return[typeof o=="boolean"?o:Af(o),u]},useSyncExternalStore:gm,useId:Em,useHostTransitionStatus:Vs,useFormState:Go,useActionState:Go,useOptimistic:function(o,u){var v=Zn();return pn!==null?ge(v,pn,o,u):(v.baseState=o,[o,v.queue.dispatch])},useMemoCache:ja,useCacheRefresh:Uv},Wo=null,Yo=0;function er(o){var u=Yo;return Yo+=1,Wo===null&&(Wo=[]),Pv(Wo,o,u)}function Ri(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function hi(o,u){throw u.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Gs(o){var u=o._init;return u(o._payload)}function Ti(o){function u(Ae,ve){if(o){var Te=Ae.deletions;Te===null?(Ae.deletions=[ve],Ae.flags|=16):Te.push(ve)}}function v(Ae,ve){if(!o)return null;for(;ve!==null;)u(Ae,ve),ve=ve.sibling;return null}function S(Ae){for(var ve=new Map;Ae!==null;)Ae.key!==null?ve.set(Ae.key,Ae):ve.set(Ae.index,Ae),Ae=Ae.sibling;return ve}function R(Ae,ve){return Ae=wi(Ae,ve),Ae.index=0,Ae.sibling=null,Ae}function D(Ae,ve,Te){return Ae.index=Te,o?(Te=Ae.alternate,Te!==null?(Te=Te.index,Te<ve?(Ae.flags|=67108866,ve):Te):(Ae.flags|=67108866,ve)):(Ae.flags|=1048576,ve)}function $(Ae){return o&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function Q(Ae,ve,Te,Ve){return ve===null||ve.tag!==6?(ve=Yg(Te,Ae.mode,Ve),ve.return=Ae,ve):(ve=R(ve,Te),ve.return=Ae,ve)}function ce(Ae,ve,Te,Ve){var at=Te.type;return at===E?ze(Ae,ve,Te.props.children,Ve,Te.key):ve!==null&&(ve.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===U&&Gs(at)===ve.type)?(ve=R(ve,Te.props),Ri(ve,Te),ve.return=Ae,ve):(ve=_h(Te.type,Te.key,Te.props,null,Ae.mode,Ve),Ri(ve,Te),ve.return=Ae,ve)}function _e(Ae,ve,Te,Ve){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Te.containerInfo||ve.stateNode.implementation!==Te.implementation?(ve=qg(Te,Ae.mode,Ve),ve.return=Ae,ve):(ve=R(ve,Te.children||[]),ve.return=Ae,ve)}function ze(Ae,ve,Te,Ve,at){return ve===null||ve.tag!==7?(ve=Ds(Te,Ae.mode,Ve,at),ve.return=Ae,ve):(ve=R(ve,Te),ve.return=Ae,ve)}function $e(Ae,ve,Te){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=Yg(""+ve,Ae.mode,Te),ve.return=Ae,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case x:return Te=_h(ve.type,ve.key,ve.props,null,Ae.mode,Te),Ri(Te,ve),Te.return=Ae,Te;case b:return ve=qg(ve,Ae.mode,Te),ve.return=Ae,ve;case U:var Ve=ve._init;return ve=Ve(ve._payload),$e(Ae,ve,Te)}if(Me(ve)||se(ve))return ve=Ds(ve,Ae.mode,Te,null),ve.return=Ae,ve;if(typeof ve.then=="function")return $e(Ae,er(ve),Te);if(ve.$$typeof===I)return $e(Ae,Iu(Ae,ve),Te);hi(Ae,ve)}return null}function De(Ae,ve,Te,Ve){var at=ve!==null?ve.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return at!==null?null:Q(Ae,ve,""+Te,Ve);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:return Te.key===at?ce(Ae,ve,Te,Ve):null;case b:return Te.key===at?_e(Ae,ve,Te,Ve):null;case U:return at=Te._init,Te=at(Te._payload),De(Ae,ve,Te,Ve)}if(Me(Te)||se(Te))return at!==null?null:ze(Ae,ve,Te,Ve,null);if(typeof Te.then=="function")return De(Ae,ve,er(Te),Ve);if(Te.$$typeof===I)return De(Ae,ve,Iu(Ae,Te),Ve);hi(Ae,Te)}return null}function Pe(Ae,ve,Te,Ve,at){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ae=Ae.get(Te)||null,Q(ve,Ae,""+Ve,at);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case x:return Ae=Ae.get(Ve.key===null?Te:Ve.key)||null,ce(ve,Ae,Ve,at);case b:return Ae=Ae.get(Ve.key===null?Te:Ve.key)||null,_e(ve,Ae,Ve,at);case U:var Yt=Ve._init;return Ve=Yt(Ve._payload),Pe(Ae,ve,Te,Ve,at)}if(Me(Ve)||se(Ve))return Ae=Ae.get(Te)||null,ze(ve,Ae,Ve,at,null);if(typeof Ve.then=="function")return Pe(Ae,ve,Te,er(Ve),at);if(Ve.$$typeof===I)return Pe(Ae,ve,Te,Iu(ve,Ve),at);hi(ve,Ve)}return null}function _t(Ae,ve,Te,Ve){for(var at=null,Yt=null,vt=ve,wt=ve=0,Nr=null;vt!==null&&wt<Te.length;wt++){vt.index>wt?(Nr=vt,vt=null):Nr=vt.sibling;var sn=De(Ae,vt,Te[wt],Ve);if(sn===null){vt===null&&(vt=Nr);break}o&&vt&&sn.alternate===null&&u(Ae,vt),ve=D(sn,ve,wt),Yt===null?at=sn:Yt.sibling=sn,Yt=sn,vt=Nr}if(wt===Te.length)return v(Ae,vt),Qt&&La(Ae,wt),at;if(vt===null){for(;wt<Te.length;wt++)vt=$e(Ae,Te[wt],Ve),vt!==null&&(ve=D(vt,ve,wt),Yt===null?at=vt:Yt.sibling=vt,Yt=vt);return Qt&&La(Ae,wt),at}for(vt=S(vt);wt<Te.length;wt++)Nr=Pe(vt,Ae,wt,Te[wt],Ve),Nr!==null&&(o&&Nr.alternate!==null&&vt.delete(Nr.key===null?wt:Nr.key),ve=D(Nr,ve,wt),Yt===null?at=Nr:Yt.sibling=Nr,Yt=Nr);return o&&vt.forEach(function(dc){return u(Ae,dc)}),Qt&&La(Ae,wt),at}function Ct(Ae,ve,Te,Ve){if(Te==null)throw Error(r(151));for(var at=null,Yt=null,vt=ve,wt=ve=0,Nr=null,sn=Te.next();vt!==null&&!sn.done;wt++,sn=Te.next()){vt.index>wt?(Nr=vt,vt=null):Nr=vt.sibling;var dc=De(Ae,vt,sn.value,Ve);if(dc===null){vt===null&&(vt=Nr);break}o&&vt&&dc.alternate===null&&u(Ae,vt),ve=D(dc,ve,wt),Yt===null?at=dc:Yt.sibling=dc,Yt=dc,vt=Nr}if(sn.done)return v(Ae,vt),Qt&&La(Ae,wt),at;if(vt===null){for(;!sn.done;wt++,sn=Te.next())sn=$e(Ae,sn.value,Ve),sn!==null&&(ve=D(sn,ve,wt),Yt===null?at=sn:Yt.sibling=sn,Yt=sn);return Qt&&La(Ae,wt),at}for(vt=S(vt);!sn.done;wt++,sn=Te.next())sn=Pe(vt,Ae,wt,sn.value,Ve),sn!==null&&(o&&sn.alternate!==null&&vt.delete(sn.key===null?wt:sn.key),ve=D(sn,ve,wt),Yt===null?at=sn:Yt.sibling=sn,Yt=sn);return o&&vt.forEach(function(PF){return u(Ae,PF)}),Qt&&La(Ae,wt),at}function Tn(Ae,ve,Te,Ve){if(typeof Te=="object"&&Te!==null&&Te.type===E&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:e:{for(var at=Te.key;ve!==null;){if(ve.key===at){if(at=Te.type,at===E){if(ve.tag===7){v(Ae,ve.sibling),Ve=R(ve,Te.props.children),Ve.return=Ae,Ae=Ve;break e}}else if(ve.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===U&&Gs(at)===ve.type){v(Ae,ve.sibling),Ve=R(ve,Te.props),Ri(Ve,Te),Ve.return=Ae,Ae=Ve;break e}v(Ae,ve);break}else u(Ae,ve);ve=ve.sibling}Te.type===E?(Ve=Ds(Te.props.children,Ae.mode,Ve,Te.key),Ve.return=Ae,Ae=Ve):(Ve=_h(Te.type,Te.key,Te.props,null,Ae.mode,Ve),Ri(Ve,Te),Ve.return=Ae,Ae=Ve)}return $(Ae);case b:e:{for(at=Te.key;ve!==null;){if(ve.key===at)if(ve.tag===4&&ve.stateNode.containerInfo===Te.containerInfo&&ve.stateNode.implementation===Te.implementation){v(Ae,ve.sibling),Ve=R(ve,Te.children||[]),Ve.return=Ae,Ae=Ve;break e}else{v(Ae,ve);break}else u(Ae,ve);ve=ve.sibling}Ve=qg(Te,Ae.mode,Ve),Ve.return=Ae,Ae=Ve}return $(Ae);case U:return at=Te._init,Te=at(Te._payload),Tn(Ae,ve,Te,Ve)}if(Me(Te))return _t(Ae,ve,Te,Ve);if(se(Te)){if(at=se(Te),typeof at!="function")throw Error(r(150));return Te=at.call(Te),Ct(Ae,ve,Te,Ve)}if(typeof Te.then=="function")return Tn(Ae,ve,er(Te),Ve);if(Te.$$typeof===I)return Tn(Ae,ve,Iu(Ae,Te),Ve);hi(Ae,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ve!==null&&ve.tag===6?(v(Ae,ve.sibling),Ve=R(ve,Te),Ve.return=Ae,Ae=Ve):(v(Ae,ve),Ve=Yg(Te,Ae.mode,Ve),Ve.return=Ae,Ae=Ve),$(Ae)):v(Ae,ve)}return function(Ae,ve,Te,Ve){try{Yo=0;var at=Tn(Ae,ve,Te,Ve);return Wo=null,at}catch(vt){if(vt===Lu||vt===xf)throw vt;var Yt=Cr(29,vt,null,Ae.mode);return Yt.lanes=Ve,Yt.return=Ae,Yt}finally{}}}var Gu=Ti(!0),Gv=Ti(!1),Ni=ne(null),Wi=null;function $s(o){var u=o.alternate;B(mn,mn.current&1),B(Ni,o),Wi===null&&(u===null||js.current!==null||u.memoizedState!==null)&&(Wi=o)}function Rm(o){if(o.tag===22){if(B(mn,mn.current),B(Ni,o),Wi===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(Wi=o)}}else Nn()}function Nn(){B(mn,mn.current),B(Ni,Ni.current)}function Dr(o){me(Ni),Wi===o&&(Wi=null),me(mn)}var mn=ne(0);function qh(o){for(var u=o;u!==null;){if(u.tag===13){var v=u.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||Ep(v)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function tr(o,u,v,S){u=o.memoizedState,v=v(S,u),v=v==null?u:p({},u,v),o.memoizedState=v,o.lanes===0&&(o.updateQueue.baseState=v)}var uo={enqueueSetState:function(o,u,v){o=o._reactInternals;var S=ir(),R=Wr(S);R.payload=u,v!=null&&(R.callback=v),u=Bs(o,R,S),u!==null&&(Xe(u,o,S),ku(u,o,S))},enqueueReplaceState:function(o,u,v){o=o._reactInternals;var S=ir(),R=Wr(S);R.tag=1,R.payload=u,v!=null&&(R.callback=v),u=Bs(o,R,S),u!==null&&(Xe(u,o,S),ku(u,o,S))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var v=ir(),S=Wr(v);S.tag=2,u!=null&&(S.callback=u),u=Bs(o,S,v),u!==null&&(Xe(u,o,v),ku(u,o,v))}};function Ua(o,u,v,S,R,D,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(S,D,$):u.prototype&&u.prototype.isPureReactComponent?!uf(v,S)||!uf(R,D):!0}function qo(o,u,v,S){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(v,S),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(v,S),u.state!==o&&uo.enqueueReplaceState(u,u.state,null)}function Pr(o,u){var v=u;if("ref"in u){v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}if(o=o.defaultProps){v===u&&(v=p({},v));for(var R in o)v[R]===void 0&&(v[R]=o[R])}return v}var Zr=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Tm(o){Zr(o)}function Va(o){console.error(o)}function co(o){Zr(o)}function Hs(o,u){try{var v=o.onUncaughtError;v(u.value,{componentStack:u.stack})}catch(S){setTimeout(function(){throw S})}}function Mr(o,u,v){try{var S=o.onCaughtError;S(v.value,{componentStack:v.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function fo(o,u,v){return v=Wr(v),v.tag=3,v.payload={element:null},v.callback=function(){Hs(o,u)},v}function $u(o){return o=Wr(o),o.tag=3,o}function $v(o,u,v,S){var R=v.type.getDerivedStateFromError;if(typeof R=="function"){var D=S.value;o.payload=function(){return R(D)},o.callback=function(){Mr(u,v,S)}}var $=v.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(o.callback=function(){Mr(u,v,S),typeof R!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var Q=S.stack;this.componentDidCatch(S.value,{componentStack:Q!==null?Q:""})})}function YS(o,u,v,S,R){if(v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(u=v.alternate,u!==null&&mf(u,v,R,!0),v=Ni.current,v!==null){switch(v.tag){case 13:return Wi===null?Jt():v.alternate===null&&Dn===0&&(Dn=3),v.flags&=-257,v.flags|=65536,v.lanes=R,S===Fh?v.flags|=16384:(u=v.updateQueue,u===null?v.updateQueue=new Set([S]):u.add(S),qm(o,S,R)),!1;case 22:return v.flags|=65536,S===Fh?v.flags|=16384:(u=v.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([S])},v.updateQueue=u):(v=u.retryQueue,v===null?u.retryQueue=new Set([S]):v.add(S)),qm(o,S,R)),!1}throw Error(r(435,v.tag))}return qm(o,S,R),Jt(),!1}if(Qt)return u=Ni.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=R,S!==Xg&&(o=Error(r(422),{cause:S}),gf(Ci(o,v)))):(S!==Xg&&(u=Error(r(423),{cause:S}),gf(Ci(u,v))),o=o.current.alternate,o.flags|=65536,R&=-R,o.lanes|=R,S=Ci(S,v),R=fo(o.stateNode,S,R),om(o,R),Dn!==4&&(Dn=2)),!1;var D=Error(r(520),{cause:S});if(D=Ci(D,v),Ju===null?Ju=[D]:Ju.push(D),Dn!==4&&(Dn=2),u===null)return!0;S=Ci(S,v),v=u;do{switch(v.tag){case 3:return v.flags|=65536,o=R&-R,v.lanes|=o,o=fo(v.stateNode,S,o),om(v,o),!1;case 1:if(u=v.type,D=v.stateNode,(v.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Xi===null||!Xi.has(D))))return v.flags|=65536,R&=-R,v.lanes|=R,R=$u(R),$v(R,o,v,S),om(v,R),!1}v=v.return}while(v!==null);return!1}var Yi=Error(r(461)),zn=!1;function mr(o,u,v,S){u.child=o===null?Gv(u,null,v,S):Gu(u,o.child,v,S)}function Hv(o,u,v,S,R){v=v.render;var D=u.ref;if("ref"in S){var $={};for(var Q in S)Q!=="ref"&&($[Q]=S[Q])}else $=S;return Fs(u),S=um(o,u,v,$,D,R),Q=Uh(),o!==null&&!zn?(cm(o,u,R),Ko(o,u,R)):(Qt&&Q&&Kg(u),u.flags|=1,mr(o,u,S,R),u.child)}function Un(o,u,v,S,R){if(o===null){var D=v.type;return typeof D=="function"&&!df(D)&&D.defaultProps===void 0&&v.compare===null?(u.tag=15,u.type=D,Nm(o,u,D,S,R)):(o=_h(v.type,null,S,u,u.mode,R),o.ref=u.ref,o.return=u,u.child=o)}if(D=o.child,!Ws(o,R)){var $=D.memoizedProps;if(v=v.compare,v=v!==null?v:uf,v($,S)&&o.ref===u.ref)return Ko(o,u,R)}return u.flags|=1,o=wi(D,S),o.ref=u.ref,o.return=u,u.child=o}function Nm(o,u,v,S,R){if(o!==null){var D=o.memoizedProps;if(uf(D,S)&&o.ref===u.ref)if(zn=!1,u.pendingProps=S=D,Ws(o,R))(o.flags&131072)!==0&&(zn=!0);else return u.lanes=o.lanes,Ko(o,u,R)}return Kh(o,u,v,S,R)}function _m(o,u,v){var S=u.pendingProps,R=S.children,D=o!==null?o.memoizedState:null;if(S.mode==="hidden"){if((u.flags&128)!==0){if(S=D!==null?D.baseLanes|v:v,o!==null){for(R=u.child=o.child,D=0;R!==null;)D=D|R.lanes|R.childLanes,R=R.sibling;u.childLanes=D&~S}else u.childLanes=0,u.child=null;return Tf(o,u,S,v)}if((v&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&vf(u,D!==null?D.cachePool:null),D!==null?Fv(u,D):sm(),Rm(u);else return u.lanes=u.childLanes=536870912,Tf(o,u,D!==null?D.baseLanes|v:v,v)}else D!==null?(vf(u,D.cachePool),Fv(u,D),Nn(),u.memoizedState=null):(o!==null&&vf(u,null),sm(),Nn());return mr(o,u,R,v),u.child}function Tf(o,u,v,S){var R=Lh();return R=R===null?null:{parent:Kn._currentValue,pool:R},u.memoizedState={baseLanes:v,cachePool:R},o!==null&&vf(u,null),sm(),Rm(u),o!==null&&mf(o,u,S,!0),null}function Hu(o,u){var v=u.ref;if(v===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(r(284));(o===null||o.ref!==v)&&(u.flags|=4194816)}}function Kh(o,u,v,S,R){return Fs(u),v=um(o,u,v,S,void 0,R),S=Uh(),o!==null&&!zn?(cm(o,u,R),Ko(o,u,R)):(Qt&&S&&Kg(u),u.flags|=1,mr(o,u,v,R),u.child)}function Wv(o,u,v,S,R,D){return Fs(u),u.updateQueue=null,v=Bv(u,S,v,R),kv(o),S=Uh(),o!==null&&!zn?(cm(o,u,D),Ko(o,u,D)):(Qt&&S&&Kg(u),u.flags|=1,mr(o,u,v,D),u.child)}function Yv(o,u,v,S,R){if(Fs(u),u.stateNode===null){var D=Ru,$=v.contextType;typeof $=="object"&&$!==null&&(D=dr($)),D=new v(S,D),u.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=uo,u.stateNode=D,D._reactInternals=u,D=u.stateNode,D.props=S,D.state=u.memoizedState,D.refs={},im(u),$=v.contextType,D.context=typeof $=="object"&&$!==null?dr($):Ru,D.state=u.memoizedState,$=v.getDerivedStateFromProps,typeof $=="function"&&(tr(u,v,$,S),D.state=u.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||($=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),$!==D.state&&uo.enqueueReplaceState(D,D.state,null),Sf(u,S,D,R),bf(),D.state=u.memoizedState),typeof D.componentDidMount=="function"&&(u.flags|=4194308),S=!0}else if(o===null){D=u.stateNode;var Q=u.memoizedProps,ce=Pr(v,Q);D.props=ce;var _e=D.context,ze=v.contextType;$=Ru,typeof ze=="object"&&ze!==null&&($=dr(ze));var $e=v.getDerivedStateFromProps;ze=typeof $e=="function"||typeof D.getSnapshotBeforeUpdate=="function",Q=u.pendingProps!==Q,ze||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Q||_e!==$)&&qo(u,D,S,$),zo=!1;var De=u.memoizedState;D.state=De,Sf(u,S,D,R),bf(),_e=u.memoizedState,Q||De!==_e||zo?(typeof $e=="function"&&(tr(u,v,$e,S),_e=u.memoizedState),(ce=zo||Ua(u,v,ce,S,De,_e,$))?(ze||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=S,u.memoizedState=_e),D.props=S,D.state=_e,D.context=$,S=ce):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),S=!1)}else{D=u.stateNode,Bh(o,u),$=u.memoizedProps,ze=Pr(v,$),D.props=ze,$e=u.pendingProps,De=D.context,_e=v.contextType,ce=Ru,typeof _e=="object"&&_e!==null&&(ce=dr(_e)),Q=v.getDerivedStateFromProps,(_e=typeof Q=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||($!==$e||De!==ce)&&qo(u,D,S,ce),zo=!1,De=u.memoizedState,D.state=De,Sf(u,S,D,R),bf();var Pe=u.memoizedState;$!==$e||De!==Pe||zo||o!==null&&o.dependencies!==null&&Mh(o.dependencies)?(typeof Q=="function"&&(tr(u,v,Q,S),Pe=u.memoizedState),(ze=zo||Ua(u,v,ze,S,De,Pe,ce)||o!==null&&o.dependencies!==null&&Mh(o.dependencies))?(_e||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(S,Pe,ce),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(S,Pe,ce)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||$===o.memoizedProps&&De===o.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&De===o.memoizedState||(u.flags|=1024),u.memoizedProps=S,u.memoizedState=Pe),D.props=S,D.state=Pe,D.context=ce,S=ze):(typeof D.componentDidUpdate!="function"||$===o.memoizedProps&&De===o.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&De===o.memoizedState||(u.flags|=1024),S=!1)}return D=S,Hu(o,u),S=(u.flags&128)!==0,D||S?(D=u.stateNode,v=S&&typeof v.getDerivedStateFromError!="function"?null:D.render(),u.flags|=1,o!==null&&S?(u.child=Gu(u,o.child,null,R),u.child=Gu(u,null,v,R)):mr(o,u,v,R),u.memoizedState=D.state,o=u.child):o=Ko(o,u,R),o}function _i(o,u,v,S){return _u(),u.flags|=256,mr(o,u,v,S),u.child}var nr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lr(o){return{baseLanes:o,cachePool:Ov()}}function Nf(o,u,v){return o=o!==null?o.childLanes&~v:0,u&&(o|=Oi),o}function Xh(o,u,v){var S=u.pendingProps,R=!1,D=(u.flags&128)!==0,$;if(($=D)||($=o!==null&&o.memoizedState===null?!1:(mn.current&2)!==0),$&&(R=!0,u.flags&=-129),$=(u.flags&32)!==0,u.flags&=-33,o===null){if(Qt){if(R?$s(u):Nn(),Qt){var Q=jn,ce;if(ce=Q){e:{for(ce=Q,Q=zi;ce.nodeType!==8;){if(!Q){Q=null;break e}if(ce=ei(ce.nextSibling),ce===null){Q=null;break e}}Q=ce}Q!==null?(u.memoizedState={dehydrated:Q,treeContext:Ps!==null?{id:so,overflow:Ht}:null,retryLane:536870912,hydrationErrors:null},ce=Cr(18,null,null,0),ce.stateNode=Q,ce.return=u,u.child=ce,Ir=u,jn=null,ce=!0):ce=!1}ce||Ui(u)}if(Q=u.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Ep(Q)?u.lanes=32:u.lanes=536870912,null;Dr(u)}return Q=S.children,S=S.fallback,R?(Nn(),R=u.mode,Q=Rr({mode:"hidden",children:Q},R),S=Ds(S,R,v,null),Q.return=u,S.return=u,Q.sibling=S,u.child=Q,R=u.child,R.memoizedState=Lr(v),R.childLanes=Nf(o,$,v),u.memoizedState=nr,S):($s(u),Zh(u,Q))}if(ce=o.memoizedState,ce!==null&&(Q=ce.dehydrated,Q!==null)){if(D)u.flags&256?($s(u),u.flags&=-257,u=Ga(o,u,v)):u.memoizedState!==null?(Nn(),u.child=o.child,u.flags|=128,u=null):(Nn(),R=S.fallback,Q=u.mode,S=Rr({mode:"visible",children:S.children},Q),R=Ds(R,Q,v,null),R.flags|=2,S.return=u,R.return=u,S.sibling=R,u.child=S,Gu(u,o.child,null,v),S=u.child,S.memoizedState=Lr(v),S.childLanes=Nf(o,$,v),u.memoizedState=nr,u=R);else if($s(u),Ep(Q)){if($=Q.nextSibling&&Q.nextSibling.dataset,$)var _e=$.dgst;$=_e,S=Error(r(419)),S.stack="",S.digest=$,gf({value:S,source:null,stack:null}),u=Ga(o,u,v)}else if(zn||mf(o,u,v,!1),$=(v&o.childLanes)!==0,zn||$){if($=Rn,$!==null&&(S=v&-v,S=(S&42)!==0?1:$n(S),S=(S&($.suspendedLanes|v))!==0?0:S,S!==0&&S!==ce.retryLane))throw ce.retryLane=S,wu(o,S),Xe($,o,S),Yi;Q.data==="$?"||Jt(),u=Ga(o,u,v)}else Q.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=ce.treeContext,jn=ei(Q.nextSibling),Ir=u,Qt=!0,Ms=null,zi=!1,o!==null&&(fi[Hr++]=so,fi[Hr++]=Ht,fi[Hr++]=Ps,so=o.id,Ht=o.overflow,Ps=u),u=Zh(u,S.children),u.flags|=4096);return u}return R?(Nn(),R=S.fallback,Q=u.mode,ce=o.child,_e=ce.sibling,S=wi(ce,{mode:"hidden",children:S.children}),S.subtreeFlags=ce.subtreeFlags&65011712,_e!==null?R=wi(_e,R):(R=Ds(R,Q,v,null),R.flags|=2),R.return=u,S.return=u,S.sibling=R,u.child=S,S=R,R=u.child,Q=o.child.memoizedState,Q===null?Q=Lr(v):(ce=Q.cachePool,ce!==null?(_e=Kn._currentValue,ce=ce.parent!==_e?{parent:_e,pool:_e}:ce):ce=Ov(),Q={baseLanes:Q.baseLanes|v,cachePool:ce}),R.memoizedState=Q,R.childLanes=Nf(o,$,v),u.memoizedState=nr,S):($s(u),v=o.child,o=v.sibling,v=wi(v,{mode:"visible",children:S.children}),v.return=u,v.sibling=null,o!==null&&($=u.deletions,$===null?(u.deletions=[o],u.flags|=16):$.push(o)),u.child=v,u.memoizedState=null,v)}function Zh(o,u){return u=Rr({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Rr(o,u){return o=Cr(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Ga(o,u,v){return Gu(u,o.child,null,v),o=Zh(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function $a(o,u,v){o.lanes|=u;var S=o.alternate;S!==null&&(S.lanes|=u),Jg(o.return,u,v)}function Jh(o,u,v,S,R){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:R}:(D.isBackwards=u,D.rendering=null,D.renderingStartTime=0,D.last=S,D.tail=v,D.tailMode=R)}function Ii(o,u,v){var S=u.pendingProps,R=S.revealOrder,D=S.tail;if(mr(o,u,S.children,v),S=mn.current,(S&2)!==0)S=S&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&$a(o,v,u);else if(o.tag===19)$a(o,v,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}S&=1}switch(B(mn,S),R){case"forwards":for(v=u.child,R=null;v!==null;)o=v.alternate,o!==null&&qh(o)===null&&(R=v),v=v.sibling;v=R,v===null?(R=u.child,u.child=null):(R=v.sibling,v.sibling=null),Jh(u,!1,R,v,D);break;case"backwards":for(v=null,R=u.child,u.child=null;R!==null;){if(o=R.alternate,o!==null&&qh(o)===null){u.child=R;break}o=R.sibling,R.sibling=v,v=R,R=o}Jh(u,!0,v,null,D);break;case"together":Jh(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Ko(o,u,v){if(o!==null&&(u.dependencies=o.dependencies),vo|=u.lanes,(v&u.childLanes)===0)if(o!==null){if(mf(o,u,v,!1),(v&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,v=wi(o,o.pendingProps),u.child=v,v.return=u;o.sibling!==null;)o=o.sibling,v=v.sibling=wi(o,o.pendingProps),v.return=u;v.sibling=null}return u.child}function Ws(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Mh(o)))}function Qh(o,u,v){switch(u.tag){case 3:X(u,u.stateNode.containerInfo),Ls(u,Kn,o.memoizedState.cache),_u();break;case 27:case 5:le(u);break;case 4:X(u,u.stateNode.containerInfo);break;case 10:Ls(u,u.type,u.memoizedProps.value);break;case 13:var S=u.memoizedState;if(S!==null)return S.dehydrated!==null?($s(u),u.flags|=128,null):(v&u.child.childLanes)!==0?Xh(o,u,v):($s(u),o=Ko(o,u,v),o!==null?o.sibling:null);$s(u);break;case 19:var R=(o.flags&128)!==0;if(S=(v&u.childLanes)!==0,S||(mf(o,u,v,!1),S=(v&u.childLanes)!==0),R){if(S)return Ii(o,u,v);u.flags|=128}if(R=u.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),B(mn,mn.current),S)break;return null;case 22:case 23:return u.lanes=0,_m(o,u,v);case 24:Ls(u,Kn,o.memoizedState.cache)}return Ko(o,u,v)}function Ha(o,u,v){if(o!==null)if(o.memoizedProps!==u.pendingProps)zn=!0;else{if(!Ws(o,v)&&(u.flags&128)===0)return zn=!1,Qh(o,u,v);zn=(o.flags&131072)!==0}else zn=!1,Qt&&(u.flags&1048576)!==0&&Tv(u,Oh,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var S=u.elementType,R=S._init;if(S=R(S._payload),u.type=S,typeof S=="function")df(S)?(o=Pr(S,o),u.tag=1,u=Yv(null,u,S,o,v)):(u.tag=0,u=Kh(null,u,S,o,v));else{if(S!=null){if(R=S.$$typeof,R===O){u.tag=11,u=Hv(null,u,S,o,v);break e}else if(R===V){u.tag=14,u=Un(null,u,S,o,v);break e}}throw u=je(S)||S,Error(r(306,u,""))}}return u;case 0:return Kh(o,u,u.type,u.pendingProps,v);case 1:return S=u.type,R=Pr(S,u.pendingProps),Yv(o,u,S,R,v);case 3:e:{if(X(u,u.stateNode.containerInfo),o===null)throw Error(r(387));S=u.pendingProps;var D=u.memoizedState;R=D.element,Bh(o,u),Sf(u,S,null,v);var $=u.memoizedState;if(S=$.cache,Ls(u,Kn,S),S!==D.cache&&Ph(u,[Kn],v,!0),bf(),S=$.element,D.isDehydrated)if(D={element:S,isDehydrated:!1,cache:$.cache},u.updateQueue.baseState=D,u.memoizedState=D,u.flags&256){u=_i(o,u,S,v);break e}else if(S!==R){R=Ci(Error(r(424)),u),gf(R),u=_i(o,u,S,v);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(jn=ei(o.firstChild),Ir=u,Qt=!0,Ms=null,zi=!0,v=Gv(u,null,S,v),u.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(_u(),S===R){u=Ko(o,u,v);break e}mr(o,u,S,v)}u=u.child}return u;case 26:return Hu(o,u),o===null?(v=A(u.type,null,u.pendingProps,null))?u.memoizedState=v:Qt||(v=u.type,o=u.pendingProps,S=Sp(H.current).createElement(v),S[Bn]=u,S[rn]=o,vr(S,v,o),qn(S),u.stateNode=S):u.memoizedState=A(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return le(u),o===null&&Qt&&(S=u.stateNode=Sx(u.type,u.pendingProps,H.current),Ir=u,zi=!0,R=jn,ss(u.type)?(n0=R,jn=ei(S.firstChild)):jn=R),mr(o,u,u.pendingProps.children,v),Hu(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Qt&&((R=S=jn)&&(S=f1(S,u.type,u.pendingProps,zi),S!==null?(u.stateNode=S,Ir=u,jn=ei(S.firstChild),zi=!1,R=!0):R=!1),R||Ui(u)),le(u),R=u.type,D=u.pendingProps,$=o!==null?o.memoizedProps:null,S=D.children,ic(R,D)?S=null:$!==null&&ic(R,$)&&(u.flags|=32),u.memoizedState!==null&&(R=um(o,u,$S,null,null,v),ac._currentValue=R),Hu(o,u),mr(o,u,S,v),u.child;case 6:return o===null&&Qt&&((o=v=jn)&&(v=d1(v,u.pendingProps,zi),v!==null?(u.stateNode=v,Ir=u,jn=null,o=!0):o=!1),o||Ui(u)),null;case 13:return Xh(o,u,v);case 4:return X(u,u.stateNode.containerInfo),S=u.pendingProps,o===null?u.child=Gu(u,null,S,v):mr(o,u,S,v),u.child;case 11:return Hv(o,u,u.type,u.pendingProps,v);case 7:return mr(o,u,u.pendingProps,v),u.child;case 8:return mr(o,u,u.pendingProps.children,v),u.child;case 12:return mr(o,u,u.pendingProps.children,v),u.child;case 10:return S=u.pendingProps,Ls(u,u.type,S.value),mr(o,u,S.children,v),u.child;case 9:return R=u.type._context,S=u.pendingProps.children,Fs(u),R=dr(R),S=S(R),u.flags|=1,mr(o,u,S,v),u.child;case 14:return Un(o,u,u.type,u.pendingProps,v);case 15:return Nm(o,u,u.type,u.pendingProps,v);case 19:return Ii(o,u,v);case 31:return S=u.pendingProps,v=u.mode,S={mode:S.mode,children:S.children},o===null?(v=Rr(S,v),v.ref=u.ref,u.child=v,v.return=u,u=v):(v=wi(o.child,S),v.ref=u.ref,u.child=v,v.return=u,u=v),u;case 22:return _m(o,u,v);case 24:return Fs(u),S=dr(Kn),o===null?(R=Lh(),R===null&&(R=Rn,D=em(),R.pooledCache=D,D.refCount++,D!==null&&(R.pooledCacheLanes|=v),R=D),u.memoizedState={parent:S,cache:R},im(u),Ls(u,Kn,R)):((o.lanes&v)!==0&&(Bh(o,u),Sf(u,null,null,v),bf()),R=o.memoizedState,D=u.memoizedState,R.parent!==S?(R={parent:S,cache:S},u.memoizedState=R,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=R),Ls(u,Kn,S)):(S=D.cache,Ls(u,Kn,S),S!==R.cache&&Ph(u,[Kn],v,!0))),mr(o,u,u.pendingProps.children,v),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Xo(o){o.flags|=4}function Im(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Cn(u)){if(u=Ni.current,u!==null&&((Kt&4194048)===Kt?Wi!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||u!==Wi))throw Fu=Fh,Dv;o.flags|=8192}}function pi(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Ln():536870912,o.lanes|=u,Zu|=u)}function cr(o,u){if(!Qt)switch(o.tailMode){case"hidden":u=o.tail;for(var v=null;u!==null;)u.alternate!==null&&(v=u),u=u.sibling;v===null?o.tail=null:v.sibling=null;break;case"collapsed":v=o.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:S.sibling=null}}function yn(o){var u=o.alternate!==null&&o.alternate.child===o.child,v=0,S=0;if(u)for(var R=o.child;R!==null;)v|=R.lanes|R.childLanes,S|=R.subtreeFlags&65011712,S|=R.flags&65011712,R.return=o,R=R.sibling;else for(R=o.child;R!==null;)v|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=o,R=R.sibling;return o.subtreeFlags|=S,o.childLanes=v,u}function Zo(o,u,v){var S=u.pendingProps;switch(Dh(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(u),null;case 1:return yn(u),null;case 3:return v=u.stateNode,S=null,o!==null&&(S=o.memoizedState.cache),u.memoizedState.cache!==S&&(u.flags|=2048),jo(Kn),Z(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(pf(u)?Xo(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Fa())),yn(u),null;case 26:return v=u.memoizedState,o===null?(Xo(u),v!==null?(yn(u),Im(u,v)):(yn(u),u.flags&=-16777217)):v?v!==o.memoizedState?(Xo(u),yn(u),Im(u,v)):(yn(u),u.flags&=-16777217):(o.memoizedProps!==S&&Xo(u),yn(u),u.flags&=-16777217),null;case 27:xe(u),v=H.current;var R=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==S&&Xo(u);else{if(!S){if(u.stateNode===null)throw Error(r(166));return yn(u),null}o=j.current,pf(u)?Nv(u):(o=Sx(R,S,v),u.stateNode=o,Xo(u))}return yn(u),null;case 5:if(xe(u),v=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==S&&Xo(u);else{if(!S){if(u.stateNode===null)throw Error(r(166));return yn(u),null}if(o=j.current,pf(u))Nv(u);else{switch(R=Sp(H.current),o){case 1:o=R.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:o=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":o=R.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":o=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":o=R.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof S.is=="string"?R.createElement("select",{is:S.is}):R.createElement("select"),S.multiple?o.multiple=!0:S.size&&(o.size=S.size);break;default:o=typeof S.is=="string"?R.createElement(v,{is:S.is}):R.createElement(v)}}o[Bn]=u,o[rn]=S;e:for(R=u.child;R!==null;){if(R.tag===5||R.tag===6)o.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===u)break e;for(;R.sibling===null;){if(R.return===null||R.return===u)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}u.stateNode=o;e:switch(vr(o,v,S),v){case"button":case"input":case"select":case"textarea":o=!!S.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Xo(u)}}return yn(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==S&&Xo(u);else{if(typeof S!="string"&&u.stateNode===null)throw Error(r(166));if(o=H.current,pf(u)){if(o=u.stateNode,v=u.memoizedProps,S=null,R=Ir,R!==null)switch(R.tag){case 27:case 5:S=R.memoizedProps}o[Bn]=u,o=!!(o.nodeValue===v||S!==null&&S.suppressHydrationWarning===!0||px(o.nodeValue,v)),o||Ui(u)}else o=Sp(o).createTextNode(S),o[Bn]=u,u.stateNode=o}return yn(u),null;case 13:if(S=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(R=pf(u),S!==null&&S.dehydrated!==null){if(o===null){if(!R)throw Error(r(318));if(R=u.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Bn]=u}else _u(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;yn(u),R=!1}else R=Fa(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=R),R=!0;if(!R)return u.flags&256?(Dr(u),u):(Dr(u),null)}if(Dr(u),(u.flags&128)!==0)return u.lanes=v,u;if(v=S!==null,o=o!==null&&o.memoizedState!==null,v){S=u.child,R=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(R=S.alternate.memoizedState.cachePool.pool);var D=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(D=S.memoizedState.cachePool.pool),D!==R&&(S.flags|=2048)}return v!==o&&v&&(u.child.flags|=8192),pi(u,u.updateQueue),yn(u),null;case 4:return Z(),o===null&&mp(u.stateNode.containerInfo),yn(u),null;case 10:return jo(u.type),yn(u),null;case 19:if(me(mn),R=u.memoizedState,R===null)return yn(u),null;if(S=(u.flags&128)!==0,D=R.rendering,D===null)if(S)cr(R,!1);else{if(Dn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(D=qh(o),D!==null){for(u.flags|=128,cr(R,!1),o=D.updateQueue,u.updateQueue=o,pi(u,o),u.subtreeFlags=0,o=v,v=u.child;v!==null;)hf(v,o),v=v.sibling;return B(mn,mn.current&1|2),u.child}o=o.sibling}R.tail!==null&&Be()>op&&(u.flags|=128,S=!0,cr(R,!1),u.lanes=4194304)}else{if(!S)if(o=qh(D),o!==null){if(u.flags|=128,S=!0,o=o.updateQueue,u.updateQueue=o,pi(u,o),cr(R,!0),R.tail===null&&R.tailMode==="hidden"&&!D.alternate&&!Qt)return yn(u),null}else 2*Be()-R.renderingStartTime>op&&v!==536870912&&(u.flags|=128,S=!0,cr(R,!1),u.lanes=4194304);R.isBackwards?(D.sibling=u.child,u.child=D):(o=R.last,o!==null?o.sibling=D:u.child=D,R.last=D)}return R.tail!==null?(u=R.tail,R.rendering=u,R.tail=u.sibling,R.renderingStartTime=Be(),u.sibling=null,o=mn.current,B(mn,S?o&1|2:o&1),u):(yn(u),null);case 22:case 23:return Dr(u),am(),S=u.memoizedState!==null,o!==null?o.memoizedState!==null!==S&&(u.flags|=8192):S&&(u.flags|=8192),S?(v&536870912)!==0&&(u.flags&128)===0&&(yn(u),u.subtreeFlags&6&&(u.flags|=8192)):yn(u),v=u.updateQueue,v!==null&&pi(u,v.retryQueue),v=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(v=o.memoizedState.cachePool.pool),S=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(S=u.memoizedState.cachePool.pool),S!==v&&(u.flags|=2048),o!==null&&me(ks),null;case 24:return v=null,o!==null&&(v=o.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),jo(Kn),yn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function Jo(o,u){switch(Dh(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return jo(Kn),Z(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return xe(u),null;case 13:if(Dr(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));_u()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return me(mn),null;case 4:return Z(),null;case 10:return jo(u.type),null;case 22:case 23:return Dr(u),am(),o!==null&&me(ks),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return jo(Kn),null;case 25:return null;default:return null}}function qv(o,u){switch(Dh(u),u.tag){case 3:jo(Kn),Z();break;case 26:case 27:case 5:xe(u);break;case 4:Z();break;case 13:Dr(u);break;case 19:me(mn);break;case 10:jo(u.type);break;case 22:case 23:Dr(u),am(),o!==null&&me(ks);break;case 24:jo(Kn)}}function _f(o,u){try{var v=u.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var R=S.next;v=R;do{if((v.tag&o)===o){S=void 0;var D=v.create,$=v.inst;S=D(),$.destroy=S}v=v.next}while(v!==R)}}catch(Q){vn(u,u.return,Q)}}function Ys(o,u,v){try{var S=u.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var D=R.next;S=D;do{if((S.tag&o)===o){var $=S.inst,Q=$.destroy;if(Q!==void 0){$.destroy=void 0,R=u;var ce=v,_e=Q;try{_e()}catch(ze){vn(R,ce,ze)}}}S=S.next}while(S!==D)}}catch(ze){vn(u,u.return,ze)}}function ep(o){var u=o.updateQueue;if(u!==null){var v=o.stateNode;try{jh(u,v)}catch(S){vn(o,o.return,S)}}}function pt(o,u,v){v.props=Pr(o.type,o.memoizedProps),v.state=o.memoizedState;try{v.componentWillUnmount()}catch(S){vn(o,u,S)}}function Wa(o,u){try{var v=o.ref;if(v!==null){switch(o.tag){case 26:case 27:case 5:var S=o.stateNode;break;case 30:S=o.stateNode;break;default:S=o.stateNode}typeof v=="function"?o.refCleanup=v(S):v.current=S}}catch(R){vn(o,u,R)}}function qi(o,u){var v=o.ref,S=o.refCleanup;if(v!==null)if(typeof S=="function")try{S()}catch(R){vn(o,u,R)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(R){vn(o,u,R)}else v.current=null}function Om(o){var u=o.type,v=o.memoizedProps,S=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":v.autoFocus&&S.focus();break e;case"img":v.src?S.src=v.src:v.srcSet&&(S.srcset=v.srcSet)}}catch(R){vn(o,o.return,R)}}function Wu(o,u,v){try{var S=o.stateNode;l1(S,o.type,v,u),S[rn]=u}catch(R){vn(o,o.return,R)}}function Kv(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ss(o.type)||o.tag===4}function Yu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Kv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ss(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function qu(o,u,v){var S=o.tag;if(S===5||S===6)o=o.stateNode,u?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(o,u):(u=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,u.appendChild(o),v=v._reactRootContainer,v!=null||u.onclick!==null||(u.onclick=Ja));else if(S!==4&&(S===27&&ss(o.type)&&(v=o.stateNode,u=null),o=o.child,o!==null))for(qu(o,u,v),o=o.sibling;o!==null;)qu(o,u,v),o=o.sibling}function qs(o,u,v){var S=o.tag;if(S===5||S===6)o=o.stateNode,u?v.insertBefore(o,u):v.appendChild(o);else if(S!==4&&(S===27&&ss(o.type)&&(v=o.stateNode),o=o.child,o!==null))for(qs(o,u,v),o=o.sibling;o!==null;)qs(o,u,v),o=o.sibling}function tp(o){var u=o.stateNode,v=o.memoizedProps;try{for(var S=o.type,R=u.attributes;R.length;)u.removeAttributeNode(R[0]);vr(u,S,v),u[Bn]=o,u[rn]=v}catch(D){vn(o,o.return,D)}}var Qo=!1,Wn=!1,Dm=!1,Xv=typeof WeakSet=="function"?WeakSet:Set,fr=null;function qS(o,u){if(o=o.containerInfo,xp=Tx,o=Sv(o),Vg(o)){if("selectionStart"in o)var v={start:o.selectionStart,end:o.selectionEnd};else e:{v=(v=o.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var R=S.anchorOffset,D=S.focusNode;S=S.focusOffset;try{v.nodeType,D.nodeType}catch{v=null;break e}var $=0,Q=-1,ce=-1,_e=0,ze=0,$e=o,De=null;t:for(;;){for(var Pe;$e!==v||R!==0&&$e.nodeType!==3||(Q=$+R),$e!==D||S!==0&&$e.nodeType!==3||(ce=$+S),$e.nodeType===3&&($+=$e.nodeValue.length),(Pe=$e.firstChild)!==null;)De=$e,$e=Pe;for(;;){if($e===o)break t;if(De===v&&++_e===R&&(Q=$),De===D&&++ze===S&&(ce=$),(Pe=$e.nextSibling)!==null)break;$e=De,De=$e.parentNode}$e=Pe}v=Q===-1||ce===-1?null:{start:Q,end:ce}}else v=null}v=v||{start:0,end:0}}else v=null;for(bp={focusedElem:o,selectionRange:v},Tx=!1,fr=u;fr!==null;)if(u=fr,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,fr=o;else for(;fr!==null;){switch(u=fr,D=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&D!==null){o=void 0,v=u,R=D.memoizedProps,D=D.memoizedState,S=v.stateNode;try{var _t=Pr(v.type,R,v.elementType===v.type);o=S.getSnapshotBeforeUpdate(_t,D),S.__reactInternalSnapshotBeforeUpdate=o}catch(Ct){vn(v,v.return,Ct)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,v=o.nodeType,v===9)t0(o);else if(v===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":t0(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,fr=o;break}fr=u.return}}function Zv(o,u,v){var S=v.flags;switch(v.tag){case 0:case 11:case 15:po(o,v),S&4&&_f(5,v);break;case 1:if(po(o,v),S&4)if(o=v.stateNode,u===null)try{o.componentDidMount()}catch($){vn(v,v.return,$)}else{var R=Pr(v.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(R,u,o.__reactInternalSnapshotBeforeUpdate)}catch($){vn(v,v.return,$)}}S&64&&ep(v),S&512&&Wa(v,v.return);break;case 3:if(po(o,v),S&64&&(o=v.updateQueue,o!==null)){if(u=null,v.child!==null)switch(v.child.tag){case 27:case 5:u=v.child.stateNode;break;case 1:u=v.child.stateNode}try{jh(o,u)}catch($){vn(v,v.return,$)}}break;case 27:u===null&&S&4&&tp(v);case 26:case 5:po(o,v),u===null&&S&4&&Om(v),S&512&&Wa(v,v.return);break;case 12:po(o,v);break;case 13:po(o,v),S&4&&ex(o,v),S&64&&(o=v.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(v=t1.bind(null,v),xx(o,v))));break;case 22:if(S=v.memoizedState!==null||Qo,!S){u=u!==null&&u.memoizedState!==null||Wn,R=Qo;var D=Wn;Qo=S,(Wn=u)&&!D?go(o,v,(v.subtreeFlags&8772)!==0):po(o,v),Qo=R,Wn=D}break;case 30:break;default:po(o,v)}}function Jv(o){var u=o.alternate;u!==null&&(o.alternate=null,Jv(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&bg(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var wn=null,Jr=!1;function ho(o,u,v){for(v=v.child;v!==null;)Qv(o,u,v),v=v.sibling}function Qv(o,u,v){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ye,v)}catch{}switch(v.tag){case 26:Wn||qi(v,u),ho(o,u,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:Wn||qi(v,u);var S=wn,R=Jr;ss(v.type)&&(wn=v.stateNode,Jr=!1),ho(o,u,v),Lf(v.stateNode),wn=S,Jr=R;break;case 5:Wn||qi(v,u);case 6:if(S=wn,R=Jr,wn=null,ho(o,u,v),wn=S,Jr=R,wn!==null)if(Jr)try{(wn.nodeType===9?wn.body:wn.nodeName==="HTML"?wn.ownerDocument.body:wn).removeChild(v.stateNode)}catch(D){vn(v,u,D)}else try{wn.removeChild(v.stateNode)}catch(D){vn(v,u,D)}break;case 18:wn!==null&&(Jr?(o=wn,e0(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,v.stateNode),s0(o)):e0(wn,v.stateNode));break;case 4:S=wn,R=Jr,wn=v.stateNode.containerInfo,Jr=!0,ho(o,u,v),wn=S,Jr=R;break;case 0:case 11:case 14:case 15:Wn||Ys(2,v,u),Wn||Ys(4,v,u),ho(o,u,v);break;case 1:Wn||(qi(v,u),S=v.stateNode,typeof S.componentWillUnmount=="function"&&pt(v,u,S)),ho(o,u,v);break;case 21:ho(o,u,v);break;case 22:Wn=(S=Wn)||v.memoizedState!==null,ho(o,u,v),Wn=S;break;default:ho(o,u,v)}}function ex(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{s0(o)}catch(v){vn(u,u.return,v)}}function KS(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new Xv),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new Xv),u;default:throw Error(r(435,o.tag))}}function np(o,u){var v=KS(o);u.forEach(function(S){var R=n1.bind(null,o,S);v.has(S)||(v.add(S),S.then(R,R))})}function Fr(o,u){var v=u.deletions;if(v!==null)for(var S=0;S<v.length;S++){var R=v[S],D=o,$=u,Q=$;e:for(;Q!==null;){switch(Q.tag){case 27:if(ss(Q.type)){wn=Q.stateNode,Jr=!1;break e}break;case 5:wn=Q.stateNode,Jr=!1;break e;case 3:case 4:wn=Q.stateNode.containerInfo,Jr=!0;break e}Q=Q.return}if(wn===null)throw Error(r(160));Qv(D,$,R),wn=null,Jr=!1,D=R.alternate,D!==null&&(D.return=null),R.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)tx(u,o),u=u.sibling}var Ki=null;function tx(o,u){var v=o.alternate,S=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Fr(u,o),yr(o),S&4&&(Ys(3,o,o.return),_f(3,o),Ys(5,o,o.return));break;case 1:Fr(u,o),yr(o),S&512&&(Wn||v===null||qi(v,v.return)),S&64&&Qo&&(o=o.updateQueue,o!==null&&(S=o.callbacks,S!==null&&(v=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=v===null?S:v.concat(S))));break;case 26:var R=Ki;if(Fr(u,o),yr(o),S&512&&(Wn||v===null||qi(v,v.return)),S&4){var D=v!==null?v.memoizedState:null;if(S=o.memoizedState,v===null)if(S===null)if(o.stateNode===null){e:{S=o.type,v=o.memoizedProps,R=R.ownerDocument||R;t:switch(S){case"title":D=R.getElementsByTagName("title")[0],(!D||D[Ea]||D[Bn]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=R.createElement(S),R.head.insertBefore(D,R.querySelector("head > title"))),vr(D,S,v),D[Bn]=o,qn(D),S=D;break e;case"link":var $=it("link","href",R).get(S+(v.href||""));if($){for(var Q=0;Q<$.length;Q++)if(D=$[Q],D.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&D.getAttribute("rel")===(v.rel==null?null:v.rel)&&D.getAttribute("title")===(v.title==null?null:v.title)&&D.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){$.splice(Q,1);break t}}D=R.createElement(S),vr(D,S,v),R.head.appendChild(D);break;case"meta":if($=it("meta","content",R).get(S+(v.content||""))){for(Q=0;Q<$.length;Q++)if(D=$[Q],D.getAttribute("content")===(v.content==null?null:""+v.content)&&D.getAttribute("name")===(v.name==null?null:v.name)&&D.getAttribute("property")===(v.property==null?null:v.property)&&D.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&D.getAttribute("charset")===(v.charSet==null?null:v.charSet)){$.splice(Q,1);break t}}D=R.createElement(S),vr(D,S,v),R.head.appendChild(D);break;default:throw Error(r(468,S))}D[Bn]=o,qn(D),S=D}o.stateNode=S}else Et(R,o.type,o.stateNode);else o.stateNode=we(R,S,o.memoizedProps);else D!==S?(D===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):D.count--,S===null?Et(R,o.type,o.stateNode):we(R,S,o.memoizedProps)):S===null&&o.stateNode!==null&&Wu(o,o.memoizedProps,v.memoizedProps)}break;case 27:Fr(u,o),yr(o),S&512&&(Wn||v===null||qi(v,v.return)),v!==null&&S&4&&Wu(o,o.memoizedProps,v.memoizedProps);break;case 5:if(Fr(u,o),yr(o),S&512&&(Wn||v===null||qi(v,v.return)),o.flags&32){R=o.stateNode;try{Ns(R,"")}catch(Pe){vn(o,o.return,Pe)}}S&4&&o.stateNode!=null&&(R=o.memoizedProps,Wu(o,R,v!==null?v.memoizedProps:R)),S&1024&&(Dm=!0);break;case 6:if(Fr(u,o),yr(o),S&4){if(o.stateNode===null)throw Error(r(162));S=o.memoizedProps,v=o.stateNode;try{v.nodeValue=S}catch(Pe){vn(o,o.return,Pe)}}break;case 3:if(He=null,R=Ki,Ki=oc(u.containerInfo),Fr(u,o),Ki=R,yr(o),S&4&&v!==null&&v.memoizedState.isDehydrated)try{s0(u.containerInfo)}catch(Pe){vn(o,o.return,Pe)}Dm&&(Dm=!1,Ya(o));break;case 4:S=Ki,Ki=oc(o.stateNode.containerInfo),Fr(u,o),yr(o),Ki=S;break;case 12:Fr(u,o),yr(o);break;case 13:Fr(u,o),yr(o),o.child.flags&8192&&o.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(km=Be()),S&4&&(S=o.updateQueue,S!==null&&(o.updateQueue=null,np(o,S)));break;case 22:R=o.memoizedState!==null;var ce=v!==null&&v.memoizedState!==null,_e=Qo,ze=Wn;if(Qo=_e||R,Wn=ze||ce,Fr(u,o),Wn=ze,Qo=_e,yr(o),S&8192)e:for(u=o.stateNode,u._visibility=R?u._visibility&-2:u._visibility|1,R&&(v===null||ce||Qo||Wn||Ks(o)),v=null,u=o;;){if(u.tag===5||u.tag===26){if(v===null){ce=v=u;try{if(D=ce.stateNode,R)$=D.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{Q=ce.stateNode;var $e=ce.memoizedProps.style,De=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;Q.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Pe){vn(ce,ce.return,Pe)}}}else if(u.tag===6){if(v===null){ce=u;try{ce.stateNode.nodeValue=R?"":ce.memoizedProps}catch(Pe){vn(ce,ce.return,Pe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}S&4&&(S=o.updateQueue,S!==null&&(v=S.retryQueue,v!==null&&(S.retryQueue=null,np(o,v))));break;case 19:Fr(u,o),yr(o),S&4&&(S=o.updateQueue,S!==null&&(o.updateQueue=null,np(o,S)));break;case 30:break;case 21:break;default:Fr(u,o),yr(o)}}function yr(o){var u=o.flags;if(u&2){try{for(var v,S=o.return;S!==null;){if(Kv(S)){v=S;break}S=S.return}if(v==null)throw Error(r(160));switch(v.tag){case 27:var R=v.stateNode,D=Yu(o);qs(o,D,R);break;case 5:var $=v.stateNode;v.flags&32&&(Ns($,""),v.flags&=-33);var Q=Yu(o);qs(o,Q,$);break;case 3:case 4:var ce=v.stateNode.containerInfo,_e=Yu(o);qu(o,_e,ce);break;default:throw Error(r(161))}}catch(ze){vn(o,o.return,ze)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function Ya(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;Ya(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function po(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Zv(o,u.alternate,u),u=u.sibling}function Ks(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Ys(4,u,u.return),Ks(u);break;case 1:qi(u,u.return);var v=u.stateNode;typeof v.componentWillUnmount=="function"&&pt(u,u.return,v),Ks(u);break;case 27:Lf(u.stateNode);case 26:case 5:qi(u,u.return),Ks(u);break;case 22:u.memoizedState===null&&Ks(u);break;case 30:Ks(u);break;default:Ks(u)}o=o.sibling}}function go(o,u,v){for(v=v&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var S=u.alternate,R=o,D=u,$=D.flags;switch(D.tag){case 0:case 11:case 15:go(R,D,v),_f(4,D);break;case 1:if(go(R,D,v),S=D,R=S.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(_e){vn(S,S.return,_e)}if(S=D,R=S.updateQueue,R!==null){var Q=S.stateNode;try{var ce=R.shared.hiddenCallbacks;if(ce!==null)for(R.shared.hiddenCallbacks=null,R=0;R<ce.length;R++)Lv(ce[R],Q)}catch(_e){vn(S,S.return,_e)}}v&&$&64&&ep(D),Wa(D,D.return);break;case 27:tp(D);case 26:case 5:go(R,D,v),v&&S===null&&$&4&&Om(D),Wa(D,D.return);break;case 12:go(R,D,v);break;case 13:go(R,D,v),v&&$&4&&ex(R,D);break;case 22:D.memoizedState===null&&go(R,D,v),Wa(D,D.return);break;case 30:break;default:go(R,D,v)}u=u.sibling}}function gt(o,u){var v=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(v=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==v&&(o!=null&&o.refCount++,v!=null&&yf(v))}function If(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&yf(o))}function mo(o,u,v,S){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)nx(o,u,v,S),u=u.sibling}function nx(o,u,v,S){var R=u.flags;switch(u.tag){case 0:case 11:case 15:mo(o,u,v,S),R&2048&&_f(9,u);break;case 1:mo(o,u,v,S);break;case 3:mo(o,u,v,S),R&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&yf(o)));break;case 12:if(R&2048){mo(o,u,v,S),o=u.stateNode;try{var D=u.memoizedProps,$=D.id,Q=D.onPostCommit;typeof Q=="function"&&Q($,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ce){vn(u,u.return,ce)}}else mo(o,u,v,S);break;case 13:mo(o,u,v,S);break;case 23:break;case 22:D=u.stateNode,$=u.alternate,u.memoizedState!==null?D._visibility&2?mo(o,u,v,S):Xs(o,u):D._visibility&2?mo(o,u,v,S):(D._visibility|=2,qa(o,u,v,S,(u.subtreeFlags&10256)!==0)),R&2048&&gt($,u);break;case 24:mo(o,u,v,S),R&2048&&If(u.alternate,u);break;default:mo(o,u,v,S)}}function qa(o,u,v,S,R){for(R=R&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var D=o,$=u,Q=v,ce=S,_e=$.flags;switch($.tag){case 0:case 11:case 15:qa(D,$,Q,ce,R),_f(8,$);break;case 23:break;case 22:var ze=$.stateNode;$.memoizedState!==null?ze._visibility&2?qa(D,$,Q,ce,R):Xs(D,$):(ze._visibility|=2,qa(D,$,Q,ce,R)),R&&_e&2048&&gt($.alternate,$);break;case 24:qa(D,$,Q,ce,R),R&&_e&2048&&If($.alternate,$);break;default:qa(D,$,Q,ce,R)}u=u.sibling}}function Xs(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var v=o,S=u,R=S.flags;switch(S.tag){case 22:Xs(v,S),R&2048&&gt(S.alternate,S);break;case 24:Xs(v,S),R&2048&&If(S.alternate,S);break;default:Xs(v,S)}u=u.sibling}}var Zs=8192;function es(o){if(o.subtreeFlags&Zs)for(o=o.child;o!==null;)Pm(o),o=o.sibling}function Pm(o){switch(o.tag){case 26:es(o),o.flags&Zs&&o.memoizedState!==null&&tn(Ki,o.memoizedState,o.memoizedProps);break;case 5:es(o);break;case 3:case 4:var u=Ki;Ki=oc(o.stateNode.containerInfo),es(o),Ki=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=Zs,Zs=16777216,es(o),Zs=u):es(o));break;default:es(o)}}function rx(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function yo(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var v=0;v<u.length;v++){var S=u[v];fr=S,ip(S,o)}rx(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ku(o),o=o.sibling}function Ku(o){switch(o.tag){case 0:case 11:case 15:yo(o),o.flags&2048&&Ys(9,o,o.return);break;case 3:yo(o);break;case 12:yo(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,rp(o)):yo(o);break;default:yo(o)}}function rp(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var v=0;v<u.length;v++){var S=u[v];fr=S,ip(S,o)}rx(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Ys(8,u,u.return),rp(u);break;case 22:v=u.stateNode,v._visibility&2&&(v._visibility&=-3,rp(u));break;default:rp(u)}o=o.sibling}}function ip(o,u){for(;fr!==null;){var v=fr;switch(v.tag){case 0:case 11:case 15:Ys(8,v,u);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var S=v.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:yf(v.memoizedState.cache)}if(S=v.child,S!==null)S.return=v,fr=S;else e:for(v=o;fr!==null;){S=fr;var R=S.sibling,D=S.return;if(Jv(S),S===v){fr=null;break e}if(R!==null){R.return=D,fr=R;break e}fr=D}}}var XS={getCacheForType:function(o){var u=dr(Kn),v=u.data.get(o);return v===void 0&&(v=o(),u.data.set(o,v)),v}},ZS=typeof WeakMap=="function"?WeakMap:Map,on=0,Rn=null,Gt=null,Kt=0,cn=0,Qr=null,ts=!1,Xu=!1,Mm=!1,ns=0,Dn=0,vo=0,Ka=0,Lm=0,Oi=0,Zu=0,Ju=null,kr=null,Fm=!1,km=0,op=1/0,sp=null,Xi=null,rr=0,xo=null,Qu=null,rs=0,Bm=0,jm=null,ix=null,fn=0,Tr=null;function ir(){if((on&2)!==0&&Kt!==0)return Kt&-Kt;if(re.T!==null){var o=Pu;return o!==0?o:pp()}return Aa()}function ox(){Oi===0&&(Oi=(Kt&536870912)===0||Qt?An():536870912);var o=Ni.current;return o!==null&&(o.flags|=32),Oi}function Xe(o,u,v){(o===Rn&&(cn===2||cn===9)||o.cancelPendingCommit!==null)&&(bo(o,0),is(o,Kt,Oi,!1)),Ur(o,v),((on&2)===0||o!==Rn)&&(o===Rn&&((on&2)===0&&(Ka|=v),Dn===4&&is(o,Kt,Oi,!1)),gi(o))}function zm(o,u,v){if((on&6)!==0)throw Error(r(327));var S=!v&&(u&124)===0&&(u&o.expiredLanes)===0||At(o,u),R=S?Gm(o,u):Of(o,u,!0),D=S;do{if(R===0){Xu&&!S&&is(o,u,0,!1);break}else{if(v=o.current.alternate,D&&!JS(v)){R=Of(o,u,!1),D=!1;continue}if(R===2){if(D=u,o.errorRecoveryDisabledLanes&D)var $=0;else $=o.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){u=$;e:{var Q=o;R=Ju;var ce=Q.current.memoizedState.isDehydrated;if(ce&&(bo(Q,$).flags|=256),$=Of(Q,$,!1),$!==2){if(Mm&&!ce){Q.errorRecoveryDisabledLanes|=D,Ka|=D,R=4;break e}D=kr,kr=R,D!==null&&(kr===null?kr=D:kr.push.apply(kr,D))}R=$}if(D=!1,R!==2)continue}}if(R===1){bo(o,0),is(o,u,0,!0);break}e:{switch(S=o,D=R,D){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:is(S,u,Oi,!ts);break e;case 2:kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(R=km+300-Be(),10<R)){if(is(S,u,Oi,!ts),mt(S,0,!0)!==0)break e;S.timeoutHandle=mx(ap.bind(null,S,v,kr,sp,Fm,u,Oi,Ka,Zu,ts,D,2,-0,0),R);break e}ap(S,v,kr,sp,Fm,u,Oi,Ka,Zu,ts,D,0,-0,0)}}break}while(!0);gi(o)}function ap(o,u,v,S,R,D,$,Q,ce,_e,ze,$e,De,Pe){if(o.timeoutHandle=-1,$e=u.subtreeFlags,($e&8192||($e&16785408)===16785408)&&(Xt={stylesheets:null,count:0,unsuspend:xr},Pm(u),$e=Jn(),$e!==null)){o.cancelPendingCommit=$e(Hm.bind(null,o,u,D,v,S,R,$,Q,ce,ze,1,De,Pe)),is(o,D,$,!_e);return}Hm(o,u,D,v,S,R,$,Q,ce)}function JS(o){for(var u=o;;){var v=u.tag;if((v===0||v===11||v===15)&&u.flags&16384&&(v=u.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var S=0;S<v.length;S++){var R=v[S],D=R.getSnapshot;R=R.value;try{if(!$r(D(),R))return!1}catch{return!1}}if(v=u.child,u.subtreeFlags&16384&&v!==null)v.return=u,u=v;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function is(o,u,v,S){u&=~Lm,u&=~Ka,o.suspendedLanes|=u,o.pingedLanes&=~u,S&&(o.warmLanes|=u),S=o.expirationTimes;for(var R=u;0<R;){var D=31-ft(R),$=1<<D;S[D]=-1,R&=~$}v!==0&&dt(o,v,u)}function Js(){return(on&6)===0?(ia(0),!1):!0}function lp(){if(Gt!==null){if(cn===0)var o=Gt.return;else o=Gt,Bo=ka=null,fm(o),Wo=null,Yo=0,o=Gt;for(;o!==null;)qv(o.alternate,o),o=o.return;Gt=null}}function bo(o,u){var v=o.timeoutHandle;v!==-1&&(o.timeoutHandle=-1,yx(v)),v=o.cancelPendingCommit,v!==null&&(o.cancelPendingCommit=null,v()),lp(),Rn=o,Gt=v=wi(o.current,null),Kt=u,cn=0,Qr=null,ts=!1,Xu=At(o,u),Mm=!1,Zu=Oi=Lm=Ka=vo=Dn=0,kr=Ju=null,Fm=!1,(u&8)!==0&&(u|=u&32);var S=o.entangledLanes;if(S!==0)for(o=o.entanglements,S&=u;0<S;){var R=31-ft(S),D=1<<R;u|=o[R],S&=~D}return ns=u,Rh(),v}function sx(o,u){zt=null,re.H=gr,u===Lu||u===xf?(u=Mv(),cn=3):u===Dv?(u=Mv(),cn=4):cn=u===Yi?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Qr=u,Gt===null&&(Dn=1,Hs(o,Ci(u,o.current)))}function Um(){var o=re.H;return re.H=gr,o===null?gr:o}function ax(){var o=re.A;return re.A=XS,o}function Jt(){Dn=4,ts||(Kt&4194048)!==Kt&&Ni.current!==null||(Xu=!0),(vo&134217727)===0&&(Ka&134217727)===0||Rn===null||is(Rn,Kt,Oi,!1)}function Of(o,u,v){var S=on;on|=2;var R=Um(),D=ax();(Rn!==o||Kt!==u)&&(sp=null,bo(o,u)),u=!1;var $=Dn;e:do try{if(cn!==0&&Gt!==null){var Q=Gt,ce=Qr;switch(cn){case 8:lp(),$=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(u=!0);var _e=cn;if(cn=0,Qr=null,Qs(o,Q,ce,_e),v&&Xu){$=0;break e}break;default:_e=cn,cn=0,Qr=null,Qs(o,Q,ce,_e)}}Vm(),$=Dn;break}catch(ze){sx(o,ze)}while(!0);return u&&o.shellSuspendCounter++,Bo=ka=null,on=S,re.H=R,re.A=D,Gt===null&&(Rn=null,Kt=0,Rh()),$}function Vm(){for(;Gt!==null;)lx(Gt)}function Gm(o,u){var v=on;on|=2;var S=Um(),R=ax();Rn!==o||Kt!==u?(sp=null,op=Be()+500,bo(o,u)):Xu=At(o,u);e:do try{if(cn!==0&&Gt!==null){u=Gt;var D=Qr;t:switch(cn){case 1:cn=0,Qr=null,Qs(o,u,D,1);break;case 2:case 9:if(nm(D)){cn=0,Qr=null,ux(u);break}u=function(){cn!==2&&cn!==9||Rn!==o||(cn=7),gi(o)},D.then(u,u);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:nm(D)?(cn=0,Qr=null,ux(u)):(cn=0,Qr=null,Qs(o,u,D,7));break;case 5:var $=null;switch(Gt.tag){case 26:$=Gt.memoizedState;case 5:case 27:var Q=Gt;if(!$||Cn($)){cn=0,Qr=null;var ce=Q.sibling;if(ce!==null)Gt=ce;else{var _e=Q.return;_e!==null?(Gt=_e,up(_e)):Gt=null}break t}}cn=0,Qr=null,Qs(o,u,D,5);break;case 6:cn=0,Qr=null,Qs(o,u,D,6);break;case 8:lp(),Dn=6;break e;default:throw Error(r(462))}}QS();break}catch(ze){sx(o,ze)}while(!0);return Bo=ka=null,re.H=S,re.A=R,on=v,Gt!==null?0:(Rn=null,Kt=0,Rh(),Dn)}function QS(){for(;Gt!==null&&!Ee();)lx(Gt)}function lx(o){var u=Ha(o.alternate,o,ns);o.memoizedProps=o.pendingProps,u===null?up(o):Gt=u}function ux(o){var u=o,v=u.alternate;switch(u.tag){case 15:case 0:u=Wv(v,u,u.pendingProps,u.type,void 0,Kt);break;case 11:u=Wv(v,u,u.pendingProps,u.type.render,u.ref,Kt);break;case 5:fm(u);default:qv(v,u),u=Gt=hf(u,ns),u=Ha(v,u,ns)}o.memoizedProps=o.pendingProps,u===null?up(o):Gt=u}function Qs(o,u,v,S){Bo=ka=null,fm(u),Wo=null,Yo=0;var R=u.return;try{if(YS(o,R,u,v,Kt)){Dn=1,Hs(o,Ci(v,o.current)),Gt=null;return}}catch(D){if(R!==null)throw Gt=R,D;Dn=1,Hs(o,Ci(v,o.current)),Gt=null;return}u.flags&32768?(Qt||S===1?o=!0:Xu||(Kt&536870912)!==0?o=!1:(ts=o=!0,(S===2||S===9||S===3||S===6)&&(S=Ni.current,S!==null&&S.tag===13&&(S.flags|=16384))),$m(u,o)):up(u)}function up(o){var u=o;do{if((u.flags&32768)!==0){$m(u,ts);return}o=u.return;var v=Zo(u.alternate,u,ns);if(v!==null){Gt=v;return}if(u=u.sibling,u!==null){Gt=u;return}Gt=u=o}while(u!==null);Dn===0&&(Dn=5)}function $m(o,u){do{var v=Jo(o.alternate,o);if(v!==null){v.flags&=32767,Gt=v;return}if(v=o.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!u&&(o=o.sibling,o!==null)){Gt=o;return}Gt=o=v}while(o!==null);Dn=6,Gt=null}function Hm(o,u,v,S,R,D,$,Q,ce){o.cancelPendingCommit=null;do ta();while(rr!==0);if((on&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(D=u.lanes|u.childLanes,D|=Wg,Sa(o,v,D,$,Q,ce),o===Rn&&(Gt=Rn=null,Kt=0),Qu=u,xo=o,rs=v,Bm=D,jm=R,ix=S,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,r1(Qe,function(){return ec(),null})):(o.callbackNode=null,o.callbackPriority=0),S=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||S){S=re.T,re.T=null,R=Ie.p,Ie.p=2,$=on,on|=4;try{qS(o,u,v)}finally{on=$,Ie.p=R,re.T=S}}rr=1,cp(),Wm(),Di()}}function cp(){if(rr===1){rr=0;var o=xo,u=Qu,v=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||v){v=re.T,re.T=null;var S=Ie.p;Ie.p=2;var R=on;on|=4;try{tx(u,o);var D=bp,$=Sv(o.containerInfo),Q=D.focusedElem,ce=D.selectionRange;if($!==Q&&Q&&Q.ownerDocument&&bv(Q.ownerDocument.documentElement,Q)){if(ce!==null&&Vg(Q)){var _e=ce.start,ze=ce.end;if(ze===void 0&&(ze=_e),"selectionStart"in Q)Q.selectionStart=_e,Q.selectionEnd=Math.min(ze,Q.value.length);else{var $e=Q.ownerDocument||document,De=$e&&$e.defaultView||window;if(De.getSelection){var Pe=De.getSelection(),_t=Q.textContent.length,Ct=Math.min(ce.start,_t),Tn=ce.end===void 0?Ct:Math.min(ce.end,_t);!Pe.extend&&Ct>Tn&&($=Tn,Tn=Ct,Ct=$);var Ae=xv(Q,Ct),ve=xv(Q,Tn);if(Ae&&ve&&(Pe.rangeCount!==1||Pe.anchorNode!==Ae.node||Pe.anchorOffset!==Ae.offset||Pe.focusNode!==ve.node||Pe.focusOffset!==ve.offset)){var Te=$e.createRange();Te.setStart(Ae.node,Ae.offset),Pe.removeAllRanges(),Ct>Tn?(Pe.addRange(Te),Pe.extend(ve.node,ve.offset)):(Te.setEnd(ve.node,ve.offset),Pe.addRange(Te))}}}}for($e=[],Pe=Q;Pe=Pe.parentNode;)Pe.nodeType===1&&$e.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<$e.length;Q++){var Ve=$e[Q];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Tx=!!xp,bp=xp=null}finally{on=R,Ie.p=S,re.T=v}}o.current=u,rr=2}}function Wm(){if(rr===2){rr=0;var o=xo,u=Qu,v=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||v){v=re.T,re.T=null;var S=Ie.p;Ie.p=2;var R=on;on|=4;try{Zv(o,u.alternate,u)}finally{on=R,Ie.p=S,re.T=v}}rr=3}}function Di(){if(rr===4||rr===3){rr=0,Oe();var o=xo,u=Qu,v=rs,S=ix;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?rr=5:(rr=0,Qu=xo=null,ea(o,o.pendingLanes));var R=o.pendingLanes;if(R===0&&(Xi=null),lr(v),u=u.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ye,u,void 0,(u.current.flags&128)===128)}catch{}if(S!==null){u=re.T,R=Ie.p,Ie.p=2,re.T=null;try{for(var D=o.onRecoverableError,$=0;$<S.length;$++){var Q=S[$];D(Q.value,{componentStack:Q.stack})}}finally{re.T=u,Ie.p=R}}(rs&3)!==0&&ta(),gi(o),R=o.pendingLanes,(v&4194090)!==0&&(R&42)!==0?o===Tr?fn++:(fn=0,Tr=o):fn=0,ia(0)}}function ea(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,yf(u)))}function ta(o){return cp(),Wm(),Di(),ec()}function ec(){if(rr!==5)return!1;var o=xo,u=Bm;Bm=0;var v=lr(rs),S=re.T,R=Ie.p;try{Ie.p=32>v?32:v,re.T=null,v=jm,jm=null;var D=xo,$=rs;if(rr=0,Qu=xo=null,rs=0,(on&6)!==0)throw Error(r(331));var Q=on;if(on|=4,Ku(D.current),nx(D,D.current,$,v),on=Q,ia(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ye,D)}catch{}return!0}finally{Ie.p=R,re.T=S,ea(o,u)}}function Ym(o,u,v){u=Ci(v,u),u=fo(o.stateNode,u,2),o=Bs(o,u,2),o!==null&&(Ur(o,2),gi(o))}function vn(o,u,v){if(o.tag===3)Ym(o,o,v);else for(;u!==null;){if(u.tag===3){Ym(u,o,v);break}else if(u.tag===1){var S=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Xi===null||!Xi.has(S))){o=Ci(v,o),v=$u(2),S=Bs(u,v,2),S!==null&&($v(v,S,u,o),Ur(S,2),gi(S));break}}u=u.return}}function qm(o,u,v){var S=o.pingCache;if(S===null){S=o.pingCache=new ZS;var R=new Set;S.set(u,R)}else R=S.get(u),R===void 0&&(R=new Set,S.set(u,R));R.has(v)||(Mm=!0,R.add(v),o=e1.bind(null,o,u,v),u.then(o,o))}function e1(o,u,v){var S=o.pingCache;S!==null&&S.delete(u),o.pingedLanes|=o.suspendedLanes&v,o.warmLanes&=~v,Rn===o&&(Kt&v)===v&&(Dn===4||Dn===3&&(Kt&62914560)===Kt&&300>Be()-km?(on&2)===0&&bo(o,0):Lm|=v,Zu===Kt&&(Zu=0)),gi(o)}function cx(o,u){u===0&&(u=Ln()),o=wu(o,u),o!==null&&(Ur(o,u),gi(o))}function t1(o){var u=o.memoizedState,v=0;u!==null&&(v=u.retryLane),cx(o,v)}function n1(o,u){var v=0;switch(o.tag){case 13:var S=o.stateNode,R=o.memoizedState;R!==null&&(v=R.retryLane);break;case 19:S=o.stateNode;break;case 22:S=o.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(u),cx(o,v)}function r1(o,u){return oe(o,u)}var fp=null,tc=null,Km=!1,dp=!1,na=!1,ra=0;function gi(o){o!==tc&&o.next===null&&(tc===null?fp=tc=o:tc=tc.next=o),dp=!0,Km||(Km=!0,oa())}function ia(o,u){if(!na&&dp){na=!0;do for(var v=!1,S=fp;S!==null;){if(o!==0){var R=S.pendingLanes;if(R===0)var D=0;else{var $=S.suspendedLanes,Q=S.pingedLanes;D=(1<<31-ft(42|o)+1)-1,D&=R&~($&~Q),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(v=!0,hp(S,D))}else D=Kt,D=mt(S,S===Rn?D:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(D&3)===0||At(S,D)||(v=!0,hp(S,D));S=S.next}while(v);na=!1}}function i1(){os()}function os(){dp=Km=!1;var o=0;ra!==0&&(gx()&&(o=ra),ra=0);for(var u=Be(),v=null,S=fp;S!==null;){var R=S.next,D=or(S,u);D===0?(S.next=null,v===null?fp=R:v.next=R,R===null&&(tc=v)):(v=S,(o!==0||(D&3)!==0)&&(dp=!0)),S=R}ia(o)}function or(o,u){for(var v=o.suspendedLanes,S=o.pingedLanes,R=o.expirationTimes,D=o.pendingLanes&-62914561;0<D;){var $=31-ft(D),Q=1<<$,ce=R[$];ce===-1?((Q&v)===0||(Q&S)!==0)&&(R[$]=Dt(Q,u)):ce<=u&&(o.expiredLanes|=Q),D&=~Q}if(u=Rn,v=Kt,v=mt(o,o===u?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),S=o.callbackNode,v===0||o===u&&(cn===2||cn===9)||o.cancelPendingCommit!==null)return S!==null&&S!==null&&ae(S),o.callbackNode=null,o.callbackPriority=0;if((v&3)===0||At(o,v)){if(u=v&-v,u===o.callbackPriority)return u;switch(S!==null&&ae(S),lr(v)){case 2:case 8:v=Fe;break;case 32:v=Qe;break;case 268435456:v=ht;break;default:v=Qe}return S=Xa.bind(null,o),v=oe(v,S),o.callbackPriority=u,o.callbackNode=v,u}return S!==null&&S!==null&&ae(S),o.callbackPriority=2,o.callbackNode=null,2}function Xa(o,u){if(rr!==0&&rr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var v=o.callbackNode;if(ta()&&o.callbackNode!==v)return null;var S=Kt;return S=mt(o,o===Rn?S:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),S===0?null:(zm(o,S,u),or(o,Be()),o.callbackNode!=null&&o.callbackNode===v?Xa.bind(null,o):null)}function hp(o,u){if(ta())return null;zm(o,u,!0)}function oa(){vx(function(){(on&6)!==0?oe(ye,i1):os()})}function pp(){return ra===0&&(ra=An()),ra}function fx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:nf(""+o)}function o1(o,u){var v=u.ownerDocument.createElement("input");return v.name=u.name,v.value=u.value,o.id&&v.setAttribute("form",o.id),u.parentNode.insertBefore(v,u),o=new FormData(o),v.parentNode.removeChild(v),o}function N2(o,u,v,S,R){if(u==="submit"&&v&&v.stateNode===R){var D=fx((R[rn]||null).action),$=S.submitter;$&&(u=(u=$[rn]||null)?fx(u.formAction):$.getAttribute("formAction"),u!==null&&(D=u,$=null));var Q=new Fo("action","action",null,S,R);o.push({event:Q,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(ra!==0){var ce=$?o1(R,$):new FormData(R);Xr(v,{pending:!0,data:ce,method:R.method,action:D},null,ce)}}else typeof D=="function"&&(Q.preventDefault(),ce=$?o1(R,$):new FormData(R),Xr(v,{pending:!0,data:ce,method:R.method,action:D},D,ce))},currentTarget:R}]})}}for(var gp=0;gp<wh.length;gp++){var Xm=wh[gp],s1=Xm.toLowerCase(),Df=Xm[0].toUpperCase()+Xm.slice(1);ui(s1,"on"+Df)}ui(Ev,"onAnimationEnd"),ui(Ch,"onAnimationIteration"),ui(ff,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(MS,"onTransitionRun"),ui(LS,"onTransitionStart"),ui(FS,"onTransitionCancel"),ui(Cv,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(So));function Ao(o,u){u=(u&4)!==0;for(var v=0;v<o.length;v++){var S=o[v],R=S.event;S=S.listeners;e:{var D=void 0;if(u)for(var $=S.length-1;0<=$;$--){var Q=S[$],ce=Q.instance,_e=Q.currentTarget;if(Q=Q.listener,ce!==D&&R.isPropagationStopped())break e;D=Q,R.currentTarget=_e;try{D(R)}catch(ze){Zr(ze)}R.currentTarget=null,D=ce}else for($=0;$<S.length;$++){if(Q=S[$],ce=Q.instance,_e=Q.currentTarget,Q=Q.listener,ce!==D&&R.isPropagationStopped())break e;D=Q,R.currentTarget=_e;try{D(R)}catch(ze){Zr(ze)}R.currentTarget=null,D=ce}}}}function Mt(o,u){var v=u[vu];v===void 0&&(v=u[vu]=new Set);var S=o+"__bubble";v.has(S)||(Zm(u,o,2,!1),v.add(S))}function sa(o,u,v){var S=0;u&&(S|=4),Zm(v,o,S,u)}var nc="_reactListening"+Math.random().toString(36).slice(2);function mp(o){if(!o[nc]){o[nc]=!0,Sg.forEach(function(v){v!=="selectionchange"&&(Pf.has(v)||sa(v,!1,o),sa(v,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[nc]||(u[nc]=!0,sa("selectionchange",!1,u))}}function Zm(o,u,v,S){switch(M2(u)){case 2:var R=TF;break;case 8:R=NF;break;default:R=y1}v=R.bind(null,u,v,o),R=void 0,!Og||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(R=!0),S?R!==void 0?o.addEventListener(u,v,{capture:!0,passive:R}):o.addEventListener(u,v,!0):R!==void 0?o.addEventListener(u,v,{passive:R}):o.addEventListener(u,v,!1)}function yp(o,u,v,S,R){var D=S;if((u&1)===0&&(u&2)===0&&S!==null)e:for(;;){if(S===null)return;var $=S.tag;if($===3||$===4){var Q=S.stateNode.containerInfo;if(Q===R)break;if($===4)for($=S.return;$!==null;){var ce=$.tag;if((ce===3||ce===4)&&$.stateNode.containerInfo===R)return;$=$.return}for(;Q!==null;){if($=ws(Q),$===null)return;if(ce=$.tag,ce===5||ce===6||ce===26||ce===27){S=D=$;continue e}Q=Q.parentNode}}S=S.return}zy(function(){var _e=D,ze=of(v),$e=[];e:{var De=wv.get(o);if(De!==void 0){var Pe=Fo,_t=o;switch(o){case"keypress":if(ph(v)===0)break e;case"keydown":case"keyup":Pe=Qy;break;case"focusin":_t="focus",Pe=vh;break;case"focusout":_t="blur",Pe=vh;break;case"beforeblur":case"afterblur":Pe=vh;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=T2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=nv;break;case Ev:case Ch:case ff:Pe=$y;break;case Cv:Pe=iv;break;case"scroll":case"scrollend":Pe=RS;break;case"wheel":Pe=NS;break;case"copy":case"cut":case"paste":Pe=Wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Lg;break;case"toggle":case"beforetoggle":Pe=sv}var Ct=(u&4)!==0,Tn=!Ct&&(o==="scroll"||o==="scrollend"),Ae=Ct?De!==null?De+"Capture":null:De;Ct=[];for(var ve=_e,Te;ve!==null;){var Ve=ve;if(Te=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Te===null||Ae===null||(Ve=Na(ve,Ae),Ve!=null&&Ct.push(rc(ve,Ve,Te))),Tn)break;ve=ve.return}0<Ct.length&&(De=new Pe(De,_t,null,v,ze),$e.push({event:De,listeners:Ct}))}}if((u&7)===0){e:{if(De=o==="mouseover"||o==="pointerover",Pe=o==="mouseout"||o==="pointerout",De&&v!==rf&&(_t=v.relatedTarget||v.fromElement)&&(ws(_t)||_t[ur]))break e;if((Pe||De)&&(De=ze.window===ze?ze:(De=ze.ownerDocument)?De.defaultView||De.parentWindow:window,Pe?(_t=v.relatedTarget||v.toElement,Pe=_e,_t=_t?ws(_t):null,_t!==null&&(Tn=a(_t),Ct=_t.tag,_t!==Tn||Ct!==5&&Ct!==27&&Ct!==6)&&(_t=null)):(Pe=null,_t=_e),Pe!==_t)){if(Ct=Pg,Ve="onMouseLeave",Ae="onMouseEnter",ve="mouse",(o==="pointerout"||o==="pointerover")&&(Ct=Lg,Ve="onPointerLeave",Ae="onPointerEnter",ve="pointer"),Tn=Pe==null?De:xu(Pe),Te=_t==null?De:xu(_t),De=new Ct(Ve,ve+"leave",Pe,v,ze),De.target=Tn,De.relatedTarget=Te,Ve=null,ws(ze)===_e&&(Ct=new Ct(Ae,ve+"enter",_t,v,ze),Ct.target=Te,Ct.relatedTarget=Tn,Ve=Ct),Tn=Ve,Pe&&_t)t:{for(Ct=Pe,Ae=_t,ve=0,Te=Ct;Te;Te=Za(Te))ve++;for(Te=0,Ve=Ae;Ve;Ve=Za(Ve))Te++;for(;0<ve-Te;)Ct=Za(Ct),ve--;for(;0<Te-ve;)Ae=Za(Ae),Te--;for(;ve--;){if(Ct===Ae||Ae!==null&&Ct===Ae.alternate)break t;Ct=Za(Ct),Ae=Za(Ae)}Ct=null}else Ct=null;Pe!==null&&Jm($e,De,Pe,Ct,!1),_t!==null&&Tn!==null&&Jm($e,Tn,_t,Ct,!0)}}e:{if(De=_e?xu(_e):window,Pe=De.nodeName&&De.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&De.type==="file")var at=jg;else if(Bg(De))if(pv)at=Ug;else{at=DS;var Yt=OS}else Pe=De.nodeName,!Pe||Pe.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?_e&&_g(_e.elementType)&&(at=jg):at=vv;if(at&&(at=at(o,_e))){dv($e,at,v,ze);break e}Yt&&Yt(o,De,_e),o==="focusout"&&_e&&De.type==="number"&&_e.memoizedProps.value!=null&&tf(De,"number",De.value)}switch(Yt=_e?xu(_e):window,o){case"focusin":(Bg(Yt)||Yt.contentEditable==="true")&&(Oa=Yt,Gg=_e,cf=null);break;case"focusout":cf=Gg=Oa=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,Av($e,v,ze);break;case"selectionchange":if(Ah)break;case"keydown":case"keyup":Av($e,v,ze)}var vt;if(Fg)e:{switch(o){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else Au?uv(o,v)&&(wt="onCompositionEnd"):o==="keydown"&&v.keyCode===229&&(wt="onCompositionStart");wt&&(_a&&v.locale!=="ko"&&(Au||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Au&&(vt=Uy()):(_s=ze,Su="value"in _s?_s.value:_s.textContent,Au=!0)),Yt=Mf(_e,wt),0<Yt.length&&(wt=new Mg(wt,o,null,v,ze),$e.push({event:wt,listeners:Yt}),vt?wt.data=vt:(vt=cv(v),vt!==null&&(wt.data=vt)))),(vt=kg?fv(o,v):_S(o,v))&&(wt=Mf(_e,"onBeforeInput"),0<wt.length&&(Yt=new Mg("onBeforeInput","beforeinput",null,v,ze),$e.push({event:Yt,listeners:wt}),Yt.data=vt)),N2($e,o,_e,v,ze)}Ao($e,u)})}function rc(o,u,v){return{instance:o,listener:u,currentTarget:v}}function Mf(o,u){for(var v=u+"Capture",S=[];o!==null;){var R=o,D=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||D===null||(R=Na(o,v),R!=null&&S.unshift(rc(o,R,D)),R=Na(o,u),R!=null&&S.push(rc(o,R,D))),o.tag===3)return S;o=o.return}return[]}function Za(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Jm(o,u,v,S,R){for(var D=u._reactName,$=[];v!==null&&v!==S;){var Q=v,ce=Q.alternate,_e=Q.stateNode;if(Q=Q.tag,ce!==null&&ce===S)break;Q!==5&&Q!==26&&Q!==27||_e===null||(ce=_e,R?(_e=Na(v,D),_e!=null&&$.unshift(rc(v,_e,ce))):R||(_e=Na(v,D),_e!=null&&$.push(rc(v,_e,ce)))),v=v.return}$.length!==0&&o.push({event:u,listeners:$})}var dx=/\r\n?/g,a1=/\u0000|\uFFFD/g;function hx(o){return(typeof o=="string"?o:""+o).replace(dx,`
`).replace(a1,"")}function px(o,u){return u=hx(u),hx(o)===u}function Ja(){}function xn(o,u,v,S,R,D){switch(v){case"children":typeof S=="string"?u==="body"||u==="textarea"&&S===""||Ns(o,S):(typeof S=="number"||typeof S=="bigint")&&u!=="body"&&Ns(o,""+S);break;case"className":Jc(o,"class",S);break;case"tabIndex":Jc(o,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":Jc(o,v,S);break;case"style":ky(o,S,D);break;case"data":if(u!=="object"){Jc(o,"data",S);break}case"src":case"href":if(S===""&&(u!=="a"||v!=="href")){o.removeAttribute(v);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){o.removeAttribute(v);break}S=nf(""+S),o.setAttribute(v,S);break;case"action":case"formAction":if(typeof S=="function"){o.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(v==="formAction"?(u!=="input"&&xn(o,u,"name",R.name,R,null),xn(o,u,"formEncType",R.formEncType,R,null),xn(o,u,"formMethod",R.formMethod,R,null),xn(o,u,"formTarget",R.formTarget,R,null)):(xn(o,u,"encType",R.encType,R,null),xn(o,u,"method",R.method,R,null),xn(o,u,"target",R.target,R,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){o.removeAttribute(v);break}S=nf(""+S),o.setAttribute(v,S);break;case"onClick":S!=null&&(o.onclick=Ja);break;case"onScroll":S!=null&&Mt("scroll",o);break;case"onScrollEnd":S!=null&&Mt("scrollend",o);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(v=S.__html,v!=null){if(R.children!=null)throw Error(r(60));o.innerHTML=v}}break;case"multiple":o.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":o.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){o.removeAttribute("xlink:href");break}v=nf(""+S),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(v,""+S):o.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(v,""):o.removeAttribute(v);break;case"capture":case"download":S===!0?o.setAttribute(v,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(v,S):o.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?o.setAttribute(v,S):o.removeAttribute(v);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?o.removeAttribute(v):o.setAttribute(v,S);break;case"popover":Mt("beforetoggle",o),Mt("toggle",o),Po(o,"popover",S);break;case"xlinkActuate":Mo(o,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":Mo(o,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":Mo(o,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":Mo(o,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":Mo(o,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":Mo(o,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":Mo(o,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":Mo(o,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":Mo(o,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Po(o,"is",S);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=wS.get(v)||v,Po(o,v,S))}}function vp(o,u,v,S,R,D){switch(v){case"style":ky(o,S,D);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(v=S.__html,v!=null){if(R.children!=null)throw Error(r(60));o.innerHTML=v}}break;case"children":typeof S=="string"?Ns(o,S):(typeof S=="number"||typeof S=="bigint")&&Ns(o,""+S);break;case"onScroll":S!=null&&Mt("scroll",o);break;case"onScrollEnd":S!=null&&Mt("scrollend",o);break;case"onClick":S!=null&&(o.onclick=Ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ag.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(R=v.endsWith("Capture"),u=v.slice(2,R?v.length-7:void 0),D=o[rn]||null,D=D!=null?D[v]:null,typeof D=="function"&&o.removeEventListener(u,D,R),typeof S=="function")){typeof D!="function"&&D!==null&&(v in o?o[v]=null:o.hasAttribute(v)&&o.removeAttribute(v)),o.addEventListener(u,S,R);break e}v in o?o[v]=S:S===!0?o.setAttribute(v,""):Po(o,v,S)}}}function vr(o,u,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",o),Mt("load",o);var S=!1,R=!1,D;for(D in v)if(v.hasOwnProperty(D)){var $=v[D];if($!=null)switch(D){case"src":S=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:xn(o,u,D,$,v,null)}}R&&xn(o,u,"srcSet",v.srcSet,v,null),S&&xn(o,u,"src",v.src,v,null);return;case"input":Mt("invalid",o);var Q=D=$=R=null,ce=null,_e=null;for(S in v)if(v.hasOwnProperty(S)){var ze=v[S];if(ze!=null)switch(S){case"name":R=ze;break;case"type":$=ze;break;case"checked":ce=ze;break;case"defaultChecked":_e=ze;break;case"value":D=ze;break;case"defaultValue":Q=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,u));break;default:xn(o,u,S,ze,v,null)}}Tg(o,D,Q,ce,_e,$,R,!1),dh(o);return;case"select":Mt("invalid",o),S=$=D=null;for(R in v)if(v.hasOwnProperty(R)&&(Q=v[R],Q!=null))switch(R){case"value":D=Q;break;case"defaultValue":$=Q;break;case"multiple":S=Q;default:xn(o,u,R,Q,v,null)}u=D,v=$,o.multiple=!!S,u!=null?bu(o,!!S,u,!1):v!=null&&bu(o,!!S,v,!0);return;case"textarea":Mt("invalid",o),D=R=S=null;for($ in v)if(v.hasOwnProperty($)&&(Q=v[$],Q!=null))switch($){case"value":S=Q;break;case"defaultValue":R=Q;break;case"children":D=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:xn(o,u,$,Q,v,null)}My(o,S,R,D),dh(o);return;case"option":for(ce in v)if(v.hasOwnProperty(ce)&&(S=v[ce],S!=null))switch(ce){case"selected":o.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:xn(o,u,ce,S,v,null)}return;case"dialog":Mt("beforetoggle",o),Mt("toggle",o),Mt("cancel",o),Mt("close",o);break;case"iframe":case"object":Mt("load",o);break;case"video":case"audio":for(S=0;S<So.length;S++)Mt(So[S],o);break;case"image":Mt("error",o),Mt("load",o);break;case"details":Mt("toggle",o);break;case"embed":case"source":case"link":Mt("error",o),Mt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in v)if(v.hasOwnProperty(_e)&&(S=v[_e],S!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:xn(o,u,_e,S,v,null)}return;default:if(_g(u)){for(ze in v)v.hasOwnProperty(ze)&&(S=v[ze],S!==void 0&&vp(o,u,ze,S,v,void 0));return}}for(Q in v)v.hasOwnProperty(Q)&&(S=v[Q],S!=null&&xn(o,u,Q,S,v,null))}function l1(o,u,v,S){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,D=null,$=null,Q=null,ce=null,_e=null,ze=null;for(Pe in v){var $e=v[Pe];if(v.hasOwnProperty(Pe)&&$e!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":ce=$e;default:S.hasOwnProperty(Pe)||xn(o,u,Pe,null,S,$e)}}for(var De in S){var Pe=S[De];if($e=v[De],S.hasOwnProperty(De)&&(Pe!=null||$e!=null))switch(De){case"type":D=Pe;break;case"name":R=Pe;break;case"checked":_e=Pe;break;case"defaultChecked":ze=Pe;break;case"value":$=Pe;break;case"defaultValue":Q=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,u));break;default:Pe!==$e&&xn(o,u,De,Pe,S,$e)}}Rg(o,$,Q,ce,_e,ze,D,R);return;case"select":Pe=$=Q=De=null;for(D in v)if(ce=v[D],v.hasOwnProperty(D)&&ce!=null)switch(D){case"value":break;case"multiple":Pe=ce;default:S.hasOwnProperty(D)||xn(o,u,D,null,S,ce)}for(R in S)if(D=S[R],ce=v[R],S.hasOwnProperty(R)&&(D!=null||ce!=null))switch(R){case"value":De=D;break;case"defaultValue":Q=D;break;case"multiple":$=D;default:D!==ce&&xn(o,u,R,D,S,ce)}u=Q,v=$,S=Pe,De!=null?bu(o,!!v,De,!1):!!S!=!!v&&(u!=null?bu(o,!!v,u,!0):bu(o,!!v,v?[]:"",!1));return;case"textarea":Pe=De=null;for(Q in v)if(R=v[Q],v.hasOwnProperty(Q)&&R!=null&&!S.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:xn(o,u,Q,null,S,R)}for($ in S)if(R=S[$],D=v[$],S.hasOwnProperty($)&&(R!=null||D!=null))switch($){case"value":De=R;break;case"defaultValue":Pe=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:R!==D&&xn(o,u,$,R,S,D)}Ng(o,De,Pe);return;case"option":for(var _t in v)if(De=v[_t],v.hasOwnProperty(_t)&&De!=null&&!S.hasOwnProperty(_t))switch(_t){case"selected":o.selected=!1;break;default:xn(o,u,_t,null,S,De)}for(ce in S)if(De=S[ce],Pe=v[ce],S.hasOwnProperty(ce)&&De!==Pe&&(De!=null||Pe!=null))switch(ce){case"selected":o.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:xn(o,u,ce,De,S,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in v)De=v[Ct],v.hasOwnProperty(Ct)&&De!=null&&!S.hasOwnProperty(Ct)&&xn(o,u,Ct,null,S,De);for(_e in S)if(De=S[_e],Pe=v[_e],S.hasOwnProperty(_e)&&De!==Pe&&(De!=null||Pe!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,u));break;default:xn(o,u,_e,De,S,Pe)}return;default:if(_g(u)){for(var Tn in v)De=v[Tn],v.hasOwnProperty(Tn)&&De!==void 0&&!S.hasOwnProperty(Tn)&&vp(o,u,Tn,void 0,S,De);for(ze in S)De=S[ze],Pe=v[ze],!S.hasOwnProperty(ze)||De===Pe||De===void 0&&Pe===void 0||vp(o,u,ze,De,S,Pe);return}}for(var Ae in v)De=v[Ae],v.hasOwnProperty(Ae)&&De!=null&&!S.hasOwnProperty(Ae)&&xn(o,u,Ae,null,S,De);for($e in S)De=S[$e],Pe=v[$e],!S.hasOwnProperty($e)||De===Pe||De==null&&Pe==null||xn(o,u,$e,De,S,Pe)}var xp=null,bp=null;function Sp(o){return o.nodeType===9?o:o.ownerDocument}function u1(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c1(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function ic(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ap=null;function gx(){var o=window.event;return o&&o.type==="popstate"?o===Ap?!1:(Ap=o,!0):(Ap=null,!1)}var mx=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,Qm=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Qm<"u"?function(o){return Qm.resolve(null).then(o).catch(Eo)}:mx;function Eo(o){setTimeout(function(){throw o})}function ss(o){return o==="head"}function e0(o,u){var v=u,S=0,R=0;do{var D=v.nextSibling;if(o.removeChild(v),D&&D.nodeType===8)if(v=D.data,v==="/$"){if(0<S&&8>S){v=S;var $=o.ownerDocument;if(v&1&&Lf($.documentElement),v&2&&Lf($.body),v&4)for(v=$.head,Lf(v),$=v.firstChild;$;){var Q=$.nextSibling,ce=$.nodeName;$[Ea]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&$.rel.toLowerCase()==="stylesheet"||v.removeChild($),$=Q}}if(R===0){o.removeChild(D),s0(u);return}R--}else v==="$"||v==="$?"||v==="$!"?R++:S=v.charCodeAt(0)-48;else S=0;v=D}while(v);s0(u)}function t0(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var v=u;switch(u=u.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":t0(v),bg(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}o.removeChild(v)}}function f1(o,u,v,S){for(;o.nodeType===1;){var R=v;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!S&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(S){if(!o[Ea])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(D=o.getAttribute("rel"),D==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(D!==R.rel||o.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||o.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||o.getAttribute("title")!==(R.title==null?null:R.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(D=o.getAttribute("src"),(D!==(R.src==null?null:R.src)||o.getAttribute("type")!==(R.type==null?null:R.type)||o.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&D&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var D=R.name==null?null:""+R.name;if(R.type==="hidden"&&o.getAttribute("name")===D)return o}else return o;if(o=ei(o.nextSibling),o===null)break}return null}function d1(o,u,v){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!v||(o=ei(o.nextSibling),o===null))return null;return o}function Ep(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function xx(o,u){var v=o.ownerDocument;if(o.data!=="$?"||v.readyState==="complete")u();else{var S=function(){u(),v.removeEventListener("DOMContentLoaded",S)};v.addEventListener("DOMContentLoaded",S),o._reactRetry=S}}function ei(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var n0=null;function bx(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var v=o.data;if(v==="$"||v==="$!"||v==="$?"){if(u===0)return o;u--}else v==="/$"&&u++}o=o.previousSibling}return null}function Sx(o,u,v){switch(u=Sp(v),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Lf(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);bg(o)}var Pi=new Map,Ax=new Set;function oc(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var as=Ie.d;Ie.d={f:h1,r:Ex,D:wx,C:p1,L:g1,m:f,X:l,S:i,M:y};function h1(){var o=as.f(),u=Js();return o||u}function Ex(o){var u=Do(o);u!==null&&u.tag===5&&u.type==="form"?zv(u):as.r(o)}var sc=typeof document>"u"?null:document;function Cx(o,u,v){var S=sc;if(S&&typeof u=="string"&&u){var R=Er(u);R='link[rel="'+o+'"][href="'+R+'"]',typeof v=="string"&&(R+='[crossorigin="'+v+'"]'),Ax.has(R)||(Ax.add(R),o={rel:o,crossOrigin:v,href:u},S.querySelector(R)===null&&(u=S.createElement("link"),vr(u,"link",o),qn(u),S.head.appendChild(u)))}}function wx(o){as.D(o),Cx("dns-prefetch",o,null)}function p1(o,u){as.C(o,u),Cx("preconnect",o,u)}function g1(o,u,v){as.L(o,u,v);var S=sc;if(S&&o&&u){var R='link[rel="preload"][as="'+Er(u)+'"]';u==="image"&&v&&v.imageSrcSet?(R+='[imagesrcset="'+Er(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(R+='[imagesizes="'+Er(v.imageSizes)+'"]')):R+='[href="'+Er(o)+'"]';var D=R;switch(u){case"style":D=N(o);break;case"script":D=ee(o)}Pi.has(D)||(o=p({rel:"preload",href:u==="image"&&v&&v.imageSrcSet?void 0:o,as:u},v),Pi.set(D,o),S.querySelector(R)!==null||u==="style"&&S.querySelector(M(D))||u==="script"&&S.querySelector(ue(D))||(u=S.createElement("link"),vr(u,"link",o),qn(u),S.head.appendChild(u)))}}function f(o,u){as.m(o,u);var v=sc;if(v&&o){var S=u&&typeof u.as=="string"?u.as:"script",R='link[rel="modulepreload"][as="'+Er(S)+'"][href="'+Er(o)+'"]',D=R;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=ee(o)}if(!Pi.has(D)&&(o=p({rel:"modulepreload",href:o},u),Pi.set(D,o),v.querySelector(R)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(ue(D)))return}S=v.createElement("link"),vr(S,"link",o),qn(S),v.head.appendChild(S)}}}function i(o,u,v){as.S(o,u,v);var S=sc;if(S&&o){var R=Rs(S).hoistableStyles,D=N(o);u=u||"default";var $=R.get(D);if(!$){var Q={loading:0,preload:null};if($=S.querySelector(M(D)))Q.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},v),(v=Pi.get(D))&&Re(o,v);var ce=$=S.createElement("link");qn(ce),vr(ce,"link",o),ce._p=new Promise(function(_e,ze){ce.onload=_e,ce.onerror=ze}),ce.addEventListener("load",function(){Q.loading|=1}),ce.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,ke($,u,S)}$={type:"stylesheet",instance:$,count:1,state:Q},R.set(D,$)}}}function l(o,u){as.X(o,u);var v=sc;if(v&&o){var S=Rs(v).hoistableScripts,R=ee(o),D=S.get(R);D||(D=v.querySelector(ue(R)),D||(o=p({src:o,async:!0},u),(u=Pi.get(R))&&We(o,u),D=v.createElement("script"),qn(D),vr(D,"link",o),v.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},S.set(R,D))}}function y(o,u){as.M(o,u);var v=sc;if(v&&o){var S=Rs(v).hoistableScripts,R=ee(o),D=S.get(R);D||(D=v.querySelector(ue(R)),D||(o=p({src:o,async:!0,type:"module"},u),(u=Pi.get(R))&&We(o,u),D=v.createElement("script"),qn(D),vr(D,"link",o),v.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},S.set(R,D))}}function A(o,u,v,S){var R=(R=H.current)?oc(R):null;if(!R)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(u=N(v.href),v=Rs(R).hoistableStyles,S=v.get(u),S||(S={type:"style",instance:null,count:0,state:null},v.set(u,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){o=N(v.href);var D=Rs(R).hoistableStyles,$=D.get(o);if($||(R=R.ownerDocument||R,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(o,$),(D=R.querySelector(M(o)))&&!D._p&&($.instance=D,$.state.loading=5),Pi.has(o)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Pi.set(o,v),D||W(R,o,v,$.state))),u&&S===null)throw Error(r(528,""));return $}if(u&&S!==null)throw Error(r(529,""));return null;case"script":return u=v.async,v=v.src,typeof v=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=ee(v),v=Rs(R).hoistableScripts,S=v.get(u),S||(S={type:"script",instance:null,count:0,state:null},v.set(u,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function N(o){return'href="'+Er(o)+'"'}function M(o){return'link[rel="stylesheet"]['+o+"]"}function z(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function W(o,u,v,S){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?S.loading=1:(u=o.createElement("link"),S.preload=u,u.addEventListener("load",function(){return S.loading|=1}),u.addEventListener("error",function(){return S.loading|=2}),vr(u,"link",v),qn(u),o.head.appendChild(u))}function ee(o){return'[src="'+Er(o)+'"]'}function ue(o){return"script[async]"+o}function we(o,u,v){if(u.count++,u.instance===null)switch(u.type){case"style":var S=o.querySelector('style[data-href~="'+Er(v.href)+'"]');if(S)return u.instance=S,qn(S),S;var R=p({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return S=(o.ownerDocument||o).createElement("style"),qn(S),vr(S,"style",R),ke(S,v.precedence,o),u.instance=S;case"stylesheet":R=N(v.href);var D=o.querySelector(M(R));if(D)return u.state.loading|=4,u.instance=D,qn(D),D;S=z(v),(R=Pi.get(R))&&Re(S,R),D=(o.ownerDocument||o).createElement("link"),qn(D);var $=D;return $._p=new Promise(function(Q,ce){$.onload=Q,$.onerror=ce}),vr(D,"link",S),u.state.loading|=4,ke(D,v.precedence,o),u.instance=D;case"script":return D=ee(v.src),(R=o.querySelector(ue(D)))?(u.instance=R,qn(R),R):(S=v,(R=Pi.get(D))&&(S=p({},v),We(S,R)),o=o.ownerDocument||o,R=o.createElement("script"),qn(R),vr(R,"link",S),o.head.appendChild(R),u.instance=R);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(S=u.instance,u.state.loading|=4,ke(S,v.precedence,o));return u.instance}function ke(o,u,v){for(var S=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=S.length?S[S.length-1]:null,D=R,$=0;$<S.length;$++){var Q=S[$];if(Q.dataset.precedence===u)D=Q;else if(D!==R)break}D?D.parentNode.insertBefore(o,D.nextSibling):(u=v.nodeType===9?v.head:v,u.insertBefore(o,u.firstChild))}function Re(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function We(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var He=null;function it(o,u,v){if(He===null){var S=new Map,R=He=new Map;R.set(v,S)}else R=He,S=R.get(v),S||(S=new Map,R.set(v,S));if(S.has(o))return S;for(S.set(o,null),v=v.getElementsByTagName(o),R=0;R<v.length;R++){var D=v[R];if(!(D[Ea]||D[Bn]||o==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var $=D.getAttribute(u)||"";$=o+$;var Q=S.get($);Q?Q.push(D):S.set($,[D])}}return S}function Et(o,u,v){o=o.ownerDocument||o,o.head.insertBefore(v,u==="title"?o.querySelector("head > title"):null)}function en(o,u,v){if(v===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Cn(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Xt=null;function xr(){}function tn(o,u,v){if(Xt===null)throw Error(r(475));var S=Xt;if(u.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var R=N(v.href),D=o.querySelector(M(R));if(D){o=D._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(S.count++,S=Pn.bind(S),o.then(S,S)),u.state.loading|=4,u.instance=D,qn(D);return}D=o.ownerDocument||o,v=z(v),(R=Pi.get(R))&&Re(v,R),D=D.createElement("link"),qn(D);var $=D;$._p=new Promise(function(Q,ce){$.onload=Q,$.onerror=ce}),vr(D,"link",v),u.instance=D}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(S.count++,u=Pn.bind(S),o.addEventListener("load",u),o.addEventListener("error",u))}}function Jn(){if(Xt===null)throw Error(r(475));var o=Xt;return o.stylesheets&&o.count===0&&mi(o,o.stylesheets),0<o.count?function(u){var v=setTimeout(function(){if(o.stylesheets&&mi(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(v)}}:null}function Pn(){if(this.count--,this.count===0){if(this.stylesheets)mi(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var _n=null;function mi(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,_n=new Map,u.forEach(Rx,o),_n=null,Pn.call(o))}function Rx(o,u){if(!(u.state.loading&4)){var v=_n.get(o);if(v)var S=v.get(null);else{v=new Map,_n.set(o,v);for(var R=o.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<R.length;D++){var $=R[D];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(v.set($.dataset.precedence,$),S=$)}S&&v.set(null,S)}R=u.instance,$=R.getAttribute("data-precedence"),D=v.get($)||S,D===S&&v.set(null,R),v.set($,R),this.count++,S=Pn.bind(this),R.addEventListener("load",S),R.addEventListener("error",S),D?D.parentNode.insertBefore(R,D.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(R,o.firstChild)),u.state.loading|=4}}var ac={$$typeof:I,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Cp(o,u,v,S,R,D,$,Q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=S,this.onUncaughtError=R,this.onCaughtError=D,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function _2(o,u,v,S,R,D,$,Q,ce,_e,ze,$e){return o=new Cp(o,u,v,$,Q,ce,_e,$e),u=1,D===!0&&(u|=24),D=Cr(3,null,null,u),o.current=D,D.stateNode=o,u=em(),u.refCount++,o.pooledCache=u,u.refCount++,D.memoizedState={element:S,isDehydrated:v,cache:u},im(D),o}function I2(o){return o?(o=Ru,o):Ru}function O2(o,u,v,S,R,D){R=I2(R),S.context===null?S.context=R:S.pendingContext=R,S=Wr(u),S.payload={element:v},D=D===void 0?null:D,D!==null&&(S.callback=D),v=Bs(o,S,u),v!==null&&(Xe(v,o,u),ku(v,o,u))}function D2(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var v=o.retryLane;o.retryLane=v!==0&&v<u?v:u}}function m1(o,u){D2(o,u),(o=o.alternate)&&D2(o,u)}function P2(o){if(o.tag===13){var u=wu(o,67108864);u!==null&&Xe(u,o,67108864),m1(o,67108864)}}var Tx=!0;function TF(o,u,v,S){var R=re.T;re.T=null;var D=Ie.p;try{Ie.p=2,y1(o,u,v,S)}finally{Ie.p=D,re.T=R}}function NF(o,u,v,S){var R=re.T;re.T=null;var D=Ie.p;try{Ie.p=8,y1(o,u,v,S)}finally{Ie.p=D,re.T=R}}function y1(o,u,v,S){if(Tx){var R=v1(S);if(R===null)yp(o,u,S,Nx,v),L2(o,S);else if(IF(R,o,u,v,S))S.stopPropagation();else if(L2(o,S),u&4&&-1<_F.indexOf(o)){for(;R!==null;){var D=Do(R);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var $=rt(D.pendingLanes);if($!==0){var Q=D;for(Q.pendingLanes|=2,Q.entangledLanes|=2;$;){var ce=1<<31-ft($);Q.entanglements[1]|=ce,$&=~ce}gi(D),(on&6)===0&&(op=Be()+500,ia(0))}}break;case 13:Q=wu(D,2),Q!==null&&Xe(Q,D,2),Js(),m1(D,2)}if(D=v1(S),D===null&&yp(o,u,S,Nx,v),D===R)break;R=D}R!==null&&S.stopPropagation()}else yp(o,u,S,null,v)}}function v1(o){return o=of(o),x1(o)}var Nx=null;function x1(o){if(Nx=null,o=ws(o),o!==null){var u=a(o);if(u===null)o=null;else{var v=u.tag;if(v===13){if(o=c(u),o!==null)return o;o=null}else if(v===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return Nx=o,null}function M2(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case ye:return 2;case Fe:return 8;case Qe:case yt:return 32;case ht:return 268435456;default:return 32}default:return 32}}var b1=!1,lc=null,uc=null,cc=null,r0=new Map,i0=new Map,fc=[],_F="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L2(o,u){switch(o){case"focusin":case"focusout":lc=null;break;case"dragenter":case"dragleave":uc=null;break;case"mouseover":case"mouseout":cc=null;break;case"pointerover":case"pointerout":r0.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":i0.delete(u.pointerId)}}function o0(o,u,v,S,R,D){return o===null||o.nativeEvent!==D?(o={blockedOn:u,domEventName:v,eventSystemFlags:S,nativeEvent:D,targetContainers:[R]},u!==null&&(u=Do(u),u!==null&&P2(u)),o):(o.eventSystemFlags|=S,u=o.targetContainers,R!==null&&u.indexOf(R)===-1&&u.push(R),o)}function IF(o,u,v,S,R){switch(u){case"focusin":return lc=o0(lc,o,u,v,S,R),!0;case"dragenter":return uc=o0(uc,o,u,v,S,R),!0;case"mouseover":return cc=o0(cc,o,u,v,S,R),!0;case"pointerover":var D=R.pointerId;return r0.set(D,o0(r0.get(D)||null,o,u,v,S,R)),!0;case"gotpointercapture":return D=R.pointerId,i0.set(D,o0(i0.get(D)||null,o,u,v,S,R)),!0}return!1}function F2(o){var u=ws(o.target);if(u!==null){var v=a(u);if(v!==null){if(u=v.tag,u===13){if(u=c(v),u!==null){o.blockedOn=u,nn(o.priority,function(){if(v.tag===13){var S=ir();S=$n(S);var R=wu(v,S);R!==null&&Xe(R,v,S),m1(v,S)}});return}}else if(u===3&&v.stateNode.current.memoizedState.isDehydrated){o.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}o.blockedOn=null}function _x(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var v=v1(o.nativeEvent);if(v===null){v=o.nativeEvent;var S=new v.constructor(v.type,v);rf=S,v.target.dispatchEvent(S),rf=null}else return u=Do(v),u!==null&&P2(u),o.blockedOn=v,!1;u.shift()}return!0}function k2(o,u,v){_x(o)&&v.delete(u)}function OF(){b1=!1,lc!==null&&_x(lc)&&(lc=null),uc!==null&&_x(uc)&&(uc=null),cc!==null&&_x(cc)&&(cc=null),r0.forEach(k2),i0.forEach(k2)}function Ix(o,u){o.blockedOn===u&&(o.blockedOn=null,b1||(b1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,OF)))}var Ox=null;function B2(o){Ox!==o&&(Ox=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ox===o&&(Ox=null);for(var u=0;u<o.length;u+=3){var v=o[u],S=o[u+1],R=o[u+2];if(typeof S!="function"){if(x1(S||v)===null)continue;break}var D=Do(v);D!==null&&(o.splice(u,3),u-=3,Xr(D,{pending:!0,data:R,method:v.method,action:S},S,R))}}))}function s0(o){function u(ce){return Ix(ce,o)}lc!==null&&Ix(lc,o),uc!==null&&Ix(uc,o),cc!==null&&Ix(cc,o),r0.forEach(u),i0.forEach(u);for(var v=0;v<fc.length;v++){var S=fc[v];S.blockedOn===o&&(S.blockedOn=null)}for(;0<fc.length&&(v=fc[0],v.blockedOn===null);)F2(v),v.blockedOn===null&&fc.shift();if(v=(o.ownerDocument||o).$$reactFormReplay,v!=null)for(S=0;S<v.length;S+=3){var R=v[S],D=v[S+1],$=R[rn]||null;if(typeof D=="function")$||B2(v);else if($){var Q=null;if(D&&D.hasAttribute("formAction")){if(R=D,$=D[rn]||null)Q=$.formAction;else if(x1(R)!==null)continue}else Q=$.action;typeof Q=="function"?v[S+1]=Q:(v.splice(S,3),S-=3),B2(v)}}}function S1(o){this._internalRoot=o}Dx.prototype.render=S1.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var v=u.current,S=ir();O2(v,S,o,u,null,null)},Dx.prototype.unmount=S1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;O2(o.current,2,null,o,null,null),Js(),u[ur]=null}};function Dx(o){this._internalRoot=o}Dx.prototype.unstable_scheduleHydration=function(o){if(o){var u=Aa();o={blockedOn:null,target:o,priority:u};for(var v=0;v<fc.length&&u!==0&&u<fc[v].priority;v++);fc.splice(v,0,o),v===0&&F2(o)}};var j2=t.version;if(j2!=="19.1.0")throw Error(r(527,j2,"19.1.0"));Ie.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=h(u),o=o!==null?g(o):null,o=o===null?null:o.stateNode,o};var DF={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Px=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Px.isDisabled&&Px.supportsFiber)try{Ye=Px.inject(DF),qe=Px}catch{}}return l0.createRoot=function(o,u){if(!s(o))throw Error(r(299));var v=!1,S="",R=Tm,D=Va,$=co,Q=null;return u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onUncaughtError!==void 0&&(R=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Q=u.unstable_transitionCallbacks)),u=_2(o,1,!1,null,null,v,S,R,D,$,Q,null),o[ur]=u.current,mp(o),new S1(u)},l0.hydrateRoot=function(o,u,v){if(!s(o))throw Error(r(299));var S=!1,R="",D=Tm,$=Va,Q=co,ce=null,_e=null;return v!=null&&(v.unstable_strictMode===!0&&(S=!0),v.identifierPrefix!==void 0&&(R=v.identifierPrefix),v.onUncaughtError!==void 0&&(D=v.onUncaughtError),v.onCaughtError!==void 0&&($=v.onCaughtError),v.onRecoverableError!==void 0&&(Q=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(ce=v.unstable_transitionCallbacks),v.formState!==void 0&&(_e=v.formState)),u=_2(o,1,!0,u,v??null,S,R,D,$,Q,ce,_e),u.context=I2(null),v=u.current,S=ir(),S=$n(S),R=Wr(S),R.callback=null,Bs(v,R,S),v=S,u.current.lanes=v,Ur(u,v),gi(u),o[ur]=u.current,mp(o),new Dx(u)},l0.version="19.1.0",l0}var X2;function GF(){if(X2)return C1.exports;X2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),C1.exports=VF(),C1.exports}var $F=GF(),F=Ob();const Ze=qO(F),ZO=FF({__proto__:null,default:Ze},[F]);var u0={},Z2;function HF(){if(Z2)return u0;Z2=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.parse=c,u0.serialize=g;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,b){const E=new a,w=x.length;if(w<2)return E;const C=(b==null?void 0:b.decode)||p;let T=0;do{const _=x.indexOf("=",T);if(_===-1)break;const I=x.indexOf(";",T),O=I===-1?w:I;if(_>O){T=x.lastIndexOf(";",_-1)+1;continue}const L=d(x,T,_),k=h(x,_,L),V=x.slice(L,k);if(E[V]===void 0){let U=d(x,_+1,O),q=h(x,O,U);const te=C(x.slice(U,q));E[V]=te}T=O+1}while(T<w);return E}function d(x,b,E){do{const w=x.charCodeAt(b);if(w!==32&&w!==9)return b}while(++b<E);return E}function h(x,b,E){for(;b>E;){const w=x.charCodeAt(--b);if(w!==32&&w!==9)return b+1}return E}function g(x,b,E){const w=(E==null?void 0:E.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const C=w(b);if(!t.test(C))throw new TypeError(`argument val is invalid: ${b}`);let T=x+"="+C;if(!E)return T;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);T+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);T+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);T+="; Path="+E.path}if(E.expires){if(!m(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);T+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(T+="; HttpOnly"),E.secure&&(T+="; Secure"),E.partitioned&&(T+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return T}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function m(x){return s.call(x)==="[object Date]"}return u0}HF();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var J2="popstate";function WF(e={}){function t(r,s){let{pathname:a,search:c,hash:d}=r.location;return HE("",{pathname:a,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:J0(s)}return qF(t,n,null,e)}function Gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YF(){return Math.random().toString(36).substring(2,10)}function Q2(e,t){return{usr:e.state,key:e.key,idx:t}}function HE(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ng(t):t,state:n,key:t&&t.key||r||YF()}}function J0({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ng(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function qF(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,c=s.history,d="POP",h=null,g=p();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function p(){return(c.state||{idx:null}).idx}function m(){d="POP";let C=p(),T=C==null?null:C-g;g=C,h&&h({action:d,location:w.location,delta:T})}function x(C,T){d="PUSH";let _=HE(w.location,C,T);g=p()+1;let I=Q2(_,g),O=w.createHref(_);try{c.pushState(I,"",O)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(O)}a&&h&&h({action:d,location:w.location,delta:1})}function b(C,T){d="REPLACE";let _=HE(w.location,C,T);g=p();let I=Q2(_,g),O=w.createHref(_);c.replaceState(I,"",O),a&&h&&h({action:d,location:w.location,delta:0})}function E(C){let T=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof C=="string"?C:J0(C);return _=_.replace(/ $/,"%20"),Gn(T,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,T)}let w={get action(){return d},get location(){return e(s,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(J2,m),h=C,()=>{s.removeEventListener(J2,m),h=null}},createHref(C){return t(s,C)},createURL:E,encodeLocation(C){let T=E(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:b,go(C){return c.go(C)}};return w}function JO(e,t,n="/"){return KF(e,t,n,!1)}function KF(e,t,n,r){let s=typeof t=="string"?ng(t):t,a=du(s.pathname||"/",n);if(a==null)return null;let c=QO(e);XF(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let g=ak(a);d=ok(c[h],g,r)}return d}function QO(e,t=[],n=[],r=""){let s=(a,c,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};h.relativePath.startsWith("/")&&(Gn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let g=cu([r,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(Gn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),QO(a.children,t,p,g)),!(a.path==null&&!a.index)&&t.push({path:g,score:rk(g,a.index),routesMeta:p})};return e.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,c);else for(let h of eD(a.path))s(a,c,h)}),t}function eD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let c=eD(r.join("/")),d=[];return d.push(...c.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function XF(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ik(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ZF=/^:[\w-]+$/,JF=3,QF=2,ek=1,tk=10,nk=-2,eR=e=>e==="*";function rk(e,t){let n=e.split("/"),r=n.length;return n.some(eR)&&(r+=nk),t&&(r+=QF),n.filter(s=>!eR(s)).reduce((s,a)=>s+(ZF.test(a)?JF:a===""?ek:tk),r)}function ik(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function ok(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],g=d===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=mb({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},p),x=h.route;if(!m&&g&&n&&!r[r.length-1].route.index&&(m=mb({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),c.push({params:s,pathname:cu([a,m.pathname]),pathnameBase:fk(cu([a,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(a=cu([a,m.pathnameBase]))}return c}function mb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sk(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((g,{paramName:p,isOptional:m},x)=>{if(p==="*"){let E=d[x]||"";c=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const b=d[x];return m&&!b?g[p]=void 0:g[p]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:e}}function sk(e,t=!1,n=!0){gs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function ak(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function du(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function lk(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ng(e):e;return{pathname:n?n.startsWith("/")?n:uk(n,t):t,search:dk(r),hash:hk(s)}}function uk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _1(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ck(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $C(e){let t=ck(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function HC(e,t,n,r=!1){let s;typeof e=="string"?s=ng(e):(s={...e},Gn(!s.pathname||!s.pathname.includes("?"),_1("?","pathname","search",s)),Gn(!s.pathname||!s.pathname.includes("#"),_1("#","pathname","hash",s)),Gn(!s.search||!s.search.includes("#"),_1("#","search","hash",s)));let a=e===""||s.pathname==="",c=a?"/":s.pathname,d;if(c==null)d=n;else{let m=t.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}d=m>=0?t[m]:"/"}let h=lk(s,d),g=c&&c!=="/"&&c.endsWith("/"),p=(a||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(g||p)&&(h.pathname+="/"),h}var cu=e=>e.join("/").replace(/\/\/+/g,"/"),fk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var tD=["POST","PUT","PATCH","DELETE"];new Set(tD);var gk=["GET",...tD];new Set(gk);var rg=F.createContext(null);rg.displayName="DataRouter";var Db=F.createContext(null);Db.displayName="DataRouterState";var nD=F.createContext({isTransitioning:!1});nD.displayName="ViewTransition";var mk=F.createContext(new Map);mk.displayName="Fetchers";var yk=F.createContext(null);yk.displayName="Await";var vs=F.createContext(null);vs.displayName="Navigation";var uy=F.createContext(null);uy.displayName="Location";var Io=F.createContext({outlet:null,matches:[],isDataRoute:!1});Io.displayName="Route";var WC=F.createContext(null);WC.displayName="RouteError";function vk(e,{relative:t}={}){Gn(ig(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(vs),{hash:s,pathname:a,search:c}=cy(e,{relative:t}),d=a;return n!=="/"&&(d=a==="/"?n:cu([n,a])),r.createHref({pathname:d,search:c,hash:s})}function ig(){return F.useContext(uy)!=null}function ya(){return Gn(ig(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(uy).location}var rD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iD(e){F.useContext(vs).static||F.useLayoutEffect(e)}function YC(){let{isDataRoute:e}=F.useContext(Io);return e?Pk():xk()}function xk(){Gn(ig(),"useNavigate() may be used only in the context of a <Router> component.");let e=F.useContext(rg),{basename:t,navigator:n}=F.useContext(vs),{matches:r}=F.useContext(Io),{pathname:s}=ya(),a=JSON.stringify($C(r)),c=F.useRef(!1);return iD(()=>{c.current=!0}),F.useCallback((h,g={})=>{if(gs(c.current,rD),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=HC(h,JSON.parse(a),s,g.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:cu([t,p.pathname])),(g.replace?n.replace:n.push)(p,g.state,g)},[t,n,a,s,e])}var bk=F.createContext(null);function Sk(e){let t=F.useContext(Io).outlet;return t&&F.createElement(bk.Provider,{value:e},t)}function oD(){let{matches:e}=F.useContext(Io),t=e[e.length-1];return t?t.params:{}}function cy(e,{relative:t}={}){let{matches:n}=F.useContext(Io),{pathname:r}=ya(),s=JSON.stringify($C(n));return F.useMemo(()=>HC(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Ak(e,t){return sD(e,t)}function sD(e,t,n,r){var _;Gn(ig(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=F.useContext(vs),{matches:c}=F.useContext(Io),d=c[c.length-1],h=d?d.params:{},g=d?d.pathname:"/",p=d?d.pathnameBase:"/",m=d&&d.route;{let I=m&&m.path||"";aD(g,!m||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let x=ya(),b;if(t){let I=typeof t=="string"?ng(t):t;Gn(p==="/"||((_=I.pathname)==null?void 0:_.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),b=I}else b=x;let E=b.pathname||"/",w=E;if(p!=="/"){let I=p.replace(/^\//,"").split("/");w="/"+E.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=!a&&n&&n.matches&&n.matches.length>0?n.matches:JO(e,{pathname:w});gs(m||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),gs(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Tk(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:cu([p,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:cu([p,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),c,n,r);return t&&T?F.createElement(uy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function Ek(){let e=Dk(),t=pk(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:s},n):null,c)}var Ck=F.createElement(Ek,null),wk=class extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(Io.Provider,{value:this.props.routeContext},F.createElement(WC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Rk({routeContext:e,match:t,children:n}){let r=F.useContext(rg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Io.Provider,{value:e},n)}function Tk(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);Gn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<s.length;h++){let g=s[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=h),g.route.id){let{loaderData:p,errors:m}=n,x=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,g,p)=>{let m,x=!1,b=null,E=null;n&&(m=a&&g.route.id?a[g.route.id]:void 0,b=g.route.errorElement||Ck,c&&(d<0&&p===0?(aD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):d===p&&(x=!0,E=g.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,p+1)),C=()=>{let T;return m?T=b:x?T=E:g.route.Component?T=F.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=h,F.createElement(Rk,{match:g,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:T})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?F.createElement(wk,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function qC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nk(e){let t=F.useContext(rg);return Gn(t,qC(e)),t}function _k(e){let t=F.useContext(Db);return Gn(t,qC(e)),t}function Ik(e){let t=F.useContext(Io);return Gn(t,qC(e)),t}function KC(e){let t=Ik(e),n=t.matches[t.matches.length-1];return Gn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Ok(){return KC("useRouteId")}function Dk(){var r;let e=F.useContext(WC),t=_k("useRouteError"),n=KC("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Pk(){let{router:e}=Nk("useNavigate"),t=KC("useNavigate"),n=F.useRef(!1);return iD(()=>{n.current=!0}),F.useCallback(async(s,a={})=>{gs(n.current,rD),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var tR={};function aD(e,t,n){!t&&!tR[e]&&(tR[e]=!0,gs(!1,n))}F.memo(Mk);function Mk({routes:e,future:t,state:n}){return sD(e,void 0,n,t)}function lD({to:e,replace:t,state:n,relative:r}){Gn(ig(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=F.useContext(vs);gs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=F.useContext(Io),{pathname:c}=ya(),d=YC(),h=HC(e,$C(a),c,r==="path"),g=JSON.stringify(h);return F.useEffect(()=>{d(JSON.parse(g),{replace:t,state:n,relative:r})},[d,g,r,t,n]),null}function XC(e){return Sk(e.context)}function nu(e){Gn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lk({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){Gn(!ig(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:s,static:a,future:{}}),[c,s,a]);typeof n=="string"&&(n=ng(n));let{pathname:h="/",search:g="",hash:p="",state:m=null,key:x="default"}=n,b=F.useMemo(()=>{let E=du(h,c);return E==null?null:{location:{pathname:E,search:g,hash:p,state:m,key:x},navigationType:r}},[c,h,g,p,m,x,r]);return gs(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:F.createElement(vs.Provider,{value:d},F.createElement(uy.Provider,{children:t,value:b}))}function Fk({children:e,location:t}){return Ak(WE(e),t)}function WE(e,t=[]){let n=[];return F.Children.forEach(e,(r,s)=>{if(!F.isValidElement(r))return;let a=[...t,s];if(r.type===F.Fragment){n.push.apply(n,WE(r.props.children,a));return}Gn(r.type===nu,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=WE(r.props.children,a)),n.push(c)}),n}var nb="get",rb="application/x-www-form-urlencoded";function Pb(e){return e!=null&&typeof e.tagName=="string"}function kk(e){return Pb(e)&&e.tagName.toLowerCase()==="button"}function Bk(e){return Pb(e)&&e.tagName.toLowerCase()==="form"}function jk(e){return Pb(e)&&e.tagName.toLowerCase()==="input"}function zk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Uk(e,t){return e.button===0&&(!t||t==="_self")&&!zk(e)}var Lx=null;function Vk(){if(Lx===null)try{new FormData(document.createElement("form"),0),Lx=!1}catch{Lx=!0}return Lx}var Gk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function I1(e){return e!=null&&!Gk.has(e)?(gs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rb}"`),null):e}function $k(e,t){let n,r,s,a,c;if(Bk(e)){let d=e.getAttribute("action");r=d?du(d,t):null,n=e.getAttribute("method")||nb,s=I1(e.getAttribute("enctype"))||rb,a=new FormData(e)}else if(kk(e)||jk(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(r=h?du(h,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||nb,s=I1(e.getAttribute("formenctype"))||I1(d.getAttribute("enctype"))||rb,a=new FormData(d,e),!Vk()){let{name:g,type:p,value:m}=e;if(p==="image"){let x=g?`${g}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else g&&a.append(g,m)}}else{if(Pb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nb,r=null,s=rb,c=e}return a&&s==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:c}}function ZC(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Hk(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wk(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Yk(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let c=await Hk(a,n);return c.links?c.links():[]}return[]}));return Zk(r.flat(1).filter(Wk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function nR(e,t,n,r,s,a){let c=(h,g)=>n[g]?h.route.id!==n[g].route.id:!0,d=(h,g)=>{var p;return n[g].pathname!==h.pathname||((p=n[g].route.path)==null?void 0:p.endsWith("*"))&&n[g].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,g)=>c(h,g)||d(h,g)):a==="data"?t.filter((h,g)=>{var m;let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,g)||d(h,g))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function qk(e,t,{includeHydrateFallback:n}={}){return Kk(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Kk(e){return[...new Set(e)]}function Xk(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Zk(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(Xk(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function Jk(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&du(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function uD(){let e=F.useContext(rg);return ZC(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qk(){let e=F.useContext(Db);return ZC(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var JC=F.createContext(void 0);JC.displayName="FrameworkContext";function cD(){let e=F.useContext(JC);return ZC(e,"You must render this element inside a <HydratedRouter> element"),e}function eB(e,t){let n=F.useContext(JC),[r,s]=F.useState(!1),[a,c]=F.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:g,onMouseLeave:p,onTouchStart:m}=t,x=F.useRef(null);F.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=T=>{T.forEach(_=>{c(_.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[e]),F.useEffect(()=>{if(r){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{s(!0)},E=()=>{s(!1),c(!1)};return n?e!=="intent"?[a,x,{}]:[a,x,{onFocus:c0(d,b),onBlur:c0(h,E),onMouseEnter:c0(g,b),onMouseLeave:c0(p,E),onTouchStart:c0(m,b)}]:[!1,x,{}]}function c0(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tB({page:e,...t}){let{router:n}=uD(),r=F.useMemo(()=>JO(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?F.createElement(rB,{page:e,matches:r,...t}):null}function nB(e){let{manifest:t,routeModules:n}=cD(),[r,s]=F.useState([]);return F.useEffect(()=>{let a=!1;return Yk(e,t,n).then(c=>{a||s(c)}),()=>{a=!0}},[e,t,n]),r}function rB({page:e,matches:t,...n}){let r=ya(),{manifest:s,routeModules:a}=cD(),{basename:c}=uD(),{loaderData:d,matches:h}=Qk(),g=F.useMemo(()=>nR(e,t,h,s,r,"data"),[e,t,h,s,r]),p=F.useMemo(()=>nR(e,t,h,s,r,"assets"),[e,t,h,s,r]),m=F.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let E=new Set,w=!1;if(t.forEach(T=>{var I;let _=s.routes[T.route.id];!_||!_.hasLoader||(!g.some(O=>O.route.id===T.route.id)&&T.route.id in d&&((I=a[T.route.id])!=null&&I.shouldRevalidate)||_.hasClientLoader?w=!0:E.add(T.route.id))}),E.size===0)return[];let C=Jk(e,c);return w&&E.size>0&&C.searchParams.set("_routes",t.filter(T=>E.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[c,d,r,s,g,t,e,a]),x=F.useMemo(()=>qk(p,s),[p,s]),b=nB(p);return F.createElement(F.Fragment,null,m.map(E=>F.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>F.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),b.map(({key:E,link:w})=>F.createElement("link",{key:E,...w})))}function iB(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fD&&(window.__reactRouterVersion="7.5.0")}catch{}function oB({basename:e,children:t,window:n}){let r=F.useRef();r.current==null&&(r.current=WF({window:n,v5Compat:!0}));let s=r.current,[a,c]=F.useState({action:s.action,location:s.location}),d=F.useCallback(h=>{F.startTransition(()=>c(h))},[c]);return F.useLayoutEffect(()=>s.listen(d),[s,d]),F.createElement(Lk,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var dD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,og=F.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:c,state:d,target:h,to:g,preventScrollReset:p,viewTransition:m,...x},b){let{basename:E}=F.useContext(vs),w=typeof g=="string"&&dD.test(g),C,T=!1;if(typeof g=="string"&&w&&(C=g,fD))try{let q=new URL(window.location.href),te=g.startsWith("//")?new URL(q.protocol+g):new URL(g),ie=du(te.pathname,E);te.origin===q.origin&&ie!=null?g=ie+te.search+te.hash:T=!0}catch{gs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=vk(g,{relative:s}),[I,O,L]=eB(r,x),k=uB(g,{replace:c,state:d,target:h,preventScrollReset:p,relative:s,viewTransition:m});function V(q){t&&t(q),q.defaultPrevented||k(q)}let U=F.createElement("a",{...x,...L,href:C||_,onClick:T||a?t:V,ref:iB(b,O),target:h,"data-discover":!w&&n==="render"?"true":void 0});return I&&!w?F.createElement(F.Fragment,null,U,F.createElement(tB,{page:_})):U});og.displayName="Link";var sB=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:c,viewTransition:d,children:h,...g},p){let m=cy(c,{relative:g.relative}),x=ya(),b=F.useContext(Db),{navigator:E,basename:w}=F.useContext(vs),C=b!=null&&pB(m)&&d===!0,T=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,_=x.pathname,I=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(_=_.toLowerCase(),I=I?I.toLowerCase():null,T=T.toLowerCase()),I&&w&&(I=du(I,w)||I);const O=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let L=_===T||!s&&_.startsWith(T)&&_.charAt(O)==="/",k=I!=null&&(I===T||!s&&I.startsWith(T)&&I.charAt(T.length)==="/"),V={isActive:L,isPending:k,isTransitioning:C},U=L?t:void 0,q;typeof r=="function"?q=r(V):q=[r,L?"active":null,k?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let te=typeof a=="function"?a(V):a;return F.createElement(og,{...g,"aria-current":U,className:q,ref:p,style:te,to:c,viewTransition:d},typeof h=="function"?h(V):h)});sB.displayName="NavLink";var aB=F.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:c=nb,action:d,onSubmit:h,relative:g,preventScrollReset:p,viewTransition:m,...x},b)=>{let E=dB(),w=hB(d,{relative:g}),C=c.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&dD.test(d),_=I=>{if(h&&h(I),I.defaultPrevented)return;I.preventDefault();let O=I.nativeEvent.submitter,L=(O==null?void 0:O.getAttribute("formmethod"))||c;E(O||I.currentTarget,{fetcherKey:t,method:L,navigate:n,replace:s,state:a,relative:g,preventScrollReset:p,viewTransition:m})};return F.createElement("form",{ref:b,method:C,action:w,onSubmit:r?h:_,...x,"data-discover":!T&&e==="render"?"true":void 0})});aB.displayName="Form";function lB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hD(e){let t=F.useContext(rg);return Gn(t,lB(e)),t}function uB(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:c}={}){let d=YC(),h=ya(),g=cy(e,{relative:a});return F.useCallback(p=>{if(Uk(p,t)){p.preventDefault();let m=n!==void 0?n:J0(h)===J0(g);d(e,{replace:m,state:r,preventScrollReset:s,relative:a,viewTransition:c})}},[h,d,g,n,r,t,e,s,a,c])}var cB=0,fB=()=>`__${String(++cB)}__`;function dB(){let{router:e}=hD("useSubmit"),{basename:t}=F.useContext(vs),n=Ok();return F.useCallback(async(r,s={})=>{let{action:a,method:c,encType:d,formData:h,body:g}=$k(r,t);if(s.navigate===!1){let p=s.fetcherKey||fB();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function hB(e,{relative:t}={}){let{basename:n}=F.useContext(vs),r=F.useContext(Io);Gn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...cy(e||".",{relative:t})},c=ya();if(e==null){a.search=c.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:cu([n,a.pathname])),J0(a)}function pB(e,t={}){let n=F.useContext(nD);Gn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hD("useViewTransitionState"),s=cy(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=du(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=du(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mb(s.pathname,c)!=null||mb(s.pathname,a)!=null}new TextEncoder;var fy=XO();const pD=qO(fy);var sg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zd=typeof window>"u"||"Deno"in globalThis;function No(){}function gB(e,t){return typeof e=="function"?e(t):e}function YE(e){return typeof e=="number"&&e>=0&&e!==1/0}function gD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pp(e,t){return typeof e=="function"?e(t):e}function hs(e,t){return typeof e=="function"?e(t):e}function rR(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:c,stale:d}=e;if(c){if(r){if(t.queryHash!==QC(c,t.options))return!1}else if(!Q0(t.queryKey,c))return!1}if(n!=="all"){const h=t.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||a&&!a(t))}function iR(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Jd(t.options.mutationKey)!==Jd(a))return!1}else if(!Q0(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function QC(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jd)(e)}function Jd(e){return JSON.stringify(e,(t,n)=>qE(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Q0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Q0(e[n],t[n])):!1}function mD(e,t){if(e===t)return e;const n=oR(e)&&oR(t);if(n||qE(e)&&qE(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),c=a.length,d=n?[]:{};let h=0;for(let g=0;g<c;g++){const p=n?g:a[g];(!n&&r.includes(p)||n)&&e[p]===void 0&&t[p]===void 0?(d[p]=void 0,h++):(d[p]=mD(e[p],t[p]),d[p]===e[p]&&e[p]!==void 0&&h++)}return s===c&&h===s?e:d}return t}function yb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function oR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qE(e){if(!sR(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!sR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function sR(e){return Object.prototype.toString.call(e)==="[object Object]"}function mB(e){return new Promise(t=>{setTimeout(t,e)})}function KE(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?mD(e,t):t}function yB(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function vB(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ew=Symbol();function yD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ew?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Gd,bc,kp,kO,xB=(kO=class extends sg{constructor(){super();St(this,Gd);St(this,bc);St(this,kp);ot(this,kp,t=>{if(!Zd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){he(this,bc)||this.setEventListener(he(this,kp))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,bc))==null||t.call(this),ot(this,bc,void 0))}setEventListener(t){var n;ot(this,kp,t),(n=he(this,bc))==null||n.call(this),ot(this,bc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){he(this,Gd)!==t&&(ot(this,Gd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof he(this,Gd)=="boolean"?he(this,Gd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gd=new WeakMap,bc=new WeakMap,kp=new WeakMap,kO),tw=new xB,Bp,Sc,jp,BO,bB=(BO=class extends sg{constructor(){super();St(this,Bp,!0);St(this,Sc);St(this,jp);ot(this,jp,t=>{if(!Zd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){he(this,Sc)||this.setEventListener(he(this,jp))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,Sc))==null||t.call(this),ot(this,Sc,void 0))}setEventListener(t){var n;ot(this,jp,t),(n=he(this,Sc))==null||n.call(this),ot(this,Sc,t(this.setOnline.bind(this)))}setOnline(t){he(this,Bp)!==t&&(ot(this,Bp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return he(this,Bp)}},Bp=new WeakMap,Sc=new WeakMap,jp=new WeakMap,BO),vb=new bB;function XE(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function SB(e){return Math.min(1e3*2**e,3e4)}function vD(e){return(e??"online")==="online"?vb.isOnline():!0}var xD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function O1(e){return e instanceof xD}function bD(e){let t=!1,n=0,r=!1,s;const a=XE(),c=w=>{var C;r||(x(new xD(w)),(C=e.abort)==null||C.call(e))},d=()=>{t=!0},h=()=>{t=!1},g=()=>tw.isFocused()&&(e.networkMode==="always"||vb.isOnline())&&e.canRun(),p=()=>vD(e.networkMode)&&e.canRun(),m=w=>{var C;r||(r=!0,(C=e.onSuccess)==null||C.call(e,w),s==null||s(),a.resolve(w))},x=w=>{var C;r||(r=!0,(C=e.onError)==null||C.call(e,w),s==null||s(),a.reject(w))},b=()=>new Promise(w=>{var C;s=T=>{(r||g())&&w(T)},(C=e.onPause)==null||C.call(e)}).then(()=>{var w;s=void 0,r||(w=e.onContinue)==null||w.call(e)}),E=()=>{if(r)return;let w;const C=n===0?e.initialPromise:void 0;try{w=C??e.fn()}catch(T){w=Promise.reject(T)}Promise.resolve(w).then(m).catch(T=>{var k;if(r)return;const _=e.retry??(Zd?0:3),I=e.retryDelay??SB,O=typeof I=="function"?I(n,T):I,L=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,T);if(t||!L){x(T);return}n++,(k=e.onFail)==null||k.call(e,n,T),mB(O).then(()=>g()?void 0:b()).then(()=>{t?x(T):E()})})};return{promise:a,cancel:c,continue:()=>(s==null||s(),a),cancelRetry:d,continueRetry:h,canStart:p,start:()=>(p()?E():b().then(E),a)}}var AB=e=>setTimeout(e,0);function EB(){let e=[],t=0,n=d=>{d()},r=d=>{d()},s=AB;const a=d=>{t?e.push(d):s(()=>{n(d)})},c=()=>{const d=e;e=[],d.length&&s(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;t++;try{h=d()}finally{t--,t||c()}return h},batchCalls:d=>(...h)=>{a(()=>{d(...h)})},schedule:a,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{s=d}}}var Sr=EB(),$d,jO,SD=(jO=class{constructor(){St(this,$d)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YE(this.gcTime)&&ot(this,$d,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zd?1/0:5*60*1e3))}clearGcTimeout(){he(this,$d)&&(clearTimeout(he(this,$d)),ot(this,$d,void 0))}},$d=new WeakMap,jO),zp,Up,To,Hd,ai,oy,Wd,fs,ru,zO,CB=(zO=class extends SD{constructor(t){super();St(this,fs);St(this,zp);St(this,Up);St(this,To);St(this,Hd);St(this,ai);St(this,oy);St(this,Wd);ot(this,Wd,!1),ot(this,oy,t.defaultOptions),this.setOptions(t.options),this.observers=[],ot(this,Hd,t.client),ot(this,To,he(this,Hd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ot(this,zp,wB(this.options)),this.state=t.state??he(this,zp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=he(this,ai))==null?void 0:t.promise}setOptions(t){this.options={...he(this,oy),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,To).remove(this)}setData(t,n){const r=KE(this.state.data,t,this.options);return $t(this,fs,ru).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){$t(this,fs,ru).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=he(this,ai))==null?void 0:r.promise;return(s=he(this,ai))==null||s.cancel(t),n?n.then(No).catch(No):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,zp))}isActive(){return this.observers.some(t=>hs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ew||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!gD(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=he(this,ai))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=he(this,ai))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),he(this,To).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(he(this,ai)&&(he(this,Wd)?he(this,ai).cancel({revert:!0}):he(this,ai).cancelRetry()),this.scheduleGc()),he(this,To).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,fs,ru).call(this,{type:"invalidate"})}fetch(t,n){var h,g,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(he(this,ai))return he(this,ai).continueRetry(),he(this,ai).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ot(this,Wd,!0),r.signal)})},a=()=>{const m=yD(this.options,n),x={client:he(this,Hd),queryKey:this.queryKey,meta:this.meta};return s(x),ot(this,Wd,!1),this.options.persister?this.options.persister(m,x,this):m(x)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:he(this,Hd),state:this.state,fetchFn:a};s(c),(h=this.options.behavior)==null||h.onFetch(c,this),ot(this,Up,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=c.fetchOptions)==null?void 0:g.meta))&&$t(this,fs,ru).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const d=m=>{var x,b,E,w;O1(m)&&m.silent||$t(this,fs,ru).call(this,{type:"error",error:m}),O1(m)||((b=(x=he(this,To).config).onError)==null||b.call(x,m,this),(w=(E=he(this,To).config).onSettled)==null||w.call(E,this.state.data,m,this)),this.scheduleGc()};return ot(this,ai,bD({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var x,b,E,w;if(m===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(C){d(C);return}(b=(x=he(this,To).config).onSuccess)==null||b.call(x,m,this),(w=(E=he(this,To).config).onSettled)==null||w.call(E,m,this.state.error,this),this.scheduleGc()},onError:d,onFail:(m,x)=>{$t(this,fs,ru).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{$t(this,fs,ru).call(this,{type:"pause"})},onContinue:()=>{$t(this,fs,ru).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),he(this,ai).start()}},zp=new WeakMap,Up=new WeakMap,To=new WeakMap,Hd=new WeakMap,ai=new WeakMap,oy=new WeakMap,Wd=new WeakMap,fs=new WeakSet,ru=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...AD(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return O1(s)&&s.revert&&he(this,Up)?{...he(this,Up),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Sr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),he(this,To).notify({query:this,type:"updated",action:t})})},zO);function AD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wB(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var la,UO,RB=(UO=class extends sg{constructor(t={}){super();St(this,la);this.config=t,ot(this,la,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??QC(s,n);let c=this.get(a);return c||(c=new CB({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){he(this,la).has(t.queryHash)||(he(this,la).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=he(this,la).get(t.queryHash);n&&(t.destroy(),n===t&&he(this,la).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Sr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return he(this,la).get(t)}getAll(){return[...he(this,la).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>rR(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>rR(t,r)):n}notify(t){Sr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Sr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Sr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},la=new WeakMap,UO),ua,yi,Yd,ca,pc,VO,TB=(VO=class extends SD{constructor(t){super();St(this,ca);St(this,ua);St(this,yi);St(this,Yd);this.mutationId=t.mutationId,ot(this,yi,t.mutationCache),ot(this,ua,[]),this.state=t.state||ED(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){he(this,ua).includes(t)||(he(this,ua).push(t),this.clearGcTimeout(),he(this,yi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ot(this,ua,he(this,ua).filter(n=>n!==t)),this.scheduleGc(),he(this,yi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){he(this,ua).length||(this.state.status==="pending"?this.scheduleGc():he(this,yi).remove(this))}continue(){var t;return((t=he(this,Yd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,c,d,h,g,p,m,x,b,E,w,C,T,_,I,O,L,k,V,U;const n=()=>{$t(this,ca,pc).call(this,{type:"continue"})};ot(this,Yd,bD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(q,te)=>{$t(this,ca,pc).call(this,{type:"failed",failureCount:q,error:te})},onPause:()=>{$t(this,ca,pc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,yi).canRun(this)}));const r=this.state.status==="pending",s=!he(this,Yd).canStart();try{if(r)n();else{$t(this,ca,pc).call(this,{type:"pending",variables:t,isPaused:s}),await((c=(a=he(this,yi).config).onMutate)==null?void 0:c.call(a,t,this));const te=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,t));te!==this.state.context&&$t(this,ca,pc).call(this,{type:"pending",context:te,variables:t,isPaused:s})}const q=await he(this,Yd).start();return await((p=(g=he(this,yi).config).onSuccess)==null?void 0:p.call(g,q,t,this.state.context,this)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,q,t,this.state.context)),await((E=(b=he(this,yi).config).onSettled)==null?void 0:E.call(b,q,null,this.state.variables,this.state.context,this)),await((C=(w=this.options).onSettled)==null?void 0:C.call(w,q,null,t,this.state.context)),$t(this,ca,pc).call(this,{type:"success",data:q}),q}catch(q){try{throw await((_=(T=he(this,yi).config).onError)==null?void 0:_.call(T,q,t,this.state.context,this)),await((O=(I=this.options).onError)==null?void 0:O.call(I,q,t,this.state.context)),await((k=(L=he(this,yi).config).onSettled)==null?void 0:k.call(L,void 0,q,this.state.variables,this.state.context,this)),await((U=(V=this.options).onSettled)==null?void 0:U.call(V,void 0,q,t,this.state.context)),q}finally{$t(this,ca,pc).call(this,{type:"error",error:q})}}finally{he(this,yi).runNext(this)}}},ua=new WeakMap,yi=new WeakMap,Yd=new WeakMap,ca=new WeakSet,pc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Sr.batch(()=>{he(this,ua).forEach(r=>{r.onMutationUpdate(t)}),he(this,yi).notify({mutation:this,type:"updated",action:t})})},VO);function ED(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ou,ds,sy,GO,NB=(GO=class extends sg{constructor(t={}){super();St(this,ou);St(this,ds);St(this,sy);this.config=t,ot(this,ou,new Set),ot(this,ds,new Map),ot(this,sy,0)}build(t,n,r){const s=new TB({mutationCache:this,mutationId:++Mx(this,sy)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){he(this,ou).add(t);const n=Fx(t);if(typeof n=="string"){const r=he(this,ds).get(n);r?r.push(t):he(this,ds).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(he(this,ou).delete(t)){const n=Fx(t);if(typeof n=="string"){const r=he(this,ds).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&he(this,ds).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Fx(t);if(typeof n=="string"){const r=he(this,ds).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Fx(t);if(typeof n=="string"){const s=(r=he(this,ds).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Sr.batch(()=>{he(this,ou).forEach(t=>{this.notify({type:"removed",mutation:t})}),he(this,ou).clear(),he(this,ds).clear()})}getAll(){return Array.from(he(this,ou))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>iR(n,r))}findAll(t={}){return this.getAll().filter(n=>iR(t,n))}notify(t){Sr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Sr.batch(()=>Promise.all(t.map(n=>n.continue().catch(No))))}},ou=new WeakMap,ds=new WeakMap,sy=new WeakMap,GO);function Fx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function aR(e){return{onFetch:(t,n)=>{var p,m,x,b,E;const r=t.options,s=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,a=((b=t.state.data)==null?void 0:b.pages)||[],c=((E=t.state.data)==null?void 0:E.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const g=async()=>{let w=!1;const C=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},T=yD(t.options,t.fetchOptions),_=async(I,O,L)=>{if(w)return Promise.reject();if(O==null&&I.pages.length)return Promise.resolve(I);const k={client:t.client,queryKey:t.queryKey,pageParam:O,direction:L?"backward":"forward",meta:t.options.meta};C(k);const V=await T(k),{maxPages:U}=t.options,q=L?vB:yB;return{pages:q(I.pages,V,U),pageParams:q(I.pageParams,O,U)}};if(s&&a.length){const I=s==="backward",O=I?_B:lR,L={pages:a,pageParams:c},k=O(r,L);d=await _(L,k,I)}else{const I=e??a.length;do{const O=h===0?c[0]??r.initialPageParam:lR(r,d);if(h>0&&O==null)break;d=await _(d,O),h++}while(h<I)}return d};t.options.persister?t.fetchFn=()=>{var w,C;return(C=(w=t.options).persister)==null?void 0:C.call(w,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function lR(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function _B(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Qn,Ac,Ec,Vp,Gp,Cc,$p,Hp,$O,IB=($O=class{constructor(e={}){St(this,Qn);St(this,Ac);St(this,Ec);St(this,Vp);St(this,Gp);St(this,Cc);St(this,$p);St(this,Hp);ot(this,Qn,e.queryCache||new RB),ot(this,Ac,e.mutationCache||new NB),ot(this,Ec,e.defaultOptions||{}),ot(this,Vp,new Map),ot(this,Gp,new Map),ot(this,Cc,0)}mount(){Mx(this,Cc)._++,he(this,Cc)===1&&(ot(this,$p,tw.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Qn).onFocus())})),ot(this,Hp,vb.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Qn).onOnline())})))}unmount(){var e,t;Mx(this,Cc)._--,he(this,Cc)===0&&((e=he(this,$p))==null||e.call(this),ot(this,$p,void 0),(t=he(this,Hp))==null||t.call(this),ot(this,Hp,void 0))}isFetching(e){return he(this,Qn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return he(this,Ac).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=he(this,Qn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=he(this,Qn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Pp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return he(this,Qn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=he(this,Qn).get(r.queryHash),a=s==null?void 0:s.state.data,c=gB(t,a);if(c!==void 0)return he(this,Qn).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return Sr.batch(()=>he(this,Qn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=he(this,Qn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=he(this,Qn);Sr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=he(this,Qn);return Sr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Sr.batch(()=>he(this,Qn).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(No).catch(No)}invalidateQueries(e,t={}){return Sr.batch(()=>(he(this,Qn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Sr.batch(()=>he(this,Qn).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(No)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(No)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=he(this,Qn).build(this,t);return n.isStaleByTime(Pp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(No).catch(No)}fetchInfiniteQuery(e){return e.behavior=aR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(No).catch(No)}ensureInfiniteQueryData(e){return e.behavior=aR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vb.isOnline()?he(this,Ac).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,Qn)}getMutationCache(){return he(this,Ac)}getDefaultOptions(){return he(this,Ec)}setDefaultOptions(e){ot(this,Ec,e)}setQueryDefaults(e,t){he(this,Vp).set(Jd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...he(this,Vp).values()],n={};return t.forEach(r=>{Q0(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){he(this,Gp).set(Jd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...he(this,Gp).values()],n={};return t.forEach(r=>{Q0(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...he(this,Ec).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=QC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ew&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...he(this,Ec).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){he(this,Qn).clear(),he(this,Ac).clear()}},Qn=new WeakMap,Ac=new WeakMap,Ec=new WeakMap,Vp=new WeakMap,Gp=new WeakMap,Cc=new WeakMap,$p=new WeakMap,Hp=new WeakMap,$O),Mi,Zt,ay,vi,qd,Wp,wc,Rc,ly,Yp,qp,Kd,Xd,Tc,Kp,Sn,j0,ZE,JE,QE,eC,tC,nC,rC,CD,HO,OB=(HO=class extends sg{constructor(t,n){super();St(this,Sn);St(this,Mi);St(this,Zt);St(this,ay);St(this,vi);St(this,qd);St(this,Wp);St(this,wc);St(this,Rc);St(this,ly);St(this,Yp);St(this,qp);St(this,Kd);St(this,Xd);St(this,Tc);St(this,Kp,new Set);this.options=n,ot(this,Mi,t),ot(this,Rc,null),ot(this,wc,XE()),this.options.experimental_prefetchInRender||he(this,wc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(he(this,Zt).addObserver(this),uR(he(this,Zt),this.options)?$t(this,Sn,j0).call(this):this.updateResult(),$t(this,Sn,eC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return iC(he(this,Zt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return iC(he(this,Zt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$t(this,Sn,tC).call(this),$t(this,Sn,nC).call(this),he(this,Zt).removeObserver(this)}setOptions(t){const n=this.options,r=he(this,Zt);if(this.options=he(this,Mi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hs(this.options.enabled,he(this,Zt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$t(this,Sn,rC).call(this),he(this,Zt).setOptions(this.options),n._defaulted&&!yb(this.options,n)&&he(this,Mi).getQueryCache().notify({type:"observerOptionsUpdated",query:he(this,Zt),observer:this});const s=this.hasListeners();s&&cR(he(this,Zt),r,this.options,n)&&$t(this,Sn,j0).call(this),this.updateResult(),s&&(he(this,Zt)!==r||hs(this.options.enabled,he(this,Zt))!==hs(n.enabled,he(this,Zt))||Pp(this.options.staleTime,he(this,Zt))!==Pp(n.staleTime,he(this,Zt)))&&$t(this,Sn,ZE).call(this);const a=$t(this,Sn,JE).call(this);s&&(he(this,Zt)!==r||hs(this.options.enabled,he(this,Zt))!==hs(n.enabled,he(this,Zt))||a!==he(this,Tc))&&$t(this,Sn,QE).call(this,a)}getOptimisticResult(t){const n=he(this,Mi).getQueryCache().build(he(this,Mi),t),r=this.createResult(n,t);return PB(this,r)&&(ot(this,vi,r),ot(this,Wp,this.options),ot(this,qd,he(this,Zt).state)),r}getCurrentResult(){return he(this,vi)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){he(this,Kp).add(t)}getCurrentQuery(){return he(this,Zt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=he(this,Mi).defaultQueryOptions(t),r=he(this,Mi).getQueryCache().build(he(this,Mi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return $t(this,Sn,j0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),he(this,vi)))}createResult(t,n){var q;const r=he(this,Zt),s=this.options,a=he(this,vi),c=he(this,qd),d=he(this,Wp),g=t!==r?t.state:he(this,ay),{state:p}=t;let m={...p},x=!1,b;if(n._optimisticResults){const te=this.hasListeners(),ie=!te&&uR(t,n),se=te&&cR(t,r,n,s);(ie||se)&&(m={...m,...AD(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:E,errorUpdatedAt:w,status:C}=m;b=m.data;let T=!1;if(n.placeholderData!==void 0&&b===void 0&&C==="pending"){let te;a!=null&&a.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData)?(te=a.data,T=!0):te=typeof n.placeholderData=="function"?n.placeholderData((q=he(this,qp))==null?void 0:q.state.data,he(this,qp)):n.placeholderData,te!==void 0&&(C="success",b=KE(a==null?void 0:a.data,te,n),x=!0)}if(n.select&&b!==void 0&&!T)if(a&&b===(c==null?void 0:c.data)&&n.select===he(this,ly))b=he(this,Yp);else try{ot(this,ly,n.select),b=n.select(b),b=KE(a==null?void 0:a.data,b,n),ot(this,Yp,b),ot(this,Rc,null)}catch(te){ot(this,Rc,te)}he(this,Rc)&&(E=he(this,Rc),b=he(this,Yp),w=Date.now(),C="error");const _=m.fetchStatus==="fetching",I=C==="pending",O=C==="error",L=I&&_,k=b!==void 0,U={status:C,fetchStatus:m.fetchStatus,isPending:I,isSuccess:C==="success",isError:O,isInitialLoading:L,isLoading:L,data:b,dataUpdatedAt:m.dataUpdatedAt,error:E,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>g.dataUpdateCount||m.errorUpdateCount>g.errorUpdateCount,isFetching:_,isRefetching:_&&!I,isLoadingError:O&&!k,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:O&&k,isStale:nw(t,n),refetch:this.refetch,promise:he(this,wc)};if(this.options.experimental_prefetchInRender){const te=Ce=>{U.status==="error"?Ce.reject(U.error):U.data!==void 0&&Ce.resolve(U.data)},ie=()=>{const Ce=ot(this,wc,U.promise=XE());te(Ce)},se=he(this,wc);switch(se.status){case"pending":t.queryHash===r.queryHash&&te(se);break;case"fulfilled":(U.status==="error"||U.data!==se.value)&&ie();break;case"rejected":(U.status!=="error"||U.error!==se.reason)&&ie();break}}return U}updateResult(){const t=he(this,vi),n=this.createResult(he(this,Zt),this.options);if(ot(this,qd,he(this,Zt).state),ot(this,Wp,this.options),he(this,qd).data!==void 0&&ot(this,qp,he(this,Zt)),yb(n,t))return;ot(this,vi,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!he(this,Kp).size)return!0;const c=new Set(a??he(this,Kp));return this.options.throwOnError&&c.add("error"),Object.keys(he(this,vi)).some(d=>{const h=d;return he(this,vi)[h]!==t[h]&&c.has(h)})};$t(this,Sn,CD).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$t(this,Sn,eC).call(this)}},Mi=new WeakMap,Zt=new WeakMap,ay=new WeakMap,vi=new WeakMap,qd=new WeakMap,Wp=new WeakMap,wc=new WeakMap,Rc=new WeakMap,ly=new WeakMap,Yp=new WeakMap,qp=new WeakMap,Kd=new WeakMap,Xd=new WeakMap,Tc=new WeakMap,Kp=new WeakMap,Sn=new WeakSet,j0=function(t){$t(this,Sn,rC).call(this);let n=he(this,Zt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(No)),n},ZE=function(){$t(this,Sn,tC).call(this);const t=Pp(this.options.staleTime,he(this,Zt));if(Zd||he(this,vi).isStale||!YE(t))return;const r=gD(he(this,vi).dataUpdatedAt,t)+1;ot(this,Kd,setTimeout(()=>{he(this,vi).isStale||this.updateResult()},r))},JE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(he(this,Zt)):this.options.refetchInterval)??!1},QE=function(t){$t(this,Sn,nC).call(this),ot(this,Tc,t),!(Zd||hs(this.options.enabled,he(this,Zt))===!1||!YE(he(this,Tc))||he(this,Tc)===0)&&ot(this,Xd,setInterval(()=>{(this.options.refetchIntervalInBackground||tw.isFocused())&&$t(this,Sn,j0).call(this)},he(this,Tc)))},eC=function(){$t(this,Sn,ZE).call(this),$t(this,Sn,QE).call(this,$t(this,Sn,JE).call(this))},tC=function(){he(this,Kd)&&(clearTimeout(he(this,Kd)),ot(this,Kd,void 0))},nC=function(){he(this,Xd)&&(clearInterval(he(this,Xd)),ot(this,Xd,void 0))},rC=function(){const t=he(this,Mi).getQueryCache().build(he(this,Mi),this.options);if(t===he(this,Zt))return;const n=he(this,Zt);ot(this,Zt,t),ot(this,ay,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},CD=function(t){Sr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(he(this,vi))}),he(this,Mi).getQueryCache().notify({query:he(this,Zt),type:"observerResultsUpdated"})})},HO);function DB(e,t){return hs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uR(e,t){return DB(e,t)||e.state.data!==void 0&&iC(e,t,t.refetchOnMount)}function iC(e,t,n){if(hs(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&nw(e,t)}return!1}function cR(e,t,n,r){return(e!==t||hs(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&nw(e,n)}function nw(e,t){return hs(t.enabled,e)!==!1&&e.isStaleByTime(Pp(t.staleTime,e))}function PB(e,t){return!yb(e.getCurrentResult(),t)}var Nc,_c,Li,su,fu,ib,oC,WO,MB=(WO=class extends sg{constructor(n,r){super();St(this,fu);St(this,Nc);St(this,_c);St(this,Li);St(this,su);ot(this,Nc,n),this.setOptions(r),this.bindMethods(),$t(this,fu,ib).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=he(this,Nc).defaultMutationOptions(n),yb(this.options,r)||he(this,Nc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:he(this,Li),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Jd(r.mutationKey)!==Jd(this.options.mutationKey)?this.reset():((s=he(this,Li))==null?void 0:s.state.status)==="pending"&&he(this,Li).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=he(this,Li))==null||n.removeObserver(this)}onMutationUpdate(n){$t(this,fu,ib).call(this),$t(this,fu,oC).call(this,n)}getCurrentResult(){return he(this,_c)}reset(){var n;(n=he(this,Li))==null||n.removeObserver(this),ot(this,Li,void 0),$t(this,fu,ib).call(this),$t(this,fu,oC).call(this)}mutate(n,r){var s;return ot(this,su,r),(s=he(this,Li))==null||s.removeObserver(this),ot(this,Li,he(this,Nc).getMutationCache().build(he(this,Nc),this.options)),he(this,Li).addObserver(this),he(this,Li).execute(n)}},Nc=new WeakMap,_c=new WeakMap,Li=new WeakMap,su=new WeakMap,fu=new WeakSet,ib=function(){var r;const n=((r=he(this,Li))==null?void 0:r.state)??ED();ot(this,_c,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},oC=function(n){Sr.batch(()=>{var r,s,a,c,d,h,g,p;if(he(this,su)&&this.hasListeners()){const m=he(this,_c).variables,x=he(this,_c).context;(n==null?void 0:n.type)==="success"?((s=(r=he(this,su)).onSuccess)==null||s.call(r,n.data,m,x),(c=(a=he(this,su)).onSettled)==null||c.call(a,n.data,null,m,x)):(n==null?void 0:n.type)==="error"&&((h=(d=he(this,su)).onError)==null||h.call(d,n.error,m,x),(p=(g=he(this,su)).onSettled)==null||p.call(g,void 0,n.error,m,x))}this.listeners.forEach(m=>{m(he(this,_c))})})},WO),wD=F.createContext(void 0),rw=e=>{const t=F.useContext(wD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},LB=({client:e,children:t})=>(F.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),P.jsx(wD.Provider,{value:e,children:t})),RD=F.createContext(!1),FB=()=>F.useContext(RD);RD.Provider;function kB(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var BB=F.createContext(kB()),jB=()=>F.useContext(BB);function TD(e,t){return typeof e=="function"?e(...t):!!e}function sC(){}var zB=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},UB=e=>{F.useEffect(()=>{e.clearReset()},[e])},VB=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||TD(n,[e.error,r])),GB=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},$B=(e,t)=>e.isLoading&&e.isFetching&&!t,HB=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,fR=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function WB(e,t,n){var m,x,b,E,w;const r=rw(),s=FB(),a=jB(),c=r.defaultQueryOptions(e);(x=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,c),c._optimisticResults=s?"isRestoring":"optimistic",GB(c),zB(c,a),UB(a);const d=!r.getQueryCache().get(c.queryHash),[h]=F.useState(()=>new t(r,c)),g=h.getOptimisticResult(c),p=!s&&e.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(C=>{const T=p?h.subscribe(Sr.batchCalls(C)):sC;return h.updateResult(),T},[h,p]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),F.useEffect(()=>{h.setOptions(c)},[c,h]),HB(c,g))throw fR(c,h,a);if(VB({result:g,errorResetBoundary:a,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw g.error;if((E=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||E.call(b,c,g),c.experimental_prefetchInRender&&!Zd&&$B(g,s)){const C=d?fR(c,h,a):(w=r.getQueryCache().get(c.queryHash))==null?void 0:w.promise;C==null||C.catch(sC).finally(()=>{h.updateResult()})}return c.notifyOnChangeProps?g:h.trackResult(g)}function Uc(e,t){return WB(e,OB)}function D1(e,t){const n=rw(),[r]=F.useState(()=>new MB(n,e));F.useEffect(()=>{r.setOptions(e)},[r,e]);const s=F.useSyncExternalStore(F.useCallback(c=>r.subscribe(Sr.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=F.useCallback((c,d)=>{r.mutate(c,d).catch(sC)},[r]);if(s.error&&TD(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function YB(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const qB=e=>{switch(e){case"success":return ZB;case"info":return QB;case"warning":return JB;case"error":return ej;default:return null}},KB=Array(12).fill(0),XB=({visible:e,className:t})=>Ze.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ze.createElement("div",{className:"sonner-spinner"},KB.map((n,r)=>Ze.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ZB=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JB=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),QB=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ej=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tj=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ze.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ze.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nj=()=>{const[e,t]=Ze.useState(document.hidden);return Ze.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let aC=1;class rj{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:aC++,c=this.toasts.find(h=>h.id===a),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...t,id:a,title:r}),{...h,...t,id:a,dismissible:d,title:r}):h):this.addToast({title:r,...s,dismissible:d,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,c;const d=s.then(async g=>{if(c=["resolve",g],Ze.isValidElement(g))a=!1,this.create({id:r,type:"default",message:g});else if(oj(g)&&!g.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,E=typeof m=="object"&&!Ze.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...E})}else if(g instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(g):n.error,x=typeof n.description=="function"?await n.description(g):n.description,E=typeof m=="object"&&!Ze.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...E})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(g):n.success,x=typeof n.description=="function"?await n.description(g):n.description,E=typeof m=="object"&&!Ze.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:x,...E})}}).catch(async g=>{if(c=["reject",g],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(g):n.error,m=typeof n.description=="function"?await n.description(g):n.description,b=typeof p=="object"&&!Ze.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...b})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((g,p)=>d.then(()=>c[0]==="reject"?p(c[1]):g(c[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||aC++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Fi=new rj,ij=(e,t)=>{const n=(t==null?void 0:t.id)||aC++;return Fi.addToast({title:e,...t,id:n}),n},oj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",sj=ij,aj=()=>Fi.toasts,lj=()=>Fi.getActiveToasts(),li=Object.assign(sj,{success:Fi.success,info:Fi.info,warning:Fi.warning,error:Fi.error,custom:Fi.custom,message:Fi.message,promise:Fi.promise,dismiss:Fi.dismiss,loading:Fi.loading},{getHistory:aj,getToasts:lj});YB("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function kx(e){return e.label!==void 0}const uj=3,cj="24px",fj="16px",dR=4e3,dj=356,hj=14,pj=45,gj=200;function aa(...e){return e.filter(Boolean).join(" ")}function mj(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const yj=e=>{var t,n,r,s,a,c,d,h,g;const{invert:p,toast:m,unstyled:x,interacting:b,setHeights:E,visibleToasts:w,heights:C,index:T,toasts:_,expanded:I,removeToast:O,defaultRichColors:L,closeButton:k,style:V,cancelButtonStyle:U,actionButtonStyle:q,className:te="",descriptionClassName:ie="",duration:se,position:Ce,gap:je,expandByDefault:Me,classNames:re,icons:Ie,closeButtonAriaLabel:de="Close toast"}=e,[fe,K]=Ze.useState(null),[ne,me]=Ze.useState(null),[B,j]=Ze.useState(!1),[G,H]=Ze.useState(!1),[J,X]=Ze.useState(!1),[Z,le]=Ze.useState(!1),[xe,Se]=Ze.useState(!1),[oe,ae]=Ze.useState(0),[Ee,Oe]=Ze.useState(0),Be=Ze.useRef(m.duration||se||dR),Ge=Ze.useRef(null),ye=Ze.useRef(null),Fe=T===0,Qe=T+1<=w,yt=m.type,ht=m.dismissible!==!1,pe=m.className||"",Ne=m.descriptionClassName||"",Ye=Ze.useMemo(()=>C.findIndex(dt=>dt.toastId===m.id)||0,[C,m.id]),qe=Ze.useMemo(()=>{var dt;return(dt=m.closeButton)!=null?dt:k},[m.closeButton,k]),tt=Ze.useMemo(()=>m.duration||se||dR,[m.duration,se]),ft=Ze.useRef(0),bt=Ze.useRef(0),jt=Ze.useRef(0),Ot=Ze.useRef(null),[un,Le]=Ce.split("-"),rt=Ze.useMemo(()=>C.reduce((dt,Fn,$n)=>$n>=Ye?dt:dt+Fn.height,0),[C,Ye]),mt=nj(),At=m.invert||p,Dt=yt==="loading";bt.current=Ze.useMemo(()=>Ye*je+rt,[Ye,rt]),Ze.useEffect(()=>{Be.current=tt},[tt]),Ze.useEffect(()=>{j(!0)},[]),Ze.useEffect(()=>{const dt=ye.current;if(dt){const Fn=dt.getBoundingClientRect().height;return Oe(Fn),E($n=>[{toastId:m.id,height:Fn,position:m.position},...$n]),()=>E($n=>$n.filter(lr=>lr.toastId!==m.id))}},[E,m.id]),Ze.useLayoutEffect(()=>{if(!B)return;const dt=ye.current,Fn=dt.style.height;dt.style.height="auto";const $n=dt.getBoundingClientRect().height;dt.style.height=Fn,Oe($n),E(lr=>lr.find(nn=>nn.toastId===m.id)?lr.map(nn=>nn.toastId===m.id?{...nn,height:$n}:nn):[{toastId:m.id,height:$n,position:m.position},...lr])},[B,m.title,m.description,E,m.id]);const An=Ze.useCallback(()=>{H(!0),ae(bt.current),E(dt=>dt.filter(Fn=>Fn.toastId!==m.id)),setTimeout(()=>{O(m)},gj)},[m,O,E,bt]);Ze.useEffect(()=>{if(m.promise&&yt==="loading"||m.duration===1/0||m.type==="loading")return;let dt;return I||b||mt?(()=>{if(jt.current<ft.current){const lr=new Date().getTime()-ft.current;Be.current=Be.current-lr}jt.current=new Date().getTime()})():(()=>{Be.current!==1/0&&(ft.current=new Date().getTime(),dt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),An()},Be.current))})(),()=>clearTimeout(dt)},[I,b,m,yt,mt,An]),Ze.useEffect(()=>{m.delete&&An()},[An,m.delete]);function Ln(){var dt;if(Ie!=null&&Ie.loading){var Fn;return Ze.createElement("div",{className:aa(re==null?void 0:re.loader,m==null||(Fn=m.classNames)==null?void 0:Fn.loader,"sonner-loader"),"data-visible":yt==="loading"},Ie.loading)}return Ze.createElement(XB,{className:aa(re==null?void 0:re.loader,m==null||(dt=m.classNames)==null?void 0:dt.loader),visible:yt==="loading"})}const Yn=m.icon||(Ie==null?void 0:Ie[yt])||qB(yt);var Ur,Sa;return Ze.createElement("li",{tabIndex:0,ref:ye,className:aa(te,pe,re==null?void 0:re.toast,m==null||(t=m.classNames)==null?void 0:t.toast,re==null?void 0:re.default,re==null?void 0:re[yt],m==null||(n=m.classNames)==null?void 0:n[yt]),"data-sonner-toast":"","data-rich-colors":(Ur=m.richColors)!=null?Ur:L,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":B,"data-promise":!!m.promise,"data-swiped":xe,"data-removed":G,"data-visible":Qe,"data-y-position":un,"data-x-position":Le,"data-index":T,"data-front":Fe,"data-swiping":J,"data-dismissible":ht,"data-type":yt,"data-invert":At,"data-swipe-out":Z,"data-swipe-direction":ne,"data-expanded":!!(I||Me&&B),style:{"--index":T,"--toasts-before":T,"--z-index":_.length-T,"--offset":`${G?oe:bt.current}px`,"--initial-height":Me?"auto":`${Ee}px`,...V,...m.style},onDragEnd:()=>{X(!1),K(null),Ot.current=null},onPointerDown:dt=>{Dt||!ht||(Ge.current=new Date,ae(bt.current),dt.target.setPointerCapture(dt.pointerId),dt.target.tagName!=="BUTTON"&&(X(!0),Ot.current={x:dt.clientX,y:dt.clientY}))},onPointerUp:()=>{var dt,Fn,$n;if(Z||!ht)return;Ot.current=null;const lr=Number(((dt=ye.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Aa=Number(((Fn=ye.current)==null?void 0:Fn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),nn=new Date().getTime()-(($n=Ge.current)==null?void 0:$n.getTime()),kn=fe==="x"?lr:Aa,Bn=Math.abs(kn)/nn;if(Math.abs(kn)>=pj||Bn>.11){ae(bt.current),m.onDismiss==null||m.onDismiss.call(m,m),me(fe==="x"?lr>0?"right":"left":Aa>0?"down":"up"),An(),le(!0);return}else{var rn,ur;(rn=ye.current)==null||rn.style.setProperty("--swipe-amount-x","0px"),(ur=ye.current)==null||ur.style.setProperty("--swipe-amount-y","0px")}Se(!1),X(!1),K(null)},onPointerMove:dt=>{var Fn,$n,lr;if(!Ot.current||!ht||((Fn=window.getSelection())==null?void 0:Fn.toString().length)>0)return;const nn=dt.clientY-Ot.current.y,kn=dt.clientX-Ot.current.x;var Bn;const rn=(Bn=e.swipeDirections)!=null?Bn:mj(Ce);!fe&&(Math.abs(kn)>1||Math.abs(nn)>1)&&K(Math.abs(kn)>Math.abs(nn)?"x":"y");let ur={x:0,y:0};const vu=ji=>1/(1.5+Math.abs(ji)/20);if(fe==="y"){if(rn.includes("top")||rn.includes("bottom"))if(rn.includes("top")&&nn<0||rn.includes("bottom")&&nn>0)ur.y=nn;else{const ji=nn*vu(nn);ur.y=Math.abs(ji)<Math.abs(nn)?ji:nn}}else if(fe==="x"&&(rn.includes("left")||rn.includes("right")))if(rn.includes("left")&&kn<0||rn.includes("right")&&kn>0)ur.x=kn;else{const ji=kn*vu(kn);ur.x=Math.abs(ji)<Math.abs(kn)?ji:kn}(Math.abs(ur.x)>0||Math.abs(ur.y)>0)&&Se(!0),($n=ye.current)==null||$n.style.setProperty("--swipe-amount-x",`${ur.x}px`),(lr=ye.current)==null||lr.style.setProperty("--swipe-amount-y",`${ur.y}px`)}},qe&&!m.jsx&&yt!=="loading"?Ze.createElement("button",{"aria-label":de,"data-disabled":Dt,"data-close-button":!0,onClick:Dt||!ht?()=>{}:()=>{An(),m.onDismiss==null||m.onDismiss.call(m,m)},className:aa(re==null?void 0:re.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Sa=Ie==null?void 0:Ie.close)!=null?Sa:tj):null,(yt||m.icon||m.promise)&&m.icon!==null&&((Ie==null?void 0:Ie[yt])!==null||m.icon)?Ze.createElement("div",{"data-icon":"",className:aa(re==null?void 0:re.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ln():null,m.type!=="loading"?Yn:null):null,Ze.createElement("div",{"data-content":"",className:aa(re==null?void 0:re.content,m==null||(a=m.classNames)==null?void 0:a.content)},Ze.createElement("div",{"data-title":"",className:aa(re==null?void 0:re.title,m==null||(c=m.classNames)==null?void 0:c.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Ze.createElement("div",{"data-description":"",className:aa(ie,Ne,re==null?void 0:re.description,m==null||(d=m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),Ze.isValidElement(m.cancel)?m.cancel:m.cancel&&kx(m.cancel)?Ze.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||U,onClick:dt=>{kx(m.cancel)&&ht&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,dt),An())},className:aa(re==null?void 0:re.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,Ze.isValidElement(m.action)?m.action:m.action&&kx(m.action)?Ze.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||q,onClick:dt=>{kx(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,dt),!dt.defaultPrevented&&An())},className:aa(re==null?void 0:re.actionButton,m==null||(g=m.classNames)==null?void 0:g.actionButton)},m.action.label):null)};function hR(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function vj(e,t){const n={};return[e,t].forEach((r,s)=>{const a=s===1,c=a?"--mobile-offset":"--offset",d=a?fj:cj;function h(g){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?n[`${c}-${g}`]=d:n[`${c}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):h(d)}),n}const xj=Ze.forwardRef(function(t,n){const{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:d,className:h,offset:g,mobileOffset:p,theme:m="light",richColors:x,duration:b,style:E,visibleToasts:w=uj,toastOptions:C,dir:T=hR(),gap:_=hj,icons:I,containerAriaLabel:O="Notifications"}=t,[L,k]=Ze.useState([]),V=Ze.useMemo(()=>Array.from(new Set([s].concat(L.filter(ne=>ne.position).map(ne=>ne.position)))),[L,s]),[U,q]=Ze.useState([]),[te,ie]=Ze.useState(!1),[se,Ce]=Ze.useState(!1),[je,Me]=Ze.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=Ze.useRef(null),Ie=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=Ze.useRef(null),fe=Ze.useRef(!1),K=Ze.useCallback(ne=>{k(me=>{var B;return(B=me.find(j=>j.id===ne.id))!=null&&B.delete||Fi.dismiss(ne.id),me.filter(({id:j})=>j!==ne.id)})},[]);return Ze.useEffect(()=>Fi.subscribe(ne=>{if(ne.dismiss){requestAnimationFrame(()=>{k(me=>me.map(B=>B.id===ne.id?{...B,delete:!0}:B))});return}setTimeout(()=>{pD.flushSync(()=>{k(me=>{const B=me.findIndex(j=>j.id===ne.id);return B!==-1?[...me.slice(0,B),{...me[B],...ne},...me.slice(B+1)]:[ne,...me]})})})}),[L]),Ze.useEffect(()=>{if(m!=="system"){Me(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Me("dark"):Me("light")),typeof window>"u")return;const ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:me})=>{Me(me?"dark":"light")})}catch{ne.addListener(({matches:B})=>{try{Me(B?"dark":"light")}catch(j){console.error(j)}})}},[m]),Ze.useEffect(()=>{L.length<=1&&ie(!1)},[L]),Ze.useEffect(()=>{const ne=me=>{var B;if(a.every(H=>me[H]||me.code===H)){var G;ie(!0),(G=re.current)==null||G.focus()}me.code==="Escape"&&(document.activeElement===re.current||(B=re.current)!=null&&B.contains(document.activeElement))&&ie(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[a]),Ze.useEffect(()=>{if(re.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,fe.current=!1)}},[re.current]),Ze.createElement("section",{ref:n,"aria-label":`${O} ${Ie}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((ne,me)=>{var B;const[j,G]=ne.split("-");return L.length?Ze.createElement("ol",{key:ne,dir:T==="auto"?hR():T,tabIndex:-1,ref:re,className:h,"data-sonner-toaster":!0,"data-sonner-theme":je,"data-y-position":j,"data-lifted":te&&L.length>1&&!c,"data-x-position":G,style:{"--front-toast-height":`${((B=U[0])==null?void 0:B.height)||0}px`,"--width":`${dj}px`,"--gap":`${_}px`,...E,...vj(g,p)},onBlur:H=>{fe.current&&!H.currentTarget.contains(H.relatedTarget)&&(fe.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,de.current=H.relatedTarget)},onMouseEnter:()=>ie(!0),onMouseMove:()=>ie(!0),onMouseLeave:()=>{se||ie(!1)},onDragEnd:()=>ie(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||Ce(!0)},onPointerUp:()=>Ce(!1)},L.filter(H=>!H.position&&me===0||H.position===ne).map((H,J)=>{var X,Z;return Ze.createElement(yj,{key:H.id,icons:I,index:J,toast:H,defaultRichColors:x,duration:(X=C==null?void 0:C.duration)!=null?X:b,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Z=C==null?void 0:C.closeButton)!=null?Z:d,interacting:se,position:ne,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:K,toasts:L.filter(le=>le.position==H.position),heights:U.filter(le=>le.position==H.position),setHeights:q,expandByDefault:c,gap:_,expanded:te,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),pR=e=>{const t=Sj(e);return t.charAt(0).toUpperCase()+t.slice(1)},ND=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Aj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ej={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=F.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:c,...d},h)=>F.createElement("svg",{ref:h,...Ej,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ND("lucide",s),...!a&&!Aj(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,p])=>F.createElement(g,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=(e,t)=>{const n=F.forwardRef(({className:r,...s},a)=>F.createElement(Cj,{ref:a,iconNode:t,className:ND(`lucide-${bj(pR(e))}`,`lucide-${e}`,r),...s}));return n.displayName=pR(e),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_D=xs("check",wj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ID=xs("chevron-down",Rj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Nj=xs("chevron-up",Tj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ij=xs("ellipsis",_j);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]],OD=xs("grid-2x2-plus",Oj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pj=xs("loader-circle",Dj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Lj=xs("panel-left",Mj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],kj=xs("pencil",Fj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jj=xs("plus",Bj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Uj=xs("trash-2",zj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DD=xs("x",Vj);function PD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=PD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function MD(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=PD(e))&&(r&&(r+=" "),r+=t);return r}const iw="-",Gj=e=>{const t=Hj(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const d=c.split(iw);return d[0]===""&&d.length!==1&&d.shift(),LD(d,t)||$j(c)},getConflictingClassGroupIds:(c,d)=>{const h=n[c]||[];return d&&r[c]?[...h,...r[c]]:h}}},LD=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?LD(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(iw);return(c=t.validators.find(({validator:d})=>d(a)))==null?void 0:c.classGroupId},gR=/^\[(.+)\]$/,$j=e=>{if(gR.test(e)){const t=gR.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Hj=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)lC(n[s],r,s,t);return r},lC=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:mR(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(Wj(s)){lC(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,c])=>{lC(c,mR(t,a),n,r)})})},mR=(e,t)=>{let n=e;return t.split(iw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Wj=e=>e.isThemeGetter,Yj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,c)=>{n.set(a,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return s(a,c),c},set(a,c){n.has(a)?n.set(a,c):s(a,c)}}},uC="!",cC=":",qj=cC.length,Kj=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const a=[];let c=0,d=0,h=0,g;for(let E=0;E<s.length;E++){let w=s[E];if(c===0&&d===0){if(w===cC){a.push(s.slice(h,E)),h=E+qj;continue}if(w==="/"){g=E;continue}}w==="["?c++:w==="]"?c--:w==="("?d++:w===")"&&d--}const p=a.length===0?s:s.substring(h),m=Xj(p),x=m!==p,b=g&&g>h?g-h:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:b}};if(t){const s=t+cC,a=r;r=c=>c.startsWith(s)?a(c.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},Xj=e=>e.endsWith(uC)?e.substring(0,e.length-1):e.startsWith(uC)?e.substring(1):e,Zj=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(c=>{c[0]==="["||t[c]?(s.push(...a.sort(),c),a=[]):a.push(c)}),s.push(...a.sort()),s}},Jj=e=>({cache:Yj(e.cacheSize),parseClassName:Kj(e),sortModifiers:Zj(e),...Gj(e)}),Qj=/\s+/,ez=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=t,c=[],d=e.trim().split(Qj);let h="";for(let g=d.length-1;g>=0;g-=1){const p=d[g],{isExternal:m,modifiers:x,hasImportantModifier:b,baseClassName:E,maybePostfixModifierPosition:w}=n(p);if(m){h=p+(h.length>0?" "+h:h);continue}let C=!!w,T=r(C?E.substring(0,w):E);if(!T){if(!C){h=p+(h.length>0?" "+h:h);continue}if(T=r(E),!T){h=p+(h.length>0?" "+h:h);continue}C=!1}const _=a(x).join(":"),I=b?_+uC:_,O=I+T;if(c.includes(O))continue;c.push(O);const L=s(T,C);for(let k=0;k<L.length;++k){const V=L[k];c.push(I+V)}h=p+(h.length>0?" "+h:h)}return h};function tz(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=FD(t))&&(r&&(r+=" "),r+=n);return r}const FD=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=FD(e[r]))&&(n&&(n+=" "),n+=t);return n};function nz(e,...t){let n,r,s,a=c;function c(h){const g=t.reduce((p,m)=>m(p),e());return n=Jj(g),r=n.cache.get,s=n.cache.set,a=d,d(h)}function d(h){const g=r(h);if(g)return g;const p=ez(h,n);return s(h,p),p}return function(){return a(tz.apply(null,arguments))}}const br=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},kD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,BD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rz=/^\d+\/\d+$/,iz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,az=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wp=e=>rz.test(e),Wt=e=>!!e&&!Number.isNaN(Number(e)),hc=e=>!!e&&Number.isInteger(Number(e)),P1=e=>e.endsWith("%")&&Wt(e.slice(0,-1)),Qa=e=>iz.test(e),uz=()=>!0,cz=e=>oz.test(e)&&!sz.test(e),jD=()=>!1,fz=e=>az.test(e),dz=e=>lz.test(e),hz=e=>!lt(e)&&!ut(e),pz=e=>ag(e,VD,jD),lt=e=>kD.test(e),Ff=e=>ag(e,GD,cz),M1=e=>ag(e,xz,Wt),yR=e=>ag(e,zD,jD),gz=e=>ag(e,UD,dz),Bx=e=>ag(e,$D,fz),ut=e=>BD.test(e),f0=e=>lg(e,GD),mz=e=>lg(e,bz),vR=e=>lg(e,zD),yz=e=>lg(e,VD),vz=e=>lg(e,UD),jx=e=>lg(e,$D,!0),ag=(e,t,n)=>{const r=kD.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},lg=(e,t,n=!1)=>{const r=BD.exec(e);return r?r[1]?t(r[1]):n:!1},zD=e=>e==="position"||e==="percentage",UD=e=>e==="image"||e==="url",VD=e=>e==="length"||e==="size"||e==="bg-size",GD=e=>e==="length",xz=e=>e==="number",bz=e=>e==="family-name",$D=e=>e==="shadow",Sz=()=>{const e=br("color"),t=br("font"),n=br("text"),r=br("font-weight"),s=br("tracking"),a=br("leading"),c=br("breakpoint"),d=br("container"),h=br("spacing"),g=br("radius"),p=br("shadow"),m=br("inset-shadow"),x=br("text-shadow"),b=br("drop-shadow"),E=br("blur"),w=br("perspective"),C=br("aspect"),T=br("ease"),_=br("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...O(),ut,lt],k=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],U=()=>[ut,lt,h],q=()=>[wp,"full","auto",...U()],te=()=>[hc,"none","subgrid",ut,lt],ie=()=>["auto",{span:["full",hc,ut,lt]},hc,ut,lt],se=()=>[hc,"auto",ut,lt],Ce=()=>["auto","min","max","fr",ut,lt],je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Me=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...U()],Ie=()=>[wp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],de=()=>[e,ut,lt],fe=()=>[...O(),vR,yR,{position:[ut,lt]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",yz,pz,{size:[ut,lt]}],me=()=>[P1,f0,Ff],B=()=>["","none","full",g,ut,lt],j=()=>["",Wt,f0,Ff],G=()=>["solid","dashed","dotted","double"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[Wt,P1,vR,yR],X=()=>["","none",E,ut,lt],Z=()=>["none",Wt,ut,lt],le=()=>["none",Wt,ut,lt],xe=()=>[Wt,ut,lt],Se=()=>[wp,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qa],breakpoint:[Qa],color:[uz],container:[Qa],"drop-shadow":[Qa],ease:["in","out","in-out"],font:[hz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qa],shadow:[Qa],spacing:["px",Wt],text:[Qa],"text-shadow":[Qa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",wp,lt,ut,C]}],container:["container"],columns:[{columns:[Wt,lt,ut,d]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[hc,"auto",ut,lt]}],basis:[{basis:[wp,"full","auto",d,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Wt,wp,"auto","initial","none",lt]}],grow:[{grow:["",Wt,ut,lt]}],shrink:[{shrink:["",Wt,ut,lt]}],order:[{order:[hc,"first","last","none",ut,lt]}],"grid-cols":[{"grid-cols":te()}],"col-start-end":[{col:ie()}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":te()}],"row-start-end":[{row:ie()}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ce()}],"auto-rows":[{"auto-rows":Ce()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...je(),"normal"]}],"justify-items":[{"justify-items":[...Me(),"normal"]}],"justify-self":[{"justify-self":["auto",...Me()]}],"align-content":[{content:["normal",...je()]}],"align-items":[{items:[...Me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Me(),{baseline:["","last"]}]}],"place-content":[{"place-content":je()}],"place-items":[{"place-items":[...Me(),"baseline"]}],"place-self":[{"place-self":["auto",...Me()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ie()}],w:[{w:[d,"screen",...Ie()]}],"min-w":[{"min-w":[d,"screen","none",...Ie()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...Ie()]}],h:[{h:["screen",...Ie()]}],"min-h":[{"min-h":["screen","none",...Ie()]}],"max-h":[{"max-h":["screen",...Ie()]}],"font-size":[{text:["base",n,f0,Ff]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ut,M1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",P1,lt]}],"font-family":[{font:[mz,lt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ut,lt]}],"line-clamp":[{"line-clamp":[Wt,"none",ut,M1]}],leading:[{leading:[a,...U()]}],"list-image":[{"list-image":["none",ut,lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ut,lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:de()}],"text-color":[{text:de()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Wt,"from-font","auto",ut,Ff]}],"text-decoration-color":[{decoration:de()}],"underline-offset":[{"underline-offset":[Wt,"auto",ut,lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut,lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut,lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hc,ut,lt],radial:["",ut,lt],conic:[hc,ut,lt]},vz,gz]}],"bg-color":[{bg:de()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:de()}],"gradient-via":[{via:de()}],"gradient-to":[{to:de()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:j()}],"border-w-x":[{"border-x":j()}],"border-w-y":[{"border-y":j()}],"border-w-s":[{"border-s":j()}],"border-w-e":[{"border-e":j()}],"border-w-t":[{"border-t":j()}],"border-w-r":[{"border-r":j()}],"border-w-b":[{"border-b":j()}],"border-w-l":[{"border-l":j()}],"divide-x":[{"divide-x":j()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":j()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:de()}],"border-color-x":[{"border-x":de()}],"border-color-y":[{"border-y":de()}],"border-color-s":[{"border-s":de()}],"border-color-e":[{"border-e":de()}],"border-color-t":[{"border-t":de()}],"border-color-r":[{"border-r":de()}],"border-color-b":[{"border-b":de()}],"border-color-l":[{"border-l":de()}],"divide-color":[{divide:de()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Wt,ut,lt]}],"outline-w":[{outline:["",Wt,f0,Ff]}],"outline-color":[{outline:de()}],shadow:[{shadow:["","none",p,jx,Bx]}],"shadow-color":[{shadow:de()}],"inset-shadow":[{"inset-shadow":["none",m,jx,Bx]}],"inset-shadow-color":[{"inset-shadow":de()}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:de()}],"ring-offset-w":[{"ring-offset":[Wt,Ff]}],"ring-offset-color":[{"ring-offset":de()}],"inset-ring-w":[{"inset-ring":j()}],"inset-ring-color":[{"inset-ring":de()}],"text-shadow":[{"text-shadow":["none",x,jx,Bx]}],"text-shadow-color":[{"text-shadow":de()}],opacity:[{opacity:[Wt,ut,lt]}],"mix-blend":[{"mix-blend":[...H(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":H()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Wt]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":de()}],"mask-image-linear-to-color":[{"mask-linear-to":de()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":de()}],"mask-image-t-to-color":[{"mask-t-to":de()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":de()}],"mask-image-r-to-color":[{"mask-r-to":de()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":de()}],"mask-image-b-to-color":[{"mask-b-to":de()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":de()}],"mask-image-l-to-color":[{"mask-l-to":de()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":de()}],"mask-image-x-to-color":[{"mask-x-to":de()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":de()}],"mask-image-y-to-color":[{"mask-y-to":de()}],"mask-image-radial":[{"mask-radial":[ut,lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":de()}],"mask-image-radial-to-color":[{"mask-radial-to":de()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Wt]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":de()}],"mask-image-conic-to-color":[{"mask-conic-to":de()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ut,lt]}],filter:[{filter:["","none",ut,lt]}],blur:[{blur:X()}],brightness:[{brightness:[Wt,ut,lt]}],contrast:[{contrast:[Wt,ut,lt]}],"drop-shadow":[{"drop-shadow":["","none",b,jx,Bx]}],"drop-shadow-color":[{"drop-shadow":de()}],grayscale:[{grayscale:["",Wt,ut,lt]}],"hue-rotate":[{"hue-rotate":[Wt,ut,lt]}],invert:[{invert:["",Wt,ut,lt]}],saturate:[{saturate:[Wt,ut,lt]}],sepia:[{sepia:["",Wt,ut,lt]}],"backdrop-filter":[{"backdrop-filter":["","none",ut,lt]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[Wt,ut,lt]}],"backdrop-contrast":[{"backdrop-contrast":[Wt,ut,lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Wt,ut,lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Wt,ut,lt]}],"backdrop-invert":[{"backdrop-invert":["",Wt,ut,lt]}],"backdrop-opacity":[{"backdrop-opacity":[Wt,ut,lt]}],"backdrop-saturate":[{"backdrop-saturate":[Wt,ut,lt]}],"backdrop-sepia":[{"backdrop-sepia":["",Wt,ut,lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ut,lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Wt,"initial",ut,lt]}],ease:[{ease:["linear","initial",T,ut,lt]}],delay:[{delay:[Wt,ut,lt]}],animate:[{animate:["none",_,ut,lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ut,lt]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[ut,lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Se()}],"translate-x":[{"translate-x":Se()}],"translate-y":[{"translate-y":Se()}],"translate-z":[{"translate-z":Se()}],"translate-none":["translate-none"],accent:[{accent:de()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:de()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut,lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut,lt]}],fill:[{fill:["none",...de()]}],"stroke-w":[{stroke:[Wt,f0,Ff,M1]}],stroke:[{stroke:["none",...de()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Az=nz(Sz);function xt(...e){return Az(MD(e))}function xR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Mb(...e){return t=>{let n=!1;const r=e.map(s=>{const a=xR(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():xR(e[s],null)}}}}function ln(...e){return F.useCallback(Mb(...e),e)}function Mc(e){const t=Ez(e),n=F.forwardRef((r,s)=>{const{children:a,...c}=r,d=F.Children.toArray(a),h=d.find(wz);if(h){const g=h.props.children,p=d.map(m=>m===h?F.Children.count(g)>1?F.Children.only(null):F.isValidElement(g)?g.props.children:null:m);return P.jsx(t,{...c,ref:s,children:F.isValidElement(g)?F.cloneElement(g,void 0,p):null})}return P.jsx(t,{...c,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var HD=Mc("Slot");function Ez(e){const t=F.forwardRef((n,r)=>{const{children:s,...a}=n;if(F.isValidElement(s)){const c=Tz(s),d=Rz(a,s.props);return s.type!==F.Fragment&&(d.ref=r?Mb(r,c):c),F.cloneElement(s,d)}return F.Children.count(s)>1?F.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WD=Symbol("radix.slottable");function Cz(e){const t=({children:n})=>P.jsx(P.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=WD,t}function wz(e){return F.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WD}function Rz(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...d)=>{a(...d),s(...d)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function Tz(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const bR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,SR=MD,ow=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return SR(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,c=Object.keys(s).map(g=>{const p=n==null?void 0:n[g],m=a==null?void 0:a[g];if(p===null)return null;const x=bR(p)||bR(m);return s[g][x]}),d=n&&Object.entries(n).reduce((g,p)=>{let[m,x]=p;return x===void 0||(g[m]=x),g},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((g,p)=>{let{class:m,className:x,...b}=p;return Object.entries(b).every(E=>{let[w,C]=E;return Array.isArray(C)?C.includes({...a,...d}[w]):{...a,...d}[w]===C})?[...g,m,x]:g},[]);return SR(e,c,h,n==null?void 0:n.class,n==null?void 0:n.className)},Nz=ow("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function jr({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?HD:"button";return P.jsx(a,{"data-slot":"button",className:xt("cursor-pointer",Nz({variant:t,size:n,className:e})),...s})}function _z({className:e,...t}){return P.jsxs("form",{className:xt("flex flex-col gap-6",e),...t,children:[P.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[P.jsx("h1",{className:"text-2xl font-bold",children:"Login to Wafflebase"}),P.jsx("p",{className:"text-balance text-sm text-muted-foreground",children:"Wafflebase with your GitHub account."})]}),P.jsx("div",{className:"grid gap-6",children:P.jsx(jr,{variant:"outline",className:"w-full",asChild:!0,children:P.jsxs(og,{to:"https://wafflebase-api.yorkie.dev/auth/github",rel:"noopener noreferrer",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:P.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12",fill:"currentColor"})}),"Login with GitHub"]})})})]})}function Iz(){return P.jsx("div",{className:"grid min-h-svh",children:P.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[P.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:P.jsxs("a",{href:"#",className:"flex items-center gap-2 font-medium",children:[P.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-primary text-primary-foreground",children:P.jsx(OD,{className:"!size-5"})}),"Wafflebase"]})}),P.jsx("div",{className:"flex flex-1 items-center justify-center",children:P.jsx("div",{className:"w-full max-w-xs",children:P.jsx(_z,{})})})]})})}async function YD(){if(!(await fetch("https://wafflebase-api.yorkie.dev/auth/logout",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to log out");li.success("Logged out successfully"),window.location.href="/login"}async function nh(){const e=await Oo("https://wafflebase-api.yorkie.dev/auth/me",{method:"GET",credentials:"include"});if(!e.ok)throw new Error("Failed to fetch user");return e.json()}async function Oo(e,t){const n=await fetch(e,{...t,credentials:"include"});if(n.status===401)throw await YD(),new Error("Unauthorized");return n}async function Oz(e){const t=await Oo("https://wafflebase-api.yorkie.dev/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create document");return t.json()}async function Dz(){const e=await Oo("https://wafflebase-api.yorkie.dev/documents");if(!e.ok)throw new Error("Failed to fetch documents");return await e.json()}async function Pz(e,t){const n=await Oo(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})});if(!n.ok)throw new Error("Failed to rename document");return n.json()}async function Mz(e){if((await Oo(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"DELETE"})).ok)li.success("Document deleted successfully");else throw li.error("Failed to delete document"),new Error("Failed to delete document")}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ic(e,t){return typeof e=="function"?e(t):e}function no(e,t){return n=>{t.setState(r=>({...r,[e]:Ic(n,r[e])}))}}function Lb(e){return e instanceof Function}function Lz(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Fz(e,t){const n=[],r=s=>{s.forEach(a=>{n.push(a);const c=t(a);c!=null&&c.length&&r(c)})};return r(e),n}function Rt(e,t,n){let r=[],s;return a=>{let c;n.key&&n.debug&&(c=Date.now());const d=e(a);if(!(d.length!==r.length||d.some((p,m)=>r[m]!==p)))return s;r=d;let g;if(n.key&&n.debug&&(g=Date.now()),s=t(...d),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-c)*100)/100,m=Math.round((Date.now()-g)*100)/100,x=m/16,b=(E,w)=>{for(E=String(E);E.length<w;)E=" "+E;return E};console.info(`%c ${b(m,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function Tt(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function kz(e,t,n,r){const s=()=>{var c;return(c=a.getValue())!=null?c:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:Rt(()=>[e,n,t,a],(c,d,h,g)=>({table:c,column:d,row:h,cell:g,getValue:g.getValue,renderValue:g.renderValue}),Tt(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(a,n,t,e)},{}),a}function Bz(e,t,n,r){var s,a;const d={...e._getDefaultColumnDef(),...t},h=d.accessorKey;let g=(s=(a=d.id)!=null?a:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?s:typeof d.header=="string"?d.header:void 0,p;if(d.accessorFn?p=d.accessorFn:h&&(h.includes(".")?p=x=>{let b=x;for(const w of h.split(".")){var E;b=(E=b)==null?void 0:E[w]}return b}:p=x=>x[d.accessorKey]),!g)throw new Error;let m={id:`${String(g)}`,accessorFn:p,parent:r,depth:n,columnDef:d,columns:[],getFlatColumns:Rt(()=>[!0],()=>{var x;return[m,...(x=m.columns)==null?void 0:x.flatMap(b=>b.getFlatColumns())]},Tt(e.options,"debugColumns")),getLeafColumns:Rt(()=>[e._getOrderColumnsFn()],x=>{var b;if((b=m.columns)!=null&&b.length){let E=m.columns.flatMap(w=>w.getLeafColumns());return x(E)}return[m]},Tt(e.options,"debugColumns"))};for(const x of e._features)x.createColumn==null||x.createColumn(m,e);return m}const ni="debugHeaders";function AR(e,t,n){var r;let a={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],d=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(d),c.push(h)};return d(a),c},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(a,e)}),a}const jz={createTable:e=>{e.getHeaderGroups=Rt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var a,c;const d=(a=r==null?void 0:r.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?a:[],h=(c=s==null?void 0:s.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?c:[],g=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(s!=null&&s.includes(m.id)));return zx(t,[...d,...g,...h],e)},Tt(e.options,ni)),e.getCenterHeaderGroups=Rt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(s!=null&&s.includes(a.id))),zx(t,n,e,"center")),Tt(e.options,ni)),e.getLeftHeaderGroups=Rt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const a=(s=r==null?void 0:r.map(c=>n.find(d=>d.id===c)).filter(Boolean))!=null?s:[];return zx(t,a,e,"left")},Tt(e.options,ni)),e.getRightHeaderGroups=Rt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const a=(s=r==null?void 0:r.map(c=>n.find(d=>d.id===c)).filter(Boolean))!=null?s:[];return zx(t,a,e,"right")},Tt(e.options,ni)),e.getFooterGroups=Rt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Tt(e.options,ni)),e.getLeftFooterGroups=Rt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Tt(e.options,ni)),e.getCenterFooterGroups=Rt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Tt(e.options,ni)),e.getRightFooterGroups=Rt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Tt(e.options,ni)),e.getFlatHeaders=Rt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,ni)),e.getLeftFlatHeaders=Rt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,ni)),e.getCenterFlatHeaders=Rt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,ni)),e.getRightFlatHeaders=Rt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,ni)),e.getCenterLeafHeaders=Rt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Tt(e.options,ni)),e.getLeftLeafHeaders=Rt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Tt(e.options,ni)),e.getRightLeafHeaders=Rt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Tt(e.options,ni)),e.getLeafHeaders=Rt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,a,c,d,h,g;return[...(s=(a=t[0])==null?void 0:a.headers)!=null?s:[],...(c=(d=n[0])==null?void 0:d.headers)!=null?c:[],...(h=(g=r[0])==null?void 0:g.headers)!=null?h:[]].map(p=>p.getLeafHeaders()).flat()},Tt(e.options,ni))}};function zx(e,t,n,r){var s,a;let c=0;const d=function(x,b){b===void 0&&(b=1),c=Math.max(c,b),x.filter(E=>E.getIsVisible()).forEach(E=>{var w;(w=E.columns)!=null&&w.length&&d(E.columns,b+1)},0)};d(e);let h=[];const g=(x,b)=>{const E={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},w=[];x.forEach(C=>{const T=[...w].reverse()[0],_=C.column.depth===E.depth;let I,O=!1;if(_&&C.column.parent?I=C.column.parent:(I=C.column,O=!0),T&&(T==null?void 0:T.column)===I)T.subHeaders.push(C);else{const L=AR(n,I,{id:[r,b,I.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:O,placeholderId:O?`${w.filter(k=>k.column===I).length}`:void 0,depth:b,index:w.length});L.subHeaders.push(C),w.push(L)}E.headers.push(C),C.headerGroup=E}),h.push(E),b>0&&g(w,b-1)},p=t.map((x,b)=>AR(n,x,{depth:c,index:b}));g(p,c-1),h.reverse();const m=x=>x.filter(E=>E.column.getIsVisible()).map(E=>{let w=0,C=0,T=[0];E.subHeaders&&E.subHeaders.length?(T=[],m(E.subHeaders).forEach(I=>{let{colSpan:O,rowSpan:L}=I;w+=O,T.push(L)})):w=1;const _=Math.min(...T);return C=C+_,E.colSpan=w,E.rowSpan=C,{colSpan:w,rowSpan:C}});return m((s=(a=h[0])==null?void 0:a.headers)!=null?s:[]),h}const sw=(e,t,n,r,s,a,c)=>{let d={id:t,index:r,original:n,depth:s,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(d._valuesCache.hasOwnProperty(h))return d._valuesCache[h];const g=e.getColumn(h);if(g!=null&&g.accessorFn)return d._valuesCache[h]=g.accessorFn(d.original,r),d._valuesCache[h]},getUniqueValues:h=>{if(d._uniqueValuesCache.hasOwnProperty(h))return d._uniqueValuesCache[h];const g=e.getColumn(h);if(g!=null&&g.accessorFn)return g.columnDef.getUniqueValues?(d._uniqueValuesCache[h]=g.columnDef.getUniqueValues(d.original,r),d._uniqueValuesCache[h]):(d._uniqueValuesCache[h]=[d.getValue(h)],d._uniqueValuesCache[h])},renderValue:h=>{var g;return(g=d.getValue(h))!=null?g:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Fz(d.subRows,h=>h.subRows),getParentRow:()=>d.parentId?e.getRow(d.parentId,!0):void 0,getParentRows:()=>{let h=[],g=d;for(;;){const p=g.getParentRow();if(!p)break;h.push(p),g=p}return h.reverse()},getAllCells:Rt(()=>[e.getAllLeafColumns()],h=>h.map(g=>kz(e,d,g,g.id)),Tt(e.options,"debugRows")),_getAllCellsByColumnId:Rt(()=>[d.getAllCells()],h=>h.reduce((g,p)=>(g[p.column.id]=p,g),{}),Tt(e.options,"debugRows"))};for(let h=0;h<e._features.length;h++){const g=e._features[h];g==null||g.createRow==null||g.createRow(d,e)}return d},zz={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},qD=(e,t,n)=>{var r,s;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(a))};qD.autoRemove=e=>ps(e);const KD=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};KD.autoRemove=e=>ps(e);const XD=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};XD.autoRemove=e=>ps(e);const ZD=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};ZD.autoRemove=e=>ps(e);const JD=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});JD.autoRemove=e=>ps(e)||!(e!=null&&e.length);const QD=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});QD.autoRemove=e=>ps(e)||!(e!=null&&e.length);const e3=(e,t,n)=>e.getValue(t)===n;e3.autoRemove=e=>ps(e);const t3=(e,t,n)=>e.getValue(t)==n;t3.autoRemove=e=>ps(e);const aw=(e,t,n)=>{let[r,s]=n;const a=e.getValue(t);return a>=r&&a<=s};aw.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(r)?-1/0:r,c=n===null||Number.isNaN(s)?1/0:s;if(a>c){const d=a;a=c,c=d}return[a,c]};aw.autoRemove=e=>ps(e)||ps(e[0])&&ps(e[1]);const iu={includesString:qD,includesStringSensitive:KD,equalsString:XD,arrIncludes:ZD,arrIncludesAll:JD,arrIncludesSome:QD,equals:e3,weakEquals:t3,inNumberRange:aw};function ps(e){return e==null||e===""}const Uz={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:no("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?iu.includesString:typeof r=="number"?iu.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?iu.equals:Array.isArray(r)?iu.arrIncludes:iu.weakEquals},e.getFilterFn=()=>{var n,r;return Lb(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:iu[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),a=r==null?void 0:r.find(p=>p.id===e.id),c=Ic(n,a?a.value:void 0);if(ER(s,c,e)){var d;return(d=r==null?void 0:r.filter(p=>p.id!==e.id))!=null?d:[]}const h={id:e.id,value:c};if(a){var g;return(g=r==null?void 0:r.map(p=>p.id===e.id?h:p))!=null?g:[]}return r!=null&&r.length?[...r,h]:[h]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var a;return(a=Ic(t,s))==null?void 0:a.filter(c=>{const d=n.find(h=>h.id===c.id);if(d){const h=d.getFilterFn();if(ER(h,c.value,d))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function ER(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Vz=(e,t,n)=>n.reduce((r,s)=>{const a=s.getValue(e);return r+(typeof a=="number"?a:0)},0),Gz=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},$z=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},Hz=(e,t,n)=>{let r,s;return n.forEach(a=>{const c=a.getValue(e);c!=null&&(r===void 0?c>=c&&(r=s=c):(r>c&&(r=c),s<c&&(s=c)))}),[r,s]},Wz=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let a=s.getValue(e);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},Yz=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!Lz(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((a,c)=>a-c);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},qz=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Kz=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Xz=(e,t)=>t.length,L1={sum:Vz,min:Gz,max:$z,extent:Hz,mean:Wz,median:Yz,unique:qz,uniqueCount:Kz,count:Xz},Zz={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:no("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return L1.sum;if(Object.prototype.toString.call(r)==="[object Date]")return L1.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Lb(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:L1[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function Jz(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(a=>!t.includes(a.id));return n==="remove"?r:[...t.map(a=>e.find(c=>c.id===a)).filter(Boolean),...r]}const Qz={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:no("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Rt(n=>[K0(t,n)],n=>n.findIndex(r=>r.id===e.id),Tt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=K0(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=K0(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Rt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let a=[];if(!(t!=null&&t.length))a=s;else{const c=[...t],d=[...s];for(;d.length&&c.length;){const h=c.shift(),g=d.findIndex(p=>p.id===h);g>-1&&a.push(d.splice(g,1)[0])}a=[...a,...d]}return Jz(a,n,r)},Tt(e.options,"debugTable"))}},F1=()=>({left:[],right:[]}),e5={getInitialState:e=>({columnPinning:F1(),...e}),getDefaultOptions:e=>({onColumnPinningChange:no("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var a,c;if(n==="right"){var d,h;return{left:((d=s==null?void 0:s.left)!=null?d:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((h=s==null?void 0:s.right)!=null?h:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var g,p;return{left:[...((g=s==null?void 0:s.left)!=null?g:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((p=s==null?void 0:s.right)!=null?p:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(m=>!(r!=null&&r.includes(m))),right:((c=s==null?void 0:s.right)!=null?c:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,a,c;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((a=(c=t.options.enableColumnPinning)!=null?c:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(d=>d.id),{left:r,right:s}=t.getState().columnPinning,a=n.some(d=>r==null?void 0:r.includes(d)),c=n.some(d=>s==null?void 0:s.includes(d));return a?"left":c?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Rt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const a=[...r??[],...s??[]];return n.filter(c=>!a.includes(c.column.id))},Tt(t.options,"debugRows")),e.getLeftVisibleCells=Rt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(c=>c.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),Tt(t.options,"debugRows")),e.getRightVisibleCells=Rt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(c=>c.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),Tt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?F1():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:F1())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,a;return!!((s=r.left)!=null&&s.length||(a=r.right)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Rt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Tt(e.options,"debugColumns")),e.getRightLeafColumns=Rt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Tt(e.options,"debugColumns")),e.getCenterLeafColumns=Rt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(a=>!s.includes(a.id))},Tt(e.options,"debugColumns"))}},Ux={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},k1=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),t5={getDefaultColumnDef:()=>Ux,getInitialState:e=>({columnSizing:{},columnSizingInfo:k1(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:no("columnSizing",e),onColumnSizingInfoChange:no("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Ux.minSize,(r=a??e.columnDef.size)!=null?r:Ux.size),(s=e.columnDef.maxSize)!=null?s:Ux.maxSize)},e.getStart=Rt(n=>[n,K0(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,a)=>s+a.getSize(),0),Tt(t.options,"debugColumns")),e.getAfter=Rt(n=>[n,K0(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,a)=>s+a.getSize(),0),Tt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var a;n+=(a=s.column.getSize())!=null?a:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return a=>{if(!r||!s||(a.persist==null||a.persist(),B1(a)&&a.touches&&a.touches.length>1))return;const c=e.getSize(),d=e?e.getLeafHeaders().map(T=>[T.column.id,T.column.getSize()]):[[r.id,r.getSize()]],h=B1(a)?Math.round(a.touches[0].clientX):a.clientX,g={},p=(T,_)=>{typeof _=="number"&&(t.setColumnSizingInfo(I=>{var O,L;const k=t.options.columnResizeDirection==="rtl"?-1:1,V=(_-((O=I==null?void 0:I.startOffset)!=null?O:0))*k,U=Math.max(V/((L=I==null?void 0:I.startSize)!=null?L:0),-.999999);return I.columnSizingStart.forEach(q=>{let[te,ie]=q;g[te]=Math.round(Math.max(ie+ie*U,0)*100)/100}),{...I,deltaOffset:V,deltaPercentage:U}}),(t.options.columnResizeMode==="onChange"||T==="end")&&t.setColumnSizing(I=>({...I,...g})))},m=T=>p("move",T),x=T=>{p("end",T),t.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=n||typeof document<"u"?document:null,E={moveHandler:T=>m(T.clientX),upHandler:T=>{b==null||b.removeEventListener("mousemove",E.moveHandler),b==null||b.removeEventListener("mouseup",E.upHandler),x(T.clientX)}},w={moveHandler:T=>(T.cancelable&&(T.preventDefault(),T.stopPropagation()),m(T.touches[0].clientX),!1),upHandler:T=>{var _;b==null||b.removeEventListener("touchmove",w.moveHandler),b==null||b.removeEventListener("touchend",w.upHandler),T.cancelable&&(T.preventDefault(),T.stopPropagation()),x((_=T.touches[0])==null?void 0:_.clientX)}},C=n5()?{passive:!1}:!1;B1(a)?(b==null||b.addEventListener("touchmove",w.moveHandler,C),b==null||b.addEventListener("touchend",w.upHandler,C)):(b==null||b.addEventListener("mousemove",E.moveHandler,C),b==null||b.addEventListener("mouseup",E.upHandler,C)),t.setColumnSizingInfo(T=>({...T,startOffset:h,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:d,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?k1():(n=e.initialState.columnSizingInfo)!=null?n:k1())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let Vx=null;function n5(){if(typeof Vx=="boolean")return Vx;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Vx=e,Vx}function B1(e){return e.type==="touchstart"}const r5={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:no("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Rt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Tt(t.options,"debugRows")),e.getVisibleCells=Rt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],Tt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Rt(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),Tt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,a)=>({...s,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function K0(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const i5={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},o5={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:no("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>iu.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Lb(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:iu[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},s5={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:no("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,a;e.setExpanded(r?{}:(s=(a=e.initialState)==null?void 0:a.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const c=a.split(".");r=Math.max(r,c.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const a=r===!0?!0:!!(r!=null&&r[e.id]);let c={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(d=>{c[d]=!0}):c=r,n=(s=n)!=null?s:!a,!a&&n)return{...c,[e.id]:!0};if(a&&!n){const{[e.id]:d,...h}=c;return h}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},fC=0,dC=10,j1=()=>({pageIndex:fC,pageSize:dC}),a5={getInitialState:e=>({...e,pagination:{...j1(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:no("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=a=>Ic(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?j1():(s=e.initialState.pagination)!=null?s:j1())},e.setPageIndex=r=>{e.setPagination(s=>{let a=Ic(r,s.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,c)),{...s,pageIndex:a}})},e.resetPageIndex=r=>{var s,a;e.setPageIndex(r?fC:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?s:fC)},e.resetPageSize=r=>{var s,a;e.setPageSize(r?dC:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?s:dC)},e.setPageSize=r=>{e.setPagination(s=>{const a=Math.max(1,Ic(r,s.pageSize)),c=s.pageSize*s.pageIndex,d=Math.floor(c/a);return{...s,pageIndex:d,pageSize:a}})},e.setPageCount=r=>e.setPagination(s=>{var a;let c=Ic(r,(a=e.options.pageCount)!=null?a:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...s,pageCount:c}}),e.getPageOptions=Rt(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((a,c)=>c)),s},Tt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},z1=()=>({top:[],bottom:[]}),l5={getInitialState:e=>({rowPinning:z1(),...e}),getDefaultOptions:e=>({onRowPinningChange:no("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const a=r?e.getLeafRows().map(h=>{let{id:g}=h;return g}):[],c=s?e.getParentRows().map(h=>{let{id:g}=h;return g}):[],d=new Set([...c,e.id,...a]);t.setRowPinning(h=>{var g,p;if(n==="bottom"){var m,x;return{top:((m=h==null?void 0:h.top)!=null?m:[]).filter(w=>!(d!=null&&d.has(w))),bottom:[...((x=h==null?void 0:h.bottom)!=null?x:[]).filter(w=>!(d!=null&&d.has(w))),...Array.from(d)]}}if(n==="top"){var b,E;return{top:[...((b=h==null?void 0:h.top)!=null?b:[]).filter(w=>!(d!=null&&d.has(w))),...Array.from(d)],bottom:((E=h==null?void 0:h.bottom)!=null?E:[]).filter(w=>!(d!=null&&d.has(w)))}}return{top:((g=h==null?void 0:h.top)!=null?g:[]).filter(w=>!(d!=null&&d.has(w))),bottom:((p=h==null?void 0:h.bottom)!=null?p:[]).filter(w=>!(d!=null&&d.has(w)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,a=n.some(d=>r==null?void 0:r.includes(d)),c=n.some(d=>s==null?void 0:s.includes(d));return a?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const a=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(c=>{let{id:d}=c;return d});return(r=a==null?void 0:a.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?z1():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:z1())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,a;return!!((s=r.top)!=null&&s.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(c=>{const d=e.getRow(c,!0);return d.getIsAllParentsExpanded()?d:null}):(n??[]).map(c=>t.find(d=>d.id===c))).filter(Boolean).map(c=>({...c,position:r}))},e.getTopRows=Rt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Tt(e.options,"debugRows")),e.getBottomRows=Rt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Tt(e.options,"debugRows")),e.getCenterRows=Rt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(a=>!s.has(a.id))},Tt(e.options,"debugRows"))}},u5={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:no("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):s.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(a=>{hC(s,a.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Rt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?U1(e,n):{rows:[],flatRows:[],rowsById:{}},Tt(e.options,"debugTable")),e.getFilteredSelectedRowModel=Rt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?U1(e,n):{rows:[],flatRows:[],rowsById:{}},Tt(e.options,"debugTable")),e.getGroupedSelectedRowModel=Rt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?U1(e,n):{rows:[],flatRows:[],rowsById:{}},Tt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(a=>{var c;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return a;const d={...a};return hC(d,e.id,n,(c=r==null?void 0:r.selectChildren)!=null?c:!0,t),d})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return lw(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return pC(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return pC(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},hC=(e,t,n,r,s)=>{var a;const c=s.getRow(t,!0);n?(c.getCanMultiSelect()||Object.keys(e).forEach(d=>delete e[d]),c.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=c.subRows)!=null&&a.length&&c.getCanSelectSubRows()&&c.subRows.forEach(d=>hC(e,d.id,n,r,s))};function U1(e,t){const n=e.getState().rowSelection,r=[],s={},a=function(c,d){return c.map(h=>{var g;const p=lw(h,n);if(p&&(r.push(h),s[h.id]=h),(g=h.subRows)!=null&&g.length&&(h={...h,subRows:a(h.subRows)}),p)return h}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:s}}function lw(e,t){var n;return(n=t[e.id])!=null?n:!1}function pC(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,a=!1;return e.subRows.forEach(c=>{if(!(a&&!s)&&(c.getCanSelect()&&(lw(c,t)?a=!0:s=!1),c.subRows&&c.subRows.length)){const d=pC(c,t);d==="all"?a=!0:(d==="some"&&(a=!0),s=!1)}}),s?"all":a?"some":!1}const gC=/([0-9]+)/gm,c5=(e,t,n)=>n3(Lc(e.getValue(n)).toLowerCase(),Lc(t.getValue(n)).toLowerCase()),f5=(e,t,n)=>n3(Lc(e.getValue(n)),Lc(t.getValue(n))),d5=(e,t,n)=>uw(Lc(e.getValue(n)).toLowerCase(),Lc(t.getValue(n)).toLowerCase()),h5=(e,t,n)=>uw(Lc(e.getValue(n)),Lc(t.getValue(n))),p5=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},g5=(e,t,n)=>uw(e.getValue(n),t.getValue(n));function uw(e,t){return e===t?0:e>t?1:-1}function Lc(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function n3(e,t){const n=e.split(gC).filter(Boolean),r=t.split(gC).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),a=r.shift(),c=parseInt(s,10),d=parseInt(a,10),h=[c,d].sort();if(isNaN(h[0])){if(s>a)return 1;if(a>s)return-1;continue}if(isNaN(h[1]))return isNaN(c)?-1:1;if(c>d)return 1;if(d>c)return-1}return n.length-r.length}const d0={alphanumeric:c5,alphanumericCaseSensitive:f5,text:d5,textCaseSensitive:h5,datetime:p5,basic:g5},m5={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:no("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const a=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return d0.datetime;if(typeof a=="string"&&(r=!0,a.split(gC).length>1))return d0.alphanumeric}return r?d0.text:d0.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Lb(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:d0[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(c=>{const d=c==null?void 0:c.find(b=>b.id===e.id),h=c==null?void 0:c.findIndex(b=>b.id===e.id);let g=[],p,m=a?n:s==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&r?d?p="toggle":p="add":c!=null&&c.length&&h!==c.length-1?p="replace":d?p="toggle":p="replace",p==="toggle"&&(a||s||(p="remove")),p==="add"){var x;g=[...c,{id:e.id,desc:m}],g.splice(0,g.length-((x=t.options.maxMultiSortColCount)!=null?x:Number.MAX_SAFE_INTEGER))}else p==="toggle"?g=c.map(b=>b.id===e.id?{...b,desc:m}:b):p==="remove"?g=c.filter(b=>b.id!==e.id):g=[{id:e.id,desc:m}];return g})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const a=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:c==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},y5=[jz,r5,Qz,e5,zz,Uz,i5,o5,m5,Zz,s5,a5,l5,u5,t5];function v5(e){var t,n;const r=[...y5,...(t=e._features)!=null?t:[]];let s={_features:r};const a=s._features.reduce((x,b)=>Object.assign(x,b.getDefaultOptions==null?void 0:b.getDefaultOptions(s)),{}),c=x=>s.options.mergeOptions?s.options.mergeOptions(a,x):{...a,...x};let h={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(x=>{var b;h=(b=x.getInitialState==null?void 0:x.getInitialState(h))!=null?b:h});const g=[];let p=!1;const m={_features:r,options:{...a,...e},initialState:h,_queue:x=>{g.push(x),p||(p=!0,Promise.resolve().then(()=>{for(;g.length;)g.shift()();p=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{s.setState(s.initialState)},setOptions:x=>{const b=Ic(x,s.options);s.options=c(b)},getState:()=>s.options.state,setState:x=>{s.options.onStateChange==null||s.options.onStateChange(x)},_getRowId:(x,b,E)=>{var w;return(w=s.options.getRowId==null?void 0:s.options.getRowId(x,b,E))!=null?w:`${E?[E.id,b].join("."):b}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(x,b)=>{let E=(b?s.getPrePaginationRowModel():s.getRowModel()).rowsById[x];if(!E&&(E=s.getCoreRowModel().rowsById[x],!E))throw new Error;return E},_getDefaultColumnDef:Rt(()=>[s.options.defaultColumn],x=>{var b;return x=(b=x)!=null?b:{},{header:E=>{const w=E.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:E=>{var w,C;return(w=(C=E.renderValue())==null||C.toString==null?void 0:C.toString())!=null?w:null},...s._features.reduce((E,w)=>Object.assign(E,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...x}},Tt(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:Rt(()=>[s._getColumnDefs()],x=>{const b=function(E,w,C){return C===void 0&&(C=0),E.map(T=>{const _=Bz(s,T,C,w),I=T;return _.columns=I.columns?b(I.columns,_,C+1):[],_})};return b(x)},Tt(e,"debugColumns")),getAllFlatColumns:Rt(()=>[s.getAllColumns()],x=>x.flatMap(b=>b.getFlatColumns()),Tt(e,"debugColumns")),_getAllFlatColumnsById:Rt(()=>[s.getAllFlatColumns()],x=>x.reduce((b,E)=>(b[E.id]=E,b),{}),Tt(e,"debugColumns")),getAllLeafColumns:Rt(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(x,b)=>{let E=x.flatMap(w=>w.getLeafColumns());return b(E)},Tt(e,"debugColumns")),getColumn:x=>s._getAllFlatColumnsById()[x]};Object.assign(s,m);for(let x=0;x<s._features.length;x++){const b=s._features[x];b==null||b.createTable==null||b.createTable(s)}return s}function x5(){return e=>Rt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,a,c){a===void 0&&(a=0);const d=[];for(let g=0;g<s.length;g++){const p=sw(e,e._getRowId(s[g],g,c),s[g],g,a,void 0,c==null?void 0:c.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,d.push(p),e.options.getSubRows){var h;p.originalSubRows=e.options.getSubRows(s[g],g),(h=p.originalSubRows)!=null&&h.length&&(p.subRows=r(p.originalSubRows,a+1,p))}}return d};return n.rows=r(t),n},Tt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function b5(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function S5(e,t,n){return n.options.filterFromLeafRows?A5(e,t,n):E5(e,t,n)}function A5(e,t,n){var r;const s=[],a={},c=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,d=function(h,g){g===void 0&&(g=0);const p=[];for(let x=0;x<h.length;x++){var m;let b=h[x];const E=sw(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(E.columnFilters=b.columnFilters,(m=b.subRows)!=null&&m.length&&g<c){if(E.subRows=d(b.subRows,g+1),b=E,t(b)&&!E.subRows.length){p.push(b),a[b.id]=b,s.push(b);continue}if(t(b)||E.subRows.length){p.push(b),a[b.id]=b,s.push(b);continue}}else b=E,t(b)&&(p.push(b),a[b.id]=b,s.push(b))}return p};return{rows:d(e),flatRows:s,rowsById:a}}function E5(e,t,n){var r;const s=[],a={},c=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,d=function(h,g){g===void 0&&(g=0);const p=[];for(let x=0;x<h.length;x++){let b=h[x];if(t(b)){var m;if((m=b.subRows)!=null&&m.length&&g<c){const w=sw(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);w.subRows=d(b.subRows,g+1),b=w}p.push(b),s.push(b),a[b.id]=b}}return p};return{rows:d(e),flatRows:s,rowsById:a}}function C5(){return e=>Rt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let x=0;x<t.flatRows.length;x++)t.flatRows[x].columnFilters={},t.flatRows[x].columnFiltersMeta={};return t}const s=[],a=[];(n??[]).forEach(x=>{var b;const E=e.getColumn(x.id);if(!E)return;const w=E.getFilterFn();w&&s.push({id:x.id,filterFn:w,resolvedValue:(b=w.resolveFilterValue==null?void 0:w.resolveFilterValue(x.value))!=null?b:x.value})});const c=(n??[]).map(x=>x.id),d=e.getGlobalFilterFn(),h=e.getAllLeafColumns().filter(x=>x.getCanGlobalFilter());r&&d&&h.length&&(c.push("__global__"),h.forEach(x=>{var b;a.push({id:x.id,filterFn:d,resolvedValue:(b=d.resolveFilterValue==null?void 0:d.resolveFilterValue(r))!=null?b:r})}));let g,p;for(let x=0;x<t.flatRows.length;x++){const b=t.flatRows[x];if(b.columnFilters={},s.length)for(let E=0;E<s.length;E++){g=s[E];const w=g.id;b.columnFilters[w]=g.filterFn(b,w,g.resolvedValue,C=>{b.columnFiltersMeta[w]=C})}if(a.length){for(let E=0;E<a.length;E++){p=a[E];const w=p.id;if(p.filterFn(b,w,p.resolvedValue,C=>{b.columnFiltersMeta[w]=C})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const m=x=>{for(let b=0;b<c.length;b++)if(x.columnFilters[c[b]]===!1)return!1;return!0};return S5(t.rows,m,e)},Tt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function w5(e){return t=>Rt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:a}=n;let{rows:c,flatRows:d,rowsById:h}=r;const g=s*a,p=g+s;c=c.slice(g,p);let m;t.options.paginateExpandedRows?m={rows:c,flatRows:d,rowsById:h}:m=b5({rows:c,flatRows:d,rowsById:h}),m.flatRows=[];const x=b=>{m.flatRows.push(b),b.subRows.length&&b.subRows.forEach(x)};return m.rows.forEach(x),m},Tt(t.options,"debugTable"))}function R5(){return e=>Rt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],a=r.filter(h=>{var g;return(g=e.getColumn(h.id))==null?void 0:g.getCanSort()}),c={};a.forEach(h=>{const g=e.getColumn(h.id);g&&(c[h.id]={sortUndefined:g.columnDef.sortUndefined,invertSorting:g.columnDef.invertSorting,sortingFn:g.getSortingFn()})});const d=h=>{const g=h.map(p=>({...p}));return g.sort((p,m)=>{for(let b=0;b<a.length;b+=1){var x;const E=a[b],w=c[E.id],C=w.sortUndefined,T=(x=E==null?void 0:E.desc)!=null?x:!1;let _=0;if(C){const I=p.getValue(E.id),O=m.getValue(E.id),L=I===void 0,k=O===void 0;if(L||k){if(C==="first")return L?-1:1;if(C==="last")return L?1:-1;_=L&&k?0:L?C:-C}}if(_===0&&(_=w.sortingFn(p,m,E.id)),_!==0)return T&&(_*=-1),w.invertSorting&&(_*=-1),_}return p.index-m.index}),g.forEach(p=>{var m;s.push(p),(m=p.subRows)!=null&&m.length&&(p.subRows=d(p.subRows))}),g};return{rows:d(n.rows),flatRows:s,rowsById:n.rowsById}},Tt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function CR(e,t){return e?T5(e)?F.createElement(e,t):e:null}function T5(e){return N5(e)||typeof e=="function"||_5(e)}function N5(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function _5(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function I5(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=F.useState(()=>({current:v5(t)})),[r,s]=F.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:c=>{s(c),e.onStateChange==null||e.onStateChange(c)}})),n.current}const Gx=43200,wR=1440,RR=Symbol.for("constructDateFrom");function cw(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&RR in e?e[RR](t):e instanceof Date?new e.constructor(t):new Date(t)}function Fc(e,t){return cw(e,e)}let O5={};function D5(){return O5}function TR(e){const t=Fc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function fw(e,...t){const n=cw.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function ob(e,t){const n=+Fc(e)-+Fc(t);return n<0?-1:n>0?1:n}function P5(e){return cw(e,Date.now())}function M5(e,t,n){const[r,s]=fw(n==null?void 0:n.in,e,t),a=r.getFullYear()-s.getFullYear(),c=r.getMonth()-s.getMonth();return a*12+c}function L5(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function F5(e,t){return+Fc(e)-+Fc(t)}function k5(e,t){const n=Fc(e);return n.setHours(23,59,59,999),n}function B5(e,t){const n=Fc(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function j5(e,t){const n=Fc(e);return+k5(n)==+B5(n)}function z5(e,t,n){const[r,s,a]=fw(n==null?void 0:n.in,e,e,t),c=ob(s,a),d=Math.abs(M5(s,a));if(d<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-c*d);let h=ob(s,a)===-c;j5(r)&&d===1&&ob(r,a)===1&&(h=!1);const g=c*(d-+h);return g===0?0:g}function U5(e,t,n){const r=F5(e,t)/1e3;return L5(n==null?void 0:n.roundingMethod)(r)}const V5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},G5=(e,t,n)=>{let r;const s=V5[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function V1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const $5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},H5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},W5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Y5={date:V1({formats:$5,defaultWidth:"full"}),time:V1({formats:H5,defaultWidth:"full"}),dateTime:V1({formats:W5,defaultWidth:"full"})},q5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},K5=(e,t,n,r)=>q5[e];function h0(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=n!=null&&n.width?String(n.width):c;s=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[d]||e.values[c]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const X5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Z5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},J5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Q5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nU=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},rU={ordinalNumber:nU,era:h0({values:X5,defaultWidth:"wide"}),quarter:h0({values:Z5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:h0({values:J5,defaultWidth:"wide"}),day:h0({values:Q5,defaultWidth:"wide"}),dayPeriod:h0({values:eU,defaultWidth:"wide",formattingValues:tU,defaultFormattingWidth:"wide"})};function p0(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const c=a[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(d)?oU(d,m=>m.test(c)):iU(d,m=>m.test(c));let g;g=e.valueCallback?e.valueCallback(h):h,g=n.valueCallback?n.valueCallback(g):g;const p=t.slice(c.length);return{value:g,rest:p}}}function iU(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function oU(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function sU(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let c=e.valueCallback?e.valueCallback(a[0]):a[0];c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(s.length);return{value:c,rest:d}}}const aU=/^(\d+)(th|st|nd|rd)?/i,lU=/\d+/i,uU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cU={any:[/^b/i,/^(a|c)/i]},fU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dU={any:[/1/i,/2/i,/3/i,/4/i]},hU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xU={ordinalNumber:sU({matchPattern:aU,parsePattern:lU,valueCallback:e=>parseInt(e,10)}),era:p0({matchPatterns:uU,defaultMatchWidth:"wide",parsePatterns:cU,defaultParseWidth:"any"}),quarter:p0({matchPatterns:fU,defaultMatchWidth:"wide",parsePatterns:dU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:p0({matchPatterns:hU,defaultMatchWidth:"wide",parsePatterns:pU,defaultParseWidth:"any"}),day:p0({matchPatterns:gU,defaultMatchWidth:"wide",parsePatterns:mU,defaultParseWidth:"any"}),dayPeriod:p0({matchPatterns:yU,defaultMatchWidth:"any",parsePatterns:vU,defaultParseWidth:"any"})},bU={code:"en-US",formatDistance:G5,formatLong:Y5,formatRelative:K5,localize:rU,match:xU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SU(e,t,n){const r=D5(),s=(n==null?void 0:n.locale)??r.locale??bU,a=2520,c=ob(e,t);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:c}),[h,g]=fw(n==null?void 0:n.in,...c>0?[t,e]:[e,t]),p=U5(g,h),m=(TR(g)-TR(h))/1e3,x=Math.round((p-m)/60);let b;if(x<2)return n!=null&&n.includeSeconds?p<5?s.formatDistance("lessThanXSeconds",5,d):p<10?s.formatDistance("lessThanXSeconds",10,d):p<20?s.formatDistance("lessThanXSeconds",20,d):p<40?s.formatDistance("halfAMinute",0,d):p<60?s.formatDistance("lessThanXMinutes",1,d):s.formatDistance("xMinutes",1,d):x===0?s.formatDistance("lessThanXMinutes",1,d):s.formatDistance("xMinutes",x,d);if(x<45)return s.formatDistance("xMinutes",x,d);if(x<90)return s.formatDistance("aboutXHours",1,d);if(x<wR){const E=Math.round(x/60);return s.formatDistance("aboutXHours",E,d)}else{if(x<a)return s.formatDistance("xDays",1,d);if(x<Gx){const E=Math.round(x/wR);return s.formatDistance("xDays",E,d)}else if(x<Gx*2)return b=Math.round(x/Gx),s.formatDistance("aboutXMonths",b,d)}if(b=z5(g,h),b<12){const E=Math.round(x/Gx);return s.formatDistance("xMonths",E,d)}else{const E=b%12,w=Math.trunc(b/12);return E<3?s.formatDistance("aboutXYears",w,d):E<9?s.formatDistance("overXYears",w,d):s.formatDistance("almostXYears",w+1,d)}}function AU(e,t){return SU(e,P5(e),t)}function EU(e,t){const n=F.createContext(t),r=a=>{const{children:c,...d}=a,h=F.useMemo(()=>d,Object.values(d));return P.jsx(n.Provider,{value:h,children:c})};r.displayName=e+"Provider";function s(a){const c=F.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function bs(e,t=[]){let n=[];function r(a,c){const d=F.createContext(c),h=n.length;n=[...n,c];const g=m=>{var T;const{scope:x,children:b,...E}=m,w=((T=x==null?void 0:x[e])==null?void 0:T[h])||d,C=F.useMemo(()=>E,Object.values(E));return P.jsx(w.Provider,{value:C,children:b})};g.displayName=a+"Provider";function p(m,x){var w;const b=((w=x==null?void 0:x[e])==null?void 0:w[h])||d,E=F.useContext(b);if(E)return E;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[g,p]}const s=()=>{const a=n.map(c=>F.createContext(c));return function(d){const h=(d==null?void 0:d[e])||a;return F.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return s.scopeName=e,[r,CU(s,...t)]}function CU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const c=r.reduce((d,{useScope:h,scopeName:g})=>{const m=h(a)[`__scope${g}`];return{...d,...m}},{});return F.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function st(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ro(e){const t=F.useRef(e);return F.useEffect(()=>{t.current=e}),F.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function kc({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=wU({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:r,d=ro(n),h=F.useCallback(g=>{if(a){const m=typeof g=="function"?g(e):g;m!==e&&d(m)}else s(g)},[a,e,s,d]);return[c,h]}function wU({defaultProp:e,onChange:t}){const n=F.useState(e),[r]=n,s=F.useRef(r),a=ro(t);return F.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}function dw(e){const t=F.useRef({value:e,previous:e});return F.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ar=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{};function hw(e){const[t,n]=F.useState(void 0);return Ar(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let c,d;if("borderBoxSize"in a){const h=a.borderBoxSize,g=Array.isArray(h)?h[0]:h;c=g.inlineSize,d=g.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function RU(e,t){return F.useReducer((n,r)=>t[n][r]??n,e)}var Ss=e=>{const{present:t,children:n}=e,r=TU(t),s=typeof n=="function"?n({present:r.isPresent}):F.Children.only(n),a=ln(r.ref,NU(s));return typeof n=="function"||r.isPresent?F.cloneElement(s,{ref:a}):null};Ss.displayName="Presence";function TU(e){const[t,n]=F.useState(),r=F.useRef({}),s=F.useRef(e),a=F.useRef("none"),c=e?"mounted":"unmounted",[d,h]=RU(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const g=$x(r.current);a.current=d==="mounted"?g:"none"},[d]),Ar(()=>{const g=r.current,p=s.current;if(p!==e){const x=a.current,b=$x(g);e?h("MOUNT"):b==="none"||(g==null?void 0:g.display)==="none"?h("UNMOUNT"):h(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,h]),Ar(()=>{if(t){let g;const p=t.ownerDocument.defaultView??window,m=b=>{const w=$x(r.current).includes(b.animationName);if(b.target===t&&w&&(h("ANIMATION_END"),!s.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},x=b=>{b.target===t&&(a.current=$x(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:F.useCallback(g=>{g&&(r.current=getComputedStyle(g)),n(g)},[])}}function $x(e){return(e==null?void 0:e.animationName)||"none"}function NU(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _U=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Bt=_U.reduce((e,t)=>{const n=Mc(`Primitive.${t}`),r=F.forwardRef((s,a)=>{const{asChild:c,...d}=s,h=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(h,{...d,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function r3(e,t){e&&fy.flushSync(()=>e.dispatchEvent(t))}var pw="Checkbox",[IU,_7]=bs(pw),[OU,DU]=IU(pw),i3=F.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:c,disabled:d,value:h="on",onCheckedChange:g,form:p,...m}=e,[x,b]=F.useState(null),E=ln(t,O=>b(O)),w=F.useRef(!1),C=x?p||!!x.closest("form"):!0,[T=!1,_]=kc({prop:s,defaultProp:a,onChange:g}),I=F.useRef(T);return F.useEffect(()=>{const O=x==null?void 0:x.form;if(O){const L=()=>_(I.current);return O.addEventListener("reset",L),()=>O.removeEventListener("reset",L)}},[x,_]),P.jsxs(OU,{scope:n,state:T,disabled:d,children:[P.jsx(Bt.button,{type:"button",role:"checkbox","aria-checked":Oc(T)?"mixed":T,"aria-required":c,"data-state":a3(T),"data-disabled":d?"":void 0,disabled:d,value:h,...m,ref:E,onKeyDown:st(e.onKeyDown,O=>{O.key==="Enter"&&O.preventDefault()}),onClick:st(e.onClick,O=>{_(L=>Oc(L)?!0:!L),C&&(w.current=O.isPropagationStopped(),w.current||O.stopPropagation())})}),C&&P.jsx(PU,{control:x,bubbles:!w.current,name:r,value:h,checked:T,required:c,disabled:d,form:p,style:{transform:"translateX(-100%)"},defaultChecked:Oc(a)?!1:a})]})});i3.displayName=pw;var o3="CheckboxIndicator",s3=F.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=DU(o3,n);return P.jsx(Ss,{present:r||Oc(a.state)||a.state===!0,children:P.jsx(Bt.span,{"data-state":a3(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});s3.displayName=o3;var PU=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,c=F.useRef(null),d=dw(n),h=hw(t);F.useEffect(()=>{const p=c.current,m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&b){const E=new Event("click",{bubbles:r});p.indeterminate=Oc(n),b.call(p,Oc(n)?!1:n),p.dispatchEvent(E)}},[d,n,r]);const g=F.useRef(Oc(n)?!1:n);return P.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??g.current,...a,tabIndex:-1,ref:c,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Oc(e){return e==="indeterminate"}function a3(e){return Oc(e)?"indeterminate":e?"checked":"unchecked"}var MU=i3,LU=s3;function NR({className:e,...t}){return P.jsx(MU,{"data-slot":"checkbox",className:xt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:P.jsx(LU,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:P.jsx(_D,{className:"size-3.5"})})})}var FU=ZO[" useId ".trim().toString()]||(()=>{}),kU=0;function da(e){const[t,n]=F.useState(FU());return Ar(()=>{n(r=>r??String(kU++))},[e]),e||(t?`radix-${t}`:"")}function BU(e,t=globalThis==null?void 0:globalThis.document){const n=ro(e);F.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var jU="DismissableLayer",mC="dismissableLayer.update",zU="dismissableLayer.pointerDownOutside",UU="dismissableLayer.focusOutside",_R,l3=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dy=F.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:c,onDismiss:d,...h}=e,g=F.useContext(l3),[p,m]=F.useState(null),x=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=F.useState({}),E=ln(t,V=>m(V)),w=Array.from(g.layers),[C]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),T=w.indexOf(C),_=p?w.indexOf(p):-1,I=g.layersWithOutsidePointerEventsDisabled.size>0,O=_>=T,L=$U(V=>{const U=V.target,q=[...g.branches].some(te=>te.contains(U));!O||q||(s==null||s(V),c==null||c(V),V.defaultPrevented||d==null||d())},x),k=HU(V=>{const U=V.target;[...g.branches].some(te=>te.contains(U))||(a==null||a(V),c==null||c(V),V.defaultPrevented||d==null||d())},x);return BU(V=>{_===g.layers.size-1&&(r==null||r(V),!V.defaultPrevented&&d&&(V.preventDefault(),d()))},x),F.useEffect(()=>{if(p)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(_R=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(p)),g.layers.add(p),IR(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=_R)}},[p,x,n,g]),F.useEffect(()=>()=>{p&&(g.layers.delete(p),g.layersWithOutsidePointerEventsDisabled.delete(p),IR())},[p,g]),F.useEffect(()=>{const V=()=>b({});return document.addEventListener(mC,V),()=>document.removeEventListener(mC,V)},[]),P.jsx(Bt.div,{...h,ref:E,style:{pointerEvents:I?O?"auto":"none":void 0,...e.style},onFocusCapture:st(e.onFocusCapture,k.onFocusCapture),onBlurCapture:st(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:st(e.onPointerDownCapture,L.onPointerDownCapture)})});dy.displayName=jU;var VU="DismissableLayerBranch",GU=F.forwardRef((e,t)=>{const n=F.useContext(l3),r=F.useRef(null),s=ln(t,r);return F.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),P.jsx(Bt.div,{...e,ref:s})});GU.displayName=VU;function $U(e,t=globalThis==null?void 0:globalThis.document){const n=ro(e),r=F.useRef(!1),s=F.useRef(()=>{});return F.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let h=function(){u3(zU,n,g,{discrete:!0})};const g={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=h,t.addEventListener("click",s.current,{once:!0})):h()}else t.removeEventListener("click",s.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function HU(e,t=globalThis==null?void 0:globalThis.document){const n=ro(e),r=F.useRef(!1);return F.useEffect(()=>{const s=a=>{a.target&&!r.current&&u3(UU,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function IR(){const e=new CustomEvent(mC);document.dispatchEvent(e)}function u3(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?r3(s,a):s.dispatchEvent(a)}var G1="focusScope.autoFocusOnMount",$1="focusScope.autoFocusOnUnmount",OR={bubbles:!1,cancelable:!0},WU="FocusScope",Fb=F.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...c}=e,[d,h]=F.useState(null),g=ro(s),p=ro(a),m=F.useRef(null),x=ln(t,w=>h(w)),b=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(r){let w=function(I){if(b.paused||!d)return;const O=I.target;d.contains(O)?m.current=O:gc(m.current,{select:!0})},C=function(I){if(b.paused||!d)return;const O=I.relatedTarget;O!==null&&(d.contains(O)||gc(m.current,{select:!0}))},T=function(I){if(document.activeElement===document.body)for(const L of I)L.removedNodes.length>0&&gc(d)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const _=new MutationObserver(T);return d&&_.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),_.disconnect()}}},[r,d,b.paused]),F.useEffect(()=>{if(d){PR.add(b);const w=document.activeElement;if(!d.contains(w)){const T=new CustomEvent(G1,OR);d.addEventListener(G1,g),d.dispatchEvent(T),T.defaultPrevented||(YU(JU(c3(d)),{select:!0}),document.activeElement===w&&gc(d))}return()=>{d.removeEventListener(G1,g),setTimeout(()=>{const T=new CustomEvent($1,OR);d.addEventListener($1,p),d.dispatchEvent(T),T.defaultPrevented||gc(w??document.body,{select:!0}),d.removeEventListener($1,p),PR.remove(b)},0)}}},[d,g,p,b]);const E=F.useCallback(w=>{if(!n&&!r||b.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,T=document.activeElement;if(C&&T){const _=w.currentTarget,[I,O]=qU(_);I&&O?!w.shiftKey&&T===O?(w.preventDefault(),n&&gc(I,{select:!0})):w.shiftKey&&T===I&&(w.preventDefault(),n&&gc(O,{select:!0})):T===_&&w.preventDefault()}},[n,r,b.paused]);return P.jsx(Bt.div,{tabIndex:-1,...c,ref:x,onKeyDown:E})});Fb.displayName=WU;function YU(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(gc(r,{select:t}),document.activeElement!==n)return}function qU(e){const t=c3(e),n=DR(t,e),r=DR(t.reverse(),e);return[n,r]}function c3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function DR(e,t){for(const n of e)if(!KU(n,{upTo:t}))return n}function KU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XU(e){return e instanceof HTMLInputElement&&"select"in e}function gc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&XU(e)&&t&&e.select()}}var PR=ZU();function ZU(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=MR(e,t),e.unshift(t)},remove(t){var n;e=MR(e,t),(n=e[0])==null||n.resume()}}}function MR(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function JU(e){return e.filter(t=>t.tagName!=="A")}var QU="Portal",hy=F.forwardRef((e,t)=>{var d;const{container:n,...r}=e,[s,a]=F.useState(!1);Ar(()=>a(!0),[]);const c=n||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?pD.createPortal(P.jsx(Bt.div,{...r,ref:t}),c):null});hy.displayName=QU;var H1=0;function gw(){F.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??LR()),document.body.insertAdjacentElement("beforeend",e[1]??LR()),H1++,()=>{H1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),H1--}},[])}function LR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fa=function(){return fa=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},fa.apply(this,arguments)};function f3(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function eV(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var sb="right-scroll-bar-position",ab="width-before-scroll-bar",tV="with-scroll-bars-hidden",nV="--removed-body-scroll-bar-size";function W1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rV(e,t){var n=F.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var iV=typeof window<"u"?F.useLayoutEffect:F.useEffect,FR=new WeakMap;function oV(e,t){var n=rV(null,function(r){return e.forEach(function(s){return W1(s,r)})});return iV(function(){var r=FR.get(n);if(r){var s=new Set(r),a=new Set(e),c=n.current;s.forEach(function(d){a.has(d)||W1(d,null)}),a.forEach(function(d){s.has(d)||W1(d,c)})}FR.set(n,e)},[e]),n}function sV(e){return e}function aV(e,t){t===void 0&&(t=sV);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var c=t(a,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(a){for(r=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(a),c=n}var h=function(){var p=c;c=[],p.forEach(a)},g=function(){return Promise.resolve().then(h)};g(),n={push:function(p){c.push(p),g()},filter:function(p){return c=c.filter(p),n}}}};return s}function lV(e){e===void 0&&(e={});var t=aV(null);return t.options=fa({async:!0,ssr:!1},e),t}var d3=function(e){var t=e.sideCar,n=f3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return F.createElement(r,fa({},n))};d3.isSideCarExport=!0;function uV(e,t){return e.useMedium(t),d3}var h3=lV(),Y1=function(){},kb=F.forwardRef(function(e,t){var n=F.useRef(null),r=F.useState({onScrollCapture:Y1,onWheelCapture:Y1,onTouchMoveCapture:Y1}),s=r[0],a=r[1],c=e.forwardProps,d=e.children,h=e.className,g=e.removeScrollBar,p=e.enabled,m=e.shards,x=e.sideCar,b=e.noIsolation,E=e.inert,w=e.allowPinchZoom,C=e.as,T=C===void 0?"div":C,_=e.gapMode,I=f3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=x,L=oV([n,t]),k=fa(fa({},I),s);return F.createElement(F.Fragment,null,p&&F.createElement(O,{sideCar:h3,removeScrollBar:g,shards:m,noIsolation:b,inert:E,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:_}),c?F.cloneElement(F.Children.only(d),fa(fa({},k),{ref:L})):F.createElement(T,fa({},k,{className:h,ref:L}),d))});kb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kb.classNames={fullWidth:ab,zeroRight:sb};var cV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cV();return t&&e.setAttribute("nonce",t),e}function dV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var pV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=fV())&&(dV(t,n),hV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gV=function(){var e=pV();return function(t,n){F.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},p3=function(){var e=gV(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},mV={left:0,top:0,right:0,gap:0},q1=function(e){return parseInt(e||"",10)||0},yV=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[q1(n),q1(r),q1(s)]},vV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mV;var t=yV(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},xV=p3(),Mp="data-scroll-locked",bV=function(e,t,n,r){var s=e.left,a=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(tV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Mp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sb,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(ab,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(sb," .").concat(sb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ab," .").concat(ab,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mp,`] {
    `).concat(nV,": ").concat(d,`px;
  }
`)},kR=function(){var e=parseInt(document.body.getAttribute(Mp)||"0",10);return isFinite(e)?e:0},SV=function(){F.useEffect(function(){return document.body.setAttribute(Mp,(kR()+1).toString()),function(){var e=kR()-1;e<=0?document.body.removeAttribute(Mp):document.body.setAttribute(Mp,e.toString())}},[])},AV=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;SV();var a=F.useMemo(function(){return vV(s)},[s]);return F.createElement(xV,{styles:bV(a,!t,s,n?"":"!important")})},yC=!1;if(typeof window<"u")try{var Hx=Object.defineProperty({},"passive",{get:function(){return yC=!0,!0}});window.addEventListener("test",Hx,Hx),window.removeEventListener("test",Hx,Hx)}catch{yC=!1}var Rp=yC?{passive:!1}:!1,EV=function(e){return e.tagName==="TEXTAREA"},g3=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!EV(e)&&n[t]==="visible")},CV=function(e){return g3(e,"overflowY")},wV=function(e){return g3(e,"overflowX")},BR=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=m3(e,r);if(s){var a=y3(e,r),c=a[1],d=a[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},RV=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},TV=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},m3=function(e,t){return e==="v"?CV(t):wV(t)},y3=function(e,t){return e==="v"?RV(t):TV(t)},NV=function(e,t){return e==="h"&&t==="rtl"?-1:1},_V=function(e,t,n,r,s){var a=NV(e,window.getComputedStyle(t).direction),c=a*r,d=n.target,h=t.contains(d),g=!1,p=c>0,m=0,x=0;do{var b=y3(e,d),E=b[0],w=b[1],C=b[2],T=w-C-a*E;(E||T)&&m3(e,d)&&(m+=T,x+=E),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(g=!0),g},Wx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jR=function(e){return[e.deltaX,e.deltaY]},zR=function(e){return e&&"current"in e?e.current:e},IV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},OV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},DV=0,Tp=[];function PV(e){var t=F.useRef([]),n=F.useRef([0,0]),r=F.useRef(),s=F.useState(DV++)[0],a=F.useState(p3)[0],c=F.useRef(e);F.useEffect(function(){c.current=e},[e]),F.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=eV([e.lockRef.current],(e.shards||[]).map(zR),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var d=F.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var T=Wx(w),_=n.current,I="deltaX"in w?w.deltaX:_[0]-T[0],O="deltaY"in w?w.deltaY:_[1]-T[1],L,k=w.target,V=Math.abs(I)>Math.abs(O)?"h":"v";if("touches"in w&&V==="h"&&k.type==="range")return!1;var U=BR(V,k);if(!U)return!0;if(U?L=V:(L=V==="v"?"h":"v",U=BR(V,k)),!U)return!1;if(!r.current&&"changedTouches"in w&&(I||O)&&(r.current=L),!L)return!0;var q=r.current||L;return _V(q,C,w,q==="h"?I:O)},[]),h=F.useCallback(function(w){var C=w;if(!(!Tp.length||Tp[Tp.length-1]!==a)){var T="deltaY"in C?jR(C):Wx(C),_=t.current.filter(function(L){return L.name===C.type&&(L.target===C.target||C.target===L.shadowParent)&&IV(L.delta,T)})[0];if(_&&_.should){C.cancelable&&C.preventDefault();return}if(!_){var I=(c.current.shards||[]).map(zR).filter(Boolean).filter(function(L){return L.contains(C.target)}),O=I.length>0?d(C,I[0]):!c.current.noIsolation;O&&C.cancelable&&C.preventDefault()}}},[]),g=F.useCallback(function(w,C,T,_){var I={name:w,delta:C,target:T,should:_,shadowParent:MV(T)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(O){return O!==I})},1)},[]),p=F.useCallback(function(w){n.current=Wx(w),r.current=void 0},[]),m=F.useCallback(function(w){g(w.type,jR(w),w.target,d(w,e.lockRef.current))},[]),x=F.useCallback(function(w){g(w.type,Wx(w),w.target,d(w,e.lockRef.current))},[]);F.useEffect(function(){return Tp.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Rp),document.addEventListener("touchmove",h,Rp),document.addEventListener("touchstart",p,Rp),function(){Tp=Tp.filter(function(w){return w!==a}),document.removeEventListener("wheel",h,Rp),document.removeEventListener("touchmove",h,Rp),document.removeEventListener("touchstart",p,Rp)}},[]);var b=e.removeScrollBar,E=e.inert;return F.createElement(F.Fragment,null,E?F.createElement(a,{styles:OV(s)}):null,b?F.createElement(AV,{gapMode:e.gapMode}):null)}function MV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const LV=uV(h3,PV);var Bb=F.forwardRef(function(e,t){return F.createElement(kb,fa({},e,{ref:t,sideCar:LV}))});Bb.classNames=kb.classNames;var FV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Np=new WeakMap,Yx=new WeakMap,qx={},K1=0,v3=function(e){return e&&(e.host||v3(e.parentNode))},kV=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=v3(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},BV=function(e,t,n,r){var s=kV(t,Array.isArray(e)?e:[e]);qx[n]||(qx[n]=new WeakMap);var a=qx[n],c=[],d=new Set,h=new Set(s),g=function(m){!m||d.has(m)||(d.add(m),g(m.parentNode))};s.forEach(g);var p=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(x){if(d.has(x))p(x);else try{var b=x.getAttribute(r),E=b!==null&&b!=="false",w=(Np.get(x)||0)+1,C=(a.get(x)||0)+1;Np.set(x,w),a.set(x,C),c.push(x),w===1&&E&&Yx.set(x,!0),C===1&&x.setAttribute(n,"true"),E||x.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",x,T)}})};return p(t),d.clear(),K1++,function(){c.forEach(function(m){var x=Np.get(m)-1,b=a.get(m)-1;Np.set(m,x),a.set(m,b),x||(Yx.has(m)||m.removeAttribute(r),Yx.delete(m)),b||m.removeAttribute(n)}),K1--,K1||(Np=new WeakMap,Np=new WeakMap,Yx=new WeakMap,qx={})}},mw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=FV(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),BV(r,s,n,"aria-hidden")):function(){return null}},yw="Dialog",[x3,I7]=bs(yw),[jV,As]=x3(yw),b3=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:c=!0}=e,d=F.useRef(null),h=F.useRef(null),[g=!1,p]=kc({prop:r,defaultProp:s,onChange:a});return P.jsx(jV,{scope:t,triggerRef:d,contentRef:h,contentId:da(),titleId:da(),descriptionId:da(),open:g,onOpenChange:p,onOpenToggle:F.useCallback(()=>p(m=>!m),[p]),modal:c,children:n})};b3.displayName=yw;var S3="DialogTrigger",A3=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=As(S3,n),a=ln(t,s.triggerRef);return P.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":bw(s.open),...r,ref:a,onClick:st(e.onClick,s.onOpenToggle)})});A3.displayName=S3;var vw="DialogPortal",[zV,E3]=x3(vw,{forceMount:void 0}),C3=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=As(vw,t);return P.jsx(zV,{scope:t,forceMount:n,children:F.Children.map(r,c=>P.jsx(Ss,{present:n||a.open,children:P.jsx(hy,{asChild:!0,container:s,children:c})}))})};C3.displayName=vw;var xb="DialogOverlay",w3=F.forwardRef((e,t)=>{const n=E3(xb,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=As(xb,e.__scopeDialog);return a.modal?P.jsx(Ss,{present:r||a.open,children:P.jsx(VV,{...s,ref:t})}):null});w3.displayName=xb;var UV=Mc("DialogOverlay.RemoveScroll"),VV=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=As(xb,n);return P.jsx(Bb,{as:UV,allowPinchZoom:!0,shards:[s.contentRef],children:P.jsx(Bt.div,{"data-state":bw(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Qd="DialogContent",R3=F.forwardRef((e,t)=>{const n=E3(Qd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=As(Qd,e.__scopeDialog);return P.jsx(Ss,{present:r||a.open,children:a.modal?P.jsx(GV,{...s,ref:t}):P.jsx($V,{...s,ref:t})})});R3.displayName=Qd;var GV=F.forwardRef((e,t)=>{const n=As(Qd,e.__scopeDialog),r=F.useRef(null),s=ln(t,n.contentRef,r);return F.useEffect(()=>{const a=r.current;if(a)return mw(a)},[]),P.jsx(T3,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:st(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&a.preventDefault()}),onFocusOutside:st(e.onFocusOutside,a=>a.preventDefault())})}),$V=F.forwardRef((e,t)=>{const n=As(Qd,e.__scopeDialog),r=F.useRef(!1),s=F.useRef(!1);return P.jsx(T3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var h,g;(h=e.onInteractOutside)==null||h.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=a.target;((g=n.triggerRef.current)==null?void 0:g.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),T3=F.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...c}=e,d=As(Qd,n),h=F.useRef(null),g=ln(t,h);return gw(),P.jsxs(P.Fragment,{children:[P.jsx(Fb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:P.jsx(dy,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":bw(d.open),...c,ref:g,onDismiss:()=>d.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(HV,{titleId:d.titleId}),P.jsx(YV,{contentRef:h,descriptionId:d.descriptionId})]})]})}),xw="DialogTitle",N3=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=As(xw,n);return P.jsx(Bt.h2,{id:s.titleId,...r,ref:t})});N3.displayName=xw;var _3="DialogDescription",I3=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=As(_3,n);return P.jsx(Bt.p,{id:s.descriptionId,...r,ref:t})});I3.displayName=_3;var O3="DialogClose",D3=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=As(O3,n);return P.jsx(Bt.button,{type:"button",...r,ref:t,onClick:st(e.onClick,()=>s.onOpenChange(!1))})});D3.displayName=O3;function bw(e){return e?"open":"closed"}var P3="DialogTitleWarning",[O7,M3]=EU(P3,{contentName:Qd,titleName:xw,docsSlug:"dialog"}),HV=({titleId:e})=>{const t=M3(P3),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return F.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},WV="DialogDescriptionWarning",YV=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${M3(WV).contentName}}.`;return F.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},L3=b3,qV=A3,F3=C3,k3=w3,B3=R3,j3=N3,z3=I3,U3=D3;function jb({...e}){return P.jsx(L3,{"data-slot":"dialog",...e})}function KV({...e}){return P.jsx(qV,{"data-slot":"dialog-trigger",...e})}function XV({...e}){return P.jsx(F3,{"data-slot":"dialog-portal",...e})}function ZV({className:e,...t}){return P.jsx(k3,{"data-slot":"dialog-overlay",className:xt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function zb({className:e,children:t,...n}){return P.jsxs(XV,{children:[P.jsx(ZV,{}),P.jsxs(B3,{"data-slot":"dialog-content",className:xt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,P.jsxs(U3,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:size-4",children:[P.jsx(DD,{}),P.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ub({className:e,...t}){return P.jsx("div",{"data-slot":"dialog-header",className:xt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function JV({className:e,...t}){return P.jsx("div",{"data-slot":"dialog-footer",className:xt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Vb({className:e,...t}){return P.jsx(j3,{"data-slot":"dialog-title",className:xt("text-lg font-semibold leading-none",e),...t})}function Sw({className:e,...t}){return P.jsx(z3,{"data-slot":"dialog-description",className:xt("text-muted-foreground text-sm",e),...t})}function Aw(e){const t=e+"CollectionProvider",[n,r]=bs(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:C,children:T}=w,_=Ze.useRef(null),I=Ze.useRef(new Map).current;return P.jsx(s,{scope:C,itemMap:I,collectionRef:_,children:T})};c.displayName=t;const d=e+"CollectionSlot",h=Mc(d),g=Ze.forwardRef((w,C)=>{const{scope:T,children:_}=w,I=a(d,T),O=ln(C,I.collectionRef);return P.jsx(h,{ref:O,children:_})});g.displayName=d;const p=e+"CollectionItemSlot",m="data-radix-collection-item",x=Mc(p),b=Ze.forwardRef((w,C)=>{const{scope:T,children:_,...I}=w,O=Ze.useRef(null),L=ln(C,O),k=a(p,T);return Ze.useEffect(()=>(k.itemMap.set(O,{ref:O,...I}),()=>void k.itemMap.delete(O))),P.jsx(x,{[m]:"",ref:L,children:_})});b.displayName=p;function E(w){const C=a(e+"CollectionConsumer",w);return Ze.useCallback(()=>{const _=C.collectionRef.current;if(!_)return[];const I=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((k,V)=>I.indexOf(k.ref.current)-I.indexOf(V.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:g,ItemSlot:b},E,r]}var QV=F.createContext(void 0);function Ew(e){const t=F.useContext(QV);return e||t||"ltr"}const e4=["top","right","bottom","left"],Bc=Math.min,eo=Math.max,bb=Math.round,Kx=Math.floor,ha=e=>({x:e,y:e}),t4={left:"right",right:"left",bottom:"top",top:"bottom"},n4={start:"end",end:"start"};function vC(e,t,n){return eo(e,Bc(t,n))}function hu(e,t){return typeof e=="function"?e(t):e}function pu(e){return e.split("-")[0]}function ug(e){return e.split("-")[1]}function Cw(e){return e==="x"?"y":"x"}function ww(e){return e==="y"?"height":"width"}function jc(e){return["top","bottom"].includes(pu(e))?"y":"x"}function Rw(e){return Cw(jc(e))}function r4(e,t,n){n===void 0&&(n=!1);const r=ug(e),s=Rw(e),a=ww(s);let c=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=Sb(c)),[c,Sb(c)]}function i4(e){const t=Sb(e);return[xC(e),t,xC(t)]}function xC(e){return e.replace(/start|end/g,t=>n4[t])}function o4(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:c;default:return[]}}function s4(e,t,n,r){const s=ug(e);let a=o4(pu(e),n==="start",r);return s&&(a=a.map(c=>c+"-"+s),t&&(a=a.concat(a.map(xC)))),a}function Sb(e){return e.replace(/left|right|bottom|top/g,t=>t4[t])}function a4(e){return{top:0,right:0,bottom:0,left:0,...e}}function V3(e){return typeof e!="number"?a4(e):{top:e,right:e,bottom:e,left:e}}function Ab(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function UR(e,t,n){let{reference:r,floating:s}=e;const a=jc(t),c=Rw(t),d=ww(c),h=pu(t),g=a==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,x=r[d]/2-s[d]/2;let b;switch(h){case"top":b={x:p,y:r.y-s.height};break;case"bottom":b={x:p,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-s.width,y:m};break;default:b={x:r.x,y:r.y}}switch(ug(t)){case"start":b[c]-=x*(n&&g?-1:1);break;case"end":b[c]+=x*(n&&g?-1:1);break}return b}const l4=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:c}=n,d=a.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let g=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:m}=UR(g,r,h),x=r,b={},E=0;for(let w=0;w<d.length;w++){const{name:C,fn:T}=d[w],{x:_,y:I,data:O,reset:L}=await T({x:p,y:m,initialPlacement:r,placement:x,strategy:s,middlewareData:b,rects:g,platform:c,elements:{reference:e,floating:t}});p=_??p,m=I??m,b={...b,[C]:{...b[C],...O}},L&&E<=50&&(E++,typeof L=="object"&&(L.placement&&(x=L.placement),L.rects&&(g=L.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):L.rects),{x:p,y:m}=UR(g,x,h)),w=-1)}return{x:p,y:m,placement:x,strategy:s,middlewareData:b}};async function ey(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:c,elements:d,strategy:h}=e,{boundary:g="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=hu(t,e),E=V3(b),C=d[x?m==="floating"?"reference":"floating":m],T=Ab(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(C)))==null||n?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:g,rootBoundary:p,strategy:h})),_=m==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),O=await(a.isElement==null?void 0:a.isElement(I))?await(a.getScale==null?void 0:a.getScale(I))||{x:1,y:1}:{x:1,y:1},L=Ab(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:_,offsetParent:I,strategy:h}):_);return{top:(T.top-L.top+E.top)/O.y,bottom:(L.bottom-T.bottom+E.bottom)/O.y,left:(T.left-L.left+E.left)/O.x,right:(L.right-T.right+E.right)/O.x}}const u4=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:c,elements:d,middlewareData:h}=t,{element:g,padding:p=0}=hu(e,t)||{};if(g==null)return{};const m=V3(p),x={x:n,y:r},b=Rw(s),E=ww(b),w=await c.getDimensions(g),C=b==="y",T=C?"top":"left",_=C?"bottom":"right",I=C?"clientHeight":"clientWidth",O=a.reference[E]+a.reference[b]-x[b]-a.floating[E],L=x[b]-a.reference[b],k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(g));let V=k?k[I]:0;(!V||!await(c.isElement==null?void 0:c.isElement(k)))&&(V=d.floating[I]||a.floating[E]);const U=O/2-L/2,q=V/2-w[E]/2-1,te=Bc(m[T],q),ie=Bc(m[_],q),se=te,Ce=V-w[E]-ie,je=V/2-w[E]/2+U,Me=vC(se,je,Ce),re=!h.arrow&&ug(s)!=null&&je!==Me&&a.reference[E]/2-(je<se?te:ie)-w[E]/2<0,Ie=re?je<se?je-se:je-Ce:0;return{[b]:x[b]+Ie,data:{[b]:Me,centerOffset:je-Me-Ie,...re&&{alignmentOffset:Ie}},reset:re}}}),c4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:c,initialPlacement:d,platform:h,elements:g}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...C}=hu(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const T=pu(s),_=jc(d),I=pu(d)===d,O=await(h.isRTL==null?void 0:h.isRTL(g.floating)),L=x||(I||!w?[Sb(d)]:i4(d)),k=E!=="none";!x&&k&&L.push(...s4(d,w,E,O));const V=[d,...L],U=await ey(t,C),q=[];let te=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&q.push(U[T]),m){const je=r4(s,c,O);q.push(U[je[0]],U[je[1]])}if(te=[...te,{placement:s,overflows:q}],!q.every(je=>je<=0)){var ie,se;const je=(((ie=a.flip)==null?void 0:ie.index)||0)+1,Me=V[je];if(Me)return{data:{index:je,overflows:te},reset:{placement:Me}};let re=(se=te.filter(Ie=>Ie.overflows[0]<=0).sort((Ie,de)=>Ie.overflows[1]-de.overflows[1])[0])==null?void 0:se.placement;if(!re)switch(b){case"bestFit":{var Ce;const Ie=(Ce=te.filter(de=>{if(k){const fe=jc(de.placement);return fe===_||fe==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(fe=>fe>0).reduce((fe,K)=>fe+K,0)]).sort((de,fe)=>de[1]-fe[1])[0])==null?void 0:Ce[0];Ie&&(re=Ie);break}case"initialPlacement":re=d;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function VR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function GR(e){return e4.some(t=>e[t]>=0)}const f4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=hu(e,t);switch(r){case"referenceHidden":{const a=await ey(t,{...s,elementContext:"reference"}),c=VR(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:GR(c)}}}case"escaped":{const a=await ey(t,{...s,altBoundary:!0}),c=VR(a,n.floating);return{data:{escapedOffsets:c,escaped:GR(c)}}}default:return{}}}}};async function d4(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=pu(n),d=ug(n),h=jc(n)==="y",g=["left","top"].includes(c)?-1:1,p=a&&h?-1:1,m=hu(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:E}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return d&&typeof E=="number"&&(b=d==="end"?E*-1:E),h?{x:b*p,y:x*g}:{x:x*g,y:b*p}}const h4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:c,middlewareData:d}=t,h=await d4(t,e);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:c}}}}},p4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:d={fn:C=>{let{x:T,y:_}=C;return{x:T,y:_}}},...h}=hu(e,t),g={x:n,y:r},p=await ey(t,h),m=jc(pu(s)),x=Cw(m);let b=g[x],E=g[m];if(a){const C=x==="y"?"top":"left",T=x==="y"?"bottom":"right",_=b+p[C],I=b-p[T];b=vC(_,b,I)}if(c){const C=m==="y"?"top":"left",T=m==="y"?"bottom":"right",_=E+p[C],I=E-p[T];E=vC(_,E,I)}const w=d.fn({...t,[x]:b,[m]:E});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[x]:a,[m]:c}}}}}},g4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:c}=t,{offset:d=0,mainAxis:h=!0,crossAxis:g=!0}=hu(e,t),p={x:n,y:r},m=jc(s),x=Cw(m);let b=p[x],E=p[m];const w=hu(d,t),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(h){const I=x==="y"?"height":"width",O=a.reference[x]-a.floating[I]+C.mainAxis,L=a.reference[x]+a.reference[I]-C.mainAxis;b<O?b=O:b>L&&(b=L)}if(g){var T,_;const I=x==="y"?"width":"height",O=["top","left"].includes(pu(s)),L=a.reference[m]-a.floating[I]+(O&&((T=c.offset)==null?void 0:T[m])||0)+(O?0:C.crossAxis),k=a.reference[m]+a.reference[I]+(O?0:((_=c.offset)==null?void 0:_[m])||0)-(O?C.crossAxis:0);E<L?E=L:E>k&&(E=k)}return{[x]:b,[m]:E}}}},m4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:c,elements:d}=t,{apply:h=()=>{},...g}=hu(e,t),p=await ey(t,g),m=pu(s),x=ug(s),b=jc(s)==="y",{width:E,height:w}=a.floating;let C,T;m==="top"||m==="bottom"?(C=m,T=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(T=m,C=x==="end"?"top":"bottom");const _=w-p.top-p.bottom,I=E-p.left-p.right,O=Bc(w-p[C],_),L=Bc(E-p[T],I),k=!t.middlewareData.shift;let V=O,U=L;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(U=I),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(V=_),k&&!x){const te=eo(p.left,0),ie=eo(p.right,0),se=eo(p.top,0),Ce=eo(p.bottom,0);b?U=E-2*(te!==0||ie!==0?te+ie:eo(p.left,p.right)):V=w-2*(se!==0||Ce!==0?se+Ce:eo(p.top,p.bottom))}await h({...t,availableWidth:U,availableHeight:V});const q=await c.getDimensions(d.floating);return E!==q.width||w!==q.height?{reset:{rects:!0}}:{}}}};function Gb(){return typeof window<"u"}function cg(e){return G3(e)?(e.nodeName||"").toLowerCase():"#document"}function to(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function va(e){var t;return(t=(G3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function G3(e){return Gb()?e instanceof Node||e instanceof to(e).Node:!1}function ms(e){return Gb()?e instanceof Element||e instanceof to(e).Element:!1}function ga(e){return Gb()?e instanceof HTMLElement||e instanceof to(e).HTMLElement:!1}function $R(e){return!Gb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof to(e).ShadowRoot}function py(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ys(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function y4(e){return["table","td","th"].includes(cg(e))}function $b(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Tw(e){const t=Nw(),n=ms(e)?ys(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function v4(e){let t=zc(e);for(;ga(t)&&!Xp(t);){if(Tw(t))return t;if($b(t))return null;t=zc(t)}return null}function Nw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xp(e){return["html","body","#document"].includes(cg(e))}function ys(e){return to(e).getComputedStyle(e)}function Hb(e){return ms(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zc(e){if(cg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$R(e)&&e.host||va(e);return $R(t)?t.host:t}function $3(e){const t=zc(e);return Xp(t)?e.ownerDocument?e.ownerDocument.body:e.body:ga(t)&&py(t)?t:$3(t)}function ty(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=$3(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),c=to(s);if(a){const d=bC(c);return t.concat(c,c.visualViewport||[],py(s)?s:[],d&&n?ty(d):[])}return t.concat(s,ty(s,[],n))}function bC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function H3(e){const t=ys(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ga(e),a=s?e.offsetWidth:n,c=s?e.offsetHeight:r,d=bb(n)!==a||bb(r)!==c;return d&&(n=a,r=c),{width:n,height:r,$:d}}function _w(e){return ms(e)?e:e.contextElement}function Lp(e){const t=_w(e);if(!ga(t))return ha(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=H3(t);let c=(a?bb(n.width):n.width)/r,d=(a?bb(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const x4=ha(0);function W3(e){const t=to(e);return!Nw()||!t.visualViewport?x4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function b4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==to(e)?!1:t}function eh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=_w(e);let c=ha(1);t&&(r?ms(r)&&(c=Lp(r)):c=Lp(e));const d=b4(a,n,r)?W3(a):ha(0);let h=(s.left+d.x)/c.x,g=(s.top+d.y)/c.y,p=s.width/c.x,m=s.height/c.y;if(a){const x=to(a),b=r&&ms(r)?to(r):r;let E=x,w=bC(E);for(;w&&r&&b!==E;){const C=Lp(w),T=w.getBoundingClientRect(),_=ys(w),I=T.left+(w.clientLeft+parseFloat(_.paddingLeft))*C.x,O=T.top+(w.clientTop+parseFloat(_.paddingTop))*C.y;h*=C.x,g*=C.y,p*=C.x,m*=C.y,h+=I,g+=O,E=to(w),w=bC(E)}}return Ab({width:p,height:m,x:h,y:g})}function Iw(e,t){const n=Hb(e).scrollLeft;return t?t.left+n:eh(va(e)).left+n}function Y3(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Iw(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function S4(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",c=va(r),d=t?$b(t.floating):!1;if(r===c||d&&a)return n;let h={scrollLeft:0,scrollTop:0},g=ha(1);const p=ha(0),m=ga(r);if((m||!m&&!a)&&((cg(r)!=="body"||py(c))&&(h=Hb(r)),ga(r))){const b=eh(r);g=Lp(r),p.x=b.x+r.clientLeft,p.y=b.y+r.clientTop}const x=c&&!m&&!a?Y3(c,h,!0):ha(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-h.scrollLeft*g.x+p.x+x.x,y:n.y*g.y-h.scrollTop*g.y+p.y+x.y}}function A4(e){return Array.from(e.getClientRects())}function E4(e){const t=va(e),n=Hb(e),r=e.ownerDocument.body,s=eo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=eo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Iw(e);const d=-n.scrollTop;return ys(r).direction==="rtl"&&(c+=eo(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:c,y:d}}function C4(e,t){const n=to(e),r=va(e),s=n.visualViewport;let a=r.clientWidth,c=r.clientHeight,d=0,h=0;if(s){a=s.width,c=s.height;const g=Nw();(!g||g&&t==="fixed")&&(d=s.offsetLeft,h=s.offsetTop)}return{width:a,height:c,x:d,y:h}}function w4(e,t){const n=eh(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=ga(e)?Lp(e):ha(1),c=e.clientWidth*a.x,d=e.clientHeight*a.y,h=s*a.x,g=r*a.y;return{width:c,height:d,x:h,y:g}}function HR(e,t,n){let r;if(t==="viewport")r=C4(e,n);else if(t==="document")r=E4(va(e));else if(ms(t))r=w4(t,n);else{const s=W3(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ab(r)}function q3(e,t){const n=zc(e);return n===t||!ms(n)||Xp(n)?!1:ys(n).position==="fixed"||q3(n,t)}function R4(e,t){const n=t.get(e);if(n)return n;let r=ty(e,[],!1).filter(d=>ms(d)&&cg(d)!=="body"),s=null;const a=ys(e).position==="fixed";let c=a?zc(e):e;for(;ms(c)&&!Xp(c);){const d=ys(c),h=Tw(c);!h&&d.position==="fixed"&&(s=null),(a?!h&&!s:!h&&d.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||py(c)&&!h&&q3(e,c))?r=r.filter(p=>p!==c):s=d,c=zc(c)}return t.set(e,r),r}function T4(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const c=[...n==="clippingAncestors"?$b(t)?[]:R4(t,this._c):[].concat(n),r],d=c[0],h=c.reduce((g,p)=>{const m=HR(t,p,s);return g.top=eo(m.top,g.top),g.right=Bc(m.right,g.right),g.bottom=Bc(m.bottom,g.bottom),g.left=eo(m.left,g.left),g},HR(t,d,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function N4(e){const{width:t,height:n}=H3(e);return{width:t,height:n}}function _4(e,t,n){const r=ga(t),s=va(t),a=n==="fixed",c=eh(e,!0,a,t);let d={scrollLeft:0,scrollTop:0};const h=ha(0);if(r||!r&&!a)if((cg(t)!=="body"||py(s))&&(d=Hb(t)),r){const x=eh(t,!0,a,t);h.x=x.x+t.clientLeft,h.y=x.y+t.clientTop}else s&&(h.x=Iw(s));const g=s&&!r&&!a?Y3(s,d):ha(0),p=c.left+d.scrollLeft-h.x-g.x,m=c.top+d.scrollTop-h.y-g.y;return{x:p,y:m,width:c.width,height:c.height}}function X1(e){return ys(e).position==="static"}function WR(e,t){if(!ga(e)||ys(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return va(e)===n&&(n=n.ownerDocument.body),n}function K3(e,t){const n=to(e);if($b(e))return n;if(!ga(e)){let s=zc(e);for(;s&&!Xp(s);){if(ms(s)&&!X1(s))return s;s=zc(s)}return n}let r=WR(e,t);for(;r&&y4(r)&&X1(r);)r=WR(r,t);return r&&Xp(r)&&X1(r)&&!Tw(r)?n:r||v4(e)||n}const I4=async function(e){const t=this.getOffsetParent||K3,n=this.getDimensions,r=await n(e.floating);return{reference:_4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function O4(e){return ys(e).direction==="rtl"}const D4={convertOffsetParentRelativeRectToViewportRelativeRect:S4,getDocumentElement:va,getClippingRect:T4,getOffsetParent:K3,getElementRects:I4,getClientRects:A4,getDimensions:N4,getScale:Lp,isElement:ms,isRTL:O4};function X3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function P4(e,t){let n=null,r;const s=va(e);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const g=e.getBoundingClientRect(),{left:p,top:m,width:x,height:b}=g;if(d||t(),!x||!b)return;const E=Kx(m),w=Kx(s.clientWidth-(p+x)),C=Kx(s.clientHeight-(m+b)),T=Kx(p),I={rootMargin:-E+"px "+-w+"px "+-C+"px "+-T+"px",threshold:eo(0,Bc(1,h))||1};let O=!0;function L(k){const V=k[0].intersectionRatio;if(V!==h){if(!O)return c();V?c(!1,V):r=setTimeout(()=>{c(!1,1e-7)},1e3)}V===1&&!X3(g,e.getBoundingClientRect())&&c(),O=!1}try{n=new IntersectionObserver(L,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,I)}n.observe(e)}return c(!0),a}function M4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,g=_w(e),p=s||a?[...g?ty(g):[],...ty(t)]:[];p.forEach(T=>{s&&T.addEventListener("scroll",n,{passive:!0}),a&&T.addEventListener("resize",n)});const m=g&&d?P4(g,n):null;let x=-1,b=null;c&&(b=new ResizeObserver(T=>{let[_]=T;_&&_.target===g&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var I;(I=b)==null||I.observe(t)})),n()}),g&&!h&&b.observe(g),b.observe(t));let E,w=h?eh(e):null;h&&C();function C(){const T=eh(e);w&&!X3(w,T)&&n(),w=T,E=requestAnimationFrame(C)}return n(),()=>{var T;p.forEach(_=>{s&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),m==null||m(),(T=b)==null||T.disconnect(),b=null,h&&cancelAnimationFrame(E)}}const L4=h4,F4=p4,k4=c4,B4=m4,j4=f4,YR=u4,z4=g4,U4=(e,t,n)=>{const r=new Map,s={platform:D4,...n},a={...s.platform,_c:r};return l4(e,t,{...s,platform:a})};var lb=typeof document<"u"?F.useLayoutEffect:F.useEffect;function Eb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Eb(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Eb(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Z3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qR(e,t){const n=Z3(e);return Math.round(t*n)/n}function Z1(e){const t=F.useRef(e);return lb(()=>{t.current=e}),t}function V4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:c}={},transform:d=!0,whileElementsMounted:h,open:g}=e,[p,m]=F.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=F.useState(r);Eb(x,r)||b(r);const[E,w]=F.useState(null),[C,T]=F.useState(null),_=F.useCallback(de=>{de!==k.current&&(k.current=de,w(de))},[]),I=F.useCallback(de=>{de!==V.current&&(V.current=de,T(de))},[]),O=a||E,L=c||C,k=F.useRef(null),V=F.useRef(null),U=F.useRef(p),q=h!=null,te=Z1(h),ie=Z1(s),se=Z1(g),Ce=F.useCallback(()=>{if(!k.current||!V.current)return;const de={placement:t,strategy:n,middleware:x};ie.current&&(de.platform=ie.current),U4(k.current,V.current,de).then(fe=>{const K={...fe,isPositioned:se.current!==!1};je.current&&!Eb(U.current,K)&&(U.current=K,fy.flushSync(()=>{m(K)}))})},[x,t,n,ie,se]);lb(()=>{g===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,m(de=>({...de,isPositioned:!1})))},[g]);const je=F.useRef(!1);lb(()=>(je.current=!0,()=>{je.current=!1}),[]),lb(()=>{if(O&&(k.current=O),L&&(V.current=L),O&&L){if(te.current)return te.current(O,L,Ce);Ce()}},[O,L,Ce,te,q]);const Me=F.useMemo(()=>({reference:k,floating:V,setReference:_,setFloating:I}),[_,I]),re=F.useMemo(()=>({reference:O,floating:L}),[O,L]),Ie=F.useMemo(()=>{const de={position:n,left:0,top:0};if(!re.floating)return de;const fe=qR(re.floating,p.x),K=qR(re.floating,p.y);return d?{...de,transform:"translate("+fe+"px, "+K+"px)",...Z3(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:fe,top:K}},[n,d,re.floating,p.x,p.y]);return F.useMemo(()=>({...p,update:Ce,refs:Me,elements:re,floatingStyles:Ie}),[p,Ce,Me,re,Ie])}const G4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?YR({element:r.current,padding:s}).fn(n):{}:r?YR({element:r,padding:s}).fn(n):{}}}},$4=(e,t)=>({...L4(e),options:[e,t]}),H4=(e,t)=>({...F4(e),options:[e,t]}),W4=(e,t)=>({...z4(e),options:[e,t]}),Y4=(e,t)=>({...k4(e),options:[e,t]}),q4=(e,t)=>({...B4(e),options:[e,t]}),K4=(e,t)=>({...j4(e),options:[e,t]}),X4=(e,t)=>({...G4(e),options:[e,t]});var Z4="Arrow",J3=F.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return P.jsx(Bt.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});J3.displayName=Z4;var J4=J3,Ow="Popper",[Q3,fg]=bs(Ow),[Q4,eP]=Q3(Ow),tP=e=>{const{__scopePopper:t,children:n}=e,[r,s]=F.useState(null);return P.jsx(Q4,{scope:t,anchor:r,onAnchorChange:s,children:n})};tP.displayName=Ow;var nP="PopperAnchor",rP=F.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=eP(nP,n),c=F.useRef(null),d=ln(t,c);return F.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:P.jsx(Bt.div,{...s,ref:d})});rP.displayName=nP;var Dw="PopperContent",[e9,t9]=Q3(Dw),iP=F.forwardRef((e,t)=>{var J,X,Z,le,xe,Se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:E,...w}=e,C=eP(Dw,n),[T,_]=F.useState(null),I=ln(t,oe=>_(oe)),[O,L]=F.useState(null),k=hw(O),V=(k==null?void 0:k.width)??0,U=(k==null?void 0:k.height)??0,q=r+(a!=="center"?"-"+a:""),te=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ie=Array.isArray(g)?g:[g],se=ie.length>0,Ce={padding:te,boundary:ie.filter(r9),altBoundary:se},{refs:je,floatingStyles:Me,placement:re,isPositioned:Ie,middlewareData:de}=V4({strategy:"fixed",placement:q,whileElementsMounted:(...oe)=>M4(...oe,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[$4({mainAxis:s+U,alignmentAxis:c}),h&&H4({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?W4():void 0,...Ce}),h&&Y4({...Ce}),q4({...Ce,apply:({elements:oe,rects:ae,availableWidth:Ee,availableHeight:Oe})=>{const{width:Be,height:Ge}=ae.reference,ye=oe.floating.style;ye.setProperty("--radix-popper-available-width",`${Ee}px`),ye.setProperty("--radix-popper-available-height",`${Oe}px`),ye.setProperty("--radix-popper-anchor-width",`${Be}px`),ye.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),O&&X4({element:O,padding:d}),i9({arrowWidth:V,arrowHeight:U}),x&&K4({strategy:"referenceHidden",...Ce})]}),[fe,K]=aP(re),ne=ro(E);Ar(()=>{Ie&&(ne==null||ne())},[Ie,ne]);const me=(J=de.arrow)==null?void 0:J.x,B=(X=de.arrow)==null?void 0:X.y,j=((Z=de.arrow)==null?void 0:Z.centerOffset)!==0,[G,H]=F.useState();return Ar(()=>{T&&H(window.getComputedStyle(T).zIndex)},[T]),P.jsx("div",{ref:je.setFloating,"data-radix-popper-content-wrapper":"",style:{...Me,transform:Ie?Me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(le=de.transformOrigin)==null?void 0:le.x,(xe=de.transformOrigin)==null?void 0:xe.y].join(" "),...((Se=de.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:P.jsx(e9,{scope:n,placedSide:fe,onArrowChange:L,arrowX:me,arrowY:B,shouldHideArrow:j,children:P.jsx(Bt.div,{"data-side":fe,"data-align":K,...w,ref:I,style:{...w.style,animation:Ie?void 0:"none"}})})})});iP.displayName=Dw;var oP="PopperArrow",n9={top:"bottom",right:"left",bottom:"top",left:"right"},sP=F.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=t9(oP,r),c=n9[a.placedSide];return P.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:P.jsx(J4,{...s,ref:n,style:{...s.style,display:"block"}})})});sP.displayName=oP;function r9(e){return e!==null}var i9=e=>({name:"transformOrigin",options:e,fn(t){var C,T,_;const{placement:n,rects:r,middlewareData:s}=t,c=((C=s.arrow)==null?void 0:C.centerOffset)!==0,d=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[g,p]=aP(n),m={start:"0%",center:"50%",end:"100%"}[p],x=(((T=s.arrow)==null?void 0:T.x)??0)+d/2,b=(((_=s.arrow)==null?void 0:_.y)??0)+h/2;let E="",w="";return g==="bottom"?(E=c?m:`${x}px`,w=`${-h}px`):g==="top"?(E=c?m:`${x}px`,w=`${r.floating.height+h}px`):g==="right"?(E=`${-h}px`,w=c?m:`${b}px`):g==="left"&&(E=`${r.floating.width+h}px`,w=c?m:`${b}px`),{data:{x:E,y:w}}}});function aP(e){const[t,n="center"]=e.split("-");return[t,n]}var Pw=tP,Mw=rP,Lw=iP,Fw=sP,J1="rovingFocusGroup.onEntryFocus",o9={bubbles:!1,cancelable:!0},Wb="RovingFocusGroup",[SC,lP,s9]=Aw(Wb),[a9,uP]=bs(Wb,[s9]),[l9,u9]=a9(Wb),cP=F.forwardRef((e,t)=>P.jsx(SC.Provider,{scope:e.__scopeRovingFocusGroup,children:P.jsx(SC.Slot,{scope:e.__scopeRovingFocusGroup,children:P.jsx(c9,{...e,ref:t})})}));cP.displayName=Wb;var c9=F.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:g,preventScrollOnEntryFocus:p=!1,...m}=e,x=F.useRef(null),b=ln(t,x),E=Ew(a),[w=null,C]=kc({prop:c,defaultProp:d,onChange:h}),[T,_]=F.useState(!1),I=ro(g),O=lP(n),L=F.useRef(!1),[k,V]=F.useState(0);return F.useEffect(()=>{const U=x.current;if(U)return U.addEventListener(J1,I),()=>U.removeEventListener(J1,I)},[I]),P.jsx(l9,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:w,onItemFocus:F.useCallback(U=>C(U),[C]),onItemShiftTab:F.useCallback(()=>_(!0),[]),onFocusableItemAdd:F.useCallback(()=>V(U=>U+1),[]),onFocusableItemRemove:F.useCallback(()=>V(U=>U-1),[]),children:P.jsx(Bt.div,{tabIndex:T||k===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...e.style},onMouseDown:st(e.onMouseDown,()=>{L.current=!0}),onFocus:st(e.onFocus,U=>{const q=!L.current;if(U.target===U.currentTarget&&q&&!T){const te=new CustomEvent(J1,o9);if(U.currentTarget.dispatchEvent(te),!te.defaultPrevented){const ie=O().filter(re=>re.focusable),se=ie.find(re=>re.active),Ce=ie.find(re=>re.id===w),Me=[se,Ce,...ie].filter(Boolean).map(re=>re.ref.current);hP(Me,p)}}L.current=!1}),onBlur:st(e.onBlur,()=>_(!1))})})}),fP="RovingFocusGroupItem",dP=F.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...c}=e,d=da(),h=a||d,g=u9(fP,n),p=g.currentTabStopId===h,m=lP(n),{onFocusableItemAdd:x,onFocusableItemRemove:b}=g;return F.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),P.jsx(SC.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:P.jsx(Bt.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...c,ref:t,onMouseDown:st(e.onMouseDown,E=>{r?g.onItemFocus(h):E.preventDefault()}),onFocus:st(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:st(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const w=h9(E,g.orientation,g.dir);if(w!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let T=m().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")T.reverse();else if(w==="prev"||w==="next"){w==="prev"&&T.reverse();const _=T.indexOf(E.currentTarget);T=g.loop?p9(T,_+1):T.slice(_+1)}setTimeout(()=>hP(T))}})})})});dP.displayName=fP;var f9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function h9(e,t,n){const r=d9(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return f9[r]}function hP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function p9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var g9=cP,m9=dP,AC=["Enter"," "],y9=["ArrowDown","PageUp","Home"],pP=["ArrowUp","PageDown","End"],v9=[...y9,...pP],x9={ltr:[...AC,"ArrowRight"],rtl:[...AC,"ArrowLeft"]},b9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gy="Menu",[ny,S9,A9]=Aw(gy),[rh,gP]=bs(gy,[A9,fg,uP]),Yb=fg(),mP=uP(),[E9,ih]=rh(gy),[C9,my]=rh(gy),yP=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:c=!0}=e,d=Yb(t),[h,g]=F.useState(null),p=F.useRef(!1),m=ro(a),x=Ew(s);return F.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),P.jsx(Pw,{...d,children:P.jsx(E9,{scope:t,open:n,onOpenChange:m,content:h,onContentChange:g,children:P.jsx(C9,{scope:t,onClose:F.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:x,modal:c,children:r})})})};yP.displayName=gy;var w9="MenuAnchor",kw=F.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Yb(n);return P.jsx(Mw,{...s,...r,ref:t})});kw.displayName=w9;var Bw="MenuPortal",[R9,vP]=rh(Bw,{forceMount:void 0}),xP=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=ih(Bw,t);return P.jsx(R9,{scope:t,forceMount:n,children:P.jsx(Ss,{present:n||a.open,children:P.jsx(hy,{asChild:!0,container:s,children:r})})})};xP.displayName=Bw;var _o="MenuContent",[T9,jw]=rh(_o),bP=F.forwardRef((e,t)=>{const n=vP(_o,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=ih(_o,e.__scopeMenu),c=my(_o,e.__scopeMenu);return P.jsx(ny.Provider,{scope:e.__scopeMenu,children:P.jsx(Ss,{present:r||a.open,children:P.jsx(ny.Slot,{scope:e.__scopeMenu,children:c.modal?P.jsx(N9,{...s,ref:t}):P.jsx(_9,{...s,ref:t})})})})}),N9=F.forwardRef((e,t)=>{const n=ih(_o,e.__scopeMenu),r=F.useRef(null),s=ln(t,r);return F.useEffect(()=>{const a=r.current;if(a)return mw(a)},[]),P.jsx(zw,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:st(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_9=F.forwardRef((e,t)=>{const n=ih(_o,e.__scopeMenu);return P.jsx(zw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),I9=Mc("MenuContent.ScrollLock"),zw=F.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,disableOutsideScroll:E,...w}=e,C=ih(_o,n),T=my(_o,n),_=Yb(n),I=mP(n),O=S9(n),[L,k]=F.useState(null),V=F.useRef(null),U=ln(t,V,C.onContentChange),q=F.useRef(0),te=F.useRef(""),ie=F.useRef(0),se=F.useRef(null),Ce=F.useRef("right"),je=F.useRef(0),Me=E?Bb:F.Fragment,re=E?{as:I9,allowPinchZoom:!0}:void 0,Ie=fe=>{var J,X;const K=te.current+fe,ne=O().filter(Z=>!Z.disabled),me=document.activeElement,B=(J=ne.find(Z=>Z.ref.current===me))==null?void 0:J.textValue,j=ne.map(Z=>Z.textValue),G=V9(j,K,B),H=(X=ne.find(Z=>Z.textValue===G))==null?void 0:X.ref.current;(function Z(le){te.current=le,window.clearTimeout(q.current),le!==""&&(q.current=window.setTimeout(()=>Z(""),1e3))})(K),H&&setTimeout(()=>H.focus())};F.useEffect(()=>()=>window.clearTimeout(q.current),[]),gw();const de=F.useCallback(fe=>{var ne,me;return Ce.current===((ne=se.current)==null?void 0:ne.side)&&$9(fe,(me=se.current)==null?void 0:me.area)},[]);return P.jsx(T9,{scope:n,searchRef:te,onItemEnter:F.useCallback(fe=>{de(fe)&&fe.preventDefault()},[de]),onItemLeave:F.useCallback(fe=>{var K;de(fe)||((K=V.current)==null||K.focus(),k(null))},[de]),onTriggerLeave:F.useCallback(fe=>{de(fe)&&fe.preventDefault()},[de]),pointerGraceTimerRef:ie,onPointerGraceIntentChange:F.useCallback(fe=>{se.current=fe},[]),children:P.jsx(Me,{...re,children:P.jsx(Fb,{asChild:!0,trapped:s,onMountAutoFocus:st(a,fe=>{var K;fe.preventDefault(),(K=V.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:P.jsx(dy,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,children:P.jsx(g9,{asChild:!0,...I,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:L,onCurrentTabStopIdChange:k,onEntryFocus:st(h,fe=>{T.isUsingKeyboardRef.current||fe.preventDefault()}),preventScrollOnEntryFocus:!0,children:P.jsx(Lw,{role:"menu","aria-orientation":"vertical","data-state":FP(C.open),"data-radix-menu-content":"",dir:T.dir,..._,...w,ref:U,style:{outline:"none",...w.style},onKeyDown:st(w.onKeyDown,fe=>{const ne=fe.target.closest("[data-radix-menu-content]")===fe.currentTarget,me=fe.ctrlKey||fe.altKey||fe.metaKey,B=fe.key.length===1;ne&&(fe.key==="Tab"&&fe.preventDefault(),!me&&B&&Ie(fe.key));const j=V.current;if(fe.target!==j||!v9.includes(fe.key))return;fe.preventDefault();const H=O().filter(J=>!J.disabled).map(J=>J.ref.current);pP.includes(fe.key)&&H.reverse(),z9(H)}),onBlur:st(e.onBlur,fe=>{fe.currentTarget.contains(fe.target)||(window.clearTimeout(q.current),te.current="")}),onPointerMove:st(e.onPointerMove,ry(fe=>{const K=fe.target,ne=je.current!==fe.clientX;if(fe.currentTarget.contains(K)&&ne){const me=fe.clientX>je.current?"right":"left";Ce.current=me,je.current=fe.clientX}}))})})})})})})});bP.displayName=_o;var O9="MenuGroup",Uw=F.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return P.jsx(Bt.div,{role:"group",...r,ref:t})});Uw.displayName=O9;var D9="MenuLabel",SP=F.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return P.jsx(Bt.div,{...r,ref:t})});SP.displayName=D9;var Cb="MenuItem",KR="menu.itemSelect",qb=F.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=F.useRef(null),c=my(Cb,e.__scopeMenu),d=jw(Cb,e.__scopeMenu),h=ln(t,a),g=F.useRef(!1),p=()=>{const m=a.current;if(!n&&m){const x=new CustomEvent(KR,{bubbles:!0,cancelable:!0});m.addEventListener(KR,b=>r==null?void 0:r(b),{once:!0}),r3(m,x),x.defaultPrevented?g.current=!1:c.onClose()}};return P.jsx(AP,{...s,ref:h,disabled:n,onClick:st(e.onClick,p),onPointerDown:m=>{var x;(x=e.onPointerDown)==null||x.call(e,m),g.current=!0},onPointerUp:st(e.onPointerUp,m=>{var x;g.current||(x=m.currentTarget)==null||x.click()}),onKeyDown:st(e.onKeyDown,m=>{const x=d.searchRef.current!=="";n||x&&m.key===" "||AC.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});qb.displayName=Cb;var AP=F.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,c=jw(Cb,n),d=mP(n),h=F.useRef(null),g=ln(t,h),[p,m]=F.useState(!1),[x,b]=F.useState("");return F.useEffect(()=>{const E=h.current;E&&b((E.textContent??"").trim())},[a.children]),P.jsx(ny.ItemSlot,{scope:n,disabled:r,textValue:s??x,children:P.jsx(m9,{asChild:!0,...d,focusable:!r,children:P.jsx(Bt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:g,onPointerMove:st(e.onPointerMove,ry(E=>{r?c.onItemLeave(E):(c.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:st(e.onPointerLeave,ry(E=>c.onItemLeave(E))),onFocus:st(e.onFocus,()=>m(!0)),onBlur:st(e.onBlur,()=>m(!1))})})})}),P9="MenuCheckboxItem",EP=F.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return P.jsx(NP,{scope:e.__scopeMenu,checked:n,children:P.jsx(qb,{role:"menuitemcheckbox","aria-checked":wb(n)?"mixed":n,...s,ref:t,"data-state":Gw(n),onSelect:st(s.onSelect,()=>r==null?void 0:r(wb(n)?!0:!n),{checkForDefaultPrevented:!1})})})});EP.displayName=P9;var CP="MenuRadioGroup",[M9,L9]=rh(CP,{value:void 0,onValueChange:()=>{}}),wP=F.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=ro(r);return P.jsx(M9,{scope:e.__scopeMenu,value:n,onValueChange:a,children:P.jsx(Uw,{...s,ref:t})})});wP.displayName=CP;var RP="MenuRadioItem",TP=F.forwardRef((e,t)=>{const{value:n,...r}=e,s=L9(RP,e.__scopeMenu),a=n===s.value;return P.jsx(NP,{scope:e.__scopeMenu,checked:a,children:P.jsx(qb,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Gw(a),onSelect:st(r.onSelect,()=>{var c;return(c=s.onValueChange)==null?void 0:c.call(s,n)},{checkForDefaultPrevented:!1})})})});TP.displayName=RP;var Vw="MenuItemIndicator",[NP,F9]=rh(Vw,{checked:!1}),_P=F.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=F9(Vw,n);return P.jsx(Ss,{present:r||wb(a.checked)||a.checked===!0,children:P.jsx(Bt.span,{...s,ref:t,"data-state":Gw(a.checked)})})});_P.displayName=Vw;var k9="MenuSeparator",IP=F.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return P.jsx(Bt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});IP.displayName=k9;var B9="MenuArrow",OP=F.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Yb(n);return P.jsx(Fw,{...s,...r,ref:t})});OP.displayName=B9;var j9="MenuSub",[D7,DP]=rh(j9),z0="MenuSubTrigger",PP=F.forwardRef((e,t)=>{const n=ih(z0,e.__scopeMenu),r=my(z0,e.__scopeMenu),s=DP(z0,e.__scopeMenu),a=jw(z0,e.__scopeMenu),c=F.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=a,g={__scopeMenu:e.__scopeMenu},p=F.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return F.useEffect(()=>p,[p]),F.useEffect(()=>{const m=d.current;return()=>{window.clearTimeout(m),h(null)}},[d,h]),P.jsx(kw,{asChild:!0,...g,children:P.jsx(AP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":FP(n.open),...e,ref:Mb(t,s.onTriggerChange),onClick:m=>{var x;(x=e.onClick)==null||x.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:st(e.onPointerMove,ry(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:st(e.onPointerLeave,ry(m=>{var b,E;p();const x=(b=n.content)==null?void 0:b.getBoundingClientRect();if(x){const w=(E=n.content)==null?void 0:E.dataset.side,C=w==="right",T=C?-5:5,_=x[C?"left":"right"],I=x[C?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+T,y:m.clientY},{x:_,y:x.top},{x:I,y:x.top},{x:I,y:x.bottom},{x:_,y:x.bottom}],side:w}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:st(e.onKeyDown,m=>{var b;const x=a.searchRef.current!=="";e.disabled||x&&m.key===" "||x9[r.dir].includes(m.key)&&(n.onOpenChange(!0),(b=n.content)==null||b.focus(),m.preventDefault())})})})});PP.displayName=z0;var MP="MenuSubContent",LP=F.forwardRef((e,t)=>{const n=vP(_o,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=ih(_o,e.__scopeMenu),c=my(_o,e.__scopeMenu),d=DP(MP,e.__scopeMenu),h=F.useRef(null),g=ln(t,h);return P.jsx(ny.Provider,{scope:e.__scopeMenu,children:P.jsx(Ss,{present:r||a.open,children:P.jsx(ny.Slot,{scope:e.__scopeMenu,children:P.jsx(zw,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:g,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var m;c.isUsingKeyboardRef.current&&((m=h.current)==null||m.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:st(e.onFocusOutside,p=>{p.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:st(e.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:st(e.onKeyDown,p=>{var b;const m=p.currentTarget.contains(p.target),x=b9[c.dir].includes(p.key);m&&x&&(a.onOpenChange(!1),(b=d.trigger)==null||b.focus(),p.preventDefault())})})})})})});LP.displayName=MP;function FP(e){return e?"open":"closed"}function wb(e){return e==="indeterminate"}function Gw(e){return wb(e)?"indeterminate":e?"checked":"unchecked"}function z9(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function U9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function V9(e,t,n){const s=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let c=U9(e,Math.max(a,0));s.length===1&&(c=c.filter(g=>g!==n));const h=c.find(g=>g.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function G9(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const d=t[a].x,h=t[a].y,g=t[c].x,p=t[c].y;h>r!=p>r&&n<(g-d)*(r-h)/(p-h)+d&&(s=!s)}return s}function $9(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return G9(n,t)}function ry(e){return t=>t.pointerType==="mouse"?e(t):void 0}var H9=yP,W9=kw,Y9=xP,q9=bP,K9=Uw,X9=SP,Z9=qb,J9=EP,Q9=wP,e6=TP,t6=_P,n6=IP,r6=OP,i6=PP,o6=LP,$w="DropdownMenu",[s6,P7]=bs($w,[gP]),bi=gP(),[a6,kP]=s6($w),BP=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:c,modal:d=!0}=e,h=bi(t),g=F.useRef(null),[p=!1,m]=kc({prop:s,defaultProp:a,onChange:c});return P.jsx(a6,{scope:t,triggerId:da(),triggerRef:g,contentId:da(),open:p,onOpenChange:m,onOpenToggle:F.useCallback(()=>m(x=>!x),[m]),modal:d,children:P.jsx(H9,{...h,open:p,onOpenChange:m,dir:r,modal:d,children:n})})};BP.displayName=$w;var jP="DropdownMenuTrigger",zP=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=kP(jP,n),c=bi(n);return P.jsx(W9,{asChild:!0,...c,children:P.jsx(Bt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Mb(t,a.triggerRef),onPointerDown:st(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:st(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});zP.displayName=jP;var l6="DropdownMenuPortal",UP=e=>{const{__scopeDropdownMenu:t,...n}=e,r=bi(t);return P.jsx(Y9,{...r,...n})};UP.displayName=l6;var VP="DropdownMenuContent",GP=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=kP(VP,n),a=bi(n),c=F.useRef(!1);return P.jsx(q9,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:st(e.onCloseAutoFocus,d=>{var h;c.current||(h=s.triggerRef.current)==null||h.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:st(e.onInteractOutside,d=>{const h=d.detail.originalEvent,g=h.button===0&&h.ctrlKey===!0,p=h.button===2||g;(!s.modal||p)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GP.displayName=VP;var u6="DropdownMenuGroup",c6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bi(n);return P.jsx(K9,{...s,...r,ref:t})});c6.displayName=u6;var f6="DropdownMenuLabel",$P=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bi(n);return P.jsx(X9,{...s,...r,ref:t})});$P.displayName=f6;var d6="DropdownMenuItem",HP=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bi(n);return P.jsx(Z9,{...s,...r,ref:t})});HP.displayName=d6;var h6="DropdownMenuCheckboxItem",p6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bi(n);return P.jsx(J9,{...s,...r,ref:t})});p6.displayName=h6;var g6="DropdownMenuRadioGroup",m6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bi(n);return P.jsx(Q9,{...s,...r,ref:t})});m6.displayName=g6;var y6="DropdownMenuRadioItem",v6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bi(n);return P.jsx(e6,{...s,...r,ref:t})});v6.displayName=y6;var x6="DropdownMenuItemIndicator",b6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bi(n);return P.jsx(t6,{...s,...r,ref:t})});b6.displayName=x6;var S6="DropdownMenuSeparator",WP=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bi(n);return P.jsx(n6,{...s,...r,ref:t})});WP.displayName=S6;var A6="DropdownMenuArrow",E6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bi(n);return P.jsx(r6,{...s,...r,ref:t})});E6.displayName=A6;var C6="DropdownMenuSubTrigger",w6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bi(n);return P.jsx(i6,{...s,...r,ref:t})});w6.displayName=C6;var R6="DropdownMenuSubContent",T6=F.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bi(n);return P.jsx(o6,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T6.displayName=R6;var N6=BP,_6=zP,I6=UP,O6=GP,D6=$P,P6=HP,M6=WP;function au({...e}){return P.jsx(N6,{"data-slot":"dropdown-menu",...e})}function lu({...e}){return P.jsx(_6,{"data-slot":"dropdown-menu-trigger",...e})}function uu({className:e,sideOffset:t=4,...n}){return P.jsx(I6,{children:P.jsx(O6,{"data-slot":"dropdown-menu-content",sideOffset:t,className:xt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function Br({className:e,inset:t,variant:n="default",...r}){return P.jsx(P6,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:xt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function L6({className:e,inset:t,...n}){return P.jsx(D6,{"data-slot":"dropdown-menu-label","data-inset":t,className:xt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function YP({className:e,...t}){return P.jsx(M6,{"data-slot":"dropdown-menu-separator",className:xt("bg-border -mx-1 my-1 h-px",e),...t})}function vc({className:e,type:t,...n}){return P.jsx("input",{type:t,"data-slot":"input",className:xt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function F6({className:e,...t}){return P.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:P.jsx("table",{"data-slot":"table",className:xt("w-full caption-bottom text-sm",e),...t})})}function k6({className:e,...t}){return P.jsx("thead",{"data-slot":"table-header",className:xt("[&_tr]:border-b",e),...t})}function B6({className:e,...t}){return P.jsx("tbody",{"data-slot":"table-body",className:xt("[&_tr:last-child]:border-0",e),...t})}function Q1({className:e,...t}){return P.jsx("tr",{"data-slot":"table-row",className:xt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function j6({className:e,...t}){return P.jsx("th",{"data-slot":"table-head",className:xt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function XR({className:e,...t}){return P.jsx("td",{"data-slot":"table-cell",className:xt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function z6({data:e}){var _,I;const t=rw(),n=YC(),r=[{id:"select",header:({table:O})=>P.jsx(NR,{checked:O.getIsAllPageRowsSelected()||O.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:L=>O.toggleAllPageRowsSelected(!!L),"aria-label":"Select all"}),cell:({row:O})=>P.jsx(NR,{checked:O.getIsSelected(),onCheckedChange:L=>O.toggleSelected(!!L),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:"ID",enableHiding:!0},{accessorKey:"title",header:"Title",cell:({row:O})=>P.jsx("div",{className:"capitalize",children:O.getValue("title")})},{accessorKey:"createdAt",header:()=>P.jsx("div",{className:"text-right",children:"Created At"}),cell:({row:O})=>{const L=O.getValue("createdAt"),k=AU(new Date(L),{includeSeconds:!0,addSuffix:!0});return P.jsx("div",{className:"text-right font-medium",children:k})}},{id:"actions",enableHiding:!1,cell:({row:O})=>P.jsxs(au,{children:[P.jsx(lu,{asChild:!0,children:P.jsxs(jr,{variant:"ghost",className:"h-8 w-8 p-0",children:[P.jsx("span",{className:"sr-only",children:"Open menu"}),P.jsx(Ij,{})]})}),P.jsxs(uu,{align:"end",children:[P.jsxs(Br,{onClick:L=>{L.stopPropagation(),a({id:String(O.getValue("id")),title:O.getValue("title")})},children:[P.jsx(kj,{className:"mr-2 h-4 w-4"}),"Rename"]}),P.jsxs(Br,{className:"text-red-500 focus:text-red-500",onClick:L=>{L.stopPropagation(),d.mutate(String(O.getValue("id")))},children:[P.jsx(Uj,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}],[s,a]=F.useState(null),c=D1({mutationFn:async O=>await Oz(O),onSuccess:O=>n(`/${O.id}`)}),d=D1({mutationFn:async O=>await Mz(O),onSuccess:()=>t.invalidateQueries({queryKey:["documents"]})}),h=D1({mutationFn:async({id:O,title:L})=>await Pz(O,L),onSuccess:()=>{t.invalidateQueries({queryKey:["documents"]}),a(null)}}),[g,p]=F.useState([]),[m,x]=F.useState([]),[b,E]=F.useState({id:!1}),[w,C]=F.useState({}),T=I5({data:e,columns:r,onSortingChange:p,onColumnFiltersChange:x,getCoreRowModel:x5(),getPaginationRowModel:w5(),getSortedRowModel:R5(),getFilteredRowModel:C5(),onColumnVisibilityChange:E,onRowSelectionChange:C,state:{sorting:g,columnFilters:m,columnVisibility:b,rowSelection:w}});return P.jsxs("div",{className:"w-full",children:[P.jsxs("div",{className:"flex items-center justify-between py-4",children:[P.jsx(vc,{placeholder:"Filter by title...",value:((_=T.getColumn("title"))==null?void 0:_.getFilterValue())??"",onChange:O=>{var L;return(L=T.getColumn("title"))==null?void 0:L.setFilterValue(O.target.value)},className:"max-w-sm"}),P.jsxs(jr,{onClick:()=>{c.mutate({title:"New Document"})},className:"flex items-center gap-2",children:[P.jsx(jj,{className:"w-4 h-4"}),"New Document"]})]}),P.jsx("div",{className:"rounded-md border",children:P.jsxs(F6,{children:[P.jsx(k6,{children:T.getHeaderGroups().map(O=>P.jsx(Q1,{children:O.headers.map(L=>P.jsx(j6,{children:L.isPlaceholder?null:CR(L.column.columnDef.header,L.getContext())},L.id))},O.id))}),P.jsx(B6,{children:(I=T.getRowModel().rows)!=null&&I.length?T.getRowModel().rows.map(O=>P.jsx(Q1,{"data-state":O.getIsSelected()&&"selected",className:"cursor-pointer hover:bg-muted",onClick:L=>{L.target.closest("input, button")||n(`/${O.getValue("id")}`)},children:O.getVisibleCells().map(L=>P.jsx(XR,{children:CR(L.column.columnDef.cell,L.getContext())},L.id))},O.id)):P.jsx(Q1,{children:P.jsx(XR,{colSpan:r.length,className:"h-24 text-center",children:"No results."})})})]})}),P.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[P.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[T.getFilteredSelectedRowModel().rows.length," of"," ",T.getFilteredRowModel().rows.length," row(s) selected."]}),P.jsxs("div",{className:"space-x-2",children:[P.jsx(jr,{variant:"outline",size:"sm",onClick:()=>T.previousPage(),disabled:!T.getCanPreviousPage(),children:"Previous"}),P.jsx(jr,{variant:"outline",size:"sm",onClick:()=>T.nextPage(),disabled:!T.getCanNextPage(),children:"Next"})]})]}),P.jsx(jb,{open:s!==null,onOpenChange:O=>{O||a(null)},children:P.jsx(zb,{children:P.jsxs("form",{onSubmit:O=>{if(O.preventDefault(),!s)return;const k=new FormData(O.target).get("title");k.trim()&&h.mutate({id:s.id,title:k.trim()})},children:[P.jsx(Ub,{children:P.jsx(Vb,{children:"Rename Document"})}),P.jsx(vc,{name:"title",defaultValue:(s==null?void 0:s.title)??"",autoFocus:!0},s==null?void 0:s.id),P.jsxs(JV,{children:[P.jsx(jr,{type:"button",variant:"outline",onClick:()=>a(null),children:"Cancel"}),P.jsx(jr,{type:"submit",disabled:h.isPending,children:"Rename"})]})]})})})]})}function U6(){const{data:e=[],isLoading:t,isError:n}=Uc({queryKey:["documents"],queryFn:Dz});return t?P.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:P.jsx("p",{className:"text-gray-500 text-lg",children:"Loading documents..."})}):n?P.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[P.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load documents."}),P.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):P.jsx("div",{className:"p-4",children:P.jsx(z6,{data:e})})}var U0={exports:{}},V6=U0.exports,ZR;function G6(){return ZR||(ZR=1,function(e,t){var n={};(function(r,s){s(t,KO(),Ob())})(V6,function(r,s,a){var c;(function(f){f[f.Canceled=1]="Canceled",f[f.Unknown=2]="Unknown",f[f.InvalidArgument=3]="InvalidArgument",f[f.DeadlineExceeded=4]="DeadlineExceeded",f[f.NotFound=5]="NotFound",f[f.AlreadyExists=6]="AlreadyExists",f[f.PermissionDenied=7]="PermissionDenied",f[f.ResourceExhausted=8]="ResourceExhausted",f[f.FailedPrecondition=9]="FailedPrecondition",f[f.Aborted=10]="Aborted",f[f.OutOfRange=11]="OutOfRange",f[f.Unimplemented=12]="Unimplemented",f[f.Internal=13]="Internal",f[f.Unavailable=14]="Unavailable",f[f.DataLoss=15]="DataLoss",f[f.Unauthenticated=16]="Unauthenticated"})(c||(c={}));function d(f,i){return f!==null&&typeof f=="object"&&"$typeName"in f&&typeof f.$typeName=="string"?i===void 0?!0:i.typeName===f.$typeName:!1}var h;(function(f){f[f.DOUBLE=1]="DOUBLE",f[f.FLOAT=2]="FLOAT",f[f.INT64=3]="INT64",f[f.UINT64=4]="UINT64",f[f.INT32=5]="INT32",f[f.FIXED64=6]="FIXED64",f[f.FIXED32=7]="FIXED32",f[f.BOOL=8]="BOOL",f[f.STRING=9]="STRING",f[f.BYTES=12]="BYTES",f[f.UINT32=13]="UINT32",f[f.SFIXED32=15]="SFIXED32",f[f.SFIXED64=16]="SFIXED64",f[f.SINT32=17]="SINT32",f[f.SINT64=18]="SINT64"})(h||(h={}));function g(){let f=0,i=0;for(let y=0;y<28;y+=7){let A=this.buf[this.pos++];if(f|=(A&127)<<y,(A&128)==0)return this.assertBounds(),[f,i]}let l=this.buf[this.pos++];if(f|=(l&15)<<28,i=(l&112)>>4,(l&128)==0)return this.assertBounds(),[f,i];for(let y=3;y<=31;y+=7){let A=this.buf[this.pos++];if(i|=(A&127)<<y,(A&128)==0)return this.assertBounds(),[f,i]}throw new Error("invalid varint")}function p(f,i,l){for(let N=0;N<28;N=N+7){const M=f>>>N,z=!(!(M>>>7)&&i==0),W=(z?M|128:M)&255;if(l.push(W),!z)return}const y=f>>>28&15|(i&7)<<4,A=i>>3!=0;if(l.push((A?y|128:y)&255),!!A){for(let N=3;N<31;N=N+7){const M=i>>>N,z=!!(M>>>7),W=(z?M|128:M)&255;if(l.push(W),!z)return}l.push(i>>>31&1)}}const m=4294967296;function x(f){const i=f[0]==="-";i&&(f=f.slice(1));const l=1e6;let y=0,A=0;function N(M,z){const W=Number(f.slice(M,z));A*=l,y=y*l+W,y>=m&&(A=A+(y/m|0),y=y%m)}return N(-24,-18),N(-18,-12),N(-12,-6),N(-6),i?T(y,A):C(y,A)}function b(f,i){let l=C(f,i);const y=l.hi&2147483648;y&&(l=T(l.lo,l.hi));const A=E(l.lo,l.hi);return y?"-"+A:A}function E(f,i){if({lo:f,hi:i}=w(f,i),i<=2097151)return String(m*i+f);const l=f&16777215,y=(f>>>24|i<<8)&16777215,A=i>>16&65535;let N=l+y*6777216+A*6710656,M=y+A*8147497,z=A*2;const W=1e7;return N>=W&&(M+=Math.floor(N/W),N%=W),M>=W&&(z+=Math.floor(M/W),M%=W),z.toString()+_(M)+_(N)}function w(f,i){return{lo:f>>>0,hi:i>>>0}}function C(f,i){return{lo:f|0,hi:i|0}}function T(f,i){return i=~i,f?f=~f+1:i+=1,C(f,i)}const _=f=>{const i=String(f);return"0000000".slice(i.length)+i};function I(f,i){if(f>=0){for(;f>127;)i.push(f&127|128),f=f>>>7;i.push(f)}else{for(let l=0;l<9;l++)i.push(f&127|128),f=f>>7;i.push(1)}}function O(){let f=this.buf[this.pos++],i=f&127;if((f&128)==0)return this.assertBounds(),i;if(f=this.buf[this.pos++],i|=(f&127)<<7,(f&128)==0)return this.assertBounds(),i;if(f=this.buf[this.pos++],i|=(f&127)<<14,(f&128)==0)return this.assertBounds(),i;if(f=this.buf[this.pos++],i|=(f&127)<<21,(f&128)==0)return this.assertBounds(),i;f=this.buf[this.pos++],i|=(f&15)<<28;for(let l=5;(f&128)!==0&&l<10;l++)f=this.buf[this.pos++];if((f&128)!=0)throw new Error("invalid varint");return this.assertBounds(),i>>>0}const L=k();function k(){const f=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof f.getBigInt64=="function"&&typeof f.getBigUint64=="function"&&typeof f.setBigInt64=="function"&&typeof f.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof n!="object"||n.BUF_BIGINT_DISABLE!=="1")){const l=BigInt("-9223372036854775808"),y=BigInt("9223372036854775807"),A=BigInt("0"),N=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(M){const z=typeof M=="bigint"?M:BigInt(M);if(z>y||z<l)throw new Error(`invalid int64: ${M}`);return z},uParse(M){const z=typeof M=="bigint"?M:BigInt(M);if(z>N||z<A)throw new Error(`invalid uint64: ${M}`);return z},enc(M){return f.setBigInt64(0,this.parse(M),!0),{lo:f.getInt32(0,!0),hi:f.getInt32(4,!0)}},uEnc(M){return f.setBigInt64(0,this.uParse(M),!0),{lo:f.getInt32(0,!0),hi:f.getInt32(4,!0)}},dec(M,z){return f.setInt32(0,M,!0),f.setInt32(4,z,!0),f.getBigInt64(0,!0)},uDec(M,z){return f.setInt32(0,M,!0),f.setInt32(4,z,!0),f.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(l){return typeof l!="string"&&(l=l.toString()),V(l),l},uParse(l){return typeof l!="string"&&(l=l.toString()),U(l),l},enc(l){return typeof l!="string"&&(l=l.toString()),V(l),x(l)},uEnc(l){return typeof l!="string"&&(l=l.toString()),U(l),x(l)},dec(l,y){return b(l,y)},uDec(l,y){return E(l,y)}}}function V(f){if(!/^-?[0-9]+$/.test(f))throw new Error("invalid int64: "+f)}function U(f){if(!/^[0-9]+$/.test(f))throw new Error("invalid uint64: "+f)}function q(f,i){switch(f){case h.STRING:return"";case h.BOOL:return!1;case h.DOUBLE:case h.FLOAT:return 0;case h.INT64:case h.UINT64:case h.SFIXED64:case h.FIXED64:case h.SINT64:return i?"0":L.zero;case h.BYTES:return new Uint8Array(0);default:return 0}}function te(f,i){switch(f){case h.BOOL:return i===!1;case h.STRING:return i==="";case h.BYTES:return i instanceof Uint8Array&&!i.byteLength;default:return i==0}}const ie=2,se=Symbol.for("reflect unsafe local");function Ce(f,i){const l=f[i.localName].case;return l===void 0?l:i.fields.find(y=>y.localName===l)}function je(f,i){const l=i.localName;if(i.oneof)return f[i.oneof.localName].case===l;if(i.presence!=ie)return f[l]!==void 0&&Object.prototype.hasOwnProperty.call(f,l);switch(i.fieldKind){case"list":return f[l].length>0;case"map":return Object.keys(f[l]).length>0;case"scalar":return!te(i.scalar,f[l]);case"enum":return f[l]!==i.enum.values[0].number}throw new Error("message field with implicit presence")}function Me(f,i){return Object.prototype.hasOwnProperty.call(f,i)&&f[i]!==void 0}function re(f,i){if(i.oneof){const l=f[i.oneof.localName];return l.case===i.localName?l.value:void 0}return f[i.localName]}function Ie(f,i,l){i.oneof?f[i.oneof.localName]={case:i.localName,value:l}:f[i.localName]=l}function de(f,i){const l=i.localName;if(i.oneof){const y=i.oneof.localName;f[y].case===l&&(f[y]={case:void 0})}else if(i.presence!=ie)delete f[l];else switch(i.fieldKind){case"map":f[l]={};break;case"list":f[l]=[];break;case"enum":f[l]=i.enum.values[0].number;break;case"scalar":f[l]=q(i.scalar,i.longAsString);break}}function fe(f){return f!==null&&typeof f=="object"&&!Array.isArray(f)}function K(f,i){var l,y,A,N;if(fe(f)&&se in f&&"add"in f&&"field"in f&&typeof f.field=="function"){if(i!==void 0){const M=i,z=f.field();return M.listKind==z.listKind&&M.scalar===z.scalar&&((l=M.message)===null||l===void 0?void 0:l.typeName)===((y=z.message)===null||y===void 0?void 0:y.typeName)&&((A=M.enum)===null||A===void 0?void 0:A.typeName)===((N=z.enum)===null||N===void 0?void 0:N.typeName)}return!0}return!1}function ne(f,i){var l,y,A,N;if(fe(f)&&se in f&&"has"in f&&"field"in f&&typeof f.field=="function"){if(i!==void 0){const M=i,z=f.field();return M.mapKey===z.mapKey&&M.mapKind==z.mapKind&&M.scalar===z.scalar&&((l=M.message)===null||l===void 0?void 0:l.typeName)===((y=z.message)===null||y===void 0?void 0:y.typeName)&&((A=M.enum)===null||A===void 0?void 0:A.typeName)===((N=z.enum)===null||N===void 0?void 0:N.typeName)}return!0}return!1}function me(f,i){return fe(f)&&se in f&&"desc"in f&&fe(f.desc)&&f.desc.kind==="message"&&(i===void 0||f.desc.typeName==i.typeName)}function B(f){return G(f.$typeName)}function j(f){const i=f.fields[0];return G(f.typeName)&&i!==void 0&&i.fieldKind=="scalar"&&i.name=="value"&&i.number==1}function G(f){return f.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(f.substring(16))}const H=999,J=998,X=2;function Z(f,i){if(d(i,f))return i;const l=ye(f);return i!==void 0&&le(f,l,i),l}function le(f,i,l){for(const y of f.members){let A=l[y.localName];if(A==null)continue;let N;if(y.kind=="oneof"){const M=Ce(l,y);if(!M)continue;N=M,A=re(l,M)}else N=y;switch(N.fieldKind){case"message":A=ae(N,A);break;case"scalar":A=xe(N,A);break;case"list":A=oe(N,A);break;case"map":A=Se(N,A);break}Ie(i,N,A)}return i}function xe(f,i){return f.scalar==h.BYTES?Ee(i):i}function Se(f,i){if(fe(i)){if(f.scalar==h.BYTES)return Oe(i,Ee);if(f.mapKind=="message")return Oe(i,l=>ae(f,l))}return i}function oe(f,i){if(Array.isArray(i)){if(f.scalar==h.BYTES)return i.map(Ee);if(f.listKind=="message")return i.map(l=>ae(f,l))}return i}function ae(f,i){if(f.fieldKind=="message"&&!f.oneof&&j(f.message))return xe(f.message.fields[0],i);if(fe(i)){if(f.message.typeName=="google.protobuf.Struct"&&f.parent.typeName!=="google.protobuf.Value")return i;if(!d(i,f.message))return Z(f.message,i)}return i}function Ee(f){return Array.isArray(f)?new Uint8Array(f):f}function Oe(f,i){const l={};for(const y of Object.entries(f))l[y[0]]=i(y[1]);return l}const Be=Symbol(),Ge=new WeakMap;function ye(f){let i;if(Fe(f)){const l=Ge.get(f);let y,A;if(l)({prototype:y,members:A}=l);else{y={},A=new Set;for(const N of f.members)N.kind!="oneof"&&(N.fieldKind!="scalar"&&N.fieldKind!="enum"||N.presence!=X&&(A.add(N),y[N.localName]=Qe(N)));Ge.set(f,{prototype:y,members:A})}i=Object.create(y),i.$typeName=f.typeName;for(const N of f.members)A.has(N)||N.kind=="field"&&(N.fieldKind=="message"||(N.fieldKind=="scalar"||N.fieldKind=="enum")&&N.presence!=X)||(i[N.localName]=Qe(N))}else{i={$typeName:f.typeName};for(const l of f.members)(l.kind=="oneof"||l.presence==X)&&(i[l.localName]=Qe(l))}return i}function Fe(f){switch(f.file.edition){case H:return!1;case J:return!0;default:return f.fields.some(i=>i.presence!=X&&i.fieldKind!="message"&&!i.oneof)}}function Qe(f){if(f.kind=="oneof")return{case:void 0};if(f.fieldKind=="list")return[];if(f.fieldKind=="map")return{};if(f.fieldKind=="message")return Be;const i=f.getDefaultValue();return i!==void 0?f.fieldKind=="scalar"&&f.longAsString?i.toString():i:f.fieldKind=="scalar"?q(f.scalar,f.longAsString):f.enum.values[0].number}const yt=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class ht extends Error{constructor(i,l,y="FieldValueInvalidError"){super(l),this.name=y,this.field=()=>i}}function pe(f){return f instanceof Error&&yt.includes(f.name)&&"field"in f&&typeof f.field=="function"}const Ne=Symbol.for("@bufbuild/protobuf/text-encoding");function Ye(){if(globalThis[Ne]==null){const f=new globalThis.TextEncoder,i=new globalThis.TextDecoder;globalThis[Ne]={encodeUtf8(l){return f.encode(l)},decodeUtf8(l){return i.decode(l)},checkUtf8(l){try{return encodeURIComponent(l),!0}catch{return!1}}}}return globalThis[Ne]}var qe;(function(f){f[f.Varint=0]="Varint",f[f.Bit64=1]="Bit64",f[f.LengthDelimited=2]="LengthDelimited",f[f.StartGroup=3]="StartGroup",f[f.EndGroup=4]="EndGroup",f[f.Bit32=5]="Bit32"})(qe||(qe={}));const tt=34028234663852886e22,ft=-34028234663852886e22,bt=4294967295,jt=2147483647,Ot=-2147483648;class un{constructor(i=Ye().encodeUtf8){this.encodeUtf8=i,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let i=0;for(let A=0;A<this.chunks.length;A++)i+=this.chunks[A].length;let l=new Uint8Array(i),y=0;for(let A=0;A<this.chunks.length;A++)l.set(this.chunks[A],y),y+=this.chunks[A].length;return this.chunks=[],l}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let i=this.finish(),l=this.stack.pop();if(!l)throw new Error("invalid state, fork stack empty");return this.chunks=l.chunks,this.buf=l.buf,this.uint32(i.byteLength),this.raw(i)}tag(i,l){return this.uint32((i<<3|l)>>>0)}raw(i){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(i),this}uint32(i){for(mt(i);i>127;)this.buf.push(i&127|128),i=i>>>7;return this.buf.push(i),this}int32(i){return rt(i),I(i,this.buf),this}bool(i){return this.buf.push(i?1:0),this}bytes(i){return this.uint32(i.byteLength),this.raw(i)}string(i){let l=this.encodeUtf8(i);return this.uint32(l.byteLength),this.raw(l)}float(i){At(i);let l=new Uint8Array(4);return new DataView(l.buffer).setFloat32(0,i,!0),this.raw(l)}double(i){let l=new Uint8Array(8);return new DataView(l.buffer).setFloat64(0,i,!0),this.raw(l)}fixed32(i){mt(i);let l=new Uint8Array(4);return new DataView(l.buffer).setUint32(0,i,!0),this.raw(l)}sfixed32(i){rt(i);let l=new Uint8Array(4);return new DataView(l.buffer).setInt32(0,i,!0),this.raw(l)}sint32(i){return rt(i),i=(i<<1^i>>31)>>>0,I(i,this.buf),this}sfixed64(i){let l=new Uint8Array(8),y=new DataView(l.buffer),A=L.enc(i);return y.setInt32(0,A.lo,!0),y.setInt32(4,A.hi,!0),this.raw(l)}fixed64(i){let l=new Uint8Array(8),y=new DataView(l.buffer),A=L.uEnc(i);return y.setInt32(0,A.lo,!0),y.setInt32(4,A.hi,!0),this.raw(l)}int64(i){let l=L.enc(i);return p(l.lo,l.hi,this.buf),this}sint64(i){const l=L.enc(i),y=l.hi>>31,A=l.lo<<1^y,N=(l.hi<<1|l.lo>>>31)^y;return p(A,N,this.buf),this}uint64(i){const l=L.uEnc(i);return p(l.lo,l.hi,this.buf),this}}class Le{constructor(i,l=Ye().decodeUtf8){this.decodeUtf8=l,this.varint64=g,this.uint32=O,this.buf=i,this.len=i.length,this.pos=0,this.view=new DataView(i.buffer,i.byteOffset,i.byteLength)}tag(){let i=this.uint32(),l=i>>>3,y=i&7;if(l<=0||y<0||y>5)throw new Error("illegal tag: field no "+l+" wire type "+y);return[l,y]}skip(i,l){let y=this.pos;switch(i){case qe.Varint:for(;this.buf[this.pos++]&128;);break;case qe.Bit64:this.pos+=4;case qe.Bit32:this.pos+=4;break;case qe.LengthDelimited:let A=this.uint32();this.pos+=A;break;case qe.StartGroup:for(;;){const[N,M]=this.tag();if(M===qe.EndGroup){if(l!==void 0&&N!==l)throw new Error("invalid end group tag");break}this.skip(M,N)}break;default:throw new Error("cant skip wire type "+i)}return this.assertBounds(),this.buf.subarray(y,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let i=this.uint32();return i>>>1^-(i&1)}int64(){return L.dec(...this.varint64())}uint64(){return L.uDec(...this.varint64())}sint64(){let[i,l]=this.varint64(),y=-(i&1);return i=(i>>>1|(l&1)<<31)^y,l=l>>>1^y,L.dec(i,l)}bool(){let[i,l]=this.varint64();return i!==0||l!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return L.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return L.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let i=this.uint32(),l=this.pos;return this.pos+=i,this.assertBounds(),this.buf.subarray(l,l+i)}string(){return this.decodeUtf8(this.bytes())}}function rt(f){if(typeof f=="string")f=Number(f);else if(typeof f!="number")throw new Error("invalid int32: "+typeof f);if(!Number.isInteger(f)||f>jt||f<Ot)throw new Error("invalid int32: "+f)}function mt(f){if(typeof f=="string")f=Number(f);else if(typeof f!="number")throw new Error("invalid uint32: "+typeof f);if(!Number.isInteger(f)||f>bt||f<0)throw new Error("invalid uint32: "+f)}function At(f){if(typeof f=="string"){const i=f;if(f=Number(f),Number.isNaN(f)&&i!=="NaN")throw new Error("invalid float32: "+i)}else if(typeof f!="number")throw new Error("invalid float32: "+typeof f);if(Number.isFinite(f)&&(f>tt||f<ft))throw new Error("invalid float32: "+f)}function Dt(f,i){const l=f.fieldKind=="list"?K(i,f):f.fieldKind=="map"?ne(i,f):Yn(f,i);if(l===!0)return;let y;switch(f.fieldKind){case"list":y=`expected ${$n(f)}, got ${dt(i)}`;break;case"map":y=`expected ${lr(f)}, got ${dt(i)}`;break;default:y=Sa(f,i,l)}return new ht(f,y)}function An(f,i,l){const y=Yn(f,l);if(y!==!0)return new ht(f,`list item #${i+1}: ${Sa(f,l,y)}`)}function Ln(f,i,l){const y=Ur(i,f.mapKey);if(y!==!0)return new ht(f,`invalid map key: ${Sa({scalar:f.mapKey},i,y)}`);const A=Yn(f,l);if(A!==!0)return new ht(f,`map entry ${dt(i)}: ${Sa(f,l,A)}`)}function Yn(f,i){return f.scalar!==void 0?Ur(i,f.scalar):f.enum!==void 0?f.enum.open?Number.isInteger(i):f.enum.values.some(l=>l.number===i):me(i,f.message)}function Ur(f,i){switch(i){case h.DOUBLE:return typeof f=="number";case h.FLOAT:return typeof f!="number"?!1:Number.isNaN(f)||!Number.isFinite(f)?!0:f>tt||f<ft?`${f.toFixed()} out of range`:!0;case h.INT32:case h.SFIXED32:case h.SINT32:return typeof f!="number"||!Number.isInteger(f)?!1:f>jt||f<Ot?`${f.toFixed()} out of range`:!0;case h.FIXED32:case h.UINT32:return typeof f!="number"||!Number.isInteger(f)?!1:f>bt||f<0?`${f.toFixed()} out of range`:!0;case h.BOOL:return typeof f=="boolean";case h.STRING:return typeof f!="string"?!1:Ye().checkUtf8(f)||"invalid UTF8";case h.BYTES:return f instanceof Uint8Array;case h.INT64:case h.SFIXED64:case h.SINT64:if(typeof f=="bigint"||typeof f=="number"||typeof f=="string"&&f.length>0)try{return L.parse(f),!0}catch{return`${f} out of range`}return!1;case h.FIXED64:case h.UINT64:if(typeof f=="bigint"||typeof f=="number"||typeof f=="string"&&f.length>0)try{return L.uParse(f),!0}catch{return`${f} out of range`}return!1}}function Sa(f,i,l){return l=typeof l=="string"?`: ${l}`:`, got ${dt(i)}`,f.scalar!==void 0?`expected ${Aa(f.scalar)}`+l:f.enum!==void 0?`expected ${f.enum.toString()}`+l:`expected ${Fn(f.message)}`+l}function dt(f){switch(typeof f){case"object":return f===null?"null":f instanceof Uint8Array?`Uint8Array(${f.length})`:Array.isArray(f)?`Array(${f.length})`:K(f)?$n(f.field()):ne(f)?lr(f.field()):me(f)?Fn(f.desc):d(f)?`message ${f.$typeName}`:"object";case"string":return f.length>30?"string":`"${f.split('"').join('\\"')}"`;case"boolean":return String(f);case"number":return String(f);case"bigint":return String(f)+"n";default:return typeof f}}function Fn(f){return`ReflectMessage (${f.typeName})`}function $n(f){switch(f.listKind){case"message":return`ReflectList (${f.message.toString()})`;case"enum":return`ReflectList (${f.enum.toString()})`;case"scalar":return`ReflectList (${h[f.scalar]})`}}function lr(f){switch(f.mapKind){case"message":return`ReflectMap (${h[f.mapKey]}, ${f.message.toString()})`;case"enum":return`ReflectMap (${h[f.mapKey]}, ${f.enum.toString()})`;case"scalar":return`ReflectMap (${h[f.mapKey]}, ${h[f.scalar]})`}}function Aa(f){switch(f){case h.STRING:return"string";case h.BOOL:return"boolean";case h.INT64:case h.SINT64:case h.SFIXED64:return"bigint (int64)";case h.UINT64:case h.FIXED64:return"bigint (uint64)";case h.BYTES:return"Uint8Array";case h.DOUBLE:return"number (float64)";case h.FLOAT:return"number (float32)";case h.FIXED32:case h.UINT32:return"number (uint32)";case h.INT32:case h.SFIXED32:case h.SINT32:return"number (int32)"}}function nn(f,i,l=!0){return new Bn(f,i,l)}const kn=new WeakMap;class Bn{get sortedFields(){const i=kn.get(this.desc);if(i)return i;const l=this.desc.fields.concat().sort((y,A)=>y.number-A.number);return kn.set(this.desc,l),l}constructor(i,l,y=!0){this.lists=new Map,this.maps=new Map,this.check=y,this.desc=i,this.message=this[se]=l??Z(i),this.fields=i.fields,this.oneofs=i.oneofs,this.members=i.members}findNumber(i){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(l=>[l.number,l]))),this._fieldsByNumber.get(i)}oneofCase(i){return rn(this.message,i),Ce(this.message,i)}isSet(i){return rn(this.message,i),je(this.message,i)}clear(i){rn(this.message,i),de(this.message,i)}get(i){rn(this.message,i);const l=re(this.message,i);switch(i.fieldKind){case"list":let y=this.lists.get(i);return(!y||y[se]!==l)&&this.lists.set(i,y=new ur(i,l,this.check)),y;case"map":let A=this.maps.get(i);return(!A||A[se]!==l)&&this.maps.set(i,A=new vu(i,l,this.check)),A;case"message":return fh(i,l,this.check);case"scalar":return l===void 0?q(i.scalar,!1):Rs(i,l);case"enum":return l??i.enum.values[0].number}}set(i,l){if(rn(this.message,i),this.check){const A=Dt(i,l);if(A)throw A}let y;i.fieldKind=="message"?y=ji(i,l):ne(l)||K(l)?y=l[se]:y=qn(i,l),Ie(this.message,i,y)}getUnknown(){return this.message.$unknown}setUnknown(i){this.message.$unknown=i}}function rn(f,i){if(i.parent.typeName!==f.$typeName)throw new ht(i,`cannot use ${i.toString()} with message ${f.$typeName}`,"ForeignFieldError")}class ur{field(){return this._field}get size(){return this._arr.length}constructor(i,l,y){this._field=i,this._arr=this[se]=l,this.check=y}get(i){const l=this._arr[i];return l===void 0?void 0:Ea(this._field,l,this.check)}set(i,l){if(i<0||i>=this._arr.length)throw new ht(this._field,`list item #${i+1}: out of range`);if(this.check){const y=An(this._field,i,l);if(y)throw y}this._arr[i]=xg(this._field,l)}add(i){if(this.check){const l=An(this._field,this._arr.length,i);if(l)throw l}this._arr.push(xg(this._field,i))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const i of this._arr)yield Ea(this._field,i,this.check)}*entries(){for(let i=0;i<this._arr.length;i++)yield[i,Ea(this._field,this._arr[i],this.check)]}}class vu{constructor(i,l,y=!0){this.obj=this[se]=l??{},this.check=y,this._field=i}field(){return this._field}set(i,l){if(this.check){const y=Ln(this._field,i,l);if(y)throw y}return this.obj[Do(i)]=bg(this._field,l),this}delete(i){const l=Do(i),y=Object.prototype.hasOwnProperty.call(this.obj,l);return y&&delete this.obj[l],y}clear(){for(const i of Object.keys(this.obj))delete this.obj[i]}get(i){let l=this.obj[Do(i)];return l!==void 0&&(l=ws(this._field,l,this.check)),l}has(i){return Object.prototype.hasOwnProperty.call(this.obj,Do(i))}*keys(){for(const i of Object.keys(this.obj))yield xu(i,this._field.mapKey)}*entries(){for(const i of Object.entries(this.obj))yield[xu(i[0],this._field.mapKey),ws(this._field,i[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const i of Object.values(this.obj))yield ws(this._field,i,this.check)}forEach(i,l){for(const y of this.entries())i.call(l,y[1],y[0],this)}}function ji(f,i){return me(i)?B(i.message)&&!f.oneof&&f.fieldKind=="message"?i.message.value:i.desc.typeName=="google.protobuf.Struct"&&f.parent.typeName!="google.protobuf.Value"?Ag(i.message):i.message:i}function fh(f,i,l){return i!==void 0&&(j(f.message)&&!f.oneof&&f.fieldKind=="message"?i={$typeName:f.message.typeName,value:Rs(f.message.fields[0],i)}:f.message.typeName=="google.protobuf.Struct"&&f.parent.typeName!="google.protobuf.Value"&&fe(i)&&(i=Sg(i))),new Bn(f.message,i,l)}function xg(f,i){return f.listKind=="message"?ji(f,i):qn(f,i)}function Ea(f,i,l){return f.listKind=="message"?fh(f,i,l):Rs(f,i)}function bg(f,i){return f.mapKind=="message"?ji(f,i):qn(f,i)}function ws(f,i,l){return f.mapKind=="message"?fh(f,i,l):i}function Do(f){return typeof f=="string"||typeof f=="number"?f:String(f)}function xu(f,i){switch(i){case h.STRING:return f;case h.INT32:case h.FIXED32:case h.UINT32:case h.SFIXED32:case h.SINT32:{const l=Number.parseInt(f);if(Number.isFinite(l))return l;break}case h.BOOL:switch(f){case"true":return!0;case"false":return!1}break;case h.UINT64:case h.FIXED64:try{return L.uParse(f)}catch{}break;default:try{return L.parse(f)}catch{}break}return f}function Rs(f,i){switch(f.scalar){case h.INT64:case h.SFIXED64:case h.SINT64:"longAsString"in f&&f.longAsString&&typeof i=="string"&&(i=L.parse(i));break;case h.FIXED64:case h.UINT64:"longAsString"in f&&f.longAsString&&typeof i=="string"&&(i=L.uParse(i));break}return i}function qn(f,i){switch(f.scalar){case h.INT64:case h.SFIXED64:case h.SINT64:"longAsString"in f&&f.longAsString?i=String(i):(typeof i=="string"||typeof i=="number")&&(i=L.parse(i));break;case h.FIXED64:case h.UINT64:"longAsString"in f&&f.longAsString?i=String(i):(typeof i=="string"||typeof i=="number")&&(i=L.uParse(i));break}return i}function Sg(f){const i={$typeName:"google.protobuf.Struct",fields:{}};if(fe(f))for(const[l,y]of Object.entries(f))i.fields[l]=Ca(y);return i}function Ag(f){const i={};for(const[l,y]of Object.entries(f.fields))i[l]=Ts(y);return i}function Ts(f){switch(f.kind.case){case"structValue":return Ag(f.kind.value);case"listValue":return f.kind.value.values.map(Ts);case"nullValue":case void 0:return null;default:return f.kind.value}}function Ca(f){const i={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof f){case"number":i.kind={case:"numberValue",value:f};break;case"string":i.kind={case:"stringValue",value:f};break;case"boolean":i.kind={case:"boolValue",value:f};break;case"object":if(f===null)i.kind={case:"nullValue",value:0};else if(Array.isArray(f)){const l={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(f))for(const y of f)l.values.push(Ca(y));i.kind={case:"listValue",value:l}}else i.kind={case:"structValue",value:Sg(f)};break}return i}function Eg(f){const i=Mo();let l=f.length*3/4;f[f.length-2]=="="?l-=2:f[f.length-1]=="="&&(l-=1);let y=new Uint8Array(l),A=0,N=0,M,z=0;for(let W=0;W<f.length;W++){if(M=i[f.charCodeAt(W)],M===void 0)switch(f[W]){case"=":N=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(N){case 0:z=M,N=1;break;case 1:y[A++]=z<<2|(M&48)>>4,z=M,N=2;break;case 2:y[A++]=(z&15)<<4|(M&60)>>2,z=M,N=3;break;case 3:y[A++]=(z&3)<<6|M,N=0;break}}if(N==1)throw Error("invalid base64 string");return y.subarray(0,A)}function _y(f,i="std"){const l=Jc(i),y=i=="std";let A="",N=0,M,z=0;for(let W=0;W<f.length;W++)switch(M=f[W],N){case 0:A+=l[M>>2],z=(M&3)<<4,N=1;break;case 1:A+=l[z|M>>4],z=(M&15)<<2,N=2;break;case 2:A+=l[z|M>>6],A+=l[M&63],N=0;break}return N&&(A+=l[z],y&&(A+="=",N==1&&(A+="="))),A}let Zc,Iy,Po;function Jc(f){return Zc||(Zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Iy=Zc.slice(0,-2).concat("-","_")),f=="url"?Iy:Zc}function Mo(){if(!Po){Po=[];const f=Jc("std");for(let i=0;i<f.length;i++)Po[f[i].charCodeAt(0)]=i;Po[45]=f.indexOf("+"),Po[95]=f.indexOf("/")}return Po}function wa(f){let i=!1;const l=[];for(let y=0;y<f.length;y++){let A=f.charAt(y);switch(A){case"_":i=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":l.push(A),i=!1;break;default:i&&(i=!1,A=A.toUpperCase()),l.push(A);break}}return l.join("")}const Oy=new Set(["constructor","toString","toJSON","valueOf"]);function io(f){return Oy.has(f)?f+"$":f}function Qc(f){for(const i of f.field)Me(i,"jsonName")||(i.jsonName=wa(i.name));f.nestedType.forEach(Qc)}function Cg(f,i){const l=f.values.find(y=>y.name===i);if(!l)throw new Error(`cannot parse ${f} default value: ${i}`);return l.number}function ES(f,i){switch(f){case h.STRING:return i;case h.BYTES:{const l=Dy(i);if(l===!1)throw new Error(`cannot parse ${h[f]} default value: ${i}`);return l}case h.INT64:case h.SFIXED64:case h.SINT64:return L.parse(i);case h.UINT64:case h.FIXED64:return L.uParse(i);case h.DOUBLE:case h.FLOAT:switch(i){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(i)}case h.BOOL:return i==="true";case h.INT32:case h.UINT32:case h.SINT32:case h.FIXED32:case h.SFIXED32:return parseInt(i,10)}}function Dy(f){const i=[],l={tail:f,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(y){if(this.tail.length>=y){const A=this.tail.substring(0,y);return this.tail=this.tail.substring(y),A}return!1}};for(;l.next();)switch(l.c){case"\\":if(l.next())switch(l.c){case"\\":i.push(l.c.charCodeAt(0));break;case"b":i.push(8);break;case"f":i.push(12);break;case"n":i.push(10);break;case"r":i.push(13);break;case"t":i.push(9);break;case"v":i.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const y=l.c,A=l.take(2);if(A===!1)return!1;const N=parseInt(y+A,8);if(Number.isNaN(N))return!1;i.push(N);break}case"x":{const y=l.c,A=l.take(2);if(A===!1)return!1;const N=parseInt(y+A,16);if(Number.isNaN(N))return!1;i.push(N);break}case"u":{const y=l.c,A=l.take(4);if(A===!1)return!1;const N=parseInt(y+A,16);if(Number.isNaN(N))return!1;const M=new Uint8Array(4);new DataView(M.buffer).setInt32(0,N,!0),i.push(M[0],M[1],M[2],M[3]);break}case"U":{const y=l.c,A=l.take(8);if(A===!1)return!1;const N=L.uEnc(y+A),M=new Uint8Array(8),z=new DataView(M.buffer);z.setInt32(0,N.lo,!0),z.setInt32(4,N.hi,!0),i.push(M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7]);break}}break;default:i.push(l.c.charCodeAt(0))}return new Uint8Array(i)}function*Vr(f){switch(f.kind){case"file":for(const i of f.messages)yield i,yield*Vr(i);yield*f.enums,yield*f.services,yield*f.extensions;break;case"message":for(const i of f.nestedMessages)yield i,yield*Vr(i);yield*f.nestedEnums,yield*f.nestedExtensions;break}}function wg(...f){const i=CS();if(!f.length)return i;if("$typeName"in f[0]&&f[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const l of f[0].file)nf(l,i);return i}if("$typeName"in f[0]){let l=function(M){const z=[];for(const W of M.dependency){if(i.getFile(W)!=null||N.has(W))continue;const ee=A(W);if(!ee)throw new Error(`Unable to resolve ${W}, imported by ${M.name}`);"kind"in ee?i.addFile(ee,!1,!0):(N.add(ee.name),z.push(ee))}return z.concat(...z.map(l))};const y=f[0],A=f[1],N=new Set;for(const M of[y,...l(y)].reverse())nf(M,i)}else for(const l of f)for(const y of l.files)i.addFile(y);return i}function CS(){const f=new Map,i=new Map,l=new Map;return{kind:"registry",types:f,extendees:i,[Symbol.iterator](){return f.values()},get files(){return l.values()},addFile(y,A,N){if(l.set(y.proto.name,y),!A)for(const M of Vr(y))this.add(M);if(N)for(const M of y.dependencies)this.addFile(M,A,N)},add(y){if(y.kind=="extension"){let A=i.get(y.extendee.typeName);A||i.set(y.extendee.typeName,A=new Map),A.set(y.number,y)}f.set(y.typeName,y)},get(y){return f.get(y)},getFile(y){return l.get(y)},getMessage(y){const A=f.get(y);return(A==null?void 0:A.kind)=="message"?A:void 0},getEnum(y){const A=f.get(y);return(A==null?void 0:A.kind)=="enum"?A:void 0},getExtension(y){const A=f.get(y);return(A==null?void 0:A.kind)=="extension"?A:void 0},getExtensionFor(y,A){var N;return(N=i.get(y.typeName))===null||N===void 0?void 0:N.get(A)},getService(y){const A=f.get(y);return(A==null?void 0:A.kind)=="service"?A:void 0}}}const dh=998,Py=999,hh=9,ef=10,Er=11,Rg=12,Tg=14,tf=3,bu=2,Ng=1,My=0,Ns=1,Ly=2,Fy=3,ky=1,_g=2,wS=1,By={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function nf(f,i){var l,y;const A={kind:"file",proto:f,deprecated:(y=(l=f.options)===null||l===void 0?void 0:l.deprecated)!==null&&y!==void 0?y:!1,edition:Lo(f),name:f.name.replace(/\.proto$/,""),dependencies:Og(f,i),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${f.name}`}},N=new Map,M={get(z){return N.get(z)},add(z){var W;_r(((W=z.proto.options)===null||W===void 0?void 0:W.mapEntry)===!0),N.set(z.typeName,z)}};for(const z of f.enumType)Ra(z,A,void 0,i);for(const z of f.messageType)Ta(z,A,void 0,i,M);for(const z of f.service)jy(z,A,i);rf(A,i);for(const z of N.values())of(z,i,M);for(const z of A.messages)of(z,i,M),rf(z,i);i.addFile(A,!0)}function rf(f,i){switch(f.kind){case"file":for(const l of f.proto.extension){const y=Na(l,f,i);f.extensions.push(y),i.add(y)}break;case"message":for(const l of f.proto.extension){const y=Na(l,f,i);f.nestedExtensions.push(y),i.add(y)}for(const l of f.nestedMessages)rf(l,i);break}}function of(f,i,l){const y=f.proto.oneofDecl.map(N=>zy(N,f)),A=new Set;for(const N of f.proto.field){const M=Uy(N,y),z=Na(N,f,i,M,l);f.fields.push(z),f.field[z.localName]=z,M===void 0?f.members.push(z):(M.fields.push(z),A.has(M)||(A.add(M),f.members.push(M)))}for(const N of y.filter(M=>A.has(M)))f.oneofs.push(N);for(const N of f.nestedMessages)of(N,i,l)}function Ra(f,i,l,y){var A,N,M,z,W;const ee=sf(f.name,f.value),ue={kind:"enum",proto:f,deprecated:(N=(A=f.options)===null||A===void 0?void 0:A.deprecated)!==null&&N!==void 0?N:!1,file:i,parent:l,open:!0,name:f.name,typeName:Su(f,l,i),value:{},values:[],sharedPrefix:ee,toString(){return`enum ${this.typeName}`}};ue.open=Gr(ue),y.add(ue);for(const we of f.value){const ke=we.name;ue.values.push(ue.value[we.number]={kind:"enum_value",proto:we,deprecated:(z=(M=we.options)===null||M===void 0?void 0:M.deprecated)!==null&&z!==void 0?z:!1,parent:ue,name:ke,localName:io(ee==null?ke:ke.substring(ee.length)),number:we.number,toString(){return`enum value ${ue.typeName}.${ke}`}})}((W=l==null?void 0:l.nestedEnums)!==null&&W!==void 0?W:i.enums).push(ue)}function Ta(f,i,l,y,A){var N,M,z,W;const ee={kind:"message",proto:f,deprecated:(M=(N=f.options)===null||N===void 0?void 0:N.deprecated)!==null&&M!==void 0?M:!1,file:i,parent:l,name:f.name,typeName:Su(f,l,i),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((z=f.options)===null||z===void 0?void 0:z.mapEntry)===!0?A.add(ee):(((W=l==null?void 0:l.nestedMessages)!==null&&W!==void 0?W:i.messages).push(ee),y.add(ee));for(const ue of f.enumType)Ra(ue,i,ee,y);for(const ue of f.nestedType)Ta(ue,i,ee,y,A)}function jy(f,i,l){var y,A;const N={kind:"service",proto:f,deprecated:(A=(y=f.options)===null||y===void 0?void 0:y.deprecated)!==null&&A!==void 0?A:!1,file:i,name:f.name,typeName:Su(f,void 0,i),methods:[],method:{},toString(){return`service ${this.typeName}`}};i.services.push(N),l.add(N);for(const M of f.method){const z=Ig(M,N,l);N.methods.push(z),N.method[z.localName]=z}}function Ig(f,i,l){var y,A,N,M;let z;f.clientStreaming&&f.serverStreaming?z="bidi_streaming":f.clientStreaming?z="client_streaming":f.serverStreaming?z="server_streaming":z="unary";const W=l.getMessage(Si(f.inputType)),ee=l.getMessage(Si(f.outputType));_r(W,`invalid MethodDescriptorProto: input_type ${f.inputType} not found`),_r(ee,`invalid MethodDescriptorProto: output_type ${f.inputType} not found`);const ue=f.name;return{kind:"rpc",proto:f,deprecated:(A=(y=f.options)===null||y===void 0?void 0:y.deprecated)!==null&&A!==void 0?A:!1,parent:i,name:ue,localName:io(ue.length?io(ue[0].toLowerCase()+ue.substring(1)):ue),methodKind:z,input:W,output:ee,idempotency:(M=(N=f.options)===null||N===void 0?void 0:N.idempotencyLevel)!==null&&M!==void 0?M:My,toString(){return`rpc ${i.typeName}.${ue}`}}}function zy(f,i){return{kind:"oneof",proto:f,deprecated:!1,parent:i,fields:[],name:f.name,localName:io(wa(f.name)),toString(){return`oneof ${i.typeName}.${this.name}`}}}function Na(f,i,l,y,A){var N,M,z;const W=A===void 0,ee={kind:"field",proto:f,deprecated:(M=(N=f.options)===null||N===void 0?void 0:N.deprecated)!==null&&M!==void 0?M:!1,name:f.name,number:f.number,scalar:void 0,message:void 0,enum:void 0,presence:ph(f,y,W,i),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(W){const Re=i.kind=="file"?i:i.file,We=i.kind=="file"?void 0:i,He=Su(f,We,Re);ee.kind="extension",ee.file=Re,ee.parent=We,ee.oneof=void 0,ee.typeName=He,ee.jsonName=`[${He}]`,ee.toString=()=>`extension ${He}`;const it=l.getMessage(Si(f.extendee));_r(it,`invalid FieldDescriptorProto: extendee ${f.extendee} not found`),ee.extendee=it}else{const Re=i;_r(Re.kind=="message"),ee.parent=Re,ee.oneof=y,ee.localName=y?wa(f.name):io(wa(f.name)),ee.jsonName=f.jsonName,ee.toString=()=>`field ${Re.typeName}.${f.name}`}const ue=f.label,we=f.type,ke=(z=f.options)===null||z===void 0?void 0:z.jstype;if(ue===tf){const Re=we==Er?A==null?void 0:A.get(Si(f.typeName)):void 0;if(Re){ee.fieldKind="map";const{key:We,value:He}=Vy(Re);return ee.mapKey=We.scalar,ee.mapKind=He.fieldKind,ee.message=He.message,ee.delimitedEncoding=!1,ee.enum=He.enum,ee.scalar=He.scalar,ee}switch(ee.fieldKind="list",we){case Er:case ef:ee.listKind="message",ee.message=l.getMessage(Si(f.typeName)),_r(ee.message),ee.delimitedEncoding=Is(f,i);break;case Tg:ee.listKind="enum",ee.enum=l.getEnum(Si(f.typeName)),_r(ee.enum);break;default:ee.listKind="scalar",ee.scalar=we,ee.longAsString=ke==Ng;break}return ee.packed=gh(f,i),ee}switch(we){case Er:case ef:ee.fieldKind="message",ee.message=l.getMessage(Si(f.typeName)),_r(ee.message,`invalid FieldDescriptorProto: type_name ${f.typeName} not found`),ee.delimitedEncoding=Is(f,i),ee.getDefaultValue=()=>{};break;case Tg:{const Re=l.getEnum(Si(f.typeName));_r(Re!==void 0,`invalid FieldDescriptorProto: type_name ${f.typeName} not found`),ee.fieldKind="enum",ee.enum=l.getEnum(Si(f.typeName)),ee.getDefaultValue=()=>Me(f,"defaultValue")?Cg(Re,f.defaultValue):void 0;break}default:{ee.fieldKind="scalar",ee.scalar=we,ee.longAsString=ke==Ng,ee.getDefaultValue=()=>Me(f,"defaultValue")?ES(we,f.defaultValue):void 0;break}}return ee}function Lo(f){switch(f.syntax){case"":case"proto2":return dh;case"proto3":return Py;case"editions":if(f.edition in By)return f.edition;throw new Error(`${f.name}: unsupported edition`);default:throw new Error(`${f.name}: unsupported syntax "${f.syntax}"`)}}function Og(f,i){return f.dependency.map(l=>{const y=i.getFile(l);if(!y)throw new Error(`Cannot find ${l}, imported by ${f.name}`);return y})}function sf(f,i){const l=_s(f)+"_";for(const y of i){if(!y.name.toLowerCase().startsWith(l))return;const A=y.name.substring(l.length);if(A.length==0||/^\d/.test(A))return}return l}function _s(f){return(f.substring(0,1)+f.substring(1).replace(/[A-Z]/g,i=>"_"+i)).toLowerCase()}function Su(f,i,l){let y;return i?y=`${i.typeName}.${f.name}`:l.proto.package.length>0?y=`${l.proto.package}.${f.name}`:y=`${f.name}`,y}function Si(f){return f.startsWith(".")?f.substring(1):f}function Uy(f,i){if(!Me(f,"oneofIndex")||f.proto3Optional)return;const l=i[f.oneofIndex];return _r(l,`invalid FieldDescriptorProto: oneof #${f.oneofIndex} for field #${f.number} not found`),l}function ph(f,i,l,y){if(f.label==bu)return Fy;if(f.label==tf)return Ly;if(i||f.proto3Optional||l)return Ns;const A=Fo("fieldPresence",{proto:f,parent:y});return A==Ly&&(f.type==Er||f.type==ef)?Ns:A}function gh(f,i){if(f.label!=tf)return!1;switch(f.type){case hh:case Rg:case ef:case Er:return!1}const l=f.options;return l&&Me(l,"packed")?l.packed:ky==Fo("repeatedFieldEncoding",{proto:f,parent:i})}function Vy(f){const i=f.fields.find(y=>y.number===1),l=f.fields.find(y=>y.number===2);return _r(i&&i.fieldKind=="scalar"&&i.scalar!=h.BYTES&&i.scalar!=h.FLOAT&&i.scalar!=h.DOUBLE&&l&&l.fieldKind!="list"&&l.fieldKind!="map"),{key:i,value:l}}function Gr(f){var i;return wS==Fo("enumType",{proto:f.proto,parent:(i=f.parent)!==null&&i!==void 0?i:f.file})}function Is(f,i){return f.type==ef?!0:_g==Fo("messageEncoding",{proto:f,parent:i})}function Fo(f,i){var l,y;const A=(l=i.proto.options)===null||l===void 0?void 0:l.features;if(A){const N=A[f];if(N!=0)return N}if("kind"in i){if(i.kind=="message")return Fo(f,(y=i.parent)!==null&&y!==void 0?y:i.file);const N=By[i.edition];if(!N)throw new Error(`feature default for edition ${i.edition} not found`);return N[f]}return Fo(f,i.parent)}function _r(f,i){if(!f)throw new Error(i)}function RS(f){const i=Dg(f);return i.messageType.forEach(Qc),wg(i,()=>{}).getFile(i.name)}function Dg(f){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},f),{messageType:f.messageType.map(mh),enumType:f.enumType.map(Pg)}))}function mh(f){var i,l,y,A,N,M,z,W;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:f.name,field:(l=(i=f.field)===null||i===void 0?void 0:i.map(af))!==null&&l!==void 0?l:[],extension:[],nestedType:(A=(y=f.nestedType)===null||y===void 0?void 0:y.map(mh))!==null&&A!==void 0?A:[],enumType:(M=(N=f.enumType)===null||N===void 0?void 0:N.map(Pg))!==null&&M!==void 0?M:[],extensionRange:(W=(z=f.extensionRange)===null||z===void 0?void 0:z.map(ue=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},ue)))!==null&&W!==void 0?W:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function af(f){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},f),{options:f.options?yh(f.options):void 0}))}function yh(f){var i,l,y;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},f),{targets:(i=f.targets)!==null&&i!==void 0?i:[],editionDefaults:(y=(l=f.editionDefaults)===null||l===void 0?void 0:l.map(N=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},N)))!==null&&y!==void 0?y:[],uninterpretedOption:[]}))}function Pg(f){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:f.name,reservedName:[],reservedRange:[],value:f.value.map(l=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},l))})}function It(f,i,...l){return l.reduce((y,A)=>y.nestedMessages[A],f.messages[i])}const TS=It(RS({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),1);var vh;(function(f){f[f.DECLARATION=0]="DECLARATION",f[f.UNVERIFIED=1]="UNVERIFIED"})(vh||(vh={}));var Gy;(function(f){f[f.DOUBLE=1]="DOUBLE",f[f.FLOAT=2]="FLOAT",f[f.INT64=3]="INT64",f[f.UINT64=4]="UINT64",f[f.INT32=5]="INT32",f[f.FIXED64=6]="FIXED64",f[f.FIXED32=7]="FIXED32",f[f.BOOL=8]="BOOL",f[f.STRING=9]="STRING",f[f.GROUP=10]="GROUP",f[f.MESSAGE=11]="MESSAGE",f[f.BYTES=12]="BYTES",f[f.UINT32=13]="UINT32",f[f.ENUM=14]="ENUM",f[f.SFIXED32=15]="SFIXED32",f[f.SFIXED64=16]="SFIXED64",f[f.SINT32=17]="SINT32",f[f.SINT64=18]="SINT64"})(Gy||(Gy={}));var $y;(function(f){f[f.OPTIONAL=1]="OPTIONAL",f[f.REPEATED=3]="REPEATED",f[f.REQUIRED=2]="REQUIRED"})($y||($y={}));var Hy;(function(f){f[f.SPEED=1]="SPEED",f[f.CODE_SIZE=2]="CODE_SIZE",f[f.LITE_RUNTIME=3]="LITE_RUNTIME"})(Hy||(Hy={}));var Wy;(function(f){f[f.STRING=0]="STRING",f[f.CORD=1]="CORD",f[f.STRING_PIECE=2]="STRING_PIECE"})(Wy||(Wy={}));var Yy;(function(f){f[f.JS_NORMAL=0]="JS_NORMAL",f[f.JS_STRING=1]="JS_STRING",f[f.JS_NUMBER=2]="JS_NUMBER"})(Yy||(Yy={}));var Mg;(function(f){f[f.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",f[f.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",f[f.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(Mg||(Mg={}));var qy;(function(f){f[f.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",f[f.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",f[f.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",f[f.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",f[f.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",f[f.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",f[f.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",f[f.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",f[f.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",f[f.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(qy||(qy={}));var Ky;(function(f){f[f.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",f[f.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",f[f.IDEMPOTENT=2]="IDEMPOTENT"})(Ky||(Ky={}));var Xy;(function(f){f[f.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",f[f.EXPORT_ALL=1]="EXPORT_ALL",f[f.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",f[f.LOCAL_ALL=3]="LOCAL_ALL",f[f.STRICT=4]="STRICT"})(Xy||(Xy={}));var Zy;(function(f){f[f.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",f[f.EXPLICIT=1]="EXPLICIT",f[f.IMPLICIT=2]="IMPLICIT",f[f.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(Zy||(Zy={}));var xh;(function(f){f[f.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",f[f.OPEN=1]="OPEN",f[f.CLOSED=2]="CLOSED"})(xh||(xh={}));var Jy;(function(f){f[f.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",f[f.PACKED=1]="PACKED",f[f.EXPANDED=2]="EXPANDED"})(Jy||(Jy={}));var Qy;(function(f){f[f.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",f[f.VERIFY=2]="VERIFY",f[f.NONE=3]="NONE"})(Qy||(Qy={}));var ev;(function(f){f[f.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",f[f.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",f[f.DELIMITED=2]="DELIMITED"})(ev||(ev={}));var Lg;(function(f){f[f.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",f[f.ALLOW=1]="ALLOW",f[f.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Lg||(Lg={}));var tv;(function(f){f[f.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",f[f.STYLE2024=1]="STYLE2024",f[f.STYLE_LEGACY=2]="STYLE_LEGACY"})(tv||(tv={}));var nv;(function(f){f[f.NONE=0]="NONE",f[f.SET=1]="SET",f[f.ALIAS=2]="ALIAS"})(nv||(nv={}));var rv;(function(f){f[f.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",f[f.EDITION_LEGACY=900]="EDITION_LEGACY",f[f.EDITION_PROTO2=998]="EDITION_PROTO2",f[f.EDITION_PROTO3=999]="EDITION_PROTO3",f[f.EDITION_2023=1e3]="EDITION_2023",f[f.EDITION_2024=1001]="EDITION_2024",f[f.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",f[f.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",f[f.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",f[f.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",f[f.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",f[f.EDITION_MAX=2147483647]="EDITION_MAX"})(rv||(rv={}));var iv;(function(f){f[f.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",f[f.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",f[f.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(iv||(iv={}));const ov={readUnknownFields:!0};function NS(f){return f?Object.assign(Object.assign({},ov),f):ov}function Ai(f,i,l){const y=nn(f,void 0,!1);return sv(y,new Le(i),NS(l),!1,i.byteLength),y.message}function sv(f,i,l,y,A){var N;const M=y?i.len:i.pos+A;let z,W;const ee=(N=f.getUnknown())!==null&&N!==void 0?N:[];for(;i.pos<M&&([z,W]=i.tag(),!(y&&W==qe.EndGroup));){const ue=f.findNumber(z);if(!ue){const we=i.skip(W,z);l.readUnknownFields&&ee.push({no:z,wireType:W,data:we});continue}av(f,i,ue,W,l)}if(y&&(W!=qe.EndGroup||z!==A))throw new Error("invalid end group tag");ee.length>0&&f.setUnknown(ee)}function av(f,i,l,y,A){var N;switch(l.fieldKind){case"scalar":f.set(l,_a(i,l.scalar));break;case"enum":const M=_a(i,h.INT32);if(l.enum.open)f.set(l,M);else if(l.enum.values.some(W=>W.number===M))f.set(l,M);else if(A.readUnknownFields){const W=[];I(M,W);const ee=(N=f.getUnknown())!==null&&N!==void 0?N:[];ee.push({no:l.number,wireType:y,data:new Uint8Array(W)}),f.setUnknown(ee)}break;case"message":f.set(l,kg(i,A,l,f.get(l)));break;case"list":lf(i,y,f.get(l),A);break;case"map":Fg(i,f.get(l),A);break}}function Fg(f,i,l){const y=i.field();let A,N;const M=f.uint32(),z=f.pos+M;for(;f.pos<z;){const[W]=f.tag();switch(W){case 1:A=_a(f,y.mapKey);break;case 2:switch(y.mapKind){case"scalar":N=_a(f,y.scalar);break;case"enum":N=f.int32();break;case"message":N=kg(f,l,y);break}break}}if(A===void 0&&(A=q(y.mapKey,!1)),N===void 0)switch(y.mapKind){case"scalar":N=q(y.scalar,!1);break;case"enum":N=y.enum.values[0].number;break;case"message":N=nn(y.message,void 0,!1);break}i.set(A,N)}function lf(f,i,l,y){var A;const N=l.field();if(N.listKind==="message"){l.add(kg(f,y,N));return}const M=(A=N.scalar)!==null&&A!==void 0?A:h.INT32;if(!(i==qe.LengthDelimited&&M!=h.STRING&&M!=h.BYTES)){l.add(_a(f,M));return}const W=f.uint32()+f.pos;for(;f.pos<W;)l.add(_a(f,M))}function kg(f,i,l,y){const A=l.delimitedEncoding,N=y??nn(l.message,void 0,!1);return sv(N,f,i,A,A?l.number:f.uint32()),N}function _a(f,i){switch(i){case h.STRING:return f.string();case h.BOOL:return f.bool();case h.DOUBLE:return f.double();case h.FLOAT:return f.float();case h.INT32:return f.int32();case h.INT64:return f.int64();case h.UINT64:return f.uint64();case h.FIXED64:return f.fixed64();case h.BYTES:return f.bytes();case h.FIXED32:return f.fixed32();case h.SFIXED32:return f.sfixed32();case h.SFIXED64:return f.sfixed64();case h.SINT64:return f.sint64();case h.UINT32:return f.uint32();case h.SINT32:return f.sint32()}}function oo(f,i){var l;const y=Ai(TS,Eg(f));return y.messageType.forEach(Qc),y.dependency=(l=i==null?void 0:i.map(N=>N.proto.name))!==null&&l!==void 0?l:[],wg(y,N=>i==null?void 0:i.find(M=>M.proto.name===N)).getFile(y.name)}const lv=oo("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function uv(f){return new Date(cv(f))}function cv(f){return Number(f.seconds)*1e3+Math.round(f.nanos/1e6)}const Au=oo("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),fv=oo("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),_S=It(fv,0),IS=3,Bg={writeUnknownFields:!0};function dv(f){return f?Object.assign(Object.assign({},Bg),f):Bg}function Ei(f,i,l){return Os(new un,dv(l),nn(f,i)).finish()}function Os(f,i,l){var y;for(const A of l.sortedFields){if(!l.isSet(A)){if(A.presence==IS)throw new Error(`cannot encode ${A} to binary: required field not set`);continue}hv(f,i,l,A)}if(i.writeUnknownFields)for(const{no:A,wireType:N,data:M}of(y=l.getUnknown())!==null&&y!==void 0?y:[])f.tag(A,N).raw(M);return f}function hv(f,i,l,y){var A;switch(y.fieldKind){case"scalar":case"enum":Ia(f,l.desc.typeName,y.name,(A=y.scalar)!==null&&A!==void 0?A:h.INT32,y.number,l.get(y));break;case"list":pv(f,i,y,l.get(y));break;case"message":jg(f,i,y,l.get(y));break;case"map":for(const[N,M]of l.get(y))zg(f,i,y,N,M);break}}function Ia(f,i,l,y,A,N){bh(f.tag(A,gv(y)),i,l,y,N)}function jg(f,i,l,y){l.delimitedEncoding?Os(f.tag(l.number,qe.StartGroup),i,y).tag(l.number,qe.EndGroup):Os(f.tag(l.number,qe.LengthDelimited).fork(),i,y).join()}function pv(f,i,l,y){var A;if(l.listKind=="message"){for(const M of y)jg(f,i,l,M);return}const N=(A=l.scalar)!==null&&A!==void 0?A:h.INT32;if(l.packed){if(!y.size)return;f.tag(l.number,qe.LengthDelimited).fork();for(const M of y)bh(f,l.parent.typeName,l.name,N,M);f.join();return}for(const M of y)Ia(f,l.parent.typeName,l.name,N,l.number,M)}function zg(f,i,l,y,A){var N;switch(f.tag(l.number,qe.LengthDelimited).fork(),Ia(f,l.parent.typeName,l.name,l.mapKey,1,y),l.mapKind){case"scalar":case"enum":Ia(f,l.parent.typeName,l.name,(N=l.scalar)!==null&&N!==void 0?N:h.INT32,2,A);break;case"message":Os(f.tag(2,qe.LengthDelimited).fork(),i,A).join();break}f.join()}function bh(f,i,l,y,A){try{switch(y){case h.STRING:f.string(A);break;case h.BOOL:f.bool(A);break;case h.DOUBLE:f.double(A);break;case h.FLOAT:f.float(A);break;case h.INT32:f.int32(A);break;case h.INT64:f.int64(A);break;case h.UINT64:f.uint64(A);break;case h.FIXED64:f.fixed64(A);break;case h.BYTES:f.bytes(A);break;case h.FIXED32:f.fixed32(A);break;case h.SFIXED32:f.sfixed32(A);break;case h.SFIXED64:f.sfixed64(A);break;case h.SINT64:f.sint64(A);break;case h.UINT32:f.uint32(A);break;case h.SINT32:f.sint32(A);break}}catch(N){throw N instanceof Error?new Error(`cannot encode field ${i}.${l} to binary: ${N.message}`):N}}function gv(f){switch(f){case h.BYTES:case h.STRING:return qe.LengthDelimited;case h.DOUBLE:case h.FIXED64:case h.SFIXED64:return qe.Bit64;case h.FIXED32:case h.SFIXED32:case h.FLOAT:return qe.Bit32;default:return qe.Varint}}function mv(f,i,l){let y=!1;return l||(l=Z(_S),y=!0),l.value=Ei(f,i),l.typeUrl=DS(i.$typeName),y?l:void 0}function yv(f,i){if(f.typeUrl==="")return!1;const l=typeof i=="string"?i:i.typeName,y=vv(f.typeUrl);return l===y}function OS(f,i){if(f.typeUrl==="")return;const l=i.kind=="message"?i:i.getMessage(vv(f.typeUrl));if(!(!l||!yv(f,l)))return Ai(l,f.value)}function DS(f){return`type.googleapis.com/${f}`}function vv(f){const i=f.lastIndexOf("/"),l=i>=0?f.substring(i+1):f;if(!l.length)throw new Error(`invalid type url: ${f}`);return l}const Ug=oo("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),PS=It(Ug,0),$r=It(Ug,1),uf=It(Ug,2);var Sh;(function(f){f[f.NULL_VALUE=0]="NULL_VALUE"})(Sh||(Sh={}));const xv=oo("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function bv(f,i){Oa(i,f);const l=Vg(f.$unknown,i),[y,A,N]=Ah(i);for(const M of l)av(y,new Le(M.data),A,M.wireType,{readUnknownFields:!0});return N()}function Sv(f,i,l){var y;Oa(i,f);const A=((y=f.$unknown)!==null&&y!==void 0?y:[]).filter(ee=>ee.no!==i.number),[N,M]=Ah(i,l),z=new un;hv(z,{writeUnknownFields:!0},N,M);const W=new Le(z.finish());for(;W.pos<W.len;){const[ee,ue]=W.tag(),we=W.skip(ue,ee);A.push({no:ee,wireType:ue,data:we})}f.$unknown=A}function Vg(f,i){if(f===void 0)return[];if(i.fieldKind==="enum"||i.fieldKind==="scalar"){for(let l=f.length-1;l>=0;--l)if(f[l].no==i.number)return[f[l]];return[]}return f.filter(l=>l.no===i.number)}function Ah(f,i){const l=f.typeName,y=Object.assign(Object.assign({},f),{kind:"field",parent:f.extendee,localName:l}),A=Object.assign(Object.assign({},f.extendee),{fields:[y],members:[y],oneofs:[]}),N=Z(A,i!==void 0?{[l]:i}:void 0);return[nn(A,N),y,()=>{const M=N[l];if(M===void 0){const z=f.message;return j(z)?q(z.fields[0].scalar,z.fields[0].longAsString):Z(z)}return M}]}function Oa(f,i){if(f.extendee.typeName!=i.$typeName)throw new Error(`extension ${f.typeName} can only be applied to message ${f.extendee.typeName}`)}const Gg=3,cf=2,Eh={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function Av(f){return f?Object.assign(Object.assign({},Eh),f):Eh}function Da(f,i,l){return Pa(nn(f,i),Av(l))}function Eu(f,i,l){var y;const A=Da(f,i,l);return JSON.stringify(A,null,(y=l==null?void 0:l.prettySpaces)!==null&&y!==void 0?y:0)}function Pa(f,i){var l;const y=LS(f,i);if(y!==void 0)return y;const A={};for(const N of f.sortedFields){if(!f.isSet(N)){if(N.presence==Gg)throw new Error(`cannot encode ${N} to JSON: required field not set`);if(!i.alwaysEmitImplicit||N.presence!==cf)continue}const M=$g(N,f.get(N),i);M!==void 0&&(A[MS(N,i)]=M)}if(i.registry){const N=new Set;for(const{no:M}of(l=f.getUnknown())!==null&&l!==void 0?l:[])if(!N.has(M)){N.add(M);const z=i.registry.getExtensionFor(f.desc,M);if(!z)continue;const W=bv(f.message,z),[ee,ue]=Ah(z,W),we=$g(ue,ee.get(ue),i);we!==void 0&&(A[z.jsonName]=we)}}return A}function $g(f,i,l){switch(f.fieldKind){case"scalar":return ff(f,i);case"message":return Pa(i,l);case"enum":return Ch(f.enum,i,l.enumAsInteger);case"list":return Ev(i,l);case"map":return Ma(i,l)}}function Ma(f,i){const l=f.field(),y={};switch(l.mapKind){case"scalar":for(const[A,N]of f)y[A]=ff(l,N);break;case"message":for(const[A,N]of f)y[A]=Pa(N,i);break;case"enum":for(const[A,N]of f)y[A]=Ch(l.enum,N,i.enumAsInteger);break}return i.alwaysEmitImplicit||f.size>0?y:void 0}function Ev(f,i){const l=f.field(),y=[];switch(l.listKind){case"scalar":for(const A of f)y.push(ff(l,A));break;case"enum":for(const A of f)y.push(Ch(l.enum,A,i.enumAsInteger));break;case"message":for(const A of f)y.push(Pa(A,i));break}return i.alwaysEmitImplicit||y.length>0?y:void 0}function Ch(f,i,l){var y;if(typeof i!="number")throw new Error(`cannot encode ${f} to JSON: expected number, got ${dt(i)}`);if(f.typeName=="google.protobuf.NullValue")return null;if(l)return i;const A=f.value[i];return(y=A==null?void 0:A.name)!==null&&y!==void 0?y:i}function ff(f,i){var l,y,A,N,M,z;switch(f.scalar){case h.INT32:case h.SFIXED32:case h.SINT32:case h.FIXED32:case h.UINT32:if(typeof i!="number")throw new Error(`cannot encode ${f} to JSON: ${(l=Dt(f,i))===null||l===void 0?void 0:l.message}`);return i;case h.FLOAT:case h.DOUBLE:if(typeof i!="number")throw new Error(`cannot encode ${f} to JSON: ${(y=Dt(f,i))===null||y===void 0?void 0:y.message}`);return Number.isNaN(i)?"NaN":i===Number.POSITIVE_INFINITY?"Infinity":i===Number.NEGATIVE_INFINITY?"-Infinity":i;case h.STRING:if(typeof i!="string")throw new Error(`cannot encode ${f} to JSON: ${(A=Dt(f,i))===null||A===void 0?void 0:A.message}`);return i;case h.BOOL:if(typeof i!="boolean")throw new Error(`cannot encode ${f} to JSON: ${(N=Dt(f,i))===null||N===void 0?void 0:N.message}`);return i;case h.UINT64:case h.FIXED64:case h.INT64:case h.SFIXED64:case h.SINT64:if(typeof i!="bigint"&&typeof i!="string")throw new Error(`cannot encode ${f} to JSON: ${(M=Dt(f,i))===null||M===void 0?void 0:M.message}`);return i.toString();case h.BYTES:if(i instanceof Uint8Array)return _y(i);throw new Error(`cannot encode ${f} to JSON: ${(z=Dt(f,i))===null||z===void 0?void 0:z.message}`)}}function MS(f,i){return i.useProtoFieldName?f.name:f.jsonName}function LS(f,i){if(f.desc.typeName.startsWith("google.protobuf."))switch(f.desc.typeName){case"google.protobuf.Any":return FS(f.message,i);case"google.protobuf.Timestamp":return Ci(f.message);case"google.protobuf.Duration":return Cv(f.message);case"google.protobuf.FieldMask":return wv(f.message);case"google.protobuf.Struct":return wh(f.message);case"google.protobuf.Value":return ui(f.message);case"google.protobuf.ListValue":return Hg(f.message);default:if(j(f.desc)){const l=f.desc.fields[0];return ff(l,f.get(l))}return}}function FS(f,i){if(f.typeUrl==="")return{};const{registry:l}=i;let y,A;if(l&&(y=OS(f,l),y&&(A=l.getMessage(y.$typeName))),!A||!y)throw new Error(`cannot encode message ${f.$typeName} to JSON: "${f.typeUrl}" is not in the type registry`);let N=Pa(nn(A,y),i);return(A.typeName.startsWith("google.protobuf.")||N===null||Array.isArray(N)||typeof N!="object")&&(N={value:N}),N["@type"]=f.typeUrl,N}function Cv(f){const i=Number(f.seconds),l=f.nanos;if(i>315576e6||i<-315576e6)throw new Error(`cannot encode message ${f.$typeName} to JSON: value out of range`);if(i>0&&l<0||i<0&&l>0)throw new Error(`cannot encode message ${f.$typeName} to JSON: nanos sign must match seconds sign`);let y=f.seconds.toString();if(l!==0){let A=Math.abs(l).toString();A="0".repeat(9-A.length)+A,A.substring(3)==="000000"?A=A.substring(0,3):A.substring(6)==="000"&&(A=A.substring(0,6)),y+="."+A,l<0&&i==0&&(y="-"+y)}return y+"s"}function wv(f){return f.paths.map(i=>{if(i.match(/_[0-9]?_/g)||i.match(/[A-Z]/g))throw new Error(`cannot encode message ${f.$typeName} to JSON: lowerCamelCase of path name "`+i+'" is irreversible');return wa(i)}).join(",")}function wh(f){const i={};for(const[l,y]of Object.entries(f.fields))i[l]=ui(y);return i}function ui(f){switch(f.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(f.kind.value))throw new Error(`${f.$typeName} cannot be NaN or Infinity`);return f.kind.value;case"boolValue":return f.kind.value;case"stringValue":return f.kind.value;case"structValue":return wh(f.kind.value);case"listValue":return Hg(f.kind.value);default:throw new Error(`${f.$typeName} must have a value`)}}function Hg(f){return f.values.map(ui)}function Ci(f){const i=Number(f.seconds)*1e3;if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${f.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(f.nanos<0)throw new Error(`cannot encode message ${f.$typeName} to JSON: nanos must not be negative`);if(f.nanos>999999999)throw new Error(`cannot encode message ${f.$typeName} to JSON: nanos must not be greater than 99999999`);let l="Z";if(f.nanos>0){const y=(f.nanos+1e9).toString().substring(1);y.substring(3)==="000000"?l="."+y.substring(0,3)+"Z":y.substring(6)==="000"?l="."+y.substring(0,6)+"Z":l="."+y+"Z"}return new Date(i).toISOString().replace(".000Z",l)}const ci={ignoreUnknownFields:!1};function Cu(f){return f?Object.assign(Object.assign({},ci),f):ci}function Wg(f,i,l){return Rh(f,Yg(i,f.typeName),l)}function Rh(f,i,l){const y=nn(f);try{ko(y,i,Cu(l))}catch(A){throw pe(A)?new Error(`cannot decode ${A.field()} from JSON: ${A.message}`,{cause:A}):A}return y.message}function ko(f,i,l){var y;if(qg(f,i,l))return;if(i==null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode ${f.desc} from JSON: ${dt(i)}`);const A=new Map,N=new Map;for(const M of f.desc.fields)N.set(M.name,M).set(M.jsonName,M);for(const[M,z]of Object.entries(i)){const W=N.get(M);if(W){if(W.oneof){if(z===null&&W.fieldKind=="scalar")continue;const ee=A.get(W.oneof);if(ee!==void 0)throw new ht(W.oneof,`oneof set multiple times by ${ee.name} and ${W.name}`);A.set(W.oneof,W)}Th(f,W,z,l)}else{let ee;if(M.startsWith("[")&&M.endsWith("]")&&(ee=(y=l.registry)===null||y===void 0?void 0:y.getExtension(M.substring(1,M.length-1)))&&ee.extendee.typeName===f.desc.typeName){const[ue,we,ke]=Ah(ee);Th(ue,we,z,l),Sv(f.message,ee,ke())}if(!ee&&!l.ignoreUnknownFields)throw new Error(`cannot decode ${f.desc} from JSON: key "${M}" is unknown`)}}}function Th(f,i,l,y){switch(i.fieldKind){case"scalar":kS(f,i,l);break;case"enum":Ru(f,i,l,y);break;case"message":Nh(f,i,l,y);break;case"list":Rv(f.get(i),l,y);break;case"map":wu(f.get(i),l,y);break}}function wu(f,i,l){if(i===null)return;const y=f.field();if(typeof i!="object"||Array.isArray(i))throw new ht(y,"expected object, got "+dt(i));for(const[A,N]of Object.entries(i)){if(N===null)throw new ht(y,"map value must not be null");let M;switch(y.mapKind){case"message":const W=nn(y.message);ko(W,N,l),M=W;break;case"enum":if(M=df(y.enum,N,l.ignoreUnknownFields,!0),M===Cr)return;break;case"scalar":M=hf(y,N,!0);break}const z=_h(y.mapKey,A);f.set(z,M)}}function Rv(f,i,l){if(i===null)return;const y=f.field();if(!Array.isArray(i))throw new ht(y,"expected Array, got "+dt(i));for(const A of i){if(A===null)throw new ht(y,"list item must not be null");switch(y.listKind){case"message":const N=nn(y.message);ko(N,A,l),f.add(N);break;case"enum":const M=df(y.enum,A,l.ignoreUnknownFields,!0);M!==Cr&&f.add(M);break;case"scalar":f.add(hf(y,A,!0));break}}}function Nh(f,i,l,y){if(l===null&&i.message.typeName!="google.protobuf.Value"){f.clear(i);return}const A=f.isSet(i)?f.get(i):nn(i.message);ko(A,l,y),f.set(i,A)}function Ru(f,i,l,y){const A=df(i.enum,l,y.ignoreUnknownFields,!1);A===wi?f.clear(i):A!==Cr&&f.set(i,A)}function kS(f,i,l){const y=hf(i,l,!1);y===wi?f.clear(i):f.set(i,y)}const Cr=Symbol();function df(f,i,l,y){if(i===null)return f.typeName=="google.protobuf.NullValue"?0:y?f.values[0].number:wi;switch(typeof i){case"number":if(Number.isInteger(i))return i;break;case"string":const A=f.values.find(N=>N.name===i);if(A!==void 0)return A.number;if(l)return Cr;break}throw new Error(`cannot decode ${f} from JSON: ${dt(i)}`)}const wi=Symbol();function hf(f,i,l){if(i===null)return l?q(f.scalar,!1):wi;switch(f.scalar){case h.DOUBLE:case h.FLOAT:if(i==="NaN")return NaN;if(i==="Infinity")return Number.POSITIVE_INFINITY;if(i==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof i=="number"){if(Number.isNaN(i))throw new ht(f,"unexpected NaN number");if(!Number.isFinite(i))throw new ht(f,"unexpected infinite number");break}if(typeof i=="string"){if(i===""||i.trim().length!==i.length)break;const y=Number(i);if(!Number.isFinite(y))break;return y}break;case h.INT32:case h.FIXED32:case h.SFIXED32:case h.SINT32:case h.UINT32:return Ds(i);case h.BYTES:if(typeof i=="string"){if(i==="")return new Uint8Array(0);try{return Eg(i)}catch(y){const A=y instanceof Error?y.message:String(y);throw new ht(f,A)}}break}return i}function _h(f,i){switch(f){case h.BOOL:switch(i){case"true":return!0;case"false":return!1}return i;case h.INT32:case h.FIXED32:case h.UINT32:case h.SFIXED32:case h.SINT32:return Ds(i);default:return i}}function Ds(f){if(typeof f=="string"){if(f===""||f.trim().length!==f.length)return f;const i=Number(f);return Number.isNaN(i)?f:i}return f}function Yg(f,i){try{return JSON.parse(f)}catch(l){const y=l instanceof Error?l.message:String(l);throw new Error(`cannot decode message ${i} from JSON: ${y}`,{cause:l})}}function qg(f,i,l){if(!f.desc.typeName.startsWith("google.protobuf."))return!1;switch(f.desc.typeName){case"google.protobuf.Any":return Tu(f.message,i,l),!0;case"google.protobuf.Timestamp":return Nu(f.message,i),!0;case"google.protobuf.Duration":return Ih(f.message,i),!0;case"google.protobuf.FieldMask":return Oh(f.message,i),!0;case"google.protobuf.Struct":return fi(f.message,i),!0;case"google.protobuf.Value":return Hr(f.message,i),!0;case"google.protobuf.ListValue":return Ps(f.message,i),!0;default:if(j(f.desc)){const y=f.desc.fields[0];return i===null?f.clear(y):f.set(y,hf(y,i,!0)),!0}return!1}}function Tu(f,i,l){var y;if(i===null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode message ${f.$typeName} from JSON: expected object but got ${dt(i)}`);if(Object.keys(i).length==0)return;const A=i["@type"];if(typeof A!="string"||A=="")throw new Error(`cannot decode message ${f.$typeName} from JSON: "@type" is empty`);const N=A.includes("/")?A.substring(A.lastIndexOf("/")+1):A;if(!N.length)throw new Error(`cannot decode message ${f.$typeName} from JSON: "@type" is invalid`);const M=(y=l.registry)===null||y===void 0?void 0:y.getMessage(N);if(!M)throw new Error(`cannot decode message ${f.$typeName} from JSON: ${A} is not in the type registry`);const z=nn(M);if(N.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(i,"value")){const W=i.value;ko(z,W,l)}else{const W=Object.assign({},i);delete W["@type"],ko(z,W,l)}mv(z.desc,z.message,f)}function Nu(f,i){if(typeof i!="string")throw new Error(`cannot decode message ${f.$typeName} from JSON: ${dt(i)}`);const l=i.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!l)throw new Error(`cannot decode message ${f.$typeName} from JSON: invalid RFC 3339 string`);const y=Date.parse(l[1]+"-"+l[2]+"-"+l[3]+"T"+l[4]+":"+l[5]+":"+l[6]+(l[8]?l[8]:"Z"));if(Number.isNaN(y))throw new Error(`cannot decode message ${f.$typeName} from JSON: invalid RFC 3339 string`);if(y<Date.parse("0001-01-01T00:00:00Z")||y>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${f.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);f.seconds=L.parse(y/1e3),f.nanos=0,l[7]&&(f.nanos=parseInt("1"+l[7]+"0".repeat(9-l[7].length))-1e9)}function Ih(f,i){if(typeof i!="string")throw new Error(`cannot decode message ${f.$typeName} from JSON: ${dt(i)}`);const l=i.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(l===null)throw new Error(`cannot decode message ${f.$typeName} from JSON: ${dt(i)}`);const y=Number(l[1]);if(y>315576e6||y<-315576e6)throw new Error(`cannot decode message ${f.$typeName} from JSON: ${dt(i)}`);if(f.seconds=L.parse(y),typeof l[2]!="string")return;const A=l[2]+"0".repeat(9-l[2].length);f.nanos=parseInt(A),(y<0||Object.is(y,-0))&&(f.nanos=-f.nanos)}function Oh(f,i){if(typeof i!="string")throw new Error(`cannot decode message ${f.$typeName} from JSON: ${dt(i)}`);if(i==="")return;function l(y){if(y.includes("_"))throw new Error(`cannot decode message ${f.$typeName} from JSON: path names must be lowerCamelCase`);const A=y.replace(/[A-Z]/g,N=>"_"+N.toLowerCase());return A[0]==="_"?A.substring(1):A}f.paths=i.split(",").map(l)}function fi(f,i){if(typeof i!="object"||i==null||Array.isArray(i))throw new Error(`cannot decode message ${f.$typeName} from JSON ${dt(i)}`);for(const[l,y]of Object.entries(i)){const A=Z($r);Hr(A,y),f.fields[l]=A}}function Hr(f,i){switch(typeof i){case"number":f.kind={case:"numberValue",value:i};break;case"string":f.kind={case:"stringValue",value:i};break;case"boolean":f.kind={case:"boolValue",value:i};break;case"object":if(i===null)f.kind={case:"nullValue",value:Sh.NULL_VALUE};else if(Array.isArray(i)){const l=Z(uf);Ps(l,i),f.kind={case:"listValue",value:l}}else{const l=Z(PS);fi(l,i),f.kind={case:"structValue",value:l}}break;default:throw new Error(`cannot decode message ${f.$typeName} from JSON ${dt(i)}`)}return f}function Ps(f,i){if(!Array.isArray(i))throw new Error(`cannot decode message ${f.$typeName} from JSON ${dt(i)}`);for(const l of i){const y=Z($r);Hr(y,l),f.values.push(y)}}function so(f){const i=c[f];return typeof i!="string"?f.toString():i[0].toLowerCase()+i.substring(1).replace(/[A-Z]/g,l=>"_"+l.toLowerCase())}class Ht extends Error{constructor(i,l=c.Unknown,y,A,N){super(La(i,l)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=i,this.code=l,this.metadata=new Headers(y??{}),this.details=A??[],this.cause=N}static from(i,l=c.Unknown){return i instanceof Ht?i:i instanceof Error?i.name=="AbortError"||i.name=="TimeoutError"?new Ht(i.message,c.Canceled):new Ht(i.message,l,void 0,void 0,i):new Ht(String(i),l,void 0,void 0,i)}static[Symbol.hasInstance](i){return i instanceof Error?Object.getPrototypeOf(i)===Ht.prototype?!0:i.name==="ConnectError"&&"code"in i&&typeof i.code=="number"&&"metadata"in i&&"details"in i&&Array.isArray(i.details)&&"rawMessage"in i&&typeof i.rawMessage=="string"&&"cause"in i:!1}findDetails(i){const l=i.kind==="message"?{getMessage:A=>A===i.typeName?i:void 0}:i,y=[];for(const A of this.details){if("desc"in A){l.getMessage(A.desc.typeName)&&y.push(Z(A.desc,A.value));continue}const N=l.getMessage(A.type);if(N)try{y.push(Ai(N,A.value))}catch{}}return y}}function La(f,i){return f.length?`[${so(i)}] ${f}`:`[${so(i)}]`}function Tv(f,i,l){try{const y=Eg(f);return i?Ai(i,y,l):y}catch(y){throw Ht.from(y,c.DataLoss)}}function Kg(f,i){const l={};for(const y of f.methods){const A=i(y);A!=null&&(l[y.localName]=A)}return l}const Dh=1;function Ir(f,i,l=!1){if(i>f){let y=`message size is larger than configured readMaxBytes ${f}`;throw l&&(y=`message size ${i} is larger than configured readMaxBytes ${f}`),new Ht(y,c.ResourceExhausted)}}function jn(f){return new Qt(f)}class Qt{constructor(i){this.readMaxBytes=i,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((i,l)=>i+l.byteLength,0)}decode(i){this.buf.push(i);const l=[];for(;;){let y=this.pop();if(!y)break;l.push(y)}return l}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const i=this.env;return this.env=void 0,i}}head(){if(!this.cons(this.header))return;const i=this.headerView.getUint8(0),l=this.headerView.getUint32(1);return Ir(this.readMaxBytes,l,!0),{flags:i,data:new Uint8Array(l)}}cons(i){const l=i.byteLength;if(this.byteLength<l)return!1;let y=0;for(;y<l;){const A=this.buf.shift();A.byteLength>l-y?(i.set(A.subarray(0,l-y),y),this.buf.unshift(A.subarray(l-y)),y+=l-y):(i.set(A,y),y+=A.byteLength)}return!0}}function Ms(f){let i;const l=jn(4294967295);return new ReadableStream({start(){i=f.getReader()},async pull(y){let A=!1;for(;!A;){const N=await i.read();if(N.done)l.byteLength>0&&y.error(new Ht("protocol error: incomplete envelope",c.InvalidArgument)),y.close();else for(const M of l.decode(N.value))y.enqueue(M),A=!0}}})}function zi(f,i){const l=new Uint8Array(i.length+5);l.set(i,5);const y=new DataView(l.buffer,l.byteOffset,l.byteLength);return y.setUint8(0,f),y.setUint32(1,i.length),l}var Xg=function(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=f[Symbol.asyncIterator],l;return i?i.call(f):(f=typeof __values=="function"?__values(f):f[Symbol.iterator](),l={},y("next"),y("throw"),y("return"),l[Symbol.asyncIterator]=function(){return this},l);function y(N){l[N]=f[N]&&function(M){return new Promise(function(z,W){M=f[N](M),A(z,W,M.done,M.value)})}}function A(N,M,z,W){Promise.resolve(W).then(function(ee){N({value:ee,done:z})},M)}},Ui=function(f){return this instanceof Ui?(this.v=f,this):new Ui(f)},Nv=function(f,i,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=l.apply(f,i||[]),A,N=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),z("next"),z("throw"),z("return",M),A[Symbol.asyncIterator]=function(){return this},A;function M(Re){return function(We){return Promise.resolve(We).then(Re,we)}}function z(Re,We){y[Re]&&(A[Re]=function(He){return new Promise(function(it,Et){N.push([Re,He,it,Et])>1||W(Re,He)})},We&&(A[Re]=We(A[Re])))}function W(Re,We){try{ee(y[Re](We))}catch(He){ke(N[0][3],He)}}function ee(Re){Re.value instanceof Ui?Promise.resolve(Re.value.v).then(ue,we):ke(N[0][2],Re)}function ue(Re){W("next",Re)}function we(Re){W("throw",Re)}function ke(Re,We){Re(We),N.shift(),N.length&&W(N[0][0],N[0][1])}},_v=function(f){var i,l;return i={},y("next"),y("throw",function(A){throw A}),y("return"),i[Symbol.iterator]=function(){return this},i;function y(A,N){i[A]=f[A]?function(M){return(l=!l)?{value:Ui(f[A](M)),done:!1}:N?N(M):M}:N}};function pf(f){return Nv(this,arguments,function*(){yield Ui(yield*_v(Xg(f)))})}var _u=function(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=f[Symbol.asyncIterator],l;return i?i.call(f):(f=typeof __values=="function"?__values(f):f[Symbol.iterator](),l={},y("next"),y("throw"),y("return"),l[Symbol.asyncIterator]=function(){return this},l);function y(N){l[N]=f[N]&&function(M){return new Promise(function(z,W){M=f[N](M),A(z,W,M.done,M.value)})}}function A(N,M,z,W){Promise.resolve(W).then(function(ee){N({value:ee,done:z})},M)}},Fa=function(f){return this instanceof Fa?(this.v=f,this):new Fa(f)},gf=function(f){var i,l;return i={},y("next"),y("throw",function(A){throw A}),y("return"),i[Symbol.iterator]=function(){return this},i;function y(A,N){i[A]=f[A]?function(M){return(l=!l)?{value:Fa(f[A](M)),done:!1}:N?N(M):M}:N}},Zg=function(f,i,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=l.apply(f,i||[]),A,N=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),z("next"),z("throw"),z("return",M),A[Symbol.asyncIterator]=function(){return this},A;function M(Re){return function(We){return Promise.resolve(We).then(Re,we)}}function z(Re,We){y[Re]&&(A[Re]=function(He){return new Promise(function(it,Et){N.push([Re,He,it,Et])>1||W(Re,He)})},We&&(A[Re]=We(A[Re])))}function W(Re,We){try{ee(y[Re](We))}catch(He){ke(N[0][3],He)}}function ee(Re){Re.value instanceof Fa?Promise.resolve(Re.value.v).then(ue,we):ke(N[0][2],Re)}function ue(Re){W("next",Re)}function we(Re){W("throw",Re)}function ke(Re,We){Re(We),N.shift(),N.length&&W(N[0][0],N[0][1])}};function ka(f,i){return Kg(f,l=>{switch(l.methodKind){case"unary":return Bo(i,l);case"server_streaming":return Ls(i,l);case"client_streaming":return jo(i,l);case"bidi_streaming":return Jg(i,l);default:return null}})}function Bo(f,i){return async(l,y)=>{var A,N;const M=await f.unary(i,y==null?void 0:y.signal,y==null?void 0:y.timeoutMs,y==null?void 0:y.headers,l,y==null?void 0:y.contextValues);return(A=y==null?void 0:y.onHeader)===null||A===void 0||A.call(y,M.header),(N=y==null?void 0:y.onTrailer)===null||N===void 0||N.call(y,M.trailer),M.message}}function Ls(f,i){return(l,y)=>Ph(f.stream(i,y==null?void 0:y.signal,y==null?void 0:y.timeoutMs,y==null?void 0:y.headers,pf([l]),y==null?void 0:y.contextValues),y)}function jo(f,i){return async(l,y)=>{var A,N,M,z,W,ee;const ue=await f.stream(i,y==null?void 0:y.signal,y==null?void 0:y.timeoutMs,y==null?void 0:y.headers,l,y==null?void 0:y.contextValues);(W=y==null?void 0:y.onHeader)===null||W===void 0||W.call(y,ue.header);let we,ke=0;try{for(var Re=!0,We=_u(ue.message),He;He=await We.next(),A=He.done,!A;Re=!0)z=He.value,Re=!1,we=z,ke++}catch(it){N={error:it}}finally{try{!Re&&!A&&(M=We.return)&&await M.call(We)}finally{if(N)throw N.error}}if(!we)throw new Ht("protocol error: missing response message",c.Unimplemented);if(ke>1)throw new Ht("protocol error: received extra messages for client streaming method",c.Unimplemented);return(ee=y==null?void 0:y.onTrailer)===null||ee===void 0||ee.call(y,ue.trailer),we}}function Jg(f,i){return(l,y)=>Ph(f.stream(i,y==null?void 0:y.signal,y==null?void 0:y.timeoutMs,y==null?void 0:y.headers,l,y==null?void 0:y.contextValues),y)}function Ph(f,i){const l=function(){return Zg(this,arguments,function*(){var y,A;const N=yield Fa(f);(y=i==null?void 0:i.onHeader)===null||y===void 0||y.call(i,N.header),yield Fa(yield*gf(_u(N.message))),(A=i==null?void 0:i.onTrailer)===null||A===void 0||A.call(i,N.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>l.next()})}}function mf(...f){const i=new AbortController,l=f.filter(A=>A!==void 0).concat(i.signal);for(const A of l){if(A.aborted){y.apply(A);break}A.addEventListener("abort",y)}function y(){i.signal.aborted||i.abort(Fs(this));for(const A of l)A.removeEventListener("abort",y)}return i}function Mh(f){const i=new AbortController,l=()=>{i.abort(new Ht("the operation timed out",c.DeadlineExceeded))};let y;return f!==void 0&&(f<=0?l():y=setTimeout(l,f)),{signal:i.signal,cleanup:()=>clearTimeout(y)}}function Fs(f){if(!f.aborted)return;if(f.reason!==void 0)return f.reason;const i=new Error("This operation was aborted");return i.name="AbortError",i}function dr(){return{get(f){return f.id in this?this[f.id]:f.defaultValue},set(f,i){return this[f.id]=i,this},delete(f){return delete this[f.id],this}}}const Iu=128;function Qg(f){const i=new Headers,l=new TextDecoder().decode(f).split(`\r
`);for(const y of l){if(y==="")continue;const A=y.indexOf(":");if(A>0){const N=y.substring(0,A).trim(),M=y.substring(A+1).trim();i.append(N,M)}}return i}const BS="Content-Type",jS="Grpc-Timeout",Ou="Grpc-Status",Kn="Grpc-Message",em="Grpc-Status-Details-Bin",yf="User-Agent",Du="X-User-Agent",tm="X-Grpc-Web",Pu="application/grpc-web+proto",Mu="application/grpc-web+json";function zS(f,i,...l){if(l.length>0)throw new Error;return f.services[i]}const VS=It(oo("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[fv]),0),Iv="0";function ks(f){var i;const l=f.get(em);if(l!=null){const A=Tv(l,VS);if(A.code==0)return;const N=new Ht(A.message,A.code,f);return N.details=A.details.map(M=>({type:M.typeUrl.substring(M.typeUrl.lastIndexOf("/")+1),value:M.value})),N}const y=f.get(Ou);if(y!=null){if(y===Iv)return;const A=parseInt(y,10);return A in c?new Ht(decodeURIComponent((i=f.get(Kn))!==null&&i!==void 0?i:""),A,f):new Ht(`invalid grpc-status: ${y}`,c.Internal,f)}}function Lh(f,i){return f.toString().replace(/\/?$/,`/${i.parent.typeName}/${i.name}`)}function vf(f,i){return Z(f,i)}function Ov(f,i){function l(y){return y.done===!0?y:{done:y.done,value:vf(f,y.value)}}return{[Symbol.asyncIterator](){const y=i[Symbol.asyncIterator](),A={next:()=>y.next().then(l)};return y.throw!==void 0&&(A.throw=N=>y.throw(N).then(l)),y.return!==void 0&&(A.return=N=>y.return(N).then(l)),A}}}function Lu(f,i){if(!i)return f;for(const l of i.concat().reverse())f=l(f);return f}function Dv(f){var i;const l=Object.assign({},f);return(i=l.ignoreUnknownFields)!==null&&i!==void 0||(l.ignoreUnknownFields=!0),l}function xf(f,i,l,y){const A=i?Fh(f.input,y):nm(f.input,l);return{parse:(i?Fh(f.output,y):nm(f.output,l)).parse,serialize:A.serialize}}function Fh(f,i){return{parse(l){try{return Ai(f,l,i)}catch(y){const A=y instanceof Error?y.message:String(y);throw new Ht(`parse binary: ${A}`,c.Internal)}},serialize(l){try{return Ei(f,l,i)}catch(y){const A=y instanceof Error?y.message:String(y);throw new Ht(`serialize binary: ${A}`,c.Internal)}}}}function nm(f,i){var l,y;const A=(l=i==null?void 0:i.textEncoder)!==null&&l!==void 0?l:new TextEncoder,N=(y=i==null?void 0:i.textDecoder)!==null&&y!==void 0?y:new TextDecoder,M=Dv(i);return{parse(z){try{const W=N.decode(z);return Wg(f,W,M)}catch(W){throw Ht.from(W,c.InvalidArgument)}},serialize(z){try{const W=Eu(f,z,M);return A.encode(W)}catch(W){throw Ht.from(W,c.Internal)}}}}function kh(f){const i=Lu(f.next,f.interceptors),[l,y,A]=Fu(f),N=Object.assign(Object.assign({},f.req),{message:vf(f.req.method.input,f.req.message),signal:l});return i(N).then(M=>(A(),M),y)}function Pv(f){const i=Lu(f.next,f.interceptors),[l,y,A]=Fu(f),N=Object.assign(Object.assign({},f.req),{message:Ov(f.req.method.input,f.req.message),signal:l});let M=!1;return l.addEventListener("abort",function(){var z,W;const ee=f.req.message[Symbol.asyncIterator]();M||(z=ee.throw)===null||z===void 0||z.call(ee,this.reason).catch(()=>{}),(W=ee.return)===null||W===void 0||W.call(ee).catch(()=>{})}),i(N).then(z=>Object.assign(Object.assign({},z),{message:{[Symbol.asyncIterator](){const W=z.message[Symbol.asyncIterator]();return{next(){return W.next().then(ee=>(ee.done==!0&&(M=!0,A()),ee),y)}}}}}),y)}function Fu(f){const{signal:i,cleanup:l}=Mh(f.timeoutMs),y=mf(f.signal,i);return[y.signal,function(N){const M=Ht.from(i.aborted?Fs(i):N);return y.abort(M),l(),Promise.reject(M)},function(){l(),y.abort()}]}function Mv(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function rm(f,i){const l=ks(f);if(l)throw i.forEach((y,A)=>{l.metadata.append(A,y)}),l;if(!i.has(Ou)&&!f.has(Ou))throw new Ht("protocol error: missing status",c.Internal)}function zo(f,i,l,y){var A,N;const M=new Headers(l??{});M.set(BS,f?Pu:Mu),M.set(tm,"1");const z=(N=(A=M.get(yf))!==null&&A!==void 0?A:M.get(Du))!==null&&N!==void 0?N:"connect-es/2.1.1";return M.set(Du,z),i!==void 0&&M.set(jS,`${i}m`),M}function im(f){switch(f){case 400:return c.Internal;case 401:return c.Unauthenticated;case 403:return c.PermissionDenied;case 404:return c.Unimplemented;case 429:return c.Unavailable;case 502:return c.Unavailable;case 503:return c.Unavailable;case 504:return c.Unavailable;default:return c.Unknown}}function Bh(f,i){var l;if(f>=200&&f<300)return{foundStatus:i.has(Ou),headerError:ks(i)};throw new Ht(decodeURIComponent((l=i.get(Kn))!==null&&l!==void 0?l:`HTTP ${f}`),im(f),i)}var Wr=function(f){return this instanceof Wr?(this.v=f,this):new Wr(f)},Bs=function(f,i,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=l.apply(f,i||[]),A,N=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),z("next"),z("throw"),z("return",M),A[Symbol.asyncIterator]=function(){return this},A;function M(Re){return function(We){return Promise.resolve(We).then(Re,we)}}function z(Re,We){y[Re]&&(A[Re]=function(He){return new Promise(function(it,Et){N.push([Re,He,it,Et])>1||W(Re,He)})},We&&(A[Re]=We(A[Re])))}function W(Re,We){try{ee(y[Re](We))}catch(He){ke(N[0][3],He)}}function ee(Re){Re.value instanceof Wr?Promise.resolve(Re.value.v).then(ue,we):ke(N[0][2],Re)}function ue(Re){W("next",Re)}function we(Re){W("throw",Re)}function ke(Re,We){Re(We),N.shift(),N.length&&W(N[0][0],N[0][1])}};const ku={redirect:"error"};function om(f){var i;Mv();const l=(i=f.useBinaryFormat)!==null&&i!==void 0?i:!0;return{async unary(y,A,N,M,z,W){const{serialize:ee,parse:ue}=xf(y,l,f.jsonOptions,f.binaryOptions);return N=N===void 0?f.defaultTimeoutMs:N<=0?void 0:N,await kh({interceptors:f.interceptors,signal:A,timeoutMs:N,req:{stream:!1,service:y.parent,method:y,requestMethod:"POST",url:Lh(f.baseUrl,y),header:zo(l,N,M),contextValues:W??dr(),message:z},next:async we=>{var ke;const We=await((ke=f.fetch)!==null&&ke!==void 0?ke:globalThis.fetch)(we.url,Object.assign(Object.assign({},ku),{method:we.requestMethod,headers:we.header,signal:we.signal,body:zi(0,ee(we.message))})),{headerError:He}=Bh(We.status,We.headers);if(!We.body)throw He!==void 0?He:"missing response body";const it=Ms(We.body).getReader();let Et,en;for(;;){const Cn=await it.read();if(Cn.done)break;const{flags:Xt,data:xr}=Cn.value;if((Xt&Dh)===Dh)throw new Ht("protocol error: received unsupported compressed output",c.Internal);if(Xt===Iu){if(Et!==void 0)throw"extra trailer";Et=Qg(xr);continue}if(en!==void 0)throw new Ht("extra message",c.Unimplemented);en=ue(xr)}if(Et===void 0)throw He!==void 0?He:new Ht("missing trailer",We.headers.has(Ou)?c.Unimplemented:c.Unknown);if(rm(Et,We.headers),en===void 0)throw new Ht("missing message",Et.has(Ou)?c.Unimplemented:c.Unknown);return{stream:!1,service:y.parent,method:y,header:We.headers,message:en,trailer:Et}}})},async stream(y,A,N,M,z,W){const{serialize:ee,parse:ue}=xf(y,l,f.jsonOptions,f.binaryOptions);function we(Re,We,He,it,Et){return Bs(this,arguments,function*(){const Cn=Ms(Re).getReader();if(We){if(!(yield Wr(Cn.read())).done)throw"extra data for trailers-only";return yield Wr(void 0)}let Xt=!1;for(;;){const xr=yield Wr(Cn.read());if(xr.done)break;const{flags:tn,data:Jn}=xr.value;if((tn&Iu)===Iu){if(Xt)throw"extra trailer";Xt=!0;const Pn=Qg(Jn);rm(Pn,it),Pn.forEach((_n,mi)=>He.set(mi,_n));continue}if(Xt)throw"extra message";yield yield Wr(ue(Jn))}if("throwIfAborted"in Et&&Et.throwIfAborted(),!Xt)throw"missing trailer"})}async function ke(Re){if(y.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const We=await Re[Symbol.asyncIterator]().next();if(We.done==!0)throw"missing request message";return zi(0,ee(We.value))}return N=N===void 0?f.defaultTimeoutMs:N<=0?void 0:N,Pv({interceptors:f.interceptors,signal:A,timeoutMs:N,req:{stream:!0,service:y.parent,method:y,requestMethod:"POST",url:Lh(f.baseUrl,y),header:zo(l,N,M),contextValues:W??dr(),message:z},next:async Re=>{var We;const it=await((We=f.fetch)!==null&&We!==void 0?We:globalThis.fetch)(Re.url,Object.assign(Object.assign({},ku),{method:Re.requestMethod,headers:Re.header,signal:Re.signal,body:await ke(Re.message)})),{foundStatus:Et,headerError:en}=Bh(it.status,it.headers);if(en!=null)throw en;if(!it.body)throw"missing response body";const Cn=new Headers;return Object.assign(Object.assign({},Re),{header:it.headers,trailer:Cn,message:we(it.body,Et,Cn,it.headers,Re.signal)})}})}}}const Pt=oo("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[lv,xv]),bf=It(Pt,0),Sf=It(Pt,1),Lv=It(Pt,2),jh=It(Pt,3),js=It(Pt,4),Bu=It(Pt,5),Fv=It(Pt,5,0),sm=It(Pt,5,1),am=It(Pt,5,2),zs=It(Pt,5,3),zt=It(Pt,5,4),pn=It(Pt,5,5),Xn=It(Pt,5,6),zh=It(Pt,5,7),ju=It(Pt,5,8),Ba=It(Pt,5,9),Uo=It(Pt,6),wr=It(Pt,7),zu=It(Pt,7,0),GS=It(Pt,7,1),Hn=It(Pt,7,2),lm=It(Pt,7,3),um=It(Pt,7,4),kv=It(Pt,7,5),Bv=It(Pt,8),$S=It(Pt,9),Uh=It(Pt,10),cm=It(Pt,11),fm=It(Pt,12),Yr=It(Pt,13),Zn=It(Pt,14),dm=It(Pt,15),Af=It(Pt,16),Ef=It(Pt,23);var ja=(f=>(f[f.UNSPECIFIED=0]="UNSPECIFIED",f[f.PUT=1]="PUT",f[f.DELETE=2]="DELETE",f[f.CLEAR=3]="CLEAR",f))(ja||{});const Vo=It(Pt,24),Vh=It(Pt,26),hm=It(Pt,27),pm=It(Pt,28);var gm=(f=>(f[f.UNSPECIFIED=0]="UNSPECIFIED",f[f.PRESENCE=1]="PRESENCE",f[f.BROADCAST=2]="BROADCAST",f))(gm||{}),Ft=(f=>(f[f.NULL=0]="NULL",f[f.BOOLEAN=1]="BOOLEAN",f[f.INTEGER=2]="INTEGER",f[f.LONG=3]="LONG",f[f.DOUBLE=4]="DOUBLE",f[f.STRING=5]="STRING",f[f.BYTES=6]="BYTES",f[f.DATE=7]="DATE",f[f.JSON_OBJECT=8]="JSON_OBJECT",f[f.JSON_ARRAY=9]="JSON_ARRAY",f[f.TEXT=10]="TEXT",f[f.INTEGER_CNT=11]="INTEGER_CNT",f[f.LONG_CNT=12]="LONG_CNT",f[f.TREE=13]="TREE",f))(Ft||{}),Cf=(f=>(f[f.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",f[f.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",f[f.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",f[f.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",f))(Cf||{});const jv=zS(oo("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5Ij0KF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEhUKDXNlc3Npb25fY291bnQYASABKAMSCwoDc2VxGAIgASgDIloKEEJyb2FkY2FzdFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEg0KBXRvcGljGAMgASgJEg8KB3BheWxvYWQYBCABKAwiEwoRQnJvYWRjYXN0UmVzcG9uc2UyhQsKDVlvcmtpZVNlcnZpY2USVwoOQWN0aXZhdGVDbGllbnQSIC55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0GiEueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJdChBEZWFjdGl2YXRlQ2xpZW50EiIueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXF1ZXN0GiMueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXNwb25zZSIAElcKDkF0dGFjaERvY3VtZW50EiAueW9ya2llLnYxLkF0dGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoORGV0YWNoRG9jdW1lbnQSIC55b3JraWUudjEuRGV0YWNoRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVzcG9uc2UiABJXCg5SZW1vdmVEb2N1bWVudBIgLnlvcmtpZS52MS5SZW1vdmVEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXNwb25zZSIAEloKD1B1c2hQdWxsQ2hhbmdlcxIhLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXF1ZXN0GiIueW9ya2llLnYxLlB1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlIgASVgoNV2F0Y2hEb2N1bWVudBIfLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVxdWVzdBogLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UiADABElcKDkNyZWF0ZVJldmlzaW9uEiAueW9ya2llLnYxLkNyZWF0ZVJldmlzaW9uUmVxdWVzdBohLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlc3BvbnNlIgASTgoLR2V0UmV2aXNpb24SHS55b3JraWUudjEuR2V0UmV2aXNpb25SZXF1ZXN0Gh4ueW9ya2llLnYxLkdldFJldmlzaW9uUmVzcG9uc2UiABJUCg1MaXN0UmV2aXNpb25zEh8ueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXF1ZXN0GiAueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXNwb25zZSIAEloKD1Jlc3RvcmVSZXZpc2lvbhIhLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXF1ZXN0GiIueW9ya2llLnYxLlJlc3RvcmVSZXZpc2lvblJlc3BvbnNlIgASVAoNQXR0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVzcG9uc2UiABJUCg1EZXRhY2hDaGFubmVsEh8ueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXF1ZXN0GiAueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXNwb25zZSIAElcKDlJlZnJlc2hDaGFubmVsEiAueW9ya2llLnYxLlJlZnJlc2hDaGFubmVsUmVxdWVzdBohLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlc3BvbnNlIgASUwoMV2F0Y2hDaGFubmVsEh4ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlcXVlc3QaHy55b3JraWUudjEuV2F0Y2hDaGFubmVsUmVzcG9uc2UiADABEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[Pt]),0),mm=It(oo("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[Au]),0);var ge=(f=>(f.Ok="ok",f.ErrClientNotActivated="ErrClientNotActivated",f.ErrClientNotFound="ErrClientNotFound",f.ErrUnimplemented="ErrUnimplemented",f.ErrInvalidType="ErrInvalidType",f.ErrDummy="ErrDummy",f.ErrNotAttached="ErrNotAttached",f.ErrNotDetached="ErrNotDetached",f.ErrDocumentRemoved="ErrDocumentRemoved",f.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",f.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",f.ErrInvalidObjectKey="ErrInvalidObjectKey",f.ErrInvalidArgument="ErrInvalidArgument",f.ErrNotInitialized="ErrNotInitialized",f.ErrNotReady="ErrNotReady",f.ErrRefused="ErrRefused",f.ErrContextNotProvided="ErrContextNotProvided",f.ErrPermissionDenied="ErrPermissionDenied",f.ErrUnauthenticated="ErrUnauthenticated",f.ErrTooManySubscribers="ErrTooManySubscribers",f.ErrTooManyAttachments="ErrTooManyAttachments",f))(ge||{});class be extends Error{constructor(l,y){super(y);Y(this,"name","YorkieError");Y(this,"stack");this.code=l,this.message=y,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var Vi=(f=>(f.Put="put",f.Clear="clear",f))(Vi||{});const Gh="000000000000000000000000",Gi=24;class qr{constructor(i,l,y){Y(this,"lamport");Y(this,"delimiter");Y(this,"actorID");this.lamport=i,this.delimiter=l,this.actorID=y}static of(i,l,y){return new qr(i,l,y)}static fromStruct(i){return qr.of(BigInt(i.lamport),i.delimiter,i.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(i){return new qr(this.lamport,this.delimiter,i)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(i){return this.compare(i)>0}equals(i){return this.compare(i)===0}compare(i){if(this.lamport>i.lamport)return 1;if(i.lamport>this.lamport)return-1;const l=this.actorID.localeCompare(i.actorID);return l!==0?l:this.delimiter>i.delimiter?1:i.delimiter>this.delimiter?-1:0}}const $h=0n,ym=0,Hh=9223372036854775807n,za=new qr($h,ym,Gh);function $i(f){return f.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(i){switch(i){case'"':case"\\":return"\\"+i;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return i}})}class wf{constructor(i){Y(this,"createdAt");Y(this,"movedAt");Y(this,"removedAt");this.createdAt=i}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(i){this.createdAt=i}setMovedAt(i){return!this.movedAt||i&&i.after(this.movedAt)?(this.movedAt=i,!0):!1}setRemovedAt(i){this.removedAt=i}remove(i){return i&&i.after(this.createdAt)&&(!this.removedAt||i.after(this.removedAt))?(this.removedAt=i,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let i=0;return this.getCreatedAt()&&(i+=Gi),this.getMovedAt()&&(i+=Gi),this.getRemovedAt()&&(i+=Gi),i}}class Go extends wf{constructor(i){super(i)}}class $o{constructor(i,l){Y(this,"strKey");Y(this,"value");this.strKey=i,this.value=l}static of(i,l){return new $o(i,l)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(i){return this.value.remove(i)}}class Ho{constructor(){Y(this,"nodeMapByKey");Y(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Ho}set(i,l,y){let A;const N=this.nodeMapByKey.get(i);N&&!N.isRemoved()&&N.remove(y)&&(A=N.getValue());const M=$o.of(i,l);return this.nodeMapByCreatedAt.set(l.getCreatedAt().toIDString(),M),(!N||y.after(N.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(i,M),l.setMovedAt(y)),A}delete(i,l){if(!this.nodeMapByCreatedAt.has(i.toIDString()))throw new be(ge.ErrInvalidArgument,`fail to find ${i.toIDString()}`);const y=this.nodeMapByCreatedAt.get(i.toIDString());return y.remove(l),y.getValue()}subPathOf(i){const l=this.nodeMapByCreatedAt.get(i.toIDString());if(l)return l.getStrKey()}purge(i){const l=this.nodeMapByCreatedAt.get(i.getCreatedAt().toIDString());if(!l)throw new be(ge.ErrInvalidArgument,`fail to find ${i.getCreatedAt().toIDString()}`);const y=this.nodeMapByKey.get(l.getStrKey());l===y&&this.nodeMapByKey.delete(y.getStrKey()),this.nodeMapByCreatedAt.delete(l.getValue().getCreatedAt().toIDString())}deleteByKey(i,l){const y=this.nodeMapByKey.get(i);if(y&&y.remove(l))return y.getValue()}has(i){const l=this.nodeMapByKey.get(i);return l?!l.isRemoved():!1}getByID(i){return this.nodeMapByCreatedAt.get(i.toIDString())}get(i){const l=this.nodeMapByKey.get(i);if(!(!l||l.isRemoved()))return l}deepcopy(){const i=Ho.create();for(const[,l]of this.nodeMapByCreatedAt)i.nodeMapByCreatedAt.set(l.getValue().getCreatedAt().toIDString(),$o.of(l.getStrKey(),l.getValue().deepcopy()));for(const[l,y]of this.nodeMapByKey)i.nodeMapByKey.set(l,i.nodeMapByCreatedAt.get(y.getValue().getCreatedAt().toIDString()));return i}*[Symbol.iterator](){for(const[,i]of this.nodeMapByCreatedAt)yield i}}class hr extends Go{constructor(l,y){super(l);Y(this,"memberNodes");this.memberNodes=y}static create(l,y){if(!y)return new hr(l,Ho.create());const A=Ho.create();for(const[N,M]of Object.entries(y))A.set(N,M.deepcopy(),M.getCreatedAt());return new hr(l,A)}subPathOf(l){return this.memberNodes.subPathOf(l)}purge(l){this.memberNodes.purge(l)}set(l,y,A){return this.memberNodes.set(l,y,A)}delete(l,y){return this.memberNodes.delete(l,y)}deleteByKey(l,y){return this.memberNodes.deleteByKey(l,y)}get(l){const y=this.memberNodes.get(l);return y==null?void 0:y.getValue()}getByID(l){const y=this.memberNodes.getByID(l);return y==null?void 0:y.getValue()}has(l){return this.memberNodes.has(l)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const l=[];for(const[y,A]of this)l.push(`"${$i(y)}":${A.toJSON()}`);return`{${l.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const l={};for(const[y,A]of this){const{createdAt:N,value:M,type:z}=A.toJSForTest();l[y]={key:y,createdAt:N,value:M,type:z}}return{createdAt:this.getCreatedAt().toTestString(),value:l,type:"YORKIE_OBJECT"}}getKeys(){const l=Array();for(const[y]of this)l.push(y);return l}toSortedJSON(){var A;const l=new Set;for(const[N]of this)l.add(N);const y=[];for(const N of Array.from(l).sort()){const M=(A=this.memberNodes.get(N))==null?void 0:A.getValue();y.push(`"${$i(N)}":${M.toSortedJSON()}`)}return`{${y.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const l=hr.create(this.getCreatedAt());return l.memberNodes=this.memberNodes.deepcopy(),l.setRemovedAt(this.getRemovedAt()),l.setMovedAt(this.getMovedAt()),l}getDescendants(l){for(const y of this.memberNodes){const A=y.getValue();if(l(A,this))return;A instanceof Go&&A.getDescendants(l)}}*[Symbol.iterator](){for(const l of this.memberNodes)l.isRemoved()||(yield[l.getStrKey(),l.getValue()])}}var En=(f=>(f.Local="local",f.Remote="remote",f.UndoRedo="undoredo",f))(En||{});class Or{constructor(i,l){Y(this,"parentCreatedAt");Y(this,"executedAt");this.parentCreatedAt=i,this.executedAt=l}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new be(ge.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(i){this.executedAt&&(this.executedAt=this.executedAt.setActor(i))}setExecutedAt(i){this.executedAt=i}}class vm{constructor(i){Y(this,"value");Y(this,"left");Y(this,"right");Y(this,"parent");Y(this,"weight");this.value=i,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(i){this.left=i}setRight(i){this.right=i}setParent(i){this.parent=i}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(i){this.weight+=i}initWeight(){this.weight=this.getLength()}}class Uu{constructor(i){Y(this,"root");this.root=i}get length(){return this.root?this.root.getWeight():0}findForText(i){if(!this.root||i<0)return[void 0,0];let l=this.root;for(;;)if(l.hasLeft()&&i<=l.getLeftWeight())l=l.getLeft();else if(l.hasRight()&&l.getLeftWeight()+l.getLength()<i)i-=l.getLeftWeight()+l.getLength(),l=l.getRight();else{i-=l.getLeftWeight();break}if(i>l.getLength())throw new be(ge.ErrInvalidArgument,`out of index range: pos: ${i} > node.length: ${l.getLength()}`);return this.splayNode(l),[l,i]}findForArray(i){if(!this.root)return;if(i<0||i>=this.length)throw new be(ge.ErrInvalidArgument,`out of index range: idx: ${i}, length: ${this.length}`);let l=this.root;for(;;)if(l.hasLeft()&&i<l.getLeftWeight())l=l.getLeft();else if(l.hasRight()&&l.getLeftWeight()+l.getLength()<=i)i-=l.getLeftWeight()+l.getLength(),l=l.getRight();else break;return this.splayNode(l),l}indexOf(i){return!i||i!==this.root&&!i.hasLinks()?-1:(this.splayNode(i),this.root.getLeftWeight())}getRoot(){return this.root}insert(i){return this.insertAfter(this.root,i)}insertAfter(i,l){return i?(this.splayNode(i),this.root=l,l.setRight(i.getRight()),i.hasRight()&&i.getRight().setParent(l),l.setLeft(i),i.setParent(l),i.setRight(),this.updateWeight(i),this.updateWeight(l),l):(this.root=l,l)}updateWeight(i){i.initWeight(),i.hasLeft()&&i.increaseWeight(i.getLeftWeight()),i.hasRight()&&i.increaseWeight(i.getRightWeight())}updateTreeWeight(i){for(;i;)this.updateWeight(i),i=i.getParent()}splayNode(i){if(i)for(;;)if(this.isLeftChild(i.getParent())&&this.isRightChild(i))this.rotateLeft(i),this.rotateRight(i);else if(this.isRightChild(i.getParent())&&this.isLeftChild(i))this.rotateRight(i),this.rotateLeft(i);else if(this.isLeftChild(i.getParent())&&this.isLeftChild(i))this.rotateRight(i.getParent()),this.rotateRight(i);else if(this.isRightChild(i.getParent())&&this.isRightChild(i))this.rotateLeft(i.getParent()),this.rotateLeft(i);else{this.isLeftChild(i)?this.rotateRight(i):this.isRightChild(i)&&this.rotateLeft(i),this.updateWeight(i);return}}delete(i){this.splayNode(i);const l=new Uu(i.getLeft());l.root&&l.root.setParent();const y=new Uu(i.getRight());if(y.root&&y.root.setParent(),l.root){const A=l.getRightmost();l.splayNode(A),l.root.setRight(y.root),y.root&&y.root.setParent(l.root),this.root=l.root}else this.root=y.root;i.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(i,l){if(!l){this.splayNode(i),this.cutOffRight(i);return}this.splayNode(i),this.splayNode(l),l.getLeft()!=i&&this.rotateRight(i),this.cutOffRight(i)}cutOffRight(i){const l=[];this.traversePostorder(i.getRight(),l);for(const y of l)y.initWeight();this.updateTreeWeight(i)}toTestString(){const i=[];return this.traverseInorder(this.root,i),i.map(l=>`[${l.getWeight()},${l.getLength()}]${l.getValue()||""}`).join("")}checkWeight(){const i=[];this.traverseInorder(this.root,i);for(const l of i)if(l.getWeight()!=l.getLength()+l.getLeftWeight()+l.getRightWeight())return!1;return!0}getRightmost(){let i=this.root;for(;i.hasRight();)i=i.getRight();return i}traverseInorder(i,l){i&&(this.traverseInorder(i.getLeft(),l),l.push(i),this.traverseInorder(i.getRight(),l))}traversePostorder(i,l){i&&(this.traversePostorder(i.getLeft(),l),this.traversePostorder(i.getRight(),l),l.push(i))}rotateLeft(i){const l=i.getParent();l.hasParent()?l===l.getParent().getLeft()?l.getParent().setLeft(i):l.getParent().setRight(i):this.root=i,i.setParent(l.getParent()),l.setRight(i.getLeft()),l.hasRight()&&l.getRight().setParent(l),i.setLeft(l),i.getLeft().setParent(i),this.updateWeight(l),this.updateWeight(i)}rotateRight(i){const l=i.getParent();l.hasParent()?l===l.getParent().getLeft()?l.getParent().setLeft(i):l.getParent().setRight(i):this.root=i,i.setParent(l.getParent()),l.setLeft(i.getRight()),l.hasLeft()&&l.getLeft().setParent(l),i.setRight(l),i.getRight().setParent(i),this.updateWeight(l),this.updateWeight(i)}isLeftChild(i){return i&&i.hasParent()?i.getParent().getLeft()===i:!1}isRightChild(i){return i&&i.hasParent()?i.getParent().getRight()===i:!1}}var di=null;try{di=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Vt(f,i,l){this.low=f|0,this.high=i|0,this.unsigned=!!l}Vt.prototype.__isLong__,Object.defineProperty(Vt.prototype,"__isLong__",{value:!0});function pr(f){return(f&&f.__isLong__)===!0}function xm(f){var i=Math.clz32(f&-f);return f?31-i:i}Vt.isLong=pr;var Wh={},bm={};function Us(f,i){var l,y,A;return i?(f>>>=0,(A=0<=f&&f<256)&&(y=bm[f],y)?y:(l=qt(f,0,!0),A&&(bm[f]=l),l)):(f|=0,(A=-128<=f&&f<128)&&(y=Wh[f],y)?y:(l=qt(f,f<0?-1:0,!1),A&&(Wh[f]=l),l))}Vt.fromInt=Us;function Kr(f,i){if(isNaN(f))return i?ao:Hi;if(i){if(f<0)return ao;if(f>=Em)return wm}else{if(f<=-9223372036854776e3)return gr;if(f+1>=Uv)return Cm}return f<0?Kr(-f,i).neg():qt(f%Vs|0,f/Vs|0,i)}Vt.fromNumber=Kr;function qt(f,i,l){return new Vt(f,i,l)}Vt.fromBits=qt;var Rf=Math.pow;function Sm(f,i,l){if(f.length===0)throw Error("empty string");if(typeof i=="number"?(l=i,i=!1):i=!!i,f==="NaN"||f==="Infinity"||f==="+Infinity"||f==="-Infinity")return i?ao:Hi;if(l=l||10,l<2||36<l)throw RangeError("radix");var y;if((y=f.indexOf("-"))>0)throw Error("interior hyphen");if(y===0)return Sm(f.substring(1),i,l).neg();for(var A=Kr(Rf(l,8)),N=Hi,M=0;M<f.length;M+=8){var z=Math.min(8,f.length-M),W=parseInt(f.substring(M,M+z),l);if(z<8){var ee=Kr(Rf(l,z));N=N.mul(ee).add(Kr(W))}else N=N.mul(A),N=N.add(Kr(W))}return N.unsigned=i,N}Vt.fromString=Sm;function Xr(f,i){return typeof f=="number"?Kr(f,i):typeof f=="string"?Sm(f,i):qt(f.low,f.high,typeof i=="boolean"?i:f.unsigned)}Vt.fromValue=Xr;var Am=65536,zv=1<<24,Vs=Am*Am,Em=Vs*Vs,Uv=Em/2,Vv=Us(zv),Hi=Us(0);Vt.ZERO=Hi;var ao=Us(0,!0);Vt.UZERO=ao;var lo=Us(1);Vt.ONE=lo;var Yh=Us(1,!0);Vt.UONE=Yh;var Vu=Us(-1);Vt.NEG_ONE=Vu;var Cm=qt(-1,2147483647,!1);Vt.MAX_VALUE=Cm;var wm=qt(-1,-1,!0);Vt.MAX_UNSIGNED_VALUE=wm;var gr=qt(0,-2147483648,!1);Vt.MIN_VALUE=gr;var Ke=Vt.prototype;Ke.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ke.toNumber=function(){return this.unsigned?(this.high>>>0)*Vs+(this.low>>>0):this.high*Vs+(this.low>>>0)},Ke.toString=function(i){if(i=i||10,i<2||36<i)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(gr)){var l=Kr(i),y=this.div(l),A=y.mul(l).sub(this);return y.toString(i)+A.toInt().toString(i)}else return"-"+this.neg().toString(i);for(var N=Kr(Rf(i,6),this.unsigned),M=this,z="";;){var W=M.div(N),ee=M.sub(W.mul(N)).toInt()>>>0,ue=ee.toString(i);if(M=W,M.isZero())return ue+z;for(;ue.length<6;)ue="0"+ue;z=""+ue+z}},Ke.getHighBits=function(){return this.high},Ke.getHighBitsUnsigned=function(){return this.high>>>0},Ke.getLowBits=function(){return this.low},Ke.getLowBitsUnsigned=function(){return this.low>>>0},Ke.getNumBitsAbs=function(){if(this.isNegative())return this.eq(gr)?64:this.neg().getNumBitsAbs();for(var i=this.high!=0?this.high:this.low,l=31;l>0&&(i&1<<l)==0;l--);return this.high!=0?l+33:l+1},Ke.isSafeInteger=function(){var i=this.high>>21;return i?this.unsigned?!1:i===-1&&!(this.low===0&&this.high===-2097152):!0},Ke.isZero=function(){return this.high===0&&this.low===0},Ke.eqz=Ke.isZero,Ke.isNegative=function(){return!this.unsigned&&this.high<0},Ke.isPositive=function(){return this.unsigned||this.high>=0},Ke.isOdd=function(){return(this.low&1)===1},Ke.isEven=function(){return(this.low&1)===0},Ke.equals=function(i){return pr(i)||(i=Xr(i)),this.unsigned!==i.unsigned&&this.high>>>31===1&&i.high>>>31===1?!1:this.high===i.high&&this.low===i.low},Ke.eq=Ke.equals,Ke.notEquals=function(i){return!this.eq(i)},Ke.neq=Ke.notEquals,Ke.ne=Ke.notEquals,Ke.lessThan=function(i){return this.comp(i)<0},Ke.lt=Ke.lessThan,Ke.lessThanOrEqual=function(i){return this.comp(i)<=0},Ke.lte=Ke.lessThanOrEqual,Ke.le=Ke.lessThanOrEqual,Ke.greaterThan=function(i){return this.comp(i)>0},Ke.gt=Ke.greaterThan,Ke.greaterThanOrEqual=function(i){return this.comp(i)>=0},Ke.gte=Ke.greaterThanOrEqual,Ke.ge=Ke.greaterThanOrEqual,Ke.compare=function(i){if(pr(i)||(i=Xr(i)),this.eq(i))return 0;var l=this.isNegative(),y=i.isNegative();return l&&!y?-1:!l&&y?1:this.unsigned?i.high>>>0>this.high>>>0||i.high===this.high&&i.low>>>0>this.low>>>0?-1:1:this.sub(i).isNegative()?-1:1},Ke.comp=Ke.compare,Ke.negate=function(){return!this.unsigned&&this.eq(gr)?gr:this.not().add(lo)},Ke.neg=Ke.negate,Ke.add=function(i){pr(i)||(i=Xr(i));var l=this.high>>>16,y=this.high&65535,A=this.low>>>16,N=this.low&65535,M=i.high>>>16,z=i.high&65535,W=i.low>>>16,ee=i.low&65535,ue=0,we=0,ke=0,Re=0;return Re+=N+ee,ke+=Re>>>16,Re&=65535,ke+=A+W,we+=ke>>>16,ke&=65535,we+=y+z,ue+=we>>>16,we&=65535,ue+=l+M,ue&=65535,qt(ke<<16|Re,ue<<16|we,this.unsigned)},Ke.subtract=function(i){return pr(i)||(i=Xr(i)),this.add(i.neg())},Ke.sub=Ke.subtract,Ke.multiply=function(i){if(this.isZero())return this;if(pr(i)||(i=Xr(i)),di){var l=di.mul(this.low,this.high,i.low,i.high);return qt(l,di.get_high(),this.unsigned)}if(i.isZero())return this.unsigned?ao:Hi;if(this.eq(gr))return i.isOdd()?gr:Hi;if(i.eq(gr))return this.isOdd()?gr:Hi;if(this.isNegative())return i.isNegative()?this.neg().mul(i.neg()):this.neg().mul(i).neg();if(i.isNegative())return this.mul(i.neg()).neg();if(this.lt(Vv)&&i.lt(Vv))return Kr(this.toNumber()*i.toNumber(),this.unsigned);var y=this.high>>>16,A=this.high&65535,N=this.low>>>16,M=this.low&65535,z=i.high>>>16,W=i.high&65535,ee=i.low>>>16,ue=i.low&65535,we=0,ke=0,Re=0,We=0;return We+=M*ue,Re+=We>>>16,We&=65535,Re+=N*ue,ke+=Re>>>16,Re&=65535,Re+=M*ee,ke+=Re>>>16,Re&=65535,ke+=A*ue,we+=ke>>>16,ke&=65535,ke+=N*ee,we+=ke>>>16,ke&=65535,ke+=M*W,we+=ke>>>16,ke&=65535,we+=y*ue+A*ee+N*W+M*z,we&=65535,qt(Re<<16|We,we<<16|ke,this.unsigned)},Ke.mul=Ke.multiply,Ke.divide=function(i){if(pr(i)||(i=Xr(i)),i.isZero())throw Error("division by zero");if(di){if(!this.unsigned&&this.high===-2147483648&&i.low===-1&&i.high===-1)return this;var l=(this.unsigned?di.div_u:di.div_s)(this.low,this.high,i.low,i.high);return qt(l,di.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ao:Hi;var y,A,N;if(this.unsigned){if(i.unsigned||(i=i.toUnsigned()),i.gt(this))return ao;if(i.gt(this.shru(1)))return Yh;N=ao}else{if(this.eq(gr)){if(i.eq(lo)||i.eq(Vu))return gr;if(i.eq(gr))return lo;var M=this.shr(1);return y=M.div(i).shl(1),y.eq(Hi)?i.isNegative()?lo:Vu:(A=this.sub(i.mul(y)),N=y.add(A.div(i)),N)}else if(i.eq(gr))return this.unsigned?ao:Hi;if(this.isNegative())return i.isNegative()?this.neg().div(i.neg()):this.neg().div(i).neg();if(i.isNegative())return this.div(i.neg()).neg();N=Hi}for(A=this;A.gte(i);){y=Math.max(1,Math.floor(A.toNumber()/i.toNumber()));for(var z=Math.ceil(Math.log(y)/Math.LN2),W=z<=48?1:Rf(2,z-48),ee=Kr(y),ue=ee.mul(i);ue.isNegative()||ue.gt(A);)y-=W,ee=Kr(y,this.unsigned),ue=ee.mul(i);ee.isZero()&&(ee=lo),N=N.add(ee),A=A.sub(ue)}return N},Ke.div=Ke.divide,Ke.modulo=function(i){if(pr(i)||(i=Xr(i)),di){var l=(this.unsigned?di.rem_u:di.rem_s)(this.low,this.high,i.low,i.high);return qt(l,di.get_high(),this.unsigned)}return this.sub(this.div(i).mul(i))},Ke.mod=Ke.modulo,Ke.rem=Ke.modulo,Ke.not=function(){return qt(~this.low,~this.high,this.unsigned)},Ke.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Ke.clz=Ke.countLeadingZeros,Ke.countTrailingZeros=function(){return this.low?xm(this.low):xm(this.high)+32},Ke.ctz=Ke.countTrailingZeros,Ke.and=function(i){return pr(i)||(i=Xr(i)),qt(this.low&i.low,this.high&i.high,this.unsigned)},Ke.or=function(i){return pr(i)||(i=Xr(i)),qt(this.low|i.low,this.high|i.high,this.unsigned)},Ke.xor=function(i){return pr(i)||(i=Xr(i)),qt(this.low^i.low,this.high^i.high,this.unsigned)},Ke.shiftLeft=function(i){return pr(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?qt(this.low<<i,this.high<<i|this.low>>>32-i,this.unsigned):qt(0,this.low<<i-32,this.unsigned)},Ke.shl=Ke.shiftLeft,Ke.shiftRight=function(i){return pr(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?qt(this.low>>>i|this.high<<32-i,this.high>>i,this.unsigned):qt(this.high>>i-32,this.high>=0?0:-1,this.unsigned)},Ke.shr=Ke.shiftRight,Ke.shiftRightUnsigned=function(i){return pr(i)&&(i=i.toInt()),(i&=63)===0?this:i<32?qt(this.low>>>i|this.high<<32-i,this.high>>>i,this.unsigned):i===32?qt(this.high,0,this.unsigned):qt(this.high>>>i-32,0,this.unsigned)},Ke.shru=Ke.shiftRightUnsigned,Ke.shr_u=Ke.shiftRightUnsigned,Ke.rotateLeft=function(i){var l;return pr(i)&&(i=i.toInt()),(i&=63)===0?this:i===32?qt(this.high,this.low,this.unsigned):i<32?(l=32-i,qt(this.low<<i|this.high>>>l,this.high<<i|this.low>>>l,this.unsigned)):(i-=32,l=32-i,qt(this.high<<i|this.low>>>l,this.low<<i|this.high>>>l,this.unsigned))},Ke.rotl=Ke.rotateLeft,Ke.rotateRight=function(i){var l;return pr(i)&&(i=i.toInt()),(i&=63)===0?this:i===32?qt(this.high,this.low,this.unsigned):i<32?(l=32-i,qt(this.high<<l|this.low>>>i,this.low<<l|this.high>>>i,this.unsigned)):(i-=32,l=32-i,qt(this.low<<l|this.high>>>i,this.high<<l|this.low>>>i,this.unsigned))},Ke.rotr=Ke.rotateRight,Ke.toSigned=function(){return this.unsigned?qt(this.low,this.high,!1):this},Ke.toUnsigned=function(){return this.unsigned?this:qt(this.low,this.high,!0)},Ke.toBytes=function(i){return i?this.toBytesLE():this.toBytesBE()},Ke.toBytesLE=function(){var i=this.high,l=this.low;return[l&255,l>>>8&255,l>>>16&255,l>>>24,i&255,i>>>8&255,i>>>16&255,i>>>24]},Ke.toBytesBE=function(){var i=this.high,l=this.low;return[i>>>24,i>>>16&255,i>>>8&255,i&255,l>>>24,l>>>16&255,l>>>8&255,l&255]},Vt.fromBytes=function(i,l,y){return y?Vt.fromBytesLE(i,l):Vt.fromBytesBE(i,l)},Vt.fromBytesLE=function(i,l){return new Vt(i[0]|i[1]<<8|i[2]<<16|i[3]<<24,i[4]|i[5]<<8|i[6]<<16|i[7]<<24,l)},Vt.fromBytesBE=function(i,l){return new Vt(i[4]<<24|i[5]<<16|i[6]<<8|i[7],i[0]<<24|i[1]<<16|i[2]<<8|i[3],l)},typeof BigInt=="function"&&(Vt.fromBigInt=function(i,l){var y=Number(BigInt.asIntN(32,i)),A=Number(BigInt.asIntN(32,i>>BigInt(32)));return qt(y,A,l)},Vt.fromValue=function(i,l){return typeof i=="bigint"?Vt.fromBigInt(i,l):Xr(i,l)},Ke.toBigInt=function(){var i=BigInt(this.low>>>0),l=BigInt(this.unsigned?this.high>>>0:this.high);return l<<BigInt(32)|i});var gn=(f=>(f[f.Null=0]="Null",f[f.Boolean=1]="Boolean",f[f.Integer=2]="Integer",f[f.Long=3]="Long",f[f.Double=4]="Double",f[f.String=5]="String",f[f.Bytes=6]="Bytes",f[f.Date=7]="Date",f))(gn||{});class On extends wf{constructor(l,y){super(y);Y(this,"valueType");Y(this,"value");this.valueType=On.getPrimitiveType(l),this.value=l===void 0?null:l}static of(l,y){return new On(l,y)}static valueFromBytes(l,y){switch(l){case 0:return null;case 1:return!!y[0];case 2:return y[0]|y[1]<<8|y[2]<<16|y[3]<<24;case 4:{const A=new DataView(y.buffer);return y.forEach(function(N,M){A.setUint8(M,N)}),A.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(y);case 3:return Vt.fromBytesLE(Array.from(y));case 6:return y;case 7:return new Date(Vt.fromBytesLE(Array.from(y),!0).toNumber());default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${l}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${$i(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const l=On.of(this.value,this.getCreatedAt());return l.setMovedAt(this.getMovedAt()),l.setRemovedAt(this.getRemovedAt()),l}getType(){return this.valueType}static getPrimitiveType(l){switch(typeof l){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(l)?2:4;case"string":return 5;case"object":if(l===null)return 0;if(l instanceof Vt)return 3;if(l instanceof Uint8Array)return 6;if(l instanceof Date)return 7}}static isSupport(l){return On.getPrimitiveType(l)!==void 0}static isInteger(l){return l%1===0}isNumericType(){const l=this.valueType;return l===2||l===3||l===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const l=this.value;return new Uint8Array([l&255,l>>8&255,l>>16&255,l>>24&255])}case 4:{const l=this.value,y=new Uint8Array(8);return new DataView(y.buffer).setFloat64(0,l,!0),y}case 5:return new TextEncoder().encode(this.value);case 3:{const y=this.value.toBytesLE();return Uint8Array.from(y)}case 6:return this.value;case 7:{const l=this.value,y=Vt.fromNumber(l.getTime(),!0).toBytesLE();return Uint8Array.from(y)}default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Wo extends vm{constructor(l){super(l);Y(this,"prev");Y(this,"next");Y(this,"movedFrom");this.value=l}static createAfter(l,y){const A=new Wo(y),N=l.next;return l.next=A,A.prev=l,A.next=N,N&&(N.prev=A),A}remove(l){return this.value.remove(l)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(l){this.movedFrom=l}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Yo{constructor(){Y(this,"dummyHead");Y(this,"last");Y(this,"nodeMapByIndex");Y(this,"nodeMapByCreatedAt");const i=On.of(0,za);i.setRemovedAt(za),this.dummyHead=new Wo(i),this.last=this.dummyHead,this.nodeMapByIndex=new Uu,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Yo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(i,l){let y=this.nodeMapByCreatedAt.get(i.toIDString());if(!y)throw new be(ge.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);for(;y.getValue().getMovedAt()&&y.getValue().getMovedAt().after(l)&&y.getMovedFrom();)y=y.getMovedFrom();for(;y.getNext()&&y.getNext().getPositionedAt().after(l);)y=y.getNext();return y}release(i){this.last===i&&(this.last=i.getPrev()),i.release(),this.nodeMapByIndex.delete(i),this.nodeMapByCreatedAt.delete(i.getValue().getCreatedAt().toIDString())}insertAfter(i,l,y=l.getCreatedAt()){const A=this.findNextBeforeExecutedAt(i,y),N=Wo.createAfter(A,l);return A===this.last&&(this.last=N),this.nodeMapByIndex.insertAfter(A,N),this.nodeMapByCreatedAt.set(N.getCreatedAt().toIDString(),N),N}moveAfter(i,l,y){let A=this.nodeMapByCreatedAt.get(i.toIDString());if(!A)throw new be(ge.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);let N=this.nodeMapByCreatedAt.get(l.toIDString());if(!N)throw new be(ge.ErrInvalidArgument,`cant find the given node: ${l.toIDString()}`);if(A!==N&&y.after(N.getPositionedAt())){const M=N.getPrev();let z=N.getNext();for(this.release(N),N=this.insertAfter(A.getCreatedAt(),N.getValue(),y),N.getValue().setMovedAt(y),N.setMovedFrom(M);z&&z.getPositionedAt().after(y);)A=N,N=z,z=N.getNext(),this.release(N),N=this.insertAfter(A.getCreatedAt(),N.getValue(),y),N.getValue().setMovedAt(y),N.setMovedFrom(M)}}insert(i){this.insertAfter(this.last.getCreatedAt(),i)}getByID(i){return this.nodeMapByCreatedAt.get(i.toIDString())}subPathOf(i){const l=this.nodeMapByCreatedAt.get(i.toIDString());if(l)return String(this.nodeMapByIndex.indexOf(l))}purge(i){const l=this.nodeMapByCreatedAt.get(i.getCreatedAt().toIDString());if(!l)throw new be(ge.ErrInvalidArgument,`fail to find the given createdAt: ${i.getCreatedAt().toIDString()}`);this.release(l)}getByIndex(i){return i>=this.length?void 0:this.nodeMapByIndex.findForArray(i)}getPrevCreatedAt(i){let l=this.nodeMapByCreatedAt.get(i.toIDString());do l=l.getPrev();while(this.dummyHead!==l&&l.isRemoved());return l.getValue().getCreatedAt()}delete(i,l){const y=this.nodeMapByCreatedAt.get(i.toIDString()),A=y.isRemoved();return y.remove(l)&&!A&&this.nodeMapByIndex.splayNode(y),y.getValue()}set(i,l,y){const A=this.nodeMapByCreatedAt.get(i.toIDString());if(!A)throw new be(ge.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);return this.insertAfter(A.getCreatedAt(),l,y),this.delete(i,y)}deleteByIndex(i,l){const y=this.getByIndex(i);if(y)return y.remove(l)&&this.nodeMapByIndex.splayNode(y),y.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const i=[];for(const l of this){const y=`${l.getCreatedAt().toIDString()}:${l.getValue().toJSON()}`;l.isRemoved()?i.push(`{${y}}`):i.push(`[${y}]`)}return i.join("")}*[Symbol.iterator](){let i=this.dummyHead.getNext();for(;i;)yield i,i=i.getNext()}}class er extends Go{constructor(l,y){super(l);Y(this,"elements");this.elements=y}static create(l,y){if(!y)return new er(l,Yo.create());const A=Yo.create();for(const N of y)A.insertAfter(A.getLastCreatedAt(),N.deepcopy());return new er(l,A)}subPathOf(l){return this.elements.subPathOf(l)}purge(l){this.elements.purge(l)}insertAfter(l,y,A){this.elements.insertAfter(l,y,A)}moveAfter(l,y,A){this.elements.moveAfter(l,y,A)}get(l){const y=this.elements.getByIndex(l);return y==null?void 0:y.getValue()}getByID(l){const y=this.elements.getByID(l);return y==null?void 0:y.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(l){return this.elements.getPrevCreatedAt(l)}delete(l,y){return this.elements.delete(l,y)}deleteByIndex(l,y){return this.elements.deleteByIndex(l,y)}set(l,y,A){return this.elements.set(l,y,A)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const l of this.elements)l.isRemoved()||(yield l.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(l){for(const y of this.elements){const A=y.getValue();if(l(A,this))return;A instanceof Go&&A.getDescendants(l)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const l=[];for(const y of this)l.push(y.toJSON());return`[${l.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const l={};for(let y=0;y<this.length;y++){const{createdAt:A,value:N,type:M}=this.get(y).toJSForTest();l[y]={key:String(y),createdAt:A,value:N,type:M}}return{createdAt:this.getCreatedAt().toTestString(),value:l,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const l=er.create(this.getCreatedAt());for(const y of this.elements)l.elements.insertAfter(l.getLastCreatedAt(),y.getValue().deepcopy());return l.setRemovedAt(this.getRemovedAt()),l.setMovedAt(this.getMovedAt()),l}}class Ri extends Or{constructor(l,y,A,N){super(l,N);Y(this,"prevCreatedAt");Y(this,"value");this.prevCreatedAt=y,this.value=A}static create(l,y,A,N){return new Ri(l,y,A,N)}execute(l){const y=l.findByCreatedAt(this.getParentCreatedAt());if(!y)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(y instanceof er))throw new be(ge.ErrInvalidArgument,"fail to execute, only array can execute add");const A=y,N=this.value.deepcopy();return A.insertAfter(this.prevCreatedAt,N,this.getExecutedAt()),l.registerElement(N,A),{opInfos:[{type:"add",path:l.createPath(this.getParentCreatedAt()),index:Number(A.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return hi.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(l){this.prevCreatedAt=l}}class hi extends Or{constructor(l,y,A){super(l,A);Y(this,"createdAt");this.createdAt=y}static create(l,y,A){return new hi(l,y,A)}execute(l,y){var ee;const A=l.findByCreatedAt(this.getParentCreatedAt());if(!A)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(A instanceof Go))throw new be(ge.ErrInvalidArgument,`only object and array can execute remove: ${A}`);if(y===En.UndoRedo){let ue=A.getByID(this.createdAt);for(;ue;){if(ue.getRemovedAt())return;ue=(ee=l.findElementPairByCreatedAt(ue.getCreatedAt()))==null?void 0:ee.parent}}const N=A.subPathOf(this.createdAt),M=this.toReverseOperation(A),z=A.delete(this.createdAt,this.getExecutedAt());return l.registerRemovedElement(z),{opInfos:A instanceof er?[{type:"remove",path:l.createPath(this.getParentCreatedAt()),index:Number(N)}]:[{type:"remove",path:l.createPath(this.getParentCreatedAt()),key:N}],reverseOp:M}}toReverseOperation(l){if(l instanceof er){const y=l.getByID(this.createdAt);if(y!==void 0){const A=l.getPrevCreatedAt(this.createdAt);return Ri.create(this.getParentCreatedAt(),A,y.deepcopy())}}if(l instanceof hr){const y=l.subPathOf(this.createdAt);if(y!==void 0){const A=l.get(y);if(A!==void 0)return Gs.create(y,A.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(l){this.createdAt=l}}class Gs extends Or{constructor(l,y,A,N){super(A,N);Y(this,"key");Y(this,"value");this.key=l,this.value=y}static create(l,y,A,N){return new Gs(l,y,A,N)}execute(l,y){var ee;const A=l.findByCreatedAt(this.getParentCreatedAt());if(!A)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(A instanceof hr))throw new be(ge.ErrInvalidArgument,"fail to execute, only object can execute set");if(y===En.UndoRedo){let ue=A;for(;ue;){if(ue.getRemovedAt())return;ue=(ee=l.findElementPairByCreatedAt(ue.getCreatedAt()))==null?void 0:ee.parent}}const N=A.get(this.key),M=this.toReverseOperation(N),z=this.value.deepcopy(),W=A.set(this.key,z,this.getExecutedAt());return y===En.UndoRedo&&l.findByCreatedAt(z.getCreatedAt())&&l.deregisterElement(z),l.registerElement(z,A),W&&l.registerRemovedElement(W),{opInfos:[{type:"set",path:l.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:M}}toReverseOperation(l){let y=hi.create(this.getParentCreatedAt(),this.value.getCreatedAt());return l!==void 0&&!l.isRemoved()&&(y=Gs.create(this.key,l.deepcopy(),this.getParentCreatedAt())),y}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Ti extends Or{constructor(l,y,A,N){super(l,N);Y(this,"prevCreatedAt");Y(this,"createdAt");this.prevCreatedAt=y,this.createdAt=A}static create(l,y,A,N){return new Ti(l,y,A,N)}execute(l){const y=l.findByCreatedAt(this.getParentCreatedAt());if(!y)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(y instanceof er))throw new be(ge.ErrInvalidArgument,"fail to execute, only array can execute move");const A=y,N=this.toReverseOperation(A),M=Number(A.subPathOf(this.createdAt));A.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const z=Number(A.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:l.createPath(this.getParentCreatedAt()),index:z,previousIndex:M}],reverseOp:N}}toReverseOperation(l){const y=l.getPrevCreatedAt(this.createdAt);return Ti.create(this.getParentCreatedAt(),y,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(l){this.prevCreatedAt=l}setCreatedAt(l){this.createdAt=l}}const Gu=(f,i)=>f===i?0:f<i?-1:1;class Gv{constructor(i,l,y){Y(this,"key");Y(this,"value");Y(this,"left");Y(this,"right");Y(this,"isRed");this.key=i,this.value=l,this.isRed=y}}class Ni{constructor(i){Y(this,"stack");this.stack=[],this.traverseInorder(i)}traverseInorder(i){i&&(this.traverseInorder(i.left),this.stack.push({key:i.key,value:i.value}),this.traverseInorder(i.right))}}class Wi{constructor(i){Y(this,"root");Y(this,"comparator");Y(this,"counter");this.comparator=typeof i<"u"?i:Gu,this.counter=0}put(i,l){return this.root=this.putInternal(i,l,this.root),this.root.isRed=!1,l}get(i){const l=this.getInternal(i,this.root);return l?l.value:void 0}remove(i){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,i),this.root&&(this.root.isRed=!1)}getIterator(){return new Ni(this.root)}values(){const i=[];for(const l of this.getIterator().stack)i.push(l.value);return i}floorEntry(i){let l=this.root,y;for(;l;){const A=this.comparator(i,l.key);if(A===0)return l;A<0?l=l.left:(y=l,l=l.right)}return y}lastEntry(){if(!this.root)return this.root;let i=this.root;for(;i.right;)i=i.right;return i}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(i,l){for(;l;){const y=this.comparator(i,l.key);if(y===0)return l;y<0?l=l.left:y>0&&(l=l.right)}}putInternal(i,l,y){if(!y)return this.counter+=1,new Gv(i,l,!0);const A=this.comparator(i,y.key);return A<0?y.left=this.putInternal(i,l,y.left):A>0?y.right=this.putInternal(i,l,y.right):y.value=l,this.isRed(y.right)&&!this.isRed(y.left)&&(y=this.rotateLeft(y)),this.isRed(y.left)&&this.isRed(y.left.left)&&(y=this.rotateRight(y)),this.isRed(y.left)&&this.isRed(y.right)&&this.flipColors(y),y}removeInternal(i,l){if(this.comparator(l,i.key)<0)!this.isRed(i.left)&&!this.isRed(i.left.left)&&(i=this.moveRedLeft(i)),i.left=this.removeInternal(i.left,l);else{if(this.isRed(i.left)&&(i=this.rotateRight(i)),this.comparator(l,i.key)===0&&!i.right){this.counter-=1;return}if(!this.isRed(i.right)&&!this.isRed(i.right.left)&&(i=this.moveRedRight(i)),this.comparator(l,i.key)===0){this.counter-=1;const y=this.min(i.right);i.value=y.value,i.key=y.key,i.right=this.removeMin(i.right)}else i.right=this.removeInternal(i.right,l)}return this.fixUp(i)}min(i){return i.left?this.min(i.left):i}removeMin(i){if(i.left)return!this.isRed(i.left)&&!this.isRed(i.left.left)&&(i=this.moveRedLeft(i)),i.left=this.removeMin(i.left),this.fixUp(i)}fixUp(i){return this.isRed(i.right)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}moveRedLeft(i){return this.flipColors(i),this.isRed(i.right.left)&&(i.right=this.rotateRight(i.right),i=this.rotateLeft(i),this.flipColors(i)),i}moveRedRight(i){return this.flipColors(i),this.isRed(i.left.left)&&(i=this.rotateRight(i),this.flipColors(i)),i}isRed(i){return i&&i.isRed}rotateLeft(i){const l=i.right;return i.right=l.left,l.left=i,l.isRed=l.left.isRed,l.left.isRed=!0,l}rotateRight(i){const l=i.left;return i.left=l.right,l.right=i,l.isRed=l.right.isRed,l.right.isRed=!0,l}flipColors(i){i.isRed=!i.isRed,i.left.isRed=!i.left.isRed,i.right.isRed=!i.right.isRed}}function $s(f){return f?Rm(f.live)+Rm(f.gc):0}function Rm(f){return f.data+f.meta}function Nn(f,...i){for(const l of i)f.data+=l.data,f.meta+=l.meta}function Dr(f,i){f.data-=i.data,f.meta-=i.meta}class mn{constructor(i,l){Y(this,"createdAt");Y(this,"offset");this.createdAt=i,this.offset=l}static of(i,l){return new mn(i,l)}static fromStruct(i){return mn.of(qr.fromStruct(i.createdAt),i.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(i){return this.createdAt.compare(i.createdAt)===0&&this.offset===i.offset}hasSameCreatedAt(i){return this.createdAt.compare(i.createdAt)===0}split(i){return new mn(this.createdAt,this.offset+i)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const qh=mn.of(za,0);class tr{constructor(i,l){Y(this,"id");Y(this,"relativeOffset");this.id=i,this.relativeOffset=l}static of(i,l){return new tr(i,l)}static fromStruct(i){const l=mn.fromStruct(i.id);return tr.of(l,i.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return mn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(i){return this.id.equals(i.id)?this.relativeOffset===i.relativeOffset:!1}}class uo extends vm{constructor(l,y,A){super(y);Y(this,"id");Y(this,"removedAt");Y(this,"prev");Y(this,"next");Y(this,"insPrev");Y(this,"insNext");this.id=l,this.removedAt=A}static create(l,y){return new uo(l,y)}static createComparator(){return(l,y)=>{const A=l.getCreatedAt().compare(y.getCreatedAt());return A!==0?A:l.getOffset()>y.getOffset()?1:l.getOffset()<y.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(l){this.prev=l,l&&(l.next=this)}setNext(l){this.next=l,l&&(l.prev=this)}setInsPrev(l){this.insPrev=l,l&&(l.insNext=this)}setInsNext(l){this.insNext=l,l&&(l.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(l){return new uo(this.id.split(l),this.splitValue(l),this.removedAt)}canRemove(l,y,A){return y?!!(!this.removedAt||!A&&(l!=null&&l.after(this.removedAt))):!1}canStyle(l,y){return this.getCreatedAt().getLamport()<=y&&(!this.removedAt||l.after(this.removedAt))}setRemovedAt(l){this.removedAt=l}remove(l){if(!this.removedAt){this.removedAt=l;return}l.after(this.removedAt)&&(this.removedAt=l)}createPosRange(){return[tr.of(this.id,0),tr.of(this.id,this.getLength())]}getDataSize(){const l=this.value.getDataSize();return this.id&&(l.meta+=Gi),this.removedAt&&(l.meta+=Gi),l}deepcopy(){return new uo(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(l){const y=this.value;return this.value=y.substring(0,l),y.substring(l,y.length)}toIDString(){return this.id.toIDString()}}class Ua{constructor(){Y(this,"head");Y(this,"treeByIndex");Y(this,"treeByID");this.head=uo.create(qh),this.treeByIndex=new Uu,this.treeByID=new Wi(uo.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Ua}edit(i,l,y,A){const N={data:0,meta:0},[M,z,W]=this.findNodeWithSplit(i[1],l),[ee,ue,we]=this.findNodeWithSplit(i[0],l);Nn(N,z,ue);const ke=this.findBetween(we,W),[Re,We]=this.deleteNodes(ke,l,A),He=W?W.getID():M.getID();let it=tr.of(He,0);if(y){const Cn=this.posToIndex(ee.createPosRange()[1],!0),Xt=this.insertAfter(ee,uo.create(mn.of(l,0),y));Nn(N,Xt.getDataSize()),Re.length&&Re[Re.length-1].from===Cn?Re[Re.length-1].value=y:Re.push({actor:l.getActorID(),from:Cn,to:Cn,value:y}),it=tr.of(Xt.getID(),Xt.getContentLength())}const Et=[],en=[];for(const[,Cn]of We)Et.push({parent:this,child:Cn}),en.push(Cn.getValue());return[it,Et,N,Re,en]}indexToPos(i){const[l,y]=this.treeByIndex.findForText(i),A=l;return tr.of(A.getID(),y)}findIndexesFromRange(i){const[l,y]=i;return[this.posToIndex(l,!1),this.posToIndex(y,!0)]}posToIndex(i,l){const y=i.getAbsoluteID(),A=l?this.findFloorNodePreferToLeft(y):this.findFloorNode(y);if(!A)throw new be(ge.ErrInvalidArgument,`the node of the given id should be found: ${y.toTestString()}`);const N=this.treeByIndex.indexOf(A),M=A.isRemoved()?0:y.getOffset()-A.getID().getOffset();return N+M}findNode(i){return this.findFloorNode(i)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const i=[];for(const l of this)l.isRemoved()||i.push(l.getValue());return i.join("")}*[Symbol.iterator](){let i=this.head.getNext();for(;i;)yield i,i=i.getNext()}getHead(){return this.head}deepcopy(){const i=new Ua;let l=this.head.getNext(),y=i.head,A;for(;l;){if(A=i.insertAfter(y,l.deepcopy()),l.hasInsPrev()){const N=i.findNode(l.getInsPrevID());A.setInsPrev(N)}y=A,l=l.getNext()}return i}normalizePos(i){const l=this.findFloorNode(i.getID());if(!l)throw new be(ge.ErrInvalidArgument,`the node of the given id should be found: ${i.getID().toTestString()}`);let y=i.getRelativeOffset(),A=l,N=l.getPrev();for(;N;)y+=N.getLength(),A=N,N=N.getPrev();return tr.of(A.getID(),y)}refinePos(i){let l=this.findFloorNode(i.getID());if(!l)throw new be(ge.ErrInvalidArgument,`the node of the given id should be found: ${i.getID().toTestString()}`);let y=i.getRelativeOffset(),A=l.getContentLength();for(;y>A;){y-=A;const N=l.getNext();if(!N)return tr.of(l.getID(),A);l=N,A=l.getLength()}return tr.of(l.getID(),y)}toTestString(){const i=[];let l=this.head;for(;l;)l.isRemoved()?i.push(`{${l.toTestString()}}`):i.push(`[${l.toTestString()}]`),l=l.getNext();return i.join("")}insertAfter(i,l){const y=i.getNext();return l.setPrev(i),y&&y.setPrev(l),this.treeByID.put(l.getID(),l),this.treeByIndex.insertAfter(i,l),l}findNodeWithSplit(i,l){const y=i.getAbsoluteID();let A=this.findFloorNodePreferToLeft(y);const N=y.getOffset()-A.getID().getOffset(),[,M]=this.splitNode(A,N);for(;A.hasNext()&&A.getNext().getCreatedAt().after(l);)A=A.getNext();return[A,M,A.getNext()]}findFloorNodePreferToLeft(i){let l=this.findFloorNode(i);if(!l)throw new be(ge.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);if(i.getOffset()>0&&l.getID().getOffset()==i.getOffset()){if(!l.hasInsPrev())return l;l=l.getInsPrev()}return l}findFloorNode(i){const l=this.treeByID.floorEntry(i);if(l&&!(!l.key.equals(i)&&!l.key.hasSameCreatedAt(i)))return l.value}findBetween(i,l){const y=[];let A=i;for(;A&&A!==l;)y.push(A),A=A.getNext();return y}splitNode(i,l){const y={data:0,meta:0};if(l>i.getContentLength())throw new be(ge.ErrInvalidArgument,"offset should be less than or equal to length");if(l===0)return[i,y];if(l===i.getContentLength())return[i.getNext(),y];const A=i.getDataSize(),N=i.split(l);this.treeByIndex.updateWeight(N),this.insertAfter(i,N);const M=i.getInsNext();return M&&M.setInsPrev(N),N.setInsPrev(i),Nn(y,i.getDataSize(),N.getDataSize()),Dr(y,A),[N,y]}deleteNodes(i,l,y){if(!i.length)return[[],new Map];const A=y===void 0||y.size()===0,N=[],M=[],[z,W]=this.findEdgesOfCandidates(i);M.push(z);for(const we of i){let ke=!1;if(A)ke=!0;else{const We=y==null?void 0:y.get(we.getCreatedAt().getActorID());We&&We>=we.getCreatedAt().getLamport()&&(ke=!0)}let Re=!1;if(we.getRemovedAt()){const We=y==null?void 0:y.get(we.getRemovedAt().getActorID());(A||We&&We>=we.getRemovedAt().getLamport())&&(Re=!0)}we.canRemove(l,ke,Re)?N.push(we):M.push(we)}M.push(W);const ee=this.makeChanges(M,l),ue=new Map;for(const we of N)ue.set(we.getID().toIDString(),we),we.remove(l);return this.deleteIndexNodes(M),[ee,ue]}findEdgesOfCandidates(i){return[i[0].getPrev(),i[i.length-1].getNext()]}makeChanges(i,l){const y=[];let A,N;for(let M=0;M<i.length-1;M++){const z=i[M],W=i[M+1];z.getNext()!=W&&([A]=this.findIndexesFromRange(z.getNext().createPosRange()),W?[,N]=this.findIndexesFromRange(W.getPrev().createPosRange()):N=this.treeByIndex.length,A<N&&y.push({actor:l.getActorID(),from:A,to:N}))}return y.reverse()}deleteIndexNodes(i){for(let l=0;l<i.length-1;l++){const y=i[l],A=i[l+1];y.getNext()!=A&&this.treeByIndex.deleteRange(y,A)}}purge(i){this.treeByIndex.delete(i),this.treeByID.remove(i.getID());const l=i.getPrev(),y=i.getNext(),A=i.getInsPrev(),N=i.getInsNext();l&&l.setNext(y),y&&y.setPrev(l),i.setPrev(void 0),i.setNext(void 0),A&&A.setInsNext(N),N&&N.setInsPrev(A),i.setInsPrev(void 0),i.setInsNext(void 0)}}class qo{constructor(i,l,y,A){Y(this,"key");Y(this,"value");Y(this,"updatedAt");Y(this,"_isRemoved");this.key=i,this.value=l,this.updatedAt=y,this._isRemoved=A}static of(i,l,y,A){return new qo(i,l,y,A)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Gi}}}class Pr{constructor(){Y(this,"nodeMapByKey");Y(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Pr}getNodeMapByKey(){return this.nodeMapByKey}set(i,l,y){const A=this.nodeMapByKey.get(i);if(A&&A.isRemoved()&&y.after(A.getUpdatedAt())&&(this.numberOfRemovedElement-=1),A===void 0||y.after(A.getUpdatedAt())){const N=qo.of(i,l,y,!1);return this.nodeMapByKey.set(i,N),A!==void 0&&A.isRemoved()?[A,N]:[void 0,N]}return A.isRemoved()?[A,void 0]:[void 0,void 0]}setInternal(i,l,y,A){const N=qo.of(i,l,y,A);this.nodeMapByKey.set(i,N),A&&this.numberOfRemovedElement++}remove(i,l){const y=this.nodeMapByKey.get(i),A=[];if(y===void 0||l.after(y.getUpdatedAt())){if(y===void 0){this.numberOfRemovedElement+=1;const z=qo.of(i,"",l,!0);return this.nodeMapByKey.set(i,z),A.push(z),A}const N=y.isRemoved();N||(this.numberOfRemovedElement+=1),N&&A.push(y);const M=qo.of(i,y.getValue(),l,!0);return this.nodeMapByKey.set(i,M),A.push(M),A}return A}has(i){if(this.nodeMapByKey.has(i)){const l=this.nodeMapByKey.get(i);return l!==void 0&&!l.isRemoved()}return!1}get(i){if(this.nodeMapByKey.has(i))return this.nodeMapByKey.get(i).getValue()}deepcopy(){const i=new Pr;for(const[,l]of this.nodeMapByKey)i.setInternal(l.getKey(),l.getValue(),l.getUpdatedAt(),l.isRemoved());return i}toJSON(){if(!this.size())return"{}";const i=[];for(const[l,y]of this.nodeMapByKey)y.isRemoved()||i.push(`"${$i(l)}":"${$i(y.getValue())}"`);return`{${i.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const i={};for(const[l,y]of this.nodeMapByKey)y.isRemoved()||(i[l]=y.getValue());return i}*[Symbol.iterator](){for(const[,i]of this.nodeMapByKey)yield i}purge(i){const l=this.nodeMapByKey.get(i.getKey());l==null||l.toIDString()!=i.toIDString()||(this.nodeMapByKey.delete(i.getKey()),this.numberOfRemovedElement--)}}function Zr(f){if(f instanceof Map){const i=Array.from(f);return new Map(JSON.parse(JSON.stringify(i)))}return JSON.parse(JSON.stringify(f))}const Tm=f=>f?Object.entries(f).length===0:!0,Va=f=>{const i={};for(const[l,y]of Object.entries(f))i[l]=JSON.stringify(y);return i},co=f=>{const i={};for(const[l,y]of Object.entries(f))i[l]=JSON.parse(y);return i};class Hs{constructor(i){Y(this,"attributes");Y(this,"content");this.attributes=Pr.create(),this.content=i}static create(i){return new Hs(i)}get length(){return this.content.length}substring(i,l){const y=new Hs(this.content.substring(i,l));return y.attributes=this.attributes.deepcopy(),y}setAttr(i,l,y){return this.attributes.set(i,l,y)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const i={data:0,meta:0};i.data+=this.content.length*2;for(const l of this.attributes){const y=l.getDataSize();i.meta+=y.meta,i.data+=y.data}return i}toJSON(){const i=$i(this.content),l=this.attributes.toObject(),y=[];for(const[A,N]of Object.entries(l)){const M=JSON.parse(N),z=typeof M=="string"?`"${$i(A)}":"${$i(M)}"`:`"${$i(A)}":${String(M)}`;y.push(z)}return y.sort(),y.length===0?`{"val":"${i}"}`:`{"attrs":{${y.join(",")}},"val":"${i}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(i){this.attributes&&i instanceof qo&&this.attributes.purge(i)}getGCPairs(){const i=[];for(const l of this.attributes)l.getRemovedAt()&&i.push({parent:this,child:l});return i}}class Mr extends wf{constructor(l,y){super(y);Y(this,"rgaTreeSplit");this.rgaTreeSplit=l}static create(l,y){return new Mr(l,y)}edit(l,y,A,N,M){const z=y?Hs.create(y):void 0;if(z&&N)for(const[We,He]of Object.entries(N))z.setAttr(We,He,A);const[W,ee,ue,we,ke]=this.rgaTreeSplit.edit(l,A,z,M);return[we.map(We=>({...We,value:We.value?{attributes:co(We.value.getAttributes()),content:We.value.getContent()}:{attributes:void 0,content:""},type:"content"})),ee,ue,[W,W],ke]}setStyle(l,y,A,N){const M={data:0,meta:0},[,z,W]=this.rgaTreeSplit.findNodeWithSplit(l[1],A),[,ee,ue]=this.rgaTreeSplit.findNodeWithSplit(l[0],A);Nn(M,z,ee);const we=[],ke=this.rgaTreeSplit.findBetween(ue,W),Re=[];for(const He of ke){const it=He.getCreatedAt().getActorID();let Et=Hh;N!=null&&(Et=N.get(it)?N.get(it):0n),He.canStyle(A,Et)&&Re.push(He)}const We=[];for(const He of Re){if(He.isRemoved())continue;const[it,Et]=this.rgaTreeSplit.findIndexesFromRange(He.createPosRange());we.push({type:"style",actor:A.getActorID(),from:it,to:Et,value:{attributes:co(y)}});for(const[en,Cn]of Object.entries(y)){const[Xt]=He.getValue().setAttr(en,Cn,A);Xt!==void 0&&We.push({parent:He.getValue(),child:Xt});const xr=He.getValue().getAttrs().getNodeMapByKey().get(en);xr!==void 0&&Nn(M,xr.getDataSize())}}return[We,M,we]}indexRangeToPosRange(l,y){const A=this.rgaTreeSplit.indexToPos(l);return l===y?[A,A]:[A,this.rgaTreeSplit.indexToPos(y)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(l){return this.rgaTreeSplit.refinePos(l)}normalizePos(l){return this.rgaTreeSplit.normalizePos(l)}getDataSize(){const l={data:0,meta:0};for(const y of this.rgaTreeSplit){if(y.isRemoved())continue;const A=y.getDataSize();l.data+=A.data,l.meta+=A.meta}return{data:l.data,meta:l.meta+this.getMetaUsage()}}toJSON(){const l=[];for(const y of this.rgaTreeSplit)y.isRemoved()||l.push(y.getValue().toJSON());return`[${l.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const l=[];for(const y of this.rgaTreeSplit)if(!y.isRemoved()){const A=y.getValue();l.push({attributes:co(A.getAttributes()),content:A.getContent()})}return l}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const l=new Mr(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return l.setRemovedAt(this.getRemovedAt()),l.setMovedAt(this.getMovedAt()),l}findIndexesFromRange(l){return this.rgaTreeSplit.findIndexesFromRange(l)}posToIndex(l,y=!1){return this.rgaTreeSplit.posToIndex(l,y)}getGCPairs(){const l=[];for(const y of this.rgaTreeSplit){y.getRemovedAt()&&l.push({parent:this.rgaTreeSplit,child:y});for(const A of y.getValue().getGCPairs())l.push(A)}return l}}class fo extends Or{constructor(l,y,A,N,M,z,W){super(l,z);Y(this,"fromPos");Y(this,"toPos");Y(this,"content");Y(this,"attributes");Y(this,"isUndoOp");this.fromPos=y,this.toPos=A,this.content=N,this.attributes=M,this.isUndoOp=W}static create(l,y,A,N,M,z,W){return new fo(l,y,A,N,M,z,W)}execute(l,y,A){const N=l.findByCreatedAt(this.getParentCreatedAt());if(!N)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(N instanceof Mr))throw new be(ge.ErrInvalidArgument,"fail to execute, only Text can execute edit");const M=N;this.isUndoOp&&(this.fromPos=M.refinePos(this.fromPos),this.toPos=M.refinePos(this.toPos));const[z,W,ee,,ue]=M.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),A),we=this.toReverseOperation(ue,M.normalizePos(this.fromPos));l.acc(ee);for(const ke of W)l.registerGCPair(ke);return{opInfos:z.map(({from:ke,to:Re,value:We})=>({type:"edit",from:ke,to:Re,value:We,path:l.createPath(this.getParentCreatedAt())})),reverseOp:we}}toReverseOperation(l,y){var M;const A=l!=null&&l.length?l.map(z=>z.getContent()).join(""):"";let N;if(l.length===1){const z=l[0].getAttributes();z&&(N=Array.from(Object.entries(z)))}return fo.create(this.getParentCreatedAt(),y,tr.of(y.getID(),y.getRelativeOffset()+(((M=this.content)==null?void 0:M.length)??0)),A,N?new Map(N):new Map,void 0,!0)}normalizePos(l){const y=l.findByCreatedAt(this.getParentCreatedAt());if(!y)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(y instanceof Mr))throw new be(ge.ErrInvalidArgument,"only Text can normalize edit");const A=y,N=A.normalizePos(this.fromPos).getRelativeOffset(),M=A.normalizePos(this.toPos).getRelativeOffset();return[N,M]}reconcileOperation(l,y,A){if(!this.isUndoOp||l>y)return;const N=y-l,M=this.fromPos.getRelativeOffset(),z=this.toPos.getRelativeOffset(),W=(ee,ue)=>{this.fromPos=tr.of(this.fromPos.getID(),Math.max(0,ee)),this.toPos=tr.of(this.toPos.getID(),Math.max(0,ue))};if(y<=M){W(M-N+A,z-N+A);return}if(!(z<=l)){if(l<=M&&z<=y&&l!==y){W(l,l);return}if(M<=l&&y<=z&&M!==z){W(M,z-N+A);return}if(l<M&&M<y&&y<z){W(l,l+(z-y));return}if(M<l&&l<z&&z<y){W(M,l);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const l=this.getParentCreatedAt().toTestString(),y=this.fromPos.toTestString(),A=this.toPos.toTestString(),N=this.content;return`${l}.EDIT(${y},${A},${N})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class $u extends Or{constructor(l,y,A,N,M){super(l,M);Y(this,"fromPos");Y(this,"toPos");Y(this,"attributes");this.fromPos=y,this.toPos=A,this.attributes=N}static create(l,y,A,N,M){return new $u(l,y,A,N,M)}execute(l,y,A){const N=l.findByCreatedAt(this.getParentCreatedAt());if(!N)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(N instanceof Mr))throw new be(ge.ErrInvalidArgument,"fail to execute, only Text can execute edit");const M=N,[z,W,ee]=M.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),A);l.acc(W);for(const ue of z)l.registerGCPair(ue);return{opInfos:ee.map(({from:ue,to:we,value:ke})=>({type:"style",from:ue,to:we,value:ke,path:l.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const l=this.getParentCreatedAt().toTestString(),y=this.fromPos.toTestString(),A=this.toPos.toTestString(),N=this.attributes;return`${l}.STYL(${y},${A},${JSON.stringify(N)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const $v=2,YS="root",Yi="text";function zn(f,i,l=!1){let y=0;const A=l?f.allChildren:f.children;for(let N=0;N<i;N++){const M=A[N];!M||!l&&M.isRemoved||(y+=M.paddedSize(l))}return y}class mr{constructor(i,l=[]){Y(this,"type");Y(this,"parent");Y(this,"_children");Y(this,"visibleSize");Y(this,"totalSize");if(this.type=i,this.visibleSize=0,this.totalSize=0,this._children=l,this.isText&&this._children.length>0)throw new be(ge.ErrRefused,"Text node cannot have children")}updateAncestorsSize(i,l=!1){let y=this.parent;for(;y;){if(l)y.totalSize+=i;else if(y.visibleSize+=i,y.isRemoved)break;y=y.parent}}updateDescendantsSize(i=!1){let l=0;for(const y of this._children){const A=y.updateDescendantsSize(i);!i&&y.isRemoved||(l+=A)}return i?this.totalSize+=l:this.visibleSize+=l,this.paddedSize(i)}get isText(){return this.type===Yi}paddedSize(i=!1){let l=this.visibleSize;return i&&(l=this.totalSize),this.isText||(l+=$v),l}isAncestorOf(i){return Hv(this,i)}get nextSibling(){const i=this.parent.findOffset(this),l=this.parent.children[i+1];if(l)return l}get prevSibling(){const i=this.parent.findOffset(this),l=this.parent.children[i-1];if(l)return l}splitText(i,l){const y={data:0,meta:0};if(i===0||i===this.visibleSize)return[void 0,y];const A=this.value.slice(0,i),N=this.value.slice(i);if(!N.length)return[void 0,y];const M=this.getDataSize();this.value=A;const z=this.cloneText(i+l);return z.value=N,this.parent.insertAfterInternal(z,this),Nn(y,this.getDataSize(),z.getDataSize()),Dr(y,M),[z,y]}get children(){return this._children.filter(i=>!i.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(i=>i.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(i=>i.value).join(""):""}append(...i){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");this._children.push(...i);for(const l of i)l.parent=this,l.updateAncestorsSize(l.paddedSize()),l.updateAncestorsSize(l.paddedSize(!0),!0)}prepend(...i){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");this._children.unshift(...i);for(const l of i)l.parent=this}insertBefore(i,l){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");const y=this._children.indexOf(l);if(y===-1)throw new be(ge.ErrInvalidArgument,"child not found");this.insertAtInternal(i,y),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}insertAfter(i,l){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");const y=this._children.indexOf(l);if(y===-1)throw new be(ge.ErrInvalidArgument,"child not found");this.insertAtInternal(i,y+1),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}insertAt(i,l){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");this.insertAtInternal(i,l),i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}removeChild(i){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");const l=this._children.indexOf(i);if(l===-1)throw new be(ge.ErrInvalidArgument,"child not found");this._children.splice(l,1),i.updateAncestorsSize(-i.paddedSize(!0),!0),i.parent=void 0}splitElement(i,l){const y={data:0,meta:0},A=this.getDataSize(),N=this.cloneElement(l);this.parent.insertAfterInternal(N,this),N.updateAncestorsSize(N.paddedSize()),N.updateAncestorsSize(N.paddedSize(!0),!0);const M=this.children.slice(0,i),z=this.children.slice(i);this._children=M,N._children=z,this.visibleSize=this._children.reduce((W,ee)=>W+ee.paddedSize(),0),this.totalSize=this._children.reduce((W,ee)=>W+ee.paddedSize(!0),0),N.visibleSize=N._children.reduce((W,ee)=>W+ee.paddedSize(!0),0),N.totalSize=N._children.reduce((W,ee)=>W+ee.paddedSize(!0),0);for(const W of N._children)W.parent=N;return Nn(y,this.getDataSize(),N.getDataSize()),Dr(y,A),[N,y]}insertAfterInternal(i,l){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");const y=this._children.indexOf(l);if(y===-1)throw new be(ge.ErrInvalidArgument,"child not found");this.insertAtInternal(i,y+1)}insertAtInternal(i,l){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");this._children.splice(l,0,i),i.parent=this}findOffset(i,l=!1){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");if(l)return this._children.indexOf(i);if(i.isRemoved){const y=this._children.indexOf(i);return this.allChildren.splice(0,y).filter(N=>!N.isRemoved).length}return this.children.indexOf(i)}findBranchOffset(i){if(this.isText)throw new be(ge.ErrRefused,"Text node cannot have children");let l=i;for(;l;){const y=this._children.indexOf(l);if(y!==-1)return y;l=l.parent}return-1}}function Hv(f,i){if(f===i)return!1;for(;i.parent;){if(i.parent===f)return!0;i=i.parent}return!1}var Un=(f=>(f.Start="Start",f.End="End",f.Text="Text",f))(Un||{});function Nm(f,i,l,y,A=!1){if(i>l)throw new be(ge.ErrInvalidArgument,`from is greater than to: ${i} > ${l}`);const N=A?f.totalSize:f.visibleSize;if(i>N)throw new be(ge.ErrInvalidArgument,`from is out of range: ${i} > ${N}`);if(l>N)throw new be(ge.ErrInvalidArgument,`to is out of range: ${l} > ${N}`);if(i===l)return;let M=0;const z=A?f._children:f.children;for(const W of z){if(i-W.paddedSize(A)<M&&M<l){const ee=W.isText?i-M:i-M-1,ue=W.isText?l-M:l-M-1,we=A?W.totalSize:W.visibleSize,ke=!W.isText&&ee<0,Re=!W.isText&&ue>we;(W.isText||ke)&&y([W,W.isText?"Text":"Start"],Re),Nm(W,Math.max(0,ee),Math.min(ue,we),y,A),Re&&y([W,"End"],Re)}M+=W.paddedSize(A)}}function _m(f,i,l=0){for(const y of f.children)_m(y,i,l+1);i(f,l)}function Tf(f,i,l=0){for(const y of f._children)Tf(y,i,l+1);i(f,l)}function Hu(f,i,l=!0){if(i>f.visibleSize)throw new be(ge.ErrInvalidArgument,`index is out of range: ${i} > ${f.visibleSize}`);if(f.isText)return{node:f,offset:i};let y=0,A=0;for(const N of f.children){if(l&&N.isText&&N.visibleSize>=i-A)return Hu(N,i-A,l);if(i===A)return{node:f,offset:y};if(!l&&N.paddedSize()===i-A)return{node:f,offset:y+1};if(N.paddedSize()>i-A)return Hu(N,i-A-1,l);A+=N.paddedSize(),y+=1}return{node:f,offset:y}}function Kh(f){return f.isText||f.children.length===0?f:Kh(f.children[0])}function Wv(f,i){if(f.visibleSize<i)throw new be(ge.ErrInvalidArgument,"unacceptable path");for(let l=0;l<f.children.length;l++){const y=f.children[l];if(y.visibleSize<i)i-=y.visibleSize;else{f=y;break}}return{node:f,offset:i}}class Yv{constructor(i){Y(this,"root");this.root=i}tokensBetween(i,l,y,A=!1){Nm(this.root,i,l,y,A)}traverse(i){_m(this.root,i,0)}traverseAll(i){Tf(this.root,i,0)}findTreePos(i,l=!0){return Hu(this.root,i,l)}treePosToPath(i){const l=[];let y=i.node;if(y.isText){const A=y.parent.findOffset(y);if(A===-1)throw new be(ge.ErrInvalidArgument,"invalid treePos");const N=zn(y.parent,A);l.push(N+i.offset),y=y.parent}else if(y.hasTextChild()){const A=zn(y,i.offset);l.push(A)}else l.push(i.offset);for(;y.parent;){const A=y.parent.findOffset(y);if(A===-1)throw new be(ge.ErrInvalidArgument,"invalid treePos");l.push(A),y=y.parent}return l.reverse()}pathToIndex(i){const l=this.pathToTreePos(i);return this.indexOf(l)}pathToTreePos(i){if(!i.length)throw new be(ge.ErrInvalidArgument,"unacceptable path");let l=this.root;for(let y=0;y<i.length-1;y++){const A=i[y];if(l=l.children[A],!l)throw new be(ge.ErrInvalidArgument,"unacceptable path")}if(l.hasTextChild())return Wv(l,i[i.length-1]);if(l.children.length<i[i.length-1])throw new be(ge.ErrInvalidArgument,"unacceptable path");return{node:l,offset:i[i.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(i){const{node:l,offset:y}=i;if(l.isText){if(l.visibleSize===y){const A=l.nextSibling;return A||l.parent}return l}return l.children.length===y?l:Kh(l.children[y])}indexOf(i,l=!1){let{node:y}=i;const{offset:A}=i;let N=0,M=1;if(y.isText){N+=A;const z=y.parent,W=z.findOffset(y,l);if(W===-1)throw new be(ge.ErrInvalidArgument,"invalid pos");N+=zn(z,W,l),y=y.parent}else N+=zn(y,A,l);for(;y!=null&&y.parent;){const z=y.parent,W=z.findOffset(y,l);if(W===-1)throw new be(ge.ErrInvalidArgument,"invalid pos");N+=zn(z,W,l),M++,y=y.parent}return N+M-1}indexToPath(i){const l=this.findTreePos(i);return this.treePosToPath(l)}}class _i{constructor(i,l){Y(this,"parentID");Y(this,"leftSiblingID");this.parentID=i,this.leftSiblingID=l}static of(i,l){return new _i(i,l)}static fromTreePos(i){const{offset:l}=i;let{node:y}=i,A;return y.isText?(y.parent.children[0]===y&&l===0?A=y.parent:A=y,y=y.parent):l===0?A=y:A=y.children[l-1],_i.of(y.id,nr.of(A.getCreatedAt(),A.getOffset()+l))}getParentID(){return this.parentID}static fromStruct(i){return _i.of(nr.of(qr.fromStruct(i.parentID.createdAt),i.parentID.offset),nr.of(qr.fromStruct(i.leftSiblingID.createdAt),i.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(i){const l=this.getParentID(),y=this.getLeftSiblingID(),A=i.findFloorNode(l);let N=i.findFloorNode(y);if(!A||!N)throw new be(ge.ErrRefused,`cannot find node of CRDTTreePos(${l.toTestString()}, ${y.toTestString()})`);return!y.equals(l)&&y.getOffset()>0&&y.getOffset()===N.id.getOffset()&&N.insPrevID&&(N=i.findFloorNode(N.insPrevID)),[A,N]}getLeftSiblingID(){return this.leftSiblingID}equals(i){return this.getParentID().getCreatedAt().equals(i.getParentID().getCreatedAt())&&this.getParentID().getOffset()===i.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(i.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===i.getLeftSiblingID().getOffset()}}class nr{constructor(i,l){Y(this,"createdAt");Y(this,"offset");this.createdAt=i,this.offset=l}static of(i,l){return new nr(i,l)}static fromStruct(i){return nr.of(qr.fromStruct(i.createdAt),i.offset)}static createComparator(){return(i,l)=>{const y=i.getCreatedAt().compare(l.getCreatedAt());return y!==0?y:i.getOffset()>l.getOffset()?1:i.getOffset()<l.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(i){return this.createdAt.compare(i.createdAt)===0&&this.offset===i.offset}getOffset(){return this.offset}setOffset(i){this.offset=i}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Lr extends mr{constructor(l,y,A,N,M){super(y);Y(this,"id");Y(this,"removedAt");Y(this,"attrs");Y(this,"insPrevID");Y(this,"insNextID");Y(this,"_value","");this.id=l,this.removedAt=M,N&&(this.attrs=N),typeof A=="string"?this.value=A:Array.isArray(A)&&(this._children=A)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(l,y,A,N){return new Lr(l,y,A,N)}deepcopy(){var y;const l=new Lr(this.id,this.type);return l.removedAt=this.removedAt,l._value=this._value,l.visibleSize=this.visibleSize,l.totalSize=this.totalSize,l.attrs=(y=this.attrs)==null?void 0:y.deepcopy(),l._children=this._children.map(A=>{const N=A.deepcopy();return N.parent=l,N}),l.insPrevID=this.insPrevID,l.insNextID=this.insNextID,l}get value(){if(!this.isText)throw new be(ge.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(l){if(!this.isText)throw new be(ge.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=l,this.visibleSize=l.length,this.totalSize=l.length}get isRemoved(){return!!this.removedAt}remove(l){return this.removedAt?(l.after(this.removedAt)&&(this.removedAt=l),!1):(this.removedAt=l,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(l){return new Lr(nr.of(this.id.getCreatedAt(),l),this.type,void 0,void 0,this.removedAt)}cloneElement(l){return new Lr(nr.of(l(),0),this.type,void 0,void 0,this.removedAt)}split(l,y,A){const[N,M]=this.isText?this.splitText(y,this.id.getOffset()):this.splitElement(y,A);if(N){if(N.insPrevID=this.id,this.insNextID){const z=l.findFloorNode(this.insNextID);z.insPrevID=N.id,N.insNextID=this.insNextID}this.insNextID=N.id,l.registerNode(N)}return[N,M]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(l,y,A){return y?!!(!this.removedAt||!A&&(l!=null&&l.after(this.removedAt))):!1}canStyle(l,y){return this.isText?!1:this.getCreatedAt().getLamport()<=y&&(!this.removedAt||l.after(this.removedAt))}setAttrs(l,y){this.attrs||(this.attrs=new Pr);const A=[];for(const[N,M]of Object.entries(l))A.push(this.attrs.set(N,M,y));return A}purge(l){this.attrs&&this.attrs.purge(l)}getDataSize(){const l={data:0,meta:0};if(this.isText&&(l.data+=this.visibleSize*2),this.id&&(l.meta+=Gi),this.removedAt&&(l.meta+=Gi),this.attrs)for(const y of this.attrs){if(y.getRemovedAt())continue;const A=y.getDataSize();l.meta+=A.meta,l.data+=A.data}return l}getGCPairs(){const l=[];if(!this.attrs)return l;for(const y of this.attrs)y.getRemovedAt()&&l.push({parent:this,child:y});return l}}function Nf(f){var l;if(f.isText){const y=f;return{type:y.type,value:y.value}}const i={type:f.type,children:f.children.map(Nf)};return f.attrs&&(i.attributes=co((l=f.attrs)==null?void 0:l.toObject())),i}function Xh(f){if(f.isText)return f.value;let i="";return f.attrs&&f.attrs.size()&&(i=" "+Array.from(f.attrs).filter(l=>!l.isRemoved()).sort((l,y)=>l.getKey().localeCompare(y.getKey())).map(l=>{const y=JSON.parse(l.getValue());return typeof y=="string"?`${l.getKey()}="${y}"`:`${l.getKey()}="${$i(l.getValue())}"`}).join(" ")),`<${f.type}${i}>${f.children.map(l=>Xh(l)).join("")}</${f.type}>`}function Zh(f){if(f.isText){const i=f;return{type:i.type,value:i.value,visibleSize:i.visibleSize,isRemoved:i.isRemoved}}return{type:f.type,children:f.children.map(Zh),visibleSize:f.visibleSize,isRemoved:f.isRemoved}}class Rr extends wf{constructor(l,y){super(y);Y(this,"indexTree");Y(this,"nodeMapByID");this.indexTree=new Yv(l),this.nodeMapByID=new Wi(nr.createComparator()),this.indexTree.traverseAll(A=>{this.nodeMapByID.put(A.id,A)})}static create(l,y){return new Rr(l,y)}findFloorNode(l){const y=this.nodeMapByID.floorEntry(l);if(!(!y||!y.key.getCreatedAt().equals(l.getCreatedAt())))return y.value}registerNode(l){this.nodeMapByID.put(l.id,l)}findNodesAndSplitText(l,y){let A={data:0,meta:0};const[N,M]=l.toTreeNodePair(this);let z=M;const W=N===z,ee=z.parent&&!W?z.parent:N;if(z.isText){const[,ue]=z.split(this,l.getLeftSiblingID().getOffset()-z.id.getOffset());A=ue}if(y){const ue=ee.allChildren,we=W?0:ue.indexOf(z)+1;for(let ke=we;ke<ue.length;ke++){const Re=ue[ke];if(!Re.id.getCreatedAt().after(y))break;z=Re}}return[[ee,z],A]}style(l,y,A,N){const M={data:0,meta:0},[[z,W],ee]=this.findNodesAndSplitText(l[0],A),[[ue,we],ke]=this.findNodesAndSplitText(l[1],A);Nn(M,ke,ee);const Re=[],We=y?co(y):{},He=[];return this.traverseInPosRange(z,W,ue,we,([it,Et])=>{var Xt;const en=it.getCreatedAt().getActorID();let Cn=Hh;if(N!=null&&(Cn=N.get(en)?N.get(en):0n),it.canStyle(A,Cn)&&y){const xr=it.setAttrs(y,A),tn=xr.reduce((_n,[,mi])=>(mi&&(_n[mi.getKey()]=We[mi.getKey()]),_n),{}),Jn=it.parent,Pn=it.prevSibling||it.parent;Object.keys(tn).length>0&&Re.push({type:"style",from:this.toIndex(Jn,Pn),to:this.toIndex(it,it),fromPath:this.toPath(Jn,Pn),toPath:this.toPath(it,it),actor:A.getActorID(),value:tn});for(const[_n]of xr)_n&&He.push({parent:it,child:_n});for(const[_n]of Object.entries(We)){const mi=(Xt=it.attrs)==null?void 0:Xt.getNodeMapByKey().get(_n);mi!==void 0&&Et!==Un.End&&Nn(M,mi.getDataSize())}}}),[He,Re,M]}removeStyle(l,y,A,N){const M={data:0,meta:0},[[z,W],ee]=this.findNodesAndSplitText(l[0],A),[[ue,we],ke]=this.findNodesAndSplitText(l[1],A);Nn(M,ke,ee);const Re=[],We=[];return this.traverseInPosRange(z,W,ue,we,([He])=>{const it=He.getCreatedAt().getActorID();let Et=Hh;if(N!=null&&(Et=N.get(it)?N.get(it):0n),He.canStyle(A,Et)&&y){He.attrs||(He.attrs=new Pr);for(const Xt of y){const xr=He.attrs.remove(Xt,A);for(const tn of xr)We.push({parent:He,child:tn})}const en=He.parent,Cn=He.prevSibling||He.parent;Re.push({actor:A.getActorID(),type:"removeStyle",from:this.toIndex(en,Cn),to:this.toIndex(He,He),fromPath:this.toPath(en,Cn),toPath:this.toPath(He,He),value:y})}}),[We,Re,M]}edit(l,y,A,N,M,z){const W={data:0,meta:0},[[ee,ue],we]=this.findNodesAndSplitText(l[0],N),[[ke,Re],We]=this.findNodesAndSplitText(l[1],N);Nn(W,We,we);const He=this.toIndex(ee,ue),it=this.toPath(ee,ue),Et=[],en=[],Cn=[];this.traverseInPosRange(ee,ue,ke,Re,([tn,Jn],Pn)=>{if(Jn===Un.Start&&!Pn)for(const Cp of tn.children)Cn.push(Cp);const _n=z===void 0;let mi=!1;const Rx=z==null?void 0:z.get(tn.id.getCreatedAt().getActorID());mi=_n||Rx!==void 0&&Rx>=tn.id.getCreatedAt().getLamport();let ac=!1;if(tn.removedAt){const Cp=z==null?void 0:z.get(tn.removedAt.getActorID());ac=_n||Cp!==void 0&&Cp>=tn.removedAt.getLamport()}(tn.canDelete(N,mi,ac)||Et.includes(tn.parent))&&((Jn===Un.Text||Jn===Un.Start)&&Et.push(tn),en.push([tn,Jn]))},!0);const Xt=this.makeDeletionChanges(en,N),xr=[];for(const tn of Et)tn.remove(N),tn.isRemoved&&xr.push({parent:this,child:tn});for(const tn of Cn)tn.removedAt||ee.append(tn);if(A>0){let tn=0,Jn=ee,Pn=ue;for(;tn<A;)Jn.split(this,Jn.findOffset(Pn)+1,M),Pn=Jn,Jn=Jn.parent,tn++;Xt.push({type:"content",from:He,to:He,fromPath:it,toPath:it,actor:N.getActorID()})}if(y!=null&&y.length){const tn=[];let Jn=ue;for(const Pn of y)Jn===ee?ee.insertAt(Pn,0):ee.insertAfter(Pn,Jn),Jn=Pn,Tf(Pn,_n=>{ee.isRemoved?(_n.remove(N),xr.push({parent:this,child:_n})):Nn(W,_n.getDataSize()),this.nodeMapByID.put(_n.id,_n)}),Pn.isRemoved||tn.push(Pn);if(tn.length){const Pn=tn.map(_n=>Nf(_n));Xt.length&&Xt[Xt.length-1].from===He?Xt[Xt.length-1].value=Pn:Xt.push({type:"content",from:He,to:He,fromPath:it,toPath:it,actor:N.getActorID(),value:Pn})}}return[Xt,xr,W]}editT(l,y,A,N,M){const z=this.findPos(l[0]),W=this.findPos(l[1]);return this.edit([z,W],y,A,N,M)}move(l,y,A){throw new be(ge.ErrUnimplemented,`not implemented: ${l}, ${y}, ${A}`)}pathToTreePos(l){return this.indexTree.pathToTreePos(l)}purge(l){var N;(N=l.parent)==null||N.removeChild(l),this.nodeMapByID.remove(l.id);const y=l.insPrevID,A=l.insNextID;if(y){const M=this.findFloorNode(y);M.insNextID=A}if(A){const M=this.findFloorNode(A);M.insPrevID=y}l.insPrevID=void 0,l.insNextID=void 0}getGCPairs(){const l=[];return this.indexTree.traverse(y=>{y.getRemovedAt()&&l.push({parent:this,child:y});for(const A of y.getGCPairs())l.push(A)}),l}findPos(l,y=!0){const A=this.indexTree.findTreePos(l,y);return _i.fromTreePos(A)}pathToPosRange(l){const y=this.pathToIndex(l);return[this.findPos(y),this.findPos(y+1)]}pathToPos(l){const y=this.indexTree.pathToIndex(l);return this.findPos(y)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Xh(this.indexTree.getRoot())}getDataSize(){const l={data:0,meta:0};return this.indexTree.traverse(y=>{if(y.getRemovedAt())return;const A=y.getDataSize();l.data+=A.data,l.meta+=A.meta}),{data:l.data,meta:l.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const l=this.indexTree.getRoot(),y=(A,N=void 0,M=void 0,z=0)=>{var Re,We,He,it;let W,ee,ue;const we=A.isText?{node:A,offset:0}:N&&M?this.toTreePos(N,M):null;we&&(W=this.indexTree.indexOf(we),ee=this.indexTree.treePosToPath(we),ue=_i.fromTreePos(we).toStruct());const ke={type:A.type,parent:N==null?void 0:N.id.toTestString(),size:A.visibleSize,id:A.id.toTestString(),removedAt:(Re=A.removedAt)==null?void 0:Re.toTestString(),insPrev:(We=A.insPrevID)==null?void 0:We.toTestString(),insNext:(He=A.insNextID)==null?void 0:He.toTestString(),value:A.isText?A.value:void 0,isRemoved:A.isRemoved,children:[],depth:z,attributes:A.attrs?co((it=A.attrs)==null?void 0:it.toObject()):void 0,index:W,path:ee,pos:ue};for(let Et=0;Et<A.allChildren.length;Et++){const en=Et===0?A:A.allChildren[Et-1];ke.children.push(y(A.allChildren[Et],A,en,z+1))}return ke};return y(l)}getRootTreeNode(){return Nf(this.indexTree.getRoot())}toTestTreeNode(){return Zh(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const l=this.getRoot(),y=new Rr(l.deepcopy(),this.getCreatedAt());return y.setRemovedAt(this.getRemovedAt()),y.setMovedAt(this.getMovedAt()),y}toPath(l,y){const A=this.toTreePos(l,y);return A?this.indexTree.treePosToPath(A):[]}toIndex(l,y,A=!1){const N=this.toTreePos(l,y,A);return N?this.indexTree.indexOf(N,A):-1}indexToPath(l){return this.indexTree.indexToPath(l)}pathToIndex(l){return this.indexTree.pathToIndex(l)}indexRangeToPosRange(l){const y=this.findPos(l[0]);return l[0]===l[1]?[y,y]:[y,this.findPos(l[1])]}indexRangeToPosStructRange(l){const[y,A]=l,N=this.findPos(y);return y===A?[N.toStruct(),N.toStruct()]:[N.toStruct(),this.findPos(A).toStruct()]}posRangeToPathRange(l){const[[y,A]]=this.findNodesAndSplitText(l[0]),[[N,M]]=this.findNodesAndSplitText(l[1]);return[this.toPath(y,A),this.toPath(N,M)]}posRangeToIndexRange(l){const[[y,A]]=this.findNodesAndSplitText(l[0]),[[N,M]]=this.findNodesAndSplitText(l[1]);return[this.toIndex(y,A),this.toIndex(N,M)]}traverseInPosRange(l,y,A,N,M,z=!1){const W=this.toIndex(l,y,z),ee=this.toIndex(A,N,z);this.indexTree.tokensBetween(W,ee,M,z)}toTreePos(l,y,A=!1){if(!l||!y)return;if(!A&&l.isRemoved){let M;for(;l.isRemoved;)M=l,l=M.parent;const z=l.findOffset(M,A);return{node:l,offset:z}}if(l===y)return{node:l,offset:0};let N=l.findOffset(y,A);if(A||!y.isRemoved){if(y.isText)return{node:y,offset:y.paddedSize(A)};N++}return{node:l,offset:N}}makeDeletionChanges(l,y){const A=[],N=[];let M=null,z=null;for(let W=0;W<l.length;W++){const ee=l[W],ue=l[W+1];M||(M=ee),z=ee;const we=this.findRightToken(ee);(!we||!ue||we[0]!==ue[0]||we[1]!==ue[1])&&(N.push([M,z]),M=null,z=null)}for(const W of N){const[ee,ue]=W,[we,ke]=this.findLeftToken(ee),[Re,We]=ue,He=ke===Un.Start?we:we.parent,it=We===Un.Start?Re:Re.parent,Et=this.toIndex(He,we),en=this.toIndex(it,Re);Et<en&&(A.length>0&&Et===A[A.length-1].to?(A[A.length-1].to=en,A[A.length-1].toPath=this.toPath(it,Re)):A.push({type:"content",from:Et,to:en,fromPath:this.toPath(He,we),toPath:this.toPath(it,Re),actor:y.getActorID()}))}return A.reverse()}findRightToken([l,y]){if(y===Un.Start){const W=l.allChildren;return W.length>0?[W[0],W[0].isText?Un.Text:Un.Start]:[l,Un.End]}const A=l.parent,N=A.allChildren,M=N.indexOf(l);if(A&&M===N.length-1)return[A,Un.End];const z=N[M+1];return[z,z.isText?Un.Text:Un.Start]}findLeftToken([l,y]){if(y===Un.End){const W=l.allChildren;if(W.length>0){const ee=W[W.length-1];return[ee,ee.isText?Un.Text:Un.End]}return[l,Un.Start]}const A=l.parent,N=A.allChildren,M=N.indexOf(l);if(A&&M===0)return[A,Un.Start];const z=N[M-1];return[z,z.isText?Un.Text:Un.End]}}class Ga extends Or{constructor(l,y,A,N,M,z){super(l,z);Y(this,"fromPos");Y(this,"toPos");Y(this,"contents");Y(this,"splitLevel");this.fromPos=y,this.toPos=A,this.contents=N,this.splitLevel=M}static create(l,y,A,N,M,z){return new Ga(l,y,A,N,M,z)}execute(l,y,A){var we;const N=l.findByCreatedAt(this.getParentCreatedAt());if(!N)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(N instanceof Rr))throw new be(ge.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const M=this.getExecutedAt(),z=N,[W,ee,ue]=z.edit([this.fromPos,this.toPos],(we=this.contents)==null?void 0:we.map(ke=>ke.deepcopy()),this.splitLevel,M,(()=>{let ke=M.getDelimiter();return this.contents!==void 0&&(ke+=this.contents.length),()=>qr.of(M.getLamport(),++ke,M.getActorID())})(),A);l.acc(ue);for(const ke of ee)l.registerGCPair(ke);return{opInfos:W.map(({from:ke,to:Re,value:We,splitLevel:He,fromPath:it,toPath:Et})=>({type:"tree-edit",path:l.createPath(this.getParentCreatedAt()),from:ke,to:Re,value:We,splitLevel:He,fromPath:it,toPath:Et}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const l=this.getParentCreatedAt().toTestString(),y=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,A=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,N=this.contents||[];return`${l}.EDIT(${y},${A},${N.map(M=>Xh(M)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class $a{constructor(i){Y(this,"vector");this.vector=i||new Map}set(i,l){this.vector.set(i,l)}unset(i){this.vector.delete(i)}get(i){return this.vector.get(i)}has(i){return this.vector.has(i)}maxLamport(){let i=BigInt(0);for(const[,l]of this)l>i&&(i=l);return i}max(i){const l=new Map;for(const[y,A]of i){const N=this.vector.get(y),M=N&&N>A?N:A;l.set(y,M)}for(const[y,A]of this){const N=i.get(y),M=N&&N>A?N:A;l.set(y,M)}return new $a(l)}afterOrEqual(i){const l=this.vector.get(i.getActorID());return l===void 0?!1:l>=i.getLamport()}deepcopy(){const i=new Map;for(const[l,y]of this.vector)i.set(l,y);return new $a(i)}filter(i){const l=new Map;for(const[y]of i){const A=this.vector.get(y);A!==void 0&&l.set(y,A)}return new $a(l)}size(){return this.vector.size}*[Symbol.iterator](){for(const[i,l]of this.vector)yield[i,l]}}const Jh=new $a(new Map);class Ii{constructor(i,l,y,A,N){Y(this,"clientSeq");Y(this,"serverSeq");Y(this,"actor");Y(this,"lamport");Y(this,"versionVector");this.clientSeq=i,this.serverSeq=N,this.lamport=l,this.versionVector=A,this.actor=y}hasClocks(){return this.versionVector.size()>0&&this.lamport!=$h}static of(i,l,y,A,N){return new Ii(i,l,y,A,N)}next(i=!1){if(i)return new Ii(this.clientSeq+1,this.lamport,this.actor,Jh,$h);const l=this.versionVector.deepcopy();return l.set(this.actor,this.lamport+1n),new Ii(this.clientSeq+1,this.lamport+1n,this.actor,l)}syncClocks(i){if(!i.hasClocks())return this;const l=i.lamport>this.lamport?i.lamport+1n:this.lamport+1n,y=this.versionVector.max(i.versionVector),A=new Ii(this.clientSeq,l,this.actor,y);return A.versionVector.set(this.actor,l),A}setClocks(i,l){const y=i>this.lamport?i+1n:this.lamport+1n,A=this.versionVector.max(l);return A.set(this.actor,y),Ii.of(this.clientSeq,y,this.actor,A)}createTimeTicket(i){return qr.of(this.lamport,i,this.actor)}setActor(i){return new Ii(this.clientSeq,this.lamport,i,this.versionVector,this.serverSeq)}setLamport(i){return new Ii(this.clientSeq,i,this.actor,this.versionVector,this.serverSeq)}setVersionVector(i){return new Ii(this.clientSeq,this.lamport,this.actor,i,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const Ko=new Ii(0,0n,Gh,Jh);class Ws{constructor({id:i,operations:l,presenceChange:y,message:A}){Y(this,"id");Y(this,"operations");Y(this,"presenceChange");Y(this,"message");this.id=i,this.operations=l||[],this.presenceChange=y,this.message=A}static create({id:i,operations:l,presenceChange:y,message:A}){return new Ws({id:i,operations:l,presenceChange:y,message:A})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(i){for(const l of this.operations)l.setActor(i);this.id=this.id.setActor(i)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(i,l,y){const A=[],N=[],M=[];for(const z of this.operations){const W=z.execute(i,y,this.id.getVersionVector());if(!W)continue;const{opInfos:ee,reverseOp:ue}=W;A.push(...ee),N.push(z),ue&&M.unshift(ue)}return this.presenceChange&&(this.presenceChange.type===Vi.Put?l.set(this.id.getActorID(),Zr(this.presenceChange.presence)):l.delete(this.id.getActorID())),{operations:N,opInfos:A,reverseOps:M}}toTestString(){return`${this.operations.map(i=>i.toTestString()).join(",")}`}toStruct(){return{changeID:fn.bytesToHex(fn.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(i=>fn.bytesToHex(fn.operationToBinary(i))),presenceChange:this.getPresenceChange()}}static fromStruct(i){const{changeID:l,operations:y,presenceChange:A,message:N}=i;return Ws.create({id:fn.bytesToChangeID(fn.hexToBytes(l)),operations:y==null?void 0:y.map(M=>fn.bytesToOperation(fn.hexToBytes(M))),presenceChange:A,message:N})}}class Qh{constructor(i,l,y,A,N,M){Y(this,"documentKey");Y(this,"checkpoint");Y(this,"isRemoved");Y(this,"changes");Y(this,"snapshot");Y(this,"versionVector");this.documentKey=i,this.checkpoint=l,this.isRemoved=y,this.changes=A,this.snapshot=M,this.versionVector=N}static create(i,l,y,A,N,M){return new Qh(i,l,y,A,N,M)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Ha{constructor(i,l){Y(this,"serverSeq");Y(this,"clientSeq");this.serverSeq=i,this.clientSeq=l}static of(i,l){return new Ha(i,l)}increaseClientSeq(i){return i===0?this:new Ha(this.serverSeq,this.clientSeq+i)}forward(i){if(this.equals(i))return this;const l=this.serverSeq>i.serverSeq?this.serverSeq:i.serverSeq,y=Math.max(this.clientSeq,i.clientSeq);return Ha.of(l,y)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(i){return this.clientSeq===i.clientSeq&&this.serverSeq==i.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const Xo=new Ha(0n,0),Im=f=>f<0?Math.ceil(f):Math.floor(f);var pi=(f=>(f[f.Int=0]="Int",f[f.Long=1]="Long",f))(pi||{});class cr extends wf{constructor(l,y,A){super(A);Y(this,"valueType");Y(this,"value");switch(this.valueType=l,l){case 0:typeof y=="number"?y>Math.pow(2,31)-1||y<-Math.pow(2,31)?this.value=Vt.fromNumber(y).toInt():this.value=Im(y):this.value=y.toInt();break;case 1:typeof y=="number"?this.value=Vt.fromNumber(y):this.value=y;break;default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${l}`)}}static create(l,y,A){return new cr(l,y,A)}static valueFromBytes(l,y){switch(l){case 0:return y[0]|y[1]<<8|y[2]<<16|y[3]<<24;case 1:return Vt.fromBytesLE(Array.from(y));default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${l}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const l=cr.create(this.valueType,this.value,this.getCreatedAt());return l.setRemovedAt(this.getRemovedAt()),l.setMovedAt(this.getMovedAt()),l}getType(){return this.valueType}static getCounterType(l){switch(typeof l){case"object":return l instanceof Vt?1:void 0;case"number":return l>Math.pow(2,31)-1||l<-Math.pow(2,31)?1:0;default:return}}static isSupport(l){return!!cr.getCounterType(l)}static isInteger(l){return l%1===0}isNumericType(){const l=this.valueType;return l===0||l===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const l=this.value;return new Uint8Array([l&255,l>>8&255,l>>16&255,l>>24&255])}case 1:{const y=this.value.toBytesLE();return Uint8Array.from(y)}default:throw new be(ge.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(l){function y(A){if(!A.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof A.getValue()}`)}return y(this),y(l),this.valueType===1?this.value=this.value.add(l.getValue()):l.getType()===gn.Long?this.value=this.value+l.getValue().toInt():this.value=Vt.fromNumber(this.value+Im(l.getValue())).toInt(),this}}class yn extends Or{constructor(l,y,A){super(l,A);Y(this,"value");this.value=y}static create(l,y,A){return new yn(l,y,A)}execute(l){const y=l.findByCreatedAt(this.getParentCreatedAt());if(!y)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(y instanceof cr))throw new be(ge.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const A=y,N=this.value.deepcopy();return A.increase(N),{opInfos:[{type:"increase",path:l.createPath(this.getParentCreatedAt()),value:N.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const l=this.value.deepcopy(),A=l.getType()===gn.Long?l.getValue().multiply(-1):l.getValue()*-1;return yn.create(this.getParentCreatedAt(),On.of(A,l.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Zo extends Or{constructor(l,y,A,N,M,z){super(l,z);Y(this,"fromPos");Y(this,"toPos");Y(this,"attributes");Y(this,"attributesToRemove");this.fromPos=y,this.toPos=A,this.attributes=N,this.attributesToRemove=M}static create(l,y,A,N,M){return new Zo(l,y,A,N,[],M)}static createTreeRemoveStyleOperation(l,y,A,N,M){return new Zo(l,y,A,new Map,N,M)}execute(l,y,A){const N=l.findByCreatedAt(this.getParentCreatedAt());if(!N)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(N instanceof Rr))throw new be(ge.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const M=N;let z,W,ee={data:0,meta:0};if(this.attributes.size){const ue={};[...this.attributes].forEach(([we,ke])=>ue[we]=ke),[W,z,ee]=M.style([this.fromPos,this.toPos],ue,this.getExecutedAt(),A)}else{const ue=this.attributesToRemove;[W,z,ee]=M.removeStyle([this.fromPos,this.toPos],ue,this.getExecutedAt(),A)}l.acc(ee);for(const ue of W)l.registerGCPair(ue);return{opInfos:z.map(({from:ue,to:we,value:ke,fromPath:Re,toPath:We})=>({type:"tree-style",from:ue,to:we,value:this.attributes.size?{attributes:ke}:{attributesToRemove:ke},fromPath:Re,toPath:We,path:l.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const l=this.getParentCreatedAt().toTestString(),y=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,A=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${l}.STYLE(${y},${A},${Object.entries(this.attributes||{}).map(([N,M])=>`${N}:"${M}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class Jo extends Or{constructor(l,y,A,N){super(l,N);Y(this,"createdAt");Y(this,"value");this.createdAt=y,this.value=A}static create(l,y,A,N){return new Jo(l,y,A,N)}execute(l){const y=l.findByCreatedAt(this.getParentCreatedAt());if(!y)throw new be(ge.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(y instanceof er))throw new be(ge.ErrInvalidArgument,"fail to execute, only array can execute set");const A=y.getByID(this.createdAt).deepcopy(),N=this.toReverseOperation(this.value,A),M=this.value.deepcopy();return y.insertAfter(this.createdAt,M,this.getExecutedAt()),y.delete(this.createdAt,this.getExecutedAt()),l.registerElement(M),{opInfos:[{type:"array-set",path:l.createPath(this.getParentCreatedAt())}],reverseOp:N}}toReverseOperation(l,y){return Jo.create(this.getParentCreatedAt(),l.getCreatedAt(),y)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(l){this.createdAt=l}}function qv(f){const i={};for(const[l,y]of Object.entries(f))i[l]=JSON.stringify(y);return Z(Vo,{data:i})}function _f(f){if(f.type===Vi.Put)return Z(Ef,{type:ja.PUT,presence:qv(f.presence)});if(f.type===Vi.Clear)return Z(Ef,{type:ja.CLEAR});throw new be(ge.ErrUnimplemented,"unimplemented type")}function Ys(f){return Z(Vh,{serverSeq:f.getServerSeq(),clientSeq:f.getClientSeq()})}function ep(f){return Z(jh,{clientSeq:f.getClientSeq(),lamport:f.getLamport(),actorId:rs(f.getActorID()),versionVector:Wa(f.getVersionVector())})}function pt(f){if(f)return Z(pm,{lamport:f.getLamport(),delimiter:f.getDelimiter(),actorId:rs(f.getActorID())})}function Wa(f){if(!f)return;const i=Z(js);for(const[l,y]of f){const A=Bm(rs(l));i.vector[A]=BigInt(y.toString())}return i}function qi(f){switch(f){case gn.Null:return Ft.NULL;case gn.Boolean:return Ft.BOOLEAN;case gn.Integer:return Ft.INTEGER;case gn.Long:return Ft.LONG;case gn.Double:return Ft.DOUBLE;case gn.String:return Ft.STRING;case gn.Bytes:return Ft.BYTES;case gn.Date:return Ft.DATE;default:throw new be(ge.ErrInvalidType,`unsupported type: ${f}`)}}function Om(f){switch(f){case pi.Int:return Ft.INTEGER_CNT;case pi.Long:return Ft.LONG_CNT;default:throw new be(ge.ErrInvalidType,`unsupported type: ${f}`)}}function Wu(f){if(f instanceof hr)return Z(Uo,{type:Ft.JSON_OBJECT,createdAt:pt(f.getCreatedAt()),value:kr(f)});if(f instanceof er)return Z(Uo,{type:Ft.JSON_ARRAY,createdAt:pt(f.getCreatedAt()),value:km(f)});if(f instanceof Mr)return Z(Uo,{type:Ft.TEXT,createdAt:pt(f.getCreatedAt())});if(f instanceof On)return Z(Uo,{type:qi(f.getType()),createdAt:pt(f.getCreatedAt()),value:f.toBytes()});if(f instanceof cr)return Z(Uo,{type:Om(f.getType()),createdAt:pt(f.getCreatedAt()),value:f.toBytes()});if(f instanceof Rr)return Z(Uo,{type:Ft.TREE,createdAt:pt(f.getCreatedAt()),value:sp(f)});throw new be(ge.ErrUnimplemented,"unimplemented element")}function Kv(f){return Z(fm,{createdAt:pt(f.getCreatedAt()),offset:f.getOffset()})}function Yu(f){return Z(hm,{createdAt:pt(f.getID().getCreatedAt()),offset:f.getID().getOffset(),relativeOffset:f.getRelativeOffset()})}function qu(f){return Z(Af,{parentId:qs(f.getParentID()),leftSiblingId:qs(f.getLeftSiblingID())})}function qs(f){return Z(dm,{createdAt:pt(f.getCreatedAt()),offset:f.getOffset()})}function tp(f){const i=Z(Bu);if(f instanceof Gs){const l=f,y=Z(Fv);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.key=l.getKey(),y.value=Wu(l.getValue()),y.executedAt=pt(l.getExecutedAt()),i.body.case="set",i.body.value=y}else if(f instanceof Ri){const l=f,y=Z(sm);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.prevCreatedAt=pt(l.getPrevCreatedAt()),y.value=Wu(l.getValue()),y.executedAt=pt(l.getExecutedAt()),i.body.case="add",i.body.value=y}else if(f instanceof Ti){const l=f,y=Z(am);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.prevCreatedAt=pt(l.getPrevCreatedAt()),y.createdAt=pt(l.getCreatedAt()),y.executedAt=pt(l.getExecutedAt()),i.body.case="move",i.body.value=y}else if(f instanceof hi){const l=f,y=Z(zs);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.createdAt=pt(l.getCreatedAt()),y.executedAt=pt(l.getExecutedAt()),i.body.case="remove",i.body.value=y}else if(f instanceof fo){const l=f,y=Z(zt);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.from=Yu(l.getFromPos()),y.to=Yu(l.getToPos()),y.content=l.getContent();const A=y.attributes;for(const[N,M]of l.getAttributes())A[N]=M;y.executedAt=pt(l.getExecutedAt()),i.body.case="edit",i.body.value=y}else if(f instanceof $u){const l=f,y=Z(pn);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.from=Yu(l.getFromPos()),y.to=Yu(l.getToPos());const A=y.attributes;for(const[N,M]of l.getAttributes())A[N]=M;y.executedAt=pt(l.getExecutedAt()),i.body.case="style",i.body.value=y}else if(f instanceof yn){const l=f,y=Z(Xn);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.value=Wu(l.getValue()),y.executedAt=pt(l.getExecutedAt()),i.body.case="increase",i.body.value=y}else if(f instanceof Ga){const l=f,y=Z(zh);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.from=qu(l.getFromPos()),y.to=qu(l.getToPos()),y.contents=Zv(l.getContents()),y.splitLevel=l.getSplitLevel(),y.executedAt=pt(l.getExecutedAt()),i.body.case="treeEdit",i.body.value=y}else if(f instanceof Zo){const l=f,y=Z(ju);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.from=qu(l.getFromPos()),y.to=qu(l.getToPos());const A=l.getAttributesToRemove();if(A.length>0)y.attributesToRemove=A;else{const N=y.attributes;for(const[M,z]of l.getAttributes())N[M]=z}y.executedAt=pt(l.getExecutedAt()),i.body.case="treeStyle",i.body.value=y}else if(f instanceof Jo){const l=f,y=Z(Ba);y.parentCreatedAt=pt(l.getParentCreatedAt()),y.createdAt=pt(l.getCreatedAt()),y.value=Wu(l.getValue()),y.executedAt=pt(l.getExecutedAt()),i.body.case="arraySet",i.body.value=y}else throw new be(ge.ErrUnimplemented,"unimplemented operation");return i}function Qo(f){const i=[];for(const l of f)i.push(tp(l));return i}function Wn(f){const i=Z(Lv,{id:ep(f.getID()),message:f.getMessage()});return f.hasOperations()&&(i.operations=Qo(f.getOperations())),f.hasPresenceChange()&&(i.presenceChange=_f(f.getPresenceChange())),i}function Dm(f){const i=[];for(const l of f)i.push(Wn(l));return i}function Xv(f){const i=[];for(const l of f)i.push(Z(Bv,{key:l.getStrKey(),element:Fr(l.getValue())}));return i}function fr(f){const i=[];for(const l of f)i.push(Z($S,{element:Fr(l.getValue())}));return i}function qS(f){const i=[];for(const l of f){const y=Z(cm);y.id=Kv(l.getID()),y.value=l.getValue().getContent(),y.removedAt=pt(l.getRemovedAt());const A=y.attributes,N=l.getValue().getAttrs();for(const M of N){const z=Z(Uh);z.value=M.getValue(),z.updatedAt=pt(M.getUpdatedAt()),A[M.getKey()]=z}i.push(y)}return i}function Zv(f){const i=[];if(!f||!f.length)return i;for(const l of f)i.push(Z(Zn,{content:wn(l)}));return i}function Jv(f){const i={};for(const l of f)i[l.getKey()]=Z(Uh,{value:l.getValue(),updatedAt:pt(l.getUpdatedAt()),isRemoved:l.isRemoved()});return i}function wn(f){if(!f)return[];const i=[];return Tf(f,(l,y)=>{const A=Z(Yr,{id:qs(l.id),type:l.type,removedAt:pt(l.removedAt),depth:y});l.isText&&(A.value=l.value),l.insPrevID&&(A.insPrevId=qs(l.insPrevID)),l.insNextID&&(A.insNextId=qs(l.insNextID)),l.attrs&&(A.attributes=Jv(l.attrs)),i.push(A)}),i}function Jr(f){return Z(wr,{body:{case:"jsonObject",value:Z(zu,{nodes:Xv(f.getRHT()),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function ho(f){return Z(wr,{body:{case:"jsonArray",value:Z(GS,{nodes:fr(f.getElements()),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function Qv(f){return Z(wr,{body:{case:"primitive",value:Z(Hn,{type:qi(f.getType()),value:f.toBytes(),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function ex(f){return Z(wr,{body:{case:"text",value:Z(lm,{nodes:qS(f.getRGATreeSplit()),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function KS(f){return Z(wr,{body:{case:"counter",value:Z(um,{type:Om(f.getType()),value:f.toBytes(),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function np(f){return Z(wr,{body:{case:"tree",value:Z(kv,{nodes:wn(f.getRoot()),createdAt:pt(f.getCreatedAt()),movedAt:pt(f.getMovedAt()),removedAt:pt(f.getRemovedAt())})}})}function Fr(f){if(f instanceof hr)return Jr(f);if(f instanceof er)return ho(f);if(f instanceof On)return Qv(f);if(f instanceof Mr)return ex(f);if(f instanceof cr)return KS(f);if(f instanceof Rr)return np(f);throw new be(ge.ErrUnimplemented,"unimplemented element")}function Ki(f){return Z(Sf,{documentKey:f.getDocumentKey(),checkpoint:Ys(f.getCheckpoint()),isRemoved:f.getIsRemoved(),changes:Dm(f.getChanges()),snapshot:f.getSnapshot(),versionVector:Wa(f.getVersionVector())})}function tx(f){return{id:f.id,label:f.label,description:f.description,snapshot:f.snapshot,createdAt:f.createdAt?uv(f.createdAt):new Date}}function yr(f){if(!(f instanceof Ht))return{};const i=f.findDetails(mm);for(const l of i)return l.metadata;return{}}function Ya(f){return yr(f).code??""}function po(f,i){return f instanceof Ht&&Ya(f)===i}function Ks(f){return Ii.of(f.clientSeq,BigInt(f.lamport),rr(f.actorId),go(f.versionVector),BigInt(f.serverSeq))}function go(f){if(!f)return;const i=new $a;return Object.entries(f.vector).forEach(([l,y])=>{const A=Xi(Qu(l));i.set(A,BigInt(y.toString()))}),i}function gt(f){if(f)return qr.of(BigInt(f.lamport),f.delimiter,rr(f.actorId))}function If(f){const i={};return Object.entries(f.data).forEach(([l,y])=>{i[l]=JSON.parse(y)}),i}function mo(f){const i=f.type;if(i===ja.PUT){const l=If(f.presence);return{type:Vi.Put,presence:l}}if(i===ja.CLEAR)return{type:Vi.Clear};throw new be(ge.ErrInvalidType,`unsupported type: ${i}`)}function nx(f){const i=new Map;return Object.entries(f).forEach(([l,y])=>{i.set(l,If(y))}),i}function qa(f){switch(f){case Ft.NULL:return gn.Null;case Ft.BOOLEAN:return gn.Boolean;case Ft.INTEGER:return gn.Integer;case Ft.LONG:return gn.Long;case Ft.DOUBLE:return gn.Double;case Ft.STRING:return gn.String;case Ft.BYTES:return gn.Bytes;case Ft.DATE:return gn.Date}throw new be(ge.ErrUnimplemented,`unimplemented value type: ${f}`)}function Xs(f){switch(f){case Ft.INTEGER_CNT:return pi.Int;case Ft.LONG_CNT:return pi.Long}throw new be(ge.ErrUnimplemented,`unimplemented value type: ${f}`)}function Zs(f){switch(f.type){case Ft.JSON_OBJECT:return f.value?Ju(f.value):hr.create(gt(f.createdAt));case Ft.JSON_ARRAY:return f.value?Fm(f.value):er.create(gt(f.createdAt));case Ft.TEXT:return Mr.create(Ua.create(),gt(f.createdAt));case Ft.TREE:return op(f.value);case Ft.NULL:case Ft.BOOLEAN:case Ft.INTEGER:case Ft.LONG:case Ft.DOUBLE:case Ft.STRING:case Ft.BYTES:case Ft.DATE:return On.of(On.valueFromBytes(qa(f.type),f.value),gt(f.createdAt));case Ft.INTEGER_CNT:case Ft.LONG_CNT:return cr.create(Xs(f.type),cr.valueFromBytes(Xs(f.type),f.value),gt(f.createdAt))}}function es(f){return tr.of(mn.of(gt(f.createdAt),f.offset),f.relativeOffset)}function Pm(f){return mn.of(gt(f.createdAt),f.offset)}function rx(f){const i=Hs.create(f.value);Object.entries(f.attributes).forEach(([y,A])=>{i.setAttr(y,A.value,gt(A.updatedAt))});const l=uo.create(Pm(f.id),i);return l.setRemovedAt(gt(f.removedAt)),l}function yo(f){return _i.of(Ku(f.parentId),Ku(f.leftSiblingId))}function Ku(f){return nr.of(gt(f.createdAt),f.offset)}function rp(f){if(!f.length)return;const i=[];return f.forEach(l=>{const y=ip(l.content);i.push(y)}),i}function ip(f){if(f.length===0)return;const i=[];for(const A of f)i.push(ZS(A));const l=i[i.length-1],y=new Map;y.set(f[i.length-1].depth,i[i.length-1]);for(let A=i.length-2;A>=0;A--)y.get(f[A].depth-1).prepend(i[A]),y.set(f[A].depth,i[A]);return l.updateDescendantsSize(),l.updateDescendantsSize(!0),Rr.create(l,za).getRoot()}function XS(f){const i=Pr.create();for(const[l,y]of Object.entries(f))i.setInternal(l,y.value,gt(y.updatedAt),y.isRemoved);return i}function ZS(f){const i=Ku(f.id),l=Lr.create(i,f.type),y=Object.entries(f.attributes);return l.isText?l.value=f.value:y.length&&(l.attrs=XS(f.attributes)),f.insPrevId&&(l.insPrevID=Ku(f.insPrevId)),f.insNextId&&(l.insNextID=Ku(f.insNextId)),l.removedAt=gt(f.removedAt),l}function on(f){if(f.body.case==="set"){const i=f.body.value;return Gs.create(i.key,Zs(i.value),gt(i.parentCreatedAt),gt(i.executedAt))}else if(f.body.case==="add"){const i=f.body.value;return Ri.create(gt(i.parentCreatedAt),gt(i.prevCreatedAt),Zs(i.value),gt(i.executedAt))}else if(f.body.case==="move"){const i=f.body.value;return Ti.create(gt(i.parentCreatedAt),gt(i.prevCreatedAt),gt(i.createdAt),gt(i.executedAt))}else if(f.body.case==="remove"){const i=f.body.value;return hi.create(gt(i.parentCreatedAt),gt(i.createdAt),gt(i.executedAt))}else if(f.body.case==="edit"){const i=f.body.value,l=new Map;return Object.entries(i.attributes).forEach(([y,A])=>{l.set(y,A)}),fo.create(gt(i.parentCreatedAt),es(i.from),es(i.to),i.content,l,gt(i.executedAt))}else if(f.body.case==="style"){const i=f.body.value,l=new Map;return Object.entries(i.attributes).forEach(([y,A])=>{l.set(y,A)}),$u.create(gt(i.parentCreatedAt),es(i.from),es(i.to),l,gt(i.executedAt))}else if(f.body.case==="increase"){const i=f.body.value;return yn.create(gt(i.parentCreatedAt),Zs(i.value),gt(i.executedAt))}else if(f.body.case==="treeEdit"){const i=f.body.value;return Ga.create(gt(i.parentCreatedAt),yo(i.from),yo(i.to),rp(i.contents),i.splitLevel,gt(i.executedAt))}else if(f.body.case==="treeStyle"){const i=f.body.value,l=new Map,y=i.attributesToRemove;return(y==null?void 0:y.length)>0?Zo.createTreeRemoveStyleOperation(gt(i.parentCreatedAt),yo(i.from),yo(i.to),y,gt(i.executedAt)):(Object.entries(i.attributes).forEach(([A,N])=>{l.set(A,N)}),Zo.create(gt(i.parentCreatedAt),yo(i.from),yo(i.to),l,gt(i.executedAt)))}else if(f.body.case==="arraySet"){const i=f.body.value;return Jo.create(gt(i.parentCreatedAt),gt(i.createdAt),Zs(i.value),gt(i.executedAt))}else throw new be(ge.ErrUnimplemented,"unimplemented operation")}function Rn(f){const i=[];for(const l of f){const y=on(l);y&&i.push(y)}return i}function Gt(f){const i=[];for(const l of f)i.push(Ws.create({id:Ks(l.id),operations:Rn(l.operations),presenceChange:l.presenceChange?mo(l.presenceChange):void 0,message:l.message}));return i}function Kt(f){return Ha.of(BigInt(f.serverSeq),f.clientSeq)}function cn(f){return Qh.create(f.documentKey,Kt(f.checkpoint),f.isRemoved,Gt(f.changes),go(f.versionVector),f.snapshot)}function Qr(f){const i=new Ho;for(const y of f.nodes){const A=vo(y.element);i.set(y.key,A,A.getPositionedAt())}const l=new hr(gt(f.createdAt),i);return l.setMovedAt(gt(f.movedAt)),l.setRemovedAt(gt(f.removedAt)),l}function ts(f){const i=new Yo;for(const y of f.nodes)i.insert(vo(y.element));const l=new er(gt(f.createdAt),i);return l.setMovedAt(gt(f.movedAt)),l.setRemovedAt(gt(f.removedAt)),l}function Xu(f){const i=On.of(On.valueFromBytes(qa(f.type),f.value),gt(f.createdAt));return i.setMovedAt(gt(f.movedAt)),i.setRemovedAt(gt(f.removedAt)),i}function Mm(f){const i=new Ua;let l=i.getHead();for(const A of f.nodes){const N=i.insertAfter(l,rx(A));A.insPrevId&&N.setInsPrev(i.findNode(Pm(A.insPrevId))),l=N}const y=new Mr(i,gt(f.createdAt));return y.setMovedAt(gt(f.movedAt)),y.setRemovedAt(gt(f.removedAt)),y}function ns(f){const i=cr.create(Xs(f.type),cr.valueFromBytes(Xs(f.type),f.value),gt(f.createdAt));return i.setMovedAt(gt(f.movedAt)),i.setRemovedAt(gt(f.removedAt)),i}function Dn(f){const i=ip(f.nodes);return Rr.create(i,gt(f.createdAt))}function vo(f){if(f.body.case==="jsonObject")return Qr(f.body.value);if(f.body.case==="jsonArray")return ts(f.body.value);if(f.body.case==="primitive")return Xu(f.body.value);if(f.body.case==="text")return Mm(f.body.value);if(f.body.case==="counter")return ns(f.body.value);if(f.body.case==="tree")return Dn(f.body.value);throw new be(ge.ErrUnimplemented,"unimplemented element")}function Ka(f){return f.map(i=>({path:i.path,type:i.type}))}function Lm(f){if(!f)return{root:hr.create(za),presences:new Map};const i=Ai(bf,f);return{root:vo(i.root),presences:nx(i.presences)}}function Oi(f){const i=Wa(f);return Xi(Ei(js,i))}function Zu(f){const i=xo(f),l=Ai(js,i);return go(l)}function Ju(f){if(!f)throw new be(ge.ErrInvalidArgument,"bytes is empty");const i=Ai(wr,f);return Qr(i.body.value)}function kr(f){return Ei(wr,Fr(f))}function Fm(f){if(!f)throw new be(ge.ErrInvalidArgument,"bytes is empty");const i=Ai(wr,f);return ts(i.body.value)}function km(f){return Ei(wr,ho(f))}function op(f){if(!f)throw new be(ge.ErrInvalidArgument,"bytes is empty");const i=Ai(wr,f);return Dn(i.body.value)}function sp(f){return Ei(wr,np(f))}function Xi(f){return f?Array.from(f).map(i=>i.toString(16).padStart(2,"0")).join(""):""}function rr(f){return Xi(f)}function xo(f){return new Uint8Array(f.match(/.{1,2}/g).map(i=>parseInt(i,16)))}function Qu(f){if(typeof window<"u"&&typeof window.atob=="function"){const i=window.atob(f),l=i.length,y=new Uint8Array(l);for(let A=0;A<l;A++)y[A]=i.charCodeAt(A);return y}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const i=globalThis.Buffer;return new Uint8Array(i.from(f,"base64"))}else throw new Error("No base64 decoder available")}function rs(f){return xo(f)}function Bm(f){if(typeof window<"u"&&typeof window.btoa=="function"){let i="";for(let l=0;l<f.byteLength;l++)i+=String.fromCharCode(f[l]);return window.btoa(i)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(f).toString("base64");throw new Error("No base64 encoder available")}}function jm(f){const i=Ai(jh,f);return Ks(i)}function ix(f){const i=Ai(Bu,f);return on(i)}const fn={fromPresence:If,toChangePack:Ki,fromChangePack:cn,fromChanges:Gt,toTreeNodes:wn,fromTreeNodes:ip,objectToBytes:kr,bytesToObject:Ju,bytesToSnapshot:Lm,bytesToHex:Xi,hexToBytes:xo,toHexString:rr,toUint8Array:rs,toOperation:tp,toChangeID:ep,bytesToChangeID:jm,bytesToOperation:ix,versionVectorToHex:Oi,hexToVersionVector:Zu,fromSchemaRules:Ka,toRevisionSummary:tx,changeIDToBinary:f=>Ei(jh,ep(f)),operationToBinary:f=>Ei(Bu,tp(f))};var Tr=(f=>(f[f.Trivial=0]="Trivial",f[f.Debug=1]="Debug",f[f.Info=2]="Info",f[f.Warn=3]="Warn",f[f.Error=4]="Error",f[f.Fatal=5]="Fatal",f))(Tr||{});let ir=3;function ox(f){ir=f}const Xe={trivial:(...f)=>{ir>0||typeof console<"u"&&console.log("YORKIE T:",...f)},debug:(...f)=>{ir>1||typeof console<"u"&&console.log("YORKIE D:",...f)},info:(...f)=>{ir>2||typeof console<"u"&&console.log("YORKIE I:",...f)},warn:(...f)=>{ir>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...f):console.log("YORKIE W:",...f))},error:(...f)=>{ir>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...f):console.log("YORKIE E:",...f))},fatal:(...f)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...f):console.log("YORKIE F:",...f))},isEnabled:f=>ir<=f};function zm(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,f=>{const i=Math.random()*16|0;return(f==="x"?i:i&3|8).toString(16)})}const ap=()=>{};class JS{constructor(i){Y(this,"finalized",!1);Y(this,"observers",[]);Y(this,"finalError");try{i(this)}catch(l){this.error(l)}}next(i){this.forEachObserver(l=>{l.next(i)})}error(i){this.forEachObserver(l=>{l.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,l,y){let A;if(!i)throw new be(ge.ErrInvalidArgument,"missing observer");if(this.finalized)throw new be(ge.ErrRefused,"observable is finalized due to previous error");typeof i=="object"?A=i:A={next:i,error:l,complete:y},A.next===void 0&&(A.next=ap),A.error===void 0&&(A.error=ap),A.complete===void 0&&(A.complete=ap);const N=zm(),M=this.unsubscribeOne.bind(this,N);if(this.observers.push({subscriptionID:N,observer:A}),this.finalized)try{this.finalError?A.error(this.finalError):A.complete()}catch(z){Xe.warn(z)}return M}unsubscribeOne(i){var l;this.observers=(l=this.observers)==null?void 0:l.filter(y=>y.subscriptionID!==i)}forEachObserver(i){if(!this.finalized)for(let l=0;l<this.observers.length;l++)this.sendOne(l,i)}sendOne(i,l){if(this.observers!==void 0&&this.observers[i]!==void 0)try{l(this.observers[i].observer)}catch(y){Xe.error(y)}}close(i){this.finalized||(this.finalized=!0,i!==void 0&&(this.finalError=i),this.observers=void 0)}}function is(f){const i=new JS(f);return{subscribe:i.subscribe.bind(i),getProxy:()=>i}}class Js{constructor(i,l,y,A){Y(this,"prevID");Y(this,"nextID");Y(this,"delimiter");Y(this,"message");Y(this,"root");Y(this,"operations");Y(this,"presenceChange");Y(this,"previousPresence");Y(this,"reversePresenceKeys");this.prevID=i,this.nextID=i.next(),this.delimiter=ym,this.root=l,this.operations=[],this.previousPresence=Zr(y),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=A}static create(i,l,y,A){return new Js(i,l,y,A)}push(i){this.operations.push(i)}registerElement(i,l){this.root.registerElement(i,l)}registerRemovedElement(i){this.root.registerRemovedElement(i)}registerGCPair(i){this.root.registerGCPair(i)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const i=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Ws.create({id:i,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(i){this.presenceChange=i}setReversePresence(i,l){for(const y of Object.keys(i))l!=null&&l.addToHistory?this.reversePresenceKeys.add(y):this.reversePresenceKeys.delete(y)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const i={};for(const l of this.reversePresenceKeys)i[l]=this.previousPresence[l];return i}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(i){this.root.acc(i)}}function lp(f,i){const l=new bo(f);return new Proxy(i,l.getHandlers())}class bo{constructor(i){Y(this,"context");Y(this,"handlers");this.context=i,this.handlers={set:(l,y,A)=>(Xe.isEnabled(Tr.Trivial)&&Xe.trivial(`obj[${y}]=${JSON.stringify(A)}`),bo.setInternal(i,l,y,A),!0),get:(l,y)=>(Xe.isEnabled(Tr.Trivial)&&Xe.trivial(`obj[${y}]`),y==="getID"?()=>l.getCreatedAt():y==="toJSON"||y==="toString"?()=>l.toJSON():y==="toJS"?()=>l.toJS():y==="toJSForTest"?()=>l.toJSForTest():ea(i,l.get(y))),ownKeys:l=>l.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(l,y)=>(Xe.isEnabled(Tr.Trivial)&&Xe.trivial(`obj[${y}]`),bo.deleteInternal(i,l,y),!0)}}static setInternal(i,l,y,A){if(y.includes("."))throw new be(ge.ErrInvalidObjectKey,"key must not contain the '.'.");const N=i.issueTimeTicket(),M=ta(i,A,N),z=l.set(y,M,N);i.registerElement(M,l),z&&i.registerRemovedElement(z),i.push(Gs.create(y,M.deepcopy(),l.getCreatedAt(),N))}static buildObjectMembers(i,l){const y={};for(const[A,N]of Object.entries(l)){if(A.includes("."))throw new be(ge.ErrInvalidObjectKey,"key must not contain the '.'.");const M=i.issueTimeTicket(),z=ta(i,N,M);y[A]=z}return y}static deleteInternal(i,l,y){const A=i.issueTimeTicket(),N=l.deleteByKey(y,A);N&&(i.push(hi.create(l.getCreatedAt(),N.getCreatedAt(),A)),i.registerRemovedElement(N))}getHandlers(){return this.handlers}}function sx(f,i){const l=new Jt(f,i);return new Proxy(i,l.getHandlers())}function Um(f){return typeof f=="string"||f instanceof String?!isNaN(f):!1}function ax(f){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(f)}class Jt{constructor(i,l){Y(this,"context");Y(this,"handlers");Y(this,"array");this.context=i,this.array=l,this.handlers={get:(y,A,N)=>A==="getID"?()=>y.getCreatedAt():A==="getElementByID"?M=>{const z=y.getByID(M);if(!(!z||z.isRemoved()))return Di(i,z)}:A==="getElementByIndex"?M=>{const z=y.get(M);return Di(i,z)}:A==="getLast"?()=>Di(i,y.getLast()):A==="delete"?M=>{const z=Jt.deleteInternalByIndex(i,y,M);return Di(i,z)}:A==="deleteByID"?M=>{const z=Jt.deleteInternalByID(i,y,M);return Di(i,z)}:A==="insertAfter"?(M,z)=>{const W=Jt.insertAfterInternal(i,y,M,z);return Di(i,W)}:A==="insertIntegerAfter"?(M,z)=>{const W=Jt.insertIntegerAfterInternal(i,y,M,z);return Di(i,W)}:A==="insertBefore"?(M,z)=>{const W=Jt.insertBeforeInternal(i,y,M,z);return Di(i,W)}:A==="setValue"?(M,z)=>{const W=Jt.setValueInternal(i,y,M,z);return Di(i,W)}:A==="moveBefore"?(M,z)=>{Jt.moveBeforeInternal(i,y,M,z)}:A==="moveAfter"?(M,z)=>{Jt.moveAfterInternal(i,y,M,z)}:A==="moveAfterByIndex"?(M,z)=>{Jt.moveAfterByIndexInternal(i,y,M,z)}:A==="moveFront"?M=>{Jt.moveFrontInternal(i,y,M)}:A==="moveLast"?M=>{Jt.moveLastInternal(i,y,M)}:Um(A)?ea(i,y.get(Number(A))):A==="push"?M=>Jt.pushInternal(i,y,M):A==="splice"?(M,z,...W)=>Jt.splice(i,y,M,z,...W):A==="length"?y.length:typeof A=="symbol"&&A===Symbol.iterator?Jt.iteratorInternal.bind(this,i,y):A==="includes"?(M,z)=>Jt.includes(i,y,M,z):A==="indexOf"?(M,z)=>Jt.indexOf(i,y,M,z):A==="lastIndexOf"?(M,z)=>Jt.lastIndexOf(i,y,M,z):A==="toJSForTest"?()=>y.toJSForTest():A==="toTestString"?()=>Jt.toTestString(y):typeof A=="string"&&ax(A)?(...M)=>{const z=Array.from(y).map(W=>ea(i,W));return Array.prototype[A].apply(z,M)}:Reflect.get(y,A,N),set:(y,A,N)=>{if(Um(A)){const M=Number(A);return Jt.setValueInternal(i,y,M,N),!0}return Reflect.set(y,A,N)},deleteProperty:(y,A)=>(Xe.isEnabled(Tr.Trivial)&&Xe.trivial(`array[${A}]`),Jt.deleteInternalByIndex(i,y,Number.parseInt(A)),!0)}}static*iteratorInternal(i,l){for(const y of l)yield Di(i,y)}static buildArrayElements(i,l){const y=[];for(const A of l){const N=i.issueTimeTicket(),M=ta(i,A,N);y.push(M)}return y}static pushInternal(i,l,y){return Jt.insertAfterInternal(i,l,l.getLastCreatedAt(),y),l.length}static moveBeforeInternal(i,l,y,A){const N=i.issueTimeTicket(),M=l.getPrevCreatedAt(y);l.moveAfter(M,A,N),i.push(Ti.create(l.getCreatedAt(),M,A,N))}static moveAfterInternal(i,l,y,A){const N=i.issueTimeTicket();i.push(Ti.create(l.getCreatedAt(),y,A,N)),l.moveAfter(y,A,N)}static moveAfterByIndexInternal(i,l,y,A){const N=l.get(y);if(!N)throw new be(ge.ErrInvalidArgument,`index out of bounds: ${y}`);const M=l.get(A);if(!M)throw new be(ge.ErrInvalidArgument,`index out of bounds: ${A}`);Jt.moveAfterInternal(i,l,N.getCreatedAt(),M.getCreatedAt())}static moveFrontInternal(i,l,y){const A=i.issueTimeTicket(),N=l.getHead();l.moveAfter(N.getCreatedAt(),y,A),i.push(Ti.create(l.getCreatedAt(),N.getCreatedAt(),y,A))}static moveLastInternal(i,l,y){const A=i.issueTimeTicket(),N=l.getLastCreatedAt();l.moveAfter(N,y,A),i.push(Ti.create(l.getCreatedAt(),N,y,A))}static insertAfterInternal(i,l,y,A){const N=i.issueTimeTicket(),M=ta(i,A,N);return l.insertAfter(y,M),i.registerElement(M,l),i.push(Ri.create(l.getCreatedAt(),y,M.deepcopy(),N)),M}static insertIntegerAfterInternal(i,l,y,A){const N=l.get(y);if(!N)throw new be(ge.ErrInvalidArgument,`index out of bounds: ${y}`);return Jt.insertAfterInternal(i,l,N.getCreatedAt(),A),l}static insertBeforeInternal(i,l,y,A){return Jt.insertAfterInternal(i,l,l.getPrevCreatedAt(y),A)}static setValueInternal(i,l,y,A){const N=l.get(y);if(!N)throw new be(ge.ErrInvalidArgument,`index out of bounds: ${y}`);return Jt.setByIndexInternal(i,l,N.getCreatedAt(),A),l}static setByIndexInternal(i,l,y,A){const N=i.issueTimeTicket(),M=ta(i,A,N),z=M.deepcopy();return i.push(Jo.create(l.getCreatedAt(),y,z,N)),l.set(y,M,N),i.registerElement(M,l),M}static deleteInternalByIndex(i,l,y){const A=i.issueTimeTicket(),N=l.deleteByIndex(y,A);if(N)return i.push(hi.create(l.getCreatedAt(),N.getCreatedAt(),A)),i.registerRemovedElement(N),N}static deleteInternalByID(i,l,y){const A=i.issueTimeTicket(),N=l.delete(y,A);return i.push(hi.create(l.getCreatedAt(),N.getCreatedAt(),A)),i.registerRemovedElement(N),N}static splice(i,l,y,A,...N){const M=l.length,z=y>=0?Math.min(y,M):Math.max(M+y,0),W=A===void 0?M:A<0?z:Math.min(z+A,M),ee=[];for(let ue=z;ue<W;ue++){const we=Jt.deleteInternalByIndex(i,l,z);if(we){const ke=we.deepcopy();ke.setRemovedAt(),ee.push(ea(i,ke))}}if(N){let ue=z===0?l.getHead().getID():l.get(z-1).getID();for(const we of N)ue=Jt.insertAfterInternal(i,l,ue,we).getID()}return ee}static includes(i,l,y,A){var z;const N=l.length,M=A===void 0?0:A<0?Math.max(A+N,0):A;if(M>=N)return!1;if(On.isSupport(y))return Array.from(l).map(ee=>ea(i,ee)).includes(y,M);for(let W=M;W<N;W++)if(((z=l.get(W))==null?void 0:z.getID())===y.getID())return!0;return!1}static indexOf(i,l,y,A){var z;const N=l.length,M=A===void 0?0:A<0?Math.max(A+N,0):A;if(M>=N)return-1;if(On.isSupport(y))return Array.from(l).map(ee=>ea(i,ee)).indexOf(y,M);for(let W=M;W<N;W++)if(((z=l.get(W))==null?void 0:z.getID())===y.getID())return W;return-1}static lastIndexOf(i,l,y,A){var z;const N=l.length,M=A===void 0||A>=N?N-1:A<0?A+N:A;if(M<0)return-1;if(On.isSupport(y))return Array.from(l).map(ee=>ea(i,ee)).lastIndexOf(y,M);for(let W=M;W>0;W--)if(((z=l.get(W))==null?void 0:z.getID())===y.getID())return W;return-1}static toTestString(i){return i.toTestString()}getHandlers(){return this.handlers}}class Of{constructor(i,l){Y(this,"context");Y(this,"text");this.context=i,this.text=l}initialize(i,l){this.context=i,this.text=l}getID(){return this.text.getID()}edit(i,l,y,A){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const N=this.text.indexRangeToPosRange(i,l);Xe.isEnabled(Tr.Debug)&&Xe.debug(`EDIT: f:${i}->${N[0].toTestString()}, t:${l}->${N[1].toTestString()} c:${y}`);const M=A?Va(A):void 0,z=this.context.issueTimeTicket(),[,W,ee,ue]=this.text.edit(N,y,z,M);this.context.acc(ee);for(const we of W)this.context.registerGCPair(we);return this.context.push(new fo(this.text.getCreatedAt(),N[0],N[1],y,M?new Map(Object.entries(M)):new Map,z)),this.text.findIndexesFromRange(ue)}delete(i,l){return this.edit(i,l,"")}empty(){return this.edit(0,this.length,"")}setStyle(i,l,y){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const A=this.text.indexRangeToPosRange(i,l);Xe.isEnabled(Tr.Debug)&&Xe.debug(`STYL: f:${i}->${A[0].toTestString()}, t:${l}->${A[1].toTestString()} a:${JSON.stringify(y)}`);const N=Va(y),M=this.context.issueTimeTicket(),[z,W]=this.text.setStyle(A,N,M);this.context.acc(W);for(const ee of z)this.context.registerGCPair(ee);return this.context.push(new $u(this.text.getCreatedAt(),A[0],A[1],new Map(Object.entries(N)),M)),!0}indexRangeToPosRange(i){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");const l=this.text.indexRangeToPosRange(i[0],i[1]);return[l[0].toStruct(),l[1].toStruct()]}posRangeToIndexRange(i){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");const l=this.text.findIndexesFromRange([tr.fromStruct(i[0]),tr.fromStruct(i[1])]);return[l[0],l[1]]}toTestString(){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(i,l){if(!this.context||!this.text)throw new be(ge.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(i,l)}}class Vm{constructor(i,l){Y(this,"valueType");Y(this,"value");Y(this,"context");Y(this,"counter");this.valueType=i,this.value=l}initialize(i,l){this.valueType=l.getValueType(),this.context=i,this.counter=l,this.value=l.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(i){if(!this.context||!this.counter)throw new be(ge.ErrNotInitialized,"Counter is not initialized yet");const l=this.context.issueTimeTicket(),y=On.of(i,l);if(!y.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof y.getValue()}`);return this.counter.increase(y),this.context.push(yn.create(this.counter.getCreatedAt(),y,l)),this}toJSForTest(){if(!this.context||!this.counter)throw new be(ge.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Gm(f){if(f.isText)return{type:f.type,value:f.value};const i={type:f.type,children:f.children.map(l=>Gm(l))};return f.attrs&&(i.attributes=co(f.attrs.toObject())),i}function QS(f,i){const l={type:f.isText?f.parent.type:f.type,children:f.isText?f.parent.getChildrenText().length===i?[]:[{type:Yi,value:f.parent.getChildrenText().slice(i)}]:f.children.slice(i).map(y=>Gm(y))};return f.attrs?l.attributes=co(f.attrs.toObject()):f.isText&&f.parent.attrs&&(l.attributes=co(f.parent.attrs.toObject())),l}function lx(f,i){const{node:l}=f,y=[...i].slice(0,-1),A=l.isText?l.parent.getChildrenText().length:l.children.length,N=[...y,A],M=[...y],z=[];M[M.length-1]+=1,i.every((ee,ue)=>ee===N[ue])||z.push({fromPath:[...i],toPath:N});const W=QS(l,i[i.length-1]);return W&&z.push({fromPath:M,toPath:M,content:W}),z}function ux(f,i){const{node:l,offset:y}=f,A=l.children[y],N=l.children[y-1],{children:M}=A,z=[...i].slice(0,-1),W=[{fromPath:[...i],toPath:[...z,y+1]}];if(!A.children.length)return W;const ee=[...z,y-1,N.hasTextChild()?N.getChildrenText().length:N.children.length],ue=M.map(we=>Gm(we));return W.push({fromPath:ee,toPath:ee,content:ue}),W}function Qs(f,i,l){const{type:y}=f,A=l.issueTimeTicket();if(y===Yi){$m(f);const{value:N}=f,M=Lr.create(nr.of(A,0),y,N);i.append(M)}else{const{children:N=[]}=f,{attributes:M}=f;let z;if(typeof M=="object"&&!Tm(M)){const ee=Va(M);z=new Pr;for(const[ue,we]of Object.entries(ee))z.set(ue,we,A)}const W=Lr.create(nr.of(A,0),y,void 0,z);i.append(W);for(const ee of N)Qs(ee,W,l)}}function up(f,i){const{type:l}=i,y=f.issueTimeTicket();let A;if(i.type===Yi){const{value:N}=i;A=Lr.create(nr.of(y,0),l,N)}else if(i){const{children:N=[]}=i,{attributes:M}=i;let z;if(typeof M=="object"&&!Tm(M)){const W=Va(M);z=new Pr;for(const[ee,ue]of Object.entries(W))z.set(ee,ue,y)}A=Lr.create(nr.of(f.issueTimeTicket(),0),l,void 0,z);for(const W of N)Qs(W,A,f)}return A}function $m(f){if(!f.value.length)throw new be(ge.ErrInvalidArgument,"text node cannot have empty value");return!0}function Hm(f){if(!f.length)return!0;if(f[0].type===Yi)for(const l of f){const{type:y}=l;if(y!==Yi)throw new be(ge.ErrInvalidArgument,"element node and text node cannot be passed together");$m(l)}else for(const l of f){const{type:y}=l;if(y===Yi)throw new be(ge.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class cp{constructor(i){Y(this,"initialRoot");Y(this,"context");Y(this,"tree");this.initialRoot=i}initialize(i,l){this.context=i,this.tree=l}getID(){return this.tree.getID()}buildRoot(i){if(!this.initialRoot)return Lr.create(nr.of(i.issueTimeTicket(),0),YS);const l=Lr.create(nr.of(i.issueTimeTicket(),0),this.initialRoot.type);for(const y of this.initialRoot.children)Qs(y,l,i);return l}getSize(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new be(ge.ErrInvalidArgument,"path should not be empty");const l=this.tree.pathToTreePos(i),y=lx(l,i);for(const A of y){const{fromPath:N,toPath:M,content:z}=A,W=this.tree.pathToPos(N),ee=this.tree.pathToPos(M);this.editInternal(W,ee,z?[z]:[],0)}}mergeByPath(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new be(ge.ErrInvalidArgument,"path should not be empty");const l=this.tree.pathToTreePos(i);if(l.node.isText)throw new be(ge.ErrInvalidArgument,"text node cannot be merged");const y=ux(l,i);for(const A of y){const{fromPath:N,toPath:M,content:z}=A,W=this.tree.pathToPos(N),ee=this.tree.pathToPos(M);this.editInternal(W,ee,z??[],0)}}styleByPath(i,l){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(!i.length)throw new be(ge.ErrInvalidArgument,"path should not be empty");const[y,A]=this.tree.pathToPosRange(i),N=this.context.issueTimeTicket(),M=l?Va(l):void 0,[z,,W]=this.tree.style([y,A],M,N);this.context.acc(W);for(const ee of z)this.context.registerGCPair(ee);this.context.push(Zo.create(this.tree.getCreatedAt(),y,A,M?new Map(Object.entries(M)):new Map,N))}style(i,l,y){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const A=this.tree.findPos(i),N=this.tree.findPos(l),M=this.context.issueTimeTicket(),z=y?Va(y):void 0,[W,,ee]=this.tree.style([A,N],z,M);this.context.acc(ee);for(const ue of W)this.context.registerGCPair(ue);this.context.push(Zo.create(this.tree.getCreatedAt(),A,N,z?new Map(Object.entries(z)):new Map,M))}removeStyle(i,l,y){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const A=this.tree.findPos(i),N=this.tree.findPos(l),M=this.context.issueTimeTicket(),[z,,W]=this.tree.removeStyle([A,N],y,M);this.context.acc(W);for(const ee of z)this.context.registerGCPair(ee);this.context.push(Zo.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),A,N,y,M))}editInternal(i,l,y,A=0){var ee;if(y.length!==0&&y[0]&&(Hm(y),y[0].type!==Yi))for(const ue of y){const{children:we=[]}=ue;Hm(we)}const N=this.context.getLastTimeTicket();let M=new Array;if(((ee=y[0])==null?void 0:ee.type)===Yi){let ue="";for(const we of y){const{value:ke}=we;ue+=ke}M.push(Lr.create(nr.of(this.context.issueTimeTicket(),0),Yi,ue))}else M=y.map(ue=>ue&&up(this.context,ue)).filter(ue=>ue);const[,z,W]=this.tree.edit([i,l],M.length?M.map(ue=>ue==null?void 0:ue.deepcopy()):void 0,A,N,()=>this.context.issueTimeTicket());this.context.acc(W);for(const ue of z)this.context.registerGCPair(ue);return this.context.push(Ga.create(this.tree.getCreatedAt(),i,l,M.length?M:void 0,A,N)),!0}editByPath(i,l,y,A=0){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i.length!==l.length)throw new be(ge.ErrInvalidArgument,"path length should be equal");if(!i.length||!l.length)throw new be(ge.ErrInvalidArgument,"path should not be empty");const N=this.tree.pathToPos(i),M=this.tree.pathToPos(l);return this.editInternal(N,M,y?[y]:[],A)}editBulkByPath(i,l,y,A=0){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i.length!==l.length)throw new be(ge.ErrInvalidArgument,"path length should be equal");if(!i.length||!l.length)throw new be(ge.ErrInvalidArgument,"path should not be empty");const N=this.tree.pathToPos(i),M=this.tree.pathToPos(l);return this.editInternal(N,M,y,A)}edit(i,l,y,A=0){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const N=this.tree.findPos(i),M=this.tree.findPos(l);return this.editInternal(N,M,y?[y]:[],A)}editBulk(i,l,y,A=0){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");if(i>l)throw new be(ge.ErrInvalidArgument,"from should be less than or equal to to");const N=this.tree.findPos(i),M=this.tree.findPos(l);return this.editInternal(N,M,y,A)}toXML(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(i)}pathToIndex(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(i)}pathRangeToPosRange(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");const l=[this.tree.pathToIndex(i[0]),this.tree.pathToIndex(i[1])],y=this.tree.indexRangeToPosRange(l);return[y[0].toStruct(),y[1].toStruct()]}indexRangeToPosRange(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(i)}posRangeToIndexRange(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");const l=[_i.fromStruct(i[0]),_i.fromStruct(i[1])];return this.tree.posRangeToIndexRange(l)}posRangeToPathRange(i){if(!this.context||!this.tree)throw new be(ge.ErrNotInitialized,"Tree is not initialized yet");const l=[_i.fromStruct(i[0]),_i.fromStruct(i[1])];return this.tree.posRangeToPathRange(l)}}function Wm(f,i){return lp(f,i)}function Di(f,i){if(i){if(i instanceof On)return i;if(i instanceof hr)return lp(f,i);if(i instanceof er)return sx(f,i);if(i instanceof Mr)return new Of(f,i);if(i instanceof cr){const l=new Vm(pi.Int,0);return l.initialize(f,i),l}else if(i instanceof Rr){const l=new cp;return l.initialize(f,i),l}}else return;throw new TypeError(`Unsupported type of element: ${typeof i}`)}function ea(f,i){const l=Di(f,i);return l instanceof On?l.getValue():l}function ta(f,i,l){let y;if(On.isSupport(i))y=On.of(i,l);else if(Array.isArray(i))y=er.create(l,Jt.buildArrayElements(f,i));else if(typeof i=="object")i instanceof Of?(y=Mr.create(Ua.create(),l),i.initialize(f,y)):i instanceof Vm?(y=cr.create(i.getValueType(),i.getValue(),l),i.initialize(f,y)):i instanceof cp?(y=Rr.create(i.buildRoot(f),l),i.initialize(f,y)):y=hr.create(l,bo.buildObjectMembers(f,i));else throw new TypeError(`Unsupported type of value: ${typeof i}`);return y}class ec{constructor(i){Y(this,"rootObject");Y(this,"elementPairMapByCreatedAt");Y(this,"gcElementSetByCreatedAt");Y(this,"gcPairMap");Y(this,"docSize");this.rootObject=i,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(i,void 0),i.getDescendants(l=>{if(l.getRemovedAt()&&this.registerRemovedElement(l),l instanceof Mr||l instanceof Rr)for(const y of l.getGCPairs())this.registerGCPair(y);return!1})}static create(){return new ec(hr.create(za))}findByCreatedAt(i){const l=this.elementPairMapByCreatedAt.get(i.toIDString());if(l)return l.element}findElementPairByCreatedAt(i){return this.elementPairMapByCreatedAt.get(i.toIDString())}createSubPaths(i){let l=this.elementPairMapByCreatedAt.get(i.toIDString());if(!l)return[];const y=[];for(;l.parent;){const A=l.element.getCreatedAt(),N=l.parent.subPathOf(A);if(N===void 0)throw new be(ge.ErrInvalidArgument,`cant find the given element: ${A.toIDString()}`);y.unshift(N),l=this.elementPairMapByCreatedAt.get(l.parent.getCreatedAt().toIDString())}return y.unshift("$"),y}createPath(i){return this.createSubPaths(i).join(".")}registerElement(i,l){this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:l,element:i}),Nn(this.docSize.live,i.getDataSize()),i instanceof Go&&i.getDescendants((y,A)=>(this.elementPairMapByCreatedAt.set(y.getCreatedAt().toIDString(),{parent:A,element:y}),Nn(this.docSize.live,y.getDataSize()),!1))}deregisterElement(i){let l=0;const y=A=>{const N=A.getCreatedAt().toIDString();Dr(this.docSize.gc,A.getDataSize()),this.elementPairMapByCreatedAt.delete(N),this.gcElementSetByCreatedAt.delete(N),l++};return y(i),i instanceof Go&&i.getDescendants(A=>(y(A),!1)),l}registerRemovedElement(i){Nn(this.docSize.gc,i.getDataSize()),Dr(this.docSize.live,i.getDataSize()),this.docSize.live.meta+=Gi,this.gcElementSetByCreatedAt.add(i.getCreatedAt().toIDString())}registerGCPair(i){if(this.gcPairMap.get(i.child.toIDString())){this.gcPairMap.delete(i.child.toIDString());return}this.gcPairMap.set(i.child.toIDString(),i);const y=this.gcPairMap.get(i.child.toIDString()).child.getDataSize();Nn(this.docSize.gc,y),Dr(this.docSize.live,y),i.child instanceof qo||(this.docSize.live.meta+=Gi)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const i=new Set;for(const l of this.gcElementSetByCreatedAt){i.add(l);const y=this.elementPairMapByCreatedAt.get(l);y.element instanceof Go&&y.element.getDescendants(A=>(i.add(A.getCreatedAt().toIDString()),!1))}return i.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new ec(this.rootObject.deepcopy())}garbageCollect(i){let l=0;for(const y of this.gcElementSetByCreatedAt){const A=this.elementPairMapByCreatedAt.get(y),N=A.element.getRemovedAt();N&&(i!=null&&i.afterOrEqual(N))&&(A.parent.purge(A.element),l+=this.deregisterElement(A.element))}for(const[,y]of this.gcPairMap){const A=y.child.getRemovedAt();A&&(i!=null&&i.afterOrEqual(A))&&(y.parent.purge(y.child),Dr(this.docSize.gc,y.child.getDataSize()),this.gcPairMap.delete(y.child.toIDString()),l+=1)}return l}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(i){Nn(this.docSize.live,i)}*getGCElementPairs(){for(const i of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(i);l&&(yield l)}}}let Ym=class{constructor(i,l){Y(this,"context");Y(this,"presence");this.context=i,this.presence=l}set(i,l){for(const y of Object.keys(i))this.presence[y]=i[y];this.context.setPresenceChange({type:Vi.Put,presence:Zr(this.presence)}),this.context.setReversePresence(i,l)}get(i){return this.presence[i]}clear(){this.presence={},this.context.setPresenceChange({type:Vi.Clear})}};const vn=50;class qm{constructor(){Y(this,"undoStack",[]);Y(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(i){this.undoStack.length>=vn&&this.undoStack.shift(),this.undoStack.push(i)}popUndo(){return this.undoStack.pop()}pushRedo(i){this.redoStack.length>=vn&&this.redoStack.shift(),this.redoStack.push(i)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(i,l){const y=A=>{for(const N of A)for(const M of N)(M instanceof Jo||M instanceof hi||M instanceof Ti)&&M.getCreatedAt()===i&&M.setCreatedAt(l),(M instanceof Ri||M instanceof Ti)&&M.getPrevCreatedAt()===i&&M.setPrevCreatedAt(l)};y(this.undoStack),y(this.redoStack)}reconcileTextEdit(i,l,y,A){const N=M=>{for(const z of M)for(const W of z)W instanceof fo&&W.getParentCreatedAt().compare(i)===0&&W.reconcileOperation(l,y,A)};N(this.undoStack),N(this.redoStack)}}function e1(f,i){const l=[];for(const y of i){const A=cx(f,y.path),N=t1(A,y);if(!N.valid)for(const M of N.errors||[])l.push(M)}return{valid:l.length===0,errors:l}}function cx(f,i){if(!i.startsWith("$"))throw new Error(`Path must start with $, got ${i}`);const l=i.split(".");let y=f;for(let A=1;A<l.length;A++){const N=l[A];if(!(y instanceof hr))return;y=y.get(N)}return y}function t1(f,i){switch(i.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return r1(f,i);case"object":if(!(f instanceof hr))return{valid:!1,errors:[{path:i.path,message:`expected object at path ${i.path}`}]};break;case"array":if(!(f instanceof er))return{valid:!1,errors:[{path:i.path,message:`expected array at path ${i.path}`}]};break;case"yorkie.Text":if(!(f instanceof Mr))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Text at path ${i.path}`}]};break;case"yorkie.Tree":if(!(f instanceof Rr))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Tree at path ${i.path}`}]};break;case"yorkie.Counter":if(!(f instanceof cr))return{valid:!1,errors:[{path:i.path,message:`expected yorkie.Counter at path ${i.path}`}]};break;default:throw new Error(`Unknown rule type: ${i.type}`)}return{valid:!0}}function n1(f){switch(f){case"null":return gn.Null;case"boolean":return gn.Boolean;case"integer":return gn.Integer;case"long":return gn.Long;case"double":return gn.Double;case"string":return gn.String;case"bytes":return gn.Bytes;case"date":return gn.Date;default:throw new Error(`Unknown primitive type: ${f}`)}}function r1(f,i){return f instanceof On&&f.getType()===n1(i.type)?{valid:!0}:{valid:!1,errors:[{path:i.path,message:`expected ${i.type} at path ${i.path}`}]}}const fp="yorkie-devtools-panel",tc="yorkie-devtools-sdk";function Km(f){return[or.StatusChanged,or.Snapshot,or.LocalChange,or.RemoteChange,or.Initialized,or.Watched,or.Unwatched,or.PresenceChanged].includes(f.type)}function dp(f){return f.every(Km)}let na="disconnected";const ra=new Map,gi=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=gi);function ia(f,i){(i!=null&&i.force||na!=="disconnected")&&window.postMessage({source:tc,...f},"*")}function i1(f){if(!f.isEnableDevtools()||typeof window>"u"||ra.has(f.getKey()))return;gi.set(f.getKey(),[]);const i=f.subscribe("all",l=>{dp(l)&&(gi.get(f.getKey()).push(l),na==="synced"&&ia({msg:"doc::sync::partial",docKey:f.getKey(),event:l}))});ra.set(f.getKey(),[i]),ia({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",l=>{var A;if(((A=l.data)==null?void 0:A.source)!==fp)return;switch(l.data.msg){case"devtools::connect":if(na!=="disconnected")break;na="connected",ia({msg:"doc::available",docKey:f.getKey()}),Xe.info(`[YD] Devtools connected. Doc: ${f.getKey()}`);break;case"devtools::disconnect":na="disconnected",Xe.info(`[YD] Devtools disconnected. Doc: ${f.getKey()}`);break;case"devtools::subscribe":na="synced",ia({msg:"doc::sync::full",docKey:f.getKey(),events:gi.get(f.getKey())}),Xe.info(`[YD] Devtools subscribed. Doc: ${f.getKey()}`);break}})}var os=(f=>(f.Detached="detached",f.Attached="attached",f.Removed="removed",f))(os||{}),or=(f=>(f.StatusChanged="status-changed",f.ConnectionChanged="connection-changed",f.SyncStatusChanged="sync-status-changed",f.Snapshot="snapshot",f.LocalChange="local-change",f.RemoteChange="remote-change",f.Initialized="initialized",f.Watched="watched",f.Unwatched="unwatched",f.PresenceChanged="presence-changed",f.AuthError="auth-error",f))(or||{}),Xa=(f=>(f.Connected="connected",f.Disconnected="disconnected",f))(Xa||{}),hp=(f=>(f.Synced="synced",f.SyncFailed="sync-failed",f))(hp||{});class oa{constructor(i,l){Y(this,"key");Y(this,"status");Y(this,"opts");Y(this,"maxSizeLimit");Y(this,"schemaRules");Y(this,"changeID");Y(this,"checkpoint");Y(this,"localChanges");Y(this,"root");Y(this,"presences");Y(this,"clone");Y(this,"internalHistory");Y(this,"isUpdating");Y(this,"onlineClients");Y(this,"eventStream");Y(this,"eventStreamObserver");Y(this,"history");this.key=i,this.status="detached",this.opts=l||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=Ko,this.checkpoint=Xo,this.localChanges=[],this.root=ec.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new qm,this.isUpdating=!1,this.eventStream=is(y=>this.eventStreamObserver=y),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},i1(this)}update(i,l){var z,W,ee;if(this.getStatus()==="removed")throw new be(ge.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const y=this.changeID.getActorID(),A=Js.create(this.changeID,this.clone.root,this.clone.presences.get(y)||{},l);try{const ue=Wm(A,this.clone.root.getObject());this.presences.has(y)||this.clone.presences.set(y,{}),this.isUpdating=!0,i(ue,new Ym(A,this.clone.presences.get(y)))}catch(ue){throw this.clone=void 0,ue}finally{this.isUpdating=!1}const N=this.getSchemaRules();if(!A.isPresenceOnlyChange()&&N.length){const ue=e1((z=this.clone)==null?void 0:z.root.getObject(),N);if(!ue.valid)throw this.clone=void 0,new be(ge.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(W=ue.errors)==null?void 0:W.map(we=>we.message).join(", ")}`)}const M=$s((ee=this.clone)==null?void 0:ee.root.getDocSize());if(!A.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<M)throw this.clone=void 0,new be(ge.ErrDocumentSizeExceedsLimit,`document size exceeded: ${M} > ${this.maxSizeLimit}`);if(A.hasChange()){Xe.isEnabled(Tr.Trivial)&&Xe.trivial(`trying to update a local change: ${this.toJSON()}`);const ue=A.toChange(),{opInfos:we,reverseOps:ke}=ue.execute(this.root,this.presences,En.Local);for(const He of ue.getOperations())He instanceof Jo&&this.internalHistory.reconcileCreatedAt(He.getCreatedAt(),He.getValue().getCreatedAt());const Re=A.getReversePresence();Re&&ke.push({type:"presence",value:Re}),this.localChanges.push(ue),ke.length&&this.internalHistory.pushUndo(ke),we.length&&this.internalHistory.clearRedo(),this.changeID=A.getNextID();const We=[];we.length&&We.push({type:"local-change",source:En.Local,value:{message:ue.getMessage()||"",operations:we,actor:y,clientSeq:ue.getID().getClientSeq(),serverSeq:ue.getID().getServerSeq()},rawChange:this.isEnableDevtools()?ue.toStruct():void 0}),ue.hasPresenceChange()&&We.push({type:"presence-changed",source:En.Local,value:{clientID:y,presence:this.getPresence(y)}}),this.publish(We),Xe.isEnabled(Tr.Trivial)&&Xe.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(i,l,y,A){if(typeof i=="string"){if(typeof l!="function")throw new be(ge.ErrInvalidArgument,"Second argument must be a callback function");if(i==="presence"){const z=l;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type!=="initialized"&&ee.type!=="watched"&&ee.type!=="unwatched"&&ee.type!=="presence-changed"||z(ee)},y,A)}if(i==="my-presence"){const z=l;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type!=="initialized"&&ee.type!=="presence-changed"||ee.type==="presence-changed"&&ee.value.clientID!==this.changeID.getActorID()||z(ee)},y,A)}if(i==="others"){const z=l;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type!=="watched"&&ee.type!=="unwatched"&&ee.type!=="presence-changed"||ee.value.clientID!==this.changeID.getActorID()&&z(ee)},y,A)}if(i==="connection"){const z=l;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type==="connection-changed"&&z(ee)},y,A)}if(i==="status"){const z=l;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type==="status-changed"&&z(ee)},y,A)}if(i==="sync"){const z=l;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type==="sync-status-changed"&&z(ee)},y,A)}if(i==="auth-error"){const z=l;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type==="auth-error"&&z(ee)},y)}if(i==="all"){const z=l;return this.eventStream.subscribe(z,y,A)}const N=i,M=l;return this.eventStream.subscribe(z=>{for(const W of z){if(W.type!=="local-change"&&W.type!=="remote-change")continue;const ee=[];for(const ue of W.value.operations)this.isSameElementOrChildOf(ue.path,N)&&ee.push(ue);ee.length&&M({...W,value:{...W.value,operations:ee}})}},y,A)}if(typeof i=="function"){const N=i,M=l,z=y;return this.eventStream.subscribe(W=>{for(const ee of W)ee.type!=="snapshot"&&ee.type!=="local-change"&&ee.type!=="remote-change"||N(ee)},M,z)}throw new be(ge.ErrInvalidArgument,`"${i}" is not a valid`)}publish(i){this.eventStreamObserver&&this.eventStreamObserver.next(i)}applyChangePack(i){i.hasSnapshot()?this.applySnapshot(i.getCheckpoint().getServerSeq(),i.getVersionVector(),i.getSnapshot(),i.getCheckpoint().getClientSeq()):(this.applyChanges(i.getChanges(),En.Remote),this.removePushedLocalChanges(i.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(i.getCheckpoint()),i.hasSnapshot()||this.garbageCollect(i.getVersionVector()),i.getIsRemoved()&&this.applyStatus("removed"),Xe.isEnabled(Tr.Trivial)&&Xe.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Zr(this.presences)})}createChangePack(){const i=Array.from(this.localChanges),l=this.checkpoint.increaseClientSeq(i.length);return Qh.create(this.key,l,!1,i,this.getVersionVector())}setActor(i){for(const l of this.localChanges)l.setActor(i);this.changeID=this.changeID.setActor(i)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const i=Js.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return Wm(i,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(i){this.maxSizeLimit=i}getSchemaRules(){return this.schemaRules}setSchemaRules(i){this.schemaRules=i}garbageCollect(i){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(i),this.root.garbageCollect(i))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(i,l,y,A=-1){const{root:N,presences:M}=fn.bytesToSnapshot(y);this.root=new ec(N),this.presences=M,this.changeID=this.changeID.setClocks(l.maxLamport(),l),this.clone=void 0,this.removePushedLocalChanges(A),this.applyChanges(this.localChanges,En.Local),this.clearHistory(),this.publish([{type:"snapshot",source:En.Remote,value:{serverSeq:i.toString(),snapshot:this.isEnableDevtools()?fn.bytesToHex(y):void 0,snapshotVector:fn.versionVectorToHex(l)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(i,l){Xe.isEnabled(Tr.Debug)&&Xe.debug(`trying to apply ${i.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),Xe.isEnabled(Tr.Trivial)&&Xe.trivial(i.map(y=>`${y.getID().toTestString()}	${y.toTestString()}`).join(`
`));for(const y of i)this.applyChange(y,l);Xe.isEnabled(Tr.Debug)&&Xe.debug(`after appling ${i.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(i,l){var z;this.ensureClone(),i.execute(this.clone.root,this.clone.presences,l);const y=[],A=i.getID().getActorID();if(i.hasPresenceChange()&&this.onlineClients.has(A)){const W=i.getPresenceChange();switch(W.type){case Vi.Put:y.push(this.presences.has(A)?{type:"presence-changed",source:l,value:{clientID:A,presence:W.presence}}:{type:"watched",source:En.Remote,value:{clientID:A,presence:W.presence}});break;case Vi.Clear:y.push({type:"unwatched",source:En.Remote,value:{clientID:A,presence:this.getPresence(A)}}),this.removeOnlineClient(A);break}}const{opInfos:N,operations:M}=i.execute(this.root,this.presences,l);for(const W of M)if(W instanceof fo){const[ee,ue]=W.normalizePos(this.root);this.internalHistory.reconcileTextEdit(W.getParentCreatedAt(),ee,ue,((z=W.getContent())==null?void 0:z.length)??0)}if(this.changeID=this.changeID.syncClocks(i.getID()),N.length){const W=this.isEnableDevtools()?i.toStruct():void 0;y.push(l===En.Remote?{type:"remote-change",source:l,value:{actor:A,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq(),message:i.getMessage()||"",operations:N},rawChange:W}:{type:"local-change",source:l,value:{actor:A,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq(),message:i.getMessage()||"",operations:N},rawChange:W})}y.length&&this.publish(y)}applyWatchStream(i){if(i.body.case==="initialization"){const l=i.body.value.clientIds,y=new Set;for(const A of l)A!==this.changeID.getActorID()&&y.add(A);this.setOnlineClients(y),this.publish([{type:"initialized",source:En.Local,value:this.getPresences()}]);return}if(i.body.case==="event"){const{type:l,publisher:y}=i.body.value,A=[];if(l===Cf.DOCUMENT_WATCHED){if(this.onlineClients.has(y)&&this.hasPresence(y))return;this.addOnlineClient(y),this.hasPresence(y)&&A.push({type:"watched",source:En.Remote,value:{clientID:y,presence:this.getPresence(y)}})}else if(l===Cf.DOCUMENT_UNWATCHED){const N=this.getPresence(y);this.removeOnlineClient(y),N&&A.push({type:"unwatched",source:En.Remote,value:{clientID:y,presence:N}})}A.length&&this.publish(A)}}applyStatus(i){this.status=i,i==="detached"&&this.setActor(Gh),this.publish([{source:i==="removed"?En.Remote:En.Local,type:"status-changed",value:i==="attached"?{status:i,actorID:this.changeID.getActorID()}:{status:i}}])}applyDocEventsForReplay(i){for(const l of i){if(l.type==="status-changed"){this.applyStatus(l.value.status),l.value.status==="attached"&&this.setActor(l.value.actorID);continue}if(l.type==="snapshot"){const{snapshot:y,serverSeq:A,snapshotVector:N}=l.value;if(!y)continue;this.applySnapshot(BigInt(A),fn.hexToVersionVector(N),fn.hexToBytes(y));continue}if(l.type==="local-change"||l.type==="remote-change"){if(!l.rawChange)continue;const y=Ws.fromStruct(l.rawChange);this.applyChange(y,l.source)}if(l.type==="initialized"){const y=new Set;for(const{clientID:A,presence:N}of l.value)y.add(A),this.presences.set(A,N);this.setOnlineClients(y)}else if(l.type==="watched"){const{clientID:y,presence:A}=l.value;this.addOnlineClient(y),this.presences.set(y,A)}else if(l.type==="unwatched"){const{clientID:y}=l.value;this.removeOnlineClient(y),this.presences.delete(y)}else if(l.type==="presence-changed"){const{clientID:y,presence:A}=l.value;this.presences.set(y,A)}}}getValueByPath(i){if(!i.startsWith("$"))throw new be(ge.ErrInvalidArgument,'path must start with "$"');const l=i.split(".");l.shift();let y=this.getRoot();for(const A of l)if(y=y[A],!y)return;return y}setOnlineClients(i){this.onlineClients=i}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(i){this.onlineClients.add(i)}removeOnlineClient(i){this.onlineClients.delete(i)}hasPresence(i){return this.presences.has(i)}getMyPresence(){if(this.status!=="attached")return{};const i=this.presences.get(this.changeID.getActorID());return i?Zr(i):{}}getOthersPresences(){const i=[],l=this.changeID.getActorID();for(const y of this.onlineClients)y!==l&&this.presences.has(y)&&i.push({clientID:y,presence:Zr(this.presences.get(y))});return i}getPresence(i){if(i===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(i))return;const l=this.presences.get(i);return l?Zr(l):void 0}getPresences(){const i=[];i.push({clientID:this.changeID.getActorID(),presence:Zr(this.getMyPresence())});for(const l of this.onlineClients)this.presences.has(l)&&i.push({clientID:l,presence:Zr(this.presences.get(l))});return i}getPresenceForTest(i){const l=this.presences.get(i);return l?Zr(l):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const i=this.getChangeID().getActorID();return this.getPresences().filter(l=>l.clientID!==i).sort((l,y)=>l.clientID>y.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(i,l){if(l===i)return!0;const y=i.split(".");return l.split(".").every((A,N)=>A===y[N])}removePushedLocalChanges(i){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>i);)this.localChanges.shift()}executeUndoRedo(i){if(this.isUpdating)throw new be(ge.ErrRefused,`${i?"Undo":"Redo"} is not allowed during an update`);const l=i?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!l)throw new be(ge.ErrRefused,`There is no operation to be ${i?"undone":"redone"}`);this.ensureClone();const y=Js.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const ue of l){if(!(ue instanceof Or)){new Ym(y,Zr(this.clone.presences.get(this.changeID.getActorID()))).set(ue.value,{addToHistory:!0});continue}const we=y.issueTimeTicket();if(ue.setExecutedAt(we),ue instanceof Jo){const ke=ue.getCreatedAt();ue.getValue().setCreatedAt(we),this.internalHistory.reconcileCreatedAt(ke,we)}else if(ue instanceof Ri){const ke=ue.getValue().getCreatedAt();ue.getValue().setCreatedAt(we),this.internalHistory.reconcileCreatedAt(ke,we)}y.push(ue)}const A=y.toChange();A.execute(this.clone.root,this.clone.presences,En.UndoRedo);const{opInfos:N,reverseOps:M}=A.execute(this.root,this.presences,En.UndoRedo),z=y.getReversePresence();if(z&&M.push({type:"presence",value:z}),M.length&&(i?this.internalHistory.pushRedo(M):this.internalHistory.pushUndo(M)),!A.hasPresenceChange()&&!N.length)return;this.localChanges.push(A),this.changeID=y.getNextID();const W=this.changeID.getActorID(),ee=[];N.length&&ee.push({type:"local-change",source:En.UndoRedo,value:{message:A.getMessage()||"",operations:N,actor:W,clientSeq:A.getID().getClientSeq(),serverSeq:A.getID().getServerSeq()},rawChange:this.isEnableDevtools()?A.toStruct():void 0}),A.hasPresenceChange()&&ee.push({type:"presence-changed",source:En.UndoRedo,value:{clientID:W,presence:this.getPresence(W)}}),this.publish(ee)}}class pp{constructor(i,l,y,A){Y(this,"resource");Y(this,"resourceID");Y(this,"syncMode");Y(this,"changeEventReceived");Y(this,"lastHeartbeatTime");Y(this,"reconnectStreamDelay");Y(this,"cancelled");Y(this,"watchStream");Y(this,"watchLoopTimerID");Y(this,"watchAbortController");this.reconnectStreamDelay=i,this.resource=l,this.resourceID=y,this.syncMode=A,this.changeEventReceived=A!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(i){this.syncMode=i}needRealtimeSync(){return this.syncMode===Mt.RealtimeSyncOff?!1:this.syncMode===Mt.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Mt.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(i){return this.resource instanceof oa?this.needRealtimeSync():this.syncMode===Mt.Manual?!1:Date.now()-this.lastHeartbeatTime>=i}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(i){const l=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await i(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(l,this.reconnectStreamDelay))})}catch{}};await l()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function fx(f,i){let l=i;return{authInterceptor:N=>async M=>(f&&M.header.set("x-api-key",f),l&&M.header.set("authorization",l),await N(M)),setToken:N=>{l=N}}}const gp={name:"@yorkie-js/sdk",version:"0.6.47"};function Xm(f){return i=>async l=>(f?l.header.set("x-yorkie-user-agent",f):l.header.set("x-yorkie-user-agent",gp.name+"/"+gp.version),await i(l))}const s1=f=>{try{if(JSON.stringify(f)===void 0)return!1}catch{return!1}return!0};var Df=(f=>(f.Detached="detached",f.Attached="attached",f.Removed="removed",f))(Df||{}),So=(f=>(f.PresenceChanged="presence-changed",f.Initialized="initialized",f.Broadcast="broadcast",f.LocalBroadcast="local-broadcast",f.AuthError="auth-error",f))(So||{});const Pf=".";class Ao{constructor(i){Y(this,"key");Y(this,"status");Y(this,"actorID");Y(this,"sessionID");Y(this,"sessionCount");Y(this,"seq");Y(this,"eventStream");Y(this,"eventStreamObserver");this.validateChannelKey(i),this.key=i,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=is(l=>this.eventStreamObserver=l)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Pf)[0]}getStatus(){return this.status}applyStatus(i){this.status=i}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(i){this.actorID=i}getSessionID(){return this.sessionID}setSessionID(i){this.sessionID=i}getSessionCount(){return this.sessionCount}updateSessionCount(i,l){return l===0||l>this.seq?(this.sessionCount=i,this.seq=l,!0):!1}hasLocalChanges(){return!1}subscribe(i,l){if(typeof i=="function")return this.eventStream.subscribe(i);const y=i,A=l;if(!A)throw new Error("callback is required when subscribing to specific event type or topic");if(y==="broadcast")return this.eventStream.subscribe(M=>{M.type==="broadcast"&&A(M)});if(y==="local-broadcast")return this.eventStream.subscribe(M=>{M.type==="local-broadcast"&&A(M)});if(y==="auth-error")return this.eventStream.subscribe(M=>{M.type==="auth-error"&&A(M)});if(y==="presence")return this.eventStream.subscribe(M=>{(M.type==="presence-changed"||M.type==="initialized")&&A(M)});if(y==="all")return this.eventStream.subscribe(A);const N=y;return this.eventStream.subscribe(M=>{M.type==="broadcast"&&M.topic===N&&A(M)})}publish(i){this.eventStreamObserver&&this.eventStreamObserver.next(i)}broadcast(i,l,y){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:i,payload:l,options:y})}validateChannelKey(i){if(i==="")throw new Error("channel key must not be empty");if(i.includes(" "))throw new Error("channel key must not contain a whitespace");if(i.startsWith(Pf))throw new Error("channel key must not start with a period");if(i.endsWith(Pf))throw new Error("channel key must not end with a period");if(i.includes(`${Pf}${Pf}`))throw new Error("channel key path must not empty")}}var Mt=(f=>(f.Manual="manual",f.Realtime="realtime",f.RealtimePushOnly="realtime-pushonly",f.RealtimeSyncOff="realtime-syncoff",f))(Mt||{});const sa={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},nc={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class mp{constructor(i){Y(this,"id");Y(this,"key");Y(this,"metadata");Y(this,"status");Y(this,"attachmentMap");Y(this,"apiKey");Y(this,"authTokenInjector");Y(this,"conditions");Y(this,"syncLoopDuration");Y(this,"reconnectStreamDelay");Y(this,"retrySyncLoopDelay");Y(this,"channelHeartbeatInterval");Y(this,"rpcClient");Y(this,"setAuthToken");Y(this,"taskQueue");Y(this,"processing",!1);Y(this,"keepalive",!1);i=i||sa;const l=i.rpcAddr||sa.rpcAddr;this.key=i.key||zm(),this.metadata=i.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=i.apiKey||"",this.authTokenInjector=i.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=i.syncLoopDuration??sa.syncLoopDuration,this.reconnectStreamDelay=i.reconnectStreamDelay??sa.reconnectStreamDelay,this.retrySyncLoopDelay=i.retrySyncLoopDelay??sa.retrySyncLoopDelay,this.channelHeartbeatInterval=i.channelHeartbeatInterval??sa.channelHeartbeatInterval;const{authInterceptor:y,setToken:A}=fx(this.apiKey);this.setAuthToken=A,this.rpcClient=ka(jv,om({baseUrl:l,interceptors:[y,Xm(i==null?void 0:i.userAgent)],fetch:(N,M)=>fetch(N,{...M,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const i=await this.authTokenInjector();this.setAuthToken(i)}return this.enqueueTask(async()=>{try{const i=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=i.clientId,this.status="activated",this.runSyncLoop(),Xe.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(i){throw Xe.error(`[AC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}})}deactivate(i={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const l=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:i.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),Xe.info(`[DC] c"${this.getKey()}" deactivated`)}catch(y){throw Xe.error(`[DC] c:"${this.getKey()}" err :`,y),await this.handleConnectError(y),y}};if(i.keepalive){this.keepalive=!0;const y=l();return this.keepalive=!1,y}return this.enqueueTask(l)}has(i){return this.attachmentMap.has(i)}attach(i,l){return i instanceof Ao?this.attachChannel(i,l):this.attachDocument(i,l)}attachDocument(i,l={}){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);if(i.getStatus()!==os.Detached)throw new be(ge.ErrNotDetached,`${i.getKey()} is not detached`);i.setActor(this.id),i.update((A,N)=>N.set(l.initialPresence||{}));const y=l.syncMode??"realtime";return this.enqueueTask(async()=>{try{const A=await this.rpcClient.attachDocument({clientId:this.id,changePack:fn.toChangePack(i.createChangePack()),schemaKey:l.schema},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});(A.maxSizePerDocument??0)>0&&i.setMaxSizePerDocument(A.maxSizePerDocument),A.schemaRules.length>0&&i.setSchemaRules(fn.fromSchemaRules(A.schemaRules));const M=fn.fromChangePack(A.changePack);if(i.applyChangePack(M),i.getStatus()===os.Removed)return i;i.applyStatus(os.Attached),this.attachmentMap.set(i.getKey(),new pp(this.reconnectStreamDelay,i,A.documentId,y)),y!=="manual"&&await this.runWatchLoop(i.getKey()),Xe.info(`[AD] c:"${this.getKey()}" attaches d:"${i.getKey()}"`);const z=i.getRootObject();if(l.initialRoot){const W=l.initialRoot;i.update(ee=>{for(const[ue,we]of Object.entries(W))if(!z.has(ue)){const ke=ue;ee[ke]=we}})}return i}catch(A){throw Xe.error(`[AD] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}})}detach(i,l){return i instanceof Ao?this.detachChannel(i):this.detachDocument(i,l)}detachDocument(i,l={keepalive:!1}){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const y=this.attachmentMap.get(i.getKey());if(!y)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);i.update((N,M)=>M.clear());const A=async()=>{try{const N=await this.rpcClient.detachDocument({clientId:this.id,documentId:y.resourceID,changePack:fn.toChangePack(i.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),M=fn.fromChangePack(N.changePack);return i.applyChangePack(M),i.getStatus()!==os.Removed&&i.applyStatus(os.Detached),this.detachInternal(i.getKey()),Xe.info(`[DD] c:"${this.getKey()}" detaches d:"${i.getKey()}"`),i}catch(N){throw Xe.error(`[DD] c:"${this.getKey()}" err :`,N),await this.handleConnectError(N),N}};if(l.keepalive){this.keepalive=!0;const N=A();return this.keepalive=!1,N}return this.enqueueTask(A)}async attachChannel(i,l={}){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);if(i.getStatus()!==Df.Detached)throw new be(ge.ErrNotDetached,`${i.getKey()} is not detached`);i.setActor(this.id);const y=async()=>{try{const A=await this.rpcClient.attachChannel({clientId:this.id,channelKey:i.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});i.setSessionID(A.sessionId),i.updateSessionCount(Number(A.sessionCount),0),i.applyStatus(Df.Attached);const N=l.isRealtime!==!1?"realtime":"manual",M=new pp(this.reconnectStreamDelay,i,A.sessionId,N);return i.subscribe("local-broadcast",z=>{const{topic:W,payload:ee,options:ue}=z;this.broadcast(i.getKey(),W,ee,ue).catch(we=>{ue!=null&&ue.error&&ue.error(we),Xe.error(`[BC] c:"${this.getKey()}" failed: ${we}`)})}),this.attachmentMap.set(i.getKey(),M),N==="realtime"&&await this.runWatchLoop(i.getKey()),Xe.info(`[AP] c:"${this.getKey()}" attaches p:"${i.getKey()}" mode:${N} count:${i.getSessionCount()}`),i}catch(A){throw Xe.error(`[AP] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}};return this.enqueueTask(y)}async detachChannel(i){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(i.getKey()))throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const l=async()=>{try{const y=await this.rpcClient.detachChannel({clientId:this.id,channelKey:i.getKey(),sessionId:i.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});return i.updateSessionCount(Number(y.sessionCount),0),i.applyStatus(Df.Detached),this.detachInternal(i.getKey()),Xe.info(`[DP] c:"${this.getKey()}" detaches p:"${i.getKey()}" count:${i.getSessionCount()}`),i}catch(y){throw Xe.error(`[DP] c:"${this.getKey()}" err :`,y),await this.handleConnectError(y),y}};return this.enqueueTask(l)}async changeSyncMode(i,l){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const y=this.attachmentMap.get(i.getKey());if(!y)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const A=y.syncMode;return A===l?i:(y.changeSyncMode(l),l==="manual"?(y.cancelWatchStream(),i):(l==="realtime"&&(y.changeEventReceived=!0),A==="manual"&&await this.runWatchLoop(i.getKey()),i))}sync(i){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);if(i instanceof Ao){const l=this.attachmentMap.get(i.getKey());if(!l)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(l).catch(async y=>{throw Xe.error(`[SY] c:"${this.getKey()}" err :`,y),await this.handleConnectError(y),y}))}if(i instanceof oa){const l=this.attachmentMap.get(i.getKey());if(!l)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(l,"realtime").catch(async y=>{throw Xe.error(`[SY] c:"${this.getKey()}" err :`,y),await this.handleConnectError(y),y}))}return this.enqueueTask(async()=>{const l=[];for(const[,y]of this.attachmentMap)y.syncMode!==void 0&&y.resource instanceof oa&&l.push(this.syncInternal(y,y.syncMode));return Promise.all(l).catch(async y=>{throw Xe.error(`[SY] c:"${this.getKey()}" err :`,y),await this.handleConnectError(y),y})})}remove(i){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const l=this.attachmentMap.get(i.getKey());if(!l)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);i.setActor(this.id);const y=fn.toChangePack(i.createChangePack());return y.isRemoved=!0,this.enqueueTask(async()=>{try{const A=await this.rpcClient.removeDocument({clientId:this.id,documentId:l.resourceID,changePack:y},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),N=fn.fromChangePack(A.changePack);i.applyChangePack(N),this.detachInternal(i.getKey()),Xe.info(`[RD] c:"${this.getKey()}" removes d:"${i.getKey()}"`)}catch(A){throw Xe.error(`[RD] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(i){return this.conditions[i]}async createRevision(i,l,y){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const A=this.attachmentMap.get(i.getKey());if(!A)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const N=async()=>{try{const M=await this.rpcClient.createRevision({clientId:this.id,documentId:A.resourceID,label:l,description:y||""},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});if(!M.revision)throw new be(ge.ErrInvalidArgument,"revision is not returned");return Xe.info(`[CR] c:"${this.getKey()}" creates revision d:"${i.getKey()}" l:"${l}"`),fn.toRevisionSummary(M.revision)}catch(M){throw Xe.error(`[CR] c:"${this.getKey()}" err :`,M),await this.handleConnectError(M),M}};return this.enqueueTask(N)}async listRevisions(i,l){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const y=this.attachmentMap.get(i.getKey());if(!y)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const A=async()=>{try{const N=await this.rpcClient.listRevisions({clientId:this.id,documentId:y.resourceID,pageSize:(l==null?void 0:l.pageSize)||10,offset:(l==null?void 0:l.offset)||0,isForward:(l==null?void 0:l.isForward)??!1},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});return Xe.info(`[LR] c:"${this.getKey()}" lists revisions d:"${i.getKey()}" count:${N.revisions.length}`),N.revisions.map(fn.toRevisionSummary)}catch(N){throw Xe.error(`[LR] c:"${this.getKey()}" err :`,N),await this.handleConnectError(N),N}};return this.enqueueTask(A)}async getRevision(i,l){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const y=this.attachmentMap.get(i.getKey());if(!y)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const A=async()=>{try{const N=await this.rpcClient.getRevision({clientId:this.id,documentId:y.resourceID,revisionId:l},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});if(!N.revision)throw new be(ge.ErrInvalidArgument,"revision is not returned");return Xe.info(`[GR] c:"${this.getKey()}" gets revision d:"${i.getKey()}" r:"${l}"`),fn.toRevisionSummary(N.revision)}catch(N){throw Xe.error(`[GR] c:"${this.getKey()}" err :`,N),await this.handleConnectError(N),N}};return this.enqueueTask(A)}async restoreRevision(i,l){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const y=this.attachmentMap.get(i.getKey());if(!y)throw new be(ge.ErrNotAttached,`${i.getKey()} is not attached`);const A=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:y.resourceID,revisionId:l},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),Xe.info(`[RR] c:"${this.getKey()}" restores revision d:"${i.getKey()}" r:"${l}"`)}catch(N){throw Xe.error(`[RR] c:"${this.getKey()}" err :`,N),await this.handleConnectError(N),N}};return this.enqueueTask(A)}async broadcast(i,l,y,A){if(!this.isActive())throw new be(ge.ErrClientNotActivated,`${this.key} is not active`);const N=this.attachmentMap.get(i);if(!N)throw new be(ge.ErrNotAttached,`${i} is not attached`);if(!s1(y))throw new be(ge.ErrInvalidArgument,"payload is not serializable");const M=N.resource,z=(A==null?void 0:A.maxRetries)??nc.maxRetries,W=nc.maxBackoff;let ee=0;const ue=ke=>Math.min(nc.initialRetryInterval*2**ke,W),we=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:i,topic:l,payload:new TextEncoder().encode(JSON.stringify(y))},{headers:{"x-shard-key":`${this.apiKey}/${M.getFirstKeyPath()}`}}),Xe.info(`[BC] c:"${this.getKey()}" broadcasts p:"${i}" t:"${l}"`)}catch(ke){if(Xe.error(`[BC] c:"${this.getKey()}" err:`,ke),await this.handleConnectError(ke))if(po(ke,ge.ErrUnauthenticated)&&N.resource instanceof Ao&&N.resource.publish({type:So.AuthError,reason:yr(ke).reason||"unauthenticated",method:"Broadcast"}),ee<z)ee++,setTimeout(()=>we(),ue(ee-1)),Xe.info(`[BC] c:"${this.getKey()}" retry attempt ${ee}/${z}`);else throw Xe.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),ke}});return we()}runSyncLoop(){const i=async()=>{if(!this.isActive()){Xe.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const l=[];for(const[,y]of this.attachmentMap)y.needSync(this.channelHeartbeatInterval)&&(y.changeEventReceived!==void 0&&(y.changeEventReceived=!1),l.push(this.syncInternal(y,y.syncMode).catch(A=>{throw po(A,ge.ErrUnauthenticated)&&y.resource.publish([{type:or.AuthError,value:{reason:yr(A).reason,method:"PushPull"}}]),A})));await Promise.all(l),setTimeout(i,this.syncLoopDuration)})}catch(l){Xe.error(`[SL] c:"${this.getKey()}" sync failed:`,l),await this.handleConnectError(l)?setTimeout(i,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};Xe.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,i()}async runWatchLoop(i){const l=this.attachmentMap.get(i);if(!l)throw new be(ge.ErrNotAttached,`${i} is not attached`);return this.conditions.WatchLoop=!0,l.runWatchLoop(y=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new be(ge.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(i))return this.conditions.WatchLoop=!1,Promise.reject(new be(ge.ErrNotAttached,`${i} is not attached`));const A=new AbortController;return l.resource instanceof oa?this.createDocumentWatchStream(l,i,A,y):l.resource instanceof Ao?this.createChannelWatchStream(l,i,A,y):Promise.reject(new be(ge.ErrClientNotActivated,`Unknown resource type for ${i}`))})}createDocumentWatchStream(i,l,y,A){const N=this.rpcClient.watchDocument({clientId:this.id,documentId:i.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${l}`},signal:y.signal});return i.resource.publish([{type:or.ConnectionChanged,value:Xa.Connected}]),Xe.info(`[WD] c:"${this.getKey()}" watches d:"${l}"`),i.changeEventReceived!==void 0&&(i.changeEventReceived=!0),new Promise((M,z)=>{(async()=>{try{for await(const ee of N)this.handleWatchDocumentResponse(i,ee),ee.body.case==="initialization"&&M([N,y]);i.resource.resetOnlineClients(),i.resource.publish([{type:or.Initialized,source:En.Local,value:i.resource.getPresences()}]),i.resource.publish([{type:or.ConnectionChanged,value:Xa.Disconnected}]),Xe.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),A()}catch(ee){i.resource.resetOnlineClients(),i.resource.publish([{type:or.Initialized,source:En.Local,value:i.resource.getPresences()}]),i.resource.publish([{type:or.ConnectionChanged,value:Xa.Disconnected}]),Xe.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(ee)?(po(ee,ge.ErrUnauthenticated)&&i.resource.publish([{type:or.AuthError,value:{reason:yr(ee).reason,method:"WatchDocument"}}]),A()):this.conditions.WatchLoop=!1,z(ee)}})()})}createChannelWatchStream(i,l,y,A){const N=this.rpcClient.watchChannel({clientId:this.id,channelKey:l},{headers:{"x-shard-key":`${this.apiKey}/${i.resource.getFirstKeyPath()}`},signal:y.signal});return Xe.info(`[WP] c:"${this.getKey()}" watches p:"${l}"`),new Promise((M,z)=>{(async()=>{try{let ee=!0;for await(const ue of N)this.handleWatchChannelResponse(i,ue),ee&&(ee=!1,M([N,y]));Xe.debug(`[WP] c:"${this.getKey()}" p:"${l}" stream ended`),A()}catch(ee){if(ee instanceof Error&&ee.name==="AbortError"){Xe.debug(`[WP] c:"${this.getKey()}" p:"${l}" stream aborted`);return}Xe.debug(`[WP] c:"${this.getKey()}" p:"${l}" err:`,ee),await this.handleConnectError(ee)?A():this.conditions.WatchLoop=!1,z(ee)}})()})}handleWatchChannelResponse(i,l){const y=i.resource;if(l.body.case==="initialized"){const{sessionCount:A,seq:N}=l.body.value;y.updateSessionCount(Number(A),Number(N))&&y.publish({type:So.Initialized,count:Number(A)})}else if(l.body.case==="event"){const A=l.body.value;if(A.type===gm.BROADCAST){const N=new TextDecoder;try{const M=JSON.parse(N.decode(A.payload));y.publish({type:So.Broadcast,clientID:A.publisher,topic:A.topic,payload:M})}catch(M){Xe.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,M)}return}y.updateSessionCount(Number(A.sessionCount),Number(A.seq))&&y.publish({type:So.PresenceChanged,count:Number(A.sessionCount)})}}handleWatchDocumentResponse(i,l){if(l.body.case==="event"&&l.body.value.type===Cf.DOCUMENT_CHANGED){i.changeEventReceived!==void 0&&(i.changeEventReceived=!0);return}i.resource.applyWatchStream(l)}deactivateInternal(){this.status="deactivated";for(const[i,l]of this.attachmentMap)this.detachInternal(i),l.resource instanceof oa?l.resource.applyStatus(os.Detached):l.resource instanceof Ao&&l.resource.applyStatus(Df.Detached)}detachInternal(i){const l=this.attachmentMap.get(i);l&&(l.cancelWatchStream(),l.resource instanceof oa&&l.resource.resetOnlineClients(),this.attachmentMap.delete(i))}async syncInternal(i,l){const{resource:y}=i;if(y instanceof Ao){try{const z=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:y.getKey(),sessionId:y.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${y.getFirstKeyPath()}`}});y.updateSessionCount(Number(z.sessionCount),0),i.updateHeartbeatTime(),Xe.debug(`[RP] c:"${this.getKey()}" refreshes p:"${y.getKey()}" mode:${i.syncMode}`)}catch(z){throw Xe.error(`[RP] c:"${this.getKey()}" err :`,z),z}return y}const A=y,{resourceID:N}=i,M=A.createChangePack();try{const z=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:N,changePack:fn.toChangePack(M),pushOnly:l==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${A.getKey()}`}}),W=fn.fromChangePack(z.changePack);if(W.hasChanges()&&(i.syncMode==="realtime-pushonly"||i.syncMode==="realtime-syncoff"))return A;A.applyChangePack(W),i.resource.publish([{type:or.SyncStatusChanged,value:hp.Synced}]),A.getStatus()===os.Removed&&this.detachInternal(A.getKey());const ee=A.getKey(),ue=W.getChangeSize();return Xe.info(`[PP] c:"${this.getKey()}" sync d:"${ee}", push:${M.getChangeSize()} pull:${ue} cp:${W.getCheckpoint().toTestString()}`),A}catch(z){throw A.publish([{type:or.SyncStatusChanged,value:hp.SyncFailed}]),Xe.error(`[PP] c:"${this.getKey()}" err :`,z),z}}async handleConnectError(i){if(!(i instanceof Ht))return!1;if(i.code===c.Canceled||i.code===c.Unknown||i.code===c.ResourceExhausted||i.code===c.Unavailable)return!0;if(Ya(i)===ge.ErrUnauthenticated){if(this.authTokenInjector){const l=await this.authTokenInjector(yr(i).reason);this.setAuthToken(l)}return!0}return Ya(i)===ge.ErrTooManySubscribers?(Xe.error(`[WD] c:"${this.getKey()}" err :`,i.rawMessage),!0):(Ya(i)===ge.ErrTooManyAttachments||(Ya(i)===ge.ErrClientNotActivated||Ya(i)===ge.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(i){return new Promise((l,y)=>{this.taskQueue.push(()=>i().then(l).catch(y)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{Xe.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function Zm(f){return typeof f=="object"&&f!==null&&f.type==="Text"&&Array.isArray(f.nodes)}function yp(f){return typeof f=="object"&&f!==null&&f.type==="Tree"&&typeof f.root=="object"}function rc(f){return typeof f=="object"&&f!==null&&f.type==="Int"&&typeof f.value=="number"}function Mf(f){return typeof f=="object"&&f!==null&&f.type==="Long"&&typeof f.value=="number"}function Za(f){return typeof f=="object"&&f!==null&&f.type==="Date"&&typeof f.value=="string"}function Jm(f){return typeof f=="object"&&f!==null&&f.type==="BinData"&&typeof f.value=="string"}function dx(f){return typeof f=="object"&&f!==null&&f.type==="Counter"&&typeof f.value=="object"}function a1(f){return typeof f=="object"&&f!==null&&!Array.isArray(f)&&!Zm(f)&&!yp(f)&&!rc(f)&&!Mf(f)&&!Za(f)&&!Jm(f)&&!dx(f)}function hx(f){try{const i=px(f),l=JSON.parse(i);return Ja(l)}catch(i){throw new be(ge.ErrInvalidArgument,`Failed to parse YSON: ${i instanceof Error?i.message:String(i)}`)}}function px(f){let i=f;return i=i.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(l,y,A)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${y}","__yson_data":${A}}}`),i=i.replace(/Int\((-?\d+)\)/g,(l,y)=>`{"__yson_type":"Int","__yson_data":${y}}`),i=i.replace(/Long\((-?\d+)\)/g,(l,y)=>`{"__yson_type":"Long","__yson_data":${y}}`),i=i.replace(/Date\("([^"]*)"\)/g,(l,y)=>`{"__yson_type":"Date","__yson_data":"${y}"}`),i=i.replace(/BinData\("([^"]*)"\)/g,(l,y)=>`{"__yson_type":"BinData","__yson_data":"${y}"}`),i=i.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(l,y)=>`{"__yson_type":"Text","__yson_data":${y}}`),i=i.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(l,y)=>`{"__yson_type":"Tree","__yson_data":${y}}`),i}function Ja(f){if(f===null||typeof f!="object")return f;if(f.__yson_type==="Int"&&typeof f.__yson_data=="number")return{type:"Int",value:f.__yson_data};if(f.__yson_type==="Long"&&typeof f.__yson_data=="number")return{type:"Long",value:f.__yson_data};if(f.__yson_type==="Date"&&typeof f.__yson_data=="string")return{type:"Date",value:f.__yson_data};if(f.__yson_type==="BinData"&&typeof f.__yson_data=="string")return{type:"BinData",value:f.__yson_data};if(f.__yson_type==="Counter"&&typeof f.__yson_data=="object"){const l=Ja(f.__yson_data);if(typeof l=="object"&&l!==null&&"type"in l&&(l.type==="Int"||l.type==="Long"))return{type:"Counter",value:l};throw new be(ge.ErrInvalidArgument,"Counter must contain Int or Long")}if(f.__yson_type==="Text"&&Array.isArray(f.__yson_data))return{type:"Text",nodes:f.__yson_data.map(l=>xn(l))};if(f.__yson_type==="Tree"&&typeof f.__yson_data=="object")return{type:"Tree",root:vp(f.__yson_data)};if(Array.isArray(f))return f.map(l=>Ja(l));const i={};for(const[l,y]of Object.entries(f))i[l]=Ja(y);return i}function xn(f){if(typeof f!="object"||f===null||typeof f.val!="string")throw new be(ge.ErrInvalidArgument,"invalid text node format");const i={val:f.val};return f.attrs&&typeof f.attrs=="object"&&(i.attrs=f.attrs),i}function vp(f){if(typeof f!="object"||f===null||typeof f.type!="string")throw new be(ge.ErrInvalidArgument,"invalid tree node format");const i={type:f.type};return f.type==="text"&&typeof f.value=="string"?(i.value=f.value,i):(f.attrs&&typeof f.attrs=="object"&&(i.attrs=f.attrs),Array.isArray(f.children)&&(i.children=f.children.map(l=>vp(l))),i)}function vr(f){return f.nodes.map(i=>i.val).join("")}function l1(f){return xp(f.root)}function xp(f){const i=f.attrs?Object.entries(f.attrs).map(([y,A])=>` ${y}="${bp(A)}"`).join(""):"";if(f.type==="text"&&f.value!==void 0)return`<${f.type}${i}>${bp(f.value)}</${f.type}>`;if(!f.children||f.children.length===0)return`<${f.type}${i} />`;const l=f.children.map(y=>xp(y)).join("");return`<${f.type}${i}>${l}</${f.type}>`}function bp(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Sp=Object.freeze(Object.defineProperty({__proto__:null,isBinData:Jm,isCounter:dx,isDate:Za,isInt:rc,isLong:Mf,isObject:a1,isText:Zm,isTree:yp,parse:hx,textToString:vr,treeToXML:l1},Symbol.toStringTag,{value:"Module"}));pi.Int,pi.Long,typeof globalThis<"u"&&(globalThis.yorkie={Client:mp,Document:oa,Primitive:On,Text:Of,Counter:Vm,Tree:cp,Channel:Ao,ChannelEventType:So,YSON:Sp,LogLevel:Tr,setLogLevel:ox,IntType:pi.Int,LongType:pi.Long});const ic={name:"@yorkie-js/react",version:"0.6.47"},Ap=a.createContext({client:void 0,loading:!0,error:void 0});function gx(f){const[i,l]=a.useState(void 0),[y,A]=a.useState(!0),[N,M]=a.useState(void 0),[z,W]=a.useState(!1);return a.useEffect(()=>{W(!0)},[]),a.useEffect(()=>{A(!0),M(void 0);async function ee(){if(z)try{const ue=new mp(f);await ue.activate(),l(ue)}catch(ue){M(ue instanceof Error?ue:new Error("Failed to activate client"))}finally{A(!1)}}return ee(),()=>{i!=null&&i.isActive()&&i.deactivate({keepalive:!0})}},[f.apiKey,f.rpcAddr,z]),{client:i,loading:y,error:N}}const mx=({children:f,...i})=>{const l=a.useMemo(()=>({userAgent:ic.name+"/"+ic.version,...i}),[i.apiKey,i.rpcAddr]),{client:y,loading:A,error:N}=gx(l);return s.jsx(Ap.Provider,{value:{client:y,loading:A,error:N},children:f})},yx=()=>{const f=a.useContext(Ap);if(!f)throw new Error("useYorkie must be used under YorkieProvider");return{client:f.client,loading:f.loading,error:f.error}};function Qm(f){const i=new Set;let l=f;const y=()=>{i.forEach(W=>W(l))};return{subscribe:W=>(i.add(W),()=>i.delete(W)),getSnapshot:()=>l,setState:W=>{const ee=l;l=typeof W=="function"?W(ee):W,ee!==l&&y()},destroy:()=>{i.clear()}}}const vx=f=>Qm(f);function Eo(f,i,l=Object.is){const y=a.useRef(i),A=a.useRef(l),N=a.useRef(void 0);y.current=i,A.current=l;const M=()=>{const z=f.getSnapshot(),W=y.current?y.current(z):z;return N.current!==void 0&&A.current(N.current,W)?N.current:(N.current=W,W)};return a.useSyncExternalStore(f.subscribe,M,M)}function ss(f){return f!=null&&typeof f[Symbol.iterator]=="function"}function e0(f){return"entries"in f&&typeof f.entries=="function"}function t0(f,i){const l=f instanceof Map?f:new Map(f.entries()),y=i instanceof Map?i:new Map(i.entries());if(l.size!==y.size)return!1;for(const[A,N]of l)if(!y.has(A)||!Object.is(N,y.get(A)))return!1;return!0}function f1(f,i){const l=f[Symbol.iterator](),y=i[Symbol.iterator]();let A=l.next(),N=y.next();for(;!A.done&&!N.done;){if(!Object.is(A.value,N.value))return!1;A=l.next(),N=y.next()}return A.done===N.done}function d1(f,i){const l=Object.keys(f),y=Object.keys(i);if(l.length!==y.length)return!1;for(const A of l)if(!Object.prototype.hasOwnProperty.call(i,A)||!Object.is(f[A],i[A]))return!1;return!0}function Ep(f,i){if(Object.is(f,i))return!0;if(typeof f!="object"||f===null||typeof i!="object"||i===null||Object.getPrototypeOf(f)!==Object.getPrototypeOf(i))return!1;const l=ss(f),y=ss(i);return l!==y?!1:l&&y?e0(f)&&e0(i)?t0(f,i):f1(f,i):d1(f,i)}function xx(f,i,l,y,A,N,M,z){const W=a.useRef(A),ee=a.useRef(N),[ue,we]=a.useState(!1);a.useEffect(()=>{we(!0)},[]),a.useEffect(()=>{if(l){z.setState(He=>({...He,loading:!1,error:l}));return}if(!f||i||!ue){z.setState(He=>({...He,loading:!0}));return}z.setState(He=>({...He,loading:!0,error:void 0}));const ke=new oa(y,{enableDevtools:M}),Re=[];Re.push(ke.subscribe(()=>{z.setState(He=>({...He,root:ke.getRoot()}))})),Re.push(ke.subscribe("presence",()=>{z.setState(He=>({...He,presences:ke.getPresences()}))})),Re.push(ke.subscribe("connection",He=>{z.setState(it=>({...it,connection:He.value}))}));async function We(){try{await(f==null?void 0:f.attach(ke,{initialRoot:W.current,initialPresence:ee.current}));const He=it=>{try{ke.update(it)}catch(Et){z.setState(en=>({...en,error:Et instanceof Error?Et:new Error("Failed to update document")}))}};z.setState(it=>({...it,doc:ke,root:ke.getRoot(),presences:ke.getPresences(),update:He}))}catch(He){z.setState(it=>({...it,error:He instanceof Error?He:new Error("Failed to attach document")}))}finally{z.setState(He=>({...He,loading:!1}))}}return We(),()=>{f&&f.has(y)&&f.detach(ke);for(const He of Re)He()}},[f,i,l,y,z,ue])}const ei=a.createContext(void 0),n0=({docKey:f,initialRoot:i={},initialPresence:l={},enableDevtools:y=!1,children:A})=>{const{client:N,loading:M,error:z}=yx(),W=a.useRef(void 0);W.current||(W.current=vx({doc:void 0,root:i,presences:[],connection:Xa.Disconnected,update:()=>{},loading:!0,error:void 0}));const ee=W.current;return xx(N,M,z,f,i,l,y,ee),s.jsx(ei.Provider,{value:ee,children:A})};function bx(){const f=a.useContext(ei);if(!f)throw new Error("useDocument must be used within a DocumentProvider");return Eo(f)}const Sx=()=>(f,i=Ep)=>{const l=a.useContext(ei);if(!l)throw new Error("useDocument must be used within a DocumentProvider");return Eo(l,f,i)},Lf=()=>{const f=oc("useRoot");return{root:Eo(f,l=>l.root)}},Pi=()=>{const f=oc("usePresences");return Eo(f,i=>i.presences)},Ax=()=>{const f=oc("useConnection");return Eo(f,i=>i.connection)},oc=f=>{const i=a.useContext(ei);if(!i)throw new Error(`${f} must be used within a DocumentProvider`);return i};function as(f,i,l){const y=a.useRef(void 0);y.current||(y.current=vx({doc:void 0,root:(l==null?void 0:l.initialRoot)??{},presences:[],connection:Xa.Disconnected,update:()=>{},loading:!0,error:void 0}));const A=y.current,N=a.useMemo(()=>({apiKey:f,userAgent:ic.name+"/"+ic.version,...l}),[f,l]),{client:M,loading:z,error:W}=gx(N);xx(M,z,W,i,(l==null?void 0:l.initialRoot)??{},(l==null?void 0:l.initialPresence)??{},(l==null?void 0:l.enableDevtools)??!1,A);const ee=Eo(A);return{root:ee.root,presences:ee.presences,connection:ee.connection,update:ee.update,loading:ee.loading,error:ee.error}}function h1(f){return Qm(f)}const Ex=a.createContext(void 0);function sc(f,i,l,y,A,N){const M=a.useRef(void 0),[z,W]=a.useState(!1);a.useEffect(()=>{W(!0)},[]),a.useEffect(()=>{if(!z||i||l||!f){l&&N.setState(we=>({...we,error:l,loading:!1}));return}let ee;async function ue(){if(!(!f||!f.isActive())){N.setState(we=>({...we,loading:!0,error:void 0}));try{const we=new Ao(y);await f.attach(we,{isRealtime:A}),M.current=we,ee=we.subscribe(()=>{N.setState(ke=>({...ke,sessionCount:we.getSessionCount()}))}),N.setState({channel:we,sessionCount:we.getSessionCount(),loading:!1,error:void 0})}catch(we){N.setState(ke=>({...ke,loading:!1,error:we instanceof Error?we:new Error("Failed to attach channel")}))}}}return ue(),()=>{ee&&ee();async function we(){if(M.current&&(f!=null&&f.isActive()))try{await f.detach(M.current)}catch(ke){console.error("Failed to detach channel:",ke)}}we()}},[f,i,l,y,A,z])}const Cx=({children:f,channelKey:i,isRealtime:l=!0})=>{const{client:y,loading:A,error:N}=yx(),M=a.useRef(void 0);M.current||(M.current=h1({channel:void 0,sessionCount:0,loading:!0,error:void 0}));const z=M.current;return sc(y,A,N,i,l,z),s.jsx(Ex.Provider,{value:z,children:f})},wx=f=>{const i=a.useContext(Ex);if(!i)throw new Error(`${f} must be used within ChannelProvider`);return i},p1=()=>{const f=wx("useChannel"),i=Eo(f,A=>A.sessionCount),l=Eo(f,A=>A.loading),y=Eo(f,A=>A.error);return{sessionCount:i,loading:l,error:y}},g1=()=>{const f=wx("useChannelSessionCount");return Eo(f,i=>i.sessionCount)};r.ChannelProvider=Cx,r.DocumentProvider=n0,r.YorkieProvider=mx,r.createDocumentSelector=Sx,r.shallowEqual=Ep,r.useChannel=p1,r.useChannelSessionCount=g1,r.useConnection=Ax,r.useDocument=bx,r.usePresences=Pi,r.useRoot=Lf,r.useYorkieDoc=as,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})})}(U0,U0.exports)),U0.exports}var ma=G6();const gu=()=>P.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]","aria-live":"polite",children:[P.jsx(Pj,{className:"h-8 w-8 animate-spin text-primary"}),P.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading..."})]}),eA=768;function $6(){const[e,t]=F.useState(void 0);return F.useEffect(()=>{const n=window.matchMedia(`(max-width: ${eA-1}px)`),r=()=>{t(window.innerWidth<eA)};return n.addEventListener("change",r),t(window.innerWidth<eA),()=>n.removeEventListener("change",r)},[]),!!e}var H6="Separator",JR="horizontal",W6=["horizontal","vertical"],qP=F.forwardRef((e,t)=>{const{decorative:n,orientation:r=JR,...s}=e,a=Y6(r)?r:JR,d=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return P.jsx(Bt.div,{"data-orientation":a,...d,...s,ref:t})});qP.displayName=H6;function Y6(e){return W6.includes(e)}var q6=qP;function Ip({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return P.jsx(q6,{"data-slot":"separator-root",decorative:n,orientation:t,className:xt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function K6({...e}){return P.jsx(L3,{"data-slot":"sheet",...e})}function X6({...e}){return P.jsx(F3,{"data-slot":"sheet-portal",...e})}function Z6({className:e,...t}){return P.jsx(k3,{"data-slot":"sheet-overlay",className:xt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function J6({className:e,children:t,side:n="right",...r}){return P.jsxs(X6,{children:[P.jsx(Z6,{}),P.jsxs(B3,{"data-slot":"sheet-content",className:xt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,P.jsxs(U3,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[P.jsx(DD,{className:"size-4"}),P.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Q6({className:e,...t}){return P.jsx("div",{"data-slot":"sheet-header",className:xt("flex flex-col gap-1.5 p-4",e),...t})}function eG({className:e,...t}){return P.jsx(j3,{"data-slot":"sheet-title",className:xt("text-foreground font-semibold",e),...t})}function tG({className:e,...t}){return P.jsx(z3,{"data-slot":"sheet-description",className:xt("text-muted-foreground text-sm",e),...t})}var nG="VisuallyHidden",Hw=F.forwardRef((e,t)=>P.jsx(Bt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Hw.displayName=nG;var rG=Hw,[Kb,L7]=bs("Tooltip",[fg]),Xb=fg(),KP="TooltipProvider",iG=700,EC="tooltip.open",[oG,Ww]=Kb(KP),XP=e=>{const{__scopeTooltip:t,delayDuration:n=iG,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,c=F.useRef(!0),d=F.useRef(!1),h=F.useRef(0);return F.useEffect(()=>{const g=h.current;return()=>window.clearTimeout(g)},[]),P.jsx(oG,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:F.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:F.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:F.useCallback(g=>{d.current=g},[]),disableHoverableContent:s,children:a})};XP.displayName=KP;var Zb="Tooltip",[sG,yy]=Kb(Zb),ZP=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:c,delayDuration:d}=e,h=Ww(Zb,e.__scopeTooltip),g=Xb(t),[p,m]=F.useState(null),x=da(),b=F.useRef(0),E=c??h.disableHoverableContent,w=d??h.delayDuration,C=F.useRef(!1),[T=!1,_]=kc({prop:r,defaultProp:s,onChange:V=>{V?(h.onOpen(),document.dispatchEvent(new CustomEvent(EC))):h.onClose(),a==null||a(V)}}),I=F.useMemo(()=>T?C.current?"delayed-open":"instant-open":"closed",[T]),O=F.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C.current=!1,_(!0)},[_]),L=F.useCallback(()=>{window.clearTimeout(b.current),b.current=0,_(!1)},[_]),k=F.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{C.current=!0,_(!0),b.current=0},w)},[w,_]);return F.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),P.jsx(Pw,{...g,children:P.jsx(sG,{scope:t,contentId:x,open:T,stateAttribute:I,trigger:p,onTriggerChange:m,onTriggerEnter:F.useCallback(()=>{h.isOpenDelayedRef.current?k():O()},[h.isOpenDelayedRef,k,O]),onTriggerLeave:F.useCallback(()=>{E?L():(window.clearTimeout(b.current),b.current=0)},[L,E]),onOpen:O,onClose:L,disableHoverableContent:E,children:n})})};ZP.displayName=Zb;var CC="TooltipTrigger",JP=F.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=yy(CC,n),a=Ww(CC,n),c=Xb(n),d=F.useRef(null),h=ln(t,d,s.onTriggerChange),g=F.useRef(!1),p=F.useRef(!1),m=F.useCallback(()=>g.current=!1,[]);return F.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),P.jsx(Mw,{asChild:!0,...c,children:P.jsx(Bt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:h,onPointerMove:st(e.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:st(e.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:st(e.onPointerDown,()=>{s.open&&s.onClose(),g.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:st(e.onFocus,()=>{g.current||s.onOpen()}),onBlur:st(e.onBlur,s.onClose),onClick:st(e.onClick,s.onClose)})})});JP.displayName=CC;var Yw="TooltipPortal",[aG,lG]=Kb(Yw,{forceMount:void 0}),QP=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,a=yy(Yw,t);return P.jsx(aG,{scope:t,forceMount:n,children:P.jsx(Ss,{present:n||a.open,children:P.jsx(hy,{asChild:!0,container:s,children:r})})})};QP.displayName=Yw;var Zp="TooltipContent",eM=F.forwardRef((e,t)=>{const n=lG(Zp,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,c=yy(Zp,e.__scopeTooltip);return P.jsx(Ss,{present:r||c.open,children:c.disableHoverableContent?P.jsx(tM,{side:s,...a,ref:t}):P.jsx(uG,{side:s,...a,ref:t})})}),uG=F.forwardRef((e,t)=>{const n=yy(Zp,e.__scopeTooltip),r=Ww(Zp,e.__scopeTooltip),s=F.useRef(null),a=ln(t,s),[c,d]=F.useState(null),{trigger:h,onClose:g}=n,p=s.current,{onPointerInTransitChange:m}=r,x=F.useCallback(()=>{d(null),m(!1)},[m]),b=F.useCallback((E,w)=>{const C=E.currentTarget,T={x:E.clientX,y:E.clientY},_=hG(T,C.getBoundingClientRect()),I=pG(T,_),O=gG(w.getBoundingClientRect()),L=yG([...I,...O]);d(L),m(!0)},[m]);return F.useEffect(()=>()=>x(),[x]),F.useEffect(()=>{if(h&&p){const E=C=>b(C,p),w=C=>b(C,h);return h.addEventListener("pointerleave",E),p.addEventListener("pointerleave",w),()=>{h.removeEventListener("pointerleave",E),p.removeEventListener("pointerleave",w)}}},[h,p,b,x]),F.useEffect(()=>{if(c){const E=w=>{const C=w.target,T={x:w.clientX,y:w.clientY},_=(h==null?void 0:h.contains(C))||(p==null?void 0:p.contains(C)),I=!mG(T,c);_?x():I&&(x(),g())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[h,p,c,g,x]),P.jsx(tM,{...e,ref:a})}),[cG,fG]=Kb(Zb,{isInside:!1}),dG=Cz("TooltipContent"),tM=F.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:c,...d}=e,h=yy(Zp,n),g=Xb(n),{onClose:p}=h;return F.useEffect(()=>(document.addEventListener(EC,p),()=>document.removeEventListener(EC,p)),[p]),F.useEffect(()=>{if(h.trigger){const m=x=>{const b=x.target;b!=null&&b.contains(h.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,p]),P.jsx(dy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:P.jsxs(Lw,{"data-state":h.stateAttribute,...g,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[P.jsx(dG,{children:r}),P.jsx(cG,{scope:n,isInside:!0,children:P.jsx(rG,{id:h.contentId,role:"tooltip",children:s||r})})]})})});eM.displayName=Zp;var nM="TooltipArrow",rM=F.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Xb(n);return fG(nM,n).isInside?null:P.jsx(Fw,{...s,...r,ref:t})});rM.displayName=nM;function hG(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function pG(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function gG(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function mG(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const d=t[a].x,h=t[a].y,g=t[c].x,p=t[c].y;h>r!=p>r&&n<(g-d)*(r-h)/(p-h)+d&&(s=!s)}return s}function yG(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vG(t)}function vG(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(s.y-c.y)>=(a.y-c.y)*(s.x-c.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],c=n[n.length-2];if((a.x-c.x)*(s.y-c.y)>=(a.y-c.y)*(s.x-c.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var xG=XP,bG=ZP,SG=JP,AG=QP,EG=eM,CG=rM;function qw({delayDuration:e=0,...t}){return P.jsx(xG,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function ii({...e}){return P.jsx(qw,{children:P.jsx(bG,{"data-slot":"tooltip",...e})})}function oi({...e}){return P.jsx(SG,{"data-slot":"tooltip-trigger",...e})}function si({className:e,sideOffset:t=0,children:n,...r}){return P.jsx(AG,{children:P.jsxs(EG,{"data-slot":"tooltip-content",sideOffset:t,className:xt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,P.jsx(CG,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const wG="sidebar_state",RG=60*60*24*7,TG="16rem",NG="18rem",_G="3rem",IG="b",iM=F.createContext(null);function Jb(){const e=F.useContext(iM);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function oM({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:a,...c}){const d=$6(),[h,g]=F.useState(!1),[p,m]=F.useState(e),x=t??p,b=F.useCallback(T=>{const _=typeof T=="function"?T(x):T;n?n(_):m(_),document.cookie=`${wG}=${_}; path=/; max-age=${RG}`},[n,x]),E=F.useCallback(()=>d?g(T=>!T):b(T=>!T),[d,b,g]);F.useEffect(()=>{const T=_=>{_.key===IG&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),E())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[E]);const w=x?"expanded":"collapsed",C=F.useMemo(()=>({state:w,open:x,setOpen:b,isMobile:d,openMobile:h,setOpenMobile:g,toggleSidebar:E}),[w,x,b,d,h,g,E]);return P.jsx(iM.Provider,{value:C,children:P.jsx(qw,{delayDuration:0,children:P.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":TG,"--sidebar-width-icon":_G,...s},className:xt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...c,children:a})})})}function OG({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...a}){const{isMobile:c,state:d,openMobile:h,setOpenMobile:g}=Jb();return n==="none"?P.jsx("div",{"data-slot":"sidebar",className:xt("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...a,children:s}):c?P.jsx(K6,{open:h,onOpenChange:g,...a,children:P.jsxs(J6,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":NG},side:e,children:[P.jsxs(Q6,{className:"sr-only",children:[P.jsx(eG,{children:"Sidebar"}),P.jsx(tG,{children:"Displays the mobile sidebar."})]}),P.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):P.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":d,"data-collapsible":d==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[P.jsx("div",{"data-slot":"sidebar-gap",className:xt("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),P.jsx("div",{"data-slot":"sidebar-container",className:xt("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:P.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function DG({className:e,onClick:t,...n}){const{toggleSidebar:r}=Jb();return P.jsxs(jr,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:xt("size-7",e),onClick:s=>{t==null||t(s),r()},...n,children:[P.jsx(Lj,{}),P.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function sM({className:e,...t}){return P.jsx("main",{"data-slot":"sidebar-inset",className:xt("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function PG({className:e,...t}){return P.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:xt("flex flex-col gap-2 p-2",e),...t})}function MG({className:e,...t}){return P.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:xt("flex flex-col gap-2 p-2",e),...t})}function LG({className:e,...t}){return P.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:xt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function aM({className:e,...t}){return P.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:xt("relative flex w-full min-w-0 flex-col p-2",e),...t})}function lM({className:e,...t}){return P.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:xt("w-full text-sm",e),...t})}function Qb({className:e,...t}){return P.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:xt("flex w-full min-w-0 flex-col gap-1",e),...t})}function eS({className:e,...t}){return P.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:xt("group/menu-item relative",e),...t})}const FG=ow("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function tS({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:a,...c}){const d=e?HD:"button",{isMobile:h,state:g}=Jb(),p=P.jsx(d,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:xt(FG({variant:n,size:r}),a),...c});return s?(typeof s=="string"&&(s={children:s}),P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:p}),P.jsx(si,{side:"right",align:"center",hidden:g!=="collapsed"||h,...s})]})):p}function kG({items:e}){const t=ya(),n=F.useCallback(r=>{const s=t.pathname;return s===r||s.startsWith(r+"/")},[t.pathname]);return P.jsx(aM,{children:P.jsx(lM,{className:"flex flex-col gap-2",children:P.jsx(Qb,{children:e.map(r=>P.jsx(eS,{children:P.jsx(tS,{tooltip:r.title,isActive:n(r.url),children:P.jsxs(og,{to:r.url,className:"flex items-center gap-2",children:[r.icon&&P.jsx(r.icon,{}),P.jsx("span",{children:r.title})]})})},r.title))})})})}function BG({items:e,...t}){return P.jsx(aM,{...t,children:P.jsx(lM,{children:P.jsx(Qb,{children:e.map(n=>P.jsx(eS,{children:P.jsx(tS,{asChild:!0,children:P.jsxs(og,{to:n.url,className:"flex items-center gap-2",children:[n.icon&&P.jsx(n.icon,{}),P.jsx("span",{children:n.title})]})})},n.title))})})})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jG={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=(e,t,n,r)=>{const s=F.forwardRef(({color:a="currentColor",size:c=24,stroke:d=2,title:h,className:g,children:p,...m},x)=>F.createElement("svg",{ref:x,...jG[e],width:c,height:c,className:["tabler-icon",`tabler-icon-${t}`,g].join(" "),strokeWidth:d,stroke:a,...m},[h&&F.createElement("title",{key:"svg-title"},h),...r.map(([b,E])=>F.createElement(b,E)),...Array.isArray(p)?p:[p]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uM=hn("outline","abc","IconAbc",[["path",{d:"M3 16v-6a2 2 0 1 1 4 0v6",key:"svg-0"}],["path",{d:"M3 13h4",key:"svg-1"}],["path",{d:"M10 8v6a2 2 0 1 0 4 0v-1a2 2 0 1 0 -4 0v1",key:"svg-2"}],["path",{d:"M20.732 12a2 2 0 0 0 -3.732 1v1a2 2 0 0 0 3.726 1.01",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cM=hn("outline","align-box-bottom-center","IconAlignBoxBottomCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 15v2",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M15 13v4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fM=hn("outline","align-box-center-middle","IconAlignBoxCenterMiddle",[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M11 15h2",key:"svg-1"}],["path",{d:"M9 12h6",key:"svg-2"}],["path",{d:"M10 9h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dM=hn("outline","align-box-top-center","IconAlignBoxTopCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 9v-2",key:"svg-1"}],["path",{d:"M12 13v-6",key:"svg-2"}],["path",{d:"M15 11v-4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hM=hn("outline","align-center","IconAlignCenter",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M8 12l8 0",key:"svg-1"}],["path",{d:"M6 18l12 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pM=hn("outline","align-left","IconAlignLeft",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l10 0",key:"svg-1"}],["path",{d:"M4 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gM=hn("outline","align-right","IconAlignRight",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M10 12l10 0",key:"svg-1"}],["path",{d:"M6 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zG=hn("outline","arrow-back-up","IconArrowBackUp",[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var UG=hn("outline","arrow-forward-up","IconArrowForwardUp",[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VG=hn("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tA=hn("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GG=hn("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wC=hn("outline","currency-dollar","IconCurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var RC=hn("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QR=hn("outline","decimal","IconDecimal",[["path",{d:"M17 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-0"}],["path",{d:"M10 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-1"}],["path",{d:"M5 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $G=hn("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eT=hn("outline","droplet-off","IconDropletOff",[["path",{d:"M18.963 14.938a6.54 6.54 0 0 0 -.899 -4.06l-4.89 -7.26c-.42 -.626 -1.287 -.804 -1.936 -.398a1.376 1.376 0 0 0 -.41 .397l-1.282 1.9m-1.625 2.415l-1.986 2.946c-1.695 2.837 -1.035 6.44 1.567 8.545c2.602 2.105 6.395 2.105 8.996 0a6.83 6.83 0 0 0 1.376 -1.499",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mM=hn("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yM=hn("outline","hash","IconHash",[["path",{d:"M5 9l14 0",key:"svg-0"}],["path",{d:"M5 15l14 0",key:"svg-1"}],["path",{d:"M11 4l-4 16",key:"svg-2"}],["path",{d:"M17 4l-4 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HG=hn("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WG=hn("outline","logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YG=hn("outline","paint","IconPaint",[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M19 6h1a2 2 0 0 1 2 2a5 5 0 0 1 -5 5l-5 0v2",key:"svg-1"}],["path",{d:"M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var TC=hn("outline","percentage","IconPercentage",[["path",{d:"M17 17m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 7m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qG=hn("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vM=hn("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xM=hn("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KG=hn("outline","share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XG=hn("outline","strikethrough","IconStrikethrough",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tT=hn("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZG=hn("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JG=hn("outline","typography","IconTypography",[["path",{d:"M4 20l3 0",key:"svg-0"}],["path",{d:"M14 20l7 0",key:"svg-1"}],["path",{d:"M6.9 15l6.9 0",key:"svg-2"}],["path",{d:"M10.2 6.3l5.8 13.7",key:"svg-3"}],["path",{d:"M5 20l6 -16l2 0l7 16",key:"svg-4"}]]),Kw="Avatar",[QG,F7]=bs(Kw),[e8,bM]=QG(Kw),SM=F.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=F.useState("idle");return P.jsx(e8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:P.jsx(Bt.span,{...r,ref:t})})});SM.displayName=Kw;var AM="AvatarImage",EM=F.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,c=bM(AM,n),d=t8(r,a),h=ro(g=>{s(g),c.onImageLoadingStatusChange(g)});return Ar(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?P.jsx(Bt.img,{...a,ref:t,src:r}):null});EM.displayName=AM;var CM="AvatarFallback",wM=F.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=bM(CM,n),[c,d]=F.useState(r===void 0);return F.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(h)}},[r]),c&&a.imageLoadingStatus!=="loaded"?P.jsx(Bt.span,{...s,ref:t}):null});wM.displayName=CM;function nT(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function t8(e,{referrerPolicy:t,crossOrigin:n}){const r=r8(),s=F.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[c,d]=F.useState(()=>nT(a,e));return Ar(()=>{d(nT(a,e))},[a,e]),Ar(()=>{const h=m=>()=>{d(m)};if(!a)return;const g=h("loaded"),p=h("error");return a.addEventListener("load",g),a.addEventListener("error",p),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",g),a.removeEventListener("error",p)}},[a,n,t]),c}function n8(){return()=>{}}function r8(){return F.useSyncExternalStore(n8,()=>!0,()=>!1)}var i8=SM,o8=EM,s8=wM;function Rb({className:e,...t}){return P.jsx(i8,{"data-slot":"avatar",className:xt("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function NC({className:e,...t}){return P.jsx(o8,{"data-slot":"avatar-image",className:xt("aspect-square size-full",e),...t})}function Tb({className:e,...t}){return P.jsx(s8,{"data-slot":"avatar-fallback",className:xt("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function a8({user:e}){const{isMobile:t}=Jb(),n=async()=>{await YD()};return P.jsx(Qb,{children:P.jsx(eS,{children:P.jsxs(au,{children:[P.jsx(lu,{asChild:!0,children:P.jsxs(tS,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground cursor-pointer",children:[P.jsxs(Rb,{className:"h-8 w-8 rounded-lg",children:[P.jsx(NC,{src:e.photo,alt:e.username}),P.jsx(Tb,{className:"rounded-lg",children:"CN"})]}),P.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[P.jsx("span",{className:"truncate font-medium",children:e.username}),P.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]}),P.jsx($G,{className:"ml-auto size-4"})]})}),P.jsxs(uu,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[P.jsx(L6,{className:"p-0 font-normal",children:P.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[P.jsxs(Rb,{className:"h-8 w-8 rounded-lg",children:[P.jsx(NC,{src:e.photo,alt:e.username}),P.jsx(Tb,{className:"rounded-lg",children:"CN"})]}),P.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[P.jsx("span",{className:"truncate font-medium",children:e.username}),P.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]})]})}),P.jsx(YP,{}),P.jsxs(Br,{onClick:n,className:"cursor-pointer",children:[P.jsx(WG,{}),"Log out"]})]})]})})})}function RM({items:e,...t}){const{data:n,isLoading:r}=Uc({queryKey:["me"],queryFn:nh,retry:!1});return r?null:P.jsxs(OG,{collapsible:"offcanvas",...t,children:[P.jsx(PG,{children:P.jsx(Qb,{children:P.jsx(eS,{children:P.jsx(tS,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5",children:P.jsxs(og,{to:"/",children:[P.jsx(OD,{className:"!size-5"}),P.jsx("span",{className:"text-base font-semibold",children:"Wafflebase"})]})})})})}),P.jsxs(LG,{children:[P.jsx(kG,{items:e.main}),P.jsx(BG,{items:e.secondary,className:"mt-auto"})]}),P.jsx(MG,{children:P.jsx(a8,{user:n})})]})}function TM({title:e,children:t}){return P.jsx("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:P.jsxs("div",{className:"flex w-full items-center justify-between gap-1 px-4 lg:gap-2 lg:px-6 min-h-[3.5rem]",children:[P.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[P.jsx(DG,{className:"-ml-1"}),P.jsx(Ip,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),P.jsx("h1",{className:"text-base font-medium",children:e})]}),P.jsx("div",{className:"flex items-center min-w-0",children:t})]})})}function l8({className:e}){const{data:t}=Uc({queryKey:["me"],queryFn:nh,retry:!1}),r=ma.usePresences().reduce((a,c)=>{const d=c.presence.username;return a.find(h=>h.presence.username===d)||a.push(c),a},[]),s=r.length;return P.jsx(qw,{children:P.jsx("div",{className:`flex items-center gap-2 min-h-[2.5rem] ${e}`,children:s>0?P.jsx(P.Fragment,{children:P.jsxs("div",{className:"flex items-center -space-x-2",children:[r.slice(0,4).map(a=>{var g,p;const c=(g=a.presence)==null?void 0:g.username,d=(p=a.presence)==null?void 0:p.photo,h=c===(t==null?void 0:t.username);return c?P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsxs("div",{className:"relative",children:[P.jsxs(Rb,{className:"h-8 w-8 border-2 border-background",children:[d&&P.jsx(NC,{src:d,alt:c}),P.jsx(Tb,{className:"text-xs",children:(c==null?void 0:c.slice(0,2).toUpperCase())||"??"})]}),P.jsx("div",{className:"absolute -bottom-1 -right-1",children:P.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 border-2 border-background"})})]})}),P.jsx(si,{children:P.jsxs("p",{children:[c||"Anonymous",h?" (You)":""]})})]},a.clientID):null}).filter(Boolean),s>4&&P.jsx(Rb,{className:"w-8 border-2 border-background",children:P.jsxs(Tb,{className:"text-xs bg-muted",children:["+",s-4]})})]})}):P.jsx("div",{className:"w-32 opacity-0"})})})}function rT(e,[t,n]){return Math.min(n,Math.max(t,e))}var u8=[" ","Enter","ArrowUp","ArrowDown"],c8=[" ","Enter"],vy="Select",[nS,rS,f8]=Aw(vy),[dg,k7]=bs(vy,[f8,fg]),iS=fg(),[d8,Vc]=dg(vy),[h8,p8]=dg(vy),NM=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:c,defaultValue:d,onValueChange:h,dir:g,name:p,autoComplete:m,disabled:x,required:b,form:E}=e,w=iS(t),[C,T]=F.useState(null),[_,I]=F.useState(null),[O,L]=F.useState(!1),k=Ew(g),[V=!1,U]=kc({prop:r,defaultProp:s,onChange:a}),[q,te]=kc({prop:c,defaultProp:d,onChange:h}),ie=F.useRef(null),se=C?E||!!C.closest("form"):!0,[Ce,je]=F.useState(new Set),Me=Array.from(Ce).map(re=>re.props.value).join(";");return P.jsx(Pw,{...w,children:P.jsxs(d8,{required:b,scope:t,trigger:C,onTriggerChange:T,valueNode:_,onValueNodeChange:I,valueNodeHasChildren:O,onValueNodeHasChildrenChange:L,contentId:da(),value:q,onValueChange:te,open:V,onOpenChange:U,dir:k,triggerPointerDownPosRef:ie,disabled:x,children:[P.jsx(nS.Provider,{scope:t,children:P.jsx(h8,{scope:e.__scopeSelect,onNativeOptionAdd:F.useCallback(re=>{je(Ie=>new Set(Ie).add(re))},[]),onNativeOptionRemove:F.useCallback(re=>{je(Ie=>{const de=new Set(Ie);return de.delete(re),de})},[]),children:n})}),se?P.jsxs(ZM,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:m,value:q,onChange:re=>te(re.target.value),disabled:x,form:E,children:[q===void 0?P.jsx("option",{value:""}):null,Array.from(Ce)]},Me):null]})})};NM.displayName=vy;var _M="SelectTrigger",IM=F.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=iS(n),c=Vc(_M,n),d=c.disabled||r,h=ln(t,c.onTriggerChange),g=rS(n),p=F.useRef("touch"),[m,x,b]=JM(w=>{const C=g().filter(I=>!I.disabled),T=C.find(I=>I.value===c.value),_=QM(C,w,T);_!==void 0&&c.onValueChange(_.value)}),E=w=>{d||(c.onOpenChange(!0),b()),w&&(c.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return P.jsx(Mw,{asChild:!0,...a,children:P.jsx(Bt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":XM(c.value)?"":void 0,...s,ref:h,onClick:st(s.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&E(w)}),onPointerDown:st(s.onPointerDown,w=>{p.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(E(w),w.preventDefault())}),onKeyDown:st(s.onKeyDown,w=>{const C=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&x(w.key),!(C&&w.key===" ")&&u8.includes(w.key)&&(E(),w.preventDefault())})})})});IM.displayName=_M;var OM="SelectValue",DM=F.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:c="",...d}=e,h=Vc(OM,n),{onValueNodeHasChildrenChange:g}=h,p=a!==void 0,m=ln(t,h.onValueNodeChange);return Ar(()=>{g(p)},[g,p]),P.jsx(Bt.span,{...d,ref:m,style:{pointerEvents:"none"},children:XM(h.value)?P.jsx(P.Fragment,{children:c}):a})});DM.displayName=OM;var g8="SelectIcon",PM=F.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return P.jsx(Bt.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});PM.displayName=g8;var m8="SelectPortal",MM=e=>P.jsx(hy,{asChild:!0,...e});MM.displayName=m8;var th="SelectContent",LM=F.forwardRef((e,t)=>{const n=Vc(th,e.__scopeSelect),[r,s]=F.useState();if(Ar(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?fy.createPortal(P.jsx(FM,{scope:e.__scopeSelect,children:P.jsx(nS.Slot,{scope:e.__scopeSelect,children:P.jsx("div",{children:e.children})})}),a):null}return P.jsx(kM,{...e,ref:t})});LM.displayName=th;var cs=10,[FM,Gc]=dg(th),y8="SelectContentImpl",v8=Mc("SelectContent.RemoveScroll"),kM=F.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:c,side:d,sideOffset:h,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:E,hideWhenDetached:w,avoidCollisions:C,...T}=e,_=Vc(th,n),[I,O]=F.useState(null),[L,k]=F.useState(null),V=ln(t,J=>O(J)),[U,q]=F.useState(null),[te,ie]=F.useState(null),se=rS(n),[Ce,je]=F.useState(!1),Me=F.useRef(!1);F.useEffect(()=>{if(I)return mw(I)},[I]),gw();const re=F.useCallback(J=>{const[X,...Z]=se().map(Se=>Se.ref.current),[le]=Z.slice(-1),xe=document.activeElement;for(const Se of J)if(Se===xe||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===X&&L&&(L.scrollTop=0),Se===le&&L&&(L.scrollTop=L.scrollHeight),Se==null||Se.focus(),document.activeElement!==xe))return},[se,L]),Ie=F.useCallback(()=>re([U,I]),[re,U,I]);F.useEffect(()=>{Ce&&Ie()},[Ce,Ie]);const{onOpenChange:de,triggerPointerDownPosRef:fe}=_;F.useEffect(()=>{if(I){let J={x:0,y:0};const X=le=>{var xe,Se;J={x:Math.abs(Math.round(le.pageX)-(((xe=fe.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(le.pageY)-(((Se=fe.current)==null?void 0:Se.y)??0))}},Z=le=>{J.x<=10&&J.y<=10?le.preventDefault():I.contains(le.target)||de(!1),document.removeEventListener("pointermove",X),fe.current=null};return fe.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Z,{capture:!0})}}},[I,de,fe]),F.useEffect(()=>{const J=()=>de(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[de]);const[K,ne]=JM(J=>{const X=se().filter(xe=>!xe.disabled),Z=X.find(xe=>xe.ref.current===document.activeElement),le=QM(X,J,Z);le&&setTimeout(()=>le.ref.current.focus())}),me=F.useCallback((J,X,Z)=>{const le=!Me.current&&!Z;(_.value!==void 0&&_.value===X||le)&&(q(J),le&&(Me.current=!0))},[_.value]),B=F.useCallback(()=>I==null?void 0:I.focus(),[I]),j=F.useCallback((J,X,Z)=>{const le=!Me.current&&!Z;(_.value!==void 0&&_.value===X||le)&&ie(J)},[_.value]),G=r==="popper"?_C:BM,H=G===_C?{side:d,sideOffset:h,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:E,hideWhenDetached:w,avoidCollisions:C}:{};return P.jsx(FM,{scope:n,content:I,viewport:L,onViewportChange:k,itemRefCallback:me,selectedItem:U,onItemLeave:B,itemTextRefCallback:j,focusSelectedItem:Ie,selectedItemText:te,position:r,isPositioned:Ce,searchRef:K,children:P.jsx(Bb,{as:v8,allowPinchZoom:!0,children:P.jsx(Fb,{asChild:!0,trapped:_.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:st(s,J=>{var X;(X=_.trigger)==null||X.focus({preventScroll:!0}),J.preventDefault()}),children:P.jsx(dy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:P.jsx(G,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:J=>J.preventDefault(),...T,...H,onPlaced:()=>je(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:st(T.onKeyDown,J=>{const X=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!X&&J.key.length===1&&ne(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let le=se().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const xe=J.target,Se=le.indexOf(xe);le=le.slice(Se+1)}setTimeout(()=>re(le)),J.preventDefault()}})})})})})})});kM.displayName=y8;var x8="SelectItemAlignedPosition",BM=F.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Vc(th,n),c=Gc(th,n),[d,h]=F.useState(null),[g,p]=F.useState(null),m=ln(t,V=>p(V)),x=rS(n),b=F.useRef(!1),E=F.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:T,focusSelectedItem:_}=c,I=F.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&g&&w&&C&&T){const V=a.trigger.getBoundingClientRect(),U=g.getBoundingClientRect(),q=a.valueNode.getBoundingClientRect(),te=T.getBoundingClientRect();if(a.dir!=="rtl"){const xe=te.left-U.left,Se=q.left-xe,oe=V.left-Se,ae=V.width+oe,Ee=Math.max(ae,U.width),Oe=window.innerWidth-cs,Be=rT(Se,[cs,Math.max(cs,Oe-Ee)]);d.style.minWidth=ae+"px",d.style.left=Be+"px"}else{const xe=U.right-te.right,Se=window.innerWidth-q.right-xe,oe=window.innerWidth-V.right-Se,ae=V.width+oe,Ee=Math.max(ae,U.width),Oe=window.innerWidth-cs,Be=rT(Se,[cs,Math.max(cs,Oe-Ee)]);d.style.minWidth=ae+"px",d.style.right=Be+"px"}const ie=x(),se=window.innerHeight-cs*2,Ce=w.scrollHeight,je=window.getComputedStyle(g),Me=parseInt(je.borderTopWidth,10),re=parseInt(je.paddingTop,10),Ie=parseInt(je.borderBottomWidth,10),de=parseInt(je.paddingBottom,10),fe=Me+re+Ce+de+Ie,K=Math.min(C.offsetHeight*5,fe),ne=window.getComputedStyle(w),me=parseInt(ne.paddingTop,10),B=parseInt(ne.paddingBottom,10),j=V.top+V.height/2-cs,G=se-j,H=C.offsetHeight/2,J=C.offsetTop+H,X=Me+re+J,Z=fe-X;if(X<=j){const xe=ie.length>0&&C===ie[ie.length-1].ref.current;d.style.bottom="0px";const Se=g.clientHeight-w.offsetTop-w.offsetHeight,oe=Math.max(G,H+(xe?B:0)+Se+Ie),ae=X+oe;d.style.height=ae+"px"}else{const xe=ie.length>0&&C===ie[0].ref.current;d.style.top="0px";const oe=Math.max(j,Me+w.offsetTop+(xe?me:0)+H)+Z;d.style.height=oe+"px",w.scrollTop=X-j+w.offsetTop}d.style.margin=`${cs}px 0`,d.style.minHeight=K+"px",d.style.maxHeight=se+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[x,a.trigger,a.valueNode,d,g,w,C,T,a.dir,r]);Ar(()=>I(),[I]);const[O,L]=F.useState();Ar(()=>{g&&L(window.getComputedStyle(g).zIndex)},[g]);const k=F.useCallback(V=>{V&&E.current===!0&&(I(),_==null||_(),E.current=!1)},[I,_]);return P.jsx(S8,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:k,children:P.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:P.jsx(Bt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});BM.displayName=x8;var b8="SelectPopperPosition",_C=F.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=cs,...a}=e,c=iS(n);return P.jsx(Lw,{...c,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_C.displayName=b8;var[S8,Xw]=dg(th,{}),IC="SelectViewport",jM=F.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=Gc(IC,n),c=Xw(IC,n),d=ln(t,a.onViewportChange),h=F.useRef(0);return P.jsxs(P.Fragment,{children:[P.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),P.jsx(nS.Slot,{scope:n,children:P.jsx(Bt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:st(s.onScroll,g=>{const p=g.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=c;if(x!=null&&x.current&&m){const b=Math.abs(h.current-p.scrollTop);if(b>0){const E=window.innerHeight-cs*2,w=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),T=Math.max(w,C);if(T<E){const _=T+b,I=Math.min(E,_),O=_-I;m.style.height=I+"px",m.style.bottom==="0px"&&(p.scrollTop=O>0?O:0,m.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});jM.displayName=IC;var zM="SelectGroup",[A8,E8]=dg(zM),C8=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=da();return P.jsx(A8,{scope:n,id:s,children:P.jsx(Bt.div,{role:"group","aria-labelledby":s,...r,ref:t})})});C8.displayName=zM;var UM="SelectLabel",w8=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=E8(UM,n);return P.jsx(Bt.div,{id:s.id,...r,ref:t})});w8.displayName=UM;var Nb="SelectItem",[R8,VM]=dg(Nb),GM=F.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...c}=e,d=Vc(Nb,n),h=Gc(Nb,n),g=d.value===r,[p,m]=F.useState(a??""),[x,b]=F.useState(!1),E=ln(t,_=>{var I;return(I=h.itemRefCallback)==null?void 0:I.call(h,_,r,s)}),w=da(),C=F.useRef("touch"),T=()=>{s||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return P.jsx(R8,{scope:n,value:r,disabled:s,textId:w,isSelected:g,onItemTextChange:F.useCallback(_=>{m(I=>I||((_==null?void 0:_.textContent)??"").trim())},[]),children:P.jsx(nS.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:P.jsx(Bt.div,{role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":g&&x,"data-state":g?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:E,onFocus:st(c.onFocus,()=>b(!0)),onBlur:st(c.onBlur,()=>b(!1)),onClick:st(c.onClick,()=>{C.current!=="mouse"&&T()}),onPointerUp:st(c.onPointerUp,()=>{C.current==="mouse"&&T()}),onPointerDown:st(c.onPointerDown,_=>{C.current=_.pointerType}),onPointerMove:st(c.onPointerMove,_=>{var I;C.current=_.pointerType,s?(I=h.onItemLeave)==null||I.call(h):C.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(c.onPointerLeave,_=>{var I;_.currentTarget===document.activeElement&&((I=h.onItemLeave)==null||I.call(h))}),onKeyDown:st(c.onKeyDown,_=>{var O;((O=h.searchRef)==null?void 0:O.current)!==""&&_.key===" "||(c8.includes(_.key)&&T(),_.key===" "&&_.preventDefault())})})})})});GM.displayName=Nb;var V0="SelectItemText",$M=F.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,c=Vc(V0,n),d=Gc(V0,n),h=VM(V0,n),g=p8(V0,n),[p,m]=F.useState(null),x=ln(t,T=>m(T),h.onItemTextChange,T=>{var _;return(_=d.itemTextRefCallback)==null?void 0:_.call(d,T,h.value,h.disabled)}),b=p==null?void 0:p.textContent,E=F.useMemo(()=>P.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=g;return Ar(()=>(w(E),()=>C(E)),[w,C,E]),P.jsxs(P.Fragment,{children:[P.jsx(Bt.span,{id:h.textId,...a,ref:x}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?fy.createPortal(a.children,c.valueNode):null]})});$M.displayName=V0;var HM="SelectItemIndicator",WM=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return VM(HM,n).isSelected?P.jsx(Bt.span,{"aria-hidden":!0,...r,ref:t}):null});WM.displayName=HM;var OC="SelectScrollUpButton",YM=F.forwardRef((e,t)=>{const n=Gc(OC,e.__scopeSelect),r=Xw(OC,e.__scopeSelect),[s,a]=F.useState(!1),c=ln(t,r.onScrollButtonChange);return Ar(()=>{if(n.viewport&&n.isPositioned){let d=function(){const g=h.scrollTop>0;a(g)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?P.jsx(KM,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});YM.displayName=OC;var DC="SelectScrollDownButton",qM=F.forwardRef((e,t)=>{const n=Gc(DC,e.__scopeSelect),r=Xw(DC,e.__scopeSelect),[s,a]=F.useState(!1),c=ln(t,r.onScrollButtonChange);return Ar(()=>{if(n.viewport&&n.isPositioned){let d=function(){const g=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<g;a(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?P.jsx(KM,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});qM.displayName=DC;var KM=F.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=Gc("SelectScrollButton",n),c=F.useRef(null),d=rS(n),h=F.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return F.useEffect(()=>()=>h(),[h]),Ar(()=>{var p;const g=d().find(m=>m.ref.current===document.activeElement);(p=g==null?void 0:g.ref.current)==null||p.scrollIntoView({block:"nearest"})},[d]),P.jsx(Bt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:st(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:st(s.onPointerMove,()=>{var g;(g=a.onItemLeave)==null||g.call(a),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:st(s.onPointerLeave,()=>{h()})})}),T8="SelectSeparator",N8=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return P.jsx(Bt.div,{"aria-hidden":!0,...r,ref:t})});N8.displayName=T8;var PC="SelectArrow",_8=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=iS(n),a=Vc(PC,n),c=Gc(PC,n);return a.open&&c.position==="popper"?P.jsx(Fw,{...s,...r,ref:t}):null});_8.displayName=PC;function XM(e){return e===""||e===void 0}var ZM=F.forwardRef((e,t)=>{const{value:n,...r}=e,s=F.useRef(null),a=ln(t,s),c=dw(n);return F.useEffect(()=>{const d=s.current,h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==n&&p){const m=new Event("change",{bubbles:!0});p.call(d,n),d.dispatchEvent(m)}},[c,n]),P.jsx(Hw,{asChild:!0,children:P.jsx("select",{...r,ref:a,defaultValue:n})})});ZM.displayName="BubbleSelect";function JM(e){const t=ro(e),n=F.useRef(""),r=F.useRef(0),s=F.useCallback(c=>{const d=n.current+c;t(d),function h(g){n.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(d)},[t]),a=F.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return F.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function QM(e,t,n){const s=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let c=I8(e,Math.max(a,0));s.length===1&&(c=c.filter(g=>g!==n));const h=c.find(g=>g.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function I8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var O8=NM,D8=IM,P8=DM,M8=PM,L8=MM,F8=LM,k8=jM,B8=GM,j8=$M,z8=WM,U8=YM,V8=qM;function iT({...e}){return P.jsx(O8,{"data-slot":"select",...e})}function oT({...e}){return P.jsx(P8,{"data-slot":"select-value",...e})}function sT({className:e,size:t="default",children:n,...r}){return P.jsxs(D8,{"data-slot":"select-trigger","data-size":t,className:xt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,P.jsx(M8,{asChild:!0,children:P.jsx(ID,{className:"size-4 opacity-50"})})]})}function aT({className:e,children:t,position:n="popper",...r}){return P.jsx(L8,{children:P.jsxs(F8,{"data-slot":"select-content",className:xt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[P.jsx(G8,{}),P.jsx(k8,{className:xt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),P.jsx($8,{})]})})}function nA({className:e,children:t,...n}){return P.jsxs(B8,{"data-slot":"select-item",className:xt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[P.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:P.jsx(z8,{children:P.jsx(_D,{className:"size-4"})})}),P.jsx(j8,{children:t})]})}function G8({className:e,...t}){return P.jsx(U8,{"data-slot":"select-scroll-up-button",className:xt("flex cursor-default items-center justify-center py-1",e),...t,children:P.jsx(Nj,{className:"size-4"})})}function $8({className:e,...t}){return P.jsx(V8,{"data-slot":"select-scroll-down-button",className:xt("flex cursor-default items-center justify-center py-1",e),...t,children:P.jsx(ID,{className:"size-4"})})}async function H8(e,t,n){const r=await Oo(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:t,expiration:n})});if(!r.ok)throw new Error("Failed to create share link");return r.json()}async function W8(e){const t=await Oo(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`);if(!t.ok)throw new Error("Failed to fetch share links");return t.json()}async function Y8(e){if(!(await Oo(`https://wafflebase-api.yorkie.dev/share-links/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete share link")}async function q8(e){const t=await fetch(`https://wafflebase-api.yorkie.dev/share-links/${e}/resolve`);if(t.status===410)throw new Error("Share link has expired");if(!t.ok)throw new Error("Invalid share link");return t.json()}const K8=[{value:"none",label:"No limit"},{value:"1h",label:"1 hour"},{value:"8h",label:"8 hours"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"}];function X8(e){if(!e)return"No expiration";const t=new Date(e),n=new Date;if(t<n)return"Expired";const r=t.getTime()-n.getTime(),s=Math.floor(r/(1e3*60*60)),a=Math.floor(s/24);return a>0?`Expires in ${a}d`:s>0?`Expires in ${s}h`:`Expires in ${Math.floor(r/(1e3*60))}m`}function Z8({documentId:e}){const[t,n]=F.useState(!1),[r,s]=F.useState("viewer"),[a,c]=F.useState("none"),[d,h]=F.useState([]),[g,p]=F.useState(!1);F.useEffect(()=>{t&&W8(e).then(h).catch(()=>{})},[t,e]);const m=async()=>{p(!0);try{const E=await H8(e,r,a==="none"?null:a);h(C=>[E,...C]);const w=`${window.location.origin}/shared/${E.token}`;await navigator.clipboard.writeText(w),li.success("Link created and copied to clipboard")}catch{li.error("Failed to create share link")}finally{p(!1)}},x=async E=>{const w=`${window.location.origin}/shared/${E}`;await navigator.clipboard.writeText(w),li.success("Link copied to clipboard")},b=async E=>{try{await Y8(E),h(w=>w.filter(C=>C.id!==E)),li.success("Share link revoked")}catch{li.error("Failed to revoke share link")}};return P.jsxs(jb,{open:t,onOpenChange:n,children:[P.jsx(KV,{asChild:!0,children:P.jsxs(jr,{variant:"outline",size:"sm",children:[P.jsx(KG,{className:"h-4 w-4 mr-1"}),"Share"]})}),P.jsxs(zb,{children:[P.jsxs(Ub,{children:[P.jsx(Vb,{children:"Share document"}),P.jsx(Sw,{children:"Create a link to share this document with others."})]}),P.jsxs("div",{className:"flex items-end gap-2",children:[P.jsxs("div",{className:"flex-1 space-y-1",children:[P.jsx("label",{className:"text-sm font-medium",children:"Permission"}),P.jsxs(iT,{value:r,onValueChange:s,children:[P.jsx(sT,{className:"w-full",children:P.jsx(oT,{})}),P.jsxs(aT,{children:[P.jsx(nA,{value:"viewer",children:"Viewer"}),P.jsx(nA,{value:"editor",children:"Editor"})]})]})]}),P.jsxs("div",{className:"flex-1 space-y-1",children:[P.jsx("label",{className:"text-sm font-medium",children:"Expiration"}),P.jsxs(iT,{value:a,onValueChange:c,children:[P.jsx(sT,{className:"w-full",children:P.jsx(oT,{})}),P.jsx(aT,{children:K8.map(E=>P.jsx(nA,{value:E.value,children:E.label},E.value))})]})]}),P.jsx(jr,{onClick:m,disabled:g,children:"Create Link"})]}),d.length>0&&P.jsxs(P.Fragment,{children:[P.jsx(Ip,{}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("h4",{className:"text-sm font-medium",children:"Active links"}),P.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:d.map(E=>P.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2 text-sm",children:[P.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[P.jsx("span",{className:"capitalize font-medium",children:E.role}),P.jsx("span",{className:"text-muted-foreground text-xs",children:X8(E.expiresAt)})]}),P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx(jr,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>x(E.token),children:P.jsx(GG,{className:"h-3.5 w-3.5"})}),P.jsx(jr,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>b(E.id),children:P.jsx(ZG,{className:"h-3.5 w-3.5"})})]})]},E.id))})]})]})]})]})}function J8(){const{doc:e}=ma.useDocument(),{data:t}=Uc({queryKey:["me"],queryFn:nh,retry:!1});F.useEffect(()=>{!e||!t||e.update((n,r)=>{r.set({username:t.username,email:t.email,photo:t.photo||""})})},[e,t])}var kf={},rA={},lT;function Q8(){if(lT)return rA;lT=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(rA,"__esModule",{value:!0}),rA}var iA={},uT;function e$(){if(uT)return iA;uT=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(iA,"__esModule",{value:!0}),iA}var Bf={},oA={exports:{}},sA={},aA={},lA={},uA,cT;function Zw(){return cT||(cT=1,uA=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;t[n]=s;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var c=Object.getOwnPropertySymbols(t);if(c.length!==1||c[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(t,n);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),uA}var cA,fT;function oS(){if(fT)return cA;fT=1;var e=Zw();return cA=function(){return e()&&!!Symbol.toStringTag},cA}var fA,dT;function Jw(){return dT||(dT=1,fA=Object),fA}var dA,hT;function t$(){return hT||(hT=1,dA=Error),dA}var hA,pT;function n$(){return pT||(pT=1,hA=EvalError),hA}var pA,gT;function r$(){return gT||(gT=1,pA=RangeError),pA}var gA,mT;function i$(){return mT||(mT=1,gA=ReferenceError),gA}var mA,yT;function eL(){return yT||(yT=1,mA=SyntaxError),mA}var yA,vT;function xy(){return vT||(vT=1,yA=TypeError),yA}var vA,xT;function o$(){return xT||(xT=1,vA=URIError),vA}var xA,bT;function s$(){return bT||(bT=1,xA=Math.abs),xA}var bA,ST;function a$(){return ST||(ST=1,bA=Math.floor),bA}var SA,AT;function l$(){return AT||(AT=1,SA=Math.max),SA}var AA,ET;function u$(){return ET||(ET=1,AA=Math.min),AA}var EA,CT;function c$(){return CT||(CT=1,EA=Math.pow),EA}var CA,wT;function f$(){return wT||(wT=1,CA=Math.round),CA}var wA,RT;function d$(){return RT||(RT=1,wA=Number.isNaN||function(t){return t!==t}),wA}var RA,TT;function h$(){if(TT)return RA;TT=1;var e=d$();return RA=function(n){return e(n)||n===0?n:n<0?-1:1},RA}var TA,NT;function p$(){return NT||(NT=1,TA=Object.getOwnPropertyDescriptor),TA}var NA,_T;function hg(){if(_T)return NA;_T=1;var e=p$();if(e)try{e([],"length")}catch{e=null}return NA=e,NA}var _A,IT;function sS(){if(IT)return _A;IT=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return _A=e,_A}var IA,OT;function g$(){if(OT)return IA;OT=1;var e=typeof Symbol<"u"&&Symbol,t=Zw();return IA=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},IA}var OA,DT;function tL(){return DT||(DT=1,OA=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),OA}var DA,PT;function nL(){if(PT)return DA;PT=1;var e=Jw();return DA=e.getPrototypeOf||null,DA}var PA,MT;function m$(){if(MT)return PA;MT=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",s=function(h,g){for(var p=[],m=0;m<h.length;m+=1)p[m]=h[m];for(var x=0;x<g.length;x+=1)p[x+h.length]=g[x];return p},a=function(h,g){for(var p=[],m=g,x=0;m<h.length;m+=1,x+=1)p[x]=h[m];return p},c=function(d,h){for(var g="",p=0;p<d.length;p+=1)g+=d[p],p+1<d.length&&(g+=h);return g};return PA=function(h){var g=this;if(typeof g!="function"||t.apply(g)!==r)throw new TypeError(e+g);for(var p=a(arguments,1),m,x=function(){if(this instanceof m){var T=g.apply(this,s(p,arguments));return Object(T)===T?T:this}return g.apply(h,s(p,arguments))},b=n(0,g.length-p.length),E=[],w=0;w<b;w++)E[w]="$"+w;if(m=Function("binder","return function ("+c(E,",")+"){ return binder.apply(this,arguments); }")(x),g.prototype){var C=function(){};C.prototype=g.prototype,m.prototype=new C,C.prototype=null}return m},PA}var MA,LT;function by(){if(LT)return MA;LT=1;var e=m$();return MA=Function.prototype.bind||e,MA}var LA,FT;function Qw(){return FT||(FT=1,LA=Function.prototype.call),LA}var FA,kT;function e2(){return kT||(kT=1,FA=Function.prototype.apply),FA}var kA,BT;function y$(){return BT||(BT=1,kA=typeof Reflect<"u"&&Reflect&&Reflect.apply),kA}var BA,jT;function rL(){if(jT)return BA;jT=1;var e=by(),t=e2(),n=Qw(),r=y$();return BA=r||e.call(n,t),BA}var jA,zT;function t2(){if(zT)return jA;zT=1;var e=by(),t=xy(),n=Qw(),r=rL();return jA=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return r(e,n,a)},jA}var zA,UT;function v$(){if(UT)return zA;UT=1;var e=t2(),t=hg(),n;try{n=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var r=!!n&&t&&t(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return zA=r&&typeof r.get=="function"?e([r.get]):typeof a=="function"?function(d){return a(d==null?d:s(d))}:!1,zA}var UA,VT;function n2(){if(VT)return UA;VT=1;var e=tL(),t=nL(),n=v$();return UA=e?function(s){return e(s)}:t?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return t(s)}:n?function(s){return n(s)}:null,UA}var VA,GT;function iL(){if(GT)return VA;GT=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=by();return VA=n.call(e,t),VA}var GA,$T;function r2(){if($T)return GA;$T=1;var e,t=Jw(),n=t$(),r=n$(),s=r$(),a=i$(),c=eL(),d=xy(),h=o$(),g=s$(),p=a$(),m=l$(),x=u$(),b=c$(),E=f$(),w=h$(),C=Function,T=function(Z){try{return C('"use strict"; return ('+Z+").constructor;")()}catch{}},_=hg(),I=sS(),O=function(){throw new d},L=_?function(){try{return arguments.callee,O}catch{try{return _(arguments,"callee").get}catch{return O}}}():O,k=g$()(),V=n2(),U=nL(),q=tL(),te=e2(),ie=Qw(),se={},Ce=typeof Uint8Array>"u"||!V?e:V(Uint8Array),je={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":k&&V?V([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":se,"%AsyncGenerator%":se,"%AsyncGeneratorFunction%":se,"%AsyncIteratorPrototype%":se,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":se,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&V?V(V([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k||!V?e:V(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k||!V?e:V(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&V?V(""[Symbol.iterator]()):e,"%Symbol%":k?Symbol:e,"%SyntaxError%":c,"%ThrowTypeError%":L,"%TypedArray%":Ce,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":h,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":ie,"%Function.prototype.apply%":te,"%Object.defineProperty%":I,"%Object.getPrototypeOf%":U,"%Math.abs%":g,"%Math.floor%":p,"%Math.max%":m,"%Math.min%":x,"%Math.pow%":b,"%Math.round%":E,"%Math.sign%":w,"%Reflect.getPrototypeOf%":q};if(V)try{null.error}catch(Z){var Me=V(V(Z));je["%Error.prototype%"]=Me}var re=function Z(le){var xe;if(le==="%AsyncFunction%")xe=T("async function () {}");else if(le==="%GeneratorFunction%")xe=T("function* () {}");else if(le==="%AsyncGeneratorFunction%")xe=T("async function* () {}");else if(le==="%AsyncGenerator%"){var Se=Z("%AsyncGeneratorFunction%");Se&&(xe=Se.prototype)}else if(le==="%AsyncIteratorPrototype%"){var oe=Z("%AsyncGenerator%");oe&&V&&(xe=V(oe.prototype))}return je[le]=xe,xe},Ie={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},de=by(),fe=iL(),K=de.call(ie,Array.prototype.concat),ne=de.call(te,Array.prototype.splice),me=de.call(ie,String.prototype.replace),B=de.call(ie,String.prototype.slice),j=de.call(ie,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H=/\\(\\)?/g,J=function(le){var xe=B(le,0,1),Se=B(le,-1);if(xe==="%"&&Se!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(Se==="%"&&xe!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var oe=[];return me(le,G,function(ae,Ee,Oe,Be){oe[oe.length]=Oe?me(Be,H,"$1"):Ee||ae}),oe},X=function(le,xe){var Se=le,oe;if(fe(Ie,Se)&&(oe=Ie[Se],Se="%"+oe[0]+"%"),fe(je,Se)){var ae=je[Se];if(ae===se&&(ae=re(Se)),typeof ae>"u"&&!xe)throw new d("intrinsic "+le+" exists, but is not available. Please file an issue!");return{alias:oe,name:Se,value:ae}}throw new c("intrinsic "+le+" does not exist!")};return GA=function(le,xe){if(typeof le!="string"||le.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof xe!="boolean")throw new d('"allowMissing" argument must be a boolean');if(j(/^%?[^%]*%?$/,le)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Se=J(le),oe=Se.length>0?Se[0]:"",ae=X("%"+oe+"%",xe),Ee=ae.name,Oe=ae.value,Be=!1,Ge=ae.alias;Ge&&(oe=Ge[0],ne(Se,K([0,1],Ge)));for(var ye=1,Fe=!0;ye<Se.length;ye+=1){var Qe=Se[ye],yt=B(Qe,0,1),ht=B(Qe,-1);if((yt==='"'||yt==="'"||yt==="`"||ht==='"'||ht==="'"||ht==="`")&&yt!==ht)throw new c("property names with quotes must have matching quotes");if((Qe==="constructor"||!Fe)&&(Be=!0),oe+="."+Qe,Ee="%"+oe+"%",fe(je,Ee))Oe=je[Ee];else if(Oe!=null){if(!(Qe in Oe)){if(!xe)throw new d("base intrinsic for "+le+" exists, but the property is not available.");return}if(_&&ye+1>=Se.length){var pe=_(Oe,Qe);Fe=!!pe,Fe&&"get"in pe&&!("originalValue"in pe.get)?Oe=pe.get:Oe=Oe[Qe]}else Fe=fe(Oe,Qe),Oe=Oe[Qe];Fe&&!Be&&(je[Ee]=Oe)}}return Oe},GA}var $A,HT;function pg(){if(HT)return $A;HT=1;var e=r2(),t=t2(),n=t([e("%String.prototype.indexOf%")]);return $A=function(s,a){var c=e(s,!!a);return typeof c=="function"&&n(s,".prototype.")>-1?t([c]):c},$A}var HA,WT;function x$(){if(WT)return HA;WT=1;var e=oS()(),t=pg(),n=t("Object.prototype.toString"),r=function(d){return e&&d&&typeof d=="object"&&Symbol.toStringTag in d?!1:n(d)==="[object Arguments]"},s=function(d){return r(d)?!0:d!==null&&typeof d=="object"&&"length"in d&&typeof d.length=="number"&&d.length>=0&&n(d)!=="[object Array]"&&"callee"in d&&n(d.callee)==="[object Function]"},a=function(){return r(arguments)}();return r.isLegacyArguments=s,HA=a?r:s,HA}var WA,YT;function b$(){if(YT)return WA;YT=1;var e=pg(),t=oS()(),n=iL(),r=hg(),s;if(t){var a=e("RegExp.prototype.exec"),c={},d=function(){throw c},h={toString:d,valueOf:d};typeof Symbol.toPrimitive=="symbol"&&(h[Symbol.toPrimitive]=d),s=function(x){if(!x||typeof x!="object")return!1;var b=r(x,"lastIndex"),E=b&&n(b,"value");if(!E)return!1;try{a(x,h)}catch(w){return w===c}}}else{var g=e("Object.prototype.toString"),p="[object RegExp]";s=function(x){return!x||typeof x!="object"&&typeof x!="function"?!1:g(x)===p}}return WA=s,WA}var YA,qT;function S$(){if(qT)return YA;qT=1;var e=pg(),t=b$(),n=e("RegExp.prototype.exec"),r=xy();return YA=function(a){if(!t(a))throw new r("`regex` must be a RegExp");return function(d){return n(a,d)!==null}},YA}var qA,KT;function A$(){if(KT)return qA;KT=1;var e=pg(),t=S$(),n=t(/^\s*(?:function)?\*/),r=oS()(),s=n2(),a=e("Object.prototype.toString"),c=e("Function.prototype.toString"),d=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},h;return qA=function(p){if(typeof p!="function")return!1;if(n(c(p)))return!0;if(!r){var m=a(p);return m==="[object GeneratorFunction]"}if(!s)return!1;if(typeof h>"u"){var x=d();h=x?s(x):!1}return s(p)===h},qA}var KA,XT;function E$(){if(XT)return KA;XT=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},t(function(){throw 42},null,n)}catch(_){_!==r&&(t=null)}else t=null;var s=/^\s*class\b/,a=function(I){try{var O=e.call(I);return s.test(O)}catch{return!1}},c=function(I){try{return a(I)?!1:(e.call(I),!0)}catch{return!1}},d=Object.prototype.toString,h="[object Object]",g="[object Function]",p="[object GeneratorFunction]",m="[object HTMLAllCollection]",x="[object HTML document.all class]",b="[object HTMLCollection]",E=typeof Symbol=="function"&&!!Symbol.toStringTag,w=!(0 in[,]),C=function(){return!1};if(typeof document=="object"){var T=document.all;d.call(T)===d.call(document.all)&&(C=function(I){if((w||!I)&&(typeof I>"u"||typeof I=="object"))try{var O=d.call(I);return(O===m||O===x||O===b||O===h)&&I("")==null}catch{}return!1})}return KA=t?function(I){if(C(I))return!0;if(!I||typeof I!="function"&&typeof I!="object")return!1;try{t(I,null,n)}catch(O){if(O!==r)return!1}return!a(I)&&c(I)}:function(I){if(C(I))return!0;if(!I||typeof I!="function"&&typeof I!="object")return!1;if(E)return c(I);if(a(I))return!1;var O=d.call(I);return O!==g&&O!==p&&!/^\[object HTML/.test(O)?!1:c(I)},KA}var XA,ZT;function C$(){if(ZT)return XA;ZT=1;var e=E$(),t=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(h,g,p){for(var m=0,x=h.length;m<x;m++)n.call(h,m)&&(p==null?g(h[m],m,h):g.call(p,h[m],m,h))},s=function(h,g,p){for(var m=0,x=h.length;m<x;m++)p==null?g(h.charAt(m),m,h):g.call(p,h.charAt(m),m,h)},a=function(h,g,p){for(var m in h)n.call(h,m)&&(p==null?g(h[m],m,h):g.call(p,h[m],m,h))};function c(d){return t.call(d)==="[object Array]"}return XA=function(h,g,p){if(!e(g))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=p),c(h)?r(h,g,m):typeof h=="string"?s(h,g,m):a(h,g,m)},XA}var ZA,JT;function w$(){return JT||(JT=1,ZA=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),ZA}var JA,QT;function R$(){if(QT)return JA;QT=1;var e=w$(),t=typeof globalThis>"u"?YO:globalThis;return JA=function(){for(var r=[],s=0;s<e.length;s++)typeof t[e[s]]=="function"&&(r[r.length]=e[s]);return r},JA}var QA={exports:{}},eE,eN;function oL(){if(eN)return eE;eN=1;var e=sS(),t=eL(),n=xy(),r=hg();return eE=function(a,c,d){if(!a||typeof a!="object"&&typeof a!="function")throw new n("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var h=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,x=!!r&&r(a,c);if(e)e(a,c,{configurable:p===null&&x?x.configurable:!p,enumerable:h===null&&x?x.enumerable:!h,value:d,writable:g===null&&x?x.writable:!g});else if(m||!h&&!g&&!p)a[c]=d;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},eE}var tE,tN;function sL(){if(tN)return tE;tN=1;var e=sS(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},tE=t,tE}var nE,nN;function T$(){if(nN)return nE;nN=1;var e=r2(),t=oL(),n=sL()(),r=hg(),s=xy(),a=e("%Math.floor%");return nE=function(d,h){if(typeof d!="function")throw new s("`fn` is not a function");if(typeof h!="number"||h<0||h>4294967295||a(h)!==h)throw new s("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],p=!0,m=!0;if("length"in d&&r){var x=r(d,"length");x&&!x.configurable&&(p=!1),x&&!x.writable&&(m=!1)}return(p||m||!g)&&(n?t(d,"length",h,!0,!0):t(d,"length",h)),d},nE}var rE,rN;function N$(){if(rN)return rE;rN=1;var e=by(),t=e2(),n=rL();return rE=function(){return n(e,t,arguments)},rE}var iN;function aS(){return iN||(iN=1,function(e){var t=T$(),n=sS(),r=t2(),s=N$();e.exports=function(c){var d=r(arguments),h=c.length-(arguments.length-1);return t(d,1+(h>0?h:0),!0)},n?n(e.exports,"apply",{value:s}):e.exports.apply=s}(QA)),QA.exports}var iE,oN;function aL(){if(oN)return iE;oN=1;var e=C$(),t=R$(),n=aS(),r=pg(),s=hg(),a=n2(),c=r("Object.prototype.toString"),d=oS()(),h=typeof globalThis>"u"?YO:globalThis,g=t(),p=r("String.prototype.slice"),m=r("Array.prototype.indexOf",!0)||function(C,T){for(var _=0;_<C.length;_+=1)if(C[_]===T)return _;return-1},x={__proto__:null};d&&s&&a?e(g,function(w){var C=new h[w];if(Symbol.toStringTag in C&&a){var T=a(C),_=s(T,Symbol.toStringTag);if(!_&&T){var I=a(T);_=s(I,Symbol.toStringTag)}x["$"+w]=n(_.get)}}):e(g,function(w){var C=new h[w],T=C.slice||C.set;T&&(x["$"+w]=n(T))});var b=function(C){var T=!1;return e(x,function(_,I){if(!T)try{"$"+_(C)===I&&(T=p(I,1))}catch{}}),T},E=function(C){var T=!1;return e(x,function(_,I){if(!T)try{_(C),T=p(I,1)}catch{}}),T};return iE=function(C){if(!C||typeof C!="object")return!1;if(!d){var T=p(c(C),8,-1);return m(g,T)>-1?T:T!=="Object"?!1:E(C)}return s?b(C):null},iE}var oE,sN;function _$(){if(sN)return oE;sN=1;var e=aL();return oE=function(n){return!!e(n)},oE}var aN;function I$(){return aN||(aN=1,function(e){var t=x$(),n=A$(),r=aL(),s=_$();function a(ye){return ye.call.bind(ye)}var c=typeof BigInt<"u",d=typeof Symbol<"u",h=a(Object.prototype.toString),g=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),m=a(Boolean.prototype.valueOf);if(c)var x=a(BigInt.prototype.valueOf);if(d)var b=a(Symbol.prototype.valueOf);function E(ye,Fe){if(typeof ye!="object")return!1;try{return Fe(ye),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=s;function w(ye){return typeof Promise<"u"&&ye instanceof Promise||ye!==null&&typeof ye=="object"&&typeof ye.then=="function"&&typeof ye.catch=="function"}e.isPromise=w;function C(ye){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ye):s(ye)||B(ye)}e.isArrayBufferView=C;function T(ye){return r(ye)==="Uint8Array"}e.isUint8Array=T;function _(ye){return r(ye)==="Uint8ClampedArray"}e.isUint8ClampedArray=_;function I(ye){return r(ye)==="Uint16Array"}e.isUint16Array=I;function O(ye){return r(ye)==="Uint32Array"}e.isUint32Array=O;function L(ye){return r(ye)==="Int8Array"}e.isInt8Array=L;function k(ye){return r(ye)==="Int16Array"}e.isInt16Array=k;function V(ye){return r(ye)==="Int32Array"}e.isInt32Array=V;function U(ye){return r(ye)==="Float32Array"}e.isFloat32Array=U;function q(ye){return r(ye)==="Float64Array"}e.isFloat64Array=q;function te(ye){return r(ye)==="BigInt64Array"}e.isBigInt64Array=te;function ie(ye){return r(ye)==="BigUint64Array"}e.isBigUint64Array=ie;function se(ye){return h(ye)==="[object Map]"}se.working=typeof Map<"u"&&se(new Map);function Ce(ye){return typeof Map>"u"?!1:se.working?se(ye):ye instanceof Map}e.isMap=Ce;function je(ye){return h(ye)==="[object Set]"}je.working=typeof Set<"u"&&je(new Set);function Me(ye){return typeof Set>"u"?!1:je.working?je(ye):ye instanceof Set}e.isSet=Me;function re(ye){return h(ye)==="[object WeakMap]"}re.working=typeof WeakMap<"u"&&re(new WeakMap);function Ie(ye){return typeof WeakMap>"u"?!1:re.working?re(ye):ye instanceof WeakMap}e.isWeakMap=Ie;function de(ye){return h(ye)==="[object WeakSet]"}de.working=typeof WeakSet<"u"&&de(new WeakSet);function fe(ye){return de(ye)}e.isWeakSet=fe;function K(ye){return h(ye)==="[object ArrayBuffer]"}K.working=typeof ArrayBuffer<"u"&&K(new ArrayBuffer);function ne(ye){return typeof ArrayBuffer>"u"?!1:K.working?K(ye):ye instanceof ArrayBuffer}e.isArrayBuffer=ne;function me(ye){return h(ye)==="[object DataView]"}me.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&me(new DataView(new ArrayBuffer(1),0,1));function B(ye){return typeof DataView>"u"?!1:me.working?me(ye):ye instanceof DataView}e.isDataView=B;var j=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function G(ye){return h(ye)==="[object SharedArrayBuffer]"}function H(ye){return typeof j>"u"?!1:(typeof G.working>"u"&&(G.working=G(new j)),G.working?G(ye):ye instanceof j)}e.isSharedArrayBuffer=H;function J(ye){return h(ye)==="[object AsyncFunction]"}e.isAsyncFunction=J;function X(ye){return h(ye)==="[object Map Iterator]"}e.isMapIterator=X;function Z(ye){return h(ye)==="[object Set Iterator]"}e.isSetIterator=Z;function le(ye){return h(ye)==="[object Generator]"}e.isGeneratorObject=le;function xe(ye){return h(ye)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=xe;function Se(ye){return E(ye,g)}e.isNumberObject=Se;function oe(ye){return E(ye,p)}e.isStringObject=oe;function ae(ye){return E(ye,m)}e.isBooleanObject=ae;function Ee(ye){return c&&E(ye,x)}e.isBigIntObject=Ee;function Oe(ye){return d&&E(ye,b)}e.isSymbolObject=Oe;function Be(ye){return Se(ye)||oe(ye)||ae(ye)||Ee(ye)||Oe(ye)}e.isBoxedPrimitive=Be;function Ge(ye){return typeof Uint8Array<"u"&&(ne(ye)||H(ye))}e.isAnyArrayBuffer=Ge,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ye){Object.defineProperty(e,ye,{enumerable:!1,value:function(){throw new Error(ye+" is not supported in userland")}})})}(lA)),lA}var sE,lN;function O$(){return lN||(lN=1,sE=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),sE}var Xx={exports:{}},uN;function D$(){return uN||(uN=1,typeof Object.create=="function"?Xx.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Xx.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}),Xx.exports}var cN;function Jp(){return cN||(cN=1,function(e){var t={},n=Object.getOwnPropertyDescriptors||function(j){for(var G=Object.keys(j),H={},J=0;J<G.length;J++)H[G[J]]=Object.getOwnPropertyDescriptor(j,G[J]);return H},r=/%[sdj%]/g;e.format=function(B){if(!k(B)){for(var j=[],G=0;G<arguments.length;G++)j.push(d(arguments[G]));return j.join(" ")}for(var G=1,H=arguments,J=H.length,X=String(B).replace(r,function(le){if(le==="%%")return"%";if(G>=J)return le;switch(le){case"%s":return String(H[G++]);case"%d":return Number(H[G++]);case"%j":try{return JSON.stringify(H[G++])}catch{return"[Circular]"}default:return le}}),Z=H[G];G<J;Z=H[++G])I(Z)||!te(Z)?X+=" "+Z:X+=" "+d(Z);return X},e.deprecate=function(B,j){if(typeof process<"u"&&process.noDeprecation===!0)return B;if(typeof process>"u")return function(){return e.deprecate(B,j).apply(this,arguments)};var G=!1;function H(){if(!G){if(process.throwDeprecation)throw new Error(j);process.traceDeprecation?console.trace(j):console.error(j),G=!0}return B.apply(this,arguments)}return H};var s={},a=/^$/;if(t.NODE_DEBUG){var c=t.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+c+"$","i")}e.debuglog=function(B){if(B=B.toUpperCase(),!s[B])if(a.test(B)){var j=process.pid;s[B]=function(){var G=e.format.apply(e,arguments);console.error("%s %d: %s",B,j,G)}}else s[B]=function(){};return s[B]};function d(B,j){var G={seen:[],stylize:g};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),_(j)?G.showHidden=j:j&&e._extend(G,j),U(G.showHidden)&&(G.showHidden=!1),U(G.depth)&&(G.depth=2),U(G.colors)&&(G.colors=!1),U(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=h),m(G,B,G.depth)}e.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function h(B,j){var G=d.styles[j];return G?"\x1B["+d.colors[G][0]+"m"+B+"\x1B["+d.colors[G][1]+"m":B}function g(B,j){return B}function p(B){var j={};return B.forEach(function(G,H){j[G]=!0}),j}function m(B,j,G){if(B.customInspect&&j&&Ce(j.inspect)&&j.inspect!==e.inspect&&!(j.constructor&&j.constructor.prototype===j)){var H=j.inspect(G,B);return k(H)||(H=m(B,H,G)),H}var J=x(B,j);if(J)return J;var X=Object.keys(j),Z=p(X);if(B.showHidden&&(X=Object.getOwnPropertyNames(j)),se(j)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return b(j);if(X.length===0){if(Ce(j)){var le=j.name?": "+j.name:"";return B.stylize("[Function"+le+"]","special")}if(q(j))return B.stylize(RegExp.prototype.toString.call(j),"regexp");if(ie(j))return B.stylize(Date.prototype.toString.call(j),"date");if(se(j))return b(j)}var xe="",Se=!1,oe=["{","}"];if(T(j)&&(Se=!0,oe=["[","]"]),Ce(j)){var ae=j.name?": "+j.name:"";xe=" [Function"+ae+"]"}if(q(j)&&(xe=" "+RegExp.prototype.toString.call(j)),ie(j)&&(xe=" "+Date.prototype.toUTCString.call(j)),se(j)&&(xe=" "+b(j)),X.length===0&&(!Se||j.length==0))return oe[0]+xe+oe[1];if(G<0)return q(j)?B.stylize(RegExp.prototype.toString.call(j),"regexp"):B.stylize("[Object]","special");B.seen.push(j);var Ee;return Se?Ee=E(B,j,G,Z,X):Ee=X.map(function(Oe){return w(B,j,G,Z,Oe,Se)}),B.seen.pop(),C(Ee,xe,oe)}function x(B,j){if(U(j))return B.stylize("undefined","undefined");if(k(j)){var G="'"+JSON.stringify(j).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return B.stylize(G,"string")}if(L(j))return B.stylize(""+j,"number");if(_(j))return B.stylize(""+j,"boolean");if(I(j))return B.stylize("null","null")}function b(B){return"["+Error.prototype.toString.call(B)+"]"}function E(B,j,G,H,J){for(var X=[],Z=0,le=j.length;Z<le;++Z)fe(j,String(Z))?X.push(w(B,j,G,H,String(Z),!0)):X.push("");return J.forEach(function(xe){xe.match(/^\d+$/)||X.push(w(B,j,G,H,xe,!0))}),X}function w(B,j,G,H,J,X){var Z,le,xe;if(xe=Object.getOwnPropertyDescriptor(j,J)||{value:j[J]},xe.get?xe.set?le=B.stylize("[Getter/Setter]","special"):le=B.stylize("[Getter]","special"):xe.set&&(le=B.stylize("[Setter]","special")),fe(H,J)||(Z="["+J+"]"),le||(B.seen.indexOf(xe.value)<0?(I(G)?le=m(B,xe.value,null):le=m(B,xe.value,G-1),le.indexOf(`
`)>-1&&(X?le=le.split(`
`).map(function(Se){return"  "+Se}).join(`
`).slice(2):le=`
`+le.split(`
`).map(function(Se){return"   "+Se}).join(`
`))):le=B.stylize("[Circular]","special")),U(Z)){if(X&&J.match(/^\d+$/))return le;Z=JSON.stringify(""+J),Z.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Z=Z.slice(1,-1),Z=B.stylize(Z,"name")):(Z=Z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Z=B.stylize(Z,"string"))}return Z+": "+le}function C(B,j,G){var H=B.reduce(function(J,X){return X.indexOf(`
`)>=0,J+X.replace(/\u001b\[\d\d?m/g,"").length+1},0);return H>60?G[0]+(j===""?"":j+`
 `)+" "+B.join(`,
  `)+" "+G[1]:G[0]+j+" "+B.join(", ")+" "+G[1]}e.types=I$();function T(B){return Array.isArray(B)}e.isArray=T;function _(B){return typeof B=="boolean"}e.isBoolean=_;function I(B){return B===null}e.isNull=I;function O(B){return B==null}e.isNullOrUndefined=O;function L(B){return typeof B=="number"}e.isNumber=L;function k(B){return typeof B=="string"}e.isString=k;function V(B){return typeof B=="symbol"}e.isSymbol=V;function U(B){return B===void 0}e.isUndefined=U;function q(B){return te(B)&&Me(B)==="[object RegExp]"}e.isRegExp=q,e.types.isRegExp=q;function te(B){return typeof B=="object"&&B!==null}e.isObject=te;function ie(B){return te(B)&&Me(B)==="[object Date]"}e.isDate=ie,e.types.isDate=ie;function se(B){return te(B)&&(Me(B)==="[object Error]"||B instanceof Error)}e.isError=se,e.types.isNativeError=se;function Ce(B){return typeof B=="function"}e.isFunction=Ce;function je(B){return B===null||typeof B=="boolean"||typeof B=="number"||typeof B=="string"||typeof B=="symbol"||typeof B>"u"}e.isPrimitive=je,e.isBuffer=O$();function Me(B){return Object.prototype.toString.call(B)}function re(B){return B<10?"0"+B.toString(10):B.toString(10)}var Ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(){var B=new Date,j=[re(B.getHours()),re(B.getMinutes()),re(B.getSeconds())].join(":");return[B.getDate(),Ie[B.getMonth()],j].join(" ")}e.log=function(){console.log("%s - %s",de(),e.format.apply(e,arguments))},e.inherits=D$(),e._extend=function(B,j){if(!j||!te(j))return B;for(var G=Object.keys(j),H=G.length;H--;)B[G[H]]=j[G[H]];return B};function fe(B,j){return Object.prototype.hasOwnProperty.call(B,j)}var K=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(j){if(typeof j!="function")throw new TypeError('The "original" argument must be of type Function');if(K&&j[K]){var G=j[K];if(typeof G!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(G,K,{value:G,enumerable:!1,writable:!1,configurable:!0}),G}function G(){for(var H,J,X=new Promise(function(xe,Se){H=xe,J=Se}),Z=[],le=0;le<arguments.length;le++)Z.push(arguments[le]);Z.push(function(xe,Se){xe?J(xe):H(Se)});try{j.apply(this,Z)}catch(xe){J(xe)}return X}return Object.setPrototypeOf(G,Object.getPrototypeOf(j)),K&&Object.defineProperty(G,K,{value:G,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(G,n(j))},e.promisify.custom=K;function ne(B,j){if(!B){var G=new Error("Promise was rejected with a falsy value");G.reason=B,B=G}return j(B)}function me(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');function j(){for(var G=[],H=0;H<arguments.length;H++)G.push(arguments[H]);var J=G.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var X=this,Z=function(){return J.apply(X,arguments)};B.apply(this,G).then(function(le){process.nextTick(Z.bind(null,null,le))},function(le){process.nextTick(ne.bind(null,le,Z))})}return Object.setPrototypeOf(j,Object.getPrototypeOf(B)),Object.defineProperties(j,n(B)),j}e.callbackify=me}(aA)),aA}var fN;function lL(){if(fN)return sA;fN=1;function e(_){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},e(_)}function t(_,I,O){return Object.defineProperty(_,"prototype",{writable:!1}),_}function n(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")}function r(_,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(I&&I.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),I&&s(_,I)}function s(_,I){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,k){return L.__proto__=k,L},s(_,I)}function a(_){var I=h();return function(){var L=g(_),k;if(I){var V=g(this).constructor;k=Reflect.construct(L,arguments,V)}else k=L.apply(this,arguments);return c(this,k)}}function c(_,I){if(I&&(e(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(_)}function d(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(_){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},g(_)}var p={},m,x;function b(_,I,O){O||(O=Error);function L(V,U,q){return typeof I=="string"?I:I(V,U,q)}var k=function(V){r(q,V);var U=a(q);function q(te,ie,se){var Ce;return n(this,q),Ce=U.call(this,L(te,ie,se)),Ce.code=_,Ce}return t(q)}(O);p[_]=k}function E(_,I){if(Array.isArray(_)){var O=_.length;return _=_.map(function(L){return String(L)}),O>2?"one of ".concat(I," ").concat(_.slice(0,O-1).join(", "),", or ")+_[O-1]:O===2?"one of ".concat(I," ").concat(_[0]," or ").concat(_[1]):"of ".concat(I," ").concat(_[0])}else return"of ".concat(I," ").concat(String(_))}function w(_,I,O){return _.substr(0,I.length)===I}function C(_,I,O){return(O===void 0||O>_.length)&&(O=_.length),_.substring(O-I.length,O)===I}function T(_,I,O){return typeof O!="number"&&(O=0),O+I.length>_.length?!1:_.indexOf(I,O)!==-1}return b("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),b("ERR_INVALID_ARG_TYPE",function(_,I,O){m===void 0&&(m=xi()),m(typeof _=="string","'name' must be a string");var L;typeof I=="string"&&w(I,"not ")?(L="must not be",I=I.replace(/^not /,"")):L="must be";var k;if(C(_," argument"))k="The ".concat(_," ").concat(L," ").concat(E(I,"type"));else{var V=T(_,".")?"property":"argument";k='The "'.concat(_,'" ').concat(V," ").concat(L," ").concat(E(I,"type"))}return k+=". Received type ".concat(e(O)),k},TypeError),b("ERR_INVALID_ARG_VALUE",function(_,I){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";x===void 0&&(x=Jp());var L=x.inspect(I);return L.length>128&&(L="".concat(L.slice(0,128),"...")),"The argument '".concat(_,"' ").concat(O,". Received ").concat(L)},TypeError),b("ERR_INVALID_RETURN_VALUE",function(_,I,O){var L;return O&&O.constructor&&O.constructor.name?L="instance of ".concat(O.constructor.name):L="type ".concat(e(O)),"Expected ".concat(_,' to be returned from the "').concat(I,'"')+" function but got ".concat(L,".")},TypeError),b("ERR_MISSING_ARGS",function(){for(var _=arguments.length,I=new Array(_),O=0;O<_;O++)I[O]=arguments[O];m===void 0&&(m=xi()),m(I.length>0,"At least one arg needs to be specified");var L="The ",k=I.length;switch(I=I.map(function(V){return'"'.concat(V,'"')}),k){case 1:L+="".concat(I[0]," argument");break;case 2:L+="".concat(I[0]," and ").concat(I[1]," arguments");break;default:L+=I.slice(0,k-1).join(", "),L+=", and ".concat(I[k-1]," arguments");break}return"".concat(L," must be specified")},TypeError),sA.codes=p,sA}var aE,dN;function P$(){if(dN)return aE;dN=1;function e(fe,K){var ne=Object.keys(fe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(fe);K&&(me=me.filter(function(B){return Object.getOwnPropertyDescriptor(fe,B).enumerable})),ne.push.apply(ne,me)}return ne}function t(fe){for(var K=1;K<arguments.length;K++){var ne=arguments[K]!=null?arguments[K]:{};K%2?e(Object(ne),!0).forEach(function(me){n(fe,me,ne[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ne)):e(Object(ne)).forEach(function(me){Object.defineProperty(fe,me,Object.getOwnPropertyDescriptor(ne,me))})}return fe}function n(fe,K,ne){return K=c(K),K in fe?Object.defineProperty(fe,K,{value:ne,enumerable:!0,configurable:!0,writable:!0}):fe[K]=ne,fe}function r(fe,K){if(!(fe instanceof K))throw new TypeError("Cannot call a class as a function")}function s(fe,K){for(var ne=0;ne<K.length;ne++){var me=K[ne];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(fe,c(me.key),me)}}function a(fe,K,ne){return K&&s(fe.prototype,K),Object.defineProperty(fe,"prototype",{writable:!1}),fe}function c(fe){var K=d(fe,"string");return _(K)==="symbol"?K:String(K)}function d(fe,K){if(_(fe)!=="object"||fe===null)return fe;var ne=fe[Symbol.toPrimitive];if(ne!==void 0){var me=ne.call(fe,K);if(_(me)!=="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(fe)}function h(fe,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(K&&K.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),K&&C(fe,K)}function g(fe){var K=E();return function(){var me=T(fe),B;if(K){var j=T(this).constructor;B=Reflect.construct(me,arguments,j)}else B=me.apply(this,arguments);return p(this,B)}}function p(fe,K){if(K&&(_(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(fe)}function m(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}function x(fe){var K=typeof Map=="function"?new Map:void 0;return x=function(me){if(me===null||!w(me))return me;if(typeof me!="function")throw new TypeError("Super expression must either be null or a function");if(typeof K<"u"){if(K.has(me))return K.get(me);K.set(me,B)}function B(){return b(me,arguments,T(this).constructor)}return B.prototype=Object.create(me.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),C(B,me)},x(fe)}function b(fe,K,ne){return E()?b=Reflect.construct.bind():b=function(B,j,G){var H=[null];H.push.apply(H,j);var J=Function.bind.apply(B,H),X=new J;return G&&C(X,G.prototype),X},b.apply(null,arguments)}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(fe){return Function.toString.call(fe).indexOf("[native code]")!==-1}function C(fe,K){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(me,B){return me.__proto__=B,me},C(fe,K)}function T(fe){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},T(fe)}function _(fe){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},_(fe)}var I=Jp(),O=I.inspect,L=lL(),k=L.codes.ERR_INVALID_ARG_TYPE;function V(fe,K,ne){return(ne===void 0||ne>fe.length)&&(ne=fe.length),fe.substring(ne-K.length,ne)===K}function U(fe,K){if(K=Math.floor(K),fe.length==0||K==0)return"";var ne=fe.length*K;for(K=Math.floor(Math.log(K)/Math.log(2));K;)fe+=fe,K--;return fe+=fe.substring(0,ne-fe.length),fe}var q="",te="",ie="",se="",Ce={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},je=10;function Me(fe){var K=Object.keys(fe),ne=Object.create(Object.getPrototypeOf(fe));return K.forEach(function(me){ne[me]=fe[me]}),Object.defineProperty(ne,"message",{value:fe.message}),ne}function re(fe){return O(fe,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Ie(fe,K,ne){var me="",B="",j=0,G="",H=!1,J=re(fe),X=J.split(`
`),Z=re(K).split(`
`),le=0,xe="";if(ne==="strictEqual"&&_(fe)==="object"&&_(K)==="object"&&fe!==null&&K!==null&&(ne="strictEqualObject"),X.length===1&&Z.length===1&&X[0]!==Z[0]){var Se=X[0].length+Z[0].length;if(Se<=je){if((_(fe)!=="object"||fe===null)&&(_(K)!=="object"||K===null)&&(fe!==0||K!==0))return"".concat(Ce[ne],`

`)+"".concat(X[0]," !== ").concat(Z[0],`
`)}else if(ne!=="strictEqualObject"){var oe=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(Se<oe){for(;X[0][le]===Z[0][le];)le++;le>2&&(xe=`
  `.concat(U(" ",le),"^"),le=0)}}}for(var ae=X[X.length-1],Ee=Z[Z.length-1];ae===Ee&&(le++<2?G=`
  `.concat(ae).concat(G):me=ae,X.pop(),Z.pop(),!(X.length===0||Z.length===0));)ae=X[X.length-1],Ee=Z[Z.length-1];var Oe=Math.max(X.length,Z.length);if(Oe===0){var Be=J.split(`
`);if(Be.length>30)for(Be[26]="".concat(q,"...").concat(se);Be.length>27;)Be.pop();return"".concat(Ce.notIdentical,`

`).concat(Be.join(`
`),`
`)}le>3&&(G=`
`.concat(q,"...").concat(se).concat(G),H=!0),me!==""&&(G=`
  `.concat(me).concat(G),me="");var Ge=0,ye=Ce[ne]+`
`.concat(te,"+ actual").concat(se," ").concat(ie,"- expected").concat(se),Fe=" ".concat(q,"...").concat(se," Lines skipped");for(le=0;le<Oe;le++){var Qe=le-j;if(X.length<le+1)Qe>1&&le>2&&(Qe>4?(B+=`
`.concat(q,"...").concat(se),H=!0):Qe>3&&(B+=`
  `.concat(Z[le-2]),Ge++),B+=`
  `.concat(Z[le-1]),Ge++),j=le,me+=`
`.concat(ie,"-").concat(se," ").concat(Z[le]),Ge++;else if(Z.length<le+1)Qe>1&&le>2&&(Qe>4?(B+=`
`.concat(q,"...").concat(se),H=!0):Qe>3&&(B+=`
  `.concat(X[le-2]),Ge++),B+=`
  `.concat(X[le-1]),Ge++),j=le,B+=`
`.concat(te,"+").concat(se," ").concat(X[le]),Ge++;else{var yt=Z[le],ht=X[le],pe=ht!==yt&&(!V(ht,",")||ht.slice(0,-1)!==yt);pe&&V(yt,",")&&yt.slice(0,-1)===ht&&(pe=!1,ht+=","),pe?(Qe>1&&le>2&&(Qe>4?(B+=`
`.concat(q,"...").concat(se),H=!0):Qe>3&&(B+=`
  `.concat(X[le-2]),Ge++),B+=`
  `.concat(X[le-1]),Ge++),j=le,B+=`
`.concat(te,"+").concat(se," ").concat(ht),me+=`
`.concat(ie,"-").concat(se," ").concat(yt),Ge+=2):(B+=me,me="",(Qe===1||le===0)&&(B+=`
  `.concat(ht),Ge++))}if(Ge>20&&le<Oe-2)return"".concat(ye).concat(Fe,`
`).concat(B,`
`).concat(q,"...").concat(se).concat(me,`
`)+"".concat(q,"...").concat(se)}return"".concat(ye).concat(H?Fe:"",`
`).concat(B).concat(me).concat(G).concat(xe)}var de=function(fe,K){h(me,fe);var ne=g(me);function me(B){var j;if(r(this,me),_(B)!=="object"||B===null)throw new k("options","Object",B);var G=B.message,H=B.operator,J=B.stackStartFn,X=B.actual,Z=B.expected,le=Error.stackTraceLimit;if(Error.stackTraceLimit=0,G!=null)j=ne.call(this,String(G));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(q="\x1B[34m",te="\x1B[32m",se="\x1B[39m",ie="\x1B[31m"):(q="",te="",se="",ie="")),_(X)==="object"&&X!==null&&_(Z)==="object"&&Z!==null&&"stack"in X&&X instanceof Error&&"stack"in Z&&Z instanceof Error&&(X=Me(X),Z=Me(Z)),H==="deepStrictEqual"||H==="strictEqual")j=ne.call(this,Ie(X,Z,H));else if(H==="notDeepStrictEqual"||H==="notStrictEqual"){var xe=Ce[H],Se=re(X).split(`
`);if(H==="notStrictEqual"&&_(X)==="object"&&X!==null&&(xe=Ce.notStrictEqualObject),Se.length>30)for(Se[26]="".concat(q,"...").concat(se);Se.length>27;)Se.pop();Se.length===1?j=ne.call(this,"".concat(xe," ").concat(Se[0])):j=ne.call(this,"".concat(xe,`

`).concat(Se.join(`
`),`
`))}else{var oe=re(X),ae="",Ee=Ce[H];H==="notDeepEqual"||H==="notEqual"?(oe="".concat(Ce[H],`

`).concat(oe),oe.length>1024&&(oe="".concat(oe.slice(0,1021),"..."))):(ae="".concat(re(Z)),oe.length>512&&(oe="".concat(oe.slice(0,509),"...")),ae.length>512&&(ae="".concat(ae.slice(0,509),"...")),H==="deepEqual"||H==="equal"?oe="".concat(Ee,`

`).concat(oe,`

should equal

`):ae=" ".concat(H," ").concat(ae)),j=ne.call(this,"".concat(oe).concat(ae))}return Error.stackTraceLimit=le,j.generatedMessage=!G,Object.defineProperty(m(j),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),j.code="ERR_ASSERTION",j.actual=X,j.expected=Z,j.operator=H,Error.captureStackTrace&&Error.captureStackTrace(m(j),J),j.stack,j.name="AssertionError",p(j)}return a(me,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:K,value:function(j,G){return O(this,t(t({},G),{},{customInspect:!1,depth:0}))}}]),me}(x(Error),O.custom);return aE=de,aE}var lE,hN;function uL(){if(hN)return lE;hN=1;var e=Object.prototype.toString;return lE=function(n){var r=e.call(n),s=r==="[object Arguments]";return s||(s=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),s},lE}var uE,pN;function M$(){if(pN)return uE;pN=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=uL(),s=Object.prototype.propertyIsEnumerable,a=!s.call({toString:null},"toString"),c=s.call(function(){},"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(x){var b=x.constructor;return b&&b.prototype===x},g={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var x in window)try{if(!g["$"+x]&&t.call(window,x)&&window[x]!==null&&typeof window[x]=="object")try{h(window[x])}catch{return!0}}catch{return!0}return!1}(),m=function(x){if(typeof window>"u"||!p)return h(x);try{return h(x)}catch{return!1}};e=function(b){var E=b!==null&&typeof b=="object",w=n.call(b)==="[object Function]",C=r(b),T=E&&n.call(b)==="[object String]",_=[];if(!E&&!w&&!C)throw new TypeError("Object.keys called on a non-object");var I=c&&w;if(T&&b.length>0&&!t.call(b,0))for(var O=0;O<b.length;++O)_.push(String(O));if(C&&b.length>0)for(var L=0;L<b.length;++L)_.push(String(L));else for(var k in b)!(I&&k==="prototype")&&t.call(b,k)&&_.push(String(k));if(a)for(var V=m(b),U=0;U<d.length;++U)!(V&&d[U]==="constructor")&&t.call(b,d[U])&&_.push(d[U]);return _}}return uE=e,uE}var cE,gN;function cL(){if(gN)return cE;gN=1;var e=Array.prototype.slice,t=uL(),n=Object.keys,r=n?function(c){return n(c)}:M$(),s=Object.keys;return r.shim=function(){if(Object.keys){var c=function(){var d=Object.keys(arguments);return d&&d.length===arguments.length}(1,2);c||(Object.keys=function(h){return t(h)?s(e.call(h)):s(h)})}else Object.keys=r;return Object.keys||r},cE=r,cE}var fE,mN;function L$(){if(mN)return fE;mN=1;var e=cL(),t=Zw()(),n=pg(),r=Jw(),s=n("Array.prototype.push"),a=n("Object.prototype.propertyIsEnumerable"),c=t?r.getOwnPropertySymbols:null;return fE=function(h,g){if(h==null)throw new TypeError("target must be an object");var p=r(h);if(arguments.length===1)return p;for(var m=1;m<arguments.length;++m){var x=r(arguments[m]),b=e(x),E=t&&(r.getOwnPropertySymbols||c);if(E)for(var w=E(x),C=0;C<w.length;++C){var T=w[C];a(x,T)&&s(b,T)}for(var _=0;_<b.length;++_){var I=b[_];if(a(x,I)){var O=x[I];p[I]=O}}}return p},fE}var dE,yN;function F$(){if(yN)return dE;yN=1;var e=L$(),t=function(){if(!Object.assign)return!1;for(var r="abcdefghijklmnopqrst",s=r.split(""),a={},c=0;c<s.length;++c)a[s[c]]=s[c];var d=Object.assign({},a),h="";for(var g in d)h+=g;return r!==h},n=function(){if(!Object.assign||!Object.preventExtensions)return!1;var r=Object.preventExtensions({1:2});try{Object.assign(r,"xy")}catch{return r[1]==="y"}return!1};return dE=function(){return!Object.assign||t()||n()?e:Object.assign},dE}var hE,vN;function fL(){if(vN)return hE;vN=1;var e=function(t){return t!==t};return hE=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},hE}var pE,xN;function i2(){if(xN)return pE;xN=1;var e=fL();return pE=function(){return typeof Object.is=="function"?Object.is:e},pE}var gE,bN;function k$(){if(bN)return gE;bN=1;var e=r2(),t=aS(),n=t(e("String.prototype.indexOf"));return gE=function(s,a){var c=e(s,!!a);return typeof c=="function"&&n(s,".prototype.")>-1?t(c):c},gE}var mE,SN;function lS(){if(SN)return mE;SN=1;var e=cL(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,s=oL(),a=function(g){return typeof g=="function"&&n.call(g)==="[object Function]"},c=sL()(),d=function(g,p,m,x){if(p in g){if(x===!0){if(g[p]===m)return}else if(!a(x)||!x())return}c?s(g,p,m,!0):s(g,p,m)},h=function(g,p){var m=arguments.length>2?arguments[2]:{},x=e(p);t&&(x=r.call(x,Object.getOwnPropertySymbols(p)));for(var b=0;b<x.length;b+=1)d(g,x[b],p[x[b]],m[x[b]])};return h.supportsDescriptors=!!c,mE=h,mE}var yE,AN;function B$(){if(AN)return yE;AN=1;var e=i2(),t=lS();return yE=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},yE}var vE,EN;function j$(){if(EN)return vE;EN=1;var e=lS(),t=aS(),n=fL(),r=i2(),s=B$(),a=t(r(),Object);return e(a,{getPolyfill:r,implementation:n,shim:s}),vE=a,vE}var xE,CN;function dL(){return CN||(CN=1,xE=function(t){return t!==t}),xE}var bE,wN;function hL(){if(wN)return bE;wN=1;var e=dL();return bE=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},bE}var SE,RN;function z$(){if(RN)return SE;RN=1;var e=lS(),t=hL();return SE=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},SE}var AE,TN;function U$(){if(TN)return AE;TN=1;var e=aS(),t=lS(),n=dL(),r=hL(),s=z$(),a=e(r(),Number);return t(a,{getPolyfill:r,implementation:n,shim:s}),AE=a,AE}var EE,NN;function V$(){if(NN)return EE;NN=1;function e(pe,Ne){return a(pe)||s(pe,Ne)||n(pe,Ne)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(pe,Ne){if(pe){if(typeof pe=="string")return r(pe,Ne);var Ye=Object.prototype.toString.call(pe).slice(8,-1);if(Ye==="Object"&&pe.constructor&&(Ye=pe.constructor.name),Ye==="Map"||Ye==="Set")return Array.from(pe);if(Ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ye))return r(pe,Ne)}}function r(pe,Ne){(Ne==null||Ne>pe.length)&&(Ne=pe.length);for(var Ye=0,qe=new Array(Ne);Ye<Ne;Ye++)qe[Ye]=pe[Ye];return qe}function s(pe,Ne){var Ye=pe==null?null:typeof Symbol<"u"&&pe[Symbol.iterator]||pe["@@iterator"];if(Ye!=null){var qe,tt,ft,bt,jt=[],Ot=!0,un=!1;try{if(ft=(Ye=Ye.call(pe)).next,Ne!==0)for(;!(Ot=(qe=ft.call(Ye)).done)&&(jt.push(qe.value),jt.length!==Ne);Ot=!0);}catch(Le){un=!0,tt=Le}finally{try{if(!Ot&&Ye.return!=null&&(bt=Ye.return(),Object(bt)!==bt))return}finally{if(un)throw tt}}return jt}}function a(pe){if(Array.isArray(pe))return pe}function c(pe){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ne){return typeof Ne}:function(Ne){return Ne&&typeof Symbol=="function"&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},c(pe)}var d=/a/g.flags!==void 0,h=function(Ne){var Ye=[];return Ne.forEach(function(qe){return Ye.push(qe)}),Ye},g=function(Ne){var Ye=[];return Ne.forEach(function(qe,tt){return Ye.push([tt,qe])}),Ye},p=Object.is?Object.is:j$(),m=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},x=Number.isNaN?Number.isNaN:U$();function b(pe){return pe.call.bind(pe)}var E=b(Object.prototype.hasOwnProperty),w=b(Object.prototype.propertyIsEnumerable),C=b(Object.prototype.toString),T=Jp().types,_=T.isAnyArrayBuffer,I=T.isArrayBufferView,O=T.isDate,L=T.isMap,k=T.isRegExp,V=T.isSet,U=T.isNativeError,q=T.isBoxedPrimitive,te=T.isNumberObject,ie=T.isStringObject,se=T.isBooleanObject,Ce=T.isBigIntObject,je=T.isSymbolObject,Me=T.isFloat32Array,re=T.isFloat64Array;function Ie(pe){if(pe.length===0||pe.length>10)return!0;for(var Ne=0;Ne<pe.length;Ne++){var Ye=pe.charCodeAt(Ne);if(Ye<48||Ye>57)return!0}return pe.length===10&&pe>=Math.pow(2,32)}function de(pe){return Object.keys(pe).filter(Ie).concat(m(pe).filter(Object.prototype.propertyIsEnumerable.bind(pe)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function fe(pe,Ne){if(pe===Ne)return 0;for(var Ye=pe.length,qe=Ne.length,tt=0,ft=Math.min(Ye,qe);tt<ft;++tt)if(pe[tt]!==Ne[tt]){Ye=pe[tt],qe=Ne[tt];break}return Ye<qe?-1:qe<Ye?1:0}var K=!0,ne=!1,me=0,B=1,j=2,G=3;function H(pe,Ne){return d?pe.source===Ne.source&&pe.flags===Ne.flags:RegExp.prototype.toString.call(pe)===RegExp.prototype.toString.call(Ne)}function J(pe,Ne){if(pe.byteLength!==Ne.byteLength)return!1;for(var Ye=0;Ye<pe.byteLength;Ye++)if(pe[Ye]!==Ne[Ye])return!1;return!0}function X(pe,Ne){return pe.byteLength!==Ne.byteLength?!1:fe(new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength),new Uint8Array(Ne.buffer,Ne.byteOffset,Ne.byteLength))===0}function Z(pe,Ne){return pe.byteLength===Ne.byteLength&&fe(new Uint8Array(pe),new Uint8Array(Ne))===0}function le(pe,Ne){return te(pe)?te(Ne)&&p(Number.prototype.valueOf.call(pe),Number.prototype.valueOf.call(Ne)):ie(pe)?ie(Ne)&&String.prototype.valueOf.call(pe)===String.prototype.valueOf.call(Ne):se(pe)?se(Ne)&&Boolean.prototype.valueOf.call(pe)===Boolean.prototype.valueOf.call(Ne):Ce(pe)?Ce(Ne)&&BigInt.prototype.valueOf.call(pe)===BigInt.prototype.valueOf.call(Ne):je(Ne)&&Symbol.prototype.valueOf.call(pe)===Symbol.prototype.valueOf.call(Ne)}function xe(pe,Ne,Ye,qe){if(pe===Ne)return pe!==0?!0:Ye?p(pe,Ne):!0;if(Ye){if(c(pe)!=="object")return typeof pe=="number"&&x(pe)&&x(Ne);if(c(Ne)!=="object"||pe===null||Ne===null||Object.getPrototypeOf(pe)!==Object.getPrototypeOf(Ne))return!1}else{if(pe===null||c(pe)!=="object")return Ne===null||c(Ne)!=="object"?pe==Ne:!1;if(Ne===null||c(Ne)!=="object")return!1}var tt=C(pe),ft=C(Ne);if(tt!==ft)return!1;if(Array.isArray(pe)){if(pe.length!==Ne.length)return!1;var bt=de(pe),jt=de(Ne);return bt.length!==jt.length?!1:oe(pe,Ne,Ye,qe,B,bt)}if(tt==="[object Object]"&&(!L(pe)&&L(Ne)||!V(pe)&&V(Ne)))return!1;if(O(pe)){if(!O(Ne)||Date.prototype.getTime.call(pe)!==Date.prototype.getTime.call(Ne))return!1}else if(k(pe)){if(!k(Ne)||!H(pe,Ne))return!1}else if(U(pe)||pe instanceof Error){if(pe.message!==Ne.message||pe.name!==Ne.name)return!1}else if(I(pe)){if(!Ye&&(Me(pe)||re(pe))){if(!J(pe,Ne))return!1}else if(!X(pe,Ne))return!1;var Ot=de(pe),un=de(Ne);return Ot.length!==un.length?!1:oe(pe,Ne,Ye,qe,me,Ot)}else{if(V(pe))return!V(Ne)||pe.size!==Ne.size?!1:oe(pe,Ne,Ye,qe,j);if(L(pe))return!L(Ne)||pe.size!==Ne.size?!1:oe(pe,Ne,Ye,qe,G);if(_(pe)){if(!Z(pe,Ne))return!1}else if(q(pe)&&!le(pe,Ne))return!1}return oe(pe,Ne,Ye,qe,me)}function Se(pe,Ne){return Ne.filter(function(Ye){return w(pe,Ye)})}function oe(pe,Ne,Ye,qe,tt,ft){if(arguments.length===5){ft=Object.keys(pe);var bt=Object.keys(Ne);if(ft.length!==bt.length)return!1}for(var jt=0;jt<ft.length;jt++)if(!E(Ne,ft[jt]))return!1;if(Ye&&arguments.length===5){var Ot=m(pe);if(Ot.length!==0){var un=0;for(jt=0;jt<Ot.length;jt++){var Le=Ot[jt];if(w(pe,Le)){if(!w(Ne,Le))return!1;ft.push(Le),un++}else if(w(Ne,Le))return!1}var rt=m(Ne);if(Ot.length!==rt.length&&Se(Ne,rt).length!==un)return!1}else{var mt=m(Ne);if(mt.length!==0&&Se(Ne,mt).length!==0)return!1}}if(ft.length===0&&(tt===me||tt===B&&pe.length===0||pe.size===0))return!0;if(qe===void 0)qe={val1:new Map,val2:new Map,position:0};else{var At=qe.val1.get(pe);if(At!==void 0){var Dt=qe.val2.get(Ne);if(Dt!==void 0)return At===Dt}qe.position++}qe.val1.set(pe,qe.position),qe.val2.set(Ne,qe.position);var An=Qe(pe,Ne,Ye,ft,qe,tt);return qe.val1.delete(pe),qe.val2.delete(Ne),An}function ae(pe,Ne,Ye,qe){for(var tt=h(pe),ft=0;ft<tt.length;ft++){var bt=tt[ft];if(xe(Ne,bt,Ye,qe))return pe.delete(bt),!0}return!1}function Ee(pe){switch(c(pe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":pe=+pe;case"number":if(x(pe))return!1}return!0}function Oe(pe,Ne,Ye){var qe=Ee(Ye);return qe??(Ne.has(qe)&&!pe.has(qe))}function Be(pe,Ne,Ye,qe,tt){var ft=Ee(Ye);if(ft!=null)return ft;var bt=Ne.get(ft);return bt===void 0&&!Ne.has(ft)||!xe(qe,bt,!1,tt)?!1:!pe.has(ft)&&xe(qe,bt,!1,tt)}function Ge(pe,Ne,Ye,qe){for(var tt=null,ft=h(pe),bt=0;bt<ft.length;bt++){var jt=ft[bt];if(c(jt)==="object"&&jt!==null)tt===null&&(tt=new Set),tt.add(jt);else if(!Ne.has(jt)){if(Ye||!Oe(pe,Ne,jt))return!1;tt===null&&(tt=new Set),tt.add(jt)}}if(tt!==null){for(var Ot=h(Ne),un=0;un<Ot.length;un++){var Le=Ot[un];if(c(Le)==="object"&&Le!==null){if(!ae(tt,Le,Ye,qe))return!1}else if(!Ye&&!pe.has(Le)&&!ae(tt,Le,Ye,qe))return!1}return tt.size===0}return!0}function ye(pe,Ne,Ye,qe,tt,ft){for(var bt=h(pe),jt=0;jt<bt.length;jt++){var Ot=bt[jt];if(xe(Ye,Ot,tt,ft)&&xe(qe,Ne.get(Ot),tt,ft))return pe.delete(Ot),!0}return!1}function Fe(pe,Ne,Ye,qe){for(var tt=null,ft=g(pe),bt=0;bt<ft.length;bt++){var jt=e(ft[bt],2),Ot=jt[0],un=jt[1];if(c(Ot)==="object"&&Ot!==null)tt===null&&(tt=new Set),tt.add(Ot);else{var Le=Ne.get(Ot);if(Le===void 0&&!Ne.has(Ot)||!xe(un,Le,Ye,qe)){if(Ye||!Be(pe,Ne,Ot,un,qe))return!1;tt===null&&(tt=new Set),tt.add(Ot)}}}if(tt!==null){for(var rt=g(Ne),mt=0;mt<rt.length;mt++){var At=e(rt[mt],2),Dt=At[0],An=At[1];if(c(Dt)==="object"&&Dt!==null){if(!ye(tt,pe,Dt,An,Ye,qe))return!1}else if(!Ye&&(!pe.has(Dt)||!xe(pe.get(Dt),An,!1,qe))&&!ye(tt,pe,Dt,An,!1,qe))return!1}return tt.size===0}return!0}function Qe(pe,Ne,Ye,qe,tt,ft){var bt=0;if(ft===j){if(!Ge(pe,Ne,Ye,tt))return!1}else if(ft===G){if(!Fe(pe,Ne,Ye,tt))return!1}else if(ft===B)for(;bt<pe.length;bt++)if(E(pe,bt)){if(!E(Ne,bt)||!xe(pe[bt],Ne[bt],Ye,tt))return!1}else{if(E(Ne,bt))return!1;for(var jt=Object.keys(pe);bt<jt.length;bt++){var Ot=jt[bt];if(!E(Ne,Ot)||!xe(pe[Ot],Ne[Ot],Ye,tt))return!1}return jt.length===Object.keys(Ne).length}for(bt=0;bt<qe.length;bt++){var un=qe[bt];if(!xe(pe[un],Ne[un],Ye,tt))return!1}return!0}function yt(pe,Ne){return xe(pe,Ne,ne)}function ht(pe,Ne){return xe(pe,Ne,K)}return EE={isDeepEqual:yt,isDeepStrictEqual:ht},EE}var _N;function xi(){if(_N)return oA.exports;_N=1;function e(j){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},e(j)}function t(j,G,H){return Object.defineProperty(j,"prototype",{writable:!1}),j}function n(j,G){if(!(j instanceof G))throw new TypeError("Cannot call a class as a function")}var r=lL(),s=r.codes,a=s.ERR_AMBIGUOUS_ARGUMENT,c=s.ERR_INVALID_ARG_TYPE,d=s.ERR_INVALID_ARG_VALUE,h=s.ERR_INVALID_RETURN_VALUE,g=s.ERR_MISSING_ARGS,p=P$(),m=Jp(),x=m.inspect,b=Jp().types,E=b.isPromise,w=b.isRegExp,C=F$()(),T=i2()(),_=k$()("RegExp.prototype.test"),I,O;function L(){var j=V$();I=j.isDeepEqual,O=j.isDeepStrictEqual}var k=!1,V=oA.exports=se,U={};function q(j){throw j.message instanceof Error?j.message:new p(j)}function te(j,G,H,J,X){var Z=arguments.length,le;if(Z===0)le="Failed";else if(Z===1)H=j,j=void 0;else{if(k===!1){k=!0;var xe=process.emitWarning?process.emitWarning:console.warn.bind(console);xe("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(J="!=")}if(H instanceof Error)throw H;var Se={actual:j,expected:G,operator:J===void 0?"fail":J,stackStartFn:X||te};H!==void 0&&(Se.message=H);var oe=new p(Se);throw le&&(oe.message=le,oe.generatedMessage=!0),oe}V.fail=te,V.AssertionError=p;function ie(j,G,H,J){if(!H){var X=!1;if(G===0)X=!0,J="No value argument passed to `assert.ok()`";else if(J instanceof Error)throw J;var Z=new p({actual:H,expected:!0,message:J,operator:"==",stackStartFn:j});throw Z.generatedMessage=X,Z}}function se(){for(var j=arguments.length,G=new Array(j),H=0;H<j;H++)G[H]=arguments[H];ie.apply(void 0,[se,G.length].concat(G))}V.ok=se,V.equal=function j(G,H,J){if(arguments.length<2)throw new g("actual","expected");G!=H&&q({actual:G,expected:H,message:J,operator:"==",stackStartFn:j})},V.notEqual=function j(G,H,J){if(arguments.length<2)throw new g("actual","expected");G==H&&q({actual:G,expected:H,message:J,operator:"!=",stackStartFn:j})},V.deepEqual=function j(G,H,J){if(arguments.length<2)throw new g("actual","expected");I===void 0&&L(),I(G,H)||q({actual:G,expected:H,message:J,operator:"deepEqual",stackStartFn:j})},V.notDeepEqual=function j(G,H,J){if(arguments.length<2)throw new g("actual","expected");I===void 0&&L(),I(G,H)&&q({actual:G,expected:H,message:J,operator:"notDeepEqual",stackStartFn:j})},V.deepStrictEqual=function j(G,H,J){if(arguments.length<2)throw new g("actual","expected");I===void 0&&L(),O(G,H)||q({actual:G,expected:H,message:J,operator:"deepStrictEqual",stackStartFn:j})},V.notDeepStrictEqual=Ce;function Ce(j,G,H){if(arguments.length<2)throw new g("actual","expected");I===void 0&&L(),O(j,G)&&q({actual:j,expected:G,message:H,operator:"notDeepStrictEqual",stackStartFn:Ce})}V.strictEqual=function j(G,H,J){if(arguments.length<2)throw new g("actual","expected");T(G,H)||q({actual:G,expected:H,message:J,operator:"strictEqual",stackStartFn:j})},V.notStrictEqual=function j(G,H,J){if(arguments.length<2)throw new g("actual","expected");T(G,H)&&q({actual:G,expected:H,message:J,operator:"notStrictEqual",stackStartFn:j})};var je=t(function j(G,H,J){var X=this;n(this,j),H.forEach(function(Z){Z in G&&(J!==void 0&&typeof J[Z]=="string"&&w(G[Z])&&_(G[Z],J[Z])?X[Z]=J[Z]:X[Z]=G[Z])})});function Me(j,G,H,J,X,Z){if(!(H in j)||!O(j[H],G[H])){if(!J){var le=new je(j,X),xe=new je(G,X,j),Se=new p({actual:le,expected:xe,operator:"deepStrictEqual",stackStartFn:Z});throw Se.actual=j,Se.expected=G,Se.operator=Z.name,Se}q({actual:j,expected:G,message:J,operator:Z.name,stackStartFn:Z})}}function re(j,G,H,J){if(typeof G!="function"){if(w(G))return _(G,j);if(arguments.length===2)throw new c("expected",["Function","RegExp"],G);if(e(j)!=="object"||j===null){var X=new p({actual:j,expected:G,message:H,operator:"deepStrictEqual",stackStartFn:J});throw X.operator=J.name,X}var Z=Object.keys(G);if(G instanceof Error)Z.push("name","message");else if(Z.length===0)throw new d("error",G,"may not be an empty object");return I===void 0&&L(),Z.forEach(function(le){typeof j[le]=="string"&&w(G[le])&&_(G[le],j[le])||Me(j,G,le,H,Z,J)}),!0}return G.prototype!==void 0&&j instanceof G?!0:Error.isPrototypeOf(G)?!1:G.call({},j)===!0}function Ie(j){if(typeof j!="function")throw new c("fn","Function",j);try{j()}catch(G){return G}return U}function de(j){return E(j)||j!==null&&e(j)==="object"&&typeof j.then=="function"&&typeof j.catch=="function"}function fe(j){return Promise.resolve().then(function(){var G;if(typeof j=="function"){if(G=j(),!de(G))throw new h("instance of Promise","promiseFn",G)}else if(de(j))G=j;else throw new c("promiseFn",["Function","Promise"],j);return Promise.resolve().then(function(){return G}).then(function(){return U}).catch(function(H){return H})})}function K(j,G,H,J){if(typeof H=="string"){if(arguments.length===4)throw new c("error",["Object","Error","Function","RegExp"],H);if(e(G)==="object"&&G!==null){if(G.message===H)throw new a("error/message",'The error message "'.concat(G.message,'" is identical to the message.'))}else if(G===H)throw new a("error/message",'The error "'.concat(G,'" is identical to the message.'));J=H,H=void 0}else if(H!=null&&e(H)!=="object"&&typeof H!="function")throw new c("error",["Object","Error","Function","RegExp"],H);if(G===U){var X="";H&&H.name&&(X+=" (".concat(H.name,")")),X+=J?": ".concat(J):".";var Z=j.name==="rejects"?"rejection":"exception";q({actual:void 0,expected:H,operator:j.name,message:"Missing expected ".concat(Z).concat(X),stackStartFn:j})}if(H&&!re(G,H,J,j))throw G}function ne(j,G,H,J){if(G!==U){if(typeof H=="string"&&(J=H,H=void 0),!H||re(G,H)){var X=J?": ".concat(J):".",Z=j.name==="doesNotReject"?"rejection":"exception";q({actual:G,expected:H,operator:j.name,message:"Got unwanted ".concat(Z).concat(X,`
`)+'Actual message: "'.concat(G&&G.message,'"'),stackStartFn:j})}throw G}}V.throws=function j(G){for(var H=arguments.length,J=new Array(H>1?H-1:0),X=1;X<H;X++)J[X-1]=arguments[X];K.apply(void 0,[j,Ie(G)].concat(J))},V.rejects=function j(G){for(var H=arguments.length,J=new Array(H>1?H-1:0),X=1;X<H;X++)J[X-1]=arguments[X];return fe(G).then(function(Z){return K.apply(void 0,[j,Z].concat(J))})},V.doesNotThrow=function j(G){for(var H=arguments.length,J=new Array(H>1?H-1:0),X=1;X<H;X++)J[X-1]=arguments[X];ne.apply(void 0,[j,Ie(G)].concat(J))},V.doesNotReject=function j(G){for(var H=arguments.length,J=new Array(H>1?H-1:0),X=1;X<H;X++)J[X-1]=arguments[X];return fe(G).then(function(Z){return ne.apply(void 0,[j,Z].concat(J))})},V.ifError=function j(G){if(G!=null){var H="ifError got unwanted exception: ";e(G)==="object"&&typeof G.message=="string"?G.message.length===0&&G.constructor?H+=G.constructor.name:H+=G.message:H+=x(G);var J=new p({actual:G,expected:null,operator:"ifError",message:H,stackStartFn:j}),X=G.stack;if(typeof X=="string"){var Z=X.split(`
`);Z.shift();for(var le=J.stack.split(`
`),xe=0;xe<Z.length;xe++){var Se=le.indexOf(Z[xe]);if(Se!==-1){le=le.slice(0,Se);break}}J.stack="".concat(le.join(`
`),`
`).concat(Z.join(`
`))}throw J}};function me(j,G,H,J,X){if(!w(G))throw new c("regexp","RegExp",G);var Z=X==="match";if(typeof j!="string"||_(G,j)!==Z){if(H instanceof Error)throw H;var le=!H;H=H||(typeof j!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(j)," (").concat(x(j),")"):(Z?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(x(G),`. Input:

`).concat(x(j),`
`));var xe=new p({actual:j,expected:G,message:H,operator:X,stackStartFn:J});throw xe.generatedMessage=le,xe}}V.match=function j(G,H,J){me(G,H,J,j,"match")},V.doesNotMatch=function j(G,H,J){me(G,H,J,j,"doesNotMatch")};function B(){for(var j=arguments.length,G=new Array(j),H=0;H<j;H++)G[H]=arguments[H];ie.apply(void 0,[B,G.length].concat(G))}return V.strict=C(B,V,{equal:V.strictEqual,deepEqual:V.deepStrictEqual,notEqual:V.notStrictEqual,notDeepEqual:V.notDeepStrictEqual}),V.strict.strict=V.strict,oA.exports}var ls={},IN;function Ue(){if(IN)return ls;IN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ls,"__esModule",{value:!0}),ls.SuppressWarnings=ls.Override=ls.Nullable=ls.NotNull=void 0;function e(s,a,c){}ls.NotNull=e;function t(s,a,c){}ls.Nullable=t;function n(s,a,c){}ls.Override=n;function r(s){return(a,c,d)=>{}}return ls.SuppressWarnings=r,ls}var CE={},ON;function $c(){return ON||(ON=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.IntStream=void 0,function(t){t.EOF=-1,t.UNKNOWN_SOURCE_NAME="<unknown>"}(e.IntStream||(e.IntStream={}))}(CE)),CE}var DN;function G$(){if(DN)return Bf;DN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bf&&Bf.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.ANTLRInputStream=void 0;const t=xi(),n=Ue(),r=$c();let s=class{constructor(c){this.p=0,this.data=c,this.n=c.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw t(this.LA(1)===r.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(c){return c===0?0:c<0&&(c++,this.p+c-1<0)||this.p+c-1>=this.n?r.IntStream.EOF:this.data.charCodeAt(this.p+c-1)}LT(c){return this.LA(c)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(c){}seek(c){if(c<=this.p){this.p=c;return}for(c=Math.min(c,this.n);this.p<c;)this.consume()}getText(c){let d=c.a,h=c.b;h>=this.n&&(h=this.n-1);let g=h-d+1;return d>=this.n?"":this.data.substr(d,g)}get sourceName(){return this.name?this.name:r.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};return e([n.Override],s.prototype,"consume",null),e([n.Override],s.prototype,"LA",null),e([n.Override],s.prototype,"index",null),e([n.Override],s.prototype,"size",null),e([n.Override],s.prototype,"mark",null),e([n.Override],s.prototype,"release",null),e([n.Override],s.prototype,"seek",null),e([n.Override],s.prototype,"getText",null),e([n.Override],s.prototype,"sourceName",null),e([n.Override],s.prototype,"toString",null),Bf.ANTLRInputStream=s,Bf}var jf={},el={},g0={},PN;function mu(){return PN||(PN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=g0&&g0.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNState=void 0;const n=Ue();let r=class MC{constructor(){this.stateNumber=MC.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(a){return a instanceof MC?this.stateNumber===a.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(a,c){if(this.transitions.length===0)this.epsilonOnlyTransitions=a.isEpsilon;else if(this.epsilonOnlyTransitions!==a.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(c!==void 0?c:this.transitions.length,0,a)}transition(a){return this.transitions[a]}setTransition(a,c){this.transitions[a]=c}removeTransition(a){return this.transitions.splice(a,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(a){this.ruleIndex=a}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(a){return this.optimizedTransitions[a]}addOptimizedTransition(a){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(a)}setOptimizedTransition(a,c){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[a]=c}removeOptimizedTransition(a){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(a,1)}};t([n.Override],r.prototype,"hashCode",null),t([n.Override],r.prototype,"equals",null),t([n.Override],r.prototype,"toString",null),e.ATNState=r,function(s){s.INVALID_STATE_NUMBER=-1}(r=e.ATNState||(e.ATNState={}))}(g0)),g0}var wE={},MN;function zr(){return MN||(MN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ATNStateType=void 0,function(t){t[t.INVALID_TYPE=0]="INVALID_TYPE",t[t.BASIC=1]="BASIC",t[t.RULE_START=2]="RULE_START",t[t.BLOCK_START=3]="BLOCK_START",t[t.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",t[t.STAR_BLOCK_START=5]="STAR_BLOCK_START",t[t.TOKEN_START=6]="TOKEN_START",t[t.RULE_STOP=7]="RULE_STOP",t[t.BLOCK_END=8]="BLOCK_END",t[t.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",t[t.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",t[t.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",t[t.LOOP_END=12]="LOOP_END"}(e.ATNStateType||(e.ATNStateType={}))}(wE)),wE}var tl={},m0={},LN;function Hc(){if(LN)return m0;LN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(m0,"__esModule",{value:!0}),m0.RecognitionException=void 0;let e=class extends Error{constructor(n,r,s,a){super(a),this._offendingState=-1,this._recognizer=n,this.input=r,this.ctx=s,n&&(this._offendingState=n.state)}get offendingState(){return this._offendingState}setOffendingState(n){this._offendingState=n}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(n){if(!(n&&n!==this._recognizer))return this.offendingToken}setOffendingToken(n,r){n===this._recognizer&&(this.offendingToken=r)}get recognizer(){return this._recognizer}};return m0.RecognitionException=e,m0}var nl={},y0={},rl={},FN;function Wc(){if(FN)return rl;FN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=rl&&rl.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g},t=rl&&rl.__param||function(s,a){return function(c,d){a(c,d,s)}};Object.defineProperty(rl,"__esModule",{value:!0}),rl.Transition=void 0;const n=Ue();let r=class{constructor(a){if(a==null)throw new Error("target cannot be null.");this.target=a}get isEpsilon(){return!1}get label(){}};return r.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],e([n.NotNull],r.prototype,"target",void 0),r=e([t(0,n.NotNull)],r),rl.Transition=r,rl}var kN;function o2(){if(kN)return y0;kN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(y0,"__esModule",{value:!0}),y0.AbstractPredicateTransition=void 0;const e=Wc();let t=class extends e.Transition{constructor(r){super(r)}};return y0.AbstractPredicateTransition=t,y0}var zf={},il={},Uf={},RE={},BN;function ar(){return BN||(BN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash=void 0,function(t){function r(h=0){return h}t.initialize=r;function s(h,g){g==null?g=0:typeof g=="string"?g=d(g):typeof g=="object"&&(g=g.hashCode());let C=g;return C=Math.imul(C,3432918353),C=C<<15|C>>>17,C=Math.imul(C,461845907),h=h^C,h=h<<13|h>>>19,h=Math.imul(h,5)+3864292196,h&4294967295}t.update=s;function a(h,g){return h=h^g*4,h=h^h>>>16,h=Math.imul(h,2246822507),h=h^h>>>13,h=Math.imul(h,3266489909),h=h^h>>>16,h}t.finish=a;function c(h,g=0){let p=r(g),m=0;for(let x of h)p=s(p,x),m++;return p=a(p,m),p}t.hashCode=c;function d(h){let g=h.length;if(g===0)return 0;let p=0;for(let m=0;m<g;m++){let x=h.charCodeAt(m);p=(p<<5>>>0)-p+x,p|=0}return p}}(e.MurmurHash||(e.MurmurHash={}))}(RE)),RE}var Vf={},jN;function xa(){if(jN)return Vf;jN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vf&&Vf.__decorate||function(r,s,a,c){var d=arguments.length,h=d<3?s:c===null?c=Object.getOwnPropertyDescriptor(s,a):c,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(r,s,a,c);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(h=(d<3?g(h):d>3?g(s,a,h):g(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h};Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.ObjectEqualityComparator=void 0;const t=Ue();let n=class{hashCode(s){return s==null?0:s.hashCode()}equals(s,a){return s==null?a==null:s.equals(a)}};return n.INSTANCE=new n,e([t.Override],n.prototype,"hashCode",null),e([t.Override],n.prototype,"equals",null),Vf.ObjectEqualityComparator=n,Vf}var zN;function $$(){if(zN)return Uf;zN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Uf&&Uf.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.DefaultEqualityComparator=void 0;const t=Ue(),n=ar(),r=xa();let s=class{hashCode(c){return c==null?0:typeof c=="string"||typeof c=="number"?n.MurmurHash.hashCode([c]):r.ObjectEqualityComparator.INSTANCE.hashCode(c)}equals(c,d){return c==null?d==null:typeof c=="string"||typeof c=="number"?c===d:r.ObjectEqualityComparator.INSTANCE.equals(c,d)}};return s.INSTANCE=new s,e([t.Override],s.prototype,"hashCode",null),e([t.Override],s.prototype,"equals",null),Uf.DefaultEqualityComparator=s,Uf}var UN;function Yc(){if(UN)return il;UN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=il&&il.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E},t=il&&il.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(il,"__esModule",{value:!0}),il.Array2DHashSet=void 0;const n=xi(),r=$$(),s=Ue(),a=ar(),c=16,d=.75;let h=class ub{constructor(p,m=c){if(this.n=0,this.threshold=Math.floor(c*d),p instanceof ub){this.comparator=p.comparator,this.buckets=p.buckets.slice(0);for(let x=0;x<this.buckets.length;x++){let b=this.buckets[x];b&&(this.buckets[x]=b.slice(0))}this.n=p.n,this.threshold=p.threshold}else this.comparator=p||r.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(m)}getOrAdd(p){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(p)}getOrAddImpl(p){let m=this.getBucket(p),x=this.buckets[m];if(!x)return x=[p],this.buckets[m]=x,this.n++,p;for(let b of x)if(this.comparator.equals(b,p))return b;return x.push(p),this.n++,p}get(p){if(p==null)return p;let m=this.getBucket(p),x=this.buckets[m];if(x){for(let b of x)if(this.comparator.equals(b,p))return b}}getBucket(p){return this.comparator.hashCode(p)&this.buckets.length-1}hashCode(){let p=a.MurmurHash.initialize();for(let m of this.buckets)if(m!=null)for(let x of m){if(x==null)break;p=a.MurmurHash.update(p,this.comparator.hashCode(x))}return p=a.MurmurHash.finish(p,this.size),p}equals(p){return p===this?!0:!(p instanceof ub)||p.size!==this.size?!1:this.containsAll(p)}expand(){let p=this.buckets,m=this.buckets.length*2,x=this.createBuckets(m);this.buckets=x,this.threshold=Math.floor(m*d);let b=this.size;for(let E of p)if(E)for(let w of E){let C=this.getBucket(w),T=this.buckets[C];T||(T=[],this.buckets[C]=T),T.push(w)}n(this.n===b)}add(p){return this.getOrAdd(p)===p}get size(){return this.n}get isEmpty(){return this.n===0}contains(p){return this.containsFast(this.asElementType(p))}containsFast(p){return p==null?!1:this.get(p)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){const p=new Array(this.size);let m=0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;p[m++]=b}return p}containsAll(p){if(p instanceof ub){let m=p;for(let x of m.buckets)if(x!=null)for(let b of x){if(b==null)break;if(!this.containsFast(this.asElementType(b)))return!1}}else for(let m of p)if(!this.containsFast(this.asElementType(m)))return!1;return!0}addAll(p){let m=!1;for(let x of p)this.getOrAdd(x)!==x&&(m=!0);return m}clear(){this.buckets=this.createBuckets(c),this.n=0,this.threshold=Math.floor(c*d)}toString(){if(this.size===0)return"{}";let p="{",m=!0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;m?m=!1:p+=", ",p+=b.toString()}return p+="}",p}toTableString(){let p="";for(let m of this.buckets){if(m==null){p+=`null
`;continue}p+="[";let x=!0;for(let b of m)x?x=!1:p+=" ",b==null?p+="_":p+=b.toString();p+=`]
`}return p}asElementType(p){return p}createBuckets(p){return new Array(p)}};return e([s.NotNull],h.prototype,"comparator",void 0),e([s.Override],h.prototype,"hashCode",null),e([s.Override],h.prototype,"equals",null),e([s.Override],h.prototype,"add",null),e([s.Override],h.prototype,"size",null),e([s.Override],h.prototype,"isEmpty",null),e([s.Override],h.prototype,"contains",null),e([t(0,s.Nullable)],h.prototype,"containsFast",null),e([s.Override],h.prototype,Symbol.iterator,null),e([s.Override],h.prototype,"toArray",null),e([s.Override],h.prototype,"containsAll",null),e([s.Override],h.prototype,"addAll",null),e([s.Override],h.prototype,"clear",null),e([s.Override],h.prototype,"toString",null),e([s.SuppressWarnings("unchecked")],h.prototype,"asElementType",null),e([s.SuppressWarnings("unchecked")],h.prototype,"createBuckets",null),il.Array2DHashSet=h,il}var Gf={},VN;function uS(){if(VN)return Gf;VN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gf&&Gf.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.ArrayEqualityComparator=void 0;const t=Ue(),n=ar(),r=xa();let s=class{hashCode(c){return c==null?0:n.MurmurHash.hashCode(c,0)}equals(c,d){if(c==null)return d==null;if(d==null||c.length!==d.length)return!1;for(let h=0;h<c.length;h++)if(!r.ObjectEqualityComparator.INSTANCE.equals(c[h],d[h]))return!1;return!0}};return s.INSTANCE=new s,e([t.Override],s.prototype,"hashCode",null),e([t.Override],s.prototype,"equals",null),Gf.ArrayEqualityComparator=s,Gf}var Zi={},GN;function yu(){if(GN)return Zi;GN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.toCharArray=Zi.toMap=Zi.equals=Zi.join=Zi.escapeWhitespace=void 0;function e(a,c){return c?a.replace(/ /,""):a.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}Zi.escapeWhitespace=e;function t(a,c){let d="",h=!0;for(let g of a)h?h=!1:d+=c,d+=g;return d}Zi.join=t;function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.equals(c)}Zi.equals=n;function r(a){let c=new Map;for(let d=0;d<a.length;d++)c.set(a[d],d);return c}Zi.toMap=r;function s(a){if(typeof a=="string"){let c=new Uint16Array(a.length);for(let d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return c}else return a.toCharArray()}return Zi.toCharArray=s,Zi}var $N;function gg(){return $N||($N=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=zf&&zf.__decorate||function(x,b,E,w){var C=arguments.length,T=C<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,E):w,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,b,E,w);else for(var I=x.length-1;I>=0;I--)(_=x[I])&&(T=(C<3?_(T):C>3?_(b,E,T):_(b,E))||T);return C>3&&T&&Object.defineProperty(b,E,T),T},n=zf&&zf.__param||function(x,b){return function(E,w){b(E,w,x)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticContext=void 0;const r=Yc(),s=uS(),a=ar(),c=Ue(),d=xa(),h=yu();function g(x){let b;for(let E of x){if(b===void 0){b=E;continue}b.compareTo(E)<0&&(b=E)}return b}function p(x){let b;for(let E of x){if(b===void 0){b=E;continue}b.compareTo(E)>0&&(b=E)}return b}let m=class Co{static get NONE(){return Co._NONE===void 0&&(Co._NONE=new Co.Predicate),Co._NONE}evalPrecedence(b,E){return this}static and(b,E){if(!b||b===Co.NONE)return E;if(E===Co.NONE)return b;let w=new Co.AND(b,E);return w.opnds.length===1?w.opnds[0]:w}static or(b,E){if(!b)return E;if(b===Co.NONE||E===Co.NONE)return Co.NONE;let w=new Co.OR(b,E);return w.opnds.length===1?w.opnds[0]:w}};e.SemanticContext=m,function(x){function w(L){let k=[];for(let V=0;V<L.length;V++){let U=L[V];U instanceof x.PrecedencePredicate&&(k.push(U),L.splice(V,1),V--)}return k}class C extends x{constructor(k=-1,V=-1,U=!1){super(),this.ruleIndex=k,this.predIndex=V,this.isCtxDependent=U}eval(k,V){let U=this.isCtxDependent?V:void 0;return k.sempred(U,this.ruleIndex,this.predIndex)}hashCode(){let k=a.MurmurHash.initialize();return k=a.MurmurHash.update(k,this.ruleIndex),k=a.MurmurHash.update(k,this.predIndex),k=a.MurmurHash.update(k,this.isCtxDependent?1:0),k=a.MurmurHash.finish(k,3),k}equals(k){return k instanceof C?this===k?!0:this.ruleIndex===k.ruleIndex&&this.predIndex===k.predIndex&&this.isCtxDependent===k.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}t([c.Override],C.prototype,"eval",null),t([c.Override],C.prototype,"hashCode",null),t([c.Override],C.prototype,"equals",null),t([c.Override],C.prototype,"toString",null),x.Predicate=C;class T extends x{constructor(k){super(),this.precedence=k}eval(k,V){return k.precpred(V,this.precedence)}evalPrecedence(k,V){if(k.precpred(V,this.precedence))return x.NONE}compareTo(k){return this.precedence-k.precedence}hashCode(){let k=1;return k=31*k+this.precedence,k}equals(k){return k instanceof T?this===k?!0:this.precedence===k.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}t([c.Override],T.prototype,"eval",null),t([c.Override],T.prototype,"evalPrecedence",null),t([c.Override],T.prototype,"compareTo",null),t([c.Override],T.prototype,"hashCode",null),t([c.Override],T.prototype,"equals",null),t([c.Override],T.prototype,"toString",null),x.PrecedencePredicate=T;class _ extends x{}x.Operator=_;let I=class cb extends _{constructor(k,V){super();let U=new r.Array2DHashSet(d.ObjectEqualityComparator.INSTANCE);k instanceof cb?U.addAll(k.opnds):U.add(k),V instanceof cb?U.addAll(V.opnds):U.add(V),this.opnds=U.toArray();let q=w(this.opnds),te=p(q);te&&this.opnds.push(te)}get operands(){return this.opnds}equals(k){return this===k?!0:k instanceof cb?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,k.opnds):!1}hashCode(){return a.MurmurHash.hashCode(this.opnds,40363613)}eval(k,V){for(let U of this.opnds)if(!U.eval(k,V))return!1;return!0}evalPrecedence(k,V){let U=!1,q=[];for(let ie of this.opnds){let se=ie.evalPrecedence(k,V);if(U=U||se!==ie,se==null)return;se!==x.NONE&&q.push(se)}if(!U)return this;if(q.length===0)return x.NONE;let te=q[0];for(let ie=1;ie<q.length;ie++)te=x.and(te,q[ie]);return te}toString(){return h.join(this.opnds,"&&")}};t([c.Override],I.prototype,"operands",null),t([c.Override],I.prototype,"equals",null),t([c.Override],I.prototype,"hashCode",null),t([c.Override],I.prototype,"eval",null),t([c.Override],I.prototype,"evalPrecedence",null),t([c.Override],I.prototype,"toString",null),I=t([n(0,c.NotNull),n(1,c.NotNull)],I),x.AND=I;let O=class fb extends _{constructor(k,V){super();let U=new r.Array2DHashSet(d.ObjectEqualityComparator.INSTANCE);k instanceof fb?U.addAll(k.opnds):U.add(k),V instanceof fb?U.addAll(V.opnds):U.add(V),this.opnds=U.toArray();let q=w(this.opnds),te=g(q);te&&this.opnds.push(te)}get operands(){return this.opnds}equals(k){return this===k?!0:k instanceof fb?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,k.opnds):!1}hashCode(){return a.MurmurHash.hashCode(this.opnds,486279973)}eval(k,V){for(let U of this.opnds)if(U.eval(k,V))return!0;return!1}evalPrecedence(k,V){let U=!1,q=[];for(let ie of this.opnds){let se=ie.evalPrecedence(k,V);if(U=U||se!==ie,se===x.NONE)return x.NONE;se&&q.push(se)}if(!U)return this;if(q.length===0)return;let te=q[0];for(let ie=1;ie<q.length;ie++)te=x.or(te,q[ie]);return te}toString(){return h.join(this.opnds,"||")}};t([c.Override],O.prototype,"operands",null),t([c.Override],O.prototype,"equals",null),t([c.Override],O.prototype,"hashCode",null),t([c.Override],O.prototype,"eval",null),t([c.Override],O.prototype,"evalPrecedence",null),t([c.Override],O.prototype,"toString",null),O=t([n(0,c.NotNull),n(1,c.NotNull)],O),x.OR=O}(m=e.SemanticContext||(e.SemanticContext={}))}(zf)),zf}var HN;function pL(){if(HN)return nl;HN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nl&&nl.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=nl&&nl.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(nl,"__esModule",{value:!0}),nl.PredicateTransition=void 0;const n=o2(),r=Ue(),s=gg();let a=class extends n.AbstractPredicateTransition{constructor(d,h,g,p){super(d),this.ruleIndex=h,this.predIndex=g,this.isCtxDependent=p}get serializationType(){return 4}get isEpsilon(){return!0}matches(d,h,g){return!1}get predicate(){return new s.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override],a.prototype,"isEpsilon",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),nl.PredicateTransition=a,nl}var WN;function cS(){if(WN)return tl;WN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=tl&&tl.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=tl&&tl.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(tl,"__esModule",{value:!0}),tl.FailedPredicateException=void 0;const n=Hc(),r=Ue(),s=pL();let a=class gL extends n.RecognitionException{constructor(d,h,g){super(d,d.inputStream,d.context,gL.formatMessage(h,g));let m=d.interpreter.atn.states[d.state].transition(0);m instanceof s.PredicateTransition?(this._ruleIndex=m.ruleIndex,this._predicateIndex=m.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=h,super.setOffendingToken(d,d.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(d,h){return h||`failed predicate: {${d}}?`}};return e([r.NotNull],a,"formatMessage",null),a=e([t(0,r.NotNull)],a),tl.FailedPredicateException=a,tl}var ol={},YN;function fS(){if(YN)return ol;YN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ol&&ol.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=ol&&ol.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(ol,"__esModule",{value:!0}),ol.InputMismatchException=void 0;const n=Hc(),r=Ue();let s=class extends n.RecognitionException{constructor(c,d,h){h===void 0&&(h=c.context),super(c,c.inputStream,h),d!==void 0&&this.setOffendingState(d),this.setOffendingToken(c,c.currentToken)}};return s=e([t(0,r.NotNull)],s),ol.InputMismatchException=s,ol}var sl={},$f={},TE={},qN;function s2(){return qN||(qN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Arrays=void 0,function(t){function n(a,c,d,h){return r(a,d!==void 0?d:0,h!==void 0?h:a.length,c)}t.binarySearch=n;function r(a,c,d,h){let g=c,p=d-1;for(;g<=p;){let m=g+p>>>1,x=a[m];if(x<h)g=m+1;else if(x>h)p=m-1;else return m}return-(g+1)}function s(a){let c="[",d=!0;for(let h of a)d?d=!1:c+=", ",h===null?c+="null":h===void 0?c+="undefined":c+=h;return c+="]",c}t.toString=s}(e.Arrays||(e.Arrays={}))}(TE)),TE}var KN;function a2(){if(KN)return $f;KN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$f&&$f.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var E=d.length-1;E>=0;E--)(b=d[E])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x};Object.defineProperty($f,"__esModule",{value:!0}),$f.IntegerList=void 0;const t=s2(),n=Ue(),r=new Int32Array(0),s=4,a=(1<<31>>>0)-1-8;let c=class db{constructor(h){if(!h)this._data=r,this._size=0;else if(h instanceof db)this._data=h._data.slice(0),this._size=h._size;else if(typeof h=="number")h===0?(this._data=r,this._size=0):(this._data=new Int32Array(h),this._size=0);else{this._data=r,this._size=0;for(let g of h)this.add(g)}}add(h){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=h,this._size++}addAll(h){if(Array.isArray(h))this.ensureCapacity(this._size+h.length),this._data.subarray(this._size,this._size+h.length).set(h),this._size+=h.length;else if(h instanceof db)this.ensureCapacity(this._size+h._size),this._data.subarray(this._size,this._size+h.size).set(h._data),this._size+=h._size;else{this.ensureCapacity(this._size+h.size);let g=0;for(let p of h)this._data[this._size+g]=p,g++;this._size+=h.size}}get(h){if(h<0||h>=this._size)throw RangeError();return this._data[h]}contains(h){for(let g=0;g<this._size;g++)if(this._data[g]===h)return!0;return!1}set(h,g){if(h<0||h>=this._size)throw RangeError();let p=this._data[h];return this._data[h]=g,p}removeAt(h){let g=this.get(h);return this._data.copyWithin(h,h+1,this._size),this._data[this._size-1]=0,this._size--,g}removeRange(h,g){if(h<0||g<0||h>this._size||g>this._size||h>g)throw RangeError();this._data.copyWithin(g,h,this._size),this._data.fill(0,this._size-(g-h),this._size),this._size-=g-h}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(h){if(h===this)return!0;if(!(h instanceof db)||this._size!==h._size)return!1;for(let g=0;g<this._size;g++)if(this._data[g]!==h._data[g])return!1;return!0}hashCode(){let h=1;for(let g=0;g<this._size;g++)h=31*h+this._data[g];return h}toString(){return this._data.toString()}binarySearch(h,g,p){if(g===void 0&&(g=0),p===void 0&&(p=this._size),g<0||p<0||g>this._size||p>this._size)throw new RangeError;if(g>p)throw new RangeError;return t.Arrays.binarySearch(this._data,h,g,p)}ensureCapacity(h){if(h<0||h>a)throw new RangeError;let g;for(this._data.length===0?g=s:g=this._data.length;g<h;)g=g*2,(g<0||g>a)&&(g=a);let p=new Int32Array(g);p.set(this._data),this._data=p}toCharArray(){let h=new Uint16Array(this._size),g=0,p=!1;for(let m=0;m<this._size;m++){let x=this._data[m];if(x>=0&&x<65536){h[g]=x,g++;continue}if(!p){let E=new Uint16Array(this.charArraySize());E.set(h,0),h=E,p=!0}let b=String.fromCodePoint(x);h[g]=b.charCodeAt(0),h[g+1]=b.charCodeAt(1),g+=2}return h}charArraySize(){let h=0;for(let g=0;g<this._size;g++)h+=this._data[g]>=65536?2:1;return h}};return e([n.NotNull],c.prototype,"_data",void 0),e([n.Override],c.prototype,"equals",null),e([n.Override],c.prototype,"hashCode",null),e([n.Override],c.prototype,"toString",null),$f.IntegerList=c,$f}var Hf={},XN;function Bi(){if(XN)return Hf;XN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hf&&Hf.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g};Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.Interval=void 0;const t=Ue(),n=1e3;let r=class wo{constructor(a,c){this.a=a,this.b=c}static get INVALID(){return wo._INVALID}static of(a,c){return a!==c||a<0||a>n?new wo(a,c):(wo.cache[a]==null&&(wo.cache[a]=new wo(a,a)),wo.cache[a])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(a){return a===this?!0:a instanceof wo?this.a===a.a&&this.b===a.b:!1}hashCode(){let a=23;return a=a*31+this.a,a=a*31+this.b,a}startsBeforeDisjoint(a){return this.a<a.a&&this.b<a.a}startsBeforeNonDisjoint(a){return this.a<=a.a&&this.b>=a.a}startsAfter(a){return this.a>a.a}startsAfterDisjoint(a){return this.a>a.b}startsAfterNonDisjoint(a){return this.a>a.a&&this.a<=a.b}disjoint(a){return this.startsBeforeDisjoint(a)||this.startsAfterDisjoint(a)}adjacent(a){return this.a===a.b+1||this.b===a.a-1}properlyContains(a){return a.a>=this.a&&a.b<=this.b}union(a){return wo.of(Math.min(this.a,a.a),Math.max(this.b,a.b))}intersection(a){return wo.of(Math.max(this.a,a.a),Math.min(this.b,a.b))}differenceNotProperlyContained(a){let c;return a.startsBeforeNonDisjoint(this)?c=wo.of(Math.max(this.a,a.b+1),this.b):a.startsAfterNonDisjoint(this)&&(c=wo.of(this.a,a.a-1)),c}toString(){return this.a+".."+this.b}};return r._INVALID=new r(-1,-2),r.cache=new Array(n+1),e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),e([t.Override],r.prototype,"toString",null),Hf.Interval=r,Hf}var Wf={},v0={},al={},NE={},ZN;function Mn(){return ZN||(ZN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Token=void 0;const t=$c();(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=t.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(e.Token||(e.Token={}))}(NE)),NE}var JN;function Sy(){if(JN)return al;JN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=al&&al.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=al&&al.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(al,"__esModule",{value:!0}),al.CommonToken=void 0;const n=Bi(),r=Ue(),s=Mn();let a=class G0{constructor(d,h,g=G0.EMPTY_SOURCE,p=s.Token.DEFAULT_CHANNEL,m=0,x=0){this._line=0,this._charPositionInLine=-1,this._channel=s.Token.DEFAULT_CHANNEL,this.index=-1,this._text=h,this._type=d,this.source=g,this._channel=p,this.start=m,this.stop=x,g.source!=null&&(this._line=g.source.line,this._charPositionInLine=g.source.charPositionInLine)}static fromToken(d){let h=new G0(d.type,void 0,G0.EMPTY_SOURCE,d.channel,d.startIndex,d.stopIndex);return h._line=d.line,h.index=d.tokenIndex,h._charPositionInLine=d.charPositionInLine,d instanceof G0?(h._text=d._text,h.source=d.source):(h._text=d.text,h.source={source:d.tokenSource,stream:d.inputStream}),h}get type(){return this._type}set type(d){this._type=d}get line(){return this._line}set line(d){this._line=d}get text(){if(this._text!=null)return this._text;let d=this.inputStream;if(d==null)return;let h=d.size;return this.start<h&&this.stop<h?d.getText(n.Interval.of(this.start,this.stop)):"<EOF>"}set text(d){this._text=d}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(d){this._charPositionInLine=d}get channel(){return this._channel}set channel(d){this._channel=d}get startIndex(){return this.start}set startIndex(d){this.start=d}get stopIndex(){return this.stop}set stopIndex(d){this.stop=d}get tokenIndex(){return this.index}set tokenIndex(d){this.index=d}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(d){let h="";this._channel>0&&(h=",channel="+this._channel);let g=this.text;g!=null?(g=g.replace(/\n/g,"\\n"),g=g.replace(/\r/g,"\\r"),g=g.replace(/\t/g,"\\t")):g="<no text>";let p=String(this._type);return d&&(p=d.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+g+"',<"+p+">"+h+","+this._line+":"+this.charPositionInLine+"]"}};return a.EMPTY_SOURCE={source:void 0,stream:void 0},e([r.NotNull],a.prototype,"source",void 0),e([r.Override],a.prototype,"type",null),e([r.Override],a.prototype,"line",null),e([r.Override],a.prototype,"text",null),e([r.Override],a.prototype,"charPositionInLine",null),e([r.Override],a.prototype,"channel",null),e([r.Override],a.prototype,"startIndex",null),e([r.Override],a.prototype,"stopIndex",null),e([r.Override],a.prototype,"tokenIndex",null),e([r.Override],a.prototype,"tokenSource",null),e([r.Override],a.prototype,"inputStream",null),e([r.Override],a.prototype,"toString",null),e([t(0,r.NotNull)],a,"fromToken",null),a=e([t(2,r.NotNull)],a),al.CommonToken=a,al}var QN;function l2(){return QN||(QN=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=v0&&v0.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTokenFactory=void 0;const n=Sy(),r=Bi(),s=Ue();let a=class{constructor(d=!1){this.copyText=d}create(d,h,g,p,m,x,b,E){let w=new n.CommonToken(h,g,d,p,m,x);return w.line=b,w.charPositionInLine=E,g==null&&this.copyText&&d.stream!=null&&(w.text=d.stream.getText(r.Interval.of(m,x))),w}createSimple(d,h){return new n.CommonToken(d,h)}};t([s.Override],a.prototype,"create",null),t([s.Override],a.prototype,"createSimple",null),e.CommonTokenFactory=a,function(c){c.DEFAULT=new c}(a=e.CommonTokenFactory||(e.CommonTokenFactory={}))}(v0)),v0}var x0={},e_;function mL(){if(e_)return x0;e_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(x0,"__esModule",{value:!0}),x0.IntegerStack=void 0;const e=a2();let t=class extends e.IntegerList{constructor(r){super(r)}push(r){this.add(r)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};return x0.IntegerStack=t,x0}var Yf={},b0={},t_;function yL(){if(t_)return b0;t_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(b0,"__esModule",{value:!0}),b0.AcceptStateInfo=void 0;let e=class{constructor(n,r){this._prediction=n,this._lexerActionExecutor=r}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};return b0.AcceptStateInfo=e,b0}var qf={},S0={},n_;function mg(){if(n_)return S0;n_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(S0,"__esModule",{value:!0}),S0.Array2DHashMap=void 0;const e=Yc();class t{constructor(s){this.keyComparator=s}hashCode(s){return this.keyComparator.hashCode(s.key)}equals(s,a){return this.keyComparator.equals(s.key,a.key)}}let n=class LC{constructor(s){s instanceof LC?this.backingStore=new e.Array2DHashSet(s.backingStore):this.backingStore=new e.Array2DHashSet(new t(s))}clear(){this.backingStore.clear()}containsKey(s){return this.backingStore.contains({key:s})}get(s){let a=this.backingStore.get({key:s});if(a)return a.value}get isEmpty(){return this.backingStore.isEmpty}put(s,a){let c=this.backingStore.get({key:s,value:a}),d;return c?(d=c.value,c.value=a):this.backingStore.add({key:s,value:a}),d}putIfAbsent(s,a){let c=this.backingStore.get({key:s,value:a}),d;return c?d=c.value:this.backingStore.add({key:s,value:a}),d}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(s){return s instanceof LC?this.backingStore.equals(s.backingStore):!1}};return S0.Array2DHashMap=n,S0}var ll={},Kf={},ul={},A0={},r_;function oh(){if(r_)return A0;r_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(A0,"__esModule",{value:!0}),A0.DecisionState=void 0;const e=mu();let t=class extends e.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}};return A0.DecisionState=t,A0}var Xf={},E0={},i_;function u2(){return i_||(i_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=E0&&E0.__decorate||function(h,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(h,g,p,m);else for(var w=h.length-1;w>=0;w--)(E=h[w])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionContextCache=void 0;const n=mg(),r=Ue(),s=xa(),a=Es(),c=xi();let d=class FC{constructor(g=!0){this.contexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.childContexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.joinContexts=new n.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.enableCache=g}getAsCached(g){if(!this.enableCache)return g;let p=this.contexts.get(g);return p||(p=g,this.contexts.put(g,g)),p}getChild(g,p){if(!this.enableCache)return g.getChild(p);let m=new FC.PredictionContextAndInt(g,p),x=this.childContexts.get(m);return x||(x=g.getChild(p),x=this.getAsCached(x),this.childContexts.put(m,x)),x}join(g,p){if(!this.enableCache)return a.PredictionContext.join(g,p,this);let m=new FC.IdentityCommutativePredictionContextOperands(g,p),x=this.joinContexts.get(m);return x||(x=a.PredictionContext.join(g,p,this),x=this.getAsCached(x),this.joinContexts.put(m,x),x)}};e.PredictionContextCache=d,d.UNCACHED=new d(!1),function(h){class g{constructor(x,b){this.obj=x,this.value=b}equals(x){if(x instanceof g){if(x===this)return!0}else return!1;let b=x;return this.value===b.value&&(this.obj===b.obj||this.obj!=null&&this.obj.equals(b.obj))}hashCode(){let x=5;return x=7*x+(this.obj!=null?this.obj.hashCode():0),x=7*x+this.value,x}}t([r.Override],g.prototype,"equals",null),t([r.Override],g.prototype,"hashCode",null),h.PredictionContextAndInt=g;class p{constructor(x,b){c(x!=null),c(b!=null),this._x=x,this._y=b}get x(){return this._x}get y(){return this._y}equals(x){if(x instanceof p){if(this===x)return!0}else return!1;let b=x;return this._x===b._x&&this._y===b._y||this._x===b._y&&this._y===b._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}t([r.Override],p.prototype,"equals",null),t([r.Override],p.prototype,"hashCode",null),h.IdentityCommutativePredictionContextOperands=p}(d=e.PredictionContextCache||(e.PredictionContextCache={}))}(E0)),E0}var o_;function Es(){return o_||(o_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Xf&&Xf.__decorate||function(w,C,T,_){var I=arguments.length,O=I<3?C:_===null?_=Object.getOwnPropertyDescriptor(C,T):_,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(w,C,T,_);else for(var k=w.length-1;k>=0;k--)(L=w[k])&&(O=(I<3?L(O):I>3?L(C,T,O):L(C,T))||O);return I>3&&O&&Object.defineProperty(C,T,O),O},n=Xf&&Xf.__param||function(w,C){return function(T,_){C(T,_,w)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SingletonPredictionContext=e.PredictionContext=void 0;const r=mg(),s=Yc(),a=s2(),c=ar(),d=Ue(),h=u2(),g=xi(),p=1;let m=class ri{constructor(C){this.cachedHashCode=C}static calculateEmptyHashCode(){let C=c.MurmurHash.initialize(p);return C=c.MurmurHash.finish(C,0),C}static calculateSingleHashCode(C,T){let _=c.MurmurHash.initialize(p);return _=c.MurmurHash.update(_,C),_=c.MurmurHash.update(_,T),_=c.MurmurHash.finish(_,2),_}static calculateHashCode(C,T){let _=c.MurmurHash.initialize(p);for(let I of C)_=c.MurmurHash.update(_,I);for(let I of T)_=c.MurmurHash.update(_,I);return _=c.MurmurHash.finish(_,2*C.length),_}static fromRuleContext(C,T,_=!0){if(T.isEmpty)return _?ri.EMPTY_FULL:ri.EMPTY_LOCAL;let I;T._parent?I=ri.fromRuleContext(C,T._parent,_):I=_?ri.EMPTY_FULL:ri.EMPTY_LOCAL;let L=C.states[T.invokingState].transition(0);return I.getChild(L.followState.stateNumber)}static addEmptyContext(C){return C.addEmptyContext()}static removeEmptyContext(C){return C.removeEmptyContext()}static join(C,T,_=h.PredictionContextCache.UNCACHED){if(C===T)return C;if(C.isEmpty)return ri.isEmptyLocal(C)?C:ri.addEmptyContext(T);if(T.isEmpty)return ri.isEmptyLocal(T)?T:ri.addEmptyContext(C);let I=C.size,O=T.size;if(I===1&&O===1&&C.getReturnState(0)===T.getReturnState(0)){let se=_.join(C.getParent(0),T.getParent(0));return se===C.getParent(0)?C:se===T.getParent(0)?T:se.getChild(C.getReturnState(0))}let L=0,k=new Array(I+O),V=new Array(k.length),U=0,q=0,te=!0,ie=!0;for(;U<I&&q<O;)C.getReturnState(U)===T.getReturnState(q)?(k[L]=_.join(C.getParent(U),T.getParent(q)),V[L]=C.getReturnState(U),te=te&&k[L]===C.getParent(U),ie=ie&&k[L]===T.getParent(q),U++,q++):C.getReturnState(U)<T.getReturnState(q)?(k[L]=C.getParent(U),V[L]=C.getReturnState(U),ie=!1,U++):(g(T.getReturnState(q)<C.getReturnState(U)),k[L]=T.getParent(q),V[L]=T.getReturnState(q),te=!1,q++),L++;for(;U<I;)k[L]=C.getParent(U),V[L]=C.getReturnState(U),U++,ie=!1,L++;for(;q<O;)k[L]=T.getParent(q),V[L]=T.getReturnState(q),q++,te=!1,L++;return te?C:ie?T:(L<k.length&&(k=k.slice(0,L),V=V.slice(0,L)),k.length===0?ri.EMPTY_FULL:k.length===1?new E(k[0],V[0]):new b(k,V))}static isEmptyLocal(C){return C===ri.EMPTY_LOCAL}static getCachedContext(C,T,_){if(C.isEmpty)return C;let I=_.get(C);if(I)return I;if(I=T.get(C),I)return _.put(C,I),I;let O=!1,L=new Array(C.size);for(let V=0;V<L.length;V++){let U=ri.getCachedContext(C.getParent(V),T,_);if(O||U!==C.getParent(V)){if(!O){L=new Array(C.size);for(let q=0;q<C.size;q++)L[q]=C.getParent(q);O=!0}L[V]=U}}if(!O)return I=T.putIfAbsent(C,C),_.put(C,I??C),C;let k;if(L.length===1)k=new E(L[0],C.getReturnState(0));else{let V=new Array(C.size);for(let U=0;U<C.size;U++)V[U]=C.getReturnState(U);k=new b(L,V,C.hashCode())}return I=T.putIfAbsent(k,k),_.put(k,I||k),_.put(C,I||k),k}appendSingleContext(C,T){return this.appendContext(ri.EMPTY_FULL.getChild(C),T)}getChild(C){return new E(this,C)}hashCode(){return this.cachedHashCode}toStrings(C,T,_=ri.EMPTY_FULL){let I=[];e:for(let O=0;;O++){let L=0,k=!0,V=this,U=T,q="";for(q+="[";!V.isEmpty&&V!==_;){let te=0;if(V.size>0){let ie=1;for(;1<<ie>>>0<V.size;)ie++;let se=(1<<ie>>>0)-1;if(te=O>>L&se,k=k&&te>=V.size-1,te>=V.size)continue e;L+=ie}if(C){q.length>1&&(q+=" ");let se=C.atn.states[U],Ce=C.ruleNames[se.ruleIndex];q+=Ce}else V.getReturnState(te)!==ri.EMPTY_FULL_STATE_KEY&&(V.isEmpty||(q.length>1&&(q+=" "),q+=V.getReturnState(te)));U=V.getReturnState(te),V=V.getParent(te)}if(q+="]",I.push(q),k)break}return I}};t([d.Override],m.prototype,"hashCode",null),t([n(0,d.NotNull),n(1,d.NotNull),n(2,d.NotNull)],m,"join",null),t([n(0,d.NotNull),n(1,d.NotNull),n(2,d.NotNull)],m,"getCachedContext",null),e.PredictionContext=m;class x extends m{constructor(C){super(m.calculateEmptyHashCode()),this.fullContext=C}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(C){throw new Error("index out of bounds")}getReturnState(C){throw new Error("index out of bounds")}findReturnState(C){return-1}get size(){return 0}appendSingleContext(C,T){return T.getChild(this,C)}appendContext(C,T){return C}get isEmpty(){return!0}get hasEmpty(){return!0}equals(C){return this===C}toStrings(C,T,_){return["[]"]}}t([d.Override],x.prototype,"addEmptyContext",null),t([d.Override],x.prototype,"removeEmptyContext",null),t([d.Override],x.prototype,"getParent",null),t([d.Override],x.prototype,"getReturnState",null),t([d.Override],x.prototype,"findReturnState",null),t([d.Override],x.prototype,"size",null),t([d.Override],x.prototype,"appendSingleContext",null),t([d.Override],x.prototype,"appendContext",null),t([d.Override],x.prototype,"isEmpty",null),t([d.Override],x.prototype,"hasEmpty",null),t([d.Override],x.prototype,"equals",null),t([d.Override],x.prototype,"toStrings",null);let b=class Ud extends m{constructor(C,T,_){super(_||m.calculateHashCode(C,T)),g(C.length===T.length),g(T.length>1||T[0]!==m.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=C,this.returnStates=T}getParent(C){return this.parents[C]}getReturnState(C){return this.returnStates[C]}findReturnState(C){return a.Arrays.binarySearch(this.returnStates,C)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===m.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let C=this.parents.slice(0),T=this.returnStates.slice(0);return C.push(m.EMPTY_FULL),T.push(m.EMPTY_FULL_STATE_KEY),new Ud(C,T)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new E(this.parents[0],this.returnStates[0]);{let C=this.parents.slice(0,this.parents.length-1),T=this.returnStates.slice(0,this.returnStates.length-1);return new Ud(C,T)}}appendContext(C,T){return Ud.appendContextImpl(this,C,new m.IdentityHashMap)}static appendContextImpl(C,T,_){if(T.isEmpty){if(m.isEmptyLocal(T)){if(C.hasEmpty)return m.EMPTY_LOCAL;throw new Error("what to do here?")}return C}if(T.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let I=_.get(C);if(!I){if(C.isEmpty)I=T;else{let O=C.size;C.hasEmpty&&O--;let L=new Array(O),k=new Array(O);for(let V=0;V<O;V++)k[V]=C.getReturnState(V);for(let V=0;V<O;V++)L[V]=Ud.appendContextImpl(C.getParent(V),T,_);L.length===1?I=new E(L[0],k[0]):(g(L.length>1),I=new Ud(L,k)),C.hasEmpty&&(I=m.join(I,T))}_.put(C,I)}return I}equals(C){if(this===C)return!0;if(!(C instanceof Ud)||this.hashCode()!==C.hashCode())return!1;let T=C;return this.equalsImpl(T,new s.Array2DHashSet)}equalsImpl(C,T){let _=[],I=[];for(_.push(this),I.push(C);;){let O=_.pop(),L=I.pop();if(!O||!L)break;let k=new h.PredictionContextCache.IdentityCommutativePredictionContextOperands(O,L);if(!T.add(k))continue;let V=k.x.size;if(V===0){if(!k.x.equals(k.y))return!1;continue}let U=k.y.size;if(V!==U)return!1;for(let q=0;q<V;q++){if(k.x.getReturnState(q)!==k.y.getReturnState(q))return!1;let te=k.x.getParent(q),ie=k.y.getParent(q);if(te.hashCode()!==ie.hashCode())return!1;te!==ie&&(_.push(te),I.push(ie))}}return!0}};t([d.NotNull],b.prototype,"parents",void 0),t([d.NotNull],b.prototype,"returnStates",void 0),t([d.Override],b.prototype,"getParent",null),t([d.Override],b.prototype,"getReturnState",null),t([d.Override],b.prototype,"findReturnState",null),t([d.Override],b.prototype,"size",null),t([d.Override],b.prototype,"isEmpty",null),t([d.Override],b.prototype,"hasEmpty",null),t([d.Override],b.prototype,"addEmptyContext",null),t([d.Override],b.prototype,"removeEmptyContext",null),t([d.Override],b.prototype,"appendContext",null),t([d.Override],b.prototype,"equals",null),b=t([n(0,d.NotNull)],b);let E=class vL extends m{constructor(C,T){super(m.calculateSingleHashCode(C,T)),this.parent=C,this.returnState=T}getParent(C){return this.parent}getReturnState(C){return this.returnState}findReturnState(C){return this.returnState===C?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(C,T){return T.getChild(this.parent.appendContext(C,T),this.returnState)}addEmptyContext(){let C=[this.parent,m.EMPTY_FULL],T=[this.returnState,m.EMPTY_FULL_STATE_KEY];return new b(C,T)}removeEmptyContext(){return this}equals(C){if(C===this)return!0;if(!(C instanceof vL))return!1;let T=C;return this.hashCode()!==T.hashCode()?!1:this.returnState===T.returnState&&this.parent.equals(T.parent)}};t([d.NotNull],E.prototype,"parent",void 0),t([d.Override],E.prototype,"getParent",null),t([d.Override],E.prototype,"getReturnState",null),t([d.Override],E.prototype,"findReturnState",null),t([d.Override],E.prototype,"size",null),t([d.Override],E.prototype,"isEmpty",null),t([d.Override],E.prototype,"hasEmpty",null),t([d.Override],E.prototype,"appendContext",null),t([d.Override],E.prototype,"addEmptyContext",null),t([d.Override],E.prototype,"removeEmptyContext",null),t([d.Override],E.prototype,"equals",null),E=t([n(0,d.NotNull)],E),e.SingletonPredictionContext=E,function(w){w.EMPTY_LOCAL=new x(!1),w.EMPTY_FULL=new x(!0),w.EMPTY_LOCAL_STATE_KEY=-2147483648,w.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class C extends r.Array2DHashMap{constructor(){super(T.INSTANCE)}}w.IdentityHashMap=C;class T{IdentityEqualityComparator(){}hashCode(I){return I.hashCode()}equals(I,O){return I===O}}T.INSTANCE=new T,t([d.Override],T.prototype,"hashCode",null),t([d.Override],T.prototype,"equals",null),w.IdentityEqualityComparator=T}(m=e.PredictionContext||(e.PredictionContext={}))}(Xf)),Xf}var s_;function dS(){if(s_)return ul;s_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ul&&ul.__decorate||function(w,C,T,_){var I=arguments.length,O=I<3?C:_===null?_=Object.getOwnPropertyDescriptor(C,T):_,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(w,C,T,_);else for(var k=w.length-1;k>=0;k--)(L=w[k])&&(O=(I<3?L(O):I>3?L(C,T,O):L(C,T))||O);return I>3&&O&&Object.defineProperty(C,T,O),O},t=ul&&ul.__param||function(w,C){return function(T,_){C(T,_,w)}};Object.defineProperty(ul,"__esModule",{value:!0}),ul.ATNConfig=void 0;const n=mg(),r=oh(),s=ar(),a=Ue(),c=xa(),d=Es(),h=gg(),g=xi(),p=2147483648;let m=class $0{constructor(C,T,_){typeof T=="number"?(g((T&16777215)===T),this._state=C,this.altAndOuterContextDepth=T,this._context=_):(this._state=C,this.altAndOuterContextDepth=T.altAndOuterContextDepth,this._context=_)}static create(C,T,_,I=h.SemanticContext.NONE,O){return I!==h.SemanticContext.NONE?O!=null?new E(O,I,C,T,_,!1):new x(I,C,T,_):O!=null?new b(O,C,T,_,!1):new $0(C,T,_)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(C){this._context=C}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(C){g(C>=0),C=Math.min(C,127),this.altAndOuterContextDepth=C<<24|(this.altAndOuterContextDepth&-2130706433)>>>0}get lexerActionExecutor(){}get semanticContext(){return h.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(C,T,_){return _==null?this.transformImpl(C,this._context,this.semanticContext,T,this.lexerActionExecutor):_ instanceof d.PredictionContext?this.transformImpl(C,_,this.semanticContext,T,this.lexerActionExecutor):_ instanceof h.SemanticContext?this.transformImpl(C,this._context,_,T,this.lexerActionExecutor):this.transformImpl(C,this._context,this.semanticContext,T,_)}transformImpl(C,T,_,I,O){let L=I&&$0.checkNonGreedyDecision(this,C);return _!==h.SemanticContext.NONE?O!=null||L?new E(O,_,C,this,T,L):new x(_,C,this,T):O!=null||L?new b(O,C,this,T,L):new $0(C,this,T)}static checkNonGreedyDecision(C,T){return C.hasPassedThroughNonGreedyDecision||T instanceof r.DecisionState&&T.nonGreedy}appendContext(C,T){if(typeof C=="number"){let _=this.context.appendSingleContext(C,T);return this.transform(this.state,!1,_)}else{let _=this.context.appendContext(C,T);return this.transform(this.state,!1,_)}}contains(C){if(this.state.stateNumber!==C.state.stateNumber||this.alt!==C.alt||!this.semanticContext.equals(C.semanticContext))return!1;let T=[],_=[];for(T.push(this.context),_.push(C.context);;){let I=T.pop(),O=_.pop();if(!I||!O)break;if(I===O)return!0;if(I.size<O.size)return!1;if(O.isEmpty)return I.hasEmpty;for(let L=0;L<O.size;L++){let k=I.findReturnState(O.getReturnState(L));if(k<0)return!1;T.push(I.getParent(k)),_.push(O.getParent(L))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&p)!==0}set isPrecedenceFilterSuppressed(C){C?this.altAndOuterContextDepth|=p:this.altAndOuterContextDepth&=2147483647}equals(C){return this===C?!0:C instanceof $0?this.state.stateNumber===C.state.stateNumber&&this.alt===C.alt&&this.reachesIntoOuterContext===C.reachesIntoOuterContext&&this.context.equals(C.context)&&this.semanticContext.equals(C.semanticContext)&&this.isPrecedenceFilterSuppressed===C.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===C.hasPassedThroughNonGreedyDecision&&c.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,C.lexerActionExecutor):!1}hashCode(){let C=s.MurmurHash.initialize(7);return C=s.MurmurHash.update(C,this.state.stateNumber),C=s.MurmurHash.update(C,this.alt),C=s.MurmurHash.update(C,this.reachesIntoOuterContext?1:0),C=s.MurmurHash.update(C,this.context),C=s.MurmurHash.update(C,this.semanticContext),C=s.MurmurHash.update(C,this.hasPassedThroughNonGreedyDecision?1:0),C=s.MurmurHash.update(C,this.lexerActionExecutor),C=s.MurmurHash.finish(C,7),C}toDotString(){let C="";C+=`digraph G {
`,C+=`rankdir=LR;
`;let T=new n.Array2DHashMap(d.PredictionContext.IdentityEqualityComparator.INSTANCE),_=[];function I(O){let L=T.size,k=T.putIfAbsent(O,L);return k??(_.push(O),L)}for(_.push(this.context),T.put(this.context,0);;){let O=_.pop();if(!O)break;for(let L=0;L<O.size;L++)C+="  s"+I(O),C+="->",C+="s"+I(O.getParent(L)),C+='[label="'+O.getReturnState(L)+`"];
`}return C+=`}
`,C.toString()}toString(C,T,_){_==null&&(_=T!=null),T==null&&(T=!0);let I="",O;_?O=this.context.toStrings(C,this.state.stateNumber):O=["?"];let L=!0;for(let k of O)L?L=!1:I+=", ",I+="(",I+=this.state,T&&(I+=",",I+=this.alt),this.context&&(I+=",",I+=k),this.semanticContext!==h.SemanticContext.NONE&&(I+=",",I+=this.semanticContext),this.reachesIntoOuterContext&&(I+=",up="+this.outerContextDepth),I+=")";return I.toString()}};e([a.NotNull],m.prototype,"_state",void 0),e([a.NotNull],m.prototype,"_context",void 0),e([a.NotNull],m.prototype,"state",null),e([a.NotNull,t(0,a.NotNull)],m.prototype,"context",null),e([a.NotNull],m.prototype,"semanticContext",null),e([a.Override],m.prototype,"clone",null),e([t(0,a.NotNull),t(2,a.NotNull)],m.prototype,"transformImpl",null),e([a.Override],m.prototype,"equals",null),e([a.Override],m.prototype,"hashCode",null),e([t(0,a.NotNull),t(3,a.NotNull)],m,"create",null),m=e([t(0,a.NotNull),t(2,a.NotNull)],m),ul.ATNConfig=m;let x=class extends m{constructor(C,T,_,I){typeof _=="number"?super(T,_,I):super(T,_,I),this._semanticContext=C}get semanticContext(){return this._semanticContext}};e([a.NotNull],x.prototype,"_semanticContext",void 0),e([a.Override],x.prototype,"semanticContext",null),x=e([t(1,a.NotNull),t(2,a.NotNull)],x);let b=class extends m{constructor(C,T,_,I,O){if(typeof _=="number")super(T,_,I);else if(super(T,_,I),_.semanticContext!==h.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=C,this.passedThroughNonGreedyDecision=O}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};e([a.Override],b.prototype,"lexerActionExecutor",null),e([a.Override],b.prototype,"hasPassedThroughNonGreedyDecision",null),b=e([t(1,a.NotNull),t(2,a.NotNull)],b);let E=class extends x{constructor(C,T,_,I,O,L){typeof I=="number"?super(T,_,I,O):super(T,_,I,O),this._lexerActionExecutor=C,this.passedThroughNonGreedyDecision=L}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};return e([a.Override],E.prototype,"lexerActionExecutor",null),e([a.Override],E.prototype,"hasPassedThroughNonGreedyDecision",null),E=e([t(1,a.NotNull),t(2,a.NotNull)],E),ul}var C0={},a_;function qc(){if(a_)return C0;a_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(C0,"__esModule",{value:!0}),C0.BitSet=void 0;const e=Jp(),t=ar(),n=new Uint16Array(0);function r(m){return m>>>4}function s(m){return m*16}function a(m){let x=1;for(let b=0;b<16;b++){if((m&x)!==0)return b;x=x<<1>>>0}throw new RangeError("No specified bit found")}function c(m){let x=32768;for(let b=15;b>=0;b--){if((m&x)!==0)return b;x=x>>>1}throw new RangeError("No specified bit found")}function d(m,x){return m&=15,x&=15,m===x?1<<m>>>0:65535>>>15-x^65535>>>16-m}const h=new Uint8Array(65536);for(let m=0;m<16;m++){const x=1<<m>>>0;let b=0;for(;b<h.length;){b+=x;for(let E=0;E<x;E++)h[b]++,b++}}let g=class H0{constructor(x){if(!x)this.data=n;else if(typeof x=="number"){if(x<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(r(x-1)+1)}else if(x instanceof H0)this.data=x.data.slice(0);else{let b=-1;for(let E of x)b<E&&(b=E);this.data=new Uint16Array(r(b-1)+1);for(let E of x)this.set(E)}}and(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length);let C=-1;for(let T=0;T<w;T++)(b[T]&=E[T])!==0&&(C=T);C===-1&&(this.data=n),C<b.length-1&&(this.data=b.slice(0,C+1))}andNot(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length);let C=-1;for(let T=0;T<w;T++)(b[T]&=E[T]^65535)!==0&&(C=T);C===-1&&(this.data=n),C<b.length-1&&(this.data=b.slice(0,C+1))}cardinality(){if(this.isEmpty)return 0;const x=this.data,b=x.length;let E=0;for(let w=0;w<b;w++)E+=h[x[w]];return E}clear(x,b){x==null?this.data.fill(0):b==null?this.set(x,!1):this.set(x,b,!1)}flip(x,b){if(b==null&&(b=x),x<0||b<x)throw new RangeError;let E=r(x);const w=r(b);if(E===w)this.data[E]^=d(x,b);else{for(this.data[E++]^=d(x,15);E<w;)this.data[E++]^=65535;this.data[E++]^=d(0,b)}}get(x,b){if(b===void 0)return!!(this.data[r(x)]&d(x,x));{let E=new H0(b+1);for(let w=x;w<=b;w++)E.set(w,this.get(w));return E}}intersects(x){let b=Math.min(this.length(),x.length());if(b===0)return!1;let E=r(b-1);for(let w=0;w<=E;w++)if((this.data[w]&x.data[w])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(s(this.data.length)-1)+1:0}nextClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);if(w>E)return-1;let C=65535^d(x,15);if((b[w]|C)===65535){for(w++,C=0;w<E&&b[w]===65535;w++);if(w===E)return-1}return s(w)+a((b[w]|C)^65535)}nextSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);if(w>E)return-1;let C=d(x,15);if((b[w]&C)===0){for(w++,C=65535;w<E&&b[w]===0;w++);if(w>=E)return-1}return s(w)+a(b[w]&C)}or(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length),C=Math.max(b.length,E.length),T=b.length===C?b:new Uint16Array(C);let _=-1;for(let O=0;O<w;O++)(T[O]=b[O]|E[O])!==0&&(_=O);const I=b.length>E.length?b:E;for(let O=w;O<C;O++)(T[O]=I[O])!==0&&(_=O);_===-1?this.data=n:T.length===_+1?this.data=T:this.data=T.slice(0,_)}previousClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);w>=E&&(w=E-1);let C=65535^d(0,x);if((b[w]|C)===65535){for(C=0,w--;w>=0&&b[w]===65535;w--);if(w<0)return-1}return s(w)+c((b[w]|C)^65535)}previousSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);w>=E&&(w=E-1);let C=d(0,x);if((b[w]&C)===0){for(w--,C=65535;w>=0&&b[w]===0;w--);if(w<0)return-1}return s(w)+c(b[w]&C)}set(x,b,E){if(b===void 0?(b=x,E=!0):typeof b=="boolean"&&(E=b,b=x),E===void 0&&(E=!0),x<0||x>b)throw new RangeError;let w=r(x),C=r(b);if(E&&C>=this.data.length){let T=new Uint16Array(C+1);this.data.forEach((_,I)=>T[I]=_),this.data=T}else if(!E){if(w>=this.data.length)return;C>=this.data.length&&(C=this.data.length-1,b=this.data.length*16-1)}if(w===C)this._setBits(w,E,d(x,b));else{for(this._setBits(w++,E,d(x,15));w<C;)this.data[w++]=E?65535:0;this._setBits(w,E,d(0,b))}}_setBits(x,b,E){b?this.data[x]|=E:this.data[x]&=65535^E}get size(){return this.data.byteLength*8}hashCode(){return t.MurmurHash.hashCode(this.data,22)}equals(x){if(x===this)return!0;if(!(x instanceof H0))return!1;const b=this.length();if(b!==x.length())return!1;if(b===0)return!0;let E=r(b-1);for(let w=0;w<=E;w++)if(this.data[w]!==x.data[w])return!1;return!0}toString(){let x="{",b=!0;for(let E=this.nextSetBit(0);E>=0;E=this.nextSetBit(E+1))b?b=!1:x+=", ",x+=E;return x+="}",x}xor(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length),C=Math.max(b.length,E.length),T=b.length===C?b:new Uint16Array(C);let _=-1;for(let O=0;O<w;O++)(T[O]=b[O]^E[O])!==0&&(_=O);const I=b.length>E.length?b:E;for(let O=w;O<C;O++)(T[O]=I[O])!==0&&(_=O);_===-1?this.data=n:T.length===_+1?this.data=T:this.data=T.slice(0,_+1)}clone(){return new H0(this)}[Symbol.iterator](){return new p(this.data)}[e.inspect.custom](){return"BitSet "+this.toString()}};C0.BitSet=g;class p{constructor(x){this.data=x,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const x=this.data[this.index]&this.mask;if(x!==0){const b=s(this.index)+a(x);return this.mask=d(b+1,15),{done:!1,value:b}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}return C0}var l_;function Ay(){if(l_)return Kf;l_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kf&&Kf.__decorate||function(T,_,I,O){var L=arguments.length,k=L<3?_:O===null?O=Object.getOwnPropertyDescriptor(_,I):O,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(T,_,I,O);else for(var U=T.length-1;U>=0;U--)(V=T[U])&&(k=(L<3?V(k):L>3?V(_,I,k):V(_,I))||k);return L>3&&k&&Object.defineProperty(_,I,k),k};Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.ATNConfigSet=void 0;const t=mg(),n=Yc(),r=uS(),s=ba(),a=dS(),c=qc(),d=Ue(),h=xa(),g=Es(),p=u2(),m=gg(),x=xi(),b=yu();class E{hashCode(_){return _.state^_.alt}equals(_,I){return _.state===I.state&&_.alt===I.alt}}E.INSTANCE=new E;function w(T){return T?new t.Array2DHashMap(T):new t.Array2DHashMap(E.INSTANCE)}let C=class kC{constructor(_,I){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,_?(I?(this.mergedConfigs=void 0,this.unmerged=void 0):_.isReadOnly?(this.mergedConfigs=w(),this.unmerged=[]):(this.mergedConfigs=w(_.mergedConfigs),this.unmerged=_.unmerged.slice(0)),this.configs=_.configs.slice(0),this._dipsIntoOuterContext=_._dipsIntoOuterContext,this._hasSemanticContext=_._hasSemanticContext,this.outermostConfigSet=_.outermostConfigSet,(I||!_.isReadOnly)&&(this._uniqueAlt=_._uniqueAlt,this._conflictInfo=_._conflictInfo)):(this.mergedConfigs=w(),this.unmerged=[],this.configs=[],this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let _=new c.BitSet;for(let I of this)_.set(I.alt);return _}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(_){if(this.outermostConfigSet&&!_)throw new Error("IllegalStateException");x(!_||!this._dipsIntoOuterContext),this.outermostConfigSet=_}getStates(){let _=new n.Array2DHashSet(h.ObjectEqualityComparator.INSTANCE);for(let I of this.configs)_.add(I.state);return _}optimizeConfigs(_){if(this.configs.length!==0)for(let I of this.configs)I.context=_.atn.getCachedContext(I.context)}clone(_){let I=new kC(this,_);return!_&&this.isReadOnly&&I.addAll(this.configs),I}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(_){if(!(_ instanceof a.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let I=_,O=this.getKey(I),L=this.mergedConfigs.get(O);if(L!=null&&this.canMerge(I,O,L))return L.contains(I);for(let k of this.unmerged)if(k.contains(_))return!0}else for(let I of this.configs)if(I.contains(_))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(_,I){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");x(!this.outermostConfigSet||!_.reachesIntoOuterContext),I==null&&(I=p.PredictionContextCache.UNCACHED);let O,L=this.getKey(_),k=this.mergedConfigs.get(L);if(O=k==null,k!=null&&this.canMerge(_,L,k)){k.outerContextDepth=Math.max(k.outerContextDepth,_.outerContextDepth),_.isPrecedenceFilterSuppressed&&(k.isPrecedenceFilterSuppressed=!0);let V=g.PredictionContext.join(k.context,_.context,I);return this.updatePropertiesForMergedConfig(_),k.context===V?!1:(k.context=V,!0)}for(let V=0;V<this.unmerged.length;V++){let U=this.unmerged[V];if(this.canMerge(_,L,U)){U.outerContextDepth=Math.max(U.outerContextDepth,_.outerContextDepth),_.isPrecedenceFilterSuppressed&&(U.isPrecedenceFilterSuppressed=!0);let q=g.PredictionContext.join(U.context,_.context,I);return this.updatePropertiesForMergedConfig(_),U.context===q?!1:(U.context=q,O&&(this.mergedConfigs.put(L,U),this.unmerged.splice(V,1)),!0)}}return this.configs.push(_),O?this.mergedConfigs.put(L,_):this.unmerged.push(_),this.updatePropertiesForAddedConfig(_),!0}updatePropertiesForMergedConfig(_){this._dipsIntoOuterContext=this._dipsIntoOuterContext||_.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(_){this.configs.length===1?this._uniqueAlt=_.alt:this._uniqueAlt!==_.alt&&(this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!m.SemanticContext.NONE.equals(_.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||_.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(_,I,O){return _.state.stateNumber!==O.state.stateNumber||I.alt!==O.alt?!1:_.semanticContext.equals(O.semanticContext)}getKey(_){return{state:_.state.stateNumber,alt:_.alt}}containsAll(_){for(let I of _)if(!(I instanceof a.ATNConfig)||!this.contains(I))return!1;return!0}addAll(_,I){this.ensureWritable();let O=!1;for(let L of _)this.add(L,I)&&(O=!0);return O}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(_){return this===_?!0:_ instanceof kC?this.outermostConfigSet===_.outermostConfigSet&&b.equals(this._conflictInfo,_._conflictInfo)&&r.ArrayEqualityComparator.INSTANCE.equals(this.configs,_.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let _=1;return _=5*_^(this.outermostConfigSet?1:0),_=5*_^r.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=_),_}toString(_){_==null&&(_=!1);let I="",O=this.configs.slice(0);O.sort((L,k)=>L.alt!==k.alt?L.alt-k.alt:L.state.stateNumber!==k.state.stateNumber?L.state.stateNumber-k.state.stateNumber:L.semanticContext.toString().localeCompare(k.semanticContext.toString())),I+="[";for(let L=0;L<O.length;L++)L>0&&(I+=", "),I+=O[L].toString(void 0,!0,_);return I+="]",this._hasSemanticContext&&(I+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==s.ATN.INVALID_ALT_NUMBER&&(I+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(I+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(I+="*")),this._dipsIntoOuterContext&&(I+=",dipsIntoOuterContext"),I.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(_){this.ensureWritable(),this._hasSemanticContext=_}get conflictInfo(){return this._conflictInfo}set conflictInfo(_){this.ensureWritable(),this._conflictInfo=_}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(_){return this.configs[_]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};return e([d.NotNull],C.prototype,"getRepresentedAlternatives",null),e([d.Override],C.prototype,"size",null),e([d.Override],C.prototype,"isEmpty",null),e([d.Override],C.prototype,"contains",null),e([d.Override],C.prototype,Symbol.iterator,null),e([d.Override],C.prototype,"toArray",null),e([d.Override],C.prototype,"containsAll",null),e([d.Override],C.prototype,"clear",null),e([d.Override],C.prototype,"equals",null),e([d.Override],C.prototype,"hashCode",null),Kf.ATNConfigSet=C,Kf}var Zf={},Jf={},Qf={},u_;function hS(){return u_||(u_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Qf&&Qf.__decorate||function(p,m,x,b){var E=arguments.length,w=E<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,m,x,b);else for(var T=p.length-1;T>=0;T--)(C=p[T])&&(w=(E<3?C(w):E>3?C(m,x,w):C(m,x))||w);return E>3&&w&&Object.defineProperty(m,x,w),w},n=Qf&&Qf.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DFAState=void 0;const r=ba(),s=qc(),a=ar(),c=Ue(),d=Es(),h=xi();let g=class xL{constructor(m){this.stateNumber=-1,this.configs=m,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(m){return this.isContextSensitive?this.contextSymbols.get(m):!1}setContextSymbol(m){h(this.isContextSensitive),this.contextSymbols.set(m)}setContextSensitive(m){h(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new s.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(m){this._acceptStateInfo=m}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:r.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(m){return this.edges.get(m)}setTarget(m,x){this.edges.set(m,x)}getEdgeMap(){return this.edges}getContextTarget(m){return m===d.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.get(m)}setContextTarget(m,x){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");m===d.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.set(m,x)}getContextEdgeMap(){let m=new Map(this.contextEdges),x=m.get(-1);if(x!==void 0)if(m.size===1){let b=new Map;return b.set(d.PredictionContext.EMPTY_FULL_STATE_KEY,x),b}else m.delete(-1),m.set(d.PredictionContext.EMPTY_FULL_STATE_KEY,x);return m}hashCode(){let m=a.MurmurHash.initialize(7);return m=a.MurmurHash.update(m,this.configs.hashCode()),m=a.MurmurHash.finish(m,1),m}equals(m){if(this===m)return!0;if(!(m instanceof xL))return!1;let x=m;return this.configs.equals(x.configs)}toString(){let m="";return m+=this.stateNumber+":"+this.configs,this.isAcceptState&&(m+="=>",this.predicates?m+=this.predicates:m+=this.prediction),m.toString()}};t([c.NotNull],g.prototype,"configs",void 0),t([c.NotNull],g.prototype,"edges",void 0),t([c.NotNull],g.prototype,"contextEdges",void 0),t([c.Override],g.prototype,"hashCode",null),t([c.Override],g.prototype,"equals",null),t([c.Override],g.prototype,"toString",null),e.DFAState=g,function(p){let m=class{constructor(b,E){this.alt=E,this.pred=b}toString(){return"("+this.pred+", "+this.alt+")"}};t([c.NotNull],m.prototype,"pred",void 0),t([c.Override],m.prototype,"toString",null),m=t([n(0,c.NotNull)],m),p.PredPrediction=m}(g=e.DFAState||(e.DFAState={}))}(Qf)),Qf}var c_;function pS(){return c_||(c_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Jf&&Jf.__decorate||function(h,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(h,g,p,m);else for(var w=h.length-1;w>=0;w--)(E=h[w])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},n=Jf&&Jf.__param||function(h,g){return function(p,m){g(p,m,h)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNSimulator=void 0;const r=Ay(),s=hS(),a=Ue(),c=Es();let d=class W0{constructor(g){this.atn=g}static get ERROR(){return W0._ERROR||(W0._ERROR=new s.DFAState(new r.ATNConfigSet),W0._ERROR.stateNumber=c.PredictionContext.EMPTY_FULL_STATE_KEY),W0._ERROR}clearDFA(){this.atn.clearDFA()}};t([a.NotNull],d.prototype,"atn",void 0),t([a.NotNull],d,"ERROR",null),d=t([n(0,a.NotNull)],d),e.ATNSimulator=d,d=e.ATNSimulator||(e.ATNSimulator={}),e.ATNSimulator=d}(Jf)),Jf}var cl={},w0={},f_;function bL(){if(f_)return w0;f_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(w0,"__esModule",{value:!0}),w0.ConsoleErrorListener=void 0;let e=class{syntaxError(n,r,s,a,c,d){console.error(`line ${s}:${a} ${c}`)}};return w0.ConsoleErrorListener=e,e.INSTANCE=new e,w0}var fl={},d_;function c2(){if(d_)return fl;d_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=fl&&fl.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g},t=fl&&fl.__param||function(s,a){return function(c,d){a(c,d,s)}};Object.defineProperty(fl,"__esModule",{value:!0}),fl.ProxyErrorListener=void 0;const n=Ue();let r=class{constructor(a){if(this.delegates=a,!a)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(a,c,d,h,g,p){this.delegates.forEach(m=>{m.syntaxError&&m.syntaxError(a,c,d,h,g,p)})}};return e([n.Override,t(0,n.NotNull),t(4,n.NotNull)],r.prototype,"syntaxError",null),fl.ProxyErrorListener=r,fl}var h_;function Ey(){if(h_)return cl;h_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=cl&&cl.__decorate||function(h,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(h,g,p,m);else for(var w=h.length-1;w>=0;w--)(E=h[w])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},t=cl&&cl.__param||function(h,g){return function(p,m){g(p,m,h)}};Object.defineProperty(cl,"__esModule",{value:!0}),cl.Recognizer=void 0;const n=bL(),r=c2(),s=Ue(),a=Mn(),c=yu();let d=class Y0{constructor(){this._listeners=[n.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let g=this.vocabulary,p=Y0.tokenTypeMapCache.get(g);if(p==null){let m=new Map;for(let x=0;x<=this.atn.maxTokenType;x++){let b=g.getLiteralName(x);b!=null&&m.set(b,x);let E=g.getSymbolicName(x);E!=null&&m.set(E,x)}m.set("EOF",a.Token.EOF),p=m,Y0.tokenTypeMapCache.set(g,p)}return p}getRuleIndexMap(){let g=this.ruleNames;if(g==null)throw new Error("The current recognizer does not provide a list of rule names.");let p=Y0.ruleIndexMapCache.get(g);return p==null&&(p=c.toMap(g),Y0.ruleIndexMapCache.set(g,p)),p}getTokenType(g){let p=this.getTokenTypeMap().get(g);return p??a.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(g){this._interp=g}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(g){let p=g.getOffendingToken();if(!p)return"";let m=p.line,x=p.charPositionInLine;return"line "+m+":"+x}addErrorListener(g){if(!g)throw new TypeError("listener must not be null");this._listeners.push(g)}removeErrorListener(g){let p=this._listeners.indexOf(g);p!==-1&&this._listeners.splice(p,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new r.ProxyErrorListener(this.getErrorListeners())}sempred(g,p,m){return!0}precpred(g,p){return!0}action(g,p,m){}get state(){return this._stateNumber}set state(g){this._stateNumber=g}};return d.EOF=-1,d.tokenTypeMapCache=new WeakMap,d.ruleIndexMapCache=new WeakMap,e([s.SuppressWarnings("serial"),s.NotNull],d.prototype,"_listeners",void 0),e([s.NotNull],d.prototype,"getTokenTypeMap",null),e([s.NotNull],d.prototype,"getRuleIndexMap",null),e([s.NotNull],d.prototype,"serializedATN",null),e([s.NotNull],d.prototype,"atn",null),e([s.NotNull,t(0,s.NotNull)],d.prototype,"interpreter",null),e([s.NotNull,t(0,s.NotNull)],d.prototype,"getErrorHeader",null),e([t(0,s.NotNull)],d.prototype,"addErrorListener",null),e([t(0,s.NotNull)],d.prototype,"removeErrorListener",null),e([s.NotNull],d.prototype,"getErrorListeners",null),cl.Recognizer=d,cl}var ed={},p_;function sh(){if(p_)return ed;p_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ed&&ed.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g};Object.defineProperty(ed,"__esModule",{value:!0}),ed.VocabularyImpl=void 0;const t=Ue(),n=Mn();let r=class{constructor(a,c,d){this.literalNames=a,this.symbolicNames=c,this.displayNames=d,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(a){if(a>=0&&a<this.literalNames.length)return this.literalNames[a]}getSymbolicName(a){if(a>=0&&a<this.symbolicNames.length)return this.symbolicNames[a];if(a===n.Token.EOF)return"EOF"}getDisplayName(a){if(a>=0&&a<this.displayNames.length){let h=this.displayNames[a];if(h)return h}let c=this.getLiteralName(a);if(c)return c;let d=this.getSymbolicName(a);return d||String(a)}};return r.EMPTY_VOCABULARY=new r([],[],[]),e([t.NotNull],r.prototype,"literalNames",void 0),e([t.NotNull],r.prototype,"symbolicNames",void 0),e([t.NotNull],r.prototype,"displayNames",void 0),e([t.Override],r.prototype,"maxTokenType",null),e([t.Override],r.prototype,"getLiteralName",null),e([t.Override],r.prototype,"getSymbolicName",null),e([t.Override,t.NotNull],r.prototype,"getDisplayName",null),e([t.NotNull],r,"EMPTY_VOCABULARY",void 0),ed.VocabularyImpl=r,ed}var g_;function SL(){if(g_)return Zf;g_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zf&&Zf.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var E=d.length-1;E>=0;E--)(b=d[E])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x};Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.DFASerializer=void 0;const t=pS(),n=Ue(),r=Es(),s=Ey(),a=sh();let c=class{constructor(h,g,p,m){g instanceof s.Recognizer?(p=g.ruleNames,m=g.atn,g=g.vocabulary):g||(g=a.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=h,this.vocabulary=g,this.ruleNames=p,this.atn=m}toString(){if(!this.dfa.s0)return"";let h="";if(this.dfa.states){let p=new Array(...this.dfa.states.toArray());p.sort((m,x)=>m.stateNumber-x.stateNumber);for(let m of p){let x=m.getEdgeMap(),b=[...x.keys()].sort((C,T)=>C-T),E=m.getContextEdgeMap(),w=[...E.keys()].sort((C,T)=>C-T);for(let C of b){let T=x.get(C);if((T==null||T===t.ATNSimulator.ERROR)&&!m.isContextSymbol(C))continue;let _=!1;h+=this.getStateString(m)+"-"+this.getEdgeLabel(C)+"->",m.isContextSymbol(C)&&(h+="!",_=!0);let I=T;I&&I.stateNumber!==t.ATNSimulator.ERROR.stateNumber?h+=this.getStateString(I)+`
`:_&&(h+=`ctx
`)}if(m.isContextSensitive)for(let C of w)h+=this.getStateString(m)+"-"+this.getContextLabel(C)+"->"+this.getStateString(E.get(C))+`
`}}let g=h;return g.length===0?"":g}getContextLabel(h){if(h===r.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(h===r.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&h>0&&h<=this.atn.states.length){let p=this.atn.states[h].ruleIndex;if(this.ruleNames&&p>=0&&p<this.ruleNames.length)return"ctx:"+String(h)+"("+this.ruleNames[p]+")"}return"ctx:"+String(h)}getEdgeLabel(h){return this.vocabulary.getDisplayName(h)}getStateString(h){if(h===t.ATNSimulator.ERROR)return"ERROR";let g=h.stateNumber,p="s"+g;if(h.isAcceptState&&(h.predicates?p=":s"+g+"=>"+h.predicates:p=":s"+g+"=>"+h.prediction),h.isContextSensitive){p+="*";for(let m of h.configs)if(m.reachesIntoOuterContext){p+="*";break}}return p}};return e([n.NotNull],c.prototype,"dfa",void 0),e([n.NotNull],c.prototype,"vocabulary",void 0),e([n.Override],c.prototype,"toString",null),Zf.DFASerializer=c,Zf}var dl={},m_;function H$(){if(m_)return dl;m_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=dl&&dl.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=dl&&dl.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(dl,"__esModule",{value:!0}),dl.LexerDFASerializer=void 0;const n=SL(),r=Ue(),s=sh();let a=class extends n.DFASerializer{constructor(d){super(d,s.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(d){return"'"+String.fromCodePoint(d)+"'"}};return e([r.Override,r.NotNull],a.prototype,"getEdgeLabel",null),a=e([t(0,r.NotNull)],a),dl.LexerDFASerializer=a,dl}var td={},y_;function f2(){if(y_)return td;y_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=td&&td.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(td,"__esModule",{value:!0}),td.StarLoopEntryState=void 0;const t=zr(),n=qc(),r=oh(),s=Ue();let a=class extends r.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new n.BitSet}get stateType(){return t.ATNStateType.STAR_LOOP_ENTRY}};return e([s.Override],a.prototype,"stateType",null),td.StarLoopEntryState=a,td}var v_;function AL(){if(v_)return ll;v_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ll&&ll.__decorate||function(x,b,E,w){var C=arguments.length,T=C<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,E):w,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,b,E,w);else for(var I=x.length-1;I>=0;I--)(_=x[I])&&(T=(C<3?_(T):C>3?_(b,E,T):_(b,E))||T);return C>3&&T&&Object.defineProperty(b,E,T),T},t=ll&&ll.__param||function(x,b){return function(E,w){b(E,w,x)}};Object.defineProperty(ll,"__esModule",{value:!0}),ll.DFA=void 0;const n=Yc(),r=Ay(),s=SL(),a=hS(),c=H$(),d=Ue(),h=xa(),g=f2(),p=sh();let m=class{constructor(b,E=0){if(this.states=new n.Array2DHashSet(h.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!b.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=b,this.atn=b.atn,this.decision=E;let w=!1;b instanceof g.StarLoopEntryState&&b.precedenceRuleDecision&&(w=!0,this.s0=new a.DFAState(new r.ATNConfigSet),this.s0full=new a.DFAState(new r.ATNConfigSet)),this.precedenceDfa=w}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(b,E){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return E?this.s0full.getTarget(b):this.s0.getTarget(b)}setPrecedenceStartState(b,E,w){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");b<0||(E?this.s0full.setTarget(b,w):this.s0.setTarget(b,w))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(b){return b.stateNumber=this.nextStateNumber++,this.states.getOrAdd(b)}toString(b,E){if(b||(b=p.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let w;return E?w=new s.DFASerializer(this,b,E,this.atnStartState.atn):w=new s.DFASerializer(this,b),w.toString()}toLexerString(){return this.s0?new c.LexerDFASerializer(this).toString():""}};return e([d.NotNull],m.prototype,"states",void 0),e([d.NotNull],m.prototype,"atnStartState",void 0),e([d.NotNull],m.prototype,"atn",void 0),m=e([t(0,d.NotNull)],m),ll.DFA=m,ll}var nd={},rd={},x_;function EL(){if(x_)return rd;x_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=rd&&rd.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(rd,"__esModule",{value:!0}),rd.BasicState=void 0;const t=mu(),n=zr(),r=Ue();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.BASIC}};return e([r.Override],s.prototype,"stateType",null),rd.BasicState=s,rd}var b_;function CL(){if(b_)return nd;b_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nd&&nd.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(nd,"__esModule",{value:!0}),nd.InvalidState=void 0;const t=zr(),n=EL(),r=Ue();let s=class extends n.BasicState{get stateType(){return t.ATNStateType.INVALID_TYPE}};return e([r.Override],s.prototype,"stateType",null),nd.InvalidState=s,nd}var hl={},pl={},gl={},S_;function d2(){if(S_)return gl;S_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gl&&gl.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var E=d.length-1;E>=0;E--)(b=d[E])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x},t=gl&&gl.__param||function(d,h){return function(g,p){h(g,p,d)}};Object.defineProperty(gl,"__esModule",{value:!0}),gl.SetTransition=void 0;const n=ah(),r=Ue(),s=Mn(),a=Wc();let c=class extends a.Transition{constructor(h,g){super(h),g==null&&(g=n.IntervalSet.of(s.Token.INVALID_TYPE)),this.set=g}get serializationType(){return 7}get label(){return this.set}matches(h,g,p){return this.set.contains(h)}toString(){return this.set.toString()}};return e([r.NotNull],c.prototype,"set",void 0),e([r.Override],c.prototype,"serializationType",null),e([r.Override,r.NotNull],c.prototype,"label",null),e([r.Override],c.prototype,"matches",null),e([r.Override,r.NotNull],c.prototype,"toString",null),c=e([t(0,r.NotNull),t(1,r.Nullable)],c),gl.SetTransition=c,gl}var A_;function h2(){if(A_)return pl;A_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pl&&pl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=pl&&pl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(pl,"__esModule",{value:!0}),pl.NotSetTransition=void 0;const n=Ue(),r=d2();let s=class extends r.SetTransition{constructor(c,d){super(c,d)}get serializationType(){return 8}matches(c,d,h){return c>=d&&c<=h&&!super.matches(c,d,h)}toString(){return"~"+super.toString()}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"matches",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull),t(1,n.Nullable)],s),pl.NotSetTransition=s,pl}var id={},E_;function Cy(){if(E_)return id;E_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=id&&id.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(id,"__esModule",{value:!0}),id.RuleStopState=void 0;const t=mu(),n=zr(),r=Ue();let s=class extends t.ATNState{get nonStopStateNumber(){return-1}get stateType(){return n.ATNStateType.RULE_STOP}};return e([r.Override],s.prototype,"nonStopStateNumber",null),e([r.Override],s.prototype,"stateType",null),id.RuleStopState=s,id}var ml={},C_;function p2(){if(C_)return ml;C_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ml&&ml.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=ml&&ml.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(ml,"__esModule",{value:!0}),ml.RuleTransition=void 0;const n=Ue(),r=Wc();let s=class extends r.Transition{constructor(c,d,h,g){super(c),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=d,this.precedence=h,this.followState=g}get serializationType(){return 3}get isEpsilon(){return!0}matches(c,d,h){return!1}};return e([n.NotNull],s.prototype,"followState",void 0),e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),s=e([t(0,n.NotNull),t(3,n.NotNull)],s),ml.RuleTransition=s,ml}var yl={},w_;function wL(){if(w_)return yl;w_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yl&&yl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=yl&&yl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(yl,"__esModule",{value:!0}),yl.WildcardTransition=void 0;const n=Ue(),r=Wc();let s=class extends r.Transition{constructor(c){super(c)}get serializationType(){return 9}matches(c,d,h){return c>=d&&c<=h}toString(){return"."}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"matches",null),e([n.Override,n.NotNull],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),yl.WildcardTransition=s,yl}var R_;function W$(){if(R_)return hl;R_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=hl&&hl.__decorate||function(C,T,_,I){var O=arguments.length,L=O<3?T:I===null?I=Object.getOwnPropertyDescriptor(T,_):I,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,T,_,I);else for(var V=C.length-1;V>=0;V--)(k=C[V])&&(L=(O<3?k(L):O>3?k(T,_,L):k(T,_))||L);return O>3&&L&&Object.defineProperty(T,_,L),L},t=hl&&hl.__param||function(C,T){return function(_,I){T(_,I,C)}};Object.defineProperty(hl,"__esModule",{value:!0}),hl.LL1Analyzer=void 0;const n=o2(),r=Yc(),s=dS(),a=qc(),c=ah(),d=Ue(),h=h2(),g=xa(),p=Es(),m=Cy(),x=p2(),b=Mn(),E=wL();let w=class BC{constructor(T){this.atn=T}getDecisionLookahead(T){if(T==null)return;let _=new Array(T.numberOfTransitions);for(let I=0;I<T.numberOfTransitions;I++){let O=new c.IntervalSet;_[I]=O;let L=new r.Array2DHashSet(g.ObjectEqualityComparator.INSTANCE);this._LOOK(T.transition(I).target,void 0,p.PredictionContext.EMPTY_LOCAL,O,L,new a.BitSet,!1,!1),(O.size===0||O.contains(BC.HIT_PRED))&&(O=void 0,_[I]=O)}return _}LOOK(T,_,I){if(I===void 0){if(T.atn==null)throw new Error("Illegal state");I=T.atn.ruleToStopState[T.ruleIndex]}else I===null&&(I=void 0);let O=new c.IntervalSet;return this._LOOK(T,I,_,O,new r.Array2DHashSet,new a.BitSet,!0,!0),O}_LOOK(T,_,I,O,L,k,V,U){let q=s.ATNConfig.create(T,0,I);if(!L.add(q))return;if(T===_){if(p.PredictionContext.isEmptyLocal(I)){O.add(b.Token.EPSILON);return}else if(I.isEmpty){U&&O.add(b.Token.EOF);return}}if(T instanceof m.RuleStopState){if(I.isEmpty&&!p.PredictionContext.isEmptyLocal(I)){U&&O.add(b.Token.EOF);return}let ie=k.get(T.ruleIndex);try{k.clear(T.ruleIndex);for(let se=0;se<I.size;se++){if(I.getReturnState(se)===p.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let Ce=this.atn.states[I.getReturnState(se)];this._LOOK(Ce,_,I.getParent(se),O,L,k,V,U)}}finally{ie&&k.set(T.ruleIndex)}}let te=T.numberOfTransitions;for(let ie=0;ie<te;ie++){let se=T.transition(ie);if(se instanceof x.RuleTransition){if(k.get(se.ruleIndex))continue;let Ce=I.getChild(se.followState.stateNumber);try{k.set(se.ruleIndex),this._LOOK(se.target,_,Ce,O,L,k,V,U)}finally{k.clear(se.ruleIndex)}}else if(se instanceof n.AbstractPredicateTransition)V?this._LOOK(se.target,_,I,O,L,k,V,U):O.add(BC.HIT_PRED);else if(se.isEpsilon)this._LOOK(se.target,_,I,O,L,k,V,U);else if(se instanceof E.WildcardTransition)O.addAll(c.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let Ce=se.label;Ce!=null&&(se instanceof h.NotSetTransition&&(Ce=Ce.complement(c.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),O.addAll(Ce))}}}};return w.HIT_PRED=b.Token.INVALID_TYPE,e([d.NotNull],w.prototype,"atn",void 0),e([d.NotNull,t(0,d.NotNull),t(1,d.NotNull)],w.prototype,"LOOK",null),e([t(0,d.NotNull),t(2,d.NotNull),t(3,d.NotNull),t(4,d.NotNull),t(5,d.NotNull)],w.prototype,"_LOOK",null),w=e([t(0,d.NotNull)],w),hl.LL1Analyzer=w,hl}var T_;function ba(){return T_||(T_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=qf&&qf.__decorate||function(E,w,C,T){var _=arguments.length,I=_<3?w:T===null?T=Object.getOwnPropertyDescriptor(w,C):T,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(E,w,C,T);else for(var L=E.length-1;L>=0;L--)(O=E[L])&&(I=(_<3?O(I):_>3?O(w,C,I):O(w,C))||I);return _>3&&I&&Object.defineProperty(w,C,I),I},n=qf&&qf.__param||function(E,w){return function(C,T){w(C,T,E)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATN=void 0;const r=mg(),s=AL(),a=ah(),c=CL(),d=W$(),h=Ue(),g=xa(),p=Es(),m=Mn(),x=xi();let b=class{constructor(w,C){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new r.Array2DHashMap(g.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=w,this.maxTokenType=C}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let w=0;w<this.decisionToDFA.length;w++)this.decisionToDFA[w]=new s.DFA(this.decisionToState[w],w);this.modeToDFA=new Array(this.modeToStartState.length);for(let w=0;w<this.modeToDFA.length;w++)this.modeToDFA[w]=new s.DFA(this.modeToStartState[w]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(w){return p.PredictionContext.getCachedContext(w,this.contextCache,new p.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return x(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(w,C){return C?new d.LL1Analyzer(this).LOOK(w,C):(w.nextTokenWithinRule||(w.nextTokenWithinRule=this.nextTokens(w,p.PredictionContext.EMPTY_LOCAL),w.nextTokenWithinRule.setReadonly(!0)),w.nextTokenWithinRule)}addState(w){w.atn=this,w.stateNumber=this.states.length,this.states.push(w)}removeState(w){let C=new c.InvalidState;C.atn=this,C.stateNumber=w.stateNumber,this.states[w.stateNumber]=C}defineMode(w,C){this.modeNameToStartState.set(w,C),this.modeToStartState.push(C),this.modeToDFA.push(new s.DFA(C)),this.defineDecisionState(C)}defineDecisionState(w){return this.decisionToState.push(w),w.decision=this.decisionToState.length-1,this.decisionToDFA.push(new s.DFA(w,w.decision)),w.decision}getDecisionState(w){if(this.decisionToState.length>0)return this.decisionToState[w]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(w,C){if(w<0||w>=this.states.length)throw new RangeError("Invalid state number.");let T=C,_=this.states[w],I=this.nextTokens(_);if(!I.contains(m.Token.EPSILON))return I;let O=new a.IntervalSet;for(O.addAll(I),O.remove(m.Token.EPSILON);T!=null&&T.invokingState>=0&&I.contains(m.Token.EPSILON);){let k=this.states[T.invokingState].transition(0);I=this.nextTokens(k.followState),O.addAll(I),O.remove(m.Token.EPSILON),T=T._parent}return I.contains(m.Token.EPSILON)&&O.add(m.Token.EOF),O}};t([h.NotNull],b.prototype,"states",void 0),t([h.NotNull],b.prototype,"decisionToState",void 0),t([h.NotNull],b.prototype,"modeNameToStartState",void 0),t([h.NotNull],b.prototype,"modeToStartState",void 0),t([h.NotNull],b.prototype,"decisionToDFA",void 0),t([h.NotNull],b.prototype,"modeToDFA",void 0),t([h.NotNull],b.prototype,"nextTokens",null),t([n(0,h.NotNull)],b.prototype,"removeState",null),t([n(0,h.NotNull),n(1,h.NotNull)],b.prototype,"defineMode",null),t([n(0,h.NotNull)],b.prototype,"defineDecisionState",null),t([h.NotNull],b.prototype,"getExpectedTokens",null),b=t([n(0,h.NotNull)],b),e.ATN=b,function(E){E.INVALID_ALT_NUMBER=0}(b=e.ATN||(e.ATN={})),e.ATN=b}(qf)),qf}var vl={},xl={},N_;function Y$(){if(N_)return xl;N_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xl&&xl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=xl&&xl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(xl,"__esModule",{value:!0}),xl.LexerIndexedCustomAction=void 0;const n=ar(),r=Ue();let s=class RL{constructor(c,d){this._offset=c,this._action=d}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(c){this._action.execute(c)}hashCode(){let c=n.MurmurHash.initialize();return c=n.MurmurHash.update(c,this._offset),c=n.MurmurHash.update(c,this._action),n.MurmurHash.finish(c,2)}equals(c){return c===this?!0:c instanceof RL?this._offset===c._offset&&this._action.equals(c._action):!1}};return e([r.NotNull],s.prototype,"action",null),e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),s=e([t(1,r.NotNull)],s),xl.LexerIndexedCustomAction=s,xl}var __;function q$(){if(__)return vl;__=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vl&&vl.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var E=d.length-1;E>=0;E--)(b=d[E])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x},t=vl&&vl.__param||function(d,h){return function(g,p){h(g,p,d)}};Object.defineProperty(vl,"__esModule",{value:!0}),vl.LexerActionExecutor=void 0;const n=uS(),r=Y$(),s=ar(),a=Ue();let c=class q0{constructor(h){this._lexerActions=h;let g=s.MurmurHash.initialize();for(let p of h)g=s.MurmurHash.update(g,p);this.cachedHashCode=s.MurmurHash.finish(g,h.length)}static append(h,g){if(!h)return new q0([g]);let p=h._lexerActions.slice(0);return p.push(g),new q0(p)}fixOffsetBeforeMatch(h){let g;for(let p=0;p<this._lexerActions.length;p++)this._lexerActions[p].isPositionDependent&&!(this._lexerActions[p]instanceof r.LexerIndexedCustomAction)&&(g||(g=this._lexerActions.slice(0)),g[p]=new r.LexerIndexedCustomAction(h,this._lexerActions[p]));return g?new q0(g):this}get lexerActions(){return this._lexerActions}execute(h,g,p){let m=!1,x=g.index;try{for(let b of this._lexerActions){if(b instanceof r.LexerIndexedCustomAction){let E=b.offset;g.seek(p+E),b=b.action,m=p+E!==x}else b.isPositionDependent&&(g.seek(x),m=!1);b.execute(h)}}finally{m&&g.seek(x)}}hashCode(){return this.cachedHashCode}equals(h){return h===this?!0:h instanceof q0?this.cachedHashCode===h.cachedHashCode&&n.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,h._lexerActions):!1}};return e([a.NotNull],c.prototype,"_lexerActions",void 0),e([a.NotNull],c.prototype,"lexerActions",null),e([t(0,a.NotNull)],c.prototype,"execute",null),e([a.Override],c.prototype,"hashCode",null),e([a.Override],c.prototype,"equals",null),e([a.NotNull,t(1,a.NotNull)],c,"append",null),c=e([t(0,a.NotNull)],c),vl.LexerActionExecutor=c,vl}var bl={},I_;function gS(){if(I_)return bl;I_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bl&&bl.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var E=d.length-1;E>=0;E--)(b=d[E])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x},t=bl&&bl.__param||function(d,h){return function(g,p){h(g,p,d)}};Object.defineProperty(bl,"__esModule",{value:!0}),bl.LexerNoViableAltException=void 0;const n=Hc(),r=Ue(),s=Bi(),a=yu();let c=class extends n.RecognitionException{constructor(h,g,p,m){super(h,g),this._startIndex=p,this._deadEndConfigs=m}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let h="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(h=this.inputStream.getText(s.Interval.of(this._startIndex,this._startIndex)),h=a.escapeWhitespace(h,!1)),`LexerNoViableAltException('${h}')`}};return e([r.Override],c.prototype,"inputStream",null),e([r.Override],c.prototype,"toString",null),c=e([t(1,r.NotNull)],c),bl.LexerNoViableAltException=c,bl}var od={},O_;function K$(){if(O_)return od;O_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=od&&od.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g};Object.defineProperty(od,"__esModule",{value:!0}),od.OrderedATNConfigSet=void 0;const t=Ay(),n=Ue();let r=class TL extends t.ATNConfigSet{constructor(a,c){a!=null&&c!=null?super(a,c):super()}clone(a){let c=new TL(this,a);return!a&&this.isReadOnly&&c.addAll(this),c}getKey(a){return{state:0,alt:a.hashCode()}}canMerge(a,c,d){return a.equals(d)}};return e([n.Override],r.prototype,"clone",null),e([n.Override],r.prototype,"getKey",null),e([n.Override],r.prototype,"canMerge",null),od.OrderedATNConfigSet=r,od}var D_;function mS(){return D_||(D_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Yf&&Yf.__decorate||function(L,k,V,U){var q=arguments.length,te=q<3?k:U===null?U=Object.getOwnPropertyDescriptor(k,V):U,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(L,k,V,U);else for(var se=L.length-1;se>=0;se--)(ie=L[se])&&(te=(q<3?ie(te):q>3?ie(k,V,te):ie(k,V))||te);return q>3&&te&&Object.defineProperty(k,V,te),te},n=Yf&&Yf.__param||function(L,k){return function(V,U){k(V,U,L)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerATNSimulator=void 0;const r=yL(),s=ba(),a=dS(),c=Ay(),d=pS(),h=hS(),g=Bi(),p=$c(),m=Kc(),x=q$(),b=gS(),E=Ue(),w=K$(),C=Es(),T=Cy(),_=Mn(),I=xi();let O=class Ji extends d.ATNSimulator{constructor(k,V){super(k),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE,this.prevAccept=new Ji.SimState,this.recog=V}copyState(k){this._charPositionInLine=k.charPositionInLine,this._line=k._line,this.mode=k.mode,this.startIndex=k.startIndex}match(k,V){this.mode=V;let U=k.mark();try{this.startIndex=k.index,this.prevAccept.reset();let q=this.atn.modeToDFA[V].s0;return q==null?this.matchATN(k):this.execATN(k,q)}finally{k.release(U)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE}matchATN(k){let V=this.atn.modeToStartState[this.mode];Ji.debug&&console.log(`matchATN mode ${this.mode} start: ${V}`);let U=this.mode,q=this.computeStartState(k,V),te=q.hasSemanticContext;te&&(q.hasSemanticContext=!1);let ie=this.addDFAState(q);if(!te){let Ce=this.atn.modeToDFA[this.mode];Ce.s0?ie=Ce.s0:Ce.s0=ie}let se=this.execATN(k,ie);return Ji.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[U].toLexerString()}`),se}execATN(k,V){Ji.debug&&console.log(`start state closure=${V.configs}`),V.isAcceptState&&this.captureSimState(this.prevAccept,k,V);let U=k.LA(1),q=V;for(;;){Ji.debug&&console.log(`execATN loop starting closure: ${q.configs}`);let te=this.getExistingTargetState(q,U);if(te==null&&(te=this.computeTargetState(k,q,U)),te===d.ATNSimulator.ERROR||(U!==p.IntStream.EOF&&this.consume(k),te.isAcceptState&&(this.captureSimState(this.prevAccept,k,te),U===p.IntStream.EOF)))break;U=k.LA(1),q=te}return this.failOrAccept(this.prevAccept,k,q.configs,U)}getExistingTargetState(k,V){let U=k.getTarget(V);return Ji.debug&&U!=null&&console.log("reuse state "+k.stateNumber+" edge to "+U.stateNumber),U}computeTargetState(k,V,U){let q=new w.OrderedATNConfigSet;return this.getReachableConfigSet(k,V.configs,q,U),q.isEmpty?(q.hasSemanticContext||this.addDFAEdge(V,U,d.ATNSimulator.ERROR),d.ATNSimulator.ERROR):this.addDFAEdge(V,U,q)}failOrAccept(k,V,U,q){if(k.dfaState!=null){let te=k.dfaState.lexerActionExecutor;return this.accept(V,te,this.startIndex,k.index,k.line,k.charPos),k.dfaState.prediction}else{if(q===p.IntStream.EOF&&V.index===this.startIndex)return _.Token.EOF;throw new b.LexerNoViableAltException(this.recog,V,this.startIndex,U)}}getReachableConfigSet(k,V,U,q){let te=s.ATN.INVALID_ALT_NUMBER;for(let ie of V){let se=ie.alt===te;if(se&&ie.hasPassedThroughNonGreedyDecision)continue;Ji.debug&&console.log(`testing ${this.getTokenName(q)} at ${ie.toString(this.recog,!0)}`);let Ce=ie.state.numberOfOptimizedTransitions;for(let je=0;je<Ce;je++){let Me=ie.state.getOptimizedTransition(je),re=this.getReachableTarget(Me,q);if(re!=null){let Ie=ie.lexerActionExecutor,de;Ie!=null?(Ie=Ie.fixOffsetBeforeMatch(k.index-this.startIndex),de=ie.transform(re,!0,Ie)):(I(ie.lexerActionExecutor==null),de=ie.transform(re,!0));let fe=q===p.IntStream.EOF;if(this.closure(k,de,U,se,!0,fe)){te=ie.alt;break}}}}}accept(k,V,U,q,te,ie){Ji.debug&&console.log(`ACTION ${V}`),k.seek(q),this._line=te,this._charPositionInLine=ie,V!=null&&this.recog!=null&&V.execute(this.recog,k,U)}getReachableTarget(k,V){if(k.matches(V,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE))return k.target}computeStartState(k,V){let U=C.PredictionContext.EMPTY_FULL,q=new w.OrderedATNConfigSet;for(let te=0;te<V.numberOfTransitions;te++){let ie=V.transition(te).target,se=a.ATNConfig.create(ie,te+1,U);this.closure(k,se,q,!1,!1,!1)}return q}closure(k,V,U,q,te,ie){if(Ji.debug&&console.log("closure("+V.toString(this.recog,!0)+")"),V.state instanceof T.RuleStopState){Ji.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[V.state.ruleIndex]} rule stop ${V}`):console.log(`closure at rule stop ${V}`));let Ce=V.context;if(Ce.isEmpty)return U.add(V),!0;Ce.hasEmpty&&(U.add(V.transform(V.state,!0,C.PredictionContext.EMPTY_FULL)),q=!0);for(let je=0;je<Ce.size;je++){let Me=Ce.getReturnState(je);if(Me===C.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let re=Ce.getParent(je),Ie=this.atn.states[Me],de=V.transform(Ie,!1,re);q=this.closure(k,de,U,q,te,ie)}return q}V.state.onlyHasEpsilonTransitions||(!q||!V.hasPassedThroughNonGreedyDecision)&&U.add(V);let se=V.state;for(let Ce=0;Ce<se.numberOfOptimizedTransitions;Ce++){let je=se.getOptimizedTransition(Ce),Me=this.getEpsilonTarget(k,V,je,U,te,ie);Me!=null&&(q=this.closure(k,Me,U,q,te,ie))}return q}getEpsilonTarget(k,V,U,q,te,ie){let se;switch(U.serializationType){case 3:let Ce=U;if(this.optimize_tail_calls&&Ce.optimizedTailCall&&!V.context.hasEmpty)se=V.transform(U.target,!0);else{let Me=V.context.getChild(Ce.followState.stateNumber);se=V.transform(U.target,!0,Me)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let je=U;Ji.debug&&console.log("EVAL rule "+je.ruleIndex+":"+je.predIndex),q.hasSemanticContext=!0,this.evaluatePredicate(k,je.ruleIndex,je.predIndex,te)?se=V.transform(U.target,!0):se=void 0;break;case 6:if(V.context.hasEmpty){let Me=x.LexerActionExecutor.append(V.lexerActionExecutor,this.atn.lexerActions[U.actionIndex]);se=V.transform(U.target,!0,Me);break}else{se=V.transform(U.target,!0);break}case 1:se=V.transform(U.target,!0);break;case 5:case 2:case 7:if(ie&&U.matches(p.IntStream.EOF,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE)){se=V.transform(U.target,!1);break}se=void 0;break;default:se=void 0;break}return se}evaluatePredicate(k,V,U,q){if(this.recog==null)return!0;if(!q)return this.recog.sempred(void 0,V,U);let te=this._charPositionInLine,ie=this._line,se=k.index,Ce=k.mark();try{return this.consume(k),this.recog.sempred(void 0,V,U)}finally{this._charPositionInLine=te,this._line=ie,k.seek(se),k.release(Ce)}}captureSimState(k,V,U){k.index=V.index,k.line=this._line,k.charPos=this._charPositionInLine,k.dfaState=U}addDFAEdge(k,V,U){if(U instanceof c.ATNConfigSet){let q=U.hasSemanticContext;q&&(U.hasSemanticContext=!1);let te=this.addDFAState(U);return q||this.addDFAEdge(k,V,te),te}else Ji.debug&&console.log("EDGE "+k+" -> "+U+" upon "+String.fromCharCode(V)),k!=null&&k.setTarget(V,U)}addDFAState(k){I(!k.hasSemanticContext);let V=new h.DFAState(k),U=this.atn.modeToDFA[this.mode].states.get(V);if(U!=null)return U;k.optimizeConfigs(this);let q=new h.DFAState(k.clone(!0)),te;for(let ie of k)if(ie.state instanceof T.RuleStopState){te=ie;break}if(te!=null){let ie=this.atn.ruleToTokenType[te.state.ruleIndex],se=te.lexerActionExecutor;q.acceptStateInfo=new r.AcceptStateInfo(ie,se)}return this.atn.modeToDFA[this.mode].addState(q)}getDFA(k){return this.atn.modeToDFA[k]}getText(k){return k.getText(g.Interval.of(this.startIndex,k.index-1))}get line(){return this._line}set line(k){this._line=k}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(k){this._charPositionInLine=k}consume(k){k.LA(1)===10?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,k.consume()}getTokenName(k){return k===-1?"EOF":"'"+String.fromCharCode(k)+"'"}};t([E.NotNull],O.prototype,"prevAccept",void 0),t([n(0,E.NotNull)],O.prototype,"copyState",null),t([n(0,E.NotNull)],O.prototype,"match",null),t([E.Override],O.prototype,"reset",null),t([n(0,E.NotNull)],O.prototype,"matchATN",null),t([n(0,E.NotNull),n(1,E.NotNull)],O.prototype,"execATN",null),t([n(0,E.NotNull)],O.prototype,"getExistingTargetState",null),t([E.NotNull,n(0,E.NotNull),n(1,E.NotNull)],O.prototype,"computeTargetState",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],O.prototype,"getReachableConfigSet",null),t([n(0,E.NotNull)],O.prototype,"accept",null),t([E.NotNull,n(0,E.NotNull),n(1,E.NotNull)],O.prototype,"computeStartState",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],O.prototype,"closure",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull),n(3,E.NotNull)],O.prototype,"getEpsilonTarget",null),t([n(0,E.NotNull)],O.prototype,"evaluatePredicate",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],O.prototype,"captureSimState",null),t([E.NotNull,n(0,E.NotNull)],O.prototype,"addDFAState",null),t([E.NotNull],O.prototype,"getDFA",null),t([E.NotNull,n(0,E.NotNull)],O.prototype,"getText",null),t([n(0,E.NotNull)],O.prototype,"consume",null),t([E.NotNull],O.prototype,"getTokenName",null),O=t([n(0,E.NotNull)],O),e.LexerATNSimulator=O,function(L){L.debug=!1,L.dfa_debug=!1;class k{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}L.SimState=k}(O=e.LexerATNSimulator||(e.LexerATNSimulator={})),e.LexerATNSimulator=O}(Yf)),Yf}var P_;function Kc(){if(P_)return Wf;P_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wf&&Wf.__decorate||function(m,x,b,E){var w=arguments.length,C=w<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,b):E,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,x,b,E);else for(var _=m.length-1;_>=0;_--)(T=m[_])&&(C=(w<3?T(C):w>3?T(x,b,C):T(x,b))||C);return w>3&&C&&Object.defineProperty(x,b,C),C};Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.Lexer=void 0;const t=l2(),n=mL(),r=Bi(),s=$c(),a=mS(),c=gS(),d=Ue(),h=Ey(),g=Mn();let p=class mc extends h.Recognizer{constructor(x){super(),this._factory=t.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new n.IntegerStack,this._mode=mc.DEFAULT_MODE,this._input=x,this._tokenFactorySourcePair={source:this,stream:x}}static get DEFAULT_TOKEN_CHANNEL(){return g.Token.DEFAULT_CHANNEL}static get HIDDEN(){return g.Token.HIDDEN_CHANNEL}reset(x){(x===void 0||x)&&this._input.seek(0),this._token=void 0,this._type=g.Token.INVALID_TYPE,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=mc.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let x=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=g.Token.INVALID_TYPE;let b;try{b=this.interpreter.match(this._input,this._mode)}catch(E){if(E instanceof c.LexerNoViableAltException)this.notifyListeners(E),this.recover(E),b=mc.SKIP;else throw E}if(this._input.LA(1)===s.IntStream.EOF&&(this._hitEOF=!0),this._type===g.Token.INVALID_TYPE&&(this._type=b),this._type===mc.SKIP)continue e}while(this._type===mc.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(x)}}skip(){this._type=mc.SKIP}more(){this._type=mc.MORE}mode(x){this._mode=x}pushMode(x){a.LexerATNSimulator.debug&&console.log("pushMode "+x),this._modeStack.push(this._mode),this.mode(x)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return a.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(x){this._factory=x}get inputStream(){return this._input}set inputStream(x){this.reset(!1),this._input=x,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(x){return x||(x=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=x,x}emitEOF(){let x=this.charPositionInLine,b=this.line,E=this._factory.create(this._tokenFactorySourcePair,g.Token.EOF,void 0,g.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,b,x);return this.emit(E),E}get line(){return this.interpreter.line}set line(x){this.interpreter.line=x}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(x){this.interpreter.charPositionInLine=x}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(x){this._text=x}get token(){return this._token}set token(x){this._token=x}set type(x){this._type=x}get type(){return this._type}set channel(x){this._channel=x}get channel(){return this._channel}getAllTokens(){let x=[],b=this.nextToken();for(;b.type!==g.Token.EOF;)x.push(b),b=this.nextToken();return x}notifyListeners(x){let b=this._input.getText(r.Interval.of(this._tokenStartCharIndex,this._input.index)),E="token recognition error at: '"+this.getErrorDisplay(b)+"'",w=this.getErrorListenerDispatch();w.syntaxError&&w.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,E,x)}getErrorDisplay(x){if(typeof x=="number"){switch(x){case g.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(x)}return x.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(x){return"'"+this.getErrorDisplay(x)+"'"}recover(x){x instanceof c.LexerNoViableAltException?this._input.LA(1)!==s.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};return p.DEFAULT_MODE=0,p.MORE=-2,p.SKIP=-3,p.MIN_CHAR_VALUE=0,p.MAX_CHAR_VALUE=1114111,e([d.Override],p.prototype,"nextToken",null),e([d.Override],p.prototype,"tokenFactory",null),e([d.Override],p.prototype,"inputStream",null),e([d.Override],p.prototype,"sourceName",null),e([d.Override],p.prototype,"line",null),e([d.Override],p.prototype,"charPositionInLine",null),Wf.Lexer=p,Wf}var M_;function ah(){if(M_)return sl;M_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=sl&&sl.__decorate||function(p,m,x,b){var E=arguments.length,w=E<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,m,x,b);else for(var T=p.length-1;T>=0;T--)(C=p[T])&&(w=(E<3?C(w):E>3?C(m,x,w):C(m,x))||w);return E>3&&w&&Object.defineProperty(m,x,w),w},t=sl&&sl.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(sl,"__esModule",{value:!0}),sl.IntervalSet=void 0;const n=uS(),r=a2(),s=Bi(),a=Kc(),c=ar(),d=Ue(),h=Mn();let g=class an{constructor(m){this.readonly=!1,m!=null?this._intervals=m.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return an._COMPLETE_CHAR_SET===void 0&&(an._COMPLETE_CHAR_SET=an.of(a.Lexer.MIN_CHAR_VALUE,a.Lexer.MAX_CHAR_VALUE),an._COMPLETE_CHAR_SET.setReadonly(!0)),an._COMPLETE_CHAR_SET}static get EMPTY_SET(){return an._EMPTY_SET==null&&(an._EMPTY_SET=new an,an._EMPTY_SET.setReadonly(!0)),an._EMPTY_SET}static of(m,x=m){let b=new an;return b.add(m,x),b}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(m,x=m){this.addRange(s.Interval.of(m,x))}addRange(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(m.b<m.a)){for(let x=0;x<this._intervals.length;x++){let b=this._intervals[x];if(m.equals(b))return;if(m.adjacent(b)||!m.disjoint(b)){let E=m.union(b);for(this._intervals[x]=E;x<this._intervals.length-1;){x++;let w=this._intervals[x];if(!E.adjacent(w)&&E.disjoint(w))break;this._intervals.splice(x,1),x--,this._intervals[x]=E.union(w)}return}if(m.startsBeforeDisjoint(b)){this._intervals.splice(x,0,m);return}}this._intervals.push(m)}}static or(m){let x=new an;for(let b of m)x.addAll(b);return x}addAll(m){if(m==null)return this;if(m instanceof an){let x=m,b=x._intervals.length;for(let E=0;E<b;E++){let w=x._intervals[E];this.add(w.a,w.b)}}else for(let x of m.toArray())this.add(x);return this}complementRange(m,x){return this.complement(an.of(m,x))}complement(m){if(m.isNil)return an.EMPTY_SET;let x;return m instanceof an?x=m:(x=new an,x.addAll(m)),x.subtract(this)}subtract(m){if(m==null||m.isNil)return new an(this._intervals);if(m instanceof an)return an.subtract(this,m);let x=new an;return x.addAll(m),an.subtract(this,x)}static subtract(m,x){if(m.isNil)return new an;let b=new an(m._intervals);if(x.isNil)return b;let E=0,w=0;for(;E<b._intervals.length&&w<x._intervals.length;){let C=b._intervals[E],T=x._intervals[w];if(T.b<C.a){w++;continue}if(T.a>C.b){E++;continue}let _,I;if(T.a>C.a&&(_=new s.Interval(C.a,T.a-1)),T.b<C.b&&(I=new s.Interval(T.b+1,C.b)),_)if(I){b._intervals[E]=_,b._intervals.splice(E+1,0,I),E++,w++;continue}else{b._intervals[E]=_,E++;continue}else if(I){b._intervals[E]=I,w++;continue}else{b._intervals.splice(E,1);continue}}return b}or(m){let x=new an;return x.addAll(this),x.addAll(m),x}and(m){if(m.isNil)return new an;let x=this._intervals,b=m._intervals,E,w=x.length,C=b.length,T=0,_=0;for(;T<w&&_<C;){let I=x[T],O=b[_];I.startsBeforeDisjoint(O)?T++:O.startsBeforeDisjoint(I)?_++:I.properlyContains(O)?(E||(E=new an),E.addRange(I.intersection(O)),_++):O.properlyContains(I)?(E||(E=new an),E.addRange(I.intersection(O)),T++):I.disjoint(O)||(E||(E=new an),E.addRange(I.intersection(O)),I.startsAfterNonDisjoint(O)?_++:O.startsAfterNonDisjoint(I)&&T++)}return E||new an}contains(m){let x=this._intervals.length,b=0,E=x-1;for(;b<=E;){let w=b+E>>1,C=this._intervals[w],T=C.a;if(C.b<m)b=w+1;else if(T>m)E=w-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let m=c.MurmurHash.initialize();for(let x of this._intervals)m=c.MurmurHash.update(m,x.a),m=c.MurmurHash.update(m,x.b);return m=c.MurmurHash.finish(m,this._intervals.length*2),m}equals(m){return m==null||!(m instanceof an)?!1:n.ArrayEqualityComparator.INSTANCE.equals(this._intervals,m._intervals)}toString(m=!1){let x="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(x+="{");let b=!0;for(let E of this._intervals){b?b=!1:x+=", ";let w=E.a,C=E.b;w===C?w===h.Token.EOF?x+="<EOF>":m?x+="'"+String.fromCodePoint(w)+"'":x+=w:m?x+="'"+String.fromCodePoint(w)+"'..'"+String.fromCodePoint(C)+"'":x+=w+".."+C}return this.size>1&&(x+="}"),x}toStringVocabulary(m){if(this._intervals==null||this._intervals.length===0)return"{}";let x="";this.size>1&&(x+="{");let b=!0;for(let E of this._intervals){b?b=!1:x+=", ";let w=E.a,C=E.b;if(w===C)x+=this.elementName(m,w);else for(let T=w;T<=C;T++)T>w&&(x+=", "),x+=this.elementName(m,T)}return this.size>1&&(x+="}"),x}elementName(m,x){return x===h.Token.EOF?"<EOF>":x===h.Token.EPSILON?"<EPSILON>":m.getDisplayName(x)}get size(){let m=0,x=this._intervals.length;if(x===1){let b=this._intervals[0];return b.b-b.a+1}for(let b=0;b<x;b++){let E=this._intervals[b];m+=E.b-E.a+1}return m}toIntegerList(){let m=new r.IntegerList(this.size),x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],w=E.a,C=E.b;for(let T=w;T<=C;T++)m.add(T)}return m}toSet(){let m=new Set;for(let x of this._intervals){let b=x.a,E=x.b;for(let w=b;w<=E;w++)m.add(w)}return m}toArray(){let m=new Array,x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],w=E.a,C=E.b;for(let T=w;T<=C;T++)m.push(T)}return m}remove(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],w=E.a,C=E.b;if(m<w)break;if(m===w&&m===C){this._intervals.splice(b,1);break}if(m===w){this._intervals[b]=s.Interval.of(E.a+1,E.b);break}if(m===C){this._intervals[b]=s.Interval.of(E.a,E.b-1);break}if(m>w&&m<C){let T=E.b;this._intervals[b]=s.Interval.of(E.a,m-1),this.add(m+1,T)}}}get isReadonly(){return this.readonly}setReadonly(m){if(this.readonly&&!m)throw new Error("can't alter readonly IntervalSet");this.readonly=m}};return e([d.Override],g.prototype,"addAll",null),e([d.Override],g.prototype,"complement",null),e([d.Override],g.prototype,"subtract",null),e([d.Override],g.prototype,"or",null),e([d.Override],g.prototype,"and",null),e([d.Override],g.prototype,"contains",null),e([d.Override],g.prototype,"isNil",null),e([d.Override],g.prototype,"hashCode",null),e([d.Override],g.prototype,"equals",null),e([t(0,d.NotNull)],g.prototype,"toStringVocabulary",null),e([d.NotNull,t(0,d.NotNull)],g.prototype,"elementName",null),e([d.Override],g.prototype,"size",null),e([d.Override],g.prototype,"remove",null),e([d.NotNull],g,"of",null),e([d.NotNull],g,"subtract",null),sl.IntervalSet=g,sl}var sd={},us={},ad={},L_;function NL(){if(L_)return ad;L_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ad&&ad.__decorate||function(r,s,a,c){var d=arguments.length,h=d<3?s:c===null?c=Object.getOwnPropertyDescriptor(s,a):c,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(r,s,a,c);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(h=(d<3?g(h):d>3?g(s,a,h):g(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h};Object.defineProperty(ad,"__esModule",{value:!0}),ad.ATNDeserializationOptions=void 0;const t=Ue();let n=class _p{constructor(s){this.readOnly=!1,s?(this.verifyATN=s.verifyATN,this.generateRuleBypassTransitions=s.generateRuleBypassTransitions,this.optimize=s.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return _p._defaultOptions==null&&(_p._defaultOptions=new _p,_p._defaultOptions.makeReadOnly()),_p._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(s){this.throwIfReadOnly(),this.verifyATN=s}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(s){this.throwIfReadOnly(),this.generateRuleBypassTransitions=s}get isOptimize(){return this.optimize}set isOptimize(s){this.throwIfReadOnly(),this.optimize=s}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};return e([t.NotNull],n,"defaultOptions",null),ad.ATNDeserializationOptions=n,ad}var Sl={},Al={},F_;function _L(){if(F_)return Al;F_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Al&&Al.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Al&&Al.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Al,"__esModule",{value:!0}),Al.ActionTransition=void 0;const n=Ue(),r=Wc();let s=class extends r.Transition{constructor(c,d,h=-1,g=!1){super(c),this.ruleIndex=d,this.actionIndex=h,this.isCtxDependent=g}get serializationType(){return 6}get isEpsilon(){return!0}matches(c,d,h){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),Al.ActionTransition=s,Al}var El={},k_;function IL(){if(k_)return El;k_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=El&&El.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=El&&El.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(El,"__esModule",{value:!0}),El.AtomTransition=void 0;const n=ah(),r=Ue(),s=Wc();let a=class extends s.Transition{constructor(d,h){super(d),this._label=h}get serializationType(){return 5}get label(){return n.IntervalSet.of(this._label)}matches(d,h,g){return this._label===d}toString(){return String(this.label)}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override,r.NotNull],a.prototype,"label",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),El.AtomTransition=a,El}var ld={},R0={},B_;function yS(){if(B_)return R0;B_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(R0,"__esModule",{value:!0}),R0.BlockStartState=void 0;const e=oh();let t=class extends e.DecisionState{};return R0.BlockStartState=t,R0}var j_;function X$(){if(j_)return ld;j_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ld&&ld.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(ld,"__esModule",{value:!0}),ld.BasicBlockStartState=void 0;const t=zr(),n=yS(),r=Ue();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),ld.BasicBlockStartState=s,ld}var ud={},z_;function Z$(){if(z_)return ud;z_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ud&&ud.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(ud,"__esModule",{value:!0}),ud.BlockEndState=void 0;const t=mu(),n=zr(),r=Ue();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.BLOCK_END}};return e([r.Override],s.prototype,"stateType",null),ud.BlockEndState=s,ud}var Cl={},U_;function J$(){if(U_)return Cl;U_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cl&&Cl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Cl&&Cl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.EpsilonTransition=void 0;const n=Ue(),r=Wc();let s=class extends r.Transition{constructor(c,d=-1){super(c),this._outermostPrecedenceReturn=d}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(c,d,h){return!1}toString(){return"epsilon"}};return e([n.Override],s.prototype,"serializationType",null),e([n.Override],s.prototype,"isEpsilon",null),e([n.Override],s.prototype,"matches",null),e([n.Override,n.NotNull],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),Cl.EpsilonTransition=s,Cl}var wl={},V_;function Q$(){if(V_)return wl;V_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wl&&wl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=wl&&wl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(wl,"__esModule",{value:!0}),wl.LexerChannelAction=void 0;const n=ar(),r=Ue();let s=class OL{constructor(c){this._channel=c}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(c){c.channel=this._channel}hashCode(){let c=n.MurmurHash.initialize();return c=n.MurmurHash.update(c,this.actionType),c=n.MurmurHash.update(c,this._channel),n.MurmurHash.finish(c,2)}equals(c){return c===this?!0:c instanceof OL?this._channel===c._channel:!1}toString(){return`channel(${this._channel})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),wl.LexerChannelAction=s,wl}var Rl={},G_;function eH(){if(G_)return Rl;G_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rl&&Rl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Rl&&Rl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.LexerCustomAction=void 0;const n=ar(),r=Ue();let s=class DL{constructor(c,d){this._ruleIndex=c,this._actionIndex=d}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(c){c.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let c=n.MurmurHash.initialize();return c=n.MurmurHash.update(c,this.actionType),c=n.MurmurHash.update(c,this._ruleIndex),c=n.MurmurHash.update(c,this._actionIndex),n.MurmurHash.finish(c,3)}equals(c){return c===this?!0:c instanceof DL?this._ruleIndex===c._ruleIndex&&this._actionIndex===c._actionIndex:!1}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),Rl.LexerCustomAction=s,Rl}var Tl={},$_;function tH(){if($_)return Tl;$_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Tl&&Tl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Tl&&Tl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.LexerModeAction=void 0;const n=ar(),r=Ue();let s=class PL{constructor(c){this._mode=c}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(c){c.mode(this._mode)}hashCode(){let c=n.MurmurHash.initialize();return c=n.MurmurHash.update(c,this.actionType),c=n.MurmurHash.update(c,this._mode),n.MurmurHash.finish(c,2)}equals(c){return c===this?!0:c instanceof PL?this._mode===c._mode:!1}toString(){return`mode(${this._mode})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Tl.LexerModeAction=s,Tl}var cd={},H_;function nH(){return H_||(H_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=cd&&cd.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},n=cd&&cd.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerMoreAction=void 0;const r=ar(),s=Ue();let a=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(d){d.more()}hashCode(){let d=r.MurmurHash.initialize();return d=r.MurmurHash.update(d,this.actionType),r.MurmurHash.finish(d,1)}equals(d){return d===this}toString(){return"more"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerMoreAction=a,function(c){c.INSTANCE=new c}(a=e.LexerMoreAction||(e.LexerMoreAction={}))}(cd)),cd}var fd={},W_;function rH(){return W_||(W_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=fd&&fd.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},n=fd&&fd.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerPopModeAction=void 0;const r=ar(),s=Ue();let a=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(d){d.popMode()}hashCode(){let d=r.MurmurHash.initialize();return d=r.MurmurHash.update(d,this.actionType),r.MurmurHash.finish(d,1)}equals(d){return d===this}toString(){return"popMode"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerPopModeAction=a,function(c){c.INSTANCE=new c}(a=e.LexerPopModeAction||(e.LexerPopModeAction={}))}(fd)),fd}var Nl={},Y_;function iH(){if(Y_)return Nl;Y_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nl&&Nl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Nl&&Nl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.LexerPushModeAction=void 0;const n=ar(),r=Ue();let s=class ML{constructor(c){this._mode=c}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(c){c.pushMode(this._mode)}hashCode(){let c=n.MurmurHash.initialize();return c=n.MurmurHash.update(c,this.actionType),c=n.MurmurHash.update(c,this._mode),n.MurmurHash.finish(c,2)}equals(c){return c===this?!0:c instanceof ML?this._mode===c._mode:!1}toString(){return`pushMode(${this._mode})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),Nl.LexerPushModeAction=s,Nl}var dd={},q_;function oH(){return q_||(q_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=dd&&dd.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},n=dd&&dd.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerSkipAction=void 0;const r=ar(),s=Ue();let a=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(d){d.skip()}hashCode(){let d=r.MurmurHash.initialize();return d=r.MurmurHash.update(d,this.actionType),r.MurmurHash.finish(d,1)}equals(d){return d===this}toString(){return"skip"}};t([s.Override],a.prototype,"actionType",null),t([s.Override],a.prototype,"isPositionDependent",null),t([s.Override,n(0,s.NotNull)],a.prototype,"execute",null),t([s.Override],a.prototype,"hashCode",null),t([s.Override],a.prototype,"equals",null),t([s.Override],a.prototype,"toString",null),e.LexerSkipAction=a,function(c){c.INSTANCE=new c}(a=e.LexerSkipAction||(e.LexerSkipAction={}))}(dd)),dd}var _l={},K_;function sH(){if(K_)return _l;K_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_l&&_l.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=_l&&_l.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(_l,"__esModule",{value:!0}),_l.LexerTypeAction=void 0;const n=ar(),r=Ue();let s=class LL{constructor(c){this._type=c}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(c){c.type=this._type}hashCode(){let c=n.MurmurHash.initialize();return c=n.MurmurHash.update(c,this.actionType),c=n.MurmurHash.update(c,this._type),n.MurmurHash.finish(c,2)}equals(c){return c===this?!0:c instanceof LL?this._type===c._type:!1}toString(){return`type(${this._type})`}};return e([r.Override],s.prototype,"actionType",null),e([r.Override],s.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],s.prototype,"execute",null),e([r.Override],s.prototype,"hashCode",null),e([r.Override],s.prototype,"equals",null),e([r.Override],s.prototype,"toString",null),_l.LexerTypeAction=s,_l}var hd={},X_;function FL(){if(X_)return hd;X_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=hd&&hd.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(hd,"__esModule",{value:!0}),hd.LoopEndState=void 0;const t=mu(),n=zr(),r=Ue();let s=class extends t.ATNState{get stateType(){return n.ATNStateType.LOOP_END}};return e([r.Override],s.prototype,"stateType",null),hd.LoopEndState=s,hd}var Il={},pd={},Z_;function aH(){if(Z_)return pd;Z_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pd&&pd.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g};Object.defineProperty(pd,"__esModule",{value:!0}),pd.ConflictInfo=void 0;const t=Ue(),n=yu();let r=class kL{constructor(a,c){this._conflictedAlts=a,this.exact=c}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(a){return a===this?!0:a instanceof kL?this.isExact===a.isExact&&n.equals(this.conflictedAlts,a.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};return e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),pd.ConflictInfo=r,pd}var gd={},md={},yd={},J_;function yg(){if(J_)return yd;J_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yd&&yd.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(yd,"__esModule",{value:!0}),yd.TerminalNode=void 0;const t=Bi(),n=Ue(),r=Mn();let s=class{constructor(c){this._symbol=c}getChild(c){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(c){this._parent=c}get payload(){return this._symbol}get sourceInterval(){let c=this._symbol.tokenIndex;return new t.Interval(c,c)}get childCount(){return 0}accept(c){return c.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(c){return this.toString()}toString(){return this._symbol.type===r.Token.EOF?"<EOF>":this._symbol.text||""}};return e([n.Override],s.prototype,"getChild",null),e([n.Override],s.prototype,"parent",null),e([n.Override],s.prototype,"setParent",null),e([n.Override],s.prototype,"payload",null),e([n.Override],s.prototype,"sourceInterval",null),e([n.Override],s.prototype,"childCount",null),e([n.Override],s.prototype,"accept",null),e([n.Override],s.prototype,"text",null),e([n.Override],s.prototype,"toStringTree",null),e([n.Override],s.prototype,"toString",null),yd.TerminalNode=s,yd}var Q_;function g2(){if(Q_)return md;Q_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=md&&md.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g};Object.defineProperty(md,"__esModule",{value:!0}),md.ErrorNode=void 0;const t=Ue(),n=yg();let r=class extends n.TerminalNode{constructor(a){super(a)}accept(a){return a.visitErrorNode(this)}};return e([t.Override],r.prototype,"accept",null),md.ErrorNode=r,md}var vd={},T0={},eI;function m2(){if(eI)return T0;eI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(T0,"__esModule",{value:!0}),T0.RuleNode=void 0;let e=class{};return T0.RuleNode=e,T0}var Ol={},tI;function lh(){if(tI)return Ol;tI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ol&&Ol.__decorate||function(b,E,w,C){var T=arguments.length,_=T<3?E:C===null?C=Object.getOwnPropertyDescriptor(E,w):C,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(b,E,w,C);else for(var O=b.length-1;O>=0;O--)(I=b[O])&&(_=(T<3?I(_):T>3?I(E,w,_):I(E,w))||_);return T>3&&_&&Object.defineProperty(E,w,_),_},t=Ol&&Ol.__param||function(b,E){return function(w,C){E(w,C,b)}};Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.Trees=void 0;const n=ba(),r=Sy(),s=g2(),a=Ue(),c=Ty(),d=Cs(),h=m2(),g=yg(),p=Mn(),m=yu();let x=class yc{static toStringTree(E,w){let C;w instanceof c.Parser?C=w.ruleNames:C=w;let T=m.escapeWhitespace(this.getNodeText(E,C),!1);if(E.childCount===0)return T;let _="";_+="(",T=m.escapeWhitespace(this.getNodeText(E,C),!1),_+=T,_+=" ";for(let I=0;I<E.childCount;I++)I>0&&(_+=" "),_+=this.toStringTree(E.getChild(I),C);return _+=")",_}static getNodeText(E,w){let C;if(w instanceof c.Parser)C=w.ruleNames;else if(w)C=w;else{let T=E.payload;return typeof T.text=="string"?T.text:E.payload.toString()}if(E instanceof h.RuleNode){let T=E.ruleContext,_=T.ruleIndex,I=C[_],O=T.altNumber;return O!==n.ATN.INVALID_ALT_NUMBER?I+":"+O:I}else{if(E instanceof s.ErrorNode)return E.toString();if(E instanceof g.TerminalNode)return E.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(E){let w=[];for(let C=0;C<E.childCount;C++)w.push(E.getChild(C));return w}static getAncestors(E){let w=[],C=E.parent;for(;C;)w.unshift(C),C=C.parent;return w}static isAncestorOf(E,w){if(!E||!w||!E.parent)return!1;let C=w.parent;for(;C;){if(E===C)return!0;C=C.parent}return!1}static findAllTokenNodes(E,w){return yc.findAllNodes(E,w,!0)}static findAllRuleNodes(E,w){return yc.findAllNodes(E,w,!1)}static findAllNodes(E,w,C){let T=[];return yc._findAllNodes(E,w,C,T),T}static _findAllNodes(E,w,C,T){C&&E instanceof g.TerminalNode?E.symbol.type===w&&T.push(E):!C&&E instanceof d.ParserRuleContext&&E.ruleIndex===w&&T.push(E);for(let _=0;_<E.childCount;_++)yc._findAllNodes(E.getChild(_),w,C,T)}static getDescendants(E){let w=[];function C(T){w.push(T);const _=T.childCount;for(let I=0;I<_;I++)C(T.getChild(I))}return C(E),w}static getRootOfSubtreeEnclosingRegion(E,w,C){let T=E.childCount;for(let _=0;_<T;_++){let I=E.getChild(_),O=yc.getRootOfSubtreeEnclosingRegion(I,w,C);if(O)return O}if(E instanceof d.ParserRuleContext){let _=E.stop;if(w>=E.start.tokenIndex&&(_==null||C<=_.tokenIndex))return E}}static stripChildrenOutOfRange(E,w,C,T){if(!E)return;let _=E.childCount;for(let I=0;I<_;I++){let O=E.getChild(I),L=O.sourceInterval;if(O instanceof d.ParserRuleContext&&(L.b<C||L.a>T)&&yc.isAncestorOf(O,w)){let k=new r.CommonToken(p.Token.INVALID_TYPE,"...");E.children[I]=new g.TerminalNode(k)}}}static findNodeSuchThat(E,w){if(w(E))return E;let C=E.childCount;for(let T=0;T<C;T++){let _=yc.findNodeSuchThat(E.getChild(T),w);if(_!==void 0)return _}}};return e([t(0,a.NotNull)],x,"toStringTree",null),e([a.NotNull,t(0,a.NotNull)],x,"getAncestors",null),e([t(0,a.NotNull)],x,"getRootOfSubtreeEnclosingRegion",null),Ol.Trees=x,Ol}var nI;function jL(){if(nI)return vd;nI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vd&&vd.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E};Object.defineProperty(vd,"__esModule",{value:!0}),vd.RuleContext=void 0;const t=ba(),n=Ey(),r=m2(),s=Bi(),a=Ue(),c=lh(),d=Cs();let h=class BL extends r.RuleNode{constructor(p,m){super(),this._parent=p,this.invokingState=m??-1}static getChildContext(p,m){return new BL(p,m)}depth(){let p=0,m=this;for(;m;)m=m._parent,p++;return p}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return s.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(p){this._parent=p}get payload(){return this}get text(){if(this.childCount===0)return"";let p="";for(let m=0;m<this.childCount;m++)p+=this.getChild(m).text;return p.toString()}get ruleIndex(){return-1}get altNumber(){return t.ATN.INVALID_ALT_NUMBER}set altNumber(p){}getChild(p){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(p){return p.visitChildren(this)}toStringTree(p){return c.Trees.toStringTree(this,p)}toString(p,m){const x=p instanceof n.Recognizer?p.ruleNames:p;m=m||d.ParserRuleContext.emptyContext();let b="",E=this;for(b+="[";E&&E!==m;){if(!x)E.isEmpty||(b+=E.invokingState);else{let w=E.ruleIndex,C=w>=0&&w<x.length?x[w]:w.toString();b+=C}E._parent&&(x||!E._parent.isEmpty)&&(b+=" "),E=E._parent}return b+="]",b.toString()}};return e([a.Override],h.prototype,"sourceInterval",null),e([a.Override],h.prototype,"ruleContext",null),e([a.Override],h.prototype,"parent",null),e([a.Override],h.prototype,"setParent",null),e([a.Override],h.prototype,"payload",null),e([a.Override],h.prototype,"text",null),e([a.Override],h.prototype,"getChild",null),e([a.Override],h.prototype,"childCount",null),e([a.Override],h.prototype,"accept",null),e([a.Override],h.prototype,"toStringTree",null),vd.RuleContext=h,vd}var rI;function Cs(){if(rI)return gd;rI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gd&&gd.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var E=d.length-1;E>=0;E--)(b=d[E])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x};Object.defineProperty(gd,"__esModule",{value:!0}),gd.ParserRuleContext=void 0;const t=g2(),n=Bi(),r=Ue(),s=jL(),a=yg();let c=class jC extends s.RuleContext{constructor(h,g){g==null?super():super(h,g)}static emptyContext(){return jC.EMPTY}copyFrom(h){if(this._parent=h._parent,this.invokingState=h.invokingState,this._start=h._start,this._stop=h._stop,h.children){this.children=[];for(let g of h.children)g instanceof t.ErrorNode&&this.addChild(g)}}enterRule(h){}exitRule(h){}addAnyChild(h){return this.children?this.children.push(h):this.children=[h],h}addChild(h){if(h instanceof a.TerminalNode){h.setParent(this),this.addAnyChild(h);return}else if(h instanceof s.RuleContext){this.addAnyChild(h);return}else return h=new a.TerminalNode(h),this.addAnyChild(h),h.setParent(this),h}addErrorNode(h){if(h instanceof t.ErrorNode){const g=h;return g.setParent(this),this.addAnyChild(g)}else{const g=h;let p=new t.ErrorNode(g);return this.addAnyChild(p),p.setParent(this),p}}removeLastChild(){this.children&&this.children.pop()}get parent(){let h=super.parent;if(h===void 0||h instanceof jC)return h;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(h,g){if(!this.children||h<0||h>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(g==null)return this.children[h];let p=this.tryGetChild(h,g);if(p===void 0)throw new Error("The specified node does not exist");return p}tryGetChild(h,g){if(!this.children||h<0||h>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof g&&(p++,p===h))return m}getToken(h,g){let p=this.tryGetToken(h,g);if(p===void 0)throw new Error("The specified token does not exist");return p}tryGetToken(h,g){if(!this.children||g<0||g>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof a.TerminalNode&&m.symbol.type===h&&(p++,p===g))return m}getTokens(h){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof a.TerminalNode&&p.symbol.type===h&&g.push(p);return g}get ruleContext(){return this}getRuleContext(h,g){return this.getChild(h,g)}tryGetRuleContext(h,g){return this.tryGetChild(h,g)}getRuleContexts(h){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof h&&g.push(p);return g}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?n.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):n.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):n.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(h){return"ParserRuleContext"+h.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}};return c.EMPTY=new c,e([r.Override],c.prototype,"parent",null),e([r.Override],c.prototype,"childCount",null),e([r.Override],c.prototype,"sourceInterval",null),gd.ParserRuleContext=c,gd}var N0={},iI;function lH(){return iI||(iI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=N0&&N0.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionMode=void 0;const n=mg(),r=ar(),s=Ue(),a=Cy();(function(c){c[c.SLL=0]="SLL",c[c.LL=1]="LL",c[c.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(e.PredictionMode||(e.PredictionMode={})),function(c){class d extends n.Array2DHashMap{constructor(){super(h.INSTANCE)}}class h{AltAndContextConfigEqualityComparator(){}hashCode(x){let b=r.MurmurHash.initialize(7);return b=r.MurmurHash.update(b,x.state.stateNumber),b=r.MurmurHash.update(b,x.context),b=r.MurmurHash.finish(b,2),b}equals(x,b){return x===b?!0:x==null||b==null?!1:x.state.stateNumber===b.state.stateNumber&&x.context.equals(b.context)}}h.INSTANCE=new h,t([s.Override],h.prototype,"hashCode",null),t([s.Override],h.prototype,"equals",null);function g(m){for(let x of m)if(x.state instanceof a.RuleStopState)return!0;return!1}c.hasConfigInRuleStopState=g;function p(m){for(let x of m)if(!(x.state instanceof a.RuleStopState))return!1;return!0}c.allConfigsInRuleStopStates=p}(e.PredictionMode||(e.PredictionMode={}))}(N0)),N0}var Dl={},oI;function zL(){if(oI)return Dl;oI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dl&&Dl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Dl&&Dl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.SimulatorState=void 0;const n=Ue(),r=Cs();let s=class{constructor(c,d,h,g){this.outerContext=c??r.ParserRuleContext.emptyContext(),this.s0=d,this.useContext=h,this.remainingOuterContext=g}};return s=e([t(1,n.NotNull)],s),Dl.SimulatorState=s,Dl}var sI;function wy(){if(sI)return Il;sI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Il&&Il.__decorate||function(me,B,j,G){var H=arguments.length,J=H<3?B:G===null?G=Object.getOwnPropertyDescriptor(B,j):G,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(me,B,j,G);else for(var Z=me.length-1;Z>=0;Z--)(X=me[Z])&&(J=(H<3?X(J):H>3?X(B,j,J):X(B,j))||J);return H>3&&J&&Object.defineProperty(B,j,J),J},t=Il&&Il.__param||function(me,B){return function(j,G){B(j,G,me)}};Object.defineProperty(Il,"__esModule",{value:!0}),Il.ParserATNSimulator=void 0;const n=yL(),r=_L(),s=Yc(),a=s2(),c=ba(),d=dS(),h=Ay(),g=pS(),p=zr(),m=IL(),x=qc(),b=aH(),E=oh(),w=hS(),C=a2(),T=Bi(),_=$c(),I=Ue(),O=h2(),L=vS(),k=xa(),V=Cs(),U=Es(),q=u2(),te=lH(),ie=Cy(),se=p2(),Ce=gg(),je=d2(),Me=zL(),re=Mn(),Ie=sh(),de=xi(),fe=65535,K=-2147483648;let ne=class kt extends g.ATNSimulator{constructor(B,j){super(B),this.predictionMode=te.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=j}getPredictionMode(){return this.predictionMode}setPredictionMode(B){this.predictionMode=B}reset(){}adaptivePredict(B,j,G,H){H===void 0&&(H=!1);let J=this.atn.decisionToDFA[j];if(de(J!=null),this.optimize_ll1&&!J.isPrecedenceDfa&&!J.isEmpty){let xe=B.LA(1);if(xe>=0&&xe<=65535){let Se=(j<<16>>>0)+xe,oe=this.atn.LL1Table.get(Se);if(oe!=null)return oe}}this.dfa=J,this.force_global_context?H=!0:this.always_try_local_context||(H=H||J.isContextSensitive),this.userWantsCtxSensitive=H||this.predictionMode!==te.PredictionMode.SLL&&G!=null&&!this.atn.decisionToState[j].sll,G==null&&(G=V.ParserRuleContext.emptyContext());let X;J.isEmpty||(X=this.getStartState(J,B,G,H)),X==null&&(G==null&&(G=V.ParserRuleContext.emptyContext()),kt.debug&&console.log("ATN decision "+J.decision+" exec LA(1)=="+this.getLookaheadName(B)+", outerContext="+G.toString(this._parser)),X=this.computeStartState(J,G,H));let Z=B.mark(),le=B.index;try{let xe=this.execDFA(J,B,le,X);return kt.debug&&console.log("DFA after predictATN: "+J.toString(this._parser.vocabulary,this._parser.ruleNames)),xe}finally{this.dfa=void 0,B.seek(le),B.release(Z)}}getStartState(B,j,G,H){if(!H)if(B.isPrecedenceDfa){let Z=B.getPrecedenceStartState(this._parser.precedence,!1);return Z==null?void 0:new Me.SimulatorState(G,Z,!1,G)}else return B.s0==null?void 0:new Me.SimulatorState(G,B.s0,!1,G);if(!this.enable_global_context_dfa)return;let J=G;de(G!=null);let X;for(B.isPrecedenceDfa?X=B.getPrecedenceStartState(this._parser.precedence,!0):X=B.s0full;J!=null&&X!=null&&X.isContextSensitive;)J=this.skipTailCalls(J),X=X.getContextTarget(this.getReturnState(J)),J.isEmpty?de(X==null||!X.isContextSensitive):J=J.parent;if(X!=null)return new Me.SimulatorState(G,X,H,J)}execDFA(B,j,G,H){let J=H.outerContext;kt.dfa_debug&&console.log("DFA decision "+B.decision+" exec LA(1)=="+this.getLookaheadName(j)+", outerContext="+J.toString(this._parser)),kt.dfa_debug&&console.log(B.toString(this._parser.vocabulary,this._parser.ruleNames));let X=H.s0,Z=j.LA(1),le=H.remainingOuterContext;for(;;){if(kt.dfa_debug&&console.log("DFA state "+X.stateNumber+" LA(1)=="+this.getLookaheadName(j)),H.useContext)for(;X.isContextSymbol(Z);){let oe;if(le!=null&&(le=this.skipTailCalls(le),oe=X.getContextTarget(this.getReturnState(le))),oe==null){let ae=new Me.SimulatorState(H.outerContext,X,H.useContext,le);return this.execATN(B,j,G,ae)}de(le!=null),le=le.parent,X=oe}if(this.isAcceptState(X,H.useContext)){X.predicates!=null?kt.dfa_debug&&console.log("accept "+X):kt.dfa_debug&&console.log("accept; predict "+X.prediction+" in state "+X.stateNumber);break}de(!this.isAcceptState(X,H.useContext));let Se=this.getExistingTargetState(X,Z);if(Se==null){kt.dfa_debug&&Z>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(Z));let oe;if(kt.dfa_debug){let Ee=T.Interval.of(G,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(Ee)+" at DFA state "+X.stateNumber)}let ae=new Me.SimulatorState(J,X,H.useContext,le);return oe=this.execATN(B,j,G,ae),kt.dfa_debug&&console.log("back from DFA update, alt="+oe+`, dfa=
`+B.toString(this._parser.vocabulary,this._parser.ruleNames)),kt.dfa_debug&&console.log("DFA decision "+B.decision+" predicts "+oe),oe}else if(Se===g.ATNSimulator.ERROR){let oe=new Me.SimulatorState(J,X,H.useContext,le);return this.handleNoViableAlt(j,G,oe)}X=Se,!this.isAcceptState(X,H.useContext)&&Z!==_.IntStream.EOF&&(j.consume(),Z=j.LA(1))}if(!H.useContext&&X.configs.conflictInfo!=null&&B.atnStartState instanceof E.DecisionState&&!(!this.userWantsCtxSensitive||!X.configs.dipsIntoOuterContext&&X.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&j.index===G)){de(!H.useContext);let Se,oe=X.predicates;if(oe!=null){let ae=j.index;if(ae!==G&&j.seek(G),Se=this.evalSemanticContext(oe,J,!0),Se.cardinality()===1)return Se.nextSetBit(0);ae!==G&&j.seek(ae)}if(this.reportAmbiguities){let ae=new Me.SimulatorState(J,X,H.useContext,le);this.reportAttemptingFullContext(B,Se,ae,G,j.index)}return j.seek(G),this.adaptivePredict(j,B.decision,J,!0)}let xe=X.predicates;if(xe!=null){let Se=j.index;G!==Se&&j.seek(G);let oe=this.evalSemanticContext(xe,J,this.reportAmbiguities&&this.predictionMode===te.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(oe.cardinality()){case 0:throw this.noViableAlt(j,J,X.configs,G);case 1:return oe.nextSetBit(0);default:return G!==Se&&j.seek(Se),this.reportAmbiguity(B,X,G,Se,X.configs.isExactConflict,oe,X.configs),oe.nextSetBit(0)}}return kt.dfa_debug&&console.log("DFA decision "+B.decision+" predicts "+X.prediction),X.prediction}isAcceptState(B,j){return B.isAcceptState?B.configs.conflictingAlts==null?!0:j&&this.predictionMode===te.PredictionMode.LL_EXACT_AMBIG_DETECTION?B.configs.isExactConflict:!0:!1}execATN(B,j,G,H){kt.debug&&console.log("execATN decision "+B.decision+" exec LA(1)=="+this.getLookaheadName(j));let J=H.outerContext,X=H.useContext,Z=j.LA(1),le=H,xe=new q.PredictionContextCache;for(;;){let Se=this.computeReachSet(B,le,Z,xe);if(Se==null)return this.setDFAEdge(le.s0,j.LA(1),g.ATNSimulator.ERROR),this.handleNoViableAlt(j,G,le);let oe=Se.s0;if(de(oe.isAcceptState||oe.prediction===c.ATN.INVALID_ALT_NUMBER),de(oe.isAcceptState||oe.configs.conflictInfo==null),this.isAcceptState(oe,X)){let ae=oe.configs.conflictingAlts,Ee=ae==null?oe.prediction:c.ATN.INVALID_ALT_NUMBER;if(Ee!==c.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&j.index===G&&!B.isPrecedenceDfa&&Se.outerContext===Se.remainingOuterContext&&B.decision>=0&&!oe.configs.hasSemanticContext&&Z>=0&&Z<=fe){let Be=(B.decision<<16>>>0)+Z;this.atn.LL1Table.set(Be,Ee)}X&&this.always_try_local_context&&this.reportContextSensitivity(B,Ee,Se,G,j.index)}Ee=oe.prediction;let Oe=ae!=null&&this.userWantsCtxSensitive;if(Oe&&(Oe=!X&&(oe.configs.dipsIntoOuterContext||!oe.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||j.index!==G)),oe.configs.hasSemanticContext){let Be=oe.predicates;if(Be!=null){let Ge=j.index;switch(Ge!==G&&j.seek(G),ae=this.evalSemanticContext(Be,J,Oe||this.reportAmbiguities),ae.cardinality()){case 0:throw this.noViableAlt(j,J,oe.configs,G);case 1:return ae.nextSetBit(0)}Ge!==G&&j.seek(Ge)}}if(Oe){de(!X),de(this.isAcceptState(oe,!1)),kt.debug&&console.log("RETRY with outerContext="+J);let Be=this.computeStartState(B,J,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(B,ae,Se,G,j.index),j.seek(G),this.execATN(B,j,G,Be)}else return ae!=null&&(this.reportAmbiguities&&ae.cardinality()>1&&this.reportAmbiguity(B,oe,G,j.index,oe.configs.isExactConflict,ae,oe.configs),Ee=ae.nextSetBit(0)),Ee}le=Se,Z!==_.IntStream.EOF&&(j.consume(),Z=j.LA(1))}}handleNoViableAlt(B,j,G){if(G.s0!=null){let H=new x.BitSet,J=0;for(let X of G.s0.configs)(X.reachesIntoOuterContext||X.state instanceof ie.RuleStopState)&&(H.set(X.alt),J=Math.max(J,X.alt));switch(H.cardinality()){case 0:break;case 1:return H.nextSetBit(0);default:if(!G.s0.configs.hasSemanticContext)return H.nextSetBit(0);let X=new h.ATNConfigSet;for(let le of G.s0.configs)(le.reachesIntoOuterContext||le.state instanceof ie.RuleStopState)&&X.add(le);let Z=this.getPredsForAmbigAlts(H,X,J);if(Z!=null){let le=this.getPredicatePredictions(H,Z);if(le!=null){let xe=B.index;try{B.seek(j);let Se=this.evalSemanticContext(le,G.outerContext,!1);if(!Se.isEmpty)return Se.nextSetBit(0)}finally{B.seek(xe)}}}return H.nextSetBit(0)}}throw this.noViableAlt(B,G.outerContext,G.s0.configs,j)}computeReachSet(B,j,G,H){let J=j.useContext,X=j.remainingOuterContext,Z=j.s0;if(J)for(;Z.isContextSymbol(G);){let Se;if(X!=null&&(X=this.skipTailCalls(X),Se=Z.getContextTarget(this.getReturnState(X))),Se==null)break;de(X!=null),X=X.parent,Z=Se}if(de(!this.isAcceptState(Z,J)),this.isAcceptState(Z,J))return new Me.SimulatorState(j.outerContext,Z,J,X);let le=Z,xe=this.getExistingTargetState(le,G);if(xe==null){let Se=this.computeTargetState(B,le,X,G,J,H);xe=Se[0],X=Se[1]}if(xe!==g.ATNSimulator.ERROR)return de(!J||!xe.configs.dipsIntoOuterContext),new Me.SimulatorState(j.outerContext,xe,J,X)}getExistingTargetState(B,j){return B.getTarget(j)}computeTargetState(B,j,G,H,J,X){let Z=j.configs.toArray(),le,xe=new h.ATNConfigSet,Se;do{let ae=!J||G!=null;ae||(xe.isOutermostConfigSet=!0);let Ee=new h.ATNConfigSet,Oe;for(let ye of Z){if(kt.debug&&console.log("testing "+this.getTokenName(H)+" at "+ye.toString()),ye.state instanceof ie.RuleStopState){de(ye.context.isEmpty),(J&&!ye.reachesIntoOuterContext||H===_.IntStream.EOF)&&(Oe==null&&(Oe=[]),Oe.push(ye));continue}let Fe=ye.state.numberOfOptimizedTransitions;for(let Qe=0;Qe<Fe;Qe++){let yt=ye.state.getOptimizedTransition(Qe),ht=this.getReachableTarget(ye,yt,H);ht!=null&&Ee.add(ye.transform(ht,!1),X)}}if(this.optimize_unique_closure&&Oe==null&&H!==re.Token.EOF&&Ee.uniqueAlt!==c.ATN.INVALID_ALT_NUMBER){Ee.isOutermostConfigSet=xe.isOutermostConfigSet,xe=Ee;break}let Be=!1,Ge=H===re.Token.EOF;if(this.closure(Ee,xe,Be,ae,X,Ge),Se=xe.dipsIntoOuterContext,H===_.IntStream.EOF&&(xe=this.removeAllConfigsNotInRuleStopState(xe,X)),Oe!=null&&(!J||!te.PredictionMode.hasConfigInRuleStopState(xe))){de(Oe.length>0);for(let ye of Oe)xe.add(ye,X)}if(J&&Se){xe.clear(),G=G,G=this.skipTailCalls(G);let ye=this.getReturnState(G);if(le==null&&(le=new C.IntegerList),G.isEmpty?G=void 0:G=G.parent,le.add(ye),ye!==U.PredictionContext.EMPTY_FULL_STATE_KEY)for(let Fe=0;Fe<Z.length;Fe++)Z[Fe]=Z[Fe].appendContext(ye,X)}}while(J&&Se);return xe.isEmpty?(this.setDFAEdge(j,H,g.ATNSimulator.ERROR),[g.ATNSimulator.ERROR,G]):[this.addDFAEdge(B,j,H,le,xe,X),G]}removeAllConfigsNotInRuleStopState(B,j){if(te.PredictionMode.allConfigsInRuleStopStates(B))return B;let G=new h.ATNConfigSet;for(let H of B)H.state instanceof ie.RuleStopState&&G.add(H,j);return G}computeStartState(B,j,G){let H=B.isPrecedenceDfa?B.getPrecedenceStartState(this._parser.precedence,G):G?B.s0full:B.s0;if(H!=null){if(!G)return new Me.SimulatorState(j,H,G,j);H.setContextSensitive(this.atn)}B.decision;let J=B.atnStartState,X=0,Z=j,le=G?U.PredictionContext.EMPTY_FULL:U.PredictionContext.EMPTY_LOCAL,xe=new q.PredictionContextCache;if(G){if(!this.enable_global_context_dfa)for(;Z!=null;)Z.isEmpty?(X=U.PredictionContext.EMPTY_FULL_STATE_KEY,Z=void 0):(X=this.getReturnState(Z),le=le.appendSingleContext(X,xe),Z=Z.parent);for(;H!=null&&H.isContextSensitive&&Z!=null;){let oe;if(Z=this.skipTailCalls(Z),Z.isEmpty?(oe=H.getContextTarget(U.PredictionContext.EMPTY_FULL_STATE_KEY),X=U.PredictionContext.EMPTY_FULL_STATE_KEY,Z=void 0):(X=this.getReturnState(Z),oe=H.getContextTarget(X),le=le.appendSingleContext(X,xe),Z=Z.parent),oe==null)break;H=oe}}if(H!=null&&!H.isContextSensitive)return new Me.SimulatorState(j,H,G,Z);let Se=new h.ATNConfigSet;for(;;){let oe=new h.ATNConfigSet,ae=J.numberOfTransitions;for(let Fe=0;Fe<ae;Fe++){let Qe=J.transition(Fe).target;oe.add(d.ATNConfig.create(Qe,Fe+1,le))}let Ee=Z!=null;Ee||(Se.isOutermostConfigSet=!0),this.closure(oe,Se,!0,Ee,xe,!1);let Be=Se.dipsIntoOuterContext,Ge;if(G&&!this.enable_global_context_dfa){H=this.addDFAState(B,Se,xe);break}else H==null?B.isPrecedenceDfa?(Se=this.applyPrecedenceFilter(Se,j,xe),Ge=this.addDFAState(B,Se,xe),B.setPrecedenceStartState(this._parser.precedence,G,Ge)):(Ge=this.addDFAState(B,Se,xe),G?B.s0full?Ge=B.s0full:B.s0full=Ge:B.s0?Ge=B.s0:B.s0=Ge):(B.isPrecedenceDfa&&(Se=this.applyPrecedenceFilter(Se,j,xe)),Ge=this.addDFAState(B,Se,xe),H.setContextTarget(X,Ge));if(H=Ge,!G||!Be)break;Ge.setContextSensitive(this.atn),Z=Z,Se.clear(),Z=this.skipTailCalls(Z);let ye=this.getReturnState(Z);Z.isEmpty?Z=void 0:Z=Z.parent,ye!==U.PredictionContext.EMPTY_FULL_STATE_KEY&&(le=le.appendSingleContext(ye,xe)),X=ye}return new Me.SimulatorState(j,H,G,Z)}applyPrecedenceFilter(B,j,G){let H=new Map,J=new h.ATNConfigSet;for(let X of B){if(X.alt!==1)continue;let Z=X.semanticContext.evalPrecedence(this._parser,j);Z!=null&&(H.set(X.state.stateNumber,X.context),Z!==X.semanticContext?J.add(X.transform(X.state,!1,Z),G):J.add(X,G))}for(let X of B)if(X.alt!==1){if(!X.isPrecedenceFilterSuppressed){let Z=H.get(X.state.stateNumber);if(Z!=null&&Z.equals(X.context))continue}J.add(X,G)}return J}getReachableTarget(B,j,G){if(j.matches(G,0,this.atn.maxTokenType))return j.target}predicateDFAState(B,j,G){let H=this.getConflictingAltsFromConfigSet(j);if(!H)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");kt.debug&&console.log("predicateDFAState "+B);let J=this.getPredsForAmbigAlts(H,j,G),X;return J!=null&&(X=this.getPredicatePredictions(H,J),B.predicates=X),X}getPredsForAmbigAlts(B,j,G){let H=new Array(G+1),J=H.length;for(let le of j)B.get(le.alt)&&(H[le.alt]=Ce.SemanticContext.or(H[le.alt],le.semanticContext));let X=0;for(let le=0;le<J;le++)H[le]==null?H[le]=Ce.SemanticContext.NONE:H[le]!==Ce.SemanticContext.NONE&&X++;let Z=H;return X===0&&(Z=void 0),kt.debug&&console.log("getPredsForAmbigAlts result "+(Z?a.Arrays.toString(Z):"undefined")),Z}getPredicatePredictions(B,j){let G=[],H=!1;for(let J=1;J<j.length;J++){let X=j[J];de(X!=null),B!=null&&B.get(J)&&X===Ce.SemanticContext.NONE?G.push(new w.DFAState.PredPrediction(X,J)):X!==Ce.SemanticContext.NONE&&(H=!0,G.push(new w.DFAState.PredPrediction(X,J)))}if(H)return G}evalSemanticContext(B,j,G){let H=new x.BitSet;for(let J of B){if(J.pred===Ce.SemanticContext.NONE){if(H.set(J.alt),!G)break;continue}let X=this.evalSemanticContextImpl(J.pred,j,J.alt);if((kt.debug||kt.dfa_debug)&&console.log("eval pred "+J+"="+X),X&&((kt.debug||kt.dfa_debug)&&console.log("PREDICT "+J.alt),H.set(J.alt),!G))break}return H}evalSemanticContextImpl(B,j,G){return B.eval(this._parser,j)}closure(B,j,G,H,J,X){J==null&&(J=q.PredictionContextCache.UNCACHED);let Z=B,le=new s.Array2DHashSet(k.ObjectEqualityComparator.INSTANCE);for(;Z.size>0;){let xe=new h.ATNConfigSet;for(let Se of Z)this.closureImpl(Se,j,xe,le,G,H,J,0,X);Z=xe}}closureImpl(B,j,G,H,J,X,Z,le,xe){if(kt.debug&&console.log("closure("+B.toString(this._parser,!0)+")"),B.state instanceof ie.RuleStopState)if(B.context.isEmpty)if(X)kt.debug&&console.log("FALLING off rule "+this.getRuleName(B.state.ruleIndex)),B.context===U.PredictionContext.EMPTY_FULL?B=B.transform(B.state,!1,U.PredictionContext.EMPTY_LOCAL):!B.reachesIntoOuterContext&&U.PredictionContext.isEmptyLocal(B.context)&&j.add(B,Z);else{j.add(B,Z);return}else{let oe=B.context.hasEmpty,ae=B.context.size-(oe?1:0);for(let Ee=0;Ee<ae;Ee++){let Oe=B.context.getParent(Ee),Be=this.atn.states[B.context.getReturnState(Ee)],Ge=d.ATNConfig.create(Be,B.alt,Oe,B.semanticContext);Ge.outerContextDepth=B.outerContextDepth,Ge.isPrecedenceFilterSuppressed=B.isPrecedenceFilterSuppressed,de(le>K),this.closureImpl(Ge,j,G,H,J,X,Z,le-1,xe)}if(!oe||!X)return;B=B.transform(B.state,!1,U.PredictionContext.EMPTY_LOCAL)}let Se=B.state;Se.onlyHasEpsilonTransitions||(j.add(B,Z),kt.debug&&console.log("added config "+j));for(let oe=0;oe<Se.numberOfOptimizedTransitions;oe++){if(oe===0&&Se.stateType===p.ATNStateType.STAR_LOOP_ENTRY&&Se.precedenceRuleDecision&&!B.context.hasEmpty){let Be=Se,Ge=!0;for(let ye=0;ye<B.context.size;ye++)if(!Be.precedenceLoopbackStates.get(B.context.getReturnState(ye))){Ge=!1;break}if(Ge)continue}let ae=Se.getOptimizedTransition(oe),Ee=!(ae instanceof r.ActionTransition)&&J,Oe=this.getEpsilonTarget(B,ae,Ee,le===0,Z,xe);if(Oe!=null){if(ae instanceof se.RuleTransition&&G!=null&&!J){G.add(Oe,Z);continue}let Be=le;if(B.state instanceof ie.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&ae.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(Oe.isPrecedenceFilterSuppressed=!0),Oe.outerContextDepth=Oe.outerContextDepth+1,!H.add(Oe))continue;de(Be>K),Be--,kt.debug&&console.log("dips into outer ctx: "+Oe)}else if(ae instanceof se.RuleTransition)this.optimize_tail_calls&&ae.optimizedTailCall&&(!this.tail_call_preserves_sll||!U.PredictionContext.isEmptyLocal(B.context))?(de(Oe.context===B.context),Be===0&&(Be--,!this.tail_call_preserves_sll&&U.PredictionContext.isEmptyLocal(B.context)&&(Oe.outerContextDepth=Oe.outerContextDepth+1))):Be>=0&&Be++;else if(!ae.isEpsilon&&!H.add(Oe))continue;this.closureImpl(Oe,j,G,H,Ee,X,Z,Be,xe)}}}getRuleName(B){return this._parser!=null&&B>=0?this._parser.ruleNames[B]:"<rule "+B+">"}getEpsilonTarget(B,j,G,H,J,X){switch(j.serializationType){case 3:return this.ruleTransition(B,j,J);case 10:return this.precedenceTransition(B,j,G,H);case 4:return this.predTransition(B,j,G,H);case 6:return this.actionTransition(B,j);case 1:return B.transform(j.target,!1);case 5:case 2:case 7:return X&&j.matches(re.Token.EOF,0,1)?B.transform(j.target,!1):void 0;default:return}}actionTransition(B,j){return kt.debug&&console.log("ACTION edge "+j.ruleIndex+":"+j.actionIndex),B.transform(j.target,!1)}precedenceTransition(B,j,G,H){kt.debug&&(console.log("PRED (collectPredicates="+G+") "+j.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let J;if(G&&H){let X=Ce.SemanticContext.and(B.semanticContext,j.predicate);J=B.transform(j.target,!1,X)}else J=B.transform(j.target,!1);return kt.debug&&console.log("config from pred transition="+J),J}predTransition(B,j,G,H){kt.debug&&(console.log("PRED (collectPredicates="+G+") "+j.ruleIndex+":"+j.predIndex+", ctx dependent="+j.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let J;if(G&&(!j.isCtxDependent||j.isCtxDependent&&H)){let X=Ce.SemanticContext.and(B.semanticContext,j.predicate);J=B.transform(j.target,!1,X)}else J=B.transform(j.target,!1);return kt.debug&&console.log("config from pred transition="+J),J}ruleTransition(B,j,G){kt.debug&&console.log("CALL rule "+this.getRuleName(j.target.ruleIndex)+", ctx="+B.context);let H=j.followState,J;return this.optimize_tail_calls&&j.optimizedTailCall&&(!this.tail_call_preserves_sll||!U.PredictionContext.isEmptyLocal(B.context))?J=B.context:G!=null?J=G.getChild(B.context,H.stateNumber):J=B.context.getChild(H.stateNumber),B.transform(j.target,!1,J)}isConflicted(B,j){if(B.uniqueAlt!==c.ATN.INVALID_ALT_NUMBER||B.size<=1)return;let G=B.toArray();G.sort(kt.STATE_ALT_SORT_COMPARATOR);let H=!B.dipsIntoOuterContext,J=new x.BitSet,X=G[0].alt;J.set(X);let Z=G[0].state.nonStopStateNumber;for(let ae of G){let Ee=ae.state.nonStopStateNumber;if(Ee!==Z){if(ae.alt!==X)return;Z=Ee}}let le;if(H){Z=G[0].state.nonStopStateNumber,le=new x.BitSet;let ae=X;for(let Oe of G){if(Oe.state.nonStopStateNumber!==Z)break;let Be=Oe.alt;le.set(Be),ae=Be}Z=G[0].state.nonStopStateNumber;let Ee=X;for(let Oe of G){let Be=Oe.state.nonStopStateNumber,Ge=Oe.alt;if(Be!==Z){if(Ee!==ae){H=!1;break}Z=Be,Ee=X}else if(Ge!==Ee){if(Ge!==le.nextSetBit(Ee+1)){H=!1;break}Ee=Ge}}}Z=G[0].state.nonStopStateNumber;let xe=0,Se=0,oe=G[0].context;for(let ae=1;ae<G.length;ae++){let Ee=G[ae];if(Ee.alt!==X||Ee.state.nonStopStateNumber!==Z)break;Se=ae,oe=j.join(oe,G[ae].context)}for(let ae=Se+1;ae<G.length;ae++){let Ee=G[ae],Oe=Ee.state;if(J.set(Ee.alt),Oe.nonStopStateNumber!==Z){Z=Oe.nonStopStateNumber,xe=ae,Se=ae,oe=Ee.context;for(let Qe=xe+1;Qe<G.length;Qe++){let yt=G[Qe];if(yt.alt!==X||yt.state.nonStopStateNumber!==Z)break;Se=Qe,oe=j.join(oe,yt.context)}ae=Se;continue}let Be=Ee.context,Ge=Ee.alt,ye=ae;for(let Qe=ye+1;Qe<G.length;Qe++){let yt=G[Qe];if(yt.alt!==Ge||yt.state.nonStopStateNumber!==Z)break;ye=Qe,Be=j.join(Be,yt.context)}ae=ye;let Fe=j.join(oe,Be);if(!oe.equals(Fe))return;H=H&&oe.equals(Be)}return new b.ConflictInfo(J,H)}getConflictingAltsFromConfigSet(B){let j=B.conflictingAlts;return j==null&&B.uniqueAlt!==c.ATN.INVALID_ALT_NUMBER&&(j=new x.BitSet,j.set(B.uniqueAlt)),j}getTokenName(B){if(B===re.Token.EOF)return"EOF";let G=(this._parser!=null?this._parser.vocabulary:Ie.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(B);return G===String(B)?G:G+"<"+B+">"}getLookaheadName(B){return this.getTokenName(B.LA(1))}dumpDeadEndConfigs(B){console.log("dead end configs: ");let j=B.deadEndConfigs;if(j)for(let G of j){let H="no edges";if(G.state.numberOfOptimizedTransitions>0){let J=G.state.getOptimizedTransition(0);J instanceof m.AtomTransition?H="Atom "+this.getTokenName(J._label):J instanceof je.SetTransition&&(H=(J instanceof O.NotSetTransition?"~":"")+"Set "+J.set.toString())}console.log(G.toString(this._parser,!0)+":"+H)}}noViableAlt(B,j,G,H){return new L.NoViableAltException(this._parser,B,B.get(H),B.LT(1),G,j)}getUniqueAlt(B){let j=c.ATN.INVALID_ALT_NUMBER;for(let G of B)if(j===c.ATN.INVALID_ALT_NUMBER)j=G.alt;else if(G.alt!==j)return c.ATN.INVALID_ALT_NUMBER;return j}configWithAltAtStopState(B,j){for(let G of B)if(G.alt===j&&G.state instanceof ie.RuleStopState)return!0;return!1}addDFAEdge(B,j,G,H,J,X){de(H==null||H.isEmpty||B.isContextSensitive);let Z=j,le=this.addDFAState(B,J,X);if(H!=null)for(let xe of H.toArray()){if(xe===U.PredictionContext.EMPTY_FULL_STATE_KEY&&Z.configs.isOutermostConfigSet)continue;Z.setContextSensitive(this.atn),Z.setContextSymbol(G);let Se=Z.getContextTarget(xe);if(Se!=null){Z=Se;continue}Se=this.addDFAContextState(B,Z.configs,xe,X),de(xe!==U.PredictionContext.EMPTY_FULL_STATE_KEY||Se.configs.isOutermostConfigSet),Z.setContextTarget(xe,Se),Z=Se}return kt.debug&&console.log("EDGE "+Z+" -> "+le+" upon "+this.getTokenName(G)),this.setDFAEdge(Z,G,le),kt.debug&&console.log(`DFA=
`+B.toString(this._parser!=null?this._parser.vocabulary:Ie.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),le}setDFAEdge(B,j,G){B!=null&&B.setTarget(j,G)}addDFAContextState(B,j,G,H){if(G!==U.PredictionContext.EMPTY_FULL_STATE_KEY){let J=new h.ATNConfigSet;for(let X of j)J.add(X.appendContext(G,H));return this.addDFAState(B,J,H)}else return de(!j.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),j=j.clone(!0),j.isOutermostConfigSet=!0,this.addDFAState(B,j,H)}addDFAState(B,j,G){let H=this.enable_global_context_dfa||!j.isOutermostConfigSet;if(H){j.isReadOnly||j.optimizeConfigs(this);let xe=this.createDFAState(B,j),Se=B.states.get(xe);if(Se!=null)return Se}j.isReadOnly||j.conflictInfo==null&&(j.conflictInfo=this.isConflicted(j,G));let J=this.createDFAState(B,j.clone(!0)),X=this.atn.getDecisionState(B.decision),Z=this.getUniqueAlt(j);if(Z!==c.ATN.INVALID_ALT_NUMBER)J.acceptStateInfo=new n.AcceptStateInfo(Z);else if(j.conflictingAlts!=null){let xe=j.conflictingAlts;xe&&(J.acceptStateInfo=new n.AcceptStateInfo(xe.nextSetBit(0)))}if(J.isAcceptState&&j.hasSemanticContext&&this.predicateDFAState(J,j,X.numberOfTransitions),!H)return J;let le=B.addState(J);return kt.debug&&le===J&&console.log("adding new DFA state: "+J),le}createDFAState(B,j){return new w.DFAState(j)}reportAttemptingFullContext(B,j,G,H,J){if(kt.debug||kt.retry_debug){let X=T.Interval.of(H,J);console.log("reportAttemptingFullContext decision="+B.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(X))}if(this._parser!=null){let X=this._parser.getErrorListenerDispatch();X.reportAttemptingFullContext&&X.reportAttemptingFullContext(this._parser,B,H,J,j,G)}}reportContextSensitivity(B,j,G,H,J){if(kt.debug||kt.retry_debug){let X=T.Interval.of(H,J);console.log("reportContextSensitivity decision="+B.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(X))}if(this._parser!=null){let X=this._parser.getErrorListenerDispatch();X.reportContextSensitivity&&X.reportContextSensitivity(this._parser,B,H,J,j,G)}}reportAmbiguity(B,j,G,H,J,X,Z){if(kt.debug||kt.retry_debug){let le=T.Interval.of(G,H);console.log("reportAmbiguity "+X+":"+Z+", input="+this._parser.inputStream.getText(le))}if(this._parser!=null){let le=this._parser.getErrorListenerDispatch();le.reportAmbiguity&&le.reportAmbiguity(this._parser,B,G,H,J,X,Z)}}getReturnState(B){return B.isEmpty?U.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[B.invokingState].transition(0).followState.stateNumber}skipTailCalls(B){if(!this.optimize_tail_calls)return B;for(;!B.isEmpty;){let j=this.atn.states[B.invokingState];if(de(j.numberOfTransitions===1&&j.transition(0).serializationType===3),!j.transition(0).tailCall)break;B=B.parent}return B}get parser(){return this._parser}};return ne.debug=!1,ne.dfa_debug=!1,ne.retry_debug=!1,ne.STATE_ALT_SORT_COMPARATOR=(me,B)=>{let j=me.state.nonStopStateNumber-B.state.nonStopStateNumber;return j!==0||(j=me.alt-B.alt,j!==0)?j:0},e([I.NotNull],ne.prototype,"predictionMode",void 0),e([I.NotNull],ne.prototype,"getPredictionMode",null),e([t(0,I.NotNull)],ne.prototype,"setPredictionMode",null),e([I.Override],ne.prototype,"reset",null),e([t(0,I.NotNull)],ne.prototype,"adaptivePredict",null),e([t(0,I.NotNull),t(1,I.NotNull),t(2,I.NotNull)],ne.prototype,"getStartState",null),e([t(0,I.NotNull),t(1,I.NotNull),t(3,I.NotNull)],ne.prototype,"execDFA",null),e([t(0,I.NotNull),t(1,I.NotNull),t(3,I.NotNull)],ne.prototype,"execATN",null),e([t(0,I.NotNull),t(2,I.NotNull)],ne.prototype,"handleNoViableAlt",null),e([t(0,I.NotNull)],ne.prototype,"getExistingTargetState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"computeTargetState",null),e([I.NotNull,t(0,I.NotNull)],ne.prototype,"removeAllConfigsNotInRuleStopState",null),e([I.NotNull],ne.prototype,"computeStartState",null),e([I.NotNull,t(0,I.NotNull)],ne.prototype,"applyPrecedenceFilter",null),e([t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"getReachableTarget",null),e([t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"getPredsForAmbigAlts",null),e([t(0,I.NotNull)],ne.prototype,"evalSemanticContext",null),e([t(0,I.NotNull)],ne.prototype,"evalSemanticContextImpl",null),e([t(1,I.NotNull),t(4,I.Nullable)],ne.prototype,"closure",null),e([t(0,I.NotNull),t(1,I.NotNull),t(2,I.Nullable),t(3,I.NotNull),t(6,I.NotNull)],ne.prototype,"closureImpl",null),e([I.NotNull],ne.prototype,"getRuleName",null),e([t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"getEpsilonTarget",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"actionTransition",null),e([I.Nullable,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"precedenceTransition",null),e([I.Nullable,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"predTransition",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull),t(2,I.Nullable)],ne.prototype,"ruleTransition",null),e([t(0,I.NotNull)],ne.prototype,"isConflicted",null),e([I.NotNull],ne.prototype,"getTokenName",null),e([t(0,I.NotNull)],ne.prototype,"dumpDeadEndConfigs",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull),t(2,I.NotNull)],ne.prototype,"noViableAlt",null),e([t(0,I.NotNull)],ne.prototype,"getUniqueAlt",null),e([t(0,I.NotNull)],ne.prototype,"configWithAltAtStopState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull),t(4,I.NotNull)],ne.prototype,"addDFAEdge",null),e([t(0,I.Nullable),t(2,I.Nullable)],ne.prototype,"setDFAEdge",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"addDFAContextState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"addDFAState",null),e([I.NotNull,t(0,I.NotNull),t(1,I.NotNull)],ne.prototype,"createDFAState",null),e([t(0,I.NotNull),t(2,I.NotNull)],ne.prototype,"reportAttemptingFullContext",null),e([t(0,I.NotNull),t(2,I.NotNull)],ne.prototype,"reportContextSensitivity",null),e([t(0,I.NotNull),t(5,I.NotNull),t(6,I.NotNull)],ne.prototype,"reportAmbiguity",null),ne=e([t(0,I.NotNull)],ne),Il.ParserATNSimulator=ne,Il}var xd={},aI;function uH(){if(aI)return xd;aI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xd&&xd.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(xd,"__esModule",{value:!0}),xd.PlusBlockStartState=void 0;const t=zr(),n=yS(),r=Ue();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.PLUS_BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),xd.PlusBlockStartState=s,xd}var bd={},lI;function cH(){if(lI)return bd;lI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bd&&bd.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(bd,"__esModule",{value:!0}),bd.PlusLoopbackState=void 0;const t=zr(),n=oh(),r=Ue();let s=class extends n.DecisionState{get stateType(){return t.ATNStateType.PLUS_LOOP_BACK}};return e([r.Override],s.prototype,"stateType",null),bd.PlusLoopbackState=s,bd}var Pl={},uI;function fH(){if(uI)return Pl;uI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pl&&Pl.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=Pl&&Pl.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.PrecedencePredicateTransition=void 0;const n=o2(),r=Ue(),s=gg();let a=class extends n.AbstractPredicateTransition{constructor(d,h){super(d),this.precedence=h}get serializationType(){return 10}get isEpsilon(){return!0}matches(d,h,g){return!1}get predicate(){return new s.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override],a.prototype,"isEpsilon",null),e([r.Override],a.prototype,"matches",null),e([r.Override],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),Pl.PrecedencePredicateTransition=a,Pl}var Ml={},cI;function dH(){if(cI)return Ml;cI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ml&&Ml.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=Ml&&Ml.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.RangeTransition=void 0;const n=ah(),r=Ue(),s=Wc();let a=class extends s.Transition{constructor(d,h,g){super(d),this.from=h,this.to=g}get serializationType(){return 2}get label(){return n.IntervalSet.of(this.from,this.to)}matches(d,h,g){return d>=this.from&&d<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override,r.NotNull],a.prototype,"label",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),Ml.RangeTransition=a,Ml}var Sd={},fI;function hH(){if(fI)return Sd;fI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sd&&Sd.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.RuleStartState=void 0;const t=mu(),n=zr(),r=Ue();let s=class extends t.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return n.ATNStateType.RULE_START}};return e([r.Override],s.prototype,"stateType",null),Sd.RuleStartState=s,Sd}var Ad={},dI;function pH(){if(dI)return Ad;dI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ad&&Ad.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.StarBlockStartState=void 0;const t=zr(),n=yS(),r=Ue();let s=class extends n.BlockStartState{get stateType(){return t.ATNStateType.STAR_BLOCK_START}};return e([r.Override],s.prototype,"stateType",null),Ad.StarBlockStartState=s,Ad}var Ed={},hI;function gH(){if(hI)return Ed;hI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ed&&Ed.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.StarLoopbackState=void 0;const t=mu(),n=zr(),r=Ue();let s=class extends t.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return n.ATNStateType.STAR_LOOP_BACK}};return e([r.Override],s.prototype,"stateType",null),Ed.StarLoopbackState=s,Ed}var Cd={},pI;function mH(){if(pI)return Cd;pI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cd&&Cd.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.TokensStartState=void 0;const t=zr(),n=oh(),r=Ue();let s=class extends n.DecisionState{get stateType(){return t.ATNStateType.TOKEN_START}};return e([r.Override],s.prototype,"stateType",null),Cd.TokensStartState=s,Cd}var _0={},gI;function yH(){if(gI)return _0;gI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(_0,"__esModule",{value:!0}),_0.UUID=void 0;const e=ar();let t=class zC{constructor(r,s,a,c){this.data=new Uint32Array(4),this.data[0]=r,this.data[1]=s,this.data[2]=a,this.data[3]=c}static fromString(r){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(r))throw new Error("Incorrectly formatted UUID");let s=r.split("-"),a=parseInt(s[0],16),c=(parseInt(s[1],16)<<16>>>0)+parseInt(s[2],16),d=(parseInt(s[3],16)<<16>>>0)+parseInt(s[4].substr(0,4),16),h=parseInt(s[4].substr(-8),16);return new zC(a,c,d,h)}hashCode(){return e.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(r){return r===this?!0:r instanceof zC?this.data[0]===r.data[0]&&this.data[1]===r.data[1]&&this.data[2]===r.data[2]&&this.data[3]===r.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};return _0.UUID=t,_0}var mI;function y2(){if(mI)return Sl;mI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sl&&Sl.__decorate||function(Se,oe,ae,Ee){var Oe=arguments.length,Be=Oe<3?oe:Ee===null?Ee=Object.getOwnPropertyDescriptor(oe,ae):Ee,Ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(Se,oe,ae,Ee);else for(var ye=Se.length-1;ye>=0;ye--)(Ge=Se[ye])&&(Be=(Oe<3?Ge(Be):Oe>3?Ge(oe,ae,Be):Ge(oe,ae))||Be);return Oe>3&&Be&&Object.defineProperty(oe,ae,Be),Be},t=Sl&&Sl.__param||function(Se,oe){return function(ae,Ee){oe(ae,Ee,Se)}};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.ATNDeserializer=void 0;const n=_L(),r=Yc(),s=ba(),a=NL(),c=zr(),d=IL(),h=X$(),g=EL(),p=qc(),m=Z$(),x=yS(),b=oh(),E=AL(),w=J$(),C=ah(),T=CL(),_=Q$(),I=eH(),O=tH(),L=nH(),k=rH(),V=iH(),U=oH(),q=sH(),te=FL(),ie=Ue(),se=h2(),Ce=wy(),je=uH(),Me=cH(),re=fH(),Ie=pL(),de=dH(),fe=hH(),K=Cy(),ne=p2(),me=d2(),B=pH(),j=gH(),G=f2(),H=Mn(),J=mH(),X=yH(),Z=wL();var le;(function(Se){Se[Se.UNICODE_BMP=0]="UNICODE_BMP",Se[Se.UNICODE_SMP=1]="UNICODE_SMP"})(le||(le={}));let xe=class ct{constructor(oe){oe===void 0&&(oe=a.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=oe}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(oe,ae){let Ee=ct.SUPPORTED_UUIDS.findIndex(Oe=>Oe.equals(oe));return Ee<0?!1:ct.SUPPORTED_UUIDS.findIndex(Oe=>Oe.equals(ae))>=Ee}static getUnicodeDeserializer(oe){return oe===0?{readUnicode:(ae,Ee)=>ct.toInt(ae[Ee]),size:1}:{readUnicode:(ae,Ee)=>ct.toInt32(ae,Ee),size:2}}deserialize(oe){oe=oe.slice(0);for(let Le=1;Le<oe.length;Le++)oe[Le]=oe[Le]-2&65535;let ae=0,Ee=ct.toInt(oe[ae++]);if(Ee!==ct.SERIALIZED_VERSION){let Le=`Could not deserialize ATN with version ${Ee} (expected ${ct.SERIALIZED_VERSION}).`;throw new Error(Le)}let Oe=ct.toUUID(oe,ae);if(ae+=8,ct.SUPPORTED_UUIDS.findIndex(Le=>Le.equals(Oe))<0){let Le=`Could not deserialize ATN with UUID ${Oe} (expected ${ct.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(Le)}let Be=ct.isFeatureSupported(ct.ADDED_LEXER_ACTIONS,Oe),Ge=ct.toInt(oe[ae++]),ye=ct.toInt(oe[ae++]),Fe=new s.ATN(Ge,ye),Qe=[],yt=[],ht=ct.toInt(oe[ae++]);for(let Le=0;Le<ht;Le++){let rt=ct.toInt(oe[ae++]);if(rt===c.ATNStateType.INVALID_TYPE){Fe.addState(new T.InvalidState);continue}let mt=ct.toInt(oe[ae++]);mt===65535&&(mt=-1);let At=this.stateFactory(rt,mt);if(rt===c.ATNStateType.LOOP_END){let Dt=ct.toInt(oe[ae++]);Qe.push([At,Dt])}else if(At instanceof x.BlockStartState){let Dt=ct.toInt(oe[ae++]);yt.push([At,Dt])}Fe.addState(At)}for(let Le of Qe)Le[0].loopBackState=Fe.states[Le[1]];for(let Le of yt)Le[0].endState=Fe.states[Le[1]];let pe=ct.toInt(oe[ae++]);for(let Le=0;Le<pe;Le++){let rt=ct.toInt(oe[ae++]);Fe.states[rt].nonGreedy=!0}let Ne=ct.toInt(oe[ae++]);for(let Le=0;Le<Ne;Le++){let rt=ct.toInt(oe[ae++]);Fe.states[rt].sll=!0}let Ye=ct.toInt(oe[ae++]);for(let Le=0;Le<Ye;Le++){let rt=ct.toInt(oe[ae++]);Fe.states[rt].isPrecedenceRule=!0}let qe=ct.toInt(oe[ae++]);Fe.grammarType===0&&(Fe.ruleToTokenType=new Int32Array(qe)),Fe.ruleToStartState=new Array(qe);for(let Le=0;Le<qe;Le++){let rt=ct.toInt(oe[ae++]),mt=Fe.states[rt];if(mt.leftFactored=ct.toInt(oe[ae++])!==0,Fe.ruleToStartState[Le]=mt,Fe.grammarType===0){let At=ct.toInt(oe[ae++]);At===65535&&(At=H.Token.EOF),Fe.ruleToTokenType[Le]=At,ct.isFeatureSupported(ct.ADDED_LEXER_ACTIONS,Oe)||ct.toInt(oe[ae++])}}Fe.ruleToStopState=new Array(qe);for(let Le of Fe.states)Le instanceof K.RuleStopState&&(Fe.ruleToStopState[Le.ruleIndex]=Le,Fe.ruleToStartState[Le.ruleIndex].stopState=Le);let tt=ct.toInt(oe[ae++]);for(let Le=0;Le<tt;Le++){let rt=ct.toInt(oe[ae++]);Fe.modeToStartState.push(Fe.states[rt])}Fe.modeToDFA=new Array(tt);for(let Le=0;Le<tt;Le++)Fe.modeToDFA[Le]=new E.DFA(Fe.modeToStartState[Le]);let ft=[];ae=this.deserializeSets(oe,ae,ft,ct.getUnicodeDeserializer(0)),ct.isFeatureSupported(ct.ADDED_UNICODE_SMP,Oe)&&(ae=this.deserializeSets(oe,ae,ft,ct.getUnicodeDeserializer(1)));let bt=ct.toInt(oe[ae++]);for(let Le=0;Le<bt;Le++){let rt=ct.toInt(oe[ae]),mt=ct.toInt(oe[ae+1]),At=ct.toInt(oe[ae+2]),Dt=ct.toInt(oe[ae+3]),An=ct.toInt(oe[ae+4]),Ln=ct.toInt(oe[ae+5]),Yn=this.edgeFactory(Fe,At,rt,mt,Dt,An,Ln,ft);Fe.states[rt].addTransition(Yn),ae+=6}let jt=new r.Array2DHashSet({hashCode:Le=>Le.stopState^Le.returnState^Le.outermostPrecedenceReturn,equals:(Le,rt)=>Le.stopState===rt.stopState&&Le.returnState===rt.returnState&&Le.outermostPrecedenceReturn===rt.outermostPrecedenceReturn}),Ot=[];for(let Le of Fe.states){let rt=Le.ruleIndex>=0&&Fe.ruleToStartState[Le.ruleIndex].leftFactored;for(let mt=0;mt<Le.numberOfTransitions;mt++){let At=Le.transition(mt);if(!(At instanceof ne.RuleTransition))continue;let Dt=At;if(!Fe.ruleToStartState[Dt.target.ruleIndex].leftFactored&&rt)continue;let Ln=-1;Fe.ruleToStartState[Dt.target.ruleIndex].isPrecedenceRule&&Dt.precedence===0&&(Ln=Dt.target.ruleIndex);let Yn={stopState:Dt.target.ruleIndex,returnState:Dt.followState.stateNumber,outermostPrecedenceReturn:Ln};jt.add(Yn)&&Ot.push(Yn)}}for(let Le of Ot){let rt=new w.EpsilonTransition(Fe.states[Le.returnState],Le.outermostPrecedenceReturn);Fe.ruleToStopState[Le.stopState].addTransition(rt)}for(let Le of Fe.states){if(Le instanceof x.BlockStartState){if(Le.endState===void 0)throw new Error("IllegalStateException");if(Le.endState.startState!==void 0)throw new Error("IllegalStateException");Le.endState.startState=Le}if(Le instanceof Me.PlusLoopbackState){let rt=Le;for(let mt=0;mt<rt.numberOfTransitions;mt++){let At=rt.transition(mt).target;At instanceof je.PlusBlockStartState&&(At.loopBackState=rt)}}else if(Le instanceof j.StarLoopbackState){let rt=Le;for(let mt=0;mt<rt.numberOfTransitions;mt++){let At=rt.transition(mt).target;At instanceof G.StarLoopEntryState&&(At.loopBackState=rt)}}}let un=ct.toInt(oe[ae++]);for(let Le=1;Le<=un;Le++){let rt=ct.toInt(oe[ae++]),mt=Fe.states[rt];Fe.decisionToState.push(mt),mt.decision=Le-1}if(Fe.grammarType===0)if(Be){Fe.lexerActions=new Array(ct.toInt(oe[ae++]));for(let Le=0;Le<Fe.lexerActions.length;Le++){let rt=ct.toInt(oe[ae++]),mt=ct.toInt(oe[ae++]);mt===65535&&(mt=-1);let At=ct.toInt(oe[ae++]);At===65535&&(At=-1);let Dt=this.lexerActionFactory(rt,mt,At);Fe.lexerActions[Le]=Dt}}else{let Le=[];for(let rt of Fe.states)for(let mt=0;mt<rt.numberOfTransitions;mt++){let At=rt.transition(mt);if(!(At instanceof n.ActionTransition))continue;let Dt=At.ruleIndex,An=At.actionIndex,Ln=new I.LexerCustomAction(Dt,An);rt.setTransition(mt,new n.ActionTransition(At.target,Dt,Le.length,!1)),Le.push(Ln)}Fe.lexerActions=Le}this.markPrecedenceDecisions(Fe),Fe.decisionToDFA=new Array(un);for(let Le=0;Le<un;Le++)Fe.decisionToDFA[Le]=new E.DFA(Fe.decisionToState[Le],Le);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(Fe),this.deserializationOptions.isGenerateRuleBypassTransitions&&Fe.grammarType===1){Fe.ruleToTokenType=new Int32Array(Fe.ruleToStartState.length);for(let Le=0;Le<Fe.ruleToStartState.length;Le++)Fe.ruleToTokenType[Le]=Fe.maxTokenType+Le+1;for(let Le=0;Le<Fe.ruleToStartState.length;Le++){let rt=new h.BasicBlockStartState;rt.ruleIndex=Le,Fe.addState(rt);let mt=new m.BlockEndState;mt.ruleIndex=Le,Fe.addState(mt),rt.endState=mt,Fe.defineDecisionState(rt),mt.startState=rt;let At,Dt;if(Fe.ruleToStartState[Le].isPrecedenceRule){At=void 0;for(let Ln of Fe.states){if(Ln.ruleIndex!==Le||!(Ln instanceof G.StarLoopEntryState))continue;let Yn=Ln.transition(Ln.numberOfTransitions-1).target;if(Yn instanceof te.LoopEndState&&Yn.epsilonOnlyTransitions&&Yn.transition(0).target instanceof K.RuleStopState){At=Ln;break}}if(!At)throw new Error("Couldn't identify final state of the precedence rule prefix section.");Dt=At.loopBackState.transition(0)}else At=Fe.ruleToStopState[Le];for(let Ln of Fe.states)for(let Yn=0;Yn<Ln.numberOfTransitions;Yn++){let Ur=Ln.transition(Yn);Ur!==Dt&&Ur.target===At&&(Ur.target=mt)}for(;Fe.ruleToStartState[Le].numberOfTransitions>0;){let Ln=Fe.ruleToStartState[Le].removeTransition(Fe.ruleToStartState[Le].numberOfTransitions-1);rt.addTransition(Ln)}Fe.ruleToStartState[Le].addTransition(new w.EpsilonTransition(rt)),mt.addTransition(new w.EpsilonTransition(At));let An=new g.BasicState;Fe.addState(An),An.addTransition(new d.AtomTransition(mt,Fe.ruleToTokenType[Le])),rt.addTransition(new w.EpsilonTransition(An))}this.deserializationOptions.isVerifyATN&&this.verifyATN(Fe)}if(this.deserializationOptions.isOptimize){for(;;){let Le=0;Le+=ct.inlineSetRules(Fe),Le+=ct.combineChainedEpsilons(Fe);let rt=Fe.grammarType===0;if(Le+=ct.optimizeSets(Fe,rt),Le===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(Fe)}return ct.identifyTailCalls(Fe),Fe}deserializeSets(oe,ae,Ee,Oe){let Be=ct.toInt(oe[ae++]);for(let Ge=0;Ge<Be;Ge++){let ye=ct.toInt(oe[ae]);ae++;let Fe=new C.IntervalSet;Ee.push(Fe),ct.toInt(oe[ae++])!==0&&Fe.add(-1);for(let yt=0;yt<ye;yt++){let ht=Oe.readUnicode(oe,ae);ae+=Oe.size;let pe=Oe.readUnicode(oe,ae);ae+=Oe.size,Fe.add(ht,pe)}}return ae}markPrecedenceDecisions(oe){let ae=new Map;for(let Ee of oe.states)if(Ee instanceof G.StarLoopEntryState&&oe.ruleToStartState[Ee.ruleIndex].isPrecedenceRule){let Oe=Ee.transition(Ee.numberOfTransitions-1).target;Oe instanceof te.LoopEndState&&Oe.epsilonOnlyTransitions&&Oe.transition(0).target instanceof K.RuleStopState&&(ae.set(Ee.ruleIndex,Ee),Ee.precedenceRuleDecision=!0,Ee.precedenceLoopbackStates=new p.BitSet(oe.states.length))}for(let Ee of ae)for(let Oe of oe.ruleToStopState[Ee[0]].getTransitions())Oe.serializationType!==1||Oe.outermostPrecedenceReturn!==-1||Ee[1].precedenceLoopbackStates.set(Oe.target.stateNumber)}verifyATN(oe){for(let ae of oe.states)if(this.checkCondition(ae!==void 0,"ATN states should not be undefined."),ae.stateType!==c.ATNStateType.INVALID_TYPE){if(this.checkCondition(ae.onlyHasEpsilonTransitions||ae.numberOfTransitions<=1),ae instanceof je.PlusBlockStartState&&this.checkCondition(ae.loopBackState!==void 0),ae instanceof G.StarLoopEntryState){let Ee=ae;if(this.checkCondition(Ee.loopBackState!==void 0),this.checkCondition(Ee.numberOfTransitions===2),Ee.transition(0).target instanceof B.StarBlockStartState)this.checkCondition(Ee.transition(1).target instanceof te.LoopEndState),this.checkCondition(!Ee.nonGreedy);else if(Ee.transition(0).target instanceof te.LoopEndState)this.checkCondition(Ee.transition(1).target instanceof B.StarBlockStartState),this.checkCondition(Ee.nonGreedy);else throw new Error("IllegalStateException")}if(ae instanceof j.StarLoopbackState&&(this.checkCondition(ae.numberOfTransitions===1),this.checkCondition(ae.transition(0).target instanceof G.StarLoopEntryState)),ae instanceof te.LoopEndState&&this.checkCondition(ae.loopBackState!==void 0),ae instanceof fe.RuleStartState&&this.checkCondition(ae.stopState!==void 0),ae instanceof x.BlockStartState&&this.checkCondition(ae.endState!==void 0),ae instanceof m.BlockEndState&&this.checkCondition(ae.startState!==void 0),ae instanceof b.DecisionState){let Ee=ae;this.checkCondition(Ee.numberOfTransitions<=1||Ee.decision>=0)}else this.checkCondition(ae.numberOfTransitions<=1||ae instanceof K.RuleStopState)}}checkCondition(oe,ae){if(!oe)throw new Error("IllegalStateException: "+ae)}static inlineSetRules(oe){let ae=0,Ee=new Array(oe.ruleToStartState.length);for(let Oe=0;Oe<oe.ruleToStartState.length;Oe++){let Ge=oe.ruleToStartState[Oe];for(;Ge.onlyHasEpsilonTransitions&&Ge.numberOfOptimizedTransitions===1&&Ge.getOptimizedTransition(0).serializationType===1;)Ge=Ge.getOptimizedTransition(0).target;if(Ge.numberOfOptimizedTransitions!==1)continue;let ye=Ge.getOptimizedTransition(0),Fe=ye.target;if(!(ye.isEpsilon||!Fe.onlyHasEpsilonTransitions||Fe.numberOfOptimizedTransitions!==1||!(Fe.getOptimizedTransition(0).target instanceof K.RuleStopState)))switch(ye.serializationType){case 5:case 2:case 7:Ee[Oe]=ye;break;case 8:case 9:continue;default:continue}}for(let Oe of oe.states){if(Oe.ruleIndex<0)continue;let Be;for(let Ge=0;Ge<Oe.numberOfOptimizedTransitions;Ge++){let ye=Oe.getOptimizedTransition(Ge);if(!(ye instanceof ne.RuleTransition)){Be!==void 0&&Be.push(ye);continue}let Fe=ye,Qe=Ee[Fe.target.ruleIndex];if(Qe===void 0){Be!==void 0&&Be.push(ye);continue}if(Be===void 0){Be=[];for(let pe=0;pe<Ge;pe++)Be.push(Oe.getOptimizedTransition(Ge))}ae++;let yt=Fe.followState,ht=new g.BasicState;switch(ht.setRuleIndex(yt.ruleIndex),oe.addState(ht),Be.push(new w.EpsilonTransition(ht)),Qe.serializationType){case 5:ht.addTransition(new d.AtomTransition(yt,Qe._label));break;case 2:ht.addTransition(new de.RangeTransition(yt,Qe.from,Qe.to));break;case 7:ht.addTransition(new me.SetTransition(yt,Qe.label));break;default:throw new Error("UnsupportedOperationException")}}if(Be!==void 0){if(Oe.isOptimized)for(;Oe.numberOfOptimizedTransitions>0;)Oe.removeOptimizedTransition(Oe.numberOfOptimizedTransitions-1);for(let Ge of Be)Oe.addOptimizedTransition(Ge)}}return Ce.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+ae+" rule invocations by inlining sets."),ae}static combineChainedEpsilons(oe){let ae=0;for(let Ee of oe.states){if(!Ee.onlyHasEpsilonTransitions||Ee instanceof K.RuleStopState)continue;let Oe;e:for(let Be=0;Be<Ee.numberOfOptimizedTransitions;Be++){let Ge=Ee.getOptimizedTransition(Be),ye=Ge.target;if(Ge.serializationType!==1||Ge.outermostPrecedenceReturn!==-1||ye.stateType!==c.ATNStateType.BASIC||!ye.onlyHasEpsilonTransitions){Oe!==void 0&&Oe.push(Ge);continue e}for(let Fe=0;Fe<ye.numberOfOptimizedTransitions;Fe++)if(ye.getOptimizedTransition(Fe).serializationType!==1||ye.getOptimizedTransition(Fe).outermostPrecedenceReturn!==-1){Oe!==void 0&&Oe.push(Ge);continue e}if(ae++,Oe===void 0){Oe=[];for(let Fe=0;Fe<Be;Fe++)Oe.push(Ee.getOptimizedTransition(Fe))}for(let Fe=0;Fe<ye.numberOfOptimizedTransitions;Fe++){let Qe=ye.getOptimizedTransition(Fe).target;Oe.push(new w.EpsilonTransition(Qe))}}if(Oe!==void 0){if(Ee.isOptimized)for(;Ee.numberOfOptimizedTransitions>0;)Ee.removeOptimizedTransition(Ee.numberOfOptimizedTransitions-1);for(let Be of Oe)Ee.addOptimizedTransition(Be)}}return Ce.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+ae+" transitions by combining chained epsilon transitions."),ae}static optimizeSets(oe,ae){if(ae)return 0;let Ee=0,Oe=oe.decisionToState;for(let Be of Oe){let Ge=new C.IntervalSet;for(let pe=0;pe<Be.numberOfOptimizedTransitions;pe++){let Ne=Be.getOptimizedTransition(pe);if(!(Ne instanceof w.EpsilonTransition)||Ne.target.numberOfOptimizedTransitions!==1)continue;let Ye=Ne.target.getOptimizedTransition(0);Ye.target instanceof m.BlockEndState&&(Ye instanceof se.NotSetTransition||(Ye instanceof d.AtomTransition||Ye instanceof de.RangeTransition||Ye instanceof me.SetTransition)&&Ge.add(pe))}if(Ge.size<=1)continue;let ye=[];for(let pe=0;pe<Be.numberOfOptimizedTransitions;pe++)Ge.contains(pe)||ye.push(Be.getOptimizedTransition(pe));let Fe=Be.getOptimizedTransition(Ge.minElement).target.getOptimizedTransition(0).target,Qe=new C.IntervalSet;for(let pe of Ge.intervals)for(let Ne=pe.a;Ne<=pe.b;Ne++){let Ye=Be.getOptimizedTransition(Ne).target.getOptimizedTransition(0);if(Ye instanceof se.NotSetTransition)throw new Error("Not yet implemented.");Qe.addAll(Ye.label)}let yt;if(Qe.intervals.length===1)if(Qe.size===1)yt=new d.AtomTransition(Fe,Qe.minElement);else{let pe=Qe.intervals[0];yt=new de.RangeTransition(Fe,pe.a,pe.b)}else yt=new me.SetTransition(Fe,Qe);let ht=new g.BasicState;if(ht.setRuleIndex(Be.ruleIndex),oe.addState(ht),ht.addTransition(yt),ye.push(new w.EpsilonTransition(ht)),Ee+=Be.numberOfOptimizedTransitions-ye.length,Be.isOptimized)for(;Be.numberOfOptimizedTransitions>0;)Be.removeOptimizedTransition(Be.numberOfOptimizedTransitions-1);for(let pe of ye)Be.addOptimizedTransition(pe)}return Ce.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+Ee+" paths by collapsing sets."),Ee}static identifyTailCalls(oe){for(let ae of oe.states){for(let Ee=0;Ee<ae.numberOfTransitions;Ee++){let Oe=ae.transition(Ee);Oe instanceof ne.RuleTransition&&(Oe.tailCall=this.testTailCall(oe,Oe,!1),Oe.optimizedTailCall=this.testTailCall(oe,Oe,!0))}if(ae.isOptimized)for(let Ee=0;Ee<ae.numberOfOptimizedTransitions;Ee++){let Oe=ae.getOptimizedTransition(Ee);Oe instanceof ne.RuleTransition&&(Oe.tailCall=this.testTailCall(oe,Oe,!1),Oe.optimizedTailCall=this.testTailCall(oe,Oe,!0))}}}static testTailCall(oe,ae,Ee){if(!Ee&&ae.tailCall||Ee&&ae.optimizedTailCall)return!0;let Oe=new p.BitSet(oe.states.length),Be=[];for(Be.push(ae.followState);;){let Ge=Be.pop();if(!Ge)break;if(Oe.get(Ge.stateNumber)||Ge instanceof K.RuleStopState)continue;if(!Ge.onlyHasEpsilonTransitions)return!1;let ye=Ee?Ge.numberOfOptimizedTransitions:Ge.numberOfTransitions;for(let Fe=0;Fe<ye;Fe++){let Qe=Ee?Ge.getOptimizedTransition(Fe):Ge.transition(Fe);if(Qe.serializationType!==1)return!1;Be.push(Qe.target)}}return!0}static toInt(oe){return oe}static toInt32(oe,ae){return(oe[ae]|oe[ae+1]<<16)>>>0}static toUUID(oe,ae){let Ee=ct.toInt32(oe,ae),Oe=ct.toInt32(oe,ae+2),Be=ct.toInt32(oe,ae+4),Ge=ct.toInt32(oe,ae+6);return new X.UUID(Ge,Be,Oe,Ee)}edgeFactory(oe,ae,Ee,Oe,Be,Ge,ye,Fe){let Qe=oe.states[Oe];switch(ae){case 1:return new w.EpsilonTransition(Qe);case 2:return ye!==0?new de.RangeTransition(Qe,H.Token.EOF,Ge):new de.RangeTransition(Qe,Be,Ge);case 3:return new ne.RuleTransition(oe.states[Be],Ge,ye,Qe);case 4:return new Ie.PredicateTransition(Qe,Be,Ge,ye!==0);case 10:return new re.PrecedencePredicateTransition(Qe,Be);case 5:return ye!==0?new d.AtomTransition(Qe,H.Token.EOF):new d.AtomTransition(Qe,Be);case 6:return new n.ActionTransition(Qe,Be,Ge,ye!==0);case 7:return new me.SetTransition(Qe,Fe[Be]);case 8:return new se.NotSetTransition(Qe,Fe[Be]);case 9:return new Z.WildcardTransition(Qe)}throw new Error("The specified transition type is not valid.")}stateFactory(oe,ae){let Ee;switch(oe){case c.ATNStateType.INVALID_TYPE:return new T.InvalidState;case c.ATNStateType.BASIC:Ee=new g.BasicState;break;case c.ATNStateType.RULE_START:Ee=new fe.RuleStartState;break;case c.ATNStateType.BLOCK_START:Ee=new h.BasicBlockStartState;break;case c.ATNStateType.PLUS_BLOCK_START:Ee=new je.PlusBlockStartState;break;case c.ATNStateType.STAR_BLOCK_START:Ee=new B.StarBlockStartState;break;case c.ATNStateType.TOKEN_START:Ee=new J.TokensStartState;break;case c.ATNStateType.RULE_STOP:Ee=new K.RuleStopState;break;case c.ATNStateType.BLOCK_END:Ee=new m.BlockEndState;break;case c.ATNStateType.STAR_LOOP_BACK:Ee=new j.StarLoopbackState;break;case c.ATNStateType.STAR_LOOP_ENTRY:Ee=new G.StarLoopEntryState;break;case c.ATNStateType.PLUS_LOOP_BACK:Ee=new Me.PlusLoopbackState;break;case c.ATNStateType.LOOP_END:Ee=new te.LoopEndState;break;default:let Oe=`The specified state type ${oe} is not valid.`;throw new Error(Oe)}return Ee.ruleIndex=ae,Ee}lexerActionFactory(oe,ae,Ee){switch(oe){case 0:return new _.LexerChannelAction(ae);case 1:return new I.LexerCustomAction(ae,Ee);case 2:return new O.LexerModeAction(ae);case 3:return L.LexerMoreAction.INSTANCE;case 4:return k.LexerPopModeAction.INSTANCE;case 5:return new V.LexerPushModeAction(ae);case 6:return U.LexerSkipAction.INSTANCE;case 7:return new q.LexerTypeAction(ae);default:let Oe=`The specified lexer action type ${oe} is not valid.`;throw new Error(Oe)}}};return xe.BASE_SERIALIZED_UUID=X.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),xe.ADDED_LEXER_ACTIONS=X.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),xe.ADDED_UNICODE_SMP=X.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),xe.SUPPORTED_UUIDS=[xe.BASE_SERIALIZED_UUID,xe.ADDED_LEXER_ACTIONS,xe.ADDED_UNICODE_SMP],xe.SERIALIZED_UUID=xe.ADDED_UNICODE_SMP,e([ie.NotNull],xe.prototype,"deserializationOptions",void 0),e([t(0,ie.NotNull)],xe.prototype,"deserialize",null),e([t(0,ie.NotNull)],xe.prototype,"markPrecedenceDecisions",null),e([ie.NotNull,t(0,ie.NotNull)],xe.prototype,"edgeFactory",null),Sl.ATNDeserializer=xe,Sl}var Ll={},yI;function vH(){if(yI)return Ll;yI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ll&&Ll.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g},t=Ll&&Ll.__param||function(s,a){return function(c,d){a(c,d,s)}};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.ParseInfo=void 0;const n=Ue();let r=class{constructor(a){this.atnSimulator=a}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let a=this.atnSimulator.getDecisionInfo(),c=[];for(let d=0;d<a.length;d++)a[d].LL_Fallback>0&&c.push(d);return c}getTotalTimeInPrediction(){let a=this.atnSimulator.getDecisionInfo(),c=0;for(let d of a)c+=d.timeInPrediction;return c}getTotalSLLLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),c=0;for(let d of a)c+=d.SLL_TotalLook;return c}getTotalLLLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),c=0;for(let d of a)c+=d.LL_TotalLook;return c}getTotalSLLATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),c=0;for(let d of a)c+=d.SLL_ATNTransitions;return c}getTotalLLATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),c=0;for(let d of a)c+=d.LL_ATNTransitions;return c}getTotalATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),c=0;for(let d of a)c+=d.SLL_ATNTransitions,c+=d.LL_ATNTransitions;return c}getDFASize(a){if(a)return this.atnSimulator.atn.decisionToDFA[a].states.size;{let c=0,d=this.atnSimulator.atn.decisionToDFA;for(let h=0;h<d.length;h++)c+=this.getDFASize(h);return c}}};return e([n.NotNull],r.prototype,"getDecisionInfo",null),e([n.NotNull],r.prototype,"getLLDecisions",null),r=e([t(0,n.NotNull)],r),Ll.ParseInfo=r,Ll}var wd={},vI;function UL(){if(vI)return wd;vI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wd&&wd.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g};Object.defineProperty(wd,"__esModule",{value:!0}),wd.ProxyParserErrorListener=void 0;const t=c2(),n=Ue();let r=class extends t.ProxyErrorListener{constructor(a){super(a)}reportAmbiguity(a,c,d,h,g,p,m){this.getDelegates().forEach(x=>{x.reportAmbiguity&&x.reportAmbiguity(a,c,d,h,g,p,m)})}reportAttemptingFullContext(a,c,d,h,g,p){this.getDelegates().forEach(m=>{m.reportAttemptingFullContext&&m.reportAttemptingFullContext(a,c,d,h,g,p)})}reportContextSensitivity(a,c,d,h,g,p){this.getDelegates().forEach(m=>{m.reportContextSensitivity&&m.reportContextSensitivity(a,c,d,h,g,p)})}};return e([n.Override],r.prototype,"reportAmbiguity",null),e([n.Override],r.prototype,"reportAttemptingFullContext",null),e([n.Override],r.prototype,"reportContextSensitivity",null),wd.ProxyParserErrorListener=r,wd}var Rd={},_E={},IE={},Fl={},xI;function xH(){if(xI)return Fl;xI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.isSupplementaryCodePoint=Fl.isLowSurrogate=Fl.isHighSurrogate=void 0;function e(r){return r>=55296&&r<=56319}Fl.isHighSurrogate=e;function t(r){return r>=56320&&r<=57343}Fl.isLowSurrogate=t;function n(r){return r>=65536}return Fl.isSupplementaryCodePoint=n,Fl}var bI;function VL(){return bI||(bI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CodePointBuffer=void 0;const t=xi(),n=xH();class r{constructor(a,c){this.buffer=a,this._position=0,this._size=c}static withArray(a){return new r(a,a.length)}get position(){return this._position}set position(a){if(a<0||a>this._size)throw new RangeError;this._position=a}get remaining(){return this._size-this.position}get(a){return this.buffer[a]}array(){return this.buffer.slice(0,this._size)}static builder(a){return new r.Builder(a)}}e.CodePointBuffer=r,function(s){let a;(function(d){d[d.BYTE=0]="BYTE",d[d.CHAR=1]="CHAR",d[d.INT=2]="INT"})(a||(a={}));class c{constructor(h){this.type=0,this.buffer=new Uint8Array(h),this.prevHighSurrogate=-1,this.position=0}build(){return new s(this.buffer,this.position)}static roundUpToNextPowerOfTwo(h){let g=32-Math.clz32(h-1);return Math.pow(2,g)}ensureRemaining(h){switch(this.type){case 0:if(this.buffer.length-this.position<h){let g=c.roundUpToNextPowerOfTwo(this.buffer.length+h),p=new Uint8Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 1:if(this.buffer.length-this.position<h){let g=c.roundUpToNextPowerOfTwo(this.buffer.length+h),p=new Uint16Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 2:if(this.buffer.length-this.position<h){let g=c.roundUpToNextPowerOfTwo(this.buffer.length+h),p=new Int32Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break}}append(h){this.ensureRemaining(h.length),this.appendArray(h)}appendArray(h){switch(this.type){case 0:this.appendArrayByte(h);break;case 1:this.appendArrayChar(h);break;case 2:this.appendArrayInt(h);break}}appendArrayByte(h){t(this.prevHighSurrogate===-1);let g=h,p=0,m=h.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];if(E<=255)x[b]=E;else if(h=h.subarray(p,m),this.position=b,n.isHighSurrogate(E)){this.byteToIntBuffer(h.length),this.appendArrayInt(h);return}else{this.byteToCharBuffer(h.length),this.appendArrayChar(h);return}p++,b++}this.position=b}appendArrayChar(h){t(this.prevHighSurrogate===-1);let g=h,p=0,m=h.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];if(!n.isHighSurrogate(E))x[b]=E;else{h=h.subarray(p,m),this.position=b,this.charToIntBuffer(h.length),this.appendArrayInt(h);return}p++,b++}this.position=b}appendArrayInt(h){let g=h,p=0,m=h.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];p++,this.prevHighSurrogate!==-1?n.isLowSurrogate(E)?(x[b]=String.fromCharCode(this.prevHighSurrogate,E).codePointAt(0),b++,this.prevHighSurrogate=-1):(x[b]=this.prevHighSurrogate,b++,n.isHighSurrogate(E)?this.prevHighSurrogate=E:(x[b]=E,b++,this.prevHighSurrogate=-1)):n.isHighSurrogate(E)?this.prevHighSurrogate=E:(x[b]=E,b++)}this.prevHighSurrogate!==-1&&(x[b]=this.prevHighSurrogate,b++),this.position=b}byteToCharBuffer(h){let g=new Uint16Array(Math.max(this.position+h,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=g}byteToIntBuffer(h){let g=new Int32Array(Math.max(this.position+h,this.buffer.length>>2));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}charToIntBuffer(h){let g=new Int32Array(Math.max(this.position+h,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}}s.Builder=c}(r=e.CodePointBuffer||(e.CodePointBuffer={}))}(IE)),IE}var Td={},SI;function $L(){if(SI)return Td;SI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Td&&Td.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(Td,"__esModule",{value:!0}),Td.CodePointCharStream=void 0;const t=xi(),n=$c(),r=Bi(),s=Ue();let a=class GL{constructor(d,h,g,p){t(h===0),this._array=d,this._size=g,this._name=p,this._position=0}get internalStorage(){return this._array}static fromBuffer(d,h){return(h===void 0||h.length===0)&&(h=n.IntStream.UNKNOWN_SOURCE_NAME),new GL(d.array(),d.position,d.remaining,h)}consume(){if(this._size-this._position===0)throw t(this.LA(1)===n.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(d){}seek(d){this._position=d}get sourceName(){return this._name}toString(){return this.getText(r.Interval.of(0,this.size-1))}LA(d){let h;switch(Math.sign(d)){case-1:return h=this.index+d,h<0?n.IntStream.EOF:this._array[h];case 0:return 0;case 1:return h=this.index+d-1,h>=this.size?n.IntStream.EOF:this._array[h]}throw new RangeError("Not reached")}getText(d){const h=Math.min(d.a,this.size),g=Math.min(d.b-d.a+1,this.size-h);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(h,h+g))):String.fromCharCode(...Array.from(this._array.subarray(h,h+g)))}};return e([s.Override],a.prototype,"consume",null),e([s.Override],a.prototype,"index",null),e([s.Override],a.prototype,"size",null),e([s.Override],a.prototype,"mark",null),e([s.Override],a.prototype,"release",null),e([s.Override],a.prototype,"seek",null),e([s.Override],a.prototype,"sourceName",null),e([s.Override],a.prototype,"toString",null),e([s.Override],a.prototype,"LA",null),e([s.Override],a.prototype,"getText",null),Td.CodePointCharStream=a,Td}var AI;function v2(){return AI||(AI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CharStreams=void 0;const t=VL(),n=$L(),r=$c();(function(s){function a(c,d){(d===void 0||d.length===0)&&(d=r.IntStream.UNKNOWN_SOURCE_NAME);let h=t.CodePointBuffer.builder(c.length),g=new Uint16Array(c.length);for(let p=0;p<c.length;p++)g[p]=c.charCodeAt(p);return h.append(g),n.CodePointCharStream.fromBuffer(h.build(),d)}s.fromString=a})(e.CharStreams||(e.CharStreams={}))}(_E)),_E}var kl={},Bl={},EI;function HL(){if(EI)return Bl;EI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bl&&Bl.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E},t=Bl&&Bl.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.BufferedTokenStream=void 0;const n=xi(),r=Sy(),s=Bi(),a=Kc(),c=Ue(),d=Mn();let h=class{constructor(p){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,p==null)throw new Error("tokenSource cannot be null");this._tokenSource=p}get tokenSource(){return this._tokenSource}set tokenSource(p){this._tokenSource=p,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(p){}seek(p){this.lazyInit(),this.p=this.adjustSeekIndex(p)}get size(){return this.tokens.length}consume(){let p;if(this.p>=0?this.fetchedEOF?p=this.p<this.tokens.length-1:p=this.p<this.tokens.length:p=!1,!p&&this.LA(1)===d.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(p){n(p>=0);let m=p-this.tokens.length+1;return m>0?this.fetch(m)>=m:!0}fetch(p){if(this.fetchedEOF)return 0;for(let m=0;m<p;m++){let x=this.tokenSource.nextToken();if(this.isWritableToken(x)&&(x.tokenIndex=this.tokens.length),this.tokens.push(x),x.type===d.Token.EOF)return this.fetchedEOF=!0,m+1}return p}get(p){if(p<0||p>=this.tokens.length)throw new RangeError("token index "+p+" out of range 0.."+(this.tokens.length-1));return this.tokens[p]}getRange(p,m){if(p<0||m<0)return[];this.lazyInit();let x=new Array;m>=this.tokens.length&&(m=this.tokens.length-1);for(let b=p;b<=m;b++){let E=this.tokens[b];if(E.type===d.Token.EOF)break;x.push(E)}return x}LA(p){let m=this.LT(p);return m?m.type:d.Token.INVALID_TYPE}tryLB(p){if(!(this.p-p<0))return this.tokens[this.p-p]}LT(p){let m=this.tryLT(p);if(m===void 0)throw new RangeError("requested lookback index out of range");return m}tryLT(p){if(this.lazyInit(),p===0)throw new RangeError("0 is not a valid lookahead index");if(p<0)return this.tryLB(-p);let m=this.p+p-1;return this.sync(m),m>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[m]}adjustSeekIndex(p){return p}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(p,m,x){if(this.lazyInit(),p===void 0)return n(m===void 0&&x===void 0),this.tokens;if(m===void 0&&(m=this.tokens.length-1),p<0||m>=this.tokens.length||m<0||p>=this.tokens.length)throw new RangeError("start "+p+" or stop "+m+" not in 0.."+(this.tokens.length-1));if(p>m)return[];if(x===void 0)return this.tokens.slice(p,m+1);typeof x=="number"&&(x=new Set().add(x));let b=x,E=this.tokens.slice(p,m+1);return E=E.filter(w=>b.has(w.type)),E}nextTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;let x=this.tokens[p];for(;x.channel!==m;){if(x.type===d.Token.EOF)return p;p++,this.sync(p),x=this.tokens[p]}return p}previousTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;for(;p>=0;){let x=this.tokens[p];if(x.type===d.Token.EOF||x.channel===m)return p;p--}return p}getHiddenTokensToRight(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));let x=this.nextTokenOnChannel(p+1,a.Lexer.DEFAULT_TOKEN_CHANNEL),b,E=p+1;return x===-1?b=this.size-1:b=x,this.filterForChannel(E,b,m)}getHiddenTokensToLeft(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));if(p===0)return[];let x=this.previousTokenOnChannel(p-1,a.Lexer.DEFAULT_TOKEN_CHANNEL);if(x===p-1)return[];let b=x+1,E=p-1;return this.filterForChannel(b,E,m)}filterForChannel(p,m,x){let b=new Array;for(let E=p;E<=m;E++){let w=this.tokens[E];x===-1?w.channel!==a.Lexer.DEFAULT_TOKEN_CHANNEL&&b.push(w):w.channel===x&&b.push(w)}return b}get sourceName(){return this.tokenSource.sourceName}getText(p){p===void 0?p=s.Interval.of(0,this.size-1):p instanceof s.Interval||(p=p.sourceInterval);let m=p.a,x=p.b;if(m<0||x<0)return"";this.fill(),x>=this.tokens.length&&(x=this.tokens.length-1);let b="";for(let E=m;E<=x;E++){let w=this.tokens[E];if(w.type===d.Token.EOF)break;b+=w.text}return b.toString()}getTextFromRange(p,m){return this.isToken(p)&&this.isToken(m)?this.getText(s.Interval.of(p.tokenIndex,m.tokenIndex)):""}fill(){this.lazyInit();const p=1e3;for(;;)if(this.fetch(p)<p)return}isWritableToken(p){return p instanceof r.CommonToken}isToken(p){return p instanceof r.CommonToken}};return e([c.NotNull],h.prototype,"_tokenSource",void 0),e([c.Override],h.prototype,"tokenSource",null),e([c.Override],h.prototype,"index",null),e([c.Override],h.prototype,"mark",null),e([c.Override],h.prototype,"release",null),e([c.Override],h.prototype,"seek",null),e([c.Override],h.prototype,"size",null),e([c.Override],h.prototype,"consume",null),e([c.Override],h.prototype,"get",null),e([c.Override],h.prototype,"LA",null),e([c.NotNull,c.Override],h.prototype,"LT",null),e([c.Override],h.prototype,"sourceName",null),e([c.NotNull,c.Override],h.prototype,"getText",null),e([c.NotNull,c.Override],h.prototype,"getTextFromRange",null),h=e([t(0,c.NotNull)],h),Bl.BufferedTokenStream=h,Bl}var CI;function x2(){if(CI)return kl;CI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kl&&kl.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=kl&&kl.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(kl,"__esModule",{value:!0}),kl.CommonTokenStream=void 0;const n=HL(),r=Ue(),s=Mn();let a=class extends n.BufferedTokenStream{constructor(d,h=s.Token.DEFAULT_CHANNEL){super(d),this.channel=h}adjustSeekIndex(d){return this.nextTokenOnChannel(d,this.channel)}tryLB(d){if(this.p-d<0)return;let h=this.p,g=1;for(;g<=d&&h>0;)h=this.previousTokenOnChannel(h-1,this.channel),g++;if(!(h<0))return this.tokens[h]}tryLT(d){if(this.lazyInit(),d===0)throw new RangeError("0 is not a valid lookahead index");if(d<0)return this.tryLB(-d);let h=this.p,g=1;for(;g<d;)this.sync(h+1)&&(h=this.nextTokenOnChannel(h+1,this.channel)),g++;return this.tokens[h]}getNumberOfOnChannelTokens(){let d=0;this.fill();for(let h of this.tokens)if(h.channel===this.channel&&d++,h.type===s.Token.EOF)break;return d}};return e([r.Override],a.prototype,"adjustSeekIndex",null),e([r.Override],a.prototype,"tryLB",null),e([r.Override],a.prototype,"tryLT",null),a=e([t(0,r.NotNull)],a),kl.CommonTokenStream=a,kl}var jl={},wI;function WL(){if(wI)return jl;wI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jl&&jl.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=jl&&jl.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(jl,"__esModule",{value:!0}),jl.ListTokenSource=void 0;const n=l2(),r=Ue(),s=Mn();let a=class{constructor(d,h){if(this.i=0,this._factory=n.CommonTokenFactory.DEFAULT,d==null)throw new Error("tokens cannot be null");this.tokens=d,this._sourceName=h}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let d=this.tokens[this.tokens.length-1],h=d.text;if(h!=null){let g=h.lastIndexOf(`
`);if(g>=0)return h.length-g-1}return d.charPositionInLine+d.stopIndex-d.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let h=-1;if(this.tokens.length>0){let p=this.tokens[this.tokens.length-1].stopIndex;p!==-1&&(h=p+1)}let g=Math.max(-1,h-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},s.Token.EOF,"EOF",s.Token.DEFAULT_CHANNEL,h,g,this.line,this.charPositionInLine)}return this.eofToken}let d=this.tokens[this.i];return this.i===this.tokens.length-1&&d.type===s.Token.EOF&&(this.eofToken=d),this.i++,d}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let d=this.tokens[this.tokens.length-1],h=d.line,g=d.text;if(g!=null)for(let p=0;p<g.length;p++)g.charAt(p)===`
`&&h++;return h}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let d=this.inputStream;return d!=null?d.sourceName:"List"}set tokenFactory(d){this._factory=d}get tokenFactory(){return this._factory}};return e([r.Override],a.prototype,"charPositionInLine",null),e([r.Override],a.prototype,"nextToken",null),e([r.Override],a.prototype,"line",null),e([r.Override],a.prototype,"inputStream",null),e([r.Override],a.prototype,"sourceName",null),e([r.Override,r.NotNull,t(0,r.NotNull)],a.prototype,"tokenFactory",null),a=e([t(0,r.NotNull)],a),jl.ListTokenSource=a,jl}var I0={},RI;function bH(){if(RI)return I0;RI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(I0,"__esModule",{value:!0}),I0.MultiMap=void 0;let e=class extends Map{constructor(){super()}map(n,r){let s=super.get(n);s||(s=[],super.set(n,s)),s.push(r)}getPairs(){let n=[];return this.forEach((r,s)=>{r.forEach(a=>{n.push([s,a])})}),n}};return I0.MultiMap=e,I0}var O0={},TI;function YL(){if(TI)return O0;TI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(O0,"__esModule",{value:!0}),O0.ParseCancellationException=void 0;let e=class extends Error{constructor(n){super(n.message),this.cause=n,this.stack=n.stack}getCause(){return this.cause}};return O0.ParseCancellationException=e,O0}var zl={},Nd={},NI;function qL(){if(NI)return Nd;NI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nd&&Nd.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g};Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.InterpreterRuleContext=void 0;const t=Ue(),n=Cs();let r=class extends n.ParserRuleContext{constructor(a,c,d){d!==void 0?super(c,d):super(),this._ruleIndex=a}get ruleIndex(){return this._ruleIndex}};return e([t.Override],r.prototype,"ruleIndex",null),Nd.InterpreterRuleContext=r,Nd}var _I;function KL(){if(_I)return zl;_I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zl&&zl.__decorate||function(T,_,I,O){var L=arguments.length,k=L<3?_:O===null?O=Object.getOwnPropertyDescriptor(_,I):O,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(T,_,I,O);else for(var U=T.length-1;U>=0;U--)(V=T[U])&&(k=(L<3?V(k):L>3?V(_,I,k):V(_,I))||k);return L>3&&k&&Object.defineProperty(_,I,k),k},t=zl&&zl.__param||function(T,_){return function(I,O){_(I,O,T)}};Object.defineProperty(zl,"__esModule",{value:!0}),zl.ParserInterpreter=void 0;const n=mu(),r=zr(),s=qc(),a=cS(),c=fS(),d=qL(),h=FL(),g=Ue(),p=Ue(),m=Ty(),x=wy(),b=Hc(),E=f2(),w=Mn();let C=class UC extends m.Parser{constructor(_,I,O,L,k){if(super(_ instanceof UC?_.inputStream:k),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,_ instanceof UC){let V=_;this._grammarFileName=V._grammarFileName,this._atn=V._atn,this.pushRecursionContextStates=V.pushRecursionContextStates,this._ruleNames=V._ruleNames,this._vocabulary=V._vocabulary,this.interpreter=new x.ParserATNSimulator(this._atn,this)}else{I=I,O=O,L=L,this._grammarFileName=_,this._atn=L,this._ruleNames=O.slice(0),this._vocabulary=I,this.pushRecursionContextStates=new s.BitSet(L.states.length);for(let V of L.states)V instanceof E.StarLoopEntryState&&V.precedenceRuleDecision&&this.pushRecursionContextStates.set(V.stateNumber);this.interpreter=new x.ParserATNSimulator(L,this)}}reset(_){_===void 0?super.reset():super.reset(_),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(_){let I=this._atn.ruleToStartState[_];for(this._rootContext=this.createInterpreterRuleContext(void 0,n.ATNState.INVALID_STATE_NUMBER,_),I.isPrecedenceRule?this.enterRecursionRule(this._rootContext,I.stateNumber,_,0):this.enterRule(this._rootContext,I.stateNumber,_);;){let O=this.atnState;switch(O.stateType){case r.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(I.isPrecedenceRule){let L=this._ctx,k=this._parentContextStack.pop();return this.unrollRecursionContexts(k[0]),L}else return this.exitRule(),this._rootContext;this.visitRuleStopState(O);break;default:try{this.visitState(O)}catch(L){if(L instanceof b.RecognitionException)this.state=this._atn.ruleToStopState[O.ruleIndex].stateNumber,this.context.exception=L,this.errorHandler.reportError(this,L),this.recover(L);else throw L}break}}}enterRecursionRule(_,I,O,L){this._parentContextStack.push([this._ctx,_.invokingState]),super.enterRecursionRule(_,I,O,L)}get atnState(){return this._atn.states[this.state]}visitState(_){let I=1;_.numberOfTransitions>1&&(I=this.visitDecisionState(_));let O=_.transition(I-1);switch(O.serializationType){case 1:if(this.pushRecursionContextStates.get(_.stateNumber)&&!(O.target instanceof h.LoopEndState)){let te=this._parentContextStack[this._parentContextStack.length-1],ie=this.createInterpreterRuleContext(te[0],te[1],this._ctx.ruleIndex);this.pushNewRecursionContext(ie,this._atn.ruleToStartState[_.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(O._label);break;case 2:case 7:case 8:O.matches(this._input.LA(1),w.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let L=O.target,k=L.ruleIndex,V=this.createInterpreterRuleContext(this._ctx,_.stateNumber,k);L.isPrecedenceRule?this.enterRecursionRule(V,L.stateNumber,k,O.precedence):this.enterRule(V,O.target.stateNumber,k);break;case 4:let U=O;if(!this.sempred(this._ctx,U.ruleIndex,U.predIndex))throw new a.FailedPredicateException(this);break;case 6:let q=O;this.action(this._ctx,q.ruleIndex,q.actionIndex);break;case 10:if(!this.precpred(this._ctx,O.precedence)){let te=O.precedence;throw new a.FailedPredicateException(this,`precpred(_ctx, ${te})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=O.target.stateNumber}visitDecisionState(_){let I;this.errorHandler.sync(this);let O=_.decision;return O===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(I=this.overrideDecisionAlt,this.overrideDecisionReached=!0):I=this.interpreter.adaptivePredict(this._input,O,this._ctx),I}createInterpreterRuleContext(_,I,O){return new d.InterpreterRuleContext(O,_,I)}visitRuleStopState(_){if(this._atn.ruleToStartState[_.ruleIndex].isPrecedenceRule){let L=this._parentContextStack.pop();this.unrollRecursionContexts(L[0]),this.state=L[1]}else this.exitRule();let O=this._atn.states[this.state].transition(0);this.state=O.followState.stateNumber}addDecisionOverride(_,I,O){this.overrideDecision=_,this.overrideDecisionInputIndex=I,this.overrideDecisionAlt=O}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(_){let I=this._input.index;if(this.errorHandler.recover(this,_),this._input.index===I){let O=_.getOffendingToken();if(!O)throw new Error("Expected exception to have an offending token");let L=O.tokenSource,k=L!==void 0?L.inputStream:void 0,V={source:L,stream:k};if(_ instanceof c.InputMismatchException){let U=_.expectedTokens;if(U===void 0)throw new Error("Expected the exception to provide expected tokens");let q=w.Token.INVALID_TYPE;U.isNil||(q=U.minElement);let te=this.tokenFactory.create(V,q,O.text,w.Token.DEFAULT_CHANNEL,-1,-1,O.line,O.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,te))}else{O.tokenSource;let U=this.tokenFactory.create(V,w.Token.INVALID_TYPE,O.text,w.Token.DEFAULT_CHANNEL,-1,-1,O.line,O.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,U))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};return e([g.NotNull],C.prototype,"_vocabulary",void 0),e([p.Override],C.prototype,"reset",null),e([p.Override],C.prototype,"atn",null),e([p.Override],C.prototype,"vocabulary",null),e([p.Override],C.prototype,"ruleNames",null),e([p.Override],C.prototype,"grammarFileName",null),e([p.Override],C.prototype,"enterRecursionRule",null),C=e([t(1,g.NotNull)],C),zl.ParserInterpreter=C,zl}var Ul={},II;function SH(){if(II)return Ul;II=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ul&&Ul.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g},t=Ul&&Ul.__param||function(s,a){return function(c,d){a(c,d,s)}};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.ParseTreeMatch=void 0;const n=Ue();let r=class{constructor(a,c,d,h){if(!a)throw new Error("tree cannot be null");if(!c)throw new Error("pattern cannot be null");if(!d)throw new Error("labels cannot be null");this._tree=a,this._pattern=c,this._labels=d,this._mismatchedNode=h}get(a){let c=this._labels.get(a);if(!(!c||c.length===0))return c[c.length-1]}getAll(a){const c=this._labels.get(a);return c||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};return e([n.NotNull,t(0,n.NotNull)],r.prototype,"getAll",null),e([n.NotNull],r.prototype,"labels",null),e([n.NotNull],r.prototype,"pattern",null),e([n.NotNull],r.prototype,"tree",null),e([n.Override],r.prototype,"toString",null),r=e([t(0,n.NotNull),t(1,n.NotNull),t(2,n.NotNull)],r),Ul.ParseTreeMatch=r,Ul}var Vl={},D0={},P0={},OI;function AH(){if(OI)return P0;OI=1,Object.defineProperty(P0,"__esModule",{value:!0}),P0.XPathLexer=void 0;const e=y2(),t=Kc(),n=mS(),r=sh(),s=yu();let a=class Qi extends t.Lexer{constructor(d){super(d),this._interp=new n.LexerATNSimulator(Qi._ATN,this)}get vocabulary(){return Qi.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return Qi.ruleNames}get serializedATN(){return Qi._serializedATN}get channelNames(){return Qi.channelNames}get modeNames(){return Qi.modeNames}action(d,h,g){switch(h){case 4:this.ID_action(d,g);break}}ID_action(d,h){switch(h){case 0:let g=this.text;g.charAt(0)===g.charAt(0).toUpperCase()?this.type=Qi.TOKEN_REF:this.type=Qi.RULE_REF;break}}static get _ATN(){return Qi.__ATN||(Qi.__ATN=new e.ATNDeserializer().deserialize(s.toCharArray(Qi._serializedATN))),Qi.__ATN}};return P0.XPathLexer=a,a.TOKEN_REF=1,a.RULE_REF=2,a.ANYWHERE=3,a.ROOT=4,a.WILDCARD=5,a.BANG=6,a.ID=7,a.STRING=8,a.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],a.modeNames=["DEFAULT_MODE"],a.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],a._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],a._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],a.VOCABULARY=new r.VocabularyImpl(a._LITERAL_NAMES,a._SYMBOLIC_NAMES,[]),a._serializedATNSegments=2,a._serializedATNSegment0=`
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r

2;C\\aac|\r(*<>?AOR_\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1"C\\c|\r(*<>?AOR_`,a._serializedATNSegment1=`1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`,a._serializedATN=s.join([a._serializedATNSegment0,a._serializedATNSegment1],""),P0}var _d={},DI;function EH(){if(DI)return _d;DI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_d&&_d.__decorate||function(r,s,a,c){var d=arguments.length,h=d<3?s:c===null?c=Object.getOwnPropertyDescriptor(s,a):c,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(r,s,a,c);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(h=(d<3?g(h):d>3?g(s,a,h):g(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h};Object.defineProperty(_d,"__esModule",{value:!0}),_d.XPathLexerErrorListener=void 0;const t=Ue();let n=class{syntaxError(s,a,c,d,h,g){}};return e([t.Override],n.prototype,"syntaxError",null),_d.XPathLexerErrorListener=n,_d}var Id={},Od={},PI;function vg(){if(PI)return Od;PI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Od&&Od.__decorate||function(r,s,a,c){var d=arguments.length,h=d<3?s:c===null?c=Object.getOwnPropertyDescriptor(s,a):c,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(r,s,a,c);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(h=(d<3?g(h):d>3?g(s,a,h):g(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h};Object.defineProperty(Od,"__esModule",{value:!0}),Od.XPathElement=void 0;const t=Ue();let n=class{constructor(s){this.nodeName=s,this.invert=!1}toString(){let s=this.invert?"!":"";return Object.constructor.name+"["+s+this.nodeName+"]"}};return e([t.Override],n.prototype,"toString",null),Od.XPathElement=n,Od}var MI;function CH(){if(MI)return Id;MI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Id&&Id.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(Id,"__esModule",{value:!0}),Id.XPathRuleAnywhereElement=void 0;const t=Ue(),n=lh(),r=vg();let s=class extends r.XPathElement{constructor(c,d){super(c),this.ruleIndex=d}evaluate(c){return n.Trees.findAllRuleNodes(c,this.ruleIndex)}};return e([t.Override],s.prototype,"evaluate",null),Id.XPathRuleAnywhereElement=s,Id}var Dd={},LI;function wH(){if(LI)return Dd;LI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dd&&Dd.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.XPathRuleElement=void 0;const t=Cs(),n=Ue(),r=lh(),s=vg();let a=class extends s.XPathElement{constructor(d,h){super(d),this.ruleIndex=h}evaluate(d){let h=[];for(let g of r.Trees.getChildren(d))g instanceof t.ParserRuleContext&&(g.ruleIndex===this.ruleIndex&&!this.invert||g.ruleIndex!==this.ruleIndex&&this.invert)&&h.push(g);return h}};return e([n.Override],a.prototype,"evaluate",null),Dd.XPathRuleElement=a,Dd}var Pd={},FI;function RH(){if(FI)return Pd;FI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pd&&Pd.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.XPathTokenAnywhereElement=void 0;const t=Ue(),n=lh(),r=vg();let s=class extends r.XPathElement{constructor(c,d){super(c),this.tokenType=d}evaluate(c){return n.Trees.findAllTokenNodes(c,this.tokenType)}};return e([t.Override],s.prototype,"evaluate",null),Pd.XPathTokenAnywhereElement=s,Pd}var Md={},kI;function TH(){if(kI)return Md;kI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Md&&Md.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(Md,"__esModule",{value:!0}),Md.XPathTokenElement=void 0;const t=Ue(),n=yg(),r=lh(),s=vg();let a=class extends s.XPathElement{constructor(d,h){super(d),this.tokenType=h}evaluate(d){let h=[];for(let g of r.Trees.getChildren(d))g instanceof n.TerminalNode&&(g.symbol.type===this.tokenType&&!this.invert||g.symbol.type!==this.tokenType&&this.invert)&&h.push(g);return h}};return e([t.Override],a.prototype,"evaluate",null),Md.XPathTokenElement=a,Md}var Ld={},BI;function NH(){if(BI)return Ld;BI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ld&&Ld.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.XPathWildcardAnywhereElement=void 0;const t=Ue(),n=lh(),r=b2(),s=vg();let a=class extends s.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(d){return this.invert?[]:n.Trees.getDescendants(d)}};return e([t.Override],a.prototype,"evaluate",null),Ld.XPathWildcardAnywhereElement=a,Ld}var Fd={},jI;function _H(){if(jI)return Fd;jI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fd&&Fd.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.XPathWildcardElement=void 0;const t=Ue(),n=lh(),r=b2(),s=vg();let a=class extends s.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(d){let h=[];if(this.invert)return h;for(let g of n.Trees.getChildren(d))h.push(g);return h}};return e([t.Override],a.prototype,"evaluate",null),Fd.XPathWildcardElement=a,Fd}var zI;function b2(){if(zI)return D0;zI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(D0,"__esModule",{value:!0}),D0.XPath=void 0;const e=v2(),t=x2(),n=gS(),r=Cs(),s=Mn(),a=AH(),c=EH(),d=CH(),h=wH(),g=RH(),p=TH(),m=NH(),x=_H();let b=class XL{constructor(w,C){this.parser=w,this.path=C,this.elements=this.split(C)}split(w){let C=new a.XPathLexer(e.CharStreams.fromString(w));C.recover=k=>{throw k},C.removeErrorListeners(),C.addErrorListener(new c.XPathLexerErrorListener);let T=new t.CommonTokenStream(C);try{T.fill()}catch(k){if(k instanceof n.LexerNoViableAltException){let U="Invalid tokens or characters at index "+C.charPositionInLine+" in path '"+w+"' -- "+k.message;throw new RangeError(U)}throw k}let _=T.getTokens(),I=[],O=_.length,L=0;e:for(;L<O;){let k=_[L],V;switch(k.type){case a.XPathLexer.ROOT:case a.XPathLexer.ANYWHERE:let U=k.type===a.XPathLexer.ANYWHERE;L++,V=_[L];let q=V.type===a.XPathLexer.BANG;q&&(L++,V=_[L]);let te=this.getXPathElement(V,U);te.invert=q,I.push(te),L++;break;case a.XPathLexer.TOKEN_REF:case a.XPathLexer.RULE_REF:case a.XPathLexer.WILDCARD:I.push(this.getXPathElement(k,!1)),L++;break;case s.Token.EOF:break e;default:throw new Error("Unknowth path element "+k)}}return I}getXPathElement(w,C){if(w.type===s.Token.EOF)throw new Error("Missing path element at end of path");let T=w.text;if(T==null)throw new Error("Expected wordToken to have text content.");let _=this.parser.getTokenType(T),I=this.parser.getRuleIndex(T);switch(w.type){case a.XPathLexer.WILDCARD:return C?new m.XPathWildcardAnywhereElement:new x.XPathWildcardElement;case a.XPathLexer.TOKEN_REF:case a.XPathLexer.STRING:if(_===s.Token.INVALID_TYPE)throw new Error(T+" at index "+w.startIndex+" isn't a valid token name");return C?new g.XPathTokenAnywhereElement(T,_):new p.XPathTokenElement(T,_);default:if(I===-1)throw new Error(T+" at index "+w.startIndex+" isn't a valid rule name");return C?new d.XPathRuleAnywhereElement(T,I):new h.XPathRuleElement(T,I)}}static findAll(w,C,T){return new XL(T,C).evaluate(w)}evaluate(w){let C=new r.ParserRuleContext;C.addChild(w);let T=new Set([C]),_=0;for(;_<this.elements.length;){let I=new Set;for(let O of T)O.childCount>0&&this.elements[_].evaluate(O).forEach(I.add,I);_++,T=I}return T}};return D0.XPath=b,b.WILDCARD="*",b.NOT="!",D0}var UI;function IH(){if(UI)return Vl;UI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vl&&Vl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Vl&&Vl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.ParseTreePattern=void 0;const n=Ue(),r=b2();let s=class{constructor(c,d,h,g){this._matcher=c,this._patternRuleIndex=h,this._pattern=d,this._patternTree=g}match(c){return this._matcher.match(c,this)}matches(c){return this._matcher.match(c,this).succeeded}findAll(c,d){let h=r.XPath.findAll(c,d,this._matcher.parser),g=[];for(let p of h){let m=this.match(p);m.succeeded&&g.push(m)}return g}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};return e([n.NotNull],s.prototype,"_pattern",void 0),e([n.NotNull],s.prototype,"_patternTree",void 0),e([n.NotNull],s.prototype,"_matcher",void 0),e([n.NotNull,t(0,n.NotNull)],s.prototype,"match",null),e([t(0,n.NotNull)],s.prototype,"matches",null),e([n.NotNull,t(0,n.NotNull),t(1,n.NotNull)],s.prototype,"findAll",null),e([n.NotNull],s.prototype,"matcher",null),e([n.NotNull],s.prototype,"pattern",null),e([n.NotNull],s.prototype,"patternTree",null),s=e([t(0,n.NotNull),t(1,n.NotNull),t(3,n.NotNull)],s),Vl.ParseTreePattern=s,Vl}var Gl={},VI;function OH(){if(VI)return Gl;VI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gl&&Gl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Gl&&Gl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.RuleTagToken=void 0;const n=Ue(),r=Mn();let s=class{constructor(c,d,h){if(c==null||c.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=c,this.bypassTokenType=d,this._label=h}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return r.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};return e([n.NotNull],s.prototype,"ruleName",null),e([n.Override],s.prototype,"channel",null),e([n.Override],s.prototype,"text",null),e([n.Override],s.prototype,"type",null),e([n.Override],s.prototype,"line",null),e([n.Override],s.prototype,"charPositionInLine",null),e([n.Override],s.prototype,"tokenIndex",null),e([n.Override],s.prototype,"startIndex",null),e([n.Override],s.prototype,"stopIndex",null),e([n.Override],s.prototype,"tokenSource",null),e([n.Override],s.prototype,"inputStream",null),e([n.Override],s.prototype,"toString",null),s=e([t(0,n.NotNull)],s),Gl.RuleTagToken=s,Gl}var kd={},M0={},GI;function ZL(){if(GI)return M0;GI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(M0,"__esModule",{value:!0}),M0.Chunk=void 0;let e=class{};return M0.Chunk=e,M0}var $I;function DH(){if($I)return kd;$I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kd&&kd.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g};Object.defineProperty(kd,"__esModule",{value:!0}),kd.TagChunk=void 0;const t=ZL(),n=Ue();let r=class extends t.Chunk{constructor(a,c){if(super(),a==null||a.length===0)throw new Error("tag cannot be null or empty");this._tag=a,this._label=c}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};return e([n.NotNull],r.prototype,"tag",null),e([n.Override],r.prototype,"toString",null),kd.TagChunk=r,kd}var $l={},HI;function PH(){if(HI)return $l;HI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$l&&$l.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=$l&&$l.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty($l,"__esModule",{value:!0}),$l.TextChunk=void 0;const n=ZL(),r=Ue();let s=class extends n.Chunk{constructor(c){if(super(),c==null)throw new Error("text cannot be null");this._text=c}get text(){return this._text}toString(){return"'"+this._text+"'"}};return e([r.NotNull],s.prototype,"_text",void 0),e([r.NotNull],s.prototype,"text",null),e([r.Override],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),$l.TextChunk=s,$l}var Hl={},WI;function MH(){if(WI)return Hl;WI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hl&&Hl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Hl&&Hl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.TokenTagToken=void 0;const n=Sy(),r=Ue();let s=class extends n.CommonToken{constructor(c,d,h){super(d),this._tokenName=c,this._label=h}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};return e([r.NotNull],s.prototype,"_tokenName",void 0),e([r.NotNull],s.prototype,"tokenName",null),e([r.Override],s.prototype,"text",null),e([r.Override],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),Hl.TokenTagToken=s,Hl}var YI;function LH(){return YI||(YI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Rd&&Rd.__decorate||function(V,U,q,te){var ie=arguments.length,se=ie<3?U:te===null?te=Object.getOwnPropertyDescriptor(U,q):te,Ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(V,U,q,te);else for(var je=V.length-1;je>=0;je--)(Ce=V[je])&&(se=(ie<3?Ce(se):ie>3?Ce(U,q,se):Ce(U,q))||se);return ie>3&&se&&Object.defineProperty(U,q,se),se},n=Rd&&Rd.__param||function(V,U){return function(q,te){U(q,te,V)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreePatternMatcher=void 0;const r=JL(),s=v2(),a=x2(),c=WL(),d=bH(),h=Ue(),g=YL(),p=KL(),m=Cs(),x=SH(),b=IH(),E=Hc(),w=m2(),C=OH(),T=DH(),_=yg(),I=PH(),O=Mn(),L=MH();let k=class VC{constructor(U,q){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=U,this._parser=q}setDelimiters(U,q,te){if(!U)throw new Error("start cannot be null or empty");if(!q)throw new Error("stop cannot be null or empty");this.start=U,this.stop=q,this.escape=te,this.escapeRE=new RegExp(te.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(U,q,te=0){if(typeof q=="string"){let ie=this.compile(q,te);return this.matches(U,ie)}else{let ie=new d.MultiMap;return!this.matchImpl(U,q.patternTree,ie)}}match(U,q,te=0){if(typeof q=="string"){let ie=this.compile(q,te);return this.match(U,ie)}else{let ie=new d.MultiMap,se=this.matchImpl(U,q.patternTree,ie);return new x.ParseTreeMatch(U,q,ie,se)}}compile(U,q){let te=this.tokenize(U),ie=new c.ListTokenSource(te),se=new a.CommonTokenStream(ie);const Ce=this._parser;let je=new p.ParserInterpreter(Ce.grammarFileName,Ce.vocabulary,Ce.ruleNames,Ce.getATNWithBypassAlts(),se),Me;try{je.errorHandler=new r.BailErrorStrategy,Me=je.parse(q)}catch(re){throw re instanceof g.ParseCancellationException?re.getCause():re instanceof E.RecognitionException?re:re instanceof Error?new VC.CannotInvokeStartRule(re):re}if(se.LA(1)!==O.Token.EOF)throw new VC.StartRuleDoesNotConsumeFullPattern;return new b.ParseTreePattern(this,U,q,Me)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(U,q,te){if(!U)throw new TypeError("tree cannot be null");if(!q)throw new TypeError("patternTree cannot be null");if(U instanceof _.TerminalNode&&q instanceof _.TerminalNode){let ie;if(U.symbol.type===q.symbol.type)if(q.symbol instanceof L.TokenTagToken){let se=q.symbol;te.map(se.tokenName,U);const Ce=se.label;Ce&&te.map(Ce,U)}else U.text===q.text||ie||(ie=U);else ie||(ie=U);return ie}if(U instanceof m.ParserRuleContext&&q instanceof m.ParserRuleContext){let ie,se=this.getRuleTagToken(q);if(se){if(U.ruleContext.ruleIndex===q.ruleContext.ruleIndex){te.map(se.ruleName,U);const je=se.label;je&&te.map(je,U)}else ie||(ie=U);return ie}if(U.childCount!==q.childCount)return ie||(ie=U),ie;let Ce=U.childCount;for(let je=0;je<Ce;je++){let Me=this.matchImpl(U.getChild(je),q.getChild(je),te);if(Me)return Me}return ie}return U}getRuleTagToken(U){if(U instanceof w.RuleNode&&U.childCount===1&&U.getChild(0)instanceof _.TerminalNode){let q=U.getChild(0);if(q.symbol instanceof C.RuleTagToken)return q.symbol}}tokenize(U){let q=this.split(U),te=[];for(let ie of q)if(ie instanceof T.TagChunk){let se=ie;const Ce=se.tag.substr(0,1);if(Ce===Ce.toUpperCase()){let je=this._parser.getTokenType(se.tag);if(je===O.Token.INVALID_TYPE)throw new Error("Unknown token "+se.tag+" in pattern: "+U);let Me=new L.TokenTagToken(se.tag,je,se.label);te.push(Me)}else if(Ce===Ce.toLowerCase()){let je=this._parser.getRuleIndex(se.tag);if(je===-1)throw new Error("Unknown rule "+se.tag+" in pattern: "+U);let Me=this._parser.getATNWithBypassAlts().ruleToTokenType[je];te.push(new C.RuleTagToken(se.tag,Me,se.label))}else throw new Error("invalid tag: "+se.tag+" in pattern: "+U)}else{let se=ie;this._lexer.inputStream=s.CharStreams.fromString(se.text);let Ce=this._lexer.nextToken();for(;Ce.type!==O.Token.EOF;)te.push(Ce),Ce=this._lexer.nextToken()}return te}split(U){let q=0,te=U.length,ie=[],se=[],Ce=[];for(;q<te;)q===U.indexOf(this.escape+this.start,q)?q+=this.escape.length+this.start.length:q===U.indexOf(this.escape+this.stop,q)?q+=this.escape.length+this.stop.length:q===U.indexOf(this.start,q)?(se.push(q),q+=this.start.length):q===U.indexOf(this.stop,q)?(Ce.push(q),q+=this.stop.length):q++;if(se.length>Ce.length)throw new Error("unterminated tag in pattern: "+U);if(se.length<Ce.length)throw new Error("missing start tag in pattern: "+U);let je=se.length;for(let Me=0;Me<je;Me++)if(se[Me]>=Ce[Me])throw new Error("tag delimiters out of order in pattern: "+U);if(je===0){let Me=U.substring(0,te);ie.push(new I.TextChunk(Me))}if(je>0&&se[0]>0){let Me=U.substring(0,se[0]);ie.push(new I.TextChunk(Me))}for(let Me=0;Me<je;Me++){let re=U.substring(se[Me]+this.start.length,Ce[Me]),Ie=re,de,fe=re.indexOf(":");if(fe>=0&&(de=re.substring(0,fe),Ie=re.substring(fe+1,re.length)),ie.push(new T.TagChunk(Ie,de)),Me+1<je){let K=U.substring(Ce[Me]+this.stop.length,se[Me+1]);ie.push(new I.TextChunk(K))}}if(je>0){let Me=Ce[je-1]+this.stop.length;if(Me<te){let re=U.substring(Me,te);ie.push(new I.TextChunk(re))}}for(let Me=0;Me<ie.length;Me++){let re=ie[Me];if(re instanceof I.TextChunk){let Ie=re.text.replace(this.escapeRE,"");Ie.length<re.text.length&&(ie[Me]=new I.TextChunk(Ie))}}return ie}};t([h.NotNull,n(1,h.NotNull)],k.prototype,"match",null),t([h.NotNull],k.prototype,"lexer",null),t([h.NotNull],k.prototype,"parser",null),t([n(0,h.NotNull),n(1,h.NotNull),n(2,h.NotNull)],k.prototype,"matchImpl",null),e.ParseTreePatternMatcher=k,function(V){class U extends Error{constructor(ie){super(`CannotInvokeStartRule: ${ie}`),this.error=ie}}V.CannotInvokeStartRule=U;class q extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}V.StartRuleDoesNotConsumeFullPattern=q}(k=e.ParseTreePatternMatcher||(e.ParseTreePatternMatcher={}))}(Rd)),Rd}var Wl={},Yl={},ql={},qI;function Ry(){if(qI)return ql;qI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ql&&ql.__decorate||function(s,a,c,d){var h=arguments.length,g=h<3?a:d===null?d=Object.getOwnPropertyDescriptor(a,c):d,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(s,a,c,d);else for(var m=s.length-1;m>=0;m--)(p=s[m])&&(g=(h<3?p(g):h>3?p(a,c,g):p(a,c))||g);return h>3&&g&&Object.defineProperty(a,c,g),g},t=ql&&ql.__param||function(s,a){return function(c,d){a(c,d,s)}};Object.defineProperty(ql,"__esModule",{value:!0}),ql.DecisionEventInfo=void 0;const n=Ue();let r=class{constructor(a,c,d,h,g,p){this.decision=a,this.fullCtx=p,this.stopIndex=g,this.input=d,this.startIndex=h,this.state=c}};return e([n.NotNull],r.prototype,"input",void 0),r=e([t(2,n.NotNull)],r),ql.DecisionEventInfo=r,ql}var KI;function FH(){if(KI)return Yl;KI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yl&&Yl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Yl&&Yl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.AmbiguityInfo=void 0;const n=Ry(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(c,d,h,g,p,m){super(c,d,g,p,m,d.useContext),this.ambigAlts=h}get ambiguousAlternatives(){return this.ambigAlts}};return e([r.NotNull],s.prototype,"ambigAlts",void 0),e([r.NotNull],s.prototype,"ambiguousAlternatives",null),s=e([t(1,r.NotNull),t(2,r.NotNull),t(3,r.NotNull)],s),Yl.AmbiguityInfo=s,Yl}var Kl={},XI;function kH(){if(XI)return Kl;XI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kl&&Kl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Kl&&Kl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.ContextSensitivityInfo=void 0;const n=Ry(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(c,d,h,g,p){super(c,d,h,g,p,!0)}};return s=e([t(1,r.NotNull),t(2,r.NotNull)],s),Kl.ContextSensitivityInfo=s,Kl}var Bd={},ZI;function BH(){if(ZI)return Bd;ZI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bd&&Bd.__decorate||function(r,s,a,c){var d=arguments.length,h=d<3?s:c===null?c=Object.getOwnPropertyDescriptor(s,a):c,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(r,s,a,c);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(h=(d<3?g(h):d>3?g(s,a,h):g(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h};Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.DecisionInfo=void 0;const t=Ue();let n=class{constructor(s){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=s}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};return e([t.Override],n.prototype,"toString",null),Bd.DecisionInfo=n,Bd}var Xl={},JI;function jH(){if(JI)return Xl;JI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xl&&Xl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Xl&&Xl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.ErrorInfo=void 0;const n=Ry(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(c,d,h,g,p){super(c,d,h,g,p,d.useContext)}};return s=e([t(1,r.NotNull),t(2,r.NotNull)],s),Xl.ErrorInfo=s,Xl}var Zl={},QI;function zH(){if(QI)return Zl;QI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zl&&Zl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Zl&&Zl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.LookaheadEventInfo=void 0;const n=Ry(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(c,d,h,g,p,m,x){super(c,d,g,p,m,x),this.predictedAlt=h}};return s=e([t(3,r.NotNull)],s),Zl.LookaheadEventInfo=s,Zl}var Jl={},eO;function UH(){if(eO)return Jl;eO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jl&&Jl.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p},t=Jl&&Jl.__param||function(a,c){return function(d,h){c(d,h,a)}};Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.PredicateEvalInfo=void 0;const n=Ry(),r=Ue();let s=class extends n.DecisionEventInfo{constructor(c,d,h,g,p,m,x,b){super(d,c,h,g,p,c.useContext),this.semctx=m,this.evalResult=x,this.predictedAlt=b}};return s=e([t(0,r.NotNull),t(2,r.NotNull),t(5,r.NotNull)],s),Jl.PredicateEvalInfo=s,Jl}var tO;function nO(){if(tO)return Wl;tO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wl&&Wl.__decorate||function(w,C,T,_){var I=arguments.length,O=I<3?C:_===null?_=Object.getOwnPropertyDescriptor(C,T):_,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(w,C,T,_);else for(var k=w.length-1;k>=0;k--)(L=w[k])&&(O=(I<3?L(O):I>3?L(C,T,O):L(C,T))||O);return I>3&&O&&Object.defineProperty(C,T,O),O},t=Wl&&Wl.__param||function(w,C){return function(T,_){C(T,_,w)}};Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.ProfilingATNSimulator=void 0;const n=FH(),r=ba(),s=pS(),a=kH(),c=BH(),d=jH(),h=Ue(),g=zH(),p=wy(),m=UH(),x=gg(),b=zL();let E=class extends p.ParserATNSimulator{constructor(C){super(C.interpreter.atn,C),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let T=0;T<this.numDecisions;T++)this.decisions.push(new c.DecisionInfo(T))}adaptivePredict(C,T,_,I){if(I!==void 0)return super.adaptivePredict(C,T,_,I);try{this._input=C,this._startIndex=C.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=T,this.currentState=void 0,this.conflictingAltResolvedBySLL=r.ATN.INVALID_ALT_NUMBER;let O=process.hrtime(),L=super.adaptivePredict(C,T,_),k=process.hrtime(),V=(k[0]-O[0])*1e9;V===0?V=k[1]-O[1]:V+=1e9-O[1]+k[1],this.decisions[T].timeInPrediction+=V,this.decisions[T].invocations++;let U=this._sllStopIndex-this._startIndex+1;if(this.decisions[T].SLL_TotalLook+=U,this.decisions[T].SLL_MinLook=this.decisions[T].SLL_MinLook===0?U:Math.min(this.decisions[T].SLL_MinLook,U),U>this.decisions[T].SLL_MaxLook&&(this.decisions[T].SLL_MaxLook=U,this.decisions[T].SLL_MaxLookEvent=new g.LookaheadEventInfo(T,void 0,L,C,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let q=this._llStopIndex-this._startIndex+1;this.decisions[T].LL_TotalLook+=q,this.decisions[T].LL_MinLook=this.decisions[T].LL_MinLook===0?q:Math.min(this.decisions[T].LL_MinLook,q),q>this.decisions[T].LL_MaxLook&&(this.decisions[T].LL_MaxLook=q,this.decisions[T].LL_MaxLookEvent=new g.LookaheadEventInfo(T,void 0,L,C,this._startIndex,this._llStopIndex,!0))}return L}finally{this._input=void 0,this.currentDecision=-1}}getStartState(C,T,_,I){let O=super.getStartState(C,T,_,I);return this.currentState=O,O}computeStartState(C,T,_){let I=super.computeStartState(C,T,_);return this.currentState=I,I}computeReachSet(C,T,_,I){if(this._input===void 0)throw new Error("Invalid state");let O=super.computeReachSet(C,T,_,I);return O==null&&this.decisions[this.currentDecision].errors.push(new d.ErrorInfo(this.currentDecision,T,this._input,this._startIndex,this._input.index)),this.currentState=O,O}getExistingTargetState(C,T){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let _=super.getExistingTargetState(C,T);if(_!=null&&(this.currentState=new b.SimulatorState(this.currentState.outerContext,_,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,_===s.ATNSimulator.ERROR)){let I=new b.SimulatorState(this.currentState.outerContext,C,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new d.ErrorInfo(this.currentDecision,I,this._input,this._startIndex,this._input.index))}return _}computeTargetState(C,T,_,I,O,L){let k=super.computeTargetState(C,T,_,I,O,L);return O?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,k}evalSemanticContextImpl(C,T,_){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let I=super.evalSemanticContextImpl(C,T,_);if(!(C instanceof x.SemanticContext.PrecedencePredicate)){let L=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new m.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,L,C,I,_))}return I}reportContextSensitivity(C,T,_,I,O){if(this._input===void 0)throw new Error("Invalid state");T!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a.ContextSensitivityInfo(this.currentDecision,_,this._input,I,O)),super.reportContextSensitivity(C,T,_,I,O)}reportAttemptingFullContext(C,T,_,I,O){T!=null?this.conflictingAltResolvedBySLL=T.nextSetBit(0):this.conflictingAltResolvedBySLL=_.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(C,T,_,I,O)}reportAmbiguity(C,T,_,I,O,L,k){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let V;L!=null?V=L.nextSetBit(0):V=k.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==r.ATN.INVALID_ALT_NUMBER&&V!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,_,I)),this.decisions[this.currentDecision].ambiguities.push(new n.AmbiguityInfo(this.currentDecision,this.currentState,L,this._input,_,I)),super.reportAmbiguity(C,T,_,I,O,L,k)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};return e([h.Override,t(0,h.NotNull)],E.prototype,"adaptivePredict",null),e([h.Override],E.prototype,"getStartState",null),e([h.Override],E.prototype,"computeStartState",null),e([h.Override],E.prototype,"computeReachSet",null),e([h.Override],E.prototype,"getExistingTargetState",null),e([h.Override],E.prototype,"computeTargetState",null),e([h.Override],E.prototype,"evalSemanticContextImpl",null),e([h.Override],E.prototype,"reportContextSensitivity",null),e([h.Override],E.prototype,"reportAttemptingFullContext",null),e([h.Override,t(0,h.NotNull),t(5,h.NotNull),t(6,h.NotNull)],E.prototype,"reportAmbiguity",null),Wl.ProfilingATNSimulator=E,Wl}var rO;function Ty(){if(rO)return us;rO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=us&&us.__decorate||function(I,O,L,k){var V=arguments.length,U=V<3?O:k===null?k=Object.getOwnPropertyDescriptor(O,L):k,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(I,O,L,k);else for(var te=I.length-1;te>=0;te--)(q=I[te])&&(U=(V<3?q(U):V>3?q(O,L,U):q(O,L))||U);return V>3&&U&&Object.defineProperty(O,L,U),U},t=us&&us.__param||function(I,O){return function(L,k){O(L,k,I)}},n=us&&us.__awaiter||function(I,O,L,k){function V(U){return U instanceof L?U:new L(function(q){q(U)})}return new(L||(L=Promise))(function(U,q){function te(Ce){try{se(k.next(Ce))}catch(je){q(je)}}function ie(Ce){try{se(k.throw(Ce))}catch(je){q(je)}}function se(Ce){Ce.done?U(Ce.value):V(Ce.value).then(te,ie)}se((k=k.apply(I,O||[])).next())})};Object.defineProperty(us,"__esModule",{value:!0}),us.Parser=void 0;const r=yu(),s=NL(),a=y2(),c=S2(),d=g2(),h=mL(),g=Kc(),p=Ue(),m=vH(),x=wy(),b=UL(),E=Ey(),w=yg(),C=Mn();class T{constructor(O,L){this.ruleNames=O,this.tokenStream=L}enterEveryRule(O){console.log("enter   "+this.ruleNames[O.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(O){console.log("exit    "+this.ruleNames[O.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(O){}visitTerminal(O){let L=O.parent.ruleContext,k=O.symbol;console.log("consume "+k+" rule "+this.ruleNames[L.ruleIndex])}}e([p.Override],T.prototype,"enterEveryRule",null),e([p.Override],T.prototype,"exitEveryRule",null),e([p.Override],T.prototype,"visitErrorNode",null),e([p.Override],T.prototype,"visitTerminal",null);let _=class hb extends E.Recognizer{constructor(O){super(),this._errHandler=new c.DefaultErrorStrategy,this._precedenceStack=new h.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=O}reset(O){(O===void 0||O)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let L=this.interpreter;L!=null&&L.reset()}match(O){let L=this.currentToken;return L.type===O?(O===C.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(L=this._errHandler.recoverInline(this),this._buildParseTrees&&L.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,L))),L}matchWildcard(){let O=this.currentToken;return O.type>0?(this._errHandler.reportMatch(this),this.consume()):(O=this._errHandler.recoverInline(this),this._buildParseTrees&&O.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,O))),O}set buildParseTree(O){this._buildParseTrees=O}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(O){if(O==null)throw new TypeError("listener cannot be null");this._parseListeners.push(O)}removeParseListener(O){let L=this._parseListeners.findIndex(k=>k===O);L!==-1&&this._parseListeners.splice(L,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let O of this._parseListeners)O.enterEveryRule&&O.enterEveryRule(this._ctx),this._ctx.enterRule(O)}triggerExitRuleEvent(){for(let O=this._parseListeners.length-1;O>=0;O--){let L=this._parseListeners[O];this._ctx.exitRule(L),L.exitEveryRule&&L.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let O=this.serializedATN;if(O==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let L=hb.bypassAltsAtnCache.get(O);if(L==null){let k=new s.ATNDeserializationOptions;k.isGenerateRuleBypassTransitions=!0,L=new a.ATNDeserializer(k).deserialize(r.toCharArray(O)),hb.bypassAltsAtnCache.set(O,L)}return L}compileParseTreePattern(O,L,k){return n(this,void 0,void 0,function*(){if(!k){if(this.inputStream){let te=this.inputStream.tokenSource;te instanceof g.Lexer&&(k=te)}if(!k)throw new Error("Parser can't discover a lexer to use")}let V=k,U=yield Promise.resolve().then(()=>LH());return new U.ParseTreePatternMatcher(V,this).compile(O,L)})}get errorHandler(){return this._errHandler}set errorHandler(O){this._errHandler=O}get inputStream(){return this._input}set inputStream(O){this.reset(!1),this._input=O}get currentToken(){return this._input.LT(1)}notifyErrorListeners(O,L,k){L===void 0?L=this.currentToken:L===null&&(L=void 0),this._syntaxErrors++;let V=-1,U=-1;L!=null&&(V=L.line,U=L.charPositionInLine);let q=this.getErrorListenerDispatch();q.syntaxError&&q.syntaxError(this,L,V,U,O,k)}consume(){let O=this.currentToken;O.type!==hb.EOF&&this.inputStream.consume();let L=this._parseListeners.length!==0;if(this._buildParseTrees||L)if(this._errHandler.inErrorRecoveryMode(this)){let k=this._ctx.addErrorNode(this.createErrorNode(this._ctx,O));if(L)for(let V of this._parseListeners)V.visitErrorNode&&V.visitErrorNode(k)}else{let k=this.createTerminalNode(this._ctx,O);if(this._ctx.addChild(k),L)for(let V of this._parseListeners)V.visitTerminal&&V.visitTerminal(k)}return O}createTerminalNode(O,L){return new w.TerminalNode(L)}createErrorNode(O,L){return new d.ErrorNode(L)}addContextToParseTree(){let O=this._ctx._parent;O!=null&&O.addChild(this._ctx)}enterRule(O,L,k){this.state=L,this._ctx=O,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(O,L,k){if(this.state=L,this._buildParseTrees){let V=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),V._parent=O,O.addChild(V)}this._ctx=O,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(O,L){if(O.altNumber=L,this._buildParseTrees&&this._ctx!==O){let k=this._ctx._parent;k!=null&&(k.removeLastChild(),k.addChild(O))}this._ctx=O}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(O,L,k,V){this.state=L,this._precedenceStack.push(V),this._ctx=O,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(O,L,k){let V=this._ctx;V._parent=O,V.invokingState=L,V._stop=this._input.tryLT(-1),this._ctx=O,this._ctx._start=V._start,this._buildParseTrees&&this._ctx.addChild(V),this.triggerEnterRuleEvent()}unrollRecursionContexts(O){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let L=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==O;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=O;L._parent=O,this._buildParseTrees&&O!=null&&O.addChild(L)}getInvokingContext(O){let L=this._ctx;for(;L&&L.ruleIndex!==O;)L=L._parent;return L}get context(){return this._ctx}set context(O){this._ctx=O}precpred(O,L){return L>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new b.ProxyParserErrorListener(this.getErrorListeners())}inContext(O){return!1}isExpectedToken(O){let L=this.interpreter.atn,k=this._ctx,V=L.states[this.state],U=L.nextTokens(V);if(U.contains(O))return!0;if(!U.contains(C.Token.EPSILON))return!1;for(;k!=null&&k.invokingState>=0&&U.contains(C.Token.EPSILON);){let te=L.states[k.invokingState].transition(0);if(U=L.nextTokens(te.followState),U.contains(O))return!0;k=k._parent}return!!(U.contains(C.Token.EPSILON)&&O===C.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let O=this.interpreter.atn,L=O.states[this.state];return O.nextTokens(L)}getRuleIndex(O){let L=this.getRuleIndexMap().get(O);return L??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(O=this._ctx){let L=O,k=this.ruleNames,V=[];for(;L!=null;){let U=L.ruleIndex;U<0?V.push("n/a"):V.push(k[U]),L=L._parent}return V}getDFAStrings(){let O=[];for(let L of this._interp.atn.decisionToDFA)O.push(L.toString(this.vocabulary,this.ruleNames));return O}dumpDFA(){let O=!1;for(let L of this._interp.atn.decisionToDFA)L.isEmpty||(O&&console.log(),console.log("Decision "+L.decision+":"),process.stdout.write(L.toString(this.vocabulary,this.ruleNames)),O=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>nO()).then(O=>{let L=this.interpreter;if(L instanceof O.ProfilingATNSimulator)return new m.ParseInfo(L)})}setProfile(O){return n(this,void 0,void 0,function*(){let L=yield Promise.resolve().then(()=>nO()),k=this.interpreter;O?k instanceof L.ProfilingATNSimulator||(this.interpreter=new L.ProfilingATNSimulator(this)):k instanceof L.ProfilingATNSimulator&&(this.interpreter=new x.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(k.getPredictionMode())})}set isTrace(O){O?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new T(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};return _.bypassAltsAtnCache=new Map,e([p.NotNull],_.prototype,"_errHandler",void 0),e([p.NotNull],_.prototype,"match",null),e([p.NotNull],_.prototype,"matchWildcard",null),e([p.NotNull],_.prototype,"getParseListeners",null),e([t(0,p.NotNull)],_.prototype,"addParseListener",null),e([p.NotNull],_.prototype,"getATNWithBypassAlts",null),e([p.NotNull,t(0,p.NotNull)],_.prototype,"errorHandler",null),e([p.Override],_.prototype,"inputStream",null),e([p.NotNull],_.prototype,"currentToken",null),e([t(0,p.NotNull)],_.prototype,"enterRule",null),e([p.Override,t(0,p.Nullable)],_.prototype,"precpred",null),e([p.Override],_.prototype,"getErrorListenerDispatch",null),e([p.NotNull],_.prototype,"getExpectedTokens",null),e([p.NotNull],_.prototype,"getExpectedTokensWithinCurrentRule",null),e([p.Override],_.prototype,"parseInfo",null),us.Parser=_,us}var iO;function vS(){if(iO)return sd;iO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=sd&&sd.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(sd,"__esModule",{value:!0}),sd.NoViableAltException=void 0;const t=Ty(),n=Hc(),r=Ue();let s=class extends n.RecognitionException{constructor(c,d,h,g,p,m){c instanceof t.Parser&&(d===void 0&&(d=c.inputStream),h===void 0&&(h=c.currentToken),g===void 0&&(g=c.currentToken),m===void 0&&(m=c.context)),super(c,d,m),this._deadEndConfigs=p,this._startToken=h,this.setOffendingToken(c,g)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};return e([r.NotNull],s.prototype,"_startToken",void 0),sd.NoViableAltException=s,sd}var oO;function S2(){if(oO)return el;oO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=el&&el.__decorate||function(x,b,E,w){var C=arguments.length,T=C<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,E):w,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,b,E,w);else for(var I=x.length-1;I>=0;I--)(_=x[I])&&(T=(C<3?_(T):C>3?_(b,E,T):_(b,E))||T);return C>3&&T&&Object.defineProperty(b,E,T),T},t=el&&el.__param||function(x,b){return function(E,w){b(E,w,x)}};Object.defineProperty(el,"__esModule",{value:!0}),el.DefaultErrorStrategy=void 0;const n=mu(),r=zr(),s=cS(),a=fS(),c=ah(),d=vS(),h=Es(),g=Mn(),p=Ue();let m=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER}reset(b){this.endErrorCondition(b)}beginErrorCondition(b){this.errorRecoveryMode=!0}inErrorRecoveryMode(b){return this.errorRecoveryMode}endErrorCondition(b){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(b){this.endErrorCondition(b)}reportError(b,E){this.inErrorRecoveryMode(b)||(this.beginErrorCondition(b),E instanceof d.NoViableAltException?this.reportNoViableAlternative(b,E):E instanceof a.InputMismatchException?this.reportInputMismatch(b,E):E instanceof s.FailedPredicateException?this.reportFailedPredicate(b,E):(console.error(`unknown recognition error type: ${E}`),this.notifyErrorListeners(b,E.toString(),E)))}notifyErrorListeners(b,E,w){let C=w.getOffendingToken(b);C===void 0&&(C=null),b.notifyErrorListeners(E,C,w)}recover(b,E){this.lastErrorIndex===b.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(b.state)&&b.consume(),this.lastErrorIndex=b.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new c.IntervalSet),this.lastErrorStates.add(b.state);let w=this.getErrorRecoverySet(b);this.consumeUntil(b,w)}sync(b){let E=b.interpreter.atn.states[b.state];if(this.inErrorRecoveryMode(b))return;let C=b.inputStream.LA(1),T=b.atn.nextTokens(E);if(T.contains(C)){this.nextTokensContext=void 0,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER;return}if(T.contains(g.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=b.context,this.nextTokensState=b.state);return}switch(E.stateType){case r.ATNStateType.BLOCK_START:case r.ATNStateType.STAR_BLOCK_START:case r.ATNStateType.PLUS_BLOCK_START:case r.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(b))return;throw new a.InputMismatchException(b);case r.ATNStateType.PLUS_LOOP_BACK:case r.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(b);let I=b.getExpectedTokens().or(this.getErrorRecoverySet(b));this.consumeUntil(b,I);break}}reportNoViableAlternative(b,E){let w=b.inputStream,C;w?E.startToken.type===g.Token.EOF?C="<EOF>":C=w.getTextFromRange(E.startToken,E.getOffendingToken()):C="<unknown input>";let T="no viable alternative at input "+this.escapeWSAndQuote(C);this.notifyErrorListeners(b,T,E)}reportInputMismatch(b,E){let w=E.expectedTokens,C=w?w.toStringVocabulary(b.vocabulary):"",T="mismatched input "+this.getTokenErrorDisplay(E.getOffendingToken(b))+" expecting "+C;this.notifyErrorListeners(b,T,E)}reportFailedPredicate(b,E){let C="rule "+b.ruleNames[b.context.ruleIndex]+" "+E.message;this.notifyErrorListeners(b,C,E)}reportUnwantedToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let E=b.currentToken,w=this.getTokenErrorDisplay(E),C=this.getExpectedTokens(b),T="extraneous input "+w+" expecting "+C.toStringVocabulary(b.vocabulary);b.notifyErrorListeners(T,E,void 0)}reportMissingToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let E=b.currentToken,C="missing "+this.getExpectedTokens(b).toStringVocabulary(b.vocabulary)+" at "+this.getTokenErrorDisplay(E);b.notifyErrorListeners(C,E,void 0)}recoverInline(b){let E=this.singleTokenDeletion(b);if(E)return b.consume(),E;if(this.singleTokenInsertion(b))return this.getMissingSymbol(b);throw this.nextTokensContext===void 0?new a.InputMismatchException(b):new a.InputMismatchException(b,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(b){let E=b.inputStream.LA(1),C=b.interpreter.atn.states[b.state].transition(0).target,T=b.interpreter.atn;return T.nextTokens(C,h.PredictionContext.fromRuleContext(T,b.context)).contains(E)?(this.reportMissingToken(b),!0):!1}singleTokenDeletion(b){let E=b.inputStream.LA(2);if(this.getExpectedTokens(b).contains(E)){this.reportUnwantedToken(b),b.consume();let C=b.currentToken;return this.reportMatch(b),C}}getMissingSymbol(b){let E=b.currentToken,w=this.getExpectedTokens(b),C=g.Token.INVALID_TYPE;w.isNil||(C=w.minElement);let T;C===g.Token.EOF?T="<missing EOF>":T="<missing "+b.vocabulary.getDisplayName(C)+">";let _=E,I=b.inputStream.tryLT(-1);return _.type===g.Token.EOF&&I!=null&&(_=I),this.constructToken(b.inputStream.tokenSource,C,T,_)}constructToken(b,E,w,C){let T=b.tokenFactory,_=C.tokenSource,I=_?_.inputStream:void 0;return T.create({source:b,stream:I},E,w,g.Token.DEFAULT_CHANNEL,-1,-1,C.line,C.charPositionInLine)}getExpectedTokens(b){return b.getExpectedTokens()}getTokenErrorDisplay(b){if(!b)return"<no token>";let E=this.getSymbolText(b);return E||(this.getSymbolType(b)===g.Token.EOF?E="<EOF>":E=`<${this.getSymbolType(b)}>`),this.escapeWSAndQuote(E)}getSymbolText(b){return b.text}getSymbolType(b){return b.type}escapeWSAndQuote(b){return b=b.replace(`
`,"\\n"),b=b.replace("\r","\\r"),b=b.replace("	","\\t"),"'"+b+"'"}getErrorRecoverySet(b){let E=b.interpreter.atn,w=b.context,C=new c.IntervalSet;for(;w&&w.invokingState>=0;){let _=E.states[w.invokingState].transition(0),I=E.nextTokens(_.followState);C.addAll(I),w=w._parent}return C.remove(g.Token.EPSILON),C}consumeUntil(b,E){let w=b.inputStream.LA(1);for(;w!==g.Token.EOF&&!E.contains(w);)b.consume(),w=b.inputStream.LA(1)}};return e([p.Override],m.prototype,"reset",null),e([t(0,p.NotNull)],m.prototype,"beginErrorCondition",null),e([p.Override],m.prototype,"inErrorRecoveryMode",null),e([t(0,p.NotNull)],m.prototype,"endErrorCondition",null),e([p.Override],m.prototype,"reportMatch",null),e([p.Override],m.prototype,"reportError",null),e([t(0,p.NotNull)],m.prototype,"notifyErrorListeners",null),e([p.Override],m.prototype,"recover",null),e([p.Override],m.prototype,"sync",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportNoViableAlternative",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportInputMismatch",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportFailedPredicate",null),e([t(0,p.NotNull)],m.prototype,"reportUnwantedToken",null),e([t(0,p.NotNull)],m.prototype,"reportMissingToken",null),e([p.Override],m.prototype,"recoverInline",null),e([t(0,p.NotNull)],m.prototype,"singleTokenInsertion",null),e([t(0,p.NotNull)],m.prototype,"singleTokenDeletion",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getMissingSymbol",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getExpectedTokens",null),e([t(0,p.NotNull)],m.prototype,"getSymbolText",null),e([t(0,p.NotNull)],m.prototype,"getSymbolType",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"escapeWSAndQuote",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getErrorRecoverySet",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"consumeUntil",null),el.DefaultErrorStrategy=m,el}var sO;function JL(){if(sO)return jf;sO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jf&&jf.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m};Object.defineProperty(jf,"__esModule",{value:!0}),jf.BailErrorStrategy=void 0;const t=S2(),n=fS(),r=Ue(),s=YL();let a=class extends t.DefaultErrorStrategy{recover(d,h){for(let g=d.context;g;g=g.parent)g.exception=h;throw new s.ParseCancellationException(h)}recoverInline(d){let h=new n.InputMismatchException(d);for(let g=d.context;g;g=g.parent)g.exception=h;throw new s.ParseCancellationException(h)}sync(d){}};return e([r.Override],a.prototype,"recover",null),e([r.Override],a.prototype,"recoverInline",null),e([r.Override],a.prototype,"sync",null),jf.BailErrorStrategy=a,jf}var OE={},aO;function VH(){if(aO)return OE;aO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(OE,"__esModule",{value:!0}),OE}var DE={},lO;function GH(){return lO||(lO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Dependents=void 0,function(t){t[t.SELF=0]="SELF",t[t.PARENTS=1]="PARENTS",t[t.CHILDREN=2]="CHILDREN",t[t.ANCESTORS=3]="ANCESTORS",t[t.DESCENDANTS=4]="DESCENDANTS",t[t.SIBLINGS=5]="SIBLINGS",t[t.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",t[t.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",t[t.PRECEEDING=8]="PRECEEDING",t[t.FOLLOWING=9]="FOLLOWING"}(e.Dependents||(e.Dependents={}))}(DE)),DE}var Ql={},uO;function $H(){if(uO)return Ql;uO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ql&&Ql.__decorate||function(c,d,h,g){var p=arguments.length,m=p<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,h):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,d,h,g);else for(var b=c.length-1;b>=0;b--)(x=c[b])&&(m=(p<3?x(m):p>3?x(d,h,m):x(d,h))||m);return p>3&&m&&Object.defineProperty(d,h,m),m},t=Ql&&Ql.__param||function(c,d){return function(h,g){d(h,g,c)}};Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.DiagnosticErrorListener=void 0;const n=qc(),r=Ue(),s=Bi();let a=class{constructor(d=!0){this.exactOnly=d,this.exactOnly=d}syntaxError(d,h,g,p,m,x){}reportAmbiguity(d,h,g,p,m,x,b){if(this.exactOnly&&!m)return;let E=this.getDecisionDescription(d,h),w=this.getConflictingAlts(x,b),C=d.inputStream.getText(s.Interval.of(g,p)),T=`reportAmbiguity d=${E}: ambigAlts=${w}, input='${C}'`;d.notifyErrorListeners(T)}reportAttemptingFullContext(d,h,g,p,m,x){let b=this.getDecisionDescription(d,h),E=d.inputStream.getText(s.Interval.of(g,p)),w=`reportAttemptingFullContext d=${b}, input='${E}'`;d.notifyErrorListeners(w)}reportContextSensitivity(d,h,g,p,m,x){let b=this.getDecisionDescription(d,h),E=d.inputStream.getText(s.Interval.of(g,p)),w=`reportContextSensitivity d=${b}, input='${E}'`;d.notifyErrorListeners(w)}getDecisionDescription(d,h){let g=h.decision,p=h.atnStartState.ruleIndex,m=d.ruleNames;if(p<0||p>=m.length)return g.toString();let x=m[p];return x?`${g} (${x})`:g.toString()}getConflictingAlts(d,h){if(d!=null)return d;let g=new n.BitSet;for(let p of h)g.set(p.alt);return g}};return e([r.Override],a.prototype,"syntaxError",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(6,r.NotNull)],a.prototype,"reportAmbiguity",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],a.prototype,"reportAttemptingFullContext",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],a.prototype,"reportContextSensitivity",null),e([t(0,r.NotNull),t(1,r.NotNull)],a.prototype,"getDecisionDescription",null),e([r.NotNull,t(1,r.NotNull)],a.prototype,"getConflictingAlts",null),Ql.DiagnosticErrorListener=a,Ql}var eu={},cO;function HH(){if(cO)return eu;cO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=eu&&eu.__decorate||function(d,h,g,p){var m=arguments.length,x=m<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,h,g,p);else for(var E=d.length-1;E>=0;E--)(b=d[E])&&(x=(m<3?b(x):m>3?b(h,g,x):b(h,g))||x);return m>3&&x&&Object.defineProperty(h,g,x),x},t=eu&&eu.__param||function(d,h){return function(g,p){h(g,p,d)}};Object.defineProperty(eu,"__esModule",{value:!0}),eu.LexerInterpreter=void 0;const n=Kc(),r=mS(),s=Ue(),a=Ue();let c=class extends n.Lexer{constructor(h,g,p,m,x,b,E){if(super(E),b.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=h,this._atn=b,this._ruleNames=p.slice(0),this._channelNames=m.slice(0),this._modeNames=x.slice(0),this._vocabulary=g,this._interp=new r.LexerATNSimulator(b,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};return e([s.NotNull],c.prototype,"_vocabulary",void 0),e([a.Override],c.prototype,"atn",null),e([a.Override],c.prototype,"grammarFileName",null),e([a.Override],c.prototype,"ruleNames",null),e([a.Override],c.prototype,"channelNames",null),e([a.Override],c.prototype,"modeNames",null),e([a.Override],c.prototype,"vocabulary",null),c=e([t(1,s.NotNull)],c),eu.LexerInterpreter=c,eu}var PE={},fO;function WH(){if(fO)return PE;fO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(PE,"__esModule",{value:!0}),PE}var jd={},dO;function YH(){if(dO)return jd;dO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jd&&jd.__decorate||function(a,c,d,h){var g=arguments.length,p=g<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,d):h,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,c,d,h);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(c,d,p):m(c,d))||p);return g>3&&p&&Object.defineProperty(c,d,p),p};Object.defineProperty(jd,"__esModule",{value:!0}),jd.RuleContextWithAltNum=void 0;const t=ba(),n=Ue(),r=Cs();let s=class extends r.ParserRuleContext{constructor(c,d){d!==void 0?super(c,d):super(),this._altNumber=t.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(c){this._altNumber=c}};return e([n.Override],s.prototype,"altNumber",null),jd.RuleContextWithAltNum=s,jd}var L0={},hO;function qH(){if(hO)return L0;hO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(L0,"__esModule",{value:!0}),L0.RuleDependency=void 0;function e(t){return(n,r,s)=>{}}return L0.RuleDependency=e,L0}var F0={},pO;function KH(){if(pO)return F0;pO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(F0,"__esModule",{value:!0}),F0.RuleVersion=void 0;function e(t){return(n,r,s)=>{}}return F0.RuleVersion=e,F0}var ME={},gO;function XH(){if(gO)return ME;gO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(ME,"__esModule",{value:!0}),ME}var LE={},mO;function ZH(){if(mO)return LE;mO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(LE,"__esModule",{value:!0}),LE}var FE={},yO;function JH(){if(yO)return FE;yO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(FE,"__esModule",{value:!0}),FE}var tu={},vO;function QH(){if(vO)return tu;vO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=tu&&tu.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E};Object.defineProperty(tu,"__esModule",{value:!0}),tu.RewriteOperation=tu.TokenStreamRewriter=void 0;const t=Bi(),n=Ue(),r=Mn();let s=class Ro{constructor(p){this.tokens=p,this.programs=new Map,this.programs.set(Ro.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(p,m=Ro.DEFAULT_PROGRAM_NAME){let x=this.programs.get(m);x!=null&&this.programs.set(m,x.slice(Ro.MIN_TOKEN_INDEX,p))}deleteProgram(p=Ro.DEFAULT_PROGRAM_NAME){this.rollback(Ro.MIN_TOKEN_INDEX,p)}insertAfter(p,m,x=Ro.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let E=this.getProgram(x),w=new d(this.tokens,b,E.length,m);E.push(w)}insertBefore(p,m,x=Ro.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let E=this.getProgram(x),w=new c(this.tokens,b,E.length,m);E.push(w)}replaceSingle(p,m){typeof p=="number"?this.replace(p,p,m):this.replace(p,p,m)}replace(p,m,x,b=Ro.DEFAULT_PROGRAM_NAME){if(typeof p!="number"&&(p=p.tokenIndex),typeof m!="number"&&(m=m.tokenIndex),p>m||p<0||m<0||m>=this.tokens.size)throw new RangeError(`replace: range invalid: ${p}..${m}(size=${this.tokens.size})`);let E=this.getProgram(b),w=new h(this.tokens,p,m,E.length,x);E.push(w)}delete(p,m,x=Ro.DEFAULT_PROGRAM_NAME){m===void 0&&(m=p),typeof p=="number"?this.replace(p,m,"",x):this.replace(p,m,"",x)}getLastRewriteTokenIndex(p=Ro.DEFAULT_PROGRAM_NAME){let m=this.lastRewriteTokenIndexes.get(p);return m??-1}setLastRewriteTokenIndex(p,m){this.lastRewriteTokenIndexes.set(p,m)}getProgram(p){let m=this.programs.get(p);return m==null&&(m=this.initializeProgram(p)),m}initializeProgram(p){let m=[];return this.programs.set(p,m),m}getText(p,m=Ro.DEFAULT_PROGRAM_NAME){let x;p instanceof t.Interval?x=p:x=t.Interval.of(0,this.tokens.size-1),typeof p=="string"&&(m=p);let b=this.programs.get(m),E=x.a,w=x.b;if(w>this.tokens.size-1&&(w=this.tokens.size-1),E<0&&(E=0),b==null||b.length===0)return this.tokens.getText(x);let C=[],T=this.reduceToSingleOperationPerIndex(b),_=E;for(;_<=w&&_<this.tokens.size;){let I=T.get(_);T.delete(_);let O=this.tokens.get(_);I==null?(O.type!==r.Token.EOF&&C.push(String(O.text)),_++):_=I.execute(C)}if(w===this.tokens.size-1)for(let I of T.values())I.index>=this.tokens.size-1&&C.push(I.text.toString());return C.join("")}reduceToSingleOperationPerIndex(p){for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof h))continue;let E=b,w=this.getKindOfOps(p,c,x);for(let T of w)T.index===E.index?(p[T.instructionIndex]=void 0,E.text=T.text.toString()+(E.text!=null?E.text.toString():"")):T.index>E.index&&T.index<=E.lastIndex&&(p[T.instructionIndex]=void 0);let C=this.getKindOfOps(p,h,x);for(let T of C){if(T.index>=E.index&&T.lastIndex<=E.lastIndex){p[T.instructionIndex]=void 0;continue}let _=T.lastIndex<E.index||T.index>E.lastIndex;if(T.text==null&&E.text==null&&!_)p[T.instructionIndex]=void 0,E.index=Math.min(T.index,E.index),E.lastIndex=Math.max(T.lastIndex,E.lastIndex);else if(!_)throw new Error(`replace op boundaries of ${E} overlap with previous ${T}`)}}for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof c))continue;let E=b,w=this.getKindOfOps(p,c,x);for(let T of w)T.index===E.index&&(T instanceof d?(E.text=this.catOpText(T.text,E.text),p[T.instructionIndex]=void 0):T instanceof c&&(E.text=this.catOpText(E.text,T.text),p[T.instructionIndex]=void 0));let C=this.getKindOfOps(p,h,x);for(let T of C){if(E.index===T.index){T.text=this.catOpText(E.text,T.text),p[x]=void 0;continue}if(E.index>=T.index&&E.index<=T.lastIndex)throw new Error(`insert op ${E} within boundaries of previous ${T}`)}}let m=new Map;for(let x of p)if(x!=null){if(m.get(x.index)!=null)throw new Error("should only be one op per index");m.set(x.index,x)}return m}catOpText(p,m){let x="",b="";return p!=null&&(x=p.toString()),m!=null&&(b=m.toString()),x+b}getKindOfOps(p,m,x){let b=[];for(let E=0;E<x&&E<p.length;E++){let w=p[E];w!=null&&w instanceof m&&b.push(w)}return b}};tu.TokenStreamRewriter=s,s.DEFAULT_PROGRAM_NAME="default",s.PROGRAM_INIT_SIZE=100,s.MIN_TOKEN_INDEX=0;class a{constructor(p,m,x,b){this.tokens=p,this.instructionIndex=x,this.index=m,this.text=b===void 0?"":b}execute(p){return this.index}toString(){let p=this.constructor.name,m=p.indexOf("$");return p=p.substring(m+1,p.length),"<"+p+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}e([n.Override],a.prototype,"toString",null),tu.RewriteOperation=a;class c extends a{constructor(p,m,x,b){super(p,m,x,b)}execute(p){return p.push(this.text.toString()),this.tokens.get(this.index).type!==r.Token.EOF&&p.push(String(this.tokens.get(this.index).text)),this.index+1}}e([n.Override],c.prototype,"execute",null);class d extends c{constructor(p,m,x,b){super(p,m+1,x,b)}}class h extends a{constructor(p,m,x,b,E){super(p,m,b,E),this.lastIndex=x}execute(p){return this.text!=null&&p.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}return e([n.Override],h.prototype,"execute",null),e([n.Override],h.prototype,"toString",null),tu}var kE={},xO;function eW(){if(xO)return kE;xO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(kE,"__esModule",{value:!0}),kE}var BE={},bO;function tW(){if(bO)return BE;bO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(BE,"__esModule",{value:!0}),BE}var SO;function nW(){return SO||(SO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=kf&&kf.__createBinding||(Object.create?function(r,s,a,c){c===void 0&&(c=a),Object.defineProperty(r,c,{enumerable:!0,get:function(){return s[a]}})}:function(r,s,a,c){c===void 0&&(c=a),r[c]=s[a]}),n=kf&&kf.__exportStar||function(r,s){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&t(s,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Q8(),e),n(e$(),e),n(G$(),e),n(JL(),e),n(HL(),e),n(VH(),e),n(v2(),e),n(VL(),e),n($L(),e),n(Sy(),e),n(l2(),e),n(x2(),e),n(bL(),e),n(S2(),e),n(GH(),e),n($H(),e),n(cS(),e),n(fS(),e),n(qL(),e),n($c(),e),n(Kc(),e),n(HH(),e),n(gS(),e),n(WL(),e),n(vS(),e),n(Ty(),e),n(WH(),e),n(KL(),e),n(Cs(),e),n(c2(),e),n(UL(),e),n(Hc(),e),n(Ey(),e),n(jL(),e),n(YH(),e),n(qH(),e),n(KH(),e),n(Mn(),e),n(XH(),e),n(ZH(),e),n(JH(),e),n(QH(),e),n(eW(),e),n(sh(),e),n(tW(),e)}(kf)),kf}var Qp=nW(),QL=y2(),rW=Kc(),iW=mS(),eF=sh(),tF=yu();const Lt=class Lt extends rW.Lexer{get vocabulary(){return Lt.VOCABULARY}constructor(t){super(t),this._interp=new iW.LexerATNSimulator(Lt._ATN,this)}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Lt.ruleNames}get serializedATN(){return Lt._serializedATN}get channelNames(){return Lt.channelNames}get modeNames(){return Lt.modeNames}action(t,n,r){switch(n){case 4:this.REF_action(t,r);break}}REF_action(t,n){}static get _ATN(){return Lt.__ATN||(Lt.__ATN=new QL.ATNDeserializer().deserialize(tF.toCharArray(Lt._serializedATN))),Lt.__ATN}};Y(Lt,"T__0",1),Y(Lt,"T__1",2),Y(Lt,"T__2",3),Y(Lt,"REFERENCE",4),Y(Lt,"REF",5),Y(Lt,"REFRANGE",6),Y(Lt,"BOOL",7),Y(Lt,"STRING",8),Y(Lt,"NUM",9),Y(Lt,"FUNCNAME",10),Y(Lt,"WS",11),Y(Lt,"MUL",12),Y(Lt,"DIV",13),Y(Lt,"ADD",14),Y(Lt,"SUB",15),Y(Lt,"EQ",16),Y(Lt,"NEQ",17),Y(Lt,"LTE",18),Y(Lt,"GTE",19),Y(Lt,"LT",20),Y(Lt,"GT",21),Y(Lt,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),Y(Lt,"modeNames",["DEFAULT_MODE"]),Y(Lt,"ruleNames",["T__0","T__1","T__2","REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),Y(Lt,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),Y(Lt,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),Y(Lt,"VOCABULARY",new eF.VocabularyImpl(Lt._LITERAL_NAMES,Lt._SYMBOLIC_NAMES,[])),Y(Lt,"_serializedATN",`\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r									6
9
>
\x07B
\fE\v\x07\x07\x07\x07\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b]
\b		\x07	a
	\f		d\v			

i

\r

j


o

\r

p
s

\v\v\x07\vw
\v\f\v\vz\v\v\f\f}
\f\r\f\f~\f\f\r\r\x07	\v\x07\r\b	
\v\f\r\x1B!#%')+\bC\\c|3;2;$$2;C\\c|\v\v""\x07	\v\r\x1B!#%')+-/\x071	5\v8\rF\\^ht|\x1B!#%')+-.\x07*./0\x07+012\x07.2\b36\v46\r\x0753546
79\x07&87899::;	;=\b<>\x07&=<=>>??C	@B	A@BECACDD\fECFG\vGH\x07<HI\vIJK\x07VKL\x07TLM\x07WM]\x07GNO\x07HOP\x07CPQ\x07NQR\x07UR]\x07GST\x07vTU\x07tUV\x07wV]\x07gWX\x07hXY\x07cYZ\x07nZ[\x07u[]\x07g\\J\\N\\S\\W]^b\x07$_a
\`_adb\`bccedbef\x07$fgi	hgijjhjkkrln\x070mo	nmoppnpqqsrlrsstx	uw	vuwzxvxyyzx{}	\x07|{}~~|~\b\f\x07,\x071\x07-\x07/ \x07?"\x07>\x07@$\x07>\x07?&\x07@\x07?(\x07>*\x07@,58=C\\bjprx~\b`),Y(Lt,"__ATN");let eg=Lt;var oW=ba(),sW=cS(),aW=vS(),lW=Ty(),A2=Cs(),uW=wy(),jE=Hc(),zE=Mn();const Je=class Je extends lW.Parser{get vocabulary(){return Je.VOCABULARY}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Je.ruleNames}get serializedATN(){return Je._serializedATN}createFailedPredicateException(t,n){return new sW.FailedPredicateException(this,t,n)}constructor(t){super(t),this._interp=new uW.ParserATNSimulator(Je._ATN,this)}formula(){let t=new cW(this._ctx,this.state);this.enterRule(t,0,Je.RULE_formula);let n;try{this.enterOuterAlt(t,1);{this.state=7,this._errHandler.sync(this),n=this._input.LA(1);do this.state=6,this.expr(0),this.state=9,this._errHandler.sync(this),n=this._input.LA(1);while((n&-32)===0&&(1<<n&(1<<Je.T__0|1<<Je.REFERENCE|1<<Je.BOOL|1<<Je.STRING|1<<Je.NUM|1<<Je.FUNCNAME))!==0)}}catch(r){if(r instanceof jE.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}expr(t){t===void 0&&(t=0);let n=this._ctx,r=this.state,s=new Vn(this._ctx,r),a=s,c=2;this.enterRecursionRule(s,2,Je.RULE_expr,t);let d;try{let h;this.enterOuterAlt(s,1);{switch(this.state=26,this._errHandler.sync(this),this._input.LA(1)){case Je.FUNCNAME:s=new fW(s),this._ctx=s,a=s,this.state=12,this.match(Je.FUNCNAME),this.state=13,this.match(Je.T__0),this.state=15,this._errHandler.sync(this),d=this._input.LA(1),(d&-32)===0&&(1<<d&(1<<Je.T__0|1<<Je.REFERENCE|1<<Je.BOOL|1<<Je.STRING|1<<Je.NUM|1<<Je.FUNCNAME))!==0&&(this.state=14,this.args()),this.state=17,this.match(Je.T__1);break;case Je.NUM:s=new gW(s),this._ctx=s,a=s,this.state=18,this.match(Je.NUM);break;case Je.BOOL:s=new mW(s),this._ctx=s,a=s,this.state=19,this.match(Je.BOOL);break;case Je.STRING:s=new yW(s),this._ctx=s,a=s,this.state=20,this.match(Je.STRING);break;case Je.REFERENCE:s=new vW(s),this._ctx=s,a=s,this.state=21,this.match(Je.REFERENCE);break;case Je.T__0:s=new xW(s),this._ctx=s,a=s,this.state=22,this.match(Je.T__0),this.state=23,this.expr(0),this.state=24,this.match(Je.T__1);break;default:throw new aW.NoViableAltException(this)}for(this._ctx._stop=this._input.tryLT(-1),this.state=39,this._errHandler.sync(this),h=this.interpreter.adaptivePredict(this._input,4,this._ctx);h!==2&&h!==oW.ATN.INVALID_ALT_NUMBER;){if(h===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),a=s,this.state=37,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:{if(s=new dW(new Vn(n,r)),this.pushNewRecursionContext(s,c,Je.RULE_expr),this.state=28,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=29,s._op=this._input.LT(1),d=this._input.LA(1),d===Je.MUL||d===Je.DIV?(this._input.LA(1)===zE.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=30,this.expr(9)}break;case 2:{if(s=new hW(new Vn(n,r)),this.pushNewRecursionContext(s,c,Je.RULE_expr),this.state=31,!this.precpred(this._ctx,7))throw this.createFailedPredicateException("this.precpred(this._ctx, 7)");this.state=32,s._op=this._input.LT(1),d=this._input.LA(1),d===Je.ADD||d===Je.SUB?(this._input.LA(1)===zE.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=33,this.expr(8)}break;case 3:{if(s=new pW(new Vn(n,r)),this.pushNewRecursionContext(s,c,Je.RULE_expr),this.state=34,!this.precpred(this._ctx,6))throw this.createFailedPredicateException("this.precpred(this._ctx, 6)");this.state=35,s._op=this._input.LT(1),d=this._input.LA(1),(d&-32)===0&&(1<<d&(1<<Je.EQ|1<<Je.NEQ|1<<Je.LTE|1<<Je.GTE|1<<Je.LT|1<<Je.GT))!==0?(this._input.LA(1)===zE.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):s._op=this._errHandler.recoverInline(this),this.state=36,this.expr(7)}break}this.state=41,this._errHandler.sync(this),h=this.interpreter.adaptivePredict(this._input,4,this._ctx)}}}catch(h){if(h instanceof jE.RecognitionException)s.exception=h,this._errHandler.reportError(this,h),this._errHandler.recover(this,h);else throw h}finally{this.unrollRecursionContexts(n)}return s}args(){let t=new nF(this._ctx,this.state);this.enterRule(t,4,Je.RULE_args);let n;try{for(this.enterOuterAlt(t,1),this.state=42,this.expr(0),this.state=47,this._errHandler.sync(this),n=this._input.LA(1);n===Je.T__2;)this.state=43,this.match(Je.T__2),this.state=44,this.expr(0),this.state=49,this._errHandler.sync(this),n=this._input.LA(1)}catch(r){if(r instanceof jE.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}sempred(t,n,r){switch(n){case 1:return this.expr_sempred(t,r)}return!0}expr_sempred(t,n){switch(n){case 0:return this.precpred(this._ctx,8);case 1:return this.precpred(this._ctx,7);case 2:return this.precpred(this._ctx,6)}return!0}static get _ATN(){return Je.__ATN||(Je.__ATN=new QL.ATNDeserializer().deserialize(tF.toCharArray(Je._serializedATN))),Je.__ATN}};Y(Je,"T__0",1),Y(Je,"T__1",2),Y(Je,"T__2",3),Y(Je,"REFERENCE",4),Y(Je,"REF",5),Y(Je,"REFRANGE",6),Y(Je,"BOOL",7),Y(Je,"STRING",8),Y(Je,"NUM",9),Y(Je,"FUNCNAME",10),Y(Je,"WS",11),Y(Je,"MUL",12),Y(Je,"DIV",13),Y(Je,"ADD",14),Y(Je,"SUB",15),Y(Je,"EQ",16),Y(Je,"NEQ",17),Y(Je,"LTE",18),Y(Je,"GTE",19),Y(Je,"LT",20),Y(Je,"GT",21),Y(Je,"RULE_formula",0),Y(Je,"RULE_expr",1),Y(Je,"RULE_args",2),Y(Je,"ruleNames",["formula","expr","args"]),Y(Je,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),Y(Je,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),Y(Je,"VOCABULARY",new eF.VocabularyImpl(Je._LITERAL_NAMES,Je._SYMBOLIC_NAMES,[])),Y(Je,"_serializedATN",`5			

\r\v

\x07(
\f+\v\x070
\f3\v<	,\b
	\b
\v\v	\v\f\f\r\b\x07\f\x07\x07\x07\v\x07	\x07
\x07\x07\x1B\x07\x1B\r)\f
 	 (\v!"\f	"#	#(
$%\f\b%&	&(	''!'$(+)')**+),1-.\x07.0/-031/122\x0731\b\v')1`),Y(Je,"__ATN");let bn=Je;class cW extends A2.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Vn):this.getRuleContext(t,Vn)}constructor(t,n){super(t,n)}get ruleIndex(){return bn.RULE_formula}enterRule(t){t.enterFormula&&t.enterFormula(this)}exitRule(t){t.exitFormula&&t.exitFormula(this)}accept(t){return t.visitFormula?t.visitFormula(this):t.visitChildren(this)}}class Vn extends A2.ParserRuleContext{constructor(t,n){super(t,n)}get ruleIndex(){return bn.RULE_expr}copyFrom(t){super.copyFrom(t)}}class fW extends Vn{FUNCNAME(){return this.getToken(bn.FUNCNAME,0)}args(){return this.tryGetRuleContext(0,nF)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterFunction&&t.enterFunction(this)}exitRule(t){t.exitFunction&&t.exitFunction(this)}accept(t){return t.visitFunction?t.visitFunction(this):t.visitChildren(this)}}class dW extends Vn{constructor(n){super(n.parent,n.invokingState);Y(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Vn):this.getRuleContext(n,Vn)}MUL(){return this.tryGetToken(bn.MUL,0)}DIV(){return this.tryGetToken(bn.DIV,0)}enterRule(n){n.enterMulDiv&&n.enterMulDiv(this)}exitRule(n){n.exitMulDiv&&n.exitMulDiv(this)}accept(n){return n.visitMulDiv?n.visitMulDiv(this):n.visitChildren(this)}}class hW extends Vn{constructor(n){super(n.parent,n.invokingState);Y(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Vn):this.getRuleContext(n,Vn)}ADD(){return this.tryGetToken(bn.ADD,0)}SUB(){return this.tryGetToken(bn.SUB,0)}enterRule(n){n.enterAddSub&&n.enterAddSub(this)}exitRule(n){n.exitAddSub&&n.exitAddSub(this)}accept(n){return n.visitAddSub?n.visitAddSub(this):n.visitChildren(this)}}class pW extends Vn{constructor(n){super(n.parent,n.invokingState);Y(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Vn):this.getRuleContext(n,Vn)}EQ(){return this.tryGetToken(bn.EQ,0)}NEQ(){return this.tryGetToken(bn.NEQ,0)}LT(){return this.tryGetToken(bn.LT,0)}GT(){return this.tryGetToken(bn.GT,0)}LTE(){return this.tryGetToken(bn.LTE,0)}GTE(){return this.tryGetToken(bn.GTE,0)}enterRule(n){n.enterComparison&&n.enterComparison(this)}exitRule(n){n.exitComparison&&n.exitComparison(this)}accept(n){return n.visitComparison?n.visitComparison(this):n.visitChildren(this)}}class gW extends Vn{NUM(){return this.getToken(bn.NUM,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterNumber&&t.enterNumber(this)}exitRule(t){t.exitNumber&&t.exitNumber(this)}accept(t){return t.visitNumber?t.visitNumber(this):t.visitChildren(this)}}class mW extends Vn{BOOL(){return this.getToken(bn.BOOL,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterBoolean&&t.enterBoolean(this)}exitRule(t){t.exitBoolean&&t.exitBoolean(this)}accept(t){return t.visitBoolean?t.visitBoolean(this):t.visitChildren(this)}}class yW extends Vn{STRING(){return this.getToken(bn.STRING,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterStr&&t.enterStr(this)}exitRule(t){t.exitStr&&t.exitStr(this)}accept(t){return t.visitStr?t.visitStr(this):t.visitChildren(this)}}class vW extends Vn{REFERENCE(){return this.getToken(bn.REFERENCE,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterReference&&t.enterReference(this)}exitRule(t){t.exitReference&&t.exitReference(this)}accept(t){return t.visitReference?t.visitReference(this):t.visitChildren(this)}}class xW extends Vn{expr(){return this.getRuleContext(0,Vn)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterParentheses&&t.enterParentheses(this)}exitRule(t){t.exitParentheses&&t.exitParentheses(this)}accept(t){return t.visitParentheses?t.visitParentheses(this):t.visitChildren(this)}}class nF extends A2.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Vn):this.getRuleContext(t,Vn)}constructor(t,n){super(t,n)}get ruleIndex(){return bn.RULE_args}enterRule(t){t.enterArgs&&t.enterArgs(this)}exitRule(t){t.exitArgs&&t.exitArgs(this)}accept(t){return t.visitArgs?t.visitArgs(this):t.visitChildren(this)}}function*bW(e){const[t,n]=e;for(let r=t.r;r<=n.r;r++)for(let s=t.c;s<=n.c;s++)yield{r,c:s}}function pb(e,t){const[n,r]=t;return n.r<=e.r&&e.r<=r.r&&n.c<=e.c&&e.c<=r.c}function SW(e,t){const[n,r]=e,[s,a]=t;return s.r<=n.r&&r.r<=a.r&&s.c<=n.c&&r.c<=a.c}function AO(e,t){return[{r:Math.min(e.r,t.r),c:Math.min(e.c,t.c)},{r:Math.max(e.r,t.r),c:Math.max(e.c,t.c)}]}function Zx(e){return[EO(e[0]),EO(e[1])]}function AW(e,t){return X0(e[0],t[0])&&X0(e[1],t[1])}function EW(e,t){const n=[];return e[0].r>t[0].r&&n.push([{r:e[0].r-1,c:e[0].c},{r:e[0].r-1,c:e[1].c}]),e[1].r<t[1].r&&n.push([{r:e[1].r+1,c:e[0].c},{r:e[1].r+1,c:e[1].c}]),e[0].c>t[0].c&&n.push([{r:e[0].r,c:e[0].c-1},{r:e[1].r,c:e[0].c-1}]),e[1].c<t[1].c&&n.push([{r:e[0].r,c:e[1].c+1},{r:e[1].r,c:e[1].c+1}]),n}function CW(e,t){const[n,r]=e,[s,a]=t;return[{r:Math.min(n.r,s.r),c:Math.min(n.c,s.c)},{r:Math.max(r.r,a.r),c:Math.max(r.c,a.c)}]}function X0(e,t){return e.r===t.r&&e.c===t.c}function EO(e){return{r:e.r,c:e.c}}function uh(e){return e.includes(":")}function*Dc(e){for(const t of e){if(uh(t)){const n=rF(t);for(const r of bW(n))yield Nt(r);continue}yield t}}function Nt(e){return iy(e.c)+e.r}function wW(e){const[t,n]=e;return`${Nt(t)}:${Nt(n)}`}function iy(e){let t="";for(;e>0;){const n=e%26;n===0?(t="Z"+t,e=Math.floor(e/26)-1):(t=String.fromCharCode(n+64)+t,e=Math.floor(e/26))}return t}function dn(e){const t=e.replace(/\$/g,"");let n=0;for(let a=0;a<t.length;a++){const c=t.charCodeAt(a);if(48<=c&&c<=57){n=a;break}}if(n===0)throw new Error("Invalid Reference");const r=parseInt(t.substring(n)),s=t.substring(0,n).split("").reverse().reduce((a,c,d)=>a+Math.pow(26,d)*(c.charCodeAt(0)-65+1),0);if(isNaN(r)||isNaN(s))throw new Error("Invalid Reference");return{r,c:s}}function rF(e){const[t,n]=e.split(":");return[dn(t),dn(n)]}class Ny{constructor(){Y(this,"ref");Y(this,"bool");Y(this,"num");Y(this,"str")}static create(){return new Ny}setRef(t){return this.ref=t,this}setBool(t){return this.bool=t,this}setNum(t){return this.num=t,this}setStr(t){return this.str=t,this}map(t,n){return t.t==="bool"&&this.bool?this.bool(t):t.t==="num"&&this.num?this.num(t):t.t==="str"&&this.str?this.str(t):t.t==="ref"&&this.ref&&n?this.ref(t,n):t}*iterate(t,n,r){for(const s of t.expr()){const a=n(s);if(a.t==="ref"&&r)for(const c of Dc([a.v]))yield this.ref({t:"ref",v:c},r);else yield this.map(a)}}}function RW(e){return{t:"num",v:e.v?1:0}}function TW(e){const t=Number(e);return{t:"num",v:isNaN(t)?0:t}}function NW(e,t){var s;if(uh(e.v))return{t:"err",v:"#VALUE!"};const n=((s=t.get(e.v))==null?void 0:s.v)||"",r=Number(n);return{t:"num",v:isNaN(r)?0:r}}const ki=Ny.create().setRef(NW).setBool(RW).setStr(TW);function _W(e){return{t:"bool",v:e.v!==0}}function IW(e,t){var s;if(uh(e.v))return{t:"err",v:"#VALUE!"};const n=((s=t.get(e.v))==null?void 0:s.v)||"";if(n==="TRUE"||n==="true")return{t:"bool",v:!0};if(n==="FALSE"||n==="false"||n==="")return{t:"bool",v:!1};const r=Number(n);return isNaN(r)?{t:"err",v:"#VALUE!"}:{t:"bool",v:r!==0}}const xS=Ny.create().setRef(IW).setNum(_W).setStr(()=>({t:"err",v:"#VALUE!"}));function OW(e){return{t:"str",v:e.v.toString()}}function DW(e){return{t:"str",v:e.v?"TRUE":"FALSE"}}function iF(e,t){var r;return uh(e.v)?{t:"err",v:"#VALUE!"}:{t:"str",v:((r=t.get(e.v))==null?void 0:r.v)||""}}Ny.create().setRef(iF).setNum(OW).setBool(DW);const CO=new Map([["SUM",PW],["IF",MW],["AND",LW],["OR",FW],["NOT",kW],["AVERAGE",BW],["MIN",jW],["MAX",zW],["COUNT",UW],["COUNTA",VW],["TRIM",GW],["LEN",$W],["LEFT",HW],["RIGHT",WW],["MID",YW],["CONCATENATE",qW],["TODAY",KW],["NOW",XW],["YEAR",ZW],["MONTH",JW],["DAY",QW],["IFERROR",eY]]);function PW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const a of ki.iterate(r,t,n)){if(a.t==="err")return a;s+=a.v}return{t:"num",v:s}}function MW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<2||s.length>3)return{t:"err",v:"#N/A!"};const a=xS.map(t(s[0]),n);return a.t==="err"?a:a.v?t(s[1]):s.length===3?t(s[2]):{t:"bool",v:!1}}function LW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const s of xS.iterate(r,t,n)){if(s.t==="err")return s;if(!s.v)return{t:"bool",v:!1}}return{t:"bool",v:!0}}function FW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const s of xS.iterate(r,t,n)){if(s.t==="err")return s;if(s.v)return{t:"bool",v:!0}}return{t:"bool",v:!1}}function kW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=xS.map(t(s[0]),n);return a.t==="err"?a:{t:"bool",v:!a.v}}function BW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0,a=0;for(const c of ki.iterate(r,t,n)){if(c.t==="err")return c;s+=c.v,a++}return a===0?{t:"err",v:"#VALUE!"}:{t:"num",v:s/a}}function jW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=1/0;for(const a of ki.iterate(r,t,n)){if(a.t==="err")return a;a.v<s&&(s=a.v)}return{t:"num",v:s}}function zW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=-1/0;for(const a of ki.iterate(r,t,n)){if(a.t==="err")return a;a.v>s&&(s=a.v)}return{t:"num",v:s}}function UW(e,t,n){var a,c;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const d of r.expr()){const h=t(d);if(h.t==="num")s++;else if(h.t==="bool")s++;else if(h.t==="ref"&&n)if(uh(h.v))for(const g of Dc([h.v])){const p=((a=n.get(g))==null?void 0:a.v)||"";p!==""&&!isNaN(Number(p))&&s++}else{const g=((c=n.get(h.v))==null?void 0:c.v)||"";g!==""&&!isNaN(Number(g))&&s++}}return{t:"num",v:s}}function VW(e,t,n){var a,c;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let s=0;for(const d of r.expr()){const h=t(d);if(h.t==="num"||h.t==="bool")s++;else if(h.t==="str")h.v!==""&&s++;else if(h.t==="ref"&&n)if(uh(h.v))for(const g of Dc([h.v]))(((a=n.get(g))==null?void 0:a.v)||"")!==""&&s++;else(((c=n.get(h.v))==null?void 0:c.v)||"")!==""&&s++}return{t:"num",v:s}}function ch(e,t){return e.t==="err"||e.t==="str"?e:e.t==="num"?{t:"str",v:e.v.toString()}:e.t==="bool"?{t:"str",v:e.v?"TRUE":"FALSE"}:e.t==="ref"&&t?iF(e,t):{t:"err",v:"#VALUE!"}}function GW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=ch(t(s[0]),n);return a.t==="err"?a:{t:"str",v:a.v.trim()}}function $W(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=ch(t(s[0]),n);return a.t==="err"?a:{t:"num",v:a.v.length}}function HW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<1||s.length>2)return{t:"err",v:"#N/A!"};const a=ch(t(s[0]),n);if(a.t==="err")return a;let c=1;if(s.length===2){const d=ki.map(t(s[1]),n);if(d.t==="err")return d;c=d.v}return{t:"str",v:a.v.slice(0,c)}}function WW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<1||s.length>2)return{t:"err",v:"#N/A!"};const a=ch(t(s[0]),n);if(a.t==="err")return a;let c=1;if(s.length===2){const d=ki.map(t(s[1]),n);if(d.t==="err")return d;c=d.v}return{t:"str",v:a.v.slice(-c)}}function YW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==3)return{t:"err",v:"#N/A!"};const a=ch(t(s[0]),n);if(a.t==="err")return a;const c=ki.map(t(s[1]),n);if(c.t==="err")return c;const d=ki.map(t(s[2]),n);if(d.t==="err")return d;const h=c.v-1;return{t:"str",v:a.v.slice(h,h+d.v)}}function qW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length<2)return{t:"err",v:"#N/A!"};let a="";for(const c of s){const d=ch(t(c),n);if(d.t==="err")return d;a+=d.v}return{t:"str",v:a}}function KW(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const s=new Date,a=s.getFullYear(),c=String(s.getMonth()+1).padStart(2,"0"),d=String(s.getDate()).padStart(2,"0");return{t:"str",v:`${a}-${c}-${d}`}}function XW(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const s=new Date,a=s.getFullYear(),c=String(s.getMonth()+1).padStart(2,"0"),d=String(s.getDate()).padStart(2,"0"),h=String(s.getHours()).padStart(2,"0"),g=String(s.getMinutes()).padStart(2,"0"),p=String(s.getSeconds()).padStart(2,"0");return{t:"str",v:`${a}-${c}-${d} ${h}:${g}:${p}`}}function E2(e,t){const n=ch(e,t);if(n.t==="err")return n;const r=new Date(n.v);return isNaN(r.getTime())?{t:"err",v:"#VALUE!"}:r}function ZW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=E2(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getFullYear()}:a}function JW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=E2(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getMonth()+1}:a}function QW(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==1)return{t:"err",v:"#N/A!"};const a=E2(t(s[0]),n);return a instanceof Date?{t:"num",v:a.getDate()}:a}function eY(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const s=r.expr();if(s.length!==2)return{t:"err",v:"#N/A!"};const a=t(s[0]);return a.t==="err"?t(s[1]):a}function Z0(e){const t=Qp.CharStreams.fromString(e.slice(1)),n=new eg(t),r=new Qp.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const s=new Set;for(const a of r.getTokens())a.type===bn.REFERENCE&&s.add(a.text.toUpperCase());return s}function Xc(e){const t=Qp.CharStreams.fromString(e.slice(1)),n=new eg(t),r=new Qp.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const s=[];for(const d of r.getTokens())d.type!=eg.EOF&&s.push({type:n.vocabulary.getSymbolicName(d.type)||"STRING",start:d.startIndex,stop:d.stopIndex,text:d.text});const a=[];let c;for(const d of s)!c&&d.start>0?a.push({type:"STRING",start:0,stop:d.start-1,text:e.slice(1,d.start+1)}):c&&c.stop+1!==d.start&&a.push({type:"STRING",start:c.stop+1,stop:d.start-1,text:e.slice(c.stop+2,d.start+1)}),a.push(d),c=d;return c&&c.stop+2<e.length&&a.push({type:"STRING",start:c.stop+1,stop:e.length-1,text:e.slice(c.stop+2)}),a}function Jx(e){const t=Xc(e),n=[];for(const r of t)if(r.type==="REFERENCE")try{const s=r.text.toUpperCase();if(s.includes(":"))n.push({text:s,range:rF(s)});else{const a=dn(s);n.push({text:s,range:[a,a]})}}catch{}return n}function tY(e,t){if(!e.startsWith("=")||t<=0)return!1;if(t===1)return!0;const n=Xc(e);for(const d of n){const h=d.start+1,g=d.stop+2;if(d.type==="REFERENCE"&&t>=h&&t<=g)return!0}const s=e.slice(0,t).trimEnd();if(s.length===0)return!1;const a=s[s.length-1];return new Set(["=","(",",","+","-","*","/","<",">",":"]).has(a)}function wO(e,t){if(!e.startsWith("="))return;const n=Xc(e);for(const r of n){if(r.type!=="REFERENCE")continue;const s=r.start+1,a=r.stop+2;if(t>=s&&t<=a)return{start:s,end:a,text:r.text}}}function nY(e,t){var n;try{const r=Qp.CharStreams.fromString(e.slice(1)),s=new eg(r),a=new Qp.CommonTokenStream(s),c=new bn(a),d=c.expr(),h=new rY(t);s.removeErrorListeners(),c.removeErrorListeners();const g=h.visit(d);return g.t==="ref"&&t?uh(g.v)?"#VALUE!":((n=t.get(g.v))==null?void 0:n.v)||"":g.v.toString()}catch{return"#ERROR!"}}class rY{constructor(t){Y(this,"grid");this.visit=this.visit.bind(this),this.grid=t}visitChildren(){throw new Error("Method not implemented.")}visitTerminal(){throw new Error("Method not implemented.")}visitErrorNode(){throw new Error("Method not implemented.")}visitFormula(){throw new Error("Method not implemented.")}visitExpr(){throw new Error("Method not implemented.")}visitArgs(){throw new Error("Method not implemented.")}visit(t){return t.accept(this)}visitFunction(t){const n=t.FUNCNAME().text.toUpperCase();if(CO.has(n))return CO.get(n)(t,this.visit,this.grid);throw new Error("Function not implemented.")}visitReference(t){return this.grid?{t:"ref",v:t.text.toUpperCase()}:{t:"err",v:"#REF!"}}visitParentheses(t){return this.visit(t.expr())}visitNumber(t){return{t:"num",v:Number(t.text)}}visitBoolean(t){return{t:"bool",v:t.text==="TRUE"||t.text==="true"}}visitAddSub(t){const n=ki.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=ki.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===bn.ADD?{t:"num",v:n.v+r.v}:{t:"num",v:n.v-r.v}}visitMulDiv(t){const n=ki.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=ki.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===bn.MUL?{t:"num",v:n.v*r.v}:{t:"num",v:n.v/r.v}}visitComparison(t){const n=ki.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=ki.map(this.visit(t.expr(1)),this.grid);if(r.t==="err")return r;switch(t._op.type){case bn.EQ:return{t:"bool",v:n.v===r.v};case bn.NEQ:return{t:"bool",v:n.v!==r.v};case bn.LT:return{t:"bool",v:n.v<r.v};case bn.GT:return{t:"bool",v:n.v>r.v};case bn.LTE:return{t:"bool",v:n.v<=r.v};case bn.GTE:return{t:"bool",v:n.v>=r.v};default:return{t:"err",v:"#ERROR!"}}}visitStr(t){return{t:"str",v:t.text.slice(1,-1)}}}function tg(e,t,n,r){const s=t+n;return r<=t?e>=t&&e<s?r+(e-t):e>=r&&e<t?e+n:e:e>=t&&e<s?r-n+(e-t):e>=s&&e<r?e-n:e}function Pc(e,t,n,r,s){return t==="row"?{r:tg(e.r,n,r,s),c:e.c}:{r:e.r,c:tg(e.c,n,r,s)}}function oF(e,t,n,r,s){const a=Xc(e);let c="=";for(const d of a)if(d.type==="REFERENCE"){const h=d.text;if(h.includes(":")){const[g,p]=h.split(":"),m=dn(g.toUpperCase()),x=dn(p.toUpperCase()),b=Pc(m,t,n,r,s),E=Pc(x,t,n,r,s);c+=Nt(b)+":"+Nt(E)}else{const g=dn(h.toUpperCase()),p=Pc(g,t,n,r,s);c+=Nt(p)}}else c+=d.text;return c}function iY(e,t,n,r,s){const a=new Map;for(const[c,d]of e){const h=dn(c),g=Pc(h,t,n,r,s),p=Nt(g);let m;d.f?m={...d,f:oF(d.f,t,n,r,s)}:m={...d},a.set(p,m)}return a}function Op(e,t,n,r){const s=new Map;for(const[a,c]of e)s.set(tg(a,t,n,r),c);return s}function oY(e,t,n){const r=Xc(e);let s="=";for(const a of r)if(a.type==="REFERENCE"){const c=a.text;if(c.includes(":")){const[d,h]=c.split(":"),g=dn(d.toUpperCase()),p=dn(h.toUpperCase()),m={r:g.r+t,c:g.c+n},x={r:p.r+t,c:p.c+n};m.r<1||m.c<1||x.r<1||x.c<1?s+="#REF!":s+=Nt(m)+":"+Nt(x)}else{const d=dn(c.toUpperCase()),h={r:d.r+t,c:d.c+n};h.r<1||h.c<1?s+="#REF!":s+=Nt(h)}}else s+=a.text;return s}function gb(e,t,n,r){const s=t==="row"?e.r:e.c;if(r>0)return s>=n?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e;const a=Math.abs(r);return s>=n&&s<n+a?null:s>=n+a?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e}function sF(e,t,n,r){const s=dn(e),a=gb(s,t,n,r);return a?Nt(a):null}function aF(e,t,n,r){const s=Xc(e);let a="=";for(const c of s)if(c.type==="REFERENCE"){const d=c.text;if(d.includes(":")){const[h,g]=d.split(":"),p=dn(h.toUpperCase()),m=dn(g.toUpperCase()),x=gb(p,t,n,r),b=gb(m,t,n,r);!x||!b?a+="#REF!":a+=Nt(x)+":"+Nt(b)}else{const h=dn(d.toUpperCase()),g=gb(h,t,n,r);g?a+=Nt(g):a+="#REF!"}}else a+=c.text;return a}function Dp(e,t,n){const r=new Map;for(const[s,a]of e)if(n>0)s>=t?r.set(s+n,a):r.set(s,a);else{const c=Math.abs(n);s>=t&&s<t+c||(s>=t+c?r.set(s+n,a):r.set(s,a))}return r}function sY(e,t,n,r){const s=new Map;for(const[a,c]of e){const d=sF(a,t,n,r);if(d===null)continue;let h;c.f?h={...c,f:aF(c.f,t,n,r)}:h={...c},s.set(d,h)}return s}class RO{constructor(t){Y(this,"customSizes");Y(this,"defaultSize");this.defaultSize=t,this.customSizes=new Map}getSize(t){return this.customSizes.get(t)??this.defaultSize}setSize(t,n){n===this.defaultSize?this.customSizes.delete(t):this.customSizes.set(t,n)}getDefaultSize(){return this.defaultSize}getOffset(t){let n=(t-1)*this.defaultSize;for(const[r,s]of this.customSizes)r<t&&(n+=s-this.defaultSize);return n}findIndex(t){if(this.customSizes.size===0)return Math.floor(t/this.defaultSize)+1;const n=Array.from(this.customSizes.entries()).sort((a,c)=>a[0]-c[0]);let r=0,s=0;for(const[a,c]of n){const d=a-1-s,h=r+d*this.defaultSize;if(t<h)return s+Math.floor((t-r)/this.defaultSize)+1;if(r=h,t<r+c)return a;r+=c,s=a}return s+Math.floor((t-r)/this.defaultSize)+1}shift(t,n){const r=new Map;for(const[s,a]of this.customSizes)if(n>0)s>=t?r.set(s+n,a):r.set(s,a);else{const c=Math.abs(n);s>=t&&s<t+c||(s>=t+c?r.set(s+n,a):r.set(s,a))}this.customSizes=r}move(t,n,r){const s=new Map;for(const[a,c]of this.customSizes)s.set(tg(a,t,n,r),c);this.customSizes=s}clear(){this.customSizes.clear()}hasCustomSizes(){return this.customSizes.size>0}}class C2{constructor(){Y(this,"rowIndex",new Map);Y(this,"colIndex",new Map)}add(t,n){let r=this.rowIndex.get(t);r||(r=new Set,this.rowIndex.set(t,r)),r.add(n);let s=this.colIndex.get(n);s||(s=new Set,this.colIndex.set(n,s)),s.add(t)}remove(t,n){const r=this.rowIndex.get(t);r&&(r.delete(n),r.size===0&&this.rowIndex.delete(t));const s=this.colIndex.get(n);s&&(s.delete(t),s.size===0&&this.colIndex.delete(n))}has(t,n){const r=this.rowIndex.get(t);return r!==void 0&&r.has(n)}clear(){this.rowIndex.clear(),this.colIndex.clear()}rebuild(t){this.clear();for(const[n,r]of t)this.add(n,r)}*cellsInRange(t){const[n,r]=t;for(const[s,a]of this.rowIndex)if(!(s<n.r||s>r.r))for(const c of a)c>=n.c&&c<=r.c&&(yield[s,c])}hasAnyInRange(t){return!this.cellsInRange(t).next().done}getOccupiedColsInRow(t){return this.rowIndex.get(t)}getOccupiedRowsInCol(t){return this.colIndex.get(t)}get size(){let t=0;for(const n of this.rowIndex.values())t+=n.size;return t}}function w2(e,t,n,r,s){const a=n==="left"||n==="right",c=n==="down"||n==="right",d=a?t.c:t.r,h=a?r[0].c:r[0].r,g=a?r[1].c:r[1].r,p=a?e.getOccupiedColsInRow(t.r):e.getOccupiedRowsInCol(t.c);let m;if(p&&s){const T=new Set;for(const _ of p){const I=a?t.r:_,O=a?_:t.c;s(I,O)&&T.add(_)}m=T.size>0?T:void 0}else m=p;if(!m||m.size===0)return TO(t,n,r);const x=Array.from(m).sort((T,_)=>T-_);c||x.reverse();const b=c?x.filter(T=>T>d):x.filter(T=>T<d),E=m.has(d),w=c?d+1:d-1,C=pb(a?{r:t.r,c:w}:{r:w,c:t.c},r)&&m.has(w);if(E&&C){let T=d,_=w;for(;(c?_<=g:_>=h)&&m.has(_);)T=_,_=c?_+1:_-1;return a?{r:t.r,c:T}:{r:T,c:t.c}}if(b.length>0){const T=b[0];return a?{r:t.r,c:T}:{r:T,c:t.c}}return TO(t,n,r)}function TO(e,t,n){switch(t){case"up":return{r:n[0].r,c:e.c};case"down":return{r:n[1].r,c:e.c};case"left":return{r:e.r,c:n[0].c};case"right":return{r:e.r,c:n[1].c}}}class aY{constructor(){Y(this,"grid",new Map);Y(this,"cellIndex",new C2)}loadQueryResults(t,n){this.grid.clear();for(let r=0;r<t.length;r++){const s=Nt({r:0,c:r});this.grid.set(s,{v:t[r].name,s:{bold:!0}})}for(let r=0;r<n.length;r++){const s=n[r];for(let a=0;a<t.length;a++){const c=s[t[a].name];if(c==null)continue;const d=Nt({r:r+1,c:a});this.grid.set(d,{v:String(c)})}}this.rebuildIndex()}async set(t,n){}async get(t){return this.grid.get(Nt(t))}async has(t){return this.grid.has(Nt(t))}async delete(t){return!1}async deleteRange(t){return new Set}async setGrid(t){}async getGrid(t){const n=new Map;for(const[r,s]of this.cellIndex.cellsInRange(t)){const a=Nt({r,c:s}),c=this.grid.get(a);c!==void 0&&n.set(a,c)}return n}async findEdge(t,n,r){return w2(this.cellIndex,t,n,r,(s,a)=>{const c=this.grid.get(Nt({r:s,c:a}));return c!==void 0&&(!!c.v||!!c.f)})}async shiftCells(t,n,r){}async moveCells(t,n,r,s){}async buildDependantsMap(t){return new Map}getPresences(){return[]}updateActiveCell(t){}async setDimensionSize(t,n,r){}async getDimensionSizes(t){return new Map}async setColumnStyle(t,n){}async getColumnStyles(){return new Map}async setRowStyle(t,n){}async getRowStyles(){return new Map}async setSheetStyle(t){}async getSheetStyle(){}async setFreezePane(t,n){}async getFreezePane(){return{frozenRows:0,frozenCols:0}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=dn(t);return[n.r,n.c]}))}}async function k0(e,t,n){const[r,s]=lY(t,n);for(const a of r){const c=dn(a);if(!await e.hasFormula(c))continue;const d=await e.getCell(c);if(s.has(a)){await e.setCell(c,{v:"#REF!",f:d.f});continue}const h=Z0(d.f),g=await e.fetchGridByReferences(h),p=await nY(d.f,g);await e.setCell(c,{v:p,f:d.f})}}function lY(e,t){const n=[],r=new Set,s=new Set,a=new Set,c=d=>{if(a.has(d))for(const h of a)r.add(h);if(a.add(d),!s.has(d)){if(s.add(d),e.has(d))for(const h of e.get(d))c(h);n.push(d)}a.delete(d)};for(const d of t)c(d);return[n.reverse(),r]}function uY(e){let t=1/0,n=1/0,r=0,s=0;for(const[c]of e.entries()){const{r:d,c:h}=dn(c);t=Math.min(t,d),n=Math.min(n,h),r=Math.max(r,d),s=Math.max(s,h)}const a=Array.from({length:r-t+1},()=>Array(s-n+1).fill(""));for(const[c,d]of e.entries()){const{r:h,c:g}=dn(c);a[h-t][g-n]=d.v||d.f||""}return a.map(c=>c.join("	")).join(`
`)}function cY(e,t){let n=e.r,r=e.c;const s=new Map,a=t.split(`
`);for(const c of a){const d=c.split("	");for(const h of d)s.set(Nt({r:n,c:r}),{v:h}),r+=1;n+=1,r=e.c}return s}function NO(e){const t=e.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);if(!t)return;const n=parseInt(t[1],10),r=parseInt(t[2],10),s=parseInt(t[3],10);if(!(n===255&&r===255&&s===255))return"#"+n.toString(16).padStart(2,"0")+r.toString(16).padStart(2,"0")+s.toString(16).padStart(2,"0")}function fY(e){return e.includes("google-sheets-html-origin")||e.includes("data-sheets-value")||e.includes("urn:schemas-microsoft-com:office:excel")||e.includes('xmlns:x="urn:schemas-microsoft-com:office:excel"')}function dY(e,t){const s=new DOMParser().parseFromString(e,"text/html").querySelector("table");if(!s)return new Map;const a=new Map,c=s.querySelectorAll("tr");for(let d=0;d<c.length;d++){const h=c[d].querySelectorAll("td, th");for(let g=0;g<h.length;g++){const p=h[g],m=p.textContent||"";if(!m&&!p.style.cssText)continue;const x={v:m},b={};let E=!1;const w=p.style.fontWeight;if((w==="bold"||w==="700")&&(b.b=!0,E=!0),p.style.fontStyle==="italic"&&(b.i=!0,E=!0),p.style.backgroundColor){const C=NO(p.style.backgroundColor);C&&(b.bg=C,E=!0)}if(p.style.color){const C=NO(p.style.color);C&&(b.tc=C,E=!0)}if(p.style.textAlign){const C=p.style.textAlign;(C==="left"||C==="center"||C==="right")&&(b.al=C,E=!0)}E&&(x.s=b),a.set(Nt({r:t.r+d,c:t.c+g}),x)}}return a}function lF(e,t,n){if(!t||t==="plain"||e==="")return e;const r=Number(e);if(isNaN(r))return e;const s=n??2;switch(t){case"number":return r.toLocaleString("en-US",{minimumFractionDigits:s,maximumFractionDigits:s});case"currency":return r.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:s,maximumFractionDigits:s});case"percent":return(r/100).toLocaleString("en-US",{style:"percent",minimumFractionDigits:s,maximumFractionDigits:s});default:return e}}const hY={rows:1e6,columns:18278};class pY{constructor(t){Y(this,"store");Y(this,"dimension");Y(this,"activeCell");Y(this,"range");Y(this,"selectionType","cell");Y(this,"rowDimensions");Y(this,"colDimensions");Y(this,"frozenRows",0);Y(this,"frozenCols",0);Y(this,"colStyles",new Map);Y(this,"rowStyles",new Map);Y(this,"sheetStyle");Y(this,"copyBuffer");this.store=t,this.dimension={...hY},this.activeCell={r:1,c:1}}get dimensionRange(){return[{r:1,c:1},{r:this.dimension.rows,c:this.dimension.columns}]}getDimension(){return this.dimension}setDimensions(t,n){this.rowDimensions=t,this.colDimensions=n}getRowDimensions(){return this.rowDimensions}getColDimensions(){return this.colDimensions}setRowHeight(t,n){var r;(r=this.rowDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("row",t,n)}setColumnWidth(t,n){var r;(r=this.colDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("column",t,n)}async loadDimensions(){if(this.rowDimensions){this.rowDimensions.clear();const t=await this.store.getDimensionSizes("row");for(const[n,r]of t)this.rowDimensions.setSize(n,r)}if(this.colDimensions){this.colDimensions.clear();const t=await this.store.getDimensionSizes("column");for(const[n,r]of t)this.colDimensions.setSize(n,r)}}getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n,await this.store.setFreezePane(t,n)}async loadFreezePane(){const{frozenRows:t,frozenCols:n}=await this.store.getFreezePane();this.frozenRows=t,this.frozenCols=n}async loadStyles(){this.colStyles=await this.store.getColumnStyles(),this.rowStyles=await this.store.getRowStyles(),this.sheetStyle=await this.store.getSheetStyle()}getColStyles(){return this.colStyles}getRowStyles(){return this.rowStyles}getSheetStyle(){return this.sheetStyle}resolveEffectiveStyle(t,n,r){const s=this.sheetStyle,a=this.colStyles.get(n),c=this.rowStyles.get(t);if(!(!s&&!a&&!c&&!r))return{...s,...a,...c,...r}}async getCell(t){return this.store.get(t)}async setCell(t,n){await this.store.set(t,n)}async setGrid(t){await this.store.setGrid(t)}async hasFormula(t){const n=await this.store.get(t);return!!(n&&n.f)}async toInputString(t){const n=await this.store.get(t);return n?n.f?n.f:n.v||"":""}async toDisplayString(t){const n=await this.store.get(t);if(!n||!n.v)return"";const r=this.resolveEffectiveStyle(t.r,t.c,n.s);return lF(n.v,r==null?void 0:r.nf,r==null?void 0:r.dp)}async setData(t,n){this.store.beginBatch();try{const r=await this.store.get(t),s=n.startsWith("=")?{f:n}:{v:n},a=r!=null&&r.s?{...s,s:r.s}:s;this.isEmptyCell(a)?await this.store.delete(t):await this.store.set(t,a);const c=await this.store.buildDependantsMap([Nt(t)]);await k0(this,c,[Nt(t)])}finally{this.store.endBatch()}}async removeData(){this.store.beginBatch();try{const t=this.range?this.range:[this.activeCell,this.activeCell],n=await this.store.getGrid(t),r=new Set;for(const[a,c]of n){const d=dn(a);c.s&&Object.keys(c.s).length>0?await this.store.set(d,{s:c.s}):await this.store.delete(d),r.add(a)}if(r.size===0)return!1;const s=await this.store.buildDependantsMap(r);return await k0(this,s,r),!0}finally{this.store.endBatch()}}async insertRows(t,n=1){await this.shiftCells("row",t,n)}async deleteRows(t,n=1){await this.shiftCells("row",t,-n)}async insertColumns(t,n=1){await this.shiftCells("column",t,n)}async deleteColumns(t,n=1){await this.shiftCells("column",t,-n)}async moveRows(t,n,r){await this.moveCells("row",t,n,r)}async moveColumns(t,n,r){await this.moveCells("column",t,n,r)}async shiftCells(t,n,r){var a,c;await this.store.shiftCells(t,n,r),t==="row"?((a=this.rowDimensions)==null||a.shift(n,r),this.rowStyles=Dp(this.rowStyles,n,r)):((c=this.colDimensions)==null||c.shift(n,r),this.colStyles=Dp(this.colStyles,n,r));const s=t==="row"?this.activeCell.r:this.activeCell.c;if(r>0&&s>=n)t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r};else if(r<0){const d=Math.abs(r);s>=n&&s<n+d?t==="row"?this.activeCell={r:Math.max(1,n),c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:Math.max(1,n)}:s>=n+d&&(t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r})}this.store.beginBatch();try{const d=t==="row"?this.frozenRows:this.frozenCols;if(d>0){if(r>0&&n<=d){const m=d+r;t==="row"?this.frozenRows=m:this.frozenCols=m,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}else if(r<0){const m=Math.abs(r);if(n<=d){const x=Math.min(m,d-n+1),b=Math.max(0,d-x);t==="row"?this.frozenRows=b:this.frozenCols=b,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}}}const h=new Set,g=[{r:1,c:1},{r:1e3,c:100}],p=await this.store.getGrid(g);for(const[m,x]of p)x.f&&h.add(m);if(h.size>0){const m=await this.store.buildDependantsMap(h);await k0(this,m,h)}}finally{this.store.endBatch()}}async moveCells(t,n,r,s){var a,c;if(!(s>=n&&s<=n+r)){await this.store.moveCells(t,n,r,s),t==="row"?((a=this.rowDimensions)==null||a.move(n,r,s),this.rowStyles=Op(this.rowStyles,n,r,s)):((c=this.colDimensions)==null||c.move(n,r,s),this.colStyles=Op(this.colStyles,n,r,s)),this.activeCell=Pc(this.activeCell,t,n,r,s),this.range&&(this.range=[Pc(this.range[0],t,n,r,s),Pc(this.range[1],t,n,r,s)]),this.store.beginBatch();try{const d=new Set,h=[{r:1,c:1},{r:1e3,c:100}],g=await this.store.getGrid(h);for(const[p,m]of g)m.f&&d.add(p);if(d.size>0){const p=await this.store.buildDependantsMap(d);await k0(this,p,d)}}finally{this.store.endBatch()}}}async fetchGrid(t){return this.store.getGrid(t)}isEmptyCell(t){const n=t.v!==void 0&&t.v!==""&&t.v!==null,r=!!t.f,s=t.s!==void 0&&Object.keys(t.s).length>0;return!n&&!r&&!s}getCopyRange(){var t;return(t=this.copyBuffer)==null?void 0:t.sourceRange}clearCopyBuffer(){this.copyBuffer=void 0}async copy(){const t=this.range||[this.activeCell,this.activeCell],n=await this.fetchGrid(t),r=uY(n);return this.copyBuffer={sourceRange:t,grid:n,text:r},{text:r}}async paste(t){const{text:n,html:r}=t;let s;if(this.copyBuffer&&n===this.copyBuffer.text)s=this.relocateGrid(this.copyBuffer.grid,this.copyBuffer.sourceRange,this.activeCell);else if(r&&fY(r))s=dY(r,this.activeCell);else if(n)s=cY(this.activeCell,n);else return;this.store.beginBatch();try{await this.setGrid(s);const a=new Set;for(const[c,d]of s)d.f&&a.add(c);if(a.size>0){const c=await this.store.buildDependantsMap(a);await k0(this,c,a)}}finally{this.store.endBatch()}this.selectPastedRange(s)}selectPastedRange(t){if(t.size===0)return;let n=1/0,r=-1/0,s=1/0,a=-1/0;for(const c of t.keys()){const d=dn(c);d.r<n&&(n=d.r),d.r>r&&(r=d.r),d.c<s&&(s=d.c),d.c>a&&(a=d.c)}n===r&&s===a?this.selectStart({r:n,c:s}):(this.selectionType="cell",this.activeCell={r:n,c:s},this.range=[{r:n,c:s},{r,c:a}],this.store.updateActiveCell(this.activeCell))}relocateGrid(t,n,r){const s=r.r-n[0].r,a=r.c-n[0].c,c=new Map;for(const[d,h]of t){const g=dn(d),p={r:g.r+s,c:g.c+a},m=Nt(p);if(h.f){const x=oY(h.f,s,a);c.set(m,{f:x,s:h.s})}else c.set(m,{...h})}return c}async hasContents(t){return(await this.store.getGrid(t)).size>0}async fetchGridByReferences(t){const n=new Map;for(const r of Dc(t)){const s=await this.store.get(dn(r));s&&n.set(r,s)}return n}getActiveCell(){return this.activeCell}setActiveCell(t){this.activeCell=t,this.store.updateActiveCell(t)}getRange(){return this.range}getPresences(){return this.store.getPresences()}getRangeOrActiveCell(){return this.range||[this.activeCell,this.activeCell]}getSelectionType(){return this.selectionType}selectRow(t){this.selectionType="row",this.activeCell={r:t,c:1},this.range=[{r:t,c:1},{r:t,c:this.dimension.columns}],this.store.updateActiveCell(this.activeCell)}selectColumn(t){this.selectionType="column",this.activeCell={r:1,c:t},this.range=[{r:1,c:t},{r:this.dimension.rows,c:t}],this.store.updateActiveCell(this.activeCell)}selectRowRange(t,n){this.selectionType="row";const r=Math.min(t,n),s=Math.max(t,n);this.range=[{r,c:1},{r:s,c:this.dimension.columns}]}selectColumnRange(t,n){this.selectionType="column";const r=Math.min(t,n),s=Math.max(t,n);this.range=[{r:1,c:r},{r:this.dimension.rows,c:s}]}selectAllCells(){this.selectionType="all",this.activeCell={r:1,c:1},this.range=Zx(this.dimensionRange),this.store.updateActiveCell(this.activeCell)}getSelectedIndices(){return this.selectionType==="cell"||this.selectionType==="all"||!this.range?null:this.selectionType==="row"?{axis:"row",from:this.range[0].r,to:this.range[1].r}:{axis:"column",from:this.range[0].c,to:this.range[1].c}}selectStart(t){pb(t,this.dimensionRange)&&(this.selectionType="cell",this.setActiveCell(t),this.range=void 0)}selectEnd(t){if(pb(t,this.dimensionRange)){if(X0(this.activeCell,t)){this.range=void 0;return}this.range=AO(this.activeCell,t)}}hasRange(){return!!this.range}async selectAll(){let t=this.getRangeOrActiveCell(),n=Zx(t),r=!0;for(;r;){r=!1;for(const s of EW(n,this.dimensionRange))await this.hasContents(s)&&(n=CW(n,s),r=!0)}if(AW(t,n)){this.range=Zx(this.dimensionRange);return}this.range=n}async moveToEdge(t){const n=await this.store.findEdge(this.activeCell,t,this.dimensionRange);return X0(this.activeCell,n)?!1:(this.range=void 0,this.setActiveCell(n),!0)}move(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let s=this.activeCell.r+n,a=this.activeCell.c+r;return!pb({r:s,c:a},this.dimensionRange)||X0(this.activeCell,{r:s,c:a})?!1:(this.range=void 0,this.setActiveCell({r:s,c:a}),!0)}resizeRange(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let s=Zx(this.range||[this.activeCell,this.activeCell]);return this.activeCell.r===s[1].r?s[0].r+=n:s[1].r+=n,this.activeCell.c===s[1].c?s[0].c+=r:s[1].c+=r,s=AO(s[0],s[1]),SW(s,this.dimensionRange)?(this.range=s,!0):!1}async getStyle(t){const n=await this.store.get(t);return this.resolveEffectiveStyle(t.r,t.c,n==null?void 0:n.s)}async setStyle(t,n){const r=await this.store.get(t)||{},s={...r.s,...n};for(const c of Object.keys(s))(s[c]===void 0||s[c]==="")&&delete s[c];const a=Object.keys(s).length>0?{...r,s}:{v:r.v,f:r.f};await this.store.set(t,a)}async setRangeStyle(t){this.store.beginBatch();try{if(this.selectionType==="column"){const r=this.getRangeOrActiveCell();for(let s=r[0].c;s<=r[1].c;s++){const c={...this.colStyles.get(s)||{},...t};for(const d of Object.keys(c))!c[d]&&c[d]!==0&&delete c[d];this.colStyles.set(s,c),await this.store.setColumnStyle(s,c)}return}if(this.selectionType==="row"){const r=this.getRangeOrActiveCell();for(let s=r[0].r;s<=r[1].r;s++){const c={...this.rowStyles.get(s)||{},...t};for(const d of Object.keys(c))!c[d]&&c[d]!==0&&delete c[d];this.rowStyles.set(s,c),await this.store.setRowStyle(s,c)}return}if(this.selectionType==="all"){const s={...this.sheetStyle||{},...t};for(const a of Object.keys(s))!s[a]&&s[a]!==0&&delete s[a];this.sheetStyle=s,await this.store.setSheetStyle(s);return}const n=this.getRangeOrActiveCell();for(let r=n[0].r;r<=n[1].r;r++)for(let s=n[0].c;s<=n[1].c;s++)await this.setStyle({r,c:s},t)}finally{this.store.endBatch()}}async toggleRangeStyle(t){const n=await this.getStyle(this.activeCell),r=!(n!=null&&n[t]);await this.setRangeStyle({[t]:r})}async getActiveDecimalPlaces(){const t=await this.getStyle(this.activeCell);return(t==null?void 0:t.dp)??2}async undo(){const t=await this.store.undo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}async redo(){const t=await this.store.redo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}moveInRange(t,n){const r=this.range||this.dimensionRange;let s=this.activeCell.r,a=this.activeCell.c;const c=r[1].r-r[0].r+1,d=r[1].c-r[0].c+1;t!==0&&(s+t>r[1].r?(s=r[0].r,a=(a+1-r[0].c+d)%d+r[0].c):s+t<r[0].r?(s=r[1].r,a=(a-1-r[0].c+d)%d+r[0].c):s+=t),n!==0&&(a+n>r[1].c?(a=r[0].c,s=(s+1-r[0].r+c)%c+r[0].r):a+n<r[0].c?(a=r[1].c,s=(s-1-r[0].r+c)%c+r[0].r):a+=n),this.setActiveCell({r:s,c:a})}}class gY{constructor(t){Y(this,"grid");Y(this,"cellIndex",new C2);Y(this,"rowHeights",new Map);Y(this,"colWidths",new Map);Y(this,"colStyles",new Map);Y(this,"rowStyles",new Map);Y(this,"sheetStyle");Y(this,"frozenRows",0);Y(this,"frozenCols",0);this.grid=t||new Map,this.rebuildIndex()}async set(t,n){this.grid.set(Nt(t),n),this.cellIndex.add(t.r,t.c)}async get(t){return this.grid.get(Nt(t))}async has(t){return this.grid.has(Nt(t))}async delete(t){const n=this.grid.delete(Nt(t));return n&&this.cellIndex.remove(t.r,t.c),n}async deleteRange(t){const n=new Set,r=[];for(const[s,a]of this.cellIndex.cellsInRange(t)){const c=Nt({r:s,c:a});this.grid.delete(c),n.add(c),r.push([s,a])}for(const[s,a]of r)this.cellIndex.remove(s,a);return n}async setGrid(t){for(const[n,r]of t){this.grid.set(n,r);const s=dn(n);this.cellIndex.add(s.r,s.c)}}async getGrid(t){const n=new Map;for(const[r,s]of this.cellIndex.cellsInRange(t)){const a=Nt({r,c:s}),c=this.grid.get(a);c!==void 0&&n.set(a,c)}return n}async findEdge(t,n,r){return w2(this.cellIndex,t,n,r,(s,a)=>{const c=this.grid.get(Nt({r:s,c:a}));return c!==void 0&&(!!c.v||!!c.f)})}async shiftCells(t,n,r){this.grid=sY(this.grid,t,n,r),this.rebuildIndex(),t==="row"?(this.rowHeights=Dp(this.rowHeights,n,r),this.rowStyles=Dp(this.rowStyles,n,r)):(this.colWidths=Dp(this.colWidths,n,r),this.colStyles=Dp(this.colStyles,n,r))}async moveCells(t,n,r,s){this.grid=iY(this.grid,t,n,r,s),this.rebuildIndex(),t==="row"?(this.rowHeights=Op(this.rowHeights,n,r,s),this.rowStyles=Op(this.rowStyles,n,r,s)):(this.colWidths=Op(this.colWidths,n,r,s),this.colStyles=Op(this.colStyles,n,r,s))}async buildDependantsMap(t){const n=Array.from(this.grid.entries()),r=new Map;for(const[s,a]of n)if(a.f)for(const c of Dc(Z0(a.f)))r.has(c)||r.set(c,new Set),r.get(c).add(s);return r}getPresences(){return[]}async setDimensionSize(t,n,r){(t==="row"?this.rowHeights:this.colWidths).set(n,r)}async getDimensionSizes(t){return new Map(t==="row"?this.rowHeights:this.colWidths)}updateActiveCell(t){}async setColumnStyle(t,n){this.colStyles.set(t,n)}async getColumnStyles(){return new Map(this.colStyles)}async setRowStyle(t,n){this.rowStyles.set(t,n)}async getRowStyles(){return new Map(this.rowStyles)}async setSheetStyle(t){this.sheetStyle=t}async getSheetStyle(){return this.sheetStyle?{...this.sheetStyle}:void 0}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n}async getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=dn(t);return[n.r,n.c]}))}}const mY={cellBorderColor:"#D3D3D3",cellBGColor:"#FFFFFF",cellTextColor:"#000000",activeCellColor:"#E6C746",selectionBGColor:"rgba(230, 199, 70, 0.1)",headerBGColor:"#F0F0F0",headerActiveBGColor:"#E6C746","tokens.REFERENCE":"#E6C746","tokens.NUM":"#4DA6FF",peerCursor1:"#FF6B6B",peerCursor2:"#4ECDC4",peerCursor3:"#45B7D1",peerCursor4:"#96CEB4",peerCursor5:"#FFEAA7",peerCursor6:"#DDA0DD",peerCursor7:"#98D8C8",peerCursor8:"#F7DC6F",resizeHandleColor:"#1A73E8",headerSelectedBGColor:"rgba(26, 115, 232, 0.3)",dropIndicatorColor:"#1A73E8",freezeLineColor:"#BBBBBB",freezeHandleColor:"#9E9E9E",freezeHandleHoverColor:"#5F6368",formulaRange1:"#1A73E8",formulaRange2:"#E84C3D",formulaRange3:"#9B59B6",formulaRange4:"#27AE60",formulaRange5:"#F39C12",formulaRange6:"#00ACC1"},yY={cellBorderColor:"#4A4A4A",cellBGColor:"#1E1E1E",cellTextColor:"#FFFFFF",activeCellColor:"#D4B73E",selectionBGColor:"rgba(212, 183, 62, 0.1)",headerBGColor:"#2D2D2D",headerActiveBGColor:"#D4B73E","tokens.REFERENCE":"#D4B73E","tokens.NUM":"#4DA6FF",peerCursor1:"#FF7979",peerCursor2:"#55EFC4",peerCursor3:"#74B9FF",peerCursor4:"#A4D4C4",peerCursor5:"#FDCB6E",peerCursor6:"#E17055",peerCursor7:"#81ECEC",peerCursor8:"#F8D84F",resizeHandleColor:"#8AB4F8",headerSelectedBGColor:"rgba(138, 180, 248, 0.3)",dropIndicatorColor:"#8AB4F8",freezeLineColor:"#5A5A5A",freezeHandleColor:"#8E8E8E",freezeHandleHoverColor:"#CCCCCC",formulaRange1:"#8AB4F8",formulaRange2:"#FF7979",formulaRange3:"#BB86FC",formulaRange4:"#66BB6A",formulaRange5:"#FFB74D",formulaRange6:"#4DD0E1"};function sr(e,t){return e==="light"?mY[t]:yY[t]}const _O=["formulaRange1","formulaRange2","formulaRange3","formulaRange4","formulaRange5","formulaRange6"];function _b(e,t){return sr(e,_O[t%_O.length])}function IO(e,t){const n=["peerCursor1","peerCursor2","peerCursor3","peerCursor4","peerCursor5","peerCursor6","peerCursor7","peerCursor8"];let r=0;for(let a=0;a<t.length;a++){const c=t.charCodeAt(a);r=(r<<5)-r+c,r=r&r}const s=Math.abs(r)%n.length;return sr(e,n[s])}function Vd(e){const t=window.getSelection();if(t.rangeCount===0)return;const n=t.getRangeAt(0);if(!e.contains(n.commonAncestorContainer))return;let r=0,s=0,a=0;function c(d){if(d.nodeType===Node.TEXT_NODE){const h=d.textContent;d===n.startContainer&&(s=r+n.startOffset),d===n.endContainer&&(a=r+n.endOffset),r+=h.length}for(const h of d.childNodes)c(h)}return c(e),{start:s,end:a}}function Fp(e,t){let n=0,r=null,s=null;const a=document.createRange();function c(h){if(h.nodeType===Node.TEXT_NODE){const g=h.textContent;r===null&&n+g.length>=t.start&&(r=h,a.setStart(h,t.start-n)),s===null&&n+g.length>=t.end&&(s=h,a.setEnd(h,t.end-n)),n+=g.length}for(const g of h.childNodes)c(g)}c(e);const d=window.getSelection();d.removeAllRanges(),d.addRange(a),e.focus()}function uF(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#039;"),e=e.replace(/\n/g,"<br>"),e=e.replace(/ /g,"&nbsp;"),e}const cF=23,fF=10;class vY{constructor(t="light"){Y(this,"sheet");Y(this,"theme");Y(this,"container");Y(this,"cellLabel");Y(this,"formulaInput");Y(this,"boundRenderInput");this.theme=t,this.container=document.createElement("div"),this.container.style.height=`${cF}px`,this.container.style.margin=`${fF}px 0px`,this.container.style.display="flex",this.container.style.alignItems="center",this.container.style.borderTop=`1px solid ${sr(this.theme,"cellBorderColor")}`,this.container.style.borderBottom=`1px solid ${sr(this.theme,"cellBorderColor")}`,this.container.style.justifyContent="flex-start",this.cellLabel=document.createElement("div"),this.cellLabel.style.width="120px",this.cellLabel.style.textAlign="center",this.cellLabel.style.font="12px Arial",this.cellLabel.style.borderRight=`1px solid ${sr(this.theme,"cellBorderColor")}`,this.container.appendChild(this.cellLabel),this.formulaInput=document.createElement("div"),this.formulaInput.contentEditable="true",this.formulaInput.style.margin="0 20px",this.formulaInput.style.width="100%",this.formulaInput.style.height="12px",this.formulaInput.style.border="none",this.formulaInput.style.font="12px Arial",this.formulaInput.style.outline="none",this.formulaInput.style.overflow="hidden",this.formulaInput.style.whiteSpace="nowrap",this.formulaInput.style.lineHeight="12px",this.container.appendChild(this.formulaInput),this.boundRenderInput=this.renderInput.bind(this),this.formulaInput.addEventListener("input",this.boundRenderInput)}getContainer(){return this.container}initialize(t){this.sheet=t}cleanup(){this.formulaInput.removeEventListener("input",this.boundRenderInput),this.sheet=void 0,this.container.remove()}async render(){if(!this.sheet)return;const t=this.sheet.getActiveCell(),n=this.sheet.getSelectionType(),r=this.sheet.getSelectedIndices();let s;if(n==="row"&&r)s=`${r.from}:${r.to}`;else if(n==="column"&&r){const a=iy(r.from),c=iy(r.to);s=`${a}:${c}`}else{const a=this.sheet.getRange();s=a?wW(a):Nt(t)}this.cellLabel.textContent=s,this.formulaInput.innerText=await this.sheet.toInputString(t),this.renderInput()}getFormulaInput(){return this.formulaInput}getValue(){return this.formulaInput.innerText}setValue(t){this.formulaInput.innerText=t,this.renderInput()}focus(){this.formulaInput.focus()}blur(){this.formulaInput.blur()}isFocused(){return document.activeElement===this.formulaInput}renderInput(){const t=this.formulaInput.innerText;if(!t.startsWith("="))return;const n=Xc(t),r=[];let s=0;for(const c of n){if(c.type==="REFERENCE"){r.push(`<span style="color: ${_b(this.theme,s)}">${c.text}</span>`),s++;continue}if(c.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${c.text}</span>`);continue}r.push(uF(c.text))}const a=Vd(this.formulaInput);this.formulaInput.innerHTML="="+r.join(""),a&&Fp(this.formulaInput,a)}getThemeColor(t){return sr(this.theme,t)}}const pa=100,et=23,nt=50,xc=13,Ib=1.5,UE=4,GC=5,VE=.5,xY="center",bY=10,OO=10,dF=4,SY=10;function In(e,t={left:0,top:0},n,r){const s=r?r.getOffset(e.c):(e.c-1)*pa,a=n?n.getOffset(e.r):(e.r-1)*et,c=r?r.getSize(e.c):pa,d=n?n.getSize(e.r):et;return{left:s+nt-t.left,top:a+et-t.top,width:c,height:d}}function B0(e,t){const n=Math.min(e.left,t.left),r=Math.min(e.top,t.top),s=Math.max(e.left+e.width,t.left+t.width),a=Math.max(e.top+e.height,t.top+t.height);return{left:n,top:r,width:s-n,height:a-r}}const bS={frozenRows:0,frozenCols:0,frozenWidth:0,frozenHeight:0};function AY(e,t,n,r){return e===0&&t===0?bS:{frozenRows:e,frozenCols:t,frozenWidth:t>0?r.getOffset(t+1):0,frozenHeight:e>0?n.getOffset(e+1):0}}function EY(e,t,n,r){const s=n?n.findIndex(t-et):Math.floor(t/et),a=r?r.findIndex(e-nt):Math.floor((e+nt)/pa);return{r:s,c:a}}function CY(e,t,n,r,s,a){const c=a.frozenCols>0&&e<nt+a.frozenWidth,d=a.frozenRows>0&&t<et+a.frozenHeight,h=c?e-nt:e-nt-a.frozenWidth+s.getOffset(a.frozenCols+1)+n.left,g=d?t-et:t-et-a.frozenHeight+r.getOffset(a.frozenRows+1)+n.top,p=s.findIndex(h),m=r.findIndex(g);return{r:Math.max(1,m),c:Math.max(1,p)}}function wY(e,t,n,r,s){const a=r.getOffset(e.c),c=n.getOffset(e.r),d=r.getSize(e.c),h=n.getSize(e.r),g=s.frozenCols>0&&e.c<=s.frozenCols,p=s.frozenRows>0&&e.r<=s.frozenRows,m=g?a+nt:a+nt-t.left-r.getOffset(s.frozenCols+1)+s.frozenWidth,x=p?c+et:c+et-t.top-n.getOffset(s.frozenRows+1)+s.frozenHeight;return{left:m,top:x,width:d,height:h}}class RY{constructor(t="light"){Y(this,"container");Y(this,"input");Y(this,"theme");Y(this,"boundHandleInput");Y(this,"minWidth",pa);Y(this,"minHeight",et);Y(this,"maxWidth",1/0);Y(this,"maxHeight",1/0);Y(this,"composing",!1);this.theme=t,this.container=document.createElement("div"),this.container.style.position="absolute",this.container.style.left="-1000px",this.container.style.width=pa+"px",this.container.style.height=et+"px",this.container.style.zIndex="1",this.container.style.margin="0px",this.container.style.pointerEvents="none",this.input=document.createElement("div"),this.input.contentEditable="true",this.input.style.border="none",this.input.style.outline=`2px solid ${this.getThemeColor("activeCellColor")}`,this.input.style.fontFamily="Arial, sans-serif",this.input.style.fontSize=xc+"px",this.input.style.fontWeight="normal",this.input.style.lineHeight=String(Ib),this.input.style.color=this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=this.getThemeColor("cellBGColor"),this.input.style.whiteSpace="pre",this.input.style.overflow="hidden",this.container.appendChild(this.input),this.boundHandleInput=this.handleInput.bind(this),this.input.addEventListener("input",this.boundHandleInput),this.input.addEventListener("compositionstart",()=>{this.composing=!0}),this.input.addEventListener("compositionend",()=>{this.composing=!1,this.adjustSize()})}cleanup(){this.input.removeEventListener("input",this.boundHandleInput),this.container.remove()}getContainer(){return this.container}getInput(){return this.input}show(t,n,r="",s=!0,a,c,d,h){this.minWidth=a??pa,this.minHeight=c??et,this.maxWidth=d??1/0,this.maxHeight=h??1/0,this.container.style.left=t+"px",this.container.style.top=n+"px",this.container.style.pointerEvents="auto",this.input.innerText=r,this.renderInput(),this.adjustSize(),s&&(Fp(this.input,{start:this.input.innerText.length,end:this.input.innerText.length}),this.input.focus())}hide(){this.container.style.left="-1000px",this.container.style.pointerEvents="none",this.input.innerText="",this.input.blur()}isShown(){return this.container.style.left!=="-1000px"}isFocused(){return document.activeElement===this.input}getValue(){return this.input.innerText}setValue(t){this.input.innerText=t,this.renderInput(),this.adjustSize()}hasFormula(){return this.input.innerText.startsWith("=")}applyStyle(t){this.input.style.fontWeight=t!=null&&t.b?"bold":"normal",this.input.style.fontStyle=t!=null&&t.i?"italic":"normal";const n=[];t!=null&&t.u&&n.push("underline"),t!=null&&t.st&&n.push("line-through"),this.input.style.textDecoration=n.length?n.join(" "):"none",this.input.style.color=(t==null?void 0:t.tc)||this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=(t==null?void 0:t.bg)||this.getThemeColor("cellBGColor"),this.input.style.textAlign=(t==null?void 0:t.al)||"left";const r=(t==null?void 0:t.va)||"top";this.container.style.display="flex",this.container.style.alignItems=r==="middle"?"center":r==="bottom"?"flex-end":"flex-start"}handleInput(){this.renderInput(),this.composing||this.adjustSize()}adjustSize(){this.input.style.width=this.minWidth+"px",this.input.style.height=this.minHeight+"px";const t=Math.min(Math.max(this.minWidth,this.input.scrollWidth),this.maxWidth),n=Math.min(Math.max(this.minHeight,this.input.scrollHeight),this.maxHeight);this.container.style.width=t+"px",this.container.style.height=n+"px",this.input.style.width=t+"px",this.input.style.height=n+"px",this.input.style.overflowY=this.input.scrollHeight>this.maxHeight?"auto":"hidden"}renderInput(){const t=this.input.innerText;if(!t.startsWith("="))return;const n=Xc(t),r=[];let s=0;for(const c of n){if(c.type==="REFERENCE"){r.push(`<span style="color: ${_b(this.theme,s)}">${c.text}</span>`),s++;continue}if(c.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${c.text}</span>`);continue}r.push(uF(c.text))}const a=Vd(this.input);this.input.innerHTML="="+r.join(""),a&&Fp(this.input,a)}getThemeColor(t){return sr(this.theme,t)}}class TY{constructor(t="light"){Y(this,"canvas");Y(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="1",this.canvas.style.pointerEvents="none"}cleanup(){this.canvas.remove()}getContainer(){return this.canvas}render(t,n,r,s,a,c,d,h,g,p,m,x=bS,b,E){this.canvas.width=0,this.canvas.height=0;const w=this.canvas.getContext("2d"),C=window.devicePixelRatio||1;if(this.canvas.width=t.width*C,this.canvas.height=t.height*C,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",w.scale(C,C),!(x.frozenRows>0||x.frozenCols>0))this.renderActiveCellSimple(w,r,n,c,d),this.renderSelectionSimple(w,t,n,a,g,c,d),this.renderPeerCursorsSimple(w,t,s,n,c,d),this.renderFormulaRangesSimple(w,m,n,c,d),this.renderCopyRangeSimple(w,E,n,c,d);else{const _=this.buildQuadrants(t,n,x,c,d);this.renderSelectionFrozen(w,t,n,a,g,c,d,x,_);for(const I of _){w.save(),w.beginPath(),w.rect(I.x,I.y,I.width,I.height),w.clip();const O=In(r,{left:I.scrollLeft,top:I.scrollTop},c,d);w.strokeStyle=this.getThemeColor("activeCellColor"),w.lineWidth=2,w.strokeRect(O.left,O.top,O.width,O.height),w.restore()}for(const{clientID:I,presence:O}of s){if(!O.activeCell)continue;const L=dn(O.activeCell),k=IO(this.theme,I);for(const V of _){w.save(),w.beginPath(),w.rect(V.x,V.y,V.width,V.height),w.clip();const U=In(L,{left:V.scrollLeft,top:V.scrollTop},c,d);U.left>=-U.width&&U.left<t.width&&U.top>=-U.height&&U.top<t.height&&(w.strokeStyle=k,w.lineWidth=2,w.strokeRect(U.left,U.top,U.width,U.height)),w.restore()}}if(m&&m.length>0)for(let I=0;I<m.length;I++){const O=m[I],L=_b(this.theme,I);for(const k of _){w.save(),w.beginPath(),w.rect(k.x,k.y,k.width,k.height),w.clip();const V={left:k.scrollLeft,top:k.scrollTop},U=B0(In(O[0],V,c,d),In(O[1],V,c,d));w.strokeStyle=L,w.lineWidth=2,w.strokeRect(U.left,U.top,U.width,U.height),w.fillStyle=L+"20",w.fillRect(U.left,U.top,U.width,U.height),w.restore()}}if(E)for(const I of _){w.save(),w.beginPath(),w.rect(I.x,I.y,I.width,I.height),w.clip();const O={left:I.scrollLeft,top:I.scrollTop};this.drawCopyRangeBorder(w,E,O,c,d),w.restore()}}h&&d&&c&&this.renderResizeHover(w,t,n,h,c,d,x),p&&d&&c&&this.renderDragMoveIndicator(w,t,n,p,c,d,x),b&&d&&c&&this.renderFreezeDragPreview(w,t,b,c,d)}buildQuadrants(t,n,r,s,a){const c=r.frozenWidth,d=r.frozenHeight,h=s?s.getOffset(r.frozenRows+1):0,g=a?a.getOffset(r.frozenCols+1):0,p=[];return p.push({x:nt+c,y:et+d,width:t.width-nt-c,height:t.height-et-d,scrollLeft:n.left+g-c,scrollTop:n.top+h-d}),r.frozenRows>0&&p.push({x:nt+c,y:et,width:t.width-nt-c,height:d,scrollLeft:n.left+g-c,scrollTop:0}),r.frozenCols>0&&p.push({x:nt,y:et+d,width:c,height:t.height-et-d,scrollLeft:0,scrollTop:n.top+h-d}),r.frozenRows>0&&r.frozenCols>0&&p.push({x:nt,y:et,width:c,height:d,scrollLeft:0,scrollTop:0}),p}renderActiveCellSimple(t,n,r,s,a){const c=In(n,r,s,a);t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.strokeRect(c.left,c.top,c.width,c.height)}renderSelectionSimple(t,n,r,s,a,c,d){if(a==="all")t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(nt,et,n.width-nt,n.height-et);else if(s)if(a==="row"){const h=In(s[0],r,c,d),g=In(s[1],r,c,d),p=h.top,m=g.top+g.height-h.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(nt,p,n.width-nt,m),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(nt,p,n.width-nt,m)}else if(a==="column"){const h=In(s[0],r,c,d),g=In(s[1],r,c,d),p=h.left,m=g.left+g.width-h.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(p,et,m,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(p,et,m,n.height-et)}else{const h=B0(In(s[0],r,c,d),In(s[1],r,c,d));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(h.left,h.top,h.width,h.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(h.left,h.top,h.width,h.height)}}renderPeerCursorsSimple(t,n,r,s,a,c){for(const{clientID:d,presence:h}of r){if(!h.activeCell)continue;const g=dn(h.activeCell),p=In(g,s,a,c);if(p.left>=-p.width&&p.left<n.width&&p.top>=-p.height&&p.top<n.height){const m=IO(this.theme,d);t.strokeStyle=m,t.lineWidth=2,t.strokeRect(p.left,p.top,p.width,p.height)}}}renderFormulaRangesSimple(t,n,r,s,a){if(!(!n||n.length===0))for(let c=0;c<n.length;c++){const d=n[c],h=B0(In(d[0],r,s,a),In(d[1],r,s,a)),g=_b(this.theme,c);t.strokeStyle=g,t.lineWidth=2,t.strokeRect(h.left,h.top,h.width,h.height),t.fillStyle=g+"20",t.fillRect(h.left,h.top,h.width,h.height)}}renderCopyRangeSimple(t,n,r,s,a){n&&this.drawCopyRangeBorder(t,n,r,s,a)}drawCopyRangeBorder(t,n,r,s,a){const c=B0(In(n[0],r,s,a),In(n[1],r,s,a));t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.setLineDash([5,3]),t.strokeRect(c.left,c.top,c.width,c.height),t.setLineDash([])}renderSelectionFrozen(t,n,r,s,a,c,d,h,g){if(a==="all"){t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(nt,et,n.width-nt,n.height-et);return}if(s)for(const p of g){t.save(),t.beginPath(),t.rect(p.x,p.y,p.width,p.height),t.clip();const m={left:p.scrollLeft,top:p.scrollTop};if(a==="row"){const x=In(s[0],m,c,d),b=In(s[1],m,c,d),E=x.top,w=b.top+b.height-x.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(nt,E,n.width-nt,w),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(nt,E,n.width-nt,w)}else if(a==="column"){const x=In(s[0],m,c,d),b=In(s[1],m,c,d),E=x.left,w=b.left+b.width-x.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(E,et,w,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(E,et,w,n.height-et)}else{const x=B0(In(s[0],m,c,d),In(s[1],m,c,d));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(x.left,x.top,x.width,x.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(x.left,x.top,x.width,x.height)}t.restore()}}renderResizeHover(t,n,r,s,a,c,d){if(t.strokeStyle=this.getThemeColor("resizeHandleColor"),t.lineWidth=2,s.axis==="column"){const g=d.frozenCols>0&&s.index<=d.frozenCols?0:r.left+c.getOffset(d.frozenCols+1)-d.frozenWidth,p=nt+c.getOffset(s.index)+c.getSize(s.index)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=d.frozenRows>0&&s.index<=d.frozenRows?0:r.top+a.getOffset(d.frozenRows+1)-d.frozenHeight,p=et+a.getOffset(s.index)+a.getSize(s.index)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderDragMoveIndicator(t,n,r,s,a,c,d){if(t.strokeStyle=this.getThemeColor("dropIndicatorColor"),t.lineWidth=3,s.axis==="column"){const g=d.frozenCols>0&&s.dropIndex<=d.frozenCols?0:r.left+c.getOffset(d.frozenCols+1)-d.frozenWidth,p=nt+c.getOffset(s.dropIndex)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=d.frozenRows>0&&s.dropIndex<=d.frozenRows?0:r.top+a.getOffset(d.frozenRows+1)-d.frozenHeight,p=et+a.getOffset(s.dropIndex)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderFreezeDragPreview(t,n,r,s,a){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,r.axis==="row"){const c=r.targetIndex===0?et:et+s.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(0,c),t.lineTo(n.width,c),t.stroke()}else{const c=r.targetIndex===0?nt:nt+a.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(c,0),t.lineTo(c,n.height),t.stroke()}}getThemeColor(t){return sr(this.theme,t)}}const Qx=1e7;class NY{constructor(t="light"){Y(this,"container");Y(this,"scrollContainer");Y(this,"dummyContainer");Y(this,"actualWidth",0);Y(this,"actualHeight",0);this.createContainers()}createContainers(){this.container=document.createElement("div"),this.container.style.position="relative",this.container.style.width="100%",this.container.style.height=`calc(100% - ${cF+fF*2}px)`,this.scrollContainer=document.createElement("div"),this.scrollContainer.style.position="absolute",this.scrollContainer.style.overflow="auto",this.scrollContainer.style.width="100%",this.scrollContainer.style.height="100%",this.scrollContainer.style.zIndex="1",this.dummyContainer=document.createElement("div"),this.dummyContainer.style.margin="0px",this.dummyContainer.style.padding="0px",this.dummyContainer.style.pointerEvents="none",this.scrollContainer.appendChild(this.dummyContainer),this.container.appendChild(this.scrollContainer)}getContainer(){return this.container}getScrollContainer(){return this.scrollContainer}getDummyContainer(){return this.dummyContainer}updateDummySize(t,n){this.actualWidth=t,this.actualHeight=n;const r=Math.min(t,Qx),s=Math.min(n,Qx);this.dummyContainer.style.width=r+"px",this.dummyContainer.style.height=s+"px"}appendChild(t){this.container.appendChild(t)}getViewport(){return this.scrollContainer.getBoundingClientRect()}getScrollPosition(){const t=this.scrollContainer.scrollLeft,n=this.scrollContainer.scrollTop,r=this.scrollContainer.getBoundingClientRect();return{left:this.toLogical(t,this.actualWidth,r.width),top:this.toLogical(n,this.actualHeight,r.height)}}setScrollPosition(t){const n=this.scrollContainer.getBoundingClientRect();t.left!==void 0&&(this.scrollContainer.scrollLeft=this.toPhysical(t.left,this.actualWidth,n.width)),t.top!==void 0&&(this.scrollContainer.scrollTop=this.toPhysical(t.top,this.actualHeight,n.height))}scrollBy(t,n){const r=this.scrollContainer.getBoundingClientRect(),s=this.needsRemap(this.actualWidth,r.width)?t*this.physicalMax(this.actualWidth,r.width)/this.logicalMax(this.actualWidth,r.width):t,a=this.needsRemap(this.actualHeight,r.height)?n*this.physicalMax(this.actualHeight,r.height)/this.logicalMax(this.actualHeight,r.height):n;this.scrollContainer.scrollBy(s,a)}addEventListener(t,n,r){this.scrollContainer.addEventListener(t,n,r)}removeEventListener(t,n,r){this.scrollContainer.removeEventListener(t,n,r)}cleanup(){this.container.remove()}needsRemap(t,n){return t>Qx&&n<t}cappedSize(t){return Math.min(t,Qx)}physicalMax(t,n){return this.cappedSize(t)-n}logicalMax(t,n){return t-n}toLogical(t,n,r){if(!this.needsRemap(n,r))return t;const s=this.physicalMax(n,r);if(s<=0)return 0;const a=this.logicalMax(n,r);return t*a/s}toPhysical(t,n,r){if(!this.needsRemap(n,r))return t;const s=this.logicalMax(n,r);if(s<=0)return 0;const a=this.physicalMax(n,r);return t*a/s}}class _Y{constructor(t="light"){Y(this,"canvas");Y(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.pointerEvents="none"}getCanvas(){return this.canvas}render(t,n,r,s,a,c,d,h,g,p=bS,m=null,x,b,E){this.canvas.width=0,this.canvas.height=0;const w=this.canvas.getContext("2d"),C=window.devicePixelRatio||1;this.canvas.width=t.width*C,this.canvas.height=t.height*C,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",w.scale(C,C);const[T,_]=r;if(!(p.frozenRows>0||p.frozenCols>0))this.renderQuadrantCells(w,T.r,_.r+1,T.c,_.c+1,a,n,c,d,x,b,E),this.renderColumnHeaders(w,T.c,_.c,n.left,nt,t.width,s,h,g,c,d),this.renderRowHeaders(w,T.r,_.r,n.top,et,t.height,s,h,g,c,d);else{const L=p.frozenWidth,k=p.frozenHeight,V=p.frozenRows,U=p.frozenCols,q=c?c.getOffset(V+1):V*et,te=d?d.getOffset(U+1):U*pa;w.save(),w.beginPath(),w.rect(nt+L,et+k,t.width-nt-L,t.height-et-k),w.clip(),this.renderQuadrantCells(w,T.r,_.r+1,T.c,_.c+1,a,{left:n.left+te-L,top:n.top+q-k},c,d,x,b,E),w.restore(),V>0&&(w.save(),w.beginPath(),w.rect(nt+L,et,t.width-nt-L,k),w.clip(),this.renderQuadrantCells(w,1,V+1,T.c,_.c+1,a,{left:n.left+te-L,top:0},c,d,x,b,E),w.restore()),U>0&&(w.save(),w.beginPath(),w.rect(nt,et+k,L,t.height-et-k),w.clip(),this.renderQuadrantCells(w,T.r,_.r+1,1,U+1,a,{left:0,top:n.top+q-k},c,d,x,b,E),w.restore()),V>0&&U>0&&(w.save(),w.beginPath(),w.rect(nt,et,L,k),w.clip(),this.renderQuadrantCells(w,1,V+1,1,U+1,a,{left:0,top:0},c,d,x,b,E),w.restore()),U>0&&this.renderColumnHeaders(w,1,U,0,nt,nt+L,s,h,g,c,d),this.renderColumnHeaders(w,T.c,_.c,n.left+te-L,nt+L,t.width,s,h,g,c,d),V>0&&this.renderRowHeaders(w,1,V,0,et,et+k,s,h,g,c,d),this.renderRowHeaders(w,T.r,_.r,n.top+q-k,et+k,t.height,s,h,g,c,d),this.renderFreezeLines(w,t,L,k)}const O=h==="all";w.fillStyle=O?this.getThemeColor("headerSelectedBGColor"):this.getThemeColor("headerBGColor"),w.fillRect(0,0,nt,et),w.strokeStyle=this.getThemeColor("cellBorderColor"),w.lineWidth=VE,w.strokeRect(0,0,nt,et),this.renderFreezeHandles(w,p,m)}renderQuadrantCells(t,n,r,s,a,c,d,h,g,p,m,x){for(let b=n;b<=r;b++){const E=m==null?void 0:m.get(b);for(let w=s;w<=a;w++){const C=c==null?void 0:c.get(Nt({r:b,c:w})),T=p==null?void 0:p.get(w);let _;(x||T||E||C!=null&&C.s)&&(_={...x,...T,...E,...C==null?void 0:C.s}),this.renderCellBackground(t,{r:b,c:w},C,d,h,g,_)}}for(let b=n;b<=r;b++){const E=m==null?void 0:m.get(b);for(let w=s;w<=a;w++){const C=c==null?void 0:c.get(Nt({r:b,c:w})),T=p==null?void 0:p.get(w);let _;(x||T||E||C!=null&&C.s)&&(_={...x,...T,...E,...C==null?void 0:C.s}),this.renderCellContent(t,{r:b,c:w},C,d,h,g,_,c,a)}}}renderColumnHeaders(t,n,r,s,a,c,d,h,g,p,m){t.save(),t.beginPath(),t.rect(a,0,c-a,et),t.clip();for(let x=n;x<=r;x++){const b=m?m.getOffset(x):pa*(x-1),E=m?m.getSize(x):pa,w=nt+b-s,C=0,T=h==="all"||h==="column"&&g&&x>=g[0].c&&x<=g[1].c;this.renderHeader(t,w,C,E,et,iy(x),d.c===x,T||!1)}t.restore()}renderRowHeaders(t,n,r,s,a,c,d,h,g,p,m){t.save(),t.beginPath(),t.rect(0,a,nt,c-a),t.clip();for(let x=n;x<=r;x++){const b=p?p.getOffset(x):et*(x-1),E=p?p.getSize(x):et,w=0,C=b+et-s,T=h==="all"||h==="row"&&g&&x>=g[0].r&&x<=g[1].r;this.renderHeader(t,w,C,nt,E,String(x),d.r===x,T||!1)}t.restore()}renderFreezeLines(t,n,r,s){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,s>0){const a=et+s;t.beginPath(),t.moveTo(0,a),t.lineTo(n.width,a),t.stroke()}if(r>0){const a=nt+r;t.beginPath(),t.moveTo(a,0),t.lineTo(a,n.height),t.stroke()}}renderFreezeHandles(t,n,r){const s=n.frozenRows>0||n.frozenCols>0,a=dF,c=s&&n.frozenRows>0?et+n.frozenHeight-a/2:et-a,d=r==="row";t.fillStyle=d?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(0,c,nt,a);const h=s&&n.frozenCols>0?nt+n.frozenWidth-a/2:nt-a,g=r==="column";t.fillStyle=g?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(h,0,a,et)}renderHeader(t,n,r,s,a,c,d,h=!1){t.fillStyle=h?this.getThemeColor("headerSelectedBGColor"):d?this.getThemeColor("headerActiveBGColor"):this.getThemeColor("headerBGColor"),t.fillRect(n,r,s,a),t.strokeStyle=this.getThemeColor("cellBorderColor"),t.lineWidth=VE,t.strokeRect(n,r,s,a),t.fillStyle=this.getThemeColor("cellTextColor"),t.textAlign=xY,t.font=d||h?"bold 10px Arial":"10px Arial",t.fillText(c,n+s/2,r+Math.min(15,a-4))}renderCellBackground(t,n,r,s,a,c,d){const h=In(n,s,a,c),g=d??(r==null?void 0:r.s);t.strokeStyle=this.getThemeColor("cellTextColor"),t.lineWidth=VE,t.strokeRect(h.left,h.top,h.width,h.height),t.fillStyle=(g==null?void 0:g.bg)||this.getThemeColor("cellBGColor"),t.fillRect(h.left,h.top,h.width,h.height)}renderCellContent(t,n,r,s,a,c,d,h,g){const p=In(n,s,a,c),m=d??(r==null?void 0:r.s),x=(r==null?void 0:r.v)||"";if(x){const b=lF(x,m==null?void 0:m.nf,m==null?void 0:m.dp),E=b.split(`
`),w=[];m!=null&&m.b&&w.push("bold"),m!=null&&m.i&&w.push("italic"),w.push(`${xc}px Arial`);const C=w.join(" ");let T=p.width;const _=(m==null?void 0:m.al)||"left";if(E.length===1&&_==="left"&&h&&c&&g){t.save(),t.font=C;const V=t.measureText(b).width+UE*2;if(t.restore(),V>p.width){let U=0;for(let q=n.c+1;q<=g;q++){const te=h.get(Nt({r:n.r,c:q}));if(te&&(te.v||te.f))break;const ie=c.getSize(q);if(U+=ie,p.width+U>=V)break}T=p.width+U}}t.save(),t.beginPath(),t.rect(p.left,p.top,T,p.height),t.clip(),t.fillStyle=(m==null?void 0:m.tc)||this.getThemeColor("cellTextColor"),t.font=C,t.textBaseline="top";let I;_==="center"?(t.textAlign="center",I=p.left+p.width/2):_==="right"?(t.textAlign="right",I=p.left+p.width-UE):(t.textAlign="left",I=p.left+UE);const O=(m==null?void 0:m.va)||"top",L=E.length*xc*Ib;let k;O==="middle"?k=p.top+(p.height-L)/2:O==="bottom"?k=p.top+p.height-L-GC:k=p.top+GC;for(let V=0;V<E.length;V++){const U=k+V*(xc*Ib);if(t.fillText(E[V],I,U),m!=null&&m.u){const q=t.measureText(E[V]),te=U+xc+1;let ie;_==="center"?ie=I-q.width/2:_==="right"?ie=I-q.width:ie=I,t.beginPath(),t.strokeStyle=(m==null?void 0:m.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(ie,te),t.lineTo(ie+q.width,te),t.stroke()}if(m!=null&&m.st){const q=t.measureText(E[V]),te=U+xc/2;let ie;_==="center"?ie=I-q.width/2:_==="right"?ie=I-q.width:ie=I,t.beginPath(),t.strokeStyle=(m==null?void 0:m.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(ie,te),t.lineTo(ie+q.width,te),t.stroke()}}t.restore()}}getThemeColor(t){return sr(this.theme,t)}cleanup(){this.canvas.remove()}}class IY{constructor(t="light"){Y(this,"container");Y(this,"theme");this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="160px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.applyTheme(),this.handleDocumentClick=this.handleDocumentClick.bind(this)}getContainer(){return this.container}show(t,n,r){this.container.innerHTML="";for(const s of r){const a=document.createElement("div");a.textContent=s.label,a.style.padding="6px 16px",a.style.cursor="pointer",a.style.color=sr(this.theme,"cellTextColor"),a.addEventListener("mouseenter",()=>{a.style.backgroundColor=sr(this.theme,"selectionBGColor")}),a.addEventListener("mouseleave",()=>{a.style.backgroundColor="transparent"}),a.addEventListener("mousedown",c=>{c.preventDefault(),c.stopPropagation(),this.hide(),s.action()}),this.container.appendChild(a)}this.container.style.left=`${t}px`,this.container.style.top=`${n}px`,this.container.style.display="block",document.addEventListener("mousedown",this.handleDocumentClick)}hide(){this.container.style.display="none",document.removeEventListener("mousedown",this.handleDocumentClick)}cleanup(){this.hide(),this.container.remove()}handleDocumentClick(t){this.container.contains(t.target)||this.hide()}applyTheme(){this.container.style.backgroundColor=sr(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${sr(this.theme,"cellBorderColor")}`}}const hF=[{name:"SUM",description:"Returns the sum of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"IF",description:"Returns one value if true and another if false",args:[{name:"condition"},{name:"value_if_true"},{name:"value_if_false",optional:!0}]},{name:"AND",description:"Returns TRUE if all arguments are true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"OR",description:"Returns TRUE if any argument is true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"NOT",description:"Returns the opposite of a logical value",args:[{name:"logical"}]},{name:"AVERAGE",description:"Returns the average of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MIN",description:"Returns the smallest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MAX",description:"Returns the largest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"COUNT",description:"Counts the number of numeric values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTA",description:"Counts the number of non-empty values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"TRIM",description:"Removes leading and trailing whitespace from text",args:[{name:"text"}]},{name:"LEN",description:"Returns the number of characters in a text string",args:[{name:"text"}]},{name:"LEFT",description:"Returns the leftmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"RIGHT",description:"Returns the rightmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"MID",description:"Returns characters from the middle of a text string",args:[{name:"text"},{name:"start_num"},{name:"num_chars"}]},{name:"CONCATENATE",description:"Joins two or more text strings into one",args:[{name:"text1"},{name:"text2"},{name:"text3",optional:!0,repeating:!0}]},{name:"TODAY",description:"Returns the current date",args:[]},{name:"NOW",description:"Returns the current date and time",args:[]},{name:"YEAR",description:"Returns the year from a date",args:[{name:"date"}]},{name:"MONTH",description:"Returns the month from a date (1-12)",args:[{name:"date"}]},{name:"DAY",description:"Returns the day of the month from a date (1-31)",args:[{name:"date"}]},{name:"IFERROR",description:"Returns a value if no error, otherwise returns an alternate value",args:[{name:"value"},{name:"value_if_error"}]}];function OY(e){const t=e.toUpperCase();return hF.filter(n=>n.name.startsWith(t))}function DY(e){const t=e.toUpperCase();return hF.find(n=>n.name===t)}function PY(e){const t=e.args.map(n=>{let r=n.optional?`[${n.name}]`:n.name;return n.repeating&&(r+=", ..."),r});return`${e.name}(${t.join(", ")})`}function MY(e,t){if(!e.startsWith("="))return{type:"none"};const n=e.slice(1,t);let r=0,s=0;for(let c=n.length-1;c>=0;c--){const d=n[c];if(d===")")r++;else if(d==="(")if(r>0)r--;else{const h=n.slice(0,c).match(/([A-Za-z_]\w*)$/);return h?{type:"argument",funcName:h[1].toUpperCase(),argIndex:s}:{type:"none"}}else d===","&&r===0&&s++}const a=n.match(/([A-Za-z_]\w*)$/);return a?{type:"function-name",prefix:a[1]}:{type:"none"}}class LY{constructor(t="light"){Y(this,"container");Y(this,"theme");Y(this,"selectedIndex",0);Y(this,"matches",[]);Y(this,"mode","hidden");Y(this,"currentHint",null);this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="220px",this.container.style.maxWidth="360px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.container.style.overflow="hidden",this.applyTheme()}getContainer(){return this.container}showList(t,n){if(this.matches=OY(t),this.matches.length===0){this.hide();return}this.mode="list",this.selectedIndex=0,this.renderList(),this.positionAt(n),this.container.style.display="block"}showHint(t,n,r){const s=DY(t);if(!s){this.hide();return}this.mode="hint",this.currentHint={info:s,argIndex:n},this.renderHint(),this.positionAt(r),this.container.style.display="block"}hide(){this.mode="hidden",this.matches=[],this.currentHint=null,this.container.style.display="none",this.container.innerHTML=""}moveUp(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex-1+this.matches.length)%this.matches.length,this.renderList())}moveDown(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex+1)%this.matches.length,this.renderList())}getSelectedFunction(){if(this.mode==="list")return this.matches[this.selectedIndex]}isListVisible(){return this.mode==="list"}isHintVisible(){return this.mode==="hint"}cleanup(){this.hide(),this.container.remove()}positionAt(t){this.container.style.left=`${t.left}px`,this.container.style.top=`${t.top}px`}renderList(){this.container.innerHTML="";const t=sr(this.theme,"cellBGColor"),n=sr(this.theme,"cellTextColor"),r=sr(this.theme,"selectionBGColor"),s=sr(this.theme,"activeCellColor");for(let a=0;a<this.matches.length;a++){const c=this.matches[a],d=document.createElement("div");d.style.padding="4px 10px",d.style.cursor="pointer",d.style.display="flex",d.style.flexDirection="column",d.style.gap="1px",d.style.backgroundColor=a===this.selectedIndex?r:t;const h=document.createElement("div");h.style.fontWeight="600",h.style.color=a===this.selectedIndex?s:n,h.textContent=c.name;const g=document.createElement("div");g.style.fontSize="11px",g.style.opacity="0.7",g.style.color=n,g.textContent=c.description,d.appendChild(h),d.appendChild(g),d.addEventListener("mouseenter",()=>{this.selectedIndex=a,this.renderList()}),d.addEventListener("mousedown",p=>{p.preventDefault(),p.stopPropagation()}),this.container.appendChild(d)}}renderHint(){if(this.container.innerHTML="",!this.currentHint)return;const{info:t,argIndex:n}=this.currentHint,r=sr(this.theme,"cellTextColor"),s=sr(this.theme,"activeCellColor"),a=document.createElement("div");a.style.padding="6px 10px",a.style.color=r,a.style.whiteSpace="nowrap";const c=document.createElement("span");c.style.fontWeight="600",c.textContent=t.name+"(",a.appendChild(c);for(let h=0;h<t.args.length;h++){h>0&&a.appendChild(document.createTextNode(", "));const g=t.args[h];let p=g.optional?`[${g.name}]`:g.name;g.repeating&&(p+=", ...");const m=document.createElement("span");(h===n||h===t.args.length-1&&g.repeating&&n>=h)&&(m.style.fontWeight="700",m.style.color=s),m.textContent=p,a.appendChild(m)}a.appendChild(document.createTextNode(")"));const d=document.createElement("div");d.style.fontSize="11px",d.style.opacity="0.7",d.style.color=r,d.style.padding="2px 10px 4px",d.textContent=PY(t)+"  "+t.description,this.container.appendChild(a),this.container.appendChild(d)}applyTheme(){this.container.style.backgroundColor=sr(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${sr(this.theme,"cellBorderColor")}`}}const eb=4,FY=10,DO=20;class kY{constructor(t,n="light",r=!1){Y(this,"sheet");Y(this,"container");Y(this,"formulaBar");Y(this,"cellInput");Y(this,"overlay");Y(this,"gridContainer");Y(this,"gridCanvas");Y(this,"contextMenu");Y(this,"autocomplete");Y(this,"rowDim");Y(this,"colDim");Y(this,"listeners",[]);Y(this,"resizeObserver");Y(this,"boundRender");Y(this,"boundHandleGridKeydown");Y(this,"boundHandleFormulaKeydown");Y(this,"boundHandleCellInputKeydown");Y(this,"boundHandleMouseDown");Y(this,"boundHandleDblClick");Y(this,"boundHandleKeyDown");Y(this,"boundHandleKeyUp");Y(this,"boundHandleMouseMove");Y(this,"boundHandleContextMenu");Y(this,"resizeHover",null);Y(this,"dragMove",null);Y(this,"editMode",!1);Y(this,"manuallyResizedRows",new Set);Y(this,"formulaRanges",[]);Y(this,"freezeState",bS);Y(this,"freezeHandleHover",null);Y(this,"freezeDrag",null);Y(this,"onRenderCallback");Y(this,"readOnly");Y(this,"formulaRangeAnchor",null);Y(this,"activeFormulaInput",null);Y(this,"formulaRefInsertPos",null);Y(this,"lastFormulaRefTarget",null);this.container=t,this.readOnly=r,this.formulaBar=new vY(n),this.gridContainer=new NY(n),this.overlay=new TY(n),this.gridCanvas=new _Y(n),this.cellInput=new RY(n),this.contextMenu=new IY(n),this.autocomplete=new LY(n),this.rowDim=new RO(et),this.colDim=new RO(pa),this.gridContainer.appendChild(this.overlay.getContainer()),this.gridContainer.appendChild(this.gridCanvas.getCanvas()),this.gridContainer.appendChild(this.cellInput.getContainer()),this.container.appendChild(this.formulaBar.getContainer()),this.container.appendChild(this.gridContainer.getContainer()),this.container.appendChild(this.contextMenu.getContainer()),this.container.appendChild(this.autocomplete.getContainer()),this.boundRender=this.render.bind(this),this.boundHandleGridKeydown=this.handleGridKeydown.bind(this),this.boundHandleFormulaKeydown=this.handleFormulaKeydown.bind(this),this.boundHandleCellInputKeydown=this.handleCellInputKeydown.bind(this),this.boundHandleMouseDown=this.handleMouseDown.bind(this),this.boundHandleDblClick=this.handleDblClick.bind(this),this.boundHandleKeyDown=this.handleKeyDown.bind(this),this.boundHandleKeyUp=this.handleKeyUp.bind(this),this.boundHandleMouseMove=this.handleMouseMove.bind(this),this.boundHandleContextMenu=this.handleContextMenu.bind(this),this.resizeObserver=new ResizeObserver(()=>this.boundRender())}async initialize(t){this.sheet=t,this.sheet.setDimensions(this.rowDim,this.colDim),await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadFreezePane(),this.updateFreezeState(),this.formulaBar.initialize(t),this.addEventListeners(),this.resizeObserver.observe(this.container),this.render()}updateFreezeState(){const{frozenRows:t,frozenCols:n}=this.sheet.getFreezePane();this.freezeState=AY(t,n,this.rowDim,this.colDim)}async setFreezePane(t,n){await this.sheet.setFreezePane(t,n),this.updateFreezeState(),this.render()}async reloadFreezePane(){await this.sheet.loadFreezePane(),this.updateFreezeState()}cleanup(){this.removeAllEventListeners(),this.resizeObserver.disconnect(),this.formulaBar.cleanup(),this.cellInput.cleanup(),this.overlay.cleanup(),this.gridCanvas.cleanup(),this.gridContainer.cleanup(),this.contextMenu.cleanup(),this.autocomplete.cleanup(),this.sheet=void 0,this.container.innerHTML=""}addEventListener(t,n,r,s){t.addEventListener(n,r,s),this.listeners.push({element:t,type:n,handler:r})}removeAllEventListeners(){for(const{element:t,type:n,handler:r}of this.listeners)t.removeEventListener(n,r);this.listeners=[]}focusGrid(){var t;this.formulaBar.blur(),this.cellInput.hide(),this.autocomplete.hide(),this.formulaRanges=[],this.resetFormulaRangeState(),(t=window.getSelection())==null||t.removeAllRanges()}async finishEditing(){this.autocomplete.hide();const t=this.sheet.getActiveCell();if(this.formulaBar.isFocused())await this.sheet.setData(t,this.formulaBar.getValue()),this.formulaBar.blur(),this.cellInput.hide();else if(this.cellInput.isFocused())await this.sheet.setData(t,this.cellInput.getValue()),this.cellInput.hide();else return;this.formulaRanges=[],this.resetFormulaRangeState(),await this.autoResizeRow(t.r)}handleKeyDown(t){if(this.formulaBar.isFocused()){this.boundHandleFormulaKeydown(t);return}else if(this.cellInput.isFocused()){this.boundHandleCellInputKeydown(t);return}this.boundHandleGridKeydown(t)}handleKeyUp(t){const r=(t.key==="ArrowDown"||t.key==="ArrowUp"||t.key==="Escape"||t.key==="Enter"||t.key==="Tab")&&(this.autocomplete.isListVisible()||this.autocomplete.isHintVisible());let s,a;this.formulaBar.isFocused()?(s=this.formulaBar.getValue(),a=this.formulaBar.getFormulaInput(),this.cellInput.setValue(s)):this.cellInput.isFocused()&&(s=this.cellInput.getValue(),a=this.cellInput.getInput(),this.formulaBar.setValue(s)),s!==void 0&&s.startsWith("=")?(this.formulaRanges=Jx(s).map(c=>c.range),this.renderOverlay()):s!==void 0&&(this.formulaRanges=[],this.renderOverlay()),!r&&(a&&s!==void 0?this.updateAutocomplete(s,a):this.autocomplete.hide())}updateAutocomplete(t,n){if(!t.startsWith("=")){this.autocomplete.hide();return}const r=Vd(n);if(!r){this.autocomplete.hide();return}const s=r.end,a=MY(t,s),c=n.getBoundingClientRect(),d={left:c.left,top:c.bottom+2};a.type==="function-name"?this.autocomplete.showList(a.prefix,d):a.type==="argument"?this.autocomplete.showHint(a.funcName,a.argIndex,d):this.autocomplete.hide()}insertFunctionCompletion(t,n){const r=n.innerText,s=Vd(n);if(!s)return;const a=s.end,d=r.slice(0,a).match(/([A-Za-z_]\w*)$/);if(!d)return;const h=a-d[1].length,g=r.slice(a),p=r.slice(0,h)+t+"("+g;this.formulaBar.setValue(p),this.cellInput.setValue(p);const m=h+t.length+1;Fp(n,{start:m,end:m}),this.autocomplete.hide(),this.updateAutocomplete(p,n)}isInFormulaRangeMode(){let t,n;if(this.cellInput.isFocused()?(t=this.cellInput.getValue(),n=this.cellInput.getInput()):this.formulaBar.isFocused()&&(t=this.formulaBar.getValue(),n=this.formulaBar.getFormulaInput()),!t||!n||!t.startsWith("="))return!1;const r=Vd(n);return r?tY(t,r.end):!1}insertReferenceAtCursor(t,n){const r=this.cellInput.isFocused(),s=this.formulaBar.isFocused();if(!r&&!s)return;const a=r?this.cellInput.getInput():this.formulaBar.getFormulaInput(),c=a.innerText,d=Vd(a);if(!d)return;const h=n&&(t.r!==n.r||t.c!==n.c)?Nt(t)+":"+Nt(n):Nt(t);let g,p;if(this.formulaRefInsertPos){const{start:m,end:x}=this.formulaRefInsertPos;g=c.slice(0,m)+h+c.slice(x),p=m+h.length,this.formulaRefInsertPos={start:m,end:p}}else{const m=wO(c,d.end);m?(g=c.slice(0,m.start)+h+c.slice(m.end),p=m.start+h.length,this.formulaRefInsertPos={start:m.start,end:p}):d.start!==d.end?(g=c.slice(0,d.start)+h+c.slice(d.end),p=d.start+h.length,this.formulaRefInsertPos={start:d.start,end:p}):(g=c.slice(0,d.end)+h+c.slice(d.end),p=d.end+h.length,this.formulaRefInsertPos={start:d.end,end:p})}this.formulaBar.setValue(g),this.cellInput.setValue(g),Fp(a,{start:p,end:p}),g.startsWith("=")&&(this.formulaRanges=Jx(g).map(m=>m.range),this.renderOverlay()),this.lastFormulaRefTarget=n||t}toggleAbsoluteReference(t){const n=t.innerText;if(!n.startsWith("="))return;const r=Vd(t);if(!r)return;const s=wO(n,r.end);if(!s)return;const a=s.text,c=a.startsWith("$"),d=a.replace(/\$/g,"");let h=0;for(let C=0;C<d.length;C++)if(d.charCodeAt(C)>=48&&d.charCodeAt(C)<=57){h=C;break}const g=d.slice(0,h),p=d.slice(h),m=a.indexOf(p,a.lastIndexOf(g)+g.length),x=m>0&&a[m-1]==="$";let b;!c&&!x?b="$"+g+"$"+p:c&&x?b=g+"$"+p:!c&&x?b="$"+g+p:b=g+p;const E=n.slice(0,s.start)+b+n.slice(s.end),w=s.start+b.length;this.formulaBar.setValue(E),this.cellInput.setValue(E),Fp(t,{start:w,end:w}),E.startsWith("=")&&(this.formulaRanges=Jx(E).map(C=>C.range),this.renderOverlay())}resetFormulaRangeState(){this.formulaRangeAnchor=null,this.activeFormulaInput=null,this.formulaRefInsertPos=null,this.lastFormulaRefTarget=null}handleDblClick(t){if(this.readOnly)return;const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n){t.preventDefault();const s=this.sheet.getFreezePane();n==="row"?this.setFreezePane(s.frozenRows>0?0:1,s.frozenCols):this.setFreezePane(s.frozenRows,s.frozenCols>0?0:1);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r){t.preventDefault(),this.autoFitSize(r.axis,r.index);return}this.showCellInput(),t.preventDefault()}handleContextMenu(t){if(this.readOnly)return;const n=t.offsetX,r=t.offsetY,s=n<nt,a=r<et;if(!(!s&&!a)){if(t.preventDefault(),s){const c=this.toRowFromMouse(r);if(c<1)return;const d=this.sheet.getSelectedIndices(),h=d&&d.axis==="row"&&c>=d.from&&c<=d.to,g=h?d.from:c,p=h?d.to-d.from+1:1,m=p>1?`${p} rows`:"row";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} above`,action:()=>{this.sheet.insertRows(g,p).then(()=>this.render())}},{label:`Insert ${m} below`,action:()=>{this.sheet.insertRows(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteRows(g,p).then(()=>this.render())}}])}else if(a){const c=this.toColFromMouse(n);if(c<1)return;const d=this.sheet.getSelectedIndices(),h=d&&d.axis==="column"&&c>=d.from&&c<=d.to,g=h?d.from:c,p=h?d.to-d.from+1:1,m=p>1?`${p} columns`:"column";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} left`,action:()=>{this.sheet.insertColumns(g,p).then(()=>this.render())}},{label:`Insert ${m} right`,action:()=>{this.sheet.insertColumns(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteColumns(g,p).then(()=>this.render())}}])}}}addEventListeners(){this.addEventListener(window,"resize",this.boundRender),this.gridContainer.addEventListener("scroll",this.boundRender),this.gridContainer.addEventListener("mousedown",this.boundHandleMouseDown),this.gridContainer.addEventListener("mousemove",this.boundHandleMouseMove),this.gridContainer.addEventListener("dblclick",this.boundHandleDblClick),this.gridContainer.addEventListener("contextmenu",this.boundHandleContextMenu),this.addEventListener(document,"keydown",this.boundHandleKeyDown),this.addEventListener(document,"keyup",this.boundHandleKeyUp)}detectResizeEdge(t,n){const r=this.scroll,s=this.freezeState;if(n<et&&t>nt){const c=s.frozenCols>0&&t<nt+s.frozenWidth?t-nt:t-nt-s.frozenWidth+this.colDim.getOffset(s.frozenCols+1)+r.left,d=this.colDim.findIndex(c),h=this.colDim.getOffset(d)+this.colDim.getSize(d);if(Math.abs(c-h)<eb)return{axis:"column",index:d};if(d>1){const g=this.colDim.getOffset(d-1)+this.colDim.getSize(d-1);if(Math.abs(c-g)<eb)return{axis:"column",index:d-1}}}if(t<nt&&n>et){const c=s.frozenRows>0&&n<et+s.frozenHeight?n-et:n-et-s.frozenHeight+this.rowDim.getOffset(s.frozenRows+1)+r.top,d=this.rowDim.findIndex(c),h=this.rowDim.getOffset(d)+this.rowDim.getSize(d);if(Math.abs(c-h)<eb)return{axis:"row",index:d};if(d>1){const g=this.rowDim.getOffset(d-1)+this.rowDim.getSize(d-1);if(Math.abs(c-g)<eb)return{axis:"row",index:d-1}}}return null}detectFreezeHandle(t,n){const r=this.freezeState,s=r.frozenRows>0||r.frozenCols>0,a=dF,c=SY,d=s&&r.frozenRows>0?et+r.frozenHeight-a/2:et-a;if(t>=0&&t<=nt&&n>=d-c&&n<=d+a+c)return"row";const h=s&&r.frozenCols>0?nt+r.frozenWidth-a/2:nt-a;return t>=h-c&&t<=h+a+c&&n>=0&&n<=et?"column":null}startFreezeDrag(t,n){const r=this.gridContainer.getScrollContainer();r.style.cursor="grabbing";const s=d=>{const h=this.viewport;if(t==="row"){const g=d.target!==r?Math.max(0,Math.min(h.height,d.clientY-h.top)):d.offsetY;if(g<=et)return 0;const p=g-et,m=this.rowDim.findIndex(p),b=this.rowDim.getOffset(m)+this.rowDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}else{const g=d.target!==r?Math.max(0,Math.min(h.width,d.clientX-h.left)):d.offsetX;if(g<=nt)return 0;const p=g-nt,m=this.colDim.findIndex(p),b=this.colDim.getOffset(m)+this.colDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}};this.freezeDrag={axis:t,targetIndex:s(n)},this.renderOverlay();const a=d=>{const h=s(d);this.freezeDrag&&this.freezeDrag.targetIndex!==h&&(this.freezeDrag={axis:t,targetIndex:h},this.renderOverlay())},c=()=>{var g;r.style.cursor="",document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",c);const d=((g=this.freezeDrag)==null?void 0:g.targetIndex)??0;this.freezeDrag=null,this.freezeHandleHover=null;const h=this.sheet.getFreezePane();t==="row"?this.setFreezePane(d,h.frozenCols):this.setFreezePane(h.frozenRows,d)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",c)}toRefFromMouse(t,n){const r=this.freezeState;return r.frozenRows>0||r.frozenCols>0?CY(t,n,this.scroll,this.rowDim,this.colDim,r):EY(t+this.scroll.left,n+this.scroll.top,this.rowDim,this.colDim)}toRowFromMouse(t){const n=this.freezeState,s=n.frozenRows>0&&t<et+n.frozenHeight?t-et:t-et-n.frozenHeight+this.rowDim.getOffset(n.frozenRows+1)+this.scroll.top;return this.rowDim.findIndex(s)}toColFromMouse(t){const n=this.freezeState,s=n.frozenCols>0&&t<nt+n.frozenWidth?t-nt:t-nt-n.frozenWidth+this.colDim.getOffset(n.frozenCols+1)+this.scroll.left;return this.colDim.findIndex(s)}handleMouseMove(t){var c,d,h;const n=this.gridContainer.getScrollContainer(),r=this.detectFreezeHandle(t.offsetX,t.offsetY);if(r!==this.freezeHandleHover&&(this.freezeHandleHover=r,this.renderSheet()),r){n.style.cursor="grab",this.resizeHover&&(this.resizeHover=null,this.renderOverlay());return}const s=this.detectResizeEdge(t.offsetX,t.offsetY),a=(s==null?void 0:s.axis)!==((c=this.resizeHover)==null?void 0:c.axis)||(s==null?void 0:s.index)!==((d=this.resizeHover)==null?void 0:d.index);if(a&&(this.resizeHover=s),s)n.style.cursor=s.axis==="column"?"col-resize":"row-resize";else{const g=t.offsetX,p=t.offsetY,m=(h=this.sheet)==null?void 0:h.getSelectedIndices();if(m){const x=m.axis==="column"?p<et&&g>nt&&(()=>{const b=this.toColFromMouse(g);return b>=m.from&&b<=m.to})():g<nt&&p>et&&(()=>{const b=this.toRowFromMouse(p);return b>=m.from&&b<=m.to})();n.style.cursor=x?"grab":""}else n.style.cursor=""}a&&this.renderOverlay()}async handleMouseDown(t){const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n&&!this.readOnly){t.preventDefault(),this.startFreezeDrag(n,t);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r&&!this.readOnly){t.preventDefault(),this.startResize(r.axis,r.index,t);return}const s=t.offsetX,a=t.offsetY;if(s<nt&&a<et){t.preventDefault(),await this.finishEditing(),this.sheet.selectAllCells(),this.render();return}const d=a<et&&s>nt,h=s<nt&&a>et;if(d){t.preventDefault(),await this.finishEditing();const x=this.toColFromMouse(s);if(x<1)return;if(t.shiftKey){this.sheet.selectColumnRange(this.sheet.getActiveCell().c,x),this.render();return}const b=this.sheet.getSelectedIndices();if(!this.readOnly&&b&&b.axis==="column"&&x>=b.from&&x<=b.to){this.startDragMove("column",b.from,b.to-b.from+1,t);return}this.sheet.selectColumn(x),this.render();const E=x,w=T=>{const _=this.viewport,I=T.target!==this.gridContainer.getScrollContainer()?Math.max(0,Math.min(_.width,T.clientX-_.left)):T.offsetX,O=this.toColFromMouse(I);O>=1&&(this.sheet.selectColumnRange(E,O),this.render())},C=()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",w),document.addEventListener("mouseup",C);return}if(h){t.preventDefault(),await this.finishEditing();const x=this.toRowFromMouse(a);if(x<1)return;if(t.shiftKey){this.sheet.selectRowRange(this.sheet.getActiveCell().r,x),this.render();return}const b=this.sheet.getSelectedIndices();if(!this.readOnly&&b&&b.axis==="row"&&x>=b.from&&x<=b.to){this.startDragMove("row",b.from,b.to-b.from+1,t);return}this.sheet.selectRow(x),this.render();const E=x,w=T=>{const _=this.viewport,I=T.target!==this.gridContainer.getScrollContainer()?Math.max(0,Math.min(_.height,T.clientY-_.top)):T.offsetY,O=this.toRowFromMouse(I);O>=1&&(this.sheet.selectRowRange(E,O),this.render())},C=()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",w),document.addEventListener("mouseup",C);return}if(this.isInFormulaRangeMode()){t.preventDefault();const x=this.toRefFromMouse(t.offsetX,t.offsetY);if(this.activeFormulaInput=this.cellInput.isFocused()?"cellInput":"formulaBar",t.shiftKey&&this.formulaRangeAnchor){const C={r:Math.min(this.formulaRangeAnchor.r,x.r),c:Math.min(this.formulaRangeAnchor.c,x.c)},T={r:Math.max(this.formulaRangeAnchor.r,x.r),c:Math.max(this.formulaRangeAnchor.c,x.c)};this.insertReferenceAtCursor(C,T)}else this.formulaRangeAnchor=x,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(x);const b=this.gridContainer.getScrollContainer(),E=C=>{const T=this.viewport,_=C.target!==b?Math.max(0,Math.min(T.width,C.clientX-T.left)):C.offsetX,I=C.target!==b?Math.max(0,Math.min(T.height,C.clientY-T.top)):C.offsetY,O=this.toRefFromMouse(_,I),L={r:Math.min(this.formulaRangeAnchor.r,O.r),c:Math.min(this.formulaRangeAnchor.c,O.c)},k={r:Math.max(this.formulaRangeAnchor.r,O.r),c:Math.max(this.formulaRangeAnchor.c,O.c)};this.insertReferenceAtCursor(L,k)},w=()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",w),this.activeFormulaInput==="cellInput"?this.cellInput.getInput().focus():this.activeFormulaInput==="formulaBar"&&this.formulaBar.getFormulaInput().focus(),this.formulaRefInsertPos=null};document.addEventListener("mousemove",E),document.addEventListener("mouseup",w);return}if(await this.finishEditing(),t.shiftKey){const x=this.toRefFromMouse(t.offsetX,t.offsetY);this.sheet.selectEnd(x),this.render();return}this.sheet.selectStart(this.toRefFromMouse(t.offsetX,t.offsetY)),this.render();let g=null;const p=x=>{let b=x.offsetX,E=x.offsetY;const w=this.viewport;x.target!==this.gridContainer.getScrollContainer()&&(b=Math.max(0,Math.min(w.width,x.clientX-w.left)),E=Math.max(0,Math.min(w.height,x.clientY-w.top))),this.sheet.selectEnd(this.toRefFromMouse(b,E)),this.render();const{clientX:C,clientY:T}=x;g&&clearInterval(g);const _={x:0,y:0};C<=w.left?_.x=-10:C>=w.width&&(_.x=OO),T<=w.top?_.y=-10:T>=w.height&&(_.y=OO),(_.x!==0||_.y!==0)&&(g=setInterval(()=>{this.gridContainer.scrollBy(_.x,_.y),this.sheet.selectEnd(this.toRefFromMouse(b,E)),this.render()},bY))},m=()=>{g&&clearInterval(g),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",m)}startResize(t,n,r){const s=t==="column"?r.clientX:r.clientY,a=t==="column"?this.colDim.getSize(n):this.rowDim.getSize(n),c=this.gridContainer.getScrollContainer();c.style.cursor=t==="column"?"col-resize":"row-resize";const d=t==="column"?this.colDim:this.rowDim,h=this.sheet.getSelectedIndices(),p=h&&h.axis===t&&n>=h.from&&n<=h.to?Array.from({length:h.to-h.from+1},(b,E)=>h.from+E):[n],m=b=>{const w=(t==="column"?b.clientX:b.clientY)-s,T=Math.max(t==="column"?DO:FY,a+w);d.setSize(n,T),this.render()},x=()=>{c.style.cursor="",document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x);const b=d.getSize(n);for(const E of p)d.setSize(E,b),t==="column"?this.sheet.setColumnWidth(E,b):(this.manuallyResizedRows.add(E),this.sheet.setRowHeight(E,b));this.render()};document.addEventListener("mousemove",m),document.addEventListener("mouseup",x)}async autoFitSize(t,n){const s=document.createElement("canvas").getContext("2d"),a=6;if(t==="column"){s.font=`${xc}px Arial`;const c=iy(n);let d=s.measureText(c).width+a;const[h,g]=this.viewRange,p=[{r:h.r,c:n},{r:g.r,c:n}],m=await this.sheet.fetchGrid(p);for(const[,b]of m)if(b.v){const E=s.measureText(b.v).width+a;E>d&&(d=E)}const x=Math.max(DO,Math.ceil(d));this.sheet.setColumnWidth(n,x)}else{this.manuallyResizedRows.delete(n);const c=await this.computeContentHeight(n);this.sheet.setRowHeight(n,c)}this.render()}async computeContentHeight(t){const[n,r]=this.viewRange,s=[{r:t,c:n.c},{r:t,c:r.c}],a=await this.sheet.fetchGrid(s);let c=1;for(const[,d]of a)if(d.v){const h=d.v.split(`
`).length;h>c&&(c=h)}return c<=1?et:Math.max(et,Math.ceil(c*xc*Ib+2*GC))}async autoResizeRow(t){if(this.manuallyResizedRows.has(t))return;const n=await this.computeContentHeight(t),r=this.rowDim.getSize(t);n!==r&&(this.sheet.setRowHeight(t,n),this.render())}startDragMove(t,n,r,s){const a=this.gridContainer.getScrollContainer();a.style.cursor="grabbing";const c=t==="column"?this.colDim:this.rowDim,d=p=>{const m=this.viewport;if(t==="column"){const x=p.target!==a?Math.max(0,Math.min(m.width,p.clientX-m.left)):p.offsetX,b=this.toColFromMouse(x),E=this.freezeState,C=E.frozenCols>0&&x<nt+E.frozenWidth?x-nt:x-nt-E.frozenWidth+this.colDim.getOffset(E.frozenCols+1)+this.scroll.left,_=c.getOffset(b)+c.getSize(b)/2;return C<_?b:b+1}else{const x=p.target!==a?Math.max(0,Math.min(m.height,p.clientY-m.top)):p.offsetY,b=this.toRowFromMouse(x),E=this.freezeState,C=E.frozenRows>0&&x<et+E.frozenHeight?x-et:x-et-E.frozenHeight+this.rowDim.getOffset(E.frozenRows+1)+this.scroll.top,_=c.getOffset(b)+c.getSize(b)/2;return C<_?b:b+1}};this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:d(s)},this.renderOverlay();const h=p=>{const m=d(p);this.dragMove&&this.dragMove.dropIndex!==m&&(this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:m},this.renderOverlay())},g=()=>{var m;a.style.cursor="",document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",g);const p=(m=this.dragMove)==null?void 0:m.dropIndex;this.dragMove=null,p!==void 0&&!(p>=n&&p<=n+r)?(t==="row"?this.sheet.moveRows(n,r,p):this.sheet.moveColumns(n,r,p)).then(()=>{const b=p<n?p:p-r;t==="row"?(this.sheet.selectRow(b),r>1&&this.sheet.selectRowRange(b,b+r-1)):(this.sheet.selectColumn(b),r>1&&this.sheet.selectColumnRange(b,b+r-1)),this.render()}):this.renderOverlay()};document.addEventListener("mousemove",h),document.addEventListener("mouseup",g)}async handleFormulaKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.formulaBar.getFormulaInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.move("down"),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const s={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},a={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(s,a),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.formulaBar.getFormulaInput())):t.key==="Escape"?(t.preventDefault(),this.focusGrid(),this.render()):this.cellInput.isShown()||this.showCellInput(!0,!0)}}async handleCellInputKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.cellInput.getInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&this.cellInput.hasFormula()&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const s={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},a={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(s,a),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key.startsWith("Arrow")&&!this.cellInput.hasFormula()&&!this.editMode?(t.preventDefault(),await this.finishEditing(),t.key==="ArrowDown"?this.sheet.move("down"):t.key==="ArrowUp"?this.sheet.move("up"):t.key==="ArrowLeft"?this.sheet.move("left"):t.key==="ArrowRight"&&this.sheet.move("right"),this.render(),this.scrollIntoView()):t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.cellInput.getInput())):t.key==="Escape"&&(t.preventDefault(),this.focusGrid(),this.render())}}async copy(){const{text:t}=await this.sheet.copy();await navigator.clipboard.writeText(t)}async paste(){try{let t,n;if(navigator.clipboard.read)try{const r=await navigator.clipboard.read();for(const s of r)s.types.includes("text/html")&&(n=await(await s.getType("text/html")).text()),s.types.includes("text/plain")&&(t=await(await s.getType("text/plain")).text())}catch{t=await navigator.clipboard.readText()}else t=await navigator.clipboard.readText();await this.sheet.paste({text:t,html:n}),this.sheet.clearCopyBuffer(),this.render()}catch(t){console.error("Failed to paste cell content: ",t)}}async handleGridKeydown(t){const n=async(r,s,a)=>{t.preventDefault(),(s?this.sheet.resizeRange(r):a?await this.sheet.moveToEdge(r):this.sheet.move(r))&&(this.render(),this.scrollIntoView())};if(t.key==="ArrowDown")n("down",t.shiftKey,t.metaKey);else if(t.key==="ArrowUp")n("up",t.shiftKey,t.metaKey);else if(t.key==="ArrowLeft")n("left",t.shiftKey,t.metaKey);else if(t.key==="ArrowRight")n("right",t.shiftKey,t.metaKey);else if(t.key==="a"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.sheet.selectAll(),this.render();else if(t.key==="Tab")t.preventDefault(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key==="Enter")t.preventDefault(),this.sheet.hasRange()?(this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView()):this.readOnly||this.showCellInput();else if(t.key==="Delete"||t.key==="Backspace"){if(this.readOnly)return;t.preventDefault(),await this.sheet.removeData()&&this.render()}else if(!t.metaKey&&!t.ctrlKey&&this.isValidCellInput(t.key)){if(this.readOnly)return;this.showCellInput(!0)}else if(t.key==="z"&&(t.metaKey||t.ctrlKey)&&!t.shiftKey){if(this.readOnly)return;t.preventDefault(),await this.sheet.undo()&&(this.render(),this.scrollIntoView())}else if((t.key==="z"&&t.shiftKey||t.key==="y")&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.redo()&&(this.render(),this.scrollIntoView())}else if(t.key==="Escape")t.preventDefault(),this.sheet.getCopyRange()&&(this.sheet.clearCopyBuffer(),this.renderOverlay());else if(t.key==="c"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.copy();else if(t.key==="v"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.paste()}else if(t.key==="b"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("b"),this.render()}else if(t.key==="i"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("i"),this.render()}else if(t.key==="u"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("u"),this.render()}}async reloadDimensions(){await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadFreezePane(),this.updateFreezeState()}setOnRender(t){this.onRenderCallback=t}render(){var t;this.formulaBar.render(),this.renderSheet(),this.renderOverlay(),(t=this.onRenderCallback)==null||t.call(this)}renderOverlay(){this.overlay.render(this.viewport,this.scroll,this.sheet.getActiveCell(),this.sheet.getPresences(),this.sheet.getRange(),this.rowDim,this.colDim,this.resizeHover,this.sheet.getSelectionType(),this.dragMove?{axis:this.dragMove.axis,dropIndex:this.dragMove.dropIndex}:null,this.formulaRanges,this.freezeState,this.freezeDrag,this.sheet.getCopyRange())}get viewRange(){const t=this.scroll,n=this.viewport,r=this.freezeState,s=this.rowDim.getOffset(r.frozenRows+1),a=this.colDim.getOffset(r.frozenCols+1),c=this.rowDim.findIndex(s+t.top),d=this.rowDim.findIndex(s+t.top+n.height)+1,h=this.colDim.findIndex(a+t.left),g=this.colDim.findIndex(a+t.left+n.width)+1;return[{r:c,c:h},{r:d,c:g}]}scrollIntoView(t=this.sheet.getActiveCell()){const n=this.scroll,r=this.freezeState,s=r.frozenRows>0&&t.r<=r.frozenRows,a=r.frozenCols>0&&t.c<=r.frozenCols,c=In(t,{left:0,top:0},this.rowDim,this.colDim),d=this.colDim.getOffset(r.frozenCols+1),h=this.rowDim.getOffset(r.frozenRows+1),g=this.viewport.width-nt-r.frozenWidth,p=this.viewport.height-et-r.frozenHeight;let m=!1;if(!a){const x=d+n.left,b=x+g,E=c.left-nt,w=E+c.width;E<x?(this.scroll={left:E-d},m=!0):w>b&&(this.scroll={left:w-g-d},m=!0)}if(!s){const x=h+n.top,b=x+p,E=c.top-et,w=E+c.height;E<x?(this.scroll={top:E-h},m=!0):w>b&&(this.scroll={top:w-p-h},m=!0)}m&&this.render()}async showCellInput(t=!1,n=!1){n||(this.editMode=!t);const r=this.sheet.getActiveCell(),s=this.freezeState,a=s.frozenRows>0||s.frozenCols>0?wY(r,this.scroll,this.rowDim,this.colDim,s):In(r,this.scroll,this.rowDim,this.colDim),c=t?"":await this.sheet.toInputString(r),d=Math.max(a.width,this.viewport.width-a.left),h=Math.max(a.height,this.viewport.height-a.top);this.cellInput.show(a.left,a.top,c,!n,a.width,a.height,d,h);const g=await this.sheet.getStyle(r);this.cellInput.applyStyle(g),c.startsWith("=")&&(this.formulaRanges=Jx(c).map(p=>p.range),this.renderOverlay())}isValidCellInput(t){return t.length===1||t==="Process"}async renderSheet(){const t=this.gridSize,n=this.freezeState;this.gridContainer.updateDummySize(t.width+nt,t.height+et);const r=this.viewRange,s=[{r:Math.min(1,r[0].r),c:Math.min(1,r[0].c)},{r:r[1].r,c:r[1].c}],a=await this.sheet.fetchGrid(s);this.gridCanvas.render(this.viewport,this.scroll,this.viewRange,this.sheet.getActiveCell(),a,this.rowDim,this.colDim,this.sheet.getSelectionType(),this.sheet.getRange(),n,this.freezeHandleHover,this.sheet.getColStyles(),this.sheet.getRowStyles(),this.sheet.getSheetStyle())}get gridSize(){const t=this.sheet.getDimension();return{width:this.colDim.getOffset(t.columns+1),height:this.rowDim.getOffset(t.rows+1)}}get viewport(){return this.gridContainer.getViewport()}get scroll(){return this.gridContainer.getScrollPosition()}set scroll(t){this.gridContainer.setScrollPosition(t)}}async function pF(e,t){const n=new BY(e,t),r=(t==null?void 0:t.store)||new gY;return await n.initialize(r),n}class BY{constructor(t,n){Y(this,"container");Y(this,"worksheet");Y(this,"sheet");Y(this,"theme");Y(this,"_readOnly");Y(this,"selectionChangeCallbacks",[]);this.container=t,this.container.style.position="relative",this.container.style.overflow="hidden",this.theme=(n==null?void 0:n.theme)||"light",this._readOnly=(n==null?void 0:n.readOnly)||!1,this.worksheet=new kY(this.container,this.theme,this._readOnly)}get readOnly(){return this._readOnly}async initialize(t){this.sheet=new pY(t),this.worksheet.setOnRender(()=>this.notifySelectionChange()),await this.worksheet.initialize(this.sheet)}async reloadDimensions(){await this.worksheet.reloadDimensions()}async setFreezePane(t,n){this._readOnly||await this.worksheet.setFreezePane(t,n)}render(){this.worksheet.render()}renderOverlay(){this.worksheet.renderOverlay()}async applyStyle(t){!this.sheet||this._readOnly||(await this.sheet.setRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async toggleStyle(t){!this.sheet||this._readOnly||(await this.sheet.toggleRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async getActiveStyle(){if(this.sheet)return this.sheet.getStyle(this.sheet.getActiveCell())}onSelectionChange(t){return this.selectionChangeCallbacks.push(t),()=>{this.selectionChangeCallbacks=this.selectionChangeCallbacks.filter(n=>n!==t)}}notifySelectionChange(){for(const t of this.selectionChangeCallbacks)t()}async increaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:t+1}),this.worksheet.render(),this.notifySelectionChange()}async decreaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:Math.max(0,t-1)}),this.worksheet.render(),this.notifySelectionChange()}async undo(){!this.sheet||this._readOnly||await this.sheet.undo()&&(this.worksheet.render(),this.notifySelectionChange())}async redo(){!this.sheet||this._readOnly||await this.sheet.redo()&&(this.worksheet.render(),this.notifySelectionChange())}cleanup(){this.worksheet.cleanup(),this.selectionChangeCallbacks=[]}}var jY="Toggle",gF=F.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:s,...a}=e,[c=!1,d]=kc({prop:n,onChange:s,defaultProp:r});return P.jsx(Bt.button,{type:"button","aria-pressed":c,"data-state":c?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:st(e.onClick,()=>{e.disabled||d(!c)})})});gF.displayName=jY;var zY=gF;const UY=ow("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function GE({className:e,variant:t,size:n,...r}){return P.jsx(zY,{"data-slot":"toggle",className:xt(UY({variant:t,size:n}),e),...r})}const VY=["#000000","#434343","#666666","#999999","#cccccc","#d50000","#e67c73","#f4511e","#ef6c00","#f09300","#0b8043","#33b679","#039be5","#3f51b5","#7986cb","#8e24aa","#d81b60","#ad1457","#6a1b9a","#4a148c"],GY=["#ffffff","#f3f3f3","#e8e8e8","#d9d9d9","#cccccc","#fce4ec","#fff3e0","#fff9c4","#e8f5e9","#e0f7fa","#e3f2fd","#ede7f6","#fce4ec","#f3e5f5","#e8eaf6","#ffcdd2","#ffe0b2","#fff59d","#c8e6c9","#b2dfdb"],$Y={left:pM,center:hM,right:gM},HY={top:dM,middle:fM,bottom:cM},WY={plain:uM,number:yM,currency:wC,percent:TC};function YY({spreadsheet:e}){const[t,n]=F.useState(void 0),r=F.useCallback(async()=>{if(!e)return;const k=await e.getActiveStyle();n(k)},[e]);F.useEffect(()=>{if(e)return r(),e.onSelectionChange(r)},[e,r]);const s=F.useCallback(k=>{e==null||e.toggleStyle(k)},[e]),a=F.useCallback(k=>{e==null||e.applyStyle({al:k})},[e]),c=F.useCallback(k=>{e==null||e.applyStyle({va:k})},[e]),d=F.useCallback(k=>{e==null||e.applyStyle({tc:k})},[e]),h=F.useCallback(()=>{e==null||e.applyStyle({tc:""})},[e]),g=F.useCallback(k=>{e==null||e.applyStyle({bg:k})},[e]),p=F.useCallback(()=>{e==null||e.applyStyle({bg:""})},[e]),m=F.useCallback(()=>{e==null||e.undo()},[e]),x=F.useCallback(()=>{e==null||e.redo()},[e]),b=F.useCallback(k=>{e==null||e.applyStyle({nf:k})},[e]),E=F.useCallback(()=>{e==null||e.increaseDecimals()},[e]),w=F.useCallback(()=>{e==null||e.decreaseDecimals()},[e]),C=(t==null?void 0:t.al)||"left",T=$Y[C],_=(t==null?void 0:t.va)||"top",I=HY[_],O=(t==null?void 0:t.nf)||"plain",L=WY[O];return P.jsxs("div",{className:"flex items-center gap-0.5 border-b px-2 py-1 bg-background",children:[P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:m,children:P.jsx(zG,{size:16})})}),P.jsx(si,{children:"Undo"})]}),P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:x,children:P.jsx(UG,{size:16})})}),P.jsx(si,{children:"Redo"})]}),P.jsx(Ip,{orientation:"vertical",className:"mx-1 h-6"}),P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>b("currency"),children:P.jsx(wC,{size:16})})}),P.jsx(si,{children:"Format as currency"})]}),P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>b("percent"),children:P.jsx(TC,{size:16})})}),P.jsx(si,{children:"Format as percent"})]}),P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsxs("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:w,children:[P.jsx(QR,{size:16}),P.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"-"})]})}),P.jsx(si,{children:"Decrease decimal places"})]}),P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsxs("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",onClick:E,children:[P.jsx(QR,{size:16}),P.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"+"})]})}),P.jsx(si,{children:"Increase decimal places"})]}),P.jsxs(au,{children:[P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx(lu,{asChild:!0,children:P.jsxs("button",{className:"inline-flex h-7 items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[P.jsx(L,{size:16}),P.jsx(tA,{size:12,className:"ml-0.5 opacity-50"})]})})}),P.jsx(si,{children:"More format"})]}),P.jsxs(uu,{children:[P.jsxs(Br,{onClick:()=>b("plain"),children:[P.jsx(uM,{size:16,className:"mr-2"}),"Plain text"]}),P.jsxs(Br,{onClick:()=>b("number"),children:[P.jsx(yM,{size:16,className:"mr-2"}),"Number"]}),P.jsxs(Br,{onClick:()=>b("currency"),children:[P.jsx(wC,{size:16,className:"mr-2"}),"Currency"]}),P.jsxs(Br,{onClick:()=>b("percent"),children:[P.jsx(TC,{size:16,className:"mr-2"}),"Percent"]})]})]}),P.jsx(Ip,{orientation:"vertical",className:"mx-1 h-6"}),P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx(GE,{size:"sm",pressed:(t==null?void 0:t.b)||!1,onPressedChange:()=>s("b"),className:"h-7 w-7",children:P.jsx(VG,{size:16})})}),P.jsx(si,{children:"Bold"})]}),P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx(GE,{size:"sm",pressed:(t==null?void 0:t.i)||!1,onPressedChange:()=>s("i"),className:"h-7 w-7",children:P.jsx(HG,{size:16})})}),P.jsx(si,{children:"Italic"})]}),P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx(GE,{size:"sm",pressed:(t==null?void 0:t.st)||!1,onPressedChange:()=>s("st"),className:"h-7 w-7",children:P.jsx(XG,{size:16})})}),P.jsx(si,{children:"Strikethrough"})]}),P.jsxs(au,{children:[P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx(lu,{asChild:!0,children:P.jsxs("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",children:[P.jsx(JG,{size:16}),P.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.tc)||"#000000"}})]})})}),P.jsx(si,{children:"Text color"})]}),P.jsxs(uu,{className:"w-auto p-2",children:[P.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:h,children:[P.jsx(eT,{size:14}),"Reset"]}),P.jsx("div",{className:"grid grid-cols-5 gap-1",children:VY.map(k=>P.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:k},onClick:()=>d(k)},k))})]})]}),P.jsx(Ip,{orientation:"vertical",className:"mx-1 h-6"}),P.jsxs(au,{children:[P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx(lu,{asChild:!0,children:P.jsxs("button",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-sm hover:bg-muted",children:[P.jsx(YG,{size:16}),P.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.bg)||"transparent",border:t!=null&&t.bg?"none":"1px solid #ccc"}})]})})}),P.jsx(si,{children:"Fill color"})]}),P.jsxs(uu,{className:"w-auto p-2",children:[P.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:p,children:[P.jsx(eT,{size:14}),"Reset"]}),P.jsx("div",{className:"grid grid-cols-5 gap-1",children:GY.map(k=>P.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:k},onClick:()=>g(k)},k))})]})]}),P.jsx(Ip,{orientation:"vertical",className:"mx-1 h-6"}),P.jsxs(au,{children:[P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx(lu,{asChild:!0,children:P.jsxs("button",{className:"inline-flex h-7 items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[P.jsx(T,{size:16}),P.jsx(tA,{size:12,className:"ml-0.5 opacity-50"})]})})}),P.jsx(si,{children:"Horizontal align"})]}),P.jsxs(uu,{children:[P.jsxs(Br,{onClick:()=>a("left"),children:[P.jsx(pM,{size:16,className:"mr-2"}),"Left"]}),P.jsxs(Br,{onClick:()=>a("center"),children:[P.jsx(hM,{size:16,className:"mr-2"}),"Center"]}),P.jsxs(Br,{onClick:()=>a("right"),children:[P.jsx(gM,{size:16,className:"mr-2"}),"Right"]})]})]}),P.jsxs(au,{children:[P.jsxs(ii,{children:[P.jsx(oi,{asChild:!0,children:P.jsx(lu,{asChild:!0,children:P.jsxs("button",{className:"inline-flex h-7 items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[P.jsx(I,{size:16}),P.jsx(tA,{size:12,className:"ml-0.5 opacity-50"})]})})}),P.jsx(si,{children:"Vertical align"})]}),P.jsxs(uu,{children:[P.jsxs(Br,{onClick:()=>c("top"),children:[P.jsx(dM,{size:16,className:"mr-2"}),"Top"]}),P.jsxs(Br,{onClick:()=>c("middle"),children:[P.jsx(fM,{size:16,className:"mr-2"}),"Middle"]}),P.jsxs(Br,{onClick:()=>c("bottom"),children:[P.jsx(cM,{size:16,className:"mr-2"}),"Bottom"]})]})]})]})}const qY={theme:"system",resolvedTheme:"light",setTheme:()=>null},R2=F.createContext(qY);function KY({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[s,a]=F.useState(()=>localStorage.getItem(n)||t),[c,d]=F.useState(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");F.useEffect(()=>{const g=window.document.documentElement;g.classList.remove("light","dark");let p;if(s==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";p=m,g.classList.add(m)}else p=s,g.classList.add(s);d(p)},[s]),F.useEffect(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>{if(s==="system"){const m=window.document.documentElement,x=g.matches?"dark":"light";m.classList.remove("light","dark"),m.classList.add(x),d(x)}};return g.addEventListener("change",p),()=>g.removeEventListener("change",p)},[s]);const h={theme:s,resolvedTheme:c,setTheme:g=>{localStorage.setItem(n,g),a(g)}};return P.jsx(R2.Provider,{...r,value:h,children:e})}const mF=()=>{const e=F.useContext(R2);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};class XY{constructor(t,n){Y(this,"doc");Y(this,"tabId");Y(this,"cellIndex",new C2);Y(this,"dirty",!0);Y(this,"batchOverlay",null);Y(this,"batchOps",null);this.doc=t,this.tabId=n,t.subscribe(r=>{r.type==="remote-change"&&(this.dirty=!0)})}getSheet(){return this.doc.getRoot().sheets[this.tabId]}ensureIndex(){if(!this.dirty)return;const t=this.getSheet().sheet,n=[];for(const r of Object.keys(t)){const s=dn(r);n.push([s.r,s.c])}this.cellIndex.rebuild(n),this.dirty=!1}async set(t,n){const r=Nt(t);if(this.batchOverlay){this.batchOverlay.set(r,n),this.dirty||this.cellIndex.add(t.r,t.c);return}const s=this.tabId;this.doc.update(a=>{a.sheets[s].sheet[r]=n}),this.dirty||this.cellIndex.add(t.r,t.c)}async get(t){const n=Nt(t);if(this.batchOverlay&&this.batchOverlay.has(n)){const r=this.batchOverlay.get(n);return r===null?void 0:r}return this.getSheet().sheet[n]}async has(t){const n=Nt(t);return this.batchOverlay&&this.batchOverlay.has(n)?this.batchOverlay.get(n)!==null:this.getSheet().sheet[n]!==void 0}async delete(t){const n=Nt(t);if(this.batchOverlay){let a=!1;return this.batchOverlay.has(n)?a=this.batchOverlay.get(n)!==null:a=this.getSheet().sheet[n]!==void 0,a?(this.batchOverlay.set(n,null),this.dirty||this.cellIndex.remove(t.r,t.c),!0):!1}let r=!1;const s=this.tabId;return this.doc.update(a=>{a.sheets[s].sheet[n]!==void 0&&(delete a.sheets[s].sheet[n],r=!0)}),r&&!this.dirty&&this.cellIndex.remove(t.r,t.c),r}async deleteRange(t){this.ensureIndex();const n=Array.from(this.cellIndex.cellsInRange(t)),r=new Set;if(this.batchOverlay){for(const[a,c]of n){const d=Nt({r:a,c});this.batchOverlay.has(d)&&this.batchOverlay.get(d)===null||(this.batchOverlay.set(d,null),r.add(d))}for(const[a,c]of n)this.cellIndex.remove(a,c);return r}const s=this.tabId;this.doc.update(a=>{for(const[c,d]of n){const h=Nt({r:c,c:d});delete a.sheets[s].sheet[h],r.add(h)}});for(const[a,c]of n)this.cellIndex.remove(a,c);return r}async setGrid(t){if(this.batchOverlay){for(const[r,s]of t)this.batchOverlay.set(r,s);if(!this.dirty)for(const[r]of t){const s=dn(r);this.cellIndex.add(s.r,s.c)}return}const n=this.tabId;if(this.doc.update(r=>{for(const[s,a]of t)r.sheets[n].sheet[s]=a}),!this.dirty)for(const[r]of t){const s=dn(r);this.cellIndex.add(s.r,s.c)}}async getGrid(t){this.ensureIndex();const n=this.getSheet().sheet,r=new Map;for(const[s,a]of this.cellIndex.cellsInRange(t)){const c=Nt({r:s,c:a});if(this.batchOverlay&&this.batchOverlay.has(c)){const h=this.batchOverlay.get(c);h!==null&&r.set(c,h);continue}const d=n[c];d!==void 0&&r.set(c,d)}return r}async findEdge(t,n,r){return this.ensureIndex(),w2(this.cellIndex,t,n,r,(s,a)=>{const c=Nt({r:s,c:a}),d=this.getSheet().sheet[c];return d!==void 0&&(!!d.v||!!d.f)})}async shiftCells(t,n,r){const s=this.tabId;this.doc.update(a=>{const c=a.sheets[s],d=[];for(const[m,x]of Object.entries(c.sheet))d.push([m,{v:x.v,f:x.f,s:x.s}]);for(const[m]of d)delete c.sheet[m];for(const[m,x]of d){const b=sF(m,t,n,r);b!==null&&(x.f?c.sheet[b]={...x,f:aF(x.f,t,n,r)}:c.sheet[b]={...x})}const h=t==="row"?c.rowHeights:c.colWidths,g=[];for(const[m,x]of Object.entries(h))g.push([m,x]);for(const[m]of g)delete h[m];for(const[m,x]of g){const b=Number(m);if(r>0)b>=n?h[String(b+r)]=x:h[m]=x;else{const E=Math.abs(r);b>=n&&b<n+E||(b>=n+E?h[String(b+r)]=x:h[m]=x)}}const p=t==="row"?c.rowStyles:c.colStyles;if(p){const m=[];for(const[x,b]of Object.entries(p))m.push([x,b]);for(const[x]of m)delete p[x];for(const[x,b]of m){const E=Number(x);if(r>0)E>=n?p[String(E+r)]=b:p[x]=b;else{const w=Math.abs(r);E>=n&&E<n+w||(E>=n+w?p[String(E+r)]=b:p[x]=b)}}}}),this.dirty=!0}async moveCells(t,n,r,s){const a=this.tabId;this.doc.update(c=>{const d=c.sheets[a],h=[];for(const[x,b]of Object.entries(d.sheet))h.push([x,{v:b.v,f:b.f,s:b.s}]);for(const[x]of h)delete d.sheet[x];for(const[x,b]of h){const E=dn(x),w=Pc(E,t,n,r,s),C=Nt(w);b.f?d.sheet[C]={...b,f:oF(b.f,t,n,r,s)}:d.sheet[C]={...b}}const g=t==="row"?d.rowHeights:d.colWidths,p=[];for(const[x,b]of Object.entries(g))p.push([x,b]);for(const[x]of p)delete g[x];for(const[x,b]of p){const E=Number(x),w=tg(E,n,r,s);g[String(w)]=b}const m=t==="row"?d.rowStyles:d.colStyles;if(m){const x=[];for(const[b,E]of Object.entries(m))x.push([b,E]);for(const[b]of x)delete m[b];for(const[b,E]of x){const w=Number(b),C=tg(w,n,r,s);m[String(C)]=E}}}),this.dirty=!0}async buildDependantsMap(t){const n=new Map,r=this.getSheet().sheet;if(this.batchOverlay){for(const[s,a]of Object.entries(r))if(!this.batchOverlay.has(s)&&a.f)for(const c of Dc(Z0(a.f)))n.has(c)||n.set(c,new Set),n.get(c).add(s);for(const[s,a]of this.batchOverlay)if(!(a===null||!a.f))for(const c of Dc(Z0(a.f)))n.has(c)||n.set(c,new Set),n.get(c).add(s);return n}for(const[s,a]of Object.entries(r))if(a.f)for(const c of Dc(Z0(a.f)))n.has(c)||n.set(c,new Set),n.get(c).add(s);return n}async setDimensionSize(t,n,r){if(this.batchOps){const a=this.tabId;this.batchOps.push(c=>{const d=t==="row"?c.sheets[a].rowHeights:c.sheets[a].colWidths;d[String(n)]=r});return}const s=this.tabId;this.doc.update(a=>{const c=t==="row"?a.sheets[s].rowHeights:a.sheets[s].colWidths;c[String(n)]=r})}async getDimensionSizes(t){const n=this.getSheet(),r=t==="row"?n.rowHeights:n.colWidths,s=new Map;if(r)for(const[a,c]of Object.entries(r))s.set(Number(a),c);return s}updateActiveCell(t){this.doc.update((n,r)=>{r.set({activeCell:Nt(t)})})}getPresences(){return this.doc.getOthersPresences()}async setColumnStyle(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].colStyles||(a.sheets[s].colStyles={}),a.sheets[s].colStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].colStyles||(s.sheets[r].colStyles={}),s.sheets[r].colStyles[String(t)]=n})}async getColumnStyles(){const t=this.getSheet(),n=new Map;if(t.colStyles)for(const[r,s]of Object.entries(t.colStyles))n.set(Number(r),s);return n}async setRowStyle(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].rowStyles||(a.sheets[s].rowStyles={}),a.sheets[s].rowStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].rowStyles||(s.sheets[r].rowStyles={}),s.sheets[r].rowStyles[String(t)]=n})}async getRowStyles(){const t=this.getSheet(),n=new Map;if(t.rowStyles)for(const[r,s]of Object.entries(t.rowStyles))n.set(Number(r),s);return n}async setSheetStyle(t){if(this.batchOps){const r=this.tabId;this.batchOps.push(s=>{s.sheets[r].sheetStyle=t});return}const n=this.tabId;this.doc.update(r=>{r.sheets[n].sheetStyle=t})}async getSheetStyle(){const t=this.getSheet();return t.sheetStyle?{...t.sheetStyle}:void 0}async setFreezePane(t,n){if(this.batchOps){const s=this.tabId;this.batchOps.push(a=>{a.sheets[s].frozenRows=t,a.sheets[s].frozenCols=n});return}const r=this.tabId;this.doc.update(s=>{s.sheets[r].frozenRows=t,s.sheets[r].frozenCols=n})}async getFreezePane(){const t=this.getSheet();return{frozenRows:t.frozenRows??0,frozenCols:t.frozenCols??0}}beginBatch(){this.batchOverlay=new Map,this.batchOps=[]}endBatch(){const t=this.batchOverlay,n=this.batchOps;this.batchOverlay=null,this.batchOps=null;const r=t&&t.size>0,s=n&&n.length>0;if(!r&&!s)return;const a=this.tabId;this.doc.update(c=>{const d=c.sheets[a];if(t)for(const[h,g]of t)g===null?d.sheet[h]!==void 0&&delete d.sheet[h]:d.sheet[h]=g;if(n)for(const h of n)h(c)}),this.dirty=!0}async undo(){if(!this.doc.history.canUndo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet));return this.doc.history.undo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t)}}async redo(){if(!this.doc.history.canRedo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet));return this.doc.history.redo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t)}}computeAffectedRange(t){const n=new Set(Object.keys(this.getSheet().sheet)),r=new Set;for(const h of n)t.has(h)||r.add(h);for(const h of t)n.has(h)||r.add(h);if(r.size===0)return;let s=1/0,a=-1/0,c=1/0,d=-1/0;for(const h of r){const g=dn(h);g.r<s&&(s=g.r),g.r>a&&(a=g.r),g.c<c&&(c=g.c),g.c>d&&(d=g.c)}return[{r:s,c},{r:a,c:d}]}canUndo(){return this.doc.history.canUndo()}canRedo(){return this.doc.history.canRedo()}}function yF({tabId:e,readOnly:t=!1}){const{resolvedTheme:n}=mF(),r=F.useRef(null),[s,a]=F.useState(!1),c=F.useRef(void 0),{doc:d,loading:h,error:g}=ma.useDocument();return F.useEffect(()=>{a(!0)},[]),F.useEffect(()=>{const p=r.current;if(!s||!p||!d)return;let m,x=[],b=!1;return pF(p,{theme:n,store:new XY(d,e),readOnly:t}).then(E=>{if(b){E.cleanup();return}m=E,c.current=E,x.push(d.subscribe(w=>{w.type==="remote-change"&&m.reloadDimensions().then(()=>m.render())})),x.push(d.subscribe("presence",()=>m.renderOverlay()))}),()=>{b=!0,m&&m.cleanup(),c.current=void 0;for(const E of x)E()}},[s,r,d,e,t]),h?P.jsx(gu,{}):g?P.jsx("div",{className:"flex h-full w-full items-center justify-center",children:P.jsx("div",{className:"text-red-500",children:g.message})}):P.jsxs("div",{className:"flex h-full w-full flex-col",children:[!t&&P.jsx(YY,{spreadsheet:c.current}),P.jsx("div",{ref:r,className:"flex-1 w-full"})]})}function ZY({tabs:e,activeTabId:t,onSelectTab:n,onAddTab:r,onRenameTab:s,onDeleteTab:a}){const[c,d]=F.useState(null),[h,g]=F.useState(""),p=F.useRef(null);F.useEffect(()=>{c&&p.current&&(p.current.focus(),p.current.select())},[c]);const m=b=>{d(b.id),g(b.name)},x=()=>{c&&h.trim()&&s(c,h.trim()),d(null)};return P.jsxs("div",{className:"flex items-center border-t bg-muted/30 px-1 h-9 shrink-0",children:[e.map(b=>P.jsxs(au,{children:[P.jsx(lu,{asChild:!0,children:P.jsxs("button",{className:xt("flex items-center gap-1.5 px-3 py-1 text-sm rounded-t border-b-2 cursor-pointer select-none","hover:bg-muted/50 transition-colors",b.id===t?"border-primary bg-background text-foreground font-medium":"border-transparent text-muted-foreground"),onClick:E=>{E.preventDefault(),n(b.id)},onDoubleClick:()=>m(b),onContextMenu:E=>{E.preventDefault()},children:[b.type==="datasource"?P.jsx(RC,{className:"size-3.5"}):P.jsx(tT,{className:"size-3.5"}),c===b.id?P.jsx("input",{ref:p,className:"w-20 bg-transparent border-b border-primary text-sm outline-none",value:h,onChange:E=>g(E.target.value),onBlur:x,onKeyDown:E=>{E.key==="Enter"&&x(),E.key==="Escape"&&d(null)},onClick:E=>E.stopPropagation()}):P.jsx("span",{children:b.name})]})}),P.jsxs(uu,{align:"start",children:[P.jsx(Br,{onClick:()=>m(b),children:"Rename"}),e.length>1&&P.jsxs(P.Fragment,{children:[P.jsx(YP,{}),P.jsx(Br,{variant:"destructive",onClick:()=>a(b.id),children:"Delete"})]})]})]},b.id)),P.jsxs(au,{children:[P.jsx(lu,{asChild:!0,children:P.jsx("button",{className:"flex items-center justify-center size-7 ml-1 rounded hover:bg-muted/50 text-muted-foreground cursor-pointer",children:P.jsx(vM,{className:"size-4"})})}),P.jsxs(uu,{align:"start",children:[P.jsxs(Br,{onClick:()=>r("sheet"),children:[P.jsx(tT,{className:"size-4"}),"New Sheet"]}),P.jsxs(Br,{onClick:()=>r("datasource"),children:[P.jsx(RC,{className:"size-4"}),"New DataSource"]})]})]})]})}const SS="https://wafflebase-api.yorkie.dev/datasources";async function PO(e){const t=await Oo(SS,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create datasource");return t.json()}async function MO(){const e=await Oo(SS);if(!e.ok)throw new Error("Failed to fetch datasources");return e.json()}async function LO(e){const t=await Oo(`${SS}/${e}/test`,{method:"POST"});if(!t.ok)throw new Error("Failed to test connection");return t.json()}async function JY(e,t){const n=await Oo(`${SS}/${e}/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.message||"Query execution failed")}return n.json()}function QY({tabId:e}){const{resolvedTheme:t}=mF(),n=F.useRef(null),[r,s]=F.useState(!1),a=F.useRef(void 0),c=F.useRef(new aY),{doc:d,loading:h,error:g}=ma.useDocument(),[p,m]=F.useState(""),[x,b]=F.useState(!1),[E,w]=F.useState(null),[C,T]=F.useState(null);F.useEffect(()=>{s(!0)},[]),F.useEffect(()=>{if(!d)return;const L=d.getRoot().tabs[e];L!=null&&L.query&&m(L.query)},[d,e]),F.useEffect(()=>{const O=n.current;if(!r||!O)return;let L,k=!1;return pF(O,{theme:t,store:c.current,readOnly:!0}).then(V=>{if(k){V.cleanup();return}L=V,a.current=V}),()=>{k=!0,L&&L.cleanup(),a.current=void 0}},[r,t]);const _=F.useCallback(async()=>{if(!d||!p.trim())return;const L=d.getRoot().tabs[e];if(!(L!=null&&L.datasourceId)){T("No datasource connected to this tab");return}d.update(k=>{k.tabs[e]&&(k.tabs[e].query=p)}),b(!0),T(null);try{const k=await JY(L.datasourceId,p);w(k),c.current.loadQueryResults(k.columns,k.rows),a.current&&(await a.current.reloadDimensions(),a.current.render())}catch(k){T(k.message)}finally{b(!1)}},[d,e,p]),I=F.useCallback(O=>{(O.metaKey||O.ctrlKey)&&O.key==="Enter"&&(O.preventDefault(),_())},[_]);return h?P.jsx(gu,{}):g?P.jsx("div",{className:"flex h-full w-full items-center justify-center",children:P.jsx("div",{className:"text-red-500",children:g.message})}):P.jsxs("div",{className:"flex h-full w-full flex-col",children:[P.jsx("div",{className:"border-b p-2 shrink-0",children:P.jsx("textarea",{className:"w-full h-24 p-2 font-mono text-sm border rounded resize-y bg-background text-foreground focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"SELECT * FROM users LIMIT 100",value:p,onChange:O=>m(O.target.value),onKeyDown:I})}),P.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 border-b shrink-0",children:[P.jsxs(jr,{size:"sm",onClick:_,disabled:x||!p.trim(),children:[P.jsx(qG,{className:"size-4"}),x?"Executing...":"Execute"]}),E&&P.jsxs("span",{className:"text-xs text-muted-foreground",children:[E.rowCount," row",E.rowCount!==1?"s":"",E.truncated?" (truncated)":""," in ",E.executionTime,"ms"]}),C&&P.jsx("span",{className:"text-xs text-destructive truncate",children:C})]}),P.jsx("div",{ref:n,className:"flex-1 w-full"})]})}var e7="Label",vF=F.forwardRef((e,t)=>P.jsx(Bt.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));vF.displayName=e7;var t7=vF;function zd({className:e,...t}){return P.jsx(t7,{"data-slot":"label",className:xt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var n7=ZO[" useInsertionEffect ".trim().toString()]||Ar;function r7({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,c]=i7({defaultProp:t,onChange:n}),d=e!==void 0,h=d?e:s;{const p=F.useRef(e!==void 0);F.useEffect(()=>{const m=p.current;m!==d&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,r])}const g=F.useCallback(p=>{var m;if(d){const x=o7(p)?p(e):p;x!==e&&((m=c.current)==null||m.call(c,x))}else a(p)},[d,e,a,c]);return[h,g]}function i7({defaultProp:e,onChange:t}){const[n,r]=F.useState(e),s=F.useRef(n),a=F.useRef(t);return n7(()=>{a.current=t},[t]),F.useEffect(()=>{var c;s.current!==n&&((c=a.current)==null||c.call(a,n),s.current=n)},[n,s]),[n,r,a]}function o7(e){return typeof e=="function"}var s7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xF=s7.reduce((e,t)=>{const n=Mc(`Primitive.${t}`),r=F.forwardRef((s,a)=>{const{asChild:c,...d}=s,h=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(h,{...d,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),AS="Switch",[a7,AK]=bs(AS),[l7,u7]=a7(AS),bF=F.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:c,disabled:d,value:h="on",onCheckedChange:g,form:p,...m}=e,[x,b]=F.useState(null),E=ln(t,I=>b(I)),w=F.useRef(!1),C=x?p||!!x.closest("form"):!0,[T,_]=r7({prop:s,defaultProp:a??!1,onChange:g,caller:AS});return P.jsxs(l7,{scope:n,checked:T,disabled:d,children:[P.jsx(xF.button,{type:"button",role:"switch","aria-checked":T,"aria-required":c,"data-state":CF(T),"data-disabled":d?"":void 0,disabled:d,value:h,...m,ref:E,onClick:st(e.onClick,I=>{_(O=>!O),C&&(w.current=I.isPropagationStopped(),w.current||I.stopPropagation())})}),C&&P.jsx(EF,{control:x,bubbles:!w.current,name:r,value:h,checked:T,required:c,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});bF.displayName=AS;var SF="SwitchThumb",AF=F.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=u7(SF,n);return P.jsx(xF.span,{"data-state":CF(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});AF.displayName=SF;var c7="SwitchBubbleInput",EF=F.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const c=F.useRef(null),d=ln(c,a),h=dw(n),g=hw(t);return F.useEffect(()=>{const p=c.current;if(!p)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==n&&b){const E=new Event("click",{bubbles:r});b.call(p,n),p.dispatchEvent(E)}},[h,n,r]),P.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:d,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});EF.displayName=c7;function CF(e){return e?"checked":"unchecked"}var f7=bF,d7=AF;function wF({className:e,...t}){return P.jsx(f7,{"data-slot":"switch",className:xt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:P.jsx(d7,{"data-slot":"switch-thumb",className:xt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function h7({open:e,onOpenChange:t,onCreated:n}){const[r,s]=F.useState(""),[a,c]=F.useState("localhost"),[d,h]=F.useState("5432"),[g,p]=F.useState(""),[m,x]=F.useState(""),[b,E]=F.useState(""),[w,C]=F.useState(!1),[T,_]=F.useState(!1),[I,O]=F.useState(!1),[L,k]=F.useState(null),V=()=>{s(""),c("localhost"),h("5432"),p(""),x(""),E(""),C(!1),k(null)},U=async()=>{O(!0);try{const te=await PO({name:r,host:a,port:Number(d),database:g,username:m,password:b,sslEnabled:w});k(te.id),li.success("DataSource created"),n(te),V(),t(!1)}catch{li.error("Failed to create datasource")}finally{O(!1)}},q=async()=>{if(!L){O(!0);try{const te=await PO({name:r||"Untitled",host:a,port:Number(d),database:g,username:m,password:b,sslEnabled:w});k(te.id),_(!0);const ie=await LO(te.id);ie.success?li.success("Connection successful"):li.error(`Connection failed: ${ie.error}`)}catch{li.error("Failed to test connection")}finally{O(!1),_(!1)}return}_(!0);try{const te=await LO(L);te.success?li.success("Connection successful"):li.error(`Connection failed: ${te.error}`)}catch{li.error("Failed to test connection")}finally{_(!1)}};return P.jsx(jb,{open:e,onOpenChange:te=>{te||V(),t(te)},children:P.jsxs(zb,{className:"sm:max-w-md",children:[P.jsxs(Ub,{children:[P.jsx(Vb,{children:"New DataSource Connection"}),P.jsx(Sw,{children:"Connect to an external PostgreSQL database."})]}),P.jsxs("div",{className:"grid gap-4 py-2",children:[P.jsxs("div",{className:"grid gap-2",children:[P.jsx(zd,{htmlFor:"ds-name",children:"Name"}),P.jsx(vc,{id:"ds-name",placeholder:"My Database",value:r,onChange:te=>s(te.target.value)})]}),P.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[P.jsxs("div",{className:"col-span-2 grid gap-2",children:[P.jsx(zd,{htmlFor:"ds-host",children:"Host"}),P.jsx(vc,{id:"ds-host",placeholder:"localhost",value:a,onChange:te=>c(te.target.value)})]}),P.jsxs("div",{className:"grid gap-2",children:[P.jsx(zd,{htmlFor:"ds-port",children:"Port"}),P.jsx(vc,{id:"ds-port",type:"number",value:d,onChange:te=>h(te.target.value)})]})]}),P.jsxs("div",{className:"grid gap-2",children:[P.jsx(zd,{htmlFor:"ds-database",children:"Database"}),P.jsx(vc,{id:"ds-database",placeholder:"mydb",value:g,onChange:te=>p(te.target.value)})]}),P.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[P.jsxs("div",{className:"grid gap-2",children:[P.jsx(zd,{htmlFor:"ds-username",children:"Username"}),P.jsx(vc,{id:"ds-username",placeholder:"postgres",value:m,onChange:te=>x(te.target.value)})]}),P.jsxs("div",{className:"grid gap-2",children:[P.jsx(zd,{htmlFor:"ds-password",children:"Password"}),P.jsx(vc,{id:"ds-password",type:"password",value:b,onChange:te=>E(te.target.value)})]})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(wF,{id:"ds-ssl",checked:w,onCheckedChange:C}),P.jsx(zd,{htmlFor:"ds-ssl",children:"Enable SSL"})]})]}),P.jsxs("div",{className:"flex justify-between",children:[P.jsx(jr,{variant:"outline",onClick:q,disabled:T||!a||!g,children:T?"Testing...":"Test Connection"}),P.jsx(jr,{onClick:U,disabled:I||!r||!a||!g||!m,children:I?"Saving...":"Save"})]})]})})}function p7({open:e,onOpenChange:t,onSelect:n}){const[r,s]=F.useState([]),[a,c]=F.useState(!1),[d,h]=F.useState(!1),[g,p]=F.useState(null);F.useEffect(()=>{e&&(c(!0),MO().then(s).catch(()=>s([])).finally(()=>c(!1)))},[e]);const m=()=>{const x=r.find(b=>b.id===g);x&&(n(x),t(!1))};return P.jsxs(P.Fragment,{children:[P.jsx(jb,{open:e&&!d,onOpenChange:t,children:P.jsxs(zb,{className:"sm:max-w-sm",children:[P.jsxs(Ub,{children:[P.jsx(Vb,{children:"Select DataSource"}),P.jsx(Sw,{children:"Choose an existing connection or create a new one."})]}),P.jsx("div",{className:"py-2",children:a?P.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading..."}):r.length===0?P.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No datasources yet. Create one to get started."}):P.jsx("div",{className:"flex flex-col gap-1 max-h-60 overflow-y-auto",children:r.map(x=>P.jsxs("button",{className:xt("flex items-center gap-2 px-3 py-2 rounded text-sm text-left cursor-pointer","hover:bg-muted/50 transition-colors",g===x.id&&"bg-muted"),onClick:()=>p(x.id),onDoubleClick:()=>{n(x),t(!1)},children:[P.jsx(RC,{className:"size-4 text-muted-foreground shrink-0"}),P.jsxs("div",{className:"flex flex-col min-w-0",children:[P.jsx("span",{className:"font-medium truncate",children:x.name}),P.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[x.host,":",x.port,"/",x.database]})]})]},x.id))})}),P.jsxs("div",{className:"flex justify-between",children:[P.jsxs(jr,{variant:"outline",size:"sm",onClick:()=>h(!0),children:[P.jsx(vM,{className:"size-4"}),"New Connection"]}),P.jsx(jr,{size:"sm",disabled:!g,onClick:m,children:"Select"})]})]})}),P.jsx(h7,{open:d,onOpenChange:x=>{h(x),x||MO().then(s).catch(()=>{})},onCreated:x=>{n(x),t(!1),h(!1)}})]})}const tb="tab-1",RF={tabs:{[tb]:{id:tb,name:"Sheet1",type:"sheet"}},tabOrder:[tb],sheets:{[tb]:{sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},frozenRows:0,frozenCols:0}}},g7={main:[{title:"Documents",url:"/",icon:mM}],secondary:[{title:"Settings",url:"/settings",icon:xM}]};function m7(e){if(!e)return;const t=e.getRoot();if(t.tabs||!t.sheet)return;const r="tab-1";e.update(s=>{s.tabs={[r]:{id:r,name:"Sheet1",type:"sheet"}},s.tabOrder=[r],s.sheets={[r]:{sheet:s.sheet||{},rowHeights:s.rowHeights||{},colWidths:s.colWidths||{},colStyles:s.colStyles||{},rowStyles:s.rowStyles||{},sheetStyle:s.sheetStyle,frozenRows:s.frozenRows||0,frozenCols:s.frozenCols||0}},delete s.sheet,delete s.rowHeights,delete s.colWidths,delete s.colStyles,delete s.rowStyles,delete s.sheetStyle,delete s.frozenRows,delete s.frozenCols})}function FO(){return`tab-${Date.now()}-${Math.random().toString(36).slice(2,6)}`}function y7({documentId:e}){J8();const{doc:t}=ma.useDocument(),[n,r]=F.useState(null),[s,a]=F.useState(!1),[c,d]=F.useState(!1);F.useEffect(()=>{t&&(m7(t),a(!0))},[t]),F.useEffect(()=>{if(!t||!s)return;const C=t.getRoot();C.tabOrder&&C.tabOrder.length>0&&!n&&r(C.tabOrder[0])},[t,s,n]);const h=F.useCallback(()=>{if(!t)return;const C=t.getRoot(),T=FO(),_=C.tabOrder.filter(I=>{var O;return((O=C.tabs[I])==null?void 0:O.type)==="sheet"}).length+1;t.update(I=>{I.tabs[T]={id:T,name:`Sheet${_}`,type:"sheet"},I.tabOrder.push(T),I.sheets[T]={sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},frozenRows:0,frozenCols:0}}),r(T)},[t]),g=F.useCallback(C=>{if(!t)return;const T=t.getRoot(),_=FO(),I=T.tabOrder.filter(O=>{var L;return((L=T.tabs[O])==null?void 0:L.type)==="datasource"}).length+1;t.update(O=>{O.tabs[_]={id:_,name:C.name||`DataSource${I}`,type:"datasource",datasourceId:C.id,query:""},O.tabOrder.push(_)}),r(_)},[t]),p=F.useCallback(C=>{C==="datasource"?d(!0):h()},[h]),m=F.useCallback((C,T)=>{t&&t.update(_=>{_.tabs[C]&&(_.tabs[C].name=T)})},[t]),x=F.useCallback(C=>{if(!t)return;const T=t.getRoot();if(T.tabOrder.length<=1)return;const _=T.tabOrder.indexOf(C);if(t.update(I=>{delete I.tabs[C],I.sheets[C]&&delete I.sheets[C];const O=I.tabOrder.indexOf(C);O!==-1&&I.tabOrder.splice(O,1)}),n===C){const I=t.getRoot(),O=Math.min(_,I.tabOrder.length-1);r(I.tabOrder[O])}},[t,n]);if(!t||!s||!n)return P.jsx(gu,{});const b=t.getRoot(),E=b.tabOrder.map(C=>b.tabs[C]).filter(Boolean),w=b.tabs[n];return P.jsxs(oM,{children:[P.jsx(RM,{variant:"inset",items:g7}),P.jsxs(sM,{children:[P.jsx(TM,{title:"Spreadsheet",children:P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(Z8,{documentId:e}),P.jsx(l8,{})]})}),P.jsxs("div",{className:"flex flex-1 flex-col",children:[P.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:P.jsx("div",{className:"flex flex-col h-full",children:(w==null?void 0:w.type)==="datasource"?P.jsx(QY,{tabId:n}):P.jsx(yF,{tabId:n})})}),P.jsx(ZY,{tabs:E,activeTabId:n,onSelectTab:r,onAddTab:p,onRenameTab:m,onDeleteTab:x})]})]}),P.jsx(p7,{open:c,onOpenChange:d,onSelect:g})]})}function v7(){const{id:e}=oD(),{data:t,isLoading:n,isError:r}=Uc({queryKey:["me"],queryFn:nh,retry:!1,staleTime:5*60*1e3});return n?P.jsx(gu,{}):r||!t?P.jsx("div",{children:"User not found"}):!t.username||!t.email?P.jsx(gu,{}):P.jsx(ma.DocumentProvider,{docKey:`sheet-${e}`,initialRoot:RF,initialPresence:{username:t.username,email:t.email,photo:t.photo||""},children:P.jsx(y7,{documentId:e})})}function x7({resolved:e}){const t=e.role==="viewer",{doc:n}=ma.useDocument();if(!n)return P.jsx(gu,{});const r=n.getRoot(),s=r.tabOrder&&r.tabOrder.length>0?r.tabOrder[0]:"tab-1";return P.jsxs("div",{className:"flex h-screen w-full flex-col",children:[P.jsxs("header",{className:"flex h-14 shrink-0 items-center gap-2 border-b px-4",children:[P.jsx("h1",{className:"text-base font-medium",children:e.title}),t&&P.jsx("span",{className:"rounded bg-muted px-2 py-0.5 text-xs text-muted-foreground",children:"View only"})]}),P.jsx("div",{className:"flex flex-1 flex-col",children:P.jsx(yF,{tabId:s,readOnly:t})})]})}function b7({resolved:e}){const{data:t}=Uc({queryKey:["me"],queryFn:nh,retry:!1}),n={username:(t==null?void 0:t.username)||"Anonymous",email:(t==null?void 0:t.email)||"",photo:(t==null?void 0:t.photo)||""};return P.jsx(ma.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:n.username},children:P.jsx(ma.DocumentProvider,{docKey:`sheet-${e.documentId}`,initialRoot:RF,initialPresence:n,children:P.jsx(x7,{resolved:e})})})}function S7(){const{token:e}=oD(),[t,n]=F.useState(null),[r,s]=F.useState(null),[a,c]=F.useState(!0);return F.useEffect(()=>{if(!e){s("No share token provided"),c(!1);return}q8(e).then(d=>{n(d),c(!1)}).catch(d=>{s(d.message||"Invalid or expired link"),c(!1)})},[e]),a?P.jsx(gu,{}):r||!t?P.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:P.jsxs("div",{className:"text-center",children:[P.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Link unavailable"}),P.jsx("p",{className:"text-muted-foreground",children:r||"Invalid or expired link"})]})}):P.jsx(b7,{resolved:t})}function A7(){const{theme:e,setTheme:t}=F.useContext(R2),n=()=>{t(e==="dark"?"light":"dark")};return P.jsx("div",{className:"max-w-2xl mx-auto p-6",children:P.jsxs("div",{className:"flex items-center justify-between p-4",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"theme-switch",className:"text-sm font-medium",children:"Theme"}),P.jsx("p",{className:"text-xs text-gray-500",children:"Toggle between light and dark themes."})]}),P.jsx("div",{className:"ml-4",children:P.jsx("div",{className:"flex items-center space-x-2",children:P.jsx(wF,{id:"theme-switch",checked:e==="dark",onCheckedChange:n})})})]})})}const E7=()=>{const{data:e,isLoading:t}=Uc({queryKey:["me"],queryFn:nh,retry:!1});return t?P.jsx(gu,{}):e?P.jsx(ma.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:e.username||"anonymous-user"},children:P.jsx(XC,{})}):P.jsx(lD,{to:"/login"})},C7=()=>{const{data:e,isLoading:t}=Uc({queryKey:["me"],queryFn:nh,retry:!1});return t?P.jsx(gu,{}):e?P.jsx(lD,{to:"/"}):P.jsx(XC,{})},$E={main:[{title:"Documents",url:"/",icon:mM}],secondary:[{title:"Settings",url:"/settings",icon:xM}]};function w7(){var n,r;const e=ya();let t="";return e.pathname==="/"?t="Documents":e.pathname==="/settings"?t="Settings":e.pathname.match(/^\/\d+$/)?t="Spreadsheet":t=((n=$E.secondary.find(s=>s.url===e.pathname))==null?void 0:n.title)||((r=$E.main.find(s=>e.pathname.startsWith(s.url)))==null?void 0:r.title)||"",P.jsxs(oM,{children:[P.jsx(RM,{variant:"inset",items:$E}),P.jsxs(sM,{children:[P.jsx(TM,{title:t}),P.jsx("div",{className:"flex flex-1 flex-col",children:P.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:P.jsx("div",{className:"flex flex-col h-full",children:P.jsx(XC,{})})})})]})]})}function R7(){return P.jsxs(KY,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[P.jsx(LB,{client:new IB,children:P.jsx(oB,{basename:"/",children:P.jsxs(Fk,{children:[P.jsx(nu,{element:P.jsx(C7,{}),children:P.jsx(nu,{path:"/login",element:P.jsx(Iz,{})})}),P.jsx(nu,{path:"/shared/:token",element:P.jsx(S7,{})}),P.jsxs(nu,{element:P.jsx(E7,{}),children:[P.jsxs(nu,{element:P.jsx(w7,{}),children:[P.jsx(nu,{path:"/",element:P.jsx(U6,{})}),P.jsx(nu,{path:"/settings",element:P.jsx(A7,{})})]}),P.jsx(nu,{path:"/:id",element:P.jsx(v7,{})})]})]})})}),P.jsx(xj,{})]})}$F.createRoot(document.getElementById("root")).render(P.jsx(F.StrictMode,{children:P.jsx(R7,{})}));
