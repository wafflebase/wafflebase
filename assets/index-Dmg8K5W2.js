var kB=Object.defineProperty;var KR=e=>{throw TypeError(e)};var BB=(e,t,n)=>t in e?kB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var q=(e,t,n)=>BB(e,typeof t!="symbol"?t+"":t,n),pA=(e,t,n)=>t.has(e)||KR("Cannot "+n);var pe=(e,t,n)=>(pA(e,t,"read from private field"),n?n.call(e):t.get(e)),Et=(e,t,n)=>t.has(e)?KR("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),st=(e,t,n,r)=>(pA(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ht=(e,t,n)=>(pA(e,t,"access private method"),n);var gb=(e,t,n,r)=>({set _(i){st(e,t,i,n)},get _(){return pe(e,t,r)}});function jB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var h3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function p3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gA={exports:{}},R0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR;function zB(){if(XR)return R0;XR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:a}}return R0.Fragment=t,R0.jsx=n,R0.jsxs=n,R0}var ZR;function g3(){return ZR||(ZR=1,gA.exports=zB()),gA.exports}var O=g3(),mA={exports:{}},T0={},vA={exports:{}},yA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR;function UB(){return JR||(JR=1,function(e){function t(ie,Ae){var de=ie.length;ie.push(Ae);e:for(;0<de;){var ue=de-1>>>1,X=ie[ue];if(0<i(X,Ae))ie[ue]=Ae,ie[de]=X,de=ue;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var Ae=ie[0],de=ie.pop();if(de!==Ae){ie[0]=de;e:for(var ue=0,X=ie.length,oe=X>>>1;ue<oe;){var he=2*(ue+1)-1,z=ie[he],U=he+1,G=ie[U];if(0>i(z,de))U<X&&0>i(G,z)?(ie[ue]=G,ie[U]=de,ue=U):(ie[ue]=z,ie[he]=de,ue=he);else if(U<X&&0>i(G,de))ie[ue]=G,ie[U]=de,ue=U;else break e}}return Ae}function i(ie,Ae){var de=ie.sortIndex-Ae.sortIndex;return de!==0?de:ie.id-Ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],g=[],p=1,m=null,x=3,b=!1,E=!1,C=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(ie){for(var Ae=n(g);Ae!==null;){if(Ae.callback===null)r(g);else if(Ae.startTime<=ie)r(g),Ae.sortIndex=Ae.expirationTime,t(c,Ae);else break;Ae=n(g)}}function L(ie){if(C=!1,D(ie),!E)if(n(c)!==null)E=!0,k||(k=!0,re());else{var Ae=n(g);Ae!==null&&Oe(L,Ae.startTime-ie)}}var k=!1,j=-1,B=5,$=-1;function K(){return w?!0:!(e.unstable_now()-$<B)}function ne(){if(w=!1,k){var ie=e.unstable_now();$=ie;var Ae=!0;try{e:{E=!1,C&&(C=!1,I(j),j=-1),b=!0;var de=x;try{t:{for(D(ie),m=n(c);m!==null&&!(m.expirationTime>ie&&K());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,x=m.priorityLevel;var X=ue(m.expirationTime<=ie);if(ie=e.unstable_now(),typeof X=="function"){m.callback=X,D(ie),Ae=!0;break t}m===n(c)&&r(c),D(ie)}else r(c);m=n(c)}if(m!==null)Ae=!0;else{var oe=n(g);oe!==null&&Oe(L,oe.startTime-ie),Ae=!1}}break e}finally{m=null,x=de,b=!1}Ae=void 0}}finally{Ae?re():k=!1}}}var re;if(typeof N=="function")re=function(){N(ne)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Me=Se.port2;Se.port1.onmessage=ne,re=function(){Me.postMessage(null)}}else re=function(){R(ne,0)};function Oe(ie,Ae){j=R(function(){ie(e.unstable_now())},Ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(ie){switch(x){case 1:case 2:case 3:var Ae=3;break;default:Ae=x}var de=x;x=Ae;try{return ie()}finally{x=de}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(ie,Ae){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var de=x;x=ie;try{return Ae()}finally{x=de}},e.unstable_scheduleCallback=function(ie,Ae,de){var ue=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ue+de:ue):de=ue,ie){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=de+X,ie={id:p++,callback:Ae,priorityLevel:ie,startTime:de,expirationTime:X,sortIndex:-1},de>ue?(ie.sortIndex=de,t(g,ie),n(c)===null&&ie===n(g)&&(C?(I(j),j=-1):C=!0,Oe(L,de-ue))):(ie.sortIndex=X,t(c,ie),E||b||(E=!0,k||(k=!0,re()))),ie},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(ie){var Ae=x;return function(){var de=x;x=Ae;try{return ie.apply(this,arguments)}finally{x=de}}}}(yA)),yA}var QR;function VB(){return QR||(QR=1,vA.exports=UB()),vA.exports}var xA={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function GB(){if(eT)return Gt;eT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(X){return X===null||typeof X!="object"?null:(X=m&&X[m]||X["@@iterator"],typeof X=="function"?X:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function w(X,oe,he){this.props=X,this.context=oe,this.refs=C,this.updater=he||b}w.prototype.isReactComponent={},w.prototype.setState=function(X,oe){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,oe,"setState")},w.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function R(){}R.prototype=w.prototype;function I(X,oe,he){this.props=X,this.context=oe,this.refs=C,this.updater=he||b}var N=I.prototype=new R;N.constructor=I,E(N,w.prototype),N.isPureReactComponent=!0;var D=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function j(X,oe,he,z,U,G){return he=G.ref,{$$typeof:e,type:X,key:oe,ref:he!==void 0?he:null,props:G}}function B(X,oe){return j(X.type,oe,void 0,void 0,void 0,X.props)}function $(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function K(X){var oe={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(he){return oe[he]})}var ne=/\/+/g;function re(X,oe){return typeof X=="object"&&X!==null&&X.key!=null?K(""+X.key):oe.toString(36)}function Se(){}function Me(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(Se,Se):(X.status="pending",X.then(function(oe){X.status==="pending"&&(X.status="fulfilled",X.value=oe)},function(oe){X.status==="pending"&&(X.status="rejected",X.reason=oe)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function Oe(X,oe,he,z,U){var G=typeof X;(G==="undefined"||G==="boolean")&&(X=null);var H=!1;if(X===null)H=!0;else switch(G){case"bigint":case"string":case"number":H=!0;break;case"object":switch(X.$$typeof){case e:case t:H=!0;break;case p:return H=X._init,Oe(H(X._payload),oe,he,z,U)}}if(H)return U=U(X),H=z===""?"."+re(X,0):z,D(U)?(he="",H!=null&&(he=H.replace(ne,"$&/")+"/"),Oe(U,oe,he,"",function(J){return J})):U!=null&&($(U)&&(U=B(U,he+(U.key==null||X&&X.key===U.key?"":(""+U.key).replace(ne,"$&/")+"/")+H)),oe.push(U)),1;H=0;var Q=z===""?".":z+":";if(D(X))for(var Z=0;Z<X.length;Z++)z=X[Z],G=Q+re(z,Z),H+=Oe(z,oe,he,G,U);else if(Z=x(X),typeof Z=="function")for(X=Z.call(X),Z=0;!(z=X.next()).done;)z=z.value,G=Q+re(z,Z++),H+=Oe(z,oe,he,G,U);else if(G==="object"){if(typeof X.then=="function")return Oe(Me(X),oe,he,z,U);throw oe=String(X),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return H}function ie(X,oe,he){if(X==null)return X;var z=[],U=0;return Oe(X,z,"","",function(G){return oe.call(he,G,U++)}),z}function Ae(X){if(X._status===-1){var oe=X._result;oe=oe(),oe.then(function(he){(X._status===0||X._status===-1)&&(X._status=1,X._result=he)},function(he){(X._status===0||X._status===-1)&&(X._status=2,X._result=he)}),X._status===-1&&(X._status=0,X._result=oe)}if(X._status===1)return X._result.default;throw X._result}var de=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function ue(){}return Gt.Children={map:ie,forEach:function(X,oe,he){ie(X,function(){oe.apply(this,arguments)},he)},count:function(X){var oe=0;return ie(X,function(){oe++}),oe},toArray:function(X){return ie(X,function(oe){return oe})||[]},only:function(X){if(!$(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Gt.Component=w,Gt.Fragment=n,Gt.Profiler=i,Gt.PureComponent=I,Gt.StrictMode=r,Gt.Suspense=c,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return L.H.useMemoCache(X)}},Gt.cache=function(X){return function(){return X.apply(null,arguments)}},Gt.cloneElement=function(X,oe,he){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var z=E({},X.props),U=X.key,G=void 0;if(oe!=null)for(H in oe.ref!==void 0&&(G=void 0),oe.key!==void 0&&(U=""+oe.key),oe)!k.call(oe,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&oe.ref===void 0||(z[H]=oe[H]);var H=arguments.length-2;if(H===1)z.children=he;else if(1<H){for(var Q=Array(H),Z=0;Z<H;Z++)Q[Z]=arguments[Z+2];z.children=Q}return j(X.type,U,void 0,void 0,G,z)},Gt.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},Gt.createElement=function(X,oe,he){var z,U={},G=null;if(oe!=null)for(z in oe.key!==void 0&&(G=""+oe.key),oe)k.call(oe,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(U[z]=oe[z]);var H=arguments.length-2;if(H===1)U.children=he;else if(1<H){for(var Q=Array(H),Z=0;Z<H;Z++)Q[Z]=arguments[Z+2];U.children=Q}if(X&&X.defaultProps)for(z in H=X.defaultProps,H)U[z]===void 0&&(U[z]=H[z]);return j(X,G,void 0,void 0,null,U)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(X){return{$$typeof:u,render:X}},Gt.isValidElement=$,Gt.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:Ae}},Gt.memo=function(X,oe){return{$$typeof:g,type:X,compare:oe===void 0?null:oe}},Gt.startTransition=function(X){var oe=L.T,he={};L.T=he;try{var z=X(),U=L.S;U!==null&&U(he,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(ue,de)}catch(G){de(G)}finally{L.T=oe}},Gt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Gt.use=function(X){return L.H.use(X)},Gt.useActionState=function(X,oe,he){return L.H.useActionState(X,oe,he)},Gt.useCallback=function(X,oe){return L.H.useCallback(X,oe)},Gt.useContext=function(X){return L.H.useContext(X)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(X,oe){return L.H.useDeferredValue(X,oe)},Gt.useEffect=function(X,oe,he){var z=L.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(X,oe)},Gt.useId=function(){return L.H.useId()},Gt.useImperativeHandle=function(X,oe,he){return L.H.useImperativeHandle(X,oe,he)},Gt.useInsertionEffect=function(X,oe){return L.H.useInsertionEffect(X,oe)},Gt.useLayoutEffect=function(X,oe){return L.H.useLayoutEffect(X,oe)},Gt.useMemo=function(X,oe){return L.H.useMemo(X,oe)},Gt.useOptimistic=function(X,oe){return L.H.useOptimistic(X,oe)},Gt.useReducer=function(X,oe,he){return L.H.useReducer(X,oe,he)},Gt.useRef=function(X){return L.H.useRef(X)},Gt.useState=function(X){return L.H.useState(X)},Gt.useSyncExternalStore=function(X,oe,he){return L.H.useSyncExternalStore(X,oe,he)},Gt.useTransition=function(){return L.H.useTransition()},Gt.version="19.1.0",Gt}var tT;function AS(){return tT||(tT=1,xA.exports=GB()),xA.exports}var bA={exports:{}},pi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function $B(){if(nT)return pi;nT=1;var e=AS();function t(c){var g="https://react.dev/errors/"+c;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,g,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:g,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,g){if(c==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pi.createPortal=function(c,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return a(c,g,null,p)},pi.flushSync=function(c){var g=l.T,p=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=g,r.p=p,r.d.f()}},pi.preconnect=function(c,g){typeof c=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(c,g))},pi.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},pi.preinit=function(c,g){if(typeof c=="string"&&g&&typeof g.as=="string"){var p=g.as,m=u(p,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(c,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:b}):p==="script"&&r.d.X(c,{crossOrigin:m,integrity:x,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pi.preinitModule=function(c,g){if(typeof c=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=u(g.as,g.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(c)},pi.preload=function(c,g){if(typeof c=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,m=u(p,g.crossOrigin);r.d.L(c,p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pi.preloadModule=function(c,g){if(typeof c=="string")if(g){var p=u(g.as,g.crossOrigin);r.d.m(c,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(c)},pi.requestFormReset=function(c){r.d.r(c)},pi.unstable_batchedUpdates=function(c,g){return c(g)},pi.useFormState=function(c,g,p){return l.H.useFormState(c,g,p)},pi.useFormStatus=function(){return l.H.useHostTransitionStatus()},pi.version="19.1.0",pi}var rT;function m3(){if(rT)return bA.exports;rT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bA.exports=$B(),bA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function WB(){if(iT)return T0;iT=1;var e=VB(),t=AS(),n=m3();function r(s){var d="https://react.dev/errors/"+s;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+s+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var d=s,y=s;if(s.alternate)for(;d.return;)d=d.return;else{s=d;do d=s,(d.flags&4098)!==0&&(y=d.return),s=d.return;while(s)}return d.tag===3?y:null}function l(s){if(s.tag===13){var d=s.memoizedState;if(d===null&&(s=s.alternate,s!==null&&(d=s.memoizedState)),d!==null)return d.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function c(s){var d=s.alternate;if(!d){if(d=a(s),d===null)throw Error(r(188));return d!==s?null:s}for(var y=s,S=d;;){var T=y.return;if(T===null)break;var M=T.alternate;if(M===null){if(S=T.return,S!==null){y=S;continue}break}if(T.child===M.child){for(M=T.child;M;){if(M===y)return u(T),s;if(M===S)return u(T),d;M=M.sibling}throw Error(r(188))}if(y.return!==S.return)y=T,S=M;else{for(var W=!1,ee=T.child;ee;){if(ee===y){W=!0,y=T,S=M;break}if(ee===S){W=!0,S=T,y=M;break}ee=ee.sibling}if(!W){for(ee=M.child;ee;){if(ee===y){W=!0,y=M,S=T;break}if(ee===S){W=!0,S=M,y=T;break}ee=ee.sibling}if(!W)throw Error(r(189))}}if(y.alternate!==S)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?s:d}function g(s){var d=s.tag;if(d===5||d===26||d===27||d===6)return s;for(s=s.child;s!==null;){if(d=g(s),d!==null)return d;s=s.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function re(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var Se=Symbol.for("react.client.reference");function Me(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Se?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case w:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case k:return"SuspenseList";case $:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case N:return(s.displayName||"Context")+".Provider";case I:return(s._context.displayName||"Context")+".Consumer";case D:var d=s.render;return s=s.displayName,s||(s=d.displayName||d.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return d=s.displayName||null,d!==null?d:Me(s.type)||"Memo";case B:d=s._payload,s=s._init;try{return Me(s(d))}catch{}}return null}var Oe=Array.isArray,ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ue=[],X=-1;function oe(s){return{current:s}}function he(s){0>X||(s.current=ue[X],ue[X]=null,X--)}function z(s,d){X++,ue[X]=s.current,s.current=d}var U=oe(null),G=oe(null),H=oe(null),Q=oe(null);function Z(s,d){switch(z(H,d),z(G,s),z(U,null),d.nodeType){case 9:case 11:s=(s=d.documentElement)&&(s=s.namespaceURI)?tA(s):0;break;default:if(s=d.tagName,d=d.namespaceURI)d=tA(d),s=nA(d,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}he(U),z(U,s)}function J(){he(U),he(G),he(H)}function se(s){s.memoizedState!==null&&z(Q,s);var d=U.current,y=nA(d,s.type);d!==y&&(z(G,s),z(U,y))}function ye(s){G.current===s&&(he(U),he(G)),Q.current===s&&(he(Q),Ac._currentValue=de)}var xe=Object.prototype.hasOwnProperty,ae=e.unstable_scheduleCallback,le=e.unstable_cancelCallback,we=e.unstable_shouldYield,Ie=e.unstable_requestPaint,je=e.unstable_now,Ue=e.unstable_getCurrentPriorityLevel,me=e.unstable_ImmediatePriority,Pe=e.unstable_UserBlockingPriority,Ze=e.unstable_NormalPriority,pt=e.unstable_LowPriority,gt=e.unstable_IdlePriority,ge=e.log,Ne=e.unstable_setDisableYieldValue,qe=null,He=null;function tt(s){if(typeof ge=="function"&&Ne(s),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(qe,s)}catch{}}var lt=Math.clz32?Math.clz32:It,xt=Math.log,Rt=Math.LN2;function It(s){return s>>>=0,s===0?32:31-(xt(s)/Rt|0)|0}var sn=256,ke=4194304;function nt(s){var d=s&42;if(d!==0)return d;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function mt(s,d,y){var S=s.pendingLanes;if(S===0)return 0;var T=0,M=s.suspendedLanes,W=s.pingedLanes;s=s.warmLanes;var ee=S&134217727;return ee!==0?(S=ee&~M,S!==0?T=nt(S):(W&=ee,W!==0?T=nt(W):y||(y=ee&~s,y!==0&&(T=nt(y))))):(ee=S&~M,ee!==0?T=nt(ee):W!==0?T=nt(W):y||(y=S&~s,y!==0&&(T=nt(y)))),T===0?0:d!==0&&d!==T&&(d&M)===0&&(M=T&-T,y=d&-d,M>=y||M===32&&(y&4194048)!==0)?d:T}function At(s,d){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&d)===0}function Dt(s,d){switch(s){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vn(){var s=sn;return sn<<=1,(sn&4194048)===0&&(sn=256),s}function kn(){var s=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),s}function Hn(s){for(var d=[],y=0;31>y;y++)d.push(s);return d}function an(s,d){s.pendingLanes|=d,d!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Qn(s,d,y,S,T,M){var W=s.pendingLanes;s.pendingLanes=y,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=y,s.entangledLanes&=y,s.errorRecoveryDisabledLanes&=y,s.shellSuspendCounter=0;var ee=s.entanglements,fe=s.expirationTimes,De=s.hiddenUpdates;for(y=W&~y;0<y;){var ze=31-lt(y),$e=1<<ze;ee[ze]=0,fe[ze]=-1;var Le=De[ze];if(Le!==null)for(De[ze]=null,ze=0;ze<Le.length;ze++){var Fe=Le[ze];Fe!==null&&(Fe.lane&=-536870913)}y&=~$e}S!==0&&rt(s,S,0),M!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=M&~(W&~d))}function rt(s,d,y){s.pendingLanes|=d,s.suspendedLanes&=~d;var S=31-lt(d);s.entangledLanes|=d,s.entanglements[S]=s.entanglements[S]|1073741824|y&4194090}function ln(s,d){var y=s.entangledLanes|=d;for(s=s.entanglements;y;){var S=31-lt(y),T=1<<S;T&d|s[S]&d&&(s[S]|=d),y&=~T}}function Jt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function rn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function vr(){var s=Ae.p;return s!==0?s:(s=window.event,s===void 0?32:GR(s.type))}function qt(s,d){var y=Ae.p;try{return Ae.p=s,d()}finally{Ae.p=y}}var jt=Math.random().toString(36).slice(2),un="__reactFiber$"+jt,Lt="__reactProps$"+jt,An="__reactContainer$"+jt,Mi="__reactEvents$"+jt,Sr="__reactListeners$"+jt,yi="__reactHandles$"+jt,Ho="__reactResources$"+jt,Qi="__reactMarker$"+jt;function jg(s){delete s[un],delete s[Lt],delete s[Mi],delete s[Sr],delete s[yi]}function Bs(s){var d=s[un];if(d)return d;for(var y=s.parentNode;y;){if(d=y[An]||y[un]){if(y=d.alternate,d.child!==null||y!==null&&y.child!==null)for(s=tb(s);s!==null;){if(y=s[un])return y;s=tb(s)}return d}s=y,y=s.parentNode}return null}function Yo(s){if(s=s[un]||s[An]){var d=s.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return s}return null}function Pu(s){var d=s.tag;if(d===5||d===26||d===27||d===6)return s.stateNode;throw Error(r(33))}function js(s){var d=s[Ho];return d||(d=s[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function ir(s){s[Qi]=!0}var zg=new Set,Ug={};function zs(s,d){$a(s,d),$a(s+"Capture",d)}function $a(s,d){for(Ug[s]=d,s=0;s<d.length;s++)zg.add(d[s])}var Vg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cy={},df={};function fy(s){return xe.call(df,s)?!0:xe.call(cy,s)?!1:Vg.test(s)?df[s]=!0:(cy[s]=!0,!1)}function qo(s,d,y){if(fy(d))if(y===null)s.removeAttribute(d);else{switch(typeof y){case"undefined":case"function":case"symbol":s.removeAttribute(d);return;case"boolean":var S=d.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){s.removeAttribute(d);return}}s.setAttribute(d,""+y)}}function hf(s,d,y){if(y===null)s.removeAttribute(d);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttribute(d,""+y)}}function Ko(s,d,y,S){if(S===null)s.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(y);return}s.setAttributeNS(d,y,""+S)}}var Wa,dy;function xo(s){if(Wa===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);Wa=d&&d[1]||"",dy=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wa+s+dy}var pf=!1;function Gg(s,d){if(!s||pf)return"";pf=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(d){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Fe){var Le=Fe}Reflect.construct(s,[],$e)}else{try{$e.call()}catch(Fe){Le=Fe}s.call($e.prototype)}}else{try{throw Error()}catch(Fe){Le=Fe}($e=s())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Fe){if(Fe&&Le&&typeof Fe.stack=="string")return[Fe.stack,Le.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=S.DetermineComponentFrameRoot(),W=M[0],ee=M[1];if(W&&ee){var fe=W.split(`
`),De=ee.split(`
`);for(T=S=0;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;for(;T<De.length&&!De[T].includes("DetermineComponentFrameRoot");)T++;if(S===fe.length||T===De.length)for(S=fe.length-1,T=De.length-1;1<=S&&0<=T&&fe[S]!==De[T];)T--;for(;1<=S&&0<=T;S--,T--)if(fe[S]!==De[T]){if(S!==1||T!==1)do if(S--,T--,0>T||fe[S]!==De[T]){var ze=`
`+fe[S].replace(" at new "," at ");return s.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",s.displayName)),ze}while(1<=S&&0<=T);break}}}finally{pf=!1,Error.prepareStackTrace=y}return(y=s?s.displayName||s.name:"")?xo(y):""}function g1(s){switch(s.tag){case 26:case 27:case 5:return xo(s.type);case 16:return xo("Lazy");case 13:return xo("Suspense");case 19:return xo("SuspenseList");case 0:case 15:return Gg(s.type,!1);case 11:return Gg(s.type.render,!1);case 1:return Gg(s.type,!0);case 31:return xo("Activity");default:return""}}function hy(s){try{var d="";do d+=g1(s),s=s.return;while(s);return d}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function ti(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $g(s){var d=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function m1(s){var d=$g(s)?"checked":"value",y=Object.getOwnPropertyDescriptor(s.constructor.prototype,d),S=""+s[d];if(!s.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var T=y.get,M=y.set;return Object.defineProperty(s,d,{configurable:!0,get:function(){return T.call(this)},set:function(W){S=""+W,M.call(this,W)}}),Object.defineProperty(s,d,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(W){S=""+W},stopTracking:function(){s._valueTracker=null,delete s[d]}}}}function wh(s){s._valueTracker||(s._valueTracker=m1(s))}function py(s){if(!s)return!1;var d=s._valueTracker;if(!d)return!0;var y=d.getValue(),S="";return s&&(S=$g(s)?s.checked?"true":"false":s.value),s=S,s!==y?(d.setValue(s),!0):!1}function Ch(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var gf=/[\n"\\]/g;function Lr(s){return s.replace(gf,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Wg(s,d,y,S,T,M,W,ee){s.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?s.type=W:s.removeAttribute("type"),d!=null?W==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+ti(d)):s.value!==""+ti(d)&&(s.value=""+ti(d)):W!=="submit"&&W!=="reset"||s.removeAttribute("value"),d!=null?mf(s,W,ti(d)):y!=null?mf(s,W,ti(y)):S!=null&&s.removeAttribute("value"),T==null&&M!=null&&(s.defaultChecked=!!M),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?s.name=""+ti(ee):s.removeAttribute("name")}function Hg(s,d,y,S,T,M,W,ee){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(s.type=M),d!=null||y!=null){if(!(M!=="submit"&&M!=="reset"||d!=null))return;y=y!=null?""+ti(y):"",d=d!=null?""+ti(d):y,ee||d===s.value||(s.value=d),s.defaultValue=d}S=S??T,S=typeof S!="function"&&typeof S!="symbol"&&!!S,s.checked=ee?s.checked:!!S,s.defaultChecked=!!S,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(s.name=W)}function mf(s,d,y){d==="number"&&Ch(s.ownerDocument)===s||s.defaultValue===""+y||(s.defaultValue=""+y)}function Lu(s,d,y,S){if(s=s.options,d){d={};for(var T=0;T<y.length;T++)d["$"+y[T]]=!0;for(y=0;y<s.length;y++)T=d.hasOwnProperty("$"+s[y].value),s[y].selected!==T&&(s[y].selected=T),T&&S&&(s[y].defaultSelected=!0)}else{for(y=""+ti(y),d=null,T=0;T<s.length;T++){if(s[T].value===y){s[T].selected=!0,S&&(s[T].defaultSelected=!0);return}d!==null||s[T].disabled||(d=s[T])}d!==null&&(d.selected=!0)}}function Yg(s,d,y){if(d!=null&&(d=""+ti(d),d!==s.value&&(s.value=d),y==null)){s.defaultValue!==d&&(s.defaultValue=d);return}s.defaultValue=y!=null?""+ti(y):""}function gy(s,d,y,S){if(d==null){if(S!=null){if(y!=null)throw Error(r(92));if(Oe(S)){if(1<S.length)throw Error(r(93));S=S[0]}y=S}y==null&&(y=""),d=y}y=ti(d),s.defaultValue=y,S=s.textContent,S===y&&S!==""&&S!==null&&(s.value=S)}function Us(s,d){if(d){var y=s.firstChild;if(y&&y===s.lastChild&&y.nodeType===3){y.nodeValue=d;return}}s.textContent=d}var my=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vy(s,d,y){var S=d.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?S?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="":S?s.setProperty(d,y):typeof y!="number"||y===0||my.has(d)?d==="float"?s.cssFloat=y:s[d]=(""+y).trim():s[d]=y+"px"}function yy(s,d,y){if(d!=null&&typeof d!="object")throw Error(r(62));if(s=s.style,y!=null){for(var S in y)!y.hasOwnProperty(S)||d!=null&&d.hasOwnProperty(S)||(S.indexOf("--")===0?s.setProperty(S,""):S==="float"?s.cssFloat="":s[S]="");for(var T in d)S=d[T],d.hasOwnProperty(T)&&y[T]!==S&&vy(s,T,S)}else for(var M in d)d.hasOwnProperty(M)&&vy(s,M,d[M])}function qg(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vf(s){return xy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var yf=null;function xf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ha=null,Ya=null;function by(s){var d=Yo(s);if(d&&(s=d.stateNode)){var y=s[Lt]||null;e:switch(s=d.stateNode,d.type){case"input":if(Wg(s,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),d=y.name,y.type==="radio"&&d!=null){for(y=s;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Lr(""+d)+'"][type="radio"]'),d=0;d<y.length;d++){var S=y[d];if(S!==s&&S.form===s.form){var T=S[Lt]||null;if(!T)throw Error(r(90));Wg(S,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(d=0;d<y.length;d++)S=y[d],S.form===s.form&&py(S)}break e;case"textarea":Yg(s,y.value,y.defaultValue);break e;case"select":d=y.value,d!=null&&Lu(s,!!y.multiple,d,!1)}}}var Kg=!1;function Sy(s,d,y){if(Kg)return s(d,y);Kg=!0;try{var S=s(d);return S}finally{if(Kg=!1,(Ha!==null||Ya!==null)&&(fa(),Ha&&(d=Ha,s=Ya,Ya=Ha=null,by(d),s)))for(d=0;d<s.length;d++)by(s[d])}}function qa(s,d){var y=s.stateNode;if(y===null)return null;var S=y[Lt]||null;if(S===null)return null;y=S[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(s=s.type,S=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!S;break e;default:s=!1}if(s)return null;if(y&&typeof y!="function")throw Error(r(231,d,typeof y));return y}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xg=!1;if(Xo)try{var bf={};Object.defineProperty(bf,"passive",{get:function(){Xg=!0}}),window.addEventListener("test",bf,bf),window.removeEventListener("test",bf,bf)}catch{Xg=!1}var Vs=null,Fu=null,Pi=null;function Ay(){if(Pi)return Pi;var s,d=Fu,y=d.length,S,T="value"in Vs?Vs.value:Vs.textContent,M=T.length;for(s=0;s<y&&d[s]===T[s];s++);var W=y-s;for(S=1;S<=W&&d[y-S]===T[M-S];S++);return Pi=T.slice(s,1<S?1-S:void 0)}function Rh(s){var d=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&d===13&&(s=13)):s=d,s===10&&(s=13),32<=s||s===13?s:0}function Th(){return!0}function Ey(){return!1}function ni(s){function d(y,S,T,M,W){this._reactName=y,this._targetInst=T,this.type=S,this.nativeEvent=M,this.target=W,this.currentTarget=null;for(var ee in s)s.hasOwnProperty(ee)&&(y=s[ee],this[ee]=y?y(M):M[ee]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Th:Ey,this.isPropagationStopped=Ey,this}return p(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),d}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=ni(Gs),Vr=p({},Gs,{view:0,detail:0}),y1=ni(Vr),Zg,Nh,Sf,_h=p({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Sf&&(Sf&&s.type==="mousemove"?(Zg=s.screenX-Sf.screenX,Nh=s.screenY-Sf.screenY):Nh=Zg=0,Sf=s),Zg)},movementY:function(s){return"movementY"in s?s.movementY:Nh}}),Jg=ni(_h),Mt=p({},_h,{dataTransfer:0}),FR=ni(Mt),x1=p({},Vr,{relatedTarget:0}),Ih=ni(x1),wy=p({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Cy=ni(wy),Ry=p({},Gs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ty=ni(Ry),Ny=p({},Gs,{data:0}),Qg=ni(Ny),_y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dy(s){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(s):(s=Oy[s])?!!d[s]:!1}function Oh(){return Dy}var My=p({},Vr,{key:function(s){if(s.key){var d=_y[s.key]||s.key;if(d!=="Unidentified")return d}return s.type==="keypress"?(s=Rh(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Iy[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oh,charCode:function(s){return s.type==="keypress"?Rh(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Rh(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Py=ni(My),Ly=p({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),em=ni(Ly),Fy=p({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oh}),ky=ni(Fy),By=p({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),jy=ni(By),zy=p({},_h,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),b1=ni(zy),Li=p({},Gs,{newState:0,oldState:0}),Uy=ni(Li),Vy=[9,13,27,32],tm=Xo&&"CompositionEvent"in window,Af=null;Xo&&"documentMode"in document&&(Af=document.documentMode);var nm=Xo&&"TextEvent"in window&&!Af,Ka=Xo&&(!tm||Af&&8<Af&&11>=Af),bo=" ",Gy=!1;function $y(s,d){switch(s){case"keyup":return Vy.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ku=!1;function Hy(s,d){switch(s){case"compositionend":return Wy(d);case"keypress":return d.which!==32?null:(Gy=!0,bo);case"textInput":return s=d.data,s===bo&&Gy?null:s;default:return null}}function S1(s,d){if(ku)return s==="compositionend"||!tm&&$y(s,d)?(s=Ay(),Pi=Fu=Vs=null,ku=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ka&&d.locale!=="ko"?null:d.data;default:return null}}var A1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(s){var d=s&&s.nodeName&&s.nodeName.toLowerCase();return d==="input"?!!A1[s.type]:d==="textarea"}function Yy(s,d,y,S){Ha?Ya?Ya.push(S):Ya=[S]:Ha=S,d=qf(d,"onChange"),0<d.length&&(y=new Zo("onChange","change",null,y,S),s.push({event:y,listeners:d}))}var Fi=null,$s=null;function qy(s){Fo(s,0)}function Xa(s){var d=Pu(s);if(py(d))return s}function im(s,d){if(s==="change")return d}var Ky=!1;if(Xo){var om;if(Xo){var Dh="oninput"in document;if(!Dh){var Xy=document.createElement("div");Xy.setAttribute("oninput","return;"),Dh=typeof Xy.oninput=="function"}om=Dh}else om=!1;Ky=om&&(!document.documentMode||9<document.documentMode)}function Zy(){Fi&&(Fi.detachEvent("onpropertychange",Jy),$s=Fi=null)}function Jy(s){if(s.propertyName==="value"&&Xa($s)){var d=[];Yy(d,$s,s,xf(s)),Sy(qy,d)}}function E1(s,d,y){s==="focusin"?(Zy(),Fi=d,$s=y,Fi.attachEvent("onpropertychange",Jy)):s==="focusout"&&Zy()}function w1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xa($s)}function Qy(s,d){if(s==="click")return Xa(d)}function sm(s,d){if(s==="input"||s==="change")return Xa(d)}function C1(s,d){return s===d&&(s!==0||1/s===1/d)||s!==s&&d!==d}var ri=typeof Object.is=="function"?Object.is:C1;function Ef(s,d){if(ri(s,d))return!0;if(typeof s!="object"||s===null||typeof d!="object"||d===null)return!1;var y=Object.keys(s),S=Object.keys(d);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var T=y[S];if(!xe.call(d,T)||!ri(s[T],d[T]))return!1}return!0}function Mh(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ex(s,d){var y=Mh(s);s=0;for(var S;y;){if(y.nodeType===3){if(S=s+y.textContent.length,s<=d&&S>=d)return{node:y,offset:d-s};s=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Mh(y)}}function tx(s,d){return s&&d?s===d?!0:s&&s.nodeType===3?!1:d&&d.nodeType===3?tx(s,d.parentNode):"contains"in s?s.contains(d):s.compareDocumentPosition?!!(s.compareDocumentPosition(d)&16):!1:!1}function nx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var d=Ch(s.document);d instanceof s.HTMLIFrameElement;){try{var y=typeof d.contentWindow.location.href=="string"}catch{y=!1}if(y)s=d.contentWindow;else break;d=Ch(s.document)}return d}function am(s){var d=s&&s.nodeName&&s.nodeName.toLowerCase();return d&&(d==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||d==="textarea"||s.contentEditable==="true")}var Ph=Xo&&"documentMode"in document&&11>=document.documentMode,Za=null,lm=null,wf=null,Lh=!1;function rx(s,d,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Lh||Za==null||Za!==Ch(S)||(S=Za,"selectionStart"in S&&am(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),wf&&Ef(wf,S)||(wf=S,S=qf(lm,"onSelect"),0<S.length&&(d=new Zo("onSelect","select",null,d,y),s.push({event:d,listeners:S}),d.target=Za)))}function Ja(s,d){var y={};return y[s.toLowerCase()]=d.toLowerCase(),y["Webkit"+s]="webkit"+d,y["Moz"+s]="moz"+d,y}var Bu={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},Qa={},um={};Xo&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete Bu.animationend.animation,delete Bu.animationiteration.animation,delete Bu.animationstart.animation),"TransitionEvent"in window||delete Bu.transitionend.transition);function el(s){if(Qa[s])return Qa[s];if(!Bu[s])return s;var d=Bu[s],y;for(y in d)if(d.hasOwnProperty(y)&&y in um)return Qa[s]=d[y];return s}var ix=el("animationend"),Fh=el("animationiteration"),Cf=el("animationstart"),R1=el("transitionrun"),T1=el("transitionstart"),N1=el("transitioncancel"),ox=el("transitionend"),sx=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function xi(s,d){sx.set(s,d),zs(d,[s])}var cm=new WeakMap;function ki(s,d){if(typeof s=="object"&&s!==null){var y=cm.get(s);return y!==void 0?y:(d={value:s,source:d,stack:hy(d)},cm.set(s,d),d)}return{value:s,source:d,stack:hy(d)}}var bi=[],ju=0,fm=0;function Bh(){for(var s=ju,d=fm=ju=0;d<s;){var y=bi[d];bi[d++]=null;var S=bi[d];bi[d++]=null;var T=bi[d];bi[d++]=null;var M=bi[d];if(bi[d++]=null,S!==null&&T!==null){var W=S.pending;W===null?T.next=T:(T.next=W.next,W.next=T),S.pending=T}M!==0&&ax(y,T,M)}}function Jo(s,d,y,S){bi[ju++]=s,bi[ju++]=d,bi[ju++]=y,bi[ju++]=S,fm|=S,s.lanes|=S,s=s.alternate,s!==null&&(s.lanes|=S)}function jh(s,d,y,S){return Jo(s,d,y,S),zh(s)}function zu(s,d){return Jo(s,null,null,d),zh(s)}function ax(s,d,y){s.lanes|=y;var S=s.alternate;S!==null&&(S.lanes|=y);for(var T=!1,M=s.return;M!==null;)M.childLanes|=y,S=M.alternate,S!==null&&(S.childLanes|=y),M.tag===22&&(s=M.stateNode,s===null||s._visibility&1||(T=!0)),s=M,M=M.return;return s.tag===3?(M=s.stateNode,T&&d!==null&&(T=31-lt(y),s=M.hiddenUpdates,S=s[T],S===null?s[T]=[d]:S.push(d),d.lane=y|536870912),M):null}function zh(s){if(50<xn)throw xn=0,jr=null,Error(r(185));for(var d=s.return;d!==null;)s=d,d=s.return;return s.tag===3?s.stateNode:null}var Uu={};function _1(s,d,y,S){this.tag=s,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(s,d,y,S){return new _1(s,d,y,S)}function Rf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Bi(s,d){var y=s.alternate;return y===null?(y=Fr(s.tag,d,s.key,s.mode),y.elementType=s.elementType,y.type=s.type,y.stateNode=s.stateNode,y.alternate=s,s.alternate=y):(y.pendingProps=d,y.type=s.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=s.flags&65011712,y.childLanes=s.childLanes,y.lanes=s.lanes,y.child=s.child,y.memoizedProps=s.memoizedProps,y.memoizedState=s.memoizedState,y.updateQueue=s.updateQueue,d=s.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=s.sibling,y.index=s.index,y.ref=s.ref,y.refCleanup=s.refCleanup,y}function Tf(s,d){s.flags&=65011714;var y=s.alternate;return y===null?(s.childLanes=0,s.lanes=d,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=y.childLanes,s.lanes=y.lanes,s.child=y.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=y.memoizedProps,s.memoizedState=y.memoizedState,s.updateQueue=y.updateQueue,s.type=y.type,d=y.dependencies,s.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),s}function Uh(s,d,y,S,T,M){var W=0;if(S=s,typeof s=="function")Rf(s)&&(W=1);else if(typeof s=="string")W=fn(s,y,U.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case $:return s=Fr(31,y,d,T),s.elementType=$,s.lanes=M,s;case E:return Ws(y.children,T,M,d);case C:W=8,T|=24;break;case w:return s=Fr(12,y,d,T|2),s.elementType=w,s.lanes=M,s;case L:return s=Fr(13,y,d,T),s.elementType=L,s.lanes=M,s;case k:return s=Fr(19,y,d,T),s.elementType=k,s.lanes=M,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:case N:W=10;break e;case I:W=9;break e;case D:W=11;break e;case j:W=14;break e;case B:W=16,S=null;break e}W=29,y=Error(r(130,s===null?"null":typeof s,"")),S=null}return d=Fr(W,y,d,T),d.elementType=s,d.type=S,d.lanes=M,d}function Ws(s,d,y,S){return s=Fr(7,s,S,d),s.lanes=y,s}function dm(s,d,y){return s=Fr(6,s,null,d),s.lanes=y,s}function hm(s,d,y){return d=Fr(4,s.children!==null?s.children:[],s.key,d),d.lanes=y,d.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},d}var Vu=[],Gu=0,Vh=null,Gh=0,Si=[],ii=0,Hs=null,So=1,Kt="";function tl(s,d){Vu[Gu++]=Gh,Vu[Gu++]=Vh,Vh=s,Gh=d}function lx(s,d,y){Si[ii++]=So,Si[ii++]=Kt,Si[ii++]=Hs,Hs=s;var S=So;s=Kt;var T=32-lt(S)-1;S&=~(1<<T),y+=1;var M=32-lt(d)+T;if(30<M){var W=T-T%5;M=(S&(1<<W)-1).toString(32),S>>=W,T-=W,So=1<<32-lt(d)+T|y<<T|S,Kt=M+s}else So=1<<M|y<<T|S,Kt=s}function pm(s){s.return!==null&&(tl(s,1),lx(s,1,0))}function $h(s){for(;s===Vh;)Vh=Vu[--Gu],Vu[Gu]=null,Gh=Vu[--Gu],Vu[Gu]=null;for(;s===Hs;)Hs=Si[--ii],Si[ii]=null,Kt=Si[--ii],Si[ii]=null,So=Si[--ii],Si[ii]=null}var Gr=null,Yn=null,cn=!1,Ys=null,eo=!1,gm=Error(r(519));function to(s){var d=Error(r(418,""));throw _f(ki(d,s)),gm}function ux(s){var d=s.stateNode,y=s.type,S=s.memoizedProps;switch(d[un]=s,d[Lt]=S,y){case"dialog":kt("cancel",d),kt("close",d);break;case"iframe":case"object":case"embed":kt("load",d);break;case"video":case"audio":for(y=0;y<Lo.length;y++)kt(Lo[y],d);break;case"source":kt("error",d);break;case"img":case"image":case"link":kt("error",d),kt("load",d);break;case"details":kt("toggle",d);break;case"input":kt("invalid",d),Hg(d,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),wh(d);break;case"select":kt("invalid",d);break;case"textarea":kt("invalid",d),gy(d,S.value,S.defaultValue,S.children),wh(d)}y=S.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||d.textContent===""+y||S.suppressHydrationWarning===!0||Kx(d.textContent,y)?(S.popover!=null&&(kt("beforetoggle",d),kt("toggle",d)),S.onScroll!=null&&kt("scroll",d),S.onScrollEnd!=null&&kt("scrollend",d),S.onClick!=null&&(d.onclick=yl),d=!0):d=!1,d||to(s)}function cx(s){for(Gr=s.return;Gr;)switch(Gr.tag){case 5:case 13:eo=!1;return;case 27:case 3:eo=!0;return;default:Gr=Gr.return}}function Nf(s){if(s!==Gr)return!1;if(!cn)return cx(s),cn=!0,!1;var d=s.tag,y;if((y=d!==3&&d!==27)&&((y=d===5)&&(y=s.type,y=!(y!=="form"&&y!=="button")||xc(s.type,s.memoizedProps)),y=!y),y&&Yn&&to(s),cx(s),d===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,d=0;s;){if(s.nodeType===8)if(y=s.data,y==="/$"){if(d===0){Yn=hi(s.nextSibling);break e}d--}else y!=="$"&&y!=="$!"&&y!=="$?"||d++;s=s.nextSibling}Yn=null}}else d===27?(d=Yn,Ss(s.type)?(s=S0,S0=null,Yn=s):Yn=d):Yn=Gr?hi(s.stateNode.nextSibling):null;return!0}function $u(){Yn=Gr=null,cn=!1}function nl(){var s=Ys;return s!==null&&(Xr===null?Xr=s:Xr.push.apply(Xr,s),Ys=null),s}function _f(s){Ys===null?Ys=[s]:Ys.push(s)}var mm=oe(null),rl=null,Qo=null;function qs(s,d,y){z(mm,d._currentValue),d._currentValue=y}function es(s){s._currentValue=mm.current,he(mm)}function vm(s,d,y){for(;s!==null;){var S=s.alternate;if((s.childLanes&d)!==d?(s.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),s===y)break;s=s.return}}function Wh(s,d,y,S){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var M=T.dependencies;if(M!==null){var W=T.child;M=M.firstContext;e:for(;M!==null;){var ee=M;M=T;for(var fe=0;fe<d.length;fe++)if(ee.context===d[fe]){M.lanes|=y,ee=M.alternate,ee!==null&&(ee.lanes|=y),vm(M.return,y,s),S||(W=null);break e}M=ee.next}}else if(T.tag===18){if(W=T.return,W===null)throw Error(r(341));W.lanes|=y,M=W.alternate,M!==null&&(M.lanes|=y),vm(W,y,s),W=null}else W=T.child;if(W!==null)W.return=T;else for(W=T;W!==null;){if(W===s){W=null;break}if(T=W.sibling,T!==null){T.return=W.return,W=T;break}W=W.return}T=W}}function If(s,d,y,S){s=null;for(var T=d,M=!1;T!==null;){if(!M){if((T.flags&524288)!==0)M=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var W=T.alternate;if(W===null)throw Error(r(387));if(W=W.memoizedProps,W!==null){var ee=T.type;ri(T.pendingProps.value,W.value)||(s!==null?s.push(ee):s=[ee])}}else if(T===Q.current){if(W=T.alternate,W===null)throw Error(r(387));W.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(Ac):s=[Ac])}T=T.return}s!==null&&Wh(d,s,y,S),d.flags|=262144}function Hh(s){for(s=s.firstContext;s!==null;){if(!ri(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ks(s){rl=s,Qo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ar(s){return ym(rl,s)}function Wu(s,d){return rl===null&&Ks(s),ym(s,d)}function ym(s,d){var y=d._currentValue;if(d={context:d,memoizedValue:y,next:null},Qo===null){if(s===null)throw Error(r(308));Qo=d,s.dependencies={lanes:0,firstContext:d},s.flags|=524288}else Qo=Qo.next=d;return y}var I1=typeof AbortController<"u"?AbortController:function(){var s=[],d=this.signal={aborted:!1,addEventListener:function(y,S){s.push(S)}};this.abort=function(){d.aborted=!0,s.forEach(function(y){return y()})}},O1=e.unstable_scheduleCallback,Hu=e.unstable_NormalPriority,or={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new I1,data:new Map,refCount:0}}function Of(s){s.refCount--,s.refCount===0&&O1(Hu,function(){s.controller.abort()})}var Yu=null,bm=0,qu=0,Ku=null;function D1(s,d){if(Yu===null){var y=Yu=[];bm=0,qu=Rp(),Ku={status:"pending",value:void 0,then:function(S){y.push(S)}}}return bm++,d.then(M1,M1),d}function M1(){if(--bm===0&&Yu!==null){Ku!==null&&(Ku.status="fulfilled");var s=Yu;Yu=null,qu=0,Ku=null;for(var d=0;d<s.length;d++)(0,s[d])()}}function P1(s,d){var y=[],S={status:"pending",value:null,reason:null,then:function(T){y.push(T)}};return s.then(function(){S.status="fulfilled",S.value=d;for(var T=0;T<y.length;T++)(0,y[T])(d)},function(T){for(S.status="rejected",S.reason=T,T=0;T<y.length;T++)(0,y[T])(void 0)}),S}var fx=ie.S;ie.S=function(s,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&D1(s,d),fx!==null&&fx(s,d)};var Xs=oe(null);function Yh(){var s=Xs.current;return s!==null?s:Pn.pooledCache}function Df(s,d){d===null?z(Xs,Xs.current):z(Xs,d.pool)}function dx(){var s=Yh();return s===null?null:{parent:or._currentValue,pool:s}}var Xu=Error(r(460)),hx=Error(r(474)),Mf=Error(r(542)),qh={then:function(){}};function Sm(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Kh(){}function px(s,d,y){switch(y=s[y],y===void 0?s.push(d):y!==d&&(d.then(Kh,Kh),d=y),d.status){case"fulfilled":return d.value;case"rejected":throw s=d.reason,Am(s),s;default:if(typeof d.status=="string")d.then(Kh,Kh);else{if(s=Pn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=d,s.status="pending",s.then(function(S){if(d.status==="pending"){var T=d;T.status="fulfilled",T.value=S}},function(S){if(d.status==="pending"){var T=d;T.status="rejected",T.reason=S}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw s=d.reason,Am(s),s}throw Zu=d,Xu}}var Zu=null;function gx(){if(Zu===null)throw Error(r(459));var s=Zu;return Zu=null,s}function Am(s){if(s===Xu||s===Mf)throw Error(r(483))}var ts=!1;function Em(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(s,d){s=s.updateQueue,d.updateQueue===s&&(d.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function oi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Zs(s,d,y){var S=s.updateQueue;if(S===null)return null;if(S=S.shared,(hn&2)!==0){var T=S.pending;return T===null?d.next=d:(d.next=T.next,T.next=d),S.pending=d,d=zh(s),ax(s,null,y),d}return Jo(s,S,d,y),zh(s)}function Ju(s,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194048)!==0)){var S=d.lanes;S&=s.pendingLanes,y|=S,d.lanes=y,ln(s,y)}}function wm(s,d){var y=s.updateQueue,S=s.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var T=null,M=null;if(y=y.firstBaseUpdate,y!==null){do{var W={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};M===null?T=M=W:M=M.next=W,y=y.next}while(y!==null);M===null?T=M=d:M=M.next=d}else T=M=d;y={baseState:S.baseState,firstBaseUpdate:T,lastBaseUpdate:M,shared:S.shared,callbacks:S.callbacks},s.updateQueue=y;return}s=y.lastBaseUpdate,s===null?y.firstBaseUpdate=d:s.next=d,y.lastBaseUpdate=d}var Ft=!1;function Pf(){if(Ft){var s=Ku;if(s!==null)throw s}}function Lf(s,d,y,S){Ft=!1;var T=s.updateQueue;ts=!1;var M=T.firstBaseUpdate,W=T.lastBaseUpdate,ee=T.shared.pending;if(ee!==null){T.shared.pending=null;var fe=ee,De=fe.next;fe.next=null,W===null?M=De:W.next=De,W=fe;var ze=s.alternate;ze!==null&&(ze=ze.updateQueue,ee=ze.lastBaseUpdate,ee!==W&&(ee===null?ze.firstBaseUpdate=De:ee.next=De,ze.lastBaseUpdate=fe))}if(M!==null){var $e=T.baseState;W=0,ze=De=fe=null,ee=M;do{var Le=ee.lane&-536870913,Fe=Le!==ee.lane;if(Fe?(en&Le)===Le:(S&Le)===Le){Le!==0&&Le===qu&&(Ft=!0),ze!==null&&(ze=ze.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Ot=s,Ct=ee;Le=d;var Ln=y;switch(Ct.tag){case 1:if(Ot=Ct.payload,typeof Ot=="function"){$e=Ot.call(Ln,$e,Le);break e}$e=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=Ct.payload,Le=typeof Ot=="function"?Ot.call(Ln,$e,Le):Ot,Le==null)break e;$e=p({},$e,Le);break e;case 2:ts=!0}}Le=ee.callback,Le!==null&&(s.flags|=64,Fe&&(s.flags|=8192),Fe=T.callbacks,Fe===null?T.callbacks=[Le]:Fe.push(Le))}else Fe={lane:Le,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ze===null?(De=ze=Fe,fe=$e):ze=ze.next=Fe,W|=Le;if(ee=ee.next,ee===null){if(ee=T.shared.pending,ee===null)break;Fe=ee,ee=Fe.next,Fe.next=null,T.lastBaseUpdate=Fe,T.shared.pending=null}}while(!0);ze===null&&(fe=$e),T.baseState=fe,T.firstBaseUpdate=De,T.lastBaseUpdate=ze,M===null&&(T.shared.lanes=0),Do|=W,s.lanes=W,s.memoizedState=$e}}function mx(s,d){if(typeof s!="function")throw Error(r(191,s));s.call(d)}function Zh(s,d){var y=s.callbacks;if(y!==null)for(s.callbacks=null,s=0;s<y.length;s++)mx(y[s],d)}var Js=oe(null),Qu=oe(0);function vx(s,d){s=vs,z(Qu,s),z(Js,d),vs=s|d.baseLanes}function Cm(){z(Qu,vs),z(Js,Js.current)}function Rm(){vs=Qu.current,he(Js),he(Qu)}var Qs=0,Vt=null,En=null,sr=null,Jh=!1,ec=!1,il=!1,ns=0,kr=0,tc=null,L1=0;function er(){throw Error(r(321))}function Tm(s,d){if(d===null)return!1;for(var y=0;y<d.length&&y<s.length;y++)if(!ri(s[y],d[y]))return!1;return!0}function Nm(s,d,y,S,T,M){return Qs=M,Vt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ie.H=s===null||s.memoizedState===null?Xe:wn,il=!1,M=y(S,T),il=!1,ec&&(M=xx(d,y,S,T)),yx(s),M}function yx(s){ie.H=Cr;var d=En!==null&&En.next!==null;if(Qs=0,sr=En=Vt=null,Jh=!1,kr=0,tc=null,d)throw Error(r(300));s===null||qn||(s=s.dependencies,s!==null&&Hh(s)&&(qn=!0))}function xx(s,d,y,S){Vt=s;var T=0;do{if(ec&&(tc=null),kr=0,ec=!1,25<=T)throw Error(r(301));if(T+=1,sr=En=null,s.updateQueue!=null){var M=s.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}ie.H=Vn,M=d(y,S)}while(ec);return M}function F1(){var s=ie.H,d=s.useState()[0];return d=typeof d.then=="function"?Ff(d):d,s=s.useState()[0],(En!==null?En.memoizedState:null)!==s&&(Vt.flags|=1024),d}function Qh(){var s=ns!==0;return ns=0,s}function _m(s,d,y){d.updateQueue=s.updateQueue,d.flags&=-2053,s.lanes&=~y}function Im(s){if(Jh){for(s=s.memoizedState;s!==null;){var d=s.queue;d!==null&&(d.pending=null),s=s.next}Jh=!1}Qs=0,sr=En=Vt=null,ec=!1,kr=ns=0,tc=null}function si(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Vt.memoizedState=sr=s:sr=sr.next=s,sr}function ar(){if(En===null){var s=Vt.alternate;s=s!==null?s.memoizedState:null}else s=En.next;var d=sr===null?Vt.memoizedState:sr.next;if(d!==null)sr=d,En=s;else{if(s===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));En=s,s={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},sr===null?Vt.memoizedState=sr=s:sr=sr.next=s}return sr}function Om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ff(s){var d=kr;return kr+=1,tc===null&&(tc=[]),s=px(tc,s,d),d=Vt,(sr===null?d.memoizedState:sr.next)===null&&(d=d.alternate,ie.H=d===null||d.memoizedState===null?Xe:wn),s}function kf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ff(s);if(s.$$typeof===N)return Ar(s)}throw Error(r(438,String(s)))}function ol(s){var d=null,y=Vt.updateQueue;if(y!==null&&(d=y.memoCache),d==null){var S=Vt.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(d={data:S.data.map(function(T){return T.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),y===null&&(y=Om(),Vt.updateQueue=y),y.memoCache=d,y=d.data[d.index],y===void 0)for(y=d.data[d.index]=Array(s),S=0;S<s;S++)y[S]=K;return d.index++,y}function rs(s,d){return typeof d=="function"?d(s):d}function ep(s){var d=ar();return Dm(d,En,s)}function Dm(s,d,y){var S=s.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=y;var T=s.baseQueue,M=S.pending;if(M!==null){if(T!==null){var W=T.next;T.next=M.next,M.next=W}d.baseQueue=T=M,S.pending=null}if(M=s.baseState,T===null)s.memoizedState=M;else{d=T.next;var ee=W=null,fe=null,De=d,ze=!1;do{var $e=De.lane&-536870913;if($e!==De.lane?(en&$e)===$e:(Qs&$e)===$e){var Le=De.revertLane;if(Le===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),$e===qu&&(ze=!0);else if((Qs&Le)===Le){De=De.next,Le===qu&&(ze=!0);continue}else $e={lane:0,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},fe===null?(ee=fe=$e,W=M):fe=fe.next=$e,Vt.lanes|=Le,Do|=Le;$e=De.action,il&&y(M,$e),M=De.hasEagerState?De.eagerState:y(M,$e)}else Le={lane:$e,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},fe===null?(ee=fe=Le,W=M):fe=fe.next=Le,Vt.lanes|=$e,Do|=$e;De=De.next}while(De!==null&&De!==d);if(fe===null?W=M:fe.next=ee,!ri(M,s.memoizedState)&&(qn=!0,ze&&(y=Ku,y!==null)))throw y;s.memoizedState=M,s.baseState=W,s.baseQueue=fe,S.lastRenderedState=M}return T===null&&(S.lanes=0),[s.memoizedState,S.dispatch]}function Mm(s){var d=ar(),y=d.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=s;var S=y.dispatch,T=y.pending,M=d.memoizedState;if(T!==null){y.pending=null;var W=T=T.next;do M=s(M,W.action),W=W.next;while(W!==T);ri(M,d.memoizedState)||(qn=!0),d.memoizedState=M,d.baseQueue===null&&(d.baseState=M),y.lastRenderedState=M}return[M,S]}function Pm(s,d,y){var S=Vt,T=ar(),M=cn;if(M){if(y===void 0)throw Error(r(407));y=y()}else y=d();var W=!ri((En||T).memoizedState,y);W&&(T.memoizedState=y,qn=!0),T=T.queue;var ee=k1.bind(null,S,T,s);if($r(2048,8,ee,[s]),T.getSnapshot!==d||W||sr!==null&&sr.memoizedState.tag&1){if(S.flags|=2048,os(9,ss(),Bf.bind(null,S,T,y,d),null),Pn===null)throw Error(r(349));M||(Qs&124)!==0||zt(S,d,y)}return y}function zt(s,d,y){s.flags|=16384,s={getSnapshot:d,value:y},d=Vt.updateQueue,d===null?(d=Om(),Vt.updateQueue=d,d.stores=[s]):(y=d.stores,y===null?d.stores=[s]:y.push(s))}function Bf(s,d,y,S){d.value=y,d.getSnapshot=S,bx(d)&&B1(s)}function k1(s,d,y){return y(function(){bx(d)&&B1(s)})}function bx(s){var d=s.getSnapshot;s=s.value;try{var y=d();return!ri(s,y)}catch{return!0}}function B1(s){var d=zu(s,2);d!==null&&Je(d,s,2)}function Lm(s){var d=si();if(typeof s=="function"){var y=s;if(s=y(),il){tt(!0);try{y()}finally{tt(!1)}}}return d.memoizedState=d.baseState=s,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:s},d}function ve(s,d,y,S){return s.baseState=y,Dm(s,En,typeof S=="function"?S:rs)}function Ee(s,d,y,S,T){if(rc(s))throw Error(r(485));if(s=d.action,s!==null){var M={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){M.listeners.push(W)}};ie.T!==null?y(!0):M.isTransition=!1,S(M),y=d.pending,y===null?(M.next=d.pending=M,no(d,M)):(M.next=y.next,d.pending=y.next=M)}}function no(s,d){var y=d.action,S=d.payload,T=s.state;if(d.isTransition){var M=ie.T,W={};ie.T=W;try{var ee=y(T,S),fe=ie.S;fe!==null&&fe(W,ee),tp(s,d,ee)}catch(De){ai(s,d,De)}finally{ie.T=M}}else try{M=y(T,S),tp(s,d,M)}catch(De){ai(s,d,De)}}function tp(s,d,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(S){ro(s,d,S)},function(S){return ai(s,d,S)}):ro(s,d,y)}function ro(s,d,y){d.status="fulfilled",d.value=y,np(d),s.state=y,d=s.pending,d!==null&&(y=d.next,y===d?s.pending=null:(y=y.next,d.next=y,no(s,y)))}function ai(s,d,y){var S=s.pending;if(s.pending=null,S!==null){S=S.next;do d.status="rejected",d.reason=y,np(d),d=d.next;while(d!==S)}s.action=null}function np(s){s=s.listeners;for(var d=0;d<s.length;d++)(0,s[d])()}function Fm(s,d){return d}function rp(s,d){if(cn){var y=Pn.formState;if(y!==null){e:{var S=Vt;if(cn){if(Yn){t:{for(var T=Yn,M=eo;T.nodeType!==8;){if(!M){T=null;break t}if(T=hi(T.nextSibling),T===null){T=null;break t}}M=T.data,T=M==="F!"||M==="F"?T:null}if(T){Yn=hi(T.nextSibling),S=T.data==="F!";break e}}to(S)}S=!1}S&&(d=y[0])}}return y=si(),y.memoizedState=y.baseState=d,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:d},y.queue=S,y=Ao.bind(null,Vt,S),S.dispatch=y,S=Lm(!1),M=op.bind(null,Vt,!1,S.queue),S=si(),T={state:d,dispatch:null,action:s,pending:null},S.queue=T,y=Ee.bind(null,Vt,T,M,y),T.dispatch=y,S.memoizedState=s,[d,y,!1]}function sl(s){var d=ar();return io(d,En,s)}function io(s,d,y){if(d=Dm(s,d,Fm)[0],s=ep(rs)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var S=Ff(d)}catch(W){throw W===Xu?Mf:W}else S=d;d=ar();var T=d.queue,M=T.dispatch;return y!==d.memoizedState&&(Vt.flags|=2048,os(9,ss(),jf.bind(null,T,y),null)),[S,M,s]}function jf(s,d){s.action=d}function is(s){var d=ar(),y=En;if(y!==null)return io(d,y,s);ar(),d=d.memoizedState,y=ar();var S=y.queue.dispatch;return y.memoizedState=s,[d,S,!1]}function os(s,d,y,S){return s={tag:s,create:y,deps:S,inst:d,next:null},d=Vt.updateQueue,d===null&&(d=Om(),Vt.updateQueue=d),y=d.lastEffect,y===null?d.lastEffect=s.next=s:(S=y.next,y.next=s,s.next=S,d.lastEffect=s),s}function ss(){return{destroy:void 0,resource:void 0}}function Er(){return ar().memoizedState}function On(s,d,y,S){var T=si();S=S===void 0?null:S,Vt.flags|=s,T.memoizedState=os(1|d,ss(),y,S)}function $r(s,d,y,S){var T=ar();S=S===void 0?null:S;var M=T.memoizedState.inst;En!==null&&S!==null&&Tm(S,En.memoizedState.deps)?T.memoizedState=os(d,M,y,S):(Vt.flags|=s,T.memoizedState=os(1|d,M,y,S))}function km(s,d){On(8390656,8,s,d)}function nc(s,d){$r(2048,8,s,d)}function Ai(s,d){return $r(4,2,s,d)}function $t(s,d){return $r(4,4,s,d)}function wr(s,d){if(typeof d=="function"){s=s();var y=d(s);return function(){typeof y=="function"?y():d(null)}}if(d!=null)return s=s(),d.current=s,function(){d.current=null}}function Bm(s,d,y){y=y!=null?y.concat([s]):null,$r(4,4,wr.bind(null,d,s),y)}function ip(){}function jm(s,d){var y=ar();d=d===void 0?null:d;var S=y.memoizedState;return d!==null&&Tm(d,S[1])?S[0]:(y.memoizedState=[s,d],s)}function ea(s,d){var y=ar();d=d===void 0?null:d;var S=y.memoizedState;if(d!==null&&Tm(d,S[1]))return S[0];if(S=s(),il){tt(!0);try{s()}finally{tt(!1)}}return y.memoizedState=[S,d],S}function li(s,d,y){return y===void 0||(Qs&1073741824)!==0?s.memoizedState=d:(s.memoizedState=y,s=zx(),Vt.lanes|=s,Do|=s,y)}function Qt(s,d,y,S){return ri(y,d)?y:Js.current!==null?(s=li(s,y,S),ri(s,d)||(qn=!0),s):(Qs&42)===0?(qn=!0,s.memoizedState=y):(s=zx(),Vt.lanes|=s,Do|=s,d)}function zf(s,d,y,S,T){var M=Ae.p;Ae.p=M!==0&&8>M?M:8;var W=ie.T,ee={};ie.T=ee,op(s,!1,d,y);try{var fe=T(),De=ie.S;if(De!==null&&De(ee,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var ze=P1(fe,S);Eo(s,d,ze,pr(s))}else Eo(s,d,S,pr(s))}catch($e){Eo(s,d,{then:function(){},status:"rejected",reason:$e},pr())}finally{Ae.p=M,ie.T=W}}function zm(){}function ui(s,d,y,S){if(s.tag!==5)throw Error(r(476));var T=Um(s).queue;zf(s,T,d,de,y===null?zm:function(){return Sx(s),y(S)})}function Um(s){var d=s.memoizedState;if(d!==null)return d;d={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:de},next:null};var y={};return d.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:y},next:null},s.memoizedState=d,s=s.alternate,s!==null&&(s.memoizedState=d),d}function Sx(s){var d=Um(s).next.queue;Eo(s,d,{},pr())}function ta(){return Ar(Ac)}function Vm(){return ar().memoizedState}function Ax(){return ar().memoizedState}function Ex(s){for(var d=s.return;d!==null;){switch(d.tag){case 24:case 3:var y=pr();s=oi(y);var S=Zs(d,s,y);S!==null&&(Je(S,d,y),Ju(S,d,y)),d={cache:xm()},s.payload=d;return}d=d.return}}function oo(s,d,y){var S=pr();y={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},rc(s)?Gm(d,y):(y=jh(s,d,y,S),y!==null&&(Je(y,s,S),$m(y,d,S)))}function Ao(s,d,y){var S=pr();Eo(s,d,y,S)}function Eo(s,d,y,S){var T={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(rc(s))Gm(d,T);else{var M=s.alternate;if(s.lanes===0&&(M===null||M.lanes===0)&&(M=d.lastRenderedReducer,M!==null))try{var W=d.lastRenderedState,ee=M(W,y);if(T.hasEagerState=!0,T.eagerState=ee,ri(ee,W))return Jo(s,d,T,0),Pn===null&&Bh(),!1}catch{}finally{}if(y=jh(s,d,T,S),y!==null)return Je(y,s,S),$m(y,d,S),!0}return!1}function op(s,d,y,S){if(S={lane:2,revertLane:Rp(),action:S,hasEagerState:!1,eagerState:null,next:null},rc(s)){if(d)throw Error(r(479))}else d=jh(s,y,S,2),d!==null&&Je(d,s,2)}function rc(s){var d=s.alternate;return s===Vt||d!==null&&d===Vt}function Gm(s,d){ec=Jh=!0;var y=s.pending;y===null?d.next=d:(d.next=y.next,y.next=d),s.pending=d}function $m(s,d,y){if((y&4194048)!==0){var S=d.lanes;S&=s.pendingLanes,y|=S,d.lanes=y,ln(s,y)}}var Cr={readContext:Ar,use:kf,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useLayoutEffect:er,useInsertionEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useSyncExternalStore:er,useId:er,useHostTransitionStatus:er,useFormState:er,useActionState:er,useOptimistic:er,useMemoCache:er,useCacheRefresh:er},Xe={readContext:Ar,use:kf,useCallback:function(s,d){return si().memoizedState=[s,d===void 0?null:d],s},useContext:Ar,useEffect:km,useImperativeHandle:function(s,d,y){y=y!=null?y.concat([s]):null,On(4194308,4,wr.bind(null,d,s),y)},useLayoutEffect:function(s,d){return On(4194308,4,s,d)},useInsertionEffect:function(s,d){On(4,2,s,d)},useMemo:function(s,d){var y=si();d=d===void 0?null:d;var S=s();if(il){tt(!0);try{s()}finally{tt(!1)}}return y.memoizedState=[S,d],S},useReducer:function(s,d,y){var S=si();if(y!==void 0){var T=y(d);if(il){tt(!0);try{y(d)}finally{tt(!1)}}}else T=d;return S.memoizedState=S.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},S.queue=s,s=s.dispatch=oo.bind(null,Vt,s),[S.memoizedState,s]},useRef:function(s){var d=si();return s={current:s},d.memoizedState=s},useState:function(s){s=Lm(s);var d=s.queue,y=Ao.bind(null,Vt,d);return d.dispatch=y,[s.memoizedState,y]},useDebugValue:ip,useDeferredValue:function(s,d){var y=si();return li(y,s,d)},useTransition:function(){var s=Lm(!1);return s=zf.bind(null,Vt,s.queue,!0,!1),si().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,d,y){var S=Vt,T=si();if(cn){if(y===void 0)throw Error(r(407));y=y()}else{if(y=d(),Pn===null)throw Error(r(349));(en&124)!==0||zt(S,d,y)}T.memoizedState=y;var M={value:y,getSnapshot:d};return T.queue=M,km(k1.bind(null,S,M,s),[s]),S.flags|=2048,os(9,ss(),Bf.bind(null,S,M,y,d),null),y},useId:function(){var s=si(),d=Pn.identifierPrefix;if(cn){var y=Kt,S=So;y=(S&~(1<<32-lt(S)-1)).toString(32)+y,d=""+d+"R"+y,y=ns++,0<y&&(d+="H"+y.toString(32)),d+=""}else y=L1++,d=""+d+"r"+y.toString(32)+"";return s.memoizedState=d},useHostTransitionStatus:ta,useFormState:rp,useActionState:rp,useOptimistic:function(s){var d=si();d.memoizedState=d.baseState=s;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=y,d=op.bind(null,Vt,!0,y),y.dispatch=d,[s,d]},useMemoCache:ol,useCacheRefresh:function(){return si().memoizedState=Ex.bind(null,Vt)}},wn={readContext:Ar,use:kf,useCallback:jm,useContext:Ar,useEffect:nc,useImperativeHandle:Bm,useInsertionEffect:Ai,useLayoutEffect:$t,useMemo:ea,useReducer:ep,useRef:Er,useState:function(){return ep(rs)},useDebugValue:ip,useDeferredValue:function(s,d){var y=ar();return Qt(y,En.memoizedState,s,d)},useTransition:function(){var s=ep(rs)[0],d=ar().memoizedState;return[typeof s=="boolean"?s:Ff(s),d]},useSyncExternalStore:Pm,useId:Vm,useHostTransitionStatus:ta,useFormState:sl,useActionState:sl,useOptimistic:function(s,d){var y=ar();return ve(y,En,s,d)},useMemoCache:ol,useCacheRefresh:Ax},Vn={readContext:Ar,use:kf,useCallback:jm,useContext:Ar,useEffect:nc,useImperativeHandle:Bm,useInsertionEffect:Ai,useLayoutEffect:$t,useMemo:ea,useReducer:Mm,useRef:Er,useState:function(){return Mm(rs)},useDebugValue:ip,useDeferredValue:function(s,d){var y=ar();return En===null?li(y,s,d):Qt(y,En.memoizedState,s,d)},useTransition:function(){var s=Mm(rs)[0],d=ar().memoizedState;return[typeof s=="boolean"?s:Ff(s),d]},useSyncExternalStore:Pm,useId:Vm,useHostTransitionStatus:ta,useFormState:is,useActionState:is,useOptimistic:function(s,d){var y=ar();return En!==null?ve(y,En,s,d):(y.baseState=s,[s,y.queue.dispatch])},useMemoCache:ol,useCacheRefresh:Ax},as=null,ls=0;function cr(s){var d=ls;return ls+=1,as===null&&(as=[]),px(as,s,d)}function ji(s,d){d=d.props.ref,s.ref=d!==void 0?d:null}function Ei(s,d){throw d.$$typeof===m?Error(r(525)):(s=Object.prototype.toString.call(d),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":s)))}function na(s){var d=s._init;return d(s._payload)}function zi(s){function d(Ce,be){if(s){var _e=Ce.deletions;_e===null?(Ce.deletions=[be],Ce.flags|=16):_e.push(be)}}function y(Ce,be){if(!s)return null;for(;be!==null;)d(Ce,be),be=be.sibling;return null}function S(Ce){for(var be=new Map;Ce!==null;)Ce.key!==null?be.set(Ce.key,Ce):be.set(Ce.index,Ce),Ce=Ce.sibling;return be}function T(Ce,be){return Ce=Bi(Ce,be),Ce.index=0,Ce.sibling=null,Ce}function M(Ce,be,_e){return Ce.index=_e,s?(_e=Ce.alternate,_e!==null?(_e=_e.index,_e<be?(Ce.flags|=67108866,be):_e):(Ce.flags|=67108866,be)):(Ce.flags|=1048576,be)}function W(Ce){return s&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function ee(Ce,be,_e,Ge){return be===null||be.tag!==6?(be=dm(_e,Ce.mode,Ge),be.return=Ce,be):(be=T(be,_e),be.return=Ce,be)}function fe(Ce,be,_e,Ge){var ut=_e.type;return ut===E?ze(Ce,be,_e.props.children,Ge,_e.key):be!==null&&(be.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===B&&na(ut)===be.type)?(be=T(be,_e.props),ji(be,_e),be.return=Ce,be):(be=Uh(_e.type,_e.key,_e.props,null,Ce.mode,Ge),ji(be,_e),be.return=Ce,be)}function De(Ce,be,_e,Ge){return be===null||be.tag!==4||be.stateNode.containerInfo!==_e.containerInfo||be.stateNode.implementation!==_e.implementation?(be=hm(_e,Ce.mode,Ge),be.return=Ce,be):(be=T(be,_e.children||[]),be.return=Ce,be)}function ze(Ce,be,_e,Ge,ut){return be===null||be.tag!==7?(be=Ws(_e,Ce.mode,Ge,ut),be.return=Ce,be):(be=T(be,_e),be.return=Ce,be)}function $e(Ce,be,_e){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=dm(""+be,Ce.mode,_e),be.return=Ce,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case x:return _e=Uh(be.type,be.key,be.props,null,Ce.mode,_e),ji(_e,be),_e.return=Ce,_e;case b:return be=hm(be,Ce.mode,_e),be.return=Ce,be;case B:var Ge=be._init;return be=Ge(be._payload),$e(Ce,be,_e)}if(Oe(be)||re(be))return be=Ws(be,Ce.mode,_e,null),be.return=Ce,be;if(typeof be.then=="function")return $e(Ce,cr(be),_e);if(be.$$typeof===N)return $e(Ce,Wu(Ce,be),_e);Ei(Ce,be)}return null}function Le(Ce,be,_e,Ge){var ut=be!==null?be.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ut!==null?null:ee(Ce,be,""+_e,Ge);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case x:return _e.key===ut?fe(Ce,be,_e,Ge):null;case b:return _e.key===ut?De(Ce,be,_e,Ge):null;case B:return ut=_e._init,_e=ut(_e._payload),Le(Ce,be,_e,Ge)}if(Oe(_e)||re(_e))return ut!==null?null:ze(Ce,be,_e,Ge,null);if(typeof _e.then=="function")return Le(Ce,be,cr(_e),Ge);if(_e.$$typeof===N)return Le(Ce,be,Wu(Ce,_e),Ge);Ei(Ce,_e)}return null}function Fe(Ce,be,_e,Ge,ut){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ce=Ce.get(_e)||null,ee(be,Ce,""+Ge,ut);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case x:return Ce=Ce.get(Ge.key===null?_e:Ge.key)||null,fe(be,Ce,Ge,ut);case b:return Ce=Ce.get(Ge.key===null?_e:Ge.key)||null,De(be,Ce,Ge,ut);case B:var Zt=Ge._init;return Ge=Zt(Ge._payload),Fe(Ce,be,_e,Ge,ut)}if(Oe(Ge)||re(Ge))return Ce=Ce.get(_e)||null,ze(be,Ce,Ge,ut,null);if(typeof Ge.then=="function")return Fe(Ce,be,_e,cr(Ge),ut);if(Ge.$$typeof===N)return Fe(Ce,be,_e,Wu(be,Ge),ut);Ei(be,Ge)}return null}function Ot(Ce,be,_e,Ge){for(var ut=null,Zt=null,bt=be,Tt=be=0,zr=null;bt!==null&&Tt<_e.length;Tt++){bt.index>Tt?(zr=bt,bt=null):zr=bt.sibling;var pn=Le(Ce,bt,_e[Tt],Ge);if(pn===null){bt===null&&(bt=zr);break}s&&bt&&pn.alternate===null&&d(Ce,bt),be=M(pn,be,Tt),Zt===null?ut=pn:Zt.sibling=pn,Zt=pn,bt=zr}if(Tt===_e.length)return y(Ce,bt),cn&&tl(Ce,Tt),ut;if(bt===null){for(;Tt<_e.length;Tt++)bt=$e(Ce,_e[Tt],Ge),bt!==null&&(be=M(bt,be,Tt),Zt===null?ut=bt:Zt.sibling=bt,Zt=bt);return cn&&tl(Ce,Tt),ut}for(bt=S(bt);Tt<_e.length;Tt++)zr=Fe(bt,Ce,Tt,_e[Tt],Ge),zr!==null&&(s&&zr.alternate!==null&&bt.delete(zr.key===null?Tt:zr.key),be=M(zr,be,Tt),Zt===null?ut=zr:Zt.sibling=zr,Zt=zr);return s&&bt.forEach(function(Tc){return d(Ce,Tc)}),cn&&tl(Ce,Tt),ut}function Ct(Ce,be,_e,Ge){if(_e==null)throw Error(r(151));for(var ut=null,Zt=null,bt=be,Tt=be=0,zr=null,pn=_e.next();bt!==null&&!pn.done;Tt++,pn=_e.next()){bt.index>Tt?(zr=bt,bt=null):zr=bt.sibling;var Tc=Le(Ce,bt,pn.value,Ge);if(Tc===null){bt===null&&(bt=zr);break}s&&bt&&Tc.alternate===null&&d(Ce,bt),be=M(Tc,be,Tt),Zt===null?ut=Tc:Zt.sibling=Tc,Zt=Tc,bt=zr}if(pn.done)return y(Ce,bt),cn&&tl(Ce,Tt),ut;if(bt===null){for(;!pn.done;Tt++,pn=_e.next())pn=$e(Ce,pn.value,Ge),pn!==null&&(be=M(pn,be,Tt),Zt===null?ut=pn:Zt.sibling=pn,Zt=pn);return cn&&tl(Ce,Tt),ut}for(bt=S(bt);!pn.done;Tt++,pn=_e.next())pn=Fe(bt,Ce,Tt,pn.value,Ge),pn!==null&&(s&&pn.alternate!==null&&bt.delete(pn.key===null?Tt:pn.key),be=M(pn,be,Tt),Zt===null?ut=pn:Zt.sibling=pn,Zt=pn);return s&&bt.forEach(function(FB){return d(Ce,FB)}),cn&&tl(Ce,Tt),ut}function Ln(Ce,be,_e,Ge){if(typeof _e=="object"&&_e!==null&&_e.type===E&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case x:e:{for(var ut=_e.key;be!==null;){if(be.key===ut){if(ut=_e.type,ut===E){if(be.tag===7){y(Ce,be.sibling),Ge=T(be,_e.props.children),Ge.return=Ce,Ce=Ge;break e}}else if(be.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===B&&na(ut)===be.type){y(Ce,be.sibling),Ge=T(be,_e.props),ji(Ge,_e),Ge.return=Ce,Ce=Ge;break e}y(Ce,be);break}else d(Ce,be);be=be.sibling}_e.type===E?(Ge=Ws(_e.props.children,Ce.mode,Ge,_e.key),Ge.return=Ce,Ce=Ge):(Ge=Uh(_e.type,_e.key,_e.props,null,Ce.mode,Ge),ji(Ge,_e),Ge.return=Ce,Ce=Ge)}return W(Ce);case b:e:{for(ut=_e.key;be!==null;){if(be.key===ut)if(be.tag===4&&be.stateNode.containerInfo===_e.containerInfo&&be.stateNode.implementation===_e.implementation){y(Ce,be.sibling),Ge=T(be,_e.children||[]),Ge.return=Ce,Ce=Ge;break e}else{y(Ce,be);break}else d(Ce,be);be=be.sibling}Ge=hm(_e,Ce.mode,Ge),Ge.return=Ce,Ce=Ge}return W(Ce);case B:return ut=_e._init,_e=ut(_e._payload),Ln(Ce,be,_e,Ge)}if(Oe(_e))return Ot(Ce,be,_e,Ge);if(re(_e)){if(ut=re(_e),typeof ut!="function")throw Error(r(150));return _e=ut.call(_e),Ct(Ce,be,_e,Ge)}if(typeof _e.then=="function")return Ln(Ce,be,cr(_e),Ge);if(_e.$$typeof===N)return Ln(Ce,be,Wu(Ce,_e),Ge);Ei(Ce,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,be!==null&&be.tag===6?(y(Ce,be.sibling),Ge=T(be,_e),Ge.return=Ce,Ce=Ge):(y(Ce,be),Ge=dm(_e,Ce.mode,Ge),Ge.return=Ce,Ce=Ge),W(Ce)):y(Ce,be)}return function(Ce,be,_e,Ge){try{ls=0;var ut=Ln(Ce,be,_e,Ge);return as=null,ut}catch(bt){if(bt===Xu||bt===Mf)throw bt;var Zt=Fr(29,bt,null,Ce.mode);return Zt.lanes=Ge,Zt.return=Ce,Zt}finally{}}}var ic=zi(!0),wx=zi(!1),Ui=oe(null),so=null;function ra(s){var d=s.alternate;z(Cn,Cn.current&1),z(Ui,s),so===null&&(d===null||Js.current!==null||d.memoizedState!==null)&&(so=s)}function Wm(s){if(s.tag===22){if(z(Cn,Cn.current),z(Ui,s),so===null){var d=s.alternate;d!==null&&d.memoizedState!==null&&(so=s)}}else Bn()}function Bn(){z(Cn,Cn.current),z(Ui,Ui.current)}function Wr(s){he(Ui),so===s&&(so=null),he(Cn)}var Cn=oe(0);function sp(s){for(var d=s;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||Lp(y)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break;for(;d.sibling===null;){if(d.return===null||d.return===s)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function fr(s,d,y,S){d=s.memoizedState,y=y(S,d),y=y==null?d:p({},d,y),s.memoizedState=y,s.lanes===0&&(s.updateQueue.baseState=y)}var wo={enqueueSetState:function(s,d,y){s=s._reactInternals;var S=pr(),T=oi(S);T.payload=d,y!=null&&(T.callback=y),d=Zs(s,T,S),d!==null&&(Je(d,s,S),Ju(d,s,S))},enqueueReplaceState:function(s,d,y){s=s._reactInternals;var S=pr(),T=oi(S);T.tag=1,T.payload=d,y!=null&&(T.callback=y),d=Zs(s,T,S),d!==null&&(Je(d,s,S),Ju(d,s,S))},enqueueForceUpdate:function(s,d){s=s._reactInternals;var y=pr(),S=oi(y);S.tag=2,d!=null&&(S.callback=d),d=Zs(s,S,y),d!==null&&(Je(d,s,y),Ju(d,s,y))}};function al(s,d,y,S,T,M,W){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(S,M,W):d.prototype&&d.prototype.isPureReactComponent?!Ef(y,S)||!Ef(T,M):!0}function us(s,d,y,S){s=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,S),d.state!==s&&wo.enqueueReplaceState(d,d.state,null)}function Hr(s,d){var y=d;if("ref"in d){y={};for(var S in d)S!=="ref"&&(y[S]=d[S])}if(s=s.defaultProps){y===d&&(y=p({},y));for(var T in s)y[T]===void 0&&(y[T]=s[T])}return y}var ci=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Hm(s){ci(s)}function ll(s){console.error(s)}function Co(s){ci(s)}function ia(s,d){try{var y=s.onUncaughtError;y(d.value,{componentStack:d.stack})}catch(S){setTimeout(function(){throw S})}}function Yr(s,d,y){try{var S=s.onCaughtError;S(y.value,{componentStack:y.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Ro(s,d,y){return y=oi(y),y.tag=3,y.payload={element:null},y.callback=function(){ia(s,d)},y}function oc(s){return s=oi(s),s.tag=3,s}function Cx(s,d,y,S){var T=y.type.getDerivedStateFromError;if(typeof T=="function"){var M=S.value;s.payload=function(){return T(M)},s.callback=function(){Yr(d,y,S)}}var W=y.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(s.callback=function(){Yr(d,y,S),typeof T!="function"&&(co===null?co=new Set([this]):co.add(this));var ee=S.stack;this.componentDidCatch(S.value,{componentStack:ee!==null?ee:""})})}function j1(s,d,y,S,T){if(y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(d=y.alternate,d!==null&&If(d,y,T,!0),y=Ui.current,y!==null){switch(y.tag){case 13:return so===null?on():y.alternate===null&&Gn===0&&(Gn=3),y.flags&=-257,y.flags|=65536,y.lanes=T,S===qh?y.flags|=16384:(d=y.updateQueue,d===null?y.updateQueue=new Set([S]):d.add(S),h0(s,S,T)),!1;case 22:return y.flags|=65536,S===qh?y.flags|=16384:(d=y.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([S])},y.updateQueue=d):(y=d.retryQueue,y===null?d.retryQueue=new Set([S]):y.add(S)),h0(s,S,T)),!1}throw Error(r(435,y.tag))}return h0(s,S,T),on(),!1}if(cn)return d=Ui.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=T,S!==gm&&(s=Error(r(422),{cause:S}),_f(ki(s,y)))):(S!==gm&&(d=Error(r(423),{cause:S}),_f(ki(d,y))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,S=ki(S,y),T=Ro(s.stateNode,S,T),wm(s,T),Gn!==4&&(Gn=2)),!1;var M=Error(r(520),{cause:S});if(M=ki(M,y),hc===null?hc=[M]:hc.push(M),Gn!==4&&(Gn=2),d===null)return!0;S=ki(S,y),y=d;do{switch(y.tag){case 3:return y.flags|=65536,s=T&-T,y.lanes|=s,s=Ro(y.stateNode,S,s),wm(y,s),!1;case 1:if(d=y.type,M=y.stateNode,(y.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(co===null||!co.has(M))))return y.flags|=65536,T&=-T,y.lanes|=T,T=oc(T),Cx(T,s,y,S),wm(y,T),!1}y=y.return}while(y!==null);return!1}var ao=Error(r(461)),qn=!1;function Rr(s,d,y,S){d.child=s===null?wx(d,null,y,S):ic(d,s.child,y,S)}function Rx(s,d,y,S,T){y=y.render;var M=d.ref;if("ref"in S){var W={};for(var ee in S)ee!=="ref"&&(W[ee]=S[ee])}else W=S;return Ks(d),S=Nm(s,d,y,W,M,T),ee=Qh(),s!==null&&!qn?(_m(s,d,T),cs(s,d,T)):(cn&&ee&&pm(d),d.flags|=1,Rr(s,d,S,T),d.child)}function Kn(s,d,y,S,T){if(s===null){var M=y.type;return typeof M=="function"&&!Rf(M)&&M.defaultProps===void 0&&y.compare===null?(d.tag=15,d.type=M,Ym(s,d,M,S,T)):(s=Uh(y.type,null,S,d,d.mode,T),s.ref=d.ref,s.return=d,d.child=s)}if(M=s.child,!oa(s,T)){var W=M.memoizedProps;if(y=y.compare,y=y!==null?y:Ef,y(W,S)&&s.ref===d.ref)return cs(s,d,T)}return d.flags|=1,s=Bi(M,S),s.ref=d.ref,s.return=d,d.child=s}function Ym(s,d,y,S,T){if(s!==null){var M=s.memoizedProps;if(Ef(M,S)&&s.ref===d.ref)if(qn=!1,d.pendingProps=S=M,oa(s,T))(s.flags&131072)!==0&&(qn=!0);else return d.lanes=s.lanes,cs(s,d,T)}return ap(s,d,y,S,T)}function qm(s,d,y){var S=d.pendingProps,T=S.children,M=s!==null?s.memoizedState:null;if(S.mode==="hidden"){if((d.flags&128)!==0){if(S=M!==null?M.baseLanes|y:y,s!==null){for(T=d.child=s.child,M=0;T!==null;)M=M|T.lanes|T.childLanes,T=T.sibling;d.childLanes=M&~S}else d.childLanes=0,d.child=null;return Uf(s,d,S,y)}if((y&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},s!==null&&Df(d,M!==null?M.cachePool:null),M!==null?vx(d,M):Cm(),Wm(d);else return d.lanes=d.childLanes=536870912,Uf(s,d,M!==null?M.baseLanes|y:y,y)}else M!==null?(Df(d,M.cachePool),vx(d,M),Bn(),d.memoizedState=null):(s!==null&&Df(d,null),Cm(),Bn());return Rr(s,d,T,y),d.child}function Uf(s,d,y,S){var T=Yh();return T=T===null?null:{parent:or._currentValue,pool:T},d.memoizedState={baseLanes:y,cachePool:T},s!==null&&Df(d,null),Cm(),Wm(d),s!==null&&If(s,d,S,!0),null}function sc(s,d){var y=d.ref;if(y===null)s!==null&&s.ref!==null&&(d.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(s===null||s.ref!==y)&&(d.flags|=4194816)}}function ap(s,d,y,S,T){return Ks(d),y=Nm(s,d,y,S,void 0,T),S=Qh(),s!==null&&!qn?(_m(s,d,T),cs(s,d,T)):(cn&&S&&pm(d),d.flags|=1,Rr(s,d,y,T),d.child)}function Tx(s,d,y,S,T,M){return Ks(d),d.updateQueue=null,y=xx(d,S,y,T),yx(s),S=Qh(),s!==null&&!qn?(_m(s,d,M),cs(s,d,M)):(cn&&S&&pm(d),d.flags|=1,Rr(s,d,y,M),d.child)}function Nx(s,d,y,S,T){if(Ks(d),d.stateNode===null){var M=Uu,W=y.contextType;typeof W=="object"&&W!==null&&(M=Ar(W)),M=new y(S,M),d.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=wo,d.stateNode=M,M._reactInternals=d,M=d.stateNode,M.props=S,M.state=d.memoizedState,M.refs={},Em(d),W=y.contextType,M.context=typeof W=="object"&&W!==null?Ar(W):Uu,M.state=d.memoizedState,W=y.getDerivedStateFromProps,typeof W=="function"&&(fr(d,y,W,S),M.state=d.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(W=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),W!==M.state&&wo.enqueueReplaceState(M,M.state,null),Lf(d,S,M,T),Pf(),M.state=d.memoizedState),typeof M.componentDidMount=="function"&&(d.flags|=4194308),S=!0}else if(s===null){M=d.stateNode;var ee=d.memoizedProps,fe=Hr(y,ee);M.props=fe;var De=M.context,ze=y.contextType;W=Uu,typeof ze=="object"&&ze!==null&&(W=Ar(ze));var $e=y.getDerivedStateFromProps;ze=typeof $e=="function"||typeof M.getSnapshotBeforeUpdate=="function",ee=d.pendingProps!==ee,ze||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ee||De!==W)&&us(d,M,S,W),ts=!1;var Le=d.memoizedState;M.state=Le,Lf(d,S,M,T),Pf(),De=d.memoizedState,ee||Le!==De||ts?(typeof $e=="function"&&(fr(d,y,$e,S),De=d.memoizedState),(fe=ts||al(d,y,fe,S,Le,De,W))?(ze||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(d.flags|=4194308)):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=De),M.props=S,M.state=De,M.context=W,S=fe):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{M=d.stateNode,Xh(s,d),W=d.memoizedProps,ze=Hr(y,W),M.props=ze,$e=d.pendingProps,Le=M.context,De=y.contextType,fe=Uu,typeof De=="object"&&De!==null&&(fe=Ar(De)),ee=y.getDerivedStateFromProps,(De=typeof ee=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W!==$e||Le!==fe)&&us(d,M,S,fe),ts=!1,Le=d.memoizedState,M.state=Le,Lf(d,S,M,T),Pf();var Fe=d.memoizedState;W!==$e||Le!==Fe||ts||s!==null&&s.dependencies!==null&&Hh(s.dependencies)?(typeof ee=="function"&&(fr(d,y,ee,S),Fe=d.memoizedState),(ze=ts||al(d,y,ze,S,Le,Fe,fe)||s!==null&&s.dependencies!==null&&Hh(s.dependencies))?(De||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(S,Fe,fe),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(S,Fe,fe)),typeof M.componentDidUpdate=="function"&&(d.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof M.componentDidUpdate!="function"||W===s.memoizedProps&&Le===s.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&Le===s.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=Fe),M.props=S,M.state=Fe,M.context=fe,S=ze):(typeof M.componentDidUpdate!="function"||W===s.memoizedProps&&Le===s.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&Le===s.memoizedState||(d.flags|=1024),S=!1)}return M=S,sc(s,d),S=(d.flags&128)!==0,M||S?(M=d.stateNode,y=S&&typeof y.getDerivedStateFromError!="function"?null:M.render(),d.flags|=1,s!==null&&S?(d.child=ic(d,s.child,null,T),d.child=ic(d,null,y,T)):Rr(s,d,y,T),d.memoizedState=M.state,s=d.child):s=cs(s,d,T),s}function Vi(s,d,y,S){return $u(),d.flags|=256,Rr(s,d,y,S),d.child}var dr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qr(s){return{baseLanes:s,cachePool:dx()}}function Vf(s,d,y){return s=s!==null?s.childLanes&~y:0,d&&(s|=$i),s}function lp(s,d,y){var S=d.pendingProps,T=!1,M=(d.flags&128)!==0,W;if((W=M)||(W=s!==null&&s.memoizedState===null?!1:(Cn.current&2)!==0),W&&(T=!0,d.flags&=-129),W=(d.flags&32)!==0,d.flags&=-33,s===null){if(cn){if(T?ra(d):Bn(),cn){var ee=Yn,fe;if(fe=ee){e:{for(fe=ee,ee=eo;fe.nodeType!==8;){if(!ee){ee=null;break e}if(fe=hi(fe.nextSibling),fe===null){ee=null;break e}}ee=fe}ee!==null?(d.memoizedState={dehydrated:ee,treeContext:Hs!==null?{id:So,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},fe=Fr(18,null,null,0),fe.stateNode=ee,fe.return=d,d.child=fe,Gr=d,Yn=null,fe=!0):fe=!1}fe||to(d)}if(ee=d.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))return Lp(ee)?d.lanes=32:d.lanes=536870912,null;Wr(d)}return ee=S.children,S=S.fallback,T?(Bn(),T=d.mode,ee=Br({mode:"hidden",children:ee},T),S=Ws(S,T,y,null),ee.return=d,S.return=d,ee.sibling=S,d.child=ee,T=d.child,T.memoizedState=qr(y),T.childLanes=Vf(s,W,y),d.memoizedState=dr,S):(ra(d),up(d,ee))}if(fe=s.memoizedState,fe!==null&&(ee=fe.dehydrated,ee!==null)){if(M)d.flags&256?(ra(d),d.flags&=-257,d=ul(s,d,y)):d.memoizedState!==null?(Bn(),d.child=s.child,d.flags|=128,d=null):(Bn(),T=S.fallback,ee=d.mode,S=Br({mode:"visible",children:S.children},ee),T=Ws(T,ee,y,null),T.flags|=2,S.return=d,T.return=d,S.sibling=T,d.child=S,ic(d,s.child,null,y),S=d.child,S.memoizedState=qr(y),S.childLanes=Vf(s,W,y),d.memoizedState=dr,d=T);else if(ra(d),Lp(ee)){if(W=ee.nextSibling&&ee.nextSibling.dataset,W)var De=W.dgst;W=De,S=Error(r(419)),S.stack="",S.digest=W,_f({value:S,source:null,stack:null}),d=ul(s,d,y)}else if(qn||If(s,d,y,!1),W=(y&s.childLanes)!==0,qn||W){if(W=Pn,W!==null&&(S=y&-y,S=(S&42)!==0?1:Jt(S),S=(S&(W.suspendedLanes|y))!==0?0:S,S!==0&&S!==fe.retryLane))throw fe.retryLane=S,zu(s,S),Je(W,s,S),ao;ee.data==="$?"||on(),d=ul(s,d,y)}else ee.data==="$?"?(d.flags|=192,d.child=s.child,d=null):(s=fe.treeContext,Yn=hi(ee.nextSibling),Gr=d,cn=!0,Ys=null,eo=!1,s!==null&&(Si[ii++]=So,Si[ii++]=Kt,Si[ii++]=Hs,So=s.id,Kt=s.overflow,Hs=d),d=up(d,S.children),d.flags|=4096);return d}return T?(Bn(),T=S.fallback,ee=d.mode,fe=s.child,De=fe.sibling,S=Bi(fe,{mode:"hidden",children:S.children}),S.subtreeFlags=fe.subtreeFlags&65011712,De!==null?T=Bi(De,T):(T=Ws(T,ee,y,null),T.flags|=2),T.return=d,S.return=d,S.sibling=T,d.child=S,S=T,T=d.child,ee=s.child.memoizedState,ee===null?ee=qr(y):(fe=ee.cachePool,fe!==null?(De=or._currentValue,fe=fe.parent!==De?{parent:De,pool:De}:fe):fe=dx(),ee={baseLanes:ee.baseLanes|y,cachePool:fe}),T.memoizedState=ee,T.childLanes=Vf(s,W,y),d.memoizedState=dr,S):(ra(d),y=s.child,s=y.sibling,y=Bi(y,{mode:"visible",children:S.children}),y.return=d,y.sibling=null,s!==null&&(W=d.deletions,W===null?(d.deletions=[s],d.flags|=16):W.push(s)),d.child=y,d.memoizedState=null,y)}function up(s,d){return d=Br({mode:"visible",children:d},s.mode),d.return=s,s.child=d}function Br(s,d){return s=Fr(22,s,null,d),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function ul(s,d,y){return ic(d,s.child,null,y),s=up(d,d.pendingProps.children),s.flags|=2,d.memoizedState=null,s}function cl(s,d,y){s.lanes|=d;var S=s.alternate;S!==null&&(S.lanes|=d),vm(s.return,d,y)}function cp(s,d,y,S,T){var M=s.memoizedState;M===null?s.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:T}:(M.isBackwards=d,M.rendering=null,M.renderingStartTime=0,M.last=S,M.tail=y,M.tailMode=T)}function Gi(s,d,y){var S=d.pendingProps,T=S.revealOrder,M=S.tail;if(Rr(s,d,S.children,y),S=Cn.current,(S&2)!==0)S=S&1|2,d.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=d.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&cl(s,y,d);else if(s.tag===19)cl(s,y,d);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===d)break e;for(;s.sibling===null;){if(s.return===null||s.return===d)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}S&=1}switch(z(Cn,S),T){case"forwards":for(y=d.child,T=null;y!==null;)s=y.alternate,s!==null&&sp(s)===null&&(T=y),y=y.sibling;y=T,y===null?(T=d.child,d.child=null):(T=y.sibling,y.sibling=null),cp(d,!1,T,y,M);break;case"backwards":for(y=null,T=d.child,d.child=null;T!==null;){if(s=T.alternate,s!==null&&sp(s)===null){d.child=T;break}s=T.sibling,T.sibling=y,y=T,T=s}cp(d,!0,y,null,M);break;case"together":cp(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function cs(s,d,y){if(s!==null&&(d.dependencies=s.dependencies),Do|=d.lanes,(y&d.childLanes)===0)if(s!==null){if(If(s,d,y,!1),(y&d.childLanes)===0)return null}else return null;if(s!==null&&d.child!==s.child)throw Error(r(153));if(d.child!==null){for(s=d.child,y=Bi(s,s.pendingProps),d.child=y,y.return=d;s.sibling!==null;)s=s.sibling,y=y.sibling=Bi(s,s.pendingProps),y.return=d;y.sibling=null}return d.child}function oa(s,d){return(s.lanes&d)!==0?!0:(s=s.dependencies,!!(s!==null&&Hh(s)))}function fp(s,d,y){switch(d.tag){case 3:Z(d,d.stateNode.containerInfo),qs(d,or,s.memoizedState.cache),$u();break;case 27:case 5:se(d);break;case 4:Z(d,d.stateNode.containerInfo);break;case 10:qs(d,d.type,d.memoizedProps.value);break;case 13:var S=d.memoizedState;if(S!==null)return S.dehydrated!==null?(ra(d),d.flags|=128,null):(y&d.child.childLanes)!==0?lp(s,d,y):(ra(d),s=cs(s,d,y),s!==null?s.sibling:null);ra(d);break;case 19:var T=(s.flags&128)!==0;if(S=(y&d.childLanes)!==0,S||(If(s,d,y,!1),S=(y&d.childLanes)!==0),T){if(S)return Gi(s,d,y);d.flags|=128}if(T=d.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),z(Cn,Cn.current),S)break;return null;case 22:case 23:return d.lanes=0,qm(s,d,y);case 24:qs(d,or,s.memoizedState.cache)}return cs(s,d,y)}function fl(s,d,y){if(s!==null)if(s.memoizedProps!==d.pendingProps)qn=!0;else{if(!oa(s,y)&&(d.flags&128)===0)return qn=!1,fp(s,d,y);qn=(s.flags&131072)!==0}else qn=!1,cn&&(d.flags&1048576)!==0&&lx(d,Gh,d.index);switch(d.lanes=0,d.tag){case 16:e:{s=d.pendingProps;var S=d.elementType,T=S._init;if(S=T(S._payload),d.type=S,typeof S=="function")Rf(S)?(s=Hr(S,s),d.tag=1,d=Nx(null,d,S,s,y)):(d.tag=0,d=ap(null,d,S,s,y));else{if(S!=null){if(T=S.$$typeof,T===D){d.tag=11,d=Rx(null,d,S,s,y);break e}else if(T===j){d.tag=14,d=Kn(null,d,S,s,y);break e}}throw d=Me(S)||S,Error(r(306,d,""))}}return d;case 0:return ap(s,d,d.type,d.pendingProps,y);case 1:return S=d.type,T=Hr(S,d.pendingProps),Nx(s,d,S,T,y);case 3:e:{if(Z(d,d.stateNode.containerInfo),s===null)throw Error(r(387));S=d.pendingProps;var M=d.memoizedState;T=M.element,Xh(s,d),Lf(d,S,null,y);var W=d.memoizedState;if(S=W.cache,qs(d,or,S),S!==M.cache&&Wh(d,[or],y,!0),Pf(),S=W.element,M.isDehydrated)if(M={element:S,isDehydrated:!1,cache:W.cache},d.updateQueue.baseState=M,d.memoizedState=M,d.flags&256){d=Vi(s,d,S,y);break e}else if(S!==T){T=ki(Error(r(424)),d),_f(T),d=Vi(s,d,S,y);break e}else{switch(s=d.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Yn=hi(s.firstChild),Gr=d,cn=!0,Ys=null,eo=!0,y=wx(d,null,S,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if($u(),S===T){d=cs(s,d,y);break e}Rr(s,d,S,y)}d=d.child}return d;case 26:return sc(s,d),s===null?(y=A(d.type,null,d.pendingProps,null))?d.memoizedState=y:cn||(y=d.type,s=d.pendingProps,S=Mp(H.current).createElement(y),S[un]=d,S[Lt]=s,Nr(S,y,s),ir(S),d.stateNode=S):d.memoizedState=A(d.type,s.memoizedProps,d.pendingProps,s.memoizedState),null;case 27:return se(d),s===null&&cn&&(S=d.stateNode=nb(d.type,d.pendingProps,H.current),Gr=d,eo=!0,T=Yn,Ss(d.type)?(S0=T,Yn=hi(S.firstChild)):Yn=T),Rr(s,d,d.pendingProps.children,y),sc(s,d),s===null&&(d.flags|=4194304),d.child;case 5:return s===null&&cn&&((T=S=Yn)&&(S=rA(S,d.type,d.pendingProps,eo),S!==null?(d.stateNode=S,Gr=d,Yn=hi(S.firstChild),eo=!1,T=!0):T=!1),T||to(d)),se(d),T=d.type,M=d.pendingProps,W=s!==null?s.memoizedProps:null,S=M.children,xc(T,M)?S=null:W!==null&&xc(T,W)&&(d.flags|=32),d.memoizedState!==null&&(T=Nm(s,d,F1,null,null,y),Ac._currentValue=T),sc(s,d),Rr(s,d,S,y),d.child;case 6:return s===null&&cn&&((s=y=Yn)&&(y=iA(y,d.pendingProps,eo),y!==null?(d.stateNode=y,Gr=d,Yn=null,s=!0):s=!1),s||to(d)),null;case 13:return lp(s,d,y);case 4:return Z(d,d.stateNode.containerInfo),S=d.pendingProps,s===null?d.child=ic(d,null,S,y):Rr(s,d,S,y),d.child;case 11:return Rx(s,d,d.type,d.pendingProps,y);case 7:return Rr(s,d,d.pendingProps,y),d.child;case 8:return Rr(s,d,d.pendingProps.children,y),d.child;case 12:return Rr(s,d,d.pendingProps.children,y),d.child;case 10:return S=d.pendingProps,qs(d,d.type,S.value),Rr(s,d,S.children,y),d.child;case 9:return T=d.type._context,S=d.pendingProps.children,Ks(d),T=Ar(T),S=S(T),d.flags|=1,Rr(s,d,S,y),d.child;case 14:return Kn(s,d,d.type,d.pendingProps,y);case 15:return Ym(s,d,d.type,d.pendingProps,y);case 19:return Gi(s,d,y);case 31:return S=d.pendingProps,y=d.mode,S={mode:S.mode,children:S.children},s===null?(y=Br(S,y),y.ref=d.ref,d.child=y,y.return=d,d=y):(y=Bi(s.child,S),y.ref=d.ref,d.child=y,y.return=d,d=y),d;case 22:return qm(s,d,y);case 24:return Ks(d),S=Ar(or),s===null?(T=Yh(),T===null&&(T=Pn,M=xm(),T.pooledCache=M,M.refCount++,M!==null&&(T.pooledCacheLanes|=y),T=M),d.memoizedState={parent:S,cache:T},Em(d),qs(d,or,T)):((s.lanes&y)!==0&&(Xh(s,d),Lf(d,null,null,y),Pf()),T=s.memoizedState,M=d.memoizedState,T.parent!==S?(T={parent:S,cache:S},d.memoizedState=T,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=T),qs(d,or,S)):(S=M.cache,qs(d,or,S),S!==T.cache&&Wh(d,[or],y,!0))),Rr(s,d,d.pendingProps.children,y),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function fs(s){s.flags|=4}function Km(s,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Dn(d)){if(d=Ui.current,d!==null&&((en&4194048)===en?so!==null:(en&62914560)!==en&&(en&536870912)===0||d!==so))throw Zu=qh,hx;s.flags|=8192}}function wi(s,d){d!==null&&(s.flags|=4),s.flags&16384&&(d=s.tag!==22?kn():536870912,s.lanes|=d,dc|=d)}function yr(s,d){if(!cn)switch(s.tailMode){case"hidden":d=s.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?s.tail=null:y.sibling=null;break;case"collapsed":y=s.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?d||s.tail===null?s.tail=null:s.tail.sibling=null:S.sibling=null}}function Rn(s){var d=s.alternate!==null&&s.alternate.child===s.child,y=0,S=0;if(d)for(var T=s.child;T!==null;)y|=T.lanes|T.childLanes,S|=T.subtreeFlags&65011712,S|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)y|=T.lanes|T.childLanes,S|=T.subtreeFlags,S|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=S,s.childLanes=y,d}function ds(s,d,y){var S=d.pendingProps;switch($h(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(d),null;case 1:return Rn(d),null;case 3:return y=d.stateNode,S=null,s!==null&&(S=s.memoizedState.cache),d.memoizedState.cache!==S&&(d.flags|=2048),es(or),J(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(s===null||s.child===null)&&(Nf(d)?fs(d):s===null||s.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,nl())),Rn(d),null;case 26:return y=d.memoizedState,s===null?(fs(d),y!==null?(Rn(d),Km(d,y)):(Rn(d),d.flags&=-16777217)):y?y!==s.memoizedState?(fs(d),Rn(d),Km(d,y)):(Rn(d),d.flags&=-16777217):(s.memoizedProps!==S&&fs(d),Rn(d),d.flags&=-16777217),null;case 27:ye(d),y=H.current;var T=d.type;if(s!==null&&d.stateNode!=null)s.memoizedProps!==S&&fs(d);else{if(!S){if(d.stateNode===null)throw Error(r(166));return Rn(d),null}s=U.current,Nf(d)?ux(d):(s=nb(T,S,y),d.stateNode=s,fs(d))}return Rn(d),null;case 5:if(ye(d),y=d.type,s!==null&&d.stateNode!=null)s.memoizedProps!==S&&fs(d);else{if(!S){if(d.stateNode===null)throw Error(r(166));return Rn(d),null}if(s=U.current,Nf(d))ux(d);else{switch(T=Mp(H.current),s){case 1:s=T.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:s=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":s=T.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":s=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof S.is=="string"?T.createElement("select",{is:S.is}):T.createElement("select"),S.multiple?s.multiple=!0:S.size&&(s.size=S.size);break;default:s=typeof S.is=="string"?T.createElement(y,{is:S.is}):T.createElement(y)}}s[un]=d,s[Lt]=S;e:for(T=d.child;T!==null;){if(T.tag===5||T.tag===6)s.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===d)break e;for(;T.sibling===null;){if(T.return===null||T.return===d)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}d.stateNode=s;e:switch(Nr(s,y,S),y){case"button":case"input":case"select":case"textarea":s=!!S.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&fs(d)}}return Rn(d),d.flags&=-16777217,null;case 6:if(s&&d.stateNode!=null)s.memoizedProps!==S&&fs(d);else{if(typeof S!="string"&&d.stateNode===null)throw Error(r(166));if(s=H.current,Nf(d)){if(s=d.stateNode,y=d.memoizedProps,S=null,T=Gr,T!==null)switch(T.tag){case 27:case 5:S=T.memoizedProps}s[un]=d,s=!!(s.nodeValue===y||S!==null&&S.suppressHydrationWarning===!0||Kx(s.nodeValue,y)),s||to(d)}else s=Mp(s).createTextNode(S),s[un]=d,d.stateNode=s}return Rn(d),null;case 13:if(S=d.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=Nf(d),S!==null&&S.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[un]=d}else $u(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Rn(d),T=!1}else T=nl(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return d.flags&256?(Wr(d),d):(Wr(d),null)}if(Wr(d),(d.flags&128)!==0)return d.lanes=y,d;if(y=S!==null,s=s!==null&&s.memoizedState!==null,y){S=d.child,T=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(T=S.alternate.memoizedState.cachePool.pool);var M=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(M=S.memoizedState.cachePool.pool),M!==T&&(S.flags|=2048)}return y!==s&&y&&(d.child.flags|=8192),wi(d,d.updateQueue),Rn(d),null;case 4:return J(),s===null&&Np(d.stateNode.containerInfo),Rn(d),null;case 10:return es(d.type),Rn(d),null;case 19:if(he(Cn),T=d.memoizedState,T===null)return Rn(d),null;if(S=(d.flags&128)!==0,M=T.rendering,M===null)if(S)yr(T,!1);else{if(Gn!==0||s!==null&&(s.flags&128)!==0)for(s=d.child;s!==null;){if(M=sp(s),M!==null){for(d.flags|=128,yr(T,!1),s=M.updateQueue,d.updateQueue=s,wi(d,s),d.subtreeFlags=0,s=y,y=d.child;y!==null;)Tf(y,s),y=y.sibling;return z(Cn,Cn.current&1|2),d.child}s=s.sibling}T.tail!==null&&je()>vp&&(d.flags|=128,S=!0,yr(T,!1),d.lanes=4194304)}else{if(!S)if(s=sp(M),s!==null){if(d.flags|=128,S=!0,s=s.updateQueue,d.updateQueue=s,wi(d,s),yr(T,!0),T.tail===null&&T.tailMode==="hidden"&&!M.alternate&&!cn)return Rn(d),null}else 2*je()-T.renderingStartTime>vp&&y!==536870912&&(d.flags|=128,S=!0,yr(T,!1),d.lanes=4194304);T.isBackwards?(M.sibling=d.child,d.child=M):(s=T.last,s!==null?s.sibling=M:d.child=M,T.last=M)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=je(),d.sibling=null,s=Cn.current,z(Cn,S?s&1|2:s&1),d):(Rn(d),null);case 22:case 23:return Wr(d),Rm(),S=d.memoizedState!==null,s!==null?s.memoizedState!==null!==S&&(d.flags|=8192):S&&(d.flags|=8192),S?(y&536870912)!==0&&(d.flags&128)===0&&(Rn(d),d.subtreeFlags&6&&(d.flags|=8192)):Rn(d),y=d.updateQueue,y!==null&&wi(d,y.retryQueue),y=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),S=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==y&&(d.flags|=2048),s!==null&&he(Xs),null;case 24:return y=null,s!==null&&(y=s.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),es(or),Rn(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function hs(s,d){switch($h(d),d.tag){case 1:return s=d.flags,s&65536?(d.flags=s&-65537|128,d):null;case 3:return es(or),J(),s=d.flags,(s&65536)!==0&&(s&128)===0?(d.flags=s&-65537|128,d):null;case 26:case 27:case 5:return ye(d),null;case 13:if(Wr(d),s=d.memoizedState,s!==null&&s.dehydrated!==null){if(d.alternate===null)throw Error(r(340));$u()}return s=d.flags,s&65536?(d.flags=s&-65537|128,d):null;case 19:return he(Cn),null;case 4:return J(),null;case 10:return es(d.type),null;case 22:case 23:return Wr(d),Rm(),s!==null&&he(Xs),s=d.flags,s&65536?(d.flags=s&-65537|128,d):null;case 24:return es(or),null;case 25:return null;default:return null}}function _x(s,d){switch($h(d),d.tag){case 3:es(or),J();break;case 26:case 27:case 5:ye(d);break;case 4:J();break;case 13:Wr(d);break;case 19:he(Cn);break;case 10:es(d.type);break;case 22:case 23:Wr(d),Rm(),s!==null&&he(Xs);break;case 24:es(or)}}function Gf(s,d){try{var y=d.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var T=S.next;y=T;do{if((y.tag&s)===s){S=void 0;var M=y.create,W=y.inst;S=M(),W.destroy=S}y=y.next}while(y!==T)}}catch(ee){Tn(d,d.return,ee)}}function sa(s,d,y){try{var S=d.updateQueue,T=S!==null?S.lastEffect:null;if(T!==null){var M=T.next;S=M;do{if((S.tag&s)===s){var W=S.inst,ee=W.destroy;if(ee!==void 0){W.destroy=void 0,T=d;var fe=y,De=ee;try{De()}catch(ze){Tn(T,fe,ze)}}}S=S.next}while(S!==M)}}catch(ze){Tn(d,d.return,ze)}}function dp(s){var d=s.updateQueue;if(d!==null){var y=s.stateNode;try{Zh(d,y)}catch(S){Tn(s,s.return,S)}}}function vt(s,d,y){y.props=Hr(s.type,s.memoizedProps),y.state=s.memoizedState;try{y.componentWillUnmount()}catch(S){Tn(s,d,S)}}function dl(s,d){try{var y=s.ref;if(y!==null){switch(s.tag){case 26:case 27:case 5:var S=s.stateNode;break;case 30:S=s.stateNode;break;default:S=s.stateNode}typeof y=="function"?s.refCleanup=y(S):y.current=S}}catch(T){Tn(s,d,T)}}function lo(s,d){var y=s.ref,S=s.refCleanup;if(y!==null)if(typeof S=="function")try{S()}catch(T){Tn(s,d,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(T){Tn(s,d,T)}else y.current=null}function Xm(s){var d=s.type,y=s.memoizedProps,S=s.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":y.autoFocus&&S.focus();break e;case"img":y.src?S.src=y.src:y.srcSet&&(S.srcset=y.srcSet)}}catch(T){Tn(s,s.return,T)}}function ac(s,d,y){try{var S=s.stateNode;eA(S,s.type,y,d),S[Lt]=d}catch(T){Tn(s,s.return,T)}}function Ix(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ss(s.type)||s.tag===4}function lc(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ix(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ss(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function uc(s,d,y){var S=s.tag;if(S===5||S===6)s=s.stateNode,d?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(s,d):(d=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,d.appendChild(s),y=y._reactRootContainer,y!=null||d.onclick!==null||(d.onclick=yl));else if(S!==4&&(S===27&&Ss(s.type)&&(y=s.stateNode,d=null),s=s.child,s!==null))for(uc(s,d,y),s=s.sibling;s!==null;)uc(s,d,y),s=s.sibling}function aa(s,d,y){var S=s.tag;if(S===5||S===6)s=s.stateNode,d?y.insertBefore(s,d):y.appendChild(s);else if(S!==4&&(S===27&&Ss(s.type)&&(y=s.stateNode),s=s.child,s!==null))for(aa(s,d,y),s=s.sibling;s!==null;)aa(s,d,y),s=s.sibling}function hp(s){var d=s.stateNode,y=s.memoizedProps;try{for(var S=s.type,T=d.attributes;T.length;)d.removeAttributeNode(T[0]);Nr(d,S,y),d[un]=s,d[Lt]=y}catch(M){Tn(s,s.return,M)}}var ps=!1,tr=!1,Zm=!1,Ox=typeof WeakSet=="function"?WeakSet:Set,xr=null;function z1(s,d){if(s=s.containerInfo,Op=lb,s=nx(s),am(s)){if("selectionStart"in s)var y={start:s.selectionStart,end:s.selectionEnd};else e:{y=(y=s.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var T=S.anchorOffset,M=S.focusNode;S=S.focusOffset;try{y.nodeType,M.nodeType}catch{y=null;break e}var W=0,ee=-1,fe=-1,De=0,ze=0,$e=s,Le=null;t:for(;;){for(var Fe;$e!==y||T!==0&&$e.nodeType!==3||(ee=W+T),$e!==M||S!==0&&$e.nodeType!==3||(fe=W+S),$e.nodeType===3&&(W+=$e.nodeValue.length),(Fe=$e.firstChild)!==null;)Le=$e,$e=Fe;for(;;){if($e===s)break t;if(Le===y&&++De===T&&(ee=W),Le===M&&++ze===S&&(fe=W),(Fe=$e.nextSibling)!==null)break;$e=Le,Le=$e.parentNode}$e=Fe}y=ee===-1||fe===-1?null:{start:ee,end:fe}}else y=null}y=y||{start:0,end:0}}else y=null;for(Dp={focusedElem:s,selectionRange:y},lb=!1,xr=d;xr!==null;)if(d=xr,s=d.child,(d.subtreeFlags&1024)!==0&&s!==null)s.return=d,xr=s;else for(;xr!==null;){switch(d=xr,M=d.alternate,s=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&M!==null){s=void 0,y=d,T=M.memoizedProps,M=M.memoizedState,S=y.stateNode;try{var Ot=Hr(y.type,T,y.elementType===y.type);s=S.getSnapshotBeforeUpdate(Ot,M),S.__reactInternalSnapshotBeforeUpdate=s}catch(Ct){Tn(y,y.return,Ct)}}break;case 3:if((s&1024)!==0){if(s=d.stateNode.containerInfo,y=s.nodeType,y===9)b0(s);else if(y===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":b0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=d.sibling,s!==null){s.return=d.return,xr=s;break}xr=d.return}}function Dx(s,d,y){var S=y.flags;switch(y.tag){case 0:case 11:case 15:No(s,y),S&4&&Gf(5,y);break;case 1:if(No(s,y),S&4)if(s=y.stateNode,d===null)try{s.componentDidMount()}catch(W){Tn(y,y.return,W)}else{var T=Hr(y.type,d.memoizedProps);d=d.memoizedState;try{s.componentDidUpdate(T,d,s.__reactInternalSnapshotBeforeUpdate)}catch(W){Tn(y,y.return,W)}}S&64&&dp(y),S&512&&dl(y,y.return);break;case 3:if(No(s,y),S&64&&(s=y.updateQueue,s!==null)){if(d=null,y.child!==null)switch(y.child.tag){case 27:case 5:d=y.child.stateNode;break;case 1:d=y.child.stateNode}try{Zh(s,d)}catch(W){Tn(y,y.return,W)}}break;case 27:d===null&&S&4&&hp(y);case 26:case 5:No(s,y),d===null&&S&4&&Xm(y),S&512&&dl(y,y.return);break;case 12:No(s,y);break;case 13:No(s,y),S&4&&Lx(s,y),S&64&&(s=y.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(y=Y1.bind(null,y),eb(s,y))));break;case 22:if(S=y.memoizedState!==null||ps,!S){d=d!==null&&d.memoizedState!==null||tr,T=ps;var M=tr;ps=S,(tr=d)&&!M?_o(s,y,(y.subtreeFlags&8772)!==0):No(s,y),ps=T,tr=M}break;case 30:break;default:No(s,y)}}function Mx(s){var d=s.alternate;d!==null&&(s.alternate=null,Mx(d)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(d=s.stateNode,d!==null&&jg(d)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Mn=null,fi=!1;function To(s,d,y){for(y=y.child;y!==null;)Px(s,d,y),y=y.sibling}function Px(s,d,y){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(qe,y)}catch{}switch(y.tag){case 26:tr||lo(y,d),To(s,d,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:tr||lo(y,d);var S=Mn,T=fi;Ss(y.type)&&(Mn=y.stateNode,fi=!1),To(s,d,y),Kf(y.stateNode),Mn=S,fi=T;break;case 5:tr||lo(y,d);case 6:if(S=Mn,T=fi,Mn=null,To(s,d,y),Mn=S,fi=T,Mn!==null)if(fi)try{(Mn.nodeType===9?Mn.body:Mn.nodeName==="HTML"?Mn.ownerDocument.body:Mn).removeChild(y.stateNode)}catch(M){Tn(y,d,M)}else try{Mn.removeChild(y.stateNode)}catch(M){Tn(y,d,M)}break;case 18:Mn!==null&&(fi?(s=Mn,x0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,y.stateNode),C0(s)):x0(Mn,y.stateNode));break;case 4:S=Mn,T=fi,Mn=y.stateNode.containerInfo,fi=!0,To(s,d,y),Mn=S,fi=T;break;case 0:case 11:case 14:case 15:tr||sa(2,y,d),tr||sa(4,y,d),To(s,d,y);break;case 1:tr||(lo(y,d),S=y.stateNode,typeof S.componentWillUnmount=="function"&&vt(y,d,S)),To(s,d,y);break;case 21:To(s,d,y);break;case 22:tr=(S=tr)||y.memoizedState!==null,To(s,d,y),tr=S;break;default:To(s,d,y)}}function Lx(s,d){if(d.memoizedState===null&&(s=d.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{C0(s)}catch(y){Tn(d,d.return,y)}}function U1(s){switch(s.tag){case 13:case 19:var d=s.stateNode;return d===null&&(d=s.stateNode=new Ox),d;case 22:return s=s.stateNode,d=s._retryCache,d===null&&(d=s._retryCache=new Ox),d;default:throw Error(r(435,s.tag))}}function pp(s,d){var y=U1(s);d.forEach(function(S){var T=q1.bind(null,s,S);y.has(S)||(y.add(S),S.then(T,T))})}function Kr(s,d){var y=d.deletions;if(y!==null)for(var S=0;S<y.length;S++){var T=y[S],M=s,W=d,ee=W;e:for(;ee!==null;){switch(ee.tag){case 27:if(Ss(ee.type)){Mn=ee.stateNode,fi=!1;break e}break;case 5:Mn=ee.stateNode,fi=!1;break e;case 3:case 4:Mn=ee.stateNode.containerInfo,fi=!0;break e}ee=ee.return}if(Mn===null)throw Error(r(160));Px(M,W,T),Mn=null,fi=!1,M=T.alternate,M!==null&&(M.return=null),T.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Fx(d,s),d=d.sibling}var uo=null;function Fx(s,d){var y=s.alternate,S=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Kr(d,s),Tr(s),S&4&&(sa(3,s,s.return),Gf(3,s),sa(5,s,s.return));break;case 1:Kr(d,s),Tr(s),S&512&&(tr||y===null||lo(y,y.return)),S&64&&ps&&(s=s.updateQueue,s!==null&&(S=s.callbacks,S!==null&&(y=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=y===null?S:y.concat(S))));break;case 26:var T=uo;if(Kr(d,s),Tr(s),S&512&&(tr||y===null||lo(y,y.return)),S&4){var M=y!==null?y.memoizedState:null;if(S=s.memoizedState,y===null)if(S===null)if(s.stateNode===null){e:{S=s.type,y=s.memoizedProps,T=T.ownerDocument||T;t:switch(S){case"title":M=T.getElementsByTagName("title")[0],(!M||M[Qi]||M[un]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=T.createElement(S),T.head.insertBefore(M,T.querySelector("head > title"))),Nr(M,S,y),M[un]=s,ir(M),S=M;break e;case"link":var W=ot("link","href",T).get(S+(y.href||""));if(W){for(var ee=0;ee<W.length;ee++)if(M=W[ee],M.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&M.getAttribute("rel")===(y.rel==null?null:y.rel)&&M.getAttribute("title")===(y.title==null?null:y.title)&&M.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){W.splice(ee,1);break t}}M=T.createElement(S),Nr(M,S,y),T.head.appendChild(M);break;case"meta":if(W=ot("meta","content",T).get(S+(y.content||""))){for(ee=0;ee<W.length;ee++)if(M=W[ee],M.getAttribute("content")===(y.content==null?null:""+y.content)&&M.getAttribute("name")===(y.name==null?null:y.name)&&M.getAttribute("property")===(y.property==null?null:y.property)&&M.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&M.getAttribute("charset")===(y.charSet==null?null:y.charSet)){W.splice(ee,1);break t}}M=T.createElement(S),Nr(M,S,y),T.head.appendChild(M);break;default:throw Error(r(468,S))}M[un]=s,ir(M),S=M}s.stateNode=S}else wt(T,s.type,s.stateNode);else s.stateNode=Re(T,S,s.memoizedProps);else M!==S?(M===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):M.count--,S===null?wt(T,s.type,s.stateNode):Re(T,S,s.memoizedProps)):S===null&&s.stateNode!==null&&ac(s,s.memoizedProps,y.memoizedProps)}break;case 27:Kr(d,s),Tr(s),S&512&&(tr||y===null||lo(y,y.return)),y!==null&&S&4&&ac(s,s.memoizedProps,y.memoizedProps);break;case 5:if(Kr(d,s),Tr(s),S&512&&(tr||y===null||lo(y,y.return)),s.flags&32){T=s.stateNode;try{Us(T,"")}catch(Fe){Tn(s,s.return,Fe)}}S&4&&s.stateNode!=null&&(T=s.memoizedProps,ac(s,T,y!==null?y.memoizedProps:T)),S&1024&&(Zm=!0);break;case 6:if(Kr(d,s),Tr(s),S&4){if(s.stateNode===null)throw Error(r(162));S=s.memoizedProps,y=s.stateNode;try{y.nodeValue=S}catch(Fe){Tn(s,s.return,Fe)}}break;case 3:if(We=null,T=uo,uo=bc(d.containerInfo),Kr(d,s),uo=T,Tr(s),S&4&&y!==null&&y.memoizedState.isDehydrated)try{C0(d.containerInfo)}catch(Fe){Tn(s,s.return,Fe)}Zm&&(Zm=!1,hl(s));break;case 4:S=uo,uo=bc(s.stateNode.containerInfo),Kr(d,s),Tr(s),uo=S;break;case 12:Kr(d,s),Tr(s);break;case 13:Kr(d,s),Tr(s),s.child.flags&8192&&s.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(n0=je()),S&4&&(S=s.updateQueue,S!==null&&(s.updateQueue=null,pp(s,S)));break;case 22:T=s.memoizedState!==null;var fe=y!==null&&y.memoizedState!==null,De=ps,ze=tr;if(ps=De||T,tr=ze||fe,Kr(d,s),tr=ze,ps=De,Tr(s),S&8192)e:for(d=s.stateNode,d._visibility=T?d._visibility&-2:d._visibility|1,T&&(y===null||fe||ps||tr||la(s)),y=null,d=s;;){if(d.tag===5||d.tag===26){if(y===null){fe=y=d;try{if(M=fe.stateNode,T)W=M.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{ee=fe.stateNode;var $e=fe.memoizedProps.style,Le=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;ee.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(Fe){Tn(fe,fe.return,Fe)}}}else if(d.tag===6){if(y===null){fe=d;try{fe.stateNode.nodeValue=T?"":fe.memoizedProps}catch(Fe){Tn(fe,fe.return,Fe)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===s)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;y===d&&(y=null),d=d.return}y===d&&(y=null),d.sibling.return=d.return,d=d.sibling}S&4&&(S=s.updateQueue,S!==null&&(y=S.retryQueue,y!==null&&(S.retryQueue=null,pp(s,y))));break;case 19:Kr(d,s),Tr(s),S&4&&(S=s.updateQueue,S!==null&&(s.updateQueue=null,pp(s,S)));break;case 30:break;case 21:break;default:Kr(d,s),Tr(s)}}function Tr(s){var d=s.flags;if(d&2){try{for(var y,S=s.return;S!==null;){if(Ix(S)){y=S;break}S=S.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var T=y.stateNode,M=lc(s);aa(s,M,T);break;case 5:var W=y.stateNode;y.flags&32&&(Us(W,""),y.flags&=-33);var ee=lc(s);aa(s,ee,W);break;case 3:case 4:var fe=y.stateNode.containerInfo,De=lc(s);uc(s,De,fe);break;default:throw Error(r(161))}}catch(ze){Tn(s,s.return,ze)}s.flags&=-3}d&4096&&(s.flags&=-4097)}function hl(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var d=s;hl(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),s=s.sibling}}function No(s,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Dx(s,d.alternate,d),d=d.sibling}function la(s){for(s=s.child;s!==null;){var d=s;switch(d.tag){case 0:case 11:case 14:case 15:sa(4,d,d.return),la(d);break;case 1:lo(d,d.return);var y=d.stateNode;typeof y.componentWillUnmount=="function"&&vt(d,d.return,y),la(d);break;case 27:Kf(d.stateNode);case 26:case 5:lo(d,d.return),la(d);break;case 22:d.memoizedState===null&&la(d);break;case 30:la(d);break;default:la(d)}s=s.sibling}}function _o(s,d,y){for(y=y&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var S=d.alternate,T=s,M=d,W=M.flags;switch(M.tag){case 0:case 11:case 15:_o(T,M,y),Gf(4,M);break;case 1:if(_o(T,M,y),S=M,T=S.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(De){Tn(S,S.return,De)}if(S=M,T=S.updateQueue,T!==null){var ee=S.stateNode;try{var fe=T.shared.hiddenCallbacks;if(fe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<fe.length;T++)mx(fe[T],ee)}catch(De){Tn(S,S.return,De)}}y&&W&64&&dp(M),dl(M,M.return);break;case 27:hp(M);case 26:case 5:_o(T,M,y),y&&S===null&&W&4&&Xm(M),dl(M,M.return);break;case 12:_o(T,M,y);break;case 13:_o(T,M,y),y&&W&4&&Lx(T,M);break;case 22:M.memoizedState===null&&_o(T,M,y),dl(M,M.return);break;case 30:break;default:_o(T,M,y)}d=d.sibling}}function yt(s,d){var y=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),s=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(s=d.memoizedState.cachePool.pool),s!==y&&(s!=null&&s.refCount++,y!=null&&Of(y))}function $f(s,d){s=null,d.alternate!==null&&(s=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==s&&(d.refCount++,s!=null&&Of(s))}function Io(s,d,y,S){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)kx(s,d,y,S),d=d.sibling}function kx(s,d,y,S){var T=d.flags;switch(d.tag){case 0:case 11:case 15:Io(s,d,y,S),T&2048&&Gf(9,d);break;case 1:Io(s,d,y,S);break;case 3:Io(s,d,y,S),T&2048&&(s=null,d.alternate!==null&&(s=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==s&&(d.refCount++,s!=null&&Of(s)));break;case 12:if(T&2048){Io(s,d,y,S),s=d.stateNode;try{var M=d.memoizedProps,W=M.id,ee=M.onPostCommit;typeof ee=="function"&&ee(W,d.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(fe){Tn(d,d.return,fe)}}else Io(s,d,y,S);break;case 13:Io(s,d,y,S);break;case 23:break;case 22:M=d.stateNode,W=d.alternate,d.memoizedState!==null?M._visibility&2?Io(s,d,y,S):ua(s,d):M._visibility&2?Io(s,d,y,S):(M._visibility|=2,pl(s,d,y,S,(d.subtreeFlags&10256)!==0)),T&2048&&yt(W,d);break;case 24:Io(s,d,y,S),T&2048&&$f(d.alternate,d);break;default:Io(s,d,y,S)}}function pl(s,d,y,S,T){for(T=T&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var M=s,W=d,ee=y,fe=S,De=W.flags;switch(W.tag){case 0:case 11:case 15:pl(M,W,ee,fe,T),Gf(8,W);break;case 23:break;case 22:var ze=W.stateNode;W.memoizedState!==null?ze._visibility&2?pl(M,W,ee,fe,T):ua(M,W):(ze._visibility|=2,pl(M,W,ee,fe,T)),T&&De&2048&&yt(W.alternate,W);break;case 24:pl(M,W,ee,fe,T),T&&De&2048&&$f(W.alternate,W);break;default:pl(M,W,ee,fe,T)}d=d.sibling}}function ua(s,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var y=s,S=d,T=S.flags;switch(S.tag){case 22:ua(y,S),T&2048&&yt(S.alternate,S);break;case 24:ua(y,S),T&2048&&$f(S.alternate,S);break;default:ua(y,S)}d=d.sibling}}var ca=8192;function gs(s){if(s.subtreeFlags&ca)for(s=s.child;s!==null;)Jm(s),s=s.sibling}function Jm(s){switch(s.tag){case 26:gs(s),s.flags&ca&&s.memoizedState!==null&&dn(uo,s.memoizedState,s.memoizedProps);break;case 5:gs(s);break;case 3:case 4:var d=uo;uo=bc(s.stateNode.containerInfo),gs(s),uo=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=ca,ca=16777216,gs(s),ca=d):gs(s));break;default:gs(s)}}function Bx(s){var d=s.alternate;if(d!==null&&(s=d.child,s!==null)){d.child=null;do d=s.sibling,s.sibling=null,s=d;while(s!==null)}}function Oo(s){var d=s.deletions;if((s.flags&16)!==0){if(d!==null)for(var y=0;y<d.length;y++){var S=d[y];xr=S,mp(S,s)}Bx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cc(s),s=s.sibling}function cc(s){switch(s.tag){case 0:case 11:case 15:Oo(s),s.flags&2048&&sa(9,s,s.return);break;case 3:Oo(s);break;case 12:Oo(s);break;case 22:var d=s.stateNode;s.memoizedState!==null&&d._visibility&2&&(s.return===null||s.return.tag!==13)?(d._visibility&=-3,gp(s)):Oo(s);break;default:Oo(s)}}function gp(s){var d=s.deletions;if((s.flags&16)!==0){if(d!==null)for(var y=0;y<d.length;y++){var S=d[y];xr=S,mp(S,s)}Bx(s)}for(s=s.child;s!==null;){switch(d=s,d.tag){case 0:case 11:case 15:sa(8,d,d.return),gp(d);break;case 22:y=d.stateNode,y._visibility&2&&(y._visibility&=-3,gp(d));break;default:gp(d)}s=s.sibling}}function mp(s,d){for(;xr!==null;){var y=xr;switch(y.tag){case 0:case 11:case 15:sa(8,y,d);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var S=y.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Of(y.memoizedState.cache)}if(S=y.child,S!==null)S.return=y,xr=S;else e:for(y=s;xr!==null;){S=xr;var T=S.sibling,M=S.return;if(Mx(S),S===y){xr=null;break e}if(T!==null){T.return=M,xr=T;break e}xr=M}}}var V1={getCacheForType:function(s){var d=Ar(or),y=d.data.get(s);return y===void 0&&(y=s(),d.data.set(s,y)),y}},G1=typeof WeakMap=="function"?WeakMap:Map,hn=0,Pn=null,Wt=null,en=0,yn=0,di=null,ms=!1,fc=!1,Qm=!1,vs=0,Gn=0,Do=0,gl=0,e0=0,$i=0,dc=0,hc=null,Xr=null,t0=!1,n0=0,vp=1/0,yp=null,co=null,hr=0,Mo=null,pc=null,ys=0,r0=0,i0=null,jx=null,xn=0,jr=null;function pr(){if((hn&2)!==0&&en!==0)return en&-en;if(ie.T!==null){var s=qu;return s!==0?s:Rp()}return vr()}function zx(){$i===0&&($i=(en&536870912)===0||cn?vn():536870912);var s=Ui.current;return s!==null&&(s.flags|=32),$i}function Je(s,d,y){(s===Pn&&(yn===2||yn===9)||s.cancelPendingCommit!==null)&&(Po(s,0),xs(s,en,$i,!1)),an(s,y),((hn&2)===0||s!==Pn)&&(s===Pn&&((hn&2)===0&&(gl|=y),Gn===4&&xs(s,en,$i,!1)),Ci(s))}function o0(s,d,y){if((hn&6)!==0)throw Error(r(327));var S=!y&&(d&124)===0&&(d&s.expiredLanes)===0||At(s,d),T=S?l0(s,d):Wf(s,d,!0),M=S;do{if(T===0){fc&&!S&&xs(s,d,0,!1);break}else{if(y=s.current.alternate,M&&!$1(y)){T=Wf(s,d,!1),M=!1;continue}if(T===2){if(M=d,s.errorRecoveryDisabledLanes&M)var W=0;else W=s.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){d=W;e:{var ee=s;T=hc;var fe=ee.current.memoizedState.isDehydrated;if(fe&&(Po(ee,W).flags|=256),W=Wf(ee,W,!1),W!==2){if(Qm&&!fe){ee.errorRecoveryDisabledLanes|=M,gl|=M,T=4;break e}M=Xr,Xr=T,M!==null&&(Xr===null?Xr=M:Xr.push.apply(Xr,M))}T=W}if(M=!1,T!==2)continue}}if(T===1){Po(s,0),xs(s,d,0,!0);break}e:{switch(S=s,M=T,M){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:xs(S,d,$i,!ms);break e;case 2:Xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(T=n0+300-je(),10<T)){if(xs(S,d,$i,!ms),mt(S,0,!0)!==0)break e;S.timeoutHandle=Zx(xp.bind(null,S,y,Xr,yp,t0,d,$i,gl,dc,ms,M,2,-0,0),T);break e}xp(S,y,Xr,yp,t0,d,$i,gl,dc,ms,M,0,-0,0)}}break}while(!0);Ci(s)}function xp(s,d,y,S,T,M,W,ee,fe,De,ze,$e,Le,Fe){if(s.timeoutHandle=-1,$e=d.subtreeFlags,($e&8192||($e&16785408)===16785408)&&(tn={stylesheets:null,count:0,unsuspend:_r},Jm(d),$e=lr(),$e!==null)){s.cancelPendingCommit=$e(c0.bind(null,s,d,M,y,S,T,W,ee,fe,ze,1,Le,Fe)),xs(s,M,W,!De);return}c0(s,d,M,y,S,T,W,ee,fe)}function $1(s){for(var d=s;;){var y=d.tag;if((y===0||y===11||y===15)&&d.flags&16384&&(y=d.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var S=0;S<y.length;S++){var T=y[S],M=T.getSnapshot;T=T.value;try{if(!ri(M(),T))return!1}catch{return!1}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===s)break;for(;d.sibling===null;){if(d.return===null||d.return===s)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function xs(s,d,y,S){d&=~e0,d&=~gl,s.suspendedLanes|=d,s.pingedLanes&=~d,S&&(s.warmLanes|=d),S=s.expirationTimes;for(var T=d;0<T;){var M=31-lt(T),W=1<<M;S[M]=-1,T&=~W}y!==0&&rt(s,y,d)}function fa(){return(hn&6)===0?(va(0),!1):!0}function bp(){if(Wt!==null){if(yn===0)var s=Wt.return;else s=Wt,Qo=rl=null,Im(s),as=null,ls=0,s=Wt;for(;s!==null;)_x(s.alternate,s),s=s.return;Wt=null}}function Po(s,d){var y=s.timeoutHandle;y!==-1&&(s.timeoutHandle=-1,Jx(y)),y=s.cancelPendingCommit,y!==null&&(s.cancelPendingCommit=null,y()),bp(),Pn=s,Wt=y=Bi(s.current,null),en=d,yn=0,di=null,ms=!1,fc=At(s,d),Qm=!1,dc=$i=e0=gl=Do=Gn=0,Xr=hc=null,t0=!1,(d&8)!==0&&(d|=d&32);var S=s.entangledLanes;if(S!==0)for(s=s.entanglements,S&=d;0<S;){var T=31-lt(S),M=1<<T;d|=s[T],S&=~M}return vs=d,Bh(),y}function Ux(s,d){Vt=null,ie.H=Cr,d===Xu||d===Mf?(d=gx(),yn=3):d===hx?(d=gx(),yn=4):yn=d===ao?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,di=d,Wt===null&&(Gn=1,ia(s,ki(d,s.current)))}function s0(){var s=ie.H;return ie.H=Cr,s===null?Cr:s}function Vx(){var s=ie.A;return ie.A=V1,s}function on(){Gn=4,ms||(en&4194048)!==en&&Ui.current!==null||(fc=!0),(Do&134217727)===0&&(gl&134217727)===0||Pn===null||xs(Pn,en,$i,!1)}function Wf(s,d,y){var S=hn;hn|=2;var T=s0(),M=Vx();(Pn!==s||en!==d)&&(yp=null,Po(s,d)),d=!1;var W=Gn;e:do try{if(yn!==0&&Wt!==null){var ee=Wt,fe=di;switch(yn){case 8:bp(),W=6;break e;case 3:case 2:case 9:case 6:Ui.current===null&&(d=!0);var De=yn;if(yn=0,di=null,da(s,ee,fe,De),y&&fc){W=0;break e}break;default:De=yn,yn=0,di=null,da(s,ee,fe,De)}}a0(),W=Gn;break}catch(ze){Ux(s,ze)}while(!0);return d&&s.shellSuspendCounter++,Qo=rl=null,hn=S,ie.H=T,ie.A=M,Wt===null&&(Pn=null,en=0,Bh()),W}function a0(){for(;Wt!==null;)Gx(Wt)}function l0(s,d){var y=hn;hn|=2;var S=s0(),T=Vx();Pn!==s||en!==d?(yp=null,vp=je()+500,Po(s,d)):fc=At(s,d);e:do try{if(yn!==0&&Wt!==null){d=Wt;var M=di;t:switch(yn){case 1:yn=0,di=null,da(s,d,M,1);break;case 2:case 9:if(Sm(M)){yn=0,di=null,$x(d);break}d=function(){yn!==2&&yn!==9||Pn!==s||(yn=7),Ci(s)},M.then(d,d);break e;case 3:yn=7;break e;case 4:yn=5;break e;case 7:Sm(M)?(yn=0,di=null,$x(d)):(yn=0,di=null,da(s,d,M,7));break;case 5:var W=null;switch(Wt.tag){case 26:W=Wt.memoizedState;case 5:case 27:var ee=Wt;if(!W||Dn(W)){yn=0,di=null;var fe=ee.sibling;if(fe!==null)Wt=fe;else{var De=ee.return;De!==null?(Wt=De,Sp(De)):Wt=null}break t}}yn=0,di=null,da(s,d,M,5);break;case 6:yn=0,di=null,da(s,d,M,6);break;case 8:bp(),Gn=6;break e;default:throw Error(r(462))}}W1();break}catch(ze){Ux(s,ze)}while(!0);return Qo=rl=null,ie.H=S,ie.A=T,hn=y,Wt!==null?0:(Pn=null,en=0,Bh(),Gn)}function W1(){for(;Wt!==null&&!we();)Gx(Wt)}function Gx(s){var d=fl(s.alternate,s,vs);s.memoizedProps=s.pendingProps,d===null?Sp(s):Wt=d}function $x(s){var d=s,y=d.alternate;switch(d.tag){case 15:case 0:d=Tx(y,d,d.pendingProps,d.type,void 0,en);break;case 11:d=Tx(y,d,d.pendingProps,d.type.render,d.ref,en);break;case 5:Im(d);default:_x(y,d),d=Wt=Tf(d,vs),d=fl(y,d,vs)}s.memoizedProps=s.pendingProps,d===null?Sp(s):Wt=d}function da(s,d,y,S){Qo=rl=null,Im(d),as=null,ls=0;var T=d.return;try{if(j1(s,T,d,y,en)){Gn=1,ia(s,ki(y,s.current)),Wt=null;return}}catch(M){if(T!==null)throw Wt=T,M;Gn=1,ia(s,ki(y,s.current)),Wt=null;return}d.flags&32768?(cn||S===1?s=!0:fc||(en&536870912)!==0?s=!1:(ms=s=!0,(S===2||S===9||S===3||S===6)&&(S=Ui.current,S!==null&&S.tag===13&&(S.flags|=16384))),u0(d,s)):Sp(d)}function Sp(s){var d=s;do{if((d.flags&32768)!==0){u0(d,ms);return}s=d.return;var y=ds(d.alternate,d,vs);if(y!==null){Wt=y;return}if(d=d.sibling,d!==null){Wt=d;return}Wt=d=s}while(d!==null);Gn===0&&(Gn=5)}function u0(s,d){do{var y=hs(s.alternate,s);if(y!==null){y.flags&=32767,Wt=y;return}if(y=s.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!d&&(s=s.sibling,s!==null)){Wt=s;return}Wt=s=y}while(s!==null);Gn=6,Wt=null}function c0(s,d,y,S,T,M,W,ee,fe){s.cancelPendingCommit=null;do pa();while(hr!==0);if((hn&6)!==0)throw Error(r(327));if(d!==null){if(d===s.current)throw Error(r(177));if(M=d.lanes|d.childLanes,M|=fm,Qn(s,y,M,W,ee,fe),s===Pn&&(Wt=Pn=null,en=0),pc=d,Mo=s,ys=y,r0=M,i0=T,jx=S,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,K1(Ze,function(){return gc(),null})):(s.callbackNode=null,s.callbackPriority=0),S=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||S){S=ie.T,ie.T=null,T=Ae.p,Ae.p=2,W=hn,hn|=4;try{z1(s,d,y)}finally{hn=W,Ae.p=T,ie.T=S}}hr=1,Ap(),f0(),Wi()}}function Ap(){if(hr===1){hr=0;var s=Mo,d=pc,y=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||y){y=ie.T,ie.T=null;var S=Ae.p;Ae.p=2;var T=hn;hn|=4;try{Fx(d,s);var M=Dp,W=nx(s.containerInfo),ee=M.focusedElem,fe=M.selectionRange;if(W!==ee&&ee&&ee.ownerDocument&&tx(ee.ownerDocument.documentElement,ee)){if(fe!==null&&am(ee)){var De=fe.start,ze=fe.end;if(ze===void 0&&(ze=De),"selectionStart"in ee)ee.selectionStart=De,ee.selectionEnd=Math.min(ze,ee.value.length);else{var $e=ee.ownerDocument||document,Le=$e&&$e.defaultView||window;if(Le.getSelection){var Fe=Le.getSelection(),Ot=ee.textContent.length,Ct=Math.min(fe.start,Ot),Ln=fe.end===void 0?Ct:Math.min(fe.end,Ot);!Fe.extend&&Ct>Ln&&(W=Ln,Ln=Ct,Ct=W);var Ce=ex(ee,Ct),be=ex(ee,Ln);if(Ce&&be&&(Fe.rangeCount!==1||Fe.anchorNode!==Ce.node||Fe.anchorOffset!==Ce.offset||Fe.focusNode!==be.node||Fe.focusOffset!==be.offset)){var _e=$e.createRange();_e.setStart(Ce.node,Ce.offset),Fe.removeAllRanges(),Ct>Ln?(Fe.addRange(_e),Fe.extend(be.node,be.offset)):(_e.setEnd(be.node,be.offset),Fe.addRange(_e))}}}}for($e=[],Fe=ee;Fe=Fe.parentNode;)Fe.nodeType===1&&$e.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<$e.length;ee++){var Ge=$e[ee];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}lb=!!Op,Dp=Op=null}finally{hn=T,Ae.p=S,ie.T=y}}s.current=d,hr=2}}function f0(){if(hr===2){hr=0;var s=Mo,d=pc,y=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||y){y=ie.T,ie.T=null;var S=Ae.p;Ae.p=2;var T=hn;hn|=4;try{Dx(s,d.alternate,d)}finally{hn=T,Ae.p=S,ie.T=y}}hr=3}}function Wi(){if(hr===4||hr===3){hr=0,Ie();var s=Mo,d=pc,y=ys,S=jx;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?hr=5:(hr=0,pc=Mo=null,ha(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(co=null),rn(y),d=d.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(qe,d,void 0,(d.current.flags&128)===128)}catch{}if(S!==null){d=ie.T,T=Ae.p,Ae.p=2,ie.T=null;try{for(var M=s.onRecoverableError,W=0;W<S.length;W++){var ee=S[W];M(ee.value,{componentStack:ee.stack})}}finally{ie.T=d,Ae.p=T}}(ys&3)!==0&&pa(),Ci(s),T=s.pendingLanes,(y&4194090)!==0&&(T&42)!==0?s===jr?xn++:(xn=0,jr=s):xn=0,va(0)}}function ha(s,d){(s.pooledCacheLanes&=d)===0&&(d=s.pooledCache,d!=null&&(s.pooledCache=null,Of(d)))}function pa(s){return Ap(),f0(),Wi(),gc()}function gc(){if(hr!==5)return!1;var s=Mo,d=r0;r0=0;var y=rn(ys),S=ie.T,T=Ae.p;try{Ae.p=32>y?32:y,ie.T=null,y=i0,i0=null;var M=Mo,W=ys;if(hr=0,pc=Mo=null,ys=0,(hn&6)!==0)throw Error(r(331));var ee=hn;if(hn|=4,cc(M.current),kx(M,M.current,W,y),hn=ee,va(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(qe,M)}catch{}return!0}finally{Ae.p=T,ie.T=S,ha(s,d)}}function d0(s,d,y){d=ki(y,d),d=Ro(s.stateNode,d,2),s=Zs(s,d,2),s!==null&&(an(s,2),Ci(s))}function Tn(s,d,y){if(s.tag===3)d0(s,s,y);else for(;d!==null;){if(d.tag===3){d0(d,s,y);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(co===null||!co.has(S))){s=ki(y,s),y=oc(2),S=Zs(d,y,2),S!==null&&(Cx(y,S,d,s),an(S,2),Ci(S));break}}d=d.return}}function h0(s,d,y){var S=s.pingCache;if(S===null){S=s.pingCache=new G1;var T=new Set;S.set(d,T)}else T=S.get(d),T===void 0&&(T=new Set,S.set(d,T));T.has(y)||(Qm=!0,T.add(y),s=H1.bind(null,s,d,y),d.then(s,s))}function H1(s,d,y){var S=s.pingCache;S!==null&&S.delete(d),s.pingedLanes|=s.suspendedLanes&y,s.warmLanes&=~y,Pn===s&&(en&y)===y&&(Gn===4||Gn===3&&(en&62914560)===en&&300>je()-n0?(hn&2)===0&&Po(s,0):e0|=y,dc===en&&(dc=0)),Ci(s)}function Wx(s,d){d===0&&(d=kn()),s=zu(s,d),s!==null&&(an(s,d),Ci(s))}function Y1(s){var d=s.memoizedState,y=0;d!==null&&(y=d.retryLane),Wx(s,y)}function q1(s,d){var y=0;switch(s.tag){case 13:var S=s.stateNode,T=s.memoizedState;T!==null&&(y=T.retryLane);break;case 19:S=s.stateNode;break;case 22:S=s.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(d),Wx(s,y)}function K1(s,d){return ae(s,d)}var Ep=null,mc=null,p0=!1,wp=!1,ga=!1,ma=0;function Ci(s){s!==mc&&s.next===null&&(mc===null?Ep=mc=s:mc=mc.next=s),wp=!0,p0||(p0=!0,ya())}function va(s,d){if(!ga&&wp){ga=!0;do for(var y=!1,S=Ep;S!==null;){if(s!==0){var T=S.pendingLanes;if(T===0)var M=0;else{var W=S.suspendedLanes,ee=S.pingedLanes;M=(1<<31-lt(42|s)+1)-1,M&=T&~(W&~ee),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(y=!0,Cp(S,M))}else M=en,M=mt(S,S===Pn?M:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(M&3)===0||At(S,M)||(y=!0,Cp(S,M));S=S.next}while(y);ga=!1}}function X1(){bs()}function bs(){wp=p0=!1;var s=0;ma!==0&&(Xx()&&(s=ma),ma=0);for(var d=je(),y=null,S=Ep;S!==null;){var T=S.next,M=gr(S,d);M===0?(S.next=null,y===null?Ep=T:y.next=T,T===null&&(mc=y)):(y=S,(s!==0||(M&3)!==0)&&(wp=!0)),S=T}va(s)}function gr(s,d){for(var y=s.suspendedLanes,S=s.pingedLanes,T=s.expirationTimes,M=s.pendingLanes&-62914561;0<M;){var W=31-lt(M),ee=1<<W,fe=T[W];fe===-1?((ee&y)===0||(ee&S)!==0)&&(T[W]=Dt(ee,d)):fe<=d&&(s.expiredLanes|=ee),M&=~ee}if(d=Pn,y=en,y=mt(s,s===d?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),S=s.callbackNode,y===0||s===d&&(yn===2||yn===9)||s.cancelPendingCommit!==null)return S!==null&&S!==null&&le(S),s.callbackNode=null,s.callbackPriority=0;if((y&3)===0||At(s,y)){if(d=y&-y,d===s.callbackPriority)return d;switch(S!==null&&le(S),rn(y)){case 2:case 8:y=Pe;break;case 32:y=Ze;break;case 268435456:y=gt;break;default:y=Ze}return S=ml.bind(null,s),y=ae(y,S),s.callbackPriority=d,s.callbackNode=y,d}return S!==null&&S!==null&&le(S),s.callbackPriority=2,s.callbackNode=null,2}function ml(s,d){if(hr!==0&&hr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var y=s.callbackNode;if(pa()&&s.callbackNode!==y)return null;var S=en;return S=mt(s,s===Pn?S:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),S===0?null:(o0(s,S,d),gr(s,je()),s.callbackNode!=null&&s.callbackNode===y?ml.bind(null,s):null)}function Cp(s,d){if(pa())return null;o0(s,d,!0)}function ya(){Qx(function(){(hn&6)!==0?ae(me,X1):bs()})}function Rp(){return ma===0&&(ma=vn()),ma}function Hx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:vf(""+s)}function Z1(s,d){var y=d.ownerDocument.createElement("input");return y.name=d.name,y.value=d.value,s.id&&y.setAttribute("form",s.id),d.parentNode.insertBefore(y,d),s=new FormData(s),y.parentNode.removeChild(y),s}function kR(s,d,y,S,T){if(d==="submit"&&y&&y.stateNode===T){var M=Hx((T[Lt]||null).action),W=S.submitter;W&&(d=(d=W[Lt]||null)?Hx(d.formAction):W.getAttribute("formAction"),d!==null&&(M=d,W=null));var ee=new Zo("action","action",null,S,T);s.push({event:ee,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(ma!==0){var fe=W?Z1(T,W):new FormData(T);ui(y,{pending:!0,data:fe,method:T.method,action:M},null,fe)}}else typeof M=="function"&&(ee.preventDefault(),fe=W?Z1(T,W):new FormData(T),ui(y,{pending:!0,data:fe,method:T.method,action:M},M,fe))},currentTarget:T}]})}}for(var Tp=0;Tp<kh.length;Tp++){var g0=kh[Tp],J1=g0.toLowerCase(),Hf=g0[0].toUpperCase()+g0.slice(1);xi(J1,"on"+Hf)}xi(ix,"onAnimationEnd"),xi(Fh,"onAnimationIteration"),xi(Cf,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(R1,"onTransitionRun"),xi(T1,"onTransitionStart"),xi(N1,"onTransitionCancel"),xi(ox,"onTransitionEnd"),$a("onMouseEnter",["mouseout","mouseover"]),$a("onMouseLeave",["mouseout","mouseover"]),$a("onPointerEnter",["pointerout","pointerover"]),$a("onPointerLeave",["pointerout","pointerover"]),zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function Fo(s,d){d=(d&4)!==0;for(var y=0;y<s.length;y++){var S=s[y],T=S.event;S=S.listeners;e:{var M=void 0;if(d)for(var W=S.length-1;0<=W;W--){var ee=S[W],fe=ee.instance,De=ee.currentTarget;if(ee=ee.listener,fe!==M&&T.isPropagationStopped())break e;M=ee,T.currentTarget=De;try{M(T)}catch(ze){ci(ze)}T.currentTarget=null,M=fe}else for(W=0;W<S.length;W++){if(ee=S[W],fe=ee.instance,De=ee.currentTarget,ee=ee.listener,fe!==M&&T.isPropagationStopped())break e;M=ee,T.currentTarget=De;try{M(T)}catch(ze){ci(ze)}T.currentTarget=null,M=fe}}}}function kt(s,d){var y=d[Mi];y===void 0&&(y=d[Mi]=new Set);var S=s+"__bubble";y.has(S)||(m0(d,s,2,!1),y.add(S))}function xa(s,d,y){var S=0;d&&(S|=4),m0(y,s,S,d)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Np(s){if(!s[vc]){s[vc]=!0,zg.forEach(function(y){y!=="selectionchange"&&(Yf.has(y)||xa(y,!1,s),xa(y,!0,s))});var d=s.nodeType===9?s:s.ownerDocument;d===null||d[vc]||(d[vc]=!0,xa("selectionchange",!1,d))}}function m0(s,d,y,S){switch(GR(d)){case 2:var T=IB;break;case 8:T=OB;break;default:T=uA}y=T.bind(null,d,y,s),T=void 0,!Xg||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(T=!0),S?T!==void 0?s.addEventListener(d,y,{capture:!0,passive:T}):s.addEventListener(d,y,!0):T!==void 0?s.addEventListener(d,y,{passive:T}):s.addEventListener(d,y,!1)}function _p(s,d,y,S,T){var M=S;if((d&1)===0&&(d&2)===0&&S!==null)e:for(;;){if(S===null)return;var W=S.tag;if(W===3||W===4){var ee=S.stateNode.containerInfo;if(ee===T)break;if(W===4)for(W=S.return;W!==null;){var fe=W.tag;if((fe===3||fe===4)&&W.stateNode.containerInfo===T)return;W=W.return}for(;ee!==null;){if(W=Bs(ee),W===null)return;if(fe=W.tag,fe===5||fe===6||fe===26||fe===27){S=M=W;continue e}ee=ee.parentNode}}S=S.return}Sy(function(){var De=M,ze=xf(y),$e=[];e:{var Le=sx.get(s);if(Le!==void 0){var Fe=Zo,Ot=s;switch(s){case"keypress":if(Rh(y)===0)break e;case"keydown":case"keyup":Fe=Py;break;case"focusin":Ot="focus",Fe=Ih;break;case"focusout":Ot="blur",Fe=Ih;break;case"beforeblur":case"afterblur":Fe=Ih;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=FR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=ky;break;case ix:case Fh:case Cf:Fe=Cy;break;case ox:Fe=jy;break;case"scroll":case"scrollend":Fe=y1;break;case"wheel":Fe=b1;break;case"copy":case"cut":case"paste":Fe=Ty;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=em;break;case"toggle":case"beforetoggle":Fe=Uy}var Ct=(d&4)!==0,Ln=!Ct&&(s==="scroll"||s==="scrollend"),Ce=Ct?Le!==null?Le+"Capture":null:Le;Ct=[];for(var be=De,_e;be!==null;){var Ge=be;if(_e=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||_e===null||Ce===null||(Ge=qa(be,Ce),Ge!=null&&Ct.push(yc(be,Ge,_e))),Ln)break;be=be.return}0<Ct.length&&(Le=new Fe(Le,Ot,null,y,ze),$e.push({event:Le,listeners:Ct}))}}if((d&7)===0){e:{if(Le=s==="mouseover"||s==="pointerover",Fe=s==="mouseout"||s==="pointerout",Le&&y!==yf&&(Ot=y.relatedTarget||y.fromElement)&&(Bs(Ot)||Ot[An]))break e;if((Fe||Le)&&(Le=ze.window===ze?ze:(Le=ze.ownerDocument)?Le.defaultView||Le.parentWindow:window,Fe?(Ot=y.relatedTarget||y.toElement,Fe=De,Ot=Ot?Bs(Ot):null,Ot!==null&&(Ln=a(Ot),Ct=Ot.tag,Ot!==Ln||Ct!==5&&Ct!==27&&Ct!==6)&&(Ot=null)):(Fe=null,Ot=De),Fe!==Ot)){if(Ct=Jg,Ge="onMouseLeave",Ce="onMouseEnter",be="mouse",(s==="pointerout"||s==="pointerover")&&(Ct=em,Ge="onPointerLeave",Ce="onPointerEnter",be="pointer"),Ln=Fe==null?Le:Pu(Fe),_e=Ot==null?Le:Pu(Ot),Le=new Ct(Ge,be+"leave",Fe,y,ze),Le.target=Ln,Le.relatedTarget=_e,Ge=null,Bs(ze)===De&&(Ct=new Ct(Ce,be+"enter",Ot,y,ze),Ct.target=_e,Ct.relatedTarget=Ln,Ge=Ct),Ln=Ge,Fe&&Ot)t:{for(Ct=Fe,Ce=Ot,be=0,_e=Ct;_e;_e=vl(_e))be++;for(_e=0,Ge=Ce;Ge;Ge=vl(Ge))_e++;for(;0<be-_e;)Ct=vl(Ct),be--;for(;0<_e-be;)Ce=vl(Ce),_e--;for(;be--;){if(Ct===Ce||Ce!==null&&Ct===Ce.alternate)break t;Ct=vl(Ct),Ce=vl(Ce)}Ct=null}else Ct=null;Fe!==null&&v0($e,Le,Fe,Ct,!1),Ot!==null&&Ln!==null&&v0($e,Ln,Ot,Ct,!0)}}e:{if(Le=De?Pu(De):window,Fe=Le.nodeName&&Le.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Le.type==="file")var ut=im;else if(rm(Le))if(Ky)ut=sm;else{ut=w1;var Zt=E1}else Fe=Le.nodeName,!Fe||Fe.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?De&&qg(De.elementType)&&(ut=im):ut=Qy;if(ut&&(ut=ut(s,De))){Yy($e,ut,y,ze);break e}Zt&&Zt(s,Le,De),s==="focusout"&&De&&Le.type==="number"&&De.memoizedProps.value!=null&&mf(Le,"number",Le.value)}switch(Zt=De?Pu(De):window,s){case"focusin":(rm(Zt)||Zt.contentEditable==="true")&&(Za=Zt,lm=De,wf=null);break;case"focusout":wf=lm=Za=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,rx($e,y,ze);break;case"selectionchange":if(Ph)break;case"keydown":case"keyup":rx($e,y,ze)}var bt;if(tm)e:{switch(s){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else ku?$y(s,y)&&(Tt="onCompositionEnd"):s==="keydown"&&y.keyCode===229&&(Tt="onCompositionStart");Tt&&(Ka&&y.locale!=="ko"&&(ku||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&ku&&(bt=Ay()):(Vs=ze,Fu="value"in Vs?Vs.value:Vs.textContent,ku=!0)),Zt=qf(De,Tt),0<Zt.length&&(Tt=new Qg(Tt,s,null,y,ze),$e.push({event:Tt,listeners:Zt}),bt?Tt.data=bt:(bt=Wy(y),bt!==null&&(Tt.data=bt)))),(bt=nm?Hy(s,y):S1(s,y))&&(Tt=qf(De,"onBeforeInput"),0<Tt.length&&(Zt=new Qg("onBeforeInput","beforeinput",null,y,ze),$e.push({event:Zt,listeners:Tt}),Zt.data=bt)),kR($e,s,De,y,ze)}Fo($e,d)})}function yc(s,d,y){return{instance:s,listener:d,currentTarget:y}}function qf(s,d){for(var y=d+"Capture",S=[];s!==null;){var T=s,M=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||M===null||(T=qa(s,y),T!=null&&S.unshift(yc(s,T,M)),T=qa(s,d),T!=null&&S.push(yc(s,T,M))),s.tag===3)return S;s=s.return}return[]}function vl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function v0(s,d,y,S,T){for(var M=d._reactName,W=[];y!==null&&y!==S;){var ee=y,fe=ee.alternate,De=ee.stateNode;if(ee=ee.tag,fe!==null&&fe===S)break;ee!==5&&ee!==26&&ee!==27||De===null||(fe=De,T?(De=qa(y,M),De!=null&&W.unshift(yc(y,De,fe))):T||(De=qa(y,M),De!=null&&W.push(yc(y,De,fe)))),y=y.return}W.length!==0&&s.push({event:d,listeners:W})}var Yx=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function qx(s){return(typeof s=="string"?s:""+s).replace(Yx,`
`).replace(Q1,"")}function Kx(s,d){return d=qx(d),qx(s)===d}function yl(){}function Nn(s,d,y,S,T,M){switch(y){case"children":typeof S=="string"?d==="body"||d==="textarea"&&S===""||Us(s,S):(typeof S=="number"||typeof S=="bigint")&&d!=="body"&&Us(s,""+S);break;case"className":hf(s,"class",S);break;case"tabIndex":hf(s,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":hf(s,y,S);break;case"style":yy(s,S,M);break;case"data":if(d!=="object"){hf(s,"data",S);break}case"src":case"href":if(S===""&&(d!=="a"||y!=="href")){s.removeAttribute(y);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){s.removeAttribute(y);break}S=vf(""+S),s.setAttribute(y,S);break;case"action":case"formAction":if(typeof S=="function"){s.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(y==="formAction"?(d!=="input"&&Nn(s,d,"name",T.name,T,null),Nn(s,d,"formEncType",T.formEncType,T,null),Nn(s,d,"formMethod",T.formMethod,T,null),Nn(s,d,"formTarget",T.formTarget,T,null)):(Nn(s,d,"encType",T.encType,T,null),Nn(s,d,"method",T.method,T,null),Nn(s,d,"target",T.target,T,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){s.removeAttribute(y);break}S=vf(""+S),s.setAttribute(y,S);break;case"onClick":S!=null&&(s.onclick=yl);break;case"onScroll":S!=null&&kt("scroll",s);break;case"onScrollEnd":S!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=y}}break;case"multiple":s.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":s.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){s.removeAttribute("xlink:href");break}y=vf(""+S),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?s.setAttribute(y,""+S):s.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?s.setAttribute(y,""):s.removeAttribute(y);break;case"capture":case"download":S===!0?s.setAttribute(y,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?s.setAttribute(y,S):s.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?s.setAttribute(y,S):s.removeAttribute(y);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?s.removeAttribute(y):s.setAttribute(y,S);break;case"popover":kt("beforetoggle",s),kt("toggle",s),qo(s,"popover",S);break;case"xlinkActuate":Ko(s,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":Ko(s,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":Ko(s,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":Ko(s,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":Ko(s,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":Ko(s,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":Ko(s,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":Ko(s,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":Ko(s,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":qo(s,"is",S);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=v1.get(y)||y,qo(s,y,S))}}function Ip(s,d,y,S,T,M){switch(y){case"style":yy(s,S,M);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=y}}break;case"children":typeof S=="string"?Us(s,S):(typeof S=="number"||typeof S=="bigint")&&Us(s,""+S);break;case"onScroll":S!=null&&kt("scroll",s);break;case"onScrollEnd":S!=null&&kt("scrollend",s);break;case"onClick":S!=null&&(s.onclick=yl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ug.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(T=y.endsWith("Capture"),d=y.slice(2,T?y.length-7:void 0),M=s[Lt]||null,M=M!=null?M[y]:null,typeof M=="function"&&s.removeEventListener(d,M,T),typeof S=="function")){typeof M!="function"&&M!==null&&(y in s?s[y]=null:s.hasAttribute(y)&&s.removeAttribute(y)),s.addEventListener(d,S,T);break e}y in s?s[y]=S:S===!0?s.setAttribute(y,""):qo(s,y,S)}}}function Nr(s,d,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var S=!1,T=!1,M;for(M in y)if(y.hasOwnProperty(M)){var W=y[M];if(W!=null)switch(M){case"src":S=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Nn(s,d,M,W,y,null)}}T&&Nn(s,d,"srcSet",y.srcSet,y,null),S&&Nn(s,d,"src",y.src,y,null);return;case"input":kt("invalid",s);var ee=M=W=T=null,fe=null,De=null;for(S in y)if(y.hasOwnProperty(S)){var ze=y[S];if(ze!=null)switch(S){case"name":T=ze;break;case"type":W=ze;break;case"checked":fe=ze;break;case"defaultChecked":De=ze;break;case"value":M=ze;break;case"defaultValue":ee=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,d));break;default:Nn(s,d,S,ze,y,null)}}Hg(s,M,ee,fe,De,W,T,!1),wh(s);return;case"select":kt("invalid",s),S=W=M=null;for(T in y)if(y.hasOwnProperty(T)&&(ee=y[T],ee!=null))switch(T){case"value":M=ee;break;case"defaultValue":W=ee;break;case"multiple":S=ee;default:Nn(s,d,T,ee,y,null)}d=M,y=W,s.multiple=!!S,d!=null?Lu(s,!!S,d,!1):y!=null&&Lu(s,!!S,y,!0);return;case"textarea":kt("invalid",s),M=T=S=null;for(W in y)if(y.hasOwnProperty(W)&&(ee=y[W],ee!=null))switch(W){case"value":S=ee;break;case"defaultValue":T=ee;break;case"children":M=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(91));break;default:Nn(s,d,W,ee,y,null)}gy(s,S,T,M),wh(s);return;case"option":for(fe in y)if(y.hasOwnProperty(fe)&&(S=y[fe],S!=null))switch(fe){case"selected":s.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Nn(s,d,fe,S,y,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(S=0;S<Lo.length;S++)kt(Lo[S],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in y)if(y.hasOwnProperty(De)&&(S=y[De],S!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Nn(s,d,De,S,y,null)}return;default:if(qg(d)){for(ze in y)y.hasOwnProperty(ze)&&(S=y[ze],S!==void 0&&Ip(s,d,ze,S,y,void 0));return}}for(ee in y)y.hasOwnProperty(ee)&&(S=y[ee],S!=null&&Nn(s,d,ee,S,y,null))}function eA(s,d,y,S){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,M=null,W=null,ee=null,fe=null,De=null,ze=null;for(Fe in y){var $e=y[Fe];if(y.hasOwnProperty(Fe)&&$e!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":fe=$e;default:S.hasOwnProperty(Fe)||Nn(s,d,Fe,null,S,$e)}}for(var Le in S){var Fe=S[Le];if($e=y[Le],S.hasOwnProperty(Le)&&(Fe!=null||$e!=null))switch(Le){case"type":M=Fe;break;case"name":T=Fe;break;case"checked":De=Fe;break;case"defaultChecked":ze=Fe;break;case"value":W=Fe;break;case"defaultValue":ee=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,d));break;default:Fe!==$e&&Nn(s,d,Le,Fe,S,$e)}}Wg(s,W,ee,fe,De,ze,M,T);return;case"select":Fe=W=ee=Le=null;for(M in y)if(fe=y[M],y.hasOwnProperty(M)&&fe!=null)switch(M){case"value":break;case"multiple":Fe=fe;default:S.hasOwnProperty(M)||Nn(s,d,M,null,S,fe)}for(T in S)if(M=S[T],fe=y[T],S.hasOwnProperty(T)&&(M!=null||fe!=null))switch(T){case"value":Le=M;break;case"defaultValue":ee=M;break;case"multiple":W=M;default:M!==fe&&Nn(s,d,T,M,S,fe)}d=ee,y=W,S=Fe,Le!=null?Lu(s,!!y,Le,!1):!!S!=!!y&&(d!=null?Lu(s,!!y,d,!0):Lu(s,!!y,y?[]:"",!1));return;case"textarea":Fe=Le=null;for(ee in y)if(T=y[ee],y.hasOwnProperty(ee)&&T!=null&&!S.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:Nn(s,d,ee,null,S,T)}for(W in S)if(T=S[W],M=y[W],S.hasOwnProperty(W)&&(T!=null||M!=null))switch(W){case"value":Le=T;break;case"defaultValue":Fe=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==M&&Nn(s,d,W,T,S,M)}Yg(s,Le,Fe);return;case"option":for(var Ot in y)if(Le=y[Ot],y.hasOwnProperty(Ot)&&Le!=null&&!S.hasOwnProperty(Ot))switch(Ot){case"selected":s.selected=!1;break;default:Nn(s,d,Ot,null,S,Le)}for(fe in S)if(Le=S[fe],Fe=y[fe],S.hasOwnProperty(fe)&&Le!==Fe&&(Le!=null||Fe!=null))switch(fe){case"selected":s.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:Nn(s,d,fe,Le,S,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in y)Le=y[Ct],y.hasOwnProperty(Ct)&&Le!=null&&!S.hasOwnProperty(Ct)&&Nn(s,d,Ct,null,S,Le);for(De in S)if(Le=S[De],Fe=y[De],S.hasOwnProperty(De)&&Le!==Fe&&(Le!=null||Fe!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,d));break;default:Nn(s,d,De,Le,S,Fe)}return;default:if(qg(d)){for(var Ln in y)Le=y[Ln],y.hasOwnProperty(Ln)&&Le!==void 0&&!S.hasOwnProperty(Ln)&&Ip(s,d,Ln,void 0,S,Le);for(ze in S)Le=S[ze],Fe=y[ze],!S.hasOwnProperty(ze)||Le===Fe||Le===void 0&&Fe===void 0||Ip(s,d,ze,Le,S,Fe);return}}for(var Ce in y)Le=y[Ce],y.hasOwnProperty(Ce)&&Le!=null&&!S.hasOwnProperty(Ce)&&Nn(s,d,Ce,null,S,Le);for($e in S)Le=S[$e],Fe=y[$e],!S.hasOwnProperty($e)||Le===Fe||Le==null&&Fe==null||Nn(s,d,$e,Le,S,Fe)}var Op=null,Dp=null;function Mp(s){return s.nodeType===9?s:s.ownerDocument}function tA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nA(s,d){if(s===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&d==="foreignObject"?0:s}function xc(s,d){return s==="textarea"||s==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Pp=null;function Xx(){var s=window.event;return s&&s.type==="popstate"?s===Pp?!1:(Pp=s,!0):(Pp=null,!1)}var Zx=typeof setTimeout=="function"?setTimeout:void 0,Jx=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,Qx=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(s){return y0.resolve(null).then(s).catch(ko)}:Zx;function ko(s){setTimeout(function(){throw s})}function Ss(s){return s==="head"}function x0(s,d){var y=d,S=0,T=0;do{var M=y.nextSibling;if(s.removeChild(y),M&&M.nodeType===8)if(y=M.data,y==="/$"){if(0<S&&8>S){y=S;var W=s.ownerDocument;if(y&1&&Kf(W.documentElement),y&2&&Kf(W.body),y&4)for(y=W.head,Kf(y),W=y.firstChild;W;){var ee=W.nextSibling,fe=W.nodeName;W[Qi]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&W.rel.toLowerCase()==="stylesheet"||y.removeChild(W),W=ee}}if(T===0){s.removeChild(M),C0(d);return}T--}else y==="$"||y==="$?"||y==="$!"?T++:S=y.charCodeAt(0)-48;else S=0;y=M}while(y);C0(d)}function b0(s){var d=s.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var y=d;switch(d=d.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":b0(y),jg(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}s.removeChild(y)}}function rA(s,d,y,S){for(;s.nodeType===1;){var T=y;if(s.nodeName.toLowerCase()!==d.toLowerCase()){if(!S&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(S){if(!s[Qi])switch(d){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(M=s.getAttribute("rel"),M==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(M!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(M=s.getAttribute("src"),(M!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&M&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(d==="input"&&s.type==="hidden"){var M=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===M)return s}else return s;if(s=hi(s.nextSibling),s===null)break}return null}function iA(s,d,y){if(d==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!y||(s=hi(s.nextSibling),s===null))return null;return s}function Lp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function eb(s,d){var y=s.ownerDocument;if(s.data!=="$?"||y.readyState==="complete")d();else{var S=function(){d(),y.removeEventListener("DOMContentLoaded",S)};y.addEventListener("DOMContentLoaded",S),s._reactRetry=S}}function hi(s){for(;s!=null;s=s.nextSibling){var d=s.nodeType;if(d===1||d===3)break;if(d===8){if(d=s.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return s}var S0=null;function tb(s){s=s.previousSibling;for(var d=0;s;){if(s.nodeType===8){var y=s.data;if(y==="$"||y==="$!"||y==="$?"){if(d===0)return s;d--}else y==="/$"&&d++}s=s.previousSibling}return null}function nb(s,d,y){switch(d=Mp(y),s){case"html":if(s=d.documentElement,!s)throw Error(r(452));return s;case"head":if(s=d.head,!s)throw Error(r(453));return s;case"body":if(s=d.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Kf(s){for(var d=s.attributes;d.length;)s.removeAttributeNode(d[0]);jg(s)}var Hi=new Map,rb=new Set;function bc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var As=Ae.d;Ae.d={f:oA,r:ib,D:sb,C:sA,L:aA,m:h,X:f,S:o,M:v};function oA(){var s=As.f(),d=fa();return s||d}function ib(s){var d=Yo(s);d!==null&&d.tag===5&&d.type==="form"?Sx(d):As.r(s)}var Sc=typeof document>"u"?null:document;function ob(s,d,y){var S=Sc;if(S&&typeof d=="string"&&d){var T=Lr(d);T='link[rel="'+s+'"][href="'+T+'"]',typeof y=="string"&&(T+='[crossorigin="'+y+'"]'),rb.has(T)||(rb.add(T),s={rel:s,crossOrigin:y,href:d},S.querySelector(T)===null&&(d=S.createElement("link"),Nr(d,"link",s),ir(d),S.head.appendChild(d)))}}function sb(s){As.D(s),ob("dns-prefetch",s,null)}function sA(s,d){As.C(s,d),ob("preconnect",s,d)}function aA(s,d,y){As.L(s,d,y);var S=Sc;if(S&&s&&d){var T='link[rel="preload"][as="'+Lr(d)+'"]';d==="image"&&y&&y.imageSrcSet?(T+='[imagesrcset="'+Lr(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(T+='[imagesizes="'+Lr(y.imageSizes)+'"]')):T+='[href="'+Lr(s)+'"]';var M=T;switch(d){case"style":M=_(s);break;case"script":M=te(s)}Hi.has(M)||(s=p({rel:"preload",href:d==="image"&&y&&y.imageSrcSet?void 0:s,as:d},y),Hi.set(M,s),S.querySelector(T)!==null||d==="style"&&S.querySelector(F(M))||d==="script"&&S.querySelector(ce(M))||(d=S.createElement("link"),Nr(d,"link",s),ir(d),S.head.appendChild(d)))}}function h(s,d){As.m(s,d);var y=Sc;if(y&&s){var S=d&&typeof d.as=="string"?d.as:"script",T='link[rel="modulepreload"][as="'+Lr(S)+'"][href="'+Lr(s)+'"]',M=T;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=te(s)}if(!Hi.has(M)&&(s=p({rel:"modulepreload",href:s},d),Hi.set(M,s),y.querySelector(T)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(ce(M)))return}S=y.createElement("link"),Nr(S,"link",s),ir(S),y.head.appendChild(S)}}}function o(s,d,y){As.S(s,d,y);var S=Sc;if(S&&s){var T=js(S).hoistableStyles,M=_(s);d=d||"default";var W=T.get(M);if(!W){var ee={loading:0,preload:null};if(W=S.querySelector(F(M)))ee.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":d},y),(y=Hi.get(M))&&Te(s,y);var fe=W=S.createElement("link");ir(fe),Nr(fe,"link",s),fe._p=new Promise(function(De,ze){fe.onload=De,fe.onerror=ze}),fe.addEventListener("load",function(){ee.loading|=1}),fe.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Be(W,d,S)}W={type:"stylesheet",instance:W,count:1,state:ee},T.set(M,W)}}}function f(s,d){As.X(s,d);var y=Sc;if(y&&s){var S=js(y).hoistableScripts,T=te(s),M=S.get(T);M||(M=y.querySelector(ce(T)),M||(s=p({src:s,async:!0},d),(d=Hi.get(T))&&Ye(s,d),M=y.createElement("script"),ir(M),Nr(M,"link",s),y.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},S.set(T,M))}}function v(s,d){As.M(s,d);var y=Sc;if(y&&s){var S=js(y).hoistableScripts,T=te(s),M=S.get(T);M||(M=y.querySelector(ce(T)),M||(s=p({src:s,async:!0,type:"module"},d),(d=Hi.get(T))&&Ye(s,d),M=y.createElement("script"),ir(M),Nr(M,"link",s),y.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},S.set(T,M))}}function A(s,d,y,S){var T=(T=H.current)?bc(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(d=_(y.href),y=js(T).hoistableStyles,S=y.get(d),S||(S={type:"style",instance:null,count:0,state:null},y.set(d,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){s=_(y.href);var M=js(T).hoistableStyles,W=M.get(s);if(W||(T=T.ownerDocument||T,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(s,W),(M=T.querySelector(F(s)))&&!M._p&&(W.instance=M,W.state.loading=5),Hi.has(s)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},Hi.set(s,y),M||Y(T,s,y,W.state))),d&&S===null)throw Error(r(528,""));return W}if(d&&S!==null)throw Error(r(529,""));return null;case"script":return d=y.async,y=y.src,typeof y=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=te(y),y=js(T).hoistableScripts,S=y.get(d),S||(S={type:"script",instance:null,count:0,state:null},y.set(d,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function _(s){return'href="'+Lr(s)+'"'}function F(s){return'link[rel="stylesheet"]['+s+"]"}function V(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function Y(s,d,y,S){s.querySelector('link[rel="preload"][as="style"]['+d+"]")?S.loading=1:(d=s.createElement("link"),S.preload=d,d.addEventListener("load",function(){return S.loading|=1}),d.addEventListener("error",function(){return S.loading|=2}),Nr(d,"link",y),ir(d),s.head.appendChild(d))}function te(s){return'[src="'+Lr(s)+'"]'}function ce(s){return"script[async]"+s}function Re(s,d,y){if(d.count++,d.instance===null)switch(d.type){case"style":var S=s.querySelector('style[data-href~="'+Lr(y.href)+'"]');if(S)return d.instance=S,ir(S),S;var T=p({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return S=(s.ownerDocument||s).createElement("style"),ir(S),Nr(S,"style",T),Be(S,y.precedence,s),d.instance=S;case"stylesheet":T=_(y.href);var M=s.querySelector(F(T));if(M)return d.state.loading|=4,d.instance=M,ir(M),M;S=V(y),(T=Hi.get(T))&&Te(S,T),M=(s.ownerDocument||s).createElement("link"),ir(M);var W=M;return W._p=new Promise(function(ee,fe){W.onload=ee,W.onerror=fe}),Nr(M,"link",S),d.state.loading|=4,Be(M,y.precedence,s),d.instance=M;case"script":return M=te(y.src),(T=s.querySelector(ce(M)))?(d.instance=T,ir(T),T):(S=y,(T=Hi.get(M))&&(S=p({},y),Ye(S,T)),s=s.ownerDocument||s,T=s.createElement("script"),ir(T),Nr(T,"link",S),s.head.appendChild(T),d.instance=T);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(S=d.instance,d.state.loading|=4,Be(S,y.precedence,s));return d.instance}function Be(s,d,y){for(var S=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=S.length?S[S.length-1]:null,M=T,W=0;W<S.length;W++){var ee=S[W];if(ee.dataset.precedence===d)M=ee;else if(M!==T)break}M?M.parentNode.insertBefore(s,M.nextSibling):(d=y.nodeType===9?y.head:y,d.insertBefore(s,d.firstChild))}function Te(s,d){s.crossOrigin==null&&(s.crossOrigin=d.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=d.referrerPolicy),s.title==null&&(s.title=d.title)}function Ye(s,d){s.crossOrigin==null&&(s.crossOrigin=d.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=d.referrerPolicy),s.integrity==null&&(s.integrity=d.integrity)}var We=null;function ot(s,d,y){if(We===null){var S=new Map,T=We=new Map;T.set(y,S)}else T=We,S=T.get(y),S||(S=new Map,T.set(y,S));if(S.has(s))return S;for(S.set(s,null),y=y.getElementsByTagName(s),T=0;T<y.length;T++){var M=y[T];if(!(M[Qi]||M[un]||s==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var W=M.getAttribute(d)||"";W=s+W;var ee=S.get(W);ee?ee.push(M):S.set(W,[M])}}return S}function wt(s,d,y){s=s.ownerDocument||s,s.head.insertBefore(y,d==="title"?s.querySelector("head > title"):null)}function fn(s,d,y){if(y===1||d.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return s=d.disabled,typeof d.precedence=="string"&&s==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function Dn(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var tn=null;function _r(){}function dn(s,d,y){if(tn===null)throw Error(r(475));var S=tn;if(d.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var T=_(y.href),M=s.querySelector(F(T));if(M){s=M._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(S.count++,S=$n.bind(S),s.then(S,S)),d.state.loading|=4,d.instance=M,ir(M);return}M=s.ownerDocument||s,y=V(y),(T=Hi.get(T))&&Te(y,T),M=M.createElement("link"),ir(M);var W=M;W._p=new Promise(function(ee,fe){W.onload=ee,W.onerror=fe}),Nr(M,"link",y),d.instance=M}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(d,s),(s=d.state.preload)&&(d.state.loading&3)===0&&(S.count++,d=$n.bind(S),s.addEventListener("load",d),s.addEventListener("error",d))}}function lr(){if(tn===null)throw Error(r(475));var s=tn;return s.stylesheets&&s.count===0&&Ri(s,s.stylesheets),0<s.count?function(d){var y=setTimeout(function(){if(s.stylesheets&&Ri(s,s.stylesheets),s.unsuspend){var S=s.unsuspend;s.unsuspend=null,S()}},6e4);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(y)}}:null}function $n(){if(this.count--,this.count===0){if(this.stylesheets)Ri(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var jn=null;function Ri(s,d){s.stylesheets=null,s.unsuspend!==null&&(s.count++,jn=new Map,d.forEach(ab,s),jn=null,$n.call(s))}function ab(s,d){if(!(d.state.loading&4)){var y=jn.get(s);if(y)var S=y.get(null);else{y=new Map,jn.set(s,y);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<T.length;M++){var W=T[M];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(y.set(W.dataset.precedence,W),S=W)}S&&y.set(null,S)}T=d.instance,W=T.getAttribute("data-precedence"),M=y.get(W)||S,M===S&&y.set(null,T),y.set(W,T),this.count++,S=$n.bind(this),T.addEventListener("load",S),T.addEventListener("error",S),M?M.parentNode.insertBefore(T,M.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),d.state.loading|=4}}var Ac={$$typeof:N,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Fp(s,d,y,S,T,M,W,ee){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=S,this.onUncaughtError=T,this.onCaughtError=M,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function BR(s,d,y,S,T,M,W,ee,fe,De,ze,$e){return s=new Fp(s,d,y,W,ee,fe,De,$e),d=1,M===!0&&(d|=24),M=Fr(3,null,null,d),s.current=M,M.stateNode=s,d=xm(),d.refCount++,s.pooledCache=d,d.refCount++,M.memoizedState={element:S,isDehydrated:y,cache:d},Em(M),s}function jR(s){return s?(s=Uu,s):Uu}function zR(s,d,y,S,T,M){T=jR(T),S.context===null?S.context=T:S.pendingContext=T,S=oi(d),S.payload={element:y},M=M===void 0?null:M,M!==null&&(S.callback=M),y=Zs(s,S,d),y!==null&&(Je(y,s,d),Ju(y,s,d))}function UR(s,d){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var y=s.retryLane;s.retryLane=y!==0&&y<d?y:d}}function lA(s,d){UR(s,d),(s=s.alternate)&&UR(s,d)}function VR(s){if(s.tag===13){var d=zu(s,67108864);d!==null&&Je(d,s,67108864),lA(s,67108864)}}var lb=!0;function IB(s,d,y,S){var T=ie.T;ie.T=null;var M=Ae.p;try{Ae.p=2,uA(s,d,y,S)}finally{Ae.p=M,ie.T=T}}function OB(s,d,y,S){var T=ie.T;ie.T=null;var M=Ae.p;try{Ae.p=8,uA(s,d,y,S)}finally{Ae.p=M,ie.T=T}}function uA(s,d,y,S){if(lb){var T=cA(S);if(T===null)_p(s,d,S,ub,y),$R(s,S);else if(MB(T,s,d,y,S))S.stopPropagation();else if($R(s,S),d&4&&-1<DB.indexOf(s)){for(;T!==null;){var M=Yo(T);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var W=nt(M.pendingLanes);if(W!==0){var ee=M;for(ee.pendingLanes|=2,ee.entangledLanes|=2;W;){var fe=1<<31-lt(W);ee.entanglements[1]|=fe,W&=~fe}Ci(M),(hn&6)===0&&(vp=je()+500,va(0))}}break;case 13:ee=zu(M,2),ee!==null&&Je(ee,M,2),fa(),lA(M,2)}if(M=cA(S),M===null&&_p(s,d,S,ub,y),M===T)break;T=M}T!==null&&S.stopPropagation()}else _p(s,d,S,null,y)}}function cA(s){return s=xf(s),fA(s)}var ub=null;function fA(s){if(ub=null,s=Bs(s),s!==null){var d=a(s);if(d===null)s=null;else{var y=d.tag;if(y===13){if(s=l(d),s!==null)return s;s=null}else if(y===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;s=null}else d!==s&&(s=null)}}return ub=s,null}function GR(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case me:return 2;case Pe:return 8;case Ze:case pt:return 32;case gt:return 268435456;default:return 32}default:return 32}}var dA=!1,Ec=null,wc=null,Cc=null,A0=new Map,E0=new Map,Rc=[],DB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $R(s,d){switch(s){case"focusin":case"focusout":Ec=null;break;case"dragenter":case"dragleave":wc=null;break;case"mouseover":case"mouseout":Cc=null;break;case"pointerover":case"pointerout":A0.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":E0.delete(d.pointerId)}}function w0(s,d,y,S,T,M){return s===null||s.nativeEvent!==M?(s={blockedOn:d,domEventName:y,eventSystemFlags:S,nativeEvent:M,targetContainers:[T]},d!==null&&(d=Yo(d),d!==null&&VR(d)),s):(s.eventSystemFlags|=S,d=s.targetContainers,T!==null&&d.indexOf(T)===-1&&d.push(T),s)}function MB(s,d,y,S,T){switch(d){case"focusin":return Ec=w0(Ec,s,d,y,S,T),!0;case"dragenter":return wc=w0(wc,s,d,y,S,T),!0;case"mouseover":return Cc=w0(Cc,s,d,y,S,T),!0;case"pointerover":var M=T.pointerId;return A0.set(M,w0(A0.get(M)||null,s,d,y,S,T)),!0;case"gotpointercapture":return M=T.pointerId,E0.set(M,w0(E0.get(M)||null,s,d,y,S,T)),!0}return!1}function WR(s){var d=Bs(s.target);if(d!==null){var y=a(d);if(y!==null){if(d=y.tag,d===13){if(d=l(y),d!==null){s.blockedOn=d,qt(s.priority,function(){if(y.tag===13){var S=pr();S=Jt(S);var T=zu(y,S);T!==null&&Je(T,y,S),lA(y,S)}});return}}else if(d===3&&y.stateNode.current.memoizedState.isDehydrated){s.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}s.blockedOn=null}function cb(s){if(s.blockedOn!==null)return!1;for(var d=s.targetContainers;0<d.length;){var y=cA(s.nativeEvent);if(y===null){y=s.nativeEvent;var S=new y.constructor(y.type,y);yf=S,y.target.dispatchEvent(S),yf=null}else return d=Yo(y),d!==null&&VR(d),s.blockedOn=y,!1;d.shift()}return!0}function HR(s,d,y){cb(s)&&y.delete(d)}function PB(){dA=!1,Ec!==null&&cb(Ec)&&(Ec=null),wc!==null&&cb(wc)&&(wc=null),Cc!==null&&cb(Cc)&&(Cc=null),A0.forEach(HR),E0.forEach(HR)}function fb(s,d){s.blockedOn===d&&(s.blockedOn=null,dA||(dA=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,PB)))}var db=null;function YR(s){db!==s&&(db=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){db===s&&(db=null);for(var d=0;d<s.length;d+=3){var y=s[d],S=s[d+1],T=s[d+2];if(typeof S!="function"){if(fA(S||y)===null)continue;break}var M=Yo(y);M!==null&&(s.splice(d,3),d-=3,ui(M,{pending:!0,data:T,method:y.method,action:S},S,T))}}))}function C0(s){function d(fe){return fb(fe,s)}Ec!==null&&fb(Ec,s),wc!==null&&fb(wc,s),Cc!==null&&fb(Cc,s),A0.forEach(d),E0.forEach(d);for(var y=0;y<Rc.length;y++){var S=Rc[y];S.blockedOn===s&&(S.blockedOn=null)}for(;0<Rc.length&&(y=Rc[0],y.blockedOn===null);)WR(y),y.blockedOn===null&&Rc.shift();if(y=(s.ownerDocument||s).$$reactFormReplay,y!=null)for(S=0;S<y.length;S+=3){var T=y[S],M=y[S+1],W=T[Lt]||null;if(typeof M=="function")W||YR(y);else if(W){var ee=null;if(M&&M.hasAttribute("formAction")){if(T=M,W=M[Lt]||null)ee=W.formAction;else if(fA(T)!==null)continue}else ee=W.action;typeof ee=="function"?y[S+1]=ee:(y.splice(S,3),S-=3),YR(y)}}}function hA(s){this._internalRoot=s}hb.prototype.render=hA.prototype.render=function(s){var d=this._internalRoot;if(d===null)throw Error(r(409));var y=d.current,S=pr();zR(y,S,s,d,null,null)},hb.prototype.unmount=hA.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var d=s.containerInfo;zR(s.current,2,null,s,null,null),fa(),d[An]=null}};function hb(s){this._internalRoot=s}hb.prototype.unstable_scheduleHydration=function(s){if(s){var d=vr();s={blockedOn:null,target:s,priority:d};for(var y=0;y<Rc.length&&d!==0&&d<Rc[y].priority;y++);Rc.splice(y,0,s),y===0&&WR(s)}};var qR=t.version;if(qR!=="19.1.0")throw Error(r(527,qR,"19.1.0"));Ae.findDOMNode=function(s){var d=s._reactInternals;if(d===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=c(d),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var LB={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pb.isDisabled&&pb.supportsFiber)try{qe=pb.inject(LB),He=pb}catch{}}return T0.createRoot=function(s,d){if(!i(s))throw Error(r(299));var y=!1,S="",T=Hm,M=ll,W=Co,ee=null;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(M=d.onCaughtError),d.onRecoverableError!==void 0&&(W=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ee=d.unstable_transitionCallbacks)),d=BR(s,1,!1,null,null,y,S,T,M,W,ee,null),s[An]=d.current,Np(s),new hA(d)},T0.hydrateRoot=function(s,d,y){if(!i(s))throw Error(r(299));var S=!1,T="",M=Hm,W=ll,ee=Co,fe=null,De=null;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(T=y.identifierPrefix),y.onUncaughtError!==void 0&&(M=y.onUncaughtError),y.onCaughtError!==void 0&&(W=y.onCaughtError),y.onRecoverableError!==void 0&&(ee=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(fe=y.unstable_transitionCallbacks),y.formState!==void 0&&(De=y.formState)),d=BR(s,1,!0,d,y??null,S,T,M,W,ee,fe,De),d.context=jR(null),y=d.current,S=pr(),S=Jt(S),T=oi(S),T.callback=null,Zs(y,T,S),y=S,d.current.lanes=y,an(d,y),Ci(d),s[An]=d.current,Np(s),new hb(d)},T0.version="19.1.0",T0}var oT;function HB(){if(oT)return mA.exports;oT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mA.exports=WB(),mA.exports}var YB=HB(),P=AS();const Ke=p3(P),v3=jB({__proto__:null,default:Ke},[P]);var N0={},sT;function qB(){if(sT)return N0;sT=1,Object.defineProperty(N0,"__esModule",{value:!0}),N0.parse=l,N0.serialize=g;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,b){const E=new a,C=x.length;if(C<2)return E;const w=(b==null?void 0:b.decode)||p;let R=0;do{const I=x.indexOf("=",R);if(I===-1)break;const N=x.indexOf(";",R),D=N===-1?C:N;if(I>D){R=x.lastIndexOf(";",I-1)+1;continue}const L=u(x,R,I),k=c(x,I,L),j=x.slice(L,k);if(E[j]===void 0){let B=u(x,I+1,D),$=c(x,D,B);const K=w(x.slice(B,$));E[j]=K}R=D+1}while(R<C);return E}function u(x,b,E){do{const C=x.charCodeAt(b);if(C!==32&&C!==9)return b}while(++b<E);return E}function c(x,b,E){for(;b>E;){const C=x.charCodeAt(--b);if(C!==32&&C!==9)return b+1}return E}function g(x,b,E){const C=(E==null?void 0:E.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const w=C(b);if(!t.test(w))throw new TypeError(`argument val is invalid: ${b}`);let R=x+"="+w;if(!E)return R;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);R+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);R+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);R+="; Path="+E.path}if(E.expires){if(!m(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);R+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(R+="; HttpOnly"),E.secure&&(R+="; Secure"),E.partitioned&&(R+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return R}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function m(x){return i.call(x)==="[object Date]"}return N0}qB();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aT="popstate";function KB(e={}){function t(r,i){let{pathname:a,search:l,hash:u}=r.location;return zw("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Sv(i)}return ZB(t,n,null,e)}function Jn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Is(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XB(){return Math.random().toString(36).substring(2,10)}function lT(e,t){return{usr:e.state,key:e.key,idx:t}}function zw(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vg(t):t,state:n,key:t&&t.key||r||XB()}}function Sv({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ZB(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",c=null,g=p();g==null&&(g=0,l.replaceState({...l.state,idx:g},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let w=p(),R=w==null?null:w-g;g=w,c&&c({action:u,location:C.location,delta:R})}function x(w,R){u="PUSH";let I=zw(C.location,w,R);g=p()+1;let N=lT(I,g),D=C.createHref(I);try{l.pushState(N,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(D)}a&&c&&c({action:u,location:C.location,delta:1})}function b(w,R){u="REPLACE";let I=zw(C.location,w,R);g=p();let N=lT(I,g),D=C.createHref(I);l.replaceState(N,"",D),a&&c&&c({action:u,location:C.location,delta:0})}function E(w){let R=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof w=="string"?w:Sv(w);return I=I.replace(/ $/,"%20"),Jn(R,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,R)}let C={get action(){return u},get location(){return e(i,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(aT,m),c=w,()=>{i.removeEventListener(aT,m),c=null}},createHref(w){return t(i,w)},createURL:E,encodeLocation(w){let R=E(w);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:b,go(w){return l.go(w)}};return C}function y3(e,t,n="/"){return JB(e,t,n,!1)}function JB(e,t,n,r){let i=typeof t=="string"?vg(t):t,a=Nu(i.pathname||"/",n);if(a==null)return null;let l=x3(e);QB(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let g=cj(a);u=lj(l[c],g,r)}return u}function x3(e,t=[],n=[],r=""){let i=(a,l,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(Jn(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let g=Ru([r,c.relativePath]),p=n.concat(c);a.children&&a.children.length>0&&(Jn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),x3(a.children,t,p,g)),!(a.path==null&&!a.index)&&t.push({path:g,score:sj(g,a.index),routesMeta:p})};return e.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let c of b3(a.path))i(a,l,c)}),t}function b3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=b3(r.join("/")),u=[];return u.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function QB(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:aj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ej=/^:[\w-]+$/,tj=3,nj=2,rj=1,ij=10,oj=-2,uT=e=>e==="*";function sj(e,t){let n=e.split("/"),r=n.length;return n.some(uT)&&(r+=oj),t&&(r+=nj),n.filter(i=>!uT(i)).reduce((i,a)=>i+(ej.test(a)?tj:a===""?rj:ij),r)}function aj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function lj(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],g=u===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=eS({path:c.relativePath,caseSensitive:c.caseSensitive,end:g},p),x=c.route;if(!m&&g&&n&&!r[r.length-1].route.index&&(m=eS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Ru([a,m.pathname]),pathnameBase:pj(Ru([a,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(a=Ru([a,m.pathnameBase]))}return l}function eS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=uj(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((g,{paramName:p,isOptional:m},x)=>{if(p==="*"){let E=u[x]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const b=u[x];return m&&!b?g[p]=void 0:g[p]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:l,pattern:e}}function uj(e,t=!1,n=!0){Is(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function cj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Is(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Nu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function fj(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?vg(e):e;return{pathname:n?n.startsWith("/")?n:dj(n,t):t,search:gj(r),hash:mj(i)}}function dj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function SA(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function WC(e){let t=hj(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function HC(e,t,n,r=!1){let i;typeof e=="string"?i=vg(e):(i={...e},Jn(!i.pathname||!i.pathname.includes("?"),SA("?","pathname","search",i)),Jn(!i.pathname||!i.pathname.includes("#"),SA("#","pathname","hash",i)),Jn(!i.search||!i.search.includes("#"),SA("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;i.pathname=x.join("/")}u=m>=0?t[m]:"/"}let c=fj(i,u),g=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(g||p)&&(c.pathname+="/"),c}var Ru=e=>e.join("/").replace(/\/\/+/g,"/"),pj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var S3=["POST","PUT","PATCH","DELETE"];new Set(S3);var yj=["GET",...S3];new Set(yj);var yg=P.createContext(null);yg.displayName="DataRouter";var ES=P.createContext(null);ES.displayName="DataRouterState";var A3=P.createContext({isTransitioning:!1});A3.displayName="ViewTransition";var xj=P.createContext(new Map);xj.displayName="Fetchers";var bj=P.createContext(null);bj.displayName="Await";var Ps=P.createContext(null);Ps.displayName="Navigation";var Lv=P.createContext(null);Lv.displayName="Location";var Wo=P.createContext({outlet:null,matches:[],isDataRoute:!1});Wo.displayName="Route";var YC=P.createContext(null);YC.displayName="RouteError";function Sj(e,{relative:t}={}){Jn(xg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(Ps),{hash:i,pathname:a,search:l}=Fv(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:Ru([n,a])),r.createHref({pathname:u,search:l,hash:i})}function xg(){return P.useContext(Lv)!=null}function ka(){return Jn(xg(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Lv).location}var E3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w3(e){P.useContext(Ps).static||P.useLayoutEffect(e)}function qC(){let{isDataRoute:e}=P.useContext(Wo);return e?Fj():Aj()}function Aj(){Jn(xg(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(yg),{basename:t,navigator:n}=P.useContext(Ps),{matches:r}=P.useContext(Wo),{pathname:i}=ka(),a=JSON.stringify(WC(r)),l=P.useRef(!1);return w3(()=>{l.current=!0}),P.useCallback((c,g={})=>{if(Is(l.current,E3),!l.current)return;if(typeof c=="number"){n.go(c);return}let p=HC(c,JSON.parse(a),i,g.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ru([t,p.pathname])),(g.replace?n.replace:n.push)(p,g.state,g)},[t,n,a,i,e])}var Ej=P.createContext(null);function wj(e){let t=P.useContext(Wo).outlet;return t&&P.createElement(Ej.Provider,{value:e},t)}function C3(){let{matches:e}=P.useContext(Wo),t=e[e.length-1];return t?t.params:{}}function Fv(e,{relative:t}={}){let{matches:n}=P.useContext(Wo),{pathname:r}=ka(),i=JSON.stringify(WC(n));return P.useMemo(()=>HC(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Cj(e,t){return R3(e,t)}function R3(e,t,n,r){var I;Jn(xg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=P.useContext(Ps),{matches:l}=P.useContext(Wo),u=l[l.length-1],c=u?u.params:{},g=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let N=m&&m.path||"";T3(g,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=ka(),b;if(t){let N=typeof t=="string"?vg(t):t;Jn(p==="/"||((I=N.pathname)==null?void 0:I.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=x;let E=b.pathname||"/",C=E;if(p!=="/"){let N=p.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=!a&&n&&n.matches&&n.matches.length>0?n.matches:y3(e,{pathname:C});Is(m||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Is(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Ij(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Ru([p,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Ru([p,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,n,r);return t&&R?P.createElement(Lv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function Rj(){let e=Lj(),t=vj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,l)}var Tj=P.createElement(Rj,null),Nj=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(Wo.Provider,{value:this.props.routeContext},P.createElement(YC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _j({routeContext:e,match:t,children:n}){let r=P.useContext(yg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Wo.Provider,{value:e},n)}function Ij(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=n==null?void 0:n.errors;if(a!=null){let c=i.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);Jn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let l=!1,u=-1;if(n)for(let c=0;c<i.length;c++){let g=i[c];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=c),g.route.id){let{loaderData:p,errors:m}=n,x=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,g,p)=>{let m,x=!1,b=null,E=null;n&&(m=a&&g.route.id?a[g.route.id]:void 0,b=g.route.errorElement||Tj,l&&(u<0&&p===0?(T3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):u===p&&(x=!0,E=g.route.hydrateFallbackElement||null)));let C=t.concat(i.slice(0,p+1)),w=()=>{let R;return m?R=b:x?R=E:g.route.Component?R=P.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=c,P.createElement(_j,{match:g,routeContext:{outlet:c,matches:C,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?P.createElement(Nj,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}function KC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Oj(e){let t=P.useContext(yg);return Jn(t,KC(e)),t}function Dj(e){let t=P.useContext(ES);return Jn(t,KC(e)),t}function Mj(e){let t=P.useContext(Wo);return Jn(t,KC(e)),t}function XC(e){let t=Mj(e),n=t.matches[t.matches.length-1];return Jn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Pj(){return XC("useRouteId")}function Lj(){var r;let e=P.useContext(YC),t=Dj("useRouteError"),n=XC("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Fj(){let{router:e}=Oj("useNavigate"),t=XC("useNavigate"),n=P.useRef(!1);return w3(()=>{n.current=!0}),P.useCallback(async(i,a={})=>{Is(n.current,E3),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var cT={};function T3(e,t,n){!t&&!cT[e]&&(cT[e]=!0,Is(!1,n))}P.memo(kj);function kj({routes:e,future:t,state:n}){return R3(e,void 0,n,t)}function N3({to:e,replace:t,state:n,relative:r}){Jn(xg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=P.useContext(Ps);Is(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=P.useContext(Wo),{pathname:l}=ka(),u=qC(),c=HC(e,WC(a),l,r==="path"),g=JSON.stringify(c);return P.useEffect(()=>{u(JSON.parse(g),{replace:t,state:n,relative:r})},[u,g,r,t,n]),null}function ZC(e){return wj(e.context)}function Sa(e){Jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bj({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Jn(!xg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=vg(n));let{pathname:c="/",search:g="",hash:p="",state:m=null,key:x="default"}=n,b=P.useMemo(()=>{let E=Nu(c,l);return E==null?null:{location:{pathname:E,search:g,hash:p,state:m,key:x},navigationType:r}},[l,c,g,p,m,x,r]);return Is(b!=null,`<Router basename="${l}"> is not able to match the URL "${c}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Ps.Provider,{value:u},P.createElement(Lv.Provider,{children:t,value:b}))}function jj({children:e,location:t}){return Cj(Uw(e),t)}function Uw(e,t=[]){let n=[];return P.Children.forEach(e,(r,i)=>{if(!P.isValidElement(r))return;let a=[...t,i];if(r.type===P.Fragment){n.push.apply(n,Uw(r.props.children,a));return}Jn(r.type===Sa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Uw(r.props.children,a)),n.push(l)}),n}var jb="get",zb="application/x-www-form-urlencoded";function wS(e){return e!=null&&typeof e.tagName=="string"}function zj(e){return wS(e)&&e.tagName.toLowerCase()==="button"}function Uj(e){return wS(e)&&e.tagName.toLowerCase()==="form"}function Vj(e){return wS(e)&&e.tagName.toLowerCase()==="input"}function Gj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $j(e,t){return e.button===0&&(!t||t==="_self")&&!Gj(e)}var mb=null;function Wj(){if(mb===null)try{new FormData(document.createElement("form"),0),mb=!1}catch{mb=!0}return mb}var Hj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function AA(e){return e!=null&&!Hj.has(e)?(Is(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zb}"`),null):e}function Yj(e,t){let n,r,i,a,l;if(Uj(e)){let u=e.getAttribute("action");r=u?Nu(u,t):null,n=e.getAttribute("method")||jb,i=AA(e.getAttribute("enctype"))||zb,a=new FormData(e)}else if(zj(e)||Vj(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||u.getAttribute("action");if(r=c?Nu(c,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||jb,i=AA(e.getAttribute("formenctype"))||AA(u.getAttribute("enctype"))||zb,a=new FormData(u,e),!Wj()){let{name:g,type:p,value:m}=e;if(p==="image"){let x=g?`${g}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else g&&a.append(g,m)}}else{if(wS(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jb,r=null,i=zb,l=e}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}function JC(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function qj(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Xj(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await qj(a,n);return l.links?l.links():[]}return[]}));return ez(r.flat(1).filter(Kj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function fT(e,t,n,r,i,a){let l=(c,g)=>n[g]?c.route.id!==n[g].route.id:!0,u=(c,g)=>{var p;return n[g].pathname!==c.pathname||((p=n[g].route.path)==null?void 0:p.endsWith("*"))&&n[g].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,g)=>l(c,g)||u(c,g)):a==="data"?t.filter((c,g)=>{var m;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(l(c,g)||u(c,g))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Zj(e,t,{includeHydrateFallback:n}={}){return Jj(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Jj(e){return[...new Set(e)]}function Qj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ez(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(Qj(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function tz(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Nu(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function _3(){let e=P.useContext(yg);return JC(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nz(){let e=P.useContext(ES);return JC(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var QC=P.createContext(void 0);QC.displayName="FrameworkContext";function I3(){let e=P.useContext(QC);return JC(e,"You must render this element inside a <HydratedRouter> element"),e}function rz(e,t){let n=P.useContext(QC),[r,i]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:g,onMouseLeave:p,onTouchStart:m}=t,x=P.useRef(null);P.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let C=R=>{R.forEach(I=>{l(I.isIntersecting)})},w=new IntersectionObserver(C,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[e]),P.useEffect(()=>{if(r){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[r]);let b=()=>{i(!0)},E=()=>{i(!1),l(!1)};return n?e!=="intent"?[a,x,{}]:[a,x,{onFocus:_0(u,b),onBlur:_0(c,E),onMouseEnter:_0(g,b),onMouseLeave:_0(p,E),onTouchStart:_0(m,b)}]:[!1,x,{}]}function _0(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function iz({page:e,...t}){let{router:n}=_3(),r=P.useMemo(()=>y3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?P.createElement(sz,{page:e,matches:r,...t}):null}function oz(e){let{manifest:t,routeModules:n}=I3(),[r,i]=P.useState([]);return P.useEffect(()=>{let a=!1;return Xj(e,t,n).then(l=>{a||i(l)}),()=>{a=!0}},[e,t,n]),r}function sz({page:e,matches:t,...n}){let r=ka(),{manifest:i,routeModules:a}=I3(),{basename:l}=_3(),{loaderData:u,matches:c}=nz(),g=P.useMemo(()=>fT(e,t,c,i,r,"data"),[e,t,c,i,r]),p=P.useMemo(()=>fT(e,t,c,i,r,"assets"),[e,t,c,i,r]),m=P.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let E=new Set,C=!1;if(t.forEach(R=>{var N;let I=i.routes[R.route.id];!I||!I.hasLoader||(!g.some(D=>D.route.id===R.route.id)&&R.route.id in u&&((N=a[R.route.id])!=null&&N.shouldRevalidate)||I.hasClientLoader?C=!0:E.add(R.route.id))}),E.size===0)return[];let w=tz(e,l);return C&&E.size>0&&w.searchParams.set("_routes",t.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[w.pathname+w.search]},[l,u,r,i,g,t,e,a]),x=P.useMemo(()=>Zj(p,i),[p,i]),b=oz(p);return P.createElement(P.Fragment,null,m.map(E=>P.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>P.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),b.map(({key:E,link:C})=>P.createElement("link",{key:E,...C})))}function az(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var O3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O3&&(window.__reactRouterVersion="7.5.0")}catch{}function lz({basename:e,children:t,window:n}){let r=P.useRef();r.current==null&&(r.current=KB({window:n,v5Compat:!0}));let i=r.current,[a,l]=P.useState({action:i.action,location:i.location}),u=P.useCallback(c=>{P.startTransition(()=>l(c))},[l]);return P.useLayoutEffect(()=>i.listen(u),[i,u]),P.createElement(Bj,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var D3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bg=P.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:c,to:g,preventScrollReset:p,viewTransition:m,...x},b){let{basename:E}=P.useContext(Ps),C=typeof g=="string"&&D3.test(g),w,R=!1;if(typeof g=="string"&&C&&(w=g,O3))try{let $=new URL(window.location.href),K=g.startsWith("//")?new URL($.protocol+g):new URL(g),ne=Nu(K.pathname,E);K.origin===$.origin&&ne!=null?g=ne+K.search+K.hash:R=!0}catch{Is(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=Sj(g,{relative:i}),[N,D,L]=rz(r,x),k=dz(g,{replace:l,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:m});function j($){t&&t($),$.defaultPrevented||k($)}let B=P.createElement("a",{...x,...L,href:w||I,onClick:R||a?t:j,ref:az(b,D),target:c,"data-discover":!C&&n==="render"?"true":void 0});return N&&!C?P.createElement(P.Fragment,null,B,P.createElement(iz,{page:I})):B});bg.displayName="Link";var uz=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:c,...g},p){let m=Fv(l,{relative:g.relative}),x=ka(),b=P.useContext(ES),{navigator:E,basename:C}=P.useContext(Ps),w=b!=null&&vz(m)&&u===!0,R=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,I=x.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(I=I.toLowerCase(),N=N?N.toLowerCase():null,R=R.toLowerCase()),N&&C&&(N=Nu(N,C)||N);const D=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let L=I===R||!i&&I.startsWith(R)&&I.charAt(D)==="/",k=N!=null&&(N===R||!i&&N.startsWith(R)&&N.charAt(R.length)==="/"),j={isActive:L,isPending:k,isTransitioning:w},B=L?t:void 0,$;typeof r=="function"?$=r(j):$=[r,L?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(j):a;return P.createElement(bg,{...g,"aria-current":B,className:$,ref:p,style:K,to:l,viewTransition:u},typeof c=="function"?c(j):c)});uz.displayName="NavLink";var cz=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:l=jb,action:u,onSubmit:c,relative:g,preventScrollReset:p,viewTransition:m,...x},b)=>{let E=gz(),C=mz(u,{relative:g}),w=l.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&D3.test(u),I=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let D=N.nativeEvent.submitter,L=(D==null?void 0:D.getAttribute("formmethod"))||l;E(D||N.currentTarget,{fetcherKey:t,method:L,navigate:n,replace:i,state:a,relative:g,preventScrollReset:p,viewTransition:m})};return P.createElement("form",{ref:b,method:w,action:C,onSubmit:r?c:I,...x,"data-discover":!R&&e==="render"?"true":void 0})});cz.displayName="Form";function fz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M3(e){let t=P.useContext(yg);return Jn(t,fz(e)),t}function dz(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=qC(),c=ka(),g=Fv(e,{relative:a});return P.useCallback(p=>{if($j(p,t)){p.preventDefault();let m=n!==void 0?n:Sv(c)===Sv(g);u(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[c,u,g,n,r,t,e,i,a,l])}var hz=0,pz=()=>`__${String(++hz)}__`;function gz(){let{router:e}=M3("useSubmit"),{basename:t}=P.useContext(Ps),n=Pj();return P.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:c,body:g}=Yj(r,t);if(i.navigate===!1){let p=i.fetcherKey||pz();await e.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:g,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:g,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function mz(e,{relative:t}={}){let{basename:n}=P.useContext(Ps),r=P.useContext(Wo);Jn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Fv(e||".",{relative:t})},l=ka();if(e==null){a.search=l.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ru([n,a.pathname])),Sv(a)}function vz(e,t={}){let n=P.useContext(A3);Jn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=M3("useViewTransitionState"),i=Fv(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Nu(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Nu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return eS(i.pathname,l)!=null||eS(i.pathname,a)!=null}new TextEncoder;var _a=m3();const P3=p3(_a);var Sg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fh=typeof window>"u"||"Deno"in globalThis;function Vo(){}function yz(e,t){return typeof e=="function"?e(t):e}function Vw(e){return typeof e=="number"&&e>=0&&e!==1/0}function L3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hp(e,t){return typeof e=="function"?e(t):e}function Ns(e,t){return typeof e=="function"?e(t):e}function dT(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==e2(l,t.options))return!1}else if(!Av(t.queryKey,l))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||a&&!a(t))}function hT(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(dh(t.options.mutationKey)!==dh(a))return!1}else if(!Av(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function e2(e,t){return((t==null?void 0:t.queryKeyHashFn)||dh)(e)}function dh(e){return JSON.stringify(e,(t,n)=>Gw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Av(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Av(e[n],t[n])):!1}function F3(e,t){if(e===t)return e;const n=pT(e)&&pT(t);if(n||Gw(e)&&Gw(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),l=a.length,u=n?[]:{};let c=0;for(let g=0;g<l;g++){const p=n?g:a[g];(!n&&r.includes(p)||n)&&e[p]===void 0&&t[p]===void 0?(u[p]=void 0,c++):(u[p]=F3(e[p],t[p]),u[p]===e[p]&&e[p]!==void 0&&c++)}return i===l&&c===i?e:u}return t}function tS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function pT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gw(e){if(!gT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!gT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function gT(e){return Object.prototype.toString.call(e)==="[object Object]"}function xz(e){return new Promise(t=>{setTimeout(t,e)})}function $w(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?F3(e,t):t}function bz(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Sz(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var t2=Symbol();function k3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===t2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var nh,Fc,Jp,r3,Az=(r3=class extends Sg{constructor(){super();Et(this,nh);Et(this,Fc);Et(this,Jp);st(this,Jp,t=>{if(!fh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){pe(this,Fc)||this.setEventListener(pe(this,Jp))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Fc))==null||t.call(this),st(this,Fc,void 0))}setEventListener(t){var n;st(this,Jp,t),(n=pe(this,Fc))==null||n.call(this),st(this,Fc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){pe(this,nh)!==t&&(st(this,nh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof pe(this,nh)=="boolean"?pe(this,nh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},nh=new WeakMap,Fc=new WeakMap,Jp=new WeakMap,r3),n2=new Az,Qp,kc,eg,i3,Ez=(i3=class extends Sg{constructor(){super();Et(this,Qp,!0);Et(this,kc);Et(this,eg);st(this,eg,t=>{if(!fh&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){pe(this,kc)||this.setEventListener(pe(this,eg))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,kc))==null||t.call(this),st(this,kc,void 0))}setEventListener(t){var n;st(this,eg,t),(n=pe(this,kc))==null||n.call(this),st(this,kc,t(this.setOnline.bind(this)))}setOnline(t){pe(this,Qp)!==t&&(st(this,Qp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return pe(this,Qp)}},Qp=new WeakMap,kc=new WeakMap,eg=new WeakMap,i3),nS=new Ez;function Ww(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function wz(e){return Math.min(1e3*2**e,3e4)}function B3(e){return(e??"online")==="online"?nS.isOnline():!0}var j3=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function EA(e){return e instanceof j3}function z3(e){let t=!1,n=0,r=!1,i;const a=Ww(),l=C=>{var w;r||(x(new j3(C)),(w=e.abort)==null||w.call(e))},u=()=>{t=!0},c=()=>{t=!1},g=()=>n2.isFocused()&&(e.networkMode==="always"||nS.isOnline())&&e.canRun(),p=()=>B3(e.networkMode)&&e.canRun(),m=C=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,C),i==null||i(),a.resolve(C))},x=C=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,C),i==null||i(),a.reject(C))},b=()=>new Promise(C=>{var w;i=R=>{(r||g())&&C(R)},(w=e.onPause)==null||w.call(e)}).then(()=>{var C;i=void 0,r||(C=e.onContinue)==null||C.call(e)}),E=()=>{if(r)return;let C;const w=n===0?e.initialPromise:void 0;try{C=w??e.fn()}catch(R){C=Promise.reject(R)}Promise.resolve(C).then(m).catch(R=>{var k;if(r)return;const I=e.retry??(fh?0:3),N=e.retryDelay??wz,D=typeof N=="function"?N(n,R):N,L=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,R);if(t||!L){x(R);return}n++,(k=e.onFail)==null||k.call(e,n,R),xz(D).then(()=>g()?void 0:b()).then(()=>{t?x(R):E()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:c,canStart:p,start:()=>(p()?E():b().then(E),a)}}var Cz=e=>setTimeout(e,0);function Rz(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=Cz;const a=u=>{t?e.push(u):i(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;t++;try{c=u()}finally{t--,t||l()}return c},batchCalls:u=>(...c)=>{a(()=>{u(...c)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var Mr=Rz(),rh,o3,U3=(o3=class{constructor(){Et(this,rh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vw(this.gcTime)&&st(this,rh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(fh?1/0:5*60*1e3))}clearGcTimeout(){pe(this,rh)&&(clearTimeout(pe(this,rh)),st(this,rh,void 0))}},rh=new WeakMap,o3),tg,ng,Uo,ih,vi,Ov,oh,Rs,Au,s3,Tz=(s3=class extends U3{constructor(t){super();Et(this,Rs);Et(this,tg);Et(this,ng);Et(this,Uo);Et(this,ih);Et(this,vi);Et(this,Ov);Et(this,oh);st(this,oh,!1),st(this,Ov,t.defaultOptions),this.setOptions(t.options),this.observers=[],st(this,ih,t.client),st(this,Uo,pe(this,ih).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,st(this,tg,Nz(this.options)),this.state=t.state??pe(this,tg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=pe(this,vi))==null?void 0:t.promise}setOptions(t){this.options={...pe(this,Ov),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,Uo).remove(this)}setData(t,n){const r=$w(this.state.data,t,this.options);return Ht(this,Rs,Au).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ht(this,Rs,Au).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=pe(this,vi))==null?void 0:r.promise;return(i=pe(this,vi))==null||i.cancel(t),n?n.then(Vo).catch(Vo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,tg))}isActive(){return this.observers.some(t=>Ns(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===t2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!L3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=pe(this,vi))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=pe(this,vi))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),pe(this,Uo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(pe(this,vi)&&(pe(this,oh)?pe(this,vi).cancel({revert:!0}):pe(this,vi).cancelRetry()),this.scheduleGc()),pe(this,Uo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,Rs,Au).call(this,{type:"invalidate"})}fetch(t,n){var c,g,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(pe(this,vi))return pe(this,vi).continueRetry(),pe(this,vi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(st(this,oh,!0),r.signal)})},a=()=>{const m=k3(this.options,n),x={client:pe(this,ih),queryKey:this.queryKey,meta:this.meta};return i(x),st(this,oh,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:pe(this,ih),state:this.state,fetchFn:a};i(l),(c=this.options.behavior)==null||c.onFetch(l,this),st(this,ng,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=l.fetchOptions)==null?void 0:g.meta))&&Ht(this,Rs,Au).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=m=>{var x,b,E,C;EA(m)&&m.silent||Ht(this,Rs,Au).call(this,{type:"error",error:m}),EA(m)||((b=(x=pe(this,Uo).config).onError)==null||b.call(x,m,this),(C=(E=pe(this,Uo).config).onSettled)==null||C.call(E,this.state.data,m,this)),this.scheduleGc()};return st(this,vi,z3({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var x,b,E,C;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){u(w);return}(b=(x=pe(this,Uo).config).onSuccess)==null||b.call(x,m,this),(C=(E=pe(this,Uo).config).onSettled)==null||C.call(E,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,x)=>{Ht(this,Rs,Au).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{Ht(this,Rs,Au).call(this,{type:"pause"})},onContinue:()=>{Ht(this,Rs,Au).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),pe(this,vi).start()}},tg=new WeakMap,ng=new WeakMap,Uo=new WeakMap,ih=new WeakMap,vi=new WeakMap,Ov=new WeakMap,oh=new WeakMap,Rs=new WeakSet,Au=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...V3(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return EA(i)&&i.revert&&pe(this,ng)?{...pe(this,ng),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Mr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),pe(this,Uo).notify({query:this,type:"updated",action:t})})},s3);function V3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:B3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Nz(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Aa,a3,_z=(a3=class extends Sg{constructor(t={}){super();Et(this,Aa);this.config=t,st(this,Aa,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??e2(i,n);let l=this.get(a);return l||(l=new Tz({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){pe(this,Aa).has(t.queryHash)||(pe(this,Aa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=pe(this,Aa).get(t.queryHash);n&&(t.destroy(),n===t&&pe(this,Aa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Mr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return pe(this,Aa).get(t)}getAll(){return[...pe(this,Aa).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>dT(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>dT(t,r)):n}notify(t){Mr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Mr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Mr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Aa=new WeakMap,a3),Ea,Ti,sh,wa,Ic,l3,Iz=(l3=class extends U3{constructor(t){super();Et(this,wa);Et(this,Ea);Et(this,Ti);Et(this,sh);this.mutationId=t.mutationId,st(this,Ti,t.mutationCache),st(this,Ea,[]),this.state=t.state||G3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){pe(this,Ea).includes(t)||(pe(this,Ea).push(t),this.clearGcTimeout(),pe(this,Ti).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){st(this,Ea,pe(this,Ea).filter(n=>n!==t)),this.scheduleGc(),pe(this,Ti).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){pe(this,Ea).length||(this.state.status==="pending"?this.scheduleGc():pe(this,Ti).remove(this))}continue(){var t;return((t=pe(this,sh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,u,c,g,p,m,x,b,E,C,w,R,I,N,D,L,k,j,B;const n=()=>{Ht(this,wa,Ic).call(this,{type:"continue"})};st(this,sh,z3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:($,K)=>{Ht(this,wa,Ic).call(this,{type:"failed",failureCount:$,error:K})},onPause:()=>{Ht(this,wa,Ic).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,Ti).canRun(this)}));const r=this.state.status==="pending",i=!pe(this,sh).canStart();try{if(r)n();else{Ht(this,wa,Ic).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(a=pe(this,Ti).config).onMutate)==null?void 0:l.call(a,t,this));const K=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t));K!==this.state.context&&Ht(this,wa,Ic).call(this,{type:"pending",context:K,variables:t,isPaused:i})}const $=await pe(this,sh).start();return await((p=(g=pe(this,Ti).config).onSuccess)==null?void 0:p.call(g,$,t,this.state.context,this)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,$,t,this.state.context)),await((E=(b=pe(this,Ti).config).onSettled)==null?void 0:E.call(b,$,null,this.state.variables,this.state.context,this)),await((w=(C=this.options).onSettled)==null?void 0:w.call(C,$,null,t,this.state.context)),Ht(this,wa,Ic).call(this,{type:"success",data:$}),$}catch($){try{throw await((I=(R=pe(this,Ti).config).onError)==null?void 0:I.call(R,$,t,this.state.context,this)),await((D=(N=this.options).onError)==null?void 0:D.call(N,$,t,this.state.context)),await((k=(L=pe(this,Ti).config).onSettled)==null?void 0:k.call(L,void 0,$,this.state.variables,this.state.context,this)),await((B=(j=this.options).onSettled)==null?void 0:B.call(j,void 0,$,t,this.state.context)),$}finally{Ht(this,wa,Ic).call(this,{type:"error",error:$})}}finally{pe(this,Ti).runNext(this)}}},Ea=new WeakMap,Ti=new WeakMap,sh=new WeakMap,wa=new WeakSet,Ic=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Mr.batch(()=>{pe(this,Ea).forEach(r=>{r.onMutationUpdate(t)}),pe(this,Ti).notify({mutation:this,type:"updated",action:t})})},l3);function G3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wu,Ts,Dv,u3,Oz=(u3=class extends Sg{constructor(t={}){super();Et(this,wu);Et(this,Ts);Et(this,Dv);this.config=t,st(this,wu,new Set),st(this,Ts,new Map),st(this,Dv,0)}build(t,n,r){const i=new Iz({mutationCache:this,mutationId:++gb(this,Dv)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){pe(this,wu).add(t);const n=vb(t);if(typeof n=="string"){const r=pe(this,Ts).get(n);r?r.push(t):pe(this,Ts).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(pe(this,wu).delete(t)){const n=vb(t);if(typeof n=="string"){const r=pe(this,Ts).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&pe(this,Ts).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=vb(t);if(typeof n=="string"){const r=pe(this,Ts).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=vb(t);if(typeof n=="string"){const i=(r=pe(this,Ts).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mr.batch(()=>{pe(this,wu).forEach(t=>{this.notify({type:"removed",mutation:t})}),pe(this,wu).clear(),pe(this,Ts).clear()})}getAll(){return Array.from(pe(this,wu))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>hT(n,r))}findAll(t={}){return this.getAll().filter(n=>hT(t,n))}notify(t){Mr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Mr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Vo))))}},wu=new WeakMap,Ts=new WeakMap,Dv=new WeakMap,u3);function vb(e){var t;return(t=e.options.scope)==null?void 0:t.id}function mT(e){return{onFetch:(t,n)=>{var p,m,x,b,E;const r=t.options,i=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,a=((b=t.state.data)==null?void 0:b.pages)||[],l=((E=t.state.data)==null?void 0:E.pageParams)||[];let u={pages:[],pageParams:[]},c=0;const g=async()=>{let C=!1;const w=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},R=k3(t.options,t.fetchOptions),I=async(N,D,L)=>{if(C)return Promise.reject();if(D==null&&N.pages.length)return Promise.resolve(N);const k={client:t.client,queryKey:t.queryKey,pageParam:D,direction:L?"backward":"forward",meta:t.options.meta};w(k);const j=await R(k),{maxPages:B}=t.options,$=L?Sz:bz;return{pages:$(N.pages,j,B),pageParams:$(N.pageParams,D,B)}};if(i&&a.length){const N=i==="backward",D=N?Dz:vT,L={pages:a,pageParams:l},k=D(r,L);u=await I(L,k,N)}else{const N=e??a.length;do{const D=c===0?l[0]??r.initialPageParam:vT(r,u);if(c>0&&D==null)break;u=await I(u,D),c++}while(c<N)}return u};t.options.persister?t.fetchFn=()=>{var C,w;return(w=(C=t.options).persister)==null?void 0:w.call(C,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function vT(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Dz(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ur,Bc,jc,rg,ig,zc,og,sg,c3,Mz=(c3=class{constructor(e={}){Et(this,ur);Et(this,Bc);Et(this,jc);Et(this,rg);Et(this,ig);Et(this,zc);Et(this,og);Et(this,sg);st(this,ur,e.queryCache||new _z),st(this,Bc,e.mutationCache||new Oz),st(this,jc,e.defaultOptions||{}),st(this,rg,new Map),st(this,ig,new Map),st(this,zc,0)}mount(){gb(this,zc)._++,pe(this,zc)===1&&(st(this,og,n2.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,ur).onFocus())})),st(this,sg,nS.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,ur).onOnline())})))}unmount(){var e,t;gb(this,zc)._--,pe(this,zc)===0&&((e=pe(this,og))==null||e.call(this),st(this,og,void 0),(t=pe(this,sg))==null||t.call(this),st(this,sg,void 0))}isFetching(e){return pe(this,ur).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return pe(this,Bc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=pe(this,ur).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=pe(this,ur).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Hp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return pe(this,ur).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=pe(this,ur).get(r.queryHash),a=i==null?void 0:i.state.data,l=yz(t,a);if(l!==void 0)return pe(this,ur).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Mr.batch(()=>pe(this,ur).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=pe(this,ur).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=pe(this,ur);Mr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=pe(this,ur);return Mr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Mr.batch(()=>pe(this,ur).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Vo).catch(Vo)}invalidateQueries(e,t={}){return Mr.batch(()=>(pe(this,ur).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Mr.batch(()=>pe(this,ur).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Vo)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Vo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=pe(this,ur).build(this,t);return n.isStaleByTime(Hp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vo).catch(Vo)}fetchInfiniteQuery(e){return e.behavior=mT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vo).catch(Vo)}ensureInfiniteQueryData(e){return e.behavior=mT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nS.isOnline()?pe(this,Bc).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,ur)}getMutationCache(){return pe(this,Bc)}getDefaultOptions(){return pe(this,jc)}setDefaultOptions(e){st(this,jc,e)}setQueryDefaults(e,t){pe(this,rg).set(dh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...pe(this,rg).values()],n={};return t.forEach(r=>{Av(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){pe(this,ig).set(dh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...pe(this,ig).values()],n={};return t.forEach(r=>{Av(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...pe(this,jc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=e2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===t2&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...pe(this,jc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){pe(this,ur).clear(),pe(this,Bc).clear()}},ur=new WeakMap,Bc=new WeakMap,jc=new WeakMap,rg=new WeakMap,ig=new WeakMap,zc=new WeakMap,og=new WeakMap,sg=new WeakMap,c3),Yi,nn,Mv,Ni,ah,ag,Uc,Vc,Pv,lg,ug,lh,uh,Gc,cg,In,ov,Hw,Yw,qw,Kw,Xw,Zw,Jw,$3,f3,Pz=(f3=class extends Sg{constructor(t,n){super();Et(this,In);Et(this,Yi);Et(this,nn);Et(this,Mv);Et(this,Ni);Et(this,ah);Et(this,ag);Et(this,Uc);Et(this,Vc);Et(this,Pv);Et(this,lg);Et(this,ug);Et(this,lh);Et(this,uh);Et(this,Gc);Et(this,cg,new Set);this.options=n,st(this,Yi,t),st(this,Vc,null),st(this,Uc,Ww()),this.options.experimental_prefetchInRender||pe(this,Uc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,nn).addObserver(this),yT(pe(this,nn),this.options)?Ht(this,In,ov).call(this):this.updateResult(),Ht(this,In,Kw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qw(pe(this,nn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qw(pe(this,nn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ht(this,In,Xw).call(this),Ht(this,In,Zw).call(this),pe(this,nn).removeObserver(this)}setOptions(t){const n=this.options,r=pe(this,nn);if(this.options=pe(this,Yi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ns(this.options.enabled,pe(this,nn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ht(this,In,Jw).call(this),pe(this,nn).setOptions(this.options),n._defaulted&&!tS(this.options,n)&&pe(this,Yi).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,nn),observer:this});const i=this.hasListeners();i&&xT(pe(this,nn),r,this.options,n)&&Ht(this,In,ov).call(this),this.updateResult(),i&&(pe(this,nn)!==r||Ns(this.options.enabled,pe(this,nn))!==Ns(n.enabled,pe(this,nn))||Hp(this.options.staleTime,pe(this,nn))!==Hp(n.staleTime,pe(this,nn)))&&Ht(this,In,Hw).call(this);const a=Ht(this,In,Yw).call(this);i&&(pe(this,nn)!==r||Ns(this.options.enabled,pe(this,nn))!==Ns(n.enabled,pe(this,nn))||a!==pe(this,Gc))&&Ht(this,In,qw).call(this,a)}getOptimisticResult(t){const n=pe(this,Yi).getQueryCache().build(pe(this,Yi),t),r=this.createResult(n,t);return Fz(this,r)&&(st(this,Ni,r),st(this,ag,this.options),st(this,ah,pe(this,nn).state)),r}getCurrentResult(){return pe(this,Ni)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){pe(this,cg).add(t)}getCurrentQuery(){return pe(this,nn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=pe(this,Yi).defaultQueryOptions(t),r=pe(this,Yi).getQueryCache().build(pe(this,Yi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ht(this,In,ov).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,Ni)))}createResult(t,n){var $;const r=pe(this,nn),i=this.options,a=pe(this,Ni),l=pe(this,ah),u=pe(this,ag),g=t!==r?t.state:pe(this,Mv),{state:p}=t;let m={...p},x=!1,b;if(n._optimisticResults){const K=this.hasListeners(),ne=!K&&yT(t,n),re=K&&xT(t,r,n,i);(ne||re)&&(m={...m,...V3(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:E,errorUpdatedAt:C,status:w}=m;b=m.data;let R=!1;if(n.placeholderData!==void 0&&b===void 0&&w==="pending"){let K;a!=null&&a.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(K=a.data,R=!0):K=typeof n.placeholderData=="function"?n.placeholderData(($=pe(this,ug))==null?void 0:$.state.data,pe(this,ug)):n.placeholderData,K!==void 0&&(w="success",b=$w(a==null?void 0:a.data,K,n),x=!0)}if(n.select&&b!==void 0&&!R)if(a&&b===(l==null?void 0:l.data)&&n.select===pe(this,Pv))b=pe(this,lg);else try{st(this,Pv,n.select),b=n.select(b),b=$w(a==null?void 0:a.data,b,n),st(this,lg,b),st(this,Vc,null)}catch(K){st(this,Vc,K)}pe(this,Vc)&&(E=pe(this,Vc),b=pe(this,lg),C=Date.now(),w="error");const I=m.fetchStatus==="fetching",N=w==="pending",D=w==="error",L=N&&I,k=b!==void 0,B={status:w,fetchStatus:m.fetchStatus,isPending:N,isSuccess:w==="success",isError:D,isInitialLoading:L,isLoading:L,data:b,dataUpdatedAt:m.dataUpdatedAt,error:E,errorUpdatedAt:C,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>g.dataUpdateCount||m.errorUpdateCount>g.errorUpdateCount,isFetching:I,isRefetching:I&&!N,isLoadingError:D&&!k,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:D&&k,isStale:r2(t,n),refetch:this.refetch,promise:pe(this,Uc)};if(this.options.experimental_prefetchInRender){const K=Se=>{B.status==="error"?Se.reject(B.error):B.data!==void 0&&Se.resolve(B.data)},ne=()=>{const Se=st(this,Uc,B.promise=Ww());K(Se)},re=pe(this,Uc);switch(re.status){case"pending":t.queryHash===r.queryHash&&K(re);break;case"fulfilled":(B.status==="error"||B.data!==re.value)&&ne();break;case"rejected":(B.status!=="error"||B.error!==re.reason)&&ne();break}}return B}updateResult(){const t=pe(this,Ni),n=this.createResult(pe(this,nn),this.options);if(st(this,ah,pe(this,nn).state),st(this,ag,this.options),pe(this,ah).data!==void 0&&st(this,ug,pe(this,nn)),tS(n,t))return;st(this,Ni,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!pe(this,cg).size)return!0;const l=new Set(a??pe(this,cg));return this.options.throwOnError&&l.add("error"),Object.keys(pe(this,Ni)).some(u=>{const c=u;return pe(this,Ni)[c]!==t[c]&&l.has(c)})};Ht(this,In,$3).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ht(this,In,Kw).call(this)}},Yi=new WeakMap,nn=new WeakMap,Mv=new WeakMap,Ni=new WeakMap,ah=new WeakMap,ag=new WeakMap,Uc=new WeakMap,Vc=new WeakMap,Pv=new WeakMap,lg=new WeakMap,ug=new WeakMap,lh=new WeakMap,uh=new WeakMap,Gc=new WeakMap,cg=new WeakMap,In=new WeakSet,ov=function(t){Ht(this,In,Jw).call(this);let n=pe(this,nn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Vo)),n},Hw=function(){Ht(this,In,Xw).call(this);const t=Hp(this.options.staleTime,pe(this,nn));if(fh||pe(this,Ni).isStale||!Vw(t))return;const r=L3(pe(this,Ni).dataUpdatedAt,t)+1;st(this,lh,setTimeout(()=>{pe(this,Ni).isStale||this.updateResult()},r))},Yw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,nn)):this.options.refetchInterval)??!1},qw=function(t){Ht(this,In,Zw).call(this),st(this,Gc,t),!(fh||Ns(this.options.enabled,pe(this,nn))===!1||!Vw(pe(this,Gc))||pe(this,Gc)===0)&&st(this,uh,setInterval(()=>{(this.options.refetchIntervalInBackground||n2.isFocused())&&Ht(this,In,ov).call(this)},pe(this,Gc)))},Kw=function(){Ht(this,In,Hw).call(this),Ht(this,In,qw).call(this,Ht(this,In,Yw).call(this))},Xw=function(){pe(this,lh)&&(clearTimeout(pe(this,lh)),st(this,lh,void 0))},Zw=function(){pe(this,uh)&&(clearInterval(pe(this,uh)),st(this,uh,void 0))},Jw=function(){const t=pe(this,Yi).getQueryCache().build(pe(this,Yi),this.options);if(t===pe(this,nn))return;const n=pe(this,nn);st(this,nn,t),st(this,Mv,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},$3=function(t){Mr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(pe(this,Ni))}),pe(this,Yi).getQueryCache().notify({query:pe(this,nn),type:"observerResultsUpdated"})})},f3);function Lz(e,t){return Ns(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yT(e,t){return Lz(e,t)||e.state.data!==void 0&&Qw(e,t,t.refetchOnMount)}function Qw(e,t,n){if(Ns(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&r2(e,t)}return!1}function xT(e,t,n,r){return(e!==t||Ns(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&r2(e,n)}function r2(e,t){return Ns(t.enabled,e)!==!1&&e.isStaleByTime(Hp(t.staleTime,e))}function Fz(e,t){return!tS(e.getCurrentResult(),t)}var $c,Wc,qi,Cu,Tu,Ub,eC,d3,kz=(d3=class extends Sg{constructor(n,r){super();Et(this,Tu);Et(this,$c);Et(this,Wc);Et(this,qi);Et(this,Cu);st(this,$c,n),this.setOptions(r),this.bindMethods(),Ht(this,Tu,Ub).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=pe(this,$c).defaultMutationOptions(n),tS(this.options,r)||pe(this,$c).getMutationCache().notify({type:"observerOptionsUpdated",mutation:pe(this,qi),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&dh(r.mutationKey)!==dh(this.options.mutationKey)?this.reset():((i=pe(this,qi))==null?void 0:i.state.status)==="pending"&&pe(this,qi).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=pe(this,qi))==null||n.removeObserver(this)}onMutationUpdate(n){Ht(this,Tu,Ub).call(this),Ht(this,Tu,eC).call(this,n)}getCurrentResult(){return pe(this,Wc)}reset(){var n;(n=pe(this,qi))==null||n.removeObserver(this),st(this,qi,void 0),Ht(this,Tu,Ub).call(this),Ht(this,Tu,eC).call(this)}mutate(n,r){var i;return st(this,Cu,r),(i=pe(this,qi))==null||i.removeObserver(this),st(this,qi,pe(this,$c).getMutationCache().build(pe(this,$c),this.options)),pe(this,qi).addObserver(this),pe(this,qi).execute(n)}},$c=new WeakMap,Wc=new WeakMap,qi=new WeakMap,Cu=new WeakMap,Tu=new WeakSet,Ub=function(){var r;const n=((r=pe(this,qi))==null?void 0:r.state)??G3();st(this,Wc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},eC=function(n){Mr.batch(()=>{var r,i,a,l,u,c,g,p;if(pe(this,Cu)&&this.hasListeners()){const m=pe(this,Wc).variables,x=pe(this,Wc).context;(n==null?void 0:n.type)==="success"?((i=(r=pe(this,Cu)).onSuccess)==null||i.call(r,n.data,m,x),(l=(a=pe(this,Cu)).onSettled)==null||l.call(a,n.data,null,m,x)):(n==null?void 0:n.type)==="error"&&((c=(u=pe(this,Cu)).onError)==null||c.call(u,n.error,m,x),(p=(g=pe(this,Cu)).onSettled)==null||p.call(g,void 0,n.error,m,x))}this.listeners.forEach(m=>{m(pe(this,Wc))})})},d3),W3=P.createContext(void 0),kv=e=>{const t=P.useContext(W3);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Bz=({client:e,children:t})=>(P.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),O.jsx(W3.Provider,{value:e,children:t})),H3=P.createContext(!1),jz=()=>P.useContext(H3);H3.Provider;function zz(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Uz=P.createContext(zz()),Vz=()=>P.useContext(Uz);function Y3(e,t){return typeof e=="function"?e(...t):!!e}function tC(){}var Gz=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$z=e=>{P.useEffect(()=>{e.clearReset()},[e])},Wz=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||Y3(n,[e.error,r])),Hz=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Yz=(e,t)=>e.isLoading&&e.isFetching&&!t,qz=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,bT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Kz(e,t,n){var m,x,b,E,C;const r=kv(),i=jz(),a=Vz(),l=r.defaultQueryOptions(e);(x=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,l),l._optimisticResults=i?"isRestoring":"optimistic",Hz(l),Gz(l,a),$z(a);const u=!r.getQueryCache().get(l.queryHash),[c]=P.useState(()=>new t(r,l)),g=c.getOptimisticResult(l),p=!i&&e.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(w=>{const R=p?c.subscribe(Mr.batchCalls(w)):tC;return c.updateResult(),R},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),P.useEffect(()=>{c.setOptions(l)},[l,c]),qz(l,g))throw bT(l,c,a);if(Wz({result:g,errorResetBoundary:a,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw g.error;if((E=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||E.call(b,l,g),l.experimental_prefetchInRender&&!fh&&Yz(g,i)){const w=u?bT(l,c,a):(C=r.getQueryCache().get(l.queryHash))==null?void 0:C.promise;w==null||w.catch(tC).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?g:c.trackResult(g)}function Ba(e,t){return Kz(e,Pz)}function Vb(e,t){const n=kv(),[r]=P.useState(()=>new kz(n,e));P.useEffect(()=>{r.setOptions(e)},[r,e]);const i=P.useSyncExternalStore(P.useCallback(l=>r.subscribe(Mr.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=P.useCallback((l,u)=>{r.mutate(l,u).catch(tC)},[r]);if(i.error&&Y3(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function Xz(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Zz=e=>{switch(e){case"success":return e5;case"info":return n5;case"warning":return t5;case"error":return r5;default:return null}},Jz=Array(12).fill(0),Qz=({visible:e,className:t})=>Ke.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ke.createElement("div",{className:"sonner-spinner"},Jz.map((n,r)=>Ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),e5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),t5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),n5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),r5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),i5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),o5=()=>{const[e,t]=Ke.useState(document.hidden);return Ke.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let nC=1;class s5{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:nC++,l=this.toasts.find(c=>c.id===a),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:r}),{...c,...t,id:a,dismissible:u,title:r}):c):this.addToast({title:r,...i,dismissible:u,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,l;const u=i.then(async g=>{if(l=["resolve",g],Ke.isValidElement(g))a=!1,this.create({id:r,type:"default",message:g});else if(l5(g)&&!g.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,E=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...E})}else if(g instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(g):n.error,x=typeof n.description=="function"?await n.description(g):n.description,E=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...E})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(g):n.success,x=typeof n.description=="function"?await n.description(g):n.description,E=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:x,...E})}}).catch(async g=>{if(l=["reject",g],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(g):n.error,m=typeof n.description=="function"?await n.description(g):n.description,b=typeof p=="object"&&!Ke.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...b})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((g,p)=>u.then(()=>l[0]==="reject"?p(l[1]):g(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||nC++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ki=new s5,a5=(e,t)=>{const n=(t==null?void 0:t.id)||nC++;return Ki.addToast({title:e,...t,id:n}),n},l5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",u5=a5,c5=()=>Ki.toasts,f5=()=>Ki.getActiveToasts(),Un=Object.assign(u5,{success:Ki.success,info:Ki.info,warning:Ki.warning,error:Ki.error,custom:Ki.custom,message:Ki.message,promise:Ki.promise,dismiss:Ki.dismiss,loading:Ki.loading},{getHistory:c5,getToasts:f5});Xz("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function yb(e){return e.label!==void 0}const d5=3,h5="24px",p5="16px",ST=4e3,g5=356,m5=14,v5=45,y5=200;function ba(...e){return e.filter(Boolean).join(" ")}function x5(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const b5=e=>{var t,n,r,i,a,l,u,c,g;const{invert:p,toast:m,unstyled:x,interacting:b,setHeights:E,visibleToasts:C,heights:w,index:R,toasts:I,expanded:N,removeToast:D,defaultRichColors:L,closeButton:k,style:j,cancelButtonStyle:B,actionButtonStyle:$,className:K="",descriptionClassName:ne="",duration:re,position:Se,gap:Me,expandByDefault:Oe,classNames:ie,icons:Ae,closeButtonAriaLabel:de="Close toast"}=e,[ue,X]=Ke.useState(null),[oe,he]=Ke.useState(null),[z,U]=Ke.useState(!1),[G,H]=Ke.useState(!1),[Q,Z]=Ke.useState(!1),[J,se]=Ke.useState(!1),[ye,xe]=Ke.useState(!1),[ae,le]=Ke.useState(0),[we,Ie]=Ke.useState(0),je=Ke.useRef(m.duration||re||ST),Ue=Ke.useRef(null),me=Ke.useRef(null),Pe=R===0,Ze=R+1<=C,pt=m.type,gt=m.dismissible!==!1,ge=m.className||"",Ne=m.descriptionClassName||"",qe=Ke.useMemo(()=>w.findIndex(rt=>rt.toastId===m.id)||0,[w,m.id]),He=Ke.useMemo(()=>{var rt;return(rt=m.closeButton)!=null?rt:k},[m.closeButton,k]),tt=Ke.useMemo(()=>m.duration||re||ST,[m.duration,re]),lt=Ke.useRef(0),xt=Ke.useRef(0),Rt=Ke.useRef(0),It=Ke.useRef(null),[sn,ke]=Se.split("-"),nt=Ke.useMemo(()=>w.reduce((rt,ln,Jt)=>Jt>=qe?rt:rt+ln.height,0),[w,qe]),mt=o5(),At=m.invert||p,Dt=pt==="loading";xt.current=Ke.useMemo(()=>qe*Me+nt,[qe,nt]),Ke.useEffect(()=>{je.current=tt},[tt]),Ke.useEffect(()=>{U(!0)},[]),Ke.useEffect(()=>{const rt=me.current;if(rt){const ln=rt.getBoundingClientRect().height;return Ie(ln),E(Jt=>[{toastId:m.id,height:ln,position:m.position},...Jt]),()=>E(Jt=>Jt.filter(rn=>rn.toastId!==m.id))}},[E,m.id]),Ke.useLayoutEffect(()=>{if(!z)return;const rt=me.current,ln=rt.style.height;rt.style.height="auto";const Jt=rt.getBoundingClientRect().height;rt.style.height=ln,Ie(Jt),E(rn=>rn.find(qt=>qt.toastId===m.id)?rn.map(qt=>qt.toastId===m.id?{...qt,height:Jt}:qt):[{toastId:m.id,height:Jt,position:m.position},...rn])},[z,m.title,m.description,E,m.id]);const vn=Ke.useCallback(()=>{H(!0),le(xt.current),E(rt=>rt.filter(ln=>ln.toastId!==m.id)),setTimeout(()=>{D(m)},y5)},[m,D,E,xt]);Ke.useEffect(()=>{if(m.promise&&pt==="loading"||m.duration===1/0||m.type==="loading")return;let rt;return N||b||mt?(()=>{if(Rt.current<lt.current){const rn=new Date().getTime()-lt.current;je.current=je.current-rn}Rt.current=new Date().getTime()})():(()=>{je.current!==1/0&&(lt.current=new Date().getTime(),rt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),vn()},je.current))})(),()=>clearTimeout(rt)},[N,b,m,pt,mt,vn]),Ke.useEffect(()=>{m.delete&&vn()},[vn,m.delete]);function kn(){var rt;if(Ae!=null&&Ae.loading){var ln;return Ke.createElement("div",{className:ba(ie==null?void 0:ie.loader,m==null||(ln=m.classNames)==null?void 0:ln.loader,"sonner-loader"),"data-visible":pt==="loading"},Ae.loading)}return Ke.createElement(Qz,{className:ba(ie==null?void 0:ie.loader,m==null||(rt=m.classNames)==null?void 0:rt.loader),visible:pt==="loading"})}const Hn=m.icon||(Ae==null?void 0:Ae[pt])||Zz(pt);var an,Qn;return Ke.createElement("li",{tabIndex:0,ref:me,className:ba(K,ge,ie==null?void 0:ie.toast,m==null||(t=m.classNames)==null?void 0:t.toast,ie==null?void 0:ie.default,ie==null?void 0:ie[pt],m==null||(n=m.classNames)==null?void 0:n[pt]),"data-sonner-toast":"","data-rich-colors":(an=m.richColors)!=null?an:L,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":z,"data-promise":!!m.promise,"data-swiped":ye,"data-removed":G,"data-visible":Ze,"data-y-position":sn,"data-x-position":ke,"data-index":R,"data-front":Pe,"data-swiping":Q,"data-dismissible":gt,"data-type":pt,"data-invert":At,"data-swipe-out":J,"data-swipe-direction":oe,"data-expanded":!!(N||Oe&&z),style:{"--index":R,"--toasts-before":R,"--z-index":I.length-R,"--offset":`${G?ae:xt.current}px`,"--initial-height":Oe?"auto":`${we}px`,...j,...m.style},onDragEnd:()=>{Z(!1),X(null),It.current=null},onPointerDown:rt=>{Dt||!gt||(Ue.current=new Date,le(xt.current),rt.target.setPointerCapture(rt.pointerId),rt.target.tagName!=="BUTTON"&&(Z(!0),It.current={x:rt.clientX,y:rt.clientY}))},onPointerUp:()=>{var rt,ln,Jt;if(J||!gt)return;It.current=null;const rn=Number(((rt=me.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),vr=Number(((ln=me.current)==null?void 0:ln.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qt=new Date().getTime()-((Jt=Ue.current)==null?void 0:Jt.getTime()),jt=ue==="x"?rn:vr,un=Math.abs(jt)/qt;if(Math.abs(jt)>=v5||un>.11){le(xt.current),m.onDismiss==null||m.onDismiss.call(m,m),he(ue==="x"?rn>0?"right":"left":vr>0?"down":"up"),vn(),se(!0);return}else{var Lt,An;(Lt=me.current)==null||Lt.style.setProperty("--swipe-amount-x","0px"),(An=me.current)==null||An.style.setProperty("--swipe-amount-y","0px")}xe(!1),Z(!1),X(null)},onPointerMove:rt=>{var ln,Jt,rn;if(!It.current||!gt||((ln=window.getSelection())==null?void 0:ln.toString().length)>0)return;const qt=rt.clientY-It.current.y,jt=rt.clientX-It.current.x;var un;const Lt=(un=e.swipeDirections)!=null?un:x5(Se);!ue&&(Math.abs(jt)>1||Math.abs(qt)>1)&&X(Math.abs(jt)>Math.abs(qt)?"x":"y");let An={x:0,y:0};const Mi=Sr=>1/(1.5+Math.abs(Sr)/20);if(ue==="y"){if(Lt.includes("top")||Lt.includes("bottom"))if(Lt.includes("top")&&qt<0||Lt.includes("bottom")&&qt>0)An.y=qt;else{const Sr=qt*Mi(qt);An.y=Math.abs(Sr)<Math.abs(qt)?Sr:qt}}else if(ue==="x"&&(Lt.includes("left")||Lt.includes("right")))if(Lt.includes("left")&&jt<0||Lt.includes("right")&&jt>0)An.x=jt;else{const Sr=jt*Mi(jt);An.x=Math.abs(Sr)<Math.abs(jt)?Sr:jt}(Math.abs(An.x)>0||Math.abs(An.y)>0)&&xe(!0),(Jt=me.current)==null||Jt.style.setProperty("--swipe-amount-x",`${An.x}px`),(rn=me.current)==null||rn.style.setProperty("--swipe-amount-y",`${An.y}px`)}},He&&!m.jsx&&pt!=="loading"?Ke.createElement("button",{"aria-label":de,"data-disabled":Dt,"data-close-button":!0,onClick:Dt||!gt?()=>{}:()=>{vn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ba(ie==null?void 0:ie.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Qn=Ae==null?void 0:Ae.close)!=null?Qn:i5):null,(pt||m.icon||m.promise)&&m.icon!==null&&((Ae==null?void 0:Ae[pt])!==null||m.icon)?Ke.createElement("div",{"data-icon":"",className:ba(ie==null?void 0:ie.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||kn():null,m.type!=="loading"?Hn:null):null,Ke.createElement("div",{"data-content":"",className:ba(ie==null?void 0:ie.content,m==null||(a=m.classNames)==null?void 0:a.content)},Ke.createElement("div",{"data-title":"",className:ba(ie==null?void 0:ie.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Ke.createElement("div",{"data-description":"",className:ba(ne,Ne,ie==null?void 0:ie.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),Ke.isValidElement(m.cancel)?m.cancel:m.cancel&&yb(m.cancel)?Ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||B,onClick:rt=>{yb(m.cancel)&&gt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,rt),vn())},className:ba(ie==null?void 0:ie.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,Ke.isValidElement(m.action)?m.action:m.action&&yb(m.action)?Ke.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||$,onClick:rt=>{yb(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,rt),!rt.defaultPrevented&&vn())},className:ba(ie==null?void 0:ie.actionButton,m==null||(g=m.classNames)==null?void 0:g.actionButton)},m.action.label):null)};function AT(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function S5(e,t){const n={};return[e,t].forEach((r,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",u=a?p5:h5;function c(g){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?n[`${l}-${g}`]=u:n[`${l}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):c(u)}),n}const A5=Ke.forwardRef(function(t,n){const{invert:r,position:i="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:u,className:c,offset:g,mobileOffset:p,theme:m="light",richColors:x,duration:b,style:E,visibleToasts:C=d5,toastOptions:w,dir:R=AT(),gap:I=m5,icons:N,containerAriaLabel:D="Notifications"}=t,[L,k]=Ke.useState([]),j=Ke.useMemo(()=>Array.from(new Set([i].concat(L.filter(oe=>oe.position).map(oe=>oe.position)))),[L,i]),[B,$]=Ke.useState([]),[K,ne]=Ke.useState(!1),[re,Se]=Ke.useState(!1),[Me,Oe]=Ke.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=Ke.useRef(null),Ae=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=Ke.useRef(null),ue=Ke.useRef(!1),X=Ke.useCallback(oe=>{k(he=>{var z;return(z=he.find(U=>U.id===oe.id))!=null&&z.delete||Ki.dismiss(oe.id),he.filter(({id:U})=>U!==oe.id)})},[]);return Ke.useEffect(()=>Ki.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{k(he=>he.map(z=>z.id===oe.id?{...z,delete:!0}:z))});return}setTimeout(()=>{P3.flushSync(()=>{k(he=>{const z=he.findIndex(U=>U.id===oe.id);return z!==-1?[...he.slice(0,z),{...he[z],...oe},...he.slice(z+1)]:[oe,...he]})})})}),[L]),Ke.useEffect(()=>{if(m!=="system"){Oe(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Oe("dark"):Oe("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:he})=>{Oe(he?"dark":"light")})}catch{oe.addListener(({matches:z})=>{try{Oe(z?"dark":"light")}catch(U){console.error(U)}})}},[m]),Ke.useEffect(()=>{L.length<=1&&ne(!1)},[L]),Ke.useEffect(()=>{const oe=he=>{var z;if(a.every(H=>he[H]||he.code===H)){var G;ne(!0),(G=ie.current)==null||G.focus()}he.code==="Escape"&&(document.activeElement===ie.current||(z=ie.current)!=null&&z.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[a]),Ke.useEffect(()=>{if(ie.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,ue.current=!1)}},[ie.current]),Ke.createElement("section",{ref:n,"aria-label":`${D} ${Ae}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((oe,he)=>{var z;const[U,G]=oe.split("-");return L.length?Ke.createElement("ol",{key:oe,dir:R==="auto"?AT():R,tabIndex:-1,ref:ie,className:c,"data-sonner-toaster":!0,"data-sonner-theme":Me,"data-y-position":U,"data-lifted":K&&L.length>1&&!l,"data-x-position":G,style:{"--front-toast-height":`${((z=B[0])==null?void 0:z.height)||0}px`,"--width":`${g5}px`,"--gap":`${I}px`,...E,...S5(g,p)},onBlur:H=>{ue.current&&!H.currentTarget.contains(H.relatedTarget)&&(ue.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,de.current=H.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{re||ne(!1)},onDragEnd:()=>ne(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||Se(!0)},onPointerUp:()=>Se(!1)},L.filter(H=>!H.position&&he===0||H.position===oe).map((H,Q)=>{var Z,J;return Ke.createElement(b5,{key:H.id,icons:N,index:Q,toast:H,defaultRichColors:x,duration:(Z=w==null?void 0:w.duration)!=null?Z:b,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:r,visibleToasts:C,closeButton:(J=w==null?void 0:w.closeButton)!=null?J:u,interacting:re,position:oe,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:X,toasts:L.filter(se=>se.position==H.position),heights:B.filter(se=>se.position==H.position),setHeights:$,expandByDefault:l,gap:I,expanded:K,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ET=e=>{const t=w5(e);return t.charAt(0).toUpperCase()+t.slice(1)},q3=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),C5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},c)=>P.createElement("svg",{ref:c,...R5,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:q3("lucide",i),...!a&&!C5(u)&&{"aria-hidden":"true"},...u},[...l.map(([g,p])=>P.createElement(g,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=(e,t)=>{const n=P.forwardRef(({className:r,...i},a)=>P.createElement(T5,{ref:a,iconNode:t,className:q3(`lucide-${E5(ET(e))}`,`lucide-${e}`,r),...i}));return n.displayName=ET(e),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_5=Xi("check",N5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],K3=Xi("chevron-down",I5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],D5=Xi("chevron-up",O5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],P5=Xi("circle-check",M5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],F5=Xi("circle-x",L5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],X3=Xi("ellipsis",k5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]],Z3=Xi("grid-2x2-plus",B5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],J3=Xi("loader-circle",j5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],U5=Xi("panel-left",z5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Q3=Xi("pencil",V5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eM=Xi("plus",G5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],W5=Xi("plug",$5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tM=Xi("trash-2",H5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nM=Xi("x",Y5);function rM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=rM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function iM(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=rM(e))&&(r&&(r+=" "),r+=t);return r}const i2="-",q5=e=>{const t=X5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(i2);return u[0]===""&&u.length!==1&&u.shift(),oM(u,t)||K5(l)},getConflictingClassGroupIds:(l,u)=>{const c=n[l]||[];return u&&r[l]?[...c,...r[l]]:c}}},oM=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?oM(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(i2);return(l=t.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},wT=/^\[(.+)\]$/,K5=e=>{if(wT.test(e)){const t=wT.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},X5=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)rC(n[i],r,i,t);return r},rC=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:CT(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(Z5(i)){rC(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{rC(l,CT(t,a),n,r)})})},CT=(e,t)=>{let n=e;return t.split(i2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Z5=e=>e.isThemeGetter,J5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,l)=>{n.set(a,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},iC="!",oC=":",Q5=oC.length,eU=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const a=[];let l=0,u=0,c=0,g;for(let E=0;E<i.length;E++){let C=i[E];if(l===0&&u===0){if(C===oC){a.push(i.slice(c,E)),c=E+Q5;continue}if(C==="/"){g=E;continue}}C==="["?l++:C==="]"?l--:C==="("?u++:C===")"&&u--}const p=a.length===0?i:i.substring(c),m=tU(p),x=m!==p,b=g&&g>c?g-c:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:b}};if(t){const i=t+oC,a=r;r=l=>l.startsWith(i)?a(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},tU=e=>e.endsWith(iC)?e.substring(0,e.length-1):e.startsWith(iC)?e.substring(1):e,nU=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(l=>{l[0]==="["||t[l]?(i.push(...a.sort(),l),a=[]):a.push(l)}),i.push(...a.sort()),i}},rU=e=>({cache:J5(e.cacheSize),parseClassName:eU(e),sortModifiers:nU(e),...q5(e)}),iU=/\s+/,oU=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,l=[],u=e.trim().split(iU);let c="";for(let g=u.length-1;g>=0;g-=1){const p=u[g],{isExternal:m,modifiers:x,hasImportantModifier:b,baseClassName:E,maybePostfixModifierPosition:C}=n(p);if(m){c=p+(c.length>0?" "+c:c);continue}let w=!!C,R=r(w?E.substring(0,C):E);if(!R){if(!w){c=p+(c.length>0?" "+c:c);continue}if(R=r(E),!R){c=p+(c.length>0?" "+c:c);continue}w=!1}const I=a(x).join(":"),N=b?I+iC:I,D=N+R;if(l.includes(D))continue;l.push(D);const L=i(R,w);for(let k=0;k<L.length;++k){const j=L[k];l.push(N+j)}c=p+(c.length>0?" "+c:c)}return c};function sU(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=sM(t))&&(r&&(r+=" "),r+=n);return r}const sM=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=sM(e[r]))&&(n&&(n+=" "),n+=t);return n};function aU(e,...t){let n,r,i,a=l;function l(c){const g=t.reduce((p,m)=>m(p),e());return n=rU(g),r=n.cache.get,i=n.cache.set,a=u,u(c)}function u(c){const g=r(c);if(g)return g;const p=oU(c,n);return i(c,p),p}return function(){return a(sU.apply(null,arguments))}}const Ir=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},aM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lU=/^\d+\/\d+$/,uU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kp=e=>lU.test(e),Xt=e=>!!e&&!Number.isNaN(Number(e)),Nc=e=>!!e&&Number.isInteger(Number(e)),wA=e=>e.endsWith("%")&&Xt(e.slice(0,-1)),xl=e=>uU.test(e),pU=()=>!0,gU=e=>cU.test(e)&&!fU.test(e),uM=()=>!1,mU=e=>dU.test(e),vU=e=>hU.test(e),yU=e=>!ct(e)&&!ft(e),xU=e=>Ag(e,dM,uM),ct=e=>aM.test(e),Xf=e=>Ag(e,hM,gU),CA=e=>Ag(e,wU,Xt),RT=e=>Ag(e,cM,uM),bU=e=>Ag(e,fM,vU),xb=e=>Ag(e,pM,mU),ft=e=>lM.test(e),I0=e=>Eg(e,hM),SU=e=>Eg(e,CU),TT=e=>Eg(e,cM),AU=e=>Eg(e,dM),EU=e=>Eg(e,fM),bb=e=>Eg(e,pM,!0),Ag=(e,t,n)=>{const r=aM.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Eg=(e,t,n=!1)=>{const r=lM.exec(e);return r?r[1]?t(r[1]):n:!1},cM=e=>e==="position"||e==="percentage",fM=e=>e==="image"||e==="url",dM=e=>e==="length"||e==="size"||e==="bg-size",hM=e=>e==="length",wU=e=>e==="number",CU=e=>e==="family-name",pM=e=>e==="shadow",RU=()=>{const e=Ir("color"),t=Ir("font"),n=Ir("text"),r=Ir("font-weight"),i=Ir("tracking"),a=Ir("leading"),l=Ir("breakpoint"),u=Ir("container"),c=Ir("spacing"),g=Ir("radius"),p=Ir("shadow"),m=Ir("inset-shadow"),x=Ir("text-shadow"),b=Ir("drop-shadow"),E=Ir("blur"),C=Ir("perspective"),w=Ir("aspect"),R=Ir("ease"),I=Ir("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...D(),ft,ct],k=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],B=()=>[ft,ct,c],$=()=>[kp,"full","auto",...B()],K=()=>[Nc,"none","subgrid",ft,ct],ne=()=>["auto",{span:["full",Nc,ft,ct]},Nc,ft,ct],re=()=>[Nc,"auto",ft,ct],Se=()=>["auto","min","max","fr",ft,ct],Me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Oe=()=>["start","end","center","stretch","center-safe","end-safe"],ie=()=>["auto",...B()],Ae=()=>[kp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],de=()=>[e,ft,ct],ue=()=>[...D(),TT,RT,{position:[ft,ct]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],oe=()=>["auto","cover","contain",AU,xU,{size:[ft,ct]}],he=()=>[wA,I0,Xf],z=()=>["","none","full",g,ft,ct],U=()=>["",Xt,I0,Xf],G=()=>["solid","dashed","dotted","double"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[Xt,wA,TT,RT],Z=()=>["","none",E,ft,ct],J=()=>["none",Xt,ft,ct],se=()=>["none",Xt,ft,ct],ye=()=>[Xt,ft,ct],xe=()=>[kp,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xl],breakpoint:[xl],color:[pU],container:[xl],"drop-shadow":[xl],ease:["in","out","in-out"],font:[yU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xl],shadow:[xl],spacing:["px",Xt],text:[xl],"text-shadow":[xl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",kp,ct,ft,w]}],container:["container"],columns:[{columns:[Xt,ct,ft,u]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Nc,"auto",ft,ct]}],basis:[{basis:[kp,"full","auto",u,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xt,kp,"auto","initial","none",ct]}],grow:[{grow:["",Xt,ft,ct]}],shrink:[{shrink:["",Xt,ft,ct]}],order:[{order:[Nc,"first","last","none",ft,ct]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:ne()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:ne()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Se()}],"auto-rows":[{"auto-rows":Se()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...Me(),"normal"]}],"justify-items":[{"justify-items":[...Oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Oe()]}],"align-content":[{content:["normal",...Me()]}],"align-items":[{items:[...Oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Me()}],"place-items":[{"place-items":[...Oe(),"baseline"]}],"place-self":[{"place-self":["auto",...Oe()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:ie()}],mx:[{mx:ie()}],my:[{my:ie()}],ms:[{ms:ie()}],me:[{me:ie()}],mt:[{mt:ie()}],mr:[{mr:ie()}],mb:[{mb:ie()}],ml:[{ml:ie()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ae()}],w:[{w:[u,"screen",...Ae()]}],"min-w":[{"min-w":[u,"screen","none",...Ae()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Ae()]}],h:[{h:["screen",...Ae()]}],"min-h":[{"min-h":["screen","none",...Ae()]}],"max-h":[{"max-h":["screen",...Ae()]}],"font-size":[{text:["base",n,I0,Xf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ft,CA]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wA,ct]}],"font-family":[{font:[SU,ct,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ft,ct]}],"line-clamp":[{"line-clamp":[Xt,"none",ft,CA]}],leading:[{leading:[a,...B()]}],"list-image":[{"list-image":["none",ft,ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ft,ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:de()}],"text-color":[{text:de()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xt,"from-font","auto",ft,Xf]}],"text-decoration-color":[{decoration:de()}],"underline-offset":[{"underline-offset":[Xt,"auto",ft,ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft,ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft,ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Nc,ft,ct],radial:["",ft,ct],conic:[Nc,ft,ct]},EU,bU]}],"bg-color":[{bg:de()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:de()}],"gradient-via":[{via:de()}],"gradient-to":[{to:de()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:de()}],"border-color-x":[{"border-x":de()}],"border-color-y":[{"border-y":de()}],"border-color-s":[{"border-s":de()}],"border-color-e":[{"border-e":de()}],"border-color-t":[{"border-t":de()}],"border-color-r":[{"border-r":de()}],"border-color-b":[{"border-b":de()}],"border-color-l":[{"border-l":de()}],"divide-color":[{divide:de()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xt,ft,ct]}],"outline-w":[{outline:["",Xt,I0,Xf]}],"outline-color":[{outline:de()}],shadow:[{shadow:["","none",p,bb,xb]}],"shadow-color":[{shadow:de()}],"inset-shadow":[{"inset-shadow":["none",m,bb,xb]}],"inset-shadow-color":[{"inset-shadow":de()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:de()}],"ring-offset-w":[{"ring-offset":[Xt,Xf]}],"ring-offset-color":[{"ring-offset":de()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":de()}],"text-shadow":[{"text-shadow":["none",x,bb,xb]}],"text-shadow-color":[{"text-shadow":de()}],opacity:[{opacity:[Xt,ft,ct]}],"mix-blend":[{"mix-blend":[...H(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":H()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":de()}],"mask-image-linear-to-color":[{"mask-linear-to":de()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":de()}],"mask-image-t-to-color":[{"mask-t-to":de()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":de()}],"mask-image-r-to-color":[{"mask-r-to":de()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":de()}],"mask-image-b-to-color":[{"mask-b-to":de()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":de()}],"mask-image-l-to-color":[{"mask-l-to":de()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":de()}],"mask-image-x-to-color":[{"mask-x-to":de()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":de()}],"mask-image-y-to-color":[{"mask-y-to":de()}],"mask-image-radial":[{"mask-radial":[ft,ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":de()}],"mask-image-radial-to-color":[{"mask-radial-to":de()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Xt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":de()}],"mask-image-conic-to-color":[{"mask-conic-to":de()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ft,ct]}],filter:[{filter:["","none",ft,ct]}],blur:[{blur:Z()}],brightness:[{brightness:[Xt,ft,ct]}],contrast:[{contrast:[Xt,ft,ct]}],"drop-shadow":[{"drop-shadow":["","none",b,bb,xb]}],"drop-shadow-color":[{"drop-shadow":de()}],grayscale:[{grayscale:["",Xt,ft,ct]}],"hue-rotate":[{"hue-rotate":[Xt,ft,ct]}],invert:[{invert:["",Xt,ft,ct]}],saturate:[{saturate:[Xt,ft,ct]}],sepia:[{sepia:["",Xt,ft,ct]}],"backdrop-filter":[{"backdrop-filter":["","none",ft,ct]}],"backdrop-blur":[{"backdrop-blur":Z()}],"backdrop-brightness":[{"backdrop-brightness":[Xt,ft,ct]}],"backdrop-contrast":[{"backdrop-contrast":[Xt,ft,ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xt,ft,ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xt,ft,ct]}],"backdrop-invert":[{"backdrop-invert":["",Xt,ft,ct]}],"backdrop-opacity":[{"backdrop-opacity":[Xt,ft,ct]}],"backdrop-saturate":[{"backdrop-saturate":[Xt,ft,ct]}],"backdrop-sepia":[{"backdrop-sepia":["",Xt,ft,ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ft,ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xt,"initial",ft,ct]}],ease:[{ease:["linear","initial",R,ft,ct]}],delay:[{delay:[Xt,ft,ct]}],animate:[{animate:["none",I,ft,ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,ft,ct]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[ft,ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:de()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:de()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft,ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft,ct]}],fill:[{fill:["none",...de()]}],"stroke-w":[{stroke:[Xt,I0,Xf,CA]}],stroke:[{stroke:["none",...de()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},TU=aU(RU);function St(...e){return TU(iM(e))}function NT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function CS(...e){return t=>{let n=!1;const r=e.map(i=>{const a=NT(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():NT(e[i],null)}}}}function Sn(...e){return P.useCallback(CS(...e),e)}function qc(e){const t=NU(e),n=P.forwardRef((r,i)=>{const{children:a,...l}=r,u=P.Children.toArray(a),c=u.find(IU);if(c){const g=c.props.children,p=u.map(m=>m===c?P.Children.count(g)>1?P.Children.only(null):P.isValidElement(g)?g.props.children:null:m);return O.jsx(t,{...l,ref:i,children:P.isValidElement(g)?P.cloneElement(g,void 0,p):null})}return O.jsx(t,{...l,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var o2=qc("Slot");function NU(e){const t=P.forwardRef((n,r)=>{const{children:i,...a}=n;if(P.isValidElement(i)){const l=DU(i),u=OU(a,i.props);return i.type!==P.Fragment&&(u.ref=r?CS(r,l):l),P.cloneElement(i,u)}return P.Children.count(i)>1?P.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gM=Symbol("radix.slottable");function _U(e){const t=({children:n})=>O.jsx(O.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=gM,t}function IU(e){return P.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gM}function OU(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{a(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function DU(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const _T=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,IT=iM,RS=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return IT(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,l=Object.keys(i).map(g=>{const p=n==null?void 0:n[g],m=a==null?void 0:a[g];if(p===null)return null;const x=_T(p)||_T(m);return i[g][x]}),u=n&&Object.entries(n).reduce((g,p)=>{let[m,x]=p;return x===void 0||(g[m]=x),g},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((g,p)=>{let{class:m,className:x,...b}=p;return Object.entries(b).every(E=>{let[C,w]=E;return Array.isArray(w)?w.includes({...a,...u}[C]):{...a,...u}[C]===w})?[...g,m,x]:g},[]);return IT(e,l,c,n==null?void 0:n.class,n==null?void 0:n.className)},MU=RS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function nr({className:e,variant:t,size:n,asChild:r=!1,...i}){const a=r?o2:"button";return O.jsx(a,{"data-slot":"button",className:St("cursor-pointer",MU({variant:t,size:n,className:e})),...i})}function PU({className:e,...t}){return O.jsxs("form",{className:St("flex flex-col gap-6",e),...t,children:[O.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[O.jsx("h1",{className:"text-2xl font-bold",children:"Login to Wafflebase"}),O.jsx("p",{className:"text-balance text-sm text-muted-foreground",children:"Wafflebase with your GitHub account."})]}),O.jsx("div",{className:"grid gap-6",children:O.jsx(nr,{variant:"outline",className:"w-full",asChild:!0,children:O.jsxs(bg,{to:"https://wafflebase-api.yorkie.dev/auth/github",rel:"noopener noreferrer",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:O.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12",fill:"currentColor"})}),"Login with GitHub"]})})})]})}function LU(){return O.jsx("div",{className:"grid min-h-svh",children:O.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[O.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:O.jsxs("a",{href:"#",className:"flex items-center gap-2 font-medium",children:[O.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-primary text-primary-foreground",children:O.jsx(Z3,{className:"!size-5"})}),"Wafflebase"]})}),O.jsx("div",{className:"flex flex-1 items-center justify-center",children:O.jsx("div",{className:"w-full max-w-xs",children:O.jsx(PU,{})})})]})})}async function mM(){if(!(await fetch("https://wafflebase-api.yorkie.dev/auth/logout",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to log out");Un.success("Logged out successfully"),window.location.href="/login"}async function vh(){const e=await Oi("https://wafflebase-api.yorkie.dev/auth/me",{method:"GET",credentials:"include"});if(!e.ok)throw new Error("Failed to fetch user");return e.json()}async function Oi(e,t){const n=await fetch(e,{...t,credentials:"include"});if(n.status===401)throw await mM(),new Error("Unauthorized");return n}async function FU(e){const t=await Oi("https://wafflebase-api.yorkie.dev/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create document");return t.json()}async function kU(){const e=await Oi("https://wafflebase-api.yorkie.dev/documents");if(!e.ok)throw new Error("Failed to fetch documents");return await e.json()}async function BU(e){const t=await Oi(`https://wafflebase-api.yorkie.dev/documents/${e}`);if(!t.ok)throw new Error("Failed to fetch document");const n=await t.json();if(!n)throw new Error("Document not found");return n}async function vM(e,t){const n=await Oi(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})});if(!n.ok)throw new Error("Failed to rename document");return n.json()}async function jU(e){if((await Oi(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"DELETE"})).ok)Un.success("Document deleted successfully");else throw Un.error("Failed to delete document"),new Error("Failed to delete document")}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Hc(e,t){return typeof e=="function"?e(t):e}function vo(e,t){return n=>{t.setState(r=>({...r,[e]:Hc(n,r[e])}))}}function TS(e){return e instanceof Function}function zU(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function UU(e,t){const n=[],r=i=>{i.forEach(a=>{n.push(a);const l=t(a);l!=null&&l.length&&r(l)})};return r(e),n}function Nt(e,t,n){let r=[],i;return a=>{let l;n.key&&n.debug&&(l=Date.now());const u=e(a);if(!(u.length!==r.length||u.some((p,m)=>r[m]!==p)))return i;r=u;let g;if(n.key&&n.debug&&(g=Date.now()),i=t(...u),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-l)*100)/100,m=Math.round((Date.now()-g)*100)/100,x=m/16,b=(E,C)=>{for(E=String(E);E.length<C;)E=" "+E;return E};console.info(`%c ${b(m,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function _t(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function VU(e,t,n,r){const i=()=>{var l;return(l=a.getValue())!=null?l:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:Nt(()=>[e,n,t,a],(l,u,c,g)=>({table:l,column:u,row:c,cell:g,getValue:g.getValue,renderValue:g.renderValue}),_t(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(a,n,t,e)},{}),a}function GU(e,t,n,r){var i,a;const u={...e._getDefaultColumnDef(),...t},c=u.accessorKey;let g=(i=(a=u.id)!=null?a:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof u.header=="string"?u.header:void 0,p;if(u.accessorFn?p=u.accessorFn:c&&(c.includes(".")?p=x=>{let b=x;for(const C of c.split(".")){var E;b=(E=b)==null?void 0:E[C]}return b}:p=x=>x[u.accessorKey]),!g)throw new Error;let m={id:`${String(g)}`,accessorFn:p,parent:r,depth:n,columnDef:u,columns:[],getFlatColumns:Nt(()=>[!0],()=>{var x;return[m,...(x=m.columns)==null?void 0:x.flatMap(b=>b.getFlatColumns())]},_t(e.options,"debugColumns")),getLeafColumns:Nt(()=>[e._getOrderColumnsFn()],x=>{var b;if((b=m.columns)!=null&&b.length){let E=m.columns.flatMap(C=>C.getLeafColumns());return x(E)}return[m]},_t(e.options,"debugColumns"))};for(const x of e._features)x.createColumn==null||x.createColumn(m,e);return m}const gi="debugHeaders";function OT(e,t,n){var r;let a={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],u=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(u),l.push(c)};return u(a),l},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(a,e)}),a}const $U={createTable:e=>{e.getHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var a,l;const u=(a=r==null?void 0:r.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?a:[],c=(l=i==null?void 0:i.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?l:[],g=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(i!=null&&i.includes(m.id)));return Sb(t,[...u,...g,...c],e)},_t(e.options,gi)),e.getCenterHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(i!=null&&i.includes(a.id))),Sb(t,n,e,"center")),_t(e.options,gi)),e.getLeftHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const a=(i=r==null?void 0:r.map(l=>n.find(u=>u.id===l)).filter(Boolean))!=null?i:[];return Sb(t,a,e,"left")},_t(e.options,gi)),e.getRightHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const a=(i=r==null?void 0:r.map(l=>n.find(u=>u.id===l)).filter(Boolean))!=null?i:[];return Sb(t,a,e,"right")},_t(e.options,gi)),e.getFooterGroups=Nt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),_t(e.options,gi)),e.getLeftFooterGroups=Nt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),_t(e.options,gi)),e.getCenterFooterGroups=Nt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),_t(e.options,gi)),e.getRightFooterGroups=Nt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),_t(e.options,gi)),e.getFlatHeaders=Nt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,gi)),e.getLeftFlatHeaders=Nt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,gi)),e.getCenterFlatHeaders=Nt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,gi)),e.getRightFlatHeaders=Nt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,gi)),e.getCenterLeafHeaders=Nt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,gi)),e.getLeftLeafHeaders=Nt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,gi)),e.getRightLeafHeaders=Nt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,gi)),e.getLeafHeaders=Nt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,a,l,u,c,g;return[...(i=(a=t[0])==null?void 0:a.headers)!=null?i:[],...(l=(u=n[0])==null?void 0:u.headers)!=null?l:[],...(c=(g=r[0])==null?void 0:g.headers)!=null?c:[]].map(p=>p.getLeafHeaders()).flat()},_t(e.options,gi))}};function Sb(e,t,n,r){var i,a;let l=0;const u=function(x,b){b===void 0&&(b=1),l=Math.max(l,b),x.filter(E=>E.getIsVisible()).forEach(E=>{var C;(C=E.columns)!=null&&C.length&&u(E.columns,b+1)},0)};u(e);let c=[];const g=(x,b)=>{const E={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},C=[];x.forEach(w=>{const R=[...C].reverse()[0],I=w.column.depth===E.depth;let N,D=!1;if(I&&w.column.parent?N=w.column.parent:(N=w.column,D=!0),R&&(R==null?void 0:R.column)===N)R.subHeaders.push(w);else{const L=OT(n,N,{id:[r,b,N.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${C.filter(k=>k.column===N).length}`:void 0,depth:b,index:C.length});L.subHeaders.push(w),C.push(L)}E.headers.push(w),w.headerGroup=E}),c.push(E),b>0&&g(C,b-1)},p=t.map((x,b)=>OT(n,x,{depth:l,index:b}));g(p,l-1),c.reverse();const m=x=>x.filter(E=>E.column.getIsVisible()).map(E=>{let C=0,w=0,R=[0];E.subHeaders&&E.subHeaders.length?(R=[],m(E.subHeaders).forEach(N=>{let{colSpan:D,rowSpan:L}=N;C+=D,R.push(L)})):C=1;const I=Math.min(...R);return w=w+I,E.colSpan=C,E.rowSpan=w,{colSpan:C,rowSpan:w}});return m((i=(a=c[0])==null?void 0:a.headers)!=null?i:[]),c}const s2=(e,t,n,r,i,a,l)=>{let u={id:t,index:r,original:n,depth:i,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(u._valuesCache.hasOwnProperty(c))return u._valuesCache[c];const g=e.getColumn(c);if(g!=null&&g.accessorFn)return u._valuesCache[c]=g.accessorFn(u.original,r),u._valuesCache[c]},getUniqueValues:c=>{if(u._uniqueValuesCache.hasOwnProperty(c))return u._uniqueValuesCache[c];const g=e.getColumn(c);if(g!=null&&g.accessorFn)return g.columnDef.getUniqueValues?(u._uniqueValuesCache[c]=g.columnDef.getUniqueValues(u.original,r),u._uniqueValuesCache[c]):(u._uniqueValuesCache[c]=[u.getValue(c)],u._uniqueValuesCache[c])},renderValue:c=>{var g;return(g=u.getValue(c))!=null?g:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>UU(u.subRows,c=>c.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let c=[],g=u;for(;;){const p=g.getParentRow();if(!p)break;c.push(p),g=p}return c.reverse()},getAllCells:Nt(()=>[e.getAllLeafColumns()],c=>c.map(g=>VU(e,u,g,g.id)),_t(e.options,"debugRows")),_getAllCellsByColumnId:Nt(()=>[u.getAllCells()],c=>c.reduce((g,p)=>(g[p.column.id]=p,g),{}),_t(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const g=e._features[c];g==null||g.createRow==null||g.createRow(u,e)}return u},WU={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},yM=(e,t,n)=>{var r,i;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(a))};yM.autoRemove=e=>_s(e);const xM=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};xM.autoRemove=e=>_s(e);const bM=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};bM.autoRemove=e=>_s(e);const SM=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};SM.autoRemove=e=>_s(e);const AM=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});AM.autoRemove=e=>_s(e)||!(e!=null&&e.length);const EM=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});EM.autoRemove=e=>_s(e)||!(e!=null&&e.length);const wM=(e,t,n)=>e.getValue(t)===n;wM.autoRemove=e=>_s(e);const CM=(e,t,n)=>e.getValue(t)==n;CM.autoRemove=e=>_s(e);const a2=(e,t,n)=>{let[r,i]=n;const a=e.getValue(t);return a>=r&&a<=i};a2.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(r)?-1/0:r,l=n===null||Number.isNaN(i)?1/0:i;if(a>l){const u=a;a=l,l=u}return[a,l]};a2.autoRemove=e=>_s(e)||_s(e[0])&&_s(e[1]);const Eu={includesString:yM,includesStringSensitive:xM,equalsString:bM,arrIncludes:SM,arrIncludesAll:AM,arrIncludesSome:EM,equals:wM,weakEquals:CM,inNumberRange:a2};function _s(e){return e==null||e===""}const HU={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:vo("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Eu.includesString:typeof r=="number"?Eu.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Eu.equals:Array.isArray(r)?Eu.arrIncludes:Eu.weakEquals},e.getFilterFn=()=>{var n,r;return TS(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Eu[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),a=r==null?void 0:r.find(p=>p.id===e.id),l=Hc(n,a?a.value:void 0);if(DT(i,l,e)){var u;return(u=r==null?void 0:r.filter(p=>p.id!==e.id))!=null?u:[]}const c={id:e.id,value:l};if(a){var g;return(g=r==null?void 0:r.map(p=>p.id===e.id?c:p))!=null?g:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var a;return(a=Hc(t,i))==null?void 0:a.filter(l=>{const u=n.find(c=>c.id===l.id);if(u){const c=u.getFilterFn();if(DT(c,l.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function DT(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const YU=(e,t,n)=>n.reduce((r,i)=>{const a=i.getValue(e);return r+(typeof a=="number"?a:0)},0),qU=(e,t,n)=>{let r;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},KU=(e,t,n)=>{let r;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},XU=(e,t,n)=>{let r,i;return n.forEach(a=>{const l=a.getValue(e);l!=null&&(r===void 0?l>=l&&(r=i=l):(r>l&&(r=l),i<l&&(i=l)))}),[r,i]},ZU=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let a=i.getValue(e);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},JU=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!zU(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((a,l)=>a-l);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},QU=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),eV=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,tV=(e,t)=>t.length,RA={sum:YU,min:qU,max:KU,extent:XU,mean:ZU,median:JU,unique:QU,uniqueCount:eV,count:tV},nV={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:vo("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return RA.sum;if(Object.prototype.toString.call(r)==="[object Date]")return RA.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return TS(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:RA[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function rV(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(a=>!t.includes(a.id));return n==="remove"?r:[...t.map(a=>e.find(l=>l.id===a)).filter(Boolean),...r]}const iV={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:vo("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Nt(n=>[gv(t,n)],n=>n.findIndex(r=>r.id===e.id),_t(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=gv(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=gv(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Nt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let a=[];if(!(t!=null&&t.length))a=i;else{const l=[...t],u=[...i];for(;u.length&&l.length;){const c=l.shift(),g=u.findIndex(p=>p.id===c);g>-1&&a.push(u.splice(g,1)[0])}a=[...a,...u]}return rV(a,n,r)},_t(e.options,"debugTable"))}},TA=()=>({left:[],right:[]}),oV={getInitialState:e=>({columnPinning:TA(),...e}),getDefaultOptions:e=>({onColumnPinningChange:vo("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var a,l;if(n==="right"){var u,c;return{left:((u=i==null?void 0:i.left)!=null?u:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((c=i==null?void 0:i.right)!=null?c:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var g,p;return{left:[...((g=i==null?void 0:i.left)!=null?g:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((p=i==null?void 0:i.right)!=null?p:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(m=>!(r!=null&&r.includes(m))),right:((l=i==null?void 0:i.right)!=null?l:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,a,l;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((a=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(u=>u.id),{left:r,right:i}=t.getState().columnPinning,a=n.some(u=>r==null?void 0:r.includes(u)),l=n.some(u=>i==null?void 0:i.includes(u));return a?"left":l?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const a=[...r??[],...i??[]];return n.filter(l=>!a.includes(l.column.id))},_t(t.options,"debugRows")),e.getLeftVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),_t(t.options,"debugRows")),e.getRightVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),_t(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?TA():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:TA())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,a;return!!((i=r.left)!=null&&i.length||(a=r.right)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),_t(e.options,"debugColumns")),e.getRightLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),_t(e.options,"debugColumns")),e.getCenterLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(a=>!i.includes(a.id))},_t(e.options,"debugColumns"))}},Ab={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},NA=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),sV={getDefaultColumnDef:()=>Ab,getInitialState:e=>({columnSizing:{},columnSizingInfo:NA(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:vo("columnSizing",e),onColumnSizingInfoChange:vo("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Ab.minSize,(r=a??e.columnDef.size)!=null?r:Ab.size),(i=e.columnDef.maxSize)!=null?i:Ab.maxSize)},e.getStart=Nt(n=>[n,gv(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,a)=>i+a.getSize(),0),_t(t.options,"debugColumns")),e.getAfter=Nt(n=>[n,gv(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,a)=>i+a.getSize(),0),_t(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var a;n+=(a=i.column.getSize())!=null?a:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return a=>{if(!r||!i||(a.persist==null||a.persist(),_A(a)&&a.touches&&a.touches.length>1))return;const l=e.getSize(),u=e?e.getLeafHeaders().map(R=>[R.column.id,R.column.getSize()]):[[r.id,r.getSize()]],c=_A(a)?Math.round(a.touches[0].clientX):a.clientX,g={},p=(R,I)=>{typeof I=="number"&&(t.setColumnSizingInfo(N=>{var D,L;const k=t.options.columnResizeDirection==="rtl"?-1:1,j=(I-((D=N==null?void 0:N.startOffset)!=null?D:0))*k,B=Math.max(j/((L=N==null?void 0:N.startSize)!=null?L:0),-.999999);return N.columnSizingStart.forEach($=>{let[K,ne]=$;g[K]=Math.round(Math.max(ne+ne*B,0)*100)/100}),{...N,deltaOffset:j,deltaPercentage:B}}),(t.options.columnResizeMode==="onChange"||R==="end")&&t.setColumnSizing(N=>({...N,...g})))},m=R=>p("move",R),x=R=>{p("end",R),t.setColumnSizingInfo(I=>({...I,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=n||typeof document<"u"?document:null,E={moveHandler:R=>m(R.clientX),upHandler:R=>{b==null||b.removeEventListener("mousemove",E.moveHandler),b==null||b.removeEventListener("mouseup",E.upHandler),x(R.clientX)}},C={moveHandler:R=>(R.cancelable&&(R.preventDefault(),R.stopPropagation()),m(R.touches[0].clientX),!1),upHandler:R=>{var I;b==null||b.removeEventListener("touchmove",C.moveHandler),b==null||b.removeEventListener("touchend",C.upHandler),R.cancelable&&(R.preventDefault(),R.stopPropagation()),x((I=R.touches[0])==null?void 0:I.clientX)}},w=aV()?{passive:!1}:!1;_A(a)?(b==null||b.addEventListener("touchmove",C.moveHandler,w),b==null||b.addEventListener("touchend",C.upHandler,w)):(b==null||b.addEventListener("mousemove",E.moveHandler,w),b==null||b.addEventListener("mouseup",E.upHandler,w)),t.setColumnSizingInfo(R=>({...R,startOffset:c,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?NA():(n=e.initialState.columnSizingInfo)!=null?n:NA())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let Eb=null;function aV(){if(typeof Eb=="boolean")return Eb;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Eb=e,Eb}function _A(e){return e.type==="touchstart"}const lV={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:vo("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Nt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),_t(t.options,"debugRows")),e.getVisibleCells=Nt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],_t(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Nt(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),_t(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,a)=>({...i,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function gv(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const uV={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},cV={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:vo("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Eu.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return TS(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Eu[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},fV={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:vo("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,a;e.setExpanded(r?{}:(i=(a=e.initialState)==null?void 0:a.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const l=a.split(".");r=Math.max(r,l.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const a=r===!0?!0:!!(r!=null&&r[e.id]);let l={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(u=>{l[u]=!0}):l=r,n=(i=n)!=null?i:!a,!a&&n)return{...l,[e.id]:!0};if(a&&!n){const{[e.id]:u,...c}=l;return c}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},sC=0,aC=10,IA=()=>({pageIndex:sC,pageSize:aC}),dV={getInitialState:e=>({...e,pagination:{...IA(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:vo("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=a=>Hc(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?IA():(i=e.initialState.pagination)!=null?i:IA())},e.setPageIndex=r=>{e.setPagination(i=>{let a=Hc(r,i.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,l)),{...i,pageIndex:a}})},e.resetPageIndex=r=>{var i,a;e.setPageIndex(r?sC:(i=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?i:sC)},e.resetPageSize=r=>{var i,a;e.setPageSize(r?aC:(i=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?i:aC)},e.setPageSize=r=>{e.setPagination(i=>{const a=Math.max(1,Hc(r,i.pageSize)),l=i.pageSize*i.pageIndex,u=Math.floor(l/a);return{...i,pageIndex:u,pageSize:a}})},e.setPageCount=r=>e.setPagination(i=>{var a;let l=Hc(r,(a=e.options.pageCount)!=null?a:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...i,pageCount:l}}),e.getPageOptions=Nt(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((a,l)=>l)),i},_t(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},OA=()=>({top:[],bottom:[]}),hV={getInitialState:e=>({rowPinning:OA(),...e}),getDefaultOptions:e=>({onRowPinningChange:vo("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const a=r?e.getLeafRows().map(c=>{let{id:g}=c;return g}):[],l=i?e.getParentRows().map(c=>{let{id:g}=c;return g}):[],u=new Set([...l,e.id,...a]);t.setRowPinning(c=>{var g,p;if(n==="bottom"){var m,x;return{top:((m=c==null?void 0:c.top)!=null?m:[]).filter(C=>!(u!=null&&u.has(C))),bottom:[...((x=c==null?void 0:c.bottom)!=null?x:[]).filter(C=>!(u!=null&&u.has(C))),...Array.from(u)]}}if(n==="top"){var b,E;return{top:[...((b=c==null?void 0:c.top)!=null?b:[]).filter(C=>!(u!=null&&u.has(C))),...Array.from(u)],bottom:((E=c==null?void 0:c.bottom)!=null?E:[]).filter(C=>!(u!=null&&u.has(C)))}}return{top:((g=c==null?void 0:c.top)!=null?g:[]).filter(C=>!(u!=null&&u.has(C))),bottom:((p=c==null?void 0:c.bottom)!=null?p:[]).filter(C=>!(u!=null&&u.has(C)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,a=n.some(u=>r==null?void 0:r.includes(u)),l=n.some(u=>i==null?void 0:i.includes(u));return a?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const a=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(l=>{let{id:u}=l;return u});return(r=a==null?void 0:a.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?OA():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:OA())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,a;return!!((i=r.top)!=null&&i.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(l=>{const u=e.getRow(l,!0);return u.getIsAllParentsExpanded()?u:null}):(n??[]).map(l=>t.find(u=>u.id===l))).filter(Boolean).map(l=>({...l,position:r}))},e.getTopRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),_t(e.options,"debugRows")),e.getBottomRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),_t(e.options,"debugRows")),e.getCenterRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(a=>!i.has(a.id))},_t(e.options,"debugRows"))}},pV={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:vo("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):i.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(a=>{lC(i,a.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?DA(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getFilteredSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?DA(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getGroupedSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?DA(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(a=>{var l;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return a;const u={...a};return lC(u,e.id,n,(l=r==null?void 0:r.selectChildren)!=null?l:!0,t),u})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return l2(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return uC(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return uC(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},lC=(e,t,n,r,i)=>{var a;const l=i.getRow(t,!0);n?(l.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),l.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=l.subRows)!=null&&a.length&&l.getCanSelectSubRows()&&l.subRows.forEach(u=>lC(e,u.id,n,r,i))};function DA(e,t){const n=e.getState().rowSelection,r=[],i={},a=function(l,u){return l.map(c=>{var g;const p=l2(c,n);if(p&&(r.push(c),i[c.id]=c),(g=c.subRows)!=null&&g.length&&(c={...c,subRows:a(c.subRows)}),p)return c}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:i}}function l2(e,t){var n;return(n=t[e.id])!=null?n:!1}function uC(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,a=!1;return e.subRows.forEach(l=>{if(!(a&&!i)&&(l.getCanSelect()&&(l2(l,t)?a=!0:i=!1),l.subRows&&l.subRows.length)){const u=uC(l,t);u==="all"?a=!0:(u==="some"&&(a=!0),i=!1)}}),i?"all":a?"some":!1}const cC=/([0-9]+)/gm,gV=(e,t,n)=>RM(Kc(e.getValue(n)).toLowerCase(),Kc(t.getValue(n)).toLowerCase()),mV=(e,t,n)=>RM(Kc(e.getValue(n)),Kc(t.getValue(n))),vV=(e,t,n)=>u2(Kc(e.getValue(n)).toLowerCase(),Kc(t.getValue(n)).toLowerCase()),yV=(e,t,n)=>u2(Kc(e.getValue(n)),Kc(t.getValue(n))),xV=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},bV=(e,t,n)=>u2(e.getValue(n),t.getValue(n));function u2(e,t){return e===t?0:e>t?1:-1}function Kc(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function RM(e,t){const n=e.split(cC).filter(Boolean),r=t.split(cC).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),a=r.shift(),l=parseInt(i,10),u=parseInt(a,10),c=[l,u].sort();if(isNaN(c[0])){if(i>a)return 1;if(a>i)return-1;continue}if(isNaN(c[1]))return isNaN(l)?-1:1;if(l>u)return 1;if(u>l)return-1}return n.length-r.length}const O0={alphanumeric:gV,alphanumericCaseSensitive:mV,text:vV,textCaseSensitive:yV,datetime:xV,basic:bV},SV={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:vo("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const a=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return O0.datetime;if(typeof a=="string"&&(r=!0,a.split(cC).length>1))return O0.alphanumeric}return r?O0.text:O0.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return TS(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:O0[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(l=>{const u=l==null?void 0:l.find(b=>b.id===e.id),c=l==null?void 0:l.findIndex(b=>b.id===e.id);let g=[],p,m=a?n:i==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&r?u?p="toggle":p="add":l!=null&&l.length&&c!==l.length-1?p="replace":u?p="toggle":p="replace",p==="toggle"&&(a||i||(p="remove")),p==="add"){var x;g=[...l,{id:e.id,desc:m}],g.splice(0,g.length-((x=t.options.maxMultiSortColCount)!=null?x:Number.MAX_SAFE_INTEGER))}else p==="toggle"?g=l.map(b=>b.id===e.id?{...b,desc:m}:b):p==="remove"?g=l.filter(b=>b.id!==e.id):g=[{id:e.id,desc:m}];return g})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const a=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:l==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},AV=[$U,lV,iV,oV,WU,HU,uV,cV,SV,nV,fV,dV,hV,pV,sV];function EV(e){var t,n;const r=[...AV,...(t=e._features)!=null?t:[]];let i={_features:r};const a=i._features.reduce((x,b)=>Object.assign(x,b.getDefaultOptions==null?void 0:b.getDefaultOptions(i)),{}),l=x=>i.options.mergeOptions?i.options.mergeOptions(a,x):{...a,...x};let c={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(x=>{var b;c=(b=x.getInitialState==null?void 0:x.getInitialState(c))!=null?b:c});const g=[];let p=!1;const m={_features:r,options:{...a,...e},initialState:c,_queue:x=>{g.push(x),p||(p=!0,Promise.resolve().then(()=>{for(;g.length;)g.shift()();p=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{i.setState(i.initialState)},setOptions:x=>{const b=Hc(x,i.options);i.options=l(b)},getState:()=>i.options.state,setState:x=>{i.options.onStateChange==null||i.options.onStateChange(x)},_getRowId:(x,b,E)=>{var C;return(C=i.options.getRowId==null?void 0:i.options.getRowId(x,b,E))!=null?C:`${E?[E.id,b].join("."):b}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(x,b)=>{let E=(b?i.getPrePaginationRowModel():i.getRowModel()).rowsById[x];if(!E&&(E=i.getCoreRowModel().rowsById[x],!E))throw new Error;return E},_getDefaultColumnDef:Nt(()=>[i.options.defaultColumn],x=>{var b;return x=(b=x)!=null?b:{},{header:E=>{const C=E.header.column.columnDef;return C.accessorKey?C.accessorKey:C.accessorFn?C.id:null},cell:E=>{var C,w;return(C=(w=E.renderValue())==null||w.toString==null?void 0:w.toString())!=null?C:null},...i._features.reduce((E,C)=>Object.assign(E,C.getDefaultColumnDef==null?void 0:C.getDefaultColumnDef()),{}),...x}},_t(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Nt(()=>[i._getColumnDefs()],x=>{const b=function(E,C,w){return w===void 0&&(w=0),E.map(R=>{const I=GU(i,R,w,C),N=R;return I.columns=N.columns?b(N.columns,I,w+1):[],I})};return b(x)},_t(e,"debugColumns")),getAllFlatColumns:Nt(()=>[i.getAllColumns()],x=>x.flatMap(b=>b.getFlatColumns()),_t(e,"debugColumns")),_getAllFlatColumnsById:Nt(()=>[i.getAllFlatColumns()],x=>x.reduce((b,E)=>(b[E.id]=E,b),{}),_t(e,"debugColumns")),getAllLeafColumns:Nt(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(x,b)=>{let E=x.flatMap(C=>C.getLeafColumns());return b(E)},_t(e,"debugColumns")),getColumn:x=>i._getAllFlatColumnsById()[x]};Object.assign(i,m);for(let x=0;x<i._features.length;x++){const b=i._features[x];b==null||b.createTable==null||b.createTable(i)}return i}function TM(){return e=>Nt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,a,l){a===void 0&&(a=0);const u=[];for(let g=0;g<i.length;g++){const p=s2(e,e._getRowId(i[g],g,l),i[g],g,a,void 0,l==null?void 0:l.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,u.push(p),e.options.getSubRows){var c;p.originalSubRows=e.options.getSubRows(i[g],g),(c=p.originalSubRows)!=null&&c.length&&(p.subRows=r(p.originalSubRows,a+1,p))}}return u};return n.rows=r(t),n},_t(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function wV(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function CV(e,t,n){return n.options.filterFromLeafRows?RV(e,t,n):TV(e,t,n)}function RV(e,t,n){var r;const i=[],a={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(c,g){g===void 0&&(g=0);const p=[];for(let x=0;x<c.length;x++){var m;let b=c[x];const E=s2(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(E.columnFilters=b.columnFilters,(m=b.subRows)!=null&&m.length&&g<l){if(E.subRows=u(b.subRows,g+1),b=E,t(b)&&!E.subRows.length){p.push(b),a[b.id]=b,i.push(b);continue}if(t(b)||E.subRows.length){p.push(b),a[b.id]=b,i.push(b);continue}}else b=E,t(b)&&(p.push(b),a[b.id]=b,i.push(b))}return p};return{rows:u(e),flatRows:i,rowsById:a}}function TV(e,t,n){var r;const i=[],a={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(c,g){g===void 0&&(g=0);const p=[];for(let x=0;x<c.length;x++){let b=c[x];if(t(b)){var m;if((m=b.subRows)!=null&&m.length&&g<l){const C=s2(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);C.subRows=u(b.subRows,g+1),b=C}p.push(b),i.push(b),a[b.id]=b}}return p};return{rows:u(e),flatRows:i,rowsById:a}}function NM(){return e=>Nt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let x=0;x<t.flatRows.length;x++)t.flatRows[x].columnFilters={},t.flatRows[x].columnFiltersMeta={};return t}const i=[],a=[];(n??[]).forEach(x=>{var b;const E=e.getColumn(x.id);if(!E)return;const C=E.getFilterFn();C&&i.push({id:x.id,filterFn:C,resolvedValue:(b=C.resolveFilterValue==null?void 0:C.resolveFilterValue(x.value))!=null?b:x.value})});const l=(n??[]).map(x=>x.id),u=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(x=>x.getCanGlobalFilter());r&&u&&c.length&&(l.push("__global__"),c.forEach(x=>{var b;a.push({id:x.id,filterFn:u,resolvedValue:(b=u.resolveFilterValue==null?void 0:u.resolveFilterValue(r))!=null?b:r})}));let g,p;for(let x=0;x<t.flatRows.length;x++){const b=t.flatRows[x];if(b.columnFilters={},i.length)for(let E=0;E<i.length;E++){g=i[E];const C=g.id;b.columnFilters[C]=g.filterFn(b,C,g.resolvedValue,w=>{b.columnFiltersMeta[C]=w})}if(a.length){for(let E=0;E<a.length;E++){p=a[E];const C=p.id;if(p.filterFn(b,C,p.resolvedValue,w=>{b.columnFiltersMeta[C]=w})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const m=x=>{for(let b=0;b<l.length;b++)if(x.columnFilters[l[b]]===!1)return!1;return!0};return CV(t.rows,m,e)},_t(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function _M(e){return t=>Nt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:a}=n;let{rows:l,flatRows:u,rowsById:c}=r;const g=i*a,p=g+i;l=l.slice(g,p);let m;t.options.paginateExpandedRows?m={rows:l,flatRows:u,rowsById:c}:m=wV({rows:l,flatRows:u,rowsById:c}),m.flatRows=[];const x=b=>{m.flatRows.push(b),b.subRows.length&&b.subRows.forEach(x)};return m.rows.forEach(x),m},_t(t.options,"debugTable"))}function IM(){return e=>Nt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],a=r.filter(c=>{var g;return(g=e.getColumn(c.id))==null?void 0:g.getCanSort()}),l={};a.forEach(c=>{const g=e.getColumn(c.id);g&&(l[c.id]={sortUndefined:g.columnDef.sortUndefined,invertSorting:g.columnDef.invertSorting,sortingFn:g.getSortingFn()})});const u=c=>{const g=c.map(p=>({...p}));return g.sort((p,m)=>{for(let b=0;b<a.length;b+=1){var x;const E=a[b],C=l[E.id],w=C.sortUndefined,R=(x=E==null?void 0:E.desc)!=null?x:!1;let I=0;if(w){const N=p.getValue(E.id),D=m.getValue(E.id),L=N===void 0,k=D===void 0;if(L||k){if(w==="first")return L?-1:1;if(w==="last")return L?1:-1;I=L&&k?0:L?w:-w}}if(I===0&&(I=C.sortingFn(p,m,E.id)),I!==0)return R&&(I*=-1),C.invertSorting&&(I*=-1),I}return p.index-m.index}),g.forEach(p=>{var m;i.push(p),(m=p.subRows)!=null&&m.length&&(p.subRows=u(p.subRows))}),g};return{rows:u(n.rows),flatRows:i,rowsById:n.rowsById}},_t(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function rS(e,t){return e?NV(e)?P.createElement(e,t):e:null}function NV(e){return _V(e)||typeof e=="function"||IV(e)}function _V(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function IV(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function OM(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=P.useState(()=>({current:EV(t)})),[r,i]=P.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:l=>{i(l),e.onStateChange==null||e.onStateChange(l)}})),n.current}const wb=43200,MT=1440,PT=Symbol.for("constructDateFrom");function c2(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&PT in e?e[PT](t):e instanceof Date?new e.constructor(t):new Date(t)}function Xc(e,t){return c2(e,e)}let OV={};function DV(){return OV}function LT(e){const t=Xc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function f2(e,...t){const n=c2.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Gb(e,t){const n=+Xc(e)-+Xc(t);return n<0?-1:n>0?1:n}function MV(e){return c2(e,Date.now())}function PV(e,t,n){const[r,i]=f2(n==null?void 0:n.in,e,t),a=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return a*12+l}function LV(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function FV(e,t){return+Xc(e)-+Xc(t)}function kV(e,t){const n=Xc(e);return n.setHours(23,59,59,999),n}function BV(e,t){const n=Xc(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function jV(e,t){const n=Xc(e);return+kV(n)==+BV(n)}function zV(e,t,n){const[r,i,a]=f2(n==null?void 0:n.in,e,e,t),l=Gb(i,a),u=Math.abs(PV(i,a));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-l*u);let c=Gb(i,a)===-l;jV(r)&&u===1&&Gb(r,a)===1&&(c=!1);const g=l*(u-+c);return g===0?0:g}function UV(e,t,n){const r=FV(e,t)/1e3;return LV(n==null?void 0:n.roundingMethod)(r)}const VV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GV=(e,t,n)=>{let r;const i=VV[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function MA(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const $V={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YV={date:MA({formats:$V,defaultWidth:"full"}),time:MA({formats:WV,defaultWidth:"full"}),dateTime:MA({formats:HV,defaultWidth:"full"})},qV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KV=(e,t,n,r)=>qV[e];function D0(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):l;i=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const XV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},e4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},t4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},n4=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},r4={ordinalNumber:n4,era:D0({values:XV,defaultWidth:"wide"}),quarter:D0({values:ZV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:D0({values:JV,defaultWidth:"wide"}),day:D0({values:QV,defaultWidth:"wide"}),dayPeriod:D0({values:e4,defaultWidth:"wide",formattingValues:t4,defaultFormattingWidth:"wide"})};function M0(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const l=a[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?o4(u,m=>m.test(l)):i4(u,m=>m.test(l));let g;g=e.valueCallback?e.valueCallback(c):c,g=n.valueCallback?n.valueCallback(g):g;const p=t.slice(l.length);return{value:g,rest:p}}}function i4(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function o4(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function s4(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(i.length);return{value:l,rest:u}}}const a4=/^(\d+)(th|st|nd|rd)?/i,l4=/\d+/i,u4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},c4={any:[/^b/i,/^(a|c)/i]},f4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d4={any:[/1/i,/2/i,/3/i,/4/i]},h4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},p4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},g4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},y4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},x4={ordinalNumber:s4({matchPattern:a4,parsePattern:l4,valueCallback:e=>parseInt(e,10)}),era:M0({matchPatterns:u4,defaultMatchWidth:"wide",parsePatterns:c4,defaultParseWidth:"any"}),quarter:M0({matchPatterns:f4,defaultMatchWidth:"wide",parsePatterns:d4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:M0({matchPatterns:h4,defaultMatchWidth:"wide",parsePatterns:p4,defaultParseWidth:"any"}),day:M0({matchPatterns:g4,defaultMatchWidth:"wide",parsePatterns:m4,defaultParseWidth:"any"}),dayPeriod:M0({matchPatterns:v4,defaultMatchWidth:"any",parsePatterns:y4,defaultParseWidth:"any"})},b4={code:"en-US",formatDistance:GV,formatLong:YV,formatRelative:KV,localize:r4,match:x4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S4(e,t,n){const r=DV(),i=(n==null?void 0:n.locale)??r.locale??b4,a=2520,l=Gb(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[c,g]=f2(n==null?void 0:n.in,...l>0?[t,e]:[e,t]),p=UV(g,c),m=(LT(g)-LT(c))/1e3,x=Math.round((p-m)/60);let b;if(x<2)return n!=null&&n.includeSeconds?p<5?i.formatDistance("lessThanXSeconds",5,u):p<10?i.formatDistance("lessThanXSeconds",10,u):p<20?i.formatDistance("lessThanXSeconds",20,u):p<40?i.formatDistance("halfAMinute",0,u):p<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):x===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",x,u);if(x<45)return i.formatDistance("xMinutes",x,u);if(x<90)return i.formatDistance("aboutXHours",1,u);if(x<MT){const E=Math.round(x/60);return i.formatDistance("aboutXHours",E,u)}else{if(x<a)return i.formatDistance("xDays",1,u);if(x<wb){const E=Math.round(x/MT);return i.formatDistance("xDays",E,u)}else if(x<wb*2)return b=Math.round(x/wb),i.formatDistance("aboutXMonths",b,u)}if(b=zV(g,c),b<12){const E=Math.round(x/wb);return i.formatDistance("xMonths",E,u)}else{const E=b%12,C=Math.trunc(b/12);return E<3?i.formatDistance("aboutXYears",C,u):E<9?i.formatDistance("overXYears",C,u):i.formatDistance("almostXYears",C+1,u)}}function DM(e,t){return S4(e,MV(e),t)}function dt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function A4(e,t){const n=P.createContext(t),r=a=>{const{children:l,...u}=a,c=P.useMemo(()=>u,Object.values(u));return O.jsx(n.Provider,{value:c,children:l})};r.displayName=e+"Provider";function i(a){const l=P.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function ja(e,t=[]){let n=[];function r(a,l){const u=P.createContext(l),c=n.length;n=[...n,l];const g=m=>{var R;const{scope:x,children:b,...E}=m,C=((R=x==null?void 0:x[e])==null?void 0:R[c])||u,w=P.useMemo(()=>E,Object.values(E));return O.jsx(C.Provider,{value:w,children:b})};g.displayName=a+"Provider";function p(m,x){var C;const b=((C=x==null?void 0:x[e])==null?void 0:C[c])||u,E=P.useContext(b);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[g,p]}const i=()=>{const a=n.map(l=>P.createContext(l));return function(u){const c=(u==null?void 0:u[e])||a;return P.useMemo(()=>({[`__scope${e}`]:{...u,[e]:c}}),[u,c])}};return i.scopeName=e,[r,E4(i,...t)]}function E4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:c,scopeName:g})=>{const m=c(a)[`__scope${g}`];return{...u,...m}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Pr=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},w4=v3[" useId ".trim().toString()]||(()=>{}),C4=0;function Ia(e){const[t,n]=P.useState(w4());return Pr(()=>{n(r=>r??String(C4++))},[e]),e||(t?`radix-${t}`:"")}function yo(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function hh({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=R4({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:r,u=yo(n),c=P.useCallback(g=>{if(a){const m=typeof g=="function"?g(e):g;m!==e&&u(m)}else i(g)},[a,e,i,u]);return[l,c]}function R4({defaultProp:e,onChange:t}){const n=P.useState(e),[r]=n,i=P.useRef(r),a=yo(t);return P.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var T4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yt=T4.reduce((e,t)=>{const n=qc(`Primitive.${t}`),r=P.forwardRef((i,a)=>{const{asChild:l,...u}=i,c=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(c,{...u,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function MM(e,t){e&&_a.flushSync(()=>e.dispatchEvent(t))}function N4(e,t=globalThis==null?void 0:globalThis.document){const n=yo(e);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var _4="DismissableLayer",fC="dismissableLayer.update",I4="dismissableLayer.pointerDownOutside",O4="dismissableLayer.focusOutside",FT,PM=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bv=P.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...c}=e,g=P.useContext(PM),[p,m]=P.useState(null),x=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=P.useState({}),E=Sn(t,j=>m(j)),C=Array.from(g.layers),[w]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),R=C.indexOf(w),I=p?C.indexOf(p):-1,N=g.layersWithOutsidePointerEventsDisabled.size>0,D=I>=R,L=P4(j=>{const B=j.target,$=[...g.branches].some(K=>K.contains(B));!D||$||(i==null||i(j),l==null||l(j),j.defaultPrevented||u==null||u())},x),k=L4(j=>{const B=j.target;[...g.branches].some(K=>K.contains(B))||(a==null||a(j),l==null||l(j),j.defaultPrevented||u==null||u())},x);return N4(j=>{I===g.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&u&&(j.preventDefault(),u()))},x),P.useEffect(()=>{if(p)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(FT=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(p)),g.layers.add(p),kT(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=FT)}},[p,x,n,g]),P.useEffect(()=>()=>{p&&(g.layers.delete(p),g.layersWithOutsidePointerEventsDisabled.delete(p),kT())},[p,g]),P.useEffect(()=>{const j=()=>b({});return document.addEventListener(fC,j),()=>document.removeEventListener(fC,j)},[]),O.jsx(Yt.div,{...c,ref:E,style:{pointerEvents:N?D?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,L.onPointerDownCapture)})});Bv.displayName=_4;var D4="DismissableLayerBranch",M4=P.forwardRef((e,t)=>{const n=P.useContext(PM),r=P.useRef(null),i=Sn(t,r);return P.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),O.jsx(Yt.div,{...e,ref:i})});M4.displayName=D4;function P4(e,t=globalThis==null?void 0:globalThis.document){const n=yo(e),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let c=function(){LM(I4,n,g,{discrete:!0})};const g={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function L4(e,t=globalThis==null?void 0:globalThis.document){const n=yo(e),r=P.useRef(!1);return P.useEffect(()=>{const i=a=>{a.target&&!r.current&&LM(O4,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function kT(){const e=new CustomEvent(fC);document.dispatchEvent(e)}function LM(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?MM(i,a):i.dispatchEvent(a)}var PA="focusScope.autoFocusOnMount",LA="focusScope.autoFocusOnUnmount",BT={bubbles:!1,cancelable:!0},F4="FocusScope",NS=P.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=e,[u,c]=P.useState(null),g=yo(i),p=yo(a),m=P.useRef(null),x=Sn(t,C=>c(C)),b=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let C=function(N){if(b.paused||!u)return;const D=N.target;u.contains(D)?m.current=D:Oc(m.current,{select:!0})},w=function(N){if(b.paused||!u)return;const D=N.relatedTarget;D!==null&&(u.contains(D)||Oc(m.current,{select:!0}))},R=function(N){if(document.activeElement===document.body)for(const L of N)L.removedNodes.length>0&&Oc(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",w);const I=new MutationObserver(R);return u&&I.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",w),I.disconnect()}}},[r,u,b.paused]),P.useEffect(()=>{if(u){zT.add(b);const C=document.activeElement;if(!u.contains(C)){const R=new CustomEvent(PA,BT);u.addEventListener(PA,g),u.dispatchEvent(R),R.defaultPrevented||(k4(V4(FM(u)),{select:!0}),document.activeElement===C&&Oc(u))}return()=>{u.removeEventListener(PA,g),setTimeout(()=>{const R=new CustomEvent(LA,BT);u.addEventListener(LA,p),u.dispatchEvent(R),R.defaultPrevented||Oc(C??document.body,{select:!0}),u.removeEventListener(LA,p),zT.remove(b)},0)}}},[u,g,p,b]);const E=P.useCallback(C=>{if(!n&&!r||b.paused)return;const w=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,R=document.activeElement;if(w&&R){const I=C.currentTarget,[N,D]=B4(I);N&&D?!C.shiftKey&&R===D?(C.preventDefault(),n&&Oc(N,{select:!0})):C.shiftKey&&R===N&&(C.preventDefault(),n&&Oc(D,{select:!0})):R===I&&C.preventDefault()}},[n,r,b.paused]);return O.jsx(Yt.div,{tabIndex:-1,...l,ref:x,onKeyDown:E})});NS.displayName=F4;function k4(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Oc(r,{select:t}),document.activeElement!==n)return}function B4(e){const t=FM(e),n=jT(t,e),r=jT(t.reverse(),e);return[n,r]}function FM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jT(e,t){for(const n of e)if(!j4(n,{upTo:t}))return n}function j4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function z4(e){return e instanceof HTMLInputElement&&"select"in e}function Oc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&z4(e)&&t&&e.select()}}var zT=U4();function U4(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=UT(e,t),e.unshift(t)},remove(t){var n;e=UT(e,t),(n=e[0])==null||n.resume()}}}function UT(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function V4(e){return e.filter(t=>t.tagName!=="A")}var G4="Portal",jv=P.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,a]=P.useState(!1);Pr(()=>a(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?P3.createPortal(O.jsx(Yt.div,{...r,ref:t}),l):null});jv.displayName=G4;function $4(e,t){return P.useReducer((n,r)=>t[n][r]??n,e)}var za=e=>{const{present:t,children:n}=e,r=W4(t),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),a=Sn(r.ref,H4(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:a}):null};za.displayName="Presence";function W4(e){const[t,n]=P.useState(),r=P.useRef({}),i=P.useRef(e),a=P.useRef("none"),l=e?"mounted":"unmounted",[u,c]=$4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const g=Cb(r.current);a.current=u==="mounted"?g:"none"},[u]),Pr(()=>{const g=r.current,p=i.current;if(p!==e){const x=a.current,b=Cb(g);e?c("MOUNT"):b==="none"||(g==null?void 0:g.display)==="none"?c("UNMOUNT"):c(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Pr(()=>{if(t){let g;const p=t.ownerDocument.defaultView??window,m=b=>{const C=Cb(r.current).includes(b.animationName);if(b.target===t&&C&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},x=b=>{b.target===t&&(a.current=Cb(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:P.useCallback(g=>{g&&(r.current=getComputedStyle(g)),n(g)},[])}}function Cb(e){return(e==null?void 0:e.animationName)||"none"}function H4(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var FA=0;function d2(){P.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??VT()),document.body.insertAdjacentElement("beforeend",e[1]??VT()),FA++,()=>{FA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),FA--}},[])}function VT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ca=function(){return Ca=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ca.apply(this,arguments)};function kM(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Y4(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var $b="right-scroll-bar-position",Wb="width-before-scroll-bar",q4="with-scroll-bars-hidden",K4="--removed-body-scroll-bar-size";function kA(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function X4(e,t){var n=P.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Z4=typeof window<"u"?P.useLayoutEffect:P.useEffect,GT=new WeakMap;function J4(e,t){var n=X4(null,function(r){return e.forEach(function(i){return kA(i,r)})});return Z4(function(){var r=GT.get(n);if(r){var i=new Set(r),a=new Set(e),l=n.current;i.forEach(function(u){a.has(u)||kA(u,null)}),a.forEach(function(u){i.has(u)||kA(u,l)})}GT.set(n,e)},[e]),n}function Q4(e){return e}function e9(e,t){t===void 0&&(t=Q4);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var l=t(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var c=function(){var p=l;l=[],p.forEach(a)},g=function(){return Promise.resolve().then(c)};g(),n={push:function(p){l.push(p),g()},filter:function(p){return l=l.filter(p),n}}}};return i}function t9(e){e===void 0&&(e={});var t=e9(null);return t.options=Ca({async:!0,ssr:!1},e),t}var BM=function(e){var t=e.sideCar,n=kM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,Ca({},n))};BM.isSideCarExport=!0;function n9(e,t){return e.useMedium(t),BM}var jM=t9(),BA=function(){},_S=P.forwardRef(function(e,t){var n=P.useRef(null),r=P.useState({onScrollCapture:BA,onWheelCapture:BA,onTouchMoveCapture:BA}),i=r[0],a=r[1],l=e.forwardProps,u=e.children,c=e.className,g=e.removeScrollBar,p=e.enabled,m=e.shards,x=e.sideCar,b=e.noIsolation,E=e.inert,C=e.allowPinchZoom,w=e.as,R=w===void 0?"div":w,I=e.gapMode,N=kM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,L=J4([n,t]),k=Ca(Ca({},N),i);return P.createElement(P.Fragment,null,p&&P.createElement(D,{sideCar:jM,removeScrollBar:g,shards:m,noIsolation:b,inert:E,setCallbacks:a,allowPinchZoom:!!C,lockRef:n,gapMode:I}),l?P.cloneElement(P.Children.only(u),Ca(Ca({},k),{ref:L})):P.createElement(R,Ca({},k,{className:c,ref:L}),u))});_S.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_S.classNames={fullWidth:Wb,zeroRight:$b};var r9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function i9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=r9();return t&&e.setAttribute("nonce",t),e}function o9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function s9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var a9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=i9())&&(o9(t,n),s9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},l9=function(){var e=a9();return function(t,n){P.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},zM=function(){var e=l9(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},u9={left:0,top:0,right:0,gap:0},jA=function(e){return parseInt(e||"",10)||0},c9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[jA(n),jA(r),jA(i)]},f9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return u9;var t=c9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},d9=zM(),Yp="data-scroll-locked",h9=function(e,t,n,r){var i=e.left,a=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(q4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Yp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($b,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Wb,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat($b," .").concat($b,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wb," .").concat(Wb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yp,`] {
    `).concat(K4,": ").concat(u,`px;
  }
`)},$T=function(){var e=parseInt(document.body.getAttribute(Yp)||"0",10);return isFinite(e)?e:0},p9=function(){P.useEffect(function(){return document.body.setAttribute(Yp,($T()+1).toString()),function(){var e=$T()-1;e<=0?document.body.removeAttribute(Yp):document.body.setAttribute(Yp,e.toString())}},[])},g9=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;p9();var a=P.useMemo(function(){return f9(i)},[i]);return P.createElement(d9,{styles:h9(a,!t,i,n?"":"!important")})},dC=!1;if(typeof window<"u")try{var Rb=Object.defineProperty({},"passive",{get:function(){return dC=!0,!0}});window.addEventListener("test",Rb,Rb),window.removeEventListener("test",Rb,Rb)}catch{dC=!1}var Bp=dC?{passive:!1}:!1,m9=function(e){return e.tagName==="TEXTAREA"},UM=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!m9(e)&&n[t]==="visible")},v9=function(e){return UM(e,"overflowY")},y9=function(e){return UM(e,"overflowX")},WT=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=VM(e,r);if(i){var a=GM(e,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},x9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},b9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},VM=function(e,t){return e==="v"?v9(t):y9(t)},GM=function(e,t){return e==="v"?x9(t):b9(t)},S9=function(e,t){return e==="h"&&t==="rtl"?-1:1},A9=function(e,t,n,r,i){var a=S9(e,window.getComputedStyle(t).direction),l=a*r,u=n.target,c=t.contains(u),g=!1,p=l>0,m=0,x=0;do{var b=GM(e,u),E=b[0],C=b[1],w=b[2],R=C-w-a*E;(E||R)&&VM(e,u)&&(m+=R,x+=E),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!c&&u!==document.body||c&&(t.contains(u)||t===u));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(g=!0),g},Tb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},HT=function(e){return[e.deltaX,e.deltaY]},YT=function(e){return e&&"current"in e?e.current:e},E9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},w9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},C9=0,jp=[];function R9(e){var t=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),i=P.useState(C9++)[0],a=P.useState(zM)[0],l=P.useRef(e);P.useEffect(function(){l.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var C=Y4([e.lockRef.current],(e.shards||[]).map(YT),!0).filter(Boolean);return C.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=P.useCallback(function(C,w){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var R=Tb(C),I=n.current,N="deltaX"in C?C.deltaX:I[0]-R[0],D="deltaY"in C?C.deltaY:I[1]-R[1],L,k=C.target,j=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in C&&j==="h"&&k.type==="range")return!1;var B=WT(j,k);if(!B)return!0;if(B?L=j:(L=j==="v"?"h":"v",B=WT(j,k)),!B)return!1;if(!r.current&&"changedTouches"in C&&(N||D)&&(r.current=L),!L)return!0;var $=r.current||L;return A9($,w,C,$==="h"?N:D)},[]),c=P.useCallback(function(C){var w=C;if(!(!jp.length||jp[jp.length-1]!==a)){var R="deltaY"in w?HT(w):Tb(w),I=t.current.filter(function(L){return L.name===w.type&&(L.target===w.target||w.target===L.shadowParent)&&E9(L.delta,R)})[0];if(I&&I.should){w.cancelable&&w.preventDefault();return}if(!I){var N=(l.current.shards||[]).map(YT).filter(Boolean).filter(function(L){return L.contains(w.target)}),D=N.length>0?u(w,N[0]):!l.current.noIsolation;D&&w.cancelable&&w.preventDefault()}}},[]),g=P.useCallback(function(C,w,R,I){var N={name:C,delta:w,target:R,should:I,shadowParent:T9(R)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(D){return D!==N})},1)},[]),p=P.useCallback(function(C){n.current=Tb(C),r.current=void 0},[]),m=P.useCallback(function(C){g(C.type,HT(C),C.target,u(C,e.lockRef.current))},[]),x=P.useCallback(function(C){g(C.type,Tb(C),C.target,u(C,e.lockRef.current))},[]);P.useEffect(function(){return jp.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",c,Bp),document.addEventListener("touchmove",c,Bp),document.addEventListener("touchstart",p,Bp),function(){jp=jp.filter(function(C){return C!==a}),document.removeEventListener("wheel",c,Bp),document.removeEventListener("touchmove",c,Bp),document.removeEventListener("touchstart",p,Bp)}},[]);var b=e.removeScrollBar,E=e.inert;return P.createElement(P.Fragment,null,E?P.createElement(a,{styles:w9(i)}):null,b?P.createElement(g9,{gapMode:e.gapMode}):null)}function T9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const N9=n9(jM,R9);var IS=P.forwardRef(function(e,t){return P.createElement(_S,Ca({},e,{ref:t,sideCar:N9}))});IS.classNames=_S.classNames;var _9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zp=new WeakMap,Nb=new WeakMap,_b={},zA=0,$M=function(e){return e&&(e.host||$M(e.parentNode))},I9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=$M(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},O9=function(e,t,n,r){var i=I9(t,Array.isArray(e)?e:[e]);_b[n]||(_b[n]=new WeakMap);var a=_b[n],l=[],u=new Set,c=new Set(i),g=function(m){!m||u.has(m)||(u.add(m),g(m.parentNode))};i.forEach(g);var p=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(x){if(u.has(x))p(x);else try{var b=x.getAttribute(r),E=b!==null&&b!=="false",C=(zp.get(x)||0)+1,w=(a.get(x)||0)+1;zp.set(x,C),a.set(x,w),l.push(x),C===1&&E&&Nb.set(x,!0),w===1&&x.setAttribute(n,"true"),E||x.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",x,R)}})};return p(t),u.clear(),zA++,function(){l.forEach(function(m){var x=zp.get(m)-1,b=a.get(m)-1;zp.set(m,x),a.set(m,b),x||(Nb.has(m)||m.removeAttribute(r),Nb.delete(m)),b||m.removeAttribute(n)}),zA--,zA||(zp=new WeakMap,zp=new WeakMap,Nb=new WeakMap,_b={})}},h2=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=_9(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),O9(r,i,n,"aria-hidden")):function(){return null}},p2="Dialog",[WM,FZ]=ja(p2),[D9,Ls]=WM(p2),HM=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,u=P.useRef(null),c=P.useRef(null),[g=!1,p]=hh({prop:r,defaultProp:i,onChange:a});return O.jsx(D9,{scope:t,triggerRef:u,contentRef:c,contentId:Ia(),titleId:Ia(),descriptionId:Ia(),open:g,onOpenChange:p,onOpenToggle:P.useCallback(()=>p(m=>!m),[p]),modal:l,children:n})};HM.displayName=p2;var YM="DialogTrigger",qM=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ls(YM,n),a=Sn(t,i.triggerRef);return O.jsx(Yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":v2(i.open),...r,ref:a,onClick:dt(e.onClick,i.onOpenToggle)})});qM.displayName=YM;var g2="DialogPortal",[M9,KM]=WM(g2,{forceMount:void 0}),XM=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Ls(g2,t);return O.jsx(M9,{scope:t,forceMount:n,children:P.Children.map(r,l=>O.jsx(za,{present:n||a.open,children:O.jsx(jv,{asChild:!0,container:i,children:l})}))})};XM.displayName=g2;var iS="DialogOverlay",ZM=P.forwardRef((e,t)=>{const n=KM(iS,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Ls(iS,e.__scopeDialog);return a.modal?O.jsx(za,{present:r||a.open,children:O.jsx(L9,{...i,ref:t})}):null});ZM.displayName=iS;var P9=qc("DialogOverlay.RemoveScroll"),L9=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ls(iS,n);return O.jsx(IS,{as:P9,allowPinchZoom:!0,shards:[i.contentRef],children:O.jsx(Yt.div,{"data-state":v2(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ph="DialogContent",JM=P.forwardRef((e,t)=>{const n=KM(ph,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Ls(ph,e.__scopeDialog);return O.jsx(za,{present:r||a.open,children:a.modal?O.jsx(F9,{...i,ref:t}):O.jsx(k9,{...i,ref:t})})});JM.displayName=ph;var F9=P.forwardRef((e,t)=>{const n=Ls(ph,e.__scopeDialog),r=P.useRef(null),i=Sn(t,n.contentRef,r);return P.useEffect(()=>{const a=r.current;if(a)return h2(a)},[]),O.jsx(QM,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,a=>a.preventDefault())})}),k9=P.forwardRef((e,t)=>{const n=Ls(ph,e.__scopeDialog),r=P.useRef(!1),i=P.useRef(!1);return O.jsx(QM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,a),a.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,g;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((g=n.triggerRef.current)==null?void 0:g.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),QM=P.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=e,u=Ls(ph,n),c=P.useRef(null),g=Sn(t,c);return d2(),O.jsxs(O.Fragment,{children:[O.jsx(NS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:O.jsx(Bv,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":v2(u.open),...l,ref:g,onDismiss:()=>u.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(B9,{titleId:u.titleId}),O.jsx(z9,{contentRef:c,descriptionId:u.descriptionId})]})]})}),m2="DialogTitle",eP=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ls(m2,n);return O.jsx(Yt.h2,{id:i.titleId,...r,ref:t})});eP.displayName=m2;var tP="DialogDescription",nP=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ls(tP,n);return O.jsx(Yt.p,{id:i.descriptionId,...r,ref:t})});nP.displayName=tP;var rP="DialogClose",iP=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ls(rP,n);return O.jsx(Yt.button,{type:"button",...r,ref:t,onClick:dt(e.onClick,()=>i.onOpenChange(!1))})});iP.displayName=rP;function v2(e){return e?"open":"closed"}var oP="DialogTitleWarning",[kZ,sP]=A4(oP,{contentName:ph,titleName:m2,docsSlug:"dialog"}),B9=({titleId:e})=>{const t=sP(oP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return P.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},j9="DialogDescriptionWarning",z9=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sP(j9).contentName}}.`;return P.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},aP=HM,U9=qM,lP=XM,uP=ZM,cP=JM,fP=eP,dP=nP,hP=iP;function zv({...e}){return O.jsx(aP,{"data-slot":"dialog",...e})}function V9({...e}){return O.jsx(U9,{"data-slot":"dialog-trigger",...e})}function G9({...e}){return O.jsx(lP,{"data-slot":"dialog-portal",...e})}function $9({className:e,...t}){return O.jsx(uP,{"data-slot":"dialog-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Uv({className:e,children:t,...n}){return O.jsxs(G9,{children:[O.jsx($9,{}),O.jsxs(cP,{"data-slot":"dialog-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,O.jsxs(hP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:size-4",children:[O.jsx(nM,{}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Vv({className:e,...t}){return O.jsx("div",{"data-slot":"dialog-header",className:St("flex flex-col gap-2 text-center sm:text-left",e),...t})}function W9({className:e,...t}){return O.jsx("div",{"data-slot":"dialog-footer",className:St("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Gv({className:e,...t}){return O.jsx(fP,{"data-slot":"dialog-title",className:St("text-lg font-semibold leading-none",e),...t})}function $v({className:e,...t}){return O.jsx(dP,{"data-slot":"dialog-description",className:St("text-muted-foreground text-sm",e),...t})}function y2(e){const t=e+"CollectionProvider",[n,r]=ja(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:w,children:R}=C,I=Ke.useRef(null),N=Ke.useRef(new Map).current;return O.jsx(i,{scope:w,itemMap:N,collectionRef:I,children:R})};l.displayName=t;const u=e+"CollectionSlot",c=qc(u),g=Ke.forwardRef((C,w)=>{const{scope:R,children:I}=C,N=a(u,R),D=Sn(w,N.collectionRef);return O.jsx(c,{ref:D,children:I})});g.displayName=u;const p=e+"CollectionItemSlot",m="data-radix-collection-item",x=qc(p),b=Ke.forwardRef((C,w)=>{const{scope:R,children:I,...N}=C,D=Ke.useRef(null),L=Sn(w,D),k=a(p,R);return Ke.useEffect(()=>(k.itemMap.set(D,{ref:D,...N}),()=>void k.itemMap.delete(D))),O.jsx(x,{[m]:"",ref:L,children:I})});b.displayName=p;function E(C){const w=a(e+"CollectionConsumer",C);return Ke.useCallback(()=>{const I=w.collectionRef.current;if(!I)return[];const N=Array.from(I.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((k,j)=>N.indexOf(k.ref.current)-N.indexOf(j.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:g,ItemSlot:b},E,r]}var H9=P.createContext(void 0);function x2(e){const t=P.useContext(H9);return e||t||"ltr"}const Y9=["top","right","bottom","left"],Zc=Math.min,go=Math.max,oS=Math.round,Ib=Math.floor,Oa=e=>({x:e,y:e}),q9={left:"right",right:"left",bottom:"top",top:"bottom"},K9={start:"end",end:"start"};function hC(e,t,n){return go(e,Zc(t,n))}function _u(e,t){return typeof e=="function"?e(t):e}function Iu(e){return e.split("-")[0]}function wg(e){return e.split("-")[1]}function b2(e){return e==="x"?"y":"x"}function S2(e){return e==="y"?"height":"width"}function Jc(e){return["top","bottom"].includes(Iu(e))?"y":"x"}function A2(e){return b2(Jc(e))}function X9(e,t,n){n===void 0&&(n=!1);const r=wg(e),i=A2(e),a=S2(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=sS(l)),[l,sS(l)]}function Z9(e){const t=sS(e);return[pC(e),t,pC(t)]}function pC(e){return e.replace(/start|end/g,t=>K9[t])}function J9(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:l;default:return[]}}function Q9(e,t,n,r){const i=wg(e);let a=J9(Iu(e),n==="start",r);return i&&(a=a.map(l=>l+"-"+i),t&&(a=a.concat(a.map(pC)))),a}function sS(e){return e.replace(/left|right|bottom|top/g,t=>q9[t])}function e6(e){return{top:0,right:0,bottom:0,left:0,...e}}function pP(e){return typeof e!="number"?e6(e):{top:e,right:e,bottom:e,left:e}}function aS(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function qT(e,t,n){let{reference:r,floating:i}=e;const a=Jc(t),l=A2(t),u=S2(l),c=Iu(t),g=a==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,x=r[u]/2-i[u]/2;let b;switch(c){case"top":b={x:p,y:r.y-i.height};break;case"bottom":b={x:p,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-i.width,y:m};break;default:b={x:r.x,y:r.y}}switch(wg(t)){case"start":b[l]-=x*(n&&g?-1:1);break;case"end":b[l]+=x*(n&&g?-1:1);break}return b}const t6=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let g=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:m}=qT(g,r,c),x=r,b={},E=0;for(let C=0;C<u.length;C++){const{name:w,fn:R}=u[C],{x:I,y:N,data:D,reset:L}=await R({x:p,y:m,initialPlacement:r,placement:x,strategy:i,middlewareData:b,rects:g,platform:l,elements:{reference:e,floating:t}});p=I??p,m=N??m,b={...b,[w]:{...b[w],...D}},L&&E<=50&&(E++,typeof L=="object"&&(L.placement&&(x=L.placement),L.rects&&(g=L.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):L.rects),{x:p,y:m}=qT(g,x,c)),C=-1)}return{x:p,y:m,placement:x,strategy:i,middlewareData:b}};async function Ev(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:l,elements:u,strategy:c}=e,{boundary:g="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=_u(t,e),E=pP(b),w=u[x?m==="floating"?"reference":"floating":m],R=aS(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:g,rootBoundary:p,strategy:c})),I=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),D=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},L=aS(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:I,offsetParent:N,strategy:c}):I);return{top:(R.top-L.top+E.top)/D.y,bottom:(L.bottom-R.bottom+E.bottom)/D.y,left:(R.left-L.left+E.left)/D.x,right:(L.right-R.right+E.right)/D.x}}const n6=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:l,elements:u,middlewareData:c}=t,{element:g,padding:p=0}=_u(e,t)||{};if(g==null)return{};const m=pP(p),x={x:n,y:r},b=A2(i),E=S2(b),C=await l.getDimensions(g),w=b==="y",R=w?"top":"left",I=w?"bottom":"right",N=w?"clientHeight":"clientWidth",D=a.reference[E]+a.reference[b]-x[b]-a.floating[E],L=x[b]-a.reference[b],k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(g));let j=k?k[N]:0;(!j||!await(l.isElement==null?void 0:l.isElement(k)))&&(j=u.floating[N]||a.floating[E]);const B=D/2-L/2,$=j/2-C[E]/2-1,K=Zc(m[R],$),ne=Zc(m[I],$),re=K,Se=j-C[E]-ne,Me=j/2-C[E]/2+B,Oe=hC(re,Me,Se),ie=!c.arrow&&wg(i)!=null&&Me!==Oe&&a.reference[E]/2-(Me<re?K:ne)-C[E]/2<0,Ae=ie?Me<re?Me-re:Me-Se:0;return{[b]:x[b]+Ae,data:{[b]:Oe,centerOffset:Me-Oe-Ae,...ie&&{alignmentOffset:Ae}},reset:ie}}}),r6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:c,elements:g}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:C=!0,...w}=_u(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const R=Iu(i),I=Jc(u),N=Iu(u)===u,D=await(c.isRTL==null?void 0:c.isRTL(g.floating)),L=x||(N||!C?[sS(u)]:Z9(u)),k=E!=="none";!x&&k&&L.push(...Q9(u,C,E,D));const j=[u,...L],B=await Ev(t,w),$=[];let K=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&$.push(B[R]),m){const Me=X9(i,l,D);$.push(B[Me[0]],B[Me[1]])}if(K=[...K,{placement:i,overflows:$}],!$.every(Me=>Me<=0)){var ne,re;const Me=(((ne=a.flip)==null?void 0:ne.index)||0)+1,Oe=j[Me];if(Oe)return{data:{index:Me,overflows:K},reset:{placement:Oe}};let ie=(re=K.filter(Ae=>Ae.overflows[0]<=0).sort((Ae,de)=>Ae.overflows[1]-de.overflows[1])[0])==null?void 0:re.placement;if(!ie)switch(b){case"bestFit":{var Se;const Ae=(Se=K.filter(de=>{if(k){const ue=Jc(de.placement);return ue===I||ue==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(ue=>ue>0).reduce((ue,X)=>ue+X,0)]).sort((de,ue)=>de[1]-ue[1])[0])==null?void 0:Se[0];Ae&&(ie=Ae);break}case"initialPlacement":ie=u;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function KT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function XT(e){return Y9.some(t=>e[t]>=0)}const i6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=_u(e,t);switch(r){case"referenceHidden":{const a=await Ev(t,{...i,elementContext:"reference"}),l=KT(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:XT(l)}}}case"escaped":{const a=await Ev(t,{...i,altBoundary:!0}),l=KT(a,n.floating);return{data:{escapedOffsets:l,escaped:XT(l)}}}default:return{}}}}};async function o6(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Iu(n),u=wg(n),c=Jc(n)==="y",g=["left","top"].includes(l)?-1:1,p=a&&c?-1:1,m=_u(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:E}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof E=="number"&&(b=u==="end"?E*-1:E),c?{x:b*p,y:x*g}:{x:x*g,y:b*p}}const s6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:l,middlewareData:u}=t,c=await o6(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:l}}}}},a6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:w=>{let{x:R,y:I}=w;return{x:R,y:I}}},...c}=_u(e,t),g={x:n,y:r},p=await Ev(t,c),m=Jc(Iu(i)),x=b2(m);let b=g[x],E=g[m];if(a){const w=x==="y"?"top":"left",R=x==="y"?"bottom":"right",I=b+p[w],N=b-p[R];b=hC(I,b,N)}if(l){const w=m==="y"?"top":"left",R=m==="y"?"bottom":"right",I=E+p[w],N=E-p[R];E=hC(I,E,N)}const C=u.fn({...t,[x]:b,[m]:E});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[x]:a,[m]:l}}}}}},l6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:l}=t,{offset:u=0,mainAxis:c=!0,crossAxis:g=!0}=_u(e,t),p={x:n,y:r},m=Jc(i),x=b2(m);let b=p[x],E=p[m];const C=_u(u,t),w=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(c){const N=x==="y"?"height":"width",D=a.reference[x]-a.floating[N]+w.mainAxis,L=a.reference[x]+a.reference[N]-w.mainAxis;b<D?b=D:b>L&&(b=L)}if(g){var R,I;const N=x==="y"?"width":"height",D=["top","left"].includes(Iu(i)),L=a.reference[m]-a.floating[N]+(D&&((R=l.offset)==null?void 0:R[m])||0)+(D?0:w.crossAxis),k=a.reference[m]+a.reference[N]+(D?0:((I=l.offset)==null?void 0:I[m])||0)-(D?w.crossAxis:0);E<L?E=L:E>k&&(E=k)}return{[x]:b,[m]:E}}}},u6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:l,elements:u}=t,{apply:c=()=>{},...g}=_u(e,t),p=await Ev(t,g),m=Iu(i),x=wg(i),b=Jc(i)==="y",{width:E,height:C}=a.floating;let w,R;m==="top"||m==="bottom"?(w=m,R=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(R=m,w=x==="end"?"top":"bottom");const I=C-p.top-p.bottom,N=E-p.left-p.right,D=Zc(C-p[w],I),L=Zc(E-p[R],N),k=!t.middlewareData.shift;let j=D,B=L;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=I),k&&!x){const K=go(p.left,0),ne=go(p.right,0),re=go(p.top,0),Se=go(p.bottom,0);b?B=E-2*(K!==0||ne!==0?K+ne:go(p.left,p.right)):j=C-2*(re!==0||Se!==0?re+Se:go(p.top,p.bottom))}await c({...t,availableWidth:B,availableHeight:j});const $=await l.getDimensions(u.floating);return E!==$.width||C!==$.height?{reset:{rects:!0}}:{}}}};function OS(){return typeof window<"u"}function Cg(e){return gP(e)?(e.nodeName||"").toLowerCase():"#document"}function mo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ua(e){var t;return(t=(gP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gP(e){return OS()?e instanceof Node||e instanceof mo(e).Node:!1}function Os(e){return OS()?e instanceof Element||e instanceof mo(e).Element:!1}function Pa(e){return OS()?e instanceof HTMLElement||e instanceof mo(e).HTMLElement:!1}function ZT(e){return!OS()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mo(e).ShadowRoot}function Wv(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ds(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function c6(e){return["table","td","th"].includes(Cg(e))}function DS(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function E2(e){const t=w2(),n=Os(e)?Ds(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function f6(e){let t=Qc(e);for(;Pa(t)&&!fg(t);){if(E2(t))return t;if(DS(t))return null;t=Qc(t)}return null}function w2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fg(e){return["html","body","#document"].includes(Cg(e))}function Ds(e){return mo(e).getComputedStyle(e)}function MS(e){return Os(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qc(e){if(Cg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ZT(e)&&e.host||Ua(e);return ZT(t)?t.host:t}function mP(e){const t=Qc(e);return fg(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pa(t)&&Wv(t)?t:mP(t)}function wv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=mP(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),l=mo(i);if(a){const u=gC(l);return t.concat(l,l.visualViewport||[],Wv(i)?i:[],u&&n?wv(u):[])}return t.concat(i,wv(i,[],n))}function gC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vP(e){const t=Ds(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Pa(e),a=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=oS(n)!==a||oS(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function C2(e){return Os(e)?e:e.contextElement}function qp(e){const t=C2(e);if(!Pa(t))return Oa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=vP(t);let l=(a?oS(n.width):n.width)/r,u=(a?oS(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const d6=Oa(0);function yP(e){const t=mo(e);return!w2()||!t.visualViewport?d6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function h6(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==mo(e)?!1:t}function gh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=C2(e);let l=Oa(1);t&&(r?Os(r)&&(l=qp(r)):l=qp(e));const u=h6(a,n,r)?yP(a):Oa(0);let c=(i.left+u.x)/l.x,g=(i.top+u.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(a){const x=mo(a),b=r&&Os(r)?mo(r):r;let E=x,C=gC(E);for(;C&&r&&b!==E;){const w=qp(C),R=C.getBoundingClientRect(),I=Ds(C),N=R.left+(C.clientLeft+parseFloat(I.paddingLeft))*w.x,D=R.top+(C.clientTop+parseFloat(I.paddingTop))*w.y;c*=w.x,g*=w.y,p*=w.x,m*=w.y,c+=N,g+=D,E=mo(C),C=gC(E)}}return aS({width:p,height:m,x:c,y:g})}function R2(e,t){const n=MS(e).scrollLeft;return t?t.left+n:gh(Ua(e)).left+n}function xP(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:R2(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function p6(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",l=Ua(r),u=t?DS(t.floating):!1;if(r===l||u&&a)return n;let c={scrollLeft:0,scrollTop:0},g=Oa(1);const p=Oa(0),m=Pa(r);if((m||!m&&!a)&&((Cg(r)!=="body"||Wv(l))&&(c=MS(r)),Pa(r))){const b=gh(r);g=qp(r),p.x=b.x+r.clientLeft,p.y=b.y+r.clientTop}const x=l&&!m&&!a?xP(l,c,!0):Oa(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-c.scrollLeft*g.x+p.x+x.x,y:n.y*g.y-c.scrollTop*g.y+p.y+x.y}}function g6(e){return Array.from(e.getClientRects())}function m6(e){const t=Ua(e),n=MS(e),r=e.ownerDocument.body,i=go(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=go(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+R2(e);const u=-n.scrollTop;return Ds(r).direction==="rtl"&&(l+=go(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:u}}function v6(e,t){const n=mo(e),r=Ua(e),i=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,c=0;if(i){a=i.width,l=i.height;const g=w2();(!g||g&&t==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:a,height:l,x:u,y:c}}function y6(e,t){const n=gh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Pa(e)?qp(e):Oa(1),l=e.clientWidth*a.x,u=e.clientHeight*a.y,c=i*a.x,g=r*a.y;return{width:l,height:u,x:c,y:g}}function JT(e,t,n){let r;if(t==="viewport")r=v6(e,n);else if(t==="document")r=m6(Ua(e));else if(Os(t))r=y6(t,n);else{const i=yP(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return aS(r)}function bP(e,t){const n=Qc(e);return n===t||!Os(n)||fg(n)?!1:Ds(n).position==="fixed"||bP(n,t)}function x6(e,t){const n=t.get(e);if(n)return n;let r=wv(e,[],!1).filter(u=>Os(u)&&Cg(u)!=="body"),i=null;const a=Ds(e).position==="fixed";let l=a?Qc(e):e;for(;Os(l)&&!fg(l);){const u=Ds(l),c=E2(l);!c&&u.position==="fixed"&&(i=null),(a?!c&&!i:!c&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Wv(l)&&!c&&bP(e,l))?r=r.filter(p=>p!==l):i=u,l=Qc(l)}return t.set(e,r),r}function b6(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?DS(t)?[]:x6(t,this._c):[].concat(n),r],u=l[0],c=l.reduce((g,p)=>{const m=JT(t,p,i);return g.top=go(m.top,g.top),g.right=Zc(m.right,g.right),g.bottom=Zc(m.bottom,g.bottom),g.left=go(m.left,g.left),g},JT(t,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function S6(e){const{width:t,height:n}=vP(e);return{width:t,height:n}}function A6(e,t,n){const r=Pa(t),i=Ua(t),a=n==="fixed",l=gh(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const c=Oa(0);if(r||!r&&!a)if((Cg(t)!=="body"||Wv(i))&&(u=MS(t)),r){const x=gh(t,!0,a,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else i&&(c.x=R2(i));const g=i&&!r&&!a?xP(i,u):Oa(0),p=l.left+u.scrollLeft-c.x-g.x,m=l.top+u.scrollTop-c.y-g.y;return{x:p,y:m,width:l.width,height:l.height}}function UA(e){return Ds(e).position==="static"}function QT(e,t){if(!Pa(e)||Ds(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ua(e)===n&&(n=n.ownerDocument.body),n}function SP(e,t){const n=mo(e);if(DS(e))return n;if(!Pa(e)){let i=Qc(e);for(;i&&!fg(i);){if(Os(i)&&!UA(i))return i;i=Qc(i)}return n}let r=QT(e,t);for(;r&&c6(r)&&UA(r);)r=QT(r,t);return r&&fg(r)&&UA(r)&&!E2(r)?n:r||f6(e)||n}const E6=async function(e){const t=this.getOffsetParent||SP,n=this.getDimensions,r=await n(e.floating);return{reference:A6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function w6(e){return Ds(e).direction==="rtl"}const C6={convertOffsetParentRelativeRectToViewportRelativeRect:p6,getDocumentElement:Ua,getClippingRect:b6,getOffsetParent:SP,getElementRects:E6,getClientRects:g6,getDimensions:S6,getScale:qp,isElement:Os,isRTL:w6};function AP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function R6(e,t){let n=null,r;const i=Ua(e);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),a();const g=e.getBoundingClientRect(),{left:p,top:m,width:x,height:b}=g;if(u||t(),!x||!b)return;const E=Ib(m),C=Ib(i.clientWidth-(p+x)),w=Ib(i.clientHeight-(m+b)),R=Ib(p),N={rootMargin:-E+"px "+-C+"px "+-w+"px "+-R+"px",threshold:go(0,Zc(1,c))||1};let D=!0;function L(k){const j=k[0].intersectionRatio;if(j!==c){if(!D)return l();j?l(!1,j):r=setTimeout(()=>{l(!1,1e-7)},1e3)}j===1&&!AP(g,e.getBoundingClientRect())&&l(),D=!1}try{n=new IntersectionObserver(L,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,N)}n.observe(e)}return l(!0),a}function T6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,g=C2(e),p=i||a?[...g?wv(g):[],...wv(t)]:[];p.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),a&&R.addEventListener("resize",n)});const m=g&&u?R6(g,n):null;let x=-1,b=null;l&&(b=new ResizeObserver(R=>{let[I]=R;I&&I.target===g&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(t)})),n()}),g&&!c&&b.observe(g),b.observe(t));let E,C=c?gh(e):null;c&&w();function w(){const R=gh(e);C&&!AP(C,R)&&n(),C=R,E=requestAnimationFrame(w)}return n(),()=>{var R;p.forEach(I=>{i&&I.removeEventListener("scroll",n),a&&I.removeEventListener("resize",n)}),m==null||m(),(R=b)==null||R.disconnect(),b=null,c&&cancelAnimationFrame(E)}}const N6=s6,_6=a6,I6=r6,O6=u6,D6=i6,eN=n6,M6=l6,P6=(e,t,n)=>{const r=new Map,i={platform:C6,...n},a={...i.platform,_c:r};return t6(e,t,{...i,platform:a})};var Hb=typeof document<"u"?P.useLayoutEffect:P.useEffect;function lS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!lS(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!lS(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function EP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tN(e,t){const n=EP(e);return Math.round(t*n)/n}function VA(e){const t=P.useRef(e);return Hb(()=>{t.current=e}),t}function L6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:c,open:g}=e,[p,m]=P.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=P.useState(r);lS(x,r)||b(r);const[E,C]=P.useState(null),[w,R]=P.useState(null),I=P.useCallback(de=>{de!==k.current&&(k.current=de,C(de))},[]),N=P.useCallback(de=>{de!==j.current&&(j.current=de,R(de))},[]),D=a||E,L=l||w,k=P.useRef(null),j=P.useRef(null),B=P.useRef(p),$=c!=null,K=VA(c),ne=VA(i),re=VA(g),Se=P.useCallback(()=>{if(!k.current||!j.current)return;const de={placement:t,strategy:n,middleware:x};ne.current&&(de.platform=ne.current),P6(k.current,j.current,de).then(ue=>{const X={...ue,isPositioned:re.current!==!1};Me.current&&!lS(B.current,X)&&(B.current=X,_a.flushSync(()=>{m(X)}))})},[x,t,n,ne,re]);Hb(()=>{g===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,m(de=>({...de,isPositioned:!1})))},[g]);const Me=P.useRef(!1);Hb(()=>(Me.current=!0,()=>{Me.current=!1}),[]),Hb(()=>{if(D&&(k.current=D),L&&(j.current=L),D&&L){if(K.current)return K.current(D,L,Se);Se()}},[D,L,Se,K,$]);const Oe=P.useMemo(()=>({reference:k,floating:j,setReference:I,setFloating:N}),[I,N]),ie=P.useMemo(()=>({reference:D,floating:L}),[D,L]),Ae=P.useMemo(()=>{const de={position:n,left:0,top:0};if(!ie.floating)return de;const ue=tN(ie.floating,p.x),X=tN(ie.floating,p.y);return u?{...de,transform:"translate("+ue+"px, "+X+"px)",...EP(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ue,top:X}},[n,u,ie.floating,p.x,p.y]);return P.useMemo(()=>({...p,update:Se,refs:Oe,elements:ie,floatingStyles:Ae}),[p,Se,Oe,ie,Ae])}const F6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?eN({element:r.current,padding:i}).fn(n):{}:r?eN({element:r,padding:i}).fn(n):{}}}},k6=(e,t)=>({...N6(e),options:[e,t]}),B6=(e,t)=>({..._6(e),options:[e,t]}),j6=(e,t)=>({...M6(e),options:[e,t]}),z6=(e,t)=>({...I6(e),options:[e,t]}),U6=(e,t)=>({...O6(e),options:[e,t]}),V6=(e,t)=>({...D6(e),options:[e,t]}),G6=(e,t)=>({...F6(e),options:[e,t]});var $6="Arrow",wP=P.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return O.jsx(Yt.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:O.jsx("polygon",{points:"0,0 30,0 15,10"})})});wP.displayName=$6;var W6=wP;function CP(e){const[t,n]=P.useState(void 0);return Pr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const c=a.borderBoxSize,g=Array.isArray(c)?c[0]:c;l=g.inlineSize,u=g.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var T2="Popper",[RP,Rg]=ja(T2),[H6,TP]=RP(T2),NP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=P.useState(null);return O.jsx(H6,{scope:t,anchor:r,onAnchorChange:i,children:n})};NP.displayName=T2;var _P="PopperAnchor",IP=P.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=TP(_P,n),l=P.useRef(null),u=Sn(t,l);return P.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:O.jsx(Yt.div,{...i,ref:u})});IP.displayName=_P;var N2="PopperContent",[Y6,q6]=RP(N2),OP=P.forwardRef((e,t)=>{var Q,Z,J,se,ye,xe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:c=!0,collisionBoundary:g=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:E,...C}=e,w=TP(N2,n),[R,I]=P.useState(null),N=Sn(t,ae=>I(ae)),[D,L]=P.useState(null),k=CP(D),j=(k==null?void 0:k.width)??0,B=(k==null?void 0:k.height)??0,$=r+(a!=="center"?"-"+a:""),K=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ne=Array.isArray(g)?g:[g],re=ne.length>0,Se={padding:K,boundary:ne.filter(X6),altBoundary:re},{refs:Me,floatingStyles:Oe,placement:ie,isPositioned:Ae,middlewareData:de}=L6({strategy:"fixed",placement:$,whileElementsMounted:(...ae)=>T6(...ae,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[k6({mainAxis:i+B,alignmentAxis:l}),c&&B6({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?j6():void 0,...Se}),c&&z6({...Se}),U6({...Se,apply:({elements:ae,rects:le,availableWidth:we,availableHeight:Ie})=>{const{width:je,height:Ue}=le.reference,me=ae.floating.style;me.setProperty("--radix-popper-available-width",`${we}px`),me.setProperty("--radix-popper-available-height",`${Ie}px`),me.setProperty("--radix-popper-anchor-width",`${je}px`),me.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),D&&G6({element:D,padding:u}),Z6({arrowWidth:j,arrowHeight:B}),x&&V6({strategy:"referenceHidden",...Se})]}),[ue,X]=PP(ie),oe=yo(E);Pr(()=>{Ae&&(oe==null||oe())},[Ae,oe]);const he=(Q=de.arrow)==null?void 0:Q.x,z=(Z=de.arrow)==null?void 0:Z.y,U=((J=de.arrow)==null?void 0:J.centerOffset)!==0,[G,H]=P.useState();return Pr(()=>{R&&H(window.getComputedStyle(R).zIndex)},[R]),O.jsx("div",{ref:Me.setFloating,"data-radix-popper-content-wrapper":"",style:{...Oe,transform:Ae?Oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(se=de.transformOrigin)==null?void 0:se.x,(ye=de.transformOrigin)==null?void 0:ye.y].join(" "),...((xe=de.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:O.jsx(Y6,{scope:n,placedSide:ue,onArrowChange:L,arrowX:he,arrowY:z,shouldHideArrow:U,children:O.jsx(Yt.div,{"data-side":ue,"data-align":X,...C,ref:N,style:{...C.style,animation:Ae?void 0:"none"}})})})});OP.displayName=N2;var DP="PopperArrow",K6={top:"bottom",right:"left",bottom:"top",left:"right"},MP=P.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=q6(DP,r),l=K6[a.placedSide];return O.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:O.jsx(W6,{...i,ref:n,style:{...i.style,display:"block"}})})});MP.displayName=DP;function X6(e){return e!==null}var Z6=e=>({name:"transformOrigin",options:e,fn(t){var w,R,I;const{placement:n,rects:r,middlewareData:i}=t,l=((w=i.arrow)==null?void 0:w.centerOffset)!==0,u=l?0:e.arrowWidth,c=l?0:e.arrowHeight,[g,p]=PP(n),m={start:"0%",center:"50%",end:"100%"}[p],x=(((R=i.arrow)==null?void 0:R.x)??0)+u/2,b=(((I=i.arrow)==null?void 0:I.y)??0)+c/2;let E="",C="";return g==="bottom"?(E=l?m:`${x}px`,C=`${-c}px`):g==="top"?(E=l?m:`${x}px`,C=`${r.floating.height+c}px`):g==="right"?(E=`${-c}px`,C=l?m:`${b}px`):g==="left"&&(E=`${r.floating.width+c}px`,C=l?m:`${b}px`),{data:{x:E,y:C}}}});function PP(e){const[t,n="center"]=e.split("-");return[t,n]}var _2=NP,I2=IP,O2=OP,D2=MP,GA="rovingFocusGroup.onEntryFocus",J6={bubbles:!1,cancelable:!0},PS="RovingFocusGroup",[mC,LP,Q6]=y2(PS),[eG,FP]=ja(PS,[Q6]),[tG,nG]=eG(PS),kP=P.forwardRef((e,t)=>O.jsx(mC.Provider,{scope:e.__scopeRovingFocusGroup,children:O.jsx(mC.Slot,{scope:e.__scopeRovingFocusGroup,children:O.jsx(rG,{...e,ref:t})})}));kP.displayName=PS;var rG=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:g,preventScrollOnEntryFocus:p=!1,...m}=e,x=P.useRef(null),b=Sn(t,x),E=x2(a),[C=null,w]=hh({prop:l,defaultProp:u,onChange:c}),[R,I]=P.useState(!1),N=yo(g),D=LP(n),L=P.useRef(!1),[k,j]=P.useState(0);return P.useEffect(()=>{const B=x.current;if(B)return B.addEventListener(GA,N),()=>B.removeEventListener(GA,N)},[N]),O.jsx(tG,{scope:n,orientation:r,dir:E,loop:i,currentTabStopId:C,onItemFocus:P.useCallback(B=>w(B),[w]),onItemShiftTab:P.useCallback(()=>I(!0),[]),onFocusableItemAdd:P.useCallback(()=>j(B=>B+1),[]),onFocusableItemRemove:P.useCallback(()=>j(B=>B-1),[]),children:O.jsx(Yt.div,{tabIndex:R||k===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{L.current=!0}),onFocus:dt(e.onFocus,B=>{const $=!L.current;if(B.target===B.currentTarget&&$&&!R){const K=new CustomEvent(GA,J6);if(B.currentTarget.dispatchEvent(K),!K.defaultPrevented){const ne=D().filter(ie=>ie.focusable),re=ne.find(ie=>ie.active),Se=ne.find(ie=>ie.id===C),Oe=[re,Se,...ne].filter(Boolean).map(ie=>ie.ref.current);zP(Oe,p)}}L.current=!1}),onBlur:dt(e.onBlur,()=>I(!1))})})}),BP="RovingFocusGroupItem",jP=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...l}=e,u=Ia(),c=a||u,g=nG(BP,n),p=g.currentTabStopId===c,m=LP(n),{onFocusableItemAdd:x,onFocusableItemRemove:b}=g;return P.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),O.jsx(mC.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:O.jsx(Yt.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...l,ref:t,onMouseDown:dt(e.onMouseDown,E=>{r?g.onItemFocus(c):E.preventDefault()}),onFocus:dt(e.onFocus,()=>g.onItemFocus(c)),onKeyDown:dt(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const C=sG(E,g.orientation,g.dir);if(C!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let R=m().filter(I=>I.focusable).map(I=>I.ref.current);if(C==="last")R.reverse();else if(C==="prev"||C==="next"){C==="prev"&&R.reverse();const I=R.indexOf(E.currentTarget);R=g.loop?aG(R,I+1):R.slice(I+1)}setTimeout(()=>zP(R))}})})})});jP.displayName=BP;var iG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oG(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sG(e,t,n){const r=oG(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return iG[r]}function zP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function aG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var lG=kP,uG=jP,vC=["Enter"," "],cG=["ArrowDown","PageUp","Home"],UP=["ArrowUp","PageDown","End"],fG=[...cG,...UP],dG={ltr:[...vC,"ArrowRight"],rtl:[...vC,"ArrowLeft"]},hG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hv="Menu",[Cv,pG,gG]=y2(Hv),[yh,VP]=ja(Hv,[gG,Rg,FP]),LS=Rg(),GP=FP(),[mG,xh]=yh(Hv),[vG,Yv]=yh(Hv),$P=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:l=!0}=e,u=LS(t),[c,g]=P.useState(null),p=P.useRef(!1),m=yo(a),x=x2(i);return P.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),O.jsx(_2,{...u,children:O.jsx(mG,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:g,children:O.jsx(vG,{scope:t,onClose:P.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:x,modal:l,children:r})})})};$P.displayName=Hv;var yG="MenuAnchor",M2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=LS(n);return O.jsx(I2,{...i,...r,ref:t})});M2.displayName=yG;var P2="MenuPortal",[xG,WP]=yh(P2,{forceMount:void 0}),HP=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=xh(P2,t);return O.jsx(xG,{scope:t,forceMount:n,children:O.jsx(za,{present:n||a.open,children:O.jsx(jv,{asChild:!0,container:i,children:r})})})};HP.displayName=P2;var $o="MenuContent",[bG,L2]=yh($o),YP=P.forwardRef((e,t)=>{const n=WP($o,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=xh($o,e.__scopeMenu),l=Yv($o,e.__scopeMenu);return O.jsx(Cv.Provider,{scope:e.__scopeMenu,children:O.jsx(za,{present:r||a.open,children:O.jsx(Cv.Slot,{scope:e.__scopeMenu,children:l.modal?O.jsx(SG,{...i,ref:t}):O.jsx(AG,{...i,ref:t})})})})}),SG=P.forwardRef((e,t)=>{const n=xh($o,e.__scopeMenu),r=P.useRef(null),i=Sn(t,r);return P.useEffect(()=>{const a=r.current;if(a)return h2(a)},[]),O.jsx(F2,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:dt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),AG=P.forwardRef((e,t)=>{const n=xh($o,e.__scopeMenu);return O.jsx(F2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),EG=qc("MenuContent.ScrollLock"),F2=P.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:c,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,disableOutsideScroll:E,...C}=e,w=xh($o,n),R=Yv($o,n),I=LS(n),N=GP(n),D=pG(n),[L,k]=P.useState(null),j=P.useRef(null),B=Sn(t,j,w.onContentChange),$=P.useRef(0),K=P.useRef(""),ne=P.useRef(0),re=P.useRef(null),Se=P.useRef("right"),Me=P.useRef(0),Oe=E?IS:P.Fragment,ie=E?{as:EG,allowPinchZoom:!0}:void 0,Ae=ue=>{var Q,Z;const X=K.current+ue,oe=D().filter(J=>!J.disabled),he=document.activeElement,z=(Q=oe.find(J=>J.ref.current===he))==null?void 0:Q.textValue,U=oe.map(J=>J.textValue),G=LG(U,X,z),H=(Z=oe.find(J=>J.textValue===G))==null?void 0:Z.ref.current;(function J(se){K.current=se,window.clearTimeout($.current),se!==""&&($.current=window.setTimeout(()=>J(""),1e3))})(X),H&&setTimeout(()=>H.focus())};P.useEffect(()=>()=>window.clearTimeout($.current),[]),d2();const de=P.useCallback(ue=>{var oe,he;return Se.current===((oe=re.current)==null?void 0:oe.side)&&kG(ue,(he=re.current)==null?void 0:he.area)},[]);return O.jsx(bG,{scope:n,searchRef:K,onItemEnter:P.useCallback(ue=>{de(ue)&&ue.preventDefault()},[de]),onItemLeave:P.useCallback(ue=>{var X;de(ue)||((X=j.current)==null||X.focus(),k(null))},[de]),onTriggerLeave:P.useCallback(ue=>{de(ue)&&ue.preventDefault()},[de]),pointerGraceTimerRef:ne,onPointerGraceIntentChange:P.useCallback(ue=>{re.current=ue},[]),children:O.jsx(Oe,{...ie,children:O.jsx(NS,{asChild:!0,trapped:i,onMountAutoFocus:dt(a,ue=>{var X;ue.preventDefault(),(X=j.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:O.jsx(Bv,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,children:O.jsx(lG,{asChild:!0,...N,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:L,onCurrentTabStopIdChange:k,onEntryFocus:dt(c,ue=>{R.isUsingKeyboardRef.current||ue.preventDefault()}),preventScrollOnEntryFocus:!0,children:O.jsx(O2,{role:"menu","aria-orientation":"vertical","data-state":uL(w.open),"data-radix-menu-content":"",dir:R.dir,...I,...C,ref:B,style:{outline:"none",...C.style},onKeyDown:dt(C.onKeyDown,ue=>{const oe=ue.target.closest("[data-radix-menu-content]")===ue.currentTarget,he=ue.ctrlKey||ue.altKey||ue.metaKey,z=ue.key.length===1;oe&&(ue.key==="Tab"&&ue.preventDefault(),!he&&z&&Ae(ue.key));const U=j.current;if(ue.target!==U||!fG.includes(ue.key))return;ue.preventDefault();const H=D().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);UP.includes(ue.key)&&H.reverse(),MG(H)}),onBlur:dt(e.onBlur,ue=>{ue.currentTarget.contains(ue.target)||(window.clearTimeout($.current),K.current="")}),onPointerMove:dt(e.onPointerMove,Rv(ue=>{const X=ue.target,oe=Me.current!==ue.clientX;if(ue.currentTarget.contains(X)&&oe){const he=ue.clientX>Me.current?"right":"left";Se.current=he,Me.current=ue.clientX}}))})})})})})})});YP.displayName=$o;var wG="MenuGroup",k2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Yt.div,{role:"group",...r,ref:t})});k2.displayName=wG;var CG="MenuLabel",qP=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Yt.div,{...r,ref:t})});qP.displayName=CG;var uS="MenuItem",nN="menu.itemSelect",FS=P.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=P.useRef(null),l=Yv(uS,e.__scopeMenu),u=L2(uS,e.__scopeMenu),c=Sn(t,a),g=P.useRef(!1),p=()=>{const m=a.current;if(!n&&m){const x=new CustomEvent(nN,{bubbles:!0,cancelable:!0});m.addEventListener(nN,b=>r==null?void 0:r(b),{once:!0}),MM(m,x),x.defaultPrevented?g.current=!1:l.onClose()}};return O.jsx(KP,{...i,ref:c,disabled:n,onClick:dt(e.onClick,p),onPointerDown:m=>{var x;(x=e.onPointerDown)==null||x.call(e,m),g.current=!0},onPointerUp:dt(e.onPointerUp,m=>{var x;g.current||(x=m.currentTarget)==null||x.click()}),onKeyDown:dt(e.onKeyDown,m=>{const x=u.searchRef.current!=="";n||x&&m.key===" "||vC.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});FS.displayName=uS;var KP=P.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,l=L2(uS,n),u=GP(n),c=P.useRef(null),g=Sn(t,c),[p,m]=P.useState(!1),[x,b]=P.useState("");return P.useEffect(()=>{const E=c.current;E&&b((E.textContent??"").trim())},[a.children]),O.jsx(Cv.ItemSlot,{scope:n,disabled:r,textValue:i??x,children:O.jsx(uG,{asChild:!0,...u,focusable:!r,children:O.jsx(Yt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:g,onPointerMove:dt(e.onPointerMove,Rv(E=>{r?l.onItemLeave(E):(l.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:dt(e.onPointerLeave,Rv(E=>l.onItemLeave(E))),onFocus:dt(e.onFocus,()=>m(!0)),onBlur:dt(e.onBlur,()=>m(!1))})})})}),RG="MenuCheckboxItem",XP=P.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return O.jsx(tL,{scope:e.__scopeMenu,checked:n,children:O.jsx(FS,{role:"menuitemcheckbox","aria-checked":cS(n)?"mixed":n,...i,ref:t,"data-state":j2(n),onSelect:dt(i.onSelect,()=>r==null?void 0:r(cS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});XP.displayName=RG;var ZP="MenuRadioGroup",[TG,NG]=yh(ZP,{value:void 0,onValueChange:()=>{}}),JP=P.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=yo(r);return O.jsx(TG,{scope:e.__scopeMenu,value:n,onValueChange:a,children:O.jsx(k2,{...i,ref:t})})});JP.displayName=ZP;var QP="MenuRadioItem",eL=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=NG(QP,e.__scopeMenu),a=n===i.value;return O.jsx(tL,{scope:e.__scopeMenu,checked:a,children:O.jsx(FS,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":j2(a),onSelect:dt(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});eL.displayName=QP;var B2="MenuItemIndicator",[tL,_G]=yh(B2,{checked:!1}),nL=P.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=_G(B2,n);return O.jsx(za,{present:r||cS(a.checked)||a.checked===!0,children:O.jsx(Yt.span,{...i,ref:t,"data-state":j2(a.checked)})})});nL.displayName=B2;var IG="MenuSeparator",rL=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Yt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});rL.displayName=IG;var OG="MenuArrow",iL=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=LS(n);return O.jsx(D2,{...i,...r,ref:t})});iL.displayName=OG;var DG="MenuSub",[BZ,oL]=yh(DG),sv="MenuSubTrigger",sL=P.forwardRef((e,t)=>{const n=xh(sv,e.__scopeMenu),r=Yv(sv,e.__scopeMenu),i=oL(sv,e.__scopeMenu),a=L2(sv,e.__scopeMenu),l=P.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:c}=a,g={__scopeMenu:e.__scopeMenu},p=P.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return P.useEffect(()=>p,[p]),P.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),c(null)}},[u,c]),O.jsx(M2,{asChild:!0,...g,children:O.jsx(KP,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":uL(n.open),...e,ref:CS(t,i.onTriggerChange),onClick:m=>{var x;(x=e.onClick)==null||x.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:dt(e.onPointerMove,Rv(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:dt(e.onPointerLeave,Rv(m=>{var b,E;p();const x=(b=n.content)==null?void 0:b.getBoundingClientRect();if(x){const C=(E=n.content)==null?void 0:E.dataset.side,w=C==="right",R=w?-5:5,I=x[w?"left":"right"],N=x[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+R,y:m.clientY},{x:I,y:x.top},{x:N,y:x.top},{x:N,y:x.bottom},{x:I,y:x.bottom}],side:C}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:dt(e.onKeyDown,m=>{var b;const x=a.searchRef.current!=="";e.disabled||x&&m.key===" "||dG[r.dir].includes(m.key)&&(n.onOpenChange(!0),(b=n.content)==null||b.focus(),m.preventDefault())})})})});sL.displayName=sv;var aL="MenuSubContent",lL=P.forwardRef((e,t)=>{const n=WP($o,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=xh($o,e.__scopeMenu),l=Yv($o,e.__scopeMenu),u=oL(aL,e.__scopeMenu),c=P.useRef(null),g=Sn(t,c);return O.jsx(Cv.Provider,{scope:e.__scopeMenu,children:O.jsx(za,{present:r||a.open,children:O.jsx(Cv.Slot,{scope:e.__scopeMenu,children:O.jsx(F2,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:g,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var m;l.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:dt(e.onFocusOutside,p=>{p.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:dt(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:dt(e.onKeyDown,p=>{var b;const m=p.currentTarget.contains(p.target),x=hG[l.dir].includes(p.key);m&&x&&(a.onOpenChange(!1),(b=u.trigger)==null||b.focus(),p.preventDefault())})})})})})});lL.displayName=aL;function uL(e){return e?"open":"closed"}function cS(e){return e==="indeterminate"}function j2(e){return cS(e)?"indeterminate":e?"checked":"unchecked"}function MG(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function PG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function LG(e,t,n){const i=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=PG(e,Math.max(a,0));i.length===1&&(l=l.filter(g=>g!==n));const c=l.find(g=>g.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function FG(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const u=t[a].x,c=t[a].y,g=t[l].x,p=t[l].y;c>r!=p>r&&n<(g-u)*(r-c)/(p-c)+u&&(i=!i)}return i}function kG(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return FG(n,t)}function Rv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var BG=$P,jG=M2,zG=HP,UG=YP,VG=k2,GG=qP,$G=FS,WG=XP,HG=JP,YG=eL,qG=nL,KG=rL,XG=iL,ZG=sL,JG=lL,z2="DropdownMenu",[QG,jZ]=ja(z2,[VP]),Di=VP(),[e$,cL]=QG(z2),fL=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:l,modal:u=!0}=e,c=Di(t),g=P.useRef(null),[p=!1,m]=hh({prop:i,defaultProp:a,onChange:l});return O.jsx(e$,{scope:t,triggerId:Ia(),triggerRef:g,contentId:Ia(),open:p,onOpenChange:m,onOpenToggle:P.useCallback(()=>m(x=>!x),[m]),modal:u,children:O.jsx(BG,{...c,open:p,onOpenChange:m,dir:r,modal:u,children:n})})};fL.displayName=z2;var dL="DropdownMenuTrigger",hL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=cL(dL,n),l=Di(n);return O.jsx(jG,{asChild:!0,...l,children:O.jsx(Yt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:CS(t,a.triggerRef),onPointerDown:dt(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:dt(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});hL.displayName=dL;var t$="DropdownMenuPortal",pL=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Di(t);return O.jsx(zG,{...r,...n})};pL.displayName=t$;var gL="DropdownMenuContent",mL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=cL(gL,n),a=Di(n),l=P.useRef(!1);return O.jsx(UG,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:dt(e.onCloseAutoFocus,u=>{var c;l.current||(c=i.triggerRef.current)==null||c.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:dt(e.onInteractOutside,u=>{const c=u.detail.originalEvent,g=c.button===0&&c.ctrlKey===!0,p=c.button===2||g;(!i.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mL.displayName=gL;var n$="DropdownMenuGroup",r$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Di(n);return O.jsx(VG,{...i,...r,ref:t})});r$.displayName=n$;var i$="DropdownMenuLabel",vL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Di(n);return O.jsx(GG,{...i,...r,ref:t})});vL.displayName=i$;var o$="DropdownMenuItem",yL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Di(n);return O.jsx($G,{...i,...r,ref:t})});yL.displayName=o$;var s$="DropdownMenuCheckboxItem",a$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Di(n);return O.jsx(WG,{...i,...r,ref:t})});a$.displayName=s$;var l$="DropdownMenuRadioGroup",u$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Di(n);return O.jsx(HG,{...i,...r,ref:t})});u$.displayName=l$;var c$="DropdownMenuRadioItem",f$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Di(n);return O.jsx(YG,{...i,...r,ref:t})});f$.displayName=c$;var d$="DropdownMenuItemIndicator",h$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Di(n);return O.jsx(qG,{...i,...r,ref:t})});h$.displayName=d$;var p$="DropdownMenuSeparator",xL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Di(n);return O.jsx(KG,{...i,...r,ref:t})});xL.displayName=p$;var g$="DropdownMenuArrow",m$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Di(n);return O.jsx(XG,{...i,...r,ref:t})});m$.displayName=g$;var v$="DropdownMenuSubTrigger",y$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Di(n);return O.jsx(ZG,{...i,...r,ref:t})});y$.displayName=v$;var x$="DropdownMenuSubContent",b$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Di(n);return O.jsx(JG,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b$.displayName=x$;var S$=fL,A$=hL,E$=pL,w$=mL,C$=vL,R$=yL,T$=xL;function Ra({...e}){return O.jsx(S$,{"data-slot":"dropdown-menu",...e})}function Ta({...e}){return O.jsx(A$,{"data-slot":"dropdown-menu-trigger",...e})}function Na({className:e,sideOffset:t=4,...n}){return O.jsx(E$,{children:O.jsx(w$,{"data-slot":"dropdown-menu-content",sideOffset:t,className:St("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function br({className:e,inset:t,variant:n="default",...r}){return O.jsx(R$,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:St("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function N$({className:e,inset:t,...n}){return O.jsx(C$,{"data-slot":"dropdown-menu-label","data-inset":t,className:St("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function U2({className:e,...t}){return O.jsx(T$,{"data-slot":"dropdown-menu-separator",className:St("bg-border -mx-1 my-1 h-px",e),...t})}function _i({className:e,type:t,...n}){return O.jsx("input",{type:t,"data-slot":"input",className:St("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var _$="Label",bL=P.forwardRef((e,t)=>O.jsx(Yt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bL.displayName=_$;var I$=bL;function Or({className:e,...t}){return O.jsx(I$,{"data-slot":"label",className:St("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function SL({className:e,...t}){return O.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:O.jsx("table",{"data-slot":"table",className:St("w-full caption-bottom text-sm",e),...t})})}function AL({className:e,...t}){return O.jsx("thead",{"data-slot":"table-header",className:St("[&_tr]:border-b",e),...t})}function EL({className:e,...t}){return O.jsx("tbody",{"data-slot":"table-body",className:St("[&_tr:last-child]:border-0",e),...t})}function Kp({className:e,...t}){return O.jsx("tr",{"data-slot":"table-row",className:St("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function wL({className:e,...t}){return O.jsx("th",{"data-slot":"table-head",className:St("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function fS({className:e,...t}){return O.jsx("td",{"data-slot":"table-cell",className:St("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function O$({data:e}){var I,N;const t=kv(),n=qC(),r=[{accessorKey:"id",header:"ID",enableHiding:!0},{accessorKey:"title",header:"Title",cell:({row:D})=>O.jsx("div",{className:"capitalize",children:D.getValue("title")})},{accessorKey:"createdAt",header:()=>O.jsx("div",{className:"text-right",children:"Created At"}),cell:({row:D})=>{const L=D.getValue("createdAt"),k=DM(new Date(L),{includeSeconds:!0,addSuffix:!0});return O.jsx("div",{className:"text-right font-medium",children:k})}},{id:"actions",enableHiding:!1,cell:({row:D})=>O.jsxs(Ra,{children:[O.jsx(Ta,{asChild:!0,children:O.jsxs(nr,{variant:"ghost",className:"h-8 w-8 p-0",children:[O.jsx("span",{className:"sr-only",children:"Open menu"}),O.jsx(X3,{})]})}),O.jsxs(Na,{align:"end",children:[O.jsxs(br,{onClick:L=>{L.stopPropagation(),a({id:String(D.getValue("id")),title:D.getValue("title")})},children:[O.jsx(Q3,{className:"mr-2 h-4 w-4"}),"Rename"]}),O.jsxs(br,{className:"text-red-500 focus:text-red-500",onClick:L=>{L.stopPropagation(),u.mutate(String(D.getValue("id")))},children:[O.jsx(tM,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}],[i,a]=P.useState(null),l=Vb({mutationFn:async D=>await FU(D),onSuccess:D=>n(`/${D.id}`)}),u=Vb({mutationFn:async D=>await jU(D),onSuccess:()=>t.invalidateQueries({queryKey:["documents"]})}),c=Vb({mutationFn:async({id:D,title:L})=>await vM(D,L),onSuccess:()=>{t.invalidateQueries({queryKey:["documents"]}),a(null)}}),[g,p]=P.useState([]),[m,x]=P.useState([]),[b,E]=P.useState({id:!1}),[C,w]=P.useState({}),R=OM({data:e,columns:r,onSortingChange:p,onColumnFiltersChange:x,getCoreRowModel:TM(),getPaginationRowModel:_M(),getSortedRowModel:IM(),getFilteredRowModel:NM(),onColumnVisibilityChange:E,onRowSelectionChange:w,state:{sorting:g,columnFilters:m,columnVisibility:b,rowSelection:C}});return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex items-center justify-between py-4",children:[O.jsx(_i,{placeholder:"Filter by title...",value:((I=R.getColumn("title"))==null?void 0:I.getFilterValue())??"",onChange:D=>{var L;return(L=R.getColumn("title"))==null?void 0:L.setFilterValue(D.target.value)},className:"max-w-sm"}),O.jsxs(nr,{onClick:()=>{l.mutate({title:"New Document"})},className:"flex items-center gap-2",children:[O.jsx(eM,{className:"w-4 h-4"}),"New Document"]})]}),O.jsx("div",{className:"rounded-md border",children:O.jsxs(SL,{children:[O.jsx(AL,{children:R.getHeaderGroups().map(D=>O.jsx(Kp,{children:D.headers.map(L=>O.jsx(wL,{children:L.isPlaceholder?null:rS(L.column.columnDef.header,L.getContext())},L.id))},D.id))}),O.jsx(EL,{children:(N=R.getRowModel().rows)!=null&&N.length?R.getRowModel().rows.map(D=>O.jsx(Kp,{"data-state":D.getIsSelected()&&"selected",className:"cursor-pointer hover:bg-muted",onClick:L=>{L.target.closest("input, button")||n(`/${D.getValue("id")}`)},children:D.getVisibleCells().map(L=>O.jsx(fS,{children:rS(L.column.columnDef.cell,L.getContext())},L.id))},D.id)):O.jsx(Kp,{children:O.jsx(fS,{colSpan:r.length,className:"h-24 text-center",children:"No results."})})})]})}),O.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[O.jsx("div",{className:"flex-1"}),O.jsxs("div",{className:"space-x-2",children:[O.jsx(nr,{variant:"outline",size:"sm",onClick:()=>R.previousPage(),disabled:!R.getCanPreviousPage(),children:"Previous"}),O.jsx(nr,{variant:"outline",size:"sm",onClick:()=>R.nextPage(),disabled:!R.getCanNextPage(),children:"Next"})]})]}),O.jsx(zv,{open:i!==null,onOpenChange:D=>{D||a(null)},children:O.jsx(Uv,{className:"sm:max-w-md",children:O.jsxs("form",{onSubmit:D=>{if(D.preventDefault(),!i)return;const k=new FormData(D.target).get("title");k.trim()&&c.mutate({id:i.id,title:k.trim()})},children:[O.jsxs(Vv,{children:[O.jsx(Gv,{children:"Rename Document"}),O.jsx($v,{children:"Enter a new name for this document."})]}),O.jsx("div",{className:"grid gap-4 py-2",children:O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"rename-title",children:"Title"}),O.jsx(_i,{id:"rename-title",name:"title",defaultValue:(i==null?void 0:i.title)??"",autoFocus:!0},i==null?void 0:i.id)]})}),O.jsxs(W9,{children:[O.jsx(nr,{type:"button",variant:"outline",onClick:()=>a(null),children:"Cancel"}),O.jsx(nr,{type:"submit",disabled:c.isPending,children:"Rename"})]})]})})})]})}function D$(){const{data:e=[],isLoading:t,isError:n}=Ba({queryKey:["documents"],queryFn:kU});return t?O.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:O.jsx("p",{className:"text-gray-500 text-lg",children:"Loading documents..."})}):n?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[O.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load documents."}),O.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):O.jsx("div",{className:"p-4",children:O.jsx(O$,{data:e})})}var av={exports:{}},M$=av.exports,rN;function P$(){return rN||(rN=1,function(e,t){var n={};(function(r,i){i(t,g3(),AS())})(M$,function(r,i,a){var l;(function(h){h[h.Canceled=1]="Canceled",h[h.Unknown=2]="Unknown",h[h.InvalidArgument=3]="InvalidArgument",h[h.DeadlineExceeded=4]="DeadlineExceeded",h[h.NotFound=5]="NotFound",h[h.AlreadyExists=6]="AlreadyExists",h[h.PermissionDenied=7]="PermissionDenied",h[h.ResourceExhausted=8]="ResourceExhausted",h[h.FailedPrecondition=9]="FailedPrecondition",h[h.Aborted=10]="Aborted",h[h.OutOfRange=11]="OutOfRange",h[h.Unimplemented=12]="Unimplemented",h[h.Internal=13]="Internal",h[h.Unavailable=14]="Unavailable",h[h.DataLoss=15]="DataLoss",h[h.Unauthenticated=16]="Unauthenticated"})(l||(l={}));function u(h,o){return h!==null&&typeof h=="object"&&"$typeName"in h&&typeof h.$typeName=="string"?o===void 0?!0:o.typeName===h.$typeName:!1}var c;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(c||(c={}));function g(){let h=0,o=0;for(let v=0;v<28;v+=7){let A=this.buf[this.pos++];if(h|=(A&127)<<v,(A&128)==0)return this.assertBounds(),[h,o]}let f=this.buf[this.pos++];if(h|=(f&15)<<28,o=(f&112)>>4,(f&128)==0)return this.assertBounds(),[h,o];for(let v=3;v<=31;v+=7){let A=this.buf[this.pos++];if(o|=(A&127)<<v,(A&128)==0)return this.assertBounds(),[h,o]}throw new Error("invalid varint")}function p(h,o,f){for(let _=0;_<28;_=_+7){const F=h>>>_,V=!(!(F>>>7)&&o==0),Y=(V?F|128:F)&255;if(f.push(Y),!V)return}const v=h>>>28&15|(o&7)<<4,A=o>>3!=0;if(f.push((A?v|128:v)&255),!!A){for(let _=3;_<31;_=_+7){const F=o>>>_,V=!!(F>>>7),Y=(V?F|128:F)&255;if(f.push(Y),!V)return}f.push(o>>>31&1)}}const m=4294967296;function x(h){const o=h[0]==="-";o&&(h=h.slice(1));const f=1e6;let v=0,A=0;function _(F,V){const Y=Number(h.slice(F,V));A*=f,v=v*f+Y,v>=m&&(A=A+(v/m|0),v=v%m)}return _(-24,-18),_(-18,-12),_(-12,-6),_(-6),o?R(v,A):w(v,A)}function b(h,o){let f=w(h,o);const v=f.hi&2147483648;v&&(f=R(f.lo,f.hi));const A=E(f.lo,f.hi);return v?"-"+A:A}function E(h,o){if({lo:h,hi:o}=C(h,o),o<=2097151)return String(m*o+h);const f=h&16777215,v=(h>>>24|o<<8)&16777215,A=o>>16&65535;let _=f+v*6777216+A*6710656,F=v+A*8147497,V=A*2;const Y=1e7;return _>=Y&&(F+=Math.floor(_/Y),_%=Y),F>=Y&&(V+=Math.floor(F/Y),F%=Y),V.toString()+I(F)+I(_)}function C(h,o){return{lo:h>>>0,hi:o>>>0}}function w(h,o){return{lo:h|0,hi:o|0}}function R(h,o){return o=~o,h?h=~h+1:o+=1,w(h,o)}const I=h=>{const o=String(h);return"0000000".slice(o.length)+o};function N(h,o){if(h>=0){for(;h>127;)o.push(h&127|128),h=h>>>7;o.push(h)}else{for(let f=0;f<9;f++)o.push(h&127|128),h=h>>7;o.push(1)}}function D(){let h=this.buf[this.pos++],o=h&127;if((h&128)==0)return this.assertBounds(),o;if(h=this.buf[this.pos++],o|=(h&127)<<7,(h&128)==0)return this.assertBounds(),o;if(h=this.buf[this.pos++],o|=(h&127)<<14,(h&128)==0)return this.assertBounds(),o;if(h=this.buf[this.pos++],o|=(h&127)<<21,(h&128)==0)return this.assertBounds(),o;h=this.buf[this.pos++],o|=(h&15)<<28;for(let f=5;(h&128)!==0&&f<10;f++)h=this.buf[this.pos++];if((h&128)!=0)throw new Error("invalid varint");return this.assertBounds(),o>>>0}const L=k();function k(){const h=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof h.getBigInt64=="function"&&typeof h.getBigUint64=="function"&&typeof h.setBigInt64=="function"&&typeof h.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof n!="object"||n.BUF_BIGINT_DISABLE!=="1")){const f=BigInt("-9223372036854775808"),v=BigInt("9223372036854775807"),A=BigInt("0"),_=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(F){const V=typeof F=="bigint"?F:BigInt(F);if(V>v||V<f)throw new Error(`invalid int64: ${F}`);return V},uParse(F){const V=typeof F=="bigint"?F:BigInt(F);if(V>_||V<A)throw new Error(`invalid uint64: ${F}`);return V},enc(F){return h.setBigInt64(0,this.parse(F),!0),{lo:h.getInt32(0,!0),hi:h.getInt32(4,!0)}},uEnc(F){return h.setBigInt64(0,this.uParse(F),!0),{lo:h.getInt32(0,!0),hi:h.getInt32(4,!0)}},dec(F,V){return h.setInt32(0,F,!0),h.setInt32(4,V,!0),h.getBigInt64(0,!0)},uDec(F,V){return h.setInt32(0,F,!0),h.setInt32(4,V,!0),h.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(f){return typeof f!="string"&&(f=f.toString()),j(f),f},uParse(f){return typeof f!="string"&&(f=f.toString()),B(f),f},enc(f){return typeof f!="string"&&(f=f.toString()),j(f),x(f)},uEnc(f){return typeof f!="string"&&(f=f.toString()),B(f),x(f)},dec(f,v){return b(f,v)},uDec(f,v){return E(f,v)}}}function j(h){if(!/^-?[0-9]+$/.test(h))throw new Error("invalid int64: "+h)}function B(h){if(!/^[0-9]+$/.test(h))throw new Error("invalid uint64: "+h)}function $(h,o){switch(h){case c.STRING:return"";case c.BOOL:return!1;case c.DOUBLE:case c.FLOAT:return 0;case c.INT64:case c.UINT64:case c.SFIXED64:case c.FIXED64:case c.SINT64:return o?"0":L.zero;case c.BYTES:return new Uint8Array(0);default:return 0}}function K(h,o){switch(h){case c.BOOL:return o===!1;case c.STRING:return o==="";case c.BYTES:return o instanceof Uint8Array&&!o.byteLength;default:return o==0}}const ne=2,re=Symbol.for("reflect unsafe local");function Se(h,o){const f=h[o.localName].case;return f===void 0?f:o.fields.find(v=>v.localName===f)}function Me(h,o){const f=o.localName;if(o.oneof)return h[o.oneof.localName].case===f;if(o.presence!=ne)return h[f]!==void 0&&Object.prototype.hasOwnProperty.call(h,f);switch(o.fieldKind){case"list":return h[f].length>0;case"map":return Object.keys(h[f]).length>0;case"scalar":return!K(o.scalar,h[f]);case"enum":return h[f]!==o.enum.values[0].number}throw new Error("message field with implicit presence")}function Oe(h,o){return Object.prototype.hasOwnProperty.call(h,o)&&h[o]!==void 0}function ie(h,o){if(o.oneof){const f=h[o.oneof.localName];return f.case===o.localName?f.value:void 0}return h[o.localName]}function Ae(h,o,f){o.oneof?h[o.oneof.localName]={case:o.localName,value:f}:h[o.localName]=f}function de(h,o){const f=o.localName;if(o.oneof){const v=o.oneof.localName;h[v].case===f&&(h[v]={case:void 0})}else if(o.presence!=ne)delete h[f];else switch(o.fieldKind){case"map":h[f]={};break;case"list":h[f]=[];break;case"enum":h[f]=o.enum.values[0].number;break;case"scalar":h[f]=$(o.scalar,o.longAsString);break}}function ue(h){return h!==null&&typeof h=="object"&&!Array.isArray(h)}function X(h,o){var f,v,A,_;if(ue(h)&&re in h&&"add"in h&&"field"in h&&typeof h.field=="function"){if(o!==void 0){const F=o,V=h.field();return F.listKind==V.listKind&&F.scalar===V.scalar&&((f=F.message)===null||f===void 0?void 0:f.typeName)===((v=V.message)===null||v===void 0?void 0:v.typeName)&&((A=F.enum)===null||A===void 0?void 0:A.typeName)===((_=V.enum)===null||_===void 0?void 0:_.typeName)}return!0}return!1}function oe(h,o){var f,v,A,_;if(ue(h)&&re in h&&"has"in h&&"field"in h&&typeof h.field=="function"){if(o!==void 0){const F=o,V=h.field();return F.mapKey===V.mapKey&&F.mapKind==V.mapKind&&F.scalar===V.scalar&&((f=F.message)===null||f===void 0?void 0:f.typeName)===((v=V.message)===null||v===void 0?void 0:v.typeName)&&((A=F.enum)===null||A===void 0?void 0:A.typeName)===((_=V.enum)===null||_===void 0?void 0:_.typeName)}return!0}return!1}function he(h,o){return ue(h)&&re in h&&"desc"in h&&ue(h.desc)&&h.desc.kind==="message"&&(o===void 0||h.desc.typeName==o.typeName)}function z(h){return G(h.$typeName)}function U(h){const o=h.fields[0];return G(h.typeName)&&o!==void 0&&o.fieldKind=="scalar"&&o.name=="value"&&o.number==1}function G(h){return h.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(h.substring(16))}const H=999,Q=998,Z=2;function J(h,o){if(u(o,h))return o;const f=me(h);return o!==void 0&&se(h,f,o),f}function se(h,o,f){for(const v of h.members){let A=f[v.localName];if(A==null)continue;let _;if(v.kind=="oneof"){const F=Se(f,v);if(!F)continue;_=F,A=ie(f,F)}else _=v;switch(_.fieldKind){case"message":A=le(_,A);break;case"scalar":A=ye(_,A);break;case"list":A=ae(_,A);break;case"map":A=xe(_,A);break}Ae(o,_,A)}return o}function ye(h,o){return h.scalar==c.BYTES?we(o):o}function xe(h,o){if(ue(o)){if(h.scalar==c.BYTES)return Ie(o,we);if(h.mapKind=="message")return Ie(o,f=>le(h,f))}return o}function ae(h,o){if(Array.isArray(o)){if(h.scalar==c.BYTES)return o.map(we);if(h.listKind=="message")return o.map(f=>le(h,f))}return o}function le(h,o){if(h.fieldKind=="message"&&!h.oneof&&U(h.message))return ye(h.message.fields[0],o);if(ue(o)){if(h.message.typeName=="google.protobuf.Struct"&&h.parent.typeName!=="google.protobuf.Value")return o;if(!u(o,h.message))return J(h.message,o)}return o}function we(h){return Array.isArray(h)?new Uint8Array(h):h}function Ie(h,o){const f={};for(const v of Object.entries(h))f[v[0]]=o(v[1]);return f}const je=Symbol(),Ue=new WeakMap;function me(h){let o;if(Pe(h)){const f=Ue.get(h);let v,A;if(f)({prototype:v,members:A}=f);else{v={},A=new Set;for(const _ of h.members)_.kind!="oneof"&&(_.fieldKind!="scalar"&&_.fieldKind!="enum"||_.presence!=Z&&(A.add(_),v[_.localName]=Ze(_)));Ue.set(h,{prototype:v,members:A})}o=Object.create(v),o.$typeName=h.typeName;for(const _ of h.members)A.has(_)||_.kind=="field"&&(_.fieldKind=="message"||(_.fieldKind=="scalar"||_.fieldKind=="enum")&&_.presence!=Z)||(o[_.localName]=Ze(_))}else{o={$typeName:h.typeName};for(const f of h.members)(f.kind=="oneof"||f.presence==Z)&&(o[f.localName]=Ze(f))}return o}function Pe(h){switch(h.file.edition){case H:return!1;case Q:return!0;default:return h.fields.some(o=>o.presence!=Z&&o.fieldKind!="message"&&!o.oneof)}}function Ze(h){if(h.kind=="oneof")return{case:void 0};if(h.fieldKind=="list")return[];if(h.fieldKind=="map")return{};if(h.fieldKind=="message")return je;const o=h.getDefaultValue();return o!==void 0?h.fieldKind=="scalar"&&h.longAsString?o.toString():o:h.fieldKind=="scalar"?$(h.scalar,h.longAsString):h.enum.values[0].number}const pt=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class gt extends Error{constructor(o,f,v="FieldValueInvalidError"){super(f),this.name=v,this.field=()=>o}}function ge(h){return h instanceof Error&&pt.includes(h.name)&&"field"in h&&typeof h.field=="function"}const Ne=Symbol.for("@bufbuild/protobuf/text-encoding");function qe(){if(globalThis[Ne]==null){const h=new globalThis.TextEncoder,o=new globalThis.TextDecoder;globalThis[Ne]={encodeUtf8(f){return h.encode(f)},decodeUtf8(f){return o.decode(f)},checkUtf8(f){try{return encodeURIComponent(f),!0}catch{return!1}}}}return globalThis[Ne]}var He;(function(h){h[h.Varint=0]="Varint",h[h.Bit64=1]="Bit64",h[h.LengthDelimited=2]="LengthDelimited",h[h.StartGroup=3]="StartGroup",h[h.EndGroup=4]="EndGroup",h[h.Bit32=5]="Bit32"})(He||(He={}));const tt=34028234663852886e22,lt=-34028234663852886e22,xt=4294967295,Rt=2147483647,It=-2147483648;class sn{constructor(o=qe().encodeUtf8){this.encodeUtf8=o,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let o=0;for(let A=0;A<this.chunks.length;A++)o+=this.chunks[A].length;let f=new Uint8Array(o),v=0;for(let A=0;A<this.chunks.length;A++)f.set(this.chunks[A],v),v+=this.chunks[A].length;return this.chunks=[],f}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let o=this.finish(),f=this.stack.pop();if(!f)throw new Error("invalid state, fork stack empty");return this.chunks=f.chunks,this.buf=f.buf,this.uint32(o.byteLength),this.raw(o)}tag(o,f){return this.uint32((o<<3|f)>>>0)}raw(o){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(o),this}uint32(o){for(mt(o);o>127;)this.buf.push(o&127|128),o=o>>>7;return this.buf.push(o),this}int32(o){return nt(o),N(o,this.buf),this}bool(o){return this.buf.push(o?1:0),this}bytes(o){return this.uint32(o.byteLength),this.raw(o)}string(o){let f=this.encodeUtf8(o);return this.uint32(f.byteLength),this.raw(f)}float(o){At(o);let f=new Uint8Array(4);return new DataView(f.buffer).setFloat32(0,o,!0),this.raw(f)}double(o){let f=new Uint8Array(8);return new DataView(f.buffer).setFloat64(0,o,!0),this.raw(f)}fixed32(o){mt(o);let f=new Uint8Array(4);return new DataView(f.buffer).setUint32(0,o,!0),this.raw(f)}sfixed32(o){nt(o);let f=new Uint8Array(4);return new DataView(f.buffer).setInt32(0,o,!0),this.raw(f)}sint32(o){return nt(o),o=(o<<1^o>>31)>>>0,N(o,this.buf),this}sfixed64(o){let f=new Uint8Array(8),v=new DataView(f.buffer),A=L.enc(o);return v.setInt32(0,A.lo,!0),v.setInt32(4,A.hi,!0),this.raw(f)}fixed64(o){let f=new Uint8Array(8),v=new DataView(f.buffer),A=L.uEnc(o);return v.setInt32(0,A.lo,!0),v.setInt32(4,A.hi,!0),this.raw(f)}int64(o){let f=L.enc(o);return p(f.lo,f.hi,this.buf),this}sint64(o){const f=L.enc(o),v=f.hi>>31,A=f.lo<<1^v,_=(f.hi<<1|f.lo>>>31)^v;return p(A,_,this.buf),this}uint64(o){const f=L.uEnc(o);return p(f.lo,f.hi,this.buf),this}}class ke{constructor(o,f=qe().decodeUtf8){this.decodeUtf8=f,this.varint64=g,this.uint32=D,this.buf=o,this.len=o.length,this.pos=0,this.view=new DataView(o.buffer,o.byteOffset,o.byteLength)}tag(){let o=this.uint32(),f=o>>>3,v=o&7;if(f<=0||v<0||v>5)throw new Error("illegal tag: field no "+f+" wire type "+v);return[f,v]}skip(o,f){let v=this.pos;switch(o){case He.Varint:for(;this.buf[this.pos++]&128;);break;case He.Bit64:this.pos+=4;case He.Bit32:this.pos+=4;break;case He.LengthDelimited:let A=this.uint32();this.pos+=A;break;case He.StartGroup:for(;;){const[_,F]=this.tag();if(F===He.EndGroup){if(f!==void 0&&_!==f)throw new Error("invalid end group tag");break}this.skip(F,_)}break;default:throw new Error("cant skip wire type "+o)}return this.assertBounds(),this.buf.subarray(v,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let o=this.uint32();return o>>>1^-(o&1)}int64(){return L.dec(...this.varint64())}uint64(){return L.uDec(...this.varint64())}sint64(){let[o,f]=this.varint64(),v=-(o&1);return o=(o>>>1|(f&1)<<31)^v,f=f>>>1^v,L.dec(o,f)}bool(){let[o,f]=this.varint64();return o!==0||f!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return L.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return L.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let o=this.uint32(),f=this.pos;return this.pos+=o,this.assertBounds(),this.buf.subarray(f,f+o)}string(){return this.decodeUtf8(this.bytes())}}function nt(h){if(typeof h=="string")h=Number(h);else if(typeof h!="number")throw new Error("invalid int32: "+typeof h);if(!Number.isInteger(h)||h>Rt||h<It)throw new Error("invalid int32: "+h)}function mt(h){if(typeof h=="string")h=Number(h);else if(typeof h!="number")throw new Error("invalid uint32: "+typeof h);if(!Number.isInteger(h)||h>xt||h<0)throw new Error("invalid uint32: "+h)}function At(h){if(typeof h=="string"){const o=h;if(h=Number(h),Number.isNaN(h)&&o!=="NaN")throw new Error("invalid float32: "+o)}else if(typeof h!="number")throw new Error("invalid float32: "+typeof h);if(Number.isFinite(h)&&(h>tt||h<lt))throw new Error("invalid float32: "+h)}function Dt(h,o){const f=h.fieldKind=="list"?X(o,h):h.fieldKind=="map"?oe(o,h):Hn(h,o);if(f===!0)return;let v;switch(h.fieldKind){case"list":v=`expected ${Jt(h)}, got ${rt(o)}`;break;case"map":v=`expected ${rn(h)}, got ${rt(o)}`;break;default:v=Qn(h,o,f)}return new gt(h,v)}function vn(h,o,f){const v=Hn(h,f);if(v!==!0)return new gt(h,`list item #${o+1}: ${Qn(h,f,v)}`)}function kn(h,o,f){const v=an(o,h.mapKey);if(v!==!0)return new gt(h,`invalid map key: ${Qn({scalar:h.mapKey},o,v)}`);const A=Hn(h,f);if(A!==!0)return new gt(h,`map entry ${rt(o)}: ${Qn(h,f,A)}`)}function Hn(h,o){return h.scalar!==void 0?an(o,h.scalar):h.enum!==void 0?h.enum.open?Number.isInteger(o):h.enum.values.some(f=>f.number===o):he(o,h.message)}function an(h,o){switch(o){case c.DOUBLE:return typeof h=="number";case c.FLOAT:return typeof h!="number"?!1:Number.isNaN(h)||!Number.isFinite(h)?!0:h>tt||h<lt?`${h.toFixed()} out of range`:!0;case c.INT32:case c.SFIXED32:case c.SINT32:return typeof h!="number"||!Number.isInteger(h)?!1:h>Rt||h<It?`${h.toFixed()} out of range`:!0;case c.FIXED32:case c.UINT32:return typeof h!="number"||!Number.isInteger(h)?!1:h>xt||h<0?`${h.toFixed()} out of range`:!0;case c.BOOL:return typeof h=="boolean";case c.STRING:return typeof h!="string"?!1:qe().checkUtf8(h)||"invalid UTF8";case c.BYTES:return h instanceof Uint8Array;case c.INT64:case c.SFIXED64:case c.SINT64:if(typeof h=="bigint"||typeof h=="number"||typeof h=="string"&&h.length>0)try{return L.parse(h),!0}catch{return`${h} out of range`}return!1;case c.FIXED64:case c.UINT64:if(typeof h=="bigint"||typeof h=="number"||typeof h=="string"&&h.length>0)try{return L.uParse(h),!0}catch{return`${h} out of range`}return!1}}function Qn(h,o,f){return f=typeof f=="string"?`: ${f}`:`, got ${rt(o)}`,h.scalar!==void 0?`expected ${vr(h.scalar)}`+f:h.enum!==void 0?`expected ${h.enum.toString()}`+f:`expected ${ln(h.message)}`+f}function rt(h){switch(typeof h){case"object":return h===null?"null":h instanceof Uint8Array?`Uint8Array(${h.length})`:Array.isArray(h)?`Array(${h.length})`:X(h)?Jt(h.field()):oe(h)?rn(h.field()):he(h)?ln(h.desc):u(h)?`message ${h.$typeName}`:"object";case"string":return h.length>30?"string":`"${h.split('"').join('\\"')}"`;case"boolean":return String(h);case"number":return String(h);case"bigint":return String(h)+"n";default:return typeof h}}function ln(h){return`ReflectMessage (${h.typeName})`}function Jt(h){switch(h.listKind){case"message":return`ReflectList (${h.message.toString()})`;case"enum":return`ReflectList (${h.enum.toString()})`;case"scalar":return`ReflectList (${c[h.scalar]})`}}function rn(h){switch(h.mapKind){case"message":return`ReflectMap (${c[h.mapKey]}, ${h.message.toString()})`;case"enum":return`ReflectMap (${c[h.mapKey]}, ${h.enum.toString()})`;case"scalar":return`ReflectMap (${c[h.mapKey]}, ${c[h.scalar]})`}}function vr(h){switch(h){case c.STRING:return"string";case c.BOOL:return"boolean";case c.INT64:case c.SINT64:case c.SFIXED64:return"bigint (int64)";case c.UINT64:case c.FIXED64:return"bigint (uint64)";case c.BYTES:return"Uint8Array";case c.DOUBLE:return"number (float64)";case c.FLOAT:return"number (float32)";case c.FIXED32:case c.UINT32:return"number (uint32)";case c.INT32:case c.SFIXED32:case c.SINT32:return"number (int32)"}}function qt(h,o,f=!0){return new un(h,o,f)}const jt=new WeakMap;class un{get sortedFields(){const o=jt.get(this.desc);if(o)return o;const f=this.desc.fields.concat().sort((v,A)=>v.number-A.number);return jt.set(this.desc,f),f}constructor(o,f,v=!0){this.lists=new Map,this.maps=new Map,this.check=v,this.desc=o,this.message=this[re]=f??J(o),this.fields=o.fields,this.oneofs=o.oneofs,this.members=o.members}findNumber(o){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(f=>[f.number,f]))),this._fieldsByNumber.get(o)}oneofCase(o){return Lt(this.message,o),Se(this.message,o)}isSet(o){return Lt(this.message,o),Me(this.message,o)}clear(o){Lt(this.message,o),de(this.message,o)}get(o){Lt(this.message,o);const f=ie(this.message,o);switch(o.fieldKind){case"list":let v=this.lists.get(o);return(!v||v[re]!==f)&&this.lists.set(o,v=new An(o,f,this.check)),v;case"map":let A=this.maps.get(o);return(!A||A[re]!==f)&&this.maps.set(o,A=new Mi(o,f,this.check)),A;case"message":return yi(o,f,this.check);case"scalar":return f===void 0?$(o.scalar,!1):js(o,f);case"enum":return f??o.enum.values[0].number}}set(o,f){if(Lt(this.message,o),this.check){const A=Dt(o,f);if(A)throw A}let v;o.fieldKind=="message"?v=Sr(o,f):oe(f)||X(f)?v=f[re]:v=ir(o,f),Ae(this.message,o,v)}getUnknown(){return this.message.$unknown}setUnknown(o){this.message.$unknown=o}}function Lt(h,o){if(o.parent.typeName!==h.$typeName)throw new gt(o,`cannot use ${o.toString()} with message ${h.$typeName}`,"ForeignFieldError")}class An{field(){return this._field}get size(){return this._arr.length}constructor(o,f,v){this._field=o,this._arr=this[re]=f,this.check=v}get(o){const f=this._arr[o];return f===void 0?void 0:Qi(this._field,f,this.check)}set(o,f){if(o<0||o>=this._arr.length)throw new gt(this._field,`list item #${o+1}: out of range`);if(this.check){const v=vn(this._field,o,f);if(v)throw v}this._arr[o]=Ho(this._field,f)}add(o){if(this.check){const f=vn(this._field,this._arr.length,o);if(f)throw f}this._arr.push(Ho(this._field,o))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const o of this._arr)yield Qi(this._field,o,this.check)}*entries(){for(let o=0;o<this._arr.length;o++)yield[o,Qi(this._field,this._arr[o],this.check)]}}class Mi{constructor(o,f,v=!0){this.obj=this[re]=f??{},this.check=v,this._field=o}field(){return this._field}set(o,f){if(this.check){const v=kn(this._field,o,f);if(v)throw v}return this.obj[Yo(o)]=jg(this._field,f),this}delete(o){const f=Yo(o),v=Object.prototype.hasOwnProperty.call(this.obj,f);return v&&delete this.obj[f],v}clear(){for(const o of Object.keys(this.obj))delete this.obj[o]}get(o){let f=this.obj[Yo(o)];return f!==void 0&&(f=Bs(this._field,f,this.check)),f}has(o){return Object.prototype.hasOwnProperty.call(this.obj,Yo(o))}*keys(){for(const o of Object.keys(this.obj))yield Pu(o,this._field.mapKey)}*entries(){for(const o of Object.entries(this.obj))yield[Pu(o[0],this._field.mapKey),Bs(this._field,o[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const o of Object.values(this.obj))yield Bs(this._field,o,this.check)}forEach(o,f){for(const v of this.entries())o.call(f,v[1],v[0],this)}}function Sr(h,o){return he(o)?z(o.message)&&!h.oneof&&h.fieldKind=="message"?o.message.value:o.desc.typeName=="google.protobuf.Struct"&&h.parent.typeName!="google.protobuf.Value"?Ug(o.message):o.message:o}function yi(h,o,f){return o!==void 0&&(U(h.message)&&!h.oneof&&h.fieldKind=="message"?o={$typeName:h.message.typeName,value:js(h.message.fields[0],o)}:h.message.typeName=="google.protobuf.Struct"&&h.parent.typeName!="google.protobuf.Value"&&ue(o)&&(o=zg(o))),new un(h.message,o,f)}function Ho(h,o){return h.listKind=="message"?Sr(h,o):ir(h,o)}function Qi(h,o,f){return h.listKind=="message"?yi(h,o,f):js(h,o)}function jg(h,o){return h.mapKind=="message"?Sr(h,o):ir(h,o)}function Bs(h,o,f){return h.mapKind=="message"?yi(h,o,f):o}function Yo(h){return typeof h=="string"||typeof h=="number"?h:String(h)}function Pu(h,o){switch(o){case c.STRING:return h;case c.INT32:case c.FIXED32:case c.UINT32:case c.SFIXED32:case c.SINT32:{const f=Number.parseInt(h);if(Number.isFinite(f))return f;break}case c.BOOL:switch(h){case"true":return!0;case"false":return!1}break;case c.UINT64:case c.FIXED64:try{return L.uParse(h)}catch{}break;default:try{return L.parse(h)}catch{}break}return h}function js(h,o){switch(h.scalar){case c.INT64:case c.SFIXED64:case c.SINT64:"longAsString"in h&&h.longAsString&&typeof o=="string"&&(o=L.parse(o));break;case c.FIXED64:case c.UINT64:"longAsString"in h&&h.longAsString&&typeof o=="string"&&(o=L.uParse(o));break}return o}function ir(h,o){switch(h.scalar){case c.INT64:case c.SFIXED64:case c.SINT64:"longAsString"in h&&h.longAsString?o=String(o):(typeof o=="string"||typeof o=="number")&&(o=L.parse(o));break;case c.FIXED64:case c.UINT64:"longAsString"in h&&h.longAsString?o=String(o):(typeof o=="string"||typeof o=="number")&&(o=L.uParse(o));break}return o}function zg(h){const o={$typeName:"google.protobuf.Struct",fields:{}};if(ue(h))for(const[f,v]of Object.entries(h))o.fields[f]=$a(v);return o}function Ug(h){const o={};for(const[f,v]of Object.entries(h.fields))o[f]=zs(v);return o}function zs(h){switch(h.kind.case){case"structValue":return Ug(h.kind.value);case"listValue":return h.kind.value.values.map(zs);case"nullValue":case void 0:return null;default:return h.kind.value}}function $a(h){const o={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof h){case"number":o.kind={case:"numberValue",value:h};break;case"string":o.kind={case:"stringValue",value:h};break;case"boolean":o.kind={case:"boolValue",value:h};break;case"object":if(h===null)o.kind={case:"nullValue",value:0};else if(Array.isArray(h)){const f={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(h))for(const v of h)f.values.push($a(v));o.kind={case:"listValue",value:f}}else o.kind={case:"structValue",value:zg(h)};break}return o}function Vg(h){const o=Ko();let f=h.length*3/4;h[h.length-2]=="="?f-=2:h[h.length-1]=="="&&(f-=1);let v=new Uint8Array(f),A=0,_=0,F,V=0;for(let Y=0;Y<h.length;Y++){if(F=o[h.charCodeAt(Y)],F===void 0)switch(h[Y]){case"=":_=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(_){case 0:V=F,_=1;break;case 1:v[A++]=V<<2|(F&48)>>4,V=F,_=2;break;case 2:v[A++]=(V&15)<<4|(F&60)>>2,V=F,_=3;break;case 3:v[A++]=(V&3)<<6|F,_=0;break}}if(_==1)throw Error("invalid base64 string");return v.subarray(0,A)}function cy(h,o="std"){const f=hf(o),v=o=="std";let A="",_=0,F,V=0;for(let Y=0;Y<h.length;Y++)switch(F=h[Y],_){case 0:A+=f[F>>2],V=(F&3)<<4,_=1;break;case 1:A+=f[V|F>>4],V=(F&15)<<2,_=2;break;case 2:A+=f[V|F>>6],A+=f[F&63],_=0;break}return _&&(A+=f[V],v&&(A+="=",_==1&&(A+="="))),A}let df,fy,qo;function hf(h){return df||(df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),fy=df.slice(0,-2).concat("-","_")),h=="url"?fy:df}function Ko(){if(!qo){qo=[];const h=hf("std");for(let o=0;o<h.length;o++)qo[h[o].charCodeAt(0)]=o;qo[45]=h.indexOf("+"),qo[95]=h.indexOf("/")}return qo}function Wa(h){let o=!1;const f=[];for(let v=0;v<h.length;v++){let A=h.charAt(v);switch(A){case"_":o=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f.push(A),o=!1;break;default:o&&(o=!1,A=A.toUpperCase()),f.push(A);break}}return f.join("")}const dy=new Set(["constructor","toString","toJSON","valueOf"]);function xo(h){return dy.has(h)?h+"$":h}function pf(h){for(const o of h.field)Oe(o,"jsonName")||(o.jsonName=Wa(o.name));h.nestedType.forEach(pf)}function Gg(h,o){const f=h.values.find(v=>v.name===o);if(!f)throw new Error(`cannot parse ${h} default value: ${o}`);return f.number}function g1(h,o){switch(h){case c.STRING:return o;case c.BYTES:{const f=hy(o);if(f===!1)throw new Error(`cannot parse ${c[h]} default value: ${o}`);return f}case c.INT64:case c.SFIXED64:case c.SINT64:return L.parse(o);case c.UINT64:case c.FIXED64:return L.uParse(o);case c.DOUBLE:case c.FLOAT:switch(o){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(o)}case c.BOOL:return o==="true";case c.INT32:case c.UINT32:case c.SINT32:case c.FIXED32:case c.SFIXED32:return parseInt(o,10)}}function hy(h){const o=[],f={tail:h,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(v){if(this.tail.length>=v){const A=this.tail.substring(0,v);return this.tail=this.tail.substring(v),A}return!1}};for(;f.next();)switch(f.c){case"\\":if(f.next())switch(f.c){case"\\":o.push(f.c.charCodeAt(0));break;case"b":o.push(8);break;case"f":o.push(12);break;case"n":o.push(10);break;case"r":o.push(13);break;case"t":o.push(9);break;case"v":o.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const v=f.c,A=f.take(2);if(A===!1)return!1;const _=parseInt(v+A,8);if(Number.isNaN(_))return!1;o.push(_);break}case"x":{const v=f.c,A=f.take(2);if(A===!1)return!1;const _=parseInt(v+A,16);if(Number.isNaN(_))return!1;o.push(_);break}case"u":{const v=f.c,A=f.take(4);if(A===!1)return!1;const _=parseInt(v+A,16);if(Number.isNaN(_))return!1;const F=new Uint8Array(4);new DataView(F.buffer).setInt32(0,_,!0),o.push(F[0],F[1],F[2],F[3]);break}case"U":{const v=f.c,A=f.take(8);if(A===!1)return!1;const _=L.uEnc(v+A),F=new Uint8Array(8),V=new DataView(F.buffer);V.setInt32(0,_.lo,!0),V.setInt32(4,_.hi,!0),o.push(F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7]);break}}break;default:o.push(f.c.charCodeAt(0))}return new Uint8Array(o)}function*ti(h){switch(h.kind){case"file":for(const o of h.messages)yield o,yield*ti(o);yield*h.enums,yield*h.services,yield*h.extensions;break;case"message":for(const o of h.nestedMessages)yield o,yield*ti(o);yield*h.nestedEnums,yield*h.nestedExtensions;break}}function $g(...h){const o=m1();if(!h.length)return o;if("$typeName"in h[0]&&h[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const f of h[0].file)vf(f,o);return o}if("$typeName"in h[0]){let f=function(F){const V=[];for(const Y of F.dependency){if(o.getFile(Y)!=null||_.has(Y))continue;const te=A(Y);if(!te)throw new Error(`Unable to resolve ${Y}, imported by ${F.name}`);"kind"in te?o.addFile(te,!1,!0):(_.add(te.name),V.push(te))}return V.concat(...V.map(f))};const v=h[0],A=h[1],_=new Set;for(const F of[v,...f(v)].reverse())vf(F,o)}else for(const f of h)for(const v of f.files)o.addFile(v);return o}function m1(){const h=new Map,o=new Map,f=new Map;return{kind:"registry",types:h,extendees:o,[Symbol.iterator](){return h.values()},get files(){return f.values()},addFile(v,A,_){if(f.set(v.proto.name,v),!A)for(const F of ti(v))this.add(F);if(_)for(const F of v.dependencies)this.addFile(F,A,_)},add(v){if(v.kind=="extension"){let A=o.get(v.extendee.typeName);A||o.set(v.extendee.typeName,A=new Map),A.set(v.number,v)}h.set(v.typeName,v)},get(v){return h.get(v)},getFile(v){return f.get(v)},getMessage(v){const A=h.get(v);return(A==null?void 0:A.kind)=="message"?A:void 0},getEnum(v){const A=h.get(v);return(A==null?void 0:A.kind)=="enum"?A:void 0},getExtension(v){const A=h.get(v);return(A==null?void 0:A.kind)=="extension"?A:void 0},getExtensionFor(v,A){var _;return(_=o.get(v.typeName))===null||_===void 0?void 0:_.get(A)},getService(v){const A=h.get(v);return(A==null?void 0:A.kind)=="service"?A:void 0}}}const wh=998,py=999,Ch=9,gf=10,Lr=11,Wg=12,Hg=14,mf=3,Lu=2,Yg=1,gy=0,Us=1,my=2,vy=3,yy=1,qg=2,v1=1,xy={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function vf(h,o){var f,v;const A={kind:"file",proto:h,deprecated:(v=(f=h.options)===null||f===void 0?void 0:f.deprecated)!==null&&v!==void 0?v:!1,edition:Xo(h),name:h.name.replace(/\.proto$/,""),dependencies:Xg(h,o),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${h.name}`}},_=new Map,F={get(V){return _.get(V)},add(V){var Y;Vr(((Y=V.proto.options)===null||Y===void 0?void 0:Y.mapEntry)===!0),_.set(V.typeName,V)}};for(const V of h.enumType)Ha(V,A,void 0,o);for(const V of h.messageType)Ya(V,A,void 0,o,F);for(const V of h.service)by(V,A,o);yf(A,o);for(const V of _.values())xf(V,o,F);for(const V of A.messages)xf(V,o,F),yf(V,o);o.addFile(A,!0)}function yf(h,o){switch(h.kind){case"file":for(const f of h.proto.extension){const v=qa(f,h,o);h.extensions.push(v),o.add(v)}break;case"message":for(const f of h.proto.extension){const v=qa(f,h,o);h.nestedExtensions.push(v),o.add(v)}for(const f of h.nestedMessages)yf(f,o);break}}function xf(h,o,f){const v=h.proto.oneofDecl.map(_=>Sy(_,h)),A=new Set;for(const _ of h.proto.field){const F=Ay(_,v),V=qa(_,h,o,F,f);h.fields.push(V),h.field[V.localName]=V,F===void 0?h.members.push(V):(F.fields.push(V),A.has(F)||(A.add(F),h.members.push(F)))}for(const _ of v.filter(F=>A.has(F)))h.oneofs.push(_);for(const _ of h.nestedMessages)xf(_,o,f)}function Ha(h,o,f,v){var A,_,F,V,Y;const te=bf(h.name,h.value),ce={kind:"enum",proto:h,deprecated:(_=(A=h.options)===null||A===void 0?void 0:A.deprecated)!==null&&_!==void 0?_:!1,file:o,parent:f,open:!0,name:h.name,typeName:Fu(h,f,o),value:{},values:[],sharedPrefix:te,toString(){return`enum ${this.typeName}`}};ce.open=ni(ce),v.add(ce);for(const Re of h.value){const Be=Re.name;ce.values.push(ce.value[Re.number]={kind:"enum_value",proto:Re,deprecated:(V=(F=Re.options)===null||F===void 0?void 0:F.deprecated)!==null&&V!==void 0?V:!1,parent:ce,name:Be,localName:xo(te==null?Be:Be.substring(te.length)),number:Re.number,toString(){return`enum value ${ce.typeName}.${Be}`}})}((Y=f==null?void 0:f.nestedEnums)!==null&&Y!==void 0?Y:o.enums).push(ce)}function Ya(h,o,f,v,A){var _,F,V,Y;const te={kind:"message",proto:h,deprecated:(F=(_=h.options)===null||_===void 0?void 0:_.deprecated)!==null&&F!==void 0?F:!1,file:o,parent:f,name:h.name,typeName:Fu(h,f,o),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((V=h.options)===null||V===void 0?void 0:V.mapEntry)===!0?A.add(te):(((Y=f==null?void 0:f.nestedMessages)!==null&&Y!==void 0?Y:o.messages).push(te),v.add(te));for(const ce of h.enumType)Ha(ce,o,te,v);for(const ce of h.nestedType)Ya(ce,o,te,v,A)}function by(h,o,f){var v,A;const _={kind:"service",proto:h,deprecated:(A=(v=h.options)===null||v===void 0?void 0:v.deprecated)!==null&&A!==void 0?A:!1,file:o,name:h.name,typeName:Fu(h,void 0,o),methods:[],method:{},toString(){return`service ${this.typeName}`}};o.services.push(_),f.add(_);for(const F of h.method){const V=Kg(F,_,f);_.methods.push(V),_.method[V.localName]=V}}function Kg(h,o,f){var v,A,_,F;let V;h.clientStreaming&&h.serverStreaming?V="bidi_streaming":h.clientStreaming?V="client_streaming":h.serverStreaming?V="server_streaming":V="unary";const Y=f.getMessage(Pi(h.inputType)),te=f.getMessage(Pi(h.outputType));Vr(Y,`invalid MethodDescriptorProto: input_type ${h.inputType} not found`),Vr(te,`invalid MethodDescriptorProto: output_type ${h.inputType} not found`);const ce=h.name;return{kind:"rpc",proto:h,deprecated:(A=(v=h.options)===null||v===void 0?void 0:v.deprecated)!==null&&A!==void 0?A:!1,parent:o,name:ce,localName:xo(ce.length?xo(ce[0].toLowerCase()+ce.substring(1)):ce),methodKind:V,input:Y,output:te,idempotency:(F=(_=h.options)===null||_===void 0?void 0:_.idempotencyLevel)!==null&&F!==void 0?F:gy,toString(){return`rpc ${o.typeName}.${ce}`}}}function Sy(h,o){return{kind:"oneof",proto:h,deprecated:!1,parent:o,fields:[],name:h.name,localName:xo(Wa(h.name)),toString(){return`oneof ${o.typeName}.${this.name}`}}}function qa(h,o,f,v,A){var _,F,V;const Y=A===void 0,te={kind:"field",proto:h,deprecated:(F=(_=h.options)===null||_===void 0?void 0:_.deprecated)!==null&&F!==void 0?F:!1,name:h.name,number:h.number,scalar:void 0,message:void 0,enum:void 0,presence:Rh(h,v,Y,o),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(Y){const Te=o.kind=="file"?o:o.file,Ye=o.kind=="file"?void 0:o,We=Fu(h,Ye,Te);te.kind="extension",te.file=Te,te.parent=Ye,te.oneof=void 0,te.typeName=We,te.jsonName=`[${We}]`,te.toString=()=>`extension ${We}`;const ot=f.getMessage(Pi(h.extendee));Vr(ot,`invalid FieldDescriptorProto: extendee ${h.extendee} not found`),te.extendee=ot}else{const Te=o;Vr(Te.kind=="message"),te.parent=Te,te.oneof=v,te.localName=v?Wa(h.name):xo(Wa(h.name)),te.jsonName=h.jsonName,te.toString=()=>`field ${Te.typeName}.${h.name}`}const ce=h.label,Re=h.type,Be=(V=h.options)===null||V===void 0?void 0:V.jstype;if(ce===mf){const Te=Re==Lr?A==null?void 0:A.get(Pi(h.typeName)):void 0;if(Te){te.fieldKind="map";const{key:Ye,value:We}=Ey(Te);return te.mapKey=Ye.scalar,te.mapKind=We.fieldKind,te.message=We.message,te.delimitedEncoding=!1,te.enum=We.enum,te.scalar=We.scalar,te}switch(te.fieldKind="list",Re){case Lr:case gf:te.listKind="message",te.message=f.getMessage(Pi(h.typeName)),Vr(te.message),te.delimitedEncoding=Gs(h,o);break;case Hg:te.listKind="enum",te.enum=f.getEnum(Pi(h.typeName)),Vr(te.enum);break;default:te.listKind="scalar",te.scalar=Re,te.longAsString=Be==Yg;break}return te.packed=Th(h,o),te}switch(Re){case Lr:case gf:te.fieldKind="message",te.message=f.getMessage(Pi(h.typeName)),Vr(te.message,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),te.delimitedEncoding=Gs(h,o),te.getDefaultValue=()=>{};break;case Hg:{const Te=f.getEnum(Pi(h.typeName));Vr(Te!==void 0,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),te.fieldKind="enum",te.enum=f.getEnum(Pi(h.typeName)),te.getDefaultValue=()=>Oe(h,"defaultValue")?Gg(Te,h.defaultValue):void 0;break}default:{te.fieldKind="scalar",te.scalar=Re,te.longAsString=Be==Yg,te.getDefaultValue=()=>Oe(h,"defaultValue")?g1(Re,h.defaultValue):void 0;break}}return te}function Xo(h){switch(h.syntax){case"":case"proto2":return wh;case"proto3":return py;case"editions":if(h.edition in xy)return h.edition;throw new Error(`${h.name}: unsupported edition`);default:throw new Error(`${h.name}: unsupported syntax "${h.syntax}"`)}}function Xg(h,o){return h.dependency.map(f=>{const v=o.getFile(f);if(!v)throw new Error(`Cannot find ${f}, imported by ${h.name}`);return v})}function bf(h,o){const f=Vs(h)+"_";for(const v of o){if(!v.name.toLowerCase().startsWith(f))return;const A=v.name.substring(f.length);if(A.length==0||/^\d/.test(A))return}return f}function Vs(h){return(h.substring(0,1)+h.substring(1).replace(/[A-Z]/g,o=>"_"+o)).toLowerCase()}function Fu(h,o,f){let v;return o?v=`${o.typeName}.${h.name}`:f.proto.package.length>0?v=`${f.proto.package}.${h.name}`:v=`${h.name}`,v}function Pi(h){return h.startsWith(".")?h.substring(1):h}function Ay(h,o){if(!Oe(h,"oneofIndex")||h.proto3Optional)return;const f=o[h.oneofIndex];return Vr(f,`invalid FieldDescriptorProto: oneof #${h.oneofIndex} for field #${h.number} not found`),f}function Rh(h,o,f,v){if(h.label==Lu)return vy;if(h.label==mf)return my;if(o||h.proto3Optional||f)return Us;const A=Zo("fieldPresence",{proto:h,parent:v});return A==my&&(h.type==Lr||h.type==gf)?Us:A}function Th(h,o){if(h.label!=mf)return!1;switch(h.type){case Ch:case Wg:case gf:case Lr:return!1}const f=h.options;return f&&Oe(f,"packed")?f.packed:yy==Zo("repeatedFieldEncoding",{proto:h,parent:o})}function Ey(h){const o=h.fields.find(v=>v.number===1),f=h.fields.find(v=>v.number===2);return Vr(o&&o.fieldKind=="scalar"&&o.scalar!=c.BYTES&&o.scalar!=c.FLOAT&&o.scalar!=c.DOUBLE&&f&&f.fieldKind!="list"&&f.fieldKind!="map"),{key:o,value:f}}function ni(h){var o;return v1==Zo("enumType",{proto:h.proto,parent:(o=h.parent)!==null&&o!==void 0?o:h.file})}function Gs(h,o){return h.type==gf?!0:qg==Zo("messageEncoding",{proto:h,parent:o})}function Zo(h,o){var f,v;const A=(f=o.proto.options)===null||f===void 0?void 0:f.features;if(A){const _=A[h];if(_!=0)return _}if("kind"in o){if(o.kind=="message")return Zo(h,(v=o.parent)!==null&&v!==void 0?v:o.file);const _=xy[o.edition];if(!_)throw new Error(`feature default for edition ${o.edition} not found`);return _[h]}return Zo(h,o.parent)}function Vr(h,o){if(!h)throw new Error(o)}function y1(h){const o=Zg(h);return o.messageType.forEach(pf),$g(o,()=>{}).getFile(o.name)}function Zg(h){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},h),{messageType:h.messageType.map(Nh),enumType:h.enumType.map(Jg)}))}function Nh(h){var o,f,v,A,_,F,V,Y;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:h.name,field:(f=(o=h.field)===null||o===void 0?void 0:o.map(Sf))!==null&&f!==void 0?f:[],extension:[],nestedType:(A=(v=h.nestedType)===null||v===void 0?void 0:v.map(Nh))!==null&&A!==void 0?A:[],enumType:(F=(_=h.enumType)===null||_===void 0?void 0:_.map(Jg))!==null&&F!==void 0?F:[],extensionRange:(Y=(V=h.extensionRange)===null||V===void 0?void 0:V.map(ce=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},ce)))!==null&&Y!==void 0?Y:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function Sf(h){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},h),{options:h.options?_h(h.options):void 0}))}function _h(h){var o,f,v;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},h),{targets:(o=h.targets)!==null&&o!==void 0?o:[],editionDefaults:(v=(f=h.editionDefaults)===null||f===void 0?void 0:f.map(_=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},_)))!==null&&v!==void 0?v:[],uninterpretedOption:[]}))}function Jg(h){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:h.name,reservedName:[],reservedRange:[],value:h.value.map(f=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},f))})}function Mt(h,o,...f){return f.reduce((v,A)=>v.nestedMessages[A],h.messages[o])}const x1=Mt(y1({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),1);var Ih;(function(h){h[h.DECLARATION=0]="DECLARATION",h[h.UNVERIFIED=1]="UNVERIFIED"})(Ih||(Ih={}));var wy;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.GROUP=10]="GROUP",h[h.MESSAGE=11]="MESSAGE",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.ENUM=14]="ENUM",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(wy||(wy={}));var Cy;(function(h){h[h.OPTIONAL=1]="OPTIONAL",h[h.REPEATED=3]="REPEATED",h[h.REQUIRED=2]="REQUIRED"})(Cy||(Cy={}));var Ry;(function(h){h[h.SPEED=1]="SPEED",h[h.CODE_SIZE=2]="CODE_SIZE",h[h.LITE_RUNTIME=3]="LITE_RUNTIME"})(Ry||(Ry={}));var Ty;(function(h){h[h.STRING=0]="STRING",h[h.CORD=1]="CORD",h[h.STRING_PIECE=2]="STRING_PIECE"})(Ty||(Ty={}));var Ny;(function(h){h[h.JS_NORMAL=0]="JS_NORMAL",h[h.JS_STRING=1]="JS_STRING",h[h.JS_NUMBER=2]="JS_NUMBER"})(Ny||(Ny={}));var Qg;(function(h){h[h.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",h[h.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",h[h.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(Qg||(Qg={}));var _y;(function(h){h[h.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",h[h.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",h[h.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",h[h.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",h[h.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",h[h.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",h[h.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",h[h.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",h[h.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",h[h.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(_y||(_y={}));var Iy;(function(h){h[h.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",h[h.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",h[h.IDEMPOTENT=2]="IDEMPOTENT"})(Iy||(Iy={}));var Oy;(function(h){h[h.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",h[h.EXPORT_ALL=1]="EXPORT_ALL",h[h.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",h[h.LOCAL_ALL=3]="LOCAL_ALL",h[h.STRICT=4]="STRICT"})(Oy||(Oy={}));var Dy;(function(h){h[h.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",h[h.EXPLICIT=1]="EXPLICIT",h[h.IMPLICIT=2]="IMPLICIT",h[h.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(Dy||(Dy={}));var Oh;(function(h){h[h.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",h[h.OPEN=1]="OPEN",h[h.CLOSED=2]="CLOSED"})(Oh||(Oh={}));var My;(function(h){h[h.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",h[h.PACKED=1]="PACKED",h[h.EXPANDED=2]="EXPANDED"})(My||(My={}));var Py;(function(h){h[h.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",h[h.VERIFY=2]="VERIFY",h[h.NONE=3]="NONE"})(Py||(Py={}));var Ly;(function(h){h[h.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",h[h.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",h[h.DELIMITED=2]="DELIMITED"})(Ly||(Ly={}));var em;(function(h){h[h.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",h[h.ALLOW=1]="ALLOW",h[h.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(em||(em={}));var Fy;(function(h){h[h.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",h[h.STYLE2024=1]="STYLE2024",h[h.STYLE_LEGACY=2]="STYLE_LEGACY"})(Fy||(Fy={}));var ky;(function(h){h[h.NONE=0]="NONE",h[h.SET=1]="SET",h[h.ALIAS=2]="ALIAS"})(ky||(ky={}));var By;(function(h){h[h.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",h[h.EDITION_LEGACY=900]="EDITION_LEGACY",h[h.EDITION_PROTO2=998]="EDITION_PROTO2",h[h.EDITION_PROTO3=999]="EDITION_PROTO3",h[h.EDITION_2023=1e3]="EDITION_2023",h[h.EDITION_2024=1001]="EDITION_2024",h[h.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",h[h.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",h[h.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",h[h.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",h[h.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",h[h.EDITION_MAX=2147483647]="EDITION_MAX"})(By||(By={}));var jy;(function(h){h[h.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",h[h.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",h[h.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(jy||(jy={}));const zy={readUnknownFields:!0};function b1(h){return h?Object.assign(Object.assign({},zy),h):zy}function Li(h,o,f){const v=qt(h,void 0,!1);return Uy(v,new ke(o),b1(f),!1,o.byteLength),v.message}function Uy(h,o,f,v,A){var _;const F=v?o.len:o.pos+A;let V,Y;const te=(_=h.getUnknown())!==null&&_!==void 0?_:[];for(;o.pos<F&&([V,Y]=o.tag(),!(v&&Y==He.EndGroup));){const ce=h.findNumber(V);if(!ce){const Re=o.skip(Y,V);f.readUnknownFields&&te.push({no:V,wireType:Y,data:Re});continue}Vy(h,o,ce,Y,f)}if(v&&(Y!=He.EndGroup||V!==A))throw new Error("invalid end group tag");te.length>0&&h.setUnknown(te)}function Vy(h,o,f,v,A){var _;switch(f.fieldKind){case"scalar":h.set(f,Ka(o,f.scalar));break;case"enum":const F=Ka(o,c.INT32);if(f.enum.open)h.set(f,F);else if(f.enum.values.some(Y=>Y.number===F))h.set(f,F);else if(A.readUnknownFields){const Y=[];N(F,Y);const te=(_=h.getUnknown())!==null&&_!==void 0?_:[];te.push({no:f.number,wireType:v,data:new Uint8Array(Y)}),h.setUnknown(te)}break;case"message":h.set(f,nm(o,A,f,h.get(f)));break;case"list":Af(o,v,h.get(f),A);break;case"map":tm(o,h.get(f),A);break}}function tm(h,o,f){const v=o.field();let A,_;const F=h.uint32(),V=h.pos+F;for(;h.pos<V;){const[Y]=h.tag();switch(Y){case 1:A=Ka(h,v.mapKey);break;case 2:switch(v.mapKind){case"scalar":_=Ka(h,v.scalar);break;case"enum":_=h.int32();break;case"message":_=nm(h,f,v);break}break}}if(A===void 0&&(A=$(v.mapKey,!1)),_===void 0)switch(v.mapKind){case"scalar":_=$(v.scalar,!1);break;case"enum":_=v.enum.values[0].number;break;case"message":_=qt(v.message,void 0,!1);break}o.set(A,_)}function Af(h,o,f,v){var A;const _=f.field();if(_.listKind==="message"){f.add(nm(h,v,_));return}const F=(A=_.scalar)!==null&&A!==void 0?A:c.INT32;if(!(o==He.LengthDelimited&&F!=c.STRING&&F!=c.BYTES)){f.add(Ka(h,F));return}const Y=h.uint32()+h.pos;for(;h.pos<Y;)f.add(Ka(h,F))}function nm(h,o,f,v){const A=f.delimitedEncoding,_=v??qt(f.message,void 0,!1);return Uy(_,h,o,A,A?f.number:h.uint32()),_}function Ka(h,o){switch(o){case c.STRING:return h.string();case c.BOOL:return h.bool();case c.DOUBLE:return h.double();case c.FLOAT:return h.float();case c.INT32:return h.int32();case c.INT64:return h.int64();case c.UINT64:return h.uint64();case c.FIXED64:return h.fixed64();case c.BYTES:return h.bytes();case c.FIXED32:return h.fixed32();case c.SFIXED32:return h.sfixed32();case c.SFIXED64:return h.sfixed64();case c.SINT64:return h.sint64();case c.UINT32:return h.uint32();case c.SINT32:return h.sint32()}}function bo(h,o){var f;const v=Li(x1,Vg(h));return v.messageType.forEach(pf),v.dependency=(f=o==null?void 0:o.map(_=>_.proto.name))!==null&&f!==void 0?f:[],$g(v,_=>o==null?void 0:o.find(F=>F.proto.name===_)).getFile(v.name)}const Gy=bo("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function $y(h){return new Date(Wy(h))}function Wy(h){return Number(h.seconds)*1e3+Math.round(h.nanos/1e6)}const ku=bo("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),Hy=bo("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),S1=Mt(Hy,0),A1=3,rm={writeUnknownFields:!0};function Yy(h){return h?Object.assign(Object.assign({},rm),h):rm}function Fi(h,o,f){return $s(new sn,Yy(f),qt(h,o)).finish()}function $s(h,o,f){var v;for(const A of f.sortedFields){if(!f.isSet(A)){if(A.presence==A1)throw new Error(`cannot encode ${A} to binary: required field not set`);continue}qy(h,o,f,A)}if(o.writeUnknownFields)for(const{no:A,wireType:_,data:F}of(v=f.getUnknown())!==null&&v!==void 0?v:[])h.tag(A,_).raw(F);return h}function qy(h,o,f,v){var A;switch(v.fieldKind){case"scalar":case"enum":Xa(h,f.desc.typeName,v.name,(A=v.scalar)!==null&&A!==void 0?A:c.INT32,v.number,f.get(v));break;case"list":Ky(h,o,v,f.get(v));break;case"message":im(h,o,v,f.get(v));break;case"map":for(const[_,F]of f.get(v))om(h,o,v,_,F);break}}function Xa(h,o,f,v,A,_){Dh(h.tag(A,Xy(v)),o,f,v,_)}function im(h,o,f,v){f.delimitedEncoding?$s(h.tag(f.number,He.StartGroup),o,v).tag(f.number,He.EndGroup):$s(h.tag(f.number,He.LengthDelimited).fork(),o,v).join()}function Ky(h,o,f,v){var A;if(f.listKind=="message"){for(const F of v)im(h,o,f,F);return}const _=(A=f.scalar)!==null&&A!==void 0?A:c.INT32;if(f.packed){if(!v.size)return;h.tag(f.number,He.LengthDelimited).fork();for(const F of v)Dh(h,f.parent.typeName,f.name,_,F);h.join();return}for(const F of v)Xa(h,f.parent.typeName,f.name,_,f.number,F)}function om(h,o,f,v,A){var _;switch(h.tag(f.number,He.LengthDelimited).fork(),Xa(h,f.parent.typeName,f.name,f.mapKey,1,v),f.mapKind){case"scalar":case"enum":Xa(h,f.parent.typeName,f.name,(_=f.scalar)!==null&&_!==void 0?_:c.INT32,2,A);break;case"message":$s(h.tag(2,He.LengthDelimited).fork(),o,A).join();break}h.join()}function Dh(h,o,f,v,A){try{switch(v){case c.STRING:h.string(A);break;case c.BOOL:h.bool(A);break;case c.DOUBLE:h.double(A);break;case c.FLOAT:h.float(A);break;case c.INT32:h.int32(A);break;case c.INT64:h.int64(A);break;case c.UINT64:h.uint64(A);break;case c.FIXED64:h.fixed64(A);break;case c.BYTES:h.bytes(A);break;case c.FIXED32:h.fixed32(A);break;case c.SFIXED32:h.sfixed32(A);break;case c.SFIXED64:h.sfixed64(A);break;case c.SINT64:h.sint64(A);break;case c.UINT32:h.uint32(A);break;case c.SINT32:h.sint32(A);break}}catch(_){throw _ instanceof Error?new Error(`cannot encode field ${o}.${f} to binary: ${_.message}`):_}}function Xy(h){switch(h){case c.BYTES:case c.STRING:return He.LengthDelimited;case c.DOUBLE:case c.FIXED64:case c.SFIXED64:return He.Bit64;case c.FIXED32:case c.SFIXED32:case c.FLOAT:return He.Bit32;default:return He.Varint}}function Zy(h,o,f){let v=!1;return f||(f=J(S1),v=!0),f.value=Fi(h,o),f.typeUrl=w1(o.$typeName),v?f:void 0}function Jy(h,o){if(h.typeUrl==="")return!1;const f=typeof o=="string"?o:o.typeName,v=Qy(h.typeUrl);return f===v}function E1(h,o){if(h.typeUrl==="")return;const f=o.kind=="message"?o:o.getMessage(Qy(h.typeUrl));if(!(!f||!Jy(h,f)))return Li(f,h.value)}function w1(h){return`type.googleapis.com/${h}`}function Qy(h){const o=h.lastIndexOf("/"),f=o>=0?h.substring(o+1):h;if(!f.length)throw new Error(`invalid type url: ${h}`);return f}const sm=bo("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),C1=Mt(sm,0),ri=Mt(sm,1),Ef=Mt(sm,2);var Mh;(function(h){h[h.NULL_VALUE=0]="NULL_VALUE"})(Mh||(Mh={}));const ex=bo("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function tx(h,o){Za(o,h);const f=am(h.$unknown,o),[v,A,_]=Ph(o);for(const F of f)Vy(v,new ke(F.data),A,F.wireType,{readUnknownFields:!0});return _()}function nx(h,o,f){var v;Za(o,h);const A=((v=h.$unknown)!==null&&v!==void 0?v:[]).filter(te=>te.no!==o.number),[_,F]=Ph(o,f),V=new sn;qy(V,{writeUnknownFields:!0},_,F);const Y=new ke(V.finish());for(;Y.pos<Y.len;){const[te,ce]=Y.tag(),Re=Y.skip(ce,te);A.push({no:te,wireType:ce,data:Re})}h.$unknown=A}function am(h,o){if(h===void 0)return[];if(o.fieldKind==="enum"||o.fieldKind==="scalar"){for(let f=h.length-1;f>=0;--f)if(h[f].no==o.number)return[h[f]];return[]}return h.filter(f=>f.no===o.number)}function Ph(h,o){const f=h.typeName,v=Object.assign(Object.assign({},h),{kind:"field",parent:h.extendee,localName:f}),A=Object.assign(Object.assign({},h.extendee),{fields:[v],members:[v],oneofs:[]}),_=J(A,o!==void 0?{[f]:o}:void 0);return[qt(A,_),v,()=>{const F=_[f];if(F===void 0){const V=h.message;return U(V)?$(V.fields[0].scalar,V.fields[0].longAsString):J(V)}return F}]}function Za(h,o){if(h.extendee.typeName!=o.$typeName)throw new Error(`extension ${h.typeName} can only be applied to message ${h.extendee.typeName}`)}const lm=3,wf=2,Lh={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function rx(h){return h?Object.assign(Object.assign({},Lh),h):Lh}function Ja(h,o,f){return Qa(qt(h,o),rx(f))}function Bu(h,o,f){var v;const A=Ja(h,o,f);return JSON.stringify(A,null,(v=f==null?void 0:f.prettySpaces)!==null&&v!==void 0?v:0)}function Qa(h,o){var f;const v=T1(h,o);if(v!==void 0)return v;const A={};for(const _ of h.sortedFields){if(!h.isSet(_)){if(_.presence==lm)throw new Error(`cannot encode ${_} to JSON: required field not set`);if(!o.alwaysEmitImplicit||_.presence!==wf)continue}const F=um(_,h.get(_),o);F!==void 0&&(A[R1(_,o)]=F)}if(o.registry){const _=new Set;for(const{no:F}of(f=h.getUnknown())!==null&&f!==void 0?f:[])if(!_.has(F)){_.add(F);const V=o.registry.getExtensionFor(h.desc,F);if(!V)continue;const Y=tx(h.message,V),[te,ce]=Ph(V,Y),Re=um(ce,te.get(ce),o);Re!==void 0&&(A[V.jsonName]=Re)}}return A}function um(h,o,f){switch(h.fieldKind){case"scalar":return Cf(h,o);case"message":return Qa(o,f);case"enum":return Fh(h.enum,o,f.enumAsInteger);case"list":return ix(o,f);case"map":return el(o,f)}}function el(h,o){const f=h.field(),v={};switch(f.mapKind){case"scalar":for(const[A,_]of h)v[A]=Cf(f,_);break;case"message":for(const[A,_]of h)v[A]=Qa(_,o);break;case"enum":for(const[A,_]of h)v[A]=Fh(f.enum,_,o.enumAsInteger);break}return o.alwaysEmitImplicit||h.size>0?v:void 0}function ix(h,o){const f=h.field(),v=[];switch(f.listKind){case"scalar":for(const A of h)v.push(Cf(f,A));break;case"enum":for(const A of h)v.push(Fh(f.enum,A,o.enumAsInteger));break;case"message":for(const A of h)v.push(Qa(A,o));break}return o.alwaysEmitImplicit||v.length>0?v:void 0}function Fh(h,o,f){var v;if(typeof o!="number")throw new Error(`cannot encode ${h} to JSON: expected number, got ${rt(o)}`);if(h.typeName=="google.protobuf.NullValue")return null;if(f)return o;const A=h.value[o];return(v=A==null?void 0:A.name)!==null&&v!==void 0?v:o}function Cf(h,o){var f,v,A,_,F,V;switch(h.scalar){case c.INT32:case c.SFIXED32:case c.SINT32:case c.FIXED32:case c.UINT32:if(typeof o!="number")throw new Error(`cannot encode ${h} to JSON: ${(f=Dt(h,o))===null||f===void 0?void 0:f.message}`);return o;case c.FLOAT:case c.DOUBLE:if(typeof o!="number")throw new Error(`cannot encode ${h} to JSON: ${(v=Dt(h,o))===null||v===void 0?void 0:v.message}`);return Number.isNaN(o)?"NaN":o===Number.POSITIVE_INFINITY?"Infinity":o===Number.NEGATIVE_INFINITY?"-Infinity":o;case c.STRING:if(typeof o!="string")throw new Error(`cannot encode ${h} to JSON: ${(A=Dt(h,o))===null||A===void 0?void 0:A.message}`);return o;case c.BOOL:if(typeof o!="boolean")throw new Error(`cannot encode ${h} to JSON: ${(_=Dt(h,o))===null||_===void 0?void 0:_.message}`);return o;case c.UINT64:case c.FIXED64:case c.INT64:case c.SFIXED64:case c.SINT64:if(typeof o!="bigint"&&typeof o!="string")throw new Error(`cannot encode ${h} to JSON: ${(F=Dt(h,o))===null||F===void 0?void 0:F.message}`);return o.toString();case c.BYTES:if(o instanceof Uint8Array)return cy(o);throw new Error(`cannot encode ${h} to JSON: ${(V=Dt(h,o))===null||V===void 0?void 0:V.message}`)}}function R1(h,o){return o.useProtoFieldName?h.name:h.jsonName}function T1(h,o){if(h.desc.typeName.startsWith("google.protobuf."))switch(h.desc.typeName){case"google.protobuf.Any":return N1(h.message,o);case"google.protobuf.Timestamp":return ki(h.message);case"google.protobuf.Duration":return ox(h.message);case"google.protobuf.FieldMask":return sx(h.message);case"google.protobuf.Struct":return kh(h.message);case"google.protobuf.Value":return xi(h.message);case"google.protobuf.ListValue":return cm(h.message);default:if(U(h.desc)){const f=h.desc.fields[0];return Cf(f,h.get(f))}return}}function N1(h,o){if(h.typeUrl==="")return{};const{registry:f}=o;let v,A;if(f&&(v=E1(h,f),v&&(A=f.getMessage(v.$typeName))),!A||!v)throw new Error(`cannot encode message ${h.$typeName} to JSON: "${h.typeUrl}" is not in the type registry`);let _=Qa(qt(A,v),o);return(A.typeName.startsWith("google.protobuf.")||_===null||Array.isArray(_)||typeof _!="object")&&(_={value:_}),_["@type"]=h.typeUrl,_}function ox(h){const o=Number(h.seconds),f=h.nanos;if(o>315576e6||o<-315576e6)throw new Error(`cannot encode message ${h.$typeName} to JSON: value out of range`);if(o>0&&f<0||o<0&&f>0)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos sign must match seconds sign`);let v=h.seconds.toString();if(f!==0){let A=Math.abs(f).toString();A="0".repeat(9-A.length)+A,A.substring(3)==="000000"?A=A.substring(0,3):A.substring(6)==="000"&&(A=A.substring(0,6)),v+="."+A,f<0&&o==0&&(v="-"+v)}return v+"s"}function sx(h){return h.paths.map(o=>{if(o.match(/_[0-9]?_/g)||o.match(/[A-Z]/g))throw new Error(`cannot encode message ${h.$typeName} to JSON: lowerCamelCase of path name "`+o+'" is irreversible');return Wa(o)}).join(",")}function kh(h){const o={};for(const[f,v]of Object.entries(h.fields))o[f]=xi(v);return o}function xi(h){switch(h.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(h.kind.value))throw new Error(`${h.$typeName} cannot be NaN or Infinity`);return h.kind.value;case"boolValue":return h.kind.value;case"stringValue":return h.kind.value;case"structValue":return kh(h.kind.value);case"listValue":return cm(h.kind.value);default:throw new Error(`${h.$typeName} must have a value`)}}function cm(h){return h.values.map(xi)}function ki(h){const o=Number(h.seconds)*1e3;if(o<Date.parse("0001-01-01T00:00:00Z")||o>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${h.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(h.nanos<0)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos must not be negative`);if(h.nanos>999999999)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos must not be greater than 99999999`);let f="Z";if(h.nanos>0){const v=(h.nanos+1e9).toString().substring(1);v.substring(3)==="000000"?f="."+v.substring(0,3)+"Z":v.substring(6)==="000"?f="."+v.substring(0,6)+"Z":f="."+v+"Z"}return new Date(o).toISOString().replace(".000Z",f)}const bi={ignoreUnknownFields:!1};function ju(h){return h?Object.assign(Object.assign({},bi),h):bi}function fm(h,o,f){return Bh(h,dm(o,h.typeName),f)}function Bh(h,o,f){const v=qt(h);try{Jo(v,o,ju(f))}catch(A){throw ge(A)?new Error(`cannot decode ${A.field()} from JSON: ${A.message}`,{cause:A}):A}return v.message}function Jo(h,o,f){var v;if(hm(h,o,f))return;if(o==null||Array.isArray(o)||typeof o!="object")throw new Error(`cannot decode ${h.desc} from JSON: ${rt(o)}`);const A=new Map,_=new Map;for(const F of h.desc.fields)_.set(F.name,F).set(F.jsonName,F);for(const[F,V]of Object.entries(o)){const Y=_.get(F);if(Y){if(Y.oneof){if(V===null&&Y.fieldKind=="scalar")continue;const te=A.get(Y.oneof);if(te!==void 0)throw new gt(Y.oneof,`oneof set multiple times by ${te.name} and ${Y.name}`);A.set(Y.oneof,Y)}jh(h,Y,V,f)}else{let te;if(F.startsWith("[")&&F.endsWith("]")&&(te=(v=f.registry)===null||v===void 0?void 0:v.getExtension(F.substring(1,F.length-1)))&&te.extendee.typeName===h.desc.typeName){const[ce,Re,Be]=Ph(te);jh(ce,Re,V,f),nx(h.message,te,Be())}if(!te&&!f.ignoreUnknownFields)throw new Error(`cannot decode ${h.desc} from JSON: key "${F}" is unknown`)}}}function jh(h,o,f,v){switch(o.fieldKind){case"scalar":_1(h,o,f);break;case"enum":Uu(h,o,f,v);break;case"message":zh(h,o,f,v);break;case"list":ax(h.get(o),f,v);break;case"map":zu(h.get(o),f,v);break}}function zu(h,o,f){if(o===null)return;const v=h.field();if(typeof o!="object"||Array.isArray(o))throw new gt(v,"expected object, got "+rt(o));for(const[A,_]of Object.entries(o)){if(_===null)throw new gt(v,"map value must not be null");let F;switch(v.mapKind){case"message":const Y=qt(v.message);Jo(Y,_,f),F=Y;break;case"enum":if(F=Rf(v.enum,_,f.ignoreUnknownFields,!0),F===Fr)return;break;case"scalar":F=Tf(v,_,!0);break}const V=Uh(v.mapKey,A);h.set(V,F)}}function ax(h,o,f){if(o===null)return;const v=h.field();if(!Array.isArray(o))throw new gt(v,"expected Array, got "+rt(o));for(const A of o){if(A===null)throw new gt(v,"list item must not be null");switch(v.listKind){case"message":const _=qt(v.message);Jo(_,A,f),h.add(_);break;case"enum":const F=Rf(v.enum,A,f.ignoreUnknownFields,!0);F!==Fr&&h.add(F);break;case"scalar":h.add(Tf(v,A,!0));break}}}function zh(h,o,f,v){if(f===null&&o.message.typeName!="google.protobuf.Value"){h.clear(o);return}const A=h.isSet(o)?h.get(o):qt(o.message);Jo(A,f,v),h.set(o,A)}function Uu(h,o,f,v){const A=Rf(o.enum,f,v.ignoreUnknownFields,!1);A===Bi?h.clear(o):A!==Fr&&h.set(o,A)}function _1(h,o,f){const v=Tf(o,f,!1);v===Bi?h.clear(o):h.set(o,v)}const Fr=Symbol();function Rf(h,o,f,v){if(o===null)return h.typeName=="google.protobuf.NullValue"?0:v?h.values[0].number:Bi;switch(typeof o){case"number":if(Number.isInteger(o))return o;break;case"string":const A=h.values.find(_=>_.name===o);if(A!==void 0)return A.number;if(f)return Fr;break}throw new Error(`cannot decode ${h} from JSON: ${rt(o)}`)}const Bi=Symbol();function Tf(h,o,f){if(o===null)return f?$(h.scalar,!1):Bi;switch(h.scalar){case c.DOUBLE:case c.FLOAT:if(o==="NaN")return NaN;if(o==="Infinity")return Number.POSITIVE_INFINITY;if(o==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof o=="number"){if(Number.isNaN(o))throw new gt(h,"unexpected NaN number");if(!Number.isFinite(o))throw new gt(h,"unexpected infinite number");break}if(typeof o=="string"){if(o===""||o.trim().length!==o.length)break;const v=Number(o);if(!Number.isFinite(v))break;return v}break;case c.INT32:case c.FIXED32:case c.SFIXED32:case c.SINT32:case c.UINT32:return Ws(o);case c.BYTES:if(typeof o=="string"){if(o==="")return new Uint8Array(0);try{return Vg(o)}catch(v){const A=v instanceof Error?v.message:String(v);throw new gt(h,A)}}break}return o}function Uh(h,o){switch(h){case c.BOOL:switch(o){case"true":return!0;case"false":return!1}return o;case c.INT32:case c.FIXED32:case c.UINT32:case c.SFIXED32:case c.SINT32:return Ws(o);default:return o}}function Ws(h){if(typeof h=="string"){if(h===""||h.trim().length!==h.length)return h;const o=Number(h);return Number.isNaN(o)?h:o}return h}function dm(h,o){try{return JSON.parse(h)}catch(f){const v=f instanceof Error?f.message:String(f);throw new Error(`cannot decode message ${o} from JSON: ${v}`,{cause:f})}}function hm(h,o,f){if(!h.desc.typeName.startsWith("google.protobuf."))return!1;switch(h.desc.typeName){case"google.protobuf.Any":return Vu(h.message,o,f),!0;case"google.protobuf.Timestamp":return Gu(h.message,o),!0;case"google.protobuf.Duration":return Vh(h.message,o),!0;case"google.protobuf.FieldMask":return Gh(h.message,o),!0;case"google.protobuf.Struct":return Si(h.message,o),!0;case"google.protobuf.Value":return ii(h.message,o),!0;case"google.protobuf.ListValue":return Hs(h.message,o),!0;default:if(U(h.desc)){const v=h.desc.fields[0];return o===null?h.clear(v):h.set(v,Tf(v,o,!0)),!0}return!1}}function Vu(h,o,f){var v;if(o===null||Array.isArray(o)||typeof o!="object")throw new Error(`cannot decode message ${h.$typeName} from JSON: expected object but got ${rt(o)}`);if(Object.keys(o).length==0)return;const A=o["@type"];if(typeof A!="string"||A=="")throw new Error(`cannot decode message ${h.$typeName} from JSON: "@type" is empty`);const _=A.includes("/")?A.substring(A.lastIndexOf("/")+1):A;if(!_.length)throw new Error(`cannot decode message ${h.$typeName} from JSON: "@type" is invalid`);const F=(v=f.registry)===null||v===void 0?void 0:v.getMessage(_);if(!F)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${A} is not in the type registry`);const V=qt(F);if(_.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(o,"value")){const Y=o.value;Jo(V,Y,f)}else{const Y=Object.assign({},o);delete Y["@type"],Jo(V,Y,f)}Zy(V.desc,V.message,h)}function Gu(h,o){if(typeof o!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(o)}`);const f=o.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!f)throw new Error(`cannot decode message ${h.$typeName} from JSON: invalid RFC 3339 string`);const v=Date.parse(f[1]+"-"+f[2]+"-"+f[3]+"T"+f[4]+":"+f[5]+":"+f[6]+(f[8]?f[8]:"Z"));if(Number.isNaN(v))throw new Error(`cannot decode message ${h.$typeName} from JSON: invalid RFC 3339 string`);if(v<Date.parse("0001-01-01T00:00:00Z")||v>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${h.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);h.seconds=L.parse(v/1e3),h.nanos=0,f[7]&&(h.nanos=parseInt("1"+f[7]+"0".repeat(9-f[7].length))-1e9)}function Vh(h,o){if(typeof o!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(o)}`);const f=o.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(f===null)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(o)}`);const v=Number(f[1]);if(v>315576e6||v<-315576e6)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(o)}`);if(h.seconds=L.parse(v),typeof f[2]!="string")return;const A=f[2]+"0".repeat(9-f[2].length);h.nanos=parseInt(A),(v<0||Object.is(v,-0))&&(h.nanos=-h.nanos)}function Gh(h,o){if(typeof o!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(o)}`);if(o==="")return;function f(v){if(v.includes("_"))throw new Error(`cannot decode message ${h.$typeName} from JSON: path names must be lowerCamelCase`);const A=v.replace(/[A-Z]/g,_=>"_"+_.toLowerCase());return A[0]==="_"?A.substring(1):A}h.paths=o.split(",").map(f)}function Si(h,o){if(typeof o!="object"||o==null||Array.isArray(o))throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(o)}`);for(const[f,v]of Object.entries(o)){const A=J(ri);ii(A,v),h.fields[f]=A}}function ii(h,o){switch(typeof o){case"number":h.kind={case:"numberValue",value:o};break;case"string":h.kind={case:"stringValue",value:o};break;case"boolean":h.kind={case:"boolValue",value:o};break;case"object":if(o===null)h.kind={case:"nullValue",value:Mh.NULL_VALUE};else if(Array.isArray(o)){const f=J(Ef);Hs(f,o),h.kind={case:"listValue",value:f}}else{const f=J(C1);Si(f,o),h.kind={case:"structValue",value:f}}break;default:throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(o)}`)}return h}function Hs(h,o){if(!Array.isArray(o))throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(o)}`);for(const f of o){const v=J(ri);ii(v,f),h.values.push(v)}}function So(h){const o=l[h];return typeof o!="string"?h.toString():o[0].toLowerCase()+o.substring(1).replace(/[A-Z]/g,f=>"_"+f.toLowerCase())}class Kt extends Error{constructor(o,f=l.Unknown,v,A,_){super(tl(o,f)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=o,this.code=f,this.metadata=new Headers(v??{}),this.details=A??[],this.cause=_}static from(o,f=l.Unknown){return o instanceof Kt?o:o instanceof Error?o.name=="AbortError"||o.name=="TimeoutError"?new Kt(o.message,l.Canceled):new Kt(o.message,f,void 0,void 0,o):new Kt(String(o),f,void 0,void 0,o)}static[Symbol.hasInstance](o){return o instanceof Error?Object.getPrototypeOf(o)===Kt.prototype?!0:o.name==="ConnectError"&&"code"in o&&typeof o.code=="number"&&"metadata"in o&&"details"in o&&Array.isArray(o.details)&&"rawMessage"in o&&typeof o.rawMessage=="string"&&"cause"in o:!1}findDetails(o){const f=o.kind==="message"?{getMessage:A=>A===o.typeName?o:void 0}:o,v=[];for(const A of this.details){if("desc"in A){f.getMessage(A.desc.typeName)&&v.push(J(A.desc,A.value));continue}const _=f.getMessage(A.type);if(_)try{v.push(Li(_,A.value))}catch{}}return v}}function tl(h,o){return h.length?`[${So(o)}] ${h}`:`[${So(o)}]`}function lx(h,o,f){try{const v=Vg(h);return o?Li(o,v,f):v}catch(v){throw Kt.from(v,l.DataLoss)}}function pm(h,o){const f={};for(const v of h.methods){const A=o(v);A!=null&&(f[v.localName]=A)}return f}const $h=1;function Gr(h,o,f=!1){if(o>h){let v=`message size is larger than configured readMaxBytes ${h}`;throw f&&(v=`message size ${o} is larger than configured readMaxBytes ${h}`),new Kt(v,l.ResourceExhausted)}}function Yn(h){return new cn(h)}class cn{constructor(o){this.readMaxBytes=o,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((o,f)=>o+f.byteLength,0)}decode(o){this.buf.push(o);const f=[];for(;;){let v=this.pop();if(!v)break;f.push(v)}return f}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const o=this.env;return this.env=void 0,o}}head(){if(!this.cons(this.header))return;const o=this.headerView.getUint8(0),f=this.headerView.getUint32(1);return Gr(this.readMaxBytes,f,!0),{flags:o,data:new Uint8Array(f)}}cons(o){const f=o.byteLength;if(this.byteLength<f)return!1;let v=0;for(;v<f;){const A=this.buf.shift();A.byteLength>f-v?(o.set(A.subarray(0,f-v),v),this.buf.unshift(A.subarray(f-v)),v+=f-v):(o.set(A,v),v+=A.byteLength)}return!0}}function Ys(h){let o;const f=Yn(4294967295);return new ReadableStream({start(){o=h.getReader()},async pull(v){let A=!1;for(;!A;){const _=await o.read();if(_.done)f.byteLength>0&&v.error(new Kt("protocol error: incomplete envelope",l.InvalidArgument)),v.close();else for(const F of f.decode(_.value))v.enqueue(F),A=!0}}})}function eo(h,o){const f=new Uint8Array(o.length+5);f.set(o,5);const v=new DataView(f.buffer,f.byteOffset,f.byteLength);return v.setUint8(0,h),v.setUint32(1,o.length),f}var gm=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=h[Symbol.asyncIterator],f;return o?o.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),f={},v("next"),v("throw"),v("return"),f[Symbol.asyncIterator]=function(){return this},f);function v(_){f[_]=h[_]&&function(F){return new Promise(function(V,Y){F=h[_](F),A(V,Y,F.done,F.value)})}}function A(_,F,V,Y){Promise.resolve(Y).then(function(te){_({value:te,done:V})},F)}},to=function(h){return this instanceof to?(this.v=h,this):new to(h)},ux=function(h,o,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=f.apply(h,o||[]),A,_=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",F),A[Symbol.asyncIterator]=function(){return this},A;function F(Te){return function(Ye){return Promise.resolve(Ye).then(Te,Re)}}function V(Te,Ye){v[Te]&&(A[Te]=function(We){return new Promise(function(ot,wt){_.push([Te,We,ot,wt])>1||Y(Te,We)})},Ye&&(A[Te]=Ye(A[Te])))}function Y(Te,Ye){try{te(v[Te](Ye))}catch(We){Be(_[0][3],We)}}function te(Te){Te.value instanceof to?Promise.resolve(Te.value.v).then(ce,Re):Be(_[0][2],Te)}function ce(Te){Y("next",Te)}function Re(Te){Y("throw",Te)}function Be(Te,Ye){Te(Ye),_.shift(),_.length&&Y(_[0][0],_[0][1])}},cx=function(h){var o,f;return o={},v("next"),v("throw",function(A){throw A}),v("return"),o[Symbol.iterator]=function(){return this},o;function v(A,_){o[A]=h[A]?function(F){return(f=!f)?{value:to(h[A](F)),done:!1}:_?_(F):F}:_}};function Nf(h){return ux(this,arguments,function*(){yield to(yield*cx(gm(h)))})}var $u=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=h[Symbol.asyncIterator],f;return o?o.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),f={},v("next"),v("throw"),v("return"),f[Symbol.asyncIterator]=function(){return this},f);function v(_){f[_]=h[_]&&function(F){return new Promise(function(V,Y){F=h[_](F),A(V,Y,F.done,F.value)})}}function A(_,F,V,Y){Promise.resolve(Y).then(function(te){_({value:te,done:V})},F)}},nl=function(h){return this instanceof nl?(this.v=h,this):new nl(h)},_f=function(h){var o,f;return o={},v("next"),v("throw",function(A){throw A}),v("return"),o[Symbol.iterator]=function(){return this},o;function v(A,_){o[A]=h[A]?function(F){return(f=!f)?{value:nl(h[A](F)),done:!1}:_?_(F):F}:_}},mm=function(h,o,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=f.apply(h,o||[]),A,_=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",F),A[Symbol.asyncIterator]=function(){return this},A;function F(Te){return function(Ye){return Promise.resolve(Ye).then(Te,Re)}}function V(Te,Ye){v[Te]&&(A[Te]=function(We){return new Promise(function(ot,wt){_.push([Te,We,ot,wt])>1||Y(Te,We)})},Ye&&(A[Te]=Ye(A[Te])))}function Y(Te,Ye){try{te(v[Te](Ye))}catch(We){Be(_[0][3],We)}}function te(Te){Te.value instanceof nl?Promise.resolve(Te.value.v).then(ce,Re):Be(_[0][2],Te)}function ce(Te){Y("next",Te)}function Re(Te){Y("throw",Te)}function Be(Te,Ye){Te(Ye),_.shift(),_.length&&Y(_[0][0],_[0][1])}};function rl(h,o){return pm(h,f=>{switch(f.methodKind){case"unary":return Qo(o,f);case"server_streaming":return qs(o,f);case"client_streaming":return es(o,f);case"bidi_streaming":return vm(o,f);default:return null}})}function Qo(h,o){return async(f,v)=>{var A,_;const F=await h.unary(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,f,v==null?void 0:v.contextValues);return(A=v==null?void 0:v.onHeader)===null||A===void 0||A.call(v,F.header),(_=v==null?void 0:v.onTrailer)===null||_===void 0||_.call(v,F.trailer),F.message}}function qs(h,o){return(f,v)=>Wh(h.stream(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,Nf([f]),v==null?void 0:v.contextValues),v)}function es(h,o){return async(f,v)=>{var A,_,F,V,Y,te;const ce=await h.stream(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,f,v==null?void 0:v.contextValues);(Y=v==null?void 0:v.onHeader)===null||Y===void 0||Y.call(v,ce.header);let Re,Be=0;try{for(var Te=!0,Ye=$u(ce.message),We;We=await Ye.next(),A=We.done,!A;Te=!0)V=We.value,Te=!1,Re=V,Be++}catch(ot){_={error:ot}}finally{try{!Te&&!A&&(F=Ye.return)&&await F.call(Ye)}finally{if(_)throw _.error}}if(!Re)throw new Kt("protocol error: missing response message",l.Unimplemented);if(Be>1)throw new Kt("protocol error: received extra messages for client streaming method",l.Unimplemented);return(te=v==null?void 0:v.onTrailer)===null||te===void 0||te.call(v,ce.trailer),Re}}function vm(h,o){return(f,v)=>Wh(h.stream(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,f,v==null?void 0:v.contextValues),v)}function Wh(h,o){const f=function(){return mm(this,arguments,function*(){var v,A;const _=yield nl(h);(v=o==null?void 0:o.onHeader)===null||v===void 0||v.call(o,_.header),yield nl(yield*_f($u(_.message))),(A=o==null?void 0:o.onTrailer)===null||A===void 0||A.call(o,_.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>f.next()})}}function If(...h){const o=new AbortController,f=h.filter(A=>A!==void 0).concat(o.signal);for(const A of f){if(A.aborted){v.apply(A);break}A.addEventListener("abort",v)}function v(){o.signal.aborted||o.abort(Ks(this));for(const A of f)A.removeEventListener("abort",v)}return o}function Hh(h){const o=new AbortController,f=()=>{o.abort(new Kt("the operation timed out",l.DeadlineExceeded))};let v;return h!==void 0&&(h<=0?f():v=setTimeout(f,h)),{signal:o.signal,cleanup:()=>clearTimeout(v)}}function Ks(h){if(!h.aborted)return;if(h.reason!==void 0)return h.reason;const o=new Error("This operation was aborted");return o.name="AbortError",o}function Ar(){return{get(h){return h.id in this?this[h.id]:h.defaultValue},set(h,o){return this[h.id]=o,this},delete(h){return delete this[h.id],this}}}const Wu=128;function ym(h){const o=new Headers,f=new TextDecoder().decode(h).split(`\r
`);for(const v of f){if(v==="")continue;const A=v.indexOf(":");if(A>0){const _=v.substring(0,A).trim(),F=v.substring(A+1).trim();o.append(_,F)}}return o}const I1="Content-Type",O1="Grpc-Timeout",Hu="Grpc-Status",or="Grpc-Message",xm="Grpc-Status-Details-Bin",Of="User-Agent",Yu="X-User-Agent",bm="X-Grpc-Web",qu="application/grpc-web+proto",Ku="application/grpc-web+json";function D1(h,o,...f){if(f.length>0)throw new Error;return h.services[o]}const P1=Mt(bo("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[Hy]),0),fx="0";function Xs(h){var o;const f=h.get(xm);if(f!=null){const A=lx(f,P1);if(A.code==0)return;const _=new Kt(A.message,A.code,h);return _.details=A.details.map(F=>({type:F.typeUrl.substring(F.typeUrl.lastIndexOf("/")+1),value:F.value})),_}const v=h.get(Hu);if(v!=null){if(v===fx)return;const A=parseInt(v,10);return A in l?new Kt(decodeURIComponent((o=h.get(or))!==null&&o!==void 0?o:""),A,h):new Kt(`invalid grpc-status: ${v}`,l.Internal,h)}}function Yh(h,o){return h.toString().replace(/\/?$/,`/${o.parent.typeName}/${o.name}`)}function Df(h,o){return J(h,o)}function dx(h,o){function f(v){return v.done===!0?v:{done:v.done,value:Df(h,v.value)}}return{[Symbol.asyncIterator](){const v=o[Symbol.asyncIterator](),A={next:()=>v.next().then(f)};return v.throw!==void 0&&(A.throw=_=>v.throw(_).then(f)),v.return!==void 0&&(A.return=_=>v.return(_).then(f)),A}}}function Xu(h,o){if(!o)return h;for(const f of o.concat().reverse())h=f(h);return h}function hx(h){var o;const f=Object.assign({},h);return(o=f.ignoreUnknownFields)!==null&&o!==void 0||(f.ignoreUnknownFields=!0),f}function Mf(h,o,f,v){const A=o?qh(h.input,v):Sm(h.input,f);return{parse:(o?qh(h.output,v):Sm(h.output,f)).parse,serialize:A.serialize}}function qh(h,o){return{parse(f){try{return Li(h,f,o)}catch(v){const A=v instanceof Error?v.message:String(v);throw new Kt(`parse binary: ${A}`,l.Internal)}},serialize(f){try{return Fi(h,f,o)}catch(v){const A=v instanceof Error?v.message:String(v);throw new Kt(`serialize binary: ${A}`,l.Internal)}}}}function Sm(h,o){var f,v;const A=(f=o==null?void 0:o.textEncoder)!==null&&f!==void 0?f:new TextEncoder,_=(v=o==null?void 0:o.textDecoder)!==null&&v!==void 0?v:new TextDecoder,F=hx(o);return{parse(V){try{const Y=_.decode(V);return fm(h,Y,F)}catch(Y){throw Kt.from(Y,l.InvalidArgument)}},serialize(V){try{const Y=Bu(h,V,F);return A.encode(Y)}catch(Y){throw Kt.from(Y,l.Internal)}}}}function Kh(h){const o=Xu(h.next,h.interceptors),[f,v,A]=Zu(h),_=Object.assign(Object.assign({},h.req),{message:Df(h.req.method.input,h.req.message),signal:f});return o(_).then(F=>(A(),F),v)}function px(h){const o=Xu(h.next,h.interceptors),[f,v,A]=Zu(h),_=Object.assign(Object.assign({},h.req),{message:dx(h.req.method.input,h.req.message),signal:f});let F=!1;return f.addEventListener("abort",function(){var V,Y;const te=h.req.message[Symbol.asyncIterator]();F||(V=te.throw)===null||V===void 0||V.call(te,this.reason).catch(()=>{}),(Y=te.return)===null||Y===void 0||Y.call(te).catch(()=>{})}),o(_).then(V=>Object.assign(Object.assign({},V),{message:{[Symbol.asyncIterator](){const Y=V.message[Symbol.asyncIterator]();return{next(){return Y.next().then(te=>(te.done==!0&&(F=!0,A()),te),v)}}}}}),v)}function Zu(h){const{signal:o,cleanup:f}=Hh(h.timeoutMs),v=If(h.signal,o);return[v.signal,function(_){const F=Kt.from(o.aborted?Ks(o):_);return v.abort(F),f(),Promise.reject(F)},function(){f(),v.abort()}]}function gx(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Am(h,o){const f=Xs(h);if(f)throw o.forEach((v,A)=>{f.metadata.append(A,v)}),f;if(!o.has(Hu)&&!h.has(Hu))throw new Kt("protocol error: missing status",l.Internal)}function ts(h,o,f,v){var A,_;const F=new Headers(f??{});F.set(I1,h?qu:Ku),F.set(bm,"1");const V=(_=(A=F.get(Of))!==null&&A!==void 0?A:F.get(Yu))!==null&&_!==void 0?_:"connect-es/2.1.1";return F.set(Yu,V),o!==void 0&&F.set(O1,`${o}m`),F}function Em(h){switch(h){case 400:return l.Internal;case 401:return l.Unauthenticated;case 403:return l.PermissionDenied;case 404:return l.Unimplemented;case 429:return l.Unavailable;case 502:return l.Unavailable;case 503:return l.Unavailable;case 504:return l.Unavailable;default:return l.Unknown}}function Xh(h,o){var f;if(h>=200&&h<300)return{foundStatus:o.has(Hu),headerError:Xs(o)};throw new Kt(decodeURIComponent((f=o.get(or))!==null&&f!==void 0?f:`HTTP ${h}`),Em(h),o)}var oi=function(h){return this instanceof oi?(this.v=h,this):new oi(h)},Zs=function(h,o,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=f.apply(h,o||[]),A,_=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",F),A[Symbol.asyncIterator]=function(){return this},A;function F(Te){return function(Ye){return Promise.resolve(Ye).then(Te,Re)}}function V(Te,Ye){v[Te]&&(A[Te]=function(We){return new Promise(function(ot,wt){_.push([Te,We,ot,wt])>1||Y(Te,We)})},Ye&&(A[Te]=Ye(A[Te])))}function Y(Te,Ye){try{te(v[Te](Ye))}catch(We){Be(_[0][3],We)}}function te(Te){Te.value instanceof oi?Promise.resolve(Te.value.v).then(ce,Re):Be(_[0][2],Te)}function ce(Te){Y("next",Te)}function Re(Te){Y("throw",Te)}function Be(Te,Ye){Te(Ye),_.shift(),_.length&&Y(_[0][0],_[0][1])}};const Ju={redirect:"error"};function wm(h){var o;gx();const f=(o=h.useBinaryFormat)!==null&&o!==void 0?o:!0;return{async unary(v,A,_,F,V,Y){const{serialize:te,parse:ce}=Mf(v,f,h.jsonOptions,h.binaryOptions);return _=_===void 0?h.defaultTimeoutMs:_<=0?void 0:_,await Kh({interceptors:h.interceptors,signal:A,timeoutMs:_,req:{stream:!1,service:v.parent,method:v,requestMethod:"POST",url:Yh(h.baseUrl,v),header:ts(f,_,F),contextValues:Y??Ar(),message:V},next:async Re=>{var Be;const Ye=await((Be=h.fetch)!==null&&Be!==void 0?Be:globalThis.fetch)(Re.url,Object.assign(Object.assign({},Ju),{method:Re.requestMethod,headers:Re.header,signal:Re.signal,body:eo(0,te(Re.message))})),{headerError:We}=Xh(Ye.status,Ye.headers);if(!Ye.body)throw We!==void 0?We:"missing response body";const ot=Ys(Ye.body).getReader();let wt,fn;for(;;){const Dn=await ot.read();if(Dn.done)break;const{flags:tn,data:_r}=Dn.value;if((tn&$h)===$h)throw new Kt("protocol error: received unsupported compressed output",l.Internal);if(tn===Wu){if(wt!==void 0)throw"extra trailer";wt=ym(_r);continue}if(fn!==void 0)throw new Kt("extra message",l.Unimplemented);fn=ce(_r)}if(wt===void 0)throw We!==void 0?We:new Kt("missing trailer",Ye.headers.has(Hu)?l.Unimplemented:l.Unknown);if(Am(wt,Ye.headers),fn===void 0)throw new Kt("missing message",wt.has(Hu)?l.Unimplemented:l.Unknown);return{stream:!1,service:v.parent,method:v,header:Ye.headers,message:fn,trailer:wt}}})},async stream(v,A,_,F,V,Y){const{serialize:te,parse:ce}=Mf(v,f,h.jsonOptions,h.binaryOptions);function Re(Te,Ye,We,ot,wt){return Zs(this,arguments,function*(){const Dn=Ys(Te).getReader();if(Ye){if(!(yield oi(Dn.read())).done)throw"extra data for trailers-only";return yield oi(void 0)}let tn=!1;for(;;){const _r=yield oi(Dn.read());if(_r.done)break;const{flags:dn,data:lr}=_r.value;if((dn&Wu)===Wu){if(tn)throw"extra trailer";tn=!0;const $n=ym(lr);Am($n,ot),$n.forEach((jn,Ri)=>We.set(Ri,jn));continue}if(tn)throw"extra message";yield yield oi(ce(lr))}if("throwIfAborted"in wt&&wt.throwIfAborted(),!tn)throw"missing trailer"})}async function Be(Te){if(v.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const Ye=await Te[Symbol.asyncIterator]().next();if(Ye.done==!0)throw"missing request message";return eo(0,te(Ye.value))}return _=_===void 0?h.defaultTimeoutMs:_<=0?void 0:_,px({interceptors:h.interceptors,signal:A,timeoutMs:_,req:{stream:!0,service:v.parent,method:v,requestMethod:"POST",url:Yh(h.baseUrl,v),header:ts(f,_,F),contextValues:Y??Ar(),message:V},next:async Te=>{var Ye;const ot=await((Ye=h.fetch)!==null&&Ye!==void 0?Ye:globalThis.fetch)(Te.url,Object.assign(Object.assign({},Ju),{method:Te.requestMethod,headers:Te.header,signal:Te.signal,body:await Be(Te.message)})),{foundStatus:wt,headerError:fn}=Xh(ot.status,ot.headers);if(fn!=null)throw fn;if(!ot.body)throw"missing response body";const Dn=new Headers;return Object.assign(Object.assign({},Te),{header:ot.headers,trailer:Dn,message:Re(ot.body,wt,Dn,ot.headers,Te.signal)})}})}}}const Ft=bo("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[Gy,ex]),Pf=Mt(Ft,0),Lf=Mt(Ft,1),mx=Mt(Ft,2),Zh=Mt(Ft,3),Js=Mt(Ft,4),Qu=Mt(Ft,5),vx=Mt(Ft,5,0),Cm=Mt(Ft,5,1),Rm=Mt(Ft,5,2),Qs=Mt(Ft,5,3),Vt=Mt(Ft,5,4),En=Mt(Ft,5,5),sr=Mt(Ft,5,6),Jh=Mt(Ft,5,7),ec=Mt(Ft,5,8),il=Mt(Ft,5,9),ns=Mt(Ft,6),kr=Mt(Ft,7),tc=Mt(Ft,7,0),L1=Mt(Ft,7,1),er=Mt(Ft,7,2),Tm=Mt(Ft,7,3),Nm=Mt(Ft,7,4),yx=Mt(Ft,7,5),xx=Mt(Ft,8),F1=Mt(Ft,9),Qh=Mt(Ft,10),_m=Mt(Ft,11),Im=Mt(Ft,12),si=Mt(Ft,13),ar=Mt(Ft,14),Om=Mt(Ft,15),Ff=Mt(Ft,16),kf=Mt(Ft,23);var ol=(h=>(h[h.UNSPECIFIED=0]="UNSPECIFIED",h[h.PUT=1]="PUT",h[h.DELETE=2]="DELETE",h[h.CLEAR=3]="CLEAR",h))(ol||{});const rs=Mt(Ft,24),ep=Mt(Ft,26),Dm=Mt(Ft,27),Mm=Mt(Ft,28);var Pm=(h=>(h[h.UNSPECIFIED=0]="UNSPECIFIED",h[h.PRESENCE=1]="PRESENCE",h[h.BROADCAST=2]="BROADCAST",h))(Pm||{}),zt=(h=>(h[h.NULL=0]="NULL",h[h.BOOLEAN=1]="BOOLEAN",h[h.INTEGER=2]="INTEGER",h[h.LONG=3]="LONG",h[h.DOUBLE=4]="DOUBLE",h[h.STRING=5]="STRING",h[h.BYTES=6]="BYTES",h[h.DATE=7]="DATE",h[h.JSON_OBJECT=8]="JSON_OBJECT",h[h.JSON_ARRAY=9]="JSON_ARRAY",h[h.TEXT=10]="TEXT",h[h.INTEGER_CNT=11]="INTEGER_CNT",h[h.LONG_CNT=12]="LONG_CNT",h[h.TREE=13]="TREE",h))(zt||{}),Bf=(h=>(h[h.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",h[h.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",h[h.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",h[h.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",h))(Bf||{});const bx=D1(bo("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5Ij0KF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEhUKDXNlc3Npb25fY291bnQYASABKAMSCwoDc2VxGAIgASgDIloKEEJyb2FkY2FzdFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEg0KBXRvcGljGAMgASgJEg8KB3BheWxvYWQYBCABKAwiEwoRQnJvYWRjYXN0UmVzcG9uc2UyhQsKDVlvcmtpZVNlcnZpY2USVwoOQWN0aXZhdGVDbGllbnQSIC55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0GiEueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJdChBEZWFjdGl2YXRlQ2xpZW50EiIueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXF1ZXN0GiMueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXNwb25zZSIAElcKDkF0dGFjaERvY3VtZW50EiAueW9ya2llLnYxLkF0dGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoORGV0YWNoRG9jdW1lbnQSIC55b3JraWUudjEuRGV0YWNoRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVzcG9uc2UiABJXCg5SZW1vdmVEb2N1bWVudBIgLnlvcmtpZS52MS5SZW1vdmVEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXNwb25zZSIAEloKD1B1c2hQdWxsQ2hhbmdlcxIhLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXF1ZXN0GiIueW9ya2llLnYxLlB1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlIgASVgoNV2F0Y2hEb2N1bWVudBIfLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVxdWVzdBogLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UiADABElcKDkNyZWF0ZVJldmlzaW9uEiAueW9ya2llLnYxLkNyZWF0ZVJldmlzaW9uUmVxdWVzdBohLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlc3BvbnNlIgASTgoLR2V0UmV2aXNpb24SHS55b3JraWUudjEuR2V0UmV2aXNpb25SZXF1ZXN0Gh4ueW9ya2llLnYxLkdldFJldmlzaW9uUmVzcG9uc2UiABJUCg1MaXN0UmV2aXNpb25zEh8ueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXF1ZXN0GiAueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXNwb25zZSIAEloKD1Jlc3RvcmVSZXZpc2lvbhIhLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXF1ZXN0GiIueW9ya2llLnYxLlJlc3RvcmVSZXZpc2lvblJlc3BvbnNlIgASVAoNQXR0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVzcG9uc2UiABJUCg1EZXRhY2hDaGFubmVsEh8ueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXF1ZXN0GiAueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXNwb25zZSIAElcKDlJlZnJlc2hDaGFubmVsEiAueW9ya2llLnYxLlJlZnJlc2hDaGFubmVsUmVxdWVzdBohLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlc3BvbnNlIgASUwoMV2F0Y2hDaGFubmVsEh4ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlcXVlc3QaHy55b3JraWUudjEuV2F0Y2hDaGFubmVsUmVzcG9uc2UiADABEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[Ft]),0),Lm=Mt(bo("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[ku]),0);var ve=(h=>(h.Ok="ok",h.ErrClientNotActivated="ErrClientNotActivated",h.ErrClientNotFound="ErrClientNotFound",h.ErrUnimplemented="ErrUnimplemented",h.ErrInvalidType="ErrInvalidType",h.ErrDummy="ErrDummy",h.ErrNotAttached="ErrNotAttached",h.ErrNotDetached="ErrNotDetached",h.ErrDocumentRemoved="ErrDocumentRemoved",h.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",h.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",h.ErrInvalidObjectKey="ErrInvalidObjectKey",h.ErrInvalidArgument="ErrInvalidArgument",h.ErrNotInitialized="ErrNotInitialized",h.ErrNotReady="ErrNotReady",h.ErrRefused="ErrRefused",h.ErrContextNotProvided="ErrContextNotProvided",h.ErrPermissionDenied="ErrPermissionDenied",h.ErrUnauthenticated="ErrUnauthenticated",h.ErrTooManySubscribers="ErrTooManySubscribers",h.ErrTooManyAttachments="ErrTooManyAttachments",h))(ve||{});class Ee extends Error{constructor(f,v){super(v);q(this,"name","YorkieError");q(this,"stack");this.code=f,this.message=v,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var no=(h=>(h.Put="put",h.Clear="clear",h))(no||{});const tp="000000000000000000000000",ro=24;class ai{constructor(o,f,v){q(this,"lamport");q(this,"delimiter");q(this,"actorID");this.lamport=o,this.delimiter=f,this.actorID=v}static of(o,f,v){return new ai(o,f,v)}static fromStruct(o){return ai.of(BigInt(o.lamport),o.delimiter,o.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(o){return new ai(this.lamport,this.delimiter,o)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(o){return this.compare(o)>0}equals(o){return this.compare(o)===0}compare(o){if(this.lamport>o.lamport)return 1;if(o.lamport>this.lamport)return-1;const f=this.actorID.localeCompare(o.actorID);return f!==0?f:this.delimiter>o.delimiter?1:o.delimiter>this.delimiter?-1:0}}const np=0n,Fm=0,rp=9223372036854775807n,sl=new ai(np,Fm,tp);function io(h){return h.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(o){switch(o){case'"':case"\\":return"\\"+o;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return o}})}class jf{constructor(o){q(this,"createdAt");q(this,"movedAt");q(this,"removedAt");this.createdAt=o}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(o){this.createdAt=o}setMovedAt(o){return!this.movedAt||o&&o.after(this.movedAt)?(this.movedAt=o,!0):!1}setRemovedAt(o){this.removedAt=o}remove(o){return o&&o.after(this.createdAt)&&(!this.removedAt||o.after(this.removedAt))?(this.removedAt=o,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let o=0;return this.getCreatedAt()&&(o+=ro),this.getMovedAt()&&(o+=ro),this.getRemovedAt()&&(o+=ro),o}}class is extends jf{constructor(o){super(o)}}class os{constructor(o,f){q(this,"strKey");q(this,"value");this.strKey=o,this.value=f}static of(o,f){return new os(o,f)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(o){return this.value.remove(o)}}class ss{constructor(){q(this,"nodeMapByKey");q(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new ss}set(o,f,v){let A;const _=this.nodeMapByKey.get(o);_&&!_.isRemoved()&&_.remove(v)&&(A=_.getValue());const F=os.of(o,f);return this.nodeMapByCreatedAt.set(f.getCreatedAt().toIDString(),F),(!_||v.after(_.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(o,F),f.setMovedAt(v)),A}delete(o,f){if(!this.nodeMapByCreatedAt.has(o.toIDString()))throw new Ee(ve.ErrInvalidArgument,`fail to find ${o.toIDString()}`);const v=this.nodeMapByCreatedAt.get(o.toIDString());return v.remove(f),v.getValue()}subPathOf(o){const f=this.nodeMapByCreatedAt.get(o.toIDString());if(f)return f.getStrKey()}purge(o){const f=this.nodeMapByCreatedAt.get(o.getCreatedAt().toIDString());if(!f)throw new Ee(ve.ErrInvalidArgument,`fail to find ${o.getCreatedAt().toIDString()}`);const v=this.nodeMapByKey.get(f.getStrKey());f===v&&this.nodeMapByKey.delete(v.getStrKey()),this.nodeMapByCreatedAt.delete(f.getValue().getCreatedAt().toIDString())}deleteByKey(o,f){const v=this.nodeMapByKey.get(o);if(v&&v.remove(f))return v.getValue()}has(o){const f=this.nodeMapByKey.get(o);return f?!f.isRemoved():!1}getByID(o){return this.nodeMapByCreatedAt.get(o.toIDString())}get(o){const f=this.nodeMapByKey.get(o);if(!(!f||f.isRemoved()))return f}deepcopy(){const o=ss.create();for(const[,f]of this.nodeMapByCreatedAt)o.nodeMapByCreatedAt.set(f.getValue().getCreatedAt().toIDString(),os.of(f.getStrKey(),f.getValue().deepcopy()));for(const[f,v]of this.nodeMapByKey)o.nodeMapByKey.set(f,o.nodeMapByCreatedAt.get(v.getValue().getCreatedAt().toIDString()));return o}*[Symbol.iterator](){for(const[,o]of this.nodeMapByCreatedAt)yield o}}class Er extends is{constructor(f,v){super(f);q(this,"memberNodes");this.memberNodes=v}static create(f,v){if(!v)return new Er(f,ss.create());const A=ss.create();for(const[_,F]of Object.entries(v))A.set(_,F.deepcopy(),F.getCreatedAt());return new Er(f,A)}subPathOf(f){return this.memberNodes.subPathOf(f)}purge(f){this.memberNodes.purge(f)}set(f,v,A){return this.memberNodes.set(f,v,A)}delete(f,v){return this.memberNodes.delete(f,v)}deleteByKey(f,v){return this.memberNodes.deleteByKey(f,v)}get(f){const v=this.memberNodes.get(f);return v==null?void 0:v.getValue()}getByID(f){const v=this.memberNodes.getByID(f);return v==null?void 0:v.getValue()}has(f){return this.memberNodes.has(f)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const f=[];for(const[v,A]of this)f.push(`"${io(v)}":${A.toJSON()}`);return`{${f.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const f={};for(const[v,A]of this){const{createdAt:_,value:F,type:V}=A.toJSForTest();f[v]={key:v,createdAt:_,value:F,type:V}}return{createdAt:this.getCreatedAt().toTestString(),value:f,type:"YORKIE_OBJECT"}}getKeys(){const f=Array();for(const[v]of this)f.push(v);return f}toSortedJSON(){var A;const f=new Set;for(const[_]of this)f.add(_);const v=[];for(const _ of Array.from(f).sort()){const F=(A=this.memberNodes.get(_))==null?void 0:A.getValue();v.push(`"${io(_)}":${F.toSortedJSON()}`)}return`{${v.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const f=Er.create(this.getCreatedAt());return f.memberNodes=this.memberNodes.deepcopy(),f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}getDescendants(f){for(const v of this.memberNodes){const A=v.getValue();if(f(A,this))return;A instanceof is&&A.getDescendants(f)}}*[Symbol.iterator](){for(const f of this.memberNodes)f.isRemoved()||(yield[f.getStrKey(),f.getValue()])}}var On=(h=>(h.Local="local",h.Remote="remote",h.UndoRedo="undoredo",h))(On||{});class $r{constructor(o,f){q(this,"parentCreatedAt");q(this,"executedAt");this.parentCreatedAt=o,this.executedAt=f}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Ee(ve.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(o){this.executedAt&&(this.executedAt=this.executedAt.setActor(o))}setExecutedAt(o){this.executedAt=o}}class km{constructor(o){q(this,"value");q(this,"left");q(this,"right");q(this,"parent");q(this,"weight");this.value=o,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(o){this.left=o}setRight(o){this.right=o}setParent(o){this.parent=o}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(o){this.weight+=o}initWeight(){this.weight=this.getLength()}}class nc{constructor(o){q(this,"root");this.root=o}get length(){return this.root?this.root.getWeight():0}findForText(o){if(!this.root||o<0)return[void 0,0];let f=this.root;for(;;)if(f.hasLeft()&&o<=f.getLeftWeight())f=f.getLeft();else if(f.hasRight()&&f.getLeftWeight()+f.getLength()<o)o-=f.getLeftWeight()+f.getLength(),f=f.getRight();else{o-=f.getLeftWeight();break}if(o>f.getLength())throw new Ee(ve.ErrInvalidArgument,`out of index range: pos: ${o} > node.length: ${f.getLength()}`);return this.splayNode(f),[f,o]}findForArray(o){if(!this.root)return;if(o<0||o>=this.length)throw new Ee(ve.ErrInvalidArgument,`out of index range: idx: ${o}, length: ${this.length}`);let f=this.root;for(;;)if(f.hasLeft()&&o<f.getLeftWeight())f=f.getLeft();else if(f.hasRight()&&f.getLeftWeight()+f.getLength()<=o)o-=f.getLeftWeight()+f.getLength(),f=f.getRight();else break;return this.splayNode(f),f}indexOf(o){return!o||o!==this.root&&!o.hasLinks()?-1:(this.splayNode(o),this.root.getLeftWeight())}getRoot(){return this.root}insert(o){return this.insertAfter(this.root,o)}insertAfter(o,f){return o?(this.splayNode(o),this.root=f,f.setRight(o.getRight()),o.hasRight()&&o.getRight().setParent(f),f.setLeft(o),o.setParent(f),o.setRight(),this.updateWeight(o),this.updateWeight(f),f):(this.root=f,f)}updateWeight(o){o.initWeight(),o.hasLeft()&&o.increaseWeight(o.getLeftWeight()),o.hasRight()&&o.increaseWeight(o.getRightWeight())}updateTreeWeight(o){for(;o;)this.updateWeight(o),o=o.getParent()}splayNode(o){if(o)for(;;)if(this.isLeftChild(o.getParent())&&this.isRightChild(o))this.rotateLeft(o),this.rotateRight(o);else if(this.isRightChild(o.getParent())&&this.isLeftChild(o))this.rotateRight(o),this.rotateLeft(o);else if(this.isLeftChild(o.getParent())&&this.isLeftChild(o))this.rotateRight(o.getParent()),this.rotateRight(o);else if(this.isRightChild(o.getParent())&&this.isRightChild(o))this.rotateLeft(o.getParent()),this.rotateLeft(o);else{this.isLeftChild(o)?this.rotateRight(o):this.isRightChild(o)&&this.rotateLeft(o),this.updateWeight(o);return}}delete(o){this.splayNode(o);const f=new nc(o.getLeft());f.root&&f.root.setParent();const v=new nc(o.getRight());if(v.root&&v.root.setParent(),f.root){const A=f.getRightmost();f.splayNode(A),f.root.setRight(v.root),v.root&&v.root.setParent(f.root),this.root=f.root}else this.root=v.root;o.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(o,f){if(!f){this.splayNode(o),this.cutOffRight(o);return}this.splayNode(o),this.splayNode(f),f.getLeft()!=o&&this.rotateRight(o),this.cutOffRight(o)}cutOffRight(o){const f=[];this.traversePostorder(o.getRight(),f);for(const v of f)v.initWeight();this.updateTreeWeight(o)}toTestString(){const o=[];return this.traverseInorder(this.root,o),o.map(f=>`[${f.getWeight()},${f.getLength()}]${f.getValue()||""}`).join("")}checkWeight(){const o=[];this.traverseInorder(this.root,o);for(const f of o)if(f.getWeight()!=f.getLength()+f.getLeftWeight()+f.getRightWeight())return!1;return!0}getRightmost(){let o=this.root;for(;o.hasRight();)o=o.getRight();return o}traverseInorder(o,f){o&&(this.traverseInorder(o.getLeft(),f),f.push(o),this.traverseInorder(o.getRight(),f))}traversePostorder(o,f){o&&(this.traversePostorder(o.getLeft(),f),this.traversePostorder(o.getRight(),f),f.push(o))}rotateLeft(o){const f=o.getParent();f.hasParent()?f===f.getParent().getLeft()?f.getParent().setLeft(o):f.getParent().setRight(o):this.root=o,o.setParent(f.getParent()),f.setRight(o.getLeft()),f.hasRight()&&f.getRight().setParent(f),o.setLeft(f),o.getLeft().setParent(o),this.updateWeight(f),this.updateWeight(o)}rotateRight(o){const f=o.getParent();f.hasParent()?f===f.getParent().getLeft()?f.getParent().setLeft(o):f.getParent().setRight(o):this.root=o,o.setParent(f.getParent()),f.setLeft(o.getRight()),f.hasLeft()&&f.getLeft().setParent(f),o.setRight(f),o.getRight().setParent(o),this.updateWeight(f),this.updateWeight(o)}isLeftChild(o){return o&&o.hasParent()?o.getParent().getLeft()===o:!1}isRightChild(o){return o&&o.hasParent()?o.getParent().getRight()===o:!1}}var Ai=null;try{Ai=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function $t(h,o,f){this.low=h|0,this.high=o|0,this.unsigned=!!f}$t.prototype.__isLong__,Object.defineProperty($t.prototype,"__isLong__",{value:!0});function wr(h){return(h&&h.__isLong__)===!0}function Bm(h){var o=Math.clz32(h&-h);return h?31-o:o}$t.isLong=wr;var ip={},jm={};function ea(h,o){var f,v,A;return o?(h>>>=0,(A=0<=h&&h<256)&&(v=jm[h],v)?v:(f=Qt(h,0,!0),A&&(jm[h]=f),f)):(h|=0,(A=-128<=h&&h<128)&&(v=ip[h],v)?v:(f=Qt(h,h<0?-1:0,!1),A&&(ip[h]=f),f))}$t.fromInt=ea;function li(h,o){if(isNaN(h))return o?Ao:oo;if(o){if(h<0)return Ao;if(h>=Vm)return $m}else{if(h<=-9223372036854776e3)return Cr;if(h+1>=Ax)return Gm}return h<0?li(-h,o).neg():Qt(h%ta|0,h/ta|0,o)}$t.fromNumber=li;function Qt(h,o,f){return new $t(h,o,f)}$t.fromBits=Qt;var zf=Math.pow;function zm(h,o,f){if(h.length===0)throw Error("empty string");if(typeof o=="number"?(f=o,o=!1):o=!!o,h==="NaN"||h==="Infinity"||h==="+Infinity"||h==="-Infinity")return o?Ao:oo;if(f=f||10,f<2||36<f)throw RangeError("radix");var v;if((v=h.indexOf("-"))>0)throw Error("interior hyphen");if(v===0)return zm(h.substring(1),o,f).neg();for(var A=li(zf(f,8)),_=oo,F=0;F<h.length;F+=8){var V=Math.min(8,h.length-F),Y=parseInt(h.substring(F,F+V),f);if(V<8){var te=li(zf(f,V));_=_.mul(te).add(li(Y))}else _=_.mul(A),_=_.add(li(Y))}return _.unsigned=o,_}$t.fromString=zm;function ui(h,o){return typeof h=="number"?li(h,o):typeof h=="string"?zm(h,o):Qt(h.low,h.high,typeof o=="boolean"?o:h.unsigned)}$t.fromValue=ui;var Um=65536,Sx=1<<24,ta=Um*Um,Vm=ta*ta,Ax=Vm/2,Ex=ea(Sx),oo=ea(0);$t.ZERO=oo;var Ao=ea(0,!0);$t.UZERO=Ao;var Eo=ea(1);$t.ONE=Eo;var op=ea(1,!0);$t.UONE=op;var rc=ea(-1);$t.NEG_ONE=rc;var Gm=Qt(-1,2147483647,!1);$t.MAX_VALUE=Gm;var $m=Qt(-1,-1,!0);$t.MAX_UNSIGNED_VALUE=$m;var Cr=Qt(0,-2147483648,!1);$t.MIN_VALUE=Cr;var Xe=$t.prototype;Xe.toInt=function(){return this.unsigned?this.low>>>0:this.low},Xe.toNumber=function(){return this.unsigned?(this.high>>>0)*ta+(this.low>>>0):this.high*ta+(this.low>>>0)},Xe.toString=function(o){if(o=o||10,o<2||36<o)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Cr)){var f=li(o),v=this.div(f),A=v.mul(f).sub(this);return v.toString(o)+A.toInt().toString(o)}else return"-"+this.neg().toString(o);for(var _=li(zf(o,6),this.unsigned),F=this,V="";;){var Y=F.div(_),te=F.sub(Y.mul(_)).toInt()>>>0,ce=te.toString(o);if(F=Y,F.isZero())return ce+V;for(;ce.length<6;)ce="0"+ce;V=""+ce+V}},Xe.getHighBits=function(){return this.high},Xe.getHighBitsUnsigned=function(){return this.high>>>0},Xe.getLowBits=function(){return this.low},Xe.getLowBitsUnsigned=function(){return this.low>>>0},Xe.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Cr)?64:this.neg().getNumBitsAbs();for(var o=this.high!=0?this.high:this.low,f=31;f>0&&(o&1<<f)==0;f--);return this.high!=0?f+33:f+1},Xe.isSafeInteger=function(){var o=this.high>>21;return o?this.unsigned?!1:o===-1&&!(this.low===0&&this.high===-2097152):!0},Xe.isZero=function(){return this.high===0&&this.low===0},Xe.eqz=Xe.isZero,Xe.isNegative=function(){return!this.unsigned&&this.high<0},Xe.isPositive=function(){return this.unsigned||this.high>=0},Xe.isOdd=function(){return(this.low&1)===1},Xe.isEven=function(){return(this.low&1)===0},Xe.equals=function(o){return wr(o)||(o=ui(o)),this.unsigned!==o.unsigned&&this.high>>>31===1&&o.high>>>31===1?!1:this.high===o.high&&this.low===o.low},Xe.eq=Xe.equals,Xe.notEquals=function(o){return!this.eq(o)},Xe.neq=Xe.notEquals,Xe.ne=Xe.notEquals,Xe.lessThan=function(o){return this.comp(o)<0},Xe.lt=Xe.lessThan,Xe.lessThanOrEqual=function(o){return this.comp(o)<=0},Xe.lte=Xe.lessThanOrEqual,Xe.le=Xe.lessThanOrEqual,Xe.greaterThan=function(o){return this.comp(o)>0},Xe.gt=Xe.greaterThan,Xe.greaterThanOrEqual=function(o){return this.comp(o)>=0},Xe.gte=Xe.greaterThanOrEqual,Xe.ge=Xe.greaterThanOrEqual,Xe.compare=function(o){if(wr(o)||(o=ui(o)),this.eq(o))return 0;var f=this.isNegative(),v=o.isNegative();return f&&!v?-1:!f&&v?1:this.unsigned?o.high>>>0>this.high>>>0||o.high===this.high&&o.low>>>0>this.low>>>0?-1:1:this.sub(o).isNegative()?-1:1},Xe.comp=Xe.compare,Xe.negate=function(){return!this.unsigned&&this.eq(Cr)?Cr:this.not().add(Eo)},Xe.neg=Xe.negate,Xe.add=function(o){wr(o)||(o=ui(o));var f=this.high>>>16,v=this.high&65535,A=this.low>>>16,_=this.low&65535,F=o.high>>>16,V=o.high&65535,Y=o.low>>>16,te=o.low&65535,ce=0,Re=0,Be=0,Te=0;return Te+=_+te,Be+=Te>>>16,Te&=65535,Be+=A+Y,Re+=Be>>>16,Be&=65535,Re+=v+V,ce+=Re>>>16,Re&=65535,ce+=f+F,ce&=65535,Qt(Be<<16|Te,ce<<16|Re,this.unsigned)},Xe.subtract=function(o){return wr(o)||(o=ui(o)),this.add(o.neg())},Xe.sub=Xe.subtract,Xe.multiply=function(o){if(this.isZero())return this;if(wr(o)||(o=ui(o)),Ai){var f=Ai.mul(this.low,this.high,o.low,o.high);return Qt(f,Ai.get_high(),this.unsigned)}if(o.isZero())return this.unsigned?Ao:oo;if(this.eq(Cr))return o.isOdd()?Cr:oo;if(o.eq(Cr))return this.isOdd()?Cr:oo;if(this.isNegative())return o.isNegative()?this.neg().mul(o.neg()):this.neg().mul(o).neg();if(o.isNegative())return this.mul(o.neg()).neg();if(this.lt(Ex)&&o.lt(Ex))return li(this.toNumber()*o.toNumber(),this.unsigned);var v=this.high>>>16,A=this.high&65535,_=this.low>>>16,F=this.low&65535,V=o.high>>>16,Y=o.high&65535,te=o.low>>>16,ce=o.low&65535,Re=0,Be=0,Te=0,Ye=0;return Ye+=F*ce,Te+=Ye>>>16,Ye&=65535,Te+=_*ce,Be+=Te>>>16,Te&=65535,Te+=F*te,Be+=Te>>>16,Te&=65535,Be+=A*ce,Re+=Be>>>16,Be&=65535,Be+=_*te,Re+=Be>>>16,Be&=65535,Be+=F*Y,Re+=Be>>>16,Be&=65535,Re+=v*ce+A*te+_*Y+F*V,Re&=65535,Qt(Te<<16|Ye,Re<<16|Be,this.unsigned)},Xe.mul=Xe.multiply,Xe.divide=function(o){if(wr(o)||(o=ui(o)),o.isZero())throw Error("division by zero");if(Ai){if(!this.unsigned&&this.high===-2147483648&&o.low===-1&&o.high===-1)return this;var f=(this.unsigned?Ai.div_u:Ai.div_s)(this.low,this.high,o.low,o.high);return Qt(f,Ai.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ao:oo;var v,A,_;if(this.unsigned){if(o.unsigned||(o=o.toUnsigned()),o.gt(this))return Ao;if(o.gt(this.shru(1)))return op;_=Ao}else{if(this.eq(Cr)){if(o.eq(Eo)||o.eq(rc))return Cr;if(o.eq(Cr))return Eo;var F=this.shr(1);return v=F.div(o).shl(1),v.eq(oo)?o.isNegative()?Eo:rc:(A=this.sub(o.mul(v)),_=v.add(A.div(o)),_)}else if(o.eq(Cr))return this.unsigned?Ao:oo;if(this.isNegative())return o.isNegative()?this.neg().div(o.neg()):this.neg().div(o).neg();if(o.isNegative())return this.div(o.neg()).neg();_=oo}for(A=this;A.gte(o);){v=Math.max(1,Math.floor(A.toNumber()/o.toNumber()));for(var V=Math.ceil(Math.log(v)/Math.LN2),Y=V<=48?1:zf(2,V-48),te=li(v),ce=te.mul(o);ce.isNegative()||ce.gt(A);)v-=Y,te=li(v,this.unsigned),ce=te.mul(o);te.isZero()&&(te=Eo),_=_.add(te),A=A.sub(ce)}return _},Xe.div=Xe.divide,Xe.modulo=function(o){if(wr(o)||(o=ui(o)),Ai){var f=(this.unsigned?Ai.rem_u:Ai.rem_s)(this.low,this.high,o.low,o.high);return Qt(f,Ai.get_high(),this.unsigned)}return this.sub(this.div(o).mul(o))},Xe.mod=Xe.modulo,Xe.rem=Xe.modulo,Xe.not=function(){return Qt(~this.low,~this.high,this.unsigned)},Xe.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Xe.clz=Xe.countLeadingZeros,Xe.countTrailingZeros=function(){return this.low?Bm(this.low):Bm(this.high)+32},Xe.ctz=Xe.countTrailingZeros,Xe.and=function(o){return wr(o)||(o=ui(o)),Qt(this.low&o.low,this.high&o.high,this.unsigned)},Xe.or=function(o){return wr(o)||(o=ui(o)),Qt(this.low|o.low,this.high|o.high,this.unsigned)},Xe.xor=function(o){return wr(o)||(o=ui(o)),Qt(this.low^o.low,this.high^o.high,this.unsigned)},Xe.shiftLeft=function(o){return wr(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?Qt(this.low<<o,this.high<<o|this.low>>>32-o,this.unsigned):Qt(0,this.low<<o-32,this.unsigned)},Xe.shl=Xe.shiftLeft,Xe.shiftRight=function(o){return wr(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?Qt(this.low>>>o|this.high<<32-o,this.high>>o,this.unsigned):Qt(this.high>>o-32,this.high>=0?0:-1,this.unsigned)},Xe.shr=Xe.shiftRight,Xe.shiftRightUnsigned=function(o){return wr(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?Qt(this.low>>>o|this.high<<32-o,this.high>>>o,this.unsigned):o===32?Qt(this.high,0,this.unsigned):Qt(this.high>>>o-32,0,this.unsigned)},Xe.shru=Xe.shiftRightUnsigned,Xe.shr_u=Xe.shiftRightUnsigned,Xe.rotateLeft=function(o){var f;return wr(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?Qt(this.high,this.low,this.unsigned):o<32?(f=32-o,Qt(this.low<<o|this.high>>>f,this.high<<o|this.low>>>f,this.unsigned)):(o-=32,f=32-o,Qt(this.high<<o|this.low>>>f,this.low<<o|this.high>>>f,this.unsigned))},Xe.rotl=Xe.rotateLeft,Xe.rotateRight=function(o){var f;return wr(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?Qt(this.high,this.low,this.unsigned):o<32?(f=32-o,Qt(this.high<<f|this.low>>>o,this.low<<f|this.high>>>o,this.unsigned)):(o-=32,f=32-o,Qt(this.low<<f|this.high>>>o,this.high<<f|this.low>>>o,this.unsigned))},Xe.rotr=Xe.rotateRight,Xe.toSigned=function(){return this.unsigned?Qt(this.low,this.high,!1):this},Xe.toUnsigned=function(){return this.unsigned?this:Qt(this.low,this.high,!0)},Xe.toBytes=function(o){return o?this.toBytesLE():this.toBytesBE()},Xe.toBytesLE=function(){var o=this.high,f=this.low;return[f&255,f>>>8&255,f>>>16&255,f>>>24,o&255,o>>>8&255,o>>>16&255,o>>>24]},Xe.toBytesBE=function(){var o=this.high,f=this.low;return[o>>>24,o>>>16&255,o>>>8&255,o&255,f>>>24,f>>>16&255,f>>>8&255,f&255]},$t.fromBytes=function(o,f,v){return v?$t.fromBytesLE(o,f):$t.fromBytesBE(o,f)},$t.fromBytesLE=function(o,f){return new $t(o[0]|o[1]<<8|o[2]<<16|o[3]<<24,o[4]|o[5]<<8|o[6]<<16|o[7]<<24,f)},$t.fromBytesBE=function(o,f){return new $t(o[4]<<24|o[5]<<16|o[6]<<8|o[7],o[0]<<24|o[1]<<16|o[2]<<8|o[3],f)},typeof BigInt=="function"&&($t.fromBigInt=function(o,f){var v=Number(BigInt.asIntN(32,o)),A=Number(BigInt.asIntN(32,o>>BigInt(32)));return Qt(v,A,f)},$t.fromValue=function(o,f){return typeof o=="bigint"?$t.fromBigInt(o,f):ui(o,f)},Xe.toBigInt=function(){var o=BigInt(this.low>>>0),f=BigInt(this.unsigned?this.high>>>0:this.high);return f<<BigInt(32)|o});var wn=(h=>(h[h.Null=0]="Null",h[h.Boolean=1]="Boolean",h[h.Integer=2]="Integer",h[h.Long=3]="Long",h[h.Double=4]="Double",h[h.String=5]="String",h[h.Bytes=6]="Bytes",h[h.Date=7]="Date",h))(wn||{});class Vn extends jf{constructor(f,v){super(v);q(this,"valueType");q(this,"value");this.valueType=Vn.getPrimitiveType(f),this.value=f===void 0?null:f}static of(f,v){return new Vn(f,v)}static valueFromBytes(f,v){switch(f){case 0:return null;case 1:return!!v[0];case 2:return v[0]|v[1]<<8|v[2]<<16|v[3]<<24;case 4:{const A=new DataView(v.buffer);return v.forEach(function(_,F){A.setUint8(F,_)}),A.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(v);case 3:return $t.fromBytesLE(Array.from(v));case 6:return v;case 7:return new Date($t.fromBytesLE(Array.from(v),!0).toNumber());default:throw new Ee(ve.ErrUnimplemented,`unimplemented type: ${f}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new Ee(ve.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${io(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const f=Vn.of(this.value,this.getCreatedAt());return f.setMovedAt(this.getMovedAt()),f.setRemovedAt(this.getRemovedAt()),f}getType(){return this.valueType}static getPrimitiveType(f){switch(typeof f){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(f)?2:4;case"string":return 5;case"object":if(f===null)return 0;if(f instanceof $t)return 3;if(f instanceof Uint8Array)return 6;if(f instanceof Date)return 7}}static isSupport(f){return Vn.getPrimitiveType(f)!==void 0}static isInteger(f){return f%1===0}isNumericType(){const f=this.valueType;return f===2||f===3||f===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const f=this.value;return new Uint8Array([f&255,f>>8&255,f>>16&255,f>>24&255])}case 4:{const f=this.value,v=new Uint8Array(8);return new DataView(v.buffer).setFloat64(0,f,!0),v}case 5:return new TextEncoder().encode(this.value);case 3:{const v=this.value.toBytesLE();return Uint8Array.from(v)}case 6:return this.value;case 7:{const f=this.value,v=$t.fromNumber(f.getTime(),!0).toBytesLE();return Uint8Array.from(v)}default:throw new Ee(ve.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class as extends km{constructor(f){super(f);q(this,"prev");q(this,"next");q(this,"movedFrom");this.value=f}static createAfter(f,v){const A=new as(v),_=f.next;return f.next=A,A.prev=f,A.next=_,_&&(_.prev=A),A}remove(f){return this.value.remove(f)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(f){this.movedFrom=f}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class ls{constructor(){q(this,"dummyHead");q(this,"last");q(this,"nodeMapByIndex");q(this,"nodeMapByCreatedAt");const o=Vn.of(0,sl);o.setRemovedAt(sl),this.dummyHead=new as(o),this.last=this.dummyHead,this.nodeMapByIndex=new nc,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new ls}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(o,f){let v=this.nodeMapByCreatedAt.get(o.toIDString());if(!v)throw new Ee(ve.ErrInvalidArgument,`cant find the given node: ${o.toIDString()}`);for(;v.getValue().getMovedAt()&&v.getValue().getMovedAt().after(f)&&v.getMovedFrom();)v=v.getMovedFrom();for(;v.getNext()&&v.getNext().getPositionedAt().after(f);)v=v.getNext();return v}release(o){this.last===o&&(this.last=o.getPrev()),o.release(),this.nodeMapByIndex.delete(o),this.nodeMapByCreatedAt.delete(o.getValue().getCreatedAt().toIDString())}insertAfter(o,f,v=f.getCreatedAt()){const A=this.findNextBeforeExecutedAt(o,v),_=as.createAfter(A,f);return A===this.last&&(this.last=_),this.nodeMapByIndex.insertAfter(A,_),this.nodeMapByCreatedAt.set(_.getCreatedAt().toIDString(),_),_}moveAfter(o,f,v){let A=this.nodeMapByCreatedAt.get(o.toIDString());if(!A)throw new Ee(ve.ErrInvalidArgument,`cant find the given node: ${o.toIDString()}`);let _=this.nodeMapByCreatedAt.get(f.toIDString());if(!_)throw new Ee(ve.ErrInvalidArgument,`cant find the given node: ${f.toIDString()}`);if(A!==_&&v.after(_.getPositionedAt())){const F=_.getPrev();let V=_.getNext();for(this.release(_),_=this.insertAfter(A.getCreatedAt(),_.getValue(),v),_.getValue().setMovedAt(v),_.setMovedFrom(F);V&&V.getPositionedAt().after(v);)A=_,_=V,V=_.getNext(),this.release(_),_=this.insertAfter(A.getCreatedAt(),_.getValue(),v),_.getValue().setMovedAt(v),_.setMovedFrom(F)}}insert(o){this.insertAfter(this.last.getCreatedAt(),o)}getByID(o){return this.nodeMapByCreatedAt.get(o.toIDString())}subPathOf(o){const f=this.nodeMapByCreatedAt.get(o.toIDString());if(f)return String(this.nodeMapByIndex.indexOf(f))}purge(o){const f=this.nodeMapByCreatedAt.get(o.getCreatedAt().toIDString());if(!f)throw new Ee(ve.ErrInvalidArgument,`fail to find the given createdAt: ${o.getCreatedAt().toIDString()}`);this.release(f)}getByIndex(o){return o>=this.length?void 0:this.nodeMapByIndex.findForArray(o)}getPrevCreatedAt(o){let f=this.nodeMapByCreatedAt.get(o.toIDString());do f=f.getPrev();while(this.dummyHead!==f&&f.isRemoved());return f.getValue().getCreatedAt()}delete(o,f){const v=this.nodeMapByCreatedAt.get(o.toIDString()),A=v.isRemoved();return v.remove(f)&&!A&&this.nodeMapByIndex.splayNode(v),v.getValue()}set(o,f,v){const A=this.nodeMapByCreatedAt.get(o.toIDString());if(!A)throw new Ee(ve.ErrInvalidArgument,`cant find the given node: ${o.toIDString()}`);return this.insertAfter(A.getCreatedAt(),f,v),this.delete(o,v)}deleteByIndex(o,f){const v=this.getByIndex(o);if(v)return v.remove(f)&&this.nodeMapByIndex.splayNode(v),v.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const o=[];for(const f of this){const v=`${f.getCreatedAt().toIDString()}:${f.getValue().toJSON()}`;f.isRemoved()?o.push(`{${v}}`):o.push(`[${v}]`)}return o.join("")}*[Symbol.iterator](){let o=this.dummyHead.getNext();for(;o;)yield o,o=o.getNext()}}class cr extends is{constructor(f,v){super(f);q(this,"elements");this.elements=v}static create(f,v){if(!v)return new cr(f,ls.create());const A=ls.create();for(const _ of v)A.insertAfter(A.getLastCreatedAt(),_.deepcopy());return new cr(f,A)}subPathOf(f){return this.elements.subPathOf(f)}purge(f){this.elements.purge(f)}insertAfter(f,v,A){this.elements.insertAfter(f,v,A)}moveAfter(f,v,A){this.elements.moveAfter(f,v,A)}get(f){const v=this.elements.getByIndex(f);return v==null?void 0:v.getValue()}getByID(f){const v=this.elements.getByID(f);return v==null?void 0:v.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(f){return this.elements.getPrevCreatedAt(f)}delete(f,v){return this.elements.delete(f,v)}deleteByIndex(f,v){return this.elements.deleteByIndex(f,v)}set(f,v,A){return this.elements.set(f,v,A)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const f of this.elements)f.isRemoved()||(yield f.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(f){for(const v of this.elements){const A=v.getValue();if(f(A,this))return;A instanceof is&&A.getDescendants(f)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const f=[];for(const v of this)f.push(v.toJSON());return`[${f.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const f={};for(let v=0;v<this.length;v++){const{createdAt:A,value:_,type:F}=this.get(v).toJSForTest();f[v]={key:String(v),createdAt:A,value:_,type:F}}return{createdAt:this.getCreatedAt().toTestString(),value:f,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const f=cr.create(this.getCreatedAt());for(const v of this.elements)f.elements.insertAfter(f.getLastCreatedAt(),v.getValue().deepcopy());return f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}}class ji extends $r{constructor(f,v,A,_){super(f,_);q(this,"prevCreatedAt");q(this,"value");this.prevCreatedAt=v,this.value=A}static create(f,v,A,_){return new ji(f,v,A,_)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof cr))throw new Ee(ve.ErrInvalidArgument,"fail to execute, only array can execute add");const A=v,_=this.value.deepcopy();return A.insertAfter(this.prevCreatedAt,_,this.getExecutedAt()),f.registerElement(_,A),{opInfos:[{type:"add",path:f.createPath(this.getParentCreatedAt()),index:Number(A.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Ei.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(f){this.prevCreatedAt=f}}class Ei extends $r{constructor(f,v,A){super(f,A);q(this,"createdAt");this.createdAt=v}static create(f,v,A){return new Ei(f,v,A)}execute(f,v){var te;const A=f.findByCreatedAt(this.getParentCreatedAt());if(!A)throw new Ee(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(A instanceof is))throw new Ee(ve.ErrInvalidArgument,`only object and array can execute remove: ${A}`);if(v===On.UndoRedo){let ce=A.getByID(this.createdAt);for(;ce;){if(ce.getRemovedAt())return;ce=(te=f.findElementPairByCreatedAt(ce.getCreatedAt()))==null?void 0:te.parent}}const _=A.subPathOf(this.createdAt),F=this.toReverseOperation(A),V=A.delete(this.createdAt,this.getExecutedAt());return f.registerRemovedElement(V),{opInfos:A instanceof cr?[{type:"remove",path:f.createPath(this.getParentCreatedAt()),index:Number(_)}]:[{type:"remove",path:f.createPath(this.getParentCreatedAt()),key:_}],reverseOp:F}}toReverseOperation(f){if(f instanceof cr){const v=f.getByID(this.createdAt);if(v!==void 0){const A=f.getPrevCreatedAt(this.createdAt);return ji.create(this.getParentCreatedAt(),A,v.deepcopy())}}if(f instanceof Er){const v=f.subPathOf(this.createdAt);if(v!==void 0){const A=f.get(v);if(A!==void 0)return na.create(v,A.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(f){this.createdAt=f}}class na extends $r{constructor(f,v,A,_){super(A,_);q(this,"key");q(this,"value");this.key=f,this.value=v}static create(f,v,A,_){return new na(f,v,A,_)}execute(f,v){var te;const A=f.findByCreatedAt(this.getParentCreatedAt());if(!A)throw new Ee(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(A instanceof Er))throw new Ee(ve.ErrInvalidArgument,"fail to execute, only object can execute set");if(v===On.UndoRedo){let ce=A;for(;ce;){if(ce.getRemovedAt())return;ce=(te=f.findElementPairByCreatedAt(ce.getCreatedAt()))==null?void 0:te.parent}}const _=A.get(this.key),F=this.toReverseOperation(_),V=this.value.deepcopy(),Y=A.set(this.key,V,this.getExecutedAt());return v===On.UndoRedo&&f.findByCreatedAt(V.getCreatedAt())&&f.deregisterElement(V),f.registerElement(V,A),Y&&f.registerRemovedElement(Y),{opInfos:[{type:"set",path:f.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:F}}toReverseOperation(f){let v=Ei.create(this.getParentCreatedAt(),this.value.getCreatedAt());return f!==void 0&&!f.isRemoved()&&(v=na.create(this.key,f.deepcopy(),this.getParentCreatedAt())),v}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class zi extends $r{constructor(f,v,A,_){super(f,_);q(this,"prevCreatedAt");q(this,"createdAt");this.prevCreatedAt=v,this.createdAt=A}static create(f,v,A,_){return new zi(f,v,A,_)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof cr))throw new Ee(ve.ErrInvalidArgument,"fail to execute, only array can execute move");const A=v,_=this.toReverseOperation(A),F=Number(A.subPathOf(this.createdAt));A.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const V=Number(A.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:f.createPath(this.getParentCreatedAt()),index:V,previousIndex:F}],reverseOp:_}}toReverseOperation(f){const v=f.getPrevCreatedAt(this.createdAt);return zi.create(this.getParentCreatedAt(),v,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(f){this.prevCreatedAt=f}setCreatedAt(f){this.createdAt=f}}const ic=(h,o)=>h===o?0:h<o?-1:1;class wx{constructor(o,f,v){q(this,"key");q(this,"value");q(this,"left");q(this,"right");q(this,"isRed");this.key=o,this.value=f,this.isRed=v}}class Ui{constructor(o){q(this,"stack");this.stack=[],this.traverseInorder(o)}traverseInorder(o){o&&(this.traverseInorder(o.left),this.stack.push({key:o.key,value:o.value}),this.traverseInorder(o.right))}}class so{constructor(o){q(this,"root");q(this,"comparator");q(this,"counter");this.comparator=typeof o<"u"?o:ic,this.counter=0}put(o,f){return this.root=this.putInternal(o,f,this.root),this.root.isRed=!1,f}get(o){const f=this.getInternal(o,this.root);return f?f.value:void 0}remove(o){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,o),this.root&&(this.root.isRed=!1)}getIterator(){return new Ui(this.root)}values(){const o=[];for(const f of this.getIterator().stack)o.push(f.value);return o}floorEntry(o){let f=this.root,v;for(;f;){const A=this.comparator(o,f.key);if(A===0)return f;A<0?f=f.left:(v=f,f=f.right)}return v}lastEntry(){if(!this.root)return this.root;let o=this.root;for(;o.right;)o=o.right;return o}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(o,f){for(;f;){const v=this.comparator(o,f.key);if(v===0)return f;v<0?f=f.left:v>0&&(f=f.right)}}putInternal(o,f,v){if(!v)return this.counter+=1,new wx(o,f,!0);const A=this.comparator(o,v.key);return A<0?v.left=this.putInternal(o,f,v.left):A>0?v.right=this.putInternal(o,f,v.right):v.value=f,this.isRed(v.right)&&!this.isRed(v.left)&&(v=this.rotateLeft(v)),this.isRed(v.left)&&this.isRed(v.left.left)&&(v=this.rotateRight(v)),this.isRed(v.left)&&this.isRed(v.right)&&this.flipColors(v),v}removeInternal(o,f){if(this.comparator(f,o.key)<0)!this.isRed(o.left)&&!this.isRed(o.left.left)&&(o=this.moveRedLeft(o)),o.left=this.removeInternal(o.left,f);else{if(this.isRed(o.left)&&(o=this.rotateRight(o)),this.comparator(f,o.key)===0&&!o.right){this.counter-=1;return}if(!this.isRed(o.right)&&!this.isRed(o.right.left)&&(o=this.moveRedRight(o)),this.comparator(f,o.key)===0){this.counter-=1;const v=this.min(o.right);o.value=v.value,o.key=v.key,o.right=this.removeMin(o.right)}else o.right=this.removeInternal(o.right,f)}return this.fixUp(o)}min(o){return o.left?this.min(o.left):o}removeMin(o){if(o.left)return!this.isRed(o.left)&&!this.isRed(o.left.left)&&(o=this.moveRedLeft(o)),o.left=this.removeMin(o.left),this.fixUp(o)}fixUp(o){return this.isRed(o.right)&&(o=this.rotateLeft(o)),this.isRed(o.left)&&this.isRed(o.left.left)&&(o=this.rotateRight(o)),this.isRed(o.left)&&this.isRed(o.right)&&this.flipColors(o),o}moveRedLeft(o){return this.flipColors(o),this.isRed(o.right.left)&&(o.right=this.rotateRight(o.right),o=this.rotateLeft(o),this.flipColors(o)),o}moveRedRight(o){return this.flipColors(o),this.isRed(o.left.left)&&(o=this.rotateRight(o),this.flipColors(o)),o}isRed(o){return o&&o.isRed}rotateLeft(o){const f=o.right;return o.right=f.left,f.left=o,f.isRed=f.left.isRed,f.left.isRed=!0,f}rotateRight(o){const f=o.left;return o.left=f.right,f.right=o,f.isRed=f.right.isRed,f.right.isRed=!0,f}flipColors(o){o.isRed=!o.isRed,o.left.isRed=!o.left.isRed,o.right.isRed=!o.right.isRed}}function ra(h){return h?Wm(h.live)+Wm(h.gc):0}function Wm(h){return h.data+h.meta}function Bn(h,...o){for(const f of o)h.data+=f.data,h.meta+=f.meta}function Wr(h,o){h.data-=o.data,h.meta-=o.meta}class Cn{constructor(o,f){q(this,"createdAt");q(this,"offset");this.createdAt=o,this.offset=f}static of(o,f){return new Cn(o,f)}static fromStruct(o){return Cn.of(ai.fromStruct(o.createdAt),o.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(o){return this.createdAt.compare(o.createdAt)===0&&this.offset===o.offset}hasSameCreatedAt(o){return this.createdAt.compare(o.createdAt)===0}split(o){return new Cn(this.createdAt,this.offset+o)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const sp=Cn.of(sl,0);class fr{constructor(o,f){q(this,"id");q(this,"relativeOffset");this.id=o,this.relativeOffset=f}static of(o,f){return new fr(o,f)}static fromStruct(o){const f=Cn.fromStruct(o.id);return fr.of(f,o.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Cn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(o){return this.id.equals(o.id)?this.relativeOffset===o.relativeOffset:!1}}class wo extends km{constructor(f,v,A){super(v);q(this,"id");q(this,"removedAt");q(this,"prev");q(this,"next");q(this,"insPrev");q(this,"insNext");this.id=f,this.removedAt=A}static create(f,v){return new wo(f,v)}static createComparator(){return(f,v)=>{const A=f.getCreatedAt().compare(v.getCreatedAt());return A!==0?A:f.getOffset()>v.getOffset()?1:f.getOffset()<v.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(f){this.prev=f,f&&(f.next=this)}setNext(f){this.next=f,f&&(f.prev=this)}setInsPrev(f){this.insPrev=f,f&&(f.insNext=this)}setInsNext(f){this.insNext=f,f&&(f.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(f){return new wo(this.id.split(f),this.splitValue(f),this.removedAt)}canRemove(f,v,A){return v?!!(!this.removedAt||!A&&(f!=null&&f.after(this.removedAt))):!1}canStyle(f,v){return this.getCreatedAt().getLamport()<=v&&(!this.removedAt||f.after(this.removedAt))}setRemovedAt(f){this.removedAt=f}remove(f){if(!this.removedAt){this.removedAt=f;return}f.after(this.removedAt)&&(this.removedAt=f)}createPosRange(){return[fr.of(this.id,0),fr.of(this.id,this.getLength())]}getDataSize(){const f=this.value.getDataSize();return this.id&&(f.meta+=ro),this.removedAt&&(f.meta+=ro),f}deepcopy(){return new wo(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(f){const v=this.value;return this.value=v.substring(0,f),v.substring(f,v.length)}toIDString(){return this.id.toIDString()}}class al{constructor(){q(this,"head");q(this,"treeByIndex");q(this,"treeByID");this.head=wo.create(sp),this.treeByIndex=new nc,this.treeByID=new so(wo.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new al}edit(o,f,v,A){const _={data:0,meta:0},[F,V,Y]=this.findNodeWithSplit(o[1],f),[te,ce,Re]=this.findNodeWithSplit(o[0],f);Bn(_,V,ce);const Be=this.findBetween(Re,Y),[Te,Ye]=this.deleteNodes(Be,f,A),We=Y?Y.getID():F.getID();let ot=fr.of(We,0);if(v){const Dn=this.posToIndex(te.createPosRange()[1],!0),tn=this.insertAfter(te,wo.create(Cn.of(f,0),v));Bn(_,tn.getDataSize()),Te.length&&Te[Te.length-1].from===Dn?Te[Te.length-1].value=v:Te.push({actor:f.getActorID(),from:Dn,to:Dn,value:v}),ot=fr.of(tn.getID(),tn.getContentLength())}const wt=[],fn=[];for(const[,Dn]of Ye)wt.push({parent:this,child:Dn}),fn.push(Dn.getValue());return[ot,wt,_,Te,fn]}indexToPos(o){const[f,v]=this.treeByIndex.findForText(o),A=f;return fr.of(A.getID(),v)}findIndexesFromRange(o){const[f,v]=o;return[this.posToIndex(f,!1),this.posToIndex(v,!0)]}posToIndex(o,f){const v=o.getAbsoluteID(),A=f?this.findFloorNodePreferToLeft(v):this.findFloorNode(v);if(!A)throw new Ee(ve.ErrInvalidArgument,`the node of the given id should be found: ${v.toTestString()}`);const _=this.treeByIndex.indexOf(A),F=A.isRemoved()?0:v.getOffset()-A.getID().getOffset();return _+F}findNode(o){return this.findFloorNode(o)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const o=[];for(const f of this)f.isRemoved()||o.push(f.getValue());return o.join("")}*[Symbol.iterator](){let o=this.head.getNext();for(;o;)yield o,o=o.getNext()}getHead(){return this.head}deepcopy(){const o=new al;let f=this.head.getNext(),v=o.head,A;for(;f;){if(A=o.insertAfter(v,f.deepcopy()),f.hasInsPrev()){const _=o.findNode(f.getInsPrevID());A.setInsPrev(_)}v=A,f=f.getNext()}return o}normalizePos(o){const f=this.findFloorNode(o.getID());if(!f)throw new Ee(ve.ErrInvalidArgument,`the node of the given id should be found: ${o.getID().toTestString()}`);let v=o.getRelativeOffset(),A=f,_=f.getPrev();for(;_;)v+=_.getLength(),A=_,_=_.getPrev();return fr.of(A.getID(),v)}refinePos(o){let f=this.findFloorNode(o.getID());if(!f)throw new Ee(ve.ErrInvalidArgument,`the node of the given id should be found: ${o.getID().toTestString()}`);let v=o.getRelativeOffset(),A=f.getContentLength();for(;v>A;){v-=A;const _=f.getNext();if(!_)return fr.of(f.getID(),A);f=_,A=f.getLength()}return fr.of(f.getID(),v)}toTestString(){const o=[];let f=this.head;for(;f;)f.isRemoved()?o.push(`{${f.toTestString()}}`):o.push(`[${f.toTestString()}]`),f=f.getNext();return o.join("")}insertAfter(o,f){const v=o.getNext();return f.setPrev(o),v&&v.setPrev(f),this.treeByID.put(f.getID(),f),this.treeByIndex.insertAfter(o,f),f}findNodeWithSplit(o,f){const v=o.getAbsoluteID();let A=this.findFloorNodePreferToLeft(v);const _=v.getOffset()-A.getID().getOffset(),[,F]=this.splitNode(A,_);for(;A.hasNext()&&A.getNext().getCreatedAt().after(f);)A=A.getNext();return[A,F,A.getNext()]}findFloorNodePreferToLeft(o){let f=this.findFloorNode(o);if(!f)throw new Ee(ve.ErrInvalidArgument,`the node of the given id should be found: ${o.toTestString()}`);if(o.getOffset()>0&&f.getID().getOffset()==o.getOffset()){if(!f.hasInsPrev())return f;f=f.getInsPrev()}return f}findFloorNode(o){const f=this.treeByID.floorEntry(o);if(f&&!(!f.key.equals(o)&&!f.key.hasSameCreatedAt(o)))return f.value}findBetween(o,f){const v=[];let A=o;for(;A&&A!==f;)v.push(A),A=A.getNext();return v}splitNode(o,f){const v={data:0,meta:0};if(f>o.getContentLength())throw new Ee(ve.ErrInvalidArgument,"offset should be less than or equal to length");if(f===0)return[o,v];if(f===o.getContentLength())return[o.getNext(),v];const A=o.getDataSize(),_=o.split(f);this.treeByIndex.updateWeight(_),this.insertAfter(o,_);const F=o.getInsNext();return F&&F.setInsPrev(_),_.setInsPrev(o),Bn(v,o.getDataSize(),_.getDataSize()),Wr(v,A),[_,v]}deleteNodes(o,f,v){if(!o.length)return[[],new Map];const A=v===void 0||v.size()===0,_=[],F=[],[V,Y]=this.findEdgesOfCandidates(o);F.push(V);for(const Re of o){let Be=!1;if(A)Be=!0;else{const Ye=v==null?void 0:v.get(Re.getCreatedAt().getActorID());Ye&&Ye>=Re.getCreatedAt().getLamport()&&(Be=!0)}let Te=!1;if(Re.getRemovedAt()){const Ye=v==null?void 0:v.get(Re.getRemovedAt().getActorID());(A||Ye&&Ye>=Re.getRemovedAt().getLamport())&&(Te=!0)}Re.canRemove(f,Be,Te)?_.push(Re):F.push(Re)}F.push(Y);const te=this.makeChanges(F,f),ce=new Map;for(const Re of _)ce.set(Re.getID().toIDString(),Re),Re.remove(f);return this.deleteIndexNodes(F),[te,ce]}findEdgesOfCandidates(o){return[o[0].getPrev(),o[o.length-1].getNext()]}makeChanges(o,f){const v=[];let A,_;for(let F=0;F<o.length-1;F++){const V=o[F],Y=o[F+1];V.getNext()!=Y&&([A]=this.findIndexesFromRange(V.getNext().createPosRange()),Y?[,_]=this.findIndexesFromRange(Y.getPrev().createPosRange()):_=this.treeByIndex.length,A<_&&v.push({actor:f.getActorID(),from:A,to:_}))}return v.reverse()}deleteIndexNodes(o){for(let f=0;f<o.length-1;f++){const v=o[f],A=o[f+1];v.getNext()!=A&&this.treeByIndex.deleteRange(v,A)}}purge(o){this.treeByIndex.delete(o),this.treeByID.remove(o.getID());const f=o.getPrev(),v=o.getNext(),A=o.getInsPrev(),_=o.getInsNext();f&&f.setNext(v),v&&v.setPrev(f),o.setPrev(void 0),o.setNext(void 0),A&&A.setInsNext(_),_&&_.setInsPrev(A),o.setInsPrev(void 0),o.setInsNext(void 0)}}class us{constructor(o,f,v,A){q(this,"key");q(this,"value");q(this,"updatedAt");q(this,"_isRemoved");this.key=o,this.value=f,this.updatedAt=v,this._isRemoved=A}static of(o,f,v,A){return new us(o,f,v,A)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:ro}}}class Hr{constructor(){q(this,"nodeMapByKey");q(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Hr}getNodeMapByKey(){return this.nodeMapByKey}set(o,f,v){const A=this.nodeMapByKey.get(o);if(A&&A.isRemoved()&&v.after(A.getUpdatedAt())&&(this.numberOfRemovedElement-=1),A===void 0||v.after(A.getUpdatedAt())){const _=us.of(o,f,v,!1);return this.nodeMapByKey.set(o,_),A!==void 0&&A.isRemoved()?[A,_]:[void 0,_]}return A.isRemoved()?[A,void 0]:[void 0,void 0]}setInternal(o,f,v,A){const _=us.of(o,f,v,A);this.nodeMapByKey.set(o,_),A&&this.numberOfRemovedElement++}remove(o,f){const v=this.nodeMapByKey.get(o),A=[];if(v===void 0||f.after(v.getUpdatedAt())){if(v===void 0){this.numberOfRemovedElement+=1;const V=us.of(o,"",f,!0);return this.nodeMapByKey.set(o,V),A.push(V),A}const _=v.isRemoved();_||(this.numberOfRemovedElement+=1),_&&A.push(v);const F=us.of(o,v.getValue(),f,!0);return this.nodeMapByKey.set(o,F),A.push(F),A}return A}has(o){if(this.nodeMapByKey.has(o)){const f=this.nodeMapByKey.get(o);return f!==void 0&&!f.isRemoved()}return!1}get(o){if(this.nodeMapByKey.has(o))return this.nodeMapByKey.get(o).getValue()}deepcopy(){const o=new Hr;for(const[,f]of this.nodeMapByKey)o.setInternal(f.getKey(),f.getValue(),f.getUpdatedAt(),f.isRemoved());return o}toJSON(){if(!this.size())return"{}";const o=[];for(const[f,v]of this.nodeMapByKey)v.isRemoved()||o.push(`"${io(f)}":"${io(v.getValue())}"`);return`{${o.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const o={};for(const[f,v]of this.nodeMapByKey)v.isRemoved()||(o[f]=v.getValue());return o}*[Symbol.iterator](){for(const[,o]of this.nodeMapByKey)yield o}purge(o){const f=this.nodeMapByKey.get(o.getKey());f==null||f.toIDString()!=o.toIDString()||(this.nodeMapByKey.delete(o.getKey()),this.numberOfRemovedElement--)}}function ci(h){if(h instanceof Map){const o=Array.from(h);return new Map(JSON.parse(JSON.stringify(o)))}return JSON.parse(JSON.stringify(h))}const Hm=h=>h?Object.entries(h).length===0:!0,ll=h=>{const o={};for(const[f,v]of Object.entries(h))o[f]=JSON.stringify(v);return o},Co=h=>{const o={};for(const[f,v]of Object.entries(h))o[f]=JSON.parse(v);return o};class ia{constructor(o){q(this,"attributes");q(this,"content");this.attributes=Hr.create(),this.content=o}static create(o){return new ia(o)}get length(){return this.content.length}substring(o,f){const v=new ia(this.content.substring(o,f));return v.attributes=this.attributes.deepcopy(),v}setAttr(o,f,v){return this.attributes.set(o,f,v)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const o={data:0,meta:0};o.data+=this.content.length*2;for(const f of this.attributes){const v=f.getDataSize();o.meta+=v.meta,o.data+=v.data}return o}toJSON(){const o=io(this.content),f=this.attributes.toObject(),v=[];for(const[A,_]of Object.entries(f)){const F=JSON.parse(_),V=typeof F=="string"?`"${io(A)}":"${io(F)}"`:`"${io(A)}":${String(F)}`;v.push(V)}return v.sort(),v.length===0?`{"val":"${o}"}`:`{"attrs":{${v.join(",")}},"val":"${o}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(o){this.attributes&&o instanceof us&&this.attributes.purge(o)}getGCPairs(){const o=[];for(const f of this.attributes)f.getRemovedAt()&&o.push({parent:this,child:f});return o}}class Yr extends jf{constructor(f,v){super(v);q(this,"rgaTreeSplit");this.rgaTreeSplit=f}static create(f,v){return new Yr(f,v)}edit(f,v,A,_,F){const V=v?ia.create(v):void 0;if(V&&_)for(const[Ye,We]of Object.entries(_))V.setAttr(Ye,We,A);const[Y,te,ce,Re,Be]=this.rgaTreeSplit.edit(f,A,V,F);return[Re.map(Ye=>({...Ye,value:Ye.value?{attributes:Co(Ye.value.getAttributes()),content:Ye.value.getContent()}:{attributes:void 0,content:""},type:"content"})),te,ce,[Y,Y],Be]}setStyle(f,v,A,_){const F={data:0,meta:0},[,V,Y]=this.rgaTreeSplit.findNodeWithSplit(f[1],A),[,te,ce]=this.rgaTreeSplit.findNodeWithSplit(f[0],A);Bn(F,V,te);const Re=[],Be=this.rgaTreeSplit.findBetween(ce,Y),Te=[];for(const We of Be){const ot=We.getCreatedAt().getActorID();let wt=rp;_!=null&&(wt=_.get(ot)?_.get(ot):0n),We.canStyle(A,wt)&&Te.push(We)}const Ye=[];for(const We of Te){if(We.isRemoved())continue;const[ot,wt]=this.rgaTreeSplit.findIndexesFromRange(We.createPosRange());Re.push({type:"style",actor:A.getActorID(),from:ot,to:wt,value:{attributes:Co(v)}});for(const[fn,Dn]of Object.entries(v)){const[tn]=We.getValue().setAttr(fn,Dn,A);tn!==void 0&&Ye.push({parent:We.getValue(),child:tn});const _r=We.getValue().getAttrs().getNodeMapByKey().get(fn);_r!==void 0&&Bn(F,_r.getDataSize())}}return[Ye,F,Re]}indexRangeToPosRange(f,v){const A=this.rgaTreeSplit.indexToPos(f);return f===v?[A,A]:[A,this.rgaTreeSplit.indexToPos(v)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(f){return this.rgaTreeSplit.refinePos(f)}normalizePos(f){return this.rgaTreeSplit.normalizePos(f)}getDataSize(){const f={data:0,meta:0};for(const v of this.rgaTreeSplit){if(v.isRemoved())continue;const A=v.getDataSize();f.data+=A.data,f.meta+=A.meta}return{data:f.data,meta:f.meta+this.getMetaUsage()}}toJSON(){const f=[];for(const v of this.rgaTreeSplit)v.isRemoved()||f.push(v.getValue().toJSON());return`[${f.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const f=[];for(const v of this.rgaTreeSplit)if(!v.isRemoved()){const A=v.getValue();f.push({attributes:Co(A.getAttributes()),content:A.getContent()})}return f}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const f=new Yr(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}findIndexesFromRange(f){return this.rgaTreeSplit.findIndexesFromRange(f)}posToIndex(f,v=!1){return this.rgaTreeSplit.posToIndex(f,v)}getGCPairs(){const f=[];for(const v of this.rgaTreeSplit){v.getRemovedAt()&&f.push({parent:this.rgaTreeSplit,child:v});for(const A of v.getValue().getGCPairs())f.push(A)}return f}}class Ro extends $r{constructor(f,v,A,_,F,V,Y){super(f,V);q(this,"fromPos");q(this,"toPos");q(this,"content");q(this,"attributes");q(this,"isUndoOp");this.fromPos=v,this.toPos=A,this.content=_,this.attributes=F,this.isUndoOp=Y}static create(f,v,A,_,F,V,Y){return new Ro(f,v,A,_,F,V,Y)}execute(f,v,A){const _=f.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Ee(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Yr))throw new Ee(ve.ErrInvalidArgument,"fail to execute, only Text can execute edit");const F=_;this.isUndoOp&&(this.fromPos=F.refinePos(this.fromPos),this.toPos=F.refinePos(this.toPos));const[V,Y,te,,ce]=F.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),A),Re=this.toReverseOperation(ce,F.normalizePos(this.fromPos));f.acc(te);for(const Be of Y)f.registerGCPair(Be);return{opInfos:V.map(({from:Be,to:Te,value:Ye})=>({type:"edit",from:Be,to:Te,value:Ye,path:f.createPath(this.getParentCreatedAt())})),reverseOp:Re}}toReverseOperation(f,v){var F;const A=f!=null&&f.length?f.map(V=>V.getContent()).join(""):"";let _;if(f.length===1){const V=f[0].getAttributes();V&&(_=Array.from(Object.entries(V)))}return Ro.create(this.getParentCreatedAt(),v,fr.of(v.getID(),v.getRelativeOffset()+(((F=this.content)==null?void 0:F.length)??0)),A,_?new Map(_):new Map,void 0,!0)}normalizePos(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof Yr))throw new Ee(ve.ErrInvalidArgument,"only Text can normalize edit");const A=v,_=A.normalizePos(this.fromPos).getRelativeOffset(),F=A.normalizePos(this.toPos).getRelativeOffset();return[_,F]}reconcileOperation(f,v,A){if(!this.isUndoOp||f>v)return;const _=v-f,F=this.fromPos.getRelativeOffset(),V=this.toPos.getRelativeOffset(),Y=(te,ce)=>{this.fromPos=fr.of(this.fromPos.getID(),Math.max(0,te)),this.toPos=fr.of(this.toPos.getID(),Math.max(0,ce))};if(v<=F){Y(F-_+A,V-_+A);return}if(!(V<=f)){if(f<=F&&V<=v&&f!==v){Y(f,f);return}if(F<=f&&v<=V&&F!==V){Y(F,V-_+A);return}if(f<F&&F<v&&v<V){Y(f,f+(V-v));return}if(F<f&&f<V&&V<v){Y(F,f);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=this.fromPos.toTestString(),A=this.toPos.toTestString(),_=this.content;return`${f}.EDIT(${v},${A},${_})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class oc extends $r{constructor(f,v,A,_,F){super(f,F);q(this,"fromPos");q(this,"toPos");q(this,"attributes");this.fromPos=v,this.toPos=A,this.attributes=_}static create(f,v,A,_,F){return new oc(f,v,A,_,F)}execute(f,v,A){const _=f.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Ee(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Yr))throw new Ee(ve.ErrInvalidArgument,"fail to execute, only Text can execute edit");const F=_,[V,Y,te]=F.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),A);f.acc(Y);for(const ce of V)f.registerGCPair(ce);return{opInfos:te.map(({from:ce,to:Re,value:Be})=>({type:"style",from:ce,to:Re,value:Be,path:f.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=this.fromPos.toTestString(),A=this.toPos.toTestString(),_=this.attributes;return`${f}.STYL(${v},${A},${JSON.stringify(_)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const Cx=2,j1="root",ao="text";function qn(h,o,f=!1){let v=0;const A=f?h.allChildren:h.children;for(let _=0;_<o;_++){const F=A[_];!F||!f&&F.isRemoved||(v+=F.paddedSize(f))}return v}class Rr{constructor(o,f=[]){q(this,"type");q(this,"parent");q(this,"_children");q(this,"visibleSize");q(this,"totalSize");if(this.type=o,this.visibleSize=0,this.totalSize=0,this._children=f,this.isText&&this._children.length>0)throw new Ee(ve.ErrRefused,"Text node cannot have children")}updateAncestorsSize(o,f=!1){let v=this.parent;for(;v;){if(f)v.totalSize+=o;else if(v.visibleSize+=o,v.isRemoved)break;v=v.parent}}updateDescendantsSize(o=!1){let f=0;for(const v of this._children){const A=v.updateDescendantsSize(o);!o&&v.isRemoved||(f+=A)}return o?this.totalSize+=f:this.visibleSize+=f,this.paddedSize(o)}get isText(){return this.type===ao}paddedSize(o=!1){let f=this.visibleSize;return o&&(f=this.totalSize),this.isText||(f+=Cx),f}isAncestorOf(o){return Rx(this,o)}get nextSibling(){const o=this.parent.findOffset(this),f=this.parent.children[o+1];if(f)return f}get prevSibling(){const o=this.parent.findOffset(this),f=this.parent.children[o-1];if(f)return f}splitText(o,f){const v={data:0,meta:0};if(o===0||o===this.visibleSize)return[void 0,v];const A=this.value.slice(0,o),_=this.value.slice(o);if(!_.length)return[void 0,v];const F=this.getDataSize();this.value=A;const V=this.cloneText(o+f);return V.value=_,this.parent.insertAfterInternal(V,this),Bn(v,this.getDataSize(),V.getDataSize()),Wr(v,F),[V,v]}get children(){return this._children.filter(o=>!o.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(o=>o.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(o=>o.value).join(""):""}append(...o){if(this.isText)throw new Ee(ve.ErrRefused,"Text node cannot have children");this._children.push(...o);for(const f of o)f.parent=this,f.updateAncestorsSize(f.paddedSize()),f.updateAncestorsSize(f.paddedSize(!0),!0)}prepend(...o){if(this.isText)throw new Ee(ve.ErrRefused,"Text node cannot have children");this._children.unshift(...o);for(const f of o)f.parent=this}insertBefore(o,f){if(this.isText)throw new Ee(ve.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(f);if(v===-1)throw new Ee(ve.ErrInvalidArgument,"child not found");this.insertAtInternal(o,v),o.updateAncestorsSize(o.paddedSize()),o.updateAncestorsSize(o.paddedSize(!0),!0)}insertAfter(o,f){if(this.isText)throw new Ee(ve.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(f);if(v===-1)throw new Ee(ve.ErrInvalidArgument,"child not found");this.insertAtInternal(o,v+1),o.updateAncestorsSize(o.paddedSize()),o.updateAncestorsSize(o.paddedSize(!0),!0)}insertAt(o,f){if(this.isText)throw new Ee(ve.ErrRefused,"Text node cannot have children");this.insertAtInternal(o,f),o.updateAncestorsSize(o.paddedSize()),o.updateAncestorsSize(o.paddedSize(!0),!0)}removeChild(o){if(this.isText)throw new Ee(ve.ErrRefused,"Text node cannot have children");const f=this._children.indexOf(o);if(f===-1)throw new Ee(ve.ErrInvalidArgument,"child not found");this._children.splice(f,1),o.updateAncestorsSize(-o.paddedSize(!0),!0),o.parent=void 0}splitElement(o,f){const v={data:0,meta:0},A=this.getDataSize(),_=this.cloneElement(f);this.parent.insertAfterInternal(_,this),_.updateAncestorsSize(_.paddedSize()),_.updateAncestorsSize(_.paddedSize(!0),!0);const F=this.children.slice(0,o),V=this.children.slice(o);this._children=F,_._children=V,this.visibleSize=this._children.reduce((Y,te)=>Y+te.paddedSize(),0),this.totalSize=this._children.reduce((Y,te)=>Y+te.paddedSize(!0),0),_.visibleSize=_._children.reduce((Y,te)=>Y+te.paddedSize(!0),0),_.totalSize=_._children.reduce((Y,te)=>Y+te.paddedSize(!0),0);for(const Y of _._children)Y.parent=_;return Bn(v,this.getDataSize(),_.getDataSize()),Wr(v,A),[_,v]}insertAfterInternal(o,f){if(this.isText)throw new Ee(ve.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(f);if(v===-1)throw new Ee(ve.ErrInvalidArgument,"child not found");this.insertAtInternal(o,v+1)}insertAtInternal(o,f){if(this.isText)throw new Ee(ve.ErrRefused,"Text node cannot have children");this._children.splice(f,0,o),o.parent=this}findOffset(o,f=!1){if(this.isText)throw new Ee(ve.ErrRefused,"Text node cannot have children");if(f)return this._children.indexOf(o);if(o.isRemoved){const v=this._children.indexOf(o);return this.allChildren.splice(0,v).filter(_=>!_.isRemoved).length}return this.children.indexOf(o)}findBranchOffset(o){if(this.isText)throw new Ee(ve.ErrRefused,"Text node cannot have children");let f=o;for(;f;){const v=this._children.indexOf(f);if(v!==-1)return v;f=f.parent}return-1}}function Rx(h,o){if(h===o)return!1;for(;o.parent;){if(o.parent===h)return!0;o=o.parent}return!1}var Kn=(h=>(h.Start="Start",h.End="End",h.Text="Text",h))(Kn||{});function Ym(h,o,f,v,A=!1){if(o>f)throw new Ee(ve.ErrInvalidArgument,`from is greater than to: ${o} > ${f}`);const _=A?h.totalSize:h.visibleSize;if(o>_)throw new Ee(ve.ErrInvalidArgument,`from is out of range: ${o} > ${_}`);if(f>_)throw new Ee(ve.ErrInvalidArgument,`to is out of range: ${f} > ${_}`);if(o===f)return;let F=0;const V=A?h._children:h.children;for(const Y of V){if(o-Y.paddedSize(A)<F&&F<f){const te=Y.isText?o-F:o-F-1,ce=Y.isText?f-F:f-F-1,Re=A?Y.totalSize:Y.visibleSize,Be=!Y.isText&&te<0,Te=!Y.isText&&ce>Re;(Y.isText||Be)&&v([Y,Y.isText?"Text":"Start"],Te),Ym(Y,Math.max(0,te),Math.min(ce,Re),v,A),Te&&v([Y,"End"],Te)}F+=Y.paddedSize(A)}}function qm(h,o,f=0){for(const v of h.children)qm(v,o,f+1);o(h,f)}function Uf(h,o,f=0){for(const v of h._children)Uf(v,o,f+1);o(h,f)}function sc(h,o,f=!0){if(o>h.visibleSize)throw new Ee(ve.ErrInvalidArgument,`index is out of range: ${o} > ${h.visibleSize}`);if(h.isText)return{node:h,offset:o};let v=0,A=0;for(const _ of h.children){if(f&&_.isText&&_.visibleSize>=o-A)return sc(_,o-A,f);if(o===A)return{node:h,offset:v};if(!f&&_.paddedSize()===o-A)return{node:h,offset:v+1};if(_.paddedSize()>o-A)return sc(_,o-A-1,f);A+=_.paddedSize(),v+=1}return{node:h,offset:v}}function ap(h){return h.isText||h.children.length===0?h:ap(h.children[0])}function Tx(h,o){if(h.visibleSize<o)throw new Ee(ve.ErrInvalidArgument,"unacceptable path");for(let f=0;f<h.children.length;f++){const v=h.children[f];if(v.visibleSize<o)o-=v.visibleSize;else{h=v;break}}return{node:h,offset:o}}class Nx{constructor(o){q(this,"root");this.root=o}tokensBetween(o,f,v,A=!1){Ym(this.root,o,f,v,A)}traverse(o){qm(this.root,o,0)}traverseAll(o){Uf(this.root,o,0)}findTreePos(o,f=!0){return sc(this.root,o,f)}treePosToPath(o){const f=[];let v=o.node;if(v.isText){const A=v.parent.findOffset(v);if(A===-1)throw new Ee(ve.ErrInvalidArgument,"invalid treePos");const _=qn(v.parent,A);f.push(_+o.offset),v=v.parent}else if(v.hasTextChild()){const A=qn(v,o.offset);f.push(A)}else f.push(o.offset);for(;v.parent;){const A=v.parent.findOffset(v);if(A===-1)throw new Ee(ve.ErrInvalidArgument,"invalid treePos");f.push(A),v=v.parent}return f.reverse()}pathToIndex(o){const f=this.pathToTreePos(o);return this.indexOf(f)}pathToTreePos(o){if(!o.length)throw new Ee(ve.ErrInvalidArgument,"unacceptable path");let f=this.root;for(let v=0;v<o.length-1;v++){const A=o[v];if(f=f.children[A],!f)throw new Ee(ve.ErrInvalidArgument,"unacceptable path")}if(f.hasTextChild())return Tx(f,o[o.length-1]);if(f.children.length<o[o.length-1])throw new Ee(ve.ErrInvalidArgument,"unacceptable path");return{node:f,offset:o[o.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(o){const{node:f,offset:v}=o;if(f.isText){if(f.visibleSize===v){const A=f.nextSibling;return A||f.parent}return f}return f.children.length===v?f:ap(f.children[v])}indexOf(o,f=!1){let{node:v}=o;const{offset:A}=o;let _=0,F=1;if(v.isText){_+=A;const V=v.parent,Y=V.findOffset(v,f);if(Y===-1)throw new Ee(ve.ErrInvalidArgument,"invalid pos");_+=qn(V,Y,f),v=v.parent}else _+=qn(v,A,f);for(;v!=null&&v.parent;){const V=v.parent,Y=V.findOffset(v,f);if(Y===-1)throw new Ee(ve.ErrInvalidArgument,"invalid pos");_+=qn(V,Y,f),F++,v=v.parent}return _+F-1}indexToPath(o){const f=this.findTreePos(o);return this.treePosToPath(f)}}class Vi{constructor(o,f){q(this,"parentID");q(this,"leftSiblingID");this.parentID=o,this.leftSiblingID=f}static of(o,f){return new Vi(o,f)}static fromTreePos(o){const{offset:f}=o;let{node:v}=o,A;return v.isText?(v.parent.children[0]===v&&f===0?A=v.parent:A=v,v=v.parent):f===0?A=v:A=v.children[f-1],Vi.of(v.id,dr.of(A.getCreatedAt(),A.getOffset()+f))}getParentID(){return this.parentID}static fromStruct(o){return Vi.of(dr.of(ai.fromStruct(o.parentID.createdAt),o.parentID.offset),dr.of(ai.fromStruct(o.leftSiblingID.createdAt),o.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(o){const f=this.getParentID(),v=this.getLeftSiblingID(),A=o.findFloorNode(f);let _=o.findFloorNode(v);if(!A||!_)throw new Ee(ve.ErrRefused,`cannot find node of CRDTTreePos(${f.toTestString()}, ${v.toTestString()})`);return!v.equals(f)&&v.getOffset()>0&&v.getOffset()===_.id.getOffset()&&_.insPrevID&&(_=o.findFloorNode(_.insPrevID)),[A,_]}getLeftSiblingID(){return this.leftSiblingID}equals(o){return this.getParentID().getCreatedAt().equals(o.getParentID().getCreatedAt())&&this.getParentID().getOffset()===o.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(o.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===o.getLeftSiblingID().getOffset()}}class dr{constructor(o,f){q(this,"createdAt");q(this,"offset");this.createdAt=o,this.offset=f}static of(o,f){return new dr(o,f)}static fromStruct(o){return dr.of(ai.fromStruct(o.createdAt),o.offset)}static createComparator(){return(o,f)=>{const v=o.getCreatedAt().compare(f.getCreatedAt());return v!==0?v:o.getOffset()>f.getOffset()?1:o.getOffset()<f.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(o){return this.createdAt.compare(o.createdAt)===0&&this.offset===o.offset}getOffset(){return this.offset}setOffset(o){this.offset=o}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class qr extends Rr{constructor(f,v,A,_,F){super(v);q(this,"id");q(this,"removedAt");q(this,"attrs");q(this,"insPrevID");q(this,"insNextID");q(this,"_value","");this.id=f,this.removedAt=F,_&&(this.attrs=_),typeof A=="string"?this.value=A:Array.isArray(A)&&(this._children=A)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(f,v,A,_){return new qr(f,v,A,_)}deepcopy(){var v;const f=new qr(this.id,this.type);return f.removedAt=this.removedAt,f._value=this._value,f.visibleSize=this.visibleSize,f.totalSize=this.totalSize,f.attrs=(v=this.attrs)==null?void 0:v.deepcopy(),f._children=this._children.map(A=>{const _=A.deepcopy();return _.parent=f,_}),f.insPrevID=this.insPrevID,f.insNextID=this.insNextID,f}get value(){if(!this.isText)throw new Ee(ve.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(f){if(!this.isText)throw new Ee(ve.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=f,this.visibleSize=f.length,this.totalSize=f.length}get isRemoved(){return!!this.removedAt}remove(f){return this.removedAt?(f.after(this.removedAt)&&(this.removedAt=f),!1):(this.removedAt=f,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(f){return new qr(dr.of(this.id.getCreatedAt(),f),this.type,void 0,void 0,this.removedAt)}cloneElement(f){return new qr(dr.of(f(),0),this.type,void 0,void 0,this.removedAt)}split(f,v,A){const[_,F]=this.isText?this.splitText(v,this.id.getOffset()):this.splitElement(v,A);if(_){if(_.insPrevID=this.id,this.insNextID){const V=f.findFloorNode(this.insNextID);V.insPrevID=_.id,_.insNextID=this.insNextID}this.insNextID=_.id,f.registerNode(_)}return[_,F]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(f,v,A){return v?!!(!this.removedAt||!A&&(f!=null&&f.after(this.removedAt))):!1}canStyle(f,v){return this.isText?!1:this.getCreatedAt().getLamport()<=v&&(!this.removedAt||f.after(this.removedAt))}setAttrs(f,v){this.attrs||(this.attrs=new Hr);const A=[];for(const[_,F]of Object.entries(f))A.push(this.attrs.set(_,F,v));return A}purge(f){this.attrs&&this.attrs.purge(f)}getDataSize(){const f={data:0,meta:0};if(this.isText&&(f.data+=this.visibleSize*2),this.id&&(f.meta+=ro),this.removedAt&&(f.meta+=ro),this.attrs)for(const v of this.attrs){if(v.getRemovedAt())continue;const A=v.getDataSize();f.meta+=A.meta,f.data+=A.data}return f}getGCPairs(){const f=[];if(!this.attrs)return f;for(const v of this.attrs)v.getRemovedAt()&&f.push({parent:this,child:v});return f}}function Vf(h){var f;if(h.isText){const v=h;return{type:v.type,value:v.value}}const o={type:h.type,children:h.children.map(Vf)};return h.attrs&&(o.attributes=Co((f=h.attrs)==null?void 0:f.toObject())),o}function lp(h){if(h.isText)return h.value;let o="";return h.attrs&&h.attrs.size()&&(o=" "+Array.from(h.attrs).filter(f=>!f.isRemoved()).sort((f,v)=>f.getKey().localeCompare(v.getKey())).map(f=>{const v=JSON.parse(f.getValue());return typeof v=="string"?`${f.getKey()}="${v}"`:`${f.getKey()}="${io(f.getValue())}"`}).join(" ")),`<${h.type}${o}>${h.children.map(f=>lp(f)).join("")}</${h.type}>`}function up(h){if(h.isText){const o=h;return{type:o.type,value:o.value,visibleSize:o.visibleSize,isRemoved:o.isRemoved}}return{type:h.type,children:h.children.map(up),visibleSize:h.visibleSize,isRemoved:h.isRemoved}}class Br extends jf{constructor(f,v){super(v);q(this,"indexTree");q(this,"nodeMapByID");this.indexTree=new Nx(f),this.nodeMapByID=new so(dr.createComparator()),this.indexTree.traverseAll(A=>{this.nodeMapByID.put(A.id,A)})}static create(f,v){return new Br(f,v)}findFloorNode(f){const v=this.nodeMapByID.floorEntry(f);if(!(!v||!v.key.getCreatedAt().equals(f.getCreatedAt())))return v.value}registerNode(f){this.nodeMapByID.put(f.id,f)}findNodesAndSplitText(f,v){let A={data:0,meta:0};const[_,F]=f.toTreeNodePair(this);let V=F;const Y=_===V,te=V.parent&&!Y?V.parent:_;if(V.isText){const[,ce]=V.split(this,f.getLeftSiblingID().getOffset()-V.id.getOffset());A=ce}if(v){const ce=te.allChildren,Re=Y?0:ce.indexOf(V)+1;for(let Be=Re;Be<ce.length;Be++){const Te=ce[Be];if(!Te.id.getCreatedAt().after(v))break;V=Te}}return[[te,V],A]}style(f,v,A,_){const F={data:0,meta:0},[[V,Y],te]=this.findNodesAndSplitText(f[0],A),[[ce,Re],Be]=this.findNodesAndSplitText(f[1],A);Bn(F,Be,te);const Te=[],Ye=v?Co(v):{},We=[];return this.traverseInPosRange(V,Y,ce,Re,([ot,wt])=>{var tn;const fn=ot.getCreatedAt().getActorID();let Dn=rp;if(_!=null&&(Dn=_.get(fn)?_.get(fn):0n),ot.canStyle(A,Dn)&&v){const _r=ot.setAttrs(v,A),dn=_r.reduce((jn,[,Ri])=>(Ri&&(jn[Ri.getKey()]=Ye[Ri.getKey()]),jn),{}),lr=ot.parent,$n=ot.prevSibling||ot.parent;Object.keys(dn).length>0&&Te.push({type:"style",from:this.toIndex(lr,$n),to:this.toIndex(ot,ot),fromPath:this.toPath(lr,$n),toPath:this.toPath(ot,ot),actor:A.getActorID(),value:dn});for(const[jn]of _r)jn&&We.push({parent:ot,child:jn});for(const[jn]of Object.entries(Ye)){const Ri=(tn=ot.attrs)==null?void 0:tn.getNodeMapByKey().get(jn);Ri!==void 0&&wt!==Kn.End&&Bn(F,Ri.getDataSize())}}}),[We,Te,F]}removeStyle(f,v,A,_){const F={data:0,meta:0},[[V,Y],te]=this.findNodesAndSplitText(f[0],A),[[ce,Re],Be]=this.findNodesAndSplitText(f[1],A);Bn(F,Be,te);const Te=[],Ye=[];return this.traverseInPosRange(V,Y,ce,Re,([We])=>{const ot=We.getCreatedAt().getActorID();let wt=rp;if(_!=null&&(wt=_.get(ot)?_.get(ot):0n),We.canStyle(A,wt)&&v){We.attrs||(We.attrs=new Hr);for(const tn of v){const _r=We.attrs.remove(tn,A);for(const dn of _r)Ye.push({parent:We,child:dn})}const fn=We.parent,Dn=We.prevSibling||We.parent;Te.push({actor:A.getActorID(),type:"removeStyle",from:this.toIndex(fn,Dn),to:this.toIndex(We,We),fromPath:this.toPath(fn,Dn),toPath:this.toPath(We,We),value:v})}}),[Ye,Te,F]}edit(f,v,A,_,F,V){const Y={data:0,meta:0},[[te,ce],Re]=this.findNodesAndSplitText(f[0],_),[[Be,Te],Ye]=this.findNodesAndSplitText(f[1],_);Bn(Y,Ye,Re);const We=this.toIndex(te,ce),ot=this.toPath(te,ce),wt=[],fn=[],Dn=[];this.traverseInPosRange(te,ce,Be,Te,([dn,lr],$n)=>{if(lr===Kn.Start&&!$n)for(const Fp of dn.children)Dn.push(Fp);const jn=V===void 0;let Ri=!1;const ab=V==null?void 0:V.get(dn.id.getCreatedAt().getActorID());Ri=jn||ab!==void 0&&ab>=dn.id.getCreatedAt().getLamport();let Ac=!1;if(dn.removedAt){const Fp=V==null?void 0:V.get(dn.removedAt.getActorID());Ac=jn||Fp!==void 0&&Fp>=dn.removedAt.getLamport()}(dn.canDelete(_,Ri,Ac)||wt.includes(dn.parent))&&((lr===Kn.Text||lr===Kn.Start)&&wt.push(dn),fn.push([dn,lr]))},!0);const tn=this.makeDeletionChanges(fn,_),_r=[];for(const dn of wt)dn.remove(_),dn.isRemoved&&_r.push({parent:this,child:dn});for(const dn of Dn)dn.removedAt||te.append(dn);if(A>0){let dn=0,lr=te,$n=ce;for(;dn<A;)lr.split(this,lr.findOffset($n)+1,F),$n=lr,lr=lr.parent,dn++;tn.push({type:"content",from:We,to:We,fromPath:ot,toPath:ot,actor:_.getActorID()})}if(v!=null&&v.length){const dn=[];let lr=ce;for(const $n of v)lr===te?te.insertAt($n,0):te.insertAfter($n,lr),lr=$n,Uf($n,jn=>{te.isRemoved?(jn.remove(_),_r.push({parent:this,child:jn})):Bn(Y,jn.getDataSize()),this.nodeMapByID.put(jn.id,jn)}),$n.isRemoved||dn.push($n);if(dn.length){const $n=dn.map(jn=>Vf(jn));tn.length&&tn[tn.length-1].from===We?tn[tn.length-1].value=$n:tn.push({type:"content",from:We,to:We,fromPath:ot,toPath:ot,actor:_.getActorID(),value:$n})}}return[tn,_r,Y]}editT(f,v,A,_,F){const V=this.findPos(f[0]),Y=this.findPos(f[1]);return this.edit([V,Y],v,A,_,F)}move(f,v,A){throw new Ee(ve.ErrUnimplemented,`not implemented: ${f}, ${v}, ${A}`)}pathToTreePos(f){return this.indexTree.pathToTreePos(f)}purge(f){var _;(_=f.parent)==null||_.removeChild(f),this.nodeMapByID.remove(f.id);const v=f.insPrevID,A=f.insNextID;if(v){const F=this.findFloorNode(v);F.insNextID=A}if(A){const F=this.findFloorNode(A);F.insPrevID=v}f.insPrevID=void 0,f.insNextID=void 0}getGCPairs(){const f=[];return this.indexTree.traverse(v=>{v.getRemovedAt()&&f.push({parent:this,child:v});for(const A of v.getGCPairs())f.push(A)}),f}findPos(f,v=!0){const A=this.indexTree.findTreePos(f,v);return Vi.fromTreePos(A)}pathToPosRange(f){const v=this.pathToIndex(f);return[this.findPos(v),this.findPos(v+1)]}pathToPos(f){const v=this.indexTree.pathToIndex(f);return this.findPos(v)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return lp(this.indexTree.getRoot())}getDataSize(){const f={data:0,meta:0};return this.indexTree.traverse(v=>{if(v.getRemovedAt())return;const A=v.getDataSize();f.data+=A.data,f.meta+=A.meta}),{data:f.data,meta:f.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const f=this.indexTree.getRoot(),v=(A,_=void 0,F=void 0,V=0)=>{var Te,Ye,We,ot;let Y,te,ce;const Re=A.isText?{node:A,offset:0}:_&&F?this.toTreePos(_,F):null;Re&&(Y=this.indexTree.indexOf(Re),te=this.indexTree.treePosToPath(Re),ce=Vi.fromTreePos(Re).toStruct());const Be={type:A.type,parent:_==null?void 0:_.id.toTestString(),size:A.visibleSize,id:A.id.toTestString(),removedAt:(Te=A.removedAt)==null?void 0:Te.toTestString(),insPrev:(Ye=A.insPrevID)==null?void 0:Ye.toTestString(),insNext:(We=A.insNextID)==null?void 0:We.toTestString(),value:A.isText?A.value:void 0,isRemoved:A.isRemoved,children:[],depth:V,attributes:A.attrs?Co((ot=A.attrs)==null?void 0:ot.toObject()):void 0,index:Y,path:te,pos:ce};for(let wt=0;wt<A.allChildren.length;wt++){const fn=wt===0?A:A.allChildren[wt-1];Be.children.push(v(A.allChildren[wt],A,fn,V+1))}return Be};return v(f)}getRootTreeNode(){return Vf(this.indexTree.getRoot())}toTestTreeNode(){return up(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const f=this.getRoot(),v=new Br(f.deepcopy(),this.getCreatedAt());return v.setRemovedAt(this.getRemovedAt()),v.setMovedAt(this.getMovedAt()),v}toPath(f,v){const A=this.toTreePos(f,v);return A?this.indexTree.treePosToPath(A):[]}toIndex(f,v,A=!1){const _=this.toTreePos(f,v,A);return _?this.indexTree.indexOf(_,A):-1}indexToPath(f){return this.indexTree.indexToPath(f)}pathToIndex(f){return this.indexTree.pathToIndex(f)}indexRangeToPosRange(f){const v=this.findPos(f[0]);return f[0]===f[1]?[v,v]:[v,this.findPos(f[1])]}indexRangeToPosStructRange(f){const[v,A]=f,_=this.findPos(v);return v===A?[_.toStruct(),_.toStruct()]:[_.toStruct(),this.findPos(A).toStruct()]}posRangeToPathRange(f){const[[v,A]]=this.findNodesAndSplitText(f[0]),[[_,F]]=this.findNodesAndSplitText(f[1]);return[this.toPath(v,A),this.toPath(_,F)]}posRangeToIndexRange(f){const[[v,A]]=this.findNodesAndSplitText(f[0]),[[_,F]]=this.findNodesAndSplitText(f[1]);return[this.toIndex(v,A),this.toIndex(_,F)]}traverseInPosRange(f,v,A,_,F,V=!1){const Y=this.toIndex(f,v,V),te=this.toIndex(A,_,V);this.indexTree.tokensBetween(Y,te,F,V)}toTreePos(f,v,A=!1){if(!f||!v)return;if(!A&&f.isRemoved){let F;for(;f.isRemoved;)F=f,f=F.parent;const V=f.findOffset(F,A);return{node:f,offset:V}}if(f===v)return{node:f,offset:0};let _=f.findOffset(v,A);if(A||!v.isRemoved){if(v.isText)return{node:v,offset:v.paddedSize(A)};_++}return{node:f,offset:_}}makeDeletionChanges(f,v){const A=[],_=[];let F=null,V=null;for(let Y=0;Y<f.length;Y++){const te=f[Y],ce=f[Y+1];F||(F=te),V=te;const Re=this.findRightToken(te);(!Re||!ce||Re[0]!==ce[0]||Re[1]!==ce[1])&&(_.push([F,V]),F=null,V=null)}for(const Y of _){const[te,ce]=Y,[Re,Be]=this.findLeftToken(te),[Te,Ye]=ce,We=Be===Kn.Start?Re:Re.parent,ot=Ye===Kn.Start?Te:Te.parent,wt=this.toIndex(We,Re),fn=this.toIndex(ot,Te);wt<fn&&(A.length>0&&wt===A[A.length-1].to?(A[A.length-1].to=fn,A[A.length-1].toPath=this.toPath(ot,Te)):A.push({type:"content",from:wt,to:fn,fromPath:this.toPath(We,Re),toPath:this.toPath(ot,Te),actor:v.getActorID()}))}return A.reverse()}findRightToken([f,v]){if(v===Kn.Start){const Y=f.allChildren;return Y.length>0?[Y[0],Y[0].isText?Kn.Text:Kn.Start]:[f,Kn.End]}const A=f.parent,_=A.allChildren,F=_.indexOf(f);if(A&&F===_.length-1)return[A,Kn.End];const V=_[F+1];return[V,V.isText?Kn.Text:Kn.Start]}findLeftToken([f,v]){if(v===Kn.End){const Y=f.allChildren;if(Y.length>0){const te=Y[Y.length-1];return[te,te.isText?Kn.Text:Kn.End]}return[f,Kn.Start]}const A=f.parent,_=A.allChildren,F=_.indexOf(f);if(A&&F===0)return[A,Kn.Start];const V=_[F-1];return[V,V.isText?Kn.Text:Kn.End]}}class ul extends $r{constructor(f,v,A,_,F,V){super(f,V);q(this,"fromPos");q(this,"toPos");q(this,"contents");q(this,"splitLevel");this.fromPos=v,this.toPos=A,this.contents=_,this.splitLevel=F}static create(f,v,A,_,F,V){return new ul(f,v,A,_,F,V)}execute(f,v,A){var Re;const _=f.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Ee(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Br))throw new Ee(ve.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const F=this.getExecutedAt(),V=_,[Y,te,ce]=V.edit([this.fromPos,this.toPos],(Re=this.contents)==null?void 0:Re.map(Be=>Be.deepcopy()),this.splitLevel,F,(()=>{let Be=F.getDelimiter();return this.contents!==void 0&&(Be+=this.contents.length),()=>ai.of(F.getLamport(),++Be,F.getActorID())})(),A);f.acc(ce);for(const Be of te)f.registerGCPair(Be);return{opInfos:Y.map(({from:Be,to:Te,value:Ye,splitLevel:We,fromPath:ot,toPath:wt})=>({type:"tree-edit",path:f.createPath(this.getParentCreatedAt()),from:Be,to:Te,value:Ye,splitLevel:We,fromPath:ot,toPath:wt}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,A=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,_=this.contents||[];return`${f}.EDIT(${v},${A},${_.map(F=>lp(F)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class cl{constructor(o){q(this,"vector");this.vector=o||new Map}set(o,f){this.vector.set(o,f)}unset(o){this.vector.delete(o)}get(o){return this.vector.get(o)}has(o){return this.vector.has(o)}maxLamport(){let o=BigInt(0);for(const[,f]of this)f>o&&(o=f);return o}max(o){const f=new Map;for(const[v,A]of o){const _=this.vector.get(v),F=_&&_>A?_:A;f.set(v,F)}for(const[v,A]of this){const _=o.get(v),F=_&&_>A?_:A;f.set(v,F)}return new cl(f)}afterOrEqual(o){const f=this.vector.get(o.getActorID());return f===void 0?!1:f>=o.getLamport()}deepcopy(){const o=new Map;for(const[f,v]of this.vector)o.set(f,v);return new cl(o)}filter(o){const f=new Map;for(const[v]of o){const A=this.vector.get(v);A!==void 0&&f.set(v,A)}return new cl(f)}size(){return this.vector.size}*[Symbol.iterator](){for(const[o,f]of this.vector)yield[o,f]}}const cp=new cl(new Map);class Gi{constructor(o,f,v,A,_){q(this,"clientSeq");q(this,"serverSeq");q(this,"actor");q(this,"lamport");q(this,"versionVector");this.clientSeq=o,this.serverSeq=_,this.lamport=f,this.versionVector=A,this.actor=v}hasClocks(){return this.versionVector.size()>0&&this.lamport!=np}static of(o,f,v,A,_){return new Gi(o,f,v,A,_)}next(o=!1){if(o)return new Gi(this.clientSeq+1,this.lamport,this.actor,cp,np);const f=this.versionVector.deepcopy();return f.set(this.actor,this.lamport+1n),new Gi(this.clientSeq+1,this.lamport+1n,this.actor,f)}syncClocks(o){if(!o.hasClocks())return this;const f=o.lamport>this.lamport?o.lamport+1n:this.lamport+1n,v=this.versionVector.max(o.versionVector),A=new Gi(this.clientSeq,f,this.actor,v);return A.versionVector.set(this.actor,f),A}setClocks(o,f){const v=o>this.lamport?o+1n:this.lamport+1n,A=this.versionVector.max(f);return A.set(this.actor,v),Gi.of(this.clientSeq,v,this.actor,A)}createTimeTicket(o){return ai.of(this.lamport,o,this.actor)}setActor(o){return new Gi(this.clientSeq,this.lamport,o,this.versionVector,this.serverSeq)}setLamport(o){return new Gi(this.clientSeq,o,this.actor,this.versionVector,this.serverSeq)}setVersionVector(o){return new Gi(this.clientSeq,this.lamport,this.actor,o,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const cs=new Gi(0,0n,tp,cp);class oa{constructor({id:o,operations:f,presenceChange:v,message:A}){q(this,"id");q(this,"operations");q(this,"presenceChange");q(this,"message");this.id=o,this.operations=f||[],this.presenceChange=v,this.message=A}static create({id:o,operations:f,presenceChange:v,message:A}){return new oa({id:o,operations:f,presenceChange:v,message:A})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(o){for(const f of this.operations)f.setActor(o);this.id=this.id.setActor(o)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(o,f,v){const A=[],_=[],F=[];for(const V of this.operations){const Y=V.execute(o,v,this.id.getVersionVector());if(!Y)continue;const{opInfos:te,reverseOp:ce}=Y;A.push(...te),_.push(V),ce&&F.unshift(ce)}return this.presenceChange&&(this.presenceChange.type===no.Put?f.set(this.id.getActorID(),ci(this.presenceChange.presence)):f.delete(this.id.getActorID())),{operations:_,opInfos:A,reverseOps:F}}toTestString(){return`${this.operations.map(o=>o.toTestString()).join(",")}`}toStruct(){return{changeID:xn.bytesToHex(xn.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(o=>xn.bytesToHex(xn.operationToBinary(o))),presenceChange:this.getPresenceChange()}}static fromStruct(o){const{changeID:f,operations:v,presenceChange:A,message:_}=o;return oa.create({id:xn.bytesToChangeID(xn.hexToBytes(f)),operations:v==null?void 0:v.map(F=>xn.bytesToOperation(xn.hexToBytes(F))),presenceChange:A,message:_})}}class fp{constructor(o,f,v,A,_,F){q(this,"documentKey");q(this,"checkpoint");q(this,"isRemoved");q(this,"changes");q(this,"snapshot");q(this,"versionVector");this.documentKey=o,this.checkpoint=f,this.isRemoved=v,this.changes=A,this.snapshot=F,this.versionVector=_}static create(o,f,v,A,_,F){return new fp(o,f,v,A,_,F)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class fl{constructor(o,f){q(this,"serverSeq");q(this,"clientSeq");this.serverSeq=o,this.clientSeq=f}static of(o,f){return new fl(o,f)}increaseClientSeq(o){return o===0?this:new fl(this.serverSeq,this.clientSeq+o)}forward(o){if(this.equals(o))return this;const f=this.serverSeq>o.serverSeq?this.serverSeq:o.serverSeq,v=Math.max(this.clientSeq,o.clientSeq);return fl.of(f,v)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(o){return this.clientSeq===o.clientSeq&&this.serverSeq==o.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const fs=new fl(0n,0),Km=h=>h<0?Math.ceil(h):Math.floor(h);var wi=(h=>(h[h.Int=0]="Int",h[h.Long=1]="Long",h))(wi||{});class yr extends jf{constructor(f,v,A){super(A);q(this,"valueType");q(this,"value");switch(this.valueType=f,f){case 0:typeof v=="number"?v>Math.pow(2,31)-1||v<-Math.pow(2,31)?this.value=$t.fromNumber(v).toInt():this.value=Km(v):this.value=v.toInt();break;case 1:typeof v=="number"?this.value=$t.fromNumber(v):this.value=v;break;default:throw new Ee(ve.ErrUnimplemented,`unimplemented type: ${f}`)}}static create(f,v,A){return new yr(f,v,A)}static valueFromBytes(f,v){switch(f){case 0:return v[0]|v[1]<<8|v[2]<<16|v[3]<<24;case 1:return $t.fromBytesLE(Array.from(v));default:throw new Ee(ve.ErrUnimplemented,`unimplemented type: ${f}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const f=yr.create(this.valueType,this.value,this.getCreatedAt());return f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}getType(){return this.valueType}static getCounterType(f){switch(typeof f){case"object":return f instanceof $t?1:void 0;case"number":return f>Math.pow(2,31)-1||f<-Math.pow(2,31)?1:0;default:return}}static isSupport(f){return!!yr.getCounterType(f)}static isInteger(f){return f%1===0}isNumericType(){const f=this.valueType;return f===0||f===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const f=this.value;return new Uint8Array([f&255,f>>8&255,f>>16&255,f>>24&255])}case 1:{const v=this.value.toBytesLE();return Uint8Array.from(v)}default:throw new Ee(ve.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(f){function v(A){if(!A.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof A.getValue()}`)}return v(this),v(f),this.valueType===1?this.value=this.value.add(f.getValue()):f.getType()===wn.Long?this.value=this.value+f.getValue().toInt():this.value=$t.fromNumber(this.value+Km(f.getValue())).toInt(),this}}class Rn extends $r{constructor(f,v,A){super(f,A);q(this,"value");this.value=v}static create(f,v,A){return new Rn(f,v,A)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof yr))throw new Ee(ve.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const A=v,_=this.value.deepcopy();return A.increase(_),{opInfos:[{type:"increase",path:f.createPath(this.getParentCreatedAt()),value:_.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const f=this.value.deepcopy(),A=f.getType()===wn.Long?f.getValue().multiply(-1):f.getValue()*-1;return Rn.create(this.getParentCreatedAt(),Vn.of(A,f.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class ds extends $r{constructor(f,v,A,_,F,V){super(f,V);q(this,"fromPos");q(this,"toPos");q(this,"attributes");q(this,"attributesToRemove");this.fromPos=v,this.toPos=A,this.attributes=_,this.attributesToRemove=F}static create(f,v,A,_,F){return new ds(f,v,A,_,[],F)}static createTreeRemoveStyleOperation(f,v,A,_,F){return new ds(f,v,A,new Map,_,F)}execute(f,v,A){const _=f.findByCreatedAt(this.getParentCreatedAt());if(!_)throw new Ee(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(_ instanceof Br))throw new Ee(ve.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const F=_;let V,Y,te={data:0,meta:0};if(this.attributes.size){const ce={};[...this.attributes].forEach(([Re,Be])=>ce[Re]=Be),[Y,V,te]=F.style([this.fromPos,this.toPos],ce,this.getExecutedAt(),A)}else{const ce=this.attributesToRemove;[Y,V,te]=F.removeStyle([this.fromPos,this.toPos],ce,this.getExecutedAt(),A)}f.acc(te);for(const ce of Y)f.registerGCPair(ce);return{opInfos:V.map(({from:ce,to:Re,value:Be,fromPath:Te,toPath:Ye})=>({type:"tree-style",from:ce,to:Re,value:this.attributes.size?{attributes:Be}:{attributesToRemove:Be},fromPath:Te,toPath:Ye,path:f.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,A=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${f}.STYLE(${v},${A},${Object.entries(this.attributes||{}).map(([_,F])=>`${_}:"${F}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class hs extends $r{constructor(f,v,A,_){super(f,_);q(this,"createdAt");q(this,"value");this.createdAt=v,this.value=A}static create(f,v,A,_){return new hs(f,v,A,_)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ve.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof cr))throw new Ee(ve.ErrInvalidArgument,"fail to execute, only array can execute set");const A=v.getByID(this.createdAt).deepcopy(),_=this.toReverseOperation(this.value,A),F=this.value.deepcopy();return v.insertAfter(this.createdAt,F,this.getExecutedAt()),v.delete(this.createdAt,this.getExecutedAt()),f.registerElement(F),{opInfos:[{type:"array-set",path:f.createPath(this.getParentCreatedAt())}],reverseOp:_}}toReverseOperation(f,v){return hs.create(this.getParentCreatedAt(),f.getCreatedAt(),v)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(f){this.createdAt=f}}function _x(h){const o={};for(const[f,v]of Object.entries(h))o[f]=JSON.stringify(v);return J(rs,{data:o})}function Gf(h){if(h.type===no.Put)return J(kf,{type:ol.PUT,presence:_x(h.presence)});if(h.type===no.Clear)return J(kf,{type:ol.CLEAR});throw new Ee(ve.ErrUnimplemented,"unimplemented type")}function sa(h){return J(ep,{serverSeq:h.getServerSeq(),clientSeq:h.getClientSeq()})}function dp(h){return J(Zh,{clientSeq:h.getClientSeq(),lamport:h.getLamport(),actorId:ys(h.getActorID()),versionVector:dl(h.getVersionVector())})}function vt(h){if(h)return J(Mm,{lamport:h.getLamport(),delimiter:h.getDelimiter(),actorId:ys(h.getActorID())})}function dl(h){if(!h)return;const o=J(Js);for(const[f,v]of h){const A=r0(ys(f));o.vector[A]=BigInt(v.toString())}return o}function lo(h){switch(h){case wn.Null:return zt.NULL;case wn.Boolean:return zt.BOOLEAN;case wn.Integer:return zt.INTEGER;case wn.Long:return zt.LONG;case wn.Double:return zt.DOUBLE;case wn.String:return zt.STRING;case wn.Bytes:return zt.BYTES;case wn.Date:return zt.DATE;default:throw new Ee(ve.ErrInvalidType,`unsupported type: ${h}`)}}function Xm(h){switch(h){case wi.Int:return zt.INTEGER_CNT;case wi.Long:return zt.LONG_CNT;default:throw new Ee(ve.ErrInvalidType,`unsupported type: ${h}`)}}function ac(h){if(h instanceof Er)return J(ns,{type:zt.JSON_OBJECT,createdAt:vt(h.getCreatedAt()),value:Xr(h)});if(h instanceof cr)return J(ns,{type:zt.JSON_ARRAY,createdAt:vt(h.getCreatedAt()),value:n0(h)});if(h instanceof Yr)return J(ns,{type:zt.TEXT,createdAt:vt(h.getCreatedAt())});if(h instanceof Vn)return J(ns,{type:lo(h.getType()),createdAt:vt(h.getCreatedAt()),value:h.toBytes()});if(h instanceof yr)return J(ns,{type:Xm(h.getType()),createdAt:vt(h.getCreatedAt()),value:h.toBytes()});if(h instanceof Br)return J(ns,{type:zt.TREE,createdAt:vt(h.getCreatedAt()),value:yp(h)});throw new Ee(ve.ErrUnimplemented,"unimplemented element")}function Ix(h){return J(Im,{createdAt:vt(h.getCreatedAt()),offset:h.getOffset()})}function lc(h){return J(Dm,{createdAt:vt(h.getID().getCreatedAt()),offset:h.getID().getOffset(),relativeOffset:h.getRelativeOffset()})}function uc(h){return J(Ff,{parentId:aa(h.getParentID()),leftSiblingId:aa(h.getLeftSiblingID())})}function aa(h){return J(Om,{createdAt:vt(h.getCreatedAt()),offset:h.getOffset()})}function hp(h){const o=J(Qu);if(h instanceof na){const f=h,v=J(vx);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.key=f.getKey(),v.value=ac(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="set",o.body.value=v}else if(h instanceof ji){const f=h,v=J(Cm);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.prevCreatedAt=vt(f.getPrevCreatedAt()),v.value=ac(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="add",o.body.value=v}else if(h instanceof zi){const f=h,v=J(Rm);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.prevCreatedAt=vt(f.getPrevCreatedAt()),v.createdAt=vt(f.getCreatedAt()),v.executedAt=vt(f.getExecutedAt()),o.body.case="move",o.body.value=v}else if(h instanceof Ei){const f=h,v=J(Qs);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.createdAt=vt(f.getCreatedAt()),v.executedAt=vt(f.getExecutedAt()),o.body.case="remove",o.body.value=v}else if(h instanceof Ro){const f=h,v=J(Vt);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=lc(f.getFromPos()),v.to=lc(f.getToPos()),v.content=f.getContent();const A=v.attributes;for(const[_,F]of f.getAttributes())A[_]=F;v.executedAt=vt(f.getExecutedAt()),o.body.case="edit",o.body.value=v}else if(h instanceof oc){const f=h,v=J(En);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=lc(f.getFromPos()),v.to=lc(f.getToPos());const A=v.attributes;for(const[_,F]of f.getAttributes())A[_]=F;v.executedAt=vt(f.getExecutedAt()),o.body.case="style",o.body.value=v}else if(h instanceof Rn){const f=h,v=J(sr);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.value=ac(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="increase",o.body.value=v}else if(h instanceof ul){const f=h,v=J(Jh);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=uc(f.getFromPos()),v.to=uc(f.getToPos()),v.contents=Dx(f.getContents()),v.splitLevel=f.getSplitLevel(),v.executedAt=vt(f.getExecutedAt()),o.body.case="treeEdit",o.body.value=v}else if(h instanceof ds){const f=h,v=J(ec);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=uc(f.getFromPos()),v.to=uc(f.getToPos());const A=f.getAttributesToRemove();if(A.length>0)v.attributesToRemove=A;else{const _=v.attributes;for(const[F,V]of f.getAttributes())_[F]=V}v.executedAt=vt(f.getExecutedAt()),o.body.case="treeStyle",o.body.value=v}else if(h instanceof hs){const f=h,v=J(il);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.createdAt=vt(f.getCreatedAt()),v.value=ac(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="arraySet",o.body.value=v}else throw new Ee(ve.ErrUnimplemented,"unimplemented operation");return o}function ps(h){const o=[];for(const f of h)o.push(hp(f));return o}function tr(h){const o=J(mx,{id:dp(h.getID()),message:h.getMessage()});return h.hasOperations()&&(o.operations=ps(h.getOperations())),h.hasPresenceChange()&&(o.presenceChange=Gf(h.getPresenceChange())),o}function Zm(h){const o=[];for(const f of h)o.push(tr(f));return o}function Ox(h){const o=[];for(const f of h)o.push(J(xx,{key:f.getStrKey(),element:Kr(f.getValue())}));return o}function xr(h){const o=[];for(const f of h)o.push(J(F1,{element:Kr(f.getValue())}));return o}function z1(h){const o=[];for(const f of h){const v=J(_m);v.id=Ix(f.getID()),v.value=f.getValue().getContent(),v.removedAt=vt(f.getRemovedAt());const A=v.attributes,_=f.getValue().getAttrs();for(const F of _){const V=J(Qh);V.value=F.getValue(),V.updatedAt=vt(F.getUpdatedAt()),A[F.getKey()]=V}o.push(v)}return o}function Dx(h){const o=[];if(!h||!h.length)return o;for(const f of h)o.push(J(ar,{content:Mn(f)}));return o}function Mx(h){const o={};for(const f of h)o[f.getKey()]=J(Qh,{value:f.getValue(),updatedAt:vt(f.getUpdatedAt()),isRemoved:f.isRemoved()});return o}function Mn(h){if(!h)return[];const o=[];return Uf(h,(f,v)=>{const A=J(si,{id:aa(f.id),type:f.type,removedAt:vt(f.removedAt),depth:v});f.isText&&(A.value=f.value),f.insPrevID&&(A.insPrevId=aa(f.insPrevID)),f.insNextID&&(A.insNextId=aa(f.insNextID)),f.attrs&&(A.attributes=Mx(f.attrs)),o.push(A)}),o}function fi(h){return J(kr,{body:{case:"jsonObject",value:J(tc,{nodes:Ox(h.getRHT()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function To(h){return J(kr,{body:{case:"jsonArray",value:J(L1,{nodes:xr(h.getElements()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Px(h){return J(kr,{body:{case:"primitive",value:J(er,{type:lo(h.getType()),value:h.toBytes(),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Lx(h){return J(kr,{body:{case:"text",value:J(Tm,{nodes:z1(h.getRGATreeSplit()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function U1(h){return J(kr,{body:{case:"counter",value:J(Nm,{type:Xm(h.getType()),value:h.toBytes(),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function pp(h){return J(kr,{body:{case:"tree",value:J(yx,{nodes:Mn(h.getRoot()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Kr(h){if(h instanceof Er)return fi(h);if(h instanceof cr)return To(h);if(h instanceof Vn)return Px(h);if(h instanceof Yr)return Lx(h);if(h instanceof yr)return U1(h);if(h instanceof Br)return pp(h);throw new Ee(ve.ErrUnimplemented,"unimplemented element")}function uo(h){return J(Lf,{documentKey:h.getDocumentKey(),checkpoint:sa(h.getCheckpoint()),isRemoved:h.getIsRemoved(),changes:Zm(h.getChanges()),snapshot:h.getSnapshot(),versionVector:dl(h.getVersionVector())})}function Fx(h){return{id:h.id,label:h.label,description:h.description,snapshot:h.snapshot,createdAt:h.createdAt?$y(h.createdAt):new Date}}function Tr(h){if(!(h instanceof Kt))return{};const o=h.findDetails(Lm);for(const f of o)return f.metadata;return{}}function hl(h){return Tr(h).code??""}function No(h,o){return h instanceof Kt&&hl(h)===o}function la(h){return Gi.of(h.clientSeq,BigInt(h.lamport),hr(h.actorId),_o(h.versionVector),BigInt(h.serverSeq))}function _o(h){if(!h)return;const o=new cl;return Object.entries(h.vector).forEach(([f,v])=>{const A=co(pc(f));o.set(A,BigInt(v.toString()))}),o}function yt(h){if(h)return ai.of(BigInt(h.lamport),h.delimiter,hr(h.actorId))}function $f(h){const o={};return Object.entries(h.data).forEach(([f,v])=>{o[f]=JSON.parse(v)}),o}function Io(h){const o=h.type;if(o===ol.PUT){const f=$f(h.presence);return{type:no.Put,presence:f}}if(o===ol.CLEAR)return{type:no.Clear};throw new Ee(ve.ErrInvalidType,`unsupported type: ${o}`)}function kx(h){const o=new Map;return Object.entries(h).forEach(([f,v])=>{o.set(f,$f(v))}),o}function pl(h){switch(h){case zt.NULL:return wn.Null;case zt.BOOLEAN:return wn.Boolean;case zt.INTEGER:return wn.Integer;case zt.LONG:return wn.Long;case zt.DOUBLE:return wn.Double;case zt.STRING:return wn.String;case zt.BYTES:return wn.Bytes;case zt.DATE:return wn.Date}throw new Ee(ve.ErrUnimplemented,`unimplemented value type: ${h}`)}function ua(h){switch(h){case zt.INTEGER_CNT:return wi.Int;case zt.LONG_CNT:return wi.Long}throw new Ee(ve.ErrUnimplemented,`unimplemented value type: ${h}`)}function ca(h){switch(h.type){case zt.JSON_OBJECT:return h.value?hc(h.value):Er.create(yt(h.createdAt));case zt.JSON_ARRAY:return h.value?t0(h.value):cr.create(yt(h.createdAt));case zt.TEXT:return Yr.create(al.create(),yt(h.createdAt));case zt.TREE:return vp(h.value);case zt.NULL:case zt.BOOLEAN:case zt.INTEGER:case zt.LONG:case zt.DOUBLE:case zt.STRING:case zt.BYTES:case zt.DATE:return Vn.of(Vn.valueFromBytes(pl(h.type),h.value),yt(h.createdAt));case zt.INTEGER_CNT:case zt.LONG_CNT:return yr.create(ua(h.type),yr.valueFromBytes(ua(h.type),h.value),yt(h.createdAt))}}function gs(h){return fr.of(Cn.of(yt(h.createdAt),h.offset),h.relativeOffset)}function Jm(h){return Cn.of(yt(h.createdAt),h.offset)}function Bx(h){const o=ia.create(h.value);Object.entries(h.attributes).forEach(([v,A])=>{o.setAttr(v,A.value,yt(A.updatedAt))});const f=wo.create(Jm(h.id),o);return f.setRemovedAt(yt(h.removedAt)),f}function Oo(h){return Vi.of(cc(h.parentId),cc(h.leftSiblingId))}function cc(h){return dr.of(yt(h.createdAt),h.offset)}function gp(h){if(!h.length)return;const o=[];return h.forEach(f=>{const v=mp(f.content);o.push(v)}),o}function mp(h){if(h.length===0)return;const o=[];for(const A of h)o.push(G1(A));const f=o[o.length-1],v=new Map;v.set(h[o.length-1].depth,o[o.length-1]);for(let A=o.length-2;A>=0;A--)v.get(h[A].depth-1).prepend(o[A]),v.set(h[A].depth,o[A]);return f.updateDescendantsSize(),f.updateDescendantsSize(!0),Br.create(f,sl).getRoot()}function V1(h){const o=Hr.create();for(const[f,v]of Object.entries(h))o.setInternal(f,v.value,yt(v.updatedAt),v.isRemoved);return o}function G1(h){const o=cc(h.id),f=qr.create(o,h.type),v=Object.entries(h.attributes);return f.isText?f.value=h.value:v.length&&(f.attrs=V1(h.attributes)),h.insPrevId&&(f.insPrevID=cc(h.insPrevId)),h.insNextId&&(f.insNextID=cc(h.insNextId)),f.removedAt=yt(h.removedAt),f}function hn(h){if(h.body.case==="set"){const o=h.body.value;return na.create(o.key,ca(o.value),yt(o.parentCreatedAt),yt(o.executedAt))}else if(h.body.case==="add"){const o=h.body.value;return ji.create(yt(o.parentCreatedAt),yt(o.prevCreatedAt),ca(o.value),yt(o.executedAt))}else if(h.body.case==="move"){const o=h.body.value;return zi.create(yt(o.parentCreatedAt),yt(o.prevCreatedAt),yt(o.createdAt),yt(o.executedAt))}else if(h.body.case==="remove"){const o=h.body.value;return Ei.create(yt(o.parentCreatedAt),yt(o.createdAt),yt(o.executedAt))}else if(h.body.case==="edit"){const o=h.body.value,f=new Map;return Object.entries(o.attributes).forEach(([v,A])=>{f.set(v,A)}),Ro.create(yt(o.parentCreatedAt),gs(o.from),gs(o.to),o.content,f,yt(o.executedAt))}else if(h.body.case==="style"){const o=h.body.value,f=new Map;return Object.entries(o.attributes).forEach(([v,A])=>{f.set(v,A)}),oc.create(yt(o.parentCreatedAt),gs(o.from),gs(o.to),f,yt(o.executedAt))}else if(h.body.case==="increase"){const o=h.body.value;return Rn.create(yt(o.parentCreatedAt),ca(o.value),yt(o.executedAt))}else if(h.body.case==="treeEdit"){const o=h.body.value;return ul.create(yt(o.parentCreatedAt),Oo(o.from),Oo(o.to),gp(o.contents),o.splitLevel,yt(o.executedAt))}else if(h.body.case==="treeStyle"){const o=h.body.value,f=new Map,v=o.attributesToRemove;return(v==null?void 0:v.length)>0?ds.createTreeRemoveStyleOperation(yt(o.parentCreatedAt),Oo(o.from),Oo(o.to),v,yt(o.executedAt)):(Object.entries(o.attributes).forEach(([A,_])=>{f.set(A,_)}),ds.create(yt(o.parentCreatedAt),Oo(o.from),Oo(o.to),f,yt(o.executedAt)))}else if(h.body.case==="arraySet"){const o=h.body.value;return hs.create(yt(o.parentCreatedAt),yt(o.createdAt),ca(o.value),yt(o.executedAt))}else throw new Ee(ve.ErrUnimplemented,"unimplemented operation")}function Pn(h){const o=[];for(const f of h){const v=hn(f);v&&o.push(v)}return o}function Wt(h){const o=[];for(const f of h)o.push(oa.create({id:la(f.id),operations:Pn(f.operations),presenceChange:f.presenceChange?Io(f.presenceChange):void 0,message:f.message}));return o}function en(h){return fl.of(BigInt(h.serverSeq),h.clientSeq)}function yn(h){return fp.create(h.documentKey,en(h.checkpoint),h.isRemoved,Wt(h.changes),_o(h.versionVector),h.snapshot)}function di(h){const o=new ss;for(const v of h.nodes){const A=Do(v.element);o.set(v.key,A,A.getPositionedAt())}const f=new Er(yt(h.createdAt),o);return f.setMovedAt(yt(h.movedAt)),f.setRemovedAt(yt(h.removedAt)),f}function ms(h){const o=new ls;for(const v of h.nodes)o.insert(Do(v.element));const f=new cr(yt(h.createdAt),o);return f.setMovedAt(yt(h.movedAt)),f.setRemovedAt(yt(h.removedAt)),f}function fc(h){const o=Vn.of(Vn.valueFromBytes(pl(h.type),h.value),yt(h.createdAt));return o.setMovedAt(yt(h.movedAt)),o.setRemovedAt(yt(h.removedAt)),o}function Qm(h){const o=new al;let f=o.getHead();for(const A of h.nodes){const _=o.insertAfter(f,Bx(A));A.insPrevId&&_.setInsPrev(o.findNode(Jm(A.insPrevId))),f=_}const v=new Yr(o,yt(h.createdAt));return v.setMovedAt(yt(h.movedAt)),v.setRemovedAt(yt(h.removedAt)),v}function vs(h){const o=yr.create(ua(h.type),yr.valueFromBytes(ua(h.type),h.value),yt(h.createdAt));return o.setMovedAt(yt(h.movedAt)),o.setRemovedAt(yt(h.removedAt)),o}function Gn(h){const o=mp(h.nodes);return Br.create(o,yt(h.createdAt))}function Do(h){if(h.body.case==="jsonObject")return di(h.body.value);if(h.body.case==="jsonArray")return ms(h.body.value);if(h.body.case==="primitive")return fc(h.body.value);if(h.body.case==="text")return Qm(h.body.value);if(h.body.case==="counter")return vs(h.body.value);if(h.body.case==="tree")return Gn(h.body.value);throw new Ee(ve.ErrUnimplemented,"unimplemented element")}function gl(h){return h.map(o=>({path:o.path,type:o.type}))}function e0(h){if(!h)return{root:Er.create(sl),presences:new Map};const o=Li(Pf,h);return{root:Do(o.root),presences:kx(o.presences)}}function $i(h){const o=dl(h);return co(Fi(Js,o))}function dc(h){const o=Mo(h),f=Li(Js,o);return _o(f)}function hc(h){if(!h)throw new Ee(ve.ErrInvalidArgument,"bytes is empty");const o=Li(kr,h);return di(o.body.value)}function Xr(h){return Fi(kr,Kr(h))}function t0(h){if(!h)throw new Ee(ve.ErrInvalidArgument,"bytes is empty");const o=Li(kr,h);return ms(o.body.value)}function n0(h){return Fi(kr,To(h))}function vp(h){if(!h)throw new Ee(ve.ErrInvalidArgument,"bytes is empty");const o=Li(kr,h);return Gn(o.body.value)}function yp(h){return Fi(kr,pp(h))}function co(h){return h?Array.from(h).map(o=>o.toString(16).padStart(2,"0")).join(""):""}function hr(h){return co(h)}function Mo(h){return new Uint8Array(h.match(/.{1,2}/g).map(o=>parseInt(o,16)))}function pc(h){if(typeof window<"u"&&typeof window.atob=="function"){const o=window.atob(h),f=o.length,v=new Uint8Array(f);for(let A=0;A<f;A++)v[A]=o.charCodeAt(A);return v}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const o=globalThis.Buffer;return new Uint8Array(o.from(h,"base64"))}else throw new Error("No base64 decoder available")}function ys(h){return Mo(h)}function r0(h){if(typeof window<"u"&&typeof window.btoa=="function"){let o="";for(let f=0;f<h.byteLength;f++)o+=String.fromCharCode(h[f]);return window.btoa(o)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(h).toString("base64");throw new Error("No base64 encoder available")}}function i0(h){const o=Li(Zh,h);return la(o)}function jx(h){const o=Li(Qu,h);return hn(o)}const xn={fromPresence:$f,toChangePack:uo,fromChangePack:yn,fromChanges:Wt,toTreeNodes:Mn,fromTreeNodes:mp,objectToBytes:Xr,bytesToObject:hc,bytesToSnapshot:e0,bytesToHex:co,hexToBytes:Mo,toHexString:hr,toUint8Array:ys,toOperation:hp,toChangeID:dp,bytesToChangeID:i0,bytesToOperation:jx,versionVectorToHex:$i,hexToVersionVector:dc,fromSchemaRules:gl,toRevisionSummary:Fx,changeIDToBinary:h=>Fi(Zh,dp(h)),operationToBinary:h=>Fi(Qu,hp(h))};var jr=(h=>(h[h.Trivial=0]="Trivial",h[h.Debug=1]="Debug",h[h.Info=2]="Info",h[h.Warn=3]="Warn",h[h.Error=4]="Error",h[h.Fatal=5]="Fatal",h))(jr||{});let pr=3;function zx(h){pr=h}const Je={trivial:(...h)=>{pr>0||typeof console<"u"&&console.log("YORKIE T:",...h)},debug:(...h)=>{pr>1||typeof console<"u"&&console.log("YORKIE D:",...h)},info:(...h)=>{pr>2||typeof console<"u"&&console.log("YORKIE I:",...h)},warn:(...h)=>{pr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...h):console.log("YORKIE W:",...h))},error:(...h)=>{pr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...h):console.log("YORKIE E:",...h))},fatal:(...h)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...h):console.log("YORKIE F:",...h))},isEnabled:h=>pr<=h};function o0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,h=>{const o=Math.random()*16|0;return(h==="x"?o:o&3|8).toString(16)})}const xp=()=>{};class $1{constructor(o){q(this,"finalized",!1);q(this,"observers",[]);q(this,"finalError");try{o(this)}catch(f){this.error(f)}}next(o){this.forEachObserver(f=>{f.next(o)})}error(o){this.forEachObserver(f=>{f.error(o)}),this.close(o)}complete(){this.forEachObserver(o=>{o.complete()}),this.close()}subscribe(o,f,v){let A;if(!o)throw new Ee(ve.ErrInvalidArgument,"missing observer");if(this.finalized)throw new Ee(ve.ErrRefused,"observable is finalized due to previous error");typeof o=="object"?A=o:A={next:o,error:f,complete:v},A.next===void 0&&(A.next=xp),A.error===void 0&&(A.error=xp),A.complete===void 0&&(A.complete=xp);const _=o0(),F=this.unsubscribeOne.bind(this,_);if(this.observers.push({subscriptionID:_,observer:A}),this.finalized)try{this.finalError?A.error(this.finalError):A.complete()}catch(V){Je.warn(V)}return F}unsubscribeOne(o){var f;this.observers=(f=this.observers)==null?void 0:f.filter(v=>v.subscriptionID!==o)}forEachObserver(o){if(!this.finalized)for(let f=0;f<this.observers.length;f++)this.sendOne(f,o)}sendOne(o,f){if(this.observers!==void 0&&this.observers[o]!==void 0)try{f(this.observers[o].observer)}catch(v){Je.error(v)}}close(o){this.finalized||(this.finalized=!0,o!==void 0&&(this.finalError=o),this.observers=void 0)}}function xs(h){const o=new $1(h);return{subscribe:o.subscribe.bind(o),getProxy:()=>o}}class fa{constructor(o,f,v,A){q(this,"prevID");q(this,"nextID");q(this,"delimiter");q(this,"message");q(this,"root");q(this,"operations");q(this,"presenceChange");q(this,"previousPresence");q(this,"reversePresenceKeys");this.prevID=o,this.nextID=o.next(),this.delimiter=Fm,this.root=f,this.operations=[],this.previousPresence=ci(v),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=A}static create(o,f,v,A){return new fa(o,f,v,A)}push(o){this.operations.push(o)}registerElement(o,f){this.root.registerElement(o,f)}registerRemovedElement(o){this.root.registerRemovedElement(o)}registerGCPair(o){this.root.registerGCPair(o)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const o=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return oa.create({id:o,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(o){this.presenceChange=o}setReversePresence(o,f){for(const v of Object.keys(o))f!=null&&f.addToHistory?this.reversePresenceKeys.add(v):this.reversePresenceKeys.delete(v)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const o={};for(const f of this.reversePresenceKeys)o[f]=this.previousPresence[f];return o}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(o){this.root.acc(o)}}function bp(h,o){const f=new Po(h);return new Proxy(o,f.getHandlers())}class Po{constructor(o){q(this,"context");q(this,"handlers");this.context=o,this.handlers={set:(f,v,A)=>(Je.isEnabled(jr.Trivial)&&Je.trivial(`obj[${v}]=${JSON.stringify(A)}`),Po.setInternal(o,f,v,A),!0),get:(f,v)=>(Je.isEnabled(jr.Trivial)&&Je.trivial(`obj[${v}]`),v==="getID"?()=>f.getCreatedAt():v==="toJSON"||v==="toString"?()=>f.toJSON():v==="toJS"?()=>f.toJS():v==="toJSForTest"?()=>f.toJSForTest():ha(o,f.get(v))),ownKeys:f=>f.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(f,v)=>(Je.isEnabled(jr.Trivial)&&Je.trivial(`obj[${v}]`),Po.deleteInternal(o,f,v),!0)}}static setInternal(o,f,v,A){if(v.includes("."))throw new Ee(ve.ErrInvalidObjectKey,"key must not contain the '.'.");const _=o.issueTimeTicket(),F=pa(o,A,_),V=f.set(v,F,_);o.registerElement(F,f),V&&o.registerRemovedElement(V),o.push(na.create(v,F.deepcopy(),f.getCreatedAt(),_))}static buildObjectMembers(o,f){const v={};for(const[A,_]of Object.entries(f)){if(A.includes("."))throw new Ee(ve.ErrInvalidObjectKey,"key must not contain the '.'.");const F=o.issueTimeTicket(),V=pa(o,_,F);v[A]=V}return v}static deleteInternal(o,f,v){const A=o.issueTimeTicket(),_=f.deleteByKey(v,A);_&&(o.push(Ei.create(f.getCreatedAt(),_.getCreatedAt(),A)),o.registerRemovedElement(_))}getHandlers(){return this.handlers}}function Ux(h,o){const f=new on(h,o);return new Proxy(o,f.getHandlers())}function s0(h){return typeof h=="string"||h instanceof String?!isNaN(h):!1}function Vx(h){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(h)}class on{constructor(o,f){q(this,"context");q(this,"handlers");q(this,"array");this.context=o,this.array=f,this.handlers={get:(v,A,_)=>A==="getID"?()=>v.getCreatedAt():A==="getElementByID"?F=>{const V=v.getByID(F);if(!(!V||V.isRemoved()))return Wi(o,V)}:A==="getElementByIndex"?F=>{const V=v.get(F);return Wi(o,V)}:A==="getLast"?()=>Wi(o,v.getLast()):A==="delete"?F=>{const V=on.deleteInternalByIndex(o,v,F);return Wi(o,V)}:A==="deleteByID"?F=>{const V=on.deleteInternalByID(o,v,F);return Wi(o,V)}:A==="insertAfter"?(F,V)=>{const Y=on.insertAfterInternal(o,v,F,V);return Wi(o,Y)}:A==="insertIntegerAfter"?(F,V)=>{const Y=on.insertIntegerAfterInternal(o,v,F,V);return Wi(o,Y)}:A==="insertBefore"?(F,V)=>{const Y=on.insertBeforeInternal(o,v,F,V);return Wi(o,Y)}:A==="setValue"?(F,V)=>{const Y=on.setValueInternal(o,v,F,V);return Wi(o,Y)}:A==="moveBefore"?(F,V)=>{on.moveBeforeInternal(o,v,F,V)}:A==="moveAfter"?(F,V)=>{on.moveAfterInternal(o,v,F,V)}:A==="moveAfterByIndex"?(F,V)=>{on.moveAfterByIndexInternal(o,v,F,V)}:A==="moveFront"?F=>{on.moveFrontInternal(o,v,F)}:A==="moveLast"?F=>{on.moveLastInternal(o,v,F)}:s0(A)?ha(o,v.get(Number(A))):A==="push"?F=>on.pushInternal(o,v,F):A==="splice"?(F,V,...Y)=>on.splice(o,v,F,V,...Y):A==="length"?v.length:typeof A=="symbol"&&A===Symbol.iterator?on.iteratorInternal.bind(this,o,v):A==="includes"?(F,V)=>on.includes(o,v,F,V):A==="indexOf"?(F,V)=>on.indexOf(o,v,F,V):A==="lastIndexOf"?(F,V)=>on.lastIndexOf(o,v,F,V):A==="toJSForTest"?()=>v.toJSForTest():A==="toTestString"?()=>on.toTestString(v):typeof A=="string"&&Vx(A)?(...F)=>{const V=Array.from(v).map(Y=>ha(o,Y));return Array.prototype[A].apply(V,F)}:Reflect.get(v,A,_),set:(v,A,_)=>{if(s0(A)){const F=Number(A);return on.setValueInternal(o,v,F,_),!0}return Reflect.set(v,A,_)},deleteProperty:(v,A)=>(Je.isEnabled(jr.Trivial)&&Je.trivial(`array[${A}]`),on.deleteInternalByIndex(o,v,Number.parseInt(A)),!0)}}static*iteratorInternal(o,f){for(const v of f)yield Wi(o,v)}static buildArrayElements(o,f){const v=[];for(const A of f){const _=o.issueTimeTicket(),F=pa(o,A,_);v.push(F)}return v}static pushInternal(o,f,v){return on.insertAfterInternal(o,f,f.getLastCreatedAt(),v),f.length}static moveBeforeInternal(o,f,v,A){const _=o.issueTimeTicket(),F=f.getPrevCreatedAt(v);f.moveAfter(F,A,_),o.push(zi.create(f.getCreatedAt(),F,A,_))}static moveAfterInternal(o,f,v,A){const _=o.issueTimeTicket();o.push(zi.create(f.getCreatedAt(),v,A,_)),f.moveAfter(v,A,_)}static moveAfterByIndexInternal(o,f,v,A){const _=f.get(v);if(!_)throw new Ee(ve.ErrInvalidArgument,`index out of bounds: ${v}`);const F=f.get(A);if(!F)throw new Ee(ve.ErrInvalidArgument,`index out of bounds: ${A}`);on.moveAfterInternal(o,f,_.getCreatedAt(),F.getCreatedAt())}static moveFrontInternal(o,f,v){const A=o.issueTimeTicket(),_=f.getHead();f.moveAfter(_.getCreatedAt(),v,A),o.push(zi.create(f.getCreatedAt(),_.getCreatedAt(),v,A))}static moveLastInternal(o,f,v){const A=o.issueTimeTicket(),_=f.getLastCreatedAt();f.moveAfter(_,v,A),o.push(zi.create(f.getCreatedAt(),_,v,A))}static insertAfterInternal(o,f,v,A){const _=o.issueTimeTicket(),F=pa(o,A,_);return f.insertAfter(v,F),o.registerElement(F,f),o.push(ji.create(f.getCreatedAt(),v,F.deepcopy(),_)),F}static insertIntegerAfterInternal(o,f,v,A){const _=f.get(v);if(!_)throw new Ee(ve.ErrInvalidArgument,`index out of bounds: ${v}`);return on.insertAfterInternal(o,f,_.getCreatedAt(),A),f}static insertBeforeInternal(o,f,v,A){return on.insertAfterInternal(o,f,f.getPrevCreatedAt(v),A)}static setValueInternal(o,f,v,A){const _=f.get(v);if(!_)throw new Ee(ve.ErrInvalidArgument,`index out of bounds: ${v}`);return on.setByIndexInternal(o,f,_.getCreatedAt(),A),f}static setByIndexInternal(o,f,v,A){const _=o.issueTimeTicket(),F=pa(o,A,_),V=F.deepcopy();return o.push(hs.create(f.getCreatedAt(),v,V,_)),f.set(v,F,_),o.registerElement(F,f),F}static deleteInternalByIndex(o,f,v){const A=o.issueTimeTicket(),_=f.deleteByIndex(v,A);if(_)return o.push(Ei.create(f.getCreatedAt(),_.getCreatedAt(),A)),o.registerRemovedElement(_),_}static deleteInternalByID(o,f,v){const A=o.issueTimeTicket(),_=f.delete(v,A);return o.push(Ei.create(f.getCreatedAt(),_.getCreatedAt(),A)),o.registerRemovedElement(_),_}static splice(o,f,v,A,..._){const F=f.length,V=v>=0?Math.min(v,F):Math.max(F+v,0),Y=A===void 0?F:A<0?V:Math.min(V+A,F),te=[];for(let ce=V;ce<Y;ce++){const Re=on.deleteInternalByIndex(o,f,V);if(Re){const Be=Re.deepcopy();Be.setRemovedAt(),te.push(ha(o,Be))}}if(_){let ce=V===0?f.getHead().getID():f.get(V-1).getID();for(const Re of _)ce=on.insertAfterInternal(o,f,ce,Re).getID()}return te}static includes(o,f,v,A){var V;const _=f.length,F=A===void 0?0:A<0?Math.max(A+_,0):A;if(F>=_)return!1;if(Vn.isSupport(v))return Array.from(f).map(te=>ha(o,te)).includes(v,F);for(let Y=F;Y<_;Y++)if(((V=f.get(Y))==null?void 0:V.getID())===v.getID())return!0;return!1}static indexOf(o,f,v,A){var V;const _=f.length,F=A===void 0?0:A<0?Math.max(A+_,0):A;if(F>=_)return-1;if(Vn.isSupport(v))return Array.from(f).map(te=>ha(o,te)).indexOf(v,F);for(let Y=F;Y<_;Y++)if(((V=f.get(Y))==null?void 0:V.getID())===v.getID())return Y;return-1}static lastIndexOf(o,f,v,A){var V;const _=f.length,F=A===void 0||A>=_?_-1:A<0?A+_:A;if(F<0)return-1;if(Vn.isSupport(v))return Array.from(f).map(te=>ha(o,te)).lastIndexOf(v,F);for(let Y=F;Y>0;Y--)if(((V=f.get(Y))==null?void 0:V.getID())===v.getID())return Y;return-1}static toTestString(o){return o.toTestString()}getHandlers(){return this.handlers}}class Wf{constructor(o,f){q(this,"context");q(this,"text");this.context=o,this.text=f}initialize(o,f){this.context=o,this.text=f}getID(){return this.text.getID()}edit(o,f,v,A){if(!this.context||!this.text)throw new Ee(ve.ErrNotInitialized,"Text is not initialized yet");if(o>f)throw new Ee(ve.ErrInvalidArgument,"from should be less than or equal to to");const _=this.text.indexRangeToPosRange(o,f);Je.isEnabled(jr.Debug)&&Je.debug(`EDIT: f:${o}->${_[0].toTestString()}, t:${f}->${_[1].toTestString()} c:${v}`);const F=A?ll(A):void 0,V=this.context.issueTimeTicket(),[,Y,te,ce]=this.text.edit(_,v,V,F);this.context.acc(te);for(const Re of Y)this.context.registerGCPair(Re);return this.context.push(new Ro(this.text.getCreatedAt(),_[0],_[1],v,F?new Map(Object.entries(F)):new Map,V)),this.text.findIndexesFromRange(ce)}delete(o,f){return this.edit(o,f,"")}empty(){return this.edit(0,this.length,"")}setStyle(o,f,v){if(!this.context||!this.text)throw new Ee(ve.ErrNotInitialized,"Text is not initialized yet");if(o>f)throw new Ee(ve.ErrInvalidArgument,"from should be less than or equal to to");const A=this.text.indexRangeToPosRange(o,f);Je.isEnabled(jr.Debug)&&Je.debug(`STYL: f:${o}->${A[0].toTestString()}, t:${f}->${A[1].toTestString()} a:${JSON.stringify(v)}`);const _=ll(v),F=this.context.issueTimeTicket(),[V,Y]=this.text.setStyle(A,_,F);this.context.acc(Y);for(const te of V)this.context.registerGCPair(te);return this.context.push(new oc(this.text.getCreatedAt(),A[0],A[1],new Map(Object.entries(_)),F)),!0}indexRangeToPosRange(o){if(!this.context||!this.text)throw new Ee(ve.ErrNotInitialized,"Text is not initialized yet");const f=this.text.indexRangeToPosRange(o[0],o[1]);return[f[0].toStruct(),f[1].toStruct()]}posRangeToIndexRange(o){if(!this.context||!this.text)throw new Ee(ve.ErrNotInitialized,"Text is not initialized yet");const f=this.text.findIndexesFromRange([fr.fromStruct(o[0]),fr.fromStruct(o[1])]);return[f[0],f[1]]}toTestString(){if(!this.context||!this.text)throw new Ee(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new Ee(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new Ee(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new Ee(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new Ee(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(o,f){if(!this.context||!this.text)throw new Ee(ve.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(o,f)}}class a0{constructor(o,f){q(this,"valueType");q(this,"value");q(this,"context");q(this,"counter");this.valueType=o,this.value=f}initialize(o,f){this.valueType=f.getValueType(),this.context=o,this.counter=f,this.value=f.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(o){if(!this.context||!this.counter)throw new Ee(ve.ErrNotInitialized,"Counter is not initialized yet");const f=this.context.issueTimeTicket(),v=Vn.of(o,f);if(!v.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof v.getValue()}`);return this.counter.increase(v),this.context.push(Rn.create(this.counter.getCreatedAt(),v,f)),this}toJSForTest(){if(!this.context||!this.counter)throw new Ee(ve.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function l0(h){if(h.isText)return{type:h.type,value:h.value};const o={type:h.type,children:h.children.map(f=>l0(f))};return h.attrs&&(o.attributes=Co(h.attrs.toObject())),o}function W1(h,o){const f={type:h.isText?h.parent.type:h.type,children:h.isText?h.parent.getChildrenText().length===o?[]:[{type:ao,value:h.parent.getChildrenText().slice(o)}]:h.children.slice(o).map(v=>l0(v))};return h.attrs?f.attributes=Co(h.attrs.toObject()):h.isText&&h.parent.attrs&&(f.attributes=Co(h.parent.attrs.toObject())),f}function Gx(h,o){const{node:f}=h,v=[...o].slice(0,-1),A=f.isText?f.parent.getChildrenText().length:f.children.length,_=[...v,A],F=[...v],V=[];F[F.length-1]+=1,o.every((te,ce)=>te===_[ce])||V.push({fromPath:[...o],toPath:_});const Y=W1(f,o[o.length-1]);return Y&&V.push({fromPath:F,toPath:F,content:Y}),V}function $x(h,o){const{node:f,offset:v}=h,A=f.children[v],_=f.children[v-1],{children:F}=A,V=[...o].slice(0,-1),Y=[{fromPath:[...o],toPath:[...V,v+1]}];if(!A.children.length)return Y;const te=[...V,v-1,_.hasTextChild()?_.getChildrenText().length:_.children.length],ce=F.map(Re=>l0(Re));return Y.push({fromPath:te,toPath:te,content:ce}),Y}function da(h,o,f){const{type:v}=h,A=f.issueTimeTicket();if(v===ao){u0(h);const{value:_}=h,F=qr.create(dr.of(A,0),v,_);o.append(F)}else{const{children:_=[]}=h,{attributes:F}=h;let V;if(typeof F=="object"&&!Hm(F)){const te=ll(F);V=new Hr;for(const[ce,Re]of Object.entries(te))V.set(ce,Re,A)}const Y=qr.create(dr.of(A,0),v,void 0,V);o.append(Y);for(const te of _)da(te,Y,f)}}function Sp(h,o){const{type:f}=o,v=h.issueTimeTicket();let A;if(o.type===ao){const{value:_}=o;A=qr.create(dr.of(v,0),f,_)}else if(o){const{children:_=[]}=o,{attributes:F}=o;let V;if(typeof F=="object"&&!Hm(F)){const Y=ll(F);V=new Hr;for(const[te,ce]of Object.entries(Y))V.set(te,ce,v)}A=qr.create(dr.of(h.issueTimeTicket(),0),f,void 0,V);for(const Y of _)da(Y,A,h)}return A}function u0(h){if(!h.value.length)throw new Ee(ve.ErrInvalidArgument,"text node cannot have empty value");return!0}function c0(h){if(!h.length)return!0;if(h[0].type===ao)for(const f of h){const{type:v}=f;if(v!==ao)throw new Ee(ve.ErrInvalidArgument,"element node and text node cannot be passed together");u0(f)}else for(const f of h){const{type:v}=f;if(v===ao)throw new Ee(ve.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Ap{constructor(o){q(this,"initialRoot");q(this,"context");q(this,"tree");this.initialRoot=o}initialize(o,f){this.context=o,this.tree=f}getID(){return this.tree.getID()}buildRoot(o){if(!this.initialRoot)return qr.create(dr.of(o.issueTimeTicket(),0),j1);const f=qr.create(dr.of(o.issueTimeTicket(),0),this.initialRoot.type);for(const v of this.initialRoot.children)da(v,f,o);return f}getSize(){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(o){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");if(!o.length)throw new Ee(ve.ErrInvalidArgument,"path should not be empty");const f=this.tree.pathToTreePos(o),v=Gx(f,o);for(const A of v){const{fromPath:_,toPath:F,content:V}=A,Y=this.tree.pathToPos(_),te=this.tree.pathToPos(F);this.editInternal(Y,te,V?[V]:[],0)}}mergeByPath(o){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");if(!o.length)throw new Ee(ve.ErrInvalidArgument,"path should not be empty");const f=this.tree.pathToTreePos(o);if(f.node.isText)throw new Ee(ve.ErrInvalidArgument,"text node cannot be merged");const v=$x(f,o);for(const A of v){const{fromPath:_,toPath:F,content:V}=A,Y=this.tree.pathToPos(_),te=this.tree.pathToPos(F);this.editInternal(Y,te,V??[],0)}}styleByPath(o,f){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");if(!o.length)throw new Ee(ve.ErrInvalidArgument,"path should not be empty");const[v,A]=this.tree.pathToPosRange(o),_=this.context.issueTimeTicket(),F=f?ll(f):void 0,[V,,Y]=this.tree.style([v,A],F,_);this.context.acc(Y);for(const te of V)this.context.registerGCPair(te);this.context.push(ds.create(this.tree.getCreatedAt(),v,A,F?new Map(Object.entries(F)):new Map,_))}style(o,f,v){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ve.ErrInvalidArgument,"from should be less than or equal to to");const A=this.tree.findPos(o),_=this.tree.findPos(f),F=this.context.issueTimeTicket(),V=v?ll(v):void 0,[Y,,te]=this.tree.style([A,_],V,F);this.context.acc(te);for(const ce of Y)this.context.registerGCPair(ce);this.context.push(ds.create(this.tree.getCreatedAt(),A,_,V?new Map(Object.entries(V)):new Map,F))}removeStyle(o,f,v){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ve.ErrInvalidArgument,"from should be less than or equal to to");const A=this.tree.findPos(o),_=this.tree.findPos(f),F=this.context.issueTimeTicket(),[V,,Y]=this.tree.removeStyle([A,_],v,F);this.context.acc(Y);for(const te of V)this.context.registerGCPair(te);this.context.push(ds.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),A,_,v,F))}editInternal(o,f,v,A=0){var te;if(v.length!==0&&v[0]&&(c0(v),v[0].type!==ao))for(const ce of v){const{children:Re=[]}=ce;c0(Re)}const _=this.context.getLastTimeTicket();let F=new Array;if(((te=v[0])==null?void 0:te.type)===ao){let ce="";for(const Re of v){const{value:Be}=Re;ce+=Be}F.push(qr.create(dr.of(this.context.issueTimeTicket(),0),ao,ce))}else F=v.map(ce=>ce&&Sp(this.context,ce)).filter(ce=>ce);const[,V,Y]=this.tree.edit([o,f],F.length?F.map(ce=>ce==null?void 0:ce.deepcopy()):void 0,A,_,()=>this.context.issueTimeTicket());this.context.acc(Y);for(const ce of V)this.context.registerGCPair(ce);return this.context.push(ul.create(this.tree.getCreatedAt(),o,f,F.length?F:void 0,A,_)),!0}editByPath(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");if(o.length!==f.length)throw new Ee(ve.ErrInvalidArgument,"path length should be equal");if(!o.length||!f.length)throw new Ee(ve.ErrInvalidArgument,"path should not be empty");const _=this.tree.pathToPos(o),F=this.tree.pathToPos(f);return this.editInternal(_,F,v?[v]:[],A)}editBulkByPath(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");if(o.length!==f.length)throw new Ee(ve.ErrInvalidArgument,"path length should be equal");if(!o.length||!f.length)throw new Ee(ve.ErrInvalidArgument,"path should not be empty");const _=this.tree.pathToPos(o),F=this.tree.pathToPos(f);return this.editInternal(_,F,v,A)}edit(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ve.ErrInvalidArgument,"from should be less than or equal to to");const _=this.tree.findPos(o),F=this.tree.findPos(f);return this.editInternal(_,F,v?[v]:[],A)}editBulk(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ve.ErrInvalidArgument,"from should be less than or equal to to");const _=this.tree.findPos(o),F=this.tree.findPos(f);return this.editInternal(_,F,v,A)}toXML(){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(o){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(o)}pathToIndex(o){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(o)}pathRangeToPosRange(o){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");const f=[this.tree.pathToIndex(o[0]),this.tree.pathToIndex(o[1])],v=this.tree.indexRangeToPosRange(f);return[v[0].toStruct(),v[1].toStruct()]}indexRangeToPosRange(o){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(o)}posRangeToIndexRange(o){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");const f=[Vi.fromStruct(o[0]),Vi.fromStruct(o[1])];return this.tree.posRangeToIndexRange(f)}posRangeToPathRange(o){if(!this.context||!this.tree)throw new Ee(ve.ErrNotInitialized,"Tree is not initialized yet");const f=[Vi.fromStruct(o[0]),Vi.fromStruct(o[1])];return this.tree.posRangeToPathRange(f)}}function f0(h,o){return bp(h,o)}function Wi(h,o){if(o){if(o instanceof Vn)return o;if(o instanceof Er)return bp(h,o);if(o instanceof cr)return Ux(h,o);if(o instanceof Yr)return new Wf(h,o);if(o instanceof yr){const f=new a0(wi.Int,0);return f.initialize(h,o),f}else if(o instanceof Br){const f=new Ap;return f.initialize(h,o),f}}else return;throw new TypeError(`Unsupported type of element: ${typeof o}`)}function ha(h,o){const f=Wi(h,o);return f instanceof Vn?f.getValue():f}function pa(h,o,f){let v;if(Vn.isSupport(o))v=Vn.of(o,f);else if(Array.isArray(o))v=cr.create(f,on.buildArrayElements(h,o));else if(typeof o=="object")o instanceof Wf?(v=Yr.create(al.create(),f),o.initialize(h,v)):o instanceof a0?(v=yr.create(o.getValueType(),o.getValue(),f),o.initialize(h,v)):o instanceof Ap?(v=Br.create(o.buildRoot(h),f),o.initialize(h,v)):v=Er.create(f,Po.buildObjectMembers(h,o));else throw new TypeError(`Unsupported type of value: ${typeof o}`);return v}class gc{constructor(o){q(this,"rootObject");q(this,"elementPairMapByCreatedAt");q(this,"gcElementSetByCreatedAt");q(this,"gcPairMap");q(this,"docSize");this.rootObject=o,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(o,void 0),o.getDescendants(f=>{if(f.getRemovedAt()&&this.registerRemovedElement(f),f instanceof Yr||f instanceof Br)for(const v of f.getGCPairs())this.registerGCPair(v);return!1})}static create(){return new gc(Er.create(sl))}findByCreatedAt(o){const f=this.elementPairMapByCreatedAt.get(o.toIDString());if(f)return f.element}findElementPairByCreatedAt(o){return this.elementPairMapByCreatedAt.get(o.toIDString())}createSubPaths(o){let f=this.elementPairMapByCreatedAt.get(o.toIDString());if(!f)return[];const v=[];for(;f.parent;){const A=f.element.getCreatedAt(),_=f.parent.subPathOf(A);if(_===void 0)throw new Ee(ve.ErrInvalidArgument,`cant find the given element: ${A.toIDString()}`);v.unshift(_),f=this.elementPairMapByCreatedAt.get(f.parent.getCreatedAt().toIDString())}return v.unshift("$"),v}createPath(o){return this.createSubPaths(o).join(".")}registerElement(o,f){this.elementPairMapByCreatedAt.set(o.getCreatedAt().toIDString(),{parent:f,element:o}),Bn(this.docSize.live,o.getDataSize()),o instanceof is&&o.getDescendants((v,A)=>(this.elementPairMapByCreatedAt.set(v.getCreatedAt().toIDString(),{parent:A,element:v}),Bn(this.docSize.live,v.getDataSize()),!1))}deregisterElement(o){let f=0;const v=A=>{const _=A.getCreatedAt().toIDString();Wr(this.docSize.gc,A.getDataSize()),this.elementPairMapByCreatedAt.delete(_),this.gcElementSetByCreatedAt.delete(_),f++};return v(o),o instanceof is&&o.getDescendants(A=>(v(A),!1)),f}registerRemovedElement(o){Bn(this.docSize.gc,o.getDataSize()),Wr(this.docSize.live,o.getDataSize()),this.docSize.live.meta+=ro,this.gcElementSetByCreatedAt.add(o.getCreatedAt().toIDString())}registerGCPair(o){if(this.gcPairMap.get(o.child.toIDString())){this.gcPairMap.delete(o.child.toIDString());return}this.gcPairMap.set(o.child.toIDString(),o);const v=this.gcPairMap.get(o.child.toIDString()).child.getDataSize();Bn(this.docSize.gc,v),Wr(this.docSize.live,v),o.child instanceof us||(this.docSize.live.meta+=ro)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const o=new Set;for(const f of this.gcElementSetByCreatedAt){o.add(f);const v=this.elementPairMapByCreatedAt.get(f);v.element instanceof is&&v.element.getDescendants(A=>(o.add(A.getCreatedAt().toIDString()),!1))}return o.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new gc(this.rootObject.deepcopy())}garbageCollect(o){let f=0;for(const v of this.gcElementSetByCreatedAt){const A=this.elementPairMapByCreatedAt.get(v),_=A.element.getRemovedAt();_&&(o!=null&&o.afterOrEqual(_))&&(A.parent.purge(A.element),f+=this.deregisterElement(A.element))}for(const[,v]of this.gcPairMap){const A=v.child.getRemovedAt();A&&(o!=null&&o.afterOrEqual(A))&&(v.parent.purge(v.child),Wr(this.docSize.gc,v.child.getDataSize()),this.gcPairMap.delete(v.child.toIDString()),f+=1)}return f}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(o){Bn(this.docSize.live,o)}*getGCElementPairs(){for(const o of this.gcElementSetByCreatedAt){const f=this.elementPairMapByCreatedAt.get(o);f&&(yield f)}}}let d0=class{constructor(o,f){q(this,"context");q(this,"presence");this.context=o,this.presence=f}set(o,f){for(const v of Object.keys(o))this.presence[v]=o[v];this.context.setPresenceChange({type:no.Put,presence:ci(this.presence)}),this.context.setReversePresence(o,f)}get(o){return this.presence[o]}clear(){this.presence={},this.context.setPresenceChange({type:no.Clear})}};const Tn=50;class h0{constructor(){q(this,"undoStack",[]);q(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(o){this.undoStack.length>=Tn&&this.undoStack.shift(),this.undoStack.push(o)}popUndo(){return this.undoStack.pop()}pushRedo(o){this.redoStack.length>=Tn&&this.redoStack.shift(),this.redoStack.push(o)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(o,f){const v=A=>{for(const _ of A)for(const F of _)(F instanceof hs||F instanceof Ei||F instanceof zi)&&F.getCreatedAt()===o&&F.setCreatedAt(f),(F instanceof ji||F instanceof zi)&&F.getPrevCreatedAt()===o&&F.setPrevCreatedAt(f)};v(this.undoStack),v(this.redoStack)}reconcileTextEdit(o,f,v,A){const _=F=>{for(const V of F)for(const Y of V)Y instanceof Ro&&Y.getParentCreatedAt().compare(o)===0&&Y.reconcileOperation(f,v,A)};_(this.undoStack),_(this.redoStack)}}function H1(h,o){const f=[];for(const v of o){const A=Wx(h,v.path),_=Y1(A,v);if(!_.valid)for(const F of _.errors||[])f.push(F)}return{valid:f.length===0,errors:f}}function Wx(h,o){if(!o.startsWith("$"))throw new Error(`Path must start with $, got ${o}`);const f=o.split(".");let v=h;for(let A=1;A<f.length;A++){const _=f[A];if(!(v instanceof Er))return;v=v.get(_)}return v}function Y1(h,o){switch(o.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return K1(h,o);case"object":if(!(h instanceof Er))return{valid:!1,errors:[{path:o.path,message:`expected object at path ${o.path}`}]};break;case"array":if(!(h instanceof cr))return{valid:!1,errors:[{path:o.path,message:`expected array at path ${o.path}`}]};break;case"yorkie.Text":if(!(h instanceof Yr))return{valid:!1,errors:[{path:o.path,message:`expected yorkie.Text at path ${o.path}`}]};break;case"yorkie.Tree":if(!(h instanceof Br))return{valid:!1,errors:[{path:o.path,message:`expected yorkie.Tree at path ${o.path}`}]};break;case"yorkie.Counter":if(!(h instanceof yr))return{valid:!1,errors:[{path:o.path,message:`expected yorkie.Counter at path ${o.path}`}]};break;default:throw new Error(`Unknown rule type: ${o.type}`)}return{valid:!0}}function q1(h){switch(h){case"null":return wn.Null;case"boolean":return wn.Boolean;case"integer":return wn.Integer;case"long":return wn.Long;case"double":return wn.Double;case"string":return wn.String;case"bytes":return wn.Bytes;case"date":return wn.Date;default:throw new Error(`Unknown primitive type: ${h}`)}}function K1(h,o){return h instanceof Vn&&h.getType()===q1(o.type)?{valid:!0}:{valid:!1,errors:[{path:o.path,message:`expected ${o.type} at path ${o.path}`}]}}const Ep="yorkie-devtools-panel",mc="yorkie-devtools-sdk";function p0(h){return[gr.StatusChanged,gr.Snapshot,gr.LocalChange,gr.RemoteChange,gr.Initialized,gr.Watched,gr.Unwatched,gr.PresenceChanged].includes(h.type)}function wp(h){return h.every(p0)}let ga="disconnected";const ma=new Map,Ci=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Ci);function va(h,o){(o!=null&&o.force||ga!=="disconnected")&&window.postMessage({source:mc,...h},"*")}function X1(h){if(!h.isEnableDevtools()||typeof window>"u"||ma.has(h.getKey()))return;Ci.set(h.getKey(),[]);const o=h.subscribe("all",f=>{wp(f)&&(Ci.get(h.getKey()).push(f),ga==="synced"&&va({msg:"doc::sync::partial",docKey:h.getKey(),event:f}))});ma.set(h.getKey(),[o]),va({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",f=>{var A;if(((A=f.data)==null?void 0:A.source)!==Ep)return;switch(f.data.msg){case"devtools::connect":if(ga!=="disconnected")break;ga="connected",va({msg:"doc::available",docKey:h.getKey()}),Je.info(`[YD] Devtools connected. Doc: ${h.getKey()}`);break;case"devtools::disconnect":ga="disconnected",Je.info(`[YD] Devtools disconnected. Doc: ${h.getKey()}`);break;case"devtools::subscribe":ga="synced",va({msg:"doc::sync::full",docKey:h.getKey(),events:Ci.get(h.getKey())}),Je.info(`[YD] Devtools subscribed. Doc: ${h.getKey()}`);break}})}var bs=(h=>(h.Detached="detached",h.Attached="attached",h.Removed="removed",h))(bs||{}),gr=(h=>(h.StatusChanged="status-changed",h.ConnectionChanged="connection-changed",h.SyncStatusChanged="sync-status-changed",h.Snapshot="snapshot",h.LocalChange="local-change",h.RemoteChange="remote-change",h.Initialized="initialized",h.Watched="watched",h.Unwatched="unwatched",h.PresenceChanged="presence-changed",h.AuthError="auth-error",h))(gr||{}),ml=(h=>(h.Connected="connected",h.Disconnected="disconnected",h))(ml||{}),Cp=(h=>(h.Synced="synced",h.SyncFailed="sync-failed",h))(Cp||{});class ya{constructor(o,f){q(this,"key");q(this,"status");q(this,"opts");q(this,"maxSizeLimit");q(this,"schemaRules");q(this,"changeID");q(this,"checkpoint");q(this,"localChanges");q(this,"root");q(this,"presences");q(this,"clone");q(this,"internalHistory");q(this,"isUpdating");q(this,"onlineClients");q(this,"eventStream");q(this,"eventStreamObserver");q(this,"history");this.key=o,this.status="detached",this.opts=f||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=cs,this.checkpoint=fs,this.localChanges=[],this.root=gc.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new h0,this.isUpdating=!1,this.eventStream=xs(v=>this.eventStreamObserver=v),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},X1(this)}update(o,f){var V,Y,te;if(this.getStatus()==="removed")throw new Ee(ve.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const v=this.changeID.getActorID(),A=fa.create(this.changeID,this.clone.root,this.clone.presences.get(v)||{},f);try{const ce=f0(A,this.clone.root.getObject());this.presences.has(v)||this.clone.presences.set(v,{}),this.isUpdating=!0,o(ce,new d0(A,this.clone.presences.get(v)))}catch(ce){throw this.clone=void 0,ce}finally{this.isUpdating=!1}const _=this.getSchemaRules();if(!A.isPresenceOnlyChange()&&_.length){const ce=H1((V=this.clone)==null?void 0:V.root.getObject(),_);if(!ce.valid)throw this.clone=void 0,new Ee(ve.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(Y=ce.errors)==null?void 0:Y.map(Re=>Re.message).join(", ")}`)}const F=ra((te=this.clone)==null?void 0:te.root.getDocSize());if(!A.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<F)throw this.clone=void 0,new Ee(ve.ErrDocumentSizeExceedsLimit,`document size exceeded: ${F} > ${this.maxSizeLimit}`);if(A.hasChange()){Je.isEnabled(jr.Trivial)&&Je.trivial(`trying to update a local change: ${this.toJSON()}`);const ce=A.toChange(),{opInfos:Re,reverseOps:Be}=ce.execute(this.root,this.presences,On.Local);for(const We of ce.getOperations())We instanceof hs&&this.internalHistory.reconcileCreatedAt(We.getCreatedAt(),We.getValue().getCreatedAt());const Te=A.getReversePresence();Te&&Be.push({type:"presence",value:Te}),this.localChanges.push(ce),Be.length&&this.internalHistory.pushUndo(Be),Re.length&&this.internalHistory.clearRedo(),this.changeID=A.getNextID();const Ye=[];Re.length&&Ye.push({type:"local-change",source:On.Local,value:{message:ce.getMessage()||"",operations:Re,actor:v,clientSeq:ce.getID().getClientSeq(),serverSeq:ce.getID().getServerSeq()},rawChange:this.isEnableDevtools()?ce.toStruct():void 0}),ce.hasPresenceChange()&&Ye.push({type:"presence-changed",source:On.Local,value:{clientID:v,presence:this.getPresence(v)}}),this.publish(Ye),Je.isEnabled(jr.Trivial)&&Je.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(o,f,v,A){if(typeof o=="string"){if(typeof f!="function")throw new Ee(ve.ErrInvalidArgument,"Second argument must be a callback function");if(o==="presence"){const V=f;return this.eventStream.subscribe(Y=>{for(const te of Y)te.type!=="initialized"&&te.type!=="watched"&&te.type!=="unwatched"&&te.type!=="presence-changed"||V(te)},v,A)}if(o==="my-presence"){const V=f;return this.eventStream.subscribe(Y=>{for(const te of Y)te.type!=="initialized"&&te.type!=="presence-changed"||te.type==="presence-changed"&&te.value.clientID!==this.changeID.getActorID()||V(te)},v,A)}if(o==="others"){const V=f;return this.eventStream.subscribe(Y=>{for(const te of Y)te.type!=="watched"&&te.type!=="unwatched"&&te.type!=="presence-changed"||te.value.clientID!==this.changeID.getActorID()&&V(te)},v,A)}if(o==="connection"){const V=f;return this.eventStream.subscribe(Y=>{for(const te of Y)te.type==="connection-changed"&&V(te)},v,A)}if(o==="status"){const V=f;return this.eventStream.subscribe(Y=>{for(const te of Y)te.type==="status-changed"&&V(te)},v,A)}if(o==="sync"){const V=f;return this.eventStream.subscribe(Y=>{for(const te of Y)te.type==="sync-status-changed"&&V(te)},v,A)}if(o==="auth-error"){const V=f;return this.eventStream.subscribe(Y=>{for(const te of Y)te.type==="auth-error"&&V(te)},v)}if(o==="all"){const V=f;return this.eventStream.subscribe(V,v,A)}const _=o,F=f;return this.eventStream.subscribe(V=>{for(const Y of V){if(Y.type!=="local-change"&&Y.type!=="remote-change")continue;const te=[];for(const ce of Y.value.operations)this.isSameElementOrChildOf(ce.path,_)&&te.push(ce);te.length&&F({...Y,value:{...Y.value,operations:te}})}},v,A)}if(typeof o=="function"){const _=o,F=f,V=v;return this.eventStream.subscribe(Y=>{for(const te of Y)te.type!=="snapshot"&&te.type!=="local-change"&&te.type!=="remote-change"||_(te)},F,V)}throw new Ee(ve.ErrInvalidArgument,`"${o}" is not a valid`)}publish(o){this.eventStreamObserver&&this.eventStreamObserver.next(o)}applyChangePack(o){o.hasSnapshot()?this.applySnapshot(o.getCheckpoint().getServerSeq(),o.getVersionVector(),o.getSnapshot(),o.getCheckpoint().getClientSeq()):(this.applyChanges(o.getChanges(),On.Remote),this.removePushedLocalChanges(o.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(o.getCheckpoint()),o.hasSnapshot()||this.garbageCollect(o.getVersionVector()),o.getIsRemoved()&&this.applyStatus("removed"),Je.isEnabled(jr.Trivial)&&Je.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:ci(this.presences)})}createChangePack(){const o=Array.from(this.localChanges),f=this.checkpoint.increaseClientSeq(o.length);return fp.create(this.key,f,!1,o,this.getVersionVector())}setActor(o){for(const f of this.localChanges)f.setActor(o);this.changeID=this.changeID.setActor(o)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const o=fa.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return f0(o,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(o){this.maxSizeLimit=o}getSchemaRules(){return this.schemaRules}setSchemaRules(o){this.schemaRules=o}garbageCollect(o){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(o),this.root.garbageCollect(o))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(o,f,v,A=-1){const{root:_,presences:F}=xn.bytesToSnapshot(v);this.root=new gc(_),this.presences=F,this.changeID=this.changeID.setClocks(f.maxLamport(),f),this.clone=void 0,this.removePushedLocalChanges(A),this.applyChanges(this.localChanges,On.Local),this.clearHistory(),this.publish([{type:"snapshot",source:On.Remote,value:{serverSeq:o.toString(),snapshot:this.isEnableDevtools()?xn.bytesToHex(v):void 0,snapshotVector:xn.versionVectorToHex(f)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(o,f){Je.isEnabled(jr.Debug)&&Je.debug(`trying to apply ${o.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),Je.isEnabled(jr.Trivial)&&Je.trivial(o.map(v=>`${v.getID().toTestString()}	${v.toTestString()}`).join(`
`));for(const v of o)this.applyChange(v,f);Je.isEnabled(jr.Debug)&&Je.debug(`after appling ${o.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(o,f){var V;this.ensureClone(),o.execute(this.clone.root,this.clone.presences,f);const v=[],A=o.getID().getActorID();if(o.hasPresenceChange()&&this.onlineClients.has(A)){const Y=o.getPresenceChange();switch(Y.type){case no.Put:v.push(this.presences.has(A)?{type:"presence-changed",source:f,value:{clientID:A,presence:Y.presence}}:{type:"watched",source:On.Remote,value:{clientID:A,presence:Y.presence}});break;case no.Clear:v.push({type:"unwatched",source:On.Remote,value:{clientID:A,presence:this.getPresence(A)}}),this.removeOnlineClient(A);break}}const{opInfos:_,operations:F}=o.execute(this.root,this.presences,f);for(const Y of F)if(Y instanceof Ro){const[te,ce]=Y.normalizePos(this.root);this.internalHistory.reconcileTextEdit(Y.getParentCreatedAt(),te,ce,((V=Y.getContent())==null?void 0:V.length)??0)}if(this.changeID=this.changeID.syncClocks(o.getID()),_.length){const Y=this.isEnableDevtools()?o.toStruct():void 0;v.push(f===On.Remote?{type:"remote-change",source:f,value:{actor:A,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq(),message:o.getMessage()||"",operations:_},rawChange:Y}:{type:"local-change",source:f,value:{actor:A,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq(),message:o.getMessage()||"",operations:_},rawChange:Y})}v.length&&this.publish(v)}applyWatchStream(o){if(o.body.case==="initialization"){const f=o.body.value.clientIds,v=new Set;for(const A of f)A!==this.changeID.getActorID()&&v.add(A);this.setOnlineClients(v),this.publish([{type:"initialized",source:On.Local,value:this.getPresences()}]);return}if(o.body.case==="event"){const{type:f,publisher:v}=o.body.value,A=[];if(f===Bf.DOCUMENT_WATCHED){if(this.onlineClients.has(v)&&this.hasPresence(v))return;this.addOnlineClient(v),this.hasPresence(v)&&A.push({type:"watched",source:On.Remote,value:{clientID:v,presence:this.getPresence(v)}})}else if(f===Bf.DOCUMENT_UNWATCHED){const _=this.getPresence(v);this.removeOnlineClient(v),_&&A.push({type:"unwatched",source:On.Remote,value:{clientID:v,presence:_}})}A.length&&this.publish(A)}}applyStatus(o){this.status=o,o==="detached"&&this.setActor(tp),this.publish([{source:o==="removed"?On.Remote:On.Local,type:"status-changed",value:o==="attached"?{status:o,actorID:this.changeID.getActorID()}:{status:o}}])}applyDocEventsForReplay(o){for(const f of o){if(f.type==="status-changed"){this.applyStatus(f.value.status),f.value.status==="attached"&&this.setActor(f.value.actorID);continue}if(f.type==="snapshot"){const{snapshot:v,serverSeq:A,snapshotVector:_}=f.value;if(!v)continue;this.applySnapshot(BigInt(A),xn.hexToVersionVector(_),xn.hexToBytes(v));continue}if(f.type==="local-change"||f.type==="remote-change"){if(!f.rawChange)continue;const v=oa.fromStruct(f.rawChange);this.applyChange(v,f.source)}if(f.type==="initialized"){const v=new Set;for(const{clientID:A,presence:_}of f.value)v.add(A),this.presences.set(A,_);this.setOnlineClients(v)}else if(f.type==="watched"){const{clientID:v,presence:A}=f.value;this.addOnlineClient(v),this.presences.set(v,A)}else if(f.type==="unwatched"){const{clientID:v}=f.value;this.removeOnlineClient(v),this.presences.delete(v)}else if(f.type==="presence-changed"){const{clientID:v,presence:A}=f.value;this.presences.set(v,A)}}}getValueByPath(o){if(!o.startsWith("$"))throw new Ee(ve.ErrInvalidArgument,'path must start with "$"');const f=o.split(".");f.shift();let v=this.getRoot();for(const A of f)if(v=v[A],!v)return;return v}setOnlineClients(o){this.onlineClients=o}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(o){this.onlineClients.add(o)}removeOnlineClient(o){this.onlineClients.delete(o)}hasPresence(o){return this.presences.has(o)}getMyPresence(){if(this.status!=="attached")return{};const o=this.presences.get(this.changeID.getActorID());return o?ci(o):{}}getOthersPresences(){const o=[],f=this.changeID.getActorID();for(const v of this.onlineClients)v!==f&&this.presences.has(v)&&o.push({clientID:v,presence:ci(this.presences.get(v))});return o}getPresence(o){if(o===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(o))return;const f=this.presences.get(o);return f?ci(f):void 0}getPresences(){const o=[];o.push({clientID:this.changeID.getActorID(),presence:ci(this.getMyPresence())});for(const f of this.onlineClients)this.presences.has(f)&&o.push({clientID:f,presence:ci(this.presences.get(f))});return o}getPresenceForTest(o){const f=this.presences.get(o);return f?ci(f):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const o=this.getChangeID().getActorID();return this.getPresences().filter(f=>f.clientID!==o).sort((f,v)=>f.clientID>v.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(o,f){if(f===o)return!0;const v=o.split(".");return f.split(".").every((A,_)=>A===v[_])}removePushedLocalChanges(o){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>o);)this.localChanges.shift()}executeUndoRedo(o){if(this.isUpdating)throw new Ee(ve.ErrRefused,`${o?"Undo":"Redo"} is not allowed during an update`);const f=o?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!f)throw new Ee(ve.ErrRefused,`There is no operation to be ${o?"undone":"redone"}`);this.ensureClone();const v=fa.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const ce of f){if(!(ce instanceof $r)){new d0(v,ci(this.clone.presences.get(this.changeID.getActorID()))).set(ce.value,{addToHistory:!0});continue}const Re=v.issueTimeTicket();if(ce.setExecutedAt(Re),ce instanceof hs){const Be=ce.getCreatedAt();ce.getValue().setCreatedAt(Re),this.internalHistory.reconcileCreatedAt(Be,Re)}else if(ce instanceof ji){const Be=ce.getValue().getCreatedAt();ce.getValue().setCreatedAt(Re),this.internalHistory.reconcileCreatedAt(Be,Re)}v.push(ce)}const A=v.toChange();A.execute(this.clone.root,this.clone.presences,On.UndoRedo);const{opInfos:_,reverseOps:F}=A.execute(this.root,this.presences,On.UndoRedo),V=v.getReversePresence();if(V&&F.push({type:"presence",value:V}),F.length&&(o?this.internalHistory.pushRedo(F):this.internalHistory.pushUndo(F)),!A.hasPresenceChange()&&!_.length)return;this.localChanges.push(A),this.changeID=v.getNextID();const Y=this.changeID.getActorID(),te=[];_.length&&te.push({type:"local-change",source:On.UndoRedo,value:{message:A.getMessage()||"",operations:_,actor:Y,clientSeq:A.getID().getClientSeq(),serverSeq:A.getID().getServerSeq()},rawChange:this.isEnableDevtools()?A.toStruct():void 0}),A.hasPresenceChange()&&te.push({type:"presence-changed",source:On.UndoRedo,value:{clientID:Y,presence:this.getPresence(Y)}}),this.publish(te)}}class Rp{constructor(o,f,v,A){q(this,"resource");q(this,"resourceID");q(this,"syncMode");q(this,"changeEventReceived");q(this,"lastHeartbeatTime");q(this,"reconnectStreamDelay");q(this,"cancelled");q(this,"watchStream");q(this,"watchLoopTimerID");q(this,"watchAbortController");this.reconnectStreamDelay=o,this.resource=f,this.resourceID=v,this.syncMode=A,this.changeEventReceived=A!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(o){this.syncMode=o}needRealtimeSync(){return this.syncMode===kt.RealtimeSyncOff?!1:this.syncMode===kt.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==kt.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(o){return this.resource instanceof ya?this.needRealtimeSync():this.syncMode===kt.Manual?!1:Date.now()-this.lastHeartbeatTime>=o}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(o){const f=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await o(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(f,this.reconnectStreamDelay))})}catch{}};await f()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function Hx(h,o){let f=o;return{authInterceptor:_=>async F=>(h&&F.header.set("x-api-key",h),f&&F.header.set("authorization",f),await _(F)),setToken:_=>{f=_}}}const Tp={name:"@yorkie-js/sdk",version:"0.6.47"};function g0(h){return o=>async f=>(h?f.header.set("x-yorkie-user-agent",h):f.header.set("x-yorkie-user-agent",Tp.name+"/"+Tp.version),await o(f))}const J1=h=>{try{if(JSON.stringify(h)===void 0)return!1}catch{return!1}return!0};var Hf=(h=>(h.Detached="detached",h.Attached="attached",h.Removed="removed",h))(Hf||{}),Lo=(h=>(h.PresenceChanged="presence-changed",h.Initialized="initialized",h.Broadcast="broadcast",h.LocalBroadcast="local-broadcast",h.AuthError="auth-error",h))(Lo||{});const Yf=".";class Fo{constructor(o){q(this,"key");q(this,"status");q(this,"actorID");q(this,"sessionID");q(this,"sessionCount");q(this,"seq");q(this,"eventStream");q(this,"eventStreamObserver");this.validateChannelKey(o),this.key=o,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=xs(f=>this.eventStreamObserver=f)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Yf)[0]}getStatus(){return this.status}applyStatus(o){this.status=o}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(o){this.actorID=o}getSessionID(){return this.sessionID}setSessionID(o){this.sessionID=o}getSessionCount(){return this.sessionCount}updateSessionCount(o,f){return f===0||f>this.seq?(this.sessionCount=o,this.seq=f,!0):!1}hasLocalChanges(){return!1}subscribe(o,f){if(typeof o=="function")return this.eventStream.subscribe(o);const v=o,A=f;if(!A)throw new Error("callback is required when subscribing to specific event type or topic");if(v==="broadcast")return this.eventStream.subscribe(F=>{F.type==="broadcast"&&A(F)});if(v==="local-broadcast")return this.eventStream.subscribe(F=>{F.type==="local-broadcast"&&A(F)});if(v==="auth-error")return this.eventStream.subscribe(F=>{F.type==="auth-error"&&A(F)});if(v==="presence")return this.eventStream.subscribe(F=>{(F.type==="presence-changed"||F.type==="initialized")&&A(F)});if(v==="all")return this.eventStream.subscribe(A);const _=v;return this.eventStream.subscribe(F=>{F.type==="broadcast"&&F.topic===_&&A(F)})}publish(o){this.eventStreamObserver&&this.eventStreamObserver.next(o)}broadcast(o,f,v){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:o,payload:f,options:v})}validateChannelKey(o){if(o==="")throw new Error("channel key must not be empty");if(o.includes(" "))throw new Error("channel key must not contain a whitespace");if(o.startsWith(Yf))throw new Error("channel key must not start with a period");if(o.endsWith(Yf))throw new Error("channel key must not end with a period");if(o.includes(`${Yf}${Yf}`))throw new Error("channel key path must not empty")}}var kt=(h=>(h.Manual="manual",h.Realtime="realtime",h.RealtimePushOnly="realtime-pushonly",h.RealtimeSyncOff="realtime-syncoff",h))(kt||{});const xa={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},vc={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Np{constructor(o){q(this,"id");q(this,"key");q(this,"metadata");q(this,"status");q(this,"attachmentMap");q(this,"apiKey");q(this,"authTokenInjector");q(this,"conditions");q(this,"syncLoopDuration");q(this,"reconnectStreamDelay");q(this,"retrySyncLoopDelay");q(this,"channelHeartbeatInterval");q(this,"rpcClient");q(this,"setAuthToken");q(this,"taskQueue");q(this,"processing",!1);q(this,"keepalive",!1);o=o||xa;const f=o.rpcAddr||xa.rpcAddr;this.key=o.key||o0(),this.metadata=o.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=o.apiKey||"",this.authTokenInjector=o.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=o.syncLoopDuration??xa.syncLoopDuration,this.reconnectStreamDelay=o.reconnectStreamDelay??xa.reconnectStreamDelay,this.retrySyncLoopDelay=o.retrySyncLoopDelay??xa.retrySyncLoopDelay,this.channelHeartbeatInterval=o.channelHeartbeatInterval??xa.channelHeartbeatInterval;const{authInterceptor:v,setToken:A}=Hx(this.apiKey);this.setAuthToken=A,this.rpcClient=rl(bx,wm({baseUrl:f,interceptors:[v,g0(o==null?void 0:o.userAgent)],fetch:(_,F)=>fetch(_,{...F,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const o=await this.authTokenInjector();this.setAuthToken(o)}return this.enqueueTask(async()=>{try{const o=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=o.clientId,this.status="activated",this.runSyncLoop(),Je.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(o){throw Je.error(`[AC] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}deactivate(o={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const f=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:o.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),Je.info(`[DC] c"${this.getKey()}" deactivated`)}catch(v){throw Je.error(`[DC] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}};if(o.keepalive){this.keepalive=!0;const v=f();return this.keepalive=!1,v}return this.enqueueTask(f)}has(o){return this.attachmentMap.has(o)}attach(o,f){return o instanceof Fo?this.attachChannel(o,f):this.attachDocument(o,f)}attachDocument(o,f={}){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);if(o.getStatus()!==bs.Detached)throw new Ee(ve.ErrNotDetached,`${o.getKey()} is not detached`);o.setActor(this.id),o.update((A,_)=>_.set(f.initialPresence||{}));const v=f.syncMode??"realtime";return this.enqueueTask(async()=>{try{const A=await this.rpcClient.attachDocument({clientId:this.id,changePack:xn.toChangePack(o.createChangePack()),schemaKey:f.schema},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});(A.maxSizePerDocument??0)>0&&o.setMaxSizePerDocument(A.maxSizePerDocument),A.schemaRules.length>0&&o.setSchemaRules(xn.fromSchemaRules(A.schemaRules));const F=xn.fromChangePack(A.changePack);if(o.applyChangePack(F),o.getStatus()===bs.Removed)return o;o.applyStatus(bs.Attached),this.attachmentMap.set(o.getKey(),new Rp(this.reconnectStreamDelay,o,A.documentId,v)),v!=="manual"&&await this.runWatchLoop(o.getKey()),Je.info(`[AD] c:"${this.getKey()}" attaches d:"${o.getKey()}"`);const V=o.getRootObject();if(f.initialRoot){const Y=f.initialRoot;o.update(te=>{for(const[ce,Re]of Object.entries(Y))if(!V.has(ce)){const Be=ce;te[Be]=Re}})}return o}catch(A){throw Je.error(`[AD] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}})}detach(o,f){return o instanceof Fo?this.detachChannel(o):this.detachDocument(o,f)}detachDocument(o,f={keepalive:!1}){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ve.ErrNotAttached,`${o.getKey()} is not attached`);o.update((_,F)=>F.clear());const A=async()=>{try{const _=await this.rpcClient.detachDocument({clientId:this.id,documentId:v.resourceID,changePack:xn.toChangePack(o.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),F=xn.fromChangePack(_.changePack);return o.applyChangePack(F),o.getStatus()!==bs.Removed&&o.applyStatus(bs.Detached),this.detachInternal(o.getKey()),Je.info(`[DD] c:"${this.getKey()}" detaches d:"${o.getKey()}"`),o}catch(_){throw Je.error(`[DD] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};if(f.keepalive){this.keepalive=!0;const _=A();return this.keepalive=!1,_}return this.enqueueTask(A)}async attachChannel(o,f={}){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);if(o.getStatus()!==Hf.Detached)throw new Ee(ve.ErrNotDetached,`${o.getKey()} is not detached`);o.setActor(this.id);const v=async()=>{try{const A=await this.rpcClient.attachChannel({clientId:this.id,channelKey:o.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${o.getFirstKeyPath()}`}});o.setSessionID(A.sessionId),o.updateSessionCount(Number(A.sessionCount),0),o.applyStatus(Hf.Attached);const _=f.isRealtime!==!1?"realtime":"manual",F=new Rp(this.reconnectStreamDelay,o,A.sessionId,_);return o.subscribe("local-broadcast",V=>{const{topic:Y,payload:te,options:ce}=V;this.broadcast(o.getKey(),Y,te,ce).catch(Re=>{ce!=null&&ce.error&&ce.error(Re),Je.error(`[BC] c:"${this.getKey()}" failed: ${Re}`)})}),this.attachmentMap.set(o.getKey(),F),_==="realtime"&&await this.runWatchLoop(o.getKey()),Je.info(`[AP] c:"${this.getKey()}" attaches p:"${o.getKey()}" mode:${_} count:${o.getSessionCount()}`),o}catch(A){throw Je.error(`[AP] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}};return this.enqueueTask(v)}async detachChannel(o){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(o.getKey()))throw new Ee(ve.ErrNotAttached,`${o.getKey()} is not attached`);const f=async()=>{try{const v=await this.rpcClient.detachChannel({clientId:this.id,channelKey:o.getKey(),sessionId:o.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${o.getFirstKeyPath()}`}});return o.updateSessionCount(Number(v.sessionCount),0),o.applyStatus(Hf.Detached),this.detachInternal(o.getKey()),Je.info(`[DP] c:"${this.getKey()}" detaches p:"${o.getKey()}" count:${o.getSessionCount()}`),o}catch(v){throw Je.error(`[DP] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}};return this.enqueueTask(f)}async changeSyncMode(o,f){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ve.ErrNotAttached,`${o.getKey()} is not attached`);const A=v.syncMode;return A===f?o:(v.changeSyncMode(f),f==="manual"?(v.cancelWatchStream(),o):(f==="realtime"&&(v.changeEventReceived=!0),A==="manual"&&await this.runWatchLoop(o.getKey()),o))}sync(o){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);if(o instanceof Fo){const f=this.attachmentMap.get(o.getKey());if(!f)throw new Ee(ve.ErrNotAttached,`${o.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(f).catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}))}if(o instanceof ya){const f=this.attachmentMap.get(o.getKey());if(!f)throw new Ee(ve.ErrNotAttached,`${o.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(f,"realtime").catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}))}return this.enqueueTask(async()=>{const f=[];for(const[,v]of this.attachmentMap)v.syncMode!==void 0&&v.resource instanceof ya&&f.push(this.syncInternal(v,v.syncMode));return Promise.all(f).catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v})})}remove(o){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);const f=this.attachmentMap.get(o.getKey());if(!f)throw new Ee(ve.ErrNotAttached,`${o.getKey()} is not attached`);o.setActor(this.id);const v=xn.toChangePack(o.createChangePack());return v.isRemoved=!0,this.enqueueTask(async()=>{try{const A=await this.rpcClient.removeDocument({clientId:this.id,documentId:f.resourceID,changePack:v},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),_=xn.fromChangePack(A.changePack);o.applyChangePack(_),this.detachInternal(o.getKey()),Je.info(`[RD] c:"${this.getKey()}" removes d:"${o.getKey()}"`)}catch(A){throw Je.error(`[RD] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(o){return this.conditions[o]}async createRevision(o,f,v){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);const A=this.attachmentMap.get(o.getKey());if(!A)throw new Ee(ve.ErrNotAttached,`${o.getKey()} is not attached`);const _=async()=>{try{const F=await this.rpcClient.createRevision({clientId:this.id,documentId:A.resourceID,label:f,description:v||""},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});if(!F.revision)throw new Ee(ve.ErrInvalidArgument,"revision is not returned");return Je.info(`[CR] c:"${this.getKey()}" creates revision d:"${o.getKey()}" l:"${f}"`),xn.toRevisionSummary(F.revision)}catch(F){throw Je.error(`[CR] c:"${this.getKey()}" err :`,F),await this.handleConnectError(F),F}};return this.enqueueTask(_)}async listRevisions(o,f){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ve.ErrNotAttached,`${o.getKey()} is not attached`);const A=async()=>{try{const _=await this.rpcClient.listRevisions({clientId:this.id,documentId:v.resourceID,pageSize:(f==null?void 0:f.pageSize)||10,offset:(f==null?void 0:f.offset)||0,isForward:(f==null?void 0:f.isForward)??!1},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});return Je.info(`[LR] c:"${this.getKey()}" lists revisions d:"${o.getKey()}" count:${_.revisions.length}`),_.revisions.map(xn.toRevisionSummary)}catch(_){throw Je.error(`[LR] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};return this.enqueueTask(A)}async getRevision(o,f){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ve.ErrNotAttached,`${o.getKey()} is not attached`);const A=async()=>{try{const _=await this.rpcClient.getRevision({clientId:this.id,documentId:v.resourceID,revisionId:f},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});if(!_.revision)throw new Ee(ve.ErrInvalidArgument,"revision is not returned");return Je.info(`[GR] c:"${this.getKey()}" gets revision d:"${o.getKey()}" r:"${f}"`),xn.toRevisionSummary(_.revision)}catch(_){throw Je.error(`[GR] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};return this.enqueueTask(A)}async restoreRevision(o,f){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ve.ErrNotAttached,`${o.getKey()} is not attached`);const A=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:v.resourceID,revisionId:f},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),Je.info(`[RR] c:"${this.getKey()}" restores revision d:"${o.getKey()}" r:"${f}"`)}catch(_){throw Je.error(`[RR] c:"${this.getKey()}" err :`,_),await this.handleConnectError(_),_}};return this.enqueueTask(A)}async broadcast(o,f,v,A){if(!this.isActive())throw new Ee(ve.ErrClientNotActivated,`${this.key} is not active`);const _=this.attachmentMap.get(o);if(!_)throw new Ee(ve.ErrNotAttached,`${o} is not attached`);if(!J1(v))throw new Ee(ve.ErrInvalidArgument,"payload is not serializable");const F=_.resource,V=(A==null?void 0:A.maxRetries)??vc.maxRetries,Y=vc.maxBackoff;let te=0;const ce=Be=>Math.min(vc.initialRetryInterval*2**Be,Y),Re=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:o,topic:f,payload:new TextEncoder().encode(JSON.stringify(v))},{headers:{"x-shard-key":`${this.apiKey}/${F.getFirstKeyPath()}`}}),Je.info(`[BC] c:"${this.getKey()}" broadcasts p:"${o}" t:"${f}"`)}catch(Be){if(Je.error(`[BC] c:"${this.getKey()}" err:`,Be),await this.handleConnectError(Be))if(No(Be,ve.ErrUnauthenticated)&&_.resource instanceof Fo&&_.resource.publish({type:Lo.AuthError,reason:Tr(Be).reason||"unauthenticated",method:"Broadcast"}),te<V)te++,setTimeout(()=>Re(),ce(te-1)),Je.info(`[BC] c:"${this.getKey()}" retry attempt ${te}/${V}`);else throw Je.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),Be}});return Re()}runSyncLoop(){const o=async()=>{if(!this.isActive()){Je.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const f=[];for(const[,v]of this.attachmentMap)v.needSync(this.channelHeartbeatInterval)&&(v.changeEventReceived!==void 0&&(v.changeEventReceived=!1),f.push(this.syncInternal(v,v.syncMode).catch(A=>{throw No(A,ve.ErrUnauthenticated)&&v.resource.publish([{type:gr.AuthError,value:{reason:Tr(A).reason,method:"PushPull"}}]),A})));await Promise.all(f),setTimeout(o,this.syncLoopDuration)})}catch(f){Je.error(`[SL] c:"${this.getKey()}" sync failed:`,f),await this.handleConnectError(f)?setTimeout(o,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};Je.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,o()}async runWatchLoop(o){const f=this.attachmentMap.get(o);if(!f)throw new Ee(ve.ErrNotAttached,`${o} is not attached`);return this.conditions.WatchLoop=!0,f.runWatchLoop(v=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new Ee(ve.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(o))return this.conditions.WatchLoop=!1,Promise.reject(new Ee(ve.ErrNotAttached,`${o} is not attached`));const A=new AbortController;return f.resource instanceof ya?this.createDocumentWatchStream(f,o,A,v):f.resource instanceof Fo?this.createChannelWatchStream(f,o,A,v):Promise.reject(new Ee(ve.ErrClientNotActivated,`Unknown resource type for ${o}`))})}createDocumentWatchStream(o,f,v,A){const _=this.rpcClient.watchDocument({clientId:this.id,documentId:o.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${f}`},signal:v.signal});return o.resource.publish([{type:gr.ConnectionChanged,value:ml.Connected}]),Je.info(`[WD] c:"${this.getKey()}" watches d:"${f}"`),o.changeEventReceived!==void 0&&(o.changeEventReceived=!0),new Promise((F,V)=>{(async()=>{try{for await(const te of _)this.handleWatchDocumentResponse(o,te),te.body.case==="initialization"&&F([_,v]);o.resource.resetOnlineClients(),o.resource.publish([{type:gr.Initialized,source:On.Local,value:o.resource.getPresences()}]),o.resource.publish([{type:gr.ConnectionChanged,value:ml.Disconnected}]),Je.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),A()}catch(te){o.resource.resetOnlineClients(),o.resource.publish([{type:gr.Initialized,source:On.Local,value:o.resource.getPresences()}]),o.resource.publish([{type:gr.ConnectionChanged,value:ml.Disconnected}]),Je.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(te)?(No(te,ve.ErrUnauthenticated)&&o.resource.publish([{type:gr.AuthError,value:{reason:Tr(te).reason,method:"WatchDocument"}}]),A()):this.conditions.WatchLoop=!1,V(te)}})()})}createChannelWatchStream(o,f,v,A){const _=this.rpcClient.watchChannel({clientId:this.id,channelKey:f},{headers:{"x-shard-key":`${this.apiKey}/${o.resource.getFirstKeyPath()}`},signal:v.signal});return Je.info(`[WP] c:"${this.getKey()}" watches p:"${f}"`),new Promise((F,V)=>{(async()=>{try{let te=!0;for await(const ce of _)this.handleWatchChannelResponse(o,ce),te&&(te=!1,F([_,v]));Je.debug(`[WP] c:"${this.getKey()}" p:"${f}" stream ended`),A()}catch(te){if(te instanceof Error&&te.name==="AbortError"){Je.debug(`[WP] c:"${this.getKey()}" p:"${f}" stream aborted`);return}Je.debug(`[WP] c:"${this.getKey()}" p:"${f}" err:`,te),await this.handleConnectError(te)?A():this.conditions.WatchLoop=!1,V(te)}})()})}handleWatchChannelResponse(o,f){const v=o.resource;if(f.body.case==="initialized"){const{sessionCount:A,seq:_}=f.body.value;v.updateSessionCount(Number(A),Number(_))&&v.publish({type:Lo.Initialized,count:Number(A)})}else if(f.body.case==="event"){const A=f.body.value;if(A.type===Pm.BROADCAST){const _=new TextDecoder;try{const F=JSON.parse(_.decode(A.payload));v.publish({type:Lo.Broadcast,clientID:A.publisher,topic:A.topic,payload:F})}catch(F){Je.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,F)}return}v.updateSessionCount(Number(A.sessionCount),Number(A.seq))&&v.publish({type:Lo.PresenceChanged,count:Number(A.sessionCount)})}}handleWatchDocumentResponse(o,f){if(f.body.case==="event"&&f.body.value.type===Bf.DOCUMENT_CHANGED){o.changeEventReceived!==void 0&&(o.changeEventReceived=!0);return}o.resource.applyWatchStream(f)}deactivateInternal(){this.status="deactivated";for(const[o,f]of this.attachmentMap)this.detachInternal(o),f.resource instanceof ya?f.resource.applyStatus(bs.Detached):f.resource instanceof Fo&&f.resource.applyStatus(Hf.Detached)}detachInternal(o){const f=this.attachmentMap.get(o);f&&(f.cancelWatchStream(),f.resource instanceof ya&&f.resource.resetOnlineClients(),this.attachmentMap.delete(o))}async syncInternal(o,f){const{resource:v}=o;if(v instanceof Fo){try{const V=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:v.getKey(),sessionId:v.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${v.getFirstKeyPath()}`}});v.updateSessionCount(Number(V.sessionCount),0),o.updateHeartbeatTime(),Je.debug(`[RP] c:"${this.getKey()}" refreshes p:"${v.getKey()}" mode:${o.syncMode}`)}catch(V){throw Je.error(`[RP] c:"${this.getKey()}" err :`,V),V}return v}const A=v,{resourceID:_}=o,F=A.createChangePack();try{const V=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:_,changePack:xn.toChangePack(F),pushOnly:f==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${A.getKey()}`}}),Y=xn.fromChangePack(V.changePack);if(Y.hasChanges()&&(o.syncMode==="realtime-pushonly"||o.syncMode==="realtime-syncoff"))return A;A.applyChangePack(Y),o.resource.publish([{type:gr.SyncStatusChanged,value:Cp.Synced}]),A.getStatus()===bs.Removed&&this.detachInternal(A.getKey());const te=A.getKey(),ce=Y.getChangeSize();return Je.info(`[PP] c:"${this.getKey()}" sync d:"${te}", push:${F.getChangeSize()} pull:${ce} cp:${Y.getCheckpoint().toTestString()}`),A}catch(V){throw A.publish([{type:gr.SyncStatusChanged,value:Cp.SyncFailed}]),Je.error(`[PP] c:"${this.getKey()}" err :`,V),V}}async handleConnectError(o){if(!(o instanceof Kt))return!1;if(o.code===l.Canceled||o.code===l.Unknown||o.code===l.ResourceExhausted||o.code===l.Unavailable)return!0;if(hl(o)===ve.ErrUnauthenticated){if(this.authTokenInjector){const f=await this.authTokenInjector(Tr(o).reason);this.setAuthToken(f)}return!0}return hl(o)===ve.ErrTooManySubscribers?(Je.error(`[WD] c:"${this.getKey()}" err :`,o.rawMessage),!0):(hl(o)===ve.ErrTooManyAttachments||(hl(o)===ve.ErrClientNotActivated||hl(o)===ve.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(o){return new Promise((f,v)=>{this.taskQueue.push(()=>o().then(f).catch(v)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{Je.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function m0(h){return typeof h=="object"&&h!==null&&h.type==="Text"&&Array.isArray(h.nodes)}function _p(h){return typeof h=="object"&&h!==null&&h.type==="Tree"&&typeof h.root=="object"}function yc(h){return typeof h=="object"&&h!==null&&h.type==="Int"&&typeof h.value=="number"}function qf(h){return typeof h=="object"&&h!==null&&h.type==="Long"&&typeof h.value=="number"}function vl(h){return typeof h=="object"&&h!==null&&h.type==="Date"&&typeof h.value=="string"}function v0(h){return typeof h=="object"&&h!==null&&h.type==="BinData"&&typeof h.value=="string"}function Yx(h){return typeof h=="object"&&h!==null&&h.type==="Counter"&&typeof h.value=="object"}function Q1(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)&&!m0(h)&&!_p(h)&&!yc(h)&&!qf(h)&&!vl(h)&&!v0(h)&&!Yx(h)}function qx(h){try{const o=Kx(h),f=JSON.parse(o);return yl(f)}catch(o){throw new Ee(ve.ErrInvalidArgument,`Failed to parse YSON: ${o instanceof Error?o.message:String(o)}`)}}function Kx(h){let o=h;return o=o.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(f,v,A)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${v}","__yson_data":${A}}}`),o=o.replace(/Int\((-?\d+)\)/g,(f,v)=>`{"__yson_type":"Int","__yson_data":${v}}`),o=o.replace(/Long\((-?\d+)\)/g,(f,v)=>`{"__yson_type":"Long","__yson_data":${v}}`),o=o.replace(/Date\("([^"]*)"\)/g,(f,v)=>`{"__yson_type":"Date","__yson_data":"${v}"}`),o=o.replace(/BinData\("([^"]*)"\)/g,(f,v)=>`{"__yson_type":"BinData","__yson_data":"${v}"}`),o=o.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(f,v)=>`{"__yson_type":"Text","__yson_data":${v}}`),o=o.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(f,v)=>`{"__yson_type":"Tree","__yson_data":${v}}`),o}function yl(h){if(h===null||typeof h!="object")return h;if(h.__yson_type==="Int"&&typeof h.__yson_data=="number")return{type:"Int",value:h.__yson_data};if(h.__yson_type==="Long"&&typeof h.__yson_data=="number")return{type:"Long",value:h.__yson_data};if(h.__yson_type==="Date"&&typeof h.__yson_data=="string")return{type:"Date",value:h.__yson_data};if(h.__yson_type==="BinData"&&typeof h.__yson_data=="string")return{type:"BinData",value:h.__yson_data};if(h.__yson_type==="Counter"&&typeof h.__yson_data=="object"){const f=yl(h.__yson_data);if(typeof f=="object"&&f!==null&&"type"in f&&(f.type==="Int"||f.type==="Long"))return{type:"Counter",value:f};throw new Ee(ve.ErrInvalidArgument,"Counter must contain Int or Long")}if(h.__yson_type==="Text"&&Array.isArray(h.__yson_data))return{type:"Text",nodes:h.__yson_data.map(f=>Nn(f))};if(h.__yson_type==="Tree"&&typeof h.__yson_data=="object")return{type:"Tree",root:Ip(h.__yson_data)};if(Array.isArray(h))return h.map(f=>yl(f));const o={};for(const[f,v]of Object.entries(h))o[f]=yl(v);return o}function Nn(h){if(typeof h!="object"||h===null||typeof h.val!="string")throw new Ee(ve.ErrInvalidArgument,"invalid text node format");const o={val:h.val};return h.attrs&&typeof h.attrs=="object"&&(o.attrs=h.attrs),o}function Ip(h){if(typeof h!="object"||h===null||typeof h.type!="string")throw new Ee(ve.ErrInvalidArgument,"invalid tree node format");const o={type:h.type};return h.type==="text"&&typeof h.value=="string"?(o.value=h.value,o):(h.attrs&&typeof h.attrs=="object"&&(o.attrs=h.attrs),Array.isArray(h.children)&&(o.children=h.children.map(f=>Ip(f))),o)}function Nr(h){return h.nodes.map(o=>o.val).join("")}function eA(h){return Op(h.root)}function Op(h){const o=h.attrs?Object.entries(h.attrs).map(([v,A])=>` ${v}="${Dp(A)}"`).join(""):"";if(h.type==="text"&&h.value!==void 0)return`<${h.type}${o}>${Dp(h.value)}</${h.type}>`;if(!h.children||h.children.length===0)return`<${h.type}${o} />`;const f=h.children.map(v=>Op(v)).join("");return`<${h.type}${o}>${f}</${h.type}>`}function Dp(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Mp=Object.freeze(Object.defineProperty({__proto__:null,isBinData:v0,isCounter:Yx,isDate:vl,isInt:yc,isLong:qf,isObject:Q1,isText:m0,isTree:_p,parse:qx,textToString:Nr,treeToXML:eA},Symbol.toStringTag,{value:"Module"}));wi.Int,wi.Long,typeof globalThis<"u"&&(globalThis.yorkie={Client:Np,Document:ya,Primitive:Vn,Text:Wf,Counter:a0,Tree:Ap,Channel:Fo,ChannelEventType:Lo,YSON:Mp,LogLevel:jr,setLogLevel:zx,IntType:wi.Int,LongType:wi.Long});const xc={name:"@yorkie-js/react",version:"0.6.47"},Pp=a.createContext({client:void 0,loading:!0,error:void 0});function Xx(h){const[o,f]=a.useState(void 0),[v,A]=a.useState(!0),[_,F]=a.useState(void 0),[V,Y]=a.useState(!1);return a.useEffect(()=>{Y(!0)},[]),a.useEffect(()=>{A(!0),F(void 0);async function te(){if(V)try{const ce=new Np(h);await ce.activate(),f(ce)}catch(ce){F(ce instanceof Error?ce:new Error("Failed to activate client"))}finally{A(!1)}}return te(),()=>{o!=null&&o.isActive()&&o.deactivate({keepalive:!0})}},[h.apiKey,h.rpcAddr,V]),{client:o,loading:v,error:_}}const Zx=({children:h,...o})=>{const f=a.useMemo(()=>({userAgent:xc.name+"/"+xc.version,...o}),[o.apiKey,o.rpcAddr]),{client:v,loading:A,error:_}=Xx(f);return i.jsx(Pp.Provider,{value:{client:v,loading:A,error:_},children:h})},Jx=()=>{const h=a.useContext(Pp);if(!h)throw new Error("useYorkie must be used under YorkieProvider");return{client:h.client,loading:h.loading,error:h.error}};function y0(h){const o=new Set;let f=h;const v=()=>{o.forEach(Y=>Y(f))};return{subscribe:Y=>(o.add(Y),()=>o.delete(Y)),getSnapshot:()=>f,setState:Y=>{const te=f;f=typeof Y=="function"?Y(te):Y,te!==f&&v()},destroy:()=>{o.clear()}}}const Qx=h=>y0(h);function ko(h,o,f=Object.is){const v=a.useRef(o),A=a.useRef(f),_=a.useRef(void 0);v.current=o,A.current=f;const F=()=>{const V=h.getSnapshot(),Y=v.current?v.current(V):V;return _.current!==void 0&&A.current(_.current,Y)?_.current:(_.current=Y,Y)};return a.useSyncExternalStore(h.subscribe,F,F)}function Ss(h){return h!=null&&typeof h[Symbol.iterator]=="function"}function x0(h){return"entries"in h&&typeof h.entries=="function"}function b0(h,o){const f=h instanceof Map?h:new Map(h.entries()),v=o instanceof Map?o:new Map(o.entries());if(f.size!==v.size)return!1;for(const[A,_]of f)if(!v.has(A)||!Object.is(_,v.get(A)))return!1;return!0}function rA(h,o){const f=h[Symbol.iterator](),v=o[Symbol.iterator]();let A=f.next(),_=v.next();for(;!A.done&&!_.done;){if(!Object.is(A.value,_.value))return!1;A=f.next(),_=v.next()}return A.done===_.done}function iA(h,o){const f=Object.keys(h),v=Object.keys(o);if(f.length!==v.length)return!1;for(const A of f)if(!Object.prototype.hasOwnProperty.call(o,A)||!Object.is(h[A],o[A]))return!1;return!0}function Lp(h,o){if(Object.is(h,o))return!0;if(typeof h!="object"||h===null||typeof o!="object"||o===null||Object.getPrototypeOf(h)!==Object.getPrototypeOf(o))return!1;const f=Ss(h),v=Ss(o);return f!==v?!1:f&&v?x0(h)&&x0(o)?b0(h,o):rA(h,o):iA(h,o)}function eb(h,o,f,v,A,_,F,V){const Y=a.useRef(A),te=a.useRef(_),[ce,Re]=a.useState(!1);a.useEffect(()=>{Re(!0)},[]),a.useEffect(()=>{if(f){V.setState(We=>({...We,loading:!1,error:f}));return}if(!h||o||!ce){V.setState(We=>({...We,loading:!0}));return}V.setState(We=>({...We,loading:!0,error:void 0}));const Be=new ya(v,{enableDevtools:F}),Te=[];Te.push(Be.subscribe(()=>{V.setState(We=>({...We,root:Be.getRoot()}))})),Te.push(Be.subscribe("presence",()=>{V.setState(We=>({...We,presences:Be.getPresences()}))})),Te.push(Be.subscribe("connection",We=>{V.setState(ot=>({...ot,connection:We.value}))}));async function Ye(){try{await(h==null?void 0:h.attach(Be,{initialRoot:Y.current,initialPresence:te.current}));const We=ot=>{try{Be.update(ot)}catch(wt){V.setState(fn=>({...fn,error:wt instanceof Error?wt:new Error("Failed to update document")}))}};V.setState(ot=>({...ot,doc:Be,root:Be.getRoot(),presences:Be.getPresences(),update:We}))}catch(We){V.setState(ot=>({...ot,error:We instanceof Error?We:new Error("Failed to attach document")}))}finally{V.setState(We=>({...We,loading:!1}))}}return Ye(),()=>{h&&h.has(v)&&h.detach(Be);for(const We of Te)We()}},[h,o,f,v,V,ce])}const hi=a.createContext(void 0),S0=({docKey:h,initialRoot:o={},initialPresence:f={},enableDevtools:v=!1,children:A})=>{const{client:_,loading:F,error:V}=Jx(),Y=a.useRef(void 0);Y.current||(Y.current=Qx({doc:void 0,root:o,presences:[],connection:ml.Disconnected,update:()=>{},loading:!0,error:void 0}));const te=Y.current;return eb(_,F,V,h,o,f,v,te),i.jsx(hi.Provider,{value:te,children:A})};function tb(){const h=a.useContext(hi);if(!h)throw new Error("useDocument must be used within a DocumentProvider");return ko(h)}const nb=()=>(h,o=Lp)=>{const f=a.useContext(hi);if(!f)throw new Error("useDocument must be used within a DocumentProvider");return ko(f,h,o)},Kf=()=>{const h=bc("useRoot");return{root:ko(h,f=>f.root)}},Hi=()=>{const h=bc("usePresences");return ko(h,o=>o.presences)},rb=()=>{const h=bc("useConnection");return ko(h,o=>o.connection)},bc=h=>{const o=a.useContext(hi);if(!o)throw new Error(`${h} must be used within a DocumentProvider`);return o};function As(h,o,f){const v=a.useRef(void 0);v.current||(v.current=Qx({doc:void 0,root:(f==null?void 0:f.initialRoot)??{},presences:[],connection:ml.Disconnected,update:()=>{},loading:!0,error:void 0}));const A=v.current,_=a.useMemo(()=>({apiKey:h,userAgent:xc.name+"/"+xc.version,...f}),[h,f]),{client:F,loading:V,error:Y}=Xx(_);eb(F,V,Y,o,(f==null?void 0:f.initialRoot)??{},(f==null?void 0:f.initialPresence)??{},(f==null?void 0:f.enableDevtools)??!1,A);const te=ko(A);return{root:te.root,presences:te.presences,connection:te.connection,update:te.update,loading:te.loading,error:te.error}}function oA(h){return y0(h)}const ib=a.createContext(void 0);function Sc(h,o,f,v,A,_){const F=a.useRef(void 0),[V,Y]=a.useState(!1);a.useEffect(()=>{Y(!0)},[]),a.useEffect(()=>{if(!V||o||f||!h){f&&_.setState(Re=>({...Re,error:f,loading:!1}));return}let te;async function ce(){if(!(!h||!h.isActive())){_.setState(Re=>({...Re,loading:!0,error:void 0}));try{const Re=new Fo(v);await h.attach(Re,{isRealtime:A}),F.current=Re,te=Re.subscribe(()=>{_.setState(Be=>({...Be,sessionCount:Re.getSessionCount()}))}),_.setState({channel:Re,sessionCount:Re.getSessionCount(),loading:!1,error:void 0})}catch(Re){_.setState(Be=>({...Be,loading:!1,error:Re instanceof Error?Re:new Error("Failed to attach channel")}))}}}return ce(),()=>{te&&te();async function Re(){if(F.current&&(h!=null&&h.isActive()))try{await h.detach(F.current)}catch(Be){console.error("Failed to detach channel:",Be)}}Re()}},[h,o,f,v,A,V])}const ob=({children:h,channelKey:o,isRealtime:f=!0})=>{const{client:v,loading:A,error:_}=Jx(),F=a.useRef(void 0);F.current||(F.current=oA({channel:void 0,sessionCount:0,loading:!0,error:void 0}));const V=F.current;return Sc(v,A,_,o,f,V),i.jsx(ib.Provider,{value:V,children:h})},sb=h=>{const o=a.useContext(ib);if(!o)throw new Error(`${h} must be used within ChannelProvider`);return o},sA=()=>{const h=sb("useChannel"),o=ko(h,A=>A.sessionCount),f=ko(h,A=>A.loading),v=ko(h,A=>A.error);return{sessionCount:o,loading:f,error:v}},aA=()=>{const h=sb("useChannelSessionCount");return ko(h,o=>o.sessionCount)};r.ChannelProvider=ob,r.DocumentProvider=S0,r.YorkieProvider=Zx,r.createDocumentSelector=nb,r.shallowEqual=Lp,r.useChannel=sA,r.useChannelSessionCount=aA,r.useConnection=rb,r.useDocument=tb,r.usePresences=Hi,r.useRoot=Kf,r.useYorkieDoc=As,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})})}(av,av.exports)),av.exports}var La=P$();const Ou=()=>O.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]","aria-live":"polite",children:[O.jsx(J3,{className:"h-8 w-8 animate-spin text-primary"}),O.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading..."})]}),$A=768;function L$(){const[e,t]=P.useState(void 0);return P.useEffect(()=>{const n=window.matchMedia(`(max-width: ${$A-1}px)`),r=()=>{t(window.innerWidth<$A)};return n.addEventListener("change",r),t(window.innerWidth<$A),()=>n.removeEventListener("change",r)},[]),!!e}var F$="Separator",iN="horizontal",k$=["horizontal","vertical"],CL=P.forwardRef((e,t)=>{const{decorative:n,orientation:r=iN,...i}=e,a=B$(r)?r:iN,u=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return O.jsx(Yt.div,{"data-orientation":a,...u,...i,ref:t})});CL.displayName=F$;function B$(e){return k$.includes(e)}var j$=CL;function Gp({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return O.jsx(j$,{"data-slot":"separator-root",decorative:n,orientation:t,className:St("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function z$({...e}){return O.jsx(aP,{"data-slot":"sheet",...e})}function U$({...e}){return O.jsx(lP,{"data-slot":"sheet-portal",...e})}function V$({className:e,...t}){return O.jsx(uP,{"data-slot":"sheet-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function G$({className:e,children:t,side:n="right",...r}){return O.jsxs(U$,{children:[O.jsx(V$,{}),O.jsxs(cP,{"data-slot":"sheet-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,O.jsxs(hP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[O.jsx(nM,{className:"size-4"}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function $$({className:e,...t}){return O.jsx("div",{"data-slot":"sheet-header",className:St("flex flex-col gap-1.5 p-4",e),...t})}function W$({className:e,...t}){return O.jsx(fP,{"data-slot":"sheet-title",className:St("text-foreground font-semibold",e),...t})}function H$({className:e,...t}){return O.jsx(dP,{"data-slot":"sheet-description",className:St("text-muted-foreground text-sm",e),...t})}var Y$="VisuallyHidden",V2=P.forwardRef((e,t)=>O.jsx(Yt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));V2.displayName=Y$;var q$=V2,[kS,UZ]=ja("Tooltip",[Rg]),BS=Rg(),RL="TooltipProvider",K$=700,yC="tooltip.open",[X$,G2]=kS(RL),TL=e=>{const{__scopeTooltip:t,delayDuration:n=K$,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,l=P.useRef(!0),u=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const g=c.current;return()=>window.clearTimeout(g)},[]),O.jsx(X$,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:P.useCallback(g=>{u.current=g},[]),disableHoverableContent:i,children:a})};TL.displayName=RL;var jS="Tooltip",[Z$,qv]=kS(jS),NL=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:l,delayDuration:u}=e,c=G2(jS,e.__scopeTooltip),g=BS(t),[p,m]=P.useState(null),x=Ia(),b=P.useRef(0),E=l??c.disableHoverableContent,C=u??c.delayDuration,w=P.useRef(!1),[R=!1,I]=hh({prop:r,defaultProp:i,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(yC))):c.onClose(),a==null||a(j)}}),N=P.useMemo(()=>R?w.current?"delayed-open":"instant-open":"closed",[R]),D=P.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w.current=!1,I(!0)},[I]),L=P.useCallback(()=>{window.clearTimeout(b.current),b.current=0,I(!1)},[I]),k=P.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,I(!0),b.current=0},C)},[C,I]);return P.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),O.jsx(_2,{...g,children:O.jsx(Z$,{scope:t,contentId:x,open:R,stateAttribute:N,trigger:p,onTriggerChange:m,onTriggerEnter:P.useCallback(()=>{c.isOpenDelayedRef.current?k():D()},[c.isOpenDelayedRef,k,D]),onTriggerLeave:P.useCallback(()=>{E?L():(window.clearTimeout(b.current),b.current=0)},[L,E]),onOpen:D,onClose:L,disableHoverableContent:E,children:n})})};NL.displayName=jS;var xC="TooltipTrigger",_L=P.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=qv(xC,n),a=G2(xC,n),l=BS(n),u=P.useRef(null),c=Sn(t,u,i.onTriggerChange),g=P.useRef(!1),p=P.useRef(!1),m=P.useCallback(()=>g.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),O.jsx(I2,{asChild:!0,...l,children:O.jsx(Yt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:dt(e.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{i.open&&i.onClose(),g.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:dt(e.onFocus,()=>{g.current||i.onOpen()}),onBlur:dt(e.onBlur,i.onClose),onClick:dt(e.onClick,i.onClose)})})});_L.displayName=xC;var $2="TooltipPortal",[J$,Q$]=kS($2,{forceMount:void 0}),IL=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,a=qv($2,t);return O.jsx(J$,{scope:t,forceMount:n,children:O.jsx(za,{present:n||a.open,children:O.jsx(jv,{asChild:!0,container:i,children:r})})})};IL.displayName=$2;var dg="TooltipContent",OL=P.forwardRef((e,t)=>{const n=Q$(dg,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,l=qv(dg,e.__scopeTooltip);return O.jsx(za,{present:r||l.open,children:l.disableHoverableContent?O.jsx(DL,{side:i,...a,ref:t}):O.jsx(e8,{side:i,...a,ref:t})})}),e8=P.forwardRef((e,t)=>{const n=qv(dg,e.__scopeTooltip),r=G2(dg,e.__scopeTooltip),i=P.useRef(null),a=Sn(t,i),[l,u]=P.useState(null),{trigger:c,onClose:g}=n,p=i.current,{onPointerInTransitChange:m}=r,x=P.useCallback(()=>{u(null),m(!1)},[m]),b=P.useCallback((E,C)=>{const w=E.currentTarget,R={x:E.clientX,y:E.clientY},I=i8(R,w.getBoundingClientRect()),N=o8(R,I),D=s8(C.getBoundingClientRect()),L=l8([...N,...D]);u(L),m(!0)},[m]);return P.useEffect(()=>()=>x(),[x]),P.useEffect(()=>{if(c&&p){const E=w=>b(w,p),C=w=>b(w,c);return c.addEventListener("pointerleave",E),p.addEventListener("pointerleave",C),()=>{c.removeEventListener("pointerleave",E),p.removeEventListener("pointerleave",C)}}},[c,p,b,x]),P.useEffect(()=>{if(l){const E=C=>{const w=C.target,R={x:C.clientX,y:C.clientY},I=(c==null?void 0:c.contains(w))||(p==null?void 0:p.contains(w)),N=!a8(R,l);I?x():N&&(x(),g())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[c,p,l,g,x]),O.jsx(DL,{...e,ref:a})}),[t8,n8]=kS(jS,{isInside:!1}),r8=_U("TooltipContent"),DL=P.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=e,c=qv(dg,n),g=BS(n),{onClose:p}=c;return P.useEffect(()=>(document.addEventListener(yC,p),()=>document.removeEventListener(yC,p)),[p]),P.useEffect(()=>{if(c.trigger){const m=x=>{const b=x.target;b!=null&&b.contains(c.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,p]),O.jsx(Bv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:O.jsxs(O2,{"data-state":c.stateAttribute,...g,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[O.jsx(r8,{children:r}),O.jsx(t8,{scope:n,isInside:!0,children:O.jsx(q$,{id:c.contentId,role:"tooltip",children:i||r})})]})})});OL.displayName=dg;var ML="TooltipArrow",PL=P.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=BS(n);return n8(ML,n).isInside?null:O.jsx(D2,{...i,...r,ref:t})});PL.displayName=ML;function i8(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function o8(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function s8(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function a8(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const u=t[a].x,c=t[a].y,g=t[l].x,p=t[l].y;c>r!=p>r&&n<(g-u)*(r-c)/(p-c)+u&&(i=!i)}return i}function l8(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),u8(t)}function u8(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var c8=TL,f8=NL,d8=_L,h8=IL,p8=OL,g8=PL;function W2({delayDuration:e=0,...t}){return O.jsx(c8,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Zr({...e}){return O.jsx(W2,{children:O.jsx(f8,{"data-slot":"tooltip",...e})})}function Jr({...e}){return O.jsx(d8,{"data-slot":"tooltip-trigger",...e})}function Qr({className:e,sideOffset:t=0,children:n,...r}){return O.jsx(h8,{children:O.jsxs(p8,{"data-slot":"tooltip-content",sideOffset:t,className:St("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,O.jsx(g8,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const m8="sidebar_state",v8=60*60*24*7,y8="16rem",x8="18rem",b8="3rem",S8="b",LL=P.createContext(null);function zS(){const e=P.useContext(LL);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function FL({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:i,children:a,...l}){const u=L$(),[c,g]=P.useState(!1),[p,m]=P.useState(e),x=t??p,b=P.useCallback(R=>{const I=typeof R=="function"?R(x):R;n?n(I):m(I),document.cookie=`${m8}=${I}; path=/; max-age=${v8}`},[n,x]),E=P.useCallback(()=>u?g(R=>!R):b(R=>!R),[u,b,g]);P.useEffect(()=>{const R=I=>{I.key===S8&&(I.metaKey||I.ctrlKey)&&(I.preventDefault(),E())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[E]);const C=x?"expanded":"collapsed",w=P.useMemo(()=>({state:C,open:x,setOpen:b,isMobile:u,openMobile:c,setOpenMobile:g,toggleSidebar:E}),[C,x,b,u,c,g,E]);return O.jsx(LL.Provider,{value:w,children:O.jsx(W2,{delayDuration:0,children:O.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":y8,"--sidebar-width-icon":b8,...i},className:St("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...l,children:a})})})}function A8({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:i,...a}){const{isMobile:l,state:u,openMobile:c,setOpenMobile:g}=zS();return n==="none"?O.jsx("div",{"data-slot":"sidebar",className:St("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...a,children:i}):l?O.jsx(z$,{open:c,onOpenChange:g,...a,children:O.jsxs(G$,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":x8},side:e,children:[O.jsxs($$,{className:"sr-only",children:[O.jsx(W$,{children:"Sidebar"}),O.jsx(H$,{children:"Displays the mobile sidebar."})]}),O.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):O.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[O.jsx("div",{"data-slot":"sidebar-gap",className:St("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),O.jsx("div",{"data-slot":"sidebar-container",className:St("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:O.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function E8({className:e,onClick:t,...n}){const{toggleSidebar:r}=zS();return O.jsxs(nr,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:St("size-7",e),onClick:i=>{t==null||t(i),r()},...n,children:[O.jsx(U5,{}),O.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function kL({className:e,...t}){return O.jsx("main",{"data-slot":"sidebar-inset",className:St("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function w8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:St("flex flex-col gap-2 p-2",e),...t})}function C8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:St("flex flex-col gap-2 p-2",e),...t})}function R8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:St("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function BL({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:St("relative flex w-full min-w-0 flex-col p-2",e),...t})}function jL({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:St("w-full text-sm",e),...t})}function US({className:e,...t}){return O.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:St("flex w-full min-w-0 flex-col gap-1",e),...t})}function VS({className:e,...t}){return O.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:St("group/menu-item relative",e),...t})}const T8=RS("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function GS({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:i,className:a,...l}){const u=e?o2:"button",{isMobile:c,state:g}=zS(),p=O.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:St(T8({variant:n,size:r}),a),...l});return i?(typeof i=="string"&&(i={children:i}),O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:p}),O.jsx(Qr,{side:"right",align:"center",hidden:g!=="collapsed"||c,...i})]})):p}function N8({items:e}){const t=ka(),n=P.useCallback(r=>{const i=t.pathname;return i===r||i.startsWith(r+"/")},[t.pathname]);return O.jsx(BL,{children:O.jsx(jL,{className:"flex flex-col gap-2",children:O.jsx(US,{children:e.map(r=>O.jsx(VS,{children:O.jsx(GS,{tooltip:r.title,isActive:n(r.url),children:O.jsxs(bg,{to:r.url,className:"flex items-center gap-2",children:[r.icon&&O.jsx(r.icon,{}),O.jsx("span",{children:r.title})]})})},r.title))})})})}function _8({items:e,...t}){return O.jsx(BL,{...t,children:O.jsx(jL,{children:O.jsx(US,{children:e.map(n=>O.jsx(VS,{children:O.jsx(GS,{asChild:!0,children:O.jsxs(bg,{to:n.url,className:"flex items-center gap-2",children:[n.icon&&O.jsx(n.icon,{}),O.jsx("span",{children:n.title})]})})},n.title))})})})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var I8={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=(e,t,n,r)=>{const i=P.forwardRef(({color:a="currentColor",size:l=24,stroke:u=2,title:c,className:g,children:p,...m},x)=>P.createElement("svg",{ref:x,...I8[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,g].join(" "),strokeWidth:u,stroke:a,...m},[c&&P.createElement("title",{key:"svg-title"},c),...r.map(([b,E])=>P.createElement(b,E)),...Array.isArray(p)?p:[p]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zL=mn("outline","abc","IconAbc",[["path",{d:"M3 16v-6a2 2 0 1 1 4 0v6",key:"svg-0"}],["path",{d:"M3 13h4",key:"svg-1"}],["path",{d:"M10 8v6a2 2 0 1 0 4 0v-1a2 2 0 1 0 -4 0v1",key:"svg-2"}],["path",{d:"M20.732 12a2 2 0 0 0 -3.732 1v1a2 2 0 0 0 3.726 1.01",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var UL=mn("outline","align-box-bottom-center","IconAlignBoxBottomCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 15v2",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M15 13v4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VL=mn("outline","align-box-center-middle","IconAlignBoxCenterMiddle",[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M11 15h2",key:"svg-1"}],["path",{d:"M9 12h6",key:"svg-2"}],["path",{d:"M10 9h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GL=mn("outline","align-box-top-center","IconAlignBoxTopCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 9v-2",key:"svg-1"}],["path",{d:"M12 13v-6",key:"svg-2"}],["path",{d:"M15 11v-4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $L=mn("outline","align-center","IconAlignCenter",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M8 12l8 0",key:"svg-1"}],["path",{d:"M6 18l12 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WL=mn("outline","align-left","IconAlignLeft",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l10 0",key:"svg-1"}],["path",{d:"M4 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HL=mn("outline","align-right","IconAlignRight",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M10 12l10 0",key:"svg-1"}],["path",{d:"M6 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var O8=mn("outline","arrow-back-up","IconArrowBackUp",[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var D8=mn("outline","arrow-forward-up","IconArrowForwardUp",[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var M8=mn("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WA=mn("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var P8=mn("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bC=mn("outline","currency-dollar","IconCurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kv=mn("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oN=mn("outline","decimal","IconDecimal",[["path",{d:"M17 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-0"}],["path",{d:"M10 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-1"}],["path",{d:"M5 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var L8=mn("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sN=mn("outline","droplet-off","IconDropletOff",[["path",{d:"M18.963 14.938a6.54 6.54 0 0 0 -.899 -4.06l-4.89 -7.26c-.42 -.626 -1.287 -.804 -1.936 -.398a1.376 1.376 0 0 0 -.41 .397l-1.282 1.9m-1.625 2.415l-1.986 2.946c-1.695 2.837 -1.035 6.44 1.567 8.545c2.602 2.105 6.395 2.105 8.996 0a6.83 6.83 0 0 0 1.376 -1.499",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YL=mn("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qL=mn("outline","hash","IconHash",[["path",{d:"M5 9l14 0",key:"svg-0"}],["path",{d:"M5 15l14 0",key:"svg-1"}],["path",{d:"M11 4l-4 16",key:"svg-2"}],["path",{d:"M17 4l-4 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var F8=mn("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var k8=mn("outline","logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var B8=mn("outline","paint","IconPaint",[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M19 6h1a2 2 0 0 1 2 2a5 5 0 0 1 -5 5l-5 0v2",key:"svg-1"}],["path",{d:"M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var SC=mn("outline","percentage","IconPercentage",[["path",{d:"M17 17m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 7m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var j8=mn("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KL=mn("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XL=mn("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var z8=mn("outline","share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var U8=mn("outline","strikethrough","IconStrikethrough",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var V8=mn("outline","table-alias","IconTableAlias",[["path",{d:"M3 12v-7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-7",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v10",key:"svg-2"}],["path",{d:"M2 17a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-4z",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZL=mn("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G8=mn("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $8=mn("outline","typography","IconTypography",[["path",{d:"M4 20l3 0",key:"svg-0"}],["path",{d:"M14 20l7 0",key:"svg-1"}],["path",{d:"M6.9 15l6.9 0",key:"svg-2"}],["path",{d:"M10.2 6.3l5.8 13.7",key:"svg-3"}],["path",{d:"M5 20l6 -16l2 0l7 16",key:"svg-4"}]]),H2="Avatar",[W8,VZ]=ja(H2),[H8,JL]=W8(H2),QL=P.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=P.useState("idle");return O.jsx(H8,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:O.jsx(Yt.span,{...r,ref:t})})});QL.displayName=H2;var eF="AvatarImage",tF=P.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,l=JL(eF,n),u=Y8(r,a),c=yo(g=>{i(g),l.onImageLoadingStatusChange(g)});return Pr(()=>{u!=="idle"&&c(u)},[u,c]),u==="loaded"?O.jsx(Yt.img,{...a,ref:t,src:r}):null});tF.displayName=eF;var nF="AvatarFallback",rF=P.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=JL(nF,n),[l,u]=P.useState(r===void 0);return P.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(c)}},[r]),l&&a.imageLoadingStatus!=="loaded"?O.jsx(Yt.span,{...i,ref:t}):null});rF.displayName=nF;function aN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Y8(e,{referrerPolicy:t,crossOrigin:n}){const r=K8(),i=P.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[l,u]=P.useState(()=>aN(a,e));return Pr(()=>{u(aN(a,e))},[a,e]),Pr(()=>{const c=m=>()=>{u(m)};if(!a)return;const g=c("loaded"),p=c("error");return a.addEventListener("load",g),a.addEventListener("error",p),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",g),a.removeEventListener("error",p)}},[a,n,t]),l}function q8(){return()=>{}}function K8(){return P.useSyncExternalStore(q8,()=>!0,()=>!1)}var X8=QL,Z8=tF,J8=rF;function dS({className:e,...t}){return O.jsx(X8,{"data-slot":"avatar",className:St("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function AC({className:e,...t}){return O.jsx(Z8,{"data-slot":"avatar-image",className:St("aspect-square size-full",e),...t})}function hS({className:e,...t}){return O.jsx(J8,{"data-slot":"avatar-fallback",className:St("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function Q8({user:e}){const{isMobile:t}=zS(),n=async()=>{await mM()};return O.jsx(US,{children:O.jsx(VS,{children:O.jsxs(Ra,{children:[O.jsx(Ta,{asChild:!0,children:O.jsxs(GS,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground cursor-pointer",children:[O.jsxs(dS,{className:"h-8 w-8 rounded-lg",children:[O.jsx(AC,{src:e.photo,alt:e.username}),O.jsx(hS,{className:"rounded-lg",children:"CN"})]}),O.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[O.jsx("span",{className:"truncate font-medium",children:e.username}),O.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]}),O.jsx(L8,{className:"ml-auto size-4"})]})}),O.jsxs(Na,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[O.jsx(N$,{className:"p-0 font-normal",children:O.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[O.jsxs(dS,{className:"h-8 w-8 rounded-lg",children:[O.jsx(AC,{src:e.photo,alt:e.username}),O.jsx(hS,{className:"rounded-lg",children:"CN"})]}),O.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[O.jsx("span",{className:"truncate font-medium",children:e.username}),O.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]})]})}),O.jsx(U2,{}),O.jsxs(br,{onClick:n,className:"cursor-pointer",children:[O.jsx(k8,{}),"Log out"]})]})]})})})}function iF({items:e,...t}){const{data:n,isLoading:r}=Ba({queryKey:["me"],queryFn:vh,retry:!1});return r?null:O.jsxs(A8,{collapsible:"offcanvas",...t,children:[O.jsx(w8,{children:O.jsx(US,{children:O.jsx(VS,{children:O.jsx(GS,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5",children:O.jsxs(bg,{to:"/",children:[O.jsx(Z3,{className:"!size-5"}),O.jsx("span",{className:"text-base font-semibold",children:"Wafflebase"})]})})})})}),O.jsxs(R8,{children:[O.jsx(N8,{items:e.main}),O.jsx(_8,{items:e.secondary,className:"mt-auto"})]}),O.jsx(C8,{children:O.jsx(Q8,{user:n})})]})}function oF({title:e,editable:t=!1,onRename:n,children:r}){const[i,a]=P.useState(!1),[l,u]=P.useState(e),c=P.useRef(null);P.useEffect(()=>{u(e)},[e]),P.useEffect(()=>{i&&c.current&&(c.current.focus(),c.current.select())},[i]);const g=P.useCallback(()=>{const p=l.trim();p&&p!==e&&n&&n(p),a(!1)},[l,e,n]);return O.jsx("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:O.jsxs("div",{className:"flex w-full items-center justify-between gap-1 px-4 lg:gap-2 lg:px-6 min-h-[3.5rem]",children:[O.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[O.jsx(E8,{className:"-ml-1"}),O.jsx(Gp,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),i?O.jsx("input",{ref:c,className:"text-base font-medium bg-transparent border-b border-primary outline-none px-1 min-w-[120px]",value:l,onChange:p=>u(p.target.value),onBlur:g,onKeyDown:p=>{p.key==="Enter"&&g(),p.key==="Escape"&&(u(e),a(!1))}}):O.jsx("h1",{className:`text-base font-medium ${t?"cursor-pointer hover:bg-muted/50 px-1 rounded transition-colors":""}`,onClick:()=>{t&&a(!0)},title:t?"Click to rename":void 0,children:e})]}),O.jsx("div",{className:"flex items-center min-w-0",children:r})]})})}function eW({className:e}){const{data:t}=Ba({queryKey:["me"],queryFn:vh,retry:!1}),r=La.usePresences().reduce((a,l)=>{const u=l.presence.username;return a.find(c=>c.presence.username===u)||a.push(l),a},[]),i=r.length;return O.jsx(W2,{children:O.jsx("div",{className:`flex items-center gap-2 min-h-[2.5rem] ${e}`,children:i>0?O.jsx(O.Fragment,{children:O.jsxs("div",{className:"flex items-center -space-x-2",children:[r.slice(0,4).map(a=>{var g,p;const l=(g=a.presence)==null?void 0:g.username,u=(p=a.presence)==null?void 0:p.photo,c=l===(t==null?void 0:t.username);return l?O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsxs("div",{className:"relative",children:[O.jsxs(dS,{className:"h-8 w-8 border-2 border-background",children:[u&&O.jsx(AC,{src:u,alt:l}),O.jsx(hS,{className:"text-xs",children:(l==null?void 0:l.slice(0,2).toUpperCase())||"??"})]}),O.jsx("div",{className:"absolute -bottom-1 -right-1",children:O.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 border-2 border-background"})})]})}),O.jsx(Qr,{children:O.jsxs("p",{children:[l||"Anonymous",c?" (You)":""]})})]},a.clientID):null}).filter(Boolean),i>4&&O.jsx(dS,{className:"w-8 border-2 border-background",children:O.jsxs(hS,{className:"text-xs bg-muted",children:["+",i-4]})})]})}):O.jsx("div",{className:"w-32 opacity-0"})})})}function lN(e,[t,n]){return Math.min(n,Math.max(t,e))}function sF(e){const t=P.useRef({value:e,previous:e});return P.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var tW=[" ","Enter","ArrowUp","ArrowDown"],nW=[" ","Enter"],Xv="Select",[$S,WS,rW]=y2(Xv),[Tg,GZ]=ja(Xv,[rW,Rg]),HS=Rg(),[iW,tf]=Tg(Xv),[oW,sW]=Tg(Xv),aF=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:u,onValueChange:c,dir:g,name:p,autoComplete:m,disabled:x,required:b,form:E}=e,C=HS(t),[w,R]=P.useState(null),[I,N]=P.useState(null),[D,L]=P.useState(!1),k=x2(g),[j=!1,B]=hh({prop:r,defaultProp:i,onChange:a}),[$,K]=hh({prop:l,defaultProp:u,onChange:c}),ne=P.useRef(null),re=w?E||!!w.closest("form"):!0,[Se,Me]=P.useState(new Set),Oe=Array.from(Se).map(ie=>ie.props.value).join(";");return O.jsx(_2,{...C,children:O.jsxs(iW,{required:b,scope:t,trigger:w,onTriggerChange:R,valueNode:I,onValueNodeChange:N,valueNodeHasChildren:D,onValueNodeHasChildrenChange:L,contentId:Ia(),value:$,onValueChange:K,open:j,onOpenChange:B,dir:k,triggerPointerDownPosRef:ne,disabled:x,children:[O.jsx($S.Provider,{scope:t,children:O.jsx(oW,{scope:e.__scopeSelect,onNativeOptionAdd:P.useCallback(ie=>{Me(Ae=>new Set(Ae).add(ie))},[]),onNativeOptionRemove:P.useCallback(ie=>{Me(Ae=>{const de=new Set(Ae);return de.delete(ie),de})},[]),children:n})}),re?O.jsxs(IF,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:m,value:$,onChange:ie=>K(ie.target.value),disabled:x,form:E,children:[$===void 0?O.jsx("option",{value:""}):null,Array.from(Se)]},Oe):null]})})};aF.displayName=Xv;var lF="SelectTrigger",uF=P.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=HS(n),l=tf(lF,n),u=l.disabled||r,c=Sn(t,l.onTriggerChange),g=WS(n),p=P.useRef("touch"),[m,x,b]=OF(C=>{const w=g().filter(N=>!N.disabled),R=w.find(N=>N.value===l.value),I=DF(w,C,R);I!==void 0&&l.onValueChange(I.value)}),E=C=>{u||(l.onOpenChange(!0),b()),C&&(l.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return O.jsx(I2,{asChild:!0,...a,children:O.jsx(Yt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":_F(l.value)?"":void 0,...i,ref:c,onClick:dt(i.onClick,C=>{C.currentTarget.focus(),p.current!=="mouse"&&E(C)}),onPointerDown:dt(i.onPointerDown,C=>{p.current=C.pointerType;const w=C.target;w.hasPointerCapture(C.pointerId)&&w.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(E(C),C.preventDefault())}),onKeyDown:dt(i.onKeyDown,C=>{const w=m.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&x(C.key),!(w&&C.key===" ")&&tW.includes(C.key)&&(E(),C.preventDefault())})})})});uF.displayName=lF;var cF="SelectValue",fF=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:l="",...u}=e,c=tf(cF,n),{onValueNodeHasChildrenChange:g}=c,p=a!==void 0,m=Sn(t,c.onValueNodeChange);return Pr(()=>{g(p)},[g,p]),O.jsx(Yt.span,{...u,ref:m,style:{pointerEvents:"none"},children:_F(c.value)?O.jsx(O.Fragment,{children:l}):a})});fF.displayName=cF;var aW="SelectIcon",dF=P.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return O.jsx(Yt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});dF.displayName=aW;var lW="SelectPortal",hF=e=>O.jsx(jv,{asChild:!0,...e});hF.displayName=lW;var mh="SelectContent",pF=P.forwardRef((e,t)=>{const n=tf(mh,e.__scopeSelect),[r,i]=P.useState();if(Pr(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?_a.createPortal(O.jsx(gF,{scope:e.__scopeSelect,children:O.jsx($S.Slot,{scope:e.__scopeSelect,children:O.jsx("div",{children:e.children})})}),a):null}return O.jsx(mF,{...e,ref:t})});pF.displayName=mh;var Cs=10,[gF,nf]=Tg(mh),uW="SelectContentImpl",cW=qc("SelectContent.RemoveScroll"),mF=P.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:c,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:E,hideWhenDetached:C,avoidCollisions:w,...R}=e,I=tf(mh,n),[N,D]=P.useState(null),[L,k]=P.useState(null),j=Sn(t,Q=>D(Q)),[B,$]=P.useState(null),[K,ne]=P.useState(null),re=WS(n),[Se,Me]=P.useState(!1),Oe=P.useRef(!1);P.useEffect(()=>{if(N)return h2(N)},[N]),d2();const ie=P.useCallback(Q=>{const[Z,...J]=re().map(xe=>xe.ref.current),[se]=J.slice(-1),ye=document.activeElement;for(const xe of Q)if(xe===ye||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===Z&&L&&(L.scrollTop=0),xe===se&&L&&(L.scrollTop=L.scrollHeight),xe==null||xe.focus(),document.activeElement!==ye))return},[re,L]),Ae=P.useCallback(()=>ie([B,N]),[ie,B,N]);P.useEffect(()=>{Se&&Ae()},[Se,Ae]);const{onOpenChange:de,triggerPointerDownPosRef:ue}=I;P.useEffect(()=>{if(N){let Q={x:0,y:0};const Z=se=>{var ye,xe;Q={x:Math.abs(Math.round(se.pageX)-(((ye=ue.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(se.pageY)-(((xe=ue.current)==null?void 0:xe.y)??0))}},J=se=>{Q.x<=10&&Q.y<=10?se.preventDefault():N.contains(se.target)||de(!1),document.removeEventListener("pointermove",Z),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",J,{capture:!0})}}},[N,de,ue]),P.useEffect(()=>{const Q=()=>de(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[de]);const[X,oe]=OF(Q=>{const Z=re().filter(ye=>!ye.disabled),J=Z.find(ye=>ye.ref.current===document.activeElement),se=DF(Z,Q,J);se&&setTimeout(()=>se.ref.current.focus())}),he=P.useCallback((Q,Z,J)=>{const se=!Oe.current&&!J;(I.value!==void 0&&I.value===Z||se)&&($(Q),se&&(Oe.current=!0))},[I.value]),z=P.useCallback(()=>N==null?void 0:N.focus(),[N]),U=P.useCallback((Q,Z,J)=>{const se=!Oe.current&&!J;(I.value!==void 0&&I.value===Z||se)&&ne(Q)},[I.value]),G=r==="popper"?EC:vF,H=G===EC?{side:u,sideOffset:c,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:E,hideWhenDetached:C,avoidCollisions:w}:{};return O.jsx(gF,{scope:n,content:N,viewport:L,onViewportChange:k,itemRefCallback:he,selectedItem:B,onItemLeave:z,itemTextRefCallback:U,focusSelectedItem:Ae,selectedItemText:K,position:r,isPositioned:Se,searchRef:X,children:O.jsx(IS,{as:cW,allowPinchZoom:!0,children:O.jsx(NS,{asChild:!0,trapped:I.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:dt(i,Q=>{var Z;(Z=I.trigger)==null||Z.focus({preventScroll:!0}),Q.preventDefault()}),children:O.jsx(Bv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:O.jsx(G,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:Q=>Q.preventDefault(),...R,...H,onPlaced:()=>Me(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:dt(R.onKeyDown,Q=>{const Z=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!Z&&Q.key.length===1&&oe(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let se=re().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ye=Q.target,xe=se.indexOf(ye);se=se.slice(xe+1)}setTimeout(()=>ie(se)),Q.preventDefault()}})})})})})})});mF.displayName=uW;var fW="SelectItemAlignedPosition",vF=P.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=tf(mh,n),l=nf(mh,n),[u,c]=P.useState(null),[g,p]=P.useState(null),m=Sn(t,j=>p(j)),x=WS(n),b=P.useRef(!1),E=P.useRef(!0),{viewport:C,selectedItem:w,selectedItemText:R,focusSelectedItem:I}=l,N=P.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&g&&C&&w&&R){const j=a.trigger.getBoundingClientRect(),B=g.getBoundingClientRect(),$=a.valueNode.getBoundingClientRect(),K=R.getBoundingClientRect();if(a.dir!=="rtl"){const ye=K.left-B.left,xe=$.left-ye,ae=j.left-xe,le=j.width+ae,we=Math.max(le,B.width),Ie=window.innerWidth-Cs,je=lN(xe,[Cs,Math.max(Cs,Ie-we)]);u.style.minWidth=le+"px",u.style.left=je+"px"}else{const ye=B.right-K.right,xe=window.innerWidth-$.right-ye,ae=window.innerWidth-j.right-xe,le=j.width+ae,we=Math.max(le,B.width),Ie=window.innerWidth-Cs,je=lN(xe,[Cs,Math.max(Cs,Ie-we)]);u.style.minWidth=le+"px",u.style.right=je+"px"}const ne=x(),re=window.innerHeight-Cs*2,Se=C.scrollHeight,Me=window.getComputedStyle(g),Oe=parseInt(Me.borderTopWidth,10),ie=parseInt(Me.paddingTop,10),Ae=parseInt(Me.borderBottomWidth,10),de=parseInt(Me.paddingBottom,10),ue=Oe+ie+Se+de+Ae,X=Math.min(w.offsetHeight*5,ue),oe=window.getComputedStyle(C),he=parseInt(oe.paddingTop,10),z=parseInt(oe.paddingBottom,10),U=j.top+j.height/2-Cs,G=re-U,H=w.offsetHeight/2,Q=w.offsetTop+H,Z=Oe+ie+Q,J=ue-Z;if(Z<=U){const ye=ne.length>0&&w===ne[ne.length-1].ref.current;u.style.bottom="0px";const xe=g.clientHeight-C.offsetTop-C.offsetHeight,ae=Math.max(G,H+(ye?z:0)+xe+Ae),le=Z+ae;u.style.height=le+"px"}else{const ye=ne.length>0&&w===ne[0].ref.current;u.style.top="0px";const ae=Math.max(U,Oe+C.offsetTop+(ye?he:0)+H)+J;u.style.height=ae+"px",C.scrollTop=Z-U+C.offsetTop}u.style.margin=`${Cs}px 0`,u.style.minHeight=X+"px",u.style.maxHeight=re+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[x,a.trigger,a.valueNode,u,g,C,w,R,a.dir,r]);Pr(()=>N(),[N]);const[D,L]=P.useState();Pr(()=>{g&&L(window.getComputedStyle(g).zIndex)},[g]);const k=P.useCallback(j=>{j&&E.current===!0&&(N(),I==null||I(),E.current=!1)},[N,I]);return O.jsx(hW,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:k,children:O.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:O.jsx(Yt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});vF.displayName=fW;var dW="SelectPopperPosition",EC=P.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Cs,...a}=e,l=HS(n);return O.jsx(O2,{...l,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});EC.displayName=dW;var[hW,Y2]=Tg(mh,{}),wC="SelectViewport",yF=P.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=nf(wC,n),l=Y2(wC,n),u=Sn(t,a.onViewportChange),c=P.useRef(0);return O.jsxs(O.Fragment,{children:[O.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),O.jsx($S.Slot,{scope:n,children:O.jsx(Yt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:dt(i.onScroll,g=>{const p=g.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&m){const b=Math.abs(c.current-p.scrollTop);if(b>0){const E=window.innerHeight-Cs*2,C=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),R=Math.max(C,w);if(R<E){const I=R+b,N=Math.min(E,I),D=I-N;m.style.height=N+"px",m.style.bottom==="0px"&&(p.scrollTop=D>0?D:0,m.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});yF.displayName=wC;var xF="SelectGroup",[pW,gW]=Tg(xF),mW=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ia();return O.jsx(pW,{scope:n,id:i,children:O.jsx(Yt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});mW.displayName=xF;var bF="SelectLabel",vW=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=gW(bF,n);return O.jsx(Yt.div,{id:i.id,...r,ref:t})});vW.displayName=bF;var pS="SelectItem",[yW,SF]=Tg(pS),AF=P.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...l}=e,u=tf(pS,n),c=nf(pS,n),g=u.value===r,[p,m]=P.useState(a??""),[x,b]=P.useState(!1),E=Sn(t,I=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,I,r,i)}),C=Ia(),w=P.useRef("touch"),R=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return O.jsx(yW,{scope:n,value:r,disabled:i,textId:C,isSelected:g,onItemTextChange:P.useCallback(I=>{m(N=>N||((I==null?void 0:I.textContent)??"").trim())},[]),children:O.jsx($S.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:O.jsx(Yt.div,{role:"option","aria-labelledby":C,"data-highlighted":x?"":void 0,"aria-selected":g&&x,"data-state":g?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:E,onFocus:dt(l.onFocus,()=>b(!0)),onBlur:dt(l.onBlur,()=>b(!1)),onClick:dt(l.onClick,()=>{w.current!=="mouse"&&R()}),onPointerUp:dt(l.onPointerUp,()=>{w.current==="mouse"&&R()}),onPointerDown:dt(l.onPointerDown,I=>{w.current=I.pointerType}),onPointerMove:dt(l.onPointerMove,I=>{var N;w.current=I.pointerType,i?(N=c.onItemLeave)==null||N.call(c):w.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(l.onPointerLeave,I=>{var N;I.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:dt(l.onKeyDown,I=>{var D;((D=c.searchRef)==null?void 0:D.current)!==""&&I.key===" "||(nW.includes(I.key)&&R(),I.key===" "&&I.preventDefault())})})})})});AF.displayName=pS;var lv="SelectItemText",EF=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,l=tf(lv,n),u=nf(lv,n),c=SF(lv,n),g=sW(lv,n),[p,m]=P.useState(null),x=Sn(t,R=>m(R),c.onItemTextChange,R=>{var I;return(I=u.itemTextRefCallback)==null?void 0:I.call(u,R,c.value,c.disabled)}),b=p==null?void 0:p.textContent,E=P.useMemo(()=>O.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:C,onNativeOptionRemove:w}=g;return Pr(()=>(C(E),()=>w(E)),[C,w,E]),O.jsxs(O.Fragment,{children:[O.jsx(Yt.span,{id:c.textId,...a,ref:x}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?_a.createPortal(a.children,l.valueNode):null]})});EF.displayName=lv;var wF="SelectItemIndicator",CF=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return SF(wF,n).isSelected?O.jsx(Yt.span,{"aria-hidden":!0,...r,ref:t}):null});CF.displayName=wF;var CC="SelectScrollUpButton",RF=P.forwardRef((e,t)=>{const n=nf(CC,e.__scopeSelect),r=Y2(CC,e.__scopeSelect),[i,a]=P.useState(!1),l=Sn(t,r.onScrollButtonChange);return Pr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const g=c.scrollTop>0;a(g)};const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?O.jsx(NF,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=n;u&&c&&(u.scrollTop=u.scrollTop-c.offsetHeight)}}):null});RF.displayName=CC;var RC="SelectScrollDownButton",TF=P.forwardRef((e,t)=>{const n=nf(RC,e.__scopeSelect),r=Y2(RC,e.__scopeSelect),[i,a]=P.useState(!1),l=Sn(t,r.onScrollButtonChange);return Pr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const g=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<g;a(p)};const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?O.jsx(NF,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=n;u&&c&&(u.scrollTop=u.scrollTop+c.offsetHeight)}}):null});TF.displayName=RC;var NF=P.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=nf("SelectScrollButton",n),l=P.useRef(null),u=WS(n),c=P.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return P.useEffect(()=>()=>c(),[c]),Pr(()=>{var p;const g=u().find(m=>m.ref.current===document.activeElement);(p=g==null?void 0:g.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),O.jsx(Yt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:dt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:dt(i.onPointerMove,()=>{var g;(g=a.onItemLeave)==null||g.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:dt(i.onPointerLeave,()=>{c()})})}),xW="SelectSeparator",bW=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return O.jsx(Yt.div,{"aria-hidden":!0,...r,ref:t})});bW.displayName=xW;var TC="SelectArrow",SW=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=HS(n),a=tf(TC,n),l=nf(TC,n);return a.open&&l.position==="popper"?O.jsx(D2,{...i,...r,ref:t}):null});SW.displayName=TC;function _F(e){return e===""||e===void 0}var IF=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=P.useRef(null),a=Sn(t,i),l=sF(n);return P.useEffect(()=>{const u=i.current,c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==n&&p){const m=new Event("change",{bubbles:!0});p.call(u,n),u.dispatchEvent(m)}},[l,n]),O.jsx(V2,{asChild:!0,children:O.jsx("select",{...r,ref:a,defaultValue:n})})});IF.displayName="BubbleSelect";function OF(e){const t=yo(e),n=P.useRef(""),r=P.useRef(0),i=P.useCallback(l=>{const u=n.current+l;t(u),function c(g){n.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(u)},[t]),a=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function DF(e,t,n){const i=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=AW(e,Math.max(a,0));i.length===1&&(l=l.filter(g=>g!==n));const c=l.find(g=>g.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function AW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var EW=aF,wW=uF,CW=fF,RW=dF,TW=hF,NW=pF,_W=yF,IW=AF,OW=EF,DW=CF,MW=RF,PW=TF;function uN({...e}){return O.jsx(EW,{"data-slot":"select",...e})}function cN({...e}){return O.jsx(CW,{"data-slot":"select-value",...e})}function fN({className:e,size:t="default",children:n,...r}){return O.jsxs(wW,{"data-slot":"select-trigger","data-size":t,className:St("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,O.jsx(RW,{asChild:!0,children:O.jsx(K3,{className:"size-4 opacity-50"})})]})}function dN({className:e,children:t,position:n="popper",...r}){return O.jsx(TW,{children:O.jsxs(NW,{"data-slot":"select-content",className:St("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[O.jsx(LW,{}),O.jsx(_W,{className:St("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),O.jsx(FW,{})]})})}function HA({className:e,children:t,...n}){return O.jsxs(IW,{"data-slot":"select-item",className:St("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[O.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:O.jsx(DW,{children:O.jsx(_5,{className:"size-4"})})}),O.jsx(OW,{children:t})]})}function LW({className:e,...t}){return O.jsx(MW,{"data-slot":"select-scroll-up-button",className:St("flex cursor-default items-center justify-center py-1",e),...t,children:O.jsx(D5,{className:"size-4"})})}function FW({className:e,...t}){return O.jsx(PW,{"data-slot":"select-scroll-down-button",className:St("flex cursor-default items-center justify-center py-1",e),...t,children:O.jsx(K3,{className:"size-4"})})}async function kW(e,t,n){const r=await Oi(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:t,expiration:n})});if(!r.ok)throw new Error("Failed to create share link");return r.json()}async function BW(e){const t=await Oi(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`);if(!t.ok)throw new Error("Failed to fetch share links");return t.json()}async function jW(e){if(!(await Oi(`https://wafflebase-api.yorkie.dev/share-links/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete share link")}async function zW(e){const t=await fetch(`https://wafflebase-api.yorkie.dev/share-links/${e}/resolve`);if(t.status===410)throw new Error("Share link has expired");if(!t.ok)throw new Error("Invalid share link");return t.json()}const UW=[{value:"none",label:"No limit"},{value:"1h",label:"1 hour"},{value:"8h",label:"8 hours"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"}];function VW(e){if(!e)return"No expiration";const t=new Date(e),n=new Date;if(t<n)return"Expired";const r=t.getTime()-n.getTime(),i=Math.floor(r/(1e3*60*60)),a=Math.floor(i/24);return a>0?`Expires in ${a}d`:i>0?`Expires in ${i}h`:`Expires in ${Math.floor(r/(1e3*60))}m`}function GW({documentId:e}){const[t,n]=P.useState(!1),[r,i]=P.useState("viewer"),[a,l]=P.useState("none"),[u,c]=P.useState([]),[g,p]=P.useState(!1);P.useEffect(()=>{t&&BW(e).then(c).catch(()=>{})},[t,e]);const m=async()=>{p(!0);try{const E=await kW(e,r,a==="none"?null:a);c(w=>[E,...w]);const C=`${window.location.origin}/shared/${E.token}`;await navigator.clipboard.writeText(C),Un.success("Link created and copied to clipboard")}catch{Un.error("Failed to create share link")}finally{p(!1)}},x=async E=>{const C=`${window.location.origin}/shared/${E}`;await navigator.clipboard.writeText(C),Un.success("Link copied to clipboard")},b=async E=>{try{await jW(E),c(C=>C.filter(w=>w.id!==E)),Un.success("Share link revoked")}catch{Un.error("Failed to revoke share link")}};return O.jsxs(zv,{open:t,onOpenChange:n,children:[O.jsx(V9,{asChild:!0,children:O.jsxs(nr,{variant:"outline",size:"sm",children:[O.jsx(z8,{className:"h-4 w-4 mr-1"}),"Share"]})}),O.jsxs(Uv,{className:"sm:max-w-md",children:[O.jsxs(Vv,{children:[O.jsx(Gv,{children:"Share Document"}),O.jsx($v,{children:"Create a link to share this document with others."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"share-role",children:"Permission"}),O.jsxs(uN,{value:r,onValueChange:i,children:[O.jsx(fN,{id:"share-role",className:"w-full",children:O.jsx(cN,{})}),O.jsxs(dN,{children:[O.jsx(HA,{value:"viewer",children:"Viewer"}),O.jsx(HA,{value:"editor",children:"Editor"})]})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"share-expiration",children:"Expiration"}),O.jsxs(uN,{value:a,onValueChange:l,children:[O.jsx(fN,{id:"share-expiration",className:"w-full",children:O.jsx(cN,{})}),O.jsx(dN,{children:UW.map(E=>O.jsx(HA,{value:E.value,children:E.label},E.value))})]})]})]}),u.length>0&&O.jsxs(O.Fragment,{children:[O.jsx(Gp,{}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{children:"Active links"}),O.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:u.map(E=>O.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2 text-sm",children:[O.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O.jsx("span",{className:"capitalize font-medium",children:E.role}),O.jsx("span",{className:"text-muted-foreground text-xs",children:VW(E.expiresAt)})]}),O.jsxs("div",{className:"flex items-center gap-1",children:[O.jsx(nr,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>x(E.token),children:O.jsx(P8,{className:"h-3.5 w-3.5"})}),O.jsx(nr,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>b(E.id),children:O.jsx(G8,{className:"h-3.5 w-3.5"})})]})]},E.id))})]})]})]}),O.jsx("div",{className:"flex justify-end",children:O.jsx(nr,{onClick:m,disabled:g,children:g?"Creating...":"Create Link"})})]})]})}function $W(){const{doc:e}=La.useDocument(),{data:t}=Ba({queryKey:["me"],queryFn:vh,retry:!1});P.useEffect(()=>{!e||!t||e.update((n,r)=>{r.set({username:t.username,email:t.email,photo:t.photo||""})})},[e,t])}var Zf={},YA={},hN;function WW(){if(hN)return YA;hN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(YA,"__esModule",{value:!0}),YA}var qA={},pN;function HW(){if(pN)return qA;pN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(qA,"__esModule",{value:!0}),qA}var Jf={},KA={exports:{}},XA={},ZA={},JA={},QA,gN;function q2(){return gN||(gN=1,QA=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var l=Object.getOwnPropertySymbols(t);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,n);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),QA}var eE,mN;function YS(){if(mN)return eE;mN=1;var e=q2();return eE=function(){return e()&&!!Symbol.toStringTag},eE}var tE,vN;function K2(){return vN||(vN=1,tE=Object),tE}var nE,yN;function YW(){return yN||(yN=1,nE=Error),nE}var rE,xN;function qW(){return xN||(xN=1,rE=EvalError),rE}var iE,bN;function KW(){return bN||(bN=1,iE=RangeError),iE}var oE,SN;function XW(){return SN||(SN=1,oE=ReferenceError),oE}var sE,AN;function MF(){return AN||(AN=1,sE=SyntaxError),sE}var aE,EN;function Zv(){return EN||(EN=1,aE=TypeError),aE}var lE,wN;function ZW(){return wN||(wN=1,lE=URIError),lE}var uE,CN;function JW(){return CN||(CN=1,uE=Math.abs),uE}var cE,RN;function QW(){return RN||(RN=1,cE=Math.floor),cE}var fE,TN;function eH(){return TN||(TN=1,fE=Math.max),fE}var dE,NN;function tH(){return NN||(NN=1,dE=Math.min),dE}var hE,_N;function nH(){return _N||(_N=1,hE=Math.pow),hE}var pE,IN;function rH(){return IN||(IN=1,pE=Math.round),pE}var gE,ON;function iH(){return ON||(ON=1,gE=Number.isNaN||function(t){return t!==t}),gE}var mE,DN;function oH(){if(DN)return mE;DN=1;var e=iH();return mE=function(n){return e(n)||n===0?n:n<0?-1:1},mE}var vE,MN;function sH(){return MN||(MN=1,vE=Object.getOwnPropertyDescriptor),vE}var yE,PN;function Ng(){if(PN)return yE;PN=1;var e=sH();if(e)try{e([],"length")}catch{e=null}return yE=e,yE}var xE,LN;function qS(){if(LN)return xE;LN=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return xE=e,xE}var bE,FN;function aH(){if(FN)return bE;FN=1;var e=typeof Symbol<"u"&&Symbol,t=q2();return bE=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},bE}var SE,kN;function PF(){return kN||(kN=1,SE=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),SE}var AE,BN;function LF(){if(BN)return AE;BN=1;var e=K2();return AE=e.getPrototypeOf||null,AE}var EE,jN;function lH(){if(jN)return EE;jN=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(c,g){for(var p=[],m=0;m<c.length;m+=1)p[m]=c[m];for(var x=0;x<g.length;x+=1)p[x+c.length]=g[x];return p},a=function(c,g){for(var p=[],m=g,x=0;m<c.length;m+=1,x+=1)p[x]=c[m];return p},l=function(u,c){for(var g="",p=0;p<u.length;p+=1)g+=u[p],p+1<u.length&&(g+=c);return g};return EE=function(c){var g=this;if(typeof g!="function"||t.apply(g)!==r)throw new TypeError(e+g);for(var p=a(arguments,1),m,x=function(){if(this instanceof m){var R=g.apply(this,i(p,arguments));return Object(R)===R?R:this}return g.apply(c,i(p,arguments))},b=n(0,g.length-p.length),E=[],C=0;C<b;C++)E[C]="$"+C;if(m=Function("binder","return function ("+l(E,",")+"){ return binder.apply(this,arguments); }")(x),g.prototype){var w=function(){};w.prototype=g.prototype,m.prototype=new w,w.prototype=null}return m},EE}var wE,zN;function Jv(){if(zN)return wE;zN=1;var e=lH();return wE=Function.prototype.bind||e,wE}var CE,UN;function X2(){return UN||(UN=1,CE=Function.prototype.call),CE}var RE,VN;function Z2(){return VN||(VN=1,RE=Function.prototype.apply),RE}var TE,GN;function uH(){return GN||(GN=1,TE=typeof Reflect<"u"&&Reflect&&Reflect.apply),TE}var NE,$N;function FF(){if($N)return NE;$N=1;var e=Jv(),t=Z2(),n=X2(),r=uH();return NE=r||e.call(n,t),NE}var _E,WN;function J2(){if(WN)return _E;WN=1;var e=Jv(),t=Zv(),n=X2(),r=FF();return _E=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return r(e,n,a)},_E}var IE,HN;function cH(){if(HN)return IE;HN=1;var e=J2(),t=Ng(),n;try{n=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!n&&t&&t(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return IE=r&&typeof r.get=="function"?e([r.get]):typeof a=="function"?function(u){return a(u==null?u:i(u))}:!1,IE}var OE,YN;function Q2(){if(YN)return OE;YN=1;var e=PF(),t=LF(),n=cH();return OE=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:n?function(i){return n(i)}:null,OE}var DE,qN;function kF(){if(qN)return DE;qN=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=Jv();return DE=n.call(e,t),DE}var ME,KN;function eR(){if(KN)return ME;KN=1;var e,t=K2(),n=YW(),r=qW(),i=KW(),a=XW(),l=MF(),u=Zv(),c=ZW(),g=JW(),p=QW(),m=eH(),x=tH(),b=nH(),E=rH(),C=oH(),w=Function,R=function(J){try{return w('"use strict"; return ('+J+").constructor;")()}catch{}},I=Ng(),N=qS(),D=function(){throw new u},L=I?function(){try{return arguments.callee,D}catch{try{return I(arguments,"callee").get}catch{return D}}}():D,k=aH()(),j=Q2(),B=LF(),$=PF(),K=Z2(),ne=X2(),re={},Se=typeof Uint8Array>"u"||!j?e:j(Uint8Array),Me={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":k&&j?j([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":re,"%AsyncGenerator%":re,"%AsyncGeneratorFunction%":re,"%AsyncIteratorPrototype%":re,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":re,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&j?j(j([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k||!j?e:j(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k||!j?e:j(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&j?j(""[Symbol.iterator]()):e,"%Symbol%":k?Symbol:e,"%SyntaxError%":l,"%ThrowTypeError%":L,"%TypedArray%":Se,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":ne,"%Function.prototype.apply%":K,"%Object.defineProperty%":N,"%Object.getPrototypeOf%":B,"%Math.abs%":g,"%Math.floor%":p,"%Math.max%":m,"%Math.min%":x,"%Math.pow%":b,"%Math.round%":E,"%Math.sign%":C,"%Reflect.getPrototypeOf%":$};if(j)try{null.error}catch(J){var Oe=j(j(J));Me["%Error.prototype%"]=Oe}var ie=function J(se){var ye;if(se==="%AsyncFunction%")ye=R("async function () {}");else if(se==="%GeneratorFunction%")ye=R("function* () {}");else if(se==="%AsyncGeneratorFunction%")ye=R("async function* () {}");else if(se==="%AsyncGenerator%"){var xe=J("%AsyncGeneratorFunction%");xe&&(ye=xe.prototype)}else if(se==="%AsyncIteratorPrototype%"){var ae=J("%AsyncGenerator%");ae&&j&&(ye=j(ae.prototype))}return Me[se]=ye,ye},Ae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},de=Jv(),ue=kF(),X=de.call(ne,Array.prototype.concat),oe=de.call(K,Array.prototype.splice),he=de.call(ne,String.prototype.replace),z=de.call(ne,String.prototype.slice),U=de.call(ne,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H=/\\(\\)?/g,Q=function(se){var ye=z(se,0,1),xe=z(se,-1);if(ye==="%"&&xe!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(xe==="%"&&ye!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var ae=[];return he(se,G,function(le,we,Ie,je){ae[ae.length]=Ie?he(je,H,"$1"):we||le}),ae},Z=function(se,ye){var xe=se,ae;if(ue(Ae,xe)&&(ae=Ae[xe],xe="%"+ae[0]+"%"),ue(Me,xe)){var le=Me[xe];if(le===re&&(le=ie(xe)),typeof le>"u"&&!ye)throw new u("intrinsic "+se+" exists, but is not available. Please file an issue!");return{alias:ae,name:xe,value:le}}throw new l("intrinsic "+se+" does not exist!")};return ME=function(se,ye){if(typeof se!="string"||se.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ye!="boolean")throw new u('"allowMissing" argument must be a boolean');if(U(/^%?[^%]*%?$/,se)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var xe=Q(se),ae=xe.length>0?xe[0]:"",le=Z("%"+ae+"%",ye),we=le.name,Ie=le.value,je=!1,Ue=le.alias;Ue&&(ae=Ue[0],oe(xe,X([0,1],Ue)));for(var me=1,Pe=!0;me<xe.length;me+=1){var Ze=xe[me],pt=z(Ze,0,1),gt=z(Ze,-1);if((pt==='"'||pt==="'"||pt==="`"||gt==='"'||gt==="'"||gt==="`")&&pt!==gt)throw new l("property names with quotes must have matching quotes");if((Ze==="constructor"||!Pe)&&(je=!0),ae+="."+Ze,we="%"+ae+"%",ue(Me,we))Ie=Me[we];else if(Ie!=null){if(!(Ze in Ie)){if(!ye)throw new u("base intrinsic for "+se+" exists, but the property is not available.");return}if(I&&me+1>=xe.length){var ge=I(Ie,Ze);Pe=!!ge,Pe&&"get"in ge&&!("originalValue"in ge.get)?Ie=ge.get:Ie=Ie[Ze]}else Pe=ue(Ie,Ze),Ie=Ie[Ze];Pe&&!je&&(Me[we]=Ie)}}return Ie},ME}var PE,XN;function _g(){if(XN)return PE;XN=1;var e=eR(),t=J2(),n=t([e("%String.prototype.indexOf%")]);return PE=function(i,a){var l=e(i,!!a);return typeof l=="function"&&n(i,".prototype.")>-1?t([l]):l},PE}var LE,ZN;function fH(){if(ZN)return LE;ZN=1;var e=YS()(),t=_g(),n=t("Object.prototype.toString"),r=function(u){return e&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:n(u)==="[object Arguments]"},i=function(u){return r(u)?!0:u!==null&&typeof u=="object"&&"length"in u&&typeof u.length=="number"&&u.length>=0&&n(u)!=="[object Array]"&&"callee"in u&&n(u.callee)==="[object Function]"},a=function(){return r(arguments)}();return r.isLegacyArguments=i,LE=a?r:i,LE}var FE,JN;function dH(){if(JN)return FE;JN=1;var e=_g(),t=YS()(),n=kF(),r=Ng(),i;if(t){var a=e("RegExp.prototype.exec"),l={},u=function(){throw l},c={toString:u,valueOf:u};typeof Symbol.toPrimitive=="symbol"&&(c[Symbol.toPrimitive]=u),i=function(x){if(!x||typeof x!="object")return!1;var b=r(x,"lastIndex"),E=b&&n(b,"value");if(!E)return!1;try{a(x,c)}catch(C){return C===l}}}else{var g=e("Object.prototype.toString"),p="[object RegExp]";i=function(x){return!x||typeof x!="object"&&typeof x!="function"?!1:g(x)===p}}return FE=i,FE}var kE,QN;function hH(){if(QN)return kE;QN=1;var e=_g(),t=dH(),n=e("RegExp.prototype.exec"),r=Zv();return kE=function(a){if(!t(a))throw new r("`regex` must be a RegExp");return function(u){return n(a,u)!==null}},kE}var BE,e_;function pH(){if(e_)return BE;e_=1;var e=_g(),t=hH(),n=t(/^\s*(?:function)?\*/),r=YS()(),i=Q2(),a=e("Object.prototype.toString"),l=e("Function.prototype.toString"),u=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},c;return BE=function(p){if(typeof p!="function")return!1;if(n(l(p)))return!0;if(!r){var m=a(p);return m==="[object GeneratorFunction]"}if(!i)return!1;if(typeof c>"u"){var x=u();c=x?i(x):!1}return i(p)===c},BE}var jE,t_;function gH(){if(t_)return jE;t_=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},t(function(){throw 42},null,n)}catch(I){I!==r&&(t=null)}else t=null;var i=/^\s*class\b/,a=function(N){try{var D=e.call(N);return i.test(D)}catch{return!1}},l=function(N){try{return a(N)?!1:(e.call(N),!0)}catch{return!1}},u=Object.prototype.toString,c="[object Object]",g="[object Function]",p="[object GeneratorFunction]",m="[object HTMLAllCollection]",x="[object HTML document.all class]",b="[object HTMLCollection]",E=typeof Symbol=="function"&&!!Symbol.toStringTag,C=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var R=document.all;u.call(R)===u.call(document.all)&&(w=function(N){if((C||!N)&&(typeof N>"u"||typeof N=="object"))try{var D=u.call(N);return(D===m||D===x||D===b||D===c)&&N("")==null}catch{}return!1})}return jE=t?function(N){if(w(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;try{t(N,null,n)}catch(D){if(D!==r)return!1}return!a(N)&&l(N)}:function(N){if(w(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;if(E)return l(N);if(a(N))return!1;var D=u.call(N);return D!==g&&D!==p&&!/^\[object HTML/.test(D)?!1:l(N)},jE}var zE,n_;function mH(){if(n_)return zE;n_=1;var e=gH(),t=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(c,g,p){for(var m=0,x=c.length;m<x;m++)n.call(c,m)&&(p==null?g(c[m],m,c):g.call(p,c[m],m,c))},i=function(c,g,p){for(var m=0,x=c.length;m<x;m++)p==null?g(c.charAt(m),m,c):g.call(p,c.charAt(m),m,c)},a=function(c,g,p){for(var m in c)n.call(c,m)&&(p==null?g(c[m],m,c):g.call(p,c[m],m,c))};function l(u){return t.call(u)==="[object Array]"}return zE=function(c,g,p){if(!e(g))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=p),l(c)?r(c,g,m):typeof c=="string"?i(c,g,m):a(c,g,m)},zE}var UE,r_;function vH(){return r_||(r_=1,UE=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),UE}var VE,i_;function yH(){if(i_)return VE;i_=1;var e=vH(),t=typeof globalThis>"u"?h3:globalThis;return VE=function(){for(var r=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(r[r.length]=e[i]);return r},VE}var GE={exports:{}},$E,o_;function BF(){if(o_)return $E;o_=1;var e=qS(),t=MF(),n=Zv(),r=Ng();return $E=function(a,l,u){if(!a||typeof a!="object"&&typeof a!="function")throw new n("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,x=!!r&&r(a,l);if(e)e(a,l,{configurable:p===null&&x?x.configurable:!p,enumerable:c===null&&x?x.enumerable:!c,value:u,writable:g===null&&x?x.writable:!g});else if(m||!c&&!g&&!p)a[l]=u;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$E}var WE,s_;function jF(){if(s_)return WE;s_=1;var e=qS(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},WE=t,WE}var HE,a_;function xH(){if(a_)return HE;a_=1;var e=eR(),t=BF(),n=jF()(),r=Ng(),i=Zv(),a=e("%Math.floor%");return HE=function(u,c){if(typeof u!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||a(c)!==c)throw new i("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],p=!0,m=!0;if("length"in u&&r){var x=r(u,"length");x&&!x.configurable&&(p=!1),x&&!x.writable&&(m=!1)}return(p||m||!g)&&(n?t(u,"length",c,!0,!0):t(u,"length",c)),u},HE}var YE,l_;function bH(){if(l_)return YE;l_=1;var e=Jv(),t=Z2(),n=FF();return YE=function(){return n(e,t,arguments)},YE}var u_;function KS(){return u_||(u_=1,function(e){var t=xH(),n=qS(),r=J2(),i=bH();e.exports=function(l){var u=r(arguments),c=l.length-(arguments.length-1);return t(u,1+(c>0?c:0),!0)},n?n(e.exports,"apply",{value:i}):e.exports.apply=i}(GE)),GE.exports}var qE,c_;function zF(){if(c_)return qE;c_=1;var e=mH(),t=yH(),n=KS(),r=_g(),i=Ng(),a=Q2(),l=r("Object.prototype.toString"),u=YS()(),c=typeof globalThis>"u"?h3:globalThis,g=t(),p=r("String.prototype.slice"),m=r("Array.prototype.indexOf",!0)||function(w,R){for(var I=0;I<w.length;I+=1)if(w[I]===R)return I;return-1},x={__proto__:null};u&&i&&a?e(g,function(C){var w=new c[C];if(Symbol.toStringTag in w&&a){var R=a(w),I=i(R,Symbol.toStringTag);if(!I&&R){var N=a(R);I=i(N,Symbol.toStringTag)}x["$"+C]=n(I.get)}}):e(g,function(C){var w=new c[C],R=w.slice||w.set;R&&(x["$"+C]=n(R))});var b=function(w){var R=!1;return e(x,function(I,N){if(!R)try{"$"+I(w)===N&&(R=p(N,1))}catch{}}),R},E=function(w){var R=!1;return e(x,function(I,N){if(!R)try{I(w),R=p(N,1)}catch{}}),R};return qE=function(w){if(!w||typeof w!="object")return!1;if(!u){var R=p(l(w),8,-1);return m(g,R)>-1?R:R!=="Object"?!1:E(w)}return i?b(w):null},qE}var KE,f_;function SH(){if(f_)return KE;f_=1;var e=zF();return KE=function(n){return!!e(n)},KE}var d_;function AH(){return d_||(d_=1,function(e){var t=fH(),n=pH(),r=zF(),i=SH();function a(me){return me.call.bind(me)}var l=typeof BigInt<"u",u=typeof Symbol<"u",c=a(Object.prototype.toString),g=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),m=a(Boolean.prototype.valueOf);if(l)var x=a(BigInt.prototype.valueOf);if(u)var b=a(Symbol.prototype.valueOf);function E(me,Pe){if(typeof me!="object")return!1;try{return Pe(me),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=i;function C(me){return typeof Promise<"u"&&me instanceof Promise||me!==null&&typeof me=="object"&&typeof me.then=="function"&&typeof me.catch=="function"}e.isPromise=C;function w(me){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(me):i(me)||z(me)}e.isArrayBufferView=w;function R(me){return r(me)==="Uint8Array"}e.isUint8Array=R;function I(me){return r(me)==="Uint8ClampedArray"}e.isUint8ClampedArray=I;function N(me){return r(me)==="Uint16Array"}e.isUint16Array=N;function D(me){return r(me)==="Uint32Array"}e.isUint32Array=D;function L(me){return r(me)==="Int8Array"}e.isInt8Array=L;function k(me){return r(me)==="Int16Array"}e.isInt16Array=k;function j(me){return r(me)==="Int32Array"}e.isInt32Array=j;function B(me){return r(me)==="Float32Array"}e.isFloat32Array=B;function $(me){return r(me)==="Float64Array"}e.isFloat64Array=$;function K(me){return r(me)==="BigInt64Array"}e.isBigInt64Array=K;function ne(me){return r(me)==="BigUint64Array"}e.isBigUint64Array=ne;function re(me){return c(me)==="[object Map]"}re.working=typeof Map<"u"&&re(new Map);function Se(me){return typeof Map>"u"?!1:re.working?re(me):me instanceof Map}e.isMap=Se;function Me(me){return c(me)==="[object Set]"}Me.working=typeof Set<"u"&&Me(new Set);function Oe(me){return typeof Set>"u"?!1:Me.working?Me(me):me instanceof Set}e.isSet=Oe;function ie(me){return c(me)==="[object WeakMap]"}ie.working=typeof WeakMap<"u"&&ie(new WeakMap);function Ae(me){return typeof WeakMap>"u"?!1:ie.working?ie(me):me instanceof WeakMap}e.isWeakMap=Ae;function de(me){return c(me)==="[object WeakSet]"}de.working=typeof WeakSet<"u"&&de(new WeakSet);function ue(me){return de(me)}e.isWeakSet=ue;function X(me){return c(me)==="[object ArrayBuffer]"}X.working=typeof ArrayBuffer<"u"&&X(new ArrayBuffer);function oe(me){return typeof ArrayBuffer>"u"?!1:X.working?X(me):me instanceof ArrayBuffer}e.isArrayBuffer=oe;function he(me){return c(me)==="[object DataView]"}he.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&he(new DataView(new ArrayBuffer(1),0,1));function z(me){return typeof DataView>"u"?!1:he.working?he(me):me instanceof DataView}e.isDataView=z;var U=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function G(me){return c(me)==="[object SharedArrayBuffer]"}function H(me){return typeof U>"u"?!1:(typeof G.working>"u"&&(G.working=G(new U)),G.working?G(me):me instanceof U)}e.isSharedArrayBuffer=H;function Q(me){return c(me)==="[object AsyncFunction]"}e.isAsyncFunction=Q;function Z(me){return c(me)==="[object Map Iterator]"}e.isMapIterator=Z;function J(me){return c(me)==="[object Set Iterator]"}e.isSetIterator=J;function se(me){return c(me)==="[object Generator]"}e.isGeneratorObject=se;function ye(me){return c(me)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=ye;function xe(me){return E(me,g)}e.isNumberObject=xe;function ae(me){return E(me,p)}e.isStringObject=ae;function le(me){return E(me,m)}e.isBooleanObject=le;function we(me){return l&&E(me,x)}e.isBigIntObject=we;function Ie(me){return u&&E(me,b)}e.isSymbolObject=Ie;function je(me){return xe(me)||ae(me)||le(me)||we(me)||Ie(me)}e.isBoxedPrimitive=je;function Ue(me){return typeof Uint8Array<"u"&&(oe(me)||H(me))}e.isAnyArrayBuffer=Ue,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(me){Object.defineProperty(e,me,{enumerable:!1,value:function(){throw new Error(me+" is not supported in userland")}})})}(JA)),JA}var XE,h_;function EH(){return h_||(h_=1,XE=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),XE}var Ob={exports:{}},p_;function wH(){return p_||(p_=1,typeof Object.create=="function"?Ob.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ob.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}),Ob.exports}var g_;function hg(){return g_||(g_=1,function(e){var t={},n=Object.getOwnPropertyDescriptors||function(U){for(var G=Object.keys(U),H={},Q=0;Q<G.length;Q++)H[G[Q]]=Object.getOwnPropertyDescriptor(U,G[Q]);return H},r=/%[sdj%]/g;e.format=function(z){if(!k(z)){for(var U=[],G=0;G<arguments.length;G++)U.push(u(arguments[G]));return U.join(" ")}for(var G=1,H=arguments,Q=H.length,Z=String(z).replace(r,function(se){if(se==="%%")return"%";if(G>=Q)return se;switch(se){case"%s":return String(H[G++]);case"%d":return Number(H[G++]);case"%j":try{return JSON.stringify(H[G++])}catch{return"[Circular]"}default:return se}}),J=H[G];G<Q;J=H[++G])N(J)||!K(J)?Z+=" "+J:Z+=" "+u(J);return Z},e.deprecate=function(z,U){if(typeof process<"u"&&process.noDeprecation===!0)return z;if(typeof process>"u")return function(){return e.deprecate(z,U).apply(this,arguments)};var G=!1;function H(){if(!G){if(process.throwDeprecation)throw new Error(U);process.traceDeprecation?console.trace(U):console.error(U),G=!0}return z.apply(this,arguments)}return H};var i={},a=/^$/;if(t.NODE_DEBUG){var l=t.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i")}e.debuglog=function(z){if(z=z.toUpperCase(),!i[z])if(a.test(z)){var U=process.pid;i[z]=function(){var G=e.format.apply(e,arguments);console.error("%s %d: %s",z,U,G)}}else i[z]=function(){};return i[z]};function u(z,U){var G={seen:[],stylize:g};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),I(U)?G.showHidden=U:U&&e._extend(G,U),B(G.showHidden)&&(G.showHidden=!1),B(G.depth)&&(G.depth=2),B(G.colors)&&(G.colors=!1),B(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=c),m(G,z,G.depth)}e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(z,U){var G=u.styles[U];return G?"\x1B["+u.colors[G][0]+"m"+z+"\x1B["+u.colors[G][1]+"m":z}function g(z,U){return z}function p(z){var U={};return z.forEach(function(G,H){U[G]=!0}),U}function m(z,U,G){if(z.customInspect&&U&&Se(U.inspect)&&U.inspect!==e.inspect&&!(U.constructor&&U.constructor.prototype===U)){var H=U.inspect(G,z);return k(H)||(H=m(z,H,G)),H}var Q=x(z,U);if(Q)return Q;var Z=Object.keys(U),J=p(Z);if(z.showHidden&&(Z=Object.getOwnPropertyNames(U)),re(U)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return b(U);if(Z.length===0){if(Se(U)){var se=U.name?": "+U.name:"";return z.stylize("[Function"+se+"]","special")}if($(U))return z.stylize(RegExp.prototype.toString.call(U),"regexp");if(ne(U))return z.stylize(Date.prototype.toString.call(U),"date");if(re(U))return b(U)}var ye="",xe=!1,ae=["{","}"];if(R(U)&&(xe=!0,ae=["[","]"]),Se(U)){var le=U.name?": "+U.name:"";ye=" [Function"+le+"]"}if($(U)&&(ye=" "+RegExp.prototype.toString.call(U)),ne(U)&&(ye=" "+Date.prototype.toUTCString.call(U)),re(U)&&(ye=" "+b(U)),Z.length===0&&(!xe||U.length==0))return ae[0]+ye+ae[1];if(G<0)return $(U)?z.stylize(RegExp.prototype.toString.call(U),"regexp"):z.stylize("[Object]","special");z.seen.push(U);var we;return xe?we=E(z,U,G,J,Z):we=Z.map(function(Ie){return C(z,U,G,J,Ie,xe)}),z.seen.pop(),w(we,ye,ae)}function x(z,U){if(B(U))return z.stylize("undefined","undefined");if(k(U)){var G="'"+JSON.stringify(U).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(G,"string")}if(L(U))return z.stylize(""+U,"number");if(I(U))return z.stylize(""+U,"boolean");if(N(U))return z.stylize("null","null")}function b(z){return"["+Error.prototype.toString.call(z)+"]"}function E(z,U,G,H,Q){for(var Z=[],J=0,se=U.length;J<se;++J)ue(U,String(J))?Z.push(C(z,U,G,H,String(J),!0)):Z.push("");return Q.forEach(function(ye){ye.match(/^\d+$/)||Z.push(C(z,U,G,H,ye,!0))}),Z}function C(z,U,G,H,Q,Z){var J,se,ye;if(ye=Object.getOwnPropertyDescriptor(U,Q)||{value:U[Q]},ye.get?ye.set?se=z.stylize("[Getter/Setter]","special"):se=z.stylize("[Getter]","special"):ye.set&&(se=z.stylize("[Setter]","special")),ue(H,Q)||(J="["+Q+"]"),se||(z.seen.indexOf(ye.value)<0?(N(G)?se=m(z,ye.value,null):se=m(z,ye.value,G-1),se.indexOf(`
`)>-1&&(Z?se=se.split(`
`).map(function(xe){return"  "+xe}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(xe){return"   "+xe}).join(`
`))):se=z.stylize("[Circular]","special")),B(J)){if(Z&&Q.match(/^\d+$/))return se;J=JSON.stringify(""+Q),J.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(J=J.slice(1,-1),J=z.stylize(J,"name")):(J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=z.stylize(J,"string"))}return J+": "+se}function w(z,U,G){var H=z.reduce(function(Q,Z){return Z.indexOf(`
`)>=0,Q+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return H>60?G[0]+(U===""?"":U+`
 `)+" "+z.join(`,
  `)+" "+G[1]:G[0]+U+" "+z.join(", ")+" "+G[1]}e.types=AH();function R(z){return Array.isArray(z)}e.isArray=R;function I(z){return typeof z=="boolean"}e.isBoolean=I;function N(z){return z===null}e.isNull=N;function D(z){return z==null}e.isNullOrUndefined=D;function L(z){return typeof z=="number"}e.isNumber=L;function k(z){return typeof z=="string"}e.isString=k;function j(z){return typeof z=="symbol"}e.isSymbol=j;function B(z){return z===void 0}e.isUndefined=B;function $(z){return K(z)&&Oe(z)==="[object RegExp]"}e.isRegExp=$,e.types.isRegExp=$;function K(z){return typeof z=="object"&&z!==null}e.isObject=K;function ne(z){return K(z)&&Oe(z)==="[object Date]"}e.isDate=ne,e.types.isDate=ne;function re(z){return K(z)&&(Oe(z)==="[object Error]"||z instanceof Error)}e.isError=re,e.types.isNativeError=re;function Se(z){return typeof z=="function"}e.isFunction=Se;function Me(z){return z===null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"||typeof z=="symbol"||typeof z>"u"}e.isPrimitive=Me,e.isBuffer=EH();function Oe(z){return Object.prototype.toString.call(z)}function ie(z){return z<10?"0"+z.toString(10):z.toString(10)}var Ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(){var z=new Date,U=[ie(z.getHours()),ie(z.getMinutes()),ie(z.getSeconds())].join(":");return[z.getDate(),Ae[z.getMonth()],U].join(" ")}e.log=function(){console.log("%s - %s",de(),e.format.apply(e,arguments))},e.inherits=wH(),e._extend=function(z,U){if(!U||!K(U))return z;for(var G=Object.keys(U),H=G.length;H--;)z[G[H]]=U[G[H]];return z};function ue(z,U){return Object.prototype.hasOwnProperty.call(z,U)}var X=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(U){if(typeof U!="function")throw new TypeError('The "original" argument must be of type Function');if(X&&U[X]){var G=U[X];if(typeof G!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(G,X,{value:G,enumerable:!1,writable:!1,configurable:!0}),G}function G(){for(var H,Q,Z=new Promise(function(ye,xe){H=ye,Q=xe}),J=[],se=0;se<arguments.length;se++)J.push(arguments[se]);J.push(function(ye,xe){ye?Q(ye):H(xe)});try{U.apply(this,J)}catch(ye){Q(ye)}return Z}return Object.setPrototypeOf(G,Object.getPrototypeOf(U)),X&&Object.defineProperty(G,X,{value:G,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(G,n(U))},e.promisify.custom=X;function oe(z,U){if(!z){var G=new Error("Promise was rejected with a falsy value");G.reason=z,z=G}return U(z)}function he(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');function U(){for(var G=[],H=0;H<arguments.length;H++)G.push(arguments[H]);var Q=G.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var Z=this,J=function(){return Q.apply(Z,arguments)};z.apply(this,G).then(function(se){process.nextTick(J.bind(null,null,se))},function(se){process.nextTick(oe.bind(null,se,J))})}return Object.setPrototypeOf(U,Object.getPrototypeOf(z)),Object.defineProperties(U,n(z)),U}e.callbackify=he}(ZA)),ZA}var m_;function UF(){if(m_)return XA;m_=1;function e(I){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},e(I)}function t(I,N,D){return Object.defineProperty(I,"prototype",{writable:!1}),I}function n(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function r(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),N&&i(I,N)}function i(I,N){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,k){return L.__proto__=k,L},i(I,N)}function a(I){var N=c();return function(){var L=g(I),k;if(N){var j=g(this).constructor;k=Reflect.construct(L,arguments,j)}else k=L.apply(this,arguments);return l(this,k)}}function l(I,N){if(N&&(e(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(I)}function u(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(I){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},g(I)}var p={},m,x;function b(I,N,D){D||(D=Error);function L(j,B,$){return typeof N=="string"?N:N(j,B,$)}var k=function(j){r($,j);var B=a($);function $(K,ne,re){var Se;return n(this,$),Se=B.call(this,L(K,ne,re)),Se.code=I,Se}return t($)}(D);p[I]=k}function E(I,N){if(Array.isArray(I)){var D=I.length;return I=I.map(function(L){return String(L)}),D>2?"one of ".concat(N," ").concat(I.slice(0,D-1).join(", "),", or ")+I[D-1]:D===2?"one of ".concat(N," ").concat(I[0]," or ").concat(I[1]):"of ".concat(N," ").concat(I[0])}else return"of ".concat(N," ").concat(String(I))}function C(I,N,D){return I.substr(0,N.length)===N}function w(I,N,D){return(D===void 0||D>I.length)&&(D=I.length),I.substring(D-N.length,D)===N}function R(I,N,D){return typeof D!="number"&&(D=0),D+N.length>I.length?!1:I.indexOf(N,D)!==-1}return b("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),b("ERR_INVALID_ARG_TYPE",function(I,N,D){m===void 0&&(m=Ii()),m(typeof I=="string","'name' must be a string");var L;typeof N=="string"&&C(N,"not ")?(L="must not be",N=N.replace(/^not /,"")):L="must be";var k;if(w(I," argument"))k="The ".concat(I," ").concat(L," ").concat(E(N,"type"));else{var j=R(I,".")?"property":"argument";k='The "'.concat(I,'" ').concat(j," ").concat(L," ").concat(E(N,"type"))}return k+=". Received type ".concat(e(D)),k},TypeError),b("ERR_INVALID_ARG_VALUE",function(I,N){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";x===void 0&&(x=hg());var L=x.inspect(N);return L.length>128&&(L="".concat(L.slice(0,128),"...")),"The argument '".concat(I,"' ").concat(D,". Received ").concat(L)},TypeError),b("ERR_INVALID_RETURN_VALUE",function(I,N,D){var L;return D&&D.constructor&&D.constructor.name?L="instance of ".concat(D.constructor.name):L="type ".concat(e(D)),"Expected ".concat(I,' to be returned from the "').concat(N,'"')+" function but got ".concat(L,".")},TypeError),b("ERR_MISSING_ARGS",function(){for(var I=arguments.length,N=new Array(I),D=0;D<I;D++)N[D]=arguments[D];m===void 0&&(m=Ii()),m(N.length>0,"At least one arg needs to be specified");var L="The ",k=N.length;switch(N=N.map(function(j){return'"'.concat(j,'"')}),k){case 1:L+="".concat(N[0]," argument");break;case 2:L+="".concat(N[0]," and ").concat(N[1]," arguments");break;default:L+=N.slice(0,k-1).join(", "),L+=", and ".concat(N[k-1]," arguments");break}return"".concat(L," must be specified")},TypeError),XA.codes=p,XA}var ZE,v_;function CH(){if(v_)return ZE;v_=1;function e(ue,X){var oe=Object.keys(ue);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(ue);X&&(he=he.filter(function(z){return Object.getOwnPropertyDescriptor(ue,z).enumerable})),oe.push.apply(oe,he)}return oe}function t(ue){for(var X=1;X<arguments.length;X++){var oe=arguments[X]!=null?arguments[X]:{};X%2?e(Object(oe),!0).forEach(function(he){n(ue,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(oe)):e(Object(oe)).forEach(function(he){Object.defineProperty(ue,he,Object.getOwnPropertyDescriptor(oe,he))})}return ue}function n(ue,X,oe){return X=l(X),X in ue?Object.defineProperty(ue,X,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ue[X]=oe,ue}function r(ue,X){if(!(ue instanceof X))throw new TypeError("Cannot call a class as a function")}function i(ue,X){for(var oe=0;oe<X.length;oe++){var he=X[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ue,l(he.key),he)}}function a(ue,X,oe){return X&&i(ue.prototype,X),Object.defineProperty(ue,"prototype",{writable:!1}),ue}function l(ue){var X=u(ue,"string");return I(X)==="symbol"?X:String(X)}function u(ue,X){if(I(ue)!=="object"||ue===null)return ue;var oe=ue[Symbol.toPrimitive];if(oe!==void 0){var he=oe.call(ue,X);if(I(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ue)}function c(ue,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(X&&X.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),Object.defineProperty(ue,"prototype",{writable:!1}),X&&w(ue,X)}function g(ue){var X=E();return function(){var he=R(ue),z;if(X){var U=R(this).constructor;z=Reflect.construct(he,arguments,U)}else z=he.apply(this,arguments);return p(this,z)}}function p(ue,X){if(X&&(I(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(ue)}function m(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function x(ue){var X=typeof Map=="function"?new Map:void 0;return x=function(he){if(he===null||!C(he))return he;if(typeof he!="function")throw new TypeError("Super expression must either be null or a function");if(typeof X<"u"){if(X.has(he))return X.get(he);X.set(he,z)}function z(){return b(he,arguments,R(this).constructor)}return z.prototype=Object.create(he.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),w(z,he)},x(ue)}function b(ue,X,oe){return E()?b=Reflect.construct.bind():b=function(z,U,G){var H=[null];H.push.apply(H,U);var Q=Function.bind.apply(z,H),Z=new Q;return G&&w(Z,G.prototype),Z},b.apply(null,arguments)}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(ue){return Function.toString.call(ue).indexOf("[native code]")!==-1}function w(ue,X){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,z){return he.__proto__=z,he},w(ue,X)}function R(ue){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},R(ue)}function I(ue){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},I(ue)}var N=hg(),D=N.inspect,L=UF(),k=L.codes.ERR_INVALID_ARG_TYPE;function j(ue,X,oe){return(oe===void 0||oe>ue.length)&&(oe=ue.length),ue.substring(oe-X.length,oe)===X}function B(ue,X){if(X=Math.floor(X),ue.length==0||X==0)return"";var oe=ue.length*X;for(X=Math.floor(Math.log(X)/Math.log(2));X;)ue+=ue,X--;return ue+=ue.substring(0,oe-ue.length),ue}var $="",K="",ne="",re="",Se={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Me=10;function Oe(ue){var X=Object.keys(ue),oe=Object.create(Object.getPrototypeOf(ue));return X.forEach(function(he){oe[he]=ue[he]}),Object.defineProperty(oe,"message",{value:ue.message}),oe}function ie(ue){return D(ue,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Ae(ue,X,oe){var he="",z="",U=0,G="",H=!1,Q=ie(ue),Z=Q.split(`
`),J=ie(X).split(`
`),se=0,ye="";if(oe==="strictEqual"&&I(ue)==="object"&&I(X)==="object"&&ue!==null&&X!==null&&(oe="strictEqualObject"),Z.length===1&&J.length===1&&Z[0]!==J[0]){var xe=Z[0].length+J[0].length;if(xe<=Me){if((I(ue)!=="object"||ue===null)&&(I(X)!=="object"||X===null)&&(ue!==0||X!==0))return"".concat(Se[oe],`

`)+"".concat(Z[0]," !== ").concat(J[0],`
`)}else if(oe!=="strictEqualObject"){var ae=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(xe<ae){for(;Z[0][se]===J[0][se];)se++;se>2&&(ye=`
  `.concat(B(" ",se),"^"),se=0)}}}for(var le=Z[Z.length-1],we=J[J.length-1];le===we&&(se++<2?G=`
  `.concat(le).concat(G):he=le,Z.pop(),J.pop(),!(Z.length===0||J.length===0));)le=Z[Z.length-1],we=J[J.length-1];var Ie=Math.max(Z.length,J.length);if(Ie===0){var je=Q.split(`
`);if(je.length>30)for(je[26]="".concat($,"...").concat(re);je.length>27;)je.pop();return"".concat(Se.notIdentical,`

`).concat(je.join(`
`),`
`)}se>3&&(G=`
`.concat($,"...").concat(re).concat(G),H=!0),he!==""&&(G=`
  `.concat(he).concat(G),he="");var Ue=0,me=Se[oe]+`
`.concat(K,"+ actual").concat(re," ").concat(ne,"- expected").concat(re),Pe=" ".concat($,"...").concat(re," Lines skipped");for(se=0;se<Ie;se++){var Ze=se-U;if(Z.length<se+1)Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(re),H=!0):Ze>3&&(z+=`
  `.concat(J[se-2]),Ue++),z+=`
  `.concat(J[se-1]),Ue++),U=se,he+=`
`.concat(ne,"-").concat(re," ").concat(J[se]),Ue++;else if(J.length<se+1)Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(re),H=!0):Ze>3&&(z+=`
  `.concat(Z[se-2]),Ue++),z+=`
  `.concat(Z[se-1]),Ue++),U=se,z+=`
`.concat(K,"+").concat(re," ").concat(Z[se]),Ue++;else{var pt=J[se],gt=Z[se],ge=gt!==pt&&(!j(gt,",")||gt.slice(0,-1)!==pt);ge&&j(pt,",")&&pt.slice(0,-1)===gt&&(ge=!1,gt+=","),ge?(Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(re),H=!0):Ze>3&&(z+=`
  `.concat(Z[se-2]),Ue++),z+=`
  `.concat(Z[se-1]),Ue++),U=se,z+=`
`.concat(K,"+").concat(re," ").concat(gt),he+=`
`.concat(ne,"-").concat(re," ").concat(pt),Ue+=2):(z+=he,he="",(Ze===1||se===0)&&(z+=`
  `.concat(gt),Ue++))}if(Ue>20&&se<Ie-2)return"".concat(me).concat(Pe,`
`).concat(z,`
`).concat($,"...").concat(re).concat(he,`
`)+"".concat($,"...").concat(re)}return"".concat(me).concat(H?Pe:"",`
`).concat(z).concat(he).concat(G).concat(ye)}var de=function(ue,X){c(he,ue);var oe=g(he);function he(z){var U;if(r(this,he),I(z)!=="object"||z===null)throw new k("options","Object",z);var G=z.message,H=z.operator,Q=z.stackStartFn,Z=z.actual,J=z.expected,se=Error.stackTraceLimit;if(Error.stackTraceLimit=0,G!=null)U=oe.call(this,String(G));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?($="\x1B[34m",K="\x1B[32m",re="\x1B[39m",ne="\x1B[31m"):($="",K="",re="",ne="")),I(Z)==="object"&&Z!==null&&I(J)==="object"&&J!==null&&"stack"in Z&&Z instanceof Error&&"stack"in J&&J instanceof Error&&(Z=Oe(Z),J=Oe(J)),H==="deepStrictEqual"||H==="strictEqual")U=oe.call(this,Ae(Z,J,H));else if(H==="notDeepStrictEqual"||H==="notStrictEqual"){var ye=Se[H],xe=ie(Z).split(`
`);if(H==="notStrictEqual"&&I(Z)==="object"&&Z!==null&&(ye=Se.notStrictEqualObject),xe.length>30)for(xe[26]="".concat($,"...").concat(re);xe.length>27;)xe.pop();xe.length===1?U=oe.call(this,"".concat(ye," ").concat(xe[0])):U=oe.call(this,"".concat(ye,`

`).concat(xe.join(`
`),`
`))}else{var ae=ie(Z),le="",we=Se[H];H==="notDeepEqual"||H==="notEqual"?(ae="".concat(Se[H],`

`).concat(ae),ae.length>1024&&(ae="".concat(ae.slice(0,1021),"..."))):(le="".concat(ie(J)),ae.length>512&&(ae="".concat(ae.slice(0,509),"...")),le.length>512&&(le="".concat(le.slice(0,509),"...")),H==="deepEqual"||H==="equal"?ae="".concat(we,`

`).concat(ae,`

should equal

`):le=" ".concat(H," ").concat(le)),U=oe.call(this,"".concat(ae).concat(le))}return Error.stackTraceLimit=se,U.generatedMessage=!G,Object.defineProperty(m(U),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),U.code="ERR_ASSERTION",U.actual=Z,U.expected=J,U.operator=H,Error.captureStackTrace&&Error.captureStackTrace(m(U),Q),U.stack,U.name="AssertionError",p(U)}return a(he,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:X,value:function(U,G){return D(this,t(t({},G),{},{customInspect:!1,depth:0}))}}]),he}(x(Error),D.custom);return ZE=de,ZE}var JE,y_;function VF(){if(y_)return JE;y_=1;var e=Object.prototype.toString;return JE=function(n){var r=e.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),i},JE}var QE,x_;function RH(){if(x_)return QE;x_=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=VF(),i=Object.prototype.propertyIsEnumerable,a=!i.call({toString:null},"toString"),l=i.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(x){var b=x.constructor;return b&&b.prototype===x},g={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var x in window)try{if(!g["$"+x]&&t.call(window,x)&&window[x]!==null&&typeof window[x]=="object")try{c(window[x])}catch{return!0}}catch{return!0}return!1}(),m=function(x){if(typeof window>"u"||!p)return c(x);try{return c(x)}catch{return!1}};e=function(b){var E=b!==null&&typeof b=="object",C=n.call(b)==="[object Function]",w=r(b),R=E&&n.call(b)==="[object String]",I=[];if(!E&&!C&&!w)throw new TypeError("Object.keys called on a non-object");var N=l&&C;if(R&&b.length>0&&!t.call(b,0))for(var D=0;D<b.length;++D)I.push(String(D));if(w&&b.length>0)for(var L=0;L<b.length;++L)I.push(String(L));else for(var k in b)!(N&&k==="prototype")&&t.call(b,k)&&I.push(String(k));if(a)for(var j=m(b),B=0;B<u.length;++B)!(j&&u[B]==="constructor")&&t.call(b,u[B])&&I.push(u[B]);return I}}return QE=e,QE}var ew,b_;function GF(){if(b_)return ew;b_=1;var e=Array.prototype.slice,t=VF(),n=Object.keys,r=n?function(l){return n(l)}:RH(),i=Object.keys;return r.shim=function(){if(Object.keys){var l=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);l||(Object.keys=function(c){return t(c)?i(e.call(c)):i(c)})}else Object.keys=r;return Object.keys||r},ew=r,ew}var tw,S_;function TH(){if(S_)return tw;S_=1;var e=GF(),t=q2()(),n=_g(),r=K2(),i=n("Array.prototype.push"),a=n("Object.prototype.propertyIsEnumerable"),l=t?r.getOwnPropertySymbols:null;return tw=function(c,g){if(c==null)throw new TypeError("target must be an object");var p=r(c);if(arguments.length===1)return p;for(var m=1;m<arguments.length;++m){var x=r(arguments[m]),b=e(x),E=t&&(r.getOwnPropertySymbols||l);if(E)for(var C=E(x),w=0;w<C.length;++w){var R=C[w];a(x,R)&&i(b,R)}for(var I=0;I<b.length;++I){var N=b[I];if(a(x,N)){var D=x[N];p[N]=D}}}return p},tw}var nw,A_;function NH(){if(A_)return nw;A_=1;var e=TH(),t=function(){if(!Object.assign)return!1;for(var r="abcdefghijklmnopqrst",i=r.split(""),a={},l=0;l<i.length;++l)a[i[l]]=i[l];var u=Object.assign({},a),c="";for(var g in u)c+=g;return r!==c},n=function(){if(!Object.assign||!Object.preventExtensions)return!1;var r=Object.preventExtensions({1:2});try{Object.assign(r,"xy")}catch{return r[1]==="y"}return!1};return nw=function(){return!Object.assign||t()||n()?e:Object.assign},nw}var rw,E_;function $F(){if(E_)return rw;E_=1;var e=function(t){return t!==t};return rw=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},rw}var iw,w_;function tR(){if(w_)return iw;w_=1;var e=$F();return iw=function(){return typeof Object.is=="function"?Object.is:e},iw}var ow,C_;function _H(){if(C_)return ow;C_=1;var e=eR(),t=KS(),n=t(e("String.prototype.indexOf"));return ow=function(i,a){var l=e(i,!!a);return typeof l=="function"&&n(i,".prototype.")>-1?t(l):l},ow}var sw,R_;function XS(){if(R_)return sw;R_=1;var e=GF(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,i=BF(),a=function(g){return typeof g=="function"&&n.call(g)==="[object Function]"},l=jF()(),u=function(g,p,m,x){if(p in g){if(x===!0){if(g[p]===m)return}else if(!a(x)||!x())return}l?i(g,p,m,!0):i(g,p,m)},c=function(g,p){var m=arguments.length>2?arguments[2]:{},x=e(p);t&&(x=r.call(x,Object.getOwnPropertySymbols(p)));for(var b=0;b<x.length;b+=1)u(g,x[b],p[x[b]],m[x[b]])};return c.supportsDescriptors=!!l,sw=c,sw}var aw,T_;function IH(){if(T_)return aw;T_=1;var e=tR(),t=XS();return aw=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},aw}var lw,N_;function OH(){if(N_)return lw;N_=1;var e=XS(),t=KS(),n=$F(),r=tR(),i=IH(),a=t(r(),Object);return e(a,{getPolyfill:r,implementation:n,shim:i}),lw=a,lw}var uw,__;function WF(){return __||(__=1,uw=function(t){return t!==t}),uw}var cw,I_;function HF(){if(I_)return cw;I_=1;var e=WF();return cw=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},cw}var fw,O_;function DH(){if(O_)return fw;O_=1;var e=XS(),t=HF();return fw=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},fw}var dw,D_;function MH(){if(D_)return dw;D_=1;var e=KS(),t=XS(),n=WF(),r=HF(),i=DH(),a=e(r(),Number);return t(a,{getPolyfill:r,implementation:n,shim:i}),dw=a,dw}var hw,M_;function PH(){if(M_)return hw;M_=1;function e(ge,Ne){return a(ge)||i(ge,Ne)||n(ge,Ne)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(ge,Ne){if(ge){if(typeof ge=="string")return r(ge,Ne);var qe=Object.prototype.toString.call(ge).slice(8,-1);if(qe==="Object"&&ge.constructor&&(qe=ge.constructor.name),qe==="Map"||qe==="Set")return Array.from(ge);if(qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return r(ge,Ne)}}function r(ge,Ne){(Ne==null||Ne>ge.length)&&(Ne=ge.length);for(var qe=0,He=new Array(Ne);qe<Ne;qe++)He[qe]=ge[qe];return He}function i(ge,Ne){var qe=ge==null?null:typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(qe!=null){var He,tt,lt,xt,Rt=[],It=!0,sn=!1;try{if(lt=(qe=qe.call(ge)).next,Ne!==0)for(;!(It=(He=lt.call(qe)).done)&&(Rt.push(He.value),Rt.length!==Ne);It=!0);}catch(ke){sn=!0,tt=ke}finally{try{if(!It&&qe.return!=null&&(xt=qe.return(),Object(xt)!==xt))return}finally{if(sn)throw tt}}return Rt}}function a(ge){if(Array.isArray(ge))return ge}function l(ge){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ne){return typeof Ne}:function(Ne){return Ne&&typeof Symbol=="function"&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},l(ge)}var u=/a/g.flags!==void 0,c=function(Ne){var qe=[];return Ne.forEach(function(He){return qe.push(He)}),qe},g=function(Ne){var qe=[];return Ne.forEach(function(He,tt){return qe.push([tt,He])}),qe},p=Object.is?Object.is:OH(),m=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},x=Number.isNaN?Number.isNaN:MH();function b(ge){return ge.call.bind(ge)}var E=b(Object.prototype.hasOwnProperty),C=b(Object.prototype.propertyIsEnumerable),w=b(Object.prototype.toString),R=hg().types,I=R.isAnyArrayBuffer,N=R.isArrayBufferView,D=R.isDate,L=R.isMap,k=R.isRegExp,j=R.isSet,B=R.isNativeError,$=R.isBoxedPrimitive,K=R.isNumberObject,ne=R.isStringObject,re=R.isBooleanObject,Se=R.isBigIntObject,Me=R.isSymbolObject,Oe=R.isFloat32Array,ie=R.isFloat64Array;function Ae(ge){if(ge.length===0||ge.length>10)return!0;for(var Ne=0;Ne<ge.length;Ne++){var qe=ge.charCodeAt(Ne);if(qe<48||qe>57)return!0}return ge.length===10&&ge>=Math.pow(2,32)}function de(ge){return Object.keys(ge).filter(Ae).concat(m(ge).filter(Object.prototype.propertyIsEnumerable.bind(ge)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function ue(ge,Ne){if(ge===Ne)return 0;for(var qe=ge.length,He=Ne.length,tt=0,lt=Math.min(qe,He);tt<lt;++tt)if(ge[tt]!==Ne[tt]){qe=ge[tt],He=Ne[tt];break}return qe<He?-1:He<qe?1:0}var X=!0,oe=!1,he=0,z=1,U=2,G=3;function H(ge,Ne){return u?ge.source===Ne.source&&ge.flags===Ne.flags:RegExp.prototype.toString.call(ge)===RegExp.prototype.toString.call(Ne)}function Q(ge,Ne){if(ge.byteLength!==Ne.byteLength)return!1;for(var qe=0;qe<ge.byteLength;qe++)if(ge[qe]!==Ne[qe])return!1;return!0}function Z(ge,Ne){return ge.byteLength!==Ne.byteLength?!1:ue(new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength),new Uint8Array(Ne.buffer,Ne.byteOffset,Ne.byteLength))===0}function J(ge,Ne){return ge.byteLength===Ne.byteLength&&ue(new Uint8Array(ge),new Uint8Array(Ne))===0}function se(ge,Ne){return K(ge)?K(Ne)&&p(Number.prototype.valueOf.call(ge),Number.prototype.valueOf.call(Ne)):ne(ge)?ne(Ne)&&String.prototype.valueOf.call(ge)===String.prototype.valueOf.call(Ne):re(ge)?re(Ne)&&Boolean.prototype.valueOf.call(ge)===Boolean.prototype.valueOf.call(Ne):Se(ge)?Se(Ne)&&BigInt.prototype.valueOf.call(ge)===BigInt.prototype.valueOf.call(Ne):Me(Ne)&&Symbol.prototype.valueOf.call(ge)===Symbol.prototype.valueOf.call(Ne)}function ye(ge,Ne,qe,He){if(ge===Ne)return ge!==0?!0:qe?p(ge,Ne):!0;if(qe){if(l(ge)!=="object")return typeof ge=="number"&&x(ge)&&x(Ne);if(l(Ne)!=="object"||ge===null||Ne===null||Object.getPrototypeOf(ge)!==Object.getPrototypeOf(Ne))return!1}else{if(ge===null||l(ge)!=="object")return Ne===null||l(Ne)!=="object"?ge==Ne:!1;if(Ne===null||l(Ne)!=="object")return!1}var tt=w(ge),lt=w(Ne);if(tt!==lt)return!1;if(Array.isArray(ge)){if(ge.length!==Ne.length)return!1;var xt=de(ge),Rt=de(Ne);return xt.length!==Rt.length?!1:ae(ge,Ne,qe,He,z,xt)}if(tt==="[object Object]"&&(!L(ge)&&L(Ne)||!j(ge)&&j(Ne)))return!1;if(D(ge)){if(!D(Ne)||Date.prototype.getTime.call(ge)!==Date.prototype.getTime.call(Ne))return!1}else if(k(ge)){if(!k(Ne)||!H(ge,Ne))return!1}else if(B(ge)||ge instanceof Error){if(ge.message!==Ne.message||ge.name!==Ne.name)return!1}else if(N(ge)){if(!qe&&(Oe(ge)||ie(ge))){if(!Q(ge,Ne))return!1}else if(!Z(ge,Ne))return!1;var It=de(ge),sn=de(Ne);return It.length!==sn.length?!1:ae(ge,Ne,qe,He,he,It)}else{if(j(ge))return!j(Ne)||ge.size!==Ne.size?!1:ae(ge,Ne,qe,He,U);if(L(ge))return!L(Ne)||ge.size!==Ne.size?!1:ae(ge,Ne,qe,He,G);if(I(ge)){if(!J(ge,Ne))return!1}else if($(ge)&&!se(ge,Ne))return!1}return ae(ge,Ne,qe,He,he)}function xe(ge,Ne){return Ne.filter(function(qe){return C(ge,qe)})}function ae(ge,Ne,qe,He,tt,lt){if(arguments.length===5){lt=Object.keys(ge);var xt=Object.keys(Ne);if(lt.length!==xt.length)return!1}for(var Rt=0;Rt<lt.length;Rt++)if(!E(Ne,lt[Rt]))return!1;if(qe&&arguments.length===5){var It=m(ge);if(It.length!==0){var sn=0;for(Rt=0;Rt<It.length;Rt++){var ke=It[Rt];if(C(ge,ke)){if(!C(Ne,ke))return!1;lt.push(ke),sn++}else if(C(Ne,ke))return!1}var nt=m(Ne);if(It.length!==nt.length&&xe(Ne,nt).length!==sn)return!1}else{var mt=m(Ne);if(mt.length!==0&&xe(Ne,mt).length!==0)return!1}}if(lt.length===0&&(tt===he||tt===z&&ge.length===0||ge.size===0))return!0;if(He===void 0)He={val1:new Map,val2:new Map,position:0};else{var At=He.val1.get(ge);if(At!==void 0){var Dt=He.val2.get(Ne);if(Dt!==void 0)return At===Dt}He.position++}He.val1.set(ge,He.position),He.val2.set(Ne,He.position);var vn=Ze(ge,Ne,qe,lt,He,tt);return He.val1.delete(ge),He.val2.delete(Ne),vn}function le(ge,Ne,qe,He){for(var tt=c(ge),lt=0;lt<tt.length;lt++){var xt=tt[lt];if(ye(Ne,xt,qe,He))return ge.delete(xt),!0}return!1}function we(ge){switch(l(ge)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ge=+ge;case"number":if(x(ge))return!1}return!0}function Ie(ge,Ne,qe){var He=we(qe);return He??(Ne.has(He)&&!ge.has(He))}function je(ge,Ne,qe,He,tt){var lt=we(qe);if(lt!=null)return lt;var xt=Ne.get(lt);return xt===void 0&&!Ne.has(lt)||!ye(He,xt,!1,tt)?!1:!ge.has(lt)&&ye(He,xt,!1,tt)}function Ue(ge,Ne,qe,He){for(var tt=null,lt=c(ge),xt=0;xt<lt.length;xt++){var Rt=lt[xt];if(l(Rt)==="object"&&Rt!==null)tt===null&&(tt=new Set),tt.add(Rt);else if(!Ne.has(Rt)){if(qe||!Ie(ge,Ne,Rt))return!1;tt===null&&(tt=new Set),tt.add(Rt)}}if(tt!==null){for(var It=c(Ne),sn=0;sn<It.length;sn++){var ke=It[sn];if(l(ke)==="object"&&ke!==null){if(!le(tt,ke,qe,He))return!1}else if(!qe&&!ge.has(ke)&&!le(tt,ke,qe,He))return!1}return tt.size===0}return!0}function me(ge,Ne,qe,He,tt,lt){for(var xt=c(ge),Rt=0;Rt<xt.length;Rt++){var It=xt[Rt];if(ye(qe,It,tt,lt)&&ye(He,Ne.get(It),tt,lt))return ge.delete(It),!0}return!1}function Pe(ge,Ne,qe,He){for(var tt=null,lt=g(ge),xt=0;xt<lt.length;xt++){var Rt=e(lt[xt],2),It=Rt[0],sn=Rt[1];if(l(It)==="object"&&It!==null)tt===null&&(tt=new Set),tt.add(It);else{var ke=Ne.get(It);if(ke===void 0&&!Ne.has(It)||!ye(sn,ke,qe,He)){if(qe||!je(ge,Ne,It,sn,He))return!1;tt===null&&(tt=new Set),tt.add(It)}}}if(tt!==null){for(var nt=g(Ne),mt=0;mt<nt.length;mt++){var At=e(nt[mt],2),Dt=At[0],vn=At[1];if(l(Dt)==="object"&&Dt!==null){if(!me(tt,ge,Dt,vn,qe,He))return!1}else if(!qe&&(!ge.has(Dt)||!ye(ge.get(Dt),vn,!1,He))&&!me(tt,ge,Dt,vn,!1,He))return!1}return tt.size===0}return!0}function Ze(ge,Ne,qe,He,tt,lt){var xt=0;if(lt===U){if(!Ue(ge,Ne,qe,tt))return!1}else if(lt===G){if(!Pe(ge,Ne,qe,tt))return!1}else if(lt===z)for(;xt<ge.length;xt++)if(E(ge,xt)){if(!E(Ne,xt)||!ye(ge[xt],Ne[xt],qe,tt))return!1}else{if(E(Ne,xt))return!1;for(var Rt=Object.keys(ge);xt<Rt.length;xt++){var It=Rt[xt];if(!E(Ne,It)||!ye(ge[It],Ne[It],qe,tt))return!1}return Rt.length===Object.keys(Ne).length}for(xt=0;xt<He.length;xt++){var sn=He[xt];if(!ye(ge[sn],Ne[sn],qe,tt))return!1}return!0}function pt(ge,Ne){return ye(ge,Ne,oe)}function gt(ge,Ne){return ye(ge,Ne,X)}return hw={isDeepEqual:pt,isDeepStrictEqual:gt},hw}var P_;function Ii(){if(P_)return KA.exports;P_=1;function e(U){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},e(U)}function t(U,G,H){return Object.defineProperty(U,"prototype",{writable:!1}),U}function n(U,G){if(!(U instanceof G))throw new TypeError("Cannot call a class as a function")}var r=UF(),i=r.codes,a=i.ERR_AMBIGUOUS_ARGUMENT,l=i.ERR_INVALID_ARG_TYPE,u=i.ERR_INVALID_ARG_VALUE,c=i.ERR_INVALID_RETURN_VALUE,g=i.ERR_MISSING_ARGS,p=CH(),m=hg(),x=m.inspect,b=hg().types,E=b.isPromise,C=b.isRegExp,w=NH()(),R=tR()(),I=_H()("RegExp.prototype.test"),N,D;function L(){var U=PH();N=U.isDeepEqual,D=U.isDeepStrictEqual}var k=!1,j=KA.exports=re,B={};function $(U){throw U.message instanceof Error?U.message:new p(U)}function K(U,G,H,Q,Z){var J=arguments.length,se;if(J===0)se="Failed";else if(J===1)H=U,U=void 0;else{if(k===!1){k=!0;var ye=process.emitWarning?process.emitWarning:console.warn.bind(console);ye("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}J===2&&(Q="!=")}if(H instanceof Error)throw H;var xe={actual:U,expected:G,operator:Q===void 0?"fail":Q,stackStartFn:Z||K};H!==void 0&&(xe.message=H);var ae=new p(xe);throw se&&(ae.message=se,ae.generatedMessage=!0),ae}j.fail=K,j.AssertionError=p;function ne(U,G,H,Q){if(!H){var Z=!1;if(G===0)Z=!0,Q="No value argument passed to `assert.ok()`";else if(Q instanceof Error)throw Q;var J=new p({actual:H,expected:!0,message:Q,operator:"==",stackStartFn:U});throw J.generatedMessage=Z,J}}function re(){for(var U=arguments.length,G=new Array(U),H=0;H<U;H++)G[H]=arguments[H];ne.apply(void 0,[re,G.length].concat(G))}j.ok=re,j.equal=function U(G,H,Q){if(arguments.length<2)throw new g("actual","expected");G!=H&&$({actual:G,expected:H,message:Q,operator:"==",stackStartFn:U})},j.notEqual=function U(G,H,Q){if(arguments.length<2)throw new g("actual","expected");G==H&&$({actual:G,expected:H,message:Q,operator:"!=",stackStartFn:U})},j.deepEqual=function U(G,H,Q){if(arguments.length<2)throw new g("actual","expected");N===void 0&&L(),N(G,H)||$({actual:G,expected:H,message:Q,operator:"deepEqual",stackStartFn:U})},j.notDeepEqual=function U(G,H,Q){if(arguments.length<2)throw new g("actual","expected");N===void 0&&L(),N(G,H)&&$({actual:G,expected:H,message:Q,operator:"notDeepEqual",stackStartFn:U})},j.deepStrictEqual=function U(G,H,Q){if(arguments.length<2)throw new g("actual","expected");N===void 0&&L(),D(G,H)||$({actual:G,expected:H,message:Q,operator:"deepStrictEqual",stackStartFn:U})},j.notDeepStrictEqual=Se;function Se(U,G,H){if(arguments.length<2)throw new g("actual","expected");N===void 0&&L(),D(U,G)&&$({actual:U,expected:G,message:H,operator:"notDeepStrictEqual",stackStartFn:Se})}j.strictEqual=function U(G,H,Q){if(arguments.length<2)throw new g("actual","expected");R(G,H)||$({actual:G,expected:H,message:Q,operator:"strictEqual",stackStartFn:U})},j.notStrictEqual=function U(G,H,Q){if(arguments.length<2)throw new g("actual","expected");R(G,H)&&$({actual:G,expected:H,message:Q,operator:"notStrictEqual",stackStartFn:U})};var Me=t(function U(G,H,Q){var Z=this;n(this,U),H.forEach(function(J){J in G&&(Q!==void 0&&typeof Q[J]=="string"&&C(G[J])&&I(G[J],Q[J])?Z[J]=Q[J]:Z[J]=G[J])})});function Oe(U,G,H,Q,Z,J){if(!(H in U)||!D(U[H],G[H])){if(!Q){var se=new Me(U,Z),ye=new Me(G,Z,U),xe=new p({actual:se,expected:ye,operator:"deepStrictEqual",stackStartFn:J});throw xe.actual=U,xe.expected=G,xe.operator=J.name,xe}$({actual:U,expected:G,message:Q,operator:J.name,stackStartFn:J})}}function ie(U,G,H,Q){if(typeof G!="function"){if(C(G))return I(G,U);if(arguments.length===2)throw new l("expected",["Function","RegExp"],G);if(e(U)!=="object"||U===null){var Z=new p({actual:U,expected:G,message:H,operator:"deepStrictEqual",stackStartFn:Q});throw Z.operator=Q.name,Z}var J=Object.keys(G);if(G instanceof Error)J.push("name","message");else if(J.length===0)throw new u("error",G,"may not be an empty object");return N===void 0&&L(),J.forEach(function(se){typeof U[se]=="string"&&C(G[se])&&I(G[se],U[se])||Oe(U,G,se,H,J,Q)}),!0}return G.prototype!==void 0&&U instanceof G?!0:Error.isPrototypeOf(G)?!1:G.call({},U)===!0}function Ae(U){if(typeof U!="function")throw new l("fn","Function",U);try{U()}catch(G){return G}return B}function de(U){return E(U)||U!==null&&e(U)==="object"&&typeof U.then=="function"&&typeof U.catch=="function"}function ue(U){return Promise.resolve().then(function(){var G;if(typeof U=="function"){if(G=U(),!de(G))throw new c("instance of Promise","promiseFn",G)}else if(de(U))G=U;else throw new l("promiseFn",["Function","Promise"],U);return Promise.resolve().then(function(){return G}).then(function(){return B}).catch(function(H){return H})})}function X(U,G,H,Q){if(typeof H=="string"){if(arguments.length===4)throw new l("error",["Object","Error","Function","RegExp"],H);if(e(G)==="object"&&G!==null){if(G.message===H)throw new a("error/message",'The error message "'.concat(G.message,'" is identical to the message.'))}else if(G===H)throw new a("error/message",'The error "'.concat(G,'" is identical to the message.'));Q=H,H=void 0}else if(H!=null&&e(H)!=="object"&&typeof H!="function")throw new l("error",["Object","Error","Function","RegExp"],H);if(G===B){var Z="";H&&H.name&&(Z+=" (".concat(H.name,")")),Z+=Q?": ".concat(Q):".";var J=U.name==="rejects"?"rejection":"exception";$({actual:void 0,expected:H,operator:U.name,message:"Missing expected ".concat(J).concat(Z),stackStartFn:U})}if(H&&!ie(G,H,Q,U))throw G}function oe(U,G,H,Q){if(G!==B){if(typeof H=="string"&&(Q=H,H=void 0),!H||ie(G,H)){var Z=Q?": ".concat(Q):".",J=U.name==="doesNotReject"?"rejection":"exception";$({actual:G,expected:H,operator:U.name,message:"Got unwanted ".concat(J).concat(Z,`
`)+'Actual message: "'.concat(G&&G.message,'"'),stackStartFn:U})}throw G}}j.throws=function U(G){for(var H=arguments.length,Q=new Array(H>1?H-1:0),Z=1;Z<H;Z++)Q[Z-1]=arguments[Z];X.apply(void 0,[U,Ae(G)].concat(Q))},j.rejects=function U(G){for(var H=arguments.length,Q=new Array(H>1?H-1:0),Z=1;Z<H;Z++)Q[Z-1]=arguments[Z];return ue(G).then(function(J){return X.apply(void 0,[U,J].concat(Q))})},j.doesNotThrow=function U(G){for(var H=arguments.length,Q=new Array(H>1?H-1:0),Z=1;Z<H;Z++)Q[Z-1]=arguments[Z];oe.apply(void 0,[U,Ae(G)].concat(Q))},j.doesNotReject=function U(G){for(var H=arguments.length,Q=new Array(H>1?H-1:0),Z=1;Z<H;Z++)Q[Z-1]=arguments[Z];return ue(G).then(function(J){return oe.apply(void 0,[U,J].concat(Q))})},j.ifError=function U(G){if(G!=null){var H="ifError got unwanted exception: ";e(G)==="object"&&typeof G.message=="string"?G.message.length===0&&G.constructor?H+=G.constructor.name:H+=G.message:H+=x(G);var Q=new p({actual:G,expected:null,operator:"ifError",message:H,stackStartFn:U}),Z=G.stack;if(typeof Z=="string"){var J=Z.split(`
`);J.shift();for(var se=Q.stack.split(`
`),ye=0;ye<J.length;ye++){var xe=se.indexOf(J[ye]);if(xe!==-1){se=se.slice(0,xe);break}}Q.stack="".concat(se.join(`
`),`
`).concat(J.join(`
`))}throw Q}};function he(U,G,H,Q,Z){if(!C(G))throw new l("regexp","RegExp",G);var J=Z==="match";if(typeof U!="string"||I(G,U)!==J){if(H instanceof Error)throw H;var se=!H;H=H||(typeof U!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(U)," (").concat(x(U),")"):(J?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(x(G),`. Input:

`).concat(x(U),`
`));var ye=new p({actual:U,expected:G,message:H,operator:Z,stackStartFn:Q});throw ye.generatedMessage=se,ye}}j.match=function U(G,H,Q){he(G,H,Q,U,"match")},j.doesNotMatch=function U(G,H,Q){he(G,H,Q,U,"doesNotMatch")};function z(){for(var U=arguments.length,G=new Array(U),H=0;H<U;H++)G[H]=arguments[H];ne.apply(void 0,[z,G.length].concat(G))}return j.strict=w(z,j,{equal:j.strictEqual,deepEqual:j.deepStrictEqual,notEqual:j.notStrictEqual,notDeepEqual:j.notDeepStrictEqual}),j.strict.strict=j.strict,KA.exports}var Es={},L_;function Ve(){if(L_)return Es;L_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Es,"__esModule",{value:!0}),Es.SuppressWarnings=Es.Override=Es.Nullable=Es.NotNull=void 0;function e(i,a,l){}Es.NotNull=e;function t(i,a,l){}Es.Nullable=t;function n(i,a,l){}Es.Override=n;function r(i){return(a,l,u)=>{}}return Es.SuppressWarnings=r,Es}var pw={},F_;function rf(){return F_||(F_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.IntStream=void 0,function(t){t.EOF=-1,t.UNKNOWN_SOURCE_NAME="<unknown>"}(e.IntStream||(e.IntStream={}))}(pw)),pw}var k_;function LH(){if(k_)return Jf;k_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jf&&Jf.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.ANTLRInputStream=void 0;const t=Ii(),n=Ve(),r=rf();let i=class{constructor(l){this.p=0,this.data=l,this.n=l.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw t(this.LA(1)===r.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(l){return l===0?0:l<0&&(l++,this.p+l-1<0)||this.p+l-1>=this.n?r.IntStream.EOF:this.data.charCodeAt(this.p+l-1)}LT(l){return this.LA(l)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(l){}seek(l){if(l<=this.p){this.p=l;return}for(l=Math.min(l,this.n);this.p<l;)this.consume()}getText(l){let u=l.a,c=l.b;c>=this.n&&(c=this.n-1);let g=c-u+1;return u>=this.n?"":this.data.substr(u,g)}get sourceName(){return this.name?this.name:r.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};return e([n.Override],i.prototype,"consume",null),e([n.Override],i.prototype,"LA",null),e([n.Override],i.prototype,"index",null),e([n.Override],i.prototype,"size",null),e([n.Override],i.prototype,"mark",null),e([n.Override],i.prototype,"release",null),e([n.Override],i.prototype,"seek",null),e([n.Override],i.prototype,"getText",null),e([n.Override],i.prototype,"sourceName",null),e([n.Override],i.prototype,"toString",null),Jf.ANTLRInputStream=i,Jf}var Qf={},bl={},P0={},B_;function Du(){return B_||(B_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=P0&&P0.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNState=void 0;const n=Ve();let r=class NC{constructor(){this.stateNumber=NC.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(a){return a instanceof NC?this.stateNumber===a.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(a,l){if(this.transitions.length===0)this.epsilonOnlyTransitions=a.isEpsilon;else if(this.epsilonOnlyTransitions!==a.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(l!==void 0?l:this.transitions.length,0,a)}transition(a){return this.transitions[a]}setTransition(a,l){this.transitions[a]=l}removeTransition(a){return this.transitions.splice(a,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(a){this.ruleIndex=a}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(a){return this.optimizedTransitions[a]}addOptimizedTransition(a){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(a)}setOptimizedTransition(a,l){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[a]=l}removeOptimizedTransition(a){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(a,1)}};t([n.Override],r.prototype,"hashCode",null),t([n.Override],r.prototype,"equals",null),t([n.Override],r.prototype,"toString",null),e.ATNState=r,function(i){i.INVALID_STATE_NUMBER=-1}(r=e.ATNState||(e.ATNState={}))}(P0)),P0}var gw={},j_;function ei(){return j_||(j_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ATNStateType=void 0,function(t){t[t.INVALID_TYPE=0]="INVALID_TYPE",t[t.BASIC=1]="BASIC",t[t.RULE_START=2]="RULE_START",t[t.BLOCK_START=3]="BLOCK_START",t[t.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",t[t.STAR_BLOCK_START=5]="STAR_BLOCK_START",t[t.TOKEN_START=6]="TOKEN_START",t[t.RULE_STOP=7]="RULE_STOP",t[t.BLOCK_END=8]="BLOCK_END",t[t.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",t[t.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",t[t.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",t[t.LOOP_END=12]="LOOP_END"}(e.ATNStateType||(e.ATNStateType={}))}(gw)),gw}var Sl={},L0={},z_;function of(){if(z_)return L0;z_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(L0,"__esModule",{value:!0}),L0.RecognitionException=void 0;let e=class extends Error{constructor(n,r,i,a){super(a),this._offendingState=-1,this._recognizer=n,this.input=r,this.ctx=i,n&&(this._offendingState=n.state)}get offendingState(){return this._offendingState}setOffendingState(n){this._offendingState=n}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(n){if(!(n&&n!==this._recognizer))return this.offendingToken}setOffendingToken(n,r){n===this._recognizer&&(this.offendingToken=r)}get recognizer(){return this._recognizer}};return L0.RecognitionException=e,L0}var Al={},F0={},El={},U_;function sf(){if(U_)return El;U_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=El&&El.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g},t=El&&El.__param||function(i,a){return function(l,u){a(l,u,i)}};Object.defineProperty(El,"__esModule",{value:!0}),El.Transition=void 0;const n=Ve();let r=class{constructor(a){if(a==null)throw new Error("target cannot be null.");this.target=a}get isEpsilon(){return!1}get label(){}};return r.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],e([n.NotNull],r.prototype,"target",void 0),r=e([t(0,n.NotNull)],r),El.Transition=r,El}var V_;function nR(){if(V_)return F0;V_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(F0,"__esModule",{value:!0}),F0.AbstractPredicateTransition=void 0;const e=sf();let t=class extends e.Transition{constructor(r){super(r)}};return F0.AbstractPredicateTransition=t,F0}var ed={},wl={},td={},mw={},G_;function mr(){return G_||(G_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash=void 0,function(t){function r(c=0){return c}t.initialize=r;function i(c,g){g==null?g=0:typeof g=="string"?g=u(g):typeof g=="object"&&(g=g.hashCode());let w=g;return w=Math.imul(w,3432918353),w=w<<15|w>>>17,w=Math.imul(w,461845907),c=c^w,c=c<<13|c>>>19,c=Math.imul(c,5)+3864292196,c&4294967295}t.update=i;function a(c,g){return c=c^g*4,c=c^c>>>16,c=Math.imul(c,2246822507),c=c^c>>>13,c=Math.imul(c,3266489909),c=c^c>>>16,c}t.finish=a;function l(c,g=0){let p=r(g),m=0;for(let x of c)p=i(p,x),m++;return p=a(p,m),p}t.hashCode=l;function u(c){let g=c.length;if(g===0)return 0;let p=0;for(let m=0;m<g;m++){let x=c.charCodeAt(m);p=(p<<5>>>0)-p+x,p|=0}return p}}(e.MurmurHash||(e.MurmurHash={}))}(mw)),mw}var nd={},$_;function Va(){if($_)return nd;$_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nd&&nd.__decorate||function(r,i,a,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,a,c):g(i,a))||c);return u>3&&c&&Object.defineProperty(i,a,c),c};Object.defineProperty(nd,"__esModule",{value:!0}),nd.ObjectEqualityComparator=void 0;const t=Ve();let n=class{hashCode(i){return i==null?0:i.hashCode()}equals(i,a){return i==null?a==null:i.equals(a)}};return n.INSTANCE=new n,e([t.Override],n.prototype,"hashCode",null),e([t.Override],n.prototype,"equals",null),nd.ObjectEqualityComparator=n,nd}var W_;function FH(){if(W_)return td;W_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=td&&td.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(td,"__esModule",{value:!0}),td.DefaultEqualityComparator=void 0;const t=Ve(),n=mr(),r=Va();let i=class{hashCode(l){return l==null?0:typeof l=="string"||typeof l=="number"?n.MurmurHash.hashCode([l]):r.ObjectEqualityComparator.INSTANCE.hashCode(l)}equals(l,u){return l==null?u==null:typeof l=="string"||typeof l=="number"?l===u:r.ObjectEqualityComparator.INSTANCE.equals(l,u)}};return i.INSTANCE=new i,e([t.Override],i.prototype,"hashCode",null),e([t.Override],i.prototype,"equals",null),td.DefaultEqualityComparator=i,td}var H_;function af(){if(H_)return wl;H_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wl&&wl.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(E=(b<3?C(E):b>3?C(p,m,E):C(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E},t=wl&&wl.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(wl,"__esModule",{value:!0}),wl.Array2DHashSet=void 0;const n=Ii(),r=FH(),i=Ve(),a=mr(),l=16,u=.75;let c=class Yb{constructor(p,m=l){if(this.n=0,this.threshold=Math.floor(l*u),p instanceof Yb){this.comparator=p.comparator,this.buckets=p.buckets.slice(0);for(let x=0;x<this.buckets.length;x++){let b=this.buckets[x];b&&(this.buckets[x]=b.slice(0))}this.n=p.n,this.threshold=p.threshold}else this.comparator=p||r.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(m)}getOrAdd(p){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(p)}getOrAddImpl(p){let m=this.getBucket(p),x=this.buckets[m];if(!x)return x=[p],this.buckets[m]=x,this.n++,p;for(let b of x)if(this.comparator.equals(b,p))return b;return x.push(p),this.n++,p}get(p){if(p==null)return p;let m=this.getBucket(p),x=this.buckets[m];if(x){for(let b of x)if(this.comparator.equals(b,p))return b}}getBucket(p){return this.comparator.hashCode(p)&this.buckets.length-1}hashCode(){let p=a.MurmurHash.initialize();for(let m of this.buckets)if(m!=null)for(let x of m){if(x==null)break;p=a.MurmurHash.update(p,this.comparator.hashCode(x))}return p=a.MurmurHash.finish(p,this.size),p}equals(p){return p===this?!0:!(p instanceof Yb)||p.size!==this.size?!1:this.containsAll(p)}expand(){let p=this.buckets,m=this.buckets.length*2,x=this.createBuckets(m);this.buckets=x,this.threshold=Math.floor(m*u);let b=this.size;for(let E of p)if(E)for(let C of E){let w=this.getBucket(C),R=this.buckets[w];R||(R=[],this.buckets[w]=R),R.push(C)}n(this.n===b)}add(p){return this.getOrAdd(p)===p}get size(){return this.n}get isEmpty(){return this.n===0}contains(p){return this.containsFast(this.asElementType(p))}containsFast(p){return p==null?!1:this.get(p)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){const p=new Array(this.size);let m=0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;p[m++]=b}return p}containsAll(p){if(p instanceof Yb){let m=p;for(let x of m.buckets)if(x!=null)for(let b of x){if(b==null)break;if(!this.containsFast(this.asElementType(b)))return!1}}else for(let m of p)if(!this.containsFast(this.asElementType(m)))return!1;return!0}addAll(p){let m=!1;for(let x of p)this.getOrAdd(x)!==x&&(m=!0);return m}clear(){this.buckets=this.createBuckets(l),this.n=0,this.threshold=Math.floor(l*u)}toString(){if(this.size===0)return"{}";let p="{",m=!0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;m?m=!1:p+=", ",p+=b.toString()}return p+="}",p}toTableString(){let p="";for(let m of this.buckets){if(m==null){p+=`null
`;continue}p+="[";let x=!0;for(let b of m)x?x=!1:p+=" ",b==null?p+="_":p+=b.toString();p+=`]
`}return p}asElementType(p){return p}createBuckets(p){return new Array(p)}};return e([i.NotNull],c.prototype,"comparator",void 0),e([i.Override],c.prototype,"hashCode",null),e([i.Override],c.prototype,"equals",null),e([i.Override],c.prototype,"add",null),e([i.Override],c.prototype,"size",null),e([i.Override],c.prototype,"isEmpty",null),e([i.Override],c.prototype,"contains",null),e([t(0,i.Nullable)],c.prototype,"containsFast",null),e([i.Override],c.prototype,Symbol.iterator,null),e([i.Override],c.prototype,"toArray",null),e([i.Override],c.prototype,"containsAll",null),e([i.Override],c.prototype,"addAll",null),e([i.Override],c.prototype,"clear",null),e([i.Override],c.prototype,"toString",null),e([i.SuppressWarnings("unchecked")],c.prototype,"asElementType",null),e([i.SuppressWarnings("unchecked")],c.prototype,"createBuckets",null),wl.Array2DHashSet=c,wl}var rd={},Y_;function ZS(){if(Y_)return rd;Y_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=rd&&rd.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(rd,"__esModule",{value:!0}),rd.ArrayEqualityComparator=void 0;const t=Ve(),n=mr(),r=Va();let i=class{hashCode(l){return l==null?0:n.MurmurHash.hashCode(l,0)}equals(l,u){if(l==null)return u==null;if(u==null||l.length!==u.length)return!1;for(let c=0;c<l.length;c++)if(!r.ObjectEqualityComparator.INSTANCE.equals(l[c],u[c]))return!1;return!0}};return i.INSTANCE=new i,e([t.Override],i.prototype,"hashCode",null),e([t.Override],i.prototype,"equals",null),rd.ArrayEqualityComparator=i,rd}var fo={},q_;function Mu(){if(q_)return fo;q_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(fo,"__esModule",{value:!0}),fo.toCharArray=fo.toMap=fo.equals=fo.join=fo.escapeWhitespace=void 0;function e(a,l){return l?a.replace(/ /,""):a.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}fo.escapeWhitespace=e;function t(a,l){let u="",c=!0;for(let g of a)c?c=!1:u+=l,u+=g;return u}fo.join=t;function n(a,l){return a===l?!0:a===void 0||l===void 0?!1:a.equals(l)}fo.equals=n;function r(a){let l=new Map;for(let u=0;u<a.length;u++)l.set(a[u],u);return l}fo.toMap=r;function i(a){if(typeof a=="string"){let l=new Uint16Array(a.length);for(let u=0;u<a.length;u++)l[u]=a.charCodeAt(u);return l}else return a.toCharArray()}return fo.toCharArray=i,fo}var K_;function Ig(){return K_||(K_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=ed&&ed.__decorate||function(x,b,E,C){var w=arguments.length,R=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,E):C,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,E,C);else for(var N=x.length-1;N>=0;N--)(I=x[N])&&(R=(w<3?I(R):w>3?I(b,E,R):I(b,E))||R);return w>3&&R&&Object.defineProperty(b,E,R),R},n=ed&&ed.__param||function(x,b){return function(E,C){b(E,C,x)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticContext=void 0;const r=af(),i=ZS(),a=mr(),l=Ve(),u=Va(),c=Mu();function g(x){let b;for(let E of x){if(b===void 0){b=E;continue}b.compareTo(E)<0&&(b=E)}return b}function p(x){let b;for(let E of x){if(b===void 0){b=E;continue}b.compareTo(E)>0&&(b=E)}return b}let m=class Bo{static get NONE(){return Bo._NONE===void 0&&(Bo._NONE=new Bo.Predicate),Bo._NONE}evalPrecedence(b,E){return this}static and(b,E){if(!b||b===Bo.NONE)return E;if(E===Bo.NONE)return b;let C=new Bo.AND(b,E);return C.opnds.length===1?C.opnds[0]:C}static or(b,E){if(!b)return E;if(b===Bo.NONE||E===Bo.NONE)return Bo.NONE;let C=new Bo.OR(b,E);return C.opnds.length===1?C.opnds[0]:C}};e.SemanticContext=m,function(x){function C(L){let k=[];for(let j=0;j<L.length;j++){let B=L[j];B instanceof x.PrecedencePredicate&&(k.push(B),L.splice(j,1),j--)}return k}class w extends x{constructor(k=-1,j=-1,B=!1){super(),this.ruleIndex=k,this.predIndex=j,this.isCtxDependent=B}eval(k,j){let B=this.isCtxDependent?j:void 0;return k.sempred(B,this.ruleIndex,this.predIndex)}hashCode(){let k=a.MurmurHash.initialize();return k=a.MurmurHash.update(k,this.ruleIndex),k=a.MurmurHash.update(k,this.predIndex),k=a.MurmurHash.update(k,this.isCtxDependent?1:0),k=a.MurmurHash.finish(k,3),k}equals(k){return k instanceof w?this===k?!0:this.ruleIndex===k.ruleIndex&&this.predIndex===k.predIndex&&this.isCtxDependent===k.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}t([l.Override],w.prototype,"eval",null),t([l.Override],w.prototype,"hashCode",null),t([l.Override],w.prototype,"equals",null),t([l.Override],w.prototype,"toString",null),x.Predicate=w;class R extends x{constructor(k){super(),this.precedence=k}eval(k,j){return k.precpred(j,this.precedence)}evalPrecedence(k,j){if(k.precpred(j,this.precedence))return x.NONE}compareTo(k){return this.precedence-k.precedence}hashCode(){let k=1;return k=31*k+this.precedence,k}equals(k){return k instanceof R?this===k?!0:this.precedence===k.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}t([l.Override],R.prototype,"eval",null),t([l.Override],R.prototype,"evalPrecedence",null),t([l.Override],R.prototype,"compareTo",null),t([l.Override],R.prototype,"hashCode",null),t([l.Override],R.prototype,"equals",null),t([l.Override],R.prototype,"toString",null),x.PrecedencePredicate=R;class I extends x{}x.Operator=I;let N=class qb extends I{constructor(k,j){super();let B=new r.Array2DHashSet(u.ObjectEqualityComparator.INSTANCE);k instanceof qb?B.addAll(k.opnds):B.add(k),j instanceof qb?B.addAll(j.opnds):B.add(j),this.opnds=B.toArray();let $=C(this.opnds),K=p($);K&&this.opnds.push(K)}get operands(){return this.opnds}equals(k){return this===k?!0:k instanceof qb?i.ArrayEqualityComparator.INSTANCE.equals(this.opnds,k.opnds):!1}hashCode(){return a.MurmurHash.hashCode(this.opnds,40363613)}eval(k,j){for(let B of this.opnds)if(!B.eval(k,j))return!1;return!0}evalPrecedence(k,j){let B=!1,$=[];for(let ne of this.opnds){let re=ne.evalPrecedence(k,j);if(B=B||re!==ne,re==null)return;re!==x.NONE&&$.push(re)}if(!B)return this;if($.length===0)return x.NONE;let K=$[0];for(let ne=1;ne<$.length;ne++)K=x.and(K,$[ne]);return K}toString(){return c.join(this.opnds,"&&")}};t([l.Override],N.prototype,"operands",null),t([l.Override],N.prototype,"equals",null),t([l.Override],N.prototype,"hashCode",null),t([l.Override],N.prototype,"eval",null),t([l.Override],N.prototype,"evalPrecedence",null),t([l.Override],N.prototype,"toString",null),N=t([n(0,l.NotNull),n(1,l.NotNull)],N),x.AND=N;let D=class Kb extends I{constructor(k,j){super();let B=new r.Array2DHashSet(u.ObjectEqualityComparator.INSTANCE);k instanceof Kb?B.addAll(k.opnds):B.add(k),j instanceof Kb?B.addAll(j.opnds):B.add(j),this.opnds=B.toArray();let $=C(this.opnds),K=g($);K&&this.opnds.push(K)}get operands(){return this.opnds}equals(k){return this===k?!0:k instanceof Kb?i.ArrayEqualityComparator.INSTANCE.equals(this.opnds,k.opnds):!1}hashCode(){return a.MurmurHash.hashCode(this.opnds,486279973)}eval(k,j){for(let B of this.opnds)if(B.eval(k,j))return!0;return!1}evalPrecedence(k,j){let B=!1,$=[];for(let ne of this.opnds){let re=ne.evalPrecedence(k,j);if(B=B||re!==ne,re===x.NONE)return x.NONE;re&&$.push(re)}if(!B)return this;if($.length===0)return;let K=$[0];for(let ne=1;ne<$.length;ne++)K=x.or(K,$[ne]);return K}toString(){return c.join(this.opnds,"||")}};t([l.Override],D.prototype,"operands",null),t([l.Override],D.prototype,"equals",null),t([l.Override],D.prototype,"hashCode",null),t([l.Override],D.prototype,"eval",null),t([l.Override],D.prototype,"evalPrecedence",null),t([l.Override],D.prototype,"toString",null),D=t([n(0,l.NotNull),n(1,l.NotNull)],D),x.OR=D}(m=e.SemanticContext||(e.SemanticContext={}))}(ed)),ed}var X_;function YF(){if(X_)return Al;X_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Al&&Al.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Al&&Al.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Al,"__esModule",{value:!0}),Al.PredicateTransition=void 0;const n=nR(),r=Ve(),i=Ig();let a=class extends n.AbstractPredicateTransition{constructor(u,c,g,p){super(u),this.ruleIndex=c,this.predIndex=g,this.isCtxDependent=p}get serializationType(){return 4}get isEpsilon(){return!0}matches(u,c,g){return!1}get predicate(){return new i.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override],a.prototype,"isEpsilon",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),Al.PredicateTransition=a,Al}var Z_;function JS(){if(Z_)return Sl;Z_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sl&&Sl.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Sl&&Sl.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.FailedPredicateException=void 0;const n=of(),r=Ve(),i=YF();let a=class qF extends n.RecognitionException{constructor(u,c,g){super(u,u.inputStream,u.context,qF.formatMessage(c,g));let m=u.interpreter.atn.states[u.state].transition(0);m instanceof i.PredicateTransition?(this._ruleIndex=m.ruleIndex,this._predicateIndex=m.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=c,super.setOffendingToken(u,u.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(u,c){return c||`failed predicate: {${u}}?`}};return e([r.NotNull],a,"formatMessage",null),a=e([t(0,r.NotNull)],a),Sl.FailedPredicateException=a,Sl}var Cl={},J_;function QS(){if(J_)return Cl;J_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cl&&Cl.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Cl&&Cl.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.InputMismatchException=void 0;const n=of(),r=Ve();let i=class extends n.RecognitionException{constructor(l,u,c){c===void 0&&(c=l.context),super(l,l.inputStream,c),u!==void 0&&this.setOffendingState(u),this.setOffendingToken(l,l.currentToken)}};return i=e([t(0,r.NotNull)],i),Cl.InputMismatchException=i,Cl}var Rl={},id={},vw={},Q_;function rR(){return Q_||(Q_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Arrays=void 0,function(t){function n(a,l,u,c){return r(a,u!==void 0?u:0,c!==void 0?c:a.length,l)}t.binarySearch=n;function r(a,l,u,c){let g=l,p=u-1;for(;g<=p;){let m=g+p>>>1,x=a[m];if(x<c)g=m+1;else if(x>c)p=m-1;else return m}return-(g+1)}function i(a){let l="[",u=!0;for(let c of a)u?u=!1:l+=", ",c===null?l+="null":c===void 0?l+="undefined":l+=c;return l+="]",l}t.toString=i}(e.Arrays||(e.Arrays={}))}(vw)),vw}var eI;function iR(){if(eI)return id;eI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=id&&id.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x};Object.defineProperty(id,"__esModule",{value:!0}),id.IntegerList=void 0;const t=rR(),n=Ve(),r=new Int32Array(0),i=4,a=(1<<31>>>0)-1-8;let l=class Xb{constructor(c){if(!c)this._data=r,this._size=0;else if(c instanceof Xb)this._data=c._data.slice(0),this._size=c._size;else if(typeof c=="number")c===0?(this._data=r,this._size=0):(this._data=new Int32Array(c),this._size=0);else{this._data=r,this._size=0;for(let g of c)this.add(g)}}add(c){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=c,this._size++}addAll(c){if(Array.isArray(c))this.ensureCapacity(this._size+c.length),this._data.subarray(this._size,this._size+c.length).set(c),this._size+=c.length;else if(c instanceof Xb)this.ensureCapacity(this._size+c._size),this._data.subarray(this._size,this._size+c.size).set(c._data),this._size+=c._size;else{this.ensureCapacity(this._size+c.size);let g=0;for(let p of c)this._data[this._size+g]=p,g++;this._size+=c.size}}get(c){if(c<0||c>=this._size)throw RangeError();return this._data[c]}contains(c){for(let g=0;g<this._size;g++)if(this._data[g]===c)return!0;return!1}set(c,g){if(c<0||c>=this._size)throw RangeError();let p=this._data[c];return this._data[c]=g,p}removeAt(c){let g=this.get(c);return this._data.copyWithin(c,c+1,this._size),this._data[this._size-1]=0,this._size--,g}removeRange(c,g){if(c<0||g<0||c>this._size||g>this._size||c>g)throw RangeError();this._data.copyWithin(g,c,this._size),this._data.fill(0,this._size-(g-c),this._size),this._size-=g-c}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(c){if(c===this)return!0;if(!(c instanceof Xb)||this._size!==c._size)return!1;for(let g=0;g<this._size;g++)if(this._data[g]!==c._data[g])return!1;return!0}hashCode(){let c=1;for(let g=0;g<this._size;g++)c=31*c+this._data[g];return c}toString(){return this._data.toString()}binarySearch(c,g,p){if(g===void 0&&(g=0),p===void 0&&(p=this._size),g<0||p<0||g>this._size||p>this._size)throw new RangeError;if(g>p)throw new RangeError;return t.Arrays.binarySearch(this._data,c,g,p)}ensureCapacity(c){if(c<0||c>a)throw new RangeError;let g;for(this._data.length===0?g=i:g=this._data.length;g<c;)g=g*2,(g<0||g>a)&&(g=a);let p=new Int32Array(g);p.set(this._data),this._data=p}toCharArray(){let c=new Uint16Array(this._size),g=0,p=!1;for(let m=0;m<this._size;m++){let x=this._data[m];if(x>=0&&x<65536){c[g]=x,g++;continue}if(!p){let E=new Uint16Array(this.charArraySize());E.set(c,0),c=E,p=!0}let b=String.fromCodePoint(x);c[g]=b.charCodeAt(0),c[g+1]=b.charCodeAt(1),g+=2}return c}charArraySize(){let c=0;for(let g=0;g<this._size;g++)c+=this._data[g]>=65536?2:1;return c}};return e([n.NotNull],l.prototype,"_data",void 0),e([n.Override],l.prototype,"equals",null),e([n.Override],l.prototype,"hashCode",null),e([n.Override],l.prototype,"toString",null),id.IntegerList=l,id}var od={},tI;function Zi(){if(tI)return od;tI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=od&&od.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(od,"__esModule",{value:!0}),od.Interval=void 0;const t=Ve(),n=1e3;let r=class jo{constructor(a,l){this.a=a,this.b=l}static get INVALID(){return jo._INVALID}static of(a,l){return a!==l||a<0||a>n?new jo(a,l):(jo.cache[a]==null&&(jo.cache[a]=new jo(a,a)),jo.cache[a])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(a){return a===this?!0:a instanceof jo?this.a===a.a&&this.b===a.b:!1}hashCode(){let a=23;return a=a*31+this.a,a=a*31+this.b,a}startsBeforeDisjoint(a){return this.a<a.a&&this.b<a.a}startsBeforeNonDisjoint(a){return this.a<=a.a&&this.b>=a.a}startsAfter(a){return this.a>a.a}startsAfterDisjoint(a){return this.a>a.b}startsAfterNonDisjoint(a){return this.a>a.a&&this.a<=a.b}disjoint(a){return this.startsBeforeDisjoint(a)||this.startsAfterDisjoint(a)}adjacent(a){return this.a===a.b+1||this.b===a.a-1}properlyContains(a){return a.a>=this.a&&a.b<=this.b}union(a){return jo.of(Math.min(this.a,a.a),Math.max(this.b,a.b))}intersection(a){return jo.of(Math.max(this.a,a.a),Math.min(this.b,a.b))}differenceNotProperlyContained(a){let l;return a.startsBeforeNonDisjoint(this)?l=jo.of(Math.max(this.a,a.b+1),this.b):a.startsAfterNonDisjoint(this)&&(l=jo.of(this.a,a.a-1)),l}toString(){return this.a+".."+this.b}};return r._INVALID=new r(-1,-2),r.cache=new Array(n+1),e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),e([t.Override],r.prototype,"toString",null),od.Interval=r,od}var sd={},k0={},Tl={},yw={},nI;function Wn(){return nI||(nI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Token=void 0;const t=rf();(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=t.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(e.Token||(e.Token={}))}(yw)),yw}var rI;function Qv(){if(rI)return Tl;rI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Tl&&Tl.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Tl&&Tl.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.CommonToken=void 0;const n=Zi(),r=Ve(),i=Wn();let a=class uv{constructor(u,c,g=uv.EMPTY_SOURCE,p=i.Token.DEFAULT_CHANNEL,m=0,x=0){this._line=0,this._charPositionInLine=-1,this._channel=i.Token.DEFAULT_CHANNEL,this.index=-1,this._text=c,this._type=u,this.source=g,this._channel=p,this.start=m,this.stop=x,g.source!=null&&(this._line=g.source.line,this._charPositionInLine=g.source.charPositionInLine)}static fromToken(u){let c=new uv(u.type,void 0,uv.EMPTY_SOURCE,u.channel,u.startIndex,u.stopIndex);return c._line=u.line,c.index=u.tokenIndex,c._charPositionInLine=u.charPositionInLine,u instanceof uv?(c._text=u._text,c.source=u.source):(c._text=u.text,c.source={source:u.tokenSource,stream:u.inputStream}),c}get type(){return this._type}set type(u){this._type=u}get line(){return this._line}set line(u){this._line=u}get text(){if(this._text!=null)return this._text;let u=this.inputStream;if(u==null)return;let c=u.size;return this.start<c&&this.stop<c?u.getText(n.Interval.of(this.start,this.stop)):"<EOF>"}set text(u){this._text=u}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(u){this._charPositionInLine=u}get channel(){return this._channel}set channel(u){this._channel=u}get startIndex(){return this.start}set startIndex(u){this.start=u}get stopIndex(){return this.stop}set stopIndex(u){this.stop=u}get tokenIndex(){return this.index}set tokenIndex(u){this.index=u}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(u){let c="";this._channel>0&&(c=",channel="+this._channel);let g=this.text;g!=null?(g=g.replace(/\n/g,"\\n"),g=g.replace(/\r/g,"\\r"),g=g.replace(/\t/g,"\\t")):g="<no text>";let p=String(this._type);return u&&(p=u.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+g+"',<"+p+">"+c+","+this._line+":"+this.charPositionInLine+"]"}};return a.EMPTY_SOURCE={source:void 0,stream:void 0},e([r.NotNull],a.prototype,"source",void 0),e([r.Override],a.prototype,"type",null),e([r.Override],a.prototype,"line",null),e([r.Override],a.prototype,"text",null),e([r.Override],a.prototype,"charPositionInLine",null),e([r.Override],a.prototype,"channel",null),e([r.Override],a.prototype,"startIndex",null),e([r.Override],a.prototype,"stopIndex",null),e([r.Override],a.prototype,"tokenIndex",null),e([r.Override],a.prototype,"tokenSource",null),e([r.Override],a.prototype,"inputStream",null),e([r.Override],a.prototype,"toString",null),e([t(0,r.NotNull)],a,"fromToken",null),a=e([t(2,r.NotNull)],a),Tl.CommonToken=a,Tl}var iI;function oR(){return iI||(iI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=k0&&k0.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTokenFactory=void 0;const n=Qv(),r=Zi(),i=Ve();let a=class{constructor(u=!1){this.copyText=u}create(u,c,g,p,m,x,b,E){let C=new n.CommonToken(c,g,u,p,m,x);return C.line=b,C.charPositionInLine=E,g==null&&this.copyText&&u.stream!=null&&(C.text=u.stream.getText(r.Interval.of(m,x))),C}createSimple(u,c){return new n.CommonToken(u,c)}};t([i.Override],a.prototype,"create",null),t([i.Override],a.prototype,"createSimple",null),e.CommonTokenFactory=a,function(l){l.DEFAULT=new l}(a=e.CommonTokenFactory||(e.CommonTokenFactory={}))}(k0)),k0}var B0={},oI;function KF(){if(oI)return B0;oI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(B0,"__esModule",{value:!0}),B0.IntegerStack=void 0;const e=iR();let t=class extends e.IntegerList{constructor(r){super(r)}push(r){this.add(r)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};return B0.IntegerStack=t,B0}var ad={},j0={},sI;function XF(){if(sI)return j0;sI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(j0,"__esModule",{value:!0}),j0.AcceptStateInfo=void 0;let e=class{constructor(n,r){this._prediction=n,this._lexerActionExecutor=r}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};return j0.AcceptStateInfo=e,j0}var ld={},z0={},aI;function Og(){if(aI)return z0;aI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(z0,"__esModule",{value:!0}),z0.Array2DHashMap=void 0;const e=af();class t{constructor(i){this.keyComparator=i}hashCode(i){return this.keyComparator.hashCode(i.key)}equals(i,a){return this.keyComparator.equals(i.key,a.key)}}let n=class _C{constructor(i){i instanceof _C?this.backingStore=new e.Array2DHashSet(i.backingStore):this.backingStore=new e.Array2DHashSet(new t(i))}clear(){this.backingStore.clear()}containsKey(i){return this.backingStore.contains({key:i})}get(i){let a=this.backingStore.get({key:i});if(a)return a.value}get isEmpty(){return this.backingStore.isEmpty}put(i,a){let l=this.backingStore.get({key:i,value:a}),u;return l?(u=l.value,l.value=a):this.backingStore.add({key:i,value:a}),u}putIfAbsent(i,a){let l=this.backingStore.get({key:i,value:a}),u;return l?u=l.value:this.backingStore.add({key:i,value:a}),u}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(i){return i instanceof _C?this.backingStore.equals(i.backingStore):!1}};return z0.Array2DHashMap=n,z0}var Nl={},ud={},_l={},U0={},lI;function bh(){if(lI)return U0;lI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(U0,"__esModule",{value:!0}),U0.DecisionState=void 0;const e=Du();let t=class extends e.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}};return U0.DecisionState=t,U0}var cd={},V0={},uI;function sR(){return uI||(uI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=V0&&V0.__decorate||function(c,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(c,g,p,m);else for(var C=c.length-1;C>=0;C--)(E=c[C])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionContextCache=void 0;const n=Og(),r=Ve(),i=Va(),a=Fs(),l=Ii();let u=class IC{constructor(g=!0){this.contexts=new n.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.childContexts=new n.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.joinContexts=new n.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.enableCache=g}getAsCached(g){if(!this.enableCache)return g;let p=this.contexts.get(g);return p||(p=g,this.contexts.put(g,g)),p}getChild(g,p){if(!this.enableCache)return g.getChild(p);let m=new IC.PredictionContextAndInt(g,p),x=this.childContexts.get(m);return x||(x=g.getChild(p),x=this.getAsCached(x),this.childContexts.put(m,x)),x}join(g,p){if(!this.enableCache)return a.PredictionContext.join(g,p,this);let m=new IC.IdentityCommutativePredictionContextOperands(g,p),x=this.joinContexts.get(m);return x||(x=a.PredictionContext.join(g,p,this),x=this.getAsCached(x),this.joinContexts.put(m,x),x)}};e.PredictionContextCache=u,u.UNCACHED=new u(!1),function(c){class g{constructor(x,b){this.obj=x,this.value=b}equals(x){if(x instanceof g){if(x===this)return!0}else return!1;let b=x;return this.value===b.value&&(this.obj===b.obj||this.obj!=null&&this.obj.equals(b.obj))}hashCode(){let x=5;return x=7*x+(this.obj!=null?this.obj.hashCode():0),x=7*x+this.value,x}}t([r.Override],g.prototype,"equals",null),t([r.Override],g.prototype,"hashCode",null),c.PredictionContextAndInt=g;class p{constructor(x,b){l(x!=null),l(b!=null),this._x=x,this._y=b}get x(){return this._x}get y(){return this._y}equals(x){if(x instanceof p){if(this===x)return!0}else return!1;let b=x;return this._x===b._x&&this._y===b._y||this._x===b._y&&this._y===b._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}t([r.Override],p.prototype,"equals",null),t([r.Override],p.prototype,"hashCode",null),c.IdentityCommutativePredictionContextOperands=p}(u=e.PredictionContextCache||(e.PredictionContextCache={}))}(V0)),V0}var cI;function Fs(){return cI||(cI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=cd&&cd.__decorate||function(C,w,R,I){var N=arguments.length,D=N<3?w:I===null?I=Object.getOwnPropertyDescriptor(w,R):I,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,R,I);else for(var k=C.length-1;k>=0;k--)(L=C[k])&&(D=(N<3?L(D):N>3?L(w,R,D):L(w,R))||D);return N>3&&D&&Object.defineProperty(w,R,D),D},n=cd&&cd.__param||function(C,w){return function(R,I){w(R,I,C)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SingletonPredictionContext=e.PredictionContext=void 0;const r=Og(),i=af(),a=rR(),l=mr(),u=Ve(),c=sR(),g=Ii(),p=1;let m=class mi{constructor(w){this.cachedHashCode=w}static calculateEmptyHashCode(){let w=l.MurmurHash.initialize(p);return w=l.MurmurHash.finish(w,0),w}static calculateSingleHashCode(w,R){let I=l.MurmurHash.initialize(p);return I=l.MurmurHash.update(I,w),I=l.MurmurHash.update(I,R),I=l.MurmurHash.finish(I,2),I}static calculateHashCode(w,R){let I=l.MurmurHash.initialize(p);for(let N of w)I=l.MurmurHash.update(I,N);for(let N of R)I=l.MurmurHash.update(I,N);return I=l.MurmurHash.finish(I,2*w.length),I}static fromRuleContext(w,R,I=!0){if(R.isEmpty)return I?mi.EMPTY_FULL:mi.EMPTY_LOCAL;let N;R._parent?N=mi.fromRuleContext(w,R._parent,I):N=I?mi.EMPTY_FULL:mi.EMPTY_LOCAL;let L=w.states[R.invokingState].transition(0);return N.getChild(L.followState.stateNumber)}static addEmptyContext(w){return w.addEmptyContext()}static removeEmptyContext(w){return w.removeEmptyContext()}static join(w,R,I=c.PredictionContextCache.UNCACHED){if(w===R)return w;if(w.isEmpty)return mi.isEmptyLocal(w)?w:mi.addEmptyContext(R);if(R.isEmpty)return mi.isEmptyLocal(R)?R:mi.addEmptyContext(w);let N=w.size,D=R.size;if(N===1&&D===1&&w.getReturnState(0)===R.getReturnState(0)){let re=I.join(w.getParent(0),R.getParent(0));return re===w.getParent(0)?w:re===R.getParent(0)?R:re.getChild(w.getReturnState(0))}let L=0,k=new Array(N+D),j=new Array(k.length),B=0,$=0,K=!0,ne=!0;for(;B<N&&$<D;)w.getReturnState(B)===R.getReturnState($)?(k[L]=I.join(w.getParent(B),R.getParent($)),j[L]=w.getReturnState(B),K=K&&k[L]===w.getParent(B),ne=ne&&k[L]===R.getParent($),B++,$++):w.getReturnState(B)<R.getReturnState($)?(k[L]=w.getParent(B),j[L]=w.getReturnState(B),ne=!1,B++):(g(R.getReturnState($)<w.getReturnState(B)),k[L]=R.getParent($),j[L]=R.getReturnState($),K=!1,$++),L++;for(;B<N;)k[L]=w.getParent(B),j[L]=w.getReturnState(B),B++,ne=!1,L++;for(;$<D;)k[L]=R.getParent($),j[L]=R.getReturnState($),$++,K=!1,L++;return K?w:ne?R:(L<k.length&&(k=k.slice(0,L),j=j.slice(0,L)),k.length===0?mi.EMPTY_FULL:k.length===1?new E(k[0],j[0]):new b(k,j))}static isEmptyLocal(w){return w===mi.EMPTY_LOCAL}static getCachedContext(w,R,I){if(w.isEmpty)return w;let N=I.get(w);if(N)return N;if(N=R.get(w),N)return I.put(w,N),N;let D=!1,L=new Array(w.size);for(let j=0;j<L.length;j++){let B=mi.getCachedContext(w.getParent(j),R,I);if(D||B!==w.getParent(j)){if(!D){L=new Array(w.size);for(let $=0;$<w.size;$++)L[$]=w.getParent($);D=!0}L[j]=B}}if(!D)return N=R.putIfAbsent(w,w),I.put(w,N??w),w;let k;if(L.length===1)k=new E(L[0],w.getReturnState(0));else{let j=new Array(w.size);for(let B=0;B<w.size;B++)j[B]=w.getReturnState(B);k=new b(L,j,w.hashCode())}return N=R.putIfAbsent(k,k),I.put(k,N||k),I.put(w,N||k),k}appendSingleContext(w,R){return this.appendContext(mi.EMPTY_FULL.getChild(w),R)}getChild(w){return new E(this,w)}hashCode(){return this.cachedHashCode}toStrings(w,R,I=mi.EMPTY_FULL){let N=[];e:for(let D=0;;D++){let L=0,k=!0,j=this,B=R,$="";for($+="[";!j.isEmpty&&j!==I;){let K=0;if(j.size>0){let ne=1;for(;1<<ne>>>0<j.size;)ne++;let re=(1<<ne>>>0)-1;if(K=D>>L&re,k=k&&K>=j.size-1,K>=j.size)continue e;L+=ne}if(w){$.length>1&&($+=" ");let re=w.atn.states[B],Se=w.ruleNames[re.ruleIndex];$+=Se}else j.getReturnState(K)!==mi.EMPTY_FULL_STATE_KEY&&(j.isEmpty||($.length>1&&($+=" "),$+=j.getReturnState(K)));B=j.getReturnState(K),j=j.getParent(K)}if($+="]",N.push($),k)break}return N}};t([u.Override],m.prototype,"hashCode",null),t([n(0,u.NotNull),n(1,u.NotNull),n(2,u.NotNull)],m,"join",null),t([n(0,u.NotNull),n(1,u.NotNull),n(2,u.NotNull)],m,"getCachedContext",null),e.PredictionContext=m;class x extends m{constructor(w){super(m.calculateEmptyHashCode()),this.fullContext=w}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(w){throw new Error("index out of bounds")}getReturnState(w){throw new Error("index out of bounds")}findReturnState(w){return-1}get size(){return 0}appendSingleContext(w,R){return R.getChild(this,w)}appendContext(w,R){return w}get isEmpty(){return!0}get hasEmpty(){return!0}equals(w){return this===w}toStrings(w,R,I){return["[]"]}}t([u.Override],x.prototype,"addEmptyContext",null),t([u.Override],x.prototype,"removeEmptyContext",null),t([u.Override],x.prototype,"getParent",null),t([u.Override],x.prototype,"getReturnState",null),t([u.Override],x.prototype,"findReturnState",null),t([u.Override],x.prototype,"size",null),t([u.Override],x.prototype,"appendSingleContext",null),t([u.Override],x.prototype,"appendContext",null),t([u.Override],x.prototype,"isEmpty",null),t([u.Override],x.prototype,"hasEmpty",null),t([u.Override],x.prototype,"equals",null),t([u.Override],x.prototype,"toStrings",null);let b=class eh extends m{constructor(w,R,I){super(I||m.calculateHashCode(w,R)),g(w.length===R.length),g(R.length>1||R[0]!==m.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=w,this.returnStates=R}getParent(w){return this.parents[w]}getReturnState(w){return this.returnStates[w]}findReturnState(w){return a.Arrays.binarySearch(this.returnStates,w)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===m.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let w=this.parents.slice(0),R=this.returnStates.slice(0);return w.push(m.EMPTY_FULL),R.push(m.EMPTY_FULL_STATE_KEY),new eh(w,R)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new E(this.parents[0],this.returnStates[0]);{let w=this.parents.slice(0,this.parents.length-1),R=this.returnStates.slice(0,this.returnStates.length-1);return new eh(w,R)}}appendContext(w,R){return eh.appendContextImpl(this,w,new m.IdentityHashMap)}static appendContextImpl(w,R,I){if(R.isEmpty){if(m.isEmptyLocal(R)){if(w.hasEmpty)return m.EMPTY_LOCAL;throw new Error("what to do here?")}return w}if(R.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let N=I.get(w);if(!N){if(w.isEmpty)N=R;else{let D=w.size;w.hasEmpty&&D--;let L=new Array(D),k=new Array(D);for(let j=0;j<D;j++)k[j]=w.getReturnState(j);for(let j=0;j<D;j++)L[j]=eh.appendContextImpl(w.getParent(j),R,I);L.length===1?N=new E(L[0],k[0]):(g(L.length>1),N=new eh(L,k)),w.hasEmpty&&(N=m.join(N,R))}I.put(w,N)}return N}equals(w){if(this===w)return!0;if(!(w instanceof eh)||this.hashCode()!==w.hashCode())return!1;let R=w;return this.equalsImpl(R,new i.Array2DHashSet)}equalsImpl(w,R){let I=[],N=[];for(I.push(this),N.push(w);;){let D=I.pop(),L=N.pop();if(!D||!L)break;let k=new c.PredictionContextCache.IdentityCommutativePredictionContextOperands(D,L);if(!R.add(k))continue;let j=k.x.size;if(j===0){if(!k.x.equals(k.y))return!1;continue}let B=k.y.size;if(j!==B)return!1;for(let $=0;$<j;$++){if(k.x.getReturnState($)!==k.y.getReturnState($))return!1;let K=k.x.getParent($),ne=k.y.getParent($);if(K.hashCode()!==ne.hashCode())return!1;K!==ne&&(I.push(K),N.push(ne))}}return!0}};t([u.NotNull],b.prototype,"parents",void 0),t([u.NotNull],b.prototype,"returnStates",void 0),t([u.Override],b.prototype,"getParent",null),t([u.Override],b.prototype,"getReturnState",null),t([u.Override],b.prototype,"findReturnState",null),t([u.Override],b.prototype,"size",null),t([u.Override],b.prototype,"isEmpty",null),t([u.Override],b.prototype,"hasEmpty",null),t([u.Override],b.prototype,"addEmptyContext",null),t([u.Override],b.prototype,"removeEmptyContext",null),t([u.Override],b.prototype,"appendContext",null),t([u.Override],b.prototype,"equals",null),b=t([n(0,u.NotNull)],b);let E=class ZF extends m{constructor(w,R){super(m.calculateSingleHashCode(w,R)),this.parent=w,this.returnState=R}getParent(w){return this.parent}getReturnState(w){return this.returnState}findReturnState(w){return this.returnState===w?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(w,R){return R.getChild(this.parent.appendContext(w,R),this.returnState)}addEmptyContext(){let w=[this.parent,m.EMPTY_FULL],R=[this.returnState,m.EMPTY_FULL_STATE_KEY];return new b(w,R)}removeEmptyContext(){return this}equals(w){if(w===this)return!0;if(!(w instanceof ZF))return!1;let R=w;return this.hashCode()!==R.hashCode()?!1:this.returnState===R.returnState&&this.parent.equals(R.parent)}};t([u.NotNull],E.prototype,"parent",void 0),t([u.Override],E.prototype,"getParent",null),t([u.Override],E.prototype,"getReturnState",null),t([u.Override],E.prototype,"findReturnState",null),t([u.Override],E.prototype,"size",null),t([u.Override],E.prototype,"isEmpty",null),t([u.Override],E.prototype,"hasEmpty",null),t([u.Override],E.prototype,"appendContext",null),t([u.Override],E.prototype,"addEmptyContext",null),t([u.Override],E.prototype,"removeEmptyContext",null),t([u.Override],E.prototype,"equals",null),E=t([n(0,u.NotNull)],E),e.SingletonPredictionContext=E,function(C){C.EMPTY_LOCAL=new x(!1),C.EMPTY_FULL=new x(!0),C.EMPTY_LOCAL_STATE_KEY=-2147483648,C.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class w extends r.Array2DHashMap{constructor(){super(R.INSTANCE)}}C.IdentityHashMap=w;class R{IdentityEqualityComparator(){}hashCode(N){return N.hashCode()}equals(N,D){return N===D}}R.INSTANCE=new R,t([u.Override],R.prototype,"hashCode",null),t([u.Override],R.prototype,"equals",null),C.IdentityEqualityComparator=R}(m=e.PredictionContext||(e.PredictionContext={}))}(cd)),cd}var fI;function e1(){if(fI)return _l;fI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_l&&_l.__decorate||function(C,w,R,I){var N=arguments.length,D=N<3?w:I===null?I=Object.getOwnPropertyDescriptor(w,R):I,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,R,I);else for(var k=C.length-1;k>=0;k--)(L=C[k])&&(D=(N<3?L(D):N>3?L(w,R,D):L(w,R))||D);return N>3&&D&&Object.defineProperty(w,R,D),D},t=_l&&_l.__param||function(C,w){return function(R,I){w(R,I,C)}};Object.defineProperty(_l,"__esModule",{value:!0}),_l.ATNConfig=void 0;const n=Og(),r=bh(),i=mr(),a=Ve(),l=Va(),u=Fs(),c=Ig(),g=Ii(),p=2147483648;let m=class cv{constructor(w,R,I){typeof R=="number"?(g((R&16777215)===R),this._state=w,this.altAndOuterContextDepth=R,this._context=I):(this._state=w,this.altAndOuterContextDepth=R.altAndOuterContextDepth,this._context=I)}static create(w,R,I,N=c.SemanticContext.NONE,D){return N!==c.SemanticContext.NONE?D!=null?new E(D,N,w,R,I,!1):new x(N,w,R,I):D!=null?new b(D,w,R,I,!1):new cv(w,R,I)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(w){this._context=w}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(w){g(w>=0),w=Math.min(w,127),this.altAndOuterContextDepth=w<<24|(this.altAndOuterContextDepth&-2130706433)>>>0}get lexerActionExecutor(){}get semanticContext(){return c.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(w,R,I){return I==null?this.transformImpl(w,this._context,this.semanticContext,R,this.lexerActionExecutor):I instanceof u.PredictionContext?this.transformImpl(w,I,this.semanticContext,R,this.lexerActionExecutor):I instanceof c.SemanticContext?this.transformImpl(w,this._context,I,R,this.lexerActionExecutor):this.transformImpl(w,this._context,this.semanticContext,R,I)}transformImpl(w,R,I,N,D){let L=N&&cv.checkNonGreedyDecision(this,w);return I!==c.SemanticContext.NONE?D!=null||L?new E(D,I,w,this,R,L):new x(I,w,this,R):D!=null||L?new b(D,w,this,R,L):new cv(w,this,R)}static checkNonGreedyDecision(w,R){return w.hasPassedThroughNonGreedyDecision||R instanceof r.DecisionState&&R.nonGreedy}appendContext(w,R){if(typeof w=="number"){let I=this.context.appendSingleContext(w,R);return this.transform(this.state,!1,I)}else{let I=this.context.appendContext(w,R);return this.transform(this.state,!1,I)}}contains(w){if(this.state.stateNumber!==w.state.stateNumber||this.alt!==w.alt||!this.semanticContext.equals(w.semanticContext))return!1;let R=[],I=[];for(R.push(this.context),I.push(w.context);;){let N=R.pop(),D=I.pop();if(!N||!D)break;if(N===D)return!0;if(N.size<D.size)return!1;if(D.isEmpty)return N.hasEmpty;for(let L=0;L<D.size;L++){let k=N.findReturnState(D.getReturnState(L));if(k<0)return!1;R.push(N.getParent(k)),I.push(D.getParent(L))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&p)!==0}set isPrecedenceFilterSuppressed(w){w?this.altAndOuterContextDepth|=p:this.altAndOuterContextDepth&=2147483647}equals(w){return this===w?!0:w instanceof cv?this.state.stateNumber===w.state.stateNumber&&this.alt===w.alt&&this.reachesIntoOuterContext===w.reachesIntoOuterContext&&this.context.equals(w.context)&&this.semanticContext.equals(w.semanticContext)&&this.isPrecedenceFilterSuppressed===w.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===w.hasPassedThroughNonGreedyDecision&&l.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,w.lexerActionExecutor):!1}hashCode(){let w=i.MurmurHash.initialize(7);return w=i.MurmurHash.update(w,this.state.stateNumber),w=i.MurmurHash.update(w,this.alt),w=i.MurmurHash.update(w,this.reachesIntoOuterContext?1:0),w=i.MurmurHash.update(w,this.context),w=i.MurmurHash.update(w,this.semanticContext),w=i.MurmurHash.update(w,this.hasPassedThroughNonGreedyDecision?1:0),w=i.MurmurHash.update(w,this.lexerActionExecutor),w=i.MurmurHash.finish(w,7),w}toDotString(){let w="";w+=`digraph G {
`,w+=`rankdir=LR;
`;let R=new n.Array2DHashMap(u.PredictionContext.IdentityEqualityComparator.INSTANCE),I=[];function N(D){let L=R.size,k=R.putIfAbsent(D,L);return k??(I.push(D),L)}for(I.push(this.context),R.put(this.context,0);;){let D=I.pop();if(!D)break;for(let L=0;L<D.size;L++)w+="  s"+N(D),w+="->",w+="s"+N(D.getParent(L)),w+='[label="'+D.getReturnState(L)+`"];
`}return w+=`}
`,w.toString()}toString(w,R,I){I==null&&(I=R!=null),R==null&&(R=!0);let N="",D;I?D=this.context.toStrings(w,this.state.stateNumber):D=["?"];let L=!0;for(let k of D)L?L=!1:N+=", ",N+="(",N+=this.state,R&&(N+=",",N+=this.alt),this.context&&(N+=",",N+=k),this.semanticContext!==c.SemanticContext.NONE&&(N+=",",N+=this.semanticContext),this.reachesIntoOuterContext&&(N+=",up="+this.outerContextDepth),N+=")";return N.toString()}};e([a.NotNull],m.prototype,"_state",void 0),e([a.NotNull],m.prototype,"_context",void 0),e([a.NotNull],m.prototype,"state",null),e([a.NotNull,t(0,a.NotNull)],m.prototype,"context",null),e([a.NotNull],m.prototype,"semanticContext",null),e([a.Override],m.prototype,"clone",null),e([t(0,a.NotNull),t(2,a.NotNull)],m.prototype,"transformImpl",null),e([a.Override],m.prototype,"equals",null),e([a.Override],m.prototype,"hashCode",null),e([t(0,a.NotNull),t(3,a.NotNull)],m,"create",null),m=e([t(0,a.NotNull),t(2,a.NotNull)],m),_l.ATNConfig=m;let x=class extends m{constructor(w,R,I,N){typeof I=="number"?super(R,I,N):super(R,I,N),this._semanticContext=w}get semanticContext(){return this._semanticContext}};e([a.NotNull],x.prototype,"_semanticContext",void 0),e([a.Override],x.prototype,"semanticContext",null),x=e([t(1,a.NotNull),t(2,a.NotNull)],x);let b=class extends m{constructor(w,R,I,N,D){if(typeof I=="number")super(R,I,N);else if(super(R,I,N),I.semanticContext!==c.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=w,this.passedThroughNonGreedyDecision=D}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};e([a.Override],b.prototype,"lexerActionExecutor",null),e([a.Override],b.prototype,"hasPassedThroughNonGreedyDecision",null),b=e([t(1,a.NotNull),t(2,a.NotNull)],b);let E=class extends x{constructor(w,R,I,N,D,L){typeof N=="number"?super(R,I,N,D):super(R,I,N,D),this._lexerActionExecutor=w,this.passedThroughNonGreedyDecision=L}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};return e([a.Override],E.prototype,"lexerActionExecutor",null),e([a.Override],E.prototype,"hasPassedThroughNonGreedyDecision",null),E=e([t(1,a.NotNull),t(2,a.NotNull)],E),_l}var G0={},dI;function lf(){if(dI)return G0;dI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(G0,"__esModule",{value:!0}),G0.BitSet=void 0;const e=hg(),t=mr(),n=new Uint16Array(0);function r(m){return m>>>4}function i(m){return m*16}function a(m){let x=1;for(let b=0;b<16;b++){if((m&x)!==0)return b;x=x<<1>>>0}throw new RangeError("No specified bit found")}function l(m){let x=32768;for(let b=15;b>=0;b--){if((m&x)!==0)return b;x=x>>>1}throw new RangeError("No specified bit found")}function u(m,x){return m&=15,x&=15,m===x?1<<m>>>0:65535>>>15-x^65535>>>16-m}const c=new Uint8Array(65536);for(let m=0;m<16;m++){const x=1<<m>>>0;let b=0;for(;b<c.length;){b+=x;for(let E=0;E<x;E++)c[b]++,b++}}let g=class fv{constructor(x){if(!x)this.data=n;else if(typeof x=="number"){if(x<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(r(x-1)+1)}else if(x instanceof fv)this.data=x.data.slice(0);else{let b=-1;for(let E of x)b<E&&(b=E);this.data=new Uint16Array(r(b-1)+1);for(let E of x)this.set(E)}}and(x){const b=this.data,E=x.data,C=Math.min(b.length,E.length);let w=-1;for(let R=0;R<C;R++)(b[R]&=E[R])!==0&&(w=R);w===-1&&(this.data=n),w<b.length-1&&(this.data=b.slice(0,w+1))}andNot(x){const b=this.data,E=x.data,C=Math.min(b.length,E.length);let w=-1;for(let R=0;R<C;R++)(b[R]&=E[R]^65535)!==0&&(w=R);w===-1&&(this.data=n),w<b.length-1&&(this.data=b.slice(0,w+1))}cardinality(){if(this.isEmpty)return 0;const x=this.data,b=x.length;let E=0;for(let C=0;C<b;C++)E+=c[x[C]];return E}clear(x,b){x==null?this.data.fill(0):b==null?this.set(x,!1):this.set(x,b,!1)}flip(x,b){if(b==null&&(b=x),x<0||b<x)throw new RangeError;let E=r(x);const C=r(b);if(E===C)this.data[E]^=u(x,b);else{for(this.data[E++]^=u(x,15);E<C;)this.data[E++]^=65535;this.data[E++]^=u(0,b)}}get(x,b){if(b===void 0)return!!(this.data[r(x)]&u(x,x));{let E=new fv(b+1);for(let C=x;C<=b;C++)E.set(C,this.get(C));return E}}intersects(x){let b=Math.min(this.length(),x.length());if(b===0)return!1;let E=r(b-1);for(let C=0;C<=E;C++)if((this.data[C]&x.data[C])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(i(this.data.length)-1)+1:0}nextClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let C=r(x);if(C>E)return-1;let w=65535^u(x,15);if((b[C]|w)===65535){for(C++,w=0;C<E&&b[C]===65535;C++);if(C===E)return-1}return i(C)+a((b[C]|w)^65535)}nextSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let C=r(x);if(C>E)return-1;let w=u(x,15);if((b[C]&w)===0){for(C++,w=65535;C<E&&b[C]===0;C++);if(C>=E)return-1}return i(C)+a(b[C]&w)}or(x){const b=this.data,E=x.data,C=Math.min(b.length,E.length),w=Math.max(b.length,E.length),R=b.length===w?b:new Uint16Array(w);let I=-1;for(let D=0;D<C;D++)(R[D]=b[D]|E[D])!==0&&(I=D);const N=b.length>E.length?b:E;for(let D=C;D<w;D++)(R[D]=N[D])!==0&&(I=D);I===-1?this.data=n:R.length===I+1?this.data=R:this.data=R.slice(0,I)}previousClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let C=r(x);C>=E&&(C=E-1);let w=65535^u(0,x);if((b[C]|w)===65535){for(w=0,C--;C>=0&&b[C]===65535;C--);if(C<0)return-1}return i(C)+l((b[C]|w)^65535)}previousSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let C=r(x);C>=E&&(C=E-1);let w=u(0,x);if((b[C]&w)===0){for(C--,w=65535;C>=0&&b[C]===0;C--);if(C<0)return-1}return i(C)+l(b[C]&w)}set(x,b,E){if(b===void 0?(b=x,E=!0):typeof b=="boolean"&&(E=b,b=x),E===void 0&&(E=!0),x<0||x>b)throw new RangeError;let C=r(x),w=r(b);if(E&&w>=this.data.length){let R=new Uint16Array(w+1);this.data.forEach((I,N)=>R[N]=I),this.data=R}else if(!E){if(C>=this.data.length)return;w>=this.data.length&&(w=this.data.length-1,b=this.data.length*16-1)}if(C===w)this._setBits(C,E,u(x,b));else{for(this._setBits(C++,E,u(x,15));C<w;)this.data[C++]=E?65535:0;this._setBits(C,E,u(0,b))}}_setBits(x,b,E){b?this.data[x]|=E:this.data[x]&=65535^E}get size(){return this.data.byteLength*8}hashCode(){return t.MurmurHash.hashCode(this.data,22)}equals(x){if(x===this)return!0;if(!(x instanceof fv))return!1;const b=this.length();if(b!==x.length())return!1;if(b===0)return!0;let E=r(b-1);for(let C=0;C<=E;C++)if(this.data[C]!==x.data[C])return!1;return!0}toString(){let x="{",b=!0;for(let E=this.nextSetBit(0);E>=0;E=this.nextSetBit(E+1))b?b=!1:x+=", ",x+=E;return x+="}",x}xor(x){const b=this.data,E=x.data,C=Math.min(b.length,E.length),w=Math.max(b.length,E.length),R=b.length===w?b:new Uint16Array(w);let I=-1;for(let D=0;D<C;D++)(R[D]=b[D]^E[D])!==0&&(I=D);const N=b.length>E.length?b:E;for(let D=C;D<w;D++)(R[D]=N[D])!==0&&(I=D);I===-1?this.data=n:R.length===I+1?this.data=R:this.data=R.slice(0,I+1)}clone(){return new fv(this)}[Symbol.iterator](){return new p(this.data)}[e.inspect.custom](){return"BitSet "+this.toString()}};G0.BitSet=g;class p{constructor(x){this.data=x,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const x=this.data[this.index]&this.mask;if(x!==0){const b=i(this.index)+a(x);return this.mask=u(b+1,15),{done:!1,value:b}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}return G0}var hI;function ey(){if(hI)return ud;hI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ud&&ud.__decorate||function(R,I,N,D){var L=arguments.length,k=L<3?I:D===null?D=Object.getOwnPropertyDescriptor(I,N):D,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(R,I,N,D);else for(var B=R.length-1;B>=0;B--)(j=R[B])&&(k=(L<3?j(k):L>3?j(I,N,k):j(I,N))||k);return L>3&&k&&Object.defineProperty(I,N,k),k};Object.defineProperty(ud,"__esModule",{value:!0}),ud.ATNConfigSet=void 0;const t=Og(),n=af(),r=ZS(),i=Ga(),a=e1(),l=lf(),u=Ve(),c=Va(),g=Fs(),p=sR(),m=Ig(),x=Ii(),b=Mu();class E{hashCode(I){return I.state^I.alt}equals(I,N){return I.state===N.state&&I.alt===N.alt}}E.INSTANCE=new E;function C(R){return R?new t.Array2DHashMap(R):new t.Array2DHashMap(E.INSTANCE)}let w=class OC{constructor(I,N){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,I?(N?(this.mergedConfigs=void 0,this.unmerged=void 0):I.isReadOnly?(this.mergedConfigs=C(),this.unmerged=[]):(this.mergedConfigs=C(I.mergedConfigs),this.unmerged=I.unmerged.slice(0)),this.configs=I.configs.slice(0),this._dipsIntoOuterContext=I._dipsIntoOuterContext,this._hasSemanticContext=I._hasSemanticContext,this.outermostConfigSet=I.outermostConfigSet,(N||!I.isReadOnly)&&(this._uniqueAlt=I._uniqueAlt,this._conflictInfo=I._conflictInfo)):(this.mergedConfigs=C(),this.unmerged=[],this.configs=[],this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let I=new l.BitSet;for(let N of this)I.set(N.alt);return I}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(I){if(this.outermostConfigSet&&!I)throw new Error("IllegalStateException");x(!I||!this._dipsIntoOuterContext),this.outermostConfigSet=I}getStates(){let I=new n.Array2DHashSet(c.ObjectEqualityComparator.INSTANCE);for(let N of this.configs)I.add(N.state);return I}optimizeConfigs(I){if(this.configs.length!==0)for(let N of this.configs)N.context=I.atn.getCachedContext(N.context)}clone(I){let N=new OC(this,I);return!I&&this.isReadOnly&&N.addAll(this.configs),N}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(I){if(!(I instanceof a.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let N=I,D=this.getKey(N),L=this.mergedConfigs.get(D);if(L!=null&&this.canMerge(N,D,L))return L.contains(N);for(let k of this.unmerged)if(k.contains(I))return!0}else for(let N of this.configs)if(N.contains(I))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(I,N){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");x(!this.outermostConfigSet||!I.reachesIntoOuterContext),N==null&&(N=p.PredictionContextCache.UNCACHED);let D,L=this.getKey(I),k=this.mergedConfigs.get(L);if(D=k==null,k!=null&&this.canMerge(I,L,k)){k.outerContextDepth=Math.max(k.outerContextDepth,I.outerContextDepth),I.isPrecedenceFilterSuppressed&&(k.isPrecedenceFilterSuppressed=!0);let j=g.PredictionContext.join(k.context,I.context,N);return this.updatePropertiesForMergedConfig(I),k.context===j?!1:(k.context=j,!0)}for(let j=0;j<this.unmerged.length;j++){let B=this.unmerged[j];if(this.canMerge(I,L,B)){B.outerContextDepth=Math.max(B.outerContextDepth,I.outerContextDepth),I.isPrecedenceFilterSuppressed&&(B.isPrecedenceFilterSuppressed=!0);let $=g.PredictionContext.join(B.context,I.context,N);return this.updatePropertiesForMergedConfig(I),B.context===$?!1:(B.context=$,D&&(this.mergedConfigs.put(L,B),this.unmerged.splice(j,1)),!0)}}return this.configs.push(I),D?this.mergedConfigs.put(L,I):this.unmerged.push(I),this.updatePropertiesForAddedConfig(I),!0}updatePropertiesForMergedConfig(I){this._dipsIntoOuterContext=this._dipsIntoOuterContext||I.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(I){this.configs.length===1?this._uniqueAlt=I.alt:this._uniqueAlt!==I.alt&&(this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!m.SemanticContext.NONE.equals(I.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||I.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(I,N,D){return I.state.stateNumber!==D.state.stateNumber||N.alt!==D.alt?!1:I.semanticContext.equals(D.semanticContext)}getKey(I){return{state:I.state.stateNumber,alt:I.alt}}containsAll(I){for(let N of I)if(!(N instanceof a.ATNConfig)||!this.contains(N))return!1;return!0}addAll(I,N){this.ensureWritable();let D=!1;for(let L of I)this.add(L,N)&&(D=!0);return D}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(I){return this===I?!0:I instanceof OC?this.outermostConfigSet===I.outermostConfigSet&&b.equals(this._conflictInfo,I._conflictInfo)&&r.ArrayEqualityComparator.INSTANCE.equals(this.configs,I.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let I=1;return I=5*I^(this.outermostConfigSet?1:0),I=5*I^r.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=I),I}toString(I){I==null&&(I=!1);let N="",D=this.configs.slice(0);D.sort((L,k)=>L.alt!==k.alt?L.alt-k.alt:L.state.stateNumber!==k.state.stateNumber?L.state.stateNumber-k.state.stateNumber:L.semanticContext.toString().localeCompare(k.semanticContext.toString())),N+="[";for(let L=0;L<D.length;L++)L>0&&(N+=", "),N+=D[L].toString(void 0,!0,I);return N+="]",this._hasSemanticContext&&(N+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==i.ATN.INVALID_ALT_NUMBER&&(N+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(N+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(N+="*")),this._dipsIntoOuterContext&&(N+=",dipsIntoOuterContext"),N.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(I){this.ensureWritable(),this._hasSemanticContext=I}get conflictInfo(){return this._conflictInfo}set conflictInfo(I){this.ensureWritable(),this._conflictInfo=I}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(I){return this.configs[I]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};return e([u.NotNull],w.prototype,"getRepresentedAlternatives",null),e([u.Override],w.prototype,"size",null),e([u.Override],w.prototype,"isEmpty",null),e([u.Override],w.prototype,"contains",null),e([u.Override],w.prototype,Symbol.iterator,null),e([u.Override],w.prototype,"toArray",null),e([u.Override],w.prototype,"containsAll",null),e([u.Override],w.prototype,"clear",null),e([u.Override],w.prototype,"equals",null),e([u.Override],w.prototype,"hashCode",null),ud.ATNConfigSet=w,ud}var fd={},dd={},hd={},pI;function t1(){return pI||(pI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=hd&&hd.__decorate||function(p,m,x,b){var E=arguments.length,C=E<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,m,x,b);else for(var R=p.length-1;R>=0;R--)(w=p[R])&&(C=(E<3?w(C):E>3?w(m,x,C):w(m,x))||C);return E>3&&C&&Object.defineProperty(m,x,C),C},n=hd&&hd.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DFAState=void 0;const r=Ga(),i=lf(),a=mr(),l=Ve(),u=Fs(),c=Ii();let g=class JF{constructor(m){this.stateNumber=-1,this.configs=m,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(m){return this.isContextSensitive?this.contextSymbols.get(m):!1}setContextSymbol(m){c(this.isContextSensitive),this.contextSymbols.set(m)}setContextSensitive(m){c(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new i.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(m){this._acceptStateInfo=m}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:r.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(m){return this.edges.get(m)}setTarget(m,x){this.edges.set(m,x)}getEdgeMap(){return this.edges}getContextTarget(m){return m===u.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.get(m)}setContextTarget(m,x){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");m===u.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.set(m,x)}getContextEdgeMap(){let m=new Map(this.contextEdges),x=m.get(-1);if(x!==void 0)if(m.size===1){let b=new Map;return b.set(u.PredictionContext.EMPTY_FULL_STATE_KEY,x),b}else m.delete(-1),m.set(u.PredictionContext.EMPTY_FULL_STATE_KEY,x);return m}hashCode(){let m=a.MurmurHash.initialize(7);return m=a.MurmurHash.update(m,this.configs.hashCode()),m=a.MurmurHash.finish(m,1),m}equals(m){if(this===m)return!0;if(!(m instanceof JF))return!1;let x=m;return this.configs.equals(x.configs)}toString(){let m="";return m+=this.stateNumber+":"+this.configs,this.isAcceptState&&(m+="=>",this.predicates?m+=this.predicates:m+=this.prediction),m.toString()}};t([l.NotNull],g.prototype,"configs",void 0),t([l.NotNull],g.prototype,"edges",void 0),t([l.NotNull],g.prototype,"contextEdges",void 0),t([l.Override],g.prototype,"hashCode",null),t([l.Override],g.prototype,"equals",null),t([l.Override],g.prototype,"toString",null),e.DFAState=g,function(p){let m=class{constructor(b,E){this.alt=E,this.pred=b}toString(){return"("+this.pred+", "+this.alt+")"}};t([l.NotNull],m.prototype,"pred",void 0),t([l.Override],m.prototype,"toString",null),m=t([n(0,l.NotNull)],m),p.PredPrediction=m}(g=e.DFAState||(e.DFAState={}))}(hd)),hd}var gI;function n1(){return gI||(gI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=dd&&dd.__decorate||function(c,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(c,g,p,m);else for(var C=c.length-1;C>=0;C--)(E=c[C])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},n=dd&&dd.__param||function(c,g){return function(p,m){g(p,m,c)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNSimulator=void 0;const r=ey(),i=t1(),a=Ve(),l=Fs();let u=class dv{constructor(g){this.atn=g}static get ERROR(){return dv._ERROR||(dv._ERROR=new i.DFAState(new r.ATNConfigSet),dv._ERROR.stateNumber=l.PredictionContext.EMPTY_FULL_STATE_KEY),dv._ERROR}clearDFA(){this.atn.clearDFA()}};t([a.NotNull],u.prototype,"atn",void 0),t([a.NotNull],u,"ERROR",null),u=t([n(0,a.NotNull)],u),e.ATNSimulator=u,u=e.ATNSimulator||(e.ATNSimulator={}),e.ATNSimulator=u}(dd)),dd}var Il={},$0={},mI;function QF(){if(mI)return $0;mI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty($0,"__esModule",{value:!0}),$0.ConsoleErrorListener=void 0;let e=class{syntaxError(n,r,i,a,l,u){console.error(`line ${i}:${a} ${l}`)}};return $0.ConsoleErrorListener=e,e.INSTANCE=new e,$0}var Ol={},vI;function aR(){if(vI)return Ol;vI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ol&&Ol.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g},t=Ol&&Ol.__param||function(i,a){return function(l,u){a(l,u,i)}};Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.ProxyErrorListener=void 0;const n=Ve();let r=class{constructor(a){if(this.delegates=a,!a)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(a,l,u,c,g,p){this.delegates.forEach(m=>{m.syntaxError&&m.syntaxError(a,l,u,c,g,p)})}};return e([n.Override,t(0,n.NotNull),t(4,n.NotNull)],r.prototype,"syntaxError",null),Ol.ProxyErrorListener=r,Ol}var yI;function ty(){if(yI)return Il;yI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Il&&Il.__decorate||function(c,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(c,g,p,m);else for(var C=c.length-1;C>=0;C--)(E=c[C])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},t=Il&&Il.__param||function(c,g){return function(p,m){g(p,m,c)}};Object.defineProperty(Il,"__esModule",{value:!0}),Il.Recognizer=void 0;const n=QF(),r=aR(),i=Ve(),a=Wn(),l=Mu();let u=class hv{constructor(){this._listeners=[n.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let g=this.vocabulary,p=hv.tokenTypeMapCache.get(g);if(p==null){let m=new Map;for(let x=0;x<=this.atn.maxTokenType;x++){let b=g.getLiteralName(x);b!=null&&m.set(b,x);let E=g.getSymbolicName(x);E!=null&&m.set(E,x)}m.set("EOF",a.Token.EOF),p=m,hv.tokenTypeMapCache.set(g,p)}return p}getRuleIndexMap(){let g=this.ruleNames;if(g==null)throw new Error("The current recognizer does not provide a list of rule names.");let p=hv.ruleIndexMapCache.get(g);return p==null&&(p=l.toMap(g),hv.ruleIndexMapCache.set(g,p)),p}getTokenType(g){let p=this.getTokenTypeMap().get(g);return p??a.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(g){this._interp=g}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(g){let p=g.getOffendingToken();if(!p)return"";let m=p.line,x=p.charPositionInLine;return"line "+m+":"+x}addErrorListener(g){if(!g)throw new TypeError("listener must not be null");this._listeners.push(g)}removeErrorListener(g){let p=this._listeners.indexOf(g);p!==-1&&this._listeners.splice(p,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new r.ProxyErrorListener(this.getErrorListeners())}sempred(g,p,m){return!0}precpred(g,p){return!0}action(g,p,m){}get state(){return this._stateNumber}set state(g){this._stateNumber=g}};return u.EOF=-1,u.tokenTypeMapCache=new WeakMap,u.ruleIndexMapCache=new WeakMap,e([i.SuppressWarnings("serial"),i.NotNull],u.prototype,"_listeners",void 0),e([i.NotNull],u.prototype,"getTokenTypeMap",null),e([i.NotNull],u.prototype,"getRuleIndexMap",null),e([i.NotNull],u.prototype,"serializedATN",null),e([i.NotNull],u.prototype,"atn",null),e([i.NotNull,t(0,i.NotNull)],u.prototype,"interpreter",null),e([i.NotNull,t(0,i.NotNull)],u.prototype,"getErrorHeader",null),e([t(0,i.NotNull)],u.prototype,"addErrorListener",null),e([t(0,i.NotNull)],u.prototype,"removeErrorListener",null),e([i.NotNull],u.prototype,"getErrorListeners",null),Il.Recognizer=u,Il}var pd={},xI;function Sh(){if(xI)return pd;xI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pd&&pd.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(pd,"__esModule",{value:!0}),pd.VocabularyImpl=void 0;const t=Ve(),n=Wn();let r=class{constructor(a,l,u){this.literalNames=a,this.symbolicNames=l,this.displayNames=u,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(a){if(a>=0&&a<this.literalNames.length)return this.literalNames[a]}getSymbolicName(a){if(a>=0&&a<this.symbolicNames.length)return this.symbolicNames[a];if(a===n.Token.EOF)return"EOF"}getDisplayName(a){if(a>=0&&a<this.displayNames.length){let c=this.displayNames[a];if(c)return c}let l=this.getLiteralName(a);if(l)return l;let u=this.getSymbolicName(a);return u||String(a)}};return r.EMPTY_VOCABULARY=new r([],[],[]),e([t.NotNull],r.prototype,"literalNames",void 0),e([t.NotNull],r.prototype,"symbolicNames",void 0),e([t.NotNull],r.prototype,"displayNames",void 0),e([t.Override],r.prototype,"maxTokenType",null),e([t.Override],r.prototype,"getLiteralName",null),e([t.Override],r.prototype,"getSymbolicName",null),e([t.Override,t.NotNull],r.prototype,"getDisplayName",null),e([t.NotNull],r,"EMPTY_VOCABULARY",void 0),pd.VocabularyImpl=r,pd}var bI;function ek(){if(bI)return fd;bI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=fd&&fd.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x};Object.defineProperty(fd,"__esModule",{value:!0}),fd.DFASerializer=void 0;const t=n1(),n=Ve(),r=Fs(),i=ty(),a=Sh();let l=class{constructor(c,g,p,m){g instanceof i.Recognizer?(p=g.ruleNames,m=g.atn,g=g.vocabulary):g||(g=a.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=c,this.vocabulary=g,this.ruleNames=p,this.atn=m}toString(){if(!this.dfa.s0)return"";let c="";if(this.dfa.states){let p=new Array(...this.dfa.states.toArray());p.sort((m,x)=>m.stateNumber-x.stateNumber);for(let m of p){let x=m.getEdgeMap(),b=[...x.keys()].sort((w,R)=>w-R),E=m.getContextEdgeMap(),C=[...E.keys()].sort((w,R)=>w-R);for(let w of b){let R=x.get(w);if((R==null||R===t.ATNSimulator.ERROR)&&!m.isContextSymbol(w))continue;let I=!1;c+=this.getStateString(m)+"-"+this.getEdgeLabel(w)+"->",m.isContextSymbol(w)&&(c+="!",I=!0);let N=R;N&&N.stateNumber!==t.ATNSimulator.ERROR.stateNumber?c+=this.getStateString(N)+`
`:I&&(c+=`ctx
`)}if(m.isContextSensitive)for(let w of C)c+=this.getStateString(m)+"-"+this.getContextLabel(w)+"->"+this.getStateString(E.get(w))+`
`}}let g=c;return g.length===0?"":g}getContextLabel(c){if(c===r.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(c===r.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&c>0&&c<=this.atn.states.length){let p=this.atn.states[c].ruleIndex;if(this.ruleNames&&p>=0&&p<this.ruleNames.length)return"ctx:"+String(c)+"("+this.ruleNames[p]+")"}return"ctx:"+String(c)}getEdgeLabel(c){return this.vocabulary.getDisplayName(c)}getStateString(c){if(c===t.ATNSimulator.ERROR)return"ERROR";let g=c.stateNumber,p="s"+g;if(c.isAcceptState&&(c.predicates?p=":s"+g+"=>"+c.predicates:p=":s"+g+"=>"+c.prediction),c.isContextSensitive){p+="*";for(let m of c.configs)if(m.reachesIntoOuterContext){p+="*";break}}return p}};return e([n.NotNull],l.prototype,"dfa",void 0),e([n.NotNull],l.prototype,"vocabulary",void 0),e([n.Override],l.prototype,"toString",null),fd.DFASerializer=l,fd}var Dl={},SI;function kH(){if(SI)return Dl;SI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dl&&Dl.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Dl&&Dl.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.LexerDFASerializer=void 0;const n=ek(),r=Ve(),i=Sh();let a=class extends n.DFASerializer{constructor(u){super(u,i.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(u){return"'"+String.fromCodePoint(u)+"'"}};return e([r.Override,r.NotNull],a.prototype,"getEdgeLabel",null),a=e([t(0,r.NotNull)],a),Dl.LexerDFASerializer=a,Dl}var gd={},AI;function lR(){if(AI)return gd;AI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gd&&gd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(gd,"__esModule",{value:!0}),gd.StarLoopEntryState=void 0;const t=ei(),n=lf(),r=bh(),i=Ve();let a=class extends r.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new n.BitSet}get stateType(){return t.ATNStateType.STAR_LOOP_ENTRY}};return e([i.Override],a.prototype,"stateType",null),gd.StarLoopEntryState=a,gd}var EI;function tk(){if(EI)return Nl;EI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nl&&Nl.__decorate||function(x,b,E,C){var w=arguments.length,R=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,E):C,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,E,C);else for(var N=x.length-1;N>=0;N--)(I=x[N])&&(R=(w<3?I(R):w>3?I(b,E,R):I(b,E))||R);return w>3&&R&&Object.defineProperty(b,E,R),R},t=Nl&&Nl.__param||function(x,b){return function(E,C){b(E,C,x)}};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.DFA=void 0;const n=af(),r=ey(),i=ek(),a=t1(),l=kH(),u=Ve(),c=Va(),g=lR(),p=Sh();let m=class{constructor(b,E=0){if(this.states=new n.Array2DHashSet(c.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!b.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=b,this.atn=b.atn,this.decision=E;let C=!1;b instanceof g.StarLoopEntryState&&b.precedenceRuleDecision&&(C=!0,this.s0=new a.DFAState(new r.ATNConfigSet),this.s0full=new a.DFAState(new r.ATNConfigSet)),this.precedenceDfa=C}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(b,E){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return E?this.s0full.getTarget(b):this.s0.getTarget(b)}setPrecedenceStartState(b,E,C){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");b<0||(E?this.s0full.setTarget(b,C):this.s0.setTarget(b,C))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(b){return b.stateNumber=this.nextStateNumber++,this.states.getOrAdd(b)}toString(b,E){if(b||(b=p.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let C;return E?C=new i.DFASerializer(this,b,E,this.atnStartState.atn):C=new i.DFASerializer(this,b),C.toString()}toLexerString(){return this.s0?new l.LexerDFASerializer(this).toString():""}};return e([u.NotNull],m.prototype,"states",void 0),e([u.NotNull],m.prototype,"atnStartState",void 0),e([u.NotNull],m.prototype,"atn",void 0),m=e([t(0,u.NotNull)],m),Nl.DFA=m,Nl}var md={},vd={},wI;function nk(){if(wI)return vd;wI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vd&&vd.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(vd,"__esModule",{value:!0}),vd.BasicState=void 0;const t=Du(),n=ei(),r=Ve();let i=class extends t.ATNState{get stateType(){return n.ATNStateType.BASIC}};return e([r.Override],i.prototype,"stateType",null),vd.BasicState=i,vd}var CI;function rk(){if(CI)return md;CI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=md&&md.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(md,"__esModule",{value:!0}),md.InvalidState=void 0;const t=ei(),n=nk(),r=Ve();let i=class extends n.BasicState{get stateType(){return t.ATNStateType.INVALID_TYPE}};return e([r.Override],i.prototype,"stateType",null),md.InvalidState=i,md}var Ml={},Pl={},Ll={},RI;function uR(){if(RI)return Ll;RI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ll&&Ll.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=Ll&&Ll.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.SetTransition=void 0;const n=Ah(),r=Ve(),i=Wn(),a=sf();let l=class extends a.Transition{constructor(c,g){super(c),g==null&&(g=n.IntervalSet.of(i.Token.INVALID_TYPE)),this.set=g}get serializationType(){return 7}get label(){return this.set}matches(c,g,p){return this.set.contains(c)}toString(){return this.set.toString()}};return e([r.NotNull],l.prototype,"set",void 0),e([r.Override],l.prototype,"serializationType",null),e([r.Override,r.NotNull],l.prototype,"label",null),e([r.Override],l.prototype,"matches",null),e([r.Override,r.NotNull],l.prototype,"toString",null),l=e([t(0,r.NotNull),t(1,r.Nullable)],l),Ll.SetTransition=l,Ll}var TI;function cR(){if(TI)return Pl;TI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pl&&Pl.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Pl&&Pl.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.NotSetTransition=void 0;const n=Ve(),r=uR();let i=class extends r.SetTransition{constructor(l,u){super(l,u)}get serializationType(){return 8}matches(l,u,c){return l>=u&&l<=c&&!super.matches(l,u,c)}toString(){return"~"+super.toString()}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"matches",null),e([n.Override],i.prototype,"toString",null),i=e([t(0,n.NotNull),t(1,n.Nullable)],i),Pl.NotSetTransition=i,Pl}var yd={},NI;function ny(){if(NI)return yd;NI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yd&&yd.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(yd,"__esModule",{value:!0}),yd.RuleStopState=void 0;const t=Du(),n=ei(),r=Ve();let i=class extends t.ATNState{get nonStopStateNumber(){return-1}get stateType(){return n.ATNStateType.RULE_STOP}};return e([r.Override],i.prototype,"nonStopStateNumber",null),e([r.Override],i.prototype,"stateType",null),yd.RuleStopState=i,yd}var Fl={},_I;function fR(){if(_I)return Fl;_I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fl&&Fl.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Fl&&Fl.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.RuleTransition=void 0;const n=Ve(),r=sf();let i=class extends r.Transition{constructor(l,u,c,g){super(l),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=u,this.precedence=c,this.followState=g}get serializationType(){return 3}get isEpsilon(){return!0}matches(l,u,c){return!1}};return e([n.NotNull],i.prototype,"followState",void 0),e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"isEpsilon",null),e([n.Override],i.prototype,"matches",null),i=e([t(0,n.NotNull),t(3,n.NotNull)],i),Fl.RuleTransition=i,Fl}var kl={},II;function ik(){if(II)return kl;II=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kl&&kl.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=kl&&kl.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(kl,"__esModule",{value:!0}),kl.WildcardTransition=void 0;const n=Ve(),r=sf();let i=class extends r.Transition{constructor(l){super(l)}get serializationType(){return 9}matches(l,u,c){return l>=u&&l<=c}toString(){return"."}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"matches",null),e([n.Override,n.NotNull],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),kl.WildcardTransition=i,kl}var OI;function BH(){if(OI)return Ml;OI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ml&&Ml.__decorate||function(w,R,I,N){var D=arguments.length,L=D<3?R:N===null?N=Object.getOwnPropertyDescriptor(R,I):N,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(w,R,I,N);else for(var j=w.length-1;j>=0;j--)(k=w[j])&&(L=(D<3?k(L):D>3?k(R,I,L):k(R,I))||L);return D>3&&L&&Object.defineProperty(R,I,L),L},t=Ml&&Ml.__param||function(w,R){return function(I,N){R(I,N,w)}};Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.LL1Analyzer=void 0;const n=nR(),r=af(),i=e1(),a=lf(),l=Ah(),u=Ve(),c=cR(),g=Va(),p=Fs(),m=ny(),x=fR(),b=Wn(),E=ik();let C=class DC{constructor(R){this.atn=R}getDecisionLookahead(R){if(R==null)return;let I=new Array(R.numberOfTransitions);for(let N=0;N<R.numberOfTransitions;N++){let D=new l.IntervalSet;I[N]=D;let L=new r.Array2DHashSet(g.ObjectEqualityComparator.INSTANCE);this._LOOK(R.transition(N).target,void 0,p.PredictionContext.EMPTY_LOCAL,D,L,new a.BitSet,!1,!1),(D.size===0||D.contains(DC.HIT_PRED))&&(D=void 0,I[N]=D)}return I}LOOK(R,I,N){if(N===void 0){if(R.atn==null)throw new Error("Illegal state");N=R.atn.ruleToStopState[R.ruleIndex]}else N===null&&(N=void 0);let D=new l.IntervalSet;return this._LOOK(R,N,I,D,new r.Array2DHashSet,new a.BitSet,!0,!0),D}_LOOK(R,I,N,D,L,k,j,B){let $=i.ATNConfig.create(R,0,N);if(!L.add($))return;if(R===I){if(p.PredictionContext.isEmptyLocal(N)){D.add(b.Token.EPSILON);return}else if(N.isEmpty){B&&D.add(b.Token.EOF);return}}if(R instanceof m.RuleStopState){if(N.isEmpty&&!p.PredictionContext.isEmptyLocal(N)){B&&D.add(b.Token.EOF);return}let ne=k.get(R.ruleIndex);try{k.clear(R.ruleIndex);for(let re=0;re<N.size;re++){if(N.getReturnState(re)===p.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let Se=this.atn.states[N.getReturnState(re)];this._LOOK(Se,I,N.getParent(re),D,L,k,j,B)}}finally{ne&&k.set(R.ruleIndex)}}let K=R.numberOfTransitions;for(let ne=0;ne<K;ne++){let re=R.transition(ne);if(re instanceof x.RuleTransition){if(k.get(re.ruleIndex))continue;let Se=N.getChild(re.followState.stateNumber);try{k.set(re.ruleIndex),this._LOOK(re.target,I,Se,D,L,k,j,B)}finally{k.clear(re.ruleIndex)}}else if(re instanceof n.AbstractPredicateTransition)j?this._LOOK(re.target,I,N,D,L,k,j,B):D.add(DC.HIT_PRED);else if(re.isEpsilon)this._LOOK(re.target,I,N,D,L,k,j,B);else if(re instanceof E.WildcardTransition)D.addAll(l.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let Se=re.label;Se!=null&&(re instanceof c.NotSetTransition&&(Se=Se.complement(l.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),D.addAll(Se))}}}};return C.HIT_PRED=b.Token.INVALID_TYPE,e([u.NotNull],C.prototype,"atn",void 0),e([u.NotNull,t(0,u.NotNull),t(1,u.NotNull)],C.prototype,"LOOK",null),e([t(0,u.NotNull),t(2,u.NotNull),t(3,u.NotNull),t(4,u.NotNull),t(5,u.NotNull)],C.prototype,"_LOOK",null),C=e([t(0,u.NotNull)],C),Ml.LL1Analyzer=C,Ml}var DI;function Ga(){return DI||(DI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=ld&&ld.__decorate||function(E,C,w,R){var I=arguments.length,N=I<3?C:R===null?R=Object.getOwnPropertyDescriptor(C,w):R,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(E,C,w,R);else for(var L=E.length-1;L>=0;L--)(D=E[L])&&(N=(I<3?D(N):I>3?D(C,w,N):D(C,w))||N);return I>3&&N&&Object.defineProperty(C,w,N),N},n=ld&&ld.__param||function(E,C){return function(w,R){C(w,R,E)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATN=void 0;const r=Og(),i=tk(),a=Ah(),l=rk(),u=BH(),c=Ve(),g=Va(),p=Fs(),m=Wn(),x=Ii();let b=class{constructor(C,w){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new r.Array2DHashMap(g.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=C,this.maxTokenType=w}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let C=0;C<this.decisionToDFA.length;C++)this.decisionToDFA[C]=new i.DFA(this.decisionToState[C],C);this.modeToDFA=new Array(this.modeToStartState.length);for(let C=0;C<this.modeToDFA.length;C++)this.modeToDFA[C]=new i.DFA(this.modeToStartState[C]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(C){return p.PredictionContext.getCachedContext(C,this.contextCache,new p.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return x(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(C,w){return w?new u.LL1Analyzer(this).LOOK(C,w):(C.nextTokenWithinRule||(C.nextTokenWithinRule=this.nextTokens(C,p.PredictionContext.EMPTY_LOCAL),C.nextTokenWithinRule.setReadonly(!0)),C.nextTokenWithinRule)}addState(C){C.atn=this,C.stateNumber=this.states.length,this.states.push(C)}removeState(C){let w=new l.InvalidState;w.atn=this,w.stateNumber=C.stateNumber,this.states[C.stateNumber]=w}defineMode(C,w){this.modeNameToStartState.set(C,w),this.modeToStartState.push(w),this.modeToDFA.push(new i.DFA(w)),this.defineDecisionState(w)}defineDecisionState(C){return this.decisionToState.push(C),C.decision=this.decisionToState.length-1,this.decisionToDFA.push(new i.DFA(C,C.decision)),C.decision}getDecisionState(C){if(this.decisionToState.length>0)return this.decisionToState[C]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(C,w){if(C<0||C>=this.states.length)throw new RangeError("Invalid state number.");let R=w,I=this.states[C],N=this.nextTokens(I);if(!N.contains(m.Token.EPSILON))return N;let D=new a.IntervalSet;for(D.addAll(N),D.remove(m.Token.EPSILON);R!=null&&R.invokingState>=0&&N.contains(m.Token.EPSILON);){let k=this.states[R.invokingState].transition(0);N=this.nextTokens(k.followState),D.addAll(N),D.remove(m.Token.EPSILON),R=R._parent}return N.contains(m.Token.EPSILON)&&D.add(m.Token.EOF),D}};t([c.NotNull],b.prototype,"states",void 0),t([c.NotNull],b.prototype,"decisionToState",void 0),t([c.NotNull],b.prototype,"modeNameToStartState",void 0),t([c.NotNull],b.prototype,"modeToStartState",void 0),t([c.NotNull],b.prototype,"decisionToDFA",void 0),t([c.NotNull],b.prototype,"modeToDFA",void 0),t([c.NotNull],b.prototype,"nextTokens",null),t([n(0,c.NotNull)],b.prototype,"removeState",null),t([n(0,c.NotNull),n(1,c.NotNull)],b.prototype,"defineMode",null),t([n(0,c.NotNull)],b.prototype,"defineDecisionState",null),t([c.NotNull],b.prototype,"getExpectedTokens",null),b=t([n(0,c.NotNull)],b),e.ATN=b,function(E){E.INVALID_ALT_NUMBER=0}(b=e.ATN||(e.ATN={})),e.ATN=b}(ld)),ld}var Bl={},jl={},MI;function jH(){if(MI)return jl;MI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jl&&jl.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=jl&&jl.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(jl,"__esModule",{value:!0}),jl.LexerIndexedCustomAction=void 0;const n=mr(),r=Ve();let i=class ok{constructor(l,u){this._offset=l,this._action=u}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(l){this._action.execute(l)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this._offset),l=n.MurmurHash.update(l,this._action),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof ok?this._offset===l._offset&&this._action.equals(l._action):!1}};return e([r.NotNull],i.prototype,"action",null),e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),i=e([t(1,r.NotNull)],i),jl.LexerIndexedCustomAction=i,jl}var PI;function zH(){if(PI)return Bl;PI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bl&&Bl.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=Bl&&Bl.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.LexerActionExecutor=void 0;const n=ZS(),r=jH(),i=mr(),a=Ve();let l=class pv{constructor(c){this._lexerActions=c;let g=i.MurmurHash.initialize();for(let p of c)g=i.MurmurHash.update(g,p);this.cachedHashCode=i.MurmurHash.finish(g,c.length)}static append(c,g){if(!c)return new pv([g]);let p=c._lexerActions.slice(0);return p.push(g),new pv(p)}fixOffsetBeforeMatch(c){let g;for(let p=0;p<this._lexerActions.length;p++)this._lexerActions[p].isPositionDependent&&!(this._lexerActions[p]instanceof r.LexerIndexedCustomAction)&&(g||(g=this._lexerActions.slice(0)),g[p]=new r.LexerIndexedCustomAction(c,this._lexerActions[p]));return g?new pv(g):this}get lexerActions(){return this._lexerActions}execute(c,g,p){let m=!1,x=g.index;try{for(let b of this._lexerActions){if(b instanceof r.LexerIndexedCustomAction){let E=b.offset;g.seek(p+E),b=b.action,m=p+E!==x}else b.isPositionDependent&&(g.seek(x),m=!1);b.execute(c)}}finally{m&&g.seek(x)}}hashCode(){return this.cachedHashCode}equals(c){return c===this?!0:c instanceof pv?this.cachedHashCode===c.cachedHashCode&&n.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,c._lexerActions):!1}};return e([a.NotNull],l.prototype,"_lexerActions",void 0),e([a.NotNull],l.prototype,"lexerActions",null),e([t(0,a.NotNull)],l.prototype,"execute",null),e([a.Override],l.prototype,"hashCode",null),e([a.Override],l.prototype,"equals",null),e([a.NotNull,t(1,a.NotNull)],l,"append",null),l=e([t(0,a.NotNull)],l),Bl.LexerActionExecutor=l,Bl}var zl={},LI;function r1(){if(LI)return zl;LI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zl&&zl.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=zl&&zl.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(zl,"__esModule",{value:!0}),zl.LexerNoViableAltException=void 0;const n=of(),r=Ve(),i=Zi(),a=Mu();let l=class extends n.RecognitionException{constructor(c,g,p,m){super(c,g),this._startIndex=p,this._deadEndConfigs=m}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let c="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(c=this.inputStream.getText(i.Interval.of(this._startIndex,this._startIndex)),c=a.escapeWhitespace(c,!1)),`LexerNoViableAltException('${c}')`}};return e([r.Override],l.prototype,"inputStream",null),e([r.Override],l.prototype,"toString",null),l=e([t(1,r.NotNull)],l),zl.LexerNoViableAltException=l,zl}var xd={},FI;function UH(){if(FI)return xd;FI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xd&&xd.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(xd,"__esModule",{value:!0}),xd.OrderedATNConfigSet=void 0;const t=ey(),n=Ve();let r=class sk extends t.ATNConfigSet{constructor(a,l){a!=null&&l!=null?super(a,l):super()}clone(a){let l=new sk(this,a);return!a&&this.isReadOnly&&l.addAll(this),l}getKey(a){return{state:0,alt:a.hashCode()}}canMerge(a,l,u){return a.equals(u)}};return e([n.Override],r.prototype,"clone",null),e([n.Override],r.prototype,"getKey",null),e([n.Override],r.prototype,"canMerge",null),xd.OrderedATNConfigSet=r,xd}var kI;function i1(){return kI||(kI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=ad&&ad.__decorate||function(L,k,j,B){var $=arguments.length,K=$<3?k:B===null?B=Object.getOwnPropertyDescriptor(k,j):B,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(L,k,j,B);else for(var re=L.length-1;re>=0;re--)(ne=L[re])&&(K=($<3?ne(K):$>3?ne(k,j,K):ne(k,j))||K);return $>3&&K&&Object.defineProperty(k,j,K),K},n=ad&&ad.__param||function(L,k){return function(j,B){k(j,B,L)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerATNSimulator=void 0;const r=XF(),i=Ga(),a=e1(),l=ey(),u=n1(),c=t1(),g=Zi(),p=rf(),m=uf(),x=zH(),b=r1(),E=Ve(),C=UH(),w=Fs(),R=ny(),I=Wn(),N=Ii();let D=class ho extends u.ATNSimulator{constructor(k,j){super(k),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE,this.prevAccept=new ho.SimState,this.recog=j}copyState(k){this._charPositionInLine=k.charPositionInLine,this._line=k._line,this.mode=k.mode,this.startIndex=k.startIndex}match(k,j){this.mode=j;let B=k.mark();try{this.startIndex=k.index,this.prevAccept.reset();let $=this.atn.modeToDFA[j].s0;return $==null?this.matchATN(k):this.execATN(k,$)}finally{k.release(B)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE}matchATN(k){let j=this.atn.modeToStartState[this.mode];ho.debug&&console.log(`matchATN mode ${this.mode} start: ${j}`);let B=this.mode,$=this.computeStartState(k,j),K=$.hasSemanticContext;K&&($.hasSemanticContext=!1);let ne=this.addDFAState($);if(!K){let Se=this.atn.modeToDFA[this.mode];Se.s0?ne=Se.s0:Se.s0=ne}let re=this.execATN(k,ne);return ho.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[B].toLexerString()}`),re}execATN(k,j){ho.debug&&console.log(`start state closure=${j.configs}`),j.isAcceptState&&this.captureSimState(this.prevAccept,k,j);let B=k.LA(1),$=j;for(;;){ho.debug&&console.log(`execATN loop starting closure: ${$.configs}`);let K=this.getExistingTargetState($,B);if(K==null&&(K=this.computeTargetState(k,$,B)),K===u.ATNSimulator.ERROR||(B!==p.IntStream.EOF&&this.consume(k),K.isAcceptState&&(this.captureSimState(this.prevAccept,k,K),B===p.IntStream.EOF)))break;B=k.LA(1),$=K}return this.failOrAccept(this.prevAccept,k,$.configs,B)}getExistingTargetState(k,j){let B=k.getTarget(j);return ho.debug&&B!=null&&console.log("reuse state "+k.stateNumber+" edge to "+B.stateNumber),B}computeTargetState(k,j,B){let $=new C.OrderedATNConfigSet;return this.getReachableConfigSet(k,j.configs,$,B),$.isEmpty?($.hasSemanticContext||this.addDFAEdge(j,B,u.ATNSimulator.ERROR),u.ATNSimulator.ERROR):this.addDFAEdge(j,B,$)}failOrAccept(k,j,B,$){if(k.dfaState!=null){let K=k.dfaState.lexerActionExecutor;return this.accept(j,K,this.startIndex,k.index,k.line,k.charPos),k.dfaState.prediction}else{if($===p.IntStream.EOF&&j.index===this.startIndex)return I.Token.EOF;throw new b.LexerNoViableAltException(this.recog,j,this.startIndex,B)}}getReachableConfigSet(k,j,B,$){let K=i.ATN.INVALID_ALT_NUMBER;for(let ne of j){let re=ne.alt===K;if(re&&ne.hasPassedThroughNonGreedyDecision)continue;ho.debug&&console.log(`testing ${this.getTokenName($)} at ${ne.toString(this.recog,!0)}`);let Se=ne.state.numberOfOptimizedTransitions;for(let Me=0;Me<Se;Me++){let Oe=ne.state.getOptimizedTransition(Me),ie=this.getReachableTarget(Oe,$);if(ie!=null){let Ae=ne.lexerActionExecutor,de;Ae!=null?(Ae=Ae.fixOffsetBeforeMatch(k.index-this.startIndex),de=ne.transform(ie,!0,Ae)):(N(ne.lexerActionExecutor==null),de=ne.transform(ie,!0));let ue=$===p.IntStream.EOF;if(this.closure(k,de,B,re,!0,ue)){K=ne.alt;break}}}}}accept(k,j,B,$,K,ne){ho.debug&&console.log(`ACTION ${j}`),k.seek($),this._line=K,this._charPositionInLine=ne,j!=null&&this.recog!=null&&j.execute(this.recog,k,B)}getReachableTarget(k,j){if(k.matches(j,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE))return k.target}computeStartState(k,j){let B=w.PredictionContext.EMPTY_FULL,$=new C.OrderedATNConfigSet;for(let K=0;K<j.numberOfTransitions;K++){let ne=j.transition(K).target,re=a.ATNConfig.create(ne,K+1,B);this.closure(k,re,$,!1,!1,!1)}return $}closure(k,j,B,$,K,ne){if(ho.debug&&console.log("closure("+j.toString(this.recog,!0)+")"),j.state instanceof R.RuleStopState){ho.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[j.state.ruleIndex]} rule stop ${j}`):console.log(`closure at rule stop ${j}`));let Se=j.context;if(Se.isEmpty)return B.add(j),!0;Se.hasEmpty&&(B.add(j.transform(j.state,!0,w.PredictionContext.EMPTY_FULL)),$=!0);for(let Me=0;Me<Se.size;Me++){let Oe=Se.getReturnState(Me);if(Oe===w.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let ie=Se.getParent(Me),Ae=this.atn.states[Oe],de=j.transform(Ae,!1,ie);$=this.closure(k,de,B,$,K,ne)}return $}j.state.onlyHasEpsilonTransitions||(!$||!j.hasPassedThroughNonGreedyDecision)&&B.add(j);let re=j.state;for(let Se=0;Se<re.numberOfOptimizedTransitions;Se++){let Me=re.getOptimizedTransition(Se),Oe=this.getEpsilonTarget(k,j,Me,B,K,ne);Oe!=null&&($=this.closure(k,Oe,B,$,K,ne))}return $}getEpsilonTarget(k,j,B,$,K,ne){let re;switch(B.serializationType){case 3:let Se=B;if(this.optimize_tail_calls&&Se.optimizedTailCall&&!j.context.hasEmpty)re=j.transform(B.target,!0);else{let Oe=j.context.getChild(Se.followState.stateNumber);re=j.transform(B.target,!0,Oe)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let Me=B;ho.debug&&console.log("EVAL rule "+Me.ruleIndex+":"+Me.predIndex),$.hasSemanticContext=!0,this.evaluatePredicate(k,Me.ruleIndex,Me.predIndex,K)?re=j.transform(B.target,!0):re=void 0;break;case 6:if(j.context.hasEmpty){let Oe=x.LexerActionExecutor.append(j.lexerActionExecutor,this.atn.lexerActions[B.actionIndex]);re=j.transform(B.target,!0,Oe);break}else{re=j.transform(B.target,!0);break}case 1:re=j.transform(B.target,!0);break;case 5:case 2:case 7:if(ne&&B.matches(p.IntStream.EOF,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE)){re=j.transform(B.target,!1);break}re=void 0;break;default:re=void 0;break}return re}evaluatePredicate(k,j,B,$){if(this.recog==null)return!0;if(!$)return this.recog.sempred(void 0,j,B);let K=this._charPositionInLine,ne=this._line,re=k.index,Se=k.mark();try{return this.consume(k),this.recog.sempred(void 0,j,B)}finally{this._charPositionInLine=K,this._line=ne,k.seek(re),k.release(Se)}}captureSimState(k,j,B){k.index=j.index,k.line=this._line,k.charPos=this._charPositionInLine,k.dfaState=B}addDFAEdge(k,j,B){if(B instanceof l.ATNConfigSet){let $=B.hasSemanticContext;$&&(B.hasSemanticContext=!1);let K=this.addDFAState(B);return $||this.addDFAEdge(k,j,K),K}else ho.debug&&console.log("EDGE "+k+" -> "+B+" upon "+String.fromCharCode(j)),k!=null&&k.setTarget(j,B)}addDFAState(k){N(!k.hasSemanticContext);let j=new c.DFAState(k),B=this.atn.modeToDFA[this.mode].states.get(j);if(B!=null)return B;k.optimizeConfigs(this);let $=new c.DFAState(k.clone(!0)),K;for(let ne of k)if(ne.state instanceof R.RuleStopState){K=ne;break}if(K!=null){let ne=this.atn.ruleToTokenType[K.state.ruleIndex],re=K.lexerActionExecutor;$.acceptStateInfo=new r.AcceptStateInfo(ne,re)}return this.atn.modeToDFA[this.mode].addState($)}getDFA(k){return this.atn.modeToDFA[k]}getText(k){return k.getText(g.Interval.of(this.startIndex,k.index-1))}get line(){return this._line}set line(k){this._line=k}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(k){this._charPositionInLine=k}consume(k){k.LA(1)===10?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,k.consume()}getTokenName(k){return k===-1?"EOF":"'"+String.fromCharCode(k)+"'"}};t([E.NotNull],D.prototype,"prevAccept",void 0),t([n(0,E.NotNull)],D.prototype,"copyState",null),t([n(0,E.NotNull)],D.prototype,"match",null),t([E.Override],D.prototype,"reset",null),t([n(0,E.NotNull)],D.prototype,"matchATN",null),t([n(0,E.NotNull),n(1,E.NotNull)],D.prototype,"execATN",null),t([n(0,E.NotNull)],D.prototype,"getExistingTargetState",null),t([E.NotNull,n(0,E.NotNull),n(1,E.NotNull)],D.prototype,"computeTargetState",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],D.prototype,"getReachableConfigSet",null),t([n(0,E.NotNull)],D.prototype,"accept",null),t([E.NotNull,n(0,E.NotNull),n(1,E.NotNull)],D.prototype,"computeStartState",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],D.prototype,"closure",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull),n(3,E.NotNull)],D.prototype,"getEpsilonTarget",null),t([n(0,E.NotNull)],D.prototype,"evaluatePredicate",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],D.prototype,"captureSimState",null),t([E.NotNull,n(0,E.NotNull)],D.prototype,"addDFAState",null),t([E.NotNull],D.prototype,"getDFA",null),t([E.NotNull,n(0,E.NotNull)],D.prototype,"getText",null),t([n(0,E.NotNull)],D.prototype,"consume",null),t([E.NotNull],D.prototype,"getTokenName",null),D=t([n(0,E.NotNull)],D),e.LexerATNSimulator=D,function(L){L.debug=!1,L.dfa_debug=!1;class k{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}L.SimState=k}(D=e.LexerATNSimulator||(e.LexerATNSimulator={})),e.LexerATNSimulator=D}(ad)),ad}var BI;function uf(){if(BI)return sd;BI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=sd&&sd.__decorate||function(m,x,b,E){var C=arguments.length,w=C<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,b):E,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(m,x,b,E);else for(var I=m.length-1;I>=0;I--)(R=m[I])&&(w=(C<3?R(w):C>3?R(x,b,w):R(x,b))||w);return C>3&&w&&Object.defineProperty(x,b,w),w};Object.defineProperty(sd,"__esModule",{value:!0}),sd.Lexer=void 0;const t=oR(),n=KF(),r=Zi(),i=rf(),a=i1(),l=r1(),u=Ve(),c=ty(),g=Wn();let p=class Dc extends c.Recognizer{constructor(x){super(),this._factory=t.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new n.IntegerStack,this._mode=Dc.DEFAULT_MODE,this._input=x,this._tokenFactorySourcePair={source:this,stream:x}}static get DEFAULT_TOKEN_CHANNEL(){return g.Token.DEFAULT_CHANNEL}static get HIDDEN(){return g.Token.HIDDEN_CHANNEL}reset(x){(x===void 0||x)&&this._input.seek(0),this._token=void 0,this._type=g.Token.INVALID_TYPE,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=Dc.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let x=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=g.Token.INVALID_TYPE;let b;try{b=this.interpreter.match(this._input,this._mode)}catch(E){if(E instanceof l.LexerNoViableAltException)this.notifyListeners(E),this.recover(E),b=Dc.SKIP;else throw E}if(this._input.LA(1)===i.IntStream.EOF&&(this._hitEOF=!0),this._type===g.Token.INVALID_TYPE&&(this._type=b),this._type===Dc.SKIP)continue e}while(this._type===Dc.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(x)}}skip(){this._type=Dc.SKIP}more(){this._type=Dc.MORE}mode(x){this._mode=x}pushMode(x){a.LexerATNSimulator.debug&&console.log("pushMode "+x),this._modeStack.push(this._mode),this.mode(x)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return a.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(x){this._factory=x}get inputStream(){return this._input}set inputStream(x){this.reset(!1),this._input=x,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(x){return x||(x=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=x,x}emitEOF(){let x=this.charPositionInLine,b=this.line,E=this._factory.create(this._tokenFactorySourcePair,g.Token.EOF,void 0,g.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,b,x);return this.emit(E),E}get line(){return this.interpreter.line}set line(x){this.interpreter.line=x}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(x){this.interpreter.charPositionInLine=x}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(x){this._text=x}get token(){return this._token}set token(x){this._token=x}set type(x){this._type=x}get type(){return this._type}set channel(x){this._channel=x}get channel(){return this._channel}getAllTokens(){let x=[],b=this.nextToken();for(;b.type!==g.Token.EOF;)x.push(b),b=this.nextToken();return x}notifyListeners(x){let b=this._input.getText(r.Interval.of(this._tokenStartCharIndex,this._input.index)),E="token recognition error at: '"+this.getErrorDisplay(b)+"'",C=this.getErrorListenerDispatch();C.syntaxError&&C.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,E,x)}getErrorDisplay(x){if(typeof x=="number"){switch(x){case g.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(x)}return x.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(x){return"'"+this.getErrorDisplay(x)+"'"}recover(x){x instanceof l.LexerNoViableAltException?this._input.LA(1)!==i.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};return p.DEFAULT_MODE=0,p.MORE=-2,p.SKIP=-3,p.MIN_CHAR_VALUE=0,p.MAX_CHAR_VALUE=1114111,e([u.Override],p.prototype,"nextToken",null),e([u.Override],p.prototype,"tokenFactory",null),e([u.Override],p.prototype,"inputStream",null),e([u.Override],p.prototype,"sourceName",null),e([u.Override],p.prototype,"line",null),e([u.Override],p.prototype,"charPositionInLine",null),sd.Lexer=p,sd}var jI;function Ah(){if(jI)return Rl;jI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rl&&Rl.__decorate||function(p,m,x,b){var E=arguments.length,C=E<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,m,x,b);else for(var R=p.length-1;R>=0;R--)(w=p[R])&&(C=(E<3?w(C):E>3?w(m,x,C):w(m,x))||C);return E>3&&C&&Object.defineProperty(m,x,C),C},t=Rl&&Rl.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.IntervalSet=void 0;const n=ZS(),r=iR(),i=Zi(),a=uf(),l=mr(),u=Ve(),c=Wn();let g=class gn{constructor(m){this.readonly=!1,m!=null?this._intervals=m.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return gn._COMPLETE_CHAR_SET===void 0&&(gn._COMPLETE_CHAR_SET=gn.of(a.Lexer.MIN_CHAR_VALUE,a.Lexer.MAX_CHAR_VALUE),gn._COMPLETE_CHAR_SET.setReadonly(!0)),gn._COMPLETE_CHAR_SET}static get EMPTY_SET(){return gn._EMPTY_SET==null&&(gn._EMPTY_SET=new gn,gn._EMPTY_SET.setReadonly(!0)),gn._EMPTY_SET}static of(m,x=m){let b=new gn;return b.add(m,x),b}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(m,x=m){this.addRange(i.Interval.of(m,x))}addRange(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(m.b<m.a)){for(let x=0;x<this._intervals.length;x++){let b=this._intervals[x];if(m.equals(b))return;if(m.adjacent(b)||!m.disjoint(b)){let E=m.union(b);for(this._intervals[x]=E;x<this._intervals.length-1;){x++;let C=this._intervals[x];if(!E.adjacent(C)&&E.disjoint(C))break;this._intervals.splice(x,1),x--,this._intervals[x]=E.union(C)}return}if(m.startsBeforeDisjoint(b)){this._intervals.splice(x,0,m);return}}this._intervals.push(m)}}static or(m){let x=new gn;for(let b of m)x.addAll(b);return x}addAll(m){if(m==null)return this;if(m instanceof gn){let x=m,b=x._intervals.length;for(let E=0;E<b;E++){let C=x._intervals[E];this.add(C.a,C.b)}}else for(let x of m.toArray())this.add(x);return this}complementRange(m,x){return this.complement(gn.of(m,x))}complement(m){if(m.isNil)return gn.EMPTY_SET;let x;return m instanceof gn?x=m:(x=new gn,x.addAll(m)),x.subtract(this)}subtract(m){if(m==null||m.isNil)return new gn(this._intervals);if(m instanceof gn)return gn.subtract(this,m);let x=new gn;return x.addAll(m),gn.subtract(this,x)}static subtract(m,x){if(m.isNil)return new gn;let b=new gn(m._intervals);if(x.isNil)return b;let E=0,C=0;for(;E<b._intervals.length&&C<x._intervals.length;){let w=b._intervals[E],R=x._intervals[C];if(R.b<w.a){C++;continue}if(R.a>w.b){E++;continue}let I,N;if(R.a>w.a&&(I=new i.Interval(w.a,R.a-1)),R.b<w.b&&(N=new i.Interval(R.b+1,w.b)),I)if(N){b._intervals[E]=I,b._intervals.splice(E+1,0,N),E++,C++;continue}else{b._intervals[E]=I,E++;continue}else if(N){b._intervals[E]=N,C++;continue}else{b._intervals.splice(E,1);continue}}return b}or(m){let x=new gn;return x.addAll(this),x.addAll(m),x}and(m){if(m.isNil)return new gn;let x=this._intervals,b=m._intervals,E,C=x.length,w=b.length,R=0,I=0;for(;R<C&&I<w;){let N=x[R],D=b[I];N.startsBeforeDisjoint(D)?R++:D.startsBeforeDisjoint(N)?I++:N.properlyContains(D)?(E||(E=new gn),E.addRange(N.intersection(D)),I++):D.properlyContains(N)?(E||(E=new gn),E.addRange(N.intersection(D)),R++):N.disjoint(D)||(E||(E=new gn),E.addRange(N.intersection(D)),N.startsAfterNonDisjoint(D)?I++:D.startsAfterNonDisjoint(N)&&R++)}return E||new gn}contains(m){let x=this._intervals.length,b=0,E=x-1;for(;b<=E;){let C=b+E>>1,w=this._intervals[C],R=w.a;if(w.b<m)b=C+1;else if(R>m)E=C-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let m=l.MurmurHash.initialize();for(let x of this._intervals)m=l.MurmurHash.update(m,x.a),m=l.MurmurHash.update(m,x.b);return m=l.MurmurHash.finish(m,this._intervals.length*2),m}equals(m){return m==null||!(m instanceof gn)?!1:n.ArrayEqualityComparator.INSTANCE.equals(this._intervals,m._intervals)}toString(m=!1){let x="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(x+="{");let b=!0;for(let E of this._intervals){b?b=!1:x+=", ";let C=E.a,w=E.b;C===w?C===c.Token.EOF?x+="<EOF>":m?x+="'"+String.fromCodePoint(C)+"'":x+=C:m?x+="'"+String.fromCodePoint(C)+"'..'"+String.fromCodePoint(w)+"'":x+=C+".."+w}return this.size>1&&(x+="}"),x}toStringVocabulary(m){if(this._intervals==null||this._intervals.length===0)return"{}";let x="";this.size>1&&(x+="{");let b=!0;for(let E of this._intervals){b?b=!1:x+=", ";let C=E.a,w=E.b;if(C===w)x+=this.elementName(m,C);else for(let R=C;R<=w;R++)R>C&&(x+=", "),x+=this.elementName(m,R)}return this.size>1&&(x+="}"),x}elementName(m,x){return x===c.Token.EOF?"<EOF>":x===c.Token.EPSILON?"<EPSILON>":m.getDisplayName(x)}get size(){let m=0,x=this._intervals.length;if(x===1){let b=this._intervals[0];return b.b-b.a+1}for(let b=0;b<x;b++){let E=this._intervals[b];m+=E.b-E.a+1}return m}toIntegerList(){let m=new r.IntegerList(this.size),x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],C=E.a,w=E.b;for(let R=C;R<=w;R++)m.add(R)}return m}toSet(){let m=new Set;for(let x of this._intervals){let b=x.a,E=x.b;for(let C=b;C<=E;C++)m.add(C)}return m}toArray(){let m=new Array,x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],C=E.a,w=E.b;for(let R=C;R<=w;R++)m.push(R)}return m}remove(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],C=E.a,w=E.b;if(m<C)break;if(m===C&&m===w){this._intervals.splice(b,1);break}if(m===C){this._intervals[b]=i.Interval.of(E.a+1,E.b);break}if(m===w){this._intervals[b]=i.Interval.of(E.a,E.b-1);break}if(m>C&&m<w){let R=E.b;this._intervals[b]=i.Interval.of(E.a,m-1),this.add(m+1,R)}}}get isReadonly(){return this.readonly}setReadonly(m){if(this.readonly&&!m)throw new Error("can't alter readonly IntervalSet");this.readonly=m}};return e([u.Override],g.prototype,"addAll",null),e([u.Override],g.prototype,"complement",null),e([u.Override],g.prototype,"subtract",null),e([u.Override],g.prototype,"or",null),e([u.Override],g.prototype,"and",null),e([u.Override],g.prototype,"contains",null),e([u.Override],g.prototype,"isNil",null),e([u.Override],g.prototype,"hashCode",null),e([u.Override],g.prototype,"equals",null),e([t(0,u.NotNull)],g.prototype,"toStringVocabulary",null),e([u.NotNull,t(0,u.NotNull)],g.prototype,"elementName",null),e([u.Override],g.prototype,"size",null),e([u.Override],g.prototype,"remove",null),e([u.NotNull],g,"of",null),e([u.NotNull],g,"subtract",null),Rl.IntervalSet=g,Rl}var bd={},ws={},Sd={},zI;function ak(){if(zI)return Sd;zI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sd&&Sd.__decorate||function(r,i,a,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,a,c):g(i,a))||c);return u>3&&c&&Object.defineProperty(i,a,c),c};Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.ATNDeserializationOptions=void 0;const t=Ve();let n=class Up{constructor(i){this.readOnly=!1,i?(this.verifyATN=i.verifyATN,this.generateRuleBypassTransitions=i.generateRuleBypassTransitions,this.optimize=i.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return Up._defaultOptions==null&&(Up._defaultOptions=new Up,Up._defaultOptions.makeReadOnly()),Up._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(i){this.throwIfReadOnly(),this.verifyATN=i}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(i){this.throwIfReadOnly(),this.generateRuleBypassTransitions=i}get isOptimize(){return this.optimize}set isOptimize(i){this.throwIfReadOnly(),this.optimize=i}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};return e([t.NotNull],n,"defaultOptions",null),Sd.ATNDeserializationOptions=n,Sd}var Ul={},Vl={},UI;function lk(){if(UI)return Vl;UI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vl&&Vl.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Vl&&Vl.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.ActionTransition=void 0;const n=Ve(),r=sf();let i=class extends r.Transition{constructor(l,u,c=-1,g=!1){super(l),this.ruleIndex=u,this.actionIndex=c,this.isCtxDependent=g}get serializationType(){return 6}get isEpsilon(){return!0}matches(l,u,c){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"isEpsilon",null),e([n.Override],i.prototype,"matches",null),e([n.Override],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),Vl.ActionTransition=i,Vl}var Gl={},VI;function uk(){if(VI)return Gl;VI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gl&&Gl.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Gl&&Gl.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.AtomTransition=void 0;const n=Ah(),r=Ve(),i=sf();let a=class extends i.Transition{constructor(u,c){super(u),this._label=c}get serializationType(){return 5}get label(){return n.IntervalSet.of(this._label)}matches(u,c,g){return this._label===u}toString(){return String(this.label)}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override,r.NotNull],a.prototype,"label",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),Gl.AtomTransition=a,Gl}var Ad={},W0={},GI;function o1(){if(GI)return W0;GI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(W0,"__esModule",{value:!0}),W0.BlockStartState=void 0;const e=bh();let t=class extends e.DecisionState{};return W0.BlockStartState=t,W0}var $I;function VH(){if($I)return Ad;$I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ad&&Ad.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.BasicBlockStartState=void 0;const t=ei(),n=o1(),r=Ve();let i=class extends n.BlockStartState{get stateType(){return t.ATNStateType.BLOCK_START}};return e([r.Override],i.prototype,"stateType",null),Ad.BasicBlockStartState=i,Ad}var Ed={},WI;function GH(){if(WI)return Ed;WI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ed&&Ed.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.BlockEndState=void 0;const t=Du(),n=ei(),r=Ve();let i=class extends t.ATNState{get stateType(){return n.ATNStateType.BLOCK_END}};return e([r.Override],i.prototype,"stateType",null),Ed.BlockEndState=i,Ed}var $l={},HI;function $H(){if(HI)return $l;HI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$l&&$l.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=$l&&$l.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty($l,"__esModule",{value:!0}),$l.EpsilonTransition=void 0;const n=Ve(),r=sf();let i=class extends r.Transition{constructor(l,u=-1){super(l),this._outermostPrecedenceReturn=u}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(l,u,c){return!1}toString(){return"epsilon"}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"isEpsilon",null),e([n.Override],i.prototype,"matches",null),e([n.Override,n.NotNull],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),$l.EpsilonTransition=i,$l}var Wl={},YI;function WH(){if(YI)return Wl;YI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wl&&Wl.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Wl&&Wl.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.LexerChannelAction=void 0;const n=mr(),r=Ve();let i=class ck{constructor(l){this._channel=l}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(l){l.channel=this._channel}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._channel),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof ck?this._channel===l._channel:!1}toString(){return`channel(${this._channel})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),Wl.LexerChannelAction=i,Wl}var Hl={},qI;function HH(){if(qI)return Hl;qI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hl&&Hl.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Hl&&Hl.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.LexerCustomAction=void 0;const n=mr(),r=Ve();let i=class fk{constructor(l,u){this._ruleIndex=l,this._actionIndex=u}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(l){l.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._ruleIndex),l=n.MurmurHash.update(l,this._actionIndex),n.MurmurHash.finish(l,3)}equals(l){return l===this?!0:l instanceof fk?this._ruleIndex===l._ruleIndex&&this._actionIndex===l._actionIndex:!1}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),Hl.LexerCustomAction=i,Hl}var Yl={},KI;function YH(){if(KI)return Yl;KI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yl&&Yl.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Yl&&Yl.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.LexerModeAction=void 0;const n=mr(),r=Ve();let i=class dk{constructor(l){this._mode=l}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(l){l.mode(this._mode)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._mode),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof dk?this._mode===l._mode:!1}toString(){return`mode(${this._mode})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),Yl.LexerModeAction=i,Yl}var wd={},XI;function qH(){return XI||(XI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=wd&&wd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},n=wd&&wd.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerMoreAction=void 0;const r=mr(),i=Ve();let a=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(u){u.more()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"more"}};t([i.Override],a.prototype,"actionType",null),t([i.Override],a.prototype,"isPositionDependent",null),t([i.Override,n(0,i.NotNull)],a.prototype,"execute",null),t([i.Override],a.prototype,"hashCode",null),t([i.Override],a.prototype,"equals",null),t([i.Override],a.prototype,"toString",null),e.LexerMoreAction=a,function(l){l.INSTANCE=new l}(a=e.LexerMoreAction||(e.LexerMoreAction={}))}(wd)),wd}var Cd={},ZI;function KH(){return ZI||(ZI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Cd&&Cd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},n=Cd&&Cd.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerPopModeAction=void 0;const r=mr(),i=Ve();let a=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(u){u.popMode()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"popMode"}};t([i.Override],a.prototype,"actionType",null),t([i.Override],a.prototype,"isPositionDependent",null),t([i.Override,n(0,i.NotNull)],a.prototype,"execute",null),t([i.Override],a.prototype,"hashCode",null),t([i.Override],a.prototype,"equals",null),t([i.Override],a.prototype,"toString",null),e.LexerPopModeAction=a,function(l){l.INSTANCE=new l}(a=e.LexerPopModeAction||(e.LexerPopModeAction={}))}(Cd)),Cd}var ql={},JI;function XH(){if(JI)return ql;JI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ql&&ql.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=ql&&ql.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(ql,"__esModule",{value:!0}),ql.LexerPushModeAction=void 0;const n=mr(),r=Ve();let i=class hk{constructor(l){this._mode=l}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(l){l.pushMode(this._mode)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._mode),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof hk?this._mode===l._mode:!1}toString(){return`pushMode(${this._mode})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),ql.LexerPushModeAction=i,ql}var Rd={},QI;function ZH(){return QI||(QI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Rd&&Rd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},n=Rd&&Rd.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerSkipAction=void 0;const r=mr(),i=Ve();let a=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(u){u.skip()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"skip"}};t([i.Override],a.prototype,"actionType",null),t([i.Override],a.prototype,"isPositionDependent",null),t([i.Override,n(0,i.NotNull)],a.prototype,"execute",null),t([i.Override],a.prototype,"hashCode",null),t([i.Override],a.prototype,"equals",null),t([i.Override],a.prototype,"toString",null),e.LexerSkipAction=a,function(l){l.INSTANCE=new l}(a=e.LexerSkipAction||(e.LexerSkipAction={}))}(Rd)),Rd}var Kl={},eO;function JH(){if(eO)return Kl;eO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kl&&Kl.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Kl&&Kl.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.LexerTypeAction=void 0;const n=mr(),r=Ve();let i=class pk{constructor(l){this._type=l}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(l){l.type=this._type}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._type),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof pk?this._type===l._type:!1}toString(){return`type(${this._type})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),Kl.LexerTypeAction=i,Kl}var Td={},tO;function gk(){if(tO)return Td;tO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Td&&Td.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Td,"__esModule",{value:!0}),Td.LoopEndState=void 0;const t=Du(),n=ei(),r=Ve();let i=class extends t.ATNState{get stateType(){return n.ATNStateType.LOOP_END}};return e([r.Override],i.prototype,"stateType",null),Td.LoopEndState=i,Td}var Xl={},Nd={},nO;function QH(){if(nO)return Nd;nO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nd&&Nd.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.ConflictInfo=void 0;const t=Ve(),n=Mu();let r=class mk{constructor(a,l){this._conflictedAlts=a,this.exact=l}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(a){return a===this?!0:a instanceof mk?this.isExact===a.isExact&&n.equals(this.conflictedAlts,a.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};return e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),Nd.ConflictInfo=r,Nd}var _d={},Id={},Od={},rO;function Dg(){if(rO)return Od;rO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Od&&Od.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Od,"__esModule",{value:!0}),Od.TerminalNode=void 0;const t=Zi(),n=Ve(),r=Wn();let i=class{constructor(l){this._symbol=l}getChild(l){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(l){this._parent=l}get payload(){return this._symbol}get sourceInterval(){let l=this._symbol.tokenIndex;return new t.Interval(l,l)}get childCount(){return 0}accept(l){return l.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(l){return this.toString()}toString(){return this._symbol.type===r.Token.EOF?"<EOF>":this._symbol.text||""}};return e([n.Override],i.prototype,"getChild",null),e([n.Override],i.prototype,"parent",null),e([n.Override],i.prototype,"setParent",null),e([n.Override],i.prototype,"payload",null),e([n.Override],i.prototype,"sourceInterval",null),e([n.Override],i.prototype,"childCount",null),e([n.Override],i.prototype,"accept",null),e([n.Override],i.prototype,"text",null),e([n.Override],i.prototype,"toStringTree",null),e([n.Override],i.prototype,"toString",null),Od.TerminalNode=i,Od}var iO;function dR(){if(iO)return Id;iO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Id&&Id.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Id,"__esModule",{value:!0}),Id.ErrorNode=void 0;const t=Ve(),n=Dg();let r=class extends n.TerminalNode{constructor(a){super(a)}accept(a){return a.visitErrorNode(this)}};return e([t.Override],r.prototype,"accept",null),Id.ErrorNode=r,Id}var Dd={},H0={},oO;function hR(){if(oO)return H0;oO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(H0,"__esModule",{value:!0}),H0.RuleNode=void 0;let e=class{};return H0.RuleNode=e,H0}var Zl={},sO;function Eh(){if(sO)return Zl;sO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zl&&Zl.__decorate||function(b,E,C,w){var R=arguments.length,I=R<3?E:w===null?w=Object.getOwnPropertyDescriptor(E,C):w,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(b,E,C,w);else for(var D=b.length-1;D>=0;D--)(N=b[D])&&(I=(R<3?N(I):R>3?N(E,C,I):N(E,C))||I);return R>3&&I&&Object.defineProperty(E,C,I),I},t=Zl&&Zl.__param||function(b,E){return function(C,w){E(C,w,b)}};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.Trees=void 0;const n=Ga(),r=Qv(),i=dR(),a=Ve(),l=oy(),u=ks(),c=hR(),g=Dg(),p=Wn(),m=Mu();let x=class Mc{static toStringTree(E,C){let w;C instanceof l.Parser?w=C.ruleNames:w=C;let R=m.escapeWhitespace(this.getNodeText(E,w),!1);if(E.childCount===0)return R;let I="";I+="(",R=m.escapeWhitespace(this.getNodeText(E,w),!1),I+=R,I+=" ";for(let N=0;N<E.childCount;N++)N>0&&(I+=" "),I+=this.toStringTree(E.getChild(N),w);return I+=")",I}static getNodeText(E,C){let w;if(C instanceof l.Parser)w=C.ruleNames;else if(C)w=C;else{let R=E.payload;return typeof R.text=="string"?R.text:E.payload.toString()}if(E instanceof c.RuleNode){let R=E.ruleContext,I=R.ruleIndex,N=w[I],D=R.altNumber;return D!==n.ATN.INVALID_ALT_NUMBER?N+":"+D:N}else{if(E instanceof i.ErrorNode)return E.toString();if(E instanceof g.TerminalNode)return E.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(E){let C=[];for(let w=0;w<E.childCount;w++)C.push(E.getChild(w));return C}static getAncestors(E){let C=[],w=E.parent;for(;w;)C.unshift(w),w=w.parent;return C}static isAncestorOf(E,C){if(!E||!C||!E.parent)return!1;let w=C.parent;for(;w;){if(E===w)return!0;w=w.parent}return!1}static findAllTokenNodes(E,C){return Mc.findAllNodes(E,C,!0)}static findAllRuleNodes(E,C){return Mc.findAllNodes(E,C,!1)}static findAllNodes(E,C,w){let R=[];return Mc._findAllNodes(E,C,w,R),R}static _findAllNodes(E,C,w,R){w&&E instanceof g.TerminalNode?E.symbol.type===C&&R.push(E):!w&&E instanceof u.ParserRuleContext&&E.ruleIndex===C&&R.push(E);for(let I=0;I<E.childCount;I++)Mc._findAllNodes(E.getChild(I),C,w,R)}static getDescendants(E){let C=[];function w(R){C.push(R);const I=R.childCount;for(let N=0;N<I;N++)w(R.getChild(N))}return w(E),C}static getRootOfSubtreeEnclosingRegion(E,C,w){let R=E.childCount;for(let I=0;I<R;I++){let N=E.getChild(I),D=Mc.getRootOfSubtreeEnclosingRegion(N,C,w);if(D)return D}if(E instanceof u.ParserRuleContext){let I=E.stop;if(C>=E.start.tokenIndex&&(I==null||w<=I.tokenIndex))return E}}static stripChildrenOutOfRange(E,C,w,R){if(!E)return;let I=E.childCount;for(let N=0;N<I;N++){let D=E.getChild(N),L=D.sourceInterval;if(D instanceof u.ParserRuleContext&&(L.b<w||L.a>R)&&Mc.isAncestorOf(D,C)){let k=new r.CommonToken(p.Token.INVALID_TYPE,"...");E.children[N]=new g.TerminalNode(k)}}}static findNodeSuchThat(E,C){if(C(E))return E;let w=E.childCount;for(let R=0;R<w;R++){let I=Mc.findNodeSuchThat(E.getChild(R),C);if(I!==void 0)return I}}};return e([t(0,a.NotNull)],x,"toStringTree",null),e([a.NotNull,t(0,a.NotNull)],x,"getAncestors",null),e([t(0,a.NotNull)],x,"getRootOfSubtreeEnclosingRegion",null),Zl.Trees=x,Zl}var aO;function yk(){if(aO)return Dd;aO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dd&&Dd.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(E=(b<3?C(E):b>3?C(p,m,E):C(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.RuleContext=void 0;const t=Ga(),n=ty(),r=hR(),i=Zi(),a=Ve(),l=Eh(),u=ks();let c=class vk extends r.RuleNode{constructor(p,m){super(),this._parent=p,this.invokingState=m??-1}static getChildContext(p,m){return new vk(p,m)}depth(){let p=0,m=this;for(;m;)m=m._parent,p++;return p}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return i.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(p){this._parent=p}get payload(){return this}get text(){if(this.childCount===0)return"";let p="";for(let m=0;m<this.childCount;m++)p+=this.getChild(m).text;return p.toString()}get ruleIndex(){return-1}get altNumber(){return t.ATN.INVALID_ALT_NUMBER}set altNumber(p){}getChild(p){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(p){return p.visitChildren(this)}toStringTree(p){return l.Trees.toStringTree(this,p)}toString(p,m){const x=p instanceof n.Recognizer?p.ruleNames:p;m=m||u.ParserRuleContext.emptyContext();let b="",E=this;for(b+="[";E&&E!==m;){if(!x)E.isEmpty||(b+=E.invokingState);else{let C=E.ruleIndex,w=C>=0&&C<x.length?x[C]:C.toString();b+=w}E._parent&&(x||!E._parent.isEmpty)&&(b+=" "),E=E._parent}return b+="]",b.toString()}};return e([a.Override],c.prototype,"sourceInterval",null),e([a.Override],c.prototype,"ruleContext",null),e([a.Override],c.prototype,"parent",null),e([a.Override],c.prototype,"setParent",null),e([a.Override],c.prototype,"payload",null),e([a.Override],c.prototype,"text",null),e([a.Override],c.prototype,"getChild",null),e([a.Override],c.prototype,"childCount",null),e([a.Override],c.prototype,"accept",null),e([a.Override],c.prototype,"toStringTree",null),Dd.RuleContext=c,Dd}var lO;function ks(){if(lO)return _d;lO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_d&&_d.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x};Object.defineProperty(_d,"__esModule",{value:!0}),_d.ParserRuleContext=void 0;const t=dR(),n=Zi(),r=Ve(),i=yk(),a=Dg();let l=class MC extends i.RuleContext{constructor(c,g){g==null?super():super(c,g)}static emptyContext(){return MC.EMPTY}copyFrom(c){if(this._parent=c._parent,this.invokingState=c.invokingState,this._start=c._start,this._stop=c._stop,c.children){this.children=[];for(let g of c.children)g instanceof t.ErrorNode&&this.addChild(g)}}enterRule(c){}exitRule(c){}addAnyChild(c){return this.children?this.children.push(c):this.children=[c],c}addChild(c){if(c instanceof a.TerminalNode){c.setParent(this),this.addAnyChild(c);return}else if(c instanceof i.RuleContext){this.addAnyChild(c);return}else return c=new a.TerminalNode(c),this.addAnyChild(c),c.setParent(this),c}addErrorNode(c){if(c instanceof t.ErrorNode){const g=c;return g.setParent(this),this.addAnyChild(g)}else{const g=c;let p=new t.ErrorNode(g);return this.addAnyChild(p),p.setParent(this),p}}removeLastChild(){this.children&&this.children.pop()}get parent(){let c=super.parent;if(c===void 0||c instanceof MC)return c;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(c,g){if(!this.children||c<0||c>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(g==null)return this.children[c];let p=this.tryGetChild(c,g);if(p===void 0)throw new Error("The specified node does not exist");return p}tryGetChild(c,g){if(!this.children||c<0||c>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof g&&(p++,p===c))return m}getToken(c,g){let p=this.tryGetToken(c,g);if(p===void 0)throw new Error("The specified token does not exist");return p}tryGetToken(c,g){if(!this.children||g<0||g>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof a.TerminalNode&&m.symbol.type===c&&(p++,p===g))return m}getTokens(c){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof a.TerminalNode&&p.symbol.type===c&&g.push(p);return g}get ruleContext(){return this}getRuleContext(c,g){return this.getChild(c,g)}tryGetRuleContext(c,g){return this.tryGetChild(c,g)}getRuleContexts(c){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof c&&g.push(p);return g}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?n.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):n.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):n.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(c){return"ParserRuleContext"+c.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}};return l.EMPTY=new l,e([r.Override],l.prototype,"parent",null),e([r.Override],l.prototype,"childCount",null),e([r.Override],l.prototype,"sourceInterval",null),_d.ParserRuleContext=l,_d}var Y0={},uO;function eY(){return uO||(uO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Y0&&Y0.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionMode=void 0;const n=Og(),r=mr(),i=Ve(),a=ny();(function(l){l[l.SLL=0]="SLL",l[l.LL=1]="LL",l[l.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(e.PredictionMode||(e.PredictionMode={})),function(l){class u extends n.Array2DHashMap{constructor(){super(c.INSTANCE)}}class c{AltAndContextConfigEqualityComparator(){}hashCode(x){let b=r.MurmurHash.initialize(7);return b=r.MurmurHash.update(b,x.state.stateNumber),b=r.MurmurHash.update(b,x.context),b=r.MurmurHash.finish(b,2),b}equals(x,b){return x===b?!0:x==null||b==null?!1:x.state.stateNumber===b.state.stateNumber&&x.context.equals(b.context)}}c.INSTANCE=new c,t([i.Override],c.prototype,"hashCode",null),t([i.Override],c.prototype,"equals",null);function g(m){for(let x of m)if(x.state instanceof a.RuleStopState)return!0;return!1}l.hasConfigInRuleStopState=g;function p(m){for(let x of m)if(!(x.state instanceof a.RuleStopState))return!1;return!0}l.allConfigsInRuleStopStates=p}(e.PredictionMode||(e.PredictionMode={}))}(Y0)),Y0}var Jl={},cO;function xk(){if(cO)return Jl;cO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jl&&Jl.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Jl&&Jl.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.SimulatorState=void 0;const n=Ve(),r=ks();let i=class{constructor(l,u,c,g){this.outerContext=l??r.ParserRuleContext.emptyContext(),this.s0=u,this.useContext=c,this.remainingOuterContext=g}};return i=e([t(1,n.NotNull)],i),Jl.SimulatorState=i,Jl}var fO;function ry(){if(fO)return Xl;fO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xl&&Xl.__decorate||function(he,z,U,G){var H=arguments.length,Q=H<3?z:G===null?G=Object.getOwnPropertyDescriptor(z,U):G,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(he,z,U,G);else for(var J=he.length-1;J>=0;J--)(Z=he[J])&&(Q=(H<3?Z(Q):H>3?Z(z,U,Q):Z(z,U))||Q);return H>3&&Q&&Object.defineProperty(z,U,Q),Q},t=Xl&&Xl.__param||function(he,z){return function(U,G){z(U,G,he)}};Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.ParserATNSimulator=void 0;const n=XF(),r=lk(),i=af(),a=rR(),l=Ga(),u=e1(),c=ey(),g=n1(),p=ei(),m=uk(),x=lf(),b=QH(),E=bh(),C=t1(),w=iR(),R=Zi(),I=rf(),N=Ve(),D=cR(),L=s1(),k=Va(),j=ks(),B=Fs(),$=sR(),K=eY(),ne=ny(),re=fR(),Se=Ig(),Me=uR(),Oe=xk(),ie=Wn(),Ae=Sh(),de=Ii(),ue=65535,X=-2147483648;let oe=class Ut extends g.ATNSimulator{constructor(z,U){super(z),this.predictionMode=K.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=U}getPredictionMode(){return this.predictionMode}setPredictionMode(z){this.predictionMode=z}reset(){}adaptivePredict(z,U,G,H){H===void 0&&(H=!1);let Q=this.atn.decisionToDFA[U];if(de(Q!=null),this.optimize_ll1&&!Q.isPrecedenceDfa&&!Q.isEmpty){let ye=z.LA(1);if(ye>=0&&ye<=65535){let xe=(U<<16>>>0)+ye,ae=this.atn.LL1Table.get(xe);if(ae!=null)return ae}}this.dfa=Q,this.force_global_context?H=!0:this.always_try_local_context||(H=H||Q.isContextSensitive),this.userWantsCtxSensitive=H||this.predictionMode!==K.PredictionMode.SLL&&G!=null&&!this.atn.decisionToState[U].sll,G==null&&(G=j.ParserRuleContext.emptyContext());let Z;Q.isEmpty||(Z=this.getStartState(Q,z,G,H)),Z==null&&(G==null&&(G=j.ParserRuleContext.emptyContext()),Ut.debug&&console.log("ATN decision "+Q.decision+" exec LA(1)=="+this.getLookaheadName(z)+", outerContext="+G.toString(this._parser)),Z=this.computeStartState(Q,G,H));let J=z.mark(),se=z.index;try{let ye=this.execDFA(Q,z,se,Z);return Ut.debug&&console.log("DFA after predictATN: "+Q.toString(this._parser.vocabulary,this._parser.ruleNames)),ye}finally{this.dfa=void 0,z.seek(se),z.release(J)}}getStartState(z,U,G,H){if(!H)if(z.isPrecedenceDfa){let J=z.getPrecedenceStartState(this._parser.precedence,!1);return J==null?void 0:new Oe.SimulatorState(G,J,!1,G)}else return z.s0==null?void 0:new Oe.SimulatorState(G,z.s0,!1,G);if(!this.enable_global_context_dfa)return;let Q=G;de(G!=null);let Z;for(z.isPrecedenceDfa?Z=z.getPrecedenceStartState(this._parser.precedence,!0):Z=z.s0full;Q!=null&&Z!=null&&Z.isContextSensitive;)Q=this.skipTailCalls(Q),Z=Z.getContextTarget(this.getReturnState(Q)),Q.isEmpty?de(Z==null||!Z.isContextSensitive):Q=Q.parent;if(Z!=null)return new Oe.SimulatorState(G,Z,H,Q)}execDFA(z,U,G,H){let Q=H.outerContext;Ut.dfa_debug&&console.log("DFA decision "+z.decision+" exec LA(1)=="+this.getLookaheadName(U)+", outerContext="+Q.toString(this._parser)),Ut.dfa_debug&&console.log(z.toString(this._parser.vocabulary,this._parser.ruleNames));let Z=H.s0,J=U.LA(1),se=H.remainingOuterContext;for(;;){if(Ut.dfa_debug&&console.log("DFA state "+Z.stateNumber+" LA(1)=="+this.getLookaheadName(U)),H.useContext)for(;Z.isContextSymbol(J);){let ae;if(se!=null&&(se=this.skipTailCalls(se),ae=Z.getContextTarget(this.getReturnState(se))),ae==null){let le=new Oe.SimulatorState(H.outerContext,Z,H.useContext,se);return this.execATN(z,U,G,le)}de(se!=null),se=se.parent,Z=ae}if(this.isAcceptState(Z,H.useContext)){Z.predicates!=null?Ut.dfa_debug&&console.log("accept "+Z):Ut.dfa_debug&&console.log("accept; predict "+Z.prediction+" in state "+Z.stateNumber);break}de(!this.isAcceptState(Z,H.useContext));let xe=this.getExistingTargetState(Z,J);if(xe==null){Ut.dfa_debug&&J>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(J));let ae;if(Ut.dfa_debug){let we=R.Interval.of(G,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(we)+" at DFA state "+Z.stateNumber)}let le=new Oe.SimulatorState(Q,Z,H.useContext,se);return ae=this.execATN(z,U,G,le),Ut.dfa_debug&&console.log("back from DFA update, alt="+ae+`, dfa=
`+z.toString(this._parser.vocabulary,this._parser.ruleNames)),Ut.dfa_debug&&console.log("DFA decision "+z.decision+" predicts "+ae),ae}else if(xe===g.ATNSimulator.ERROR){let ae=new Oe.SimulatorState(Q,Z,H.useContext,se);return this.handleNoViableAlt(U,G,ae)}Z=xe,!this.isAcceptState(Z,H.useContext)&&J!==I.IntStream.EOF&&(U.consume(),J=U.LA(1))}if(!H.useContext&&Z.configs.conflictInfo!=null&&z.atnStartState instanceof E.DecisionState&&!(!this.userWantsCtxSensitive||!Z.configs.dipsIntoOuterContext&&Z.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&U.index===G)){de(!H.useContext);let xe,ae=Z.predicates;if(ae!=null){let le=U.index;if(le!==G&&U.seek(G),xe=this.evalSemanticContext(ae,Q,!0),xe.cardinality()===1)return xe.nextSetBit(0);le!==G&&U.seek(le)}if(this.reportAmbiguities){let le=new Oe.SimulatorState(Q,Z,H.useContext,se);this.reportAttemptingFullContext(z,xe,le,G,U.index)}return U.seek(G),this.adaptivePredict(U,z.decision,Q,!0)}let ye=Z.predicates;if(ye!=null){let xe=U.index;G!==xe&&U.seek(G);let ae=this.evalSemanticContext(ye,Q,this.reportAmbiguities&&this.predictionMode===K.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(ae.cardinality()){case 0:throw this.noViableAlt(U,Q,Z.configs,G);case 1:return ae.nextSetBit(0);default:return G!==xe&&U.seek(xe),this.reportAmbiguity(z,Z,G,xe,Z.configs.isExactConflict,ae,Z.configs),ae.nextSetBit(0)}}return Ut.dfa_debug&&console.log("DFA decision "+z.decision+" predicts "+Z.prediction),Z.prediction}isAcceptState(z,U){return z.isAcceptState?z.configs.conflictingAlts==null?!0:U&&this.predictionMode===K.PredictionMode.LL_EXACT_AMBIG_DETECTION?z.configs.isExactConflict:!0:!1}execATN(z,U,G,H){Ut.debug&&console.log("execATN decision "+z.decision+" exec LA(1)=="+this.getLookaheadName(U));let Q=H.outerContext,Z=H.useContext,J=U.LA(1),se=H,ye=new $.PredictionContextCache;for(;;){let xe=this.computeReachSet(z,se,J,ye);if(xe==null)return this.setDFAEdge(se.s0,U.LA(1),g.ATNSimulator.ERROR),this.handleNoViableAlt(U,G,se);let ae=xe.s0;if(de(ae.isAcceptState||ae.prediction===l.ATN.INVALID_ALT_NUMBER),de(ae.isAcceptState||ae.configs.conflictInfo==null),this.isAcceptState(ae,Z)){let le=ae.configs.conflictingAlts,we=le==null?ae.prediction:l.ATN.INVALID_ALT_NUMBER;if(we!==l.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&U.index===G&&!z.isPrecedenceDfa&&xe.outerContext===xe.remainingOuterContext&&z.decision>=0&&!ae.configs.hasSemanticContext&&J>=0&&J<=ue){let je=(z.decision<<16>>>0)+J;this.atn.LL1Table.set(je,we)}Z&&this.always_try_local_context&&this.reportContextSensitivity(z,we,xe,G,U.index)}we=ae.prediction;let Ie=le!=null&&this.userWantsCtxSensitive;if(Ie&&(Ie=!Z&&(ae.configs.dipsIntoOuterContext||!ae.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||U.index!==G)),ae.configs.hasSemanticContext){let je=ae.predicates;if(je!=null){let Ue=U.index;switch(Ue!==G&&U.seek(G),le=this.evalSemanticContext(je,Q,Ie||this.reportAmbiguities),le.cardinality()){case 0:throw this.noViableAlt(U,Q,ae.configs,G);case 1:return le.nextSetBit(0)}Ue!==G&&U.seek(Ue)}}if(Ie){de(!Z),de(this.isAcceptState(ae,!1)),Ut.debug&&console.log("RETRY with outerContext="+Q);let je=this.computeStartState(z,Q,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(z,le,xe,G,U.index),U.seek(G),this.execATN(z,U,G,je)}else return le!=null&&(this.reportAmbiguities&&le.cardinality()>1&&this.reportAmbiguity(z,ae,G,U.index,ae.configs.isExactConflict,le,ae.configs),we=le.nextSetBit(0)),we}se=xe,J!==I.IntStream.EOF&&(U.consume(),J=U.LA(1))}}handleNoViableAlt(z,U,G){if(G.s0!=null){let H=new x.BitSet,Q=0;for(let Z of G.s0.configs)(Z.reachesIntoOuterContext||Z.state instanceof ne.RuleStopState)&&(H.set(Z.alt),Q=Math.max(Q,Z.alt));switch(H.cardinality()){case 0:break;case 1:return H.nextSetBit(0);default:if(!G.s0.configs.hasSemanticContext)return H.nextSetBit(0);let Z=new c.ATNConfigSet;for(let se of G.s0.configs)(se.reachesIntoOuterContext||se.state instanceof ne.RuleStopState)&&Z.add(se);let J=this.getPredsForAmbigAlts(H,Z,Q);if(J!=null){let se=this.getPredicatePredictions(H,J);if(se!=null){let ye=z.index;try{z.seek(U);let xe=this.evalSemanticContext(se,G.outerContext,!1);if(!xe.isEmpty)return xe.nextSetBit(0)}finally{z.seek(ye)}}}return H.nextSetBit(0)}}throw this.noViableAlt(z,G.outerContext,G.s0.configs,U)}computeReachSet(z,U,G,H){let Q=U.useContext,Z=U.remainingOuterContext,J=U.s0;if(Q)for(;J.isContextSymbol(G);){let xe;if(Z!=null&&(Z=this.skipTailCalls(Z),xe=J.getContextTarget(this.getReturnState(Z))),xe==null)break;de(Z!=null),Z=Z.parent,J=xe}if(de(!this.isAcceptState(J,Q)),this.isAcceptState(J,Q))return new Oe.SimulatorState(U.outerContext,J,Q,Z);let se=J,ye=this.getExistingTargetState(se,G);if(ye==null){let xe=this.computeTargetState(z,se,Z,G,Q,H);ye=xe[0],Z=xe[1]}if(ye!==g.ATNSimulator.ERROR)return de(!Q||!ye.configs.dipsIntoOuterContext),new Oe.SimulatorState(U.outerContext,ye,Q,Z)}getExistingTargetState(z,U){return z.getTarget(U)}computeTargetState(z,U,G,H,Q,Z){let J=U.configs.toArray(),se,ye=new c.ATNConfigSet,xe;do{let le=!Q||G!=null;le||(ye.isOutermostConfigSet=!0);let we=new c.ATNConfigSet,Ie;for(let me of J){if(Ut.debug&&console.log("testing "+this.getTokenName(H)+" at "+me.toString()),me.state instanceof ne.RuleStopState){de(me.context.isEmpty),(Q&&!me.reachesIntoOuterContext||H===I.IntStream.EOF)&&(Ie==null&&(Ie=[]),Ie.push(me));continue}let Pe=me.state.numberOfOptimizedTransitions;for(let Ze=0;Ze<Pe;Ze++){let pt=me.state.getOptimizedTransition(Ze),gt=this.getReachableTarget(me,pt,H);gt!=null&&we.add(me.transform(gt,!1),Z)}}if(this.optimize_unique_closure&&Ie==null&&H!==ie.Token.EOF&&we.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER){we.isOutermostConfigSet=ye.isOutermostConfigSet,ye=we;break}let je=!1,Ue=H===ie.Token.EOF;if(this.closure(we,ye,je,le,Z,Ue),xe=ye.dipsIntoOuterContext,H===I.IntStream.EOF&&(ye=this.removeAllConfigsNotInRuleStopState(ye,Z)),Ie!=null&&(!Q||!K.PredictionMode.hasConfigInRuleStopState(ye))){de(Ie.length>0);for(let me of Ie)ye.add(me,Z)}if(Q&&xe){ye.clear(),G=G,G=this.skipTailCalls(G);let me=this.getReturnState(G);if(se==null&&(se=new w.IntegerList),G.isEmpty?G=void 0:G=G.parent,se.add(me),me!==B.PredictionContext.EMPTY_FULL_STATE_KEY)for(let Pe=0;Pe<J.length;Pe++)J[Pe]=J[Pe].appendContext(me,Z)}}while(Q&&xe);return ye.isEmpty?(this.setDFAEdge(U,H,g.ATNSimulator.ERROR),[g.ATNSimulator.ERROR,G]):[this.addDFAEdge(z,U,H,se,ye,Z),G]}removeAllConfigsNotInRuleStopState(z,U){if(K.PredictionMode.allConfigsInRuleStopStates(z))return z;let G=new c.ATNConfigSet;for(let H of z)H.state instanceof ne.RuleStopState&&G.add(H,U);return G}computeStartState(z,U,G){let H=z.isPrecedenceDfa?z.getPrecedenceStartState(this._parser.precedence,G):G?z.s0full:z.s0;if(H!=null){if(!G)return new Oe.SimulatorState(U,H,G,U);H.setContextSensitive(this.atn)}z.decision;let Q=z.atnStartState,Z=0,J=U,se=G?B.PredictionContext.EMPTY_FULL:B.PredictionContext.EMPTY_LOCAL,ye=new $.PredictionContextCache;if(G){if(!this.enable_global_context_dfa)for(;J!=null;)J.isEmpty?(Z=B.PredictionContext.EMPTY_FULL_STATE_KEY,J=void 0):(Z=this.getReturnState(J),se=se.appendSingleContext(Z,ye),J=J.parent);for(;H!=null&&H.isContextSensitive&&J!=null;){let ae;if(J=this.skipTailCalls(J),J.isEmpty?(ae=H.getContextTarget(B.PredictionContext.EMPTY_FULL_STATE_KEY),Z=B.PredictionContext.EMPTY_FULL_STATE_KEY,J=void 0):(Z=this.getReturnState(J),ae=H.getContextTarget(Z),se=se.appendSingleContext(Z,ye),J=J.parent),ae==null)break;H=ae}}if(H!=null&&!H.isContextSensitive)return new Oe.SimulatorState(U,H,G,J);let xe=new c.ATNConfigSet;for(;;){let ae=new c.ATNConfigSet,le=Q.numberOfTransitions;for(let Pe=0;Pe<le;Pe++){let Ze=Q.transition(Pe).target;ae.add(u.ATNConfig.create(Ze,Pe+1,se))}let we=J!=null;we||(xe.isOutermostConfigSet=!0),this.closure(ae,xe,!0,we,ye,!1);let je=xe.dipsIntoOuterContext,Ue;if(G&&!this.enable_global_context_dfa){H=this.addDFAState(z,xe,ye);break}else H==null?z.isPrecedenceDfa?(xe=this.applyPrecedenceFilter(xe,U,ye),Ue=this.addDFAState(z,xe,ye),z.setPrecedenceStartState(this._parser.precedence,G,Ue)):(Ue=this.addDFAState(z,xe,ye),G?z.s0full?Ue=z.s0full:z.s0full=Ue:z.s0?Ue=z.s0:z.s0=Ue):(z.isPrecedenceDfa&&(xe=this.applyPrecedenceFilter(xe,U,ye)),Ue=this.addDFAState(z,xe,ye),H.setContextTarget(Z,Ue));if(H=Ue,!G||!je)break;Ue.setContextSensitive(this.atn),J=J,xe.clear(),J=this.skipTailCalls(J);let me=this.getReturnState(J);J.isEmpty?J=void 0:J=J.parent,me!==B.PredictionContext.EMPTY_FULL_STATE_KEY&&(se=se.appendSingleContext(me,ye)),Z=me}return new Oe.SimulatorState(U,H,G,J)}applyPrecedenceFilter(z,U,G){let H=new Map,Q=new c.ATNConfigSet;for(let Z of z){if(Z.alt!==1)continue;let J=Z.semanticContext.evalPrecedence(this._parser,U);J!=null&&(H.set(Z.state.stateNumber,Z.context),J!==Z.semanticContext?Q.add(Z.transform(Z.state,!1,J),G):Q.add(Z,G))}for(let Z of z)if(Z.alt!==1){if(!Z.isPrecedenceFilterSuppressed){let J=H.get(Z.state.stateNumber);if(J!=null&&J.equals(Z.context))continue}Q.add(Z,G)}return Q}getReachableTarget(z,U,G){if(U.matches(G,0,this.atn.maxTokenType))return U.target}predicateDFAState(z,U,G){let H=this.getConflictingAltsFromConfigSet(U);if(!H)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");Ut.debug&&console.log("predicateDFAState "+z);let Q=this.getPredsForAmbigAlts(H,U,G),Z;return Q!=null&&(Z=this.getPredicatePredictions(H,Q),z.predicates=Z),Z}getPredsForAmbigAlts(z,U,G){let H=new Array(G+1),Q=H.length;for(let se of U)z.get(se.alt)&&(H[se.alt]=Se.SemanticContext.or(H[se.alt],se.semanticContext));let Z=0;for(let se=0;se<Q;se++)H[se]==null?H[se]=Se.SemanticContext.NONE:H[se]!==Se.SemanticContext.NONE&&Z++;let J=H;return Z===0&&(J=void 0),Ut.debug&&console.log("getPredsForAmbigAlts result "+(J?a.Arrays.toString(J):"undefined")),J}getPredicatePredictions(z,U){let G=[],H=!1;for(let Q=1;Q<U.length;Q++){let Z=U[Q];de(Z!=null),z!=null&&z.get(Q)&&Z===Se.SemanticContext.NONE?G.push(new C.DFAState.PredPrediction(Z,Q)):Z!==Se.SemanticContext.NONE&&(H=!0,G.push(new C.DFAState.PredPrediction(Z,Q)))}if(H)return G}evalSemanticContext(z,U,G){let H=new x.BitSet;for(let Q of z){if(Q.pred===Se.SemanticContext.NONE){if(H.set(Q.alt),!G)break;continue}let Z=this.evalSemanticContextImpl(Q.pred,U,Q.alt);if((Ut.debug||Ut.dfa_debug)&&console.log("eval pred "+Q+"="+Z),Z&&((Ut.debug||Ut.dfa_debug)&&console.log("PREDICT "+Q.alt),H.set(Q.alt),!G))break}return H}evalSemanticContextImpl(z,U,G){return z.eval(this._parser,U)}closure(z,U,G,H,Q,Z){Q==null&&(Q=$.PredictionContextCache.UNCACHED);let J=z,se=new i.Array2DHashSet(k.ObjectEqualityComparator.INSTANCE);for(;J.size>0;){let ye=new c.ATNConfigSet;for(let xe of J)this.closureImpl(xe,U,ye,se,G,H,Q,0,Z);J=ye}}closureImpl(z,U,G,H,Q,Z,J,se,ye){if(Ut.debug&&console.log("closure("+z.toString(this._parser,!0)+")"),z.state instanceof ne.RuleStopState)if(z.context.isEmpty)if(Z)Ut.debug&&console.log("FALLING off rule "+this.getRuleName(z.state.ruleIndex)),z.context===B.PredictionContext.EMPTY_FULL?z=z.transform(z.state,!1,B.PredictionContext.EMPTY_LOCAL):!z.reachesIntoOuterContext&&B.PredictionContext.isEmptyLocal(z.context)&&U.add(z,J);else{U.add(z,J);return}else{let ae=z.context.hasEmpty,le=z.context.size-(ae?1:0);for(let we=0;we<le;we++){let Ie=z.context.getParent(we),je=this.atn.states[z.context.getReturnState(we)],Ue=u.ATNConfig.create(je,z.alt,Ie,z.semanticContext);Ue.outerContextDepth=z.outerContextDepth,Ue.isPrecedenceFilterSuppressed=z.isPrecedenceFilterSuppressed,de(se>X),this.closureImpl(Ue,U,G,H,Q,Z,J,se-1,ye)}if(!ae||!Z)return;z=z.transform(z.state,!1,B.PredictionContext.EMPTY_LOCAL)}let xe=z.state;xe.onlyHasEpsilonTransitions||(U.add(z,J),Ut.debug&&console.log("added config "+U));for(let ae=0;ae<xe.numberOfOptimizedTransitions;ae++){if(ae===0&&xe.stateType===p.ATNStateType.STAR_LOOP_ENTRY&&xe.precedenceRuleDecision&&!z.context.hasEmpty){let je=xe,Ue=!0;for(let me=0;me<z.context.size;me++)if(!je.precedenceLoopbackStates.get(z.context.getReturnState(me))){Ue=!1;break}if(Ue)continue}let le=xe.getOptimizedTransition(ae),we=!(le instanceof r.ActionTransition)&&Q,Ie=this.getEpsilonTarget(z,le,we,se===0,J,ye);if(Ie!=null){if(le instanceof re.RuleTransition&&G!=null&&!Q){G.add(Ie,J);continue}let je=se;if(z.state instanceof ne.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&le.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(Ie.isPrecedenceFilterSuppressed=!0),Ie.outerContextDepth=Ie.outerContextDepth+1,!H.add(Ie))continue;de(je>X),je--,Ut.debug&&console.log("dips into outer ctx: "+Ie)}else if(le instanceof re.RuleTransition)this.optimize_tail_calls&&le.optimizedTailCall&&(!this.tail_call_preserves_sll||!B.PredictionContext.isEmptyLocal(z.context))?(de(Ie.context===z.context),je===0&&(je--,!this.tail_call_preserves_sll&&B.PredictionContext.isEmptyLocal(z.context)&&(Ie.outerContextDepth=Ie.outerContextDepth+1))):je>=0&&je++;else if(!le.isEpsilon&&!H.add(Ie))continue;this.closureImpl(Ie,U,G,H,we,Z,J,je,ye)}}}getRuleName(z){return this._parser!=null&&z>=0?this._parser.ruleNames[z]:"<rule "+z+">"}getEpsilonTarget(z,U,G,H,Q,Z){switch(U.serializationType){case 3:return this.ruleTransition(z,U,Q);case 10:return this.precedenceTransition(z,U,G,H);case 4:return this.predTransition(z,U,G,H);case 6:return this.actionTransition(z,U);case 1:return z.transform(U.target,!1);case 5:case 2:case 7:return Z&&U.matches(ie.Token.EOF,0,1)?z.transform(U.target,!1):void 0;default:return}}actionTransition(z,U){return Ut.debug&&console.log("ACTION edge "+U.ruleIndex+":"+U.actionIndex),z.transform(U.target,!1)}precedenceTransition(z,U,G,H){Ut.debug&&(console.log("PRED (collectPredicates="+G+") "+U.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let Q;if(G&&H){let Z=Se.SemanticContext.and(z.semanticContext,U.predicate);Q=z.transform(U.target,!1,Z)}else Q=z.transform(U.target,!1);return Ut.debug&&console.log("config from pred transition="+Q),Q}predTransition(z,U,G,H){Ut.debug&&(console.log("PRED (collectPredicates="+G+") "+U.ruleIndex+":"+U.predIndex+", ctx dependent="+U.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let Q;if(G&&(!U.isCtxDependent||U.isCtxDependent&&H)){let Z=Se.SemanticContext.and(z.semanticContext,U.predicate);Q=z.transform(U.target,!1,Z)}else Q=z.transform(U.target,!1);return Ut.debug&&console.log("config from pred transition="+Q),Q}ruleTransition(z,U,G){Ut.debug&&console.log("CALL rule "+this.getRuleName(U.target.ruleIndex)+", ctx="+z.context);let H=U.followState,Q;return this.optimize_tail_calls&&U.optimizedTailCall&&(!this.tail_call_preserves_sll||!B.PredictionContext.isEmptyLocal(z.context))?Q=z.context:G!=null?Q=G.getChild(z.context,H.stateNumber):Q=z.context.getChild(H.stateNumber),z.transform(U.target,!1,Q)}isConflicted(z,U){if(z.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER||z.size<=1)return;let G=z.toArray();G.sort(Ut.STATE_ALT_SORT_COMPARATOR);let H=!z.dipsIntoOuterContext,Q=new x.BitSet,Z=G[0].alt;Q.set(Z);let J=G[0].state.nonStopStateNumber;for(let le of G){let we=le.state.nonStopStateNumber;if(we!==J){if(le.alt!==Z)return;J=we}}let se;if(H){J=G[0].state.nonStopStateNumber,se=new x.BitSet;let le=Z;for(let Ie of G){if(Ie.state.nonStopStateNumber!==J)break;let je=Ie.alt;se.set(je),le=je}J=G[0].state.nonStopStateNumber;let we=Z;for(let Ie of G){let je=Ie.state.nonStopStateNumber,Ue=Ie.alt;if(je!==J){if(we!==le){H=!1;break}J=je,we=Z}else if(Ue!==we){if(Ue!==se.nextSetBit(we+1)){H=!1;break}we=Ue}}}J=G[0].state.nonStopStateNumber;let ye=0,xe=0,ae=G[0].context;for(let le=1;le<G.length;le++){let we=G[le];if(we.alt!==Z||we.state.nonStopStateNumber!==J)break;xe=le,ae=U.join(ae,G[le].context)}for(let le=xe+1;le<G.length;le++){let we=G[le],Ie=we.state;if(Q.set(we.alt),Ie.nonStopStateNumber!==J){J=Ie.nonStopStateNumber,ye=le,xe=le,ae=we.context;for(let Ze=ye+1;Ze<G.length;Ze++){let pt=G[Ze];if(pt.alt!==Z||pt.state.nonStopStateNumber!==J)break;xe=Ze,ae=U.join(ae,pt.context)}le=xe;continue}let je=we.context,Ue=we.alt,me=le;for(let Ze=me+1;Ze<G.length;Ze++){let pt=G[Ze];if(pt.alt!==Ue||pt.state.nonStopStateNumber!==J)break;me=Ze,je=U.join(je,pt.context)}le=me;let Pe=U.join(ae,je);if(!ae.equals(Pe))return;H=H&&ae.equals(je)}return new b.ConflictInfo(Q,H)}getConflictingAltsFromConfigSet(z){let U=z.conflictingAlts;return U==null&&z.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER&&(U=new x.BitSet,U.set(z.uniqueAlt)),U}getTokenName(z){if(z===ie.Token.EOF)return"EOF";let G=(this._parser!=null?this._parser.vocabulary:Ae.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(z);return G===String(z)?G:G+"<"+z+">"}getLookaheadName(z){return this.getTokenName(z.LA(1))}dumpDeadEndConfigs(z){console.log("dead end configs: ");let U=z.deadEndConfigs;if(U)for(let G of U){let H="no edges";if(G.state.numberOfOptimizedTransitions>0){let Q=G.state.getOptimizedTransition(0);Q instanceof m.AtomTransition?H="Atom "+this.getTokenName(Q._label):Q instanceof Me.SetTransition&&(H=(Q instanceof D.NotSetTransition?"~":"")+"Set "+Q.set.toString())}console.log(G.toString(this._parser,!0)+":"+H)}}noViableAlt(z,U,G,H){return new L.NoViableAltException(this._parser,z,z.get(H),z.LT(1),G,U)}getUniqueAlt(z){let U=l.ATN.INVALID_ALT_NUMBER;for(let G of z)if(U===l.ATN.INVALID_ALT_NUMBER)U=G.alt;else if(G.alt!==U)return l.ATN.INVALID_ALT_NUMBER;return U}configWithAltAtStopState(z,U){for(let G of z)if(G.alt===U&&G.state instanceof ne.RuleStopState)return!0;return!1}addDFAEdge(z,U,G,H,Q,Z){de(H==null||H.isEmpty||z.isContextSensitive);let J=U,se=this.addDFAState(z,Q,Z);if(H!=null)for(let ye of H.toArray()){if(ye===B.PredictionContext.EMPTY_FULL_STATE_KEY&&J.configs.isOutermostConfigSet)continue;J.setContextSensitive(this.atn),J.setContextSymbol(G);let xe=J.getContextTarget(ye);if(xe!=null){J=xe;continue}xe=this.addDFAContextState(z,J.configs,ye,Z),de(ye!==B.PredictionContext.EMPTY_FULL_STATE_KEY||xe.configs.isOutermostConfigSet),J.setContextTarget(ye,xe),J=xe}return Ut.debug&&console.log("EDGE "+J+" -> "+se+" upon "+this.getTokenName(G)),this.setDFAEdge(J,G,se),Ut.debug&&console.log(`DFA=
`+z.toString(this._parser!=null?this._parser.vocabulary:Ae.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),se}setDFAEdge(z,U,G){z!=null&&z.setTarget(U,G)}addDFAContextState(z,U,G,H){if(G!==B.PredictionContext.EMPTY_FULL_STATE_KEY){let Q=new c.ATNConfigSet;for(let Z of U)Q.add(Z.appendContext(G,H));return this.addDFAState(z,Q,H)}else return de(!U.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),U=U.clone(!0),U.isOutermostConfigSet=!0,this.addDFAState(z,U,H)}addDFAState(z,U,G){let H=this.enable_global_context_dfa||!U.isOutermostConfigSet;if(H){U.isReadOnly||U.optimizeConfigs(this);let ye=this.createDFAState(z,U),xe=z.states.get(ye);if(xe!=null)return xe}U.isReadOnly||U.conflictInfo==null&&(U.conflictInfo=this.isConflicted(U,G));let Q=this.createDFAState(z,U.clone(!0)),Z=this.atn.getDecisionState(z.decision),J=this.getUniqueAlt(U);if(J!==l.ATN.INVALID_ALT_NUMBER)Q.acceptStateInfo=new n.AcceptStateInfo(J);else if(U.conflictingAlts!=null){let ye=U.conflictingAlts;ye&&(Q.acceptStateInfo=new n.AcceptStateInfo(ye.nextSetBit(0)))}if(Q.isAcceptState&&U.hasSemanticContext&&this.predicateDFAState(Q,U,Z.numberOfTransitions),!H)return Q;let se=z.addState(Q);return Ut.debug&&se===Q&&console.log("adding new DFA state: "+Q),se}createDFAState(z,U){return new C.DFAState(U)}reportAttemptingFullContext(z,U,G,H,Q){if(Ut.debug||Ut.retry_debug){let Z=R.Interval.of(H,Q);console.log("reportAttemptingFullContext decision="+z.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(Z))}if(this._parser!=null){let Z=this._parser.getErrorListenerDispatch();Z.reportAttemptingFullContext&&Z.reportAttemptingFullContext(this._parser,z,H,Q,U,G)}}reportContextSensitivity(z,U,G,H,Q){if(Ut.debug||Ut.retry_debug){let Z=R.Interval.of(H,Q);console.log("reportContextSensitivity decision="+z.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(Z))}if(this._parser!=null){let Z=this._parser.getErrorListenerDispatch();Z.reportContextSensitivity&&Z.reportContextSensitivity(this._parser,z,H,Q,U,G)}}reportAmbiguity(z,U,G,H,Q,Z,J){if(Ut.debug||Ut.retry_debug){let se=R.Interval.of(G,H);console.log("reportAmbiguity "+Z+":"+J+", input="+this._parser.inputStream.getText(se))}if(this._parser!=null){let se=this._parser.getErrorListenerDispatch();se.reportAmbiguity&&se.reportAmbiguity(this._parser,z,G,H,Q,Z,J)}}getReturnState(z){return z.isEmpty?B.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[z.invokingState].transition(0).followState.stateNumber}skipTailCalls(z){if(!this.optimize_tail_calls)return z;for(;!z.isEmpty;){let U=this.atn.states[z.invokingState];if(de(U.numberOfTransitions===1&&U.transition(0).serializationType===3),!U.transition(0).tailCall)break;z=z.parent}return z}get parser(){return this._parser}};return oe.debug=!1,oe.dfa_debug=!1,oe.retry_debug=!1,oe.STATE_ALT_SORT_COMPARATOR=(he,z)=>{let U=he.state.nonStopStateNumber-z.state.nonStopStateNumber;return U!==0||(U=he.alt-z.alt,U!==0)?U:0},e([N.NotNull],oe.prototype,"predictionMode",void 0),e([N.NotNull],oe.prototype,"getPredictionMode",null),e([t(0,N.NotNull)],oe.prototype,"setPredictionMode",null),e([N.Override],oe.prototype,"reset",null),e([t(0,N.NotNull)],oe.prototype,"adaptivePredict",null),e([t(0,N.NotNull),t(1,N.NotNull),t(2,N.NotNull)],oe.prototype,"getStartState",null),e([t(0,N.NotNull),t(1,N.NotNull),t(3,N.NotNull)],oe.prototype,"execDFA",null),e([t(0,N.NotNull),t(1,N.NotNull),t(3,N.NotNull)],oe.prototype,"execATN",null),e([t(0,N.NotNull),t(2,N.NotNull)],oe.prototype,"handleNoViableAlt",null),e([t(0,N.NotNull)],oe.prototype,"getExistingTargetState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"computeTargetState",null),e([N.NotNull,t(0,N.NotNull)],oe.prototype,"removeAllConfigsNotInRuleStopState",null),e([N.NotNull],oe.prototype,"computeStartState",null),e([N.NotNull,t(0,N.NotNull)],oe.prototype,"applyPrecedenceFilter",null),e([t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"getReachableTarget",null),e([t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"getPredsForAmbigAlts",null),e([t(0,N.NotNull)],oe.prototype,"evalSemanticContext",null),e([t(0,N.NotNull)],oe.prototype,"evalSemanticContextImpl",null),e([t(1,N.NotNull),t(4,N.Nullable)],oe.prototype,"closure",null),e([t(0,N.NotNull),t(1,N.NotNull),t(2,N.Nullable),t(3,N.NotNull),t(6,N.NotNull)],oe.prototype,"closureImpl",null),e([N.NotNull],oe.prototype,"getRuleName",null),e([t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"getEpsilonTarget",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"actionTransition",null),e([N.Nullable,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"precedenceTransition",null),e([N.Nullable,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"predTransition",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull),t(2,N.Nullable)],oe.prototype,"ruleTransition",null),e([t(0,N.NotNull)],oe.prototype,"isConflicted",null),e([N.NotNull],oe.prototype,"getTokenName",null),e([t(0,N.NotNull)],oe.prototype,"dumpDeadEndConfigs",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull),t(2,N.NotNull)],oe.prototype,"noViableAlt",null),e([t(0,N.NotNull)],oe.prototype,"getUniqueAlt",null),e([t(0,N.NotNull)],oe.prototype,"configWithAltAtStopState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull),t(4,N.NotNull)],oe.prototype,"addDFAEdge",null),e([t(0,N.Nullable),t(2,N.Nullable)],oe.prototype,"setDFAEdge",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"addDFAContextState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"addDFAState",null),e([N.NotNull,t(0,N.NotNull),t(1,N.NotNull)],oe.prototype,"createDFAState",null),e([t(0,N.NotNull),t(2,N.NotNull)],oe.prototype,"reportAttemptingFullContext",null),e([t(0,N.NotNull),t(2,N.NotNull)],oe.prototype,"reportContextSensitivity",null),e([t(0,N.NotNull),t(5,N.NotNull),t(6,N.NotNull)],oe.prototype,"reportAmbiguity",null),oe=e([t(0,N.NotNull)],oe),Xl.ParserATNSimulator=oe,Xl}var Md={},dO;function tY(){if(dO)return Md;dO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Md&&Md.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Md,"__esModule",{value:!0}),Md.PlusBlockStartState=void 0;const t=ei(),n=o1(),r=Ve();let i=class extends n.BlockStartState{get stateType(){return t.ATNStateType.PLUS_BLOCK_START}};return e([r.Override],i.prototype,"stateType",null),Md.PlusBlockStartState=i,Md}var Pd={},hO;function nY(){if(hO)return Pd;hO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pd&&Pd.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.PlusLoopbackState=void 0;const t=ei(),n=bh(),r=Ve();let i=class extends n.DecisionState{get stateType(){return t.ATNStateType.PLUS_LOOP_BACK}};return e([r.Override],i.prototype,"stateType",null),Pd.PlusLoopbackState=i,Pd}var Ql={},pO;function rY(){if(pO)return Ql;pO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ql&&Ql.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Ql&&Ql.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.PrecedencePredicateTransition=void 0;const n=nR(),r=Ve(),i=Ig();let a=class extends n.AbstractPredicateTransition{constructor(u,c){super(u),this.precedence=c}get serializationType(){return 10}get isEpsilon(){return!0}matches(u,c,g){return!1}get predicate(){return new i.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override],a.prototype,"isEpsilon",null),e([r.Override],a.prototype,"matches",null),e([r.Override],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),Ql.PrecedencePredicateTransition=a,Ql}var eu={},gO;function iY(){if(gO)return eu;gO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=eu&&eu.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=eu&&eu.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(eu,"__esModule",{value:!0}),eu.RangeTransition=void 0;const n=Ah(),r=Ve(),i=sf();let a=class extends i.Transition{constructor(u,c,g){super(u),this.from=c,this.to=g}get serializationType(){return 2}get label(){return n.IntervalSet.of(this.from,this.to)}matches(u,c,g){return u>=this.from&&u<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};return e([r.Override],a.prototype,"serializationType",null),e([r.Override,r.NotNull],a.prototype,"label",null),e([r.Override],a.prototype,"matches",null),e([r.Override,r.NotNull],a.prototype,"toString",null),a=e([t(0,r.NotNull)],a),eu.RangeTransition=a,eu}var Ld={},mO;function oY(){if(mO)return Ld;mO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ld&&Ld.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.RuleStartState=void 0;const t=Du(),n=ei(),r=Ve();let i=class extends t.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return n.ATNStateType.RULE_START}};return e([r.Override],i.prototype,"stateType",null),Ld.RuleStartState=i,Ld}var Fd={},vO;function sY(){if(vO)return Fd;vO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fd&&Fd.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.StarBlockStartState=void 0;const t=ei(),n=o1(),r=Ve();let i=class extends n.BlockStartState{get stateType(){return t.ATNStateType.STAR_BLOCK_START}};return e([r.Override],i.prototype,"stateType",null),Fd.StarBlockStartState=i,Fd}var kd={},yO;function aY(){if(yO)return kd;yO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kd&&kd.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(kd,"__esModule",{value:!0}),kd.StarLoopbackState=void 0;const t=Du(),n=ei(),r=Ve();let i=class extends t.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return n.ATNStateType.STAR_LOOP_BACK}};return e([r.Override],i.prototype,"stateType",null),kd.StarLoopbackState=i,kd}var Bd={},xO;function lY(){if(xO)return Bd;xO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bd&&Bd.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.TokensStartState=void 0;const t=ei(),n=bh(),r=Ve();let i=class extends n.DecisionState{get stateType(){return t.ATNStateType.TOKEN_START}};return e([r.Override],i.prototype,"stateType",null),Bd.TokensStartState=i,Bd}var q0={},bO;function uY(){if(bO)return q0;bO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(q0,"__esModule",{value:!0}),q0.UUID=void 0;const e=mr();let t=class PC{constructor(r,i,a,l){this.data=new Uint32Array(4),this.data[0]=r,this.data[1]=i,this.data[2]=a,this.data[3]=l}static fromString(r){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(r))throw new Error("Incorrectly formatted UUID");let i=r.split("-"),a=parseInt(i[0],16),l=(parseInt(i[1],16)<<16>>>0)+parseInt(i[2],16),u=(parseInt(i[3],16)<<16>>>0)+parseInt(i[4].substr(0,4),16),c=parseInt(i[4].substr(-8),16);return new PC(a,l,u,c)}hashCode(){return e.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(r){return r===this?!0:r instanceof PC?this.data[0]===r.data[0]&&this.data[1]===r.data[1]&&this.data[2]===r.data[2]&&this.data[3]===r.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};return q0.UUID=t,q0}var SO;function pR(){if(SO)return Ul;SO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ul&&Ul.__decorate||function(xe,ae,le,we){var Ie=arguments.length,je=Ie<3?ae:we===null?we=Object.getOwnPropertyDescriptor(ae,le):we,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(xe,ae,le,we);else for(var me=xe.length-1;me>=0;me--)(Ue=xe[me])&&(je=(Ie<3?Ue(je):Ie>3?Ue(ae,le,je):Ue(ae,le))||je);return Ie>3&&je&&Object.defineProperty(ae,le,je),je},t=Ul&&Ul.__param||function(xe,ae){return function(le,we){ae(le,we,xe)}};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.ATNDeserializer=void 0;const n=lk(),r=af(),i=Ga(),a=ak(),l=ei(),u=uk(),c=VH(),g=nk(),p=lf(),m=GH(),x=o1(),b=bh(),E=tk(),C=$H(),w=Ah(),R=rk(),I=WH(),N=HH(),D=YH(),L=qH(),k=KH(),j=XH(),B=ZH(),$=JH(),K=gk(),ne=Ve(),re=cR(),Se=ry(),Me=tY(),Oe=nY(),ie=rY(),Ae=YF(),de=iY(),ue=oY(),X=ny(),oe=fR(),he=uR(),z=sY(),U=aY(),G=lR(),H=Wn(),Q=lY(),Z=uY(),J=ik();var se;(function(xe){xe[xe.UNICODE_BMP=0]="UNICODE_BMP",xe[xe.UNICODE_SMP=1]="UNICODE_SMP"})(se||(se={}));let ye=class ht{constructor(ae){ae===void 0&&(ae=a.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=ae}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(ae,le){let we=ht.SUPPORTED_UUIDS.findIndex(Ie=>Ie.equals(ae));return we<0?!1:ht.SUPPORTED_UUIDS.findIndex(Ie=>Ie.equals(le))>=we}static getUnicodeDeserializer(ae){return ae===0?{readUnicode:(le,we)=>ht.toInt(le[we]),size:1}:{readUnicode:(le,we)=>ht.toInt32(le,we),size:2}}deserialize(ae){ae=ae.slice(0);for(let ke=1;ke<ae.length;ke++)ae[ke]=ae[ke]-2&65535;let le=0,we=ht.toInt(ae[le++]);if(we!==ht.SERIALIZED_VERSION){let ke=`Could not deserialize ATN with version ${we} (expected ${ht.SERIALIZED_VERSION}).`;throw new Error(ke)}let Ie=ht.toUUID(ae,le);if(le+=8,ht.SUPPORTED_UUIDS.findIndex(ke=>ke.equals(Ie))<0){let ke=`Could not deserialize ATN with UUID ${Ie} (expected ${ht.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(ke)}let je=ht.isFeatureSupported(ht.ADDED_LEXER_ACTIONS,Ie),Ue=ht.toInt(ae[le++]),me=ht.toInt(ae[le++]),Pe=new i.ATN(Ue,me),Ze=[],pt=[],gt=ht.toInt(ae[le++]);for(let ke=0;ke<gt;ke++){let nt=ht.toInt(ae[le++]);if(nt===l.ATNStateType.INVALID_TYPE){Pe.addState(new R.InvalidState);continue}let mt=ht.toInt(ae[le++]);mt===65535&&(mt=-1);let At=this.stateFactory(nt,mt);if(nt===l.ATNStateType.LOOP_END){let Dt=ht.toInt(ae[le++]);Ze.push([At,Dt])}else if(At instanceof x.BlockStartState){let Dt=ht.toInt(ae[le++]);pt.push([At,Dt])}Pe.addState(At)}for(let ke of Ze)ke[0].loopBackState=Pe.states[ke[1]];for(let ke of pt)ke[0].endState=Pe.states[ke[1]];let ge=ht.toInt(ae[le++]);for(let ke=0;ke<ge;ke++){let nt=ht.toInt(ae[le++]);Pe.states[nt].nonGreedy=!0}let Ne=ht.toInt(ae[le++]);for(let ke=0;ke<Ne;ke++){let nt=ht.toInt(ae[le++]);Pe.states[nt].sll=!0}let qe=ht.toInt(ae[le++]);for(let ke=0;ke<qe;ke++){let nt=ht.toInt(ae[le++]);Pe.states[nt].isPrecedenceRule=!0}let He=ht.toInt(ae[le++]);Pe.grammarType===0&&(Pe.ruleToTokenType=new Int32Array(He)),Pe.ruleToStartState=new Array(He);for(let ke=0;ke<He;ke++){let nt=ht.toInt(ae[le++]),mt=Pe.states[nt];if(mt.leftFactored=ht.toInt(ae[le++])!==0,Pe.ruleToStartState[ke]=mt,Pe.grammarType===0){let At=ht.toInt(ae[le++]);At===65535&&(At=H.Token.EOF),Pe.ruleToTokenType[ke]=At,ht.isFeatureSupported(ht.ADDED_LEXER_ACTIONS,Ie)||ht.toInt(ae[le++])}}Pe.ruleToStopState=new Array(He);for(let ke of Pe.states)ke instanceof X.RuleStopState&&(Pe.ruleToStopState[ke.ruleIndex]=ke,Pe.ruleToStartState[ke.ruleIndex].stopState=ke);let tt=ht.toInt(ae[le++]);for(let ke=0;ke<tt;ke++){let nt=ht.toInt(ae[le++]);Pe.modeToStartState.push(Pe.states[nt])}Pe.modeToDFA=new Array(tt);for(let ke=0;ke<tt;ke++)Pe.modeToDFA[ke]=new E.DFA(Pe.modeToStartState[ke]);let lt=[];le=this.deserializeSets(ae,le,lt,ht.getUnicodeDeserializer(0)),ht.isFeatureSupported(ht.ADDED_UNICODE_SMP,Ie)&&(le=this.deserializeSets(ae,le,lt,ht.getUnicodeDeserializer(1)));let xt=ht.toInt(ae[le++]);for(let ke=0;ke<xt;ke++){let nt=ht.toInt(ae[le]),mt=ht.toInt(ae[le+1]),At=ht.toInt(ae[le+2]),Dt=ht.toInt(ae[le+3]),vn=ht.toInt(ae[le+4]),kn=ht.toInt(ae[le+5]),Hn=this.edgeFactory(Pe,At,nt,mt,Dt,vn,kn,lt);Pe.states[nt].addTransition(Hn),le+=6}let Rt=new r.Array2DHashSet({hashCode:ke=>ke.stopState^ke.returnState^ke.outermostPrecedenceReturn,equals:(ke,nt)=>ke.stopState===nt.stopState&&ke.returnState===nt.returnState&&ke.outermostPrecedenceReturn===nt.outermostPrecedenceReturn}),It=[];for(let ke of Pe.states){let nt=ke.ruleIndex>=0&&Pe.ruleToStartState[ke.ruleIndex].leftFactored;for(let mt=0;mt<ke.numberOfTransitions;mt++){let At=ke.transition(mt);if(!(At instanceof oe.RuleTransition))continue;let Dt=At;if(!Pe.ruleToStartState[Dt.target.ruleIndex].leftFactored&&nt)continue;let kn=-1;Pe.ruleToStartState[Dt.target.ruleIndex].isPrecedenceRule&&Dt.precedence===0&&(kn=Dt.target.ruleIndex);let Hn={stopState:Dt.target.ruleIndex,returnState:Dt.followState.stateNumber,outermostPrecedenceReturn:kn};Rt.add(Hn)&&It.push(Hn)}}for(let ke of It){let nt=new C.EpsilonTransition(Pe.states[ke.returnState],ke.outermostPrecedenceReturn);Pe.ruleToStopState[ke.stopState].addTransition(nt)}for(let ke of Pe.states){if(ke instanceof x.BlockStartState){if(ke.endState===void 0)throw new Error("IllegalStateException");if(ke.endState.startState!==void 0)throw new Error("IllegalStateException");ke.endState.startState=ke}if(ke instanceof Oe.PlusLoopbackState){let nt=ke;for(let mt=0;mt<nt.numberOfTransitions;mt++){let At=nt.transition(mt).target;At instanceof Me.PlusBlockStartState&&(At.loopBackState=nt)}}else if(ke instanceof U.StarLoopbackState){let nt=ke;for(let mt=0;mt<nt.numberOfTransitions;mt++){let At=nt.transition(mt).target;At instanceof G.StarLoopEntryState&&(At.loopBackState=nt)}}}let sn=ht.toInt(ae[le++]);for(let ke=1;ke<=sn;ke++){let nt=ht.toInt(ae[le++]),mt=Pe.states[nt];Pe.decisionToState.push(mt),mt.decision=ke-1}if(Pe.grammarType===0)if(je){Pe.lexerActions=new Array(ht.toInt(ae[le++]));for(let ke=0;ke<Pe.lexerActions.length;ke++){let nt=ht.toInt(ae[le++]),mt=ht.toInt(ae[le++]);mt===65535&&(mt=-1);let At=ht.toInt(ae[le++]);At===65535&&(At=-1);let Dt=this.lexerActionFactory(nt,mt,At);Pe.lexerActions[ke]=Dt}}else{let ke=[];for(let nt of Pe.states)for(let mt=0;mt<nt.numberOfTransitions;mt++){let At=nt.transition(mt);if(!(At instanceof n.ActionTransition))continue;let Dt=At.ruleIndex,vn=At.actionIndex,kn=new N.LexerCustomAction(Dt,vn);nt.setTransition(mt,new n.ActionTransition(At.target,Dt,ke.length,!1)),ke.push(kn)}Pe.lexerActions=ke}this.markPrecedenceDecisions(Pe),Pe.decisionToDFA=new Array(sn);for(let ke=0;ke<sn;ke++)Pe.decisionToDFA[ke]=new E.DFA(Pe.decisionToState[ke],ke);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe),this.deserializationOptions.isGenerateRuleBypassTransitions&&Pe.grammarType===1){Pe.ruleToTokenType=new Int32Array(Pe.ruleToStartState.length);for(let ke=0;ke<Pe.ruleToStartState.length;ke++)Pe.ruleToTokenType[ke]=Pe.maxTokenType+ke+1;for(let ke=0;ke<Pe.ruleToStartState.length;ke++){let nt=new c.BasicBlockStartState;nt.ruleIndex=ke,Pe.addState(nt);let mt=new m.BlockEndState;mt.ruleIndex=ke,Pe.addState(mt),nt.endState=mt,Pe.defineDecisionState(nt),mt.startState=nt;let At,Dt;if(Pe.ruleToStartState[ke].isPrecedenceRule){At=void 0;for(let kn of Pe.states){if(kn.ruleIndex!==ke||!(kn instanceof G.StarLoopEntryState))continue;let Hn=kn.transition(kn.numberOfTransitions-1).target;if(Hn instanceof K.LoopEndState&&Hn.epsilonOnlyTransitions&&Hn.transition(0).target instanceof X.RuleStopState){At=kn;break}}if(!At)throw new Error("Couldn't identify final state of the precedence rule prefix section.");Dt=At.loopBackState.transition(0)}else At=Pe.ruleToStopState[ke];for(let kn of Pe.states)for(let Hn=0;Hn<kn.numberOfTransitions;Hn++){let an=kn.transition(Hn);an!==Dt&&an.target===At&&(an.target=mt)}for(;Pe.ruleToStartState[ke].numberOfTransitions>0;){let kn=Pe.ruleToStartState[ke].removeTransition(Pe.ruleToStartState[ke].numberOfTransitions-1);nt.addTransition(kn)}Pe.ruleToStartState[ke].addTransition(new C.EpsilonTransition(nt)),mt.addTransition(new C.EpsilonTransition(At));let vn=new g.BasicState;Pe.addState(vn),vn.addTransition(new u.AtomTransition(mt,Pe.ruleToTokenType[ke])),nt.addTransition(new C.EpsilonTransition(vn))}this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe)}if(this.deserializationOptions.isOptimize){for(;;){let ke=0;ke+=ht.inlineSetRules(Pe),ke+=ht.combineChainedEpsilons(Pe);let nt=Pe.grammarType===0;if(ke+=ht.optimizeSets(Pe,nt),ke===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe)}return ht.identifyTailCalls(Pe),Pe}deserializeSets(ae,le,we,Ie){let je=ht.toInt(ae[le++]);for(let Ue=0;Ue<je;Ue++){let me=ht.toInt(ae[le]);le++;let Pe=new w.IntervalSet;we.push(Pe),ht.toInt(ae[le++])!==0&&Pe.add(-1);for(let pt=0;pt<me;pt++){let gt=Ie.readUnicode(ae,le);le+=Ie.size;let ge=Ie.readUnicode(ae,le);le+=Ie.size,Pe.add(gt,ge)}}return le}markPrecedenceDecisions(ae){let le=new Map;for(let we of ae.states)if(we instanceof G.StarLoopEntryState&&ae.ruleToStartState[we.ruleIndex].isPrecedenceRule){let Ie=we.transition(we.numberOfTransitions-1).target;Ie instanceof K.LoopEndState&&Ie.epsilonOnlyTransitions&&Ie.transition(0).target instanceof X.RuleStopState&&(le.set(we.ruleIndex,we),we.precedenceRuleDecision=!0,we.precedenceLoopbackStates=new p.BitSet(ae.states.length))}for(let we of le)for(let Ie of ae.ruleToStopState[we[0]].getTransitions())Ie.serializationType!==1||Ie.outermostPrecedenceReturn!==-1||we[1].precedenceLoopbackStates.set(Ie.target.stateNumber)}verifyATN(ae){for(let le of ae.states)if(this.checkCondition(le!==void 0,"ATN states should not be undefined."),le.stateType!==l.ATNStateType.INVALID_TYPE){if(this.checkCondition(le.onlyHasEpsilonTransitions||le.numberOfTransitions<=1),le instanceof Me.PlusBlockStartState&&this.checkCondition(le.loopBackState!==void 0),le instanceof G.StarLoopEntryState){let we=le;if(this.checkCondition(we.loopBackState!==void 0),this.checkCondition(we.numberOfTransitions===2),we.transition(0).target instanceof z.StarBlockStartState)this.checkCondition(we.transition(1).target instanceof K.LoopEndState),this.checkCondition(!we.nonGreedy);else if(we.transition(0).target instanceof K.LoopEndState)this.checkCondition(we.transition(1).target instanceof z.StarBlockStartState),this.checkCondition(we.nonGreedy);else throw new Error("IllegalStateException")}if(le instanceof U.StarLoopbackState&&(this.checkCondition(le.numberOfTransitions===1),this.checkCondition(le.transition(0).target instanceof G.StarLoopEntryState)),le instanceof K.LoopEndState&&this.checkCondition(le.loopBackState!==void 0),le instanceof ue.RuleStartState&&this.checkCondition(le.stopState!==void 0),le instanceof x.BlockStartState&&this.checkCondition(le.endState!==void 0),le instanceof m.BlockEndState&&this.checkCondition(le.startState!==void 0),le instanceof b.DecisionState){let we=le;this.checkCondition(we.numberOfTransitions<=1||we.decision>=0)}else this.checkCondition(le.numberOfTransitions<=1||le instanceof X.RuleStopState)}}checkCondition(ae,le){if(!ae)throw new Error("IllegalStateException: "+le)}static inlineSetRules(ae){let le=0,we=new Array(ae.ruleToStartState.length);for(let Ie=0;Ie<ae.ruleToStartState.length;Ie++){let Ue=ae.ruleToStartState[Ie];for(;Ue.onlyHasEpsilonTransitions&&Ue.numberOfOptimizedTransitions===1&&Ue.getOptimizedTransition(0).serializationType===1;)Ue=Ue.getOptimizedTransition(0).target;if(Ue.numberOfOptimizedTransitions!==1)continue;let me=Ue.getOptimizedTransition(0),Pe=me.target;if(!(me.isEpsilon||!Pe.onlyHasEpsilonTransitions||Pe.numberOfOptimizedTransitions!==1||!(Pe.getOptimizedTransition(0).target instanceof X.RuleStopState)))switch(me.serializationType){case 5:case 2:case 7:we[Ie]=me;break;case 8:case 9:continue;default:continue}}for(let Ie of ae.states){if(Ie.ruleIndex<0)continue;let je;for(let Ue=0;Ue<Ie.numberOfOptimizedTransitions;Ue++){let me=Ie.getOptimizedTransition(Ue);if(!(me instanceof oe.RuleTransition)){je!==void 0&&je.push(me);continue}let Pe=me,Ze=we[Pe.target.ruleIndex];if(Ze===void 0){je!==void 0&&je.push(me);continue}if(je===void 0){je=[];for(let ge=0;ge<Ue;ge++)je.push(Ie.getOptimizedTransition(Ue))}le++;let pt=Pe.followState,gt=new g.BasicState;switch(gt.setRuleIndex(pt.ruleIndex),ae.addState(gt),je.push(new C.EpsilonTransition(gt)),Ze.serializationType){case 5:gt.addTransition(new u.AtomTransition(pt,Ze._label));break;case 2:gt.addTransition(new de.RangeTransition(pt,Ze.from,Ze.to));break;case 7:gt.addTransition(new he.SetTransition(pt,Ze.label));break;default:throw new Error("UnsupportedOperationException")}}if(je!==void 0){if(Ie.isOptimized)for(;Ie.numberOfOptimizedTransitions>0;)Ie.removeOptimizedTransition(Ie.numberOfOptimizedTransitions-1);for(let Ue of je)Ie.addOptimizedTransition(Ue)}}return Se.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+le+" rule invocations by inlining sets."),le}static combineChainedEpsilons(ae){let le=0;for(let we of ae.states){if(!we.onlyHasEpsilonTransitions||we instanceof X.RuleStopState)continue;let Ie;e:for(let je=0;je<we.numberOfOptimizedTransitions;je++){let Ue=we.getOptimizedTransition(je),me=Ue.target;if(Ue.serializationType!==1||Ue.outermostPrecedenceReturn!==-1||me.stateType!==l.ATNStateType.BASIC||!me.onlyHasEpsilonTransitions){Ie!==void 0&&Ie.push(Ue);continue e}for(let Pe=0;Pe<me.numberOfOptimizedTransitions;Pe++)if(me.getOptimizedTransition(Pe).serializationType!==1||me.getOptimizedTransition(Pe).outermostPrecedenceReturn!==-1){Ie!==void 0&&Ie.push(Ue);continue e}if(le++,Ie===void 0){Ie=[];for(let Pe=0;Pe<je;Pe++)Ie.push(we.getOptimizedTransition(Pe))}for(let Pe=0;Pe<me.numberOfOptimizedTransitions;Pe++){let Ze=me.getOptimizedTransition(Pe).target;Ie.push(new C.EpsilonTransition(Ze))}}if(Ie!==void 0){if(we.isOptimized)for(;we.numberOfOptimizedTransitions>0;)we.removeOptimizedTransition(we.numberOfOptimizedTransitions-1);for(let je of Ie)we.addOptimizedTransition(je)}}return Se.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+le+" transitions by combining chained epsilon transitions."),le}static optimizeSets(ae,le){if(le)return 0;let we=0,Ie=ae.decisionToState;for(let je of Ie){let Ue=new w.IntervalSet;for(let ge=0;ge<je.numberOfOptimizedTransitions;ge++){let Ne=je.getOptimizedTransition(ge);if(!(Ne instanceof C.EpsilonTransition)||Ne.target.numberOfOptimizedTransitions!==1)continue;let qe=Ne.target.getOptimizedTransition(0);qe.target instanceof m.BlockEndState&&(qe instanceof re.NotSetTransition||(qe instanceof u.AtomTransition||qe instanceof de.RangeTransition||qe instanceof he.SetTransition)&&Ue.add(ge))}if(Ue.size<=1)continue;let me=[];for(let ge=0;ge<je.numberOfOptimizedTransitions;ge++)Ue.contains(ge)||me.push(je.getOptimizedTransition(ge));let Pe=je.getOptimizedTransition(Ue.minElement).target.getOptimizedTransition(0).target,Ze=new w.IntervalSet;for(let ge of Ue.intervals)for(let Ne=ge.a;Ne<=ge.b;Ne++){let qe=je.getOptimizedTransition(Ne).target.getOptimizedTransition(0);if(qe instanceof re.NotSetTransition)throw new Error("Not yet implemented.");Ze.addAll(qe.label)}let pt;if(Ze.intervals.length===1)if(Ze.size===1)pt=new u.AtomTransition(Pe,Ze.minElement);else{let ge=Ze.intervals[0];pt=new de.RangeTransition(Pe,ge.a,ge.b)}else pt=new he.SetTransition(Pe,Ze);let gt=new g.BasicState;if(gt.setRuleIndex(je.ruleIndex),ae.addState(gt),gt.addTransition(pt),me.push(new C.EpsilonTransition(gt)),we+=je.numberOfOptimizedTransitions-me.length,je.isOptimized)for(;je.numberOfOptimizedTransitions>0;)je.removeOptimizedTransition(je.numberOfOptimizedTransitions-1);for(let ge of me)je.addOptimizedTransition(ge)}return Se.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+we+" paths by collapsing sets."),we}static identifyTailCalls(ae){for(let le of ae.states){for(let we=0;we<le.numberOfTransitions;we++){let Ie=le.transition(we);Ie instanceof oe.RuleTransition&&(Ie.tailCall=this.testTailCall(ae,Ie,!1),Ie.optimizedTailCall=this.testTailCall(ae,Ie,!0))}if(le.isOptimized)for(let we=0;we<le.numberOfOptimizedTransitions;we++){let Ie=le.getOptimizedTransition(we);Ie instanceof oe.RuleTransition&&(Ie.tailCall=this.testTailCall(ae,Ie,!1),Ie.optimizedTailCall=this.testTailCall(ae,Ie,!0))}}}static testTailCall(ae,le,we){if(!we&&le.tailCall||we&&le.optimizedTailCall)return!0;let Ie=new p.BitSet(ae.states.length),je=[];for(je.push(le.followState);;){let Ue=je.pop();if(!Ue)break;if(Ie.get(Ue.stateNumber)||Ue instanceof X.RuleStopState)continue;if(!Ue.onlyHasEpsilonTransitions)return!1;let me=we?Ue.numberOfOptimizedTransitions:Ue.numberOfTransitions;for(let Pe=0;Pe<me;Pe++){let Ze=we?Ue.getOptimizedTransition(Pe):Ue.transition(Pe);if(Ze.serializationType!==1)return!1;je.push(Ze.target)}}return!0}static toInt(ae){return ae}static toInt32(ae,le){return(ae[le]|ae[le+1]<<16)>>>0}static toUUID(ae,le){let we=ht.toInt32(ae,le),Ie=ht.toInt32(ae,le+2),je=ht.toInt32(ae,le+4),Ue=ht.toInt32(ae,le+6);return new Z.UUID(Ue,je,Ie,we)}edgeFactory(ae,le,we,Ie,je,Ue,me,Pe){let Ze=ae.states[Ie];switch(le){case 1:return new C.EpsilonTransition(Ze);case 2:return me!==0?new de.RangeTransition(Ze,H.Token.EOF,Ue):new de.RangeTransition(Ze,je,Ue);case 3:return new oe.RuleTransition(ae.states[je],Ue,me,Ze);case 4:return new Ae.PredicateTransition(Ze,je,Ue,me!==0);case 10:return new ie.PrecedencePredicateTransition(Ze,je);case 5:return me!==0?new u.AtomTransition(Ze,H.Token.EOF):new u.AtomTransition(Ze,je);case 6:return new n.ActionTransition(Ze,je,Ue,me!==0);case 7:return new he.SetTransition(Ze,Pe[je]);case 8:return new re.NotSetTransition(Ze,Pe[je]);case 9:return new J.WildcardTransition(Ze)}throw new Error("The specified transition type is not valid.")}stateFactory(ae,le){let we;switch(ae){case l.ATNStateType.INVALID_TYPE:return new R.InvalidState;case l.ATNStateType.BASIC:we=new g.BasicState;break;case l.ATNStateType.RULE_START:we=new ue.RuleStartState;break;case l.ATNStateType.BLOCK_START:we=new c.BasicBlockStartState;break;case l.ATNStateType.PLUS_BLOCK_START:we=new Me.PlusBlockStartState;break;case l.ATNStateType.STAR_BLOCK_START:we=new z.StarBlockStartState;break;case l.ATNStateType.TOKEN_START:we=new Q.TokensStartState;break;case l.ATNStateType.RULE_STOP:we=new X.RuleStopState;break;case l.ATNStateType.BLOCK_END:we=new m.BlockEndState;break;case l.ATNStateType.STAR_LOOP_BACK:we=new U.StarLoopbackState;break;case l.ATNStateType.STAR_LOOP_ENTRY:we=new G.StarLoopEntryState;break;case l.ATNStateType.PLUS_LOOP_BACK:we=new Oe.PlusLoopbackState;break;case l.ATNStateType.LOOP_END:we=new K.LoopEndState;break;default:let Ie=`The specified state type ${ae} is not valid.`;throw new Error(Ie)}return we.ruleIndex=le,we}lexerActionFactory(ae,le,we){switch(ae){case 0:return new I.LexerChannelAction(le);case 1:return new N.LexerCustomAction(le,we);case 2:return new D.LexerModeAction(le);case 3:return L.LexerMoreAction.INSTANCE;case 4:return k.LexerPopModeAction.INSTANCE;case 5:return new j.LexerPushModeAction(le);case 6:return B.LexerSkipAction.INSTANCE;case 7:return new $.LexerTypeAction(le);default:let Ie=`The specified lexer action type ${ae} is not valid.`;throw new Error(Ie)}}};return ye.BASE_SERIALIZED_UUID=Z.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),ye.ADDED_LEXER_ACTIONS=Z.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),ye.ADDED_UNICODE_SMP=Z.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),ye.SUPPORTED_UUIDS=[ye.BASE_SERIALIZED_UUID,ye.ADDED_LEXER_ACTIONS,ye.ADDED_UNICODE_SMP],ye.SERIALIZED_UUID=ye.ADDED_UNICODE_SMP,e([ne.NotNull],ye.prototype,"deserializationOptions",void 0),e([t(0,ne.NotNull)],ye.prototype,"deserialize",null),e([t(0,ne.NotNull)],ye.prototype,"markPrecedenceDecisions",null),e([ne.NotNull,t(0,ne.NotNull)],ye.prototype,"edgeFactory",null),Ul.ATNDeserializer=ye,Ul}var tu={},AO;function cY(){if(AO)return tu;AO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=tu&&tu.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g},t=tu&&tu.__param||function(i,a){return function(l,u){a(l,u,i)}};Object.defineProperty(tu,"__esModule",{value:!0}),tu.ParseInfo=void 0;const n=Ve();let r=class{constructor(a){this.atnSimulator=a}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let a=this.atnSimulator.getDecisionInfo(),l=[];for(let u=0;u<a.length;u++)a[u].LL_Fallback>0&&l.push(u);return l}getTotalTimeInPrediction(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.timeInPrediction;return l}getTotalSLLLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.SLL_TotalLook;return l}getTotalLLLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.LL_TotalLook;return l}getTotalSLLATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.SLL_ATNTransitions;return l}getTotalLLATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.LL_ATNTransitions;return l}getTotalATNLookaheadOps(){let a=this.atnSimulator.getDecisionInfo(),l=0;for(let u of a)l+=u.SLL_ATNTransitions,l+=u.LL_ATNTransitions;return l}getDFASize(a){if(a)return this.atnSimulator.atn.decisionToDFA[a].states.size;{let l=0,u=this.atnSimulator.atn.decisionToDFA;for(let c=0;c<u.length;c++)l+=this.getDFASize(c);return l}}};return e([n.NotNull],r.prototype,"getDecisionInfo",null),e([n.NotNull],r.prototype,"getLLDecisions",null),r=e([t(0,n.NotNull)],r),tu.ParseInfo=r,tu}var jd={},EO;function bk(){if(EO)return jd;EO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jd&&jd.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(jd,"__esModule",{value:!0}),jd.ProxyParserErrorListener=void 0;const t=aR(),n=Ve();let r=class extends t.ProxyErrorListener{constructor(a){super(a)}reportAmbiguity(a,l,u,c,g,p,m){this.getDelegates().forEach(x=>{x.reportAmbiguity&&x.reportAmbiguity(a,l,u,c,g,p,m)})}reportAttemptingFullContext(a,l,u,c,g,p){this.getDelegates().forEach(m=>{m.reportAttemptingFullContext&&m.reportAttemptingFullContext(a,l,u,c,g,p)})}reportContextSensitivity(a,l,u,c,g,p){this.getDelegates().forEach(m=>{m.reportContextSensitivity&&m.reportContextSensitivity(a,l,u,c,g,p)})}};return e([n.Override],r.prototype,"reportAmbiguity",null),e([n.Override],r.prototype,"reportAttemptingFullContext",null),e([n.Override],r.prototype,"reportContextSensitivity",null),jd.ProxyParserErrorListener=r,jd}var zd={},xw={},bw={},nu={},wO;function fY(){if(wO)return nu;wO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(nu,"__esModule",{value:!0}),nu.isSupplementaryCodePoint=nu.isLowSurrogate=nu.isHighSurrogate=void 0;function e(r){return r>=55296&&r<=56319}nu.isHighSurrogate=e;function t(r){return r>=56320&&r<=57343}nu.isLowSurrogate=t;function n(r){return r>=65536}return nu.isSupplementaryCodePoint=n,nu}var CO;function Sk(){return CO||(CO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CodePointBuffer=void 0;const t=Ii(),n=fY();class r{constructor(a,l){this.buffer=a,this._position=0,this._size=l}static withArray(a){return new r(a,a.length)}get position(){return this._position}set position(a){if(a<0||a>this._size)throw new RangeError;this._position=a}get remaining(){return this._size-this.position}get(a){return this.buffer[a]}array(){return this.buffer.slice(0,this._size)}static builder(a){return new r.Builder(a)}}e.CodePointBuffer=r,function(i){let a;(function(u){u[u.BYTE=0]="BYTE",u[u.CHAR=1]="CHAR",u[u.INT=2]="INT"})(a||(a={}));class l{constructor(c){this.type=0,this.buffer=new Uint8Array(c),this.prevHighSurrogate=-1,this.position=0}build(){return new i(this.buffer,this.position)}static roundUpToNextPowerOfTwo(c){let g=32-Math.clz32(c-1);return Math.pow(2,g)}ensureRemaining(c){switch(this.type){case 0:if(this.buffer.length-this.position<c){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+c),p=new Uint8Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 1:if(this.buffer.length-this.position<c){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+c),p=new Uint16Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 2:if(this.buffer.length-this.position<c){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+c),p=new Int32Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break}}append(c){this.ensureRemaining(c.length),this.appendArray(c)}appendArray(c){switch(this.type){case 0:this.appendArrayByte(c);break;case 1:this.appendArrayChar(c);break;case 2:this.appendArrayInt(c);break}}appendArrayByte(c){t(this.prevHighSurrogate===-1);let g=c,p=0,m=c.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];if(E<=255)x[b]=E;else if(c=c.subarray(p,m),this.position=b,n.isHighSurrogate(E)){this.byteToIntBuffer(c.length),this.appendArrayInt(c);return}else{this.byteToCharBuffer(c.length),this.appendArrayChar(c);return}p++,b++}this.position=b}appendArrayChar(c){t(this.prevHighSurrogate===-1);let g=c,p=0,m=c.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];if(!n.isHighSurrogate(E))x[b]=E;else{c=c.subarray(p,m),this.position=b,this.charToIntBuffer(c.length),this.appendArrayInt(c);return}p++,b++}this.position=b}appendArrayInt(c){let g=c,p=0,m=c.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];p++,this.prevHighSurrogate!==-1?n.isLowSurrogate(E)?(x[b]=String.fromCharCode(this.prevHighSurrogate,E).codePointAt(0),b++,this.prevHighSurrogate=-1):(x[b]=this.prevHighSurrogate,b++,n.isHighSurrogate(E)?this.prevHighSurrogate=E:(x[b]=E,b++,this.prevHighSurrogate=-1)):n.isHighSurrogate(E)?this.prevHighSurrogate=E:(x[b]=E,b++)}this.prevHighSurrogate!==-1&&(x[b]=this.prevHighSurrogate,b++),this.position=b}byteToCharBuffer(c){let g=new Uint16Array(Math.max(this.position+c,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=g}byteToIntBuffer(c){let g=new Int32Array(Math.max(this.position+c,this.buffer.length>>2));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}charToIntBuffer(c){let g=new Int32Array(Math.max(this.position+c,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}}i.Builder=l}(r=e.CodePointBuffer||(e.CodePointBuffer={}))}(bw)),bw}var Ud={},RO;function Ek(){if(RO)return Ud;RO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ud&&Ud.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.CodePointCharStream=void 0;const t=Ii(),n=rf(),r=Zi(),i=Ve();let a=class Ak{constructor(u,c,g,p){t(c===0),this._array=u,this._size=g,this._name=p,this._position=0}get internalStorage(){return this._array}static fromBuffer(u,c){return(c===void 0||c.length===0)&&(c=n.IntStream.UNKNOWN_SOURCE_NAME),new Ak(u.array(),u.position,u.remaining,c)}consume(){if(this._size-this._position===0)throw t(this.LA(1)===n.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(u){}seek(u){this._position=u}get sourceName(){return this._name}toString(){return this.getText(r.Interval.of(0,this.size-1))}LA(u){let c;switch(Math.sign(u)){case-1:return c=this.index+u,c<0?n.IntStream.EOF:this._array[c];case 0:return 0;case 1:return c=this.index+u-1,c>=this.size?n.IntStream.EOF:this._array[c]}throw new RangeError("Not reached")}getText(u){const c=Math.min(u.a,this.size),g=Math.min(u.b-u.a+1,this.size-c);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(c,c+g))):String.fromCharCode(...Array.from(this._array.subarray(c,c+g)))}};return e([i.Override],a.prototype,"consume",null),e([i.Override],a.prototype,"index",null),e([i.Override],a.prototype,"size",null),e([i.Override],a.prototype,"mark",null),e([i.Override],a.prototype,"release",null),e([i.Override],a.prototype,"seek",null),e([i.Override],a.prototype,"sourceName",null),e([i.Override],a.prototype,"toString",null),e([i.Override],a.prototype,"LA",null),e([i.Override],a.prototype,"getText",null),Ud.CodePointCharStream=a,Ud}var TO;function gR(){return TO||(TO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CharStreams=void 0;const t=Sk(),n=Ek(),r=rf();(function(i){function a(l,u){(u===void 0||u.length===0)&&(u=r.IntStream.UNKNOWN_SOURCE_NAME);let c=t.CodePointBuffer.builder(l.length),g=new Uint16Array(l.length);for(let p=0;p<l.length;p++)g[p]=l.charCodeAt(p);return c.append(g),n.CodePointCharStream.fromBuffer(c.build(),u)}i.fromString=a})(e.CharStreams||(e.CharStreams={}))}(xw)),xw}var ru={},iu={},NO;function wk(){if(NO)return iu;NO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=iu&&iu.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(E=(b<3?C(E):b>3?C(p,m,E):C(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E},t=iu&&iu.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(iu,"__esModule",{value:!0}),iu.BufferedTokenStream=void 0;const n=Ii(),r=Qv(),i=Zi(),a=uf(),l=Ve(),u=Wn();let c=class{constructor(p){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,p==null)throw new Error("tokenSource cannot be null");this._tokenSource=p}get tokenSource(){return this._tokenSource}set tokenSource(p){this._tokenSource=p,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(p){}seek(p){this.lazyInit(),this.p=this.adjustSeekIndex(p)}get size(){return this.tokens.length}consume(){let p;if(this.p>=0?this.fetchedEOF?p=this.p<this.tokens.length-1:p=this.p<this.tokens.length:p=!1,!p&&this.LA(1)===u.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(p){n(p>=0);let m=p-this.tokens.length+1;return m>0?this.fetch(m)>=m:!0}fetch(p){if(this.fetchedEOF)return 0;for(let m=0;m<p;m++){let x=this.tokenSource.nextToken();if(this.isWritableToken(x)&&(x.tokenIndex=this.tokens.length),this.tokens.push(x),x.type===u.Token.EOF)return this.fetchedEOF=!0,m+1}return p}get(p){if(p<0||p>=this.tokens.length)throw new RangeError("token index "+p+" out of range 0.."+(this.tokens.length-1));return this.tokens[p]}getRange(p,m){if(p<0||m<0)return[];this.lazyInit();let x=new Array;m>=this.tokens.length&&(m=this.tokens.length-1);for(let b=p;b<=m;b++){let E=this.tokens[b];if(E.type===u.Token.EOF)break;x.push(E)}return x}LA(p){let m=this.LT(p);return m?m.type:u.Token.INVALID_TYPE}tryLB(p){if(!(this.p-p<0))return this.tokens[this.p-p]}LT(p){let m=this.tryLT(p);if(m===void 0)throw new RangeError("requested lookback index out of range");return m}tryLT(p){if(this.lazyInit(),p===0)throw new RangeError("0 is not a valid lookahead index");if(p<0)return this.tryLB(-p);let m=this.p+p-1;return this.sync(m),m>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[m]}adjustSeekIndex(p){return p}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(p,m,x){if(this.lazyInit(),p===void 0)return n(m===void 0&&x===void 0),this.tokens;if(m===void 0&&(m=this.tokens.length-1),p<0||m>=this.tokens.length||m<0||p>=this.tokens.length)throw new RangeError("start "+p+" or stop "+m+" not in 0.."+(this.tokens.length-1));if(p>m)return[];if(x===void 0)return this.tokens.slice(p,m+1);typeof x=="number"&&(x=new Set().add(x));let b=x,E=this.tokens.slice(p,m+1);return E=E.filter(C=>b.has(C.type)),E}nextTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;let x=this.tokens[p];for(;x.channel!==m;){if(x.type===u.Token.EOF)return p;p++,this.sync(p),x=this.tokens[p]}return p}previousTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;for(;p>=0;){let x=this.tokens[p];if(x.type===u.Token.EOF||x.channel===m)return p;p--}return p}getHiddenTokensToRight(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));let x=this.nextTokenOnChannel(p+1,a.Lexer.DEFAULT_TOKEN_CHANNEL),b,E=p+1;return x===-1?b=this.size-1:b=x,this.filterForChannel(E,b,m)}getHiddenTokensToLeft(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));if(p===0)return[];let x=this.previousTokenOnChannel(p-1,a.Lexer.DEFAULT_TOKEN_CHANNEL);if(x===p-1)return[];let b=x+1,E=p-1;return this.filterForChannel(b,E,m)}filterForChannel(p,m,x){let b=new Array;for(let E=p;E<=m;E++){let C=this.tokens[E];x===-1?C.channel!==a.Lexer.DEFAULT_TOKEN_CHANNEL&&b.push(C):C.channel===x&&b.push(C)}return b}get sourceName(){return this.tokenSource.sourceName}getText(p){p===void 0?p=i.Interval.of(0,this.size-1):p instanceof i.Interval||(p=p.sourceInterval);let m=p.a,x=p.b;if(m<0||x<0)return"";this.fill(),x>=this.tokens.length&&(x=this.tokens.length-1);let b="";for(let E=m;E<=x;E++){let C=this.tokens[E];if(C.type===u.Token.EOF)break;b+=C.text}return b.toString()}getTextFromRange(p,m){return this.isToken(p)&&this.isToken(m)?this.getText(i.Interval.of(p.tokenIndex,m.tokenIndex)):""}fill(){this.lazyInit();const p=1e3;for(;;)if(this.fetch(p)<p)return}isWritableToken(p){return p instanceof r.CommonToken}isToken(p){return p instanceof r.CommonToken}};return e([l.NotNull],c.prototype,"_tokenSource",void 0),e([l.Override],c.prototype,"tokenSource",null),e([l.Override],c.prototype,"index",null),e([l.Override],c.prototype,"mark",null),e([l.Override],c.prototype,"release",null),e([l.Override],c.prototype,"seek",null),e([l.Override],c.prototype,"size",null),e([l.Override],c.prototype,"consume",null),e([l.Override],c.prototype,"get",null),e([l.Override],c.prototype,"LA",null),e([l.NotNull,l.Override],c.prototype,"LT",null),e([l.Override],c.prototype,"sourceName",null),e([l.NotNull,l.Override],c.prototype,"getText",null),e([l.NotNull,l.Override],c.prototype,"getTextFromRange",null),c=e([t(0,l.NotNull)],c),iu.BufferedTokenStream=c,iu}var _O;function mR(){if(_O)return ru;_O=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ru&&ru.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=ru&&ru.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(ru,"__esModule",{value:!0}),ru.CommonTokenStream=void 0;const n=wk(),r=Ve(),i=Wn();let a=class extends n.BufferedTokenStream{constructor(u,c=i.Token.DEFAULT_CHANNEL){super(u),this.channel=c}adjustSeekIndex(u){return this.nextTokenOnChannel(u,this.channel)}tryLB(u){if(this.p-u<0)return;let c=this.p,g=1;for(;g<=u&&c>0;)c=this.previousTokenOnChannel(c-1,this.channel),g++;if(!(c<0))return this.tokens[c]}tryLT(u){if(this.lazyInit(),u===0)throw new RangeError("0 is not a valid lookahead index");if(u<0)return this.tryLB(-u);let c=this.p,g=1;for(;g<u;)this.sync(c+1)&&(c=this.nextTokenOnChannel(c+1,this.channel)),g++;return this.tokens[c]}getNumberOfOnChannelTokens(){let u=0;this.fill();for(let c of this.tokens)if(c.channel===this.channel&&u++,c.type===i.Token.EOF)break;return u}};return e([r.Override],a.prototype,"adjustSeekIndex",null),e([r.Override],a.prototype,"tryLB",null),e([r.Override],a.prototype,"tryLT",null),a=e([t(0,r.NotNull)],a),ru.CommonTokenStream=a,ru}var ou={},IO;function Ck(){if(IO)return ou;IO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ou&&ou.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=ou&&ou.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(ou,"__esModule",{value:!0}),ou.ListTokenSource=void 0;const n=oR(),r=Ve(),i=Wn();let a=class{constructor(u,c){if(this.i=0,this._factory=n.CommonTokenFactory.DEFAULT,u==null)throw new Error("tokens cannot be null");this.tokens=u,this._sourceName=c}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let u=this.tokens[this.tokens.length-1],c=u.text;if(c!=null){let g=c.lastIndexOf(`
`);if(g>=0)return c.length-g-1}return u.charPositionInLine+u.stopIndex-u.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let c=-1;if(this.tokens.length>0){let p=this.tokens[this.tokens.length-1].stopIndex;p!==-1&&(c=p+1)}let g=Math.max(-1,c-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},i.Token.EOF,"EOF",i.Token.DEFAULT_CHANNEL,c,g,this.line,this.charPositionInLine)}return this.eofToken}let u=this.tokens[this.i];return this.i===this.tokens.length-1&&u.type===i.Token.EOF&&(this.eofToken=u),this.i++,u}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let u=this.tokens[this.tokens.length-1],c=u.line,g=u.text;if(g!=null)for(let p=0;p<g.length;p++)g.charAt(p)===`
`&&c++;return c}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let u=this.inputStream;return u!=null?u.sourceName:"List"}set tokenFactory(u){this._factory=u}get tokenFactory(){return this._factory}};return e([r.Override],a.prototype,"charPositionInLine",null),e([r.Override],a.prototype,"nextToken",null),e([r.Override],a.prototype,"line",null),e([r.Override],a.prototype,"inputStream",null),e([r.Override],a.prototype,"sourceName",null),e([r.Override,r.NotNull,t(0,r.NotNull)],a.prototype,"tokenFactory",null),a=e([t(0,r.NotNull)],a),ou.ListTokenSource=a,ou}var K0={},OO;function dY(){if(OO)return K0;OO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(K0,"__esModule",{value:!0}),K0.MultiMap=void 0;let e=class extends Map{constructor(){super()}map(n,r){let i=super.get(n);i||(i=[],super.set(n,i)),i.push(r)}getPairs(){let n=[];return this.forEach((r,i)=>{r.forEach(a=>{n.push([i,a])})}),n}};return K0.MultiMap=e,K0}var X0={},DO;function Rk(){if(DO)return X0;DO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(X0,"__esModule",{value:!0}),X0.ParseCancellationException=void 0;let e=class extends Error{constructor(n){super(n.message),this.cause=n,this.stack=n.stack}getCause(){return this.cause}};return X0.ParseCancellationException=e,X0}var su={},Vd={},MO;function Tk(){if(MO)return Vd;MO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vd&&Vd.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.InterpreterRuleContext=void 0;const t=Ve(),n=ks();let r=class extends n.ParserRuleContext{constructor(a,l,u){u!==void 0?super(l,u):super(),this._ruleIndex=a}get ruleIndex(){return this._ruleIndex}};return e([t.Override],r.prototype,"ruleIndex",null),Vd.InterpreterRuleContext=r,Vd}var PO;function Nk(){if(PO)return su;PO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=su&&su.__decorate||function(R,I,N,D){var L=arguments.length,k=L<3?I:D===null?D=Object.getOwnPropertyDescriptor(I,N):D,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(R,I,N,D);else for(var B=R.length-1;B>=0;B--)(j=R[B])&&(k=(L<3?j(k):L>3?j(I,N,k):j(I,N))||k);return L>3&&k&&Object.defineProperty(I,N,k),k},t=su&&su.__param||function(R,I){return function(N,D){I(N,D,R)}};Object.defineProperty(su,"__esModule",{value:!0}),su.ParserInterpreter=void 0;const n=Du(),r=ei(),i=lf(),a=JS(),l=QS(),u=Tk(),c=gk(),g=Ve(),p=Ve(),m=oy(),x=ry(),b=of(),E=lR(),C=Wn();let w=class LC extends m.Parser{constructor(I,N,D,L,k){if(super(I instanceof LC?I.inputStream:k),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,I instanceof LC){let j=I;this._grammarFileName=j._grammarFileName,this._atn=j._atn,this.pushRecursionContextStates=j.pushRecursionContextStates,this._ruleNames=j._ruleNames,this._vocabulary=j._vocabulary,this.interpreter=new x.ParserATNSimulator(this._atn,this)}else{N=N,D=D,L=L,this._grammarFileName=I,this._atn=L,this._ruleNames=D.slice(0),this._vocabulary=N,this.pushRecursionContextStates=new i.BitSet(L.states.length);for(let j of L.states)j instanceof E.StarLoopEntryState&&j.precedenceRuleDecision&&this.pushRecursionContextStates.set(j.stateNumber);this.interpreter=new x.ParserATNSimulator(L,this)}}reset(I){I===void 0?super.reset():super.reset(I),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(I){let N=this._atn.ruleToStartState[I];for(this._rootContext=this.createInterpreterRuleContext(void 0,n.ATNState.INVALID_STATE_NUMBER,I),N.isPrecedenceRule?this.enterRecursionRule(this._rootContext,N.stateNumber,I,0):this.enterRule(this._rootContext,N.stateNumber,I);;){let D=this.atnState;switch(D.stateType){case r.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(N.isPrecedenceRule){let L=this._ctx,k=this._parentContextStack.pop();return this.unrollRecursionContexts(k[0]),L}else return this.exitRule(),this._rootContext;this.visitRuleStopState(D);break;default:try{this.visitState(D)}catch(L){if(L instanceof b.RecognitionException)this.state=this._atn.ruleToStopState[D.ruleIndex].stateNumber,this.context.exception=L,this.errorHandler.reportError(this,L),this.recover(L);else throw L}break}}}enterRecursionRule(I,N,D,L){this._parentContextStack.push([this._ctx,I.invokingState]),super.enterRecursionRule(I,N,D,L)}get atnState(){return this._atn.states[this.state]}visitState(I){let N=1;I.numberOfTransitions>1&&(N=this.visitDecisionState(I));let D=I.transition(N-1);switch(D.serializationType){case 1:if(this.pushRecursionContextStates.get(I.stateNumber)&&!(D.target instanceof c.LoopEndState)){let K=this._parentContextStack[this._parentContextStack.length-1],ne=this.createInterpreterRuleContext(K[0],K[1],this._ctx.ruleIndex);this.pushNewRecursionContext(ne,this._atn.ruleToStartState[I.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(D._label);break;case 2:case 7:case 8:D.matches(this._input.LA(1),C.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let L=D.target,k=L.ruleIndex,j=this.createInterpreterRuleContext(this._ctx,I.stateNumber,k);L.isPrecedenceRule?this.enterRecursionRule(j,L.stateNumber,k,D.precedence):this.enterRule(j,D.target.stateNumber,k);break;case 4:let B=D;if(!this.sempred(this._ctx,B.ruleIndex,B.predIndex))throw new a.FailedPredicateException(this);break;case 6:let $=D;this.action(this._ctx,$.ruleIndex,$.actionIndex);break;case 10:if(!this.precpred(this._ctx,D.precedence)){let K=D.precedence;throw new a.FailedPredicateException(this,`precpred(_ctx, ${K})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=D.target.stateNumber}visitDecisionState(I){let N;this.errorHandler.sync(this);let D=I.decision;return D===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(N=this.overrideDecisionAlt,this.overrideDecisionReached=!0):N=this.interpreter.adaptivePredict(this._input,D,this._ctx),N}createInterpreterRuleContext(I,N,D){return new u.InterpreterRuleContext(D,I,N)}visitRuleStopState(I){if(this._atn.ruleToStartState[I.ruleIndex].isPrecedenceRule){let L=this._parentContextStack.pop();this.unrollRecursionContexts(L[0]),this.state=L[1]}else this.exitRule();let D=this._atn.states[this.state].transition(0);this.state=D.followState.stateNumber}addDecisionOverride(I,N,D){this.overrideDecision=I,this.overrideDecisionInputIndex=N,this.overrideDecisionAlt=D}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(I){let N=this._input.index;if(this.errorHandler.recover(this,I),this._input.index===N){let D=I.getOffendingToken();if(!D)throw new Error("Expected exception to have an offending token");let L=D.tokenSource,k=L!==void 0?L.inputStream:void 0,j={source:L,stream:k};if(I instanceof l.InputMismatchException){let B=I.expectedTokens;if(B===void 0)throw new Error("Expected the exception to provide expected tokens");let $=C.Token.INVALID_TYPE;B.isNil||($=B.minElement);let K=this.tokenFactory.create(j,$,D.text,C.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,K))}else{D.tokenSource;let B=this.tokenFactory.create(j,C.Token.INVALID_TYPE,D.text,C.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,B))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};return e([g.NotNull],w.prototype,"_vocabulary",void 0),e([p.Override],w.prototype,"reset",null),e([p.Override],w.prototype,"atn",null),e([p.Override],w.prototype,"vocabulary",null),e([p.Override],w.prototype,"ruleNames",null),e([p.Override],w.prototype,"grammarFileName",null),e([p.Override],w.prototype,"enterRecursionRule",null),w=e([t(1,g.NotNull)],w),su.ParserInterpreter=w,su}var au={},LO;function hY(){if(LO)return au;LO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=au&&au.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g},t=au&&au.__param||function(i,a){return function(l,u){a(l,u,i)}};Object.defineProperty(au,"__esModule",{value:!0}),au.ParseTreeMatch=void 0;const n=Ve();let r=class{constructor(a,l,u,c){if(!a)throw new Error("tree cannot be null");if(!l)throw new Error("pattern cannot be null");if(!u)throw new Error("labels cannot be null");this._tree=a,this._pattern=l,this._labels=u,this._mismatchedNode=c}get(a){let l=this._labels.get(a);if(!(!l||l.length===0))return l[l.length-1]}getAll(a){const l=this._labels.get(a);return l||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};return e([n.NotNull,t(0,n.NotNull)],r.prototype,"getAll",null),e([n.NotNull],r.prototype,"labels",null),e([n.NotNull],r.prototype,"pattern",null),e([n.NotNull],r.prototype,"tree",null),e([n.Override],r.prototype,"toString",null),r=e([t(0,n.NotNull),t(1,n.NotNull),t(2,n.NotNull)],r),au.ParseTreeMatch=r,au}var lu={},Z0={},J0={},FO;function pY(){if(FO)return J0;FO=1,Object.defineProperty(J0,"__esModule",{value:!0}),J0.XPathLexer=void 0;const e=pR(),t=uf(),n=i1(),r=Sh(),i=Mu();let a=class po extends t.Lexer{constructor(u){super(u),this._interp=new n.LexerATNSimulator(po._ATN,this)}get vocabulary(){return po.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return po.ruleNames}get serializedATN(){return po._serializedATN}get channelNames(){return po.channelNames}get modeNames(){return po.modeNames}action(u,c,g){switch(c){case 4:this.ID_action(u,g);break}}ID_action(u,c){switch(c){case 0:let g=this.text;g.charAt(0)===g.charAt(0).toUpperCase()?this.type=po.TOKEN_REF:this.type=po.RULE_REF;break}}static get _ATN(){return po.__ATN||(po.__ATN=new e.ATNDeserializer().deserialize(i.toCharArray(po._serializedATN))),po.__ATN}};return J0.XPathLexer=a,a.TOKEN_REF=1,a.RULE_REF=2,a.ANYWHERE=3,a.ROOT=4,a.WILDCARD=5,a.BANG=6,a.ID=7,a.STRING=8,a.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],a.modeNames=["DEFAULT_MODE"],a.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],a._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],a._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],a.VOCABULARY=new r.VocabularyImpl(a._LITERAL_NAMES,a._SYMBOLIC_NAMES,[]),a._serializedATNSegments=2,a._serializedATNSegment0=`
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r

2;C\\aac|\r(*<>?AOR_\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1"C\\c|\r(*<>?AOR_`,a._serializedATNSegment1=`1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`,a._serializedATN=i.join([a._serializedATNSegment0,a._serializedATNSegment1],""),J0}var Gd={},kO;function gY(){if(kO)return Gd;kO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gd&&Gd.__decorate||function(r,i,a,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,a,c):g(i,a))||c);return u>3&&c&&Object.defineProperty(i,a,c),c};Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.XPathLexerErrorListener=void 0;const t=Ve();let n=class{syntaxError(i,a,l,u,c,g){}};return e([t.Override],n.prototype,"syntaxError",null),Gd.XPathLexerErrorListener=n,Gd}var $d={},Wd={},BO;function Mg(){if(BO)return Wd;BO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wd&&Wd.__decorate||function(r,i,a,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,a,c):g(i,a))||c);return u>3&&c&&Object.defineProperty(i,a,c),c};Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.XPathElement=void 0;const t=Ve();let n=class{constructor(i){this.nodeName=i,this.invert=!1}toString(){let i=this.invert?"!":"";return Object.constructor.name+"["+i+this.nodeName+"]"}};return e([t.Override],n.prototype,"toString",null),Wd.XPathElement=n,Wd}var jO;function mY(){if(jO)return $d;jO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$d&&$d.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty($d,"__esModule",{value:!0}),$d.XPathRuleAnywhereElement=void 0;const t=Ve(),n=Eh(),r=Mg();let i=class extends r.XPathElement{constructor(l,u){super(l),this.ruleIndex=u}evaluate(l){return n.Trees.findAllRuleNodes(l,this.ruleIndex)}};return e([t.Override],i.prototype,"evaluate",null),$d.XPathRuleAnywhereElement=i,$d}var Hd={},zO;function vY(){if(zO)return Hd;zO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hd&&Hd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.XPathRuleElement=void 0;const t=ks(),n=Ve(),r=Eh(),i=Mg();let a=class extends i.XPathElement{constructor(u,c){super(u),this.ruleIndex=c}evaluate(u){let c=[];for(let g of r.Trees.getChildren(u))g instanceof t.ParserRuleContext&&(g.ruleIndex===this.ruleIndex&&!this.invert||g.ruleIndex!==this.ruleIndex&&this.invert)&&c.push(g);return c}};return e([n.Override],a.prototype,"evaluate",null),Hd.XPathRuleElement=a,Hd}var Yd={},UO;function yY(){if(UO)return Yd;UO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yd&&Yd.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.XPathTokenAnywhereElement=void 0;const t=Ve(),n=Eh(),r=Mg();let i=class extends r.XPathElement{constructor(l,u){super(l),this.tokenType=u}evaluate(l){return n.Trees.findAllTokenNodes(l,this.tokenType)}};return e([t.Override],i.prototype,"evaluate",null),Yd.XPathTokenAnywhereElement=i,Yd}var qd={},VO;function xY(){if(VO)return qd;VO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=qd&&qd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(qd,"__esModule",{value:!0}),qd.XPathTokenElement=void 0;const t=Ve(),n=Dg(),r=Eh(),i=Mg();let a=class extends i.XPathElement{constructor(u,c){super(u),this.tokenType=c}evaluate(u){let c=[];for(let g of r.Trees.getChildren(u))g instanceof n.TerminalNode&&(g.symbol.type===this.tokenType&&!this.invert||g.symbol.type!==this.tokenType&&this.invert)&&c.push(g);return c}};return e([t.Override],a.prototype,"evaluate",null),qd.XPathTokenElement=a,qd}var Kd={},GO;function bY(){if(GO)return Kd;GO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kd&&Kd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.XPathWildcardAnywhereElement=void 0;const t=Ve(),n=Eh(),r=vR(),i=Mg();let a=class extends i.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(u){return this.invert?[]:n.Trees.getDescendants(u)}};return e([t.Override],a.prototype,"evaluate",null),Kd.XPathWildcardAnywhereElement=a,Kd}var Xd={},$O;function SY(){if($O)return Xd;$O=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xd&&Xd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.XPathWildcardElement=void 0;const t=Ve(),n=Eh(),r=vR(),i=Mg();let a=class extends i.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(u){let c=[];if(this.invert)return c;for(let g of n.Trees.getChildren(u))c.push(g);return c}};return e([t.Override],a.prototype,"evaluate",null),Xd.XPathWildcardElement=a,Xd}var WO;function vR(){if(WO)return Z0;WO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.XPath=void 0;const e=gR(),t=mR(),n=r1(),r=ks(),i=Wn(),a=pY(),l=gY(),u=mY(),c=vY(),g=yY(),p=xY(),m=bY(),x=SY();let b=class _k{constructor(C,w){this.parser=C,this.path=w,this.elements=this.split(w)}split(C){let w=new a.XPathLexer(e.CharStreams.fromString(C));w.recover=k=>{throw k},w.removeErrorListeners(),w.addErrorListener(new l.XPathLexerErrorListener);let R=new t.CommonTokenStream(w);try{R.fill()}catch(k){if(k instanceof n.LexerNoViableAltException){let B="Invalid tokens or characters at index "+w.charPositionInLine+" in path '"+C+"' -- "+k.message;throw new RangeError(B)}throw k}let I=R.getTokens(),N=[],D=I.length,L=0;e:for(;L<D;){let k=I[L],j;switch(k.type){case a.XPathLexer.ROOT:case a.XPathLexer.ANYWHERE:let B=k.type===a.XPathLexer.ANYWHERE;L++,j=I[L];let $=j.type===a.XPathLexer.BANG;$&&(L++,j=I[L]);let K=this.getXPathElement(j,B);K.invert=$,N.push(K),L++;break;case a.XPathLexer.TOKEN_REF:case a.XPathLexer.RULE_REF:case a.XPathLexer.WILDCARD:N.push(this.getXPathElement(k,!1)),L++;break;case i.Token.EOF:break e;default:throw new Error("Unknowth path element "+k)}}return N}getXPathElement(C,w){if(C.type===i.Token.EOF)throw new Error("Missing path element at end of path");let R=C.text;if(R==null)throw new Error("Expected wordToken to have text content.");let I=this.parser.getTokenType(R),N=this.parser.getRuleIndex(R);switch(C.type){case a.XPathLexer.WILDCARD:return w?new m.XPathWildcardAnywhereElement:new x.XPathWildcardElement;case a.XPathLexer.TOKEN_REF:case a.XPathLexer.STRING:if(I===i.Token.INVALID_TYPE)throw new Error(R+" at index "+C.startIndex+" isn't a valid token name");return w?new g.XPathTokenAnywhereElement(R,I):new p.XPathTokenElement(R,I);default:if(N===-1)throw new Error(R+" at index "+C.startIndex+" isn't a valid rule name");return w?new u.XPathRuleAnywhereElement(R,N):new c.XPathRuleElement(R,N)}}static findAll(C,w,R){return new _k(R,w).evaluate(C)}evaluate(C){let w=new r.ParserRuleContext;w.addChild(C);let R=new Set([w]),I=0;for(;I<this.elements.length;){let N=new Set;for(let D of R)D.childCount>0&&this.elements[I].evaluate(D).forEach(N.add,N);I++,R=N}return R}};return Z0.XPath=b,b.WILDCARD="*",b.NOT="!",Z0}var HO;function AY(){if(HO)return lu;HO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=lu&&lu.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=lu&&lu.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(lu,"__esModule",{value:!0}),lu.ParseTreePattern=void 0;const n=Ve(),r=vR();let i=class{constructor(l,u,c,g){this._matcher=l,this._patternRuleIndex=c,this._pattern=u,this._patternTree=g}match(l){return this._matcher.match(l,this)}matches(l){return this._matcher.match(l,this).succeeded}findAll(l,u){let c=r.XPath.findAll(l,u,this._matcher.parser),g=[];for(let p of c){let m=this.match(p);m.succeeded&&g.push(m)}return g}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};return e([n.NotNull],i.prototype,"_pattern",void 0),e([n.NotNull],i.prototype,"_patternTree",void 0),e([n.NotNull],i.prototype,"_matcher",void 0),e([n.NotNull,t(0,n.NotNull)],i.prototype,"match",null),e([t(0,n.NotNull)],i.prototype,"matches",null),e([n.NotNull,t(0,n.NotNull),t(1,n.NotNull)],i.prototype,"findAll",null),e([n.NotNull],i.prototype,"matcher",null),e([n.NotNull],i.prototype,"pattern",null),e([n.NotNull],i.prototype,"patternTree",null),i=e([t(0,n.NotNull),t(1,n.NotNull),t(3,n.NotNull)],i),lu.ParseTreePattern=i,lu}var uu={},YO;function EY(){if(YO)return uu;YO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=uu&&uu.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=uu&&uu.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(uu,"__esModule",{value:!0}),uu.RuleTagToken=void 0;const n=Ve(),r=Wn();let i=class{constructor(l,u,c){if(l==null||l.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=l,this.bypassTokenType=u,this._label=c}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return r.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};return e([n.NotNull],i.prototype,"ruleName",null),e([n.Override],i.prototype,"channel",null),e([n.Override],i.prototype,"text",null),e([n.Override],i.prototype,"type",null),e([n.Override],i.prototype,"line",null),e([n.Override],i.prototype,"charPositionInLine",null),e([n.Override],i.prototype,"tokenIndex",null),e([n.Override],i.prototype,"startIndex",null),e([n.Override],i.prototype,"stopIndex",null),e([n.Override],i.prototype,"tokenSource",null),e([n.Override],i.prototype,"inputStream",null),e([n.Override],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),uu.RuleTagToken=i,uu}var Zd={},Q0={},qO;function Ik(){if(qO)return Q0;qO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.Chunk=void 0;let e=class{};return Q0.Chunk=e,Q0}var KO;function wY(){if(KO)return Zd;KO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zd&&Zd.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g};Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.TagChunk=void 0;const t=Ik(),n=Ve();let r=class extends t.Chunk{constructor(a,l){if(super(),a==null||a.length===0)throw new Error("tag cannot be null or empty");this._tag=a,this._label=l}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};return e([n.NotNull],r.prototype,"tag",null),e([n.Override],r.prototype,"toString",null),Zd.TagChunk=r,Zd}var cu={},XO;function CY(){if(XO)return cu;XO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=cu&&cu.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=cu&&cu.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(cu,"__esModule",{value:!0}),cu.TextChunk=void 0;const n=Ik(),r=Ve();let i=class extends n.Chunk{constructor(l){if(super(),l==null)throw new Error("text cannot be null");this._text=l}get text(){return this._text}toString(){return"'"+this._text+"'"}};return e([r.NotNull],i.prototype,"_text",void 0),e([r.NotNull],i.prototype,"text",null),e([r.Override],i.prototype,"toString",null),i=e([t(0,r.NotNull)],i),cu.TextChunk=i,cu}var fu={},ZO;function RY(){if(ZO)return fu;ZO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=fu&&fu.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=fu&&fu.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(fu,"__esModule",{value:!0}),fu.TokenTagToken=void 0;const n=Qv(),r=Ve();let i=class extends n.CommonToken{constructor(l,u,c){super(u),this._tokenName=l,this._label=c}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};return e([r.NotNull],i.prototype,"_tokenName",void 0),e([r.NotNull],i.prototype,"tokenName",null),e([r.Override],i.prototype,"text",null),e([r.Override],i.prototype,"toString",null),i=e([t(0,r.NotNull)],i),fu.TokenTagToken=i,fu}var JO;function TY(){return JO||(JO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=zd&&zd.__decorate||function(j,B,$,K){var ne=arguments.length,re=ne<3?B:K===null?K=Object.getOwnPropertyDescriptor(B,$):K,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(j,B,$,K);else for(var Me=j.length-1;Me>=0;Me--)(Se=j[Me])&&(re=(ne<3?Se(re):ne>3?Se(B,$,re):Se(B,$))||re);return ne>3&&re&&Object.defineProperty(B,$,re),re},n=zd&&zd.__param||function(j,B){return function($,K){B($,K,j)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreePatternMatcher=void 0;const r=Ok(),i=gR(),a=mR(),l=Ck(),u=dY(),c=Ve(),g=Rk(),p=Nk(),m=ks(),x=hY(),b=AY(),E=of(),C=hR(),w=EY(),R=wY(),I=Dg(),N=CY(),D=Wn(),L=RY();let k=class FC{constructor(B,$){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=B,this._parser=$}setDelimiters(B,$,K){if(!B)throw new Error("start cannot be null or empty");if(!$)throw new Error("stop cannot be null or empty");this.start=B,this.stop=$,this.escape=K,this.escapeRE=new RegExp(K.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(B,$,K=0){if(typeof $=="string"){let ne=this.compile($,K);return this.matches(B,ne)}else{let ne=new u.MultiMap;return!this.matchImpl(B,$.patternTree,ne)}}match(B,$,K=0){if(typeof $=="string"){let ne=this.compile($,K);return this.match(B,ne)}else{let ne=new u.MultiMap,re=this.matchImpl(B,$.patternTree,ne);return new x.ParseTreeMatch(B,$,ne,re)}}compile(B,$){let K=this.tokenize(B),ne=new l.ListTokenSource(K),re=new a.CommonTokenStream(ne);const Se=this._parser;let Me=new p.ParserInterpreter(Se.grammarFileName,Se.vocabulary,Se.ruleNames,Se.getATNWithBypassAlts(),re),Oe;try{Me.errorHandler=new r.BailErrorStrategy,Oe=Me.parse($)}catch(ie){throw ie instanceof g.ParseCancellationException?ie.getCause():ie instanceof E.RecognitionException?ie:ie instanceof Error?new FC.CannotInvokeStartRule(ie):ie}if(re.LA(1)!==D.Token.EOF)throw new FC.StartRuleDoesNotConsumeFullPattern;return new b.ParseTreePattern(this,B,$,Oe)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(B,$,K){if(!B)throw new TypeError("tree cannot be null");if(!$)throw new TypeError("patternTree cannot be null");if(B instanceof I.TerminalNode&&$ instanceof I.TerminalNode){let ne;if(B.symbol.type===$.symbol.type)if($.symbol instanceof L.TokenTagToken){let re=$.symbol;K.map(re.tokenName,B);const Se=re.label;Se&&K.map(Se,B)}else B.text===$.text||ne||(ne=B);else ne||(ne=B);return ne}if(B instanceof m.ParserRuleContext&&$ instanceof m.ParserRuleContext){let ne,re=this.getRuleTagToken($);if(re){if(B.ruleContext.ruleIndex===$.ruleContext.ruleIndex){K.map(re.ruleName,B);const Me=re.label;Me&&K.map(Me,B)}else ne||(ne=B);return ne}if(B.childCount!==$.childCount)return ne||(ne=B),ne;let Se=B.childCount;for(let Me=0;Me<Se;Me++){let Oe=this.matchImpl(B.getChild(Me),$.getChild(Me),K);if(Oe)return Oe}return ne}return B}getRuleTagToken(B){if(B instanceof C.RuleNode&&B.childCount===1&&B.getChild(0)instanceof I.TerminalNode){let $=B.getChild(0);if($.symbol instanceof w.RuleTagToken)return $.symbol}}tokenize(B){let $=this.split(B),K=[];for(let ne of $)if(ne instanceof R.TagChunk){let re=ne;const Se=re.tag.substr(0,1);if(Se===Se.toUpperCase()){let Me=this._parser.getTokenType(re.tag);if(Me===D.Token.INVALID_TYPE)throw new Error("Unknown token "+re.tag+" in pattern: "+B);let Oe=new L.TokenTagToken(re.tag,Me,re.label);K.push(Oe)}else if(Se===Se.toLowerCase()){let Me=this._parser.getRuleIndex(re.tag);if(Me===-1)throw new Error("Unknown rule "+re.tag+" in pattern: "+B);let Oe=this._parser.getATNWithBypassAlts().ruleToTokenType[Me];K.push(new w.RuleTagToken(re.tag,Oe,re.label))}else throw new Error("invalid tag: "+re.tag+" in pattern: "+B)}else{let re=ne;this._lexer.inputStream=i.CharStreams.fromString(re.text);let Se=this._lexer.nextToken();for(;Se.type!==D.Token.EOF;)K.push(Se),Se=this._lexer.nextToken()}return K}split(B){let $=0,K=B.length,ne=[],re=[],Se=[];for(;$<K;)$===B.indexOf(this.escape+this.start,$)?$+=this.escape.length+this.start.length:$===B.indexOf(this.escape+this.stop,$)?$+=this.escape.length+this.stop.length:$===B.indexOf(this.start,$)?(re.push($),$+=this.start.length):$===B.indexOf(this.stop,$)?(Se.push($),$+=this.stop.length):$++;if(re.length>Se.length)throw new Error("unterminated tag in pattern: "+B);if(re.length<Se.length)throw new Error("missing start tag in pattern: "+B);let Me=re.length;for(let Oe=0;Oe<Me;Oe++)if(re[Oe]>=Se[Oe])throw new Error("tag delimiters out of order in pattern: "+B);if(Me===0){let Oe=B.substring(0,K);ne.push(new N.TextChunk(Oe))}if(Me>0&&re[0]>0){let Oe=B.substring(0,re[0]);ne.push(new N.TextChunk(Oe))}for(let Oe=0;Oe<Me;Oe++){let ie=B.substring(re[Oe]+this.start.length,Se[Oe]),Ae=ie,de,ue=ie.indexOf(":");if(ue>=0&&(de=ie.substring(0,ue),Ae=ie.substring(ue+1,ie.length)),ne.push(new R.TagChunk(Ae,de)),Oe+1<Me){let X=B.substring(Se[Oe]+this.stop.length,re[Oe+1]);ne.push(new N.TextChunk(X))}}if(Me>0){let Oe=Se[Me-1]+this.stop.length;if(Oe<K){let ie=B.substring(Oe,K);ne.push(new N.TextChunk(ie))}}for(let Oe=0;Oe<ne.length;Oe++){let ie=ne[Oe];if(ie instanceof N.TextChunk){let Ae=ie.text.replace(this.escapeRE,"");Ae.length<ie.text.length&&(ne[Oe]=new N.TextChunk(Ae))}}return ne}};t([c.NotNull,n(1,c.NotNull)],k.prototype,"match",null),t([c.NotNull],k.prototype,"lexer",null),t([c.NotNull],k.prototype,"parser",null),t([n(0,c.NotNull),n(1,c.NotNull),n(2,c.NotNull)],k.prototype,"matchImpl",null),e.ParseTreePatternMatcher=k,function(j){class B extends Error{constructor(ne){super(`CannotInvokeStartRule: ${ne}`),this.error=ne}}j.CannotInvokeStartRule=B;class $ extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}j.StartRuleDoesNotConsumeFullPattern=$}(k=e.ParseTreePatternMatcher||(e.ParseTreePatternMatcher={}))}(zd)),zd}var du={},hu={},pu={},QO;function iy(){if(QO)return pu;QO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pu&&pu.__decorate||function(i,a,l,u){var c=arguments.length,g=c<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(a,l,g):p(a,l))||g);return c>3&&g&&Object.defineProperty(a,l,g),g},t=pu&&pu.__param||function(i,a){return function(l,u){a(l,u,i)}};Object.defineProperty(pu,"__esModule",{value:!0}),pu.DecisionEventInfo=void 0;const n=Ve();let r=class{constructor(a,l,u,c,g,p){this.decision=a,this.fullCtx=p,this.stopIndex=g,this.input=u,this.startIndex=c,this.state=l}};return e([n.NotNull],r.prototype,"input",void 0),r=e([t(2,n.NotNull)],r),pu.DecisionEventInfo=r,pu}var eD;function NY(){if(eD)return hu;eD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=hu&&hu.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=hu&&hu.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(hu,"__esModule",{value:!0}),hu.AmbiguityInfo=void 0;const n=iy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p,m){super(l,u,g,p,m,u.useContext),this.ambigAlts=c}get ambiguousAlternatives(){return this.ambigAlts}};return e([r.NotNull],i.prototype,"ambigAlts",void 0),e([r.NotNull],i.prototype,"ambiguousAlternatives",null),i=e([t(1,r.NotNull),t(2,r.NotNull),t(3,r.NotNull)],i),hu.AmbiguityInfo=i,hu}var gu={},tD;function _Y(){if(tD)return gu;tD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gu&&gu.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=gu&&gu.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(gu,"__esModule",{value:!0}),gu.ContextSensitivityInfo=void 0;const n=iy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p){super(l,u,c,g,p,!0)}};return i=e([t(1,r.NotNull),t(2,r.NotNull)],i),gu.ContextSensitivityInfo=i,gu}var Jd={},nD;function IY(){if(nD)return Jd;nD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jd&&Jd.__decorate||function(r,i,a,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,a):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,a,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,a,c):g(i,a))||c);return u>3&&c&&Object.defineProperty(i,a,c),c};Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.DecisionInfo=void 0;const t=Ve();let n=class{constructor(i){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=i}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};return e([t.Override],n.prototype,"toString",null),Jd.DecisionInfo=n,Jd}var mu={},rD;function OY(){if(rD)return mu;rD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=mu&&mu.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=mu&&mu.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(mu,"__esModule",{value:!0}),mu.ErrorInfo=void 0;const n=iy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p){super(l,u,c,g,p,u.useContext)}};return i=e([t(1,r.NotNull),t(2,r.NotNull)],i),mu.ErrorInfo=i,mu}var vu={},iD;function DY(){if(iD)return vu;iD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vu&&vu.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=vu&&vu.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(vu,"__esModule",{value:!0}),vu.LookaheadEventInfo=void 0;const n=iy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p,m,x){super(l,u,g,p,m,x),this.predictedAlt=c}};return i=e([t(3,r.NotNull)],i),vu.LookaheadEventInfo=i,vu}var yu={},oD;function MY(){if(oD)return yu;oD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yu&&yu.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=yu&&yu.__param||function(a,l){return function(u,c){l(u,c,a)}};Object.defineProperty(yu,"__esModule",{value:!0}),yu.PredicateEvalInfo=void 0;const n=iy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p,m,x,b){super(u,l,c,g,p,l.useContext),this.semctx=m,this.evalResult=x,this.predictedAlt=b}};return i=e([t(0,r.NotNull),t(2,r.NotNull),t(5,r.NotNull)],i),yu.PredicateEvalInfo=i,yu}var sD;function aD(){if(sD)return du;sD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=du&&du.__decorate||function(C,w,R,I){var N=arguments.length,D=N<3?w:I===null?I=Object.getOwnPropertyDescriptor(w,R):I,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,w,R,I);else for(var k=C.length-1;k>=0;k--)(L=C[k])&&(D=(N<3?L(D):N>3?L(w,R,D):L(w,R))||D);return N>3&&D&&Object.defineProperty(w,R,D),D},t=du&&du.__param||function(C,w){return function(R,I){w(R,I,C)}};Object.defineProperty(du,"__esModule",{value:!0}),du.ProfilingATNSimulator=void 0;const n=NY(),r=Ga(),i=n1(),a=_Y(),l=IY(),u=OY(),c=Ve(),g=DY(),p=ry(),m=MY(),x=Ig(),b=xk();let E=class extends p.ParserATNSimulator{constructor(w){super(w.interpreter.atn,w),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let R=0;R<this.numDecisions;R++)this.decisions.push(new l.DecisionInfo(R))}adaptivePredict(w,R,I,N){if(N!==void 0)return super.adaptivePredict(w,R,I,N);try{this._input=w,this._startIndex=w.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=R,this.currentState=void 0,this.conflictingAltResolvedBySLL=r.ATN.INVALID_ALT_NUMBER;let D=process.hrtime(),L=super.adaptivePredict(w,R,I),k=process.hrtime(),j=(k[0]-D[0])*1e9;j===0?j=k[1]-D[1]:j+=1e9-D[1]+k[1],this.decisions[R].timeInPrediction+=j,this.decisions[R].invocations++;let B=this._sllStopIndex-this._startIndex+1;if(this.decisions[R].SLL_TotalLook+=B,this.decisions[R].SLL_MinLook=this.decisions[R].SLL_MinLook===0?B:Math.min(this.decisions[R].SLL_MinLook,B),B>this.decisions[R].SLL_MaxLook&&(this.decisions[R].SLL_MaxLook=B,this.decisions[R].SLL_MaxLookEvent=new g.LookaheadEventInfo(R,void 0,L,w,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let $=this._llStopIndex-this._startIndex+1;this.decisions[R].LL_TotalLook+=$,this.decisions[R].LL_MinLook=this.decisions[R].LL_MinLook===0?$:Math.min(this.decisions[R].LL_MinLook,$),$>this.decisions[R].LL_MaxLook&&(this.decisions[R].LL_MaxLook=$,this.decisions[R].LL_MaxLookEvent=new g.LookaheadEventInfo(R,void 0,L,w,this._startIndex,this._llStopIndex,!0))}return L}finally{this._input=void 0,this.currentDecision=-1}}getStartState(w,R,I,N){let D=super.getStartState(w,R,I,N);return this.currentState=D,D}computeStartState(w,R,I){let N=super.computeStartState(w,R,I);return this.currentState=N,N}computeReachSet(w,R,I,N){if(this._input===void 0)throw new Error("Invalid state");let D=super.computeReachSet(w,R,I,N);return D==null&&this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,R,this._input,this._startIndex,this._input.index)),this.currentState=D,D}getExistingTargetState(w,R){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let I=super.getExistingTargetState(w,R);if(I!=null&&(this.currentState=new b.SimulatorState(this.currentState.outerContext,I,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,I===i.ATNSimulator.ERROR)){let N=new b.SimulatorState(this.currentState.outerContext,w,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,N,this._input,this._startIndex,this._input.index))}return I}computeTargetState(w,R,I,N,D,L){let k=super.computeTargetState(w,R,I,N,D,L);return D?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,k}evalSemanticContextImpl(w,R,I){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let N=super.evalSemanticContextImpl(w,R,I);if(!(w instanceof x.SemanticContext.PrecedencePredicate)){let L=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new m.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,L,w,N,I))}return N}reportContextSensitivity(w,R,I,N,D){if(this._input===void 0)throw new Error("Invalid state");R!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a.ContextSensitivityInfo(this.currentDecision,I,this._input,N,D)),super.reportContextSensitivity(w,R,I,N,D)}reportAttemptingFullContext(w,R,I,N,D){R!=null?this.conflictingAltResolvedBySLL=R.nextSetBit(0):this.conflictingAltResolvedBySLL=I.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(w,R,I,N,D)}reportAmbiguity(w,R,I,N,D,L,k){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let j;L!=null?j=L.nextSetBit(0):j=k.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==r.ATN.INVALID_ALT_NUMBER&&j!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,I,N)),this.decisions[this.currentDecision].ambiguities.push(new n.AmbiguityInfo(this.currentDecision,this.currentState,L,this._input,I,N)),super.reportAmbiguity(w,R,I,N,D,L,k)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};return e([c.Override,t(0,c.NotNull)],E.prototype,"adaptivePredict",null),e([c.Override],E.prototype,"getStartState",null),e([c.Override],E.prototype,"computeStartState",null),e([c.Override],E.prototype,"computeReachSet",null),e([c.Override],E.prototype,"getExistingTargetState",null),e([c.Override],E.prototype,"computeTargetState",null),e([c.Override],E.prototype,"evalSemanticContextImpl",null),e([c.Override],E.prototype,"reportContextSensitivity",null),e([c.Override],E.prototype,"reportAttemptingFullContext",null),e([c.Override,t(0,c.NotNull),t(5,c.NotNull),t(6,c.NotNull)],E.prototype,"reportAmbiguity",null),du.ProfilingATNSimulator=E,du}var lD;function oy(){if(lD)return ws;lD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ws&&ws.__decorate||function(N,D,L,k){var j=arguments.length,B=j<3?D:k===null?k=Object.getOwnPropertyDescriptor(D,L):k,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(N,D,L,k);else for(var K=N.length-1;K>=0;K--)($=N[K])&&(B=(j<3?$(B):j>3?$(D,L,B):$(D,L))||B);return j>3&&B&&Object.defineProperty(D,L,B),B},t=ws&&ws.__param||function(N,D){return function(L,k){D(L,k,N)}},n=ws&&ws.__awaiter||function(N,D,L,k){function j(B){return B instanceof L?B:new L(function($){$(B)})}return new(L||(L=Promise))(function(B,$){function K(Se){try{re(k.next(Se))}catch(Me){$(Me)}}function ne(Se){try{re(k.throw(Se))}catch(Me){$(Me)}}function re(Se){Se.done?B(Se.value):j(Se.value).then(K,ne)}re((k=k.apply(N,D||[])).next())})};Object.defineProperty(ws,"__esModule",{value:!0}),ws.Parser=void 0;const r=Mu(),i=ak(),a=pR(),l=yR(),u=dR(),c=KF(),g=uf(),p=Ve(),m=cY(),x=ry(),b=bk(),E=ty(),C=Dg(),w=Wn();class R{constructor(D,L){this.ruleNames=D,this.tokenStream=L}enterEveryRule(D){console.log("enter   "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(D){console.log("exit    "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(D){}visitTerminal(D){let L=D.parent.ruleContext,k=D.symbol;console.log("consume "+k+" rule "+this.ruleNames[L.ruleIndex])}}e([p.Override],R.prototype,"enterEveryRule",null),e([p.Override],R.prototype,"exitEveryRule",null),e([p.Override],R.prototype,"visitErrorNode",null),e([p.Override],R.prototype,"visitTerminal",null);let I=class Zb extends E.Recognizer{constructor(D){super(),this._errHandler=new l.DefaultErrorStrategy,this._precedenceStack=new c.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=D}reset(D){(D===void 0||D)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let L=this.interpreter;L!=null&&L.reset()}match(D){let L=this.currentToken;return L.type===D?(D===w.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(L=this._errHandler.recoverInline(this),this._buildParseTrees&&L.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,L))),L}matchWildcard(){let D=this.currentToken;return D.type>0?(this._errHandler.reportMatch(this),this.consume()):(D=this._errHandler.recoverInline(this),this._buildParseTrees&&D.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,D))),D}set buildParseTree(D){this._buildParseTrees=D}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(D){if(D==null)throw new TypeError("listener cannot be null");this._parseListeners.push(D)}removeParseListener(D){let L=this._parseListeners.findIndex(k=>k===D);L!==-1&&this._parseListeners.splice(L,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let D of this._parseListeners)D.enterEveryRule&&D.enterEveryRule(this._ctx),this._ctx.enterRule(D)}triggerExitRuleEvent(){for(let D=this._parseListeners.length-1;D>=0;D--){let L=this._parseListeners[D];this._ctx.exitRule(L),L.exitEveryRule&&L.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let D=this.serializedATN;if(D==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let L=Zb.bypassAltsAtnCache.get(D);if(L==null){let k=new i.ATNDeserializationOptions;k.isGenerateRuleBypassTransitions=!0,L=new a.ATNDeserializer(k).deserialize(r.toCharArray(D)),Zb.bypassAltsAtnCache.set(D,L)}return L}compileParseTreePattern(D,L,k){return n(this,void 0,void 0,function*(){if(!k){if(this.inputStream){let K=this.inputStream.tokenSource;K instanceof g.Lexer&&(k=K)}if(!k)throw new Error("Parser can't discover a lexer to use")}let j=k,B=yield Promise.resolve().then(()=>TY());return new B.ParseTreePatternMatcher(j,this).compile(D,L)})}get errorHandler(){return this._errHandler}set errorHandler(D){this._errHandler=D}get inputStream(){return this._input}set inputStream(D){this.reset(!1),this._input=D}get currentToken(){return this._input.LT(1)}notifyErrorListeners(D,L,k){L===void 0?L=this.currentToken:L===null&&(L=void 0),this._syntaxErrors++;let j=-1,B=-1;L!=null&&(j=L.line,B=L.charPositionInLine);let $=this.getErrorListenerDispatch();$.syntaxError&&$.syntaxError(this,L,j,B,D,k)}consume(){let D=this.currentToken;D.type!==Zb.EOF&&this.inputStream.consume();let L=this._parseListeners.length!==0;if(this._buildParseTrees||L)if(this._errHandler.inErrorRecoveryMode(this)){let k=this._ctx.addErrorNode(this.createErrorNode(this._ctx,D));if(L)for(let j of this._parseListeners)j.visitErrorNode&&j.visitErrorNode(k)}else{let k=this.createTerminalNode(this._ctx,D);if(this._ctx.addChild(k),L)for(let j of this._parseListeners)j.visitTerminal&&j.visitTerminal(k)}return D}createTerminalNode(D,L){return new C.TerminalNode(L)}createErrorNode(D,L){return new u.ErrorNode(L)}addContextToParseTree(){let D=this._ctx._parent;D!=null&&D.addChild(this._ctx)}enterRule(D,L,k){this.state=L,this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(D,L,k){if(this.state=L,this._buildParseTrees){let j=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),j._parent=D,D.addChild(j)}this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(D,L){if(D.altNumber=L,this._buildParseTrees&&this._ctx!==D){let k=this._ctx._parent;k!=null&&(k.removeLastChild(),k.addChild(D))}this._ctx=D}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(D,L,k,j){this.state=L,this._precedenceStack.push(j),this._ctx=D,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(D,L,k){let j=this._ctx;j._parent=D,j.invokingState=L,j._stop=this._input.tryLT(-1),this._ctx=D,this._ctx._start=j._start,this._buildParseTrees&&this._ctx.addChild(j),this.triggerEnterRuleEvent()}unrollRecursionContexts(D){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let L=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==D;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=D;L._parent=D,this._buildParseTrees&&D!=null&&D.addChild(L)}getInvokingContext(D){let L=this._ctx;for(;L&&L.ruleIndex!==D;)L=L._parent;return L}get context(){return this._ctx}set context(D){this._ctx=D}precpred(D,L){return L>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new b.ProxyParserErrorListener(this.getErrorListeners())}inContext(D){return!1}isExpectedToken(D){let L=this.interpreter.atn,k=this._ctx,j=L.states[this.state],B=L.nextTokens(j);if(B.contains(D))return!0;if(!B.contains(w.Token.EPSILON))return!1;for(;k!=null&&k.invokingState>=0&&B.contains(w.Token.EPSILON);){let K=L.states[k.invokingState].transition(0);if(B=L.nextTokens(K.followState),B.contains(D))return!0;k=k._parent}return!!(B.contains(w.Token.EPSILON)&&D===w.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let D=this.interpreter.atn,L=D.states[this.state];return D.nextTokens(L)}getRuleIndex(D){let L=this.getRuleIndexMap().get(D);return L??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(D=this._ctx){let L=D,k=this.ruleNames,j=[];for(;L!=null;){let B=L.ruleIndex;B<0?j.push("n/a"):j.push(k[B]),L=L._parent}return j}getDFAStrings(){let D=[];for(let L of this._interp.atn.decisionToDFA)D.push(L.toString(this.vocabulary,this.ruleNames));return D}dumpDFA(){let D=!1;for(let L of this._interp.atn.decisionToDFA)L.isEmpty||(D&&console.log(),console.log("Decision "+L.decision+":"),process.stdout.write(L.toString(this.vocabulary,this.ruleNames)),D=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>aD()).then(D=>{let L=this.interpreter;if(L instanceof D.ProfilingATNSimulator)return new m.ParseInfo(L)})}setProfile(D){return n(this,void 0,void 0,function*(){let L=yield Promise.resolve().then(()=>aD()),k=this.interpreter;D?k instanceof L.ProfilingATNSimulator||(this.interpreter=new L.ProfilingATNSimulator(this)):k instanceof L.ProfilingATNSimulator&&(this.interpreter=new x.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(k.getPredictionMode())})}set isTrace(D){D?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new R(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};return I.bypassAltsAtnCache=new Map,e([p.NotNull],I.prototype,"_errHandler",void 0),e([p.NotNull],I.prototype,"match",null),e([p.NotNull],I.prototype,"matchWildcard",null),e([p.NotNull],I.prototype,"getParseListeners",null),e([t(0,p.NotNull)],I.prototype,"addParseListener",null),e([p.NotNull],I.prototype,"getATNWithBypassAlts",null),e([p.NotNull,t(0,p.NotNull)],I.prototype,"errorHandler",null),e([p.Override],I.prototype,"inputStream",null),e([p.NotNull],I.prototype,"currentToken",null),e([t(0,p.NotNull)],I.prototype,"enterRule",null),e([p.Override,t(0,p.Nullable)],I.prototype,"precpred",null),e([p.Override],I.prototype,"getErrorListenerDispatch",null),e([p.NotNull],I.prototype,"getExpectedTokens",null),e([p.NotNull],I.prototype,"getExpectedTokensWithinCurrentRule",null),e([p.Override],I.prototype,"parseInfo",null),ws.Parser=I,ws}var uD;function s1(){if(uD)return bd;uD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bd&&bd.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(bd,"__esModule",{value:!0}),bd.NoViableAltException=void 0;const t=oy(),n=of(),r=Ve();let i=class extends n.RecognitionException{constructor(l,u,c,g,p,m){l instanceof t.Parser&&(u===void 0&&(u=l.inputStream),c===void 0&&(c=l.currentToken),g===void 0&&(g=l.currentToken),m===void 0&&(m=l.context)),super(l,u,m),this._deadEndConfigs=p,this._startToken=c,this.setOffendingToken(l,g)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};return e([r.NotNull],i.prototype,"_startToken",void 0),bd.NoViableAltException=i,bd}var cD;function yR(){if(cD)return bl;cD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bl&&bl.__decorate||function(x,b,E,C){var w=arguments.length,R=w<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,E):C,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,E,C);else for(var N=x.length-1;N>=0;N--)(I=x[N])&&(R=(w<3?I(R):w>3?I(b,E,R):I(b,E))||R);return w>3&&R&&Object.defineProperty(b,E,R),R},t=bl&&bl.__param||function(x,b){return function(E,C){b(E,C,x)}};Object.defineProperty(bl,"__esModule",{value:!0}),bl.DefaultErrorStrategy=void 0;const n=Du(),r=ei(),i=JS(),a=QS(),l=Ah(),u=s1(),c=Fs(),g=Wn(),p=Ve();let m=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER}reset(b){this.endErrorCondition(b)}beginErrorCondition(b){this.errorRecoveryMode=!0}inErrorRecoveryMode(b){return this.errorRecoveryMode}endErrorCondition(b){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(b){this.endErrorCondition(b)}reportError(b,E){this.inErrorRecoveryMode(b)||(this.beginErrorCondition(b),E instanceof u.NoViableAltException?this.reportNoViableAlternative(b,E):E instanceof a.InputMismatchException?this.reportInputMismatch(b,E):E instanceof i.FailedPredicateException?this.reportFailedPredicate(b,E):(console.error(`unknown recognition error type: ${E}`),this.notifyErrorListeners(b,E.toString(),E)))}notifyErrorListeners(b,E,C){let w=C.getOffendingToken(b);w===void 0&&(w=null),b.notifyErrorListeners(E,w,C)}recover(b,E){this.lastErrorIndex===b.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(b.state)&&b.consume(),this.lastErrorIndex=b.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new l.IntervalSet),this.lastErrorStates.add(b.state);let C=this.getErrorRecoverySet(b);this.consumeUntil(b,C)}sync(b){let E=b.interpreter.atn.states[b.state];if(this.inErrorRecoveryMode(b))return;let w=b.inputStream.LA(1),R=b.atn.nextTokens(E);if(R.contains(w)){this.nextTokensContext=void 0,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER;return}if(R.contains(g.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=b.context,this.nextTokensState=b.state);return}switch(E.stateType){case r.ATNStateType.BLOCK_START:case r.ATNStateType.STAR_BLOCK_START:case r.ATNStateType.PLUS_BLOCK_START:case r.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(b))return;throw new a.InputMismatchException(b);case r.ATNStateType.PLUS_LOOP_BACK:case r.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(b);let N=b.getExpectedTokens().or(this.getErrorRecoverySet(b));this.consumeUntil(b,N);break}}reportNoViableAlternative(b,E){let C=b.inputStream,w;C?E.startToken.type===g.Token.EOF?w="<EOF>":w=C.getTextFromRange(E.startToken,E.getOffendingToken()):w="<unknown input>";let R="no viable alternative at input "+this.escapeWSAndQuote(w);this.notifyErrorListeners(b,R,E)}reportInputMismatch(b,E){let C=E.expectedTokens,w=C?C.toStringVocabulary(b.vocabulary):"",R="mismatched input "+this.getTokenErrorDisplay(E.getOffendingToken(b))+" expecting "+w;this.notifyErrorListeners(b,R,E)}reportFailedPredicate(b,E){let w="rule "+b.ruleNames[b.context.ruleIndex]+" "+E.message;this.notifyErrorListeners(b,w,E)}reportUnwantedToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let E=b.currentToken,C=this.getTokenErrorDisplay(E),w=this.getExpectedTokens(b),R="extraneous input "+C+" expecting "+w.toStringVocabulary(b.vocabulary);b.notifyErrorListeners(R,E,void 0)}reportMissingToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let E=b.currentToken,w="missing "+this.getExpectedTokens(b).toStringVocabulary(b.vocabulary)+" at "+this.getTokenErrorDisplay(E);b.notifyErrorListeners(w,E,void 0)}recoverInline(b){let E=this.singleTokenDeletion(b);if(E)return b.consume(),E;if(this.singleTokenInsertion(b))return this.getMissingSymbol(b);throw this.nextTokensContext===void 0?new a.InputMismatchException(b):new a.InputMismatchException(b,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(b){let E=b.inputStream.LA(1),w=b.interpreter.atn.states[b.state].transition(0).target,R=b.interpreter.atn;return R.nextTokens(w,c.PredictionContext.fromRuleContext(R,b.context)).contains(E)?(this.reportMissingToken(b),!0):!1}singleTokenDeletion(b){let E=b.inputStream.LA(2);if(this.getExpectedTokens(b).contains(E)){this.reportUnwantedToken(b),b.consume();let w=b.currentToken;return this.reportMatch(b),w}}getMissingSymbol(b){let E=b.currentToken,C=this.getExpectedTokens(b),w=g.Token.INVALID_TYPE;C.isNil||(w=C.minElement);let R;w===g.Token.EOF?R="<missing EOF>":R="<missing "+b.vocabulary.getDisplayName(w)+">";let I=E,N=b.inputStream.tryLT(-1);return I.type===g.Token.EOF&&N!=null&&(I=N),this.constructToken(b.inputStream.tokenSource,w,R,I)}constructToken(b,E,C,w){let R=b.tokenFactory,I=w.tokenSource,N=I?I.inputStream:void 0;return R.create({source:b,stream:N},E,C,g.Token.DEFAULT_CHANNEL,-1,-1,w.line,w.charPositionInLine)}getExpectedTokens(b){return b.getExpectedTokens()}getTokenErrorDisplay(b){if(!b)return"<no token>";let E=this.getSymbolText(b);return E||(this.getSymbolType(b)===g.Token.EOF?E="<EOF>":E=`<${this.getSymbolType(b)}>`),this.escapeWSAndQuote(E)}getSymbolText(b){return b.text}getSymbolType(b){return b.type}escapeWSAndQuote(b){return b=b.replace(`
`,"\\n"),b=b.replace("\r","\\r"),b=b.replace("	","\\t"),"'"+b+"'"}getErrorRecoverySet(b){let E=b.interpreter.atn,C=b.context,w=new l.IntervalSet;for(;C&&C.invokingState>=0;){let I=E.states[C.invokingState].transition(0),N=E.nextTokens(I.followState);w.addAll(N),C=C._parent}return w.remove(g.Token.EPSILON),w}consumeUntil(b,E){let C=b.inputStream.LA(1);for(;C!==g.Token.EOF&&!E.contains(C);)b.consume(),C=b.inputStream.LA(1)}};return e([p.Override],m.prototype,"reset",null),e([t(0,p.NotNull)],m.prototype,"beginErrorCondition",null),e([p.Override],m.prototype,"inErrorRecoveryMode",null),e([t(0,p.NotNull)],m.prototype,"endErrorCondition",null),e([p.Override],m.prototype,"reportMatch",null),e([p.Override],m.prototype,"reportError",null),e([t(0,p.NotNull)],m.prototype,"notifyErrorListeners",null),e([p.Override],m.prototype,"recover",null),e([p.Override],m.prototype,"sync",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportNoViableAlternative",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportInputMismatch",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportFailedPredicate",null),e([t(0,p.NotNull)],m.prototype,"reportUnwantedToken",null),e([t(0,p.NotNull)],m.prototype,"reportMissingToken",null),e([p.Override],m.prototype,"recoverInline",null),e([t(0,p.NotNull)],m.prototype,"singleTokenInsertion",null),e([t(0,p.NotNull)],m.prototype,"singleTokenDeletion",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getMissingSymbol",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getExpectedTokens",null),e([t(0,p.NotNull)],m.prototype,"getSymbolText",null),e([t(0,p.NotNull)],m.prototype,"getSymbolType",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"escapeWSAndQuote",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getErrorRecoverySet",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"consumeUntil",null),bl.DefaultErrorStrategy=m,bl}var fD;function Ok(){if(fD)return Qf;fD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Qf&&Qf.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.BailErrorStrategy=void 0;const t=yR(),n=QS(),r=Ve(),i=Rk();let a=class extends t.DefaultErrorStrategy{recover(u,c){for(let g=u.context;g;g=g.parent)g.exception=c;throw new i.ParseCancellationException(c)}recoverInline(u){let c=new n.InputMismatchException(u);for(let g=u.context;g;g=g.parent)g.exception=c;throw new i.ParseCancellationException(c)}sync(u){}};return e([r.Override],a.prototype,"recover",null),e([r.Override],a.prototype,"recoverInline",null),e([r.Override],a.prototype,"sync",null),Qf.BailErrorStrategy=a,Qf}var Sw={},dD;function PY(){if(dD)return Sw;dD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(Sw,"__esModule",{value:!0}),Sw}var Aw={},hD;function LY(){return hD||(hD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Dependents=void 0,function(t){t[t.SELF=0]="SELF",t[t.PARENTS=1]="PARENTS",t[t.CHILDREN=2]="CHILDREN",t[t.ANCESTORS=3]="ANCESTORS",t[t.DESCENDANTS=4]="DESCENDANTS",t[t.SIBLINGS=5]="SIBLINGS",t[t.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",t[t.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",t[t.PRECEEDING=8]="PRECEEDING",t[t.FOLLOWING=9]="FOLLOWING"}(e.Dependents||(e.Dependents={}))}(Aw)),Aw}var xu={},pD;function FY(){if(pD)return xu;pD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xu&&xu.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=xu&&xu.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(xu,"__esModule",{value:!0}),xu.DiagnosticErrorListener=void 0;const n=lf(),r=Ve(),i=Zi();let a=class{constructor(u=!0){this.exactOnly=u,this.exactOnly=u}syntaxError(u,c,g,p,m,x){}reportAmbiguity(u,c,g,p,m,x,b){if(this.exactOnly&&!m)return;let E=this.getDecisionDescription(u,c),C=this.getConflictingAlts(x,b),w=u.inputStream.getText(i.Interval.of(g,p)),R=`reportAmbiguity d=${E}: ambigAlts=${C}, input='${w}'`;u.notifyErrorListeners(R)}reportAttemptingFullContext(u,c,g,p,m,x){let b=this.getDecisionDescription(u,c),E=u.inputStream.getText(i.Interval.of(g,p)),C=`reportAttemptingFullContext d=${b}, input='${E}'`;u.notifyErrorListeners(C)}reportContextSensitivity(u,c,g,p,m,x){let b=this.getDecisionDescription(u,c),E=u.inputStream.getText(i.Interval.of(g,p)),C=`reportContextSensitivity d=${b}, input='${E}'`;u.notifyErrorListeners(C)}getDecisionDescription(u,c){let g=c.decision,p=c.atnStartState.ruleIndex,m=u.ruleNames;if(p<0||p>=m.length)return g.toString();let x=m[p];return x?`${g} (${x})`:g.toString()}getConflictingAlts(u,c){if(u!=null)return u;let g=new n.BitSet;for(let p of c)g.set(p.alt);return g}};return e([r.Override],a.prototype,"syntaxError",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(6,r.NotNull)],a.prototype,"reportAmbiguity",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],a.prototype,"reportAttemptingFullContext",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],a.prototype,"reportContextSensitivity",null),e([t(0,r.NotNull),t(1,r.NotNull)],a.prototype,"getDecisionDescription",null),e([r.NotNull,t(1,r.NotNull)],a.prototype,"getConflictingAlts",null),xu.DiagnosticErrorListener=a,xu}var bu={},gD;function kY(){if(gD)return bu;gD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bu&&bu.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=bu&&bu.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(bu,"__esModule",{value:!0}),bu.LexerInterpreter=void 0;const n=uf(),r=i1(),i=Ve(),a=Ve();let l=class extends n.Lexer{constructor(c,g,p,m,x,b,E){if(super(E),b.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=c,this._atn=b,this._ruleNames=p.slice(0),this._channelNames=m.slice(0),this._modeNames=x.slice(0),this._vocabulary=g,this._interp=new r.LexerATNSimulator(b,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};return e([i.NotNull],l.prototype,"_vocabulary",void 0),e([a.Override],l.prototype,"atn",null),e([a.Override],l.prototype,"grammarFileName",null),e([a.Override],l.prototype,"ruleNames",null),e([a.Override],l.prototype,"channelNames",null),e([a.Override],l.prototype,"modeNames",null),e([a.Override],l.prototype,"vocabulary",null),l=e([t(1,i.NotNull)],l),bu.LexerInterpreter=l,bu}var Ew={},mD;function BY(){if(mD)return Ew;mD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(Ew,"__esModule",{value:!0}),Ew}var Qd={},vD;function jY(){if(vD)return Qd;vD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Qd&&Qd.__decorate||function(a,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(a,l,u,c);else for(var x=a.length-1;x>=0;x--)(m=a[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.RuleContextWithAltNum=void 0;const t=Ga(),n=Ve(),r=ks();let i=class extends r.ParserRuleContext{constructor(l,u){u!==void 0?super(l,u):super(),this._altNumber=t.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(l){this._altNumber=l}};return e([n.Override],i.prototype,"altNumber",null),Qd.RuleContextWithAltNum=i,Qd}var ev={},yD;function zY(){if(yD)return ev;yD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ev,"__esModule",{value:!0}),ev.RuleDependency=void 0;function e(t){return(n,r,i)=>{}}return ev.RuleDependency=e,ev}var tv={},xD;function UY(){if(xD)return tv;xD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(tv,"__esModule",{value:!0}),tv.RuleVersion=void 0;function e(t){return(n,r,i)=>{}}return tv.RuleVersion=e,tv}var ww={},bD;function VY(){if(bD)return ww;bD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(ww,"__esModule",{value:!0}),ww}var Cw={},SD;function GY(){if(SD)return Cw;SD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(Cw,"__esModule",{value:!0}),Cw}var Rw={},AD;function $Y(){if(AD)return Rw;AD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(Rw,"__esModule",{value:!0}),Rw}var Su={},ED;function WY(){if(ED)return Su;ED=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Su&&Su.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var w=g.length-1;w>=0;w--)(C=g[w])&&(E=(b<3?C(E):b>3?C(p,m,E):C(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E};Object.defineProperty(Su,"__esModule",{value:!0}),Su.RewriteOperation=Su.TokenStreamRewriter=void 0;const t=Zi(),n=Ve(),r=Wn();let i=class zo{constructor(p){this.tokens=p,this.programs=new Map,this.programs.set(zo.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(p,m=zo.DEFAULT_PROGRAM_NAME){let x=this.programs.get(m);x!=null&&this.programs.set(m,x.slice(zo.MIN_TOKEN_INDEX,p))}deleteProgram(p=zo.DEFAULT_PROGRAM_NAME){this.rollback(zo.MIN_TOKEN_INDEX,p)}insertAfter(p,m,x=zo.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let E=this.getProgram(x),C=new u(this.tokens,b,E.length,m);E.push(C)}insertBefore(p,m,x=zo.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let E=this.getProgram(x),C=new l(this.tokens,b,E.length,m);E.push(C)}replaceSingle(p,m){typeof p=="number"?this.replace(p,p,m):this.replace(p,p,m)}replace(p,m,x,b=zo.DEFAULT_PROGRAM_NAME){if(typeof p!="number"&&(p=p.tokenIndex),typeof m!="number"&&(m=m.tokenIndex),p>m||p<0||m<0||m>=this.tokens.size)throw new RangeError(`replace: range invalid: ${p}..${m}(size=${this.tokens.size})`);let E=this.getProgram(b),C=new c(this.tokens,p,m,E.length,x);E.push(C)}delete(p,m,x=zo.DEFAULT_PROGRAM_NAME){m===void 0&&(m=p),typeof p=="number"?this.replace(p,m,"",x):this.replace(p,m,"",x)}getLastRewriteTokenIndex(p=zo.DEFAULT_PROGRAM_NAME){let m=this.lastRewriteTokenIndexes.get(p);return m??-1}setLastRewriteTokenIndex(p,m){this.lastRewriteTokenIndexes.set(p,m)}getProgram(p){let m=this.programs.get(p);return m==null&&(m=this.initializeProgram(p)),m}initializeProgram(p){let m=[];return this.programs.set(p,m),m}getText(p,m=zo.DEFAULT_PROGRAM_NAME){let x;p instanceof t.Interval?x=p:x=t.Interval.of(0,this.tokens.size-1),typeof p=="string"&&(m=p);let b=this.programs.get(m),E=x.a,C=x.b;if(C>this.tokens.size-1&&(C=this.tokens.size-1),E<0&&(E=0),b==null||b.length===0)return this.tokens.getText(x);let w=[],R=this.reduceToSingleOperationPerIndex(b),I=E;for(;I<=C&&I<this.tokens.size;){let N=R.get(I);R.delete(I);let D=this.tokens.get(I);N==null?(D.type!==r.Token.EOF&&w.push(String(D.text)),I++):I=N.execute(w)}if(C===this.tokens.size-1)for(let N of R.values())N.index>=this.tokens.size-1&&w.push(N.text.toString());return w.join("")}reduceToSingleOperationPerIndex(p){for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof c))continue;let E=b,C=this.getKindOfOps(p,l,x);for(let R of C)R.index===E.index?(p[R.instructionIndex]=void 0,E.text=R.text.toString()+(E.text!=null?E.text.toString():"")):R.index>E.index&&R.index<=E.lastIndex&&(p[R.instructionIndex]=void 0);let w=this.getKindOfOps(p,c,x);for(let R of w){if(R.index>=E.index&&R.lastIndex<=E.lastIndex){p[R.instructionIndex]=void 0;continue}let I=R.lastIndex<E.index||R.index>E.lastIndex;if(R.text==null&&E.text==null&&!I)p[R.instructionIndex]=void 0,E.index=Math.min(R.index,E.index),E.lastIndex=Math.max(R.lastIndex,E.lastIndex);else if(!I)throw new Error(`replace op boundaries of ${E} overlap with previous ${R}`)}}for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof l))continue;let E=b,C=this.getKindOfOps(p,l,x);for(let R of C)R.index===E.index&&(R instanceof u?(E.text=this.catOpText(R.text,E.text),p[R.instructionIndex]=void 0):R instanceof l&&(E.text=this.catOpText(E.text,R.text),p[R.instructionIndex]=void 0));let w=this.getKindOfOps(p,c,x);for(let R of w){if(E.index===R.index){R.text=this.catOpText(E.text,R.text),p[x]=void 0;continue}if(E.index>=R.index&&E.index<=R.lastIndex)throw new Error(`insert op ${E} within boundaries of previous ${R}`)}}let m=new Map;for(let x of p)if(x!=null){if(m.get(x.index)!=null)throw new Error("should only be one op per index");m.set(x.index,x)}return m}catOpText(p,m){let x="",b="";return p!=null&&(x=p.toString()),m!=null&&(b=m.toString()),x+b}getKindOfOps(p,m,x){let b=[];for(let E=0;E<x&&E<p.length;E++){let C=p[E];C!=null&&C instanceof m&&b.push(C)}return b}};Su.TokenStreamRewriter=i,i.DEFAULT_PROGRAM_NAME="default",i.PROGRAM_INIT_SIZE=100,i.MIN_TOKEN_INDEX=0;class a{constructor(p,m,x,b){this.tokens=p,this.instructionIndex=x,this.index=m,this.text=b===void 0?"":b}execute(p){return this.index}toString(){let p=this.constructor.name,m=p.indexOf("$");return p=p.substring(m+1,p.length),"<"+p+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}e([n.Override],a.prototype,"toString",null),Su.RewriteOperation=a;class l extends a{constructor(p,m,x,b){super(p,m,x,b)}execute(p){return p.push(this.text.toString()),this.tokens.get(this.index).type!==r.Token.EOF&&p.push(String(this.tokens.get(this.index).text)),this.index+1}}e([n.Override],l.prototype,"execute",null);class u extends l{constructor(p,m,x,b){super(p,m+1,x,b)}}class c extends a{constructor(p,m,x,b,E){super(p,m,b,E),this.lastIndex=x}execute(p){return this.text!=null&&p.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}return e([n.Override],c.prototype,"execute",null),e([n.Override],c.prototype,"toString",null),Su}var Tw={},wD;function HY(){if(wD)return Tw;wD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(Tw,"__esModule",{value:!0}),Tw}var Nw={},CD;function YY(){if(CD)return Nw;CD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(Nw,"__esModule",{value:!0}),Nw}var RD;function qY(){return RD||(RD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Zf&&Zf.__createBinding||(Object.create?function(r,i,a,l){l===void 0&&(l=a),Object.defineProperty(r,l,{enumerable:!0,get:function(){return i[a]}})}:function(r,i,a,l){l===void 0&&(l=a),r[l]=i[a]}),n=Zf&&Zf.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(WW(),e),n(HW(),e),n(LH(),e),n(Ok(),e),n(wk(),e),n(PY(),e),n(gR(),e),n(Sk(),e),n(Ek(),e),n(Qv(),e),n(oR(),e),n(mR(),e),n(QF(),e),n(yR(),e),n(LY(),e),n(FY(),e),n(JS(),e),n(QS(),e),n(Tk(),e),n(rf(),e),n(uf(),e),n(kY(),e),n(r1(),e),n(Ck(),e),n(s1(),e),n(oy(),e),n(BY(),e),n(Nk(),e),n(ks(),e),n(aR(),e),n(bk(),e),n(of(),e),n(ty(),e),n(yk(),e),n(jY(),e),n(zY(),e),n(UY(),e),n(Wn(),e),n(VY(),e),n(GY(),e),n($Y(),e),n(WY(),e),n(HY(),e),n(Sh(),e),n(YY(),e)}(Zf)),Zf}var pg=qY(),Dk=pR(),KY=uf(),XY=i1(),Mk=Sh(),Pk=Mu();const Bt=class Bt extends KY.Lexer{get vocabulary(){return Bt.VOCABULARY}constructor(t){super(t),this._interp=new XY.LexerATNSimulator(Bt._ATN,this)}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Bt.ruleNames}get serializedATN(){return Bt._serializedATN}get channelNames(){return Bt.channelNames}get modeNames(){return Bt.modeNames}action(t,n,r){switch(n){case 6:this.REF_action(t,r);break}}REF_action(t,n){}static get _ATN(){return Bt.__ATN||(Bt.__ATN=new Dk.ATNDeserializer().deserialize(Pk.toCharArray(Bt._serializedATN))),Bt.__ATN}};q(Bt,"T__0",1),q(Bt,"T__1",2),q(Bt,"T__2",3),q(Bt,"REFERENCE",4),q(Bt,"REF",5),q(Bt,"REFRANGE",6),q(Bt,"BOOL",7),q(Bt,"STRING",8),q(Bt,"NUM",9),q(Bt,"FUNCNAME",10),q(Bt,"WS",11),q(Bt,"MUL",12),q(Bt,"DIV",13),q(Bt,"ADD",14),q(Bt,"SUB",15),q(Bt,"EQ",16),q(Bt,"NEQ",17),q(Bt,"LTE",18),q(Bt,"GTE",19),q(Bt,"LT",20),q(Bt,"GT",21),q(Bt,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),q(Bt,"modeNames",["DEFAULT_MODE"]),q(Bt,"ruleNames",["T__0","T__1","T__2","REFERENCE","SHEET_NAME","QUOTED_SHEET_NAME","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(Bt,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),q(Bt,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(Bt,"VOCABULARY",new Mk.VocabularyImpl(Bt._LITERAL_NAMES,Bt._SYMBOLIC_NAMES,[])),q(Bt,"_serializedATN",`\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r											J
\x07N
\fQ\v\x07\x07\x07U
\x07\r\x07\x07V\x07\x07\b\b\\
\b\b\b\b\ba
\b\b\b\x07\be
\b\f\b\bh\v\b				




















\v\v\x07\v
\v\f\v\v\v\v\v\v\f\f
\f\r\f\f\f\f\f
\f\r\f\f\f
\f\r\r\x07\r
\r\f\r\r\v\r
\r\x07	\v\r\x07\b	
\v\f\x1B\r!#%')+-/
C\\c|2;C\\c|))3;2;$$\x07002;C\\aac|\v\v""\x07	\x1B!#%')+-/13\x075	I\vK\rR[i\x1B!#%')+-/12\x07*234\x07+456\x07.6\b78\r\x0789\x07#9:	:J;<\r\x07<=\x07#=>\b>J?@\v@A\x07#AB	BJCD\vDE\x07#EF\bFJGJ	HJ\bI7I;I?ICIGIHJ
KO	LN	MLNQOMOPP\fQORT\x07)SU
TSUVVTVWWXXY\x07)YZ\\\x07&[Z[\\\\]]^	^\`\b\b_a\x07&\`_\`aabbf	ce	dcehfdfgghfij\bjk\x07<kl\blmn\x07Vno\x07Top\x07Wp\x07Gqr\x07Hrs\x07Cst\x07Ntu\x07Uu\x07Gvw\x07vwx\x07txy\x07wy\x07gz{\x07h{|\x07c|}\x07n}~\x07u~\x07gmqvz\x07$
\x07\x07$	\x070			\b		\b\x07,\x071 \x07-"\x07/$\x07?&\x07>\x07@(\x07>\x07?*\x07@\x07?,\x07>.\x07@0IOV[\`f\b\b`),q(Bt,"__ATN");let gg=Bt;var ZY=Ga(),JY=JS(),QY=s1(),e7=oy(),xR=ks(),t7=ry(),_w=of(),Iw=Wn();const Qe=class Qe extends e7.Parser{get vocabulary(){return Qe.VOCABULARY}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Qe.ruleNames}get serializedATN(){return Qe._serializedATN}createFailedPredicateException(t,n){return new JY.FailedPredicateException(this,t,n)}constructor(t){super(t),this._interp=new t7.ParserATNSimulator(Qe._ATN,this)}formula(){let t=new n7(this._ctx,this.state);this.enterRule(t,0,Qe.RULE_formula);let n;try{this.enterOuterAlt(t,1);{this.state=7,this._errHandler.sync(this),n=this._input.LA(1);do this.state=6,this.expr(0),this.state=9,this._errHandler.sync(this),n=this._input.LA(1);while((n&-32)===0&&(1<<n&(1<<Qe.T__0|1<<Qe.REFERENCE|1<<Qe.BOOL|1<<Qe.STRING|1<<Qe.NUM|1<<Qe.FUNCNAME))!==0)}}catch(r){if(r instanceof _w.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}expr(t){t===void 0&&(t=0);let n=this._ctx,r=this.state,i=new Zn(this._ctx,r),a=i,l=2;this.enterRecursionRule(i,2,Qe.RULE_expr,t);let u;try{let c;this.enterOuterAlt(i,1);{switch(this.state=26,this._errHandler.sync(this),this._input.LA(1)){case Qe.FUNCNAME:i=new r7(i),this._ctx=i,a=i,this.state=12,this.match(Qe.FUNCNAME),this.state=13,this.match(Qe.T__0),this.state=15,this._errHandler.sync(this),u=this._input.LA(1),(u&-32)===0&&(1<<u&(1<<Qe.T__0|1<<Qe.REFERENCE|1<<Qe.BOOL|1<<Qe.STRING|1<<Qe.NUM|1<<Qe.FUNCNAME))!==0&&(this.state=14,this.args()),this.state=17,this.match(Qe.T__1);break;case Qe.NUM:i=new a7(i),this._ctx=i,a=i,this.state=18,this.match(Qe.NUM);break;case Qe.BOOL:i=new l7(i),this._ctx=i,a=i,this.state=19,this.match(Qe.BOOL);break;case Qe.STRING:i=new u7(i),this._ctx=i,a=i,this.state=20,this.match(Qe.STRING);break;case Qe.REFERENCE:i=new c7(i),this._ctx=i,a=i,this.state=21,this.match(Qe.REFERENCE);break;case Qe.T__0:i=new f7(i),this._ctx=i,a=i,this.state=22,this.match(Qe.T__0),this.state=23,this.expr(0),this.state=24,this.match(Qe.T__1);break;default:throw new QY.NoViableAltException(this)}for(this._ctx._stop=this._input.tryLT(-1),this.state=39,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,4,this._ctx);c!==2&&c!==ZY.ATN.INVALID_ALT_NUMBER;){if(c===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),a=i,this.state=37,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:{if(i=new i7(new Zn(n,r)),this.pushNewRecursionContext(i,l,Qe.RULE_expr),this.state=28,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=29,i._op=this._input.LT(1),u=this._input.LA(1),u===Qe.MUL||u===Qe.DIV?(this._input.LA(1)===Iw.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):i._op=this._errHandler.recoverInline(this),this.state=30,this.expr(9)}break;case 2:{if(i=new o7(new Zn(n,r)),this.pushNewRecursionContext(i,l,Qe.RULE_expr),this.state=31,!this.precpred(this._ctx,7))throw this.createFailedPredicateException("this.precpred(this._ctx, 7)");this.state=32,i._op=this._input.LT(1),u=this._input.LA(1),u===Qe.ADD||u===Qe.SUB?(this._input.LA(1)===Iw.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):i._op=this._errHandler.recoverInline(this),this.state=33,this.expr(8)}break;case 3:{if(i=new s7(new Zn(n,r)),this.pushNewRecursionContext(i,l,Qe.RULE_expr),this.state=34,!this.precpred(this._ctx,6))throw this.createFailedPredicateException("this.precpred(this._ctx, 6)");this.state=35,i._op=this._input.LT(1),u=this._input.LA(1),(u&-32)===0&&(1<<u&(1<<Qe.EQ|1<<Qe.NEQ|1<<Qe.LTE|1<<Qe.GTE|1<<Qe.LT|1<<Qe.GT))!==0?(this._input.LA(1)===Iw.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):i._op=this._errHandler.recoverInline(this),this.state=36,this.expr(7)}break}this.state=41,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,4,this._ctx)}}}catch(c){if(c instanceof _w.RecognitionException)i.exception=c,this._errHandler.reportError(this,c),this._errHandler.recover(this,c);else throw c}finally{this.unrollRecursionContexts(n)}return i}args(){let t=new Lk(this._ctx,this.state);this.enterRule(t,4,Qe.RULE_args);let n;try{for(this.enterOuterAlt(t,1),this.state=42,this.expr(0),this.state=47,this._errHandler.sync(this),n=this._input.LA(1);n===Qe.T__2;)this.state=43,this.match(Qe.T__2),this.state=44,this.expr(0),this.state=49,this._errHandler.sync(this),n=this._input.LA(1)}catch(r){if(r instanceof _w.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}sempred(t,n,r){switch(n){case 1:return this.expr_sempred(t,r)}return!0}expr_sempred(t,n){switch(n){case 0:return this.precpred(this._ctx,8);case 1:return this.precpred(this._ctx,7);case 2:return this.precpred(this._ctx,6)}return!0}static get _ATN(){return Qe.__ATN||(Qe.__ATN=new Dk.ATNDeserializer().deserialize(Pk.toCharArray(Qe._serializedATN))),Qe.__ATN}};q(Qe,"T__0",1),q(Qe,"T__1",2),q(Qe,"T__2",3),q(Qe,"REFERENCE",4),q(Qe,"REF",5),q(Qe,"REFRANGE",6),q(Qe,"BOOL",7),q(Qe,"STRING",8),q(Qe,"NUM",9),q(Qe,"FUNCNAME",10),q(Qe,"WS",11),q(Qe,"MUL",12),q(Qe,"DIV",13),q(Qe,"ADD",14),q(Qe,"SUB",15),q(Qe,"EQ",16),q(Qe,"NEQ",17),q(Qe,"LTE",18),q(Qe,"GTE",19),q(Qe,"LT",20),q(Qe,"GT",21),q(Qe,"RULE_formula",0),q(Qe,"RULE_expr",1),q(Qe,"RULE_args",2),q(Qe,"ruleNames",["formula","expr","args"]),q(Qe,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),q(Qe,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),q(Qe,"VOCABULARY",new Mk.VocabularyImpl(Qe._LITERAL_NAMES,Qe._SYMBOLIC_NAMES,[])),q(Qe,"_serializedATN",`5			

\r\v

\x07(
\f+\v\x070
\f3\v<	,\b
	\b
\v\v	\v\f\f\r\b\x07\f\x07\x07\x07\v\x07	\x07
\x07\x07\x1B\x07\x1B\r)\f
 	 (\v!"\f	"#	#(
$%\f\b%&	&(	''!'$(+)')**+),1-.\x07.0/-031/122\x0731\b\v')1`),q(Qe,"__ATN");let _n=Qe;class n7 extends xR.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Zn):this.getRuleContext(t,Zn)}constructor(t,n){super(t,n)}get ruleIndex(){return _n.RULE_formula}enterRule(t){t.enterFormula&&t.enterFormula(this)}exitRule(t){t.exitFormula&&t.exitFormula(this)}accept(t){return t.visitFormula?t.visitFormula(this):t.visitChildren(this)}}class Zn extends xR.ParserRuleContext{constructor(t,n){super(t,n)}get ruleIndex(){return _n.RULE_expr}copyFrom(t){super.copyFrom(t)}}class r7 extends Zn{FUNCNAME(){return this.getToken(_n.FUNCNAME,0)}args(){return this.tryGetRuleContext(0,Lk)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterFunction&&t.enterFunction(this)}exitRule(t){t.exitFunction&&t.exitFunction(this)}accept(t){return t.visitFunction?t.visitFunction(this):t.visitChildren(this)}}class i7 extends Zn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Zn):this.getRuleContext(n,Zn)}MUL(){return this.tryGetToken(_n.MUL,0)}DIV(){return this.tryGetToken(_n.DIV,0)}enterRule(n){n.enterMulDiv&&n.enterMulDiv(this)}exitRule(n){n.exitMulDiv&&n.exitMulDiv(this)}accept(n){return n.visitMulDiv?n.visitMulDiv(this):n.visitChildren(this)}}class o7 extends Zn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Zn):this.getRuleContext(n,Zn)}ADD(){return this.tryGetToken(_n.ADD,0)}SUB(){return this.tryGetToken(_n.SUB,0)}enterRule(n){n.enterAddSub&&n.enterAddSub(this)}exitRule(n){n.exitAddSub&&n.exitAddSub(this)}accept(n){return n.visitAddSub?n.visitAddSub(this):n.visitChildren(this)}}class s7 extends Zn{constructor(n){super(n.parent,n.invokingState);q(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Zn):this.getRuleContext(n,Zn)}EQ(){return this.tryGetToken(_n.EQ,0)}NEQ(){return this.tryGetToken(_n.NEQ,0)}LT(){return this.tryGetToken(_n.LT,0)}GT(){return this.tryGetToken(_n.GT,0)}LTE(){return this.tryGetToken(_n.LTE,0)}GTE(){return this.tryGetToken(_n.GTE,0)}enterRule(n){n.enterComparison&&n.enterComparison(this)}exitRule(n){n.exitComparison&&n.exitComparison(this)}accept(n){return n.visitComparison?n.visitComparison(this):n.visitChildren(this)}}class a7 extends Zn{NUM(){return this.getToken(_n.NUM,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterNumber&&t.enterNumber(this)}exitRule(t){t.exitNumber&&t.exitNumber(this)}accept(t){return t.visitNumber?t.visitNumber(this):t.visitChildren(this)}}class l7 extends Zn{BOOL(){return this.getToken(_n.BOOL,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterBoolean&&t.enterBoolean(this)}exitRule(t){t.exitBoolean&&t.exitBoolean(this)}accept(t){return t.visitBoolean?t.visitBoolean(this):t.visitChildren(this)}}class u7 extends Zn{STRING(){return this.getToken(_n.STRING,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterStr&&t.enterStr(this)}exitRule(t){t.exitStr&&t.exitStr(this)}accept(t){return t.visitStr?t.visitStr(this):t.visitChildren(this)}}class c7 extends Zn{REFERENCE(){return this.getToken(_n.REFERENCE,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterReference&&t.enterReference(this)}exitRule(t){t.exitReference&&t.exitReference(this)}accept(t){return t.visitReference?t.visitReference(this):t.visitChildren(this)}}class f7 extends Zn{expr(){return this.getRuleContext(0,Zn)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterParentheses&&t.enterParentheses(this)}exitRule(t){t.exitParentheses&&t.exitParentheses(this)}accept(t){return t.visitParentheses?t.visitParentheses(this):t.visitChildren(this)}}class Lk extends xR.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Zn):this.getRuleContext(t,Zn)}constructor(t,n){super(t,n)}get ruleIndex(){return _n.RULE_args}enterRule(t){t.enterArgs&&t.enterArgs(this)}exitRule(t){t.exitArgs&&t.exitArgs(this)}accept(t){return t.visitArgs?t.visitArgs(this):t.visitChildren(this)}}function*TD(e){const[t,n]=e;for(let r=t.r;r<=n.r;r++)for(let i=t.c;i<=n.c;i++)yield{r,c:i}}function Vp(e,t){const[n,r]=t;return n.r<=e.r&&e.r<=r.r&&n.c<=e.c&&e.c<=r.c}function d7(e,t){const[n,r]=e,[i,a]=t;return i.r<=n.r&&r.r<=a.r&&i.c<=n.c&&r.c<=a.c}function ND(e,t){return[{r:Math.min(e.r,t.r),c:Math.min(e.c,t.c)},{r:Math.max(e.r,t.r),c:Math.max(e.c,t.c)}]}function nv(e){return[ID(e[0]),ID(e[1])]}function Ow(e,t){return mv(e[0],t[0])&&mv(e[1],t[1])}function h7(e,t){const n=[];return e[0].r>t[0].r&&n.push([{r:e[0].r-1,c:e[0].c},{r:e[0].r-1,c:e[1].c}]),e[1].r<t[1].r&&n.push([{r:e[1].r+1,c:e[0].c},{r:e[1].r+1,c:e[1].c}]),e[0].c>t[0].c&&n.push([{r:e[0].r,c:e[0].c-1},{r:e[1].r,c:e[0].c-1}]),e[1].c<t[1].c&&n.push([{r:e[0].r,c:e[1].c+1},{r:e[1].r,c:e[1].c+1}]),n}function _D(e,t){const[n,r]=e,[i,a]=t;return[{r:Math.min(n.r,i.r),c:Math.min(n.c,i.c)},{r:Math.max(r.r,a.r),c:Math.max(r.c,a.c)}]}function mv(e,t){return e.r===t.r&&e.c===t.c}function ID(e){return{r:e.r,c:e.c}}function cf(e){return e.includes(":")}function ch(e){return e.includes("!")}function Fk(e){const t=e.indexOf("!");if(t===-1)throw new Error(`Not a cross-sheet reference: ${e}`);let n=e.substring(0,t);n.startsWith("'")&&n.endsWith("'")&&(n=n.slice(1,-1));const r=e.substring(t+1);return{sheetName:n,localRef:r}}function*Da(e){for(const t of e){if(ch(t)){const{sheetName:n,localRef:r}=Fk(t);if(r.includes(":")){const i=kC(r);for(const a of TD(i))yield`${n}!${at(a)}`}else yield t;continue}if(cf(t)){const n=kC(t);for(const r of TD(n))yield at(r);continue}yield t}}function at(e){return Tv(e.c)+e.r}function p7(e){const[t,n]=e;return`${at(t)}:${at(n)}`}function Tv(e){let t="";for(;e>0;){const n=e%26;n===0?(t="Z"+t,e=Math.floor(e/26)-1):(t=String.fromCharCode(n+64)+t,e=Math.floor(e/26))}return t}function Pt(e){const t=e.replace(/\$/g,"");let n=0;for(let a=0;a<t.length;a++){const l=t.charCodeAt(a);if(48<=l&&l<=57){n=a;break}}if(n===0)throw new Error("Invalid Reference");const r=parseInt(t.substring(n)),i=t.substring(0,n).split("").reverse().reduce((a,l,u)=>a+Math.pow(26,u)*(l.charCodeAt(0)-65+1),0);if(isNaN(r)||isNaN(i))throw new Error("Invalid Reference");return{r,c:i}}function kC(e){const[t,n]=e.split(":");return[Pt(t),Pt(n)]}class sy{constructor(){q(this,"ref");q(this,"bool");q(this,"num");q(this,"str")}static create(){return new sy}setRef(t){return this.ref=t,this}setBool(t){return this.bool=t,this}setNum(t){return this.num=t,this}setStr(t){return this.str=t,this}map(t,n){return t.t==="bool"&&this.bool?this.bool(t):t.t==="num"&&this.num?this.num(t):t.t==="str"&&this.str?this.str(t):t.t==="ref"&&this.ref&&n?this.ref(t,n):t}*iterate(t,n,r){for(const i of t.expr()){const a=n(i);if(a.t==="ref"&&r)for(const l of Da([a.v]))yield this.ref({t:"ref",v:l},r);else yield this.map(a)}}}function g7(e){return{t:"num",v:e.v?1:0}}function m7(e){const t=Number(e);return{t:"num",v:isNaN(t)?0:t}}function v7(e,t){var i;if(cf(e.v))return{t:"err",v:"#VALUE!"};const n=((i=t.get(e.v))==null?void 0:i.v)||"",r=Number(n);return{t:"num",v:isNaN(r)?0:r}}const Fn=sy.create().setRef(v7).setBool(g7).setStr(m7);function y7(e){return{t:"bool",v:e.v!==0}}function x7(e,t){var i;if(cf(e.v))return{t:"err",v:"#VALUE!"};const n=((i=t.get(e.v))==null?void 0:i.v)||"";if(n==="TRUE"||n==="true")return{t:"bool",v:!0};if(n==="FALSE"||n==="false"||n==="")return{t:"bool",v:!1};const r=Number(n);return isNaN(r)?{t:"err",v:"#VALUE!"}:{t:"bool",v:r!==0}}const Pg=sy.create().setRef(x7).setNum(y7).setStr(()=>({t:"err",v:"#VALUE!"}));function b7(e){return{t:"str",v:e.v.toString()}}function S7(e){return{t:"str",v:e.v?"TRUE":"FALSE"}}function kk(e,t){var r;return cf(e.v)?{t:"err",v:"#VALUE!"}:{t:"str",v:((r=t.get(e.v))==null?void 0:r.v)||""}}sy.create().setRef(kk).setNum(b7).setBool(S7);const OD=new Map([["SUM",A7],["ABS",E7],["ROUND",C7],["ROUNDUP",R7],["ROUNDDOWN",T7],["INT",N7],["MOD",_7],["SQRT",I7],["POWER",O7],["IF",D7],["IFS",M7],["SWITCH",P7],["AND",L7],["OR",F7],["NOT",k7],["AVERAGE",B7],["MIN",j7],["MAX",z7],["COUNT",U7],["COUNTA",V7],["COUNTIF",G7],["SUMIF",$7],["COUNTIFS",W7],["SUMIFS",H7],["TRIM",Y7],["LEN",q7],["LEFT",K7],["RIGHT",X7],["MID",Z7],["CONCATENATE",J7],["FIND",Q7],["SEARCH",eq],["TEXTJOIN",tq],["LOWER",nq],["UPPER",rq],["PROPER",iq],["SUBSTITUTE",oq],["TODAY",sq],["NOW",aq],["YEAR",lq],["MONTH",uq],["DAY",cq],["IFERROR",fq]]);function A7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0;for(const a of Fn.iterate(r,t,n)){if(a.t==="err")return a;i+=a.v}return{t:"num",v:i}}function E7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=Fn.map(t(i[0]),n);return a.t==="err"?a:{t:"num",v:Math.abs(a.v)}}function w7(e){return e>=0?Math.floor(e+.5):Math.ceil(e-.5)}function bR(e,t,n){if(!e)return{t:"num",v:0};const r=Fn.map(t(e),n);return r.t==="err"?r:{t:"num",v:Math.trunc(r.v)}}function a1(e){return e.t==="err"}function mg(e,t,n){const r=t(e);return r.t==="err"?r:r.t!=="ref"||!n?{t:"err",v:"#VALUE!"}:{t:"refs",v:Array.from(Da([r.v]))}}function Bk(e){const t=Number(e);return isNaN(t)?0:t}function l1(e,t){if(e.t==="err")return e;if(e.t==="num")return{op:"=",value:e.v.toString(),numericValue:e.v};if(e.t==="bool")return{op:"=",value:e.v?"TRUE":"FALSE",boolValue:e.v};const n=rr(e,t);if(n.t==="err")return n;const r=/^(<=|>=|<>|=|<|>)(.*)$/.exec(n.v),i=(r==null?void 0:r[1])||"=",a=r?r[2]:n.v;let l,u;if(a!==""){const g=Number(a);isNaN(g)?a.toUpperCase()==="TRUE"?u=!0:a.toUpperCase()==="FALSE"&&(u=!1):l=g}let c;return(i==="="||i==="<>")&&/(^|[^~])[*?]/.test(a)&&(c=new RegExp(`^${zk(a)}$`,"i")),{op:i,value:a,numericValue:l,boolValue:u,wildcardPattern:c}}function u1(e,t){const n=e===""?void 0:Number(e),r=n!==void 0&&!isNaN(n),i=e.toUpperCase(),a=i==="TRUE"?!0:i==="FALSE"?!1:void 0,l=e.toLowerCase(),u=t.value.toLowerCase();if(t.op==="<"||t.op==="<="||t.op===">"||t.op===">=")return t.numericValue!==void 0?r?t.op==="<"?n<t.numericValue:t.op==="<="?n<=t.numericValue:t.op===">"?n>t.numericValue:n>=t.numericValue:!1:t.op==="<"?l<u:t.op==="<="?l<=u:t.op===">"?l>u:l>=u;let c=!1;return t.wildcardPattern?c=t.wildcardPattern.test(e):t.numericValue!==void 0&&r?c=n===t.numericValue:t.boolValue!==void 0&&a!==void 0?c=a===t.boolValue:c=l===u,t.op==="="?c:!c}function C7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const a=Fn.map(t(i[0]),n);if(a.t==="err")return a;const l=bR(i[1],t,n);if(l.t==="err")return l;const u=10**l.v;return{t:"num",v:w7(a.v*u)/u}}function R7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const a=Fn.map(t(i[0]),n);if(a.t==="err")return a;const l=bR(i[1],t,n);if(l.t==="err")return l;const u=10**l.v,c=a.v*u;return{t:"num",v:(c>=0?Math.ceil(c):Math.floor(c))/u}}function T7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const a=Fn.map(t(i[0]),n);if(a.t==="err")return a;const l=bR(i[1],t,n);if(l.t==="err")return l;const u=10**l.v,c=a.v*u;return{t:"num",v:(c>=0?Math.floor(c):Math.ceil(c))/u}}function N7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=Fn.map(t(i[0]),n);return a.t==="err"?a:{t:"num",v:Math.floor(a.v)}}function _7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const a=Fn.map(t(i[0]),n);if(a.t==="err")return a;const l=Fn.map(t(i[1]),n);return l.t==="err"?l:l.v===0?{t:"err",v:"#VALUE!"}:{t:"num",v:a.v-l.v*Math.floor(a.v/l.v)}}function I7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=Fn.map(t(i[0]),n);return a.t==="err"?a:a.v<0?{t:"err",v:"#VALUE!"}:{t:"num",v:Math.sqrt(a.v)}}function O7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const a=Fn.map(t(i[0]),n);if(a.t==="err")return a;const l=Fn.map(t(i[1]),n);if(l.t==="err")return l;const u=Math.pow(a.v,l.v);return isFinite(u)?{t:"num",v:u}:{t:"err",v:"#VALUE!"}}function D7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const a=Pg.map(t(i[0]),n);return a.t==="err"?a:a.v?t(i[1]):i.length===3?t(i[2]):{t:"bool",v:!1}}function M7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length%2!==0)return{t:"err",v:"#N/A!"};for(let a=0;a<i.length;a+=2){const l=Pg.map(t(i[a]),n);if(l.t==="err")return l;if(l.v)return t(i[a+1])}return{t:"err",v:"#N/A!"}}function P7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);if(a.t==="err")return a;const l=i.length-1,u=l%2===1,c=u?(l-1)/2:l/2;for(let g=0;g<c;g++){const p=rr(t(i[1+g*2]),n);if(p.t==="err")return p;if(p.v===a.v)return t(i[2+g*2])}return u?t(i[i.length-1]):{t:"err",v:"#N/A!"}}function L7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const i of Pg.iterate(r,t,n)){if(i.t==="err")return i;if(!i.v)return{t:"bool",v:!1}}return{t:"bool",v:!0}}function F7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const i of Pg.iterate(r,t,n)){if(i.t==="err")return i;if(i.v)return{t:"bool",v:!0}}return{t:"bool",v:!1}}function k7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=Pg.map(t(i[0]),n);return a.t==="err"?a:{t:"bool",v:!a.v}}function B7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0,a=0;for(const l of Fn.iterate(r,t,n)){if(l.t==="err")return l;i+=l.v,a++}return a===0?{t:"err",v:"#VALUE!"}:{t:"num",v:i/a}}function j7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=1/0;for(const a of Fn.iterate(r,t,n)){if(a.t==="err")return a;a.v<i&&(i=a.v)}return{t:"num",v:i}}function z7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=-1/0;for(const a of Fn.iterate(r,t,n)){if(a.t==="err")return a;a.v>i&&(i=a.v)}return{t:"num",v:i}}function U7(e,t,n){var a,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0;for(const u of r.expr()){const c=t(u);if(c.t==="num")i++;else if(c.t==="bool")i++;else if(c.t==="ref"&&n)if(cf(c.v))for(const g of Da([c.v])){const p=((a=n.get(g))==null?void 0:a.v)||"";p!==""&&!isNaN(Number(p))&&i++}else{const g=((l=n.get(c.v))==null?void 0:l.v)||"";g!==""&&!isNaN(Number(g))&&i++}}return{t:"num",v:i}}function V7(e,t,n){var a,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0;for(const u of r.expr()){const c=t(u);if(c.t==="num"||c.t==="bool")i++;else if(c.t==="str")c.v!==""&&i++;else if(c.t==="ref"&&n)if(cf(c.v))for(const g of Da([c.v]))(((a=n.get(g))==null?void 0:a.v)||"")!==""&&i++;else(((l=n.get(c.v))==null?void 0:l.v)||"")!==""&&i++}return{t:"num",v:i}}function G7(e,t,n){var c;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const a=mg(i[0],t,n);if(a.t==="err")return a;const l=l1(t(i[1]),n);if(a1(l))return l;let u=0;for(const g of a.v){const p=((c=n==null?void 0:n.get(g))==null?void 0:c.v)||"";u1(p,l)&&u++}return{t:"num",v:u}}function $7(e,t,n){var g,p;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const a=mg(i[0],t,n);if(a.t==="err")return a;const l=l1(t(i[1]),n);if(a1(l))return l;const u=i.length===3?mg(i[2],t,n):a;if(u.t==="err")return u;if(a.v.length!==u.v.length)return{t:"err",v:"#VALUE!"};let c=0;for(let m=0;m<a.v.length;m++){const x=((g=n==null?void 0:n.get(a.v[m]))==null?void 0:g.v)||"";if(!u1(x,l))continue;const b=((p=n==null?void 0:n.get(u.v[m]))==null?void 0:p.v)||"";c+=Bk(b)}return{t:"num",v:c}}function W7(e,t,n){var g;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length%2!==0)return{t:"err",v:"#N/A!"};const a=[],l=[];for(let p=0;p<i.length;p+=2){const m=mg(i[p],t,n);if(m.t==="err")return m;a.push(m.v);const x=l1(t(i[p+1]),n);if(a1(x))return x;l.push(x)}const u=a[0].length;if(a.some(p=>p.length!==u))return{t:"err",v:"#VALUE!"};let c=0;for(let p=0;p<u;p++){let m=!0;for(let x=0;x<a.length;x++){const b=((g=n==null?void 0:n.get(a[x][p]))==null?void 0:g.v)||"";if(!u1(b,l[x])){m=!1;break}}m&&c++}return{t:"num",v:c}}function H7(e,t,n){var g,p;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3||(i.length-1)%2!==0)return{t:"err",v:"#N/A!"};const a=mg(i[0],t,n);if(a.t==="err")return a;const l=[],u=[];for(let m=1;m<i.length;m+=2){const x=mg(i[m],t,n);if(x.t==="err")return x;l.push(x.v);const b=l1(t(i[m+1]),n);if(a1(b))return b;u.push(b)}if(l.some(m=>m.length!==a.v.length))return{t:"err",v:"#VALUE!"};let c=0;for(let m=0;m<a.v.length;m++){let x=!0;for(let b=0;b<l.length;b++){const E=((g=n==null?void 0:n.get(l[b][m]))==null?void 0:g.v)||"";if(!u1(E,u[b])){x=!1;break}}x&&(c+=Bk(((p=n==null?void 0:n.get(a.v[m]))==null?void 0:p.v)||""))}return{t:"num",v:c}}function rr(e,t){return e.t==="err"||e.t==="str"?e:e.t==="num"?{t:"str",v:e.v.toString()}:e.t==="bool"?{t:"str",v:e.v?"TRUE":"FALSE"}:e.t==="ref"&&t?kk(e,t):{t:"err",v:"#VALUE!"}}function Y7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);return a.t==="err"?a:{t:"str",v:a.v.trim()}}function q7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);return a.t==="err"?a:{t:"num",v:a.v.length}}function K7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);if(a.t==="err")return a;let l=1;if(i.length===2){const u=Fn.map(t(i[1]),n);if(u.t==="err")return u;l=u.v}return{t:"str",v:a.v.slice(0,l)}}function X7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);if(a.t==="err")return a;let l=1;if(i.length===2){const u=Fn.map(t(i[1]),n);if(u.t==="err")return u;l=u.v}return{t:"str",v:a.v.slice(-l)}}function Z7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==3)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);if(a.t==="err")return a;const l=Fn.map(t(i[1]),n);if(l.t==="err")return l;const u=Fn.map(t(i[2]),n);if(u.t==="err")return u;const c=l.v-1;return{t:"str",v:a.v.slice(c,c+u.v)}}function J7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2)return{t:"err",v:"#N/A!"};let a="";for(const l of i){const u=rr(t(l),n);if(u.t==="err")return u;a+=u.v}return{t:"str",v:a}}function jk(e,t,n,r){if(!e)return{t:"num",v:1};const i=Fn.map(n(e),r);if(i.t==="err")return i;const a=Math.trunc(i.v);return a<1||a>t.length+1?{t:"err",v:"#VALUE!"}:{t:"num",v:a}}function Q7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);if(a.t==="err")return a;const l=rr(t(i[1]),n);if(l.t==="err")return l;const u=jk(i[2],l.v,t,n);if(u.t==="err")return u;if(a.v==="")return{t:"num",v:u.v};const c=l.v.indexOf(a.v,u.v-1);return c<0?{t:"err",v:"#VALUE!"}:{t:"num",v:c+1}}function zk(e){let t="";for(let n=0;n<e.length;n++){const r=e[n];if(r==="~"&&n+1<e.length){t+=e[n+1].replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n++;continue}if(r==="*"){t+=".*";continue}if(r==="?"){t+=".";continue}t+=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return t}function eq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);if(a.t==="err")return a;const l=rr(t(i[1]),n);if(l.t==="err")return l;const u=jk(i[2],l.v,t,n);if(u.t==="err")return u;if(a.v==="")return{t:"num",v:u.v};const c=zk(a.v),g=new RegExp(c,"i"),p=l.v.slice(u.v-1),m=g.exec(p);return!m||m.index===void 0?{t:"err",v:"#VALUE!"}:{t:"num",v:u.v+m.index}}function tq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);if(a.t==="err")return a;const l=Pg.map(t(i[1]),n);if(l.t==="err")return l;const u=[];for(const c of i.slice(2)){const g=t(c);if(g.t==="ref"&&n&&cf(g.v)){for(const m of Da([g.v])){const x=rr({t:"ref",v:m},n);if(x.t==="err")return x;l.v&&x.v===""||u.push(x.v)}continue}const p=rr(g,n);if(p.t==="err")return p;l.v&&p.v===""||u.push(p.v)}return{t:"str",v:u.join(a.v)}}function nq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);return a.t==="err"?a:{t:"str",v:a.v.toLowerCase()}}function rq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);return a.t==="err"?a:{t:"str",v:a.v.toUpperCase()}}function iq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);return a.t==="err"?a:{t:"str",v:a.v.toLowerCase().replace(/\b([a-z])([a-z]*)/g,(u,c,g)=>c.toUpperCase()+g)}}function oq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3||i.length>4)return{t:"err",v:"#N/A!"};const a=rr(t(i[0]),n);if(a.t==="err")return a;const l=rr(t(i[1]),n);if(l.t==="err")return l;const u=rr(t(i[2]),n);if(u.t==="err")return u;if(l.v==="")return{t:"str",v:a.v};if(i.length===3)return{t:"str",v:a.v.split(l.v).join(u.v)};const c=Fn.map(t(i[3]),n);if(c.t==="err")return c;const g=Math.trunc(c.v);if(g<=0)return{t:"err",v:"#VALUE!"};let p=0,m=0;for(;;){const x=a.v.indexOf(l.v,p);if(x<0)return{t:"str",v:a.v};if(m++,m===g)return{t:"str",v:a.v.slice(0,x)+u.v+a.v.slice(x+l.v.length)};p=x+l.v.length}}function sq(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const i=new Date,a=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),u=String(i.getDate()).padStart(2,"0");return{t:"str",v:`${a}-${l}-${u}`}}function aq(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const i=new Date,a=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),u=String(i.getDate()).padStart(2,"0"),c=String(i.getHours()).padStart(2,"0"),g=String(i.getMinutes()).padStart(2,"0"),p=String(i.getSeconds()).padStart(2,"0");return{t:"str",v:`${a}-${l}-${u} ${c}:${g}:${p}`}}function SR(e,t){const n=rr(e,t);if(n.t==="err")return n;const r=new Date(n.v);return isNaN(r.getTime())?{t:"err",v:"#VALUE!"}:r}function lq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=SR(t(i[0]),n);return a instanceof Date?{t:"num",v:a.getFullYear()}:a}function uq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=SR(t(i[0]),n);return a instanceof Date?{t:"num",v:a.getMonth()+1}:a}function cq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const a=SR(t(i[0]),n);return a instanceof Date?{t:"num",v:a.getDate()}:a}function fq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const a=t(i[0]);return a.t==="err"?t(i[1]):a}function vv(e){const t=pg.CharStreams.fromString(e.slice(1)),n=new gg(t),r=new pg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const i=new Set;for(const a of r.getTokens())a.type===_n.REFERENCE&&i.add(a.text.toUpperCase());return i}function ff(e){const t=pg.CharStreams.fromString(e.slice(1)),n=new gg(t),r=new pg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const i=[];for(const u of r.getTokens())u.type!=gg.EOF&&i.push({type:n.vocabulary.getSymbolicName(u.type)||"STRING",start:u.startIndex,stop:u.stopIndex,text:u.text});const a=[];let l;for(const u of i)!l&&u.start>0?a.push({type:"STRING",start:0,stop:u.start-1,text:e.slice(1,u.start+1)}):l&&l.stop+1!==u.start&&a.push({type:"STRING",start:l.stop+1,stop:u.start-1,text:e.slice(l.stop+2,u.start+1)}),a.push(u),l=u;return l&&l.stop+2<e.length&&a.push({type:"STRING",start:l.stop+1,stop:e.length-1,text:e.slice(l.stop+2)}),a}function Db(e){const t=ff(e),n=[];for(const r of t)if(r.type==="REFERENCE")try{const i=r.text.toUpperCase();if(ch(i))continue;if(i.includes(":"))n.push({text:i,range:kC(i)});else{const a=Pt(i);n.push({text:i,range:[a,a]})}}catch{}return n}function dq(e,t){if(!e.startsWith("=")||t<=0)return!1;if(t===1)return!0;const n=ff(e);for(const u of n){const c=u.start+1,g=u.stop+2;if(u.type==="REFERENCE"&&t>=c&&t<=g)return!0}const i=e.slice(0,t).trimEnd();if(i.length===0)return!1;const a=i[i.length-1];return new Set(["=","(",",","+","-","*","/","<",">",":"]).has(a)}function DD(e,t){if(!e.startsWith("="))return;const n=ff(e);for(const r of n){if(r.type!=="REFERENCE")continue;const i=r.start+1,a=r.stop+2;if(t>=i&&t<=a)return{start:i,end:a,text:r.text}}}function hq(e,t){var n;try{const r=pg.CharStreams.fromString(e.slice(1)),i=new gg(r),a=new pg.CommonTokenStream(i),l=new _n(a),u=l.expr(),c=new pq(t);i.removeErrorListeners(),l.removeErrorListeners();const g=c.visit(u);return g.t==="ref"&&t?cf(g.v)?"#VALUE!":((n=t.get(g.v))==null?void 0:n.v)||"":g.v.toString()}catch{return"#ERROR!"}}class pq{constructor(t){q(this,"grid");this.visit=this.visit.bind(this),this.grid=t}visitChildren(){throw new Error("Method not implemented.")}visitTerminal(){throw new Error("Method not implemented.")}visitErrorNode(){throw new Error("Method not implemented.")}visitFormula(){throw new Error("Method not implemented.")}visitExpr(){throw new Error("Method not implemented.")}visitArgs(){throw new Error("Method not implemented.")}visit(t){return t.accept(this)}visitFunction(t){const n=t.FUNCNAME().text.toUpperCase();if(OD.has(n))return OD.get(n)(t,this.visit,this.grid);throw new Error("Function not implemented.")}visitReference(t){return this.grid?{t:"ref",v:t.text.toUpperCase()}:{t:"err",v:"#REF!"}}visitParentheses(t){return this.visit(t.expr())}visitNumber(t){return{t:"num",v:Number(t.text)}}visitBoolean(t){return{t:"bool",v:t.text==="TRUE"||t.text==="true"}}visitAddSub(t){const n=Fn.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=Fn.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===_n.ADD?{t:"num",v:n.v+r.v}:{t:"num",v:n.v-r.v}}visitMulDiv(t){const n=Fn.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=Fn.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===_n.MUL?{t:"num",v:n.v*r.v}:{t:"num",v:n.v/r.v}}visitComparison(t){const n=Fn.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=Fn.map(this.visit(t.expr(1)),this.grid);if(r.t==="err")return r;switch(t._op.type){case _n.EQ:return{t:"bool",v:n.v===r.v};case _n.NEQ:return{t:"bool",v:n.v!==r.v};case _n.LT:return{t:"bool",v:n.v<r.v};case _n.GT:return{t:"bool",v:n.v>r.v};case _n.LTE:return{t:"bool",v:n.v<=r.v};case _n.GTE:return{t:"bool",v:n.v>=r.v};default:return{t:"err",v:"#ERROR!"}}}visitStr(t){return{t:"str",v:t.text.slice(1,-1)}}}function ef(e,t,n,r){const i=t+n;return r<=t?e>=t&&e<i?r+(e-t):e>=r&&e<t?e+n:e:e>=t&&e<i?r-n+(e-t):e>=i&&e<r?e-n:e}function Yc(e,t,n,r,i){return t==="row"?{r:ef(e.r,n,r,i),c:e.c}:{r:e.r,c:ef(e.c,n,r,i)}}function Uk(e,t,n,r,i){const a=ff(e);let l="=";for(const u of a)if(u.type==="REFERENCE"){const c=u.text;if(c.includes("!"))l+=c;else if(c.includes(":")){const[g,p]=c.split(":"),m=Pt(g.toUpperCase()),x=Pt(p.toUpperCase()),b=Yc(m,t,n,r,i),E=Yc(x,t,n,r,i);l+=at(b)+":"+at(E)}else{const g=Pt(c.toUpperCase()),p=Yc(g,t,n,r,i);l+=at(p)}}else l+=u.text;return l}function gq(e,t,n,r,i){const a=new Map;for(const[l,u]of e){const c=Pt(l),g=Yc(c,t,n,r,i),p=at(g);let m;u.f?m={...u,f:Uk(u.f,t,n,r,i)}:m={...u},a.set(p,m)}return a}function $p(e,t,n,r){const i=new Map;for(const[a,l]of e)i.set(ef(a,t,n,r),l);return i}function mq(e,t,n){const r=ff(e);let i="=";for(const a of r)if(a.type==="REFERENCE"){const l=a.text;if(l.includes("!"))i+=l;else if(l.includes(":")){const[u,c]=l.split(":"),g=Pt(u.toUpperCase()),p=Pt(c.toUpperCase()),m={r:g.r+t,c:g.c+n},x={r:p.r+t,c:p.c+n};m.r<1||m.c<1||x.r<1||x.c<1?i+="#REF!":i+=at(m)+":"+at(x)}else{const u=Pt(l.toUpperCase()),c={r:u.r+t,c:u.c+n};c.r<1||c.c<1?i+="#REF!":i+=at(c)}}else i+=a.text;return i}function Jb(e,t,n,r){const i=t==="row"?e.r:e.c;if(r>0)return i>=n?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e;const a=Math.abs(r);return i>=n&&i<n+a?null:i>=n+a?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e}function Vk(e,t,n,r){const i=Pt(e),a=Jb(i,t,n,r);return a?at(a):null}function Gk(e,t,n,r){const i=ff(e);let a="=";for(const l of i)if(l.type==="REFERENCE"){const u=l.text;if(u.includes("!"))a+=u;else if(u.includes(":")){const[c,g]=u.split(":"),p=Pt(c.toUpperCase()),m=Pt(g.toUpperCase()),x=Jb(p,t,n,r),b=Jb(m,t,n,r);!x||!b?a+="#REF!":a+=at(x)+":"+at(b)}else{const c=Pt(u.toUpperCase()),g=Jb(c,t,n,r);g?a+=at(g):a+="#REF!"}}else a+=l.text;return a}function Wp(e,t,n){const r=new Map;for(const[i,a]of e)if(n>0)i>=t?r.set(i+n,a):r.set(i,a);else{const l=Math.abs(n);i>=t&&i<t+l||(i>=t+l?r.set(i+n,a):r.set(i,a))}return r}function vq(e,t,n,r){const i=new Map;for(const[a,l]of e){const u=Vk(a,t,n,r);if(u===null)continue;let c;l.f?c={...l,f:Gk(l.f,t,n,r)}:c={...l},i.set(u,c)}return i}function Mb(e,t){return[{r:e.r,c:e.c},{r:e.r+t.rs-1,c:e.c+t.cs-1}]}function MD(e,t,n,r){if(r>0)return n<=e?[e+r,t+r]:n<=t?[e,t+r]:[e,t];const i=Math.abs(r),a=n,l=n+i-1;if(l<e)return[e+r,t+r];if(a>t)return[e,t];const u=Math.max(e,a),g=Math.min(t,l)-u+1,p=t-e+1-g;return p<=0?null:a<=e?[a,a+p-1]:[e,e+p-1]}function yq(e,t,n,r,i){const a=MD(e.r,e.r+t.rs-1,n==="row"?r:Number.NEGATIVE_INFINITY,n==="row"?i:0);if(!a)return null;const l=MD(e.c,e.c+t.cs-1,n==="column"?r:Number.NEGATIVE_INFINITY,n==="column"?i:0);if(!l)return null;const[u,c]=a,[g,p]=l,m=c-u+1,x=p-g+1;return m<=1&&x<=1?null:{anchor:{r:u,c:g},span:{rs:m,cs:x}}}function xq(e,t,n,r,i,a){const l=n==="row"?e.r+t.rs-1:e.c+t.cs-1,u=n==="row"?e.r:e.c,c=ef(u,r,i,a),g=ef(l,r,i,a),p=Math.min(c,g),x=Math.max(c,g)-p+1;if(n==="row"){const C=x,w=t.cs;return C<=1&&w<=1?null:{anchor:{r:p,c:e.c},span:{rs:C,cs:w}}}const b=t.rs,E=x;return b<=1&&E<=1?null:{anchor:{r:e.r,c:p},span:{rs:b,cs:E}}}function AR(e,t,n,r){const i=new Map;for(const[a,l]of e){const u=Pt(a),c=yq(u,l,t,n,r);c&&i.set(at(c.anchor),c.span)}return i}function ER(e,t,n,r,i){const a=new Map;for(const[l,u]of e){const c=Pt(l),g=xq(c,u,t,n,r,i);g&&a.set(at(g.anchor),g.span)}return a}function bq(e,t,n,r,i){const a=n==="row"?e.r:e.c,l=n==="row"?e.r+t.rs-1:e.c+t.cs-1,u=r+i-1;return l<r||a>u?!1:!(a>=r&&l<=u)}class PD{constructor(t){q(this,"customSizes");q(this,"defaultSize");this.defaultSize=t,this.customSizes=new Map}getSize(t){return this.customSizes.get(t)??this.defaultSize}setSize(t,n){n===this.defaultSize?this.customSizes.delete(t):this.customSizes.set(t,n)}getDefaultSize(){return this.defaultSize}getOffset(t){let n=(t-1)*this.defaultSize;for(const[r,i]of this.customSizes)r<t&&(n+=i-this.defaultSize);return n}findIndex(t){if(t<0)return 1;if(this.customSizes.size===0)return Math.floor(t/this.defaultSize)+1;const n=Array.from(this.customSizes.entries()).sort((a,l)=>a[0]-l[0]);let r=0,i=0;for(const[a,l]of n){const u=a-1-i,c=r+u*this.defaultSize;if(t<c)return i+Math.floor((t-r)/this.defaultSize)+1;if(r=c,t<r+l)return a;r+=l,i=a}return i+Math.floor((t-r)/this.defaultSize)+1}shift(t,n){const r=new Map;for(const[i,a]of this.customSizes)if(n>0)i>=t?r.set(i+n,a):r.set(i,a);else{const l=Math.abs(n);i>=t&&i<t+l||(i>=t+l?r.set(i+n,a):r.set(i,a))}this.customSizes=r}move(t,n,r){const i=new Map;for(const[a,l]of this.customSizes)i.set(ef(a,t,n,r),l);this.customSizes=i}clear(){this.customSizes.clear()}hasCustomSizes(){return this.customSizes.size>0}}class wR{constructor(){q(this,"rowIndex",new Map);q(this,"colIndex",new Map)}add(t,n){let r=this.rowIndex.get(t);r||(r=new Set,this.rowIndex.set(t,r)),r.add(n);let i=this.colIndex.get(n);i||(i=new Set,this.colIndex.set(n,i)),i.add(t)}remove(t,n){const r=this.rowIndex.get(t);r&&(r.delete(n),r.size===0&&this.rowIndex.delete(t));const i=this.colIndex.get(n);i&&(i.delete(t),i.size===0&&this.colIndex.delete(n))}has(t,n){const r=this.rowIndex.get(t);return r!==void 0&&r.has(n)}clear(){this.rowIndex.clear(),this.colIndex.clear()}rebuild(t){this.clear();for(const[n,r]of t)this.add(n,r)}*cellsInRange(t){const[n,r]=t;for(const[i,a]of this.rowIndex)if(!(i<n.r||i>r.r))for(const l of a)l>=n.c&&l<=r.c&&(yield[i,l])}hasAnyInRange(t){return!this.cellsInRange(t).next().done}getOccupiedColsInRow(t){return this.rowIndex.get(t)}getOccupiedRowsInCol(t){return this.colIndex.get(t)}get size(){let t=0;for(const n of this.rowIndex.values())t+=n.size;return t}}function CR(e,t,n,r,i){const a=n==="left"||n==="right",l=n==="down"||n==="right",u=a?t.c:t.r,c=a?r[0].c:r[0].r,g=a?r[1].c:r[1].r,p=a?e.getOccupiedColsInRow(t.r):e.getOccupiedRowsInCol(t.c);let m;if(p&&i){const R=new Set;for(const I of p){const N=a?t.r:I,D=a?I:t.c;i(N,D)&&R.add(I)}m=R.size>0?R:void 0}else m=p;if(!m||m.size===0)return LD(t,n,r);const x=Array.from(m).sort((R,I)=>R-I);l||x.reverse();const b=l?x.filter(R=>R>u):x.filter(R=>R<u),E=m.has(u),C=l?u+1:u-1,w=Vp(a?{r:t.r,c:C}:{r:C,c:t.c},r)&&m.has(C);if(E&&w){let R=u,I=C;for(;(l?I<=g:I>=c)&&m.has(I);)R=I,I=l?I+1:I-1;return a?{r:t.r,c:R}:{r:R,c:t.c}}if(b.length>0){const R=b[0];return a?{r:t.r,c:R}:{r:R,c:t.c}}return LD(t,n,r)}function LD(e,t,n){switch(t){case"up":return{r:n[0].r,c:e.c};case"down":return{r:n[1].r,c:e.c};case"left":return{r:e.r,c:n[0].c};case"right":return{r:e.r,c:n[1].c}}}class Sq{constructor(){q(this,"grid",new Map);q(this,"cellIndex",new wR)}loadQueryResults(t,n){this.grid.clear();for(let r=0;r<t.length;r++){const i=at({r:1,c:r+1});this.grid.set(i,{v:t[r].name,s:{b:!0}})}for(let r=0;r<n.length;r++){const i=n[r];for(let a=0;a<t.length;a++){const l=i[t[a].name];if(l==null)continue;const u=at({r:r+2,c:a+1});this.grid.set(u,{v:String(l)})}}this.rebuildIndex()}async set(t,n){}async get(t){return this.grid.get(at(t))}async has(t){return this.grid.has(at(t))}async delete(t){return!1}async deleteRange(t){return new Set}async setGrid(t){}async getGrid(t){const n=new Map;for(const[r,i]of this.cellIndex.cellsInRange(t)){const a=at({r,c:i}),l=this.grid.get(a);l!==void 0&&n.set(a,l)}return n}async findEdge(t,n,r){return CR(this.cellIndex,t,n,r,(i,a)=>{const l=this.grid.get(at({r:i,c:a}));return l!==void 0&&(!!l.v||!!l.f)})}async shiftCells(t,n,r){}async moveCells(t,n,r,i){}async buildDependantsMap(t){return new Map}async getFormulaGrid(){return new Map}getPresences(){return[]}updateActiveCell(t){}async setDimensionSize(t,n,r){}async getDimensionSizes(t){return new Map}async setColumnStyle(t,n){}async getColumnStyles(){return new Map}async setRowStyle(t,n){}async getRowStyles(){return new Map}async setSheetStyle(t){}async getSheetStyle(){}async setMerge(t,n){}async deleteMerge(t){return!1}async getMerges(){return new Map}async setFreezePane(t,n){}async getFreezePane(){return{frozenRows:0,frozenCols:0}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=Pt(t);return[n.r,n.c]}))}}async function _c(e,t,n){const[r,i]=Aq(t,n);for(const a of r){const l=Pt(a);if(!await e.hasFormula(l))continue;const u=await e.getCell(l);if(i.has(a)){await e.setCell(l,{v:"#REF!",f:u.f,s:u.s});continue}const c=vv(u.f),g=await e.fetchGridByReferences(c),p=await hq(u.f,g);await e.setCell(l,{v:p,f:u.f,s:u.s})}}function Aq(e,t){const n=[],r=new Set,i=new Set,a=new Set,l=u=>{if(a.has(u))for(const c of a)r.add(c);if(a.add(u),!i.has(u)){if(i.add(u),e.has(u))for(const c of e.get(u))l(c);n.push(u)}a.delete(u)};for(const u of t)l(u);return[n.reverse(),r]}function Eq(e){let t=1/0,n=1/0,r=0,i=0;for(const[l]of e.entries()){const{r:u,c}=Pt(l);t=Math.min(t,u),n=Math.min(n,c),r=Math.max(r,u),i=Math.max(i,c)}const a=Array.from({length:r-t+1},()=>Array(i-n+1).fill(""));for(const[l,u]of e.entries()){const{r:c,c:g}=Pt(l);a[c-t][g-n]=u.v||u.f||""}return a.map(l=>l.join("	")).join(`
`)}function wq(e,t){let n=e.r,r=e.c;const i=new Map,a=t.split(`
`);for(const l of a){const u=l.split("	");for(const c of u)i.set(at({r:n,c:r}),{v:c}),r+=1;n+=1,r=e.c}return i}function FD(e){const t=e.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);if(!t)return;const n=parseInt(t[1],10),r=parseInt(t[2],10),i=parseInt(t[3],10);if(!(n===255&&r===255&&i===255))return"#"+n.toString(16).padStart(2,"0")+r.toString(16).padStart(2,"0")+i.toString(16).padStart(2,"0")}function Cq(e){return e.includes("google-sheets-html-origin")||e.includes("data-sheets-value")||e.includes("urn:schemas-microsoft-com:office:excel")||e.includes('xmlns:x="urn:schemas-microsoft-com:office:excel"')}function Rq(e,t){const i=new DOMParser().parseFromString(e,"text/html").querySelector("table");if(!i)return new Map;const a=new Map,l=i.querySelectorAll("tr");for(let u=0;u<l.length;u++){const c=l[u].querySelectorAll("td, th");for(let g=0;g<c.length;g++){const p=c[g],m=p.textContent||"";if(!m&&!p.style.cssText)continue;const x={v:m},b={};let E=!1;const C=p.style.fontWeight;if((C==="bold"||C==="700")&&(b.b=!0,E=!0),p.style.fontStyle==="italic"&&(b.i=!0,E=!0),p.style.backgroundColor){const w=FD(p.style.backgroundColor);w&&(b.bg=w,E=!0)}if(p.style.color){const w=FD(p.style.color);w&&(b.tc=w,E=!0)}if(p.style.textAlign){const w=p.style.textAlign;(w==="left"||w==="center"||w==="right")&&(b.al=w,E=!0)}E&&(x.s=b),a.set(at({r:t.r+u,c:t.c+g}),x)}}return a}function $k(e,t,n){if(!t||t==="plain"||e==="")return e;const r=Number(e);if(isNaN(r))return e;const i=n??2;switch(t){case"number":return r.toLocaleString("en-US",{minimumFractionDigits:i,maximumFractionDigits:i});case"currency":return r.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:i,maximumFractionDigits:i});case"percent":return(r/100).toLocaleString("en-US",{style:"percent",minimumFractionDigits:i,maximumFractionDigits:i});default:return e}}const Tq={rows:1e6,columns:18278},Nq={b:!1,i:!1,u:!1,st:!1,al:"left",va:"top",nf:"plain",dp:2};class _q{constructor(t){q(this,"store");q(this,"dimension");q(this,"activeCell");q(this,"range");q(this,"selectionType","cell");q(this,"rowDimensions");q(this,"colDimensions");q(this,"frozenRows",0);q(this,"frozenCols",0);q(this,"colStyles",new Map);q(this,"rowStyles",new Map);q(this,"sheetStyle");q(this,"merges",new Map);q(this,"mergeCoverMap",new Map);q(this,"copyBuffer");q(this,"gridResolver");this.store=t,this.dimension={...Tq},this.activeCell={r:1,c:1}}get dimensionRange(){return[{r:1,c:1},{r:this.dimension.rows,c:this.dimension.columns}]}getDimension(){return this.dimension}setDimensions(t,n){this.rowDimensions=t,this.colDimensions=n}getRowDimensions(){return this.rowDimensions}getColDimensions(){return this.colDimensions}setRowHeight(t,n){var r;(r=this.rowDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("row",t,n)}setColumnWidth(t,n){var r;(r=this.colDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("column",t,n)}async loadDimensions(){if(this.rowDimensions){this.rowDimensions.clear();const t=await this.store.getDimensionSizes("row");for(const[n,r]of t)this.rowDimensions.setSize(n,r)}if(this.colDimensions){this.colDimensions.clear();const t=await this.store.getDimensionSizes("column");for(const[n,r]of t)this.colDimensions.setSize(n,r)}}getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n,await this.store.setFreezePane(t,n)}async loadFreezePane(){const{frozenRows:t,frozenCols:n}=await this.store.getFreezePane();this.frozenRows=t,this.frozenCols=n}async loadStyles(){this.colStyles=await this.store.getColumnStyles(),this.rowStyles=await this.store.getRowStyles(),this.sheetStyle=await this.store.getSheetStyle()}async loadMerges(){this.merges=await this.store.getMerges(),this.rebuildMergeCoverMap()}getColStyles(){return this.colStyles}getRowStyles(){return this.rowStyles}getSheetStyle(){return this.sheetStyle}getMerges(){return this.merges}rebuildMergeCoverMap(){this.mergeCoverMap.clear();for(const[t,n]of this.merges){const r=Pt(t);for(let i=r.r;i<r.r+n.rs;i++)for(let a=r.c;a<r.c+n.cs;a++){const l=at({r:i,c:a});l!==t&&this.mergeCoverMap.set(l,t)}}}getAnchorSrefForRef(t){const n=at(t);return this.merges.has(n)?n:this.mergeCoverMap.get(n)||n}normalizeRefToAnchor(t){return Pt(this.getAnchorSrefForRef(t))}getMergeForRef(t){const n=this.getAnchorSrefForRef(t),r=this.merges.get(n);if(!r)return;const i=Pt(n);return{anchorSref:n,anchor:i,span:r,range:Mb(i,r)}}expandRangeToMergedBoundaries(t){let n=nv(t),r=!0;for(;r;){r=!1;for(const[i,a]of this.merges){const l=Mb(Pt(i),a);if(!Vp(l[0],n)&&!Vp(l[1],n)&&!(l[0].r<=n[1].r&&l[1].r>=n[0].r&&l[0].c<=n[1].c&&l[1].c>=n[0].c))continue;const u=_D(n,l);Ow(u,n)||(n=u,r=!0)}}return n}*mergeCoveredSrefs(t,n){for(let r=t.r;r<t.r+n.rs;r++)for(let i=t.c;i<t.c+n.cs;i++)yield at({r,c:i})}expandChangedSrefsWithMergeAliases(t){const n=new Set;for(const r of t){const i=this.getAnchorSrefForRef(Pt(r)),a=this.merges.get(i);if(!a){n.add(r);continue}const l=Pt(i);for(const u of this.mergeCoveredSrefs(l,a))n.add(u)}return n}getMergesIntersecting(t){const n=[];for(const[r,i]of this.merges){const a=Pt(r),l=Mb(a,i);l[0].r<=t[1].r&&l[1].r>=t[0].r&&l[0].c<=t[1].c&&l[1].c>=t[0].c&&n.push({anchorSref:r,anchor:a,span:i,range:l})}return n}resolveEffectiveStyle(t,n,r){const i=this.sheetStyle,a=this.colStyles.get(n),l=this.rowStyles.get(t);if(!(!i&&!a&&!l&&!r))return{...i,...a,...l,...r}}async getCell(t){return this.store.get(this.normalizeRefToAnchor(t))}async setCell(t,n){await this.store.set(this.normalizeRefToAnchor(t),n)}async setGrid(t){await this.store.setGrid(t)}async hasFormula(t){const n=await this.getCell(t);return!!(n&&n.f)}async toInputString(t){const n=await this.getCell(t);return n?n.f?n.f:n.v||"":""}async toDisplayString(t){const n=this.normalizeRefToAnchor(t),r=await this.store.get(n);if(!r||!r.v)return"";const i=this.resolveEffectiveStyle(n.r,n.c,r.s);return $k(r.v,i==null?void 0:i.nf,i==null?void 0:i.dp)}async setData(t,n){const r=this.normalizeRefToAnchor(t);this.store.beginBatch();try{const i=await this.store.get(r),a=n.startsWith("=")?{f:n}:{v:n},l=i!=null&&i.s?{...a,s:i.s}:a;this.isEmptyCell(l)?await this.store.delete(r):await this.store.set(r,l);const u=this.expandChangedSrefsWithMergeAliases([at(r)]),c=await this.store.buildDependantsMap(u);await _c(this,c,u)}finally{this.store.endBatch()}}async removeData(){this.store.beginBatch();try{const t=this.getRangeOrActiveCell(),n=await this.store.getGrid(t),r=new Set;for(const[l,u]of n){const c=Pt(l);u.s&&Object.keys(u.s).length>0?await this.store.set(c,{s:u.s}):await this.store.delete(c),r.add(l)}if(r.size===0)return!1;const i=this.expandChangedSrefsWithMergeAliases(r),a=await this.store.buildDependantsMap(i);return await _c(this,a,i),!0}finally{this.store.endBatch()}}async insertRows(t,n=1){await this.shiftCells("row",t,n)}async deleteRows(t,n=1){await this.shiftCells("row",t,-n)}async insertColumns(t,n=1){await this.shiftCells("column",t,n)}async deleteColumns(t,n=1){await this.shiftCells("column",t,-n)}async moveRows(t,n,r){await this.moveCells("row",t,n,r)}async moveColumns(t,n,r){await this.moveCells("column",t,n,r)}async shiftCells(t,n,r){var a,l;await this.store.shiftCells(t,n,r),t==="row"?((a=this.rowDimensions)==null||a.shift(n,r),this.rowStyles=Wp(this.rowStyles,n,r)):((l=this.colDimensions)==null||l.shift(n,r),this.colStyles=Wp(this.colStyles,n,r)),this.merges=AR(this.merges,t,n,r),this.rebuildMergeCoverMap();const i=t==="row"?this.activeCell.r:this.activeCell.c;if(r>0&&i>=n)t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r};else if(r<0){const u=Math.abs(r);i>=n&&i<n+u?t==="row"?this.activeCell={r:Math.max(1,n),c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:Math.max(1,n)}:i>=n+u&&(t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r})}this.activeCell=this.normalizeRefToAnchor(this.activeCell),this.store.beginBatch();try{const u=t==="row"?this.frozenRows:this.frozenCols;if(u>0){if(r>0&&n<=u){const m=u+r;t==="row"?this.frozenRows=m:this.frozenCols=m,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}else if(r<0){const m=Math.abs(r);if(n<=u){const x=Math.min(m,u-n+1),b=Math.max(0,u-x);t==="row"?this.frozenRows=b:this.frozenCols=b,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}}}const c=new Set,g=[{r:1,c:1},{r:1e3,c:100}],p=await this.store.getGrid(g);for(const[m,x]of p)x.f&&c.add(m);if(c.size>0){const m=await this.store.buildDependantsMap(c);await _c(this,m,c)}}finally{this.store.endBatch()}}async moveCells(t,n,r,i){var a,l;if(!(i>=n&&i<=n+r)){for(const[u,c]of this.merges){const g=Pt(u);if(bq(g,c,t,n,r))return}await this.store.moveCells(t,n,r,i),t==="row"?((a=this.rowDimensions)==null||a.move(n,r,i),this.rowStyles=$p(this.rowStyles,n,r,i)):((l=this.colDimensions)==null||l.move(n,r,i),this.colStyles=$p(this.colStyles,n,r,i)),this.merges=ER(this.merges,t,n,r,i),this.rebuildMergeCoverMap(),this.activeCell=this.normalizeRefToAnchor(Yc(this.activeCell,t,n,r,i)),this.range&&(this.range=this.expandRangeToMergedBoundaries([Yc(this.range[0],t,n,r,i),Yc(this.range[1],t,n,r,i)])),this.store.beginBatch();try{const u=new Set,c=[{r:1,c:1},{r:1e3,c:100}],g=await this.store.getGrid(c);for(const[p,m]of g)m.f&&u.add(p);if(u.size>0){const p=await this.store.buildDependantsMap(u);await _c(this,p,u)}}finally{this.store.endBatch()}}}async fetchGrid(t){return this.store.getGrid(t)}isEmptyCell(t){const n=t.v!==void 0&&t.v!==""&&t.v!==null,r=!!t.f,i=t.s!==void 0&&Object.keys(t.s).length>0;return!n&&!r&&!i}isDefaultStyleValue(t,n){return Nq[t]===n}compactCell(t,n){const r={};return t.v!==void 0&&(r.v=t.v),t.f!==void 0&&(r.f=t.f),n&&Object.keys(n).length>0&&(r.s=n),r}getCopyRange(){var t;return(t=this.copyBuffer)==null?void 0:t.sourceRange}clearCopyBuffer(){this.copyBuffer=void 0}async copy(){const t=this.getRangeOrActiveCell(),n=await this.fetchGrid(t),r=Eq(n);return this.copyBuffer={sourceRange:t,grid:n,text:r},{text:r}}async paste(t){const{text:n,html:r}=t;let i;if(this.copyBuffer&&n===this.copyBuffer.text)i=this.relocateGrid(this.copyBuffer.grid,this.copyBuffer.sourceRange,this.activeCell);else if(r&&Cq(r))i=Rq(r,this.activeCell);else if(n)i=wq(this.activeCell,n);else return;this.store.beginBatch();try{await this.setGrid(i);const a=new Set;for(const[l]of i)a.add(l);if(a.size>0){const l=this.expandChangedSrefsWithMergeAliases(a),u=await this.store.buildDependantsMap(l);await _c(this,u,l)}}finally{this.store.endBatch()}this.selectPastedRange(i)}selectPastedRange(t){if(t.size===0)return;let n=1/0,r=-1/0,i=1/0,a=-1/0;for(const l of t.keys()){const u=Pt(l);u.r<n&&(n=u.r),u.r>r&&(r=u.r),u.c<i&&(i=u.c),u.c>a&&(a=u.c)}n===r&&i===a?this.selectStart({r:n,c:i}):(this.selectionType="cell",this.activeCell={r:n,c:i},this.range=[{r:n,c:i},{r,c:a}],this.store.updateActiveCell(this.activeCell))}relocateGrid(t,n,r){const i=r.r-n[0].r,a=r.c-n[0].c,l=new Map;for(const[u,c]of t){const g=Pt(u),p={r:g.r+i,c:g.c+a},m=at(p);if(c.f){const x=mq(c.f,i,a);l.set(m,{f:x,s:c.s})}else l.set(m,{...c})}return l}async hasContents(t){return(await this.store.getGrid(t)).size>0}async fetchGridByReferences(t){const n=new Map,r=new Map;for(const i of Da(t))if(ch(i)){const{sheetName:a,localRef:l}=Fk(i);r.has(a.toUpperCase())||r.set(a.toUpperCase(),new Set),r.get(a.toUpperCase()).add(l)}else{const a=this.normalizeRefToAnchor(Pt(i)),l=await this.store.get(a);l&&n.set(i,l)}if(this.gridResolver&&r.size>0)for(const[i,a]of r){const l=this.gridResolver(i,a);if(l)for(const[u,c]of l)n.set(`${i}!${u}`,c)}return n}setGridResolver(t){this.gridResolver=t}async recalculateCrossSheetFormulas(){const t=await this.store.getFormulaGrid(),n=new Set;for(const[r]of t)n.add(r);if(n.size!==0){this.store.beginBatch();try{const r=await this.store.buildDependantsMap(n);await _c(this,r,n)}finally{this.store.endBatch()}}}getActiveCell(){return this.activeCell}setActiveCell(t){const n=this.normalizeRefToAnchor(t);this.activeCell=n,this.store.updateActiveCell(n)}getRange(){return this.range}getPresences(){return this.store.getPresences()}getRangeOrActiveCell(){if(this.range)return this.expandRangeToMergedBoundaries(this.range);const t=this.getMergeForRef(this.activeCell);return t?t.range:[this.activeCell,this.activeCell]}getSelectionType(){return this.selectionType}selectRow(t){this.selectionType="row",this.activeCell={r:t,c:1},this.range=[{r:t,c:1},{r:t,c:this.dimension.columns}],this.store.updateActiveCell(this.activeCell)}selectColumn(t){this.selectionType="column",this.activeCell={r:1,c:t},this.range=[{r:1,c:t},{r:this.dimension.rows,c:t}],this.store.updateActiveCell(this.activeCell)}selectRowRange(t,n){this.selectionType="row";const r=Math.min(t,n),i=Math.max(t,n);this.range=[{r,c:1},{r:i,c:this.dimension.columns}]}selectColumnRange(t,n){this.selectionType="column";const r=Math.min(t,n),i=Math.max(t,n);this.range=[{r:1,c:r},{r:this.dimension.rows,c:i}]}selectAllCells(){this.selectionType="all",this.activeCell={r:1,c:1},this.range=nv(this.dimensionRange),this.store.updateActiveCell(this.activeCell)}getSelectedIndices(){return this.selectionType==="cell"||this.selectionType==="all"||!this.range?null:this.selectionType==="row"?{axis:"row",from:this.range[0].r,to:this.range[1].r}:{axis:"column",from:this.range[0].c,to:this.range[1].c}}selectStart(t){Vp(t,this.dimensionRange)&&(this.selectionType="cell",this.setActiveCell(this.normalizeRefToAnchor(t)),this.range=void 0)}selectEnd(t){if(!Vp(t,this.dimensionRange))return;const n=this.normalizeRefToAnchor(t);if(mv(this.activeCell,n)){this.range=void 0;return}this.range=this.expandRangeToMergedBoundaries(ND(this.activeCell,n))}hasRange(){return!!this.range}async selectAll(){let t=this.getRangeOrActiveCell(),n=nv(t),r=!0;for(;r;){r=!1;for(const i of h7(n,this.dimensionRange))await this.hasContents(i)&&(n=_D(n,i),r=!0)}if(Ow(t,n)){this.range=nv(this.dimensionRange);return}this.range=n}async moveToEdge(t){const n=this.getMergeForRef(this.activeCell),r={...this.activeCell};n&&(t==="right"?r.c=n.range[1].c:t==="down"&&(r.r=n.range[1].r));const i=await this.store.findEdge(r,t,this.dimensionRange),a=this.normalizeRefToAnchor(i);return mv(this.activeCell,a)?!1:(this.range=void 0,this.setActiveCell(a),!0)}move(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let i=this.activeCell.r,a=this.activeCell.c;const l=this.getMergeForRef(this.activeCell);if(l?t==="right"?a=l.range[1].c+1:t==="down"?i=l.range[1].r+1:t==="left"?a-=1:i-=1:(i+=n,a+=r),!Vp({r:i,c:a},this.dimensionRange))return!1;const u=this.normalizeRefToAnchor({r:i,c:a});return mv(this.activeCell,u)?!1:(this.range=void 0,this.setActiveCell(u),!0)}resizeRange(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let i=nv(this.getRangeOrActiveCell());return this.activeCell.r===i[1].r?i[0].r+=n:i[1].r+=n,this.activeCell.c===i[1].c?i[0].c+=r:i[1].c+=r,i=ND(i[0],i[1]),d7(i,this.dimensionRange)?(this.range=this.expandRangeToMergedBoundaries(i),!0):!1}async getStyle(t){const n=this.normalizeRefToAnchor(t),r=await this.store.get(n);return this.resolveEffectiveStyle(n.r,n.c,r==null?void 0:r.s)}async setStyle(t,n){const r=this.normalizeRefToAnchor(t),i=await this.store.get(r)||{},a={...i.s,...n},l=this.resolveEffectiveStyle(r.r,r.c);for(const c of Object.keys(a))(a[c]===void 0||a[c]==="")&&delete a[c];for(const c of Object.keys(a)){const g=a[c];if(g===(l==null?void 0:l[c])){delete a[c];continue}(l==null?void 0:l[c])===void 0&&this.isDefaultStyleValue(c,g)&&delete a[c]}const u=this.compactCell(i,Object.keys(a).length>0?a:void 0);if(this.isEmptyCell(u)){await this.store.delete(r);return}await this.store.set(r,u)}async setRangeStyle(t){this.store.beginBatch();try{if(this.selectionType==="column"){const r=this.getRangeOrActiveCell();for(let i=r[0].c;i<=r[1].c;i++){const l={...this.colStyles.get(i)||{},...t};for(const u of Object.keys(l))!l[u]&&l[u]!==0&&delete l[u];this.colStyles.set(i,l),await this.store.setColumnStyle(i,l)}return}if(this.selectionType==="row"){const r=this.getRangeOrActiveCell();for(let i=r[0].r;i<=r[1].r;i++){const l={...this.rowStyles.get(i)||{},...t};for(const u of Object.keys(l))!l[u]&&l[u]!==0&&delete l[u];this.rowStyles.set(i,l),await this.store.setRowStyle(i,l)}return}if(this.selectionType==="all"){const i={...this.sheetStyle||{},...t};for(const a of Object.keys(i))!i[a]&&i[a]!==0&&delete i[a];this.sheetStyle=i,await this.store.setSheetStyle(i);return}const n=this.getRangeOrActiveCell();for(let r=n[0].r;r<=n[1].r;r++)for(let i=n[0].c;i<=n[1].c;i++)await this.setStyle({r,c:i},t)}finally{this.store.endBatch()}}async toggleRangeStyle(t){const n=await this.getStyle(this.activeCell),r=!(n!=null&&n[t]);await this.setRangeStyle({[t]:r})}isSelectionMerged(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell(),n=this.getMergesIntersecting(t);return n.length===1&&Ow(n[0].range,t)}canMergeSelection(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell();if(t[0].r===t[1].r&&t[0].c===t[1].c)return!1;const r=this.frozenRows>0&&t[0].r<=this.frozenRows&&t[1].r>this.frozenRows,i=this.frozenCols>0&&t[0].c<=this.frozenCols&&t[1].c>this.frozenCols;return r||i?!1:this.getMergesIntersecting(t).length===0}async toggleMergeSelection(){return this.isSelectionMerged()?this.unmergeSelection():this.mergeSelection()}async mergeSelection(){if(!this.canMergeSelection())return!1;const t=this.getRangeOrActiveCell(),n=t[0],r={rs:t[1].r-t[0].r+1,cs:t[1].c-t[0].c+1},i=new Set;for(const a of this.mergeCoveredSrefs(n,r))i.add(a);this.store.beginBatch();try{for(let u=t[0].r;u<=t[1].r;u++)for(let c=t[0].c;c<=t[1].c;c++){if(u===n.r&&c===n.c)continue;const g={r:u,c},p=await this.store.get(g);p&&(p.s&&Object.keys(p.s).length>0?await this.store.set(g,{s:p.s}):await this.store.delete(g))}await this.store.setMerge(n,r),this.merges.set(at(n),r),this.rebuildMergeCoverMap();const a=this.expandChangedSrefsWithMergeAliases(i),l=await this.store.buildDependantsMap(a);await _c(this,l,a)}finally{this.store.endBatch()}return this.selectionType="cell",this.setActiveCell(n),this.range=Mb(n,r),!0}async unmergeSelection(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell(),n=this.getMergesIntersecting(t);if(n.length===0)return!1;const r=new Set;for(const i of n)for(const a of this.mergeCoveredSrefs(i.anchor,i.span))r.add(a);this.store.beginBatch();try{for(const l of n)await this.store.deleteMerge(l.anchor),this.merges.delete(l.anchorSref);this.rebuildMergeCoverMap();const i=this.expandChangedSrefsWithMergeAliases(r),a=await this.store.buildDependantsMap(i);await _c(this,a,i)}finally{this.store.endBatch()}return this.selectionType="cell",this.range=void 0,!0}async getActiveDecimalPlaces(){const t=await this.getStyle(this.activeCell);return(t==null?void 0:t.dp)??2}async undo(){const t=await this.store.undo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadMerges(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}async redo(){const t=await this.store.redo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadMerges(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}moveInRange(t,n){const r=this.range||this.dimensionRange;let i=this.activeCell.r,a=this.activeCell.c;const l=this.getMergeForRef(this.activeCell),u=r[1].r-r[0].r+1,c=r[1].c-r[0].c+1;if(t!==0){const g=t>0?l?l.span.rs:t:t<0?-1:0;i+g>r[1].r?(i=r[0].r,a=(a+1-r[0].c+c)%c+r[0].c):i+g<r[0].r?(i=r[1].r,a=(a-1-r[0].c+c)%c+r[0].c):i+=g}if(n!==0){const g=n>0?l?l.span.cs:n:n<0?-1:0;a+g>r[1].c?(a=r[0].c,i=(i+1-r[0].r+u)%u+r[0].r):a+g<r[0].c?(a=r[1].c,i=(i-1-r[0].r+u)%u+r[0].r):a+=g}this.setActiveCell(this.normalizeRefToAnchor({r:i,c:a}))}}class Iq{constructor(t){q(this,"grid");q(this,"cellIndex",new wR);q(this,"rowHeights",new Map);q(this,"colWidths",new Map);q(this,"colStyles",new Map);q(this,"rowStyles",new Map);q(this,"sheetStyle");q(this,"merges",new Map);q(this,"frozenRows",0);q(this,"frozenCols",0);this.grid=t||new Map,this.rebuildIndex()}async set(t,n){this.grid.set(at(t),n),this.cellIndex.add(t.r,t.c)}async get(t){return this.grid.get(at(t))}async has(t){return this.grid.has(at(t))}async delete(t){const n=this.grid.delete(at(t));return n&&this.cellIndex.remove(t.r,t.c),n}async deleteRange(t){const n=new Set,r=[];for(const[i,a]of this.cellIndex.cellsInRange(t)){const l=at({r:i,c:a});this.grid.delete(l),n.add(l),r.push([i,a])}for(const[i,a]of r)this.cellIndex.remove(i,a);return n}async setGrid(t){for(const[n,r]of t){this.grid.set(n,r);const i=Pt(n);this.cellIndex.add(i.r,i.c)}}async getGrid(t){const n=new Map;for(const[r,i]of this.cellIndex.cellsInRange(t)){const a=at({r,c:i}),l=this.grid.get(a);l!==void 0&&n.set(a,l)}return n}async findEdge(t,n,r){return CR(this.cellIndex,t,n,r,(i,a)=>{const l=this.grid.get(at({r:i,c:a}));return l!==void 0&&(!!l.v||!!l.f)})}async shiftCells(t,n,r){this.grid=vq(this.grid,t,n,r),this.rebuildIndex(),t==="row"?(this.rowHeights=Wp(this.rowHeights,n,r),this.rowStyles=Wp(this.rowStyles,n,r)):(this.colWidths=Wp(this.colWidths,n,r),this.colStyles=Wp(this.colStyles,n,r)),this.merges=AR(this.merges,t,n,r)}async moveCells(t,n,r,i){this.grid=gq(this.grid,t,n,r,i),this.rebuildIndex(),t==="row"?(this.rowHeights=$p(this.rowHeights,n,r,i),this.rowStyles=$p(this.rowStyles,n,r,i)):(this.colWidths=$p(this.colWidths,n,r,i),this.colStyles=$p(this.colStyles,n,r,i)),this.merges=ER(this.merges,t,n,r,i)}async getFormulaGrid(){const t=new Map;for(const[n,r]of this.grid)r.f&&t.set(n,r);return t}async buildDependantsMap(t){const n=Array.from(this.grid.entries()),r=new Map;for(const[i,a]of n)if(a.f)for(const l of Da(vv(a.f)))ch(l)||(r.has(l)||r.set(l,new Set),r.get(l).add(i));return r}getPresences(){return[]}async setDimensionSize(t,n,r){(t==="row"?this.rowHeights:this.colWidths).set(n,r)}async getDimensionSizes(t){return new Map(t==="row"?this.rowHeights:this.colWidths)}updateActiveCell(t){}async setColumnStyle(t,n){this.colStyles.set(t,n)}async getColumnStyles(){return new Map(this.colStyles)}async setRowStyle(t,n){this.rowStyles.set(t,n)}async getRowStyles(){return new Map(this.rowStyles)}async setSheetStyle(t){this.sheetStyle=t}async getSheetStyle(){return this.sheetStyle?{...this.sheetStyle}:void 0}async setMerge(t,n){this.merges.set(at(t),{...n})}async deleteMerge(t){return this.merges.delete(at(t))}async getMerges(){return new Map(this.merges)}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n}async getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=Pt(t);return[n.r,n.c]}))}}const Oq={cellBorderColor:"#D3D3D3",cellBGColor:"#FFFFFF",cellTextColor:"#000000",activeCellColor:"#E6C746",selectionBGColor:"rgba(230, 199, 70, 0.1)",headerBGColor:"#F0F0F0",headerActiveBGColor:"#E6C746","tokens.REFERENCE":"#E6C746","tokens.NUM":"#4DA6FF",peerCursor1:"#FF6B6B",peerCursor2:"#4ECDC4",peerCursor3:"#45B7D1",peerCursor4:"#96CEB4",peerCursor5:"#FFEAA7",peerCursor6:"#DDA0DD",peerCursor7:"#98D8C8",peerCursor8:"#F7DC6F",resizeHandleColor:"#1A73E8",headerSelectedBGColor:"rgba(26, 115, 232, 0.3)",dropIndicatorColor:"#1A73E8",freezeLineColor:"#BBBBBB",freezeHandleColor:"#9E9E9E",freezeHandleHoverColor:"#5F6368",formulaRange1:"#1A73E8",formulaRange2:"#E84C3D",formulaRange3:"#9B59B6",formulaRange4:"#27AE60",formulaRange5:"#F39C12",formulaRange6:"#00ACC1"},Dq={cellBorderColor:"#4A4A4A",cellBGColor:"#1E1E1E",cellTextColor:"#FFFFFF",activeCellColor:"#D4B73E",selectionBGColor:"rgba(212, 183, 62, 0.1)",headerBGColor:"#2D2D2D",headerActiveBGColor:"#D4B73E","tokens.REFERENCE":"#D4B73E","tokens.NUM":"#4DA6FF",peerCursor1:"#FF7979",peerCursor2:"#55EFC4",peerCursor3:"#74B9FF",peerCursor4:"#A4D4C4",peerCursor5:"#FDCB6E",peerCursor6:"#E17055",peerCursor7:"#81ECEC",peerCursor8:"#F8D84F",resizeHandleColor:"#8AB4F8",headerSelectedBGColor:"rgba(138, 180, 248, 0.3)",dropIndicatorColor:"#8AB4F8",freezeLineColor:"#5A5A5A",freezeHandleColor:"#8E8E8E",freezeHandleHoverColor:"#CCCCCC",formulaRange1:"#8AB4F8",formulaRange2:"#FF7979",formulaRange3:"#BB86FC",formulaRange4:"#66BB6A",formulaRange5:"#FFB74D",formulaRange6:"#4DD0E1"};function Xn(e,t){return e==="light"?Oq[t]:Dq[t]}const kD=["formulaRange1","formulaRange2","formulaRange3","formulaRange4","formulaRange5","formulaRange6"];function gS(e,t){return Xn(e,kD[t%kD.length])}function BD(e,t){const n=["peerCursor1","peerCursor2","peerCursor3","peerCursor4","peerCursor5","peerCursor6","peerCursor7","peerCursor8"];let r=0;for(let a=0;a<t.length;a++){const l=t.charCodeAt(a);r=(r<<5)-r+l,r=r&r}const i=Math.abs(r)%n.length;return Xn(e,n[i])}function th(e){const t=window.getSelection();if(t.rangeCount===0)return;const n=t.getRangeAt(0);if(!e.contains(n.commonAncestorContainer))return;let r=0,i=0,a=0;function l(u){if(u.nodeType===Node.TEXT_NODE){const c=u.textContent;u===n.startContainer&&(i=r+n.startOffset),u===n.endContainer&&(a=r+n.endOffset),r+=c.length}for(const c of u.childNodes)l(c)}return l(e),{start:i,end:a}}function Xp(e,t){let n=0,r=null,i=null;const a=document.createRange();function l(c){if(c.nodeType===Node.TEXT_NODE){const g=c.textContent;r===null&&n+g.length>=t.start&&(r=c,a.setStart(c,t.start-n)),i===null&&n+g.length>=t.end&&(i=c,a.setEnd(c,t.end-n)),n+=g.length}for(const g of c.childNodes)l(g)}l(e);const u=window.getSelection();u.removeAllRanges(),u.addRange(a),e.focus()}function Wk(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#039;"),e=e.replace(/\n/g,"<br>"),e=e.replace(/ /g,"&nbsp;"),e}const Hk=23,Yk=10;class Mq{constructor(t="light"){q(this,"sheet");q(this,"theme");q(this,"container");q(this,"cellLabel");q(this,"formulaInput");q(this,"boundRenderInput");this.theme=t,this.container=document.createElement("div"),this.container.style.height=`${Hk}px`,this.container.style.margin=`${Yk}px 0px`,this.container.style.display="flex",this.container.style.alignItems="center",this.container.style.borderTop=`1px solid ${Xn(this.theme,"cellBorderColor")}`,this.container.style.borderBottom=`1px solid ${Xn(this.theme,"cellBorderColor")}`,this.container.style.justifyContent="flex-start",this.cellLabel=document.createElement("div"),this.cellLabel.style.width="120px",this.cellLabel.style.textAlign="center",this.cellLabel.style.font="12px Arial",this.cellLabel.style.borderRight=`1px solid ${Xn(this.theme,"cellBorderColor")}`,this.container.appendChild(this.cellLabel),this.formulaInput=document.createElement("div"),this.formulaInput.contentEditable="true",this.formulaInput.style.margin="0 20px",this.formulaInput.style.width="100%",this.formulaInput.style.height="12px",this.formulaInput.style.border="none",this.formulaInput.style.font="12px Arial",this.formulaInput.style.outline="none",this.formulaInput.style.overflow="hidden",this.formulaInput.style.whiteSpace="nowrap",this.formulaInput.style.lineHeight="12px",this.container.appendChild(this.formulaInput),this.boundRenderInput=this.renderInput.bind(this),this.formulaInput.addEventListener("input",this.boundRenderInput)}getContainer(){return this.container}initialize(t){this.sheet=t}cleanup(){this.formulaInput.removeEventListener("input",this.boundRenderInput),this.sheet=void 0,this.container.remove()}async render(){if(!this.sheet)return;const t=this.sheet.getActiveCell(),n=this.sheet.getSelectionType(),r=this.sheet.getSelectedIndices();let i;if(n==="row"&&r)i=`${r.from}:${r.to}`;else if(n==="column"&&r){const a=Tv(r.from),l=Tv(r.to);i=`${a}:${l}`}else{const a=this.sheet.getRange();i=a?p7(a):at(t)}this.cellLabel.textContent=i,this.formulaInput.innerText=await this.sheet.toInputString(t),this.renderInput()}getFormulaInput(){return this.formulaInput}getValue(){return this.formulaInput.innerText}setValue(t){this.formulaInput.innerText=t,this.renderInput()}focus(){this.formulaInput.focus()}blur(){this.formulaInput.blur()}isFocused(){return document.activeElement===this.formulaInput}renderInput(){const t=this.formulaInput.innerText;if(!t.startsWith("="))return;const n=ff(t),r=[];let i=0;for(const l of n){if(l.type==="REFERENCE"){r.push(`<span style="color: ${gS(this.theme,i)}">${l.text}</span>`),i++;continue}if(l.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${l.text}</span>`);continue}r.push(Wk(l.text))}const a=th(this.formulaInput);this.formulaInput.innerHTML="="+r.join(""),a&&Xp(this.formulaInput,a)}getThemeColor(t){return Xn(this.theme,t)}}const Ma=100,et=23,it=50,Lc=13,mS=1.5,Dw=4,BC=5,Mw=.5,Pq="center",qk=4,Lq=10;function zn(e,t={left:0,top:0},n,r){const i=r?r.getOffset(e.c):(e.c-1)*Ma,a=n?n.getOffset(e.r):(e.r-1)*et,l=r?r.getSize(e.c):Ma,u=n?n.getSize(e.r):et;return{left:i+it-t.left,top:a+et-t.top,width:l,height:u}}function rv(e,t){const n=Math.min(e.left,t.left),r=Math.min(e.top,t.top),i=Math.max(e.left+e.width,t.left+t.width),a=Math.max(e.top+e.height,t.top+t.height);return{left:n,top:r,width:i-n,height:a-r}}const c1={frozenRows:0,frozenCols:0,frozenWidth:0,frozenHeight:0};function Fq(e,t,n,r){return e===0&&t===0?c1:{frozenRows:e,frozenCols:t,frozenWidth:t>0?r.getOffset(t+1):0,frozenHeight:e>0?n.getOffset(e+1):0}}function kq(e,t,n,r){const i=n?n.findIndex(t-et):Math.floor(t/et),a=r?r.findIndex(e-it):Math.floor((e+it)/Ma);return{r:i,c:a}}function Bq(e,t,n,r,i,a){const l=a.frozenCols>0&&e<it+a.frozenWidth,u=a.frozenRows>0&&t<et+a.frozenHeight,c=l?e-it:e-it-a.frozenWidth+i.getOffset(a.frozenCols+1)+n.left,g=u?t-et:t-et-a.frozenHeight+r.getOffset(a.frozenRows+1)+n.top,p=i.findIndex(c),m=r.findIndex(g);return{r:Math.max(1,m),c:Math.max(1,p)}}function jD(e,t,n,r,i){const a=r.getOffset(e.c),l=n.getOffset(e.r),u=r.getSize(e.c),c=n.getSize(e.r),g=i.frozenCols>0&&e.c<=i.frozenCols,p=i.frozenRows>0&&e.r<=i.frozenRows,m=g?a+it:a+it-t.left-r.getOffset(i.frozenCols+1)+i.frozenWidth,x=p?l+et:l+et-t.top-n.getOffset(i.frozenRows+1)+i.frozenHeight;return{left:m,top:x,width:u,height:c}}class jq{constructor(t="light"){q(this,"container");q(this,"input");q(this,"theme");q(this,"boundHandleInput");q(this,"minWidth",Ma);q(this,"minHeight",et);q(this,"maxWidth",1/0);q(this,"maxHeight",1/0);q(this,"composing",!1);this.theme=t,this.container=document.createElement("div"),this.container.style.position="absolute",this.container.style.left="-1000px",this.container.style.width=Ma+"px",this.container.style.height=et+"px",this.container.style.zIndex="1",this.container.style.margin="0px",this.container.style.pointerEvents="none",this.input=document.createElement("div"),this.input.contentEditable="true",this.input.style.border="none",this.input.style.outline=`2px solid ${this.getThemeColor("activeCellColor")}`,this.input.style.fontFamily="Arial, sans-serif",this.input.style.fontSize=Lc+"px",this.input.style.fontWeight="normal",this.input.style.lineHeight=String(mS),this.input.style.color=this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=this.getThemeColor("cellBGColor"),this.input.style.whiteSpace="pre",this.input.style.overflow="hidden",this.container.appendChild(this.input),this.boundHandleInput=this.handleInput.bind(this),this.input.addEventListener("input",this.boundHandleInput),this.input.addEventListener("compositionstart",()=>{this.composing=!0}),this.input.addEventListener("compositionend",()=>{this.composing=!1,this.adjustSize()})}cleanup(){this.input.removeEventListener("input",this.boundHandleInput),this.container.remove()}getContainer(){return this.container}getInput(){return this.input}show(t,n,r="",i=!0,a,l,u,c){this.minWidth=a??Ma,this.minHeight=l??et,this.maxWidth=u??1/0,this.maxHeight=c??1/0,this.container.style.left=t+"px",this.container.style.top=n+"px",this.container.style.pointerEvents="auto",this.input.innerText=r,this.renderInput(),this.adjustSize(),i&&(Xp(this.input,{start:this.input.innerText.length,end:this.input.innerText.length}),this.input.focus())}hide(){this.container.style.left="-1000px",this.container.style.pointerEvents="none",this.input.innerText="",this.input.blur()}isShown(){return this.container.style.left!=="-1000px"}isFocused(){return document.activeElement===this.input}getValue(){return this.input.innerText}setValue(t){this.input.innerText=t,this.renderInput(),this.adjustSize()}hasFormula(){return this.input.innerText.startsWith("=")}applyStyle(t){this.input.style.fontWeight=t!=null&&t.b?"bold":"normal",this.input.style.fontStyle=t!=null&&t.i?"italic":"normal";const n=[];t!=null&&t.u&&n.push("underline"),t!=null&&t.st&&n.push("line-through"),this.input.style.textDecoration=n.length?n.join(" "):"none",this.input.style.color=(t==null?void 0:t.tc)||this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=(t==null?void 0:t.bg)||this.getThemeColor("cellBGColor"),this.input.style.textAlign=(t==null?void 0:t.al)||"left";const r=(t==null?void 0:t.va)||"top";this.container.style.display="flex",this.container.style.alignItems=r==="middle"?"center":r==="bottom"?"flex-end":"flex-start"}handleInput(){this.renderInput(),this.composing||this.adjustSize()}adjustSize(){this.input.style.width=this.minWidth+"px",this.input.style.height=this.minHeight+"px";const t=Math.min(Math.max(this.minWidth,this.input.scrollWidth),this.maxWidth),n=Math.min(Math.max(this.minHeight,this.input.scrollHeight),this.maxHeight);this.container.style.width=t+"px",this.container.style.height=n+"px",this.input.style.width=t+"px",this.input.style.height=n+"px",this.input.style.overflowY=this.input.scrollHeight>this.maxHeight?"auto":"hidden"}renderInput(){const t=this.input.innerText;if(!t.startsWith("="))return;const n=ff(t),r=[];let i=0;for(const l of n){if(l.type==="REFERENCE"){r.push(`<span style="color: ${gS(this.theme,i)}">${l.text}</span>`),i++;continue}if(l.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${l.text}</span>`);continue}r.push(Wk(l.text))}const a=th(this.input);this.input.innerHTML="="+r.join(""),a&&Xp(this.input,a)}getThemeColor(t){return Xn(this.theme,t)}}class zq{constructor(t="light"){q(this,"canvas");q(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="1",this.canvas.style.pointerEvents="none"}cleanup(){this.canvas.remove()}getContainer(){return this.canvas}render(t,n,r,i,a,l,u,c,g,p,m,x=c1,b,E,C){this.canvas.width=0,this.canvas.height=0;const w=this.canvas.getContext("2d"),R=window.devicePixelRatio||1;this.canvas.width=t.width*R,this.canvas.height=t.height*R,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",w.scale(R,R);const I=x.frozenRows>0||x.frozenCols>0,N=this.buildMergeRenderData(C);if(!I)this.renderActiveCellSimple(w,r,n,l,u,N),this.renderSelectionSimple(w,t,n,a,g,l,u),this.renderPeerCursorsSimple(w,t,i,n,l,u,N),this.renderFormulaRangesSimple(w,m,n,l,u),this.renderCopyRangeSimple(w,E,n,l,u);else{const D=this.buildQuadrants(t,n,x,l,u);this.renderSelectionFrozen(w,t,n,a,g,l,u,x,D);for(const L of D){w.save(),w.beginPath(),w.rect(L.x,L.y,L.width,L.height),w.clip();const k=this.toCellRect(r,{left:L.scrollLeft,top:L.scrollTop},l,u,N);w.strokeStyle=this.getThemeColor("activeCellColor"),w.lineWidth=2,w.strokeRect(k.left,k.top,k.width,k.height),w.restore()}for(const{clientID:L,presence:k}of i){if(!k.activeCell)continue;const j=Pt(k.activeCell),B=BD(this.theme,L);for(const $ of D){w.save(),w.beginPath(),w.rect($.x,$.y,$.width,$.height),w.clip();const K=this.toCellRect(j,{left:$.scrollLeft,top:$.scrollTop},l,u,N);K.left>=-K.width&&K.left<t.width&&K.top>=-K.height&&K.top<t.height&&(w.strokeStyle=B,w.lineWidth=2,w.strokeRect(K.left,K.top,K.width,K.height)),w.restore()}}if(m&&m.length>0)for(let L=0;L<m.length;L++){const k=m[L],j=gS(this.theme,L);for(const B of D){w.save(),w.beginPath(),w.rect(B.x,B.y,B.width,B.height),w.clip();const $={left:B.scrollLeft,top:B.scrollTop},K=rv(zn(k[0],$,l,u),zn(k[1],$,l,u));w.strokeStyle=j,w.lineWidth=2,w.strokeRect(K.left,K.top,K.width,K.height),w.fillStyle=j+"20",w.fillRect(K.left,K.top,K.width,K.height),w.restore()}}if(E)for(const L of D){w.save(),w.beginPath(),w.rect(L.x,L.y,L.width,L.height),w.clip();const k={left:L.scrollLeft,top:L.scrollTop};this.drawCopyRangeBorder(w,E,k,l,u),w.restore()}}c&&u&&l&&this.renderResizeHover(w,t,n,c,l,u,x),p&&u&&l&&this.renderDragMoveIndicator(w,t,n,p,l,u,x),b&&u&&l&&this.renderFreezeDragPreview(w,t,b,l,u)}buildQuadrants(t,n,r,i,a){const l=r.frozenWidth,u=r.frozenHeight,c=i?i.getOffset(r.frozenRows+1):0,g=a?a.getOffset(r.frozenCols+1):0,p=[];return p.push({x:it+l,y:et+u,width:t.width-it-l,height:t.height-et-u,scrollLeft:n.left+g-l,scrollTop:n.top+c-u}),r.frozenRows>0&&p.push({x:it+l,y:et,width:t.width-it-l,height:u,scrollLeft:n.left+g-l,scrollTop:0}),r.frozenCols>0&&p.push({x:it,y:et+u,width:l,height:t.height-et-u,scrollLeft:0,scrollTop:n.top+c-u}),r.frozenRows>0&&r.frozenCols>0&&p.push({x:it,y:et,width:l,height:u,scrollLeft:0,scrollTop:0}),p}renderActiveCellSimple(t,n,r,i,a,l){const u=this.toCellRect(n,r,i,a,l);t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.strokeRect(u.left,u.top,u.width,u.height)}renderSelectionSimple(t,n,r,i,a,l,u){if(a==="all")t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,et,n.width-it,n.height-et);else if(i)if(a==="row"){const c=zn(i[0],r,l,u),g=zn(i[1],r,l,u),p=c.top,m=g.top+g.height-c.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,p,n.width-it,m),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(it,p,n.width-it,m)}else if(a==="column"){const c=zn(i[0],r,l,u),g=zn(i[1],r,l,u),p=c.left,m=g.left+g.width-c.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(p,et,m,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(p,et,m,n.height-et)}else{const c=rv(zn(i[0],r,l,u),zn(i[1],r,l,u));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(c.left,c.top,c.width,c.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(c.left,c.top,c.width,c.height)}}renderPeerCursorsSimple(t,n,r,i,a,l,u){for(const{clientID:c,presence:g}of r){if(!g.activeCell)continue;const p=Pt(g.activeCell),m=this.toCellRect(p,i,a,l,u);if(m.left>=-m.width&&m.left<n.width&&m.top>=-m.height&&m.top<n.height){const x=BD(this.theme,c);t.strokeStyle=x,t.lineWidth=2,t.strokeRect(m.left,m.top,m.width,m.height)}}}renderFormulaRangesSimple(t,n,r,i,a){if(!(!n||n.length===0))for(let l=0;l<n.length;l++){const u=n[l],c=rv(zn(u[0],r,i,a),zn(u[1],r,i,a)),g=gS(this.theme,l);t.strokeStyle=g,t.lineWidth=2,t.strokeRect(c.left,c.top,c.width,c.height),t.fillStyle=g+"20",t.fillRect(c.left,c.top,c.width,c.height)}}renderCopyRangeSimple(t,n,r,i,a){n&&this.drawCopyRangeBorder(t,n,r,i,a)}drawCopyRangeBorder(t,n,r,i,a){const l=rv(zn(n[0],r,i,a),zn(n[1],r,i,a));t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.setLineDash([5,3]),t.strokeRect(l.left,l.top,l.width,l.height),t.setLineDash([])}renderSelectionFrozen(t,n,r,i,a,l,u,c,g){if(a==="all"){t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,et,n.width-it,n.height-et);return}if(i)for(const p of g){t.save(),t.beginPath(),t.rect(p.x,p.y,p.width,p.height),t.clip();const m={left:p.scrollLeft,top:p.scrollTop};if(a==="row"){const x=zn(i[0],m,l,u),b=zn(i[1],m,l,u),E=x.top,C=b.top+b.height-x.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,E,n.width-it,C),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(it,E,n.width-it,C)}else if(a==="column"){const x=zn(i[0],m,l,u),b=zn(i[1],m,l,u),E=x.left,C=b.left+b.width-x.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(E,et,C,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(E,et,C,n.height-et)}else{const x=rv(zn(i[0],m,l,u),zn(i[1],m,l,u));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(x.left,x.top,x.width,x.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(x.left,x.top,x.width,x.height)}t.restore()}}renderResizeHover(t,n,r,i,a,l,u){if(t.strokeStyle=this.getThemeColor("resizeHandleColor"),t.lineWidth=2,i.axis==="column"){const g=u.frozenCols>0&&i.index<=u.frozenCols?0:r.left+l.getOffset(u.frozenCols+1)-u.frozenWidth,p=it+l.getOffset(i.index)+l.getSize(i.index)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=u.frozenRows>0&&i.index<=u.frozenRows?0:r.top+a.getOffset(u.frozenRows+1)-u.frozenHeight,p=et+a.getOffset(i.index)+a.getSize(i.index)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderDragMoveIndicator(t,n,r,i,a,l,u){if(t.strokeStyle=this.getThemeColor("dropIndicatorColor"),t.lineWidth=3,i.axis==="column"){const g=u.frozenCols>0&&i.dropIndex<=u.frozenCols?0:r.left+l.getOffset(u.frozenCols+1)-u.frozenWidth,p=it+l.getOffset(i.dropIndex)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=u.frozenRows>0&&i.dropIndex<=u.frozenRows?0:r.top+a.getOffset(u.frozenRows+1)-u.frozenHeight,p=et+a.getOffset(i.dropIndex)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderFreezeDragPreview(t,n,r,i,a){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,r.axis==="row"){const l=r.targetIndex===0?et:et+i.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(0,l),t.lineTo(n.width,l),t.stroke()}else{const l=r.targetIndex===0?it:it+a.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(l,0),t.lineTo(l,n.height),t.stroke()}}getThemeColor(t){return Xn(this.theme,t)}buildMergeRenderData(t){if(!t||t.size===0)return;const n=new Map,r=new Map;for(const[i,a]of t){n.set(i,a);const l=Pt(i);for(let u=l.r;u<l.r+a.rs;u++)for(let c=l.c;c<l.c+a.cs;c++){const g=at({r:u,c});g!==i&&r.set(g,i)}}return{anchors:n,coverToAnchor:r}}toCellRect(t,n,r,i,a){const l=at(t),u=(a==null?void 0:a.coverToAnchor.get(l))||l,c=Pt(u),g=a==null?void 0:a.anchors.get(u),p=zn(c,n,r,i);if(!g||g.rs===1&&g.cs===1)return p;const m=zn({r:c.r+g.rs-1,c:c.c+g.cs-1},n,r,i);return{left:p.left,top:p.top,width:m.left+m.width-p.left,height:m.top+m.height-p.top}}}const Pb=1e7;class Uq{constructor(t="light"){q(this,"container");q(this,"scrollContainer");q(this,"dummyContainer");q(this,"actualWidth",0);q(this,"actualHeight",0);this.createContainers()}createContainers(){this.container=document.createElement("div"),this.container.style.position="relative",this.container.style.width="100%",this.container.style.height=`calc(100% - ${Hk+Yk*2}px)`,this.scrollContainer=document.createElement("div"),this.scrollContainer.style.position="absolute",this.scrollContainer.style.overflow="auto",this.scrollContainer.style.width="100%",this.scrollContainer.style.height="100%",this.scrollContainer.style.zIndex="1",this.dummyContainer=document.createElement("div"),this.dummyContainer.style.margin="0px",this.dummyContainer.style.padding="0px",this.dummyContainer.style.pointerEvents="none",this.scrollContainer.appendChild(this.dummyContainer),this.container.appendChild(this.scrollContainer)}getContainer(){return this.container}getScrollContainer(){return this.scrollContainer}getDummyContainer(){return this.dummyContainer}updateDummySize(t,n){this.actualWidth=t,this.actualHeight=n;const r=Math.min(t,Pb),i=Math.min(n,Pb);this.dummyContainer.style.width=r+"px",this.dummyContainer.style.height=i+"px"}appendChild(t){this.container.appendChild(t)}getViewport(){return this.scrollContainer.getBoundingClientRect()}getScrollPosition(){const t=this.scrollContainer.scrollLeft,n=this.scrollContainer.scrollTop,r=this.scrollContainer.getBoundingClientRect();return{left:this.toLogical(t,this.actualWidth,r.width),top:this.toLogical(n,this.actualHeight,r.height)}}setScrollPosition(t){const n=this.scrollContainer.getBoundingClientRect();t.left!==void 0&&(this.scrollContainer.scrollLeft=this.toPhysical(t.left,this.actualWidth,n.width)),t.top!==void 0&&(this.scrollContainer.scrollTop=this.toPhysical(t.top,this.actualHeight,n.height))}scrollBy(t,n){const r=this.scrollContainer.getBoundingClientRect(),i=this.needsRemap(this.actualWidth,r.width)?t*this.physicalMax(this.actualWidth,r.width)/this.logicalMax(this.actualWidth,r.width):t,a=this.needsRemap(this.actualHeight,r.height)?n*this.physicalMax(this.actualHeight,r.height)/this.logicalMax(this.actualHeight,r.height):n;this.scrollContainer.scrollBy(i,a)}addEventListener(t,n,r){this.scrollContainer.addEventListener(t,n,r)}removeEventListener(t,n,r){this.scrollContainer.removeEventListener(t,n,r)}cleanup(){this.container.remove()}needsRemap(t,n){return t>Pb&&n<t}cappedSize(t){return Math.min(t,Pb)}physicalMax(t,n){return Math.max(0,this.cappedSize(t)-n)}logicalMax(t,n){return Math.max(0,t-n)}clamp(t,n,r){return r<=n?n:Math.min(r,Math.max(n,t))}toLogical(t,n,r){const i=this.logicalMax(n,r);if(!this.needsRemap(n,r))return this.clamp(t,0,i);const a=this.physicalMax(n,r);return a<=0||i<=0?0:this.clamp(t,0,a)*i/a}toPhysical(t,n,r){const i=this.logicalMax(n,r);if(!this.needsRemap(n,r))return this.clamp(t,0,i);if(i<=0)return 0;const a=this.physicalMax(n,r);return this.clamp(t,0,i)*a/i}}class Vq{constructor(t="light"){q(this,"canvas");q(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.pointerEvents="none"}getCanvas(){return this.canvas}render(t,n,r,i,a,l,u,c,g,p=c1,m=null,x,b,E,C){this.canvas.width=0,this.canvas.height=0;const w=this.canvas.getContext("2d"),R=window.devicePixelRatio||1;this.canvas.width=t.width*R,this.canvas.height=t.height*R,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",w.scale(R,R);const[I,N]=r,D=this.buildMergeRenderData(C);if(!(p.frozenRows>0||p.frozenCols>0))this.renderQuadrantCells(w,I.r,N.r+1,I.c,N.c+1,a,n,l,u,x,b,E,D),this.renderColumnHeaders(w,I.c,N.c,n.left,it,t.width,i,c,g,l,u),this.renderRowHeaders(w,I.r,N.r,n.top,et,t.height,i,c,g,l,u);else{const j=p.frozenWidth,B=p.frozenHeight,$=p.frozenRows,K=p.frozenCols,ne=$+1,re=K+1,Se=Math.max(ne,I.r),Me=Math.max(re,I.c),Oe=l?l.getOffset(ne):$*et,ie=u?u.getOffset(re):K*Ma;w.save(),w.beginPath(),w.rect(it+j,et+B,t.width-it-j,t.height-et-B),w.clip(),this.renderQuadrantCells(w,Se,N.r+1,Me,N.c+1,a,{left:n.left+ie-j,top:n.top+Oe-B},l,u,x,b,E),w.restore(),$>0&&(w.save(),w.beginPath(),w.rect(it+j,et,t.width-it-j,B),w.clip(),this.renderQuadrantCells(w,1,$+1,Me,N.c+1,a,{left:n.left+ie-j,top:0},l,u,x,b,E,D),w.restore()),K>0&&(w.save(),w.beginPath(),w.rect(it,et+B,j,t.height-et-B),w.clip(),this.renderQuadrantCells(w,Se,N.r+1,1,K+1,a,{left:0,top:n.top+Oe-B},l,u,x,b,E,D),w.restore()),$>0&&K>0&&(w.save(),w.beginPath(),w.rect(it,et,j,B),w.clip(),this.renderQuadrantCells(w,1,$+1,1,K+1,a,{left:0,top:0},l,u,x,b,E,D),w.restore()),K>0&&this.renderColumnHeaders(w,1,K,0,it,it+j,i,c,g,l,u),this.renderColumnHeaders(w,Me,N.c,n.left+ie-j,it+j,t.width,i,c,g,l,u),$>0&&this.renderRowHeaders(w,1,$,0,et,et+B,i,c,g,l,u),this.renderRowHeaders(w,Se,N.r,n.top+Oe-B,et+B,t.height,i,c,g,l,u),this.renderFreezeLines(w,t,j,B)}const k=c==="all";w.fillStyle=k?this.getThemeColor("headerSelectedBGColor"):this.getThemeColor("headerBGColor"),w.fillRect(0,0,it,et),w.strokeStyle=this.getThemeColor("cellBorderColor"),w.lineWidth=Mw,w.strokeRect(0,0,it,et),this.renderFreezeHandles(w,p,m)}renderQuadrantCells(t,n,r,i,a,l,u,c,g,p,m,x,b){for(let E=n;E<=r;E++){const C=m==null?void 0:m.get(E);for(let w=i;w<=a;w++){const R=at({r:E,c:w});if(b!=null&&b.coverToAnchor.has(R))continue;const I=l==null?void 0:l.get(at({r:E,c:w})),N=b==null?void 0:b.anchors.get(R),D=p==null?void 0:p.get(w);let L;(x||D||C||I!=null&&I.s)&&(L={...x,...D,...C,...I==null?void 0:I.s}),this.renderCellBackground(t,{r:E,c:w},I,u,c,g,L,N)}}for(let E=n;E<=r;E++){const C=m==null?void 0:m.get(E);for(let w=i;w<=a;w++){const R=at({r:E,c:w});if(b!=null&&b.coverToAnchor.has(R))continue;const I=l==null?void 0:l.get(at({r:E,c:w})),N=b==null?void 0:b.anchors.get(R),D=p==null?void 0:p.get(w);let L;(x||D||C||I!=null&&I.s)&&(L={...x,...D,...C,...I==null?void 0:I.s}),this.renderCellContent(t,{r:E,c:w},I,u,c,g,L,l,a,N)}}}renderColumnHeaders(t,n,r,i,a,l,u,c,g,p,m){t.save(),t.beginPath(),t.rect(a,0,l-a,et),t.clip();for(let x=n;x<=r;x++){const b=m?m.getOffset(x):Ma*(x-1),E=m?m.getSize(x):Ma,C=it+b-i,w=0,R=c==="all"||c==="column"&&g&&x>=g[0].c&&x<=g[1].c;this.renderHeader(t,C,w,E,et,Tv(x),u.c===x,R||!1)}t.restore()}renderRowHeaders(t,n,r,i,a,l,u,c,g,p,m){t.save(),t.beginPath(),t.rect(0,a,it,l-a),t.clip();for(let x=n;x<=r;x++){const b=p?p.getOffset(x):et*(x-1),E=p?p.getSize(x):et,C=0,w=b+et-i,R=c==="all"||c==="row"&&g&&x>=g[0].r&&x<=g[1].r;this.renderHeader(t,C,w,it,E,String(x),u.r===x,R||!1)}t.restore()}renderFreezeLines(t,n,r,i){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,i>0){const a=et+i;t.beginPath(),t.moveTo(0,a),t.lineTo(n.width,a),t.stroke()}if(r>0){const a=it+r;t.beginPath(),t.moveTo(a,0),t.lineTo(a,n.height),t.stroke()}}renderFreezeHandles(t,n,r){const i=n.frozenRows>0||n.frozenCols>0,a=qk,l=i&&n.frozenRows>0?et+n.frozenHeight-a/2:et-a,u=r==="row";t.fillStyle=u?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(0,l,it,a);const c=i&&n.frozenCols>0?it+n.frozenWidth-a/2:it-a,g=r==="column";t.fillStyle=g?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(c,0,a,et)}renderHeader(t,n,r,i,a,l,u,c=!1){t.fillStyle=c?this.getThemeColor("headerSelectedBGColor"):u?this.getThemeColor("headerActiveBGColor"):this.getThemeColor("headerBGColor"),t.fillRect(n,r,i,a),t.strokeStyle=this.getThemeColor("cellBorderColor"),t.lineWidth=Mw,t.strokeRect(n,r,i,a),t.fillStyle=this.getThemeColor("cellTextColor"),t.textAlign=Pq,t.font=u||c?"bold 10px Arial":"10px Arial",t.fillText(l,n+i/2,r+Math.min(15,a-4))}renderCellBackground(t,n,r,i,a,l,u,c){const g=this.toCellRect(n,i,a,l,c),p=u??(r==null?void 0:r.s);t.strokeStyle=this.getThemeColor("cellTextColor"),t.lineWidth=Mw,t.strokeRect(g.left,g.top,g.width,g.height),t.fillStyle=(p==null?void 0:p.bg)||this.getThemeColor("cellBGColor"),t.fillRect(g.left,g.top,g.width,g.height)}renderCellContent(t,n,r,i,a,l,u,c,g,p){const m=this.toCellRect(n,i,a,l,p),x=u??(r==null?void 0:r.s),b=(r==null?void 0:r.v)||"";if(b){const E=$k(b,x==null?void 0:x.nf,x==null?void 0:x.dp),C=E.split(`
`),w=[];x!=null&&x.b&&w.push("bold"),x!=null&&x.i&&w.push("italic"),w.push(`${Lc}px Arial`);const R=w.join(" ");let I=m.width;const N=(x==null?void 0:x.al)||"left";if(!p&&C.length===1&&N==="left"&&c&&l&&g){t.save(),t.font=R;const B=t.measureText(E).width+Dw*2;if(t.restore(),B>m.width){let $=0;for(let K=n.c+1;K<=g;K++){const ne=c.get(at({r:n.r,c:K}));if(ne&&(ne.v||ne.f))break;const re=l.getSize(K);if($+=re,m.width+$>=B)break}I=m.width+$}}t.save(),t.beginPath(),t.rect(m.left,m.top,I,m.height),t.clip(),t.fillStyle=(x==null?void 0:x.tc)||this.getThemeColor("cellTextColor"),t.font=R,t.textBaseline="top";let D;N==="center"?(t.textAlign="center",D=m.left+m.width/2):N==="right"?(t.textAlign="right",D=m.left+m.width-Dw):(t.textAlign="left",D=m.left+Dw);const L=(x==null?void 0:x.va)||"top",k=C.length*Lc*mS;let j;L==="middle"?j=m.top+(m.height-k)/2:L==="bottom"?j=m.top+m.height-k-BC:j=m.top+BC;for(let B=0;B<C.length;B++){const $=j+B*(Lc*mS);if(t.fillText(C[B],D,$),x!=null&&x.u){const K=t.measureText(C[B]),ne=$+Lc+1;let re;N==="center"?re=D-K.width/2:N==="right"?re=D-K.width:re=D,t.beginPath(),t.strokeStyle=(x==null?void 0:x.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(re,ne),t.lineTo(re+K.width,ne),t.stroke()}if(x!=null&&x.st){const K=t.measureText(C[B]),ne=$+Lc/2;let re;N==="center"?re=D-K.width/2:N==="right"?re=D-K.width:re=D,t.beginPath(),t.strokeStyle=(x==null?void 0:x.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(re,ne),t.lineTo(re+K.width,ne),t.stroke()}}t.restore()}}buildMergeRenderData(t){if(!t||t.size===0)return;const n=new Map,r=new Map;for(const[i,a]of t){n.set(i,a);const l=Pt(i);for(let u=l.r;u<l.r+a.rs;u++)for(let c=l.c;c<l.c+a.cs;c++){const g=at({r:u,c});g!==i&&r.set(g,i)}}return{anchors:n,coverToAnchor:r}}toCellRect(t,n,r,i,a){const l=zn(t,n,r,i);if(!a||a.rs===1&&a.cs===1)return l;const u=zn({r:t.r+a.rs-1,c:t.c+a.cs-1},n,r,i);return{left:l.left,top:l.top,width:u.left+u.width-l.left,height:u.top+u.height-l.top}}getThemeColor(t){return Xn(this.theme,t)}cleanup(){this.canvas.remove()}}class Gq{constructor(t="light"){q(this,"container");q(this,"theme");this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="160px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.applyTheme(),this.handleDocumentClick=this.handleDocumentClick.bind(this)}getContainer(){return this.container}show(t,n,r){this.container.innerHTML="";for(const i of r){const a=document.createElement("div");a.textContent=i.label,a.style.padding="6px 16px",a.style.cursor="pointer",a.style.color=Xn(this.theme,"cellTextColor"),a.addEventListener("mouseenter",()=>{a.style.backgroundColor=Xn(this.theme,"selectionBGColor")}),a.addEventListener("mouseleave",()=>{a.style.backgroundColor="transparent"}),a.addEventListener("mousedown",l=>{l.preventDefault(),l.stopPropagation(),this.hide(),i.action()}),this.container.appendChild(a)}this.container.style.left=`${t}px`,this.container.style.top=`${n}px`,this.container.style.display="block",document.addEventListener("mousedown",this.handleDocumentClick)}hide(){this.container.style.display="none",document.removeEventListener("mousedown",this.handleDocumentClick)}cleanup(){this.hide(),this.container.remove()}handleDocumentClick(t){this.container.contains(t.target)||this.hide()}applyTheme(){this.container.style.backgroundColor=Xn(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${Xn(this.theme,"cellBorderColor")}`}}const Kk=[{name:"SUM",description:"Returns the sum of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"ABS",description:"Returns the absolute value of a number",args:[{name:"number"}]},{name:"ROUND",description:"Rounds a number to a certain number of decimal places",args:[{name:"value"},{name:"places",optional:!0}]},{name:"ROUNDUP",description:"Rounds a number away from zero",args:[{name:"value"},{name:"places",optional:!0}]},{name:"ROUNDDOWN",description:"Rounds a number toward zero",args:[{name:"value"},{name:"places",optional:!0}]},{name:"INT",description:"Rounds a number down to the nearest integer",args:[{name:"value"}]},{name:"MOD",description:"Returns the remainder after division",args:[{name:"dividend"},{name:"divisor"}]},{name:"SQRT",description:"Returns the positive square root of a number",args:[{name:"value"}]},{name:"POWER",description:"Returns a number raised to a power",args:[{name:"base"},{name:"exponent"}]},{name:"IF",description:"Returns one value if true and another if false",args:[{name:"condition"},{name:"value_if_true"},{name:"value_if_false",optional:!0}]},{name:"IFS",description:"Returns the first value whose condition is true",args:[{name:"condition1"},{name:"value1"},{name:"condition2",optional:!0,repeating:!0},{name:"value2",optional:!0,repeating:!0}]},{name:"SWITCH",description:"Matches an expression against case/value pairs",args:[{name:"expression"},{name:"case1"},{name:"value1"},{name:"case2",optional:!0,repeating:!0},{name:"value2",optional:!0,repeating:!0},{name:"default",optional:!0}]},{name:"AND",description:"Returns TRUE if all arguments are true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"OR",description:"Returns TRUE if any argument is true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"NOT",description:"Returns the opposite of a logical value",args:[{name:"logical"}]},{name:"AVERAGE",description:"Returns the average of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MIN",description:"Returns the smallest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MAX",description:"Returns the largest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"COUNT",description:"Counts the number of numeric values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTA",description:"Counts the number of non-empty values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTIF",description:"Counts values in a range that meet a criterion",args:[{name:"range"},{name:"criterion"}]},{name:"SUMIF",description:"Sums values in a range that meet a criterion",args:[{name:"range"},{name:"criterion"},{name:"sum_range",optional:!0}]},{name:"COUNTIFS",description:"Counts values that meet multiple criteria",args:[{name:"criteria_range1"},{name:"criterion1"},{name:"criteria_range2",optional:!0,repeating:!0},{name:"criterion2",optional:!0,repeating:!0}]},{name:"SUMIFS",description:"Sums values that meet multiple criteria",args:[{name:"sum_range"},{name:"criteria_range1"},{name:"criterion1"},{name:"criteria_range2",optional:!0,repeating:!0},{name:"criterion2",optional:!0,repeating:!0}]},{name:"TRIM",description:"Removes leading and trailing whitespace from text",args:[{name:"text"}]},{name:"LEN",description:"Returns the number of characters in a text string",args:[{name:"text"}]},{name:"LEFT",description:"Returns the leftmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"RIGHT",description:"Returns the rightmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"MID",description:"Returns characters from the middle of a text string",args:[{name:"text"},{name:"start_num"},{name:"num_chars"}]},{name:"CONCATENATE",description:"Joins two or more text strings into one",args:[{name:"text1"},{name:"text2"},{name:"text3",optional:!0,repeating:!0}]},{name:"FIND",description:"Finds one text value inside another (case-sensitive)",args:[{name:"search_for"},{name:"text_to_search"},{name:"starting_at",optional:!0}]},{name:"SEARCH",description:"Finds one text value inside another (case-insensitive)",args:[{name:"search_for"},{name:"text_to_search"},{name:"starting_at",optional:!0}]},{name:"TEXTJOIN",description:"Joins text values with a delimiter",args:[{name:"delimiter"},{name:"ignore_empty"},{name:"text1"},{name:"text2",optional:!0,repeating:!0}]},{name:"LOWER",description:"Converts text to lowercase",args:[{name:"text"}]},{name:"UPPER",description:"Converts text to uppercase",args:[{name:"text"}]},{name:"PROPER",description:"Capitalizes each word in text",args:[{name:"text"}]},{name:"SUBSTITUTE",description:"Replaces existing text with new text in a string",args:[{name:"text"},{name:"search_for"},{name:"replace_with"},{name:"occurrence",optional:!0}]},{name:"TODAY",description:"Returns the current date",args:[]},{name:"NOW",description:"Returns the current date and time",args:[]},{name:"YEAR",description:"Returns the year from a date",args:[{name:"date"}]},{name:"MONTH",description:"Returns the month from a date (1-12)",args:[{name:"date"}]},{name:"DAY",description:"Returns the day of the month from a date (1-31)",args:[{name:"date"}]},{name:"IFERROR",description:"Returns a value if no error, otherwise returns an alternate value",args:[{name:"value"},{name:"value_if_error"}]}];function $q(e){const t=e.toUpperCase();return Kk.filter(n=>n.name.startsWith(t))}function Wq(e){const t=e.toUpperCase();return Kk.find(n=>n.name===t)}function Hq(e){const t=e.args.map(n=>{let r=n.optional?`[${n.name}]`:n.name;return n.repeating&&(r+=", ..."),r});return`${e.name}(${t.join(", ")})`}function Yq(e,t){if(!e.startsWith("="))return{type:"none"};const n=e.slice(1,t);let r=0,i=0;for(let l=n.length-1;l>=0;l--){const u=n[l];if(u===")")r++;else if(u==="(")if(r>0)r--;else{const c=n.slice(0,l).match(/([A-Za-z_]\w*)$/);return c?{type:"argument",funcName:c[1].toUpperCase(),argIndex:i}:{type:"none"}}else u===","&&r===0&&i++}const a=n.match(/([A-Za-z_]\w*)$/);return a?{type:"function-name",prefix:a[1]}:{type:"none"}}class qq{constructor(t="light"){q(this,"container");q(this,"theme");q(this,"selectedIndex",0);q(this,"matches",[]);q(this,"mode","hidden");q(this,"currentHint",null);this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="220px",this.container.style.maxWidth="360px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.container.style.overflow="hidden",this.applyTheme()}getContainer(){return this.container}showList(t,n){if(this.matches=$q(t),this.matches.length===0){this.hide();return}this.mode="list",this.selectedIndex=0,this.renderList(),this.positionAt(n),this.container.style.display="block"}showHint(t,n,r){const i=Wq(t);if(!i){this.hide();return}this.mode="hint",this.currentHint={info:i,argIndex:n},this.renderHint(),this.positionAt(r),this.container.style.display="block"}hide(){this.mode="hidden",this.matches=[],this.currentHint=null,this.container.style.display="none",this.container.innerHTML=""}moveUp(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex-1+this.matches.length)%this.matches.length,this.renderList())}moveDown(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex+1)%this.matches.length,this.renderList())}getSelectedFunction(){if(this.mode==="list")return this.matches[this.selectedIndex]}isListVisible(){return this.mode==="list"}isHintVisible(){return this.mode==="hint"}cleanup(){this.hide(),this.container.remove()}positionAt(t){this.container.style.left=`${t.left}px`,this.container.style.top=`${t.top}px`}renderList(){this.container.innerHTML="";const t=Xn(this.theme,"cellBGColor"),n=Xn(this.theme,"cellTextColor"),r=Xn(this.theme,"selectionBGColor"),i=Xn(this.theme,"activeCellColor");for(let a=0;a<this.matches.length;a++){const l=this.matches[a],u=document.createElement("div");u.style.padding="4px 10px",u.style.cursor="pointer",u.style.display="flex",u.style.flexDirection="column",u.style.gap="1px",u.style.backgroundColor=a===this.selectedIndex?r:t;const c=document.createElement("div");c.style.fontWeight="600",c.style.color=a===this.selectedIndex?i:n,c.textContent=l.name;const g=document.createElement("div");g.style.fontSize="11px",g.style.opacity="0.7",g.style.color=n,g.textContent=l.description,u.appendChild(c),u.appendChild(g),u.addEventListener("mouseenter",()=>{this.selectedIndex=a,this.renderList()}),u.addEventListener("mousedown",p=>{p.preventDefault(),p.stopPropagation()}),this.container.appendChild(u)}}renderHint(){if(this.container.innerHTML="",!this.currentHint)return;const{info:t,argIndex:n}=this.currentHint,r=Xn(this.theme,"cellTextColor"),i=Xn(this.theme,"activeCellColor"),a=document.createElement("div");a.style.padding="6px 10px",a.style.color=r,a.style.whiteSpace="nowrap";const l=document.createElement("span");l.style.fontWeight="600",l.textContent=t.name+"(",a.appendChild(l);for(let c=0;c<t.args.length;c++){c>0&&a.appendChild(document.createTextNode(", "));const g=t.args[c];let p=g.optional?`[${g.name}]`:g.name;g.repeating&&(p+=", ...");const m=document.createElement("span");(c===n||c===t.args.length-1&&g.repeating&&n>=c)&&(m.style.fontWeight="700",m.style.color=i),m.textContent=p,a.appendChild(m)}a.appendChild(document.createTextNode(")"));const u=document.createElement("div");u.style.fontSize="11px",u.style.opacity="0.7",u.style.color=r,u.style.padding="2px 10px 4px",u.textContent=Hq(t)+"  "+t.description,this.container.appendChild(a),this.container.appendChild(u)}applyTheme(){this.container.style.backgroundColor=Xn(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${Xn(this.theme,"cellBorderColor")}`}}const Lb=6,Kq=10,zD=20,UD=120,VD=300,Xq=1800;class Zq{constructor(t,n="light",r=!1){q(this,"sheet");q(this,"container");q(this,"formulaBar");q(this,"cellInput");q(this,"overlay");q(this,"gridContainer");q(this,"gridCanvas");q(this,"contextMenu");q(this,"autocomplete");q(this,"resizeTooltip");q(this,"rowDim");q(this,"colDim");q(this,"listeners",[]);q(this,"resizeObserver");q(this,"boundRender");q(this,"boundHandleGridKeydown");q(this,"boundHandleFormulaKeydown");q(this,"boundHandleCellInputKeydown");q(this,"boundHandleMouseDown");q(this,"boundHandleDblClick");q(this,"boundHandleKeyDown");q(this,"boundHandleKeyUp");q(this,"boundHandleMouseMove");q(this,"boundHandleContextMenu");q(this,"boundPreventDocumentSelectStart");q(this,"resizeHover",null);q(this,"dragMove",null);q(this,"editMode",!1);q(this,"manuallyResizedRows",new Set);q(this,"formulaRanges",[]);q(this,"freezeState",c1);q(this,"freezeHandleHover",null);q(this,"freezeDrag",null);q(this,"onRenderCallback");q(this,"readOnly");q(this,"formulaRangeAnchor",null);q(this,"activeFormulaInput",null);q(this,"formulaRefInsertPos",null);q(this,"lastFormulaRefTarget",null);q(this,"nativeSelectionBlockDepth",0);q(this,"previousBodyUserSelect","");q(this,"previousBodyWebkitUserSelect","");this.container=t,this.readOnly=r,this.formulaBar=new Mq(n),this.gridContainer=new Uq(n),this.overlay=new zq(n),this.gridCanvas=new Vq(n),this.cellInput=new jq(n),this.contextMenu=new Gq(n),this.autocomplete=new qq(n),this.resizeTooltip=document.createElement("div"),this.rowDim=new PD(et),this.colDim=new PD(Ma),this.gridContainer.appendChild(this.overlay.getContainer()),this.gridContainer.appendChild(this.gridCanvas.getCanvas()),this.gridContainer.appendChild(this.cellInput.getContainer()),this.container.appendChild(this.formulaBar.getContainer()),this.container.appendChild(this.gridContainer.getContainer()),this.container.appendChild(this.contextMenu.getContainer()),this.container.appendChild(this.autocomplete.getContainer()),this.resizeTooltip.style.position="fixed",this.resizeTooltip.style.display="none",this.resizeTooltip.style.pointerEvents="none",this.resizeTooltip.style.zIndex="1001",this.resizeTooltip.style.padding="4px 8px",this.resizeTooltip.style.borderRadius="4px",this.resizeTooltip.style.border=`1px solid ${Xn(n,"cellBorderColor")}`,this.resizeTooltip.style.backgroundColor=Xn(n,"cellBGColor"),this.resizeTooltip.style.color=Xn(n,"cellTextColor"),this.resizeTooltip.style.fontSize="11px",this.resizeTooltip.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.resizeTooltip.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)",document.body.appendChild(this.resizeTooltip),this.boundRender=this.render.bind(this),this.boundHandleGridKeydown=this.handleGridKeydown.bind(this),this.boundHandleFormulaKeydown=this.handleFormulaKeydown.bind(this),this.boundHandleCellInputKeydown=this.handleCellInputKeydown.bind(this),this.boundHandleMouseDown=this.handleMouseDown.bind(this),this.boundHandleDblClick=this.handleDblClick.bind(this),this.boundHandleKeyDown=this.handleKeyDown.bind(this),this.boundHandleKeyUp=this.handleKeyUp.bind(this),this.boundHandleMouseMove=this.handleMouseMove.bind(this),this.boundHandleContextMenu=this.handleContextMenu.bind(this),this.boundPreventDocumentSelectStart=i=>{i.preventDefault()},this.resizeObserver=new ResizeObserver(()=>this.boundRender())}async initialize(t){this.sheet=t,this.sheet.setDimensions(this.rowDim,this.colDim),await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadMerges(),await this.sheet.loadFreezePane(),this.updateFreezeState(),this.formulaBar.initialize(t),this.addEventListeners(),this.resizeObserver.observe(this.container),this.render()}updateFreezeState(){const{frozenRows:t,frozenCols:n}=this.sheet.getFreezePane();this.freezeState=Fq(t,n,this.rowDim,this.colDim)}async setFreezePane(t,n){await this.sheet.setFreezePane(t,n),this.updateFreezeState(),this.render()}async reloadFreezePane(){await this.sheet.loadFreezePane(),this.updateFreezeState()}cleanup(){this.removeAllEventListeners(),this.forceEndNativeSelectionBlock(),this.resizeObserver.disconnect(),this.formulaBar.cleanup(),this.cellInput.cleanup(),this.overlay.cleanup(),this.gridCanvas.cleanup(),this.gridContainer.cleanup(),this.contextMenu.cleanup(),this.autocomplete.cleanup(),this.resizeTooltip.remove(),this.sheet=void 0,this.container.innerHTML=""}beginNativeSelectionBlock(){if(this.nativeSelectionBlockDepth+=1,this.nativeSelectionBlockDepth!==1)return;const t=document.body.style;this.previousBodyUserSelect=t.userSelect,this.previousBodyWebkitUserSelect=t.webkitUserSelect,t.userSelect="none",t.webkitUserSelect="none",document.addEventListener("selectstart",this.boundPreventDocumentSelectStart)}endNativeSelectionBlock(){if(this.nativeSelectionBlockDepth===0||(this.nativeSelectionBlockDepth-=1,this.nativeSelectionBlockDepth>0))return;const t=document.body.style;t.userSelect=this.previousBodyUserSelect,t.webkitUserSelect=this.previousBodyWebkitUserSelect,document.removeEventListener("selectstart",this.boundPreventDocumentSelectStart)}forceEndNativeSelectionBlock(){this.nativeSelectionBlockDepth!==0&&(this.nativeSelectionBlockDepth=1,this.endNativeSelectionBlock())}showResizeTooltip(t,n,r,i,a){const l=t==="column"?"Width":"Height",u=a>1?` (${a} ${t==="column"?"columns":"rows"})`:"";this.resizeTooltip.textContent=`${l}: ${Math.round(n)}px${u}`,this.resizeTooltip.style.left=`${r+12}px`,this.resizeTooltip.style.top=`${i+12}px`,this.resizeTooltip.style.display="block"}hideResizeTooltip(){this.resizeTooltip.style.display="none"}addEventListener(t,n,r,i){t.addEventListener(n,r,i),this.listeners.push({element:t,type:n,handler:r})}removeAllEventListeners(){for(const{element:t,type:n,handler:r}of this.listeners)t.removeEventListener(n,r);this.listeners=[]}focusGrid(){var t;this.formulaBar.blur(),this.cellInput.hide(),this.autocomplete.hide(),this.formulaRanges=[],this.resetFormulaRangeState(),(t=window.getSelection())==null||t.removeAllRanges()}async finishEditing(){this.autocomplete.hide();const t=this.sheet.getActiveCell();if(this.formulaBar.isFocused())await this.sheet.setData(t,this.formulaBar.getValue()),this.formulaBar.blur(),this.cellInput.hide();else if(this.cellInput.isFocused())await this.sheet.setData(t,this.cellInput.getValue()),this.cellInput.hide();else return;this.formulaRanges=[],this.resetFormulaRangeState(),await this.autoResizeRow(t.r)}isExternalInput(t){if(!t||this.container.contains(t))return!1;const n=t.tagName;return!!(n==="INPUT"||n==="TEXTAREA"||n==="SELECT"||t.isContentEditable)}handleKeyDown(t){if(!this.isExternalInput(t.target)){if(this.formulaBar.isFocused()){this.boundHandleFormulaKeydown(t);return}else if(this.cellInput.isFocused()){this.boundHandleCellInputKeydown(t);return}this.boundHandleGridKeydown(t)}}handleKeyUp(t){if(this.isExternalInput(t.target))return;const r=(t.key==="ArrowDown"||t.key==="ArrowUp"||t.key==="Escape"||t.key==="Enter"||t.key==="Tab")&&(this.autocomplete.isListVisible()||this.autocomplete.isHintVisible());let i,a;this.formulaBar.isFocused()?(i=this.formulaBar.getValue(),a=this.formulaBar.getFormulaInput(),this.cellInput.setValue(i)):this.cellInput.isFocused()&&(i=this.cellInput.getValue(),a=this.cellInput.getInput(),this.formulaBar.setValue(i)),i!==void 0&&i.startsWith("=")?(this.formulaRanges=Db(i).map(l=>l.range),this.renderOverlay()):i!==void 0&&(this.formulaRanges=[],this.renderOverlay()),!r&&(a&&i!==void 0?this.updateAutocomplete(i,a):this.autocomplete.hide())}updateAutocomplete(t,n){if(!t.startsWith("=")){this.autocomplete.hide();return}const r=th(n);if(!r){this.autocomplete.hide();return}const i=r.end,a=Yq(t,i),l=n.getBoundingClientRect(),u={left:l.left,top:l.bottom+2};a.type==="function-name"?this.autocomplete.showList(a.prefix,u):a.type==="argument"?this.autocomplete.showHint(a.funcName,a.argIndex,u):this.autocomplete.hide()}insertFunctionCompletion(t,n){const r=n.innerText,i=th(n);if(!i)return;const a=i.end,u=r.slice(0,a).match(/([A-Za-z_]\w*)$/);if(!u)return;const c=a-u[1].length,g=r.slice(a),p=r.slice(0,c)+t+"("+g;this.formulaBar.setValue(p),this.cellInput.setValue(p);const m=c+t.length+1;Xp(n,{start:m,end:m}),this.autocomplete.hide(),this.updateAutocomplete(p,n)}isInFormulaRangeMode(){let t,n;if(this.cellInput.isFocused()?(t=this.cellInput.getValue(),n=this.cellInput.getInput()):this.formulaBar.isFocused()&&(t=this.formulaBar.getValue(),n=this.formulaBar.getFormulaInput()),!t||!n||!t.startsWith("="))return!1;const r=th(n);return r?dq(t,r.end):!1}insertReferenceAtCursor(t,n){const r=this.cellInput.isFocused(),i=this.formulaBar.isFocused();if(!r&&!i)return;const a=r?this.cellInput.getInput():this.formulaBar.getFormulaInput(),l=a.innerText,u=th(a);if(!u)return;const c=n&&(t.r!==n.r||t.c!==n.c)?at(t)+":"+at(n):at(t);let g,p;if(this.formulaRefInsertPos){const{start:m,end:x}=this.formulaRefInsertPos;g=l.slice(0,m)+c+l.slice(x),p=m+c.length,this.formulaRefInsertPos={start:m,end:p}}else{const m=DD(l,u.end);m?(g=l.slice(0,m.start)+c+l.slice(m.end),p=m.start+c.length,this.formulaRefInsertPos={start:m.start,end:p}):u.start!==u.end?(g=l.slice(0,u.start)+c+l.slice(u.end),p=u.start+c.length,this.formulaRefInsertPos={start:u.start,end:p}):(g=l.slice(0,u.end)+c+l.slice(u.end),p=u.end+c.length,this.formulaRefInsertPos={start:u.end,end:p})}this.formulaBar.setValue(g),this.cellInput.setValue(g),Xp(a,{start:p,end:p}),g.startsWith("=")&&(this.formulaRanges=Db(g).map(m=>m.range),this.renderOverlay()),this.lastFormulaRefTarget=n||t}toggleAbsoluteReference(t){const n=t.innerText;if(!n.startsWith("="))return;const r=th(t);if(!r)return;const i=DD(n,r.end);if(!i)return;const a=i.text,l=a.startsWith("$"),u=a.replace(/\$/g,"");let c=0;for(let w=0;w<u.length;w++)if(u.charCodeAt(w)>=48&&u.charCodeAt(w)<=57){c=w;break}const g=u.slice(0,c),p=u.slice(c),m=a.indexOf(p,a.lastIndexOf(g)+g.length),x=m>0&&a[m-1]==="$";let b;!l&&!x?b="$"+g+"$"+p:l&&x?b=g+"$"+p:!l&&x?b="$"+g+p:b=g+p;const E=n.slice(0,i.start)+b+n.slice(i.end),C=i.start+b.length;this.formulaBar.setValue(E),this.cellInput.setValue(E),Xp(t,{start:C,end:C}),E.startsWith("=")&&(this.formulaRanges=Db(E).map(w=>w.range),this.renderOverlay())}resetFormulaRangeState(){this.formulaRangeAnchor=null,this.activeFormulaInput=null,this.formulaRefInsertPos=null,this.lastFormulaRefTarget=null}handleDblClick(t){if(this.readOnly)return;const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n){t.preventDefault();const i=this.sheet.getFreezePane();n==="row"?this.setFreezePane(i.frozenRows>0?0:1,i.frozenCols):this.setFreezePane(i.frozenRows,i.frozenCols>0?0:1);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r){t.preventDefault(),this.autoFitSize(r.axis,r.index);return}this.showCellInput(),t.preventDefault()}handleContextMenu(t){if(this.readOnly)return;const n=t.offsetX,r=t.offsetY,i=n<it,a=r<et;if(!(!i&&!a)){if(t.preventDefault(),i){const l=this.toRowFromMouse(r);if(l<1)return;const u=this.sheet.getSelectedIndices(),c=u&&u.axis==="row"&&l>=u.from&&l<=u.to,g=c?u.from:l,p=c?u.to-u.from+1:1,m=p>1?`${p} rows`:"row";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} above`,action:()=>{this.sheet.insertRows(g,p).then(()=>this.render())}},{label:`Insert ${m} below`,action:()=>{this.sheet.insertRows(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteRows(g,p).then(()=>this.render())}}])}else if(a){const l=this.toColFromMouse(n);if(l<1)return;const u=this.sheet.getSelectedIndices(),c=u&&u.axis==="column"&&l>=u.from&&l<=u.to,g=c?u.from:l,p=c?u.to-u.from+1:1,m=p>1?`${p} columns`:"column";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} left`,action:()=>{this.sheet.insertColumns(g,p).then(()=>this.render())}},{label:`Insert ${m} right`,action:()=>{this.sheet.insertColumns(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteColumns(g,p).then(()=>this.render())}}])}}}addEventListeners(){this.addEventListener(window,"resize",this.boundRender),this.gridContainer.addEventListener("scroll",this.boundRender),this.gridContainer.addEventListener("mousedown",this.boundHandleMouseDown),this.gridContainer.addEventListener("mousemove",this.boundHandleMouseMove),this.gridContainer.addEventListener("dblclick",this.boundHandleDblClick),this.gridContainer.addEventListener("contextmenu",this.boundHandleContextMenu),this.addEventListener(document,"keydown",this.boundHandleKeyDown),this.addEventListener(document,"keyup",this.boundHandleKeyUp)}detectResizeEdge(t,n){const r=this.scroll,i=this.freezeState;if(n<et&&t>it){const l=i.frozenCols>0&&t<it+i.frozenWidth?t-it:t-it-i.frozenWidth+this.colDim.getOffset(i.frozenCols+1)+r.left,u=this.colDim.findIndex(l),c=this.colDim.getOffset(u)+this.colDim.getSize(u);if(Math.abs(l-c)<Lb)return{axis:"column",index:u};if(u>1){const g=this.colDim.getOffset(u-1)+this.colDim.getSize(u-1);if(Math.abs(l-g)<Lb)return{axis:"column",index:u-1}}}if(t<it&&n>et){const l=i.frozenRows>0&&n<et+i.frozenHeight?n-et:n-et-i.frozenHeight+this.rowDim.getOffset(i.frozenRows+1)+r.top,u=this.rowDim.findIndex(l),c=this.rowDim.getOffset(u)+this.rowDim.getSize(u);if(Math.abs(l-c)<Lb)return{axis:"row",index:u};if(u>1){const g=this.rowDim.getOffset(u-1)+this.rowDim.getSize(u-1);if(Math.abs(l-g)<Lb)return{axis:"row",index:u-1}}}return null}detectFreezeHandle(t,n){const r=this.freezeState,i=r.frozenRows>0||r.frozenCols>0,a=qk,l=Lq,u=i&&r.frozenRows>0?et+r.frozenHeight-a/2:et-a;if(t>=0&&t<=it&&n>=u-l&&n<=u+a+l)return"row";const c=i&&r.frozenCols>0?it+r.frozenWidth-a/2:it-a;return t>=c-l&&t<=c+a+l&&n>=0&&n<=et?"column":null}startFreezeDrag(t,n){const r=this.gridContainer.getScrollContainer();r.style.cursor="grabbing";const i=u=>{const c=this.viewport;if(t==="row"){const g=u.target!==r?Math.max(0,Math.min(c.height,u.clientY-c.top)):u.offsetY;if(g<=et)return 0;const p=g-et,m=this.rowDim.findIndex(p),b=this.rowDim.getOffset(m)+this.rowDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}else{const g=u.target!==r?Math.max(0,Math.min(c.width,u.clientX-c.left)):u.offsetX;if(g<=it)return 0;const p=g-it,m=this.colDim.findIndex(p),b=this.colDim.getOffset(m)+this.colDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}};this.freezeDrag={axis:t,targetIndex:i(n)},this.renderOverlay();const a=u=>{const c=i(u);this.freezeDrag&&this.freezeDrag.targetIndex!==c&&(this.freezeDrag={axis:t,targetIndex:c},this.renderOverlay())},l=()=>{var g;r.style.cursor="",document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l);const u=((g=this.freezeDrag)==null?void 0:g.targetIndex)??0;this.freezeDrag=null,this.freezeHandleHover=null;const c=this.sheet.getFreezePane();t==="row"?this.setFreezePane(u,c.frozenCols):this.setFreezePane(c.frozenRows,u)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",l)}toRefFromMouse(t,n){const r=this.freezeState;return r.frozenRows>0||r.frozenCols>0?Bq(t,n,this.scroll,this.rowDim,this.colDim,r):kq(t+this.scroll.left,n+this.scroll.top,this.rowDim,this.colDim)}toRowFromMouse(t){const n=this.freezeState,i=n.frozenRows>0&&t<et+n.frozenHeight?t-et:t-et-n.frozenHeight+this.rowDim.getOffset(n.frozenRows+1)+this.scroll.top;return this.rowDim.findIndex(i)}toColFromMouse(t){const n=this.freezeState,i=n.frozenCols>0&&t<it+n.frozenWidth?t-it:t-it-n.frozenWidth+this.colDim.getOffset(n.frozenCols+1)+this.scroll.left;return this.colDim.findIndex(i)}clampClientPointToViewport(t,n){const r=this.viewport;return{x:Math.max(0,Math.min(r.width,t-r.left)),y:Math.max(0,Math.min(r.height,n-r.top))}}getAutoScrollSpeed(t){const r=Math.min(UD,Math.max(0,t))/UD;return VD+(Xq-VD)*r}getAutoScrollVelocity(t,n,r){return t<n?-this.getAutoScrollSpeed(n-t):t>r?this.getAutoScrollSpeed(t-r):0}handleMouseMove(t){var l,u,c;const n=this.gridContainer.getScrollContainer(),r=this.detectFreezeHandle(t.offsetX,t.offsetY);if(r!==this.freezeHandleHover&&(this.freezeHandleHover=r,this.renderSheet()),r){n.style.cursor="grab",this.resizeHover&&(this.resizeHover=null,this.renderOverlay());return}const i=this.detectResizeEdge(t.offsetX,t.offsetY),a=(i==null?void 0:i.axis)!==((l=this.resizeHover)==null?void 0:l.axis)||(i==null?void 0:i.index)!==((u=this.resizeHover)==null?void 0:u.index);if(a&&(this.resizeHover=i),i)n.style.cursor=i.axis==="column"?"col-resize":"row-resize";else{const g=t.offsetX,p=t.offsetY,m=(c=this.sheet)==null?void 0:c.getSelectedIndices();if(m){const x=m.axis==="column"?p<et&&g>it&&(()=>{const b=this.toColFromMouse(g);return b>=m.from&&b<=m.to})():g<it&&p>et&&(()=>{const b=this.toRowFromMouse(p);return b>=m.from&&b<=m.to})();n.style.cursor=x?"grab":""}else n.style.cursor=""}a&&this.renderOverlay()}async handleMouseDown(t){const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n&&!this.readOnly){t.preventDefault(),this.startFreezeDrag(n,t);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r&&!this.readOnly){t.preventDefault(),this.startResize(r.axis,r.index,t);return}const i=t.offsetX,a=t.offsetY;if(i<it&&a<et){t.preventDefault(),await this.finishEditing(),this.sheet.selectAllCells(),this.render();return}const u=a<et&&i>it,c=i<it&&a>et;if(u){t.preventDefault(),await this.finishEditing();const N=this.toColFromMouse(i);if(N<1)return;if(t.shiftKey){this.sheet.selectColumnRange(this.sheet.getActiveCell().c,N),this.render();return}const D=this.sheet.getSelectedIndices();if(!this.readOnly&&D&&D.axis==="column"&&N>=D.from&&N<=D.to){this.startDragMove("column",D.from,D.to-D.from+1,t);return}this.sheet.selectColumn(N),this.render();const L=N;let k=N,j=t.clientX,B=null,$=null;const K=()=>{const{x:ie}=this.clampClientPointToViewport(j,0),Ae=this.toColFromMouse(ie);Ae>=1&&Ae!==k&&(k=Ae,this.sheet.selectColumnRange(L,k))},ne=()=>{B!==null&&(cancelAnimationFrame(B),B=null),$=null},re=ie=>{const Ae=this.viewport,de=this.getAutoScrollVelocity(j,Ae.left,Ae.left+Ae.width);if(de===0){B=null,$=null;return}const ue=Math.min(50,$===null?16:ie-$);$=ie,this.gridContainer.scrollBy(de*ue/1e3,0),K(),this.render(),B=requestAnimationFrame(re)},Se=()=>{B===null&&(B=requestAnimationFrame(re))},Me=ie=>{j=ie.clientX,K(),this.render();const Ae=this.viewport;this.getAutoScrollVelocity(j,Ae.left,Ae.left+Ae.width)===0?ne():Se()},Oe=()=>{ne(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",Me),document.removeEventListener("mouseup",Oe)};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",Me),document.addEventListener("mouseup",Oe);return}if(c){t.preventDefault(),await this.finishEditing();const N=this.toRowFromMouse(a);if(N<1)return;if(t.shiftKey){this.sheet.selectRowRange(this.sheet.getActiveCell().r,N),this.render();return}const D=this.sheet.getSelectedIndices();if(!this.readOnly&&D&&D.axis==="row"&&N>=D.from&&N<=D.to){this.startDragMove("row",D.from,D.to-D.from+1,t);return}this.sheet.selectRow(N),this.render();const L=N;let k=N,j=t.clientY,B=null,$=null;const K=()=>{const{y:ie}=this.clampClientPointToViewport(0,j),Ae=this.toRowFromMouse(ie);Ae>=1&&Ae!==k&&(k=Ae,this.sheet.selectRowRange(L,k))},ne=()=>{B!==null&&(cancelAnimationFrame(B),B=null),$=null},re=ie=>{const Ae=this.viewport,de=this.getAutoScrollVelocity(j,Ae.top,Ae.top+Ae.height);if(de===0){B=null,$=null;return}const ue=Math.min(50,$===null?16:ie-$);$=ie,this.gridContainer.scrollBy(0,de*ue/1e3),K(),this.render(),B=requestAnimationFrame(re)},Se=()=>{B===null&&(B=requestAnimationFrame(re))},Me=ie=>{j=ie.clientY,K(),this.render();const Ae=this.viewport;this.getAutoScrollVelocity(j,Ae.top,Ae.top+Ae.height)===0?ne():Se()},Oe=()=>{ne(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",Me),document.removeEventListener("mouseup",Oe)};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",Me),document.addEventListener("mouseup",Oe);return}if(this.isInFormulaRangeMode()){t.preventDefault();const N=this.toRefFromMouse(t.offsetX,t.offsetY);if(this.activeFormulaInput=this.cellInput.isFocused()?"cellInput":"formulaBar",t.shiftKey&&this.formulaRangeAnchor){const j={r:Math.min(this.formulaRangeAnchor.r,N.r),c:Math.min(this.formulaRangeAnchor.c,N.c)},B={r:Math.max(this.formulaRangeAnchor.r,N.r),c:Math.max(this.formulaRangeAnchor.c,N.c)};this.insertReferenceAtCursor(j,B)}else this.formulaRangeAnchor=N,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(N);const D=this.gridContainer.getScrollContainer(),L=j=>{const B=this.viewport,$=j.target!==D?Math.max(0,Math.min(B.width,j.clientX-B.left)):j.offsetX,K=j.target!==D?Math.max(0,Math.min(B.height,j.clientY-B.top)):j.offsetY,ne=this.toRefFromMouse($,K),re={r:Math.min(this.formulaRangeAnchor.r,ne.r),c:Math.min(this.formulaRangeAnchor.c,ne.c)},Se={r:Math.max(this.formulaRangeAnchor.r,ne.r),c:Math.max(this.formulaRangeAnchor.c,ne.c)};this.insertReferenceAtCursor(re,Se)},k=()=>{this.endNativeSelectionBlock(),document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",k),this.activeFormulaInput==="cellInput"?this.cellInput.getInput().focus():this.activeFormulaInput==="formulaBar"&&this.formulaBar.getFormulaInput().focus(),this.formulaRefInsertPos=null};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",L),document.addEventListener("mouseup",k);return}if(await this.finishEditing(),t.shiftKey){const N=this.toRefFromMouse(t.offsetX,t.offsetY);this.sheet.selectEnd(N),this.render();return}this.sheet.selectStart(this.toRefFromMouse(t.offsetX,t.offsetY)),this.render();let g=t.clientX,p=t.clientY,m=null,x=null;const b=()=>{const{x:N,y:D}=this.clampClientPointToViewport(g,p);this.sheet.selectEnd(this.toRefFromMouse(N,D))},E=()=>{m!==null&&(cancelAnimationFrame(m),m=null),x=null},C=N=>{const D=this.viewport,L=this.getAutoScrollVelocity(g,D.left,D.left+D.width),k=this.getAutoScrollVelocity(p,D.top,D.top+D.height);if(L===0&&k===0){m=null,x=null;return}const j=Math.min(50,x===null?16:N-x);x=N,this.gridContainer.scrollBy(L*j/1e3,k*j/1e3),b(),this.render(),m=requestAnimationFrame(C)},w=()=>{m===null&&(m=requestAnimationFrame(C))},R=N=>{g=N.clientX,p=N.clientY,b(),this.renderOverlay();const D=this.viewport,L=this.getAutoScrollVelocity(g,D.left,D.left+D.width),k=this.getAutoScrollVelocity(p,D.top,D.top+D.height);L===0&&k===0?E():w()},I=()=>{E(),this.render(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",I)};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",R),document.addEventListener("mouseup",I)}startResize(t,n,r){const i=t==="column"?r.clientX:r.clientY,a=t==="column"?this.colDim.getSize(n):this.rowDim.getSize(n),l=this.gridContainer.getScrollContainer();l.style.cursor=t==="column"?"col-resize":"row-resize";const u=t==="column"?this.colDim:this.rowDim,c=this.sheet.getSelectedIndices(),p=c&&c.axis===t&&n>=c.from&&n<=c.to?Array.from({length:c.to-c.from+1},(w,R)=>c.from+R):[n],m=p.length;let x=a,b=null;this.beginNativeSelectionBlock(),this.showResizeTooltip(t,a,r.clientX,r.clientY,m);const E=w=>{const I=(t==="column"?w.clientX:w.clientY)-i;x=Math.max(t==="column"?zD:Kq,a+I),b===null&&(b=requestAnimationFrame(()=>{b=null,u.setSize(n,x),this.render()})),this.showResizeTooltip(t,x,w.clientX,w.clientY,m)},C=()=>{l.style.cursor="",this.hideResizeTooltip(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",C),b!==null&&(cancelAnimationFrame(b),b=null);const w=x;u.setSize(n,w);for(const R of p)u.setSize(R,w),t==="column"?this.sheet.setColumnWidth(R,w):(this.manuallyResizedRows.add(R),this.sheet.setRowHeight(R,w));this.render()};document.addEventListener("mousemove",E),document.addEventListener("mouseup",C)}async autoFitSize(t,n){const i=document.createElement("canvas").getContext("2d"),a=6;if(t==="column"){i.font=`${Lc}px Arial`;const l=Tv(n);let u=i.measureText(l).width+a;const[c,g]=this.viewRange,p=[{r:c.r,c:n},{r:g.r,c:n}],m=await this.sheet.fetchGrid(p);for(const[,b]of m)if(b.v){const E=i.measureText(b.v).width+a;E>u&&(u=E)}const x=Math.max(zD,Math.ceil(u));this.sheet.setColumnWidth(n,x)}else{this.manuallyResizedRows.delete(n);const l=await this.computeContentHeight(n);this.sheet.setRowHeight(n,l)}this.render()}async computeContentHeight(t){const[n,r]=this.viewRange,i=[{r:t,c:n.c},{r:t,c:r.c}],a=await this.sheet.fetchGrid(i);let l=1;for(const[,u]of a)if(u.v){const c=u.v.split(`
`).length;c>l&&(l=c)}return l<=1?et:Math.max(et,Math.ceil(l*Lc*mS+2*BC))}async autoResizeRow(t){if(this.manuallyResizedRows.has(t))return;const n=await this.computeContentHeight(t),r=this.rowDim.getSize(t);n!==r&&(this.sheet.setRowHeight(t,n),this.render())}startDragMove(t,n,r,i){const a=this.gridContainer.getScrollContainer();a.style.cursor="grabbing";const l=t==="column"?this.colDim:this.rowDim,u=p=>{const m=this.viewport;if(t==="column"){const x=p.target!==a?Math.max(0,Math.min(m.width,p.clientX-m.left)):p.offsetX,b=this.toColFromMouse(x),E=this.freezeState,w=E.frozenCols>0&&x<it+E.frozenWidth?x-it:x-it-E.frozenWidth+this.colDim.getOffset(E.frozenCols+1)+this.scroll.left,I=l.getOffset(b)+l.getSize(b)/2;return w<I?b:b+1}else{const x=p.target!==a?Math.max(0,Math.min(m.height,p.clientY-m.top)):p.offsetY,b=this.toRowFromMouse(x),E=this.freezeState,w=E.frozenRows>0&&x<et+E.frozenHeight?x-et:x-et-E.frozenHeight+this.rowDim.getOffset(E.frozenRows+1)+this.scroll.top,I=l.getOffset(b)+l.getSize(b)/2;return w<I?b:b+1}};this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:u(i)},this.renderOverlay();const c=p=>{const m=u(p);this.dragMove&&this.dragMove.dropIndex!==m&&(this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:m},this.renderOverlay())},g=()=>{var m;a.style.cursor="",document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",g);const p=(m=this.dragMove)==null?void 0:m.dropIndex;this.dragMove=null,p!==void 0&&!(p>=n&&p<=n+r)?(t==="row"?this.sheet.moveRows(n,r,p):this.sheet.moveColumns(n,r,p)).then(()=>{const b=p<n?p:p-r;t==="row"?(this.sheet.selectRow(b),r>1&&this.sheet.selectRowRange(b,b+r-1)):(this.sheet.selectColumn(b),r>1&&this.sheet.selectColumnRange(b,b+r-1)),this.render()}):this.renderOverlay()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",g)}async handleFormulaKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.formulaBar.getFormulaInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.move("down"),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const i={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},a={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(i,a),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.formulaBar.getFormulaInput())):t.key==="Escape"?(t.preventDefault(),this.focusGrid(),this.render()):this.cellInput.isShown()||this.showCellInput(!0,!0)}}async handleCellInputKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.cellInput.getInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&this.cellInput.hasFormula()&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const i={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},a={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(i,a),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key.startsWith("Arrow")&&!this.cellInput.hasFormula()&&!this.editMode?(t.preventDefault(),await this.finishEditing(),t.key==="ArrowDown"?this.sheet.move("down"):t.key==="ArrowUp"?this.sheet.move("up"):t.key==="ArrowLeft"?this.sheet.move("left"):t.key==="ArrowRight"&&this.sheet.move("right"),this.render(),this.scrollIntoView()):t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.cellInput.getInput())):t.key==="Escape"&&(t.preventDefault(),this.focusGrid(),this.render())}}async copy(){const{text:t}=await this.sheet.copy();await navigator.clipboard.writeText(t)}async paste(){try{let t,n;if(navigator.clipboard.read)try{const r=await navigator.clipboard.read();for(const i of r)i.types.includes("text/html")&&(n=await(await i.getType("text/html")).text()),i.types.includes("text/plain")&&(t=await(await i.getType("text/plain")).text())}catch{t=await navigator.clipboard.readText()}else t=await navigator.clipboard.readText();await this.sheet.paste({text:t,html:n}),this.sheet.clearCopyBuffer(),this.render()}catch(t){console.error("Failed to paste cell content: ",t)}}async handleGridKeydown(t){const n=async(r,i,a)=>{t.preventDefault(),(i?this.sheet.resizeRange(r):a?await this.sheet.moveToEdge(r):this.sheet.move(r))&&(this.render(),this.scrollIntoView())};if(t.key==="ArrowDown")n("down",t.shiftKey,t.metaKey);else if(t.key==="ArrowUp")n("up",t.shiftKey,t.metaKey);else if(t.key==="ArrowLeft")n("left",t.shiftKey,t.metaKey);else if(t.key==="ArrowRight")n("right",t.shiftKey,t.metaKey);else if(t.key==="a"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.sheet.selectAll(),this.render();else if(t.key==="Tab")t.preventDefault(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key==="Enter")t.preventDefault(),this.sheet.hasRange()?(this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView()):this.readOnly||this.showCellInput();else if(t.key==="Delete"||t.key==="Backspace"){if(this.readOnly)return;t.preventDefault(),await this.sheet.removeData()&&this.render()}else if(!t.metaKey&&!t.ctrlKey&&this.isValidCellInput(t.key)){if(this.readOnly)return;this.showCellInput(!0)}else if(t.key==="z"&&(t.metaKey||t.ctrlKey)&&!t.shiftKey){if(this.readOnly)return;t.preventDefault(),await this.sheet.undo()&&(this.render(),this.scrollIntoView())}else if((t.key==="z"&&t.shiftKey||t.key==="y")&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.redo()&&(this.render(),this.scrollIntoView())}else if(t.key==="Escape")t.preventDefault(),this.sheet.getCopyRange()&&(this.sheet.clearCopyBuffer(),this.renderOverlay());else if(t.key==="c"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.copy();else if(t.key==="v"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.paste()}else if(t.key==="b"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("b"),this.render()}else if(t.key==="i"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("i"),this.render()}else if(t.key==="u"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("u"),this.render()}else if((t.key==="m"||t.key==="M")&&(t.metaKey||t.ctrlKey)&&t.shiftKey){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleMergeSelection()&&this.render()}}async reloadDimensions(){await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadMerges(),await this.sheet.loadFreezePane(),this.updateFreezeState()}setOnRender(t){this.onRenderCallback=t}render(){var t;this.formulaBar.render(),this.renderSheet(),this.renderOverlay(),(t=this.onRenderCallback)==null||t.call(this)}renderOverlay(){this.overlay.render(this.viewport,this.scroll,this.sheet.getActiveCell(),this.sheet.getPresences(),this.sheet.getRange(),this.rowDim,this.colDim,this.resizeHover,this.sheet.getSelectionType(),this.dragMove?{axis:this.dragMove.axis,dropIndex:this.dragMove.dropIndex}:null,this.formulaRanges,this.freezeState,this.freezeDrag,this.sheet.getCopyRange(),this.sheet.getMerges())}get viewRange(){const t=this.scroll,n=this.viewport,r=this.freezeState,i=this.rowDim.getOffset(r.frozenRows+1),a=this.colDim.getOffset(r.frozenCols+1),l=Math.max(r.frozenRows+1,this.rowDim.findIndex(i+t.top)),u=Math.max(l,this.rowDim.findIndex(i+t.top+n.height)+1),c=Math.max(r.frozenCols+1,this.colDim.findIndex(a+t.left)),g=Math.max(c,this.colDim.findIndex(a+t.left+n.width)+1);return[{r:l,c},{r:u,c:g}]}scrollIntoView(t=this.sheet.getActiveCell()){const n=this.scroll,r=this.freezeState,i=r.frozenRows>0&&t.r<=r.frozenRows,a=r.frozenCols>0&&t.c<=r.frozenCols,l=zn(t,{left:0,top:0},this.rowDim,this.colDim),u=this.sheet.getMerges().get(at(t));if(u){const b=zn({r:t.r+u.rs-1,c:t.c+u.cs-1},{left:0,top:0},this.rowDim,this.colDim);l.width=b.left+b.width-l.left,l.height=b.top+b.height-l.top}const c=this.colDim.getOffset(r.frozenCols+1),g=this.rowDim.getOffset(r.frozenRows+1),p=this.viewport.width-it-r.frozenWidth,m=this.viewport.height-et-r.frozenHeight;let x=!1;if(!a){const b=c+n.left,E=b+p,C=l.left-it,w=C+l.width;C<b?(this.scroll={left:C-c},x=!0):w>E&&(this.scroll={left:w-p-c},x=!0)}if(!i){const b=g+n.top,E=b+m,C=l.top-et,w=C+l.height;C<b?(this.scroll={top:C-g},x=!0):w>E&&(this.scroll={top:w-m-g},x=!0)}x&&this.render()}async showCellInput(t=!1,n=!1){n||(this.editMode=!t);const r=this.sheet.getActiveCell(),i=this.freezeState,a=i.frozenRows>0||i.frozenCols>0?jD(r,this.scroll,this.rowDim,this.colDim,i):zn(r,this.scroll,this.rowDim,this.colDim),l=this.sheet.getMerges().get(at(r));if(l){const m=i.frozenRows>0||i.frozenCols>0?jD({r:r.r+l.rs-1,c:r.c+l.cs-1},this.scroll,this.rowDim,this.colDim,i):zn({r:r.r+l.rs-1,c:r.c+l.cs-1},this.scroll,this.rowDim,this.colDim);a.width=m.left+m.width-a.left,a.height=m.top+m.height-a.top}const u=t?"":await this.sheet.toInputString(r),c=Math.max(a.width,this.viewport.width-a.left),g=Math.max(a.height,this.viewport.height-a.top);this.cellInput.show(a.left,a.top,u,!n,a.width,a.height,c,g);const p=await this.sheet.getStyle(r);this.cellInput.applyStyle(p),u.startsWith("=")&&(this.formulaRanges=Db(u).map(m=>m.range),this.renderOverlay())}isValidCellInput(t){return t.length===1||t==="Process"}async renderSheet(){const t=this.gridSize,n=this.freezeState;this.gridContainer.updateDummySize(t.width+it,t.height+et);const r=this.viewRange,i=[{r:1,c:1},{r:r[1].r,c:r[1].c}],a=await this.sheet.fetchGrid(i);this.gridCanvas.render(this.viewport,this.scroll,this.viewRange,this.sheet.getActiveCell(),a,this.rowDim,this.colDim,this.sheet.getSelectionType(),this.sheet.getRange(),n,this.freezeHandleHover,this.sheet.getColStyles(),this.sheet.getRowStyles(),this.sheet.getSheetStyle(),this.sheet.getMerges())}get gridSize(){const t=this.sheet.getDimension();return{width:this.colDim.getOffset(t.columns+1),height:this.rowDim.getOffset(t.rows+1)}}get viewport(){return this.gridContainer.getViewport()}get scroll(){return this.gridContainer.getScrollPosition()}set scroll(t){this.gridContainer.setScrollPosition(t)}}async function Xk(e,t){const n=new Jq(e,t),r=(t==null?void 0:t.store)||new Iq;return await n.initialize(r),n}class Jq{constructor(t,n){q(this,"container");q(this,"worksheet");q(this,"sheet");q(this,"theme");q(this,"_readOnly");q(this,"selectionChangeCallbacks",[]);this.container=t,this.container.style.position="relative",this.container.style.overflow="hidden",this.theme=(n==null?void 0:n.theme)||"light",this._readOnly=(n==null?void 0:n.readOnly)||!1,this.worksheet=new Zq(this.container,this.theme,this._readOnly)}get readOnly(){return this._readOnly}async initialize(t){this.sheet=new _q(t),this.worksheet.setOnRender(()=>this.notifySelectionChange()),await this.worksheet.initialize(this.sheet)}async reloadDimensions(){await this.worksheet.reloadDimensions()}async setFreezePane(t,n){this._readOnly||await this.worksheet.setFreezePane(t,n)}render(){this.worksheet.render()}renderOverlay(){this.worksheet.renderOverlay()}async applyStyle(t){!this.sheet||this._readOnly||(await this.sheet.setRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async toggleStyle(t){!this.sheet||this._readOnly||(await this.sheet.toggleRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async getActiveStyle(){if(this.sheet)return this.sheet.getStyle(this.sheet.getActiveCell())}onSelectionChange(t){return this.selectionChangeCallbacks.push(t),()=>{this.selectionChangeCallbacks=this.selectionChangeCallbacks.filter(n=>n!==t)}}notifySelectionChange(){for(const t of this.selectionChangeCallbacks)t()}async increaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:t+1}),this.worksheet.render(),this.notifySelectionChange()}async decreaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:Math.max(0,t-1)}),this.worksheet.render(),this.notifySelectionChange()}async toggleMergeCells(){!this.sheet||this._readOnly||await this.sheet.toggleMergeSelection()&&(this.worksheet.render(),this.notifySelectionChange())}isSelectionMerged(){return this.sheet?this.sheet.isSelectionMerged():!1}canMergeSelection(){return this.sheet?this.sheet.canMergeSelection():!1}async undo(){!this.sheet||this._readOnly||await this.sheet.undo()&&(this.worksheet.render(),this.notifySelectionChange())}async redo(){!this.sheet||this._readOnly||await this.sheet.redo()&&(this.worksheet.render(),this.notifySelectionChange())}cleanup(){this.worksheet.cleanup(),this.selectionChangeCallbacks=[]}setGridResolver(t){this.sheet&&this.sheet.setGridResolver(t)}async recalculateCrossSheetFormulas(){this.sheet&&(await this.sheet.recalculateCrossSheetFormulas(),this.worksheet.render())}}var Qq="Toggle",Zk=P.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...a}=e,[l=!1,u]=hh({prop:n,onChange:i,defaultProp:r});return O.jsx(Yt.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:dt(e.onClick,()=>{e.disabled||u(!l)})})});Zk.displayName=Qq;var eK=Zk;const tK=RS("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function Pw({className:e,variant:t,size:n,...r}){return O.jsx(eK,{"data-slot":"toggle",className:St(tK({variant:t,size:n}),e),...r})}const nK=["#000000","#434343","#666666","#999999","#cccccc","#d50000","#e67c73","#f4511e","#ef6c00","#f09300","#0b8043","#33b679","#039be5","#3f51b5","#7986cb","#8e24aa","#d81b60","#ad1457","#6a1b9a","#4a148c"],rK=["#ffffff","#f3f3f3","#e8e8e8","#d9d9d9","#cccccc","#fce4ec","#fff3e0","#fff9c4","#e8f5e9","#e0f7fa","#e3f2fd","#ede7f6","#fce4ec","#f3e5f5","#e8eaf6","#ffcdd2","#ffe0b2","#fff59d","#c8e6c9","#b2dfdb"],iK={left:WL,center:$L,right:HL},oK={top:GL,middle:VL,bottom:UL},sK={plain:zL,number:qL,currency:bC,percent:SC},Jk=typeof navigator<"u"&&/Mac|iPhone|iPad|iPod/.test(navigator.userAgent),iv=Jk?"":"Ctrl";function aK({spreadsheet:e}){const[t,n]=P.useState(void 0),[r,i]=P.useState(!1),[a,l]=P.useState(!1),u=P.useCallback(async()=>{if(!e)return;const ne=await e.getActiveStyle();n(ne),i(e.isSelectionMerged()),l(e.canMergeSelection())},[e]);P.useEffect(()=>{if(e)return u(),e.onSelectionChange(u)},[e,u]);const c=P.useCallback(ne=>{e==null||e.toggleStyle(ne)},[e]),g=P.useCallback(ne=>{e==null||e.applyStyle({al:ne})},[e]),p=P.useCallback(ne=>{e==null||e.applyStyle({va:ne})},[e]),m=P.useCallback(ne=>{e==null||e.applyStyle({tc:ne})},[e]),x=P.useCallback(()=>{e==null||e.applyStyle({tc:""})},[e]),b=P.useCallback(ne=>{e==null||e.applyStyle({bg:ne})},[e]),E=P.useCallback(()=>{e==null||e.applyStyle({bg:""})},[e]),C=P.useCallback(()=>{e==null||e.undo()},[e]),w=P.useCallback(()=>{e==null||e.redo()},[e]),R=P.useCallback(ne=>{e==null||e.applyStyle({nf:ne})},[e]),I=P.useCallback(()=>{e==null||e.increaseDecimals()},[e]),N=P.useCallback(()=>{e==null||e.decreaseDecimals()},[e]),D=P.useCallback(()=>{e==null||e.toggleMergeCells()},[e]),L=(t==null?void 0:t.al)||"left",k=iK[L],j=(t==null?void 0:t.va)||"top",B=oK[j],$=(t==null?void 0:t.nf)||"plain",K=sK[$];return O.jsxs("div",{className:"flex items-center gap-0.5 border-b px-2 py-1 bg-background",children:[O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:C,children:O.jsx(O8,{size:16})})}),O.jsxs(Qr,{children:["Undo (",iv,"+Z)"]})]}),O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:w,children:O.jsx(D8,{size:16})})}),O.jsxs(Qr,{children:["Redo (",iv,"+",Jk?"Z":"Y",")"]})]}),O.jsx(Gp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>R("currency"),children:O.jsx(bC,{size:16})})}),O.jsx(Qr,{children:"Format as currency"})]}),O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>R("percent"),children:O.jsx(SC,{size:16})})}),O.jsx(Qr,{children:"Format as percent"})]}),O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:N,children:[O.jsx(oN,{size:16}),O.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"-"})]})}),O.jsx(Qr,{children:"Decrease decimal places"})]}),O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:I,children:[O.jsx(oN,{size:16}),O.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"+"})]})}),O.jsx(Qr,{children:"Increase decimal places"})]}),O.jsxs(Ra,{children:[O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx(Ta,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(K,{size:16}),O.jsx(WA,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(Qr,{children:"More format"})]}),O.jsxs(Na,{children:[O.jsxs(br,{onClick:()=>R("plain"),children:[O.jsx(zL,{size:16,className:"mr-2"}),"Plain text"]}),O.jsxs(br,{onClick:()=>R("number"),children:[O.jsx(qL,{size:16,className:"mr-2"}),"Number"]}),O.jsxs(br,{onClick:()=>R("currency"),children:[O.jsx(bC,{size:16,className:"mr-2"}),"Currency"]}),O.jsxs(br,{onClick:()=>R("percent"),children:[O.jsx(SC,{size:16,className:"mr-2"}),"Percent"]})]})]}),O.jsx(Gp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx(Pw,{size:"sm",pressed:(t==null?void 0:t.b)||!1,onPressedChange:()=>c("b"),className:"h-7 w-7 cursor-pointer",children:O.jsx(M8,{size:16})})}),O.jsxs(Qr,{children:["Bold (",iv,"+B)"]})]}),O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx(Pw,{size:"sm",pressed:(t==null?void 0:t.i)||!1,onPressedChange:()=>c("i"),className:"h-7 w-7 cursor-pointer",children:O.jsx(F8,{size:16})})}),O.jsxs(Qr,{children:["Italic (",iv,"+I)"]})]}),O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx(Pw,{size:"sm",pressed:(t==null?void 0:t.st)||!1,onPressedChange:()=>c("st"),className:"h-7 w-7 cursor-pointer",children:O.jsx(U8,{size:16})})}),O.jsx(Qr,{children:"Strikethrough"})]}),O.jsxs(Ra,{children:[O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx(Ta,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",children:[O.jsx($8,{size:16}),O.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.tc)||"#000000"}})]})})}),O.jsx(Qr,{children:"Text color"})]}),O.jsxs(Na,{className:"w-auto p-2",children:[O.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:x,children:[O.jsx(sN,{size:14}),"Reset"]}),O.jsx("div",{className:"grid grid-cols-5 gap-1",children:nK.map(ne=>O.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:ne},onClick:()=>m(ne)},ne))})]})]}),O.jsx(Gp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Ra,{children:[O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx(Ta,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",children:[O.jsx(B8,{size:16}),O.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.bg)||"transparent",border:t!=null&&t.bg?"none":"1px solid #ccc"}})]})})}),O.jsx(Qr,{children:"Fill color"})]}),O.jsxs(Na,{className:"w-auto p-2",children:[O.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:E,children:[O.jsx(sN,{size:14}),"Reset"]}),O.jsx("div",{className:"grid grid-cols-5 gap-1",children:rK.map(ne=>O.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:ne},onClick:()=>b(ne)},ne))})]})]}),O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx("button",{className:`inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted disabled:cursor-not-allowed disabled:opacity-50 ${r?"bg-muted":""}`,onClick:D,disabled:!r&&!a,children:O.jsx(V8,{size:16})})}),O.jsx(Qr,{children:r?"Unmerge cells":`Merge cells (${iv}+Shift+M)`})]}),O.jsx(Gp,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Ra,{children:[O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx(Ta,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(k,{size:16}),O.jsx(WA,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(Qr,{children:"Horizontal align"})]}),O.jsxs(Na,{children:[O.jsxs(br,{onClick:()=>g("left"),children:[O.jsx(WL,{size:16,className:"mr-2"}),"Left"]}),O.jsxs(br,{onClick:()=>g("center"),children:[O.jsx($L,{size:16,className:"mr-2"}),"Center"]}),O.jsxs(br,{onClick:()=>g("right"),children:[O.jsx(HL,{size:16,className:"mr-2"}),"Right"]})]})]}),O.jsxs(Ra,{children:[O.jsxs(Zr,{children:[O.jsx(Jr,{asChild:!0,children:O.jsx(Ta,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(B,{size:16}),O.jsx(WA,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx(Qr,{children:"Vertical align"})]}),O.jsxs(Na,{children:[O.jsxs(br,{onClick:()=>p("top"),children:[O.jsx(GL,{size:16,className:"mr-2"}),"Top"]}),O.jsxs(br,{onClick:()=>p("middle"),children:[O.jsx(VL,{size:16,className:"mr-2"}),"Middle"]}),O.jsxs(br,{onClick:()=>p("bottom"),children:[O.jsx(UL,{size:16,className:"mr-2"}),"Bottom"]})]})]})]})}const lK={theme:"system",resolvedTheme:"light",setTheme:()=>null},RR=P.createContext(lK);function uK({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[i,a]=P.useState(()=>localStorage.getItem(n)||t),[l,u]=P.useState(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");P.useEffect(()=>{const g=window.document.documentElement;g.classList.remove("light","dark");let p;if(i==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";p=m,g.classList.add(m)}else p=i,g.classList.add(i);u(p)},[i]),P.useEffect(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>{if(i==="system"){const m=window.document.documentElement,x=g.matches?"dark":"light";m.classList.remove("light","dark"),m.classList.add(x),u(x)}};return g.addEventListener("change",p),()=>g.removeEventListener("change",p)},[i]);const c={theme:i,resolvedTheme:l,setTheme:g=>{localStorage.setItem(n,g),a(g)}};return O.jsx(RR.Provider,{...r,value:c,children:e})}const Qk=()=>{const e=P.useContext(RR);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};class cK{constructor(t,n){q(this,"doc");q(this,"tabId");q(this,"cellIndex",new wR);q(this,"dirty",!0);q(this,"batchOverlay",null);q(this,"batchOps",null);this.doc=t,this.tabId=n,t.subscribe(r=>{r.type==="remote-change"&&(this.dirty=!0)})}getSheet(){return this.doc.getRoot().sheets[this.tabId]}ensureIndex(){if(!this.dirty)return;const t=this.getSheet().sheet,n=[];for(const r of Object.keys(t)){const i=Pt(r);n.push([i.r,i.c])}this.cellIndex.rebuild(n),this.dirty=!1}async set(t,n){const r=at(t);if(this.batchOverlay){this.batchOverlay.set(r,n),this.dirty||this.cellIndex.add(t.r,t.c);return}const i=this.tabId;this.doc.update(a=>{a.sheets[i].sheet[r]=n}),this.dirty||this.cellIndex.add(t.r,t.c)}async get(t){const n=at(t);if(this.batchOverlay&&this.batchOverlay.has(n)){const r=this.batchOverlay.get(n);return r===null?void 0:r}return this.getSheet().sheet[n]}async has(t){const n=at(t);return this.batchOverlay&&this.batchOverlay.has(n)?this.batchOverlay.get(n)!==null:this.getSheet().sheet[n]!==void 0}async delete(t){const n=at(t);if(this.batchOverlay){let a=!1;return this.batchOverlay.has(n)?a=this.batchOverlay.get(n)!==null:a=this.getSheet().sheet[n]!==void 0,a?(this.batchOverlay.set(n,null),this.dirty||this.cellIndex.remove(t.r,t.c),!0):!1}let r=!1;const i=this.tabId;return this.doc.update(a=>{a.sheets[i].sheet[n]!==void 0&&(delete a.sheets[i].sheet[n],r=!0)}),r&&!this.dirty&&this.cellIndex.remove(t.r,t.c),r}async deleteRange(t){this.ensureIndex();const n=Array.from(this.cellIndex.cellsInRange(t)),r=new Set;if(this.batchOverlay){for(const[a,l]of n){const u=at({r:a,c:l});this.batchOverlay.has(u)&&this.batchOverlay.get(u)===null||(this.batchOverlay.set(u,null),r.add(u))}for(const[a,l]of n)this.cellIndex.remove(a,l);return r}const i=this.tabId;this.doc.update(a=>{for(const[l,u]of n){const c=at({r:l,c:u});delete a.sheets[i].sheet[c],r.add(c)}});for(const[a,l]of n)this.cellIndex.remove(a,l);return r}async setGrid(t){if(this.batchOverlay){for(const[r,i]of t)this.batchOverlay.set(r,i);if(!this.dirty)for(const[r]of t){const i=Pt(r);this.cellIndex.add(i.r,i.c)}return}const n=this.tabId;if(this.doc.update(r=>{for(const[i,a]of t)r.sheets[n].sheet[i]=a}),!this.dirty)for(const[r]of t){const i=Pt(r);this.cellIndex.add(i.r,i.c)}}async getGrid(t){this.ensureIndex();const n=this.getSheet().sheet,r=new Map;for(const[i,a]of this.cellIndex.cellsInRange(t)){const l=at({r:i,c:a});if(this.batchOverlay&&this.batchOverlay.has(l)){const c=this.batchOverlay.get(l);c!==null&&r.set(l,c);continue}const u=n[l];u!==void 0&&r.set(l,u)}return r}async findEdge(t,n,r){return this.ensureIndex(),CR(this.cellIndex,t,n,r,(i,a)=>{const l=at({r:i,c:a}),u=this.getSheet().sheet[l];return u!==void 0&&(!!u.v||!!u.f)})}async shiftCells(t,n,r){const i=this.tabId;this.doc.update(a=>{const l=a.sheets[i],u=[];for(const[b,E]of Object.entries(l.sheet))u.push([b,{v:E.v,f:E.f,s:E.s}]);for(const[b]of u)delete l.sheet[b];for(const[b,E]of u){const C=Vk(b,t,n,r);C!==null&&(E.f?l.sheet[C]={...E,f:Gk(E.f,t,n,r)}:l.sheet[C]={...E})}const c=t==="row"?l.rowHeights:l.colWidths,g=[];for(const[b,E]of Object.entries(c))g.push([b,E]);for(const[b]of g)delete c[b];for(const[b,E]of g){const C=Number(b);if(r>0)C>=n?c[String(C+r)]=E:c[b]=E;else{const w=Math.abs(r);C>=n&&C<n+w||(C>=n+w?c[String(C+r)]=E:c[b]=E)}}const p=t==="row"?l.rowStyles:l.colStyles;if(p){const b=[];for(const[E,C]of Object.entries(p))b.push([E,C]);for(const[E]of b)delete p[E];for(const[E,C]of b){const w=Number(E);if(r>0)w>=n?p[String(w+r)]=C:p[E]=C;else{const R=Math.abs(r);w>=n&&w<n+R||(w>=n+R?p[String(w+r)]=C:p[E]=C)}}}const m=new Map(Object.entries(l.merges||{})),x=AR(m,t,n,r);l.merges={};for(const[b,E]of x)l.merges[b]=E}),this.dirty=!0}async moveCells(t,n,r,i){const a=this.tabId;this.doc.update(l=>{const u=l.sheets[a],c=[];for(const[E,C]of Object.entries(u.sheet))c.push([E,{v:C.v,f:C.f,s:C.s}]);for(const[E]of c)delete u.sheet[E];for(const[E,C]of c){const w=Pt(E),R=Yc(w,t,n,r,i),I=at(R);C.f?u.sheet[I]={...C,f:Uk(C.f,t,n,r,i)}:u.sheet[I]={...C}}const g=t==="row"?u.rowHeights:u.colWidths,p=[];for(const[E,C]of Object.entries(g))p.push([E,C]);for(const[E]of p)delete g[E];for(const[E,C]of p){const w=Number(E),R=ef(w,n,r,i);g[String(R)]=C}const m=t==="row"?u.rowStyles:u.colStyles;if(m){const E=[];for(const[C,w]of Object.entries(m))E.push([C,w]);for(const[C]of E)delete m[C];for(const[C,w]of E){const R=Number(C),I=ef(R,n,r,i);m[String(I)]=w}}const x=new Map(Object.entries(u.merges||{})),b=ER(x,t,n,r,i);u.merges={};for(const[E,C]of b)u.merges[E]=C}),this.dirty=!0}async getFormulaGrid(){const t=new Map,n=this.getSheet().sheet;for(const[r,i]of Object.entries(n))i.f&&t.set(r,i);return t}async buildDependantsMap(t){const n=new Map,r=this.getSheet().sheet;if(this.batchOverlay){for(const[i,a]of Object.entries(r))if(!this.batchOverlay.has(i)&&a.f)for(const l of Da(vv(a.f)))ch(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(i));for(const[i,a]of this.batchOverlay)if(!(a===null||!a.f))for(const l of Da(vv(a.f)))ch(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(i));return n}for(const[i,a]of Object.entries(r))if(a.f)for(const l of Da(vv(a.f)))ch(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(i));return n}async setDimensionSize(t,n,r){if(this.batchOps){const a=this.tabId;this.batchOps.push(l=>{const u=t==="row"?l.sheets[a].rowHeights:l.sheets[a].colWidths;u[String(n)]=r});return}const i=this.tabId;this.doc.update(a=>{const l=t==="row"?a.sheets[i].rowHeights:a.sheets[i].colWidths;l[String(n)]=r})}async getDimensionSizes(t){const n=this.getSheet(),r=t==="row"?n.rowHeights:n.colWidths,i=new Map;if(r)for(const[a,l]of Object.entries(r))i.set(Number(a),l);return i}updateActiveCell(t){this.doc.update((n,r)=>{r.set({activeCell:at(t)})})}getPresences(){return this.doc.getOthersPresences()}async setColumnStyle(t,n){if(this.batchOps){const i=this.tabId;this.batchOps.push(a=>{a.sheets[i].colStyles||(a.sheets[i].colStyles={}),a.sheets[i].colStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(i=>{i.sheets[r].colStyles||(i.sheets[r].colStyles={}),i.sheets[r].colStyles[String(t)]=n})}async getColumnStyles(){const t=this.getSheet(),n=new Map;if(t.colStyles)for(const[r,i]of Object.entries(t.colStyles))n.set(Number(r),i);return n}async setRowStyle(t,n){if(this.batchOps){const i=this.tabId;this.batchOps.push(a=>{a.sheets[i].rowStyles||(a.sheets[i].rowStyles={}),a.sheets[i].rowStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(i=>{i.sheets[r].rowStyles||(i.sheets[r].rowStyles={}),i.sheets[r].rowStyles[String(t)]=n})}async getRowStyles(){const t=this.getSheet(),n=new Map;if(t.rowStyles)for(const[r,i]of Object.entries(t.rowStyles))n.set(Number(r),i);return n}async setSheetStyle(t){if(this.batchOps){const r=this.tabId;this.batchOps.push(i=>{i.sheets[r].sheetStyle=t});return}const n=this.tabId;this.doc.update(r=>{r.sheets[n].sheetStyle=t})}async getSheetStyle(){const t=this.getSheet();return t.sheetStyle?{...t.sheetStyle}:void 0}async setMerge(t,n){if(this.batchOps){const a=this.tabId,l=at(t);this.batchOps.push(u=>{u.sheets[a].merges||(u.sheets[a].merges={}),u.sheets[a].merges[l]={...n}});return}const r=this.tabId,i=at(t);this.doc.update(a=>{a.sheets[r].merges||(a.sheets[r].merges={}),a.sheets[r].merges[i]={...n}})}async deleteMerge(t){var a;const n=at(t);if(this.batchOps){const l=this.tabId;return!((a=this.getSheet().merges)!=null&&a[n])?!1:(this.batchOps.push(g=>{var p;(p=g.sheets[l].merges)!=null&&p[n]&&delete g.sheets[l].merges[n]}),!0)}let r=!1;const i=this.tabId;return this.doc.update(l=>{var u;(u=l.sheets[i].merges)!=null&&u[n]&&(delete l.sheets[i].merges[n],r=!0)}),r}async getMerges(){const t=this.getSheet(),n=new Map;if(!t.merges)return n;for(const[r,i]of Object.entries(t.merges))n.set(r,{...i});return n}async setFreezePane(t,n){if(this.batchOps){const i=this.tabId;this.batchOps.push(a=>{a.sheets[i].frozenRows=t,a.sheets[i].frozenCols=n});return}const r=this.tabId;this.doc.update(i=>{i.sheets[r].frozenRows=t,i.sheets[r].frozenCols=n})}async getFreezePane(){const t=this.getSheet();return{frozenRows:t.frozenRows??0,frozenCols:t.frozenCols??0}}beginBatch(){this.batchOverlay=new Map,this.batchOps=[]}endBatch(){const t=this.batchOverlay,n=this.batchOps;this.batchOverlay=null,this.batchOps=null;const r=t&&t.size>0,i=n&&n.length>0;if(!r&&!i)return;const a=this.tabId;this.doc.update(l=>{const u=l.sheets[a];if(t)for(const[c,g]of t)g===null?u.sheet[c]!==void 0&&delete u.sheet[c]:u.sheet[c]=g;if(n)for(const c of n)c(l)}),this.dirty=!0}async undo(){if(!this.doc.history.canUndo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet)),n=new Map(Object.entries(this.getSheet().merges||{}));return this.doc.history.undo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t,n)}}async redo(){if(!this.doc.history.canRedo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet)),n=new Map(Object.entries(this.getSheet().merges||{}));return this.doc.history.redo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t,n)}}computeAffectedRange(t,n){const r=new Set(Object.keys(this.getSheet().sheet)),i=new Map(Object.entries(this.getSheet().merges||{})),a=new Set;for(const p of r)t.has(p)||a.add(p);for(const p of t)r.has(p)||a.add(p);for(const[p,m]of i){const x=n.get(p);(!x||x.rs!==m.rs||x.cs!==m.cs)&&a.add(p)}for(const p of n.keys())i.has(p)||a.add(p);if(a.size===0)return;let l=1/0,u=-1/0,c=1/0,g=-1/0;for(const p of a){const m=Pt(p);m.r<l&&(l=m.r),m.r>u&&(u=m.r),m.c<c&&(c=m.c),m.c>g&&(g=m.c)}return[{r:l,c},{r:u,c:g}]}canUndo(){return this.doc.history.canUndo()}canRedo(){return this.doc.history.canRedo()}}function eB({tabId:e,readOnly:t=!1}){const{resolvedTheme:n}=Qk(),r=P.useRef(null),[i,a]=P.useState(!1),l=P.useRef(void 0),{doc:u,loading:c,error:g}=La.useDocument();return P.useEffect(()=>{a(!0)},[]),P.useEffect(()=>{const p=r.current;if(!i||!p||!u)return;let m,x=[],b=!1,E=!1,C=!1;return Xk(p,{theme:n,store:new cK(u,e),readOnly:t}).then(w=>{if(b){w.cleanup();return}m=w,l.current=w;const R=()=>{if(!(b||!m)){if(E){C=!0;return}E=!0,m.reloadDimensions().then(()=>{if(!(b||!m))return m.recalculateCrossSheetFormulas()}).finally(()=>{E=!1,C&&(C=!1,queueMicrotask(R))})}};w.setGridResolver((I,N)=>{const D=u.getRoot(),L=Object.values(D.tabs).find($=>$.name.toUpperCase()===I);if(!L)return;const k=D.sheets[L.id];if(!k)return;const j=new Map;if(k.merges)for(const[$,K]of Object.entries(k.merges)){const ne=Pt($);for(let re=ne.r;re<ne.r+K.rs;re++)for(let Se=ne.c;Se<ne.c+K.cs;Se++){const Me=at({r:re,c:Se});Me!==$&&j.set(Me,$)}}const B=new Map;for(const $ of N){const K=Pt($),ne=at(K),re=j.get(ne)||ne,Se=k.sheet[re];Se&&B.set($,Se)}return B}),R(),x.push(u.subscribe(I=>{I.type==="remote-change"&&R()})),x.push(u.subscribe("presence",()=>m.renderOverlay()))}),()=>{b=!0,m&&m.cleanup(),l.current=void 0;for(const w of x)w()}},[i,r,u,e,t]),c?O.jsx(Ou,{}):g?O.jsx("div",{className:"flex h-full w-full items-center justify-center",children:O.jsx("div",{className:"text-red-500",children:g.message})}):O.jsxs("div",{className:"flex h-full w-full flex-col",children:[!t&&O.jsx(aK,{spreadsheet:l.current}),O.jsx("div",{ref:r,className:"flex-1 w-full"})]})}function fK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const f1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Lg(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function TR(e){return"nodeType"in e}function Ji(e){var t,n;return e?Lg(e)?e:TR(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function NR(e){const{Document:t}=Ji(e);return e instanceof t}function ay(e){return Lg(e)?!1:e instanceof Ji(e).HTMLElement}function tB(e){return e instanceof Ji(e).SVGElement}function Fg(e){return e?Lg(e)?e.document:TR(e)?NR(e)?e:ay(e)||tB(e)?e.ownerDocument:document:document:document}const Fa=f1?P.useLayoutEffect:P.useEffect;function _R(e){const t=P.useRef(e);return Fa(()=>{t.current=e}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function dK(){const e=P.useRef(null),t=P.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=P.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Nv(e,t){t===void 0&&(t=[e]);const n=P.useRef(e);return Fa(()=>{n.current!==e&&(n.current=e)},t),n}function ly(e,t){const n=P.useRef();return P.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function vS(e){const t=_R(e),n=P.useRef(null),r=P.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function jC(e){const t=P.useRef();return P.useEffect(()=>{t.current=e},[e]),t.current}let Lw={};function uy(e,t){return P.useMemo(()=>{if(t)return t;const n=Lw[e]==null?0:Lw[e]+1;return Lw[e]=n,e+"-"+n},[e,t])}function nB(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,l)=>{const u=Object.entries(l);for(const[c,g]of u){const p=a[c];p!=null&&(a[c]=p+e*g)}return a},{...t})}}const Zp=nB(1),yS=nB(-1);function hK(e){return"clientX"in e&&"clientY"in e}function IR(e){if(!e)return!1;const{KeyboardEvent:t}=Ji(e.target);return t&&e instanceof t}function pK(e){if(!e)return!1;const{TouchEvent:t}=Ji(e.target);return t&&e instanceof t}function zC(e){if(pK(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return hK(e)?{x:e.clientX,y:e.clientY}:null}const _v=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[_v.Translate.toString(e),_v.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),GD="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gK(e){return e.matches(GD)?e:e.querySelector(GD)}const mK={display:"none"};function vK(e){let{id:t,value:n}=e;return Ke.createElement("div",{id:t,style:mK},n)}function yK(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ke.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function xK(){const[e,t]=P.useState("");return{announce:P.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const rB=P.createContext(null);function bK(e){const t=P.useContext(rB);P.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function SK(){const[e]=P.useState(()=>new Set),t=P.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[P.useCallback(r=>{let{type:i,event:a}=r;e.forEach(l=>{var u;return(u=l[i])==null?void 0:u.call(l,a)})},[e]),t]}const AK={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},EK={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function wK(e){let{announcements:t=EK,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=AK}=e;const{announce:a,announcement:l}=xK(),u=uy("DndLiveRegion"),[c,g]=P.useState(!1);if(P.useEffect(()=>{g(!0)},[]),bK(P.useMemo(()=>({onDragStart(m){let{active:x}=m;a(t.onDragStart({active:x}))},onDragMove(m){let{active:x,over:b}=m;t.onDragMove&&a(t.onDragMove({active:x,over:b}))},onDragOver(m){let{active:x,over:b}=m;a(t.onDragOver({active:x,over:b}))},onDragEnd(m){let{active:x,over:b}=m;a(t.onDragEnd({active:x,over:b}))},onDragCancel(m){let{active:x,over:b}=m;a(t.onDragCancel({active:x,over:b}))}}),[a,t])),!c)return null;const p=Ke.createElement(Ke.Fragment,null,Ke.createElement(vK,{id:r,value:i.draggable}),Ke.createElement(yK,{id:u,announcement:l}));return n?_a.createPortal(p,n):p}var Dr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Dr||(Dr={}));function xS(){}function CK(e,t){return P.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function RK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ms=Object.freeze({x:0,y:0});function TK(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function NK(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function _K(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function IK(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function $D(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const OK=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=$D(t,t.left,t.top),a=[];for(const l of r){const{id:u}=l,c=n.get(u);if(c){const g=TK($D(c),i);a.push({id:u,data:{droppableContainer:l,value:g}})}}return a.sort(NK)};function DK(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),l=i-r,u=a-n;if(r<i&&n<a){const c=t.width*t.height,g=e.width*e.height,p=l*u,m=p/(c+g-p);return Number(m.toFixed(4))}return 0}const MK=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:l}=a,u=n.get(l);if(u){const c=DK(u,t);c>0&&i.push({id:l,data:{droppableContainer:a,value:c}})}}return i.sort(_K)};function PK(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function iB(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ms}function LK(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const FK=LK(1);function kK(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function BK(e,t,n){const r=kK(t);if(!r)return e;const{scaleX:i,scaleY:a,x:l,y:u}=r,c=e.left-l-(1-i)*parseFloat(n),g=e.top-u-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?e.width/i:e.width,m=a?e.height/a:e.height;return{width:p,height:m,top:g,right:c+p,bottom:g+m,left:c}}const jK={ignoreTransform:!1};function kg(e,t){t===void 0&&(t=jK);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:g,transformOrigin:p}=Ji(e).getComputedStyle(e);g&&(n=BK(n,g,p))}const{top:r,left:i,width:a,height:l,bottom:u,right:c}=n;return{top:r,left:i,width:a,height:l,bottom:u,right:c}}function WD(e){return kg(e,{ignoreTransform:!0})}function zK(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function UK(e,t){return t===void 0&&(t=Ji(e).getComputedStyle(e)),t.position==="fixed"}function VK(e,t){t===void 0&&(t=Ji(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function OR(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(NR(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!ay(i)||tB(i)||n.includes(i))return n;const a=Ji(e).getComputedStyle(i);return i!==e&&VK(i,a)&&n.push(i),UK(i,a)?n:r(i.parentNode)}return e?r(e):n}function oB(e){const[t]=OR(e,1);return t??null}function Fw(e){return!f1||!e?null:Lg(e)?e:TR(e)?NR(e)||e===Fg(e).scrollingElement?window:ay(e)?e:null:null}function sB(e){return Lg(e)?e.scrollX:e.scrollLeft}function aB(e){return Lg(e)?e.scrollY:e.scrollTop}function UC(e){return{x:sB(e),y:aB(e)}}var Ur;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ur||(Ur={}));function lB(e){return!f1||!e?!1:e===document.scrollingElement}function uB(e){const t={x:0,y:0},n=lB(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const GK={x:.2,y:.2};function $K(e,t,n,r,i){let{top:a,left:l,right:u,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=GK);const{isTop:g,isBottom:p,isLeft:m,isRight:x}=uB(e),b={x:0,y:0},E={x:0,y:0},C={height:t.height*i.y,width:t.width*i.x};return!g&&a<=t.top+C.height?(b.y=Ur.Backward,E.y=r*Math.abs((t.top+C.height-a)/C.height)):!p&&c>=t.bottom-C.height&&(b.y=Ur.Forward,E.y=r*Math.abs((t.bottom-C.height-c)/C.height)),!x&&u>=t.right-C.width?(b.x=Ur.Forward,E.x=r*Math.abs((t.right-C.width-u)/C.width)):!m&&l<=t.left+C.width&&(b.x=Ur.Backward,E.x=r*Math.abs((t.left+C.width-l)/C.width)),{direction:b,speed:E}}function WK(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function cB(e){return e.reduce((t,n)=>Zp(t,UC(n)),Ms)}function HK(e){return e.reduce((t,n)=>t+sB(n),0)}function YK(e){return e.reduce((t,n)=>t+aB(n),0)}function qK(e,t){if(t===void 0&&(t=kg),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);oB(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const KK=[["x",["left","right"],HK],["y",["top","bottom"],YK]];class DR{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=OR(n),i=cB(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,l,u]of KK)for(const c of l)Object.defineProperty(this,c,{get:()=>{const g=u(r),p=i[a]-g;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class yv{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function XK(e){const{EventTarget:t}=Ji(e);return e instanceof t?e:Fg(e)}function kw(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Go;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Go||(Go={}));function HD(e){e.preventDefault()}function ZK(e){e.stopPropagation()}var bn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(bn||(bn={}));const fB={start:[bn.Space,bn.Enter],cancel:[bn.Esc],end:[bn.Space,bn.Enter,bn.Tab]},JK=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case bn.Right:return{...n,x:n.x+25};case bn.Left:return{...n,x:n.x-25};case bn.Down:return{...n,y:n.y+25};case bn.Up:return{...n,y:n.y-25}}};class dB{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new yv(Fg(n)),this.windowListeners=new yv(Ji(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Go.Resize,this.handleCancel),this.windowListeners.add(Go.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Go.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&qK(r),n(Ms)}handleKeyDown(t){if(IR(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=fB,coordinateGetter:l=JK,scrollBehavior:u="smooth"}=i,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:g}=r.current,p=g?{x:g.left,y:g.top}:Ms;this.referenceCoordinates||(this.referenceCoordinates=p);const m=l(t,{active:n,context:r.current,currentCoordinates:p});if(m){const x=yS(m,p),b={x:0,y:0},{scrollableAncestors:E}=r.current;for(const C of E){const w=t.code,{isTop:R,isRight:I,isLeft:N,isBottom:D,maxScroll:L,minScroll:k}=uB(C),j=WK(C),B={x:Math.min(w===bn.Right?j.right-j.width/2:j.right,Math.max(w===bn.Right?j.left:j.left+j.width/2,m.x)),y:Math.min(w===bn.Down?j.bottom-j.height/2:j.bottom,Math.max(w===bn.Down?j.top:j.top+j.height/2,m.y))},$=w===bn.Right&&!I||w===bn.Left&&!N,K=w===bn.Down&&!D||w===bn.Up&&!R;if($&&B.x!==m.x){const ne=C.scrollLeft+x.x,re=w===bn.Right&&ne<=L.x||w===bn.Left&&ne>=k.x;if(re&&!x.y){C.scrollTo({left:ne,behavior:u});return}re?b.x=C.scrollLeft-ne:b.x=w===bn.Right?C.scrollLeft-L.x:C.scrollLeft-k.x,b.x&&C.scrollBy({left:-b.x,behavior:u});break}else if(K&&B.y!==m.y){const ne=C.scrollTop+x.y,re=w===bn.Down&&ne<=L.y||w===bn.Up&&ne>=k.y;if(re&&!x.x){C.scrollTo({top:ne,behavior:u});return}re?b.y=C.scrollTop-ne:b.y=w===bn.Down?C.scrollTop-L.y:C.scrollTop-k.y,b.y&&C.scrollBy({top:-b.y,behavior:u});break}}this.handleMove(t,Zp(yS(m,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}dB.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=fB,onActivation:i}=t,{active:a}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=a.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function YD(e){return!!(e&&"distance"in e)}function qD(e){return!!(e&&"delay"in e)}class MR{constructor(t,n,r){var i;r===void 0&&(r=XK(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:l}=a;this.props=t,this.events=n,this.document=Fg(l),this.documentListeners=new yv(this.document),this.listeners=new yv(r),this.windowListeners=new yv(Ji(l)),this.initialCoordinates=(i=zC(a))!=null?i:Ms,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Go.Resize,this.handleCancel),this.windowListeners.add(Go.DragStart,HD),this.windowListeners.add(Go.VisibilityChange,this.handleCancel),this.windowListeners.add(Go.ContextMenu,HD),this.documentListeners.add(Go.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(qD(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(YD(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Go.Click,ZK,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Go.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:l,options:{activationConstraint:u}}=a;if(!i)return;const c=(n=zC(t))!=null?n:Ms,g=yS(i,c);if(!r&&u){if(YD(u)){if(u.tolerance!=null&&kw(g,u.tolerance))return this.handleCancel();if(kw(g,u.distance))return this.handleStart()}if(qD(u)&&kw(g,u.tolerance))return this.handleCancel();this.handlePending(u,g);return}t.cancelable&&t.preventDefault(),l(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===bn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const QK={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class PR extends MR{constructor(t){const{event:n}=t,r=Fg(n.target);super(t,QK,r)}}PR.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const eX={move:{name:"mousemove"},end:{name:"mouseup"}};var VC;(function(e){e[e.RightClick=2]="RightClick"})(VC||(VC={}));class tX extends MR{constructor(t){super(t,eX,Fg(t.event.target))}}tX.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===VC.RightClick?!1:(r==null||r({event:n}),!0)}}];const Bw={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class nX extends MR{constructor(t){super(t,Bw)}static setup(){return window.addEventListener(Bw.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Bw.move.name,t)};function t(){}}}nX.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var xv;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(xv||(xv={}));var bS;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(bS||(bS={}));function rX(e){let{acceleration:t,activator:n=xv.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:l=5,order:u=bS.TreeOrder,pointerCoordinates:c,scrollableAncestors:g,scrollableAncestorRects:p,delta:m,threshold:x}=e;const b=oX({delta:m,disabled:!a}),[E,C]=dK(),w=P.useRef({x:0,y:0}),R=P.useRef({x:0,y:0}),I=P.useMemo(()=>{switch(n){case xv.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case xv.DraggableRect:return i}},[n,i,c]),N=P.useRef(null),D=P.useCallback(()=>{const k=N.current;if(!k)return;const j=w.current.x*R.current.x,B=w.current.y*R.current.y;k.scrollBy(j,B)},[]),L=P.useMemo(()=>u===bS.TreeOrder?[...g].reverse():g,[u,g]);P.useEffect(()=>{if(!a||!g.length||!I){C();return}for(const k of L){if((r==null?void 0:r(k))===!1)continue;const j=g.indexOf(k),B=p[j];if(!B)continue;const{direction:$,speed:K}=$K(k,B,I,t,x);for(const ne of["x","y"])b[ne][$[ne]]||(K[ne]=0,$[ne]=0);if(K.x>0||K.y>0){C(),N.current=k,E(D,l),w.current=K,R.current=$;return}}w.current={x:0,y:0},R.current={x:0,y:0},C()},[t,D,r,C,a,l,JSON.stringify(I),JSON.stringify(b),E,g,L,p,JSON.stringify(x)])}const iX={x:{[Ur.Backward]:!1,[Ur.Forward]:!1},y:{[Ur.Backward]:!1,[Ur.Forward]:!1}};function oX(e){let{delta:t,disabled:n}=e;const r=jC(t);return ly(i=>{if(n||!r||!i)return iX;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ur.Backward]:i.x[Ur.Backward]||a.x===-1,[Ur.Forward]:i.x[Ur.Forward]||a.x===1},y:{[Ur.Backward]:i.y[Ur.Backward]||a.y===-1,[Ur.Forward]:i.y[Ur.Forward]||a.y===1}}},[n,t,r])}function sX(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return ly(i=>{var a;return t==null?null:(a=r??i)!=null?a:null},[r,t])}function aX(e,t){return P.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...a]},[]),[e,t])}var Iv;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Iv||(Iv={}));var GC;(function(e){e.Optimized="optimized"})(GC||(GC={}));const KD=new Map;function lX(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,l]=P.useState(null),{frequency:u,measure:c,strategy:g}=i,p=P.useRef(e),m=w(),x=Nv(m),b=P.useCallback(function(R){R===void 0&&(R=[]),!x.current&&l(I=>I===null?R:I.concat(R.filter(N=>!I.includes(N))))},[x]),E=P.useRef(null),C=ly(R=>{if(m&&!n)return KD;if(!R||R===KD||p.current!==e||a!=null){const I=new Map;for(let N of e){if(!N)continue;if(a&&a.length>0&&!a.includes(N.id)&&N.rect.current){I.set(N.id,N.rect.current);continue}const D=N.node.current,L=D?new DR(c(D),D):null;N.rect.current=L,L&&I.set(N.id,L)}return I}return R},[e,a,n,m,c]);return P.useEffect(()=>{p.current=e},[e]),P.useEffect(()=>{m||b()},[n,m]),P.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),P.useEffect(()=>{m||typeof u!="number"||E.current!==null||(E.current=setTimeout(()=>{b(),E.current=null},u))},[u,m,b,...r]),{droppableRects:C,measureDroppableContainers:b,measuringScheduled:a!=null};function w(){switch(g){case Iv.Always:return!1;case Iv.BeforeDragging:return n;default:return!n}}}function hB(e,t){return ly(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function uX(e,t){return hB(e,t)}function cX(e){let{callback:t,disabled:n}=e;const r=_R(t),i=P.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return P.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function d1(e){let{callback:t,disabled:n}=e;const r=_R(t),i=P.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return P.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function fX(e){return new DR(kg(e),e)}function XD(e,t,n){t===void 0&&(t=fX);const[r,i]=P.useState(null);function a(){i(c=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=c??n)!=null?g:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const l=cX({callback(c){if(e)for(const g of c){const{type:p,target:m}=g;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){a();break}}}}),u=d1({callback:a});return Fa(()=>{a(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function dX(e){const t=hB(e);return iB(e,t)}const ZD=[];function hX(e){const t=P.useRef(e),n=ly(r=>e?r&&r!==ZD&&e&&t.current&&e.parentNode===t.current.parentNode?r:OR(e):ZD,[e]);return P.useEffect(()=>{t.current=e},[e]),n}function pX(e){const[t,n]=P.useState(null),r=P.useRef(e),i=P.useCallback(a=>{const l=Fw(a.target);l&&n(u=>u?(u.set(l,UC(l)),new Map(u)):null)},[]);return P.useEffect(()=>{const a=r.current;if(e!==a){l(a);const u=e.map(c=>{const g=Fw(c);return g?(g.addEventListener("scroll",i,{passive:!0}),[g,UC(g)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(a)};function l(u){u.forEach(c=>{const g=Fw(c);g==null||g.removeEventListener("scroll",i)})}},[i,e]),P.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,l)=>Zp(a,l),Ms):cB(e):Ms,[e,t])}function JD(e,t){t===void 0&&(t=[]);const n=P.useRef(null);return P.useEffect(()=>{n.current=null},t),P.useEffect(()=>{const r=e!==Ms;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?yS(e,n.current):Ms}function gX(e){P.useEffect(()=>{if(!f1)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function mX(e,t){return P.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=l=>{a(l,t)},n},{}),[e,t])}function pB(e){return P.useMemo(()=>e?zK(e):null,[e])}const QD=[];function vX(e,t){t===void 0&&(t=kg);const[n]=e,r=pB(n?Ji(n):null),[i,a]=P.useState(QD);function l(){a(()=>e.length?e.map(c=>lB(c)?r:new DR(t(c),c)):QD)}const u=d1({callback:l});return Fa(()=>{u==null||u.disconnect(),l(),e.forEach(c=>u==null?void 0:u.observe(c))},[e]),i}function yX(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ay(t)?t:e}function xX(e){let{measure:t}=e;const[n,r]=P.useState(null),i=P.useCallback(g=>{for(const{target:p}of g)if(ay(p)){r(m=>{const x=t(p);return m?{...m,width:x.width,height:x.height}:x});break}},[t]),a=d1({callback:i}),l=P.useCallback(g=>{const p=yX(g);a==null||a.disconnect(),p&&(a==null||a.observe(p)),r(p?t(p):null)},[t,a]),[u,c]=vS(l);return P.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const bX=[{sensor:PR,options:{}},{sensor:dB,options:{}}],SX={current:{}},Qb={draggable:{measure:WD},droppable:{measure:WD,strategy:Iv.WhileDragging,frequency:GC.Optimized},dragOverlay:{measure:kg}};class bv extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const AX={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bv,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xS},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Qb,measureDroppableContainers:xS,windowRect:null,measuringScheduled:!1},EX={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xS,draggableNodes:new Map,over:null,measureDroppableContainers:xS},h1=P.createContext(EX),gB=P.createContext(AX);function wX(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bv}}}function CX(e,t){switch(t.type){case Dr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Dr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Dr.DragEnd:case Dr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Dr.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new bv(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Dr.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const l=new bv(e.droppable.containers);return l.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case Dr.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new bv(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function RX(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=P.useContext(h1),a=jC(r),l=jC(n==null?void 0:n.id);return P.useEffect(()=>{if(!t&&!r&&a&&l!=null){if(!IR(a)||document.activeElement===a.target)return;const u=i.get(l);if(!u)return;const{activatorNode:c,node:g}=u;if(!c.current&&!g.current)return;requestAnimationFrame(()=>{for(const p of[c.current,g.current]){if(!p)continue;const m=gK(p);if(m){m.focus();break}}})}},[r,t,i,l,a]),null}function TX(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function NX(e){return P.useMemo(()=>({draggable:{...Qb.draggable,...e==null?void 0:e.draggable},droppable:{...Qb.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Qb.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function _X(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=P.useRef(!1),{x:l,y:u}=typeof i=="boolean"?{x:i,y:i}:i;Fa(()=>{if(!l&&!u||!t){a.current=!1;return}if(a.current||!r)return;const g=t==null?void 0:t.node.current;if(!g||g.isConnected===!1)return;const p=n(g),m=iB(p,r);if(l||(m.x=0),u||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const x=oB(g);x&&x.scrollBy({top:m.y,left:m.x})}},[t,l,u,r,n])}const mB=P.createContext({...Ms,scaleX:1,scaleY:1});var Pc;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Pc||(Pc={}));const IX=P.memo(function(t){var n,r,i,a;let{id:l,accessibility:u,autoScroll:c=!0,children:g,sensors:p=bX,collisionDetection:m=MK,measuring:x,modifiers:b,...E}=t;const C=P.useReducer(CX,void 0,wX),[w,R]=C,[I,N]=SK(),[D,L]=P.useState(Pc.Uninitialized),k=D===Pc.Initialized,{draggable:{active:j,nodes:B,translate:$},droppable:{containers:K}}=w,ne=j!=null?B.get(j):null,re=P.useRef({initial:null,translated:null}),Se=P.useMemo(()=>{var an;return j!=null?{id:j,data:(an=ne==null?void 0:ne.data)!=null?an:SX,rect:re}:null},[j,ne]),Me=P.useRef(null),[Oe,ie]=P.useState(null),[Ae,de]=P.useState(null),ue=Nv(E,Object.values(E)),X=uy("DndDescribedBy",l),oe=P.useMemo(()=>K.getEnabled(),[K]),he=NX(x),{droppableRects:z,measureDroppableContainers:U,measuringScheduled:G}=lX(oe,{dragging:k,dependencies:[$.x,$.y],config:he.droppable}),H=sX(B,j),Q=P.useMemo(()=>Ae?zC(Ae):null,[Ae]),Z=Hn(),J=uX(H,he.draggable.measure);_X({activeNode:j!=null?B.get(j):null,config:Z.layoutShiftCompensation,initialRect:J,measure:he.draggable.measure});const se=XD(H,he.draggable.measure,J),ye=XD(H?H.parentElement:null),xe=P.useRef({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:B,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ae=K.getNodeFor((n=xe.current.over)==null?void 0:n.id),le=xX({measure:he.dragOverlay.measure}),we=(r=le.nodeRef.current)!=null?r:H,Ie=k?(i=le.rect)!=null?i:se:null,je=!!(le.nodeRef.current&&le.rect),Ue=dX(je?null:se),me=pB(we?Ji(we):null),Pe=hX(k?ae??H:null),Ze=vX(Pe),pt=TX(b,{transform:{x:$.x-Ue.x,y:$.y-Ue.y,scaleX:1,scaleY:1},activatorEvent:Ae,active:Se,activeNodeRect:se,containerNodeRect:ye,draggingNodeRect:Ie,over:xe.current.over,overlayNodeRect:le.rect,scrollableAncestors:Pe,scrollableAncestorRects:Ze,windowRect:me}),gt=Q?Zp(Q,$):null,ge=pX(Pe),Ne=JD(ge),qe=JD(ge,[se]),He=Zp(pt,Ne),tt=Ie?FK(Ie,pt):null,lt=Se&&tt?m({active:Se,collisionRect:tt,droppableRects:z,droppableContainers:oe,pointerCoordinates:gt}):null,xt=IK(lt,"id"),[Rt,It]=P.useState(null),sn=je?pt:Zp(pt,qe),ke=PK(sn,(a=Rt==null?void 0:Rt.rect)!=null?a:null,se),nt=P.useRef(null),mt=P.useCallback((an,Qn)=>{let{sensor:rt,options:ln}=Qn;if(Me.current==null)return;const Jt=B.get(Me.current);if(!Jt)return;const rn=an.nativeEvent,vr=new rt({active:Me.current,activeNode:Jt,event:rn,options:ln,context:xe,onAbort(jt){if(!B.get(jt))return;const{onDragAbort:Lt}=ue.current,An={id:jt};Lt==null||Lt(An),I({type:"onDragAbort",event:An})},onPending(jt,un,Lt,An){if(!B.get(jt))return;const{onDragPending:Sr}=ue.current,yi={id:jt,constraint:un,initialCoordinates:Lt,offset:An};Sr==null||Sr(yi),I({type:"onDragPending",event:yi})},onStart(jt){const un=Me.current;if(un==null)return;const Lt=B.get(un);if(!Lt)return;const{onDragStart:An}=ue.current,Mi={activatorEvent:rn,active:{id:un,data:Lt.data,rect:re}};_a.unstable_batchedUpdates(()=>{An==null||An(Mi),L(Pc.Initializing),R({type:Dr.DragStart,initialCoordinates:jt,active:un}),I({type:"onDragStart",event:Mi}),ie(nt.current),de(rn)})},onMove(jt){R({type:Dr.DragMove,coordinates:jt})},onEnd:qt(Dr.DragEnd),onCancel:qt(Dr.DragCancel)});nt.current=vr;function qt(jt){return async function(){const{active:Lt,collisions:An,over:Mi,scrollAdjustedTranslate:Sr}=xe.current;let yi=null;if(Lt&&Sr){const{cancelDrop:Ho}=ue.current;yi={activatorEvent:rn,active:Lt,collisions:An,delta:Sr,over:Mi},jt===Dr.DragEnd&&typeof Ho=="function"&&await Promise.resolve(Ho(yi))&&(jt=Dr.DragCancel)}Me.current=null,_a.unstable_batchedUpdates(()=>{R({type:jt}),L(Pc.Uninitialized),It(null),ie(null),de(null),nt.current=null;const Ho=jt===Dr.DragEnd?"onDragEnd":"onDragCancel";if(yi){const Qi=ue.current[Ho];Qi==null||Qi(yi),I({type:Ho,event:yi})}})}}},[B]),At=P.useCallback((an,Qn)=>(rt,ln)=>{const Jt=rt.nativeEvent,rn=B.get(ln);if(Me.current!==null||!rn||Jt.dndKit||Jt.defaultPrevented)return;const vr={active:rn};an(rt,Qn.options,vr)===!0&&(Jt.dndKit={capturedBy:Qn.sensor},Me.current=ln,mt(rt,Qn))},[B,mt]),Dt=aX(p,At);gX(p),Fa(()=>{se&&D===Pc.Initializing&&L(Pc.Initialized)},[se,D]),P.useEffect(()=>{const{onDragMove:an}=ue.current,{active:Qn,activatorEvent:rt,collisions:ln,over:Jt}=xe.current;if(!Qn||!rt)return;const rn={active:Qn,activatorEvent:rt,collisions:ln,delta:{x:He.x,y:He.y},over:Jt};_a.unstable_batchedUpdates(()=>{an==null||an(rn),I({type:"onDragMove",event:rn})})},[He.x,He.y]),P.useEffect(()=>{const{active:an,activatorEvent:Qn,collisions:rt,droppableContainers:ln,scrollAdjustedTranslate:Jt}=xe.current;if(!an||Me.current==null||!Qn||!Jt)return;const{onDragOver:rn}=ue.current,vr=ln.get(xt),qt=vr&&vr.rect.current?{id:vr.id,rect:vr.rect.current,data:vr.data,disabled:vr.disabled}:null,jt={active:an,activatorEvent:Qn,collisions:rt,delta:{x:Jt.x,y:Jt.y},over:qt};_a.unstable_batchedUpdates(()=>{It(qt),rn==null||rn(jt),I({type:"onDragOver",event:jt})})},[xt]),Fa(()=>{xe.current={activatorEvent:Ae,active:Se,activeNode:H,collisionRect:tt,collisions:lt,droppableRects:z,draggableNodes:B,draggingNode:we,draggingNodeRect:Ie,droppableContainers:K,over:Rt,scrollableAncestors:Pe,scrollAdjustedTranslate:He},re.current={initial:Ie,translated:tt}},[Se,H,lt,tt,B,we,Ie,z,K,Rt,Pe,He]),rX({...Z,delta:$,draggingRect:tt,pointerCoordinates:gt,scrollableAncestors:Pe,scrollableAncestorRects:Ze});const vn=P.useMemo(()=>({active:Se,activeNode:H,activeNodeRect:se,activatorEvent:Ae,collisions:lt,containerNodeRect:ye,dragOverlay:le,draggableNodes:B,droppableContainers:K,droppableRects:z,over:Rt,measureDroppableContainers:U,scrollableAncestors:Pe,scrollableAncestorRects:Ze,measuringConfiguration:he,measuringScheduled:G,windowRect:me}),[Se,H,se,Ae,lt,ye,le,B,K,z,Rt,U,Pe,Ze,he,G,me]),kn=P.useMemo(()=>({activatorEvent:Ae,activators:Dt,active:Se,activeNodeRect:se,ariaDescribedById:{draggable:X},dispatch:R,draggableNodes:B,over:Rt,measureDroppableContainers:U}),[Ae,Dt,Se,se,R,X,B,Rt,U]);return Ke.createElement(rB.Provider,{value:N},Ke.createElement(h1.Provider,{value:kn},Ke.createElement(gB.Provider,{value:vn},Ke.createElement(mB.Provider,{value:ke},g)),Ke.createElement(RX,{disabled:(u==null?void 0:u.restoreFocus)===!1})),Ke.createElement(wK,{...u,hiddenTextDescribedById:X}));function Hn(){const an=(Oe==null?void 0:Oe.autoScrollEnabled)===!1,Qn=typeof c=="object"?c.enabled===!1:c===!1,rt=k&&!an&&!Qn;return typeof c=="object"?{...c,enabled:rt}:{enabled:rt}}}),OX=P.createContext(null),e3="button",DX="Draggable";function MX(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=uy(DX),{activators:l,activatorEvent:u,active:c,activeNodeRect:g,ariaDescribedById:p,draggableNodes:m,over:x}=P.useContext(h1),{role:b=e3,roleDescription:E="draggable",tabIndex:C=0}=i??{},w=(c==null?void 0:c.id)===t,R=P.useContext(w?mB:OX),[I,N]=vS(),[D,L]=vS(),k=mX(l,t),j=Nv(n);Fa(()=>(m.set(t,{id:t,key:a,node:I,activatorNode:D,data:j}),()=>{const $=m.get(t);$&&$.key===a&&m.delete(t)}),[m,t]);const B=P.useMemo(()=>({role:b,tabIndex:C,"aria-disabled":r,"aria-pressed":w&&b===e3?!0:void 0,"aria-roledescription":E,"aria-describedby":p.draggable}),[r,b,C,w,E,p.draggable]);return{active:c,activatorEvent:u,activeNodeRect:g,attributes:B,isDragging:w,listeners:r?void 0:k,node:I,over:x,setNodeRef:N,setActivatorNodeRef:L,transform:R}}function PX(){return P.useContext(gB)}const LX="Droppable",FX={timeout:25};function kX(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=uy(LX),{active:l,dispatch:u,over:c,measureDroppableContainers:g}=P.useContext(h1),p=P.useRef({disabled:n}),m=P.useRef(!1),x=P.useRef(null),b=P.useRef(null),{disabled:E,updateMeasurementsFor:C,timeout:w}={...FX,...i},R=Nv(C??r),I=P.useCallback(()=>{if(!m.current){m.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{g(Array.isArray(R.current)?R.current:[R.current]),b.current=null},w)},[w]),N=d1({callback:I,disabled:E||!l}),D=P.useCallback((B,$)=>{N&&($&&(N.unobserve($),m.current=!1),B&&N.observe(B))},[N]),[L,k]=vS(D),j=Nv(t);return P.useEffect(()=>{!N||!L.current||(N.disconnect(),m.current=!1,N.observe(L.current))},[L,N]),P.useEffect(()=>(u({type:Dr.RegisterDroppable,element:{id:r,key:a,disabled:n,node:L,rect:x,data:j}}),()=>u({type:Dr.UnregisterDroppable,key:a,id:r})),[r]),P.useEffect(()=>{n!==p.current.disabled&&(u({type:Dr.SetDroppableDisabled,id:r,key:a,disabled:n}),p.current.disabled=n)},[r,a,n,u]),{active:l,rect:x,isOver:(c==null?void 0:c.id)===r,node:L,over:c,setNodeRef:k}}function vB(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function BX(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function Fb(e){return e!==null&&e>=0}function jX(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function zX(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const kb={scaleX:1,scaleY:1},UX=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:i,overIndex:a,index:l}=e;const u=(t=n[i])!=null?t:r;if(!u)return null;const c=VX(n,l,i);if(l===i){const g=n[a];return g?{x:i<a?g.left+g.width-(u.left+u.width):g.left-u.left,y:0,...kb}:null}return l>i&&l<=a?{x:-u.width-c,y:0,...kb}:l<i&&l>=a?{x:u.width+c,y:0,...kb}:{x:0,y:0,...kb}};function VX(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return!r||!i&&!a?0:n<t?i?r.left-(i.left+i.width):a.left-(r.left+r.width):a?a.left-(r.left+r.width):r.left-(i.left+i.width)}const yB=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=vB(t,r,n),l=t[i],u=a[i];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},xB="Sortable",bB=Ke.createContext({activeIndex:-1,containerId:xB,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:yB,disabled:{draggable:!1,droppable:!1}});function GX(e){let{children:t,id:n,items:r,strategy:i=yB,disabled:a=!1}=e;const{active:l,dragOverlay:u,droppableRects:c,over:g,measureDroppableContainers:p}=PX(),m=uy(xB,n),x=u.rect!==null,b=P.useMemo(()=>r.map(k=>typeof k=="object"&&"id"in k?k.id:k),[r]),E=l!=null,C=l?b.indexOf(l.id):-1,w=g?b.indexOf(g.id):-1,R=P.useRef(b),I=!jX(b,R.current),N=w!==-1&&C===-1||I,D=zX(a);Fa(()=>{I&&E&&p(b)},[I,b,E,p]),P.useEffect(()=>{R.current=b},[b]);const L=P.useMemo(()=>({activeIndex:C,containerId:m,disabled:D,disableTransforms:N,items:b,overIndex:w,useDragOverlay:x,sortedRects:BX(b,c),strategy:i}),[C,m,D.draggable,D.droppable,N,b,w,c,x,i]);return Ke.createElement(bB.Provider,{value:L},t)}const $X=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return vB(n,r,i).indexOf(t)},WX=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:l,previousItems:u,previousContainerId:c,transition:g}=e;return!g||!r||u!==a&&i===l?!1:n?!0:l!==i&&t===c},HX={duration:200,easing:"ease"},SB="transform",YX=_v.Transition.toString({property:SB,duration:0,easing:"linear"}),qX={roleDescription:"sortable"};function KX(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,l]=P.useState(null),u=P.useRef(n);return Fa(()=>{if(!t&&n!==u.current&&r.current){const c=i.current;if(c){const g=kg(r.current,{ignoreTransform:!0}),p={x:c.left-g.left,y:c.top-g.top,scaleX:c.width/g.width,scaleY:c.height/g.height};(p.x||p.y)&&l(p)}}n!==u.current&&(u.current=n)},[t,n,r,i]),P.useEffect(()=>{a&&l(null)},[a]),a}function XX(e){let{animateLayoutChanges:t=WX,attributes:n,disabled:r,data:i,getNewIndex:a=$X,id:l,strategy:u,resizeObserverConfig:c,transition:g=HX}=e;const{items:p,containerId:m,activeIndex:x,disabled:b,disableTransforms:E,sortedRects:C,overIndex:w,useDragOverlay:R,strategy:I}=P.useContext(bB),N=ZX(r,b),D=p.indexOf(l),L=P.useMemo(()=>({sortable:{containerId:m,index:D,items:p},...i}),[m,i,D,p]),k=P.useMemo(()=>p.slice(p.indexOf(l)),[p,l]),{rect:j,node:B,isOver:$,setNodeRef:K}=kX({id:l,data:L,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...c}}),{active:ne,activatorEvent:re,activeNodeRect:Se,attributes:Me,setNodeRef:Oe,listeners:ie,isDragging:Ae,over:de,setActivatorNodeRef:ue,transform:X}=MX({id:l,data:L,attributes:{...qX,...n},disabled:N.draggable}),oe=fK(K,Oe),he=!!ne,z=he&&!E&&Fb(x)&&Fb(w),U=!R&&Ae,G=U&&z?X:null,Q=z?G??(u??I)({rects:C,activeNodeRect:Se,activeIndex:x,overIndex:w,index:D}):null,Z=Fb(x)&&Fb(w)?a({id:l,items:p,activeIndex:x,overIndex:w}):D,J=ne==null?void 0:ne.id,se=P.useRef({activeId:J,items:p,newIndex:Z,containerId:m}),ye=p!==se.current.items,xe=t({active:ne,containerId:m,isDragging:Ae,isSorting:he,id:l,index:D,items:p,newIndex:se.current.newIndex,previousItems:se.current.items,previousContainerId:se.current.containerId,transition:g,wasDragging:se.current.activeId!=null}),ae=KX({disabled:!xe,index:D,node:B,rect:j});return P.useEffect(()=>{he&&se.current.newIndex!==Z&&(se.current.newIndex=Z),m!==se.current.containerId&&(se.current.containerId=m),p!==se.current.items&&(se.current.items=p)},[he,Z,m,p]),P.useEffect(()=>{if(J===se.current.activeId)return;if(J!=null&&se.current.activeId==null){se.current.activeId=J;return}const we=setTimeout(()=>{se.current.activeId=J},50);return()=>clearTimeout(we)},[J]),{active:ne,activeIndex:x,attributes:Me,data:L,rect:j,index:D,newIndex:Z,items:p,isOver:$,isSorting:he,isDragging:Ae,listeners:ie,node:B,overIndex:w,over:de,setNodeRef:oe,setActivatorNodeRef:ue,setDroppableNodeRef:K,setDraggableNodeRef:Oe,transform:ae??Q,transition:le()};function le(){if(ae||ye&&se.current.newIndex===D)return YX;if(!(U&&!IR(re)||!g)&&(he||xe))return _v.Transition.toString({...g,property:SB})}}function ZX(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}bn.Down,bn.Right,bn.Up,bn.Left;const JX=e=>{let{transform:t}=e;return{...t,y:0}};function QX({tab:e,isActive:t,isEditing:n,editValue:r,onEditValueChange:i,onSelect:a,onStartRename:l,onCommitRename:u,onCancelRename:c,onContextMenu:g,inputRef:p}){const{attributes:m,listeners:x,setNodeRef:b,transform:E,transition:C,isDragging:w}=XX({id:e.id,disabled:n}),R={transform:_v.Translate.toString(E),transition:C,zIndex:w?10:void 0,opacity:w?.5:void 0};return O.jsxs("button",{ref:b,style:R,className:St("flex items-center gap-1.5 px-3 py-1 text-sm rounded-t border-b-2 cursor-pointer select-none","hover:bg-muted/50 transition-colors",t?"border-primary bg-background text-foreground font-medium":"border-transparent text-muted-foreground"),onClick:a,onDoubleClick:l,onContextMenu:g,...m,...x,children:[e.type==="datasource"?O.jsx(Kv,{className:"size-3.5"}):O.jsx(ZL,{className:"size-3.5"}),n?O.jsx("input",{ref:p,className:"w-20 bg-transparent border-b border-primary text-sm outline-none",value:r,onChange:I=>i(I.target.value),onBlur:u,onKeyDown:I=>{I.key==="Enter"&&u(),I.key==="Escape"&&c(),I.stopPropagation()},onMouseDown:I=>I.stopPropagation(),onClick:I=>I.stopPropagation(),onPointerDown:I=>I.stopPropagation()}):O.jsx("span",{children:e.name})]})}function eZ({tabs:e,activeTabId:t,onSelectTab:n,onAddTab:r,onRenameTab:i,onDeleteTab:a,onMoveTab:l}){const[u,c]=P.useState(null),[g,p]=P.useState(""),[m,x]=P.useState(null),b=P.useRef(null),E=RK(CK(PR,{activationConstraint:{distance:5}}));P.useEffect(()=>{if(!u)return;const N=setTimeout(()=>{b.current&&(b.current.focus(),b.current.select())},50);return()=>clearTimeout(N)},[u]);const C=P.useCallback(N=>{c(N.id),p(N.name)},[]),w=P.useCallback(()=>{u&&g.trim()&&i(u,g.trim()),c(null)},[u,g,i]),R=P.useCallback(()=>{c(null)},[]),I=P.useCallback(N=>{const{active:D,over:L}=N;if(!L||D.id===L.id||!l)return;const k=e.findIndex(B=>B.id===D.id),j=e.findIndex(B=>B.id===L.id);k!==-1&&j!==-1&&l(k,j)},[e,l]);return O.jsxs("div",{className:"flex items-center border-t bg-muted/30 px-1 h-9 shrink-0",children:[O.jsx(IX,{sensors:E,collisionDetection:OK,modifiers:[JX],onDragEnd:I,children:O.jsx(GX,{items:e.map(N=>N.id),strategy:UX,children:e.map(N=>O.jsxs(Ra,{open:m===N.id,onOpenChange:D=>{D||x(null)},children:[O.jsx(Ta,{asChild:!0,children:O.jsx("div",{children:O.jsx(QX,{tab:N,isActive:N.id===t,isEditing:u===N.id,editValue:g,onEditValueChange:p,onSelect:()=>n(N.id),onStartRename:()=>C(N),onCommitRename:w,onCancelRename:R,onContextMenu:D=>{D.preventDefault(),x(N.id)},inputRef:b})})}),O.jsxs(Na,{align:"start",children:[O.jsx(br,{onClick:()=>{x(null),setTimeout(()=>C(N),0)},children:"Rename"}),e.length>1&&O.jsxs(O.Fragment,{children:[O.jsx(U2,{}),O.jsx(br,{variant:"destructive",onClick:()=>a(N.id),children:"Delete"})]})]})]},N.id))})}),O.jsxs(Ra,{children:[O.jsx(Ta,{asChild:!0,children:O.jsx("button",{className:"flex items-center justify-center size-7 ml-1 rounded hover:bg-muted/50 text-muted-foreground cursor-pointer",children:O.jsx(KL,{className:"size-4"})})}),O.jsxs(Na,{align:"start",children:[O.jsxs(br,{onClick:()=>r("sheet"),children:[O.jsx(ZL,{className:"size-4"}),"New Sheet"]}),O.jsxs(br,{onClick:()=>r("datasource"),children:[O.jsx(Kv,{className:"size-4"}),"New DataSource"]})]})]})]})}const Bg="https://wafflebase-api.yorkie.dev/datasources";async function t3(e){const t=await Oi(Bg,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create datasource");return t.json()}async function $C(){const e=await Oi(Bg);if(!e.ok)throw new Error("Failed to fetch datasources");return e.json()}async function tZ(e,t){const n=await Oi(`${Bg}/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update datasource");return n.json()}async function nZ(e){if(!(await Oi(`${Bg}/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete datasource")}async function SS(e){const t=await Oi(`${Bg}/${e}/test`,{method:"POST"});if(!t.ok)throw new Error("Failed to test connection");return t.json()}async function rZ(e,t){const n=await Oi(`${Bg}/${e}/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.message||"Query execution failed")}return n.json()}function iZ({tabId:e}){const{resolvedTheme:t}=Qk(),n=P.useRef(null),[r,i]=P.useState(!1),a=P.useRef(void 0),l=P.useRef(new Sq),{doc:u,loading:c,error:g}=La.useDocument(),[p,m]=P.useState(""),[x,b]=P.useState(!1),[E,C]=P.useState(null),[w,R]=P.useState(null);P.useEffect(()=>{i(!0)},[]),P.useEffect(()=>{if(!u)return;const L=u.getRoot().tabs[e];L!=null&&L.query&&m(L.query)},[u,e]),P.useEffect(()=>{const D=n.current;if(!r||!D)return;let L,k=!1;return Xk(D,{theme:t,store:l.current,readOnly:!0}).then(j=>{if(k){j.cleanup();return}L=j,a.current=j}),()=>{k=!0,L&&L.cleanup(),a.current=void 0}},[r,t]);const I=P.useCallback(async()=>{if(!u||!p.trim())return;const L=u.getRoot().tabs[e];if(!(L!=null&&L.datasourceId)){R("No datasource connected to this tab");return}u.update(k=>{k.tabs[e]&&(k.tabs[e].query=p)}),b(!0),R(null);try{const k=await rZ(L.datasourceId,p);C(k),l.current.loadQueryResults(k.columns,k.rows),a.current&&(await a.current.reloadDimensions(),a.current.render())}catch(k){R(k.message)}finally{b(!1)}},[u,e,p]),N=P.useCallback(D=>{(D.metaKey||D.ctrlKey)&&D.key==="Enter"&&(D.preventDefault(),I())},[I]);return c?O.jsx(Ou,{}):g?O.jsx("div",{className:"flex h-full w-full items-center justify-center",children:O.jsx("div",{className:"text-red-500",children:g.message})}):O.jsxs("div",{className:"flex h-full w-full flex-col",children:[O.jsx("div",{className:"border-b p-2 shrink-0",children:O.jsx("textarea",{className:"w-full h-24 p-2 font-mono text-sm border rounded resize-y bg-background text-foreground focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"SELECT * FROM users LIMIT 100",value:p,onChange:D=>m(D.target.value),onKeyDown:N})}),O.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 border-b shrink-0",children:[O.jsxs(nr,{size:"sm",onClick:I,disabled:x||!p.trim(),children:[O.jsx(j8,{className:"size-4"}),x?"Executing...":"Execute"]}),E&&O.jsxs("span",{className:"text-xs text-muted-foreground",children:[E.rowCount," row",E.rowCount!==1?"s":"",E.truncated?" (truncated)":""," in ",E.executionTime,"ms"]}),w&&O.jsx("span",{className:"text-xs text-destructive truncate",children:w})]}),O.jsx("div",{ref:n,className:"flex-1 w-full"})]})}var oZ=v3[" useInsertionEffect ".trim().toString()]||Pr;function sZ({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,l]=aZ({defaultProp:t,onChange:n}),u=e!==void 0,c=u?e:i;{const p=P.useRef(e!==void 0);P.useEffect(()=>{const m=p.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const g=P.useCallback(p=>{var m;if(u){const x=lZ(p)?p(e):p;x!==e&&((m=l.current)==null||m.call(l,x))}else a(p)},[u,e,a,l]);return[c,g]}function aZ({defaultProp:e,onChange:t}){const[n,r]=P.useState(e),i=P.useRef(n),a=P.useRef(t);return oZ(()=>{a.current=t},[t]),P.useEffect(()=>{var l;i.current!==n&&((l=a.current)==null||l.call(a,n),i.current=n)},[n,i]),[n,r,a]}function lZ(e){return typeof e=="function"}var uZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AB=uZ.reduce((e,t)=>{const n=qc(`Primitive.${t}`),r=P.forwardRef((i,a)=>{const{asChild:l,...u}=i,c=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(c,{...u,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),p1="Switch",[cZ,NQ]=ja(p1),[fZ,dZ]=cZ(p1),EB=P.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:l,disabled:u,value:c="on",onCheckedChange:g,form:p,...m}=e,[x,b]=P.useState(null),E=Sn(t,N=>b(N)),C=P.useRef(!1),w=x?p||!!x.closest("form"):!0,[R,I]=sZ({prop:i,defaultProp:a??!1,onChange:g,caller:p1});return O.jsxs(fZ,{scope:n,checked:R,disabled:u,children:[O.jsx(AB.button,{type:"button",role:"switch","aria-checked":R,"aria-required":l,"data-state":TB(R),"data-disabled":u?"":void 0,disabled:u,value:c,...m,ref:E,onClick:dt(e.onClick,N=>{I(D=>!D),w&&(C.current=N.isPropagationStopped(),C.current||N.stopPropagation())})}),w&&O.jsx(RB,{control:x,bubbles:!C.current,name:r,value:c,checked:R,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});EB.displayName=p1;var wB="SwitchThumb",CB=P.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=dZ(wB,n);return O.jsx(AB.span,{"data-state":TB(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});CB.displayName=wB;var hZ="SwitchBubbleInput",RB=P.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const l=P.useRef(null),u=Sn(l,a),c=sF(n),g=CP(t);return P.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&b){const E=new Event("click",{bubbles:r});b.call(p,n),p.dispatchEvent(E)}},[c,n,r]),O.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});RB.displayName=hZ;function TB(e){return e?"checked":"unchecked"}var pZ=EB,gZ=CB;function LR({className:e,...t}){return O.jsx(pZ,{"data-slot":"switch",className:St("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:O.jsx(gZ,{"data-slot":"switch-thumb",className:St("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function NB({open:e,onOpenChange:t,onCreated:n}){const[r,i]=P.useState(""),[a,l]=P.useState("localhost"),[u,c]=P.useState("5432"),[g,p]=P.useState(""),[m,x]=P.useState(""),[b,E]=P.useState(""),[C,w]=P.useState(!1),[R,I]=P.useState(!1),[N,D]=P.useState(!1),[L,k]=P.useState(null),j=()=>{i(""),l("localhost"),c("5432"),p(""),x(""),E(""),w(!1),k(null)},B=async()=>{D(!0);try{const K=await t3({name:r,host:a,port:Number(u),database:g,username:m,password:b,sslEnabled:C});k(K.id),Un.success("DataSource created"),n(K),j(),t(!1)}catch{Un.error("Failed to create datasource")}finally{D(!1)}},$=async()=>{if(!L){D(!0);try{const K=await t3({name:r||"Untitled",host:a,port:Number(u),database:g,username:m,password:b,sslEnabled:C});k(K.id),I(!0);const ne=await SS(K.id);ne.success?Un.success("Connection successful"):Un.error(`Connection failed: ${ne.error}`)}catch{Un.error("Failed to test connection")}finally{D(!1),I(!1)}return}I(!0);try{const K=await SS(L);K.success?Un.success("Connection successful"):Un.error(`Connection failed: ${K.error}`)}catch{Un.error("Failed to test connection")}finally{I(!1)}};return O.jsx(zv,{open:e,onOpenChange:K=>{K||j(),t(K)},children:O.jsxs(Uv,{className:"sm:max-w-md",children:[O.jsxs(Vv,{children:[O.jsx(Gv,{children:"New DataSource Connection"}),O.jsx($v,{children:"Connect to an external PostgreSQL database."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"ds-name",children:"Name"}),O.jsx(_i,{id:"ds-name",placeholder:"My Database",value:r,onChange:K=>i(K.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[O.jsxs("div",{className:"col-span-2 grid gap-2",children:[O.jsx(Or,{htmlFor:"ds-host",children:"Host"}),O.jsx(_i,{id:"ds-host",placeholder:"localhost",value:a,onChange:K=>l(K.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"ds-port",children:"Port"}),O.jsx(_i,{id:"ds-port",type:"number",value:u,onChange:K=>c(K.target.value)})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"ds-database",children:"Database"}),O.jsx(_i,{id:"ds-database",placeholder:"mydb",value:g,onChange:K=>p(K.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"ds-username",children:"Username"}),O.jsx(_i,{id:"ds-username",placeholder:"postgres",value:m,onChange:K=>x(K.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"ds-password",children:"Password"}),O.jsx(_i,{id:"ds-password",type:"password",value:b,onChange:K=>E(K.target.value)})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(LR,{id:"ds-ssl",checked:C,onCheckedChange:w}),O.jsx(Or,{htmlFor:"ds-ssl",children:"Enable SSL"})]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx(nr,{variant:"outline",onClick:$,disabled:R||!a||!g,children:R?"Testing...":"Test Connection"}),O.jsx(nr,{onClick:B,disabled:N||!r||!a||!g||!m,children:N?"Saving...":"Save"})]})]})})}function mZ({open:e,onOpenChange:t,onSelect:n}){const[r,i]=P.useState([]),[a,l]=P.useState(!1),[u,c]=P.useState(!1),[g,p]=P.useState(null);P.useEffect(()=>{e&&(l(!0),$C().then(i).catch(()=>i([])).finally(()=>l(!1)))},[e]);const m=()=>{const x=r.find(b=>b.id===g);x&&(n(x),t(!1))};return O.jsxs(O.Fragment,{children:[O.jsx(zv,{open:e&&!u,onOpenChange:t,children:O.jsxs(Uv,{className:"sm:max-w-sm",children:[O.jsxs(Vv,{children:[O.jsx(Gv,{children:"Select DataSource"}),O.jsx($v,{children:"Choose an existing connection or create a new one."})]}),O.jsx("div",{className:"grid gap-4 py-2",children:a?O.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading..."}):r.length===0?O.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No datasources yet. Create one to get started."}):O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{children:"Connections"}),O.jsx("div",{className:"flex flex-col gap-1 max-h-60 overflow-y-auto",children:r.map(x=>O.jsxs("button",{className:St("flex items-center gap-2 px-3 py-2 rounded-md border text-sm text-left cursor-pointer","hover:bg-muted/50 transition-colors",g===x.id&&"bg-muted border-primary"),onClick:()=>p(x.id),onDoubleClick:()=>{n(x),t(!1)},children:[O.jsx(Kv,{className:"size-4 text-muted-foreground shrink-0"}),O.jsxs("div",{className:"flex flex-col min-w-0",children:[O.jsx("span",{className:"font-medium truncate",children:x.name}),O.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[x.host,":",x.port,"/",x.database]})]})]},x.id))})]})}),O.jsxs("div",{className:"flex justify-between",children:[O.jsxs(nr,{variant:"outline",onClick:()=>c(!0),children:[O.jsx(KL,{className:"size-4"}),"New Connection"]}),O.jsx(nr,{disabled:!g,onClick:m,children:"Select"})]})]})}),O.jsx(NB,{open:u,onOpenChange:x=>{c(x),x||$C().then(i).catch(()=>{})},onCreated:x=>{n(x),t(!1),c(!1)}})]})}const Bb="tab-1",_B={tabs:{[Bb]:{id:Bb,name:"Sheet1",type:"sheet"}},tabOrder:[Bb],sheets:{[Bb]:{sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},merges:{},frozenRows:0,frozenCols:0}}},vZ={main:[{title:"Documents",url:"/",icon:YL},{title:"Data Sources",url:"/datasources",icon:Kv}],secondary:[{title:"Settings",url:"/settings",icon:XL}]};function yZ(e){if(!e)return;const t=e.getRoot();if(t.tabs||!t.sheet)return;const r="tab-1";e.update(i=>{i.tabs={[r]:{id:r,name:"Sheet1",type:"sheet"}},i.tabOrder=[r],i.sheets={[r]:{sheet:i.sheet||{},rowHeights:i.rowHeights||{},colWidths:i.colWidths||{},colStyles:i.colStyles||{},rowStyles:i.rowStyles||{},sheetStyle:i.sheetStyle,merges:i.merges||{},frozenRows:i.frozenRows||0,frozenCols:i.frozenCols||0}},delete i.sheet,delete i.rowHeights,delete i.colWidths,delete i.colStyles,delete i.rowStyles,delete i.sheetStyle,delete i.merges,delete i.frozenRows,delete i.frozenCols})}function n3(){return`tab-${Date.now()}-${Math.random().toString(36).slice(2,6)}`}function xZ({documentId:e}){$W();const t=kv(),{doc:n}=La.useDocument(),[r,i]=P.useState(null),[a,l]=P.useState(!1),[u,c]=P.useState(!1),{data:g}=Ba({queryKey:["document",e],queryFn:()=>BU(e)}),p=P.useCallback(async D=>{await vM(e,D),t.invalidateQueries({queryKey:["document",e]}),t.invalidateQueries({queryKey:["documents"]})},[e,t]);P.useEffect(()=>{n&&(yZ(n),l(!0))},[n]),P.useEffect(()=>{if(!n||!a)return;const D=n.getRoot();D.tabOrder&&D.tabOrder.length>0&&!r&&i(D.tabOrder[0])},[n,a,r]);const m=P.useCallback(()=>{if(!n)return;const D=n.getRoot(),L=n3(),k=D.tabOrder.filter(j=>{var B;return((B=D.tabs[j])==null?void 0:B.type)==="sheet"}).length+1;n.update(j=>{j.tabs[L]={id:L,name:`Sheet${k}`,type:"sheet"},j.tabOrder.push(L),j.sheets[L]={sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},merges:{},frozenRows:0,frozenCols:0}}),i(L)},[n]),x=P.useCallback(D=>{if(!n)return;const L=n.getRoot(),k=n3(),j=L.tabOrder.filter(B=>{var $;return(($=L.tabs[B])==null?void 0:$.type)==="datasource"}).length+1;n.update(B=>{B.tabs[k]={id:k,name:D.name||`DataSource${j}`,type:"datasource",datasourceId:D.id,query:""},B.tabOrder.push(k)}),i(k)},[n]),b=P.useCallback(D=>{D==="datasource"?c(!0):m()},[m]),E=P.useCallback((D,L)=>{n&&n.update(k=>{k.tabs[D]&&(k.tabs[D].name=L)})},[n]),C=P.useCallback(D=>{if(!n)return;const L=n.getRoot();if(L.tabOrder.length<=1)return;const k=L.tabOrder.indexOf(D);if(n.update(j=>{delete j.tabs[D],j.sheets[D]&&delete j.sheets[D];const B=j.tabOrder.indexOf(D);B!==-1&&j.tabOrder.splice(B,1)}),r===D){const j=n.getRoot(),B=Math.min(k,j.tabOrder.length-1);i(j.tabOrder[B])}},[n,r]),w=P.useCallback((D,L)=>{n&&n.update(k=>{const[j]=k.tabOrder.splice(D,1);k.tabOrder.splice(L,0,j)})},[n]);if(!n||!a||!r)return O.jsx(Ou,{});const R=n.getRoot(),I=R.tabOrder.map(D=>R.tabs[D]).filter(Boolean),N=R.tabs[r];return O.jsxs(FL,{children:[O.jsx(iF,{variant:"inset",items:vZ}),O.jsxs(kL,{children:[O.jsx(oF,{title:(g==null?void 0:g.title)??"Loading...",editable:!0,onRename:p,children:O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(GW,{documentId:e}),O.jsx(eW,{})]})}),O.jsxs("div",{className:"flex flex-1 flex-col",children:[O.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:O.jsx("div",{className:"flex flex-col h-full",children:(N==null?void 0:N.type)==="datasource"?O.jsx(iZ,{tabId:r}):O.jsx(eB,{tabId:r})})}),O.jsx(eZ,{tabs:I,activeTabId:r,onSelectTab:i,onAddTab:b,onRenameTab:E,onDeleteTab:C,onMoveTab:w})]})]}),O.jsx(mZ,{open:u,onOpenChange:c,onSelect:x})]})}function bZ(){const{id:e}=C3(),{data:t,isLoading:n,isError:r}=Ba({queryKey:["me"],queryFn:vh,retry:!1,staleTime:5*60*1e3});return n?O.jsx(Ou,{}):r||!t?O.jsx("div",{children:"User not found"}):!t.username||!t.email?O.jsx(Ou,{}):O.jsx(La.DocumentProvider,{docKey:`sheet-${e}`,initialRoot:_B,initialPresence:{username:t.username,email:t.email,photo:t.photo||""},enableDevtools:!1,children:O.jsx(xZ,{documentId:e})})}const SZ=RS("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function AZ({className:e,variant:t,asChild:n=!1,...r}){const i=n?o2:"span";return O.jsx(i,{"data-slot":"badge",className:St(SZ({variant:t}),e),...r})}function EZ({datasource:e,open:t,onOpenChange:n,onSaved:r}){const[i,a]=P.useState(""),[l,u]=P.useState(""),[c,g]=P.useState("5432"),[p,m]=P.useState(""),[x,b]=P.useState(""),[E,C]=P.useState(""),[w,R]=P.useState(!1),[I,N]=P.useState(!1),[D,L]=P.useState(!1);P.useEffect(()=>{e&&(a(e.name),u(e.host),g(String(e.port)),m(e.database),b(e.username),C(""),R(e.sslEnabled))},[e]);const k=async()=>{if(e){L(!0);try{const B={};i!==e.name&&(B.name=i),l!==e.host&&(B.host=l),Number(c)!==e.port&&(B.port=Number(c)),p!==e.database&&(B.database=p),x!==e.username&&(B.username=x),E&&(B.password=E),w!==e.sslEnabled&&(B.sslEnabled=w),await tZ(e.id,B),Un.success("DataSource updated"),r()}catch{Un.error("Failed to update datasource")}finally{L(!1)}}},j=async()=>{if(e){N(!0);try{const B=await SS(e.id);B.success?Un.success("Connection successful"):Un.error(`Connection failed: ${B.error}`)}catch{Un.error("Failed to test connection")}finally{N(!1)}}};return O.jsx(zv,{open:t,onOpenChange:n,children:O.jsxs(Uv,{className:"sm:max-w-md",children:[O.jsxs(Vv,{children:[O.jsx(Gv,{children:"Edit DataSource"}),O.jsx($v,{children:"Update the connection settings for this datasource."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"edit-ds-name",children:"Name"}),O.jsx(_i,{id:"edit-ds-name",value:i,onChange:B=>a(B.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[O.jsxs("div",{className:"col-span-2 grid gap-2",children:[O.jsx(Or,{htmlFor:"edit-ds-host",children:"Host"}),O.jsx(_i,{id:"edit-ds-host",value:l,onChange:B=>u(B.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"edit-ds-port",children:"Port"}),O.jsx(_i,{id:"edit-ds-port",type:"number",value:c,onChange:B=>g(B.target.value)})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"edit-ds-database",children:"Database"}),O.jsx(_i,{id:"edit-ds-database",value:p,onChange:B=>m(B.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"edit-ds-username",children:"Username"}),O.jsx(_i,{id:"edit-ds-username",value:x,onChange:B=>b(B.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Or,{htmlFor:"edit-ds-password",children:"Password"}),O.jsx(_i,{id:"edit-ds-password",type:"password",placeholder:"Leave blank to keep current",value:E,onChange:B=>C(B.target.value)})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(LR,{id:"edit-ds-ssl",checked:w,onCheckedChange:R}),O.jsx(Or,{htmlFor:"edit-ds-ssl",children:"Enable SSL"})]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx(nr,{variant:"outline",onClick:j,disabled:I,children:I?"Testing...":"Test Connection"}),O.jsx(nr,{onClick:k,disabled:D||!i||!l||!p||!x,children:D?"Saving...":"Save Changes"})]})]})})}function wZ({data:e}){var k,j;const t=kv(),[n,r]=P.useState(!1),[i,a]=P.useState(null),[l,u]=P.useState(null),[c,g]=P.useState({}),p=Vb({mutationFn:async B=>await nZ(B),onSuccess:()=>{t.invalidateQueries({queryKey:["datasources"]}),Un.success("DataSource deleted")},onError:()=>{Un.error("Failed to delete datasource")}}),m=async B=>{u(B),g($=>({...$,[B]:null}));try{const $=await SS(B);g(K=>({...K,[B]:$.success})),$.success?Un.success("Connection successful"):Un.error(`Connection failed: ${$.error}`)}catch{g($=>({...$,[B]:!1})),Un.error("Failed to test connection")}finally{u(null)}},x=[{accessorKey:"name",header:"Name",cell:({row:B})=>O.jsx("div",{className:"font-medium",children:B.getValue("name")})},{id:"connection",header:"Connection",cell:({row:B})=>{const $=B.original;return O.jsxs("div",{className:"text-sm text-muted-foreground",children:[$.host,":",$.port,"/",$.database]})}},{accessorKey:"username",header:"User",cell:({row:B})=>O.jsx("div",{className:"text-sm",children:B.getValue("username")})},{id:"ssl",header:"SSL",cell:({row:B})=>B.original.sslEnabled?O.jsx(AZ,{variant:"secondary",children:"SSL"}):null},{id:"status",header:"Status",cell:({row:B})=>{const $=B.original.id,K=c[$];return l===$?O.jsx(J3,{className:"h-4 w-4 animate-spin text-muted-foreground"}):K===!0?O.jsx(P5,{className:"h-4 w-4 text-green-500"}):K===!1?O.jsx(F5,{className:"h-4 w-4 text-red-500"}):O.jsx("span",{className:"text-sm text-muted-foreground",children:""})}},{accessorKey:"createdAt",header:()=>O.jsx("div",{className:"text-right",children:"Created"}),cell:({row:B})=>{const $=B.getValue("createdAt"),K=DM(new Date($),{includeSeconds:!0,addSuffix:!0});return O.jsx("div",{className:"text-right text-sm",children:K})}},{id:"actions",enableHiding:!1,cell:({row:B})=>{const $=B.original;return O.jsxs(Ra,{children:[O.jsx(Ta,{asChild:!0,children:O.jsxs(nr,{variant:"ghost",className:"h-8 w-8 p-0",children:[O.jsx("span",{className:"sr-only",children:"Open menu"}),O.jsx(X3,{})]})}),O.jsxs(Na,{align:"end",children:[O.jsxs(br,{onClick:K=>{K.stopPropagation(),m($.id)},children:[O.jsx(W5,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),O.jsxs(br,{onClick:K=>{K.stopPropagation(),a($)},children:[O.jsx(Q3,{className:"mr-2 h-4 w-4"}),"Edit"]}),O.jsx(U2,{}),O.jsxs(br,{className:"text-red-500 focus:text-red-500",onClick:K=>{K.stopPropagation(),p.mutate($.id)},children:[O.jsx(tM,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}],[b,E]=P.useState([]),[C,w]=P.useState([]),[R,I]=P.useState({}),[N,D]=P.useState({}),L=OM({data:e,columns:x,onSortingChange:E,onColumnFiltersChange:w,getCoreRowModel:TM(),getPaginationRowModel:_M(),getSortedRowModel:IM(),getFilteredRowModel:NM(),onColumnVisibilityChange:I,onRowSelectionChange:D,state:{sorting:b,columnFilters:C,columnVisibility:R,rowSelection:N}});return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex items-center justify-between py-4",children:[O.jsx(_i,{placeholder:"Filter by name...",value:((k=L.getColumn("name"))==null?void 0:k.getFilterValue())??"",onChange:B=>{var $;return($=L.getColumn("name"))==null?void 0:$.setFilterValue(B.target.value)},className:"max-w-sm"}),O.jsxs(nr,{onClick:()=>r(!0),className:"flex items-center gap-2",children:[O.jsx(eM,{className:"w-4 h-4"}),"New DataSource"]})]}),O.jsx("div",{className:"rounded-md border",children:O.jsxs(SL,{children:[O.jsx(AL,{children:L.getHeaderGroups().map(B=>O.jsx(Kp,{children:B.headers.map($=>O.jsx(wL,{children:$.isPlaceholder?null:rS($.column.columnDef.header,$.getContext())},$.id))},B.id))}),O.jsx(EL,{children:(j=L.getRowModel().rows)!=null&&j.length?L.getRowModel().rows.map(B=>O.jsx(Kp,{"data-state":B.getIsSelected()&&"selected",children:B.getVisibleCells().map($=>O.jsx(fS,{children:rS($.column.columnDef.cell,$.getContext())},$.id))},B.id)):O.jsx(Kp,{children:O.jsx(fS,{colSpan:x.length,className:"h-24 text-center",children:"No datasources yet. Create one to get started."})})})]})}),O.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[O.jsx("div",{className:"flex-1"}),O.jsxs("div",{className:"space-x-2",children:[O.jsx(nr,{variant:"outline",size:"sm",onClick:()=>L.previousPage(),disabled:!L.getCanPreviousPage(),children:"Previous"}),O.jsx(nr,{variant:"outline",size:"sm",onClick:()=>L.nextPage(),disabled:!L.getCanNextPage(),children:"Next"})]})]}),O.jsx(NB,{open:n,onOpenChange:r,onCreated:()=>{r(!1),t.invalidateQueries({queryKey:["datasources"]})}}),O.jsx(EZ,{datasource:i,open:i!==null,onOpenChange:B=>{B||a(null)},onSaved:()=>{a(null),t.invalidateQueries({queryKey:["datasources"]})}})]})}function CZ(){const{data:e=[],isLoading:t,isError:n}=Ba({queryKey:["datasources"],queryFn:$C});return t?O.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:O.jsx("p",{className:"text-gray-500 text-lg",children:"Loading datasources..."})}):n?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[O.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load datasources."}),O.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):O.jsx("div",{className:"p-4",children:O.jsx(wZ,{data:e})})}function RZ({resolved:e}){const t=e.role==="viewer",{doc:n}=La.useDocument();if(!n)return O.jsx(Ou,{});const r=n.getRoot(),i=r.tabOrder&&r.tabOrder.length>0?r.tabOrder[0]:"tab-1";return O.jsxs("div",{className:"flex h-screen w-full flex-col",children:[O.jsxs("header",{className:"flex h-14 shrink-0 items-center gap-2 border-b px-4",children:[O.jsx("h1",{className:"text-base font-medium",children:e.title}),t&&O.jsx("span",{className:"rounded bg-muted px-2 py-0.5 text-xs text-muted-foreground",children:"View only"})]}),O.jsx("div",{className:"flex flex-1 flex-col",children:O.jsx(eB,{tabId:i,readOnly:t})})]})}function TZ({resolved:e}){const{data:t}=Ba({queryKey:["me"],queryFn:vh,retry:!1}),n={username:(t==null?void 0:t.username)||"Anonymous",email:(t==null?void 0:t.email)||"",photo:(t==null?void 0:t.photo)||""};return O.jsx(La.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:n.username},children:O.jsx(La.DocumentProvider,{docKey:`sheet-${e.documentId}`,initialRoot:_B,initialPresence:n,enableDevtools:!1,children:O.jsx(RZ,{resolved:e})})})}function NZ(){const{token:e}=C3(),[t,n]=P.useState(null),[r,i]=P.useState(null),[a,l]=P.useState(!0);return P.useEffect(()=>{if(!e){i("No share token provided"),l(!1);return}zW(e).then(u=>{n(u),l(!1)}).catch(u=>{i(u.message||"Invalid or expired link"),l(!1)})},[e]),a?O.jsx(Ou,{}):r||!t?O.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:O.jsxs("div",{className:"text-center",children:[O.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Link unavailable"}),O.jsx("p",{className:"text-muted-foreground",children:r||"Invalid or expired link"})]})}):O.jsx(TZ,{resolved:t})}function _Z(){const{theme:e,setTheme:t}=P.useContext(RR),n=()=>{t(e==="dark"?"light":"dark")};return O.jsx("div",{className:"max-w-2xl mx-auto p-6",children:O.jsxs("div",{className:"flex items-center justify-between p-4",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"theme-switch",className:"text-sm font-medium",children:"Theme"}),O.jsx("p",{className:"text-xs text-gray-500",children:"Toggle between light and dark themes."})]}),O.jsx("div",{className:"ml-4",children:O.jsx("div",{className:"flex items-center space-x-2",children:O.jsx(LR,{id:"theme-switch",checked:e==="dark",onCheckedChange:n})})})]})})}const IZ=()=>{const{data:e,isLoading:t}=Ba({queryKey:["me"],queryFn:vh,retry:!1});return t?O.jsx(Ou,{}):e?O.jsx(La.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:e.username||"anonymous-user"},children:O.jsx(ZC,{})}):O.jsx(N3,{to:"/login"})},OZ=()=>{const{data:e,isLoading:t}=Ba({queryKey:["me"],queryFn:vh,retry:!1});return t?O.jsx(Ou,{}):e?O.jsx(N3,{to:"/"}):O.jsx(ZC,{})},jw={main:[{title:"Documents",url:"/",icon:YL},{title:"Data Sources",url:"/datasources",icon:Kv}],secondary:[{title:"Settings",url:"/settings",icon:XL}]};function DZ(){var n,r;const e=ka();let t="";return e.pathname==="/"?t="Documents":e.pathname==="/datasources"?t="Data Sources":e.pathname==="/settings"?t="Settings":e.pathname.match(/^\/\d+$/)?t="Spreadsheet":t=((n=jw.secondary.find(i=>i.url===e.pathname))==null?void 0:n.title)||((r=jw.main.find(i=>e.pathname.startsWith(i.url)))==null?void 0:r.title)||"",O.jsxs(FL,{children:[O.jsx(iF,{variant:"inset",items:jw}),O.jsxs(kL,{children:[O.jsx(oF,{title:t}),O.jsx("div",{className:"flex flex-1 flex-col",children:O.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:O.jsx("div",{className:"flex flex-col h-full",children:O.jsx(ZC,{})})})})]})]})}function MZ(){return O.jsxs(uK,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[O.jsx(Bz,{client:new Mz,children:O.jsx(lz,{basename:"/",children:O.jsxs(jj,{children:[O.jsx(Sa,{element:O.jsx(OZ,{}),children:O.jsx(Sa,{path:"/login",element:O.jsx(LU,{})})}),O.jsx(Sa,{path:"/shared/:token",element:O.jsx(NZ,{})}),O.jsxs(Sa,{element:O.jsx(IZ,{}),children:[O.jsxs(Sa,{element:O.jsx(DZ,{}),children:[O.jsx(Sa,{path:"/",element:O.jsx(D$,{})}),O.jsx(Sa,{path:"/datasources",element:O.jsx(CZ,{})}),O.jsx(Sa,{path:"/settings",element:O.jsx(_Z,{})})]}),O.jsx(Sa,{path:"/:id",element:O.jsx(bZ,{})})]})]})})}),O.jsx(A5,{})]})}YB.createRoot(document.getElementById("root")).render(O.jsx(P.StrictMode,{children:O.jsx(MZ,{})}));
