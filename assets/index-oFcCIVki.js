var QB=Object.defineProperty;var lT=e=>{throw TypeError(e)};var ej=(e,t,n)=>t in e?QB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>ej(e,typeof t!="symbol"?t+"":t,n),wA=(e,t,n)=>t.has(e)||lT("Cannot "+n);var ge=(e,t,n)=>(wA(e,t,"read from private field"),n?n.call(e):t.get(e)),Et=(e,t,n)=>t.has(e)?lT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),at=(e,t,n,r)=>(wA(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Wt=(e,t,n)=>(wA(e,t,"access private method"),n);var Sb=(e,t,n,r)=>({set _(i){at(e,t,i,n)},get _(){return ge(e,t,r)}});function tj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var N3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RA={exports:{}},I0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function nj(){if(uT)return I0;uT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:s}}return I0.Fragment=t,I0.jsx=n,I0.jsxs=n,I0}var cT;function I3(){return cT||(cT=1,RA.exports=nj()),RA.exports}var O=I3(),TA={exports:{}},O0={},NA={exports:{}},_A={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function rj(){return fT||(fT=1,function(e){function t(ie,Ae){var de=ie.length;ie.push(Ae);e:for(;0<de;){var ue=de-1>>>1,K=ie[ue];if(0<i(K,Ae))ie[ue]=Ae,ie[de]=K,de=ue;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var Ae=ie[0],de=ie.pop();if(de!==Ae){ie[0]=de;e:for(var ue=0,K=ie.length,oe=K>>>1;ue<oe;){var pe=2*(ue+1)-1,z=ie[pe],U=pe+1,G=ie[U];if(0>i(z,de))U<K&&0>i(G,z)?(ie[ue]=G,ie[U]=de,ue=U):(ie[ue]=z,ie[pe]=de,ue=pe);else if(U<K&&0>i(G,de))ie[ue]=G,ie[U]=de,ue=U;else break e}}return Ae}function i(ie,Ae){var de=ie.sortIndex-Ae.sortIndex;return de!==0?de:ie.id-Ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],g=[],p=1,m=null,x=3,b=!1,E=!1,w=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function D(ie){for(var Ae=n(g);Ae!==null;){if(Ae.callback===null)r(g);else if(Ae.startTime<=ie)r(g),Ae.sortIndex=Ae.expirationTime,t(c,Ae);else break;Ae=n(g)}}function F(ie){if(w=!1,D(ie),!E)if(n(c)!==null)E=!0,B||(B=!0,re());else{var Ae=n(g);Ae!==null&&_e(F,Ae.startTime-ie)}}var B=!1,j=-1,k=5,$=-1;function Z(){return C?!0:!(e.unstable_now()-$<k)}function ne(){if(C=!1,B){var ie=e.unstable_now();$=ie;var Ae=!0;try{e:{E=!1,w&&(w=!1,T(j),j=-1),b=!0;var de=x;try{t:{for(D(ie),m=n(c);m!==null&&!(m.expirationTime>ie&&Z());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,x=m.priorityLevel;var K=ue(m.expirationTime<=ie);if(ie=e.unstable_now(),typeof K=="function"){m.callback=K,D(ie),Ae=!0;break t}m===n(c)&&r(c),D(ie)}else r(c);m=n(c)}if(m!==null)Ae=!0;else{var oe=n(g);oe!==null&&_e(F,oe.startTime-ie),Ae=!1}}break e}finally{m=null,x=de,b=!1}Ae=void 0}}finally{Ae?re():B=!1}}}var re;if(typeof _=="function")re=function(){_(ne)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Ce=he.port2;he.port1.onmessage=ne,re=function(){Ce.postMessage(null)}}else re=function(){R(ne,0)};function _e(ie,Ae){j=R(function(){ie(e.unstable_now())},Ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(ie){switch(x){case 1:case 2:case 3:var Ae=3;break;default:Ae=x}var de=x;x=Ae;try{return ie()}finally{x=de}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(ie,Ae){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var de=x;x=ie;try{return Ae()}finally{x=de}},e.unstable_scheduleCallback=function(ie,Ae,de){var ue=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ue+de:ue):de=ue,ie){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=de+K,ie={id:p++,callback:Ae,priorityLevel:ie,startTime:de,expirationTime:K,sortIndex:-1},de>ue?(ie.sortIndex=de,t(g,ie),n(c)===null&&ie===n(g)&&(w?(T(j),j=-1):w=!0,_e(F,de-ue))):(ie.sortIndex=K,t(c,ie),E||b||(E=!0,B||(B=!0,re()))),ie},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(ie){var Ae=x;return function(){var de=x;x=Ae;try{return ie.apply(this,arguments)}finally{x=de}}}}(_A)),_A}var dT;function ij(){return dT||(dT=1,NA.exports=rj()),NA.exports}var IA={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function oj(){if(hT)return Vt;hT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(K){return K===null||typeof K!="object"?null:(K=m&&K[m]||K["@@iterator"],typeof K=="function"?K:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function C(K,oe,pe){this.props=K,this.context=oe,this.refs=w,this.updater=pe||b}C.prototype.isReactComponent={},C.prototype.setState=function(K,oe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,oe,"setState")},C.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function R(){}R.prototype=C.prototype;function T(K,oe,pe){this.props=K,this.context=oe,this.refs=w,this.updater=pe||b}var _=T.prototype=new R;_.constructor=T,E(_,C.prototype),_.isPureReactComponent=!0;var D=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function j(K,oe,pe,z,U,G){return pe=G.ref,{$$typeof:e,type:K,key:oe,ref:pe!==void 0?pe:null,props:G}}function k(K,oe){return j(K.type,oe,void 0,void 0,void 0,K.props)}function $(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function Z(K){var oe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(pe){return oe[pe]})}var ne=/\/+/g;function re(K,oe){return typeof K=="object"&&K!==null&&K.key!=null?Z(""+K.key):oe.toString(36)}function he(){}function Ce(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(he,he):(K.status="pending",K.then(function(oe){K.status==="pending"&&(K.status="fulfilled",K.value=oe)},function(oe){K.status==="pending"&&(K.status="rejected",K.reason=oe)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function _e(K,oe,pe,z,U){var G=typeof K;(G==="undefined"||G==="boolean")&&(K=null);var W=!1;if(K===null)W=!0;else switch(G){case"bigint":case"string":case"number":W=!0;break;case"object":switch(K.$$typeof){case e:case t:W=!0;break;case p:return W=K._init,_e(W(K._payload),oe,pe,z,U)}}if(W)return U=U(K),W=z===""?"."+re(K,0):z,D(U)?(pe="",W!=null&&(pe=W.replace(ne,"$&/")+"/"),_e(U,oe,pe,"",function(J){return J})):U!=null&&($(U)&&(U=k(U,pe+(U.key==null||K&&K.key===U.key?"":(""+U.key).replace(ne,"$&/")+"/")+W)),oe.push(U)),1;W=0;var Q=z===""?".":z+":";if(D(K))for(var X=0;X<K.length;X++)z=K[X],G=Q+re(z,X),W+=_e(z,oe,pe,G,U);else if(X=x(K),typeof X=="function")for(K=X.call(K),X=0;!(z=K.next()).done;)z=z.value,G=Q+re(z,X++),W+=_e(z,oe,pe,G,U);else if(G==="object"){if(typeof K.then=="function")return _e(Ce(K),oe,pe,z,U);throw oe=String(K),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return W}function ie(K,oe,pe){if(K==null)return K;var z=[],U=0;return _e(K,z,"","",function(G){return oe.call(pe,G,U++)}),z}function Ae(K){if(K._status===-1){var oe=K._result;oe=oe(),oe.then(function(pe){(K._status===0||K._status===-1)&&(K._status=1,K._result=pe)},function(pe){(K._status===0||K._status===-1)&&(K._status=2,K._result=pe)}),K._status===-1&&(K._status=0,K._result=oe)}if(K._status===1)return K._result.default;throw K._result}var de=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function ue(){}return Vt.Children={map:ie,forEach:function(K,oe,pe){ie(K,function(){oe.apply(this,arguments)},pe)},count:function(K){var oe=0;return ie(K,function(){oe++}),oe},toArray:function(K){return ie(K,function(oe){return oe})||[]},only:function(K){if(!$(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Vt.Component=C,Vt.Fragment=n,Vt.Profiler=i,Vt.PureComponent=T,Vt.StrictMode=r,Vt.Suspense=c,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(K){return F.H.useMemoCache(K)}},Vt.cache=function(K){return function(){return K.apply(null,arguments)}},Vt.cloneElement=function(K,oe,pe){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var z=E({},K.props),U=K.key,G=void 0;if(oe!=null)for(W in oe.ref!==void 0&&(G=void 0),oe.key!==void 0&&(U=""+oe.key),oe)!B.call(oe,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&oe.ref===void 0||(z[W]=oe[W]);var W=arguments.length-2;if(W===1)z.children=pe;else if(1<W){for(var Q=Array(W),X=0;X<W;X++)Q[X]=arguments[X+2];z.children=Q}return j(K.type,U,void 0,void 0,G,z)},Vt.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},Vt.createElement=function(K,oe,pe){var z,U={},G=null;if(oe!=null)for(z in oe.key!==void 0&&(G=""+oe.key),oe)B.call(oe,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(U[z]=oe[z]);var W=arguments.length-2;if(W===1)U.children=pe;else if(1<W){for(var Q=Array(W),X=0;X<W;X++)Q[X]=arguments[X+2];U.children=Q}if(K&&K.defaultProps)for(z in W=K.defaultProps,W)U[z]===void 0&&(U[z]=W[z]);return j(K,G,void 0,void 0,null,U)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(K){return{$$typeof:u,render:K}},Vt.isValidElement=$,Vt.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:Ae}},Vt.memo=function(K,oe){return{$$typeof:g,type:K,compare:oe===void 0?null:oe}},Vt.startTransition=function(K){var oe=F.T,pe={};F.T=pe;try{var z=K(),U=F.S;U!==null&&U(pe,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(ue,de)}catch(G){de(G)}finally{F.T=oe}},Vt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Vt.use=function(K){return F.H.use(K)},Vt.useActionState=function(K,oe,pe){return F.H.useActionState(K,oe,pe)},Vt.useCallback=function(K,oe){return F.H.useCallback(K,oe)},Vt.useContext=function(K){return F.H.useContext(K)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(K,oe){return F.H.useDeferredValue(K,oe)},Vt.useEffect=function(K,oe,pe){var z=F.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(K,oe)},Vt.useId=function(){return F.H.useId()},Vt.useImperativeHandle=function(K,oe,pe){return F.H.useImperativeHandle(K,oe,pe)},Vt.useInsertionEffect=function(K,oe){return F.H.useInsertionEffect(K,oe)},Vt.useLayoutEffect=function(K,oe){return F.H.useLayoutEffect(K,oe)},Vt.useMemo=function(K,oe){return F.H.useMemo(K,oe)},Vt.useOptimistic=function(K,oe){return F.H.useOptimistic(K,oe)},Vt.useReducer=function(K,oe,pe){return F.H.useReducer(K,oe,pe)},Vt.useRef=function(K){return F.H.useRef(K)},Vt.useState=function(K){return F.H.useState(K)},Vt.useSyncExternalStore=function(K,oe,pe){return F.H.useSyncExternalStore(K,oe,pe)},Vt.useTransition=function(){return F.H.useTransition()},Vt.version="19.1.0",Vt}var pT;function MS(){return pT||(pT=1,IA.exports=oj()),IA.exports}var OA={exports:{}},pi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function sj(){if(gT)return pi;gT=1;var e=MS();function t(c){var g="https://react.dev/errors/"+c;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,g,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:g,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,g){if(c==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pi.createPortal=function(c,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return s(c,g,null,p)},pi.flushSync=function(c){var g=l.T,p=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=g,r.p=p,r.d.f()}},pi.preconnect=function(c,g){typeof c=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(c,g))},pi.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},pi.preinit=function(c,g){if(typeof c=="string"&&g&&typeof g.as=="string"){var p=g.as,m=u(p,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(c,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:b}):p==="script"&&r.d.X(c,{crossOrigin:m,integrity:x,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pi.preinitModule=function(c,g){if(typeof c=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=u(g.as,g.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(c)},pi.preload=function(c,g){if(typeof c=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,m=u(p,g.crossOrigin);r.d.L(c,p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pi.preloadModule=function(c,g){if(typeof c=="string")if(g){var p=u(g.as,g.crossOrigin);r.d.m(c,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(c)},pi.requestFormReset=function(c){r.d.r(c)},pi.unstable_batchedUpdates=function(c,g){return c(g)},pi.useFormState=function(c,g,p){return l.H.useFormState(c,g,p)},pi.useFormStatus=function(){return l.H.useHostTransitionStatus()},pi.version="19.1.0",pi}var mT;function O3(){if(mT)return OA.exports;mT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),OA.exports=sj(),OA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function aj(){if(vT)return O0;vT=1;var e=ij(),t=MS(),n=O3();function r(a){var d="https://react.dev/errors/"+a;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+a+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var d=a,y=a;if(a.alternate)for(;d.return;)d=d.return;else{a=d;do d=a,(d.flags&4098)!==0&&(y=d.return),a=d.return;while(a)}return d.tag===3?y:null}function l(a){if(a.tag===13){var d=a.memoizedState;if(d===null&&(a=a.alternate,a!==null&&(d=a.memoizedState)),d!==null)return d.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(r(188))}function c(a){var d=a.alternate;if(!d){if(d=s(a),d===null)throw Error(r(188));return d!==a?null:a}for(var y=a,S=d;;){var N=y.return;if(N===null)break;var M=N.alternate;if(M===null){if(S=N.return,S!==null){y=S;continue}break}if(N.child===M.child){for(M=N.child;M;){if(M===y)return u(N),a;if(M===S)return u(N),d;M=M.sibling}throw Error(r(188))}if(y.return!==S.return)y=N,S=M;else{for(var H=!1,ee=N.child;ee;){if(ee===y){H=!0,y=N,S=M;break}if(ee===S){H=!0,S=N,y=M;break}ee=ee.sibling}if(!H){for(ee=M.child;ee;){if(ee===y){H=!0,y=M,S=N;break}if(ee===S){H=!0,S=M,y=N;break}ee=ee.sibling}if(!H)throw Error(r(189))}}if(y.alternate!==S)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?a:d}function g(a){var d=a.tag;if(d===5||d===26||d===27||d===6)return a;for(a=a.child;a!==null;){if(d=g(a),d!==null)return d;a=a.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),_=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function re(a){return a===null||typeof a!="object"?null:(a=ne&&a[ne]||a["@@iterator"],typeof a=="function"?a:null)}var he=Symbol.for("react.client.reference");function Ce(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===he?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case B:return"SuspenseList";case $:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case _:return(a.displayName||"Context")+".Provider";case T:return(a._context.displayName||"Context")+".Consumer";case D:var d=a.render;return a=a.displayName,a||(a=d.displayName||d.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return d=a.displayName||null,d!==null?d:Ce(a.type)||"Memo";case k:d=a._payload,a=a._init;try{return Ce(a(d))}catch{}}return null}var _e=Array.isArray,ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ue=[],K=-1;function oe(a){return{current:a}}function pe(a){0>K||(a.current=ue[K],ue[K]=null,K--)}function z(a,d){K++,ue[K]=a.current,a.current=d}var U=oe(null),G=oe(null),W=oe(null),Q=oe(null);function X(a,d){switch(z(W,d),z(G,a),z(U,null),d.nodeType){case 9:case 11:a=(a=d.documentElement)&&(a=a.namespaceURI)?nb(a):0;break;default:if(a=d.tagName,d=d.namespaceURI)d=nb(d),a=cA(d,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}pe(U),z(U,a)}function J(){pe(U),pe(G),pe(W)}function se(a){a.memoizedState!==null&&z(Q,a);var d=U.current,y=cA(d,a.type);d!==y&&(z(G,a),z(U,y))}function xe(a){G.current===a&&(pe(U),pe(G)),Q.current===a&&(pe(Q),Ec._currentValue=de)}var be=Object.prototype.hasOwnProperty,ae=e.unstable_scheduleCallback,le=e.unstable_cancelCallback,we=e.unstable_shouldYield,De=e.unstable_requestPaint,je=e.unstable_now,Ue=e.unstable_getCurrentPriorityLevel,ve=e.unstable_ImmediatePriority,Pe=e.unstable_UserBlockingPriority,Ze=e.unstable_NormalPriority,pt=e.unstable_LowPriority,gt=e.unstable_IdlePriority,me=e.log,Ie=e.unstable_setDisableYieldValue,qe=null,Ye=null;function tt(a){if(typeof me=="function"&&Ie(a),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(qe,a)}catch{}}var lt=Math.clz32?Math.clz32:It,xt=Math.log,Rt=Math.LN2;function It(a){return a>>>=0,a===0?32:31-(xt(a)/Rt|0)|0}var ln=256,ke=4194304;function nt(a){var d=a&42;if(d!==0)return d;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function mt(a,d,y){var S=a.pendingLanes;if(S===0)return 0;var N=0,M=a.suspendedLanes,H=a.pingedLanes;a=a.warmLanes;var ee=S&134217727;return ee!==0?(S=ee&~M,S!==0?N=nt(S):(H&=ee,H!==0?N=nt(H):y||(y=ee&~a,y!==0&&(N=nt(y))))):(ee=S&~M,ee!==0?N=nt(ee):H!==0?N=nt(H):y||(y=S&~a,y!==0&&(N=nt(y)))),N===0?0:d!==0&&d!==N&&(d&M)===0&&(M=N&-N,y=d&-d,M>=y||M===32&&(y&4194048)!==0)?d:N}function At(a,d){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&d)===0}function Dt(a,d){switch(a){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(){var a=ln;return ln<<=1,(ln&4194048)===0&&(ln=256),a}function jn(){var a=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),a}function qn(a){for(var d=[],y=0;31>y;y++)d.push(a);return d}function un(a,d){a.pendingLanes|=d,d!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function er(a,d,y,S,N,M){var H=a.pendingLanes;a.pendingLanes=y,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=y,a.entangledLanes&=y,a.errorRecoveryDisabledLanes&=y,a.shellSuspendCounter=0;var ee=a.entanglements,fe=a.expirationTimes,Me=a.hiddenUpdates;for(y=H&~y;0<y;){var ze=31-lt(y),He=1<<ze;ee[ze]=0,fe[ze]=-1;var Le=Me[ze];if(Le!==null)for(Me[ze]=null,ze=0;ze<Le.length;ze++){var Fe=Le[ze];Fe!==null&&(Fe.lane&=-536870913)}y&=~He}S!==0&&rt(a,S,0),M!==0&&N===0&&a.tag!==0&&(a.suspendedLanes|=M&~(H&~d))}function rt(a,d,y){a.pendingLanes|=d,a.suspendedLanes&=~d;var S=31-lt(d);a.entangledLanes|=d,a.entanglements[S]=a.entanglements[S]|1073741824|y&4194090}function cn(a,d){var y=a.entangledLanes|=d;for(a=a.entanglements;y;){var S=31-lt(y),N=1<<S;N&d|a[S]&d&&(a[S]|=d),y&=~N}}function Qt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function rn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function vr(){var a=Ae.p;return a!==0?a:(a=window.event,a===void 0?32:nT(a.type))}function qt(a,d){var y=Ae.p;try{return Ae.p=a,d()}finally{Ae.p=y}}var Bt=Math.random().toString(36).slice(2),fn="__reactFiber$"+Bt,Lt="__reactProps$"+Bt,wn="__reactContainer$"+Bt,Di="__reactEvents$"+Bt,Sr="__reactListeners$"+Bt,yi="__reactHandles$"+Bt,qo="__reactResources$"+Bt,Qi="__reactMarker$"+Bt;function Ug(a){delete a[fn],delete a[Lt],delete a[Di],delete a[Sr],delete a[yi]}function zs(a){var d=a[fn];if(d)return d;for(var y=a.parentNode;y;){if(d=y[wn]||y[fn]){if(y=d.alternate,d.child!==null||y!==null&&y.child!==null)for(a=lb(a);a!==null;){if(y=a[fn])return y;a=lb(a)}return d}a=y,y=a.parentNode}return null}function Ko(a){if(a=a[fn]||a[wn]){var d=a.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return a}return null}function Fu(a){var d=a.tag;if(d===5||d===26||d===27||d===6)return a.stateNode;throw Error(r(33))}function Us(a){var d=a[qo];return d||(d=a[qo]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function or(a){a[Qi]=!0}var Vg=new Set,Gg={};function Vs(a,d){$a(a,d),$a(a+"Capture",d)}function $a(a,d){for(Gg[a]=d,a=0;a<d.length;a++)Vg.add(d[a])}var $g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gy={},hf={};function my(a){return be.call(hf,a)?!0:be.call(gy,a)?!1:$g.test(a)?hf[a]=!0:(gy[a]=!0,!1)}function Xo(a,d,y){if(my(d))if(y===null)a.removeAttribute(d);else{switch(typeof y){case"undefined":case"function":case"symbol":a.removeAttribute(d);return;case"boolean":var S=d.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){a.removeAttribute(d);return}}a.setAttribute(d,""+y)}}function pf(a,d,y){if(y===null)a.removeAttribute(d);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttribute(d,""+y)}}function Zo(a,d,y,S){if(S===null)a.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(y);return}a.setAttributeNS(d,y,""+S)}}var Ha,vy;function So(a){if(Ha===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);Ha=d&&d[1]||"",vy=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ha+a+vy}var gf=!1;function Hg(a,d){if(!a||gf)return"";gf=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(d){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Fe){var Le=Fe}Reflect.construct(a,[],He)}else{try{He.call()}catch(Fe){Le=Fe}a.call(He.prototype)}}else{try{throw Error()}catch(Fe){Le=Fe}(He=a())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Fe){if(Fe&&Le&&typeof Fe.stack=="string")return[Fe.stack,Le.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=S.DetermineComponentFrameRoot(),H=M[0],ee=M[1];if(H&&ee){var fe=H.split(`
`),Me=ee.split(`
`);for(N=S=0;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;for(;N<Me.length&&!Me[N].includes("DetermineComponentFrameRoot");)N++;if(S===fe.length||N===Me.length)for(S=fe.length-1,N=Me.length-1;1<=S&&0<=N&&fe[S]!==Me[N];)N--;for(;1<=S&&0<=N;S--,N--)if(fe[S]!==Me[N]){if(S!==1||N!==1)do if(S--,N--,0>N||fe[S]!==Me[N]){var ze=`
`+fe[S].replace(" at new "," at ");return a.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",a.displayName)),ze}while(1<=S&&0<=N);break}}}finally{gf=!1,Error.prepareStackTrace=y}return(y=a?a.displayName||a.name:"")?So(y):""}function w1(a){switch(a.tag){case 26:case 27:case 5:return So(a.type);case 16:return So("Lazy");case 13:return So("Suspense");case 19:return So("SuspenseList");case 0:case 15:return Hg(a.type,!1);case 11:return Hg(a.type.render,!1);case 1:return Hg(a.type,!0);case 31:return So("Activity");default:return""}}function yy(a){try{var d="";do d+=w1(a),a=a.return;while(a);return d}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function ni(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Wg(a){var d=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function R1(a){var d=Wg(a)?"checked":"value",y=Object.getOwnPropertyDescriptor(a.constructor.prototype,d),S=""+a[d];if(!a.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var N=y.get,M=y.set;return Object.defineProperty(a,d,{configurable:!0,get:function(){return N.call(this)},set:function(H){S=""+H,M.call(this,H)}}),Object.defineProperty(a,d,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(H){S=""+H},stopTracking:function(){a._valueTracker=null,delete a[d]}}}}function Nh(a){a._valueTracker||(a._valueTracker=R1(a))}function xy(a){if(!a)return!1;var d=a._valueTracker;if(!d)return!0;var y=d.getValue(),S="";return a&&(S=Wg(a)?a.checked?"true":"false":a.value),a=S,a!==y?(d.setValue(a),!0):!1}function _h(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var mf=/[\n"\\]/g;function Fr(a){return a.replace(mf,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Yg(a,d,y,S,N,M,H,ee){a.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.type=H:a.removeAttribute("type"),d!=null?H==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+ni(d)):a.value!==""+ni(d)&&(a.value=""+ni(d)):H!=="submit"&&H!=="reset"||a.removeAttribute("value"),d!=null?vf(a,H,ni(d)):y!=null?vf(a,H,ni(y)):S!=null&&a.removeAttribute("value"),N==null&&M!=null&&(a.defaultChecked=!!M),N!=null&&(a.checked=N&&typeof N!="function"&&typeof N!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?a.name=""+ni(ee):a.removeAttribute("name")}function qg(a,d,y,S,N,M,H,ee){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(a.type=M),d!=null||y!=null){if(!(M!=="submit"&&M!=="reset"||d!=null))return;y=y!=null?""+ni(y):"",d=d!=null?""+ni(d):y,ee||d===a.value||(a.value=d),a.defaultValue=d}S=S??N,S=typeof S!="function"&&typeof S!="symbol"&&!!S,a.checked=ee?a.checked:!!S,a.defaultChecked=!!S,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(a.name=H)}function vf(a,d,y){d==="number"&&_h(a.ownerDocument)===a||a.defaultValue===""+y||(a.defaultValue=""+y)}function ku(a,d,y,S){if(a=a.options,d){d={};for(var N=0;N<y.length;N++)d["$"+y[N]]=!0;for(y=0;y<a.length;y++)N=d.hasOwnProperty("$"+a[y].value),a[y].selected!==N&&(a[y].selected=N),N&&S&&(a[y].defaultSelected=!0)}else{for(y=""+ni(y),d=null,N=0;N<a.length;N++){if(a[N].value===y){a[N].selected=!0,S&&(a[N].defaultSelected=!0);return}d!==null||a[N].disabled||(d=a[N])}d!==null&&(d.selected=!0)}}function Kg(a,d,y){if(d!=null&&(d=""+ni(d),d!==a.value&&(a.value=d),y==null)){a.defaultValue!==d&&(a.defaultValue=d);return}a.defaultValue=y!=null?""+ni(y):""}function by(a,d,y,S){if(d==null){if(S!=null){if(y!=null)throw Error(r(92));if(_e(S)){if(1<S.length)throw Error(r(93));S=S[0]}y=S}y==null&&(y=""),d=y}y=ni(d),a.defaultValue=y,S=a.textContent,S===y&&S!==""&&S!==null&&(a.value=S)}function Gs(a,d){if(d){var y=a.firstChild;if(y&&y===a.lastChild&&y.nodeType===3){y.nodeValue=d;return}}a.textContent=d}var Sy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ay(a,d,y){var S=d.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?S?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="":S?a.setProperty(d,y):typeof y!="number"||y===0||Sy.has(d)?d==="float"?a.cssFloat=y:a[d]=(""+y).trim():a[d]=y+"px"}function Ey(a,d,y){if(d!=null&&typeof d!="object")throw Error(r(62));if(a=a.style,y!=null){for(var S in y)!y.hasOwnProperty(S)||d!=null&&d.hasOwnProperty(S)||(S.indexOf("--")===0?a.setProperty(S,""):S==="float"?a.cssFloat="":a[S]="");for(var N in d)S=d[N],d.hasOwnProperty(N)&&y[N]!==S&&Ay(a,N,S)}else for(var M in d)d.hasOwnProperty(M)&&Ay(a,M,d[M])}function Xg(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yf(a){return Cy.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var xf=null;function bf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Wa=null,Ya=null;function wy(a){var d=Ko(a);if(d&&(a=d.stateNode)){var y=a[Lt]||null;e:switch(a=d.stateNode,d.type){case"input":if(Yg(a,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),d=y.name,y.type==="radio"&&d!=null){for(y=a;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Fr(""+d)+'"][type="radio"]'),d=0;d<y.length;d++){var S=y[d];if(S!==a&&S.form===a.form){var N=S[Lt]||null;if(!N)throw Error(r(90));Yg(S,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(d=0;d<y.length;d++)S=y[d],S.form===a.form&&xy(S)}break e;case"textarea":Kg(a,y.value,y.defaultValue);break e;case"select":d=y.value,d!=null&&ku(a,!!y.multiple,d,!1)}}}var Zg=!1;function Ry(a,d,y){if(Zg)return a(d,y);Zg=!0;try{var S=a(d);return S}finally{if(Zg=!1,(Wa!==null||Ya!==null)&&(ha(),Wa&&(d=Wa,a=Ya,Ya=Wa=null,wy(d),a)))for(d=0;d<a.length;d++)wy(a[d])}}function qa(a,d){var y=a.stateNode;if(y===null)return null;var S=y[Lt]||null;if(S===null)return null;y=S[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(a=a.type,S=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!S;break e;default:a=!1}if(a)return null;if(y&&typeof y!="function")throw Error(r(231,d,typeof y));return y}var Jo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jg=!1;if(Jo)try{var Sf={};Object.defineProperty(Sf,"passive",{get:function(){Jg=!0}}),window.addEventListener("test",Sf,Sf),window.removeEventListener("test",Sf,Sf)}catch{Jg=!1}var $s=null,Bu=null,Mi=null;function Ty(){if(Mi)return Mi;var a,d=Bu,y=d.length,S,N="value"in $s?$s.value:$s.textContent,M=N.length;for(a=0;a<y&&d[a]===N[a];a++);var H=y-a;for(S=1;S<=H&&d[y-S]===N[M-S];S++);return Mi=N.slice(a,1<S?1-S:void 0)}function Ih(a){var d=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&d===13&&(a=13)):a=d,a===10&&(a=13),32<=a||a===13?a:0}function Oh(){return!0}function Ny(){return!1}function ri(a){function d(y,S,N,M,H){this._reactName=y,this._targetInst=N,this.type=S,this.nativeEvent=M,this.target=H,this.currentTarget=null;for(var ee in a)a.hasOwnProperty(ee)&&(y=a[ee],this[ee]=y?y(M):M[ee]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Oh:Ny,this.isPropagationStopped=Ny,this}return p(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Oh)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Oh)},persist:function(){},isPersistent:Oh}),d}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=ri(Hs),Wr=p({},Hs,{view:0,detail:0}),N1=ri(Wr),Qg,Dh,Af,Mh=p({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Af&&(Af&&a.type==="mousemove"?(Qg=a.screenX-Af.screenX,Dh=a.screenY-Af.screenY):Dh=Qg=0,Af=a),Qg)},movementY:function(a){return"movementY"in a?a.movementY:Dh}}),em=ri(Mh),Mt=p({},Mh,{dataTransfer:0}),XR=ri(Mt),_1=p({},Wr,{relatedTarget:0}),Ph=ri(_1),_y=p({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Iy=ri(_y),Oy=p({},Hs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Dy=ri(Oy),My=p({},Hs,{data:0}),tm=ri(My),Py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ly={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ky(a){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(a):(a=Fy[a])?!!d[a]:!1}function Lh(){return ky}var By=p({},Wr,{key:function(a){if(a.key){var d=Py[a.key]||a.key;if(d!=="Unidentified")return d}return a.type==="keypress"?(a=Ih(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ly[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lh,charCode:function(a){return a.type==="keypress"?Ih(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ih(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),jy=ri(By),zy=p({},Mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=ri(zy),Uy=p({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lh}),Vy=ri(Uy),Gy=p({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$y=ri(Gy),Hy=p({},Mh,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),I1=ri(Hy),Pi=p({},Hs,{newState:0,oldState:0}),Wy=ri(Pi),Yy=[9,13,27,32],rm=Jo&&"CompositionEvent"in window,Ef=null;Jo&&"documentMode"in document&&(Ef=document.documentMode);var im=Jo&&"TextEvent"in window&&!Ef,Ka=Jo&&(!rm||Ef&&8<Ef&&11>=Ef),Ao=" ",qy=!1;function Ky(a,d){switch(a){case"keyup":return Yy.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xy(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ju=!1;function Zy(a,d){switch(a){case"compositionend":return Xy(d);case"keypress":return d.which!==32?null:(qy=!0,Ao);case"textInput":return a=d.data,a===Ao&&qy?null:a;default:return null}}function O1(a,d){if(ju)return a==="compositionend"||!rm&&Ky(a,d)?(a=Ty(),Mi=Bu=$s=null,ju=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ka&&d.locale!=="ko"?null:d.data;default:return null}}var D1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d==="input"?!!D1[a.type]:d==="textarea"}function Jy(a,d,y,S){Wa?Ya?Ya.push(S):Ya=[S]:Wa=S,d=Xf(d,"onChange"),0<d.length&&(y=new Qo("onChange","change",null,y,S),a.push({event:y,listeners:d}))}var Li=null,Ws=null;function Qy(a){Bo(a,0)}function Xa(a){var d=Fu(a);if(xy(d))return a}function sm(a,d){if(a==="change")return d}var ex=!1;if(Jo){var am;if(Jo){var Fh="oninput"in document;if(!Fh){var tx=document.createElement("div");tx.setAttribute("oninput","return;"),Fh=typeof tx.oninput=="function"}am=Fh}else am=!1;ex=am&&(!document.documentMode||9<document.documentMode)}function nx(){Li&&(Li.detachEvent("onpropertychange",rx),Ws=Li=null)}function rx(a){if(a.propertyName==="value"&&Xa(Ws)){var d=[];Jy(d,Ws,a,bf(a)),Ry(Qy,d)}}function M1(a,d,y){a==="focusin"?(nx(),Li=d,Ws=y,Li.attachEvent("onpropertychange",rx)):a==="focusout"&&nx()}function P1(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xa(Ws)}function ix(a,d){if(a==="click")return Xa(d)}function lm(a,d){if(a==="input"||a==="change")return Xa(d)}function L1(a,d){return a===d&&(a!==0||1/a===1/d)||a!==a&&d!==d}var ii=typeof Object.is=="function"?Object.is:L1;function Cf(a,d){if(ii(a,d))return!0;if(typeof a!="object"||a===null||typeof d!="object"||d===null)return!1;var y=Object.keys(a),S=Object.keys(d);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var N=y[S];if(!be.call(d,N)||!ii(a[N],d[N]))return!1}return!0}function kh(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ox(a,d){var y=kh(a);a=0;for(var S;y;){if(y.nodeType===3){if(S=a+y.textContent.length,a<=d&&S>=d)return{node:y,offset:d-a};a=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=kh(y)}}function sx(a,d){return a&&d?a===d?!0:a&&a.nodeType===3?!1:d&&d.nodeType===3?sx(a,d.parentNode):"contains"in a?a.contains(d):a.compareDocumentPosition?!!(a.compareDocumentPosition(d)&16):!1:!1}function ax(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var d=_h(a.document);d instanceof a.HTMLIFrameElement;){try{var y=typeof d.contentWindow.location.href=="string"}catch{y=!1}if(y)a=d.contentWindow;else break;d=_h(a.document)}return d}function um(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d&&(d==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||d==="textarea"||a.contentEditable==="true")}var Bh=Jo&&"documentMode"in document&&11>=document.documentMode,Za=null,cm=null,wf=null,jh=!1;function lx(a,d,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;jh||Za==null||Za!==_h(S)||(S=Za,"selectionStart"in S&&um(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),wf&&Cf(wf,S)||(wf=S,S=Xf(cm,"onSelect"),0<S.length&&(d=new Qo("onSelect","select",null,d,y),a.push({event:d,listeners:S}),d.target=Za)))}function Ja(a,d){var y={};return y[a.toLowerCase()]=d.toLowerCase(),y["Webkit"+a]="webkit"+d,y["Moz"+a]="moz"+d,y}var zu={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},Qa={},fm={};Jo&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete zu.animationend.animation,delete zu.animationiteration.animation,delete zu.animationstart.animation),"TransitionEvent"in window||delete zu.transitionend.transition);function el(a){if(Qa[a])return Qa[a];if(!zu[a])return a;var d=zu[a],y;for(y in d)if(d.hasOwnProperty(y)&&y in fm)return Qa[a]=d[y];return a}var ux=el("animationend"),zh=el("animationiteration"),Rf=el("animationstart"),F1=el("transitionrun"),k1=el("transitionstart"),B1=el("transitioncancel"),cx=el("transitionend"),fx=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function xi(a,d){fx.set(a,d),Vs(d,[a])}var dm=new WeakMap;function Fi(a,d){if(typeof a=="object"&&a!==null){var y=dm.get(a);return y!==void 0?y:(d={value:a,source:d,stack:yy(d)},dm.set(a,d),d)}return{value:a,source:d,stack:yy(d)}}var bi=[],Uu=0,hm=0;function Vh(){for(var a=Uu,d=hm=Uu=0;d<a;){var y=bi[d];bi[d++]=null;var S=bi[d];bi[d++]=null;var N=bi[d];bi[d++]=null;var M=bi[d];if(bi[d++]=null,S!==null&&N!==null){var H=S.pending;H===null?N.next=N:(N.next=H.next,H.next=N),S.pending=N}M!==0&&dx(y,N,M)}}function es(a,d,y,S){bi[Uu++]=a,bi[Uu++]=d,bi[Uu++]=y,bi[Uu++]=S,hm|=S,a.lanes|=S,a=a.alternate,a!==null&&(a.lanes|=S)}function Gh(a,d,y,S){return es(a,d,y,S),$h(a)}function Vu(a,d){return es(a,null,null,d),$h(a)}function dx(a,d,y){a.lanes|=y;var S=a.alternate;S!==null&&(S.lanes|=y);for(var N=!1,M=a.return;M!==null;)M.childLanes|=y,S=M.alternate,S!==null&&(S.childLanes|=y),M.tag===22&&(a=M.stateNode,a===null||a._visibility&1||(N=!0)),a=M,M=M.return;return a.tag===3?(M=a.stateNode,N&&d!==null&&(N=31-lt(y),a=M.hiddenUpdates,S=a[N],S===null?a[N]=[d]:S.push(d),d.lane=y|536870912),M):null}function $h(a){if(50<Sn)throw Sn=0,zr=null,Error(r(185));for(var d=a.return;d!==null;)a=d,d=a.return;return a.tag===3?a.stateNode:null}var Gu={};function j1(a,d,y,S){this.tag=a,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(a,d,y,S){return new j1(a,d,y,S)}function Tf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ki(a,d){var y=a.alternate;return y===null?(y=kr(a.tag,d,a.key,a.mode),y.elementType=a.elementType,y.type=a.type,y.stateNode=a.stateNode,y.alternate=a,a.alternate=y):(y.pendingProps=d,y.type=a.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=a.flags&65011712,y.childLanes=a.childLanes,y.lanes=a.lanes,y.child=a.child,y.memoizedProps=a.memoizedProps,y.memoizedState=a.memoizedState,y.updateQueue=a.updateQueue,d=a.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=a.sibling,y.index=a.index,y.ref=a.ref,y.refCleanup=a.refCleanup,y}function Nf(a,d){a.flags&=65011714;var y=a.alternate;return y===null?(a.childLanes=0,a.lanes=d,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=y.childLanes,a.lanes=y.lanes,a.child=y.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=y.memoizedProps,a.memoizedState=y.memoizedState,a.updateQueue=y.updateQueue,a.type=y.type,d=y.dependencies,a.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),a}function Hh(a,d,y,S,N,M){var H=0;if(S=a,typeof a=="function")Tf(a)&&(H=1);else if(typeof a=="string")H=Ct(a,y,U.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case $:return a=kr(31,y,d,N),a.elementType=$,a.lanes=M,a;case E:return Ys(y.children,N,M,d);case w:H=8,N|=24;break;case C:return a=kr(12,y,d,N|2),a.elementType=C,a.lanes=M,a;case F:return a=kr(13,y,d,N),a.elementType=F,a.lanes=M,a;case B:return a=kr(19,y,d,N),a.elementType=B,a.lanes=M,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:case _:H=10;break e;case T:H=9;break e;case D:H=11;break e;case j:H=14;break e;case k:H=16,S=null;break e}H=29,y=Error(r(130,a===null?"null":typeof a,"")),S=null}return d=kr(H,y,d,N),d.elementType=a,d.type=S,d.lanes=M,d}function Ys(a,d,y,S){return a=kr(7,a,S,d),a.lanes=y,a}function pm(a,d,y){return a=kr(6,a,null,d),a.lanes=y,a}function gm(a,d,y){return d=kr(4,a.children!==null?a.children:[],a.key,d),d.lanes=y,d.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},d}var $u=[],Hu=0,Wh=null,Yh=0,Si=[],oi=0,qs=null,Eo=1,Kt="";function tl(a,d){$u[Hu++]=Yh,$u[Hu++]=Wh,Wh=a,Yh=d}function hx(a,d,y){Si[oi++]=Eo,Si[oi++]=Kt,Si[oi++]=qs,qs=a;var S=Eo;a=Kt;var N=32-lt(S)-1;S&=~(1<<N),y+=1;var M=32-lt(d)+N;if(30<M){var H=N-N%5;M=(S&(1<<H)-1).toString(32),S>>=H,N-=H,Eo=1<<32-lt(d)+N|y<<N|S,Kt=M+a}else Eo=1<<M|y<<N|S,Kt=a}function mm(a){a.return!==null&&(tl(a,1),hx(a,1,0))}function qh(a){for(;a===Wh;)Wh=$u[--Hu],$u[Hu]=null,Yh=$u[--Hu],$u[Hu]=null;for(;a===qs;)qs=Si[--oi],Si[oi]=null,Kt=Si[--oi],Si[oi]=null,Eo=Si[--oi],Si[oi]=null}var Yr=null,Kn=null,dn=!1,Ks=null,eo=!1,vm=Error(r(519));function to(a){var d=Error(r(418,""));throw If(Fi(d,a)),vm}function px(a){var d=a.stateNode,y=a.type,S=a.memoizedProps;switch(d[fn]=a,d[Lt]=S,y){case"dialog":Ht("cancel",d),Ht("close",d);break;case"iframe":case"object":case"embed":Ht("load",d);break;case"video":case"audio":for(y=0;y<ko.length;y++)Ht(ko[y],d);break;case"source":Ht("error",d);break;case"img":case"image":case"link":Ht("error",d),Ht("load",d);break;case"details":Ht("toggle",d);break;case"input":Ht("invalid",d),qg(d,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),Nh(d);break;case"select":Ht("invalid",d);break;case"textarea":Ht("invalid",d),by(d,S.value,S.defaultValue,S.children),Nh(d)}y=S.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||d.textContent===""+y||S.suppressHydrationWarning===!0||tb(d.textContent,y)?(S.popover!=null&&(Ht("beforetoggle",d),Ht("toggle",d)),S.onScroll!=null&&Ht("scroll",d),S.onScrollEnd!=null&&Ht("scrollend",d),S.onClick!=null&&(d.onclick=Mp),d=!0):d=!1,d||to(a)}function gx(a){for(Yr=a.return;Yr;)switch(Yr.tag){case 5:case 13:eo=!1;return;case 27:case 3:eo=!0;return;default:Yr=Yr.return}}function _f(a){if(a!==Yr)return!1;if(!dn)return gx(a),dn=!0,!1;var d=a.tag,y;if((y=d!==3&&d!==27)&&((y=d===5)&&(y=a.type,y=!(y!=="form"&&y!=="button")||rb(a.type,a.memoizedProps)),y=!y),y&&Kn&&to(a),gx(a),d===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,d=0;a;){if(a.nodeType===8)if(y=a.data,y==="/$"){if(d===0){Kn=Hi(a.nextSibling);break e}d--}else y!=="$"&&y!=="$!"&&y!=="$?"||d++;a=a.nextSibling}Kn=null}}else d===27?(d=Kn,_r(a.type)?(a=Ac,Ac=null,Kn=a):Kn=d):Kn=Yr?Hi(a.stateNode.nextSibling):null;return!0}function Wu(){Kn=Yr=null,dn=!1}function nl(){var a=Ks;return a!==null&&(ei===null?ei=a:ei.push.apply(ei,a),Ks=null),a}function If(a){Ks===null?Ks=[a]:Ks.push(a)}var ym=oe(null),rl=null,ts=null;function Xs(a,d,y){z(ym,d._currentValue),d._currentValue=y}function ns(a){a._currentValue=ym.current,pe(ym)}function xm(a,d,y){for(;a!==null;){var S=a.alternate;if((a.childLanes&d)!==d?(a.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),a===y)break;a=a.return}}function Kh(a,d,y,S){var N=a.child;for(N!==null&&(N.return=a);N!==null;){var M=N.dependencies;if(M!==null){var H=N.child;M=M.firstContext;e:for(;M!==null;){var ee=M;M=N;for(var fe=0;fe<d.length;fe++)if(ee.context===d[fe]){M.lanes|=y,ee=M.alternate,ee!==null&&(ee.lanes|=y),xm(M.return,y,a),S||(H=null);break e}M=ee.next}}else if(N.tag===18){if(H=N.return,H===null)throw Error(r(341));H.lanes|=y,M=H.alternate,M!==null&&(M.lanes|=y),xm(H,y,a),H=null}else H=N.child;if(H!==null)H.return=N;else for(H=N;H!==null;){if(H===a){H=null;break}if(N=H.sibling,N!==null){N.return=H.return,H=N;break}H=H.return}N=H}}function Of(a,d,y,S){a=null;for(var N=d,M=!1;N!==null;){if(!M){if((N.flags&524288)!==0)M=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var H=N.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var ee=N.type;ii(N.pendingProps.value,H.value)||(a!==null?a.push(ee):a=[ee])}}else if(N===Q.current){if(H=N.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(a!==null?a.push(Ec):a=[Ec])}N=N.return}a!==null&&Kh(d,a,y,S),d.flags|=262144}function Xh(a){for(a=a.firstContext;a!==null;){if(!ii(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Zs(a){rl=a,ts=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ar(a){return bm(rl,a)}function Yu(a,d){return rl===null&&Zs(a),bm(a,d)}function bm(a,d){var y=d._currentValue;if(d={context:d,memoizedValue:y,next:null},ts===null){if(a===null)throw Error(r(308));ts=d,a.dependencies={lanes:0,firstContext:d},a.flags|=524288}else ts=ts.next=d;return y}var z1=typeof AbortController<"u"?AbortController:function(){var a=[],d=this.signal={aborted:!1,addEventListener:function(y,S){a.push(S)}};this.abort=function(){d.aborted=!0,a.forEach(function(y){return y()})}},U1=e.unstable_scheduleCallback,qu=e.unstable_NormalPriority,sr={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sm(){return{controller:new z1,data:new Map,refCount:0}}function Df(a){a.refCount--,a.refCount===0&&U1(qu,function(){a.controller.abort()})}var Ku=null,Am=0,Xu=0,Zu=null;function V1(a,d){if(Ku===null){var y=Ku=[];Am=0,Xu=Ip(),Zu={status:"pending",value:void 0,then:function(S){y.push(S)}}}return Am++,d.then(G1,G1),d}function G1(){if(--Am===0&&Ku!==null){Zu!==null&&(Zu.status="fulfilled");var a=Ku;Ku=null,Xu=0,Zu=null;for(var d=0;d<a.length;d++)(0,a[d])()}}function $1(a,d){var y=[],S={status:"pending",value:null,reason:null,then:function(N){y.push(N)}};return a.then(function(){S.status="fulfilled",S.value=d;for(var N=0;N<y.length;N++)(0,y[N])(d)},function(N){for(S.status="rejected",S.reason=N,N=0;N<y.length;N++)(0,y[N])(void 0)}),S}var mx=ie.S;ie.S=function(a,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&V1(a,d),mx!==null&&mx(a,d)};var Js=oe(null);function Zh(){var a=Js.current;return a!==null?a:Fn.pooledCache}function Mf(a,d){d===null?z(Js,Js.current):z(Js,d.pool)}function vx(){var a=Zh();return a===null?null:{parent:sr._currentValue,pool:a}}var Ju=Error(r(460)),yx=Error(r(474)),Pf=Error(r(542)),Jh={then:function(){}};function Em(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Qh(){}function xx(a,d,y){switch(y=a[y],y===void 0?a.push(d):y!==d&&(d.then(Qh,Qh),d=y),d.status){case"fulfilled":return d.value;case"rejected":throw a=d.reason,Cm(a),a;default:if(typeof d.status=="string")d.then(Qh,Qh);else{if(a=Fn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=d,a.status="pending",a.then(function(S){if(d.status==="pending"){var N=d;N.status="fulfilled",N.value=S}},function(S){if(d.status==="pending"){var N=d;N.status="rejected",N.reason=S}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw a=d.reason,Cm(a),a}throw Qu=d,Ju}}var Qu=null;function bx(){if(Qu===null)throw Error(r(459));var a=Qu;return Qu=null,a}function Cm(a){if(a===Ju||a===Pf)throw Error(r(483))}var rs=!1;function wm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ep(a,d){a=a.updateQueue,d.updateQueue===a&&(d.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function si(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Qs(a,d,y){var S=a.updateQueue;if(S===null)return null;if(S=S.shared,(gn&2)!==0){var N=S.pending;return N===null?d.next=d:(d.next=N.next,N.next=d),S.pending=d,d=$h(a),dx(a,null,y),d}return es(a,S,d,y),$h(a)}function ec(a,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194048)!==0)){var S=d.lanes;S&=a.pendingLanes,y|=S,d.lanes=y,cn(a,y)}}function Rm(a,d){var y=a.updateQueue,S=a.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var N=null,M=null;if(y=y.firstBaseUpdate,y!==null){do{var H={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};M===null?N=M=H:M=M.next=H,y=y.next}while(y!==null);M===null?N=M=d:M=M.next=d}else N=M=d;y={baseState:S.baseState,firstBaseUpdate:N,lastBaseUpdate:M,shared:S.shared,callbacks:S.callbacks},a.updateQueue=y;return}a=y.lastBaseUpdate,a===null?y.firstBaseUpdate=d:a.next=d,y.lastBaseUpdate=d}var Ft=!1;function Lf(){if(Ft){var a=Zu;if(a!==null)throw a}}function Ff(a,d,y,S){Ft=!1;var N=a.updateQueue;rs=!1;var M=N.firstBaseUpdate,H=N.lastBaseUpdate,ee=N.shared.pending;if(ee!==null){N.shared.pending=null;var fe=ee,Me=fe.next;fe.next=null,H===null?M=Me:H.next=Me,H=fe;var ze=a.alternate;ze!==null&&(ze=ze.updateQueue,ee=ze.lastBaseUpdate,ee!==H&&(ee===null?ze.firstBaseUpdate=Me:ee.next=Me,ze.lastBaseUpdate=fe))}if(M!==null){var He=N.baseState;H=0,ze=Me=fe=null,ee=M;do{var Le=ee.lane&-536870913,Fe=Le!==ee.lane;if(Fe?(tn&Le)===Le:(S&Le)===Le){Le!==0&&Le===Xu&&(Ft=!0),ze!==null&&(ze=ze.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Ot=a,wt=ee;Le=d;var kn=y;switch(wt.tag){case 1:if(Ot=wt.payload,typeof Ot=="function"){He=Ot.call(kn,He,Le);break e}He=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=wt.payload,Le=typeof Ot=="function"?Ot.call(kn,He,Le):Ot,Le==null)break e;He=p({},He,Le);break e;case 2:rs=!0}}Le=ee.callback,Le!==null&&(a.flags|=64,Fe&&(a.flags|=8192),Fe=N.callbacks,Fe===null?N.callbacks=[Le]:Fe.push(Le))}else Fe={lane:Le,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ze===null?(Me=ze=Fe,fe=He):ze=ze.next=Fe,H|=Le;if(ee=ee.next,ee===null){if(ee=N.shared.pending,ee===null)break;Fe=ee,ee=Fe.next,Fe.next=null,N.lastBaseUpdate=Fe,N.shared.pending=null}}while(!0);ze===null&&(fe=He),N.baseState=fe,N.firstBaseUpdate=Me,N.lastBaseUpdate=ze,M===null&&(N.shared.lanes=0),Po|=H,a.lanes=H,a.memoizedState=He}}function Sx(a,d){if(typeof a!="function")throw Error(r(191,a));a.call(d)}function tp(a,d){var y=a.callbacks;if(y!==null)for(a.callbacks=null,a=0;a<y.length;a++)Sx(y[a],d)}var ea=oe(null),tc=oe(0);function Ax(a,d){a=xs,z(tc,a),z(ea,d),xs=a|d.baseLanes}function Tm(){z(tc,xs),z(ea,ea.current)}function Nm(){xs=tc.current,pe(ea),pe(tc)}var ta=0,Ut=null,Rn=null,ar=null,np=!1,nc=!1,il=!1,is=0,Br=0,rc=null,H1=0;function tr(){throw Error(r(321))}function _m(a,d){if(d===null)return!1;for(var y=0;y<d.length&&y<a.length;y++)if(!ii(a[y],d[y]))return!1;return!0}function Im(a,d,y,S,N,M){return ta=M,Ut=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ie.H=a===null||a.memoizedState===null?Xe:Tn,il=!1,M=y(S,N),il=!1,nc&&(M=Cx(d,y,S,N)),Ex(a),M}function Ex(a){ie.H=wr;var d=Rn!==null&&Rn.next!==null;if(ta=0,ar=Rn=Ut=null,np=!1,Br=0,rc=null,d)throw Error(r(300));a===null||Xn||(a=a.dependencies,a!==null&&Xh(a)&&(Xn=!0))}function Cx(a,d,y,S){Ut=a;var N=0;do{if(nc&&(rc=null),Br=0,nc=!1,25<=N)throw Error(r(301));if(N+=1,ar=Rn=null,a.updateQueue!=null){var M=a.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}ie.H=Vn,M=d(y,S)}while(nc);return M}function W1(){var a=ie.H,d=a.useState()[0];return d=typeof d.then=="function"?kf(d):d,a=a.useState()[0],(Rn!==null?Rn.memoizedState:null)!==a&&(Ut.flags|=1024),d}function rp(){var a=is!==0;return is=0,a}function Om(a,d,y){d.updateQueue=a.updateQueue,d.flags&=-2053,a.lanes&=~y}function Dm(a){if(np){for(a=a.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}np=!1}ta=0,ar=Rn=Ut=null,nc=!1,Br=is=0,rc=null}function ai(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Ut.memoizedState=ar=a:ar=ar.next=a,ar}function lr(){if(Rn===null){var a=Ut.alternate;a=a!==null?a.memoizedState:null}else a=Rn.next;var d=ar===null?Ut.memoizedState:ar.next;if(d!==null)ar=d,Rn=a;else{if(a===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));Rn=a,a={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},ar===null?Ut.memoizedState=ar=a:ar=ar.next=a}return ar}function Mm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kf(a){var d=Br;return Br+=1,rc===null&&(rc=[]),a=xx(rc,a,d),d=Ut,(ar===null?d.memoizedState:ar.next)===null&&(d=d.alternate,ie.H=d===null||d.memoizedState===null?Xe:Tn),a}function Bf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return kf(a);if(a.$$typeof===_)return Ar(a)}throw Error(r(438,String(a)))}function ol(a){var d=null,y=Ut.updateQueue;if(y!==null&&(d=y.memoCache),d==null){var S=Ut.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(d={data:S.data.map(function(N){return N.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),y===null&&(y=Mm(),Ut.updateQueue=y),y.memoCache=d,y=d.data[d.index],y===void 0)for(y=d.data[d.index]=Array(a),S=0;S<a;S++)y[S]=Z;return d.index++,y}function os(a,d){return typeof d=="function"?d(a):d}function ip(a){var d=lr();return Pm(d,Rn,a)}function Pm(a,d,y){var S=a.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=y;var N=a.baseQueue,M=S.pending;if(M!==null){if(N!==null){var H=N.next;N.next=M.next,M.next=H}d.baseQueue=N=M,S.pending=null}if(M=a.baseState,N===null)a.memoizedState=M;else{d=N.next;var ee=H=null,fe=null,Me=d,ze=!1;do{var He=Me.lane&-536870913;if(He!==Me.lane?(tn&He)===He:(ta&He)===He){var Le=Me.revertLane;if(Le===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),He===Xu&&(ze=!0);else if((ta&Le)===Le){Me=Me.next,Le===Xu&&(ze=!0);continue}else He={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},fe===null?(ee=fe=He,H=M):fe=fe.next=He,Ut.lanes|=Le,Po|=Le;He=Me.action,il&&y(M,He),M=Me.hasEagerState?Me.eagerState:y(M,He)}else Le={lane:He,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},fe===null?(ee=fe=Le,H=M):fe=fe.next=Le,Ut.lanes|=He,Po|=He;Me=Me.next}while(Me!==null&&Me!==d);if(fe===null?H=M:fe.next=ee,!ii(M,a.memoizedState)&&(Xn=!0,ze&&(y=Zu,y!==null)))throw y;a.memoizedState=M,a.baseState=H,a.baseQueue=fe,S.lastRenderedState=M}return N===null&&(S.lanes=0),[a.memoizedState,S.dispatch]}function Lm(a){var d=lr(),y=d.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=a;var S=y.dispatch,N=y.pending,M=d.memoizedState;if(N!==null){y.pending=null;var H=N=N.next;do M=a(M,H.action),H=H.next;while(H!==N);ii(M,d.memoizedState)||(Xn=!0),d.memoizedState=M,d.baseQueue===null&&(d.baseState=M),y.lastRenderedState=M}return[M,S]}function Fm(a,d,y){var S=Ut,N=lr(),M=dn;if(M){if(y===void 0)throw Error(r(407));y=y()}else y=d();var H=!ii((Rn||N).memoizedState,y);H&&(N.memoizedState=y,Xn=!0),N=N.queue;var ee=Y1.bind(null,S,N,a);if(qr(2048,8,ee,[a]),N.getSnapshot!==d||H||ar!==null&&ar.memoizedState.tag&1){if(S.flags|=2048,as(9,ls(),jf.bind(null,S,N,y,d),null),Fn===null)throw Error(r(349));M||(ta&124)!==0||jt(S,d,y)}return y}function jt(a,d,y){a.flags|=16384,a={getSnapshot:d,value:y},d=Ut.updateQueue,d===null?(d=Mm(),Ut.updateQueue=d,d.stores=[a]):(y=d.stores,y===null?d.stores=[a]:y.push(a))}function jf(a,d,y,S){d.value=y,d.getSnapshot=S,wx(d)&&q1(a)}function Y1(a,d,y){return y(function(){wx(d)&&q1(a)})}function wx(a){var d=a.getSnapshot;a=a.value;try{var y=d();return!ii(a,y)}catch{return!0}}function q1(a){var d=Vu(a,2);d!==null&&Je(d,a,2)}function km(a){var d=ai();if(typeof a=="function"){var y=a;if(a=y(),il){tt(!0);try{y()}finally{tt(!1)}}}return d.memoizedState=d.baseState=a,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:a},d}function ye(a,d,y,S){return a.baseState=y,Pm(a,Rn,typeof S=="function"?S:os)}function Ee(a,d,y,S,N){if(oc(a))throw Error(r(485));if(a=d.action,a!==null){var M={payload:N,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){M.listeners.push(H)}};ie.T!==null?y(!0):M.isTransition=!1,S(M),y=d.pending,y===null?(M.next=d.pending=M,no(d,M)):(M.next=y.next,d.pending=y.next=M)}}function no(a,d){var y=d.action,S=d.payload,N=a.state;if(d.isTransition){var M=ie.T,H={};ie.T=H;try{var ee=y(N,S),fe=ie.S;fe!==null&&fe(H,ee),op(a,d,ee)}catch(Me){li(a,d,Me)}finally{ie.T=M}}else try{M=y(N,S),op(a,d,M)}catch(Me){li(a,d,Me)}}function op(a,d,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(S){ro(a,d,S)},function(S){return li(a,d,S)}):ro(a,d,y)}function ro(a,d,y){d.status="fulfilled",d.value=y,sp(d),a.state=y,d=a.pending,d!==null&&(y=d.next,y===d?a.pending=null:(y=y.next,d.next=y,no(a,y)))}function li(a,d,y){var S=a.pending;if(a.pending=null,S!==null){S=S.next;do d.status="rejected",d.reason=y,sp(d),d=d.next;while(d!==S)}a.action=null}function sp(a){a=a.listeners;for(var d=0;d<a.length;d++)(0,a[d])()}function Bm(a,d){return d}function ap(a,d){if(dn){var y=Fn.formState;if(y!==null){e:{var S=Ut;if(dn){if(Kn){t:{for(var N=Kn,M=eo;N.nodeType!==8;){if(!M){N=null;break t}if(N=Hi(N.nextSibling),N===null){N=null;break t}}M=N.data,N=M==="F!"||M==="F"?N:null}if(N){Kn=Hi(N.nextSibling),S=N.data==="F!";break e}}to(S)}S=!1}S&&(d=y[0])}}return y=ai(),y.memoizedState=y.baseState=d,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:d},y.queue=S,y=Co.bind(null,Ut,S),S.dispatch=y,S=km(!1),M=up.bind(null,Ut,!1,S.queue),S=ai(),N={state:d,dispatch:null,action:a,pending:null},S.queue=N,y=Ee.bind(null,Ut,N,M,y),N.dispatch=y,S.memoizedState=a,[d,y,!1]}function sl(a){var d=lr();return io(d,Rn,a)}function io(a,d,y){if(d=Pm(a,d,Bm)[0],a=ip(os)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var S=kf(d)}catch(H){throw H===Ju?Pf:H}else S=d;d=lr();var N=d.queue,M=N.dispatch;return y!==d.memoizedState&&(Ut.flags|=2048,as(9,ls(),zf.bind(null,N,y),null)),[S,M,a]}function zf(a,d){a.action=d}function ss(a){var d=lr(),y=Rn;if(y!==null)return io(d,y,a);lr(),d=d.memoizedState,y=lr();var S=y.queue.dispatch;return y.memoizedState=a,[d,S,!1]}function as(a,d,y,S){return a={tag:a,create:y,deps:S,inst:d,next:null},d=Ut.updateQueue,d===null&&(d=Mm(),Ut.updateQueue=d),y=d.lastEffect,y===null?d.lastEffect=a.next=a:(S=y.next,y.next=a,a.next=S,d.lastEffect=a),a}function ls(){return{destroy:void 0,resource:void 0}}function Er(){return lr().memoizedState}function Pn(a,d,y,S){var N=ai();S=S===void 0?null:S,Ut.flags|=a,N.memoizedState=as(1|d,ls(),y,S)}function qr(a,d,y,S){var N=lr();S=S===void 0?null:S;var M=N.memoizedState.inst;Rn!==null&&S!==null&&_m(S,Rn.memoizedState.deps)?N.memoizedState=as(d,M,y,S):(Ut.flags|=a,N.memoizedState=as(1|d,M,y,S))}function jm(a,d){Pn(8390656,8,a,d)}function ic(a,d){qr(2048,8,a,d)}function Ai(a,d){return qr(4,2,a,d)}function Gt(a,d){return qr(4,4,a,d)}function Cr(a,d){if(typeof d=="function"){a=a();var y=d(a);return function(){typeof y=="function"?y():d(null)}}if(d!=null)return a=a(),d.current=a,function(){d.current=null}}function zm(a,d,y){y=y!=null?y.concat([a]):null,qr(4,4,Cr.bind(null,d,a),y)}function lp(){}function Um(a,d){var y=lr();d=d===void 0?null:d;var S=y.memoizedState;return d!==null&&_m(d,S[1])?S[0]:(y.memoizedState=[a,d],a)}function na(a,d){var y=lr();d=d===void 0?null:d;var S=y.memoizedState;if(d!==null&&_m(d,S[1]))return S[0];if(S=a(),il){tt(!0);try{a()}finally{tt(!1)}}return y.memoizedState=[S,d],S}function ui(a,d,y){return y===void 0||(ta&1073741824)!==0?a.memoizedState=d:(a.memoizedState=y,a=Hx(),Ut.lanes|=a,Po|=a,y)}function en(a,d,y,S){return ii(y,d)?y:ea.current!==null?(a=ui(a,y,S),ii(a,d)||(Xn=!0),a):(ta&42)===0?(Xn=!0,a.memoizedState=y):(a=Hx(),Ut.lanes|=a,Po|=a,d)}function Uf(a,d,y,S,N){var M=Ae.p;Ae.p=M!==0&&8>M?M:8;var H=ie.T,ee={};ie.T=ee,up(a,!1,d,y);try{var fe=N(),Me=ie.S;if(Me!==null&&Me(ee,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var ze=$1(fe,S);wo(a,d,ze,gr(a))}else wo(a,d,S,gr(a))}catch(He){wo(a,d,{then:function(){},status:"rejected",reason:He},gr())}finally{Ae.p=M,ie.T=H}}function Vm(){}function ci(a,d,y,S){if(a.tag!==5)throw Error(r(476));var N=Gm(a).queue;Uf(a,N,d,de,y===null?Vm:function(){return Rx(a),y(S)})}function Gm(a){var d=a.memoizedState;if(d!==null)return d;d={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:de},next:null};var y={};return d.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:y},next:null},a.memoizedState=d,a=a.alternate,a!==null&&(a.memoizedState=d),d}function Rx(a){var d=Gm(a).next.queue;wo(a,d,{},gr())}function ra(){return Ar(Ec)}function $m(){return lr().memoizedState}function Tx(){return lr().memoizedState}function Nx(a){for(var d=a.return;d!==null;){switch(d.tag){case 24:case 3:var y=gr();a=si(y);var S=Qs(d,a,y);S!==null&&(Je(S,d,y),ec(S,d,y)),d={cache:Sm()},a.payload=d;return}d=d.return}}function oo(a,d,y){var S=gr();y={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},oc(a)?Hm(d,y):(y=Gh(a,d,y,S),y!==null&&(Je(y,a,S),Wm(y,d,S)))}function Co(a,d,y){var S=gr();wo(a,d,y,S)}function wo(a,d,y,S){var N={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(oc(a))Hm(d,N);else{var M=a.alternate;if(a.lanes===0&&(M===null||M.lanes===0)&&(M=d.lastRenderedReducer,M!==null))try{var H=d.lastRenderedState,ee=M(H,y);if(N.hasEagerState=!0,N.eagerState=ee,ii(ee,H))return es(a,d,N,0),Fn===null&&Vh(),!1}catch{}finally{}if(y=Gh(a,d,N,S),y!==null)return Je(y,a,S),Wm(y,d,S),!0}return!1}function up(a,d,y,S){if(S={lane:2,revertLane:Ip(),action:S,hasEagerState:!1,eagerState:null,next:null},oc(a)){if(d)throw Error(r(479))}else d=Gh(a,y,S,2),d!==null&&Je(d,a,2)}function oc(a){var d=a.alternate;return a===Ut||d!==null&&d===Ut}function Hm(a,d){nc=np=!0;var y=a.pending;y===null?d.next=d:(d.next=y.next,y.next=d),a.pending=d}function Wm(a,d,y){if((y&4194048)!==0){var S=d.lanes;S&=a.pendingLanes,y|=S,d.lanes=y,cn(a,y)}}var wr={readContext:Ar,use:Bf,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useLayoutEffect:tr,useInsertionEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useSyncExternalStore:tr,useId:tr,useHostTransitionStatus:tr,useFormState:tr,useActionState:tr,useOptimistic:tr,useMemoCache:tr,useCacheRefresh:tr},Xe={readContext:Ar,use:Bf,useCallback:function(a,d){return ai().memoizedState=[a,d===void 0?null:d],a},useContext:Ar,useEffect:jm,useImperativeHandle:function(a,d,y){y=y!=null?y.concat([a]):null,Pn(4194308,4,Cr.bind(null,d,a),y)},useLayoutEffect:function(a,d){return Pn(4194308,4,a,d)},useInsertionEffect:function(a,d){Pn(4,2,a,d)},useMemo:function(a,d){var y=ai();d=d===void 0?null:d;var S=a();if(il){tt(!0);try{a()}finally{tt(!1)}}return y.memoizedState=[S,d],S},useReducer:function(a,d,y){var S=ai();if(y!==void 0){var N=y(d);if(il){tt(!0);try{y(d)}finally{tt(!1)}}}else N=d;return S.memoizedState=S.baseState=N,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:N},S.queue=a,a=a.dispatch=oo.bind(null,Ut,a),[S.memoizedState,a]},useRef:function(a){var d=ai();return a={current:a},d.memoizedState=a},useState:function(a){a=km(a);var d=a.queue,y=Co.bind(null,Ut,d);return d.dispatch=y,[a.memoizedState,y]},useDebugValue:lp,useDeferredValue:function(a,d){var y=ai();return ui(y,a,d)},useTransition:function(){var a=km(!1);return a=Uf.bind(null,Ut,a.queue,!0,!1),ai().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,d,y){var S=Ut,N=ai();if(dn){if(y===void 0)throw Error(r(407));y=y()}else{if(y=d(),Fn===null)throw Error(r(349));(tn&124)!==0||jt(S,d,y)}N.memoizedState=y;var M={value:y,getSnapshot:d};return N.queue=M,jm(Y1.bind(null,S,M,a),[a]),S.flags|=2048,as(9,ls(),jf.bind(null,S,M,y,d),null),y},useId:function(){var a=ai(),d=Fn.identifierPrefix;if(dn){var y=Kt,S=Eo;y=(S&~(1<<32-lt(S)-1)).toString(32)+y,d=""+d+"R"+y,y=is++,0<y&&(d+="H"+y.toString(32)),d+=""}else y=H1++,d=""+d+"r"+y.toString(32)+"";return a.memoizedState=d},useHostTransitionStatus:ra,useFormState:ap,useActionState:ap,useOptimistic:function(a){var d=ai();d.memoizedState=d.baseState=a;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=y,d=up.bind(null,Ut,!0,y),y.dispatch=d,[a,d]},useMemoCache:ol,useCacheRefresh:function(){return ai().memoizedState=Nx.bind(null,Ut)}},Tn={readContext:Ar,use:Bf,useCallback:Um,useContext:Ar,useEffect:ic,useImperativeHandle:zm,useInsertionEffect:Ai,useLayoutEffect:Gt,useMemo:na,useReducer:ip,useRef:Er,useState:function(){return ip(os)},useDebugValue:lp,useDeferredValue:function(a,d){var y=lr();return en(y,Rn.memoizedState,a,d)},useTransition:function(){var a=ip(os)[0],d=lr().memoizedState;return[typeof a=="boolean"?a:kf(a),d]},useSyncExternalStore:Fm,useId:$m,useHostTransitionStatus:ra,useFormState:sl,useActionState:sl,useOptimistic:function(a,d){var y=lr();return ye(y,Rn,a,d)},useMemoCache:ol,useCacheRefresh:Tx},Vn={readContext:Ar,use:Bf,useCallback:Um,useContext:Ar,useEffect:ic,useImperativeHandle:zm,useInsertionEffect:Ai,useLayoutEffect:Gt,useMemo:na,useReducer:Lm,useRef:Er,useState:function(){return Lm(os)},useDebugValue:lp,useDeferredValue:function(a,d){var y=lr();return Rn===null?ui(y,a,d):en(y,Rn.memoizedState,a,d)},useTransition:function(){var a=Lm(os)[0],d=lr().memoizedState;return[typeof a=="boolean"?a:kf(a),d]},useSyncExternalStore:Fm,useId:$m,useHostTransitionStatus:ra,useFormState:ss,useActionState:ss,useOptimistic:function(a,d){var y=lr();return Rn!==null?ye(y,Rn,a,d):(y.baseState=a,[a,y.queue.dispatch])},useMemoCache:ol,useCacheRefresh:Tx},us=null,cs=0;function fr(a){var d=cs;return cs+=1,us===null&&(us=[]),xx(us,a,d)}function Bi(a,d){d=d.props.ref,a.ref=d!==void 0?d:null}function Ei(a,d){throw d.$$typeof===m?Error(r(525)):(a=Object.prototype.toString.call(d),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":a)))}function ia(a){var d=a._init;return d(a._payload)}function ji(a){function d(Re,Se){if(a){var Oe=Re.deletions;Oe===null?(Re.deletions=[Se],Re.flags|=16):Oe.push(Se)}}function y(Re,Se){if(!a)return null;for(;Se!==null;)d(Re,Se),Se=Se.sibling;return null}function S(Re){for(var Se=new Map;Re!==null;)Re.key!==null?Se.set(Re.key,Re):Se.set(Re.index,Re),Re=Re.sibling;return Se}function N(Re,Se){return Re=ki(Re,Se),Re.index=0,Re.sibling=null,Re}function M(Re,Se,Oe){return Re.index=Oe,a?(Oe=Re.alternate,Oe!==null?(Oe=Oe.index,Oe<Se?(Re.flags|=67108866,Se):Oe):(Re.flags|=67108866,Se)):(Re.flags|=1048576,Se)}function H(Re){return a&&Re.alternate===null&&(Re.flags|=67108866),Re}function ee(Re,Se,Oe,Ge){return Se===null||Se.tag!==6?(Se=pm(Oe,Re.mode,Ge),Se.return=Re,Se):(Se=N(Se,Oe),Se.return=Re,Se)}function fe(Re,Se,Oe,Ge){var ut=Oe.type;return ut===E?ze(Re,Se,Oe.props.children,Ge,Oe.key):Se!==null&&(Se.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===k&&ia(ut)===Se.type)?(Se=N(Se,Oe.props),Bi(Se,Oe),Se.return=Re,Se):(Se=Hh(Oe.type,Oe.key,Oe.props,null,Re.mode,Ge),Bi(Se,Oe),Se.return=Re,Se)}function Me(Re,Se,Oe,Ge){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Oe.containerInfo||Se.stateNode.implementation!==Oe.implementation?(Se=gm(Oe,Re.mode,Ge),Se.return=Re,Se):(Se=N(Se,Oe.children||[]),Se.return=Re,Se)}function ze(Re,Se,Oe,Ge,ut){return Se===null||Se.tag!==7?(Se=Ys(Oe,Re.mode,Ge,ut),Se.return=Re,Se):(Se=N(Se,Oe),Se.return=Re,Se)}function He(Re,Se,Oe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=pm(""+Se,Re.mode,Oe),Se.return=Re,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case x:return Oe=Hh(Se.type,Se.key,Se.props,null,Re.mode,Oe),Bi(Oe,Se),Oe.return=Re,Oe;case b:return Se=gm(Se,Re.mode,Oe),Se.return=Re,Se;case k:var Ge=Se._init;return Se=Ge(Se._payload),He(Re,Se,Oe)}if(_e(Se)||re(Se))return Se=Ys(Se,Re.mode,Oe,null),Se.return=Re,Se;if(typeof Se.then=="function")return He(Re,fr(Se),Oe);if(Se.$$typeof===_)return He(Re,Yu(Re,Se),Oe);Ei(Re,Se)}return null}function Le(Re,Se,Oe,Ge){var ut=Se!==null?Se.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ut!==null?null:ee(Re,Se,""+Oe,Ge);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case x:return Oe.key===ut?fe(Re,Se,Oe,Ge):null;case b:return Oe.key===ut?Me(Re,Se,Oe,Ge):null;case k:return ut=Oe._init,Oe=ut(Oe._payload),Le(Re,Se,Oe,Ge)}if(_e(Oe)||re(Oe))return ut!==null?null:ze(Re,Se,Oe,Ge,null);if(typeof Oe.then=="function")return Le(Re,Se,fr(Oe),Ge);if(Oe.$$typeof===_)return Le(Re,Se,Yu(Re,Oe),Ge);Ei(Re,Oe)}return null}function Fe(Re,Se,Oe,Ge,ut){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Re=Re.get(Oe)||null,ee(Se,Re,""+Ge,ut);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case x:return Re=Re.get(Ge.key===null?Oe:Ge.key)||null,fe(Se,Re,Ge,ut);case b:return Re=Re.get(Ge.key===null?Oe:Ge.key)||null,Me(Se,Re,Ge,ut);case k:var Jt=Ge._init;return Ge=Jt(Ge._payload),Fe(Re,Se,Oe,Ge,ut)}if(_e(Ge)||re(Ge))return Re=Re.get(Oe)||null,ze(Se,Re,Ge,ut,null);if(typeof Ge.then=="function")return Fe(Re,Se,Oe,fr(Ge),ut);if(Ge.$$typeof===_)return Fe(Re,Se,Oe,Yu(Se,Ge),ut);Ei(Se,Ge)}return null}function Ot(Re,Se,Oe,Ge){for(var ut=null,Jt=null,bt=Se,Tt=Se=0,Ur=null;bt!==null&&Tt<Oe.length;Tt++){bt.index>Tt?(Ur=bt,bt=null):Ur=bt.sibling;var vn=Le(Re,bt,Oe[Tt],Ge);if(vn===null){bt===null&&(bt=Ur);break}a&&bt&&vn.alternate===null&&d(Re,bt),Se=M(vn,Se,Tt),Jt===null?ut=vn:Jt.sibling=vn,Jt=vn,bt=Ur}if(Tt===Oe.length)return y(Re,bt),dn&&tl(Re,Tt),ut;if(bt===null){for(;Tt<Oe.length;Tt++)bt=He(Re,Oe[Tt],Ge),bt!==null&&(Se=M(bt,Se,Tt),Jt===null?ut=bt:Jt.sibling=bt,Jt=bt);return dn&&tl(Re,Tt),ut}for(bt=S(bt);Tt<Oe.length;Tt++)Ur=Fe(bt,Re,Tt,Oe[Tt],Ge),Ur!==null&&(a&&Ur.alternate!==null&&bt.delete(Ur.key===null?Tt:Ur.key),Se=M(Ur,Se,Tt),Jt===null?ut=Ur:Jt.sibling=Ur,Jt=Ur);return a&&bt.forEach(function(Nc){return d(Re,Nc)}),dn&&tl(Re,Tt),ut}function wt(Re,Se,Oe,Ge){if(Oe==null)throw Error(r(151));for(var ut=null,Jt=null,bt=Se,Tt=Se=0,Ur=null,vn=Oe.next();bt!==null&&!vn.done;Tt++,vn=Oe.next()){bt.index>Tt?(Ur=bt,bt=null):Ur=bt.sibling;var Nc=Le(Re,bt,vn.value,Ge);if(Nc===null){bt===null&&(bt=Ur);break}a&&bt&&Nc.alternate===null&&d(Re,bt),Se=M(Nc,Se,Tt),Jt===null?ut=Nc:Jt.sibling=Nc,Jt=Nc,bt=Ur}if(vn.done)return y(Re,bt),dn&&tl(Re,Tt),ut;if(bt===null){for(;!vn.done;Tt++,vn=Oe.next())vn=He(Re,vn.value,Ge),vn!==null&&(Se=M(vn,Se,Tt),Jt===null?ut=vn:Jt.sibling=vn,Jt=vn);return dn&&tl(Re,Tt),ut}for(bt=S(bt);!vn.done;Tt++,vn=Oe.next())vn=Fe(bt,Re,Tt,vn.value,Ge),vn!==null&&(a&&vn.alternate!==null&&bt.delete(vn.key===null?Tt:vn.key),Se=M(vn,Se,Tt),Jt===null?ut=vn:Jt.sibling=vn,Jt=vn);return a&&bt.forEach(function(JB){return d(Re,JB)}),dn&&tl(Re,Tt),ut}function kn(Re,Se,Oe,Ge){if(typeof Oe=="object"&&Oe!==null&&Oe.type===E&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case x:e:{for(var ut=Oe.key;Se!==null;){if(Se.key===ut){if(ut=Oe.type,ut===E){if(Se.tag===7){y(Re,Se.sibling),Ge=N(Se,Oe.props.children),Ge.return=Re,Re=Ge;break e}}else if(Se.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===k&&ia(ut)===Se.type){y(Re,Se.sibling),Ge=N(Se,Oe.props),Bi(Ge,Oe),Ge.return=Re,Re=Ge;break e}y(Re,Se);break}else d(Re,Se);Se=Se.sibling}Oe.type===E?(Ge=Ys(Oe.props.children,Re.mode,Ge,Oe.key),Ge.return=Re,Re=Ge):(Ge=Hh(Oe.type,Oe.key,Oe.props,null,Re.mode,Ge),Bi(Ge,Oe),Ge.return=Re,Re=Ge)}return H(Re);case b:e:{for(ut=Oe.key;Se!==null;){if(Se.key===ut)if(Se.tag===4&&Se.stateNode.containerInfo===Oe.containerInfo&&Se.stateNode.implementation===Oe.implementation){y(Re,Se.sibling),Ge=N(Se,Oe.children||[]),Ge.return=Re,Re=Ge;break e}else{y(Re,Se);break}else d(Re,Se);Se=Se.sibling}Ge=gm(Oe,Re.mode,Ge),Ge.return=Re,Re=Ge}return H(Re);case k:return ut=Oe._init,Oe=ut(Oe._payload),kn(Re,Se,Oe,Ge)}if(_e(Oe))return Ot(Re,Se,Oe,Ge);if(re(Oe)){if(ut=re(Oe),typeof ut!="function")throw Error(r(150));return Oe=ut.call(Oe),wt(Re,Se,Oe,Ge)}if(typeof Oe.then=="function")return kn(Re,Se,fr(Oe),Ge);if(Oe.$$typeof===_)return kn(Re,Se,Yu(Re,Oe),Ge);Ei(Re,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,Se!==null&&Se.tag===6?(y(Re,Se.sibling),Ge=N(Se,Oe),Ge.return=Re,Re=Ge):(y(Re,Se),Ge=pm(Oe,Re.mode,Ge),Ge.return=Re,Re=Ge),H(Re)):y(Re,Se)}return function(Re,Se,Oe,Ge){try{cs=0;var ut=kn(Re,Se,Oe,Ge);return us=null,ut}catch(bt){if(bt===Ju||bt===Pf)throw bt;var Jt=kr(29,bt,null,Re.mode);return Jt.lanes=Ge,Jt.return=Re,Jt}finally{}}}var sc=ji(!0),_x=ji(!1),zi=oe(null),so=null;function oa(a){var d=a.alternate;z(Nn,Nn.current&1),z(zi,a),so===null&&(d===null||ea.current!==null||d.memoizedState!==null)&&(so=a)}function Ym(a){if(a.tag===22){if(z(Nn,Nn.current),z(zi,a),so===null){var d=a.alternate;d!==null&&d.memoizedState!==null&&(so=a)}}else zn()}function zn(){z(Nn,Nn.current),z(zi,zi.current)}function Kr(a){pe(zi),so===a&&(so=null),pe(Nn)}var Nn=oe(0);function cp(a){for(var d=a;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||w0(y)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function dr(a,d,y,S){d=a.memoizedState,y=y(S,d),y=y==null?d:p({},d,y),a.memoizedState=y,a.lanes===0&&(a.updateQueue.baseState=y)}var Ro={enqueueSetState:function(a,d,y){a=a._reactInternals;var S=gr(),N=si(S);N.payload=d,y!=null&&(N.callback=y),d=Qs(a,N,S),d!==null&&(Je(d,a,S),ec(d,a,S))},enqueueReplaceState:function(a,d,y){a=a._reactInternals;var S=gr(),N=si(S);N.tag=1,N.payload=d,y!=null&&(N.callback=y),d=Qs(a,N,S),d!==null&&(Je(d,a,S),ec(d,a,S))},enqueueForceUpdate:function(a,d){a=a._reactInternals;var y=gr(),S=si(y);S.tag=2,d!=null&&(S.callback=d),d=Qs(a,S,y),d!==null&&(Je(d,a,y),ec(d,a,y))}};function al(a,d,y,S,N,M,H){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(S,M,H):d.prototype&&d.prototype.isPureReactComponent?!Cf(y,S)||!Cf(N,M):!0}function fs(a,d,y,S){a=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,S),d.state!==a&&Ro.enqueueReplaceState(d,d.state,null)}function Xr(a,d){var y=d;if("ref"in d){y={};for(var S in d)S!=="ref"&&(y[S]=d[S])}if(a=a.defaultProps){y===d&&(y=p({},y));for(var N in a)y[N]===void 0&&(y[N]=a[N])}return y}var fi=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function qm(a){fi(a)}function ll(a){console.error(a)}function To(a){fi(a)}function sa(a,d){try{var y=a.onUncaughtError;y(d.value,{componentStack:d.stack})}catch(S){setTimeout(function(){throw S})}}function Zr(a,d,y){try{var S=a.onCaughtError;S(y.value,{componentStack:y.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function No(a,d,y){return y=si(y),y.tag=3,y.payload={element:null},y.callback=function(){sa(a,d)},y}function ac(a){return a=si(a),a.tag=3,a}function Ix(a,d,y,S){var N=y.type.getDerivedStateFromError;if(typeof N=="function"){var M=S.value;a.payload=function(){return N(M)},a.callback=function(){Zr(d,y,S)}}var H=y.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(a.callback=function(){Zr(d,y,S),typeof N!="function"&&(co===null?co=new Set([this]):co.add(this));var ee=S.stack;this.componentDidCatch(S.value,{componentStack:ee!==null?ee:""})})}function K1(a,d,y,S,N){if(y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(d=y.alternate,d!==null&&Of(d,y,N,!0),y=zi.current,y!==null){switch(y.tag){case 13:return so===null?on():y.alternate===null&&Gn===0&&(Gn=3),y.flags&=-257,y.flags|=65536,y.lanes=N,S===Jh?y.flags|=16384:(d=y.updateQueue,d===null?y.updateQueue=new Set([S]):d.add(S),g0(a,S,N)),!1;case 22:return y.flags|=65536,S===Jh?y.flags|=16384:(d=y.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([S])},y.updateQueue=d):(y=d.retryQueue,y===null?d.retryQueue=new Set([S]):y.add(S)),g0(a,S,N)),!1}throw Error(r(435,y.tag))}return g0(a,S,N),on(),!1}if(dn)return d=zi.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=N,S!==vm&&(a=Error(r(422),{cause:S}),If(Fi(a,y)))):(S!==vm&&(d=Error(r(423),{cause:S}),If(Fi(d,y))),a=a.current.alternate,a.flags|=65536,N&=-N,a.lanes|=N,S=Fi(S,y),N=No(a.stateNode,S,N),Rm(a,N),Gn!==4&&(Gn=2)),!1;var M=Error(r(520),{cause:S});if(M=Fi(M,y),gc===null?gc=[M]:gc.push(M),Gn!==4&&(Gn=2),d===null)return!0;S=Fi(S,y),y=d;do{switch(y.tag){case 3:return y.flags|=65536,a=N&-N,y.lanes|=a,a=No(y.stateNode,S,a),Rm(y,a),!1;case 1:if(d=y.type,M=y.stateNode,(y.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(co===null||!co.has(M))))return y.flags|=65536,N&=-N,y.lanes|=N,N=ac(N),Ix(N,a,y,S),Rm(y,N),!1}y=y.return}while(y!==null);return!1}var ao=Error(r(461)),Xn=!1;function Rr(a,d,y,S){d.child=a===null?_x(d,null,y,S):sc(d,a.child,y,S)}function Ox(a,d,y,S,N){y=y.render;var M=d.ref;if("ref"in S){var H={};for(var ee in S)ee!=="ref"&&(H[ee]=S[ee])}else H=S;return Zs(d),S=Im(a,d,y,H,M,N),ee=rp(),a!==null&&!Xn?(Om(a,d,N),ds(a,d,N)):(dn&&ee&&mm(d),d.flags|=1,Rr(a,d,S,N),d.child)}function Zn(a,d,y,S,N){if(a===null){var M=y.type;return typeof M=="function"&&!Tf(M)&&M.defaultProps===void 0&&y.compare===null?(d.tag=15,d.type=M,Km(a,d,M,S,N)):(a=Hh(y.type,null,S,d,d.mode,N),a.ref=d.ref,a.return=d,d.child=a)}if(M=a.child,!aa(a,N)){var H=M.memoizedProps;if(y=y.compare,y=y!==null?y:Cf,y(H,S)&&a.ref===d.ref)return ds(a,d,N)}return d.flags|=1,a=ki(M,S),a.ref=d.ref,a.return=d,d.child=a}function Km(a,d,y,S,N){if(a!==null){var M=a.memoizedProps;if(Cf(M,S)&&a.ref===d.ref)if(Xn=!1,d.pendingProps=S=M,aa(a,N))(a.flags&131072)!==0&&(Xn=!0);else return d.lanes=a.lanes,ds(a,d,N)}return fp(a,d,y,S,N)}function Xm(a,d,y){var S=d.pendingProps,N=S.children,M=a!==null?a.memoizedState:null;if(S.mode==="hidden"){if((d.flags&128)!==0){if(S=M!==null?M.baseLanes|y:y,a!==null){for(N=d.child=a.child,M=0;N!==null;)M=M|N.lanes|N.childLanes,N=N.sibling;d.childLanes=M&~S}else d.childLanes=0,d.child=null;return Vf(a,d,S,y)}if((y&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},a!==null&&Mf(d,M!==null?M.cachePool:null),M!==null?Ax(d,M):Tm(),Ym(d);else return d.lanes=d.childLanes=536870912,Vf(a,d,M!==null?M.baseLanes|y:y,y)}else M!==null?(Mf(d,M.cachePool),Ax(d,M),zn(),d.memoizedState=null):(a!==null&&Mf(d,null),Tm(),zn());return Rr(a,d,N,y),d.child}function Vf(a,d,y,S){var N=Zh();return N=N===null?null:{parent:sr._currentValue,pool:N},d.memoizedState={baseLanes:y,cachePool:N},a!==null&&Mf(d,null),Tm(),Ym(d),a!==null&&Of(a,d,S,!0),null}function lc(a,d){var y=d.ref;if(y===null)a!==null&&a.ref!==null&&(d.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(a===null||a.ref!==y)&&(d.flags|=4194816)}}function fp(a,d,y,S,N){return Zs(d),y=Im(a,d,y,S,void 0,N),S=rp(),a!==null&&!Xn?(Om(a,d,N),ds(a,d,N)):(dn&&S&&mm(d),d.flags|=1,Rr(a,d,y,N),d.child)}function Dx(a,d,y,S,N,M){return Zs(d),d.updateQueue=null,y=Cx(d,S,y,N),Ex(a),S=rp(),a!==null&&!Xn?(Om(a,d,M),ds(a,d,M)):(dn&&S&&mm(d),d.flags|=1,Rr(a,d,y,M),d.child)}function Mx(a,d,y,S,N){if(Zs(d),d.stateNode===null){var M=Gu,H=y.contextType;typeof H=="object"&&H!==null&&(M=Ar(H)),M=new y(S,M),d.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Ro,d.stateNode=M,M._reactInternals=d,M=d.stateNode,M.props=S,M.state=d.memoizedState,M.refs={},wm(d),H=y.contextType,M.context=typeof H=="object"&&H!==null?Ar(H):Gu,M.state=d.memoizedState,H=y.getDerivedStateFromProps,typeof H=="function"&&(dr(d,y,H,S),M.state=d.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(H=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),H!==M.state&&Ro.enqueueReplaceState(M,M.state,null),Ff(d,S,M,N),Lf(),M.state=d.memoizedState),typeof M.componentDidMount=="function"&&(d.flags|=4194308),S=!0}else if(a===null){M=d.stateNode;var ee=d.memoizedProps,fe=Xr(y,ee);M.props=fe;var Me=M.context,ze=y.contextType;H=Gu,typeof ze=="object"&&ze!==null&&(H=Ar(ze));var He=y.getDerivedStateFromProps;ze=typeof He=="function"||typeof M.getSnapshotBeforeUpdate=="function",ee=d.pendingProps!==ee,ze||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ee||Me!==H)&&fs(d,M,S,H),rs=!1;var Le=d.memoizedState;M.state=Le,Ff(d,S,M,N),Lf(),Me=d.memoizedState,ee||Le!==Me||rs?(typeof He=="function"&&(dr(d,y,He,S),Me=d.memoizedState),(fe=rs||al(d,y,fe,S,Le,Me,H))?(ze||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(d.flags|=4194308)):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=Me),M.props=S,M.state=Me,M.context=H,S=fe):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{M=d.stateNode,ep(a,d),H=d.memoizedProps,ze=Xr(y,H),M.props=ze,He=d.pendingProps,Le=M.context,Me=y.contextType,fe=Gu,typeof Me=="object"&&Me!==null&&(fe=Ar(Me)),ee=y.getDerivedStateFromProps,(Me=typeof ee=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==He||Le!==fe)&&fs(d,M,S,fe),rs=!1,Le=d.memoizedState,M.state=Le,Ff(d,S,M,N),Lf();var Fe=d.memoizedState;H!==He||Le!==Fe||rs||a!==null&&a.dependencies!==null&&Xh(a.dependencies)?(typeof ee=="function"&&(dr(d,y,ee,S),Fe=d.memoizedState),(ze=rs||al(d,y,ze,S,Le,Fe,fe)||a!==null&&a.dependencies!==null&&Xh(a.dependencies))?(Me||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(S,Fe,fe),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(S,Fe,fe)),typeof M.componentDidUpdate=="function"&&(d.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&Le===a.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&Le===a.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=Fe),M.props=S,M.state=Fe,M.context=fe,S=ze):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&Le===a.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&Le===a.memoizedState||(d.flags|=1024),S=!1)}return M=S,lc(a,d),S=(d.flags&128)!==0,M||S?(M=d.stateNode,y=S&&typeof y.getDerivedStateFromError!="function"?null:M.render(),d.flags|=1,a!==null&&S?(d.child=sc(d,a.child,null,N),d.child=sc(d,null,y,N)):Rr(a,d,y,N),d.memoizedState=M.state,a=d.child):a=ds(a,d,N),a}function Ui(a,d,y,S){return Wu(),d.flags|=256,Rr(a,d,y,S),d.child}var hr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jr(a){return{baseLanes:a,cachePool:vx()}}function Gf(a,d,y){return a=a!==null?a.childLanes&~y:0,d&&(a|=Gi),a}function dp(a,d,y){var S=d.pendingProps,N=!1,M=(d.flags&128)!==0,H;if((H=M)||(H=a!==null&&a.memoizedState===null?!1:(Nn.current&2)!==0),H&&(N=!0,d.flags&=-129),H=(d.flags&32)!==0,d.flags&=-33,a===null){if(dn){if(N?oa(d):zn(),dn){var ee=Kn,fe;if(fe=ee){e:{for(fe=ee,ee=eo;fe.nodeType!==8;){if(!ee){ee=null;break e}if(fe=Hi(fe.nextSibling),fe===null){ee=null;break e}}ee=fe}ee!==null?(d.memoizedState={dehydrated:ee,treeContext:qs!==null?{id:Eo,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},fe=kr(18,null,null,0),fe.stateNode=ee,fe.return=d,d.child=fe,Yr=d,Kn=null,fe=!0):fe=!1}fe||to(d)}if(ee=d.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))return w0(ee)?d.lanes=32:d.lanes=536870912,null;Kr(d)}return ee=S.children,S=S.fallback,N?(zn(),N=d.mode,ee=jr({mode:"hidden",children:ee},N),S=Ys(S,N,y,null),ee.return=d,S.return=d,ee.sibling=S,d.child=ee,N=d.child,N.memoizedState=Jr(y),N.childLanes=Gf(a,H,y),d.memoizedState=hr,S):(oa(d),hp(d,ee))}if(fe=a.memoizedState,fe!==null&&(ee=fe.dehydrated,ee!==null)){if(M)d.flags&256?(oa(d),d.flags&=-257,d=ul(a,d,y)):d.memoizedState!==null?(zn(),d.child=a.child,d.flags|=128,d=null):(zn(),N=S.fallback,ee=d.mode,S=jr({mode:"visible",children:S.children},ee),N=Ys(N,ee,y,null),N.flags|=2,S.return=d,N.return=d,S.sibling=N,d.child=S,sc(d,a.child,null,y),S=d.child,S.memoizedState=Jr(y),S.childLanes=Gf(a,H,y),d.memoizedState=hr,d=N);else if(oa(d),w0(ee)){if(H=ee.nextSibling&&ee.nextSibling.dataset,H)var Me=H.dgst;H=Me,S=Error(r(419)),S.stack="",S.digest=H,If({value:S,source:null,stack:null}),d=ul(a,d,y)}else if(Xn||Of(a,d,y,!1),H=(y&a.childLanes)!==0,Xn||H){if(H=Fn,H!==null&&(S=y&-y,S=(S&42)!==0?1:Qt(S),S=(S&(H.suspendedLanes|y))!==0?0:S,S!==0&&S!==fe.retryLane))throw fe.retryLane=S,Vu(a,S),Je(H,a,S),ao;ee.data==="$?"||on(),d=ul(a,d,y)}else ee.data==="$?"?(d.flags|=192,d.child=a.child,d=null):(a=fe.treeContext,Kn=Hi(ee.nextSibling),Yr=d,dn=!0,Ks=null,eo=!1,a!==null&&(Si[oi++]=Eo,Si[oi++]=Kt,Si[oi++]=qs,Eo=a.id,Kt=a.overflow,qs=d),d=hp(d,S.children),d.flags|=4096);return d}return N?(zn(),N=S.fallback,ee=d.mode,fe=a.child,Me=fe.sibling,S=ki(fe,{mode:"hidden",children:S.children}),S.subtreeFlags=fe.subtreeFlags&65011712,Me!==null?N=ki(Me,N):(N=Ys(N,ee,y,null),N.flags|=2),N.return=d,S.return=d,S.sibling=N,d.child=S,S=N,N=d.child,ee=a.child.memoizedState,ee===null?ee=Jr(y):(fe=ee.cachePool,fe!==null?(Me=sr._currentValue,fe=fe.parent!==Me?{parent:Me,pool:Me}:fe):fe=vx(),ee={baseLanes:ee.baseLanes|y,cachePool:fe}),N.memoizedState=ee,N.childLanes=Gf(a,H,y),d.memoizedState=hr,S):(oa(d),y=a.child,a=y.sibling,y=ki(y,{mode:"visible",children:S.children}),y.return=d,y.sibling=null,a!==null&&(H=d.deletions,H===null?(d.deletions=[a],d.flags|=16):H.push(a)),d.child=y,d.memoizedState=null,y)}function hp(a,d){return d=jr({mode:"visible",children:d},a.mode),d.return=a,a.child=d}function jr(a,d){return a=kr(22,a,null,d),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function ul(a,d,y){return sc(d,a.child,null,y),a=hp(d,d.pendingProps.children),a.flags|=2,d.memoizedState=null,a}function cl(a,d,y){a.lanes|=d;var S=a.alternate;S!==null&&(S.lanes|=d),xm(a.return,d,y)}function pp(a,d,y,S,N){var M=a.memoizedState;M===null?a.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:N}:(M.isBackwards=d,M.rendering=null,M.renderingStartTime=0,M.last=S,M.tail=y,M.tailMode=N)}function Vi(a,d,y){var S=d.pendingProps,N=S.revealOrder,M=S.tail;if(Rr(a,d,S.children,y),S=Nn.current,(S&2)!==0)S=S&1|2,d.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=d.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&cl(a,y,d);else if(a.tag===19)cl(a,y,d);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===d)break e;for(;a.sibling===null;){if(a.return===null||a.return===d)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}S&=1}switch(z(Nn,S),N){case"forwards":for(y=d.child,N=null;y!==null;)a=y.alternate,a!==null&&cp(a)===null&&(N=y),y=y.sibling;y=N,y===null?(N=d.child,d.child=null):(N=y.sibling,y.sibling=null),pp(d,!1,N,y,M);break;case"backwards":for(y=null,N=d.child,d.child=null;N!==null;){if(a=N.alternate,a!==null&&cp(a)===null){d.child=N;break}a=N.sibling,N.sibling=y,y=N,N=a}pp(d,!0,y,null,M);break;case"together":pp(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ds(a,d,y){if(a!==null&&(d.dependencies=a.dependencies),Po|=d.lanes,(y&d.childLanes)===0)if(a!==null){if(Of(a,d,y,!1),(y&d.childLanes)===0)return null}else return null;if(a!==null&&d.child!==a.child)throw Error(r(153));if(d.child!==null){for(a=d.child,y=ki(a,a.pendingProps),d.child=y,y.return=d;a.sibling!==null;)a=a.sibling,y=y.sibling=ki(a,a.pendingProps),y.return=d;y.sibling=null}return d.child}function aa(a,d){return(a.lanes&d)!==0?!0:(a=a.dependencies,!!(a!==null&&Xh(a)))}function gp(a,d,y){switch(d.tag){case 3:X(d,d.stateNode.containerInfo),Xs(d,sr,a.memoizedState.cache),Wu();break;case 27:case 5:se(d);break;case 4:X(d,d.stateNode.containerInfo);break;case 10:Xs(d,d.type,d.memoizedProps.value);break;case 13:var S=d.memoizedState;if(S!==null)return S.dehydrated!==null?(oa(d),d.flags|=128,null):(y&d.child.childLanes)!==0?dp(a,d,y):(oa(d),a=ds(a,d,y),a!==null?a.sibling:null);oa(d);break;case 19:var N=(a.flags&128)!==0;if(S=(y&d.childLanes)!==0,S||(Of(a,d,y,!1),S=(y&d.childLanes)!==0),N){if(S)return Vi(a,d,y);d.flags|=128}if(N=d.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),z(Nn,Nn.current),S)break;return null;case 22:case 23:return d.lanes=0,Xm(a,d,y);case 24:Xs(d,sr,a.memoizedState.cache)}return ds(a,d,y)}function fl(a,d,y){if(a!==null)if(a.memoizedProps!==d.pendingProps)Xn=!0;else{if(!aa(a,y)&&(d.flags&128)===0)return Xn=!1,gp(a,d,y);Xn=(a.flags&131072)!==0}else Xn=!1,dn&&(d.flags&1048576)!==0&&hx(d,Yh,d.index);switch(d.lanes=0,d.tag){case 16:e:{a=d.pendingProps;var S=d.elementType,N=S._init;if(S=N(S._payload),d.type=S,typeof S=="function")Tf(S)?(a=Xr(S,a),d.tag=1,d=Mx(null,d,S,a,y)):(d.tag=0,d=fp(null,d,S,a,y));else{if(S!=null){if(N=S.$$typeof,N===D){d.tag=11,d=Ox(null,d,S,a,y);break e}else if(N===j){d.tag=14,d=Zn(null,d,S,a,y);break e}}throw d=Ce(S)||S,Error(r(306,d,""))}}return d;case 0:return fp(a,d,d.type,d.pendingProps,y);case 1:return S=d.type,N=Xr(S,d.pendingProps),Mx(a,d,S,N,y);case 3:e:{if(X(d,d.stateNode.containerInfo),a===null)throw Error(r(387));S=d.pendingProps;var M=d.memoizedState;N=M.element,ep(a,d),Ff(d,S,null,y);var H=d.memoizedState;if(S=H.cache,Xs(d,sr,S),S!==M.cache&&Kh(d,[sr],y,!0),Lf(),S=H.element,M.isDehydrated)if(M={element:S,isDehydrated:!1,cache:H.cache},d.updateQueue.baseState=M,d.memoizedState=M,d.flags&256){d=Ui(a,d,S,y);break e}else if(S!==N){N=Fi(Error(r(424)),d),If(N),d=Ui(a,d,S,y);break e}else{switch(a=d.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Kn=Hi(a.firstChild),Yr=d,dn=!0,Ks=null,eo=!0,y=_x(d,null,S,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Wu(),S===N){d=ds(a,d,y);break e}Rr(a,d,S,y)}d=d.child}return d;case 26:return lc(a,d),a===null?(y=v(d.type,null,d.pendingProps,null))?d.memoizedState=y:dn||(y=d.type,a=d.pendingProps,S=Zf(W.current).createElement(y),S[fn]=d,S[Lt]=a,br(S,y,a),or(S),d.stateNode=S):d.memoizedState=v(d.type,a.memoizedProps,d.pendingProps,a.memoizedState),null;case 27:return se(d),a===null&&dn&&(S=d.stateNode=ub(d.type,d.pendingProps,W.current),Yr=d,eo=!0,N=Kn,_r(d.type)?(Ac=N,Kn=Hi(S.firstChild)):Kn=N),Rr(a,d,d.pendingProps.children,y),lc(a,d),a===null&&(d.flags|=4194304),d.child;case 5:return a===null&&dn&&((N=S=Kn)&&(S=dA(S,d.type,d.pendingProps,eo),S!==null?(d.stateNode=S,Yr=d,Kn=Hi(S.firstChild),eo=!1,N=!0):N=!1),N||to(d)),se(d),N=d.type,M=d.pendingProps,H=a!==null?a.memoizedProps:null,S=M.children,rb(N,M)?S=null:H!==null&&rb(N,H)&&(d.flags|=32),d.memoizedState!==null&&(N=Im(a,d,W1,null,null,y),Ec._currentValue=N),lc(a,d),Rr(a,d,S,y),d.child;case 6:return a===null&&dn&&((a=y=Kn)&&(y=hA(y,d.pendingProps,eo),y!==null?(d.stateNode=y,Yr=d,Kn=null,a=!0):a=!1),a||to(d)),null;case 13:return dp(a,d,y);case 4:return X(d,d.stateNode.containerInfo),S=d.pendingProps,a===null?d.child=sc(d,null,S,y):Rr(a,d,S,y),d.child;case 11:return Ox(a,d,d.type,d.pendingProps,y);case 7:return Rr(a,d,d.pendingProps,y),d.child;case 8:return Rr(a,d,d.pendingProps.children,y),d.child;case 12:return Rr(a,d,d.pendingProps.children,y),d.child;case 10:return S=d.pendingProps,Xs(d,d.type,S.value),Rr(a,d,S.children,y),d.child;case 9:return N=d.type._context,S=d.pendingProps.children,Zs(d),N=Ar(N),S=S(N),d.flags|=1,Rr(a,d,S,y),d.child;case 14:return Zn(a,d,d.type,d.pendingProps,y);case 15:return Km(a,d,d.type,d.pendingProps,y);case 19:return Vi(a,d,y);case 31:return S=d.pendingProps,y=d.mode,S={mode:S.mode,children:S.children},a===null?(y=jr(S,y),y.ref=d.ref,d.child=y,y.return=d,d=y):(y=ki(a.child,S),y.ref=d.ref,d.child=y,y.return=d,d=y),d;case 22:return Xm(a,d,y);case 24:return Zs(d),S=Ar(sr),a===null?(N=Zh(),N===null&&(N=Fn,M=Sm(),N.pooledCache=M,M.refCount++,M!==null&&(N.pooledCacheLanes|=y),N=M),d.memoizedState={parent:S,cache:N},wm(d),Xs(d,sr,N)):((a.lanes&y)!==0&&(ep(a,d),Ff(d,null,null,y),Lf()),N=a.memoizedState,M=d.memoizedState,N.parent!==S?(N={parent:S,cache:S},d.memoizedState=N,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=N),Xs(d,sr,S)):(S=M.cache,Xs(d,sr,S),S!==N.cache&&Kh(d,[sr],y,!0))),Rr(a,d,d.pendingProps.children,y),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function hs(a){a.flags|=4}function Zm(a,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!sn(d)){if(d=zi.current,d!==null&&((tn&4194048)===tn?so!==null:(tn&62914560)!==tn&&(tn&536870912)===0||d!==so))throw Qu=Jh,yx;a.flags|=8192}}function Ci(a,d){d!==null&&(a.flags|=4),a.flags&16384&&(d=a.tag!==22?jn():536870912,a.lanes|=d,pc|=d)}function yr(a,d){if(!dn)switch(a.tailMode){case"hidden":d=a.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?a.tail=null:y.sibling=null;break;case"collapsed":y=a.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?d||a.tail===null?a.tail=null:a.tail.sibling=null:S.sibling=null}}function _n(a){var d=a.alternate!==null&&a.alternate.child===a.child,y=0,S=0;if(d)for(var N=a.child;N!==null;)y|=N.lanes|N.childLanes,S|=N.subtreeFlags&65011712,S|=N.flags&65011712,N.return=a,N=N.sibling;else for(N=a.child;N!==null;)y|=N.lanes|N.childLanes,S|=N.subtreeFlags,S|=N.flags,N.return=a,N=N.sibling;return a.subtreeFlags|=S,a.childLanes=y,d}function ps(a,d,y){var S=d.pendingProps;switch(qh(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(d),null;case 1:return _n(d),null;case 3:return y=d.stateNode,S=null,a!==null&&(S=a.memoizedState.cache),d.memoizedState.cache!==S&&(d.flags|=2048),ns(sr),J(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(_f(d)?hs(d):a===null||a.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,nl())),_n(d),null;case 26:return y=d.memoizedState,a===null?(hs(d),y!==null?(_n(d),Zm(d,y)):(_n(d),d.flags&=-16777217)):y?y!==a.memoizedState?(hs(d),_n(d),Zm(d,y)):(_n(d),d.flags&=-16777217):(a.memoizedProps!==S&&hs(d),_n(d),d.flags&=-16777217),null;case 27:xe(d),y=W.current;var N=d.type;if(a!==null&&d.stateNode!=null)a.memoizedProps!==S&&hs(d);else{if(!S){if(d.stateNode===null)throw Error(r(166));return _n(d),null}a=U.current,_f(d)?px(d):(a=ub(N,S,y),d.stateNode=a,hs(d))}return _n(d),null;case 5:if(xe(d),y=d.type,a!==null&&d.stateNode!=null)a.memoizedProps!==S&&hs(d);else{if(!S){if(d.stateNode===null)throw Error(r(166));return _n(d),null}if(a=U.current,_f(d))px(d);else{switch(N=Zf(W.current),a){case 1:a=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:a=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":a=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":a=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":a=N.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof S.is=="string"?N.createElement("select",{is:S.is}):N.createElement("select"),S.multiple?a.multiple=!0:S.size&&(a.size=S.size);break;default:a=typeof S.is=="string"?N.createElement(y,{is:S.is}):N.createElement(y)}}a[fn]=d,a[Lt]=S;e:for(N=d.child;N!==null;){if(N.tag===5||N.tag===6)a.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===d)break e;for(;N.sibling===null;){if(N.return===null||N.return===d)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}d.stateNode=a;e:switch(br(a,y,S),y){case"button":case"input":case"select":case"textarea":a=!!S.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&hs(d)}}return _n(d),d.flags&=-16777217,null;case 6:if(a&&d.stateNode!=null)a.memoizedProps!==S&&hs(d);else{if(typeof S!="string"&&d.stateNode===null)throw Error(r(166));if(a=W.current,_f(d)){if(a=d.stateNode,y=d.memoizedProps,S=null,N=Yr,N!==null)switch(N.tag){case 27:case 5:S=N.memoizedProps}a[fn]=d,a=!!(a.nodeValue===y||S!==null&&S.suppressHydrationWarning===!0||tb(a.nodeValue,y)),a||to(d)}else a=Zf(a).createTextNode(S),a[fn]=d,d.stateNode=a}return _n(d),null;case 13:if(S=d.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(N=_f(d),S!==null&&S.dehydrated!==null){if(a===null){if(!N)throw Error(r(318));if(N=d.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[fn]=d}else Wu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;_n(d),N=!1}else N=nl(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=N),N=!0;if(!N)return d.flags&256?(Kr(d),d):(Kr(d),null)}if(Kr(d),(d.flags&128)!==0)return d.lanes=y,d;if(y=S!==null,a=a!==null&&a.memoizedState!==null,y){S=d.child,N=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(N=S.alternate.memoizedState.cachePool.pool);var M=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(M=S.memoizedState.cachePool.pool),M!==N&&(S.flags|=2048)}return y!==a&&y&&(d.child.flags|=8192),Ci(d,d.updateQueue),_n(d),null;case 4:return J(),a===null&&Kf(d.stateNode.containerInfo),_n(d),null;case 10:return ns(d.type),_n(d),null;case 19:if(pe(Nn),N=d.memoizedState,N===null)return _n(d),null;if(S=(d.flags&128)!==0,M=N.rendering,M===null)if(S)yr(N,!1);else{if(Gn!==0||a!==null&&(a.flags&128)!==0)for(a=d.child;a!==null;){if(M=cp(a),M!==null){for(d.flags|=128,yr(N,!1),a=M.updateQueue,d.updateQueue=a,Ci(d,a),d.subtreeFlags=0,a=y,y=d.child;y!==null;)Nf(y,a),y=y.sibling;return z(Nn,Nn.current&1|2),d.child}a=a.sibling}N.tail!==null&&je()>Sp&&(d.flags|=128,S=!0,yr(N,!1),d.lanes=4194304)}else{if(!S)if(a=cp(M),a!==null){if(d.flags|=128,S=!0,a=a.updateQueue,d.updateQueue=a,Ci(d,a),yr(N,!0),N.tail===null&&N.tailMode==="hidden"&&!M.alternate&&!dn)return _n(d),null}else 2*je()-N.renderingStartTime>Sp&&y!==536870912&&(d.flags|=128,S=!0,yr(N,!1),d.lanes=4194304);N.isBackwards?(M.sibling=d.child,d.child=M):(a=N.last,a!==null?a.sibling=M:d.child=M,N.last=M)}return N.tail!==null?(d=N.tail,N.rendering=d,N.tail=d.sibling,N.renderingStartTime=je(),d.sibling=null,a=Nn.current,z(Nn,S?a&1|2:a&1),d):(_n(d),null);case 22:case 23:return Kr(d),Nm(),S=d.memoizedState!==null,a!==null?a.memoizedState!==null!==S&&(d.flags|=8192):S&&(d.flags|=8192),S?(y&536870912)!==0&&(d.flags&128)===0&&(_n(d),d.subtreeFlags&6&&(d.flags|=8192)):_n(d),y=d.updateQueue,y!==null&&Ci(d,y.retryQueue),y=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(y=a.memoizedState.cachePool.pool),S=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==y&&(d.flags|=2048),a!==null&&pe(Js),null;case 24:return y=null,a!==null&&(y=a.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),ns(sr),_n(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function gs(a,d){switch(qh(d),d.tag){case 1:return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 3:return ns(sr),J(),a=d.flags,(a&65536)!==0&&(a&128)===0?(d.flags=a&-65537|128,d):null;case 26:case 27:case 5:return xe(d),null;case 13:if(Kr(d),a=d.memoizedState,a!==null&&a.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Wu()}return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 19:return pe(Nn),null;case 4:return J(),null;case 10:return ns(d.type),null;case 22:case 23:return Kr(d),Nm(),a!==null&&pe(Js),a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 24:return ns(sr),null;case 25:return null;default:return null}}function Px(a,d){switch(qh(d),d.tag){case 3:ns(sr),J();break;case 26:case 27:case 5:xe(d);break;case 4:J();break;case 13:Kr(d);break;case 19:pe(Nn);break;case 10:ns(d.type);break;case 22:case 23:Kr(d),Nm(),a!==null&&pe(Js);break;case 24:ns(sr)}}function $f(a,d){try{var y=d.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var N=S.next;y=N;do{if((y.tag&a)===a){S=void 0;var M=y.create,H=y.inst;S=M(),H.destroy=S}y=y.next}while(y!==N)}}catch(ee){In(d,d.return,ee)}}function la(a,d,y){try{var S=d.updateQueue,N=S!==null?S.lastEffect:null;if(N!==null){var M=N.next;S=M;do{if((S.tag&a)===a){var H=S.inst,ee=H.destroy;if(ee!==void 0){H.destroy=void 0,N=d;var fe=y,Me=ee;try{Me()}catch(ze){In(N,fe,ze)}}}S=S.next}while(S!==M)}}catch(ze){In(d,d.return,ze)}}function mp(a){var d=a.updateQueue;if(d!==null){var y=a.stateNode;try{tp(d,y)}catch(S){In(a,a.return,S)}}}function vt(a,d,y){y.props=Xr(a.type,a.memoizedProps),y.state=a.memoizedState;try{y.componentWillUnmount()}catch(S){In(a,d,S)}}function dl(a,d){try{var y=a.ref;if(y!==null){switch(a.tag){case 26:case 27:case 5:var S=a.stateNode;break;case 30:S=a.stateNode;break;default:S=a.stateNode}typeof y=="function"?a.refCleanup=y(S):y.current=S}}catch(N){In(a,d,N)}}function lo(a,d){var y=a.ref,S=a.refCleanup;if(y!==null)if(typeof S=="function")try{S()}catch(N){In(a,d,N)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(N){In(a,d,N)}else y.current=null}function Jm(a){var d=a.type,y=a.memoizedProps,S=a.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":y.autoFocus&&S.focus();break e;case"img":y.src?S.src=y.src:y.srcSet&&(S.srcset=y.srcSet)}}catch(N){In(a,a.return,N)}}function uc(a,d,y){try{var S=a.stateNode;uA(S,a.type,y,d),S[Lt]=d}catch(N){In(a,a.return,N)}}function Lx(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&_r(a.type)||a.tag===4}function cc(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Lx(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&_r(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function fc(a,d,y){var S=a.tag;if(S===5||S===6)a=a.stateNode,d?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(a,d):(d=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,d.appendChild(a),y=y._reactRootContainer,y!=null||d.onclick!==null||(d.onclick=Mp));else if(S!==4&&(S===27&&_r(a.type)&&(y=a.stateNode,d=null),a=a.child,a!==null))for(fc(a,d,y),a=a.sibling;a!==null;)fc(a,d,y),a=a.sibling}function ua(a,d,y){var S=a.tag;if(S===5||S===6)a=a.stateNode,d?y.insertBefore(a,d):y.appendChild(a);else if(S!==4&&(S===27&&_r(a.type)&&(y=a.stateNode),a=a.child,a!==null))for(ua(a,d,y),a=a.sibling;a!==null;)ua(a,d,y),a=a.sibling}function vp(a){var d=a.stateNode,y=a.memoizedProps;try{for(var S=a.type,N=d.attributes;N.length;)d.removeAttributeNode(N[0]);br(d,S,y),d[fn]=a,d[Lt]=y}catch(M){In(a,a.return,M)}}var ms=!1,nr=!1,Qm=!1,Fx=typeof WeakSet=="function"?WeakSet:Set,xr=null;function X1(a,d){if(a=a.containerInfo,S0=pb,a=ax(a),um(a)){if("selectionStart"in a)var y={start:a.selectionStart,end:a.selectionEnd};else e:{y=(y=a.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var N=S.anchorOffset,M=S.focusNode;S=S.focusOffset;try{y.nodeType,M.nodeType}catch{y=null;break e}var H=0,ee=-1,fe=-1,Me=0,ze=0,He=a,Le=null;t:for(;;){for(var Fe;He!==y||N!==0&&He.nodeType!==3||(ee=H+N),He!==M||S!==0&&He.nodeType!==3||(fe=H+S),He.nodeType===3&&(H+=He.nodeValue.length),(Fe=He.firstChild)!==null;)Le=He,He=Fe;for(;;){if(He===a)break t;if(Le===y&&++Me===N&&(ee=H),Le===M&&++ze===S&&(fe=H),(Fe=He.nextSibling)!==null)break;He=Le,Le=He.parentNode}He=Fe}y=ee===-1||fe===-1?null:{start:ee,end:fe}}else y=null}y=y||{start:0,end:0}}else y=null;for(Pp={focusedElem:a,selectionRange:y},pb=!1,xr=d;xr!==null;)if(d=xr,a=d.child,(d.subtreeFlags&1024)!==0&&a!==null)a.return=d,xr=a;else for(;xr!==null;){switch(d=xr,M=d.alternate,a=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&M!==null){a=void 0,y=d,N=M.memoizedProps,M=M.memoizedState,S=y.stateNode;try{var Ot=Xr(y.type,N,y.elementType===y.type);a=S.getSnapshotBeforeUpdate(Ot,M),S.__reactInternalSnapshotBeforeUpdate=a}catch(wt){In(y,y.return,wt)}}break;case 3:if((a&1024)!==0){if(a=d.stateNode.containerInfo,y=a.nodeType,y===9)Lp(a);else if(y===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Lp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=d.sibling,a!==null){a.return=d.return,xr=a;break}xr=d.return}}function kx(a,d,y){var S=y.flags;switch(y.tag){case 0:case 11:case 15:Io(a,y),S&4&&$f(5,y);break;case 1:if(Io(a,y),S&4)if(a=y.stateNode,d===null)try{a.componentDidMount()}catch(H){In(y,y.return,H)}else{var N=Xr(y.type,d.memoizedProps);d=d.memoizedState;try{a.componentDidUpdate(N,d,a.__reactInternalSnapshotBeforeUpdate)}catch(H){In(y,y.return,H)}}S&64&&mp(y),S&512&&dl(y,y.return);break;case 3:if(Io(a,y),S&64&&(a=y.updateQueue,a!==null)){if(d=null,y.child!==null)switch(y.child.tag){case 27:case 5:d=y.child.stateNode;break;case 1:d=y.child.stateNode}try{tp(a,d)}catch(H){In(y,y.return,H)}}break;case 27:d===null&&S&4&&vp(y);case 26:case 5:Io(a,y),d===null&&S&4&&Jm(y),S&512&&dl(y,y.return);break;case 12:Io(a,y);break;case 13:Io(a,y),S&4&&zx(a,y),S&64&&(a=y.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(y=rA.bind(null,y),ab(a,y))));break;case 22:if(S=y.memoizedState!==null||ms,!S){d=d!==null&&d.memoizedState!==null||nr,N=ms;var M=nr;ms=S,(nr=d)&&!M?Oo(a,y,(y.subtreeFlags&8772)!==0):Io(a,y),ms=N,nr=M}break;case 30:break;default:Io(a,y)}}function Bx(a){var d=a.alternate;d!==null&&(a.alternate=null,Bx(d)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(d=a.stateNode,d!==null&&Ug(d)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ln=null,di=!1;function _o(a,d,y){for(y=y.child;y!==null;)jx(a,d,y),y=y.sibling}function jx(a,d,y){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(qe,y)}catch{}switch(y.tag){case 26:nr||lo(y,d),_o(a,d,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:nr||lo(y,d);var S=Ln,N=di;_r(y.type)&&(Ln=y.stateNode,di=!1),_o(a,d,y),Jf(y.stateNode),Ln=S,di=N;break;case 5:nr||lo(y,d);case 6:if(S=Ln,N=di,Ln=null,_o(a,d,y),Ln=S,di=N,Ln!==null)if(di)try{(Ln.nodeType===9?Ln.body:Ln.nodeName==="HTML"?Ln.ownerDocument.body:Ln).removeChild(y.stateNode)}catch(M){In(y,d,M)}else try{Ln.removeChild(y.stateNode)}catch(M){In(y,d,M)}break;case 18:Ln!==null&&(di?(a=Ln,C0(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,y.stateNode),_0(a)):C0(Ln,y.stateNode));break;case 4:S=Ln,N=di,Ln=y.stateNode.containerInfo,di=!0,_o(a,d,y),Ln=S,di=N;break;case 0:case 11:case 14:case 15:nr||la(2,y,d),nr||la(4,y,d),_o(a,d,y);break;case 1:nr||(lo(y,d),S=y.stateNode,typeof S.componentWillUnmount=="function"&&vt(y,d,S)),_o(a,d,y);break;case 21:_o(a,d,y);break;case 22:nr=(S=nr)||y.memoizedState!==null,_o(a,d,y),nr=S;break;default:_o(a,d,y)}}function zx(a,d){if(d.memoizedState===null&&(a=d.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{_0(a)}catch(y){In(d,d.return,y)}}function Z1(a){switch(a.tag){case 13:case 19:var d=a.stateNode;return d===null&&(d=a.stateNode=new Fx),d;case 22:return a=a.stateNode,d=a._retryCache,d===null&&(d=a._retryCache=new Fx),d;default:throw Error(r(435,a.tag))}}function yp(a,d){var y=Z1(a);d.forEach(function(S){var N=iA.bind(null,a,S);y.has(S)||(y.add(S),S.then(N,N))})}function Qr(a,d){var y=d.deletions;if(y!==null)for(var S=0;S<y.length;S++){var N=y[S],M=a,H=d,ee=H;e:for(;ee!==null;){switch(ee.tag){case 27:if(_r(ee.type)){Ln=ee.stateNode,di=!1;break e}break;case 5:Ln=ee.stateNode,di=!1;break e;case 3:case 4:Ln=ee.stateNode.containerInfo,di=!0;break e}ee=ee.return}if(Ln===null)throw Error(r(160));jx(M,H,N),Ln=null,di=!1,M=N.alternate,M!==null&&(M.return=null),N.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Ux(d,a),d=d.sibling}var uo=null;function Ux(a,d){var y=a.alternate,S=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Qr(d,a),Tr(a),S&4&&(la(3,a,a.return),$f(3,a),la(5,a,a.return));break;case 1:Qr(d,a),Tr(a),S&512&&(nr||y===null||lo(y,y.return)),S&64&&ms&&(a=a.updateQueue,a!==null&&(S=a.callbacks,S!==null&&(y=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=y===null?S:y.concat(S))));break;case 26:var N=uo;if(Qr(d,a),Tr(a),S&512&&(nr||y===null||lo(y,y.return)),S&4){var M=y!==null?y.memoizedState:null;if(S=a.memoizedState,y===null)if(S===null)if(a.stateNode===null){e:{S=a.type,y=a.memoizedProps,N=N.ownerDocument||N;t:switch(S){case"title":M=N.getElementsByTagName("title")[0],(!M||M[Qi]||M[fn]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=N.createElement(S),N.head.insertBefore(M,N.querySelector("head > title"))),br(M,S,y),M[fn]=a,or(M),S=M;break e;case"link":var H=We("link","href",N).get(S+(y.href||""));if(H){for(var ee=0;ee<H.length;ee++)if(M=H[ee],M.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&M.getAttribute("rel")===(y.rel==null?null:y.rel)&&M.getAttribute("title")===(y.title==null?null:y.title)&&M.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){H.splice(ee,1);break t}}M=N.createElement(S),br(M,S,y),N.head.appendChild(M);break;case"meta":if(H=We("meta","content",N).get(S+(y.content||""))){for(ee=0;ee<H.length;ee++)if(M=H[ee],M.getAttribute("content")===(y.content==null?null:""+y.content)&&M.getAttribute("name")===(y.name==null?null:y.name)&&M.getAttribute("property")===(y.property==null?null:y.property)&&M.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&M.getAttribute("charset")===(y.charSet==null?null:y.charSet)){H.splice(ee,1);break t}}M=N.createElement(S),br(M,S,y),N.head.appendChild(M);break;default:throw Error(r(468,S))}M[fn]=a,or(M),S=M}a.stateNode=S}else st(N,a.type,a.stateNode);else a.stateNode=ce(N,S,a.memoizedProps);else M!==S?(M===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):M.count--,S===null?st(N,a.type,a.stateNode):ce(N,S,a.memoizedProps)):S===null&&a.stateNode!==null&&uc(a,a.memoizedProps,y.memoizedProps)}break;case 27:Qr(d,a),Tr(a),S&512&&(nr||y===null||lo(y,y.return)),y!==null&&S&4&&uc(a,a.memoizedProps,y.memoizedProps);break;case 5:if(Qr(d,a),Tr(a),S&512&&(nr||y===null||lo(y,y.return)),a.flags&32){N=a.stateNode;try{Gs(N,"")}catch(Fe){In(a,a.return,Fe)}}S&4&&a.stateNode!=null&&(N=a.memoizedProps,uc(a,N,y!==null?y.memoizedProps:N)),S&1024&&(Qm=!0);break;case 6:if(Qr(d,a),Tr(a),S&4){if(a.stateNode===null)throw Error(r(162));S=a.memoizedProps,y=a.stateNode;try{y.nodeValue=S}catch(Fe){In(a,a.return,Fe)}}break;case 3:if($e=null,N=uo,uo=Fp(d.containerInfo),Qr(d,a),uo=N,Tr(a),S&4&&y!==null&&y.memoizedState.isDehydrated)try{_0(d.containerInfo)}catch(Fe){In(a,a.return,Fe)}Qm&&(Qm=!1,hl(a));break;case 4:S=uo,uo=Fp(a.stateNode.containerInfo),Qr(d,a),Tr(a),uo=S;break;case 12:Qr(d,a),Tr(a);break;case 13:Qr(d,a),Tr(a),a.child.flags&8192&&a.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(i0=je()),S&4&&(S=a.updateQueue,S!==null&&(a.updateQueue=null,yp(a,S)));break;case 22:N=a.memoizedState!==null;var fe=y!==null&&y.memoizedState!==null,Me=ms,ze=nr;if(ms=Me||N,nr=ze||fe,Qr(d,a),nr=ze,ms=Me,Tr(a),S&8192)e:for(d=a.stateNode,d._visibility=N?d._visibility&-2:d._visibility|1,N&&(y===null||fe||ms||nr||ca(a)),y=null,d=a;;){if(d.tag===5||d.tag===26){if(y===null){fe=y=d;try{if(M=fe.stateNode,N)H=M.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{ee=fe.stateNode;var He=fe.memoizedProps.style,Le=He!=null&&He.hasOwnProperty("display")?He.display:null;ee.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(Fe){In(fe,fe.return,Fe)}}}else if(d.tag===6){if(y===null){fe=d;try{fe.stateNode.nodeValue=N?"":fe.memoizedProps}catch(Fe){In(fe,fe.return,Fe)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===a)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;y===d&&(y=null),d=d.return}y===d&&(y=null),d.sibling.return=d.return,d=d.sibling}S&4&&(S=a.updateQueue,S!==null&&(y=S.retryQueue,y!==null&&(S.retryQueue=null,yp(a,y))));break;case 19:Qr(d,a),Tr(a),S&4&&(S=a.updateQueue,S!==null&&(a.updateQueue=null,yp(a,S)));break;case 30:break;case 21:break;default:Qr(d,a),Tr(a)}}function Tr(a){var d=a.flags;if(d&2){try{for(var y,S=a.return;S!==null;){if(Lx(S)){y=S;break}S=S.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var N=y.stateNode,M=cc(a);ua(a,M,N);break;case 5:var H=y.stateNode;y.flags&32&&(Gs(H,""),y.flags&=-33);var ee=cc(a);ua(a,ee,H);break;case 3:case 4:var fe=y.stateNode.containerInfo,Me=cc(a);fc(a,Me,fe);break;default:throw Error(r(161))}}catch(ze){In(a,a.return,ze)}a.flags&=-3}d&4096&&(a.flags&=-4097)}function hl(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var d=a;hl(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),a=a.sibling}}function Io(a,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)kx(a,d.alternate,d),d=d.sibling}function ca(a){for(a=a.child;a!==null;){var d=a;switch(d.tag){case 0:case 11:case 14:case 15:la(4,d,d.return),ca(d);break;case 1:lo(d,d.return);var y=d.stateNode;typeof y.componentWillUnmount=="function"&&vt(d,d.return,y),ca(d);break;case 27:Jf(d.stateNode);case 26:case 5:lo(d,d.return),ca(d);break;case 22:d.memoizedState===null&&ca(d);break;case 30:ca(d);break;default:ca(d)}a=a.sibling}}function Oo(a,d,y){for(y=y&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var S=d.alternate,N=a,M=d,H=M.flags;switch(M.tag){case 0:case 11:case 15:Oo(N,M,y),$f(4,M);break;case 1:if(Oo(N,M,y),S=M,N=S.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(Me){In(S,S.return,Me)}if(S=M,N=S.updateQueue,N!==null){var ee=S.stateNode;try{var fe=N.shared.hiddenCallbacks;if(fe!==null)for(N.shared.hiddenCallbacks=null,N=0;N<fe.length;N++)Sx(fe[N],ee)}catch(Me){In(S,S.return,Me)}}y&&H&64&&mp(M),dl(M,M.return);break;case 27:vp(M);case 26:case 5:Oo(N,M,y),y&&S===null&&H&4&&Jm(M),dl(M,M.return);break;case 12:Oo(N,M,y);break;case 13:Oo(N,M,y),y&&H&4&&zx(N,M);break;case 22:M.memoizedState===null&&Oo(N,M,y),dl(M,M.return);break;case 30:break;default:Oo(N,M,y)}d=d.sibling}}function yt(a,d){var y=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(y=a.memoizedState.cachePool.pool),a=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(a=d.memoizedState.cachePool.pool),a!==y&&(a!=null&&a.refCount++,y!=null&&Df(y))}function Hf(a,d){a=null,d.alternate!==null&&(a=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==a&&(d.refCount++,a!=null&&Df(a))}function Do(a,d,y,S){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Vx(a,d,y,S),d=d.sibling}function Vx(a,d,y,S){var N=d.flags;switch(d.tag){case 0:case 11:case 15:Do(a,d,y,S),N&2048&&$f(9,d);break;case 1:Do(a,d,y,S);break;case 3:Do(a,d,y,S),N&2048&&(a=null,d.alternate!==null&&(a=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==a&&(d.refCount++,a!=null&&Df(a)));break;case 12:if(N&2048){Do(a,d,y,S),a=d.stateNode;try{var M=d.memoizedProps,H=M.id,ee=M.onPostCommit;typeof ee=="function"&&ee(H,d.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(fe){In(d,d.return,fe)}}else Do(a,d,y,S);break;case 13:Do(a,d,y,S);break;case 23:break;case 22:M=d.stateNode,H=d.alternate,d.memoizedState!==null?M._visibility&2?Do(a,d,y,S):fa(a,d):M._visibility&2?Do(a,d,y,S):(M._visibility|=2,pl(a,d,y,S,(d.subtreeFlags&10256)!==0)),N&2048&&yt(H,d);break;case 24:Do(a,d,y,S),N&2048&&Hf(d.alternate,d);break;default:Do(a,d,y,S)}}function pl(a,d,y,S,N){for(N=N&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var M=a,H=d,ee=y,fe=S,Me=H.flags;switch(H.tag){case 0:case 11:case 15:pl(M,H,ee,fe,N),$f(8,H);break;case 23:break;case 22:var ze=H.stateNode;H.memoizedState!==null?ze._visibility&2?pl(M,H,ee,fe,N):fa(M,H):(ze._visibility|=2,pl(M,H,ee,fe,N)),N&&Me&2048&&yt(H.alternate,H);break;case 24:pl(M,H,ee,fe,N),N&&Me&2048&&Hf(H.alternate,H);break;default:pl(M,H,ee,fe,N)}d=d.sibling}}function fa(a,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var y=a,S=d,N=S.flags;switch(S.tag){case 22:fa(y,S),N&2048&&yt(S.alternate,S);break;case 24:fa(y,S),N&2048&&Hf(S.alternate,S);break;default:fa(y,S)}d=d.sibling}}var da=8192;function vs(a){if(a.subtreeFlags&da)for(a=a.child;a!==null;)e0(a),a=a.sibling}function e0(a){switch(a.tag){case 26:vs(a),a.flags&da&&a.memoizedState!==null&&Ir(uo,a.memoizedState,a.memoizedProps);break;case 5:vs(a);break;case 3:case 4:var d=uo;uo=Fp(a.stateNode.containerInfo),vs(a),uo=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=da,da=16777216,vs(a),da=d):vs(a));break;default:vs(a)}}function Gx(a){var d=a.alternate;if(d!==null&&(a=d.child,a!==null)){d.child=null;do d=a.sibling,a.sibling=null,a=d;while(a!==null)}}function Mo(a){var d=a.deletions;if((a.flags&16)!==0){if(d!==null)for(var y=0;y<d.length;y++){var S=d[y];xr=S,bp(S,a)}Gx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)dc(a),a=a.sibling}function dc(a){switch(a.tag){case 0:case 11:case 15:Mo(a),a.flags&2048&&la(9,a,a.return);break;case 3:Mo(a);break;case 12:Mo(a);break;case 22:var d=a.stateNode;a.memoizedState!==null&&d._visibility&2&&(a.return===null||a.return.tag!==13)?(d._visibility&=-3,xp(a)):Mo(a);break;default:Mo(a)}}function xp(a){var d=a.deletions;if((a.flags&16)!==0){if(d!==null)for(var y=0;y<d.length;y++){var S=d[y];xr=S,bp(S,a)}Gx(a)}for(a=a.child;a!==null;){switch(d=a,d.tag){case 0:case 11:case 15:la(8,d,d.return),xp(d);break;case 22:y=d.stateNode,y._visibility&2&&(y._visibility&=-3,xp(d));break;default:xp(d)}a=a.sibling}}function bp(a,d){for(;xr!==null;){var y=xr;switch(y.tag){case 0:case 11:case 15:la(8,y,d);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var S=y.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Df(y.memoizedState.cache)}if(S=y.child,S!==null)S.return=y,xr=S;else e:for(y=a;xr!==null;){S=xr;var N=S.sibling,M=S.return;if(Bx(S),S===y){xr=null;break e}if(N!==null){N.return=M,xr=N;break e}xr=M}}}var J1={getCacheForType:function(a){var d=Ar(sr),y=d.data.get(a);return y===void 0&&(y=a(),d.data.set(a,y)),y}},Q1=typeof WeakMap=="function"?WeakMap:Map,gn=0,Fn=null,$t=null,tn=0,bn=0,hi=null,ys=!1,hc=!1,t0=!1,xs=0,Gn=0,Po=0,gl=0,n0=0,Gi=0,pc=0,gc=null,ei=null,r0=!1,i0=0,Sp=1/0,Ap=null,co=null,pr=0,Lo=null,mc=null,bs=0,o0=0,s0=null,$x=null,Sn=0,zr=null;function gr(){if((gn&2)!==0&&tn!==0)return tn&-tn;if(ie.T!==null){var a=Xu;return a!==0?a:Ip()}return vr()}function Hx(){Gi===0&&(Gi=(tn&536870912)===0||dn?xn():536870912);var a=zi.current;return a!==null&&(a.flags|=32),Gi}function Je(a,d,y){(a===Fn&&(bn===2||bn===9)||a.cancelPendingCommit!==null)&&(Fo(a,0),Ss(a,tn,Gi,!1)),un(a,y),((gn&2)===0||a!==Fn)&&(a===Fn&&((gn&2)===0&&(gl|=y),Gn===4&&Ss(a,tn,Gi,!1)),wi(a))}function a0(a,d,y){if((gn&6)!==0)throw Error(r(327));var S=!y&&(d&124)===0&&(d&a.expiredLanes)===0||At(a,d),N=S?c0(a,d):Wf(a,d,!0),M=S;do{if(N===0){hc&&!S&&Ss(a,d,0,!1);break}else{if(y=a.current.alternate,M&&!eA(y)){N=Wf(a,d,!1),M=!1;continue}if(N===2){if(M=d,a.errorRecoveryDisabledLanes&M)var H=0;else H=a.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){d=H;e:{var ee=a;N=gc;var fe=ee.current.memoizedState.isDehydrated;if(fe&&(Fo(ee,H).flags|=256),H=Wf(ee,H,!1),H!==2){if(t0&&!fe){ee.errorRecoveryDisabledLanes|=M,gl|=M,N=4;break e}M=ei,ei=N,M!==null&&(ei===null?ei=M:ei.push.apply(ei,M))}N=H}if(M=!1,N!==2)continue}}if(N===1){Fo(a,0),Ss(a,d,0,!0);break}e:{switch(S=a,M=N,M){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Ss(S,d,Gi,!ys);break e;case 2:ei=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(N=i0+300-je(),10<N)){if(Ss(S,d,Gi,!ys),mt(S,0,!0)!==0)break e;S.timeoutHandle=A0(Ep.bind(null,S,y,ei,Ap,r0,d,Gi,gl,pc,ys,M,2,-0,0),N);break e}Ep(S,y,ei,Ap,r0,d,Gi,gl,pc,ys,M,0,-0,0)}}break}while(!0);wi(a)}function Ep(a,d,y,S,N,M,H,ee,fe,Me,ze,He,Le,Fe){if(a.timeoutHandle=-1,He=d.subtreeFlags,(He&8192||(He&16785408)===16785408)&&(mn={stylesheets:null,count:0,unsuspend:An},e0(d),He=pn(),He!==null)){a.cancelPendingCommit=He(d0.bind(null,a,d,M,y,S,N,H,ee,fe,ze,1,Le,Fe)),Ss(a,M,H,!Me);return}d0(a,d,M,y,S,N,H,ee,fe)}function eA(a){for(var d=a;;){var y=d.tag;if((y===0||y===11||y===15)&&d.flags&16384&&(y=d.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var S=0;S<y.length;S++){var N=y[S],M=N.getSnapshot;N=N.value;try{if(!ii(M(),N))return!1}catch{return!1}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ss(a,d,y,S){d&=~n0,d&=~gl,a.suspendedLanes|=d,a.pingedLanes&=~d,S&&(a.warmLanes|=d),S=a.expirationTimes;for(var N=d;0<N;){var M=31-lt(N),H=1<<M;S[M]=-1,N&=~H}y!==0&&rt(a,y,d)}function ha(){return(gn&6)===0?(xa(0),!1):!0}function Cp(){if($t!==null){if(bn===0)var a=$t.return;else a=$t,ts=rl=null,Dm(a),us=null,cs=0,a=$t;for(;a!==null;)Px(a.alternate,a),a=a.return;$t=null}}function Fo(a,d){var y=a.timeoutHandle;y!==-1&&(a.timeoutHandle=-1,fA(y)),y=a.cancelPendingCommit,y!==null&&(a.cancelPendingCommit=null,y()),Cp(),Fn=a,$t=y=ki(a.current,null),tn=d,bn=0,hi=null,ys=!1,hc=At(a,d),t0=!1,pc=Gi=n0=gl=Po=Gn=0,ei=gc=null,r0=!1,(d&8)!==0&&(d|=d&32);var S=a.entangledLanes;if(S!==0)for(a=a.entanglements,S&=d;0<S;){var N=31-lt(S),M=1<<N;d|=a[N],S&=~M}return xs=d,Vh(),y}function Wx(a,d){Ut=null,ie.H=wr,d===Ju||d===Pf?(d=bx(),bn=3):d===yx?(d=bx(),bn=4):bn=d===ao?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,hi=d,$t===null&&(Gn=1,sa(a,Fi(d,a.current)))}function l0(){var a=ie.H;return ie.H=wr,a===null?wr:a}function Yx(){var a=ie.A;return ie.A=J1,a}function on(){Gn=4,ys||(tn&4194048)!==tn&&zi.current!==null||(hc=!0),(Po&134217727)===0&&(gl&134217727)===0||Fn===null||Ss(Fn,tn,Gi,!1)}function Wf(a,d,y){var S=gn;gn|=2;var N=l0(),M=Yx();(Fn!==a||tn!==d)&&(Ap=null,Fo(a,d)),d=!1;var H=Gn;e:do try{if(bn!==0&&$t!==null){var ee=$t,fe=hi;switch(bn){case 8:Cp(),H=6;break e;case 3:case 2:case 9:case 6:zi.current===null&&(d=!0);var Me=bn;if(bn=0,hi=null,pa(a,ee,fe,Me),y&&hc){H=0;break e}break;default:Me=bn,bn=0,hi=null,pa(a,ee,fe,Me)}}u0(),H=Gn;break}catch(ze){Wx(a,ze)}while(!0);return d&&a.shellSuspendCounter++,ts=rl=null,gn=S,ie.H=N,ie.A=M,$t===null&&(Fn=null,tn=0,Vh()),H}function u0(){for(;$t!==null;)qx($t)}function c0(a,d){var y=gn;gn|=2;var S=l0(),N=Yx();Fn!==a||tn!==d?(Ap=null,Sp=je()+500,Fo(a,d)):hc=At(a,d);e:do try{if(bn!==0&&$t!==null){d=$t;var M=hi;t:switch(bn){case 1:bn=0,hi=null,pa(a,d,M,1);break;case 2:case 9:if(Em(M)){bn=0,hi=null,Kx(d);break}d=function(){bn!==2&&bn!==9||Fn!==a||(bn=7),wi(a)},M.then(d,d);break e;case 3:bn=7;break e;case 4:bn=5;break e;case 7:Em(M)?(bn=0,hi=null,Kx(d)):(bn=0,hi=null,pa(a,d,M,7));break;case 5:var H=null;switch($t.tag){case 26:H=$t.memoizedState;case 5:case 27:var ee=$t;if(!H||sn(H)){bn=0,hi=null;var fe=ee.sibling;if(fe!==null)$t=fe;else{var Me=ee.return;Me!==null?($t=Me,wp(Me)):$t=null}break t}}bn=0,hi=null,pa(a,d,M,5);break;case 6:bn=0,hi=null,pa(a,d,M,6);break;case 8:Cp(),Gn=6;break e;default:throw Error(r(462))}}tA();break}catch(ze){Wx(a,ze)}while(!0);return ts=rl=null,ie.H=S,ie.A=N,gn=y,$t!==null?0:(Fn=null,tn=0,Vh(),Gn)}function tA(){for(;$t!==null&&!we();)qx($t)}function qx(a){var d=fl(a.alternate,a,xs);a.memoizedProps=a.pendingProps,d===null?wp(a):$t=d}function Kx(a){var d=a,y=d.alternate;switch(d.tag){case 15:case 0:d=Dx(y,d,d.pendingProps,d.type,void 0,tn);break;case 11:d=Dx(y,d,d.pendingProps,d.type.render,d.ref,tn);break;case 5:Dm(d);default:Px(y,d),d=$t=Nf(d,xs),d=fl(y,d,xs)}a.memoizedProps=a.pendingProps,d===null?wp(a):$t=d}function pa(a,d,y,S){ts=rl=null,Dm(d),us=null,cs=0;var N=d.return;try{if(K1(a,N,d,y,tn)){Gn=1,sa(a,Fi(y,a.current)),$t=null;return}}catch(M){if(N!==null)throw $t=N,M;Gn=1,sa(a,Fi(y,a.current)),$t=null;return}d.flags&32768?(dn||S===1?a=!0:hc||(tn&536870912)!==0?a=!1:(ys=a=!0,(S===2||S===9||S===3||S===6)&&(S=zi.current,S!==null&&S.tag===13&&(S.flags|=16384))),f0(d,a)):wp(d)}function wp(a){var d=a;do{if((d.flags&32768)!==0){f0(d,ys);return}a=d.return;var y=ps(d.alternate,d,xs);if(y!==null){$t=y;return}if(d=d.sibling,d!==null){$t=d;return}$t=d=a}while(d!==null);Gn===0&&(Gn=5)}function f0(a,d){do{var y=gs(a.alternate,a);if(y!==null){y.flags&=32767,$t=y;return}if(y=a.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!d&&(a=a.sibling,a!==null)){$t=a;return}$t=a=y}while(a!==null);Gn=6,$t=null}function d0(a,d,y,S,N,M,H,ee,fe){a.cancelPendingCommit=null;do ma();while(pr!==0);if((gn&6)!==0)throw Error(r(327));if(d!==null){if(d===a.current)throw Error(r(177));if(M=d.lanes|d.childLanes,M|=hm,er(a,y,M,H,ee,fe),a===Fn&&($t=Fn=null,tn=0),mc=d,Lo=a,bs=y,o0=M,s0=N,$x=S,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,oA(Ze,function(){return vc(),null})):(a.callbackNode=null,a.callbackPriority=0),S=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||S){S=ie.T,ie.T=null,N=Ae.p,Ae.p=2,H=gn,gn|=4;try{X1(a,d,y)}finally{gn=H,Ae.p=N,ie.T=S}}pr=1,Rp(),h0(),$i()}}function Rp(){if(pr===1){pr=0;var a=Lo,d=mc,y=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||y){y=ie.T,ie.T=null;var S=Ae.p;Ae.p=2;var N=gn;gn|=4;try{Ux(d,a);var M=Pp,H=ax(a.containerInfo),ee=M.focusedElem,fe=M.selectionRange;if(H!==ee&&ee&&ee.ownerDocument&&sx(ee.ownerDocument.documentElement,ee)){if(fe!==null&&um(ee)){var Me=fe.start,ze=fe.end;if(ze===void 0&&(ze=Me),"selectionStart"in ee)ee.selectionStart=Me,ee.selectionEnd=Math.min(ze,ee.value.length);else{var He=ee.ownerDocument||document,Le=He&&He.defaultView||window;if(Le.getSelection){var Fe=Le.getSelection(),Ot=ee.textContent.length,wt=Math.min(fe.start,Ot),kn=fe.end===void 0?wt:Math.min(fe.end,Ot);!Fe.extend&&wt>kn&&(H=kn,kn=wt,wt=H);var Re=ox(ee,wt),Se=ox(ee,kn);if(Re&&Se&&(Fe.rangeCount!==1||Fe.anchorNode!==Re.node||Fe.anchorOffset!==Re.offset||Fe.focusNode!==Se.node||Fe.focusOffset!==Se.offset)){var Oe=He.createRange();Oe.setStart(Re.node,Re.offset),Fe.removeAllRanges(),wt>kn?(Fe.addRange(Oe),Fe.extend(Se.node,Se.offset)):(Oe.setEnd(Se.node,Se.offset),Fe.addRange(Oe))}}}}for(He=[],Fe=ee;Fe=Fe.parentNode;)Fe.nodeType===1&&He.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<He.length;ee++){var Ge=He[ee];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}pb=!!S0,Pp=S0=null}finally{gn=N,Ae.p=S,ie.T=y}}a.current=d,pr=2}}function h0(){if(pr===2){pr=0;var a=Lo,d=mc,y=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||y){y=ie.T,ie.T=null;var S=Ae.p;Ae.p=2;var N=gn;gn|=4;try{kx(a,d.alternate,d)}finally{gn=N,Ae.p=S,ie.T=y}}pr=3}}function $i(){if(pr===4||pr===3){pr=0,De();var a=Lo,d=mc,y=bs,S=$x;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?pr=5:(pr=0,mc=Lo=null,ga(a,a.pendingLanes));var N=a.pendingLanes;if(N===0&&(co=null),rn(y),d=d.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(qe,d,void 0,(d.current.flags&128)===128)}catch{}if(S!==null){d=ie.T,N=Ae.p,Ae.p=2,ie.T=null;try{for(var M=a.onRecoverableError,H=0;H<S.length;H++){var ee=S[H];M(ee.value,{componentStack:ee.stack})}}finally{ie.T=d,Ae.p=N}}(bs&3)!==0&&ma(),wi(a),N=a.pendingLanes,(y&4194090)!==0&&(N&42)!==0?a===zr?Sn++:(Sn=0,zr=a):Sn=0,xa(0)}}function ga(a,d){(a.pooledCacheLanes&=d)===0&&(d=a.pooledCache,d!=null&&(a.pooledCache=null,Df(d)))}function ma(a){return Rp(),h0(),$i(),vc()}function vc(){if(pr!==5)return!1;var a=Lo,d=o0;o0=0;var y=rn(bs),S=ie.T,N=Ae.p;try{Ae.p=32>y?32:y,ie.T=null,y=s0,s0=null;var M=Lo,H=bs;if(pr=0,mc=Lo=null,bs=0,(gn&6)!==0)throw Error(r(331));var ee=gn;if(gn|=4,dc(M.current),Vx(M,M.current,H,y),gn=ee,xa(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(qe,M)}catch{}return!0}finally{Ae.p=N,ie.T=S,ga(a,d)}}function p0(a,d,y){d=Fi(y,d),d=No(a.stateNode,d,2),a=Qs(a,d,2),a!==null&&(un(a,2),wi(a))}function In(a,d,y){if(a.tag===3)p0(a,a,y);else for(;d!==null;){if(d.tag===3){p0(d,a,y);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(co===null||!co.has(S))){a=Fi(y,a),y=ac(2),S=Qs(d,y,2),S!==null&&(Ix(y,S,d,a),un(S,2),wi(S));break}}d=d.return}}function g0(a,d,y){var S=a.pingCache;if(S===null){S=a.pingCache=new Q1;var N=new Set;S.set(d,N)}else N=S.get(d),N===void 0&&(N=new Set,S.set(d,N));N.has(y)||(t0=!0,N.add(y),a=nA.bind(null,a,d,y),d.then(a,a))}function nA(a,d,y){var S=a.pingCache;S!==null&&S.delete(d),a.pingedLanes|=a.suspendedLanes&y,a.warmLanes&=~y,Fn===a&&(tn&y)===y&&(Gn===4||Gn===3&&(tn&62914560)===tn&&300>je()-i0?(gn&2)===0&&Fo(a,0):n0|=y,pc===tn&&(pc=0)),wi(a)}function Xx(a,d){d===0&&(d=jn()),a=Vu(a,d),a!==null&&(un(a,d),wi(a))}function rA(a){var d=a.memoizedState,y=0;d!==null&&(y=d.retryLane),Xx(a,y)}function iA(a,d){var y=0;switch(a.tag){case 13:var S=a.stateNode,N=a.memoizedState;N!==null&&(y=N.retryLane);break;case 19:S=a.stateNode;break;case 22:S=a.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(d),Xx(a,y)}function oA(a,d){return ae(a,d)}var Tp=null,yc=null,m0=!1,Np=!1,va=!1,ya=0;function wi(a){a!==yc&&a.next===null&&(yc===null?Tp=yc=a:yc=yc.next=a),Np=!0,m0||(m0=!0,ba())}function xa(a,d){if(!va&&Np){va=!0;do for(var y=!1,S=Tp;S!==null;){if(a!==0){var N=S.pendingLanes;if(N===0)var M=0;else{var H=S.suspendedLanes,ee=S.pingedLanes;M=(1<<31-lt(42|a)+1)-1,M&=N&~(H&~ee),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(y=!0,_p(S,M))}else M=tn,M=mt(S,S===Fn?M:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(M&3)===0||At(S,M)||(y=!0,_p(S,M));S=S.next}while(y);va=!1}}function sA(){As()}function As(){Np=m0=!1;var a=0;ya!==0&&(ib()&&(a=ya),ya=0);for(var d=je(),y=null,S=Tp;S!==null;){var N=S.next,M=Nr(S,d);M===0?(S.next=null,y===null?Tp=N:y.next=N,N===null&&(yc=y)):(y=S,(a!==0||(M&3)!==0)&&(Np=!0)),S=N}xa(a)}function Nr(a,d){for(var y=a.suspendedLanes,S=a.pingedLanes,N=a.expirationTimes,M=a.pendingLanes&-62914561;0<M;){var H=31-lt(M),ee=1<<H,fe=N[H];fe===-1?((ee&y)===0||(ee&S)!==0)&&(N[H]=Dt(ee,d)):fe<=d&&(a.expiredLanes|=ee),M&=~ee}if(d=Fn,y=tn,y=mt(a,a===d?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),S=a.callbackNode,y===0||a===d&&(bn===2||bn===9)||a.cancelPendingCommit!==null)return S!==null&&S!==null&&le(S),a.callbackNode=null,a.callbackPriority=0;if((y&3)===0||At(a,y)){if(d=y&-y,d===a.callbackPriority)return d;switch(S!==null&&le(S),rn(y)){case 2:case 8:y=Pe;break;case 32:y=Ze;break;case 268435456:y=gt;break;default:y=Ze}return S=xc.bind(null,a),y=ae(y,S),a.callbackPriority=d,a.callbackNode=y,d}return S!==null&&S!==null&&le(S),a.callbackPriority=2,a.callbackNode=null,2}function xc(a,d){if(pr!==0&&pr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var y=a.callbackNode;if(ma()&&a.callbackNode!==y)return null;var S=tn;return S=mt(a,a===Fn?S:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),S===0?null:(a0(a,S,d),Nr(a,je()),a.callbackNode!=null&&a.callbackNode===y?xc.bind(null,a):null)}function _p(a,d){if(ma())return null;a0(a,d,!0)}function ba(){ob(function(){(gn&6)!==0?ae(ve,sA):As()})}function Ip(){return ya===0&&(ya=xn()),ya}function Zx(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:yf(""+a)}function aA(a,d){var y=d.ownerDocument.createElement("input");return y.name=d.name,y.value=d.value,a.id&&y.setAttribute("form",a.id),d.parentNode.insertBefore(y,d),a=new FormData(a),y.parentNode.removeChild(y),a}function ZR(a,d,y,S,N){if(d==="submit"&&y&&y.stateNode===N){var M=Zx((N[Lt]||null).action),H=S.submitter;H&&(d=(d=H[Lt]||null)?Zx(d.formAction):H.getAttribute("formAction"),d!==null&&(M=d,H=null));var ee=new Qo("action","action",null,S,N);a.push({event:ee,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(ya!==0){var fe=H?aA(N,H):new FormData(N);ci(y,{pending:!0,data:fe,method:N.method,action:M},null,fe)}}else typeof M=="function"&&(ee.preventDefault(),fe=H?aA(N,H):new FormData(N),ci(y,{pending:!0,data:fe,method:N.method,action:M},M,fe))},currentTarget:N}]})}}for(var Op=0;Op<Uh.length;Op++){var v0=Uh[Op],lA=v0.toLowerCase(),Yf=v0[0].toUpperCase()+v0.slice(1);xi(lA,"on"+Yf)}xi(ux,"onAnimationEnd"),xi(zh,"onAnimationIteration"),xi(Rf,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(F1,"onTransitionRun"),xi(k1,"onTransitionStart"),xi(B1,"onTransitionCancel"),xi(cx,"onTransitionEnd"),$a("onMouseEnter",["mouseout","mouseover"]),$a("onMouseLeave",["mouseout","mouseover"]),$a("onPointerEnter",["pointerout","pointerover"]),$a("onPointerLeave",["pointerout","pointerover"]),Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function Bo(a,d){d=(d&4)!==0;for(var y=0;y<a.length;y++){var S=a[y],N=S.event;S=S.listeners;e:{var M=void 0;if(d)for(var H=S.length-1;0<=H;H--){var ee=S[H],fe=ee.instance,Me=ee.currentTarget;if(ee=ee.listener,fe!==M&&N.isPropagationStopped())break e;M=ee,N.currentTarget=Me;try{M(N)}catch(ze){fi(ze)}N.currentTarget=null,M=fe}else for(H=0;H<S.length;H++){if(ee=S[H],fe=ee.instance,Me=ee.currentTarget,ee=ee.listener,fe!==M&&N.isPropagationStopped())break e;M=ee,N.currentTarget=Me;try{M(N)}catch(ze){fi(ze)}N.currentTarget=null,M=fe}}}}function Ht(a,d){var y=d[Di];y===void 0&&(y=d[Di]=new Set);var S=a+"__bubble";y.has(S)||(y0(d,a,2,!1),y.add(S))}function ml(a,d,y){var S=0;d&&(S|=4),y0(y,a,S,d)}var Es="_reactListening"+Math.random().toString(36).slice(2);function Kf(a){if(!a[Es]){a[Es]=!0,Vg.forEach(function(y){y!=="selectionchange"&&(qf.has(y)||ml(y,!1,a),ml(y,!0,a))});var d=a.nodeType===9?a:a.ownerDocument;d===null||d[Es]||(d[Es]=!0,ml("selectionchange",!1,d))}}function y0(a,d,y,S){switch(nT(d)){case 2:var N=WB;break;case 8:N=YB;break;default:N=bA}y=N.bind(null,d,y,a),N=void 0,!Jg||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(N=!0),S?N!==void 0?a.addEventListener(d,y,{capture:!0,passive:N}):a.addEventListener(d,y,!0):N!==void 0?a.addEventListener(d,y,{passive:N}):a.addEventListener(d,y,!1)}function Dp(a,d,y,S,N){var M=S;if((d&1)===0&&(d&2)===0&&S!==null)e:for(;;){if(S===null)return;var H=S.tag;if(H===3||H===4){var ee=S.stateNode.containerInfo;if(ee===N)break;if(H===4)for(H=S.return;H!==null;){var fe=H.tag;if((fe===3||fe===4)&&H.stateNode.containerInfo===N)return;H=H.return}for(;ee!==null;){if(H=zs(ee),H===null)return;if(fe=H.tag,fe===5||fe===6||fe===26||fe===27){S=M=H;continue e}ee=ee.parentNode}}S=S.return}Ry(function(){var Me=M,ze=bf(y),He=[];e:{var Le=fx.get(a);if(Le!==void 0){var Fe=Qo,Ot=a;switch(a){case"keypress":if(Ih(y)===0)break e;case"keydown":case"keyup":Fe=jy;break;case"focusin":Ot="focus",Fe=Ph;break;case"focusout":Ot="blur",Fe=Ph;break;case"beforeblur":case"afterblur":Fe=Ph;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=XR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=Vy;break;case ux:case zh:case Rf:Fe=Iy;break;case cx:Fe=$y;break;case"scroll":case"scrollend":Fe=N1;break;case"wheel":Fe=I1;break;case"copy":case"cut":case"paste":Fe=Dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=nm;break;case"toggle":case"beforetoggle":Fe=Wy}var wt=(d&4)!==0,kn=!wt&&(a==="scroll"||a==="scrollend"),Re=wt?Le!==null?Le+"Capture":null:Le;wt=[];for(var Se=Me,Oe;Se!==null;){var Ge=Se;if(Oe=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||Oe===null||Re===null||(Ge=qa(Se,Re),Ge!=null&&wt.push(bc(Se,Ge,Oe))),kn)break;Se=Se.return}0<wt.length&&(Le=new Fe(Le,Ot,null,y,ze),He.push({event:Le,listeners:wt}))}}if((d&7)===0){e:{if(Le=a==="mouseover"||a==="pointerover",Fe=a==="mouseout"||a==="pointerout",Le&&y!==xf&&(Ot=y.relatedTarget||y.fromElement)&&(zs(Ot)||Ot[wn]))break e;if((Fe||Le)&&(Le=ze.window===ze?ze:(Le=ze.ownerDocument)?Le.defaultView||Le.parentWindow:window,Fe?(Ot=y.relatedTarget||y.toElement,Fe=Me,Ot=Ot?zs(Ot):null,Ot!==null&&(kn=s(Ot),wt=Ot.tag,Ot!==kn||wt!==5&&wt!==27&&wt!==6)&&(Ot=null)):(Fe=null,Ot=Me),Fe!==Ot)){if(wt=em,Ge="onMouseLeave",Re="onMouseEnter",Se="mouse",(a==="pointerout"||a==="pointerover")&&(wt=nm,Ge="onPointerLeave",Re="onPointerEnter",Se="pointer"),kn=Fe==null?Le:Fu(Fe),Oe=Ot==null?Le:Fu(Ot),Le=new wt(Ge,Se+"leave",Fe,y,ze),Le.target=kn,Le.relatedTarget=Oe,Ge=null,zs(ze)===Me&&(wt=new wt(Re,Se+"enter",Ot,y,ze),wt.target=Oe,wt.relatedTarget=kn,Ge=wt),kn=Ge,Fe&&Ot)t:{for(wt=Fe,Re=Ot,Se=0,Oe=wt;Oe;Oe=vl(Oe))Se++;for(Oe=0,Ge=Re;Ge;Ge=vl(Ge))Oe++;for(;0<Se-Oe;)wt=vl(wt),Se--;for(;0<Oe-Se;)Re=vl(Re),Oe--;for(;Se--;){if(wt===Re||Re!==null&&wt===Re.alternate)break t;wt=vl(wt),Re=vl(Re)}wt=null}else wt=null;Fe!==null&&x0(He,Le,Fe,wt,!1),Ot!==null&&kn!==null&&x0(He,kn,Ot,wt,!0)}}e:{if(Le=Me?Fu(Me):window,Fe=Le.nodeName&&Le.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Le.type==="file")var ut=sm;else if(om(Le))if(ex)ut=lm;else{ut=P1;var Jt=M1}else Fe=Le.nodeName,!Fe||Fe.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Me&&Xg(Me.elementType)&&(ut=sm):ut=ix;if(ut&&(ut=ut(a,Me))){Jy(He,ut,y,ze);break e}Jt&&Jt(a,Le,Me),a==="focusout"&&Me&&Le.type==="number"&&Me.memoizedProps.value!=null&&vf(Le,"number",Le.value)}switch(Jt=Me?Fu(Me):window,a){case"focusin":(om(Jt)||Jt.contentEditable==="true")&&(Za=Jt,cm=Me,wf=null);break;case"focusout":wf=cm=Za=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,lx(He,y,ze);break;case"selectionchange":if(Bh)break;case"keydown":case"keyup":lx(He,y,ze)}var bt;if(rm)e:{switch(a){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else ju?Ky(a,y)&&(Tt="onCompositionEnd"):a==="keydown"&&y.keyCode===229&&(Tt="onCompositionStart");Tt&&(Ka&&y.locale!=="ko"&&(ju||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&ju&&(bt=Ty()):($s=ze,Bu="value"in $s?$s.value:$s.textContent,ju=!0)),Jt=Xf(Me,Tt),0<Jt.length&&(Tt=new tm(Tt,a,null,y,ze),He.push({event:Tt,listeners:Jt}),bt?Tt.data=bt:(bt=Xy(y),bt!==null&&(Tt.data=bt)))),(bt=im?Zy(a,y):O1(a,y))&&(Tt=Xf(Me,"onBeforeInput"),0<Tt.length&&(Jt=new tm("onBeforeInput","beforeinput",null,y,ze),He.push({event:Jt,listeners:Tt}),Jt.data=bt)),ZR(He,a,Me,y,ze)}Bo(He,d)})}function bc(a,d,y){return{instance:a,listener:d,currentTarget:y}}function Xf(a,d){for(var y=d+"Capture",S=[];a!==null;){var N=a,M=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||M===null||(N=qa(a,y),N!=null&&S.unshift(bc(a,N,M)),N=qa(a,d),N!=null&&S.push(bc(a,N,M))),a.tag===3)return S;a=a.return}return[]}function vl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function x0(a,d,y,S,N){for(var M=d._reactName,H=[];y!==null&&y!==S;){var ee=y,fe=ee.alternate,Me=ee.stateNode;if(ee=ee.tag,fe!==null&&fe===S)break;ee!==5&&ee!==26&&ee!==27||Me===null||(fe=Me,N?(Me=qa(y,M),Me!=null&&H.unshift(bc(y,Me,fe))):N||(Me=qa(y,M),Me!=null&&H.push(bc(y,Me,fe)))),y=y.return}H.length!==0&&a.push({event:d,listeners:H})}var Jx=/\r\n?/g,Qx=/\u0000|\uFFFD/g;function eb(a){return(typeof a=="string"?a:""+a).replace(Jx,`
`).replace(Qx,"")}function tb(a,d){return d=eb(d),eb(a)===d}function Mp(){}function hn(a,d,y,S,N,M){switch(y){case"children":typeof S=="string"?d==="body"||d==="textarea"&&S===""||Gs(a,S):(typeof S=="number"||typeof S=="bigint")&&d!=="body"&&Gs(a,""+S);break;case"className":pf(a,"class",S);break;case"tabIndex":pf(a,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":pf(a,y,S);break;case"style":Ey(a,S,M);break;case"data":if(d!=="object"){pf(a,"data",S);break}case"src":case"href":if(S===""&&(d!=="a"||y!=="href")){a.removeAttribute(y);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){a.removeAttribute(y);break}S=yf(""+S),a.setAttribute(y,S);break;case"action":case"formAction":if(typeof S=="function"){a.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(y==="formAction"?(d!=="input"&&hn(a,d,"name",N.name,N,null),hn(a,d,"formEncType",N.formEncType,N,null),hn(a,d,"formMethod",N.formMethod,N,null),hn(a,d,"formTarget",N.formTarget,N,null)):(hn(a,d,"encType",N.encType,N,null),hn(a,d,"method",N.method,N,null),hn(a,d,"target",N.target,N,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){a.removeAttribute(y);break}S=yf(""+S),a.setAttribute(y,S);break;case"onClick":S!=null&&(a.onclick=Mp);break;case"onScroll":S!=null&&Ht("scroll",a);break;case"onScrollEnd":S!=null&&Ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(N.children!=null)throw Error(r(60));a.innerHTML=y}}break;case"multiple":a.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":a.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){a.removeAttribute("xlink:href");break}y=yf(""+S),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?a.setAttribute(y,""+S):a.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?a.setAttribute(y,""):a.removeAttribute(y);break;case"capture":case"download":S===!0?a.setAttribute(y,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?a.setAttribute(y,S):a.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?a.setAttribute(y,S):a.removeAttribute(y);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?a.removeAttribute(y):a.setAttribute(y,S);break;case"popover":Ht("beforetoggle",a),Ht("toggle",a),Xo(a,"popover",S);break;case"xlinkActuate":Zo(a,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":Zo(a,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":Zo(a,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":Zo(a,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":Zo(a,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":Zo(a,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":Zo(a,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":Zo(a,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":Zo(a,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Xo(a,"is",S);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=T1.get(y)||y,Xo(a,y,S))}}function b0(a,d,y,S,N,M){switch(y){case"style":Ey(a,S,M);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(N.children!=null)throw Error(r(60));a.innerHTML=y}}break;case"children":typeof S=="string"?Gs(a,S):(typeof S=="number"||typeof S=="bigint")&&Gs(a,""+S);break;case"onScroll":S!=null&&Ht("scroll",a);break;case"onScrollEnd":S!=null&&Ht("scrollend",a);break;case"onClick":S!=null&&(a.onclick=Mp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gg.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(N=y.endsWith("Capture"),d=y.slice(2,N?y.length-7:void 0),M=a[Lt]||null,M=M!=null?M[y]:null,typeof M=="function"&&a.removeEventListener(d,M,N),typeof S=="function")){typeof M!="function"&&M!==null&&(y in a?a[y]=null:a.hasAttribute(y)&&a.removeAttribute(y)),a.addEventListener(d,S,N);break e}y in a?a[y]=S:S===!0?a.setAttribute(y,""):Xo(a,y,S)}}}function br(a,d,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",a),Ht("load",a);var S=!1,N=!1,M;for(M in y)if(y.hasOwnProperty(M)){var H=y[M];if(H!=null)switch(M){case"src":S=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:hn(a,d,M,H,y,null)}}N&&hn(a,d,"srcSet",y.srcSet,y,null),S&&hn(a,d,"src",y.src,y,null);return;case"input":Ht("invalid",a);var ee=M=H=N=null,fe=null,Me=null;for(S in y)if(y.hasOwnProperty(S)){var ze=y[S];if(ze!=null)switch(S){case"name":N=ze;break;case"type":H=ze;break;case"checked":fe=ze;break;case"defaultChecked":Me=ze;break;case"value":M=ze;break;case"defaultValue":ee=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,d));break;default:hn(a,d,S,ze,y,null)}}qg(a,M,ee,fe,Me,H,N,!1),Nh(a);return;case"select":Ht("invalid",a),S=H=M=null;for(N in y)if(y.hasOwnProperty(N)&&(ee=y[N],ee!=null))switch(N){case"value":M=ee;break;case"defaultValue":H=ee;break;case"multiple":S=ee;default:hn(a,d,N,ee,y,null)}d=M,y=H,a.multiple=!!S,d!=null?ku(a,!!S,d,!1):y!=null&&ku(a,!!S,y,!0);return;case"textarea":Ht("invalid",a),M=N=S=null;for(H in y)if(y.hasOwnProperty(H)&&(ee=y[H],ee!=null))switch(H){case"value":S=ee;break;case"defaultValue":N=ee;break;case"children":M=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(91));break;default:hn(a,d,H,ee,y,null)}by(a,S,N,M),Nh(a);return;case"option":for(fe in y)if(y.hasOwnProperty(fe)&&(S=y[fe],S!=null))switch(fe){case"selected":a.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:hn(a,d,fe,S,y,null)}return;case"dialog":Ht("beforetoggle",a),Ht("toggle",a),Ht("cancel",a),Ht("close",a);break;case"iframe":case"object":Ht("load",a);break;case"video":case"audio":for(S=0;S<ko.length;S++)Ht(ko[S],a);break;case"image":Ht("error",a),Ht("load",a);break;case"details":Ht("toggle",a);break;case"embed":case"source":case"link":Ht("error",a),Ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in y)if(y.hasOwnProperty(Me)&&(S=y[Me],S!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:hn(a,d,Me,S,y,null)}return;default:if(Xg(d)){for(ze in y)y.hasOwnProperty(ze)&&(S=y[ze],S!==void 0&&b0(a,d,ze,S,y,void 0));return}}for(ee in y)y.hasOwnProperty(ee)&&(S=y[ee],S!=null&&hn(a,d,ee,S,y,null))}function uA(a,d,y,S){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,M=null,H=null,ee=null,fe=null,Me=null,ze=null;for(Fe in y){var He=y[Fe];if(y.hasOwnProperty(Fe)&&He!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":fe=He;default:S.hasOwnProperty(Fe)||hn(a,d,Fe,null,S,He)}}for(var Le in S){var Fe=S[Le];if(He=y[Le],S.hasOwnProperty(Le)&&(Fe!=null||He!=null))switch(Le){case"type":M=Fe;break;case"name":N=Fe;break;case"checked":Me=Fe;break;case"defaultChecked":ze=Fe;break;case"value":H=Fe;break;case"defaultValue":ee=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,d));break;default:Fe!==He&&hn(a,d,Le,Fe,S,He)}}Yg(a,H,ee,fe,Me,ze,M,N);return;case"select":Fe=H=ee=Le=null;for(M in y)if(fe=y[M],y.hasOwnProperty(M)&&fe!=null)switch(M){case"value":break;case"multiple":Fe=fe;default:S.hasOwnProperty(M)||hn(a,d,M,null,S,fe)}for(N in S)if(M=S[N],fe=y[N],S.hasOwnProperty(N)&&(M!=null||fe!=null))switch(N){case"value":Le=M;break;case"defaultValue":ee=M;break;case"multiple":H=M;default:M!==fe&&hn(a,d,N,M,S,fe)}d=ee,y=H,S=Fe,Le!=null?ku(a,!!y,Le,!1):!!S!=!!y&&(d!=null?ku(a,!!y,d,!0):ku(a,!!y,y?[]:"",!1));return;case"textarea":Fe=Le=null;for(ee in y)if(N=y[ee],y.hasOwnProperty(ee)&&N!=null&&!S.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:hn(a,d,ee,null,S,N)}for(H in S)if(N=S[H],M=y[H],S.hasOwnProperty(H)&&(N!=null||M!=null))switch(H){case"value":Le=N;break;case"defaultValue":Fe=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:N!==M&&hn(a,d,H,N,S,M)}Kg(a,Le,Fe);return;case"option":for(var Ot in y)if(Le=y[Ot],y.hasOwnProperty(Ot)&&Le!=null&&!S.hasOwnProperty(Ot))switch(Ot){case"selected":a.selected=!1;break;default:hn(a,d,Ot,null,S,Le)}for(fe in S)if(Le=S[fe],Fe=y[fe],S.hasOwnProperty(fe)&&Le!==Fe&&(Le!=null||Fe!=null))switch(fe){case"selected":a.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:hn(a,d,fe,Le,S,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in y)Le=y[wt],y.hasOwnProperty(wt)&&Le!=null&&!S.hasOwnProperty(wt)&&hn(a,d,wt,null,S,Le);for(Me in S)if(Le=S[Me],Fe=y[Me],S.hasOwnProperty(Me)&&Le!==Fe&&(Le!=null||Fe!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,d));break;default:hn(a,d,Me,Le,S,Fe)}return;default:if(Xg(d)){for(var kn in y)Le=y[kn],y.hasOwnProperty(kn)&&Le!==void 0&&!S.hasOwnProperty(kn)&&b0(a,d,kn,void 0,S,Le);for(ze in S)Le=S[ze],Fe=y[ze],!S.hasOwnProperty(ze)||Le===Fe||Le===void 0&&Fe===void 0||b0(a,d,ze,Le,S,Fe);return}}for(var Re in y)Le=y[Re],y.hasOwnProperty(Re)&&Le!=null&&!S.hasOwnProperty(Re)&&hn(a,d,Re,null,S,Le);for(He in S)Le=S[He],Fe=y[He],!S.hasOwnProperty(He)||Le===Fe||Le==null&&Fe==null||hn(a,d,He,Le,S,Fe)}var S0=null,Pp=null;function Zf(a){return a.nodeType===9?a:a.ownerDocument}function nb(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cA(a,d){if(a===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&d==="foreignObject"?0:a}function rb(a,d){return a==="textarea"||a==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Sc=null;function ib(){var a=window.event;return a&&a.type==="popstate"?a===Sc?!1:(Sc=a,!0):(Sc=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(a){return E0.resolve(null).then(a).catch(sb)}:A0;function sb(a){setTimeout(function(){throw a})}function _r(a){return a==="head"}function C0(a,d){var y=d,S=0,N=0;do{var M=y.nextSibling;if(a.removeChild(y),M&&M.nodeType===8)if(y=M.data,y==="/$"){if(0<S&&8>S){y=S;var H=a.ownerDocument;if(y&1&&Jf(H.documentElement),y&2&&Jf(H.body),y&4)for(y=H.head,Jf(y),H=y.firstChild;H;){var ee=H.nextSibling,fe=H.nodeName;H[Qi]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&H.rel.toLowerCase()==="stylesheet"||y.removeChild(H),H=ee}}if(N===0){a.removeChild(M),_0(d);return}N--}else y==="$"||y==="$?"||y==="$!"?N++:S=y.charCodeAt(0)-48;else S=0;y=M}while(y);_0(d)}function Lp(a){var d=a.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var y=d;switch(d=d.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":Lp(y),Ug(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}a.removeChild(y)}}function dA(a,d,y,S){for(;a.nodeType===1;){var N=y;if(a.nodeName.toLowerCase()!==d.toLowerCase()){if(!S&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(S){if(!a[Qi])switch(d){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(M=a.getAttribute("rel"),M==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(M!==N.rel||a.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||a.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||a.getAttribute("title")!==(N.title==null?null:N.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(M=a.getAttribute("src"),(M!==(N.src==null?null:N.src)||a.getAttribute("type")!==(N.type==null?null:N.type)||a.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&M&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(d==="input"&&a.type==="hidden"){var M=N.name==null?null:""+N.name;if(N.type==="hidden"&&a.getAttribute("name")===M)return a}else return a;if(a=Hi(a.nextSibling),a===null)break}return null}function hA(a,d,y){if(d==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!y||(a=Hi(a.nextSibling),a===null))return null;return a}function w0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function ab(a,d){var y=a.ownerDocument;if(a.data!=="$?"||y.readyState==="complete")d();else{var S=function(){d(),y.removeEventListener("DOMContentLoaded",S)};y.addEventListener("DOMContentLoaded",S),a._reactRetry=S}}function Hi(a){for(;a!=null;a=a.nextSibling){var d=a.nodeType;if(d===1||d===3)break;if(d===8){if(d=a.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return a}var Ac=null;function lb(a){a=a.previousSibling;for(var d=0;a;){if(a.nodeType===8){var y=a.data;if(y==="$"||y==="$!"||y==="$?"){if(d===0)return a;d--}else y==="/$"&&d++}a=a.previousSibling}return null}function ub(a,d,y){switch(d=Zf(y),a){case"html":if(a=d.documentElement,!a)throw Error(r(452));return a;case"head":if(a=d.head,!a)throw Error(r(453));return a;case"body":if(a=d.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Jf(a){for(var d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Ug(a)}var Wi=new Map,cb=new Set;function Fp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var fo=Ae.d;Ae.d={f:pA,r:gA,D:mA,C:db,L:vA,m:yA,X:o,S:h,M:f};function pA(){var a=fo.f(),d=ha();return a||d}function gA(a){var d=Ko(a);d!==null&&d.tag===5&&d.type==="form"?Rx(d):fo.r(a)}var yl=typeof document>"u"?null:document;function fb(a,d,y){var S=yl;if(S&&typeof d=="string"&&d){var N=Fr(d);N='link[rel="'+a+'"][href="'+N+'"]',typeof y=="string"&&(N+='[crossorigin="'+y+'"]'),cb.has(N)||(cb.add(N),a={rel:a,crossOrigin:y,href:d},S.querySelector(N)===null&&(d=S.createElement("link"),br(d,"link",a),or(d),S.head.appendChild(d)))}}function mA(a){fo.D(a),fb("dns-prefetch",a,null)}function db(a,d){fo.C(a,d),fb("preconnect",a,d)}function vA(a,d,y){fo.L(a,d,y);var S=yl;if(S&&a&&d){var N='link[rel="preload"][as="'+Fr(d)+'"]';d==="image"&&y&&y.imageSrcSet?(N+='[imagesrcset="'+Fr(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(N+='[imagesizes="'+Fr(y.imageSizes)+'"]')):N+='[href="'+Fr(a)+'"]';var M=N;switch(d){case"style":M=A(a);break;case"script":M=q(a)}Wi.has(M)||(a=p({rel:"preload",href:d==="image"&&y&&y.imageSrcSet?void 0:a,as:d},y),Wi.set(M,a),S.querySelector(N)!==null||d==="style"&&S.querySelector(I(M))||d==="script"&&S.querySelector(te(M))||(d=S.createElement("link"),br(d,"link",a),or(d),S.head.appendChild(d)))}}function yA(a,d){fo.m(a,d);var y=yl;if(y&&a){var S=d&&typeof d.as=="string"?d.as:"script",N='link[rel="modulepreload"][as="'+Fr(S)+'"][href="'+Fr(a)+'"]',M=N;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=q(a)}if(!Wi.has(M)&&(a=p({rel:"modulepreload",href:a},d),Wi.set(M,a),y.querySelector(N)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(te(M)))return}S=y.createElement("link"),br(S,"link",a),or(S),y.head.appendChild(S)}}}function h(a,d,y){fo.S(a,d,y);var S=yl;if(S&&a){var N=Us(S).hoistableStyles,M=A(a);d=d||"default";var H=N.get(M);if(!H){var ee={loading:0,preload:null};if(H=S.querySelector(I(M)))ee.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":d},y),(y=Wi.get(M))&&Be(a,y);var fe=H=S.createElement("link");or(fe),br(fe,"link",a),fe._p=new Promise(function(Me,ze){fe.onload=Me,fe.onerror=ze}),fe.addEventListener("load",function(){ee.loading|=1}),fe.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Te(H,d,S)}H={type:"stylesheet",instance:H,count:1,state:ee},N.set(M,H)}}}function o(a,d){fo.X(a,d);var y=yl;if(y&&a){var S=Us(y).hoistableScripts,N=q(a),M=S.get(N);M||(M=y.querySelector(te(N)),M||(a=p({src:a,async:!0},d),(d=Wi.get(N))&&Ne(a,d),M=y.createElement("script"),or(M),br(M,"link",a),y.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},S.set(N,M))}}function f(a,d){fo.M(a,d);var y=yl;if(y&&a){var S=Us(y).hoistableScripts,N=q(a),M=S.get(N);M||(M=y.querySelector(te(N)),M||(a=p({src:a,async:!0,type:"module"},d),(d=Wi.get(N))&&Ne(a,d),M=y.createElement("script"),or(M),br(M,"link",a),y.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},S.set(N,M))}}function v(a,d,y,S){var N=(N=W.current)?Fp(N):null;if(!N)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(d=A(y.href),y=Us(N).hoistableStyles,S=y.get(d),S||(S={type:"style",instance:null,count:0,state:null},y.set(d,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){a=A(y.href);var M=Us(N).hoistableStyles,H=M.get(a);if(H||(N=N.ownerDocument||N,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(a,H),(M=N.querySelector(I(a)))&&!M._p&&(H.instance=M,H.state.loading=5),Wi.has(a)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},Wi.set(a,y),M||V(N,a,y,H.state))),d&&S===null)throw Error(r(528,""));return H}if(d&&S!==null)throw Error(r(529,""));return null;case"script":return d=y.async,y=y.src,typeof y=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=q(y),y=Us(N).hoistableScripts,S=y.get(d),S||(S={type:"script",instance:null,count:0,state:null},y.set(d,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function A(a){return'href="'+Fr(a)+'"'}function I(a){return'link[rel="stylesheet"]['+a+"]"}function L(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function V(a,d,y,S){a.querySelector('link[rel="preload"][as="style"]['+d+"]")?S.loading=1:(d=a.createElement("link"),S.preload=d,d.addEventListener("load",function(){return S.loading|=1}),d.addEventListener("error",function(){return S.loading|=2}),br(d,"link",y),or(d),a.head.appendChild(d))}function q(a){return'[src="'+Fr(a)+'"]'}function te(a){return"script[async]"+a}function ce(a,d,y){if(d.count++,d.instance===null)switch(d.type){case"style":var S=a.querySelector('style[data-href~="'+Fr(y.href)+'"]');if(S)return d.instance=S,or(S),S;var N=p({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return S=(a.ownerDocument||a).createElement("style"),or(S),br(S,"style",N),Te(S,y.precedence,a),d.instance=S;case"stylesheet":N=A(y.href);var M=a.querySelector(I(N));if(M)return d.state.loading|=4,d.instance=M,or(M),M;S=L(y),(N=Wi.get(N))&&Be(S,N),M=(a.ownerDocument||a).createElement("link"),or(M);var H=M;return H._p=new Promise(function(ee,fe){H.onload=ee,H.onerror=fe}),br(M,"link",S),d.state.loading|=4,Te(M,y.precedence,a),d.instance=M;case"script":return M=q(y.src),(N=a.querySelector(te(M)))?(d.instance=N,or(N),N):(S=y,(N=Wi.get(M))&&(S=p({},y),Ne(S,N)),a=a.ownerDocument||a,N=a.createElement("script"),or(N),br(N,"link",S),a.head.appendChild(N),d.instance=N);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(S=d.instance,d.state.loading|=4,Te(S,y.precedence,a));return d.instance}function Te(a,d,y){for(var S=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=S.length?S[S.length-1]:null,M=N,H=0;H<S.length;H++){var ee=S[H];if(ee.dataset.precedence===d)M=ee;else if(M!==N)break}M?M.parentNode.insertBefore(a,M.nextSibling):(d=y.nodeType===9?y.head:y,d.insertBefore(a,d.firstChild))}function Be(a,d){a.crossOrigin==null&&(a.crossOrigin=d.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=d.referrerPolicy),a.title==null&&(a.title=d.title)}function Ne(a,d){a.crossOrigin==null&&(a.crossOrigin=d.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=d.referrerPolicy),a.integrity==null&&(a.integrity=d.integrity)}var $e=null;function We(a,d,y){if($e===null){var S=new Map,N=$e=new Map;N.set(y,S)}else N=$e,S=N.get(y),S||(S=new Map,N.set(y,S));if(S.has(a))return S;for(S.set(a,null),y=y.getElementsByTagName(a),N=0;N<y.length;N++){var M=y[N];if(!(M[Qi]||M[fn]||a==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var H=M.getAttribute(d)||"";H=a+H;var ee=S.get(H);ee?ee.push(M):S.set(H,[M])}}return S}function st(a,d,y){a=a.ownerDocument||a,a.head.insertBefore(y,d==="title"?a.querySelector("head > title"):null)}function Ct(a,d,y){if(y===1||d.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return a=d.disabled,typeof d.precedence=="string"&&a==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function sn(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var mn=null;function An(){}function Ir(a,d,y){if(mn===null)throw Error(r(475));var S=mn;if(d.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var N=A(y.href),M=a.querySelector(I(N));if(M){a=M._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(S.count++,S=$n.bind(S),a.then(S,S)),d.state.loading|=4,d.instance=M,or(M);return}M=a.ownerDocument||a,y=L(y),(N=Wi.get(N))&&Be(y,N),M=M.createElement("link"),or(M);var H=M;H._p=new Promise(function(ee,fe){H.onload=ee,H.onerror=fe}),br(M,"link",y),d.instance=M}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(d,a),(a=d.state.preload)&&(d.state.loading&3)===0&&(S.count++,d=$n.bind(S),a.addEventListener("load",d),a.addEventListener("error",d))}}function pn(){if(mn===null)throw Error(r(475));var a=mn;return a.stylesheets&&a.count===0&&Wn(a,a.stylesheets),0<a.count?function(d){var y=setTimeout(function(){if(a.stylesheets&&Wn(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(y)}}:null}function $n(){if(this.count--,this.count===0){if(this.stylesheets)Wn(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Hn=null;function Wn(a,d){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Hn=new Map,d.forEach(ho,a),Hn=null,$n.call(a))}function ho(a,d){if(!(d.state.loading&4)){var y=Hn.get(a);if(y)var S=y.get(null);else{y=new Map,Hn.set(a,y);for(var N=a.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<N.length;M++){var H=N[M];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(y.set(H.dataset.precedence,H),S=H)}S&&y.set(null,S)}N=d.instance,H=N.getAttribute("data-precedence"),M=y.get(H)||S,M===S&&y.set(null,N),y.set(H,N),this.count++,S=$n.bind(this),N.addEventListener("load",S),N.addEventListener("error",S),M?M.parentNode.insertBefore(N,M.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(N,a.firstChild)),d.state.loading|=4}}var Ec={$$typeof:_,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function hb(a,d,y,S,N,M,H,ee){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=S,this.onUncaughtError=N,this.onCaughtError=M,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function Qf(a,d,y,S,N,M,H,ee,fe,Me,ze,He){return a=new hb(a,d,y,H,ee,fe,Me,He),d=1,M===!0&&(d|=24),M=kr(3,null,null,d),a.current=M,M.stateNode=a,d=Sm(),d.refCount++,a.pooledCache=d,d.refCount++,M.memoizedState={element:S,isDehydrated:y,cache:d},wm(M),a}function JR(a){return a?(a=Gu,a):Gu}function QR(a,d,y,S,N,M){N=JR(N),S.context===null?S.context=N:S.pendingContext=N,S=si(d),S.payload={element:y},M=M===void 0?null:M,M!==null&&(S.callback=M),y=Qs(a,S,d),y!==null&&(Je(y,a,d),ec(y,a,d))}function eT(a,d){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var y=a.retryLane;a.retryLane=y!==0&&y<d?y:d}}function xA(a,d){eT(a,d),(a=a.alternate)&&eT(a,d)}function tT(a){if(a.tag===13){var d=Vu(a,67108864);d!==null&&Je(d,a,67108864),xA(a,67108864)}}var pb=!0;function WB(a,d,y,S){var N=ie.T;ie.T=null;var M=Ae.p;try{Ae.p=2,bA(a,d,y,S)}finally{Ae.p=M,ie.T=N}}function YB(a,d,y,S){var N=ie.T;ie.T=null;var M=Ae.p;try{Ae.p=8,bA(a,d,y,S)}finally{Ae.p=M,ie.T=N}}function bA(a,d,y,S){if(pb){var N=SA(S);if(N===null)Dp(a,d,S,gb,y),rT(a,S);else if(KB(N,a,d,y,S))S.stopPropagation();else if(rT(a,S),d&4&&-1<qB.indexOf(a)){for(;N!==null;){var M=Ko(N);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var H=nt(M.pendingLanes);if(H!==0){var ee=M;for(ee.pendingLanes|=2,ee.entangledLanes|=2;H;){var fe=1<<31-lt(H);ee.entanglements[1]|=fe,H&=~fe}wi(M),(gn&6)===0&&(Sp=je()+500,xa(0))}}break;case 13:ee=Vu(M,2),ee!==null&&Je(ee,M,2),ha(),xA(M,2)}if(M=SA(S),M===null&&Dp(a,d,S,gb,y),M===N)break;N=M}N!==null&&S.stopPropagation()}else Dp(a,d,S,null,y)}}function SA(a){return a=bf(a),AA(a)}var gb=null;function AA(a){if(gb=null,a=zs(a),a!==null){var d=s(a);if(d===null)a=null;else{var y=d.tag;if(y===13){if(a=l(d),a!==null)return a;a=null}else if(y===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;a=null}else d!==a&&(a=null)}}return gb=a,null}function nT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case ve:return 2;case Pe:return 8;case Ze:case pt:return 32;case gt:return 268435456;default:return 32}default:return 32}}var EA=!1,Cc=null,wc=null,Rc=null,R0=new Map,T0=new Map,Tc=[],qB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rT(a,d){switch(a){case"focusin":case"focusout":Cc=null;break;case"dragenter":case"dragleave":wc=null;break;case"mouseover":case"mouseout":Rc=null;break;case"pointerover":case"pointerout":R0.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":T0.delete(d.pointerId)}}function N0(a,d,y,S,N,M){return a===null||a.nativeEvent!==M?(a={blockedOn:d,domEventName:y,eventSystemFlags:S,nativeEvent:M,targetContainers:[N]},d!==null&&(d=Ko(d),d!==null&&tT(d)),a):(a.eventSystemFlags|=S,d=a.targetContainers,N!==null&&d.indexOf(N)===-1&&d.push(N),a)}function KB(a,d,y,S,N){switch(d){case"focusin":return Cc=N0(Cc,a,d,y,S,N),!0;case"dragenter":return wc=N0(wc,a,d,y,S,N),!0;case"mouseover":return Rc=N0(Rc,a,d,y,S,N),!0;case"pointerover":var M=N.pointerId;return R0.set(M,N0(R0.get(M)||null,a,d,y,S,N)),!0;case"gotpointercapture":return M=N.pointerId,T0.set(M,N0(T0.get(M)||null,a,d,y,S,N)),!0}return!1}function iT(a){var d=zs(a.target);if(d!==null){var y=s(d);if(y!==null){if(d=y.tag,d===13){if(d=l(y),d!==null){a.blockedOn=d,qt(a.priority,function(){if(y.tag===13){var S=gr();S=Qt(S);var N=Vu(y,S);N!==null&&Je(N,y,S),xA(y,S)}});return}}else if(d===3&&y.stateNode.current.memoizedState.isDehydrated){a.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}a.blockedOn=null}function mb(a){if(a.blockedOn!==null)return!1;for(var d=a.targetContainers;0<d.length;){var y=SA(a.nativeEvent);if(y===null){y=a.nativeEvent;var S=new y.constructor(y.type,y);xf=S,y.target.dispatchEvent(S),xf=null}else return d=Ko(y),d!==null&&tT(d),a.blockedOn=y,!1;d.shift()}return!0}function oT(a,d,y){mb(a)&&y.delete(d)}function XB(){EA=!1,Cc!==null&&mb(Cc)&&(Cc=null),wc!==null&&mb(wc)&&(wc=null),Rc!==null&&mb(Rc)&&(Rc=null),R0.forEach(oT),T0.forEach(oT)}function vb(a,d){a.blockedOn===d&&(a.blockedOn=null,EA||(EA=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,XB)))}var yb=null;function sT(a){yb!==a&&(yb=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){yb===a&&(yb=null);for(var d=0;d<a.length;d+=3){var y=a[d],S=a[d+1],N=a[d+2];if(typeof S!="function"){if(AA(S||y)===null)continue;break}var M=Ko(y);M!==null&&(a.splice(d,3),d-=3,ci(M,{pending:!0,data:N,method:y.method,action:S},S,N))}}))}function _0(a){function d(fe){return vb(fe,a)}Cc!==null&&vb(Cc,a),wc!==null&&vb(wc,a),Rc!==null&&vb(Rc,a),R0.forEach(d),T0.forEach(d);for(var y=0;y<Tc.length;y++){var S=Tc[y];S.blockedOn===a&&(S.blockedOn=null)}for(;0<Tc.length&&(y=Tc[0],y.blockedOn===null);)iT(y),y.blockedOn===null&&Tc.shift();if(y=(a.ownerDocument||a).$$reactFormReplay,y!=null)for(S=0;S<y.length;S+=3){var N=y[S],M=y[S+1],H=N[Lt]||null;if(typeof M=="function")H||sT(y);else if(H){var ee=null;if(M&&M.hasAttribute("formAction")){if(N=M,H=M[Lt]||null)ee=H.formAction;else if(AA(N)!==null)continue}else ee=H.action;typeof ee=="function"?y[S+1]=ee:(y.splice(S,3),S-=3),sT(y)}}}function CA(a){this._internalRoot=a}xb.prototype.render=CA.prototype.render=function(a){var d=this._internalRoot;if(d===null)throw Error(r(409));var y=d.current,S=gr();QR(y,S,a,d,null,null)},xb.prototype.unmount=CA.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var d=a.containerInfo;QR(a.current,2,null,a,null,null),ha(),d[wn]=null}};function xb(a){this._internalRoot=a}xb.prototype.unstable_scheduleHydration=function(a){if(a){var d=vr();a={blockedOn:null,target:a,priority:d};for(var y=0;y<Tc.length&&d!==0&&d<Tc[y].priority;y++);Tc.splice(y,0,a),y===0&&iT(a)}};var aT=t.version;if(aT!=="19.1.0")throw Error(r(527,aT,"19.1.0"));Ae.findDOMNode=function(a){var d=a._reactInternals;if(d===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=c(d),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var ZB={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bb.isDisabled&&bb.supportsFiber)try{qe=bb.inject(ZB),Ye=bb}catch{}}return O0.createRoot=function(a,d){if(!i(a))throw Error(r(299));var y=!1,S="",N=qm,M=ll,H=To,ee=null;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(M=d.onCaughtError),d.onRecoverableError!==void 0&&(H=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ee=d.unstable_transitionCallbacks)),d=Qf(a,1,!1,null,null,y,S,N,M,H,ee,null),a[wn]=d.current,Kf(a),new CA(d)},O0.hydrateRoot=function(a,d,y){if(!i(a))throw Error(r(299));var S=!1,N="",M=qm,H=ll,ee=To,fe=null,Me=null;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(N=y.identifierPrefix),y.onUncaughtError!==void 0&&(M=y.onUncaughtError),y.onCaughtError!==void 0&&(H=y.onCaughtError),y.onRecoverableError!==void 0&&(ee=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(fe=y.unstable_transitionCallbacks),y.formState!==void 0&&(Me=y.formState)),d=Qf(a,1,!0,d,y??null,S,N,M,H,ee,fe,Me),d.context=JR(null),y=d.current,S=gr(),S=Qt(S),N=si(S),N.callback=null,Qs(y,N,S),y=S,d.current.lanes=y,un(d,y),wi(d),a[wn]=d.current,Kf(a),new xb(d)},O0.version="19.1.0",O0}var yT;function lj(){if(yT)return TA.exports;yT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),TA.exports=aj(),TA.exports}var uj=lj(),P=MS();const Ke=_3(P),D3=tj({__proto__:null,default:Ke},[P]);var D0={},xT;function cj(){if(xT)return D0;xT=1,Object.defineProperty(D0,"__esModule",{value:!0}),D0.parse=l,D0.serialize=g;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,b){const E=new s,w=x.length;if(w<2)return E;const C=(b==null?void 0:b.decode)||p;let R=0;do{const T=x.indexOf("=",R);if(T===-1)break;const _=x.indexOf(";",R),D=_===-1?w:_;if(T>D){R=x.lastIndexOf(";",T-1)+1;continue}const F=u(x,R,T),B=c(x,T,F),j=x.slice(F,B);if(E[j]===void 0){let k=u(x,T+1,D),$=c(x,D,k);const Z=C(x.slice(k,$));E[j]=Z}R=D+1}while(R<w);return E}function u(x,b,E){do{const w=x.charCodeAt(b);if(w!==32&&w!==9)return b}while(++b<E);return E}function c(x,b,E){for(;b>E;){const w=x.charCodeAt(--b);if(w!==32&&w!==9)return b+1}return E}function g(x,b,E){const w=(E==null?void 0:E.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const C=w(b);if(!t.test(C))throw new TypeError(`argument val is invalid: ${b}`);let R=x+"="+C;if(!E)return R;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);R+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);R+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);R+="; Path="+E.path}if(E.expires){if(!m(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);R+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(R+="; HttpOnly"),E.secure&&(R+="; Secure"),E.partitioned&&(R+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return R}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function m(x){return i.call(x)==="[object Date]"}return D0}cj();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bT="popstate";function fj(e={}){function t(r,i){let{pathname:s,search:l,hash:u}=r.location;return JC("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rv(i)}return hj(t,n,null,e)}function Qn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ds(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dj(){return Math.random().toString(36).substring(2,10)}function ST(e,t){return{usr:e.state,key:e.key,idx:t}}function JC(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?xg(t):t,state:n,key:t&&t.key||r||dj()}}function Rv({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function hj(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",c=null,g=p();g==null&&(g=0,l.replaceState({...l.state,idx:g},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let C=p(),R=C==null?null:C-g;g=C,c&&c({action:u,location:w.location,delta:R})}function x(C,R){u="PUSH";let T=JC(w.location,C,R);g=p()+1;let _=ST(T,g),D=w.createHref(T);try{l.pushState(_,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(D)}s&&c&&c({action:u,location:w.location,delta:1})}function b(C,R){u="REPLACE";let T=JC(w.location,C,R);g=p();let _=ST(T,g),D=w.createHref(T);l.replaceState(_,"",D),s&&c&&c({action:u,location:w.location,delta:0})}function E(C){let R=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof C=="string"?C:Rv(C);return T=T.replace(/ $/,"%20"),Qn(R,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,R)}let w={get action(){return u},get location(){return e(i,l)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(bT,m),c=C,()=>{i.removeEventListener(bT,m),c=null}},createHref(C){return t(i,C)},createURL:E,encodeLocation(C){let R=E(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:b,go(C){return l.go(C)}};return w}function M3(e,t,n="/"){return pj(e,t,n,!1)}function pj(e,t,n,r){let i=typeof t=="string"?xg(t):t,s=Iu(i.pathname||"/",n);if(s==null)return null;let l=P3(e);gj(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let g=Rj(s);u=Cj(l[c],g,r)}return u}function P3(e,t=[],n=[],r=""){let i=(s,l,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};c.relativePath.startsWith("/")&&(Qn(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let g=Nu([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(Qn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),P3(s.children,t,p,g)),!(s.path==null&&!s.index)&&t.push({path:g,score:Aj(g,s.index),routesMeta:p})};return e.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let c of L3(s.path))i(s,l,c)}),t}function L3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=L3(r.join("/")),u=[];return u.push(...l.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function gj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ej(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var mj=/^:[\w-]+$/,vj=3,yj=2,xj=1,bj=10,Sj=-2,AT=e=>e==="*";function Aj(e,t){let n=e.split("/"),r=n.length;return n.some(AT)&&(r+=Sj),t&&(r+=yj),n.filter(i=>!AT(i)).reduce((i,s)=>i+(mj.test(s)?vj:s===""?xj:bj),r)}function Ej(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Cj(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],g=u===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",m=fS({path:c.relativePath,caseSensitive:c.caseSensitive,end:g},p),x=c.route;if(!m&&g&&n&&!r[r.length-1].route.index&&(m=fS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Nu([s,m.pathname]),pathnameBase:Ij(Nu([s,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(s=Nu([s,m.pathnameBase]))}return l}function fS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=wj(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((g,{paramName:p,isOptional:m},x)=>{if(p==="*"){let E=u[x]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const b=u[x];return m&&!b?g[p]=void 0:g[p]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:s,pathnameBase:l,pattern:e}}function wj(e,t=!1,n=!0){Ds(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Rj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ds(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Iu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Tj(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xg(e):e;return{pathname:n?n.startsWith("/")?n:Nj(n,t):t,search:Oj(r),hash:Dj(i)}}function Nj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function DA(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _j(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function i2(e){let t=_j(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function o2(e,t,n,r=!1){let i;typeof e=="string"?i=xg(e):(i={...e},Qn(!i.pathname||!i.pathname.includes("?"),DA("?","pathname","search",i)),Qn(!i.pathname||!i.pathname.includes("#"),DA("#","pathname","hash",i)),Qn(!i.search||!i.search.includes("#"),DA("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;i.pathname=x.join("/")}u=m>=0?t[m]:"/"}let c=Tj(i,u),g=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(g||p)&&(c.pathname+="/"),c}var Nu=e=>e.join("/").replace(/\/\/+/g,"/"),Ij=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Oj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Mj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var F3=["POST","PUT","PATCH","DELETE"];new Set(F3);var Pj=["GET",...F3];new Set(Pj);var bg=P.createContext(null);bg.displayName="DataRouter";var PS=P.createContext(null);PS.displayName="DataRouterState";var k3=P.createContext({isTransitioning:!1});k3.displayName="ViewTransition";var Lj=P.createContext(new Map);Lj.displayName="Fetchers";var Fj=P.createContext(null);Fj.displayName="Await";var Fs=P.createContext(null);Fs.displayName="Navigation";var zv=P.createContext(null);zv.displayName="Location";var Wo=P.createContext({outlet:null,matches:[],isDataRoute:!1});Wo.displayName="Route";var s2=P.createContext(null);s2.displayName="RouteError";function kj(e,{relative:t}={}){Qn(Sg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(Fs),{hash:i,pathname:s,search:l}=Uv(e,{relative:t}),u=s;return n!=="/"&&(u=s==="/"?n:Nu([n,s])),r.createHref({pathname:u,search:l,hash:i})}function Sg(){return P.useContext(zv)!=null}function ka(){return Qn(Sg(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(zv).location}var B3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j3(e){P.useContext(Fs).static||P.useLayoutEffect(e)}function a2(){let{isDataRoute:e}=P.useContext(Wo);return e?Jj():Bj()}function Bj(){Qn(Sg(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(bg),{basename:t,navigator:n}=P.useContext(Fs),{matches:r}=P.useContext(Wo),{pathname:i}=ka(),s=JSON.stringify(i2(r)),l=P.useRef(!1);return j3(()=>{l.current=!0}),P.useCallback((c,g={})=>{if(Ds(l.current,B3),!l.current)return;if(typeof c=="number"){n.go(c);return}let p=o2(c,JSON.parse(s),i,g.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Nu([t,p.pathname])),(g.replace?n.replace:n.push)(p,g.state,g)},[t,n,s,i,e])}var jj=P.createContext(null);function zj(e){let t=P.useContext(Wo).outlet;return t&&P.createElement(jj.Provider,{value:e},t)}function z3(){let{matches:e}=P.useContext(Wo),t=e[e.length-1];return t?t.params:{}}function Uv(e,{relative:t}={}){let{matches:n}=P.useContext(Wo),{pathname:r}=ka(),i=JSON.stringify(i2(n));return P.useMemo(()=>o2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Uj(e,t){return U3(e,t)}function U3(e,t,n,r){var T;Qn(Sg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=P.useContext(Fs),{matches:l}=P.useContext(Wo),u=l[l.length-1],c=u?u.params:{},g=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let _=m&&m.path||"";V3(g,!m||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=ka(),b;if(t){let _=typeof t=="string"?xg(t):t;Qn(p==="/"||((T=_.pathname)==null?void 0:T.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=x;let E=b.pathname||"/",w=E;if(p!=="/"){let _=p.replace(/^\//,"").split("/");w="/"+E.replace(/^\//,"").split("/").slice(_.length).join("/")}let C=!s&&n&&n.matches&&n.matches.length>0?n.matches:M3(e,{pathname:w});Ds(m||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ds(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Wj(C&&C.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:Nu([p,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?p:Nu([p,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,n,r);return t&&R?P.createElement(zv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function Vj(){let e=Zj(),t=Mj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,l)}var Gj=P.createElement(Vj,null),$j=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(Wo.Provider,{value:this.props.routeContext},P.createElement(s2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hj({routeContext:e,match:t,children:n}){let r=P.useContext(bg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Wo.Provider,{value:e},n)}function Wj(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(g=>g.route.id&&(s==null?void 0:s[g.route.id])!==void 0);Qn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let l=!1,u=-1;if(n)for(let c=0;c<i.length;c++){let g=i[c];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=c),g.route.id){let{loaderData:p,errors:m}=n,x=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,g,p)=>{let m,x=!1,b=null,E=null;n&&(m=s&&g.route.id?s[g.route.id]:void 0,b=g.route.errorElement||Gj,l&&(u<0&&p===0?(V3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):u===p&&(x=!0,E=g.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,p+1)),C=()=>{let R;return m?R=b:x?R=E:g.route.Component?R=P.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=c,P.createElement(Hj,{match:g,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?P.createElement($j,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function l2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yj(e){let t=P.useContext(bg);return Qn(t,l2(e)),t}function qj(e){let t=P.useContext(PS);return Qn(t,l2(e)),t}function Kj(e){let t=P.useContext(Wo);return Qn(t,l2(e)),t}function u2(e){let t=Kj(e),n=t.matches[t.matches.length-1];return Qn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Xj(){return u2("useRouteId")}function Zj(){var r;let e=P.useContext(s2),t=qj("useRouteError"),n=u2("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Jj(){let{router:e}=Yj("useNavigate"),t=u2("useNavigate"),n=P.useRef(!1);return j3(()=>{n.current=!0}),P.useCallback(async(i,s={})=>{Ds(n.current,B3),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var ET={};function V3(e,t,n){!t&&!ET[e]&&(ET[e]=!0,Ds(!1,n))}P.memo(Qj);function Qj({routes:e,future:t,state:n}){return U3(e,void 0,n,t)}function G3({to:e,replace:t,state:n,relative:r}){Qn(Sg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=P.useContext(Fs);Ds(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=P.useContext(Wo),{pathname:l}=ka(),u=a2(),c=o2(e,i2(s),l,r==="path"),g=JSON.stringify(c);return P.useEffect(()=>{u(JSON.parse(g),{replace:t,state:n,relative:r})},[u,g,r,t,n]),null}function c2(e){return zj(e.context)}function Aa(e){Qn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ez({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Qn(!Sg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=xg(n));let{pathname:c="/",search:g="",hash:p="",state:m=null,key:x="default"}=n,b=P.useMemo(()=>{let E=Iu(c,l);return E==null?null:{location:{pathname:E,search:g,hash:p,state:m,key:x},navigationType:r}},[l,c,g,p,m,x,r]);return Ds(b!=null,`<Router basename="${l}"> is not able to match the URL "${c}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Fs.Provider,{value:u},P.createElement(zv.Provider,{children:t,value:b}))}function tz({children:e,location:t}){return Uj(QC(e),t)}function QC(e,t=[]){let n=[];return P.Children.forEach(e,(r,i)=>{if(!P.isValidElement(r))return;let s=[...t,i];if(r.type===P.Fragment){n.push.apply(n,QC(r.props.children,s));return}Qn(r.type===Aa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=QC(r.props.children,s)),n.push(l)}),n}var Yb="get",qb="application/x-www-form-urlencoded";function LS(e){return e!=null&&typeof e.tagName=="string"}function nz(e){return LS(e)&&e.tagName.toLowerCase()==="button"}function rz(e){return LS(e)&&e.tagName.toLowerCase()==="form"}function iz(e){return LS(e)&&e.tagName.toLowerCase()==="input"}function oz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sz(e,t){return e.button===0&&(!t||t==="_self")&&!oz(e)}var Ab=null;function az(){if(Ab===null)try{new FormData(document.createElement("form"),0),Ab=!1}catch{Ab=!0}return Ab}var lz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function MA(e){return e!=null&&!lz.has(e)?(Ds(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qb}"`),null):e}function uz(e,t){let n,r,i,s,l;if(rz(e)){let u=e.getAttribute("action");r=u?Iu(u,t):null,n=e.getAttribute("method")||Yb,i=MA(e.getAttribute("enctype"))||qb,s=new FormData(e)}else if(nz(e)||iz(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||u.getAttribute("action");if(r=c?Iu(c,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Yb,i=MA(e.getAttribute("formenctype"))||MA(u.getAttribute("enctype"))||qb,s=new FormData(u,e),!az()){let{name:g,type:p,value:m}=e;if(p==="image"){let x=g?`${g}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else g&&s.append(g,m)}}else{if(LS(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yb,r=null,i=qb,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}function f2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function cz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dz(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await cz(s,n);return l.links?l.links():[]}return[]}));return mz(r.flat(1).filter(fz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function CT(e,t,n,r,i,s){let l=(c,g)=>n[g]?c.route.id!==n[g].route.id:!0,u=(c,g)=>{var p;return n[g].pathname!==c.pathname||((p=n[g].route.path)==null?void 0:p.endsWith("*"))&&n[g].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,g)=>l(c,g)||u(c,g)):s==="data"?t.filter((c,g)=>{var m;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(l(c,g)||u(c,g))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function hz(e,t,{includeHydrateFallback:n}={}){return pz(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function pz(e){return[...new Set(e)]}function gz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function mz(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(gz(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function vz(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Iu(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function $3(){let e=P.useContext(bg);return f2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yz(){let e=P.useContext(PS);return f2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var d2=P.createContext(void 0);d2.displayName="FrameworkContext";function H3(){let e=P.useContext(d2);return f2(e,"You must render this element inside a <HydratedRouter> element"),e}function xz(e,t){let n=P.useContext(d2),[r,i]=P.useState(!1),[s,l]=P.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:g,onMouseLeave:p,onTouchStart:m}=t,x=P.useRef(null);P.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=R=>{R.forEach(T=>{l(T.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[e]),P.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{i(!0)},E=()=>{i(!1),l(!1)};return n?e!=="intent"?[s,x,{}]:[s,x,{onFocus:M0(u,b),onBlur:M0(c,E),onMouseEnter:M0(g,b),onMouseLeave:M0(p,E),onTouchStart:M0(m,b)}]:[!1,x,{}]}function M0(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function bz({page:e,...t}){let{router:n}=$3(),r=P.useMemo(()=>M3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?P.createElement(Az,{page:e,matches:r,...t}):null}function Sz(e){let{manifest:t,routeModules:n}=H3(),[r,i]=P.useState([]);return P.useEffect(()=>{let s=!1;return dz(e,t,n).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,n]),r}function Az({page:e,matches:t,...n}){let r=ka(),{manifest:i,routeModules:s}=H3(),{basename:l}=$3(),{loaderData:u,matches:c}=yz(),g=P.useMemo(()=>CT(e,t,c,i,r,"data"),[e,t,c,i,r]),p=P.useMemo(()=>CT(e,t,c,i,r,"assets"),[e,t,c,i,r]),m=P.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let E=new Set,w=!1;if(t.forEach(R=>{var _;let T=i.routes[R.route.id];!T||!T.hasLoader||(!g.some(D=>D.route.id===R.route.id)&&R.route.id in u&&((_=s[R.route.id])!=null&&_.shouldRevalidate)||T.hasClientLoader?w=!0:E.add(R.route.id))}),E.size===0)return[];let C=vz(e,l);return w&&E.size>0&&C.searchParams.set("_routes",t.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[l,u,r,i,g,t,e,s]),x=P.useMemo(()=>hz(p,i),[p,i]),b=Sz(p);return P.createElement(P.Fragment,null,m.map(E=>P.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>P.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),b.map(({key:E,link:w})=>P.createElement("link",{key:E,...w})))}function Ez(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var W3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W3&&(window.__reactRouterVersion="7.5.0")}catch{}function Cz({basename:e,children:t,window:n}){let r=P.useRef();r.current==null&&(r.current=fj({window:n,v5Compat:!0}));let i=r.current,[s,l]=P.useState({action:i.action,location:i.location}),u=P.useCallback(c=>{P.startTransition(()=>l(c))},[l]);return P.useLayoutEffect(()=>i.listen(u),[i,u]),P.createElement(ez,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var Y3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ag=P.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:c,to:g,preventScrollReset:p,viewTransition:m,...x},b){let{basename:E}=P.useContext(Fs),w=typeof g=="string"&&Y3.test(g),C,R=!1;if(typeof g=="string"&&w&&(C=g,W3))try{let $=new URL(window.location.href),Z=g.startsWith("//")?new URL($.protocol+g):new URL(g),ne=Iu(Z.pathname,E);Z.origin===$.origin&&ne!=null?g=ne+Z.search+Z.hash:R=!0}catch{Ds(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=kj(g,{relative:i}),[_,D,F]=xz(r,x),B=Nz(g,{replace:l,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:m});function j($){t&&t($),$.defaultPrevented||B($)}let k=P.createElement("a",{...x,...F,href:C||T,onClick:R||s?t:j,ref:Ez(b,D),target:c,"data-discover":!w&&n==="render"?"true":void 0});return _&&!w?P.createElement(P.Fragment,null,k,P.createElement(bz,{page:T})):k});Ag.displayName="Link";var wz=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:c,...g},p){let m=Uv(l,{relative:g.relative}),x=ka(),b=P.useContext(PS),{navigator:E,basename:w}=P.useContext(Fs),C=b!=null&&Mz(m)&&u===!0,R=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,T=x.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(T=T.toLowerCase(),_=_?_.toLowerCase():null,R=R.toLowerCase()),_&&w&&(_=Iu(_,w)||_);const D=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let F=T===R||!i&&T.startsWith(R)&&T.charAt(D)==="/",B=_!=null&&(_===R||!i&&_.startsWith(R)&&_.charAt(R.length)==="/"),j={isActive:F,isPending:B,isTransitioning:C},k=F?t:void 0,$;typeof r=="function"?$=r(j):$=[r,F?"active":null,B?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Z=typeof s=="function"?s(j):s;return P.createElement(Ag,{...g,"aria-current":k,className:$,ref:p,style:Z,to:l,viewTransition:u},typeof c=="function"?c(j):c)});wz.displayName="NavLink";var Rz=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:l=Yb,action:u,onSubmit:c,relative:g,preventScrollReset:p,viewTransition:m,...x},b)=>{let E=Oz(),w=Dz(u,{relative:g}),C=l.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&Y3.test(u),T=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let D=_.nativeEvent.submitter,F=(D==null?void 0:D.getAttribute("formmethod"))||l;E(D||_.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:i,state:s,relative:g,preventScrollReset:p,viewTransition:m})};return P.createElement("form",{ref:b,method:C,action:w,onSubmit:r?c:T,...x,"data-discover":!R&&e==="render"?"true":void 0})});Rz.displayName="Form";function Tz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q3(e){let t=P.useContext(bg);return Qn(t,Tz(e)),t}function Nz(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=a2(),c=ka(),g=Uv(e,{relative:s});return P.useCallback(p=>{if(sz(p,t)){p.preventDefault();let m=n!==void 0?n:Rv(c)===Rv(g);u(e,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[c,u,g,n,r,t,e,i,s,l])}var _z=0,Iz=()=>`__${String(++_z)}__`;function Oz(){let{router:e}=q3("useSubmit"),{basename:t}=P.useContext(Fs),n=Xj();return P.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:c,body:g}=uz(r,t);if(i.navigate===!1){let p=i.fetcherKey||Iz();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:g,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:g,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Dz(e,{relative:t}={}){let{basename:n}=P.useContext(Fs),r=P.useContext(Wo);Qn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Uv(e||".",{relative:t})},l=ka();if(e==null){s.search=l.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Nu([n,s.pathname])),Rv(s)}function Mz(e,t={}){let n=P.useContext(k3);Qn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q3("useViewTransitionState"),i=Uv(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Iu(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Iu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fS(i.pathname,l)!=null||fS(i.pathname,s)!=null}new TextEncoder;var Ia=O3();const K3=_3(Ia);var Eg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gh=typeof window>"u"||"Deno"in globalThis;function Go(){}function Pz(e,t){return typeof e=="function"?e(t):e}function ew(e){return typeof e=="number"&&e>=0&&e!==1/0}function X3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qp(e,t){return typeof e=="function"?e(t):e}function _s(e,t){return typeof e=="function"?e(t):e}function wT(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==h2(l,t.options))return!1}else if(!Tv(t.queryKey,l))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||s&&!s(t))}function RT(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(mh(t.options.mutationKey)!==mh(s))return!1}else if(!Tv(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function h2(e,t){return((t==null?void 0:t.queryKeyHashFn)||mh)(e)}function mh(e){return JSON.stringify(e,(t,n)=>tw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Tv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Tv(e[n],t[n])):!1}function Z3(e,t){if(e===t)return e;const n=TT(e)&&TT(t);if(n||tw(e)&&tw(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),l=s.length,u=n?[]:{};let c=0;for(let g=0;g<l;g++){const p=n?g:s[g];(!n&&r.includes(p)||n)&&e[p]===void 0&&t[p]===void 0?(u[p]=void 0,c++):(u[p]=Z3(e[p],t[p]),u[p]===e[p]&&e[p]!==void 0&&c++)}return i===l&&c===i?e:u}return t}function dS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function TT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function tw(e){if(!NT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!NT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NT(e){return Object.prototype.toString.call(e)==="[object Object]"}function Lz(e){return new Promise(t=>{setTimeout(t,e)})}function nw(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Z3(e,t):t}function Fz(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function kz(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var p2=Symbol();function J3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===p2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var sh,Bc,eg,y3,Bz=(y3=class extends Eg{constructor(){super();Et(this,sh);Et(this,Bc);Et(this,eg);at(this,eg,t=>{if(!gh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ge(this,Bc)||this.setEventListener(ge(this,eg))}onUnsubscribe(){var t;this.hasListeners()||((t=ge(this,Bc))==null||t.call(this),at(this,Bc,void 0))}setEventListener(t){var n;at(this,eg,t),(n=ge(this,Bc))==null||n.call(this),at(this,Bc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ge(this,sh)!==t&&(at(this,sh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ge(this,sh)=="boolean"?ge(this,sh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},sh=new WeakMap,Bc=new WeakMap,eg=new WeakMap,y3),g2=new Bz,tg,jc,ng,x3,jz=(x3=class extends Eg{constructor(){super();Et(this,tg,!0);Et(this,jc);Et(this,ng);at(this,ng,t=>{if(!gh&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ge(this,jc)||this.setEventListener(ge(this,ng))}onUnsubscribe(){var t;this.hasListeners()||((t=ge(this,jc))==null||t.call(this),at(this,jc,void 0))}setEventListener(t){var n;at(this,ng,t),(n=ge(this,jc))==null||n.call(this),at(this,jc,t(this.setOnline.bind(this)))}setOnline(t){ge(this,tg)!==t&&(at(this,tg,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ge(this,tg)}},tg=new WeakMap,jc=new WeakMap,ng=new WeakMap,x3),hS=new jz;function rw(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function zz(e){return Math.min(1e3*2**e,3e4)}function Q3(e){return(e??"online")==="online"?hS.isOnline():!0}var eM=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function PA(e){return e instanceof eM}function tM(e){let t=!1,n=0,r=!1,i;const s=rw(),l=w=>{var C;r||(x(new eM(w)),(C=e.abort)==null||C.call(e))},u=()=>{t=!0},c=()=>{t=!1},g=()=>g2.isFocused()&&(e.networkMode==="always"||hS.isOnline())&&e.canRun(),p=()=>Q3(e.networkMode)&&e.canRun(),m=w=>{var C;r||(r=!0,(C=e.onSuccess)==null||C.call(e,w),i==null||i(),s.resolve(w))},x=w=>{var C;r||(r=!0,(C=e.onError)==null||C.call(e,w),i==null||i(),s.reject(w))},b=()=>new Promise(w=>{var C;i=R=>{(r||g())&&w(R)},(C=e.onPause)==null||C.call(e)}).then(()=>{var w;i=void 0,r||(w=e.onContinue)==null||w.call(e)}),E=()=>{if(r)return;let w;const C=n===0?e.initialPromise:void 0;try{w=C??e.fn()}catch(R){w=Promise.reject(R)}Promise.resolve(w).then(m).catch(R=>{var B;if(r)return;const T=e.retry??(gh?0:3),_=e.retryDelay??zz,D=typeof _=="function"?_(n,R):_,F=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,R);if(t||!F){x(R);return}n++,(B=e.onFail)==null||B.call(e,n,R),Lz(D).then(()=>g()?void 0:b()).then(()=>{t?x(R):E()})})};return{promise:s,cancel:l,continue:()=>(i==null||i(),s),cancelRetry:u,continueRetry:c,canStart:p,start:()=>(p()?E():b().then(E),s)}}var Uz=e=>setTimeout(e,0);function Vz(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=Uz;const s=u=>{t?e.push(u):i(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;t++;try{c=u()}finally{t--,t||l()}return c},batchCalls:u=>(...c)=>{s(()=>{u(...c)})},schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var Pr=Vz(),ah,b3,nM=(b3=class{constructor(){Et(this,ah)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ew(this.gcTime)&&at(this,ah,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gh?1/0:5*60*1e3))}clearGcTimeout(){ge(this,ah)&&(clearTimeout(ge(this,ah)),at(this,ah,void 0))}},ah=new WeakMap,b3),rg,ig,Vo,lh,vi,Fv,uh,Ts,Eu,S3,Gz=(S3=class extends nM{constructor(t){super();Et(this,Ts);Et(this,rg);Et(this,ig);Et(this,Vo);Et(this,lh);Et(this,vi);Et(this,Fv);Et(this,uh);at(this,uh,!1),at(this,Fv,t.defaultOptions),this.setOptions(t.options),this.observers=[],at(this,lh,t.client),at(this,Vo,ge(this,lh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,at(this,rg,$z(this.options)),this.state=t.state??ge(this,rg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ge(this,vi))==null?void 0:t.promise}setOptions(t){this.options={...ge(this,Fv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,Vo).remove(this)}setData(t,n){const r=nw(this.state.data,t,this.options);return Wt(this,Ts,Eu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Wt(this,Ts,Eu).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ge(this,vi))==null?void 0:r.promise;return(i=ge(this,vi))==null||i.cancel(t),n?n.then(Go).catch(Go):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,rg))}isActive(){return this.observers.some(t=>_s(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===p2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!X3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ge(this,vi))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ge(this,vi))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ge(this,Vo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ge(this,vi)&&(ge(this,uh)?ge(this,vi).cancel({revert:!0}):ge(this,vi).cancelRetry()),this.scheduleGc()),ge(this,Vo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wt(this,Ts,Eu).call(this,{type:"invalidate"})}fetch(t,n){var c,g,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ge(this,vi))return ge(this,vi).continueRetry(),ge(this,vi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(at(this,uh,!0),r.signal)})},s=()=>{const m=J3(this.options,n),x={client:ge(this,lh),queryKey:this.queryKey,meta:this.meta};return i(x),at(this,uh,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ge(this,lh),state:this.state,fetchFn:s};i(l),(c=this.options.behavior)==null||c.onFetch(l,this),at(this,ig,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=l.fetchOptions)==null?void 0:g.meta))&&Wt(this,Ts,Eu).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=m=>{var x,b,E,w;PA(m)&&m.silent||Wt(this,Ts,Eu).call(this,{type:"error",error:m}),PA(m)||((b=(x=ge(this,Vo).config).onError)==null||b.call(x,m,this),(w=(E=ge(this,Vo).config).onSettled)==null||w.call(E,this.state.data,m,this)),this.scheduleGc()};return at(this,vi,tM({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var x,b,E,w;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(C){u(C);return}(b=(x=ge(this,Vo).config).onSuccess)==null||b.call(x,m,this),(w=(E=ge(this,Vo).config).onSettled)==null||w.call(E,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,x)=>{Wt(this,Ts,Eu).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{Wt(this,Ts,Eu).call(this,{type:"pause"})},onContinue:()=>{Wt(this,Ts,Eu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ge(this,vi).start()}},rg=new WeakMap,ig=new WeakMap,Vo=new WeakMap,lh=new WeakMap,vi=new WeakMap,Fv=new WeakMap,uh=new WeakMap,Ts=new WeakSet,Eu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return PA(i)&&i.revert&&ge(this,ig)?{...ge(this,ig),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Pr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ge(this,Vo).notify({query:this,type:"updated",action:t})})},S3);function rM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Q3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $z(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ea,A3,Hz=(A3=class extends Eg{constructor(t={}){super();Et(this,Ea);this.config=t,at(this,Ea,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??h2(i,n);let l=this.get(s);return l||(l=new Gz({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){ge(this,Ea).has(t.queryHash)||(ge(this,Ea).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ge(this,Ea).get(t.queryHash);n&&(t.destroy(),n===t&&ge(this,Ea).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ge(this,Ea).get(t)}getAll(){return[...ge(this,Ea).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wT(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>wT(t,r)):n}notify(t){Pr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Pr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ea=new WeakMap,A3),Ca,Ri,ch,wa,Ic,E3,Wz=(E3=class extends nM{constructor(t){super();Et(this,wa);Et(this,Ca);Et(this,Ri);Et(this,ch);this.mutationId=t.mutationId,at(this,Ri,t.mutationCache),at(this,Ca,[]),this.state=t.state||iM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ge(this,Ca).includes(t)||(ge(this,Ca).push(t),this.clearGcTimeout(),ge(this,Ri).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){at(this,Ca,ge(this,Ca).filter(n=>n!==t)),this.scheduleGc(),ge(this,Ri).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ge(this,Ca).length||(this.state.status==="pending"?this.scheduleGc():ge(this,Ri).remove(this))}continue(){var t;return((t=ge(this,ch))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,u,c,g,p,m,x,b,E,w,C,R,T,_,D,F,B,j,k;const n=()=>{Wt(this,wa,Ic).call(this,{type:"continue"})};at(this,ch,tM({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:($,Z)=>{Wt(this,wa,Ic).call(this,{type:"failed",failureCount:$,error:Z})},onPause:()=>{Wt(this,wa,Ic).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,Ri).canRun(this)}));const r=this.state.status==="pending",i=!ge(this,ch).canStart();try{if(r)n();else{Wt(this,wa,Ic).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(s=ge(this,Ri).config).onMutate)==null?void 0:l.call(s,t,this));const Z=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t));Z!==this.state.context&&Wt(this,wa,Ic).call(this,{type:"pending",context:Z,variables:t,isPaused:i})}const $=await ge(this,ch).start();return await((p=(g=ge(this,Ri).config).onSuccess)==null?void 0:p.call(g,$,t,this.state.context,this)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,$,t,this.state.context)),await((E=(b=ge(this,Ri).config).onSettled)==null?void 0:E.call(b,$,null,this.state.variables,this.state.context,this)),await((C=(w=this.options).onSettled)==null?void 0:C.call(w,$,null,t,this.state.context)),Wt(this,wa,Ic).call(this,{type:"success",data:$}),$}catch($){try{throw await((T=(R=ge(this,Ri).config).onError)==null?void 0:T.call(R,$,t,this.state.context,this)),await((D=(_=this.options).onError)==null?void 0:D.call(_,$,t,this.state.context)),await((B=(F=ge(this,Ri).config).onSettled)==null?void 0:B.call(F,void 0,$,this.state.variables,this.state.context,this)),await((k=(j=this.options).onSettled)==null?void 0:k.call(j,void 0,$,t,this.state.context)),$}finally{Wt(this,wa,Ic).call(this,{type:"error",error:$})}}finally{ge(this,Ri).runNext(this)}}},Ca=new WeakMap,Ri=new WeakMap,ch=new WeakMap,wa=new WeakSet,Ic=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Pr.batch(()=>{ge(this,Ca).forEach(r=>{r.onMutationUpdate(t)}),ge(this,Ri).notify({mutation:this,type:"updated",action:t})})},E3);function iM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ru,Ns,kv,C3,Yz=(C3=class extends Eg{constructor(t={}){super();Et(this,Ru);Et(this,Ns);Et(this,kv);this.config=t,at(this,Ru,new Set),at(this,Ns,new Map),at(this,kv,0)}build(t,n,r){const i=new Wz({mutationCache:this,mutationId:++Sb(this,kv)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ge(this,Ru).add(t);const n=Eb(t);if(typeof n=="string"){const r=ge(this,Ns).get(n);r?r.push(t):ge(this,Ns).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ge(this,Ru).delete(t)){const n=Eb(t);if(typeof n=="string"){const r=ge(this,Ns).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ge(this,Ns).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Eb(t);if(typeof n=="string"){const r=ge(this,Ns).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Eb(t);if(typeof n=="string"){const i=(r=ge(this,Ns).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pr.batch(()=>{ge(this,Ru).forEach(t=>{this.notify({type:"removed",mutation:t})}),ge(this,Ru).clear(),ge(this,Ns).clear()})}getAll(){return Array.from(ge(this,Ru))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>RT(n,r))}findAll(t={}){return this.getAll().filter(n=>RT(t,n))}notify(t){Pr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Pr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Go))))}},Ru=new WeakMap,Ns=new WeakMap,kv=new WeakMap,C3);function Eb(e){var t;return(t=e.options.scope)==null?void 0:t.id}function _T(e){return{onFetch:(t,n)=>{var p,m,x,b,E;const r=t.options,i=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,s=((b=t.state.data)==null?void 0:b.pages)||[],l=((E=t.state.data)==null?void 0:E.pageParams)||[];let u={pages:[],pageParams:[]},c=0;const g=async()=>{let w=!1;const C=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},R=J3(t.options,t.fetchOptions),T=async(_,D,F)=>{if(w)return Promise.reject();if(D==null&&_.pages.length)return Promise.resolve(_);const B={client:t.client,queryKey:t.queryKey,pageParam:D,direction:F?"backward":"forward",meta:t.options.meta};C(B);const j=await R(B),{maxPages:k}=t.options,$=F?kz:Fz;return{pages:$(_.pages,j,k),pageParams:$(_.pageParams,D,k)}};if(i&&s.length){const _=i==="backward",D=_?qz:IT,F={pages:s,pageParams:l},B=D(r,F);u=await T(F,B,_)}else{const _=e??s.length;do{const D=c===0?l[0]??r.initialPageParam:IT(r,u);if(c>0&&D==null)break;u=await T(u,D),c++}while(c<_)}return u};t.options.persister?t.fetchFn=()=>{var w,C;return(C=(w=t.options).persister)==null?void 0:C.call(w,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function IT(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function qz(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ur,zc,Uc,og,sg,Vc,ag,lg,w3,Kz=(w3=class{constructor(e={}){Et(this,ur);Et(this,zc);Et(this,Uc);Et(this,og);Et(this,sg);Et(this,Vc);Et(this,ag);Et(this,lg);at(this,ur,e.queryCache||new Hz),at(this,zc,e.mutationCache||new Yz),at(this,Uc,e.defaultOptions||{}),at(this,og,new Map),at(this,sg,new Map),at(this,Vc,0)}mount(){Sb(this,Vc)._++,ge(this,Vc)===1&&(at(this,ag,g2.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,ur).onFocus())})),at(this,lg,hS.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,ur).onOnline())})))}unmount(){var e,t;Sb(this,Vc)._--,ge(this,Vc)===0&&((e=ge(this,ag))==null||e.call(this),at(this,ag,void 0),(t=ge(this,lg))==null||t.call(this),at(this,lg,void 0))}isFetching(e){return ge(this,ur).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ge(this,zc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ge(this,ur).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ge(this,ur).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(qp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ge(this,ur).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ge(this,ur).get(r.queryHash),s=i==null?void 0:i.state.data,l=Pz(t,s);if(l!==void 0)return ge(this,ur).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Pr.batch(()=>ge(this,ur).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ge(this,ur).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ge(this,ur);Pr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ge(this,ur);return Pr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Pr.batch(()=>ge(this,ur).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Go).catch(Go)}invalidateQueries(e,t={}){return Pr.batch(()=>(ge(this,ur).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Pr.batch(()=>ge(this,ur).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Go)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Go)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ge(this,ur).build(this,t);return n.isStaleByTime(qp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Go).catch(Go)}fetchInfiniteQuery(e){return e.behavior=_T(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Go).catch(Go)}ensureInfiniteQueryData(e){return e.behavior=_T(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hS.isOnline()?ge(this,zc).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,ur)}getMutationCache(){return ge(this,zc)}getDefaultOptions(){return ge(this,Uc)}setDefaultOptions(e){at(this,Uc,e)}setQueryDefaults(e,t){ge(this,og).set(mh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ge(this,og).values()],n={};return t.forEach(r=>{Tv(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ge(this,sg).set(mh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ge(this,sg).values()],n={};return t.forEach(r=>{Tv(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ge(this,Uc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=h2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===p2&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ge(this,Uc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ge(this,ur).clear(),ge(this,zc).clear()}},ur=new WeakMap,zc=new WeakMap,Uc=new WeakMap,og=new WeakMap,sg=new WeakMap,Vc=new WeakMap,ag=new WeakMap,lg=new WeakMap,w3),Yi,nn,Bv,Ti,fh,ug,Gc,$c,jv,cg,fg,dh,hh,Hc,dg,Dn,uv,iw,ow,sw,aw,lw,uw,cw,oM,R3,Xz=(R3=class extends Eg{constructor(t,n){super();Et(this,Dn);Et(this,Yi);Et(this,nn);Et(this,Bv);Et(this,Ti);Et(this,fh);Et(this,ug);Et(this,Gc);Et(this,$c);Et(this,jv);Et(this,cg);Et(this,fg);Et(this,dh);Et(this,hh);Et(this,Hc);Et(this,dg,new Set);this.options=n,at(this,Yi,t),at(this,$c,null),at(this,Gc,rw()),this.options.experimental_prefetchInRender||ge(this,Gc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ge(this,nn).addObserver(this),OT(ge(this,nn),this.options)?Wt(this,Dn,uv).call(this):this.updateResult(),Wt(this,Dn,aw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fw(ge(this,nn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fw(ge(this,nn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Wt(this,Dn,lw).call(this),Wt(this,Dn,uw).call(this),ge(this,nn).removeObserver(this)}setOptions(t){const n=this.options,r=ge(this,nn);if(this.options=ge(this,Yi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _s(this.options.enabled,ge(this,nn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Wt(this,Dn,cw).call(this),ge(this,nn).setOptions(this.options),n._defaulted&&!dS(this.options,n)&&ge(this,Yi).getQueryCache().notify({type:"observerOptionsUpdated",query:ge(this,nn),observer:this});const i=this.hasListeners();i&&DT(ge(this,nn),r,this.options,n)&&Wt(this,Dn,uv).call(this),this.updateResult(),i&&(ge(this,nn)!==r||_s(this.options.enabled,ge(this,nn))!==_s(n.enabled,ge(this,nn))||qp(this.options.staleTime,ge(this,nn))!==qp(n.staleTime,ge(this,nn)))&&Wt(this,Dn,iw).call(this);const s=Wt(this,Dn,ow).call(this);i&&(ge(this,nn)!==r||_s(this.options.enabled,ge(this,nn))!==_s(n.enabled,ge(this,nn))||s!==ge(this,Hc))&&Wt(this,Dn,sw).call(this,s)}getOptimisticResult(t){const n=ge(this,Yi).getQueryCache().build(ge(this,Yi),t),r=this.createResult(n,t);return Jz(this,r)&&(at(this,Ti,r),at(this,ug,this.options),at(this,fh,ge(this,nn).state)),r}getCurrentResult(){return ge(this,Ti)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){ge(this,dg).add(t)}getCurrentQuery(){return ge(this,nn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ge(this,Yi).defaultQueryOptions(t),r=ge(this,Yi).getQueryCache().build(ge(this,Yi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Wt(this,Dn,uv).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ge(this,Ti)))}createResult(t,n){var $;const r=ge(this,nn),i=this.options,s=ge(this,Ti),l=ge(this,fh),u=ge(this,ug),g=t!==r?t.state:ge(this,Bv),{state:p}=t;let m={...p},x=!1,b;if(n._optimisticResults){const Z=this.hasListeners(),ne=!Z&&OT(t,n),re=Z&&DT(t,r,n,i);(ne||re)&&(m={...m,...rM(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:E,errorUpdatedAt:w,status:C}=m;b=m.data;let R=!1;if(n.placeholderData!==void 0&&b===void 0&&C==="pending"){let Z;s!=null&&s.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(Z=s.data,R=!0):Z=typeof n.placeholderData=="function"?n.placeholderData(($=ge(this,fg))==null?void 0:$.state.data,ge(this,fg)):n.placeholderData,Z!==void 0&&(C="success",b=nw(s==null?void 0:s.data,Z,n),x=!0)}if(n.select&&b!==void 0&&!R)if(s&&b===(l==null?void 0:l.data)&&n.select===ge(this,jv))b=ge(this,cg);else try{at(this,jv,n.select),b=n.select(b),b=nw(s==null?void 0:s.data,b,n),at(this,cg,b),at(this,$c,null)}catch(Z){at(this,$c,Z)}ge(this,$c)&&(E=ge(this,$c),b=ge(this,cg),w=Date.now(),C="error");const T=m.fetchStatus==="fetching",_=C==="pending",D=C==="error",F=_&&T,B=b!==void 0,k={status:C,fetchStatus:m.fetchStatus,isPending:_,isSuccess:C==="success",isError:D,isInitialLoading:F,isLoading:F,data:b,dataUpdatedAt:m.dataUpdatedAt,error:E,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>g.dataUpdateCount||m.errorUpdateCount>g.errorUpdateCount,isFetching:T,isRefetching:T&&!_,isLoadingError:D&&!B,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:D&&B,isStale:m2(t,n),refetch:this.refetch,promise:ge(this,Gc)};if(this.options.experimental_prefetchInRender){const Z=he=>{k.status==="error"?he.reject(k.error):k.data!==void 0&&he.resolve(k.data)},ne=()=>{const he=at(this,Gc,k.promise=rw());Z(he)},re=ge(this,Gc);switch(re.status){case"pending":t.queryHash===r.queryHash&&Z(re);break;case"fulfilled":(k.status==="error"||k.data!==re.value)&&ne();break;case"rejected":(k.status!=="error"||k.error!==re.reason)&&ne();break}}return k}updateResult(){const t=ge(this,Ti),n=this.createResult(ge(this,nn),this.options);if(at(this,fh,ge(this,nn).state),at(this,ug,this.options),ge(this,fh).data!==void 0&&at(this,fg,ge(this,nn)),dS(n,t))return;at(this,Ti,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ge(this,dg).size)return!0;const l=new Set(s??ge(this,dg));return this.options.throwOnError&&l.add("error"),Object.keys(ge(this,Ti)).some(u=>{const c=u;return ge(this,Ti)[c]!==t[c]&&l.has(c)})};Wt(this,Dn,oM).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Wt(this,Dn,aw).call(this)}},Yi=new WeakMap,nn=new WeakMap,Bv=new WeakMap,Ti=new WeakMap,fh=new WeakMap,ug=new WeakMap,Gc=new WeakMap,$c=new WeakMap,jv=new WeakMap,cg=new WeakMap,fg=new WeakMap,dh=new WeakMap,hh=new WeakMap,Hc=new WeakMap,dg=new WeakMap,Dn=new WeakSet,uv=function(t){Wt(this,Dn,cw).call(this);let n=ge(this,nn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Go)),n},iw=function(){Wt(this,Dn,lw).call(this);const t=qp(this.options.staleTime,ge(this,nn));if(gh||ge(this,Ti).isStale||!ew(t))return;const r=X3(ge(this,Ti).dataUpdatedAt,t)+1;at(this,dh,setTimeout(()=>{ge(this,Ti).isStale||this.updateResult()},r))},ow=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ge(this,nn)):this.options.refetchInterval)??!1},sw=function(t){Wt(this,Dn,uw).call(this),at(this,Hc,t),!(gh||_s(this.options.enabled,ge(this,nn))===!1||!ew(ge(this,Hc))||ge(this,Hc)===0)&&at(this,hh,setInterval(()=>{(this.options.refetchIntervalInBackground||g2.isFocused())&&Wt(this,Dn,uv).call(this)},ge(this,Hc)))},aw=function(){Wt(this,Dn,iw).call(this),Wt(this,Dn,sw).call(this,Wt(this,Dn,ow).call(this))},lw=function(){ge(this,dh)&&(clearTimeout(ge(this,dh)),at(this,dh,void 0))},uw=function(){ge(this,hh)&&(clearInterval(ge(this,hh)),at(this,hh,void 0))},cw=function(){const t=ge(this,Yi).getQueryCache().build(ge(this,Yi),this.options);if(t===ge(this,nn))return;const n=ge(this,nn);at(this,nn,t),at(this,Bv,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},oM=function(t){Pr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ge(this,Ti))}),ge(this,Yi).getQueryCache().notify({query:ge(this,nn),type:"observerResultsUpdated"})})},R3);function Zz(e,t){return _s(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function OT(e,t){return Zz(e,t)||e.state.data!==void 0&&fw(e,t,t.refetchOnMount)}function fw(e,t,n){if(_s(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&m2(e,t)}return!1}function DT(e,t,n,r){return(e!==t||_s(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&m2(e,n)}function m2(e,t){return _s(t.enabled,e)!==!1&&e.isStaleByTime(qp(t.staleTime,e))}function Jz(e,t){return!dS(e.getCurrentResult(),t)}var Wc,Yc,qi,Tu,_u,Kb,dw,T3,Qz=(T3=class extends Eg{constructor(n,r){super();Et(this,_u);Et(this,Wc);Et(this,Yc);Et(this,qi);Et(this,Tu);at(this,Wc,n),this.setOptions(r),this.bindMethods(),Wt(this,_u,Kb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ge(this,Wc).defaultMutationOptions(n),dS(this.options,r)||ge(this,Wc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ge(this,qi),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&mh(r.mutationKey)!==mh(this.options.mutationKey)?this.reset():((i=ge(this,qi))==null?void 0:i.state.status)==="pending"&&ge(this,qi).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ge(this,qi))==null||n.removeObserver(this)}onMutationUpdate(n){Wt(this,_u,Kb).call(this),Wt(this,_u,dw).call(this,n)}getCurrentResult(){return ge(this,Yc)}reset(){var n;(n=ge(this,qi))==null||n.removeObserver(this),at(this,qi,void 0),Wt(this,_u,Kb).call(this),Wt(this,_u,dw).call(this)}mutate(n,r){var i;return at(this,Tu,r),(i=ge(this,qi))==null||i.removeObserver(this),at(this,qi,ge(this,Wc).getMutationCache().build(ge(this,Wc),this.options)),ge(this,qi).addObserver(this),ge(this,qi).execute(n)}},Wc=new WeakMap,Yc=new WeakMap,qi=new WeakMap,Tu=new WeakMap,_u=new WeakSet,Kb=function(){var r;const n=((r=ge(this,qi))==null?void 0:r.state)??iM();at(this,Yc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},dw=function(n){Pr.batch(()=>{var r,i,s,l,u,c,g,p;if(ge(this,Tu)&&this.hasListeners()){const m=ge(this,Yc).variables,x=ge(this,Yc).context;(n==null?void 0:n.type)==="success"?((i=(r=ge(this,Tu)).onSuccess)==null||i.call(r,n.data,m,x),(l=(s=ge(this,Tu)).onSettled)==null||l.call(s,n.data,null,m,x)):(n==null?void 0:n.type)==="error"&&((c=(u=ge(this,Tu)).onError)==null||c.call(u,n.error,m,x),(p=(g=ge(this,Tu)).onSettled)==null||p.call(g,void 0,n.error,m,x))}this.listeners.forEach(m=>{m(ge(this,Yc))})})},T3),sM=P.createContext(void 0),Vv=e=>{const t=P.useContext(sM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},e5=({client:e,children:t})=>(P.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),O.jsx(sM.Provider,{value:e,children:t})),aM=P.createContext(!1),t5=()=>P.useContext(aM);aM.Provider;function n5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var r5=P.createContext(n5()),i5=()=>P.useContext(r5);function lM(e,t){return typeof e=="function"?e(...t):!!e}function hw(){}var o5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},s5=e=>{P.useEffect(()=>{e.clearReset()},[e])},a5=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||lM(n,[e.error,r])),l5=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},u5=(e,t)=>e.isLoading&&e.isFetching&&!t,c5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,MT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function f5(e,t,n){var m,x,b,E,w;const r=Vv(),i=t5(),s=i5(),l=r.defaultQueryOptions(e);(x=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,l),l._optimisticResults=i?"isRestoring":"optimistic",l5(l),o5(l,s),s5(s);const u=!r.getQueryCache().get(l.queryHash),[c]=P.useState(()=>new t(r,l)),g=c.getOptimisticResult(l),p=!i&&e.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(C=>{const R=p?c.subscribe(Pr.batchCalls(C)):hw;return c.updateResult(),R},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),P.useEffect(()=>{c.setOptions(l)},[l,c]),c5(l,g))throw MT(l,c,s);if(a5({result:g,errorResetBoundary:s,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw g.error;if((E=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||E.call(b,l,g),l.experimental_prefetchInRender&&!gh&&u5(g,i)){const C=u?MT(l,c,s):(w=r.getQueryCache().get(l.queryHash))==null?void 0:w.promise;C==null||C.catch(hw).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?g:c.trackResult(g)}function Ba(e,t){return f5(e,Xz)}function Xb(e,t){const n=Vv(),[r]=P.useState(()=>new Qz(n,e));P.useEffect(()=>{r.setOptions(e)},[r,e]);const i=P.useSyncExternalStore(P.useCallback(l=>r.subscribe(Pr.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=P.useCallback((l,u)=>{r.mutate(l,u).catch(hw)},[r]);if(i.error&&lM(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function d5(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const h5=e=>{switch(e){case"success":return m5;case"info":return y5;case"warning":return v5;case"error":return x5;default:return null}},p5=Array(12).fill(0),g5=({visible:e,className:t})=>Ke.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ke.createElement("div",{className:"sonner-spinner"},p5.map((n,r)=>Ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),m5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),v5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),y5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),x5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),b5=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),S5=()=>{const[e,t]=Ke.useState(document.hidden);return Ke.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let pw=1;class A5{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:pw++,l=this.toasts.find(c=>c.id===s),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:r}),{...c,...t,id:s,dismissible:u,title:r}):c):this.addToast({title:r,...i,dismissible:u,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let s=r!==void 0,l;const u=i.then(async g=>{if(l=["resolve",g],Ke.isValidElement(g))s=!1,this.create({id:r,type:"default",message:g});else if(C5(g)&&!g.ok){s=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,E=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...E})}else if(g instanceof Error){s=!1;const m=typeof n.error=="function"?await n.error(g):n.error,x=typeof n.description=="function"?await n.description(g):n.description,E=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...E})}else if(n.success!==void 0){s=!1;const m=typeof n.success=="function"?await n.success(g):n.success,x=typeof n.description=="function"?await n.description(g):n.description,E=typeof m=="object"&&!Ke.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:x,...E})}}).catch(async g=>{if(l=["reject",g],n.error!==void 0){s=!1;const p=typeof n.error=="function"?await n.error(g):n.error,m=typeof n.description=="function"?await n.description(g):n.description,b=typeof p=="object"&&!Ke.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...b})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((g,p)=>u.then(()=>l[0]==="reject"?p(l[1]):g(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||pw++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ki=new A5,E5=(e,t)=>{const n=(t==null?void 0:t.id)||pw++;return Ki.addToast({title:e,...t,id:n}),n},C5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",w5=E5,R5=()=>Ki.toasts,T5=()=>Ki.getActiveToasts(),Un=Object.assign(w5,{success:Ki.success,info:Ki.info,warning:Ki.warning,error:Ki.error,custom:Ki.custom,message:Ki.message,promise:Ki.promise,dismiss:Ki.dismiss,loading:Ki.loading},{getHistory:R5,getToasts:T5});d5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Cb(e){return e.label!==void 0}const N5=3,_5="24px",I5="16px",PT=4e3,O5=356,D5=14,M5=45,P5=200;function Sa(...e){return e.filter(Boolean).join(" ")}function L5(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const F5=e=>{var t,n,r,i,s,l,u,c,g;const{invert:p,toast:m,unstyled:x,interacting:b,setHeights:E,visibleToasts:w,heights:C,index:R,toasts:T,expanded:_,removeToast:D,defaultRichColors:F,closeButton:B,style:j,cancelButtonStyle:k,actionButtonStyle:$,className:Z="",descriptionClassName:ne="",duration:re,position:he,gap:Ce,expandByDefault:_e,classNames:ie,icons:Ae,closeButtonAriaLabel:de="Close toast"}=e,[ue,K]=Ke.useState(null),[oe,pe]=Ke.useState(null),[z,U]=Ke.useState(!1),[G,W]=Ke.useState(!1),[Q,X]=Ke.useState(!1),[J,se]=Ke.useState(!1),[xe,be]=Ke.useState(!1),[ae,le]=Ke.useState(0),[we,De]=Ke.useState(0),je=Ke.useRef(m.duration||re||PT),Ue=Ke.useRef(null),ve=Ke.useRef(null),Pe=R===0,Ze=R+1<=w,pt=m.type,gt=m.dismissible!==!1,me=m.className||"",Ie=m.descriptionClassName||"",qe=Ke.useMemo(()=>C.findIndex(rt=>rt.toastId===m.id)||0,[C,m.id]),Ye=Ke.useMemo(()=>{var rt;return(rt=m.closeButton)!=null?rt:B},[m.closeButton,B]),tt=Ke.useMemo(()=>m.duration||re||PT,[m.duration,re]),lt=Ke.useRef(0),xt=Ke.useRef(0),Rt=Ke.useRef(0),It=Ke.useRef(null),[ln,ke]=he.split("-"),nt=Ke.useMemo(()=>C.reduce((rt,cn,Qt)=>Qt>=qe?rt:rt+cn.height,0),[C,qe]),mt=S5(),At=m.invert||p,Dt=pt==="loading";xt.current=Ke.useMemo(()=>qe*Ce+nt,[qe,nt]),Ke.useEffect(()=>{je.current=tt},[tt]),Ke.useEffect(()=>{U(!0)},[]),Ke.useEffect(()=>{const rt=ve.current;if(rt){const cn=rt.getBoundingClientRect().height;return De(cn),E(Qt=>[{toastId:m.id,height:cn,position:m.position},...Qt]),()=>E(Qt=>Qt.filter(rn=>rn.toastId!==m.id))}},[E,m.id]),Ke.useLayoutEffect(()=>{if(!z)return;const rt=ve.current,cn=rt.style.height;rt.style.height="auto";const Qt=rt.getBoundingClientRect().height;rt.style.height=cn,De(Qt),E(rn=>rn.find(qt=>qt.toastId===m.id)?rn.map(qt=>qt.toastId===m.id?{...qt,height:Qt}:qt):[{toastId:m.id,height:Qt,position:m.position},...rn])},[z,m.title,m.description,E,m.id]);const xn=Ke.useCallback(()=>{W(!0),le(xt.current),E(rt=>rt.filter(cn=>cn.toastId!==m.id)),setTimeout(()=>{D(m)},P5)},[m,D,E,xt]);Ke.useEffect(()=>{if(m.promise&&pt==="loading"||m.duration===1/0||m.type==="loading")return;let rt;return _||b||mt?(()=>{if(Rt.current<lt.current){const rn=new Date().getTime()-lt.current;je.current=je.current-rn}Rt.current=new Date().getTime()})():(()=>{je.current!==1/0&&(lt.current=new Date().getTime(),rt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),xn()},je.current))})(),()=>clearTimeout(rt)},[_,b,m,pt,mt,xn]),Ke.useEffect(()=>{m.delete&&xn()},[xn,m.delete]);function jn(){var rt;if(Ae!=null&&Ae.loading){var cn;return Ke.createElement("div",{className:Sa(ie==null?void 0:ie.loader,m==null||(cn=m.classNames)==null?void 0:cn.loader,"sonner-loader"),"data-visible":pt==="loading"},Ae.loading)}return Ke.createElement(g5,{className:Sa(ie==null?void 0:ie.loader,m==null||(rt=m.classNames)==null?void 0:rt.loader),visible:pt==="loading"})}const qn=m.icon||(Ae==null?void 0:Ae[pt])||h5(pt);var un,er;return Ke.createElement("li",{tabIndex:0,ref:ve,className:Sa(Z,me,ie==null?void 0:ie.toast,m==null||(t=m.classNames)==null?void 0:t.toast,ie==null?void 0:ie.default,ie==null?void 0:ie[pt],m==null||(n=m.classNames)==null?void 0:n[pt]),"data-sonner-toast":"","data-rich-colors":(un=m.richColors)!=null?un:F,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":z,"data-promise":!!m.promise,"data-swiped":xe,"data-removed":G,"data-visible":Ze,"data-y-position":ln,"data-x-position":ke,"data-index":R,"data-front":Pe,"data-swiping":Q,"data-dismissible":gt,"data-type":pt,"data-invert":At,"data-swipe-out":J,"data-swipe-direction":oe,"data-expanded":!!(_||_e&&z),style:{"--index":R,"--toasts-before":R,"--z-index":T.length-R,"--offset":`${G?ae:xt.current}px`,"--initial-height":_e?"auto":`${we}px`,...j,...m.style},onDragEnd:()=>{X(!1),K(null),It.current=null},onPointerDown:rt=>{Dt||!gt||(Ue.current=new Date,le(xt.current),rt.target.setPointerCapture(rt.pointerId),rt.target.tagName!=="BUTTON"&&(X(!0),It.current={x:rt.clientX,y:rt.clientY}))},onPointerUp:()=>{var rt,cn,Qt;if(J||!gt)return;It.current=null;const rn=Number(((rt=ve.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),vr=Number(((cn=ve.current)==null?void 0:cn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qt=new Date().getTime()-((Qt=Ue.current)==null?void 0:Qt.getTime()),Bt=ue==="x"?rn:vr,fn=Math.abs(Bt)/qt;if(Math.abs(Bt)>=M5||fn>.11){le(xt.current),m.onDismiss==null||m.onDismiss.call(m,m),pe(ue==="x"?rn>0?"right":"left":vr>0?"down":"up"),xn(),se(!0);return}else{var Lt,wn;(Lt=ve.current)==null||Lt.style.setProperty("--swipe-amount-x","0px"),(wn=ve.current)==null||wn.style.setProperty("--swipe-amount-y","0px")}be(!1),X(!1),K(null)},onPointerMove:rt=>{var cn,Qt,rn;if(!It.current||!gt||((cn=window.getSelection())==null?void 0:cn.toString().length)>0)return;const qt=rt.clientY-It.current.y,Bt=rt.clientX-It.current.x;var fn;const Lt=(fn=e.swipeDirections)!=null?fn:L5(he);!ue&&(Math.abs(Bt)>1||Math.abs(qt)>1)&&K(Math.abs(Bt)>Math.abs(qt)?"x":"y");let wn={x:0,y:0};const Di=Sr=>1/(1.5+Math.abs(Sr)/20);if(ue==="y"){if(Lt.includes("top")||Lt.includes("bottom"))if(Lt.includes("top")&&qt<0||Lt.includes("bottom")&&qt>0)wn.y=qt;else{const Sr=qt*Di(qt);wn.y=Math.abs(Sr)<Math.abs(qt)?Sr:qt}}else if(ue==="x"&&(Lt.includes("left")||Lt.includes("right")))if(Lt.includes("left")&&Bt<0||Lt.includes("right")&&Bt>0)wn.x=Bt;else{const Sr=Bt*Di(Bt);wn.x=Math.abs(Sr)<Math.abs(Bt)?Sr:Bt}(Math.abs(wn.x)>0||Math.abs(wn.y)>0)&&be(!0),(Qt=ve.current)==null||Qt.style.setProperty("--swipe-amount-x",`${wn.x}px`),(rn=ve.current)==null||rn.style.setProperty("--swipe-amount-y",`${wn.y}px`)}},Ye&&!m.jsx&&pt!=="loading"?Ke.createElement("button",{"aria-label":de,"data-disabled":Dt,"data-close-button":!0,onClick:Dt||!gt?()=>{}:()=>{xn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Sa(ie==null?void 0:ie.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(er=Ae==null?void 0:Ae.close)!=null?er:b5):null,(pt||m.icon||m.promise)&&m.icon!==null&&((Ae==null?void 0:Ae[pt])!==null||m.icon)?Ke.createElement("div",{"data-icon":"",className:Sa(ie==null?void 0:ie.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||jn():null,m.type!=="loading"?qn:null):null,Ke.createElement("div",{"data-content":"",className:Sa(ie==null?void 0:ie.content,m==null||(s=m.classNames)==null?void 0:s.content)},Ke.createElement("div",{"data-title":"",className:Sa(ie==null?void 0:ie.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Ke.createElement("div",{"data-description":"",className:Sa(ne,Ie,ie==null?void 0:ie.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),Ke.isValidElement(m.cancel)?m.cancel:m.cancel&&Cb(m.cancel)?Ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||k,onClick:rt=>{Cb(m.cancel)&&gt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,rt),xn())},className:Sa(ie==null?void 0:ie.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,Ke.isValidElement(m.action)?m.action:m.action&&Cb(m.action)?Ke.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||$,onClick:rt=>{Cb(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,rt),!rt.defaultPrevented&&xn())},className:Sa(ie==null?void 0:ie.actionButton,m==null||(g=m.classNames)==null?void 0:g.actionButton)},m.action.label):null)};function LT(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function k5(e,t){const n={};return[e,t].forEach((r,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",u=s?I5:_5;function c(g){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?n[`${l}-${g}`]=u:n[`${l}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):c(u)}),n}const B5=Ke.forwardRef(function(t,n){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:l,closeButton:u,className:c,offset:g,mobileOffset:p,theme:m="light",richColors:x,duration:b,style:E,visibleToasts:w=N5,toastOptions:C,dir:R=LT(),gap:T=D5,icons:_,containerAriaLabel:D="Notifications"}=t,[F,B]=Ke.useState([]),j=Ke.useMemo(()=>Array.from(new Set([i].concat(F.filter(oe=>oe.position).map(oe=>oe.position)))),[F,i]),[k,$]=Ke.useState([]),[Z,ne]=Ke.useState(!1),[re,he]=Ke.useState(!1),[Ce,_e]=Ke.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=Ke.useRef(null),Ae=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=Ke.useRef(null),ue=Ke.useRef(!1),K=Ke.useCallback(oe=>{B(pe=>{var z;return(z=pe.find(U=>U.id===oe.id))!=null&&z.delete||Ki.dismiss(oe.id),pe.filter(({id:U})=>U!==oe.id)})},[]);return Ke.useEffect(()=>Ki.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{B(pe=>pe.map(z=>z.id===oe.id?{...z,delete:!0}:z))});return}setTimeout(()=>{K3.flushSync(()=>{B(pe=>{const z=pe.findIndex(U=>U.id===oe.id);return z!==-1?[...pe.slice(0,z),{...pe[z],...oe},...pe.slice(z+1)]:[oe,...pe]})})})}),[F]),Ke.useEffect(()=>{if(m!=="system"){_e(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_e("dark"):_e("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:pe})=>{_e(pe?"dark":"light")})}catch{oe.addListener(({matches:z})=>{try{_e(z?"dark":"light")}catch(U){console.error(U)}})}},[m]),Ke.useEffect(()=>{F.length<=1&&ne(!1)},[F]),Ke.useEffect(()=>{const oe=pe=>{var z;if(s.every(W=>pe[W]||pe.code===W)){var G;ne(!0),(G=ie.current)==null||G.focus()}pe.code==="Escape"&&(document.activeElement===ie.current||(z=ie.current)!=null&&z.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[s]),Ke.useEffect(()=>{if(ie.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,ue.current=!1)}},[ie.current]),Ke.createElement("section",{ref:n,"aria-label":`${D} ${Ae}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((oe,pe)=>{var z;const[U,G]=oe.split("-");return F.length?Ke.createElement("ol",{key:oe,dir:R==="auto"?LT():R,tabIndex:-1,ref:ie,className:c,"data-sonner-toaster":!0,"data-sonner-theme":Ce,"data-y-position":U,"data-lifted":Z&&F.length>1&&!l,"data-x-position":G,style:{"--front-toast-height":`${((z=k[0])==null?void 0:z.height)||0}px`,"--width":`${O5}px`,"--gap":`${T}px`,...E,...k5(g,p)},onBlur:W=>{ue.current&&!W.currentTarget.contains(W.relatedTarget)&&(ue.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,de.current=W.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{re||ne(!1)},onDragEnd:()=>ne(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||he(!0)},onPointerUp:()=>he(!1)},F.filter(W=>!W.position&&pe===0||W.position===oe).map((W,Q)=>{var X,J;return Ke.createElement(F5,{key:W.id,icons:_,index:Q,toast:W,defaultRichColors:x,duration:(X=C==null?void 0:C.duration)!=null?X:b,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:w,closeButton:(J=C==null?void 0:C.closeButton)!=null?J:u,interacting:re,position:oe,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:K,toasts:F.filter(se=>se.position==W.position),heights:k.filter(se=>se.position==W.position),setHeights:$,expandByDefault:l,gap:T,expanded:Z,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),FT=e=>{const t=z5(e);return t.charAt(0).toUpperCase()+t.slice(1)},uM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),U5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},c)=>P.createElement("svg",{ref:c,...V5,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:uM("lucide",i),...!s&&!U5(u)&&{"aria-hidden":"true"},...u},[...l.map(([g,p])=>P.createElement(g,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=(e,t)=>{const n=P.forwardRef(({className:r,...i},s)=>P.createElement(G5,{ref:s,iconNode:t,className:uM(`lucide-${j5(FT(e))}`,`lucide-${e}`,r),...i}));return n.displayName=FT(e),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],H5=Xi("check",$5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cM=Xi("chevron-down",W5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],q5=Xi("chevron-up",Y5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],X5=Xi("circle-check",K5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],J5=Xi("circle-x",Z5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],fM=Xi("ellipsis",Q5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]],dM=Xi("grid-2x2-plus",eU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hM=Xi("loader-circle",tU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],rU=Xi("panel-left",nU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],pM=Xi("pencil",iU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gM=Xi("plus",oU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],aU=Xi("plug",sU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],mM=Xi("trash-2",lU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vM=Xi("x",uU);function yM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=yM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xM(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=yM(e))&&(r&&(r+=" "),r+=t);return r}const v2="-",cU=e=>{const t=dU(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(v2);return u[0]===""&&u.length!==1&&u.shift(),bM(u,t)||fU(l)},getConflictingClassGroupIds:(l,u)=>{const c=n[l]||[];return u&&r[l]?[...c,...r[l]]:c}}},bM=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?bM(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(v2);return(l=t.validators.find(({validator:u})=>u(s)))==null?void 0:l.classGroupId},kT=/^\[(.+)\]$/,fU=e=>{if(kT.test(e)){const t=kT.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},dU=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)gw(n[i],r,i,t);return r},gw=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:BT(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(hU(i)){gw(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,l])=>{gw(l,BT(t,s),n,r)})})},BT=(e,t)=>{let n=e;return t.split(v2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},hU=e=>e.isThemeGetter,pU=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,l)=>{n.set(s,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){n.has(s)?n.set(s,l):i(s,l)}}},mw="!",vw=":",gU=vw.length,mU=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let l=0,u=0,c=0,g;for(let E=0;E<i.length;E++){let w=i[E];if(l===0&&u===0){if(w===vw){s.push(i.slice(c,E)),c=E+gU;continue}if(w==="/"){g=E;continue}}w==="["?l++:w==="]"?l--:w==="("?u++:w===")"&&u--}const p=s.length===0?i:i.substring(c),m=vU(p),x=m!==p,b=g&&g>c?g-c:void 0;return{modifiers:s,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:b}};if(t){const i=t+vw,s=r;r=l=>l.startsWith(i)?s(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},vU=e=>e.endsWith(mw)?e.substring(0,e.length-1):e.startsWith(mw)?e.substring(1):e,yU=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(l=>{l[0]==="["||t[l]?(i.push(...s.sort(),l),s=[]):s.push(l)}),i.push(...s.sort()),i}},xU=e=>({cache:pU(e.cacheSize),parseClassName:mU(e),sortModifiers:yU(e),...cU(e)}),bU=/\s+/,SU=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,l=[],u=e.trim().split(bU);let c="";for(let g=u.length-1;g>=0;g-=1){const p=u[g],{isExternal:m,modifiers:x,hasImportantModifier:b,baseClassName:E,maybePostfixModifierPosition:w}=n(p);if(m){c=p+(c.length>0?" "+c:c);continue}let C=!!w,R=r(C?E.substring(0,w):E);if(!R){if(!C){c=p+(c.length>0?" "+c:c);continue}if(R=r(E),!R){c=p+(c.length>0?" "+c:c);continue}C=!1}const T=s(x).join(":"),_=b?T+mw:T,D=_+R;if(l.includes(D))continue;l.push(D);const F=i(R,C);for(let B=0;B<F.length;++B){const j=F[B];l.push(_+j)}c=p+(c.length>0?" "+c:c)}return c};function AU(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=SM(t))&&(r&&(r+=" "),r+=n);return r}const SM=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=SM(e[r]))&&(n&&(n+=" "),n+=t);return n};function EU(e,...t){let n,r,i,s=l;function l(c){const g=t.reduce((p,m)=>m(p),e());return n=xU(g),r=n.cache.get,i=n.cache.set,s=u,u(c)}function u(c){const g=r(c);if(g)return g;const p=SU(c,n);return i(c,p),p}return function(){return s(AU.apply(null,arguments))}}const Or=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},AM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,EM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,CU=/^\d+\/\d+$/,wU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_U=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kp=e=>CU.test(e),Xt=e=>!!e&&!Number.isNaN(Number(e)),_c=e=>!!e&&Number.isInteger(Number(e)),LA=e=>e.endsWith("%")&&Xt(e.slice(0,-1)),xl=e=>wU.test(e),IU=()=>!0,OU=e=>RU.test(e)&&!TU.test(e),CM=()=>!1,DU=e=>NU.test(e),MU=e=>_U.test(e),PU=e=>!ct(e)&&!ft(e),LU=e=>Cg(e,TM,CM),ct=e=>AM.test(e),ed=e=>Cg(e,NM,OU),FA=e=>Cg(e,zU,Xt),jT=e=>Cg(e,wM,CM),FU=e=>Cg(e,RM,MU),wb=e=>Cg(e,_M,DU),ft=e=>EM.test(e),P0=e=>wg(e,NM),kU=e=>wg(e,UU),zT=e=>wg(e,wM),BU=e=>wg(e,TM),jU=e=>wg(e,RM),Rb=e=>wg(e,_M,!0),Cg=(e,t,n)=>{const r=AM.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},wg=(e,t,n=!1)=>{const r=EM.exec(e);return r?r[1]?t(r[1]):n:!1},wM=e=>e==="position"||e==="percentage",RM=e=>e==="image"||e==="url",TM=e=>e==="length"||e==="size"||e==="bg-size",NM=e=>e==="length",zU=e=>e==="number",UU=e=>e==="family-name",_M=e=>e==="shadow",VU=()=>{const e=Or("color"),t=Or("font"),n=Or("text"),r=Or("font-weight"),i=Or("tracking"),s=Or("leading"),l=Or("breakpoint"),u=Or("container"),c=Or("spacing"),g=Or("radius"),p=Or("shadow"),m=Or("inset-shadow"),x=Or("text-shadow"),b=Or("drop-shadow"),E=Or("blur"),w=Or("perspective"),C=Or("aspect"),R=Or("ease"),T=Or("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...D(),ft,ct],B=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],k=()=>[ft,ct,c],$=()=>[kp,"full","auto",...k()],Z=()=>[_c,"none","subgrid",ft,ct],ne=()=>["auto",{span:["full",_c,ft,ct]},_c,ft,ct],re=()=>[_c,"auto",ft,ct],he=()=>["auto","min","max","fr",ft,ct],Ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],_e=()=>["start","end","center","stretch","center-safe","end-safe"],ie=()=>["auto",...k()],Ae=()=>[kp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],de=()=>[e,ft,ct],ue=()=>[...D(),zT,jT,{position:[ft,ct]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],oe=()=>["auto","cover","contain",BU,LU,{size:[ft,ct]}],pe=()=>[LA,P0,ed],z=()=>["","none","full",g,ft,ct],U=()=>["",Xt,P0,ed],G=()=>["solid","dashed","dotted","double"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[Xt,LA,zT,jT],X=()=>["","none",E,ft,ct],J=()=>["none",Xt,ft,ct],se=()=>["none",Xt,ft,ct],xe=()=>[Xt,ft,ct],be=()=>[kp,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xl],breakpoint:[xl],color:[IU],container:[xl],"drop-shadow":[xl],ease:["in","out","in-out"],font:[PU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xl],shadow:[xl],spacing:["px",Xt],text:[xl],"text-shadow":[xl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",kp,ct,ft,C]}],container:["container"],columns:[{columns:[Xt,ct,ft,u]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[_c,"auto",ft,ct]}],basis:[{basis:[kp,"full","auto",u,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xt,kp,"auto","initial","none",ct]}],grow:[{grow:["",Xt,ft,ct]}],shrink:[{shrink:["",Xt,ft,ct]}],order:[{order:[_c,"first","last","none",ft,ct]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:ne()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:ne()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":he()}],"auto-rows":[{"auto-rows":he()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...Ce(),"normal"]}],"justify-items":[{"justify-items":[..._e(),"normal"]}],"justify-self":[{"justify-self":["auto",..._e()]}],"align-content":[{content:["normal",...Ce()]}],"align-items":[{items:[..._e(),{baseline:["","last"]}]}],"align-self":[{self:["auto",..._e(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ce()}],"place-items":[{"place-items":[..._e(),"baseline"]}],"place-self":[{"place-self":["auto",..._e()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:ie()}],mx:[{mx:ie()}],my:[{my:ie()}],ms:[{ms:ie()}],me:[{me:ie()}],mt:[{mt:ie()}],mr:[{mr:ie()}],mb:[{mb:ie()}],ml:[{ml:ie()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ae()}],w:[{w:[u,"screen",...Ae()]}],"min-w":[{"min-w":[u,"screen","none",...Ae()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Ae()]}],h:[{h:["screen",...Ae()]}],"min-h":[{"min-h":["screen","none",...Ae()]}],"max-h":[{"max-h":["screen",...Ae()]}],"font-size":[{text:["base",n,P0,ed]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ft,FA]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",LA,ct]}],"font-family":[{font:[kU,ct,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ft,ct]}],"line-clamp":[{"line-clamp":[Xt,"none",ft,FA]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",ft,ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ft,ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:de()}],"text-color":[{text:de()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xt,"from-font","auto",ft,ed]}],"text-decoration-color":[{decoration:de()}],"underline-offset":[{"underline-offset":[Xt,"auto",ft,ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft,ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft,ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_c,ft,ct],radial:["",ft,ct],conic:[_c,ft,ct]},jU,FU]}],"bg-color":[{bg:de()}],"gradient-from-pos":[{from:pe()}],"gradient-via-pos":[{via:pe()}],"gradient-to-pos":[{to:pe()}],"gradient-from":[{from:de()}],"gradient-via":[{via:de()}],"gradient-to":[{to:de()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:de()}],"border-color-x":[{"border-x":de()}],"border-color-y":[{"border-y":de()}],"border-color-s":[{"border-s":de()}],"border-color-e":[{"border-e":de()}],"border-color-t":[{"border-t":de()}],"border-color-r":[{"border-r":de()}],"border-color-b":[{"border-b":de()}],"border-color-l":[{"border-l":de()}],"divide-color":[{divide:de()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xt,ft,ct]}],"outline-w":[{outline:["",Xt,P0,ed]}],"outline-color":[{outline:de()}],shadow:[{shadow:["","none",p,Rb,wb]}],"shadow-color":[{shadow:de()}],"inset-shadow":[{"inset-shadow":["none",m,Rb,wb]}],"inset-shadow-color":[{"inset-shadow":de()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:de()}],"ring-offset-w":[{"ring-offset":[Xt,ed]}],"ring-offset-color":[{"ring-offset":de()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":de()}],"text-shadow":[{"text-shadow":["none",x,Rb,wb]}],"text-shadow-color":[{"text-shadow":de()}],opacity:[{opacity:[Xt,ft,ct]}],"mix-blend":[{"mix-blend":[...W(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":W()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":de()}],"mask-image-linear-to-color":[{"mask-linear-to":de()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":de()}],"mask-image-t-to-color":[{"mask-t-to":de()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":de()}],"mask-image-r-to-color":[{"mask-r-to":de()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":de()}],"mask-image-b-to-color":[{"mask-b-to":de()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":de()}],"mask-image-l-to-color":[{"mask-l-to":de()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":de()}],"mask-image-x-to-color":[{"mask-x-to":de()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":de()}],"mask-image-y-to-color":[{"mask-y-to":de()}],"mask-image-radial":[{"mask-radial":[ft,ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":de()}],"mask-image-radial-to-color":[{"mask-radial-to":de()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Xt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":de()}],"mask-image-conic-to-color":[{"mask-conic-to":de()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ft,ct]}],filter:[{filter:["","none",ft,ct]}],blur:[{blur:X()}],brightness:[{brightness:[Xt,ft,ct]}],contrast:[{contrast:[Xt,ft,ct]}],"drop-shadow":[{"drop-shadow":["","none",b,Rb,wb]}],"drop-shadow-color":[{"drop-shadow":de()}],grayscale:[{grayscale:["",Xt,ft,ct]}],"hue-rotate":[{"hue-rotate":[Xt,ft,ct]}],invert:[{invert:["",Xt,ft,ct]}],saturate:[{saturate:[Xt,ft,ct]}],sepia:[{sepia:["",Xt,ft,ct]}],"backdrop-filter":[{"backdrop-filter":["","none",ft,ct]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[Xt,ft,ct]}],"backdrop-contrast":[{"backdrop-contrast":[Xt,ft,ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xt,ft,ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xt,ft,ct]}],"backdrop-invert":[{"backdrop-invert":["",Xt,ft,ct]}],"backdrop-opacity":[{"backdrop-opacity":[Xt,ft,ct]}],"backdrop-saturate":[{"backdrop-saturate":[Xt,ft,ct]}],"backdrop-sepia":[{"backdrop-sepia":["",Xt,ft,ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ft,ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xt,"initial",ft,ct]}],ease:[{ease:["linear","initial",R,ft,ct]}],delay:[{delay:[Xt,ft,ct]}],animate:[{animate:["none",T,ft,ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ft,ct]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[ft,ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:de()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:de()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft,ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft,ct]}],fill:[{fill:["none",...de()]}],"stroke-w":[{stroke:[Xt,P0,ed,FA]}],stroke:[{stroke:["none",...de()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},GU=EU(VU);function St(...e){return GU(xM(e))}function UT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function FS(...e){return t=>{let n=!1;const r=e.map(i=>{const s=UT(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():UT(e[i],null)}}}}function Cn(...e){return P.useCallback(FS(...e),e)}function Xc(e){const t=$U(e),n=P.forwardRef((r,i)=>{const{children:s,...l}=r,u=P.Children.toArray(s),c=u.find(WU);if(c){const g=c.props.children,p=u.map(m=>m===c?P.Children.count(g)>1?P.Children.only(null):P.isValidElement(g)?g.props.children:null:m);return O.jsx(t,{...l,ref:i,children:P.isValidElement(g)?P.cloneElement(g,void 0,p):null})}return O.jsx(t,{...l,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var y2=Xc("Slot");function $U(e){const t=P.forwardRef((n,r)=>{const{children:i,...s}=n;if(P.isValidElement(i)){const l=qU(i),u=YU(s,i.props);return i.type!==P.Fragment&&(u.ref=r?FS(r,l):l),P.cloneElement(i,u)}return P.Children.count(i)>1?P.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IM=Symbol("radix.slottable");function HU(e){const t=({children:n})=>O.jsx(O.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=IM,t}function WU(e){return P.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IM}function YU(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...u)=>{s(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function qU(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const VT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,GT=xM,kS=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return GT(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,l=Object.keys(i).map(g=>{const p=n==null?void 0:n[g],m=s==null?void 0:s[g];if(p===null)return null;const x=VT(p)||VT(m);return i[g][x]}),u=n&&Object.entries(n).reduce((g,p)=>{let[m,x]=p;return x===void 0||(g[m]=x),g},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((g,p)=>{let{class:m,className:x,...b}=p;return Object.entries(b).every(E=>{let[w,C]=E;return Array.isArray(C)?C.includes({...s,...u}[w]):{...s,...u}[w]===C})?[...g,m,x]:g},[]);return GT(e,l,c,n==null?void 0:n.class,n==null?void 0:n.className)},KU=kS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function rr({className:e,variant:t,size:n,asChild:r=!1,...i}){const s=r?y2:"button";return O.jsx(s,{"data-slot":"button",className:St("cursor-pointer",KU({variant:t,size:n,className:e})),...i})}function XU({className:e,...t}){return O.jsxs("form",{className:St("flex flex-col gap-6",e),...t,children:[O.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[O.jsx("h1",{className:"text-2xl font-bold",children:"Login to Wafflebase"}),O.jsx("p",{className:"text-balance text-sm text-muted-foreground",children:"Wafflebase with your GitHub account."})]}),O.jsx("div",{className:"grid gap-6",children:O.jsx(rr,{variant:"outline",className:"w-full",asChild:!0,children:O.jsxs(Ag,{to:"https://wafflebase-api.yorkie.dev/auth/github",rel:"noopener noreferrer",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:O.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12",fill:"currentColor"})}),"Login with GitHub"]})})})]})}function ZU(){return O.jsx("div",{className:"grid min-h-svh",children:O.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[O.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:O.jsxs("a",{href:"#",className:"flex items-center gap-2 font-medium",children:[O.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-primary text-primary-foreground",children:O.jsx(dM,{className:"!size-5"})}),"Wafflebase"]})}),O.jsx("div",{className:"flex flex-1 items-center justify-center",children:O.jsx("div",{className:"w-full max-w-xs",children:O.jsx(XU,{})})})]})})}async function OM(){if(!(await fetch("https://wafflebase-api.yorkie.dev/auth/logout",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to log out");Un.success("Logged out successfully"),window.location.href="/login"}async function Sh(){const e=await Ii("https://wafflebase-api.yorkie.dev/auth/me",{method:"GET",credentials:"include"});if(!e.ok)throw new Error("Failed to fetch user");return e.json()}async function Ii(e,t){const n=await fetch(e,{...t,credentials:"include"});if(n.status===401)throw await OM(),new Error("Unauthorized");return n}async function JU(e){const t=await Ii("https://wafflebase-api.yorkie.dev/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create document");return t.json()}async function QU(){const e=await Ii("https://wafflebase-api.yorkie.dev/documents");if(!e.ok)throw new Error("Failed to fetch documents");return await e.json()}async function eV(e){const t=await Ii(`https://wafflebase-api.yorkie.dev/documents/${e}`);if(!t.ok)throw new Error("Failed to fetch document");const n=await t.json();if(!n)throw new Error("Document not found");return n}async function DM(e,t){const n=await Ii(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})});if(!n.ok)throw new Error("Failed to rename document");return n.json()}async function tV(e){if((await Ii(`https://wafflebase-api.yorkie.dev/documents/${e}`,{method:"DELETE"})).ok)Un.success("Document deleted successfully");else throw Un.error("Failed to delete document"),new Error("Failed to delete document")}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function qc(e,t){return typeof e=="function"?e(t):e}function xo(e,t){return n=>{t.setState(r=>({...r,[e]:qc(n,r[e])}))}}function BS(e){return e instanceof Function}function nV(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function rV(e,t){const n=[],r=i=>{i.forEach(s=>{n.push(s);const l=t(s);l!=null&&l.length&&r(l)})};return r(e),n}function Nt(e,t,n){let r=[],i;return s=>{let l;n.key&&n.debug&&(l=Date.now());const u=e(s);if(!(u.length!==r.length||u.some((p,m)=>r[m]!==p)))return i;r=u;let g;if(n.key&&n.debug&&(g=Date.now()),i=t(...u),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-l)*100)/100,m=Math.round((Date.now()-g)*100)/100,x=m/16,b=(E,w)=>{for(E=String(E);E.length<w;)E=" "+E;return E};console.info(`%c ${b(m,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function _t(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function iV(e,t,n,r){const i=()=>{var l;return(l=s.getValue())!=null?l:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:Nt(()=>[e,n,t,s],(l,u,c,g)=>({table:l,column:u,row:c,cell:g,getValue:g.getValue,renderValue:g.renderValue}),_t(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(s,n,t,e)},{}),s}function oV(e,t,n,r){var i,s;const u={...e._getDefaultColumnDef(),...t},c=u.accessorKey;let g=(i=(s=u.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof u.header=="string"?u.header:void 0,p;if(u.accessorFn?p=u.accessorFn:c&&(c.includes(".")?p=x=>{let b=x;for(const w of c.split(".")){var E;b=(E=b)==null?void 0:E[w]}return b}:p=x=>x[u.accessorKey]),!g)throw new Error;let m={id:`${String(g)}`,accessorFn:p,parent:r,depth:n,columnDef:u,columns:[],getFlatColumns:Nt(()=>[!0],()=>{var x;return[m,...(x=m.columns)==null?void 0:x.flatMap(b=>b.getFlatColumns())]},_t(e.options,"debugColumns")),getLeafColumns:Nt(()=>[e._getOrderColumnsFn()],x=>{var b;if((b=m.columns)!=null&&b.length){let E=m.columns.flatMap(w=>w.getLeafColumns());return x(E)}return[m]},_t(e.options,"debugColumns"))};for(const x of e._features)x.createColumn==null||x.createColumn(m,e);return m}const gi="debugHeaders";function $T(e,t,n){var r;let s={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],u=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(u),l.push(c)};return u(s),l},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(s,e)}),s}const sV={createTable:e=>{e.getHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var s,l;const u=(s=r==null?void 0:r.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?s:[],c=(l=i==null?void 0:i.map(m=>n.find(x=>x.id===m)).filter(Boolean))!=null?l:[],g=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(i!=null&&i.includes(m.id)));return Tb(t,[...u,...g,...c],e)},_t(e.options,gi)),e.getCenterHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),Tb(t,n,e,"center")),_t(e.options,gi)),e.getLeftHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(l=>n.find(u=>u.id===l)).filter(Boolean))!=null?i:[];return Tb(t,s,e,"left")},_t(e.options,gi)),e.getRightHeaderGroups=Nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(l=>n.find(u=>u.id===l)).filter(Boolean))!=null?i:[];return Tb(t,s,e,"right")},_t(e.options,gi)),e.getFooterGroups=Nt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),_t(e.options,gi)),e.getLeftFooterGroups=Nt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),_t(e.options,gi)),e.getCenterFooterGroups=Nt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),_t(e.options,gi)),e.getRightFooterGroups=Nt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),_t(e.options,gi)),e.getFlatHeaders=Nt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,gi)),e.getLeftFlatHeaders=Nt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,gi)),e.getCenterFlatHeaders=Nt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,gi)),e.getRightFlatHeaders=Nt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,gi)),e.getCenterLeafHeaders=Nt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,gi)),e.getLeftLeafHeaders=Nt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,gi)),e.getRightLeafHeaders=Nt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,gi)),e.getLeafHeaders=Nt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,s,l,u,c,g;return[...(i=(s=t[0])==null?void 0:s.headers)!=null?i:[],...(l=(u=n[0])==null?void 0:u.headers)!=null?l:[],...(c=(g=r[0])==null?void 0:g.headers)!=null?c:[]].map(p=>p.getLeafHeaders()).flat()},_t(e.options,gi))}};function Tb(e,t,n,r){var i,s;let l=0;const u=function(x,b){b===void 0&&(b=1),l=Math.max(l,b),x.filter(E=>E.getIsVisible()).forEach(E=>{var w;(w=E.columns)!=null&&w.length&&u(E.columns,b+1)},0)};u(e);let c=[];const g=(x,b)=>{const E={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},w=[];x.forEach(C=>{const R=[...w].reverse()[0],T=C.column.depth===E.depth;let _,D=!1;if(T&&C.column.parent?_=C.column.parent:(_=C.column,D=!0),R&&(R==null?void 0:R.column)===_)R.subHeaders.push(C);else{const F=$T(n,_,{id:[r,b,_.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${w.filter(B=>B.column===_).length}`:void 0,depth:b,index:w.length});F.subHeaders.push(C),w.push(F)}E.headers.push(C),C.headerGroup=E}),c.push(E),b>0&&g(w,b-1)},p=t.map((x,b)=>$T(n,x,{depth:l,index:b}));g(p,l-1),c.reverse();const m=x=>x.filter(E=>E.column.getIsVisible()).map(E=>{let w=0,C=0,R=[0];E.subHeaders&&E.subHeaders.length?(R=[],m(E.subHeaders).forEach(_=>{let{colSpan:D,rowSpan:F}=_;w+=D,R.push(F)})):w=1;const T=Math.min(...R);return C=C+T,E.colSpan=w,E.rowSpan=C,{colSpan:w,rowSpan:C}});return m((i=(s=c[0])==null?void 0:s.headers)!=null?i:[]),c}const x2=(e,t,n,r,i,s,l)=>{let u={id:t,index:r,original:n,depth:i,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(u._valuesCache.hasOwnProperty(c))return u._valuesCache[c];const g=e.getColumn(c);if(g!=null&&g.accessorFn)return u._valuesCache[c]=g.accessorFn(u.original,r),u._valuesCache[c]},getUniqueValues:c=>{if(u._uniqueValuesCache.hasOwnProperty(c))return u._uniqueValuesCache[c];const g=e.getColumn(c);if(g!=null&&g.accessorFn)return g.columnDef.getUniqueValues?(u._uniqueValuesCache[c]=g.columnDef.getUniqueValues(u.original,r),u._uniqueValuesCache[c]):(u._uniqueValuesCache[c]=[u.getValue(c)],u._uniqueValuesCache[c])},renderValue:c=>{var g;return(g=u.getValue(c))!=null?g:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>rV(u.subRows,c=>c.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let c=[],g=u;for(;;){const p=g.getParentRow();if(!p)break;c.push(p),g=p}return c.reverse()},getAllCells:Nt(()=>[e.getAllLeafColumns()],c=>c.map(g=>iV(e,u,g,g.id)),_t(e.options,"debugRows")),_getAllCellsByColumnId:Nt(()=>[u.getAllCells()],c=>c.reduce((g,p)=>(g[p.column.id]=p,g),{}),_t(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const g=e._features[c];g==null||g.createRow==null||g.createRow(u,e)}return u},aV={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},MM=(e,t,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};MM.autoRemove=e=>Is(e);const PM=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};PM.autoRemove=e=>Is(e);const LM=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};LM.autoRemove=e=>Is(e);const FM=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};FM.autoRemove=e=>Is(e);const kM=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});kM.autoRemove=e=>Is(e)||!(e!=null&&e.length);const BM=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});BM.autoRemove=e=>Is(e)||!(e!=null&&e.length);const jM=(e,t,n)=>e.getValue(t)===n;jM.autoRemove=e=>Is(e);const zM=(e,t,n)=>e.getValue(t)==n;zM.autoRemove=e=>Is(e);const b2=(e,t,n)=>{let[r,i]=n;const s=e.getValue(t);return s>=r&&s<=i};b2.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(r)?-1/0:r,l=n===null||Number.isNaN(i)?1/0:i;if(s>l){const u=s;s=l,l=u}return[s,l]};b2.autoRemove=e=>Is(e)||Is(e[0])&&Is(e[1]);const Cu={includesString:MM,includesStringSensitive:PM,equalsString:LM,arrIncludes:FM,arrIncludesAll:kM,arrIncludesSome:BM,equals:jM,weakEquals:zM,inNumberRange:b2};function Is(e){return e==null||e===""}const lV={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:xo("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Cu.includesString:typeof r=="number"?Cu.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Cu.equals:Array.isArray(r)?Cu.arrIncludes:Cu.weakEquals},e.getFilterFn=()=>{var n,r;return BS(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Cu[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),s=r==null?void 0:r.find(p=>p.id===e.id),l=qc(n,s?s.value:void 0);if(HT(i,l,e)){var u;return(u=r==null?void 0:r.filter(p=>p.id!==e.id))!=null?u:[]}const c={id:e.id,value:l};if(s){var g;return(g=r==null?void 0:r.map(p=>p.id===e.id?c:p))!=null?g:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var s;return(s=qc(t,i))==null?void 0:s.filter(l=>{const u=n.find(c=>c.id===l.id);if(u){const c=u.getFilterFn();if(HT(c,l.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function HT(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const uV=(e,t,n)=>n.reduce((r,i)=>{const s=i.getValue(e);return r+(typeof s=="number"?s:0)},0),cV=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},fV=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},dV=(e,t,n)=>{let r,i;return n.forEach(s=>{const l=s.getValue(e);l!=null&&(r===void 0?l>=l&&(r=i=l):(r>l&&(r=l),i<l&&(i=l)))}),[r,i]},hV=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let s=i.getValue(e);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},pV=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!nV(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,l)=>s-l);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},gV=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),mV=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,vV=(e,t)=>t.length,kA={sum:uV,min:cV,max:fV,extent:dV,mean:hV,median:pV,unique:gV,uniqueCount:mV,count:vV},yV={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:xo("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return kA.sum;if(Object.prototype.toString.call(r)==="[object Date]")return kA.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return BS(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:kA[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function xV(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(s=>!t.includes(s.id));return n==="remove"?r:[...t.map(s=>e.find(l=>l.id===s)).filter(Boolean),...r]}const bV={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:xo("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Nt(n=>[xv(t,n)],n=>n.findIndex(r=>r.id===e.id),_t(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=xv(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=xv(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Nt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let s=[];if(!(t!=null&&t.length))s=i;else{const l=[...t],u=[...i];for(;u.length&&l.length;){const c=l.shift(),g=u.findIndex(p=>p.id===c);g>-1&&s.push(u.splice(g,1)[0])}s=[...s,...u]}return xV(s,n,r)},_t(e.options,"debugTable"))}},BA=()=>({left:[],right:[]}),SV={getInitialState:e=>({columnPinning:BA(),...e}),getDefaultOptions:e=>({onColumnPinningChange:xo("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var s,l;if(n==="right"){var u,c;return{left:((u=i==null?void 0:i.left)!=null?u:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((c=i==null?void 0:i.right)!=null?c:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var g,p;return{left:[...((g=i==null?void 0:i.left)!=null?g:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((p=i==null?void 0:i.right)!=null?p:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(m=>!(r!=null&&r.includes(m))),right:((l=i==null?void 0:i.right)!=null?l:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,s,l;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(u=>u.id),{left:r,right:i}=t.getState().columnPinning,s=n.some(u=>r==null?void 0:r.includes(u)),l=n.some(u=>i==null?void 0:i.includes(u));return s?"left":l?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(l=>!s.includes(l.column.id))},_t(t.options,"debugRows")),e.getLeftVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(l=>l.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),_t(t.options,"debugRows")),e.getRightVisibleCells=Nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(l=>l.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),_t(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?BA():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:BA())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),_t(e.options,"debugColumns")),e.getRightLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),_t(e.options,"debugColumns")),e.getCenterLeafColumns=Nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(s=>!i.includes(s.id))},_t(e.options,"debugColumns"))}},Nb={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},jA=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),AV={getDefaultColumnDef:()=>Nb,getInitialState:e=>({columnSizing:{},columnSizingInfo:jA(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:xo("columnSizing",e),onColumnSizingInfoChange:xo("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Nb.minSize,(r=s??e.columnDef.size)!=null?r:Nb.size),(i=e.columnDef.maxSize)!=null?i:Nb.maxSize)},e.getStart=Nt(n=>[n,xv(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),_t(t.options,"debugColumns")),e.getAfter=Nt(n=>[n,xv(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),_t(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),zA(s)&&s.touches&&s.touches.length>1))return;const l=e.getSize(),u=e?e.getLeafHeaders().map(R=>[R.column.id,R.column.getSize()]):[[r.id,r.getSize()]],c=zA(s)?Math.round(s.touches[0].clientX):s.clientX,g={},p=(R,T)=>{typeof T=="number"&&(t.setColumnSizingInfo(_=>{var D,F;const B=t.options.columnResizeDirection==="rtl"?-1:1,j=(T-((D=_==null?void 0:_.startOffset)!=null?D:0))*B,k=Math.max(j/((F=_==null?void 0:_.startSize)!=null?F:0),-.999999);return _.columnSizingStart.forEach($=>{let[Z,ne]=$;g[Z]=Math.round(Math.max(ne+ne*k,0)*100)/100}),{..._,deltaOffset:j,deltaPercentage:k}}),(t.options.columnResizeMode==="onChange"||R==="end")&&t.setColumnSizing(_=>({..._,...g})))},m=R=>p("move",R),x=R=>{p("end",R),t.setColumnSizingInfo(T=>({...T,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=n||typeof document<"u"?document:null,E={moveHandler:R=>m(R.clientX),upHandler:R=>{b==null||b.removeEventListener("mousemove",E.moveHandler),b==null||b.removeEventListener("mouseup",E.upHandler),x(R.clientX)}},w={moveHandler:R=>(R.cancelable&&(R.preventDefault(),R.stopPropagation()),m(R.touches[0].clientX),!1),upHandler:R=>{var T;b==null||b.removeEventListener("touchmove",w.moveHandler),b==null||b.removeEventListener("touchend",w.upHandler),R.cancelable&&(R.preventDefault(),R.stopPropagation()),x((T=R.touches[0])==null?void 0:T.clientX)}},C=EV()?{passive:!1}:!1;zA(s)?(b==null||b.addEventListener("touchmove",w.moveHandler,C),b==null||b.addEventListener("touchend",w.upHandler,C)):(b==null||b.addEventListener("mousemove",E.moveHandler,C),b==null||b.addEventListener("mouseup",E.upHandler,C)),t.setColumnSizingInfo(R=>({...R,startOffset:c,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?jA():(n=e.initialState.columnSizingInfo)!=null?n:jA())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let _b=null;function EV(){if(typeof _b=="boolean")return _b;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return _b=e,_b}function zA(e){return e.type==="touchstart"}const CV={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:xo("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Nt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),_t(t.options,"debugRows")),e.getVisibleCells=Nt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],_t(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Nt(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),_t(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function xv(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const wV={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},RV={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:xo("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Cu.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return BS(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Cu[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},TV={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:xo("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,s;e.setExpanded(r?{}:(i=(s=e.initialState)==null?void 0:s.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const l=s.split(".");r=Math.max(r,l.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[e.id]);let l={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(u=>{l[u]=!0}):l=r,n=(i=n)!=null?i:!s,!s&&n)return{...l,[e.id]:!0};if(s&&!n){const{[e.id]:u,...c}=l;return c}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},yw=0,xw=10,UA=()=>({pageIndex:yw,pageSize:xw}),NV={getInitialState:e=>({...e,pagination:{...UA(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:xo("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=s=>qc(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?UA():(i=e.initialState.pagination)!=null?i:UA())},e.setPageIndex=r=>{e.setPagination(i=>{let s=qc(r,i.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,l)),{...i,pageIndex:s}})},e.resetPageIndex=r=>{var i,s;e.setPageIndex(r?yw:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:yw)},e.resetPageSize=r=>{var i,s;e.setPageSize(r?xw:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:xw)},e.setPageSize=r=>{e.setPagination(i=>{const s=Math.max(1,qc(r,i.pageSize)),l=i.pageSize*i.pageIndex,u=Math.floor(l/s);return{...i,pageIndex:u,pageSize:s}})},e.setPageCount=r=>e.setPagination(i=>{var s;let l=qc(r,(s=e.options.pageCount)!=null?s:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...i,pageCount:l}}),e.getPageOptions=Nt(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,l)=>l)),i},_t(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},VA=()=>({top:[],bottom:[]}),_V={getInitialState:e=>({rowPinning:VA(),...e}),getDefaultOptions:e=>({onRowPinningChange:xo("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const s=r?e.getLeafRows().map(c=>{let{id:g}=c;return g}):[],l=i?e.getParentRows().map(c=>{let{id:g}=c;return g}):[],u=new Set([...l,e.id,...s]);t.setRowPinning(c=>{var g,p;if(n==="bottom"){var m,x;return{top:((m=c==null?void 0:c.top)!=null?m:[]).filter(w=>!(u!=null&&u.has(w))),bottom:[...((x=c==null?void 0:c.bottom)!=null?x:[]).filter(w=>!(u!=null&&u.has(w))),...Array.from(u)]}}if(n==="top"){var b,E;return{top:[...((b=c==null?void 0:c.top)!=null?b:[]).filter(w=>!(u!=null&&u.has(w))),...Array.from(u)],bottom:((E=c==null?void 0:c.bottom)!=null?E:[]).filter(w=>!(u!=null&&u.has(w)))}}return{top:((g=c==null?void 0:c.top)!=null?g:[]).filter(w=>!(u!=null&&u.has(w))),bottom:((p=c==null?void 0:c.bottom)!=null?p:[]).filter(w=>!(u!=null&&u.has(w)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,s=n.some(u=>r==null?void 0:r.includes(u)),l=n.some(u=>i==null?void 0:i.includes(u));return s?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const s=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(l=>{let{id:u}=l;return u});return(r=s==null?void 0:s.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?VA():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:VA())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(l=>{const u=e.getRow(l,!0);return u.getIsAllParentsExpanded()?u:null}):(n??[]).map(l=>t.find(u=>u.id===l))).filter(Boolean).map(l=>({...l,position:r}))},e.getTopRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),_t(e.options,"debugRows")),e.getBottomRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),_t(e.options,"debugRows")),e.getCenterRows=Nt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(s=>!i.has(s.id))},_t(e.options,"debugRows"))}},IV={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:xo("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(s=>{bw(i,s.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?GA(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getFilteredSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?GA(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getGroupedSelectedRowModel=Nt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?GA(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(s=>{var l;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return s;const u={...s};return bw(u,e.id,n,(l=r==null?void 0:r.selectChildren)!=null?l:!0,t),u})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return S2(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Sw(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Sw(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},bw=(e,t,n,r,i)=>{var s;const l=i.getRow(t,!0);n?(l.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),l.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(s=l.subRows)!=null&&s.length&&l.getCanSelectSubRows()&&l.subRows.forEach(u=>bw(e,u.id,n,r,i))};function GA(e,t){const n=e.getState().rowSelection,r=[],i={},s=function(l,u){return l.map(c=>{var g;const p=S2(c,n);if(p&&(r.push(c),i[c.id]=c),(g=c.subRows)!=null&&g.length&&(c={...c,subRows:s(c.subRows)}),p)return c}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:i}}function S2(e,t){var n;return(n=t[e.id])!=null?n:!1}function Sw(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return e.subRows.forEach(l=>{if(!(s&&!i)&&(l.getCanSelect()&&(S2(l,t)?s=!0:i=!1),l.subRows&&l.subRows.length)){const u=Sw(l,t);u==="all"?s=!0:(u==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const Aw=/([0-9]+)/gm,OV=(e,t,n)=>UM(Zc(e.getValue(n)).toLowerCase(),Zc(t.getValue(n)).toLowerCase()),DV=(e,t,n)=>UM(Zc(e.getValue(n)),Zc(t.getValue(n))),MV=(e,t,n)=>A2(Zc(e.getValue(n)).toLowerCase(),Zc(t.getValue(n)).toLowerCase()),PV=(e,t,n)=>A2(Zc(e.getValue(n)),Zc(t.getValue(n))),LV=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},FV=(e,t,n)=>A2(e.getValue(n),t.getValue(n));function A2(e,t){return e===t?0:e>t?1:-1}function Zc(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function UM(e,t){const n=e.split(Aw).filter(Boolean),r=t.split(Aw).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),l=parseInt(i,10),u=parseInt(s,10),c=[l,u].sort();if(isNaN(c[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(c[1]))return isNaN(l)?-1:1;if(l>u)return 1;if(u>l)return-1}return n.length-r.length}const L0={alphanumeric:OV,alphanumericCaseSensitive:DV,text:MV,textCaseSensitive:PV,datetime:LV,basic:FV},kV={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:xo("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return L0.datetime;if(typeof s=="string"&&(r=!0,s.split(Aw).length>1))return L0.alphanumeric}return r?L0.text:L0.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return BS(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:L0[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(l=>{const u=l==null?void 0:l.find(b=>b.id===e.id),c=l==null?void 0:l.findIndex(b=>b.id===e.id);let g=[],p,m=s?n:i==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&r?u?p="toggle":p="add":l!=null&&l.length&&c!==l.length-1?p="replace":u?p="toggle":p="replace",p==="toggle"&&(s||i||(p="remove")),p==="add"){var x;g=[...l,{id:e.id,desc:m}],g.splice(0,g.length-((x=t.options.maxMultiSortColCount)!=null?x:Number.MAX_SAFE_INTEGER))}else p==="toggle"?g=l.map(b=>b.id===e.id?{...b,desc:m}:b):p==="remove"?g=l.filter(b=>b.id!==e.id):g=[{id:e.id,desc:m}];return g})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const s=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==s&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:l==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},BV=[sV,CV,bV,SV,aV,lV,wV,RV,kV,yV,TV,NV,_V,IV,AV];function jV(e){var t,n;const r=[...BV,...(t=e._features)!=null?t:[]];let i={_features:r};const s=i._features.reduce((x,b)=>Object.assign(x,b.getDefaultOptions==null?void 0:b.getDefaultOptions(i)),{}),l=x=>i.options.mergeOptions?i.options.mergeOptions(s,x):{...s,...x};let c={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(x=>{var b;c=(b=x.getInitialState==null?void 0:x.getInitialState(c))!=null?b:c});const g=[];let p=!1;const m={_features:r,options:{...s,...e},initialState:c,_queue:x=>{g.push(x),p||(p=!0,Promise.resolve().then(()=>{for(;g.length;)g.shift()();p=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{i.setState(i.initialState)},setOptions:x=>{const b=qc(x,i.options);i.options=l(b)},getState:()=>i.options.state,setState:x=>{i.options.onStateChange==null||i.options.onStateChange(x)},_getRowId:(x,b,E)=>{var w;return(w=i.options.getRowId==null?void 0:i.options.getRowId(x,b,E))!=null?w:`${E?[E.id,b].join("."):b}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(x,b)=>{let E=(b?i.getPrePaginationRowModel():i.getRowModel()).rowsById[x];if(!E&&(E=i.getCoreRowModel().rowsById[x],!E))throw new Error;return E},_getDefaultColumnDef:Nt(()=>[i.options.defaultColumn],x=>{var b;return x=(b=x)!=null?b:{},{header:E=>{const w=E.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:E=>{var w,C;return(w=(C=E.renderValue())==null||C.toString==null?void 0:C.toString())!=null?w:null},...i._features.reduce((E,w)=>Object.assign(E,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...x}},_t(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Nt(()=>[i._getColumnDefs()],x=>{const b=function(E,w,C){return C===void 0&&(C=0),E.map(R=>{const T=oV(i,R,C,w),_=R;return T.columns=_.columns?b(_.columns,T,C+1):[],T})};return b(x)},_t(e,"debugColumns")),getAllFlatColumns:Nt(()=>[i.getAllColumns()],x=>x.flatMap(b=>b.getFlatColumns()),_t(e,"debugColumns")),_getAllFlatColumnsById:Nt(()=>[i.getAllFlatColumns()],x=>x.reduce((b,E)=>(b[E.id]=E,b),{}),_t(e,"debugColumns")),getAllLeafColumns:Nt(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(x,b)=>{let E=x.flatMap(w=>w.getLeafColumns());return b(E)},_t(e,"debugColumns")),getColumn:x=>i._getAllFlatColumnsById()[x]};Object.assign(i,m);for(let x=0;x<i._features.length;x++){const b=i._features[x];b==null||b.createTable==null||b.createTable(i)}return i}function VM(){return e=>Nt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,l){s===void 0&&(s=0);const u=[];for(let g=0;g<i.length;g++){const p=x2(e,e._getRowId(i[g],g,l),i[g],g,s,void 0,l==null?void 0:l.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,u.push(p),e.options.getSubRows){var c;p.originalSubRows=e.options.getSubRows(i[g],g),(c=p.originalSubRows)!=null&&c.length&&(p.subRows=r(p.originalSubRows,s+1,p))}}return u};return n.rows=r(t),n},_t(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function zV(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function UV(e,t,n){return n.options.filterFromLeafRows?VV(e,t,n):GV(e,t,n)}function VV(e,t,n){var r;const i=[],s={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(c,g){g===void 0&&(g=0);const p=[];for(let x=0;x<c.length;x++){var m;let b=c[x];const E=x2(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(E.columnFilters=b.columnFilters,(m=b.subRows)!=null&&m.length&&g<l){if(E.subRows=u(b.subRows,g+1),b=E,t(b)&&!E.subRows.length){p.push(b),s[b.id]=b,i.push(b);continue}if(t(b)||E.subRows.length){p.push(b),s[b.id]=b,i.push(b);continue}}else b=E,t(b)&&(p.push(b),s[b.id]=b,i.push(b))}return p};return{rows:u(e),flatRows:i,rowsById:s}}function GV(e,t,n){var r;const i=[],s={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(c,g){g===void 0&&(g=0);const p=[];for(let x=0;x<c.length;x++){let b=c[x];if(t(b)){var m;if((m=b.subRows)!=null&&m.length&&g<l){const w=x2(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);w.subRows=u(b.subRows,g+1),b=w}p.push(b),i.push(b),s[b.id]=b}}return p};return{rows:u(e),flatRows:i,rowsById:s}}function GM(){return e=>Nt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let x=0;x<t.flatRows.length;x++)t.flatRows[x].columnFilters={},t.flatRows[x].columnFiltersMeta={};return t}const i=[],s=[];(n??[]).forEach(x=>{var b;const E=e.getColumn(x.id);if(!E)return;const w=E.getFilterFn();w&&i.push({id:x.id,filterFn:w,resolvedValue:(b=w.resolveFilterValue==null?void 0:w.resolveFilterValue(x.value))!=null?b:x.value})});const l=(n??[]).map(x=>x.id),u=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(x=>x.getCanGlobalFilter());r&&u&&c.length&&(l.push("__global__"),c.forEach(x=>{var b;s.push({id:x.id,filterFn:u,resolvedValue:(b=u.resolveFilterValue==null?void 0:u.resolveFilterValue(r))!=null?b:r})}));let g,p;for(let x=0;x<t.flatRows.length;x++){const b=t.flatRows[x];if(b.columnFilters={},i.length)for(let E=0;E<i.length;E++){g=i[E];const w=g.id;b.columnFilters[w]=g.filterFn(b,w,g.resolvedValue,C=>{b.columnFiltersMeta[w]=C})}if(s.length){for(let E=0;E<s.length;E++){p=s[E];const w=p.id;if(p.filterFn(b,w,p.resolvedValue,C=>{b.columnFiltersMeta[w]=C})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const m=x=>{for(let b=0;b<l.length;b++)if(x.columnFilters[l[b]]===!1)return!1;return!0};return UV(t.rows,m,e)},_t(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function $M(e){return t=>Nt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:l,flatRows:u,rowsById:c}=r;const g=i*s,p=g+i;l=l.slice(g,p);let m;t.options.paginateExpandedRows?m={rows:l,flatRows:u,rowsById:c}:m=zV({rows:l,flatRows:u,rowsById:c}),m.flatRows=[];const x=b=>{m.flatRows.push(b),b.subRows.length&&b.subRows.forEach(x)};return m.rows.forEach(x),m},_t(t.options,"debugTable"))}function HM(){return e=>Nt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],s=r.filter(c=>{var g;return(g=e.getColumn(c.id))==null?void 0:g.getCanSort()}),l={};s.forEach(c=>{const g=e.getColumn(c.id);g&&(l[c.id]={sortUndefined:g.columnDef.sortUndefined,invertSorting:g.columnDef.invertSorting,sortingFn:g.getSortingFn()})});const u=c=>{const g=c.map(p=>({...p}));return g.sort((p,m)=>{for(let b=0;b<s.length;b+=1){var x;const E=s[b],w=l[E.id],C=w.sortUndefined,R=(x=E==null?void 0:E.desc)!=null?x:!1;let T=0;if(C){const _=p.getValue(E.id),D=m.getValue(E.id),F=_===void 0,B=D===void 0;if(F||B){if(C==="first")return F?-1:1;if(C==="last")return F?1:-1;T=F&&B?0:F?C:-C}}if(T===0&&(T=w.sortingFn(p,m,E.id)),T!==0)return R&&(T*=-1),w.invertSorting&&(T*=-1),T}return p.index-m.index}),g.forEach(p=>{var m;i.push(p),(m=p.subRows)!=null&&m.length&&(p.subRows=u(p.subRows))}),g};return{rows:u(n.rows),flatRows:i,rowsById:n.rowsById}},_t(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function pS(e,t){return e?$V(e)?P.createElement(e,t):e:null}function $V(e){return HV(e)||typeof e=="function"||WV(e)}function HV(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function WV(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function WM(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=P.useState(()=>({current:jV(t)})),[r,i]=P.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...e,state:{...r,...e.state},onStateChange:l=>{i(l),e.onStateChange==null||e.onStateChange(l)}})),n.current}const Ib=43200,WT=1440,YT=Symbol.for("constructDateFrom");function E2(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&YT in e?e[YT](t):e instanceof Date?new e.constructor(t):new Date(t)}function Jc(e,t){return E2(e,e)}let YV={};function qV(){return YV}function qT(e){const t=Jc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function C2(e,...t){const n=E2.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Zb(e,t){const n=+Jc(e)-+Jc(t);return n<0?-1:n>0?1:n}function KV(e){return E2(e,Date.now())}function XV(e,t,n){const[r,i]=C2(n==null?void 0:n.in,e,t),s=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return s*12+l}function ZV(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function JV(e,t){return+Jc(e)-+Jc(t)}function QV(e,t){const n=Jc(e);return n.setHours(23,59,59,999),n}function e4(e,t){const n=Jc(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function t4(e,t){const n=Jc(e);return+QV(n)==+e4(n)}function n4(e,t,n){const[r,i,s]=C2(n==null?void 0:n.in,e,e,t),l=Zb(i,s),u=Math.abs(XV(i,s));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-l*u);let c=Zb(i,s)===-l;t4(r)&&u===1&&Zb(r,s)===1&&(c=!1);const g=l*(u-+c);return g===0?0:g}function r4(e,t,n){const r=JV(e,t)/1e3;return ZV(n==null?void 0:n.roundingMethod)(r)}const i4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o4=(e,t,n)=>{let r;const i=i4[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function $A(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const s4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u4={date:$A({formats:s4,defaultWidth:"full"}),time:$A({formats:a4,defaultWidth:"full"}),dateTime:$A({formats:l4,defaultWidth:"full"})},c4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},f4=(e,t,n,r)=>c4[e];function F0(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):l;i=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[l]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const d4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},p4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},g4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},m4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},v4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y4=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},x4={ordinalNumber:y4,era:F0({values:d4,defaultWidth:"wide"}),quarter:F0({values:h4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:F0({values:p4,defaultWidth:"wide"}),day:F0({values:g4,defaultWidth:"wide"}),dayPeriod:F0({values:m4,defaultWidth:"wide",formattingValues:v4,defaultFormattingWidth:"wide"})};function k0(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const l=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?S4(u,m=>m.test(l)):b4(u,m=>m.test(l));let g;g=e.valueCallback?e.valueCallback(c):c,g=n.valueCallback?n.valueCallback(g):g;const p=t.slice(l.length);return{value:g,rest:p}}}function b4(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function S4(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function A4(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(i.length);return{value:l,rest:u}}}const E4=/^(\d+)(th|st|nd|rd)?/i,C4=/\d+/i,w4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},R4={any:[/^b/i,/^(a|c)/i]},T4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},N4={any:[/1/i,/2/i,/3/i,/4/i]},_4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},O4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},D4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},M4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},P4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},L4={ordinalNumber:A4({matchPattern:E4,parsePattern:C4,valueCallback:e=>parseInt(e,10)}),era:k0({matchPatterns:w4,defaultMatchWidth:"wide",parsePatterns:R4,defaultParseWidth:"any"}),quarter:k0({matchPatterns:T4,defaultMatchWidth:"wide",parsePatterns:N4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:k0({matchPatterns:_4,defaultMatchWidth:"wide",parsePatterns:I4,defaultParseWidth:"any"}),day:k0({matchPatterns:O4,defaultMatchWidth:"wide",parsePatterns:D4,defaultParseWidth:"any"}),dayPeriod:k0({matchPatterns:M4,defaultMatchWidth:"any",parsePatterns:P4,defaultParseWidth:"any"})},F4={code:"en-US",formatDistance:o4,formatLong:u4,formatRelative:f4,localize:x4,match:L4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function k4(e,t,n){const r=qV(),i=(n==null?void 0:n.locale)??r.locale??F4,s=2520,l=Zb(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[c,g]=C2(n==null?void 0:n.in,...l>0?[t,e]:[e,t]),p=r4(g,c),m=(qT(g)-qT(c))/1e3,x=Math.round((p-m)/60);let b;if(x<2)return n!=null&&n.includeSeconds?p<5?i.formatDistance("lessThanXSeconds",5,u):p<10?i.formatDistance("lessThanXSeconds",10,u):p<20?i.formatDistance("lessThanXSeconds",20,u):p<40?i.formatDistance("halfAMinute",0,u):p<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):x===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",x,u);if(x<45)return i.formatDistance("xMinutes",x,u);if(x<90)return i.formatDistance("aboutXHours",1,u);if(x<WT){const E=Math.round(x/60);return i.formatDistance("aboutXHours",E,u)}else{if(x<s)return i.formatDistance("xDays",1,u);if(x<Ib){const E=Math.round(x/WT);return i.formatDistance("xDays",E,u)}else if(x<Ib*2)return b=Math.round(x/Ib),i.formatDistance("aboutXMonths",b,u)}if(b=n4(g,c),b<12){const E=Math.round(x/Ib);return i.formatDistance("xMonths",E,u)}else{const E=b%12,w=Math.trunc(b/12);return E<3?i.formatDistance("aboutXYears",w,u):E<9?i.formatDistance("overXYears",w,u):i.formatDistance("almostXYears",w+1,u)}}function YM(e,t){return k4(e,KV(e),t)}function dt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function B4(e,t){const n=P.createContext(t),r=s=>{const{children:l,...u}=s,c=P.useMemo(()=>u,Object.values(u));return O.jsx(n.Provider,{value:c,children:l})};r.displayName=e+"Provider";function i(s){const l=P.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function ja(e,t=[]){let n=[];function r(s,l){const u=P.createContext(l),c=n.length;n=[...n,l];const g=m=>{var R;const{scope:x,children:b,...E}=m,w=((R=x==null?void 0:x[e])==null?void 0:R[c])||u,C=P.useMemo(()=>E,Object.values(E));return O.jsx(w.Provider,{value:C,children:b})};g.displayName=s+"Provider";function p(m,x){var w;const b=((w=x==null?void 0:x[e])==null?void 0:w[c])||u,E=P.useContext(b);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[g,p]}const i=()=>{const s=n.map(l=>P.createContext(l));return function(u){const c=(u==null?void 0:u[e])||s;return P.useMemo(()=>({[`__scope${e}`]:{...u,[e]:c}}),[u,c])}};return i.scopeName=e,[r,j4(i,...t)]}function j4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((u,{useScope:c,scopeName:g})=>{const m=c(s)[`__scope${g}`];return{...u,...m}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Lr=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},z4=D3[" useId ".trim().toString()]||(()=>{}),U4=0;function Oa(e){const[t,n]=P.useState(z4());return Lr(()=>{n(r=>r??String(U4++))},[e]),e||(t?`radix-${t}`:"")}function bo(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function vh({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=V4({defaultProp:t,onChange:n}),s=e!==void 0,l=s?e:r,u=bo(n),c=P.useCallback(g=>{if(s){const m=typeof g=="function"?g(e):g;m!==e&&u(m)}else i(g)},[s,e,i,u]);return[l,c]}function V4({defaultProp:e,onChange:t}){const n=P.useState(e),[r]=n,i=P.useRef(r),s=bo(t);return P.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var G4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yt=G4.reduce((e,t)=>{const n=Xc(`Primitive.${t}`),r=P.forwardRef((i,s)=>{const{asChild:l,...u}=i,c=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(c,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function qM(e,t){e&&Ia.flushSync(()=>e.dispatchEvent(t))}function $4(e,t=globalThis==null?void 0:globalThis.document){const n=bo(e);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var H4="DismissableLayer",Ew="dismissableLayer.update",W4="dismissableLayer.pointerDownOutside",Y4="dismissableLayer.focusOutside",KT,KM=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gv=P.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:u,...c}=e,g=P.useContext(KM),[p,m]=P.useState(null),x=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=P.useState({}),E=Cn(t,j=>m(j)),w=Array.from(g.layers),[C]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),R=w.indexOf(C),T=p?w.indexOf(p):-1,_=g.layersWithOutsidePointerEventsDisabled.size>0,D=T>=R,F=X4(j=>{const k=j.target,$=[...g.branches].some(Z=>Z.contains(k));!D||$||(i==null||i(j),l==null||l(j),j.defaultPrevented||u==null||u())},x),B=Z4(j=>{const k=j.target;[...g.branches].some(Z=>Z.contains(k))||(s==null||s(j),l==null||l(j),j.defaultPrevented||u==null||u())},x);return $4(j=>{T===g.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&u&&(j.preventDefault(),u()))},x),P.useEffect(()=>{if(p)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(KT=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(p)),g.layers.add(p),XT(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=KT)}},[p,x,n,g]),P.useEffect(()=>()=>{p&&(g.layers.delete(p),g.layersWithOutsidePointerEventsDisabled.delete(p),XT())},[p,g]),P.useEffect(()=>{const j=()=>b({});return document.addEventListener(Ew,j),()=>document.removeEventListener(Ew,j)},[]),O.jsx(Yt.div,{...c,ref:E,style:{pointerEvents:_?D?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,B.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,F.onPointerDownCapture)})});Gv.displayName=H4;var q4="DismissableLayerBranch",K4=P.forwardRef((e,t)=>{const n=P.useContext(KM),r=P.useRef(null),i=Cn(t,r);return P.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),O.jsx(Yt.div,{...e,ref:i})});K4.displayName=q4;function X4(e,t=globalThis==null?void 0:globalThis.document){const n=bo(e),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let c=function(){XM(W4,n,g,{discrete:!0})};const g={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Z4(e,t=globalThis==null?void 0:globalThis.document){const n=bo(e),r=P.useRef(!1);return P.useEffect(()=>{const i=s=>{s.target&&!r.current&&XM(Y4,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function XT(){const e=new CustomEvent(Ew);document.dispatchEvent(e)}function XM(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?qM(i,s):i.dispatchEvent(s)}var HA="focusScope.autoFocusOnMount",WA="focusScope.autoFocusOnUnmount",ZT={bubbles:!1,cancelable:!0},J4="FocusScope",jS=P.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[u,c]=P.useState(null),g=bo(i),p=bo(s),m=P.useRef(null),x=Cn(t,w=>c(w)),b=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let w=function(_){if(b.paused||!u)return;const D=_.target;u.contains(D)?m.current=D:Oc(m.current,{select:!0})},C=function(_){if(b.paused||!u)return;const D=_.relatedTarget;D!==null&&(u.contains(D)||Oc(m.current,{select:!0}))},R=function(_){if(document.activeElement===document.body)for(const F of _)F.removedNodes.length>0&&Oc(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const T=new MutationObserver(R);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),T.disconnect()}}},[r,u,b.paused]),P.useEffect(()=>{if(u){QT.add(b);const w=document.activeElement;if(!u.contains(w)){const R=new CustomEvent(HA,ZT);u.addEventListener(HA,g),u.dispatchEvent(R),R.defaultPrevented||(Q4(i6(ZM(u)),{select:!0}),document.activeElement===w&&Oc(u))}return()=>{u.removeEventListener(HA,g),setTimeout(()=>{const R=new CustomEvent(WA,ZT);u.addEventListener(WA,p),u.dispatchEvent(R),R.defaultPrevented||Oc(w??document.body,{select:!0}),u.removeEventListener(WA,p),QT.remove(b)},0)}}},[u,g,p,b]);const E=P.useCallback(w=>{if(!n&&!r||b.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,R=document.activeElement;if(C&&R){const T=w.currentTarget,[_,D]=e6(T);_&&D?!w.shiftKey&&R===D?(w.preventDefault(),n&&Oc(_,{select:!0})):w.shiftKey&&R===_&&(w.preventDefault(),n&&Oc(D,{select:!0})):R===T&&w.preventDefault()}},[n,r,b.paused]);return O.jsx(Yt.div,{tabIndex:-1,...l,ref:x,onKeyDown:E})});jS.displayName=J4;function Q4(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Oc(r,{select:t}),document.activeElement!==n)return}function e6(e){const t=ZM(e),n=JT(t,e),r=JT(t.reverse(),e);return[n,r]}function ZM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function JT(e,t){for(const n of e)if(!t6(n,{upTo:t}))return n}function t6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function n6(e){return e instanceof HTMLInputElement&&"select"in e}function Oc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&n6(e)&&t&&e.select()}}var QT=r6();function r6(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=eN(e,t),e.unshift(t)},remove(t){var n;e=eN(e,t),(n=e[0])==null||n.resume()}}}function eN(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function i6(e){return e.filter(t=>t.tagName!=="A")}var o6="Portal",$v=P.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,s]=P.useState(!1);Lr(()=>s(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?K3.createPortal(O.jsx(Yt.div,{...r,ref:t}),l):null});$v.displayName=o6;function s6(e,t){return P.useReducer((n,r)=>t[n][r]??n,e)}var za=e=>{const{present:t,children:n}=e,r=a6(t),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),s=Cn(r.ref,l6(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:s}):null};za.displayName="Presence";function a6(e){const[t,n]=P.useState(),r=P.useRef({}),i=P.useRef(e),s=P.useRef("none"),l=e?"mounted":"unmounted",[u,c]=s6(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const g=Ob(r.current);s.current=u==="mounted"?g:"none"},[u]),Lr(()=>{const g=r.current,p=i.current;if(p!==e){const x=s.current,b=Ob(g);e?c("MOUNT"):b==="none"||(g==null?void 0:g.display)==="none"?c("UNMOUNT"):c(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Lr(()=>{if(t){let g;const p=t.ownerDocument.defaultView??window,m=b=>{const w=Ob(r.current).includes(b.animationName);if(b.target===t&&w&&(c("ANIMATION_END"),!i.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},x=b=>{b.target===t&&(s.current=Ob(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:P.useCallback(g=>{g&&(r.current=getComputedStyle(g)),n(g)},[])}}function Ob(e){return(e==null?void 0:e.animationName)||"none"}function l6(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var YA=0;function w2(){P.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tN()),document.body.insertAdjacentElement("beforeend",e[1]??tN()),YA++,()=>{YA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),YA--}},[])}function tN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ra=function(){return Ra=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ra.apply(this,arguments)};function JM(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function u6(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Jb="right-scroll-bar-position",Qb="width-before-scroll-bar",c6="with-scroll-bars-hidden",f6="--removed-body-scroll-bar-size";function qA(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function d6(e,t){var n=P.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var h6=typeof window<"u"?P.useLayoutEffect:P.useEffect,nN=new WeakMap;function p6(e,t){var n=d6(null,function(r){return e.forEach(function(i){return qA(i,r)})});return h6(function(){var r=nN.get(n);if(r){var i=new Set(r),s=new Set(e),l=n.current;i.forEach(function(u){s.has(u)||qA(u,null)}),s.forEach(function(u){i.has(u)||qA(u,l)})}nN.set(n,e)},[e]),n}function g6(e){return e}function m6(e,t){t===void 0&&(t=g6);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var l=t(s,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(s),l=n}var c=function(){var p=l;l=[],p.forEach(s)},g=function(){return Promise.resolve().then(c)};g(),n={push:function(p){l.push(p),g()},filter:function(p){return l=l.filter(p),n}}}};return i}function v6(e){e===void 0&&(e={});var t=m6(null);return t.options=Ra({async:!0,ssr:!1},e),t}var QM=function(e){var t=e.sideCar,n=JM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,Ra({},n))};QM.isSideCarExport=!0;function y6(e,t){return e.useMedium(t),QM}var eP=v6(),KA=function(){},zS=P.forwardRef(function(e,t){var n=P.useRef(null),r=P.useState({onScrollCapture:KA,onWheelCapture:KA,onTouchMoveCapture:KA}),i=r[0],s=r[1],l=e.forwardProps,u=e.children,c=e.className,g=e.removeScrollBar,p=e.enabled,m=e.shards,x=e.sideCar,b=e.noIsolation,E=e.inert,w=e.allowPinchZoom,C=e.as,R=C===void 0?"div":C,T=e.gapMode,_=JM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,F=p6([n,t]),B=Ra(Ra({},_),i);return P.createElement(P.Fragment,null,p&&P.createElement(D,{sideCar:eP,removeScrollBar:g,shards:m,noIsolation:b,inert:E,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:T}),l?P.cloneElement(P.Children.only(u),Ra(Ra({},B),{ref:F})):P.createElement(R,Ra({},B,{className:c,ref:F}),u))});zS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zS.classNames={fullWidth:Qb,zeroRight:Jb};var x6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function b6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=x6();return t&&e.setAttribute("nonce",t),e}function S6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function A6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var E6=function(){var e=0,t=null;return{add:function(n){e==0&&(t=b6())&&(S6(t,n),A6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},C6=function(){var e=E6();return function(t,n){P.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},tP=function(){var e=C6(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},w6={left:0,top:0,right:0,gap:0},XA=function(e){return parseInt(e||"",10)||0},R6=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[XA(n),XA(r),XA(i)]},T6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return w6;var t=R6(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},N6=tP(),Kp="data-scroll-locked",_6=function(e,t,n,r){var i=e.left,s=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(c6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Kp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jb,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Qb,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Jb," .").concat(Jb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qb," .").concat(Qb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Kp,`] {
    `).concat(f6,": ").concat(u,`px;
  }
`)},rN=function(){var e=parseInt(document.body.getAttribute(Kp)||"0",10);return isFinite(e)?e:0},I6=function(){P.useEffect(function(){return document.body.setAttribute(Kp,(rN()+1).toString()),function(){var e=rN()-1;e<=0?document.body.removeAttribute(Kp):document.body.setAttribute(Kp,e.toString())}},[])},O6=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;I6();var s=P.useMemo(function(){return T6(i)},[i]);return P.createElement(N6,{styles:_6(s,!t,i,n?"":"!important")})},Cw=!1;if(typeof window<"u")try{var Db=Object.defineProperty({},"passive",{get:function(){return Cw=!0,!0}});window.addEventListener("test",Db,Db),window.removeEventListener("test",Db,Db)}catch{Cw=!1}var Bp=Cw?{passive:!1}:!1,D6=function(e){return e.tagName==="TEXTAREA"},nP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!D6(e)&&n[t]==="visible")},M6=function(e){return nP(e,"overflowY")},P6=function(e){return nP(e,"overflowX")},iN=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=rP(e,r);if(i){var s=iP(e,r),l=s[1],u=s[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},L6=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},F6=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},rP=function(e,t){return e==="v"?M6(t):P6(t)},iP=function(e,t){return e==="v"?L6(t):F6(t)},k6=function(e,t){return e==="h"&&t==="rtl"?-1:1},B6=function(e,t,n,r,i){var s=k6(e,window.getComputedStyle(t).direction),l=s*r,u=n.target,c=t.contains(u),g=!1,p=l>0,m=0,x=0;do{var b=iP(e,u),E=b[0],w=b[1],C=b[2],R=w-C-s*E;(E||R)&&rP(e,u)&&(m+=R,x+=E),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!c&&u!==document.body||c&&(t.contains(u)||t===u));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(g=!0),g},Mb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oN=function(e){return[e.deltaX,e.deltaY]},sN=function(e){return e&&"current"in e?e.current:e},j6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},z6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},U6=0,jp=[];function V6(e){var t=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),i=P.useState(U6++)[0],s=P.useState(tP)[0],l=P.useRef(e);P.useEffect(function(){l.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var w=u6([e.lockRef.current],(e.shards||[]).map(sN),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=P.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var R=Mb(w),T=n.current,_="deltaX"in w?w.deltaX:T[0]-R[0],D="deltaY"in w?w.deltaY:T[1]-R[1],F,B=w.target,j=Math.abs(_)>Math.abs(D)?"h":"v";if("touches"in w&&j==="h"&&B.type==="range")return!1;var k=iN(j,B);if(!k)return!0;if(k?F=j:(F=j==="v"?"h":"v",k=iN(j,B)),!k)return!1;if(!r.current&&"changedTouches"in w&&(_||D)&&(r.current=F),!F)return!0;var $=r.current||F;return B6($,C,w,$==="h"?_:D)},[]),c=P.useCallback(function(w){var C=w;if(!(!jp.length||jp[jp.length-1]!==s)){var R="deltaY"in C?oN(C):Mb(C),T=t.current.filter(function(F){return F.name===C.type&&(F.target===C.target||C.target===F.shadowParent)&&j6(F.delta,R)})[0];if(T&&T.should){C.cancelable&&C.preventDefault();return}if(!T){var _=(l.current.shards||[]).map(sN).filter(Boolean).filter(function(F){return F.contains(C.target)}),D=_.length>0?u(C,_[0]):!l.current.noIsolation;D&&C.cancelable&&C.preventDefault()}}},[]),g=P.useCallback(function(w,C,R,T){var _={name:w,delta:C,target:R,should:T,shadowParent:G6(R)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(D){return D!==_})},1)},[]),p=P.useCallback(function(w){n.current=Mb(w),r.current=void 0},[]),m=P.useCallback(function(w){g(w.type,oN(w),w.target,u(w,e.lockRef.current))},[]),x=P.useCallback(function(w){g(w.type,Mb(w),w.target,u(w,e.lockRef.current))},[]);P.useEffect(function(){return jp.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",c,Bp),document.addEventListener("touchmove",c,Bp),document.addEventListener("touchstart",p,Bp),function(){jp=jp.filter(function(w){return w!==s}),document.removeEventListener("wheel",c,Bp),document.removeEventListener("touchmove",c,Bp),document.removeEventListener("touchstart",p,Bp)}},[]);var b=e.removeScrollBar,E=e.inert;return P.createElement(P.Fragment,null,E?P.createElement(s,{styles:z6(i)}):null,b?P.createElement(O6,{gapMode:e.gapMode}):null)}function G6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $6=y6(eP,V6);var US=P.forwardRef(function(e,t){return P.createElement(zS,Ra({},e,{ref:t,sideCar:$6}))});US.classNames=zS.classNames;var H6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zp=new WeakMap,Pb=new WeakMap,Lb={},ZA=0,oP=function(e){return e&&(e.host||oP(e.parentNode))},W6=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=oP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Y6=function(e,t,n,r){var i=W6(t,Array.isArray(e)?e:[e]);Lb[n]||(Lb[n]=new WeakMap);var s=Lb[n],l=[],u=new Set,c=new Set(i),g=function(m){!m||u.has(m)||(u.add(m),g(m.parentNode))};i.forEach(g);var p=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(x){if(u.has(x))p(x);else try{var b=x.getAttribute(r),E=b!==null&&b!=="false",w=(zp.get(x)||0)+1,C=(s.get(x)||0)+1;zp.set(x,w),s.set(x,C),l.push(x),w===1&&E&&Pb.set(x,!0),C===1&&x.setAttribute(n,"true"),E||x.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",x,R)}})};return p(t),u.clear(),ZA++,function(){l.forEach(function(m){var x=zp.get(m)-1,b=s.get(m)-1;zp.set(m,x),s.set(m,b),x||(Pb.has(m)||m.removeAttribute(r),Pb.delete(m)),b||m.removeAttribute(n)}),ZA--,ZA||(zp=new WeakMap,zp=new WeakMap,Pb=new WeakMap,Lb={})}},R2=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=H6(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Y6(r,i,n,"aria-hidden")):function(){return null}},T2="Dialog",[sP,cJ]=ja(T2),[q6,ks]=sP(T2),aP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,u=P.useRef(null),c=P.useRef(null),[g=!1,p]=vh({prop:r,defaultProp:i,onChange:s});return O.jsx(q6,{scope:t,triggerRef:u,contentRef:c,contentId:Oa(),titleId:Oa(),descriptionId:Oa(),open:g,onOpenChange:p,onOpenToggle:P.useCallback(()=>p(m=>!m),[p]),modal:l,children:n})};aP.displayName=T2;var lP="DialogTrigger",uP=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ks(lP,n),s=Cn(t,i.triggerRef);return O.jsx(Yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":I2(i.open),...r,ref:s,onClick:dt(e.onClick,i.onOpenToggle)})});uP.displayName=lP;var N2="DialogPortal",[K6,cP]=sP(N2,{forceMount:void 0}),fP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=ks(N2,t);return O.jsx(K6,{scope:t,forceMount:n,children:P.Children.map(r,l=>O.jsx(za,{present:n||s.open,children:O.jsx($v,{asChild:!0,container:i,children:l})}))})};fP.displayName=N2;var gS="DialogOverlay",dP=P.forwardRef((e,t)=>{const n=cP(gS,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=ks(gS,e.__scopeDialog);return s.modal?O.jsx(za,{present:r||s.open,children:O.jsx(Z6,{...i,ref:t})}):null});dP.displayName=gS;var X6=Xc("DialogOverlay.RemoveScroll"),Z6=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ks(gS,n);return O.jsx(US,{as:X6,allowPinchZoom:!0,shards:[i.contentRef],children:O.jsx(Yt.div,{"data-state":I2(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),yh="DialogContent",hP=P.forwardRef((e,t)=>{const n=cP(yh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=ks(yh,e.__scopeDialog);return O.jsx(za,{present:r||s.open,children:s.modal?O.jsx(J6,{...i,ref:t}):O.jsx(Q6,{...i,ref:t})})});hP.displayName=yh;var J6=P.forwardRef((e,t)=>{const n=ks(yh,e.__scopeDialog),r=P.useRef(null),i=Cn(t,n.contentRef,r);return P.useEffect(()=>{const s=r.current;if(s)return R2(s)},[]),O.jsx(pP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&s.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,s=>s.preventDefault())})}),Q6=P.forwardRef((e,t)=>{const n=ks(yh,e.__scopeDialog),r=P.useRef(!1),i=P.useRef(!1);return O.jsx(pP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,g;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((g=n.triggerRef.current)==null?void 0:g.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),pP=P.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=e,u=ks(yh,n),c=P.useRef(null),g=Cn(t,c);return w2(),O.jsxs(O.Fragment,{children:[O.jsx(jS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:O.jsx(Gv,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":I2(u.open),...l,ref:g,onDismiss:()=>u.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(e9,{titleId:u.titleId}),O.jsx(n9,{contentRef:c,descriptionId:u.descriptionId})]})]})}),_2="DialogTitle",gP=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ks(_2,n);return O.jsx(Yt.h2,{id:i.titleId,...r,ref:t})});gP.displayName=_2;var mP="DialogDescription",vP=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ks(mP,n);return O.jsx(Yt.p,{id:i.descriptionId,...r,ref:t})});vP.displayName=mP;var yP="DialogClose",xP=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ks(yP,n);return O.jsx(Yt.button,{type:"button",...r,ref:t,onClick:dt(e.onClick,()=>i.onOpenChange(!1))})});xP.displayName=yP;function I2(e){return e?"open":"closed"}var bP="DialogTitleWarning",[fJ,SP]=B4(bP,{contentName:yh,titleName:_2,docsSlug:"dialog"}),e9=({titleId:e})=>{const t=SP(bP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return P.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},t9="DialogDescriptionWarning",n9=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SP(t9).contentName}}.`;return P.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},AP=aP,r9=uP,EP=fP,CP=dP,wP=hP,RP=gP,TP=vP,NP=xP;function Hv({...e}){return O.jsx(AP,{"data-slot":"dialog",...e})}function i9({...e}){return O.jsx(r9,{"data-slot":"dialog-trigger",...e})}function o9({...e}){return O.jsx(EP,{"data-slot":"dialog-portal",...e})}function s9({className:e,...t}){return O.jsx(CP,{"data-slot":"dialog-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Wv({className:e,children:t,...n}){return O.jsxs(o9,{children:[O.jsx(s9,{}),O.jsxs(wP,{"data-slot":"dialog-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,O.jsxs(NP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:size-4",children:[O.jsx(vM,{}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Yv({className:e,...t}){return O.jsx("div",{"data-slot":"dialog-header",className:St("flex flex-col gap-2 text-center sm:text-left",e),...t})}function a9({className:e,...t}){return O.jsx("div",{"data-slot":"dialog-footer",className:St("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function qv({className:e,...t}){return O.jsx(RP,{"data-slot":"dialog-title",className:St("text-lg font-semibold leading-none",e),...t})}function Kv({className:e,...t}){return O.jsx(TP,{"data-slot":"dialog-description",className:St("text-muted-foreground text-sm",e),...t})}function O2(e){const t=e+"CollectionProvider",[n,r]=ja(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:C,children:R}=w,T=Ke.useRef(null),_=Ke.useRef(new Map).current;return O.jsx(i,{scope:C,itemMap:_,collectionRef:T,children:R})};l.displayName=t;const u=e+"CollectionSlot",c=Xc(u),g=Ke.forwardRef((w,C)=>{const{scope:R,children:T}=w,_=s(u,R),D=Cn(C,_.collectionRef);return O.jsx(c,{ref:D,children:T})});g.displayName=u;const p=e+"CollectionItemSlot",m="data-radix-collection-item",x=Xc(p),b=Ke.forwardRef((w,C)=>{const{scope:R,children:T,..._}=w,D=Ke.useRef(null),F=Cn(C,D),B=s(p,R);return Ke.useEffect(()=>(B.itemMap.set(D,{ref:D,..._}),()=>void B.itemMap.delete(D))),O.jsx(x,{[m]:"",ref:F,children:T})});b.displayName=p;function E(w){const C=s(e+"CollectionConsumer",w);return Ke.useCallback(()=>{const T=C.collectionRef.current;if(!T)return[];const _=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((B,j)=>_.indexOf(B.ref.current)-_.indexOf(j.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:g,ItemSlot:b},E,r]}var l9=P.createContext(void 0);function D2(e){const t=P.useContext(l9);return e||t||"ltr"}const u9=["top","right","bottom","left"],Qc=Math.min,vo=Math.max,mS=Math.round,Fb=Math.floor,Da=e=>({x:e,y:e}),c9={left:"right",right:"left",bottom:"top",top:"bottom"},f9={start:"end",end:"start"};function ww(e,t,n){return vo(e,Qc(t,n))}function Ou(e,t){return typeof e=="function"?e(t):e}function Du(e){return e.split("-")[0]}function Rg(e){return e.split("-")[1]}function M2(e){return e==="x"?"y":"x"}function P2(e){return e==="y"?"height":"width"}function ef(e){return["top","bottom"].includes(Du(e))?"y":"x"}function L2(e){return M2(ef(e))}function d9(e,t,n){n===void 0&&(n=!1);const r=Rg(e),i=L2(e),s=P2(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=vS(l)),[l,vS(l)]}function h9(e){const t=vS(e);return[Rw(e),t,Rw(t)]}function Rw(e){return e.replace(/start|end/g,t=>f9[t])}function p9(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:l;default:return[]}}function g9(e,t,n,r){const i=Rg(e);let s=p9(Du(e),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(Rw)))),s}function vS(e){return e.replace(/left|right|bottom|top/g,t=>c9[t])}function m9(e){return{top:0,right:0,bottom:0,left:0,...e}}function _P(e){return typeof e!="number"?m9(e):{top:e,right:e,bottom:e,left:e}}function yS(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function aN(e,t,n){let{reference:r,floating:i}=e;const s=ef(t),l=L2(t),u=P2(l),c=Du(t),g=s==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,x=r[u]/2-i[u]/2;let b;switch(c){case"top":b={x:p,y:r.y-i.height};break;case"bottom":b={x:p,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-i.width,y:m};break;default:b={x:r.x,y:r.y}}switch(Rg(t)){case"start":b[l]-=x*(n&&g?-1:1);break;case"end":b[l]+=x*(n&&g?-1:1);break}return b}const v9=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,u=s.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let g=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:m}=aN(g,r,c),x=r,b={},E=0;for(let w=0;w<u.length;w++){const{name:C,fn:R}=u[w],{x:T,y:_,data:D,reset:F}=await R({x:p,y:m,initialPlacement:r,placement:x,strategy:i,middlewareData:b,rects:g,platform:l,elements:{reference:e,floating:t}});p=T??p,m=_??m,b={...b,[C]:{...b[C],...D}},F&&E<=50&&(E++,typeof F=="object"&&(F.placement&&(x=F.placement),F.rects&&(g=F.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):F.rects),{x:p,y:m}=aN(g,x,c)),w=-1)}return{x:p,y:m,placement:x,strategy:i,middlewareData:b}};async function Nv(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:l,elements:u,strategy:c}=e,{boundary:g="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=Ou(t,e),E=_P(b),C=u[x?m==="floating"?"reference":"floating":m],R=yS(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:g,rootBoundary:p,strategy:c})),T=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),D=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},F=yS(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:_,strategy:c}):T);return{top:(R.top-F.top+E.top)/D.y,bottom:(F.bottom-R.bottom+E.bottom)/D.y,left:(R.left-F.left+E.left)/D.x,right:(F.right-R.right+E.right)/D.x}}const y9=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:l,elements:u,middlewareData:c}=t,{element:g,padding:p=0}=Ou(e,t)||{};if(g==null)return{};const m=_P(p),x={x:n,y:r},b=L2(i),E=P2(b),w=await l.getDimensions(g),C=b==="y",R=C?"top":"left",T=C?"bottom":"right",_=C?"clientHeight":"clientWidth",D=s.reference[E]+s.reference[b]-x[b]-s.floating[E],F=x[b]-s.reference[b],B=await(l.getOffsetParent==null?void 0:l.getOffsetParent(g));let j=B?B[_]:0;(!j||!await(l.isElement==null?void 0:l.isElement(B)))&&(j=u.floating[_]||s.floating[E]);const k=D/2-F/2,$=j/2-w[E]/2-1,Z=Qc(m[R],$),ne=Qc(m[T],$),re=Z,he=j-w[E]-ne,Ce=j/2-w[E]/2+k,_e=ww(re,Ce,he),ie=!c.arrow&&Rg(i)!=null&&Ce!==_e&&s.reference[E]/2-(Ce<re?Z:ne)-w[E]/2<0,Ae=ie?Ce<re?Ce-re:Ce-he:0;return{[b]:x[b]+Ae,data:{[b]:_e,centerOffset:Ce-_e-Ae,...ie&&{alignmentOffset:Ae}},reset:ie}}}),x9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:u,platform:c,elements:g}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...C}=Ou(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const R=Du(i),T=ef(u),_=Du(u)===u,D=await(c.isRTL==null?void 0:c.isRTL(g.floating)),F=x||(_||!w?[vS(u)]:h9(u)),B=E!=="none";!x&&B&&F.push(...g9(u,w,E,D));const j=[u,...F],k=await Nv(t,C),$=[];let Z=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&$.push(k[R]),m){const Ce=d9(i,l,D);$.push(k[Ce[0]],k[Ce[1]])}if(Z=[...Z,{placement:i,overflows:$}],!$.every(Ce=>Ce<=0)){var ne,re;const Ce=(((ne=s.flip)==null?void 0:ne.index)||0)+1,_e=j[Ce];if(_e)return{data:{index:Ce,overflows:Z},reset:{placement:_e}};let ie=(re=Z.filter(Ae=>Ae.overflows[0]<=0).sort((Ae,de)=>Ae.overflows[1]-de.overflows[1])[0])==null?void 0:re.placement;if(!ie)switch(b){case"bestFit":{var he;const Ae=(he=Z.filter(de=>{if(B){const ue=ef(de.placement);return ue===T||ue==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(ue=>ue>0).reduce((ue,K)=>ue+K,0)]).sort((de,ue)=>de[1]-ue[1])[0])==null?void 0:he[0];Ae&&(ie=Ae);break}case"initialPlacement":ie=u;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function lN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uN(e){return u9.some(t=>e[t]>=0)}const b9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ou(e,t);switch(r){case"referenceHidden":{const s=await Nv(t,{...i,elementContext:"reference"}),l=lN(s,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:uN(l)}}}case"escaped":{const s=await Nv(t,{...i,altBoundary:!0}),l=lN(s,n.floating);return{data:{escapedOffsets:l,escaped:uN(l)}}}default:return{}}}}};async function S9(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Du(n),u=Rg(n),c=ef(n)==="y",g=["left","top"].includes(l)?-1:1,p=s&&c?-1:1,m=Ou(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:E}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof E=="number"&&(b=u==="end"?E*-1:E),c?{x:b*p,y:x*g}:{x:x*g,y:b*p}}const A9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:l,middlewareData:u}=t,c=await S9(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:l}}}}},E9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:u={fn:C=>{let{x:R,y:T}=C;return{x:R,y:T}}},...c}=Ou(e,t),g={x:n,y:r},p=await Nv(t,c),m=ef(Du(i)),x=M2(m);let b=g[x],E=g[m];if(s){const C=x==="y"?"top":"left",R=x==="y"?"bottom":"right",T=b+p[C],_=b-p[R];b=ww(T,b,_)}if(l){const C=m==="y"?"top":"left",R=m==="y"?"bottom":"right",T=E+p[C],_=E-p[R];E=ww(T,E,_)}const w=u.fn({...t,[x]:b,[m]:E});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[x]:s,[m]:l}}}}}},C9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:l}=t,{offset:u=0,mainAxis:c=!0,crossAxis:g=!0}=Ou(e,t),p={x:n,y:r},m=ef(i),x=M2(m);let b=p[x],E=p[m];const w=Ou(u,t),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const _=x==="y"?"height":"width",D=s.reference[x]-s.floating[_]+C.mainAxis,F=s.reference[x]+s.reference[_]-C.mainAxis;b<D?b=D:b>F&&(b=F)}if(g){var R,T;const _=x==="y"?"width":"height",D=["top","left"].includes(Du(i)),F=s.reference[m]-s.floating[_]+(D&&((R=l.offset)==null?void 0:R[m])||0)+(D?0:C.crossAxis),B=s.reference[m]+s.reference[_]+(D?0:((T=l.offset)==null?void 0:T[m])||0)-(D?C.crossAxis:0);E<F?E=F:E>B&&(E=B)}return{[x]:b,[m]:E}}}},w9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:l,elements:u}=t,{apply:c=()=>{},...g}=Ou(e,t),p=await Nv(t,g),m=Du(i),x=Rg(i),b=ef(i)==="y",{width:E,height:w}=s.floating;let C,R;m==="top"||m==="bottom"?(C=m,R=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(R=m,C=x==="end"?"top":"bottom");const T=w-p.top-p.bottom,_=E-p.left-p.right,D=Qc(w-p[C],T),F=Qc(E-p[R],_),B=!t.middlewareData.shift;let j=D,k=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=_),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=T),B&&!x){const Z=vo(p.left,0),ne=vo(p.right,0),re=vo(p.top,0),he=vo(p.bottom,0);b?k=E-2*(Z!==0||ne!==0?Z+ne:vo(p.left,p.right)):j=w-2*(re!==0||he!==0?re+he:vo(p.top,p.bottom))}await c({...t,availableWidth:k,availableHeight:j});const $=await l.getDimensions(u.floating);return E!==$.width||w!==$.height?{reset:{rects:!0}}:{}}}};function VS(){return typeof window<"u"}function Tg(e){return IP(e)?(e.nodeName||"").toLowerCase():"#document"}function yo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ua(e){var t;return(t=(IP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function IP(e){return VS()?e instanceof Node||e instanceof yo(e).Node:!1}function Ms(e){return VS()?e instanceof Element||e instanceof yo(e).Element:!1}function Pa(e){return VS()?e instanceof HTMLElement||e instanceof yo(e).HTMLElement:!1}function cN(e){return!VS()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof yo(e).ShadowRoot}function Xv(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ps(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function R9(e){return["table","td","th"].includes(Tg(e))}function GS(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function F2(e){const t=k2(),n=Ms(e)?Ps(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function T9(e){let t=tf(e);for(;Pa(t)&&!hg(t);){if(F2(t))return t;if(GS(t))return null;t=tf(t)}return null}function k2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hg(e){return["html","body","#document"].includes(Tg(e))}function Ps(e){return yo(e).getComputedStyle(e)}function $S(e){return Ms(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tf(e){if(Tg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cN(e)&&e.host||Ua(e);return cN(t)?t.host:t}function OP(e){const t=tf(e);return hg(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pa(t)&&Xv(t)?t:OP(t)}function _v(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=OP(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=yo(i);if(s){const u=Tw(l);return t.concat(l,l.visualViewport||[],Xv(i)?i:[],u&&n?_v(u):[])}return t.concat(i,_v(i,[],n))}function Tw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DP(e){const t=Ps(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Pa(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=mS(n)!==s||mS(r)!==l;return u&&(n=s,r=l),{width:n,height:r,$:u}}function B2(e){return Ms(e)?e:e.contextElement}function Xp(e){const t=B2(e);if(!Pa(t))return Da(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=DP(t);let l=(s?mS(n.width):n.width)/r,u=(s?mS(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const N9=Da(0);function MP(e){const t=yo(e);return!k2()||!t.visualViewport?N9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _9(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==yo(e)?!1:t}function xh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=B2(e);let l=Da(1);t&&(r?Ms(r)&&(l=Xp(r)):l=Xp(e));const u=_9(s,n,r)?MP(s):Da(0);let c=(i.left+u.x)/l.x,g=(i.top+u.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(s){const x=yo(s),b=r&&Ms(r)?yo(r):r;let E=x,w=Tw(E);for(;w&&r&&b!==E;){const C=Xp(w),R=w.getBoundingClientRect(),T=Ps(w),_=R.left+(w.clientLeft+parseFloat(T.paddingLeft))*C.x,D=R.top+(w.clientTop+parseFloat(T.paddingTop))*C.y;c*=C.x,g*=C.y,p*=C.x,m*=C.y,c+=_,g+=D,E=yo(w),w=Tw(E)}}return yS({width:p,height:m,x:c,y:g})}function j2(e,t){const n=$S(e).scrollLeft;return t?t.left+n:xh(Ua(e)).left+n}function PP(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:j2(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function I9(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",l=Ua(r),u=t?GS(t.floating):!1;if(r===l||u&&s)return n;let c={scrollLeft:0,scrollTop:0},g=Da(1);const p=Da(0),m=Pa(r);if((m||!m&&!s)&&((Tg(r)!=="body"||Xv(l))&&(c=$S(r)),Pa(r))){const b=xh(r);g=Xp(r),p.x=b.x+r.clientLeft,p.y=b.y+r.clientTop}const x=l&&!m&&!s?PP(l,c,!0):Da(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-c.scrollLeft*g.x+p.x+x.x,y:n.y*g.y-c.scrollTop*g.y+p.y+x.y}}function O9(e){return Array.from(e.getClientRects())}function D9(e){const t=Ua(e),n=$S(e),r=e.ownerDocument.body,i=vo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=vo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+j2(e);const u=-n.scrollTop;return Ps(r).direction==="rtl"&&(l+=vo(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:u}}function M9(e,t){const n=yo(e),r=Ua(e),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,c=0;if(i){s=i.width,l=i.height;const g=k2();(!g||g&&t==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:s,height:l,x:u,y:c}}function P9(e,t){const n=xh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Pa(e)?Xp(e):Da(1),l=e.clientWidth*s.x,u=e.clientHeight*s.y,c=i*s.x,g=r*s.y;return{width:l,height:u,x:c,y:g}}function fN(e,t,n){let r;if(t==="viewport")r=M9(e,n);else if(t==="document")r=D9(Ua(e));else if(Ms(t))r=P9(t,n);else{const i=MP(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return yS(r)}function LP(e,t){const n=tf(e);return n===t||!Ms(n)||hg(n)?!1:Ps(n).position==="fixed"||LP(n,t)}function L9(e,t){const n=t.get(e);if(n)return n;let r=_v(e,[],!1).filter(u=>Ms(u)&&Tg(u)!=="body"),i=null;const s=Ps(e).position==="fixed";let l=s?tf(e):e;for(;Ms(l)&&!hg(l);){const u=Ps(l),c=F2(l);!c&&u.position==="fixed"&&(i=null),(s?!c&&!i:!c&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Xv(l)&&!c&&LP(e,l))?r=r.filter(p=>p!==l):i=u,l=tf(l)}return t.set(e,r),r}function F9(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?GS(t)?[]:L9(t,this._c):[].concat(n),r],u=l[0],c=l.reduce((g,p)=>{const m=fN(t,p,i);return g.top=vo(m.top,g.top),g.right=Qc(m.right,g.right),g.bottom=Qc(m.bottom,g.bottom),g.left=vo(m.left,g.left),g},fN(t,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function k9(e){const{width:t,height:n}=DP(e);return{width:t,height:n}}function B9(e,t,n){const r=Pa(t),i=Ua(t),s=n==="fixed",l=xh(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const c=Da(0);if(r||!r&&!s)if((Tg(t)!=="body"||Xv(i))&&(u=$S(t)),r){const x=xh(t,!0,s,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else i&&(c.x=j2(i));const g=i&&!r&&!s?PP(i,u):Da(0),p=l.left+u.scrollLeft-c.x-g.x,m=l.top+u.scrollTop-c.y-g.y;return{x:p,y:m,width:l.width,height:l.height}}function JA(e){return Ps(e).position==="static"}function dN(e,t){if(!Pa(e)||Ps(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ua(e)===n&&(n=n.ownerDocument.body),n}function FP(e,t){const n=yo(e);if(GS(e))return n;if(!Pa(e)){let i=tf(e);for(;i&&!hg(i);){if(Ms(i)&&!JA(i))return i;i=tf(i)}return n}let r=dN(e,t);for(;r&&R9(r)&&JA(r);)r=dN(r,t);return r&&hg(r)&&JA(r)&&!F2(r)?n:r||T9(e)||n}const j9=async function(e){const t=this.getOffsetParent||FP,n=this.getDimensions,r=await n(e.floating);return{reference:B9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function z9(e){return Ps(e).direction==="rtl"}const U9={convertOffsetParentRelativeRectToViewportRelativeRect:I9,getDocumentElement:Ua,getClippingRect:F9,getOffsetParent:FP,getElementRects:j9,getClientRects:O9,getDimensions:k9,getScale:Xp,isElement:Ms,isRTL:z9};function kP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function V9(e,t){let n=null,r;const i=Ua(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),s();const g=e.getBoundingClientRect(),{left:p,top:m,width:x,height:b}=g;if(u||t(),!x||!b)return;const E=Fb(m),w=Fb(i.clientWidth-(p+x)),C=Fb(i.clientHeight-(m+b)),R=Fb(p),_={rootMargin:-E+"px "+-w+"px "+-C+"px "+-R+"px",threshold:vo(0,Qc(1,c))||1};let D=!0;function F(B){const j=B[0].intersectionRatio;if(j!==c){if(!D)return l();j?l(!1,j):r=setTimeout(()=>{l(!1,1e-7)},1e3)}j===1&&!kP(g,e.getBoundingClientRect())&&l(),D=!1}try{n=new IntersectionObserver(F,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(F,_)}n.observe(e)}return l(!0),s}function G9(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,g=B2(e),p=i||s?[...g?_v(g):[],..._v(t)]:[];p.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),s&&R.addEventListener("resize",n)});const m=g&&u?V9(g,n):null;let x=-1,b=null;l&&(b=new ResizeObserver(R=>{let[T]=R;T&&T.target===g&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var _;(_=b)==null||_.observe(t)})),n()}),g&&!c&&b.observe(g),b.observe(t));let E,w=c?xh(e):null;c&&C();function C(){const R=xh(e);w&&!kP(w,R)&&n(),w=R,E=requestAnimationFrame(C)}return n(),()=>{var R;p.forEach(T=>{i&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),m==null||m(),(R=b)==null||R.disconnect(),b=null,c&&cancelAnimationFrame(E)}}const $9=A9,H9=E9,W9=x9,Y9=w9,q9=b9,hN=y9,K9=C9,X9=(e,t,n)=>{const r=new Map,i={platform:U9,...n},s={...i.platform,_c:r};return v9(e,t,{...i,platform:s})};var eS=typeof document<"u"?P.useLayoutEffect:P.useEffect;function xS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xS(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!xS(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function BP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pN(e,t){const n=BP(e);return Math.round(t*n)/n}function QA(e){const t=P.useRef(e);return eS(()=>{t.current=e}),t}function Z9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:c,open:g}=e,[p,m]=P.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=P.useState(r);xS(x,r)||b(r);const[E,w]=P.useState(null),[C,R]=P.useState(null),T=P.useCallback(de=>{de!==B.current&&(B.current=de,w(de))},[]),_=P.useCallback(de=>{de!==j.current&&(j.current=de,R(de))},[]),D=s||E,F=l||C,B=P.useRef(null),j=P.useRef(null),k=P.useRef(p),$=c!=null,Z=QA(c),ne=QA(i),re=QA(g),he=P.useCallback(()=>{if(!B.current||!j.current)return;const de={placement:t,strategy:n,middleware:x};ne.current&&(de.platform=ne.current),X9(B.current,j.current,de).then(ue=>{const K={...ue,isPositioned:re.current!==!1};Ce.current&&!xS(k.current,K)&&(k.current=K,Ia.flushSync(()=>{m(K)}))})},[x,t,n,ne,re]);eS(()=>{g===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m(de=>({...de,isPositioned:!1})))},[g]);const Ce=P.useRef(!1);eS(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]),eS(()=>{if(D&&(B.current=D),F&&(j.current=F),D&&F){if(Z.current)return Z.current(D,F,he);he()}},[D,F,he,Z,$]);const _e=P.useMemo(()=>({reference:B,floating:j,setReference:T,setFloating:_}),[T,_]),ie=P.useMemo(()=>({reference:D,floating:F}),[D,F]),Ae=P.useMemo(()=>{const de={position:n,left:0,top:0};if(!ie.floating)return de;const ue=pN(ie.floating,p.x),K=pN(ie.floating,p.y);return u?{...de,transform:"translate("+ue+"px, "+K+"px)",...BP(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ue,top:K}},[n,u,ie.floating,p.x,p.y]);return P.useMemo(()=>({...p,update:he,refs:_e,elements:ie,floatingStyles:Ae}),[p,he,_e,ie,Ae])}const J9=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?hN({element:r.current,padding:i}).fn(n):{}:r?hN({element:r,padding:i}).fn(n):{}}}},Q9=(e,t)=>({...$9(e),options:[e,t]}),eG=(e,t)=>({...H9(e),options:[e,t]}),tG=(e,t)=>({...K9(e),options:[e,t]}),nG=(e,t)=>({...W9(e),options:[e,t]}),rG=(e,t)=>({...Y9(e),options:[e,t]}),iG=(e,t)=>({...q9(e),options:[e,t]}),oG=(e,t)=>({...J9(e),options:[e,t]});var sG="Arrow",jP=P.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return O.jsx(Yt.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:O.jsx("polygon",{points:"0,0 30,0 15,10"})})});jP.displayName=sG;var aG=jP;function zP(e){const[t,n]=P.useState(void 0);return Lr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,u;if("borderBoxSize"in s){const c=s.borderBoxSize,g=Array.isArray(c)?c[0]:c;l=g.inlineSize,u=g.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var z2="Popper",[UP,Ng]=ja(z2),[lG,VP]=UP(z2),GP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=P.useState(null);return O.jsx(lG,{scope:t,anchor:r,onAnchorChange:i,children:n})};GP.displayName=z2;var $P="PopperAnchor",HP=P.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=VP($P,n),l=P.useRef(null),u=Cn(t,l);return P.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:O.jsx(Yt.div,{...i,ref:u})});HP.displayName=$P;var U2="PopperContent",[uG,cG]=UP(U2),WP=P.forwardRef((e,t)=>{var Q,X,J,se,xe,be;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:c=!0,collisionBoundary:g=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:E,...w}=e,C=VP(U2,n),[R,T]=P.useState(null),_=Cn(t,ae=>T(ae)),[D,F]=P.useState(null),B=zP(D),j=(B==null?void 0:B.width)??0,k=(B==null?void 0:B.height)??0,$=r+(s!=="center"?"-"+s:""),Z=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ne=Array.isArray(g)?g:[g],re=ne.length>0,he={padding:Z,boundary:ne.filter(dG),altBoundary:re},{refs:Ce,floatingStyles:_e,placement:ie,isPositioned:Ae,middlewareData:de}=Z9({strategy:"fixed",placement:$,whileElementsMounted:(...ae)=>G9(...ae,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[Q9({mainAxis:i+k,alignmentAxis:l}),c&&eG({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?tG():void 0,...he}),c&&nG({...he}),rG({...he,apply:({elements:ae,rects:le,availableWidth:we,availableHeight:De})=>{const{width:je,height:Ue}=le.reference,ve=ae.floating.style;ve.setProperty("--radix-popper-available-width",`${we}px`),ve.setProperty("--radix-popper-available-height",`${De}px`),ve.setProperty("--radix-popper-anchor-width",`${je}px`),ve.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),D&&oG({element:D,padding:u}),hG({arrowWidth:j,arrowHeight:k}),x&&iG({strategy:"referenceHidden",...he})]}),[ue,K]=KP(ie),oe=bo(E);Lr(()=>{Ae&&(oe==null||oe())},[Ae,oe]);const pe=(Q=de.arrow)==null?void 0:Q.x,z=(X=de.arrow)==null?void 0:X.y,U=((J=de.arrow)==null?void 0:J.centerOffset)!==0,[G,W]=P.useState();return Lr(()=>{R&&W(window.getComputedStyle(R).zIndex)},[R]),O.jsx("div",{ref:Ce.setFloating,"data-radix-popper-content-wrapper":"",style:{..._e,transform:Ae?_e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(se=de.transformOrigin)==null?void 0:se.x,(xe=de.transformOrigin)==null?void 0:xe.y].join(" "),...((be=de.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:O.jsx(uG,{scope:n,placedSide:ue,onArrowChange:F,arrowX:pe,arrowY:z,shouldHideArrow:U,children:O.jsx(Yt.div,{"data-side":ue,"data-align":K,...w,ref:_,style:{...w.style,animation:Ae?void 0:"none"}})})})});WP.displayName=U2;var YP="PopperArrow",fG={top:"bottom",right:"left",bottom:"top",left:"right"},qP=P.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=cG(YP,r),l=fG[s.placedSide];return O.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:O.jsx(aG,{...i,ref:n,style:{...i.style,display:"block"}})})});qP.displayName=YP;function dG(e){return e!==null}var hG=e=>({name:"transformOrigin",options:e,fn(t){var C,R,T;const{placement:n,rects:r,middlewareData:i}=t,l=((C=i.arrow)==null?void 0:C.centerOffset)!==0,u=l?0:e.arrowWidth,c=l?0:e.arrowHeight,[g,p]=KP(n),m={start:"0%",center:"50%",end:"100%"}[p],x=(((R=i.arrow)==null?void 0:R.x)??0)+u/2,b=(((T=i.arrow)==null?void 0:T.y)??0)+c/2;let E="",w="";return g==="bottom"?(E=l?m:`${x}px`,w=`${-c}px`):g==="top"?(E=l?m:`${x}px`,w=`${r.floating.height+c}px`):g==="right"?(E=`${-c}px`,w=l?m:`${b}px`):g==="left"&&(E=`${r.floating.width+c}px`,w=l?m:`${b}px`),{data:{x:E,y:w}}}});function KP(e){const[t,n="center"]=e.split("-");return[t,n]}var V2=GP,G2=HP,$2=WP,H2=qP,eE="rovingFocusGroup.onEntryFocus",pG={bubbles:!1,cancelable:!0},HS="RovingFocusGroup",[Nw,XP,gG]=O2(HS),[mG,ZP]=ja(HS,[gG]),[vG,yG]=mG(HS),JP=P.forwardRef((e,t)=>O.jsx(Nw.Provider,{scope:e.__scopeRovingFocusGroup,children:O.jsx(Nw.Slot,{scope:e.__scopeRovingFocusGroup,children:O.jsx(xG,{...e,ref:t})})}));JP.displayName=HS;var xG=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:g,preventScrollOnEntryFocus:p=!1,...m}=e,x=P.useRef(null),b=Cn(t,x),E=D2(s),[w=null,C]=vh({prop:l,defaultProp:u,onChange:c}),[R,T]=P.useState(!1),_=bo(g),D=XP(n),F=P.useRef(!1),[B,j]=P.useState(0);return P.useEffect(()=>{const k=x.current;if(k)return k.addEventListener(eE,_),()=>k.removeEventListener(eE,_)},[_]),O.jsx(vG,{scope:n,orientation:r,dir:E,loop:i,currentTabStopId:w,onItemFocus:P.useCallback(k=>C(k),[C]),onItemShiftTab:P.useCallback(()=>T(!0),[]),onFocusableItemAdd:P.useCallback(()=>j(k=>k+1),[]),onFocusableItemRemove:P.useCallback(()=>j(k=>k-1),[]),children:O.jsx(Yt.div,{tabIndex:R||B===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{F.current=!0}),onFocus:dt(e.onFocus,k=>{const $=!F.current;if(k.target===k.currentTarget&&$&&!R){const Z=new CustomEvent(eE,pG);if(k.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const ne=D().filter(ie=>ie.focusable),re=ne.find(ie=>ie.active),he=ne.find(ie=>ie.id===w),_e=[re,he,...ne].filter(Boolean).map(ie=>ie.ref.current);tL(_e,p)}}F.current=!1}),onBlur:dt(e.onBlur,()=>T(!1))})})}),QP="RovingFocusGroupItem",eL=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...l}=e,u=Oa(),c=s||u,g=yG(QP,n),p=g.currentTabStopId===c,m=XP(n),{onFocusableItemAdd:x,onFocusableItemRemove:b}=g;return P.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),O.jsx(Nw.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:O.jsx(Yt.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...l,ref:t,onMouseDown:dt(e.onMouseDown,E=>{r?g.onItemFocus(c):E.preventDefault()}),onFocus:dt(e.onFocus,()=>g.onItemFocus(c)),onKeyDown:dt(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const w=AG(E,g.orientation,g.dir);if(w!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let R=m().filter(T=>T.focusable).map(T=>T.ref.current);if(w==="last")R.reverse();else if(w==="prev"||w==="next"){w==="prev"&&R.reverse();const T=R.indexOf(E.currentTarget);R=g.loop?EG(R,T+1):R.slice(T+1)}setTimeout(()=>tL(R))}})})})});eL.displayName=QP;var bG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function SG(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function AG(e,t,n){const r=SG(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bG[r]}function tL(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function EG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var CG=JP,wG=eL,_w=["Enter"," "],RG=["ArrowDown","PageUp","Home"],nL=["ArrowUp","PageDown","End"],TG=[...RG,...nL],NG={ltr:[..._w,"ArrowRight"],rtl:[..._w,"ArrowLeft"]},_G={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zv="Menu",[Iv,IG,OG]=O2(Zv),[Ah,rL]=ja(Zv,[OG,Ng,ZP]),WS=Ng(),iL=ZP(),[DG,Eh]=Ah(Zv),[MG,Jv]=Ah(Zv),oL=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:l=!0}=e,u=WS(t),[c,g]=P.useState(null),p=P.useRef(!1),m=bo(s),x=D2(i);return P.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),O.jsx(V2,{...u,children:O.jsx(DG,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:g,children:O.jsx(MG,{scope:t,onClose:P.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:x,modal:l,children:r})})})};oL.displayName=Zv;var PG="MenuAnchor",W2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=WS(n);return O.jsx(G2,{...i,...r,ref:t})});W2.displayName=PG;var Y2="MenuPortal",[LG,sL]=Ah(Y2,{forceMount:void 0}),aL=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=Eh(Y2,t);return O.jsx(LG,{scope:t,forceMount:n,children:O.jsx(za,{present:n||s.open,children:O.jsx($v,{asChild:!0,container:i,children:r})})})};aL.displayName=Y2;var Ho="MenuContent",[FG,q2]=Ah(Ho),lL=P.forwardRef((e,t)=>{const n=sL(Ho,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Eh(Ho,e.__scopeMenu),l=Jv(Ho,e.__scopeMenu);return O.jsx(Iv.Provider,{scope:e.__scopeMenu,children:O.jsx(za,{present:r||s.open,children:O.jsx(Iv.Slot,{scope:e.__scopeMenu,children:l.modal?O.jsx(kG,{...i,ref:t}):O.jsx(BG,{...i,ref:t})})})})}),kG=P.forwardRef((e,t)=>{const n=Eh(Ho,e.__scopeMenu),r=P.useRef(null),i=Cn(t,r);return P.useEffect(()=>{const s=r.current;if(s)return R2(s)},[]),O.jsx(K2,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:dt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),BG=P.forwardRef((e,t)=>{const n=Eh(Ho,e.__scopeMenu);return O.jsx(K2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),jG=Xc("MenuContent.ScrollLock"),K2=P.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:c,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,disableOutsideScroll:E,...w}=e,C=Eh(Ho,n),R=Jv(Ho,n),T=WS(n),_=iL(n),D=IG(n),[F,B]=P.useState(null),j=P.useRef(null),k=Cn(t,j,C.onContentChange),$=P.useRef(0),Z=P.useRef(""),ne=P.useRef(0),re=P.useRef(null),he=P.useRef("right"),Ce=P.useRef(0),_e=E?US:P.Fragment,ie=E?{as:jG,allowPinchZoom:!0}:void 0,Ae=ue=>{var Q,X;const K=Z.current+ue,oe=D().filter(J=>!J.disabled),pe=document.activeElement,z=(Q=oe.find(J=>J.ref.current===pe))==null?void 0:Q.textValue,U=oe.map(J=>J.textValue),G=ZG(U,K,z),W=(X=oe.find(J=>J.textValue===G))==null?void 0:X.ref.current;(function J(se){Z.current=se,window.clearTimeout($.current),se!==""&&($.current=window.setTimeout(()=>J(""),1e3))})(K),W&&setTimeout(()=>W.focus())};P.useEffect(()=>()=>window.clearTimeout($.current),[]),w2();const de=P.useCallback(ue=>{var oe,pe;return he.current===((oe=re.current)==null?void 0:oe.side)&&QG(ue,(pe=re.current)==null?void 0:pe.area)},[]);return O.jsx(FG,{scope:n,searchRef:Z,onItemEnter:P.useCallback(ue=>{de(ue)&&ue.preventDefault()},[de]),onItemLeave:P.useCallback(ue=>{var K;de(ue)||((K=j.current)==null||K.focus(),B(null))},[de]),onTriggerLeave:P.useCallback(ue=>{de(ue)&&ue.preventDefault()},[de]),pointerGraceTimerRef:ne,onPointerGraceIntentChange:P.useCallback(ue=>{re.current=ue},[]),children:O.jsx(_e,{...ie,children:O.jsx(jS,{asChild:!0,trapped:i,onMountAutoFocus:dt(s,ue=>{var K;ue.preventDefault(),(K=j.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:O.jsx(Gv,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:g,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,children:O.jsx(CG,{asChild:!0,..._,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:B,onEntryFocus:dt(c,ue=>{R.isUsingKeyboardRef.current||ue.preventDefault()}),preventScrollOnEntryFocus:!0,children:O.jsx($2,{role:"menu","aria-orientation":"vertical","data-state":CL(C.open),"data-radix-menu-content":"",dir:R.dir,...T,...w,ref:k,style:{outline:"none",...w.style},onKeyDown:dt(w.onKeyDown,ue=>{const oe=ue.target.closest("[data-radix-menu-content]")===ue.currentTarget,pe=ue.ctrlKey||ue.altKey||ue.metaKey,z=ue.key.length===1;oe&&(ue.key==="Tab"&&ue.preventDefault(),!pe&&z&&Ae(ue.key));const U=j.current;if(ue.target!==U||!TG.includes(ue.key))return;ue.preventDefault();const W=D().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);nL.includes(ue.key)&&W.reverse(),KG(W)}),onBlur:dt(e.onBlur,ue=>{ue.currentTarget.contains(ue.target)||(window.clearTimeout($.current),Z.current="")}),onPointerMove:dt(e.onPointerMove,Ov(ue=>{const K=ue.target,oe=Ce.current!==ue.clientX;if(ue.currentTarget.contains(K)&&oe){const pe=ue.clientX>Ce.current?"right":"left";he.current=pe,Ce.current=ue.clientX}}))})})})})})})});lL.displayName=Ho;var zG="MenuGroup",X2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Yt.div,{role:"group",...r,ref:t})});X2.displayName=zG;var UG="MenuLabel",uL=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Yt.div,{...r,ref:t})});uL.displayName=UG;var bS="MenuItem",gN="menu.itemSelect",YS=P.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=P.useRef(null),l=Jv(bS,e.__scopeMenu),u=q2(bS,e.__scopeMenu),c=Cn(t,s),g=P.useRef(!1),p=()=>{const m=s.current;if(!n&&m){const x=new CustomEvent(gN,{bubbles:!0,cancelable:!0});m.addEventListener(gN,b=>r==null?void 0:r(b),{once:!0}),qM(m,x),x.defaultPrevented?g.current=!1:l.onClose()}};return O.jsx(cL,{...i,ref:c,disabled:n,onClick:dt(e.onClick,p),onPointerDown:m=>{var x;(x=e.onPointerDown)==null||x.call(e,m),g.current=!0},onPointerUp:dt(e.onPointerUp,m=>{var x;g.current||(x=m.currentTarget)==null||x.click()}),onKeyDown:dt(e.onKeyDown,m=>{const x=u.searchRef.current!=="";n||x&&m.key===" "||_w.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});YS.displayName=bS;var cL=P.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,l=q2(bS,n),u=iL(n),c=P.useRef(null),g=Cn(t,c),[p,m]=P.useState(!1),[x,b]=P.useState("");return P.useEffect(()=>{const E=c.current;E&&b((E.textContent??"").trim())},[s.children]),O.jsx(Iv.ItemSlot,{scope:n,disabled:r,textValue:i??x,children:O.jsx(wG,{asChild:!0,...u,focusable:!r,children:O.jsx(Yt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:g,onPointerMove:dt(e.onPointerMove,Ov(E=>{r?l.onItemLeave(E):(l.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:dt(e.onPointerLeave,Ov(E=>l.onItemLeave(E))),onFocus:dt(e.onFocus,()=>m(!0)),onBlur:dt(e.onBlur,()=>m(!1))})})})}),VG="MenuCheckboxItem",fL=P.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return O.jsx(mL,{scope:e.__scopeMenu,checked:n,children:O.jsx(YS,{role:"menuitemcheckbox","aria-checked":SS(n)?"mixed":n,...i,ref:t,"data-state":J2(n),onSelect:dt(i.onSelect,()=>r==null?void 0:r(SS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});fL.displayName=VG;var dL="MenuRadioGroup",[GG,$G]=Ah(dL,{value:void 0,onValueChange:()=>{}}),hL=P.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=bo(r);return O.jsx(GG,{scope:e.__scopeMenu,value:n,onValueChange:s,children:O.jsx(X2,{...i,ref:t})})});hL.displayName=dL;var pL="MenuRadioItem",gL=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=$G(pL,e.__scopeMenu),s=n===i.value;return O.jsx(mL,{scope:e.__scopeMenu,checked:s,children:O.jsx(YS,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":J2(s),onSelect:dt(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});gL.displayName=pL;var Z2="MenuItemIndicator",[mL,HG]=Ah(Z2,{checked:!1}),vL=P.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=HG(Z2,n);return O.jsx(za,{present:r||SS(s.checked)||s.checked===!0,children:O.jsx(Yt.span,{...i,ref:t,"data-state":J2(s.checked)})})});vL.displayName=Z2;var WG="MenuSeparator",yL=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.jsx(Yt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});yL.displayName=WG;var YG="MenuArrow",xL=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=WS(n);return O.jsx(H2,{...i,...r,ref:t})});xL.displayName=YG;var qG="MenuSub",[dJ,bL]=Ah(qG),cv="MenuSubTrigger",SL=P.forwardRef((e,t)=>{const n=Eh(cv,e.__scopeMenu),r=Jv(cv,e.__scopeMenu),i=bL(cv,e.__scopeMenu),s=q2(cv,e.__scopeMenu),l=P.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:c}=s,g={__scopeMenu:e.__scopeMenu},p=P.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return P.useEffect(()=>p,[p]),P.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),c(null)}},[u,c]),O.jsx(W2,{asChild:!0,...g,children:O.jsx(cL,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":CL(n.open),...e,ref:FS(t,i.onTriggerChange),onClick:m=>{var x;(x=e.onClick)==null||x.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:dt(e.onPointerMove,Ov(m=>{s.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:dt(e.onPointerLeave,Ov(m=>{var b,E;p();const x=(b=n.content)==null?void 0:b.getBoundingClientRect();if(x){const w=(E=n.content)==null?void 0:E.dataset.side,C=w==="right",R=C?-5:5,T=x[C?"left":"right"],_=x[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+R,y:m.clientY},{x:T,y:x.top},{x:_,y:x.top},{x:_,y:x.bottom},{x:T,y:x.bottom}],side:w}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:dt(e.onKeyDown,m=>{var b;const x=s.searchRef.current!=="";e.disabled||x&&m.key===" "||NG[r.dir].includes(m.key)&&(n.onOpenChange(!0),(b=n.content)==null||b.focus(),m.preventDefault())})})})});SL.displayName=cv;var AL="MenuSubContent",EL=P.forwardRef((e,t)=>{const n=sL(Ho,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Eh(Ho,e.__scopeMenu),l=Jv(Ho,e.__scopeMenu),u=bL(AL,e.__scopeMenu),c=P.useRef(null),g=Cn(t,c);return O.jsx(Iv.Provider,{scope:e.__scopeMenu,children:O.jsx(za,{present:r||s.open,children:O.jsx(Iv.Slot,{scope:e.__scopeMenu,children:O.jsx(K2,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:g,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var m;l.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:dt(e.onFocusOutside,p=>{p.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:dt(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:dt(e.onKeyDown,p=>{var b;const m=p.currentTarget.contains(p.target),x=_G[l.dir].includes(p.key);m&&x&&(s.onOpenChange(!1),(b=u.trigger)==null||b.focus(),p.preventDefault())})})})})})});EL.displayName=AL;function CL(e){return e?"open":"closed"}function SS(e){return e==="indeterminate"}function J2(e){return SS(e)?"indeterminate":e?"checked":"unchecked"}function KG(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function XG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function ZG(e,t,n){const i=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=XG(e,Math.max(s,0));i.length===1&&(l=l.filter(g=>g!==n));const c=l.find(g=>g.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function JG(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s].x,c=t[s].y,g=t[l].x,p=t[l].y;c>r!=p>r&&n<(g-u)*(r-c)/(p-c)+u&&(i=!i)}return i}function QG(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return JG(n,t)}function Ov(e){return t=>t.pointerType==="mouse"?e(t):void 0}var e$=oL,t$=W2,n$=aL,r$=lL,i$=X2,o$=uL,s$=YS,a$=fL,l$=hL,u$=gL,c$=vL,f$=yL,d$=xL,h$=SL,p$=EL,Q2="DropdownMenu",[g$,hJ]=ja(Q2,[rL]),Oi=rL(),[m$,wL]=g$(Q2),RL=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:l,modal:u=!0}=e,c=Oi(t),g=P.useRef(null),[p=!1,m]=vh({prop:i,defaultProp:s,onChange:l});return O.jsx(m$,{scope:t,triggerId:Oa(),triggerRef:g,contentId:Oa(),open:p,onOpenChange:m,onOpenToggle:P.useCallback(()=>m(x=>!x),[m]),modal:u,children:O.jsx(e$,{...c,open:p,onOpenChange:m,dir:r,modal:u,children:n})})};RL.displayName=Q2;var TL="DropdownMenuTrigger",NL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=wL(TL,n),l=Oi(n);return O.jsx(t$,{asChild:!0,...l,children:O.jsx(Yt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:FS(t,s.triggerRef),onPointerDown:dt(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:dt(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});NL.displayName=TL;var v$="DropdownMenuPortal",_L=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Oi(t);return O.jsx(n$,{...r,...n})};_L.displayName=v$;var IL="DropdownMenuContent",OL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wL(IL,n),s=Oi(n),l=P.useRef(!1);return O.jsx(r$,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:dt(e.onCloseAutoFocus,u=>{var c;l.current||(c=i.triggerRef.current)==null||c.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:dt(e.onInteractOutside,u=>{const c=u.detail.originalEvent,g=c.button===0&&c.ctrlKey===!0,p=c.button===2||g;(!i.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OL.displayName=IL;var y$="DropdownMenuGroup",x$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return O.jsx(i$,{...i,...r,ref:t})});x$.displayName=y$;var b$="DropdownMenuLabel",DL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return O.jsx(o$,{...i,...r,ref:t})});DL.displayName=b$;var S$="DropdownMenuItem",ML=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return O.jsx(s$,{...i,...r,ref:t})});ML.displayName=S$;var A$="DropdownMenuCheckboxItem",E$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return O.jsx(a$,{...i,...r,ref:t})});E$.displayName=A$;var C$="DropdownMenuRadioGroup",w$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return O.jsx(l$,{...i,...r,ref:t})});w$.displayName=C$;var R$="DropdownMenuRadioItem",T$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return O.jsx(u$,{...i,...r,ref:t})});T$.displayName=R$;var N$="DropdownMenuItemIndicator",_$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return O.jsx(c$,{...i,...r,ref:t})});_$.displayName=N$;var I$="DropdownMenuSeparator",PL=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return O.jsx(f$,{...i,...r,ref:t})});PL.displayName=I$;var O$="DropdownMenuArrow",D$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return O.jsx(d$,{...i,...r,ref:t})});D$.displayName=O$;var M$="DropdownMenuSubTrigger",P$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return O.jsx(h$,{...i,...r,ref:t})});P$.displayName=M$;var L$="DropdownMenuSubContent",F$=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oi(n);return O.jsx(p$,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});F$.displayName=L$;var k$=RL,B$=NL,j$=_L,z$=OL,U$=DL,V$=ML,G$=PL;function Ta({...e}){return O.jsx(k$,{"data-slot":"dropdown-menu",...e})}function Na({...e}){return O.jsx(B$,{"data-slot":"dropdown-menu-trigger",...e})}function _a({className:e,sideOffset:t=4,...n}){return O.jsx(j$,{children:O.jsx(z$,{"data-slot":"dropdown-menu-content",sideOffset:t,className:St("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function cr({className:e,inset:t,variant:n="default",...r}){return O.jsx(V$,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:St("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function tS({className:e,inset:t,...n}){return O.jsx(U$,{"data-slot":"dropdown-menu-label","data-inset":t,className:St("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function Zp({className:e,...t}){return O.jsx(G$,{"data-slot":"dropdown-menu-separator",className:St("bg-border -mx-1 my-1 h-px",e),...t})}function B0({className:e,...t}){return O.jsx("span",{"data-slot":"dropdown-menu-shortcut",className:St("text-muted-foreground ml-auto text-xs tracking-widest",e),...t})}function Ni({className:e,type:t,...n}){return O.jsx("input",{type:t,"data-slot":"input",className:St("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var $$="Label",LL=P.forwardRef((e,t)=>O.jsx(Yt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));LL.displayName=$$;var H$=LL;function Dr({className:e,...t}){return O.jsx(H$,{"data-slot":"label",className:St("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function FL({className:e,...t}){return O.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:O.jsx("table",{"data-slot":"table",className:St("w-full caption-bottom text-sm",e),...t})})}function kL({className:e,...t}){return O.jsx("thead",{"data-slot":"table-header",className:St("[&_tr]:border-b",e),...t})}function BL({className:e,...t}){return O.jsx("tbody",{"data-slot":"table-body",className:St("[&_tr:last-child]:border-0",e),...t})}function Jp({className:e,...t}){return O.jsx("tr",{"data-slot":"table-row",className:St("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function jL({className:e,...t}){return O.jsx("th",{"data-slot":"table-head",className:St("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function AS({className:e,...t}){return O.jsx("td",{"data-slot":"table-cell",className:St("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function W$({data:e}){var T,_;const t=Vv(),n=a2(),r=[{accessorKey:"id",header:"ID",enableHiding:!0},{accessorKey:"title",header:"Title",cell:({row:D})=>O.jsx("div",{className:"capitalize",children:D.getValue("title")})},{accessorKey:"createdAt",header:()=>O.jsx("div",{className:"text-right",children:"Created At"}),cell:({row:D})=>{const F=D.getValue("createdAt"),B=YM(new Date(F),{includeSeconds:!0,addSuffix:!0});return O.jsx("div",{className:"text-right font-medium",children:B})}},{id:"actions",enableHiding:!1,cell:({row:D})=>O.jsxs(Ta,{children:[O.jsx(Na,{asChild:!0,children:O.jsxs(rr,{variant:"ghost",className:"h-8 w-8 p-0",children:[O.jsx("span",{className:"sr-only",children:"Open menu"}),O.jsx(fM,{})]})}),O.jsxs(_a,{align:"end",children:[O.jsxs(cr,{onClick:F=>{F.stopPropagation(),s({id:String(D.getValue("id")),title:D.getValue("title")})},children:[O.jsx(pM,{className:"mr-2 h-4 w-4"}),"Rename"]}),O.jsxs(cr,{className:"text-red-500 focus:text-red-500",onClick:F=>{F.stopPropagation(),u.mutate(String(D.getValue("id")))},children:[O.jsx(mM,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}],[i,s]=P.useState(null),l=Xb({mutationFn:async D=>await JU(D),onSuccess:D=>n(`/${D.id}`)}),u=Xb({mutationFn:async D=>await tV(D),onSuccess:()=>t.invalidateQueries({queryKey:["documents"]})}),c=Xb({mutationFn:async({id:D,title:F})=>await DM(D,F),onSuccess:()=>{t.invalidateQueries({queryKey:["documents"]}),s(null)}}),[g,p]=P.useState([]),[m,x]=P.useState([]),[b,E]=P.useState({id:!1}),[w,C]=P.useState({}),R=WM({data:e,columns:r,onSortingChange:p,onColumnFiltersChange:x,getCoreRowModel:VM(),getPaginationRowModel:$M(),getSortedRowModel:HM(),getFilteredRowModel:GM(),onColumnVisibilityChange:E,onRowSelectionChange:C,state:{sorting:g,columnFilters:m,columnVisibility:b,rowSelection:w}});return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex items-center justify-between py-4",children:[O.jsx(Ni,{placeholder:"Filter by title...",value:((T=R.getColumn("title"))==null?void 0:T.getFilterValue())??"",onChange:D=>{var F;return(F=R.getColumn("title"))==null?void 0:F.setFilterValue(D.target.value)},className:"max-w-sm"}),O.jsxs(rr,{onClick:()=>{l.mutate({title:"New Document"})},className:"flex items-center gap-2",children:[O.jsx(gM,{className:"w-4 h-4"}),"New Document"]})]}),O.jsx("div",{className:"rounded-md border",children:O.jsxs(FL,{children:[O.jsx(kL,{children:R.getHeaderGroups().map(D=>O.jsx(Jp,{children:D.headers.map(F=>O.jsx(jL,{children:F.isPlaceholder?null:pS(F.column.columnDef.header,F.getContext())},F.id))},D.id))}),O.jsx(BL,{children:(_=R.getRowModel().rows)!=null&&_.length?R.getRowModel().rows.map(D=>O.jsx(Jp,{"data-state":D.getIsSelected()&&"selected",className:"cursor-pointer hover:bg-muted",onClick:F=>{F.target.closest("input, button")||n(`/${D.getValue("id")}`)},children:D.getVisibleCells().map(F=>O.jsx(AS,{children:pS(F.column.columnDef.cell,F.getContext())},F.id))},D.id)):O.jsx(Jp,{children:O.jsx(AS,{colSpan:r.length,className:"h-24 text-center",children:"No results."})})})]})}),O.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[O.jsx("div",{className:"flex-1"}),O.jsxs("div",{className:"space-x-2",children:[O.jsx(rr,{variant:"outline",size:"sm",onClick:()=>R.previousPage(),disabled:!R.getCanPreviousPage(),children:"Previous"}),O.jsx(rr,{variant:"outline",size:"sm",onClick:()=>R.nextPage(),disabled:!R.getCanNextPage(),children:"Next"})]})]}),O.jsx(Hv,{open:i!==null,onOpenChange:D=>{D||s(null)},children:O.jsx(Wv,{className:"sm:max-w-md",children:O.jsxs("form",{onSubmit:D=>{if(D.preventDefault(),!i)return;const B=new FormData(D.target).get("title");B.trim()&&c.mutate({id:i.id,title:B.trim()})},children:[O.jsxs(Yv,{children:[O.jsx(qv,{children:"Rename Document"}),O.jsx(Kv,{children:"Enter a new name for this document."})]}),O.jsx("div",{className:"grid gap-4 py-2",children:O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"rename-title",children:"Title"}),O.jsx(Ni,{id:"rename-title",name:"title",defaultValue:(i==null?void 0:i.title)??"",autoFocus:!0},i==null?void 0:i.id)]})}),O.jsxs(a9,{children:[O.jsx(rr,{type:"button",variant:"outline",onClick:()=>s(null),children:"Cancel"}),O.jsx(rr,{type:"submit",disabled:c.isPending,children:"Rename"})]})]})})})]})}function Y$(){const{data:e=[],isLoading:t,isError:n}=Ba({queryKey:["documents"],queryFn:QU});return t?O.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:O.jsx("p",{className:"text-gray-500 text-lg",children:"Loading documents..."})}):n?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[O.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load documents."}),O.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):O.jsx("div",{className:"p-4",children:O.jsx(W$,{data:e})})}var fv={exports:{}},q$=fv.exports,mN;function K$(){return mN||(mN=1,function(e,t){var n={};(function(r,i){i(t,I3(),MS())})(q$,function(r,i,s){var l;(function(h){h[h.Canceled=1]="Canceled",h[h.Unknown=2]="Unknown",h[h.InvalidArgument=3]="InvalidArgument",h[h.DeadlineExceeded=4]="DeadlineExceeded",h[h.NotFound=5]="NotFound",h[h.AlreadyExists=6]="AlreadyExists",h[h.PermissionDenied=7]="PermissionDenied",h[h.ResourceExhausted=8]="ResourceExhausted",h[h.FailedPrecondition=9]="FailedPrecondition",h[h.Aborted=10]="Aborted",h[h.OutOfRange=11]="OutOfRange",h[h.Unimplemented=12]="Unimplemented",h[h.Internal=13]="Internal",h[h.Unavailable=14]="Unavailable",h[h.DataLoss=15]="DataLoss",h[h.Unauthenticated=16]="Unauthenticated"})(l||(l={}));function u(h,o){return h!==null&&typeof h=="object"&&"$typeName"in h&&typeof h.$typeName=="string"?o===void 0?!0:o.typeName===h.$typeName:!1}var c;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(c||(c={}));function g(){let h=0,o=0;for(let v=0;v<28;v+=7){let A=this.buf[this.pos++];if(h|=(A&127)<<v,(A&128)==0)return this.assertBounds(),[h,o]}let f=this.buf[this.pos++];if(h|=(f&15)<<28,o=(f&112)>>4,(f&128)==0)return this.assertBounds(),[h,o];for(let v=3;v<=31;v+=7){let A=this.buf[this.pos++];if(o|=(A&127)<<v,(A&128)==0)return this.assertBounds(),[h,o]}throw new Error("invalid varint")}function p(h,o,f){for(let I=0;I<28;I=I+7){const L=h>>>I,V=!(!(L>>>7)&&o==0),q=(V?L|128:L)&255;if(f.push(q),!V)return}const v=h>>>28&15|(o&7)<<4,A=o>>3!=0;if(f.push((A?v|128:v)&255),!!A){for(let I=3;I<31;I=I+7){const L=o>>>I,V=!!(L>>>7),q=(V?L|128:L)&255;if(f.push(q),!V)return}f.push(o>>>31&1)}}const m=4294967296;function x(h){const o=h[0]==="-";o&&(h=h.slice(1));const f=1e6;let v=0,A=0;function I(L,V){const q=Number(h.slice(L,V));A*=f,v=v*f+q,v>=m&&(A=A+(v/m|0),v=v%m)}return I(-24,-18),I(-18,-12),I(-12,-6),I(-6),o?R(v,A):C(v,A)}function b(h,o){let f=C(h,o);const v=f.hi&2147483648;v&&(f=R(f.lo,f.hi));const A=E(f.lo,f.hi);return v?"-"+A:A}function E(h,o){if({lo:h,hi:o}=w(h,o),o<=2097151)return String(m*o+h);const f=h&16777215,v=(h>>>24|o<<8)&16777215,A=o>>16&65535;let I=f+v*6777216+A*6710656,L=v+A*8147497,V=A*2;const q=1e7;return I>=q&&(L+=Math.floor(I/q),I%=q),L>=q&&(V+=Math.floor(L/q),L%=q),V.toString()+T(L)+T(I)}function w(h,o){return{lo:h>>>0,hi:o>>>0}}function C(h,o){return{lo:h|0,hi:o|0}}function R(h,o){return o=~o,h?h=~h+1:o+=1,C(h,o)}const T=h=>{const o=String(h);return"0000000".slice(o.length)+o};function _(h,o){if(h>=0){for(;h>127;)o.push(h&127|128),h=h>>>7;o.push(h)}else{for(let f=0;f<9;f++)o.push(h&127|128),h=h>>7;o.push(1)}}function D(){let h=this.buf[this.pos++],o=h&127;if((h&128)==0)return this.assertBounds(),o;if(h=this.buf[this.pos++],o|=(h&127)<<7,(h&128)==0)return this.assertBounds(),o;if(h=this.buf[this.pos++],o|=(h&127)<<14,(h&128)==0)return this.assertBounds(),o;if(h=this.buf[this.pos++],o|=(h&127)<<21,(h&128)==0)return this.assertBounds(),o;h=this.buf[this.pos++],o|=(h&15)<<28;for(let f=5;(h&128)!==0&&f<10;f++)h=this.buf[this.pos++];if((h&128)!=0)throw new Error("invalid varint");return this.assertBounds(),o>>>0}const F=B();function B(){const h=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof h.getBigInt64=="function"&&typeof h.getBigUint64=="function"&&typeof h.setBigInt64=="function"&&typeof h.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof n!="object"||n.BUF_BIGINT_DISABLE!=="1")){const f=BigInt("-9223372036854775808"),v=BigInt("9223372036854775807"),A=BigInt("0"),I=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(L){const V=typeof L=="bigint"?L:BigInt(L);if(V>v||V<f)throw new Error(`invalid int64: ${L}`);return V},uParse(L){const V=typeof L=="bigint"?L:BigInt(L);if(V>I||V<A)throw new Error(`invalid uint64: ${L}`);return V},enc(L){return h.setBigInt64(0,this.parse(L),!0),{lo:h.getInt32(0,!0),hi:h.getInt32(4,!0)}},uEnc(L){return h.setBigInt64(0,this.uParse(L),!0),{lo:h.getInt32(0,!0),hi:h.getInt32(4,!0)}},dec(L,V){return h.setInt32(0,L,!0),h.setInt32(4,V,!0),h.getBigInt64(0,!0)},uDec(L,V){return h.setInt32(0,L,!0),h.setInt32(4,V,!0),h.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(f){return typeof f!="string"&&(f=f.toString()),j(f),f},uParse(f){return typeof f!="string"&&(f=f.toString()),k(f),f},enc(f){return typeof f!="string"&&(f=f.toString()),j(f),x(f)},uEnc(f){return typeof f!="string"&&(f=f.toString()),k(f),x(f)},dec(f,v){return b(f,v)},uDec(f,v){return E(f,v)}}}function j(h){if(!/^-?[0-9]+$/.test(h))throw new Error("invalid int64: "+h)}function k(h){if(!/^[0-9]+$/.test(h))throw new Error("invalid uint64: "+h)}function $(h,o){switch(h){case c.STRING:return"";case c.BOOL:return!1;case c.DOUBLE:case c.FLOAT:return 0;case c.INT64:case c.UINT64:case c.SFIXED64:case c.FIXED64:case c.SINT64:return o?"0":F.zero;case c.BYTES:return new Uint8Array(0);default:return 0}}function Z(h,o){switch(h){case c.BOOL:return o===!1;case c.STRING:return o==="";case c.BYTES:return o instanceof Uint8Array&&!o.byteLength;default:return o==0}}const ne=2,re=Symbol.for("reflect unsafe local");function he(h,o){const f=h[o.localName].case;return f===void 0?f:o.fields.find(v=>v.localName===f)}function Ce(h,o){const f=o.localName;if(o.oneof)return h[o.oneof.localName].case===f;if(o.presence!=ne)return h[f]!==void 0&&Object.prototype.hasOwnProperty.call(h,f);switch(o.fieldKind){case"list":return h[f].length>0;case"map":return Object.keys(h[f]).length>0;case"scalar":return!Z(o.scalar,h[f]);case"enum":return h[f]!==o.enum.values[0].number}throw new Error("message field with implicit presence")}function _e(h,o){return Object.prototype.hasOwnProperty.call(h,o)&&h[o]!==void 0}function ie(h,o){if(o.oneof){const f=h[o.oneof.localName];return f.case===o.localName?f.value:void 0}return h[o.localName]}function Ae(h,o,f){o.oneof?h[o.oneof.localName]={case:o.localName,value:f}:h[o.localName]=f}function de(h,o){const f=o.localName;if(o.oneof){const v=o.oneof.localName;h[v].case===f&&(h[v]={case:void 0})}else if(o.presence!=ne)delete h[f];else switch(o.fieldKind){case"map":h[f]={};break;case"list":h[f]=[];break;case"enum":h[f]=o.enum.values[0].number;break;case"scalar":h[f]=$(o.scalar,o.longAsString);break}}function ue(h){return h!==null&&typeof h=="object"&&!Array.isArray(h)}function K(h,o){var f,v,A,I;if(ue(h)&&re in h&&"add"in h&&"field"in h&&typeof h.field=="function"){if(o!==void 0){const L=o,V=h.field();return L.listKind==V.listKind&&L.scalar===V.scalar&&((f=L.message)===null||f===void 0?void 0:f.typeName)===((v=V.message)===null||v===void 0?void 0:v.typeName)&&((A=L.enum)===null||A===void 0?void 0:A.typeName)===((I=V.enum)===null||I===void 0?void 0:I.typeName)}return!0}return!1}function oe(h,o){var f,v,A,I;if(ue(h)&&re in h&&"has"in h&&"field"in h&&typeof h.field=="function"){if(o!==void 0){const L=o,V=h.field();return L.mapKey===V.mapKey&&L.mapKind==V.mapKind&&L.scalar===V.scalar&&((f=L.message)===null||f===void 0?void 0:f.typeName)===((v=V.message)===null||v===void 0?void 0:v.typeName)&&((A=L.enum)===null||A===void 0?void 0:A.typeName)===((I=V.enum)===null||I===void 0?void 0:I.typeName)}return!0}return!1}function pe(h,o){return ue(h)&&re in h&&"desc"in h&&ue(h.desc)&&h.desc.kind==="message"&&(o===void 0||h.desc.typeName==o.typeName)}function z(h){return G(h.$typeName)}function U(h){const o=h.fields[0];return G(h.typeName)&&o!==void 0&&o.fieldKind=="scalar"&&o.name=="value"&&o.number==1}function G(h){return h.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(h.substring(16))}const W=999,Q=998,X=2;function J(h,o){if(u(o,h))return o;const f=ve(h);return o!==void 0&&se(h,f,o),f}function se(h,o,f){for(const v of h.members){let A=f[v.localName];if(A==null)continue;let I;if(v.kind=="oneof"){const L=he(f,v);if(!L)continue;I=L,A=ie(f,L)}else I=v;switch(I.fieldKind){case"message":A=le(I,A);break;case"scalar":A=xe(I,A);break;case"list":A=ae(I,A);break;case"map":A=be(I,A);break}Ae(o,I,A)}return o}function xe(h,o){return h.scalar==c.BYTES?we(o):o}function be(h,o){if(ue(o)){if(h.scalar==c.BYTES)return De(o,we);if(h.mapKind=="message")return De(o,f=>le(h,f))}return o}function ae(h,o){if(Array.isArray(o)){if(h.scalar==c.BYTES)return o.map(we);if(h.listKind=="message")return o.map(f=>le(h,f))}return o}function le(h,o){if(h.fieldKind=="message"&&!h.oneof&&U(h.message))return xe(h.message.fields[0],o);if(ue(o)){if(h.message.typeName=="google.protobuf.Struct"&&h.parent.typeName!=="google.protobuf.Value")return o;if(!u(o,h.message))return J(h.message,o)}return o}function we(h){return Array.isArray(h)?new Uint8Array(h):h}function De(h,o){const f={};for(const v of Object.entries(h))f[v[0]]=o(v[1]);return f}const je=Symbol(),Ue=new WeakMap;function ve(h){let o;if(Pe(h)){const f=Ue.get(h);let v,A;if(f)({prototype:v,members:A}=f);else{v={},A=new Set;for(const I of h.members)I.kind!="oneof"&&(I.fieldKind!="scalar"&&I.fieldKind!="enum"||I.presence!=X&&(A.add(I),v[I.localName]=Ze(I)));Ue.set(h,{prototype:v,members:A})}o=Object.create(v),o.$typeName=h.typeName;for(const I of h.members)A.has(I)||I.kind=="field"&&(I.fieldKind=="message"||(I.fieldKind=="scalar"||I.fieldKind=="enum")&&I.presence!=X)||(o[I.localName]=Ze(I))}else{o={$typeName:h.typeName};for(const f of h.members)(f.kind=="oneof"||f.presence==X)&&(o[f.localName]=Ze(f))}return o}function Pe(h){switch(h.file.edition){case W:return!1;case Q:return!0;default:return h.fields.some(o=>o.presence!=X&&o.fieldKind!="message"&&!o.oneof)}}function Ze(h){if(h.kind=="oneof")return{case:void 0};if(h.fieldKind=="list")return[];if(h.fieldKind=="map")return{};if(h.fieldKind=="message")return je;const o=h.getDefaultValue();return o!==void 0?h.fieldKind=="scalar"&&h.longAsString?o.toString():o:h.fieldKind=="scalar"?$(h.scalar,h.longAsString):h.enum.values[0].number}const pt=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class gt extends Error{constructor(o,f,v="FieldValueInvalidError"){super(f),this.name=v,this.field=()=>o}}function me(h){return h instanceof Error&&pt.includes(h.name)&&"field"in h&&typeof h.field=="function"}const Ie=Symbol.for("@bufbuild/protobuf/text-encoding");function qe(){if(globalThis[Ie]==null){const h=new globalThis.TextEncoder,o=new globalThis.TextDecoder;globalThis[Ie]={encodeUtf8(f){return h.encode(f)},decodeUtf8(f){return o.decode(f)},checkUtf8(f){try{return encodeURIComponent(f),!0}catch{return!1}}}}return globalThis[Ie]}var Ye;(function(h){h[h.Varint=0]="Varint",h[h.Bit64=1]="Bit64",h[h.LengthDelimited=2]="LengthDelimited",h[h.StartGroup=3]="StartGroup",h[h.EndGroup=4]="EndGroup",h[h.Bit32=5]="Bit32"})(Ye||(Ye={}));const tt=34028234663852886e22,lt=-34028234663852886e22,xt=4294967295,Rt=2147483647,It=-2147483648;class ln{constructor(o=qe().encodeUtf8){this.encodeUtf8=o,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let o=0;for(let A=0;A<this.chunks.length;A++)o+=this.chunks[A].length;let f=new Uint8Array(o),v=0;for(let A=0;A<this.chunks.length;A++)f.set(this.chunks[A],v),v+=this.chunks[A].length;return this.chunks=[],f}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let o=this.finish(),f=this.stack.pop();if(!f)throw new Error("invalid state, fork stack empty");return this.chunks=f.chunks,this.buf=f.buf,this.uint32(o.byteLength),this.raw(o)}tag(o,f){return this.uint32((o<<3|f)>>>0)}raw(o){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(o),this}uint32(o){for(mt(o);o>127;)this.buf.push(o&127|128),o=o>>>7;return this.buf.push(o),this}int32(o){return nt(o),_(o,this.buf),this}bool(o){return this.buf.push(o?1:0),this}bytes(o){return this.uint32(o.byteLength),this.raw(o)}string(o){let f=this.encodeUtf8(o);return this.uint32(f.byteLength),this.raw(f)}float(o){At(o);let f=new Uint8Array(4);return new DataView(f.buffer).setFloat32(0,o,!0),this.raw(f)}double(o){let f=new Uint8Array(8);return new DataView(f.buffer).setFloat64(0,o,!0),this.raw(f)}fixed32(o){mt(o);let f=new Uint8Array(4);return new DataView(f.buffer).setUint32(0,o,!0),this.raw(f)}sfixed32(o){nt(o);let f=new Uint8Array(4);return new DataView(f.buffer).setInt32(0,o,!0),this.raw(f)}sint32(o){return nt(o),o=(o<<1^o>>31)>>>0,_(o,this.buf),this}sfixed64(o){let f=new Uint8Array(8),v=new DataView(f.buffer),A=F.enc(o);return v.setInt32(0,A.lo,!0),v.setInt32(4,A.hi,!0),this.raw(f)}fixed64(o){let f=new Uint8Array(8),v=new DataView(f.buffer),A=F.uEnc(o);return v.setInt32(0,A.lo,!0),v.setInt32(4,A.hi,!0),this.raw(f)}int64(o){let f=F.enc(o);return p(f.lo,f.hi,this.buf),this}sint64(o){const f=F.enc(o),v=f.hi>>31,A=f.lo<<1^v,I=(f.hi<<1|f.lo>>>31)^v;return p(A,I,this.buf),this}uint64(o){const f=F.uEnc(o);return p(f.lo,f.hi,this.buf),this}}class ke{constructor(o,f=qe().decodeUtf8){this.decodeUtf8=f,this.varint64=g,this.uint32=D,this.buf=o,this.len=o.length,this.pos=0,this.view=new DataView(o.buffer,o.byteOffset,o.byteLength)}tag(){let o=this.uint32(),f=o>>>3,v=o&7;if(f<=0||v<0||v>5)throw new Error("illegal tag: field no "+f+" wire type "+v);return[f,v]}skip(o,f){let v=this.pos;switch(o){case Ye.Varint:for(;this.buf[this.pos++]&128;);break;case Ye.Bit64:this.pos+=4;case Ye.Bit32:this.pos+=4;break;case Ye.LengthDelimited:let A=this.uint32();this.pos+=A;break;case Ye.StartGroup:for(;;){const[I,L]=this.tag();if(L===Ye.EndGroup){if(f!==void 0&&I!==f)throw new Error("invalid end group tag");break}this.skip(L,I)}break;default:throw new Error("cant skip wire type "+o)}return this.assertBounds(),this.buf.subarray(v,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let o=this.uint32();return o>>>1^-(o&1)}int64(){return F.dec(...this.varint64())}uint64(){return F.uDec(...this.varint64())}sint64(){let[o,f]=this.varint64(),v=-(o&1);return o=(o>>>1|(f&1)<<31)^v,f=f>>>1^v,F.dec(o,f)}bool(){let[o,f]=this.varint64();return o!==0||f!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return F.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return F.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let o=this.uint32(),f=this.pos;return this.pos+=o,this.assertBounds(),this.buf.subarray(f,f+o)}string(){return this.decodeUtf8(this.bytes())}}function nt(h){if(typeof h=="string")h=Number(h);else if(typeof h!="number")throw new Error("invalid int32: "+typeof h);if(!Number.isInteger(h)||h>Rt||h<It)throw new Error("invalid int32: "+h)}function mt(h){if(typeof h=="string")h=Number(h);else if(typeof h!="number")throw new Error("invalid uint32: "+typeof h);if(!Number.isInteger(h)||h>xt||h<0)throw new Error("invalid uint32: "+h)}function At(h){if(typeof h=="string"){const o=h;if(h=Number(h),Number.isNaN(h)&&o!=="NaN")throw new Error("invalid float32: "+o)}else if(typeof h!="number")throw new Error("invalid float32: "+typeof h);if(Number.isFinite(h)&&(h>tt||h<lt))throw new Error("invalid float32: "+h)}function Dt(h,o){const f=h.fieldKind=="list"?K(o,h):h.fieldKind=="map"?oe(o,h):qn(h,o);if(f===!0)return;let v;switch(h.fieldKind){case"list":v=`expected ${Qt(h)}, got ${rt(o)}`;break;case"map":v=`expected ${rn(h)}, got ${rt(o)}`;break;default:v=er(h,o,f)}return new gt(h,v)}function xn(h,o,f){const v=qn(h,f);if(v!==!0)return new gt(h,`list item #${o+1}: ${er(h,f,v)}`)}function jn(h,o,f){const v=un(o,h.mapKey);if(v!==!0)return new gt(h,`invalid map key: ${er({scalar:h.mapKey},o,v)}`);const A=qn(h,f);if(A!==!0)return new gt(h,`map entry ${rt(o)}: ${er(h,f,A)}`)}function qn(h,o){return h.scalar!==void 0?un(o,h.scalar):h.enum!==void 0?h.enum.open?Number.isInteger(o):h.enum.values.some(f=>f.number===o):pe(o,h.message)}function un(h,o){switch(o){case c.DOUBLE:return typeof h=="number";case c.FLOAT:return typeof h!="number"?!1:Number.isNaN(h)||!Number.isFinite(h)?!0:h>tt||h<lt?`${h.toFixed()} out of range`:!0;case c.INT32:case c.SFIXED32:case c.SINT32:return typeof h!="number"||!Number.isInteger(h)?!1:h>Rt||h<It?`${h.toFixed()} out of range`:!0;case c.FIXED32:case c.UINT32:return typeof h!="number"||!Number.isInteger(h)?!1:h>xt||h<0?`${h.toFixed()} out of range`:!0;case c.BOOL:return typeof h=="boolean";case c.STRING:return typeof h!="string"?!1:qe().checkUtf8(h)||"invalid UTF8";case c.BYTES:return h instanceof Uint8Array;case c.INT64:case c.SFIXED64:case c.SINT64:if(typeof h=="bigint"||typeof h=="number"||typeof h=="string"&&h.length>0)try{return F.parse(h),!0}catch{return`${h} out of range`}return!1;case c.FIXED64:case c.UINT64:if(typeof h=="bigint"||typeof h=="number"||typeof h=="string"&&h.length>0)try{return F.uParse(h),!0}catch{return`${h} out of range`}return!1}}function er(h,o,f){return f=typeof f=="string"?`: ${f}`:`, got ${rt(o)}`,h.scalar!==void 0?`expected ${vr(h.scalar)}`+f:h.enum!==void 0?`expected ${h.enum.toString()}`+f:`expected ${cn(h.message)}`+f}function rt(h){switch(typeof h){case"object":return h===null?"null":h instanceof Uint8Array?`Uint8Array(${h.length})`:Array.isArray(h)?`Array(${h.length})`:K(h)?Qt(h.field()):oe(h)?rn(h.field()):pe(h)?cn(h.desc):u(h)?`message ${h.$typeName}`:"object";case"string":return h.length>30?"string":`"${h.split('"').join('\\"')}"`;case"boolean":return String(h);case"number":return String(h);case"bigint":return String(h)+"n";default:return typeof h}}function cn(h){return`ReflectMessage (${h.typeName})`}function Qt(h){switch(h.listKind){case"message":return`ReflectList (${h.message.toString()})`;case"enum":return`ReflectList (${h.enum.toString()})`;case"scalar":return`ReflectList (${c[h.scalar]})`}}function rn(h){switch(h.mapKind){case"message":return`ReflectMap (${c[h.mapKey]}, ${h.message.toString()})`;case"enum":return`ReflectMap (${c[h.mapKey]}, ${h.enum.toString()})`;case"scalar":return`ReflectMap (${c[h.mapKey]}, ${c[h.scalar]})`}}function vr(h){switch(h){case c.STRING:return"string";case c.BOOL:return"boolean";case c.INT64:case c.SINT64:case c.SFIXED64:return"bigint (int64)";case c.UINT64:case c.FIXED64:return"bigint (uint64)";case c.BYTES:return"Uint8Array";case c.DOUBLE:return"number (float64)";case c.FLOAT:return"number (float32)";case c.FIXED32:case c.UINT32:return"number (uint32)";case c.INT32:case c.SFIXED32:case c.SINT32:return"number (int32)"}}function qt(h,o,f=!0){return new fn(h,o,f)}const Bt=new WeakMap;class fn{get sortedFields(){const o=Bt.get(this.desc);if(o)return o;const f=this.desc.fields.concat().sort((v,A)=>v.number-A.number);return Bt.set(this.desc,f),f}constructor(o,f,v=!0){this.lists=new Map,this.maps=new Map,this.check=v,this.desc=o,this.message=this[re]=f??J(o),this.fields=o.fields,this.oneofs=o.oneofs,this.members=o.members}findNumber(o){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(f=>[f.number,f]))),this._fieldsByNumber.get(o)}oneofCase(o){return Lt(this.message,o),he(this.message,o)}isSet(o){return Lt(this.message,o),Ce(this.message,o)}clear(o){Lt(this.message,o),de(this.message,o)}get(o){Lt(this.message,o);const f=ie(this.message,o);switch(o.fieldKind){case"list":let v=this.lists.get(o);return(!v||v[re]!==f)&&this.lists.set(o,v=new wn(o,f,this.check)),v;case"map":let A=this.maps.get(o);return(!A||A[re]!==f)&&this.maps.set(o,A=new Di(o,f,this.check)),A;case"message":return yi(o,f,this.check);case"scalar":return f===void 0?$(o.scalar,!1):Us(o,f);case"enum":return f??o.enum.values[0].number}}set(o,f){if(Lt(this.message,o),this.check){const A=Dt(o,f);if(A)throw A}let v;o.fieldKind=="message"?v=Sr(o,f):oe(f)||K(f)?v=f[re]:v=or(o,f),Ae(this.message,o,v)}getUnknown(){return this.message.$unknown}setUnknown(o){this.message.$unknown=o}}function Lt(h,o){if(o.parent.typeName!==h.$typeName)throw new gt(o,`cannot use ${o.toString()} with message ${h.$typeName}`,"ForeignFieldError")}class wn{field(){return this._field}get size(){return this._arr.length}constructor(o,f,v){this._field=o,this._arr=this[re]=f,this.check=v}get(o){const f=this._arr[o];return f===void 0?void 0:Qi(this._field,f,this.check)}set(o,f){if(o<0||o>=this._arr.length)throw new gt(this._field,`list item #${o+1}: out of range`);if(this.check){const v=xn(this._field,o,f);if(v)throw v}this._arr[o]=qo(this._field,f)}add(o){if(this.check){const f=xn(this._field,this._arr.length,o);if(f)throw f}this._arr.push(qo(this._field,o))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const o of this._arr)yield Qi(this._field,o,this.check)}*entries(){for(let o=0;o<this._arr.length;o++)yield[o,Qi(this._field,this._arr[o],this.check)]}}class Di{constructor(o,f,v=!0){this.obj=this[re]=f??{},this.check=v,this._field=o}field(){return this._field}set(o,f){if(this.check){const v=jn(this._field,o,f);if(v)throw v}return this.obj[Ko(o)]=Ug(this._field,f),this}delete(o){const f=Ko(o),v=Object.prototype.hasOwnProperty.call(this.obj,f);return v&&delete this.obj[f],v}clear(){for(const o of Object.keys(this.obj))delete this.obj[o]}get(o){let f=this.obj[Ko(o)];return f!==void 0&&(f=zs(this._field,f,this.check)),f}has(o){return Object.prototype.hasOwnProperty.call(this.obj,Ko(o))}*keys(){for(const o of Object.keys(this.obj))yield Fu(o,this._field.mapKey)}*entries(){for(const o of Object.entries(this.obj))yield[Fu(o[0],this._field.mapKey),zs(this._field,o[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const o of Object.values(this.obj))yield zs(this._field,o,this.check)}forEach(o,f){for(const v of this.entries())o.call(f,v[1],v[0],this)}}function Sr(h,o){return pe(o)?z(o.message)&&!h.oneof&&h.fieldKind=="message"?o.message.value:o.desc.typeName=="google.protobuf.Struct"&&h.parent.typeName!="google.protobuf.Value"?Gg(o.message):o.message:o}function yi(h,o,f){return o!==void 0&&(U(h.message)&&!h.oneof&&h.fieldKind=="message"?o={$typeName:h.message.typeName,value:Us(h.message.fields[0],o)}:h.message.typeName=="google.protobuf.Struct"&&h.parent.typeName!="google.protobuf.Value"&&ue(o)&&(o=Vg(o))),new fn(h.message,o,f)}function qo(h,o){return h.listKind=="message"?Sr(h,o):or(h,o)}function Qi(h,o,f){return h.listKind=="message"?yi(h,o,f):Us(h,o)}function Ug(h,o){return h.mapKind=="message"?Sr(h,o):or(h,o)}function zs(h,o,f){return h.mapKind=="message"?yi(h,o,f):o}function Ko(h){return typeof h=="string"||typeof h=="number"?h:String(h)}function Fu(h,o){switch(o){case c.STRING:return h;case c.INT32:case c.FIXED32:case c.UINT32:case c.SFIXED32:case c.SINT32:{const f=Number.parseInt(h);if(Number.isFinite(f))return f;break}case c.BOOL:switch(h){case"true":return!0;case"false":return!1}break;case c.UINT64:case c.FIXED64:try{return F.uParse(h)}catch{}break;default:try{return F.parse(h)}catch{}break}return h}function Us(h,o){switch(h.scalar){case c.INT64:case c.SFIXED64:case c.SINT64:"longAsString"in h&&h.longAsString&&typeof o=="string"&&(o=F.parse(o));break;case c.FIXED64:case c.UINT64:"longAsString"in h&&h.longAsString&&typeof o=="string"&&(o=F.uParse(o));break}return o}function or(h,o){switch(h.scalar){case c.INT64:case c.SFIXED64:case c.SINT64:"longAsString"in h&&h.longAsString?o=String(o):(typeof o=="string"||typeof o=="number")&&(o=F.parse(o));break;case c.FIXED64:case c.UINT64:"longAsString"in h&&h.longAsString?o=String(o):(typeof o=="string"||typeof o=="number")&&(o=F.uParse(o));break}return o}function Vg(h){const o={$typeName:"google.protobuf.Struct",fields:{}};if(ue(h))for(const[f,v]of Object.entries(h))o.fields[f]=$a(v);return o}function Gg(h){const o={};for(const[f,v]of Object.entries(h.fields))o[f]=Vs(v);return o}function Vs(h){switch(h.kind.case){case"structValue":return Gg(h.kind.value);case"listValue":return h.kind.value.values.map(Vs);case"nullValue":case void 0:return null;default:return h.kind.value}}function $a(h){const o={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof h){case"number":o.kind={case:"numberValue",value:h};break;case"string":o.kind={case:"stringValue",value:h};break;case"boolean":o.kind={case:"boolValue",value:h};break;case"object":if(h===null)o.kind={case:"nullValue",value:0};else if(Array.isArray(h)){const f={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(h))for(const v of h)f.values.push($a(v));o.kind={case:"listValue",value:f}}else o.kind={case:"structValue",value:Vg(h)};break}return o}function $g(h){const o=Zo();let f=h.length*3/4;h[h.length-2]=="="?f-=2:h[h.length-1]=="="&&(f-=1);let v=new Uint8Array(f),A=0,I=0,L,V=0;for(let q=0;q<h.length;q++){if(L=o[h.charCodeAt(q)],L===void 0)switch(h[q]){case"=":I=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(I){case 0:V=L,I=1;break;case 1:v[A++]=V<<2|(L&48)>>4,V=L,I=2;break;case 2:v[A++]=(V&15)<<4|(L&60)>>2,V=L,I=3;break;case 3:v[A++]=(V&3)<<6|L,I=0;break}}if(I==1)throw Error("invalid base64 string");return v.subarray(0,A)}function gy(h,o="std"){const f=pf(o),v=o=="std";let A="",I=0,L,V=0;for(let q=0;q<h.length;q++)switch(L=h[q],I){case 0:A+=f[L>>2],V=(L&3)<<4,I=1;break;case 1:A+=f[V|L>>4],V=(L&15)<<2,I=2;break;case 2:A+=f[V|L>>6],A+=f[L&63],I=0;break}return I&&(A+=f[V],v&&(A+="=",I==1&&(A+="="))),A}let hf,my,Xo;function pf(h){return hf||(hf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),my=hf.slice(0,-2).concat("-","_")),h=="url"?my:hf}function Zo(){if(!Xo){Xo=[];const h=pf("std");for(let o=0;o<h.length;o++)Xo[h[o].charCodeAt(0)]=o;Xo[45]=h.indexOf("+"),Xo[95]=h.indexOf("/")}return Xo}function Ha(h){let o=!1;const f=[];for(let v=0;v<h.length;v++){let A=h.charAt(v);switch(A){case"_":o=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f.push(A),o=!1;break;default:o&&(o=!1,A=A.toUpperCase()),f.push(A);break}}return f.join("")}const vy=new Set(["constructor","toString","toJSON","valueOf"]);function So(h){return vy.has(h)?h+"$":h}function gf(h){for(const o of h.field)_e(o,"jsonName")||(o.jsonName=Ha(o.name));h.nestedType.forEach(gf)}function Hg(h,o){const f=h.values.find(v=>v.name===o);if(!f)throw new Error(`cannot parse ${h} default value: ${o}`);return f.number}function w1(h,o){switch(h){case c.STRING:return o;case c.BYTES:{const f=yy(o);if(f===!1)throw new Error(`cannot parse ${c[h]} default value: ${o}`);return f}case c.INT64:case c.SFIXED64:case c.SINT64:return F.parse(o);case c.UINT64:case c.FIXED64:return F.uParse(o);case c.DOUBLE:case c.FLOAT:switch(o){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(o)}case c.BOOL:return o==="true";case c.INT32:case c.UINT32:case c.SINT32:case c.FIXED32:case c.SFIXED32:return parseInt(o,10)}}function yy(h){const o=[],f={tail:h,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(v){if(this.tail.length>=v){const A=this.tail.substring(0,v);return this.tail=this.tail.substring(v),A}return!1}};for(;f.next();)switch(f.c){case"\\":if(f.next())switch(f.c){case"\\":o.push(f.c.charCodeAt(0));break;case"b":o.push(8);break;case"f":o.push(12);break;case"n":o.push(10);break;case"r":o.push(13);break;case"t":o.push(9);break;case"v":o.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const v=f.c,A=f.take(2);if(A===!1)return!1;const I=parseInt(v+A,8);if(Number.isNaN(I))return!1;o.push(I);break}case"x":{const v=f.c,A=f.take(2);if(A===!1)return!1;const I=parseInt(v+A,16);if(Number.isNaN(I))return!1;o.push(I);break}case"u":{const v=f.c,A=f.take(4);if(A===!1)return!1;const I=parseInt(v+A,16);if(Number.isNaN(I))return!1;const L=new Uint8Array(4);new DataView(L.buffer).setInt32(0,I,!0),o.push(L[0],L[1],L[2],L[3]);break}case"U":{const v=f.c,A=f.take(8);if(A===!1)return!1;const I=F.uEnc(v+A),L=new Uint8Array(8),V=new DataView(L.buffer);V.setInt32(0,I.lo,!0),V.setInt32(4,I.hi,!0),o.push(L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7]);break}}break;default:o.push(f.c.charCodeAt(0))}return new Uint8Array(o)}function*ni(h){switch(h.kind){case"file":for(const o of h.messages)yield o,yield*ni(o);yield*h.enums,yield*h.services,yield*h.extensions;break;case"message":for(const o of h.nestedMessages)yield o,yield*ni(o);yield*h.nestedEnums,yield*h.nestedExtensions;break}}function Wg(...h){const o=R1();if(!h.length)return o;if("$typeName"in h[0]&&h[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const f of h[0].file)yf(f,o);return o}if("$typeName"in h[0]){let f=function(L){const V=[];for(const q of L.dependency){if(o.getFile(q)!=null||I.has(q))continue;const te=A(q);if(!te)throw new Error(`Unable to resolve ${q}, imported by ${L.name}`);"kind"in te?o.addFile(te,!1,!0):(I.add(te.name),V.push(te))}return V.concat(...V.map(f))};const v=h[0],A=h[1],I=new Set;for(const L of[v,...f(v)].reverse())yf(L,o)}else for(const f of h)for(const v of f.files)o.addFile(v);return o}function R1(){const h=new Map,o=new Map,f=new Map;return{kind:"registry",types:h,extendees:o,[Symbol.iterator](){return h.values()},get files(){return f.values()},addFile(v,A,I){if(f.set(v.proto.name,v),!A)for(const L of ni(v))this.add(L);if(I)for(const L of v.dependencies)this.addFile(L,A,I)},add(v){if(v.kind=="extension"){let A=o.get(v.extendee.typeName);A||o.set(v.extendee.typeName,A=new Map),A.set(v.number,v)}h.set(v.typeName,v)},get(v){return h.get(v)},getFile(v){return f.get(v)},getMessage(v){const A=h.get(v);return(A==null?void 0:A.kind)=="message"?A:void 0},getEnum(v){const A=h.get(v);return(A==null?void 0:A.kind)=="enum"?A:void 0},getExtension(v){const A=h.get(v);return(A==null?void 0:A.kind)=="extension"?A:void 0},getExtensionFor(v,A){var I;return(I=o.get(v.typeName))===null||I===void 0?void 0:I.get(A)},getService(v){const A=h.get(v);return(A==null?void 0:A.kind)=="service"?A:void 0}}}const Nh=998,xy=999,_h=9,mf=10,Fr=11,Yg=12,qg=14,vf=3,ku=2,Kg=1,by=0,Gs=1,Sy=2,Ay=3,Ey=1,Xg=2,T1=1,Cy={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function yf(h,o){var f,v;const A={kind:"file",proto:h,deprecated:(v=(f=h.options)===null||f===void 0?void 0:f.deprecated)!==null&&v!==void 0?v:!1,edition:Jo(h),name:h.name.replace(/\.proto$/,""),dependencies:Jg(h,o),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${h.name}`}},I=new Map,L={get(V){return I.get(V)},add(V){var q;Wr(((q=V.proto.options)===null||q===void 0?void 0:q.mapEntry)===!0),I.set(V.typeName,V)}};for(const V of h.enumType)Wa(V,A,void 0,o);for(const V of h.messageType)Ya(V,A,void 0,o,L);for(const V of h.service)wy(V,A,o);xf(A,o);for(const V of I.values())bf(V,o,L);for(const V of A.messages)bf(V,o,L),xf(V,o);o.addFile(A,!0)}function xf(h,o){switch(h.kind){case"file":for(const f of h.proto.extension){const v=qa(f,h,o);h.extensions.push(v),o.add(v)}break;case"message":for(const f of h.proto.extension){const v=qa(f,h,o);h.nestedExtensions.push(v),o.add(v)}for(const f of h.nestedMessages)xf(f,o);break}}function bf(h,o,f){const v=h.proto.oneofDecl.map(I=>Ry(I,h)),A=new Set;for(const I of h.proto.field){const L=Ty(I,v),V=qa(I,h,o,L,f);h.fields.push(V),h.field[V.localName]=V,L===void 0?h.members.push(V):(L.fields.push(V),A.has(L)||(A.add(L),h.members.push(L)))}for(const I of v.filter(L=>A.has(L)))h.oneofs.push(I);for(const I of h.nestedMessages)bf(I,o,f)}function Wa(h,o,f,v){var A,I,L,V,q;const te=Sf(h.name,h.value),ce={kind:"enum",proto:h,deprecated:(I=(A=h.options)===null||A===void 0?void 0:A.deprecated)!==null&&I!==void 0?I:!1,file:o,parent:f,open:!0,name:h.name,typeName:Bu(h,f,o),value:{},values:[],sharedPrefix:te,toString(){return`enum ${this.typeName}`}};ce.open=ri(ce),v.add(ce);for(const Te of h.value){const Be=Te.name;ce.values.push(ce.value[Te.number]={kind:"enum_value",proto:Te,deprecated:(V=(L=Te.options)===null||L===void 0?void 0:L.deprecated)!==null&&V!==void 0?V:!1,parent:ce,name:Be,localName:So(te==null?Be:Be.substring(te.length)),number:Te.number,toString(){return`enum value ${ce.typeName}.${Be}`}})}((q=f==null?void 0:f.nestedEnums)!==null&&q!==void 0?q:o.enums).push(ce)}function Ya(h,o,f,v,A){var I,L,V,q;const te={kind:"message",proto:h,deprecated:(L=(I=h.options)===null||I===void 0?void 0:I.deprecated)!==null&&L!==void 0?L:!1,file:o,parent:f,name:h.name,typeName:Bu(h,f,o),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((V=h.options)===null||V===void 0?void 0:V.mapEntry)===!0?A.add(te):(((q=f==null?void 0:f.nestedMessages)!==null&&q!==void 0?q:o.messages).push(te),v.add(te));for(const ce of h.enumType)Wa(ce,o,te,v);for(const ce of h.nestedType)Ya(ce,o,te,v,A)}function wy(h,o,f){var v,A;const I={kind:"service",proto:h,deprecated:(A=(v=h.options)===null||v===void 0?void 0:v.deprecated)!==null&&A!==void 0?A:!1,file:o,name:h.name,typeName:Bu(h,void 0,o),methods:[],method:{},toString(){return`service ${this.typeName}`}};o.services.push(I),f.add(I);for(const L of h.method){const V=Zg(L,I,f);I.methods.push(V),I.method[V.localName]=V}}function Zg(h,o,f){var v,A,I,L;let V;h.clientStreaming&&h.serverStreaming?V="bidi_streaming":h.clientStreaming?V="client_streaming":h.serverStreaming?V="server_streaming":V="unary";const q=f.getMessage(Mi(h.inputType)),te=f.getMessage(Mi(h.outputType));Wr(q,`invalid MethodDescriptorProto: input_type ${h.inputType} not found`),Wr(te,`invalid MethodDescriptorProto: output_type ${h.inputType} not found`);const ce=h.name;return{kind:"rpc",proto:h,deprecated:(A=(v=h.options)===null||v===void 0?void 0:v.deprecated)!==null&&A!==void 0?A:!1,parent:o,name:ce,localName:So(ce.length?So(ce[0].toLowerCase()+ce.substring(1)):ce),methodKind:V,input:q,output:te,idempotency:(L=(I=h.options)===null||I===void 0?void 0:I.idempotencyLevel)!==null&&L!==void 0?L:by,toString(){return`rpc ${o.typeName}.${ce}`}}}function Ry(h,o){return{kind:"oneof",proto:h,deprecated:!1,parent:o,fields:[],name:h.name,localName:So(Ha(h.name)),toString(){return`oneof ${o.typeName}.${this.name}`}}}function qa(h,o,f,v,A){var I,L,V;const q=A===void 0,te={kind:"field",proto:h,deprecated:(L=(I=h.options)===null||I===void 0?void 0:I.deprecated)!==null&&L!==void 0?L:!1,name:h.name,number:h.number,scalar:void 0,message:void 0,enum:void 0,presence:Ih(h,v,q,o),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(q){const Ne=o.kind=="file"?o:o.file,$e=o.kind=="file"?void 0:o,We=Bu(h,$e,Ne);te.kind="extension",te.file=Ne,te.parent=$e,te.oneof=void 0,te.typeName=We,te.jsonName=`[${We}]`,te.toString=()=>`extension ${We}`;const st=f.getMessage(Mi(h.extendee));Wr(st,`invalid FieldDescriptorProto: extendee ${h.extendee} not found`),te.extendee=st}else{const Ne=o;Wr(Ne.kind=="message"),te.parent=Ne,te.oneof=v,te.localName=v?Ha(h.name):So(Ha(h.name)),te.jsonName=h.jsonName,te.toString=()=>`field ${Ne.typeName}.${h.name}`}const ce=h.label,Te=h.type,Be=(V=h.options)===null||V===void 0?void 0:V.jstype;if(ce===vf){const Ne=Te==Fr?A==null?void 0:A.get(Mi(h.typeName)):void 0;if(Ne){te.fieldKind="map";const{key:$e,value:We}=Ny(Ne);return te.mapKey=$e.scalar,te.mapKind=We.fieldKind,te.message=We.message,te.delimitedEncoding=!1,te.enum=We.enum,te.scalar=We.scalar,te}switch(te.fieldKind="list",Te){case Fr:case mf:te.listKind="message",te.message=f.getMessage(Mi(h.typeName)),Wr(te.message),te.delimitedEncoding=Hs(h,o);break;case qg:te.listKind="enum",te.enum=f.getEnum(Mi(h.typeName)),Wr(te.enum);break;default:te.listKind="scalar",te.scalar=Te,te.longAsString=Be==Kg;break}return te.packed=Oh(h,o),te}switch(Te){case Fr:case mf:te.fieldKind="message",te.message=f.getMessage(Mi(h.typeName)),Wr(te.message,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),te.delimitedEncoding=Hs(h,o),te.getDefaultValue=()=>{};break;case qg:{const Ne=f.getEnum(Mi(h.typeName));Wr(Ne!==void 0,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),te.fieldKind="enum",te.enum=f.getEnum(Mi(h.typeName)),te.getDefaultValue=()=>_e(h,"defaultValue")?Hg(Ne,h.defaultValue):void 0;break}default:{te.fieldKind="scalar",te.scalar=Te,te.longAsString=Be==Kg,te.getDefaultValue=()=>_e(h,"defaultValue")?w1(Te,h.defaultValue):void 0;break}}return te}function Jo(h){switch(h.syntax){case"":case"proto2":return Nh;case"proto3":return xy;case"editions":if(h.edition in Cy)return h.edition;throw new Error(`${h.name}: unsupported edition`);default:throw new Error(`${h.name}: unsupported syntax "${h.syntax}"`)}}function Jg(h,o){return h.dependency.map(f=>{const v=o.getFile(f);if(!v)throw new Error(`Cannot find ${f}, imported by ${h.name}`);return v})}function Sf(h,o){const f=$s(h)+"_";for(const v of o){if(!v.name.toLowerCase().startsWith(f))return;const A=v.name.substring(f.length);if(A.length==0||/^\d/.test(A))return}return f}function $s(h){return(h.substring(0,1)+h.substring(1).replace(/[A-Z]/g,o=>"_"+o)).toLowerCase()}function Bu(h,o,f){let v;return o?v=`${o.typeName}.${h.name}`:f.proto.package.length>0?v=`${f.proto.package}.${h.name}`:v=`${h.name}`,v}function Mi(h){return h.startsWith(".")?h.substring(1):h}function Ty(h,o){if(!_e(h,"oneofIndex")||h.proto3Optional)return;const f=o[h.oneofIndex];return Wr(f,`invalid FieldDescriptorProto: oneof #${h.oneofIndex} for field #${h.number} not found`),f}function Ih(h,o,f,v){if(h.label==ku)return Ay;if(h.label==vf)return Sy;if(o||h.proto3Optional||f)return Gs;const A=Qo("fieldPresence",{proto:h,parent:v});return A==Sy&&(h.type==Fr||h.type==mf)?Gs:A}function Oh(h,o){if(h.label!=vf)return!1;switch(h.type){case _h:case Yg:case mf:case Fr:return!1}const f=h.options;return f&&_e(f,"packed")?f.packed:Ey==Qo("repeatedFieldEncoding",{proto:h,parent:o})}function Ny(h){const o=h.fields.find(v=>v.number===1),f=h.fields.find(v=>v.number===2);return Wr(o&&o.fieldKind=="scalar"&&o.scalar!=c.BYTES&&o.scalar!=c.FLOAT&&o.scalar!=c.DOUBLE&&f&&f.fieldKind!="list"&&f.fieldKind!="map"),{key:o,value:f}}function ri(h){var o;return T1==Qo("enumType",{proto:h.proto,parent:(o=h.parent)!==null&&o!==void 0?o:h.file})}function Hs(h,o){return h.type==mf?!0:Xg==Qo("messageEncoding",{proto:h,parent:o})}function Qo(h,o){var f,v;const A=(f=o.proto.options)===null||f===void 0?void 0:f.features;if(A){const I=A[h];if(I!=0)return I}if("kind"in o){if(o.kind=="message")return Qo(h,(v=o.parent)!==null&&v!==void 0?v:o.file);const I=Cy[o.edition];if(!I)throw new Error(`feature default for edition ${o.edition} not found`);return I[h]}return Qo(h,o.parent)}function Wr(h,o){if(!h)throw new Error(o)}function N1(h){const o=Qg(h);return o.messageType.forEach(gf),Wg(o,()=>{}).getFile(o.name)}function Qg(h){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},h),{messageType:h.messageType.map(Dh),enumType:h.enumType.map(em)}))}function Dh(h){var o,f,v,A,I,L,V,q;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:h.name,field:(f=(o=h.field)===null||o===void 0?void 0:o.map(Af))!==null&&f!==void 0?f:[],extension:[],nestedType:(A=(v=h.nestedType)===null||v===void 0?void 0:v.map(Dh))!==null&&A!==void 0?A:[],enumType:(L=(I=h.enumType)===null||I===void 0?void 0:I.map(em))!==null&&L!==void 0?L:[],extensionRange:(q=(V=h.extensionRange)===null||V===void 0?void 0:V.map(ce=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},ce)))!==null&&q!==void 0?q:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function Af(h){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},h),{options:h.options?Mh(h.options):void 0}))}function Mh(h){var o,f,v;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},h),{targets:(o=h.targets)!==null&&o!==void 0?o:[],editionDefaults:(v=(f=h.editionDefaults)===null||f===void 0?void 0:f.map(I=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},I)))!==null&&v!==void 0?v:[],uninterpretedOption:[]}))}function em(h){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:h.name,reservedName:[],reservedRange:[],value:h.value.map(f=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},f))})}function Mt(h,o,...f){return f.reduce((v,A)=>v.nestedMessages[A],h.messages[o])}const _1=Mt(N1({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),1);var Ph;(function(h){h[h.DECLARATION=0]="DECLARATION",h[h.UNVERIFIED=1]="UNVERIFIED"})(Ph||(Ph={}));var _y;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.GROUP=10]="GROUP",h[h.MESSAGE=11]="MESSAGE",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.ENUM=14]="ENUM",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(_y||(_y={}));var Iy;(function(h){h[h.OPTIONAL=1]="OPTIONAL",h[h.REPEATED=3]="REPEATED",h[h.REQUIRED=2]="REQUIRED"})(Iy||(Iy={}));var Oy;(function(h){h[h.SPEED=1]="SPEED",h[h.CODE_SIZE=2]="CODE_SIZE",h[h.LITE_RUNTIME=3]="LITE_RUNTIME"})(Oy||(Oy={}));var Dy;(function(h){h[h.STRING=0]="STRING",h[h.CORD=1]="CORD",h[h.STRING_PIECE=2]="STRING_PIECE"})(Dy||(Dy={}));var My;(function(h){h[h.JS_NORMAL=0]="JS_NORMAL",h[h.JS_STRING=1]="JS_STRING",h[h.JS_NUMBER=2]="JS_NUMBER"})(My||(My={}));var tm;(function(h){h[h.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",h[h.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",h[h.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(tm||(tm={}));var Py;(function(h){h[h.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",h[h.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",h[h.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",h[h.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",h[h.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",h[h.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",h[h.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",h[h.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",h[h.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",h[h.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(Py||(Py={}));var Ly;(function(h){h[h.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",h[h.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",h[h.IDEMPOTENT=2]="IDEMPOTENT"})(Ly||(Ly={}));var Fy;(function(h){h[h.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",h[h.EXPORT_ALL=1]="EXPORT_ALL",h[h.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",h[h.LOCAL_ALL=3]="LOCAL_ALL",h[h.STRICT=4]="STRICT"})(Fy||(Fy={}));var ky;(function(h){h[h.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",h[h.EXPLICIT=1]="EXPLICIT",h[h.IMPLICIT=2]="IMPLICIT",h[h.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(ky||(ky={}));var Lh;(function(h){h[h.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",h[h.OPEN=1]="OPEN",h[h.CLOSED=2]="CLOSED"})(Lh||(Lh={}));var By;(function(h){h[h.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",h[h.PACKED=1]="PACKED",h[h.EXPANDED=2]="EXPANDED"})(By||(By={}));var jy;(function(h){h[h.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",h[h.VERIFY=2]="VERIFY",h[h.NONE=3]="NONE"})(jy||(jy={}));var zy;(function(h){h[h.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",h[h.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",h[h.DELIMITED=2]="DELIMITED"})(zy||(zy={}));var nm;(function(h){h[h.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",h[h.ALLOW=1]="ALLOW",h[h.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(nm||(nm={}));var Uy;(function(h){h[h.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",h[h.STYLE2024=1]="STYLE2024",h[h.STYLE_LEGACY=2]="STYLE_LEGACY"})(Uy||(Uy={}));var Vy;(function(h){h[h.NONE=0]="NONE",h[h.SET=1]="SET",h[h.ALIAS=2]="ALIAS"})(Vy||(Vy={}));var Gy;(function(h){h[h.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",h[h.EDITION_LEGACY=900]="EDITION_LEGACY",h[h.EDITION_PROTO2=998]="EDITION_PROTO2",h[h.EDITION_PROTO3=999]="EDITION_PROTO3",h[h.EDITION_2023=1e3]="EDITION_2023",h[h.EDITION_2024=1001]="EDITION_2024",h[h.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",h[h.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",h[h.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",h[h.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",h[h.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",h[h.EDITION_MAX=2147483647]="EDITION_MAX"})(Gy||(Gy={}));var $y;(function(h){h[h.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",h[h.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",h[h.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})($y||($y={}));const Hy={readUnknownFields:!0};function I1(h){return h?Object.assign(Object.assign({},Hy),h):Hy}function Pi(h,o,f){const v=qt(h,void 0,!1);return Wy(v,new ke(o),I1(f),!1,o.byteLength),v.message}function Wy(h,o,f,v,A){var I;const L=v?o.len:o.pos+A;let V,q;const te=(I=h.getUnknown())!==null&&I!==void 0?I:[];for(;o.pos<L&&([V,q]=o.tag(),!(v&&q==Ye.EndGroup));){const ce=h.findNumber(V);if(!ce){const Te=o.skip(q,V);f.readUnknownFields&&te.push({no:V,wireType:q,data:Te});continue}Yy(h,o,ce,q,f)}if(v&&(q!=Ye.EndGroup||V!==A))throw new Error("invalid end group tag");te.length>0&&h.setUnknown(te)}function Yy(h,o,f,v,A){var I;switch(f.fieldKind){case"scalar":h.set(f,Ka(o,f.scalar));break;case"enum":const L=Ka(o,c.INT32);if(f.enum.open)h.set(f,L);else if(f.enum.values.some(q=>q.number===L))h.set(f,L);else if(A.readUnknownFields){const q=[];_(L,q);const te=(I=h.getUnknown())!==null&&I!==void 0?I:[];te.push({no:f.number,wireType:v,data:new Uint8Array(q)}),h.setUnknown(te)}break;case"message":h.set(f,im(o,A,f,h.get(f)));break;case"list":Ef(o,v,h.get(f),A);break;case"map":rm(o,h.get(f),A);break}}function rm(h,o,f){const v=o.field();let A,I;const L=h.uint32(),V=h.pos+L;for(;h.pos<V;){const[q]=h.tag();switch(q){case 1:A=Ka(h,v.mapKey);break;case 2:switch(v.mapKind){case"scalar":I=Ka(h,v.scalar);break;case"enum":I=h.int32();break;case"message":I=im(h,f,v);break}break}}if(A===void 0&&(A=$(v.mapKey,!1)),I===void 0)switch(v.mapKind){case"scalar":I=$(v.scalar,!1);break;case"enum":I=v.enum.values[0].number;break;case"message":I=qt(v.message,void 0,!1);break}o.set(A,I)}function Ef(h,o,f,v){var A;const I=f.field();if(I.listKind==="message"){f.add(im(h,v,I));return}const L=(A=I.scalar)!==null&&A!==void 0?A:c.INT32;if(!(o==Ye.LengthDelimited&&L!=c.STRING&&L!=c.BYTES)){f.add(Ka(h,L));return}const q=h.uint32()+h.pos;for(;h.pos<q;)f.add(Ka(h,L))}function im(h,o,f,v){const A=f.delimitedEncoding,I=v??qt(f.message,void 0,!1);return Wy(I,h,o,A,A?f.number:h.uint32()),I}function Ka(h,o){switch(o){case c.STRING:return h.string();case c.BOOL:return h.bool();case c.DOUBLE:return h.double();case c.FLOAT:return h.float();case c.INT32:return h.int32();case c.INT64:return h.int64();case c.UINT64:return h.uint64();case c.FIXED64:return h.fixed64();case c.BYTES:return h.bytes();case c.FIXED32:return h.fixed32();case c.SFIXED32:return h.sfixed32();case c.SFIXED64:return h.sfixed64();case c.SINT64:return h.sint64();case c.UINT32:return h.uint32();case c.SINT32:return h.sint32()}}function Ao(h,o){var f;const v=Pi(_1,$g(h));return v.messageType.forEach(gf),v.dependency=(f=o==null?void 0:o.map(I=>I.proto.name))!==null&&f!==void 0?f:[],Wg(v,I=>o==null?void 0:o.find(L=>L.proto.name===I)).getFile(v.name)}const qy=Ao("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function Ky(h){return new Date(Xy(h))}function Xy(h){return Number(h.seconds)*1e3+Math.round(h.nanos/1e6)}const ju=Ao("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),Zy=Ao("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),O1=Mt(Zy,0),D1=3,om={writeUnknownFields:!0};function Jy(h){return h?Object.assign(Object.assign({},om),h):om}function Li(h,o,f){return Ws(new ln,Jy(f),qt(h,o)).finish()}function Ws(h,o,f){var v;for(const A of f.sortedFields){if(!f.isSet(A)){if(A.presence==D1)throw new Error(`cannot encode ${A} to binary: required field not set`);continue}Qy(h,o,f,A)}if(o.writeUnknownFields)for(const{no:A,wireType:I,data:L}of(v=f.getUnknown())!==null&&v!==void 0?v:[])h.tag(A,I).raw(L);return h}function Qy(h,o,f,v){var A;switch(v.fieldKind){case"scalar":case"enum":Xa(h,f.desc.typeName,v.name,(A=v.scalar)!==null&&A!==void 0?A:c.INT32,v.number,f.get(v));break;case"list":ex(h,o,v,f.get(v));break;case"message":sm(h,o,v,f.get(v));break;case"map":for(const[I,L]of f.get(v))am(h,o,v,I,L);break}}function Xa(h,o,f,v,A,I){Fh(h.tag(A,tx(v)),o,f,v,I)}function sm(h,o,f,v){f.delimitedEncoding?Ws(h.tag(f.number,Ye.StartGroup),o,v).tag(f.number,Ye.EndGroup):Ws(h.tag(f.number,Ye.LengthDelimited).fork(),o,v).join()}function ex(h,o,f,v){var A;if(f.listKind=="message"){for(const L of v)sm(h,o,f,L);return}const I=(A=f.scalar)!==null&&A!==void 0?A:c.INT32;if(f.packed){if(!v.size)return;h.tag(f.number,Ye.LengthDelimited).fork();for(const L of v)Fh(h,f.parent.typeName,f.name,I,L);h.join();return}for(const L of v)Xa(h,f.parent.typeName,f.name,I,f.number,L)}function am(h,o,f,v,A){var I;switch(h.tag(f.number,Ye.LengthDelimited).fork(),Xa(h,f.parent.typeName,f.name,f.mapKey,1,v),f.mapKind){case"scalar":case"enum":Xa(h,f.parent.typeName,f.name,(I=f.scalar)!==null&&I!==void 0?I:c.INT32,2,A);break;case"message":Ws(h.tag(2,Ye.LengthDelimited).fork(),o,A).join();break}h.join()}function Fh(h,o,f,v,A){try{switch(v){case c.STRING:h.string(A);break;case c.BOOL:h.bool(A);break;case c.DOUBLE:h.double(A);break;case c.FLOAT:h.float(A);break;case c.INT32:h.int32(A);break;case c.INT64:h.int64(A);break;case c.UINT64:h.uint64(A);break;case c.FIXED64:h.fixed64(A);break;case c.BYTES:h.bytes(A);break;case c.FIXED32:h.fixed32(A);break;case c.SFIXED32:h.sfixed32(A);break;case c.SFIXED64:h.sfixed64(A);break;case c.SINT64:h.sint64(A);break;case c.UINT32:h.uint32(A);break;case c.SINT32:h.sint32(A);break}}catch(I){throw I instanceof Error?new Error(`cannot encode field ${o}.${f} to binary: ${I.message}`):I}}function tx(h){switch(h){case c.BYTES:case c.STRING:return Ye.LengthDelimited;case c.DOUBLE:case c.FIXED64:case c.SFIXED64:return Ye.Bit64;case c.FIXED32:case c.SFIXED32:case c.FLOAT:return Ye.Bit32;default:return Ye.Varint}}function nx(h,o,f){let v=!1;return f||(f=J(O1),v=!0),f.value=Li(h,o),f.typeUrl=P1(o.$typeName),v?f:void 0}function rx(h,o){if(h.typeUrl==="")return!1;const f=typeof o=="string"?o:o.typeName,v=ix(h.typeUrl);return f===v}function M1(h,o){if(h.typeUrl==="")return;const f=o.kind=="message"?o:o.getMessage(ix(h.typeUrl));if(!(!f||!rx(h,f)))return Pi(f,h.value)}function P1(h){return`type.googleapis.com/${h}`}function ix(h){const o=h.lastIndexOf("/"),f=o>=0?h.substring(o+1):h;if(!f.length)throw new Error(`invalid type url: ${h}`);return f}const lm=Ao("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),L1=Mt(lm,0),ii=Mt(lm,1),Cf=Mt(lm,2);var kh;(function(h){h[h.NULL_VALUE=0]="NULL_VALUE"})(kh||(kh={}));const ox=Ao("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function sx(h,o){Za(o,h);const f=um(h.$unknown,o),[v,A,I]=Bh(o);for(const L of f)Yy(v,new ke(L.data),A,L.wireType,{readUnknownFields:!0});return I()}function ax(h,o,f){var v;Za(o,h);const A=((v=h.$unknown)!==null&&v!==void 0?v:[]).filter(te=>te.no!==o.number),[I,L]=Bh(o,f),V=new ln;Qy(V,{writeUnknownFields:!0},I,L);const q=new ke(V.finish());for(;q.pos<q.len;){const[te,ce]=q.tag(),Te=q.skip(ce,te);A.push({no:te,wireType:ce,data:Te})}h.$unknown=A}function um(h,o){if(h===void 0)return[];if(o.fieldKind==="enum"||o.fieldKind==="scalar"){for(let f=h.length-1;f>=0;--f)if(h[f].no==o.number)return[h[f]];return[]}return h.filter(f=>f.no===o.number)}function Bh(h,o){const f=h.typeName,v=Object.assign(Object.assign({},h),{kind:"field",parent:h.extendee,localName:f}),A=Object.assign(Object.assign({},h.extendee),{fields:[v],members:[v],oneofs:[]}),I=J(A,o!==void 0?{[f]:o}:void 0);return[qt(A,I),v,()=>{const L=I[f];if(L===void 0){const V=h.message;return U(V)?$(V.fields[0].scalar,V.fields[0].longAsString):J(V)}return L}]}function Za(h,o){if(h.extendee.typeName!=o.$typeName)throw new Error(`extension ${h.typeName} can only be applied to message ${h.extendee.typeName}`)}const cm=3,wf=2,jh={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function lx(h){return h?Object.assign(Object.assign({},jh),h):jh}function Ja(h,o,f){return Qa(qt(h,o),lx(f))}function zu(h,o,f){var v;const A=Ja(h,o,f);return JSON.stringify(A,null,(v=f==null?void 0:f.prettySpaces)!==null&&v!==void 0?v:0)}function Qa(h,o){var f;const v=k1(h,o);if(v!==void 0)return v;const A={};for(const I of h.sortedFields){if(!h.isSet(I)){if(I.presence==cm)throw new Error(`cannot encode ${I} to JSON: required field not set`);if(!o.alwaysEmitImplicit||I.presence!==wf)continue}const L=fm(I,h.get(I),o);L!==void 0&&(A[F1(I,o)]=L)}if(o.registry){const I=new Set;for(const{no:L}of(f=h.getUnknown())!==null&&f!==void 0?f:[])if(!I.has(L)){I.add(L);const V=o.registry.getExtensionFor(h.desc,L);if(!V)continue;const q=sx(h.message,V),[te,ce]=Bh(V,q),Te=fm(ce,te.get(ce),o);Te!==void 0&&(A[V.jsonName]=Te)}}return A}function fm(h,o,f){switch(h.fieldKind){case"scalar":return Rf(h,o);case"message":return Qa(o,f);case"enum":return zh(h.enum,o,f.enumAsInteger);case"list":return ux(o,f);case"map":return el(o,f)}}function el(h,o){const f=h.field(),v={};switch(f.mapKind){case"scalar":for(const[A,I]of h)v[A]=Rf(f,I);break;case"message":for(const[A,I]of h)v[A]=Qa(I,o);break;case"enum":for(const[A,I]of h)v[A]=zh(f.enum,I,o.enumAsInteger);break}return o.alwaysEmitImplicit||h.size>0?v:void 0}function ux(h,o){const f=h.field(),v=[];switch(f.listKind){case"scalar":for(const A of h)v.push(Rf(f,A));break;case"enum":for(const A of h)v.push(zh(f.enum,A,o.enumAsInteger));break;case"message":for(const A of h)v.push(Qa(A,o));break}return o.alwaysEmitImplicit||v.length>0?v:void 0}function zh(h,o,f){var v;if(typeof o!="number")throw new Error(`cannot encode ${h} to JSON: expected number, got ${rt(o)}`);if(h.typeName=="google.protobuf.NullValue")return null;if(f)return o;const A=h.value[o];return(v=A==null?void 0:A.name)!==null&&v!==void 0?v:o}function Rf(h,o){var f,v,A,I,L,V;switch(h.scalar){case c.INT32:case c.SFIXED32:case c.SINT32:case c.FIXED32:case c.UINT32:if(typeof o!="number")throw new Error(`cannot encode ${h} to JSON: ${(f=Dt(h,o))===null||f===void 0?void 0:f.message}`);return o;case c.FLOAT:case c.DOUBLE:if(typeof o!="number")throw new Error(`cannot encode ${h} to JSON: ${(v=Dt(h,o))===null||v===void 0?void 0:v.message}`);return Number.isNaN(o)?"NaN":o===Number.POSITIVE_INFINITY?"Infinity":o===Number.NEGATIVE_INFINITY?"-Infinity":o;case c.STRING:if(typeof o!="string")throw new Error(`cannot encode ${h} to JSON: ${(A=Dt(h,o))===null||A===void 0?void 0:A.message}`);return o;case c.BOOL:if(typeof o!="boolean")throw new Error(`cannot encode ${h} to JSON: ${(I=Dt(h,o))===null||I===void 0?void 0:I.message}`);return o;case c.UINT64:case c.FIXED64:case c.INT64:case c.SFIXED64:case c.SINT64:if(typeof o!="bigint"&&typeof o!="string")throw new Error(`cannot encode ${h} to JSON: ${(L=Dt(h,o))===null||L===void 0?void 0:L.message}`);return o.toString();case c.BYTES:if(o instanceof Uint8Array)return gy(o);throw new Error(`cannot encode ${h} to JSON: ${(V=Dt(h,o))===null||V===void 0?void 0:V.message}`)}}function F1(h,o){return o.useProtoFieldName?h.name:h.jsonName}function k1(h,o){if(h.desc.typeName.startsWith("google.protobuf."))switch(h.desc.typeName){case"google.protobuf.Any":return B1(h.message,o);case"google.protobuf.Timestamp":return Fi(h.message);case"google.protobuf.Duration":return cx(h.message);case"google.protobuf.FieldMask":return fx(h.message);case"google.protobuf.Struct":return Uh(h.message);case"google.protobuf.Value":return xi(h.message);case"google.protobuf.ListValue":return dm(h.message);default:if(U(h.desc)){const f=h.desc.fields[0];return Rf(f,h.get(f))}return}}function B1(h,o){if(h.typeUrl==="")return{};const{registry:f}=o;let v,A;if(f&&(v=M1(h,f),v&&(A=f.getMessage(v.$typeName))),!A||!v)throw new Error(`cannot encode message ${h.$typeName} to JSON: "${h.typeUrl}" is not in the type registry`);let I=Qa(qt(A,v),o);return(A.typeName.startsWith("google.protobuf.")||I===null||Array.isArray(I)||typeof I!="object")&&(I={value:I}),I["@type"]=h.typeUrl,I}function cx(h){const o=Number(h.seconds),f=h.nanos;if(o>315576e6||o<-315576e6)throw new Error(`cannot encode message ${h.$typeName} to JSON: value out of range`);if(o>0&&f<0||o<0&&f>0)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos sign must match seconds sign`);let v=h.seconds.toString();if(f!==0){let A=Math.abs(f).toString();A="0".repeat(9-A.length)+A,A.substring(3)==="000000"?A=A.substring(0,3):A.substring(6)==="000"&&(A=A.substring(0,6)),v+="."+A,f<0&&o==0&&(v="-"+v)}return v+"s"}function fx(h){return h.paths.map(o=>{if(o.match(/_[0-9]?_/g)||o.match(/[A-Z]/g))throw new Error(`cannot encode message ${h.$typeName} to JSON: lowerCamelCase of path name "`+o+'" is irreversible');return Ha(o)}).join(",")}function Uh(h){const o={};for(const[f,v]of Object.entries(h.fields))o[f]=xi(v);return o}function xi(h){switch(h.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(h.kind.value))throw new Error(`${h.$typeName} cannot be NaN or Infinity`);return h.kind.value;case"boolValue":return h.kind.value;case"stringValue":return h.kind.value;case"structValue":return Uh(h.kind.value);case"listValue":return dm(h.kind.value);default:throw new Error(`${h.$typeName} must have a value`)}}function dm(h){return h.values.map(xi)}function Fi(h){const o=Number(h.seconds)*1e3;if(o<Date.parse("0001-01-01T00:00:00Z")||o>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${h.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(h.nanos<0)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos must not be negative`);if(h.nanos>999999999)throw new Error(`cannot encode message ${h.$typeName} to JSON: nanos must not be greater than 99999999`);let f="Z";if(h.nanos>0){const v=(h.nanos+1e9).toString().substring(1);v.substring(3)==="000000"?f="."+v.substring(0,3)+"Z":v.substring(6)==="000"?f="."+v.substring(0,6)+"Z":f="."+v+"Z"}return new Date(o).toISOString().replace(".000Z",f)}const bi={ignoreUnknownFields:!1};function Uu(h){return h?Object.assign(Object.assign({},bi),h):bi}function hm(h,o,f){return Vh(h,pm(o,h.typeName),f)}function Vh(h,o,f){const v=qt(h);try{es(v,o,Uu(f))}catch(A){throw me(A)?new Error(`cannot decode ${A.field()} from JSON: ${A.message}`,{cause:A}):A}return v.message}function es(h,o,f){var v;if(gm(h,o,f))return;if(o==null||Array.isArray(o)||typeof o!="object")throw new Error(`cannot decode ${h.desc} from JSON: ${rt(o)}`);const A=new Map,I=new Map;for(const L of h.desc.fields)I.set(L.name,L).set(L.jsonName,L);for(const[L,V]of Object.entries(o)){const q=I.get(L);if(q){if(q.oneof){if(V===null&&q.fieldKind=="scalar")continue;const te=A.get(q.oneof);if(te!==void 0)throw new gt(q.oneof,`oneof set multiple times by ${te.name} and ${q.name}`);A.set(q.oneof,q)}Gh(h,q,V,f)}else{let te;if(L.startsWith("[")&&L.endsWith("]")&&(te=(v=f.registry)===null||v===void 0?void 0:v.getExtension(L.substring(1,L.length-1)))&&te.extendee.typeName===h.desc.typeName){const[ce,Te,Be]=Bh(te);Gh(ce,Te,V,f),ax(h.message,te,Be())}if(!te&&!f.ignoreUnknownFields)throw new Error(`cannot decode ${h.desc} from JSON: key "${L}" is unknown`)}}}function Gh(h,o,f,v){switch(o.fieldKind){case"scalar":j1(h,o,f);break;case"enum":Gu(h,o,f,v);break;case"message":$h(h,o,f,v);break;case"list":dx(h.get(o),f,v);break;case"map":Vu(h.get(o),f,v);break}}function Vu(h,o,f){if(o===null)return;const v=h.field();if(typeof o!="object"||Array.isArray(o))throw new gt(v,"expected object, got "+rt(o));for(const[A,I]of Object.entries(o)){if(I===null)throw new gt(v,"map value must not be null");let L;switch(v.mapKind){case"message":const q=qt(v.message);es(q,I,f),L=q;break;case"enum":if(L=Tf(v.enum,I,f.ignoreUnknownFields,!0),L===kr)return;break;case"scalar":L=Nf(v,I,!0);break}const V=Hh(v.mapKey,A);h.set(V,L)}}function dx(h,o,f){if(o===null)return;const v=h.field();if(!Array.isArray(o))throw new gt(v,"expected Array, got "+rt(o));for(const A of o){if(A===null)throw new gt(v,"list item must not be null");switch(v.listKind){case"message":const I=qt(v.message);es(I,A,f),h.add(I);break;case"enum":const L=Tf(v.enum,A,f.ignoreUnknownFields,!0);L!==kr&&h.add(L);break;case"scalar":h.add(Nf(v,A,!0));break}}}function $h(h,o,f,v){if(f===null&&o.message.typeName!="google.protobuf.Value"){h.clear(o);return}const A=h.isSet(o)?h.get(o):qt(o.message);es(A,f,v),h.set(o,A)}function Gu(h,o,f,v){const A=Tf(o.enum,f,v.ignoreUnknownFields,!1);A===ki?h.clear(o):A!==kr&&h.set(o,A)}function j1(h,o,f){const v=Nf(o,f,!1);v===ki?h.clear(o):h.set(o,v)}const kr=Symbol();function Tf(h,o,f,v){if(o===null)return h.typeName=="google.protobuf.NullValue"?0:v?h.values[0].number:ki;switch(typeof o){case"number":if(Number.isInteger(o))return o;break;case"string":const A=h.values.find(I=>I.name===o);if(A!==void 0)return A.number;if(f)return kr;break}throw new Error(`cannot decode ${h} from JSON: ${rt(o)}`)}const ki=Symbol();function Nf(h,o,f){if(o===null)return f?$(h.scalar,!1):ki;switch(h.scalar){case c.DOUBLE:case c.FLOAT:if(o==="NaN")return NaN;if(o==="Infinity")return Number.POSITIVE_INFINITY;if(o==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof o=="number"){if(Number.isNaN(o))throw new gt(h,"unexpected NaN number");if(!Number.isFinite(o))throw new gt(h,"unexpected infinite number");break}if(typeof o=="string"){if(o===""||o.trim().length!==o.length)break;const v=Number(o);if(!Number.isFinite(v))break;return v}break;case c.INT32:case c.FIXED32:case c.SFIXED32:case c.SINT32:case c.UINT32:return Ys(o);case c.BYTES:if(typeof o=="string"){if(o==="")return new Uint8Array(0);try{return $g(o)}catch(v){const A=v instanceof Error?v.message:String(v);throw new gt(h,A)}}break}return o}function Hh(h,o){switch(h){case c.BOOL:switch(o){case"true":return!0;case"false":return!1}return o;case c.INT32:case c.FIXED32:case c.UINT32:case c.SFIXED32:case c.SINT32:return Ys(o);default:return o}}function Ys(h){if(typeof h=="string"){if(h===""||h.trim().length!==h.length)return h;const o=Number(h);return Number.isNaN(o)?h:o}return h}function pm(h,o){try{return JSON.parse(h)}catch(f){const v=f instanceof Error?f.message:String(f);throw new Error(`cannot decode message ${o} from JSON: ${v}`,{cause:f})}}function gm(h,o,f){if(!h.desc.typeName.startsWith("google.protobuf."))return!1;switch(h.desc.typeName){case"google.protobuf.Any":return $u(h.message,o,f),!0;case"google.protobuf.Timestamp":return Hu(h.message,o),!0;case"google.protobuf.Duration":return Wh(h.message,o),!0;case"google.protobuf.FieldMask":return Yh(h.message,o),!0;case"google.protobuf.Struct":return Si(h.message,o),!0;case"google.protobuf.Value":return oi(h.message,o),!0;case"google.protobuf.ListValue":return qs(h.message,o),!0;default:if(U(h.desc)){const v=h.desc.fields[0];return o===null?h.clear(v):h.set(v,Nf(v,o,!0)),!0}return!1}}function $u(h,o,f){var v;if(o===null||Array.isArray(o)||typeof o!="object")throw new Error(`cannot decode message ${h.$typeName} from JSON: expected object but got ${rt(o)}`);if(Object.keys(o).length==0)return;const A=o["@type"];if(typeof A!="string"||A=="")throw new Error(`cannot decode message ${h.$typeName} from JSON: "@type" is empty`);const I=A.includes("/")?A.substring(A.lastIndexOf("/")+1):A;if(!I.length)throw new Error(`cannot decode message ${h.$typeName} from JSON: "@type" is invalid`);const L=(v=f.registry)===null||v===void 0?void 0:v.getMessage(I);if(!L)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${A} is not in the type registry`);const V=qt(L);if(I.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(o,"value")){const q=o.value;es(V,q,f)}else{const q=Object.assign({},o);delete q["@type"],es(V,q,f)}nx(V.desc,V.message,h)}function Hu(h,o){if(typeof o!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(o)}`);const f=o.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!f)throw new Error(`cannot decode message ${h.$typeName} from JSON: invalid RFC 3339 string`);const v=Date.parse(f[1]+"-"+f[2]+"-"+f[3]+"T"+f[4]+":"+f[5]+":"+f[6]+(f[8]?f[8]:"Z"));if(Number.isNaN(v))throw new Error(`cannot decode message ${h.$typeName} from JSON: invalid RFC 3339 string`);if(v<Date.parse("0001-01-01T00:00:00Z")||v>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${h.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);h.seconds=F.parse(v/1e3),h.nanos=0,f[7]&&(h.nanos=parseInt("1"+f[7]+"0".repeat(9-f[7].length))-1e9)}function Wh(h,o){if(typeof o!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(o)}`);const f=o.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(f===null)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(o)}`);const v=Number(f[1]);if(v>315576e6||v<-315576e6)throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(o)}`);if(h.seconds=F.parse(v),typeof f[2]!="string")return;const A=f[2]+"0".repeat(9-f[2].length);h.nanos=parseInt(A),(v<0||Object.is(v,-0))&&(h.nanos=-h.nanos)}function Yh(h,o){if(typeof o!="string")throw new Error(`cannot decode message ${h.$typeName} from JSON: ${rt(o)}`);if(o==="")return;function f(v){if(v.includes("_"))throw new Error(`cannot decode message ${h.$typeName} from JSON: path names must be lowerCamelCase`);const A=v.replace(/[A-Z]/g,I=>"_"+I.toLowerCase());return A[0]==="_"?A.substring(1):A}h.paths=o.split(",").map(f)}function Si(h,o){if(typeof o!="object"||o==null||Array.isArray(o))throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(o)}`);for(const[f,v]of Object.entries(o)){const A=J(ii);oi(A,v),h.fields[f]=A}}function oi(h,o){switch(typeof o){case"number":h.kind={case:"numberValue",value:o};break;case"string":h.kind={case:"stringValue",value:o};break;case"boolean":h.kind={case:"boolValue",value:o};break;case"object":if(o===null)h.kind={case:"nullValue",value:kh.NULL_VALUE};else if(Array.isArray(o)){const f=J(Cf);qs(f,o),h.kind={case:"listValue",value:f}}else{const f=J(L1);Si(f,o),h.kind={case:"structValue",value:f}}break;default:throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(o)}`)}return h}function qs(h,o){if(!Array.isArray(o))throw new Error(`cannot decode message ${h.$typeName} from JSON ${rt(o)}`);for(const f of o){const v=J(ii);oi(v,f),h.values.push(v)}}function Eo(h){const o=l[h];return typeof o!="string"?h.toString():o[0].toLowerCase()+o.substring(1).replace(/[A-Z]/g,f=>"_"+f.toLowerCase())}class Kt extends Error{constructor(o,f=l.Unknown,v,A,I){super(tl(o,f)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=o,this.code=f,this.metadata=new Headers(v??{}),this.details=A??[],this.cause=I}static from(o,f=l.Unknown){return o instanceof Kt?o:o instanceof Error?o.name=="AbortError"||o.name=="TimeoutError"?new Kt(o.message,l.Canceled):new Kt(o.message,f,void 0,void 0,o):new Kt(String(o),f,void 0,void 0,o)}static[Symbol.hasInstance](o){return o instanceof Error?Object.getPrototypeOf(o)===Kt.prototype?!0:o.name==="ConnectError"&&"code"in o&&typeof o.code=="number"&&"metadata"in o&&"details"in o&&Array.isArray(o.details)&&"rawMessage"in o&&typeof o.rawMessage=="string"&&"cause"in o:!1}findDetails(o){const f=o.kind==="message"?{getMessage:A=>A===o.typeName?o:void 0}:o,v=[];for(const A of this.details){if("desc"in A){f.getMessage(A.desc.typeName)&&v.push(J(A.desc,A.value));continue}const I=f.getMessage(A.type);if(I)try{v.push(Pi(I,A.value))}catch{}}return v}}function tl(h,o){return h.length?`[${Eo(o)}] ${h}`:`[${Eo(o)}]`}function hx(h,o,f){try{const v=$g(h);return o?Pi(o,v,f):v}catch(v){throw Kt.from(v,l.DataLoss)}}function mm(h,o){const f={};for(const v of h.methods){const A=o(v);A!=null&&(f[v.localName]=A)}return f}const qh=1;function Yr(h,o,f=!1){if(o>h){let v=`message size is larger than configured readMaxBytes ${h}`;throw f&&(v=`message size ${o} is larger than configured readMaxBytes ${h}`),new Kt(v,l.ResourceExhausted)}}function Kn(h){return new dn(h)}class dn{constructor(o){this.readMaxBytes=o,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((o,f)=>o+f.byteLength,0)}decode(o){this.buf.push(o);const f=[];for(;;){let v=this.pop();if(!v)break;f.push(v)}return f}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const o=this.env;return this.env=void 0,o}}head(){if(!this.cons(this.header))return;const o=this.headerView.getUint8(0),f=this.headerView.getUint32(1);return Yr(this.readMaxBytes,f,!0),{flags:o,data:new Uint8Array(f)}}cons(o){const f=o.byteLength;if(this.byteLength<f)return!1;let v=0;for(;v<f;){const A=this.buf.shift();A.byteLength>f-v?(o.set(A.subarray(0,f-v),v),this.buf.unshift(A.subarray(f-v)),v+=f-v):(o.set(A,v),v+=A.byteLength)}return!0}}function Ks(h){let o;const f=Kn(4294967295);return new ReadableStream({start(){o=h.getReader()},async pull(v){let A=!1;for(;!A;){const I=await o.read();if(I.done)f.byteLength>0&&v.error(new Kt("protocol error: incomplete envelope",l.InvalidArgument)),v.close();else for(const L of f.decode(I.value))v.enqueue(L),A=!0}}})}function eo(h,o){const f=new Uint8Array(o.length+5);f.set(o,5);const v=new DataView(f.buffer,f.byteOffset,f.byteLength);return v.setUint8(0,h),v.setUint32(1,o.length),f}var vm=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=h[Symbol.asyncIterator],f;return o?o.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),f={},v("next"),v("throw"),v("return"),f[Symbol.asyncIterator]=function(){return this},f);function v(I){f[I]=h[I]&&function(L){return new Promise(function(V,q){L=h[I](L),A(V,q,L.done,L.value)})}}function A(I,L,V,q){Promise.resolve(q).then(function(te){I({value:te,done:V})},L)}},to=function(h){return this instanceof to?(this.v=h,this):new to(h)},px=function(h,o,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=f.apply(h,o||[]),A,I=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",L),A[Symbol.asyncIterator]=function(){return this},A;function L(Ne){return function($e){return Promise.resolve($e).then(Ne,Te)}}function V(Ne,$e){v[Ne]&&(A[Ne]=function(We){return new Promise(function(st,Ct){I.push([Ne,We,st,Ct])>1||q(Ne,We)})},$e&&(A[Ne]=$e(A[Ne])))}function q(Ne,$e){try{te(v[Ne]($e))}catch(We){Be(I[0][3],We)}}function te(Ne){Ne.value instanceof to?Promise.resolve(Ne.value.v).then(ce,Te):Be(I[0][2],Ne)}function ce(Ne){q("next",Ne)}function Te(Ne){q("throw",Ne)}function Be(Ne,$e){Ne($e),I.shift(),I.length&&q(I[0][0],I[0][1])}},gx=function(h){var o,f;return o={},v("next"),v("throw",function(A){throw A}),v("return"),o[Symbol.iterator]=function(){return this},o;function v(A,I){o[A]=h[A]?function(L){return(f=!f)?{value:to(h[A](L)),done:!1}:I?I(L):L}:I}};function _f(h){return px(this,arguments,function*(){yield to(yield*gx(vm(h)))})}var Wu=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=h[Symbol.asyncIterator],f;return o?o.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),f={},v("next"),v("throw"),v("return"),f[Symbol.asyncIterator]=function(){return this},f);function v(I){f[I]=h[I]&&function(L){return new Promise(function(V,q){L=h[I](L),A(V,q,L.done,L.value)})}}function A(I,L,V,q){Promise.resolve(q).then(function(te){I({value:te,done:V})},L)}},nl=function(h){return this instanceof nl?(this.v=h,this):new nl(h)},If=function(h){var o,f;return o={},v("next"),v("throw",function(A){throw A}),v("return"),o[Symbol.iterator]=function(){return this},o;function v(A,I){o[A]=h[A]?function(L){return(f=!f)?{value:nl(h[A](L)),done:!1}:I?I(L):L}:I}},ym=function(h,o,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=f.apply(h,o||[]),A,I=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",L),A[Symbol.asyncIterator]=function(){return this},A;function L(Ne){return function($e){return Promise.resolve($e).then(Ne,Te)}}function V(Ne,$e){v[Ne]&&(A[Ne]=function(We){return new Promise(function(st,Ct){I.push([Ne,We,st,Ct])>1||q(Ne,We)})},$e&&(A[Ne]=$e(A[Ne])))}function q(Ne,$e){try{te(v[Ne]($e))}catch(We){Be(I[0][3],We)}}function te(Ne){Ne.value instanceof nl?Promise.resolve(Ne.value.v).then(ce,Te):Be(I[0][2],Ne)}function ce(Ne){q("next",Ne)}function Te(Ne){q("throw",Ne)}function Be(Ne,$e){Ne($e),I.shift(),I.length&&q(I[0][0],I[0][1])}};function rl(h,o){return mm(h,f=>{switch(f.methodKind){case"unary":return ts(o,f);case"server_streaming":return Xs(o,f);case"client_streaming":return ns(o,f);case"bidi_streaming":return xm(o,f);default:return null}})}function ts(h,o){return async(f,v)=>{var A,I;const L=await h.unary(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,f,v==null?void 0:v.contextValues);return(A=v==null?void 0:v.onHeader)===null||A===void 0||A.call(v,L.header),(I=v==null?void 0:v.onTrailer)===null||I===void 0||I.call(v,L.trailer),L.message}}function Xs(h,o){return(f,v)=>Kh(h.stream(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,_f([f]),v==null?void 0:v.contextValues),v)}function ns(h,o){return async(f,v)=>{var A,I,L,V,q,te;const ce=await h.stream(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,f,v==null?void 0:v.contextValues);(q=v==null?void 0:v.onHeader)===null||q===void 0||q.call(v,ce.header);let Te,Be=0;try{for(var Ne=!0,$e=Wu(ce.message),We;We=await $e.next(),A=We.done,!A;Ne=!0)V=We.value,Ne=!1,Te=V,Be++}catch(st){I={error:st}}finally{try{!Ne&&!A&&(L=$e.return)&&await L.call($e)}finally{if(I)throw I.error}}if(!Te)throw new Kt("protocol error: missing response message",l.Unimplemented);if(Be>1)throw new Kt("protocol error: received extra messages for client streaming method",l.Unimplemented);return(te=v==null?void 0:v.onTrailer)===null||te===void 0||te.call(v,ce.trailer),Te}}function xm(h,o){return(f,v)=>Kh(h.stream(o,v==null?void 0:v.signal,v==null?void 0:v.timeoutMs,v==null?void 0:v.headers,f,v==null?void 0:v.contextValues),v)}function Kh(h,o){const f=function(){return ym(this,arguments,function*(){var v,A;const I=yield nl(h);(v=o==null?void 0:o.onHeader)===null||v===void 0||v.call(o,I.header),yield nl(yield*If(Wu(I.message))),(A=o==null?void 0:o.onTrailer)===null||A===void 0||A.call(o,I.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>f.next()})}}function Of(...h){const o=new AbortController,f=h.filter(A=>A!==void 0).concat(o.signal);for(const A of f){if(A.aborted){v.apply(A);break}A.addEventListener("abort",v)}function v(){o.signal.aborted||o.abort(Zs(this));for(const A of f)A.removeEventListener("abort",v)}return o}function Xh(h){const o=new AbortController,f=()=>{o.abort(new Kt("the operation timed out",l.DeadlineExceeded))};let v;return h!==void 0&&(h<=0?f():v=setTimeout(f,h)),{signal:o.signal,cleanup:()=>clearTimeout(v)}}function Zs(h){if(!h.aborted)return;if(h.reason!==void 0)return h.reason;const o=new Error("This operation was aborted");return o.name="AbortError",o}function Ar(){return{get(h){return h.id in this?this[h.id]:h.defaultValue},set(h,o){return this[h.id]=o,this},delete(h){return delete this[h.id],this}}}const Yu=128;function bm(h){const o=new Headers,f=new TextDecoder().decode(h).split(`\r
`);for(const v of f){if(v==="")continue;const A=v.indexOf(":");if(A>0){const I=v.substring(0,A).trim(),L=v.substring(A+1).trim();o.append(I,L)}}return o}const z1="Content-Type",U1="Grpc-Timeout",qu="Grpc-Status",sr="Grpc-Message",Sm="Grpc-Status-Details-Bin",Df="User-Agent",Ku="X-User-Agent",Am="X-Grpc-Web",Xu="application/grpc-web+proto",Zu="application/grpc-web+json";function V1(h,o,...f){if(f.length>0)throw new Error;return h.services[o]}const $1=Mt(Ao("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[Zy]),0),mx="0";function Js(h){var o;const f=h.get(Sm);if(f!=null){const A=hx(f,$1);if(A.code==0)return;const I=new Kt(A.message,A.code,h);return I.details=A.details.map(L=>({type:L.typeUrl.substring(L.typeUrl.lastIndexOf("/")+1),value:L.value})),I}const v=h.get(qu);if(v!=null){if(v===mx)return;const A=parseInt(v,10);return A in l?new Kt(decodeURIComponent((o=h.get(sr))!==null&&o!==void 0?o:""),A,h):new Kt(`invalid grpc-status: ${v}`,l.Internal,h)}}function Zh(h,o){return h.toString().replace(/\/?$/,`/${o.parent.typeName}/${o.name}`)}function Mf(h,o){return J(h,o)}function vx(h,o){function f(v){return v.done===!0?v:{done:v.done,value:Mf(h,v.value)}}return{[Symbol.asyncIterator](){const v=o[Symbol.asyncIterator](),A={next:()=>v.next().then(f)};return v.throw!==void 0&&(A.throw=I=>v.throw(I).then(f)),v.return!==void 0&&(A.return=I=>v.return(I).then(f)),A}}}function Ju(h,o){if(!o)return h;for(const f of o.concat().reverse())h=f(h);return h}function yx(h){var o;const f=Object.assign({},h);return(o=f.ignoreUnknownFields)!==null&&o!==void 0||(f.ignoreUnknownFields=!0),f}function Pf(h,o,f,v){const A=o?Jh(h.input,v):Em(h.input,f);return{parse:(o?Jh(h.output,v):Em(h.output,f)).parse,serialize:A.serialize}}function Jh(h,o){return{parse(f){try{return Pi(h,f,o)}catch(v){const A=v instanceof Error?v.message:String(v);throw new Kt(`parse binary: ${A}`,l.Internal)}},serialize(f){try{return Li(h,f,o)}catch(v){const A=v instanceof Error?v.message:String(v);throw new Kt(`serialize binary: ${A}`,l.Internal)}}}}function Em(h,o){var f,v;const A=(f=o==null?void 0:o.textEncoder)!==null&&f!==void 0?f:new TextEncoder,I=(v=o==null?void 0:o.textDecoder)!==null&&v!==void 0?v:new TextDecoder,L=yx(o);return{parse(V){try{const q=I.decode(V);return hm(h,q,L)}catch(q){throw Kt.from(q,l.InvalidArgument)}},serialize(V){try{const q=zu(h,V,L);return A.encode(q)}catch(q){throw Kt.from(q,l.Internal)}}}}function Qh(h){const o=Ju(h.next,h.interceptors),[f,v,A]=Qu(h),I=Object.assign(Object.assign({},h.req),{message:Mf(h.req.method.input,h.req.message),signal:f});return o(I).then(L=>(A(),L),v)}function xx(h){const o=Ju(h.next,h.interceptors),[f,v,A]=Qu(h),I=Object.assign(Object.assign({},h.req),{message:vx(h.req.method.input,h.req.message),signal:f});let L=!1;return f.addEventListener("abort",function(){var V,q;const te=h.req.message[Symbol.asyncIterator]();L||(V=te.throw)===null||V===void 0||V.call(te,this.reason).catch(()=>{}),(q=te.return)===null||q===void 0||q.call(te).catch(()=>{})}),o(I).then(V=>Object.assign(Object.assign({},V),{message:{[Symbol.asyncIterator](){const q=V.message[Symbol.asyncIterator]();return{next(){return q.next().then(te=>(te.done==!0&&(L=!0,A()),te),v)}}}}}),v)}function Qu(h){const{signal:o,cleanup:f}=Xh(h.timeoutMs),v=Of(h.signal,o);return[v.signal,function(I){const L=Kt.from(o.aborted?Zs(o):I);return v.abort(L),f(),Promise.reject(L)},function(){f(),v.abort()}]}function bx(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Cm(h,o){const f=Js(h);if(f)throw o.forEach((v,A)=>{f.metadata.append(A,v)}),f;if(!o.has(qu)&&!h.has(qu))throw new Kt("protocol error: missing status",l.Internal)}function rs(h,o,f,v){var A,I;const L=new Headers(f??{});L.set(z1,h?Xu:Zu),L.set(Am,"1");const V=(I=(A=L.get(Df))!==null&&A!==void 0?A:L.get(Ku))!==null&&I!==void 0?I:"connect-es/2.1.1";return L.set(Ku,V),o!==void 0&&L.set(U1,`${o}m`),L}function wm(h){switch(h){case 400:return l.Internal;case 401:return l.Unauthenticated;case 403:return l.PermissionDenied;case 404:return l.Unimplemented;case 429:return l.Unavailable;case 502:return l.Unavailable;case 503:return l.Unavailable;case 504:return l.Unavailable;default:return l.Unknown}}function ep(h,o){var f;if(h>=200&&h<300)return{foundStatus:o.has(qu),headerError:Js(o)};throw new Kt(decodeURIComponent((f=o.get(sr))!==null&&f!==void 0?f:`HTTP ${h}`),wm(h),o)}var si=function(h){return this instanceof si?(this.v=h,this):new si(h)},Qs=function(h,o,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=f.apply(h,o||[]),A,I=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),V("next"),V("throw"),V("return",L),A[Symbol.asyncIterator]=function(){return this},A;function L(Ne){return function($e){return Promise.resolve($e).then(Ne,Te)}}function V(Ne,$e){v[Ne]&&(A[Ne]=function(We){return new Promise(function(st,Ct){I.push([Ne,We,st,Ct])>1||q(Ne,We)})},$e&&(A[Ne]=$e(A[Ne])))}function q(Ne,$e){try{te(v[Ne]($e))}catch(We){Be(I[0][3],We)}}function te(Ne){Ne.value instanceof si?Promise.resolve(Ne.value.v).then(ce,Te):Be(I[0][2],Ne)}function ce(Ne){q("next",Ne)}function Te(Ne){q("throw",Ne)}function Be(Ne,$e){Ne($e),I.shift(),I.length&&q(I[0][0],I[0][1])}};const ec={redirect:"error"};function Rm(h){var o;bx();const f=(o=h.useBinaryFormat)!==null&&o!==void 0?o:!0;return{async unary(v,A,I,L,V,q){const{serialize:te,parse:ce}=Pf(v,f,h.jsonOptions,h.binaryOptions);return I=I===void 0?h.defaultTimeoutMs:I<=0?void 0:I,await Qh({interceptors:h.interceptors,signal:A,timeoutMs:I,req:{stream:!1,service:v.parent,method:v,requestMethod:"POST",url:Zh(h.baseUrl,v),header:rs(f,I,L),contextValues:q??Ar(),message:V},next:async Te=>{var Be;const $e=await((Be=h.fetch)!==null&&Be!==void 0?Be:globalThis.fetch)(Te.url,Object.assign(Object.assign({},ec),{method:Te.requestMethod,headers:Te.header,signal:Te.signal,body:eo(0,te(Te.message))})),{headerError:We}=ep($e.status,$e.headers);if(!$e.body)throw We!==void 0?We:"missing response body";const st=Ks($e.body).getReader();let Ct,sn;for(;;){const mn=await st.read();if(mn.done)break;const{flags:An,data:Ir}=mn.value;if((An&qh)===qh)throw new Kt("protocol error: received unsupported compressed output",l.Internal);if(An===Yu){if(Ct!==void 0)throw"extra trailer";Ct=bm(Ir);continue}if(sn!==void 0)throw new Kt("extra message",l.Unimplemented);sn=ce(Ir)}if(Ct===void 0)throw We!==void 0?We:new Kt("missing trailer",$e.headers.has(qu)?l.Unimplemented:l.Unknown);if(Cm(Ct,$e.headers),sn===void 0)throw new Kt("missing message",Ct.has(qu)?l.Unimplemented:l.Unknown);return{stream:!1,service:v.parent,method:v,header:$e.headers,message:sn,trailer:Ct}}})},async stream(v,A,I,L,V,q){const{serialize:te,parse:ce}=Pf(v,f,h.jsonOptions,h.binaryOptions);function Te(Ne,$e,We,st,Ct){return Qs(this,arguments,function*(){const mn=Ks(Ne).getReader();if($e){if(!(yield si(mn.read())).done)throw"extra data for trailers-only";return yield si(void 0)}let An=!1;for(;;){const Ir=yield si(mn.read());if(Ir.done)break;const{flags:pn,data:$n}=Ir.value;if((pn&Yu)===Yu){if(An)throw"extra trailer";An=!0;const Hn=bm($n);Cm(Hn,st),Hn.forEach((Wn,ho)=>We.set(ho,Wn));continue}if(An)throw"extra message";yield yield si(ce($n))}if("throwIfAborted"in Ct&&Ct.throwIfAborted(),!An)throw"missing trailer"})}async function Be(Ne){if(v.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const $e=await Ne[Symbol.asyncIterator]().next();if($e.done==!0)throw"missing request message";return eo(0,te($e.value))}return I=I===void 0?h.defaultTimeoutMs:I<=0?void 0:I,xx({interceptors:h.interceptors,signal:A,timeoutMs:I,req:{stream:!0,service:v.parent,method:v,requestMethod:"POST",url:Zh(h.baseUrl,v),header:rs(f,I,L),contextValues:q??Ar(),message:V},next:async Ne=>{var $e;const st=await(($e=h.fetch)!==null&&$e!==void 0?$e:globalThis.fetch)(Ne.url,Object.assign(Object.assign({},ec),{method:Ne.requestMethod,headers:Ne.header,signal:Ne.signal,body:await Be(Ne.message)})),{foundStatus:Ct,headerError:sn}=ep(st.status,st.headers);if(sn!=null)throw sn;if(!st.body)throw"missing response body";const mn=new Headers;return Object.assign(Object.assign({},Ne),{header:st.headers,trailer:mn,message:Te(st.body,Ct,mn,st.headers,Ne.signal)})}})}}}const Ft=Ao("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[qy,ox]),Lf=Mt(Ft,0),Ff=Mt(Ft,1),Sx=Mt(Ft,2),tp=Mt(Ft,3),ea=Mt(Ft,4),tc=Mt(Ft,5),Ax=Mt(Ft,5,0),Tm=Mt(Ft,5,1),Nm=Mt(Ft,5,2),ta=Mt(Ft,5,3),Ut=Mt(Ft,5,4),Rn=Mt(Ft,5,5),ar=Mt(Ft,5,6),np=Mt(Ft,5,7),nc=Mt(Ft,5,8),il=Mt(Ft,5,9),is=Mt(Ft,6),Br=Mt(Ft,7),rc=Mt(Ft,7,0),H1=Mt(Ft,7,1),tr=Mt(Ft,7,2),_m=Mt(Ft,7,3),Im=Mt(Ft,7,4),Ex=Mt(Ft,7,5),Cx=Mt(Ft,8),W1=Mt(Ft,9),rp=Mt(Ft,10),Om=Mt(Ft,11),Dm=Mt(Ft,12),ai=Mt(Ft,13),lr=Mt(Ft,14),Mm=Mt(Ft,15),kf=Mt(Ft,16),Bf=Mt(Ft,23);var ol=(h=>(h[h.UNSPECIFIED=0]="UNSPECIFIED",h[h.PUT=1]="PUT",h[h.DELETE=2]="DELETE",h[h.CLEAR=3]="CLEAR",h))(ol||{});const os=Mt(Ft,24),ip=Mt(Ft,26),Pm=Mt(Ft,27),Lm=Mt(Ft,28);var Fm=(h=>(h[h.UNSPECIFIED=0]="UNSPECIFIED",h[h.PRESENCE=1]="PRESENCE",h[h.BROADCAST=2]="BROADCAST",h))(Fm||{}),jt=(h=>(h[h.NULL=0]="NULL",h[h.BOOLEAN=1]="BOOLEAN",h[h.INTEGER=2]="INTEGER",h[h.LONG=3]="LONG",h[h.DOUBLE=4]="DOUBLE",h[h.STRING=5]="STRING",h[h.BYTES=6]="BYTES",h[h.DATE=7]="DATE",h[h.JSON_OBJECT=8]="JSON_OBJECT",h[h.JSON_ARRAY=9]="JSON_ARRAY",h[h.TEXT=10]="TEXT",h[h.INTEGER_CNT=11]="INTEGER_CNT",h[h.LONG_CNT=12]="LONG_CNT",h[h.TREE=13]="TREE",h))(jt||{}),jf=(h=>(h[h.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",h[h.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",h[h.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",h[h.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",h))(jf||{});const wx=V1(Ao("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayJTCgxXYXRjaFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEjAKCXJlc291cmNlcxgCIAMoCzIdLnlvcmtpZS52MS5SZXNvdXJjZURlc2NyaXB0b3IihAEKElJlc291cmNlRGVzY3JpcHRvchIxCghkb2N1bWVudBgBIAEoCzIdLnlvcmtpZS52MS5Eb2N1bWVudERlc2NyaXB0b3JIABIvCgdjaGFubmVsGAIgASgLMhwueW9ya2llLnYxLkNoYW5uZWxEZXNjcmlwdG9ySABCCgoIcmVzb3VyY2UiKQoSRG9jdW1lbnREZXNjcmlwdG9yEhMKC2RvY3VtZW50X2lkGAEgASgJIigKEUNoYW5uZWxEZXNjcmlwdG9yEhMKC2NoYW5uZWxfa2V5GAEgASgJInkKDVdhdGNoUmVzcG9uc2USOAoOaW5pdGlhbGl6YXRpb24YASABKAsyHi55b3JraWUudjEuV2F0Y2hJbml0aWFsaXphdGlvbkgAEiYKBWV2ZW50GAIgASgLMhUueW9ya2llLnYxLldhdGNoRXZlbnRIAEIGCgRib2R5IkYKE1dhdGNoSW5pdGlhbGl6YXRpb24SLwoOcmVzb3VyY2VfaW5pdHMYASADKAsyFy55b3JraWUudjEuUmVzb3VyY2VJbml0IngKDFJlc291cmNlSW5pdBIwCg1kb2N1bWVudF9pbml0GAEgASgLMhcueW9ya2llLnYxLkRvY3VtZW50SW5pdEgAEi4KDGNoYW5uZWxfaW5pdBgCIAEoCzIWLnlvcmtpZS52MS5DaGFubmVsSW5pdEgAQgYKBGluaXQiNwoMRG9jdW1lbnRJbml0EhMKC2RvY3VtZW50X2lkGAEgASgJEhIKCmNsaWVudF9pZHMYAiADKAkiRgoLQ2hhbm5lbEluaXQSEwoLY2hhbm5lbF9rZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoAxILCgNzZXEYAyABKAMiewoKV2F0Y2hFdmVudBItCglkb2NfZXZlbnQYASABKAsyGC55b3JraWUudjEuRG9jV2F0Y2hFdmVudEgAEjUKDWNoYW5uZWxfZXZlbnQYAiABKAsyHC55b3JraWUudjEuQ2hhbm5lbFdhdGNoRXZlbnRIAEIHCgVldmVudCJICg1Eb2NXYXRjaEV2ZW50EhMKC2RvY3VtZW50X2lkGAEgASgJEiIKBWV2ZW50GAIgASgLMhMueW9ya2llLnYxLkRvY0V2ZW50IlAKEUNoYW5uZWxXYXRjaEV2ZW50EhMKC2NoYW5uZWxfa2V5GAEgASgJEiYKBWV2ZW50GAIgASgLMhcueW9ya2llLnYxLkNoYW5uZWxFdmVudCJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMpgKCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAEj4KBVdhdGNoEhcueW9ya2llLnYxLldhdGNoUmVxdWVzdBoYLnlvcmtpZS52MS5XYXRjaFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[Ft]),0),km=Mt(Ao("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[ju]),0);var ye=(h=>(h.Ok="ok",h.ErrClientNotActivated="ErrClientNotActivated",h.ErrClientNotFound="ErrClientNotFound",h.ErrUnimplemented="ErrUnimplemented",h.ErrInvalidType="ErrInvalidType",h.ErrDummy="ErrDummy",h.ErrNotAttached="ErrNotAttached",h.ErrNotDetached="ErrNotDetached",h.ErrDocumentRemoved="ErrDocumentRemoved",h.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",h.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",h.ErrInvalidObjectKey="ErrInvalidObjectKey",h.ErrInvalidArgument="ErrInvalidArgument",h.ErrNotInitialized="ErrNotInitialized",h.ErrNotReady="ErrNotReady",h.ErrRefused="ErrRefused",h.ErrContextNotProvided="ErrContextNotProvided",h.ErrPermissionDenied="ErrPermissionDenied",h.ErrUnauthenticated="ErrUnauthenticated",h.ErrTooManySubscribers="ErrTooManySubscribers",h.ErrTooManyAttachments="ErrTooManyAttachments",h))(ye||{});class Ee extends Error{constructor(f,v){super(v);Y(this,"name","YorkieError");Y(this,"stack");this.code=f,this.message=v,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var no=(h=>(h.Put="put",h.Clear="clear",h))(no||{});const op="000000000000000000000000",ro=24;class li{constructor(o,f,v){Y(this,"lamport");Y(this,"delimiter");Y(this,"actorID");this.lamport=o,this.delimiter=f,this.actorID=v}static of(o,f,v){return new li(o,f,v)}static fromStruct(o){return li.of(BigInt(o.lamport),o.delimiter,o.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(o){return new li(this.lamport,this.delimiter,o)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(o){return this.compare(o)>0}equals(o){return this.compare(o)===0}compare(o){if(this.lamport>o.lamport)return 1;if(o.lamport>this.lamport)return-1;const f=this.actorID.localeCompare(o.actorID);return f!==0?f:this.delimiter>o.delimiter?1:o.delimiter>this.delimiter?-1:0}}const sp=0n,Bm=0,ap=9223372036854775807n,sl=new li(sp,Bm,op);function io(h){return h.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(o){switch(o){case'"':case"\\":return"\\"+o;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return o}})}class zf{constructor(o){Y(this,"createdAt");Y(this,"movedAt");Y(this,"removedAt");this.createdAt=o}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(o){this.createdAt=o}setMovedAt(o){return!this.movedAt||o&&o.after(this.movedAt)?(this.movedAt=o,!0):!1}setRemovedAt(o){this.removedAt=o}remove(o){return o&&o.after(this.createdAt)&&(!this.removedAt||o.after(this.removedAt))?(this.removedAt=o,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let o=0;return this.getCreatedAt()&&(o+=ro),this.getMovedAt()&&(o+=ro),this.getRemovedAt()&&(o+=ro),o}}class ss extends zf{constructor(o){super(o)}}class as{constructor(o,f){Y(this,"strKey");Y(this,"value");this.strKey=o,this.value=f}static of(o,f){return new as(o,f)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(o){return this.value.remove(o)}}class ls{constructor(){Y(this,"nodeMapByKey");Y(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new ls}set(o,f,v){let A;const I=this.nodeMapByKey.get(o);I&&!I.isRemoved()&&I.remove(v)&&(A=I.getValue());const L=as.of(o,f);return this.nodeMapByCreatedAt.set(f.getCreatedAt().toIDString(),L),(!I||v.after(I.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(o,L),f.setMovedAt(v)),A}delete(o,f){if(!this.nodeMapByCreatedAt.has(o.toIDString()))throw new Ee(ye.ErrInvalidArgument,`fail to find ${o.toIDString()}`);const v=this.nodeMapByCreatedAt.get(o.toIDString());return v.remove(f),v.getValue()}subPathOf(o){const f=this.nodeMapByCreatedAt.get(o.toIDString());if(f)return f.getStrKey()}purge(o){const f=this.nodeMapByCreatedAt.get(o.getCreatedAt().toIDString());if(!f)throw new Ee(ye.ErrInvalidArgument,`fail to find ${o.getCreatedAt().toIDString()}`);const v=this.nodeMapByKey.get(f.getStrKey());f===v&&this.nodeMapByKey.delete(v.getStrKey()),this.nodeMapByCreatedAt.delete(f.getValue().getCreatedAt().toIDString())}deleteByKey(o,f){const v=this.nodeMapByKey.get(o);if(v&&v.remove(f))return v.getValue()}has(o){const f=this.nodeMapByKey.get(o);return f?!f.isRemoved():!1}getByID(o){return this.nodeMapByCreatedAt.get(o.toIDString())}get(o){const f=this.nodeMapByKey.get(o);if(!(!f||f.isRemoved()))return f}deepcopy(){const o=ls.create();for(const[,f]of this.nodeMapByCreatedAt)o.nodeMapByCreatedAt.set(f.getValue().getCreatedAt().toIDString(),as.of(f.getStrKey(),f.getValue().deepcopy()));for(const[f,v]of this.nodeMapByKey)o.nodeMapByKey.set(f,o.nodeMapByCreatedAt.get(v.getValue().getCreatedAt().toIDString()));return o}*[Symbol.iterator](){for(const[,o]of this.nodeMapByCreatedAt)yield o}}class Er extends ss{constructor(f,v){super(f);Y(this,"memberNodes");this.memberNodes=v}static create(f,v){if(!v)return new Er(f,ls.create());const A=ls.create();for(const[I,L]of Object.entries(v))A.set(I,L.deepcopy(),L.getCreatedAt());return new Er(f,A)}subPathOf(f){return this.memberNodes.subPathOf(f)}purge(f){this.memberNodes.purge(f)}set(f,v,A){return this.memberNodes.set(f,v,A)}delete(f,v){return this.memberNodes.delete(f,v)}deleteByKey(f,v){return this.memberNodes.deleteByKey(f,v)}get(f){const v=this.memberNodes.get(f);return v==null?void 0:v.getValue()}getByID(f){const v=this.memberNodes.getByID(f);return v==null?void 0:v.getValue()}has(f){return this.memberNodes.has(f)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const f=[];for(const[v,A]of this)f.push(`"${io(v)}":${A.toJSON()}`);return`{${f.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const f={};for(const[v,A]of this){const{createdAt:I,value:L,type:V}=A.toJSForTest();f[v]={key:v,createdAt:I,value:L,type:V}}return{createdAt:this.getCreatedAt().toTestString(),value:f,type:"YORKIE_OBJECT"}}getKeys(){const f=Array();for(const[v]of this)f.push(v);return f}toSortedJSON(){var A;const f=new Set;for(const[I]of this)f.add(I);const v=[];for(const I of Array.from(f).sort()){const L=(A=this.memberNodes.get(I))==null?void 0:A.getValue();v.push(`"${io(I)}":${L.toSortedJSON()}`)}return`{${v.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const f=Er.create(this.getCreatedAt());return f.memberNodes=this.memberNodes.deepcopy(),f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}getDescendants(f){for(const v of this.memberNodes){const A=v.getValue();if(f(A,this))return;A instanceof ss&&A.getDescendants(f)}}*[Symbol.iterator](){for(const f of this.memberNodes)f.isRemoved()||(yield[f.getStrKey(),f.getValue()])}}var Pn=(h=>(h.Local="local",h.Remote="remote",h.UndoRedo="undoredo",h))(Pn||{});class qr{constructor(o,f){Y(this,"parentCreatedAt");Y(this,"executedAt");this.parentCreatedAt=o,this.executedAt=f}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Ee(ye.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(o){this.executedAt&&(this.executedAt=this.executedAt.setActor(o))}setExecutedAt(o){this.executedAt=o}}class jm{constructor(o){Y(this,"value");Y(this,"left");Y(this,"right");Y(this,"parent");Y(this,"weight");this.value=o,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(o){this.left=o}setRight(o){this.right=o}setParent(o){this.parent=o}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(o){this.weight+=o}initWeight(){this.weight=this.getLength()}}class ic{constructor(o){Y(this,"root");this.root=o}get length(){return this.root?this.root.getWeight():0}findForText(o){if(!this.root||o<0)return[void 0,0];let f=this.root;for(;;)if(f.hasLeft()&&o<=f.getLeftWeight())f=f.getLeft();else if(f.hasRight()&&f.getLeftWeight()+f.getLength()<o)o-=f.getLeftWeight()+f.getLength(),f=f.getRight();else{o-=f.getLeftWeight();break}if(o>f.getLength())throw new Ee(ye.ErrInvalidArgument,`out of index range: pos: ${o} > node.length: ${f.getLength()}`);return this.splayNode(f),[f,o]}findForArray(o){if(!this.root)return;if(o<0||o>=this.length)throw new Ee(ye.ErrInvalidArgument,`out of index range: idx: ${o}, length: ${this.length}`);let f=this.root;for(;;)if(f.hasLeft()&&o<f.getLeftWeight())f=f.getLeft();else if(f.hasRight()&&f.getLeftWeight()+f.getLength()<=o)o-=f.getLeftWeight()+f.getLength(),f=f.getRight();else break;return this.splayNode(f),f}indexOf(o){return!o||o!==this.root&&!o.hasLinks()?-1:(this.splayNode(o),this.root.getLeftWeight())}getRoot(){return this.root}insert(o){return this.insertAfter(this.root,o)}insertAfter(o,f){return o?(this.splayNode(o),this.root=f,f.setRight(o.getRight()),o.hasRight()&&o.getRight().setParent(f),f.setLeft(o),o.setParent(f),o.setRight(),this.updateWeight(o),this.updateWeight(f),f):(this.root=f,f)}updateWeight(o){o.initWeight(),o.hasLeft()&&o.increaseWeight(o.getLeftWeight()),o.hasRight()&&o.increaseWeight(o.getRightWeight())}updateTreeWeight(o){for(;o;)this.updateWeight(o),o=o.getParent()}splayNode(o){if(o)for(;;)if(this.isLeftChild(o.getParent())&&this.isRightChild(o))this.rotateLeft(o),this.rotateRight(o);else if(this.isRightChild(o.getParent())&&this.isLeftChild(o))this.rotateRight(o),this.rotateLeft(o);else if(this.isLeftChild(o.getParent())&&this.isLeftChild(o))this.rotateRight(o.getParent()),this.rotateRight(o);else if(this.isRightChild(o.getParent())&&this.isRightChild(o))this.rotateLeft(o.getParent()),this.rotateLeft(o);else{this.isLeftChild(o)?this.rotateRight(o):this.isRightChild(o)&&this.rotateLeft(o),this.updateWeight(o);return}}delete(o){this.splayNode(o);const f=new ic(o.getLeft());f.root&&f.root.setParent();const v=new ic(o.getRight());if(v.root&&v.root.setParent(),f.root){const A=f.getRightmost();f.splayNode(A),f.root.setRight(v.root),v.root&&v.root.setParent(f.root),this.root=f.root}else this.root=v.root;o.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(o,f){if(!f){this.splayNode(o),this.cutOffRight(o);return}this.splayNode(o),this.splayNode(f),f.getLeft()!=o&&this.rotateRight(o),this.cutOffRight(o)}cutOffRight(o){const f=[];this.traversePostorder(o.getRight(),f);for(const v of f)v.initWeight();this.updateTreeWeight(o)}toTestString(){const o=[];return this.traverseInorder(this.root,o),o.map(f=>`[${f.getWeight()},${f.getLength()}]${f.getValue()||""}`).join("")}checkWeight(){const o=[];this.traverseInorder(this.root,o);for(const f of o)if(f.getWeight()!=f.getLength()+f.getLeftWeight()+f.getRightWeight())return!1;return!0}getRightmost(){let o=this.root;for(;o.hasRight();)o=o.getRight();return o}traverseInorder(o,f){o&&(this.traverseInorder(o.getLeft(),f),f.push(o),this.traverseInorder(o.getRight(),f))}traversePostorder(o,f){o&&(this.traversePostorder(o.getLeft(),f),this.traversePostorder(o.getRight(),f),f.push(o))}rotateLeft(o){const f=o.getParent();f.hasParent()?f===f.getParent().getLeft()?f.getParent().setLeft(o):f.getParent().setRight(o):this.root=o,o.setParent(f.getParent()),f.setRight(o.getLeft()),f.hasRight()&&f.getRight().setParent(f),o.setLeft(f),o.getLeft().setParent(o),this.updateWeight(f),this.updateWeight(o)}rotateRight(o){const f=o.getParent();f.hasParent()?f===f.getParent().getLeft()?f.getParent().setLeft(o):f.getParent().setRight(o):this.root=o,o.setParent(f.getParent()),f.setLeft(o.getRight()),f.hasLeft()&&f.getLeft().setParent(f),o.setRight(f),o.getRight().setParent(o),this.updateWeight(f),this.updateWeight(o)}isLeftChild(o){return o&&o.hasParent()?o.getParent().getLeft()===o:!1}isRightChild(o){return o&&o.hasParent()?o.getParent().getRight()===o:!1}}var Ai=null;try{Ai=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Gt(h,o,f){this.low=h|0,this.high=o|0,this.unsigned=!!f}Gt.prototype.__isLong__,Object.defineProperty(Gt.prototype,"__isLong__",{value:!0});function Cr(h){return(h&&h.__isLong__)===!0}function zm(h){var o=Math.clz32(h&-h);return h?31-o:o}Gt.isLong=Cr;var lp={},Um={};function na(h,o){var f,v,A;return o?(h>>>=0,(A=0<=h&&h<256)&&(v=Um[h],v)?v:(f=en(h,0,!0),A&&(Um[h]=f),f)):(h|=0,(A=-128<=h&&h<128)&&(v=lp[h],v)?v:(f=en(h,h<0?-1:0,!1),A&&(lp[h]=f),f))}Gt.fromInt=na;function ui(h,o){if(isNaN(h))return o?Co:oo;if(o){if(h<0)return Co;if(h>=$m)return Wm}else{if(h<=-9223372036854776e3)return wr;if(h+1>=Tx)return Hm}return h<0?ui(-h,o).neg():en(h%ra|0,h/ra|0,o)}Gt.fromNumber=ui;function en(h,o,f){return new Gt(h,o,f)}Gt.fromBits=en;var Uf=Math.pow;function Vm(h,o,f){if(h.length===0)throw Error("empty string");if(typeof o=="number"?(f=o,o=!1):o=!!o,h==="NaN"||h==="Infinity"||h==="+Infinity"||h==="-Infinity")return o?Co:oo;if(f=f||10,f<2||36<f)throw RangeError("radix");var v;if((v=h.indexOf("-"))>0)throw Error("interior hyphen");if(v===0)return Vm(h.substring(1),o,f).neg();for(var A=ui(Uf(f,8)),I=oo,L=0;L<h.length;L+=8){var V=Math.min(8,h.length-L),q=parseInt(h.substring(L,L+V),f);if(V<8){var te=ui(Uf(f,V));I=I.mul(te).add(ui(q))}else I=I.mul(A),I=I.add(ui(q))}return I.unsigned=o,I}Gt.fromString=Vm;function ci(h,o){return typeof h=="number"?ui(h,o):typeof h=="string"?Vm(h,o):en(h.low,h.high,typeof o=="boolean"?o:h.unsigned)}Gt.fromValue=ci;var Gm=65536,Rx=1<<24,ra=Gm*Gm,$m=ra*ra,Tx=$m/2,Nx=na(Rx),oo=na(0);Gt.ZERO=oo;var Co=na(0,!0);Gt.UZERO=Co;var wo=na(1);Gt.ONE=wo;var up=na(1,!0);Gt.UONE=up;var oc=na(-1);Gt.NEG_ONE=oc;var Hm=en(-1,2147483647,!1);Gt.MAX_VALUE=Hm;var Wm=en(-1,-1,!0);Gt.MAX_UNSIGNED_VALUE=Wm;var wr=en(0,-2147483648,!1);Gt.MIN_VALUE=wr;var Xe=Gt.prototype;Xe.toInt=function(){return this.unsigned?this.low>>>0:this.low},Xe.toNumber=function(){return this.unsigned?(this.high>>>0)*ra+(this.low>>>0):this.high*ra+(this.low>>>0)},Xe.toString=function(o){if(o=o||10,o<2||36<o)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(wr)){var f=ui(o),v=this.div(f),A=v.mul(f).sub(this);return v.toString(o)+A.toInt().toString(o)}else return"-"+this.neg().toString(o);for(var I=ui(Uf(o,6),this.unsigned),L=this,V="";;){var q=L.div(I),te=L.sub(q.mul(I)).toInt()>>>0,ce=te.toString(o);if(L=q,L.isZero())return ce+V;for(;ce.length<6;)ce="0"+ce;V=""+ce+V}},Xe.getHighBits=function(){return this.high},Xe.getHighBitsUnsigned=function(){return this.high>>>0},Xe.getLowBits=function(){return this.low},Xe.getLowBitsUnsigned=function(){return this.low>>>0},Xe.getNumBitsAbs=function(){if(this.isNegative())return this.eq(wr)?64:this.neg().getNumBitsAbs();for(var o=this.high!=0?this.high:this.low,f=31;f>0&&(o&1<<f)==0;f--);return this.high!=0?f+33:f+1},Xe.isSafeInteger=function(){var o=this.high>>21;return o?this.unsigned?!1:o===-1&&!(this.low===0&&this.high===-2097152):!0},Xe.isZero=function(){return this.high===0&&this.low===0},Xe.eqz=Xe.isZero,Xe.isNegative=function(){return!this.unsigned&&this.high<0},Xe.isPositive=function(){return this.unsigned||this.high>=0},Xe.isOdd=function(){return(this.low&1)===1},Xe.isEven=function(){return(this.low&1)===0},Xe.equals=function(o){return Cr(o)||(o=ci(o)),this.unsigned!==o.unsigned&&this.high>>>31===1&&o.high>>>31===1?!1:this.high===o.high&&this.low===o.low},Xe.eq=Xe.equals,Xe.notEquals=function(o){return!this.eq(o)},Xe.neq=Xe.notEquals,Xe.ne=Xe.notEquals,Xe.lessThan=function(o){return this.comp(o)<0},Xe.lt=Xe.lessThan,Xe.lessThanOrEqual=function(o){return this.comp(o)<=0},Xe.lte=Xe.lessThanOrEqual,Xe.le=Xe.lessThanOrEqual,Xe.greaterThan=function(o){return this.comp(o)>0},Xe.gt=Xe.greaterThan,Xe.greaterThanOrEqual=function(o){return this.comp(o)>=0},Xe.gte=Xe.greaterThanOrEqual,Xe.ge=Xe.greaterThanOrEqual,Xe.compare=function(o){if(Cr(o)||(o=ci(o)),this.eq(o))return 0;var f=this.isNegative(),v=o.isNegative();return f&&!v?-1:!f&&v?1:this.unsigned?o.high>>>0>this.high>>>0||o.high===this.high&&o.low>>>0>this.low>>>0?-1:1:this.sub(o).isNegative()?-1:1},Xe.comp=Xe.compare,Xe.negate=function(){return!this.unsigned&&this.eq(wr)?wr:this.not().add(wo)},Xe.neg=Xe.negate,Xe.add=function(o){Cr(o)||(o=ci(o));var f=this.high>>>16,v=this.high&65535,A=this.low>>>16,I=this.low&65535,L=o.high>>>16,V=o.high&65535,q=o.low>>>16,te=o.low&65535,ce=0,Te=0,Be=0,Ne=0;return Ne+=I+te,Be+=Ne>>>16,Ne&=65535,Be+=A+q,Te+=Be>>>16,Be&=65535,Te+=v+V,ce+=Te>>>16,Te&=65535,ce+=f+L,ce&=65535,en(Be<<16|Ne,ce<<16|Te,this.unsigned)},Xe.subtract=function(o){return Cr(o)||(o=ci(o)),this.add(o.neg())},Xe.sub=Xe.subtract,Xe.multiply=function(o){if(this.isZero())return this;if(Cr(o)||(o=ci(o)),Ai){var f=Ai.mul(this.low,this.high,o.low,o.high);return en(f,Ai.get_high(),this.unsigned)}if(o.isZero())return this.unsigned?Co:oo;if(this.eq(wr))return o.isOdd()?wr:oo;if(o.eq(wr))return this.isOdd()?wr:oo;if(this.isNegative())return o.isNegative()?this.neg().mul(o.neg()):this.neg().mul(o).neg();if(o.isNegative())return this.mul(o.neg()).neg();if(this.lt(Nx)&&o.lt(Nx))return ui(this.toNumber()*o.toNumber(),this.unsigned);var v=this.high>>>16,A=this.high&65535,I=this.low>>>16,L=this.low&65535,V=o.high>>>16,q=o.high&65535,te=o.low>>>16,ce=o.low&65535,Te=0,Be=0,Ne=0,$e=0;return $e+=L*ce,Ne+=$e>>>16,$e&=65535,Ne+=I*ce,Be+=Ne>>>16,Ne&=65535,Ne+=L*te,Be+=Ne>>>16,Ne&=65535,Be+=A*ce,Te+=Be>>>16,Be&=65535,Be+=I*te,Te+=Be>>>16,Be&=65535,Be+=L*q,Te+=Be>>>16,Be&=65535,Te+=v*ce+A*te+I*q+L*V,Te&=65535,en(Ne<<16|$e,Te<<16|Be,this.unsigned)},Xe.mul=Xe.multiply,Xe.divide=function(o){if(Cr(o)||(o=ci(o)),o.isZero())throw Error("division by zero");if(Ai){if(!this.unsigned&&this.high===-2147483648&&o.low===-1&&o.high===-1)return this;var f=(this.unsigned?Ai.div_u:Ai.div_s)(this.low,this.high,o.low,o.high);return en(f,Ai.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Co:oo;var v,A,I;if(this.unsigned){if(o.unsigned||(o=o.toUnsigned()),o.gt(this))return Co;if(o.gt(this.shru(1)))return up;I=Co}else{if(this.eq(wr)){if(o.eq(wo)||o.eq(oc))return wr;if(o.eq(wr))return wo;var L=this.shr(1);return v=L.div(o).shl(1),v.eq(oo)?o.isNegative()?wo:oc:(A=this.sub(o.mul(v)),I=v.add(A.div(o)),I)}else if(o.eq(wr))return this.unsigned?Co:oo;if(this.isNegative())return o.isNegative()?this.neg().div(o.neg()):this.neg().div(o).neg();if(o.isNegative())return this.div(o.neg()).neg();I=oo}for(A=this;A.gte(o);){v=Math.max(1,Math.floor(A.toNumber()/o.toNumber()));for(var V=Math.ceil(Math.log(v)/Math.LN2),q=V<=48?1:Uf(2,V-48),te=ui(v),ce=te.mul(o);ce.isNegative()||ce.gt(A);)v-=q,te=ui(v,this.unsigned),ce=te.mul(o);te.isZero()&&(te=wo),I=I.add(te),A=A.sub(ce)}return I},Xe.div=Xe.divide,Xe.modulo=function(o){if(Cr(o)||(o=ci(o)),Ai){var f=(this.unsigned?Ai.rem_u:Ai.rem_s)(this.low,this.high,o.low,o.high);return en(f,Ai.get_high(),this.unsigned)}return this.sub(this.div(o).mul(o))},Xe.mod=Xe.modulo,Xe.rem=Xe.modulo,Xe.not=function(){return en(~this.low,~this.high,this.unsigned)},Xe.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Xe.clz=Xe.countLeadingZeros,Xe.countTrailingZeros=function(){return this.low?zm(this.low):zm(this.high)+32},Xe.ctz=Xe.countTrailingZeros,Xe.and=function(o){return Cr(o)||(o=ci(o)),en(this.low&o.low,this.high&o.high,this.unsigned)},Xe.or=function(o){return Cr(o)||(o=ci(o)),en(this.low|o.low,this.high|o.high,this.unsigned)},Xe.xor=function(o){return Cr(o)||(o=ci(o)),en(this.low^o.low,this.high^o.high,this.unsigned)},Xe.shiftLeft=function(o){return Cr(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?en(this.low<<o,this.high<<o|this.low>>>32-o,this.unsigned):en(0,this.low<<o-32,this.unsigned)},Xe.shl=Xe.shiftLeft,Xe.shiftRight=function(o){return Cr(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?en(this.low>>>o|this.high<<32-o,this.high>>o,this.unsigned):en(this.high>>o-32,this.high>=0?0:-1,this.unsigned)},Xe.shr=Xe.shiftRight,Xe.shiftRightUnsigned=function(o){return Cr(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?en(this.low>>>o|this.high<<32-o,this.high>>>o,this.unsigned):o===32?en(this.high,0,this.unsigned):en(this.high>>>o-32,0,this.unsigned)},Xe.shru=Xe.shiftRightUnsigned,Xe.shr_u=Xe.shiftRightUnsigned,Xe.rotateLeft=function(o){var f;return Cr(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?en(this.high,this.low,this.unsigned):o<32?(f=32-o,en(this.low<<o|this.high>>>f,this.high<<o|this.low>>>f,this.unsigned)):(o-=32,f=32-o,en(this.high<<o|this.low>>>f,this.low<<o|this.high>>>f,this.unsigned))},Xe.rotl=Xe.rotateLeft,Xe.rotateRight=function(o){var f;return Cr(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?en(this.high,this.low,this.unsigned):o<32?(f=32-o,en(this.high<<f|this.low>>>o,this.low<<f|this.high>>>o,this.unsigned)):(o-=32,f=32-o,en(this.low<<f|this.high>>>o,this.high<<f|this.low>>>o,this.unsigned))},Xe.rotr=Xe.rotateRight,Xe.toSigned=function(){return this.unsigned?en(this.low,this.high,!1):this},Xe.toUnsigned=function(){return this.unsigned?this:en(this.low,this.high,!0)},Xe.toBytes=function(o){return o?this.toBytesLE():this.toBytesBE()},Xe.toBytesLE=function(){var o=this.high,f=this.low;return[f&255,f>>>8&255,f>>>16&255,f>>>24,o&255,o>>>8&255,o>>>16&255,o>>>24]},Xe.toBytesBE=function(){var o=this.high,f=this.low;return[o>>>24,o>>>16&255,o>>>8&255,o&255,f>>>24,f>>>16&255,f>>>8&255,f&255]},Gt.fromBytes=function(o,f,v){return v?Gt.fromBytesLE(o,f):Gt.fromBytesBE(o,f)},Gt.fromBytesLE=function(o,f){return new Gt(o[0]|o[1]<<8|o[2]<<16|o[3]<<24,o[4]|o[5]<<8|o[6]<<16|o[7]<<24,f)},Gt.fromBytesBE=function(o,f){return new Gt(o[4]<<24|o[5]<<16|o[6]<<8|o[7],o[0]<<24|o[1]<<16|o[2]<<8|o[3],f)},typeof BigInt=="function"&&(Gt.fromBigInt=function(o,f){var v=Number(BigInt.asIntN(32,o)),A=Number(BigInt.asIntN(32,o>>BigInt(32)));return en(v,A,f)},Gt.fromValue=function(o,f){return typeof o=="bigint"?Gt.fromBigInt(o,f):ci(o,f)},Xe.toBigInt=function(){var o=BigInt(this.low>>>0),f=BigInt(this.unsigned?this.high>>>0:this.high);return f<<BigInt(32)|o});var Tn=(h=>(h[h.Null=0]="Null",h[h.Boolean=1]="Boolean",h[h.Integer=2]="Integer",h[h.Long=3]="Long",h[h.Double=4]="Double",h[h.String=5]="String",h[h.Bytes=6]="Bytes",h[h.Date=7]="Date",h))(Tn||{});class Vn extends zf{constructor(f,v){super(v);Y(this,"valueType");Y(this,"value");this.valueType=Vn.getPrimitiveType(f),this.value=f===void 0?null:f}static of(f,v){return new Vn(f,v)}static valueFromBytes(f,v){switch(f){case 0:return null;case 1:return!!v[0];case 2:return v[0]|v[1]<<8|v[2]<<16|v[3]<<24;case 4:{const A=new DataView(v.buffer);return v.forEach(function(I,L){A.setUint8(L,I)}),A.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(v);case 3:return Gt.fromBytesLE(Array.from(v));case 6:return v;case 7:return new Date(Gt.fromBytesLE(Array.from(v),!0).toNumber());default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${f}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${io(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const f=Vn.of(this.value,this.getCreatedAt());return f.setMovedAt(this.getMovedAt()),f.setRemovedAt(this.getRemovedAt()),f}getType(){return this.valueType}static getPrimitiveType(f){switch(typeof f){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(f)?2:4;case"string":return 5;case"object":if(f===null)return 0;if(f instanceof Gt)return 3;if(f instanceof Uint8Array)return 6;if(f instanceof Date)return 7}}static isSupport(f){return Vn.getPrimitiveType(f)!==void 0}static isInteger(f){return f%1===0}isNumericType(){const f=this.valueType;return f===2||f===3||f===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const f=this.value;return new Uint8Array([f&255,f>>8&255,f>>16&255,f>>24&255])}case 4:{const f=this.value,v=new Uint8Array(8);return new DataView(v.buffer).setFloat64(0,f,!0),v}case 5:return new TextEncoder().encode(this.value);case 3:{const v=this.value.toBytesLE();return Uint8Array.from(v)}case 6:return this.value;case 7:{const f=this.value,v=Gt.fromNumber(f.getTime(),!0).toBytesLE();return Uint8Array.from(v)}default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class us extends jm{constructor(f){super(f);Y(this,"prev");Y(this,"next");Y(this,"movedFrom");this.value=f}static createAfter(f,v){const A=new us(v),I=f.next;return f.next=A,A.prev=f,A.next=I,I&&(I.prev=A),A}remove(f){return this.value.remove(f)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(f){this.movedFrom=f}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class cs{constructor(){Y(this,"dummyHead");Y(this,"last");Y(this,"nodeMapByIndex");Y(this,"nodeMapByCreatedAt");const o=Vn.of(0,sl);o.setRemovedAt(sl),this.dummyHead=new us(o),this.last=this.dummyHead,this.nodeMapByIndex=new ic,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new cs}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(o,f){let v=this.nodeMapByCreatedAt.get(o.toIDString());if(!v)throw new Ee(ye.ErrInvalidArgument,`cant find the given node: ${o.toIDString()}`);for(;v.getValue().getMovedAt()&&v.getValue().getMovedAt().after(f)&&v.getMovedFrom();)v=v.getMovedFrom();for(;v.getNext()&&v.getNext().getPositionedAt().after(f);)v=v.getNext();return v}release(o){this.last===o&&(this.last=o.getPrev()),o.release(),this.nodeMapByIndex.delete(o),this.nodeMapByCreatedAt.delete(o.getValue().getCreatedAt().toIDString())}insertAfter(o,f,v=f.getCreatedAt()){const A=this.findNextBeforeExecutedAt(o,v),I=us.createAfter(A,f);return A===this.last&&(this.last=I),this.nodeMapByIndex.insertAfter(A,I),this.nodeMapByCreatedAt.set(I.getCreatedAt().toIDString(),I),I}moveAfter(o,f,v){let A=this.nodeMapByCreatedAt.get(o.toIDString());if(!A)throw new Ee(ye.ErrInvalidArgument,`cant find the given node: ${o.toIDString()}`);let I=this.nodeMapByCreatedAt.get(f.toIDString());if(!I)throw new Ee(ye.ErrInvalidArgument,`cant find the given node: ${f.toIDString()}`);if(A!==I&&v.after(I.getPositionedAt())){const L=I.getPrev();let V=I.getNext();for(this.release(I),I=this.insertAfter(A.getCreatedAt(),I.getValue(),v),I.getValue().setMovedAt(v),I.setMovedFrom(L);V&&V.getPositionedAt().after(v);)A=I,I=V,V=I.getNext(),this.release(I),I=this.insertAfter(A.getCreatedAt(),I.getValue(),v),I.getValue().setMovedAt(v),I.setMovedFrom(L)}}insert(o){this.insertAfter(this.last.getCreatedAt(),o)}getByID(o){return this.nodeMapByCreatedAt.get(o.toIDString())}subPathOf(o){const f=this.nodeMapByCreatedAt.get(o.toIDString());if(f)return String(this.nodeMapByIndex.indexOf(f))}purge(o){const f=this.nodeMapByCreatedAt.get(o.getCreatedAt().toIDString());if(!f)throw new Ee(ye.ErrInvalidArgument,`fail to find the given createdAt: ${o.getCreatedAt().toIDString()}`);this.release(f)}getByIndex(o){return o>=this.length?void 0:this.nodeMapByIndex.findForArray(o)}getPrevCreatedAt(o){let f=this.nodeMapByCreatedAt.get(o.toIDString());do f=f.getPrev();while(this.dummyHead!==f&&f.isRemoved());return f.getValue().getCreatedAt()}delete(o,f){const v=this.nodeMapByCreatedAt.get(o.toIDString()),A=v.isRemoved();return v.remove(f)&&!A&&this.nodeMapByIndex.splayNode(v),v.getValue()}set(o,f,v){const A=this.nodeMapByCreatedAt.get(o.toIDString());if(!A)throw new Ee(ye.ErrInvalidArgument,`cant find the given node: ${o.toIDString()}`);return this.insertAfter(A.getCreatedAt(),f,v),this.delete(o,v)}deleteByIndex(o,f){const v=this.getByIndex(o);if(v)return v.remove(f)&&this.nodeMapByIndex.splayNode(v),v.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const o=[];for(const f of this){const v=`${f.getCreatedAt().toIDString()}:${f.getValue().toJSON()}`;f.isRemoved()?o.push(`{${v}}`):o.push(`[${v}]`)}return o.join("")}*[Symbol.iterator](){let o=this.dummyHead.getNext();for(;o;)yield o,o=o.getNext()}}class fr extends ss{constructor(f,v){super(f);Y(this,"elements");this.elements=v}static create(f,v){if(!v)return new fr(f,cs.create());const A=cs.create();for(const I of v)A.insertAfter(A.getLastCreatedAt(),I.deepcopy());return new fr(f,A)}subPathOf(f){return this.elements.subPathOf(f)}purge(f){this.elements.purge(f)}insertAfter(f,v,A){this.elements.insertAfter(f,v,A)}moveAfter(f,v,A){this.elements.moveAfter(f,v,A)}get(f){const v=this.elements.getByIndex(f);return v==null?void 0:v.getValue()}getByID(f){const v=this.elements.getByID(f);return v==null?void 0:v.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(f){return this.elements.getPrevCreatedAt(f)}delete(f,v){return this.elements.delete(f,v)}deleteByIndex(f,v){return this.elements.deleteByIndex(f,v)}set(f,v,A){return this.elements.set(f,v,A)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const f of this.elements)f.isRemoved()||(yield f.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(f){for(const v of this.elements){const A=v.getValue();if(f(A,this))return;A instanceof ss&&A.getDescendants(f)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const f=[];for(const v of this)f.push(v.toJSON());return`[${f.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const f={};for(let v=0;v<this.length;v++){const{createdAt:A,value:I,type:L}=this.get(v).toJSForTest();f[v]={key:String(v),createdAt:A,value:I,type:L}}return{createdAt:this.getCreatedAt().toTestString(),value:f,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const f=fr.create(this.getCreatedAt());for(const v of this.elements)f.elements.insertAfter(f.getLastCreatedAt(),v.getValue().deepcopy());return f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}}class Bi extends qr{constructor(f,v,A,I){super(f,I);Y(this,"prevCreatedAt");Y(this,"value");this.prevCreatedAt=v,this.value=A}static create(f,v,A,I){return new Bi(f,v,A,I)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof fr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only array can execute add");const A=v,I=this.value.deepcopy();return A.insertAfter(this.prevCreatedAt,I,this.getExecutedAt()),f.registerElement(I,A),{opInfos:[{type:"add",path:f.createPath(this.getParentCreatedAt()),index:Number(A.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Ei.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(f){this.prevCreatedAt=f}}class Ei extends qr{constructor(f,v,A){super(f,A);Y(this,"createdAt");this.createdAt=v}static create(f,v,A){return new Ei(f,v,A)}execute(f,v){var te;const A=f.findByCreatedAt(this.getParentCreatedAt());if(!A)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(A instanceof ss))throw new Ee(ye.ErrInvalidArgument,`only object and array can execute remove: ${A}`);if(v===Pn.UndoRedo){let ce=A.getByID(this.createdAt);for(;ce;){if(ce.getRemovedAt())return;ce=(te=f.findElementPairByCreatedAt(ce.getCreatedAt()))==null?void 0:te.parent}}const I=A.subPathOf(this.createdAt),L=this.toReverseOperation(A),V=A.delete(this.createdAt,this.getExecutedAt());return f.registerRemovedElement(V),{opInfos:A instanceof fr?[{type:"remove",path:f.createPath(this.getParentCreatedAt()),index:Number(I)}]:[{type:"remove",path:f.createPath(this.getParentCreatedAt()),key:I}],reverseOp:L}}toReverseOperation(f){if(f instanceof fr){const v=f.getByID(this.createdAt);if(v!==void 0){const A=f.getPrevCreatedAt(this.createdAt);return Bi.create(this.getParentCreatedAt(),A,v.deepcopy())}}if(f instanceof Er){const v=f.subPathOf(this.createdAt);if(v!==void 0){const A=f.get(v);if(A!==void 0)return ia.create(v,A.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(f){this.createdAt=f}}class ia extends qr{constructor(f,v,A,I){super(A,I);Y(this,"key");Y(this,"value");this.key=f,this.value=v}static create(f,v,A,I){return new ia(f,v,A,I)}execute(f,v){var te;const A=f.findByCreatedAt(this.getParentCreatedAt());if(!A)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(A instanceof Er))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only object can execute set");if(v===Pn.UndoRedo){let ce=A;for(;ce;){if(ce.getRemovedAt())return;ce=(te=f.findElementPairByCreatedAt(ce.getCreatedAt()))==null?void 0:te.parent}}const I=A.get(this.key),L=this.toReverseOperation(I),V=this.value.deepcopy(),q=A.set(this.key,V,this.getExecutedAt());return v===Pn.UndoRedo&&f.findByCreatedAt(V.getCreatedAt())&&f.deregisterElement(V),f.registerElement(V,A),q&&f.registerRemovedElement(q),{opInfos:[{type:"set",path:f.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:L}}toReverseOperation(f){let v=Ei.create(this.getParentCreatedAt(),this.value.getCreatedAt());return f!==void 0&&!f.isRemoved()&&(v=ia.create(this.key,f.deepcopy(),this.getParentCreatedAt())),v}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class ji extends qr{constructor(f,v,A,I){super(f,I);Y(this,"prevCreatedAt");Y(this,"createdAt");this.prevCreatedAt=v,this.createdAt=A}static create(f,v,A,I){return new ji(f,v,A,I)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof fr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only array can execute move");const A=v,I=this.toReverseOperation(A),L=Number(A.subPathOf(this.createdAt));A.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const V=Number(A.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:f.createPath(this.getParentCreatedAt()),index:V,previousIndex:L}],reverseOp:I}}toReverseOperation(f){const v=f.getPrevCreatedAt(this.createdAt);return ji.create(this.getParentCreatedAt(),v,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(f){this.prevCreatedAt=f}setCreatedAt(f){this.createdAt=f}}const sc=(h,o)=>h===o?0:h<o?-1:1;class _x{constructor(o,f,v){Y(this,"key");Y(this,"value");Y(this,"left");Y(this,"right");Y(this,"isRed");this.key=o,this.value=f,this.isRed=v}}class zi{constructor(o){Y(this,"stack");this.stack=[],this.traverseInorder(o)}traverseInorder(o){o&&(this.traverseInorder(o.left),this.stack.push({key:o.key,value:o.value}),this.traverseInorder(o.right))}}class so{constructor(o){Y(this,"root");Y(this,"comparator");Y(this,"counter");this.comparator=typeof o<"u"?o:sc,this.counter=0}put(o,f){return this.root=this.putInternal(o,f,this.root),this.root.isRed=!1,f}get(o){const f=this.getInternal(o,this.root);return f?f.value:void 0}remove(o){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,o),this.root&&(this.root.isRed=!1)}getIterator(){return new zi(this.root)}values(){const o=[];for(const f of this.getIterator().stack)o.push(f.value);return o}floorEntry(o){let f=this.root,v;for(;f;){const A=this.comparator(o,f.key);if(A===0)return f;A<0?f=f.left:(v=f,f=f.right)}return v}lastEntry(){if(!this.root)return this.root;let o=this.root;for(;o.right;)o=o.right;return o}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(o,f){for(;f;){const v=this.comparator(o,f.key);if(v===0)return f;v<0?f=f.left:v>0&&(f=f.right)}}putInternal(o,f,v){if(!v)return this.counter+=1,new _x(o,f,!0);const A=this.comparator(o,v.key);return A<0?v.left=this.putInternal(o,f,v.left):A>0?v.right=this.putInternal(o,f,v.right):v.value=f,this.isRed(v.right)&&!this.isRed(v.left)&&(v=this.rotateLeft(v)),this.isRed(v.left)&&this.isRed(v.left.left)&&(v=this.rotateRight(v)),this.isRed(v.left)&&this.isRed(v.right)&&this.flipColors(v),v}removeInternal(o,f){if(this.comparator(f,o.key)<0)!this.isRed(o.left)&&!this.isRed(o.left.left)&&(o=this.moveRedLeft(o)),o.left=this.removeInternal(o.left,f);else{if(this.isRed(o.left)&&(o=this.rotateRight(o)),this.comparator(f,o.key)===0&&!o.right){this.counter-=1;return}if(!this.isRed(o.right)&&!this.isRed(o.right.left)&&(o=this.moveRedRight(o)),this.comparator(f,o.key)===0){this.counter-=1;const v=this.min(o.right);o.value=v.value,o.key=v.key,o.right=this.removeMin(o.right)}else o.right=this.removeInternal(o.right,f)}return this.fixUp(o)}min(o){return o.left?this.min(o.left):o}removeMin(o){if(o.left)return!this.isRed(o.left)&&!this.isRed(o.left.left)&&(o=this.moveRedLeft(o)),o.left=this.removeMin(o.left),this.fixUp(o)}fixUp(o){return this.isRed(o.right)&&(o=this.rotateLeft(o)),this.isRed(o.left)&&this.isRed(o.left.left)&&(o=this.rotateRight(o)),this.isRed(o.left)&&this.isRed(o.right)&&this.flipColors(o),o}moveRedLeft(o){return this.flipColors(o),this.isRed(o.right.left)&&(o.right=this.rotateRight(o.right),o=this.rotateLeft(o),this.flipColors(o)),o}moveRedRight(o){return this.flipColors(o),this.isRed(o.left.left)&&(o=this.rotateRight(o),this.flipColors(o)),o}isRed(o){return o&&o.isRed}rotateLeft(o){const f=o.right;return o.right=f.left,f.left=o,f.isRed=f.left.isRed,f.left.isRed=!0,f}rotateRight(o){const f=o.left;return o.left=f.right,f.right=o,f.isRed=f.right.isRed,f.right.isRed=!0,f}flipColors(o){o.isRed=!o.isRed,o.left.isRed=!o.left.isRed,o.right.isRed=!o.right.isRed}}function oa(h){return h?Ym(h.live)+Ym(h.gc):0}function Ym(h){return h.data+h.meta}function zn(h,...o){for(const f of o)h.data+=f.data,h.meta+=f.meta}function Kr(h,o){h.data-=o.data,h.meta-=o.meta}class Nn{constructor(o,f){Y(this,"createdAt");Y(this,"offset");this.createdAt=o,this.offset=f}static of(o,f){return new Nn(o,f)}static fromStruct(o){return Nn.of(li.fromStruct(o.createdAt),o.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(o){return this.createdAt.compare(o.createdAt)===0&&this.offset===o.offset}hasSameCreatedAt(o){return this.createdAt.compare(o.createdAt)===0}split(o){return new Nn(this.createdAt,this.offset+o)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const cp=Nn.of(sl,0);class dr{constructor(o,f){Y(this,"id");Y(this,"relativeOffset");this.id=o,this.relativeOffset=f}static of(o,f){return new dr(o,f)}static fromStruct(o){const f=Nn.fromStruct(o.id);return dr.of(f,o.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Nn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(o){return this.id.equals(o.id)?this.relativeOffset===o.relativeOffset:!1}}class Ro extends jm{constructor(f,v,A){super(v);Y(this,"id");Y(this,"removedAt");Y(this,"prev");Y(this,"next");Y(this,"insPrev");Y(this,"insNext");this.id=f,this.removedAt=A}static create(f,v){return new Ro(f,v)}static createComparator(){return(f,v)=>{const A=f.getCreatedAt().compare(v.getCreatedAt());return A!==0?A:f.getOffset()>v.getOffset()?1:f.getOffset()<v.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(f){this.prev=f,f&&(f.next=this)}setNext(f){this.next=f,f&&(f.prev=this)}setInsPrev(f){this.insPrev=f,f&&(f.insNext=this)}setInsNext(f){this.insNext=f,f&&(f.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(f){return new Ro(this.id.split(f),this.splitValue(f),this.removedAt)}canRemove(f,v,A){return v?!!(!this.removedAt||!A&&(f!=null&&f.after(this.removedAt))):!1}canStyle(f,v){return this.getCreatedAt().getLamport()<=v&&(!this.removedAt||f.after(this.removedAt))}setRemovedAt(f){this.removedAt=f}remove(f){if(!this.removedAt){this.removedAt=f;return}f.after(this.removedAt)&&(this.removedAt=f)}createPosRange(){return[dr.of(this.id,0),dr.of(this.id,this.getLength())]}getDataSize(){const f=this.value.getDataSize();return this.id&&(f.meta+=ro),this.removedAt&&(f.meta+=ro),f}deepcopy(){return new Ro(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(f){const v=this.value;return this.value=v.substring(0,f),v.substring(f,v.length)}toIDString(){return this.id.toIDString()}}class al{constructor(){Y(this,"head");Y(this,"treeByIndex");Y(this,"treeByID");this.head=Ro.create(cp),this.treeByIndex=new ic,this.treeByID=new so(Ro.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new al}edit(o,f,v,A){const I={data:0,meta:0},[L,V,q]=this.findNodeWithSplit(o[1],f),[te,ce,Te]=this.findNodeWithSplit(o[0],f);zn(I,V,ce);const Be=this.findBetween(Te,q),[Ne,$e]=this.deleteNodes(Be,f,A),We=q?q.getID():L.getID();let st=dr.of(We,0);if(v){const mn=this.posToIndex(te.createPosRange()[1],!0),An=this.insertAfter(te,Ro.create(Nn.of(f,0),v));zn(I,An.getDataSize()),Ne.length&&Ne[Ne.length-1].from===mn?Ne[Ne.length-1].value=v:Ne.push({actor:f.getActorID(),from:mn,to:mn,value:v}),st=dr.of(An.getID(),An.getContentLength())}const Ct=[],sn=[];for(const[,mn]of $e)Ct.push({parent:this,child:mn}),sn.push(mn.getValue());return[st,Ct,I,Ne,sn]}indexToPos(o){const[f,v]=this.treeByIndex.findForText(o),A=f;return dr.of(A.getID(),v)}findIndexesFromRange(o){const[f,v]=o;return[this.posToIndex(f,!1),this.posToIndex(v,!0)]}posToIndex(o,f){const v=o.getAbsoluteID(),A=f?this.findFloorNodePreferToLeft(v):this.findFloorNode(v);if(!A)throw new Ee(ye.ErrInvalidArgument,`the node of the given id should be found: ${v.toTestString()}`);const I=this.treeByIndex.indexOf(A),L=A.isRemoved()?0:v.getOffset()-A.getID().getOffset();return I+L}findNode(o){return this.findFloorNode(o)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const o=[];for(const f of this)f.isRemoved()||o.push(f.getValue());return o.join("")}*[Symbol.iterator](){let o=this.head.getNext();for(;o;)yield o,o=o.getNext()}getHead(){return this.head}deepcopy(){const o=new al;let f=this.head.getNext(),v=o.head,A;for(;f;){if(A=o.insertAfter(v,f.deepcopy()),f.hasInsPrev()){const I=o.findNode(f.getInsPrevID());A.setInsPrev(I)}v=A,f=f.getNext()}return o}normalizePos(o){const f=this.findFloorNode(o.getID());if(!f)throw new Ee(ye.ErrInvalidArgument,`the node of the given id should be found: ${o.getID().toTestString()}`);let v=o.getRelativeOffset(),A=f,I=f.getPrev();for(;I;)v+=I.getLength(),A=I,I=I.getPrev();return dr.of(A.getID(),v)}refinePos(o){let f=this.findFloorNode(o.getID());if(!f)throw new Ee(ye.ErrInvalidArgument,`the node of the given id should be found: ${o.getID().toTestString()}`);let v=o.getRelativeOffset(),A=f.getContentLength();for(;v>A;){v-=A;const I=f.getNext();if(!I)return dr.of(f.getID(),A);f=I,A=f.getLength()}return dr.of(f.getID(),v)}toTestString(){const o=[];let f=this.head;for(;f;)f.isRemoved()?o.push(`{${f.toTestString()}}`):o.push(`[${f.toTestString()}]`),f=f.getNext();return o.join("")}insertAfter(o,f){const v=o.getNext();return f.setPrev(o),v&&v.setPrev(f),this.treeByID.put(f.getID(),f),this.treeByIndex.insertAfter(o,f),f}findNodeWithSplit(o,f){const v=o.getAbsoluteID();let A=this.findFloorNodePreferToLeft(v);const I=v.getOffset()-A.getID().getOffset(),[,L]=this.splitNode(A,I);for(;A.hasNext()&&A.getNext().getCreatedAt().after(f);)A=A.getNext();return[A,L,A.getNext()]}findFloorNodePreferToLeft(o){let f=this.findFloorNode(o);if(!f)throw new Ee(ye.ErrInvalidArgument,`the node of the given id should be found: ${o.toTestString()}`);if(o.getOffset()>0&&f.getID().getOffset()==o.getOffset()){if(!f.hasInsPrev())return f;f=f.getInsPrev()}return f}findFloorNode(o){const f=this.treeByID.floorEntry(o);if(f&&!(!f.key.equals(o)&&!f.key.hasSameCreatedAt(o)))return f.value}findBetween(o,f){const v=[];let A=o;for(;A&&A!==f;)v.push(A),A=A.getNext();return v}splitNode(o,f){const v={data:0,meta:0};if(f>o.getContentLength())throw new Ee(ye.ErrInvalidArgument,"offset should be less than or equal to length");if(f===0)return[o,v];if(f===o.getContentLength())return[o.getNext(),v];const A=o.getDataSize(),I=o.split(f);this.treeByIndex.updateWeight(I),this.insertAfter(o,I);const L=o.getInsNext();return L&&L.setInsPrev(I),I.setInsPrev(o),zn(v,o.getDataSize(),I.getDataSize()),Kr(v,A),[I,v]}deleteNodes(o,f,v){if(!o.length)return[[],new Map];const A=v===void 0||v.size()===0,I=[],L=[],[V,q]=this.findEdgesOfCandidates(o);L.push(V);for(const Te of o){let Be=!1;if(A)Be=!0;else{const $e=v==null?void 0:v.get(Te.getCreatedAt().getActorID());$e&&$e>=Te.getCreatedAt().getLamport()&&(Be=!0)}let Ne=!1;if(Te.getRemovedAt()){const $e=v==null?void 0:v.get(Te.getRemovedAt().getActorID());(A||$e&&$e>=Te.getRemovedAt().getLamport())&&(Ne=!0)}Te.canRemove(f,Be,Ne)?I.push(Te):L.push(Te)}L.push(q);const te=this.makeChanges(L,f),ce=new Map;for(const Te of I)ce.set(Te.getID().toIDString(),Te),Te.remove(f);return this.deleteIndexNodes(L),[te,ce]}findEdgesOfCandidates(o){return[o[0].getPrev(),o[o.length-1].getNext()]}makeChanges(o,f){const v=[];let A,I;for(let L=0;L<o.length-1;L++){const V=o[L],q=o[L+1];V.getNext()!=q&&([A]=this.findIndexesFromRange(V.getNext().createPosRange()),q?[,I]=this.findIndexesFromRange(q.getPrev().createPosRange()):I=this.treeByIndex.length,A<I&&v.push({actor:f.getActorID(),from:A,to:I}))}return v.reverse()}deleteIndexNodes(o){for(let f=0;f<o.length-1;f++){const v=o[f],A=o[f+1];v.getNext()!=A&&this.treeByIndex.deleteRange(v,A)}}purge(o){this.treeByIndex.delete(o),this.treeByID.remove(o.getID());const f=o.getPrev(),v=o.getNext(),A=o.getInsPrev(),I=o.getInsNext();f&&f.setNext(v),v&&v.setPrev(f),o.setPrev(void 0),o.setNext(void 0),A&&A.setInsNext(I),I&&I.setInsPrev(A),o.setInsPrev(void 0),o.setInsNext(void 0)}}class fs{constructor(o,f,v,A){Y(this,"key");Y(this,"value");Y(this,"updatedAt");Y(this,"_isRemoved");this.key=o,this.value=f,this.updatedAt=v,this._isRemoved=A}static of(o,f,v,A){return new fs(o,f,v,A)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:ro}}}class Xr{constructor(){Y(this,"nodeMapByKey");Y(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Xr}getNodeMapByKey(){return this.nodeMapByKey}set(o,f,v){const A=this.nodeMapByKey.get(o);if(A&&A.isRemoved()&&v.after(A.getUpdatedAt())&&(this.numberOfRemovedElement-=1),A===void 0||v.after(A.getUpdatedAt())){const I=fs.of(o,f,v,!1);return this.nodeMapByKey.set(o,I),A!==void 0&&A.isRemoved()?[A,I]:[void 0,I]}return A.isRemoved()?[A,void 0]:[void 0,void 0]}setInternal(o,f,v,A){const I=fs.of(o,f,v,A);this.nodeMapByKey.set(o,I),A&&this.numberOfRemovedElement++}remove(o,f){const v=this.nodeMapByKey.get(o),A=[];if(v===void 0||f.after(v.getUpdatedAt())){if(v===void 0){this.numberOfRemovedElement+=1;const V=fs.of(o,"",f,!0);return this.nodeMapByKey.set(o,V),A.push(V),A}const I=v.isRemoved();I||(this.numberOfRemovedElement+=1),I&&A.push(v);const L=fs.of(o,v.getValue(),f,!0);return this.nodeMapByKey.set(o,L),A.push(L),A}return A}has(o){if(this.nodeMapByKey.has(o)){const f=this.nodeMapByKey.get(o);return f!==void 0&&!f.isRemoved()}return!1}get(o){if(this.nodeMapByKey.has(o))return this.nodeMapByKey.get(o).getValue()}deepcopy(){const o=new Xr;for(const[,f]of this.nodeMapByKey)o.setInternal(f.getKey(),f.getValue(),f.getUpdatedAt(),f.isRemoved());return o}toJSON(){if(!this.size())return"{}";const o=[];for(const[f,v]of this.nodeMapByKey)v.isRemoved()||o.push(`"${io(f)}":"${io(v.getValue())}"`);return`{${o.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const o={};for(const[f,v]of this.nodeMapByKey)v.isRemoved()||(o[f]=v.getValue());return o}*[Symbol.iterator](){for(const[,o]of this.nodeMapByKey)yield o}purge(o){const f=this.nodeMapByKey.get(o.getKey());f==null||f.toIDString()!=o.toIDString()||(this.nodeMapByKey.delete(o.getKey()),this.numberOfRemovedElement--)}}function fi(h){if(h instanceof Map){const o=Array.from(h);return new Map(JSON.parse(JSON.stringify(o)))}return JSON.parse(JSON.stringify(h))}const qm=h=>h?Object.entries(h).length===0:!0,ll=h=>{const o={};for(const[f,v]of Object.entries(h))o[f]=JSON.stringify(v);return o},To=h=>{const o={};for(const[f,v]of Object.entries(h))o[f]=JSON.parse(v);return o};class sa{constructor(o){Y(this,"attributes");Y(this,"content");this.attributes=Xr.create(),this.content=o}static create(o){return new sa(o)}get length(){return this.content.length}substring(o,f){const v=new sa(this.content.substring(o,f));return v.attributes=this.attributes.deepcopy(),v}setAttr(o,f,v){return this.attributes.set(o,f,v)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const o={data:0,meta:0};o.data+=this.content.length*2;for(const f of this.attributes){const v=f.getDataSize();o.meta+=v.meta,o.data+=v.data}return o}toJSON(){const o=io(this.content),f=this.attributes.toObject(),v=[];for(const[A,I]of Object.entries(f)){const L=JSON.parse(I),V=typeof L=="string"?`"${io(A)}":"${io(L)}"`:`"${io(A)}":${String(L)}`;v.push(V)}return v.sort(),v.length===0?`{"val":"${o}"}`:`{"attrs":{${v.join(",")}},"val":"${o}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(o){this.attributes&&o instanceof fs&&this.attributes.purge(o)}getGCPairs(){const o=[];for(const f of this.attributes)f.getRemovedAt()&&o.push({parent:this,child:f});return o}}class Zr extends zf{constructor(f,v){super(v);Y(this,"rgaTreeSplit");this.rgaTreeSplit=f}static create(f,v){return new Zr(f,v)}edit(f,v,A,I,L){const V=v?sa.create(v):void 0;if(V&&I)for(const[$e,We]of Object.entries(I))V.setAttr($e,We,A);const[q,te,ce,Te,Be]=this.rgaTreeSplit.edit(f,A,V,L);return[Te.map($e=>({...$e,value:$e.value?{attributes:To($e.value.getAttributes()),content:$e.value.getContent()}:{attributes:void 0,content:""},type:"content"})),te,ce,[q,q],Be]}setStyle(f,v,A,I){const L={data:0,meta:0},[,V,q]=this.rgaTreeSplit.findNodeWithSplit(f[1],A),[,te,ce]=this.rgaTreeSplit.findNodeWithSplit(f[0],A);zn(L,V,te);const Te=[],Be=this.rgaTreeSplit.findBetween(ce,q),Ne=[];for(const We of Be){const st=We.getCreatedAt().getActorID();let Ct=ap;I!=null&&(Ct=I.get(st)?I.get(st):0n),We.canStyle(A,Ct)&&Ne.push(We)}const $e=[];for(const We of Ne){if(We.isRemoved())continue;const[st,Ct]=this.rgaTreeSplit.findIndexesFromRange(We.createPosRange());Te.push({type:"style",actor:A.getActorID(),from:st,to:Ct,value:{attributes:To(v)}});for(const[sn,mn]of Object.entries(v)){const[An]=We.getValue().setAttr(sn,mn,A);An!==void 0&&$e.push({parent:We.getValue(),child:An});const Ir=We.getValue().getAttrs().getNodeMapByKey().get(sn);Ir!==void 0&&zn(L,Ir.getDataSize())}}return[$e,L,Te]}indexRangeToPosRange(f,v){const A=this.rgaTreeSplit.indexToPos(f);return f===v?[A,A]:[A,this.rgaTreeSplit.indexToPos(v)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(f){return this.rgaTreeSplit.refinePos(f)}normalizePos(f){return this.rgaTreeSplit.normalizePos(f)}getDataSize(){const f={data:0,meta:0};for(const v of this.rgaTreeSplit){if(v.isRemoved())continue;const A=v.getDataSize();f.data+=A.data,f.meta+=A.meta}return{data:f.data,meta:f.meta+this.getMetaUsage()}}toJSON(){const f=[];for(const v of this.rgaTreeSplit)v.isRemoved()||f.push(v.getValue().toJSON());return`[${f.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const f=[];for(const v of this.rgaTreeSplit)if(!v.isRemoved()){const A=v.getValue();f.push({attributes:To(A.getAttributes()),content:A.getContent()})}return f}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const f=new Zr(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}findIndexesFromRange(f){return this.rgaTreeSplit.findIndexesFromRange(f)}posToIndex(f,v=!1){return this.rgaTreeSplit.posToIndex(f,v)}getGCPairs(){const f=[];for(const v of this.rgaTreeSplit){v.getRemovedAt()&&f.push({parent:this.rgaTreeSplit,child:v});for(const A of v.getValue().getGCPairs())f.push(A)}return f}}class No extends qr{constructor(f,v,A,I,L,V,q){super(f,V);Y(this,"fromPos");Y(this,"toPos");Y(this,"content");Y(this,"attributes");Y(this,"isUndoOp");this.fromPos=v,this.toPos=A,this.content=I,this.attributes=L,this.isUndoOp=q}static create(f,v,A,I,L,V,q){return new No(f,v,A,I,L,V,q)}execute(f,v,A){const I=f.findByCreatedAt(this.getParentCreatedAt());if(!I)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(I instanceof Zr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only Text can execute edit");const L=I;this.isUndoOp&&(this.fromPos=L.refinePos(this.fromPos),this.toPos=L.refinePos(this.toPos));const[V,q,te,,ce]=L.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),A),Te=this.toReverseOperation(ce,L.normalizePos(this.fromPos));f.acc(te);for(const Be of q)f.registerGCPair(Be);return{opInfos:V.map(({from:Be,to:Ne,value:$e})=>({type:"edit",from:Be,to:Ne,value:$e,path:f.createPath(this.getParentCreatedAt())})),reverseOp:Te}}toReverseOperation(f,v){var L;const A=f!=null&&f.length?f.map(V=>V.getContent()).join(""):"";let I;if(f.length===1){const V=f[0].getAttributes();V&&(I=Array.from(Object.entries(V)))}return No.create(this.getParentCreatedAt(),v,dr.of(v.getID(),v.getRelativeOffset()+(((L=this.content)==null?void 0:L.length)??0)),A,I?new Map(I):new Map,void 0,!0)}normalizePos(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof Zr))throw new Ee(ye.ErrInvalidArgument,"only Text can normalize edit");const A=v,I=A.normalizePos(this.fromPos).getRelativeOffset(),L=A.normalizePos(this.toPos).getRelativeOffset();return[I,L]}reconcileOperation(f,v,A){if(!this.isUndoOp||f>v)return;const I=v-f,L=this.fromPos.getRelativeOffset(),V=this.toPos.getRelativeOffset(),q=(te,ce)=>{this.fromPos=dr.of(this.fromPos.getID(),Math.max(0,te)),this.toPos=dr.of(this.toPos.getID(),Math.max(0,ce))};if(v<=L){q(L-I+A,V-I+A);return}if(!(V<=f)){if(f<=L&&V<=v&&f!==v){q(f,f);return}if(L<=f&&v<=V&&L!==V){q(L,V-I+A);return}if(f<L&&L<v&&v<V){q(f,f+(V-v));return}if(L<f&&f<V&&V<v){q(L,f);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=this.fromPos.toTestString(),A=this.toPos.toTestString(),I=this.content;return`${f}.EDIT(${v},${A},${I})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class ac extends qr{constructor(f,v,A,I,L){super(f,L);Y(this,"fromPos");Y(this,"toPos");Y(this,"attributes");this.fromPos=v,this.toPos=A,this.attributes=I}static create(f,v,A,I,L){return new ac(f,v,A,I,L)}execute(f,v,A){const I=f.findByCreatedAt(this.getParentCreatedAt());if(!I)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(I instanceof Zr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only Text can execute edit");const L=I,[V,q,te]=L.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),A);f.acc(q);for(const ce of V)f.registerGCPair(ce);return{opInfos:te.map(({from:ce,to:Te,value:Be})=>({type:"style",from:ce,to:Te,value:Be,path:f.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=this.fromPos.toTestString(),A=this.toPos.toTestString(),I=this.attributes;return`${f}.STYL(${v},${A},${JSON.stringify(I)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const Ix=2,K1="root",ao="text";function Xn(h,o,f=!1){let v=0;const A=f?h.allChildren:h.children;for(let I=0;I<o;I++){const L=A[I];!L||!f&&L.isRemoved||(v+=L.paddedSize(f))}return v}class Rr{constructor(o,f=[]){Y(this,"type");Y(this,"parent");Y(this,"_children");Y(this,"visibleSize");Y(this,"totalSize");if(this.type=o,this.visibleSize=0,this.totalSize=0,this._children=f,this.isText&&this._children.length>0)throw new Ee(ye.ErrRefused,"Text node cannot have children")}updateAncestorsSize(o,f=!1){let v=this.parent;for(;v;){if(f)v.totalSize+=o;else if(v.visibleSize+=o,v.isRemoved)break;v=v.parent}}updateDescendantsSize(o=!1){let f=0;for(const v of this._children){const A=v.updateDescendantsSize(o);!o&&v.isRemoved||(f+=A)}return o?this.totalSize+=f:this.visibleSize+=f,this.paddedSize(o)}get isText(){return this.type===ao}paddedSize(o=!1){let f=this.visibleSize;return o&&(f=this.totalSize),this.isText||(f+=Ix),f}isAncestorOf(o){return Ox(this,o)}get nextSibling(){const o=this.parent.findOffset(this),f=this.parent.children[o+1];if(f)return f}get prevSibling(){const o=this.parent.findOffset(this),f=this.parent.children[o-1];if(f)return f}splitText(o,f){const v={data:0,meta:0};if(o===0||o===this.visibleSize)return[void 0,v];const A=this.value.slice(0,o),I=this.value.slice(o);if(!I.length)return[void 0,v];const L=this.getDataSize();this.value=A;const V=this.cloneText(o+f);return V.value=I,this.parent.insertAfterInternal(V,this),zn(v,this.getDataSize(),V.getDataSize()),Kr(v,L),[V,v]}get children(){return this._children.filter(o=>!o.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(o=>o.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(o=>o.value).join(""):""}append(...o){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");this._children.push(...o);for(const f of o)f.parent=this,f.updateAncestorsSize(f.paddedSize()),f.updateAncestorsSize(f.paddedSize(!0),!0)}prepend(...o){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");this._children.unshift(...o);for(const f of o)f.parent=this}insertBefore(o,f){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(f);if(v===-1)throw new Ee(ye.ErrInvalidArgument,"child not found");this.insertAtInternal(o,v),o.updateAncestorsSize(o.paddedSize()),o.updateAncestorsSize(o.paddedSize(!0),!0)}insertAfter(o,f){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(f);if(v===-1)throw new Ee(ye.ErrInvalidArgument,"child not found");this.insertAtInternal(o,v+1),o.updateAncestorsSize(o.paddedSize()),o.updateAncestorsSize(o.paddedSize(!0),!0)}insertAt(o,f){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");this.insertAtInternal(o,f),o.updateAncestorsSize(o.paddedSize()),o.updateAncestorsSize(o.paddedSize(!0),!0)}removeChild(o){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");const f=this._children.indexOf(o);if(f===-1)throw new Ee(ye.ErrInvalidArgument,"child not found");this._children.splice(f,1),o.updateAncestorsSize(-o.paddedSize(!0),!0),o.parent=void 0}splitElement(o,f){const v={data:0,meta:0},A=this.getDataSize(),I=this.cloneElement(f);this.parent.insertAfterInternal(I,this),I.updateAncestorsSize(I.paddedSize()),I.updateAncestorsSize(I.paddedSize(!0),!0);const L=this.children.slice(0,o),V=this.children.slice(o);this._children=L,I._children=V,this.visibleSize=this._children.reduce((q,te)=>q+te.paddedSize(),0),this.totalSize=this._children.reduce((q,te)=>q+te.paddedSize(!0),0),I.visibleSize=I._children.reduce((q,te)=>q+te.paddedSize(!0),0),I.totalSize=I._children.reduce((q,te)=>q+te.paddedSize(!0),0);for(const q of I._children)q.parent=I;return zn(v,this.getDataSize(),I.getDataSize()),Kr(v,A),[I,v]}insertAfterInternal(o,f){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");const v=this._children.indexOf(f);if(v===-1)throw new Ee(ye.ErrInvalidArgument,"child not found");this.insertAtInternal(o,v+1)}insertAtInternal(o,f){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");this._children.splice(f,0,o),o.parent=this}findOffset(o,f=!1){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");if(f)return this._children.indexOf(o);if(o.isRemoved){const v=this._children.indexOf(o);return this.allChildren.splice(0,v).filter(I=>!I.isRemoved).length}return this.children.indexOf(o)}findBranchOffset(o){if(this.isText)throw new Ee(ye.ErrRefused,"Text node cannot have children");let f=o;for(;f;){const v=this._children.indexOf(f);if(v!==-1)return v;f=f.parent}return-1}}function Ox(h,o){if(h===o)return!1;for(;o.parent;){if(o.parent===h)return!0;o=o.parent}return!1}var Zn=(h=>(h.Start="Start",h.End="End",h.Text="Text",h))(Zn||{});function Km(h,o,f,v,A=!1){if(o>f)throw new Ee(ye.ErrInvalidArgument,`from is greater than to: ${o} > ${f}`);const I=A?h.totalSize:h.visibleSize;if(o>I)throw new Ee(ye.ErrInvalidArgument,`from is out of range: ${o} > ${I}`);if(f>I)throw new Ee(ye.ErrInvalidArgument,`to is out of range: ${f} > ${I}`);if(o===f)return;let L=0;const V=A?h._children:h.children;for(const q of V){if(o-q.paddedSize(A)<L&&L<f){const te=q.isText?o-L:o-L-1,ce=q.isText?f-L:f-L-1,Te=A?q.totalSize:q.visibleSize,Be=!q.isText&&te<0,Ne=!q.isText&&ce>Te;(q.isText||Be)&&v([q,q.isText?"Text":"Start"],Ne),Km(q,Math.max(0,te),Math.min(ce,Te),v,A),Ne&&v([q,"End"],Ne)}L+=q.paddedSize(A)}}function Xm(h,o,f=0){for(const v of h.children)Xm(v,o,f+1);o(h,f)}function Vf(h,o,f=0){for(const v of h._children)Vf(v,o,f+1);o(h,f)}function lc(h,o,f=!0){if(o>h.visibleSize)throw new Ee(ye.ErrInvalidArgument,`index is out of range: ${o} > ${h.visibleSize}`);if(h.isText)return{node:h,offset:o};let v=0,A=0;for(const I of h.children){if(f&&I.isText&&I.visibleSize>=o-A)return lc(I,o-A,f);if(o===A)return{node:h,offset:v};if(!f&&I.paddedSize()===o-A)return{node:h,offset:v+1};if(I.paddedSize()>o-A)return lc(I,o-A-1,f);A+=I.paddedSize(),v+=1}return{node:h,offset:v}}function fp(h){return h.isText||h.children.length===0?h:fp(h.children[0])}function Dx(h,o){if(h.visibleSize<o)throw new Ee(ye.ErrInvalidArgument,"unacceptable path");for(let f=0;f<h.children.length;f++){const v=h.children[f];if(v.visibleSize<o)o-=v.visibleSize;else{h=v;break}}return{node:h,offset:o}}class Mx{constructor(o){Y(this,"root");this.root=o}tokensBetween(o,f,v,A=!1){Km(this.root,o,f,v,A)}traverse(o){Xm(this.root,o,0)}traverseAll(o){Vf(this.root,o,0)}findTreePos(o,f=!0){return lc(this.root,o,f)}treePosToPath(o){const f=[];let v=o.node;if(v.isText){const A=v.parent.findOffset(v);if(A===-1)throw new Ee(ye.ErrInvalidArgument,"invalid treePos");const I=Xn(v.parent,A);f.push(I+o.offset),v=v.parent}else if(v.hasTextChild()){const A=Xn(v,o.offset);f.push(A)}else f.push(o.offset);for(;v.parent;){const A=v.parent.findOffset(v);if(A===-1)throw new Ee(ye.ErrInvalidArgument,"invalid treePos");f.push(A),v=v.parent}return f.reverse()}pathToIndex(o){const f=this.pathToTreePos(o);return this.indexOf(f)}pathToTreePos(o){if(!o.length)throw new Ee(ye.ErrInvalidArgument,"unacceptable path");let f=this.root;for(let v=0;v<o.length-1;v++){const A=o[v];if(f=f.children[A],!f)throw new Ee(ye.ErrInvalidArgument,"unacceptable path")}if(f.hasTextChild())return Dx(f,o[o.length-1]);if(f.children.length<o[o.length-1])throw new Ee(ye.ErrInvalidArgument,"unacceptable path");return{node:f,offset:o[o.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(o){const{node:f,offset:v}=o;if(f.isText){if(f.visibleSize===v){const A=f.nextSibling;return A||f.parent}return f}return f.children.length===v?f:fp(f.children[v])}indexOf(o,f=!1){let{node:v}=o;const{offset:A}=o;let I=0,L=1;if(v.isText){I+=A;const V=v.parent,q=V.findOffset(v,f);if(q===-1)throw new Ee(ye.ErrInvalidArgument,"invalid pos");I+=Xn(V,q,f),v=v.parent}else I+=Xn(v,A,f);for(;v!=null&&v.parent;){const V=v.parent,q=V.findOffset(v,f);if(q===-1)throw new Ee(ye.ErrInvalidArgument,"invalid pos");I+=Xn(V,q,f),L++,v=v.parent}return I+L-1}indexToPath(o){const f=this.findTreePos(o);return this.treePosToPath(f)}}class Ui{constructor(o,f){Y(this,"parentID");Y(this,"leftSiblingID");this.parentID=o,this.leftSiblingID=f}static of(o,f){return new Ui(o,f)}static fromTreePos(o){const{offset:f}=o;let{node:v}=o,A;return v.isText?(v.parent.children[0]===v&&f===0?A=v.parent:A=v,v=v.parent):f===0?A=v:A=v.children[f-1],Ui.of(v.id,hr.of(A.getCreatedAt(),A.getOffset()+f))}getParentID(){return this.parentID}static fromStruct(o){return Ui.of(hr.of(li.fromStruct(o.parentID.createdAt),o.parentID.offset),hr.of(li.fromStruct(o.leftSiblingID.createdAt),o.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(o){const f=this.getParentID(),v=this.getLeftSiblingID(),A=o.findFloorNode(f);let I=o.findFloorNode(v);if(!A||!I)throw new Ee(ye.ErrRefused,`cannot find node of CRDTTreePos(${f.toTestString()}, ${v.toTestString()})`);return!v.equals(f)&&v.getOffset()>0&&v.getOffset()===I.id.getOffset()&&I.insPrevID&&(I=o.findFloorNode(I.insPrevID)),[A,I]}getLeftSiblingID(){return this.leftSiblingID}equals(o){return this.getParentID().getCreatedAt().equals(o.getParentID().getCreatedAt())&&this.getParentID().getOffset()===o.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(o.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===o.getLeftSiblingID().getOffset()}}class hr{constructor(o,f){Y(this,"createdAt");Y(this,"offset");this.createdAt=o,this.offset=f}static of(o,f){return new hr(o,f)}static fromStruct(o){return hr.of(li.fromStruct(o.createdAt),o.offset)}static createComparator(){return(o,f)=>{const v=o.getCreatedAt().compare(f.getCreatedAt());return v!==0?v:o.getOffset()>f.getOffset()?1:o.getOffset()<f.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(o){return this.createdAt.compare(o.createdAt)===0&&this.offset===o.offset}getOffset(){return this.offset}setOffset(o){this.offset=o}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Jr extends Rr{constructor(f,v,A,I,L){super(v);Y(this,"id");Y(this,"removedAt");Y(this,"attrs");Y(this,"insPrevID");Y(this,"insNextID");Y(this,"_value","");this.id=f,this.removedAt=L,I&&(this.attrs=I),typeof A=="string"?this.value=A:Array.isArray(A)&&(this._children=A)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(f,v,A,I){return new Jr(f,v,A,I)}deepcopy(){var v;const f=new Jr(this.id,this.type);return f.removedAt=this.removedAt,f._value=this._value,f.visibleSize=this.visibleSize,f.totalSize=this.totalSize,f.attrs=(v=this.attrs)==null?void 0:v.deepcopy(),f._children=this._children.map(A=>{const I=A.deepcopy();return I.parent=f,I}),f.insPrevID=this.insPrevID,f.insNextID=this.insNextID,f}get value(){if(!this.isText)throw new Ee(ye.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(f){if(!this.isText)throw new Ee(ye.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=f,this.visibleSize=f.length,this.totalSize=f.length}get isRemoved(){return!!this.removedAt}remove(f){return this.removedAt?(f.after(this.removedAt)&&(this.removedAt=f),!1):(this.removedAt=f,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(f){return new Jr(hr.of(this.id.getCreatedAt(),f),this.type,void 0,void 0,this.removedAt)}cloneElement(f){return new Jr(hr.of(f(),0),this.type,void 0,void 0,this.removedAt)}split(f,v,A){const[I,L]=this.isText?this.splitText(v,this.id.getOffset()):this.splitElement(v,A);if(I){if(I.insPrevID=this.id,this.insNextID){const V=f.findFloorNode(this.insNextID);V.insPrevID=I.id,I.insNextID=this.insNextID}this.insNextID=I.id,f.registerNode(I)}return[I,L]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(f,v,A){return v?!!(!this.removedAt||!A&&(f!=null&&f.after(this.removedAt))):!1}canStyle(f,v){return this.isText?!1:this.getCreatedAt().getLamport()<=v&&(!this.removedAt||f.after(this.removedAt))}setAttrs(f,v){this.attrs||(this.attrs=new Xr);const A=[];for(const[I,L]of Object.entries(f))A.push(this.attrs.set(I,L,v));return A}purge(f){this.attrs&&this.attrs.purge(f)}getDataSize(){const f={data:0,meta:0};if(this.isText&&(f.data+=this.visibleSize*2),this.id&&(f.meta+=ro),this.removedAt&&(f.meta+=ro),this.attrs)for(const v of this.attrs){if(v.getRemovedAt())continue;const A=v.getDataSize();f.meta+=A.meta,f.data+=A.data}return f}getGCPairs(){const f=[];if(!this.attrs)return f;for(const v of this.attrs)v.getRemovedAt()&&f.push({parent:this,child:v});return f}}function Gf(h){var f;if(h.isText){const v=h;return{type:v.type,value:v.value}}const o={type:h.type,children:h.children.map(Gf)};return h.attrs&&(o.attributes=To((f=h.attrs)==null?void 0:f.toObject())),o}function dp(h){if(h.isText)return h.value;let o="";return h.attrs&&h.attrs.size()&&(o=" "+Array.from(h.attrs).filter(f=>!f.isRemoved()).sort((f,v)=>f.getKey().localeCompare(v.getKey())).map(f=>{const v=JSON.parse(f.getValue());return typeof v=="string"?`${f.getKey()}="${v}"`:`${f.getKey()}="${io(f.getValue())}"`}).join(" ")),`<${h.type}${o}>${h.children.map(f=>dp(f)).join("")}</${h.type}>`}function hp(h){if(h.isText){const o=h;return{type:o.type,value:o.value,visibleSize:o.visibleSize,isRemoved:o.isRemoved}}return{type:h.type,children:h.children.map(hp),visibleSize:h.visibleSize,isRemoved:h.isRemoved}}class jr extends zf{constructor(f,v){super(v);Y(this,"indexTree");Y(this,"nodeMapByID");this.indexTree=new Mx(f),this.nodeMapByID=new so(hr.createComparator()),this.indexTree.traverseAll(A=>{this.nodeMapByID.put(A.id,A)})}static create(f,v){return new jr(f,v)}findFloorNode(f){const v=this.nodeMapByID.floorEntry(f);if(!(!v||!v.key.getCreatedAt().equals(f.getCreatedAt())))return v.value}registerNode(f){this.nodeMapByID.put(f.id,f)}findNodesAndSplitText(f,v){let A={data:0,meta:0};const[I,L]=f.toTreeNodePair(this);let V=L;const q=I===V,te=V.parent&&!q?V.parent:I;if(V.isText){const[,ce]=V.split(this,f.getLeftSiblingID().getOffset()-V.id.getOffset());A=ce}if(v){const ce=te.allChildren,Te=q?0:ce.indexOf(V)+1;for(let Be=Te;Be<ce.length;Be++){const Ne=ce[Be];if(!Ne.id.getCreatedAt().after(v))break;V=Ne}}return[[te,V],A]}style(f,v,A,I){const L={data:0,meta:0},[[V,q],te]=this.findNodesAndSplitText(f[0],A),[[ce,Te],Be]=this.findNodesAndSplitText(f[1],A);zn(L,Be,te);const Ne=[],$e=v?To(v):{},We=[];return this.traverseInPosRange(V,q,ce,Te,([st,Ct])=>{var An;const sn=st.getCreatedAt().getActorID();let mn=ap;if(I!=null&&(mn=I.get(sn)?I.get(sn):0n),st.canStyle(A,mn)&&v){const Ir=st.setAttrs(v,A),pn=Ir.reduce((Wn,[,ho])=>(ho&&(Wn[ho.getKey()]=$e[ho.getKey()]),Wn),{}),$n=st.parent,Hn=st.prevSibling||st.parent;Object.keys(pn).length>0&&Ne.push({type:"style",from:this.toIndex($n,Hn),to:this.toIndex(st,st),fromPath:this.toPath($n,Hn),toPath:this.toPath(st,st),actor:A.getActorID(),value:pn});for(const[Wn]of Ir)Wn&&We.push({parent:st,child:Wn});for(const[Wn]of Object.entries($e)){const ho=(An=st.attrs)==null?void 0:An.getNodeMapByKey().get(Wn);ho!==void 0&&Ct!==Zn.End&&zn(L,ho.getDataSize())}}}),[We,Ne,L]}removeStyle(f,v,A,I){const L={data:0,meta:0},[[V,q],te]=this.findNodesAndSplitText(f[0],A),[[ce,Te],Be]=this.findNodesAndSplitText(f[1],A);zn(L,Be,te);const Ne=[],$e=[];return this.traverseInPosRange(V,q,ce,Te,([We])=>{const st=We.getCreatedAt().getActorID();let Ct=ap;if(I!=null&&(Ct=I.get(st)?I.get(st):0n),We.canStyle(A,Ct)&&v){We.attrs||(We.attrs=new Xr);for(const An of v){const Ir=We.attrs.remove(An,A);for(const pn of Ir)$e.push({parent:We,child:pn})}const sn=We.parent,mn=We.prevSibling||We.parent;Ne.push({actor:A.getActorID(),type:"removeStyle",from:this.toIndex(sn,mn),to:this.toIndex(We,We),fromPath:this.toPath(sn,mn),toPath:this.toPath(We,We),value:v})}}),[$e,Ne,L]}edit(f,v,A,I,L,V){const q={data:0,meta:0},[[te,ce],Te]=this.findNodesAndSplitText(f[0],I),[[Be,Ne],$e]=this.findNodesAndSplitText(f[1],I);zn(q,$e,Te);const We=this.toIndex(te,ce),st=this.toPath(te,ce),Ct=[],sn=[],mn=[];this.traverseInPosRange(te,ce,Be,Ne,([pn,$n],Hn)=>{if($n===Zn.Start&&!Hn)for(const Qf of pn.children)mn.push(Qf);const Wn=V===void 0;let ho=!1;const Ec=V==null?void 0:V.get(pn.id.getCreatedAt().getActorID());ho=Wn||Ec!==void 0&&Ec>=pn.id.getCreatedAt().getLamport();let hb=!1;if(pn.removedAt){const Qf=V==null?void 0:V.get(pn.removedAt.getActorID());hb=Wn||Qf!==void 0&&Qf>=pn.removedAt.getLamport()}(pn.canDelete(I,ho,hb)||Ct.includes(pn.parent))&&(($n===Zn.Text||$n===Zn.Start)&&Ct.push(pn),sn.push([pn,$n]))},!0);const An=this.makeDeletionChanges(sn,I),Ir=[];for(const pn of Ct)pn.remove(I),pn.isRemoved&&Ir.push({parent:this,child:pn});for(const pn of mn)pn.removedAt||te.append(pn);if(A>0){let pn=0,$n=te,Hn=ce;for(;pn<A;)$n.split(this,$n.findOffset(Hn)+1,L),Hn=$n,$n=$n.parent,pn++;An.push({type:"content",from:We,to:We,fromPath:st,toPath:st,actor:I.getActorID()})}if(v!=null&&v.length){const pn=[];let $n=ce;for(const Hn of v)$n===te?te.insertAt(Hn,0):te.insertAfter(Hn,$n),$n=Hn,Vf(Hn,Wn=>{te.isRemoved?(Wn.remove(I),Ir.push({parent:this,child:Wn})):zn(q,Wn.getDataSize()),this.nodeMapByID.put(Wn.id,Wn)}),Hn.isRemoved||pn.push(Hn);if(pn.length){const Hn=pn.map(Wn=>Gf(Wn));An.length&&An[An.length-1].from===We?An[An.length-1].value=Hn:An.push({type:"content",from:We,to:We,fromPath:st,toPath:st,actor:I.getActorID(),value:Hn})}}return[An,Ir,q]}editT(f,v,A,I,L){const V=this.findPos(f[0]),q=this.findPos(f[1]);return this.edit([V,q],v,A,I,L)}move(f,v,A){throw new Ee(ye.ErrUnimplemented,`not implemented: ${f}, ${v}, ${A}`)}pathToTreePos(f){return this.indexTree.pathToTreePos(f)}purge(f){var I;(I=f.parent)==null||I.removeChild(f),this.nodeMapByID.remove(f.id);const v=f.insPrevID,A=f.insNextID;if(v){const L=this.findFloorNode(v);L.insNextID=A}if(A){const L=this.findFloorNode(A);L.insPrevID=v}f.insPrevID=void 0,f.insNextID=void 0}getGCPairs(){const f=[];return this.indexTree.traverse(v=>{v.getRemovedAt()&&f.push({parent:this,child:v});for(const A of v.getGCPairs())f.push(A)}),f}findPos(f,v=!0){const A=this.indexTree.findTreePos(f,v);return Ui.fromTreePos(A)}pathToPosRange(f){const v=this.pathToIndex(f);return[this.findPos(v),this.findPos(v+1)]}pathToPos(f){const v=this.indexTree.pathToIndex(f);return this.findPos(v)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return dp(this.indexTree.getRoot())}getDataSize(){const f={data:0,meta:0};return this.indexTree.traverse(v=>{if(v.getRemovedAt())return;const A=v.getDataSize();f.data+=A.data,f.meta+=A.meta}),{data:f.data,meta:f.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const f=this.indexTree.getRoot(),v=(A,I=void 0,L=void 0,V=0)=>{var Ne,$e,We,st;let q,te,ce;const Te=A.isText?{node:A,offset:0}:I&&L?this.toTreePos(I,L):null;Te&&(q=this.indexTree.indexOf(Te),te=this.indexTree.treePosToPath(Te),ce=Ui.fromTreePos(Te).toStruct());const Be={type:A.type,parent:I==null?void 0:I.id.toTestString(),size:A.visibleSize,id:A.id.toTestString(),removedAt:(Ne=A.removedAt)==null?void 0:Ne.toTestString(),insPrev:($e=A.insPrevID)==null?void 0:$e.toTestString(),insNext:(We=A.insNextID)==null?void 0:We.toTestString(),value:A.isText?A.value:void 0,isRemoved:A.isRemoved,children:[],depth:V,attributes:A.attrs?To((st=A.attrs)==null?void 0:st.toObject()):void 0,index:q,path:te,pos:ce};for(let Ct=0;Ct<A.allChildren.length;Ct++){const sn=Ct===0?A:A.allChildren[Ct-1];Be.children.push(v(A.allChildren[Ct],A,sn,V+1))}return Be};return v(f)}getRootTreeNode(){return Gf(this.indexTree.getRoot())}toTestTreeNode(){return hp(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const f=this.getRoot(),v=new jr(f.deepcopy(),this.getCreatedAt());return v.setRemovedAt(this.getRemovedAt()),v.setMovedAt(this.getMovedAt()),v}toPath(f,v){const A=this.toTreePos(f,v);return A?this.indexTree.treePosToPath(A):[]}toIndex(f,v,A=!1){const I=this.toTreePos(f,v,A);return I?this.indexTree.indexOf(I,A):-1}indexToPath(f){return this.indexTree.indexToPath(f)}pathToIndex(f){return this.indexTree.pathToIndex(f)}indexRangeToPosRange(f){const v=this.findPos(f[0]);return f[0]===f[1]?[v,v]:[v,this.findPos(f[1])]}indexRangeToPosStructRange(f){const[v,A]=f,I=this.findPos(v);return v===A?[I.toStruct(),I.toStruct()]:[I.toStruct(),this.findPos(A).toStruct()]}posRangeToPathRange(f){const[[v,A]]=this.findNodesAndSplitText(f[0]),[[I,L]]=this.findNodesAndSplitText(f[1]);return[this.toPath(v,A),this.toPath(I,L)]}posRangeToIndexRange(f){const[[v,A]]=this.findNodesAndSplitText(f[0]),[[I,L]]=this.findNodesAndSplitText(f[1]);return[this.toIndex(v,A),this.toIndex(I,L)]}traverseInPosRange(f,v,A,I,L,V=!1){const q=this.toIndex(f,v,V),te=this.toIndex(A,I,V);this.indexTree.tokensBetween(q,te,L,V)}toTreePos(f,v,A=!1){if(!f||!v)return;if(!A&&f.isRemoved){let L;for(;f.isRemoved;)L=f,f=L.parent;const V=f.findOffset(L,A);return{node:f,offset:V}}if(f===v)return{node:f,offset:0};let I=f.findOffset(v,A);if(A||!v.isRemoved){if(v.isText)return{node:v,offset:v.paddedSize(A)};I++}return{node:f,offset:I}}makeDeletionChanges(f,v){const A=[],I=[];let L=null,V=null;for(let q=0;q<f.length;q++){const te=f[q],ce=f[q+1];L||(L=te),V=te;const Te=this.findRightToken(te);(!Te||!ce||Te[0]!==ce[0]||Te[1]!==ce[1])&&(I.push([L,V]),L=null,V=null)}for(const q of I){const[te,ce]=q,[Te,Be]=this.findLeftToken(te),[Ne,$e]=ce,We=Be===Zn.Start?Te:Te.parent,st=$e===Zn.Start?Ne:Ne.parent,Ct=this.toIndex(We,Te),sn=this.toIndex(st,Ne);Ct<sn&&(A.length>0&&Ct===A[A.length-1].to?(A[A.length-1].to=sn,A[A.length-1].toPath=this.toPath(st,Ne)):A.push({type:"content",from:Ct,to:sn,fromPath:this.toPath(We,Te),toPath:this.toPath(st,Ne),actor:v.getActorID()}))}return A.reverse()}findRightToken([f,v]){if(v===Zn.Start){const q=f.allChildren;return q.length>0?[q[0],q[0].isText?Zn.Text:Zn.Start]:[f,Zn.End]}const A=f.parent,I=A.allChildren,L=I.indexOf(f);if(A&&L===I.length-1)return[A,Zn.End];const V=I[L+1];return[V,V.isText?Zn.Text:Zn.Start]}findLeftToken([f,v]){if(v===Zn.End){const q=f.allChildren;if(q.length>0){const te=q[q.length-1];return[te,te.isText?Zn.Text:Zn.End]}return[f,Zn.Start]}const A=f.parent,I=A.allChildren,L=I.indexOf(f);if(A&&L===0)return[A,Zn.Start];const V=I[L-1];return[V,V.isText?Zn.Text:Zn.End]}}class ul extends qr{constructor(f,v,A,I,L,V){super(f,V);Y(this,"fromPos");Y(this,"toPos");Y(this,"contents");Y(this,"splitLevel");this.fromPos=v,this.toPos=A,this.contents=I,this.splitLevel=L}static create(f,v,A,I,L,V){return new ul(f,v,A,I,L,V)}execute(f,v,A){var Te;const I=f.findByCreatedAt(this.getParentCreatedAt());if(!I)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(I instanceof jr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const L=this.getExecutedAt(),V=I,[q,te,ce]=V.edit([this.fromPos,this.toPos],(Te=this.contents)==null?void 0:Te.map(Be=>Be.deepcopy()),this.splitLevel,L,(()=>{let Be=L.getDelimiter();return this.contents!==void 0&&(Be+=this.contents.length),()=>li.of(L.getLamport(),++Be,L.getActorID())})(),A);f.acc(ce);for(const Be of te)f.registerGCPair(Be);return{opInfos:q.map(({from:Be,to:Ne,value:$e,splitLevel:We,fromPath:st,toPath:Ct})=>({type:"tree-edit",path:f.createPath(this.getParentCreatedAt()),from:Be,to:Ne,value:$e,splitLevel:We,fromPath:st,toPath:Ct}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,A=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,I=this.contents||[];return`${f}.EDIT(${v},${A},${I.map(L=>dp(L)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class cl{constructor(o){Y(this,"vector");this.vector=o||new Map}set(o,f){this.vector.set(o,f)}unset(o){this.vector.delete(o)}get(o){return this.vector.get(o)}has(o){return this.vector.has(o)}maxLamport(){let o=BigInt(0);for(const[,f]of this)f>o&&(o=f);return o}max(o){const f=new Map;for(const[v,A]of o){const I=this.vector.get(v),L=I&&I>A?I:A;f.set(v,L)}for(const[v,A]of this){const I=o.get(v),L=I&&I>A?I:A;f.set(v,L)}return new cl(f)}afterOrEqual(o){const f=this.vector.get(o.getActorID());return f===void 0?!1:f>=o.getLamport()}deepcopy(){const o=new Map;for(const[f,v]of this.vector)o.set(f,v);return new cl(o)}filter(o){const f=new Map;for(const[v]of o){const A=this.vector.get(v);A!==void 0&&f.set(v,A)}return new cl(f)}size(){return this.vector.size}*[Symbol.iterator](){for(const[o,f]of this.vector)yield[o,f]}}const pp=new cl(new Map);class Vi{constructor(o,f,v,A,I){Y(this,"clientSeq");Y(this,"serverSeq");Y(this,"actor");Y(this,"lamport");Y(this,"versionVector");this.clientSeq=o,this.serverSeq=I,this.lamport=f,this.versionVector=A,this.actor=v}hasClocks(){return this.versionVector.size()>0&&this.lamport!=sp}static of(o,f,v,A,I){return new Vi(o,f,v,A,I)}next(o=!1){if(o)return new Vi(this.clientSeq+1,this.lamport,this.actor,pp,sp);const f=this.versionVector.deepcopy();return f.set(this.actor,this.lamport+1n),new Vi(this.clientSeq+1,this.lamport+1n,this.actor,f)}syncClocks(o){if(!o.hasClocks())return this;const f=o.lamport>this.lamport?o.lamport+1n:this.lamport+1n,v=this.versionVector.max(o.versionVector),A=new Vi(this.clientSeq,f,this.actor,v);return A.versionVector.set(this.actor,f),A}setClocks(o,f){const v=o>this.lamport?o+1n:this.lamport+1n,A=this.versionVector.max(f);return A.set(this.actor,v),Vi.of(this.clientSeq,v,this.actor,A)}createTimeTicket(o){return li.of(this.lamport,o,this.actor)}setActor(o){return new Vi(this.clientSeq,this.lamport,o,this.versionVector,this.serverSeq)}setLamport(o){return new Vi(this.clientSeq,o,this.actor,this.versionVector,this.serverSeq)}setVersionVector(o){return new Vi(this.clientSeq,this.lamport,this.actor,o,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const ds=new Vi(0,0n,op,pp);class aa{constructor({id:o,operations:f,presenceChange:v,message:A}){Y(this,"id");Y(this,"operations");Y(this,"presenceChange");Y(this,"message");this.id=o,this.operations=f||[],this.presenceChange=v,this.message=A}static create({id:o,operations:f,presenceChange:v,message:A}){return new aa({id:o,operations:f,presenceChange:v,message:A})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(o){for(const f of this.operations)f.setActor(o);this.id=this.id.setActor(o)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(o,f,v){const A=[],I=[],L=[];for(const V of this.operations){const q=V.execute(o,v,this.id.getVersionVector());if(!q)continue;const{opInfos:te,reverseOp:ce}=q;A.push(...te),I.push(V),ce&&L.unshift(ce)}return this.presenceChange&&(this.presenceChange.type===no.Put?f.set(this.id.getActorID(),fi(this.presenceChange.presence)):f.delete(this.id.getActorID())),{operations:I,opInfos:A,reverseOps:L}}toTestString(){return`${this.operations.map(o=>o.toTestString()).join(",")}`}toStruct(){return{changeID:Sn.bytesToHex(Sn.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(o=>Sn.bytesToHex(Sn.operationToBinary(o))),presenceChange:this.getPresenceChange()}}static fromStruct(o){const{changeID:f,operations:v,presenceChange:A,message:I}=o;return aa.create({id:Sn.bytesToChangeID(Sn.hexToBytes(f)),operations:v==null?void 0:v.map(L=>Sn.bytesToOperation(Sn.hexToBytes(L))),presenceChange:A,message:I})}}class gp{constructor(o,f,v,A,I,L){Y(this,"documentKey");Y(this,"checkpoint");Y(this,"isRemoved");Y(this,"changes");Y(this,"snapshot");Y(this,"versionVector");this.documentKey=o,this.checkpoint=f,this.isRemoved=v,this.changes=A,this.snapshot=L,this.versionVector=I}static create(o,f,v,A,I,L){return new gp(o,f,v,A,I,L)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class fl{constructor(o,f){Y(this,"serverSeq");Y(this,"clientSeq");this.serverSeq=o,this.clientSeq=f}static of(o,f){return new fl(o,f)}increaseClientSeq(o){return o===0?this:new fl(this.serverSeq,this.clientSeq+o)}forward(o){if(this.equals(o))return this;const f=this.serverSeq>o.serverSeq?this.serverSeq:o.serverSeq,v=Math.max(this.clientSeq,o.clientSeq);return fl.of(f,v)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(o){return this.clientSeq===o.clientSeq&&this.serverSeq==o.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const hs=new fl(0n,0),Zm=h=>h<0?Math.ceil(h):Math.floor(h);var Ci=(h=>(h[h.Int=0]="Int",h[h.Long=1]="Long",h))(Ci||{});class yr extends zf{constructor(f,v,A){super(A);Y(this,"valueType");Y(this,"value");switch(this.valueType=f,f){case 0:typeof v=="number"?v>Math.pow(2,31)-1||v<-Math.pow(2,31)?this.value=Gt.fromNumber(v).toInt():this.value=Zm(v):this.value=v.toInt();break;case 1:typeof v=="number"?this.value=Gt.fromNumber(v):this.value=v;break;default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${f}`)}}static create(f,v,A){return new yr(f,v,A)}static valueFromBytes(f,v){switch(f){case 0:return v[0]|v[1]<<8|v[2]<<16|v[3]<<24;case 1:return Gt.fromBytesLE(Array.from(v));default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${f}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const f=yr.create(this.valueType,this.value,this.getCreatedAt());return f.setRemovedAt(this.getRemovedAt()),f.setMovedAt(this.getMovedAt()),f}getType(){return this.valueType}static getCounterType(f){switch(typeof f){case"object":return f instanceof Gt?1:void 0;case"number":return f>Math.pow(2,31)-1||f<-Math.pow(2,31)?1:0;default:return}}static isSupport(f){return!!yr.getCounterType(f)}static isInteger(f){return f%1===0}isNumericType(){const f=this.valueType;return f===0||f===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const f=this.value;return new Uint8Array([f&255,f>>8&255,f>>16&255,f>>24&255])}case 1:{const v=this.value.toBytesLE();return Uint8Array.from(v)}default:throw new Ee(ye.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(f){function v(A){if(!A.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof A.getValue()}`)}return v(this),v(f),this.valueType===1?this.value=this.value.add(f.getValue()):f.getType()===Tn.Long?this.value=this.value+f.getValue().toInt():this.value=Gt.fromNumber(this.value+Zm(f.getValue())).toInt(),this}}class _n extends qr{constructor(f,v,A){super(f,A);Y(this,"value");this.value=v}static create(f,v,A){return new _n(f,v,A)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof yr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const A=v,I=this.value.deepcopy();return A.increase(I),{opInfos:[{type:"increase",path:f.createPath(this.getParentCreatedAt()),value:I.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const f=this.value.deepcopy(),A=f.getType()===Tn.Long?f.getValue().multiply(-1):f.getValue()*-1;return _n.create(this.getParentCreatedAt(),Vn.of(A,f.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class ps extends qr{constructor(f,v,A,I,L,V){super(f,V);Y(this,"fromPos");Y(this,"toPos");Y(this,"attributes");Y(this,"attributesToRemove");this.fromPos=v,this.toPos=A,this.attributes=I,this.attributesToRemove=L}static create(f,v,A,I,L){return new ps(f,v,A,I,[],L)}static createTreeRemoveStyleOperation(f,v,A,I,L){return new ps(f,v,A,new Map,I,L)}execute(f,v,A){const I=f.findByCreatedAt(this.getParentCreatedAt());if(!I)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(I instanceof jr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const L=I;let V,q,te={data:0,meta:0};if(this.attributes.size){const ce={};[...this.attributes].forEach(([Te,Be])=>ce[Te]=Be),[q,V,te]=L.style([this.fromPos,this.toPos],ce,this.getExecutedAt(),A)}else{const ce=this.attributesToRemove;[q,V,te]=L.removeStyle([this.fromPos,this.toPos],ce,this.getExecutedAt(),A)}f.acc(te);for(const ce of q)f.registerGCPair(ce);return{opInfos:V.map(({from:ce,to:Te,value:Be,fromPath:Ne,toPath:$e})=>({type:"tree-style",from:ce,to:Te,value:this.attributes.size?{attributes:Be}:{attributesToRemove:Be},fromPath:Ne,toPath:$e,path:f.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const f=this.getParentCreatedAt().toTestString(),v=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,A=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${f}.STYLE(${v},${A},${Object.entries(this.attributes||{}).map(([I,L])=>`${I}:"${L}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class gs extends qr{constructor(f,v,A,I){super(f,I);Y(this,"createdAt");Y(this,"value");this.createdAt=v,this.value=A}static create(f,v,A,I){return new gs(f,v,A,I)}execute(f){const v=f.findByCreatedAt(this.getParentCreatedAt());if(!v)throw new Ee(ye.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(v instanceof fr))throw new Ee(ye.ErrInvalidArgument,"fail to execute, only array can execute set");const A=v.getByID(this.createdAt).deepcopy(),I=this.toReverseOperation(this.value,A),L=this.value.deepcopy();return v.insertAfter(this.createdAt,L,this.getExecutedAt()),v.delete(this.createdAt,this.getExecutedAt()),f.registerElement(L),{opInfos:[{type:"array-set",path:f.createPath(this.getParentCreatedAt())}],reverseOp:I}}toReverseOperation(f,v){return gs.create(this.getParentCreatedAt(),f.getCreatedAt(),v)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(f){this.createdAt=f}}function Px(h){const o={};for(const[f,v]of Object.entries(h))o[f]=JSON.stringify(v);return J(os,{data:o})}function $f(h){if(h.type===no.Put)return J(Bf,{type:ol.PUT,presence:Px(h.presence)});if(h.type===no.Clear)return J(Bf,{type:ol.CLEAR});throw new Ee(ye.ErrUnimplemented,"unimplemented type")}function la(h){return J(ip,{serverSeq:h.getServerSeq(),clientSeq:h.getClientSeq()})}function mp(h){return J(tp,{clientSeq:h.getClientSeq(),lamport:h.getLamport(),actorId:bs(h.getActorID()),versionVector:dl(h.getVersionVector())})}function vt(h){if(h)return J(Lm,{lamport:h.getLamport(),delimiter:h.getDelimiter(),actorId:bs(h.getActorID())})}function dl(h){if(!h)return;const o=J(ea);for(const[f,v]of h){const A=o0(bs(f));o.vector[A]=BigInt(v.toString())}return o}function lo(h){switch(h){case Tn.Null:return jt.NULL;case Tn.Boolean:return jt.BOOLEAN;case Tn.Integer:return jt.INTEGER;case Tn.Long:return jt.LONG;case Tn.Double:return jt.DOUBLE;case Tn.String:return jt.STRING;case Tn.Bytes:return jt.BYTES;case Tn.Date:return jt.DATE;default:throw new Ee(ye.ErrInvalidType,`unsupported type: ${h}`)}}function Jm(h){switch(h){case Ci.Int:return jt.INTEGER_CNT;case Ci.Long:return jt.LONG_CNT;default:throw new Ee(ye.ErrInvalidType,`unsupported type: ${h}`)}}function uc(h){if(h instanceof Er)return J(is,{type:jt.JSON_OBJECT,createdAt:vt(h.getCreatedAt()),value:ei(h)});if(h instanceof fr)return J(is,{type:jt.JSON_ARRAY,createdAt:vt(h.getCreatedAt()),value:i0(h)});if(h instanceof Zr)return J(is,{type:jt.TEXT,createdAt:vt(h.getCreatedAt())});if(h instanceof Vn)return J(is,{type:lo(h.getType()),createdAt:vt(h.getCreatedAt()),value:h.toBytes()});if(h instanceof yr)return J(is,{type:Jm(h.getType()),createdAt:vt(h.getCreatedAt()),value:h.toBytes()});if(h instanceof jr)return J(is,{type:jt.TREE,createdAt:vt(h.getCreatedAt()),value:Ap(h)});throw new Ee(ye.ErrUnimplemented,"unimplemented element")}function Lx(h){return J(Dm,{createdAt:vt(h.getCreatedAt()),offset:h.getOffset()})}function cc(h){return J(Pm,{createdAt:vt(h.getID().getCreatedAt()),offset:h.getID().getOffset(),relativeOffset:h.getRelativeOffset()})}function fc(h){return J(kf,{parentId:ua(h.getParentID()),leftSiblingId:ua(h.getLeftSiblingID())})}function ua(h){return J(Mm,{createdAt:vt(h.getCreatedAt()),offset:h.getOffset()})}function vp(h){const o=J(tc);if(h instanceof ia){const f=h,v=J(Ax);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.key=f.getKey(),v.value=uc(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="set",o.body.value=v}else if(h instanceof Bi){const f=h,v=J(Tm);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.prevCreatedAt=vt(f.getPrevCreatedAt()),v.value=uc(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="add",o.body.value=v}else if(h instanceof ji){const f=h,v=J(Nm);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.prevCreatedAt=vt(f.getPrevCreatedAt()),v.createdAt=vt(f.getCreatedAt()),v.executedAt=vt(f.getExecutedAt()),o.body.case="move",o.body.value=v}else if(h instanceof Ei){const f=h,v=J(ta);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.createdAt=vt(f.getCreatedAt()),v.executedAt=vt(f.getExecutedAt()),o.body.case="remove",o.body.value=v}else if(h instanceof No){const f=h,v=J(Ut);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=cc(f.getFromPos()),v.to=cc(f.getToPos()),v.content=f.getContent();const A=v.attributes;for(const[I,L]of f.getAttributes())A[I]=L;v.executedAt=vt(f.getExecutedAt()),o.body.case="edit",o.body.value=v}else if(h instanceof ac){const f=h,v=J(Rn);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=cc(f.getFromPos()),v.to=cc(f.getToPos());const A=v.attributes;for(const[I,L]of f.getAttributes())A[I]=L;v.executedAt=vt(f.getExecutedAt()),o.body.case="style",o.body.value=v}else if(h instanceof _n){const f=h,v=J(ar);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.value=uc(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="increase",o.body.value=v}else if(h instanceof ul){const f=h,v=J(np);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=fc(f.getFromPos()),v.to=fc(f.getToPos()),v.contents=kx(f.getContents()),v.splitLevel=f.getSplitLevel(),v.executedAt=vt(f.getExecutedAt()),o.body.case="treeEdit",o.body.value=v}else if(h instanceof ps){const f=h,v=J(nc);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.from=fc(f.getFromPos()),v.to=fc(f.getToPos());const A=f.getAttributesToRemove();if(A.length>0)v.attributesToRemove=A;else{const I=v.attributes;for(const[L,V]of f.getAttributes())I[L]=V}v.executedAt=vt(f.getExecutedAt()),o.body.case="treeStyle",o.body.value=v}else if(h instanceof gs){const f=h,v=J(il);v.parentCreatedAt=vt(f.getParentCreatedAt()),v.createdAt=vt(f.getCreatedAt()),v.value=uc(f.getValue()),v.executedAt=vt(f.getExecutedAt()),o.body.case="arraySet",o.body.value=v}else throw new Ee(ye.ErrUnimplemented,"unimplemented operation");return o}function ms(h){const o=[];for(const f of h)o.push(vp(f));return o}function nr(h){const o=J(Sx,{id:mp(h.getID()),message:h.getMessage()});return h.hasOperations()&&(o.operations=ms(h.getOperations())),h.hasPresenceChange()&&(o.presenceChange=$f(h.getPresenceChange())),o}function Qm(h){const o=[];for(const f of h)o.push(nr(f));return o}function Fx(h){const o=[];for(const f of h)o.push(J(Cx,{key:f.getStrKey(),element:Qr(f.getValue())}));return o}function xr(h){const o=[];for(const f of h)o.push(J(W1,{element:Qr(f.getValue())}));return o}function X1(h){const o=[];for(const f of h){const v=J(Om);v.id=Lx(f.getID()),v.value=f.getValue().getContent(),v.removedAt=vt(f.getRemovedAt());const A=v.attributes,I=f.getValue().getAttrs();for(const L of I){const V=J(rp);V.value=L.getValue(),V.updatedAt=vt(L.getUpdatedAt()),A[L.getKey()]=V}o.push(v)}return o}function kx(h){const o=[];if(!h||!h.length)return o;for(const f of h)o.push(J(lr,{content:Ln(f)}));return o}function Bx(h){const o={};for(const f of h)o[f.getKey()]=J(rp,{value:f.getValue(),updatedAt:vt(f.getUpdatedAt()),isRemoved:f.isRemoved()});return o}function Ln(h){if(!h)return[];const o=[];return Vf(h,(f,v)=>{const A=J(ai,{id:ua(f.id),type:f.type,removedAt:vt(f.removedAt),depth:v});f.isText&&(A.value=f.value),f.insPrevID&&(A.insPrevId=ua(f.insPrevID)),f.insNextID&&(A.insNextId=ua(f.insNextID)),f.attrs&&(A.attributes=Bx(f.attrs)),o.push(A)}),o}function di(h){return J(Br,{body:{case:"jsonObject",value:J(rc,{nodes:Fx(h.getRHT()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function _o(h){return J(Br,{body:{case:"jsonArray",value:J(H1,{nodes:xr(h.getElements()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function jx(h){return J(Br,{body:{case:"primitive",value:J(tr,{type:lo(h.getType()),value:h.toBytes(),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function zx(h){return J(Br,{body:{case:"text",value:J(_m,{nodes:X1(h.getRGATreeSplit()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Z1(h){return J(Br,{body:{case:"counter",value:J(Im,{type:Jm(h.getType()),value:h.toBytes(),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function yp(h){return J(Br,{body:{case:"tree",value:J(Ex,{nodes:Ln(h.getRoot()),createdAt:vt(h.getCreatedAt()),movedAt:vt(h.getMovedAt()),removedAt:vt(h.getRemovedAt())})}})}function Qr(h){if(h instanceof Er)return di(h);if(h instanceof fr)return _o(h);if(h instanceof Vn)return jx(h);if(h instanceof Zr)return zx(h);if(h instanceof yr)return Z1(h);if(h instanceof jr)return yp(h);throw new Ee(ye.ErrUnimplemented,"unimplemented element")}function uo(h){return J(Ff,{documentKey:h.getDocumentKey(),checkpoint:la(h.getCheckpoint()),isRemoved:h.getIsRemoved(),changes:Qm(h.getChanges()),snapshot:h.getSnapshot(),versionVector:dl(h.getVersionVector())})}function Ux(h){return{id:h.id,label:h.label,description:h.description,snapshot:h.snapshot,createdAt:h.createdAt?Ky(h.createdAt):new Date}}function Tr(h){if(!(h instanceof Kt))return{};const o=h.findDetails(km);for(const f of o)return f.metadata;return{}}function hl(h){return Tr(h).code??""}function Io(h,o){return h instanceof Kt&&hl(h)===o}function ca(h){return Vi.of(h.clientSeq,BigInt(h.lamport),pr(h.actorId),Oo(h.versionVector),BigInt(h.serverSeq))}function Oo(h){if(!h)return;const o=new cl;return Object.entries(h.vector).forEach(([f,v])=>{const A=co(mc(f));o.set(A,BigInt(v.toString()))}),o}function yt(h){if(h)return li.of(BigInt(h.lamport),h.delimiter,pr(h.actorId))}function Hf(h){const o={};return Object.entries(h.data).forEach(([f,v])=>{o[f]=JSON.parse(v)}),o}function Do(h){const o=h.type;if(o===ol.PUT){const f=Hf(h.presence);return{type:no.Put,presence:f}}if(o===ol.CLEAR)return{type:no.Clear};throw new Ee(ye.ErrInvalidType,`unsupported type: ${o}`)}function Vx(h){const o=new Map;return Object.entries(h).forEach(([f,v])=>{o.set(f,Hf(v))}),o}function pl(h){switch(h){case jt.NULL:return Tn.Null;case jt.BOOLEAN:return Tn.Boolean;case jt.INTEGER:return Tn.Integer;case jt.LONG:return Tn.Long;case jt.DOUBLE:return Tn.Double;case jt.STRING:return Tn.String;case jt.BYTES:return Tn.Bytes;case jt.DATE:return Tn.Date}throw new Ee(ye.ErrUnimplemented,`unimplemented value type: ${h}`)}function fa(h){switch(h){case jt.INTEGER_CNT:return Ci.Int;case jt.LONG_CNT:return Ci.Long}throw new Ee(ye.ErrUnimplemented,`unimplemented value type: ${h}`)}function da(h){switch(h.type){case jt.JSON_OBJECT:return h.value?gc(h.value):Er.create(yt(h.createdAt));case jt.JSON_ARRAY:return h.value?r0(h.value):fr.create(yt(h.createdAt));case jt.TEXT:return Zr.create(al.create(),yt(h.createdAt));case jt.TREE:return Sp(h.value);case jt.NULL:case jt.BOOLEAN:case jt.INTEGER:case jt.LONG:case jt.DOUBLE:case jt.STRING:case jt.BYTES:case jt.DATE:return Vn.of(Vn.valueFromBytes(pl(h.type),h.value),yt(h.createdAt));case jt.INTEGER_CNT:case jt.LONG_CNT:return yr.create(fa(h.type),yr.valueFromBytes(fa(h.type),h.value),yt(h.createdAt))}}function vs(h){return dr.of(Nn.of(yt(h.createdAt),h.offset),h.relativeOffset)}function e0(h){return Nn.of(yt(h.createdAt),h.offset)}function Gx(h){const o=sa.create(h.value);Object.entries(h.attributes).forEach(([v,A])=>{o.setAttr(v,A.value,yt(A.updatedAt))});const f=Ro.create(e0(h.id),o);return f.setRemovedAt(yt(h.removedAt)),f}function Mo(h){return Ui.of(dc(h.parentId),dc(h.leftSiblingId))}function dc(h){return hr.of(yt(h.createdAt),h.offset)}function xp(h){if(!h.length)return;const o=[];return h.forEach(f=>{const v=bp(f.content);o.push(v)}),o}function bp(h){if(h.length===0)return;const o=[];for(const A of h)o.push(Q1(A));const f=o[o.length-1],v=new Map;v.set(h[o.length-1].depth,o[o.length-1]);for(let A=o.length-2;A>=0;A--)v.get(h[A].depth-1).prepend(o[A]),v.set(h[A].depth,o[A]);return f.updateDescendantsSize(),f.updateDescendantsSize(!0),jr.create(f,sl).getRoot()}function J1(h){const o=Xr.create();for(const[f,v]of Object.entries(h))o.setInternal(f,v.value,yt(v.updatedAt),v.isRemoved);return o}function Q1(h){const o=dc(h.id),f=Jr.create(o,h.type),v=Object.entries(h.attributes);return f.isText?f.value=h.value:v.length&&(f.attrs=J1(h.attributes)),h.insPrevId&&(f.insPrevID=dc(h.insPrevId)),h.insNextId&&(f.insNextID=dc(h.insNextId)),f.removedAt=yt(h.removedAt),f}function gn(h){if(h.body.case==="set"){const o=h.body.value;return ia.create(o.key,da(o.value),yt(o.parentCreatedAt),yt(o.executedAt))}else if(h.body.case==="add"){const o=h.body.value;return Bi.create(yt(o.parentCreatedAt),yt(o.prevCreatedAt),da(o.value),yt(o.executedAt))}else if(h.body.case==="move"){const o=h.body.value;return ji.create(yt(o.parentCreatedAt),yt(o.prevCreatedAt),yt(o.createdAt),yt(o.executedAt))}else if(h.body.case==="remove"){const o=h.body.value;return Ei.create(yt(o.parentCreatedAt),yt(o.createdAt),yt(o.executedAt))}else if(h.body.case==="edit"){const o=h.body.value,f=new Map;return Object.entries(o.attributes).forEach(([v,A])=>{f.set(v,A)}),No.create(yt(o.parentCreatedAt),vs(o.from),vs(o.to),o.content,f,yt(o.executedAt))}else if(h.body.case==="style"){const o=h.body.value,f=new Map;return Object.entries(o.attributes).forEach(([v,A])=>{f.set(v,A)}),ac.create(yt(o.parentCreatedAt),vs(o.from),vs(o.to),f,yt(o.executedAt))}else if(h.body.case==="increase"){const o=h.body.value;return _n.create(yt(o.parentCreatedAt),da(o.value),yt(o.executedAt))}else if(h.body.case==="treeEdit"){const o=h.body.value;return ul.create(yt(o.parentCreatedAt),Mo(o.from),Mo(o.to),xp(o.contents),o.splitLevel,yt(o.executedAt))}else if(h.body.case==="treeStyle"){const o=h.body.value,f=new Map,v=o.attributesToRemove;return(v==null?void 0:v.length)>0?ps.createTreeRemoveStyleOperation(yt(o.parentCreatedAt),Mo(o.from),Mo(o.to),v,yt(o.executedAt)):(Object.entries(o.attributes).forEach(([A,I])=>{f.set(A,I)}),ps.create(yt(o.parentCreatedAt),Mo(o.from),Mo(o.to),f,yt(o.executedAt)))}else if(h.body.case==="arraySet"){const o=h.body.value;return gs.create(yt(o.parentCreatedAt),yt(o.createdAt),da(o.value),yt(o.executedAt))}else throw new Ee(ye.ErrUnimplemented,"unimplemented operation")}function Fn(h){const o=[];for(const f of h){const v=gn(f);v&&o.push(v)}return o}function $t(h){const o=[];for(const f of h)o.push(aa.create({id:ca(f.id),operations:Fn(f.operations),presenceChange:f.presenceChange?Do(f.presenceChange):void 0,message:f.message}));return o}function tn(h){return fl.of(BigInt(h.serverSeq),h.clientSeq)}function bn(h){return gp.create(h.documentKey,tn(h.checkpoint),h.isRemoved,$t(h.changes),Oo(h.versionVector),h.snapshot)}function hi(h){const o=new ls;for(const v of h.nodes){const A=Po(v.element);o.set(v.key,A,A.getPositionedAt())}const f=new Er(yt(h.createdAt),o);return f.setMovedAt(yt(h.movedAt)),f.setRemovedAt(yt(h.removedAt)),f}function ys(h){const o=new cs;for(const v of h.nodes)o.insert(Po(v.element));const f=new fr(yt(h.createdAt),o);return f.setMovedAt(yt(h.movedAt)),f.setRemovedAt(yt(h.removedAt)),f}function hc(h){const o=Vn.of(Vn.valueFromBytes(pl(h.type),h.value),yt(h.createdAt));return o.setMovedAt(yt(h.movedAt)),o.setRemovedAt(yt(h.removedAt)),o}function t0(h){const o=new al;let f=o.getHead();for(const A of h.nodes){const I=o.insertAfter(f,Gx(A));A.insPrevId&&I.setInsPrev(o.findNode(e0(A.insPrevId))),f=I}const v=new Zr(o,yt(h.createdAt));return v.setMovedAt(yt(h.movedAt)),v.setRemovedAt(yt(h.removedAt)),v}function xs(h){const o=yr.create(fa(h.type),yr.valueFromBytes(fa(h.type),h.value),yt(h.createdAt));return o.setMovedAt(yt(h.movedAt)),o.setRemovedAt(yt(h.removedAt)),o}function Gn(h){const o=bp(h.nodes);return jr.create(o,yt(h.createdAt))}function Po(h){if(h.body.case==="jsonObject")return hi(h.body.value);if(h.body.case==="jsonArray")return ys(h.body.value);if(h.body.case==="primitive")return hc(h.body.value);if(h.body.case==="text")return t0(h.body.value);if(h.body.case==="counter")return xs(h.body.value);if(h.body.case==="tree")return Gn(h.body.value);throw new Ee(ye.ErrUnimplemented,"unimplemented element")}function gl(h){return h.map(o=>({path:o.path,type:o.type}))}function n0(h){if(!h)return{root:Er.create(sl),presences:new Map};const o=Pi(Lf,h);return{root:Po(o.root),presences:Vx(o.presences)}}function Gi(h){const o=dl(h);return co(Li(ea,o))}function pc(h){const o=Lo(h),f=Pi(ea,o);return Oo(f)}function gc(h){if(!h)throw new Ee(ye.ErrInvalidArgument,"bytes is empty");const o=Pi(Br,h);return hi(o.body.value)}function ei(h){return Li(Br,Qr(h))}function r0(h){if(!h)throw new Ee(ye.ErrInvalidArgument,"bytes is empty");const o=Pi(Br,h);return ys(o.body.value)}function i0(h){return Li(Br,_o(h))}function Sp(h){if(!h)throw new Ee(ye.ErrInvalidArgument,"bytes is empty");const o=Pi(Br,h);return Gn(o.body.value)}function Ap(h){return Li(Br,yp(h))}function co(h){return h?Array.from(h).map(o=>o.toString(16).padStart(2,"0")).join(""):""}function pr(h){return co(h)}function Lo(h){return new Uint8Array(h.match(/.{1,2}/g).map(o=>parseInt(o,16)))}function mc(h){if(typeof window<"u"&&typeof window.atob=="function"){const o=window.atob(h),f=o.length,v=new Uint8Array(f);for(let A=0;A<f;A++)v[A]=o.charCodeAt(A);return v}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const o=globalThis.Buffer;return new Uint8Array(o.from(h,"base64"))}else throw new Error("No base64 decoder available")}function bs(h){return Lo(h)}function o0(h){if(typeof window<"u"&&typeof window.btoa=="function"){let o="";for(let f=0;f<h.byteLength;f++)o+=String.fromCharCode(h[f]);return window.btoa(o)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(h).toString("base64");throw new Error("No base64 encoder available")}}function s0(h){const o=Pi(tp,h);return ca(o)}function $x(h){const o=Pi(tc,h);return gn(o)}const Sn={fromPresence:Hf,toChangePack:uo,fromChangePack:bn,fromChanges:$t,toTreeNodes:Ln,fromTreeNodes:bp,objectToBytes:ei,bytesToObject:gc,bytesToSnapshot:n0,bytesToHex:co,hexToBytes:Lo,toHexString:pr,toUint8Array:bs,toOperation:vp,toChangeID:mp,bytesToChangeID:s0,bytesToOperation:$x,versionVectorToHex:Gi,hexToVersionVector:pc,fromSchemaRules:gl,toRevisionSummary:Ux,changeIDToBinary:h=>Li(tp,mp(h)),operationToBinary:h=>Li(tc,vp(h))};var zr=(h=>(h[h.Trivial=0]="Trivial",h[h.Debug=1]="Debug",h[h.Info=2]="Info",h[h.Warn=3]="Warn",h[h.Error=4]="Error",h[h.Fatal=5]="Fatal",h))(zr||{});let gr=3;function Hx(h){gr=h}const Je={trivial:(...h)=>{gr>0||typeof console<"u"&&console.log("YORKIE T:",...h)},debug:(...h)=>{gr>1||typeof console<"u"&&console.log("YORKIE D:",...h)},info:(...h)=>{gr>2||typeof console<"u"&&console.log("YORKIE I:",...h)},warn:(...h)=>{gr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...h):console.log("YORKIE W:",...h))},error:(...h)=>{gr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...h):console.log("YORKIE E:",...h))},fatal:(...h)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...h):console.log("YORKIE F:",...h))},isEnabled:h=>gr<=h};function a0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,h=>{const o=Math.random()*16|0;return(h==="x"?o:o&3|8).toString(16)})}const Ep=()=>{};class eA{constructor(o){Y(this,"finalized",!1);Y(this,"observers",[]);Y(this,"finalError");try{o(this)}catch(f){this.error(f)}}next(o){this.forEachObserver(f=>{f.next(o)})}error(o){this.forEachObserver(f=>{f.error(o)}),this.close(o)}complete(){this.forEachObserver(o=>{o.complete()}),this.close()}subscribe(o,f,v){let A;if(!o)throw new Ee(ye.ErrInvalidArgument,"missing observer");if(this.finalized)throw new Ee(ye.ErrRefused,"observable is finalized due to previous error");typeof o=="object"?A=o:A={next:o,error:f,complete:v},A.next===void 0&&(A.next=Ep),A.error===void 0&&(A.error=Ep),A.complete===void 0&&(A.complete=Ep);const I=a0(),L=this.unsubscribeOne.bind(this,I);if(this.observers.push({subscriptionID:I,observer:A}),this.finalized)try{this.finalError?A.error(this.finalError):A.complete()}catch(V){Je.warn(V)}return L}unsubscribeOne(o){var f;this.observers=(f=this.observers)==null?void 0:f.filter(v=>v.subscriptionID!==o)}forEachObserver(o){if(!this.finalized)for(let f=0;f<this.observers.length;f++)this.sendOne(f,o)}sendOne(o,f){if(this.observers!==void 0&&this.observers[o]!==void 0)try{f(this.observers[o].observer)}catch(v){Je.error(v)}}close(o){this.finalized||(this.finalized=!0,o!==void 0&&(this.finalError=o),this.observers=void 0)}}function Ss(h){const o=new eA(h);return{subscribe:o.subscribe.bind(o),getProxy:()=>o}}class ha{constructor(o,f,v,A){Y(this,"prevID");Y(this,"nextID");Y(this,"delimiter");Y(this,"message");Y(this,"root");Y(this,"operations");Y(this,"presenceChange");Y(this,"previousPresence");Y(this,"reversePresenceKeys");this.prevID=o,this.nextID=o.next(),this.delimiter=Bm,this.root=f,this.operations=[],this.previousPresence=fi(v),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=A}static create(o,f,v,A){return new ha(o,f,v,A)}push(o){this.operations.push(o)}registerElement(o,f){this.root.registerElement(o,f)}registerRemovedElement(o){this.root.registerRemovedElement(o)}registerGCPair(o){this.root.registerGCPair(o)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const o=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return aa.create({id:o,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(o){this.presenceChange=o}setReversePresence(o,f){for(const v of Object.keys(o))f!=null&&f.addToHistory?this.reversePresenceKeys.add(v):this.reversePresenceKeys.delete(v)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const o={};for(const f of this.reversePresenceKeys)o[f]=this.previousPresence[f];return o}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(o){this.root.acc(o)}}function Cp(h,o){const f=new Fo(h);return new Proxy(o,f.getHandlers())}class Fo{constructor(o){Y(this,"context");Y(this,"handlers");this.context=o,this.handlers={set:(f,v,A)=>(Je.isEnabled(zr.Trivial)&&Je.trivial(`obj[${v}]=${JSON.stringify(A)}`),Fo.setInternal(o,f,v,A),!0),get:(f,v)=>(Je.isEnabled(zr.Trivial)&&Je.trivial(`obj[${v}]`),v==="getID"?()=>f.getCreatedAt():v==="toJSON"||v==="toString"?()=>f.toJSON():v==="toJS"?()=>f.toJS():v==="toJSForTest"?()=>f.toJSForTest():ga(o,f.get(v))),ownKeys:f=>f.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(f,v)=>(Je.isEnabled(zr.Trivial)&&Je.trivial(`obj[${v}]`),Fo.deleteInternal(o,f,v),!0)}}static setInternal(o,f,v,A){if(v.includes("."))throw new Ee(ye.ErrInvalidObjectKey,"key must not contain the '.'.");const I=o.issueTimeTicket(),L=ma(o,A,I),V=f.set(v,L,I);o.registerElement(L,f),V&&o.registerRemovedElement(V),o.push(ia.create(v,L.deepcopy(),f.getCreatedAt(),I))}static buildObjectMembers(o,f){const v={};for(const[A,I]of Object.entries(f)){if(A.includes("."))throw new Ee(ye.ErrInvalidObjectKey,"key must not contain the '.'.");const L=o.issueTimeTicket(),V=ma(o,I,L);v[A]=V}return v}static deleteInternal(o,f,v){const A=o.issueTimeTicket(),I=f.deleteByKey(v,A);I&&(o.push(Ei.create(f.getCreatedAt(),I.getCreatedAt(),A)),o.registerRemovedElement(I))}getHandlers(){return this.handlers}}function Wx(h,o){const f=new on(h,o);return new Proxy(o,f.getHandlers())}function l0(h){return typeof h=="string"||h instanceof String?!isNaN(h):!1}function Yx(h){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(h)}class on{constructor(o,f){Y(this,"context");Y(this,"handlers");Y(this,"array");this.context=o,this.array=f,this.handlers={get:(v,A,I)=>A==="getID"?()=>v.getCreatedAt():A==="getElementByID"?L=>{const V=v.getByID(L);if(!(!V||V.isRemoved()))return $i(o,V)}:A==="getElementByIndex"?L=>{const V=v.get(L);return $i(o,V)}:A==="getLast"?()=>$i(o,v.getLast()):A==="delete"?L=>{const V=on.deleteInternalByIndex(o,v,L);return $i(o,V)}:A==="deleteByID"?L=>{const V=on.deleteInternalByID(o,v,L);return $i(o,V)}:A==="insertAfter"?(L,V)=>{const q=on.insertAfterInternal(o,v,L,V);return $i(o,q)}:A==="insertIntegerAfter"?(L,V)=>{const q=on.insertIntegerAfterInternal(o,v,L,V);return $i(o,q)}:A==="insertBefore"?(L,V)=>{const q=on.insertBeforeInternal(o,v,L,V);return $i(o,q)}:A==="setValue"?(L,V)=>{const q=on.setValueInternal(o,v,L,V);return $i(o,q)}:A==="moveBefore"?(L,V)=>{on.moveBeforeInternal(o,v,L,V)}:A==="moveAfter"?(L,V)=>{on.moveAfterInternal(o,v,L,V)}:A==="moveAfterByIndex"?(L,V)=>{on.moveAfterByIndexInternal(o,v,L,V)}:A==="moveFront"?L=>{on.moveFrontInternal(o,v,L)}:A==="moveLast"?L=>{on.moveLastInternal(o,v,L)}:l0(A)?ga(o,v.get(Number(A))):A==="push"?L=>on.pushInternal(o,v,L):A==="splice"?(L,V,...q)=>on.splice(o,v,L,V,...q):A==="length"?v.length:typeof A=="symbol"&&A===Symbol.iterator?on.iteratorInternal.bind(this,o,v):A==="includes"?(L,V)=>on.includes(o,v,L,V):A==="indexOf"?(L,V)=>on.indexOf(o,v,L,V):A==="lastIndexOf"?(L,V)=>on.lastIndexOf(o,v,L,V):A==="toJSForTest"?()=>v.toJSForTest():A==="toTestString"?()=>on.toTestString(v):typeof A=="string"&&Yx(A)?(...L)=>{const V=Array.from(v).map(q=>ga(o,q));return Array.prototype[A].apply(V,L)}:Reflect.get(v,A,I),set:(v,A,I)=>{if(l0(A)){const L=Number(A);return on.setValueInternal(o,v,L,I),!0}return Reflect.set(v,A,I)},deleteProperty:(v,A)=>(Je.isEnabled(zr.Trivial)&&Je.trivial(`array[${A}]`),on.deleteInternalByIndex(o,v,Number.parseInt(A)),!0)}}static*iteratorInternal(o,f){for(const v of f)yield $i(o,v)}static buildArrayElements(o,f){const v=[];for(const A of f){const I=o.issueTimeTicket(),L=ma(o,A,I);v.push(L)}return v}static pushInternal(o,f,v){return on.insertAfterInternal(o,f,f.getLastCreatedAt(),v),f.length}static moveBeforeInternal(o,f,v,A){const I=o.issueTimeTicket(),L=f.getPrevCreatedAt(v);f.moveAfter(L,A,I),o.push(ji.create(f.getCreatedAt(),L,A,I))}static moveAfterInternal(o,f,v,A){const I=o.issueTimeTicket();o.push(ji.create(f.getCreatedAt(),v,A,I)),f.moveAfter(v,A,I)}static moveAfterByIndexInternal(o,f,v,A){const I=f.get(v);if(!I)throw new Ee(ye.ErrInvalidArgument,`index out of bounds: ${v}`);const L=f.get(A);if(!L)throw new Ee(ye.ErrInvalidArgument,`index out of bounds: ${A}`);on.moveAfterInternal(o,f,I.getCreatedAt(),L.getCreatedAt())}static moveFrontInternal(o,f,v){const A=o.issueTimeTicket(),I=f.getHead();f.moveAfter(I.getCreatedAt(),v,A),o.push(ji.create(f.getCreatedAt(),I.getCreatedAt(),v,A))}static moveLastInternal(o,f,v){const A=o.issueTimeTicket(),I=f.getLastCreatedAt();f.moveAfter(I,v,A),o.push(ji.create(f.getCreatedAt(),I,v,A))}static insertAfterInternal(o,f,v,A){const I=o.issueTimeTicket(),L=ma(o,A,I);return f.insertAfter(v,L),o.registerElement(L,f),o.push(Bi.create(f.getCreatedAt(),v,L.deepcopy(),I)),L}static insertIntegerAfterInternal(o,f,v,A){const I=f.get(v);if(!I)throw new Ee(ye.ErrInvalidArgument,`index out of bounds: ${v}`);return on.insertAfterInternal(o,f,I.getCreatedAt(),A),f}static insertBeforeInternal(o,f,v,A){return on.insertAfterInternal(o,f,f.getPrevCreatedAt(v),A)}static setValueInternal(o,f,v,A){const I=f.get(v);if(!I)throw new Ee(ye.ErrInvalidArgument,`index out of bounds: ${v}`);return on.setByIndexInternal(o,f,I.getCreatedAt(),A),f}static setByIndexInternal(o,f,v,A){const I=o.issueTimeTicket(),L=ma(o,A,I),V=L.deepcopy();return o.push(gs.create(f.getCreatedAt(),v,V,I)),f.set(v,L,I),o.registerElement(L,f),L}static deleteInternalByIndex(o,f,v){const A=o.issueTimeTicket(),I=f.deleteByIndex(v,A);if(I)return o.push(Ei.create(f.getCreatedAt(),I.getCreatedAt(),A)),o.registerRemovedElement(I),I}static deleteInternalByID(o,f,v){const A=o.issueTimeTicket(),I=f.delete(v,A);return o.push(Ei.create(f.getCreatedAt(),I.getCreatedAt(),A)),o.registerRemovedElement(I),I}static splice(o,f,v,A,...I){const L=f.length,V=v>=0?Math.min(v,L):Math.max(L+v,0),q=A===void 0?L:A<0?V:Math.min(V+A,L),te=[];for(let ce=V;ce<q;ce++){const Te=on.deleteInternalByIndex(o,f,V);if(Te){const Be=Te.deepcopy();Be.setRemovedAt(),te.push(ga(o,Be))}}if(I){let ce=V===0?f.getHead().getID():f.get(V-1).getID();for(const Te of I)ce=on.insertAfterInternal(o,f,ce,Te).getID()}return te}static includes(o,f,v,A){var V;const I=f.length,L=A===void 0?0:A<0?Math.max(A+I,0):A;if(L>=I)return!1;if(Vn.isSupport(v))return Array.from(f).map(te=>ga(o,te)).includes(v,L);for(let q=L;q<I;q++)if(((V=f.get(q))==null?void 0:V.getID())===v.getID())return!0;return!1}static indexOf(o,f,v,A){var V;const I=f.length,L=A===void 0?0:A<0?Math.max(A+I,0):A;if(L>=I)return-1;if(Vn.isSupport(v))return Array.from(f).map(te=>ga(o,te)).indexOf(v,L);for(let q=L;q<I;q++)if(((V=f.get(q))==null?void 0:V.getID())===v.getID())return q;return-1}static lastIndexOf(o,f,v,A){var V;const I=f.length,L=A===void 0||A>=I?I-1:A<0?A+I:A;if(L<0)return-1;if(Vn.isSupport(v))return Array.from(f).map(te=>ga(o,te)).lastIndexOf(v,L);for(let q=L;q>0;q--)if(((V=f.get(q))==null?void 0:V.getID())===v.getID())return q;return-1}static toTestString(o){return o.toTestString()}getHandlers(){return this.handlers}}class Wf{constructor(o,f){Y(this,"context");Y(this,"text");this.context=o,this.text=f}initialize(o,f){this.context=o,this.text=f}getID(){return this.text.getID()}edit(o,f,v,A){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const I=this.text.indexRangeToPosRange(o,f);Je.isEnabled(zr.Debug)&&Je.debug(`EDIT: f:${o}->${I[0].toTestString()}, t:${f}->${I[1].toTestString()} c:${v}`);const L=A?ll(A):void 0,V=this.context.issueTimeTicket(),[,q,te,ce]=this.text.edit(I,v,V,L);this.context.acc(te);for(const Te of q)this.context.registerGCPair(Te);return this.context.push(new No(this.text.getCreatedAt(),I[0],I[1],v,L?new Map(Object.entries(L)):new Map,V)),this.text.findIndexesFromRange(ce)}delete(o,f){return this.edit(o,f,"")}empty(){return this.edit(0,this.length,"")}setStyle(o,f,v){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const A=this.text.indexRangeToPosRange(o,f);Je.isEnabled(zr.Debug)&&Je.debug(`STYL: f:${o}->${A[0].toTestString()}, t:${f}->${A[1].toTestString()} a:${JSON.stringify(v)}`);const I=ll(v),L=this.context.issueTimeTicket(),[V,q]=this.text.setStyle(A,I,L);this.context.acc(q);for(const te of V)this.context.registerGCPair(te);return this.context.push(new ac(this.text.getCreatedAt(),A[0],A[1],new Map(Object.entries(I)),L)),!0}indexRangeToPosRange(o){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");const f=this.text.indexRangeToPosRange(o[0],o[1]);return[f[0].toStruct(),f[1].toStruct()]}posRangeToIndexRange(o){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");const f=this.text.findIndexesFromRange([dr.fromStruct(o[0]),dr.fromStruct(o[1])]);return[f[0],f[1]]}toTestString(){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(o,f){if(!this.context||!this.text)throw new Ee(ye.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(o,f)}}class u0{constructor(o,f){Y(this,"valueType");Y(this,"value");Y(this,"context");Y(this,"counter");this.valueType=o,this.value=f}initialize(o,f){this.valueType=f.getValueType(),this.context=o,this.counter=f,this.value=f.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(o){if(!this.context||!this.counter)throw new Ee(ye.ErrNotInitialized,"Counter is not initialized yet");const f=this.context.issueTimeTicket(),v=Vn.of(o,f);if(!v.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof v.getValue()}`);return this.counter.increase(v),this.context.push(_n.create(this.counter.getCreatedAt(),v,f)),this}toJSForTest(){if(!this.context||!this.counter)throw new Ee(ye.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function c0(h){if(h.isText)return{type:h.type,value:h.value};const o={type:h.type,children:h.children.map(f=>c0(f))};return h.attrs&&(o.attributes=To(h.attrs.toObject())),o}function tA(h,o){const f={type:h.isText?h.parent.type:h.type,children:h.isText?h.parent.getChildrenText().length===o?[]:[{type:ao,value:h.parent.getChildrenText().slice(o)}]:h.children.slice(o).map(v=>c0(v))};return h.attrs?f.attributes=To(h.attrs.toObject()):h.isText&&h.parent.attrs&&(f.attributes=To(h.parent.attrs.toObject())),f}function qx(h,o){const{node:f}=h,v=[...o].slice(0,-1),A=f.isText?f.parent.getChildrenText().length:f.children.length,I=[...v,A],L=[...v],V=[];L[L.length-1]+=1,o.every((te,ce)=>te===I[ce])||V.push({fromPath:[...o],toPath:I});const q=tA(f,o[o.length-1]);return q&&V.push({fromPath:L,toPath:L,content:q}),V}function Kx(h,o){const{node:f,offset:v}=h,A=f.children[v],I=f.children[v-1],{children:L}=A,V=[...o].slice(0,-1),q=[{fromPath:[...o],toPath:[...V,v+1]}];if(!A.children.length)return q;const te=[...V,v-1,I.hasTextChild()?I.getChildrenText().length:I.children.length],ce=L.map(Te=>c0(Te));return q.push({fromPath:te,toPath:te,content:ce}),q}function pa(h,o,f){const{type:v}=h,A=f.issueTimeTicket();if(v===ao){f0(h);const{value:I}=h,L=Jr.create(hr.of(A,0),v,I);o.append(L)}else{const{children:I=[]}=h,{attributes:L}=h;let V;if(typeof L=="object"&&!qm(L)){const te=ll(L);V=new Xr;for(const[ce,Te]of Object.entries(te))V.set(ce,Te,A)}const q=Jr.create(hr.of(A,0),v,void 0,V);o.append(q);for(const te of I)pa(te,q,f)}}function wp(h,o){const{type:f}=o,v=h.issueTimeTicket();let A;if(o.type===ao){const{value:I}=o;A=Jr.create(hr.of(v,0),f,I)}else if(o){const{children:I=[]}=o,{attributes:L}=o;let V;if(typeof L=="object"&&!qm(L)){const q=ll(L);V=new Xr;for(const[te,ce]of Object.entries(q))V.set(te,ce,v)}A=Jr.create(hr.of(h.issueTimeTicket(),0),f,void 0,V);for(const q of I)pa(q,A,h)}return A}function f0(h){if(!h.value.length)throw new Ee(ye.ErrInvalidArgument,"text node cannot have empty value");return!0}function d0(h){if(!h.length)return!0;if(h[0].type===ao)for(const f of h){const{type:v}=f;if(v!==ao)throw new Ee(ye.ErrInvalidArgument,"element node and text node cannot be passed together");f0(f)}else for(const f of h){const{type:v}=f;if(v===ao)throw new Ee(ye.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Rp{constructor(o){Y(this,"initialRoot");Y(this,"context");Y(this,"tree");this.initialRoot=o}initialize(o,f){this.context=o,this.tree=f}getID(){return this.tree.getID()}buildRoot(o){if(!this.initialRoot)return Jr.create(hr.of(o.issueTimeTicket(),0),K1);const f=Jr.create(hr.of(o.issueTimeTicket(),0),this.initialRoot.type);for(const v of this.initialRoot.children)pa(v,f,o);return f}getSize(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(!o.length)throw new Ee(ye.ErrInvalidArgument,"path should not be empty");const f=this.tree.pathToTreePos(o),v=qx(f,o);for(const A of v){const{fromPath:I,toPath:L,content:V}=A,q=this.tree.pathToPos(I),te=this.tree.pathToPos(L);this.editInternal(q,te,V?[V]:[],0)}}mergeByPath(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(!o.length)throw new Ee(ye.ErrInvalidArgument,"path should not be empty");const f=this.tree.pathToTreePos(o);if(f.node.isText)throw new Ee(ye.ErrInvalidArgument,"text node cannot be merged");const v=Kx(f,o);for(const A of v){const{fromPath:I,toPath:L,content:V}=A,q=this.tree.pathToPos(I),te=this.tree.pathToPos(L);this.editInternal(q,te,V??[],0)}}styleByPath(o,f){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(!o.length)throw new Ee(ye.ErrInvalidArgument,"path should not be empty");const[v,A]=this.tree.pathToPosRange(o),I=this.context.issueTimeTicket(),L=f?ll(f):void 0,[V,,q]=this.tree.style([v,A],L,I);this.context.acc(q);for(const te of V)this.context.registerGCPair(te);this.context.push(ps.create(this.tree.getCreatedAt(),v,A,L?new Map(Object.entries(L)):new Map,I))}style(o,f,v){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const A=this.tree.findPos(o),I=this.tree.findPos(f),L=this.context.issueTimeTicket(),V=v?ll(v):void 0,[q,,te]=this.tree.style([A,I],V,L);this.context.acc(te);for(const ce of q)this.context.registerGCPair(ce);this.context.push(ps.create(this.tree.getCreatedAt(),A,I,V?new Map(Object.entries(V)):new Map,L))}removeStyle(o,f,v){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const A=this.tree.findPos(o),I=this.tree.findPos(f),L=this.context.issueTimeTicket(),[V,,q]=this.tree.removeStyle([A,I],v,L);this.context.acc(q);for(const te of V)this.context.registerGCPair(te);this.context.push(ps.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),A,I,v,L))}editInternal(o,f,v,A=0){var te;if(v.length!==0&&v[0]&&(d0(v),v[0].type!==ao))for(const ce of v){const{children:Te=[]}=ce;d0(Te)}const I=this.context.getLastTimeTicket();let L=new Array;if(((te=v[0])==null?void 0:te.type)===ao){let ce="";for(const Te of v){const{value:Be}=Te;ce+=Be}L.push(Jr.create(hr.of(this.context.issueTimeTicket(),0),ao,ce))}else L=v.map(ce=>ce&&wp(this.context,ce)).filter(ce=>ce);const[,V,q]=this.tree.edit([o,f],L.length?L.map(ce=>ce==null?void 0:ce.deepcopy()):void 0,A,I,()=>this.context.issueTimeTicket());this.context.acc(q);for(const ce of V)this.context.registerGCPair(ce);return this.context.push(ul.create(this.tree.getCreatedAt(),o,f,L.length?L:void 0,A,I)),!0}editByPath(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o.length!==f.length)throw new Ee(ye.ErrInvalidArgument,"path length should be equal");if(!o.length||!f.length)throw new Ee(ye.ErrInvalidArgument,"path should not be empty");const I=this.tree.pathToPos(o),L=this.tree.pathToPos(f);return this.editInternal(I,L,v?[v]:[],A)}editBulkByPath(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o.length!==f.length)throw new Ee(ye.ErrInvalidArgument,"path length should be equal");if(!o.length||!f.length)throw new Ee(ye.ErrInvalidArgument,"path should not be empty");const I=this.tree.pathToPos(o),L=this.tree.pathToPos(f);return this.editInternal(I,L,v,A)}edit(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const I=this.tree.findPos(o),L=this.tree.findPos(f);return this.editInternal(I,L,v?[v]:[],A)}editBulk(o,f,v,A=0){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");if(o>f)throw new Ee(ye.ErrInvalidArgument,"from should be less than or equal to to");const I=this.tree.findPos(o),L=this.tree.findPos(f);return this.editInternal(I,L,v,A)}toXML(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(o)}pathToIndex(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(o)}pathRangeToPosRange(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");const f=[this.tree.pathToIndex(o[0]),this.tree.pathToIndex(o[1])],v=this.tree.indexRangeToPosRange(f);return[v[0].toStruct(),v[1].toStruct()]}indexRangeToPosRange(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(o)}posRangeToIndexRange(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");const f=[Ui.fromStruct(o[0]),Ui.fromStruct(o[1])];return this.tree.posRangeToIndexRange(f)}posRangeToPathRange(o){if(!this.context||!this.tree)throw new Ee(ye.ErrNotInitialized,"Tree is not initialized yet");const f=[Ui.fromStruct(o[0]),Ui.fromStruct(o[1])];return this.tree.posRangeToPathRange(f)}}function h0(h,o){return Cp(h,o)}function $i(h,o){if(o){if(o instanceof Vn)return o;if(o instanceof Er)return Cp(h,o);if(o instanceof fr)return Wx(h,o);if(o instanceof Zr)return new Wf(h,o);if(o instanceof yr){const f=new u0(Ci.Int,0);return f.initialize(h,o),f}else if(o instanceof jr){const f=new Rp;return f.initialize(h,o),f}}else return;throw new TypeError(`Unsupported type of element: ${typeof o}`)}function ga(h,o){const f=$i(h,o);return f instanceof Vn?f.getValue():f}function ma(h,o,f){let v;if(Vn.isSupport(o))v=Vn.of(o,f);else if(Array.isArray(o))v=fr.create(f,on.buildArrayElements(h,o));else if(typeof o=="object")o instanceof Wf?(v=Zr.create(al.create(),f),o.initialize(h,v)):o instanceof u0?(v=yr.create(o.getValueType(),o.getValue(),f),o.initialize(h,v)):o instanceof Rp?(v=jr.create(o.buildRoot(h),f),o.initialize(h,v)):v=Er.create(f,Fo.buildObjectMembers(h,o));else throw new TypeError(`Unsupported type of value: ${typeof o}`);return v}class vc{constructor(o){Y(this,"rootObject");Y(this,"elementPairMapByCreatedAt");Y(this,"gcElementSetByCreatedAt");Y(this,"gcPairMap");Y(this,"docSize");this.rootObject=o,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(o,void 0),o.getDescendants(f=>{if(f.getRemovedAt()&&this.registerRemovedElement(f),f instanceof Zr||f instanceof jr)for(const v of f.getGCPairs())this.registerGCPair(v);return!1})}static create(){return new vc(Er.create(sl))}findByCreatedAt(o){const f=this.elementPairMapByCreatedAt.get(o.toIDString());if(f)return f.element}findElementPairByCreatedAt(o){return this.elementPairMapByCreatedAt.get(o.toIDString())}createSubPaths(o){let f=this.elementPairMapByCreatedAt.get(o.toIDString());if(!f)return[];const v=[];for(;f.parent;){const A=f.element.getCreatedAt(),I=f.parent.subPathOf(A);if(I===void 0)throw new Ee(ye.ErrInvalidArgument,`cant find the given element: ${A.toIDString()}`);v.unshift(I),f=this.elementPairMapByCreatedAt.get(f.parent.getCreatedAt().toIDString())}return v.unshift("$"),v}createPath(o){return this.createSubPaths(o).join(".")}registerElement(o,f){this.elementPairMapByCreatedAt.set(o.getCreatedAt().toIDString(),{parent:f,element:o}),zn(this.docSize.live,o.getDataSize()),o instanceof ss&&o.getDescendants((v,A)=>(this.elementPairMapByCreatedAt.set(v.getCreatedAt().toIDString(),{parent:A,element:v}),zn(this.docSize.live,v.getDataSize()),!1))}deregisterElement(o){let f=0;const v=A=>{const I=A.getCreatedAt().toIDString();Kr(this.docSize.gc,A.getDataSize()),this.elementPairMapByCreatedAt.delete(I),this.gcElementSetByCreatedAt.delete(I),f++};return v(o),o instanceof ss&&o.getDescendants(A=>(v(A),!1)),f}registerRemovedElement(o){zn(this.docSize.gc,o.getDataSize()),Kr(this.docSize.live,o.getDataSize()),this.docSize.live.meta+=ro,this.gcElementSetByCreatedAt.add(o.getCreatedAt().toIDString())}registerGCPair(o){if(this.gcPairMap.get(o.child.toIDString())){this.gcPairMap.delete(o.child.toIDString());return}this.gcPairMap.set(o.child.toIDString(),o);const v=this.gcPairMap.get(o.child.toIDString()).child.getDataSize();zn(this.docSize.gc,v),Kr(this.docSize.live,v),o.child instanceof fs||(this.docSize.live.meta+=ro)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const o=new Set;for(const f of this.gcElementSetByCreatedAt){o.add(f);const v=this.elementPairMapByCreatedAt.get(f);v.element instanceof ss&&v.element.getDescendants(A=>(o.add(A.getCreatedAt().toIDString()),!1))}return o.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new vc(this.rootObject.deepcopy())}garbageCollect(o){let f=0;for(const v of this.gcElementSetByCreatedAt){const A=this.elementPairMapByCreatedAt.get(v),I=A.element.getRemovedAt();I&&(o!=null&&o.afterOrEqual(I))&&(A.parent.purge(A.element),f+=this.deregisterElement(A.element))}for(const[,v]of this.gcPairMap){const A=v.child.getRemovedAt();A&&(o!=null&&o.afterOrEqual(A))&&(v.parent.purge(v.child),Kr(this.docSize.gc,v.child.getDataSize()),this.gcPairMap.delete(v.child.toIDString()),f+=1)}return f}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(o){zn(this.docSize.live,o)}*getGCElementPairs(){for(const o of this.gcElementSetByCreatedAt){const f=this.elementPairMapByCreatedAt.get(o);f&&(yield f)}}}let p0=class{constructor(o,f){Y(this,"context");Y(this,"presence");this.context=o,this.presence=f}set(o,f){for(const v of Object.keys(o))this.presence[v]=o[v];this.context.setPresenceChange({type:no.Put,presence:fi(this.presence)}),this.context.setReversePresence(o,f)}get(o){return this.presence[o]}clear(){this.presence={},this.context.setPresenceChange({type:no.Clear})}};const In=50;class g0{constructor(){Y(this,"undoStack",[]);Y(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(o){this.undoStack.length>=In&&this.undoStack.shift(),this.undoStack.push(o)}popUndo(){return this.undoStack.pop()}pushRedo(o){this.redoStack.length>=In&&this.redoStack.shift(),this.redoStack.push(o)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(o,f){const v=A=>{for(const I of A)for(const L of I)(L instanceof gs||L instanceof Ei||L instanceof ji)&&L.getCreatedAt()===o&&L.setCreatedAt(f),(L instanceof Bi||L instanceof ji)&&L.getPrevCreatedAt()===o&&L.setPrevCreatedAt(f)};v(this.undoStack),v(this.redoStack)}reconcileTextEdit(o,f,v,A){const I=L=>{for(const V of L)for(const q of V)q instanceof No&&q.getParentCreatedAt().compare(o)===0&&q.reconcileOperation(f,v,A)};I(this.undoStack),I(this.redoStack)}}function nA(h,o){const f=[];for(const v of o){const A=Xx(h,v.path),I=rA(A,v);if(!I.valid)for(const L of I.errors||[])f.push(L)}return{valid:f.length===0,errors:f}}function Xx(h,o){if(!o.startsWith("$"))throw new Error(`Path must start with $, got ${o}`);const f=o.split(".");let v=h;for(let A=1;A<f.length;A++){const I=f[A];if(!(v instanceof Er))return;v=v.get(I)}return v}function rA(h,o){switch(o.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return oA(h,o);case"object":if(!(h instanceof Er))return{valid:!1,errors:[{path:o.path,message:`expected object at path ${o.path}`}]};break;case"array":if(!(h instanceof fr))return{valid:!1,errors:[{path:o.path,message:`expected array at path ${o.path}`}]};break;case"yorkie.Text":if(!(h instanceof Zr))return{valid:!1,errors:[{path:o.path,message:`expected yorkie.Text at path ${o.path}`}]};break;case"yorkie.Tree":if(!(h instanceof jr))return{valid:!1,errors:[{path:o.path,message:`expected yorkie.Tree at path ${o.path}`}]};break;case"yorkie.Counter":if(!(h instanceof yr))return{valid:!1,errors:[{path:o.path,message:`expected yorkie.Counter at path ${o.path}`}]};break;default:throw new Error(`Unknown rule type: ${o.type}`)}return{valid:!0}}function iA(h){switch(h){case"null":return Tn.Null;case"boolean":return Tn.Boolean;case"integer":return Tn.Integer;case"long":return Tn.Long;case"double":return Tn.Double;case"string":return Tn.String;case"bytes":return Tn.Bytes;case"date":return Tn.Date;default:throw new Error(`Unknown primitive type: ${h}`)}}function oA(h,o){return h instanceof Vn&&h.getType()===iA(o.type)?{valid:!0}:{valid:!1,errors:[{path:o.path,message:`expected ${o.type} at path ${o.path}`}]}}const Tp="yorkie-devtools-panel",yc="yorkie-devtools-sdk";function m0(h){return[Nr.StatusChanged,Nr.Snapshot,Nr.LocalChange,Nr.RemoteChange,Nr.Initialized,Nr.Watched,Nr.Unwatched,Nr.PresenceChanged].includes(h.type)}function Np(h){return h.every(m0)}let va="disconnected";const ya=new Map,wi=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=wi);function xa(h,o){(o!=null&&o.force||va!=="disconnected")&&window.postMessage({source:yc,...h},"*")}function sA(h){if(!h.isEnableDevtools()||typeof window>"u"||ya.has(h.getKey()))return;wi.set(h.getKey(),[]);const o=h.subscribe("all",f=>{Np(f)&&(wi.get(h.getKey()).push(f),va==="synced"&&xa({msg:"doc::sync::partial",docKey:h.getKey(),event:f}))});ya.set(h.getKey(),[o]),xa({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",f=>{var A;if(((A=f.data)==null?void 0:A.source)!==Tp)return;switch(f.data.msg){case"devtools::connect":if(va!=="disconnected")break;va="connected",xa({msg:"doc::available",docKey:h.getKey()}),Je.info(`[YD] Devtools connected. Doc: ${h.getKey()}`);break;case"devtools::disconnect":va="disconnected",Je.info(`[YD] Devtools disconnected. Doc: ${h.getKey()}`);break;case"devtools::subscribe":va="synced",xa({msg:"doc::sync::full",docKey:h.getKey(),events:wi.get(h.getKey())}),Je.info(`[YD] Devtools subscribed. Doc: ${h.getKey()}`);break}})}var As=(h=>(h.Detached="detached",h.Attached="attached",h.Removed="removed",h))(As||{}),Nr=(h=>(h.StatusChanged="status-changed",h.ConnectionChanged="connection-changed",h.SyncStatusChanged="sync-status-changed",h.Snapshot="snapshot",h.LocalChange="local-change",h.RemoteChange="remote-change",h.Initialized="initialized",h.Watched="watched",h.Unwatched="unwatched",h.PresenceChanged="presence-changed",h.AuthError="auth-error",h))(Nr||{}),xc=(h=>(h.Connected="connected",h.Disconnected="disconnected",h))(xc||{}),_p=(h=>(h.Synced="synced",h.SyncFailed="sync-failed",h))(_p||{});class ba{constructor(o,f){Y(this,"key");Y(this,"status");Y(this,"opts");Y(this,"maxSizeLimit");Y(this,"schemaRules");Y(this,"changeID");Y(this,"checkpoint");Y(this,"localChanges");Y(this,"root");Y(this,"presences");Y(this,"clone");Y(this,"internalHistory");Y(this,"isUpdating");Y(this,"onlineClients");Y(this,"eventStream");Y(this,"eventStreamObserver");Y(this,"history");this.key=o,this.status="detached",this.opts=f||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=ds,this.checkpoint=hs,this.localChanges=[],this.root=vc.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new g0,this.isUpdating=!1,this.eventStream=Ss(v=>this.eventStreamObserver=v),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},sA(this)}update(o,f){var V,q,te;if(this.getStatus()==="removed")throw new Ee(ye.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const v=this.changeID.getActorID(),A=ha.create(this.changeID,this.clone.root,this.clone.presences.get(v)||{},f);try{const ce=h0(A,this.clone.root.getObject());this.presences.has(v)||this.clone.presences.set(v,{}),this.isUpdating=!0,o(ce,new p0(A,this.clone.presences.get(v)))}catch(ce){throw this.clone=void 0,ce}finally{this.isUpdating=!1}const I=this.getSchemaRules();if(!A.isPresenceOnlyChange()&&I.length){const ce=nA((V=this.clone)==null?void 0:V.root.getObject(),I);if(!ce.valid)throw this.clone=void 0,new Ee(ye.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(q=ce.errors)==null?void 0:q.map(Te=>Te.message).join(", ")}`)}const L=oa((te=this.clone)==null?void 0:te.root.getDocSize());if(!A.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<L)throw this.clone=void 0,new Ee(ye.ErrDocumentSizeExceedsLimit,`document size exceeded: ${L} > ${this.maxSizeLimit}`);if(A.hasChange()){Je.isEnabled(zr.Trivial)&&Je.trivial(`trying to update a local change: ${this.toJSON()}`);const ce=A.toChange(),{opInfos:Te,reverseOps:Be}=ce.execute(this.root,this.presences,Pn.Local);for(const We of ce.getOperations())We instanceof gs&&this.internalHistory.reconcileCreatedAt(We.getCreatedAt(),We.getValue().getCreatedAt());const Ne=A.getReversePresence();Ne&&Be.push({type:"presence",value:Ne}),this.localChanges.push(ce),Be.length&&this.internalHistory.pushUndo(Be),Te.length&&this.internalHistory.clearRedo(),this.changeID=A.getNextID();const $e=[];Te.length&&$e.push({type:"local-change",source:Pn.Local,value:{message:ce.getMessage()||"",operations:Te,actor:v,clientSeq:ce.getID().getClientSeq(),serverSeq:ce.getID().getServerSeq()},rawChange:this.isEnableDevtools()?ce.toStruct():void 0}),ce.hasPresenceChange()&&$e.push({type:"presence-changed",source:Pn.Local,value:{clientID:v,presence:this.getPresence(v)}}),this.publish($e),Je.isEnabled(zr.Trivial)&&Je.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(o,f,v,A){if(typeof o=="string"){if(typeof f!="function")throw new Ee(ye.ErrInvalidArgument,"Second argument must be a callback function");if(o==="presence"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type!=="initialized"&&te.type!=="watched"&&te.type!=="unwatched"&&te.type!=="presence-changed"||V(te)},v,A)}if(o==="my-presence"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type!=="initialized"&&te.type!=="presence-changed"||te.type==="presence-changed"&&te.value.clientID!==this.changeID.getActorID()||V(te)},v,A)}if(o==="others"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type!=="watched"&&te.type!=="unwatched"&&te.type!=="presence-changed"||te.value.clientID!==this.changeID.getActorID()&&V(te)},v,A)}if(o==="connection"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type==="connection-changed"&&V(te)},v,A)}if(o==="status"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type==="status-changed"&&V(te)},v,A)}if(o==="sync"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type==="sync-status-changed"&&V(te)},v,A)}if(o==="auth-error"){const V=f;return this.eventStream.subscribe(q=>{for(const te of q)te.type==="auth-error"&&V(te)},v)}if(o==="all"){const V=f;return this.eventStream.subscribe(V,v,A)}const I=o,L=f;return this.eventStream.subscribe(V=>{for(const q of V){if(q.type!=="local-change"&&q.type!=="remote-change")continue;const te=[];for(const ce of q.value.operations)this.isSameElementOrChildOf(ce.path,I)&&te.push(ce);te.length&&L({...q,value:{...q.value,operations:te}})}},v,A)}if(typeof o=="function"){const I=o,L=f,V=v;return this.eventStream.subscribe(q=>{for(const te of q)te.type!=="snapshot"&&te.type!=="local-change"&&te.type!=="remote-change"||I(te)},L,V)}throw new Ee(ye.ErrInvalidArgument,`"${o}" is not a valid`)}publish(o){this.eventStreamObserver&&this.eventStreamObserver.next(o)}applyChangePack(o){o.hasSnapshot()?this.applySnapshot(o.getCheckpoint().getServerSeq(),o.getVersionVector(),o.getSnapshot(),o.getCheckpoint().getClientSeq()):(this.applyChanges(o.getChanges(),Pn.Remote),this.removePushedLocalChanges(o.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(o.getCheckpoint()),o.hasSnapshot()||this.garbageCollect(o.getVersionVector()),o.getIsRemoved()&&this.applyStatus("removed"),Je.isEnabled(zr.Trivial)&&Je.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:fi(this.presences)})}createChangePack(){const o=Array.from(this.localChanges),f=this.checkpoint.increaseClientSeq(o.length);return gp.create(this.key,f,!1,o,this.getVersionVector())}setActor(o){for(const f of this.localChanges)f.setActor(o);this.changeID=this.changeID.setActor(o)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const o=ha.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return h0(o,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(o){this.maxSizeLimit=o}getSchemaRules(){return this.schemaRules}setSchemaRules(o){this.schemaRules=o}garbageCollect(o){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(o),this.root.garbageCollect(o))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(o,f,v,A=-1){const{root:I,presences:L}=Sn.bytesToSnapshot(v);this.root=new vc(I),this.presences=L,this.changeID=this.changeID.setClocks(f.maxLamport(),f),this.clone=void 0,this.removePushedLocalChanges(A),this.applyChanges(this.localChanges,Pn.Local),this.clearHistory(),this.publish([{type:"snapshot",source:Pn.Remote,value:{serverSeq:o.toString(),snapshot:this.isEnableDevtools()?Sn.bytesToHex(v):void 0,snapshotVector:Sn.versionVectorToHex(f)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(o,f){Je.isEnabled(zr.Debug)&&Je.debug(`trying to apply ${o.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),Je.isEnabled(zr.Trivial)&&Je.trivial(o.map(v=>`${v.getID().toTestString()}	${v.toTestString()}`).join(`
`));for(const v of o)this.applyChange(v,f);Je.isEnabled(zr.Debug)&&Je.debug(`after appling ${o.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(o,f){var V;this.ensureClone(),o.execute(this.clone.root,this.clone.presences,f);const v=[],A=o.getID().getActorID();if(o.hasPresenceChange()&&this.onlineClients.has(A)){const q=o.getPresenceChange();switch(q.type){case no.Put:v.push(this.presences.has(A)?{type:"presence-changed",source:f,value:{clientID:A,presence:q.presence}}:{type:"watched",source:Pn.Remote,value:{clientID:A,presence:q.presence}});break;case no.Clear:v.push({type:"unwatched",source:Pn.Remote,value:{clientID:A,presence:this.getPresence(A)}}),this.removeOnlineClient(A);break}}const{opInfos:I,operations:L}=o.execute(this.root,this.presences,f);for(const q of L)if(q instanceof No){const[te,ce]=q.normalizePos(this.root);this.internalHistory.reconcileTextEdit(q.getParentCreatedAt(),te,ce,((V=q.getContent())==null?void 0:V.length)??0)}if(this.changeID=this.changeID.syncClocks(o.getID()),I.length){const q=this.isEnableDevtools()?o.toStruct():void 0;v.push(f===Pn.Remote?{type:"remote-change",source:f,value:{actor:A,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq(),message:o.getMessage()||"",operations:I},rawChange:q}:{type:"local-change",source:f,value:{actor:A,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq(),message:o.getMessage()||"",operations:I},rawChange:q})}v.length&&this.publish(v)}applyWatchInit(o){const f=new Set;for(const v of o)v!==this.changeID.getActorID()&&f.add(v);this.setOnlineClients(f);for(const v of Array.from(this.presences.keys()))v!==this.changeID.getActorID()&&!f.has(v)&&this.presences.delete(v);this.publish([{type:"initialized",source:Pn.Local,value:this.getPresences()}])}applyDocEvent(o,f){const v=[];if(o===jf.DOCUMENT_WATCHED){if(this.onlineClients.has(f)&&this.hasPresence(f))return;this.addOnlineClient(f),this.hasPresence(f)&&v.push({type:"watched",source:Pn.Remote,value:{clientID:f,presence:this.getPresence(f)}})}else if(o===jf.DOCUMENT_UNWATCHED){const A=this.getPresence(f);this.removeOnlineClient(f),this.presences.delete(f),A&&v.push({type:"unwatched",source:Pn.Remote,value:{clientID:f,presence:A}})}v.length&&this.publish(v)}applyStatus(o){this.status=o,o==="detached"&&this.setActor(op),this.publish([{source:o==="removed"?Pn.Remote:Pn.Local,type:"status-changed",value:o==="attached"?{status:o,actorID:this.changeID.getActorID()}:{status:o}}])}applyDocEventsForReplay(o){for(const f of o){if(f.type==="status-changed"){this.applyStatus(f.value.status),f.value.status==="attached"&&this.setActor(f.value.actorID);continue}if(f.type==="snapshot"){const{snapshot:v,serverSeq:A,snapshotVector:I}=f.value;if(!v)continue;this.applySnapshot(BigInt(A),Sn.hexToVersionVector(I),Sn.hexToBytes(v));continue}if(f.type==="local-change"||f.type==="remote-change"){if(!f.rawChange)continue;const v=aa.fromStruct(f.rawChange);this.applyChange(v,f.source)}if(f.type==="initialized"){const v=new Set;for(const{clientID:A,presence:I}of f.value)v.add(A),this.presences.set(A,I);this.setOnlineClients(v)}else if(f.type==="watched"){const{clientID:v,presence:A}=f.value;this.addOnlineClient(v),this.presences.set(v,A)}else if(f.type==="unwatched"){const{clientID:v}=f.value;this.removeOnlineClient(v),this.presences.delete(v)}else if(f.type==="presence-changed"){const{clientID:v,presence:A}=f.value;this.presences.set(v,A)}}}getValueByPath(o){if(!o.startsWith("$"))throw new Ee(ye.ErrInvalidArgument,'path must start with "$"');const f=o.split(".");f.shift();let v=this.getRoot();for(const A of f)if(v=v[A],!v)return;return v}setOnlineClients(o){this.onlineClients=o}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(o){this.onlineClients.add(o)}removeOnlineClient(o){this.onlineClients.delete(o)}hasPresence(o){return this.presences.has(o)}getMyPresence(){if(this.status!=="attached")return{};const o=this.presences.get(this.changeID.getActorID());return o?fi(o):{}}getOthersPresences(){const o=[],f=this.changeID.getActorID();for(const v of this.onlineClients)v!==f&&this.presences.has(v)&&o.push({clientID:v,presence:fi(this.presences.get(v))});return o}getPresence(o){if(o===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(o))return;const f=this.presences.get(o);return f?fi(f):void 0}getPresences(){const o=[];o.push({clientID:this.changeID.getActorID(),presence:fi(this.getMyPresence())});for(const f of this.onlineClients)this.presences.has(f)&&o.push({clientID:f,presence:fi(this.presences.get(f))});return o}getPresenceForTest(o){const f=this.presences.get(o);return f?fi(f):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const o=this.getChangeID().getActorID();return this.getPresences().filter(f=>f.clientID!==o).sort((f,v)=>f.clientID>v.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(o,f){if(f===o)return!0;const v=o.split(".");return f.split(".").every((A,I)=>A===v[I])}removePushedLocalChanges(o){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>o);)this.localChanges.shift()}executeUndoRedo(o){if(this.isUpdating)throw new Ee(ye.ErrRefused,`${o?"Undo":"Redo"} is not allowed during an update`);const f=o?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!f)throw new Ee(ye.ErrRefused,`There is no operation to be ${o?"undone":"redone"}`);this.ensureClone();const v=ha.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const ce of f){if(!(ce instanceof qr)){new p0(v,fi(this.clone.presences.get(this.changeID.getActorID()))).set(ce.value,{addToHistory:!0});continue}const Te=v.issueTimeTicket();if(ce.setExecutedAt(Te),ce instanceof gs){const Be=ce.getCreatedAt();ce.getValue().setCreatedAt(Te),this.internalHistory.reconcileCreatedAt(Be,Te)}else if(ce instanceof Bi){const Be=ce.getValue().getCreatedAt();ce.getValue().setCreatedAt(Te),this.internalHistory.reconcileCreatedAt(Be,Te)}v.push(ce)}const A=v.toChange();A.execute(this.clone.root,this.clone.presences,Pn.UndoRedo);const{opInfos:I,reverseOps:L}=A.execute(this.root,this.presences,Pn.UndoRedo),V=v.getReversePresence();if(V&&L.push({type:"presence",value:V}),L.length&&(o?this.internalHistory.pushRedo(L):this.internalHistory.pushUndo(L)),!A.hasPresenceChange()&&!I.length)return;this.localChanges.push(A),this.changeID=v.getNextID();const q=this.changeID.getActorID(),te=[];I.length&&te.push({type:"local-change",source:Pn.UndoRedo,value:{message:A.getMessage()||"",operations:I,actor:q,clientSeq:A.getID().getClientSeq(),serverSeq:A.getID().getServerSeq()},rawChange:this.isEnableDevtools()?A.toStruct():void 0}),A.hasPresenceChange()&&te.push({type:"presence-changed",source:Pn.UndoRedo,value:{clientID:q,presence:this.getPresence(q)}}),this.publish(te)}}class Ip{constructor(o,f,v,A){Y(this,"resource");Y(this,"resourceID");Y(this,"syncMode");Y(this,"changeEventReceived");Y(this,"lastHeartbeatTime");Y(this,"reconnectStreamDelay");Y(this,"cancelled");Y(this,"watchStream");Y(this,"watchLoopTimerID");Y(this,"watchAbortController");this.reconnectStreamDelay=o,this.resource=f,this.resourceID=v,this.syncMode=A,this.changeEventReceived=A!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(o){this.syncMode=o}needRealtimeSync(){return this.syncMode===ml.RealtimeSyncOff?!1:this.syncMode===ml.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==ml.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(o){return this.resource instanceof ba?this.needRealtimeSync():this.syncMode===ml.Manual?!1:Date.now()-this.lastHeartbeatTime>=o}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(o){const f=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await o(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(f,this.reconnectStreamDelay))})}catch{}};await f()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function Zx(h,o){let f=o;return{authInterceptor:I=>async L=>(h&&L.header.set("x-api-key",h),f&&L.header.set("authorization",f),await I(L)),setToken:I=>{f=I}}}const Op={name:"@yorkie-js/sdk",version:"0.6.48"};function v0(h){return o=>async f=>(h?f.header.set("x-yorkie-user-agent",h):f.header.set("x-yorkie-user-agent",Op.name+"/"+Op.version),await o(f))}const lA=h=>{try{if(JSON.stringify(h)===void 0)return!1}catch{return!1}return!0};var Yf=(h=>(h.Detached="detached",h.Attached="attached",h.Removed="removed",h))(Yf||{}),ko=(h=>(h.PresenceChanged="presence-changed",h.Initialized="initialized",h.Broadcast="broadcast",h.LocalBroadcast="local-broadcast",h.AuthError="auth-error",h))(ko||{});const qf=".";class Bo{constructor(o){Y(this,"key");Y(this,"status");Y(this,"actorID");Y(this,"sessionID");Y(this,"sessionCount");Y(this,"seq");Y(this,"eventStream");Y(this,"eventStreamObserver");this.validateChannelKey(o),this.key=o,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=Ss(f=>this.eventStreamObserver=f)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(qf)[0]}getStatus(){return this.status}applyStatus(o){this.status=o}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(o){this.actorID=o}getSessionID(){return this.sessionID}setSessionID(o){this.sessionID=o}getSessionCount(){return this.sessionCount}updateSessionCount(o,f){return f===0||f>this.seq?(this.sessionCount=o,this.seq=f,!0):!1}hasLocalChanges(){return!1}subscribe(o,f){if(typeof o=="function")return this.eventStream.subscribe(o);const v=o,A=f;if(!A)throw new Error("callback is required when subscribing to specific event type or topic");if(v==="broadcast")return this.eventStream.subscribe(L=>{L.type==="broadcast"&&A(L)});if(v==="local-broadcast")return this.eventStream.subscribe(L=>{L.type==="local-broadcast"&&A(L)});if(v==="auth-error")return this.eventStream.subscribe(L=>{L.type==="auth-error"&&A(L)});if(v==="presence")return this.eventStream.subscribe(L=>{(L.type==="presence-changed"||L.type==="initialized")&&A(L)});if(v==="all")return this.eventStream.subscribe(A);const I=v;return this.eventStream.subscribe(L=>{L.type==="broadcast"&&L.topic===I&&A(L)})}publish(o){this.eventStreamObserver&&this.eventStreamObserver.next(o)}broadcast(o,f,v){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:o,payload:f,options:v})}validateChannelKey(o){if(o==="")throw new Error("channel key must not be empty");if(o.includes(" "))throw new Error("channel key must not contain a whitespace");if(o.startsWith(qf))throw new Error("channel key must not start with a period");if(o.endsWith(qf))throw new Error("channel key must not end with a period");if(o.includes(`${qf}${qf}`))throw new Error("channel key path must not empty")}}function Ht(h,o,f){const{stream:v,ac:A,isInit:I,onResponse:L,onStreamEnd:V,onError:q,onDisconnect:te,shouldIgnoreError:ce}=h;return new Promise((Te,Be)=>{(async()=>{try{let $e=!1;for await(const We of v)L(We),!$e&&I(We)&&($e=!0,Te([v,A]));V(),te()}catch($e){if(ce&&ce($e))return;q($e),await o($e)?te():f(),Be($e)}})()})}var ml=(h=>(h.Manual="manual",h.Realtime="realtime",h.RealtimePushOnly="realtime-pushonly",h.RealtimeSyncOff="realtime-syncoff",h))(ml||{});const Es={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},Kf={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class y0{constructor(o){Y(this,"id");Y(this,"key");Y(this,"metadata");Y(this,"status");Y(this,"attachmentMap");Y(this,"apiKey");Y(this,"authTokenInjector");Y(this,"conditions");Y(this,"syncLoopDuration");Y(this,"reconnectStreamDelay");Y(this,"retrySyncLoopDelay");Y(this,"channelHeartbeatInterval");Y(this,"rpcClient");Y(this,"setAuthToken");Y(this,"taskQueue");Y(this,"processing",!1);Y(this,"keepalive",!1);o=o||Es;const f=o.rpcAddr||Es.rpcAddr;this.key=o.key||a0(),this.metadata=o.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=o.apiKey||"",this.authTokenInjector=o.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=o.syncLoopDuration??Es.syncLoopDuration,this.reconnectStreamDelay=o.reconnectStreamDelay??Es.reconnectStreamDelay,this.retrySyncLoopDelay=o.retrySyncLoopDelay??Es.retrySyncLoopDelay,this.channelHeartbeatInterval=o.channelHeartbeatInterval??Es.channelHeartbeatInterval;const{authInterceptor:v,setToken:A}=Zx(this.apiKey);this.setAuthToken=A,this.rpcClient=rl(wx,Rm({baseUrl:f,interceptors:[v,v0(o==null?void 0:o.userAgent)],fetch:(I,L)=>fetch(I,{...L,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const o=await this.authTokenInjector();this.setAuthToken(o)}return this.enqueueTask(async()=>{try{const o=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=o.clientId,this.status="activated",this.runSyncLoop(),Je.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(o){throw Je.error(`[AC] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}deactivate(o={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const f=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:o.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),Je.info(`[DC] c"${this.getKey()}" deactivated`)}catch(v){throw Je.error(`[DC] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}};if(o.keepalive){this.keepalive=!0;const v=f();return this.keepalive=!1,v}return this.enqueueTask(f)}has(o){return this.attachmentMap.has(o)}attach(o,f){return o instanceof Bo?this.attachChannel(o,f):this.attachDocument(o,f)}attachDocument(o,f={}){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);if(o.getStatus()!==As.Detached)throw new Ee(ye.ErrNotDetached,`${o.getKey()} is not detached`);o.setActor(this.id),o.update((A,I)=>I.set(f.initialPresence||{}));const v=f.syncMode??"realtime";return this.enqueueTask(async()=>{try{const A=await this.rpcClient.attachDocument({clientId:this.id,changePack:Sn.toChangePack(o.createChangePack()),schemaKey:f.schema},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});(A.maxSizePerDocument??0)>0&&o.setMaxSizePerDocument(A.maxSizePerDocument),A.schemaRules.length>0&&o.setSchemaRules(Sn.fromSchemaRules(A.schemaRules));const L=Sn.fromChangePack(A.changePack);if(o.applyChangePack(L),o.getStatus()===As.Removed)return o;o.applyStatus(As.Attached),this.attachmentMap.set(o.getKey(),new Ip(this.reconnectStreamDelay,o,A.documentId,v)),v!=="manual"&&await this.runWatchLoop(o.getKey()),Je.info(`[AD] c:"${this.getKey()}" attaches d:"${o.getKey()}"`);const V=o.getRootObject();if(f.initialRoot){const q=f.initialRoot;o.update(te=>{for(const[ce,Te]of Object.entries(q))if(!V.has(ce)){const Be=ce;te[Be]=Te}})}return o}catch(A){throw Je.error(`[AD] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}})}detach(o,f){return o instanceof Bo?this.detachChannel(o):this.detachDocument(o,f)}detachDocument(o,f={keepalive:!1}){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);o.update((I,L)=>L.clear());const A=async()=>{try{const I=await this.rpcClient.detachDocument({clientId:this.id,documentId:v.resourceID,changePack:Sn.toChangePack(o.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),L=Sn.fromChangePack(I.changePack);return o.applyChangePack(L),o.getStatus()!==As.Removed&&o.applyStatus(As.Detached),this.detachInternal(o.getKey()),Je.info(`[DD] c:"${this.getKey()}" detaches d:"${o.getKey()}"`),o}catch(I){throw Je.error(`[DD] c:"${this.getKey()}" err :`,I),await this.handleConnectError(I),I}};if(f.keepalive){this.keepalive=!0;const I=A();return this.keepalive=!1,I}return this.enqueueTask(A)}async attachChannel(o,f={}){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);if(o.getStatus()!==Yf.Detached)throw new Ee(ye.ErrNotDetached,`${o.getKey()} is not detached`);o.setActor(this.id);const v=async()=>{try{const A=await this.rpcClient.attachChannel({clientId:this.id,channelKey:o.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${o.getFirstKeyPath()}`}});o.setSessionID(A.sessionId),o.updateSessionCount(Number(A.sessionCount),0),o.applyStatus(Yf.Attached);const I=f.isRealtime!==!1?"realtime":"manual",L=new Ip(this.reconnectStreamDelay,o,A.sessionId,I);return o.subscribe("local-broadcast",V=>{const{topic:q,payload:te,options:ce}=V;this.broadcast(o.getKey(),q,te,ce).catch(Te=>{ce!=null&&ce.error&&ce.error(Te),Je.error(`[BC] c:"${this.getKey()}" failed: ${Te}`)})}),this.attachmentMap.set(o.getKey(),L),I==="realtime"&&await this.runWatchLoop(o.getKey()),Je.info(`[AP] c:"${this.getKey()}" attaches p:"${o.getKey()}" mode:${I} count:${o.getSessionCount()}`),o}catch(A){throw Je.error(`[AP] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}};return this.enqueueTask(v)}async detachChannel(o){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(o.getKey()))throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const f=async()=>{try{const v=await this.rpcClient.detachChannel({clientId:this.id,channelKey:o.getKey(),sessionId:o.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${o.getFirstKeyPath()}`}});return o.updateSessionCount(Number(v.sessionCount),0),o.applyStatus(Yf.Detached),this.detachInternal(o.getKey()),Je.info(`[DP] c:"${this.getKey()}" detaches p:"${o.getKey()}" count:${o.getSessionCount()}`),o}catch(v){throw Je.error(`[DP] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}};return this.enqueueTask(f)}async changeSyncMode(o,f){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const A=v.syncMode;return A===f?o:(v.changeSyncMode(f),f==="manual"?(v.cancelWatchStream(),o):(f==="realtime"&&(v.changeEventReceived=!0),A==="manual"&&await this.runWatchLoop(o.getKey()),o))}sync(o){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);if(o instanceof Bo){const f=this.attachmentMap.get(o.getKey());if(!f)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(f).catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}))}if(o instanceof ba){const f=this.attachmentMap.get(o.getKey());if(!f)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(f,"realtime").catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v}))}return this.enqueueTask(async()=>{const f=[];for(const[,v]of this.attachmentMap)v.syncMode!==void 0&&v.resource instanceof ba&&f.push(this.syncInternal(v,v.syncMode));return Promise.all(f).catch(async v=>{throw Je.error(`[SY] c:"${this.getKey()}" err :`,v),await this.handleConnectError(v),v})})}remove(o){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const f=this.attachmentMap.get(o.getKey());if(!f)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);o.setActor(this.id);const v=Sn.toChangePack(o.createChangePack());return v.isRemoved=!0,this.enqueueTask(async()=>{try{const A=await this.rpcClient.removeDocument({clientId:this.id,documentId:f.resourceID,changePack:v},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),I=Sn.fromChangePack(A.changePack);o.applyChangePack(I),this.detachInternal(o.getKey()),Je.info(`[RD] c:"${this.getKey()}" removes d:"${o.getKey()}"`)}catch(A){throw Je.error(`[RD] c:"${this.getKey()}" err :`,A),await this.handleConnectError(A),A}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(o){return this.conditions[o]}async createRevision(o,f,v){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const A=this.attachmentMap.get(o.getKey());if(!A)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const I=async()=>{try{const L=await this.rpcClient.createRevision({clientId:this.id,documentId:A.resourceID,label:f,description:v||""},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});if(!L.revision)throw new Ee(ye.ErrInvalidArgument,"revision is not returned");return Je.info(`[CR] c:"${this.getKey()}" creates revision d:"${o.getKey()}" l:"${f}"`),Sn.toRevisionSummary(L.revision)}catch(L){throw Je.error(`[CR] c:"${this.getKey()}" err :`,L),await this.handleConnectError(L),L}};return this.enqueueTask(I)}async listRevisions(o,f){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const A=async()=>{try{const I=await this.rpcClient.listRevisions({clientId:this.id,documentId:v.resourceID,pageSize:(f==null?void 0:f.pageSize)||10,offset:(f==null?void 0:f.offset)||0,isForward:(f==null?void 0:f.isForward)??!1},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});return Je.info(`[LR] c:"${this.getKey()}" lists revisions d:"${o.getKey()}" count:${I.revisions.length}`),I.revisions.map(Sn.toRevisionSummary)}catch(I){throw Je.error(`[LR] c:"${this.getKey()}" err :`,I),await this.handleConnectError(I),I}};return this.enqueueTask(A)}async getRevision(o,f){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const A=async()=>{try{const I=await this.rpcClient.getRevision({clientId:this.id,documentId:v.resourceID,revisionId:f},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}});if(!I.revision)throw new Ee(ye.ErrInvalidArgument,"revision is not returned");return Je.info(`[GR] c:"${this.getKey()}" gets revision d:"${o.getKey()}" r:"${f}"`),Sn.toRevisionSummary(I.revision)}catch(I){throw Je.error(`[GR] c:"${this.getKey()}" err :`,I),await this.handleConnectError(I),I}};return this.enqueueTask(A)}async restoreRevision(o,f){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const v=this.attachmentMap.get(o.getKey());if(!v)throw new Ee(ye.ErrNotAttached,`${o.getKey()} is not attached`);const A=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:v.resourceID,revisionId:f},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),Je.info(`[RR] c:"${this.getKey()}" restores revision d:"${o.getKey()}" r:"${f}"`)}catch(I){throw Je.error(`[RR] c:"${this.getKey()}" err :`,I),await this.handleConnectError(I),I}};return this.enqueueTask(A)}async broadcast(o,f,v,A){if(!this.isActive())throw new Ee(ye.ErrClientNotActivated,`${this.key} is not active`);const I=this.attachmentMap.get(o);if(!I)throw new Ee(ye.ErrNotAttached,`${o} is not attached`);if(!lA(v))throw new Ee(ye.ErrInvalidArgument,"payload is not serializable");const L=I.resource,V=(A==null?void 0:A.maxRetries)??Kf.maxRetries,q=Kf.maxBackoff;let te=0;const ce=Be=>Math.min(Kf.initialRetryInterval*2**Be,q),Te=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:o,topic:f,payload:new TextEncoder().encode(JSON.stringify(v))},{headers:{"x-shard-key":`${this.apiKey}/${L.getFirstKeyPath()}`}}),Je.info(`[BC] c:"${this.getKey()}" broadcasts p:"${o}" t:"${f}"`)}catch(Be){if(Je.error(`[BC] c:"${this.getKey()}" err:`,Be),await this.handleConnectError(Be))if(Io(Be,ye.ErrUnauthenticated)&&I.resource instanceof Bo&&I.resource.publish({type:ko.AuthError,reason:Tr(Be).reason||"unauthenticated",method:"Broadcast"}),te<V)te++,setTimeout(()=>Te(),ce(te-1)),Je.info(`[BC] c:"${this.getKey()}" retry attempt ${te}/${V}`);else throw Je.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),Be}});return Te()}runSyncLoop(){const o=async()=>{if(!this.isActive()){Je.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const f=[];for(const[,v]of this.attachmentMap)v.needSync(this.channelHeartbeatInterval)&&(v.changeEventReceived!==void 0&&(v.changeEventReceived=!1),f.push(this.syncInternal(v,v.syncMode).catch(A=>{throw Io(A,ye.ErrUnauthenticated)&&v.resource.publish([{type:Nr.AuthError,value:{reason:Tr(A).reason,method:"PushPull"}}]),A})));await Promise.all(f),setTimeout(o,this.syncLoopDuration)})}catch(f){Je.error(`[SL] c:"${this.getKey()}" sync failed:`,f),await this.handleConnectError(f)?setTimeout(o,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};Je.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,o()}async runWatchLoop(o){const f=this.attachmentMap.get(o);if(!f)throw new Ee(ye.ErrNotAttached,`${o} is not attached`);return this.conditions.WatchLoop=!0,f.runWatchLoop(v=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new Ee(ye.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(o))return this.conditions.WatchLoop=!1,Promise.reject(new Ee(ye.ErrNotAttached,`${o} is not attached`));const A=new AbortController;return f.resource instanceof ba?this.createDocumentWatchStream(f,o,A,v):f.resource instanceof Bo?this.createChannelWatchStream(f,o,A,v):Promise.reject(new Ee(ye.ErrClientNotActivated,`Unknown resource type for ${o}`))})}createDocumentWatchStream(o,f,v,A){const I=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"document",value:{documentId:o.resourceID}}}]},{headers:{"x-shard-key":`${this.apiKey}/${f}`},signal:v.signal});o.resource.publish([{type:Nr.ConnectionChanged,value:xc.Connected}]),Je.info(`[WD] c:"${this.getKey()}" watches d:"${f}"`),o.changeEventReceived!==void 0&&(o.changeEventReceived=!0);const L=()=>{o.resource.resetOnlineClients(),o.resource.publish([{type:Nr.Initialized,source:Pn.Local,value:o.resource.getPresences()}]),o.resource.publish([{type:Nr.ConnectionChanged,value:xc.Disconnected}])};return Ht({stream:I,ac:v,isInit:V=>V.body.case==="initialization",onResponse:V=>this.handleWatchDocumentResponse(o,V),onStreamEnd:()=>{L(),Je.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`)},onError:V=>{L(),Je.debug(`[WD] c:"${this.getKey()}" unwatches`),Io(V,ye.ErrUnauthenticated)&&o.resource.publish([{type:Nr.AuthError,value:{reason:Tr(V).reason,method:"Watch"}}])},onDisconnect:A},V=>this.handleConnectError(V),()=>{this.conditions.WatchLoop=!1})}createChannelWatchStream(o,f,v,A){const I=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"channel",value:{channelKey:f}}}]},{headers:{"x-shard-key":`${this.apiKey}/${o.resource.getFirstKeyPath()}`},signal:v.signal});return Je.info(`[WP] c:"${this.getKey()}" watches p:"${f}"`),Ht({stream:I,ac:v,isInit:L=>L.body.case==="initialization",onResponse:L=>this.handleWatchChannelResponse(o,L),onStreamEnd:()=>{Je.debug(`[WP] c:"${this.getKey()}" p:"${f}" stream ended`)},onError:L=>{Je.debug(`[WP] c:"${this.getKey()}" p:"${f}" err:`,L)},onDisconnect:A,shouldIgnoreError:L=>L instanceof Error&&L.name==="AbortError"?(Je.debug(`[WP] c:"${this.getKey()}" p:"${f}" stream aborted`),!0):!1},L=>this.handleConnectError(L),()=>{this.conditions.WatchLoop=!1})}handleWatchChannelResponse(o,f){const v=o.resource;if(f.body.case==="initialization"){for(const A of f.body.value.resourceInits)if(A.init.case==="channelInit"){const{sessionCount:I,seq:L}=A.init.value;v.updateSessionCount(Number(I),Number(L))&&v.publish({type:ko.Initialized,count:Number(I)})}return}if(f.body.case==="event"){const A=f.body.value;if(A.event.case==="channelEvent"){const I=A.event.value.event;if(!I)return;if(I.type===Fm.BROADCAST){const L=new TextDecoder;try{const V=JSON.parse(L.decode(I.payload));v.publish({type:ko.Broadcast,clientID:I.publisher,topic:I.topic,payload:V})}catch(V){Je.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,V)}return}v.updateSessionCount(Number(I.sessionCount),Number(I.seq))&&v.publish({type:ko.PresenceChanged,count:Number(I.sessionCount)})}}}handleWatchDocumentResponse(o,f){var v;if(f.body.case==="initialization"){for(const A of f.body.value.resourceInits)A.init.case==="documentInit"&&o.resource.applyWatchInit(A.init.value.clientIds);return}if(f.body.case==="event"){const A=f.body.value;if(A.event.case==="docEvent"){const I=A.event.value;if(((v=I.event)==null?void 0:v.type)===jf.DOCUMENT_CHANGED){o.changeEventReceived!==void 0&&(o.changeEventReceived=!0);return}I.event&&o.resource.applyDocEvent(I.event.type,I.event.publisher)}}}deactivateInternal(){this.status="deactivated";for(const[o,f]of this.attachmentMap)this.detachInternal(o),f.resource instanceof ba?f.resource.applyStatus(As.Detached):f.resource instanceof Bo&&f.resource.applyStatus(Yf.Detached)}detachInternal(o){const f=this.attachmentMap.get(o);f&&(f.cancelWatchStream(),f.resource instanceof ba&&f.resource.resetOnlineClients(),this.attachmentMap.delete(o))}async syncInternal(o,f){const{resource:v}=o;if(v instanceof Bo){try{const V=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:v.getKey(),sessionId:v.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${v.getFirstKeyPath()}`}});v.updateSessionCount(Number(V.sessionCount),0),o.updateHeartbeatTime(),Je.debug(`[RP] c:"${this.getKey()}" refreshes p:"${v.getKey()}" mode:${o.syncMode}`)}catch(V){throw Je.error(`[RP] c:"${this.getKey()}" err :`,V),V}return v}const A=v,{resourceID:I}=o,L=A.createChangePack();try{const V=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:I,changePack:Sn.toChangePack(L),pushOnly:f==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${A.getKey()}`}}),q=Sn.fromChangePack(V.changePack);if(q.hasChanges()&&(o.syncMode==="realtime-pushonly"||o.syncMode==="realtime-syncoff"))return A;A.applyChangePack(q),o.resource.publish([{type:Nr.SyncStatusChanged,value:_p.Synced}]),A.getStatus()===As.Removed&&this.detachInternal(A.getKey());const te=A.getKey(),ce=q.getChangeSize();return Je.info(`[PP] c:"${this.getKey()}" sync d:"${te}", push:${L.getChangeSize()} pull:${ce} cp:${q.getCheckpoint().toTestString()}`),A}catch(V){throw A.publish([{type:Nr.SyncStatusChanged,value:_p.SyncFailed}]),Je.error(`[PP] c:"${this.getKey()}" err :`,V),V}}async handleConnectError(o){if(!(o instanceof Kt))return!1;if(o.code===l.Canceled||o.code===l.Unknown||o.code===l.ResourceExhausted||o.code===l.Unavailable)return!0;if(hl(o)===ye.ErrUnauthenticated){if(this.authTokenInjector){const f=await this.authTokenInjector(Tr(o).reason);this.setAuthToken(f)}return!0}return hl(o)===ye.ErrTooManySubscribers?(Je.error(`[WD] c:"${this.getKey()}" err :`,o.rawMessage),!0):(hl(o)===ye.ErrTooManyAttachments||(hl(o)===ye.ErrClientNotActivated||hl(o)===ye.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(o){return new Promise((f,v)=>{this.taskQueue.push(()=>o().then(f).catch(v)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{Je.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function Dp(h){return typeof h=="object"&&h!==null&&h.type==="Text"&&Array.isArray(h.nodes)}function bc(h){return typeof h=="object"&&h!==null&&h.type==="Tree"&&typeof h.root=="object"}function Xf(h){return typeof h=="object"&&h!==null&&h.type==="Int"&&typeof h.value=="number"}function vl(h){return typeof h=="object"&&h!==null&&h.type==="Long"&&typeof h.value=="number"}function x0(h){return typeof h=="object"&&h!==null&&h.type==="Date"&&typeof h.value=="string"}function Jx(h){return typeof h=="object"&&h!==null&&h.type==="BinData"&&typeof h.value=="string"}function Qx(h){return typeof h=="object"&&h!==null&&h.type==="Counter"&&typeof h.value=="object"}function eb(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)&&!Dp(h)&&!bc(h)&&!Xf(h)&&!vl(h)&&!x0(h)&&!Jx(h)&&!Qx(h)}function tb(h){try{const o=Mp(h),f=JSON.parse(o);return hn(f)}catch(o){throw new Ee(ye.ErrInvalidArgument,`Failed to parse YSON: ${o instanceof Error?o.message:String(o)}`)}}function Mp(h){let o=h;return o=o.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(f,v,A)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${v}","__yson_data":${A}}}`),o=o.replace(/Int\((-?\d+)\)/g,(f,v)=>`{"__yson_type":"Int","__yson_data":${v}}`),o=o.replace(/Long\((-?\d+)\)/g,(f,v)=>`{"__yson_type":"Long","__yson_data":${v}}`),o=o.replace(/Date\("([^"]*)"\)/g,(f,v)=>`{"__yson_type":"Date","__yson_data":"${v}"}`),o=o.replace(/BinData\("([^"]*)"\)/g,(f,v)=>`{"__yson_type":"BinData","__yson_data":"${v}"}`),o=o.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(f,v)=>`{"__yson_type":"Text","__yson_data":${v}}`),o=o.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(f,v)=>`{"__yson_type":"Tree","__yson_data":${v}}`),o}function hn(h){if(h===null||typeof h!="object")return h;if(h.__yson_type==="Int"&&typeof h.__yson_data=="number")return{type:"Int",value:h.__yson_data};if(h.__yson_type==="Long"&&typeof h.__yson_data=="number")return{type:"Long",value:h.__yson_data};if(h.__yson_type==="Date"&&typeof h.__yson_data=="string")return{type:"Date",value:h.__yson_data};if(h.__yson_type==="BinData"&&typeof h.__yson_data=="string")return{type:"BinData",value:h.__yson_data};if(h.__yson_type==="Counter"&&typeof h.__yson_data=="object"){const f=hn(h.__yson_data);if(typeof f=="object"&&f!==null&&"type"in f&&(f.type==="Int"||f.type==="Long"))return{type:"Counter",value:f};throw new Ee(ye.ErrInvalidArgument,"Counter must contain Int or Long")}if(h.__yson_type==="Text"&&Array.isArray(h.__yson_data))return{type:"Text",nodes:h.__yson_data.map(f=>b0(f))};if(h.__yson_type==="Tree"&&typeof h.__yson_data=="object")return{type:"Tree",root:br(h.__yson_data)};if(Array.isArray(h))return h.map(f=>hn(f));const o={};for(const[f,v]of Object.entries(h))o[f]=hn(v);return o}function b0(h){if(typeof h!="object"||h===null||typeof h.val!="string")throw new Ee(ye.ErrInvalidArgument,"invalid text node format");const o={val:h.val};return h.attrs&&typeof h.attrs=="object"&&(o.attrs=h.attrs),o}function br(h){if(typeof h!="object"||h===null||typeof h.type!="string")throw new Ee(ye.ErrInvalidArgument,"invalid tree node format");const o={type:h.type};return h.type==="text"&&typeof h.value=="string"?(o.value=h.value,o):(h.attrs&&typeof h.attrs=="object"&&(o.attrs=h.attrs),Array.isArray(h.children)&&(o.children=h.children.map(f=>br(f))),o)}function uA(h){return h.nodes.map(o=>o.val).join("")}function S0(h){return Pp(h.root)}function Pp(h){const o=h.attrs?Object.entries(h.attrs).map(([v,A])=>` ${v}="${Zf(A)}"`).join(""):"";if(h.type==="text"&&h.value!==void 0)return`<${h.type}${o}>${Zf(h.value)}</${h.type}>`;if(!h.children||h.children.length===0)return`<${h.type}${o} />`;const f=h.children.map(v=>Pp(v)).join("");return`<${h.type}${o}>${f}</${h.type}>`}function Zf(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const nb=Object.freeze(Object.defineProperty({__proto__:null,isBinData:Jx,isCounter:Qx,isDate:x0,isInt:Xf,isLong:vl,isObject:eb,isText:Dp,isTree:bc,parse:tb,textToString:uA,treeToXML:S0},Symbol.toStringTag,{value:"Module"}));Ci.Int,Ci.Long,typeof globalThis<"u"&&(globalThis.yorkie={Client:y0,Document:ba,Primitive:Vn,Text:Wf,Counter:u0,Tree:Rp,Channel:Bo,ChannelEventType:ko,YSON:nb,LogLevel:zr,setLogLevel:Hx,IntType:Ci.Int,LongType:Ci.Long});const Sc={name:"@yorkie-js/react",version:"0.6.48"},ib=s.createContext({client:void 0,loading:!0,error:void 0});function A0(h){const[o,f]=s.useState(void 0),[v,A]=s.useState(!0),[I,L]=s.useState(void 0),[V,q]=s.useState(!1);return s.useEffect(()=>{q(!0)},[]),s.useEffect(()=>{A(!0),L(void 0);async function te(){if(V)try{const ce=new y0(h);await ce.activate(),f(ce)}catch(ce){L(ce instanceof Error?ce:new Error("Failed to activate client"))}finally{A(!1)}}return te(),()=>{o!=null&&o.isActive()&&o.deactivate({keepalive:!0})}},[h.apiKey,h.rpcAddr,V]),{client:o,loading:v,error:I}}const fA=({children:h,...o})=>{const f=s.useMemo(()=>({userAgent:Sc.name+"/"+Sc.version,...o}),[o.apiKey,o.rpcAddr]),{client:v,loading:A,error:I}=A0(f);return i.jsx(ib.Provider,{value:{client:v,loading:A,error:I},children:h})},E0=()=>{const h=s.useContext(ib);if(!h)throw new Error("useYorkie must be used under YorkieProvider");return{client:h.client,loading:h.loading,error:h.error}};function ob(h){const o=new Set;let f=h;const v=()=>{o.forEach(q=>q(f))};return{subscribe:q=>(o.add(q),()=>o.delete(q)),getSnapshot:()=>f,setState:q=>{const te=f;f=typeof q=="function"?q(te):q,te!==f&&v()},destroy:()=>{o.clear()}}}const sb=h=>ob(h);function _r(h,o,f=Object.is){const v=s.useRef(o),A=s.useRef(f),I=s.useRef(void 0);v.current=o,A.current=f;const L=()=>{const V=h.getSnapshot(),q=v.current?v.current(V):V;return I.current!==void 0&&A.current(I.current,q)?I.current:(I.current=q,q)};return s.useSyncExternalStore(h.subscribe,L,L)}function C0(h){return h!=null&&typeof h[Symbol.iterator]=="function"}function Lp(h){return"entries"in h&&typeof h.entries=="function"}function dA(h,o){const f=h instanceof Map?h:new Map(h.entries()),v=o instanceof Map?o:new Map(o.entries());if(f.size!==v.size)return!1;for(const[A,I]of f)if(!v.has(A)||!Object.is(I,v.get(A)))return!1;return!0}function hA(h,o){const f=h[Symbol.iterator](),v=o[Symbol.iterator]();let A=f.next(),I=v.next();for(;!A.done&&!I.done;){if(!Object.is(A.value,I.value))return!1;A=f.next(),I=v.next()}return A.done===I.done}function w0(h,o){const f=Object.keys(h),v=Object.keys(o);if(f.length!==v.length)return!1;for(const A of f)if(!Object.prototype.hasOwnProperty.call(o,A)||!Object.is(h[A],o[A]))return!1;return!0}function ab(h,o){if(Object.is(h,o))return!0;if(typeof h!="object"||h===null||typeof o!="object"||o===null||Object.getPrototypeOf(h)!==Object.getPrototypeOf(o))return!1;const f=C0(h),v=C0(o);return f!==v?!1:f&&v?Lp(h)&&Lp(o)?dA(h,o):hA(h,o):w0(h,o)}function Hi(h,o,f,v,A,I,L,V){const q=s.useRef(A),te=s.useRef(I),[ce,Te]=s.useState(!1);s.useEffect(()=>{Te(!0)},[]),s.useEffect(()=>{if(f){V.setState(We=>({...We,loading:!1,error:f}));return}if(!h||o||!ce){V.setState(We=>({...We,loading:!0}));return}V.setState(We=>({...We,loading:!0,error:void 0}));const Be=new ba(v,{enableDevtools:L}),Ne=[];Ne.push(Be.subscribe(()=>{V.setState(We=>({...We,root:Be.getRoot()}))})),Ne.push(Be.subscribe("presence",()=>{V.setState(We=>({...We,presences:Be.getPresences()}))})),Ne.push(Be.subscribe("connection",We=>{V.setState(st=>({...st,connection:We.value}))}));async function $e(){try{await(h==null?void 0:h.attach(Be,{initialRoot:q.current,initialPresence:te.current}));const We=st=>{try{Be.update(st)}catch(Ct){V.setState(sn=>({...sn,error:Ct instanceof Error?Ct:new Error("Failed to update document")}))}};V.setState(st=>({...st,doc:Be,root:Be.getRoot(),presences:Be.getPresences(),update:We}))}catch(We){V.setState(st=>({...st,error:We instanceof Error?We:new Error("Failed to attach document")}))}finally{V.setState(We=>({...We,loading:!1}))}}return $e(),()=>{h&&h.has(v)&&h.detach(Be);for(const We of Ne)We()}},[h,o,f,v,V,ce])}const Ac=s.createContext(void 0),lb=({docKey:h,initialRoot:o={},initialPresence:f={},enableDevtools:v=!1,children:A})=>{const{client:I,loading:L,error:V}=E0(),q=s.useRef(void 0);q.current||(q.current=sb({doc:void 0,root:o,presences:[],connection:xc.Disconnected,update:()=>{},loading:!0,error:void 0}));const te=q.current;return Hi(I,L,V,h,o,f,v,te),i.jsx(Ac.Provider,{value:te,children:A})};function ub(){const h=s.useContext(Ac);if(!h)throw new Error("useDocument must be used within a DocumentProvider");return _r(h)}const Jf=()=>(h,o=ab)=>{const f=s.useContext(Ac);if(!f)throw new Error("useDocument must be used within a DocumentProvider");return _r(f,h,o)},Wi=()=>{const h=fo("useRoot");return{root:_r(h,f=>f.root)}},cb=()=>{const h=fo("usePresences");return _r(h,o=>o.presences)},Fp=()=>{const h=fo("useConnection");return _r(h,o=>o.connection)},fo=h=>{const o=s.useContext(Ac);if(!o)throw new Error(`${h} must be used within a DocumentProvider`);return o};function pA(h,o,f){const v=s.useRef(void 0);v.current||(v.current=sb({doc:void 0,root:(f==null?void 0:f.initialRoot)??{},presences:[],connection:xc.Disconnected,update:()=>{},loading:!0,error:void 0}));const A=v.current,I=s.useMemo(()=>({apiKey:h,userAgent:Sc.name+"/"+Sc.version,...f}),[h,f]),{client:L,loading:V,error:q}=A0(I);Hi(L,V,q,o,(f==null?void 0:f.initialRoot)??{},(f==null?void 0:f.initialPresence)??{},(f==null?void 0:f.enableDevtools)??!1,A);const te=_r(A);return{root:te.root,presences:te.presences,connection:te.connection,update:te.update,loading:te.loading,error:te.error}}function gA(h){return ob(h)}const yl=s.createContext(void 0);function fb(h,o,f,v,A,I){const L=s.useRef(void 0),[V,q]=s.useState(!1);s.useEffect(()=>{q(!0)},[]),s.useEffect(()=>{if(!V||o||f||!h){f&&I.setState(Te=>({...Te,error:f,loading:!1}));return}let te;async function ce(){if(!(!h||!h.isActive())){I.setState(Te=>({...Te,loading:!0,error:void 0}));try{const Te=new Bo(v);await h.attach(Te,{isRealtime:A}),L.current=Te,te=Te.subscribe(()=>{I.setState(Be=>({...Be,sessionCount:Te.getSessionCount()}))}),I.setState({channel:Te,sessionCount:Te.getSessionCount(),loading:!1,error:void 0})}catch(Te){I.setState(Be=>({...Be,loading:!1,error:Te instanceof Error?Te:new Error("Failed to attach channel")}))}}}return ce(),()=>{te&&te();async function Te(){if(L.current&&(h!=null&&h.isActive()))try{await h.detach(L.current)}catch(Be){console.error("Failed to detach channel:",Be)}}Te()}},[h,o,f,v,A,V])}const mA=({children:h,channelKey:o,isRealtime:f=!0})=>{const{client:v,loading:A,error:I}=E0(),L=s.useRef(void 0);L.current||(L.current=gA({channel:void 0,sessionCount:0,loading:!0,error:void 0}));const V=L.current;return fb(v,A,I,o,f,V),i.jsx(yl.Provider,{value:V,children:h})},db=h=>{const o=s.useContext(yl);if(!o)throw new Error(`${h} must be used within ChannelProvider`);return o},vA=()=>{const h=db("useChannel"),o=_r(h,A=>A.sessionCount),f=_r(h,A=>A.loading),v=_r(h,A=>A.error);return{sessionCount:o,loading:f,error:v}},yA=()=>{const h=db("useChannelSessionCount");return _r(h,o=>o.sessionCount)};r.ChannelProvider=mA,r.DocumentProvider=lb,r.YorkieProvider=fA,r.createDocumentSelector=Jf,r.shallowEqual=ab,r.useChannel=vA,r.useChannelSessionCount=yA,r.useConnection=Fp,r.useDocument=ub,r.usePresences=cb,r.useRoot=Wi,r.useYorkieDoc=pA,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})})}(fv,fv.exports)),fv.exports}var La=K$();const Mu=()=>O.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]","aria-live":"polite",children:[O.jsx(hM,{className:"h-8 w-8 animate-spin text-primary"}),O.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading..."})]}),tE=768;function X$(){const[e,t]=P.useState(void 0);return P.useEffect(()=>{const n=window.matchMedia(`(max-width: ${tE-1}px)`),r=()=>{t(window.innerWidth<tE)};return n.addEventListener("change",r),t(window.innerWidth<tE),()=>n.removeEventListener("change",r)},[]),!!e}var Z$="Separator",vN="horizontal",J$=["horizontal","vertical"],zL=P.forwardRef((e,t)=>{const{decorative:n,orientation:r=vN,...i}=e,s=Q$(r)?r:vN,u=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return O.jsx(Yt.div,{"data-orientation":s,...u,...i,ref:t})});zL.displayName=Z$;function Q$(e){return J$.includes(e)}var e8=zL;function $p({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return O.jsx(e8,{"data-slot":"separator-root",decorative:n,orientation:t,className:St("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function t8({...e}){return O.jsx(AP,{"data-slot":"sheet",...e})}function n8({...e}){return O.jsx(EP,{"data-slot":"sheet-portal",...e})}function r8({className:e,...t}){return O.jsx(CP,{"data-slot":"sheet-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function i8({className:e,children:t,side:n="right",...r}){return O.jsxs(n8,{children:[O.jsx(r8,{}),O.jsxs(wP,{"data-slot":"sheet-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,O.jsxs(NP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[O.jsx(vM,{className:"size-4"}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function o8({className:e,...t}){return O.jsx("div",{"data-slot":"sheet-header",className:St("flex flex-col gap-1.5 p-4",e),...t})}function s8({className:e,...t}){return O.jsx(RP,{"data-slot":"sheet-title",className:St("text-foreground font-semibold",e),...t})}function a8({className:e,...t}){return O.jsx(TP,{"data-slot":"sheet-description",className:St("text-muted-foreground text-sm",e),...t})}var l8="VisuallyHidden",eR=P.forwardRef((e,t)=>O.jsx(Yt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));eR.displayName=l8;var u8=eR,[qS,gJ]=ja("Tooltip",[Ng]),KS=Ng(),UL="TooltipProvider",c8=700,Iw="tooltip.open",[f8,tR]=qS(UL),VL=e=>{const{__scopeTooltip:t,delayDuration:n=c8,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,l=P.useRef(!0),u=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const g=c.current;return()=>window.clearTimeout(g)},[]),O.jsx(f8,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:P.useCallback(g=>{u.current=g},[]),disableHoverableContent:i,children:s})};VL.displayName=UL;var XS="Tooltip",[d8,Qv]=qS(XS),GL=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:l,delayDuration:u}=e,c=tR(XS,e.__scopeTooltip),g=KS(t),[p,m]=P.useState(null),x=Oa(),b=P.useRef(0),E=l??c.disableHoverableContent,w=u??c.delayDuration,C=P.useRef(!1),[R=!1,T]=vh({prop:r,defaultProp:i,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(Iw))):c.onClose(),s==null||s(j)}}),_=P.useMemo(()=>R?C.current?"delayed-open":"instant-open":"closed",[R]),D=P.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C.current=!1,T(!0)},[T]),F=P.useCallback(()=>{window.clearTimeout(b.current),b.current=0,T(!1)},[T]),B=P.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{C.current=!0,T(!0),b.current=0},w)},[w,T]);return P.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),O.jsx(V2,{...g,children:O.jsx(d8,{scope:t,contentId:x,open:R,stateAttribute:_,trigger:p,onTriggerChange:m,onTriggerEnter:P.useCallback(()=>{c.isOpenDelayedRef.current?B():D()},[c.isOpenDelayedRef,B,D]),onTriggerLeave:P.useCallback(()=>{E?F():(window.clearTimeout(b.current),b.current=0)},[F,E]),onOpen:D,onClose:F,disableHoverableContent:E,children:n})})};GL.displayName=XS;var Ow="TooltipTrigger",$L=P.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Qv(Ow,n),s=tR(Ow,n),l=KS(n),u=P.useRef(null),c=Cn(t,u,i.onTriggerChange),g=P.useRef(!1),p=P.useRef(!1),m=P.useCallback(()=>g.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),O.jsx(G2,{asChild:!0,...l,children:O.jsx(Yt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:dt(e.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{i.open&&i.onClose(),g.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:dt(e.onFocus,()=>{g.current||i.onOpen()}),onBlur:dt(e.onBlur,i.onClose),onClick:dt(e.onClick,i.onClose)})})});$L.displayName=Ow;var nR="TooltipPortal",[h8,p8]=qS(nR,{forceMount:void 0}),HL=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,s=Qv(nR,t);return O.jsx(h8,{scope:t,forceMount:n,children:O.jsx(za,{present:n||s.open,children:O.jsx($v,{asChild:!0,container:i,children:r})})})};HL.displayName=nR;var pg="TooltipContent",WL=P.forwardRef((e,t)=>{const n=p8(pg,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,l=Qv(pg,e.__scopeTooltip);return O.jsx(za,{present:r||l.open,children:l.disableHoverableContent?O.jsx(YL,{side:i,...s,ref:t}):O.jsx(g8,{side:i,...s,ref:t})})}),g8=P.forwardRef((e,t)=>{const n=Qv(pg,e.__scopeTooltip),r=tR(pg,e.__scopeTooltip),i=P.useRef(null),s=Cn(t,i),[l,u]=P.useState(null),{trigger:c,onClose:g}=n,p=i.current,{onPointerInTransitChange:m}=r,x=P.useCallback(()=>{u(null),m(!1)},[m]),b=P.useCallback((E,w)=>{const C=E.currentTarget,R={x:E.clientX,y:E.clientY},T=x8(R,C.getBoundingClientRect()),_=b8(R,T),D=S8(w.getBoundingClientRect()),F=E8([..._,...D]);u(F),m(!0)},[m]);return P.useEffect(()=>()=>x(),[x]),P.useEffect(()=>{if(c&&p){const E=C=>b(C,p),w=C=>b(C,c);return c.addEventListener("pointerleave",E),p.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",E),p.removeEventListener("pointerleave",w)}}},[c,p,b,x]),P.useEffect(()=>{if(l){const E=w=>{const C=w.target,R={x:w.clientX,y:w.clientY},T=(c==null?void 0:c.contains(C))||(p==null?void 0:p.contains(C)),_=!A8(R,l);T?x():_&&(x(),g())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[c,p,l,g,x]),O.jsx(YL,{...e,ref:s})}),[m8,v8]=qS(XS,{isInside:!1}),y8=HU("TooltipContent"),YL=P.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:l,...u}=e,c=Qv(pg,n),g=KS(n),{onClose:p}=c;return P.useEffect(()=>(document.addEventListener(Iw,p),()=>document.removeEventListener(Iw,p)),[p]),P.useEffect(()=>{if(c.trigger){const m=x=>{const b=x.target;b!=null&&b.contains(c.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,p]),O.jsx(Gv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:O.jsxs($2,{"data-state":c.stateAttribute,...g,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[O.jsx(y8,{children:r}),O.jsx(m8,{scope:n,isInside:!0,children:O.jsx(u8,{id:c.contentId,role:"tooltip",children:i||r})})]})})});WL.displayName=pg;var qL="TooltipArrow",KL=P.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=KS(n);return v8(qL,n).isInside?null:O.jsx(H2,{...i,...r,ref:t})});KL.displayName=qL;function x8(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function b8(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function S8(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function A8(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s].x,c=t[s].y,g=t[l].x,p=t[l].y;c>r!=p>r&&n<(g-u)*(r-c)/(p-c)+u&&(i=!i)}return i}function E8(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),C8(t)}function C8(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],l=n[n.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var w8=VL,R8=GL,T8=$L,N8=HL,_8=WL,I8=KL;function rR({delayDuration:e=0,...t}){return O.jsx(w8,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Vr({...e}){return O.jsx(rR,{children:O.jsx(R8,{"data-slot":"tooltip",...e})})}function Gr({...e}){return O.jsx(T8,{"data-slot":"tooltip-trigger",...e})}function $r({className:e,sideOffset:t=0,children:n,...r}){return O.jsx(N8,{children:O.jsxs(_8,{"data-slot":"tooltip-content",sideOffset:t,className:St("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,O.jsx(I8,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const O8="sidebar_state",D8=60*60*24*7,M8="16rem",P8="18rem",L8="3rem",F8="b",XL=P.createContext(null);function ZS(){const e=P.useContext(XL);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function ZL({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:i,children:s,...l}){const u=X$(),[c,g]=P.useState(!1),[p,m]=P.useState(e),x=t??p,b=P.useCallback(R=>{const T=typeof R=="function"?R(x):R;n?n(T):m(T),document.cookie=`${O8}=${T}; path=/; max-age=${D8}`},[n,x]),E=P.useCallback(()=>u?g(R=>!R):b(R=>!R),[u,b,g]);P.useEffect(()=>{const R=T=>{T.key===F8&&(T.metaKey||T.ctrlKey)&&(T.preventDefault(),E())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[E]);const w=x?"expanded":"collapsed",C=P.useMemo(()=>({state:w,open:x,setOpen:b,isMobile:u,openMobile:c,setOpenMobile:g,toggleSidebar:E}),[w,x,b,u,c,g,E]);return O.jsx(XL.Provider,{value:C,children:O.jsx(rR,{delayDuration:0,children:O.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":M8,"--sidebar-width-icon":L8,...i},className:St("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...l,children:s})})})}function k8({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:i,...s}){const{isMobile:l,state:u,openMobile:c,setOpenMobile:g}=ZS();return n==="none"?O.jsx("div",{"data-slot":"sidebar",className:St("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...s,children:i}):l?O.jsx(t8,{open:c,onOpenChange:g,...s,children:O.jsxs(i8,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":P8},side:e,children:[O.jsxs(o8,{className:"sr-only",children:[O.jsx(s8,{children:"Sidebar"}),O.jsx(a8,{children:"Displays the mobile sidebar."})]}),O.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):O.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[O.jsx("div",{"data-slot":"sidebar-gap",className:St("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),O.jsx("div",{"data-slot":"sidebar-container",className:St("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:O.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function B8({className:e,onClick:t,...n}){const{toggleSidebar:r}=ZS();return O.jsxs(rr,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:St("size-7",e),onClick:i=>{t==null||t(i),r()},...n,children:[O.jsx(rU,{}),O.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function JL({className:e,...t}){return O.jsx("main",{"data-slot":"sidebar-inset",className:St("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function j8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:St("flex flex-col gap-2 p-2",e),...t})}function z8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:St("flex flex-col gap-2 p-2",e),...t})}function U8({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:St("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function QL({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:St("relative flex w-full min-w-0 flex-col p-2",e),...t})}function eF({className:e,...t}){return O.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:St("w-full text-sm",e),...t})}function JS({className:e,...t}){return O.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:St("flex w-full min-w-0 flex-col gap-1",e),...t})}function QS({className:e,...t}){return O.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:St("group/menu-item relative",e),...t})}const V8=kS("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function e1({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:i,className:s,...l}){const u=e?y2:"button",{isMobile:c,state:g}=ZS(),p=O.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:St(V8({variant:n,size:r}),s),...l});return i?(typeof i=="string"&&(i={children:i}),O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:p}),O.jsx($r,{side:"right",align:"center",hidden:g!=="collapsed"||c,...i})]})):p}function G8({items:e}){const t=ka(),n=P.useCallback(r=>{const i=t.pathname;return i===r||i.startsWith(r+"/")},[t.pathname]);return O.jsx(QL,{children:O.jsx(eF,{className:"flex flex-col gap-2",children:O.jsx(JS,{children:e.map(r=>O.jsx(QS,{children:O.jsx(e1,{tooltip:r.title,isActive:n(r.url),children:O.jsxs(Ag,{to:r.url,className:"flex items-center gap-2",children:[r.icon&&O.jsx(r.icon,{}),O.jsx("span",{children:r.title})]})})},r.title))})})})}function $8({items:e,...t}){return O.jsx(QL,{...t,children:O.jsx(eF,{children:O.jsx(JS,{children:e.map(n=>O.jsx(QS,{children:O.jsx(e1,{asChild:!0,children:O.jsxs(Ag,{to:n.url,className:"flex items-center gap-2",children:[n.icon&&O.jsx(n.icon,{}),O.jsx("span",{children:n.title})]})})},n.title))})})})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var H8={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=(e,t,n,r)=>{const i=P.forwardRef(({color:s="currentColor",size:l=24,stroke:u=2,title:c,className:g,children:p,...m},x)=>P.createElement("svg",{ref:x,...H8[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${t}`,g].join(" "),strokeWidth:u,stroke:s,...m},[c&&P.createElement("title",{key:"svg-title"},c),...r.map(([b,E])=>P.createElement(b,E)),...Array.isArray(p)?p:[p]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tF=an("outline","abc","IconAbc",[["path",{d:"M3 16v-6a2 2 0 1 1 4 0v6",key:"svg-0"}],["path",{d:"M3 13h4",key:"svg-1"}],["path",{d:"M10 8v6a2 2 0 1 0 4 0v-1a2 2 0 1 0 -4 0v1",key:"svg-2"}],["path",{d:"M20.732 12a2 2 0 0 0 -3.732 1v1a2 2 0 0 0 3.726 1.01",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nF=an("outline","align-box-bottom-center","IconAlignBoxBottomCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 15v2",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M15 13v4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rF=an("outline","align-box-center-middle","IconAlignBoxCenterMiddle",[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M11 15h2",key:"svg-1"}],["path",{d:"M9 12h6",key:"svg-2"}],["path",{d:"M10 9h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iF=an("outline","align-box-top-center","IconAlignBoxTopCenter",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 9v-2",key:"svg-1"}],["path",{d:"M12 13v-6",key:"svg-2"}],["path",{d:"M15 11v-4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oF=an("outline","align-center","IconAlignCenter",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M8 12l8 0",key:"svg-1"}],["path",{d:"M6 18l12 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sF=an("outline","align-left","IconAlignLeft",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l10 0",key:"svg-1"}],["path",{d:"M4 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aF=an("outline","align-right","IconAlignRight",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M10 12l10 0",key:"svg-1"}],["path",{d:"M6 18l14 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var W8=an("outline","arrow-back-up","IconArrowBackUp",[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y8=an("outline","arrow-forward-up","IconArrowForwardUp",[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q8=an("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lF=an("outline","calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nE=an("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K8=an("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nS=an("outline","currency-dollar","IconCurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ey=an("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yN=an("outline","decimal","IconDecimal",[["path",{d:"M17 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-0"}],["path",{d:"M10 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-1"}],["path",{d:"M5 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var X8=an("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xN=an("outline","droplet-off","IconDropletOff",[["path",{d:"M18.963 14.938a6.54 6.54 0 0 0 -.899 -4.06l-4.89 -7.26c-.42 -.626 -1.287 -.804 -1.936 -.398a1.376 1.376 0 0 0 -.41 .397l-1.282 1.9m-1.625 2.415l-1.986 2.946c-1.695 2.837 -1.035 6.44 1.567 8.545c2.602 2.105 6.395 2.105 8.996 0a6.83 6.83 0 0 0 1.376 -1.499",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uF=an("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cF=an("outline","hash","IconHash",[["path",{d:"M5 9l14 0",key:"svg-0"}],["path",{d:"M5 15l14 0",key:"svg-1"}],["path",{d:"M11 4l-4 16",key:"svg-2"}],["path",{d:"M17 4l-4 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z8=an("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var J8=an("outline","logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q8=an("outline","math-function","IconMathFunction",[["path",{d:"M3 19a2 2 0 0 0 2 2c2 0 2 -4 3 -9s1 -9 3 -9a2 2 0 0 1 2 2",key:"svg-0"}],["path",{d:"M5 12h6",key:"svg-1"}],["path",{d:"M15 12l6 6",key:"svg-2"}],["path",{d:"M15 18l6 -6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eH=an("outline","paint","IconPaint",[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M19 6h1a2 2 0 0 1 2 2a5 5 0 0 1 -5 5l-5 0v2",key:"svg-1"}],["path",{d:"M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dw=an("outline","percentage","IconPercentage",[["path",{d:"M17 17m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 7m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M6 18l12 -12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tH=an("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fF=an("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dF=an("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nH=an("outline","share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rH=an("outline","strikethrough","IconStrikethrough",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iH=an("outline","table-alias","IconTableAlias",[["path",{d:"M3 12v-7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-7",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v10",key:"svg-2"}],["path",{d:"M2 17a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-4z",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hF=an("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oH=an("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sH=an("outline","typography","IconTypography",[["path",{d:"M4 20l3 0",key:"svg-0"}],["path",{d:"M14 20l7 0",key:"svg-1"}],["path",{d:"M6.9 15l6.9 0",key:"svg-2"}],["path",{d:"M10.2 6.3l5.8 13.7",key:"svg-3"}],["path",{d:"M5 20l6 -16l2 0l7 16",key:"svg-4"}]]),iR="Avatar",[aH,mJ]=ja(iR),[lH,pF]=aH(iR),gF=P.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=P.useState("idle");return O.jsx(lH,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:O.jsx(Yt.span,{...r,ref:t})})});gF.displayName=iR;var mF="AvatarImage",vF=P.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,l=pF(mF,n),u=uH(r,s),c=bo(g=>{i(g),l.onImageLoadingStatusChange(g)});return Lr(()=>{u!=="idle"&&c(u)},[u,c]),u==="loaded"?O.jsx(Yt.img,{...s,ref:t,src:r}):null});vF.displayName=mF;var yF="AvatarFallback",xF=P.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=pF(yF,n),[l,u]=P.useState(r===void 0);return P.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(c)}},[r]),l&&s.imageLoadingStatus!=="loaded"?O.jsx(Yt.span,{...i,ref:t}):null});xF.displayName=yF;function bN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function uH(e,{referrerPolicy:t,crossOrigin:n}){const r=fH(),i=P.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[l,u]=P.useState(()=>bN(s,e));return Lr(()=>{u(bN(s,e))},[s,e]),Lr(()=>{const c=m=>()=>{u(m)};if(!s)return;const g=c("loaded"),p=c("error");return s.addEventListener("load",g),s.addEventListener("error",p),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",g),s.removeEventListener("error",p)}},[s,n,t]),l}function cH(){return()=>{}}function fH(){return P.useSyncExternalStore(cH,()=>!0,()=>!1)}var dH=gF,hH=vF,pH=xF;function ES({className:e,...t}){return O.jsx(dH,{"data-slot":"avatar",className:St("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function Mw({className:e,...t}){return O.jsx(hH,{"data-slot":"avatar-image",className:St("aspect-square size-full",e),...t})}function CS({className:e,...t}){return O.jsx(pH,{"data-slot":"avatar-fallback",className:St("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function gH({user:e}){const{isMobile:t}=ZS(),n=async()=>{await OM()};return O.jsx(JS,{children:O.jsx(QS,{children:O.jsxs(Ta,{children:[O.jsx(Na,{asChild:!0,children:O.jsxs(e1,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground cursor-pointer",children:[O.jsxs(ES,{className:"h-8 w-8 rounded-lg",children:[O.jsx(Mw,{src:e.photo,alt:e.username}),O.jsx(CS,{className:"rounded-lg",children:"CN"})]}),O.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[O.jsx("span",{className:"truncate font-medium",children:e.username}),O.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]}),O.jsx(X8,{className:"ml-auto size-4"})]})}),O.jsxs(_a,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[O.jsx(tS,{className:"p-0 font-normal",children:O.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[O.jsxs(ES,{className:"h-8 w-8 rounded-lg",children:[O.jsx(Mw,{src:e.photo,alt:e.username}),O.jsx(CS,{className:"rounded-lg",children:"CN"})]}),O.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[O.jsx("span",{className:"truncate font-medium",children:e.username}),O.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]})]})}),O.jsx(Zp,{}),O.jsxs(cr,{onClick:n,className:"cursor-pointer",children:[O.jsx(J8,{}),"Log out"]})]})]})})})}function bF({items:e,...t}){const{data:n,isLoading:r}=Ba({queryKey:["me"],queryFn:Sh,retry:!1});return r?null:O.jsxs(k8,{collapsible:"offcanvas",...t,children:[O.jsx(j8,{children:O.jsx(JS,{children:O.jsx(QS,{children:O.jsx(e1,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5",children:O.jsxs(Ag,{to:"/",children:[O.jsx(dM,{className:"!size-5"}),O.jsx("span",{className:"text-base font-semibold",children:"Wafflebase"})]})})})})}),O.jsxs(U8,{children:[O.jsx(G8,{items:e.main}),O.jsx($8,{items:e.secondary,className:"mt-auto"})]}),O.jsx(z8,{children:O.jsx(gH,{user:n})})]})}function SF({title:e,editable:t=!1,onRename:n,children:r}){const[i,s]=P.useState(!1),[l,u]=P.useState(e),c=P.useRef(null);P.useEffect(()=>{u(e)},[e]),P.useEffect(()=>{i&&c.current&&(c.current.focus(),c.current.select())},[i]);const g=P.useCallback(()=>{const p=l.trim();p&&p!==e&&n&&n(p),s(!1)},[l,e,n]);return O.jsx("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:O.jsxs("div",{className:"flex w-full items-center justify-between gap-1 px-4 lg:gap-2 lg:px-6 min-h-[3.5rem]",children:[O.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[O.jsx(B8,{className:"-ml-1"}),O.jsx($p,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),i?O.jsx("input",{ref:c,className:"text-base font-medium bg-transparent border-b border-primary outline-none px-1 min-w-[120px]",value:l,onChange:p=>u(p.target.value),onBlur:g,onKeyDown:p=>{p.key==="Enter"&&g(),p.key==="Escape"&&(u(e),s(!1))}}):O.jsx("h1",{className:`text-base font-medium ${t?"cursor-pointer hover:bg-muted/50 px-1 rounded transition-colors":""}`,onClick:()=>{t&&s(!0)},title:t?"Click to rename":void 0,children:e})]}),O.jsx("div",{className:"flex items-center min-w-0",children:r})]})})}function mH({className:e}){const{data:t}=Ba({queryKey:["me"],queryFn:Sh,retry:!1}),r=La.usePresences().reduce((s,l)=>{const u=l.presence.username;return s.find(c=>c.presence.username===u)||s.push(l),s},[]),i=r.length;return O.jsx(rR,{children:O.jsx("div",{className:`flex items-center gap-2 min-h-[2.5rem] ${e}`,children:i>0?O.jsx(O.Fragment,{children:O.jsxs("div",{className:"flex items-center -space-x-2",children:[r.slice(0,4).map(s=>{var g,p;const l=(g=s.presence)==null?void 0:g.username,u=(p=s.presence)==null?void 0:p.photo,c=l===(t==null?void 0:t.username);return l?O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsxs("div",{className:"relative",children:[O.jsxs(ES,{className:"h-8 w-8 border-2 border-background",children:[u&&O.jsx(Mw,{src:u,alt:l}),O.jsx(CS,{className:"text-xs",children:(l==null?void 0:l.slice(0,2).toUpperCase())||"??"})]}),O.jsx("div",{className:"absolute -bottom-1 -right-1",children:O.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 border-2 border-background"})})]})}),O.jsx($r,{children:O.jsxs("p",{children:[l||"Anonymous",c?" (You)":""]})})]},s.clientID):null}).filter(Boolean),i>4&&O.jsx(ES,{className:"w-8 border-2 border-background",children:O.jsxs(CS,{className:"text-xs bg-muted",children:["+",i-4]})})]})}):O.jsx("div",{className:"w-32 opacity-0"})})})}function SN(e,[t,n]){return Math.min(n,Math.max(t,e))}function AF(e){const t=P.useRef({value:e,previous:e});return P.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var vH=[" ","Enter","ArrowUp","ArrowDown"],yH=[" ","Enter"],ty="Select",[t1,n1,xH]=O2(ty),[_g,vJ]=ja(ty,[xH,Ng]),r1=Ng(),[bH,rf]=_g(ty),[SH,AH]=_g(ty),EF=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:l,defaultValue:u,onValueChange:c,dir:g,name:p,autoComplete:m,disabled:x,required:b,form:E}=e,w=r1(t),[C,R]=P.useState(null),[T,_]=P.useState(null),[D,F]=P.useState(!1),B=D2(g),[j=!1,k]=vh({prop:r,defaultProp:i,onChange:s}),[$,Z]=vh({prop:l,defaultProp:u,onChange:c}),ne=P.useRef(null),re=C?E||!!C.closest("form"):!0,[he,Ce]=P.useState(new Set),_e=Array.from(he).map(ie=>ie.props.value).join(";");return O.jsx(V2,{...w,children:O.jsxs(bH,{required:b,scope:t,trigger:C,onTriggerChange:R,valueNode:T,onValueNodeChange:_,valueNodeHasChildren:D,onValueNodeHasChildrenChange:F,contentId:Oa(),value:$,onValueChange:Z,open:j,onOpenChange:k,dir:B,triggerPointerDownPosRef:ne,disabled:x,children:[O.jsx(t1.Provider,{scope:t,children:O.jsx(SH,{scope:e.__scopeSelect,onNativeOptionAdd:P.useCallback(ie=>{Ce(Ae=>new Set(Ae).add(ie))},[]),onNativeOptionRemove:P.useCallback(ie=>{Ce(Ae=>{const de=new Set(Ae);return de.delete(ie),de})},[]),children:n})}),re?O.jsxs(WF,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:m,value:$,onChange:ie=>Z(ie.target.value),disabled:x,form:E,children:[$===void 0?O.jsx("option",{value:""}):null,Array.from(he)]},_e):null]})})};EF.displayName=ty;var CF="SelectTrigger",wF=P.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=r1(n),l=rf(CF,n),u=l.disabled||r,c=Cn(t,l.onTriggerChange),g=n1(n),p=P.useRef("touch"),[m,x,b]=YF(w=>{const C=g().filter(_=>!_.disabled),R=C.find(_=>_.value===l.value),T=qF(C,w,R);T!==void 0&&l.onValueChange(T.value)}),E=w=>{u||(l.onOpenChange(!0),b()),w&&(l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return O.jsx(G2,{asChild:!0,...s,children:O.jsx(Yt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":HF(l.value)?"":void 0,...i,ref:c,onClick:dt(i.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&E(w)}),onPointerDown:dt(i.onPointerDown,w=>{p.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(E(w),w.preventDefault())}),onKeyDown:dt(i.onKeyDown,w=>{const C=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&x(w.key),!(C&&w.key===" ")&&vH.includes(w.key)&&(E(),w.preventDefault())})})})});wF.displayName=CF;var RF="SelectValue",TF=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:l="",...u}=e,c=rf(RF,n),{onValueNodeHasChildrenChange:g}=c,p=s!==void 0,m=Cn(t,c.onValueNodeChange);return Lr(()=>{g(p)},[g,p]),O.jsx(Yt.span,{...u,ref:m,style:{pointerEvents:"none"},children:HF(c.value)?O.jsx(O.Fragment,{children:l}):s})});TF.displayName=RF;var EH="SelectIcon",NF=P.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return O.jsx(Yt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});NF.displayName=EH;var CH="SelectPortal",_F=e=>O.jsx($v,{asChild:!0,...e});_F.displayName=CH;var bh="SelectContent",IF=P.forwardRef((e,t)=>{const n=rf(bh,e.__scopeSelect),[r,i]=P.useState();if(Lr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ia.createPortal(O.jsx(OF,{scope:e.__scopeSelect,children:O.jsx(t1.Slot,{scope:e.__scopeSelect,children:O.jsx("div",{children:e.children})})}),s):null}return O.jsx(DF,{...e,ref:t})});IF.displayName=bh;var Rs=10,[OF,of]=_g(bh),wH="SelectContentImpl",RH=Xc("SelectContent.RemoveScroll"),DF=P.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:u,sideOffset:c,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:E,hideWhenDetached:w,avoidCollisions:C,...R}=e,T=rf(bh,n),[_,D]=P.useState(null),[F,B]=P.useState(null),j=Cn(t,Q=>D(Q)),[k,$]=P.useState(null),[Z,ne]=P.useState(null),re=n1(n),[he,Ce]=P.useState(!1),_e=P.useRef(!1);P.useEffect(()=>{if(_)return R2(_)},[_]),w2();const ie=P.useCallback(Q=>{const[X,...J]=re().map(be=>be.ref.current),[se]=J.slice(-1),xe=document.activeElement;for(const be of Q)if(be===xe||(be==null||be.scrollIntoView({block:"nearest"}),be===X&&F&&(F.scrollTop=0),be===se&&F&&(F.scrollTop=F.scrollHeight),be==null||be.focus(),document.activeElement!==xe))return},[re,F]),Ae=P.useCallback(()=>ie([k,_]),[ie,k,_]);P.useEffect(()=>{he&&Ae()},[he,Ae]);const{onOpenChange:de,triggerPointerDownPosRef:ue}=T;P.useEffect(()=>{if(_){let Q={x:0,y:0};const X=se=>{var xe,be;Q={x:Math.abs(Math.round(se.pageX)-(((xe=ue.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(se.pageY)-(((be=ue.current)==null?void 0:be.y)??0))}},J=se=>{Q.x<=10&&Q.y<=10?se.preventDefault():_.contains(se.target)||de(!1),document.removeEventListener("pointermove",X),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",J,{capture:!0})}}},[_,de,ue]),P.useEffect(()=>{const Q=()=>de(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[de]);const[K,oe]=YF(Q=>{const X=re().filter(xe=>!xe.disabled),J=X.find(xe=>xe.ref.current===document.activeElement),se=qF(X,Q,J);se&&setTimeout(()=>se.ref.current.focus())}),pe=P.useCallback((Q,X,J)=>{const se=!_e.current&&!J;(T.value!==void 0&&T.value===X||se)&&($(Q),se&&(_e.current=!0))},[T.value]),z=P.useCallback(()=>_==null?void 0:_.focus(),[_]),U=P.useCallback((Q,X,J)=>{const se=!_e.current&&!J;(T.value!==void 0&&T.value===X||se)&&ne(Q)},[T.value]),G=r==="popper"?Pw:MF,W=G===Pw?{side:u,sideOffset:c,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:E,hideWhenDetached:w,avoidCollisions:C}:{};return O.jsx(OF,{scope:n,content:_,viewport:F,onViewportChange:B,itemRefCallback:pe,selectedItem:k,onItemLeave:z,itemTextRefCallback:U,focusSelectedItem:Ae,selectedItemText:Z,position:r,isPositioned:he,searchRef:K,children:O.jsx(US,{as:RH,allowPinchZoom:!0,children:O.jsx(jS,{asChild:!0,trapped:T.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:dt(i,Q=>{var X;(X=T.trigger)==null||X.focus({preventScroll:!0}),Q.preventDefault()}),children:O.jsx(Gv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:O.jsx(G,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:Q=>Q.preventDefault(),...R,...W,onPlaced:()=>Ce(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:dt(R.onKeyDown,Q=>{const X=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!X&&Q.key.length===1&&oe(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let se=re().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const xe=Q.target,be=se.indexOf(xe);se=se.slice(be+1)}setTimeout(()=>ie(se)),Q.preventDefault()}})})})})})})});DF.displayName=wH;var TH="SelectItemAlignedPosition",MF=P.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=rf(bh,n),l=of(bh,n),[u,c]=P.useState(null),[g,p]=P.useState(null),m=Cn(t,j=>p(j)),x=n1(n),b=P.useRef(!1),E=P.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:R,focusSelectedItem:T}=l,_=P.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&g&&w&&C&&R){const j=s.trigger.getBoundingClientRect(),k=g.getBoundingClientRect(),$=s.valueNode.getBoundingClientRect(),Z=R.getBoundingClientRect();if(s.dir!=="rtl"){const xe=Z.left-k.left,be=$.left-xe,ae=j.left-be,le=j.width+ae,we=Math.max(le,k.width),De=window.innerWidth-Rs,je=SN(be,[Rs,Math.max(Rs,De-we)]);u.style.minWidth=le+"px",u.style.left=je+"px"}else{const xe=k.right-Z.right,be=window.innerWidth-$.right-xe,ae=window.innerWidth-j.right-be,le=j.width+ae,we=Math.max(le,k.width),De=window.innerWidth-Rs,je=SN(be,[Rs,Math.max(Rs,De-we)]);u.style.minWidth=le+"px",u.style.right=je+"px"}const ne=x(),re=window.innerHeight-Rs*2,he=w.scrollHeight,Ce=window.getComputedStyle(g),_e=parseInt(Ce.borderTopWidth,10),ie=parseInt(Ce.paddingTop,10),Ae=parseInt(Ce.borderBottomWidth,10),de=parseInt(Ce.paddingBottom,10),ue=_e+ie+he+de+Ae,K=Math.min(C.offsetHeight*5,ue),oe=window.getComputedStyle(w),pe=parseInt(oe.paddingTop,10),z=parseInt(oe.paddingBottom,10),U=j.top+j.height/2-Rs,G=re-U,W=C.offsetHeight/2,Q=C.offsetTop+W,X=_e+ie+Q,J=ue-X;if(X<=U){const xe=ne.length>0&&C===ne[ne.length-1].ref.current;u.style.bottom="0px";const be=g.clientHeight-w.offsetTop-w.offsetHeight,ae=Math.max(G,W+(xe?z:0)+be+Ae),le=X+ae;u.style.height=le+"px"}else{const xe=ne.length>0&&C===ne[0].ref.current;u.style.top="0px";const ae=Math.max(U,_e+w.offsetTop+(xe?pe:0)+W)+J;u.style.height=ae+"px",w.scrollTop=X-U+w.offsetTop}u.style.margin=`${Rs}px 0`,u.style.minHeight=K+"px",u.style.maxHeight=re+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[x,s.trigger,s.valueNode,u,g,w,C,R,s.dir,r]);Lr(()=>_(),[_]);const[D,F]=P.useState();Lr(()=>{g&&F(window.getComputedStyle(g).zIndex)},[g]);const B=P.useCallback(j=>{j&&E.current===!0&&(_(),T==null||T(),E.current=!1)},[_,T]);return O.jsx(_H,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:B,children:O.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:O.jsx(Yt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});MF.displayName=TH;var NH="SelectPopperPosition",Pw=P.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Rs,...s}=e,l=r1(n);return O.jsx($2,{...l,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pw.displayName=NH;var[_H,oR]=_g(bh,{}),Lw="SelectViewport",PF=P.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=of(Lw,n),l=oR(Lw,n),u=Cn(t,s.onViewportChange),c=P.useRef(0);return O.jsxs(O.Fragment,{children:[O.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),O.jsx(t1.Slot,{scope:n,children:O.jsx(Yt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:dt(i.onScroll,g=>{const p=g.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&m){const b=Math.abs(c.current-p.scrollTop);if(b>0){const E=window.innerHeight-Rs*2,w=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),R=Math.max(w,C);if(R<E){const T=R+b,_=Math.min(E,T),D=T-_;m.style.height=_+"px",m.style.bottom==="0px"&&(p.scrollTop=D>0?D:0,m.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});PF.displayName=Lw;var LF="SelectGroup",[IH,OH]=_g(LF),DH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Oa();return O.jsx(IH,{scope:n,id:i,children:O.jsx(Yt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});DH.displayName=LF;var FF="SelectLabel",MH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=OH(FF,n);return O.jsx(Yt.div,{id:i.id,...r,ref:t})});MH.displayName=FF;var wS="SelectItem",[PH,kF]=_g(wS),BF=P.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...l}=e,u=rf(wS,n),c=of(wS,n),g=u.value===r,[p,m]=P.useState(s??""),[x,b]=P.useState(!1),E=Cn(t,T=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,T,r,i)}),w=Oa(),C=P.useRef("touch"),R=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return O.jsx(PH,{scope:n,value:r,disabled:i,textId:w,isSelected:g,onItemTextChange:P.useCallback(T=>{m(_=>_||((T==null?void 0:T.textContent)??"").trim())},[]),children:O.jsx(t1.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:O.jsx(Yt.div,{role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":g&&x,"data-state":g?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:E,onFocus:dt(l.onFocus,()=>b(!0)),onBlur:dt(l.onBlur,()=>b(!1)),onClick:dt(l.onClick,()=>{C.current!=="mouse"&&R()}),onPointerUp:dt(l.onPointerUp,()=>{C.current==="mouse"&&R()}),onPointerDown:dt(l.onPointerDown,T=>{C.current=T.pointerType}),onPointerMove:dt(l.onPointerMove,T=>{var _;C.current=T.pointerType,i?(_=c.onItemLeave)==null||_.call(c):C.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(l.onPointerLeave,T=>{var _;T.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:dt(l.onKeyDown,T=>{var D;((D=c.searchRef)==null?void 0:D.current)!==""&&T.key===" "||(yH.includes(T.key)&&R(),T.key===" "&&T.preventDefault())})})})})});BF.displayName=wS;var dv="SelectItemText",jF=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,l=rf(dv,n),u=of(dv,n),c=kF(dv,n),g=AH(dv,n),[p,m]=P.useState(null),x=Cn(t,R=>m(R),c.onItemTextChange,R=>{var T;return(T=u.itemTextRefCallback)==null?void 0:T.call(u,R,c.value,c.disabled)}),b=p==null?void 0:p.textContent,E=P.useMemo(()=>O.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=g;return Lr(()=>(w(E),()=>C(E)),[w,C,E]),O.jsxs(O.Fragment,{children:[O.jsx(Yt.span,{id:c.textId,...s,ref:x}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ia.createPortal(s.children,l.valueNode):null]})});jF.displayName=dv;var zF="SelectItemIndicator",UF=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return kF(zF,n).isSelected?O.jsx(Yt.span,{"aria-hidden":!0,...r,ref:t}):null});UF.displayName=zF;var Fw="SelectScrollUpButton",VF=P.forwardRef((e,t)=>{const n=of(Fw,e.__scopeSelect),r=oR(Fw,e.__scopeSelect),[i,s]=P.useState(!1),l=Cn(t,r.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const g=c.scrollTop>0;s(g)};const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?O.jsx($F,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=n;u&&c&&(u.scrollTop=u.scrollTop-c.offsetHeight)}}):null});VF.displayName=Fw;var kw="SelectScrollDownButton",GF=P.forwardRef((e,t)=>{const n=of(kw,e.__scopeSelect),r=oR(kw,e.__scopeSelect),[i,s]=P.useState(!1),l=Cn(t,r.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const g=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<g;s(p)};const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?O.jsx($F,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=n;u&&c&&(u.scrollTop=u.scrollTop+c.offsetHeight)}}):null});GF.displayName=kw;var $F=P.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=of("SelectScrollButton",n),l=P.useRef(null),u=n1(n),c=P.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return P.useEffect(()=>()=>c(),[c]),Lr(()=>{var p;const g=u().find(m=>m.ref.current===document.activeElement);(p=g==null?void 0:g.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),O.jsx(Yt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:dt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:dt(i.onPointerMove,()=>{var g;(g=s.onItemLeave)==null||g.call(s),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:dt(i.onPointerLeave,()=>{c()})})}),LH="SelectSeparator",FH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return O.jsx(Yt.div,{"aria-hidden":!0,...r,ref:t})});FH.displayName=LH;var Bw="SelectArrow",kH=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=r1(n),s=rf(Bw,n),l=of(Bw,n);return s.open&&l.position==="popper"?O.jsx(H2,{...i,...r,ref:t}):null});kH.displayName=Bw;function HF(e){return e===""||e===void 0}var WF=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=P.useRef(null),s=Cn(t,i),l=AF(n);return P.useEffect(()=>{const u=i.current,c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==n&&p){const m=new Event("change",{bubbles:!0});p.call(u,n),u.dispatchEvent(m)}},[l,n]),O.jsx(eR,{asChild:!0,children:O.jsx("select",{...r,ref:s,defaultValue:n})})});WF.displayName="BubbleSelect";function YF(e){const t=bo(e),n=P.useRef(""),r=P.useRef(0),i=P.useCallback(l=>{const u=n.current+l;t(u),function c(g){n.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(u)},[t]),s=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function qF(e,t,n){const i=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=BH(e,Math.max(s,0));i.length===1&&(l=l.filter(g=>g!==n));const c=l.find(g=>g.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function BH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var jH=EF,zH=wF,UH=TF,VH=NF,GH=_F,$H=IF,HH=PF,WH=BF,YH=jF,qH=UF,KH=VF,XH=GF;function AN({...e}){return O.jsx(jH,{"data-slot":"select",...e})}function EN({...e}){return O.jsx(UH,{"data-slot":"select-value",...e})}function CN({className:e,size:t="default",children:n,...r}){return O.jsxs(zH,{"data-slot":"select-trigger","data-size":t,className:St("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,O.jsx(VH,{asChild:!0,children:O.jsx(cM,{className:"size-4 opacity-50"})})]})}function wN({className:e,children:t,position:n="popper",...r}){return O.jsx(GH,{children:O.jsxs($H,{"data-slot":"select-content",className:St("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[O.jsx(ZH,{}),O.jsx(HH,{className:St("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),O.jsx(JH,{})]})})}function rE({className:e,children:t,...n}){return O.jsxs(WH,{"data-slot":"select-item",className:St("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[O.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:O.jsx(qH,{children:O.jsx(H5,{className:"size-4"})})}),O.jsx(YH,{children:t})]})}function ZH({className:e,...t}){return O.jsx(KH,{"data-slot":"select-scroll-up-button",className:St("flex cursor-default items-center justify-center py-1",e),...t,children:O.jsx(q5,{className:"size-4"})})}function JH({className:e,...t}){return O.jsx(XH,{"data-slot":"select-scroll-down-button",className:St("flex cursor-default items-center justify-center py-1",e),...t,children:O.jsx(cM,{className:"size-4"})})}async function QH(e,t,n){const r=await Ii(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:t,expiration:n})});if(!r.ok)throw new Error("Failed to create share link");return r.json()}async function eW(e){const t=await Ii(`https://wafflebase-api.yorkie.dev/documents/${e}/share-links`);if(!t.ok)throw new Error("Failed to fetch share links");return t.json()}async function tW(e){if(!(await Ii(`https://wafflebase-api.yorkie.dev/share-links/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete share link")}async function nW(e){const t=await fetch(`https://wafflebase-api.yorkie.dev/share-links/${e}/resolve`);if(t.status===410)throw new Error("Share link has expired");if(!t.ok)throw new Error("Invalid share link");return t.json()}const rW=[{value:"none",label:"No limit"},{value:"1h",label:"1 hour"},{value:"8h",label:"8 hours"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"}];function iW(e){if(!e)return"No expiration";const t=new Date(e),n=new Date;if(t<n)return"Expired";const r=t.getTime()-n.getTime(),i=Math.floor(r/(1e3*60*60)),s=Math.floor(i/24);return s>0?`Expires in ${s}d`:i>0?`Expires in ${i}h`:`Expires in ${Math.floor(r/(1e3*60))}m`}function oW({documentId:e}){const[t,n]=P.useState(!1),[r,i]=P.useState("viewer"),[s,l]=P.useState("none"),[u,c]=P.useState([]),[g,p]=P.useState(!1);P.useEffect(()=>{t&&eW(e).then(c).catch(()=>{})},[t,e]);const m=async()=>{p(!0);try{const E=await QH(e,r,s==="none"?null:s);c(C=>[E,...C]);const w=`${window.location.origin}/shared/${E.token}`;await navigator.clipboard.writeText(w),Un.success("Link created and copied to clipboard")}catch{Un.error("Failed to create share link")}finally{p(!1)}},x=async E=>{const w=`${window.location.origin}/shared/${E}`;await navigator.clipboard.writeText(w),Un.success("Link copied to clipboard")},b=async E=>{try{await tW(E),c(w=>w.filter(C=>C.id!==E)),Un.success("Share link revoked")}catch{Un.error("Failed to revoke share link")}};return O.jsxs(Hv,{open:t,onOpenChange:n,children:[O.jsx(i9,{asChild:!0,children:O.jsxs(rr,{variant:"outline",size:"sm",children:[O.jsx(nH,{className:"h-4 w-4 mr-1"}),"Share"]})}),O.jsxs(Wv,{className:"sm:max-w-md",children:[O.jsxs(Yv,{children:[O.jsx(qv,{children:"Share Document"}),O.jsx(Kv,{children:"Create a link to share this document with others."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"share-role",children:"Permission"}),O.jsxs(AN,{value:r,onValueChange:i,children:[O.jsx(CN,{id:"share-role",className:"w-full",children:O.jsx(EN,{})}),O.jsxs(wN,{children:[O.jsx(rE,{value:"viewer",children:"Viewer"}),O.jsx(rE,{value:"editor",children:"Editor"})]})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"share-expiration",children:"Expiration"}),O.jsxs(AN,{value:s,onValueChange:l,children:[O.jsx(CN,{id:"share-expiration",className:"w-full",children:O.jsx(EN,{})}),O.jsx(wN,{children:rW.map(E=>O.jsx(rE,{value:E.value,children:E.label},E.value))})]})]})]}),u.length>0&&O.jsxs(O.Fragment,{children:[O.jsx($p,{}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{children:"Active links"}),O.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:u.map(E=>O.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2 text-sm",children:[O.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O.jsx("span",{className:"capitalize font-medium",children:E.role}),O.jsx("span",{className:"text-muted-foreground text-xs",children:iW(E.expiresAt)})]}),O.jsxs("div",{className:"flex items-center gap-1",children:[O.jsx(rr,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>x(E.token),children:O.jsx(K8,{className:"h-3.5 w-3.5"})}),O.jsx(rr,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>b(E.id),children:O.jsx(oH,{className:"h-3.5 w-3.5"})})]})]},E.id))})]})]})]}),O.jsx("div",{className:"flex justify-end",children:O.jsx(rr,{onClick:m,disabled:g,children:g?"Creating...":"Create Link"})})]})]})}function sW(){const{doc:e}=La.useDocument(),{data:t}=Ba({queryKey:["me"],queryFn:Sh,retry:!1});P.useEffect(()=>{!e||!t||e.update((n,r)=>{r.set({username:t.username,email:t.email,photo:t.photo||""})})},[e,t])}var td={},iE={},RN;function aW(){if(RN)return iE;RN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(iE,"__esModule",{value:!0}),iE}var oE={},TN;function lW(){if(TN)return oE;TN=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(oE,"__esModule",{value:!0}),oE}var nd={},sE={exports:{}},aE={},lE={},uE={},cE,NN;function sR(){return NN||(NN=1,cE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var l=Object.getOwnPropertySymbols(t);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,n);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),cE}var fE,_N;function i1(){if(_N)return fE;_N=1;var e=sR();return fE=function(){return e()&&!!Symbol.toStringTag},fE}var dE,IN;function aR(){return IN||(IN=1,dE=Object),dE}var hE,ON;function uW(){return ON||(ON=1,hE=Error),hE}var pE,DN;function cW(){return DN||(DN=1,pE=EvalError),pE}var gE,MN;function fW(){return MN||(MN=1,gE=RangeError),gE}var mE,PN;function dW(){return PN||(PN=1,mE=ReferenceError),mE}var vE,LN;function KF(){return LN||(LN=1,vE=SyntaxError),vE}var yE,FN;function ny(){return FN||(FN=1,yE=TypeError),yE}var xE,kN;function hW(){return kN||(kN=1,xE=URIError),xE}var bE,BN;function pW(){return BN||(BN=1,bE=Math.abs),bE}var SE,jN;function gW(){return jN||(jN=1,SE=Math.floor),SE}var AE,zN;function mW(){return zN||(zN=1,AE=Math.max),AE}var EE,UN;function vW(){return UN||(UN=1,EE=Math.min),EE}var CE,VN;function yW(){return VN||(VN=1,CE=Math.pow),CE}var wE,GN;function xW(){return GN||(GN=1,wE=Math.round),wE}var RE,$N;function bW(){return $N||($N=1,RE=Number.isNaN||function(t){return t!==t}),RE}var TE,HN;function SW(){if(HN)return TE;HN=1;var e=bW();return TE=function(n){return e(n)||n===0?n:n<0?-1:1},TE}var NE,WN;function AW(){return WN||(WN=1,NE=Object.getOwnPropertyDescriptor),NE}var _E,YN;function Ig(){if(YN)return _E;YN=1;var e=AW();if(e)try{e([],"length")}catch{e=null}return _E=e,_E}var IE,qN;function o1(){if(qN)return IE;qN=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return IE=e,IE}var OE,KN;function EW(){if(KN)return OE;KN=1;var e=typeof Symbol<"u"&&Symbol,t=sR();return OE=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},OE}var DE,XN;function XF(){return XN||(XN=1,DE=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),DE}var ME,ZN;function ZF(){if(ZN)return ME;ZN=1;var e=aR();return ME=e.getPrototypeOf||null,ME}var PE,JN;function CW(){if(JN)return PE;JN=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(c,g){for(var p=[],m=0;m<c.length;m+=1)p[m]=c[m];for(var x=0;x<g.length;x+=1)p[x+c.length]=g[x];return p},s=function(c,g){for(var p=[],m=g,x=0;m<c.length;m+=1,x+=1)p[x]=c[m];return p},l=function(u,c){for(var g="",p=0;p<u.length;p+=1)g+=u[p],p+1<u.length&&(g+=c);return g};return PE=function(c){var g=this;if(typeof g!="function"||t.apply(g)!==r)throw new TypeError(e+g);for(var p=s(arguments,1),m,x=function(){if(this instanceof m){var R=g.apply(this,i(p,arguments));return Object(R)===R?R:this}return g.apply(c,i(p,arguments))},b=n(0,g.length-p.length),E=[],w=0;w<b;w++)E[w]="$"+w;if(m=Function("binder","return function ("+l(E,",")+"){ return binder.apply(this,arguments); }")(x),g.prototype){var C=function(){};C.prototype=g.prototype,m.prototype=new C,C.prototype=null}return m},PE}var LE,QN;function ry(){if(QN)return LE;QN=1;var e=CW();return LE=Function.prototype.bind||e,LE}var FE,e_;function lR(){return e_||(e_=1,FE=Function.prototype.call),FE}var kE,t_;function uR(){return t_||(t_=1,kE=Function.prototype.apply),kE}var BE,n_;function wW(){return n_||(n_=1,BE=typeof Reflect<"u"&&Reflect&&Reflect.apply),BE}var jE,r_;function JF(){if(r_)return jE;r_=1;var e=ry(),t=uR(),n=lR(),r=wW();return jE=r||e.call(n,t),jE}var zE,i_;function cR(){if(i_)return zE;i_=1;var e=ry(),t=ny(),n=lR(),r=JF();return zE=function(s){if(s.length<1||typeof s[0]!="function")throw new t("a function is required");return r(e,n,s)},zE}var UE,o_;function RW(){if(o_)return UE;o_=1;var e=cR(),t=Ig(),n;try{n=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!n&&t&&t(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return UE=r&&typeof r.get=="function"?e([r.get]):typeof s=="function"?function(u){return s(u==null?u:i(u))}:!1,UE}var VE,s_;function fR(){if(s_)return VE;s_=1;var e=XF(),t=ZF(),n=RW();return VE=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:n?function(i){return n(i)}:null,VE}var GE,a_;function QF(){if(a_)return GE;a_=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=ry();return GE=n.call(e,t),GE}var $E,l_;function dR(){if(l_)return $E;l_=1;var e,t=aR(),n=uW(),r=cW(),i=fW(),s=dW(),l=KF(),u=ny(),c=hW(),g=pW(),p=gW(),m=mW(),x=vW(),b=yW(),E=xW(),w=SW(),C=Function,R=function(J){try{return C('"use strict"; return ('+J+").constructor;")()}catch{}},T=Ig(),_=o1(),D=function(){throw new u},F=T?function(){try{return arguments.callee,D}catch{try{return T(arguments,"callee").get}catch{return D}}}():D,B=EW()(),j=fR(),k=ZF(),$=XF(),Z=uR(),ne=lR(),re={},he=typeof Uint8Array>"u"||!j?e:j(Uint8Array),Ce={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":B&&j?j([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":re,"%AsyncGenerator%":re,"%AsyncGeneratorFunction%":re,"%AsyncIteratorPrototype%":re,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":re,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":B&&j?j(j([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!B||!j?e:j(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!B||!j?e:j(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":B&&j?j(""[Symbol.iterator]()):e,"%Symbol%":B?Symbol:e,"%SyntaxError%":l,"%ThrowTypeError%":F,"%TypedArray%":he,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":ne,"%Function.prototype.apply%":Z,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":k,"%Math.abs%":g,"%Math.floor%":p,"%Math.max%":m,"%Math.min%":x,"%Math.pow%":b,"%Math.round%":E,"%Math.sign%":w,"%Reflect.getPrototypeOf%":$};if(j)try{null.error}catch(J){var _e=j(j(J));Ce["%Error.prototype%"]=_e}var ie=function J(se){var xe;if(se==="%AsyncFunction%")xe=R("async function () {}");else if(se==="%GeneratorFunction%")xe=R("function* () {}");else if(se==="%AsyncGeneratorFunction%")xe=R("async function* () {}");else if(se==="%AsyncGenerator%"){var be=J("%AsyncGeneratorFunction%");be&&(xe=be.prototype)}else if(se==="%AsyncIteratorPrototype%"){var ae=J("%AsyncGenerator%");ae&&j&&(xe=j(ae.prototype))}return Ce[se]=xe,xe},Ae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},de=ry(),ue=QF(),K=de.call(ne,Array.prototype.concat),oe=de.call(Z,Array.prototype.splice),pe=de.call(ne,String.prototype.replace),z=de.call(ne,String.prototype.slice),U=de.call(ne,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,Q=function(se){var xe=z(se,0,1),be=z(se,-1);if(xe==="%"&&be!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(be==="%"&&xe!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var ae=[];return pe(se,G,function(le,we,De,je){ae[ae.length]=De?pe(je,W,"$1"):we||le}),ae},X=function(se,xe){var be=se,ae;if(ue(Ae,be)&&(ae=Ae[be],be="%"+ae[0]+"%"),ue(Ce,be)){var le=Ce[be];if(le===re&&(le=ie(be)),typeof le>"u"&&!xe)throw new u("intrinsic "+se+" exists, but is not available. Please file an issue!");return{alias:ae,name:be,value:le}}throw new l("intrinsic "+se+" does not exist!")};return $E=function(se,xe){if(typeof se!="string"||se.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof xe!="boolean")throw new u('"allowMissing" argument must be a boolean');if(U(/^%?[^%]*%?$/,se)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var be=Q(se),ae=be.length>0?be[0]:"",le=X("%"+ae+"%",xe),we=le.name,De=le.value,je=!1,Ue=le.alias;Ue&&(ae=Ue[0],oe(be,K([0,1],Ue)));for(var ve=1,Pe=!0;ve<be.length;ve+=1){var Ze=be[ve],pt=z(Ze,0,1),gt=z(Ze,-1);if((pt==='"'||pt==="'"||pt==="`"||gt==='"'||gt==="'"||gt==="`")&&pt!==gt)throw new l("property names with quotes must have matching quotes");if((Ze==="constructor"||!Pe)&&(je=!0),ae+="."+Ze,we="%"+ae+"%",ue(Ce,we))De=Ce[we];else if(De!=null){if(!(Ze in De)){if(!xe)throw new u("base intrinsic for "+se+" exists, but the property is not available.");return}if(T&&ve+1>=be.length){var me=T(De,Ze);Pe=!!me,Pe&&"get"in me&&!("originalValue"in me.get)?De=me.get:De=De[Ze]}else Pe=ue(De,Ze),De=De[Ze];Pe&&!je&&(Ce[we]=De)}}return De},$E}var HE,u_;function Og(){if(u_)return HE;u_=1;var e=dR(),t=cR(),n=t([e("%String.prototype.indexOf%")]);return HE=function(i,s){var l=e(i,!!s);return typeof l=="function"&&n(i,".prototype.")>-1?t([l]):l},HE}var WE,c_;function TW(){if(c_)return WE;c_=1;var e=i1()(),t=Og(),n=t("Object.prototype.toString"),r=function(u){return e&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:n(u)==="[object Arguments]"},i=function(u){return r(u)?!0:u!==null&&typeof u=="object"&&"length"in u&&typeof u.length=="number"&&u.length>=0&&n(u)!=="[object Array]"&&"callee"in u&&n(u.callee)==="[object Function]"},s=function(){return r(arguments)}();return r.isLegacyArguments=i,WE=s?r:i,WE}var YE,f_;function NW(){if(f_)return YE;f_=1;var e=Og(),t=i1()(),n=QF(),r=Ig(),i;if(t){var s=e("RegExp.prototype.exec"),l={},u=function(){throw l},c={toString:u,valueOf:u};typeof Symbol.toPrimitive=="symbol"&&(c[Symbol.toPrimitive]=u),i=function(x){if(!x||typeof x!="object")return!1;var b=r(x,"lastIndex"),E=b&&n(b,"value");if(!E)return!1;try{s(x,c)}catch(w){return w===l}}}else{var g=e("Object.prototype.toString"),p="[object RegExp]";i=function(x){return!x||typeof x!="object"&&typeof x!="function"?!1:g(x)===p}}return YE=i,YE}var qE,d_;function _W(){if(d_)return qE;d_=1;var e=Og(),t=NW(),n=e("RegExp.prototype.exec"),r=ny();return qE=function(s){if(!t(s))throw new r("`regex` must be a RegExp");return function(u){return n(s,u)!==null}},qE}var KE,h_;function IW(){if(h_)return KE;h_=1;var e=Og(),t=_W(),n=t(/^\s*(?:function)?\*/),r=i1()(),i=fR(),s=e("Object.prototype.toString"),l=e("Function.prototype.toString"),u=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},c;return KE=function(p){if(typeof p!="function")return!1;if(n(l(p)))return!0;if(!r){var m=s(p);return m==="[object GeneratorFunction]"}if(!i)return!1;if(typeof c>"u"){var x=u();c=x?i(x):!1}return i(p)===c},KE}var XE,p_;function OW(){if(p_)return XE;p_=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},t(function(){throw 42},null,n)}catch(T){T!==r&&(t=null)}else t=null;var i=/^\s*class\b/,s=function(_){try{var D=e.call(_);return i.test(D)}catch{return!1}},l=function(_){try{return s(_)?!1:(e.call(_),!0)}catch{return!1}},u=Object.prototype.toString,c="[object Object]",g="[object Function]",p="[object GeneratorFunction]",m="[object HTMLAllCollection]",x="[object HTML document.all class]",b="[object HTMLCollection]",E=typeof Symbol=="function"&&!!Symbol.toStringTag,w=!(0 in[,]),C=function(){return!1};if(typeof document=="object"){var R=document.all;u.call(R)===u.call(document.all)&&(C=function(_){if((w||!_)&&(typeof _>"u"||typeof _=="object"))try{var D=u.call(_);return(D===m||D===x||D===b||D===c)&&_("")==null}catch{}return!1})}return XE=t?function(_){if(C(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;try{t(_,null,n)}catch(D){if(D!==r)return!1}return!s(_)&&l(_)}:function(_){if(C(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;if(E)return l(_);if(s(_))return!1;var D=u.call(_);return D!==g&&D!==p&&!/^\[object HTML/.test(D)?!1:l(_)},XE}var ZE,g_;function DW(){if(g_)return ZE;g_=1;var e=OW(),t=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(c,g,p){for(var m=0,x=c.length;m<x;m++)n.call(c,m)&&(p==null?g(c[m],m,c):g.call(p,c[m],m,c))},i=function(c,g,p){for(var m=0,x=c.length;m<x;m++)p==null?g(c.charAt(m),m,c):g.call(p,c.charAt(m),m,c)},s=function(c,g,p){for(var m in c)n.call(c,m)&&(p==null?g(c[m],m,c):g.call(p,c[m],m,c))};function l(u){return t.call(u)==="[object Array]"}return ZE=function(c,g,p){if(!e(g))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=p),l(c)?r(c,g,m):typeof c=="string"?i(c,g,m):s(c,g,m)},ZE}var JE,m_;function MW(){return m_||(m_=1,JE=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),JE}var QE,v_;function PW(){if(v_)return QE;v_=1;var e=MW(),t=typeof globalThis>"u"?N3:globalThis;return QE=function(){for(var r=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(r[r.length]=e[i]);return r},QE}var eC={exports:{}},tC,y_;function ek(){if(y_)return tC;y_=1;var e=o1(),t=KF(),n=ny(),r=Ig();return tC=function(s,l,u){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,x=!!r&&r(s,l);if(e)e(s,l,{configurable:p===null&&x?x.configurable:!p,enumerable:c===null&&x?x.enumerable:!c,value:u,writable:g===null&&x?x.writable:!g});else if(m||!c&&!g&&!p)s[l]=u;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},tC}var nC,x_;function tk(){if(x_)return nC;x_=1;var e=o1(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},nC=t,nC}var rC,b_;function LW(){if(b_)return rC;b_=1;var e=dR(),t=ek(),n=tk()(),r=Ig(),i=ny(),s=e("%Math.floor%");return rC=function(u,c){if(typeof u!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||s(c)!==c)throw new i("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],p=!0,m=!0;if("length"in u&&r){var x=r(u,"length");x&&!x.configurable&&(p=!1),x&&!x.writable&&(m=!1)}return(p||m||!g)&&(n?t(u,"length",c,!0,!0):t(u,"length",c)),u},rC}var iC,S_;function FW(){if(S_)return iC;S_=1;var e=ry(),t=uR(),n=JF();return iC=function(){return n(e,t,arguments)},iC}var A_;function s1(){return A_||(A_=1,function(e){var t=LW(),n=o1(),r=cR(),i=FW();e.exports=function(l){var u=r(arguments),c=l.length-(arguments.length-1);return t(u,1+(c>0?c:0),!0)},n?n(e.exports,"apply",{value:i}):e.exports.apply=i}(eC)),eC.exports}var oC,E_;function nk(){if(E_)return oC;E_=1;var e=DW(),t=PW(),n=s1(),r=Og(),i=Ig(),s=fR(),l=r("Object.prototype.toString"),u=i1()(),c=typeof globalThis>"u"?N3:globalThis,g=t(),p=r("String.prototype.slice"),m=r("Array.prototype.indexOf",!0)||function(C,R){for(var T=0;T<C.length;T+=1)if(C[T]===R)return T;return-1},x={__proto__:null};u&&i&&s?e(g,function(w){var C=new c[w];if(Symbol.toStringTag in C&&s){var R=s(C),T=i(R,Symbol.toStringTag);if(!T&&R){var _=s(R);T=i(_,Symbol.toStringTag)}x["$"+w]=n(T.get)}}):e(g,function(w){var C=new c[w],R=C.slice||C.set;R&&(x["$"+w]=n(R))});var b=function(C){var R=!1;return e(x,function(T,_){if(!R)try{"$"+T(C)===_&&(R=p(_,1))}catch{}}),R},E=function(C){var R=!1;return e(x,function(T,_){if(!R)try{T(C),R=p(_,1)}catch{}}),R};return oC=function(C){if(!C||typeof C!="object")return!1;if(!u){var R=p(l(C),8,-1);return m(g,R)>-1?R:R!=="Object"?!1:E(C)}return i?b(C):null},oC}var sC,C_;function kW(){if(C_)return sC;C_=1;var e=nk();return sC=function(n){return!!e(n)},sC}var w_;function BW(){return w_||(w_=1,function(e){var t=TW(),n=IW(),r=nk(),i=kW();function s(ve){return ve.call.bind(ve)}var l=typeof BigInt<"u",u=typeof Symbol<"u",c=s(Object.prototype.toString),g=s(Number.prototype.valueOf),p=s(String.prototype.valueOf),m=s(Boolean.prototype.valueOf);if(l)var x=s(BigInt.prototype.valueOf);if(u)var b=s(Symbol.prototype.valueOf);function E(ve,Pe){if(typeof ve!="object")return!1;try{return Pe(ve),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=i;function w(ve){return typeof Promise<"u"&&ve instanceof Promise||ve!==null&&typeof ve=="object"&&typeof ve.then=="function"&&typeof ve.catch=="function"}e.isPromise=w;function C(ve){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ve):i(ve)||z(ve)}e.isArrayBufferView=C;function R(ve){return r(ve)==="Uint8Array"}e.isUint8Array=R;function T(ve){return r(ve)==="Uint8ClampedArray"}e.isUint8ClampedArray=T;function _(ve){return r(ve)==="Uint16Array"}e.isUint16Array=_;function D(ve){return r(ve)==="Uint32Array"}e.isUint32Array=D;function F(ve){return r(ve)==="Int8Array"}e.isInt8Array=F;function B(ve){return r(ve)==="Int16Array"}e.isInt16Array=B;function j(ve){return r(ve)==="Int32Array"}e.isInt32Array=j;function k(ve){return r(ve)==="Float32Array"}e.isFloat32Array=k;function $(ve){return r(ve)==="Float64Array"}e.isFloat64Array=$;function Z(ve){return r(ve)==="BigInt64Array"}e.isBigInt64Array=Z;function ne(ve){return r(ve)==="BigUint64Array"}e.isBigUint64Array=ne;function re(ve){return c(ve)==="[object Map]"}re.working=typeof Map<"u"&&re(new Map);function he(ve){return typeof Map>"u"?!1:re.working?re(ve):ve instanceof Map}e.isMap=he;function Ce(ve){return c(ve)==="[object Set]"}Ce.working=typeof Set<"u"&&Ce(new Set);function _e(ve){return typeof Set>"u"?!1:Ce.working?Ce(ve):ve instanceof Set}e.isSet=_e;function ie(ve){return c(ve)==="[object WeakMap]"}ie.working=typeof WeakMap<"u"&&ie(new WeakMap);function Ae(ve){return typeof WeakMap>"u"?!1:ie.working?ie(ve):ve instanceof WeakMap}e.isWeakMap=Ae;function de(ve){return c(ve)==="[object WeakSet]"}de.working=typeof WeakSet<"u"&&de(new WeakSet);function ue(ve){return de(ve)}e.isWeakSet=ue;function K(ve){return c(ve)==="[object ArrayBuffer]"}K.working=typeof ArrayBuffer<"u"&&K(new ArrayBuffer);function oe(ve){return typeof ArrayBuffer>"u"?!1:K.working?K(ve):ve instanceof ArrayBuffer}e.isArrayBuffer=oe;function pe(ve){return c(ve)==="[object DataView]"}pe.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&pe(new DataView(new ArrayBuffer(1),0,1));function z(ve){return typeof DataView>"u"?!1:pe.working?pe(ve):ve instanceof DataView}e.isDataView=z;var U=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function G(ve){return c(ve)==="[object SharedArrayBuffer]"}function W(ve){return typeof U>"u"?!1:(typeof G.working>"u"&&(G.working=G(new U)),G.working?G(ve):ve instanceof U)}e.isSharedArrayBuffer=W;function Q(ve){return c(ve)==="[object AsyncFunction]"}e.isAsyncFunction=Q;function X(ve){return c(ve)==="[object Map Iterator]"}e.isMapIterator=X;function J(ve){return c(ve)==="[object Set Iterator]"}e.isSetIterator=J;function se(ve){return c(ve)==="[object Generator]"}e.isGeneratorObject=se;function xe(ve){return c(ve)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=xe;function be(ve){return E(ve,g)}e.isNumberObject=be;function ae(ve){return E(ve,p)}e.isStringObject=ae;function le(ve){return E(ve,m)}e.isBooleanObject=le;function we(ve){return l&&E(ve,x)}e.isBigIntObject=we;function De(ve){return u&&E(ve,b)}e.isSymbolObject=De;function je(ve){return be(ve)||ae(ve)||le(ve)||we(ve)||De(ve)}e.isBoxedPrimitive=je;function Ue(ve){return typeof Uint8Array<"u"&&(oe(ve)||W(ve))}e.isAnyArrayBuffer=Ue,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ve){Object.defineProperty(e,ve,{enumerable:!1,value:function(){throw new Error(ve+" is not supported in userland")}})})}(uE)),uE}var aC,R_;function jW(){return R_||(R_=1,aC=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),aC}var kb={exports:{}},T_;function zW(){return T_||(T_=1,typeof Object.create=="function"?kb.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:kb.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}),kb.exports}var N_;function gg(){return N_||(N_=1,function(e){var t={},n=Object.getOwnPropertyDescriptors||function(U){for(var G=Object.keys(U),W={},Q=0;Q<G.length;Q++)W[G[Q]]=Object.getOwnPropertyDescriptor(U,G[Q]);return W},r=/%[sdj%]/g;e.format=function(z){if(!B(z)){for(var U=[],G=0;G<arguments.length;G++)U.push(u(arguments[G]));return U.join(" ")}for(var G=1,W=arguments,Q=W.length,X=String(z).replace(r,function(se){if(se==="%%")return"%";if(G>=Q)return se;switch(se){case"%s":return String(W[G++]);case"%d":return Number(W[G++]);case"%j":try{return JSON.stringify(W[G++])}catch{return"[Circular]"}default:return se}}),J=W[G];G<Q;J=W[++G])_(J)||!Z(J)?X+=" "+J:X+=" "+u(J);return X},e.deprecate=function(z,U){if(typeof process<"u"&&process.noDeprecation===!0)return z;if(typeof process>"u")return function(){return e.deprecate(z,U).apply(this,arguments)};var G=!1;function W(){if(!G){if(process.throwDeprecation)throw new Error(U);process.traceDeprecation?console.trace(U):console.error(U),G=!0}return z.apply(this,arguments)}return W};var i={},s=/^$/;if(t.NODE_DEBUG){var l=t.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+l+"$","i")}e.debuglog=function(z){if(z=z.toUpperCase(),!i[z])if(s.test(z)){var U=process.pid;i[z]=function(){var G=e.format.apply(e,arguments);console.error("%s %d: %s",z,U,G)}}else i[z]=function(){};return i[z]};function u(z,U){var G={seen:[],stylize:g};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),T(U)?G.showHidden=U:U&&e._extend(G,U),k(G.showHidden)&&(G.showHidden=!1),k(G.depth)&&(G.depth=2),k(G.colors)&&(G.colors=!1),k(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=c),m(G,z,G.depth)}e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(z,U){var G=u.styles[U];return G?"\x1B["+u.colors[G][0]+"m"+z+"\x1B["+u.colors[G][1]+"m":z}function g(z,U){return z}function p(z){var U={};return z.forEach(function(G,W){U[G]=!0}),U}function m(z,U,G){if(z.customInspect&&U&&he(U.inspect)&&U.inspect!==e.inspect&&!(U.constructor&&U.constructor.prototype===U)){var W=U.inspect(G,z);return B(W)||(W=m(z,W,G)),W}var Q=x(z,U);if(Q)return Q;var X=Object.keys(U),J=p(X);if(z.showHidden&&(X=Object.getOwnPropertyNames(U)),re(U)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return b(U);if(X.length===0){if(he(U)){var se=U.name?": "+U.name:"";return z.stylize("[Function"+se+"]","special")}if($(U))return z.stylize(RegExp.prototype.toString.call(U),"regexp");if(ne(U))return z.stylize(Date.prototype.toString.call(U),"date");if(re(U))return b(U)}var xe="",be=!1,ae=["{","}"];if(R(U)&&(be=!0,ae=["[","]"]),he(U)){var le=U.name?": "+U.name:"";xe=" [Function"+le+"]"}if($(U)&&(xe=" "+RegExp.prototype.toString.call(U)),ne(U)&&(xe=" "+Date.prototype.toUTCString.call(U)),re(U)&&(xe=" "+b(U)),X.length===0&&(!be||U.length==0))return ae[0]+xe+ae[1];if(G<0)return $(U)?z.stylize(RegExp.prototype.toString.call(U),"regexp"):z.stylize("[Object]","special");z.seen.push(U);var we;return be?we=E(z,U,G,J,X):we=X.map(function(De){return w(z,U,G,J,De,be)}),z.seen.pop(),C(we,xe,ae)}function x(z,U){if(k(U))return z.stylize("undefined","undefined");if(B(U)){var G="'"+JSON.stringify(U).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(G,"string")}if(F(U))return z.stylize(""+U,"number");if(T(U))return z.stylize(""+U,"boolean");if(_(U))return z.stylize("null","null")}function b(z){return"["+Error.prototype.toString.call(z)+"]"}function E(z,U,G,W,Q){for(var X=[],J=0,se=U.length;J<se;++J)ue(U,String(J))?X.push(w(z,U,G,W,String(J),!0)):X.push("");return Q.forEach(function(xe){xe.match(/^\d+$/)||X.push(w(z,U,G,W,xe,!0))}),X}function w(z,U,G,W,Q,X){var J,se,xe;if(xe=Object.getOwnPropertyDescriptor(U,Q)||{value:U[Q]},xe.get?xe.set?se=z.stylize("[Getter/Setter]","special"):se=z.stylize("[Getter]","special"):xe.set&&(se=z.stylize("[Setter]","special")),ue(W,Q)||(J="["+Q+"]"),se||(z.seen.indexOf(xe.value)<0?(_(G)?se=m(z,xe.value,null):se=m(z,xe.value,G-1),se.indexOf(`
`)>-1&&(X?se=se.split(`
`).map(function(be){return"  "+be}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(be){return"   "+be}).join(`
`))):se=z.stylize("[Circular]","special")),k(J)){if(X&&Q.match(/^\d+$/))return se;J=JSON.stringify(""+Q),J.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(J=J.slice(1,-1),J=z.stylize(J,"name")):(J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=z.stylize(J,"string"))}return J+": "+se}function C(z,U,G){var W=z.reduce(function(Q,X){return X.indexOf(`
`)>=0,Q+X.replace(/\u001b\[\d\d?m/g,"").length+1},0);return W>60?G[0]+(U===""?"":U+`
 `)+" "+z.join(`,
  `)+" "+G[1]:G[0]+U+" "+z.join(", ")+" "+G[1]}e.types=BW();function R(z){return Array.isArray(z)}e.isArray=R;function T(z){return typeof z=="boolean"}e.isBoolean=T;function _(z){return z===null}e.isNull=_;function D(z){return z==null}e.isNullOrUndefined=D;function F(z){return typeof z=="number"}e.isNumber=F;function B(z){return typeof z=="string"}e.isString=B;function j(z){return typeof z=="symbol"}e.isSymbol=j;function k(z){return z===void 0}e.isUndefined=k;function $(z){return Z(z)&&_e(z)==="[object RegExp]"}e.isRegExp=$,e.types.isRegExp=$;function Z(z){return typeof z=="object"&&z!==null}e.isObject=Z;function ne(z){return Z(z)&&_e(z)==="[object Date]"}e.isDate=ne,e.types.isDate=ne;function re(z){return Z(z)&&(_e(z)==="[object Error]"||z instanceof Error)}e.isError=re,e.types.isNativeError=re;function he(z){return typeof z=="function"}e.isFunction=he;function Ce(z){return z===null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"||typeof z=="symbol"||typeof z>"u"}e.isPrimitive=Ce,e.isBuffer=jW();function _e(z){return Object.prototype.toString.call(z)}function ie(z){return z<10?"0"+z.toString(10):z.toString(10)}var Ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(){var z=new Date,U=[ie(z.getHours()),ie(z.getMinutes()),ie(z.getSeconds())].join(":");return[z.getDate(),Ae[z.getMonth()],U].join(" ")}e.log=function(){console.log("%s - %s",de(),e.format.apply(e,arguments))},e.inherits=zW(),e._extend=function(z,U){if(!U||!Z(U))return z;for(var G=Object.keys(U),W=G.length;W--;)z[G[W]]=U[G[W]];return z};function ue(z,U){return Object.prototype.hasOwnProperty.call(z,U)}var K=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(U){if(typeof U!="function")throw new TypeError('The "original" argument must be of type Function');if(K&&U[K]){var G=U[K];if(typeof G!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(G,K,{value:G,enumerable:!1,writable:!1,configurable:!0}),G}function G(){for(var W,Q,X=new Promise(function(xe,be){W=xe,Q=be}),J=[],se=0;se<arguments.length;se++)J.push(arguments[se]);J.push(function(xe,be){xe?Q(xe):W(be)});try{U.apply(this,J)}catch(xe){Q(xe)}return X}return Object.setPrototypeOf(G,Object.getPrototypeOf(U)),K&&Object.defineProperty(G,K,{value:G,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(G,n(U))},e.promisify.custom=K;function oe(z,U){if(!z){var G=new Error("Promise was rejected with a falsy value");G.reason=z,z=G}return U(z)}function pe(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');function U(){for(var G=[],W=0;W<arguments.length;W++)G.push(arguments[W]);var Q=G.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var X=this,J=function(){return Q.apply(X,arguments)};z.apply(this,G).then(function(se){process.nextTick(J.bind(null,null,se))},function(se){process.nextTick(oe.bind(null,se,J))})}return Object.setPrototypeOf(U,Object.getPrototypeOf(z)),Object.defineProperties(U,n(z)),U}e.callbackify=pe}(lE)),lE}var __;function rk(){if(__)return aE;__=1;function e(T){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},e(T)}function t(T,_,D){return Object.defineProperty(T,"prototype",{writable:!1}),T}function n(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function r(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),_&&i(T,_)}function i(T,_){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,B){return F.__proto__=B,F},i(T,_)}function s(T){var _=c();return function(){var F=g(T),B;if(_){var j=g(this).constructor;B=Reflect.construct(F,arguments,j)}else B=F.apply(this,arguments);return l(this,B)}}function l(T,_){if(_&&(e(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(T)}function u(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(T){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},g(T)}var p={},m,x;function b(T,_,D){D||(D=Error);function F(j,k,$){return typeof _=="string"?_:_(j,k,$)}var B=function(j){r($,j);var k=s($);function $(Z,ne,re){var he;return n(this,$),he=k.call(this,F(Z,ne,re)),he.code=T,he}return t($)}(D);p[T]=B}function E(T,_){if(Array.isArray(T)){var D=T.length;return T=T.map(function(F){return String(F)}),D>2?"one of ".concat(_," ").concat(T.slice(0,D-1).join(", "),", or ")+T[D-1]:D===2?"one of ".concat(_," ").concat(T[0]," or ").concat(T[1]):"of ".concat(_," ").concat(T[0])}else return"of ".concat(_," ").concat(String(T))}function w(T,_,D){return T.substr(0,_.length)===_}function C(T,_,D){return(D===void 0||D>T.length)&&(D=T.length),T.substring(D-_.length,D)===_}function R(T,_,D){return typeof D!="number"&&(D=0),D+_.length>T.length?!1:T.indexOf(_,D)!==-1}return b("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),b("ERR_INVALID_ARG_TYPE",function(T,_,D){m===void 0&&(m=_i()),m(typeof T=="string","'name' must be a string");var F;typeof _=="string"&&w(_,"not ")?(F="must not be",_=_.replace(/^not /,"")):F="must be";var B;if(C(T," argument"))B="The ".concat(T," ").concat(F," ").concat(E(_,"type"));else{var j=R(T,".")?"property":"argument";B='The "'.concat(T,'" ').concat(j," ").concat(F," ").concat(E(_,"type"))}return B+=". Received type ".concat(e(D)),B},TypeError),b("ERR_INVALID_ARG_VALUE",function(T,_){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";x===void 0&&(x=gg());var F=x.inspect(_);return F.length>128&&(F="".concat(F.slice(0,128),"...")),"The argument '".concat(T,"' ").concat(D,". Received ").concat(F)},TypeError),b("ERR_INVALID_RETURN_VALUE",function(T,_,D){var F;return D&&D.constructor&&D.constructor.name?F="instance of ".concat(D.constructor.name):F="type ".concat(e(D)),"Expected ".concat(T,' to be returned from the "').concat(_,'"')+" function but got ".concat(F,".")},TypeError),b("ERR_MISSING_ARGS",function(){for(var T=arguments.length,_=new Array(T),D=0;D<T;D++)_[D]=arguments[D];m===void 0&&(m=_i()),m(_.length>0,"At least one arg needs to be specified");var F="The ",B=_.length;switch(_=_.map(function(j){return'"'.concat(j,'"')}),B){case 1:F+="".concat(_[0]," argument");break;case 2:F+="".concat(_[0]," and ").concat(_[1]," arguments");break;default:F+=_.slice(0,B-1).join(", "),F+=", and ".concat(_[B-1]," arguments");break}return"".concat(F," must be specified")},TypeError),aE.codes=p,aE}var lC,I_;function UW(){if(I_)return lC;I_=1;function e(ue,K){var oe=Object.keys(ue);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(ue);K&&(pe=pe.filter(function(z){return Object.getOwnPropertyDescriptor(ue,z).enumerable})),oe.push.apply(oe,pe)}return oe}function t(ue){for(var K=1;K<arguments.length;K++){var oe=arguments[K]!=null?arguments[K]:{};K%2?e(Object(oe),!0).forEach(function(pe){n(ue,pe,oe[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(oe)):e(Object(oe)).forEach(function(pe){Object.defineProperty(ue,pe,Object.getOwnPropertyDescriptor(oe,pe))})}return ue}function n(ue,K,oe){return K=l(K),K in ue?Object.defineProperty(ue,K,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ue[K]=oe,ue}function r(ue,K){if(!(ue instanceof K))throw new TypeError("Cannot call a class as a function")}function i(ue,K){for(var oe=0;oe<K.length;oe++){var pe=K[oe];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(ue,l(pe.key),pe)}}function s(ue,K,oe){return K&&i(ue.prototype,K),Object.defineProperty(ue,"prototype",{writable:!1}),ue}function l(ue){var K=u(ue,"string");return T(K)==="symbol"?K:String(K)}function u(ue,K){if(T(ue)!=="object"||ue===null)return ue;var oe=ue[Symbol.toPrimitive];if(oe!==void 0){var pe=oe.call(ue,K);if(T(pe)!=="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ue)}function c(ue,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(K&&K.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),Object.defineProperty(ue,"prototype",{writable:!1}),K&&C(ue,K)}function g(ue){var K=E();return function(){var pe=R(ue),z;if(K){var U=R(this).constructor;z=Reflect.construct(pe,arguments,U)}else z=pe.apply(this,arguments);return p(this,z)}}function p(ue,K){if(K&&(T(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(ue)}function m(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function x(ue){var K=typeof Map=="function"?new Map:void 0;return x=function(pe){if(pe===null||!w(pe))return pe;if(typeof pe!="function")throw new TypeError("Super expression must either be null or a function");if(typeof K<"u"){if(K.has(pe))return K.get(pe);K.set(pe,z)}function z(){return b(pe,arguments,R(this).constructor)}return z.prototype=Object.create(pe.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),C(z,pe)},x(ue)}function b(ue,K,oe){return E()?b=Reflect.construct.bind():b=function(z,U,G){var W=[null];W.push.apply(W,U);var Q=Function.bind.apply(z,W),X=new Q;return G&&C(X,G.prototype),X},b.apply(null,arguments)}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(ue){return Function.toString.call(ue).indexOf("[native code]")!==-1}function C(ue,K){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pe,z){return pe.__proto__=z,pe},C(ue,K)}function R(ue){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},R(ue)}function T(ue){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},T(ue)}var _=gg(),D=_.inspect,F=rk(),B=F.codes.ERR_INVALID_ARG_TYPE;function j(ue,K,oe){return(oe===void 0||oe>ue.length)&&(oe=ue.length),ue.substring(oe-K.length,oe)===K}function k(ue,K){if(K=Math.floor(K),ue.length==0||K==0)return"";var oe=ue.length*K;for(K=Math.floor(Math.log(K)/Math.log(2));K;)ue+=ue,K--;return ue+=ue.substring(0,oe-ue.length),ue}var $="",Z="",ne="",re="",he={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Ce=10;function _e(ue){var K=Object.keys(ue),oe=Object.create(Object.getPrototypeOf(ue));return K.forEach(function(pe){oe[pe]=ue[pe]}),Object.defineProperty(oe,"message",{value:ue.message}),oe}function ie(ue){return D(ue,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Ae(ue,K,oe){var pe="",z="",U=0,G="",W=!1,Q=ie(ue),X=Q.split(`
`),J=ie(K).split(`
`),se=0,xe="";if(oe==="strictEqual"&&T(ue)==="object"&&T(K)==="object"&&ue!==null&&K!==null&&(oe="strictEqualObject"),X.length===1&&J.length===1&&X[0]!==J[0]){var be=X[0].length+J[0].length;if(be<=Ce){if((T(ue)!=="object"||ue===null)&&(T(K)!=="object"||K===null)&&(ue!==0||K!==0))return"".concat(he[oe],`

`)+"".concat(X[0]," !== ").concat(J[0],`
`)}else if(oe!=="strictEqualObject"){var ae=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(be<ae){for(;X[0][se]===J[0][se];)se++;se>2&&(xe=`
  `.concat(k(" ",se),"^"),se=0)}}}for(var le=X[X.length-1],we=J[J.length-1];le===we&&(se++<2?G=`
  `.concat(le).concat(G):pe=le,X.pop(),J.pop(),!(X.length===0||J.length===0));)le=X[X.length-1],we=J[J.length-1];var De=Math.max(X.length,J.length);if(De===0){var je=Q.split(`
`);if(je.length>30)for(je[26]="".concat($,"...").concat(re);je.length>27;)je.pop();return"".concat(he.notIdentical,`

`).concat(je.join(`
`),`
`)}se>3&&(G=`
`.concat($,"...").concat(re).concat(G),W=!0),pe!==""&&(G=`
  `.concat(pe).concat(G),pe="");var Ue=0,ve=he[oe]+`
`.concat(Z,"+ actual").concat(re," ").concat(ne,"- expected").concat(re),Pe=" ".concat($,"...").concat(re," Lines skipped");for(se=0;se<De;se++){var Ze=se-U;if(X.length<se+1)Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(re),W=!0):Ze>3&&(z+=`
  `.concat(J[se-2]),Ue++),z+=`
  `.concat(J[se-1]),Ue++),U=se,pe+=`
`.concat(ne,"-").concat(re," ").concat(J[se]),Ue++;else if(J.length<se+1)Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(re),W=!0):Ze>3&&(z+=`
  `.concat(X[se-2]),Ue++),z+=`
  `.concat(X[se-1]),Ue++),U=se,z+=`
`.concat(Z,"+").concat(re," ").concat(X[se]),Ue++;else{var pt=J[se],gt=X[se],me=gt!==pt&&(!j(gt,",")||gt.slice(0,-1)!==pt);me&&j(pt,",")&&pt.slice(0,-1)===gt&&(me=!1,gt+=","),me?(Ze>1&&se>2&&(Ze>4?(z+=`
`.concat($,"...").concat(re),W=!0):Ze>3&&(z+=`
  `.concat(X[se-2]),Ue++),z+=`
  `.concat(X[se-1]),Ue++),U=se,z+=`
`.concat(Z,"+").concat(re," ").concat(gt),pe+=`
`.concat(ne,"-").concat(re," ").concat(pt),Ue+=2):(z+=pe,pe="",(Ze===1||se===0)&&(z+=`
  `.concat(gt),Ue++))}if(Ue>20&&se<De-2)return"".concat(ve).concat(Pe,`
`).concat(z,`
`).concat($,"...").concat(re).concat(pe,`
`)+"".concat($,"...").concat(re)}return"".concat(ve).concat(W?Pe:"",`
`).concat(z).concat(pe).concat(G).concat(xe)}var de=function(ue,K){c(pe,ue);var oe=g(pe);function pe(z){var U;if(r(this,pe),T(z)!=="object"||z===null)throw new B("options","Object",z);var G=z.message,W=z.operator,Q=z.stackStartFn,X=z.actual,J=z.expected,se=Error.stackTraceLimit;if(Error.stackTraceLimit=0,G!=null)U=oe.call(this,String(G));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?($="\x1B[34m",Z="\x1B[32m",re="\x1B[39m",ne="\x1B[31m"):($="",Z="",re="",ne="")),T(X)==="object"&&X!==null&&T(J)==="object"&&J!==null&&"stack"in X&&X instanceof Error&&"stack"in J&&J instanceof Error&&(X=_e(X),J=_e(J)),W==="deepStrictEqual"||W==="strictEqual")U=oe.call(this,Ae(X,J,W));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var xe=he[W],be=ie(X).split(`
`);if(W==="notStrictEqual"&&T(X)==="object"&&X!==null&&(xe=he.notStrictEqualObject),be.length>30)for(be[26]="".concat($,"...").concat(re);be.length>27;)be.pop();be.length===1?U=oe.call(this,"".concat(xe," ").concat(be[0])):U=oe.call(this,"".concat(xe,`

`).concat(be.join(`
`),`
`))}else{var ae=ie(X),le="",we=he[W];W==="notDeepEqual"||W==="notEqual"?(ae="".concat(he[W],`

`).concat(ae),ae.length>1024&&(ae="".concat(ae.slice(0,1021),"..."))):(le="".concat(ie(J)),ae.length>512&&(ae="".concat(ae.slice(0,509),"...")),le.length>512&&(le="".concat(le.slice(0,509),"...")),W==="deepEqual"||W==="equal"?ae="".concat(we,`

`).concat(ae,`

should equal

`):le=" ".concat(W," ").concat(le)),U=oe.call(this,"".concat(ae).concat(le))}return Error.stackTraceLimit=se,U.generatedMessage=!G,Object.defineProperty(m(U),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),U.code="ERR_ASSERTION",U.actual=X,U.expected=J,U.operator=W,Error.captureStackTrace&&Error.captureStackTrace(m(U),Q),U.stack,U.name="AssertionError",p(U)}return s(pe,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:K,value:function(U,G){return D(this,t(t({},G),{},{customInspect:!1,depth:0}))}}]),pe}(x(Error),D.custom);return lC=de,lC}var uC,O_;function ik(){if(O_)return uC;O_=1;var e=Object.prototype.toString;return uC=function(n){var r=e.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),i},uC}var cC,D_;function VW(){if(D_)return cC;D_=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=ik(),i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),l=i.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(x){var b=x.constructor;return b&&b.prototype===x},g={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var x in window)try{if(!g["$"+x]&&t.call(window,x)&&window[x]!==null&&typeof window[x]=="object")try{c(window[x])}catch{return!0}}catch{return!0}return!1}(),m=function(x){if(typeof window>"u"||!p)return c(x);try{return c(x)}catch{return!1}};e=function(b){var E=b!==null&&typeof b=="object",w=n.call(b)==="[object Function]",C=r(b),R=E&&n.call(b)==="[object String]",T=[];if(!E&&!w&&!C)throw new TypeError("Object.keys called on a non-object");var _=l&&w;if(R&&b.length>0&&!t.call(b,0))for(var D=0;D<b.length;++D)T.push(String(D));if(C&&b.length>0)for(var F=0;F<b.length;++F)T.push(String(F));else for(var B in b)!(_&&B==="prototype")&&t.call(b,B)&&T.push(String(B));if(s)for(var j=m(b),k=0;k<u.length;++k)!(j&&u[k]==="constructor")&&t.call(b,u[k])&&T.push(u[k]);return T}}return cC=e,cC}var fC,M_;function ok(){if(M_)return fC;M_=1;var e=Array.prototype.slice,t=ik(),n=Object.keys,r=n?function(l){return n(l)}:VW(),i=Object.keys;return r.shim=function(){if(Object.keys){var l=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);l||(Object.keys=function(c){return t(c)?i(e.call(c)):i(c)})}else Object.keys=r;return Object.keys||r},fC=r,fC}var dC,P_;function GW(){if(P_)return dC;P_=1;var e=ok(),t=sR()(),n=Og(),r=aR(),i=n("Array.prototype.push"),s=n("Object.prototype.propertyIsEnumerable"),l=t?r.getOwnPropertySymbols:null;return dC=function(c,g){if(c==null)throw new TypeError("target must be an object");var p=r(c);if(arguments.length===1)return p;for(var m=1;m<arguments.length;++m){var x=r(arguments[m]),b=e(x),E=t&&(r.getOwnPropertySymbols||l);if(E)for(var w=E(x),C=0;C<w.length;++C){var R=w[C];s(x,R)&&i(b,R)}for(var T=0;T<b.length;++T){var _=b[T];if(s(x,_)){var D=x[_];p[_]=D}}}return p},dC}var hC,L_;function $W(){if(L_)return hC;L_=1;var e=GW(),t=function(){if(!Object.assign)return!1;for(var r="abcdefghijklmnopqrst",i=r.split(""),s={},l=0;l<i.length;++l)s[i[l]]=i[l];var u=Object.assign({},s),c="";for(var g in u)c+=g;return r!==c},n=function(){if(!Object.assign||!Object.preventExtensions)return!1;var r=Object.preventExtensions({1:2});try{Object.assign(r,"xy")}catch{return r[1]==="y"}return!1};return hC=function(){return!Object.assign||t()||n()?e:Object.assign},hC}var pC,F_;function sk(){if(F_)return pC;F_=1;var e=function(t){return t!==t};return pC=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},pC}var gC,k_;function hR(){if(k_)return gC;k_=1;var e=sk();return gC=function(){return typeof Object.is=="function"?Object.is:e},gC}var mC,B_;function HW(){if(B_)return mC;B_=1;var e=dR(),t=s1(),n=t(e("String.prototype.indexOf"));return mC=function(i,s){var l=e(i,!!s);return typeof l=="function"&&n(i,".prototype.")>-1?t(l):l},mC}var vC,j_;function a1(){if(j_)return vC;j_=1;var e=ok(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,i=ek(),s=function(g){return typeof g=="function"&&n.call(g)==="[object Function]"},l=tk()(),u=function(g,p,m,x){if(p in g){if(x===!0){if(g[p]===m)return}else if(!s(x)||!x())return}l?i(g,p,m,!0):i(g,p,m)},c=function(g,p){var m=arguments.length>2?arguments[2]:{},x=e(p);t&&(x=r.call(x,Object.getOwnPropertySymbols(p)));for(var b=0;b<x.length;b+=1)u(g,x[b],p[x[b]],m[x[b]])};return c.supportsDescriptors=!!l,vC=c,vC}var yC,z_;function WW(){if(z_)return yC;z_=1;var e=hR(),t=a1();return yC=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},yC}var xC,U_;function YW(){if(U_)return xC;U_=1;var e=a1(),t=s1(),n=sk(),r=hR(),i=WW(),s=t(r(),Object);return e(s,{getPolyfill:r,implementation:n,shim:i}),xC=s,xC}var bC,V_;function ak(){return V_||(V_=1,bC=function(t){return t!==t}),bC}var SC,G_;function lk(){if(G_)return SC;G_=1;var e=ak();return SC=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},SC}var AC,$_;function qW(){if($_)return AC;$_=1;var e=a1(),t=lk();return AC=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},AC}var EC,H_;function KW(){if(H_)return EC;H_=1;var e=s1(),t=a1(),n=ak(),r=lk(),i=qW(),s=e(r(),Number);return t(s,{getPolyfill:r,implementation:n,shim:i}),EC=s,EC}var CC,W_;function XW(){if(W_)return CC;W_=1;function e(me,Ie){return s(me)||i(me,Ie)||n(me,Ie)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(me,Ie){if(me){if(typeof me=="string")return r(me,Ie);var qe=Object.prototype.toString.call(me).slice(8,-1);if(qe==="Object"&&me.constructor&&(qe=me.constructor.name),qe==="Map"||qe==="Set")return Array.from(me);if(qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return r(me,Ie)}}function r(me,Ie){(Ie==null||Ie>me.length)&&(Ie=me.length);for(var qe=0,Ye=new Array(Ie);qe<Ie;qe++)Ye[qe]=me[qe];return Ye}function i(me,Ie){var qe=me==null?null:typeof Symbol<"u"&&me[Symbol.iterator]||me["@@iterator"];if(qe!=null){var Ye,tt,lt,xt,Rt=[],It=!0,ln=!1;try{if(lt=(qe=qe.call(me)).next,Ie!==0)for(;!(It=(Ye=lt.call(qe)).done)&&(Rt.push(Ye.value),Rt.length!==Ie);It=!0);}catch(ke){ln=!0,tt=ke}finally{try{if(!It&&qe.return!=null&&(xt=qe.return(),Object(xt)!==xt))return}finally{if(ln)throw tt}}return Rt}}function s(me){if(Array.isArray(me))return me}function l(me){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},l(me)}var u=/a/g.flags!==void 0,c=function(Ie){var qe=[];return Ie.forEach(function(Ye){return qe.push(Ye)}),qe},g=function(Ie){var qe=[];return Ie.forEach(function(Ye,tt){return qe.push([tt,Ye])}),qe},p=Object.is?Object.is:YW(),m=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},x=Number.isNaN?Number.isNaN:KW();function b(me){return me.call.bind(me)}var E=b(Object.prototype.hasOwnProperty),w=b(Object.prototype.propertyIsEnumerable),C=b(Object.prototype.toString),R=gg().types,T=R.isAnyArrayBuffer,_=R.isArrayBufferView,D=R.isDate,F=R.isMap,B=R.isRegExp,j=R.isSet,k=R.isNativeError,$=R.isBoxedPrimitive,Z=R.isNumberObject,ne=R.isStringObject,re=R.isBooleanObject,he=R.isBigIntObject,Ce=R.isSymbolObject,_e=R.isFloat32Array,ie=R.isFloat64Array;function Ae(me){if(me.length===0||me.length>10)return!0;for(var Ie=0;Ie<me.length;Ie++){var qe=me.charCodeAt(Ie);if(qe<48||qe>57)return!0}return me.length===10&&me>=Math.pow(2,32)}function de(me){return Object.keys(me).filter(Ae).concat(m(me).filter(Object.prototype.propertyIsEnumerable.bind(me)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function ue(me,Ie){if(me===Ie)return 0;for(var qe=me.length,Ye=Ie.length,tt=0,lt=Math.min(qe,Ye);tt<lt;++tt)if(me[tt]!==Ie[tt]){qe=me[tt],Ye=Ie[tt];break}return qe<Ye?-1:Ye<qe?1:0}var K=!0,oe=!1,pe=0,z=1,U=2,G=3;function W(me,Ie){return u?me.source===Ie.source&&me.flags===Ie.flags:RegExp.prototype.toString.call(me)===RegExp.prototype.toString.call(Ie)}function Q(me,Ie){if(me.byteLength!==Ie.byteLength)return!1;for(var qe=0;qe<me.byteLength;qe++)if(me[qe]!==Ie[qe])return!1;return!0}function X(me,Ie){return me.byteLength!==Ie.byteLength?!1:ue(new Uint8Array(me.buffer,me.byteOffset,me.byteLength),new Uint8Array(Ie.buffer,Ie.byteOffset,Ie.byteLength))===0}function J(me,Ie){return me.byteLength===Ie.byteLength&&ue(new Uint8Array(me),new Uint8Array(Ie))===0}function se(me,Ie){return Z(me)?Z(Ie)&&p(Number.prototype.valueOf.call(me),Number.prototype.valueOf.call(Ie)):ne(me)?ne(Ie)&&String.prototype.valueOf.call(me)===String.prototype.valueOf.call(Ie):re(me)?re(Ie)&&Boolean.prototype.valueOf.call(me)===Boolean.prototype.valueOf.call(Ie):he(me)?he(Ie)&&BigInt.prototype.valueOf.call(me)===BigInt.prototype.valueOf.call(Ie):Ce(Ie)&&Symbol.prototype.valueOf.call(me)===Symbol.prototype.valueOf.call(Ie)}function xe(me,Ie,qe,Ye){if(me===Ie)return me!==0?!0:qe?p(me,Ie):!0;if(qe){if(l(me)!=="object")return typeof me=="number"&&x(me)&&x(Ie);if(l(Ie)!=="object"||me===null||Ie===null||Object.getPrototypeOf(me)!==Object.getPrototypeOf(Ie))return!1}else{if(me===null||l(me)!=="object")return Ie===null||l(Ie)!=="object"?me==Ie:!1;if(Ie===null||l(Ie)!=="object")return!1}var tt=C(me),lt=C(Ie);if(tt!==lt)return!1;if(Array.isArray(me)){if(me.length!==Ie.length)return!1;var xt=de(me),Rt=de(Ie);return xt.length!==Rt.length?!1:ae(me,Ie,qe,Ye,z,xt)}if(tt==="[object Object]"&&(!F(me)&&F(Ie)||!j(me)&&j(Ie)))return!1;if(D(me)){if(!D(Ie)||Date.prototype.getTime.call(me)!==Date.prototype.getTime.call(Ie))return!1}else if(B(me)){if(!B(Ie)||!W(me,Ie))return!1}else if(k(me)||me instanceof Error){if(me.message!==Ie.message||me.name!==Ie.name)return!1}else if(_(me)){if(!qe&&(_e(me)||ie(me))){if(!Q(me,Ie))return!1}else if(!X(me,Ie))return!1;var It=de(me),ln=de(Ie);return It.length!==ln.length?!1:ae(me,Ie,qe,Ye,pe,It)}else{if(j(me))return!j(Ie)||me.size!==Ie.size?!1:ae(me,Ie,qe,Ye,U);if(F(me))return!F(Ie)||me.size!==Ie.size?!1:ae(me,Ie,qe,Ye,G);if(T(me)){if(!J(me,Ie))return!1}else if($(me)&&!se(me,Ie))return!1}return ae(me,Ie,qe,Ye,pe)}function be(me,Ie){return Ie.filter(function(qe){return w(me,qe)})}function ae(me,Ie,qe,Ye,tt,lt){if(arguments.length===5){lt=Object.keys(me);var xt=Object.keys(Ie);if(lt.length!==xt.length)return!1}for(var Rt=0;Rt<lt.length;Rt++)if(!E(Ie,lt[Rt]))return!1;if(qe&&arguments.length===5){var It=m(me);if(It.length!==0){var ln=0;for(Rt=0;Rt<It.length;Rt++){var ke=It[Rt];if(w(me,ke)){if(!w(Ie,ke))return!1;lt.push(ke),ln++}else if(w(Ie,ke))return!1}var nt=m(Ie);if(It.length!==nt.length&&be(Ie,nt).length!==ln)return!1}else{var mt=m(Ie);if(mt.length!==0&&be(Ie,mt).length!==0)return!1}}if(lt.length===0&&(tt===pe||tt===z&&me.length===0||me.size===0))return!0;if(Ye===void 0)Ye={val1:new Map,val2:new Map,position:0};else{var At=Ye.val1.get(me);if(At!==void 0){var Dt=Ye.val2.get(Ie);if(Dt!==void 0)return At===Dt}Ye.position++}Ye.val1.set(me,Ye.position),Ye.val2.set(Ie,Ye.position);var xn=Ze(me,Ie,qe,lt,Ye,tt);return Ye.val1.delete(me),Ye.val2.delete(Ie),xn}function le(me,Ie,qe,Ye){for(var tt=c(me),lt=0;lt<tt.length;lt++){var xt=tt[lt];if(xe(Ie,xt,qe,Ye))return me.delete(xt),!0}return!1}function we(me){switch(l(me)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":me=+me;case"number":if(x(me))return!1}return!0}function De(me,Ie,qe){var Ye=we(qe);return Ye??(Ie.has(Ye)&&!me.has(Ye))}function je(me,Ie,qe,Ye,tt){var lt=we(qe);if(lt!=null)return lt;var xt=Ie.get(lt);return xt===void 0&&!Ie.has(lt)||!xe(Ye,xt,!1,tt)?!1:!me.has(lt)&&xe(Ye,xt,!1,tt)}function Ue(me,Ie,qe,Ye){for(var tt=null,lt=c(me),xt=0;xt<lt.length;xt++){var Rt=lt[xt];if(l(Rt)==="object"&&Rt!==null)tt===null&&(tt=new Set),tt.add(Rt);else if(!Ie.has(Rt)){if(qe||!De(me,Ie,Rt))return!1;tt===null&&(tt=new Set),tt.add(Rt)}}if(tt!==null){for(var It=c(Ie),ln=0;ln<It.length;ln++){var ke=It[ln];if(l(ke)==="object"&&ke!==null){if(!le(tt,ke,qe,Ye))return!1}else if(!qe&&!me.has(ke)&&!le(tt,ke,qe,Ye))return!1}return tt.size===0}return!0}function ve(me,Ie,qe,Ye,tt,lt){for(var xt=c(me),Rt=0;Rt<xt.length;Rt++){var It=xt[Rt];if(xe(qe,It,tt,lt)&&xe(Ye,Ie.get(It),tt,lt))return me.delete(It),!0}return!1}function Pe(me,Ie,qe,Ye){for(var tt=null,lt=g(me),xt=0;xt<lt.length;xt++){var Rt=e(lt[xt],2),It=Rt[0],ln=Rt[1];if(l(It)==="object"&&It!==null)tt===null&&(tt=new Set),tt.add(It);else{var ke=Ie.get(It);if(ke===void 0&&!Ie.has(It)||!xe(ln,ke,qe,Ye)){if(qe||!je(me,Ie,It,ln,Ye))return!1;tt===null&&(tt=new Set),tt.add(It)}}}if(tt!==null){for(var nt=g(Ie),mt=0;mt<nt.length;mt++){var At=e(nt[mt],2),Dt=At[0],xn=At[1];if(l(Dt)==="object"&&Dt!==null){if(!ve(tt,me,Dt,xn,qe,Ye))return!1}else if(!qe&&(!me.has(Dt)||!xe(me.get(Dt),xn,!1,Ye))&&!ve(tt,me,Dt,xn,!1,Ye))return!1}return tt.size===0}return!0}function Ze(me,Ie,qe,Ye,tt,lt){var xt=0;if(lt===U){if(!Ue(me,Ie,qe,tt))return!1}else if(lt===G){if(!Pe(me,Ie,qe,tt))return!1}else if(lt===z)for(;xt<me.length;xt++)if(E(me,xt)){if(!E(Ie,xt)||!xe(me[xt],Ie[xt],qe,tt))return!1}else{if(E(Ie,xt))return!1;for(var Rt=Object.keys(me);xt<Rt.length;xt++){var It=Rt[xt];if(!E(Ie,It)||!xe(me[It],Ie[It],qe,tt))return!1}return Rt.length===Object.keys(Ie).length}for(xt=0;xt<Ye.length;xt++){var ln=Ye[xt];if(!xe(me[ln],Ie[ln],qe,tt))return!1}return!0}function pt(me,Ie){return xe(me,Ie,oe)}function gt(me,Ie){return xe(me,Ie,K)}return CC={isDeepEqual:pt,isDeepStrictEqual:gt},CC}var Y_;function _i(){if(Y_)return sE.exports;Y_=1;function e(U){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},e(U)}function t(U,G,W){return Object.defineProperty(U,"prototype",{writable:!1}),U}function n(U,G){if(!(U instanceof G))throw new TypeError("Cannot call a class as a function")}var r=rk(),i=r.codes,s=i.ERR_AMBIGUOUS_ARGUMENT,l=i.ERR_INVALID_ARG_TYPE,u=i.ERR_INVALID_ARG_VALUE,c=i.ERR_INVALID_RETURN_VALUE,g=i.ERR_MISSING_ARGS,p=UW(),m=gg(),x=m.inspect,b=gg().types,E=b.isPromise,w=b.isRegExp,C=$W()(),R=hR()(),T=HW()("RegExp.prototype.test"),_,D;function F(){var U=XW();_=U.isDeepEqual,D=U.isDeepStrictEqual}var B=!1,j=sE.exports=re,k={};function $(U){throw U.message instanceof Error?U.message:new p(U)}function Z(U,G,W,Q,X){var J=arguments.length,se;if(J===0)se="Failed";else if(J===1)W=U,U=void 0;else{if(B===!1){B=!0;var xe=process.emitWarning?process.emitWarning:console.warn.bind(console);xe("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}J===2&&(Q="!=")}if(W instanceof Error)throw W;var be={actual:U,expected:G,operator:Q===void 0?"fail":Q,stackStartFn:X||Z};W!==void 0&&(be.message=W);var ae=new p(be);throw se&&(ae.message=se,ae.generatedMessage=!0),ae}j.fail=Z,j.AssertionError=p;function ne(U,G,W,Q){if(!W){var X=!1;if(G===0)X=!0,Q="No value argument passed to `assert.ok()`";else if(Q instanceof Error)throw Q;var J=new p({actual:W,expected:!0,message:Q,operator:"==",stackStartFn:U});throw J.generatedMessage=X,J}}function re(){for(var U=arguments.length,G=new Array(U),W=0;W<U;W++)G[W]=arguments[W];ne.apply(void 0,[re,G.length].concat(G))}j.ok=re,j.equal=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");G!=W&&$({actual:G,expected:W,message:Q,operator:"==",stackStartFn:U})},j.notEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");G==W&&$({actual:G,expected:W,message:Q,operator:"!=",stackStartFn:U})},j.deepEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");_===void 0&&F(),_(G,W)||$({actual:G,expected:W,message:Q,operator:"deepEqual",stackStartFn:U})},j.notDeepEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");_===void 0&&F(),_(G,W)&&$({actual:G,expected:W,message:Q,operator:"notDeepEqual",stackStartFn:U})},j.deepStrictEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");_===void 0&&F(),D(G,W)||$({actual:G,expected:W,message:Q,operator:"deepStrictEqual",stackStartFn:U})},j.notDeepStrictEqual=he;function he(U,G,W){if(arguments.length<2)throw new g("actual","expected");_===void 0&&F(),D(U,G)&&$({actual:U,expected:G,message:W,operator:"notDeepStrictEqual",stackStartFn:he})}j.strictEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");R(G,W)||$({actual:G,expected:W,message:Q,operator:"strictEqual",stackStartFn:U})},j.notStrictEqual=function U(G,W,Q){if(arguments.length<2)throw new g("actual","expected");R(G,W)&&$({actual:G,expected:W,message:Q,operator:"notStrictEqual",stackStartFn:U})};var Ce=t(function U(G,W,Q){var X=this;n(this,U),W.forEach(function(J){J in G&&(Q!==void 0&&typeof Q[J]=="string"&&w(G[J])&&T(G[J],Q[J])?X[J]=Q[J]:X[J]=G[J])})});function _e(U,G,W,Q,X,J){if(!(W in U)||!D(U[W],G[W])){if(!Q){var se=new Ce(U,X),xe=new Ce(G,X,U),be=new p({actual:se,expected:xe,operator:"deepStrictEqual",stackStartFn:J});throw be.actual=U,be.expected=G,be.operator=J.name,be}$({actual:U,expected:G,message:Q,operator:J.name,stackStartFn:J})}}function ie(U,G,W,Q){if(typeof G!="function"){if(w(G))return T(G,U);if(arguments.length===2)throw new l("expected",["Function","RegExp"],G);if(e(U)!=="object"||U===null){var X=new p({actual:U,expected:G,message:W,operator:"deepStrictEqual",stackStartFn:Q});throw X.operator=Q.name,X}var J=Object.keys(G);if(G instanceof Error)J.push("name","message");else if(J.length===0)throw new u("error",G,"may not be an empty object");return _===void 0&&F(),J.forEach(function(se){typeof U[se]=="string"&&w(G[se])&&T(G[se],U[se])||_e(U,G,se,W,J,Q)}),!0}return G.prototype!==void 0&&U instanceof G?!0:Error.isPrototypeOf(G)?!1:G.call({},U)===!0}function Ae(U){if(typeof U!="function")throw new l("fn","Function",U);try{U()}catch(G){return G}return k}function de(U){return E(U)||U!==null&&e(U)==="object"&&typeof U.then=="function"&&typeof U.catch=="function"}function ue(U){return Promise.resolve().then(function(){var G;if(typeof U=="function"){if(G=U(),!de(G))throw new c("instance of Promise","promiseFn",G)}else if(de(U))G=U;else throw new l("promiseFn",["Function","Promise"],U);return Promise.resolve().then(function(){return G}).then(function(){return k}).catch(function(W){return W})})}function K(U,G,W,Q){if(typeof W=="string"){if(arguments.length===4)throw new l("error",["Object","Error","Function","RegExp"],W);if(e(G)==="object"&&G!==null){if(G.message===W)throw new s("error/message",'The error message "'.concat(G.message,'" is identical to the message.'))}else if(G===W)throw new s("error/message",'The error "'.concat(G,'" is identical to the message.'));Q=W,W=void 0}else if(W!=null&&e(W)!=="object"&&typeof W!="function")throw new l("error",["Object","Error","Function","RegExp"],W);if(G===k){var X="";W&&W.name&&(X+=" (".concat(W.name,")")),X+=Q?": ".concat(Q):".";var J=U.name==="rejects"?"rejection":"exception";$({actual:void 0,expected:W,operator:U.name,message:"Missing expected ".concat(J).concat(X),stackStartFn:U})}if(W&&!ie(G,W,Q,U))throw G}function oe(U,G,W,Q){if(G!==k){if(typeof W=="string"&&(Q=W,W=void 0),!W||ie(G,W)){var X=Q?": ".concat(Q):".",J=U.name==="doesNotReject"?"rejection":"exception";$({actual:G,expected:W,operator:U.name,message:"Got unwanted ".concat(J).concat(X,`
`)+'Actual message: "'.concat(G&&G.message,'"'),stackStartFn:U})}throw G}}j.throws=function U(G){for(var W=arguments.length,Q=new Array(W>1?W-1:0),X=1;X<W;X++)Q[X-1]=arguments[X];K.apply(void 0,[U,Ae(G)].concat(Q))},j.rejects=function U(G){for(var W=arguments.length,Q=new Array(W>1?W-1:0),X=1;X<W;X++)Q[X-1]=arguments[X];return ue(G).then(function(J){return K.apply(void 0,[U,J].concat(Q))})},j.doesNotThrow=function U(G){for(var W=arguments.length,Q=new Array(W>1?W-1:0),X=1;X<W;X++)Q[X-1]=arguments[X];oe.apply(void 0,[U,Ae(G)].concat(Q))},j.doesNotReject=function U(G){for(var W=arguments.length,Q=new Array(W>1?W-1:0),X=1;X<W;X++)Q[X-1]=arguments[X];return ue(G).then(function(J){return oe.apply(void 0,[U,J].concat(Q))})},j.ifError=function U(G){if(G!=null){var W="ifError got unwanted exception: ";e(G)==="object"&&typeof G.message=="string"?G.message.length===0&&G.constructor?W+=G.constructor.name:W+=G.message:W+=x(G);var Q=new p({actual:G,expected:null,operator:"ifError",message:W,stackStartFn:U}),X=G.stack;if(typeof X=="string"){var J=X.split(`
`);J.shift();for(var se=Q.stack.split(`
`),xe=0;xe<J.length;xe++){var be=se.indexOf(J[xe]);if(be!==-1){se=se.slice(0,be);break}}Q.stack="".concat(se.join(`
`),`
`).concat(J.join(`
`))}throw Q}};function pe(U,G,W,Q,X){if(!w(G))throw new l("regexp","RegExp",G);var J=X==="match";if(typeof U!="string"||T(G,U)!==J){if(W instanceof Error)throw W;var se=!W;W=W||(typeof U!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(U)," (").concat(x(U),")"):(J?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(x(G),`. Input:

`).concat(x(U),`
`));var xe=new p({actual:U,expected:G,message:W,operator:X,stackStartFn:Q});throw xe.generatedMessage=se,xe}}j.match=function U(G,W,Q){pe(G,W,Q,U,"match")},j.doesNotMatch=function U(G,W,Q){pe(G,W,Q,U,"doesNotMatch")};function z(){for(var U=arguments.length,G=new Array(U),W=0;W<U;W++)G[W]=arguments[W];ne.apply(void 0,[z,G.length].concat(G))}return j.strict=C(z,j,{equal:j.strictEqual,deepEqual:j.deepStrictEqual,notEqual:j.notStrictEqual,notDeepEqual:j.notDeepStrictEqual}),j.strict.strict=j.strict,sE.exports}var Cs={},q_;function Ve(){if(q_)return Cs;q_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.SuppressWarnings=Cs.Override=Cs.Nullable=Cs.NotNull=void 0;function e(i,s,l){}Cs.NotNull=e;function t(i,s,l){}Cs.Nullable=t;function n(i,s,l){}Cs.Override=n;function r(i){return(s,l,u)=>{}}return Cs.SuppressWarnings=r,Cs}var wC={},K_;function sf(){return K_||(K_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.IntStream=void 0,function(t){t.EOF=-1,t.UNKNOWN_SOURCE_NAME="<unknown>"}(e.IntStream||(e.IntStream={}))}(wC)),wC}var X_;function ZW(){if(X_)return nd;X_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nd&&nd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(nd,"__esModule",{value:!0}),nd.ANTLRInputStream=void 0;const t=_i(),n=Ve(),r=sf();let i=class{constructor(l){this.p=0,this.data=l,this.n=l.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw t(this.LA(1)===r.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(l){return l===0?0:l<0&&(l++,this.p+l-1<0)||this.p+l-1>=this.n?r.IntStream.EOF:this.data.charCodeAt(this.p+l-1)}LT(l){return this.LA(l)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(l){}seek(l){if(l<=this.p){this.p=l;return}for(l=Math.min(l,this.n);this.p<l;)this.consume()}getText(l){let u=l.a,c=l.b;c>=this.n&&(c=this.n-1);let g=c-u+1;return u>=this.n?"":this.data.substr(u,g)}get sourceName(){return this.name?this.name:r.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};return e([n.Override],i.prototype,"consume",null),e([n.Override],i.prototype,"LA",null),e([n.Override],i.prototype,"index",null),e([n.Override],i.prototype,"size",null),e([n.Override],i.prototype,"mark",null),e([n.Override],i.prototype,"release",null),e([n.Override],i.prototype,"seek",null),e([n.Override],i.prototype,"getText",null),e([n.Override],i.prototype,"sourceName",null),e([n.Override],i.prototype,"toString",null),nd.ANTLRInputStream=i,nd}var rd={},bl={},j0={},Z_;function Pu(){return Z_||(Z_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=j0&&j0.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNState=void 0;const n=Ve();let r=class jw{constructor(){this.stateNumber=jw.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(s){return s instanceof jw?this.stateNumber===s.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(s,l){if(this.transitions.length===0)this.epsilonOnlyTransitions=s.isEpsilon;else if(this.epsilonOnlyTransitions!==s.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(l!==void 0?l:this.transitions.length,0,s)}transition(s){return this.transitions[s]}setTransition(s,l){this.transitions[s]=l}removeTransition(s){return this.transitions.splice(s,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(s){this.ruleIndex=s}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(s){return this.optimizedTransitions[s]}addOptimizedTransition(s){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(s)}setOptimizedTransition(s,l){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[s]=l}removeOptimizedTransition(s){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(s,1)}};t([n.Override],r.prototype,"hashCode",null),t([n.Override],r.prototype,"equals",null),t([n.Override],r.prototype,"toString",null),e.ATNState=r,function(i){i.INVALID_STATE_NUMBER=-1}(r=e.ATNState||(e.ATNState={}))}(j0)),j0}var RC={},J_;function ti(){return J_||(J_=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ATNStateType=void 0,function(t){t[t.INVALID_TYPE=0]="INVALID_TYPE",t[t.BASIC=1]="BASIC",t[t.RULE_START=2]="RULE_START",t[t.BLOCK_START=3]="BLOCK_START",t[t.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",t[t.STAR_BLOCK_START=5]="STAR_BLOCK_START",t[t.TOKEN_START=6]="TOKEN_START",t[t.RULE_STOP=7]="RULE_STOP",t[t.BLOCK_END=8]="BLOCK_END",t[t.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",t[t.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",t[t.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",t[t.LOOP_END=12]="LOOP_END"}(e.ATNStateType||(e.ATNStateType={}))}(RC)),RC}var Sl={},z0={},Q_;function af(){if(Q_)return z0;Q_=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(z0,"__esModule",{value:!0}),z0.RecognitionException=void 0;let e=class extends Error{constructor(n,r,i,s){super(s),this._offendingState=-1,this._recognizer=n,this.input=r,this.ctx=i,n&&(this._offendingState=n.state)}get offendingState(){return this._offendingState}setOffendingState(n){this._offendingState=n}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(n){if(!(n&&n!==this._recognizer))return this.offendingToken}setOffendingToken(n,r){n===this._recognizer&&(this.offendingToken=r)}get recognizer(){return this._recognizer}};return z0.RecognitionException=e,z0}var Al={},U0={},El={},eI;function lf(){if(eI)return El;eI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=El&&El.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g},t=El&&El.__param||function(i,s){return function(l,u){s(l,u,i)}};Object.defineProperty(El,"__esModule",{value:!0}),El.Transition=void 0;const n=Ve();let r=class{constructor(s){if(s==null)throw new Error("target cannot be null.");this.target=s}get isEpsilon(){return!1}get label(){}};return r.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],e([n.NotNull],r.prototype,"target",void 0),r=e([t(0,n.NotNull)],r),El.Transition=r,El}var tI;function pR(){if(tI)return U0;tI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(U0,"__esModule",{value:!0}),U0.AbstractPredicateTransition=void 0;const e=lf();let t=class extends e.Transition{constructor(r){super(r)}};return U0.AbstractPredicateTransition=t,U0}var id={},Cl={},od={},TC={},nI;function mr(){return nI||(nI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash=void 0,function(t){function r(c=0){return c}t.initialize=r;function i(c,g){g==null?g=0:typeof g=="string"?g=u(g):typeof g=="object"&&(g=g.hashCode());let C=g;return C=Math.imul(C,3432918353),C=C<<15|C>>>17,C=Math.imul(C,461845907),c=c^C,c=c<<13|c>>>19,c=Math.imul(c,5)+3864292196,c&4294967295}t.update=i;function s(c,g){return c=c^g*4,c=c^c>>>16,c=Math.imul(c,2246822507),c=c^c>>>13,c=Math.imul(c,3266489909),c=c^c>>>16,c}t.finish=s;function l(c,g=0){let p=r(g),m=0;for(let x of c)p=i(p,x),m++;return p=s(p,m),p}t.hashCode=l;function u(c){let g=c.length;if(g===0)return 0;let p=0;for(let m=0;m<g;m++){let x=c.charCodeAt(m);p=(p<<5>>>0)-p+x,p|=0}return p}}(e.MurmurHash||(e.MurmurHash={}))}(TC)),TC}var sd={},rI;function Va(){if(rI)return sd;rI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=sd&&sd.__decorate||function(r,i,s,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,s):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,s,c):g(i,s))||c);return u>3&&c&&Object.defineProperty(i,s,c),c};Object.defineProperty(sd,"__esModule",{value:!0}),sd.ObjectEqualityComparator=void 0;const t=Ve();let n=class{hashCode(i){return i==null?0:i.hashCode()}equals(i,s){return i==null?s==null:i.equals(s)}};return n.INSTANCE=new n,e([t.Override],n.prototype,"hashCode",null),e([t.Override],n.prototype,"equals",null),sd.ObjectEqualityComparator=n,sd}var iI;function JW(){if(iI)return od;iI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=od&&od.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(od,"__esModule",{value:!0}),od.DefaultEqualityComparator=void 0;const t=Ve(),n=mr(),r=Va();let i=class{hashCode(l){return l==null?0:typeof l=="string"||typeof l=="number"?n.MurmurHash.hashCode([l]):r.ObjectEqualityComparator.INSTANCE.hashCode(l)}equals(l,u){return l==null?u==null:typeof l=="string"||typeof l=="number"?l===u:r.ObjectEqualityComparator.INSTANCE.equals(l,u)}};return i.INSTANCE=new i,e([t.Override],i.prototype,"hashCode",null),e([t.Override],i.prototype,"equals",null),od.DefaultEqualityComparator=i,od}var oI;function uf(){if(oI)return Cl;oI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cl&&Cl.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E},t=Cl&&Cl.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.Array2DHashSet=void 0;const n=_i(),r=JW(),i=Ve(),s=mr(),l=16,u=.75;let c=class rS{constructor(p,m=l){if(this.n=0,this.threshold=Math.floor(l*u),p instanceof rS){this.comparator=p.comparator,this.buckets=p.buckets.slice(0);for(let x=0;x<this.buckets.length;x++){let b=this.buckets[x];b&&(this.buckets[x]=b.slice(0))}this.n=p.n,this.threshold=p.threshold}else this.comparator=p||r.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(m)}getOrAdd(p){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(p)}getOrAddImpl(p){let m=this.getBucket(p),x=this.buckets[m];if(!x)return x=[p],this.buckets[m]=x,this.n++,p;for(let b of x)if(this.comparator.equals(b,p))return b;return x.push(p),this.n++,p}get(p){if(p==null)return p;let m=this.getBucket(p),x=this.buckets[m];if(x){for(let b of x)if(this.comparator.equals(b,p))return b}}getBucket(p){return this.comparator.hashCode(p)&this.buckets.length-1}hashCode(){let p=s.MurmurHash.initialize();for(let m of this.buckets)if(m!=null)for(let x of m){if(x==null)break;p=s.MurmurHash.update(p,this.comparator.hashCode(x))}return p=s.MurmurHash.finish(p,this.size),p}equals(p){return p===this?!0:!(p instanceof rS)||p.size!==this.size?!1:this.containsAll(p)}expand(){let p=this.buckets,m=this.buckets.length*2,x=this.createBuckets(m);this.buckets=x,this.threshold=Math.floor(m*u);let b=this.size;for(let E of p)if(E)for(let w of E){let C=this.getBucket(w),R=this.buckets[C];R||(R=[],this.buckets[C]=R),R.push(w)}n(this.n===b)}add(p){return this.getOrAdd(p)===p}get size(){return this.n}get isEmpty(){return this.n===0}contains(p){return this.containsFast(this.asElementType(p))}containsFast(p){return p==null?!1:this.get(p)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){const p=new Array(this.size);let m=0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;p[m++]=b}return p}containsAll(p){if(p instanceof rS){let m=p;for(let x of m.buckets)if(x!=null)for(let b of x){if(b==null)break;if(!this.containsFast(this.asElementType(b)))return!1}}else for(let m of p)if(!this.containsFast(this.asElementType(m)))return!1;return!0}addAll(p){let m=!1;for(let x of p)this.getOrAdd(x)!==x&&(m=!0);return m}clear(){this.buckets=this.createBuckets(l),this.n=0,this.threshold=Math.floor(l*u)}toString(){if(this.size===0)return"{}";let p="{",m=!0;for(let x of this.buckets)if(x!=null)for(let b of x){if(b==null)break;m?m=!1:p+=", ",p+=b.toString()}return p+="}",p}toTableString(){let p="";for(let m of this.buckets){if(m==null){p+=`null
`;continue}p+="[";let x=!0;for(let b of m)x?x=!1:p+=" ",b==null?p+="_":p+=b.toString();p+=`]
`}return p}asElementType(p){return p}createBuckets(p){return new Array(p)}};return e([i.NotNull],c.prototype,"comparator",void 0),e([i.Override],c.prototype,"hashCode",null),e([i.Override],c.prototype,"equals",null),e([i.Override],c.prototype,"add",null),e([i.Override],c.prototype,"size",null),e([i.Override],c.prototype,"isEmpty",null),e([i.Override],c.prototype,"contains",null),e([t(0,i.Nullable)],c.prototype,"containsFast",null),e([i.Override],c.prototype,Symbol.iterator,null),e([i.Override],c.prototype,"toArray",null),e([i.Override],c.prototype,"containsAll",null),e([i.Override],c.prototype,"addAll",null),e([i.Override],c.prototype,"clear",null),e([i.Override],c.prototype,"toString",null),e([i.SuppressWarnings("unchecked")],c.prototype,"asElementType",null),e([i.SuppressWarnings("unchecked")],c.prototype,"createBuckets",null),Cl.Array2DHashSet=c,Cl}var ad={},sI;function l1(){if(sI)return ad;sI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ad&&ad.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(ad,"__esModule",{value:!0}),ad.ArrayEqualityComparator=void 0;const t=Ve(),n=mr(),r=Va();let i=class{hashCode(l){return l==null?0:n.MurmurHash.hashCode(l,0)}equals(l,u){if(l==null)return u==null;if(u==null||l.length!==u.length)return!1;for(let c=0;c<l.length;c++)if(!r.ObjectEqualityComparator.INSTANCE.equals(l[c],u[c]))return!1;return!0}};return i.INSTANCE=new i,e([t.Override],i.prototype,"hashCode",null),e([t.Override],i.prototype,"equals",null),ad.ArrayEqualityComparator=i,ad}var po={},aI;function Lu(){if(aI)return po;aI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(po,"__esModule",{value:!0}),po.toCharArray=po.toMap=po.equals=po.join=po.escapeWhitespace=void 0;function e(s,l){return l?s.replace(/ /,""):s.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}po.escapeWhitespace=e;function t(s,l){let u="",c=!0;for(let g of s)c?c=!1:u+=l,u+=g;return u}po.join=t;function n(s,l){return s===l?!0:s===void 0||l===void 0?!1:s.equals(l)}po.equals=n;function r(s){let l=new Map;for(let u=0;u<s.length;u++)l.set(s[u],u);return l}po.toMap=r;function i(s){if(typeof s=="string"){let l=new Uint16Array(s.length);for(let u=0;u<s.length;u++)l[u]=s.charCodeAt(u);return l}else return s.toCharArray()}return po.toCharArray=i,po}var lI;function Dg(){return lI||(lI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=id&&id.__decorate||function(x,b,E,w){var C=arguments.length,R=C<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,E):w,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,E,w);else for(var _=x.length-1;_>=0;_--)(T=x[_])&&(R=(C<3?T(R):C>3?T(b,E,R):T(b,E))||R);return C>3&&R&&Object.defineProperty(b,E,R),R},n=id&&id.__param||function(x,b){return function(E,w){b(E,w,x)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticContext=void 0;const r=uf(),i=l1(),s=mr(),l=Ve(),u=Va(),c=Lu();function g(x){let b;for(let E of x){if(b===void 0){b=E;continue}b.compareTo(E)<0&&(b=E)}return b}function p(x){let b;for(let E of x){if(b===void 0){b=E;continue}b.compareTo(E)>0&&(b=E)}return b}let m=class jo{static get NONE(){return jo._NONE===void 0&&(jo._NONE=new jo.Predicate),jo._NONE}evalPrecedence(b,E){return this}static and(b,E){if(!b||b===jo.NONE)return E;if(E===jo.NONE)return b;let w=new jo.AND(b,E);return w.opnds.length===1?w.opnds[0]:w}static or(b,E){if(!b)return E;if(b===jo.NONE||E===jo.NONE)return jo.NONE;let w=new jo.OR(b,E);return w.opnds.length===1?w.opnds[0]:w}};e.SemanticContext=m,function(x){function w(F){let B=[];for(let j=0;j<F.length;j++){let k=F[j];k instanceof x.PrecedencePredicate&&(B.push(k),F.splice(j,1),j--)}return B}class C extends x{constructor(B=-1,j=-1,k=!1){super(),this.ruleIndex=B,this.predIndex=j,this.isCtxDependent=k}eval(B,j){let k=this.isCtxDependent?j:void 0;return B.sempred(k,this.ruleIndex,this.predIndex)}hashCode(){let B=s.MurmurHash.initialize();return B=s.MurmurHash.update(B,this.ruleIndex),B=s.MurmurHash.update(B,this.predIndex),B=s.MurmurHash.update(B,this.isCtxDependent?1:0),B=s.MurmurHash.finish(B,3),B}equals(B){return B instanceof C?this===B?!0:this.ruleIndex===B.ruleIndex&&this.predIndex===B.predIndex&&this.isCtxDependent===B.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}t([l.Override],C.prototype,"eval",null),t([l.Override],C.prototype,"hashCode",null),t([l.Override],C.prototype,"equals",null),t([l.Override],C.prototype,"toString",null),x.Predicate=C;class R extends x{constructor(B){super(),this.precedence=B}eval(B,j){return B.precpred(j,this.precedence)}evalPrecedence(B,j){if(B.precpred(j,this.precedence))return x.NONE}compareTo(B){return this.precedence-B.precedence}hashCode(){let B=1;return B=31*B+this.precedence,B}equals(B){return B instanceof R?this===B?!0:this.precedence===B.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}t([l.Override],R.prototype,"eval",null),t([l.Override],R.prototype,"evalPrecedence",null),t([l.Override],R.prototype,"compareTo",null),t([l.Override],R.prototype,"hashCode",null),t([l.Override],R.prototype,"equals",null),t([l.Override],R.prototype,"toString",null),x.PrecedencePredicate=R;class T extends x{}x.Operator=T;let _=class iS extends T{constructor(B,j){super();let k=new r.Array2DHashSet(u.ObjectEqualityComparator.INSTANCE);B instanceof iS?k.addAll(B.opnds):k.add(B),j instanceof iS?k.addAll(j.opnds):k.add(j),this.opnds=k.toArray();let $=w(this.opnds),Z=p($);Z&&this.opnds.push(Z)}get operands(){return this.opnds}equals(B){return this===B?!0:B instanceof iS?i.ArrayEqualityComparator.INSTANCE.equals(this.opnds,B.opnds):!1}hashCode(){return s.MurmurHash.hashCode(this.opnds,40363613)}eval(B,j){for(let k of this.opnds)if(!k.eval(B,j))return!1;return!0}evalPrecedence(B,j){let k=!1,$=[];for(let ne of this.opnds){let re=ne.evalPrecedence(B,j);if(k=k||re!==ne,re==null)return;re!==x.NONE&&$.push(re)}if(!k)return this;if($.length===0)return x.NONE;let Z=$[0];for(let ne=1;ne<$.length;ne++)Z=x.and(Z,$[ne]);return Z}toString(){return c.join(this.opnds,"&&")}};t([l.Override],_.prototype,"operands",null),t([l.Override],_.prototype,"equals",null),t([l.Override],_.prototype,"hashCode",null),t([l.Override],_.prototype,"eval",null),t([l.Override],_.prototype,"evalPrecedence",null),t([l.Override],_.prototype,"toString",null),_=t([n(0,l.NotNull),n(1,l.NotNull)],_),x.AND=_;let D=class oS extends T{constructor(B,j){super();let k=new r.Array2DHashSet(u.ObjectEqualityComparator.INSTANCE);B instanceof oS?k.addAll(B.opnds):k.add(B),j instanceof oS?k.addAll(j.opnds):k.add(j),this.opnds=k.toArray();let $=w(this.opnds),Z=g($);Z&&this.opnds.push(Z)}get operands(){return this.opnds}equals(B){return this===B?!0:B instanceof oS?i.ArrayEqualityComparator.INSTANCE.equals(this.opnds,B.opnds):!1}hashCode(){return s.MurmurHash.hashCode(this.opnds,486279973)}eval(B,j){for(let k of this.opnds)if(k.eval(B,j))return!0;return!1}evalPrecedence(B,j){let k=!1,$=[];for(let ne of this.opnds){let re=ne.evalPrecedence(B,j);if(k=k||re!==ne,re===x.NONE)return x.NONE;re&&$.push(re)}if(!k)return this;if($.length===0)return;let Z=$[0];for(let ne=1;ne<$.length;ne++)Z=x.or(Z,$[ne]);return Z}toString(){return c.join(this.opnds,"||")}};t([l.Override],D.prototype,"operands",null),t([l.Override],D.prototype,"equals",null),t([l.Override],D.prototype,"hashCode",null),t([l.Override],D.prototype,"eval",null),t([l.Override],D.prototype,"evalPrecedence",null),t([l.Override],D.prototype,"toString",null),D=t([n(0,l.NotNull),n(1,l.NotNull)],D),x.OR=D}(m=e.SemanticContext||(e.SemanticContext={}))}(id)),id}var uI;function uk(){if(uI)return Al;uI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Al&&Al.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Al&&Al.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Al,"__esModule",{value:!0}),Al.PredicateTransition=void 0;const n=pR(),r=Ve(),i=Dg();let s=class extends n.AbstractPredicateTransition{constructor(u,c,g,p){super(u),this.ruleIndex=c,this.predIndex=g,this.isCtxDependent=p}get serializationType(){return 4}get isEpsilon(){return!0}matches(u,c,g){return!1}get predicate(){return new i.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};return e([r.Override],s.prototype,"serializationType",null),e([r.Override],s.prototype,"isEpsilon",null),e([r.Override],s.prototype,"matches",null),e([r.Override,r.NotNull],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),Al.PredicateTransition=s,Al}var cI;function u1(){if(cI)return Sl;cI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sl&&Sl.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Sl&&Sl.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.FailedPredicateException=void 0;const n=af(),r=Ve(),i=uk();let s=class ck extends n.RecognitionException{constructor(u,c,g){super(u,u.inputStream,u.context,ck.formatMessage(c,g));let m=u.interpreter.atn.states[u.state].transition(0);m instanceof i.PredicateTransition?(this._ruleIndex=m.ruleIndex,this._predicateIndex=m.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=c,super.setOffendingToken(u,u.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(u,c){return c||`failed predicate: {${u}}?`}};return e([r.NotNull],s,"formatMessage",null),s=e([t(0,r.NotNull)],s),Sl.FailedPredicateException=s,Sl}var wl={},fI;function c1(){if(fI)return wl;fI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wl&&wl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=wl&&wl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(wl,"__esModule",{value:!0}),wl.InputMismatchException=void 0;const n=af(),r=Ve();let i=class extends n.RecognitionException{constructor(l,u,c){c===void 0&&(c=l.context),super(l,l.inputStream,c),u!==void 0&&this.setOffendingState(u),this.setOffendingToken(l,l.currentToken)}};return i=e([t(0,r.NotNull)],i),wl.InputMismatchException=i,wl}var Rl={},ld={},NC={},dI;function gR(){return dI||(dI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Arrays=void 0,function(t){function n(s,l,u,c){return r(s,u!==void 0?u:0,c!==void 0?c:s.length,l)}t.binarySearch=n;function r(s,l,u,c){let g=l,p=u-1;for(;g<=p;){let m=g+p>>>1,x=s[m];if(x<c)g=m+1;else if(x>c)p=m-1;else return m}return-(g+1)}function i(s){let l="[",u=!0;for(let c of s)u?u=!1:l+=", ",c===null?l+="null":c===void 0?l+="undefined":l+=c;return l+="]",l}t.toString=i}(e.Arrays||(e.Arrays={}))}(NC)),NC}var hI;function mR(){if(hI)return ld;hI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ld&&ld.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x};Object.defineProperty(ld,"__esModule",{value:!0}),ld.IntegerList=void 0;const t=gR(),n=Ve(),r=new Int32Array(0),i=4,s=(1<<31>>>0)-1-8;let l=class sS{constructor(c){if(!c)this._data=r,this._size=0;else if(c instanceof sS)this._data=c._data.slice(0),this._size=c._size;else if(typeof c=="number")c===0?(this._data=r,this._size=0):(this._data=new Int32Array(c),this._size=0);else{this._data=r,this._size=0;for(let g of c)this.add(g)}}add(c){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=c,this._size++}addAll(c){if(Array.isArray(c))this.ensureCapacity(this._size+c.length),this._data.subarray(this._size,this._size+c.length).set(c),this._size+=c.length;else if(c instanceof sS)this.ensureCapacity(this._size+c._size),this._data.subarray(this._size,this._size+c.size).set(c._data),this._size+=c._size;else{this.ensureCapacity(this._size+c.size);let g=0;for(let p of c)this._data[this._size+g]=p,g++;this._size+=c.size}}get(c){if(c<0||c>=this._size)throw RangeError();return this._data[c]}contains(c){for(let g=0;g<this._size;g++)if(this._data[g]===c)return!0;return!1}set(c,g){if(c<0||c>=this._size)throw RangeError();let p=this._data[c];return this._data[c]=g,p}removeAt(c){let g=this.get(c);return this._data.copyWithin(c,c+1,this._size),this._data[this._size-1]=0,this._size--,g}removeRange(c,g){if(c<0||g<0||c>this._size||g>this._size||c>g)throw RangeError();this._data.copyWithin(g,c,this._size),this._data.fill(0,this._size-(g-c),this._size),this._size-=g-c}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(c){if(c===this)return!0;if(!(c instanceof sS)||this._size!==c._size)return!1;for(let g=0;g<this._size;g++)if(this._data[g]!==c._data[g])return!1;return!0}hashCode(){let c=1;for(let g=0;g<this._size;g++)c=31*c+this._data[g];return c}toString(){return this._data.toString()}binarySearch(c,g,p){if(g===void 0&&(g=0),p===void 0&&(p=this._size),g<0||p<0||g>this._size||p>this._size)throw new RangeError;if(g>p)throw new RangeError;return t.Arrays.binarySearch(this._data,c,g,p)}ensureCapacity(c){if(c<0||c>s)throw new RangeError;let g;for(this._data.length===0?g=i:g=this._data.length;g<c;)g=g*2,(g<0||g>s)&&(g=s);let p=new Int32Array(g);p.set(this._data),this._data=p}toCharArray(){let c=new Uint16Array(this._size),g=0,p=!1;for(let m=0;m<this._size;m++){let x=this._data[m];if(x>=0&&x<65536){c[g]=x,g++;continue}if(!p){let E=new Uint16Array(this.charArraySize());E.set(c,0),c=E,p=!0}let b=String.fromCodePoint(x);c[g]=b.charCodeAt(0),c[g+1]=b.charCodeAt(1),g+=2}return c}charArraySize(){let c=0;for(let g=0;g<this._size;g++)c+=this._data[g]>=65536?2:1;return c}};return e([n.NotNull],l.prototype,"_data",void 0),e([n.Override],l.prototype,"equals",null),e([n.Override],l.prototype,"hashCode",null),e([n.Override],l.prototype,"toString",null),ld.IntegerList=l,ld}var ud={},pI;function Zi(){if(pI)return ud;pI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ud&&ud.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(ud,"__esModule",{value:!0}),ud.Interval=void 0;const t=Ve(),n=1e3;let r=class zo{constructor(s,l){this.a=s,this.b=l}static get INVALID(){return zo._INVALID}static of(s,l){return s!==l||s<0||s>n?new zo(s,l):(zo.cache[s]==null&&(zo.cache[s]=new zo(s,s)),zo.cache[s])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(s){return s===this?!0:s instanceof zo?this.a===s.a&&this.b===s.b:!1}hashCode(){let s=23;return s=s*31+this.a,s=s*31+this.b,s}startsBeforeDisjoint(s){return this.a<s.a&&this.b<s.a}startsBeforeNonDisjoint(s){return this.a<=s.a&&this.b>=s.a}startsAfter(s){return this.a>s.a}startsAfterDisjoint(s){return this.a>s.b}startsAfterNonDisjoint(s){return this.a>s.a&&this.a<=s.b}disjoint(s){return this.startsBeforeDisjoint(s)||this.startsAfterDisjoint(s)}adjacent(s){return this.a===s.b+1||this.b===s.a-1}properlyContains(s){return s.a>=this.a&&s.b<=this.b}union(s){return zo.of(Math.min(this.a,s.a),Math.max(this.b,s.b))}intersection(s){return zo.of(Math.max(this.a,s.a),Math.min(this.b,s.b))}differenceNotProperlyContained(s){let l;return s.startsBeforeNonDisjoint(this)?l=zo.of(Math.max(this.a,s.b+1),this.b):s.startsAfterNonDisjoint(this)&&(l=zo.of(this.a,s.a-1)),l}toString(){return this.a+".."+this.b}};return r._INVALID=new r(-1,-2),r.cache=new Array(n+1),e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),e([t.Override],r.prototype,"toString",null),ud.Interval=r,ud}var cd={},V0={},Tl={},_C={},gI;function Yn(){return gI||(gI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Token=void 0;const t=sf();(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=t.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(e.Token||(e.Token={}))}(_C)),_C}var mI;function iy(){if(mI)return Tl;mI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Tl&&Tl.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Tl&&Tl.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.CommonToken=void 0;const n=Zi(),r=Ve(),i=Yn();let s=class hv{constructor(u,c,g=hv.EMPTY_SOURCE,p=i.Token.DEFAULT_CHANNEL,m=0,x=0){this._line=0,this._charPositionInLine=-1,this._channel=i.Token.DEFAULT_CHANNEL,this.index=-1,this._text=c,this._type=u,this.source=g,this._channel=p,this.start=m,this.stop=x,g.source!=null&&(this._line=g.source.line,this._charPositionInLine=g.source.charPositionInLine)}static fromToken(u){let c=new hv(u.type,void 0,hv.EMPTY_SOURCE,u.channel,u.startIndex,u.stopIndex);return c._line=u.line,c.index=u.tokenIndex,c._charPositionInLine=u.charPositionInLine,u instanceof hv?(c._text=u._text,c.source=u.source):(c._text=u.text,c.source={source:u.tokenSource,stream:u.inputStream}),c}get type(){return this._type}set type(u){this._type=u}get line(){return this._line}set line(u){this._line=u}get text(){if(this._text!=null)return this._text;let u=this.inputStream;if(u==null)return;let c=u.size;return this.start<c&&this.stop<c?u.getText(n.Interval.of(this.start,this.stop)):"<EOF>"}set text(u){this._text=u}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(u){this._charPositionInLine=u}get channel(){return this._channel}set channel(u){this._channel=u}get startIndex(){return this.start}set startIndex(u){this.start=u}get stopIndex(){return this.stop}set stopIndex(u){this.stop=u}get tokenIndex(){return this.index}set tokenIndex(u){this.index=u}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(u){let c="";this._channel>0&&(c=",channel="+this._channel);let g=this.text;g!=null?(g=g.replace(/\n/g,"\\n"),g=g.replace(/\r/g,"\\r"),g=g.replace(/\t/g,"\\t")):g="<no text>";let p=String(this._type);return u&&(p=u.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+g+"',<"+p+">"+c+","+this._line+":"+this.charPositionInLine+"]"}};return s.EMPTY_SOURCE={source:void 0,stream:void 0},e([r.NotNull],s.prototype,"source",void 0),e([r.Override],s.prototype,"type",null),e([r.Override],s.prototype,"line",null),e([r.Override],s.prototype,"text",null),e([r.Override],s.prototype,"charPositionInLine",null),e([r.Override],s.prototype,"channel",null),e([r.Override],s.prototype,"startIndex",null),e([r.Override],s.prototype,"stopIndex",null),e([r.Override],s.prototype,"tokenIndex",null),e([r.Override],s.prototype,"tokenSource",null),e([r.Override],s.prototype,"inputStream",null),e([r.Override],s.prototype,"toString",null),e([t(0,r.NotNull)],s,"fromToken",null),s=e([t(2,r.NotNull)],s),Tl.CommonToken=s,Tl}var vI;function vR(){return vI||(vI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=V0&&V0.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTokenFactory=void 0;const n=iy(),r=Zi(),i=Ve();let s=class{constructor(u=!1){this.copyText=u}create(u,c,g,p,m,x,b,E){let w=new n.CommonToken(c,g,u,p,m,x);return w.line=b,w.charPositionInLine=E,g==null&&this.copyText&&u.stream!=null&&(w.text=u.stream.getText(r.Interval.of(m,x))),w}createSimple(u,c){return new n.CommonToken(u,c)}};t([i.Override],s.prototype,"create",null),t([i.Override],s.prototype,"createSimple",null),e.CommonTokenFactory=s,function(l){l.DEFAULT=new l}(s=e.CommonTokenFactory||(e.CommonTokenFactory={}))}(V0)),V0}var G0={},yI;function fk(){if(yI)return G0;yI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(G0,"__esModule",{value:!0}),G0.IntegerStack=void 0;const e=mR();let t=class extends e.IntegerList{constructor(r){super(r)}push(r){this.add(r)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};return G0.IntegerStack=t,G0}var fd={},$0={},xI;function dk(){if(xI)return $0;xI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty($0,"__esModule",{value:!0}),$0.AcceptStateInfo=void 0;let e=class{constructor(n,r){this._prediction=n,this._lexerActionExecutor=r}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};return $0.AcceptStateInfo=e,$0}var dd={},H0={},bI;function Mg(){if(bI)return H0;bI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(H0,"__esModule",{value:!0}),H0.Array2DHashMap=void 0;const e=uf();class t{constructor(i){this.keyComparator=i}hashCode(i){return this.keyComparator.hashCode(i.key)}equals(i,s){return this.keyComparator.equals(i.key,s.key)}}let n=class zw{constructor(i){i instanceof zw?this.backingStore=new e.Array2DHashSet(i.backingStore):this.backingStore=new e.Array2DHashSet(new t(i))}clear(){this.backingStore.clear()}containsKey(i){return this.backingStore.contains({key:i})}get(i){let s=this.backingStore.get({key:i});if(s)return s.value}get isEmpty(){return this.backingStore.isEmpty}put(i,s){let l=this.backingStore.get({key:i,value:s}),u;return l?(u=l.value,l.value=s):this.backingStore.add({key:i,value:s}),u}putIfAbsent(i,s){let l=this.backingStore.get({key:i,value:s}),u;return l?u=l.value:this.backingStore.add({key:i,value:s}),u}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(i){return i instanceof zw?this.backingStore.equals(i.backingStore):!1}};return H0.Array2DHashMap=n,H0}var Nl={},hd={},_l={},W0={},SI;function Ch(){if(SI)return W0;SI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(W0,"__esModule",{value:!0}),W0.DecisionState=void 0;const e=Pu();let t=class extends e.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}};return W0.DecisionState=t,W0}var pd={},Y0={},AI;function yR(){return AI||(AI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Y0&&Y0.__decorate||function(c,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(c,g,p,m);else for(var w=c.length-1;w>=0;w--)(E=c[w])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionContextCache=void 0;const n=Mg(),r=Ve(),i=Va(),s=Bs(),l=_i();let u=class Uw{constructor(g=!0){this.contexts=new n.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.childContexts=new n.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.joinContexts=new n.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.enableCache=g}getAsCached(g){if(!this.enableCache)return g;let p=this.contexts.get(g);return p||(p=g,this.contexts.put(g,g)),p}getChild(g,p){if(!this.enableCache)return g.getChild(p);let m=new Uw.PredictionContextAndInt(g,p),x=this.childContexts.get(m);return x||(x=g.getChild(p),x=this.getAsCached(x),this.childContexts.put(m,x)),x}join(g,p){if(!this.enableCache)return s.PredictionContext.join(g,p,this);let m=new Uw.IdentityCommutativePredictionContextOperands(g,p),x=this.joinContexts.get(m);return x||(x=s.PredictionContext.join(g,p,this),x=this.getAsCached(x),this.joinContexts.put(m,x),x)}};e.PredictionContextCache=u,u.UNCACHED=new u(!1),function(c){class g{constructor(x,b){this.obj=x,this.value=b}equals(x){if(x instanceof g){if(x===this)return!0}else return!1;let b=x;return this.value===b.value&&(this.obj===b.obj||this.obj!=null&&this.obj.equals(b.obj))}hashCode(){let x=5;return x=7*x+(this.obj!=null?this.obj.hashCode():0),x=7*x+this.value,x}}t([r.Override],g.prototype,"equals",null),t([r.Override],g.prototype,"hashCode",null),c.PredictionContextAndInt=g;class p{constructor(x,b){l(x!=null),l(b!=null),this._x=x,this._y=b}get x(){return this._x}get y(){return this._y}equals(x){if(x instanceof p){if(this===x)return!0}else return!1;let b=x;return this._x===b._x&&this._y===b._y||this._x===b._y&&this._y===b._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}t([r.Override],p.prototype,"equals",null),t([r.Override],p.prototype,"hashCode",null),c.IdentityCommutativePredictionContextOperands=p}(u=e.PredictionContextCache||(e.PredictionContextCache={}))}(Y0)),Y0}var EI;function Bs(){return EI||(EI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=pd&&pd.__decorate||function(w,C,R,T){var _=arguments.length,D=_<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,R):T,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(w,C,R,T);else for(var B=w.length-1;B>=0;B--)(F=w[B])&&(D=(_<3?F(D):_>3?F(C,R,D):F(C,R))||D);return _>3&&D&&Object.defineProperty(C,R,D),D},n=pd&&pd.__param||function(w,C){return function(R,T){C(R,T,w)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SingletonPredictionContext=e.PredictionContext=void 0;const r=Mg(),i=uf(),s=gR(),l=mr(),u=Ve(),c=yR(),g=_i(),p=1;let m=class mi{constructor(C){this.cachedHashCode=C}static calculateEmptyHashCode(){let C=l.MurmurHash.initialize(p);return C=l.MurmurHash.finish(C,0),C}static calculateSingleHashCode(C,R){let T=l.MurmurHash.initialize(p);return T=l.MurmurHash.update(T,C),T=l.MurmurHash.update(T,R),T=l.MurmurHash.finish(T,2),T}static calculateHashCode(C,R){let T=l.MurmurHash.initialize(p);for(let _ of C)T=l.MurmurHash.update(T,_);for(let _ of R)T=l.MurmurHash.update(T,_);return T=l.MurmurHash.finish(T,2*C.length),T}static fromRuleContext(C,R,T=!0){if(R.isEmpty)return T?mi.EMPTY_FULL:mi.EMPTY_LOCAL;let _;R._parent?_=mi.fromRuleContext(C,R._parent,T):_=T?mi.EMPTY_FULL:mi.EMPTY_LOCAL;let F=C.states[R.invokingState].transition(0);return _.getChild(F.followState.stateNumber)}static addEmptyContext(C){return C.addEmptyContext()}static removeEmptyContext(C){return C.removeEmptyContext()}static join(C,R,T=c.PredictionContextCache.UNCACHED){if(C===R)return C;if(C.isEmpty)return mi.isEmptyLocal(C)?C:mi.addEmptyContext(R);if(R.isEmpty)return mi.isEmptyLocal(R)?R:mi.addEmptyContext(C);let _=C.size,D=R.size;if(_===1&&D===1&&C.getReturnState(0)===R.getReturnState(0)){let re=T.join(C.getParent(0),R.getParent(0));return re===C.getParent(0)?C:re===R.getParent(0)?R:re.getChild(C.getReturnState(0))}let F=0,B=new Array(_+D),j=new Array(B.length),k=0,$=0,Z=!0,ne=!0;for(;k<_&&$<D;)C.getReturnState(k)===R.getReturnState($)?(B[F]=T.join(C.getParent(k),R.getParent($)),j[F]=C.getReturnState(k),Z=Z&&B[F]===C.getParent(k),ne=ne&&B[F]===R.getParent($),k++,$++):C.getReturnState(k)<R.getReturnState($)?(B[F]=C.getParent(k),j[F]=C.getReturnState(k),ne=!1,k++):(g(R.getReturnState($)<C.getReturnState(k)),B[F]=R.getParent($),j[F]=R.getReturnState($),Z=!1,$++),F++;for(;k<_;)B[F]=C.getParent(k),j[F]=C.getReturnState(k),k++,ne=!1,F++;for(;$<D;)B[F]=R.getParent($),j[F]=R.getReturnState($),$++,Z=!1,F++;return Z?C:ne?R:(F<B.length&&(B=B.slice(0,F),j=j.slice(0,F)),B.length===0?mi.EMPTY_FULL:B.length===1?new E(B[0],j[0]):new b(B,j))}static isEmptyLocal(C){return C===mi.EMPTY_LOCAL}static getCachedContext(C,R,T){if(C.isEmpty)return C;let _=T.get(C);if(_)return _;if(_=R.get(C),_)return T.put(C,_),_;let D=!1,F=new Array(C.size);for(let j=0;j<F.length;j++){let k=mi.getCachedContext(C.getParent(j),R,T);if(D||k!==C.getParent(j)){if(!D){F=new Array(C.size);for(let $=0;$<C.size;$++)F[$]=C.getParent($);D=!0}F[j]=k}}if(!D)return _=R.putIfAbsent(C,C),T.put(C,_??C),C;let B;if(F.length===1)B=new E(F[0],C.getReturnState(0));else{let j=new Array(C.size);for(let k=0;k<C.size;k++)j[k]=C.getReturnState(k);B=new b(F,j,C.hashCode())}return _=R.putIfAbsent(B,B),T.put(B,_||B),T.put(C,_||B),B}appendSingleContext(C,R){return this.appendContext(mi.EMPTY_FULL.getChild(C),R)}getChild(C){return new E(this,C)}hashCode(){return this.cachedHashCode}toStrings(C,R,T=mi.EMPTY_FULL){let _=[];e:for(let D=0;;D++){let F=0,B=!0,j=this,k=R,$="";for($+="[";!j.isEmpty&&j!==T;){let Z=0;if(j.size>0){let ne=1;for(;1<<ne>>>0<j.size;)ne++;let re=(1<<ne>>>0)-1;if(Z=D>>F&re,B=B&&Z>=j.size-1,Z>=j.size)continue e;F+=ne}if(C){$.length>1&&($+=" ");let re=C.atn.states[k],he=C.ruleNames[re.ruleIndex];$+=he}else j.getReturnState(Z)!==mi.EMPTY_FULL_STATE_KEY&&(j.isEmpty||($.length>1&&($+=" "),$+=j.getReturnState(Z)));k=j.getReturnState(Z),j=j.getParent(Z)}if($+="]",_.push($),B)break}return _}};t([u.Override],m.prototype,"hashCode",null),t([n(0,u.NotNull),n(1,u.NotNull),n(2,u.NotNull)],m,"join",null),t([n(0,u.NotNull),n(1,u.NotNull),n(2,u.NotNull)],m,"getCachedContext",null),e.PredictionContext=m;class x extends m{constructor(C){super(m.calculateEmptyHashCode()),this.fullContext=C}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(C){throw new Error("index out of bounds")}getReturnState(C){throw new Error("index out of bounds")}findReturnState(C){return-1}get size(){return 0}appendSingleContext(C,R){return R.getChild(this,C)}appendContext(C,R){return C}get isEmpty(){return!0}get hasEmpty(){return!0}equals(C){return this===C}toStrings(C,R,T){return["[]"]}}t([u.Override],x.prototype,"addEmptyContext",null),t([u.Override],x.prototype,"removeEmptyContext",null),t([u.Override],x.prototype,"getParent",null),t([u.Override],x.prototype,"getReturnState",null),t([u.Override],x.prototype,"findReturnState",null),t([u.Override],x.prototype,"size",null),t([u.Override],x.prototype,"appendSingleContext",null),t([u.Override],x.prototype,"appendContext",null),t([u.Override],x.prototype,"isEmpty",null),t([u.Override],x.prototype,"hasEmpty",null),t([u.Override],x.prototype,"equals",null),t([u.Override],x.prototype,"toStrings",null);let b=class ih extends m{constructor(C,R,T){super(T||m.calculateHashCode(C,R)),g(C.length===R.length),g(R.length>1||R[0]!==m.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=C,this.returnStates=R}getParent(C){return this.parents[C]}getReturnState(C){return this.returnStates[C]}findReturnState(C){return s.Arrays.binarySearch(this.returnStates,C)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===m.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let C=this.parents.slice(0),R=this.returnStates.slice(0);return C.push(m.EMPTY_FULL),R.push(m.EMPTY_FULL_STATE_KEY),new ih(C,R)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new E(this.parents[0],this.returnStates[0]);{let C=this.parents.slice(0,this.parents.length-1),R=this.returnStates.slice(0,this.returnStates.length-1);return new ih(C,R)}}appendContext(C,R){return ih.appendContextImpl(this,C,new m.IdentityHashMap)}static appendContextImpl(C,R,T){if(R.isEmpty){if(m.isEmptyLocal(R)){if(C.hasEmpty)return m.EMPTY_LOCAL;throw new Error("what to do here?")}return C}if(R.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let _=T.get(C);if(!_){if(C.isEmpty)_=R;else{let D=C.size;C.hasEmpty&&D--;let F=new Array(D),B=new Array(D);for(let j=0;j<D;j++)B[j]=C.getReturnState(j);for(let j=0;j<D;j++)F[j]=ih.appendContextImpl(C.getParent(j),R,T);F.length===1?_=new E(F[0],B[0]):(g(F.length>1),_=new ih(F,B)),C.hasEmpty&&(_=m.join(_,R))}T.put(C,_)}return _}equals(C){if(this===C)return!0;if(!(C instanceof ih)||this.hashCode()!==C.hashCode())return!1;let R=C;return this.equalsImpl(R,new i.Array2DHashSet)}equalsImpl(C,R){let T=[],_=[];for(T.push(this),_.push(C);;){let D=T.pop(),F=_.pop();if(!D||!F)break;let B=new c.PredictionContextCache.IdentityCommutativePredictionContextOperands(D,F);if(!R.add(B))continue;let j=B.x.size;if(j===0){if(!B.x.equals(B.y))return!1;continue}let k=B.y.size;if(j!==k)return!1;for(let $=0;$<j;$++){if(B.x.getReturnState($)!==B.y.getReturnState($))return!1;let Z=B.x.getParent($),ne=B.y.getParent($);if(Z.hashCode()!==ne.hashCode())return!1;Z!==ne&&(T.push(Z),_.push(ne))}}return!0}};t([u.NotNull],b.prototype,"parents",void 0),t([u.NotNull],b.prototype,"returnStates",void 0),t([u.Override],b.prototype,"getParent",null),t([u.Override],b.prototype,"getReturnState",null),t([u.Override],b.prototype,"findReturnState",null),t([u.Override],b.prototype,"size",null),t([u.Override],b.prototype,"isEmpty",null),t([u.Override],b.prototype,"hasEmpty",null),t([u.Override],b.prototype,"addEmptyContext",null),t([u.Override],b.prototype,"removeEmptyContext",null),t([u.Override],b.prototype,"appendContext",null),t([u.Override],b.prototype,"equals",null),b=t([n(0,u.NotNull)],b);let E=class hk extends m{constructor(C,R){super(m.calculateSingleHashCode(C,R)),this.parent=C,this.returnState=R}getParent(C){return this.parent}getReturnState(C){return this.returnState}findReturnState(C){return this.returnState===C?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(C,R){return R.getChild(this.parent.appendContext(C,R),this.returnState)}addEmptyContext(){let C=[this.parent,m.EMPTY_FULL],R=[this.returnState,m.EMPTY_FULL_STATE_KEY];return new b(C,R)}removeEmptyContext(){return this}equals(C){if(C===this)return!0;if(!(C instanceof hk))return!1;let R=C;return this.hashCode()!==R.hashCode()?!1:this.returnState===R.returnState&&this.parent.equals(R.parent)}};t([u.NotNull],E.prototype,"parent",void 0),t([u.Override],E.prototype,"getParent",null),t([u.Override],E.prototype,"getReturnState",null),t([u.Override],E.prototype,"findReturnState",null),t([u.Override],E.prototype,"size",null),t([u.Override],E.prototype,"isEmpty",null),t([u.Override],E.prototype,"hasEmpty",null),t([u.Override],E.prototype,"appendContext",null),t([u.Override],E.prototype,"addEmptyContext",null),t([u.Override],E.prototype,"removeEmptyContext",null),t([u.Override],E.prototype,"equals",null),E=t([n(0,u.NotNull)],E),e.SingletonPredictionContext=E,function(w){w.EMPTY_LOCAL=new x(!1),w.EMPTY_FULL=new x(!0),w.EMPTY_LOCAL_STATE_KEY=-2147483648,w.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class C extends r.Array2DHashMap{constructor(){super(R.INSTANCE)}}w.IdentityHashMap=C;class R{IdentityEqualityComparator(){}hashCode(_){return _.hashCode()}equals(_,D){return _===D}}R.INSTANCE=new R,t([u.Override],R.prototype,"hashCode",null),t([u.Override],R.prototype,"equals",null),w.IdentityEqualityComparator=R}(m=e.PredictionContext||(e.PredictionContext={}))}(pd)),pd}var CI;function f1(){if(CI)return _l;CI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=_l&&_l.__decorate||function(w,C,R,T){var _=arguments.length,D=_<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,R):T,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(w,C,R,T);else for(var B=w.length-1;B>=0;B--)(F=w[B])&&(D=(_<3?F(D):_>3?F(C,R,D):F(C,R))||D);return _>3&&D&&Object.defineProperty(C,R,D),D},t=_l&&_l.__param||function(w,C){return function(R,T){C(R,T,w)}};Object.defineProperty(_l,"__esModule",{value:!0}),_l.ATNConfig=void 0;const n=Mg(),r=Ch(),i=mr(),s=Ve(),l=Va(),u=Bs(),c=Dg(),g=_i(),p=2147483648;let m=class pv{constructor(C,R,T){typeof R=="number"?(g((R&16777215)===R),this._state=C,this.altAndOuterContextDepth=R,this._context=T):(this._state=C,this.altAndOuterContextDepth=R.altAndOuterContextDepth,this._context=T)}static create(C,R,T,_=c.SemanticContext.NONE,D){return _!==c.SemanticContext.NONE?D!=null?new E(D,_,C,R,T,!1):new x(_,C,R,T):D!=null?new b(D,C,R,T,!1):new pv(C,R,T)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(C){this._context=C}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(C){g(C>=0),C=Math.min(C,127),this.altAndOuterContextDepth=C<<24|(this.altAndOuterContextDepth&-2130706433)>>>0}get lexerActionExecutor(){}get semanticContext(){return c.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(C,R,T){return T==null?this.transformImpl(C,this._context,this.semanticContext,R,this.lexerActionExecutor):T instanceof u.PredictionContext?this.transformImpl(C,T,this.semanticContext,R,this.lexerActionExecutor):T instanceof c.SemanticContext?this.transformImpl(C,this._context,T,R,this.lexerActionExecutor):this.transformImpl(C,this._context,this.semanticContext,R,T)}transformImpl(C,R,T,_,D){let F=_&&pv.checkNonGreedyDecision(this,C);return T!==c.SemanticContext.NONE?D!=null||F?new E(D,T,C,this,R,F):new x(T,C,this,R):D!=null||F?new b(D,C,this,R,F):new pv(C,this,R)}static checkNonGreedyDecision(C,R){return C.hasPassedThroughNonGreedyDecision||R instanceof r.DecisionState&&R.nonGreedy}appendContext(C,R){if(typeof C=="number"){let T=this.context.appendSingleContext(C,R);return this.transform(this.state,!1,T)}else{let T=this.context.appendContext(C,R);return this.transform(this.state,!1,T)}}contains(C){if(this.state.stateNumber!==C.state.stateNumber||this.alt!==C.alt||!this.semanticContext.equals(C.semanticContext))return!1;let R=[],T=[];for(R.push(this.context),T.push(C.context);;){let _=R.pop(),D=T.pop();if(!_||!D)break;if(_===D)return!0;if(_.size<D.size)return!1;if(D.isEmpty)return _.hasEmpty;for(let F=0;F<D.size;F++){let B=_.findReturnState(D.getReturnState(F));if(B<0)return!1;R.push(_.getParent(B)),T.push(D.getParent(F))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&p)!==0}set isPrecedenceFilterSuppressed(C){C?this.altAndOuterContextDepth|=p:this.altAndOuterContextDepth&=2147483647}equals(C){return this===C?!0:C instanceof pv?this.state.stateNumber===C.state.stateNumber&&this.alt===C.alt&&this.reachesIntoOuterContext===C.reachesIntoOuterContext&&this.context.equals(C.context)&&this.semanticContext.equals(C.semanticContext)&&this.isPrecedenceFilterSuppressed===C.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===C.hasPassedThroughNonGreedyDecision&&l.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,C.lexerActionExecutor):!1}hashCode(){let C=i.MurmurHash.initialize(7);return C=i.MurmurHash.update(C,this.state.stateNumber),C=i.MurmurHash.update(C,this.alt),C=i.MurmurHash.update(C,this.reachesIntoOuterContext?1:0),C=i.MurmurHash.update(C,this.context),C=i.MurmurHash.update(C,this.semanticContext),C=i.MurmurHash.update(C,this.hasPassedThroughNonGreedyDecision?1:0),C=i.MurmurHash.update(C,this.lexerActionExecutor),C=i.MurmurHash.finish(C,7),C}toDotString(){let C="";C+=`digraph G {
`,C+=`rankdir=LR;
`;let R=new n.Array2DHashMap(u.PredictionContext.IdentityEqualityComparator.INSTANCE),T=[];function _(D){let F=R.size,B=R.putIfAbsent(D,F);return B??(T.push(D),F)}for(T.push(this.context),R.put(this.context,0);;){let D=T.pop();if(!D)break;for(let F=0;F<D.size;F++)C+="  s"+_(D),C+="->",C+="s"+_(D.getParent(F)),C+='[label="'+D.getReturnState(F)+`"];
`}return C+=`}
`,C.toString()}toString(C,R,T){T==null&&(T=R!=null),R==null&&(R=!0);let _="",D;T?D=this.context.toStrings(C,this.state.stateNumber):D=["?"];let F=!0;for(let B of D)F?F=!1:_+=", ",_+="(",_+=this.state,R&&(_+=",",_+=this.alt),this.context&&(_+=",",_+=B),this.semanticContext!==c.SemanticContext.NONE&&(_+=",",_+=this.semanticContext),this.reachesIntoOuterContext&&(_+=",up="+this.outerContextDepth),_+=")";return _.toString()}};e([s.NotNull],m.prototype,"_state",void 0),e([s.NotNull],m.prototype,"_context",void 0),e([s.NotNull],m.prototype,"state",null),e([s.NotNull,t(0,s.NotNull)],m.prototype,"context",null),e([s.NotNull],m.prototype,"semanticContext",null),e([s.Override],m.prototype,"clone",null),e([t(0,s.NotNull),t(2,s.NotNull)],m.prototype,"transformImpl",null),e([s.Override],m.prototype,"equals",null),e([s.Override],m.prototype,"hashCode",null),e([t(0,s.NotNull),t(3,s.NotNull)],m,"create",null),m=e([t(0,s.NotNull),t(2,s.NotNull)],m),_l.ATNConfig=m;let x=class extends m{constructor(C,R,T,_){typeof T=="number"?super(R,T,_):super(R,T,_),this._semanticContext=C}get semanticContext(){return this._semanticContext}};e([s.NotNull],x.prototype,"_semanticContext",void 0),e([s.Override],x.prototype,"semanticContext",null),x=e([t(1,s.NotNull),t(2,s.NotNull)],x);let b=class extends m{constructor(C,R,T,_,D){if(typeof T=="number")super(R,T,_);else if(super(R,T,_),T.semanticContext!==c.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=C,this.passedThroughNonGreedyDecision=D}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};e([s.Override],b.prototype,"lexerActionExecutor",null),e([s.Override],b.prototype,"hasPassedThroughNonGreedyDecision",null),b=e([t(1,s.NotNull),t(2,s.NotNull)],b);let E=class extends x{constructor(C,R,T,_,D,F){typeof _=="number"?super(R,T,_,D):super(R,T,_,D),this._lexerActionExecutor=C,this.passedThroughNonGreedyDecision=F}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};return e([s.Override],E.prototype,"lexerActionExecutor",null),e([s.Override],E.prototype,"hasPassedThroughNonGreedyDecision",null),E=e([t(1,s.NotNull),t(2,s.NotNull)],E),_l}var q0={},wI;function cf(){if(wI)return q0;wI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(q0,"__esModule",{value:!0}),q0.BitSet=void 0;const e=gg(),t=mr(),n=new Uint16Array(0);function r(m){return m>>>4}function i(m){return m*16}function s(m){let x=1;for(let b=0;b<16;b++){if((m&x)!==0)return b;x=x<<1>>>0}throw new RangeError("No specified bit found")}function l(m){let x=32768;for(let b=15;b>=0;b--){if((m&x)!==0)return b;x=x>>>1}throw new RangeError("No specified bit found")}function u(m,x){return m&=15,x&=15,m===x?1<<m>>>0:65535>>>15-x^65535>>>16-m}const c=new Uint8Array(65536);for(let m=0;m<16;m++){const x=1<<m>>>0;let b=0;for(;b<c.length;){b+=x;for(let E=0;E<x;E++)c[b]++,b++}}let g=class gv{constructor(x){if(!x)this.data=n;else if(typeof x=="number"){if(x<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(r(x-1)+1)}else if(x instanceof gv)this.data=x.data.slice(0);else{let b=-1;for(let E of x)b<E&&(b=E);this.data=new Uint16Array(r(b-1)+1);for(let E of x)this.set(E)}}and(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length);let C=-1;for(let R=0;R<w;R++)(b[R]&=E[R])!==0&&(C=R);C===-1&&(this.data=n),C<b.length-1&&(this.data=b.slice(0,C+1))}andNot(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length);let C=-1;for(let R=0;R<w;R++)(b[R]&=E[R]^65535)!==0&&(C=R);C===-1&&(this.data=n),C<b.length-1&&(this.data=b.slice(0,C+1))}cardinality(){if(this.isEmpty)return 0;const x=this.data,b=x.length;let E=0;for(let w=0;w<b;w++)E+=c[x[w]];return E}clear(x,b){x==null?this.data.fill(0):b==null?this.set(x,!1):this.set(x,b,!1)}flip(x,b){if(b==null&&(b=x),x<0||b<x)throw new RangeError;let E=r(x);const w=r(b);if(E===w)this.data[E]^=u(x,b);else{for(this.data[E++]^=u(x,15);E<w;)this.data[E++]^=65535;this.data[E++]^=u(0,b)}}get(x,b){if(b===void 0)return!!(this.data[r(x)]&u(x,x));{let E=new gv(b+1);for(let w=x;w<=b;w++)E.set(w,this.get(w));return E}}intersects(x){let b=Math.min(this.length(),x.length());if(b===0)return!1;let E=r(b-1);for(let w=0;w<=E;w++)if((this.data[w]&x.data[w])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(i(this.data.length)-1)+1:0}nextClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);if(w>E)return-1;let C=65535^u(x,15);if((b[w]|C)===65535){for(w++,C=0;w<E&&b[w]===65535;w++);if(w===E)return-1}return i(w)+s((b[w]|C)^65535)}nextSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);if(w>E)return-1;let C=u(x,15);if((b[w]&C)===0){for(w++,C=65535;w<E&&b[w]===0;w++);if(w>=E)return-1}return i(w)+s(b[w]&C)}or(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length),C=Math.max(b.length,E.length),R=b.length===C?b:new Uint16Array(C);let T=-1;for(let D=0;D<w;D++)(R[D]=b[D]|E[D])!==0&&(T=D);const _=b.length>E.length?b:E;for(let D=w;D<C;D++)(R[D]=_[D])!==0&&(T=D);T===-1?this.data=n:R.length===T+1?this.data=R:this.data=R.slice(0,T)}previousClearBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);w>=E&&(w=E-1);let C=65535^u(0,x);if((b[w]|C)===65535){for(C=0,w--;w>=0&&b[w]===65535;w--);if(w<0)return-1}return i(w)+l((b[w]|C)^65535)}previousSetBit(x){if(x<0)throw new RangeError("fromIndex cannot be negative");const b=this.data,E=b.length;let w=r(x);w>=E&&(w=E-1);let C=u(0,x);if((b[w]&C)===0){for(w--,C=65535;w>=0&&b[w]===0;w--);if(w<0)return-1}return i(w)+l(b[w]&C)}set(x,b,E){if(b===void 0?(b=x,E=!0):typeof b=="boolean"&&(E=b,b=x),E===void 0&&(E=!0),x<0||x>b)throw new RangeError;let w=r(x),C=r(b);if(E&&C>=this.data.length){let R=new Uint16Array(C+1);this.data.forEach((T,_)=>R[_]=T),this.data=R}else if(!E){if(w>=this.data.length)return;C>=this.data.length&&(C=this.data.length-1,b=this.data.length*16-1)}if(w===C)this._setBits(w,E,u(x,b));else{for(this._setBits(w++,E,u(x,15));w<C;)this.data[w++]=E?65535:0;this._setBits(w,E,u(0,b))}}_setBits(x,b,E){b?this.data[x]|=E:this.data[x]&=65535^E}get size(){return this.data.byteLength*8}hashCode(){return t.MurmurHash.hashCode(this.data,22)}equals(x){if(x===this)return!0;if(!(x instanceof gv))return!1;const b=this.length();if(b!==x.length())return!1;if(b===0)return!0;let E=r(b-1);for(let w=0;w<=E;w++)if(this.data[w]!==x.data[w])return!1;return!0}toString(){let x="{",b=!0;for(let E=this.nextSetBit(0);E>=0;E=this.nextSetBit(E+1))b?b=!1:x+=", ",x+=E;return x+="}",x}xor(x){const b=this.data,E=x.data,w=Math.min(b.length,E.length),C=Math.max(b.length,E.length),R=b.length===C?b:new Uint16Array(C);let T=-1;for(let D=0;D<w;D++)(R[D]=b[D]^E[D])!==0&&(T=D);const _=b.length>E.length?b:E;for(let D=w;D<C;D++)(R[D]=_[D])!==0&&(T=D);T===-1?this.data=n:R.length===T+1?this.data=R:this.data=R.slice(0,T+1)}clone(){return new gv(this)}[Symbol.iterator](){return new p(this.data)}[e.inspect.custom](){return"BitSet "+this.toString()}};q0.BitSet=g;class p{constructor(x){this.data=x,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const x=this.data[this.index]&this.mask;if(x!==0){const b=i(this.index)+s(x);return this.mask=u(b+1,15),{done:!1,value:b}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}return q0}var RI;function oy(){if(RI)return hd;RI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=hd&&hd.__decorate||function(R,T,_,D){var F=arguments.length,B=F<3?T:D===null?D=Object.getOwnPropertyDescriptor(T,_):D,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(R,T,_,D);else for(var k=R.length-1;k>=0;k--)(j=R[k])&&(B=(F<3?j(B):F>3?j(T,_,B):j(T,_))||B);return F>3&&B&&Object.defineProperty(T,_,B),B};Object.defineProperty(hd,"__esModule",{value:!0}),hd.ATNConfigSet=void 0;const t=Mg(),n=uf(),r=l1(),i=Ga(),s=f1(),l=cf(),u=Ve(),c=Va(),g=Bs(),p=yR(),m=Dg(),x=_i(),b=Lu();class E{hashCode(T){return T.state^T.alt}equals(T,_){return T.state===_.state&&T.alt===_.alt}}E.INSTANCE=new E;function w(R){return R?new t.Array2DHashMap(R):new t.Array2DHashMap(E.INSTANCE)}let C=class Vw{constructor(T,_){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,T?(_?(this.mergedConfigs=void 0,this.unmerged=void 0):T.isReadOnly?(this.mergedConfigs=w(),this.unmerged=[]):(this.mergedConfigs=w(T.mergedConfigs),this.unmerged=T.unmerged.slice(0)),this.configs=T.configs.slice(0),this._dipsIntoOuterContext=T._dipsIntoOuterContext,this._hasSemanticContext=T._hasSemanticContext,this.outermostConfigSet=T.outermostConfigSet,(_||!T.isReadOnly)&&(this._uniqueAlt=T._uniqueAlt,this._conflictInfo=T._conflictInfo)):(this.mergedConfigs=w(),this.unmerged=[],this.configs=[],this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let T=new l.BitSet;for(let _ of this)T.set(_.alt);return T}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(T){if(this.outermostConfigSet&&!T)throw new Error("IllegalStateException");x(!T||!this._dipsIntoOuterContext),this.outermostConfigSet=T}getStates(){let T=new n.Array2DHashSet(c.ObjectEqualityComparator.INSTANCE);for(let _ of this.configs)T.add(_.state);return T}optimizeConfigs(T){if(this.configs.length!==0)for(let _ of this.configs)_.context=T.atn.getCachedContext(_.context)}clone(T){let _=new Vw(this,T);return!T&&this.isReadOnly&&_.addAll(this.configs),_}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(T){if(!(T instanceof s.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let _=T,D=this.getKey(_),F=this.mergedConfigs.get(D);if(F!=null&&this.canMerge(_,D,F))return F.contains(_);for(let B of this.unmerged)if(B.contains(T))return!0}else for(let _ of this.configs)if(_.contains(T))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(T,_){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");x(!this.outermostConfigSet||!T.reachesIntoOuterContext),_==null&&(_=p.PredictionContextCache.UNCACHED);let D,F=this.getKey(T),B=this.mergedConfigs.get(F);if(D=B==null,B!=null&&this.canMerge(T,F,B)){B.outerContextDepth=Math.max(B.outerContextDepth,T.outerContextDepth),T.isPrecedenceFilterSuppressed&&(B.isPrecedenceFilterSuppressed=!0);let j=g.PredictionContext.join(B.context,T.context,_);return this.updatePropertiesForMergedConfig(T),B.context===j?!1:(B.context=j,!0)}for(let j=0;j<this.unmerged.length;j++){let k=this.unmerged[j];if(this.canMerge(T,F,k)){k.outerContextDepth=Math.max(k.outerContextDepth,T.outerContextDepth),T.isPrecedenceFilterSuppressed&&(k.isPrecedenceFilterSuppressed=!0);let $=g.PredictionContext.join(k.context,T.context,_);return this.updatePropertiesForMergedConfig(T),k.context===$?!1:(k.context=$,D&&(this.mergedConfigs.put(F,k),this.unmerged.splice(j,1)),!0)}}return this.configs.push(T),D?this.mergedConfigs.put(F,T):this.unmerged.push(T),this.updatePropertiesForAddedConfig(T),!0}updatePropertiesForMergedConfig(T){this._dipsIntoOuterContext=this._dipsIntoOuterContext||T.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(T){this.configs.length===1?this._uniqueAlt=T.alt:this._uniqueAlt!==T.alt&&(this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!m.SemanticContext.NONE.equals(T.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||T.reachesIntoOuterContext,x(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(T,_,D){return T.state.stateNumber!==D.state.stateNumber||_.alt!==D.alt?!1:T.semanticContext.equals(D.semanticContext)}getKey(T){return{state:T.state.stateNumber,alt:T.alt}}containsAll(T){for(let _ of T)if(!(_ instanceof s.ATNConfig)||!this.contains(_))return!1;return!0}addAll(T,_){this.ensureWritable();let D=!1;for(let F of T)this.add(F,_)&&(D=!0);return D}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(T){return this===T?!0:T instanceof Vw?this.outermostConfigSet===T.outermostConfigSet&&b.equals(this._conflictInfo,T._conflictInfo)&&r.ArrayEqualityComparator.INSTANCE.equals(this.configs,T.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let T=1;return T=5*T^(this.outermostConfigSet?1:0),T=5*T^r.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=T),T}toString(T){T==null&&(T=!1);let _="",D=this.configs.slice(0);D.sort((F,B)=>F.alt!==B.alt?F.alt-B.alt:F.state.stateNumber!==B.state.stateNumber?F.state.stateNumber-B.state.stateNumber:F.semanticContext.toString().localeCompare(B.semanticContext.toString())),_+="[";for(let F=0;F<D.length;F++)F>0&&(_+=", "),_+=D[F].toString(void 0,!0,T);return _+="]",this._hasSemanticContext&&(_+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==i.ATN.INVALID_ALT_NUMBER&&(_+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(_+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(_+="*")),this._dipsIntoOuterContext&&(_+=",dipsIntoOuterContext"),_.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(T){this.ensureWritable(),this._hasSemanticContext=T}get conflictInfo(){return this._conflictInfo}set conflictInfo(T){this.ensureWritable(),this._conflictInfo=T}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(T){return this.configs[T]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};return e([u.NotNull],C.prototype,"getRepresentedAlternatives",null),e([u.Override],C.prototype,"size",null),e([u.Override],C.prototype,"isEmpty",null),e([u.Override],C.prototype,"contains",null),e([u.Override],C.prototype,Symbol.iterator,null),e([u.Override],C.prototype,"toArray",null),e([u.Override],C.prototype,"containsAll",null),e([u.Override],C.prototype,"clear",null),e([u.Override],C.prototype,"equals",null),e([u.Override],C.prototype,"hashCode",null),hd.ATNConfigSet=C,hd}var gd={},md={},vd={},TI;function d1(){return TI||(TI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=vd&&vd.__decorate||function(p,m,x,b){var E=arguments.length,w=E<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,m,x,b);else for(var R=p.length-1;R>=0;R--)(C=p[R])&&(w=(E<3?C(w):E>3?C(m,x,w):C(m,x))||w);return E>3&&w&&Object.defineProperty(m,x,w),w},n=vd&&vd.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DFAState=void 0;const r=Ga(),i=cf(),s=mr(),l=Ve(),u=Bs(),c=_i();let g=class pk{constructor(m){this.stateNumber=-1,this.configs=m,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(m){return this.isContextSensitive?this.contextSymbols.get(m):!1}setContextSymbol(m){c(this.isContextSensitive),this.contextSymbols.set(m)}setContextSensitive(m){c(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new i.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(m){this._acceptStateInfo=m}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:r.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(m){return this.edges.get(m)}setTarget(m,x){this.edges.set(m,x)}getEdgeMap(){return this.edges}getContextTarget(m){return m===u.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.get(m)}setContextTarget(m,x){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");m===u.PredictionContext.EMPTY_FULL_STATE_KEY&&(m=-1),this.contextEdges.set(m,x)}getContextEdgeMap(){let m=new Map(this.contextEdges),x=m.get(-1);if(x!==void 0)if(m.size===1){let b=new Map;return b.set(u.PredictionContext.EMPTY_FULL_STATE_KEY,x),b}else m.delete(-1),m.set(u.PredictionContext.EMPTY_FULL_STATE_KEY,x);return m}hashCode(){let m=s.MurmurHash.initialize(7);return m=s.MurmurHash.update(m,this.configs.hashCode()),m=s.MurmurHash.finish(m,1),m}equals(m){if(this===m)return!0;if(!(m instanceof pk))return!1;let x=m;return this.configs.equals(x.configs)}toString(){let m="";return m+=this.stateNumber+":"+this.configs,this.isAcceptState&&(m+="=>",this.predicates?m+=this.predicates:m+=this.prediction),m.toString()}};t([l.NotNull],g.prototype,"configs",void 0),t([l.NotNull],g.prototype,"edges",void 0),t([l.NotNull],g.prototype,"contextEdges",void 0),t([l.Override],g.prototype,"hashCode",null),t([l.Override],g.prototype,"equals",null),t([l.Override],g.prototype,"toString",null),e.DFAState=g,function(p){let m=class{constructor(b,E){this.alt=E,this.pred=b}toString(){return"("+this.pred+", "+this.alt+")"}};t([l.NotNull],m.prototype,"pred",void 0),t([l.Override],m.prototype,"toString",null),m=t([n(0,l.NotNull)],m),p.PredPrediction=m}(g=e.DFAState||(e.DFAState={}))}(vd)),vd}var NI;function h1(){return NI||(NI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=md&&md.__decorate||function(c,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(c,g,p,m);else for(var w=c.length-1;w>=0;w--)(E=c[w])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},n=md&&md.__param||function(c,g){return function(p,m){g(p,m,c)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNSimulator=void 0;const r=oy(),i=d1(),s=Ve(),l=Bs();let u=class mv{constructor(g){this.atn=g}static get ERROR(){return mv._ERROR||(mv._ERROR=new i.DFAState(new r.ATNConfigSet),mv._ERROR.stateNumber=l.PredictionContext.EMPTY_FULL_STATE_KEY),mv._ERROR}clearDFA(){this.atn.clearDFA()}};t([s.NotNull],u.prototype,"atn",void 0),t([s.NotNull],u,"ERROR",null),u=t([n(0,s.NotNull)],u),e.ATNSimulator=u,u=e.ATNSimulator||(e.ATNSimulator={}),e.ATNSimulator=u}(md)),md}var Il={},K0={},_I;function gk(){if(_I)return K0;_I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(K0,"__esModule",{value:!0}),K0.ConsoleErrorListener=void 0;let e=class{syntaxError(n,r,i,s,l,u){console.error(`line ${i}:${s} ${l}`)}};return K0.ConsoleErrorListener=e,e.INSTANCE=new e,K0}var Ol={},II;function xR(){if(II)return Ol;II=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ol&&Ol.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g},t=Ol&&Ol.__param||function(i,s){return function(l,u){s(l,u,i)}};Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.ProxyErrorListener=void 0;const n=Ve();let r=class{constructor(s){if(this.delegates=s,!s)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(s,l,u,c,g,p){this.delegates.forEach(m=>{m.syntaxError&&m.syntaxError(s,l,u,c,g,p)})}};return e([n.Override,t(0,n.NotNull),t(4,n.NotNull)],r.prototype,"syntaxError",null),Ol.ProxyErrorListener=r,Ol}var OI;function sy(){if(OI)return Il;OI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Il&&Il.__decorate||function(c,g,p,m){var x=arguments.length,b=x<3?g:m===null?m=Object.getOwnPropertyDescriptor(g,p):m,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(c,g,p,m);else for(var w=c.length-1;w>=0;w--)(E=c[w])&&(b=(x<3?E(b):x>3?E(g,p,b):E(g,p))||b);return x>3&&b&&Object.defineProperty(g,p,b),b},t=Il&&Il.__param||function(c,g){return function(p,m){g(p,m,c)}};Object.defineProperty(Il,"__esModule",{value:!0}),Il.Recognizer=void 0;const n=gk(),r=xR(),i=Ve(),s=Yn(),l=Lu();let u=class vv{constructor(){this._listeners=[n.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let g=this.vocabulary,p=vv.tokenTypeMapCache.get(g);if(p==null){let m=new Map;for(let x=0;x<=this.atn.maxTokenType;x++){let b=g.getLiteralName(x);b!=null&&m.set(b,x);let E=g.getSymbolicName(x);E!=null&&m.set(E,x)}m.set("EOF",s.Token.EOF),p=m,vv.tokenTypeMapCache.set(g,p)}return p}getRuleIndexMap(){let g=this.ruleNames;if(g==null)throw new Error("The current recognizer does not provide a list of rule names.");let p=vv.ruleIndexMapCache.get(g);return p==null&&(p=l.toMap(g),vv.ruleIndexMapCache.set(g,p)),p}getTokenType(g){let p=this.getTokenTypeMap().get(g);return p??s.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(g){this._interp=g}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(g){let p=g.getOffendingToken();if(!p)return"";let m=p.line,x=p.charPositionInLine;return"line "+m+":"+x}addErrorListener(g){if(!g)throw new TypeError("listener must not be null");this._listeners.push(g)}removeErrorListener(g){let p=this._listeners.indexOf(g);p!==-1&&this._listeners.splice(p,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new r.ProxyErrorListener(this.getErrorListeners())}sempred(g,p,m){return!0}precpred(g,p){return!0}action(g,p,m){}get state(){return this._stateNumber}set state(g){this._stateNumber=g}};return u.EOF=-1,u.tokenTypeMapCache=new WeakMap,u.ruleIndexMapCache=new WeakMap,e([i.SuppressWarnings("serial"),i.NotNull],u.prototype,"_listeners",void 0),e([i.NotNull],u.prototype,"getTokenTypeMap",null),e([i.NotNull],u.prototype,"getRuleIndexMap",null),e([i.NotNull],u.prototype,"serializedATN",null),e([i.NotNull],u.prototype,"atn",null),e([i.NotNull,t(0,i.NotNull)],u.prototype,"interpreter",null),e([i.NotNull,t(0,i.NotNull)],u.prototype,"getErrorHeader",null),e([t(0,i.NotNull)],u.prototype,"addErrorListener",null),e([t(0,i.NotNull)],u.prototype,"removeErrorListener",null),e([i.NotNull],u.prototype,"getErrorListeners",null),Il.Recognizer=u,Il}var yd={},DI;function wh(){if(DI)return yd;DI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yd&&yd.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(yd,"__esModule",{value:!0}),yd.VocabularyImpl=void 0;const t=Ve(),n=Yn();let r=class{constructor(s,l,u){this.literalNames=s,this.symbolicNames=l,this.displayNames=u,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(s){if(s>=0&&s<this.literalNames.length)return this.literalNames[s]}getSymbolicName(s){if(s>=0&&s<this.symbolicNames.length)return this.symbolicNames[s];if(s===n.Token.EOF)return"EOF"}getDisplayName(s){if(s>=0&&s<this.displayNames.length){let c=this.displayNames[s];if(c)return c}let l=this.getLiteralName(s);if(l)return l;let u=this.getSymbolicName(s);return u||String(s)}};return r.EMPTY_VOCABULARY=new r([],[],[]),e([t.NotNull],r.prototype,"literalNames",void 0),e([t.NotNull],r.prototype,"symbolicNames",void 0),e([t.NotNull],r.prototype,"displayNames",void 0),e([t.Override],r.prototype,"maxTokenType",null),e([t.Override],r.prototype,"getLiteralName",null),e([t.Override],r.prototype,"getSymbolicName",null),e([t.Override,t.NotNull],r.prototype,"getDisplayName",null),e([t.NotNull],r,"EMPTY_VOCABULARY",void 0),yd.VocabularyImpl=r,yd}var MI;function mk(){if(MI)return gd;MI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gd&&gd.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x};Object.defineProperty(gd,"__esModule",{value:!0}),gd.DFASerializer=void 0;const t=h1(),n=Ve(),r=Bs(),i=sy(),s=wh();let l=class{constructor(c,g,p,m){g instanceof i.Recognizer?(p=g.ruleNames,m=g.atn,g=g.vocabulary):g||(g=s.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=c,this.vocabulary=g,this.ruleNames=p,this.atn=m}toString(){if(!this.dfa.s0)return"";let c="";if(this.dfa.states){let p=new Array(...this.dfa.states.toArray());p.sort((m,x)=>m.stateNumber-x.stateNumber);for(let m of p){let x=m.getEdgeMap(),b=[...x.keys()].sort((C,R)=>C-R),E=m.getContextEdgeMap(),w=[...E.keys()].sort((C,R)=>C-R);for(let C of b){let R=x.get(C);if((R==null||R===t.ATNSimulator.ERROR)&&!m.isContextSymbol(C))continue;let T=!1;c+=this.getStateString(m)+"-"+this.getEdgeLabel(C)+"->",m.isContextSymbol(C)&&(c+="!",T=!0);let _=R;_&&_.stateNumber!==t.ATNSimulator.ERROR.stateNumber?c+=this.getStateString(_)+`
`:T&&(c+=`ctx
`)}if(m.isContextSensitive)for(let C of w)c+=this.getStateString(m)+"-"+this.getContextLabel(C)+"->"+this.getStateString(E.get(C))+`
`}}let g=c;return g.length===0?"":g}getContextLabel(c){if(c===r.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(c===r.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&c>0&&c<=this.atn.states.length){let p=this.atn.states[c].ruleIndex;if(this.ruleNames&&p>=0&&p<this.ruleNames.length)return"ctx:"+String(c)+"("+this.ruleNames[p]+")"}return"ctx:"+String(c)}getEdgeLabel(c){return this.vocabulary.getDisplayName(c)}getStateString(c){if(c===t.ATNSimulator.ERROR)return"ERROR";let g=c.stateNumber,p="s"+g;if(c.isAcceptState&&(c.predicates?p=":s"+g+"=>"+c.predicates:p=":s"+g+"=>"+c.prediction),c.isContextSensitive){p+="*";for(let m of c.configs)if(m.reachesIntoOuterContext){p+="*";break}}return p}};return e([n.NotNull],l.prototype,"dfa",void 0),e([n.NotNull],l.prototype,"vocabulary",void 0),e([n.Override],l.prototype,"toString",null),gd.DFASerializer=l,gd}var Dl={},PI;function QW(){if(PI)return Dl;PI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dl&&Dl.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Dl&&Dl.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.LexerDFASerializer=void 0;const n=mk(),r=Ve(),i=wh();let s=class extends n.DFASerializer{constructor(u){super(u,i.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(u){return"'"+String.fromCodePoint(u)+"'"}};return e([r.Override,r.NotNull],s.prototype,"getEdgeLabel",null),s=e([t(0,r.NotNull)],s),Dl.LexerDFASerializer=s,Dl}var xd={},LI;function bR(){if(LI)return xd;LI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xd&&xd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(xd,"__esModule",{value:!0}),xd.StarLoopEntryState=void 0;const t=ti(),n=cf(),r=Ch(),i=Ve();let s=class extends r.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new n.BitSet}get stateType(){return t.ATNStateType.STAR_LOOP_ENTRY}};return e([i.Override],s.prototype,"stateType",null),xd.StarLoopEntryState=s,xd}var FI;function vk(){if(FI)return Nl;FI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Nl&&Nl.__decorate||function(x,b,E,w){var C=arguments.length,R=C<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,E):w,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,E,w);else for(var _=x.length-1;_>=0;_--)(T=x[_])&&(R=(C<3?T(R):C>3?T(b,E,R):T(b,E))||R);return C>3&&R&&Object.defineProperty(b,E,R),R},t=Nl&&Nl.__param||function(x,b){return function(E,w){b(E,w,x)}};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.DFA=void 0;const n=uf(),r=oy(),i=mk(),s=d1(),l=QW(),u=Ve(),c=Va(),g=bR(),p=wh();let m=class{constructor(b,E=0){if(this.states=new n.Array2DHashSet(c.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!b.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=b,this.atn=b.atn,this.decision=E;let w=!1;b instanceof g.StarLoopEntryState&&b.precedenceRuleDecision&&(w=!0,this.s0=new s.DFAState(new r.ATNConfigSet),this.s0full=new s.DFAState(new r.ATNConfigSet)),this.precedenceDfa=w}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(b,E){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return E?this.s0full.getTarget(b):this.s0.getTarget(b)}setPrecedenceStartState(b,E,w){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");b<0||(E?this.s0full.setTarget(b,w):this.s0.setTarget(b,w))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(b){return b.stateNumber=this.nextStateNumber++,this.states.getOrAdd(b)}toString(b,E){if(b||(b=p.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let w;return E?w=new i.DFASerializer(this,b,E,this.atnStartState.atn):w=new i.DFASerializer(this,b),w.toString()}toLexerString(){return this.s0?new l.LexerDFASerializer(this).toString():""}};return e([u.NotNull],m.prototype,"states",void 0),e([u.NotNull],m.prototype,"atnStartState",void 0),e([u.NotNull],m.prototype,"atn",void 0),m=e([t(0,u.NotNull)],m),Nl.DFA=m,Nl}var bd={},Sd={},kI;function yk(){if(kI)return Sd;kI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Sd&&Sd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.BasicState=void 0;const t=Pu(),n=ti(),r=Ve();let i=class extends t.ATNState{get stateType(){return n.ATNStateType.BASIC}};return e([r.Override],i.prototype,"stateType",null),Sd.BasicState=i,Sd}var BI;function xk(){if(BI)return bd;BI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bd&&bd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(bd,"__esModule",{value:!0}),bd.InvalidState=void 0;const t=ti(),n=yk(),r=Ve();let i=class extends n.BasicState{get stateType(){return t.ATNStateType.INVALID_TYPE}};return e([r.Override],i.prototype,"stateType",null),bd.InvalidState=i,bd}var Ml={},Pl={},Ll={},jI;function SR(){if(jI)return Ll;jI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ll&&Ll.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=Ll&&Ll.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.SetTransition=void 0;const n=Rh(),r=Ve(),i=Yn(),s=lf();let l=class extends s.Transition{constructor(c,g){super(c),g==null&&(g=n.IntervalSet.of(i.Token.INVALID_TYPE)),this.set=g}get serializationType(){return 7}get label(){return this.set}matches(c,g,p){return this.set.contains(c)}toString(){return this.set.toString()}};return e([r.NotNull],l.prototype,"set",void 0),e([r.Override],l.prototype,"serializationType",null),e([r.Override,r.NotNull],l.prototype,"label",null),e([r.Override],l.prototype,"matches",null),e([r.Override,r.NotNull],l.prototype,"toString",null),l=e([t(0,r.NotNull),t(1,r.Nullable)],l),Ll.SetTransition=l,Ll}var zI;function AR(){if(zI)return Pl;zI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pl&&Pl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Pl&&Pl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.NotSetTransition=void 0;const n=Ve(),r=SR();let i=class extends r.SetTransition{constructor(l,u){super(l,u)}get serializationType(){return 8}matches(l,u,c){return l>=u&&l<=c&&!super.matches(l,u,c)}toString(){return"~"+super.toString()}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"matches",null),e([n.Override],i.prototype,"toString",null),i=e([t(0,n.NotNull),t(1,n.Nullable)],i),Pl.NotSetTransition=i,Pl}var Ad={},UI;function ay(){if(UI)return Ad;UI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ad&&Ad.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.RuleStopState=void 0;const t=Pu(),n=ti(),r=Ve();let i=class extends t.ATNState{get nonStopStateNumber(){return-1}get stateType(){return n.ATNStateType.RULE_STOP}};return e([r.Override],i.prototype,"nonStopStateNumber",null),e([r.Override],i.prototype,"stateType",null),Ad.RuleStopState=i,Ad}var Fl={},VI;function ER(){if(VI)return Fl;VI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fl&&Fl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Fl&&Fl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.RuleTransition=void 0;const n=Ve(),r=lf();let i=class extends r.Transition{constructor(l,u,c,g){super(l),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=u,this.precedence=c,this.followState=g}get serializationType(){return 3}get isEpsilon(){return!0}matches(l,u,c){return!1}};return e([n.NotNull],i.prototype,"followState",void 0),e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"isEpsilon",null),e([n.Override],i.prototype,"matches",null),i=e([t(0,n.NotNull),t(3,n.NotNull)],i),Fl.RuleTransition=i,Fl}var kl={},GI;function bk(){if(GI)return kl;GI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kl&&kl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=kl&&kl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(kl,"__esModule",{value:!0}),kl.WildcardTransition=void 0;const n=Ve(),r=lf();let i=class extends r.Transition{constructor(l){super(l)}get serializationType(){return 9}matches(l,u,c){return l>=u&&l<=c}toString(){return"."}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"matches",null),e([n.Override,n.NotNull],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),kl.WildcardTransition=i,kl}var $I;function eY(){if($I)return Ml;$I=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ml&&Ml.__decorate||function(C,R,T,_){var D=arguments.length,F=D<3?R:_===null?_=Object.getOwnPropertyDescriptor(R,T):_,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(C,R,T,_);else for(var j=C.length-1;j>=0;j--)(B=C[j])&&(F=(D<3?B(F):D>3?B(R,T,F):B(R,T))||F);return D>3&&F&&Object.defineProperty(R,T,F),F},t=Ml&&Ml.__param||function(C,R){return function(T,_){R(T,_,C)}};Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.LL1Analyzer=void 0;const n=pR(),r=uf(),i=f1(),s=cf(),l=Rh(),u=Ve(),c=AR(),g=Va(),p=Bs(),m=ay(),x=ER(),b=Yn(),E=bk();let w=class Gw{constructor(R){this.atn=R}getDecisionLookahead(R){if(R==null)return;let T=new Array(R.numberOfTransitions);for(let _=0;_<R.numberOfTransitions;_++){let D=new l.IntervalSet;T[_]=D;let F=new r.Array2DHashSet(g.ObjectEqualityComparator.INSTANCE);this._LOOK(R.transition(_).target,void 0,p.PredictionContext.EMPTY_LOCAL,D,F,new s.BitSet,!1,!1),(D.size===0||D.contains(Gw.HIT_PRED))&&(D=void 0,T[_]=D)}return T}LOOK(R,T,_){if(_===void 0){if(R.atn==null)throw new Error("Illegal state");_=R.atn.ruleToStopState[R.ruleIndex]}else _===null&&(_=void 0);let D=new l.IntervalSet;return this._LOOK(R,_,T,D,new r.Array2DHashSet,new s.BitSet,!0,!0),D}_LOOK(R,T,_,D,F,B,j,k){let $=i.ATNConfig.create(R,0,_);if(!F.add($))return;if(R===T){if(p.PredictionContext.isEmptyLocal(_)){D.add(b.Token.EPSILON);return}else if(_.isEmpty){k&&D.add(b.Token.EOF);return}}if(R instanceof m.RuleStopState){if(_.isEmpty&&!p.PredictionContext.isEmptyLocal(_)){k&&D.add(b.Token.EOF);return}let ne=B.get(R.ruleIndex);try{B.clear(R.ruleIndex);for(let re=0;re<_.size;re++){if(_.getReturnState(re)===p.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let he=this.atn.states[_.getReturnState(re)];this._LOOK(he,T,_.getParent(re),D,F,B,j,k)}}finally{ne&&B.set(R.ruleIndex)}}let Z=R.numberOfTransitions;for(let ne=0;ne<Z;ne++){let re=R.transition(ne);if(re instanceof x.RuleTransition){if(B.get(re.ruleIndex))continue;let he=_.getChild(re.followState.stateNumber);try{B.set(re.ruleIndex),this._LOOK(re.target,T,he,D,F,B,j,k)}finally{B.clear(re.ruleIndex)}}else if(re instanceof n.AbstractPredicateTransition)j?this._LOOK(re.target,T,_,D,F,B,j,k):D.add(Gw.HIT_PRED);else if(re.isEpsilon)this._LOOK(re.target,T,_,D,F,B,j,k);else if(re instanceof E.WildcardTransition)D.addAll(l.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let he=re.label;he!=null&&(re instanceof c.NotSetTransition&&(he=he.complement(l.IntervalSet.of(b.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),D.addAll(he))}}}};return w.HIT_PRED=b.Token.INVALID_TYPE,e([u.NotNull],w.prototype,"atn",void 0),e([u.NotNull,t(0,u.NotNull),t(1,u.NotNull)],w.prototype,"LOOK",null),e([t(0,u.NotNull),t(2,u.NotNull),t(3,u.NotNull),t(4,u.NotNull),t(5,u.NotNull)],w.prototype,"_LOOK",null),w=e([t(0,u.NotNull)],w),Ml.LL1Analyzer=w,Ml}var HI;function Ga(){return HI||(HI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=dd&&dd.__decorate||function(E,w,C,R){var T=arguments.length,_=T<3?w:R===null?R=Object.getOwnPropertyDescriptor(w,C):R,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(E,w,C,R);else for(var F=E.length-1;F>=0;F--)(D=E[F])&&(_=(T<3?D(_):T>3?D(w,C,_):D(w,C))||_);return T>3&&_&&Object.defineProperty(w,C,_),_},n=dd&&dd.__param||function(E,w){return function(C,R){w(C,R,E)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATN=void 0;const r=Mg(),i=vk(),s=Rh(),l=xk(),u=eY(),c=Ve(),g=Va(),p=Bs(),m=Yn(),x=_i();let b=class{constructor(w,C){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new r.Array2DHashMap(g.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=w,this.maxTokenType=C}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let w=0;w<this.decisionToDFA.length;w++)this.decisionToDFA[w]=new i.DFA(this.decisionToState[w],w);this.modeToDFA=new Array(this.modeToStartState.length);for(let w=0;w<this.modeToDFA.length;w++)this.modeToDFA[w]=new i.DFA(this.modeToStartState[w]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(w){return p.PredictionContext.getCachedContext(w,this.contextCache,new p.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return x(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(w,C){return C?new u.LL1Analyzer(this).LOOK(w,C):(w.nextTokenWithinRule||(w.nextTokenWithinRule=this.nextTokens(w,p.PredictionContext.EMPTY_LOCAL),w.nextTokenWithinRule.setReadonly(!0)),w.nextTokenWithinRule)}addState(w){w.atn=this,w.stateNumber=this.states.length,this.states.push(w)}removeState(w){let C=new l.InvalidState;C.atn=this,C.stateNumber=w.stateNumber,this.states[w.stateNumber]=C}defineMode(w,C){this.modeNameToStartState.set(w,C),this.modeToStartState.push(C),this.modeToDFA.push(new i.DFA(C)),this.defineDecisionState(C)}defineDecisionState(w){return this.decisionToState.push(w),w.decision=this.decisionToState.length-1,this.decisionToDFA.push(new i.DFA(w,w.decision)),w.decision}getDecisionState(w){if(this.decisionToState.length>0)return this.decisionToState[w]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(w,C){if(w<0||w>=this.states.length)throw new RangeError("Invalid state number.");let R=C,T=this.states[w],_=this.nextTokens(T);if(!_.contains(m.Token.EPSILON))return _;let D=new s.IntervalSet;for(D.addAll(_),D.remove(m.Token.EPSILON);R!=null&&R.invokingState>=0&&_.contains(m.Token.EPSILON);){let B=this.states[R.invokingState].transition(0);_=this.nextTokens(B.followState),D.addAll(_),D.remove(m.Token.EPSILON),R=R._parent}return _.contains(m.Token.EPSILON)&&D.add(m.Token.EOF),D}};t([c.NotNull],b.prototype,"states",void 0),t([c.NotNull],b.prototype,"decisionToState",void 0),t([c.NotNull],b.prototype,"modeNameToStartState",void 0),t([c.NotNull],b.prototype,"modeToStartState",void 0),t([c.NotNull],b.prototype,"decisionToDFA",void 0),t([c.NotNull],b.prototype,"modeToDFA",void 0),t([c.NotNull],b.prototype,"nextTokens",null),t([n(0,c.NotNull)],b.prototype,"removeState",null),t([n(0,c.NotNull),n(1,c.NotNull)],b.prototype,"defineMode",null),t([n(0,c.NotNull)],b.prototype,"defineDecisionState",null),t([c.NotNull],b.prototype,"getExpectedTokens",null),b=t([n(0,c.NotNull)],b),e.ATN=b,function(E){E.INVALID_ALT_NUMBER=0}(b=e.ATN||(e.ATN={})),e.ATN=b}(dd)),dd}var Bl={},jl={},WI;function tY(){if(WI)return jl;WI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jl&&jl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=jl&&jl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(jl,"__esModule",{value:!0}),jl.LexerIndexedCustomAction=void 0;const n=mr(),r=Ve();let i=class Sk{constructor(l,u){this._offset=l,this._action=u}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(l){this._action.execute(l)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this._offset),l=n.MurmurHash.update(l,this._action),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof Sk?this._offset===l._offset&&this._action.equals(l._action):!1}};return e([r.NotNull],i.prototype,"action",null),e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),i=e([t(1,r.NotNull)],i),jl.LexerIndexedCustomAction=i,jl}var YI;function nY(){if(YI)return Bl;YI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bl&&Bl.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=Bl&&Bl.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.LexerActionExecutor=void 0;const n=l1(),r=tY(),i=mr(),s=Ve();let l=class yv{constructor(c){this._lexerActions=c;let g=i.MurmurHash.initialize();for(let p of c)g=i.MurmurHash.update(g,p);this.cachedHashCode=i.MurmurHash.finish(g,c.length)}static append(c,g){if(!c)return new yv([g]);let p=c._lexerActions.slice(0);return p.push(g),new yv(p)}fixOffsetBeforeMatch(c){let g;for(let p=0;p<this._lexerActions.length;p++)this._lexerActions[p].isPositionDependent&&!(this._lexerActions[p]instanceof r.LexerIndexedCustomAction)&&(g||(g=this._lexerActions.slice(0)),g[p]=new r.LexerIndexedCustomAction(c,this._lexerActions[p]));return g?new yv(g):this}get lexerActions(){return this._lexerActions}execute(c,g,p){let m=!1,x=g.index;try{for(let b of this._lexerActions){if(b instanceof r.LexerIndexedCustomAction){let E=b.offset;g.seek(p+E),b=b.action,m=p+E!==x}else b.isPositionDependent&&(g.seek(x),m=!1);b.execute(c)}}finally{m&&g.seek(x)}}hashCode(){return this.cachedHashCode}equals(c){return c===this?!0:c instanceof yv?this.cachedHashCode===c.cachedHashCode&&n.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,c._lexerActions):!1}};return e([s.NotNull],l.prototype,"_lexerActions",void 0),e([s.NotNull],l.prototype,"lexerActions",null),e([t(0,s.NotNull)],l.prototype,"execute",null),e([s.Override],l.prototype,"hashCode",null),e([s.Override],l.prototype,"equals",null),e([s.NotNull,t(1,s.NotNull)],l,"append",null),l=e([t(0,s.NotNull)],l),Bl.LexerActionExecutor=l,Bl}var zl={},qI;function p1(){if(qI)return zl;qI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zl&&zl.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=zl&&zl.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(zl,"__esModule",{value:!0}),zl.LexerNoViableAltException=void 0;const n=af(),r=Ve(),i=Zi(),s=Lu();let l=class extends n.RecognitionException{constructor(c,g,p,m){super(c,g),this._startIndex=p,this._deadEndConfigs=m}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let c="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(c=this.inputStream.getText(i.Interval.of(this._startIndex,this._startIndex)),c=s.escapeWhitespace(c,!1)),`LexerNoViableAltException('${c}')`}};return e([r.Override],l.prototype,"inputStream",null),e([r.Override],l.prototype,"toString",null),l=e([t(1,r.NotNull)],l),zl.LexerNoViableAltException=l,zl}var Ed={},KI;function rY(){if(KI)return Ed;KI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ed&&Ed.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.OrderedATNConfigSet=void 0;const t=oy(),n=Ve();let r=class Ak extends t.ATNConfigSet{constructor(s,l){s!=null&&l!=null?super(s,l):super()}clone(s){let l=new Ak(this,s);return!s&&this.isReadOnly&&l.addAll(this),l}getKey(s){return{state:0,alt:s.hashCode()}}canMerge(s,l,u){return s.equals(u)}};return e([n.Override],r.prototype,"clone",null),e([n.Override],r.prototype,"getKey",null),e([n.Override],r.prototype,"canMerge",null),Ed.OrderedATNConfigSet=r,Ed}var XI;function g1(){return XI||(XI=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=fd&&fd.__decorate||function(F,B,j,k){var $=arguments.length,Z=$<3?B:k===null?k=Object.getOwnPropertyDescriptor(B,j):k,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(F,B,j,k);else for(var re=F.length-1;re>=0;re--)(ne=F[re])&&(Z=($<3?ne(Z):$>3?ne(B,j,Z):ne(B,j))||Z);return $>3&&Z&&Object.defineProperty(B,j,Z),Z},n=fd&&fd.__param||function(F,B){return function(j,k){B(j,k,F)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerATNSimulator=void 0;const r=dk(),i=Ga(),s=f1(),l=oy(),u=h1(),c=d1(),g=Zi(),p=sf(),m=ff(),x=nY(),b=p1(),E=Ve(),w=rY(),C=Bs(),R=ay(),T=Yn(),_=_i();let D=class go extends u.ATNSimulator{constructor(B,j){super(B),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE,this.prevAccept=new go.SimState,this.recog=j}copyState(B){this._charPositionInLine=B.charPositionInLine,this._line=B._line,this.mode=B.mode,this.startIndex=B.startIndex}match(B,j){this.mode=j;let k=B.mark();try{this.startIndex=B.index,this.prevAccept.reset();let $=this.atn.modeToDFA[j].s0;return $==null?this.matchATN(B):this.execATN(B,$)}finally{B.release(k)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=m.Lexer.DEFAULT_MODE}matchATN(B){let j=this.atn.modeToStartState[this.mode];go.debug&&console.log(`matchATN mode ${this.mode} start: ${j}`);let k=this.mode,$=this.computeStartState(B,j),Z=$.hasSemanticContext;Z&&($.hasSemanticContext=!1);let ne=this.addDFAState($);if(!Z){let he=this.atn.modeToDFA[this.mode];he.s0?ne=he.s0:he.s0=ne}let re=this.execATN(B,ne);return go.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[k].toLexerString()}`),re}execATN(B,j){go.debug&&console.log(`start state closure=${j.configs}`),j.isAcceptState&&this.captureSimState(this.prevAccept,B,j);let k=B.LA(1),$=j;for(;;){go.debug&&console.log(`execATN loop starting closure: ${$.configs}`);let Z=this.getExistingTargetState($,k);if(Z==null&&(Z=this.computeTargetState(B,$,k)),Z===u.ATNSimulator.ERROR||(k!==p.IntStream.EOF&&this.consume(B),Z.isAcceptState&&(this.captureSimState(this.prevAccept,B,Z),k===p.IntStream.EOF)))break;k=B.LA(1),$=Z}return this.failOrAccept(this.prevAccept,B,$.configs,k)}getExistingTargetState(B,j){let k=B.getTarget(j);return go.debug&&k!=null&&console.log("reuse state "+B.stateNumber+" edge to "+k.stateNumber),k}computeTargetState(B,j,k){let $=new w.OrderedATNConfigSet;return this.getReachableConfigSet(B,j.configs,$,k),$.isEmpty?($.hasSemanticContext||this.addDFAEdge(j,k,u.ATNSimulator.ERROR),u.ATNSimulator.ERROR):this.addDFAEdge(j,k,$)}failOrAccept(B,j,k,$){if(B.dfaState!=null){let Z=B.dfaState.lexerActionExecutor;return this.accept(j,Z,this.startIndex,B.index,B.line,B.charPos),B.dfaState.prediction}else{if($===p.IntStream.EOF&&j.index===this.startIndex)return T.Token.EOF;throw new b.LexerNoViableAltException(this.recog,j,this.startIndex,k)}}getReachableConfigSet(B,j,k,$){let Z=i.ATN.INVALID_ALT_NUMBER;for(let ne of j){let re=ne.alt===Z;if(re&&ne.hasPassedThroughNonGreedyDecision)continue;go.debug&&console.log(`testing ${this.getTokenName($)} at ${ne.toString(this.recog,!0)}`);let he=ne.state.numberOfOptimizedTransitions;for(let Ce=0;Ce<he;Ce++){let _e=ne.state.getOptimizedTransition(Ce),ie=this.getReachableTarget(_e,$);if(ie!=null){let Ae=ne.lexerActionExecutor,de;Ae!=null?(Ae=Ae.fixOffsetBeforeMatch(B.index-this.startIndex),de=ne.transform(ie,!0,Ae)):(_(ne.lexerActionExecutor==null),de=ne.transform(ie,!0));let ue=$===p.IntStream.EOF;if(this.closure(B,de,k,re,!0,ue)){Z=ne.alt;break}}}}}accept(B,j,k,$,Z,ne){go.debug&&console.log(`ACTION ${j}`),B.seek($),this._line=Z,this._charPositionInLine=ne,j!=null&&this.recog!=null&&j.execute(this.recog,B,k)}getReachableTarget(B,j){if(B.matches(j,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE))return B.target}computeStartState(B,j){let k=C.PredictionContext.EMPTY_FULL,$=new w.OrderedATNConfigSet;for(let Z=0;Z<j.numberOfTransitions;Z++){let ne=j.transition(Z).target,re=s.ATNConfig.create(ne,Z+1,k);this.closure(B,re,$,!1,!1,!1)}return $}closure(B,j,k,$,Z,ne){if(go.debug&&console.log("closure("+j.toString(this.recog,!0)+")"),j.state instanceof R.RuleStopState){go.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[j.state.ruleIndex]} rule stop ${j}`):console.log(`closure at rule stop ${j}`));let he=j.context;if(he.isEmpty)return k.add(j),!0;he.hasEmpty&&(k.add(j.transform(j.state,!0,C.PredictionContext.EMPTY_FULL)),$=!0);for(let Ce=0;Ce<he.size;Ce++){let _e=he.getReturnState(Ce);if(_e===C.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let ie=he.getParent(Ce),Ae=this.atn.states[_e],de=j.transform(Ae,!1,ie);$=this.closure(B,de,k,$,Z,ne)}return $}j.state.onlyHasEpsilonTransitions||(!$||!j.hasPassedThroughNonGreedyDecision)&&k.add(j);let re=j.state;for(let he=0;he<re.numberOfOptimizedTransitions;he++){let Ce=re.getOptimizedTransition(he),_e=this.getEpsilonTarget(B,j,Ce,k,Z,ne);_e!=null&&($=this.closure(B,_e,k,$,Z,ne))}return $}getEpsilonTarget(B,j,k,$,Z,ne){let re;switch(k.serializationType){case 3:let he=k;if(this.optimize_tail_calls&&he.optimizedTailCall&&!j.context.hasEmpty)re=j.transform(k.target,!0);else{let _e=j.context.getChild(he.followState.stateNumber);re=j.transform(k.target,!0,_e)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let Ce=k;go.debug&&console.log("EVAL rule "+Ce.ruleIndex+":"+Ce.predIndex),$.hasSemanticContext=!0,this.evaluatePredicate(B,Ce.ruleIndex,Ce.predIndex,Z)?re=j.transform(k.target,!0):re=void 0;break;case 6:if(j.context.hasEmpty){let _e=x.LexerActionExecutor.append(j.lexerActionExecutor,this.atn.lexerActions[k.actionIndex]);re=j.transform(k.target,!0,_e);break}else{re=j.transform(k.target,!0);break}case 1:re=j.transform(k.target,!0);break;case 5:case 2:case 7:if(ne&&k.matches(p.IntStream.EOF,m.Lexer.MIN_CHAR_VALUE,m.Lexer.MAX_CHAR_VALUE)){re=j.transform(k.target,!1);break}re=void 0;break;default:re=void 0;break}return re}evaluatePredicate(B,j,k,$){if(this.recog==null)return!0;if(!$)return this.recog.sempred(void 0,j,k);let Z=this._charPositionInLine,ne=this._line,re=B.index,he=B.mark();try{return this.consume(B),this.recog.sempred(void 0,j,k)}finally{this._charPositionInLine=Z,this._line=ne,B.seek(re),B.release(he)}}captureSimState(B,j,k){B.index=j.index,B.line=this._line,B.charPos=this._charPositionInLine,B.dfaState=k}addDFAEdge(B,j,k){if(k instanceof l.ATNConfigSet){let $=k.hasSemanticContext;$&&(k.hasSemanticContext=!1);let Z=this.addDFAState(k);return $||this.addDFAEdge(B,j,Z),Z}else go.debug&&console.log("EDGE "+B+" -> "+k+" upon "+String.fromCharCode(j)),B!=null&&B.setTarget(j,k)}addDFAState(B){_(!B.hasSemanticContext);let j=new c.DFAState(B),k=this.atn.modeToDFA[this.mode].states.get(j);if(k!=null)return k;B.optimizeConfigs(this);let $=new c.DFAState(B.clone(!0)),Z;for(let ne of B)if(ne.state instanceof R.RuleStopState){Z=ne;break}if(Z!=null){let ne=this.atn.ruleToTokenType[Z.state.ruleIndex],re=Z.lexerActionExecutor;$.acceptStateInfo=new r.AcceptStateInfo(ne,re)}return this.atn.modeToDFA[this.mode].addState($)}getDFA(B){return this.atn.modeToDFA[B]}getText(B){return B.getText(g.Interval.of(this.startIndex,B.index-1))}get line(){return this._line}set line(B){this._line=B}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(B){this._charPositionInLine=B}consume(B){B.LA(1)===10?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,B.consume()}getTokenName(B){return B===-1?"EOF":"'"+String.fromCharCode(B)+"'"}};t([E.NotNull],D.prototype,"prevAccept",void 0),t([n(0,E.NotNull)],D.prototype,"copyState",null),t([n(0,E.NotNull)],D.prototype,"match",null),t([E.Override],D.prototype,"reset",null),t([n(0,E.NotNull)],D.prototype,"matchATN",null),t([n(0,E.NotNull),n(1,E.NotNull)],D.prototype,"execATN",null),t([n(0,E.NotNull)],D.prototype,"getExistingTargetState",null),t([E.NotNull,n(0,E.NotNull),n(1,E.NotNull)],D.prototype,"computeTargetState",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],D.prototype,"getReachableConfigSet",null),t([n(0,E.NotNull)],D.prototype,"accept",null),t([E.NotNull,n(0,E.NotNull),n(1,E.NotNull)],D.prototype,"computeStartState",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],D.prototype,"closure",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull),n(3,E.NotNull)],D.prototype,"getEpsilonTarget",null),t([n(0,E.NotNull)],D.prototype,"evaluatePredicate",null),t([n(0,E.NotNull),n(1,E.NotNull),n(2,E.NotNull)],D.prototype,"captureSimState",null),t([E.NotNull,n(0,E.NotNull)],D.prototype,"addDFAState",null),t([E.NotNull],D.prototype,"getDFA",null),t([E.NotNull,n(0,E.NotNull)],D.prototype,"getText",null),t([n(0,E.NotNull)],D.prototype,"consume",null),t([E.NotNull],D.prototype,"getTokenName",null),D=t([n(0,E.NotNull)],D),e.LexerATNSimulator=D,function(F){F.debug=!1,F.dfa_debug=!1;class B{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}F.SimState=B}(D=e.LexerATNSimulator||(e.LexerATNSimulator={})),e.LexerATNSimulator=D}(fd)),fd}var ZI;function ff(){if(ZI)return cd;ZI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=cd&&cd.__decorate||function(m,x,b,E){var w=arguments.length,C=w<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,b):E,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,x,b,E);else for(var T=m.length-1;T>=0;T--)(R=m[T])&&(C=(w<3?R(C):w>3?R(x,b,C):R(x,b))||C);return w>3&&C&&Object.defineProperty(x,b,C),C};Object.defineProperty(cd,"__esModule",{value:!0}),cd.Lexer=void 0;const t=vR(),n=fk(),r=Zi(),i=sf(),s=g1(),l=p1(),u=Ve(),c=sy(),g=Yn();let p=class Dc extends c.Recognizer{constructor(x){super(),this._factory=t.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new n.IntegerStack,this._mode=Dc.DEFAULT_MODE,this._input=x,this._tokenFactorySourcePair={source:this,stream:x}}static get DEFAULT_TOKEN_CHANNEL(){return g.Token.DEFAULT_CHANNEL}static get HIDDEN(){return g.Token.HIDDEN_CHANNEL}reset(x){(x===void 0||x)&&this._input.seek(0),this._token=void 0,this._type=g.Token.INVALID_TYPE,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=Dc.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let x=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=g.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=g.Token.INVALID_TYPE;let b;try{b=this.interpreter.match(this._input,this._mode)}catch(E){if(E instanceof l.LexerNoViableAltException)this.notifyListeners(E),this.recover(E),b=Dc.SKIP;else throw E}if(this._input.LA(1)===i.IntStream.EOF&&(this._hitEOF=!0),this._type===g.Token.INVALID_TYPE&&(this._type=b),this._type===Dc.SKIP)continue e}while(this._type===Dc.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(x)}}skip(){this._type=Dc.SKIP}more(){this._type=Dc.MORE}mode(x){this._mode=x}pushMode(x){s.LexerATNSimulator.debug&&console.log("pushMode "+x),this._modeStack.push(this._mode),this.mode(x)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return s.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(x){this._factory=x}get inputStream(){return this._input}set inputStream(x){this.reset(!1),this._input=x,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(x){return x||(x=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=x,x}emitEOF(){let x=this.charPositionInLine,b=this.line,E=this._factory.create(this._tokenFactorySourcePair,g.Token.EOF,void 0,g.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,b,x);return this.emit(E),E}get line(){return this.interpreter.line}set line(x){this.interpreter.line=x}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(x){this.interpreter.charPositionInLine=x}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(x){this._text=x}get token(){return this._token}set token(x){this._token=x}set type(x){this._type=x}get type(){return this._type}set channel(x){this._channel=x}get channel(){return this._channel}getAllTokens(){let x=[],b=this.nextToken();for(;b.type!==g.Token.EOF;)x.push(b),b=this.nextToken();return x}notifyListeners(x){let b=this._input.getText(r.Interval.of(this._tokenStartCharIndex,this._input.index)),E="token recognition error at: '"+this.getErrorDisplay(b)+"'",w=this.getErrorListenerDispatch();w.syntaxError&&w.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,E,x)}getErrorDisplay(x){if(typeof x=="number"){switch(x){case g.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(x)}return x.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(x){return"'"+this.getErrorDisplay(x)+"'"}recover(x){x instanceof l.LexerNoViableAltException?this._input.LA(1)!==i.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};return p.DEFAULT_MODE=0,p.MORE=-2,p.SKIP=-3,p.MIN_CHAR_VALUE=0,p.MAX_CHAR_VALUE=1114111,e([u.Override],p.prototype,"nextToken",null),e([u.Override],p.prototype,"tokenFactory",null),e([u.Override],p.prototype,"inputStream",null),e([u.Override],p.prototype,"sourceName",null),e([u.Override],p.prototype,"line",null),e([u.Override],p.prototype,"charPositionInLine",null),cd.Lexer=p,cd}var JI;function Rh(){if(JI)return Rl;JI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rl&&Rl.__decorate||function(p,m,x,b){var E=arguments.length,w=E<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,x):b,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,m,x,b);else for(var R=p.length-1;R>=0;R--)(C=p[R])&&(w=(E<3?C(w):E>3?C(m,x,w):C(m,x))||w);return E>3&&w&&Object.defineProperty(m,x,w),w},t=Rl&&Rl.__param||function(p,m){return function(x,b){m(x,b,p)}};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.IntervalSet=void 0;const n=l1(),r=mR(),i=Zi(),s=ff(),l=mr(),u=Ve(),c=Yn();let g=class yn{constructor(m){this.readonly=!1,m!=null?this._intervals=m.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return yn._COMPLETE_CHAR_SET===void 0&&(yn._COMPLETE_CHAR_SET=yn.of(s.Lexer.MIN_CHAR_VALUE,s.Lexer.MAX_CHAR_VALUE),yn._COMPLETE_CHAR_SET.setReadonly(!0)),yn._COMPLETE_CHAR_SET}static get EMPTY_SET(){return yn._EMPTY_SET==null&&(yn._EMPTY_SET=new yn,yn._EMPTY_SET.setReadonly(!0)),yn._EMPTY_SET}static of(m,x=m){let b=new yn;return b.add(m,x),b}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(m,x=m){this.addRange(i.Interval.of(m,x))}addRange(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(m.b<m.a)){for(let x=0;x<this._intervals.length;x++){let b=this._intervals[x];if(m.equals(b))return;if(m.adjacent(b)||!m.disjoint(b)){let E=m.union(b);for(this._intervals[x]=E;x<this._intervals.length-1;){x++;let w=this._intervals[x];if(!E.adjacent(w)&&E.disjoint(w))break;this._intervals.splice(x,1),x--,this._intervals[x]=E.union(w)}return}if(m.startsBeforeDisjoint(b)){this._intervals.splice(x,0,m);return}}this._intervals.push(m)}}static or(m){let x=new yn;for(let b of m)x.addAll(b);return x}addAll(m){if(m==null)return this;if(m instanceof yn){let x=m,b=x._intervals.length;for(let E=0;E<b;E++){let w=x._intervals[E];this.add(w.a,w.b)}}else for(let x of m.toArray())this.add(x);return this}complementRange(m,x){return this.complement(yn.of(m,x))}complement(m){if(m.isNil)return yn.EMPTY_SET;let x;return m instanceof yn?x=m:(x=new yn,x.addAll(m)),x.subtract(this)}subtract(m){if(m==null||m.isNil)return new yn(this._intervals);if(m instanceof yn)return yn.subtract(this,m);let x=new yn;return x.addAll(m),yn.subtract(this,x)}static subtract(m,x){if(m.isNil)return new yn;let b=new yn(m._intervals);if(x.isNil)return b;let E=0,w=0;for(;E<b._intervals.length&&w<x._intervals.length;){let C=b._intervals[E],R=x._intervals[w];if(R.b<C.a){w++;continue}if(R.a>C.b){E++;continue}let T,_;if(R.a>C.a&&(T=new i.Interval(C.a,R.a-1)),R.b<C.b&&(_=new i.Interval(R.b+1,C.b)),T)if(_){b._intervals[E]=T,b._intervals.splice(E+1,0,_),E++,w++;continue}else{b._intervals[E]=T,E++;continue}else if(_){b._intervals[E]=_,w++;continue}else{b._intervals.splice(E,1);continue}}return b}or(m){let x=new yn;return x.addAll(this),x.addAll(m),x}and(m){if(m.isNil)return new yn;let x=this._intervals,b=m._intervals,E,w=x.length,C=b.length,R=0,T=0;for(;R<w&&T<C;){let _=x[R],D=b[T];_.startsBeforeDisjoint(D)?R++:D.startsBeforeDisjoint(_)?T++:_.properlyContains(D)?(E||(E=new yn),E.addRange(_.intersection(D)),T++):D.properlyContains(_)?(E||(E=new yn),E.addRange(_.intersection(D)),R++):_.disjoint(D)||(E||(E=new yn),E.addRange(_.intersection(D)),_.startsAfterNonDisjoint(D)?T++:D.startsAfterNonDisjoint(_)&&R++)}return E||new yn}contains(m){let x=this._intervals.length,b=0,E=x-1;for(;b<=E;){let w=b+E>>1,C=this._intervals[w],R=C.a;if(C.b<m)b=w+1;else if(R>m)E=w-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let m=l.MurmurHash.initialize();for(let x of this._intervals)m=l.MurmurHash.update(m,x.a),m=l.MurmurHash.update(m,x.b);return m=l.MurmurHash.finish(m,this._intervals.length*2),m}equals(m){return m==null||!(m instanceof yn)?!1:n.ArrayEqualityComparator.INSTANCE.equals(this._intervals,m._intervals)}toString(m=!1){let x="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(x+="{");let b=!0;for(let E of this._intervals){b?b=!1:x+=", ";let w=E.a,C=E.b;w===C?w===c.Token.EOF?x+="<EOF>":m?x+="'"+String.fromCodePoint(w)+"'":x+=w:m?x+="'"+String.fromCodePoint(w)+"'..'"+String.fromCodePoint(C)+"'":x+=w+".."+C}return this.size>1&&(x+="}"),x}toStringVocabulary(m){if(this._intervals==null||this._intervals.length===0)return"{}";let x="";this.size>1&&(x+="{");let b=!0;for(let E of this._intervals){b?b=!1:x+=", ";let w=E.a,C=E.b;if(w===C)x+=this.elementName(m,w);else for(let R=w;R<=C;R++)R>w&&(x+=", "),x+=this.elementName(m,R)}return this.size>1&&(x+="}"),x}elementName(m,x){return x===c.Token.EOF?"<EOF>":x===c.Token.EPSILON?"<EPSILON>":m.getDisplayName(x)}get size(){let m=0,x=this._intervals.length;if(x===1){let b=this._intervals[0];return b.b-b.a+1}for(let b=0;b<x;b++){let E=this._intervals[b];m+=E.b-E.a+1}return m}toIntegerList(){let m=new r.IntegerList(this.size),x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],w=E.a,C=E.b;for(let R=w;R<=C;R++)m.add(R)}return m}toSet(){let m=new Set;for(let x of this._intervals){let b=x.a,E=x.b;for(let w=b;w<=E;w++)m.add(w)}return m}toArray(){let m=new Array,x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],w=E.a,C=E.b;for(let R=w;R<=C;R++)m.push(R)}return m}remove(m){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let x=this._intervals.length;for(let b=0;b<x;b++){let E=this._intervals[b],w=E.a,C=E.b;if(m<w)break;if(m===w&&m===C){this._intervals.splice(b,1);break}if(m===w){this._intervals[b]=i.Interval.of(E.a+1,E.b);break}if(m===C){this._intervals[b]=i.Interval.of(E.a,E.b-1);break}if(m>w&&m<C){let R=E.b;this._intervals[b]=i.Interval.of(E.a,m-1),this.add(m+1,R)}}}get isReadonly(){return this.readonly}setReadonly(m){if(this.readonly&&!m)throw new Error("can't alter readonly IntervalSet");this.readonly=m}};return e([u.Override],g.prototype,"addAll",null),e([u.Override],g.prototype,"complement",null),e([u.Override],g.prototype,"subtract",null),e([u.Override],g.prototype,"or",null),e([u.Override],g.prototype,"and",null),e([u.Override],g.prototype,"contains",null),e([u.Override],g.prototype,"isNil",null),e([u.Override],g.prototype,"hashCode",null),e([u.Override],g.prototype,"equals",null),e([t(0,u.NotNull)],g.prototype,"toStringVocabulary",null),e([u.NotNull,t(0,u.NotNull)],g.prototype,"elementName",null),e([u.Override],g.prototype,"size",null),e([u.Override],g.prototype,"remove",null),e([u.NotNull],g,"of",null),e([u.NotNull],g,"subtract",null),Rl.IntervalSet=g,Rl}var Cd={},ws={},wd={},QI;function Ek(){if(QI)return wd;QI=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=wd&&wd.__decorate||function(r,i,s,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,s):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,s,c):g(i,s))||c);return u>3&&c&&Object.defineProperty(i,s,c),c};Object.defineProperty(wd,"__esModule",{value:!0}),wd.ATNDeserializationOptions=void 0;const t=Ve();let n=class Gp{constructor(i){this.readOnly=!1,i?(this.verifyATN=i.verifyATN,this.generateRuleBypassTransitions=i.generateRuleBypassTransitions,this.optimize=i.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return Gp._defaultOptions==null&&(Gp._defaultOptions=new Gp,Gp._defaultOptions.makeReadOnly()),Gp._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(i){this.throwIfReadOnly(),this.verifyATN=i}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(i){this.throwIfReadOnly(),this.generateRuleBypassTransitions=i}get isOptimize(){return this.optimize}set isOptimize(i){this.throwIfReadOnly(),this.optimize=i}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};return e([t.NotNull],n,"defaultOptions",null),wd.ATNDeserializationOptions=n,wd}var Ul={},Vl={},eO;function Ck(){if(eO)return Vl;eO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vl&&Vl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Vl&&Vl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.ActionTransition=void 0;const n=Ve(),r=lf();let i=class extends r.Transition{constructor(l,u,c=-1,g=!1){super(l),this.ruleIndex=u,this.actionIndex=c,this.isCtxDependent=g}get serializationType(){return 6}get isEpsilon(){return!0}matches(l,u,c){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"isEpsilon",null),e([n.Override],i.prototype,"matches",null),e([n.Override],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),Vl.ActionTransition=i,Vl}var Gl={},tO;function wk(){if(tO)return Gl;tO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gl&&Gl.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Gl&&Gl.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.AtomTransition=void 0;const n=Rh(),r=Ve(),i=lf();let s=class extends i.Transition{constructor(u,c){super(u),this._label=c}get serializationType(){return 5}get label(){return n.IntervalSet.of(this._label)}matches(u,c,g){return this._label===u}toString(){return String(this.label)}};return e([r.Override],s.prototype,"serializationType",null),e([r.Override,r.NotNull],s.prototype,"label",null),e([r.Override],s.prototype,"matches",null),e([r.Override,r.NotNull],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),Gl.AtomTransition=s,Gl}var Rd={},X0={},nO;function m1(){if(nO)return X0;nO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(X0,"__esModule",{value:!0}),X0.BlockStartState=void 0;const e=Ch();let t=class extends e.DecisionState{};return X0.BlockStartState=t,X0}var rO;function iY(){if(rO)return Rd;rO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Rd&&Rd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.BasicBlockStartState=void 0;const t=ti(),n=m1(),r=Ve();let i=class extends n.BlockStartState{get stateType(){return t.ATNStateType.BLOCK_START}};return e([r.Override],i.prototype,"stateType",null),Rd.BasicBlockStartState=i,Rd}var Td={},iO;function oY(){if(iO)return Td;iO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Td&&Td.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Td,"__esModule",{value:!0}),Td.BlockEndState=void 0;const t=Pu(),n=ti(),r=Ve();let i=class extends t.ATNState{get stateType(){return n.ATNStateType.BLOCK_END}};return e([r.Override],i.prototype,"stateType",null),Td.BlockEndState=i,Td}var $l={},oO;function sY(){if(oO)return $l;oO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=$l&&$l.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=$l&&$l.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty($l,"__esModule",{value:!0}),$l.EpsilonTransition=void 0;const n=Ve(),r=lf();let i=class extends r.Transition{constructor(l,u=-1){super(l),this._outermostPrecedenceReturn=u}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(l,u,c){return!1}toString(){return"epsilon"}};return e([n.Override],i.prototype,"serializationType",null),e([n.Override],i.prototype,"isEpsilon",null),e([n.Override],i.prototype,"matches",null),e([n.Override,n.NotNull],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),$l.EpsilonTransition=i,$l}var Hl={},sO;function aY(){if(sO)return Hl;sO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hl&&Hl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Hl&&Hl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.LexerChannelAction=void 0;const n=mr(),r=Ve();let i=class Rk{constructor(l){this._channel=l}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(l){l.channel=this._channel}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._channel),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof Rk?this._channel===l._channel:!1}toString(){return`channel(${this._channel})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),Hl.LexerChannelAction=i,Hl}var Wl={},aO;function lY(){if(aO)return Wl;aO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wl&&Wl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Wl&&Wl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.LexerCustomAction=void 0;const n=mr(),r=Ve();let i=class Tk{constructor(l,u){this._ruleIndex=l,this._actionIndex=u}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(l){l.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._ruleIndex),l=n.MurmurHash.update(l,this._actionIndex),n.MurmurHash.finish(l,3)}equals(l){return l===this?!0:l instanceof Tk?this._ruleIndex===l._ruleIndex&&this._actionIndex===l._actionIndex:!1}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),Wl.LexerCustomAction=i,Wl}var Yl={},lO;function uY(){if(lO)return Yl;lO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yl&&Yl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Yl&&Yl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.LexerModeAction=void 0;const n=mr(),r=Ve();let i=class Nk{constructor(l){this._mode=l}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(l){l.mode(this._mode)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._mode),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof Nk?this._mode===l._mode:!1}toString(){return`mode(${this._mode})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),Yl.LexerModeAction=i,Yl}var Nd={},uO;function cY(){return uO||(uO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Nd&&Nd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},n=Nd&&Nd.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerMoreAction=void 0;const r=mr(),i=Ve();let s=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(u){u.more()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"more"}};t([i.Override],s.prototype,"actionType",null),t([i.Override],s.prototype,"isPositionDependent",null),t([i.Override,n(0,i.NotNull)],s.prototype,"execute",null),t([i.Override],s.prototype,"hashCode",null),t([i.Override],s.prototype,"equals",null),t([i.Override],s.prototype,"toString",null),e.LexerMoreAction=s,function(l){l.INSTANCE=new l}(s=e.LexerMoreAction||(e.LexerMoreAction={}))}(Nd)),Nd}var _d={},cO;function fY(){return cO||(cO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=_d&&_d.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},n=_d&&_d.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerPopModeAction=void 0;const r=mr(),i=Ve();let s=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(u){u.popMode()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"popMode"}};t([i.Override],s.prototype,"actionType",null),t([i.Override],s.prototype,"isPositionDependent",null),t([i.Override,n(0,i.NotNull)],s.prototype,"execute",null),t([i.Override],s.prototype,"hashCode",null),t([i.Override],s.prototype,"equals",null),t([i.Override],s.prototype,"toString",null),e.LexerPopModeAction=s,function(l){l.INSTANCE=new l}(s=e.LexerPopModeAction||(e.LexerPopModeAction={}))}(_d)),_d}var ql={},fO;function dY(){if(fO)return ql;fO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ql&&ql.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=ql&&ql.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(ql,"__esModule",{value:!0}),ql.LexerPushModeAction=void 0;const n=mr(),r=Ve();let i=class _k{constructor(l){this._mode=l}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(l){l.pushMode(this._mode)}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._mode),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof _k?this._mode===l._mode:!1}toString(){return`pushMode(${this._mode})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),ql.LexerPushModeAction=i,ql}var Id={},dO;function hY(){return dO||(dO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=Id&&Id.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},n=Id&&Id.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerSkipAction=void 0;const r=mr(),i=Ve();let s=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(u){u.skip()}hashCode(){let u=r.MurmurHash.initialize();return u=r.MurmurHash.update(u,this.actionType),r.MurmurHash.finish(u,1)}equals(u){return u===this}toString(){return"skip"}};t([i.Override],s.prototype,"actionType",null),t([i.Override],s.prototype,"isPositionDependent",null),t([i.Override,n(0,i.NotNull)],s.prototype,"execute",null),t([i.Override],s.prototype,"hashCode",null),t([i.Override],s.prototype,"equals",null),t([i.Override],s.prototype,"toString",null),e.LexerSkipAction=s,function(l){l.INSTANCE=new l}(s=e.LexerSkipAction||(e.LexerSkipAction={}))}(Id)),Id}var Kl={},hO;function pY(){if(hO)return Kl;hO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kl&&Kl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Kl&&Kl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.LexerTypeAction=void 0;const n=mr(),r=Ve();let i=class Ik{constructor(l){this._type=l}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(l){l.type=this._type}hashCode(){let l=n.MurmurHash.initialize();return l=n.MurmurHash.update(l,this.actionType),l=n.MurmurHash.update(l,this._type),n.MurmurHash.finish(l,2)}equals(l){return l===this?!0:l instanceof Ik?this._type===l._type:!1}toString(){return`type(${this._type})`}};return e([r.Override],i.prototype,"actionType",null),e([r.Override],i.prototype,"isPositionDependent",null),e([r.Override,t(0,r.NotNull)],i.prototype,"execute",null),e([r.Override],i.prototype,"hashCode",null),e([r.Override],i.prototype,"equals",null),e([r.Override],i.prototype,"toString",null),Kl.LexerTypeAction=i,Kl}var Od={},pO;function Ok(){if(pO)return Od;pO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Od&&Od.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Od,"__esModule",{value:!0}),Od.LoopEndState=void 0;const t=Pu(),n=ti(),r=Ve();let i=class extends t.ATNState{get stateType(){return n.ATNStateType.LOOP_END}};return e([r.Override],i.prototype,"stateType",null),Od.LoopEndState=i,Od}var Xl={},Dd={},gO;function gY(){if(gO)return Dd;gO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Dd&&Dd.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.ConflictInfo=void 0;const t=Ve(),n=Lu();let r=class Dk{constructor(s,l){this._conflictedAlts=s,this.exact=l}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(s){return s===this?!0:s instanceof Dk?this.isExact===s.isExact&&n.equals(this.conflictedAlts,s.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};return e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"hashCode",null),Dd.ConflictInfo=r,Dd}var Md={},Pd={},Ld={},mO;function Pg(){if(mO)return Ld;mO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ld&&Ld.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.TerminalNode=void 0;const t=Zi(),n=Ve(),r=Yn();let i=class{constructor(l){this._symbol=l}getChild(l){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(l){this._parent=l}get payload(){return this._symbol}get sourceInterval(){let l=this._symbol.tokenIndex;return new t.Interval(l,l)}get childCount(){return 0}accept(l){return l.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(l){return this.toString()}toString(){return this._symbol.type===r.Token.EOF?"<EOF>":this._symbol.text||""}};return e([n.Override],i.prototype,"getChild",null),e([n.Override],i.prototype,"parent",null),e([n.Override],i.prototype,"setParent",null),e([n.Override],i.prototype,"payload",null),e([n.Override],i.prototype,"sourceInterval",null),e([n.Override],i.prototype,"childCount",null),e([n.Override],i.prototype,"accept",null),e([n.Override],i.prototype,"text",null),e([n.Override],i.prototype,"toStringTree",null),e([n.Override],i.prototype,"toString",null),Ld.TerminalNode=i,Ld}var vO;function CR(){if(vO)return Pd;vO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Pd&&Pd.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.ErrorNode=void 0;const t=Ve(),n=Pg();let r=class extends n.TerminalNode{constructor(s){super(s)}accept(s){return s.visitErrorNode(this)}};return e([t.Override],r.prototype,"accept",null),Pd.ErrorNode=r,Pd}var Fd={},Z0={},yO;function wR(){if(yO)return Z0;yO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.RuleNode=void 0;let e=class{};return Z0.RuleNode=e,Z0}var Zl={},xO;function Th(){if(xO)return Zl;xO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zl&&Zl.__decorate||function(b,E,w,C){var R=arguments.length,T=R<3?E:C===null?C=Object.getOwnPropertyDescriptor(E,w):C,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(b,E,w,C);else for(var D=b.length-1;D>=0;D--)(_=b[D])&&(T=(R<3?_(T):R>3?_(E,w,T):_(E,w))||T);return R>3&&T&&Object.defineProperty(E,w,T),T},t=Zl&&Zl.__param||function(b,E){return function(w,C){E(w,C,b)}};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.Trees=void 0;const n=Ga(),r=iy(),i=CR(),s=Ve(),l=cy(),u=js(),c=wR(),g=Pg(),p=Yn(),m=Lu();let x=class Mc{static toStringTree(E,w){let C;w instanceof l.Parser?C=w.ruleNames:C=w;let R=m.escapeWhitespace(this.getNodeText(E,C),!1);if(E.childCount===0)return R;let T="";T+="(",R=m.escapeWhitespace(this.getNodeText(E,C),!1),T+=R,T+=" ";for(let _=0;_<E.childCount;_++)_>0&&(T+=" "),T+=this.toStringTree(E.getChild(_),C);return T+=")",T}static getNodeText(E,w){let C;if(w instanceof l.Parser)C=w.ruleNames;else if(w)C=w;else{let R=E.payload;return typeof R.text=="string"?R.text:E.payload.toString()}if(E instanceof c.RuleNode){let R=E.ruleContext,T=R.ruleIndex,_=C[T],D=R.altNumber;return D!==n.ATN.INVALID_ALT_NUMBER?_+":"+D:_}else{if(E instanceof i.ErrorNode)return E.toString();if(E instanceof g.TerminalNode)return E.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(E){let w=[];for(let C=0;C<E.childCount;C++)w.push(E.getChild(C));return w}static getAncestors(E){let w=[],C=E.parent;for(;C;)w.unshift(C),C=C.parent;return w}static isAncestorOf(E,w){if(!E||!w||!E.parent)return!1;let C=w.parent;for(;C;){if(E===C)return!0;C=C.parent}return!1}static findAllTokenNodes(E,w){return Mc.findAllNodes(E,w,!0)}static findAllRuleNodes(E,w){return Mc.findAllNodes(E,w,!1)}static findAllNodes(E,w,C){let R=[];return Mc._findAllNodes(E,w,C,R),R}static _findAllNodes(E,w,C,R){C&&E instanceof g.TerminalNode?E.symbol.type===w&&R.push(E):!C&&E instanceof u.ParserRuleContext&&E.ruleIndex===w&&R.push(E);for(let T=0;T<E.childCount;T++)Mc._findAllNodes(E.getChild(T),w,C,R)}static getDescendants(E){let w=[];function C(R){w.push(R);const T=R.childCount;for(let _=0;_<T;_++)C(R.getChild(_))}return C(E),w}static getRootOfSubtreeEnclosingRegion(E,w,C){let R=E.childCount;for(let T=0;T<R;T++){let _=E.getChild(T),D=Mc.getRootOfSubtreeEnclosingRegion(_,w,C);if(D)return D}if(E instanceof u.ParserRuleContext){let T=E.stop;if(w>=E.start.tokenIndex&&(T==null||C<=T.tokenIndex))return E}}static stripChildrenOutOfRange(E,w,C,R){if(!E)return;let T=E.childCount;for(let _=0;_<T;_++){let D=E.getChild(_),F=D.sourceInterval;if(D instanceof u.ParserRuleContext&&(F.b<C||F.a>R)&&Mc.isAncestorOf(D,w)){let B=new r.CommonToken(p.Token.INVALID_TYPE,"...");E.children[_]=new g.TerminalNode(B)}}}static findNodeSuchThat(E,w){if(w(E))return E;let C=E.childCount;for(let R=0;R<C;R++){let T=Mc.findNodeSuchThat(E.getChild(R),w);if(T!==void 0)return T}}};return e([t(0,s.NotNull)],x,"toStringTree",null),e([s.NotNull,t(0,s.NotNull)],x,"getAncestors",null),e([t(0,s.NotNull)],x,"getRootOfSubtreeEnclosingRegion",null),Zl.Trees=x,Zl}var bO;function Pk(){if(bO)return Fd;bO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Fd&&Fd.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E};Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.RuleContext=void 0;const t=Ga(),n=sy(),r=wR(),i=Zi(),s=Ve(),l=Th(),u=js();let c=class Mk extends r.RuleNode{constructor(p,m){super(),this._parent=p,this.invokingState=m??-1}static getChildContext(p,m){return new Mk(p,m)}depth(){let p=0,m=this;for(;m;)m=m._parent,p++;return p}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return i.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(p){this._parent=p}get payload(){return this}get text(){if(this.childCount===0)return"";let p="";for(let m=0;m<this.childCount;m++)p+=this.getChild(m).text;return p.toString()}get ruleIndex(){return-1}get altNumber(){return t.ATN.INVALID_ALT_NUMBER}set altNumber(p){}getChild(p){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(p){return p.visitChildren(this)}toStringTree(p){return l.Trees.toStringTree(this,p)}toString(p,m){const x=p instanceof n.Recognizer?p.ruleNames:p;m=m||u.ParserRuleContext.emptyContext();let b="",E=this;for(b+="[";E&&E!==m;){if(!x)E.isEmpty||(b+=E.invokingState);else{let w=E.ruleIndex,C=w>=0&&w<x.length?x[w]:w.toString();b+=C}E._parent&&(x||!E._parent.isEmpty)&&(b+=" "),E=E._parent}return b+="]",b.toString()}};return e([s.Override],c.prototype,"sourceInterval",null),e([s.Override],c.prototype,"ruleContext",null),e([s.Override],c.prototype,"parent",null),e([s.Override],c.prototype,"setParent",null),e([s.Override],c.prototype,"payload",null),e([s.Override],c.prototype,"text",null),e([s.Override],c.prototype,"getChild",null),e([s.Override],c.prototype,"childCount",null),e([s.Override],c.prototype,"accept",null),e([s.Override],c.prototype,"toStringTree",null),Fd.RuleContext=c,Fd}var SO;function js(){if(SO)return Md;SO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Md&&Md.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x};Object.defineProperty(Md,"__esModule",{value:!0}),Md.ParserRuleContext=void 0;const t=CR(),n=Zi(),r=Ve(),i=Pk(),s=Pg();let l=class $w extends i.RuleContext{constructor(c,g){g==null?super():super(c,g)}static emptyContext(){return $w.EMPTY}copyFrom(c){if(this._parent=c._parent,this.invokingState=c.invokingState,this._start=c._start,this._stop=c._stop,c.children){this.children=[];for(let g of c.children)g instanceof t.ErrorNode&&this.addChild(g)}}enterRule(c){}exitRule(c){}addAnyChild(c){return this.children?this.children.push(c):this.children=[c],c}addChild(c){if(c instanceof s.TerminalNode){c.setParent(this),this.addAnyChild(c);return}else if(c instanceof i.RuleContext){this.addAnyChild(c);return}else return c=new s.TerminalNode(c),this.addAnyChild(c),c.setParent(this),c}addErrorNode(c){if(c instanceof t.ErrorNode){const g=c;return g.setParent(this),this.addAnyChild(g)}else{const g=c;let p=new t.ErrorNode(g);return this.addAnyChild(p),p.setParent(this),p}}removeLastChild(){this.children&&this.children.pop()}get parent(){let c=super.parent;if(c===void 0||c instanceof $w)return c;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(c,g){if(!this.children||c<0||c>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(g==null)return this.children[c];let p=this.tryGetChild(c,g);if(p===void 0)throw new Error("The specified node does not exist");return p}tryGetChild(c,g){if(!this.children||c<0||c>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof g&&(p++,p===c))return m}getToken(c,g){let p=this.tryGetToken(c,g);if(p===void 0)throw new Error("The specified token does not exist");return p}tryGetToken(c,g){if(!this.children||g<0||g>=this.children.length)return;let p=-1;for(let m of this.children)if(m instanceof s.TerminalNode&&m.symbol.type===c&&(p++,p===g))return m}getTokens(c){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof s.TerminalNode&&p.symbol.type===c&&g.push(p);return g}get ruleContext(){return this}getRuleContext(c,g){return this.getChild(c,g)}tryGetRuleContext(c,g){return this.tryGetChild(c,g)}getRuleContexts(c){let g=[];if(!this.children)return g;for(let p of this.children)p instanceof c&&g.push(p);return g}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?n.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):n.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):n.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(c){return"ParserRuleContext"+c.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}};return l.EMPTY=new l,e([r.Override],l.prototype,"parent",null),e([r.Override],l.prototype,"childCount",null),e([r.Override],l.prototype,"sourceInterval",null),Md.ParserRuleContext=l,Md}var J0={},AO;function mY(){return AO||(AO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=J0&&J0.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionMode=void 0;const n=Mg(),r=mr(),i=Ve(),s=ay();(function(l){l[l.SLL=0]="SLL",l[l.LL=1]="LL",l[l.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(e.PredictionMode||(e.PredictionMode={})),function(l){class u extends n.Array2DHashMap{constructor(){super(c.INSTANCE)}}class c{AltAndContextConfigEqualityComparator(){}hashCode(x){let b=r.MurmurHash.initialize(7);return b=r.MurmurHash.update(b,x.state.stateNumber),b=r.MurmurHash.update(b,x.context),b=r.MurmurHash.finish(b,2),b}equals(x,b){return x===b?!0:x==null||b==null?!1:x.state.stateNumber===b.state.stateNumber&&x.context.equals(b.context)}}c.INSTANCE=new c,t([i.Override],c.prototype,"hashCode",null),t([i.Override],c.prototype,"equals",null);function g(m){for(let x of m)if(x.state instanceof s.RuleStopState)return!0;return!1}l.hasConfigInRuleStopState=g;function p(m){for(let x of m)if(!(x.state instanceof s.RuleStopState))return!1;return!0}l.allConfigsInRuleStopStates=p}(e.PredictionMode||(e.PredictionMode={}))}(J0)),J0}var Jl={},EO;function Lk(){if(EO)return Jl;EO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jl&&Jl.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=Jl&&Jl.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.SimulatorState=void 0;const n=Ve(),r=js();let i=class{constructor(l,u,c,g){this.outerContext=l??r.ParserRuleContext.emptyContext(),this.s0=u,this.useContext=c,this.remainingOuterContext=g}};return i=e([t(1,n.NotNull)],i),Jl.SimulatorState=i,Jl}var CO;function ly(){if(CO)return Xl;CO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xl&&Xl.__decorate||function(pe,z,U,G){var W=arguments.length,Q=W<3?z:G===null?G=Object.getOwnPropertyDescriptor(z,U):G,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(pe,z,U,G);else for(var J=pe.length-1;J>=0;J--)(X=pe[J])&&(Q=(W<3?X(Q):W>3?X(z,U,Q):X(z,U))||Q);return W>3&&Q&&Object.defineProperty(z,U,Q),Q},t=Xl&&Xl.__param||function(pe,z){return function(U,G){z(U,G,pe)}};Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.ParserATNSimulator=void 0;const n=dk(),r=Ck(),i=uf(),s=gR(),l=Ga(),u=f1(),c=oy(),g=h1(),p=ti(),m=wk(),x=cf(),b=gY(),E=Ch(),w=d1(),C=mR(),R=Zi(),T=sf(),_=Ve(),D=AR(),F=v1(),B=Va(),j=js(),k=Bs(),$=yR(),Z=mY(),ne=ay(),re=ER(),he=Dg(),Ce=SR(),_e=Lk(),ie=Yn(),Ae=wh(),de=_i(),ue=65535,K=-2147483648;let oe=class zt extends g.ATNSimulator{constructor(z,U){super(z),this.predictionMode=Z.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=U}getPredictionMode(){return this.predictionMode}setPredictionMode(z){this.predictionMode=z}reset(){}adaptivePredict(z,U,G,W){W===void 0&&(W=!1);let Q=this.atn.decisionToDFA[U];if(de(Q!=null),this.optimize_ll1&&!Q.isPrecedenceDfa&&!Q.isEmpty){let xe=z.LA(1);if(xe>=0&&xe<=65535){let be=(U<<16>>>0)+xe,ae=this.atn.LL1Table.get(be);if(ae!=null)return ae}}this.dfa=Q,this.force_global_context?W=!0:this.always_try_local_context||(W=W||Q.isContextSensitive),this.userWantsCtxSensitive=W||this.predictionMode!==Z.PredictionMode.SLL&&G!=null&&!this.atn.decisionToState[U].sll,G==null&&(G=j.ParserRuleContext.emptyContext());let X;Q.isEmpty||(X=this.getStartState(Q,z,G,W)),X==null&&(G==null&&(G=j.ParserRuleContext.emptyContext()),zt.debug&&console.log("ATN decision "+Q.decision+" exec LA(1)=="+this.getLookaheadName(z)+", outerContext="+G.toString(this._parser)),X=this.computeStartState(Q,G,W));let J=z.mark(),se=z.index;try{let xe=this.execDFA(Q,z,se,X);return zt.debug&&console.log("DFA after predictATN: "+Q.toString(this._parser.vocabulary,this._parser.ruleNames)),xe}finally{this.dfa=void 0,z.seek(se),z.release(J)}}getStartState(z,U,G,W){if(!W)if(z.isPrecedenceDfa){let J=z.getPrecedenceStartState(this._parser.precedence,!1);return J==null?void 0:new _e.SimulatorState(G,J,!1,G)}else return z.s0==null?void 0:new _e.SimulatorState(G,z.s0,!1,G);if(!this.enable_global_context_dfa)return;let Q=G;de(G!=null);let X;for(z.isPrecedenceDfa?X=z.getPrecedenceStartState(this._parser.precedence,!0):X=z.s0full;Q!=null&&X!=null&&X.isContextSensitive;)Q=this.skipTailCalls(Q),X=X.getContextTarget(this.getReturnState(Q)),Q.isEmpty?de(X==null||!X.isContextSensitive):Q=Q.parent;if(X!=null)return new _e.SimulatorState(G,X,W,Q)}execDFA(z,U,G,W){let Q=W.outerContext;zt.dfa_debug&&console.log("DFA decision "+z.decision+" exec LA(1)=="+this.getLookaheadName(U)+", outerContext="+Q.toString(this._parser)),zt.dfa_debug&&console.log(z.toString(this._parser.vocabulary,this._parser.ruleNames));let X=W.s0,J=U.LA(1),se=W.remainingOuterContext;for(;;){if(zt.dfa_debug&&console.log("DFA state "+X.stateNumber+" LA(1)=="+this.getLookaheadName(U)),W.useContext)for(;X.isContextSymbol(J);){let ae;if(se!=null&&(se=this.skipTailCalls(se),ae=X.getContextTarget(this.getReturnState(se))),ae==null){let le=new _e.SimulatorState(W.outerContext,X,W.useContext,se);return this.execATN(z,U,G,le)}de(se!=null),se=se.parent,X=ae}if(this.isAcceptState(X,W.useContext)){X.predicates!=null?zt.dfa_debug&&console.log("accept "+X):zt.dfa_debug&&console.log("accept; predict "+X.prediction+" in state "+X.stateNumber);break}de(!this.isAcceptState(X,W.useContext));let be=this.getExistingTargetState(X,J);if(be==null){zt.dfa_debug&&J>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(J));let ae;if(zt.dfa_debug){let we=R.Interval.of(G,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(we)+" at DFA state "+X.stateNumber)}let le=new _e.SimulatorState(Q,X,W.useContext,se);return ae=this.execATN(z,U,G,le),zt.dfa_debug&&console.log("back from DFA update, alt="+ae+`, dfa=
`+z.toString(this._parser.vocabulary,this._parser.ruleNames)),zt.dfa_debug&&console.log("DFA decision "+z.decision+" predicts "+ae),ae}else if(be===g.ATNSimulator.ERROR){let ae=new _e.SimulatorState(Q,X,W.useContext,se);return this.handleNoViableAlt(U,G,ae)}X=be,!this.isAcceptState(X,W.useContext)&&J!==T.IntStream.EOF&&(U.consume(),J=U.LA(1))}if(!W.useContext&&X.configs.conflictInfo!=null&&z.atnStartState instanceof E.DecisionState&&!(!this.userWantsCtxSensitive||!X.configs.dipsIntoOuterContext&&X.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&U.index===G)){de(!W.useContext);let be,ae=X.predicates;if(ae!=null){let le=U.index;if(le!==G&&U.seek(G),be=this.evalSemanticContext(ae,Q,!0),be.cardinality()===1)return be.nextSetBit(0);le!==G&&U.seek(le)}if(this.reportAmbiguities){let le=new _e.SimulatorState(Q,X,W.useContext,se);this.reportAttemptingFullContext(z,be,le,G,U.index)}return U.seek(G),this.adaptivePredict(U,z.decision,Q,!0)}let xe=X.predicates;if(xe!=null){let be=U.index;G!==be&&U.seek(G);let ae=this.evalSemanticContext(xe,Q,this.reportAmbiguities&&this.predictionMode===Z.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(ae.cardinality()){case 0:throw this.noViableAlt(U,Q,X.configs,G);case 1:return ae.nextSetBit(0);default:return G!==be&&U.seek(be),this.reportAmbiguity(z,X,G,be,X.configs.isExactConflict,ae,X.configs),ae.nextSetBit(0)}}return zt.dfa_debug&&console.log("DFA decision "+z.decision+" predicts "+X.prediction),X.prediction}isAcceptState(z,U){return z.isAcceptState?z.configs.conflictingAlts==null?!0:U&&this.predictionMode===Z.PredictionMode.LL_EXACT_AMBIG_DETECTION?z.configs.isExactConflict:!0:!1}execATN(z,U,G,W){zt.debug&&console.log("execATN decision "+z.decision+" exec LA(1)=="+this.getLookaheadName(U));let Q=W.outerContext,X=W.useContext,J=U.LA(1),se=W,xe=new $.PredictionContextCache;for(;;){let be=this.computeReachSet(z,se,J,xe);if(be==null)return this.setDFAEdge(se.s0,U.LA(1),g.ATNSimulator.ERROR),this.handleNoViableAlt(U,G,se);let ae=be.s0;if(de(ae.isAcceptState||ae.prediction===l.ATN.INVALID_ALT_NUMBER),de(ae.isAcceptState||ae.configs.conflictInfo==null),this.isAcceptState(ae,X)){let le=ae.configs.conflictingAlts,we=le==null?ae.prediction:l.ATN.INVALID_ALT_NUMBER;if(we!==l.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&U.index===G&&!z.isPrecedenceDfa&&be.outerContext===be.remainingOuterContext&&z.decision>=0&&!ae.configs.hasSemanticContext&&J>=0&&J<=ue){let je=(z.decision<<16>>>0)+J;this.atn.LL1Table.set(je,we)}X&&this.always_try_local_context&&this.reportContextSensitivity(z,we,be,G,U.index)}we=ae.prediction;let De=le!=null&&this.userWantsCtxSensitive;if(De&&(De=!X&&(ae.configs.dipsIntoOuterContext||!ae.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||U.index!==G)),ae.configs.hasSemanticContext){let je=ae.predicates;if(je!=null){let Ue=U.index;switch(Ue!==G&&U.seek(G),le=this.evalSemanticContext(je,Q,De||this.reportAmbiguities),le.cardinality()){case 0:throw this.noViableAlt(U,Q,ae.configs,G);case 1:return le.nextSetBit(0)}Ue!==G&&U.seek(Ue)}}if(De){de(!X),de(this.isAcceptState(ae,!1)),zt.debug&&console.log("RETRY with outerContext="+Q);let je=this.computeStartState(z,Q,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(z,le,be,G,U.index),U.seek(G),this.execATN(z,U,G,je)}else return le!=null&&(this.reportAmbiguities&&le.cardinality()>1&&this.reportAmbiguity(z,ae,G,U.index,ae.configs.isExactConflict,le,ae.configs),we=le.nextSetBit(0)),we}se=be,J!==T.IntStream.EOF&&(U.consume(),J=U.LA(1))}}handleNoViableAlt(z,U,G){if(G.s0!=null){let W=new x.BitSet,Q=0;for(let X of G.s0.configs)(X.reachesIntoOuterContext||X.state instanceof ne.RuleStopState)&&(W.set(X.alt),Q=Math.max(Q,X.alt));switch(W.cardinality()){case 0:break;case 1:return W.nextSetBit(0);default:if(!G.s0.configs.hasSemanticContext)return W.nextSetBit(0);let X=new c.ATNConfigSet;for(let se of G.s0.configs)(se.reachesIntoOuterContext||se.state instanceof ne.RuleStopState)&&X.add(se);let J=this.getPredsForAmbigAlts(W,X,Q);if(J!=null){let se=this.getPredicatePredictions(W,J);if(se!=null){let xe=z.index;try{z.seek(U);let be=this.evalSemanticContext(se,G.outerContext,!1);if(!be.isEmpty)return be.nextSetBit(0)}finally{z.seek(xe)}}}return W.nextSetBit(0)}}throw this.noViableAlt(z,G.outerContext,G.s0.configs,U)}computeReachSet(z,U,G,W){let Q=U.useContext,X=U.remainingOuterContext,J=U.s0;if(Q)for(;J.isContextSymbol(G);){let be;if(X!=null&&(X=this.skipTailCalls(X),be=J.getContextTarget(this.getReturnState(X))),be==null)break;de(X!=null),X=X.parent,J=be}if(de(!this.isAcceptState(J,Q)),this.isAcceptState(J,Q))return new _e.SimulatorState(U.outerContext,J,Q,X);let se=J,xe=this.getExistingTargetState(se,G);if(xe==null){let be=this.computeTargetState(z,se,X,G,Q,W);xe=be[0],X=be[1]}if(xe!==g.ATNSimulator.ERROR)return de(!Q||!xe.configs.dipsIntoOuterContext),new _e.SimulatorState(U.outerContext,xe,Q,X)}getExistingTargetState(z,U){return z.getTarget(U)}computeTargetState(z,U,G,W,Q,X){let J=U.configs.toArray(),se,xe=new c.ATNConfigSet,be;do{let le=!Q||G!=null;le||(xe.isOutermostConfigSet=!0);let we=new c.ATNConfigSet,De;for(let ve of J){if(zt.debug&&console.log("testing "+this.getTokenName(W)+" at "+ve.toString()),ve.state instanceof ne.RuleStopState){de(ve.context.isEmpty),(Q&&!ve.reachesIntoOuterContext||W===T.IntStream.EOF)&&(De==null&&(De=[]),De.push(ve));continue}let Pe=ve.state.numberOfOptimizedTransitions;for(let Ze=0;Ze<Pe;Ze++){let pt=ve.state.getOptimizedTransition(Ze),gt=this.getReachableTarget(ve,pt,W);gt!=null&&we.add(ve.transform(gt,!1),X)}}if(this.optimize_unique_closure&&De==null&&W!==ie.Token.EOF&&we.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER){we.isOutermostConfigSet=xe.isOutermostConfigSet,xe=we;break}let je=!1,Ue=W===ie.Token.EOF;if(this.closure(we,xe,je,le,X,Ue),be=xe.dipsIntoOuterContext,W===T.IntStream.EOF&&(xe=this.removeAllConfigsNotInRuleStopState(xe,X)),De!=null&&(!Q||!Z.PredictionMode.hasConfigInRuleStopState(xe))){de(De.length>0);for(let ve of De)xe.add(ve,X)}if(Q&&be){xe.clear(),G=G,G=this.skipTailCalls(G);let ve=this.getReturnState(G);if(se==null&&(se=new C.IntegerList),G.isEmpty?G=void 0:G=G.parent,se.add(ve),ve!==k.PredictionContext.EMPTY_FULL_STATE_KEY)for(let Pe=0;Pe<J.length;Pe++)J[Pe]=J[Pe].appendContext(ve,X)}}while(Q&&be);return xe.isEmpty?(this.setDFAEdge(U,W,g.ATNSimulator.ERROR),[g.ATNSimulator.ERROR,G]):[this.addDFAEdge(z,U,W,se,xe,X),G]}removeAllConfigsNotInRuleStopState(z,U){if(Z.PredictionMode.allConfigsInRuleStopStates(z))return z;let G=new c.ATNConfigSet;for(let W of z)W.state instanceof ne.RuleStopState&&G.add(W,U);return G}computeStartState(z,U,G){let W=z.isPrecedenceDfa?z.getPrecedenceStartState(this._parser.precedence,G):G?z.s0full:z.s0;if(W!=null){if(!G)return new _e.SimulatorState(U,W,G,U);W.setContextSensitive(this.atn)}z.decision;let Q=z.atnStartState,X=0,J=U,se=G?k.PredictionContext.EMPTY_FULL:k.PredictionContext.EMPTY_LOCAL,xe=new $.PredictionContextCache;if(G){if(!this.enable_global_context_dfa)for(;J!=null;)J.isEmpty?(X=k.PredictionContext.EMPTY_FULL_STATE_KEY,J=void 0):(X=this.getReturnState(J),se=se.appendSingleContext(X,xe),J=J.parent);for(;W!=null&&W.isContextSensitive&&J!=null;){let ae;if(J=this.skipTailCalls(J),J.isEmpty?(ae=W.getContextTarget(k.PredictionContext.EMPTY_FULL_STATE_KEY),X=k.PredictionContext.EMPTY_FULL_STATE_KEY,J=void 0):(X=this.getReturnState(J),ae=W.getContextTarget(X),se=se.appendSingleContext(X,xe),J=J.parent),ae==null)break;W=ae}}if(W!=null&&!W.isContextSensitive)return new _e.SimulatorState(U,W,G,J);let be=new c.ATNConfigSet;for(;;){let ae=new c.ATNConfigSet,le=Q.numberOfTransitions;for(let Pe=0;Pe<le;Pe++){let Ze=Q.transition(Pe).target;ae.add(u.ATNConfig.create(Ze,Pe+1,se))}let we=J!=null;we||(be.isOutermostConfigSet=!0),this.closure(ae,be,!0,we,xe,!1);let je=be.dipsIntoOuterContext,Ue;if(G&&!this.enable_global_context_dfa){W=this.addDFAState(z,be,xe);break}else W==null?z.isPrecedenceDfa?(be=this.applyPrecedenceFilter(be,U,xe),Ue=this.addDFAState(z,be,xe),z.setPrecedenceStartState(this._parser.precedence,G,Ue)):(Ue=this.addDFAState(z,be,xe),G?z.s0full?Ue=z.s0full:z.s0full=Ue:z.s0?Ue=z.s0:z.s0=Ue):(z.isPrecedenceDfa&&(be=this.applyPrecedenceFilter(be,U,xe)),Ue=this.addDFAState(z,be,xe),W.setContextTarget(X,Ue));if(W=Ue,!G||!je)break;Ue.setContextSensitive(this.atn),J=J,be.clear(),J=this.skipTailCalls(J);let ve=this.getReturnState(J);J.isEmpty?J=void 0:J=J.parent,ve!==k.PredictionContext.EMPTY_FULL_STATE_KEY&&(se=se.appendSingleContext(ve,xe)),X=ve}return new _e.SimulatorState(U,W,G,J)}applyPrecedenceFilter(z,U,G){let W=new Map,Q=new c.ATNConfigSet;for(let X of z){if(X.alt!==1)continue;let J=X.semanticContext.evalPrecedence(this._parser,U);J!=null&&(W.set(X.state.stateNumber,X.context),J!==X.semanticContext?Q.add(X.transform(X.state,!1,J),G):Q.add(X,G))}for(let X of z)if(X.alt!==1){if(!X.isPrecedenceFilterSuppressed){let J=W.get(X.state.stateNumber);if(J!=null&&J.equals(X.context))continue}Q.add(X,G)}return Q}getReachableTarget(z,U,G){if(U.matches(G,0,this.atn.maxTokenType))return U.target}predicateDFAState(z,U,G){let W=this.getConflictingAltsFromConfigSet(U);if(!W)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");zt.debug&&console.log("predicateDFAState "+z);let Q=this.getPredsForAmbigAlts(W,U,G),X;return Q!=null&&(X=this.getPredicatePredictions(W,Q),z.predicates=X),X}getPredsForAmbigAlts(z,U,G){let W=new Array(G+1),Q=W.length;for(let se of U)z.get(se.alt)&&(W[se.alt]=he.SemanticContext.or(W[se.alt],se.semanticContext));let X=0;for(let se=0;se<Q;se++)W[se]==null?W[se]=he.SemanticContext.NONE:W[se]!==he.SemanticContext.NONE&&X++;let J=W;return X===0&&(J=void 0),zt.debug&&console.log("getPredsForAmbigAlts result "+(J?s.Arrays.toString(J):"undefined")),J}getPredicatePredictions(z,U){let G=[],W=!1;for(let Q=1;Q<U.length;Q++){let X=U[Q];de(X!=null),z!=null&&z.get(Q)&&X===he.SemanticContext.NONE?G.push(new w.DFAState.PredPrediction(X,Q)):X!==he.SemanticContext.NONE&&(W=!0,G.push(new w.DFAState.PredPrediction(X,Q)))}if(W)return G}evalSemanticContext(z,U,G){let W=new x.BitSet;for(let Q of z){if(Q.pred===he.SemanticContext.NONE){if(W.set(Q.alt),!G)break;continue}let X=this.evalSemanticContextImpl(Q.pred,U,Q.alt);if((zt.debug||zt.dfa_debug)&&console.log("eval pred "+Q+"="+X),X&&((zt.debug||zt.dfa_debug)&&console.log("PREDICT "+Q.alt),W.set(Q.alt),!G))break}return W}evalSemanticContextImpl(z,U,G){return z.eval(this._parser,U)}closure(z,U,G,W,Q,X){Q==null&&(Q=$.PredictionContextCache.UNCACHED);let J=z,se=new i.Array2DHashSet(B.ObjectEqualityComparator.INSTANCE);for(;J.size>0;){let xe=new c.ATNConfigSet;for(let be of J)this.closureImpl(be,U,xe,se,G,W,Q,0,X);J=xe}}closureImpl(z,U,G,W,Q,X,J,se,xe){if(zt.debug&&console.log("closure("+z.toString(this._parser,!0)+")"),z.state instanceof ne.RuleStopState)if(z.context.isEmpty)if(X)zt.debug&&console.log("FALLING off rule "+this.getRuleName(z.state.ruleIndex)),z.context===k.PredictionContext.EMPTY_FULL?z=z.transform(z.state,!1,k.PredictionContext.EMPTY_LOCAL):!z.reachesIntoOuterContext&&k.PredictionContext.isEmptyLocal(z.context)&&U.add(z,J);else{U.add(z,J);return}else{let ae=z.context.hasEmpty,le=z.context.size-(ae?1:0);for(let we=0;we<le;we++){let De=z.context.getParent(we),je=this.atn.states[z.context.getReturnState(we)],Ue=u.ATNConfig.create(je,z.alt,De,z.semanticContext);Ue.outerContextDepth=z.outerContextDepth,Ue.isPrecedenceFilterSuppressed=z.isPrecedenceFilterSuppressed,de(se>K),this.closureImpl(Ue,U,G,W,Q,X,J,se-1,xe)}if(!ae||!X)return;z=z.transform(z.state,!1,k.PredictionContext.EMPTY_LOCAL)}let be=z.state;be.onlyHasEpsilonTransitions||(U.add(z,J),zt.debug&&console.log("added config "+U));for(let ae=0;ae<be.numberOfOptimizedTransitions;ae++){if(ae===0&&be.stateType===p.ATNStateType.STAR_LOOP_ENTRY&&be.precedenceRuleDecision&&!z.context.hasEmpty){let je=be,Ue=!0;for(let ve=0;ve<z.context.size;ve++)if(!je.precedenceLoopbackStates.get(z.context.getReturnState(ve))){Ue=!1;break}if(Ue)continue}let le=be.getOptimizedTransition(ae),we=!(le instanceof r.ActionTransition)&&Q,De=this.getEpsilonTarget(z,le,we,se===0,J,xe);if(De!=null){if(le instanceof re.RuleTransition&&G!=null&&!Q){G.add(De,J);continue}let je=se;if(z.state instanceof ne.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&le.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(De.isPrecedenceFilterSuppressed=!0),De.outerContextDepth=De.outerContextDepth+1,!W.add(De))continue;de(je>K),je--,zt.debug&&console.log("dips into outer ctx: "+De)}else if(le instanceof re.RuleTransition)this.optimize_tail_calls&&le.optimizedTailCall&&(!this.tail_call_preserves_sll||!k.PredictionContext.isEmptyLocal(z.context))?(de(De.context===z.context),je===0&&(je--,!this.tail_call_preserves_sll&&k.PredictionContext.isEmptyLocal(z.context)&&(De.outerContextDepth=De.outerContextDepth+1))):je>=0&&je++;else if(!le.isEpsilon&&!W.add(De))continue;this.closureImpl(De,U,G,W,we,X,J,je,xe)}}}getRuleName(z){return this._parser!=null&&z>=0?this._parser.ruleNames[z]:"<rule "+z+">"}getEpsilonTarget(z,U,G,W,Q,X){switch(U.serializationType){case 3:return this.ruleTransition(z,U,Q);case 10:return this.precedenceTransition(z,U,G,W);case 4:return this.predTransition(z,U,G,W);case 6:return this.actionTransition(z,U);case 1:return z.transform(U.target,!1);case 5:case 2:case 7:return X&&U.matches(ie.Token.EOF,0,1)?z.transform(U.target,!1):void 0;default:return}}actionTransition(z,U){return zt.debug&&console.log("ACTION edge "+U.ruleIndex+":"+U.actionIndex),z.transform(U.target,!1)}precedenceTransition(z,U,G,W){zt.debug&&(console.log("PRED (collectPredicates="+G+") "+U.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let Q;if(G&&W){let X=he.SemanticContext.and(z.semanticContext,U.predicate);Q=z.transform(U.target,!1,X)}else Q=z.transform(U.target,!1);return zt.debug&&console.log("config from pred transition="+Q),Q}predTransition(z,U,G,W){zt.debug&&(console.log("PRED (collectPredicates="+G+") "+U.ruleIndex+":"+U.predIndex+", ctx dependent="+U.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let Q;if(G&&(!U.isCtxDependent||U.isCtxDependent&&W)){let X=he.SemanticContext.and(z.semanticContext,U.predicate);Q=z.transform(U.target,!1,X)}else Q=z.transform(U.target,!1);return zt.debug&&console.log("config from pred transition="+Q),Q}ruleTransition(z,U,G){zt.debug&&console.log("CALL rule "+this.getRuleName(U.target.ruleIndex)+", ctx="+z.context);let W=U.followState,Q;return this.optimize_tail_calls&&U.optimizedTailCall&&(!this.tail_call_preserves_sll||!k.PredictionContext.isEmptyLocal(z.context))?Q=z.context:G!=null?Q=G.getChild(z.context,W.stateNumber):Q=z.context.getChild(W.stateNumber),z.transform(U.target,!1,Q)}isConflicted(z,U){if(z.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER||z.size<=1)return;let G=z.toArray();G.sort(zt.STATE_ALT_SORT_COMPARATOR);let W=!z.dipsIntoOuterContext,Q=new x.BitSet,X=G[0].alt;Q.set(X);let J=G[0].state.nonStopStateNumber;for(let le of G){let we=le.state.nonStopStateNumber;if(we!==J){if(le.alt!==X)return;J=we}}let se;if(W){J=G[0].state.nonStopStateNumber,se=new x.BitSet;let le=X;for(let De of G){if(De.state.nonStopStateNumber!==J)break;let je=De.alt;se.set(je),le=je}J=G[0].state.nonStopStateNumber;let we=X;for(let De of G){let je=De.state.nonStopStateNumber,Ue=De.alt;if(je!==J){if(we!==le){W=!1;break}J=je,we=X}else if(Ue!==we){if(Ue!==se.nextSetBit(we+1)){W=!1;break}we=Ue}}}J=G[0].state.nonStopStateNumber;let xe=0,be=0,ae=G[0].context;for(let le=1;le<G.length;le++){let we=G[le];if(we.alt!==X||we.state.nonStopStateNumber!==J)break;be=le,ae=U.join(ae,G[le].context)}for(let le=be+1;le<G.length;le++){let we=G[le],De=we.state;if(Q.set(we.alt),De.nonStopStateNumber!==J){J=De.nonStopStateNumber,xe=le,be=le,ae=we.context;for(let Ze=xe+1;Ze<G.length;Ze++){let pt=G[Ze];if(pt.alt!==X||pt.state.nonStopStateNumber!==J)break;be=Ze,ae=U.join(ae,pt.context)}le=be;continue}let je=we.context,Ue=we.alt,ve=le;for(let Ze=ve+1;Ze<G.length;Ze++){let pt=G[Ze];if(pt.alt!==Ue||pt.state.nonStopStateNumber!==J)break;ve=Ze,je=U.join(je,pt.context)}le=ve;let Pe=U.join(ae,je);if(!ae.equals(Pe))return;W=W&&ae.equals(je)}return new b.ConflictInfo(Q,W)}getConflictingAltsFromConfigSet(z){let U=z.conflictingAlts;return U==null&&z.uniqueAlt!==l.ATN.INVALID_ALT_NUMBER&&(U=new x.BitSet,U.set(z.uniqueAlt)),U}getTokenName(z){if(z===ie.Token.EOF)return"EOF";let G=(this._parser!=null?this._parser.vocabulary:Ae.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(z);return G===String(z)?G:G+"<"+z+">"}getLookaheadName(z){return this.getTokenName(z.LA(1))}dumpDeadEndConfigs(z){console.log("dead end configs: ");let U=z.deadEndConfigs;if(U)for(let G of U){let W="no edges";if(G.state.numberOfOptimizedTransitions>0){let Q=G.state.getOptimizedTransition(0);Q instanceof m.AtomTransition?W="Atom "+this.getTokenName(Q._label):Q instanceof Ce.SetTransition&&(W=(Q instanceof D.NotSetTransition?"~":"")+"Set "+Q.set.toString())}console.log(G.toString(this._parser,!0)+":"+W)}}noViableAlt(z,U,G,W){return new F.NoViableAltException(this._parser,z,z.get(W),z.LT(1),G,U)}getUniqueAlt(z){let U=l.ATN.INVALID_ALT_NUMBER;for(let G of z)if(U===l.ATN.INVALID_ALT_NUMBER)U=G.alt;else if(G.alt!==U)return l.ATN.INVALID_ALT_NUMBER;return U}configWithAltAtStopState(z,U){for(let G of z)if(G.alt===U&&G.state instanceof ne.RuleStopState)return!0;return!1}addDFAEdge(z,U,G,W,Q,X){de(W==null||W.isEmpty||z.isContextSensitive);let J=U,se=this.addDFAState(z,Q,X);if(W!=null)for(let xe of W.toArray()){if(xe===k.PredictionContext.EMPTY_FULL_STATE_KEY&&J.configs.isOutermostConfigSet)continue;J.setContextSensitive(this.atn),J.setContextSymbol(G);let be=J.getContextTarget(xe);if(be!=null){J=be;continue}be=this.addDFAContextState(z,J.configs,xe,X),de(xe!==k.PredictionContext.EMPTY_FULL_STATE_KEY||be.configs.isOutermostConfigSet),J.setContextTarget(xe,be),J=be}return zt.debug&&console.log("EDGE "+J+" -> "+se+" upon "+this.getTokenName(G)),this.setDFAEdge(J,G,se),zt.debug&&console.log(`DFA=
`+z.toString(this._parser!=null?this._parser.vocabulary:Ae.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),se}setDFAEdge(z,U,G){z!=null&&z.setTarget(U,G)}addDFAContextState(z,U,G,W){if(G!==k.PredictionContext.EMPTY_FULL_STATE_KEY){let Q=new c.ATNConfigSet;for(let X of U)Q.add(X.appendContext(G,W));return this.addDFAState(z,Q,W)}else return de(!U.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),U=U.clone(!0),U.isOutermostConfigSet=!0,this.addDFAState(z,U,W)}addDFAState(z,U,G){let W=this.enable_global_context_dfa||!U.isOutermostConfigSet;if(W){U.isReadOnly||U.optimizeConfigs(this);let xe=this.createDFAState(z,U),be=z.states.get(xe);if(be!=null)return be}U.isReadOnly||U.conflictInfo==null&&(U.conflictInfo=this.isConflicted(U,G));let Q=this.createDFAState(z,U.clone(!0)),X=this.atn.getDecisionState(z.decision),J=this.getUniqueAlt(U);if(J!==l.ATN.INVALID_ALT_NUMBER)Q.acceptStateInfo=new n.AcceptStateInfo(J);else if(U.conflictingAlts!=null){let xe=U.conflictingAlts;xe&&(Q.acceptStateInfo=new n.AcceptStateInfo(xe.nextSetBit(0)))}if(Q.isAcceptState&&U.hasSemanticContext&&this.predicateDFAState(Q,U,X.numberOfTransitions),!W)return Q;let se=z.addState(Q);return zt.debug&&se===Q&&console.log("adding new DFA state: "+Q),se}createDFAState(z,U){return new w.DFAState(U)}reportAttemptingFullContext(z,U,G,W,Q){if(zt.debug||zt.retry_debug){let X=R.Interval.of(W,Q);console.log("reportAttemptingFullContext decision="+z.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(X))}if(this._parser!=null){let X=this._parser.getErrorListenerDispatch();X.reportAttemptingFullContext&&X.reportAttemptingFullContext(this._parser,z,W,Q,U,G)}}reportContextSensitivity(z,U,G,W,Q){if(zt.debug||zt.retry_debug){let X=R.Interval.of(W,Q);console.log("reportContextSensitivity decision="+z.decision+":"+G.s0.configs+", input="+this._parser.inputStream.getText(X))}if(this._parser!=null){let X=this._parser.getErrorListenerDispatch();X.reportContextSensitivity&&X.reportContextSensitivity(this._parser,z,W,Q,U,G)}}reportAmbiguity(z,U,G,W,Q,X,J){if(zt.debug||zt.retry_debug){let se=R.Interval.of(G,W);console.log("reportAmbiguity "+X+":"+J+", input="+this._parser.inputStream.getText(se))}if(this._parser!=null){let se=this._parser.getErrorListenerDispatch();se.reportAmbiguity&&se.reportAmbiguity(this._parser,z,G,W,Q,X,J)}}getReturnState(z){return z.isEmpty?k.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[z.invokingState].transition(0).followState.stateNumber}skipTailCalls(z){if(!this.optimize_tail_calls)return z;for(;!z.isEmpty;){let U=this.atn.states[z.invokingState];if(de(U.numberOfTransitions===1&&U.transition(0).serializationType===3),!U.transition(0).tailCall)break;z=z.parent}return z}get parser(){return this._parser}};return oe.debug=!1,oe.dfa_debug=!1,oe.retry_debug=!1,oe.STATE_ALT_SORT_COMPARATOR=(pe,z)=>{let U=pe.state.nonStopStateNumber-z.state.nonStopStateNumber;return U!==0||(U=pe.alt-z.alt,U!==0)?U:0},e([_.NotNull],oe.prototype,"predictionMode",void 0),e([_.NotNull],oe.prototype,"getPredictionMode",null),e([t(0,_.NotNull)],oe.prototype,"setPredictionMode",null),e([_.Override],oe.prototype,"reset",null),e([t(0,_.NotNull)],oe.prototype,"adaptivePredict",null),e([t(0,_.NotNull),t(1,_.NotNull),t(2,_.NotNull)],oe.prototype,"getStartState",null),e([t(0,_.NotNull),t(1,_.NotNull),t(3,_.NotNull)],oe.prototype,"execDFA",null),e([t(0,_.NotNull),t(1,_.NotNull),t(3,_.NotNull)],oe.prototype,"execATN",null),e([t(0,_.NotNull),t(2,_.NotNull)],oe.prototype,"handleNoViableAlt",null),e([t(0,_.NotNull)],oe.prototype,"getExistingTargetState",null),e([_.NotNull,t(0,_.NotNull),t(1,_.NotNull)],oe.prototype,"computeTargetState",null),e([_.NotNull,t(0,_.NotNull)],oe.prototype,"removeAllConfigsNotInRuleStopState",null),e([_.NotNull],oe.prototype,"computeStartState",null),e([_.NotNull,t(0,_.NotNull)],oe.prototype,"applyPrecedenceFilter",null),e([t(0,_.NotNull),t(1,_.NotNull)],oe.prototype,"getReachableTarget",null),e([t(0,_.NotNull),t(1,_.NotNull)],oe.prototype,"getPredsForAmbigAlts",null),e([t(0,_.NotNull)],oe.prototype,"evalSemanticContext",null),e([t(0,_.NotNull)],oe.prototype,"evalSemanticContextImpl",null),e([t(1,_.NotNull),t(4,_.Nullable)],oe.prototype,"closure",null),e([t(0,_.NotNull),t(1,_.NotNull),t(2,_.Nullable),t(3,_.NotNull),t(6,_.NotNull)],oe.prototype,"closureImpl",null),e([_.NotNull],oe.prototype,"getRuleName",null),e([t(0,_.NotNull),t(1,_.NotNull)],oe.prototype,"getEpsilonTarget",null),e([_.NotNull,t(0,_.NotNull),t(1,_.NotNull)],oe.prototype,"actionTransition",null),e([_.Nullable,t(0,_.NotNull),t(1,_.NotNull)],oe.prototype,"precedenceTransition",null),e([_.Nullable,t(0,_.NotNull),t(1,_.NotNull)],oe.prototype,"predTransition",null),e([_.NotNull,t(0,_.NotNull),t(1,_.NotNull),t(2,_.Nullable)],oe.prototype,"ruleTransition",null),e([t(0,_.NotNull)],oe.prototype,"isConflicted",null),e([_.NotNull],oe.prototype,"getTokenName",null),e([t(0,_.NotNull)],oe.prototype,"dumpDeadEndConfigs",null),e([_.NotNull,t(0,_.NotNull),t(1,_.NotNull),t(2,_.NotNull)],oe.prototype,"noViableAlt",null),e([t(0,_.NotNull)],oe.prototype,"getUniqueAlt",null),e([t(0,_.NotNull)],oe.prototype,"configWithAltAtStopState",null),e([_.NotNull,t(0,_.NotNull),t(1,_.NotNull),t(4,_.NotNull)],oe.prototype,"addDFAEdge",null),e([t(0,_.Nullable),t(2,_.Nullable)],oe.prototype,"setDFAEdge",null),e([_.NotNull,t(0,_.NotNull),t(1,_.NotNull)],oe.prototype,"addDFAContextState",null),e([_.NotNull,t(0,_.NotNull),t(1,_.NotNull)],oe.prototype,"addDFAState",null),e([_.NotNull,t(0,_.NotNull),t(1,_.NotNull)],oe.prototype,"createDFAState",null),e([t(0,_.NotNull),t(2,_.NotNull)],oe.prototype,"reportAttemptingFullContext",null),e([t(0,_.NotNull),t(2,_.NotNull)],oe.prototype,"reportContextSensitivity",null),e([t(0,_.NotNull),t(5,_.NotNull),t(6,_.NotNull)],oe.prototype,"reportAmbiguity",null),oe=e([t(0,_.NotNull)],oe),Xl.ParserATNSimulator=oe,Xl}var kd={},wO;function vY(){if(wO)return kd;wO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=kd&&kd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(kd,"__esModule",{value:!0}),kd.PlusBlockStartState=void 0;const t=ti(),n=m1(),r=Ve();let i=class extends n.BlockStartState{get stateType(){return t.ATNStateType.PLUS_BLOCK_START}};return e([r.Override],i.prototype,"stateType",null),kd.PlusBlockStartState=i,kd}var Bd={},RO;function yY(){if(RO)return Bd;RO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Bd&&Bd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.PlusLoopbackState=void 0;const t=ti(),n=Ch(),r=Ve();let i=class extends n.DecisionState{get stateType(){return t.ATNStateType.PLUS_LOOP_BACK}};return e([r.Override],i.prototype,"stateType",null),Bd.PlusLoopbackState=i,Bd}var Ql={},TO;function xY(){if(TO)return Ql;TO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ql&&Ql.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=Ql&&Ql.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.PrecedencePredicateTransition=void 0;const n=pR(),r=Ve(),i=Dg();let s=class extends n.AbstractPredicateTransition{constructor(u,c){super(u),this.precedence=c}get serializationType(){return 10}get isEpsilon(){return!0}matches(u,c,g){return!1}get predicate(){return new i.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};return e([r.Override],s.prototype,"serializationType",null),e([r.Override],s.prototype,"isEpsilon",null),e([r.Override],s.prototype,"matches",null),e([r.Override],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),Ql.PrecedencePredicateTransition=s,Ql}var eu={},NO;function bY(){if(NO)return eu;NO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=eu&&eu.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=eu&&eu.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(eu,"__esModule",{value:!0}),eu.RangeTransition=void 0;const n=Rh(),r=Ve(),i=lf();let s=class extends i.Transition{constructor(u,c,g){super(u),this.from=c,this.to=g}get serializationType(){return 2}get label(){return n.IntervalSet.of(this.from,this.to)}matches(u,c,g){return u>=this.from&&u<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};return e([r.Override],s.prototype,"serializationType",null),e([r.Override,r.NotNull],s.prototype,"label",null),e([r.Override],s.prototype,"matches",null),e([r.Override,r.NotNull],s.prototype,"toString",null),s=e([t(0,r.NotNull)],s),eu.RangeTransition=s,eu}var jd={},_O;function SY(){if(_O)return jd;_O=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=jd&&jd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(jd,"__esModule",{value:!0}),jd.RuleStartState=void 0;const t=Pu(),n=ti(),r=Ve();let i=class extends t.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return n.ATNStateType.RULE_START}};return e([r.Override],i.prototype,"stateType",null),jd.RuleStartState=i,jd}var zd={},IO;function AY(){if(IO)return zd;IO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=zd&&zd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(zd,"__esModule",{value:!0}),zd.StarBlockStartState=void 0;const t=ti(),n=m1(),r=Ve();let i=class extends n.BlockStartState{get stateType(){return t.ATNStateType.STAR_BLOCK_START}};return e([r.Override],i.prototype,"stateType",null),zd.StarBlockStartState=i,zd}var Ud={},OO;function EY(){if(OO)return Ud;OO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ud&&Ud.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.StarLoopbackState=void 0;const t=Pu(),n=ti(),r=Ve();let i=class extends t.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return n.ATNStateType.STAR_LOOP_BACK}};return e([r.Override],i.prototype,"stateType",null),Ud.StarLoopbackState=i,Ud}var Vd={},DO;function CY(){if(DO)return Vd;DO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Vd&&Vd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.TokensStartState=void 0;const t=ti(),n=Ch(),r=Ve();let i=class extends n.DecisionState{get stateType(){return t.ATNStateType.TOKEN_START}};return e([r.Override],i.prototype,"stateType",null),Vd.TokensStartState=i,Vd}var Q0={},MO;function wY(){if(MO)return Q0;MO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.UUID=void 0;const e=mr();let t=class Hw{constructor(r,i,s,l){this.data=new Uint32Array(4),this.data[0]=r,this.data[1]=i,this.data[2]=s,this.data[3]=l}static fromString(r){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(r))throw new Error("Incorrectly formatted UUID");let i=r.split("-"),s=parseInt(i[0],16),l=(parseInt(i[1],16)<<16>>>0)+parseInt(i[2],16),u=(parseInt(i[3],16)<<16>>>0)+parseInt(i[4].substr(0,4),16),c=parseInt(i[4].substr(-8),16);return new Hw(s,l,u,c)}hashCode(){return e.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(r){return r===this?!0:r instanceof Hw?this.data[0]===r.data[0]&&this.data[1]===r.data[1]&&this.data[2]===r.data[2]&&this.data[3]===r.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};return Q0.UUID=t,Q0}var PO;function RR(){if(PO)return Ul;PO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ul&&Ul.__decorate||function(be,ae,le,we){var De=arguments.length,je=De<3?ae:we===null?we=Object.getOwnPropertyDescriptor(ae,le):we,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(be,ae,le,we);else for(var ve=be.length-1;ve>=0;ve--)(Ue=be[ve])&&(je=(De<3?Ue(je):De>3?Ue(ae,le,je):Ue(ae,le))||je);return De>3&&je&&Object.defineProperty(ae,le,je),je},t=Ul&&Ul.__param||function(be,ae){return function(le,we){ae(le,we,be)}};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.ATNDeserializer=void 0;const n=Ck(),r=uf(),i=Ga(),s=Ek(),l=ti(),u=wk(),c=iY(),g=yk(),p=cf(),m=oY(),x=m1(),b=Ch(),E=vk(),w=sY(),C=Rh(),R=xk(),T=aY(),_=lY(),D=uY(),F=cY(),B=fY(),j=dY(),k=hY(),$=pY(),Z=Ok(),ne=Ve(),re=AR(),he=ly(),Ce=vY(),_e=yY(),ie=xY(),Ae=uk(),de=bY(),ue=SY(),K=ay(),oe=ER(),pe=SR(),z=AY(),U=EY(),G=bR(),W=Yn(),Q=CY(),X=wY(),J=bk();var se;(function(be){be[be.UNICODE_BMP=0]="UNICODE_BMP",be[be.UNICODE_SMP=1]="UNICODE_SMP"})(se||(se={}));let xe=class ht{constructor(ae){ae===void 0&&(ae=s.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=ae}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(ae,le){let we=ht.SUPPORTED_UUIDS.findIndex(De=>De.equals(ae));return we<0?!1:ht.SUPPORTED_UUIDS.findIndex(De=>De.equals(le))>=we}static getUnicodeDeserializer(ae){return ae===0?{readUnicode:(le,we)=>ht.toInt(le[we]),size:1}:{readUnicode:(le,we)=>ht.toInt32(le,we),size:2}}deserialize(ae){ae=ae.slice(0);for(let ke=1;ke<ae.length;ke++)ae[ke]=ae[ke]-2&65535;let le=0,we=ht.toInt(ae[le++]);if(we!==ht.SERIALIZED_VERSION){let ke=`Could not deserialize ATN with version ${we} (expected ${ht.SERIALIZED_VERSION}).`;throw new Error(ke)}let De=ht.toUUID(ae,le);if(le+=8,ht.SUPPORTED_UUIDS.findIndex(ke=>ke.equals(De))<0){let ke=`Could not deserialize ATN with UUID ${De} (expected ${ht.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(ke)}let je=ht.isFeatureSupported(ht.ADDED_LEXER_ACTIONS,De),Ue=ht.toInt(ae[le++]),ve=ht.toInt(ae[le++]),Pe=new i.ATN(Ue,ve),Ze=[],pt=[],gt=ht.toInt(ae[le++]);for(let ke=0;ke<gt;ke++){let nt=ht.toInt(ae[le++]);if(nt===l.ATNStateType.INVALID_TYPE){Pe.addState(new R.InvalidState);continue}let mt=ht.toInt(ae[le++]);mt===65535&&(mt=-1);let At=this.stateFactory(nt,mt);if(nt===l.ATNStateType.LOOP_END){let Dt=ht.toInt(ae[le++]);Ze.push([At,Dt])}else if(At instanceof x.BlockStartState){let Dt=ht.toInt(ae[le++]);pt.push([At,Dt])}Pe.addState(At)}for(let ke of Ze)ke[0].loopBackState=Pe.states[ke[1]];for(let ke of pt)ke[0].endState=Pe.states[ke[1]];let me=ht.toInt(ae[le++]);for(let ke=0;ke<me;ke++){let nt=ht.toInt(ae[le++]);Pe.states[nt].nonGreedy=!0}let Ie=ht.toInt(ae[le++]);for(let ke=0;ke<Ie;ke++){let nt=ht.toInt(ae[le++]);Pe.states[nt].sll=!0}let qe=ht.toInt(ae[le++]);for(let ke=0;ke<qe;ke++){let nt=ht.toInt(ae[le++]);Pe.states[nt].isPrecedenceRule=!0}let Ye=ht.toInt(ae[le++]);Pe.grammarType===0&&(Pe.ruleToTokenType=new Int32Array(Ye)),Pe.ruleToStartState=new Array(Ye);for(let ke=0;ke<Ye;ke++){let nt=ht.toInt(ae[le++]),mt=Pe.states[nt];if(mt.leftFactored=ht.toInt(ae[le++])!==0,Pe.ruleToStartState[ke]=mt,Pe.grammarType===0){let At=ht.toInt(ae[le++]);At===65535&&(At=W.Token.EOF),Pe.ruleToTokenType[ke]=At,ht.isFeatureSupported(ht.ADDED_LEXER_ACTIONS,De)||ht.toInt(ae[le++])}}Pe.ruleToStopState=new Array(Ye);for(let ke of Pe.states)ke instanceof K.RuleStopState&&(Pe.ruleToStopState[ke.ruleIndex]=ke,Pe.ruleToStartState[ke.ruleIndex].stopState=ke);let tt=ht.toInt(ae[le++]);for(let ke=0;ke<tt;ke++){let nt=ht.toInt(ae[le++]);Pe.modeToStartState.push(Pe.states[nt])}Pe.modeToDFA=new Array(tt);for(let ke=0;ke<tt;ke++)Pe.modeToDFA[ke]=new E.DFA(Pe.modeToStartState[ke]);let lt=[];le=this.deserializeSets(ae,le,lt,ht.getUnicodeDeserializer(0)),ht.isFeatureSupported(ht.ADDED_UNICODE_SMP,De)&&(le=this.deserializeSets(ae,le,lt,ht.getUnicodeDeserializer(1)));let xt=ht.toInt(ae[le++]);for(let ke=0;ke<xt;ke++){let nt=ht.toInt(ae[le]),mt=ht.toInt(ae[le+1]),At=ht.toInt(ae[le+2]),Dt=ht.toInt(ae[le+3]),xn=ht.toInt(ae[le+4]),jn=ht.toInt(ae[le+5]),qn=this.edgeFactory(Pe,At,nt,mt,Dt,xn,jn,lt);Pe.states[nt].addTransition(qn),le+=6}let Rt=new r.Array2DHashSet({hashCode:ke=>ke.stopState^ke.returnState^ke.outermostPrecedenceReturn,equals:(ke,nt)=>ke.stopState===nt.stopState&&ke.returnState===nt.returnState&&ke.outermostPrecedenceReturn===nt.outermostPrecedenceReturn}),It=[];for(let ke of Pe.states){let nt=ke.ruleIndex>=0&&Pe.ruleToStartState[ke.ruleIndex].leftFactored;for(let mt=0;mt<ke.numberOfTransitions;mt++){let At=ke.transition(mt);if(!(At instanceof oe.RuleTransition))continue;let Dt=At;if(!Pe.ruleToStartState[Dt.target.ruleIndex].leftFactored&&nt)continue;let jn=-1;Pe.ruleToStartState[Dt.target.ruleIndex].isPrecedenceRule&&Dt.precedence===0&&(jn=Dt.target.ruleIndex);let qn={stopState:Dt.target.ruleIndex,returnState:Dt.followState.stateNumber,outermostPrecedenceReturn:jn};Rt.add(qn)&&It.push(qn)}}for(let ke of It){let nt=new w.EpsilonTransition(Pe.states[ke.returnState],ke.outermostPrecedenceReturn);Pe.ruleToStopState[ke.stopState].addTransition(nt)}for(let ke of Pe.states){if(ke instanceof x.BlockStartState){if(ke.endState===void 0)throw new Error("IllegalStateException");if(ke.endState.startState!==void 0)throw new Error("IllegalStateException");ke.endState.startState=ke}if(ke instanceof _e.PlusLoopbackState){let nt=ke;for(let mt=0;mt<nt.numberOfTransitions;mt++){let At=nt.transition(mt).target;At instanceof Ce.PlusBlockStartState&&(At.loopBackState=nt)}}else if(ke instanceof U.StarLoopbackState){let nt=ke;for(let mt=0;mt<nt.numberOfTransitions;mt++){let At=nt.transition(mt).target;At instanceof G.StarLoopEntryState&&(At.loopBackState=nt)}}}let ln=ht.toInt(ae[le++]);for(let ke=1;ke<=ln;ke++){let nt=ht.toInt(ae[le++]),mt=Pe.states[nt];Pe.decisionToState.push(mt),mt.decision=ke-1}if(Pe.grammarType===0)if(je){Pe.lexerActions=new Array(ht.toInt(ae[le++]));for(let ke=0;ke<Pe.lexerActions.length;ke++){let nt=ht.toInt(ae[le++]),mt=ht.toInt(ae[le++]);mt===65535&&(mt=-1);let At=ht.toInt(ae[le++]);At===65535&&(At=-1);let Dt=this.lexerActionFactory(nt,mt,At);Pe.lexerActions[ke]=Dt}}else{let ke=[];for(let nt of Pe.states)for(let mt=0;mt<nt.numberOfTransitions;mt++){let At=nt.transition(mt);if(!(At instanceof n.ActionTransition))continue;let Dt=At.ruleIndex,xn=At.actionIndex,jn=new _.LexerCustomAction(Dt,xn);nt.setTransition(mt,new n.ActionTransition(At.target,Dt,ke.length,!1)),ke.push(jn)}Pe.lexerActions=ke}this.markPrecedenceDecisions(Pe),Pe.decisionToDFA=new Array(ln);for(let ke=0;ke<ln;ke++)Pe.decisionToDFA[ke]=new E.DFA(Pe.decisionToState[ke],ke);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe),this.deserializationOptions.isGenerateRuleBypassTransitions&&Pe.grammarType===1){Pe.ruleToTokenType=new Int32Array(Pe.ruleToStartState.length);for(let ke=0;ke<Pe.ruleToStartState.length;ke++)Pe.ruleToTokenType[ke]=Pe.maxTokenType+ke+1;for(let ke=0;ke<Pe.ruleToStartState.length;ke++){let nt=new c.BasicBlockStartState;nt.ruleIndex=ke,Pe.addState(nt);let mt=new m.BlockEndState;mt.ruleIndex=ke,Pe.addState(mt),nt.endState=mt,Pe.defineDecisionState(nt),mt.startState=nt;let At,Dt;if(Pe.ruleToStartState[ke].isPrecedenceRule){At=void 0;for(let jn of Pe.states){if(jn.ruleIndex!==ke||!(jn instanceof G.StarLoopEntryState))continue;let qn=jn.transition(jn.numberOfTransitions-1).target;if(qn instanceof Z.LoopEndState&&qn.epsilonOnlyTransitions&&qn.transition(0).target instanceof K.RuleStopState){At=jn;break}}if(!At)throw new Error("Couldn't identify final state of the precedence rule prefix section.");Dt=At.loopBackState.transition(0)}else At=Pe.ruleToStopState[ke];for(let jn of Pe.states)for(let qn=0;qn<jn.numberOfTransitions;qn++){let un=jn.transition(qn);un!==Dt&&un.target===At&&(un.target=mt)}for(;Pe.ruleToStartState[ke].numberOfTransitions>0;){let jn=Pe.ruleToStartState[ke].removeTransition(Pe.ruleToStartState[ke].numberOfTransitions-1);nt.addTransition(jn)}Pe.ruleToStartState[ke].addTransition(new w.EpsilonTransition(nt)),mt.addTransition(new w.EpsilonTransition(At));let xn=new g.BasicState;Pe.addState(xn),xn.addTransition(new u.AtomTransition(mt,Pe.ruleToTokenType[ke])),nt.addTransition(new w.EpsilonTransition(xn))}this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe)}if(this.deserializationOptions.isOptimize){for(;;){let ke=0;ke+=ht.inlineSetRules(Pe),ke+=ht.combineChainedEpsilons(Pe);let nt=Pe.grammarType===0;if(ke+=ht.optimizeSets(Pe,nt),ke===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(Pe)}return ht.identifyTailCalls(Pe),Pe}deserializeSets(ae,le,we,De){let je=ht.toInt(ae[le++]);for(let Ue=0;Ue<je;Ue++){let ve=ht.toInt(ae[le]);le++;let Pe=new C.IntervalSet;we.push(Pe),ht.toInt(ae[le++])!==0&&Pe.add(-1);for(let pt=0;pt<ve;pt++){let gt=De.readUnicode(ae,le);le+=De.size;let me=De.readUnicode(ae,le);le+=De.size,Pe.add(gt,me)}}return le}markPrecedenceDecisions(ae){let le=new Map;for(let we of ae.states)if(we instanceof G.StarLoopEntryState&&ae.ruleToStartState[we.ruleIndex].isPrecedenceRule){let De=we.transition(we.numberOfTransitions-1).target;De instanceof Z.LoopEndState&&De.epsilonOnlyTransitions&&De.transition(0).target instanceof K.RuleStopState&&(le.set(we.ruleIndex,we),we.precedenceRuleDecision=!0,we.precedenceLoopbackStates=new p.BitSet(ae.states.length))}for(let we of le)for(let De of ae.ruleToStopState[we[0]].getTransitions())De.serializationType!==1||De.outermostPrecedenceReturn!==-1||we[1].precedenceLoopbackStates.set(De.target.stateNumber)}verifyATN(ae){for(let le of ae.states)if(this.checkCondition(le!==void 0,"ATN states should not be undefined."),le.stateType!==l.ATNStateType.INVALID_TYPE){if(this.checkCondition(le.onlyHasEpsilonTransitions||le.numberOfTransitions<=1),le instanceof Ce.PlusBlockStartState&&this.checkCondition(le.loopBackState!==void 0),le instanceof G.StarLoopEntryState){let we=le;if(this.checkCondition(we.loopBackState!==void 0),this.checkCondition(we.numberOfTransitions===2),we.transition(0).target instanceof z.StarBlockStartState)this.checkCondition(we.transition(1).target instanceof Z.LoopEndState),this.checkCondition(!we.nonGreedy);else if(we.transition(0).target instanceof Z.LoopEndState)this.checkCondition(we.transition(1).target instanceof z.StarBlockStartState),this.checkCondition(we.nonGreedy);else throw new Error("IllegalStateException")}if(le instanceof U.StarLoopbackState&&(this.checkCondition(le.numberOfTransitions===1),this.checkCondition(le.transition(0).target instanceof G.StarLoopEntryState)),le instanceof Z.LoopEndState&&this.checkCondition(le.loopBackState!==void 0),le instanceof ue.RuleStartState&&this.checkCondition(le.stopState!==void 0),le instanceof x.BlockStartState&&this.checkCondition(le.endState!==void 0),le instanceof m.BlockEndState&&this.checkCondition(le.startState!==void 0),le instanceof b.DecisionState){let we=le;this.checkCondition(we.numberOfTransitions<=1||we.decision>=0)}else this.checkCondition(le.numberOfTransitions<=1||le instanceof K.RuleStopState)}}checkCondition(ae,le){if(!ae)throw new Error("IllegalStateException: "+le)}static inlineSetRules(ae){let le=0,we=new Array(ae.ruleToStartState.length);for(let De=0;De<ae.ruleToStartState.length;De++){let Ue=ae.ruleToStartState[De];for(;Ue.onlyHasEpsilonTransitions&&Ue.numberOfOptimizedTransitions===1&&Ue.getOptimizedTransition(0).serializationType===1;)Ue=Ue.getOptimizedTransition(0).target;if(Ue.numberOfOptimizedTransitions!==1)continue;let ve=Ue.getOptimizedTransition(0),Pe=ve.target;if(!(ve.isEpsilon||!Pe.onlyHasEpsilonTransitions||Pe.numberOfOptimizedTransitions!==1||!(Pe.getOptimizedTransition(0).target instanceof K.RuleStopState)))switch(ve.serializationType){case 5:case 2:case 7:we[De]=ve;break;case 8:case 9:continue;default:continue}}for(let De of ae.states){if(De.ruleIndex<0)continue;let je;for(let Ue=0;Ue<De.numberOfOptimizedTransitions;Ue++){let ve=De.getOptimizedTransition(Ue);if(!(ve instanceof oe.RuleTransition)){je!==void 0&&je.push(ve);continue}let Pe=ve,Ze=we[Pe.target.ruleIndex];if(Ze===void 0){je!==void 0&&je.push(ve);continue}if(je===void 0){je=[];for(let me=0;me<Ue;me++)je.push(De.getOptimizedTransition(Ue))}le++;let pt=Pe.followState,gt=new g.BasicState;switch(gt.setRuleIndex(pt.ruleIndex),ae.addState(gt),je.push(new w.EpsilonTransition(gt)),Ze.serializationType){case 5:gt.addTransition(new u.AtomTransition(pt,Ze._label));break;case 2:gt.addTransition(new de.RangeTransition(pt,Ze.from,Ze.to));break;case 7:gt.addTransition(new pe.SetTransition(pt,Ze.label));break;default:throw new Error("UnsupportedOperationException")}}if(je!==void 0){if(De.isOptimized)for(;De.numberOfOptimizedTransitions>0;)De.removeOptimizedTransition(De.numberOfOptimizedTransitions-1);for(let Ue of je)De.addOptimizedTransition(Ue)}}return he.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+le+" rule invocations by inlining sets."),le}static combineChainedEpsilons(ae){let le=0;for(let we of ae.states){if(!we.onlyHasEpsilonTransitions||we instanceof K.RuleStopState)continue;let De;e:for(let je=0;je<we.numberOfOptimizedTransitions;je++){let Ue=we.getOptimizedTransition(je),ve=Ue.target;if(Ue.serializationType!==1||Ue.outermostPrecedenceReturn!==-1||ve.stateType!==l.ATNStateType.BASIC||!ve.onlyHasEpsilonTransitions){De!==void 0&&De.push(Ue);continue e}for(let Pe=0;Pe<ve.numberOfOptimizedTransitions;Pe++)if(ve.getOptimizedTransition(Pe).serializationType!==1||ve.getOptimizedTransition(Pe).outermostPrecedenceReturn!==-1){De!==void 0&&De.push(Ue);continue e}if(le++,De===void 0){De=[];for(let Pe=0;Pe<je;Pe++)De.push(we.getOptimizedTransition(Pe))}for(let Pe=0;Pe<ve.numberOfOptimizedTransitions;Pe++){let Ze=ve.getOptimizedTransition(Pe).target;De.push(new w.EpsilonTransition(Ze))}}if(De!==void 0){if(we.isOptimized)for(;we.numberOfOptimizedTransitions>0;)we.removeOptimizedTransition(we.numberOfOptimizedTransitions-1);for(let je of De)we.addOptimizedTransition(je)}}return he.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+le+" transitions by combining chained epsilon transitions."),le}static optimizeSets(ae,le){if(le)return 0;let we=0,De=ae.decisionToState;for(let je of De){let Ue=new C.IntervalSet;for(let me=0;me<je.numberOfOptimizedTransitions;me++){let Ie=je.getOptimizedTransition(me);if(!(Ie instanceof w.EpsilonTransition)||Ie.target.numberOfOptimizedTransitions!==1)continue;let qe=Ie.target.getOptimizedTransition(0);qe.target instanceof m.BlockEndState&&(qe instanceof re.NotSetTransition||(qe instanceof u.AtomTransition||qe instanceof de.RangeTransition||qe instanceof pe.SetTransition)&&Ue.add(me))}if(Ue.size<=1)continue;let ve=[];for(let me=0;me<je.numberOfOptimizedTransitions;me++)Ue.contains(me)||ve.push(je.getOptimizedTransition(me));let Pe=je.getOptimizedTransition(Ue.minElement).target.getOptimizedTransition(0).target,Ze=new C.IntervalSet;for(let me of Ue.intervals)for(let Ie=me.a;Ie<=me.b;Ie++){let qe=je.getOptimizedTransition(Ie).target.getOptimizedTransition(0);if(qe instanceof re.NotSetTransition)throw new Error("Not yet implemented.");Ze.addAll(qe.label)}let pt;if(Ze.intervals.length===1)if(Ze.size===1)pt=new u.AtomTransition(Pe,Ze.minElement);else{let me=Ze.intervals[0];pt=new de.RangeTransition(Pe,me.a,me.b)}else pt=new pe.SetTransition(Pe,Ze);let gt=new g.BasicState;if(gt.setRuleIndex(je.ruleIndex),ae.addState(gt),gt.addTransition(pt),ve.push(new w.EpsilonTransition(gt)),we+=je.numberOfOptimizedTransitions-ve.length,je.isOptimized)for(;je.numberOfOptimizedTransitions>0;)je.removeOptimizedTransition(je.numberOfOptimizedTransitions-1);for(let me of ve)je.addOptimizedTransition(me)}return he.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+we+" paths by collapsing sets."),we}static identifyTailCalls(ae){for(let le of ae.states){for(let we=0;we<le.numberOfTransitions;we++){let De=le.transition(we);De instanceof oe.RuleTransition&&(De.tailCall=this.testTailCall(ae,De,!1),De.optimizedTailCall=this.testTailCall(ae,De,!0))}if(le.isOptimized)for(let we=0;we<le.numberOfOptimizedTransitions;we++){let De=le.getOptimizedTransition(we);De instanceof oe.RuleTransition&&(De.tailCall=this.testTailCall(ae,De,!1),De.optimizedTailCall=this.testTailCall(ae,De,!0))}}}static testTailCall(ae,le,we){if(!we&&le.tailCall||we&&le.optimizedTailCall)return!0;let De=new p.BitSet(ae.states.length),je=[];for(je.push(le.followState);;){let Ue=je.pop();if(!Ue)break;if(De.get(Ue.stateNumber)||Ue instanceof K.RuleStopState)continue;if(!Ue.onlyHasEpsilonTransitions)return!1;let ve=we?Ue.numberOfOptimizedTransitions:Ue.numberOfTransitions;for(let Pe=0;Pe<ve;Pe++){let Ze=we?Ue.getOptimizedTransition(Pe):Ue.transition(Pe);if(Ze.serializationType!==1)return!1;je.push(Ze.target)}}return!0}static toInt(ae){return ae}static toInt32(ae,le){return(ae[le]|ae[le+1]<<16)>>>0}static toUUID(ae,le){let we=ht.toInt32(ae,le),De=ht.toInt32(ae,le+2),je=ht.toInt32(ae,le+4),Ue=ht.toInt32(ae,le+6);return new X.UUID(Ue,je,De,we)}edgeFactory(ae,le,we,De,je,Ue,ve,Pe){let Ze=ae.states[De];switch(le){case 1:return new w.EpsilonTransition(Ze);case 2:return ve!==0?new de.RangeTransition(Ze,W.Token.EOF,Ue):new de.RangeTransition(Ze,je,Ue);case 3:return new oe.RuleTransition(ae.states[je],Ue,ve,Ze);case 4:return new Ae.PredicateTransition(Ze,je,Ue,ve!==0);case 10:return new ie.PrecedencePredicateTransition(Ze,je);case 5:return ve!==0?new u.AtomTransition(Ze,W.Token.EOF):new u.AtomTransition(Ze,je);case 6:return new n.ActionTransition(Ze,je,Ue,ve!==0);case 7:return new pe.SetTransition(Ze,Pe[je]);case 8:return new re.NotSetTransition(Ze,Pe[je]);case 9:return new J.WildcardTransition(Ze)}throw new Error("The specified transition type is not valid.")}stateFactory(ae,le){let we;switch(ae){case l.ATNStateType.INVALID_TYPE:return new R.InvalidState;case l.ATNStateType.BASIC:we=new g.BasicState;break;case l.ATNStateType.RULE_START:we=new ue.RuleStartState;break;case l.ATNStateType.BLOCK_START:we=new c.BasicBlockStartState;break;case l.ATNStateType.PLUS_BLOCK_START:we=new Ce.PlusBlockStartState;break;case l.ATNStateType.STAR_BLOCK_START:we=new z.StarBlockStartState;break;case l.ATNStateType.TOKEN_START:we=new Q.TokensStartState;break;case l.ATNStateType.RULE_STOP:we=new K.RuleStopState;break;case l.ATNStateType.BLOCK_END:we=new m.BlockEndState;break;case l.ATNStateType.STAR_LOOP_BACK:we=new U.StarLoopbackState;break;case l.ATNStateType.STAR_LOOP_ENTRY:we=new G.StarLoopEntryState;break;case l.ATNStateType.PLUS_LOOP_BACK:we=new _e.PlusLoopbackState;break;case l.ATNStateType.LOOP_END:we=new Z.LoopEndState;break;default:let De=`The specified state type ${ae} is not valid.`;throw new Error(De)}return we.ruleIndex=le,we}lexerActionFactory(ae,le,we){switch(ae){case 0:return new T.LexerChannelAction(le);case 1:return new _.LexerCustomAction(le,we);case 2:return new D.LexerModeAction(le);case 3:return F.LexerMoreAction.INSTANCE;case 4:return B.LexerPopModeAction.INSTANCE;case 5:return new j.LexerPushModeAction(le);case 6:return k.LexerSkipAction.INSTANCE;case 7:return new $.LexerTypeAction(le);default:let De=`The specified lexer action type ${ae} is not valid.`;throw new Error(De)}}};return xe.BASE_SERIALIZED_UUID=X.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),xe.ADDED_LEXER_ACTIONS=X.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),xe.ADDED_UNICODE_SMP=X.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),xe.SUPPORTED_UUIDS=[xe.BASE_SERIALIZED_UUID,xe.ADDED_LEXER_ACTIONS,xe.ADDED_UNICODE_SMP],xe.SERIALIZED_UUID=xe.ADDED_UNICODE_SMP,e([ne.NotNull],xe.prototype,"deserializationOptions",void 0),e([t(0,ne.NotNull)],xe.prototype,"deserialize",null),e([t(0,ne.NotNull)],xe.prototype,"markPrecedenceDecisions",null),e([ne.NotNull,t(0,ne.NotNull)],xe.prototype,"edgeFactory",null),Ul.ATNDeserializer=xe,Ul}var tu={},LO;function RY(){if(LO)return tu;LO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=tu&&tu.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g},t=tu&&tu.__param||function(i,s){return function(l,u){s(l,u,i)}};Object.defineProperty(tu,"__esModule",{value:!0}),tu.ParseInfo=void 0;const n=Ve();let r=class{constructor(s){this.atnSimulator=s}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let s=this.atnSimulator.getDecisionInfo(),l=[];for(let u=0;u<s.length;u++)s[u].LL_Fallback>0&&l.push(u);return l}getTotalTimeInPrediction(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.timeInPrediction;return l}getTotalSLLLookaheadOps(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.SLL_TotalLook;return l}getTotalLLLookaheadOps(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.LL_TotalLook;return l}getTotalSLLATNLookaheadOps(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.SLL_ATNTransitions;return l}getTotalLLATNLookaheadOps(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.LL_ATNTransitions;return l}getTotalATNLookaheadOps(){let s=this.atnSimulator.getDecisionInfo(),l=0;for(let u of s)l+=u.SLL_ATNTransitions,l+=u.LL_ATNTransitions;return l}getDFASize(s){if(s)return this.atnSimulator.atn.decisionToDFA[s].states.size;{let l=0,u=this.atnSimulator.atn.decisionToDFA;for(let c=0;c<u.length;c++)l+=this.getDFASize(c);return l}}};return e([n.NotNull],r.prototype,"getDecisionInfo",null),e([n.NotNull],r.prototype,"getLLDecisions",null),r=e([t(0,n.NotNull)],r),tu.ParseInfo=r,tu}var Gd={},FO;function Fk(){if(FO)return Gd;FO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Gd&&Gd.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.ProxyParserErrorListener=void 0;const t=xR(),n=Ve();let r=class extends t.ProxyErrorListener{constructor(s){super(s)}reportAmbiguity(s,l,u,c,g,p,m){this.getDelegates().forEach(x=>{x.reportAmbiguity&&x.reportAmbiguity(s,l,u,c,g,p,m)})}reportAttemptingFullContext(s,l,u,c,g,p){this.getDelegates().forEach(m=>{m.reportAttemptingFullContext&&m.reportAttemptingFullContext(s,l,u,c,g,p)})}reportContextSensitivity(s,l,u,c,g,p){this.getDelegates().forEach(m=>{m.reportContextSensitivity&&m.reportContextSensitivity(s,l,u,c,g,p)})}};return e([n.Override],r.prototype,"reportAmbiguity",null),e([n.Override],r.prototype,"reportAttemptingFullContext",null),e([n.Override],r.prototype,"reportContextSensitivity",null),Gd.ProxyParserErrorListener=r,Gd}var $d={},IC={},OC={},nu={},kO;function TY(){if(kO)return nu;kO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(nu,"__esModule",{value:!0}),nu.isSupplementaryCodePoint=nu.isLowSurrogate=nu.isHighSurrogate=void 0;function e(r){return r>=55296&&r<=56319}nu.isHighSurrogate=e;function t(r){return r>=56320&&r<=57343}nu.isLowSurrogate=t;function n(r){return r>=65536}return nu.isSupplementaryCodePoint=n,nu}var BO;function kk(){return BO||(BO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CodePointBuffer=void 0;const t=_i(),n=TY();class r{constructor(s,l){this.buffer=s,this._position=0,this._size=l}static withArray(s){return new r(s,s.length)}get position(){return this._position}set position(s){if(s<0||s>this._size)throw new RangeError;this._position=s}get remaining(){return this._size-this.position}get(s){return this.buffer[s]}array(){return this.buffer.slice(0,this._size)}static builder(s){return new r.Builder(s)}}e.CodePointBuffer=r,function(i){let s;(function(u){u[u.BYTE=0]="BYTE",u[u.CHAR=1]="CHAR",u[u.INT=2]="INT"})(s||(s={}));class l{constructor(c){this.type=0,this.buffer=new Uint8Array(c),this.prevHighSurrogate=-1,this.position=0}build(){return new i(this.buffer,this.position)}static roundUpToNextPowerOfTwo(c){let g=32-Math.clz32(c-1);return Math.pow(2,g)}ensureRemaining(c){switch(this.type){case 0:if(this.buffer.length-this.position<c){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+c),p=new Uint8Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 1:if(this.buffer.length-this.position<c){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+c),p=new Uint16Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break;case 2:if(this.buffer.length-this.position<c){let g=l.roundUpToNextPowerOfTwo(this.buffer.length+c),p=new Int32Array(g);p.set(this.buffer.subarray(0,this.position),0),this.buffer=p}break}}append(c){this.ensureRemaining(c.length),this.appendArray(c)}appendArray(c){switch(this.type){case 0:this.appendArrayByte(c);break;case 1:this.appendArrayChar(c);break;case 2:this.appendArrayInt(c);break}}appendArrayByte(c){t(this.prevHighSurrogate===-1);let g=c,p=0,m=c.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];if(E<=255)x[b]=E;else if(c=c.subarray(p,m),this.position=b,n.isHighSurrogate(E)){this.byteToIntBuffer(c.length),this.appendArrayInt(c);return}else{this.byteToCharBuffer(c.length),this.appendArrayChar(c);return}p++,b++}this.position=b}appendArrayChar(c){t(this.prevHighSurrogate===-1);let g=c,p=0,m=c.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];if(!n.isHighSurrogate(E))x[b]=E;else{c=c.subarray(p,m),this.position=b,this.charToIntBuffer(c.length),this.appendArrayInt(c);return}p++,b++}this.position=b}appendArrayInt(c){let g=c,p=0,m=c.length,x=this.buffer,b=this.position;for(;p<m;){let E=g[p];p++,this.prevHighSurrogate!==-1?n.isLowSurrogate(E)?(x[b]=String.fromCharCode(this.prevHighSurrogate,E).codePointAt(0),b++,this.prevHighSurrogate=-1):(x[b]=this.prevHighSurrogate,b++,n.isHighSurrogate(E)?this.prevHighSurrogate=E:(x[b]=E,b++,this.prevHighSurrogate=-1)):n.isHighSurrogate(E)?this.prevHighSurrogate=E:(x[b]=E,b++)}this.prevHighSurrogate!==-1&&(x[b]=this.prevHighSurrogate,b++),this.position=b}byteToCharBuffer(c){let g=new Uint16Array(Math.max(this.position+c,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=g}byteToIntBuffer(c){let g=new Int32Array(Math.max(this.position+c,this.buffer.length>>2));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}charToIntBuffer(c){let g=new Int32Array(Math.max(this.position+c,this.buffer.length>>1));g.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=g}}i.Builder=l}(r=e.CodePointBuffer||(e.CodePointBuffer={}))}(OC)),OC}var Hd={},jO;function jk(){if(jO)return Hd;jO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Hd&&Hd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.CodePointCharStream=void 0;const t=_i(),n=sf(),r=Zi(),i=Ve();let s=class Bk{constructor(u,c,g,p){t(c===0),this._array=u,this._size=g,this._name=p,this._position=0}get internalStorage(){return this._array}static fromBuffer(u,c){return(c===void 0||c.length===0)&&(c=n.IntStream.UNKNOWN_SOURCE_NAME),new Bk(u.array(),u.position,u.remaining,c)}consume(){if(this._size-this._position===0)throw t(this.LA(1)===n.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(u){}seek(u){this._position=u}get sourceName(){return this._name}toString(){return this.getText(r.Interval.of(0,this.size-1))}LA(u){let c;switch(Math.sign(u)){case-1:return c=this.index+u,c<0?n.IntStream.EOF:this._array[c];case 0:return 0;case 1:return c=this.index+u-1,c>=this.size?n.IntStream.EOF:this._array[c]}throw new RangeError("Not reached")}getText(u){const c=Math.min(u.a,this.size),g=Math.min(u.b-u.a+1,this.size-c);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(c,c+g))):String.fromCharCode(...Array.from(this._array.subarray(c,c+g)))}};return e([i.Override],s.prototype,"consume",null),e([i.Override],s.prototype,"index",null),e([i.Override],s.prototype,"size",null),e([i.Override],s.prototype,"mark",null),e([i.Override],s.prototype,"release",null),e([i.Override],s.prototype,"seek",null),e([i.Override],s.prototype,"sourceName",null),e([i.Override],s.prototype,"toString",null),e([i.Override],s.prototype,"LA",null),e([i.Override],s.prototype,"getText",null),Hd.CodePointCharStream=s,Hd}var zO;function TR(){return zO||(zO=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CharStreams=void 0;const t=kk(),n=jk(),r=sf();(function(i){function s(l,u){(u===void 0||u.length===0)&&(u=r.IntStream.UNKNOWN_SOURCE_NAME);let c=t.CodePointBuffer.builder(l.length),g=new Uint16Array(l.length);for(let p=0;p<l.length;p++)g[p]=l.charCodeAt(p);return c.append(g),n.CodePointCharStream.fromBuffer(c.build(),u)}i.fromString=s})(e.CharStreams||(e.CharStreams={}))}(IC)),IC}var ru={},iu={},UO;function zk(){if(UO)return iu;UO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=iu&&iu.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E},t=iu&&iu.__param||function(g,p){return function(m,x){p(m,x,g)}};Object.defineProperty(iu,"__esModule",{value:!0}),iu.BufferedTokenStream=void 0;const n=_i(),r=iy(),i=Zi(),s=ff(),l=Ve(),u=Yn();let c=class{constructor(p){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,p==null)throw new Error("tokenSource cannot be null");this._tokenSource=p}get tokenSource(){return this._tokenSource}set tokenSource(p){this._tokenSource=p,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(p){}seek(p){this.lazyInit(),this.p=this.adjustSeekIndex(p)}get size(){return this.tokens.length}consume(){let p;if(this.p>=0?this.fetchedEOF?p=this.p<this.tokens.length-1:p=this.p<this.tokens.length:p=!1,!p&&this.LA(1)===u.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(p){n(p>=0);let m=p-this.tokens.length+1;return m>0?this.fetch(m)>=m:!0}fetch(p){if(this.fetchedEOF)return 0;for(let m=0;m<p;m++){let x=this.tokenSource.nextToken();if(this.isWritableToken(x)&&(x.tokenIndex=this.tokens.length),this.tokens.push(x),x.type===u.Token.EOF)return this.fetchedEOF=!0,m+1}return p}get(p){if(p<0||p>=this.tokens.length)throw new RangeError("token index "+p+" out of range 0.."+(this.tokens.length-1));return this.tokens[p]}getRange(p,m){if(p<0||m<0)return[];this.lazyInit();let x=new Array;m>=this.tokens.length&&(m=this.tokens.length-1);for(let b=p;b<=m;b++){let E=this.tokens[b];if(E.type===u.Token.EOF)break;x.push(E)}return x}LA(p){let m=this.LT(p);return m?m.type:u.Token.INVALID_TYPE}tryLB(p){if(!(this.p-p<0))return this.tokens[this.p-p]}LT(p){let m=this.tryLT(p);if(m===void 0)throw new RangeError("requested lookback index out of range");return m}tryLT(p){if(this.lazyInit(),p===0)throw new RangeError("0 is not a valid lookahead index");if(p<0)return this.tryLB(-p);let m=this.p+p-1;return this.sync(m),m>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[m]}adjustSeekIndex(p){return p}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(p,m,x){if(this.lazyInit(),p===void 0)return n(m===void 0&&x===void 0),this.tokens;if(m===void 0&&(m=this.tokens.length-1),p<0||m>=this.tokens.length||m<0||p>=this.tokens.length)throw new RangeError("start "+p+" or stop "+m+" not in 0.."+(this.tokens.length-1));if(p>m)return[];if(x===void 0)return this.tokens.slice(p,m+1);typeof x=="number"&&(x=new Set().add(x));let b=x,E=this.tokens.slice(p,m+1);return E=E.filter(w=>b.has(w.type)),E}nextTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;let x=this.tokens[p];for(;x.channel!==m;){if(x.type===u.Token.EOF)return p;p++,this.sync(p),x=this.tokens[p]}return p}previousTokenOnChannel(p,m){if(this.sync(p),p>=this.size)return this.size-1;for(;p>=0;){let x=this.tokens[p];if(x.type===u.Token.EOF||x.channel===m)return p;p--}return p}getHiddenTokensToRight(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));let x=this.nextTokenOnChannel(p+1,s.Lexer.DEFAULT_TOKEN_CHANNEL),b,E=p+1;return x===-1?b=this.size-1:b=x,this.filterForChannel(E,b,m)}getHiddenTokensToLeft(p,m=-1){if(this.lazyInit(),p<0||p>=this.tokens.length)throw new RangeError(p+" not in 0.."+(this.tokens.length-1));if(p===0)return[];let x=this.previousTokenOnChannel(p-1,s.Lexer.DEFAULT_TOKEN_CHANNEL);if(x===p-1)return[];let b=x+1,E=p-1;return this.filterForChannel(b,E,m)}filterForChannel(p,m,x){let b=new Array;for(let E=p;E<=m;E++){let w=this.tokens[E];x===-1?w.channel!==s.Lexer.DEFAULT_TOKEN_CHANNEL&&b.push(w):w.channel===x&&b.push(w)}return b}get sourceName(){return this.tokenSource.sourceName}getText(p){p===void 0?p=i.Interval.of(0,this.size-1):p instanceof i.Interval||(p=p.sourceInterval);let m=p.a,x=p.b;if(m<0||x<0)return"";this.fill(),x>=this.tokens.length&&(x=this.tokens.length-1);let b="";for(let E=m;E<=x;E++){let w=this.tokens[E];if(w.type===u.Token.EOF)break;b+=w.text}return b.toString()}getTextFromRange(p,m){return this.isToken(p)&&this.isToken(m)?this.getText(i.Interval.of(p.tokenIndex,m.tokenIndex)):""}fill(){this.lazyInit();const p=1e3;for(;;)if(this.fetch(p)<p)return}isWritableToken(p){return p instanceof r.CommonToken}isToken(p){return p instanceof r.CommonToken}};return e([l.NotNull],c.prototype,"_tokenSource",void 0),e([l.Override],c.prototype,"tokenSource",null),e([l.Override],c.prototype,"index",null),e([l.Override],c.prototype,"mark",null),e([l.Override],c.prototype,"release",null),e([l.Override],c.prototype,"seek",null),e([l.Override],c.prototype,"size",null),e([l.Override],c.prototype,"consume",null),e([l.Override],c.prototype,"get",null),e([l.Override],c.prototype,"LA",null),e([l.NotNull,l.Override],c.prototype,"LT",null),e([l.Override],c.prototype,"sourceName",null),e([l.NotNull,l.Override],c.prototype,"getText",null),e([l.NotNull,l.Override],c.prototype,"getTextFromRange",null),c=e([t(0,l.NotNull)],c),iu.BufferedTokenStream=c,iu}var VO;function NR(){if(VO)return ru;VO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ru&&ru.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=ru&&ru.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(ru,"__esModule",{value:!0}),ru.CommonTokenStream=void 0;const n=zk(),r=Ve(),i=Yn();let s=class extends n.BufferedTokenStream{constructor(u,c=i.Token.DEFAULT_CHANNEL){super(u),this.channel=c}adjustSeekIndex(u){return this.nextTokenOnChannel(u,this.channel)}tryLB(u){if(this.p-u<0)return;let c=this.p,g=1;for(;g<=u&&c>0;)c=this.previousTokenOnChannel(c-1,this.channel),g++;if(!(c<0))return this.tokens[c]}tryLT(u){if(this.lazyInit(),u===0)throw new RangeError("0 is not a valid lookahead index");if(u<0)return this.tryLB(-u);let c=this.p,g=1;for(;g<u;)this.sync(c+1)&&(c=this.nextTokenOnChannel(c+1,this.channel)),g++;return this.tokens[c]}getNumberOfOnChannelTokens(){let u=0;this.fill();for(let c of this.tokens)if(c.channel===this.channel&&u++,c.type===i.Token.EOF)break;return u}};return e([r.Override],s.prototype,"adjustSeekIndex",null),e([r.Override],s.prototype,"tryLB",null),e([r.Override],s.prototype,"tryLT",null),s=e([t(0,r.NotNull)],s),ru.CommonTokenStream=s,ru}var ou={},GO;function Uk(){if(GO)return ou;GO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ou&&ou.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=ou&&ou.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(ou,"__esModule",{value:!0}),ou.ListTokenSource=void 0;const n=vR(),r=Ve(),i=Yn();let s=class{constructor(u,c){if(this.i=0,this._factory=n.CommonTokenFactory.DEFAULT,u==null)throw new Error("tokens cannot be null");this.tokens=u,this._sourceName=c}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let u=this.tokens[this.tokens.length-1],c=u.text;if(c!=null){let g=c.lastIndexOf(`
`);if(g>=0)return c.length-g-1}return u.charPositionInLine+u.stopIndex-u.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let c=-1;if(this.tokens.length>0){let p=this.tokens[this.tokens.length-1].stopIndex;p!==-1&&(c=p+1)}let g=Math.max(-1,c-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},i.Token.EOF,"EOF",i.Token.DEFAULT_CHANNEL,c,g,this.line,this.charPositionInLine)}return this.eofToken}let u=this.tokens[this.i];return this.i===this.tokens.length-1&&u.type===i.Token.EOF&&(this.eofToken=u),this.i++,u}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let u=this.tokens[this.tokens.length-1],c=u.line,g=u.text;if(g!=null)for(let p=0;p<g.length;p++)g.charAt(p)===`
`&&c++;return c}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let u=this.inputStream;return u!=null?u.sourceName:"List"}set tokenFactory(u){this._factory=u}get tokenFactory(){return this._factory}};return e([r.Override],s.prototype,"charPositionInLine",null),e([r.Override],s.prototype,"nextToken",null),e([r.Override],s.prototype,"line",null),e([r.Override],s.prototype,"inputStream",null),e([r.Override],s.prototype,"sourceName",null),e([r.Override,r.NotNull,t(0,r.NotNull)],s.prototype,"tokenFactory",null),s=e([t(0,r.NotNull)],s),ou.ListTokenSource=s,ou}var ev={},$O;function NY(){if($O)return ev;$O=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ev,"__esModule",{value:!0}),ev.MultiMap=void 0;let e=class extends Map{constructor(){super()}map(n,r){let i=super.get(n);i||(i=[],super.set(n,i)),i.push(r)}getPairs(){let n=[];return this.forEach((r,i)=>{r.forEach(s=>{n.push([i,s])})}),n}};return ev.MultiMap=e,ev}var tv={},HO;function Vk(){if(HO)return tv;HO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(tv,"__esModule",{value:!0}),tv.ParseCancellationException=void 0;let e=class extends Error{constructor(n){super(n.message),this.cause=n,this.stack=n.stack}getCause(){return this.cause}};return tv.ParseCancellationException=e,tv}var su={},Wd={},WO;function Gk(){if(WO)return Wd;WO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Wd&&Wd.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.InterpreterRuleContext=void 0;const t=Ve(),n=js();let r=class extends n.ParserRuleContext{constructor(s,l,u){u!==void 0?super(l,u):super(),this._ruleIndex=s}get ruleIndex(){return this._ruleIndex}};return e([t.Override],r.prototype,"ruleIndex",null),Wd.InterpreterRuleContext=r,Wd}var YO;function $k(){if(YO)return su;YO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=su&&su.__decorate||function(R,T,_,D){var F=arguments.length,B=F<3?T:D===null?D=Object.getOwnPropertyDescriptor(T,_):D,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(R,T,_,D);else for(var k=R.length-1;k>=0;k--)(j=R[k])&&(B=(F<3?j(B):F>3?j(T,_,B):j(T,_))||B);return F>3&&B&&Object.defineProperty(T,_,B),B},t=su&&su.__param||function(R,T){return function(_,D){T(_,D,R)}};Object.defineProperty(su,"__esModule",{value:!0}),su.ParserInterpreter=void 0;const n=Pu(),r=ti(),i=cf(),s=u1(),l=c1(),u=Gk(),c=Ok(),g=Ve(),p=Ve(),m=cy(),x=ly(),b=af(),E=bR(),w=Yn();let C=class Ww extends m.Parser{constructor(T,_,D,F,B){if(super(T instanceof Ww?T.inputStream:B),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,T instanceof Ww){let j=T;this._grammarFileName=j._grammarFileName,this._atn=j._atn,this.pushRecursionContextStates=j.pushRecursionContextStates,this._ruleNames=j._ruleNames,this._vocabulary=j._vocabulary,this.interpreter=new x.ParserATNSimulator(this._atn,this)}else{_=_,D=D,F=F,this._grammarFileName=T,this._atn=F,this._ruleNames=D.slice(0),this._vocabulary=_,this.pushRecursionContextStates=new i.BitSet(F.states.length);for(let j of F.states)j instanceof E.StarLoopEntryState&&j.precedenceRuleDecision&&this.pushRecursionContextStates.set(j.stateNumber);this.interpreter=new x.ParserATNSimulator(F,this)}}reset(T){T===void 0?super.reset():super.reset(T),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(T){let _=this._atn.ruleToStartState[T];for(this._rootContext=this.createInterpreterRuleContext(void 0,n.ATNState.INVALID_STATE_NUMBER,T),_.isPrecedenceRule?this.enterRecursionRule(this._rootContext,_.stateNumber,T,0):this.enterRule(this._rootContext,_.stateNumber,T);;){let D=this.atnState;switch(D.stateType){case r.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(_.isPrecedenceRule){let F=this._ctx,B=this._parentContextStack.pop();return this.unrollRecursionContexts(B[0]),F}else return this.exitRule(),this._rootContext;this.visitRuleStopState(D);break;default:try{this.visitState(D)}catch(F){if(F instanceof b.RecognitionException)this.state=this._atn.ruleToStopState[D.ruleIndex].stateNumber,this.context.exception=F,this.errorHandler.reportError(this,F),this.recover(F);else throw F}break}}}enterRecursionRule(T,_,D,F){this._parentContextStack.push([this._ctx,T.invokingState]),super.enterRecursionRule(T,_,D,F)}get atnState(){return this._atn.states[this.state]}visitState(T){let _=1;T.numberOfTransitions>1&&(_=this.visitDecisionState(T));let D=T.transition(_-1);switch(D.serializationType){case 1:if(this.pushRecursionContextStates.get(T.stateNumber)&&!(D.target instanceof c.LoopEndState)){let Z=this._parentContextStack[this._parentContextStack.length-1],ne=this.createInterpreterRuleContext(Z[0],Z[1],this._ctx.ruleIndex);this.pushNewRecursionContext(ne,this._atn.ruleToStartState[T.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(D._label);break;case 2:case 7:case 8:D.matches(this._input.LA(1),w.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let F=D.target,B=F.ruleIndex,j=this.createInterpreterRuleContext(this._ctx,T.stateNumber,B);F.isPrecedenceRule?this.enterRecursionRule(j,F.stateNumber,B,D.precedence):this.enterRule(j,D.target.stateNumber,B);break;case 4:let k=D;if(!this.sempred(this._ctx,k.ruleIndex,k.predIndex))throw new s.FailedPredicateException(this);break;case 6:let $=D;this.action(this._ctx,$.ruleIndex,$.actionIndex);break;case 10:if(!this.precpred(this._ctx,D.precedence)){let Z=D.precedence;throw new s.FailedPredicateException(this,`precpred(_ctx, ${Z})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=D.target.stateNumber}visitDecisionState(T){let _;this.errorHandler.sync(this);let D=T.decision;return D===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(_=this.overrideDecisionAlt,this.overrideDecisionReached=!0):_=this.interpreter.adaptivePredict(this._input,D,this._ctx),_}createInterpreterRuleContext(T,_,D){return new u.InterpreterRuleContext(D,T,_)}visitRuleStopState(T){if(this._atn.ruleToStartState[T.ruleIndex].isPrecedenceRule){let F=this._parentContextStack.pop();this.unrollRecursionContexts(F[0]),this.state=F[1]}else this.exitRule();let D=this._atn.states[this.state].transition(0);this.state=D.followState.stateNumber}addDecisionOverride(T,_,D){this.overrideDecision=T,this.overrideDecisionInputIndex=_,this.overrideDecisionAlt=D}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(T){let _=this._input.index;if(this.errorHandler.recover(this,T),this._input.index===_){let D=T.getOffendingToken();if(!D)throw new Error("Expected exception to have an offending token");let F=D.tokenSource,B=F!==void 0?F.inputStream:void 0,j={source:F,stream:B};if(T instanceof l.InputMismatchException){let k=T.expectedTokens;if(k===void 0)throw new Error("Expected the exception to provide expected tokens");let $=w.Token.INVALID_TYPE;k.isNil||($=k.minElement);let Z=this.tokenFactory.create(j,$,D.text,w.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,Z))}else{D.tokenSource;let k=this.tokenFactory.create(j,w.Token.INVALID_TYPE,D.text,w.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,k))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};return e([g.NotNull],C.prototype,"_vocabulary",void 0),e([p.Override],C.prototype,"reset",null),e([p.Override],C.prototype,"atn",null),e([p.Override],C.prototype,"vocabulary",null),e([p.Override],C.prototype,"ruleNames",null),e([p.Override],C.prototype,"grammarFileName",null),e([p.Override],C.prototype,"enterRecursionRule",null),C=e([t(1,g.NotNull)],C),su.ParserInterpreter=C,su}var au={},qO;function _Y(){if(qO)return au;qO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=au&&au.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g},t=au&&au.__param||function(i,s){return function(l,u){s(l,u,i)}};Object.defineProperty(au,"__esModule",{value:!0}),au.ParseTreeMatch=void 0;const n=Ve();let r=class{constructor(s,l,u,c){if(!s)throw new Error("tree cannot be null");if(!l)throw new Error("pattern cannot be null");if(!u)throw new Error("labels cannot be null");this._tree=s,this._pattern=l,this._labels=u,this._mismatchedNode=c}get(s){let l=this._labels.get(s);if(!(!l||l.length===0))return l[l.length-1]}getAll(s){const l=this._labels.get(s);return l||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};return e([n.NotNull,t(0,n.NotNull)],r.prototype,"getAll",null),e([n.NotNull],r.prototype,"labels",null),e([n.NotNull],r.prototype,"pattern",null),e([n.NotNull],r.prototype,"tree",null),e([n.Override],r.prototype,"toString",null),r=e([t(0,n.NotNull),t(1,n.NotNull),t(2,n.NotNull)],r),au.ParseTreeMatch=r,au}var lu={},nv={},rv={},KO;function IY(){if(KO)return rv;KO=1,Object.defineProperty(rv,"__esModule",{value:!0}),rv.XPathLexer=void 0;const e=RR(),t=ff(),n=g1(),r=wh(),i=Lu();let s=class mo extends t.Lexer{constructor(u){super(u),this._interp=new n.LexerATNSimulator(mo._ATN,this)}get vocabulary(){return mo.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return mo.ruleNames}get serializedATN(){return mo._serializedATN}get channelNames(){return mo.channelNames}get modeNames(){return mo.modeNames}action(u,c,g){switch(c){case 4:this.ID_action(u,g);break}}ID_action(u,c){switch(c){case 0:let g=this.text;g.charAt(0)===g.charAt(0).toUpperCase()?this.type=mo.TOKEN_REF:this.type=mo.RULE_REF;break}}static get _ATN(){return mo.__ATN||(mo.__ATN=new e.ATNDeserializer().deserialize(i.toCharArray(mo._serializedATN))),mo.__ATN}};return rv.XPathLexer=s,s.TOKEN_REF=1,s.RULE_REF=2,s.ANYWHERE=3,s.ROOT=4,s.WILDCARD=5,s.BANG=6,s.ID=7,s.STRING=8,s.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],s.modeNames=["DEFAULT_MODE"],s.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],s._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],s._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],s.VOCABULARY=new r.VocabularyImpl(s._LITERAL_NAMES,s._SYMBOLIC_NAMES,[]),s._serializedATNSegments=2,s._serializedATNSegment0=`
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r

2;C\\aac|\r(*<>?AOR_\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1"C\\c|\r(*<>?AOR_`,s._serializedATNSegment1=`1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`,s._serializedATN=i.join([s._serializedATNSegment0,s._serializedATNSegment1],""),rv}var Yd={},XO;function OY(){if(XO)return Yd;XO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Yd&&Yd.__decorate||function(r,i,s,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,s):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,s,c):g(i,s))||c);return u>3&&c&&Object.defineProperty(i,s,c),c};Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.XPathLexerErrorListener=void 0;const t=Ve();let n=class{syntaxError(i,s,l,u,c,g){}};return e([t.Override],n.prototype,"syntaxError",null),Yd.XPathLexerErrorListener=n,Yd}var qd={},Kd={},ZO;function Lg(){if(ZO)return Kd;ZO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Kd&&Kd.__decorate||function(r,i,s,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,s):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,s,c):g(i,s))||c);return u>3&&c&&Object.defineProperty(i,s,c),c};Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.XPathElement=void 0;const t=Ve();let n=class{constructor(i){this.nodeName=i,this.invert=!1}toString(){let i=this.invert?"!":"";return Object.constructor.name+"["+i+this.nodeName+"]"}};return e([t.Override],n.prototype,"toString",null),Kd.XPathElement=n,Kd}var JO;function DY(){if(JO)return qd;JO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=qd&&qd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(qd,"__esModule",{value:!0}),qd.XPathRuleAnywhereElement=void 0;const t=Ve(),n=Th(),r=Lg();let i=class extends r.XPathElement{constructor(l,u){super(l),this.ruleIndex=u}evaluate(l){return n.Trees.findAllRuleNodes(l,this.ruleIndex)}};return e([t.Override],i.prototype,"evaluate",null),qd.XPathRuleAnywhereElement=i,qd}var Xd={},QO;function MY(){if(QO)return Xd;QO=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Xd&&Xd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.XPathRuleElement=void 0;const t=js(),n=Ve(),r=Th(),i=Lg();let s=class extends i.XPathElement{constructor(u,c){super(u),this.ruleIndex=c}evaluate(u){let c=[];for(let g of r.Trees.getChildren(u))g instanceof t.ParserRuleContext&&(g.ruleIndex===this.ruleIndex&&!this.invert||g.ruleIndex!==this.ruleIndex&&this.invert)&&c.push(g);return c}};return e([n.Override],s.prototype,"evaluate",null),Xd.XPathRuleElement=s,Xd}var Zd={},eD;function PY(){if(eD)return Zd;eD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Zd&&Zd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.XPathTokenAnywhereElement=void 0;const t=Ve(),n=Th(),r=Lg();let i=class extends r.XPathElement{constructor(l,u){super(l),this.tokenType=u}evaluate(l){return n.Trees.findAllTokenNodes(l,this.tokenType)}};return e([t.Override],i.prototype,"evaluate",null),Zd.XPathTokenAnywhereElement=i,Zd}var Jd={},tD;function LY(){if(tD)return Jd;tD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Jd&&Jd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.XPathTokenElement=void 0;const t=Ve(),n=Pg(),r=Th(),i=Lg();let s=class extends i.XPathElement{constructor(u,c){super(u),this.tokenType=c}evaluate(u){let c=[];for(let g of r.Trees.getChildren(u))g instanceof n.TerminalNode&&(g.symbol.type===this.tokenType&&!this.invert||g.symbol.type!==this.tokenType&&this.invert)&&c.push(g);return c}};return e([t.Override],s.prototype,"evaluate",null),Jd.XPathTokenElement=s,Jd}var Qd={},nD;function FY(){if(nD)return Qd;nD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Qd&&Qd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.XPathWildcardAnywhereElement=void 0;const t=Ve(),n=Th(),r=_R(),i=Lg();let s=class extends i.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(u){return this.invert?[]:n.Trees.getDescendants(u)}};return e([t.Override],s.prototype,"evaluate",null),Qd.XPathWildcardAnywhereElement=s,Qd}var eh={},rD;function kY(){if(rD)return eh;rD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=eh&&eh.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(eh,"__esModule",{value:!0}),eh.XPathWildcardElement=void 0;const t=Ve(),n=Th(),r=_R(),i=Lg();let s=class extends i.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(u){let c=[];if(this.invert)return c;for(let g of n.Trees.getChildren(u))c.push(g);return c}};return e([t.Override],s.prototype,"evaluate",null),eh.XPathWildcardElement=s,eh}var iD;function _R(){if(iD)return nv;iD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(nv,"__esModule",{value:!0}),nv.XPath=void 0;const e=TR(),t=NR(),n=p1(),r=js(),i=Yn(),s=IY(),l=OY(),u=DY(),c=MY(),g=PY(),p=LY(),m=FY(),x=kY();let b=class Hk{constructor(w,C){this.parser=w,this.path=C,this.elements=this.split(C)}split(w){let C=new s.XPathLexer(e.CharStreams.fromString(w));C.recover=B=>{throw B},C.removeErrorListeners(),C.addErrorListener(new l.XPathLexerErrorListener);let R=new t.CommonTokenStream(C);try{R.fill()}catch(B){if(B instanceof n.LexerNoViableAltException){let k="Invalid tokens or characters at index "+C.charPositionInLine+" in path '"+w+"' -- "+B.message;throw new RangeError(k)}throw B}let T=R.getTokens(),_=[],D=T.length,F=0;e:for(;F<D;){let B=T[F],j;switch(B.type){case s.XPathLexer.ROOT:case s.XPathLexer.ANYWHERE:let k=B.type===s.XPathLexer.ANYWHERE;F++,j=T[F];let $=j.type===s.XPathLexer.BANG;$&&(F++,j=T[F]);let Z=this.getXPathElement(j,k);Z.invert=$,_.push(Z),F++;break;case s.XPathLexer.TOKEN_REF:case s.XPathLexer.RULE_REF:case s.XPathLexer.WILDCARD:_.push(this.getXPathElement(B,!1)),F++;break;case i.Token.EOF:break e;default:throw new Error("Unknowth path element "+B)}}return _}getXPathElement(w,C){if(w.type===i.Token.EOF)throw new Error("Missing path element at end of path");let R=w.text;if(R==null)throw new Error("Expected wordToken to have text content.");let T=this.parser.getTokenType(R),_=this.parser.getRuleIndex(R);switch(w.type){case s.XPathLexer.WILDCARD:return C?new m.XPathWildcardAnywhereElement:new x.XPathWildcardElement;case s.XPathLexer.TOKEN_REF:case s.XPathLexer.STRING:if(T===i.Token.INVALID_TYPE)throw new Error(R+" at index "+w.startIndex+" isn't a valid token name");return C?new g.XPathTokenAnywhereElement(R,T):new p.XPathTokenElement(R,T);default:if(_===-1)throw new Error(R+" at index "+w.startIndex+" isn't a valid rule name");return C?new u.XPathRuleAnywhereElement(R,_):new c.XPathRuleElement(R,_)}}static findAll(w,C,R){return new Hk(R,C).evaluate(w)}evaluate(w){let C=new r.ParserRuleContext;C.addChild(w);let R=new Set([C]),T=0;for(;T<this.elements.length;){let _=new Set;for(let D of R)D.childCount>0&&this.elements[T].evaluate(D).forEach(_.add,_);T++,R=_}return R}};return nv.XPath=b,b.WILDCARD="*",b.NOT="!",nv}var oD;function BY(){if(oD)return lu;oD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=lu&&lu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=lu&&lu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(lu,"__esModule",{value:!0}),lu.ParseTreePattern=void 0;const n=Ve(),r=_R();let i=class{constructor(l,u,c,g){this._matcher=l,this._patternRuleIndex=c,this._pattern=u,this._patternTree=g}match(l){return this._matcher.match(l,this)}matches(l){return this._matcher.match(l,this).succeeded}findAll(l,u){let c=r.XPath.findAll(l,u,this._matcher.parser),g=[];for(let p of c){let m=this.match(p);m.succeeded&&g.push(m)}return g}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};return e([n.NotNull],i.prototype,"_pattern",void 0),e([n.NotNull],i.prototype,"_patternTree",void 0),e([n.NotNull],i.prototype,"_matcher",void 0),e([n.NotNull,t(0,n.NotNull)],i.prototype,"match",null),e([t(0,n.NotNull)],i.prototype,"matches",null),e([n.NotNull,t(0,n.NotNull),t(1,n.NotNull)],i.prototype,"findAll",null),e([n.NotNull],i.prototype,"matcher",null),e([n.NotNull],i.prototype,"pattern",null),e([n.NotNull],i.prototype,"patternTree",null),i=e([t(0,n.NotNull),t(1,n.NotNull),t(3,n.NotNull)],i),lu.ParseTreePattern=i,lu}var uu={},sD;function jY(){if(sD)return uu;sD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=uu&&uu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=uu&&uu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(uu,"__esModule",{value:!0}),uu.RuleTagToken=void 0;const n=Ve(),r=Yn();let i=class{constructor(l,u,c){if(l==null||l.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=l,this.bypassTokenType=u,this._label=c}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return r.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};return e([n.NotNull],i.prototype,"ruleName",null),e([n.Override],i.prototype,"channel",null),e([n.Override],i.prototype,"text",null),e([n.Override],i.prototype,"type",null),e([n.Override],i.prototype,"line",null),e([n.Override],i.prototype,"charPositionInLine",null),e([n.Override],i.prototype,"tokenIndex",null),e([n.Override],i.prototype,"startIndex",null),e([n.Override],i.prototype,"stopIndex",null),e([n.Override],i.prototype,"tokenSource",null),e([n.Override],i.prototype,"inputStream",null),e([n.Override],i.prototype,"toString",null),i=e([t(0,n.NotNull)],i),uu.RuleTagToken=i,uu}var th={},iv={},aD;function Wk(){if(aD)return iv;aD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(iv,"__esModule",{value:!0}),iv.Chunk=void 0;let e=class{};return iv.Chunk=e,iv}var lD;function zY(){if(lD)return th;lD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=th&&th.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g};Object.defineProperty(th,"__esModule",{value:!0}),th.TagChunk=void 0;const t=Wk(),n=Ve();let r=class extends t.Chunk{constructor(s,l){if(super(),s==null||s.length===0)throw new Error("tag cannot be null or empty");this._tag=s,this._label=l}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};return e([n.NotNull],r.prototype,"tag",null),e([n.Override],r.prototype,"toString",null),th.TagChunk=r,th}var cu={},uD;function UY(){if(uD)return cu;uD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=cu&&cu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=cu&&cu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(cu,"__esModule",{value:!0}),cu.TextChunk=void 0;const n=Wk(),r=Ve();let i=class extends n.Chunk{constructor(l){if(super(),l==null)throw new Error("text cannot be null");this._text=l}get text(){return this._text}toString(){return"'"+this._text+"'"}};return e([r.NotNull],i.prototype,"_text",void 0),e([r.NotNull],i.prototype,"text",null),e([r.Override],i.prototype,"toString",null),i=e([t(0,r.NotNull)],i),cu.TextChunk=i,cu}var fu={},cD;function VY(){if(cD)return fu;cD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=fu&&fu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=fu&&fu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(fu,"__esModule",{value:!0}),fu.TokenTagToken=void 0;const n=iy(),r=Ve();let i=class extends n.CommonToken{constructor(l,u,c){super(u),this._tokenName=l,this._label=c}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};return e([r.NotNull],i.prototype,"_tokenName",void 0),e([r.NotNull],i.prototype,"tokenName",null),e([r.Override],i.prototype,"text",null),e([r.Override],i.prototype,"toString",null),i=e([t(0,r.NotNull)],i),fu.TokenTagToken=i,fu}var fD;function GY(){return fD||(fD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=$d&&$d.__decorate||function(j,k,$,Z){var ne=arguments.length,re=ne<3?k:Z===null?Z=Object.getOwnPropertyDescriptor(k,$):Z,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(j,k,$,Z);else for(var Ce=j.length-1;Ce>=0;Ce--)(he=j[Ce])&&(re=(ne<3?he(re):ne>3?he(k,$,re):he(k,$))||re);return ne>3&&re&&Object.defineProperty(k,$,re),re},n=$d&&$d.__param||function(j,k){return function($,Z){k($,Z,j)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreePatternMatcher=void 0;const r=Yk(),i=TR(),s=NR(),l=Uk(),u=NY(),c=Ve(),g=Vk(),p=$k(),m=js(),x=_Y(),b=BY(),E=af(),w=wR(),C=jY(),R=zY(),T=Pg(),_=UY(),D=Yn(),F=VY();let B=class Yw{constructor(k,$){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=k,this._parser=$}setDelimiters(k,$,Z){if(!k)throw new Error("start cannot be null or empty");if(!$)throw new Error("stop cannot be null or empty");this.start=k,this.stop=$,this.escape=Z,this.escapeRE=new RegExp(Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(k,$,Z=0){if(typeof $=="string"){let ne=this.compile($,Z);return this.matches(k,ne)}else{let ne=new u.MultiMap;return!this.matchImpl(k,$.patternTree,ne)}}match(k,$,Z=0){if(typeof $=="string"){let ne=this.compile($,Z);return this.match(k,ne)}else{let ne=new u.MultiMap,re=this.matchImpl(k,$.patternTree,ne);return new x.ParseTreeMatch(k,$,ne,re)}}compile(k,$){let Z=this.tokenize(k),ne=new l.ListTokenSource(Z),re=new s.CommonTokenStream(ne);const he=this._parser;let Ce=new p.ParserInterpreter(he.grammarFileName,he.vocabulary,he.ruleNames,he.getATNWithBypassAlts(),re),_e;try{Ce.errorHandler=new r.BailErrorStrategy,_e=Ce.parse($)}catch(ie){throw ie instanceof g.ParseCancellationException?ie.getCause():ie instanceof E.RecognitionException?ie:ie instanceof Error?new Yw.CannotInvokeStartRule(ie):ie}if(re.LA(1)!==D.Token.EOF)throw new Yw.StartRuleDoesNotConsumeFullPattern;return new b.ParseTreePattern(this,k,$,_e)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(k,$,Z){if(!k)throw new TypeError("tree cannot be null");if(!$)throw new TypeError("patternTree cannot be null");if(k instanceof T.TerminalNode&&$ instanceof T.TerminalNode){let ne;if(k.symbol.type===$.symbol.type)if($.symbol instanceof F.TokenTagToken){let re=$.symbol;Z.map(re.tokenName,k);const he=re.label;he&&Z.map(he,k)}else k.text===$.text||ne||(ne=k);else ne||(ne=k);return ne}if(k instanceof m.ParserRuleContext&&$ instanceof m.ParserRuleContext){let ne,re=this.getRuleTagToken($);if(re){if(k.ruleContext.ruleIndex===$.ruleContext.ruleIndex){Z.map(re.ruleName,k);const Ce=re.label;Ce&&Z.map(Ce,k)}else ne||(ne=k);return ne}if(k.childCount!==$.childCount)return ne||(ne=k),ne;let he=k.childCount;for(let Ce=0;Ce<he;Ce++){let _e=this.matchImpl(k.getChild(Ce),$.getChild(Ce),Z);if(_e)return _e}return ne}return k}getRuleTagToken(k){if(k instanceof w.RuleNode&&k.childCount===1&&k.getChild(0)instanceof T.TerminalNode){let $=k.getChild(0);if($.symbol instanceof C.RuleTagToken)return $.symbol}}tokenize(k){let $=this.split(k),Z=[];for(let ne of $)if(ne instanceof R.TagChunk){let re=ne;const he=re.tag.substr(0,1);if(he===he.toUpperCase()){let Ce=this._parser.getTokenType(re.tag);if(Ce===D.Token.INVALID_TYPE)throw new Error("Unknown token "+re.tag+" in pattern: "+k);let _e=new F.TokenTagToken(re.tag,Ce,re.label);Z.push(_e)}else if(he===he.toLowerCase()){let Ce=this._parser.getRuleIndex(re.tag);if(Ce===-1)throw new Error("Unknown rule "+re.tag+" in pattern: "+k);let _e=this._parser.getATNWithBypassAlts().ruleToTokenType[Ce];Z.push(new C.RuleTagToken(re.tag,_e,re.label))}else throw new Error("invalid tag: "+re.tag+" in pattern: "+k)}else{let re=ne;this._lexer.inputStream=i.CharStreams.fromString(re.text);let he=this._lexer.nextToken();for(;he.type!==D.Token.EOF;)Z.push(he),he=this._lexer.nextToken()}return Z}split(k){let $=0,Z=k.length,ne=[],re=[],he=[];for(;$<Z;)$===k.indexOf(this.escape+this.start,$)?$+=this.escape.length+this.start.length:$===k.indexOf(this.escape+this.stop,$)?$+=this.escape.length+this.stop.length:$===k.indexOf(this.start,$)?(re.push($),$+=this.start.length):$===k.indexOf(this.stop,$)?(he.push($),$+=this.stop.length):$++;if(re.length>he.length)throw new Error("unterminated tag in pattern: "+k);if(re.length<he.length)throw new Error("missing start tag in pattern: "+k);let Ce=re.length;for(let _e=0;_e<Ce;_e++)if(re[_e]>=he[_e])throw new Error("tag delimiters out of order in pattern: "+k);if(Ce===0){let _e=k.substring(0,Z);ne.push(new _.TextChunk(_e))}if(Ce>0&&re[0]>0){let _e=k.substring(0,re[0]);ne.push(new _.TextChunk(_e))}for(let _e=0;_e<Ce;_e++){let ie=k.substring(re[_e]+this.start.length,he[_e]),Ae=ie,de,ue=ie.indexOf(":");if(ue>=0&&(de=ie.substring(0,ue),Ae=ie.substring(ue+1,ie.length)),ne.push(new R.TagChunk(Ae,de)),_e+1<Ce){let K=k.substring(he[_e]+this.stop.length,re[_e+1]);ne.push(new _.TextChunk(K))}}if(Ce>0){let _e=he[Ce-1]+this.stop.length;if(_e<Z){let ie=k.substring(_e,Z);ne.push(new _.TextChunk(ie))}}for(let _e=0;_e<ne.length;_e++){let ie=ne[_e];if(ie instanceof _.TextChunk){let Ae=ie.text.replace(this.escapeRE,"");Ae.length<ie.text.length&&(ne[_e]=new _.TextChunk(Ae))}}return ne}};t([c.NotNull,n(1,c.NotNull)],B.prototype,"match",null),t([c.NotNull],B.prototype,"lexer",null),t([c.NotNull],B.prototype,"parser",null),t([n(0,c.NotNull),n(1,c.NotNull),n(2,c.NotNull)],B.prototype,"matchImpl",null),e.ParseTreePatternMatcher=B,function(j){class k extends Error{constructor(ne){super(`CannotInvokeStartRule: ${ne}`),this.error=ne}}j.CannotInvokeStartRule=k;class $ extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}j.StartRuleDoesNotConsumeFullPattern=$}(B=e.ParseTreePatternMatcher||(e.ParseTreePatternMatcher={}))}($d)),$d}var du={},hu={},pu={},dD;function uy(){if(dD)return pu;dD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=pu&&pu.__decorate||function(i,s,l,u){var c=arguments.length,g=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,l):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,s,l,u);else for(var m=i.length-1;m>=0;m--)(p=i[m])&&(g=(c<3?p(g):c>3?p(s,l,g):p(s,l))||g);return c>3&&g&&Object.defineProperty(s,l,g),g},t=pu&&pu.__param||function(i,s){return function(l,u){s(l,u,i)}};Object.defineProperty(pu,"__esModule",{value:!0}),pu.DecisionEventInfo=void 0;const n=Ve();let r=class{constructor(s,l,u,c,g,p){this.decision=s,this.fullCtx=p,this.stopIndex=g,this.input=u,this.startIndex=c,this.state=l}};return e([n.NotNull],r.prototype,"input",void 0),r=e([t(2,n.NotNull)],r),pu.DecisionEventInfo=r,pu}var hD;function $Y(){if(hD)return hu;hD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=hu&&hu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=hu&&hu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(hu,"__esModule",{value:!0}),hu.AmbiguityInfo=void 0;const n=uy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p,m){super(l,u,g,p,m,u.useContext),this.ambigAlts=c}get ambiguousAlternatives(){return this.ambigAlts}};return e([r.NotNull],i.prototype,"ambigAlts",void 0),e([r.NotNull],i.prototype,"ambiguousAlternatives",null),i=e([t(1,r.NotNull),t(2,r.NotNull),t(3,r.NotNull)],i),hu.AmbiguityInfo=i,hu}var gu={},pD;function HY(){if(pD)return gu;pD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=gu&&gu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=gu&&gu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(gu,"__esModule",{value:!0}),gu.ContextSensitivityInfo=void 0;const n=uy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p){super(l,u,c,g,p,!0)}};return i=e([t(1,r.NotNull),t(2,r.NotNull)],i),gu.ContextSensitivityInfo=i,gu}var nh={},gD;function WY(){if(gD)return nh;gD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=nh&&nh.__decorate||function(r,i,s,l){var u=arguments.length,c=u<3?i:l===null?l=Object.getOwnPropertyDescriptor(i,s):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,l);else for(var p=r.length-1;p>=0;p--)(g=r[p])&&(c=(u<3?g(c):u>3?g(i,s,c):g(i,s))||c);return u>3&&c&&Object.defineProperty(i,s,c),c};Object.defineProperty(nh,"__esModule",{value:!0}),nh.DecisionInfo=void 0;const t=Ve();let n=class{constructor(i){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=i}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};return e([t.Override],n.prototype,"toString",null),nh.DecisionInfo=n,nh}var mu={},mD;function YY(){if(mD)return mu;mD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=mu&&mu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=mu&&mu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(mu,"__esModule",{value:!0}),mu.ErrorInfo=void 0;const n=uy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p){super(l,u,c,g,p,u.useContext)}};return i=e([t(1,r.NotNull),t(2,r.NotNull)],i),mu.ErrorInfo=i,mu}var vu={},vD;function qY(){if(vD)return vu;vD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=vu&&vu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=vu&&vu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(vu,"__esModule",{value:!0}),vu.LookaheadEventInfo=void 0;const n=uy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p,m,x){super(l,u,g,p,m,x),this.predictedAlt=c}};return i=e([t(3,r.NotNull)],i),vu.LookaheadEventInfo=i,vu}var yu={},yD;function KY(){if(yD)return yu;yD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=yu&&yu.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p},t=yu&&yu.__param||function(s,l){return function(u,c){l(u,c,s)}};Object.defineProperty(yu,"__esModule",{value:!0}),yu.PredicateEvalInfo=void 0;const n=uy(),r=Ve();let i=class extends n.DecisionEventInfo{constructor(l,u,c,g,p,m,x,b){super(u,l,c,g,p,l.useContext),this.semctx=m,this.evalResult=x,this.predictedAlt=b}};return i=e([t(0,r.NotNull),t(2,r.NotNull),t(5,r.NotNull)],i),yu.PredicateEvalInfo=i,yu}var xD;function bD(){if(xD)return du;xD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=du&&du.__decorate||function(w,C,R,T){var _=arguments.length,D=_<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,R):T,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(w,C,R,T);else for(var B=w.length-1;B>=0;B--)(F=w[B])&&(D=(_<3?F(D):_>3?F(C,R,D):F(C,R))||D);return _>3&&D&&Object.defineProperty(C,R,D),D},t=du&&du.__param||function(w,C){return function(R,T){C(R,T,w)}};Object.defineProperty(du,"__esModule",{value:!0}),du.ProfilingATNSimulator=void 0;const n=$Y(),r=Ga(),i=h1(),s=HY(),l=WY(),u=YY(),c=Ve(),g=qY(),p=ly(),m=KY(),x=Dg(),b=Lk();let E=class extends p.ParserATNSimulator{constructor(C){super(C.interpreter.atn,C),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let R=0;R<this.numDecisions;R++)this.decisions.push(new l.DecisionInfo(R))}adaptivePredict(C,R,T,_){if(_!==void 0)return super.adaptivePredict(C,R,T,_);try{this._input=C,this._startIndex=C.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=R,this.currentState=void 0,this.conflictingAltResolvedBySLL=r.ATN.INVALID_ALT_NUMBER;let D=process.hrtime(),F=super.adaptivePredict(C,R,T),B=process.hrtime(),j=(B[0]-D[0])*1e9;j===0?j=B[1]-D[1]:j+=1e9-D[1]+B[1],this.decisions[R].timeInPrediction+=j,this.decisions[R].invocations++;let k=this._sllStopIndex-this._startIndex+1;if(this.decisions[R].SLL_TotalLook+=k,this.decisions[R].SLL_MinLook=this.decisions[R].SLL_MinLook===0?k:Math.min(this.decisions[R].SLL_MinLook,k),k>this.decisions[R].SLL_MaxLook&&(this.decisions[R].SLL_MaxLook=k,this.decisions[R].SLL_MaxLookEvent=new g.LookaheadEventInfo(R,void 0,F,C,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let $=this._llStopIndex-this._startIndex+1;this.decisions[R].LL_TotalLook+=$,this.decisions[R].LL_MinLook=this.decisions[R].LL_MinLook===0?$:Math.min(this.decisions[R].LL_MinLook,$),$>this.decisions[R].LL_MaxLook&&(this.decisions[R].LL_MaxLook=$,this.decisions[R].LL_MaxLookEvent=new g.LookaheadEventInfo(R,void 0,F,C,this._startIndex,this._llStopIndex,!0))}return F}finally{this._input=void 0,this.currentDecision=-1}}getStartState(C,R,T,_){let D=super.getStartState(C,R,T,_);return this.currentState=D,D}computeStartState(C,R,T){let _=super.computeStartState(C,R,T);return this.currentState=_,_}computeReachSet(C,R,T,_){if(this._input===void 0)throw new Error("Invalid state");let D=super.computeReachSet(C,R,T,_);return D==null&&this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,R,this._input,this._startIndex,this._input.index)),this.currentState=D,D}getExistingTargetState(C,R){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let T=super.getExistingTargetState(C,R);if(T!=null&&(this.currentState=new b.SimulatorState(this.currentState.outerContext,T,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,T===i.ATNSimulator.ERROR)){let _=new b.SimulatorState(this.currentState.outerContext,C,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,_,this._input,this._startIndex,this._input.index))}return T}computeTargetState(C,R,T,_,D,F){let B=super.computeTargetState(C,R,T,_,D,F);return D?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,B}evalSemanticContextImpl(C,R,T){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let _=super.evalSemanticContextImpl(C,R,T);if(!(C instanceof x.SemanticContext.PrecedencePredicate)){let F=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new m.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,F,C,_,T))}return _}reportContextSensitivity(C,R,T,_,D){if(this._input===void 0)throw new Error("Invalid state");R!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new s.ContextSensitivityInfo(this.currentDecision,T,this._input,_,D)),super.reportContextSensitivity(C,R,T,_,D)}reportAttemptingFullContext(C,R,T,_,D){R!=null?this.conflictingAltResolvedBySLL=R.nextSetBit(0):this.conflictingAltResolvedBySLL=T.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(C,R,T,_,D)}reportAmbiguity(C,R,T,_,D,F,B){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let j;F!=null?j=F.nextSetBit(0):j=B.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==r.ATN.INVALID_ALT_NUMBER&&j!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new s.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,T,_)),this.decisions[this.currentDecision].ambiguities.push(new n.AmbiguityInfo(this.currentDecision,this.currentState,F,this._input,T,_)),super.reportAmbiguity(C,R,T,_,D,F,B)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};return e([c.Override,t(0,c.NotNull)],E.prototype,"adaptivePredict",null),e([c.Override],E.prototype,"getStartState",null),e([c.Override],E.prototype,"computeStartState",null),e([c.Override],E.prototype,"computeReachSet",null),e([c.Override],E.prototype,"getExistingTargetState",null),e([c.Override],E.prototype,"computeTargetState",null),e([c.Override],E.prototype,"evalSemanticContextImpl",null),e([c.Override],E.prototype,"reportContextSensitivity",null),e([c.Override],E.prototype,"reportAttemptingFullContext",null),e([c.Override,t(0,c.NotNull),t(5,c.NotNull),t(6,c.NotNull)],E.prototype,"reportAmbiguity",null),du.ProfilingATNSimulator=E,du}var SD;function cy(){if(SD)return ws;SD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=ws&&ws.__decorate||function(_,D,F,B){var j=arguments.length,k=j<3?D:B===null?B=Object.getOwnPropertyDescriptor(D,F):B,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(_,D,F,B);else for(var Z=_.length-1;Z>=0;Z--)($=_[Z])&&(k=(j<3?$(k):j>3?$(D,F,k):$(D,F))||k);return j>3&&k&&Object.defineProperty(D,F,k),k},t=ws&&ws.__param||function(_,D){return function(F,B){D(F,B,_)}},n=ws&&ws.__awaiter||function(_,D,F,B){function j(k){return k instanceof F?k:new F(function($){$(k)})}return new(F||(F=Promise))(function(k,$){function Z(he){try{re(B.next(he))}catch(Ce){$(Ce)}}function ne(he){try{re(B.throw(he))}catch(Ce){$(Ce)}}function re(he){he.done?k(he.value):j(he.value).then(Z,ne)}re((B=B.apply(_,D||[])).next())})};Object.defineProperty(ws,"__esModule",{value:!0}),ws.Parser=void 0;const r=Lu(),i=Ek(),s=RR(),l=IR(),u=CR(),c=fk(),g=ff(),p=Ve(),m=RY(),x=ly(),b=Fk(),E=sy(),w=Pg(),C=Yn();class R{constructor(D,F){this.ruleNames=D,this.tokenStream=F}enterEveryRule(D){console.log("enter   "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(D){console.log("exit    "+this.ruleNames[D.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(D){}visitTerminal(D){let F=D.parent.ruleContext,B=D.symbol;console.log("consume "+B+" rule "+this.ruleNames[F.ruleIndex])}}e([p.Override],R.prototype,"enterEveryRule",null),e([p.Override],R.prototype,"exitEveryRule",null),e([p.Override],R.prototype,"visitErrorNode",null),e([p.Override],R.prototype,"visitTerminal",null);let T=class aS extends E.Recognizer{constructor(D){super(),this._errHandler=new l.DefaultErrorStrategy,this._precedenceStack=new c.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=D}reset(D){(D===void 0||D)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let F=this.interpreter;F!=null&&F.reset()}match(D){let F=this.currentToken;return F.type===D?(D===C.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(F=this._errHandler.recoverInline(this),this._buildParseTrees&&F.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,F))),F}matchWildcard(){let D=this.currentToken;return D.type>0?(this._errHandler.reportMatch(this),this.consume()):(D=this._errHandler.recoverInline(this),this._buildParseTrees&&D.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,D))),D}set buildParseTree(D){this._buildParseTrees=D}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(D){if(D==null)throw new TypeError("listener cannot be null");this._parseListeners.push(D)}removeParseListener(D){let F=this._parseListeners.findIndex(B=>B===D);F!==-1&&this._parseListeners.splice(F,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let D of this._parseListeners)D.enterEveryRule&&D.enterEveryRule(this._ctx),this._ctx.enterRule(D)}triggerExitRuleEvent(){for(let D=this._parseListeners.length-1;D>=0;D--){let F=this._parseListeners[D];this._ctx.exitRule(F),F.exitEveryRule&&F.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let D=this.serializedATN;if(D==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let F=aS.bypassAltsAtnCache.get(D);if(F==null){let B=new i.ATNDeserializationOptions;B.isGenerateRuleBypassTransitions=!0,F=new s.ATNDeserializer(B).deserialize(r.toCharArray(D)),aS.bypassAltsAtnCache.set(D,F)}return F}compileParseTreePattern(D,F,B){return n(this,void 0,void 0,function*(){if(!B){if(this.inputStream){let Z=this.inputStream.tokenSource;Z instanceof g.Lexer&&(B=Z)}if(!B)throw new Error("Parser can't discover a lexer to use")}let j=B,k=yield Promise.resolve().then(()=>GY());return new k.ParseTreePatternMatcher(j,this).compile(D,F)})}get errorHandler(){return this._errHandler}set errorHandler(D){this._errHandler=D}get inputStream(){return this._input}set inputStream(D){this.reset(!1),this._input=D}get currentToken(){return this._input.LT(1)}notifyErrorListeners(D,F,B){F===void 0?F=this.currentToken:F===null&&(F=void 0),this._syntaxErrors++;let j=-1,k=-1;F!=null&&(j=F.line,k=F.charPositionInLine);let $=this.getErrorListenerDispatch();$.syntaxError&&$.syntaxError(this,F,j,k,D,B)}consume(){let D=this.currentToken;D.type!==aS.EOF&&this.inputStream.consume();let F=this._parseListeners.length!==0;if(this._buildParseTrees||F)if(this._errHandler.inErrorRecoveryMode(this)){let B=this._ctx.addErrorNode(this.createErrorNode(this._ctx,D));if(F)for(let j of this._parseListeners)j.visitErrorNode&&j.visitErrorNode(B)}else{let B=this.createTerminalNode(this._ctx,D);if(this._ctx.addChild(B),F)for(let j of this._parseListeners)j.visitTerminal&&j.visitTerminal(B)}return D}createTerminalNode(D,F){return new w.TerminalNode(F)}createErrorNode(D,F){return new u.ErrorNode(F)}addContextToParseTree(){let D=this._ctx._parent;D!=null&&D.addChild(this._ctx)}enterRule(D,F,B){this.state=F,this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(D,F,B){if(this.state=F,this._buildParseTrees){let j=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),j._parent=D,D.addChild(j)}this._ctx=D,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(D,F){if(D.altNumber=F,this._buildParseTrees&&this._ctx!==D){let B=this._ctx._parent;B!=null&&(B.removeLastChild(),B.addChild(D))}this._ctx=D}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(D,F,B,j){this.state=F,this._precedenceStack.push(j),this._ctx=D,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(D,F,B){let j=this._ctx;j._parent=D,j.invokingState=F,j._stop=this._input.tryLT(-1),this._ctx=D,this._ctx._start=j._start,this._buildParseTrees&&this._ctx.addChild(j),this.triggerEnterRuleEvent()}unrollRecursionContexts(D){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let F=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==D;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=D;F._parent=D,this._buildParseTrees&&D!=null&&D.addChild(F)}getInvokingContext(D){let F=this._ctx;for(;F&&F.ruleIndex!==D;)F=F._parent;return F}get context(){return this._ctx}set context(D){this._ctx=D}precpred(D,F){return F>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new b.ProxyParserErrorListener(this.getErrorListeners())}inContext(D){return!1}isExpectedToken(D){let F=this.interpreter.atn,B=this._ctx,j=F.states[this.state],k=F.nextTokens(j);if(k.contains(D))return!0;if(!k.contains(C.Token.EPSILON))return!1;for(;B!=null&&B.invokingState>=0&&k.contains(C.Token.EPSILON);){let Z=F.states[B.invokingState].transition(0);if(k=F.nextTokens(Z.followState),k.contains(D))return!0;B=B._parent}return!!(k.contains(C.Token.EPSILON)&&D===C.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let D=this.interpreter.atn,F=D.states[this.state];return D.nextTokens(F)}getRuleIndex(D){let F=this.getRuleIndexMap().get(D);return F??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(D=this._ctx){let F=D,B=this.ruleNames,j=[];for(;F!=null;){let k=F.ruleIndex;k<0?j.push("n/a"):j.push(B[k]),F=F._parent}return j}getDFAStrings(){let D=[];for(let F of this._interp.atn.decisionToDFA)D.push(F.toString(this.vocabulary,this.ruleNames));return D}dumpDFA(){let D=!1;for(let F of this._interp.atn.decisionToDFA)F.isEmpty||(D&&console.log(),console.log("Decision "+F.decision+":"),process.stdout.write(F.toString(this.vocabulary,this.ruleNames)),D=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>bD()).then(D=>{let F=this.interpreter;if(F instanceof D.ProfilingATNSimulator)return new m.ParseInfo(F)})}setProfile(D){return n(this,void 0,void 0,function*(){let F=yield Promise.resolve().then(()=>bD()),B=this.interpreter;D?B instanceof F.ProfilingATNSimulator||(this.interpreter=new F.ProfilingATNSimulator(this)):B instanceof F.ProfilingATNSimulator&&(this.interpreter=new x.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(B.getPredictionMode())})}set isTrace(D){D?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new R(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};return T.bypassAltsAtnCache=new Map,e([p.NotNull],T.prototype,"_errHandler",void 0),e([p.NotNull],T.prototype,"match",null),e([p.NotNull],T.prototype,"matchWildcard",null),e([p.NotNull],T.prototype,"getParseListeners",null),e([t(0,p.NotNull)],T.prototype,"addParseListener",null),e([p.NotNull],T.prototype,"getATNWithBypassAlts",null),e([p.NotNull,t(0,p.NotNull)],T.prototype,"errorHandler",null),e([p.Override],T.prototype,"inputStream",null),e([p.NotNull],T.prototype,"currentToken",null),e([t(0,p.NotNull)],T.prototype,"enterRule",null),e([p.Override,t(0,p.Nullable)],T.prototype,"precpred",null),e([p.Override],T.prototype,"getErrorListenerDispatch",null),e([p.NotNull],T.prototype,"getExpectedTokens",null),e([p.NotNull],T.prototype,"getExpectedTokensWithinCurrentRule",null),e([p.Override],T.prototype,"parseInfo",null),ws.Parser=T,ws}var AD;function v1(){if(AD)return Cd;AD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Cd&&Cd.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.NoViableAltException=void 0;const t=cy(),n=af(),r=Ve();let i=class extends n.RecognitionException{constructor(l,u,c,g,p,m){l instanceof t.Parser&&(u===void 0&&(u=l.inputStream),c===void 0&&(c=l.currentToken),g===void 0&&(g=l.currentToken),m===void 0&&(m=l.context)),super(l,u,m),this._deadEndConfigs=p,this._startToken=c,this.setOffendingToken(l,g)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};return e([r.NotNull],i.prototype,"_startToken",void 0),Cd.NoViableAltException=i,Cd}var ED;function IR(){if(ED)return bl;ED=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bl&&bl.__decorate||function(x,b,E,w){var C=arguments.length,R=C<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,E):w,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,b,E,w);else for(var _=x.length-1;_>=0;_--)(T=x[_])&&(R=(C<3?T(R):C>3?T(b,E,R):T(b,E))||R);return C>3&&R&&Object.defineProperty(b,E,R),R},t=bl&&bl.__param||function(x,b){return function(E,w){b(E,w,x)}};Object.defineProperty(bl,"__esModule",{value:!0}),bl.DefaultErrorStrategy=void 0;const n=Pu(),r=ti(),i=u1(),s=c1(),l=Rh(),u=v1(),c=Bs(),g=Yn(),p=Ve();let m=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER}reset(b){this.endErrorCondition(b)}beginErrorCondition(b){this.errorRecoveryMode=!0}inErrorRecoveryMode(b){return this.errorRecoveryMode}endErrorCondition(b){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(b){this.endErrorCondition(b)}reportError(b,E){this.inErrorRecoveryMode(b)||(this.beginErrorCondition(b),E instanceof u.NoViableAltException?this.reportNoViableAlternative(b,E):E instanceof s.InputMismatchException?this.reportInputMismatch(b,E):E instanceof i.FailedPredicateException?this.reportFailedPredicate(b,E):(console.error(`unknown recognition error type: ${E}`),this.notifyErrorListeners(b,E.toString(),E)))}notifyErrorListeners(b,E,w){let C=w.getOffendingToken(b);C===void 0&&(C=null),b.notifyErrorListeners(E,C,w)}recover(b,E){this.lastErrorIndex===b.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(b.state)&&b.consume(),this.lastErrorIndex=b.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new l.IntervalSet),this.lastErrorStates.add(b.state);let w=this.getErrorRecoverySet(b);this.consumeUntil(b,w)}sync(b){let E=b.interpreter.atn.states[b.state];if(this.inErrorRecoveryMode(b))return;let C=b.inputStream.LA(1),R=b.atn.nextTokens(E);if(R.contains(C)){this.nextTokensContext=void 0,this.nextTokensState=n.ATNState.INVALID_STATE_NUMBER;return}if(R.contains(g.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=b.context,this.nextTokensState=b.state);return}switch(E.stateType){case r.ATNStateType.BLOCK_START:case r.ATNStateType.STAR_BLOCK_START:case r.ATNStateType.PLUS_BLOCK_START:case r.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(b))return;throw new s.InputMismatchException(b);case r.ATNStateType.PLUS_LOOP_BACK:case r.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(b);let _=b.getExpectedTokens().or(this.getErrorRecoverySet(b));this.consumeUntil(b,_);break}}reportNoViableAlternative(b,E){let w=b.inputStream,C;w?E.startToken.type===g.Token.EOF?C="<EOF>":C=w.getTextFromRange(E.startToken,E.getOffendingToken()):C="<unknown input>";let R="no viable alternative at input "+this.escapeWSAndQuote(C);this.notifyErrorListeners(b,R,E)}reportInputMismatch(b,E){let w=E.expectedTokens,C=w?w.toStringVocabulary(b.vocabulary):"",R="mismatched input "+this.getTokenErrorDisplay(E.getOffendingToken(b))+" expecting "+C;this.notifyErrorListeners(b,R,E)}reportFailedPredicate(b,E){let C="rule "+b.ruleNames[b.context.ruleIndex]+" "+E.message;this.notifyErrorListeners(b,C,E)}reportUnwantedToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let E=b.currentToken,w=this.getTokenErrorDisplay(E),C=this.getExpectedTokens(b),R="extraneous input "+w+" expecting "+C.toStringVocabulary(b.vocabulary);b.notifyErrorListeners(R,E,void 0)}reportMissingToken(b){if(this.inErrorRecoveryMode(b))return;this.beginErrorCondition(b);let E=b.currentToken,C="missing "+this.getExpectedTokens(b).toStringVocabulary(b.vocabulary)+" at "+this.getTokenErrorDisplay(E);b.notifyErrorListeners(C,E,void 0)}recoverInline(b){let E=this.singleTokenDeletion(b);if(E)return b.consume(),E;if(this.singleTokenInsertion(b))return this.getMissingSymbol(b);throw this.nextTokensContext===void 0?new s.InputMismatchException(b):new s.InputMismatchException(b,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(b){let E=b.inputStream.LA(1),C=b.interpreter.atn.states[b.state].transition(0).target,R=b.interpreter.atn;return R.nextTokens(C,c.PredictionContext.fromRuleContext(R,b.context)).contains(E)?(this.reportMissingToken(b),!0):!1}singleTokenDeletion(b){let E=b.inputStream.LA(2);if(this.getExpectedTokens(b).contains(E)){this.reportUnwantedToken(b),b.consume();let C=b.currentToken;return this.reportMatch(b),C}}getMissingSymbol(b){let E=b.currentToken,w=this.getExpectedTokens(b),C=g.Token.INVALID_TYPE;w.isNil||(C=w.minElement);let R;C===g.Token.EOF?R="<missing EOF>":R="<missing "+b.vocabulary.getDisplayName(C)+">";let T=E,_=b.inputStream.tryLT(-1);return T.type===g.Token.EOF&&_!=null&&(T=_),this.constructToken(b.inputStream.tokenSource,C,R,T)}constructToken(b,E,w,C){let R=b.tokenFactory,T=C.tokenSource,_=T?T.inputStream:void 0;return R.create({source:b,stream:_},E,w,g.Token.DEFAULT_CHANNEL,-1,-1,C.line,C.charPositionInLine)}getExpectedTokens(b){return b.getExpectedTokens()}getTokenErrorDisplay(b){if(!b)return"<no token>";let E=this.getSymbolText(b);return E||(this.getSymbolType(b)===g.Token.EOF?E="<EOF>":E=`<${this.getSymbolType(b)}>`),this.escapeWSAndQuote(E)}getSymbolText(b){return b.text}getSymbolType(b){return b.type}escapeWSAndQuote(b){return b=b.replace(`
`,"\\n"),b=b.replace("\r","\\r"),b=b.replace("	","\\t"),"'"+b+"'"}getErrorRecoverySet(b){let E=b.interpreter.atn,w=b.context,C=new l.IntervalSet;for(;w&&w.invokingState>=0;){let T=E.states[w.invokingState].transition(0),_=E.nextTokens(T.followState);C.addAll(_),w=w._parent}return C.remove(g.Token.EPSILON),C}consumeUntil(b,E){let w=b.inputStream.LA(1);for(;w!==g.Token.EOF&&!E.contains(w);)b.consume(),w=b.inputStream.LA(1)}};return e([p.Override],m.prototype,"reset",null),e([t(0,p.NotNull)],m.prototype,"beginErrorCondition",null),e([p.Override],m.prototype,"inErrorRecoveryMode",null),e([t(0,p.NotNull)],m.prototype,"endErrorCondition",null),e([p.Override],m.prototype,"reportMatch",null),e([p.Override],m.prototype,"reportError",null),e([t(0,p.NotNull)],m.prototype,"notifyErrorListeners",null),e([p.Override],m.prototype,"recover",null),e([p.Override],m.prototype,"sync",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportNoViableAlternative",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportInputMismatch",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"reportFailedPredicate",null),e([t(0,p.NotNull)],m.prototype,"reportUnwantedToken",null),e([t(0,p.NotNull)],m.prototype,"reportMissingToken",null),e([p.Override],m.prototype,"recoverInline",null),e([t(0,p.NotNull)],m.prototype,"singleTokenInsertion",null),e([t(0,p.NotNull)],m.prototype,"singleTokenDeletion",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getMissingSymbol",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getExpectedTokens",null),e([t(0,p.NotNull)],m.prototype,"getSymbolText",null),e([t(0,p.NotNull)],m.prototype,"getSymbolType",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"escapeWSAndQuote",null),e([p.NotNull,t(0,p.NotNull)],m.prototype,"getErrorRecoverySet",null),e([t(0,p.NotNull),t(1,p.NotNull)],m.prototype,"consumeUntil",null),bl.DefaultErrorStrategy=m,bl}var CD;function Yk(){if(CD)return rd;CD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=rd&&rd.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m};Object.defineProperty(rd,"__esModule",{value:!0}),rd.BailErrorStrategy=void 0;const t=IR(),n=c1(),r=Ve(),i=Vk();let s=class extends t.DefaultErrorStrategy{recover(u,c){for(let g=u.context;g;g=g.parent)g.exception=c;throw new i.ParseCancellationException(c)}recoverInline(u){let c=new n.InputMismatchException(u);for(let g=u.context;g;g=g.parent)g.exception=c;throw new i.ParseCancellationException(c)}sync(u){}};return e([r.Override],s.prototype,"recover",null),e([r.Override],s.prototype,"recoverInline",null),e([r.Override],s.prototype,"sync",null),rd.BailErrorStrategy=s,rd}var DC={},wD;function XY(){if(wD)return DC;wD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(DC,"__esModule",{value:!0}),DC}var MC={},RD;function ZY(){return RD||(RD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Dependents=void 0,function(t){t[t.SELF=0]="SELF",t[t.PARENTS=1]="PARENTS",t[t.CHILDREN=2]="CHILDREN",t[t.ANCESTORS=3]="ANCESTORS",t[t.DESCENDANTS=4]="DESCENDANTS",t[t.SIBLINGS=5]="SIBLINGS",t[t.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",t[t.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",t[t.PRECEEDING=8]="PRECEEDING",t[t.FOLLOWING=9]="FOLLOWING"}(e.Dependents||(e.Dependents={}))}(MC)),MC}var xu={},TD;function JY(){if(TD)return xu;TD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=xu&&xu.__decorate||function(l,u,c,g){var p=arguments.length,m=p<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,c):g,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,u,c,g);else for(var b=l.length-1;b>=0;b--)(x=l[b])&&(m=(p<3?x(m):p>3?x(u,c,m):x(u,c))||m);return p>3&&m&&Object.defineProperty(u,c,m),m},t=xu&&xu.__param||function(l,u){return function(c,g){u(c,g,l)}};Object.defineProperty(xu,"__esModule",{value:!0}),xu.DiagnosticErrorListener=void 0;const n=cf(),r=Ve(),i=Zi();let s=class{constructor(u=!0){this.exactOnly=u,this.exactOnly=u}syntaxError(u,c,g,p,m,x){}reportAmbiguity(u,c,g,p,m,x,b){if(this.exactOnly&&!m)return;let E=this.getDecisionDescription(u,c),w=this.getConflictingAlts(x,b),C=u.inputStream.getText(i.Interval.of(g,p)),R=`reportAmbiguity d=${E}: ambigAlts=${w}, input='${C}'`;u.notifyErrorListeners(R)}reportAttemptingFullContext(u,c,g,p,m,x){let b=this.getDecisionDescription(u,c),E=u.inputStream.getText(i.Interval.of(g,p)),w=`reportAttemptingFullContext d=${b}, input='${E}'`;u.notifyErrorListeners(w)}reportContextSensitivity(u,c,g,p,m,x){let b=this.getDecisionDescription(u,c),E=u.inputStream.getText(i.Interval.of(g,p)),w=`reportContextSensitivity d=${b}, input='${E}'`;u.notifyErrorListeners(w)}getDecisionDescription(u,c){let g=c.decision,p=c.atnStartState.ruleIndex,m=u.ruleNames;if(p<0||p>=m.length)return g.toString();let x=m[p];return x?`${g} (${x})`:g.toString()}getConflictingAlts(u,c){if(u!=null)return u;let g=new n.BitSet;for(let p of c)g.set(p.alt);return g}};return e([r.Override],s.prototype,"syntaxError",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(6,r.NotNull)],s.prototype,"reportAmbiguity",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],s.prototype,"reportAttemptingFullContext",null),e([r.Override,t(0,r.NotNull),t(1,r.NotNull),t(5,r.NotNull)],s.prototype,"reportContextSensitivity",null),e([t(0,r.NotNull),t(1,r.NotNull)],s.prototype,"getDecisionDescription",null),e([r.NotNull,t(1,r.NotNull)],s.prototype,"getConflictingAlts",null),xu.DiagnosticErrorListener=s,xu}var bu={},ND;function QY(){if(ND)return bu;ND=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=bu&&bu.__decorate||function(u,c,g,p){var m=arguments.length,x=m<3?c:p===null?p=Object.getOwnPropertyDescriptor(c,g):p,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,c,g,p);else for(var E=u.length-1;E>=0;E--)(b=u[E])&&(x=(m<3?b(x):m>3?b(c,g,x):b(c,g))||x);return m>3&&x&&Object.defineProperty(c,g,x),x},t=bu&&bu.__param||function(u,c){return function(g,p){c(g,p,u)}};Object.defineProperty(bu,"__esModule",{value:!0}),bu.LexerInterpreter=void 0;const n=ff(),r=g1(),i=Ve(),s=Ve();let l=class extends n.Lexer{constructor(c,g,p,m,x,b,E){if(super(E),b.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=c,this._atn=b,this._ruleNames=p.slice(0),this._channelNames=m.slice(0),this._modeNames=x.slice(0),this._vocabulary=g,this._interp=new r.LexerATNSimulator(b,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};return e([i.NotNull],l.prototype,"_vocabulary",void 0),e([s.Override],l.prototype,"atn",null),e([s.Override],l.prototype,"grammarFileName",null),e([s.Override],l.prototype,"ruleNames",null),e([s.Override],l.prototype,"channelNames",null),e([s.Override],l.prototype,"modeNames",null),e([s.Override],l.prototype,"vocabulary",null),l=e([t(1,i.NotNull)],l),bu.LexerInterpreter=l,bu}var PC={},_D;function e7(){if(_D)return PC;_D=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(PC,"__esModule",{value:!0}),PC}var rh={},ID;function t7(){if(ID)return rh;ID=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=rh&&rh.__decorate||function(s,l,u,c){var g=arguments.length,p=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,l,u,c);else for(var x=s.length-1;x>=0;x--)(m=s[x])&&(p=(g<3?m(p):g>3?m(l,u,p):m(l,u))||p);return g>3&&p&&Object.defineProperty(l,u,p),p};Object.defineProperty(rh,"__esModule",{value:!0}),rh.RuleContextWithAltNum=void 0;const t=Ga(),n=Ve(),r=js();let i=class extends r.ParserRuleContext{constructor(l,u){u!==void 0?super(l,u):super(),this._altNumber=t.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(l){this._altNumber=l}};return e([n.Override],i.prototype,"altNumber",null),rh.RuleContextWithAltNum=i,rh}var ov={},OD;function n7(){if(OD)return ov;OD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ov,"__esModule",{value:!0}),ov.RuleDependency=void 0;function e(t){return(n,r,i)=>{}}return ov.RuleDependency=e,ov}var sv={},DD;function r7(){if(DD)return sv;DD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(sv,"__esModule",{value:!0}),sv.RuleVersion=void 0;function e(t){return(n,r,i)=>{}}return sv.RuleVersion=e,sv}var LC={},MD;function i7(){if(MD)return LC;MD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(LC,"__esModule",{value:!0}),LC}var FC={},PD;function o7(){if(PD)return FC;PD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(FC,"__esModule",{value:!0}),FC}var kC={},LD;function s7(){if(LD)return kC;LD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(kC,"__esModule",{value:!0}),kC}var Su={},FD;function a7(){if(FD)return Su;FD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Su&&Su.__decorate||function(g,p,m,x){var b=arguments.length,E=b<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,m):x,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,p,m,x);else for(var C=g.length-1;C>=0;C--)(w=g[C])&&(E=(b<3?w(E):b>3?w(p,m,E):w(p,m))||E);return b>3&&E&&Object.defineProperty(p,m,E),E};Object.defineProperty(Su,"__esModule",{value:!0}),Su.RewriteOperation=Su.TokenStreamRewriter=void 0;const t=Zi(),n=Ve(),r=Yn();let i=class Uo{constructor(p){this.tokens=p,this.programs=new Map,this.programs.set(Uo.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(p,m=Uo.DEFAULT_PROGRAM_NAME){let x=this.programs.get(m);x!=null&&this.programs.set(m,x.slice(Uo.MIN_TOKEN_INDEX,p))}deleteProgram(p=Uo.DEFAULT_PROGRAM_NAME){this.rollback(Uo.MIN_TOKEN_INDEX,p)}insertAfter(p,m,x=Uo.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let E=this.getProgram(x),w=new u(this.tokens,b,E.length,m);E.push(w)}insertBefore(p,m,x=Uo.DEFAULT_PROGRAM_NAME){let b;typeof p=="number"?b=p:b=p.tokenIndex;let E=this.getProgram(x),w=new l(this.tokens,b,E.length,m);E.push(w)}replaceSingle(p,m){typeof p=="number"?this.replace(p,p,m):this.replace(p,p,m)}replace(p,m,x,b=Uo.DEFAULT_PROGRAM_NAME){if(typeof p!="number"&&(p=p.tokenIndex),typeof m!="number"&&(m=m.tokenIndex),p>m||p<0||m<0||m>=this.tokens.size)throw new RangeError(`replace: range invalid: ${p}..${m}(size=${this.tokens.size})`);let E=this.getProgram(b),w=new c(this.tokens,p,m,E.length,x);E.push(w)}delete(p,m,x=Uo.DEFAULT_PROGRAM_NAME){m===void 0&&(m=p),typeof p=="number"?this.replace(p,m,"",x):this.replace(p,m,"",x)}getLastRewriteTokenIndex(p=Uo.DEFAULT_PROGRAM_NAME){let m=this.lastRewriteTokenIndexes.get(p);return m??-1}setLastRewriteTokenIndex(p,m){this.lastRewriteTokenIndexes.set(p,m)}getProgram(p){let m=this.programs.get(p);return m==null&&(m=this.initializeProgram(p)),m}initializeProgram(p){let m=[];return this.programs.set(p,m),m}getText(p,m=Uo.DEFAULT_PROGRAM_NAME){let x;p instanceof t.Interval?x=p:x=t.Interval.of(0,this.tokens.size-1),typeof p=="string"&&(m=p);let b=this.programs.get(m),E=x.a,w=x.b;if(w>this.tokens.size-1&&(w=this.tokens.size-1),E<0&&(E=0),b==null||b.length===0)return this.tokens.getText(x);let C=[],R=this.reduceToSingleOperationPerIndex(b),T=E;for(;T<=w&&T<this.tokens.size;){let _=R.get(T);R.delete(T);let D=this.tokens.get(T);_==null?(D.type!==r.Token.EOF&&C.push(String(D.text)),T++):T=_.execute(C)}if(w===this.tokens.size-1)for(let _ of R.values())_.index>=this.tokens.size-1&&C.push(_.text.toString());return C.join("")}reduceToSingleOperationPerIndex(p){for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof c))continue;let E=b,w=this.getKindOfOps(p,l,x);for(let R of w)R.index===E.index?(p[R.instructionIndex]=void 0,E.text=R.text.toString()+(E.text!=null?E.text.toString():"")):R.index>E.index&&R.index<=E.lastIndex&&(p[R.instructionIndex]=void 0);let C=this.getKindOfOps(p,c,x);for(let R of C){if(R.index>=E.index&&R.lastIndex<=E.lastIndex){p[R.instructionIndex]=void 0;continue}let T=R.lastIndex<E.index||R.index>E.lastIndex;if(R.text==null&&E.text==null&&!T)p[R.instructionIndex]=void 0,E.index=Math.min(R.index,E.index),E.lastIndex=Math.max(R.lastIndex,E.lastIndex);else if(!T)throw new Error(`replace op boundaries of ${E} overlap with previous ${R}`)}}for(let x=0;x<p.length;x++){let b=p[x];if(b==null||!(b instanceof l))continue;let E=b,w=this.getKindOfOps(p,l,x);for(let R of w)R.index===E.index&&(R instanceof u?(E.text=this.catOpText(R.text,E.text),p[R.instructionIndex]=void 0):R instanceof l&&(E.text=this.catOpText(E.text,R.text),p[R.instructionIndex]=void 0));let C=this.getKindOfOps(p,c,x);for(let R of C){if(E.index===R.index){R.text=this.catOpText(E.text,R.text),p[x]=void 0;continue}if(E.index>=R.index&&E.index<=R.lastIndex)throw new Error(`insert op ${E} within boundaries of previous ${R}`)}}let m=new Map;for(let x of p)if(x!=null){if(m.get(x.index)!=null)throw new Error("should only be one op per index");m.set(x.index,x)}return m}catOpText(p,m){let x="",b="";return p!=null&&(x=p.toString()),m!=null&&(b=m.toString()),x+b}getKindOfOps(p,m,x){let b=[];for(let E=0;E<x&&E<p.length;E++){let w=p[E];w!=null&&w instanceof m&&b.push(w)}return b}};Su.TokenStreamRewriter=i,i.DEFAULT_PROGRAM_NAME="default",i.PROGRAM_INIT_SIZE=100,i.MIN_TOKEN_INDEX=0;class s{constructor(p,m,x,b){this.tokens=p,this.instructionIndex=x,this.index=m,this.text=b===void 0?"":b}execute(p){return this.index}toString(){let p=this.constructor.name,m=p.indexOf("$");return p=p.substring(m+1,p.length),"<"+p+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}e([n.Override],s.prototype,"toString",null),Su.RewriteOperation=s;class l extends s{constructor(p,m,x,b){super(p,m,x,b)}execute(p){return p.push(this.text.toString()),this.tokens.get(this.index).type!==r.Token.EOF&&p.push(String(this.tokens.get(this.index).text)),this.index+1}}e([n.Override],l.prototype,"execute",null);class u extends l{constructor(p,m,x,b){super(p,m+1,x,b)}}class c extends s{constructor(p,m,x,b,E){super(p,m,b,E),this.lastIndex=x}execute(p){return this.text!=null&&p.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}return e([n.Override],c.prototype,"execute",null),e([n.Override],c.prototype,"toString",null),Su}var BC={},kD;function l7(){if(kD)return BC;kD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(BC,"__esModule",{value:!0}),BC}var jC={},BD;function u7(){if(BD)return jC;BD=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */return Object.defineProperty(jC,"__esModule",{value:!0}),jC}var jD;function c7(){return jD||(jD=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=td&&td.__createBinding||(Object.create?function(r,i,s,l){l===void 0&&(l=s),Object.defineProperty(r,l,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,l){l===void 0&&(l=s),r[l]=i[s]}),n=td&&td.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(aW(),e),n(lW(),e),n(ZW(),e),n(Yk(),e),n(zk(),e),n(XY(),e),n(TR(),e),n(kk(),e),n(jk(),e),n(iy(),e),n(vR(),e),n(NR(),e),n(gk(),e),n(IR(),e),n(ZY(),e),n(JY(),e),n(u1(),e),n(c1(),e),n(Gk(),e),n(sf(),e),n(ff(),e),n(QY(),e),n(p1(),e),n(Uk(),e),n(v1(),e),n(cy(),e),n(e7(),e),n($k(),e),n(js(),e),n(xR(),e),n(Fk(),e),n(af(),e),n(sy(),e),n(Pk(),e),n(t7(),e),n(n7(),e),n(r7(),e),n(Yn(),e),n(i7(),e),n(o7(),e),n(s7(),e),n(a7(),e),n(l7(),e),n(wh(),e),n(u7(),e)}(td)),td}var mg=c7(),qk=RR(),f7=ff(),d7=g1(),Kk=wh(),Xk=Lu();const kt=class kt extends f7.Lexer{get vocabulary(){return kt.VOCABULARY}constructor(t){super(t),this._interp=new d7.LexerATNSimulator(kt._ATN,this)}get grammarFileName(){return"Formula.g4"}get ruleNames(){return kt.ruleNames}get serializedATN(){return kt._serializedATN}get channelNames(){return kt.channelNames}get modeNames(){return kt.modeNames}action(t,n,r){switch(n){case 6:this.REF_action(t,r);break}}REF_action(t,n){}static get _ATN(){return kt.__ATN||(kt.__ATN=new qk.ATNDeserializer().deserialize(Xk.toCharArray(kt._serializedATN))),kt.__ATN}};Y(kt,"T__0",1),Y(kt,"T__1",2),Y(kt,"T__2",3),Y(kt,"REFERENCE",4),Y(kt,"REF",5),Y(kt,"REFRANGE",6),Y(kt,"BOOL",7),Y(kt,"STRING",8),Y(kt,"NUM",9),Y(kt,"FUNCNAME",10),Y(kt,"WS",11),Y(kt,"MUL",12),Y(kt,"DIV",13),Y(kt,"ADD",14),Y(kt,"SUB",15),Y(kt,"EQ",16),Y(kt,"NEQ",17),Y(kt,"LTE",18),Y(kt,"GTE",19),Y(kt,"LT",20),Y(kt,"GT",21),Y(kt,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),Y(kt,"modeNames",["DEFAULT_MODE"]),Y(kt,"ruleNames",["T__0","T__1","T__2","REFERENCE","SHEET_NAME","QUOTED_SHEET_NAME","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),Y(kt,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),Y(kt,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),Y(kt,"VOCABULARY",new Kk.VocabularyImpl(kt._LITERAL_NAMES,kt._SYMBOLIC_NAMES,[])),Y(kt,"_serializedATN",`\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r											J
\x07N
\fQ\v\x07\x07\x07U
\x07\r\x07\x07V\x07\x07\b\b\\
\b\b\b\b\ba
\b\b\b\x07\be
\b\f\b\bh\v\b				




















\v\v\x07\v
\v\f\v\v\v\v\v\v\f\f
\f\r\f\f\f\f\f
\f\r\f\f\f
\f\r\r\x07\r
\r\f\r\r\v\r
\r\x07	\v\r\x07\b	
\v\f\x1B\r!#%')+-/
C\\c|2;C\\c|))3;2;$$\x07002;C\\aac|\v\v""\x07	\x1B!#%')+-/13\x075	I\vK\rR[i\x1B!#%')+-/12\x07*234\x07+456\x07.6\b78\r\x0789\x07#9:	:J;<\r\x07<=\x07#=>\b>J?@\v@A\x07#AB	BJCD\vDE\x07#EF\bFJGJ	HJ\bI7I;I?ICIGIHJ
KO	LN	MLNQOMOPP\fQORT\x07)SU
TSUVVTVWWXXY\x07)YZ\\\x07&[Z[\\\\]]^	^\`\b\b_a\x07&\`_\`aabbf	ce	dcehfdfgghfij\bjk\x07<kl\blmn\x07Vno\x07Top\x07Wp\x07Gqr\x07Hrs\x07Cst\x07Ntu\x07Uu\x07Gvw\x07vwx\x07txy\x07wy\x07gz{\x07h{|\x07c|}\x07n}~\x07u~\x07gmqvz\x07$
\x07\x07$	\x070			\b		\b\x07,\x071 \x07-"\x07/$\x07?&\x07>\x07@(\x07>\x07?*\x07@\x07?,\x07>.\x07@0IOV[\`f\b\b`),Y(kt,"__ATN");let vg=kt;var h7=Ga(),p7=u1(),g7=v1(),m7=cy(),OR=js(),v7=ly(),zC=af(),UC=Yn();const Qe=class Qe extends m7.Parser{get vocabulary(){return Qe.VOCABULARY}get grammarFileName(){return"Formula.g4"}get ruleNames(){return Qe.ruleNames}get serializedATN(){return Qe._serializedATN}createFailedPredicateException(t,n){return new p7.FailedPredicateException(this,t,n)}constructor(t){super(t),this._interp=new v7.ParserATNSimulator(Qe._ATN,this)}formula(){let t=new y7(this._ctx,this.state);this.enterRule(t,0,Qe.RULE_formula);let n;try{this.enterOuterAlt(t,1);{this.state=7,this._errHandler.sync(this),n=this._input.LA(1);do this.state=6,this.expr(0),this.state=9,this._errHandler.sync(this),n=this._input.LA(1);while((n&-32)===0&&(1<<n&(1<<Qe.T__0|1<<Qe.REFERENCE|1<<Qe.BOOL|1<<Qe.STRING|1<<Qe.NUM|1<<Qe.FUNCNAME))!==0)}}catch(r){if(r instanceof zC.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}expr(t){t===void 0&&(t=0);let n=this._ctx,r=this.state,i=new Jn(this._ctx,r),s=i,l=2;this.enterRecursionRule(i,2,Qe.RULE_expr,t);let u;try{let c;this.enterOuterAlt(i,1);{switch(this.state=26,this._errHandler.sync(this),this._input.LA(1)){case Qe.FUNCNAME:i=new x7(i),this._ctx=i,s=i,this.state=12,this.match(Qe.FUNCNAME),this.state=13,this.match(Qe.T__0),this.state=15,this._errHandler.sync(this),u=this._input.LA(1),(u&-32)===0&&(1<<u&(1<<Qe.T__0|1<<Qe.REFERENCE|1<<Qe.BOOL|1<<Qe.STRING|1<<Qe.NUM|1<<Qe.FUNCNAME))!==0&&(this.state=14,this.args()),this.state=17,this.match(Qe.T__1);break;case Qe.NUM:i=new E7(i),this._ctx=i,s=i,this.state=18,this.match(Qe.NUM);break;case Qe.BOOL:i=new C7(i),this._ctx=i,s=i,this.state=19,this.match(Qe.BOOL);break;case Qe.STRING:i=new w7(i),this._ctx=i,s=i,this.state=20,this.match(Qe.STRING);break;case Qe.REFERENCE:i=new R7(i),this._ctx=i,s=i,this.state=21,this.match(Qe.REFERENCE);break;case Qe.T__0:i=new T7(i),this._ctx=i,s=i,this.state=22,this.match(Qe.T__0),this.state=23,this.expr(0),this.state=24,this.match(Qe.T__1);break;default:throw new g7.NoViableAltException(this)}for(this._ctx._stop=this._input.tryLT(-1),this.state=39,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,4,this._ctx);c!==2&&c!==h7.ATN.INVALID_ALT_NUMBER;){if(c===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),s=i,this.state=37,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:{if(i=new b7(new Jn(n,r)),this.pushNewRecursionContext(i,l,Qe.RULE_expr),this.state=28,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=29,i._op=this._input.LT(1),u=this._input.LA(1),u===Qe.MUL||u===Qe.DIV?(this._input.LA(1)===UC.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):i._op=this._errHandler.recoverInline(this),this.state=30,this.expr(9)}break;case 2:{if(i=new S7(new Jn(n,r)),this.pushNewRecursionContext(i,l,Qe.RULE_expr),this.state=31,!this.precpred(this._ctx,7))throw this.createFailedPredicateException("this.precpred(this._ctx, 7)");this.state=32,i._op=this._input.LT(1),u=this._input.LA(1),u===Qe.ADD||u===Qe.SUB?(this._input.LA(1)===UC.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):i._op=this._errHandler.recoverInline(this),this.state=33,this.expr(8)}break;case 3:{if(i=new A7(new Jn(n,r)),this.pushNewRecursionContext(i,l,Qe.RULE_expr),this.state=34,!this.precpred(this._ctx,6))throw this.createFailedPredicateException("this.precpred(this._ctx, 6)");this.state=35,i._op=this._input.LT(1),u=this._input.LA(1),(u&-32)===0&&(1<<u&(1<<Qe.EQ|1<<Qe.NEQ|1<<Qe.LTE|1<<Qe.GTE|1<<Qe.LT|1<<Qe.GT))!==0?(this._input.LA(1)===UC.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):i._op=this._errHandler.recoverInline(this),this.state=36,this.expr(7)}break}this.state=41,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,4,this._ctx)}}}catch(c){if(c instanceof zC.RecognitionException)i.exception=c,this._errHandler.reportError(this,c),this._errHandler.recover(this,c);else throw c}finally{this.unrollRecursionContexts(n)}return i}args(){let t=new Zk(this._ctx,this.state);this.enterRule(t,4,Qe.RULE_args);let n;try{for(this.enterOuterAlt(t,1),this.state=42,this.expr(0),this.state=47,this._errHandler.sync(this),n=this._input.LA(1);n===Qe.T__2;)this.state=43,this.match(Qe.T__2),this.state=44,this.expr(0),this.state=49,this._errHandler.sync(this),n=this._input.LA(1)}catch(r){if(r instanceof zC.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}sempred(t,n,r){switch(n){case 1:return this.expr_sempred(t,r)}return!0}expr_sempred(t,n){switch(n){case 0:return this.precpred(this._ctx,8);case 1:return this.precpred(this._ctx,7);case 2:return this.precpred(this._ctx,6)}return!0}static get _ATN(){return Qe.__ATN||(Qe.__ATN=new qk.ATNDeserializer().deserialize(Xk.toCharArray(Qe._serializedATN))),Qe.__ATN}};Y(Qe,"T__0",1),Y(Qe,"T__1",2),Y(Qe,"T__2",3),Y(Qe,"REFERENCE",4),Y(Qe,"REF",5),Y(Qe,"REFRANGE",6),Y(Qe,"BOOL",7),Y(Qe,"STRING",8),Y(Qe,"NUM",9),Y(Qe,"FUNCNAME",10),Y(Qe,"WS",11),Y(Qe,"MUL",12),Y(Qe,"DIV",13),Y(Qe,"ADD",14),Y(Qe,"SUB",15),Y(Qe,"EQ",16),Y(Qe,"NEQ",17),Y(Qe,"LTE",18),Y(Qe,"GTE",19),Y(Qe,"LT",20),Y(Qe,"GT",21),Y(Qe,"RULE_formula",0),Y(Qe,"RULE_expr",1),Y(Qe,"RULE_args",2),Y(Qe,"ruleNames",["formula","expr","args"]),Y(Qe,"_LITERAL_NAMES",[void 0,"'('","')'","','",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'*'","'/'","'+'","'-'","'='","'<>'","'<='","'>='","'<'","'>'"]),Y(Qe,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,"REFERENCE","REF","REFRANGE","BOOL","STRING","NUM","FUNCNAME","WS","MUL","DIV","ADD","SUB","EQ","NEQ","LTE","GTE","LT","GT"]),Y(Qe,"VOCABULARY",new Kk.VocabularyImpl(Qe._LITERAL_NAMES,Qe._SYMBOLIC_NAMES,[])),Y(Qe,"_serializedATN",`5			

\r\v

\x07(
\f+\v\x070
\f3\v<	,\b
	\b
\v\v	\v\f\f\r\b\x07\f\x07\x07\x07\v\x07	\x07
\x07\x07\x1B\x07\x1B\r)\f
 	 (\v!"\f	"#	#(
$%\f\b%&	&(	''!'$(+)')**+),1-.\x07.0/-031/122\x0731\b\v')1`),Y(Qe,"__ATN");let On=Qe;class y7 extends OR.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Jn):this.getRuleContext(t,Jn)}constructor(t,n){super(t,n)}get ruleIndex(){return On.RULE_formula}enterRule(t){t.enterFormula&&t.enterFormula(this)}exitRule(t){t.exitFormula&&t.exitFormula(this)}accept(t){return t.visitFormula?t.visitFormula(this):t.visitChildren(this)}}class Jn extends OR.ParserRuleContext{constructor(t,n){super(t,n)}get ruleIndex(){return On.RULE_expr}copyFrom(t){super.copyFrom(t)}}class x7 extends Jn{FUNCNAME(){return this.getToken(On.FUNCNAME,0)}args(){return this.tryGetRuleContext(0,Zk)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterFunction&&t.enterFunction(this)}exitRule(t){t.exitFunction&&t.exitFunction(this)}accept(t){return t.visitFunction?t.visitFunction(this):t.visitChildren(this)}}class b7 extends Jn{constructor(n){super(n.parent,n.invokingState);Y(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Jn):this.getRuleContext(n,Jn)}MUL(){return this.tryGetToken(On.MUL,0)}DIV(){return this.tryGetToken(On.DIV,0)}enterRule(n){n.enterMulDiv&&n.enterMulDiv(this)}exitRule(n){n.exitMulDiv&&n.exitMulDiv(this)}accept(n){return n.visitMulDiv?n.visitMulDiv(this):n.visitChildren(this)}}class S7 extends Jn{constructor(n){super(n.parent,n.invokingState);Y(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Jn):this.getRuleContext(n,Jn)}ADD(){return this.tryGetToken(On.ADD,0)}SUB(){return this.tryGetToken(On.SUB,0)}enterRule(n){n.enterAddSub&&n.enterAddSub(this)}exitRule(n){n.exitAddSub&&n.exitAddSub(this)}accept(n){return n.visitAddSub?n.visitAddSub(this):n.visitChildren(this)}}class A7 extends Jn{constructor(n){super(n.parent,n.invokingState);Y(this,"_op");this.copyFrom(n)}expr(n){return n===void 0?this.getRuleContexts(Jn):this.getRuleContext(n,Jn)}EQ(){return this.tryGetToken(On.EQ,0)}NEQ(){return this.tryGetToken(On.NEQ,0)}LT(){return this.tryGetToken(On.LT,0)}GT(){return this.tryGetToken(On.GT,0)}LTE(){return this.tryGetToken(On.LTE,0)}GTE(){return this.tryGetToken(On.GTE,0)}enterRule(n){n.enterComparison&&n.enterComparison(this)}exitRule(n){n.exitComparison&&n.exitComparison(this)}accept(n){return n.visitComparison?n.visitComparison(this):n.visitChildren(this)}}class E7 extends Jn{NUM(){return this.getToken(On.NUM,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterNumber&&t.enterNumber(this)}exitRule(t){t.exitNumber&&t.exitNumber(this)}accept(t){return t.visitNumber?t.visitNumber(this):t.visitChildren(this)}}class C7 extends Jn{BOOL(){return this.getToken(On.BOOL,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterBoolean&&t.enterBoolean(this)}exitRule(t){t.exitBoolean&&t.exitBoolean(this)}accept(t){return t.visitBoolean?t.visitBoolean(this):t.visitChildren(this)}}class w7 extends Jn{STRING(){return this.getToken(On.STRING,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterStr&&t.enterStr(this)}exitRule(t){t.exitStr&&t.exitStr(this)}accept(t){return t.visitStr?t.visitStr(this):t.visitChildren(this)}}class R7 extends Jn{REFERENCE(){return this.getToken(On.REFERENCE,0)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterReference&&t.enterReference(this)}exitRule(t){t.exitReference&&t.exitReference(this)}accept(t){return t.visitReference?t.visitReference(this):t.visitChildren(this)}}class T7 extends Jn{expr(){return this.getRuleContext(0,Jn)}constructor(t){super(t.parent,t.invokingState),this.copyFrom(t)}enterRule(t){t.enterParentheses&&t.enterParentheses(this)}exitRule(t){t.exitParentheses&&t.exitParentheses(this)}accept(t){return t.visitParentheses?t.visitParentheses(this):t.visitChildren(this)}}class Zk extends OR.ParserRuleContext{expr(t){return t===void 0?this.getRuleContexts(Jn):this.getRuleContext(t,Jn)}constructor(t,n){super(t,n)}get ruleIndex(){return On.RULE_args}enterRule(t){t.enterArgs&&t.enterArgs(this)}exitRule(t){t.exitArgs&&t.exitArgs(this)}accept(t){return t.visitArgs?t.visitArgs(this):t.visitChildren(this)}}function*zD(e){const[t,n]=e;for(let r=t.r;r<=n.r;r++)for(let i=t.c;i<=n.c;i++)yield{r,c:i}}function Pc(e,t){const[n,r]=t;return n.r<=e.r&&e.r<=r.r&&n.c<=e.c&&e.c<=r.c}function N7(e,t){const[n,r]=e,[i,s]=t;return i.r<=n.r&&r.r<=s.r&&i.c<=n.c&&r.c<=s.c}function UD(e,t){return[{r:Math.min(e.r,t.r),c:Math.min(e.c,t.c)},{r:Math.max(e.r,t.r),c:Math.max(e.c,t.c)}]}function Up(e){return[VD(e[0]),VD(e[1])]}function lS(e,t){return bv(e[0],t[0])&&bv(e[1],t[1])}function _7(e,t){const n=[];return e[0].r>t[0].r&&n.push([{r:e[0].r-1,c:e[0].c},{r:e[0].r-1,c:e[1].c}]),e[1].r<t[1].r&&n.push([{r:e[1].r+1,c:e[0].c},{r:e[1].r+1,c:e[1].c}]),e[0].c>t[0].c&&n.push([{r:e[0].r,c:e[0].c-1},{r:e[1].r,c:e[0].c-1}]),e[1].c<t[1].c&&n.push([{r:e[0].r,c:e[1].c+1},{r:e[1].r,c:e[1].c+1}]),n}function VC(e,t){const[n,r]=e,[i,s]=t;return[{r:Math.min(n.r,i.r),c:Math.min(n.c,i.c)},{r:Math.max(r.r,s.r),c:Math.max(r.c,s.c)}]}function bv(e,t){return e.r===t.r&&e.c===t.c}function VD(e){return{r:e.r,c:e.c}}function Yo(e){return e.includes(":")}function ph(e){return e.includes("!")}function Jk(e){const t=e.indexOf("!");if(t===-1)throw new Error(`Not a cross-sheet reference: ${e}`);let n=e.substring(0,t);n.startsWith("'")&&n.endsWith("'")&&(n=n.slice(1,-1));const r=e.substring(t+1);return{sheetName:n,localRef:r}}function*Os(e){for(const t of e){if(ph(t)){const{sheetName:n,localRef:r}=Jk(t);if(r.includes(":")){const i=qw(r);for(const s of zD(i))yield`${n}!${ot(s)}`}else yield t;continue}if(Yo(t)){const n=qw(t);for(const r of zD(n))yield ot(r);continue}yield t}}function ot(e){return Dv(e.c)+e.r}function I7(e){const[t,n]=e;return`${ot(t)}:${ot(n)}`}function Dv(e){let t="";for(;e>0;){const n=e%26;n===0?(t="Z"+t,e=Math.floor(e/26)-1):(t=String.fromCharCode(n+64)+t,e=Math.floor(e/26))}return t}function Pt(e){const t=e.replace(/\$/g,"");let n=0;for(let s=0;s<t.length;s++){const l=t.charCodeAt(s);if(48<=l&&l<=57){n=s;break}}if(n===0)throw new Error("Invalid Reference");const r=parseInt(t.substring(n)),i=t.substring(0,n).split("").reverse().reduce((s,l,u)=>s+Math.pow(26,u)*(l.charCodeAt(0)-65+1),0);if(isNaN(r)||isNaN(i))throw new Error("Invalid Reference");return{r,c:i}}function qw(e){const[t,n]=e.split(":");return[Pt(t),Pt(n)]}class fy{constructor(){Y(this,"ref");Y(this,"bool");Y(this,"num");Y(this,"str")}static create(){return new fy}setRef(t){return this.ref=t,this}setBool(t){return this.bool=t,this}setNum(t){return this.num=t,this}setStr(t){return this.str=t,this}map(t,n){return t.t==="bool"&&this.bool?this.bool(t):t.t==="num"&&this.num?this.num(t):t.t==="str"&&this.str?this.str(t):t.t==="ref"&&this.ref&&n?this.ref(t,n):t}*iterate(t,n,r){for(const i of t.expr()){const s=n(i);if(s.t==="ref"&&r)for(const l of Os([s.v]))yield this.ref({t:"ref",v:l},r);else yield this.map(s)}}}function O7(e){return{t:"num",v:e.v?1:0}}function D7(e){const t=Number(e);return{t:"num",v:isNaN(t)?0:t}}function M7(e,t){var i;if(Yo(e.v))return{t:"err",v:"#VALUE!"};const n=((i=t.get(e.v))==null?void 0:i.v)||"",r=Number(n);return{t:"num",v:isNaN(r)?0:r}}const Mn=fy.create().setRef(M7).setBool(O7).setStr(D7);function P7(e){return{t:"bool",v:e.v!==0}}function L7(e,t){var i;if(Yo(e.v))return{t:"err",v:"#VALUE!"};const n=((i=t.get(e.v))==null?void 0:i.v)||"";if(n==="TRUE"||n==="true")return{t:"bool",v:!0};if(n==="FALSE"||n==="false"||n==="")return{t:"bool",v:!1};const r=Number(n);return isNaN(r)?{t:"err",v:"#VALUE!"}:{t:"bool",v:r!==0}}const Fg=fy.create().setRef(L7).setNum(P7).setStr(()=>({t:"err",v:"#VALUE!"}));function F7(e){return{t:"str",v:e.v.toString()}}function k7(e){return{t:"str",v:e.v?"TRUE":"FALSE"}}function Qk(e,t){var r;return Yo(e.v)?{t:"err",v:"#VALUE!"}:{t:"str",v:((r=t.get(e.v))==null?void 0:r.v)||""}}fy.create().setRef(Qk).setNum(F7).setBool(k7);const GD=new Map([["SUM",B7],["ABS",j7],["ROUND",U7],["ROUNDUP",V7],["ROUNDDOWN",G7],["INT",$7],["MOD",H7],["SQRT",W7],["POWER",Y7],["PRODUCT",q7],["MEDIAN",K7],["IF",X7],["IFS",Z7],["SWITCH",J7],["AND",Q7],["OR",eq],["NOT",tq],["AVERAGE",nq],["MIN",rq],["MAX",iq],["COUNT",oq],["COUNTA",sq],["COUNTBLANK",aq],["COUNTIF",lq],["SUMIF",uq],["COUNTIFS",cq],["SUMIFS",fq],["TRIM",dq],["LEN",hq],["LEFT",pq],["RIGHT",gq],["MID",mq],["CONCATENATE",tB],["CONCAT",vq],["FIND",yq],["SEARCH",xq],["TEXTJOIN",bq],["LOWER",Sq],["UPPER",Aq],["PROPER",Eq],["SUBSTITUTE",Cq],["TODAY",wq],["NOW",Rq],["YEAR",Tq],["MONTH",Nq],["DAY",_q],["ISBLANK",Iq],["ISNUMBER",Oq],["ISTEXT",Dq],["IFERROR",Mq]]);function B7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0;for(const s of Mn.iterate(r,t,n)){if(s.t==="err")return s;i+=s.v}return{t:"num",v:i}}function j7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=Mn.map(t(i[0]),n);return s.t==="err"?s:{t:"num",v:Math.abs(s.v)}}function z7(e){return e>=0?Math.floor(e+.5):Math.ceil(e-.5)}function DR(e,t,n){if(!e)return{t:"num",v:0};const r=Mn.map(t(e),n);return r.t==="err"?r:{t:"num",v:Math.trunc(r.v)}}function y1(e){return e.t==="err"}function yg(e,t,n){const r=t(e);return r.t==="err"?r:r.t!=="ref"||!n?{t:"err",v:"#VALUE!"}:{t:"refs",v:Array.from(Os([r.v]))}}function eB(e){const t=Number(e);return isNaN(t)?0:t}function x1(e,t){if(e.t==="err")return e;if(e.t==="num")return{op:"=",value:e.v.toString(),numericValue:e.v};if(e.t==="bool")return{op:"=",value:e.v?"TRUE":"FALSE",boolValue:e.v};const n=ir(e,t);if(n.t==="err")return n;const r=/^(<=|>=|<>|=|<|>)(.*)$/.exec(n.v),i=(r==null?void 0:r[1])||"=",s=r?r[2]:n.v;let l,u;if(s!==""){const g=Number(s);isNaN(g)?s.toUpperCase()==="TRUE"?u=!0:s.toUpperCase()==="FALSE"&&(u=!1):l=g}let c;return(i==="="||i==="<>")&&/(^|[^~])[*?]/.test(s)&&(c=new RegExp(`^${rB(s)}$`,"i")),{op:i,value:s,numericValue:l,boolValue:u,wildcardPattern:c}}function b1(e,t){const n=e===""?void 0:Number(e),r=n!==void 0&&!isNaN(n),i=e.toUpperCase(),s=i==="TRUE"?!0:i==="FALSE"?!1:void 0,l=e.toLowerCase(),u=t.value.toLowerCase();if(t.op==="<"||t.op==="<="||t.op===">"||t.op===">=")return t.numericValue!==void 0?r?t.op==="<"?n<t.numericValue:t.op==="<="?n<=t.numericValue:t.op===">"?n>t.numericValue:n>=t.numericValue:!1:t.op==="<"?l<u:t.op==="<="?l<=u:t.op===">"?l>u:l>=u;let c=!1;return t.wildcardPattern?c=t.wildcardPattern.test(e):t.numericValue!==void 0&&r?c=n===t.numericValue:t.boolValue!==void 0&&s!==void 0?c=s===t.boolValue:c=l===u,t.op==="="?c:!c}function U7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const s=Mn.map(t(i[0]),n);if(s.t==="err")return s;const l=DR(i[1],t,n);if(l.t==="err")return l;const u=10**l.v;return{t:"num",v:z7(s.v*u)/u}}function V7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const s=Mn.map(t(i[0]),n);if(s.t==="err")return s;const l=DR(i[1],t,n);if(l.t==="err")return l;const u=10**l.v,c=s.v*u;return{t:"num",v:(c>=0?Math.ceil(c):Math.floor(c))/u}}function G7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const s=Mn.map(t(i[0]),n);if(s.t==="err")return s;const l=DR(i[1],t,n);if(l.t==="err")return l;const u=10**l.v,c=s.v*u;return{t:"num",v:(c>=0?Math.floor(c):Math.ceil(c))/u}}function $7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=Mn.map(t(i[0]),n);return s.t==="err"?s:{t:"num",v:Math.floor(s.v)}}function H7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const s=Mn.map(t(i[0]),n);if(s.t==="err")return s;const l=Mn.map(t(i[1]),n);return l.t==="err"?l:l.v===0?{t:"err",v:"#VALUE!"}:{t:"num",v:s.v-l.v*Math.floor(s.v/l.v)}}function W7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=Mn.map(t(i[0]),n);return s.t==="err"?s:s.v<0?{t:"err",v:"#VALUE!"}:{t:"num",v:Math.sqrt(s.v)}}function Y7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const s=Mn.map(t(i[0]),n);if(s.t==="err")return s;const l=Mn.map(t(i[1]),n);if(l.t==="err")return l;const u=Math.pow(s.v,l.v);return isFinite(u)?{t:"num",v:u}:{t:"err",v:"#VALUE!"}}function q7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=1;for(const s of Mn.iterate(r,t,n)){if(s.t==="err")return s;i*=s.v}return{t:"num",v:i}}function K7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=[];for(const l of Mn.iterate(r,t,n)){if(l.t==="err")return l;i.push(l.v)}if(i.length===0)return{t:"err",v:"#VALUE!"};i.sort((l,u)=>l-u);const s=Math.floor(i.length/2);return i.length%2===1?{t:"num",v:i[s]}:{t:"num",v:(i[s-1]+i[s])/2}}function X7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const s=Fg.map(t(i[0]),n);return s.t==="err"?s:s.v?t(i[1]):i.length===3?t(i[2]):{t:"bool",v:!1}}function Z7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length%2!==0)return{t:"err",v:"#N/A!"};for(let s=0;s<i.length;s+=2){const l=Fg.map(t(i[s]),n);if(l.t==="err")return l;if(l.v)return t(i[s+1])}return{t:"err",v:"#N/A!"}}function J7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);if(s.t==="err")return s;const l=i.length-1,u=l%2===1,c=u?(l-1)/2:l/2;for(let g=0;g<c;g++){const p=ir(t(i[1+g*2]),n);if(p.t==="err")return p;if(p.v===s.v)return t(i[2+g*2])}return u?t(i[i.length-1]):{t:"err",v:"#N/A!"}}function Q7(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const i of Fg.iterate(r,t,n)){if(i.t==="err")return i;if(!i.v)return{t:"bool",v:!1}}return{t:"bool",v:!0}}function eq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};for(const i of Fg.iterate(r,t,n)){if(i.t==="err")return i;if(i.v)return{t:"bool",v:!0}}return{t:"bool",v:!1}}function tq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=Fg.map(t(i[0]),n);return s.t==="err"?s:{t:"bool",v:!s.v}}function nq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0,s=0;for(const l of Mn.iterate(r,t,n)){if(l.t==="err")return l;i+=l.v,s++}return s===0?{t:"err",v:"#VALUE!"}:{t:"num",v:i/s}}function rq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=1/0;for(const s of Mn.iterate(r,t,n)){if(s.t==="err")return s;s.v<i&&(i=s.v)}return{t:"num",v:i}}function iq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=-1/0;for(const s of Mn.iterate(r,t,n)){if(s.t==="err")return s;s.v>i&&(i=s.v)}return{t:"num",v:i}}function oq(e,t,n){var s,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0;for(const u of r.expr()){const c=t(u);if(c.t==="num")i++;else if(c.t==="bool")i++;else if(c.t==="ref"&&n)if(Yo(c.v))for(const g of Os([c.v])){const p=((s=n.get(g))==null?void 0:s.v)||"";p!==""&&!isNaN(Number(p))&&i++}else{const g=((l=n.get(c.v))==null?void 0:l.v)||"";g!==""&&!isNaN(Number(g))&&i++}}return{t:"num",v:i}}function sq(e,t,n){var s,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0;for(const u of r.expr()){const c=t(u);if(c.t==="num"||c.t==="bool")i++;else if(c.t==="str")c.v!==""&&i++;else if(c.t==="ref"&&n)if(Yo(c.v))for(const g of Os([c.v]))(((s=n.get(g))==null?void 0:s.v)||"")!==""&&i++;else(((l=n.get(c.v))==null?void 0:l.v)||"")!==""&&i++}return{t:"num",v:i}}function aq(e,t,n){var s,l;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};let i=0;for(const u of r.expr()){const c=t(u);if(c.t==="str"){c.v===""&&i++;continue}if(c.t!=="ref"||!n)continue;if(Yo(c.v)){for(const p of Os([c.v]))(((s=n.get(p))==null?void 0:s.v)||"")===""&&i++;continue}(((l=n.get(c.v))==null?void 0:l.v)||"")===""&&i++}return{t:"num",v:i}}function lq(e,t,n){var c;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const s=yg(i[0],t,n);if(s.t==="err")return s;const l=x1(t(i[1]),n);if(y1(l))return l;let u=0;for(const g of s.v){const p=((c=n==null?void 0:n.get(g))==null?void 0:c.v)||"";b1(p,l)&&u++}return{t:"num",v:u}}function uq(e,t,n){var g,p;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const s=yg(i[0],t,n);if(s.t==="err")return s;const l=x1(t(i[1]),n);if(y1(l))return l;const u=i.length===3?yg(i[2],t,n):s;if(u.t==="err")return u;if(s.v.length!==u.v.length)return{t:"err",v:"#VALUE!"};let c=0;for(let m=0;m<s.v.length;m++){const x=((g=n==null?void 0:n.get(s.v[m]))==null?void 0:g.v)||"";if(!b1(x,l))continue;const b=((p=n==null?void 0:n.get(u.v[m]))==null?void 0:p.v)||"";c+=eB(b)}return{t:"num",v:c}}function cq(e,t,n){var g;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length%2!==0)return{t:"err",v:"#N/A!"};const s=[],l=[];for(let p=0;p<i.length;p+=2){const m=yg(i[p],t,n);if(m.t==="err")return m;s.push(m.v);const x=x1(t(i[p+1]),n);if(y1(x))return x;l.push(x)}const u=s[0].length;if(s.some(p=>p.length!==u))return{t:"err",v:"#VALUE!"};let c=0;for(let p=0;p<u;p++){let m=!0;for(let x=0;x<s.length;x++){const b=((g=n==null?void 0:n.get(s[x][p]))==null?void 0:g.v)||"";if(!b1(b,l[x])){m=!1;break}}m&&c++}return{t:"num",v:c}}function fq(e,t,n){var g,p;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3||(i.length-1)%2!==0)return{t:"err",v:"#N/A!"};const s=yg(i[0],t,n);if(s.t==="err")return s;const l=[],u=[];for(let m=1;m<i.length;m+=2){const x=yg(i[m],t,n);if(x.t==="err")return x;l.push(x.v);const b=x1(t(i[m+1]),n);if(y1(b))return b;u.push(b)}if(l.some(m=>m.length!==s.v.length))return{t:"err",v:"#VALUE!"};let c=0;for(let m=0;m<s.v.length;m++){let x=!0;for(let b=0;b<l.length;b++){const E=((g=n==null?void 0:n.get(l[b][m]))==null?void 0:g.v)||"";if(!b1(E,u[b])){x=!1;break}}x&&(c+=eB(((p=n==null?void 0:n.get(s.v[m]))==null?void 0:p.v)||""))}return{t:"num",v:c}}function ir(e,t){return e.t==="err"||e.t==="str"?e:e.t==="num"?{t:"str",v:e.v.toString()}:e.t==="bool"?{t:"str",v:e.v?"TRUE":"FALSE"}:e.t==="ref"&&t?Qk(e,t):{t:"err",v:"#VALUE!"}}function dq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);return s.t==="err"?s:{t:"str",v:s.v.trim()}}function hq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);return s.t==="err"?s:{t:"num",v:s.v.length}}function pq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);if(s.t==="err")return s;let l=1;if(i.length===2){const u=Mn.map(t(i[1]),n);if(u.t==="err")return u;l=u.v}return{t:"str",v:s.v.slice(0,l)}}function gq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<1||i.length>2)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);if(s.t==="err")return s;let l=1;if(i.length===2){const u=Mn.map(t(i[1]),n);if(u.t==="err")return u;l=u.v}return{t:"str",v:s.v.slice(-l)}}function mq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==3)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);if(s.t==="err")return s;const l=Mn.map(t(i[1]),n);if(l.t==="err")return l;const u=Mn.map(t(i[2]),n);if(u.t==="err")return u;const c=l.v-1;return{t:"str",v:s.v.slice(c,c+u.v)}}function tB(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2)return{t:"err",v:"#N/A!"};let s="";for(const l of i){const u=ir(t(l),n);if(u.t==="err")return u;s+=u.v}return{t:"str",v:s}}function vq(e,t,n){return tB(e,t,n)}function nB(e,t,n,r){if(!e)return{t:"num",v:1};const i=Mn.map(n(e),r);if(i.t==="err")return i;const s=Math.trunc(i.v);return s<1||s>t.length+1?{t:"err",v:"#VALUE!"}:{t:"num",v:s}}function yq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);if(s.t==="err")return s;const l=ir(t(i[1]),n);if(l.t==="err")return l;const u=nB(i[2],l.v,t,n);if(u.t==="err")return u;if(s.v==="")return{t:"num",v:u.v};const c=l.v.indexOf(s.v,u.v-1);return c<0?{t:"err",v:"#VALUE!"}:{t:"num",v:c+1}}function rB(e){let t="";for(let n=0;n<e.length;n++){const r=e[n];if(r==="~"&&n+1<e.length){t+=e[n+1].replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n++;continue}if(r==="*"){t+=".*";continue}if(r==="?"){t+=".";continue}t+=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return t}function xq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<2||i.length>3)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);if(s.t==="err")return s;const l=ir(t(i[1]),n);if(l.t==="err")return l;const u=nB(i[2],l.v,t,n);if(u.t==="err")return u;if(s.v==="")return{t:"num",v:u.v};const c=rB(s.v),g=new RegExp(c,"i"),p=l.v.slice(u.v-1),m=g.exec(p);return!m||m.index===void 0?{t:"err",v:"#VALUE!"}:{t:"num",v:u.v+m.index}}function bq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);if(s.t==="err")return s;const l=Fg.map(t(i[1]),n);if(l.t==="err")return l;const u=[];for(const c of i.slice(2)){const g=t(c);if(g.t==="ref"&&n&&Yo(g.v)){for(const m of Os([g.v])){const x=ir({t:"ref",v:m},n);if(x.t==="err")return x;l.v&&x.v===""||u.push(x.v)}continue}const p=ir(g,n);if(p.t==="err")return p;l.v&&p.v===""||u.push(p.v)}return{t:"str",v:u.join(s.v)}}function Sq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);return s.t==="err"?s:{t:"str",v:s.v.toLowerCase()}}function Aq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);return s.t==="err"?s:{t:"str",v:s.v.toUpperCase()}}function Eq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);return s.t==="err"?s:{t:"str",v:s.v.toLowerCase().replace(/\b([a-z])([a-z]*)/g,(u,c,g)=>c.toUpperCase()+g)}}function Cq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length<3||i.length>4)return{t:"err",v:"#N/A!"};const s=ir(t(i[0]),n);if(s.t==="err")return s;const l=ir(t(i[1]),n);if(l.t==="err")return l;const u=ir(t(i[2]),n);if(u.t==="err")return u;if(l.v==="")return{t:"str",v:s.v};if(i.length===3)return{t:"str",v:s.v.split(l.v).join(u.v)};const c=Mn.map(t(i[3]),n);if(c.t==="err")return c;const g=Math.trunc(c.v);if(g<=0)return{t:"err",v:"#VALUE!"};let p=0,m=0;for(;;){const x=s.v.indexOf(l.v,p);if(x<0)return{t:"str",v:s.v};if(m++,m===g)return{t:"str",v:s.v.slice(0,x)+u.v+s.v.slice(x+l.v.length)};p=x+l.v.length}}function wq(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const i=new Date,s=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),u=String(i.getDate()).padStart(2,"0");return{t:"str",v:`${s}-${l}-${u}`}}function Rq(e,t,n){const r=e.args();if(r&&r.expr().length>0)return{t:"err",v:"#N/A!"};const i=new Date,s=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),u=String(i.getDate()).padStart(2,"0"),c=String(i.getHours()).padStart(2,"0"),g=String(i.getMinutes()).padStart(2,"0"),p=String(i.getSeconds()).padStart(2,"0");return{t:"str",v:`${s}-${l}-${u} ${c}:${g}:${p}`}}function MR(e,t){const n=ir(e,t);if(n.t==="err")return n;const r=new Date(n.v);return isNaN(r.getTime())?{t:"err",v:"#VALUE!"}:r}function Tq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=MR(t(i[0]),n);return s instanceof Date?{t:"num",v:s.getFullYear()}:s}function Nq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=MR(t(i[0]),n);return s instanceof Date?{t:"num",v:s.getMonth()+1}:s}function _q(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=MR(t(i[0]),n);return s instanceof Date?{t:"num",v:s.getDate()}:s}function Iq(e,t,n){var u;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=t(i[0]);return s.t==="err"?s:s.t!=="ref"||!n?{t:"bool",v:!1}:Yo(s.v)?{t:"err",v:"#VALUE!"}:{t:"bool",v:(((u=n.get(s.v))==null?void 0:u.v)||"")===""}}function Oq(e,t,n){var g;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=t(i[0]);if(s.t==="err")return s;if(s.t==="num")return{t:"bool",v:!0};if(s.t!=="ref"||!n)return{t:"bool",v:!1};if(Yo(s.v))return{t:"err",v:"#VALUE!"};const l=((g=n.get(s.v))==null?void 0:g.v)||"",u=l.toUpperCase();return{t:"bool",v:l!==""&&!(u==="TRUE"||u==="FALSE")&&!isNaN(Number(l))}}function Dq(e,t,n){var p;const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==1)return{t:"err",v:"#N/A!"};const s=t(i[0]);if(s.t==="err")return s;if(s.t==="str")return{t:"bool",v:!0};if(s.t!=="ref"||!n)return{t:"bool",v:!1};if(Yo(s.v))return{t:"err",v:"#VALUE!"};const l=((p=n.get(s.v))==null?void 0:p.v)||"";if(l==="")return{t:"bool",v:!1};const u=l.toUpperCase(),c=u==="TRUE"||u==="FALSE",g=!isNaN(Number(l));return{t:"bool",v:!c&&!g}}function Mq(e,t,n){const r=e.args();if(!r)return{t:"err",v:"#N/A!"};const i=r.expr();if(i.length!==2)return{t:"err",v:"#N/A!"};const s=t(i[0]);return s.t==="err"?t(i[1]):s}function Sv(e){const t=mg.CharStreams.fromString(e.slice(1)),n=new vg(t),r=new mg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const i=new Set;for(const s of r.getTokens())s.type===On.REFERENCE&&i.add(s.text.toUpperCase());return i}function df(e){const t=mg.CharStreams.fromString(e.slice(1)),n=new vg(t),r=new mg.CommonTokenStream(n);n.removeErrorListeners(),r.fill();const i=[];for(const u of r.getTokens())u.type!=vg.EOF&&i.push({type:n.vocabulary.getSymbolicName(u.type)||"STRING",start:u.startIndex,stop:u.stopIndex,text:u.text});const s=[];let l;for(const u of i)!l&&u.start>0?s.push({type:"STRING",start:0,stop:u.start-1,text:e.slice(1,u.start+1)}):l&&l.stop+1!==u.start&&s.push({type:"STRING",start:l.stop+1,stop:u.start-1,text:e.slice(l.stop+2,u.start+1)}),s.push(u),l=u;return l&&l.stop+2<e.length&&s.push({type:"STRING",start:l.stop+1,stop:e.length-1,text:e.slice(l.stop+2)}),s}function av(e){const t=df(e),n=[];for(const r of t)if(r.type==="REFERENCE")try{const i=r.text.toUpperCase();if(ph(i))continue;if(i.includes(":"))n.push({text:i,range:qw(i)});else{const s=Pt(i);n.push({text:i,range:[s,s]})}}catch{}return n}function Pq(e,t){if(!e.startsWith("=")||t<=0)return!1;if(t===1)return!0;const n=df(e);for(const u of n){const c=u.start+1,g=u.stop+2;if(u.type==="REFERENCE"&&t>=c&&t<=g)return!0}const i=e.slice(0,t).trimEnd();if(i.length===0)return!1;const s=i[i.length-1];return new Set(["=","(",",","+","-","*","/","<",">",":"]).has(s)}function $D(e,t){if(!e.startsWith("="))return;const n=df(e);for(const r of n){if(r.type!=="REFERENCE")continue;const i=r.start+1,s=r.stop+2;if(t>=i&&t<=s)return{start:i,end:s,text:r.text}}}function Lq(e,t){var n;try{const r=mg.CharStreams.fromString(e.slice(1)),i=new vg(r),s=new mg.CommonTokenStream(i),l=new On(s),u=l.expr(),c=new Fq(t);i.removeErrorListeners(),l.removeErrorListeners();const g=c.visit(u);return g.t==="ref"&&t?Yo(g.v)?"#VALUE!":((n=t.get(g.v))==null?void 0:n.v)||"":g.v.toString()}catch{return"#ERROR!"}}class Fq{constructor(t){Y(this,"grid");this.visit=this.visit.bind(this),this.grid=t}visitChildren(){throw new Error("Method not implemented.")}visitTerminal(){throw new Error("Method not implemented.")}visitErrorNode(){throw new Error("Method not implemented.")}visitFormula(){throw new Error("Method not implemented.")}visitExpr(){throw new Error("Method not implemented.")}visitArgs(){throw new Error("Method not implemented.")}visit(t){return t.accept(this)}visitFunction(t){const n=t.FUNCNAME().text.toUpperCase();if(GD.has(n))return GD.get(n)(t,this.visit,this.grid);throw new Error("Function not implemented.")}visitReference(t){return this.grid?{t:"ref",v:t.text.toUpperCase()}:{t:"err",v:"#REF!"}}visitParentheses(t){return this.visit(t.expr())}visitNumber(t){return{t:"num",v:Number(t.text)}}visitBoolean(t){return{t:"bool",v:t.text==="TRUE"||t.text==="true"}}visitAddSub(t){const n=Mn.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=Mn.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===On.ADD?{t:"num",v:n.v+r.v}:{t:"num",v:n.v-r.v}}visitMulDiv(t){const n=Mn.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=Mn.map(this.visit(t.expr(1)),this.grid);return r.t==="err"?r:t._op.type===On.MUL?{t:"num",v:n.v*r.v}:{t:"num",v:n.v/r.v}}visitComparison(t){const n=Mn.map(this.visit(t.expr(0)),this.grid);if(n.t==="err")return n;const r=Mn.map(this.visit(t.expr(1)),this.grid);if(r.t==="err")return r;switch(t._op.type){case On.EQ:return{t:"bool",v:n.v===r.v};case On.NEQ:return{t:"bool",v:n.v!==r.v};case On.LT:return{t:"bool",v:n.v<r.v};case On.GT:return{t:"bool",v:n.v>r.v};case On.LTE:return{t:"bool",v:n.v<=r.v};case On.GTE:return{t:"bool",v:n.v>=r.v};default:return{t:"err",v:"#ERROR!"}}}visitStr(t){return{t:"str",v:t.text.slice(1,-1)}}}function nf(e,t,n,r){const i=t+n;return r<=t?e>=t&&e<i?r+(e-t):e>=r&&e<t?e+n:e:e>=t&&e<i?r-n+(e-t):e>=i&&e<r?e-n:e}function Kc(e,t,n,r,i){return t==="row"?{r:nf(e.r,n,r,i),c:e.c}:{r:e.r,c:nf(e.c,n,r,i)}}function iB(e,t,n,r,i){const s=df(e);let l="=";for(const u of s)if(u.type==="REFERENCE"){const c=u.text;if(c.includes("!"))l+=c;else if(c.includes(":")){const[g,p]=c.split(":"),m=Pt(g.toUpperCase()),x=Pt(p.toUpperCase()),b=Kc(m,t,n,r,i),E=Kc(x,t,n,r,i);l+=ot(b)+":"+ot(E)}else{const g=Pt(c.toUpperCase()),p=Kc(g,t,n,r,i);l+=ot(p)}}else l+=u.text;return l}function kq(e,t,n,r,i){const s=new Map;for(const[l,u]of e){const c=Pt(l),g=Kc(c,t,n,r,i),p=ot(g);let m;u.f?m={...u,f:iB(u.f,t,n,r,i)}:m={...u},s.set(p,m)}return s}function Hp(e,t,n,r){const i=new Map;for(const[s,l]of e)i.set(nf(s,t,n,r),l);return i}function HD(e,t,n){const r=df(e);let i="=";for(const s of r)if(s.type==="REFERENCE"){const l=s.text;if(l.includes("!"))i+=l;else if(l.includes(":")){const[u,c]=l.split(":"),g=Pt(u.toUpperCase()),p=Pt(c.toUpperCase()),m={r:g.r+t,c:g.c+n},x={r:p.r+t,c:p.c+n};m.r<1||m.c<1||x.r<1||x.c<1?i+="#REF!":i+=ot(m)+":"+ot(x)}else{const u=Pt(l.toUpperCase()),c={r:u.r+t,c:u.c+n};c.r<1||c.c<1?i+="#REF!":i+=ot(c)}}else i+=s.text;return i}function uS(e,t,n,r){const i=t==="row"?e.r:e.c;if(r>0)return i>=n?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e;const s=Math.abs(r);return i>=n&&i<n+s?null:i>=n+s?t==="row"?{r:e.r+r,c:e.c}:{r:e.r,c:e.c+r}:e}function oB(e,t,n,r){const i=Pt(e),s=uS(i,t,n,r);return s?ot(s):null}function sB(e,t,n,r){const i=df(e);let s="=";for(const l of i)if(l.type==="REFERENCE"){const u=l.text;if(u.includes("!"))s+=u;else if(u.includes(":")){const[c,g]=u.split(":"),p=Pt(c.toUpperCase()),m=Pt(g.toUpperCase()),x=uS(p,t,n,r),b=uS(m,t,n,r);!x||!b?s+="#REF!":s+=ot(x)+":"+ot(b)}else{const c=Pt(u.toUpperCase()),g=uS(c,t,n,r);g?s+=ot(g):s+="#REF!"}}else s+=l.text;return s}function Wp(e,t,n){const r=new Map;for(const[i,s]of e)if(n>0)i>=t?r.set(i+n,s):r.set(i,s);else{const l=Math.abs(n);i>=t&&i<t+l||(i>=t+l?r.set(i+n,s):r.set(i,s))}return r}function Bq(e,t,n,r){const i=new Map;for(const[s,l]of e){const u=oB(s,t,n,r);if(u===null)continue;let c;l.f?c={...l,f:sB(l.f,t,n,r)}:c={...l},i.set(u,c)}return i}function Bb(e,t){return[{r:e.r,c:e.c},{r:e.r+t.rs-1,c:e.c+t.cs-1}]}function WD(e,t,n,r){if(r>0)return n<=e?[e+r,t+r]:n<=t?[e,t+r]:[e,t];const i=Math.abs(r),s=n,l=n+i-1;if(l<e)return[e+r,t+r];if(s>t)return[e,t];const u=Math.max(e,s),g=Math.min(t,l)-u+1,p=t-e+1-g;return p<=0?null:s<=e?[s,s+p-1]:[e,e+p-1]}function jq(e,t,n,r,i){const s=WD(e.r,e.r+t.rs-1,n==="row"?r:Number.NEGATIVE_INFINITY,n==="row"?i:0);if(!s)return null;const l=WD(e.c,e.c+t.cs-1,n==="column"?r:Number.NEGATIVE_INFINITY,n==="column"?i:0);if(!l)return null;const[u,c]=s,[g,p]=l,m=c-u+1,x=p-g+1;return m<=1&&x<=1?null:{anchor:{r:u,c:g},span:{rs:m,cs:x}}}function zq(e,t,n,r,i,s){const l=n==="row"?e.r+t.rs-1:e.c+t.cs-1,u=n==="row"?e.r:e.c,c=nf(u,r,i,s),g=nf(l,r,i,s),p=Math.min(c,g),x=Math.max(c,g)-p+1;if(n==="row"){const w=x,C=t.cs;return w<=1&&C<=1?null:{anchor:{r:p,c:e.c},span:{rs:w,cs:C}}}const b=t.rs,E=x;return b<=1&&E<=1?null:{anchor:{r:e.r,c:p},span:{rs:b,cs:E}}}function PR(e,t,n,r){const i=new Map;for(const[s,l]of e){const u=Pt(s),c=jq(u,l,t,n,r);c&&i.set(ot(c.anchor),c.span)}return i}function LR(e,t,n,r,i){const s=new Map;for(const[l,u]of e){const c=Pt(l),g=zq(c,u,t,n,r,i);g&&s.set(ot(g.anchor),g.span)}return s}function Uq(e,t,n,r,i){const s=n==="row"?e.r:e.c,l=n==="row"?e.r+t.rs-1:e.c+t.cs-1,u=r+i-1;return l<r||s>u?!1:!(s>=r&&l<=u)}class YD{constructor(t){Y(this,"customSizes");Y(this,"defaultSize");this.defaultSize=t,this.customSizes=new Map}getSize(t){return this.customSizes.get(t)??this.defaultSize}setSize(t,n){n===this.defaultSize?this.customSizes.delete(t):this.customSizes.set(t,n)}getDefaultSize(){return this.defaultSize}getOffset(t){let n=(t-1)*this.defaultSize;for(const[r,i]of this.customSizes)r<t&&(n+=i-this.defaultSize);return n}findIndex(t){if(t<0)return 1;if(this.customSizes.size===0)return Math.floor(t/this.defaultSize)+1;const n=Array.from(this.customSizes.entries()).sort((s,l)=>s[0]-l[0]);let r=0,i=0;for(const[s,l]of n){const u=s-1-i,c=r+u*this.defaultSize;if(t<c)return i+Math.floor((t-r)/this.defaultSize)+1;if(r=c,t<r+l)return s;r+=l,i=s}return i+Math.floor((t-r)/this.defaultSize)+1}shift(t,n){const r=new Map;for(const[i,s]of this.customSizes)if(n>0)i>=t?r.set(i+n,s):r.set(i,s);else{const l=Math.abs(n);i>=t&&i<t+l||(i>=t+l?r.set(i+n,s):r.set(i,s))}this.customSizes=r}move(t,n,r){const i=new Map;for(const[s,l]of this.customSizes)i.set(nf(s,t,n,r),l);this.customSizes=i}clear(){this.customSizes.clear()}hasCustomSizes(){return this.customSizes.size>0}}class FR{constructor(){Y(this,"rowIndex",new Map);Y(this,"colIndex",new Map)}add(t,n){let r=this.rowIndex.get(t);r||(r=new Set,this.rowIndex.set(t,r)),r.add(n);let i=this.colIndex.get(n);i||(i=new Set,this.colIndex.set(n,i)),i.add(t)}remove(t,n){const r=this.rowIndex.get(t);r&&(r.delete(n),r.size===0&&this.rowIndex.delete(t));const i=this.colIndex.get(n);i&&(i.delete(t),i.size===0&&this.colIndex.delete(n))}has(t,n){const r=this.rowIndex.get(t);return r!==void 0&&r.has(n)}clear(){this.rowIndex.clear(),this.colIndex.clear()}rebuild(t){this.clear();for(const[n,r]of t)this.add(n,r)}*cellsInRange(t){const[n,r]=t;for(const[i,s]of this.rowIndex)if(!(i<n.r||i>r.r))for(const l of s)l>=n.c&&l<=r.c&&(yield[i,l])}hasAnyInRange(t){return!this.cellsInRange(t).next().done}getOccupiedColsInRow(t){return this.rowIndex.get(t)}getOccupiedRowsInCol(t){return this.colIndex.get(t)}get size(){let t=0;for(const n of this.rowIndex.values())t+=n.size;return t}}function kR(e,t,n,r,i){const s=n==="left"||n==="right",l=n==="down"||n==="right",u=s?t.c:t.r,c=s?r[0].c:r[0].r,g=s?r[1].c:r[1].r,p=s?e.getOccupiedColsInRow(t.r):e.getOccupiedRowsInCol(t.c);let m;if(p&&i){const R=new Set;for(const T of p){const _=s?t.r:T,D=s?T:t.c;i(_,D)&&R.add(T)}m=R.size>0?R:void 0}else m=p;if(!m||m.size===0)return qD(t,n,r);const x=Array.from(m).sort((R,T)=>R-T);l||x.reverse();const b=l?x.filter(R=>R>u):x.filter(R=>R<u),E=m.has(u),w=l?u+1:u-1,C=Pc(s?{r:t.r,c:w}:{r:w,c:t.c},r)&&m.has(w);if(E&&C){let R=u,T=w;for(;(l?T<=g:T>=c)&&m.has(T);)R=T,T=l?T+1:T-1;return s?{r:t.r,c:R}:{r:R,c:t.c}}if(b.length>0){const R=b[0];return s?{r:t.r,c:R}:{r:R,c:t.c}}return qD(t,n,r)}function qD(e,t,n){switch(t){case"up":return{r:n[0].r,c:e.c};case"down":return{r:n[1].r,c:e.c};case"left":return{r:e.r,c:n[0].c};case"right":return{r:e.r,c:n[1].c}}}class Vq{constructor(){Y(this,"grid",new Map);Y(this,"cellIndex",new FR)}loadQueryResults(t,n){this.grid.clear();for(let r=0;r<t.length;r++){const i=ot({r:1,c:r+1});this.grid.set(i,{v:t[r].name,s:{b:!0}})}for(let r=0;r<n.length;r++){const i=n[r];for(let s=0;s<t.length;s++){const l=i[t[s].name];if(l==null)continue;const u=ot({r:r+2,c:s+1});this.grid.set(u,{v:String(l)})}}this.rebuildIndex()}async set(t,n){}async get(t){return this.grid.get(ot(t))}async has(t){return this.grid.has(ot(t))}async delete(t){return!1}async deleteRange(t){return new Set}async setGrid(t){}async getGrid(t){const n=new Map;for(const[r,i]of this.cellIndex.cellsInRange(t)){const s=ot({r,c:i}),l=this.grid.get(s);l!==void 0&&n.set(s,l)}return n}async findEdge(t,n,r){return kR(this.cellIndex,t,n,r,(i,s)=>{const l=this.grid.get(ot({r:i,c:s}));return l!==void 0&&(!!l.v||!!l.f)})}async shiftCells(t,n,r){}async moveCells(t,n,r,i){}async buildDependantsMap(t){return new Map}async getFormulaGrid(){return new Map}getPresences(){return[]}updateActiveCell(t){}async setDimensionSize(t,n,r){}async getDimensionSizes(t){return new Map}async setColumnStyle(t,n){}async getColumnStyles(){return new Map}async setRowStyle(t,n){}async getRowStyles(){return new Map}async setSheetStyle(t){}async getSheetStyle(){}async setMerge(t,n){}async deleteMerge(t){return!1}async getMerges(){return new Map}async setFreezePane(t,n){}async getFreezePane(){return{frozenRows:0,frozenCols:0}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=Pt(t);return[n.r,n.c]}))}}async function Au(e,t,n){const[r,i]=Gq(t,n);for(const s of r){const l=Pt(s);if(!await e.hasFormula(l))continue;const u=await e.getCell(l);if(i.has(s)){await e.setCell(l,{v:"#REF!",f:u.f,s:u.s});continue}const c=Sv(u.f),g=await e.fetchGridByReferences(c),p=await Lq(u.f,g);await e.setCell(l,{v:p,f:u.f,s:u.s})}}function Gq(e,t){const n=[],r=new Set,i=new Set,s=new Set,l=u=>{if(s.has(u))for(const c of s)r.add(c);if(s.add(u),!i.has(u)){if(i.add(u),e.has(u))for(const c of e.get(u))l(c);n.push(u)}s.delete(u)};for(const u of t)l(u);return[n.reverse(),r]}function $q(e){let t=1/0,n=1/0,r=0,i=0;for(const[l]of e.entries()){const{r:u,c}=Pt(l);t=Math.min(t,u),n=Math.min(n,c),r=Math.max(r,u),i=Math.max(i,c)}const s=Array.from({length:r-t+1},()=>Array(i-n+1).fill(""));for(const[l,u]of e.entries()){const{r:c,c:g}=Pt(l);s[c-t][g-n]=u.v||u.f||""}return s.map(l=>l.join("	")).join(`
`)}function Hq(e,t){let n=e.r,r=e.c;const i=new Map,s=t.split(`
`);for(const l of s){const u=l.split("	");for(const c of u)i.set(ot({r:n,c:r}),{v:c}),r+=1;n+=1,r=e.c}return i}function KD(e){const t=e.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);if(!t)return;const n=parseInt(t[1],10),r=parseInt(t[2],10),i=parseInt(t[3],10);if(!(n===255&&r===255&&i===255))return"#"+n.toString(16).padStart(2,"0")+r.toString(16).padStart(2,"0")+i.toString(16).padStart(2,"0")}function Wq(e){return e.includes("google-sheets-html-origin")||e.includes("data-sheets-value")||e.includes("urn:schemas-microsoft-com:office:excel")||e.includes('xmlns:x="urn:schemas-microsoft-com:office:excel"')}function Yq(e,t){const i=new DOMParser().parseFromString(e,"text/html").querySelector("table");if(!i)return new Map;const s=new Map,l=i.querySelectorAll("tr");for(let u=0;u<l.length;u++){const c=l[u].querySelectorAll("td, th");for(let g=0;g<c.length;g++){const p=c[g],m=p.textContent||"";if(!m&&!p.style.cssText)continue;const x={v:m},b={};let E=!1;const w=p.style.fontWeight;if((w==="bold"||w==="700")&&(b.b=!0,E=!0),p.style.fontStyle==="italic"&&(b.i=!0,E=!0),p.style.backgroundColor){const C=KD(p.style.backgroundColor);C&&(b.bg=C,E=!0)}if(p.style.color){const C=KD(p.style.color);C&&(b.tc=C,E=!0)}if(p.style.textAlign){const C=p.style.textAlign;(C==="left"||C==="center"||C==="right")&&(b.al=C,E=!0)}E&&(x.s=b),s.set(ot({r:t.r+u,c:t.c+g}),x)}}return s}const BR="en-US",XD="USD",qq=new Set(["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"]),Kq={AE:"AED",AR:"ARS",AU:"AUD",BD:"BDT",BR:"BRL",CA:"CAD",CH:"CHF",CL:"CLP",CN:"CNY",CO:"COP",CZ:"CZK",DK:"DKK",EG:"EGP",GB:"GBP",HK:"HKD",HU:"HUF",ID:"IDR",IL:"ILS",IN:"INR",JP:"JPY",KE:"KES",KR:"KRW",KW:"KWD",MX:"MXN",MY:"MYR",NG:"NGN",NO:"NOK",NZ:"NZD",PE:"PEN",PH:"PHP",PK:"PKR",PL:"PLN",QA:"QAR",RO:"RON",RU:"RUB",SA:"SAR",SE:"SEK",SG:"SGD",TH:"THB",TR:"TRY",TW:"TWD",UA:"UAH",US:"USD",VN:"VND",ZA:"ZAR"},ZD=new Map;function jR(e){return e&&e.trim()?e.trim():typeof navigator<"u"&&navigator.language?navigator.language:Intl.DateTimeFormat().resolvedOptions().locale||BR}function Xq(e){const[t]=e.replace(/_/g,"-").split("-u-"),n=t.split("-").filter(Boolean);for(let r=1;r<n.length;r++){const i=n[r];if(/^[a-z]{2}$/i.test(i))return i.toUpperCase()}try{const r=new Intl.Locale(e).maximize().region;if(r)return r.toUpperCase()}catch{}}function GC(e,t,n){try{return new Intl.NumberFormat(t,n).format(e)}catch{return new Intl.NumberFormat(BR,n).format(e)}}function Zq(e,t){try{return new Intl.DateTimeFormat(t,{dateStyle:"medium"}).format(e)}catch{return new Intl.DateTimeFormat(BR,{year:"numeric",month:"short",day:"numeric"}).format(e)}}function Jq(){return jR()}function aB(e){const t=jR(e),n=ZD.get(t);if(n)return n;const r=Xq(t);let i=XD;return r&&(i=qq.has(r)?"EUR":Kq[r]??XD),ZD.set(t,i),i}function JD(e){const t=jR(e),n=aB(t);return{locale:t,currency:n,number:GC(1234.56,t,{minimumFractionDigits:2,maximumFractionDigits:2}),currencyValue:GC(1234.56,t,{style:"currency",currency:n,minimumFractionDigits:2,maximumFractionDigits:2}),percent:GC(.1234,t,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:Zq(new Date(2026,1,18),t)}}function $C(e,t,n){try{return e.toLocaleString(t,n)}catch{return e.toLocaleString("en-US",n)}}function Qq(e){const t=e.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(t){const r=Number(t[1]),i=Number(t[2]),s=Number(t[3]),l=new Date(r,i-1,s);return l.getFullYear()===r&&l.getMonth()===i-1&&l.getDate()===s?l:void 0}const n=new Date(e);if(!isNaN(n.getTime()))return n}function eK(e,t){const n=Qq(e);if(!n)return e;try{return new Intl.DateTimeFormat(t,{dateStyle:"medium"}).format(n)}catch{return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(n)}}function Kw(e,t,n,r){if(!t||t==="plain"||e==="")return e;const i=n??2,s=Jq(),l=aB(s);switch(t){case"number":{const u=Number(e);return isNaN(u)?e:$C(u,s,{minimumFractionDigits:i,maximumFractionDigits:i})}case"currency":{const u=Number(e);return isNaN(u)?e:$C(u,s,{style:"currency",currency:l,minimumFractionDigits:i,maximumFractionDigits:i})}case"percent":{const u=Number(e);return isNaN(u)?e:$C(u/100,s,{style:"percent",minimumFractionDigits:i,maximumFractionDigits:i})}case"date":return eK(e,s);default:return e}}const tK={rows:1e6,columns:18278},nK={b:!1,i:!1,u:!1,st:!1,al:"left",va:"top",nf:"plain",dp:2};class rK{constructor(t){Y(this,"store");Y(this,"dimension");Y(this,"activeCell");Y(this,"range");Y(this,"selectionType","cell");Y(this,"rowDimensions");Y(this,"colDimensions");Y(this,"frozenRows",0);Y(this,"frozenCols",0);Y(this,"colStyles",new Map);Y(this,"rowStyles",new Map);Y(this,"sheetStyle");Y(this,"merges",new Map);Y(this,"mergeCoverMap",new Map);Y(this,"copyBuffer");Y(this,"gridResolver");this.store=t,this.dimension={...tK},this.activeCell={r:1,c:1}}get dimensionRange(){return[{r:1,c:1},{r:this.dimension.rows,c:this.dimension.columns}]}getDimension(){return this.dimension}setDimensions(t,n){this.rowDimensions=t,this.colDimensions=n}getRowDimensions(){return this.rowDimensions}getColDimensions(){return this.colDimensions}setRowHeight(t,n){var r;(r=this.rowDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("row",t,n)}setColumnWidth(t,n){var r;(r=this.colDimensions)==null||r.setSize(t,n),this.store.setDimensionSize("column",t,n)}async loadDimensions(){if(this.rowDimensions){this.rowDimensions.clear();const t=await this.store.getDimensionSizes("row");for(const[n,r]of t)this.rowDimensions.setSize(n,r)}if(this.colDimensions){this.colDimensions.clear();const t=await this.store.getDimensionSizes("column");for(const[n,r]of t)this.colDimensions.setSize(n,r)}}getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n,await this.store.setFreezePane(t,n)}async loadFreezePane(){const{frozenRows:t,frozenCols:n}=await this.store.getFreezePane();this.frozenRows=t,this.frozenCols=n}async loadStyles(){this.colStyles=await this.store.getColumnStyles(),this.rowStyles=await this.store.getRowStyles(),this.sheetStyle=await this.store.getSheetStyle()}async loadMerges(){this.merges=await this.store.getMerges(),this.rebuildMergeCoverMap()}getColStyles(){return this.colStyles}getRowStyles(){return this.rowStyles}getSheetStyle(){return this.sheetStyle}getMerges(){return this.merges}rebuildMergeCoverMap(){this.mergeCoverMap.clear();for(const[t,n]of this.merges){const r=Pt(t);for(let i=r.r;i<r.r+n.rs;i++)for(let s=r.c;s<r.c+n.cs;s++){const l=ot({r:i,c:s});l!==t&&this.mergeCoverMap.set(l,t)}}}getAnchorSrefForRef(t){const n=ot(t);return this.merges.has(n)?n:this.mergeCoverMap.get(n)||n}normalizeRefToAnchor(t){return Pt(this.getAnchorSrefForRef(t))}getMergeForRef(t){const n=this.getAnchorSrefForRef(t),r=this.merges.get(n);if(!r)return;const i=Pt(n);return{anchorSref:n,anchor:i,span:r,range:Bb(i,r)}}expandRangeToMergedBoundaries(t){let n=Up(t),r=!0;for(;r;){r=!1;for(const[i,s]of this.merges){const l=Bb(Pt(i),s);if(!Pc(l[0],n)&&!Pc(l[1],n)&&!(l[0].r<=n[1].r&&l[1].r>=n[0].r&&l[0].c<=n[1].c&&l[1].c>=n[0].c))continue;const u=VC(n,l);lS(u,n)||(n=u,r=!0)}}return n}*mergeCoveredSrefs(t,n){for(let r=t.r;r<t.r+n.rs;r++)for(let i=t.c;i<t.c+n.cs;i++)yield ot({r,c:i})}expandChangedSrefsWithMergeAliases(t){const n=new Set;for(const r of t){const i=this.getAnchorSrefForRef(Pt(r)),s=this.merges.get(i);if(!s){n.add(r);continue}const l=Pt(i);for(const u of this.mergeCoveredSrefs(l,s))n.add(u)}return n}getMergesIntersecting(t){const n=[];for(const[r,i]of this.merges){const s=Pt(r),l=Bb(s,i);l[0].r<=t[1].r&&l[1].r>=t[0].r&&l[0].c<=t[1].c&&l[1].c>=t[0].c&&n.push({anchorSref:r,anchor:s,span:i,range:l})}return n}resolveEffectiveStyle(t,n,r){const i=this.sheetStyle,s=this.colStyles.get(n),l=this.rowStyles.get(t);if(!(!i&&!s&&!l&&!r))return{...i,...s,...l,...r}}async getCell(t){return this.store.get(this.normalizeRefToAnchor(t))}async setCell(t,n){await this.store.set(this.normalizeRefToAnchor(t),n)}async setGrid(t){await this.store.setGrid(t)}async hasFormula(t){const n=await this.getCell(t);return!!(n&&n.f)}async toInputString(t){const n=await this.getCell(t);return n?n.f?n.f:n.v||"":""}async toDisplayString(t){const n=this.normalizeRefToAnchor(t),r=await this.store.get(n);if(!r||!r.v)return"";const i=this.resolveEffectiveStyle(n.r,n.c,r.s);return Kw(r.v,i==null?void 0:i.nf,i==null?void 0:i.dp)}async setData(t,n){const r=this.normalizeRefToAnchor(t);this.store.beginBatch();try{const i=await this.store.get(r),s=n.startsWith("=")?{f:n}:{v:n},l=i!=null&&i.s?{...s,s:i.s}:s;this.isEmptyCell(l)?await this.store.delete(r):await this.store.set(r,l);const u=this.expandChangedSrefsWithMergeAliases([ot(r)]),c=await this.store.buildDependantsMap(u);await Au(this,c,u)}finally{this.store.endBatch()}}async removeData(){this.store.beginBatch();try{const t=this.getRangeOrActiveCell(),n=await this.store.getGrid(t),r=new Set;for(const[l,u]of n){const c=Pt(l);u.s&&Object.keys(u.s).length>0?await this.store.set(c,{s:u.s}):await this.store.delete(c),r.add(l)}if(r.size===0)return!1;const i=this.expandChangedSrefsWithMergeAliases(r),s=await this.store.buildDependantsMap(i);return await Au(this,s,i),!0}finally{this.store.endBatch()}}async insertRows(t,n=1){await this.shiftCells("row",t,n)}async deleteRows(t,n=1){await this.shiftCells("row",t,-n)}async insertColumns(t,n=1){await this.shiftCells("column",t,n)}async deleteColumns(t,n=1){await this.shiftCells("column",t,-n)}async moveRows(t,n,r){await this.moveCells("row",t,n,r)}async moveColumns(t,n,r){await this.moveCells("column",t,n,r)}async shiftCells(t,n,r){var s,l;await this.store.shiftCells(t,n,r),t==="row"?((s=this.rowDimensions)==null||s.shift(n,r),this.rowStyles=Wp(this.rowStyles,n,r)):((l=this.colDimensions)==null||l.shift(n,r),this.colStyles=Wp(this.colStyles,n,r)),this.merges=PR(this.merges,t,n,r),this.rebuildMergeCoverMap();const i=t==="row"?this.activeCell.r:this.activeCell.c;if(r>0&&i>=n)t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r};else if(r<0){const u=Math.abs(r);i>=n&&i<n+u?t==="row"?this.activeCell={r:Math.max(1,n),c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:Math.max(1,n)}:i>=n+u&&(t==="row"?this.activeCell={r:this.activeCell.r+r,c:this.activeCell.c}:this.activeCell={r:this.activeCell.r,c:this.activeCell.c+r})}this.activeCell=this.normalizeRefToAnchor(this.activeCell),this.store.beginBatch();try{const u=t==="row"?this.frozenRows:this.frozenCols;if(u>0){if(r>0&&n<=u){const m=u+r;t==="row"?this.frozenRows=m:this.frozenCols=m,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}else if(r<0){const m=Math.abs(r);if(n<=u){const x=Math.min(m,u-n+1),b=Math.max(0,u-x);t==="row"?this.frozenRows=b:this.frozenCols=b,await this.store.setFreezePane(this.frozenRows,this.frozenCols)}}}const c=new Set,g=[{r:1,c:1},{r:1e3,c:100}],p=await this.store.getGrid(g);for(const[m,x]of p)x.f&&c.add(m);if(c.size>0){const m=await this.store.buildDependantsMap(c);await Au(this,m,c)}}finally{this.store.endBatch()}}async moveCells(t,n,r,i){var s,l;if(!(i>=n&&i<=n+r)){for(const[u,c]of this.merges){const g=Pt(u);if(Uq(g,c,t,n,r))return}await this.store.moveCells(t,n,r,i),t==="row"?((s=this.rowDimensions)==null||s.move(n,r,i),this.rowStyles=Hp(this.rowStyles,n,r,i)):((l=this.colDimensions)==null||l.move(n,r,i),this.colStyles=Hp(this.colStyles,n,r,i)),this.merges=LR(this.merges,t,n,r,i),this.rebuildMergeCoverMap(),this.activeCell=this.normalizeRefToAnchor(Kc(this.activeCell,t,n,r,i)),this.range&&(this.range=this.expandRangeToMergedBoundaries([Kc(this.range[0],t,n,r,i),Kc(this.range[1],t,n,r,i)])),this.store.beginBatch();try{const u=new Set,c=[{r:1,c:1},{r:1e3,c:100}],g=await this.store.getGrid(c);for(const[p,m]of g)m.f&&u.add(p);if(u.size>0){const p=await this.store.buildDependantsMap(u);await Au(this,p,u)}}finally{this.store.endBatch()}}}async fetchGrid(t){return this.store.getGrid(t)}isEmptyCell(t){const n=t.v!==void 0&&t.v!==""&&t.v!==null,r=!!t.f,i=t.s!==void 0&&Object.keys(t.s).length>0;return!n&&!r&&!i}isDefaultStyleValue(t,n){return nK[t]===n}compactCell(t,n){const r={};return t.v!==void 0&&(r.v=t.v),t.f!==void 0&&(r.f=t.f),n&&Object.keys(n).length>0&&(r.s=n),r}getCopyRange(){var t;return(t=this.copyBuffer)==null?void 0:t.sourceRange}clearCopyBuffer(){this.copyBuffer=void 0}async copy(){const t=this.getRangeOrActiveCell(),n=await this.fetchGrid(t),r=$q(n);return this.copyBuffer={sourceRange:t,grid:n,text:r},{text:r}}async paste(t){const{text:n,html:r}=t;let i;if(this.copyBuffer&&n===this.copyBuffer.text)i=this.relocateGrid(this.copyBuffer.grid,this.copyBuffer.sourceRange,this.activeCell);else if(r&&Wq(r))i=Yq(r,this.activeCell);else if(n)i=Hq(this.activeCell,n);else return;this.store.beginBatch();try{await this.setGrid(i);const s=new Set;for(const[l]of i)s.add(l);if(s.size>0){const l=this.expandChangedSrefsWithMergeAliases(s),u=await this.store.buildDependantsMap(l);await Au(this,u,l)}}finally{this.store.endBatch()}this.selectPastedRange(i)}selectPastedRange(t){if(t.size===0)return;let n=1/0,r=-1/0,i=1/0,s=-1/0;for(const l of t.keys()){const u=Pt(l);u.r<n&&(n=u.r),u.r>r&&(r=u.r),u.c<i&&(i=u.c),u.c>s&&(s=u.c)}n===r&&i===s?this.selectStart({r:n,c:i}):(this.selectionType="cell",this.activeCell={r:n,c:i},this.range=[{r:n,c:i},{r,c:s}],this.store.updateActiveCell(this.activeCell))}relocateGrid(t,n,r){const i=r.r-n[0].r,s=r.c-n[0].c,l=new Map;for(const[u,c]of t){const g=Pt(u),p={r:g.r+i,c:g.c+s},m=ot(p);if(c.f){const x=HD(c.f,i,s);l.set(m,{f:x,s:c.s})}else l.set(m,{...c})}return l}computeAutofillRange(t,n){if(!Pc(n,t))return VC(t,[n,n])}getAutofillPreviewRange(t){if(this.selectionType!=="cell")return;const n=this.getRangeOrActiveCell();return this.computeAutofillRange(n,t)}positiveMod(t,n){return(t%n+n)%n}cloneCellForAutofill(t,n,r){if(t.f){const s=HD(t.f,n,r);return t.s?{f:s,s:{...t.s}}:{f:s}}const i={};return t.v!==void 0&&(i.v=t.v),t.s&&(i.s={...t.s}),i}async autofill(t){if(this.selectionType!=="cell")return!1;const n=Up(this.getRangeOrActiveCell()),r=this.computeAutofillRange(n,t);if(!r||this.getMergesIntersecting(r).length>0)return!1;const i=await this.store.getGrid(n),s=n[1].r-n[0].r+1,l=n[1].c-n[0].c+1,u=new Set;this.store.beginBatch();try{for(let c=r[0].r;c<=r[1].r;c++)for(let g=r[0].c;g<=r[1].c;g++){const p={r:c,c:g};if(Pc(p,n))continue;const m={r:n[0].r+this.positiveMod(p.r-n[0].r,s),c:n[0].c+this.positiveMod(p.c-n[0].c,l)},x=i.get(ot(m)),b=this.normalizeRefToAnchor(p),E=ot(b);if(!x){await this.store.delete(b),u.add(E);continue}const w=p.r-m.r,C=p.c-m.c,R=this.cloneCellForAutofill(x,w,C);this.isEmptyCell(R)?await this.store.delete(b):await this.store.set(b,R),u.add(E)}if(u.size>0){const c=this.expandChangedSrefsWithMergeAliases(u),g=await this.store.buildDependantsMap(c);await Au(this,g,c)}}finally{this.store.endBatch()}return u.size===0?!1:(this.selectionType="cell",this.range=r,!0)}async hasContents(t){return(await this.store.getGrid(t)).size>0}async fetchGridByReferences(t){const n=new Map,r=new Map;for(const i of Os(t))if(ph(i)){const{sheetName:s,localRef:l}=Jk(i);r.has(s.toUpperCase())||r.set(s.toUpperCase(),new Set),r.get(s.toUpperCase()).add(l)}else{const s=this.normalizeRefToAnchor(Pt(i)),l=await this.store.get(s);l&&n.set(i,l)}if(this.gridResolver&&r.size>0)for(const[i,s]of r){const l=this.gridResolver(i,s);if(l)for(const[u,c]of l)n.set(`${i}!${u}`,c)}return n}setGridResolver(t){this.gridResolver=t}async recalculateCrossSheetFormulas(){const t=await this.store.getFormulaGrid(),n=new Set;for(const[r]of t)n.add(r);if(n.size!==0){this.store.beginBatch();try{const r=await this.store.buildDependantsMap(n);await Au(this,r,n)}finally{this.store.endBatch()}}}getActiveCell(){return this.activeCell}setActiveCell(t){const n=this.normalizeRefToAnchor(t);this.activeCell=n,this.store.updateActiveCell(n)}getRange(){return this.range}getPresences(){return this.store.getPresences()}getRangeOrActiveCell(){if(this.range)return this.expandRangeToMergedBoundaries(this.range);const t=this.getMergeForRef(this.activeCell);return t?t.range:[this.activeCell,this.activeCell]}getSelectionType(){return this.selectionType}selectRow(t){this.selectionType="row",this.activeCell={r:t,c:1},this.range=[{r:t,c:1},{r:t,c:this.dimension.columns}],this.store.updateActiveCell(this.activeCell)}selectColumn(t){this.selectionType="column",this.activeCell={r:1,c:t},this.range=[{r:1,c:t},{r:this.dimension.rows,c:t}],this.store.updateActiveCell(this.activeCell)}selectRowRange(t,n){this.selectionType="row";const r=Math.min(t,n),i=Math.max(t,n);this.range=[{r,c:1},{r:i,c:this.dimension.columns}]}selectColumnRange(t,n){this.selectionType="column";const r=Math.min(t,n),i=Math.max(t,n);this.range=[{r:1,c:r},{r:this.dimension.rows,c:i}]}selectAllCells(){this.selectionType="all",this.activeCell={r:1,c:1},this.range=Up(this.dimensionRange),this.store.updateActiveCell(this.activeCell)}getSelectedIndices(){return this.selectionType==="cell"||this.selectionType==="all"||!this.range?null:this.selectionType==="row"?{axis:"row",from:this.range[0].r,to:this.range[1].r}:{axis:"column",from:this.range[0].c,to:this.range[1].c}}selectStart(t){Pc(t,this.dimensionRange)&&(this.selectionType="cell",this.setActiveCell(this.normalizeRefToAnchor(t)),this.range=void 0)}selectEnd(t){if(!Pc(t,this.dimensionRange))return;const n=this.normalizeRefToAnchor(t);if(bv(this.activeCell,n)){this.range=void 0;return}this.range=this.expandRangeToMergedBoundaries(UD(this.activeCell,n))}hasRange(){return!!this.range}async selectAll(){let t=this.getRangeOrActiveCell(),n=Up(t),r=!0;for(;r;){r=!1;for(const i of _7(n,this.dimensionRange))await this.hasContents(i)&&(n=VC(n,i),r=!0)}if(lS(t,n)){this.range=Up(this.dimensionRange);return}this.range=n}async moveToEdge(t){const n=this.getMergeForRef(this.activeCell),r={...this.activeCell};n&&(t==="right"?r.c=n.range[1].c:t==="down"&&(r.r=n.range[1].r));const i=await this.store.findEdge(r,t,this.dimensionRange),s=this.normalizeRefToAnchor(i);return bv(this.activeCell,s)?!1:(this.range=void 0,this.setActiveCell(s),!0)}move(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let i=this.activeCell.r,s=this.activeCell.c;const l=this.getMergeForRef(this.activeCell);if(l?t==="right"?s=l.range[1].c+1:t==="down"?i=l.range[1].r+1:t==="left"?s-=1:i-=1:(i+=n,s+=r),!Pc({r:i,c:s},this.dimensionRange))return!1;const u=this.normalizeRefToAnchor({r:i,c:s});return bv(this.activeCell,u)?!1:(this.range=void 0,this.setActiveCell(u),!0)}resizeRange(t){const n=t==="up"?-1:t==="down"?1:0,r=t==="left"?-1:t==="right"?1:0;let i=Up(this.getRangeOrActiveCell());return this.activeCell.r===i[1].r?i[0].r+=n:i[1].r+=n,this.activeCell.c===i[1].c?i[0].c+=r:i[1].c+=r,i=UD(i[0],i[1]),N7(i,this.dimensionRange)?(this.range=this.expandRangeToMergedBoundaries(i),!0):!1}async getStyle(t){const n=this.normalizeRefToAnchor(t),r=await this.store.get(n);return this.resolveEffectiveStyle(n.r,n.c,r==null?void 0:r.s)}async setStyle(t,n){const r=this.normalizeRefToAnchor(t),i=await this.store.get(r)||{},s={...i.s,...n},l=this.resolveEffectiveStyle(r.r,r.c);for(const c of Object.keys(s))(s[c]===void 0||s[c]==="")&&delete s[c];for(const c of Object.keys(s)){const g=s[c];if(g===(l==null?void 0:l[c])){delete s[c];continue}(l==null?void 0:l[c])===void 0&&this.isDefaultStyleValue(c,g)&&delete s[c]}const u=this.compactCell(i,Object.keys(s).length>0?s:void 0);if(this.isEmptyCell(u)){await this.store.delete(r);return}await this.store.set(r,u)}async setRangeStyle(t){this.store.beginBatch();try{if(this.selectionType==="column"){const r=this.getRangeOrActiveCell();for(let i=r[0].c;i<=r[1].c;i++){const l={...this.colStyles.get(i)||{},...t};for(const u of Object.keys(l))!l[u]&&l[u]!==0&&delete l[u];this.colStyles.set(i,l),await this.store.setColumnStyle(i,l)}return}if(this.selectionType==="row"){const r=this.getRangeOrActiveCell();for(let i=r[0].r;i<=r[1].r;i++){const l={...this.rowStyles.get(i)||{},...t};for(const u of Object.keys(l))!l[u]&&l[u]!==0&&delete l[u];this.rowStyles.set(i,l),await this.store.setRowStyle(i,l)}return}if(this.selectionType==="all"){const i={...this.sheetStyle||{},...t};for(const s of Object.keys(i))!i[s]&&i[s]!==0&&delete i[s];this.sheetStyle=i,await this.store.setSheetStyle(i);return}const n=this.getRangeOrActiveCell();for(let r=n[0].r;r<=n[1].r;r++)for(let i=n[0].c;i<=n[1].c;i++)await this.setStyle({r,c:i},t)}finally{this.store.endBatch()}}async toggleRangeStyle(t){const n=await this.getStyle(this.activeCell),r=!(n!=null&&n[t]);await this.setRangeStyle({[t]:r})}isSelectionMerged(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell(),n=this.getMergesIntersecting(t);return n.length===1&&lS(n[0].range,t)}canMergeSelection(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell();if(t[0].r===t[1].r&&t[0].c===t[1].c)return!1;const r=this.frozenRows>0&&t[0].r<=this.frozenRows&&t[1].r>this.frozenRows,i=this.frozenCols>0&&t[0].c<=this.frozenCols&&t[1].c>this.frozenCols;return r||i?!1:this.getMergesIntersecting(t).length===0}async toggleMergeSelection(){return this.isSelectionMerged()?this.unmergeSelection():this.mergeSelection()}async mergeSelection(){if(!this.canMergeSelection())return!1;const t=this.getRangeOrActiveCell(),n=t[0],r={rs:t[1].r-t[0].r+1,cs:t[1].c-t[0].c+1},i=new Set;for(const s of this.mergeCoveredSrefs(n,r))i.add(s);this.store.beginBatch();try{for(let u=t[0].r;u<=t[1].r;u++)for(let c=t[0].c;c<=t[1].c;c++){if(u===n.r&&c===n.c)continue;const g={r:u,c},p=await this.store.get(g);p&&(p.s&&Object.keys(p.s).length>0?await this.store.set(g,{s:p.s}):await this.store.delete(g))}await this.store.setMerge(n,r),this.merges.set(ot(n),r),this.rebuildMergeCoverMap();const s=this.expandChangedSrefsWithMergeAliases(i),l=await this.store.buildDependantsMap(s);await Au(this,l,s)}finally{this.store.endBatch()}return this.selectionType="cell",this.setActiveCell(n),this.range=Bb(n,r),!0}async unmergeSelection(){if(this.selectionType!=="cell")return!1;const t=this.getRangeOrActiveCell(),n=this.getMergesIntersecting(t);if(n.length===0)return!1;const r=new Set;for(const i of n)for(const s of this.mergeCoveredSrefs(i.anchor,i.span))r.add(s);this.store.beginBatch();try{for(const l of n)await this.store.deleteMerge(l.anchor),this.merges.delete(l.anchorSref);this.rebuildMergeCoverMap();const i=this.expandChangedSrefsWithMergeAliases(r),s=await this.store.buildDependantsMap(i);await Au(this,s,i)}finally{this.store.endBatch()}return this.selectionType="cell",this.range=void 0,!0}async getActiveDecimalPlaces(){const t=await this.getStyle(this.activeCell);return(t==null?void 0:t.dp)??2}async undo(){const t=await this.store.undo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadMerges(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}async redo(){const t=await this.store.redo();if(t.success&&(await this.loadDimensions(),await this.loadStyles(),await this.loadMerges(),await this.loadFreezePane(),t.affectedRange)){const[n,r]=t.affectedRange;this.selectionType="cell",this.activeCell=n,n.r===r.r&&n.c===r.c?this.range=void 0:this.range=t.affectedRange,this.store.updateActiveCell(this.activeCell)}return t.success}moveInRange(t,n){const r=this.range||this.dimensionRange;let i=this.activeCell.r,s=this.activeCell.c;const l=this.getMergeForRef(this.activeCell),u=r[1].r-r[0].r+1,c=r[1].c-r[0].c+1;if(t!==0){const g=t>0?l?l.span.rs:t:t<0?-1:0;i+g>r[1].r?(i=r[0].r,s=(s+1-r[0].c+c)%c+r[0].c):i+g<r[0].r?(i=r[1].r,s=(s-1-r[0].c+c)%c+r[0].c):i+=g}if(n!==0){const g=n>0?l?l.span.cs:n:n<0?-1:0;s+g>r[1].c?(s=r[0].c,i=(i+1-r[0].r+u)%u+r[0].r):s+g<r[0].c?(s=r[1].c,i=(i-1-r[0].r+u)%u+r[0].r):s+=g}this.setActiveCell(this.normalizeRefToAnchor({r:i,c:s}))}}class iK{constructor(t){Y(this,"grid");Y(this,"cellIndex",new FR);Y(this,"rowHeights",new Map);Y(this,"colWidths",new Map);Y(this,"colStyles",new Map);Y(this,"rowStyles",new Map);Y(this,"sheetStyle");Y(this,"merges",new Map);Y(this,"frozenRows",0);Y(this,"frozenCols",0);this.grid=t||new Map,this.rebuildIndex()}async set(t,n){this.grid.set(ot(t),n),this.cellIndex.add(t.r,t.c)}async get(t){return this.grid.get(ot(t))}async has(t){return this.grid.has(ot(t))}async delete(t){const n=this.grid.delete(ot(t));return n&&this.cellIndex.remove(t.r,t.c),n}async deleteRange(t){const n=new Set,r=[];for(const[i,s]of this.cellIndex.cellsInRange(t)){const l=ot({r:i,c:s});this.grid.delete(l),n.add(l),r.push([i,s])}for(const[i,s]of r)this.cellIndex.remove(i,s);return n}async setGrid(t){for(const[n,r]of t){this.grid.set(n,r);const i=Pt(n);this.cellIndex.add(i.r,i.c)}}async getGrid(t){const n=new Map;for(const[r,i]of this.cellIndex.cellsInRange(t)){const s=ot({r,c:i}),l=this.grid.get(s);l!==void 0&&n.set(s,l)}return n}async findEdge(t,n,r){return kR(this.cellIndex,t,n,r,(i,s)=>{const l=this.grid.get(ot({r:i,c:s}));return l!==void 0&&(!!l.v||!!l.f)})}async shiftCells(t,n,r){this.grid=Bq(this.grid,t,n,r),this.rebuildIndex(),t==="row"?(this.rowHeights=Wp(this.rowHeights,n,r),this.rowStyles=Wp(this.rowStyles,n,r)):(this.colWidths=Wp(this.colWidths,n,r),this.colStyles=Wp(this.colStyles,n,r)),this.merges=PR(this.merges,t,n,r)}async moveCells(t,n,r,i){this.grid=kq(this.grid,t,n,r,i),this.rebuildIndex(),t==="row"?(this.rowHeights=Hp(this.rowHeights,n,r,i),this.rowStyles=Hp(this.rowStyles,n,r,i)):(this.colWidths=Hp(this.colWidths,n,r,i),this.colStyles=Hp(this.colStyles,n,r,i)),this.merges=LR(this.merges,t,n,r,i)}async getFormulaGrid(){const t=new Map;for(const[n,r]of this.grid)r.f&&t.set(n,r);return t}async buildDependantsMap(t){const n=Array.from(this.grid.entries()),r=new Map;for(const[i,s]of n)if(s.f)for(const l of Os(Sv(s.f)))ph(l)||(r.has(l)||r.set(l,new Set),r.get(l).add(i));return r}getPresences(){return[]}async setDimensionSize(t,n,r){(t==="row"?this.rowHeights:this.colWidths).set(n,r)}async getDimensionSizes(t){return new Map(t==="row"?this.rowHeights:this.colWidths)}updateActiveCell(t){}async setColumnStyle(t,n){this.colStyles.set(t,n)}async getColumnStyles(){return new Map(this.colStyles)}async setRowStyle(t,n){this.rowStyles.set(t,n)}async getRowStyles(){return new Map(this.rowStyles)}async setSheetStyle(t){this.sheetStyle=t}async getSheetStyle(){return this.sheetStyle?{...this.sheetStyle}:void 0}async setMerge(t,n){this.merges.set(ot(t),{...n})}async deleteMerge(t){return this.merges.delete(ot(t))}async getMerges(){return new Map(this.merges)}async setFreezePane(t,n){this.frozenRows=t,this.frozenCols=n}async getFreezePane(){return{frozenRows:this.frozenRows,frozenCols:this.frozenCols}}beginBatch(){}endBatch(){}async undo(){return{success:!1}}async redo(){return{success:!1}}canUndo(){return!1}canRedo(){return!1}rebuildIndex(){this.cellIndex.rebuild(Array.from(this.grid.keys()).map(t=>{const n=Pt(t);return[n.r,n.c]}))}}const oK={cellBorderColor:"#D3D3D3",cellBGColor:"#FFFFFF",cellTextColor:"#000000",activeCellColor:"#E6C746",selectionBGColor:"rgba(230, 199, 70, 0.1)",headerBGColor:"#F0F0F0",headerActiveBGColor:"#E6C746","tokens.REFERENCE":"#E6C746","tokens.NUM":"#4DA6FF",peerCursor1:"#FF6B6B",peerCursor2:"#4ECDC4",peerCursor3:"#45B7D1",peerCursor4:"#96CEB4",peerCursor5:"#FFEAA7",peerCursor6:"#DDA0DD",peerCursor7:"#98D8C8",peerCursor8:"#F7DC6F",resizeHandleColor:"#1A73E8",headerSelectedBGColor:"rgba(26, 115, 232, 0.3)",dropIndicatorColor:"#1A73E8",freezeLineColor:"#BBBBBB",freezeHandleColor:"#9E9E9E",freezeHandleHoverColor:"#5F6368",formulaRange1:"#1A73E8",formulaRange2:"#E84C3D",formulaRange3:"#9B59B6",formulaRange4:"#27AE60",formulaRange5:"#F39C12",formulaRange6:"#00ACC1"},sK={cellBorderColor:"#4A4A4A",cellBGColor:"#1E1E1E",cellTextColor:"#FFFFFF",activeCellColor:"#D4B73E",selectionBGColor:"rgba(212, 183, 62, 0.1)",headerBGColor:"#2D2D2D",headerActiveBGColor:"#D4B73E","tokens.REFERENCE":"#D4B73E","tokens.NUM":"#4DA6FF",peerCursor1:"#FF7979",peerCursor2:"#55EFC4",peerCursor3:"#74B9FF",peerCursor4:"#A4D4C4",peerCursor5:"#FDCB6E",peerCursor6:"#E17055",peerCursor7:"#81ECEC",peerCursor8:"#F8D84F",resizeHandleColor:"#8AB4F8",headerSelectedBGColor:"rgba(138, 180, 248, 0.3)",dropIndicatorColor:"#8AB4F8",freezeLineColor:"#5A5A5A",freezeHandleColor:"#8E8E8E",freezeHandleHoverColor:"#CCCCCC",formulaRange1:"#8AB4F8",formulaRange2:"#FF7979",formulaRange3:"#BB86FC",formulaRange4:"#66BB6A",formulaRange5:"#FFB74D",formulaRange6:"#4DD0E1"};function Zt(e,t){return e==="light"?oK[t]:sK[t]}const QD=["formulaRange1","formulaRange2","formulaRange3","formulaRange4","formulaRange5","formulaRange6"];function RS(e,t){return Zt(e,QD[t%QD.length])}function e3(e,t){const n=["peerCursor1","peerCursor2","peerCursor3","peerCursor4","peerCursor5","peerCursor6","peerCursor7","peerCursor8"];let r=0;for(let s=0;s<t.length;s++){const l=t.charCodeAt(s);r=(r<<5)-r+l,r=r&r}const i=Math.abs(r)%n.length;return Zt(e,n[i])}function wu(e){const t=window.getSelection();if(t.rangeCount===0)return;const n=t.getRangeAt(0);if(!e.contains(n.commonAncestorContainer))return;let r=0,i=0,s=0;function l(u){if(u.nodeType===Node.TEXT_NODE){const c=u.textContent;u===n.startContainer&&(i=r+n.startOffset),u===n.endContainer&&(s=r+n.endOffset),r+=c.length}for(const c of u.childNodes)l(c)}return l(e),{start:i,end:s}}function Fc(e,t){let n=0,r=null,i=null;const s=document.createRange();function l(c){if(c.nodeType===Node.TEXT_NODE){const g=c.textContent;r===null&&n+g.length>=t.start&&(r=c,s.setStart(c,t.start-n)),i===null&&n+g.length>=t.end&&(i=c,s.setEnd(c,t.end-n)),n+=g.length}for(const g of c.childNodes)l(g)}l(e);const u=window.getSelection();u.removeAllRanges(),u.addRange(s),e.focus()}function lB(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#039;"),e=e.replace(/\n/g,"<br>"),e=e.replace(/ /g,"&nbsp;"),e}const uB=23,cB=10;class aK{constructor(t="light"){Y(this,"sheet");Y(this,"theme");Y(this,"container");Y(this,"cellLabel");Y(this,"formulaInput");Y(this,"boundRenderInput");this.theme=t,this.container=document.createElement("div"),this.container.style.height=`${uB}px`,this.container.style.margin=`${cB}px 0px`,this.container.style.display="flex",this.container.style.alignItems="center",this.container.style.borderTop=`1px solid ${Zt(this.theme,"cellBorderColor")}`,this.container.style.borderBottom=`1px solid ${Zt(this.theme,"cellBorderColor")}`,this.container.style.justifyContent="flex-start",this.cellLabel=document.createElement("div"),this.cellLabel.style.width="120px",this.cellLabel.style.textAlign="center",this.cellLabel.style.font="12px Arial",this.cellLabel.style.borderRight=`1px solid ${Zt(this.theme,"cellBorderColor")}`,this.container.appendChild(this.cellLabel),this.formulaInput=document.createElement("div"),this.formulaInput.contentEditable="true",this.formulaInput.style.margin="0 20px",this.formulaInput.style.width="100%",this.formulaInput.style.height="12px",this.formulaInput.style.border="none",this.formulaInput.style.font="12px Arial",this.formulaInput.style.outline="none",this.formulaInput.style.overflow="hidden",this.formulaInput.style.whiteSpace="nowrap",this.formulaInput.style.lineHeight="12px",this.container.appendChild(this.formulaInput),this.boundRenderInput=this.renderInput.bind(this),this.formulaInput.addEventListener("input",this.boundRenderInput)}getContainer(){return this.container}initialize(t){this.sheet=t}cleanup(){this.formulaInput.removeEventListener("input",this.boundRenderInput),this.sheet=void 0,this.container.remove()}async render(){if(!this.sheet)return;const t=this.sheet.getActiveCell(),n=this.sheet.getSelectionType(),r=this.sheet.getSelectedIndices();let i;if(n==="row"&&r)i=`${r.from}:${r.to}`;else if(n==="column"&&r){const s=Dv(r.from),l=Dv(r.to);i=`${s}:${l}`}else{const s=this.sheet.getRange();i=s?I7(s):ot(t)}this.cellLabel.textContent=i,this.formulaInput.innerText=await this.sheet.toInputString(t),this.renderInput()}getFormulaInput(){return this.formulaInput}getValue(){return this.formulaInput.innerText}setValue(t){this.formulaInput.innerText=t,this.renderInput()}focus(){this.formulaInput.focus()}blur(){this.formulaInput.blur()}isFocused(){return document.activeElement===this.formulaInput}renderInput(){const t=this.formulaInput.innerText;if(!t.startsWith("="))return;const n=df(t),r=[];let i=0;for(const l of n){if(l.type==="REFERENCE"){r.push(`<span style="color: ${RS(this.theme,i)}">${l.text}</span>`),i++;continue}if(l.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${l.text}</span>`);continue}r.push(lB(l.text))}const s=wu(this.formulaInput);this.formulaInput.innerHTML="="+r.join(""),s&&Fc(this.formulaInput,s)}getThemeColor(t){return Zt(this.theme,t)}}const Ma=100,et=23,it=50,kc=13,TS=1.5,jb=4,Xw=5,HC=.5,lK="center",fB=4,uK=10;function Bn(e,t={left:0,top:0},n,r){const i=r?r.getOffset(e.c):(e.c-1)*Ma,s=n?n.getOffset(e.r):(e.r-1)*et,l=r?r.getSize(e.c):Ma,u=n?n.getSize(e.r):et;return{left:i+it-t.left,top:s+et-t.top,width:l,height:u}}function Vp(e,t){const n=Math.min(e.left,t.left),r=Math.min(e.top,t.top),i=Math.max(e.left+e.width,t.left+t.width),s=Math.max(e.top+e.height,t.top+t.height);return{left:n,top:r,width:i-n,height:s-r}}const oh={frozenRows:0,frozenCols:0,frozenWidth:0,frozenHeight:0};function cK(e,t,n,r){return e===0&&t===0?oh:{frozenRows:e,frozenCols:t,frozenWidth:t>0?r.getOffset(t+1):0,frozenHeight:e>0?n.getOffset(e+1):0}}function fK(e,t,n,r){const i=n?n.findIndex(t-et):Math.floor(t/et),s=r?r.findIndex(e-it):Math.floor((e+it)/Ma);return{r:i,c:s}}function dK(e,t,n,r,i,s){const l=s.frozenCols>0&&e<it+s.frozenWidth,u=s.frozenRows>0&&t<et+s.frozenHeight,c=l?e-it:e-it-s.frozenWidth+i.getOffset(s.frozenCols+1)+n.left,g=u?t-et:t-et-s.frozenHeight+r.getOffset(s.frozenRows+1)+n.top,p=i.findIndex(c),m=r.findIndex(g);return{r:Math.max(1,m),c:Math.max(1,p)}}function Yp(e,t,n,r,i){const s=r.getOffset(e.c),l=n.getOffset(e.r),u=r.getSize(e.c),c=n.getSize(e.r),g=i.frozenCols>0&&e.c<=i.frozenCols,p=i.frozenRows>0&&e.r<=i.frozenRows,m=g?s+it:s+it-t.left-r.getOffset(i.frozenCols+1)+i.frozenWidth,x=p?l+et:l+et-t.top-n.getOffset(i.frozenRows+1)+i.frozenHeight;return{left:m,top:x,width:u,height:c}}class hK{constructor(t="light"){Y(this,"container");Y(this,"input");Y(this,"theme");Y(this,"boundHandleInput");Y(this,"minWidth",Ma);Y(this,"minHeight",et);Y(this,"maxWidth",1/0);Y(this,"maxHeight",1/0);Y(this,"composing",!1);this.theme=t,this.container=document.createElement("div"),this.container.style.position="absolute",this.container.style.left="-1000px",this.container.style.width=Ma+"px",this.container.style.height=et+"px",this.container.style.zIndex="1",this.container.style.margin="0px",this.container.style.pointerEvents="none",this.input=document.createElement("div"),this.input.contentEditable="true",this.input.style.border="none",this.input.style.outline=`2px solid ${this.getThemeColor("activeCellColor")}`,this.input.style.fontFamily="Arial, sans-serif",this.input.style.fontSize=kc+"px",this.input.style.fontWeight="normal",this.input.style.lineHeight=String(TS),this.input.style.color=this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=this.getThemeColor("cellBGColor"),this.input.style.whiteSpace="pre",this.input.style.overflow="hidden",this.container.appendChild(this.input),this.boundHandleInput=this.handleInput.bind(this),this.input.addEventListener("input",this.boundHandleInput),this.input.addEventListener("compositionstart",()=>{this.composing=!0}),this.input.addEventListener("compositionend",()=>{this.composing=!1,this.adjustSize()})}cleanup(){this.input.removeEventListener("input",this.boundHandleInput),this.container.remove()}getContainer(){return this.container}getInput(){return this.input}show(t,n,r="",i=!0,s,l,u,c){this.minWidth=s??Ma,this.minHeight=l??et,this.maxWidth=u??1/0,this.maxHeight=c??1/0,this.container.style.left=t+"px",this.container.style.top=n+"px",this.container.style.pointerEvents="auto",this.input.innerText=r,this.renderInput(),this.adjustSize(),i&&(Fc(this.input,{start:this.input.innerText.length,end:this.input.innerText.length}),this.input.focus())}hide(){this.container.style.left="-1000px",this.container.style.pointerEvents="none",this.input.innerText="",this.input.blur()}isShown(){return this.container.style.left!=="-1000px"}isFocused(){return document.activeElement===this.input}getValue(){return this.input.innerText}setValue(t){this.input.innerText=t,this.renderInput(),this.adjustSize()}hasFormula(){return this.input.innerText.startsWith("=")}applyStyle(t){this.input.style.fontWeight=t!=null&&t.b?"bold":"normal",this.input.style.fontStyle=t!=null&&t.i?"italic":"normal";const n=[];t!=null&&t.u&&n.push("underline"),t!=null&&t.st&&n.push("line-through"),this.input.style.textDecoration=n.length?n.join(" "):"none",this.input.style.color=(t==null?void 0:t.tc)||this.getThemeColor("cellTextColor"),this.input.style.backgroundColor=(t==null?void 0:t.bg)||this.getThemeColor("cellBGColor"),this.input.style.textAlign=(t==null?void 0:t.al)||"left";const r=(t==null?void 0:t.va)||"top";this.container.style.display="flex",this.container.style.alignItems=r==="middle"?"center":r==="bottom"?"flex-end":"flex-start"}handleInput(){this.renderInput(),this.composing||this.adjustSize()}adjustSize(){this.input.style.width=this.minWidth+"px",this.input.style.height=this.minHeight+"px";const t=Math.min(Math.max(this.minWidth,this.input.scrollWidth),this.maxWidth),n=Math.min(Math.max(this.minHeight,this.input.scrollHeight),this.maxHeight);this.container.style.width=t+"px",this.container.style.height=n+"px",this.input.style.width=t+"px",this.input.style.height=n+"px",this.input.style.overflowY=this.input.scrollHeight>this.maxHeight?"auto":"hidden"}renderInput(){const t=this.input.innerText;if(!t.startsWith("="))return;const n=df(t),r=[];let i=0;for(const l of n){if(l.type==="REFERENCE"){r.push(`<span style="color: ${RS(this.theme,i)}">${l.text}</span>`),i++;continue}if(l.type==="NUM"){r.push(`<span style="color: ${this.getThemeColor("tokens.NUM")}">${l.text}</span>`);continue}r.push(lB(l.text))}const s=wu(this.input);this.input.innerHTML="="+r.join(""),s&&Fc(this.input,s)}getThemeColor(t){return Zt(this.theme,t)}}class pK{constructor(t="light"){Y(this,"canvas");Y(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="1",this.canvas.style.pointerEvents="none"}cleanup(){this.canvas.remove()}getContainer(){return this.canvas}render(t,n,r,i,s,l,u,c,g,p,m,x=oh,b,E,w,C=!0,R){this.canvas.width=0,this.canvas.height=0;const T=this.canvas.getContext("2d"),_=window.devicePixelRatio||1;this.canvas.width=t.width*_,this.canvas.height=t.height*_,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",T.scale(_,_);const D=x.frozenRows>0||x.frozenCols>0,F=this.buildMergeRenderData(R),B=s?[s[0],s[1]]:[r,r];if(!D)this.renderActiveCellSimple(T,r,n,l,u,F),this.renderSelectionSimple(T,t,n,s,g,l,u),this.renderPeerCursorsSimple(T,t,i,n,l,u,F),this.renderFormulaRangesSimple(T,m,n,l,u),this.renderCopyRangeSimple(T,E,n,l,u);else{const j=this.buildQuadrants(t,n,x,l,u);this.renderSelectionFrozen(T,t,n,s,g,l,u,x,j);for(const k of j){T.save(),T.beginPath(),T.rect(k.x,k.y,k.width,k.height),T.clip();const $=this.toCellRect(r,{left:k.scrollLeft,top:k.scrollTop},l,u,F);T.strokeStyle=this.getThemeColor("activeCellColor"),T.lineWidth=2,T.strokeRect($.left,$.top,$.width,$.height),T.restore()}for(const{clientID:k,presence:$}of i){if(!$.activeCell)continue;const Z=Pt($.activeCell),ne=e3(this.theme,k);for(const re of j){T.save(),T.beginPath(),T.rect(re.x,re.y,re.width,re.height),T.clip();const he=this.toCellRect(Z,{left:re.scrollLeft,top:re.scrollTop},l,u,F);he.left>=-he.width&&he.left<t.width&&he.top>=-he.height&&he.top<t.height&&(T.strokeStyle=ne,T.lineWidth=2,T.strokeRect(he.left,he.top,he.width,he.height)),T.restore()}}if(m&&m.length>0)for(let k=0;k<m.length;k++){const $=m[k],Z=RS(this.theme,k);for(const ne of j){T.save(),T.beginPath(),T.rect(ne.x,ne.y,ne.width,ne.height),T.clip();const re={left:ne.scrollLeft,top:ne.scrollTop},he=Vp(Bn($[0],re,l,u),Bn($[1],re,l,u));T.strokeStyle=Z,T.lineWidth=2,T.strokeRect(he.left,he.top,he.width,he.height),T.fillStyle=Z+"20",T.fillRect(he.left,he.top,he.width,he.height),T.restore()}}if(E)for(const k of j){T.save(),T.beginPath(),T.rect(k.x,k.y,k.width,k.height),T.clip();const $={left:k.scrollLeft,top:k.scrollTop};this.drawCopyRangeBorder(T,E,$,l,u),T.restore()}}w&&!lS(w,B)&&this.renderAutofillPreview(T,w,n,l,u,x),C&&this.renderAutofillHandle(T,B,g,n,l,u,x),c&&u&&l&&this.renderResizeHover(T,t,n,c,l,u,x),p&&u&&l&&this.renderDragMoveIndicator(T,t,n,p,l,u,x),b&&u&&l&&this.renderFreezeDragPreview(T,t,b,l,u)}buildQuadrants(t,n,r,i,s){const l=r.frozenWidth,u=r.frozenHeight,c=i?i.getOffset(r.frozenRows+1):0,g=s?s.getOffset(r.frozenCols+1):0,p=[];return p.push({x:it+l,y:et+u,width:t.width-it-l,height:t.height-et-u,scrollLeft:n.left+g-l,scrollTop:n.top+c-u}),r.frozenRows>0&&p.push({x:it+l,y:et,width:t.width-it-l,height:u,scrollLeft:n.left+g-l,scrollTop:0}),r.frozenCols>0&&p.push({x:it,y:et+u,width:l,height:t.height-et-u,scrollLeft:0,scrollTop:n.top+c-u}),r.frozenRows>0&&r.frozenCols>0&&p.push({x:it,y:et,width:l,height:u,scrollLeft:0,scrollTop:0}),p}renderActiveCellSimple(t,n,r,i,s,l){const u=this.toCellRect(n,r,i,s,l);t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.strokeRect(u.left,u.top,u.width,u.height)}renderSelectionSimple(t,n,r,i,s,l,u){if(s==="all")t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,et,n.width-it,n.height-et);else if(i)if(s==="row"){const c=Bn(i[0],r,l,u),g=Bn(i[1],r,l,u),p=c.top,m=g.top+g.height-c.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,p,n.width-it,m),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(it,p,n.width-it,m)}else if(s==="column"){const c=Bn(i[0],r,l,u),g=Bn(i[1],r,l,u),p=c.left,m=g.left+g.width-c.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(p,et,m,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(p,et,m,n.height-et)}else{const c=Vp(Bn(i[0],r,l,u),Bn(i[1],r,l,u));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(c.left,c.top,c.width,c.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(c.left,c.top,c.width,c.height)}}renderPeerCursorsSimple(t,n,r,i,s,l,u){for(const{clientID:c,presence:g}of r){if(!g.activeCell)continue;const p=Pt(g.activeCell),m=this.toCellRect(p,i,s,l,u);if(m.left>=-m.width&&m.left<n.width&&m.top>=-m.height&&m.top<n.height){const x=e3(this.theme,c);t.strokeStyle=x,t.lineWidth=2,t.strokeRect(m.left,m.top,m.width,m.height)}}}renderFormulaRangesSimple(t,n,r,i,s){if(!(!n||n.length===0))for(let l=0;l<n.length;l++){const u=n[l],c=Vp(Bn(u[0],r,i,s),Bn(u[1],r,i,s)),g=RS(this.theme,l);t.strokeStyle=g,t.lineWidth=2,t.strokeRect(c.left,c.top,c.width,c.height),t.fillStyle=g+"20",t.fillRect(c.left,c.top,c.width,c.height)}}renderCopyRangeSimple(t,n,r,i,s){n&&this.drawCopyRangeBorder(t,n,r,i,s)}drawCopyRangeBorder(t,n,r,i,s){const l=Vp(Bn(n[0],r,i,s),Bn(n[1],r,i,s));t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=2,t.setLineDash([5,3]),t.strokeRect(l.left,l.top,l.width,l.height),t.setLineDash([])}renderSelectionFrozen(t,n,r,i,s,l,u,c,g){if(s==="all"){t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,et,n.width-it,n.height-et);return}if(i)for(const p of g){t.save(),t.beginPath(),t.rect(p.x,p.y,p.width,p.height),t.clip();const m={left:p.scrollLeft,top:p.scrollTop};if(s==="row"){const x=Bn(i[0],m,l,u),b=Bn(i[1],m,l,u),E=x.top,w=b.top+b.height-x.top;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(it,E,n.width-it,w),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(it,E,n.width-it,w)}else if(s==="column"){const x=Bn(i[0],m,l,u),b=Bn(i[1],m,l,u),E=x.left,w=b.left+b.width-x.left;t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(E,et,w,n.height-et),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(E,et,w,n.height-et)}else{const x=Vp(Bn(i[0],m,l,u),Bn(i[1],m,l,u));t.fillStyle=this.getThemeColor("selectionBGColor"),t.fillRect(x.left,x.top,x.width,x.height),t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.strokeRect(x.left,x.top,x.width,x.height)}t.restore()}}renderResizeHover(t,n,r,i,s,l,u){if(t.strokeStyle=this.getThemeColor("resizeHandleColor"),t.lineWidth=2,i.axis==="column"){const g=u.frozenCols>0&&i.index<=u.frozenCols?0:r.left+l.getOffset(u.frozenCols+1)-u.frozenWidth,p=it+l.getOffset(i.index)+l.getSize(i.index)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=u.frozenRows>0&&i.index<=u.frozenRows?0:r.top+s.getOffset(u.frozenRows+1)-u.frozenHeight,p=et+s.getOffset(i.index)+s.getSize(i.index)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderDragMoveIndicator(t,n,r,i,s,l,u){if(t.strokeStyle=this.getThemeColor("dropIndicatorColor"),t.lineWidth=3,i.axis==="column"){const g=u.frozenCols>0&&i.dropIndex<=u.frozenCols?0:r.left+l.getOffset(u.frozenCols+1)-u.frozenWidth,p=it+l.getOffset(i.dropIndex)-g;t.beginPath(),t.moveTo(p,0),t.lineTo(p,n.height),t.stroke()}else{const g=u.frozenRows>0&&i.dropIndex<=u.frozenRows?0:r.top+s.getOffset(u.frozenRows+1)-u.frozenHeight,p=et+s.getOffset(i.dropIndex)-g;t.beginPath(),t.moveTo(0,p),t.lineTo(n.width,p),t.stroke()}}renderFreezeDragPreview(t,n,r,i,s){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,r.axis==="row"){const l=r.targetIndex===0?et:et+i.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(0,l),t.lineTo(n.width,l),t.stroke()}else{const l=r.targetIndex===0?it:it+s.getOffset(r.targetIndex+1);t.beginPath(),t.moveTo(l,0),t.lineTo(l,n.height),t.stroke()}}toRangeRect(t,n,r,i,s=oh){if(!r||!i)return;const l=s.frozenRows>0||s.frozenCols>0,u=l?Yp(t[0],n,r,i,s):Bn(t[0],n,r,i),c=l?Yp(t[1],n,r,i,s):Bn(t[1],n,r,i);return Vp(u,c)}renderAutofillPreview(t,n,r,i,s,l=oh){const u=this.toRangeRect(n,r,i,s,l);u&&(t.strokeStyle=this.getThemeColor("activeCellColor"),t.lineWidth=1,t.setLineDash([4,2]),t.strokeRect(u.left,u.top,u.width,u.height),t.setLineDash([]))}renderAutofillHandle(t,n,r,i,s,l,u=oh){if(r!=="cell"||!n)return;const c=this.toRangeRect(n,i,s,l,u);if(!c)return;const g=8,p=c.left+c.width-g/2,m=c.top+c.height-g/2;t.fillStyle=this.getThemeColor("activeCellColor"),t.fillRect(p,m,g,g),t.strokeStyle=this.getThemeColor("cellBGColor"),t.lineWidth=1,t.strokeRect(p+.5,m+.5,g,g)}getThemeColor(t){return Zt(this.theme,t)}buildMergeRenderData(t){if(!t||t.size===0)return;const n=new Map,r=new Map;for(const[i,s]of t){n.set(i,s);const l=Pt(i);for(let u=l.r;u<l.r+s.rs;u++)for(let c=l.c;c<l.c+s.cs;c++){const g=ot({r:u,c});g!==i&&r.set(g,i)}}return{anchors:n,coverToAnchor:r}}toCellRect(t,n,r,i,s){const l=ot(t),u=(s==null?void 0:s.coverToAnchor.get(l))||l,c=Pt(u),g=s==null?void 0:s.anchors.get(u),p=Bn(c,n,r,i);if(!g||g.rs===1&&g.cs===1)return p;const m=Bn({r:c.r+g.rs-1,c:c.c+g.cs-1},n,r,i);return{left:p.left,top:p.top,width:m.left+m.width-p.left,height:m.top+m.height-p.top}}}const zb=1e7;class gK{constructor(t="light"){Y(this,"container");Y(this,"scrollContainer");Y(this,"dummyContainer");Y(this,"actualWidth",0);Y(this,"actualHeight",0);this.createContainers()}createContainers(){this.container=document.createElement("div"),this.container.style.position="relative",this.container.style.width="100%",this.container.style.height=`calc(100% - ${uB+cB*2}px)`,this.scrollContainer=document.createElement("div"),this.scrollContainer.style.position="absolute",this.scrollContainer.style.overflow="auto",this.scrollContainer.style.width="100%",this.scrollContainer.style.height="100%",this.scrollContainer.style.zIndex="1",this.dummyContainer=document.createElement("div"),this.dummyContainer.style.margin="0px",this.dummyContainer.style.padding="0px",this.dummyContainer.style.pointerEvents="none",this.scrollContainer.appendChild(this.dummyContainer),this.container.appendChild(this.scrollContainer)}getContainer(){return this.container}getScrollContainer(){return this.scrollContainer}getDummyContainer(){return this.dummyContainer}updateDummySize(t,n){this.actualWidth=t,this.actualHeight=n;const r=Math.min(t,zb),i=Math.min(n,zb);this.dummyContainer.style.width=r+"px",this.dummyContainer.style.height=i+"px"}appendChild(t){this.container.appendChild(t)}getViewport(){return this.scrollContainer.getBoundingClientRect()}getScrollPosition(){const t=this.scrollContainer.scrollLeft,n=this.scrollContainer.scrollTop,r=this.scrollContainer.getBoundingClientRect();return{left:this.toLogical(t,this.actualWidth,r.width),top:this.toLogical(n,this.actualHeight,r.height)}}setScrollPosition(t){const n=this.scrollContainer.getBoundingClientRect();t.left!==void 0&&(this.scrollContainer.scrollLeft=this.toPhysical(t.left,this.actualWidth,n.width)),t.top!==void 0&&(this.scrollContainer.scrollTop=this.toPhysical(t.top,this.actualHeight,n.height))}scrollBy(t,n){const r=this.scrollContainer.getBoundingClientRect(),i=this.needsRemap(this.actualWidth,r.width)?t*this.physicalMax(this.actualWidth,r.width)/this.logicalMax(this.actualWidth,r.width):t,s=this.needsRemap(this.actualHeight,r.height)?n*this.physicalMax(this.actualHeight,r.height)/this.logicalMax(this.actualHeight,r.height):n;this.scrollContainer.scrollBy(i,s)}addEventListener(t,n,r){this.scrollContainer.addEventListener(t,n,r)}removeEventListener(t,n,r){this.scrollContainer.removeEventListener(t,n,r)}cleanup(){this.container.remove()}needsRemap(t,n){return t>zb&&n<t}cappedSize(t){return Math.min(t,zb)}physicalMax(t,n){return Math.max(0,this.cappedSize(t)-n)}logicalMax(t,n){return Math.max(0,t-n)}clamp(t,n,r){return r<=n?n:Math.min(r,Math.max(n,t))}toLogical(t,n,r){const i=this.logicalMax(n,r);if(!this.needsRemap(n,r))return this.clamp(t,0,i);const s=this.physicalMax(n,r);return s<=0||i<=0?0:this.clamp(t,0,s)*i/s}toPhysical(t,n,r){const i=this.logicalMax(n,r);if(!this.needsRemap(n,r))return this.clamp(t,0,i);if(i<=0)return 0;const s=this.physicalMax(n,r);return this.clamp(t,0,i)*s/i}}class mK{constructor(t="light"){Y(this,"canvas");Y(this,"theme");this.theme=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.pointerEvents="none"}getCanvas(){return this.canvas}render(t,n,r,i,s,l,u,c,g,p=oh,m=null,x,b,E,w){this.canvas.width=0,this.canvas.height=0;const C=this.canvas.getContext("2d"),R=window.devicePixelRatio||1;this.canvas.width=t.width*R,this.canvas.height=t.height*R,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",C.scale(R,R);const[T,_]=r,D=this.buildMergeRenderData(w);if(!(p.frozenRows>0||p.frozenCols>0))this.renderQuadrantCells(C,T.r,_.r+1,T.c,_.c+1,s,n,l,u,x,b,E,D),this.renderColumnHeaders(C,T.c,_.c,n.left,it,t.width,i,c,g,l,u),this.renderRowHeaders(C,T.r,_.r,n.top,et,t.height,i,c,g,l,u);else{const j=p.frozenWidth,k=p.frozenHeight,$=p.frozenRows,Z=p.frozenCols,ne=$+1,re=Z+1,he=Math.max(ne,T.r),Ce=Math.max(re,T.c),_e=l?l.getOffset(ne):$*et,ie=u?u.getOffset(re):Z*Ma;C.save(),C.beginPath(),C.rect(it+j,et+k,t.width-it-j,t.height-et-k),C.clip(),this.renderQuadrantCells(C,he,_.r+1,Ce,_.c+1,s,{left:n.left+ie-j,top:n.top+_e-k},l,u,x,b,E,D),C.restore(),$>0&&(C.save(),C.beginPath(),C.rect(it+j,et,t.width-it-j,k),C.clip(),this.renderQuadrantCells(C,1,$+1,Ce,_.c+1,s,{left:n.left+ie-j,top:0},l,u,x,b,E,D),C.restore()),Z>0&&(C.save(),C.beginPath(),C.rect(it,et+k,j,t.height-et-k),C.clip(),this.renderQuadrantCells(C,he,_.r+1,1,Z+1,s,{left:0,top:n.top+_e-k},l,u,x,b,E,D),C.restore()),$>0&&Z>0&&(C.save(),C.beginPath(),C.rect(it,et,j,k),C.clip(),this.renderQuadrantCells(C,1,$+1,1,Z+1,s,{left:0,top:0},l,u,x,b,E,D),C.restore()),Z>0&&this.renderColumnHeaders(C,1,Z,0,it,it+j,i,c,g,l,u),this.renderColumnHeaders(C,Ce,_.c,n.left+ie-j,it+j,t.width,i,c,g,l,u),$>0&&this.renderRowHeaders(C,1,$,0,et,et+k,i,c,g,l,u),this.renderRowHeaders(C,he,_.r,n.top+_e-k,et+k,t.height,i,c,g,l,u),this.renderFreezeLines(C,t,j,k)}const B=c==="all";C.fillStyle=B?this.getThemeColor("headerSelectedBGColor"):this.getThemeColor("headerBGColor"),C.fillRect(0,0,it,et),C.strokeStyle=this.getThemeColor("cellBorderColor"),C.lineWidth=HC,C.strokeRect(0,0,it,et),this.renderFreezeHandles(C,p,m)}renderQuadrantCells(t,n,r,i,s,l,u,c,g,p,m,x,b){const E=this.buildTextOverflowRenderData(t,n,r,i,s,l,g,p,m,x,b);for(let w=n;w<=r;w++){const C=m==null?void 0:m.get(w);for(let R=i;R<=s;R++){const T=ot({r:w,c:R});if(b!=null&&b.coverToAnchor.has(T))continue;const _=l==null?void 0:l.get(ot({r:w,c:R})),D=b==null?void 0:b.anchors.get(T),F=p==null?void 0:p.get(R);let B;(x||F||C||_!=null&&_.s)&&(B={...x,...F,...C,..._==null?void 0:_.s});const j=E==null?void 0:E.hiddenVerticalBoundaries.has(this.verticalBoundaryKey(w,R-1)),k=E==null?void 0:E.hiddenVerticalBoundaries.has(this.verticalBoundaryKey(w,R));this.renderCellBackground(t,{r:w,c:R},_,u,c,g,B,D,j,k)}}for(let w=n;w<=r;w++){const C=m==null?void 0:m.get(w);for(let R=i;R<=s;R++){const T=ot({r:w,c:R});if(b!=null&&b.coverToAnchor.has(T))continue;const _=l==null?void 0:l.get(ot({r:w,c:R})),D=b==null?void 0:b.anchors.get(T),F=p==null?void 0:p.get(R);let B;(x||F||C||_!=null&&_.s)&&(B={...x,...F,...C,..._==null?void 0:_.s});const j=E==null?void 0:E.anchorToEndCol.get(T);this.renderCellContent(t,{r:w,c:R},_,u,c,g,B,l,s,D,j)}}}renderColumnHeaders(t,n,r,i,s,l,u,c,g,p,m){t.save(),t.beginPath(),t.rect(s,0,l-s,et),t.clip();for(let x=n;x<=r;x++){const b=m?m.getOffset(x):Ma*(x-1),E=m?m.getSize(x):Ma,w=it+b-i,C=0,R=c==="all"||c==="column"&&g&&x>=g[0].c&&x<=g[1].c;this.renderHeader(t,w,C,E,et,Dv(x),u.c===x,R||!1)}t.restore()}renderRowHeaders(t,n,r,i,s,l,u,c,g,p,m){t.save(),t.beginPath(),t.rect(0,s,it,l-s),t.clip();for(let x=n;x<=r;x++){const b=p?p.getOffset(x):et*(x-1),E=p?p.getSize(x):et,w=0,C=b+et-i,R=c==="all"||c==="row"&&g&&x>=g[0].r&&x<=g[1].r;this.renderHeader(t,w,C,it,E,String(x),u.r===x,R||!1)}t.restore()}renderFreezeLines(t,n,r,i){if(t.strokeStyle=this.getThemeColor("freezeLineColor"),t.lineWidth=2,i>0){const s=et+i;t.beginPath(),t.moveTo(0,s),t.lineTo(n.width,s),t.stroke()}if(r>0){const s=it+r;t.beginPath(),t.moveTo(s,0),t.lineTo(s,n.height),t.stroke()}}renderFreezeHandles(t,n,r){const i=n.frozenRows>0||n.frozenCols>0,s=fB,l=i&&n.frozenRows>0?et+n.frozenHeight-s/2:et-s,u=r==="row";t.fillStyle=u?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(0,l,it,s);const c=i&&n.frozenCols>0?it+n.frozenWidth-s/2:it-s,g=r==="column";t.fillStyle=g?this.getThemeColor("freezeHandleHoverColor"):this.getThemeColor("freezeHandleColor"),t.fillRect(c,0,s,et)}renderHeader(t,n,r,i,s,l,u,c=!1){t.fillStyle=c?this.getThemeColor("headerSelectedBGColor"):u?this.getThemeColor("headerActiveBGColor"):this.getThemeColor("headerBGColor"),t.fillRect(n,r,i,s),t.strokeStyle=this.getThemeColor("cellBorderColor"),t.lineWidth=HC,t.strokeRect(n,r,i,s),t.fillStyle=this.getThemeColor("cellTextColor"),t.textAlign=lK,t.font=u||c?"bold 10px Arial":"10px Arial",t.fillText(l,n+i/2,r+Math.min(15,s-4))}renderCellBackground(t,n,r,i,s,l,u,c,g=!1,p=!1){const m=this.toCellRect(n,i,s,l,c),x=u??(r==null?void 0:r.s);if(t.fillStyle=(x==null?void 0:x.bg)||this.getThemeColor("cellBGColor"),t.fillRect(m.left,m.top,m.width,m.height),t.beginPath(),t.strokeStyle=this.getThemeColor("cellBorderColor"),t.lineWidth=HC,g||(t.moveTo(m.left,m.top),t.lineTo(m.left,m.top+m.height)),!p){const b=m.left+m.width;t.moveTo(b,m.top),t.lineTo(b,m.top+m.height)}t.moveTo(m.left,m.top),t.lineTo(m.left+m.width,m.top),t.moveTo(m.left,m.top+m.height),t.lineTo(m.left+m.width,m.top+m.height),t.stroke()}renderCellContent(t,n,r,i,s,l,u,c,g,p,m){const x=this.toCellRect(n,i,s,l,p),b=u??(r==null?void 0:r.s),E=(r==null?void 0:r.v)||"";if(E){const w=Kw(E,b==null?void 0:b.nf,b==null?void 0:b.dp),C=w.split(`
`),R=this.toCellFont(b);let T=x.width;const _=(b==null?void 0:b.al)||"left";if(!p&&m&&l&&m>n.c){let k=0;for(let $=n.c+1;$<=m;$++)k+=l.getSize($);T=x.width+k}else if(!p&&C.length===1&&_==="left"&&c&&l&&g){t.save(),t.font=R;const k=t.measureText(w).width+jb*2;if(t.restore(),k>x.width){let $=0;for(let Z=n.c+1;Z<=g;Z++){const ne=c.get(ot({r:n.r,c:Z}));if(ne&&(ne.v||ne.f))break;const re=l.getSize(Z);if($+=re,x.width+$>=k)break}T=x.width+$}}t.save(),t.beginPath(),t.rect(x.left,x.top,T,x.height),t.clip(),t.fillStyle=(b==null?void 0:b.tc)||this.getThemeColor("cellTextColor"),t.font=R,t.textBaseline="top";let D;_==="center"?(t.textAlign="center",D=x.left+x.width/2):_==="right"?(t.textAlign="right",D=x.left+x.width-jb):(t.textAlign="left",D=x.left+jb);const F=(b==null?void 0:b.va)||"top",B=C.length*kc*TS;let j;F==="middle"?j=x.top+(x.height-B)/2:F==="bottom"?j=x.top+x.height-B-Xw:j=x.top+Xw;for(let k=0;k<C.length;k++){const $=j+k*(kc*TS);if(t.fillText(C[k],D,$),b!=null&&b.u){const Z=t.measureText(C[k]),ne=$+kc+1;let re;_==="center"?re=D-Z.width/2:_==="right"?re=D-Z.width:re=D,t.beginPath(),t.strokeStyle=(b==null?void 0:b.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(re,ne),t.lineTo(re+Z.width,ne),t.stroke()}if(b!=null&&b.st){const Z=t.measureText(C[k]),ne=$+kc/2;let re;_==="center"?re=D-Z.width/2:_==="right"?re=D-Z.width:re=D,t.beginPath(),t.strokeStyle=(b==null?void 0:b.tc)||this.getThemeColor("cellTextColor"),t.lineWidth=1,t.moveTo(re,ne),t.lineTo(re+Z.width,ne),t.stroke()}}t.restore()}}buildTextOverflowRenderData(t,n,r,i,s,l,u,c,g,p,m){if(!l||!u)return;const x=new Map,b=new Set;t.save();for(let E=n;E<=r;E++){const w=g==null?void 0:g.get(E);for(let C=i;C<=s;C++){const R=ot({r:E,c:C});if(m!=null&&m.coverToAnchor.has(R)||m!=null&&m.anchors.has(R))continue;const T=l.get(R),_=(T==null?void 0:T.v)||"";if(!_)continue;const D=c==null?void 0:c.get(C),F=p||D||w||T!=null&&T.s?{...p,...D,...w,...T==null?void 0:T.s}:void 0;if(((F==null?void 0:F.al)||"left")!=="left")continue;const j=Kw(_,F==null?void 0:F.nf,F==null?void 0:F.dp);if(j.split(`
`).length!==1)continue;const $=u.getSize(C);t.font=this.toCellFont(F);const Z=t.measureText(j).width+jb*2;if(Z<=$)continue;let ne=$,re=C;for(let he=C+1;he<=s;he++){const Ce=ot({r:E,c:he});if(m!=null&&m.coverToAnchor.has(Ce)||m!=null&&m.anchors.has(Ce))break;const _e=l.get(Ce);if(_e&&(_e.v||_e.f)||(ne+=u.getSize(he),re=he,ne>=Z))break}if(re>C){x.set(R,re);for(let he=C;he<re;he++)b.add(this.verticalBoundaryKey(E,he))}}}if(t.restore(),x.size!==0)return{anchorToEndCol:x,hiddenVerticalBoundaries:b}}buildMergeRenderData(t){if(!t||t.size===0)return;const n=new Map,r=new Map;for(const[i,s]of t){n.set(i,s);const l=Pt(i);for(let u=l.r;u<l.r+s.rs;u++)for(let c=l.c;c<l.c+s.cs;c++){const g=ot({r:u,c});g!==i&&r.set(g,i)}}return{anchors:n,coverToAnchor:r}}toCellRect(t,n,r,i,s){const l=Bn(t,n,r,i);if(!s||s.rs===1&&s.cs===1)return l;const u=Bn({r:t.r+s.rs-1,c:t.c+s.cs-1},n,r,i);return{left:l.left,top:l.top,width:u.left+u.width-l.left,height:u.top+u.height-l.top}}toCellFont(t){const n=[];return t!=null&&t.b&&n.push("bold"),t!=null&&t.i&&n.push("italic"),n.push(`${kc}px Arial`),n.join(" ")}verticalBoundaryKey(t,n){return`${t}:${n}`}getThemeColor(t){return Zt(this.theme,t)}cleanup(){this.canvas.remove()}}class vK{constructor(t="light"){Y(this,"container");Y(this,"theme");this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="160px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.applyTheme(),this.handleDocumentClick=this.handleDocumentClick.bind(this)}getContainer(){return this.container}show(t,n,r){this.container.innerHTML="";for(const i of r){const s=document.createElement("div");s.textContent=i.label,s.style.padding="6px 16px",s.style.cursor="pointer",s.style.color=Zt(this.theme,"cellTextColor"),s.addEventListener("mouseenter",()=>{s.style.backgroundColor=Zt(this.theme,"selectionBGColor")}),s.addEventListener("mouseleave",()=>{s.style.backgroundColor="transparent"}),s.addEventListener("mousedown",l=>{l.preventDefault(),l.stopPropagation(),this.hide(),i.action()}),this.container.appendChild(s)}this.container.style.left=`${t}px`,this.container.style.top=`${n}px`,this.container.style.display="block",document.addEventListener("mousedown",this.handleDocumentClick)}hide(){this.container.style.display="none",document.removeEventListener("mousedown",this.handleDocumentClick)}cleanup(){this.hide(),this.container.remove()}handleDocumentClick(t){this.container.contains(t.target)||this.hide()}applyTheme(){this.container.style.backgroundColor=Zt(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${Zt(this.theme,"cellBorderColor")}`}}const Av=[{name:"SUM",description:"Returns the sum of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"ABS",description:"Returns the absolute value of a number",args:[{name:"number"}]},{name:"ROUND",description:"Rounds a number to a certain number of decimal places",args:[{name:"value"},{name:"places",optional:!0}]},{name:"ROUNDUP",description:"Rounds a number away from zero",args:[{name:"value"},{name:"places",optional:!0}]},{name:"ROUNDDOWN",description:"Rounds a number toward zero",args:[{name:"value"},{name:"places",optional:!0}]},{name:"INT",description:"Rounds a number down to the nearest integer",args:[{name:"value"}]},{name:"MOD",description:"Returns the remainder after division",args:[{name:"dividend"},{name:"divisor"}]},{name:"SQRT",description:"Returns the positive square root of a number",args:[{name:"value"}]},{name:"POWER",description:"Returns a number raised to a power",args:[{name:"base"},{name:"exponent"}]},{name:"PRODUCT",description:"Multiplies a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MEDIAN",description:"Returns the middle number in a series",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"IF",description:"Returns one value if true and another if false",args:[{name:"condition"},{name:"value_if_true"},{name:"value_if_false",optional:!0}]},{name:"IFS",description:"Returns the first value whose condition is true",args:[{name:"condition1"},{name:"value1"},{name:"condition2",optional:!0,repeating:!0},{name:"value2",optional:!0,repeating:!0}]},{name:"SWITCH",description:"Matches an expression against case/value pairs",args:[{name:"expression"},{name:"case1"},{name:"value1"},{name:"case2",optional:!0,repeating:!0},{name:"value2",optional:!0,repeating:!0},{name:"default",optional:!0}]},{name:"AND",description:"Returns TRUE if all arguments are true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"OR",description:"Returns TRUE if any argument is true",args:[{name:"logical1"},{name:"logical2",optional:!0,repeating:!0}]},{name:"NOT",description:"Returns the opposite of a logical value",args:[{name:"logical"}]},{name:"AVERAGE",description:"Returns the average of a series of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MIN",description:"Returns the smallest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"MAX",description:"Returns the largest value in a set of numbers",args:[{name:"number1"},{name:"number2",optional:!0,repeating:!0}]},{name:"COUNT",description:"Counts the number of numeric values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTA",description:"Counts the number of non-empty values",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTBLANK",description:"Counts empty cells",args:[{name:"value1"},{name:"value2",optional:!0,repeating:!0}]},{name:"COUNTIF",description:"Counts values in a range that meet a criterion",args:[{name:"range"},{name:"criterion"}]},{name:"SUMIF",description:"Sums values in a range that meet a criterion",args:[{name:"range"},{name:"criterion"},{name:"sum_range",optional:!0}]},{name:"COUNTIFS",description:"Counts values that meet multiple criteria",args:[{name:"criteria_range1"},{name:"criterion1"},{name:"criteria_range2",optional:!0,repeating:!0},{name:"criterion2",optional:!0,repeating:!0}]},{name:"SUMIFS",description:"Sums values that meet multiple criteria",args:[{name:"sum_range"},{name:"criteria_range1"},{name:"criterion1"},{name:"criteria_range2",optional:!0,repeating:!0},{name:"criterion2",optional:!0,repeating:!0}]},{name:"TRIM",description:"Removes leading and trailing whitespace from text",args:[{name:"text"}]},{name:"LEN",description:"Returns the number of characters in a text string",args:[{name:"text"}]},{name:"LEFT",description:"Returns the leftmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"RIGHT",description:"Returns the rightmost characters from a text string",args:[{name:"text"},{name:"num_chars",optional:!0}]},{name:"MID",description:"Returns characters from the middle of a text string",args:[{name:"text"},{name:"start_num"},{name:"num_chars"}]},{name:"CONCATENATE",description:"Joins two or more text strings into one",args:[{name:"text1"},{name:"text2"},{name:"text3",optional:!0,repeating:!0}]},{name:"CONCAT",description:"Joins text values into one string",args:[{name:"text1"},{name:"text2"},{name:"text3",optional:!0,repeating:!0}]},{name:"FIND",description:"Finds one text value inside another (case-sensitive)",args:[{name:"search_for"},{name:"text_to_search"},{name:"starting_at",optional:!0}]},{name:"SEARCH",description:"Finds one text value inside another (case-insensitive)",args:[{name:"search_for"},{name:"text_to_search"},{name:"starting_at",optional:!0}]},{name:"TEXTJOIN",description:"Joins text values with a delimiter",args:[{name:"delimiter"},{name:"ignore_empty"},{name:"text1"},{name:"text2",optional:!0,repeating:!0}]},{name:"LOWER",description:"Converts text to lowercase",args:[{name:"text"}]},{name:"UPPER",description:"Converts text to uppercase",args:[{name:"text"}]},{name:"PROPER",description:"Capitalizes each word in text",args:[{name:"text"}]},{name:"SUBSTITUTE",description:"Replaces existing text with new text in a string",args:[{name:"text"},{name:"search_for"},{name:"replace_with"},{name:"occurrence",optional:!0}]},{name:"TODAY",description:"Returns the current date",args:[]},{name:"NOW",description:"Returns the current date and time",args:[]},{name:"YEAR",description:"Returns the year from a date",args:[{name:"date"}]},{name:"MONTH",description:"Returns the month from a date (1-12)",args:[{name:"date"}]},{name:"DAY",description:"Returns the day of the month from a date (1-31)",args:[{name:"date"}]},{name:"ISBLANK",description:"Checks whether a value is blank",args:[{name:"value"}]},{name:"ISNUMBER",description:"Checks whether a value is a number",args:[{name:"value"}]},{name:"ISTEXT",description:"Checks whether a value is text",args:[{name:"value"}]},{name:"IFERROR",description:"Returns a value if no error, otherwise returns an alternate value",args:[{name:"value"},{name:"value_if_error"}]}];function yK(e){const t=e.toUpperCase();return Av.filter(n=>n.name.startsWith(t))}function xK(e){const t=e.toUpperCase();return Av.find(n=>n.name===t)}function Zw(e){const t=e.args.map(n=>{let r=n.optional?`[${n.name}]`:n.name;return n.repeating&&(r+=", ..."),r});return`${e.name}(${t.join(", ")})`}function bK(e,t){if(!e.startsWith("="))return{type:"none"};const n=e.slice(1,t);let r=0,i=0;for(let l=n.length-1;l>=0;l--){const u=n[l];if(u===")")r++;else if(u==="(")if(r>0)r--;else{const c=n.slice(0,l).match(/([A-Za-z_]\w*)$/);return c?{type:"argument",funcName:c[1].toUpperCase(),argIndex:i}:{type:"none"}}else u===","&&r===0&&i++}const s=n.match(/([A-Za-z_]\w*)$/);return s?{type:"function-name",prefix:s[1]}:{type:"none"}}class SK{constructor(t="light"){Y(this,"container");Y(this,"theme");Y(this,"selectedIndex",0);Y(this,"matches",[]);Y(this,"mode","hidden");Y(this,"currentHint",null);this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.display="none",this.container.style.zIndex="1000",this.container.style.minWidth="220px",this.container.style.maxWidth="360px",this.container.style.borderRadius="4px",this.container.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",this.container.style.padding="4px 0",this.container.style.fontSize="13px",this.container.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.container.style.overflow="hidden",this.applyTheme()}getContainer(){return this.container}showList(t,n){if(this.matches=yK(t),this.matches.length===0){this.hide();return}this.mode="list",this.selectedIndex=0,this.renderList(),this.positionAt(n),this.container.style.display="block"}showHint(t,n,r){const i=xK(t);if(!i){this.hide();return}this.mode="hint",this.currentHint={info:i,argIndex:n},this.renderHint(),this.positionAt(r),this.container.style.display="block"}hide(){this.mode="hidden",this.matches=[],this.currentHint=null,this.container.style.display="none",this.container.innerHTML=""}moveUp(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex-1+this.matches.length)%this.matches.length,this.renderList())}moveDown(){this.mode!=="list"||this.matches.length===0||(this.selectedIndex=(this.selectedIndex+1)%this.matches.length,this.renderList())}getSelectedFunction(){if(this.mode==="list")return this.matches[this.selectedIndex]}isListVisible(){return this.mode==="list"}isHintVisible(){return this.mode==="hint"}cleanup(){this.hide(),this.container.remove()}positionAt(t){this.container.style.left=`${t.left}px`,this.container.style.top=`${t.top}px`}renderList(){this.container.innerHTML="";const t=Zt(this.theme,"cellBGColor"),n=Zt(this.theme,"cellTextColor"),r=Zt(this.theme,"selectionBGColor"),i=Zt(this.theme,"activeCellColor");for(let s=0;s<this.matches.length;s++){const l=this.matches[s],u=document.createElement("div");u.style.padding="4px 10px",u.style.cursor="pointer",u.style.display="flex",u.style.flexDirection="column",u.style.gap="1px",u.style.backgroundColor=s===this.selectedIndex?r:t;const c=document.createElement("div");c.style.fontWeight="600",c.style.color=s===this.selectedIndex?i:n,c.textContent=l.name;const g=document.createElement("div");g.style.fontSize="11px",g.style.opacity="0.7",g.style.color=n,g.textContent=l.description,u.appendChild(c),u.appendChild(g),u.addEventListener("mouseenter",()=>{this.selectedIndex=s,this.renderList()}),u.addEventListener("mousedown",p=>{p.preventDefault(),p.stopPropagation()}),this.container.appendChild(u)}}renderHint(){if(this.container.innerHTML="",!this.currentHint)return;const{info:t,argIndex:n}=this.currentHint,r=Zt(this.theme,"cellTextColor"),i=Zt(this.theme,"activeCellColor"),s=document.createElement("div");s.style.padding="6px 10px",s.style.color=r,s.style.whiteSpace="nowrap";const l=document.createElement("span");l.style.fontWeight="600",l.textContent=t.name+"(",s.appendChild(l);for(let c=0;c<t.args.length;c++){c>0&&s.appendChild(document.createTextNode(", "));const g=t.args[c];let p=g.optional?`[${g.name}]`:g.name;g.repeating&&(p+=", ...");const m=document.createElement("span");(c===n||c===t.args.length-1&&g.repeating&&n>=c)&&(m.style.fontWeight="700",m.style.color=i),m.textContent=p,s.appendChild(m)}s.appendChild(document.createTextNode(")"));const u=document.createElement("div");u.style.fontSize="11px",u.style.opacity="0.7",u.style.color=r,u.style.padding="2px 10px 4px",u.textContent=Zw(t)+"  "+t.description,this.container.appendChild(s),this.container.appendChild(u)}applyTheme(){this.container.style.backgroundColor=Zt(this.theme,"cellBGColor"),this.container.style.border=`1px solid ${Zt(this.theme,"cellBorderColor")}`}}class AK{constructor(t="light"){Y(this,"theme");Y(this,"container");Y(this,"panel");Y(this,"searchInput");Y(this,"status");Y(this,"list");Y(this,"rows",[]);Y(this,"matches",[...Av]);Y(this,"selectedIndex",0);Y(this,"listTextColor","");Y(this,"listSelectedBG","");Y(this,"listActiveColor","");Y(this,"onInsert");Y(this,"onClose");Y(this,"boundHandleBackdropMouseDown");Y(this,"boundHandleSearchInput");Y(this,"boundHandleSearchKeydown");Y(this,"boundHandleListPointerDown");Y(this,"boundHandleListClick");Y(this,"boundHandleListMouseOver");this.theme=t,this.container=document.createElement("div"),this.container.style.position="fixed",this.container.style.inset="0",this.container.style.display="none",this.container.style.zIndex="1100",this.container.style.backgroundColor="rgba(0, 0, 0, 0.18)",this.container.style.padding="40px 16px 16px",this.container.style.boxSizing="border-box",this.panel=document.createElement("div"),this.panel.style.margin="0 auto",this.panel.style.maxWidth="720px",this.panel.style.height="min(560px, calc(100vh - 72px))",this.panel.style.display="flex",this.panel.style.flexDirection="column",this.panel.style.backgroundColor=Zt(this.theme,"cellBGColor"),this.panel.style.border=`1px solid ${Zt(this.theme,"cellBorderColor")}`,this.panel.style.borderRadius="8px",this.panel.style.boxShadow="0 10px 30px rgba(0, 0, 0, 0.2)",this.panel.style.color=Zt(this.theme,"cellTextColor"),this.panel.style.overflow="hidden";const n=document.createElement("div");n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="space-between",n.style.padding="12px 14px",n.style.borderBottom=`1px solid ${Zt(this.theme,"cellBorderColor")}`;const r=document.createElement("div");r.textContent="Functions",r.style.font="600 14px Arial",n.appendChild(r);const i=document.createElement("button");i.type="button",i.textContent="Close",i.style.border=`1px solid ${Zt(this.theme,"cellBorderColor")}`,i.style.borderRadius="4px",i.style.backgroundColor=Zt(this.theme,"cellBGColor"),i.style.color=Zt(this.theme,"cellTextColor"),i.style.padding="4px 8px",i.style.font="12px Arial",i.style.cursor="pointer",i.addEventListener("click",()=>this.hide()),n.appendChild(i);const s=document.createElement("div");s.style.display="flex",s.style.flexDirection="column",s.style.gap="6px",s.style.padding="12px 14px 10px",s.style.borderBottom=`1px solid ${Zt(this.theme,"cellBorderColor")}`,this.searchInput=document.createElement("input"),this.searchInput.type="text",this.searchInput.placeholder="Search by name or description",this.searchInput.style.width="100%",this.searchInput.style.boxSizing="border-box",this.searchInput.style.padding="7px 10px",this.searchInput.style.border=`1px solid ${Zt(this.theme,"cellBorderColor")}`,this.searchInput.style.borderRadius="4px",this.searchInput.style.outline="none",this.searchInput.style.font="13px Arial",this.searchInput.style.color=Zt(this.theme,"cellTextColor"),this.searchInput.style.backgroundColor=Zt(this.theme,"cellBGColor"),s.appendChild(this.searchInput),this.status=document.createElement("div"),this.status.style.font="12px Arial",this.status.style.opacity="0.75",s.appendChild(this.status),this.list=document.createElement("div"),this.list.style.flex="1",this.list.style.overflow="auto",this.list.style.padding="6px 0",this.panel.appendChild(n),this.panel.appendChild(s),this.panel.appendChild(this.list),this.container.appendChild(this.panel),this.boundHandleBackdropMouseDown=l=>{l.target===this.container&&this.hide()},this.boundHandleSearchInput=()=>{this.selectedIndex=0,this.filterAndRender()},this.boundHandleSearchKeydown=l=>{if(l.key==="ArrowDown"){l.preventDefault(),this.matches.length>0&&(this.setSelectedIndex((this.selectedIndex+1)%this.matches.length),this.scrollSelectedIntoView());return}if(l.key==="ArrowUp"){l.preventDefault(),this.matches.length>0&&(this.setSelectedIndex((this.selectedIndex-1+this.matches.length)%this.matches.length),this.scrollSelectedIntoView());return}if(l.key==="Enter"){l.preventDefault(),this.insertSelected();return}l.key==="Escape"&&(l.preventDefault(),this.hide())},this.boundHandleListPointerDown=l=>{if(l.button!==0)return;const u=this.getRowIndexFromTarget(l.target);u!==null&&(l.preventDefault(),this.setSelectedIndex(u),this.insertSelected())},this.boundHandleListClick=l=>{if(l.button!==0||!this.isVisible())return;const u=this.getRowIndexFromTarget(l.target);u!==null&&(l.preventDefault(),this.setSelectedIndex(u),this.insertSelected())},this.boundHandleListMouseOver=l=>{const u=this.getRowIndexFromTarget(l.target);u===null||u===this.selectedIndex||this.setSelectedIndex(u)},this.container.addEventListener("mousedown",this.boundHandleBackdropMouseDown),this.searchInput.addEventListener("input",this.boundHandleSearchInput),this.searchInput.addEventListener("keydown",this.boundHandleSearchKeydown),this.list.addEventListener("pointerdown",this.boundHandleListPointerDown),this.list.addEventListener("click",this.boundHandleListClick),this.list.addEventListener("mouseover",this.boundHandleListMouseOver),this.filterAndRender()}getContainer(){return this.container}setOnInsert(t){this.onInsert=t}setOnClose(t){this.onClose=t}contains(t){return t instanceof Node&&this.container.contains(t)}isVisible(){return this.container.style.display!=="none"}show(){this.searchInput.value="",this.selectedIndex=0,this.filterAndRender(),this.container.style.display="block",requestAnimationFrame(()=>this.searchInput.focus())}hide(){var t;this.isVisible()&&(this.container.style.display="none",(t=this.onClose)==null||t.call(this))}cleanup(){this.container.removeEventListener("mousedown",this.boundHandleBackdropMouseDown),this.searchInput.removeEventListener("input",this.boundHandleSearchInput),this.searchInput.removeEventListener("keydown",this.boundHandleSearchKeydown),this.list.removeEventListener("pointerdown",this.boundHandleListPointerDown),this.list.removeEventListener("click",this.boundHandleListClick),this.list.removeEventListener("mouseover",this.boundHandleListMouseOver),this.container.remove()}filterAndRender(){const t=this.searchInput.value.trim().toUpperCase();this.matches=t.length===0?[...Av]:Av.filter(n=>{const r=n.name.toUpperCase(),i=n.description.toUpperCase(),s=Zw(n).toUpperCase();return r.includes(t)||i.includes(t)||s.includes(t)}),this.selectedIndex>=this.matches.length&&(this.selectedIndex=Math.max(0,this.matches.length-1)),this.renderList()}renderList(){if(this.list.innerHTML="",this.rows=[],this.status.textContent=`${this.matches.length} functions`,this.matches.length===0){const n=document.createElement("div");n.textContent="No matching functions",n.style.padding="16px 14px",n.style.font="13px Arial",n.style.opacity="0.8",this.list.appendChild(n);return}const t=Zt(this.theme,"cellBorderColor");this.listTextColor=Zt(this.theme,"cellTextColor"),this.listSelectedBG=Zt(this.theme,"selectionBGColor"),this.listActiveColor=Zt(this.theme,"activeCellColor");for(let n=0;n<this.matches.length;n++){const r=this.matches[n],i=document.createElement("div");i.dataset.funcName=r.name,i.dataset.funcIndex=String(n),i.style.display="flex",i.style.gap="10px",i.style.alignItems="flex-start",i.style.justifyContent="flex-start",i.style.padding="10px 14px",i.style.cursor="pointer",i.style.borderBottom=`1px solid ${t}`,i.style.backgroundColor="transparent";const s=document.createElement("div");s.style.minWidth="0",s.style.flex="1";const l=document.createElement("div");l.textContent=r.name,l.style.font="600 13px Arial",l.style.color=this.listTextColor;const u=document.createElement("div");u.textContent=Zw(r),u.style.font="12px Arial",u.style.opacity="0.82",u.style.marginTop="2px",u.style.wordBreak="break-word";const c=document.createElement("div");c.textContent=r.description,c.style.font="12px Arial",c.style.opacity="0.72",c.style.marginTop="2px",c.style.wordBreak="break-word",s.appendChild(l),s.appendChild(u),s.appendChild(c),i.appendChild(s),this.list.appendChild(i),this.rows.push({row:i,name:l})}this.updateRowSelection(this.selectedIndex)}scrollSelectedIntoView(){var n;const t=(n=this.rows[this.selectedIndex])==null?void 0:n.row;t&&t.scrollIntoView({block:"nearest"})}getRowIndexFromTarget(t){if(!(t instanceof Element))return null;const n=t.closest("[data-func-index]");if(!(n instanceof HTMLDivElement)||!this.list.contains(n))return null;const r=Number(n.dataset.funcIndex);return Number.isInteger(r)?r:null}setSelectedIndex(t){if(t===this.selectedIndex||t<0||t>=this.matches.length)return;const n=this.selectedIndex;this.selectedIndex=t,this.updateRowSelection(n),this.updateRowSelection(t)}updateRowSelection(t){const n=this.rows[t];if(!n)return;const r=t===this.selectedIndex;n.row.style.backgroundColor=r?this.listSelectedBG:"transparent",n.name.style.color=r?this.listActiveColor:this.listTextColor}insertSelected(){var n;const t=this.matches[this.selectedIndex];t&&((n=this.onInsert)==null||n.call(this,t),this.hide())}}const Ub=6,EK=10,t3=20,n3=120,r3=300,CK=1800,Vb=8,Gb=4;class wK{constructor(t,n="light",r=!1){Y(this,"sheet");Y(this,"container");Y(this,"formulaBar");Y(this,"cellInput");Y(this,"overlay");Y(this,"gridContainer");Y(this,"gridCanvas");Y(this,"contextMenu");Y(this,"autocomplete");Y(this,"functionBrowser");Y(this,"resizeTooltip");Y(this,"rowDim");Y(this,"colDim");Y(this,"listeners",[]);Y(this,"resizeObserver");Y(this,"boundRender");Y(this,"boundHandleGridKeydown");Y(this,"boundHandleFormulaKeydown");Y(this,"boundHandleCellInputKeydown");Y(this,"boundHandleMouseDown");Y(this,"boundHandleDblClick");Y(this,"boundHandleKeyDown");Y(this,"boundHandleKeyUp");Y(this,"boundHandleMouseMove");Y(this,"boundHandleContextMenu");Y(this,"boundPreventDocumentSelectStart");Y(this,"resizeHover",null);Y(this,"dragMove",null);Y(this,"editMode",!1);Y(this,"manuallyResizedRows",new Set);Y(this,"formulaRanges",[]);Y(this,"freezeState",oh);Y(this,"freezeHandleHover",null);Y(this,"freezeDrag",null);Y(this,"autofillPreview");Y(this,"onRenderCallback");Y(this,"readOnly");Y(this,"formulaRangeAnchor",null);Y(this,"activeFormulaInput",null);Y(this,"formulaRefInsertPos",null);Y(this,"lastFormulaRefTarget",null);Y(this,"nativeSelectionBlockDepth",0);Y(this,"previousBodyUserSelect","");Y(this,"previousBodyWebkitUserSelect","");this.container=t,this.readOnly=r,this.formulaBar=new aK(n),this.gridContainer=new gK(n),this.overlay=new pK(n),this.gridCanvas=new mK(n),this.cellInput=new hK(n),this.contextMenu=new vK(n),this.autocomplete=new SK(n),this.functionBrowser=new AK(n),this.resizeTooltip=document.createElement("div"),this.rowDim=new YD(et),this.colDim=new YD(Ma),this.gridContainer.appendChild(this.overlay.getContainer()),this.gridContainer.appendChild(this.gridCanvas.getCanvas()),this.gridContainer.appendChild(this.cellInput.getContainer()),this.container.appendChild(this.formulaBar.getContainer()),this.container.appendChild(this.gridContainer.getContainer()),this.container.appendChild(this.contextMenu.getContainer()),this.container.appendChild(this.autocomplete.getContainer()),document.body.appendChild(this.functionBrowser.getContainer()),this.resizeTooltip.style.position="fixed",this.resizeTooltip.style.display="none",this.resizeTooltip.style.pointerEvents="none",this.resizeTooltip.style.zIndex="1001",this.resizeTooltip.style.padding="4px 8px",this.resizeTooltip.style.borderRadius="4px",this.resizeTooltip.style.border=`1px solid ${Zt(n,"cellBorderColor")}`,this.resizeTooltip.style.backgroundColor=Zt(n,"cellBGColor"),this.resizeTooltip.style.color=Zt(n,"cellTextColor"),this.resizeTooltip.style.fontSize="11px",this.resizeTooltip.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',this.resizeTooltip.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)",document.body.appendChild(this.resizeTooltip),this.functionBrowser.setOnInsert(i=>{this.readOnly||this.insertFunctionFromBrowser(i.name)}),this.boundRender=this.render.bind(this),this.boundHandleGridKeydown=this.handleGridKeydown.bind(this),this.boundHandleFormulaKeydown=this.handleFormulaKeydown.bind(this),this.boundHandleCellInputKeydown=this.handleCellInputKeydown.bind(this),this.boundHandleMouseDown=this.handleMouseDown.bind(this),this.boundHandleDblClick=this.handleDblClick.bind(this),this.boundHandleKeyDown=this.handleKeyDown.bind(this),this.boundHandleKeyUp=this.handleKeyUp.bind(this),this.boundHandleMouseMove=this.handleMouseMove.bind(this),this.boundHandleContextMenu=this.handleContextMenu.bind(this),this.boundPreventDocumentSelectStart=i=>{i.preventDefault()},this.resizeObserver=new ResizeObserver(()=>this.boundRender())}async initialize(t){this.sheet=t,this.sheet.setDimensions(this.rowDim,this.colDim),await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadMerges(),await this.sheet.loadFreezePane(),this.updateFreezeState(),this.formulaBar.initialize(t),this.addEventListeners(),this.resizeObserver.observe(this.container),this.render()}updateFreezeState(){const{frozenRows:t,frozenCols:n}=this.sheet.getFreezePane();this.freezeState=cK(t,n,this.rowDim,this.colDim)}async setFreezePane(t,n){await this.sheet.setFreezePane(t,n),this.updateFreezeState(),this.render()}async reloadFreezePane(){await this.sheet.loadFreezePane(),this.updateFreezeState()}cleanup(){this.removeAllEventListeners(),this.forceEndNativeSelectionBlock(),this.resizeObserver.disconnect(),this.formulaBar.cleanup(),this.cellInput.cleanup(),this.overlay.cleanup(),this.gridCanvas.cleanup(),this.gridContainer.cleanup(),this.contextMenu.cleanup(),this.autocomplete.cleanup(),this.functionBrowser.cleanup(),this.resizeTooltip.remove(),this.sheet=void 0,this.container.innerHTML=""}beginNativeSelectionBlock(){if(this.nativeSelectionBlockDepth+=1,this.nativeSelectionBlockDepth!==1)return;const t=document.body.style;this.previousBodyUserSelect=t.userSelect,this.previousBodyWebkitUserSelect=t.webkitUserSelect,t.userSelect="none",t.webkitUserSelect="none",document.addEventListener("selectstart",this.boundPreventDocumentSelectStart)}endNativeSelectionBlock(){if(this.nativeSelectionBlockDepth===0||(this.nativeSelectionBlockDepth-=1,this.nativeSelectionBlockDepth>0))return;const t=document.body.style;t.userSelect=this.previousBodyUserSelect,t.webkitUserSelect=this.previousBodyWebkitUserSelect,document.removeEventListener("selectstart",this.boundPreventDocumentSelectStart)}forceEndNativeSelectionBlock(){this.nativeSelectionBlockDepth!==0&&(this.nativeSelectionBlockDepth=1,this.endNativeSelectionBlock())}showResizeTooltip(t,n,r,i,s){const l=t==="column"?"Width":"Height",u=s>1?` (${s} ${t==="column"?"columns":"rows"})`:"";this.resizeTooltip.textContent=`${l}: ${Math.round(n)}px${u}`,this.resizeTooltip.style.left=`${r+12}px`,this.resizeTooltip.style.top=`${i+12}px`,this.resizeTooltip.style.display="block"}hideResizeTooltip(){this.resizeTooltip.style.display="none"}addEventListener(t,n,r,i){t.addEventListener(n,r,i),this.listeners.push({element:t,type:n,handler:r})}removeAllEventListeners(){for(const{element:t,type:n,handler:r}of this.listeners)t.removeEventListener(n,r);this.listeners=[]}focusGrid(){var t;this.formulaBar.blur(),this.cellInput.hide(),this.autocomplete.hide(),this.functionBrowser.hide(),this.formulaRanges=[],this.resetFormulaRangeState(),(t=window.getSelection())==null||t.removeAllRanges()}async finishEditing(){this.autocomplete.hide(),this.functionBrowser.hide();const t=this.sheet.getActiveCell();if(this.formulaBar.isFocused())await this.sheet.setData(t,this.formulaBar.getValue()),this.formulaBar.blur(),this.cellInput.hide();else if(this.cellInput.isFocused())await this.sheet.setData(t,this.cellInput.getValue()),this.cellInput.hide();else return;this.formulaRanges=[],this.resetFormulaRangeState(),await this.autoResizeRow(t.r)}isExternalInput(t){if(this.functionBrowser.contains(t))return!0;if(!(t instanceof Element)||this.container.contains(t))return!1;const n=t.tagName;return!!(n==="INPUT"||n==="TEXTAREA"||n==="SELECT"||t.isContentEditable)}handleKeyDown(t){if(this.functionBrowser.isVisible()){t.key==="Escape"&&(t.preventDefault(),this.functionBrowser.hide());return}if(!this.isExternalInput(t.target)){if(this.formulaBar.isFocused()){this.boundHandleFormulaKeydown(t);return}else if(this.cellInput.isFocused()){this.boundHandleCellInputKeydown(t);return}this.boundHandleGridKeydown(t)}}handleKeyUp(t){if(this.functionBrowser.isVisible()||this.isExternalInput(t.target))return;const r=(t.key==="ArrowDown"||t.key==="ArrowUp"||t.key==="Escape"||t.key==="Enter"||t.key==="Tab")&&(this.autocomplete.isListVisible()||this.autocomplete.isHintVisible());let i,s;this.formulaBar.isFocused()?(i=this.formulaBar.getValue(),s=this.formulaBar.getFormulaInput(),this.cellInput.setValue(i)):this.cellInput.isFocused()&&(i=this.cellInput.getValue(),s=this.cellInput.getInput(),this.formulaBar.setValue(i)),i!==void 0&&i.startsWith("=")?(this.formulaRanges=av(i).map(l=>l.range),this.renderOverlay()):i!==void 0&&(this.formulaRanges=[],this.renderOverlay()),!r&&(s&&i!==void 0?this.updateAutocomplete(i,s):this.autocomplete.hide())}updateAutocomplete(t,n){if(!t.startsWith("=")){this.autocomplete.hide();return}const r=wu(n);if(!r){this.autocomplete.hide();return}const i=r.end,s=bK(t,i),l=n.getBoundingClientRect(),u={left:l.left,top:l.bottom+2};s.type==="function-name"?this.autocomplete.showList(s.prefix,u):s.type==="argument"?this.autocomplete.showHint(s.funcName,s.argIndex,u):this.autocomplete.hide()}toggleFunctionBrowser(){if(this.functionBrowser.isVisible()){this.functionBrowser.hide();return}this.autocomplete.hide(),this.functionBrowser.show()}insertFunctionCompletion(t,n){const r=n.innerText,i=wu(n);if(!i)return;const s=i.end,u=r.slice(0,s).match(/([A-Za-z_]\w*)$/);if(!u)return;const c=s-u[1].length,g=r.slice(s),p=r.slice(0,c)+t+"("+g;this.formulaBar.setValue(p),this.cellInput.setValue(p);const m=c+t.length+1;Fc(n,{start:m,end:m}),this.autocomplete.hide(),this.updateAutocomplete(p,n)}async insertFunctionFromBrowser(t){const n=await this.getInputForFunctionInsert(),r=n.innerText,i=wu(n);let s,l;if(!r.startsWith("="))s=`=${t}(`,l=s.length;else{const u=(i==null?void 0:i.start)??r.length,c=(i==null?void 0:i.end)??r.length;s=r.slice(0,u)+t+"("+r.slice(c),l=u+t.length+1}this.formulaBar.setValue(s),this.cellInput.setValue(s),Fc(n,{start:l,end:l}),n.focus(),this.formulaRanges=av(s).map(u=>u.range),this.renderOverlay(),this.autocomplete.hide(),this.updateAutocomplete(s,n)}async getInputForFunctionInsert(){if(this.cellInput.isFocused())return this.cellInput.getInput();const t=this.cellInput.getInput(),n=this.formulaBar.getFormulaInput(),r=n.innerText,i=wu(n);this.cellInput.isShown()||await this.showCellInput(!0,!0),this.cellInput.setValue(r);const s=(i==null?void 0:i.end)??r.length;return Fc(t,{start:s,end:s}),this.cellInput.isFocused()||t.focus(),t}isInFormulaRangeMode(){let t,n;if(this.cellInput.isFocused()?(t=this.cellInput.getValue(),n=this.cellInput.getInput()):this.formulaBar.isFocused()&&(t=this.formulaBar.getValue(),n=this.formulaBar.getFormulaInput()),!t||!n||!t.startsWith("="))return!1;const r=wu(n);return r?Pq(t,r.end):!1}insertReferenceAtCursor(t,n){const r=this.cellInput.isFocused(),i=this.formulaBar.isFocused();if(!r&&!i)return;const s=r?this.cellInput.getInput():this.formulaBar.getFormulaInput(),l=s.innerText,u=wu(s);if(!u)return;const c=n&&(t.r!==n.r||t.c!==n.c)?ot(t)+":"+ot(n):ot(t);let g,p;if(this.formulaRefInsertPos){const{start:m,end:x}=this.formulaRefInsertPos;g=l.slice(0,m)+c+l.slice(x),p=m+c.length,this.formulaRefInsertPos={start:m,end:p}}else{const m=$D(l,u.end);m?(g=l.slice(0,m.start)+c+l.slice(m.end),p=m.start+c.length,this.formulaRefInsertPos={start:m.start,end:p}):u.start!==u.end?(g=l.slice(0,u.start)+c+l.slice(u.end),p=u.start+c.length,this.formulaRefInsertPos={start:u.start,end:p}):(g=l.slice(0,u.end)+c+l.slice(u.end),p=u.end+c.length,this.formulaRefInsertPos={start:u.end,end:p})}this.formulaBar.setValue(g),this.cellInput.setValue(g),Fc(s,{start:p,end:p}),g.startsWith("=")&&(this.formulaRanges=av(g).map(m=>m.range),this.renderOverlay()),this.lastFormulaRefTarget=n||t}toggleAbsoluteReference(t){const n=t.innerText;if(!n.startsWith("="))return;const r=wu(t);if(!r)return;const i=$D(n,r.end);if(!i)return;const s=i.text,l=s.startsWith("$"),u=s.replace(/\$/g,"");let c=0;for(let C=0;C<u.length;C++)if(u.charCodeAt(C)>=48&&u.charCodeAt(C)<=57){c=C;break}const g=u.slice(0,c),p=u.slice(c),m=s.indexOf(p,s.lastIndexOf(g)+g.length),x=m>0&&s[m-1]==="$";let b;!l&&!x?b="$"+g+"$"+p:l&&x?b=g+"$"+p:!l&&x?b="$"+g+p:b=g+p;const E=n.slice(0,i.start)+b+n.slice(i.end),w=i.start+b.length;this.formulaBar.setValue(E),this.cellInput.setValue(E),Fc(t,{start:w,end:w}),E.startsWith("=")&&(this.formulaRanges=av(E).map(C=>C.range),this.renderOverlay())}resetFormulaRangeState(){this.formulaRangeAnchor=null,this.activeFormulaInput=null,this.formulaRefInsertPos=null,this.lastFormulaRefTarget=null}handleDblClick(t){if(this.readOnly)return;const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n){t.preventDefault();const i=this.sheet.getFreezePane();n==="row"?this.setFreezePane(i.frozenRows>0?0:1,i.frozenCols):this.setFreezePane(i.frozenRows,i.frozenCols>0?0:1);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r){t.preventDefault(),this.autoFitSize(r.axis,r.index);return}this.showCellInput(),t.preventDefault()}handleContextMenu(t){if(this.readOnly)return;const n=t.offsetX,r=t.offsetY,i=n<it,s=r<et;if(!(!i&&!s)){if(t.preventDefault(),i){const l=this.toRowFromMouse(r);if(l<1)return;const u=this.sheet.getSelectedIndices(),c=u&&u.axis==="row"&&l>=u.from&&l<=u.to,g=c?u.from:l,p=c?u.to-u.from+1:1,m=p>1?`${p} rows`:"row";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} above`,action:()=>{this.sheet.insertRows(g,p).then(()=>this.render())}},{label:`Insert ${m} below`,action:()=>{this.sheet.insertRows(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteRows(g,p).then(()=>this.render())}}])}else if(s){const l=this.toColFromMouse(n);if(l<1)return;const u=this.sheet.getSelectedIndices(),c=u&&u.axis==="column"&&l>=u.from&&l<=u.to,g=c?u.from:l,p=c?u.to-u.from+1:1,m=p>1?`${p} columns`:"column";this.contextMenu.show(t.clientX,t.clientY,[{label:`Insert ${m} left`,action:()=>{this.sheet.insertColumns(g,p).then(()=>this.render())}},{label:`Insert ${m} right`,action:()=>{this.sheet.insertColumns(g+p,p).then(()=>this.render())}},{label:`Delete ${m}`,action:()=>{this.sheet.deleteColumns(g,p).then(()=>this.render())}}])}}}addEventListeners(){this.addEventListener(window,"resize",this.boundRender),this.gridContainer.addEventListener("scroll",this.boundRender),this.gridContainer.addEventListener("mousedown",this.boundHandleMouseDown),this.gridContainer.addEventListener("mousemove",this.boundHandleMouseMove),this.gridContainer.addEventListener("dblclick",this.boundHandleDblClick),this.gridContainer.addEventListener("contextmenu",this.boundHandleContextMenu),this.addEventListener(document,"keydown",this.boundHandleKeyDown),this.addEventListener(document,"keyup",this.boundHandleKeyUp)}detectResizeEdge(t,n){const r=this.scroll,i=this.freezeState;if(n<et&&t>it){const l=i.frozenCols>0&&t<it+i.frozenWidth?t-it:t-it-i.frozenWidth+this.colDim.getOffset(i.frozenCols+1)+r.left,u=this.colDim.findIndex(l),c=this.colDim.getOffset(u)+this.colDim.getSize(u);if(Math.abs(l-c)<Ub)return{axis:"column",index:u};if(u>1){const g=this.colDim.getOffset(u-1)+this.colDim.getSize(u-1);if(Math.abs(l-g)<Ub)return{axis:"column",index:u-1}}}if(t<it&&n>et){const l=i.frozenRows>0&&n<et+i.frozenHeight?n-et:n-et-i.frozenHeight+this.rowDim.getOffset(i.frozenRows+1)+r.top,u=this.rowDim.findIndex(l),c=this.rowDim.getOffset(u)+this.rowDim.getSize(u);if(Math.abs(l-c)<Ub)return{axis:"row",index:u};if(u>1){const g=this.rowDim.getOffset(u-1)+this.rowDim.getSize(u-1);if(Math.abs(l-g)<Ub)return{axis:"row",index:u-1}}}return null}detectFreezeHandle(t,n){const r=this.freezeState,i=r.frozenRows>0||r.frozenCols>0,s=fB,l=uK,u=i&&r.frozenRows>0?et+r.frozenHeight-s/2:et-s;if(t>=0&&t<=it&&n>=u-l&&n<=u+s+l)return"row";const c=i&&r.frozenCols>0?it+r.frozenWidth-s/2:it-s;return t>=c-l&&t<=c+s+l&&n>=0&&n<=et?"column":null}startFreezeDrag(t,n){const r=this.gridContainer.getScrollContainer();r.style.cursor="grabbing";const i=u=>{const c=this.viewport;if(t==="row"){const g=u.target!==r?Math.max(0,Math.min(c.height,u.clientY-c.top)):u.offsetY;if(g<=et)return 0;const p=g-et,m=this.rowDim.findIndex(p),b=this.rowDim.getOffset(m)+this.rowDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}else{const g=u.target!==r?Math.max(0,Math.min(c.width,u.clientX-c.left)):u.offsetX;if(g<=it)return 0;const p=g-it,m=this.colDim.findIndex(p),b=this.colDim.getOffset(m)+this.colDim.getSize(m)/2;return p<b?Math.max(0,m-1):m}};this.freezeDrag={axis:t,targetIndex:i(n)},this.renderOverlay();const s=u=>{const c=i(u);this.freezeDrag&&this.freezeDrag.targetIndex!==c&&(this.freezeDrag={axis:t,targetIndex:c},this.renderOverlay())},l=()=>{var g;r.style.cursor="",document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l);const u=((g=this.freezeDrag)==null?void 0:g.targetIndex)??0;this.freezeDrag=null,this.freezeHandleHover=null;const c=this.sheet.getFreezePane();t==="row"?this.setFreezePane(u,c.frozenCols):this.setFreezePane(c.frozenRows,u)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)}toRefFromMouse(t,n){const r=this.freezeState;return r.frozenRows>0||r.frozenCols>0?dK(t,n,this.scroll,this.rowDim,this.colDim,r):fK(t+this.scroll.left,n+this.scroll.top,this.rowDim,this.colDim)}toRowFromMouse(t){const n=this.freezeState,i=n.frozenRows>0&&t<et+n.frozenHeight?t-et:t-et-n.frozenHeight+this.rowDim.getOffset(n.frozenRows+1)+this.scroll.top;return this.rowDim.findIndex(i)}toColFromMouse(t){const n=this.freezeState,i=n.frozenCols>0&&t<it+n.frozenWidth?t-it:t-it-n.frozenWidth+this.colDim.getOffset(n.frozenCols+1)+this.scroll.left;return this.colDim.findIndex(i)}getAutofillSelectionRect(){if(!this.sheet||this.sheet.getSelectionType()!=="cell")return;const t=this.sheet.getRangeOrActiveCell(),n=Yp(t[0],this.scroll,this.rowDim,this.colDim,this.freezeState),r=Yp(t[1],this.scroll,this.rowDim,this.colDim,this.freezeState),i=Math.min(n.left,r.left),s=Math.min(n.top,r.top),l=Math.max(n.left+n.width,r.left+r.width),u=Math.max(n.top+n.height,r.top+r.height);return{left:i,top:s,width:l-i,height:u-s}}detectAutofillHandle(t,n){if(this.readOnly)return!1;const r=this.getAutofillSelectionRect();if(!r)return!1;const i=r.left+r.width-Vb/2,s=r.top+r.height-Vb/2;return t>=i-Gb&&t<=i+Vb+Gb&&n>=s-Gb&&n<=s+Vb+Gb}clampClientPointToViewport(t,n){const r=this.viewport;return{x:Math.max(0,Math.min(r.width,t-r.left)),y:Math.max(0,Math.min(r.height,n-r.top))}}getAutoScrollSpeed(t){const r=Math.min(n3,Math.max(0,t))/n3;return r3+(CK-r3)*r}getAutoScrollVelocity(t,n,r){return t<n?-this.getAutoScrollSpeed(n-t):t>r?this.getAutoScrollSpeed(t-r):0}handleMouseMove(t){var l,u,c;const n=this.gridContainer.getScrollContainer(),r=this.detectFreezeHandle(t.offsetX,t.offsetY);if(r!==this.freezeHandleHover&&(this.freezeHandleHover=r,this.renderSheet()),r){n.style.cursor="grab",this.resizeHover&&(this.resizeHover=null,this.renderOverlay());return}const i=this.detectResizeEdge(t.offsetX,t.offsetY),s=(i==null?void 0:i.axis)!==((l=this.resizeHover)==null?void 0:l.axis)||(i==null?void 0:i.index)!==((u=this.resizeHover)==null?void 0:u.index);if(s&&(this.resizeHover=i),i)n.style.cursor=i.axis==="column"?"col-resize":"row-resize";else{if(this.detectAutofillHandle(t.offsetX,t.offsetY)){n.style.cursor="crosshair",s&&this.renderOverlay();return}const g=t.offsetX,p=t.offsetY,m=(c=this.sheet)==null?void 0:c.getSelectedIndices();if(m){const x=m.axis==="column"?p<et&&g>it&&(()=>{const b=this.toColFromMouse(g);return b>=m.from&&b<=m.to})():g<it&&p>et&&(()=>{const b=this.toRowFromMouse(p);return b>=m.from&&b<=m.to})();n.style.cursor=x?"grab":""}else n.style.cursor=""}s&&this.renderOverlay()}async handleMouseDown(t){const n=this.detectFreezeHandle(t.offsetX,t.offsetY);if(n&&!this.readOnly){t.preventDefault(),this.startFreezeDrag(n,t);return}const r=this.detectResizeEdge(t.offsetX,t.offsetY);if(r&&!this.readOnly){t.preventDefault(),this.startResize(r.axis,r.index,t);return}const i=t.offsetX,s=t.offsetY;if(i<it&&s<et){t.preventDefault(),await this.finishEditing(),this.sheet.selectAllCells(),this.render();return}const u=s<et&&i>it,c=i<it&&s>et;if(u){t.preventDefault(),await this.finishEditing();const _=this.toColFromMouse(i);if(_<1)return;if(t.shiftKey){this.sheet.selectColumnRange(this.sheet.getActiveCell().c,_),this.render();return}const D=this.sheet.getSelectedIndices();if(!this.readOnly&&D&&D.axis==="column"&&_>=D.from&&_<=D.to){this.startDragMove("column",D.from,D.to-D.from+1,t);return}this.sheet.selectColumn(_),this.render();const F=_;let B=_,j=t.clientX,k=null,$=null;const Z=()=>{const{x:ie}=this.clampClientPointToViewport(j,0),Ae=this.toColFromMouse(ie);Ae>=1&&Ae!==B&&(B=Ae,this.sheet.selectColumnRange(F,B))},ne=()=>{k!==null&&(cancelAnimationFrame(k),k=null),$=null},re=ie=>{const Ae=this.viewport,de=this.getAutoScrollVelocity(j,Ae.left,Ae.left+Ae.width);if(de===0){k=null,$=null;return}const ue=Math.min(50,$===null?16:ie-$);$=ie,this.gridContainer.scrollBy(de*ue/1e3,0),Z(),this.render(),k=requestAnimationFrame(re)},he=()=>{k===null&&(k=requestAnimationFrame(re))},Ce=ie=>{j=ie.clientX,Z(),this.render();const Ae=this.viewport;this.getAutoScrollVelocity(j,Ae.left,Ae.left+Ae.width)===0?ne():he()},_e=()=>{ne(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",Ce),document.removeEventListener("mouseup",_e)};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",Ce),document.addEventListener("mouseup",_e);return}if(c){t.preventDefault(),await this.finishEditing();const _=this.toRowFromMouse(s);if(_<1)return;if(t.shiftKey){this.sheet.selectRowRange(this.sheet.getActiveCell().r,_),this.render();return}const D=this.sheet.getSelectedIndices();if(!this.readOnly&&D&&D.axis==="row"&&_>=D.from&&_<=D.to){this.startDragMove("row",D.from,D.to-D.from+1,t);return}this.sheet.selectRow(_),this.render();const F=_;let B=_,j=t.clientY,k=null,$=null;const Z=()=>{const{y:ie}=this.clampClientPointToViewport(0,j),Ae=this.toRowFromMouse(ie);Ae>=1&&Ae!==B&&(B=Ae,this.sheet.selectRowRange(F,B))},ne=()=>{k!==null&&(cancelAnimationFrame(k),k=null),$=null},re=ie=>{const Ae=this.viewport,de=this.getAutoScrollVelocity(j,Ae.top,Ae.top+Ae.height);if(de===0){k=null,$=null;return}const ue=Math.min(50,$===null?16:ie-$);$=ie,this.gridContainer.scrollBy(0,de*ue/1e3),Z(),this.render(),k=requestAnimationFrame(re)},he=()=>{k===null&&(k=requestAnimationFrame(re))},Ce=ie=>{j=ie.clientY,Z(),this.render();const Ae=this.viewport;this.getAutoScrollVelocity(j,Ae.top,Ae.top+Ae.height)===0?ne():he()},_e=()=>{ne(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",Ce),document.removeEventListener("mouseup",_e)};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",Ce),document.addEventListener("mouseup",_e);return}if(this.isInFormulaRangeMode()){t.preventDefault();const _=this.toRefFromMouse(t.offsetX,t.offsetY);if(this.activeFormulaInput=this.cellInput.isFocused()?"cellInput":"formulaBar",t.shiftKey&&this.formulaRangeAnchor){const j={r:Math.min(this.formulaRangeAnchor.r,_.r),c:Math.min(this.formulaRangeAnchor.c,_.c)},k={r:Math.max(this.formulaRangeAnchor.r,_.r),c:Math.max(this.formulaRangeAnchor.c,_.c)};this.insertReferenceAtCursor(j,k)}else this.formulaRangeAnchor=_,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(_);const D=this.gridContainer.getScrollContainer(),F=j=>{const k=this.viewport,$=j.target!==D?Math.max(0,Math.min(k.width,j.clientX-k.left)):j.offsetX,Z=j.target!==D?Math.max(0,Math.min(k.height,j.clientY-k.top)):j.offsetY,ne=this.toRefFromMouse($,Z),re={r:Math.min(this.formulaRangeAnchor.r,ne.r),c:Math.min(this.formulaRangeAnchor.c,ne.c)},he={r:Math.max(this.formulaRangeAnchor.r,ne.r),c:Math.max(this.formulaRangeAnchor.c,ne.c)};this.insertReferenceAtCursor(re,he)},B=()=>{this.endNativeSelectionBlock(),document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",B),this.activeFormulaInput==="cellInput"?this.cellInput.getInput().focus():this.activeFormulaInput==="formulaBar"&&this.formulaBar.getFormulaInput().focus(),this.formulaRefInsertPos=null};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",F),document.addEventListener("mouseup",B);return}if(this.detectAutofillHandle(t.offsetX,t.offsetY)){t.preventDefault(),await this.finishEditing(),this.startAutofillDrag(t);return}if(await this.finishEditing(),t.shiftKey){const _=this.toRefFromMouse(t.offsetX,t.offsetY);this.sheet.selectEnd(_),this.render();return}this.sheet.selectStart(this.toRefFromMouse(t.offsetX,t.offsetY)),this.render();let g=t.clientX,p=t.clientY,m=null,x=null;const b=()=>{const{x:_,y:D}=this.clampClientPointToViewport(g,p);this.sheet.selectEnd(this.toRefFromMouse(_,D))},E=()=>{m!==null&&(cancelAnimationFrame(m),m=null),x=null},w=_=>{const D=this.viewport,F=this.getAutoScrollVelocity(g,D.left,D.left+D.width),B=this.getAutoScrollVelocity(p,D.top,D.top+D.height);if(F===0&&B===0){m=null,x=null;return}const j=Math.min(50,x===null?16:_-x);x=_,this.gridContainer.scrollBy(F*j/1e3,B*j/1e3),b(),this.render(),m=requestAnimationFrame(w)},C=()=>{m===null&&(m=requestAnimationFrame(w))},R=_=>{g=_.clientX,p=_.clientY,b(),this.renderOverlay();const D=this.viewport,F=this.getAutoScrollVelocity(g,D.left,D.left+D.width),B=this.getAutoScrollVelocity(p,D.top,D.top+D.height);F===0&&B===0?E():C()},T=()=>{E(),this.render(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",T)};this.beginNativeSelectionBlock(),document.addEventListener("mousemove",R),document.addEventListener("mouseup",T)}startAutofillDrag(t){let n=t.clientX,r=t.clientY,i=null,s=null;const l=()=>{const{x,y:b}=this.clampClientPointToViewport(n,r),E=this.toRefFromMouse(x,b);this.autofillPreview=this.sheet.getAutofillPreviewRange(E),this.renderOverlay()},u=()=>{i!==null&&(cancelAnimationFrame(i),i=null),s=null},c=x=>{const b=this.viewport,E=this.getAutoScrollVelocity(n,b.left,b.left+b.width),w=this.getAutoScrollVelocity(r,b.top,b.top+b.height);if(E===0&&w===0){i=null,s=null;return}const C=Math.min(50,s===null?16:x-s);s=x,this.gridContainer.scrollBy(E*C/1e3,w*C/1e3),l(),i=requestAnimationFrame(c)},g=()=>{i===null&&(i=requestAnimationFrame(c))},p=x=>{n=x.clientX,r=x.clientY,l();const b=this.viewport,E=this.getAutoScrollVelocity(n,b.left,b.left+b.width),w=this.getAutoScrollVelocity(r,b.top,b.top+b.height);E===0&&w===0?u():g()},m=async()=>{u(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m);const{x,y:b}=this.clampClientPointToViewport(n,r),E=this.toRefFromMouse(x,b),w=await this.sheet.autofill(E);this.autofillPreview=void 0,w?this.render():this.renderOverlay()};this.beginNativeSelectionBlock(),l(),document.addEventListener("mousemove",p),document.addEventListener("mouseup",m)}startResize(t,n,r){const i=t==="column"?r.clientX:r.clientY,s=t==="column"?this.colDim.getSize(n):this.rowDim.getSize(n),l=this.gridContainer.getScrollContainer();l.style.cursor=t==="column"?"col-resize":"row-resize";const u=t==="column"?this.colDim:this.rowDim,c=this.sheet.getSelectedIndices(),p=c&&c.axis===t&&n>=c.from&&n<=c.to?Array.from({length:c.to-c.from+1},(C,R)=>c.from+R):[n],m=p.length;let x=s,b=null;this.beginNativeSelectionBlock(),this.showResizeTooltip(t,s,r.clientX,r.clientY,m);const E=C=>{const T=(t==="column"?C.clientX:C.clientY)-i;x=Math.max(t==="column"?t3:EK,s+T),b===null&&(b=requestAnimationFrame(()=>{b=null,u.setSize(n,x),this.render()})),this.showResizeTooltip(t,x,C.clientX,C.clientY,m)},w=()=>{l.style.cursor="",this.hideResizeTooltip(),this.endNativeSelectionBlock(),document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",w),b!==null&&(cancelAnimationFrame(b),b=null);const C=x;u.setSize(n,C);for(const R of p)u.setSize(R,C),t==="column"?this.sheet.setColumnWidth(R,C):(this.manuallyResizedRows.add(R),this.sheet.setRowHeight(R,C));this.render()};document.addEventListener("mousemove",E),document.addEventListener("mouseup",w)}async autoFitSize(t,n){const i=document.createElement("canvas").getContext("2d"),s=6;if(t==="column"){i.font=`${kc}px Arial`;const l=Dv(n);let u=i.measureText(l).width+s;const[c,g]=this.viewRange,p=[{r:c.r,c:n},{r:g.r,c:n}],m=await this.sheet.fetchGrid(p);for(const[,b]of m)if(b.v){const E=i.measureText(b.v).width+s;E>u&&(u=E)}const x=Math.max(t3,Math.ceil(u));this.sheet.setColumnWidth(n,x)}else{this.manuallyResizedRows.delete(n);const l=await this.computeContentHeight(n);this.sheet.setRowHeight(n,l)}this.render()}async computeContentHeight(t){const[n,r]=this.viewRange,i=[{r:t,c:n.c},{r:t,c:r.c}],s=await this.sheet.fetchGrid(i);let l=1;for(const[,u]of s)if(u.v){const c=u.v.split(`
`).length;c>l&&(l=c)}return l<=1?et:Math.max(et,Math.ceil(l*kc*TS+2*Xw))}async autoResizeRow(t){if(this.manuallyResizedRows.has(t))return;const n=await this.computeContentHeight(t),r=this.rowDim.getSize(t);n!==r&&(this.sheet.setRowHeight(t,n),this.render())}startDragMove(t,n,r,i){const s=this.gridContainer.getScrollContainer();s.style.cursor="grabbing";const l=t==="column"?this.colDim:this.rowDim,u=p=>{const m=this.viewport;if(t==="column"){const x=p.target!==s?Math.max(0,Math.min(m.width,p.clientX-m.left)):p.offsetX,b=this.toColFromMouse(x),E=this.freezeState,C=E.frozenCols>0&&x<it+E.frozenWidth?x-it:x-it-E.frozenWidth+this.colDim.getOffset(E.frozenCols+1)+this.scroll.left,T=l.getOffset(b)+l.getSize(b)/2;return C<T?b:b+1}else{const x=p.target!==s?Math.max(0,Math.min(m.height,p.clientY-m.top)):p.offsetY,b=this.toRowFromMouse(x),E=this.freezeState,C=E.frozenRows>0&&x<et+E.frozenHeight?x-et:x-et-E.frozenHeight+this.rowDim.getOffset(E.frozenRows+1)+this.scroll.top,T=l.getOffset(b)+l.getSize(b)/2;return C<T?b:b+1}};this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:u(i)},this.renderOverlay();const c=p=>{const m=u(p);this.dragMove&&this.dragMove.dropIndex!==m&&(this.dragMove={axis:t,srcIndex:n,count:r,dropIndex:m},this.renderOverlay())},g=()=>{var m;s.style.cursor="",document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",g);const p=(m=this.dragMove)==null?void 0:m.dropIndex;this.dragMove=null,p!==void 0&&!(p>=n&&p<=n+r)?(t==="row"?this.sheet.moveRows(n,r,p):this.sheet.moveColumns(n,r,p)).then(()=>{const b=p<n?p:p-r;t==="row"?(this.sheet.selectRow(b),r>1&&this.sheet.selectRowRange(b,b+r-1)):(this.sheet.selectColumn(b),r>1&&this.sheet.selectColumnRange(b,b+r-1)),this.render()}):this.renderOverlay()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",g)}async handleFormulaKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.formulaBar.getFormulaInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.move("down"),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.focusGrid(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const i={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},s={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(i,s),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.formulaBar.getFormulaInput())):t.key==="Escape"?(t.preventDefault(),this.focusGrid(),this.render()):this.cellInput.isShown()||this.showCellInput(!0,!0)}}async handleCellInputKeydown(t){if(!t.isComposing){if(this.autocomplete.isListVisible())if(t.key==="ArrowDown"){t.preventDefault(),this.autocomplete.moveDown();return}else if(t.key==="ArrowUp"){t.preventDefault(),this.autocomplete.moveUp();return}else if(t.key==="Tab"||t.key==="Enter"){const n=this.autocomplete.getSelectedFunction();if(n){t.preventDefault(),this.insertFunctionCompletion(n.name,this.cellInput.getInput());return}}else t.key==="Escape"&&this.autocomplete.hide();else this.autocomplete.isHintVisible()&&t.key==="Escape"&&this.autocomplete.hide();if(t.key==="Enter"&&t.altKey){t.preventDefault(),document.execCommand("insertLineBreak");return}else if(t.key==="Enter")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView();else if(t.key==="Tab")t.preventDefault(),await this.finishEditing(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key.startsWith("Arrow")&&this.cellInput.hasFormula()&&!this.editMode&&this.isInFormulaRangeMode()){t.preventDefault();const r={...this.lastFormulaRefTarget||this.sheet.getActiveCell()};if(t.key==="ArrowDown"?r.r=Math.max(1,r.r+1):t.key==="ArrowUp"?r.r=Math.max(1,r.r-1):t.key==="ArrowLeft"?r.c=Math.max(1,r.c-1):t.key==="ArrowRight"&&(r.c=r.c+1),t.shiftKey&&this.formulaRangeAnchor){const i={r:Math.min(this.formulaRangeAnchor.r,r.r),c:Math.min(this.formulaRangeAnchor.c,r.c)},s={r:Math.max(this.formulaRangeAnchor.r,r.r),c:Math.max(this.formulaRangeAnchor.c,r.c)};this.insertReferenceAtCursor(i,s),this.lastFormulaRefTarget=r}else this.formulaRangeAnchor=r,this.formulaRefInsertPos=null,this.insertReferenceAtCursor(r)}else t.key.startsWith("Arrow")&&!this.cellInput.hasFormula()&&!this.editMode?(t.preventDefault(),await this.finishEditing(),t.key==="ArrowDown"?this.sheet.move("down"):t.key==="ArrowUp"?this.sheet.move("up"):t.key==="ArrowLeft"?this.sheet.move("left"):t.key==="ArrowRight"&&this.sheet.move("right"),this.render(),this.scrollIntoView()):t.key==="F4"?(t.preventDefault(),this.toggleAbsoluteReference(this.cellInput.getInput())):t.key==="Escape"&&(t.preventDefault(),this.focusGrid(),this.render())}}async copy(){const{text:t}=await this.sheet.copy();await navigator.clipboard.writeText(t)}async paste(){try{let t,n;if(navigator.clipboard.read)try{const r=await navigator.clipboard.read();for(const i of r)i.types.includes("text/html")&&(n=await(await i.getType("text/html")).text()),i.types.includes("text/plain")&&(t=await(await i.getType("text/plain")).text())}catch{t=await navigator.clipboard.readText()}else t=await navigator.clipboard.readText();await this.sheet.paste({text:t,html:n}),this.sheet.clearCopyBuffer(),this.render()}catch(t){console.error("Failed to paste cell content: ",t)}}async handleGridKeydown(t){const n=async(r,i,s)=>{t.preventDefault(),(i?this.sheet.resizeRange(r):s?await this.sheet.moveToEdge(r):this.sheet.move(r))&&(this.render(),this.scrollIntoView())};if(t.key==="ArrowDown")n("down",t.shiftKey,t.metaKey);else if(t.key==="ArrowUp")n("up",t.shiftKey,t.metaKey);else if(t.key==="ArrowLeft")n("left",t.shiftKey,t.metaKey);else if(t.key==="ArrowRight")n("right",t.shiftKey,t.metaKey);else if(t.key==="a"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.sheet.selectAll(),this.render();else if(t.key==="Tab")t.preventDefault(),this.sheet.moveInRange(0,t.shiftKey?-1:1),this.render(),this.scrollIntoView();else if(t.key==="Enter")t.preventDefault(),this.sheet.hasRange()?(this.sheet.moveInRange(t.shiftKey?-1:1,0),this.render(),this.scrollIntoView()):this.readOnly||this.showCellInput();else if(t.key==="Delete"||t.key==="Backspace"){if(this.readOnly)return;t.preventDefault(),await this.sheet.removeData()&&this.render()}else if(!t.metaKey&&!t.ctrlKey&&this.isValidCellInput(t.key)){if(this.readOnly)return;this.showCellInput(!0)}else if(t.key==="z"&&(t.metaKey||t.ctrlKey)&&!t.shiftKey){if(this.readOnly)return;t.preventDefault(),await this.sheet.undo()&&(this.render(),this.scrollIntoView())}else if((t.key==="z"&&t.shiftKey||t.key==="y")&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.redo()&&(this.render(),this.scrollIntoView())}else if(t.key==="Escape")t.preventDefault(),this.sheet.getCopyRange()&&(this.sheet.clearCopyBuffer(),this.renderOverlay());else if(t.key==="c"&&(t.metaKey||t.ctrlKey))t.preventDefault(),await this.copy();else if(t.key==="v"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.paste()}else if(t.key==="b"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("b"),this.render()}else if(t.key==="i"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("i"),this.render()}else if(t.key==="u"&&(t.metaKey||t.ctrlKey)){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleRangeStyle("u"),this.render()}else if((t.key==="m"||t.key==="M")&&(t.metaKey||t.ctrlKey)&&t.shiftKey){if(this.readOnly)return;t.preventDefault(),await this.sheet.toggleMergeSelection()&&this.render()}}async reloadDimensions(){await this.sheet.loadDimensions(),await this.sheet.loadStyles(),await this.sheet.loadMerges(),await this.sheet.loadFreezePane(),this.updateFreezeState()}setOnRender(t){this.onRenderCallback=t}render(){var t;this.formulaBar.render(),this.renderSheet(),this.renderOverlay(),(t=this.onRenderCallback)==null||t.call(this)}renderOverlay(){this.overlay.render(this.viewport,this.scroll,this.sheet.getActiveCell(),this.sheet.getPresences(),this.sheet.getRange(),this.rowDim,this.colDim,this.resizeHover,this.sheet.getSelectionType(),this.dragMove?{axis:this.dragMove.axis,dropIndex:this.dragMove.dropIndex}:null,this.formulaRanges,this.freezeState,this.freezeDrag,this.sheet.getCopyRange(),this.autofillPreview,!this.readOnly,this.sheet.getMerges())}get viewRange(){const t=this.scroll,n=this.viewport,r=this.freezeState,i=this.rowDim.getOffset(r.frozenRows+1),s=this.colDim.getOffset(r.frozenCols+1),l=Math.max(r.frozenRows+1,this.rowDim.findIndex(i+t.top)),u=Math.max(l,this.rowDim.findIndex(i+t.top+n.height)+1),c=Math.max(r.frozenCols+1,this.colDim.findIndex(s+t.left)),g=Math.max(c,this.colDim.findIndex(s+t.left+n.width)+1);return[{r:l,c},{r:u,c:g}]}scrollIntoView(t=this.sheet.getActiveCell()){const n=this.scroll,r=this.freezeState,i=r.frozenRows>0&&t.r<=r.frozenRows,s=r.frozenCols>0&&t.c<=r.frozenCols,l=Bn(t,{left:0,top:0},this.rowDim,this.colDim),u=this.sheet.getMerges().get(ot(t));if(u){const b=Bn({r:t.r+u.rs-1,c:t.c+u.cs-1},{left:0,top:0},this.rowDim,this.colDim);l.width=b.left+b.width-l.left,l.height=b.top+b.height-l.top}const c=this.colDim.getOffset(r.frozenCols+1),g=this.rowDim.getOffset(r.frozenRows+1),p=this.viewport.width-it-r.frozenWidth,m=this.viewport.height-et-r.frozenHeight;let x=!1;if(!s){const b=c+n.left,E=b+p,w=l.left-it,C=w+l.width;w<b?(this.scroll={left:w-c},x=!0):C>E&&(this.scroll={left:C-p-c},x=!0)}if(!i){const b=g+n.top,E=b+m,w=l.top-et,C=w+l.height;w<b?(this.scroll={top:w-g},x=!0):C>E&&(this.scroll={top:C-m-g},x=!0)}x&&this.render()}async showCellInput(t=!1,n=!1){n||(this.editMode=!t);const r=this.sheet.getActiveCell(),i=this.freezeState,s=i.frozenRows>0||i.frozenCols>0?Yp(r,this.scroll,this.rowDim,this.colDim,i):Bn(r,this.scroll,this.rowDim,this.colDim),l=this.sheet.getMerges().get(ot(r));if(l){const m=i.frozenRows>0||i.frozenCols>0?Yp({r:r.r+l.rs-1,c:r.c+l.cs-1},this.scroll,this.rowDim,this.colDim,i):Bn({r:r.r+l.rs-1,c:r.c+l.cs-1},this.scroll,this.rowDim,this.colDim);s.width=m.left+m.width-s.left,s.height=m.top+m.height-s.top}const u=t?"":await this.sheet.toInputString(r),c=Math.max(s.width,this.viewport.width-s.left),g=Math.max(s.height,this.viewport.height-s.top);this.cellInput.show(s.left,s.top,u,!n,s.width,s.height,c,g);const p=await this.sheet.getStyle(r);this.cellInput.applyStyle(p),u.startsWith("=")&&(this.formulaRanges=av(u).map(m=>m.range),this.renderOverlay())}isValidCellInput(t){return t.length===1||t==="Process"}async renderSheet(){const t=this.gridSize,n=this.freezeState;this.gridContainer.updateDummySize(t.width+it,t.height+et);const r=this.viewRange,i=[{r:1,c:1},{r:r[1].r,c:r[1].c}],s=await this.sheet.fetchGrid(i);this.gridCanvas.render(this.viewport,this.scroll,this.viewRange,this.sheet.getActiveCell(),s,this.rowDim,this.colDim,this.sheet.getSelectionType(),this.sheet.getRange(),n,this.freezeHandleHover,this.sheet.getColStyles(),this.sheet.getRowStyles(),this.sheet.getSheetStyle(),this.sheet.getMerges())}get gridSize(){const t=this.sheet.getDimension();return{width:this.colDim.getOffset(t.columns+1),height:this.rowDim.getOffset(t.rows+1)}}get viewport(){return this.gridContainer.getViewport()}get scroll(){return this.gridContainer.getScrollPosition()}set scroll(t){this.gridContainer.setScrollPosition(t)}}async function dB(e,t){const n=new RK(e,t),r=(t==null?void 0:t.store)||new iK;return await n.initialize(r),n}class RK{constructor(t,n){Y(this,"container");Y(this,"worksheet");Y(this,"sheet");Y(this,"theme");Y(this,"_readOnly");Y(this,"selectionChangeCallbacks",[]);this.container=t,this.container.style.position="relative",this.container.style.overflow="hidden",this.theme=(n==null?void 0:n.theme)||"light",this._readOnly=(n==null?void 0:n.readOnly)||!1,this.worksheet=new wK(this.container,this.theme,this._readOnly)}get readOnly(){return this._readOnly}async initialize(t){this.sheet=new rK(t),this.worksheet.setOnRender(()=>this.notifySelectionChange()),await this.worksheet.initialize(this.sheet)}async reloadDimensions(){await this.worksheet.reloadDimensions()}async setFreezePane(t,n){this._readOnly||await this.worksheet.setFreezePane(t,n)}render(){this.worksheet.render()}renderOverlay(){this.worksheet.renderOverlay()}async applyStyle(t){!this.sheet||this._readOnly||(await this.sheet.setRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async toggleStyle(t){!this.sheet||this._readOnly||(await this.sheet.toggleRangeStyle(t),this.worksheet.render(),this.notifySelectionChange())}async getActiveStyle(){if(this.sheet)return this.sheet.getStyle(this.sheet.getActiveCell())}onSelectionChange(t){return this.selectionChangeCallbacks.push(t),()=>{this.selectionChangeCallbacks=this.selectionChangeCallbacks.filter(n=>n!==t)}}notifySelectionChange(){for(const t of this.selectionChangeCallbacks)t()}async increaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:t+1}),this.worksheet.render(),this.notifySelectionChange()}async decreaseDecimals(){if(!this.sheet||this._readOnly)return;const t=await this.sheet.getActiveDecimalPlaces();await this.sheet.setRangeStyle({dp:Math.max(0,t-1)}),this.worksheet.render(),this.notifySelectionChange()}async toggleMergeCells(){!this.sheet||this._readOnly||await this.sheet.toggleMergeSelection()&&(this.worksheet.render(),this.notifySelectionChange())}isSelectionMerged(){return this.sheet?this.sheet.isSelectionMerged():!1}canMergeSelection(){return this.sheet?this.sheet.canMergeSelection():!1}async undo(){!this.sheet||this._readOnly||await this.sheet.undo()&&(this.worksheet.render(),this.notifySelectionChange())}async redo(){!this.sheet||this._readOnly||await this.sheet.redo()&&(this.worksheet.render(),this.notifySelectionChange())}toggleFunctionBrowser(){this.worksheet.toggleFunctionBrowser()}cleanup(){this.worksheet.cleanup(),this.selectionChangeCallbacks=[]}setGridResolver(t){this.sheet&&this.sheet.setGridResolver(t)}async recalculateCrossSheetFormulas(){this.sheet&&(await this.sheet.recalculateCrossSheetFormulas(),this.worksheet.render())}}var TK="Toggle",hB=P.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...s}=e,[l=!1,u]=vh({prop:n,onChange:i,defaultProp:r});return O.jsx(Yt.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:dt(e.onClick,()=>{e.disabled||u(!l)})})});hB.displayName=TK;var NK=hB;const _K=kS("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function WC({className:e,variant:t,size:n,...r}){return O.jsx(NK,{"data-slot":"toggle",className:St(_K({variant:t,size:n}),e),...r})}const IK=["#000000","#434343","#666666","#999999","#cccccc","#d50000","#e67c73","#f4511e","#ef6c00","#f09300","#0b8043","#33b679","#039be5","#3f51b5","#7986cb","#8e24aa","#d81b60","#ad1457","#6a1b9a","#4a148c"],OK=["#ffffff","#f3f3f3","#e8e8e8","#d9d9d9","#cccccc","#fce4ec","#fff3e0","#fff9c4","#e8f5e9","#e0f7fa","#e3f2fd","#ede7f6","#fce4ec","#f3e5f5","#e8eaf6","#ffcdd2","#ffe0b2","#fff59d","#c8e6c9","#b2dfdb"],DK={left:sF,center:oF,right:aF},MK={top:iF,middle:rF,bottom:nF},PK={plain:tF,number:cF,currency:nS,percent:Dw,date:lF},pB=typeof navigator<"u"&&/Mac|iPhone|iPad|iPod/.test(navigator.userAgent),lv=pB?"":"Ctrl";function LK({spreadsheet:e}){const[t,n]=P.useState(void 0),[r,i]=P.useState(!1),[s,l]=P.useState(!1),u=P.useMemo(()=>JD("en-US"),[]),c=P.useMemo(()=>JD(),[]),g=P.useCallback(async()=>{if(!e)return;const Ce=await e.getActiveStyle();n(Ce),i(e.isSelectionMerged()),l(e.canMergeSelection())},[e]);P.useEffect(()=>{if(e)return g(),e.onSelectionChange(g)},[e,g]);const p=P.useCallback(Ce=>{e==null||e.toggleStyle(Ce)},[e]),m=P.useCallback(Ce=>{e==null||e.applyStyle({al:Ce})},[e]),x=P.useCallback(Ce=>{e==null||e.applyStyle({va:Ce})},[e]),b=P.useCallback(Ce=>{e==null||e.applyStyle({tc:Ce})},[e]),E=P.useCallback(()=>{e==null||e.applyStyle({tc:""})},[e]),w=P.useCallback(Ce=>{e==null||e.applyStyle({bg:Ce})},[e]),C=P.useCallback(()=>{e==null||e.applyStyle({bg:""})},[e]),R=P.useCallback(()=>{e==null||e.undo()},[e]),T=P.useCallback(()=>{e==null||e.redo()},[e]),_=P.useCallback(()=>{e==null||e.toggleFunctionBrowser()},[e]),D=P.useCallback(Ce=>{e==null||e.applyStyle({nf:Ce})},[e]),F=P.useCallback(()=>{e==null||e.increaseDecimals()},[e]),B=P.useCallback(()=>{e==null||e.decreaseDecimals()},[e]),j=P.useCallback(()=>{e==null||e.toggleMergeCells()},[e]),k=(t==null?void 0:t.al)||"left",$=DK[k],Z=(t==null?void 0:t.va)||"top",ne=MK[Z],re=(t==null?void 0:t.nf)||"plain",he=PK[re];return O.jsxs("div",{className:"flex items-center gap-0.5 border-b px-2 py-1 bg-background",children:[O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:R,children:O.jsx(W8,{size:16})})}),O.jsxs($r,{children:["Undo (",lv,"+Z)"]})]}),O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:T,children:O.jsx(Y8,{size:16})})}),O.jsxs($r,{children:["Redo (",lv,"+",pB?"Z":"Y",")"]})]}),O.jsx($p,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>D("currency"),children:O.jsx(nS,{size:16})})}),O.jsxs($r,{children:["Format as currency (",c.currency,")"]})]}),O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:()=>D("percent"),children:O.jsx(Dw,{size:16})})}),O.jsx($r,{children:"Format as percent"})]}),O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:B,children:[O.jsx(yN,{size:16}),O.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"-"})]})}),O.jsx($r,{children:"Decrease decimal places"})]}),O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",onClick:F,children:[O.jsx(yN,{size:16}),O.jsx("span",{className:"absolute mt-3.5 ml-3 text-[8px] font-bold leading-none",children:"+"})]})}),O.jsx($r,{children:"Increase decimal places"})]}),O.jsxs(Ta,{children:[O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx(Na,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(he,{size:16}),O.jsx(nE,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx($r,{children:"More format"})]}),O.jsxs(_a,{children:[O.jsx(tS,{className:"text-xs font-normal text-muted-foreground",children:"Common formats (US examples)"}),O.jsx(Zp,{}),O.jsxs(cr,{onClick:()=>D("plain"),children:[O.jsx(tF,{size:16,className:"mr-2"}),"Plain text"]}),O.jsxs(cr,{onClick:()=>D("number"),children:[O.jsx(cF,{size:16,className:"mr-2"}),"Number",O.jsx(B0,{children:u.number})]}),O.jsxs(cr,{onClick:()=>D("currency"),children:[O.jsx(nS,{size:16,className:"mr-2"}),"Currency",O.jsx(B0,{children:u.currencyValue})]}),O.jsxs(cr,{onClick:()=>D("percent"),children:[O.jsx(Dw,{size:16,className:"mr-2"}),"Percent",O.jsx(B0,{children:u.percent})]}),O.jsx(Zp,{}),O.jsxs(tS,{className:"text-xs font-normal text-muted-foreground",children:["US date preview: ",u.date]}),O.jsx(Zp,{}),O.jsxs(tS,{className:"text-xs font-normal text-muted-foreground",children:["Your locale (",c.locale,")"]}),O.jsxs(cr,{onClick:()=>D("currency"),children:[O.jsx(nS,{size:16,className:"mr-2"}),"Locale currency",O.jsx(B0,{children:c.currencyValue})]}),O.jsxs(cr,{onClick:()=>D("date"),children:[O.jsx(lF,{size:16,className:"mr-2"}),"Locale date",O.jsx(B0,{children:c.date})]})]})]}),O.jsx($p,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx(WC,{size:"sm",pressed:(t==null?void 0:t.b)||!1,onPressedChange:()=>p("b"),className:"h-7 w-7 cursor-pointer",children:O.jsx(q8,{size:16})})}),O.jsxs($r,{children:["Bold (",lv,"+B)"]})]}),O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx(WC,{size:"sm",pressed:(t==null?void 0:t.i)||!1,onPressedChange:()=>p("i"),className:"h-7 w-7 cursor-pointer",children:O.jsx(Z8,{size:16})})}),O.jsxs($r,{children:["Italic (",lv,"+I)"]})]}),O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx(WC,{size:"sm",pressed:(t==null?void 0:t.st)||!1,onPressedChange:()=>p("st"),className:"h-7 w-7 cursor-pointer",children:O.jsx(rH,{size:16})})}),O.jsx($r,{children:"Strikethrough"})]}),O.jsxs(Ta,{children:[O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx(Na,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",children:[O.jsx(sH,{size:16}),O.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.tc)||"#000000"}})]})})}),O.jsx($r,{children:"Text color"})]}),O.jsxs(_a,{className:"w-auto p-2",children:[O.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:E,children:[O.jsx(xN,{size:14}),"Reset"]}),O.jsx("div",{className:"grid grid-cols-5 gap-1",children:IK.map(Ce=>O.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:Ce},onClick:()=>b(Ce)},Ce))})]})]}),O.jsx($p,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Ta,{children:[O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx(Na,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted",children:[O.jsx(eH,{size:16}),O.jsx("span",{className:"absolute mt-5 h-0.5 w-3.5 rounded",style:{backgroundColor:(t==null?void 0:t.bg)||"transparent",border:t!=null&&t.bg?"none":"1px solid #ccc"}})]})})}),O.jsx($r,{children:"Fill color"})]}),O.jsxs(_a,{className:"w-auto p-2",children:[O.jsxs("button",{className:"mb-2 flex w-full items-center gap-2 rounded px-2 py-1 text-xs hover:bg-muted",onClick:C,children:[O.jsx(xN,{size:14}),"Reset"]}),O.jsx("div",{className:"grid grid-cols-5 gap-1",children:OK.map(Ce=>O.jsx("button",{className:"h-5 w-5 rounded border border-border hover:scale-125 transition-transform",style:{backgroundColor:Ce},onClick:()=>w(Ce)},Ce))})]})]}),O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx("button",{className:`inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-sm hover:bg-muted disabled:cursor-not-allowed disabled:opacity-50 ${r?"bg-muted":""}`,onClick:j,disabled:!r&&!s,children:O.jsx(iH,{size:16})})}),O.jsx($r,{children:r?"Unmerge cells":`Merge cells (${lv}+Shift+M)`})]}),O.jsx($p,{orientation:"vertical",className:"mx-1 h-6"}),O.jsxs(Ta,{children:[O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx(Na,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx($,{size:16}),O.jsx(nE,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx($r,{children:"Horizontal align"})]}),O.jsxs(_a,{children:[O.jsxs(cr,{onClick:()=>m("left"),children:[O.jsx(sF,{size:16,className:"mr-2"}),"Left"]}),O.jsxs(cr,{onClick:()=>m("center"),children:[O.jsx(oF,{size:16,className:"mr-2"}),"Center"]}),O.jsxs(cr,{onClick:()=>m("right"),children:[O.jsx(aF,{size:16,className:"mr-2"}),"Right"]})]})]}),O.jsxs(Ta,{children:[O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx(Na,{asChild:!0,children:O.jsxs("button",{className:"inline-flex h-7 cursor-pointer items-center justify-center gap-0 rounded-md px-1 text-sm hover:bg-muted",children:[O.jsx(ne,{size:16}),O.jsx(nE,{size:12,className:"ml-0.5 opacity-50"})]})})}),O.jsx($r,{children:"Vertical align"})]}),O.jsxs(_a,{children:[O.jsxs(cr,{onClick:()=>x("top"),children:[O.jsx(iF,{size:16,className:"mr-2"}),"Top"]}),O.jsxs(cr,{onClick:()=>x("middle"),children:[O.jsx(rF,{size:16,className:"mr-2"}),"Middle"]}),O.jsxs(cr,{onClick:()=>x("bottom"),children:[O.jsx(nF,{size:16,className:"mr-2"}),"Bottom"]})]})]}),O.jsxs(Vr,{children:[O.jsx(Gr,{asChild:!0,children:O.jsx("button",{className:"inline-flex h-7 w-7 cursor-pointer items-center justify-center rounded-md text-[11px] font-semibold hover:bg-muted",onClick:_,children:O.jsx(Q8,{size:16,className:"mr-2"})})}),O.jsx($r,{children:"Functions"})]})]})}const FK={theme:"system",resolvedTheme:"light",setTheme:()=>null},zR=P.createContext(FK);function kK({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[i,s]=P.useState(()=>localStorage.getItem(n)||t),[l,u]=P.useState(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");P.useEffect(()=>{const g=window.document.documentElement;g.classList.remove("light","dark");let p;if(i==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";p=m,g.classList.add(m)}else p=i,g.classList.add(i);u(p)},[i]),P.useEffect(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>{if(i==="system"){const m=window.document.documentElement,x=g.matches?"dark":"light";m.classList.remove("light","dark"),m.classList.add(x),u(x)}};return g.addEventListener("change",p),()=>g.removeEventListener("change",p)},[i]);const c={theme:i,resolvedTheme:l,setTheme:g=>{localStorage.setItem(n,g),s(g)}};return O.jsx(zR.Provider,{...r,value:c,children:e})}const gB=()=>{const e=P.useContext(zR);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};class BK{constructor(t,n){Y(this,"doc");Y(this,"tabId");Y(this,"cellIndex",new FR);Y(this,"dirty",!0);Y(this,"batchOverlay",null);Y(this,"batchOps",null);this.doc=t,this.tabId=n,t.subscribe(r=>{r.type==="remote-change"&&(this.dirty=!0)})}getSheet(){return this.doc.getRoot().sheets[this.tabId]}ensureIndex(){if(!this.dirty)return;const t=this.getSheet().sheet,n=[];for(const r of Object.keys(t)){const i=Pt(r);n.push([i.r,i.c])}this.cellIndex.rebuild(n),this.dirty=!1}async set(t,n){const r=ot(t);if(this.batchOverlay){this.batchOverlay.set(r,n),this.dirty||this.cellIndex.add(t.r,t.c);return}const i=this.tabId;this.doc.update(s=>{s.sheets[i].sheet[r]=n}),this.dirty||this.cellIndex.add(t.r,t.c)}async get(t){const n=ot(t);if(this.batchOverlay&&this.batchOverlay.has(n)){const r=this.batchOverlay.get(n);return r===null?void 0:r}return this.getSheet().sheet[n]}async has(t){const n=ot(t);return this.batchOverlay&&this.batchOverlay.has(n)?this.batchOverlay.get(n)!==null:this.getSheet().sheet[n]!==void 0}async delete(t){const n=ot(t);if(this.batchOverlay){let s=!1;return this.batchOverlay.has(n)?s=this.batchOverlay.get(n)!==null:s=this.getSheet().sheet[n]!==void 0,s?(this.batchOverlay.set(n,null),this.dirty||this.cellIndex.remove(t.r,t.c),!0):!1}let r=!1;const i=this.tabId;return this.doc.update(s=>{s.sheets[i].sheet[n]!==void 0&&(delete s.sheets[i].sheet[n],r=!0)}),r&&!this.dirty&&this.cellIndex.remove(t.r,t.c),r}async deleteRange(t){this.ensureIndex();const n=Array.from(this.cellIndex.cellsInRange(t)),r=new Set;if(this.batchOverlay){for(const[s,l]of n){const u=ot({r:s,c:l});this.batchOverlay.has(u)&&this.batchOverlay.get(u)===null||(this.batchOverlay.set(u,null),r.add(u))}for(const[s,l]of n)this.cellIndex.remove(s,l);return r}const i=this.tabId;this.doc.update(s=>{for(const[l,u]of n){const c=ot({r:l,c:u});delete s.sheets[i].sheet[c],r.add(c)}});for(const[s,l]of n)this.cellIndex.remove(s,l);return r}async setGrid(t){if(this.batchOverlay){for(const[r,i]of t)this.batchOverlay.set(r,i);if(!this.dirty)for(const[r]of t){const i=Pt(r);this.cellIndex.add(i.r,i.c)}return}const n=this.tabId;if(this.doc.update(r=>{for(const[i,s]of t)r.sheets[n].sheet[i]=s}),!this.dirty)for(const[r]of t){const i=Pt(r);this.cellIndex.add(i.r,i.c)}}async getGrid(t){this.ensureIndex();const n=this.getSheet().sheet,r=new Map;for(const[i,s]of this.cellIndex.cellsInRange(t)){const l=ot({r:i,c:s});if(this.batchOverlay&&this.batchOverlay.has(l)){const c=this.batchOverlay.get(l);c!==null&&r.set(l,c);continue}const u=n[l];u!==void 0&&r.set(l,u)}return r}async findEdge(t,n,r){return this.ensureIndex(),kR(this.cellIndex,t,n,r,(i,s)=>{const l=ot({r:i,c:s}),u=this.getSheet().sheet[l];return u!==void 0&&(!!u.v||!!u.f)})}async shiftCells(t,n,r){const i=this.tabId;this.doc.update(s=>{const l=s.sheets[i],u=[];for(const[b,E]of Object.entries(l.sheet))u.push([b,{v:E.v,f:E.f,s:E.s}]);for(const[b]of u)delete l.sheet[b];for(const[b,E]of u){const w=oB(b,t,n,r);w!==null&&(E.f?l.sheet[w]={...E,f:sB(E.f,t,n,r)}:l.sheet[w]={...E})}const c=t==="row"?l.rowHeights:l.colWidths,g=[];for(const[b,E]of Object.entries(c))g.push([b,E]);for(const[b]of g)delete c[b];for(const[b,E]of g){const w=Number(b);if(r>0)w>=n?c[String(w+r)]=E:c[b]=E;else{const C=Math.abs(r);w>=n&&w<n+C||(w>=n+C?c[String(w+r)]=E:c[b]=E)}}const p=t==="row"?l.rowStyles:l.colStyles;if(p){const b=[];for(const[E,w]of Object.entries(p))b.push([E,w]);for(const[E]of b)delete p[E];for(const[E,w]of b){const C=Number(E);if(r>0)C>=n?p[String(C+r)]=w:p[E]=w;else{const R=Math.abs(r);C>=n&&C<n+R||(C>=n+R?p[String(C+r)]=w:p[E]=w)}}}const m=new Map(Object.entries(l.merges||{})),x=PR(m,t,n,r);l.merges={};for(const[b,E]of x)l.merges[b]=E}),this.dirty=!0}async moveCells(t,n,r,i){const s=this.tabId;this.doc.update(l=>{const u=l.sheets[s],c=[];for(const[E,w]of Object.entries(u.sheet))c.push([E,{v:w.v,f:w.f,s:w.s}]);for(const[E]of c)delete u.sheet[E];for(const[E,w]of c){const C=Pt(E),R=Kc(C,t,n,r,i),T=ot(R);w.f?u.sheet[T]={...w,f:iB(w.f,t,n,r,i)}:u.sheet[T]={...w}}const g=t==="row"?u.rowHeights:u.colWidths,p=[];for(const[E,w]of Object.entries(g))p.push([E,w]);for(const[E]of p)delete g[E];for(const[E,w]of p){const C=Number(E),R=nf(C,n,r,i);g[String(R)]=w}const m=t==="row"?u.rowStyles:u.colStyles;if(m){const E=[];for(const[w,C]of Object.entries(m))E.push([w,C]);for(const[w]of E)delete m[w];for(const[w,C]of E){const R=Number(w),T=nf(R,n,r,i);m[String(T)]=C}}const x=new Map(Object.entries(u.merges||{})),b=LR(x,t,n,r,i);u.merges={};for(const[E,w]of b)u.merges[E]=w}),this.dirty=!0}async getFormulaGrid(){const t=new Map,n=this.getSheet().sheet;for(const[r,i]of Object.entries(n))i.f&&t.set(r,i);return t}async buildDependantsMap(t){const n=new Map,r=this.getSheet().sheet;if(this.batchOverlay){for(const[i,s]of Object.entries(r))if(!this.batchOverlay.has(i)&&s.f)for(const l of Os(Sv(s.f)))ph(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(i));for(const[i,s]of this.batchOverlay)if(!(s===null||!s.f))for(const l of Os(Sv(s.f)))ph(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(i));return n}for(const[i,s]of Object.entries(r))if(s.f)for(const l of Os(Sv(s.f)))ph(l)||(n.has(l)||n.set(l,new Set),n.get(l).add(i));return n}async setDimensionSize(t,n,r){if(this.batchOps){const s=this.tabId;this.batchOps.push(l=>{const u=t==="row"?l.sheets[s].rowHeights:l.sheets[s].colWidths;u[String(n)]=r});return}const i=this.tabId;this.doc.update(s=>{const l=t==="row"?s.sheets[i].rowHeights:s.sheets[i].colWidths;l[String(n)]=r})}async getDimensionSizes(t){const n=this.getSheet(),r=t==="row"?n.rowHeights:n.colWidths,i=new Map;if(r)for(const[s,l]of Object.entries(r))i.set(Number(s),l);return i}updateActiveCell(t){this.doc.update((n,r)=>{r.set({activeCell:ot(t)})})}getPresences(){return this.doc.getOthersPresences()}async setColumnStyle(t,n){if(this.batchOps){const i=this.tabId;this.batchOps.push(s=>{s.sheets[i].colStyles||(s.sheets[i].colStyles={}),s.sheets[i].colStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(i=>{i.sheets[r].colStyles||(i.sheets[r].colStyles={}),i.sheets[r].colStyles[String(t)]=n})}async getColumnStyles(){const t=this.getSheet(),n=new Map;if(t.colStyles)for(const[r,i]of Object.entries(t.colStyles))n.set(Number(r),i);return n}async setRowStyle(t,n){if(this.batchOps){const i=this.tabId;this.batchOps.push(s=>{s.sheets[i].rowStyles||(s.sheets[i].rowStyles={}),s.sheets[i].rowStyles[String(t)]=n});return}const r=this.tabId;this.doc.update(i=>{i.sheets[r].rowStyles||(i.sheets[r].rowStyles={}),i.sheets[r].rowStyles[String(t)]=n})}async getRowStyles(){const t=this.getSheet(),n=new Map;if(t.rowStyles)for(const[r,i]of Object.entries(t.rowStyles))n.set(Number(r),i);return n}async setSheetStyle(t){if(this.batchOps){const r=this.tabId;this.batchOps.push(i=>{i.sheets[r].sheetStyle=t});return}const n=this.tabId;this.doc.update(r=>{r.sheets[n].sheetStyle=t})}async getSheetStyle(){const t=this.getSheet();return t.sheetStyle?{...t.sheetStyle}:void 0}async setMerge(t,n){if(this.batchOps){const s=this.tabId,l=ot(t);this.batchOps.push(u=>{u.sheets[s].merges||(u.sheets[s].merges={}),u.sheets[s].merges[l]={...n}});return}const r=this.tabId,i=ot(t);this.doc.update(s=>{s.sheets[r].merges||(s.sheets[r].merges={}),s.sheets[r].merges[i]={...n}})}async deleteMerge(t){var s;const n=ot(t);if(this.batchOps){const l=this.tabId;return!((s=this.getSheet().merges)!=null&&s[n])?!1:(this.batchOps.push(g=>{var p;(p=g.sheets[l].merges)!=null&&p[n]&&delete g.sheets[l].merges[n]}),!0)}let r=!1;const i=this.tabId;return this.doc.update(l=>{var u;(u=l.sheets[i].merges)!=null&&u[n]&&(delete l.sheets[i].merges[n],r=!0)}),r}async getMerges(){const t=this.getSheet(),n=new Map;if(!t.merges)return n;for(const[r,i]of Object.entries(t.merges))n.set(r,{...i});return n}async setFreezePane(t,n){if(this.batchOps){const i=this.tabId;this.batchOps.push(s=>{s.sheets[i].frozenRows=t,s.sheets[i].frozenCols=n});return}const r=this.tabId;this.doc.update(i=>{i.sheets[r].frozenRows=t,i.sheets[r].frozenCols=n})}async getFreezePane(){const t=this.getSheet();return{frozenRows:t.frozenRows??0,frozenCols:t.frozenCols??0}}beginBatch(){this.batchOverlay=new Map,this.batchOps=[]}endBatch(){const t=this.batchOverlay,n=this.batchOps;this.batchOverlay=null,this.batchOps=null;const r=t&&t.size>0,i=n&&n.length>0;if(!r&&!i)return;const s=this.tabId;this.doc.update(l=>{const u=l.sheets[s];if(t)for(const[c,g]of t)g===null?u.sheet[c]!==void 0&&delete u.sheet[c]:u.sheet[c]=g;if(n)for(const c of n)c(l)}),this.dirty=!0}async undo(){if(!this.doc.history.canUndo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet)),n=new Map(Object.entries(this.getSheet().merges||{}));return this.doc.history.undo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t,n)}}async redo(){if(!this.doc.history.canRedo())return{success:!1};const t=new Set(Object.keys(this.getSheet().sheet)),n=new Map(Object.entries(this.getSheet().merges||{}));return this.doc.history.redo(),this.dirty=!0,{success:!0,affectedRange:this.computeAffectedRange(t,n)}}computeAffectedRange(t,n){const r=new Set(Object.keys(this.getSheet().sheet)),i=new Map(Object.entries(this.getSheet().merges||{})),s=new Set;for(const p of r)t.has(p)||s.add(p);for(const p of t)r.has(p)||s.add(p);for(const[p,m]of i){const x=n.get(p);(!x||x.rs!==m.rs||x.cs!==m.cs)&&s.add(p)}for(const p of n.keys())i.has(p)||s.add(p);if(s.size===0)return;let l=1/0,u=-1/0,c=1/0,g=-1/0;for(const p of s){const m=Pt(p);m.r<l&&(l=m.r),m.r>u&&(u=m.r),m.c<c&&(c=m.c),m.c>g&&(g=m.c)}return[{r:l,c},{r:u,c:g}]}canUndo(){return this.doc.history.canUndo()}canRedo(){return this.doc.history.canRedo()}}function mB({tabId:e,readOnly:t=!1}){const{resolvedTheme:n}=gB(),r=P.useRef(null),[i,s]=P.useState(!1),l=P.useRef(void 0),{doc:u,loading:c,error:g}=La.useDocument();return P.useEffect(()=>{s(!0)},[]),P.useEffect(()=>{const p=r.current;if(!i||!p||!u)return;let m,x=[],b=!1,E=!1,w=!1;return dB(p,{theme:n,store:new BK(u,e),readOnly:t}).then(C=>{if(b){C.cleanup();return}m=C,l.current=C;const R=()=>{if(!(b||!m)){if(E){w=!0;return}E=!0,m.reloadDimensions().then(()=>{if(!(b||!m))return m.recalculateCrossSheetFormulas()}).finally(()=>{E=!1,w&&(w=!1,queueMicrotask(R))})}};C.setGridResolver((T,_)=>{const D=u.getRoot(),F=Object.values(D.tabs).find($=>$.name.toUpperCase()===T);if(!F)return;const B=D.sheets[F.id];if(!B)return;const j=new Map;if(B.merges)for(const[$,Z]of Object.entries(B.merges)){const ne=Pt($);for(let re=ne.r;re<ne.r+Z.rs;re++)for(let he=ne.c;he<ne.c+Z.cs;he++){const Ce=ot({r:re,c:he});Ce!==$&&j.set(Ce,$)}}const k=new Map;for(const $ of _){const Z=Pt($),ne=ot(Z),re=j.get(ne)||ne,he=B.sheet[re];he&&k.set($,he)}return k}),R(),x.push(u.subscribe(T=>{T.type==="remote-change"&&R()})),x.push(u.subscribe("presence",()=>m.renderOverlay()))}),()=>{b=!0,m&&m.cleanup(),l.current=void 0;for(const C of x)C()}},[i,r,u,e,t]),c?O.jsx(Mu,{}):g?O.jsx("div",{className:"flex h-full w-full items-center justify-center",children:O.jsx("div",{className:"text-red-500",children:g.message})}):O.jsxs("div",{className:"flex h-full w-full flex-col",children:[!t&&O.jsx(LK,{spreadsheet:l.current}),O.jsx("div",{ref:r,className:"flex-1 w-full"})]})}function jK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const S1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kg(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function UR(e){return"nodeType"in e}function Ji(e){var t,n;return e?kg(e)?e:UR(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function VR(e){const{Document:t}=Ji(e);return e instanceof t}function dy(e){return kg(e)?!1:e instanceof Ji(e).HTMLElement}function vB(e){return e instanceof Ji(e).SVGElement}function Bg(e){return e?kg(e)?e.document:UR(e)?VR(e)?e:dy(e)||vB(e)?e.ownerDocument:document:document:document}const Fa=S1?P.useLayoutEffect:P.useEffect;function GR(e){const t=P.useRef(e);return Fa(()=>{t.current=e}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function zK(){const e=P.useRef(null),t=P.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=P.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Mv(e,t){t===void 0&&(t=[e]);const n=P.useRef(e);return Fa(()=>{n.current!==e&&(n.current=e)},t),n}function hy(e,t){const n=P.useRef();return P.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function NS(e){const t=GR(e),n=P.useRef(null),r=P.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function Jw(e){const t=P.useRef();return P.useEffect(()=>{t.current=e},[e]),t.current}let YC={};function py(e,t){return P.useMemo(()=>{if(t)return t;const n=YC[e]==null?0:YC[e]+1;return YC[e]=n,e+"-"+n},[e,t])}function yB(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,l)=>{const u=Object.entries(l);for(const[c,g]of u){const p=s[c];p!=null&&(s[c]=p+e*g)}return s},{...t})}}const Qp=yB(1),_S=yB(-1);function UK(e){return"clientX"in e&&"clientY"in e}function $R(e){if(!e)return!1;const{KeyboardEvent:t}=Ji(e.target);return t&&e instanceof t}function VK(e){if(!e)return!1;const{TouchEvent:t}=Ji(e.target);return t&&e instanceof t}function Qw(e){if(VK(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return UK(e)?{x:e.clientX,y:e.clientY}:null}const Pv=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Pv.Translate.toString(e),Pv.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),i3="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function GK(e){return e.matches(i3)?e:e.querySelector(i3)}const $K={display:"none"};function HK(e){let{id:t,value:n}=e;return Ke.createElement("div",{id:t,style:$K},n)}function WK(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ke.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function YK(){const[e,t]=P.useState("");return{announce:P.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const xB=P.createContext(null);function qK(e){const t=P.useContext(xB);P.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function KK(){const[e]=P.useState(()=>new Set),t=P.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[P.useCallback(r=>{let{type:i,event:s}=r;e.forEach(l=>{var u;return(u=l[i])==null?void 0:u.call(l,s)})},[e]),t]}const XK={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ZK={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function JK(e){let{announcements:t=ZK,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=XK}=e;const{announce:s,announcement:l}=YK(),u=py("DndLiveRegion"),[c,g]=P.useState(!1);if(P.useEffect(()=>{g(!0)},[]),qK(P.useMemo(()=>({onDragStart(m){let{active:x}=m;s(t.onDragStart({active:x}))},onDragMove(m){let{active:x,over:b}=m;t.onDragMove&&s(t.onDragMove({active:x,over:b}))},onDragOver(m){let{active:x,over:b}=m;s(t.onDragOver({active:x,over:b}))},onDragEnd(m){let{active:x,over:b}=m;s(t.onDragEnd({active:x,over:b}))},onDragCancel(m){let{active:x,over:b}=m;s(t.onDragCancel({active:x,over:b}))}}),[s,t])),!c)return null;const p=Ke.createElement(Ke.Fragment,null,Ke.createElement(HK,{id:r,value:i.draggable}),Ke.createElement(WK,{id:u,announcement:l}));return n?Ia.createPortal(p,n):p}var Mr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Mr||(Mr={}));function IS(){}function QK(e,t){return P.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function eX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ls=Object.freeze({x:0,y:0});function tX(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nX(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function rX(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function iX(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function o3(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const oX=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=o3(t,t.left,t.top),s=[];for(const l of r){const{id:u}=l,c=n.get(u);if(c){const g=tX(o3(c),i);s.push({id:u,data:{droppableContainer:l,value:g}})}}return s.sort(nX)};function sX(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),l=i-r,u=s-n;if(r<i&&n<s){const c=t.width*t.height,g=e.width*e.height,p=l*u,m=p/(c+g-p);return Number(m.toFixed(4))}return 0}const aX=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const s of r){const{id:l}=s,u=n.get(l);if(u){const c=sX(u,t);c>0&&i.push({id:l,data:{droppableContainer:s,value:c}})}}return i.sort(rX)};function lX(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function bB(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ls}function uX(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const cX=uX(1);function fX(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function dX(e,t,n){const r=fX(t);if(!r)return e;const{scaleX:i,scaleY:s,x:l,y:u}=r,c=e.left-l-(1-i)*parseFloat(n),g=e.top-u-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?e.width/i:e.width,m=s?e.height/s:e.height;return{width:p,height:m,top:g,right:c+p,bottom:g+m,left:c}}const hX={ignoreTransform:!1};function jg(e,t){t===void 0&&(t=hX);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:g,transformOrigin:p}=Ji(e).getComputedStyle(e);g&&(n=dX(n,g,p))}const{top:r,left:i,width:s,height:l,bottom:u,right:c}=n;return{top:r,left:i,width:s,height:l,bottom:u,right:c}}function s3(e){return jg(e,{ignoreTransform:!0})}function pX(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function gX(e,t){return t===void 0&&(t=Ji(e).getComputedStyle(e)),t.position==="fixed"}function mX(e,t){t===void 0&&(t=Ji(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function HR(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(VR(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!dy(i)||vB(i)||n.includes(i))return n;const s=Ji(e).getComputedStyle(i);return i!==e&&mX(i,s)&&n.push(i),gX(i,s)?n:r(i.parentNode)}return e?r(e):n}function SB(e){const[t]=HR(e,1);return t??null}function qC(e){return!S1||!e?null:kg(e)?e:UR(e)?VR(e)||e===Bg(e).scrollingElement?window:dy(e)?e:null:null}function AB(e){return kg(e)?e.scrollX:e.scrollLeft}function EB(e){return kg(e)?e.scrollY:e.scrollTop}function e2(e){return{x:AB(e),y:EB(e)}}var Hr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Hr||(Hr={}));function CB(e){return!S1||!e?!1:e===document.scrollingElement}function wB(e){const t={x:0,y:0},n=CB(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const vX={x:.2,y:.2};function yX(e,t,n,r,i){let{top:s,left:l,right:u,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=vX);const{isTop:g,isBottom:p,isLeft:m,isRight:x}=wB(e),b={x:0,y:0},E={x:0,y:0},w={height:t.height*i.y,width:t.width*i.x};return!g&&s<=t.top+w.height?(b.y=Hr.Backward,E.y=r*Math.abs((t.top+w.height-s)/w.height)):!p&&c>=t.bottom-w.height&&(b.y=Hr.Forward,E.y=r*Math.abs((t.bottom-w.height-c)/w.height)),!x&&u>=t.right-w.width?(b.x=Hr.Forward,E.x=r*Math.abs((t.right-w.width-u)/w.width)):!m&&l<=t.left+w.width&&(b.x=Hr.Backward,E.x=r*Math.abs((t.left+w.width-l)/w.width)),{direction:b,speed:E}}function xX(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:l}=window;return{top:0,left:0,right:s,bottom:l,width:s,height:l}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function RB(e){return e.reduce((t,n)=>Qp(t,e2(n)),Ls)}function bX(e){return e.reduce((t,n)=>t+AB(n),0)}function SX(e){return e.reduce((t,n)=>t+EB(n),0)}function AX(e,t){if(t===void 0&&(t=jg),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);SB(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const EX=[["x",["left","right"],bX],["y",["top","bottom"],SX]];class WR{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=HR(n),i=RB(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,l,u]of EX)for(const c of l)Object.defineProperty(this,c,{get:()=>{const g=u(r),p=i[s]-g;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ev{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function CX(e){const{EventTarget:t}=Ji(e);return e instanceof t?e:Bg(e)}function KC(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var $o;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})($o||($o={}));function a3(e){e.preventDefault()}function wX(e){e.stopPropagation()}var En;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(En||(En={}));const TB={start:[En.Space,En.Enter],cancel:[En.Esc],end:[En.Space,En.Enter,En.Tab]},RX=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case En.Right:return{...n,x:n.x+25};case En.Left:return{...n,x:n.x-25};case En.Down:return{...n,y:n.y+25};case En.Up:return{...n,y:n.y-25}}};class NB{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ev(Bg(n)),this.windowListeners=new Ev(Ji(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($o.Resize,this.handleCancel),this.windowListeners.add($o.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($o.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&AX(r),n(Ls)}handleKeyDown(t){if($R(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=TB,coordinateGetter:l=RX,scrollBehavior:u="smooth"}=i,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:g}=r.current,p=g?{x:g.left,y:g.top}:Ls;this.referenceCoordinates||(this.referenceCoordinates=p);const m=l(t,{active:n,context:r.current,currentCoordinates:p});if(m){const x=_S(m,p),b={x:0,y:0},{scrollableAncestors:E}=r.current;for(const w of E){const C=t.code,{isTop:R,isRight:T,isLeft:_,isBottom:D,maxScroll:F,minScroll:B}=wB(w),j=xX(w),k={x:Math.min(C===En.Right?j.right-j.width/2:j.right,Math.max(C===En.Right?j.left:j.left+j.width/2,m.x)),y:Math.min(C===En.Down?j.bottom-j.height/2:j.bottom,Math.max(C===En.Down?j.top:j.top+j.height/2,m.y))},$=C===En.Right&&!T||C===En.Left&&!_,Z=C===En.Down&&!D||C===En.Up&&!R;if($&&k.x!==m.x){const ne=w.scrollLeft+x.x,re=C===En.Right&&ne<=F.x||C===En.Left&&ne>=B.x;if(re&&!x.y){w.scrollTo({left:ne,behavior:u});return}re?b.x=w.scrollLeft-ne:b.x=C===En.Right?w.scrollLeft-F.x:w.scrollLeft-B.x,b.x&&w.scrollBy({left:-b.x,behavior:u});break}else if(Z&&k.y!==m.y){const ne=w.scrollTop+x.y,re=C===En.Down&&ne<=F.y||C===En.Up&&ne>=B.y;if(re&&!x.x){w.scrollTo({top:ne,behavior:u});return}re?b.y=w.scrollTop-ne:b.y=C===En.Down?w.scrollTop-F.y:w.scrollTop-B.y,b.y&&w.scrollBy({top:-b.y,behavior:u});break}}this.handleMove(t,Qp(_S(m,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}NB.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=TB,onActivation:i}=t,{active:s}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=s.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function l3(e){return!!(e&&"distance"in e)}function u3(e){return!!(e&&"delay"in e)}class YR{constructor(t,n,r){var i;r===void 0&&(r=CX(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:l}=s;this.props=t,this.events=n,this.document=Bg(l),this.documentListeners=new Ev(this.document),this.listeners=new Ev(r),this.windowListeners=new Ev(Ji(l)),this.initialCoordinates=(i=Qw(s))!=null?i:Ls,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add($o.Resize,this.handleCancel),this.windowListeners.add($o.DragStart,a3),this.windowListeners.add($o.VisibilityChange,this.handleCancel),this.windowListeners.add($o.ContextMenu,a3),this.documentListeners.add($o.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(u3(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(l3(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add($o.Click,wX,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($o.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:l,options:{activationConstraint:u}}=s;if(!i)return;const c=(n=Qw(t))!=null?n:Ls,g=_S(i,c);if(!r&&u){if(l3(u)){if(u.tolerance!=null&&KC(g,u.tolerance))return this.handleCancel();if(KC(g,u.distance))return this.handleStart()}if(u3(u)&&KC(g,u.tolerance))return this.handleCancel();this.handlePending(u,g);return}t.cancelable&&t.preventDefault(),l(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===En.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const TX={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class qR extends YR{constructor(t){const{event:n}=t,r=Bg(n.target);super(t,TX,r)}}qR.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const NX={move:{name:"mousemove"},end:{name:"mouseup"}};var t2;(function(e){e[e.RightClick=2]="RightClick"})(t2||(t2={}));class _X extends YR{constructor(t){super(t,NX,Bg(t.event.target))}}_X.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===t2.RightClick?!1:(r==null||r({event:n}),!0)}}];const XC={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class IX extends YR{constructor(t){super(t,XC)}static setup(){return window.addEventListener(XC.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(XC.move.name,t)};function t(){}}}IX.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Cv;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Cv||(Cv={}));var OS;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(OS||(OS={}));function OX(e){let{acceleration:t,activator:n=Cv.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:l=5,order:u=OS.TreeOrder,pointerCoordinates:c,scrollableAncestors:g,scrollableAncestorRects:p,delta:m,threshold:x}=e;const b=MX({delta:m,disabled:!s}),[E,w]=zK(),C=P.useRef({x:0,y:0}),R=P.useRef({x:0,y:0}),T=P.useMemo(()=>{switch(n){case Cv.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Cv.DraggableRect:return i}},[n,i,c]),_=P.useRef(null),D=P.useCallback(()=>{const B=_.current;if(!B)return;const j=C.current.x*R.current.x,k=C.current.y*R.current.y;B.scrollBy(j,k)},[]),F=P.useMemo(()=>u===OS.TreeOrder?[...g].reverse():g,[u,g]);P.useEffect(()=>{if(!s||!g.length||!T){w();return}for(const B of F){if((r==null?void 0:r(B))===!1)continue;const j=g.indexOf(B),k=p[j];if(!k)continue;const{direction:$,speed:Z}=yX(B,k,T,t,x);for(const ne of["x","y"])b[ne][$[ne]]||(Z[ne]=0,$[ne]=0);if(Z.x>0||Z.y>0){w(),_.current=B,E(D,l),C.current=Z,R.current=$;return}}C.current={x:0,y:0},R.current={x:0,y:0},w()},[t,D,r,w,s,l,JSON.stringify(T),JSON.stringify(b),E,g,F,p,JSON.stringify(x)])}const DX={x:{[Hr.Backward]:!1,[Hr.Forward]:!1},y:{[Hr.Backward]:!1,[Hr.Forward]:!1}};function MX(e){let{delta:t,disabled:n}=e;const r=Jw(t);return hy(i=>{if(n||!r||!i)return DX;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Hr.Backward]:i.x[Hr.Backward]||s.x===-1,[Hr.Forward]:i.x[Hr.Forward]||s.x===1},y:{[Hr.Backward]:i.y[Hr.Backward]||s.y===-1,[Hr.Forward]:i.y[Hr.Forward]||s.y===1}}},[n,t,r])}function PX(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return hy(i=>{var s;return t==null?null:(s=r??i)!=null?s:null},[r,t])}function LX(e,t){return P.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...s]},[]),[e,t])}var Lv;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Lv||(Lv={}));var n2;(function(e){e.Optimized="optimized"})(n2||(n2={}));const c3=new Map;function FX(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,l]=P.useState(null),{frequency:u,measure:c,strategy:g}=i,p=P.useRef(e),m=C(),x=Mv(m),b=P.useCallback(function(R){R===void 0&&(R=[]),!x.current&&l(T=>T===null?R:T.concat(R.filter(_=>!T.includes(_))))},[x]),E=P.useRef(null),w=hy(R=>{if(m&&!n)return c3;if(!R||R===c3||p.current!==e||s!=null){const T=new Map;for(let _ of e){if(!_)continue;if(s&&s.length>0&&!s.includes(_.id)&&_.rect.current){T.set(_.id,_.rect.current);continue}const D=_.node.current,F=D?new WR(c(D),D):null;_.rect.current=F,F&&T.set(_.id,F)}return T}return R},[e,s,n,m,c]);return P.useEffect(()=>{p.current=e},[e]),P.useEffect(()=>{m||b()},[n,m]),P.useEffect(()=>{s&&s.length>0&&l(null)},[JSON.stringify(s)]),P.useEffect(()=>{m||typeof u!="number"||E.current!==null||(E.current=setTimeout(()=>{b(),E.current=null},u))},[u,m,b,...r]),{droppableRects:w,measureDroppableContainers:b,measuringScheduled:s!=null};function C(){switch(g){case Lv.Always:return!1;case Lv.BeforeDragging:return n;default:return!n}}}function _B(e,t){return hy(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function kX(e,t){return _B(e,t)}function BX(e){let{callback:t,disabled:n}=e;const r=GR(t),i=P.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return P.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function A1(e){let{callback:t,disabled:n}=e;const r=GR(t),i=P.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return P.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function jX(e){return new WR(jg(e),e)}function f3(e,t,n){t===void 0&&(t=jX);const[r,i]=P.useState(null);function s(){i(c=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=c??n)!=null?g:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const l=BX({callback(c){if(e)for(const g of c){const{type:p,target:m}=g;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){s();break}}}}),u=A1({callback:s});return Fa(()=>{s(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function zX(e){const t=_B(e);return bB(e,t)}const d3=[];function UX(e){const t=P.useRef(e),n=hy(r=>e?r&&r!==d3&&e&&t.current&&e.parentNode===t.current.parentNode?r:HR(e):d3,[e]);return P.useEffect(()=>{t.current=e},[e]),n}function VX(e){const[t,n]=P.useState(null),r=P.useRef(e),i=P.useCallback(s=>{const l=qC(s.target);l&&n(u=>u?(u.set(l,e2(l)),new Map(u)):null)},[]);return P.useEffect(()=>{const s=r.current;if(e!==s){l(s);const u=e.map(c=>{const g=qC(c);return g?(g.addEventListener("scroll",i,{passive:!0}),[g,e2(g)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(s)};function l(u){u.forEach(c=>{const g=qC(c);g==null||g.removeEventListener("scroll",i)})}},[i,e]),P.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,l)=>Qp(s,l),Ls):RB(e):Ls,[e,t])}function h3(e,t){t===void 0&&(t=[]);const n=P.useRef(null);return P.useEffect(()=>{n.current=null},t),P.useEffect(()=>{const r=e!==Ls;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?_S(e,n.current):Ls}function GX(e){P.useEffect(()=>{if(!S1)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function $X(e,t){return P.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=l=>{s(l,t)},n},{}),[e,t])}function IB(e){return P.useMemo(()=>e?pX(e):null,[e])}const p3=[];function HX(e,t){t===void 0&&(t=jg);const[n]=e,r=IB(n?Ji(n):null),[i,s]=P.useState(p3);function l(){s(()=>e.length?e.map(c=>CB(c)?r:new WR(t(c),c)):p3)}const u=A1({callback:l});return Fa(()=>{u==null||u.disconnect(),l(),e.forEach(c=>u==null?void 0:u.observe(c))},[e]),i}function WX(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return dy(t)?t:e}function YX(e){let{measure:t}=e;const[n,r]=P.useState(null),i=P.useCallback(g=>{for(const{target:p}of g)if(dy(p)){r(m=>{const x=t(p);return m?{...m,width:x.width,height:x.height}:x});break}},[t]),s=A1({callback:i}),l=P.useCallback(g=>{const p=WX(g);s==null||s.disconnect(),p&&(s==null||s.observe(p)),r(p?t(p):null)},[t,s]),[u,c]=NS(l);return P.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const qX=[{sensor:qR,options:{}},{sensor:NB,options:{}}],KX={current:{}},cS={draggable:{measure:s3},droppable:{measure:s3,strategy:Lv.WhileDragging,frequency:n2.Optimized},dragOverlay:{measure:jg}};class wv extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const XX={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new wv,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:IS},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:cS,measureDroppableContainers:IS,windowRect:null,measuringScheduled:!1},ZX={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:IS,draggableNodes:new Map,over:null,measureDroppableContainers:IS},E1=P.createContext(ZX),OB=P.createContext(XX);function JX(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new wv}}}function QX(e,t){switch(t.type){case Mr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Mr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Mr.DragEnd:case Mr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Mr.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new wv(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Mr.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const l=new wv(e.droppable.containers);return l.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case Mr.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new wv(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function eZ(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=P.useContext(E1),s=Jw(r),l=Jw(n==null?void 0:n.id);return P.useEffect(()=>{if(!t&&!r&&s&&l!=null){if(!$R(s)||document.activeElement===s.target)return;const u=i.get(l);if(!u)return;const{activatorNode:c,node:g}=u;if(!c.current&&!g.current)return;requestAnimationFrame(()=>{for(const p of[c.current,g.current]){if(!p)continue;const m=GK(p);if(m){m.focus();break}}})}},[r,t,i,l,s]),null}function tZ(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}function nZ(e){return P.useMemo(()=>({draggable:{...cS.draggable,...e==null?void 0:e.draggable},droppable:{...cS.droppable,...e==null?void 0:e.droppable},dragOverlay:{...cS.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function rZ(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=P.useRef(!1),{x:l,y:u}=typeof i=="boolean"?{x:i,y:i}:i;Fa(()=>{if(!l&&!u||!t){s.current=!1;return}if(s.current||!r)return;const g=t==null?void 0:t.node.current;if(!g||g.isConnected===!1)return;const p=n(g),m=bB(p,r);if(l||(m.x=0),u||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const x=SB(g);x&&x.scrollBy({top:m.y,left:m.x})}},[t,l,u,r,n])}const DB=P.createContext({...Ls,scaleX:1,scaleY:1});var Lc;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Lc||(Lc={}));const iZ=P.memo(function(t){var n,r,i,s;let{id:l,accessibility:u,autoScroll:c=!0,children:g,sensors:p=qX,collisionDetection:m=aX,measuring:x,modifiers:b,...E}=t;const w=P.useReducer(QX,void 0,JX),[C,R]=w,[T,_]=KK(),[D,F]=P.useState(Lc.Uninitialized),B=D===Lc.Initialized,{draggable:{active:j,nodes:k,translate:$},droppable:{containers:Z}}=C,ne=j!=null?k.get(j):null,re=P.useRef({initial:null,translated:null}),he=P.useMemo(()=>{var un;return j!=null?{id:j,data:(un=ne==null?void 0:ne.data)!=null?un:KX,rect:re}:null},[j,ne]),Ce=P.useRef(null),[_e,ie]=P.useState(null),[Ae,de]=P.useState(null),ue=Mv(E,Object.values(E)),K=py("DndDescribedBy",l),oe=P.useMemo(()=>Z.getEnabled(),[Z]),pe=nZ(x),{droppableRects:z,measureDroppableContainers:U,measuringScheduled:G}=FX(oe,{dragging:B,dependencies:[$.x,$.y],config:pe.droppable}),W=PX(k,j),Q=P.useMemo(()=>Ae?Qw(Ae):null,[Ae]),X=qn(),J=kX(W,pe.draggable.measure);rZ({activeNode:j!=null?k.get(j):null,config:X.layoutShiftCompensation,initialRect:J,measure:pe.draggable.measure});const se=f3(W,pe.draggable.measure,J),xe=f3(W?W.parentElement:null),be=P.useRef({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ae=Z.getNodeFor((n=be.current.over)==null?void 0:n.id),le=YX({measure:pe.dragOverlay.measure}),we=(r=le.nodeRef.current)!=null?r:W,De=B?(i=le.rect)!=null?i:se:null,je=!!(le.nodeRef.current&&le.rect),Ue=zX(je?null:se),ve=IB(we?Ji(we):null),Pe=UX(B?ae??W:null),Ze=HX(Pe),pt=tZ(b,{transform:{x:$.x-Ue.x,y:$.y-Ue.y,scaleX:1,scaleY:1},activatorEvent:Ae,active:he,activeNodeRect:se,containerNodeRect:xe,draggingNodeRect:De,over:be.current.over,overlayNodeRect:le.rect,scrollableAncestors:Pe,scrollableAncestorRects:Ze,windowRect:ve}),gt=Q?Qp(Q,$):null,me=VX(Pe),Ie=h3(me),qe=h3(me,[se]),Ye=Qp(pt,Ie),tt=De?cX(De,pt):null,lt=he&&tt?m({active:he,collisionRect:tt,droppableRects:z,droppableContainers:oe,pointerCoordinates:gt}):null,xt=iX(lt,"id"),[Rt,It]=P.useState(null),ln=je?pt:Qp(pt,qe),ke=lX(ln,(s=Rt==null?void 0:Rt.rect)!=null?s:null,se),nt=P.useRef(null),mt=P.useCallback((un,er)=>{let{sensor:rt,options:cn}=er;if(Ce.current==null)return;const Qt=k.get(Ce.current);if(!Qt)return;const rn=un.nativeEvent,vr=new rt({active:Ce.current,activeNode:Qt,event:rn,options:cn,context:be,onAbort(Bt){if(!k.get(Bt))return;const{onDragAbort:Lt}=ue.current,wn={id:Bt};Lt==null||Lt(wn),T({type:"onDragAbort",event:wn})},onPending(Bt,fn,Lt,wn){if(!k.get(Bt))return;const{onDragPending:Sr}=ue.current,yi={id:Bt,constraint:fn,initialCoordinates:Lt,offset:wn};Sr==null||Sr(yi),T({type:"onDragPending",event:yi})},onStart(Bt){const fn=Ce.current;if(fn==null)return;const Lt=k.get(fn);if(!Lt)return;const{onDragStart:wn}=ue.current,Di={activatorEvent:rn,active:{id:fn,data:Lt.data,rect:re}};Ia.unstable_batchedUpdates(()=>{wn==null||wn(Di),F(Lc.Initializing),R({type:Mr.DragStart,initialCoordinates:Bt,active:fn}),T({type:"onDragStart",event:Di}),ie(nt.current),de(rn)})},onMove(Bt){R({type:Mr.DragMove,coordinates:Bt})},onEnd:qt(Mr.DragEnd),onCancel:qt(Mr.DragCancel)});nt.current=vr;function qt(Bt){return async function(){const{active:Lt,collisions:wn,over:Di,scrollAdjustedTranslate:Sr}=be.current;let yi=null;if(Lt&&Sr){const{cancelDrop:qo}=ue.current;yi={activatorEvent:rn,active:Lt,collisions:wn,delta:Sr,over:Di},Bt===Mr.DragEnd&&typeof qo=="function"&&await Promise.resolve(qo(yi))&&(Bt=Mr.DragCancel)}Ce.current=null,Ia.unstable_batchedUpdates(()=>{R({type:Bt}),F(Lc.Uninitialized),It(null),ie(null),de(null),nt.current=null;const qo=Bt===Mr.DragEnd?"onDragEnd":"onDragCancel";if(yi){const Qi=ue.current[qo];Qi==null||Qi(yi),T({type:qo,event:yi})}})}}},[k]),At=P.useCallback((un,er)=>(rt,cn)=>{const Qt=rt.nativeEvent,rn=k.get(cn);if(Ce.current!==null||!rn||Qt.dndKit||Qt.defaultPrevented)return;const vr={active:rn};un(rt,er.options,vr)===!0&&(Qt.dndKit={capturedBy:er.sensor},Ce.current=cn,mt(rt,er))},[k,mt]),Dt=LX(p,At);GX(p),Fa(()=>{se&&D===Lc.Initializing&&F(Lc.Initialized)},[se,D]),P.useEffect(()=>{const{onDragMove:un}=ue.current,{active:er,activatorEvent:rt,collisions:cn,over:Qt}=be.current;if(!er||!rt)return;const rn={active:er,activatorEvent:rt,collisions:cn,delta:{x:Ye.x,y:Ye.y},over:Qt};Ia.unstable_batchedUpdates(()=>{un==null||un(rn),T({type:"onDragMove",event:rn})})},[Ye.x,Ye.y]),P.useEffect(()=>{const{active:un,activatorEvent:er,collisions:rt,droppableContainers:cn,scrollAdjustedTranslate:Qt}=be.current;if(!un||Ce.current==null||!er||!Qt)return;const{onDragOver:rn}=ue.current,vr=cn.get(xt),qt=vr&&vr.rect.current?{id:vr.id,rect:vr.rect.current,data:vr.data,disabled:vr.disabled}:null,Bt={active:un,activatorEvent:er,collisions:rt,delta:{x:Qt.x,y:Qt.y},over:qt};Ia.unstable_batchedUpdates(()=>{It(qt),rn==null||rn(Bt),T({type:"onDragOver",event:Bt})})},[xt]),Fa(()=>{be.current={activatorEvent:Ae,active:he,activeNode:W,collisionRect:tt,collisions:lt,droppableRects:z,draggableNodes:k,draggingNode:we,draggingNodeRect:De,droppableContainers:Z,over:Rt,scrollableAncestors:Pe,scrollAdjustedTranslate:Ye},re.current={initial:De,translated:tt}},[he,W,lt,tt,k,we,De,z,Z,Rt,Pe,Ye]),OX({...X,delta:$,draggingRect:tt,pointerCoordinates:gt,scrollableAncestors:Pe,scrollableAncestorRects:Ze});const xn=P.useMemo(()=>({active:he,activeNode:W,activeNodeRect:se,activatorEvent:Ae,collisions:lt,containerNodeRect:xe,dragOverlay:le,draggableNodes:k,droppableContainers:Z,droppableRects:z,over:Rt,measureDroppableContainers:U,scrollableAncestors:Pe,scrollableAncestorRects:Ze,measuringConfiguration:pe,measuringScheduled:G,windowRect:ve}),[he,W,se,Ae,lt,xe,le,k,Z,z,Rt,U,Pe,Ze,pe,G,ve]),jn=P.useMemo(()=>({activatorEvent:Ae,activators:Dt,active:he,activeNodeRect:se,ariaDescribedById:{draggable:K},dispatch:R,draggableNodes:k,over:Rt,measureDroppableContainers:U}),[Ae,Dt,he,se,R,K,k,Rt,U]);return Ke.createElement(xB.Provider,{value:_},Ke.createElement(E1.Provider,{value:jn},Ke.createElement(OB.Provider,{value:xn},Ke.createElement(DB.Provider,{value:ke},g)),Ke.createElement(eZ,{disabled:(u==null?void 0:u.restoreFocus)===!1})),Ke.createElement(JK,{...u,hiddenTextDescribedById:K}));function qn(){const un=(_e==null?void 0:_e.autoScrollEnabled)===!1,er=typeof c=="object"?c.enabled===!1:c===!1,rt=B&&!un&&!er;return typeof c=="object"?{...c,enabled:rt}:{enabled:rt}}}),oZ=P.createContext(null),g3="button",sZ="Draggable";function aZ(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=py(sZ),{activators:l,activatorEvent:u,active:c,activeNodeRect:g,ariaDescribedById:p,draggableNodes:m,over:x}=P.useContext(E1),{role:b=g3,roleDescription:E="draggable",tabIndex:w=0}=i??{},C=(c==null?void 0:c.id)===t,R=P.useContext(C?DB:oZ),[T,_]=NS(),[D,F]=NS(),B=$X(l,t),j=Mv(n);Fa(()=>(m.set(t,{id:t,key:s,node:T,activatorNode:D,data:j}),()=>{const $=m.get(t);$&&$.key===s&&m.delete(t)}),[m,t]);const k=P.useMemo(()=>({role:b,tabIndex:w,"aria-disabled":r,"aria-pressed":C&&b===g3?!0:void 0,"aria-roledescription":E,"aria-describedby":p.draggable}),[r,b,w,C,E,p.draggable]);return{active:c,activatorEvent:u,activeNodeRect:g,attributes:k,isDragging:C,listeners:r?void 0:B,node:T,over:x,setNodeRef:_,setActivatorNodeRef:F,transform:R}}function lZ(){return P.useContext(OB)}const uZ="Droppable",cZ={timeout:25};function fZ(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=py(uZ),{active:l,dispatch:u,over:c,measureDroppableContainers:g}=P.useContext(E1),p=P.useRef({disabled:n}),m=P.useRef(!1),x=P.useRef(null),b=P.useRef(null),{disabled:E,updateMeasurementsFor:w,timeout:C}={...cZ,...i},R=Mv(w??r),T=P.useCallback(()=>{if(!m.current){m.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{g(Array.isArray(R.current)?R.current:[R.current]),b.current=null},C)},[C]),_=A1({callback:T,disabled:E||!l}),D=P.useCallback((k,$)=>{_&&($&&(_.unobserve($),m.current=!1),k&&_.observe(k))},[_]),[F,B]=NS(D),j=Mv(t);return P.useEffect(()=>{!_||!F.current||(_.disconnect(),m.current=!1,_.observe(F.current))},[F,_]),P.useEffect(()=>(u({type:Mr.RegisterDroppable,element:{id:r,key:s,disabled:n,node:F,rect:x,data:j}}),()=>u({type:Mr.UnregisterDroppable,key:s,id:r})),[r]),P.useEffect(()=>{n!==p.current.disabled&&(u({type:Mr.SetDroppableDisabled,id:r,key:s,disabled:n}),p.current.disabled=n)},[r,s,n,u]),{active:l,rect:x,isOver:(c==null?void 0:c.id)===r,node:F,over:c,setNodeRef:B}}function MB(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function dZ(e,t){return e.reduce((n,r,i)=>{const s=t.get(r);return s&&(n[i]=s),n},Array(e.length))}function $b(e){return e!==null&&e>=0}function hZ(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function pZ(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Hb={scaleX:1,scaleY:1},gZ=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:i,overIndex:s,index:l}=e;const u=(t=n[i])!=null?t:r;if(!u)return null;const c=mZ(n,l,i);if(l===i){const g=n[s];return g?{x:i<s?g.left+g.width-(u.left+u.width):g.left-u.left,y:0,...Hb}:null}return l>i&&l<=s?{x:-u.width-c,y:0,...Hb}:l<i&&l>=s?{x:u.width+c,y:0,...Hb}:{x:0,y:0,...Hb}};function mZ(e,t,n){const r=e[t],i=e[t-1],s=e[t+1];return!r||!i&&!s?0:n<t?i?r.left-(i.left+i.width):s.left-(r.left+r.width):s?s.left-(r.left+r.width):r.left-(i.left+i.width)}const PB=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const s=MB(t,r,n),l=t[i],u=s[i];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},LB="Sortable",FB=Ke.createContext({activeIndex:-1,containerId:LB,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:PB,disabled:{draggable:!1,droppable:!1}});function vZ(e){let{children:t,id:n,items:r,strategy:i=PB,disabled:s=!1}=e;const{active:l,dragOverlay:u,droppableRects:c,over:g,measureDroppableContainers:p}=lZ(),m=py(LB,n),x=u.rect!==null,b=P.useMemo(()=>r.map(B=>typeof B=="object"&&"id"in B?B.id:B),[r]),E=l!=null,w=l?b.indexOf(l.id):-1,C=g?b.indexOf(g.id):-1,R=P.useRef(b),T=!hZ(b,R.current),_=C!==-1&&w===-1||T,D=pZ(s);Fa(()=>{T&&E&&p(b)},[T,b,E,p]),P.useEffect(()=>{R.current=b},[b]);const F=P.useMemo(()=>({activeIndex:w,containerId:m,disabled:D,disableTransforms:_,items:b,overIndex:C,useDragOverlay:x,sortedRects:dZ(b,c),strategy:i}),[w,m,D.draggable,D.droppable,_,b,C,c,x,i]);return Ke.createElement(FB.Provider,{value:F},t)}const yZ=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return MB(n,r,i).indexOf(t)},xZ=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:l,previousItems:u,previousContainerId:c,transition:g}=e;return!g||!r||u!==s&&i===l?!1:n?!0:l!==i&&t===c},bZ={duration:200,easing:"ease"},kB="transform",SZ=Pv.Transition.toString({property:kB,duration:0,easing:"linear"}),AZ={roleDescription:"sortable"};function EZ(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,l]=P.useState(null),u=P.useRef(n);return Fa(()=>{if(!t&&n!==u.current&&r.current){const c=i.current;if(c){const g=jg(r.current,{ignoreTransform:!0}),p={x:c.left-g.left,y:c.top-g.top,scaleX:c.width/g.width,scaleY:c.height/g.height};(p.x||p.y)&&l(p)}}n!==u.current&&(u.current=n)},[t,n,r,i]),P.useEffect(()=>{s&&l(null)},[s]),s}function CZ(e){let{animateLayoutChanges:t=xZ,attributes:n,disabled:r,data:i,getNewIndex:s=yZ,id:l,strategy:u,resizeObserverConfig:c,transition:g=bZ}=e;const{items:p,containerId:m,activeIndex:x,disabled:b,disableTransforms:E,sortedRects:w,overIndex:C,useDragOverlay:R,strategy:T}=P.useContext(FB),_=wZ(r,b),D=p.indexOf(l),F=P.useMemo(()=>({sortable:{containerId:m,index:D,items:p},...i}),[m,i,D,p]),B=P.useMemo(()=>p.slice(p.indexOf(l)),[p,l]),{rect:j,node:k,isOver:$,setNodeRef:Z}=fZ({id:l,data:F,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:B,...c}}),{active:ne,activatorEvent:re,activeNodeRect:he,attributes:Ce,setNodeRef:_e,listeners:ie,isDragging:Ae,over:de,setActivatorNodeRef:ue,transform:K}=aZ({id:l,data:F,attributes:{...AZ,...n},disabled:_.draggable}),oe=jK(Z,_e),pe=!!ne,z=pe&&!E&&$b(x)&&$b(C),U=!R&&Ae,G=U&&z?K:null,Q=z?G??(u??T)({rects:w,activeNodeRect:he,activeIndex:x,overIndex:C,index:D}):null,X=$b(x)&&$b(C)?s({id:l,items:p,activeIndex:x,overIndex:C}):D,J=ne==null?void 0:ne.id,se=P.useRef({activeId:J,items:p,newIndex:X,containerId:m}),xe=p!==se.current.items,be=t({active:ne,containerId:m,isDragging:Ae,isSorting:pe,id:l,index:D,items:p,newIndex:se.current.newIndex,previousItems:se.current.items,previousContainerId:se.current.containerId,transition:g,wasDragging:se.current.activeId!=null}),ae=EZ({disabled:!be,index:D,node:k,rect:j});return P.useEffect(()=>{pe&&se.current.newIndex!==X&&(se.current.newIndex=X),m!==se.current.containerId&&(se.current.containerId=m),p!==se.current.items&&(se.current.items=p)},[pe,X,m,p]),P.useEffect(()=>{if(J===se.current.activeId)return;if(J!=null&&se.current.activeId==null){se.current.activeId=J;return}const we=setTimeout(()=>{se.current.activeId=J},50);return()=>clearTimeout(we)},[J]),{active:ne,activeIndex:x,attributes:Ce,data:F,rect:j,index:D,newIndex:X,items:p,isOver:$,isSorting:pe,isDragging:Ae,listeners:ie,node:k,overIndex:C,over:de,setNodeRef:oe,setActivatorNodeRef:ue,setDroppableNodeRef:Z,setDraggableNodeRef:_e,transform:ae??Q,transition:le()};function le(){if(ae||xe&&se.current.newIndex===D)return SZ;if(!(U&&!$R(re)||!g)&&(pe||be))return Pv.Transition.toString({...g,property:kB})}}function wZ(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}En.Down,En.Right,En.Up,En.Left;const RZ=e=>{let{transform:t}=e;return{...t,y:0}};function TZ({tab:e,isActive:t,isEditing:n,editValue:r,onEditValueChange:i,onSelect:s,onStartRename:l,onCommitRename:u,onCancelRename:c,onContextMenu:g,inputRef:p}){const{attributes:m,listeners:x,setNodeRef:b,transform:E,transition:w,isDragging:C}=CZ({id:e.id,disabled:n}),R={transform:Pv.Translate.toString(E),transition:w,zIndex:C?10:void 0,opacity:C?.5:void 0};return O.jsxs("button",{ref:b,style:R,className:St("flex items-center gap-1.5 px-3 py-1 text-sm rounded-t border-b-2 cursor-pointer select-none","hover:bg-muted/50 transition-colors",t?"border-primary bg-background text-foreground font-medium":"border-transparent text-muted-foreground"),onClick:s,onDoubleClick:l,onContextMenu:g,...m,...x,children:[e.type==="datasource"?O.jsx(ey,{className:"size-3.5"}):O.jsx(hF,{className:"size-3.5"}),n?O.jsx("input",{ref:p,className:"w-20 bg-transparent border-b border-primary text-sm outline-none",value:r,onChange:T=>i(T.target.value),onBlur:u,onKeyDown:T=>{T.key==="Enter"&&u(),T.key==="Escape"&&c(),T.stopPropagation()},onMouseDown:T=>T.stopPropagation(),onClick:T=>T.stopPropagation(),onPointerDown:T=>T.stopPropagation()}):O.jsx("span",{children:e.name})]})}function NZ({tabs:e,activeTabId:t,onSelectTab:n,onAddTab:r,onRenameTab:i,onDeleteTab:s,onMoveTab:l}){const[u,c]=P.useState(null),[g,p]=P.useState(""),[m,x]=P.useState(null),b=P.useRef(null),E=eX(QK(qR,{activationConstraint:{distance:5}}));P.useEffect(()=>{if(!u)return;const _=setTimeout(()=>{b.current&&(b.current.focus(),b.current.select())},50);return()=>clearTimeout(_)},[u]);const w=P.useCallback(_=>{c(_.id),p(_.name)},[]),C=P.useCallback(()=>{u&&g.trim()&&i(u,g.trim()),c(null)},[u,g,i]),R=P.useCallback(()=>{c(null)},[]),T=P.useCallback(_=>{const{active:D,over:F}=_;if(!F||D.id===F.id||!l)return;const B=e.findIndex(k=>k.id===D.id),j=e.findIndex(k=>k.id===F.id);B!==-1&&j!==-1&&l(B,j)},[e,l]);return O.jsxs("div",{className:"flex items-center border-t bg-muted/30 px-1 h-9 shrink-0",children:[O.jsx(iZ,{sensors:E,collisionDetection:oX,modifiers:[RZ],onDragEnd:T,children:O.jsx(vZ,{items:e.map(_=>_.id),strategy:gZ,children:e.map(_=>O.jsxs(Ta,{open:m===_.id,onOpenChange:D=>{D||x(null)},children:[O.jsx(Na,{asChild:!0,children:O.jsx("div",{children:O.jsx(TZ,{tab:_,isActive:_.id===t,isEditing:u===_.id,editValue:g,onEditValueChange:p,onSelect:()=>n(_.id),onStartRename:()=>w(_),onCommitRename:C,onCancelRename:R,onContextMenu:D=>{D.preventDefault(),x(_.id)},inputRef:b})})}),O.jsxs(_a,{align:"start",children:[O.jsx(cr,{onClick:()=>{x(null),setTimeout(()=>w(_),0)},children:"Rename"}),e.length>1&&O.jsxs(O.Fragment,{children:[O.jsx(Zp,{}),O.jsx(cr,{variant:"destructive",onClick:()=>s(_.id),children:"Delete"})]})]})]},_.id))})}),O.jsxs(Ta,{children:[O.jsx(Na,{asChild:!0,children:O.jsx("button",{className:"flex items-center justify-center size-7 ml-1 rounded hover:bg-muted/50 text-muted-foreground cursor-pointer",children:O.jsx(fF,{className:"size-4"})})}),O.jsxs(_a,{align:"start",children:[O.jsxs(cr,{onClick:()=>r("sheet"),children:[O.jsx(hF,{className:"size-4"}),"New Sheet"]}),O.jsxs(cr,{onClick:()=>r("datasource"),children:[O.jsx(ey,{className:"size-4"}),"New DataSource"]})]})]})]})}const zg="https://wafflebase-api.yorkie.dev/datasources";async function m3(e){const t=await Ii(zg,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create datasource");return t.json()}async function r2(){const e=await Ii(zg);if(!e.ok)throw new Error("Failed to fetch datasources");return e.json()}async function _Z(e,t){const n=await Ii(`${zg}/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update datasource");return n.json()}async function IZ(e){if(!(await Ii(`${zg}/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete datasource")}async function DS(e){const t=await Ii(`${zg}/${e}/test`,{method:"POST"});if(!t.ok)throw new Error("Failed to test connection");return t.json()}async function OZ(e,t){const n=await Ii(`${zg}/${e}/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.message||"Query execution failed")}return n.json()}function DZ({tabId:e}){const{resolvedTheme:t}=gB(),n=P.useRef(null),[r,i]=P.useState(!1),s=P.useRef(void 0),l=P.useRef(new Vq),{doc:u,loading:c,error:g}=La.useDocument(),[p,m]=P.useState(""),[x,b]=P.useState(!1),[E,w]=P.useState(null),[C,R]=P.useState(null);P.useEffect(()=>{i(!0)},[]),P.useEffect(()=>{if(!u)return;const F=u.getRoot().tabs[e];F!=null&&F.query&&m(F.query)},[u,e]),P.useEffect(()=>{const D=n.current;if(!r||!D)return;let F,B=!1;return dB(D,{theme:t,store:l.current,readOnly:!0}).then(j=>{if(B){j.cleanup();return}F=j,s.current=j}),()=>{B=!0,F&&F.cleanup(),s.current=void 0}},[r,t]);const T=P.useCallback(async()=>{if(!u||!p.trim())return;const F=u.getRoot().tabs[e];if(!(F!=null&&F.datasourceId)){R("No datasource connected to this tab");return}u.update(B=>{B.tabs[e]&&(B.tabs[e].query=p)}),b(!0),R(null);try{const B=await OZ(F.datasourceId,p);w(B),l.current.loadQueryResults(B.columns,B.rows),s.current&&(await s.current.reloadDimensions(),s.current.render())}catch(B){R(B.message)}finally{b(!1)}},[u,e,p]),_=P.useCallback(D=>{(D.metaKey||D.ctrlKey)&&D.key==="Enter"&&(D.preventDefault(),T())},[T]);return c?O.jsx(Mu,{}):g?O.jsx("div",{className:"flex h-full w-full items-center justify-center",children:O.jsx("div",{className:"text-red-500",children:g.message})}):O.jsxs("div",{className:"flex h-full w-full flex-col",children:[O.jsx("div",{className:"border-b p-2 shrink-0",children:O.jsx("textarea",{className:"w-full h-24 p-2 font-mono text-sm border rounded resize-y bg-background text-foreground focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"SELECT * FROM users LIMIT 100",value:p,onChange:D=>m(D.target.value),onKeyDown:_})}),O.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 border-b shrink-0",children:[O.jsxs(rr,{size:"sm",onClick:T,disabled:x||!p.trim(),children:[O.jsx(tH,{className:"size-4"}),x?"Executing...":"Execute"]}),E&&O.jsxs("span",{className:"text-xs text-muted-foreground",children:[E.rowCount," row",E.rowCount!==1?"s":"",E.truncated?" (truncated)":""," in ",E.executionTime,"ms"]}),C&&O.jsx("span",{className:"text-xs text-destructive truncate",children:C})]}),O.jsx("div",{ref:n,className:"flex-1 w-full"})]})}var MZ=D3[" useInsertionEffect ".trim().toString()]||Lr;function PZ({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,l]=LZ({defaultProp:t,onChange:n}),u=e!==void 0,c=u?e:i;{const p=P.useRef(e!==void 0);P.useEffect(()=>{const m=p.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const g=P.useCallback(p=>{var m;if(u){const x=FZ(p)?p(e):p;x!==e&&((m=l.current)==null||m.call(l,x))}else s(p)},[u,e,s,l]);return[c,g]}function LZ({defaultProp:e,onChange:t}){const[n,r]=P.useState(e),i=P.useRef(n),s=P.useRef(t);return MZ(()=>{s.current=t},[t]),P.useEffect(()=>{var l;i.current!==n&&((l=s.current)==null||l.call(s,n),i.current=n)},[n,i]),[n,r,s]}function FZ(e){return typeof e=="function"}var kZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BB=kZ.reduce((e,t)=>{const n=Xc(`Primitive.${t}`),r=P.forwardRef((i,s)=>{const{asChild:l,...u}=i,c=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(c,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),C1="Switch",[BZ,nee]=ja(C1),[jZ,zZ]=BZ(C1),jB=P.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:l,disabled:u,value:c="on",onCheckedChange:g,form:p,...m}=e,[x,b]=P.useState(null),E=Cn(t,_=>b(_)),w=P.useRef(!1),C=x?p||!!x.closest("form"):!0,[R,T]=PZ({prop:i,defaultProp:s??!1,onChange:g,caller:C1});return O.jsxs(jZ,{scope:n,checked:R,disabled:u,children:[O.jsx(BB.button,{type:"button",role:"switch","aria-checked":R,"aria-required":l,"data-state":GB(R),"data-disabled":u?"":void 0,disabled:u,value:c,...m,ref:E,onClick:dt(e.onClick,_=>{T(D=>!D),C&&(w.current=_.isPropagationStopped(),w.current||_.stopPropagation())})}),C&&O.jsx(VB,{control:x,bubbles:!w.current,name:r,value:c,checked:R,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});jB.displayName=C1;var zB="SwitchThumb",UB=P.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=zZ(zB,n);return O.jsx(BB.span,{"data-state":GB(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});UB.displayName=zB;var UZ="SwitchBubbleInput",VB=P.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const l=P.useRef(null),u=Cn(l,s),c=AF(n),g=zP(t);return P.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&b){const E=new Event("click",{bubbles:r});b.call(p,n),p.dispatchEvent(E)}},[c,n,r]),O.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});VB.displayName=UZ;function GB(e){return e?"checked":"unchecked"}var VZ=jB,GZ=UB;function KR({className:e,...t}){return O.jsx(VZ,{"data-slot":"switch",className:St("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:O.jsx(GZ,{"data-slot":"switch-thumb",className:St("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function $B({open:e,onOpenChange:t,onCreated:n}){const[r,i]=P.useState(""),[s,l]=P.useState("localhost"),[u,c]=P.useState("5432"),[g,p]=P.useState(""),[m,x]=P.useState(""),[b,E]=P.useState(""),[w,C]=P.useState(!1),[R,T]=P.useState(!1),[_,D]=P.useState(!1),[F,B]=P.useState(null),j=()=>{i(""),l("localhost"),c("5432"),p(""),x(""),E(""),C(!1),B(null)},k=async()=>{D(!0);try{const Z=await m3({name:r,host:s,port:Number(u),database:g,username:m,password:b,sslEnabled:w});B(Z.id),Un.success("DataSource created"),n(Z),j(),t(!1)}catch{Un.error("Failed to create datasource")}finally{D(!1)}},$=async()=>{if(!F){D(!0);try{const Z=await m3({name:r||"Untitled",host:s,port:Number(u),database:g,username:m,password:b,sslEnabled:w});B(Z.id),T(!0);const ne=await DS(Z.id);ne.success?Un.success("Connection successful"):Un.error(`Connection failed: ${ne.error}`)}catch{Un.error("Failed to test connection")}finally{D(!1),T(!1)}return}T(!0);try{const Z=await DS(F);Z.success?Un.success("Connection successful"):Un.error(`Connection failed: ${Z.error}`)}catch{Un.error("Failed to test connection")}finally{T(!1)}};return O.jsx(Hv,{open:e,onOpenChange:Z=>{Z||j(),t(Z)},children:O.jsxs(Wv,{className:"sm:max-w-md",children:[O.jsxs(Yv,{children:[O.jsx(qv,{children:"New DataSource Connection"}),O.jsx(Kv,{children:"Connect to an external PostgreSQL database."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"ds-name",children:"Name"}),O.jsx(Ni,{id:"ds-name",placeholder:"My Database",value:r,onChange:Z=>i(Z.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[O.jsxs("div",{className:"col-span-2 grid gap-2",children:[O.jsx(Dr,{htmlFor:"ds-host",children:"Host"}),O.jsx(Ni,{id:"ds-host",placeholder:"localhost",value:s,onChange:Z=>l(Z.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"ds-port",children:"Port"}),O.jsx(Ni,{id:"ds-port",type:"number",value:u,onChange:Z=>c(Z.target.value)})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"ds-database",children:"Database"}),O.jsx(Ni,{id:"ds-database",placeholder:"mydb",value:g,onChange:Z=>p(Z.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"ds-username",children:"Username"}),O.jsx(Ni,{id:"ds-username",placeholder:"postgres",value:m,onChange:Z=>x(Z.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"ds-password",children:"Password"}),O.jsx(Ni,{id:"ds-password",type:"password",value:b,onChange:Z=>E(Z.target.value)})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(KR,{id:"ds-ssl",checked:w,onCheckedChange:C}),O.jsx(Dr,{htmlFor:"ds-ssl",children:"Enable SSL"})]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx(rr,{variant:"outline",onClick:$,disabled:R||!s||!g,children:R?"Testing...":"Test Connection"}),O.jsx(rr,{onClick:k,disabled:_||!r||!s||!g||!m,children:_?"Saving...":"Save"})]})]})})}function $Z({open:e,onOpenChange:t,onSelect:n}){const[r,i]=P.useState([]),[s,l]=P.useState(!1),[u,c]=P.useState(!1),[g,p]=P.useState(null);P.useEffect(()=>{e&&(l(!0),r2().then(i).catch(()=>i([])).finally(()=>l(!1)))},[e]);const m=()=>{const x=r.find(b=>b.id===g);x&&(n(x),t(!1))};return O.jsxs(O.Fragment,{children:[O.jsx(Hv,{open:e&&!u,onOpenChange:t,children:O.jsxs(Wv,{className:"sm:max-w-sm",children:[O.jsxs(Yv,{children:[O.jsx(qv,{children:"Select DataSource"}),O.jsx(Kv,{children:"Choose an existing connection or create a new one."})]}),O.jsx("div",{className:"grid gap-4 py-2",children:s?O.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading..."}):r.length===0?O.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No datasources yet. Create one to get started."}):O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{children:"Connections"}),O.jsx("div",{className:"flex flex-col gap-1 max-h-60 overflow-y-auto",children:r.map(x=>O.jsxs("button",{className:St("flex items-center gap-2 px-3 py-2 rounded-md border text-sm text-left cursor-pointer","hover:bg-muted/50 transition-colors",g===x.id&&"bg-muted border-primary"),onClick:()=>p(x.id),onDoubleClick:()=>{n(x),t(!1)},children:[O.jsx(ey,{className:"size-4 text-muted-foreground shrink-0"}),O.jsxs("div",{className:"flex flex-col min-w-0",children:[O.jsx("span",{className:"font-medium truncate",children:x.name}),O.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[x.host,":",x.port,"/",x.database]})]})]},x.id))})]})}),O.jsxs("div",{className:"flex justify-between",children:[O.jsxs(rr,{variant:"outline",onClick:()=>c(!0),children:[O.jsx(fF,{className:"size-4"}),"New Connection"]}),O.jsx(rr,{disabled:!g,onClick:m,children:"Select"})]})]})}),O.jsx($B,{open:u,onOpenChange:x=>{c(x),x||r2().then(i).catch(()=>{})},onCreated:x=>{n(x),t(!1),c(!1)}})]})}const Wb="tab-1",HB={tabs:{[Wb]:{id:Wb,name:"Sheet1",type:"sheet"}},tabOrder:[Wb],sheets:{[Wb]:{sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},merges:{},frozenRows:0,frozenCols:0}}},HZ={main:[{title:"Documents",url:"/",icon:uF},{title:"Data Sources",url:"/datasources",icon:ey}],secondary:[{title:"Settings",url:"/settings",icon:dF}]};function WZ(e){if(!e)return;const t=e.getRoot();if(t.tabs||!t.sheet)return;const r="tab-1";e.update(i=>{i.tabs={[r]:{id:r,name:"Sheet1",type:"sheet"}},i.tabOrder=[r],i.sheets={[r]:{sheet:i.sheet||{},rowHeights:i.rowHeights||{},colWidths:i.colWidths||{},colStyles:i.colStyles||{},rowStyles:i.rowStyles||{},sheetStyle:i.sheetStyle,merges:i.merges||{},frozenRows:i.frozenRows||0,frozenCols:i.frozenCols||0}},delete i.sheet,delete i.rowHeights,delete i.colWidths,delete i.colStyles,delete i.rowStyles,delete i.sheetStyle,delete i.merges,delete i.frozenRows,delete i.frozenCols})}function v3(){return`tab-${Date.now()}-${Math.random().toString(36).slice(2,6)}`}function YZ({documentId:e}){sW();const t=Vv(),{doc:n}=La.useDocument(),[r,i]=P.useState(null),[s,l]=P.useState(!1),[u,c]=P.useState(!1),{data:g}=Ba({queryKey:["document",e],queryFn:()=>eV(e)}),p=P.useCallback(async D=>{await DM(e,D),t.invalidateQueries({queryKey:["document",e]}),t.invalidateQueries({queryKey:["documents"]})},[e,t]);P.useEffect(()=>{n&&(WZ(n),l(!0))},[n]),P.useEffect(()=>{if(!n||!s)return;const D=n.getRoot();D.tabOrder&&D.tabOrder.length>0&&!r&&i(D.tabOrder[0])},[n,s,r]);const m=P.useCallback(()=>{if(!n)return;const D=n.getRoot(),F=v3(),B=D.tabOrder.filter(j=>{var k;return((k=D.tabs[j])==null?void 0:k.type)==="sheet"}).length+1;n.update(j=>{j.tabs[F]={id:F,name:`Sheet${B}`,type:"sheet"},j.tabOrder.push(F),j.sheets[F]={sheet:{},rowHeights:{},colWidths:{},colStyles:{},rowStyles:{},merges:{},frozenRows:0,frozenCols:0}}),i(F)},[n]),x=P.useCallback(D=>{if(!n)return;const F=n.getRoot(),B=v3(),j=F.tabOrder.filter(k=>{var $;return(($=F.tabs[k])==null?void 0:$.type)==="datasource"}).length+1;n.update(k=>{k.tabs[B]={id:B,name:D.name||`DataSource${j}`,type:"datasource",datasourceId:D.id,query:""},k.tabOrder.push(B)}),i(B)},[n]),b=P.useCallback(D=>{D==="datasource"?c(!0):m()},[m]),E=P.useCallback((D,F)=>{n&&n.update(B=>{B.tabs[D]&&(B.tabs[D].name=F)})},[n]),w=P.useCallback(D=>{if(!n)return;const F=n.getRoot();if(F.tabOrder.length<=1)return;const B=F.tabOrder.indexOf(D);if(n.update(j=>{delete j.tabs[D],j.sheets[D]&&delete j.sheets[D];const k=j.tabOrder.indexOf(D);k!==-1&&j.tabOrder.splice(k,1)}),r===D){const j=n.getRoot(),k=Math.min(B,j.tabOrder.length-1);i(j.tabOrder[k])}},[n,r]),C=P.useCallback((D,F)=>{n&&n.update(B=>{const[j]=B.tabOrder.splice(D,1);B.tabOrder.splice(F,0,j)})},[n]);if(!n||!s||!r)return O.jsx(Mu,{});const R=n.getRoot(),T=R.tabOrder.map(D=>R.tabs[D]).filter(Boolean),_=R.tabs[r];return O.jsxs(ZL,{children:[O.jsx(bF,{variant:"inset",items:HZ}),O.jsxs(JL,{children:[O.jsx(SF,{title:(g==null?void 0:g.title)??"Loading...",editable:!0,onRename:p,children:O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(oW,{documentId:e}),O.jsx(mH,{})]})}),O.jsxs("div",{className:"flex flex-1 flex-col",children:[O.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:O.jsx("div",{className:"flex flex-col h-full",children:(_==null?void 0:_.type)==="datasource"?O.jsx(DZ,{tabId:r}):O.jsx(mB,{tabId:r})})}),O.jsx(NZ,{tabs:T,activeTabId:r,onSelectTab:i,onAddTab:b,onRenameTab:E,onDeleteTab:w,onMoveTab:C})]})]}),O.jsx($Z,{open:u,onOpenChange:c,onSelect:x})]})}function qZ(){const{id:e}=z3(),{data:t,isLoading:n,isError:r}=Ba({queryKey:["me"],queryFn:Sh,retry:!1,staleTime:5*60*1e3});return n?O.jsx(Mu,{}):r||!t?O.jsx("div",{children:"User not found"}):!t.username||!t.email?O.jsx(Mu,{}):O.jsx(La.DocumentProvider,{docKey:`sheet-${e}`,initialRoot:HB,initialPresence:{username:t.username,email:t.email,photo:t.photo||""},enableDevtools:!1,children:O.jsx(YZ,{documentId:e})})}const KZ=kS("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function XZ({className:e,variant:t,asChild:n=!1,...r}){const i=n?y2:"span";return O.jsx(i,{"data-slot":"badge",className:St(KZ({variant:t}),e),...r})}function ZZ({datasource:e,open:t,onOpenChange:n,onSaved:r}){const[i,s]=P.useState(""),[l,u]=P.useState(""),[c,g]=P.useState("5432"),[p,m]=P.useState(""),[x,b]=P.useState(""),[E,w]=P.useState(""),[C,R]=P.useState(!1),[T,_]=P.useState(!1),[D,F]=P.useState(!1);P.useEffect(()=>{e&&(s(e.name),u(e.host),g(String(e.port)),m(e.database),b(e.username),w(""),R(e.sslEnabled))},[e]);const B=async()=>{if(e){F(!0);try{const k={};i!==e.name&&(k.name=i),l!==e.host&&(k.host=l),Number(c)!==e.port&&(k.port=Number(c)),p!==e.database&&(k.database=p),x!==e.username&&(k.username=x),E&&(k.password=E),C!==e.sslEnabled&&(k.sslEnabled=C),await _Z(e.id,k),Un.success("DataSource updated"),r()}catch{Un.error("Failed to update datasource")}finally{F(!1)}}},j=async()=>{if(e){_(!0);try{const k=await DS(e.id);k.success?Un.success("Connection successful"):Un.error(`Connection failed: ${k.error}`)}catch{Un.error("Failed to test connection")}finally{_(!1)}}};return O.jsx(Hv,{open:t,onOpenChange:n,children:O.jsxs(Wv,{className:"sm:max-w-md",children:[O.jsxs(Yv,{children:[O.jsx(qv,{children:"Edit DataSource"}),O.jsx(Kv,{children:"Update the connection settings for this datasource."})]}),O.jsxs("div",{className:"grid gap-4 py-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"edit-ds-name",children:"Name"}),O.jsx(Ni,{id:"edit-ds-name",value:i,onChange:k=>s(k.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[O.jsxs("div",{className:"col-span-2 grid gap-2",children:[O.jsx(Dr,{htmlFor:"edit-ds-host",children:"Host"}),O.jsx(Ni,{id:"edit-ds-host",value:l,onChange:k=>u(k.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"edit-ds-port",children:"Port"}),O.jsx(Ni,{id:"edit-ds-port",type:"number",value:c,onChange:k=>g(k.target.value)})]})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"edit-ds-database",children:"Database"}),O.jsx(Ni,{id:"edit-ds-database",value:p,onChange:k=>m(k.target.value)})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"edit-ds-username",children:"Username"}),O.jsx(Ni,{id:"edit-ds-username",value:x,onChange:k=>b(k.target.value)})]}),O.jsxs("div",{className:"grid gap-2",children:[O.jsx(Dr,{htmlFor:"edit-ds-password",children:"Password"}),O.jsx(Ni,{id:"edit-ds-password",type:"password",placeholder:"Leave blank to keep current",value:E,onChange:k=>w(k.target.value)})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(KR,{id:"edit-ds-ssl",checked:C,onCheckedChange:R}),O.jsx(Dr,{htmlFor:"edit-ds-ssl",children:"Enable SSL"})]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx(rr,{variant:"outline",onClick:j,disabled:T,children:T?"Testing...":"Test Connection"}),O.jsx(rr,{onClick:B,disabled:D||!i||!l||!p||!x,children:D?"Saving...":"Save Changes"})]})]})})}function JZ({data:e}){var B,j;const t=Vv(),[n,r]=P.useState(!1),[i,s]=P.useState(null),[l,u]=P.useState(null),[c,g]=P.useState({}),p=Xb({mutationFn:async k=>await IZ(k),onSuccess:()=>{t.invalidateQueries({queryKey:["datasources"]}),Un.success("DataSource deleted")},onError:()=>{Un.error("Failed to delete datasource")}}),m=async k=>{u(k),g($=>({...$,[k]:null}));try{const $=await DS(k);g(Z=>({...Z,[k]:$.success})),$.success?Un.success("Connection successful"):Un.error(`Connection failed: ${$.error}`)}catch{g($=>({...$,[k]:!1})),Un.error("Failed to test connection")}finally{u(null)}},x=[{accessorKey:"name",header:"Name",cell:({row:k})=>O.jsx("div",{className:"font-medium",children:k.getValue("name")})},{id:"connection",header:"Connection",cell:({row:k})=>{const $=k.original;return O.jsxs("div",{className:"text-sm text-muted-foreground",children:[$.host,":",$.port,"/",$.database]})}},{accessorKey:"username",header:"User",cell:({row:k})=>O.jsx("div",{className:"text-sm",children:k.getValue("username")})},{id:"ssl",header:"SSL",cell:({row:k})=>k.original.sslEnabled?O.jsx(XZ,{variant:"secondary",children:"SSL"}):null},{id:"status",header:"Status",cell:({row:k})=>{const $=k.original.id,Z=c[$];return l===$?O.jsx(hM,{className:"h-4 w-4 animate-spin text-muted-foreground"}):Z===!0?O.jsx(X5,{className:"h-4 w-4 text-green-500"}):Z===!1?O.jsx(J5,{className:"h-4 w-4 text-red-500"}):O.jsx("span",{className:"text-sm text-muted-foreground",children:""})}},{accessorKey:"createdAt",header:()=>O.jsx("div",{className:"text-right",children:"Created"}),cell:({row:k})=>{const $=k.getValue("createdAt"),Z=YM(new Date($),{includeSeconds:!0,addSuffix:!0});return O.jsx("div",{className:"text-right text-sm",children:Z})}},{id:"actions",enableHiding:!1,cell:({row:k})=>{const $=k.original;return O.jsxs(Ta,{children:[O.jsx(Na,{asChild:!0,children:O.jsxs(rr,{variant:"ghost",className:"h-8 w-8 p-0",children:[O.jsx("span",{className:"sr-only",children:"Open menu"}),O.jsx(fM,{})]})}),O.jsxs(_a,{align:"end",children:[O.jsxs(cr,{onClick:Z=>{Z.stopPropagation(),m($.id)},children:[O.jsx(aU,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),O.jsxs(cr,{onClick:Z=>{Z.stopPropagation(),s($)},children:[O.jsx(pM,{className:"mr-2 h-4 w-4"}),"Edit"]}),O.jsx(Zp,{}),O.jsxs(cr,{className:"text-red-500 focus:text-red-500",onClick:Z=>{Z.stopPropagation(),p.mutate($.id)},children:[O.jsx(mM,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}],[b,E]=P.useState([]),[w,C]=P.useState([]),[R,T]=P.useState({}),[_,D]=P.useState({}),F=WM({data:e,columns:x,onSortingChange:E,onColumnFiltersChange:C,getCoreRowModel:VM(),getPaginationRowModel:$M(),getSortedRowModel:HM(),getFilteredRowModel:GM(),onColumnVisibilityChange:T,onRowSelectionChange:D,state:{sorting:b,columnFilters:w,columnVisibility:R,rowSelection:_}});return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex items-center justify-between py-4",children:[O.jsx(Ni,{placeholder:"Filter by name...",value:((B=F.getColumn("name"))==null?void 0:B.getFilterValue())??"",onChange:k=>{var $;return($=F.getColumn("name"))==null?void 0:$.setFilterValue(k.target.value)},className:"max-w-sm"}),O.jsxs(rr,{onClick:()=>r(!0),className:"flex items-center gap-2",children:[O.jsx(gM,{className:"w-4 h-4"}),"New DataSource"]})]}),O.jsx("div",{className:"rounded-md border",children:O.jsxs(FL,{children:[O.jsx(kL,{children:F.getHeaderGroups().map(k=>O.jsx(Jp,{children:k.headers.map($=>O.jsx(jL,{children:$.isPlaceholder?null:pS($.column.columnDef.header,$.getContext())},$.id))},k.id))}),O.jsx(BL,{children:(j=F.getRowModel().rows)!=null&&j.length?F.getRowModel().rows.map(k=>O.jsx(Jp,{"data-state":k.getIsSelected()&&"selected",children:k.getVisibleCells().map($=>O.jsx(AS,{children:pS($.column.columnDef.cell,$.getContext())},$.id))},k.id)):O.jsx(Jp,{children:O.jsx(AS,{colSpan:x.length,className:"h-24 text-center",children:"No datasources yet. Create one to get started."})})})]})}),O.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[O.jsx("div",{className:"flex-1"}),O.jsxs("div",{className:"space-x-2",children:[O.jsx(rr,{variant:"outline",size:"sm",onClick:()=>F.previousPage(),disabled:!F.getCanPreviousPage(),children:"Previous"}),O.jsx(rr,{variant:"outline",size:"sm",onClick:()=>F.nextPage(),disabled:!F.getCanNextPage(),children:"Next"})]})]}),O.jsx($B,{open:n,onOpenChange:r,onCreated:()=>{r(!1),t.invalidateQueries({queryKey:["datasources"]})}}),O.jsx(ZZ,{datasource:i,open:i!==null,onOpenChange:k=>{k||s(null)},onSaved:()=>{s(null),t.invalidateQueries({queryKey:["datasources"]})}})]})}function QZ(){const{data:e=[],isLoading:t,isError:n}=Ba({queryKey:["datasources"],queryFn:r2});return t?O.jsx("div",{className:"flex flex-col items-center justify-center h-64",children:O.jsx("p",{className:"text-gray-500 text-lg",children:"Loading datasources..."})}):n?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[O.jsx("p",{className:"text-red-500 text-lg",children:"Failed to load datasources."}),O.jsx("p",{className:"text-gray-400",children:"Please try again later."})]}):O.jsx("div",{className:"p-4",children:O.jsx(JZ,{data:e})})}function eJ({resolved:e}){const t=e.role==="viewer",{doc:n}=La.useDocument();if(!n)return O.jsx(Mu,{});const r=n.getRoot(),i=r.tabOrder&&r.tabOrder.length>0?r.tabOrder[0]:"tab-1";return O.jsxs("div",{className:"flex h-screen w-full flex-col",children:[O.jsxs("header",{className:"flex h-14 shrink-0 items-center gap-2 border-b px-4",children:[O.jsx("h1",{className:"text-base font-medium",children:e.title}),t&&O.jsx("span",{className:"rounded bg-muted px-2 py-0.5 text-xs text-muted-foreground",children:"View only"})]}),O.jsx("div",{className:"flex flex-1 flex-col",children:O.jsx(mB,{tabId:i,readOnly:t})})]})}function tJ({resolved:e}){const{data:t}=Ba({queryKey:["me"],queryFn:Sh,retry:!1}),n={username:(t==null?void 0:t.username)||"Anonymous",email:(t==null?void 0:t.email)||"",photo:(t==null?void 0:t.photo)||""};return O.jsx(La.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:n.username},children:O.jsx(La.DocumentProvider,{docKey:`sheet-${e.documentId}`,initialRoot:HB,initialPresence:n,enableDevtools:!1,children:O.jsx(eJ,{resolved:e})})})}function nJ(){const{token:e}=z3(),[t,n]=P.useState(null),[r,i]=P.useState(null),[s,l]=P.useState(!0);return P.useEffect(()=>{if(!e){i("No share token provided"),l(!1);return}nW(e).then(u=>{n(u),l(!1)}).catch(u=>{i(u.message||"Invalid or expired link"),l(!1)})},[e]),s?O.jsx(Mu,{}):r||!t?O.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:O.jsxs("div",{className:"text-center",children:[O.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Link unavailable"}),O.jsx("p",{className:"text-muted-foreground",children:r||"Invalid or expired link"})]})}):O.jsx(tJ,{resolved:t})}function rJ(){const{theme:e,setTheme:t}=P.useContext(zR),n=()=>{t(e==="dark"?"light":"dark")};return O.jsx("div",{className:"max-w-2xl mx-auto p-6",children:O.jsxs("div",{className:"flex items-center justify-between p-4",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"theme-switch",className:"text-sm font-medium",children:"Theme"}),O.jsx("p",{className:"text-xs text-gray-500",children:"Toggle between light and dark themes."})]}),O.jsx("div",{className:"ml-4",children:O.jsx("div",{className:"flex items-center space-x-2",children:O.jsx(KR,{id:"theme-switch",checked:e==="dark",onCheckedChange:n})})})]})})}const iJ=()=>{const{data:e,isLoading:t}=Ba({queryKey:["me"],queryFn:Sh,retry:!1});return t?O.jsx(Mu,{}):e?O.jsx(La.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:e.username||"anonymous-user"},children:O.jsx(c2,{})}):O.jsx(G3,{to:"/login"})},oJ=()=>{const{data:e,isLoading:t}=Ba({queryKey:["me"],queryFn:Sh,retry:!1});return t?O.jsx(Mu,{}):e?O.jsx(G3,{to:"/"}):O.jsx(c2,{})},ZC={main:[{title:"Documents",url:"/",icon:uF},{title:"Data Sources",url:"/datasources",icon:ey}],secondary:[{title:"Settings",url:"/settings",icon:dF}]};function sJ(){var n,r;const e=ka();let t="";return e.pathname==="/"?t="Documents":e.pathname==="/datasources"?t="Data Sources":e.pathname==="/settings"?t="Settings":e.pathname.match(/^\/\d+$/)?t="Spreadsheet":t=((n=ZC.secondary.find(i=>i.url===e.pathname))==null?void 0:n.title)||((r=ZC.main.find(i=>e.pathname.startsWith(i.url)))==null?void 0:r.title)||"",O.jsxs(ZL,{children:[O.jsx(bF,{variant:"inset",items:ZC}),O.jsxs(JL,{children:[O.jsx(SF,{title:t}),O.jsx("div",{className:"flex flex-1 flex-col",children:O.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:O.jsx("div",{className:"flex flex-col h-full",children:O.jsx(c2,{})})})})]})]})}function aJ(){return O.jsxs(kK,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[O.jsx(e5,{client:new Kz,children:O.jsx(Cz,{basename:"/",children:O.jsxs(tz,{children:[O.jsx(Aa,{element:O.jsx(oJ,{}),children:O.jsx(Aa,{path:"/login",element:O.jsx(ZU,{})})}),O.jsx(Aa,{path:"/shared/:token",element:O.jsx(nJ,{})}),O.jsxs(Aa,{element:O.jsx(iJ,{}),children:[O.jsxs(Aa,{element:O.jsx(sJ,{}),children:[O.jsx(Aa,{path:"/",element:O.jsx(Y$,{})}),O.jsx(Aa,{path:"/datasources",element:O.jsx(QZ,{})}),O.jsx(Aa,{path:"/settings",element:O.jsx(rJ,{})})]}),O.jsx(Aa,{path:"/:id",element:O.jsx(qZ,{})})]})]})})}),O.jsx(B5,{})]})}uj.createRoot(document.getElementById("root")).render(O.jsx(P.StrictMode,{children:O.jsx(aJ,{})}));
