import{r as b}from"./vendor-react-DmNGTQSW.js";import{u as g}from"./IconDotsVertical-Bqx0Sa6B.js";const x=8,y=280,P=24;function A({containerRef:h,sheetRef:u,enabled:f=!0}){const v=g();b.useEffect(()=>{const n=h.current;if(!f||!v||!n)return;let p=0,d=0,o=0,c=0,s=!1,a=!1,r=0,T=0,m=0;const E=e=>{if(e.touches.length!==1){a=e.touches.length>1,s=!1;return}const t=e.touches[0];p=t.clientX,d=t.clientY,o=t.clientX,c=t.clientY},D=e=>{var Y;if(e.touches.length!==1){a=a||e.touches.length>1;return}const t=e.touches[0],i=t.clientX-o,l=t.clientY-c,L=Math.hypot(t.clientX-p,t.clientY-d);!s&&L>=x&&(s=!0),s&&(e.preventDefault(),(Y=u.current)==null||Y.panBy(-i,-l)),o=t.clientX,c=t.clientY},M=e=>{var l;if(e.touches.length>0)return;if(a){a=!1,s=!1;return}if(s){s=!1;return}const t=Date.now(),i=Math.hypot(o-T,c-m);if(r!==0&&t-r<=y&&i<=P){(l=u.current)==null||l.handleMobileDoubleTap(o,c),r=0;return}r=t,T=o,m=c},X=()=>{s=!1,a=!1};return n.addEventListener("touchstart",E,{passive:!0}),n.addEventListener("touchmove",D,{passive:!1}),n.addEventListener("touchend",M,{passive:!0}),n.addEventListener("touchcancel",X,{passive:!0}),()=>{n.removeEventListener("touchstart",E),n.removeEventListener("touchmove",D),n.removeEventListener("touchend",M),n.removeEventListener("touchcancel",X)}},[h,f,v,u])}export{A as u};
