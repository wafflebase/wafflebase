const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-BxjPwPei.js","assets/index-F8o7HU1P.js","assets/button-bJoeNoUr.js","assets/index-BjjdeTk9.js","assets/grid-2x2-plus-DXTix-Ky.js","assets/page-Dp3WtWVP.js","assets/documents-nit45Xml.js","assets/table-D5m7fTm9.js","assets/dialog-CfAIlUD8.js","assets/index-CqpalPhG.js","assets/index-CecZeFev.js","assets/dropdown-menu-VDkof8RP.js","assets/input-CGLEFbE7.js","assets/label-DNVYdGdN.js","assets/document-detail-CwSQ6TsW.js","assets/site-header-4uZ7aRBu.js","assets/IconDotsVertical-DnIDmept.js","assets/select-CUuA2Fg8.js","assets/index-CdWsI1iI.js","assets/worksheet-MfBBo7Wt.js","assets/IconTrash-rtITHsMX.js","assets/IconPlus-i4Ou2tci.js","assets/page-DpRpnZ-p.js","assets/datasources-DfPm9ZbT.js","assets/datasource-dialog-xYao9e0x.js","assets/switch-DSAHdsQX.js","assets/shared-document-B7cJ-w_B.js","assets/sheet-view-D9PGylRM.js","assets/use-mobile-sheet-gestures-CXPvQe8W.js","assets/page-mr6Mf--S.js","assets/Layout-CRMAHWjl.js"])))=>i.map(i=>d[i]);
var lv=Object.defineProperty;var xp=f=>{throw TypeError(f)};var uv=(f,h,m)=>h in f?lv(f,h,{enumerable:!0,configurable:!0,writable:!0,value:m}):f[h]=m;var D=(f,h,m)=>uv(f,typeof h!="symbol"?h+"":h,m),Um=(f,h,m)=>h.has(f)||xp("Cannot "+m);var M=(f,h,m)=>(Um(f,h,"read from private field"),m?m.call(f):h.get(f)),Ue=(f,h,m)=>h.has(f)?xp("Cannot add the same private member more than once"):h instanceof WeakSet?h.add(f):h.set(f,m),Ae=(f,h,m,p)=>(Um(f,h,"write to private field"),p?p.call(f,m):h.set(f,m),m),st=(f,h,m)=>(Um(f,h,"access private method"),m);var Rg=(f,h,m,p)=>({set _(A){Ae(f,h,A,m)},get _(){return M(f,h,p)}});function cv(f,h){for(var m=0;m<h.length;m++){const p=h[m];if(typeof p!="string"&&!Array.isArray(p)){for(const A in p)if(A!=="default"&&!(A in f)){const w=Object.getOwnPropertyDescriptor(p,A);w&&Object.defineProperty(f,A,w.get?w:{enumerable:!0,get:()=>p[A]})}}}return Object.freeze(Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}))}(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))p(A);new MutationObserver(A=>{for(const w of A)if(w.type==="childList")for(const C of w.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&p(C)}).observe(document,{childList:!0,subtree:!0});function m(A){const w={};return A.integrity&&(w.integrity=A.integrity),A.referrerPolicy&&(w.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?w.credentials="include":A.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function p(A){if(A.ep)return;A.ep=!0;const w=m(A);fetch(A.href,w)}})();var DS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yy(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var Lm={exports:{}},nh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function fv(){if(Dp)return nh;Dp=1;var f=Symbol.for("react.transitional.element"),h=Symbol.for("react.fragment");function m(p,A,w){var C=null;if(w!==void 0&&(C=""+w),A.key!==void 0&&(C=""+A.key),"key"in A){w={};for(var B in A)B!=="key"&&(w[B]=A[B])}else w=A;return A=w.ref,{$$typeof:f,type:p,key:C,ref:A!==void 0?A:null,props:w}}return nh.Fragment=h,nh.jsx=m,nh.jsxs=m,nh}var Op;function vy(){return Op||(Op=1,Lm.exports=fv()),Lm.exports}var He=vy(),Mm={exports:{}},rh={},_m={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function hv(){return Vp||(Vp=1,function(f){function h(W,he){var Re=W.length;W.push(he);e:for(;0<Re;){var Ve=Re-1>>>1,O=W[Ve];if(0<A(O,he))W[Ve]=he,W[Re]=O,Re=Ve;else break e}}function m(W){return W.length===0?null:W[0]}function p(W){if(W.length===0)return null;var he=W[0],Re=W.pop();if(Re!==he){W[0]=Re;e:for(var Ve=0,O=W.length,$=O>>>1;Ve<$;){var ce=2*(Ve+1)-1,oe=W[ce],ye=ce+1,Ze=W[ye];if(0>A(oe,Re))ye<O&&0>A(Ze,oe)?(W[Ve]=Ze,W[ye]=Re,Ve=ye):(W[Ve]=oe,W[ce]=Re,Ve=ce);else if(ye<O&&0>A(Ze,Re))W[Ve]=Ze,W[ye]=Re,Ve=ye;else break e}}return he}function A(W,he){var Re=W.sortIndex-he.sortIndex;return Re!==0?Re:W.id-he.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;f.unstable_now=function(){return w.now()}}else{var C=Date,B=C.now();f.unstable_now=function(){return C.now()-B}}var S=[],T=[],_=1,N=null,F=3,ee=!1,j=!1,ie=!1,H=!1,ne=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Ne(W){for(var he=m(T);he!==null;){if(he.callback===null)p(T);else if(he.startTime<=W)p(T),he.sortIndex=he.expirationTime,h(S,he);else break;he=m(T)}}function le(W){if(ie=!1,Ne(W),!j)if(m(S)!==null)j=!0,Ye||(Ye=!0,Xe());else{var he=m(T);he!==null&&lt(le,he.startTime-W)}}var Ye=!1,at=-1,Me=5,Ce=-1;function Ke(){return H?!0:!(f.unstable_now()-Ce<Me)}function bt(){if(H=!1,Ye){var W=f.unstable_now();Ce=W;var he=!0;try{e:{j=!1,ie&&(ie=!1,pe(at),at=-1),ee=!0;var Re=F;try{t:{for(Ne(W),N=m(S);N!==null&&!(N.expirationTime>W&&Ke());){var Ve=N.callback;if(typeof Ve=="function"){N.callback=null,F=N.priorityLevel;var O=Ve(N.expirationTime<=W);if(W=f.unstable_now(),typeof O=="function"){N.callback=O,Ne(W),he=!0;break t}N===m(S)&&p(S),Ne(W)}else p(S);N=m(S)}if(N!==null)he=!0;else{var $=m(T);$!==null&&lt(le,$.startTime-W),he=!1}}break e}finally{N=null,F=Re,ee=!1}he=void 0}}finally{he?Xe():Ye=!1}}}var Xe;if(typeof se=="function")Xe=function(){se(bt)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,Ir=$t.port2;$t.port1.onmessage=bt,Xe=function(){Ir.postMessage(null)}}else Xe=function(){ne(bt,0)};function lt(W,he){at=ne(function(){W(f.unstable_now())},he)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(W){W.callback=null},f.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Me=0<W?Math.floor(1e3/W):5},f.unstable_getCurrentPriorityLevel=function(){return F},f.unstable_next=function(W){switch(F){case 1:case 2:case 3:var he=3;break;default:he=F}var Re=F;F=he;try{return W()}finally{F=Re}},f.unstable_requestPaint=function(){H=!0},f.unstable_runWithPriority=function(W,he){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Re=F;F=W;try{return he()}finally{F=Re}},f.unstable_scheduleCallback=function(W,he,Re){var Ve=f.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?Ve+Re:Ve):Re=Ve,W){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Re+O,W={id:_++,callback:he,priorityLevel:W,startTime:Re,expirationTime:O,sortIndex:-1},Re>Ve?(W.sortIndex=Re,h(T,W),m(S)===null&&W===m(T)&&(ie?(pe(at),at=-1):ie=!0,lt(le,Re-Ve))):(W.sortIndex=O,h(S,W),j||ee||(j=!0,Ye||(Ye=!0,Xe()))),W},f.unstable_shouldYield=Ke,f.unstable_wrapCallback=function(W){var he=F;return function(){var Re=F;F=he;try{return W.apply(this,arguments)}finally{F=Re}}}}(Ym)),Ym}var Bp;function dv(){return Bp||(Bp=1,_m.exports=hv()),_m.exports}var Zm={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function gv(){if(Up)return We;Up=1;var f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),N=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,ie={};function H(O,$,ce){this.props=O,this.context=$,this.refs=ie,this.updater=ce||ee}H.prototype.isReactComponent={},H.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=H.prototype;function pe(O,$,ce){this.props=O,this.context=$,this.refs=ie,this.updater=ce||ee}var se=pe.prototype=new ne;se.constructor=pe,j(se,H.prototype),se.isPureReactComponent=!0;var Ne=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},Ye=Object.prototype.hasOwnProperty;function at(O,$,ce,oe,ye,Ze){return ce=Ze.ref,{$$typeof:f,type:O,key:$,ref:ce!==void 0?ce:null,props:Ze}}function Me(O,$){return at(O.type,$,void 0,void 0,void 0,O.props)}function Ce(O){return typeof O=="object"&&O!==null&&O.$$typeof===f}function Ke(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return $[ce]})}var bt=/\/+/g;function Xe(O,$){return typeof O=="object"&&O!==null&&O.key!=null?Ke(""+O.key):$.toString(36)}function $t(){}function Ir(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then($t,$t):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function lt(O,$,ce,oe,ye){var Ze=typeof O;(Ze==="undefined"||Ze==="boolean")&&(O=null);var ve=!1;if(O===null)ve=!0;else switch(Ze){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(O.$$typeof){case f:case h:ve=!0;break;case _:return ve=O._init,lt(ve(O._payload),$,ce,oe,ye)}}if(ve)return ye=ye(O),ve=oe===""?"."+Xe(O,0):oe,Ne(ye)?(ce="",ve!=null&&(ce=ve.replace(bt,"$&/")+"/"),lt(ye,$,ce,"",function(ge){return ge})):ye!=null&&(Ce(ye)&&(ye=Me(ye,ce+(ye.key==null||O&&O.key===ye.key?"":(""+ye.key).replace(bt,"$&/")+"/")+ve)),$.push(ye)),1;ve=0;var Qt=oe===""?".":oe+":";if(Ne(O))for(var et=0;et<O.length;et++)oe=O[et],Ze=Qt+Xe(oe,et),ve+=lt(oe,$,ce,Ze,ye);else if(et=F(O),typeof et=="function")for(O=et.call(O),et=0;!(oe=O.next()).done;)oe=oe.value,Ze=Qt+Xe(oe,et++),ve+=lt(oe,$,ce,Ze,ye);else if(Ze==="object"){if(typeof O.then=="function")return lt(Ir(O),$,ce,oe,ye);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ve}function W(O,$,ce){if(O==null)return O;var oe=[],ye=0;return lt(O,oe,"","",function(Ze){return $.call(ce,Ze,ye++)}),oe}function he(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Re=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ve(){}return We.Children={map:W,forEach:function(O,$,ce){W(O,function(){$.apply(this,arguments)},ce)},count:function(O){var $=0;return W(O,function(){$++}),$},toArray:function(O){return W(O,function($){return $})||[]},only:function(O){if(!Ce(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},We.Component=H,We.Fragment=m,We.Profiler=A,We.PureComponent=pe,We.StrictMode=p,We.Suspense=S,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,We.__COMPILER_RUNTIME={__proto__:null,c:function(O){return le.H.useMemoCache(O)}},We.cache=function(O){return function(){return O.apply(null,arguments)}},We.cloneElement=function(O,$,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=j({},O.props),ye=O.key,Ze=void 0;if($!=null)for(ve in $.ref!==void 0&&(Ze=void 0),$.key!==void 0&&(ye=""+$.key),$)!Ye.call($,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&$.ref===void 0||(oe[ve]=$[ve]);var ve=arguments.length-2;if(ve===1)oe.children=ce;else if(1<ve){for(var Qt=Array(ve),et=0;et<ve;et++)Qt[et]=arguments[et+2];oe.children=Qt}return at(O.type,ye,void 0,void 0,Ze,oe)},We.createContext=function(O){return O={$$typeof:C,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:w,_context:O},O},We.createElement=function(O,$,ce){var oe,ye={},Ze=null;if($!=null)for(oe in $.key!==void 0&&(Ze=""+$.key),$)Ye.call($,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ye[oe]=$[oe]);var ve=arguments.length-2;if(ve===1)ye.children=ce;else if(1<ve){for(var Qt=Array(ve),et=0;et<ve;et++)Qt[et]=arguments[et+2];ye.children=Qt}if(O&&O.defaultProps)for(oe in ve=O.defaultProps,ve)ye[oe]===void 0&&(ye[oe]=ve[oe]);return at(O,Ze,void 0,void 0,null,ye)},We.createRef=function(){return{current:null}},We.forwardRef=function(O){return{$$typeof:B,render:O}},We.isValidElement=Ce,We.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:he}},We.memo=function(O,$){return{$$typeof:T,type:O,compare:$===void 0?null:$}},We.startTransition=function(O){var $=le.T,ce={};le.T=ce;try{var oe=O(),ye=le.S;ye!==null&&ye(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ve,Re)}catch(Ze){Re(Ze)}finally{le.T=$}},We.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},We.use=function(O){return le.H.use(O)},We.useActionState=function(O,$,ce){return le.H.useActionState(O,$,ce)},We.useCallback=function(O,$){return le.H.useCallback(O,$)},We.useContext=function(O){return le.H.useContext(O)},We.useDebugValue=function(){},We.useDeferredValue=function(O,$){return le.H.useDeferredValue(O,$)},We.useEffect=function(O,$,ce){var oe=le.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(O,$)},We.useId=function(){return le.H.useId()},We.useImperativeHandle=function(O,$,ce){return le.H.useImperativeHandle(O,$,ce)},We.useInsertionEffect=function(O,$){return le.H.useInsertionEffect(O,$)},We.useLayoutEffect=function(O,$){return le.H.useLayoutEffect(O,$)},We.useMemo=function(O,$){return le.H.useMemo(O,$)},We.useOptimistic=function(O,$){return le.H.useOptimistic(O,$)},We.useReducer=function(O,$,ce){return le.H.useReducer(O,$,ce)},We.useRef=function(O){return le.H.useRef(O)},We.useState=function(O){return le.H.useState(O)},We.useSyncExternalStore=function(O,$,ce){return le.H.useSyncExternalStore(O,$,ce)},We.useTransition=function(){return le.H.useTransition()},We.version="19.1.0",We}var Lp;function Og(){return Lp||(Lp=1,Zm.exports=gv()),Zm.exports}var Gm={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function mv(){if(Mp)return Hn;Mp=1;var f=Og();function h(S){var T="https://react.dev/errors/"+S;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)T+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+S+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var p={d:{f:m,r:function(){throw Error(h(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},A=Symbol.for("react.portal");function w(S,T,_){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:N==null?null:""+N,children:S,containerInfo:T,implementation:_}}var C=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function B(S,T){if(S==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=p,Hn.createPortal=function(S,T){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(h(299));return w(S,T,null,_)},Hn.flushSync=function(S){var T=C.T,_=p.p;try{if(C.T=null,p.p=2,S)return S()}finally{C.T=T,p.p=_,p.d.f()}},Hn.preconnect=function(S,T){typeof S=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,p.d.C(S,T))},Hn.prefetchDNS=function(S){typeof S=="string"&&p.d.D(S)},Hn.preinit=function(S,T){if(typeof S=="string"&&T&&typeof T.as=="string"){var _=T.as,N=B(_,T.crossOrigin),F=typeof T.integrity=="string"?T.integrity:void 0,ee=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;_==="style"?p.d.S(S,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:N,integrity:F,fetchPriority:ee}):_==="script"&&p.d.X(S,{crossOrigin:N,integrity:F,fetchPriority:ee,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Hn.preinitModule=function(S,T){if(typeof S=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var _=B(T.as,T.crossOrigin);p.d.M(S,{crossOrigin:_,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&p.d.M(S)},Hn.preload=function(S,T){if(typeof S=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var _=T.as,N=B(_,T.crossOrigin);p.d.L(S,_,{crossOrigin:N,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Hn.preloadModule=function(S,T){if(typeof S=="string")if(T){var _=B(T.as,T.crossOrigin);p.d.m(S,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:_,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else p.d.m(S)},Hn.requestFormReset=function(S){p.d.r(S)},Hn.unstable_batchedUpdates=function(S,T){return S(T)},Hn.useFormState=function(S,T,_){return C.H.useFormState(S,T,_)},Hn.useFormStatus=function(){return C.H.useHostTransitionStatus()},Hn.version="19.1.0",Hn}var _p;function by(){if(_p)return Gm.exports;_p=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(h){console.error(h)}}return f(),Gm.exports=mv(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function pv(){if(Yp)return rh;Yp=1;var f=dv(),h=Og(),m=by();function p(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function w(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function C(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function B(t){if(w(t)!==t)throw Error(p(188))}function S(t){var r=t.alternate;if(!r){if(r=w(t),r===null)throw Error(p(188));return r!==t?null:t}for(var s=t,o=r;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(o=u.return,o!==null){s=o;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return B(u),t;if(d===o)return B(u),r;d=d.sibling}throw Error(p(188))}if(s.return!==o.return)s=u,o=d;else{for(var v=!1,E=u.child;E;){if(E===s){v=!0,s=u,o=d;break}if(E===o){v=!0,o=u,s=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===s){v=!0,s=d,o=u;break}if(E===o){v=!0,o=d,s=u;break}E=E.sibling}if(!v)throw Error(p(189))}}if(s.alternate!==o)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?t:r}function T(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=T(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,N=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),pe=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),at=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),Ce=Symbol.for("react.activity"),Ke=Symbol.for("react.memo_cache_sentinel"),bt=Symbol.iterator;function Xe(t){return t===null||typeof t!="object"?null:(t=bt&&t[bt]||t["@@iterator"],typeof t=="function"?t:null)}var $t=Symbol.for("react.client.reference");function Ir(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===$t?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case H:return"Profiler";case ie:return"StrictMode";case le:return"Suspense";case Ye:return"SuspenseList";case Ce:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case se:return(t.displayName||"Context")+".Provider";case pe:return(t._context.displayName||"Context")+".Consumer";case Ne:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case at:return r=t.displayName||null,r!==null?r:Ir(t.type)||"Memo";case Me:r=t._payload,t=t._init;try{return Ir(t(r))}catch{}}return null}var lt=Array.isArray,W=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},Ve=[],O=-1;function $(t){return{current:t}}function ce(t){0>O||(t.current=Ve[O],Ve[O]=null,O--)}function oe(t,r){O++,Ve[O]=t.current,t.current=r}var ye=$(null),Ze=$(null),ve=$(null),Qt=$(null);function et(t,r){switch(oe(ve,r),oe(Ze,t),oe(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?ig(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=ig(r),t=bm(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ce(ye),oe(ye,t)}function ge(){ce(ye),ce(Ze),ce(ve)}function ca(t){t.memoizedState!==null&&oe(Qt,t);var r=ye.current,s=bm(r,t.type);r!==s&&(oe(Ze,t),oe(ye,s))}function Zi(t){Ze.current===t&&(ce(ye),ce(Ze)),Qt.current===t&&(ce(Qt),Mn._currentValue=Re)}var ws=Object.prototype.hasOwnProperty,xo=f.unstable_scheduleCallback,fa=f.unstable_cancelCallback,Do=f.unstable_shouldYield,Oo=f.unstable_requestPaint,bn=f.unstable_now,Vo=f.unstable_getCurrentPriorityLevel,or=f.unstable_ImmediatePriority,Bl=f.unstable_UserBlockingPriority,$a=f.unstable_NormalPriority,Nn=f.unstable_LowPriority,Ut=f.unstable_IdlePriority,uc=f.log,Bo=f.unstable_setDisableYieldValue,lr=null,qe=null;function ur(t){if(typeof uc=="function"&&Bo(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(lr,t)}catch{}}var an=Math.clz32?Math.clz32:da,ha=Math.log,Uo=Math.LN2;function da(t){return t>>>=0,t===0?32:31-(ha(t)/Uo|0)|0}var Gi=256,Qa=4194304;function cr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qa(t,r,s){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?u=cr(o):(v&=E,v!==0?u=cr(v):s||(s=E&~t,s!==0&&(u=cr(s))))):(E=o&~d,E!==0?u=cr(E):v!==0?u=cr(v):s||(s=o&~t,s!==0&&(u=cr(s)))),u===0?0:r!==0&&r!==u&&(r&d)===0&&(d=u&-u,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:u}function zi(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function xr(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(){var t=Gi;return Gi<<=1,(Gi&4194048)===0&&(Gi=256),t}function Ul(){var t=Qa;return Qa<<=1,(Qa&62914560)===0&&(Qa=4194304),t}function ki(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function ga(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wi(t,r,s,o,u,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,k=t.hiddenUpdates;for(s=v&~s;0<s;){var q=31-an(s),ae=1<<q;E[q]=0,x[q]=-1;var K=k[q];if(K!==null)for(k[q]=null,q=0;q<K.length;q++){var P=K[q];P!==null&&(P.lane&=-536870913)}s&=~ae}o!==0&&Ee(t,o,0),d!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Ee(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-an(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function Lt(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var o=31-an(s),u=1<<o;u&r|t[o]&r&&(t[o]|=r),s&=~u}}function kt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ki(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:Rp(t.type))}function ft(t,r){var s=he.p;try{return he.p=t,r()}finally{he.p=s}}var Mt=Math.random().toString(36).slice(2),_t="__reactFiber$"+Mt,ht="__reactProps$"+Mt,on="__reactContainer$"+Mt,Ts="__reactEvents$"+Mt,Dr="__reactListeners$"+Mt,Ll="__reactHandles$"+Mt,cc="__reactResources$"+Mt,Xi="__reactMarker$"+Mt;function fc(t){delete t[_t],delete t[ht],delete t[Ts],delete t[Dr],delete t[Ll]}function ei(t){var r=t[_t];if(r)return r;for(var s=t.parentNode;s;){if(r=s[on]||s[_t]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=fg(t);t!==null;){if(s=t[_t])return s;t=fg(t)}return r}t=s,s=t.parentNode}return null}function ma(t){if(t=t[_t]||t[on]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Ns(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(p(33))}function ti(t){var r=t[cc];return r||(r=t[cc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pt(t){t[Xi]=!0}var hc=new Set,dc={};function ni(t,r){Pi(t,r),Pi(t+"Capture",r)}function Pi(t,r){for(dc[t]=r,t=0;t<r.length;t++)hc.add(r[t])}var gc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vh={},Lo={};function bh(t){return ws.call(Lo,t)?!0:ws.call(vh,t)?!1:gc.test(t)?Lo[t]=!0:(vh[t]=!0,!1)}function pa(t,r,s){if(bh(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Mo(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function ya(t,r,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+o)}}var Fi,Sh;function kr(t){if(Fi===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Fi=r&&r[1]||"",Sh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fi+t+Sh}var _o=!1;function mc(t,r){if(!t||_o)return"";_o=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(P){var K=P}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(P){K=P}t.call(ae.prototype)}}else{try{throw Error()}catch(P){K=P}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(P){if(P&&K&&typeof P.stack=="string")return[P.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var x=v.split(`
`),k=E.split(`
`);for(u=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(o===x.length||u===k.length)for(o=x.length-1,u=k.length-1;1<=o&&0<=u&&x[o]!==k[u];)u--;for(;1<=o&&0<=u;o--,u--)if(x[o]!==k[u]){if(o!==1||u!==1)do if(o--,u--,0>u||x[o]!==k[u]){var q=`
`+x[o].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=o&&0<=u);break}}}finally{_o=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?kr(s):""}function Ug(t){switch(t.tag){case 26:case 27:case 5:return kr(t.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 15:return mc(t.type,!1);case 11:return mc(t.type.render,!1);case 1:return mc(t.type,!0);case 31:return kr("Activity");default:return""}}function Ah(t){try{var r="";do r+=Ug(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Yn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pc(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Lg(t){var r=pc(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return u.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ml(t){t._valueTracker||(t._valueTracker=Lg(t))}function Eh(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return t&&(o=pc(t)?t.checked?"true":"false":t.value),t=o,t!==s?(r.setValue(t),!0):!1}function _l(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yo=/[\n"\\]/g;function Sn(t){return t.replace(Yo,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yc(t,r,s,o,u,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Yn(r)):t.value!==""+Yn(r)&&(t.value=""+Yn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Zo(t,v,Yn(r)):s!=null?Zo(t,v,Yn(s)):o!=null&&t.removeAttribute("value"),u==null&&d!=null&&(t.defaultChecked=!!d),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Yn(E):t.removeAttribute("name")}function vc(t,r,s,o,u,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+Yn(s):"",r=r!=null?""+Yn(r):s,E||r===t.value||(t.value=r),t.defaultValue=r}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Zo(t,r,s){r==="number"&&_l(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Cs(t,r,s,o){if(t=t.options,r){r={};for(var u=0;u<s.length;u++)r["$"+s[u]]=!0;for(s=0;s<t.length;s++)u=r.hasOwnProperty("$"+t[s].value),t[s].selected!==u&&(t[s].selected=u),u&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Yn(s),r=null,u=0;u<t.length;u++){if(t[u].value===s){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}r!==null||t[u].disabled||(r=t[u])}r!==null&&(r.selected=!0)}}function bc(t,r,s){if(r!=null&&(r=""+Yn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+Yn(s):""}function Rh(t,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(p(92));if(lt(o)){if(1<o.length)throw Error(p(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=Yn(r),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function ri(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var wh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Th(t,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,s):typeof s!="number"||s===0||wh.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Nh(t,r,s){if(r!=null&&typeof r!="object")throw Error(p(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in r)o=r[u],r.hasOwnProperty(u)&&s[u]!==o&&Th(t,u,o)}else for(var d in r)r.hasOwnProperty(d)&&Th(t,d,r[d])}function Sc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Go(t){return Ch.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var zo=null;function ko(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,ji=null;function Ih(t){var r=ma(t);if(r&&(t=r.stateNode)){var s=t[ht]||null;e:switch(t=r.stateNode,r.type){case"input":if(yc(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==t&&o.form===t.form){var u=o[ht]||null;if(!u)throw Error(p(90));yc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===t.form&&Eh(o)}break e;case"textarea":bc(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Cs(t,!!s.multiple,r,!1)}}}var Ac=!1;function xh(t,r,s){if(Ac)return t(r,s);Ac=!0;try{var o=t(r);return o}finally{if(Ac=!1,(Ji!==null||ji!==null)&&(Ci(),Ji&&(r=Ji,t=ji,ji=Ji=null,Ih(r),t)))for(r=0;r<t.length;r++)Ih(t[r])}}function Hi(t,r){var s=t.stateNode;if(s===null)return null;var o=s[ht]||null;if(o===null)return null;s=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(p(231,r,typeof s));return s}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if(va)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Ec=!1}var ai=null,Is=null,hr=null;function Dh(){if(hr)return hr;var t,r=Is,s=r.length,o,u="value"in ai?ai.value:ai.textContent,d=u.length;for(t=0;t<s&&r[t]===u[t];t++);var v=s-t;for(o=1;o<=v&&r[s-o]===u[d-o];o++);return hr=u.slice(t,1<o?1-o:void 0)}function Yl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Zl(){return!0}function Oh(){return!1}function Zn(t){function r(s,o,u,d,v){this._reactName=s,this._targetInst=u,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zl:Oh,this.isPropagationStopped=Oh,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),r}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Zn(ii),Cn=_({},ii,{view:0,detail:0}),_g=Zn(Cn),Rc,Gl,Ko,zl=_({},Cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ko&&(Ko&&t.type==="mousemove"?(Rc=t.screenX-Ko.screenX,Gl=t.screenY-Ko.screenY):Gl=Rc=0,Ko=t),Rc)},movementY:function(t){return"movementY"in t?t.movementY:Gl}}),wc=Zn(zl),Le=_({},zl,{dataTransfer:0}),vp=Zn(Le),Yg=_({},Cn,{relatedTarget:0}),kl=Zn(Yg),Vh=_({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Bh=Zn(Vh),Uh=_({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lh=Zn(Uh),Mh=_({},ii,{data:0}),Tc=Zn(Mh),_h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gh(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Zh[t])?!!r[t]:!1}function Wl(){return Gh}var zh=_({},Cn,{key:function(t){if(t.key){var r=_h[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(t){return t.type==="keypress"?Yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kh=Zn(zh),Wh=_({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=Zn(Wh),Kh=_({},Cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),Xh=Zn(Kh),Ph=_({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fh=Zn(Ph),Jh=_({},zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zg=Zn(Jh),dr=_({},ii,{newState:0,oldState:0}),jh=Zn(dr),Hh=[9,13,27,32],Cc=va&&"CompositionEvent"in window,Xo=null;va&&"documentMode"in document&&(Xo=document.documentMode);var Ic=va&&"TextEvent"in window&&!Xo,$i=va&&(!Cc||Xo&&8<Xo&&11>=Xo),Wr=" ",$h=!1;function Qh(t,r){switch(t){case"keyup":return Hh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function ed(t,r){switch(t){case"compositionend":return qh(r);case"keypress":return r.which!==32?null:($h=!0,Wr);case"textInput":return t=r.data,t===Wr&&$h?null:t;default:return null}}function Gg(t,r){if(xs)return t==="compositionend"||!Cc&&Qh(t,r)?(t=Dh(),hr=Is=ai=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $i&&r.locale!=="ko"?null:r.data;default:return null}}var zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!zg[t.type]:r==="textarea"}function td(t,r,s,o){Ji?ji?ji.push(o):ji=[o]:Ji=o,r=bl(r,"onChange"),0<r.length&&(s=new ba("onChange","change",null,s,o),t.push({event:s,listeners:r}))}var gr=null,si=null;function nd(t){sa(t,0)}function Qi(t){var r=Ns(t);if(Eh(r))return t}function Dc(t,r){if(t==="change")return r}var rd=!1;if(va){var Oc;if(va){var Kl="oninput"in document;if(!Kl){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),Kl=typeof ad.oninput=="function"}Oc=Kl}else Oc=!1;rd=Oc&&(!document.documentMode||9<document.documentMode)}function id(){gr&&(gr.detachEvent("onpropertychange",sd),si=gr=null)}function sd(t){if(t.propertyName==="value"&&Qi(si)){var r=[];td(r,si,t,ko(t)),xh(nd,r)}}function kg(t,r,s){t==="focusin"?(id(),gr=r,si=s,gr.attachEvent("onpropertychange",sd)):t==="focusout"&&id()}function Wg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qi(si)}function od(t,r){if(t==="click")return Qi(r)}function Vc(t,r){if(t==="input"||t==="change")return Qi(r)}function Kg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Gn=typeof Object.is=="function"?Object.is:Kg;function Po(t,r){if(Gn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var u=s[o];if(!ws.call(r,u)||!Gn(t[u],r[u]))return!1}return!0}function Xl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ld(t,r){var s=Xl(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=r&&o>=r)return{node:s,offset:r-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Xl(s)}}function ud(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ud(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function cd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=_l(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=_l(t.document)}return r}function Bc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Pl=va&&"documentMode"in document&&11>=document.documentMode,qi=null,Uc=null,Fo=null,Fl=!1;function fd(t,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fl||qi==null||qi!==_l(o)||(o=qi,"selectionStart"in o&&Bc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&Po(Fo,o)||(Fo=o,o=bl(Uc,"onSelect"),0<o.length&&(r=new ba("onSelect","select",null,r,s),t.push({event:r,listeners:o}),r.target=qi)))}function es(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Ds={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},ts={},Lc={};va&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function ns(t){if(ts[t])return ts[t];if(!Ds[t])return t;var r=Ds[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Lc)return ts[t]=r[s];return t}var hd=ns("animationend"),Jl=ns("animationiteration"),Jo=ns("animationstart"),Xg=ns("transitionrun"),Pg=ns("transitionstart"),Fg=ns("transitioncancel"),dd=ns("transitionend"),gd=new Map,jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jl.push("scrollEnd");function Qn(t,r){gd.set(t,r),ni(r,[t])}var Mc=new WeakMap;function mr(t,r){if(typeof t=="object"&&t!==null){var s=Mc.get(t);return s!==void 0?s:(r={value:t,source:r,stack:Ah(r)},Mc.set(t,r),r)}return{value:t,source:r,stack:Ah(r)}}var qn=[],Os=0,_c=0;function Hl(){for(var t=Os,r=_c=Os=0;r<t;){var s=qn[r];qn[r++]=null;var o=qn[r];qn[r++]=null;var u=qn[r];qn[r++]=null;var d=qn[r];if(qn[r++]=null,o!==null&&u!==null){var v=o.pending;v===null?u.next=u:(u.next=v.next,v.next=u),o.pending=u}d!==0&&md(s,u,d)}}function Sa(t,r,s,o){qn[Os++]=t,qn[Os++]=r,qn[Os++]=s,qn[Os++]=o,_c|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function $l(t,r,s,o){return Sa(t,r,s,o),Ql(t)}function Vs(t,r){return Sa(t,null,null,r),Ql(t)}function md(t,r,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var u=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(u=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,u&&r!==null&&(u=31-an(s),t=d.hiddenUpdates,o=t[u],o===null?t[u]=[r]:o.push(r),r.lane=s|536870912),d):null}function Ql(t){if(50<yt)throw yt=0,wn=null,Error(p(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Bs={};function Jg(t,r,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,r,s,o){return new Jg(t,r,s,o)}function jo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pr(t,r){var s=t.alternate;return s===null?(s=An(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ho(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ql(t,r,s,o,u,d){var v=0;if(o=t,typeof t=="function")jo(t)&&(v=1);else if(typeof t=="string")v=me(t,s,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ce:return t=An(31,s,r,u),t.elementType=Ce,t.lanes=d,t;case j:return oi(s.children,u,d,r);case ie:v=8,u|=24;break;case H:return t=An(12,s,r,u|2),t.elementType=H,t.lanes=d,t;case le:return t=An(13,s,r,u),t.elementType=le,t.lanes=d,t;case Ye:return t=An(19,s,r,u),t.elementType=Ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:case se:v=10;break e;case pe:v=9;break e;case Ne:v=11;break e;case at:v=14;break e;case Me:v=16,o=null;break e}v=29,s=Error(p(130,t===null?"null":typeof t,"")),o=null}return r=An(v,s,r,u),r.elementType=t,r.type=o,r.lanes=d,r}function oi(t,r,s,o){return t=An(7,t,o,r),t.lanes=s,t}function Yc(t,r,s){return t=An(6,t,null,r),t.lanes=s,t}function Zc(t,r,s){return r=An(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Us=[],Ls=0,eu=null,tu=0,er=[],zn=0,li=null,Kr=1,je="";function rs(t,r){Us[Ls++]=tu,Us[Ls++]=eu,eu=t,tu=r}function pd(t,r,s){er[zn++]=Kr,er[zn++]=je,er[zn++]=li,li=t;var o=Kr;t=je;var u=32-an(o)-1;o&=~(1<<u),s+=1;var d=32-an(r)+u;if(30<d){var v=u-u%5;d=(o&(1<<v)-1).toString(32),o>>=v,u-=v,Kr=1<<32-an(r)+u|s<<u|o,je=d+t}else Kr=1<<d|s<<u|o,je=t}function Gc(t){t.return!==null&&(rs(t,1),pd(t,1,0))}function nu(t){for(;t===eu;)eu=Us[--Ls],Us[Ls]=null,tu=Us[--Ls],Us[Ls]=null;for(;t===li;)li=er[--zn],er[zn]=null,je=er[--zn],er[zn]=null,Kr=er[--zn],er[zn]=null}var In=null,Yt=null,ut=!1,ui=null,Or=!1,zc=Error(p(519));function Vr(t){var r=Error(p(418,""));throw Qo(mr(r,t)),zc}function yd(t){var r=t.stateNode,s=t.type,o=t.memoizedProps;switch(r[_t]=t,r[ht]=o,s){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(s=0;s<ia.length;s++)Je(ia[s],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":Je("invalid",r),vc(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ml(r);break;case"select":Je("invalid",r);break;case"textarea":Je("invalid",r),Rh(r,o.value,o.defaultValue,o.children),Ml(r)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||ag(r.textContent,s)?(o.popover!=null&&(Je("beforetoggle",r),Je("toggle",r)),o.onScroll!=null&&Je("scroll",r),o.onScrollEnd!=null&&Je("scrollend",r),o.onClick!=null&&(r.onclick=Gu),r=!0):r=!1,r||Vr(t)}function vd(t){for(In=t.return;In;)switch(In.tag){case 5:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:In=In.return}}function $o(t){if(t!==In)return!1;if(!ut)return vd(t),ut=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||sg(t.type,t.memoizedProps)),s=!s),s&&Yt&&Vr(t),vd(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(p(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){Yt=wr(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}Yt=null}}else r===27?(r=Yt,fn(t.type)?(t=fo,fo=null,Yt=t):Yt=r):Yt=In?wr(t.stateNode.nextSibling):null;return!0}function Ms(){Yt=In=null,ut=!1}function as(){var t=ui;return t!==null&&(Ln===null?Ln=t:Ln.push.apply(Ln,t),ui=null),t}function Qo(t){ui===null?ui=[t]:ui.push(t)}var kc=$(null),is=null,Aa=null;function ci(t,r,s){oe(kc,r._currentValue),r._currentValue=s}function Ea(t){t._currentValue=kc.current,ce(kc)}function Wc(t,r,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===s)break;t=t.return}}function ru(t,r,s,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var d=u.dependencies;if(d!==null){var v=u.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=u;for(var x=0;x<r.length;x++)if(E.context===r[x]){d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),Wc(d.return,s,t),o||(v=null);break e}d=E.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(p(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Wc(v,s,t),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===t){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function qo(t,r,s,o){t=null;for(var u=r,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(p(387));if(v=v.memoizedProps,v!==null){var E=u.type;Gn(u.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(u===Qt.current){if(v=u.alternate,v===null)throw Error(p(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Mn):t=[Mn])}u=u.return}t!==null&&ru(r,t,s,o),r.flags|=262144}function au(t){for(t=t.firstContext;t!==null;){if(!Gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fi(t){is=t,Aa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function hn(t){return Kc(is,t)}function _s(t,r){return is===null&&fi(t),Kc(t,r)}function Kc(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Aa===null){if(t===null)throw Error(p(308));Aa=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Aa=Aa.next=r;return s}var jg=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},Hg=f.unstable_scheduleCallback,Ys=f.unstable_NormalPriority,Ft={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new jg,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&Hg(Ys,function(){t.controller.abort()})}var Zs=null,Pc=0,Gs=0,zs=null;function $g(t,r){if(Zs===null){var s=Zs=[];Pc=0,Gs=_u(),zs={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Pc++,r.then(Qg,Qg),r}function Qg(){if(--Pc===0&&Zs!==null){zs!==null&&(zs.status="fulfilled");var t=Zs;Zs=null,Gs=0,zs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function qg(t,r){var s=[],o={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var u=0;u<s.length;u++)(0,s[u])(r)},function(u){for(o.status="rejected",o.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),o}var bd=W.S;W.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&$g(t,r),bd!==null&&bd(t,r)};var hi=$(null);function iu(){var t=hi.current;return t!==null?t:xt.pooledCache}function tl(t,r){r===null?oe(hi,hi.current):oe(hi,r.pool)}function Sd(){var t=iu();return t===null?null:{parent:Ft._currentValue,pool:t}}var ks=Error(p(460)),Ad=Error(p(474)),nl=Error(p(542)),su={then:function(){}};function Fc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ou(){}function Ed(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(ou,ou),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Jc(t),t;default:if(typeof r.status=="string")r.then(ou,ou);else{if(t=xt,t!==null&&100<t.shellSuspendCounter)throw Error(p(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var u=r;u.status="fulfilled",u.value=o}},function(o){if(r.status==="pending"){var u=r;u.status="rejected",u.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Jc(t),t}throw Ws=r,ks}}var Ws=null;function Rd(){if(Ws===null)throw Error(p(459));var t=Ws;return Ws=null,t}function Jc(t){if(t===ks||t===nl)throw Error(p(483))}var Ra=!1;function jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lu(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,r,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(dt&2)!==0){var u=o.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),o.pending=r,r=Ql(t),md(t,null,s),r}return Sa(t,o,r,s),Ql(t)}function Ks(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Lt(t,s)}}function Hc(t,r){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?u=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?u=d=r:d=d.next=r}else u=d=r;s={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Ge=!1;function rl(){if(Ge){var t=zs;if(t!==null)throw t}}function al(t,r,s,o){Ge=!1;var u=t.updateQueue;Ra=!1;var d=u.firstBaseUpdate,v=u.lastBaseUpdate,E=u.shared.pending;if(E!==null){u.shared.pending=null;var x=E,k=x.next;x.next=null,v===null?d=k:v.next=k,v=x;var q=t.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==v&&(E===null?q.firstBaseUpdate=k:E.next=k,q.lastBaseUpdate=x))}if(d!==null){var ae=u.baseState;v=0,q=k=x=null,E=d;do{var K=E.lane&-536870913,P=K!==E.lane;if(P?(nt&K)===K:(o&K)===K){K!==0&&K===Gs&&(Ge=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Be=t,De=E;K=r;var Dt=s;switch(De.tag){case 1:if(Be=De.payload,typeof Be=="function"){ae=Be.call(Dt,ae,K);break e}ae=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=De.payload,K=typeof Be=="function"?Be.call(Dt,ae,K):Be,K==null)break e;ae=_({},ae,K);break e;case 2:Ra=!0}}K=E.callback,K!==null&&(t.flags|=64,P&&(t.flags|=8192),P=u.callbacks,P===null?u.callbacks=[K]:P.push(K))}else P={lane:K,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(k=q=P,x=ae):q=q.next=P,v|=K;if(E=E.next,E===null){if(E=u.shared.pending,E===null)break;P=E,E=P.next,P.next=null,u.lastBaseUpdate=P,u.shared.pending=null}}while(!0);q===null&&(x=ae),u.baseState=x,u.firstBaseUpdate=k,u.lastBaseUpdate=q,d===null&&(u.shared.lanes=0),na|=v,t.lanes=v,t.memoizedState=ae}}function wd(t,r){if(typeof t!="function")throw Error(p(191,t));t.call(r)}function uu(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)wd(s[t],r)}var gi=$(null),Xs=$(0);function Td(t,r){t=Za,oe(Xs,t),oe(gi,r),Za=t|r.baseLanes}function $c(){oe(Xs,Za),oe(gi,gi.current)}function Qc(){Za=Xs.current,ce(gi),ce(Xs)}var mi=0,ke=null,St=null,Jt=null,cu=!1,Ps=!1,ss=!1,wa=0,En=0,Fs=null,em=0;function Wt(){throw Error(p(321))}function qc(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Gn(t[s],r[s]))return!1;return!0}function ef(t,r,s,o,u,d){return mi=d,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=t===null||t.memoizedState===null?ue:At,ss=!1,d=s(o,u),ss=!1,Ps&&(d=Cd(r,s,o,u)),Nd(t),d}function Nd(t){W.H=mn;var r=St!==null&&St.next!==null;if(mi=0,Jt=St=ke=null,cu=!1,En=0,Fs=null,r)throw Error(p(300));t===null||Zt||(t=t.dependencies,t!==null&&au(t)&&(Zt=!0))}function Cd(t,r,s,o){ke=t;var u=0;do{if(Ps&&(Fs=null),En=0,Ps=!1,25<=u)throw Error(p(301));if(u+=1,Jt=St=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=Vt,d=r(s,o)}while(Ps);return d}function tm(){var t=W.H,r=t.useState()[0];return r=typeof r.then=="function"?il(r):r,t=t.useState()[0],(St!==null?St.memoizedState:null)!==t&&(ke.flags|=1024),r}function fu(){var t=wa!==0;return wa=0,t}function tf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function nf(t){if(cu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}cu=!1}mi=0,Jt=St=ke=null,Ps=!1,En=wa=0,Fs=null}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?ke.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function jt(){if(St===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var r=Jt===null?ke.memoizedState:Jt.next;if(r!==null)Jt=r,St=t;else{if(t===null)throw ke.alternate===null?Error(p(467)):Error(p(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Jt===null?ke.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function rf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var r=En;return En+=1,Fs===null&&(Fs=[]),t=Ed(Fs,t,r),r=ke,(Jt===null?r.memoizedState:Jt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?ue:At),t}function sl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===se)return hn(t)}throw Error(p(438,String(t)))}function os(t){var r=null,s=ke.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=ke.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(u){return u.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=rf(),ke.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),o=0;o<t;o++)s[o]=Ke;return r.index++,s}function Ta(t,r){return typeof r=="function"?r(t):r}function hu(t){var r=jt();return af(r,St,t)}function af(t,r,s){var o=t.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=s;var u=t.baseQueue,d=o.pending;if(d!==null){if(u!==null){var v=u.next;u.next=d.next,d.next=v}r.baseQueue=u=d,o.pending=null}if(d=t.baseState,u===null)t.memoizedState=d;else{r=u.next;var E=v=null,x=null,k=r,q=!1;do{var ae=k.lane&-536870913;if(ae!==k.lane?(nt&ae)===ae:(mi&ae)===ae){var K=k.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),ae===Gs&&(q=!0);else if((mi&K)===K){k=k.next,K===Gs&&(q=!0);continue}else ae={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},x===null?(E=x=ae,v=d):x=x.next=ae,ke.lanes|=K,na|=K;ae=k.action,ss&&s(d,ae),d=k.hasEagerState?k.eagerState:s(d,ae)}else K={lane:ae,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},x===null?(E=x=K,v=d):x=x.next=K,ke.lanes|=ae,na|=ae;k=k.next}while(k!==null&&k!==r);if(x===null?v=d:x.next=E,!Gn(d,t.memoizedState)&&(Zt=!0,q&&(s=zs,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=x,o.lastRenderedState=d}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function sf(t){var r=jt(),s=r.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=t;var o=s.dispatch,u=s.pending,d=r.memoizedState;if(u!==null){s.pending=null;var v=u=u.next;do d=t(d,v.action),v=v.next;while(v!==u);Gn(d,r.memoizedState)||(Zt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,o]}function of(t,r,s){var o=ke,u=jt(),d=ut;if(d){if(s===void 0)throw Error(p(407));s=s()}else s=r();var v=!Gn((St||u).memoizedState,s);v&&(u.memoizedState=s,Zt=!0),u=u.queue;var E=nm.bind(null,o,u,t);if(xn(2048,8,E,[t]),u.getSnapshot!==r||v||Jt!==null&&Jt.memoizedState.tag&1){if(o.flags|=2048,Ca(9,Ia(),ol.bind(null,o,u,s,r),null),xt===null)throw Error(p(349));d||(mi&124)!==0||ze(o,r,s)}return s}function ze(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=ke.updateQueue,r===null?(r=rf(),ke.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function ol(t,r,s,o){r.value=s,r.getSnapshot=o,Id(r)&&rm(t)}function nm(t,r,s){return s(function(){Id(r)&&rm(t)})}function Id(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Gn(t,s)}catch{return!0}}function rm(t){var r=Vs(t,2);r!==null&&fe(r,t,2)}function lf(t){var r=Wn();if(typeof t=="function"){var s=t;if(t=s(),ss){ur(!0);try{s()}finally{ur(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},r}function V(t,r,s,o){return t.baseState=s,af(t,St,typeof o=="function"?o:Ta)}function L(t,r,s,o,u){if(js(t))throw Error(p(485));if(t=r.action,t!==null){var d={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?s(!0):d.isTransition=!1,o(d),s=r.pending,s===null?(d.next=r.pending=d,Br(r,d)):(d.next=s.next,r.pending=s.next=d)}}function Br(t,r){var s=r.action,o=r.payload,u=t.state;if(r.isTransition){var d=W.T,v={};W.T=v;try{var E=s(u,o),x=W.S;x!==null&&x(v,E),du(t,r,E)}catch(k){Kn(t,r,k)}finally{W.T=d}}else try{d=s(u,o),du(t,r,d)}catch(k){Kn(t,r,k)}}function du(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Ur(t,r,o)},function(o){return Kn(t,r,o)}):Ur(t,r,s)}function Ur(t,r,s){r.status="fulfilled",r.value=s,gu(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Br(t,s)))}function Kn(t,r,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,gu(r),r=r.next;while(r!==o)}t.action=null}function gu(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function uf(t,r){return r}function ll(t,r){if(ut){var s=xt.formState;if(s!==null){e:{var o=ke;if(ut){if(Yt){t:{for(var u=Yt,d=Or;u.nodeType!==8;){if(!d){u=null;break t}if(u=wr(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){Yt=wr(u.nextSibling),o=u.data==="F!";break e}}Vr(o)}o=!1}o&&(r=s[0])}}return s=Wn(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:r},s.queue=o,s=Xr.bind(null,ke,o),o.dispatch=s,o=lf(!1),d=pu.bind(null,ke,!1,o.queue),o=Wn(),u={state:r,dispatch:null,action:t,pending:null},o.queue=u,s=L.bind(null,ke,u,d,s),u.dispatch=s,o.memoizedState=t,[r,s,!1]}function ls(t){var r=jt();return Lr(r,St,t)}function Lr(t,r,s){if(r=af(t,r,uf)[0],t=hu(Ta)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=il(r)}catch(v){throw v===ks?nl:v}else o=r;r=jt();var u=r.queue,d=u.dispatch;return s!==r.memoizedState&&(ke.flags|=2048,Ca(9,Ia(),ul.bind(null,u,s),null)),[o,d,t]}function ul(t,r){t.action=r}function Na(t){var r=jt(),s=St;if(s!==null)return Lr(r,s,t);jt(),r=r.memoizedState,s=jt();var o=s.queue.dispatch;return s.memoizedState=t,[r,o,!1]}function Ca(t,r,s,o){return t={tag:t,create:s,deps:o,inst:r,next:null},r=ke.updateQueue,r===null&&(r=rf(),ke.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,r.lastEffect=t),t}function Ia(){return{destroy:void 0,resource:void 0}}function dn(){return jt().memoizedState}function Nt(t,r,s,o){var u=Wn();o=o===void 0?null:o,ke.flags|=t,u.memoizedState=Ca(1|r,Ia(),s,o)}function xn(t,r,s,o){var u=jt();o=o===void 0?null:o;var d=u.memoizedState.inst;St!==null&&o!==null&&qc(o,St.memoizedState.deps)?u.memoizedState=Ca(r,d,s,o):(ke.flags|=t,u.memoizedState=Ca(1|r,d,s,o))}function cf(t,r){Nt(8390656,8,t,r)}function Js(t,r){xn(2048,8,t,r)}function tr(t,r){return xn(4,2,t,r)}function Pe(t,r){return xn(4,4,t,r)}function gn(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ff(t,r,s){s=s!=null?s.concat([t]):null,xn(4,4,gn.bind(null,r,t),s)}function mu(){}function hf(t,r){var s=jt();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&qc(r,o[1])?o[0]:(s.memoizedState=[t,r],t)}function pi(t,r){var s=jt();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&qc(r,o[1]))return o[0];if(o=t(),ss){ur(!0);try{t()}finally{ur(!1)}}return s.memoizedState=[o,r],o}function Xn(t,r,s){return s===void 0||(mi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=Jd(),ke.lanes|=t,na|=t,s)}function tt(t,r,s,o){return Gn(s,r)?s:gi.current!==null?(t=Xn(t,s,o),Gn(t,r)||(Zt=!0),t):(mi&42)===0?(Zt=!0,t.memoizedState=s):(t=Jd(),ke.lanes|=t,na|=t,r)}function cl(t,r,s,o,u){var d=he.p;he.p=d!==0&&8>d?d:8;var v=W.T,E={};W.T=E,pu(t,!1,r,s);try{var x=u(),k=W.S;if(k!==null&&k(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var q=qg(x,o);Pr(t,r,q,rn(t))}else Pr(t,r,o,rn(t))}catch(ae){Pr(t,r,{then:function(){},status:"rejected",reason:ae},rn())}finally{he.p=d,W.T=v}}function df(){}function Pn(t,r,s,o){if(t.tag!==5)throw Error(p(476));var u=gf(t).queue;cl(t,u,r,Re,s===null?df:function(){return xd(t),s(o)})}function gf(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:Re},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function xd(t){var r=gf(t).next.queue;Pr(t,r,{},rn())}function yi(){return hn(Mn)}function mf(){return jt().memoizedState}function Dd(){return jt().memoizedState}function Od(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=rn();t=kn(s);var o=di(r,t,s);o!==null&&(fe(o,r,s),Ks(o,r,s)),r={cache:Xc()},t.payload=r;return}r=r.return}}function Mr(t,r,s){var o=rn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},js(t)?pf(r,s):(s=$l(t,r,s,o),s!==null&&(fe(s,t,o),yf(s,r,o)))}function Xr(t,r,s){var o=rn();Pr(t,r,s,o)}function Pr(t,r,s,o){var u={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(js(t))pf(r,u);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,E=d(v,s);if(u.hasEagerState=!0,u.eagerState=E,Gn(E,v))return Sa(t,r,u,0),xt===null&&Hl(),!1}catch{}finally{}if(s=$l(t,r,u,o),s!==null)return fe(s,t,o),yf(s,r,o),!0}return!1}function pu(t,r,s,o){if(o={lane:2,revertLane:_u(),action:o,hasEagerState:!1,eagerState:null,next:null},js(t)){if(r)throw Error(p(479))}else r=$l(t,s,o,2),r!==null&&fe(r,t,2)}function js(t){var r=t.alternate;return t===ke||r!==null&&r===ke}function pf(t,r){Ps=cu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function yf(t,r,s){if((s&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Lt(t,s)}}var mn={readContext:hn,use:sl,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},ue={readContext:hn,use:sl,useCallback:function(t,r){return Wn().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:cf,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Nt(4194308,4,gn.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Nt(4194308,4,t,r)},useInsertionEffect:function(t,r){Nt(4,2,t,r)},useMemo:function(t,r){var s=Wn();r=r===void 0?null:r;var o=t();if(ss){ur(!0);try{t()}finally{ur(!1)}}return s.memoizedState=[o,r],o},useReducer:function(t,r,s){var o=Wn();if(s!==void 0){var u=s(r);if(ss){ur(!0);try{s(r)}finally{ur(!1)}}}else u=r;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=Mr.bind(null,ke,t),[o.memoizedState,t]},useRef:function(t){var r=Wn();return t={current:t},r.memoizedState=t},useState:function(t){t=lf(t);var r=t.queue,s=Xr.bind(null,ke,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:mu,useDeferredValue:function(t,r){var s=Wn();return Xn(s,t,r)},useTransition:function(){var t=lf(!1);return t=cl.bind(null,ke,t.queue,!0,!1),Wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var o=ke,u=Wn();if(ut){if(s===void 0)throw Error(p(407));s=s()}else{if(s=r(),xt===null)throw Error(p(349));(nt&124)!==0||ze(o,r,s)}u.memoizedState=s;var d={value:s,getSnapshot:r};return u.queue=d,cf(nm.bind(null,o,d,t),[t]),o.flags|=2048,Ca(9,Ia(),ol.bind(null,o,d,s,r),null),s},useId:function(){var t=Wn(),r=xt.identifierPrefix;if(ut){var s=je,o=Kr;s=(o&~(1<<32-an(o)-1)).toString(32)+s,r=""+r+"R"+s,s=wa++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=em++,r=""+r+"r"+s.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:yi,useFormState:ll,useActionState:ll,useOptimistic:function(t){var r=Wn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=pu.bind(null,ke,!0,s),s.dispatch=r,[t,r]},useMemoCache:os,useCacheRefresh:function(){return Wn().memoizedState=Od.bind(null,ke)}},At={readContext:hn,use:sl,useCallback:hf,useContext:hn,useEffect:Js,useImperativeHandle:ff,useInsertionEffect:tr,useLayoutEffect:Pe,useMemo:pi,useReducer:hu,useRef:dn,useState:function(){return hu(Ta)},useDebugValue:mu,useDeferredValue:function(t,r){var s=jt();return tt(s,St.memoizedState,t,r)},useTransition:function(){var t=hu(Ta)[0],r=jt().memoizedState;return[typeof t=="boolean"?t:il(t),r]},useSyncExternalStore:of,useId:mf,useHostTransitionStatus:yi,useFormState:ls,useActionState:ls,useOptimistic:function(t,r){var s=jt();return V(s,St,t,r)},useMemoCache:os,useCacheRefresh:Dd},Vt={readContext:hn,use:sl,useCallback:hf,useContext:hn,useEffect:Js,useImperativeHandle:ff,useInsertionEffect:tr,useLayoutEffect:Pe,useMemo:pi,useReducer:sf,useRef:dn,useState:function(){return sf(Ta)},useDebugValue:mu,useDeferredValue:function(t,r){var s=jt();return St===null?Xn(s,t,r):tt(s,St.memoizedState,t,r)},useTransition:function(){var t=sf(Ta)[0],r=jt().memoizedState;return[typeof t=="boolean"?t:il(t),r]},useSyncExternalStore:of,useId:mf,useHostTransitionStatus:yi,useFormState:Na,useActionState:Na,useOptimistic:function(t,r){var s=jt();return St!==null?V(s,St,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:os,useCacheRefresh:Dd},xa=null,Da=0;function qt(t){var r=Da;return Da+=1,xa===null&&(xa=[]),Ed(xa,t,r)}function yr(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function nr(t,r){throw r.$$typeof===N?Error(p(525)):(t=Object.prototype.toString.call(r),Error(p(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function vi(t){var r=t._init;return r(t._payload)}function vr(t){function r(G,U){if(t){var z=G.deletions;z===null?(G.deletions=[U],G.flags|=16):z.push(U)}}function s(G,U){if(!t)return null;for(;U!==null;)r(G,U),U=U.sibling;return null}function o(G){for(var U=new Map;G!==null;)G.key!==null?U.set(G.key,G):U.set(G.index,G),G=G.sibling;return U}function u(G,U){return G=pr(G,U),G.index=0,G.sibling=null,G}function d(G,U,z){return G.index=z,t?(z=G.alternate,z!==null?(z=z.index,z<U?(G.flags|=67108866,U):z):(G.flags|=67108866,U)):(G.flags|=1048576,U)}function v(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function E(G,U,z,te){return U===null||U.tag!==6?(U=Yc(z,G.mode,te),U.return=G,U):(U=u(U,z),U.return=G,U)}function x(G,U,z,te){var Se=z.type;return Se===j?q(G,U,z.props.children,te,z.key):U!==null&&(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Me&&vi(Se)===U.type)?(U=u(U,z.props),yr(U,z),U.return=G,U):(U=ql(z.type,z.key,z.props,null,G.mode,te),yr(U,z),U.return=G,U)}function k(G,U,z,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==z.containerInfo||U.stateNode.implementation!==z.implementation?(U=Zc(z,G.mode,te),U.return=G,U):(U=u(U,z.children||[]),U.return=G,U)}function q(G,U,z,te,Se){return U===null||U.tag!==7?(U=oi(z,G.mode,te,Se),U.return=G,U):(U=u(U,z),U.return=G,U)}function ae(G,U,z){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Yc(""+U,G.mode,z),U.return=G,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return z=ql(U.type,U.key,U.props,null,G.mode,z),yr(z,U),z.return=G,z;case ee:return U=Zc(U,G.mode,z),U.return=G,U;case Me:var te=U._init;return U=te(U._payload),ae(G,U,z)}if(lt(U)||Xe(U))return U=oi(U,G.mode,z,null),U.return=G,U;if(typeof U.then=="function")return ae(G,qt(U),z);if(U.$$typeof===se)return ae(G,_s(G,U),z);nr(G,U)}return null}function K(G,U,z,te){var Se=U!==null?U.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return Se!==null?null:E(G,U,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case F:return z.key===Se?x(G,U,z,te):null;case ee:return z.key===Se?k(G,U,z,te):null;case Me:return Se=z._init,z=Se(z._payload),K(G,U,z,te)}if(lt(z)||Xe(z))return Se!==null?null:q(G,U,z,te,null);if(typeof z.then=="function")return K(G,U,qt(z),te);if(z.$$typeof===se)return K(G,U,_s(G,z),te);nr(G,z)}return null}function P(G,U,z,te,Se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return G=G.get(z)||null,E(U,G,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case F:return G=G.get(te.key===null?z:te.key)||null,x(U,G,te,Se);case ee:return G=G.get(te.key===null?z:te.key)||null,k(U,G,te,Se);case Me:var Qe=te._init;return te=Qe(te._payload),P(G,U,z,te,Se)}if(lt(te)||Xe(te))return G=G.get(z)||null,q(U,G,te,Se,null);if(typeof te.then=="function")return P(G,U,z,qt(te),Se);if(te.$$typeof===se)return P(G,U,z,_s(U,te),Se);nr(U,te)}return null}function Be(G,U,z,te){for(var Se=null,Qe=null,Ie=U,Oe=U=0,Tn=null;Ie!==null&&Oe<z.length;Oe++){Ie.index>Oe?(Tn=Ie,Ie=null):Tn=Ie.sibling;var mt=K(G,Ie,z[Oe],te);if(mt===null){Ie===null&&(Ie=Tn);break}t&&Ie&&mt.alternate===null&&r(G,Ie),U=d(mt,U,Oe),Qe===null?Se=mt:Qe.sibling=mt,Qe=mt,Ie=Tn}if(Oe===z.length)return s(G,Ie),ut&&rs(G,Oe),Se;if(Ie===null){for(;Oe<z.length;Oe++)Ie=ae(G,z[Oe],te),Ie!==null&&(U=d(Ie,U,Oe),Qe===null?Se=Ie:Qe.sibling=Ie,Qe=Ie);return ut&&rs(G,Oe),Se}for(Ie=o(Ie);Oe<z.length;Oe++)Tn=P(Ie,G,Oe,z[Oe],te),Tn!==null&&(t&&Tn.alternate!==null&&Ie.delete(Tn.key===null?Oe:Tn.key),U=d(Tn,U,Oe),Qe===null?Se=Tn:Qe.sibling=Tn,Qe=Tn);return t&&Ie.forEach(function(vo){return r(G,vo)}),ut&&rs(G,Oe),Se}function De(G,U,z,te){if(z==null)throw Error(p(151));for(var Se=null,Qe=null,Ie=U,Oe=U=0,Tn=null,mt=z.next();Ie!==null&&!mt.done;Oe++,mt=z.next()){Ie.index>Oe?(Tn=Ie,Ie=null):Tn=Ie.sibling;var vo=K(G,Ie,mt.value,te);if(vo===null){Ie===null&&(Ie=Tn);break}t&&Ie&&vo.alternate===null&&r(G,Ie),U=d(vo,U,Oe),Qe===null?Se=vo:Qe.sibling=vo,Qe=vo,Ie=Tn}if(mt.done)return s(G,Ie),ut&&rs(G,Oe),Se;if(Ie===null){for(;!mt.done;Oe++,mt=z.next())mt=ae(G,mt.value,te),mt!==null&&(U=d(mt,U,Oe),Qe===null?Se=mt:Qe.sibling=mt,Qe=mt);return ut&&rs(G,Oe),Se}for(Ie=o(Ie);!mt.done;Oe++,mt=z.next())mt=P(Ie,G,Oe,mt.value,te),mt!==null&&(t&&mt.alternate!==null&&Ie.delete(mt.key===null?Oe:mt.key),U=d(mt,U,Oe),Qe===null?Se=mt:Qe.sibling=mt,Qe=mt);return t&&Ie.forEach(function(ov){return r(G,ov)}),ut&&rs(G,Oe),Se}function Dt(G,U,z,te){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case F:e:{for(var Se=z.key;U!==null;){if(U.key===Se){if(Se=z.type,Se===j){if(U.tag===7){s(G,U.sibling),te=u(U,z.props.children),te.return=G,G=te;break e}}else if(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Me&&vi(Se)===U.type){s(G,U.sibling),te=u(U,z.props),yr(te,z),te.return=G,G=te;break e}s(G,U);break}else r(G,U);U=U.sibling}z.type===j?(te=oi(z.props.children,G.mode,te,z.key),te.return=G,G=te):(te=ql(z.type,z.key,z.props,null,G.mode,te),yr(te,z),te.return=G,G=te)}return v(G);case ee:e:{for(Se=z.key;U!==null;){if(U.key===Se)if(U.tag===4&&U.stateNode.containerInfo===z.containerInfo&&U.stateNode.implementation===z.implementation){s(G,U.sibling),te=u(U,z.children||[]),te.return=G,G=te;break e}else{s(G,U);break}else r(G,U);U=U.sibling}te=Zc(z,G.mode,te),te.return=G,G=te}return v(G);case Me:return Se=z._init,z=Se(z._payload),Dt(G,U,z,te)}if(lt(z))return Be(G,U,z,te);if(Xe(z)){if(Se=Xe(z),typeof Se!="function")throw Error(p(150));return z=Se.call(z),De(G,U,z,te)}if(typeof z.then=="function")return Dt(G,U,qt(z),te);if(z.$$typeof===se)return Dt(G,U,_s(G,z),te);nr(G,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,U!==null&&U.tag===6?(s(G,U.sibling),te=u(U,z),te.return=G,G=te):(s(G,U),te=Yc(z,G.mode,te),te.return=G,G=te),v(G)):s(G,U)}return function(G,U,z,te){try{Da=0;var Se=Dt(G,U,z,te);return xa=null,Se}catch(Ie){if(Ie===ks||Ie===nl)throw Ie;var Qe=An(29,Ie,null,G.mode);return Qe.lanes=te,Qe.return=G,Qe}finally{}}}var Hs=vr(!0),Vd=vr(!1),br=$(null),_r=null;function bi(t){var r=t.alternate;oe(Et,Et.current&1),oe(br,t),_r===null&&(r===null||gi.current!==null||r.memoizedState!==null)&&(_r=t)}function vf(t){if(t.tag===22){if(oe(Et,Et.current),oe(br,t),_r===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(_r=t)}}else Ct()}function Ct(){oe(Et,Et.current),oe(br,br.current)}function Dn(t){ce(br),_r===t&&(_r=null),ce(Et)}var Et=$(0);function yu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||jf(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function en(t,r,s,o){r=t.memoizedState,s=s(o,r),s=s==null?r:_({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Fr={enqueueSetState:function(t,r,s){t=t._reactInternals;var o=rn(),u=kn(o);u.payload=r,s!=null&&(u.callback=s),r=di(t,u,o),r!==null&&(fe(r,t,o),Ks(r,t,o))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var o=rn(),u=kn(o);u.tag=1,u.payload=r,s!=null&&(u.callback=s),r=di(t,u,o),r!==null&&(fe(r,t,o),Ks(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=rn(),o=kn(s);o.tag=2,r!=null&&(o.callback=r),r=di(t,o,s),r!==null&&(fe(r,t,s),Ks(r,t,s))}};function us(t,r,s,o,u,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):r.prototype&&r.prototype.isPureReactComponent?!Po(s,o)||!Po(u,d):!0}function Oa(t,r,s,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==t&&Fr.enqueueReplaceState(r,r.state,null)}function On(t,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(t=t.defaultProps){s===r&&(s=_({},s));for(var u in t)s[u]===void 0&&(s[u]=t[u])}return s}var Fn=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function bf(t){Fn(t)}function cs(t){console.error(t)}function Jr(t){Fn(t)}function Si(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function Vn(t,r,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function jr(t,r,s){return s=kn(s),s.tag=3,s.payload={element:null},s.callback=function(){Si(t,r)},s}function Hr(t){return t=kn(t),t.tag=3,t}function Bd(t,r,s,o){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var d=o.value;t.payload=function(){return u(d)},t.callback=function(){Vn(r,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Vn(r,s,o),typeof u!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function am(t,r,s,o,u){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&qo(r,s,u,!0),s=br.current,s!==null){switch(s.tag){case 13:return _r===null?it():s.alternate===null&&Bt===0&&(Bt=3),s.flags&=-257,s.flags|=65536,s.lanes=u,o===su?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),Gf(t,o,u)),!1;case 22:return s.flags|=65536,o===su?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),Gf(t,o,u)),!1}throw Error(p(435,s.tag))}return Gf(t,o,u),it(),!1}if(ut)return r=br.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=u,o!==zc&&(t=Error(p(422),{cause:o}),Qo(mr(t,s)))):(o!==zc&&(r=Error(p(423),{cause:o}),Qo(mr(r,s))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=mr(o,s),u=jr(t.stateNode,o,u),Hc(t,u),Bt!==4&&(Bt=2)),!1;var d=Error(p(520),{cause:o});if(d=mr(d,s),ao===null?ao=[d]:ao.push(d),Bt!==4&&(Bt=2),r===null)return!0;o=mr(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=u&-u,s.lanes|=t,t=jr(s.stateNode,o,t),Hc(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Hr(u),Bd(u,t,s,o),Hc(s,u),!1}s=s.return}while(s!==null);return!1}var Yr=Error(p(461)),Zt=!1;function pn(t,r,s,o){r.child=t===null?Vd(r,null,s,o):Hs(r,t.child,s,o)}function Ud(t,r,s,o,u){s=s.render;var d=r.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return fi(r),o=ef(t,r,s,v,d,u),E=fu(),t!==null&&!Zt?(tf(t,r,u),Va(t,r,u)):(ut&&E&&Gc(r),r.flags|=1,pn(t,r,o,u),r.child)}function Gt(t,r,s,o,u){if(t===null){var d=s.type;return typeof d=="function"&&!jo(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Sf(t,r,d,o,u)):(t=ql(s.type,null,o,r,r.mode,u),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Ai(t,u)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(v,o)&&t.ref===r.ref)return Va(t,r,u)}return r.flags|=1,t=pr(d,o),t.ref=r.ref,t.return=r,r.child=t}function Sf(t,r,s,o,u){if(t!==null){var d=t.memoizedProps;if(Po(d,o)&&t.ref===r.ref)if(Zt=!1,r.pendingProps=o=d,Ai(t,u))(t.flags&131072)!==0&&(Zt=!0);else return r.lanes=t.lanes,Va(t,r,u)}return vu(t,r,s,o,u)}function Af(t,r,s){var o=r.pendingProps,u=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,t!==null){for(u=r.child=t.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;r.childLanes=d&~o}else r.childLanes=0,r.child=null;return fl(t,r,o,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&tl(r,d!==null?d.cachePool:null),d!==null?Td(r,d):$c(),vf(r);else return r.lanes=r.childLanes=536870912,fl(t,r,d!==null?d.baseLanes|s:s,s)}else d!==null?(tl(r,d.cachePool),Td(r,d),Ct(),r.memoizedState=null):(t!==null&&tl(r,null),$c(),Ct());return pn(t,r,u,s),r.child}function fl(t,r,s,o){var u=iu();return u=u===null?null:{parent:Ft._currentValue,pool:u},r.memoizedState={baseLanes:s,cachePool:u},t!==null&&tl(r,null),$c(),vf(r),t!==null&&qo(t,r,o,!0),null}function $s(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(p(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function vu(t,r,s,o,u){return fi(r),s=ef(t,r,s,o,void 0,u),o=fu(),t!==null&&!Zt?(tf(t,r,u),Va(t,r,u)):(ut&&o&&Gc(r),r.flags|=1,pn(t,r,s,u),r.child)}function Ld(t,r,s,o,u,d){return fi(r),r.updateQueue=null,s=Cd(r,o,s,u),Nd(t),o=fu(),t!==null&&!Zt?(tf(t,r,d),Va(t,r,d)):(ut&&o&&Gc(r),r.flags|=1,pn(t,r,s,d),r.child)}function Md(t,r,s,o,u){if(fi(r),r.stateNode===null){var d=Bs,v=s.contextType;typeof v=="object"&&v!==null&&(d=hn(v)),d=new s(o,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Fr,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=o,d.state=r.memoizedState,d.refs={},jc(r),v=s.contextType,d.context=typeof v=="object"&&v!==null?hn(v):Bs,d.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(en(r,s,v,o),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Fr.enqueueReplaceState(d,d.state,null),al(r,o,d,u),rl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){d=r.stateNode;var E=r.memoizedProps,x=On(s,E);d.props=x;var k=d.context,q=s.contextType;v=Bs,typeof q=="object"&&q!==null&&(v=hn(q));var ae=s.getDerivedStateFromProps;q=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||k!==v)&&Oa(r,d,o,v),Ra=!1;var K=r.memoizedState;d.state=K,al(r,o,d,u),rl(),k=r.memoizedState,E||K!==k||Ra?(typeof ae=="function"&&(en(r,s,ae,o),k=r.memoizedState),(x=Ra||us(r,s,x,o,K,k,v))?(q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=k),d.props=o,d.state=k,d.context=v,o=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{d=r.stateNode,lu(t,r),v=r.memoizedProps,q=On(s,v),d.props=q,ae=r.pendingProps,K=d.context,k=s.contextType,x=Bs,typeof k=="object"&&k!==null&&(x=hn(k)),E=s.getDerivedStateFromProps,(k=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ae||K!==x)&&Oa(r,d,o,x),Ra=!1,K=r.memoizedState,d.state=K,al(r,o,d,u),rl();var P=r.memoizedState;v!==ae||K!==P||Ra||t!==null&&t.dependencies!==null&&au(t.dependencies)?(typeof E=="function"&&(en(r,s,E,o),P=r.memoizedState),(q=Ra||us(r,s,q,o,K,P,x)||t!==null&&t.dependencies!==null&&au(t.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,P,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,P,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=P),d.props=o,d.state=P,d.context=x,o=q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),o=!1)}return d=o,$s(t,r),o=(r.flags&128)!==0,d||o?(d=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&o?(r.child=Hs(r,t.child,null,u),r.child=Hs(r,null,s,u)):pn(t,r,s,u),r.memoizedState=d.state,t=r.child):t=Va(t,r,u),t}function Sr(t,r,s,o){return Ms(),r.flags|=256,pn(t,r,s,o),r.child}var tn={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bn(t){return{baseLanes:t,cachePool:Sd()}}function hl(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Er),t}function bu(t,r,s){var o=r.pendingProps,u=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),v&&(u=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(ut){if(u?bi(r):Ct(),ut){var E=Yt,x;if(x=E){e:{for(x=E,E=Or;x.nodeType!==8;){if(!E){E=null;break e}if(x=wr(x.nextSibling),x===null){E=null;break e}}E=x}E!==null?(r.memoizedState={dehydrated:E,treeContext:li!==null?{id:Kr,overflow:je}:null,retryLane:536870912,hydrationErrors:null},x=An(18,null,null,0),x.stateNode=E,x.return=r,r.child=x,In=r,Yt=null,x=!0):x=!1}x||Vr(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return jf(E)?r.lanes=32:r.lanes=536870912,null;Dn(r)}return E=o.children,o=o.fallback,u?(Ct(),u=r.mode,E=Rn({mode:"hidden",children:E},u),o=oi(o,u,s,null),E.return=r,o.return=r,E.sibling=o,r.child=E,u=r.child,u.memoizedState=Bn(s),u.childLanes=hl(t,v,s),r.memoizedState=tn,o):(bi(r),Su(r,E))}if(x=t.memoizedState,x!==null&&(E=x.dehydrated,E!==null)){if(d)r.flags&256?(bi(r),r.flags&=-257,r=fs(t,r,s)):r.memoizedState!==null?(Ct(),r.child=t.child,r.flags|=128,r=null):(Ct(),u=o.fallback,E=r.mode,o=Rn({mode:"visible",children:o.children},E),u=oi(u,E,s,null),u.flags|=2,o.return=r,u.return=r,o.sibling=u,r.child=o,Hs(r,t.child,null,s),o=r.child,o.memoizedState=Bn(s),o.childLanes=hl(t,v,s),r.memoizedState=tn,r=u);else if(bi(r),jf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var k=v.dgst;v=k,o=Error(p(419)),o.stack="",o.digest=v,Qo({value:o,source:null,stack:null}),r=fs(t,r,s)}else if(Zt||qo(t,r,s,!1),v=(s&t.childLanes)!==0,Zt||v){if(v=xt,v!==null&&(o=s&-s,o=(o&42)!==0?1:kt(o),o=(o&(v.suspendedLanes|s))!==0?0:o,o!==0&&o!==x.retryLane))throw x.retryLane=o,Vs(t,o),fe(v,t,o),Yr;E.data==="$?"||it(),r=fs(t,r,s)}else E.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=x.treeContext,Yt=wr(E.nextSibling),In=r,ut=!0,ui=null,Or=!1,t!==null&&(er[zn++]=Kr,er[zn++]=je,er[zn++]=li,Kr=t.id,je=t.overflow,li=r),r=Su(r,o.children),r.flags|=4096);return r}return u?(Ct(),u=o.fallback,E=r.mode,x=t.child,k=x.sibling,o=pr(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,k!==null?u=pr(k,u):(u=oi(u,E,s,null),u.flags|=2),u.return=r,o.return=r,o.sibling=u,r.child=o,o=u,u=r.child,E=t.child.memoizedState,E===null?E=Bn(s):(x=E.cachePool,x!==null?(k=Ft._currentValue,x=x.parent!==k?{parent:k,pool:k}:x):x=Sd(),E={baseLanes:E.baseLanes|s,cachePool:x}),u.memoizedState=E,u.childLanes=hl(t,v,s),r.memoizedState=tn,o):(bi(r),s=t.child,t=s.sibling,s=pr(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=s,r.memoizedState=null,s)}function Su(t,r){return r=Rn({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Rn(t,r){return t=An(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function fs(t,r,s){return Hs(r,t.child,null,s),t=Su(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function hs(t,r,s){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Wc(t.return,r,s)}function Au(t,r,s,o,u){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:u}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=u)}function Ar(t,r,s){var o=r.pendingProps,u=o.revealOrder,d=o.tail;if(pn(t,r,o.children,s),o=Et.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hs(t,s,r);else if(t.tag===19)hs(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(oe(Et,o),u){case"forwards":for(s=r.child,u=null;s!==null;)t=s.alternate,t!==null&&yu(t)===null&&(u=s),s=s.sibling;s=u,s===null?(u=r.child,r.child=null):(u=s.sibling,s.sibling=null),Au(r,!1,u,s,d);break;case"backwards":for(s=null,u=r.child,r.child=null;u!==null;){if(t=u.alternate,t!==null&&yu(t)===null){r.child=u;break}t=u.sibling,u.sibling=s,s=u,u=t}Au(r,!0,s,null,d);break;case"together":Au(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Va(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),na|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(qo(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(p(153));if(r.child!==null){for(t=r.child,s=pr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=pr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Ai(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&au(t)))}function Eu(t,r,s){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),ci(r,Ft,t.memoizedState.cache),Ms();break;case 27:case 5:ca(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:ci(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(bi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?bu(t,r,s):(bi(r),t=Va(t,r,s),t!==null?t.sibling:null);bi(r);break;case 19:var u=(t.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(qo(t,r,s,!1),o=(s&r.childLanes)!==0),u){if(o)return Ar(t,r,s);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),oe(Et,Et.current),o)break;return null;case 22:case 23:return r.lanes=0,Af(t,r,s);case 24:ci(r,Ft,t.memoizedState.cache)}return Va(t,r,s)}function ds(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Zt=!0;else{if(!Ai(t,s)&&(r.flags&128)===0)return Zt=!1,Eu(t,r,s);Zt=(t.flags&131072)!==0}else Zt=!1,ut&&(r.flags&1048576)!==0&&pd(r,tu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,u=o._init;if(o=u(o._payload),r.type=o,typeof o=="function")jo(o)?(t=On(o,t),r.tag=1,r=Md(null,r,o,t,s)):(r.tag=0,r=vu(null,r,o,t,s));else{if(o!=null){if(u=o.$$typeof,u===Ne){r.tag=11,r=Ud(null,r,o,t,s);break e}else if(u===at){r.tag=14,r=Gt(null,r,o,t,s);break e}}throw r=Ir(o)||o,Error(p(306,r,""))}}return r;case 0:return vu(t,r,r.type,r.pendingProps,s);case 1:return o=r.type,u=On(o,r.pendingProps),Md(t,r,o,u,s);case 3:e:{if(et(r,r.stateNode.containerInfo),t===null)throw Error(p(387));o=r.pendingProps;var d=r.memoizedState;u=d.element,lu(t,r),al(r,o,null,s);var v=r.memoizedState;if(o=v.cache,ci(r,Ft,o),o!==d.cache&&ru(r,[Ft],s,!0),rl(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Sr(t,r,o,s);break e}else if(o!==u){u=mr(Error(p(424)),r),Qo(u),r=Sr(t,r,o,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Yt=wr(t.firstChild),In=r,ut=!0,ui=null,Or=!0,s=Vd(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ms(),o===u){r=Va(t,r,s);break e}pn(t,r,o,s)}r=r.child}return r;case 26:return $s(t,r),t===null?(s=n(r.type,null,r.pendingProps,null))?r.memoizedState=s:ut||(s=r.type,t=r.pendingProps,o=Sl(ve.current).createElement(s),o[_t]=r,o[ht]=t,cn(o,s,t),Pt(o),r.stateNode=o):r.memoizedState=n(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ca(r),t===null&&ut&&(o=r.stateNode=hg(r.type,r.pendingProps,ve.current),In=r,Or=!0,u=Yt,fn(r.type)?(fo=u,Yt=wr(o.firstChild)):Yt=u),pn(t,r,r.pendingProps.children,s),$s(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ut&&((u=o=Yt)&&(o=Am(o,r.type,r.pendingProps,Or),o!==null?(r.stateNode=o,In=r,Yt=wr(o.firstChild),Or=!1,u=!0):u=!1),u||Vr(r)),ca(r),u=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,sg(u,d)?o=null:v!==null&&sg(u,v)&&(r.flags|=32),r.memoizedState!==null&&(u=ef(t,r,tm,null,null,s),Mn._currentValue=u),$s(t,r),pn(t,r,o,s),r.child;case 6:return t===null&&ut&&((t=s=Yt)&&(s=Em(s,r.pendingProps,Or),s!==null?(r.stateNode=s,In=r,Yt=null,t=!0):t=!1),t||Vr(r)),null;case 13:return bu(t,r,s);case 4:return et(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Hs(r,null,o,s):pn(t,r,o,s),r.child;case 11:return Ud(t,r,r.type,r.pendingProps,s);case 7:return pn(t,r,r.pendingProps,s),r.child;case 8:return pn(t,r,r.pendingProps.children,s),r.child;case 12:return pn(t,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,ci(r,r.type,o.value),pn(t,r,o.children,s),r.child;case 9:return u=r.type._context,o=r.pendingProps.children,fi(r),u=hn(u),o=o(u),r.flags|=1,pn(t,r,o,s),r.child;case 14:return Gt(t,r,r.type,r.pendingProps,s);case 15:return Sf(t,r,r.type,r.pendingProps,s);case 19:return Ar(t,r,s);case 31:return o=r.pendingProps,s=r.mode,o={mode:o.mode,children:o.children},t===null?(s=Rn(o,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=pr(t.child,o),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return Af(t,r,s);case 24:return fi(r),o=hn(Ft),t===null?(u=iu(),u===null&&(u=xt,d=Xc(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=s),u=d),r.memoizedState={parent:o,cache:u},jc(r),ci(r,Ft,u)):((t.lanes&s)!==0&&(lu(t,r),al(r,null,null,s),rl()),u=t.memoizedState,d=r.memoizedState,u.parent!==o?(u={parent:o,cache:o},r.memoizedState=u,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=u),ci(r,Ft,o)):(o=d.cache,ci(r,Ft,o),o!==u.cache&&ru(r,[Ft],s,!0))),pn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(p(156,r.tag))}function Ba(t){t.flags|=4}function Ef(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!be(r)){if(r=br.current,r!==null&&((nt&4194048)===nt?_r!==null:(nt&62914560)!==nt&&(nt&536870912)===0||r!==_r))throw Ws=su,Ad;t.flags|=8192}}function rr(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ul():536870912,t.lanes|=r,ro|=r)}function ln(t,r){if(!ut)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(r)for(var u=t.child;u!==null;)s|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)s|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=s,r}function Ua(t,r,s){var o=r.pendingProps;switch(nu(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(r),null;case 1:return Rt(r),null;case 3:return s=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ea(Ft),ge(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&($o(r)?Ba(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,as())),Rt(r),null;case 26:return s=r.memoizedState,t===null?(Ba(r),s!==null?(Rt(r),Ef(r,s)):(Rt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Ba(r),Rt(r),Ef(r,s)):(Rt(r),r.flags&=-16777217):(t.memoizedProps!==o&&Ba(r),Rt(r),r.flags&=-16777217),null;case 27:Zi(r),s=ve.current;var u=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Ba(r);else{if(!o){if(r.stateNode===null)throw Error(p(166));return Rt(r),null}t=ye.current,$o(r)?yd(r):(t=hg(u,o,s),r.stateNode=t,Ba(r))}return Rt(r),null;case 5:if(Zi(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Ba(r);else{if(!o){if(r.stateNode===null)throw Error(p(166));return Rt(r),null}if(t=ye.current,$o(r))yd(r);else{switch(u=Sl(ve.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?u.createElement(s,{is:o.is}):u.createElement(s)}}t[_t]=r,t[ht]=o;e:for(u=r.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break e;for(;u.sibling===null;){if(u.return===null||u.return===r)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r.stateNode=t;e:switch(cn(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ba(r)}}return Rt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Ba(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(p(166));if(t=ve.current,$o(r)){if(t=r.stateNode,s=r.memoizedProps,o=null,u=In,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[_t]=r,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||ag(t.nodeValue,s)),t||Vr(r)}else t=Sl(t).createTextNode(o),t[_t]=r,r.stateNode=t}return Rt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=$o(r),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(p(318));if(u=r.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(p(317));u[_t]=r}else Ms(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Rt(r),u=!1}else u=as(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return r.flags&256?(Dn(r),r):(Dn(r),null)}if(Dn(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=r.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),rr(r,r.updateQueue),Rt(r),null;case 4:return ge(),t===null&&vl(r.stateNode.containerInfo),Rt(r),null;case 10:return Ea(r.type),Rt(r),null;case 19:if(ce(Et),u=r.memoizedState,u===null)return Rt(r),null;if(o=(r.flags&128)!==0,d=u.rendering,d===null)if(o)ln(u,!1);else{if(Bt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=yu(t),d!==null){for(r.flags|=128,ln(u,!1),t=d.updateQueue,r.updateQueue=t,rr(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Ho(s,t),s=s.sibling;return oe(Et,Et.current&1|2),r.child}t=t.sibling}u.tail!==null&&bn()>Iu&&(r.flags|=128,o=!0,ln(u,!1),r.lanes=4194304)}else{if(!o)if(t=yu(d),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,rr(r,t),ln(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!ut)return Rt(r),null}else 2*bn()-u.renderingStartTime>Iu&&s!==536870912&&(r.flags|=128,o=!0,ln(u,!1),r.lanes=4194304);u.isBackwards?(d.sibling=r.child,r.child=d):(t=u.last,t!==null?t.sibling=d:r.child=d,u.last=d)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=bn(),r.sibling=null,t=Et.current,oe(Et,o?t&1|2:t&1),r):(Rt(r),null);case 22:case 23:return Dn(r),Qc(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(Rt(r),r.subtreeFlags&6&&(r.flags|=8192)):Rt(r),s=r.updateQueue,s!==null&&rr(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),t!==null&&ce(hi),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Ea(Ft),Rt(r),null;case 25:return null;case 30:return null}throw Error(p(156,r.tag))}function La(t,r){switch(nu(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ea(Ft),ge(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Zi(r),null;case 13:if(Dn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(p(340));Ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ce(Et),null;case 4:return ge(),null;case 10:return Ea(r.type),null;case 22:case 23:return Dn(r),Qc(),t!==null&&ce(hi),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ea(Ft),null;case 25:return null;default:return null}}function _d(t,r){switch(nu(r),r.tag){case 3:Ea(Ft),ge();break;case 26:case 27:case 5:Zi(r);break;case 4:ge();break;case 13:Dn(r);break;case 19:ce(Et);break;case 10:Ea(r.type);break;case 22:case 23:Dn(r),Qc(),t!==null&&ce(hi);break;case 24:Ea(Ft)}}function dl(t,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&t)===t){o=void 0;var d=s.create,v=s.inst;o=d(),v.destroy=o}s=s.next}while(s!==u)}}catch(E){wt(r,r.return,E)}}function Ei(t,r,s){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,u=r;var x=s,k=E;try{k()}catch(q){wt(u,x,q)}}}o=o.next}while(o!==d)}}catch(q){wt(r,r.return,q)}}function Ru(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{uu(r,s)}catch(o){wt(t,t.return,o)}}}function we(t,r,s){s.props=On(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){wt(t,r,o)}}function gs(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(u){wt(t,r,u)}}function Zr(t,r){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(u){wt(t,r,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){wt(t,r,u)}else s.current=null}function Rf(t){var r=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(u){wt(t,t.return,u)}}function Qs(t,r,s){try{var o=t.stateNode;vm(o,t.type,s,r),o[ht]=r}catch(u){wt(t,t.return,u)}}function Yd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fn(t.type)||t.tag===4}function qs(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eo(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Gu));else if(o!==4&&(o===27&&fn(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(eo(t,r,s),t=t.sibling;t!==null;)eo(t,r,s),t=t.sibling}function Ri(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(o!==4&&(o===27&&fn(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ri(t,r,s),t=t.sibling;t!==null;)Ri(t,r,s),t=t.sibling}function wu(t){var r=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,u=r.attributes;u.length;)r.removeAttributeNode(u[0]);cn(r,o,s),r[_t]=t,r[ht]=s}catch(d){wt(t,t.return,d)}}var Ma=!1,Kt=!1,wf=!1,Zd=typeof WeakSet=="function"?WeakSet:Set,un=null;function im(t,r){if(t=t.containerInfo,Pf=pg,t=cd(t),Bc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var u=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,E=-1,x=-1,k=0,q=0,ae=t,K=null;t:for(;;){for(var P;ae!==s||u!==0&&ae.nodeType!==3||(E=v+u),ae!==d||o!==0&&ae.nodeType!==3||(x=v+o),ae.nodeType===3&&(v+=ae.nodeValue.length),(P=ae.firstChild)!==null;)K=ae,ae=P;for(;;){if(ae===t)break t;if(K===s&&++k===u&&(E=v),K===d&&++q===o&&(x=v),(P=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=P}s=E===-1||x===-1?null:{start:E,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(zu={focusedElem:t,selectionRange:s},pg=!1,un=r;un!==null;)if(r=un,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,un=t;else for(;un!==null;){switch(r=un,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,u=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Be=On(s.type,u,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Be,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(De){wt(s,s.return,De)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Wu(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(p(163))}if(t=r.sibling,t!==null){t.return=r.return,un=t;break}un=r.return}}function Gd(t,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Qr(t,s),o&4&&dl(5,s);break;case 1:if(Qr(t,s),o&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(v){wt(s,s.return,v)}else{var u=On(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(u,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){wt(s,s.return,v)}}o&64&&Ru(s),o&512&&gs(s,s.return);break;case 3:if(Qr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{uu(t,r)}catch(v){wt(s,s.return,v)}}break;case 27:r===null&&o&4&&wu(s);case 26:case 5:Qr(t,s),r===null&&o&4&&Rf(s),o&512&&gs(s,s.return);break;case 12:Qr(t,s);break;case 13:Qr(t,s),o&4&&Wd(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=hm.bind(null,s),cg(t,s))));break;case 22:if(o=s.memoizedState!==null||Ma,!o){r=r!==null&&r.memoizedState!==null||Kt,u=Ma;var d=Kt;Ma=o,(Kt=r)&&!d?qr(t,s,(s.subtreeFlags&8772)!==0):Qr(t,s),Ma=u,Kt=d}break;case 30:break;default:Qr(t,s)}}function zd(t){var r=t.alternate;r!==null&&(t.alternate=null,zd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&fc(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,Jn=!1;function $r(t,r,s){for(s=s.child;s!==null;)kd(t,r,s),s=s.sibling}function kd(t,r,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(lr,s)}catch{}switch(s.tag){case 26:Kt||Zr(s,r),$r(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Kt||Zr(s,r);var o=It,u=Jn;fn(s.type)&&(It=s.stateNode,Jn=!1),$r(t,r,s),Al(s.stateNode),It=o,Jn=u;break;case 5:Kt||Zr(s,r);case 6:if(o=It,u=Jn,It=null,$r(t,r,s),It=o,Jn=u,It!==null)if(Jn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(s.stateNode)}catch(d){wt(s,r,d)}else try{It.removeChild(s.stateNode)}catch(d){wt(s,r,d)}break;case 18:It!==null&&(Jn?(t=It,Jf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),th(t)):Jf(It,s.stateNode));break;case 4:o=It,u=Jn,It=s.stateNode.containerInfo,Jn=!0,$r(t,r,s),It=o,Jn=u;break;case 0:case 11:case 14:case 15:Kt||Ei(2,s,r),Kt||Ei(4,s,r),$r(t,r,s);break;case 1:Kt||(Zr(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&we(s,r,o)),$r(t,r,s);break;case 21:$r(t,r,s);break;case 22:Kt=(o=Kt)||s.memoizedState!==null,$r(t,r,s),Kt=o;break;default:$r(t,r,s)}}function Wd(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{th(t)}catch(s){wt(r,r.return,s)}}function sm(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Zd),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Zd),r;default:throw Error(p(435,t.tag))}}function Tu(t,r){var s=sm(t);r.forEach(function(o){var u=dm.bind(null,t,o);s.has(o)||(s.add(o),o.then(u,u))})}function Un(t,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var u=s[o],d=t,v=r,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(fn(E.type)){It=E.stateNode,Jn=!1;break e}break;case 5:It=E.stateNode,Jn=!1;break e;case 3:case 4:It=E.stateNode.containerInfo,Jn=!0;break e}E=E.return}if(It===null)throw Error(p(160));kd(d,v,u),It=null,Jn=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Kd(r,t),r=r.sibling}var Gr=null;function Kd(t,r){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Un(r,t),yn(t),o&4&&(Ei(3,t,t.return),dl(3,t),Ei(5,t,t.return));break;case 1:Un(r,t),yn(t),o&512&&(Kt||s===null||Zr(s,s.return)),o&64&&Ma&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var u=Gr;if(Un(r,t),yn(t),o&512&&(Kt||s===null||Zr(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":d=u.getElementsByTagName("title")[0],(!d||d[Xi]||d[_t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(o),u.head.insertBefore(d,u.querySelector("head > title"))),cn(d,o,s),d[_t]=t,Pt(d),o=d;break e;case"link":var v=Q("link","href",u).get(o+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break t}}d=u.createElement(o),cn(d,o,s),u.head.appendChild(d);break;case"meta":if(v=Q("meta","content",u).get(o+(s.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break t}}d=u.createElement(o),cn(d,o,s),u.head.appendChild(d);break;default:throw Error(p(468,o))}d[_t]=t,Pt(d),o=d}t.stateNode=o}else re(u,t.type,t.stateNode);else t.stateNode=R(u,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?re(u,t.type,t.stateNode):R(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Qs(t,t.memoizedProps,s.memoizedProps)}break;case 27:Un(r,t),yn(t),o&512&&(Kt||s===null||Zr(s,s.return)),s!==null&&o&4&&Qs(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Un(r,t),yn(t),o&512&&(Kt||s===null||Zr(s,s.return)),t.flags&32){u=t.stateNode;try{ri(u,"")}catch(P){wt(t,t.return,P)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Qs(t,u,s!==null?s.memoizedProps:u)),o&1024&&(wf=!0);break;case 6:if(Un(r,t),yn(t),o&4){if(t.stateNode===null)throw Error(p(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(P){wt(t,t.return,P)}}break;case 3:if(Y=null,u=Gr,Gr=Ku(r.containerInfo),Un(r,t),Gr=u,yn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{th(r.containerInfo)}catch(P){wt(t,t.return,P)}wf&&(wf=!1,ms(t));break;case 4:o=Gr,Gr=Ku(t.stateNode.containerInfo),Un(r,t),yn(t),Gr=o;break;case 12:Un(r,t),yn(t);break;case 13:Un(r,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(xf=bn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tu(t,o)));break;case 22:u=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,k=Ma,q=Kt;if(Ma=k||u,Kt=q||x,Un(r,t),Kt=q,Ma=k,yn(t),o&8192)e:for(r=t.stateNode,r._visibility=u?r._visibility&-2:r._visibility|1,u&&(s===null||x||Ma||Kt||wi(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){x=s=r;try{if(d=x.stateNode,u)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=x.stateNode;var ae=x.memoizedProps.style,K=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;E.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(P){wt(x,x.return,P)}}}else if(r.tag===6){if(s===null){x=r;try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(P){wt(x,x.return,P)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Tu(t,s))));break;case 19:Un(r,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tu(t,o)));break;case 30:break;case 21:break;default:Un(r,t),yn(t)}}function yn(t){var r=t.flags;if(r&2){try{for(var s,o=t.return;o!==null;){if(Yd(o)){s=o;break}o=o.return}if(s==null)throw Error(p(160));switch(s.tag){case 27:var u=s.stateNode,d=qs(t);Ri(t,d,u);break;case 5:var v=s.stateNode;s.flags&32&&(ri(v,""),s.flags&=-33);var E=qs(t);Ri(t,E,v);break;case 3:case 4:var x=s.stateNode.containerInfo,k=qs(t);eo(t,k,x);break;default:throw Error(p(161))}}catch(q){wt(t,t.return,q)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ms(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ms(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Qr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Gd(t,r.alternate,r),r=r.sibling}function wi(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ei(4,r,r.return),wi(r);break;case 1:Zr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&we(r,r.return,s),wi(r);break;case 27:Al(r.stateNode);case 26:case 5:Zr(r,r.return),wi(r);break;case 22:r.memoizedState===null&&wi(r);break;case 30:wi(r);break;default:wi(r)}t=t.sibling}}function qr(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,u=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:qr(u,d,s),dl(4,d);break;case 1:if(qr(u,d,s),o=d,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){wt(o,o.return,k)}if(o=d,u=o.updateQueue,u!==null){var E=o.stateNode;try{var x=u.shared.hiddenCallbacks;if(x!==null)for(u.shared.hiddenCallbacks=null,u=0;u<x.length;u++)wd(x[u],E)}catch(k){wt(o,o.return,k)}}s&&v&64&&Ru(d),gs(d,d.return);break;case 27:wu(d);case 26:case 5:qr(u,d,s),s&&o===null&&v&4&&Rf(d),gs(d,d.return);break;case 12:qr(u,d,s);break;case 13:qr(u,d,s),s&&v&4&&Wd(u,d);break;case 22:d.memoizedState===null&&qr(u,d,s),gs(d,d.return);break;case 30:break;default:qr(u,d,s)}r=r.sibling}}function Te(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&el(s))}function gl(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t))}function ea(t,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xd(t,r,s,o),r=r.sibling}function Xd(t,r,s,o){var u=r.flags;switch(r.tag){case 0:case 11:case 15:ea(t,r,s,o),u&2048&&dl(9,r);break;case 1:ea(t,r,s,o);break;case 3:ea(t,r,s,o),u&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t)));break;case 12:if(u&2048){ea(t,r,s,o),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){wt(r,r.return,x)}}else ea(t,r,s,o);break;case 13:ea(t,r,s,o);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ea(t,r,s,o):Ti(t,r):d._visibility&2?ea(t,r,s,o):(d._visibility|=2,ps(t,r,s,o,(r.subtreeFlags&10256)!==0)),u&2048&&Te(v,r);break;case 24:ea(t,r,s,o),u&2048&&gl(r.alternate,r);break;default:ea(t,r,s,o)}}function ps(t,r,s,o,u){for(u=u&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,E=s,x=o,k=v.flags;switch(v.tag){case 0:case 11:case 15:ps(d,v,E,x,u),dl(8,v);break;case 23:break;case 22:var q=v.stateNode;v.memoizedState!==null?q._visibility&2?ps(d,v,E,x,u):Ti(d,v):(q._visibility|=2,ps(d,v,E,x,u)),u&&k&2048&&Te(v.alternate,v);break;case 24:ps(d,v,E,x,u),u&&k&2048&&gl(v.alternate,v);break;default:ps(d,v,E,x,u)}r=r.sibling}}function Ti(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,o=r,u=o.flags;switch(o.tag){case 22:Ti(s,o),u&2048&&Te(o.alternate,o);break;case 24:Ti(s,o),u&2048&&gl(o.alternate,o);break;default:Ti(s,o)}r=r.sibling}}var Ni=8192;function _a(t){if(t.subtreeFlags&Ni)for(t=t.child;t!==null;)Tf(t),t=t.sibling}function Tf(t){switch(t.tag){case 26:_a(t),t.flags&Ni&&t.memoizedState!==null&&rt(Gr,t.memoizedState,t.memoizedProps);break;case 5:_a(t);break;case 3:case 4:var r=Gr;Gr=Ku(t.stateNode.containerInfo),_a(t),Gr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ni,Ni=16777216,_a(t),Ni=r):_a(t));break;default:_a(t)}}function Pd(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ta(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];un=o,Cu(o,t)}Pd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)to(t),t=t.sibling}function to(t){switch(t.tag){case 0:case 11:case 15:ta(t),t.flags&2048&&Ei(9,t,t.return);break;case 3:ta(t);break;case 12:ta(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Nu(t)):ta(t);break;default:ta(t)}}function Nu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];un=o,Cu(o,t)}Pd(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ei(8,r,r.return),Nu(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Nu(r));break;default:Nu(r)}t=t.sibling}}function Cu(t,r){for(;un!==null;){var s=un;switch(s.tag){case 0:case 11:case 15:Ei(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:el(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,un=o;else e:for(s=t;un!==null;){o=un;var u=o.sibling,d=o.return;if(zd(o),o===s){un=null;break e}if(u!==null){u.return=d,un=u;break e}un=d}}}var om={getCacheForType:function(t){var r=hn(Ft),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},lm=typeof WeakMap=="function"?WeakMap:Map,dt=0,xt=null,Fe=null,nt=0,pt=0,jn=null,Ya=!1,no=!1,Nf=!1,Za=0,Bt=0,na=0,ys=0,Cf=0,Er=0,ro=0,ao=null,Ln=null,If=!1,xf=0,Iu=1/0,xu=null,zr=null,nn=0,ra=null,io=null,Ga=0,Df=0,Of=null,Fd=null,yt=0,wn=null;function rn(){if((dt&2)!==0&&nt!==0)return nt&-nt;if(W.T!==null){var t=Gs;return t!==0?t:_u()}return Ki()}function Jd(){Er===0&&(Er=(nt&536870912)===0||ut?fr():536870912);var t=br.current;return t!==null&&(t.flags|=32),Er}function fe(t,r,s){(t===xt&&(pt===2||pt===9)||t.cancelPendingCommit!==null)&&(aa(t,0),za(t,nt,Er,!1)),ga(t,s),((dt&2)===0||t!==xt)&&(t===xt&&((dt&2)===0&&(ys|=s),Bt===4&&za(t,nt,Er,!1)),ar(t))}function Vf(t,r,s){if((dt&6)!==0)throw Error(p(327));var o=!s&&(r&124)===0&&(r&t.expiredLanes)===0||zi(t,r),u=o?Lf(t,r):ml(t,r,!0),d=o;do{if(u===0){no&&!o&&za(t,r,0,!1);break}else{if(s=t.current.alternate,d&&!um(s)){u=ml(t,r,!1),d=!1;continue}if(u===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var E=t;u=ao;var x=E.current.memoizedState.isDehydrated;if(x&&(aa(E,v).flags|=256),v=ml(E,v,!1),v!==2){if(Nf&&!x){E.errorRecoveryDisabledLanes|=d,ys|=d,u=4;break e}d=Ln,Ln=u,d!==null&&(Ln===null?Ln=d:Ln.push.apply(Ln,d))}u=v}if(d=!1,u!==2)continue}}if(u===1){aa(t,0),za(t,r,0,!0);break}e:{switch(o=t,d=u,d){case 0:case 1:throw Error(p(345));case 4:if((r&4194048)!==r)break;case 6:za(o,r,Er,!Ya);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(p(329))}if((r&62914560)===r&&(u=xf+300-bn(),10<u)){if(za(o,r,Er,!Ya),qa(o,0,!0)!==0)break e;o.timeoutHandle=Ff(Du.bind(null,o,s,Ln,xu,If,r,Er,ys,ro,Ya,d,2,-0,0),u);break e}Du(o,s,Ln,xu,If,r,Er,ys,ro,Ya,d,0,-0,0)}}break}while(!0);ar(t)}function Du(t,r,s,o,u,d,v,E,x,k,q,ae,K,P){if(t.timeoutHandle=-1,ae=r.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(xe={stylesheets:null,count:0,unsuspend:$e},Tf(r),ae=gt(),ae!==null)){t.cancelPendingCommit=ae(_f.bind(null,t,r,d,s,o,u,v,E,x,q,1,K,P)),za(t,d,v,!k);return}_f(t,r,d,s,o,u,v,E,x)}function um(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var u=s[o],d=u.getSnapshot;u=u.value;try{if(!Gn(d(),u))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function za(t,r,s,o){r&=~Cf,r&=~ys,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var u=r;0<u;){var d=31-an(u),v=1<<d;o[d]=-1,u&=~v}s!==0&&Ee(t,s,r)}function Ci(){return(dt&6)===0?(Vi(0),!1):!0}function Ou(){if(Fe!==null){if(pt===0)var t=Fe.return;else t=Fe,Aa=is=null,nf(t),xa=null,Da=0,t=Fe;for(;t!==null;)_d(t.alternate,t),t=t.return;Fe=null}}function aa(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Sm(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ou(),xt=t,Fe=s=pr(t.current,null),nt=r,pt=0,jn=null,Ya=!1,no=zi(t,r),Nf=!1,ro=Er=Cf=ys=na=Bt=0,Ln=ao=null,If=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var u=31-an(o),d=1<<u;r|=t[u],o&=~d}return Za=r,Hl(),s}function jd(t,r){ke=null,W.H=mn,r===ks||r===nl?(r=Rd(),pt=3):r===Ad?(r=Rd(),pt=4):pt=r===Yr?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Fe===null&&(Bt=1,Si(t,mr(r,t.current)))}function Bf(){var t=W.H;return W.H=mn,t===null?mn:t}function Hd(){var t=W.A;return W.A=om,t}function it(){Bt=4,Ya||(nt&4194048)!==nt&&br.current!==null||(no=!0),(na&134217727)===0&&(ys&134217727)===0||xt===null||za(xt,nt,Er,!1)}function ml(t,r,s){var o=dt;dt|=2;var u=Bf(),d=Hd();(xt!==t||nt!==r)&&(xu=null,aa(t,r)),r=!1;var v=Bt;e:do try{if(pt!==0&&Fe!==null){var E=Fe,x=jn;switch(pt){case 8:Ou(),v=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(r=!0);var k=pt;if(pt=0,jn=null,Ii(t,E,x,k),s&&no){v=0;break e}break;default:k=pt,pt=0,jn=null,Ii(t,E,x,k)}}Uf(),v=Bt;break}catch(q){jd(t,q)}while(!0);return r&&t.shellSuspendCounter++,Aa=is=null,dt=o,W.H=u,W.A=d,Fe===null&&(xt=null,nt=0,Hl()),v}function Uf(){for(;Fe!==null;)$d(Fe)}function Lf(t,r){var s=dt;dt|=2;var o=Bf(),u=Hd();xt!==t||nt!==r?(xu=null,Iu=bn()+500,aa(t,r)):no=zi(t,r);e:do try{if(pt!==0&&Fe!==null){r=Fe;var d=jn;t:switch(pt){case 1:pt=0,jn=null,Ii(t,r,d,1);break;case 2:case 9:if(Fc(d)){pt=0,jn=null,Qd(r);break}r=function(){pt!==2&&pt!==9||xt!==t||(pt=7),ar(t)},d.then(r,r);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Fc(d)?(pt=0,jn=null,Qd(r)):(pt=0,jn=null,Ii(t,r,d,7));break;case 5:var v=null;switch(Fe.tag){case 26:v=Fe.memoizedState;case 5:case 27:var E=Fe;if(!v||be(v)){pt=0,jn=null;var x=E.sibling;if(x!==null)Fe=x;else{var k=E.return;k!==null?(Fe=k,Vu(k)):Fe=null}break t}}pt=0,jn=null,Ii(t,r,d,5);break;case 6:pt=0,jn=null,Ii(t,r,d,6);break;case 8:Ou(),Bt=6;break e;default:throw Error(p(462))}}cm();break}catch(q){jd(t,q)}while(!0);return Aa=is=null,W.H=o,W.A=u,dt=s,Fe!==null?0:(xt=null,nt=0,Hl(),Bt)}function cm(){for(;Fe!==null&&!Do();)$d(Fe)}function $d(t){var r=ds(t.alternate,t,Za);t.memoizedProps=t.pendingProps,r===null?Vu(t):Fe=r}function Qd(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Ld(s,r,r.pendingProps,r.type,void 0,nt);break;case 11:r=Ld(s,r,r.pendingProps,r.type.render,r.ref,nt);break;case 5:nf(r);default:_d(s,r),r=Fe=Ho(r,Za),r=ds(s,r,Za)}t.memoizedProps=t.pendingProps,r===null?Vu(t):Fe=r}function Ii(t,r,s,o){Aa=is=null,nf(r),xa=null,Da=0;var u=r.return;try{if(am(t,u,r,s,nt)){Bt=1,Si(t,mr(s,t.current)),Fe=null;return}}catch(d){if(u!==null)throw Fe=u,d;Bt=1,Si(t,mr(s,t.current)),Fe=null;return}r.flags&32768?(ut||o===1?t=!0:no||(nt&536870912)!==0?t=!1:(Ya=t=!0,(o===2||o===9||o===3||o===6)&&(o=br.current,o!==null&&o.tag===13&&(o.flags|=16384))),Mf(r,t)):Vu(r)}function Vu(t){var r=t;do{if((r.flags&32768)!==0){Mf(r,Ya);return}t=r.return;var s=Ua(r.alternate,r,Za);if(s!==null){Fe=s;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=t}while(r!==null);Bt===0&&(Bt=5)}function Mf(t,r){do{var s=La(t.alternate,t);if(s!==null){s.flags&=32767,Fe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=s}while(t!==null);Bt=6,Fe=null}function _f(t,r,s,o,u,d,v,E,x){t.cancelPendingCommit=null;do xi();while(nn!==0);if((dt&6)!==0)throw Error(p(327));if(r!==null){if(r===t.current)throw Error(p(177));if(d=r.lanes|r.childLanes,d|=_c,Wi(t,s,d,v,E,x),t===xt&&(Fe=xt=null,nt=0),io=r,ra=t,Ga=s,Df=d,Of=u,Fd=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gm($a,function(){return so(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null,u=he.p,he.p=2,v=dt,dt|=4;try{im(t,r,s)}finally{dt=v,he.p=u,W.T=o}}nn=1,Bu(),Yf(),Rr()}}function Bu(){if(nn===1){nn=0;var t=ra,r=io,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var o=he.p;he.p=2;var u=dt;dt|=4;try{Kd(r,t);var d=zu,v=cd(t.containerInfo),E=d.focusedElem,x=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&ud(E.ownerDocument.documentElement,E)){if(x!==null&&Bc(E)){var k=x.start,q=x.end;if(q===void 0&&(q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(q,E.value.length);else{var ae=E.ownerDocument||document,K=ae&&ae.defaultView||window;if(K.getSelection){var P=K.getSelection(),Be=E.textContent.length,De=Math.min(x.start,Be),Dt=x.end===void 0?De:Math.min(x.end,Be);!P.extend&&De>Dt&&(v=Dt,Dt=De,De=v);var G=ld(E,De),U=ld(E,Dt);if(G&&U&&(P.rangeCount!==1||P.anchorNode!==G.node||P.anchorOffset!==G.offset||P.focusNode!==U.node||P.focusOffset!==U.offset)){var z=ae.createRange();z.setStart(G.node,G.offset),P.removeAllRanges(),De>Dt?(P.addRange(z),P.extend(U.node,U.offset)):(z.setEnd(U.node,U.offset),P.addRange(z))}}}}for(ae=[],P=E;P=P.parentNode;)P.nodeType===1&&ae.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ae.length;E++){var te=ae[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}pg=!!Pf,zu=Pf=null}finally{dt=u,he.p=o,W.T=s}}t.current=r,nn=2}}function Yf(){if(nn===2){nn=0;var t=ra,r=io,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var o=he.p;he.p=2;var u=dt;dt|=4;try{Gd(t,r.alternate,r)}finally{dt=u,he.p=o,W.T=s}}nn=3}}function Rr(){if(nn===4||nn===3){nn=0,Oo();var t=ra,r=io,s=Ga,o=Fd;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?nn=5:(nn=0,io=ra=null,ka(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(zr=null),sn(s),r=r.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(lr,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=W.T,u=he.p,he.p=2,W.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{W.T=r,he.p=u}}(Ga&3)!==0&&xi(),ar(t),u=t.pendingLanes,(s&4194090)!==0&&(u&42)!==0?t===wn?yt++:(yt=0,wn=t):yt=0,Vi(0)}}function ka(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,el(r)))}function xi(t){return Bu(),Yf(),Rr(),so()}function so(){if(nn!==5)return!1;var t=ra,r=Df;Df=0;var s=sn(Ga),o=W.T,u=he.p;try{he.p=32>s?32:s,W.T=null,s=Of,Of=null;var d=ra,v=Ga;if(nn=0,io=ra=null,Ga=0,(dt&6)!==0)throw Error(p(331));var E=dt;if(dt|=4,to(d.current),Xd(d,d.current,v,s),dt=E,Vi(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(lr,d)}catch{}return!0}finally{he.p=u,W.T=o,ka(t,r)}}function Zf(t,r,s){r=mr(s,r),r=jr(t.stateNode,r,2),t=di(t,r,2),t!==null&&(ga(t,2),ar(t))}function wt(t,r,s){if(t.tag===3)Zf(t,t,s);else for(;r!==null;){if(r.tag===3){Zf(r,t,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zr===null||!zr.has(o))){t=mr(s,t),s=Hr(2),o=di(r,s,2),o!==null&&(Bd(s,o,r,t),ga(o,2),ar(o));break}}r=r.return}}function Gf(t,r,s){var o=t.pingCache;if(o===null){o=t.pingCache=new lm;var u=new Set;o.set(r,u)}else u=o.get(r),u===void 0&&(u=new Set,o.set(r,u));u.has(s)||(Nf=!0,u.add(s),t=fm.bind(null,t,r,s),r.then(t,t))}function fm(t,r,s){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,xt===t&&(nt&s)===s&&(Bt===4||Bt===3&&(nt&62914560)===nt&&300>bn()-xf?(dt&2)===0&&aa(t,0):Cf|=s,ro===nt&&(ro=0)),ar(t)}function qd(t,r){r===0&&(r=Ul()),t=Vs(t,r),t!==null&&(ga(t,r),ar(t))}function hm(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),qd(t,s)}function dm(t,r){var s=0;switch(t.tag){case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(s=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(p(314))}o!==null&&o.delete(r),qd(t,s)}function gm(t,r){return xo(t,r)}var Uu=null,oo=null,zf=!1,Lu=!1,Di=!1,Oi=0;function ar(t){t!==oo&&t.next===null&&(oo===null?Uu=oo=t:oo=oo.next=t),Lu=!0,zf||(zf=!0,Bi())}function Vi(t,r){if(!Di&&Lu){Di=!0;do for(var s=!1,o=Uu;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-an(42|t)+1)-1,d&=u&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Mu(o,d))}else d=nt,d=qa(o,o===xt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||zi(o,d)||(s=!0,Mu(o,d));o=o.next}while(s);Di=!1}}function mm(){Wa()}function Wa(){Lu=zf=!1;var t=0;Oi!==0&&(og()&&(t=Oi),Oi=0);for(var r=bn(),s=null,o=Uu;o!==null;){var u=o.next,d=vn(o,r);d===0?(o.next=null,s===null?Uu=u:s.next=u,u===null&&(oo=s)):(s=o,(t!==0||(d&3)!==0)&&(Lu=!0)),o=u}Vi(t)}function vn(t,r){for(var s=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-an(d),E=1<<v,x=u[v];x===-1?((E&s)===0||(E&o)!==0)&&(u[v]=xr(E,r)):x<=r&&(t.expiredLanes|=E),d&=~E}if(r=xt,s=nt,s=qa(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===r&&(pt===2||pt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fa(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||zi(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(o!==null&&fa(o),sn(s)){case 2:case 8:s=Bl;break;case 32:s=$a;break;case 268435456:s=Ut;break;default:s=$a}return o=lo.bind(null,t),s=xo(s,o),t.callbackPriority=r,t.callbackNode=s,r}return o!==null&&o!==null&&fa(o),t.callbackPriority=2,t.callbackNode=null,2}function lo(t,r){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(xi()&&t.callbackNode!==s)return null;var o=nt;return o=qa(t,t===xt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Vf(t,o,r),vn(t,bn()),t.callbackNode!=null&&t.callbackNode===s?lo.bind(null,t):null)}function Mu(t,r){if(xi())return null;Vf(t,r,!0)}function Bi(){lg(function(){(dt&6)!==0?xo(or,mm):Wa()})}function _u(){return Oi===0&&(Oi=fr()),Oi}function eg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Go(""+t)}function pm(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function bp(t,r,s,o,u){if(r==="submit"&&s&&s.stateNode===u){var d=eg((u[ht]||null).action),v=o.submitter;v&&(r=(r=v[ht]||null)?eg(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var E=new ba("action","action",null,o,u);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Oi!==0){var x=v?pm(u,v):new FormData(u);Pn(s,{pending:!0,data:x,method:u.method,action:d},null,x)}}else typeof d=="function"&&(E.preventDefault(),x=v?pm(u,v):new FormData(u),Pn(s,{pending:!0,data:x,method:u.method,action:d},d,x))},currentTarget:u}]})}}for(var Yu=0;Yu<jl.length;Yu++){var kf=jl[Yu],ym=kf.toLowerCase(),pl=kf[0].toUpperCase()+kf.slice(1);Qn(ym,"on"+pl)}Qn(hd,"onAnimationEnd"),Qn(Jl,"onAnimationIteration"),Qn(Jo,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Xg,"onTransitionRun"),Qn(Pg,"onTransitionStart"),Qn(Fg,"onTransitionCancel"),Qn(dd,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yl=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ia));function sa(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],u=o.event;o=o.listeners;e:{var d=void 0;if(r)for(var v=o.length-1;0<=v;v--){var E=o[v],x=E.instance,k=E.currentTarget;if(E=E.listener,x!==d&&u.isPropagationStopped())break e;d=E,u.currentTarget=k;try{d(u)}catch(q){Fn(q)}u.currentTarget=null,d=x}else for(v=0;v<o.length;v++){if(E=o[v],x=E.instance,k=E.currentTarget,E=E.listener,x!==d&&u.isPropagationStopped())break e;d=E,u.currentTarget=k;try{d(u)}catch(q){Fn(q)}u.currentTarget=null,d=x}}}}function Je(t,r){var s=r[Ts];s===void 0&&(s=r[Ts]=new Set);var o=t+"__bubble";s.has(o)||(Wf(r,t,2,!1),s.add(o))}function vs(t,r,s){var o=0;r&&(o|=4),Wf(s,t,o,r)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function vl(t){if(!t[Ka]){t[Ka]=!0,hc.forEach(function(s){s!=="selectionchange"&&(yl.has(s)||vs(s,!1,t),vs(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ka]||(r[Ka]=!0,vs("selectionchange",!1,r))}}function Wf(t,r,s,o){switch(Rp(r)){case 2:var u=tv;break;case 8:u=nv;break;default:u=xm}s=u.bind(null,r,s,t),u=void 0,!Ec||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(r,s,{capture:!0,passive:u}):t.addEventListener(r,s,!0):u!==void 0?t.addEventListener(r,s,{passive:u}):t.addEventListener(r,s,!1)}function Zu(t,r,s,o,u){var d=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===u)break;if(v===4)for(v=o.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;E!==null;){if(v=ei(E),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){o=d=v;continue e}E=E.parentNode}}o=o.return}xh(function(){var k=d,q=ko(s),ae=[];e:{var K=gd.get(t);if(K!==void 0){var P=ba,Be=t;switch(t){case"keypress":if(Yl(s)===0)break e;case"keydown":case"keyup":P=kh;break;case"focusin":Be="focus",P=kl;break;case"focusout":Be="blur",P=kl;break;case"beforeblur":case"afterblur":P=kl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Xh;break;case hd:case Jl:case Jo:P=Bh;break;case dd:P=Fh;break;case"scroll":case"scrollend":P=_g;break;case"wheel":P=Zg;break;case"copy":case"cut":case"paste":P=Lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Nc;break;case"toggle":case"beforetoggle":P=jh}var De=(r&4)!==0,Dt=!De&&(t==="scroll"||t==="scrollend"),G=De?K!==null?K+"Capture":null:K;De=[];for(var U=k,z;U!==null;){var te=U;if(z=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||z===null||G===null||(te=Hi(U,G),te!=null&&De.push(uo(U,te,z))),Dt)break;U=U.return}0<De.length&&(K=new P(K,Be,null,s,q),ae.push({event:K,listeners:De}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",K&&s!==zo&&(Be=s.relatedTarget||s.fromElement)&&(ei(Be)||Be[on]))break e;if((P||K)&&(K=q.window===q?q:(K=q.ownerDocument)?K.defaultView||K.parentWindow:window,P?(Be=s.relatedTarget||s.toElement,P=k,Be=Be?ei(Be):null,Be!==null&&(Dt=w(Be),De=Be.tag,Be!==Dt||De!==5&&De!==27&&De!==6)&&(Be=null)):(P=null,Be=k),P!==Be)){if(De=wc,te="onMouseLeave",G="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(De=Nc,te="onPointerLeave",G="onPointerEnter",U="pointer"),Dt=P==null?K:Ns(P),z=Be==null?K:Ns(Be),K=new De(te,U+"leave",P,s,q),K.target=Dt,K.relatedTarget=z,te=null,ei(q)===k&&(De=new De(G,U+"enter",Be,s,q),De.target=z,De.relatedTarget=Dt,te=De),Dt=te,P&&Be)t:{for(De=P,G=Be,U=0,z=De;z;z=bs(z))U++;for(z=0,te=G;te;te=bs(te))z++;for(;0<U-z;)De=bs(De),U--;for(;0<z-U;)G=bs(G),z--;for(;U--;){if(De===G||G!==null&&De===G.alternate)break t;De=bs(De),G=bs(G)}De=null}else De=null;P!==null&&Kf(ae,K,P,De,!1),Be!==null&&Dt!==null&&Kf(ae,Dt,Be,De,!0)}}e:{if(K=k?Ns(k):window,P=K.nodeName&&K.nodeName.toLowerCase(),P==="select"||P==="input"&&K.type==="file")var Se=Dc;else if(xc(K))if(rd)Se=Vc;else{Se=Wg;var Qe=kg}else P=K.nodeName,!P||P.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?k&&Sc(k.elementType)&&(Se=Dc):Se=od;if(Se&&(Se=Se(t,k))){td(ae,Se,s,q);break e}Qe&&Qe(t,K,k),t==="focusout"&&k&&K.type==="number"&&k.memoizedProps.value!=null&&Zo(K,"number",K.value)}switch(Qe=k?Ns(k):window,t){case"focusin":(xc(Qe)||Qe.contentEditable==="true")&&(qi=Qe,Uc=k,Fo=null);break;case"focusout":Fo=Uc=qi=null;break;case"mousedown":Fl=!0;break;case"contextmenu":case"mouseup":case"dragend":Fl=!1,fd(ae,s,q);break;case"selectionchange":if(Pl)break;case"keydown":case"keyup":fd(ae,s,q)}var Ie;if(Cc)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else xs?Qh(t,s)&&(Oe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Oe="onCompositionStart");Oe&&($i&&s.locale!=="ko"&&(xs||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&xs&&(Ie=Dh()):(ai=q,Is="value"in ai?ai.value:ai.textContent,xs=!0)),Qe=bl(k,Oe),0<Qe.length&&(Oe=new Tc(Oe,t,null,s,q),ae.push({event:Oe,listeners:Qe}),Ie?Oe.data=Ie:(Ie=qh(s),Ie!==null&&(Oe.data=Ie)))),(Ie=Ic?ed(t,s):Gg(t,s))&&(Oe=bl(k,"onBeforeInput"),0<Oe.length&&(Qe=new Tc("onBeforeInput","beforeinput",null,s,q),ae.push({event:Qe,listeners:Oe}),Qe.data=Ie)),bp(ae,t,k,s,q)}sa(ae,r)})}function uo(t,r,s){return{instance:t,listener:r,currentTarget:s}}function bl(t,r){for(var s=r+"Capture",o=[];t!==null;){var u=t,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Hi(t,s),u!=null&&o.unshift(uo(t,u,d)),u=Hi(t,r),u!=null&&o.push(uo(t,u,d))),t.tag===3)return o;t=t.return}return[]}function bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kf(t,r,s,o,u){for(var d=r._reactName,v=[];s!==null&&s!==o;){var E=s,x=E.alternate,k=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||k===null||(x=k,u?(k=Hi(s,d),k!=null&&v.unshift(uo(s,k,x))):u||(k=Hi(s,d),k!=null&&v.push(uo(s,k,x)))),s=s.return}v.length!==0&&t.push({event:r,listeners:v})}var tg=/\r\n?/g,ng=/\u0000|\uFFFD/g;function rg(t){return(typeof t=="string"?t:""+t).replace(tg,`
`).replace(ng,"")}function ag(t,r){return r=rg(r),rg(t)===r}function Gu(){}function ct(t,r,s,o,u,d){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||ri(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&ri(t,""+o);break;case"className":Mo(t,"class",o);break;case"tabIndex":Mo(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Mo(t,s,o);break;case"style":Nh(t,o,d);break;case"data":if(r!=="object"){Mo(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Go(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&ct(t,r,"name",u.name,u,null),ct(t,r,"formEncType",u.formEncType,u,null),ct(t,r,"formMethod",u.formMethod,u,null),ct(t,r,"formTarget",u.formTarget,u,null)):(ct(t,r,"encType",u.encType,u,null),ct(t,r,"method",u.method,u,null),ct(t,r,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Go(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Gu);break;case"onScroll":o!=null&&Je("scroll",t);break;case"onScrollEnd":o!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(p(61));if(s=o.__html,s!=null){if(u.children!=null)throw Error(p(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Go(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Je("beforetoggle",t),Je("toggle",t),pa(t,"popover",o);break;case"xlinkActuate":ya(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ya(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ya(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ya(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ya(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ya(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ya(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ya(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ya(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Mg.get(s)||s,pa(t,s,o))}}function Xf(t,r,s,o,u,d){switch(s){case"style":Nh(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(p(61));if(s=o.__html,s!=null){if(u.children!=null)throw Error(p(60));t.innerHTML=s}}break;case"children":typeof o=="string"?ri(t,o):(typeof o=="number"||typeof o=="bigint")&&ri(t,""+o);break;case"onScroll":o!=null&&Je("scroll",t);break;case"onScrollEnd":o!=null&&Je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dc.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),r=s.slice(2,u?s.length-7:void 0),d=t[ht]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,u),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,o,u);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):pa(t,s,o)}}}function cn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var o=!1,u=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(p(137,r));default:ct(t,r,d,v,s,null)}}u&&ct(t,r,"srcSet",s.srcSet,s,null),o&&ct(t,r,"src",s.src,s,null);return;case"input":Je("invalid",t);var E=d=v=u=null,x=null,k=null;for(o in s)if(s.hasOwnProperty(o)){var q=s[o];if(q!=null)switch(o){case"name":u=q;break;case"type":v=q;break;case"checked":x=q;break;case"defaultChecked":k=q;break;case"value":d=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(p(137,r));break;default:ct(t,r,o,q,s,null)}}vc(t,d,E,x,k,v,u,!1),Ml(t);return;case"select":Je("invalid",t),o=v=d=null;for(u in s)if(s.hasOwnProperty(u)&&(E=s[u],E!=null))switch(u){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:ct(t,r,u,E,s,null)}r=d,s=v,t.multiple=!!o,r!=null?Cs(t,!!o,r,!1):s!=null&&Cs(t,!!o,s,!0);return;case"textarea":Je("invalid",t),d=u=o=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":u=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(p(91));break;default:ct(t,r,v,E,s,null)}Rh(t,o,u,d),Ml(t);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(o=s[x],o!=null))switch(x){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ct(t,r,x,o,s,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(o=0;o<ia.length;o++)Je(ia[o],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(o=s[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(p(137,r));default:ct(t,r,k,o,s,null)}return;default:if(Sc(r)){for(q in s)s.hasOwnProperty(q)&&(o=s[q],o!==void 0&&Xf(t,r,q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ct(t,r,E,o,s,null))}function vm(t,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,v=null,E=null,x=null,k=null,q=null;for(P in s){var ae=s[P];if(s.hasOwnProperty(P)&&ae!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":x=ae;default:o.hasOwnProperty(P)||ct(t,r,P,null,o,ae)}}for(var K in o){var P=o[K];if(ae=s[K],o.hasOwnProperty(K)&&(P!=null||ae!=null))switch(K){case"type":d=P;break;case"name":u=P;break;case"checked":k=P;break;case"defaultChecked":q=P;break;case"value":v=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(p(137,r));break;default:P!==ae&&ct(t,r,K,P,o,ae)}}yc(t,v,E,x,k,q,d,u);return;case"select":P=v=E=K=null;for(d in s)if(x=s[d],s.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":P=x;default:o.hasOwnProperty(d)||ct(t,r,d,null,o,x)}for(u in o)if(d=o[u],x=s[u],o.hasOwnProperty(u)&&(d!=null||x!=null))switch(u){case"value":K=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==x&&ct(t,r,u,d,o,x)}r=E,s=v,o=P,K!=null?Cs(t,!!s,K,!1):!!o!=!!s&&(r!=null?Cs(t,!!s,r,!0):Cs(t,!!s,s?[]:"",!1));return;case"textarea":P=K=null;for(E in s)if(u=s[E],s.hasOwnProperty(E)&&u!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ct(t,r,E,null,o,u)}for(v in o)if(u=o[v],d=s[v],o.hasOwnProperty(v)&&(u!=null||d!=null))switch(v){case"value":K=u;break;case"defaultValue":P=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(p(91));break;default:u!==d&&ct(t,r,v,u,o,d)}bc(t,K,P);return;case"option":for(var Be in s)if(K=s[Be],s.hasOwnProperty(Be)&&K!=null&&!o.hasOwnProperty(Be))switch(Be){case"selected":t.selected=!1;break;default:ct(t,r,Be,null,o,K)}for(x in o)if(K=o[x],P=s[x],o.hasOwnProperty(x)&&K!==P&&(K!=null||P!=null))switch(x){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ct(t,r,x,K,o,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in s)K=s[De],s.hasOwnProperty(De)&&K!=null&&!o.hasOwnProperty(De)&&ct(t,r,De,null,o,K);for(k in o)if(K=o[k],P=s[k],o.hasOwnProperty(k)&&K!==P&&(K!=null||P!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(p(137,r));break;default:ct(t,r,k,K,o,P)}return;default:if(Sc(r)){for(var Dt in s)K=s[Dt],s.hasOwnProperty(Dt)&&K!==void 0&&!o.hasOwnProperty(Dt)&&Xf(t,r,Dt,void 0,o,K);for(q in o)K=o[q],P=s[q],!o.hasOwnProperty(q)||K===P||K===void 0&&P===void 0||Xf(t,r,q,K,o,P);return}}for(var G in s)K=s[G],s.hasOwnProperty(G)&&K!=null&&!o.hasOwnProperty(G)&&ct(t,r,G,null,o,K);for(ae in o)K=o[ae],P=s[ae],!o.hasOwnProperty(ae)||K===P||K==null&&P==null||ct(t,r,ae,K,o,P)}var Pf=null,zu=null;function Sl(t){return t.nodeType===9?t:t.ownerDocument}function ig(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bm(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function sg(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var co=null;function og(){var t=window.event;return t&&t.type==="popstate"?t===co?!1:(co=t,!0):(co=null,!1)}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Sm=typeof clearTimeout=="function"?clearTimeout:void 0,ku=typeof Promise=="function"?Promise:void 0,lg=typeof queueMicrotask=="function"?queueMicrotask:typeof ku<"u"?function(t){return ku.resolve(null).then(t).catch(ug)}:Ff;function ug(t){setTimeout(function(){throw t})}function fn(t){return t==="head"}function Jf(t,r){var s=r,o=0,u=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var v=t.ownerDocument;if(s&1&&Al(v.documentElement),s&2&&Al(v.body),s&4)for(s=v.head,Al(s),v=s.firstChild;v;){var E=v.nextSibling,x=v.nodeName;v[Xi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=E}}if(u===0){t.removeChild(d),th(r);return}u--}else s==="$"||s==="$?"||s==="$!"?u++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);th(r)}function Wu(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wu(s),fc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Am(t,r,s,o){for(;t.nodeType===1;){var u=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Xi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=wr(t.nextSibling),t===null)break}return null}function Em(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=wr(t.nextSibling),t===null))return null;return t}function jf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function cg(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function wr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var fo=null;function fg(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function hg(t,r,s){switch(r=Sl(s),t){case"html":if(t=r.documentElement,!t)throw Error(p(452));return t;case"head":if(t=r.head,!t)throw Error(p(453));return t;case"body":if(t=r.body,!t)throw Error(p(454));return t;default:throw Error(p(451))}}function Al(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);fc(t)}var Tr=new Map,dg=new Set;function Ku(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xa=he.d;he.d={f:Xu,r:Rm,D:wm,C:Tm,L:gg,m:Nm,X:a,S:Cm,M:e};function Xu(){var t=Xa.f(),r=Ci();return t||r}function Rm(t){var r=ma(t);r!==null&&r.tag===5&&r.type==="form"?xd(r):Xa.r(t)}var ho=typeof document>"u"?null:document;function Hf(t,r,s){var o=ho;if(o&&typeof r=="string"&&r){var u=Sn(r);u='link[rel="'+t+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),dg.has(u)||(dg.add(u),t={rel:t,crossOrigin:s,href:r},o.querySelector(u)===null&&(r=o.createElement("link"),cn(r,"link",t),Pt(r),o.head.appendChild(r)))}}function wm(t){Xa.D(t),Hf("dns-prefetch",t,null)}function Tm(t,r){Xa.C(t,r),Hf("preconnect",t,r)}function gg(t,r,s){Xa.L(t,r,s);var o=ho;if(o&&t&&r){var u='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Sn(s.imageSizes)+'"]')):u+='[href="'+Sn(t)+'"]';var d=u;switch(r){case"style":d=i(t);break;case"script":d=y(t)}Tr.has(d)||(t=_({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),Tr.set(d,t),o.querySelector(u)!==null||r==="style"&&o.querySelector(l(d))||r==="script"&&o.querySelector(b(d))||(r=o.createElement("link"),cn(r,"link",t),Pt(r),o.head.appendChild(r)))}}function Nm(t,r){Xa.m(t,r);var s=ho;if(s&&t){var o=r&&typeof r.as=="string"?r.as:"script",u='link[rel="modulepreload"][as="'+Sn(o)+'"][href="'+Sn(t)+'"]',d=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=y(t)}if(!Tr.has(d)&&(t=_({rel:"modulepreload",href:t},r),Tr.set(d,t),s.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(b(d)))return}o=s.createElement("link"),cn(o,"link",t),Pt(o),s.head.appendChild(o)}}}function Cm(t,r,s){Xa.S(t,r,s);var o=ho;if(o&&t){var u=ti(o).hoistableStyles,d=i(t);r=r||"default";var v=u.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(l(d)))E.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},s),(s=Tr.get(d))&&Z(t,s);var x=v=o.createElement("link");Pt(x),cn(x,"link",t),x._p=new Promise(function(k,q){x.onload=k,x.onerror=q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,I(v,r,o)}v={type:"stylesheet",instance:v,count:1,state:E},u.set(d,v)}}}function a(t,r){Xa.X(t,r);var s=ho;if(s&&t){var o=ti(s).hoistableScripts,u=y(t),d=o.get(u);d||(d=s.querySelector(b(u)),d||(t=_({src:t,async:!0},r),(r=Tr.get(u))&&J(t,r),d=s.createElement("script"),Pt(d),cn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(u,d))}}function e(t,r){Xa.M(t,r);var s=ho;if(s&&t){var o=ti(s).hoistableScripts,u=y(t),d=o.get(u);d||(d=s.querySelector(b(u)),d||(t=_({src:t,async:!0,type:"module"},r),(r=Tr.get(u))&&J(t,r),d=s.createElement("script"),Pt(d),cn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(u,d))}}function n(t,r,s,o){var u=(u=ve.current)?Ku(u):null;if(!u)throw Error(p(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=i(s.href),s=ti(u).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=i(s.href);var d=ti(u).hoistableStyles,v=d.get(t);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=u.querySelector(l(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Tr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Tr.set(t,s),d||g(u,t,s,v.state))),r&&o===null)throw Error(p(528,""));return v}if(r&&o!==null)throw Error(p(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=y(s),s=ti(u).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(p(444,t))}}function i(t){return'href="'+Sn(t)+'"'}function l(t){return'link[rel="stylesheet"]['+t+"]"}function c(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function g(t,r,s,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),cn(r,"link",s),Pt(r),t.head.appendChild(r))}function y(t){return'[src="'+Sn(t)+'"]'}function b(t){return"script[async]"+t}function R(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+Sn(s.href)+'"]');if(o)return r.instance=o,Pt(o),o;var u=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Pt(o),cn(o,"style",u),I(o,s.precedence,t),r.instance=o;case"stylesheet":u=i(s.href);var d=t.querySelector(l(u));if(d)return r.state.loading|=4,r.instance=d,Pt(d),d;o=c(s),(u=Tr.get(u))&&Z(o,u),d=(t.ownerDocument||t).createElement("link"),Pt(d);var v=d;return v._p=new Promise(function(E,x){v.onload=E,v.onerror=x}),cn(d,"link",o),r.state.loading|=4,I(d,s.precedence,t),r.instance=d;case"script":return d=y(s.src),(u=t.querySelector(b(d)))?(r.instance=u,Pt(u),u):(o=s,(u=Tr.get(d))&&(o=_({},s),J(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),Pt(u),cn(u,"link",o),t.head.appendChild(u),r.instance=u);case"void":return null;default:throw Error(p(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,I(o,s.precedence,t));return r.instance}function I(t,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,d=u,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===r)d=E;else if(d!==u)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Z(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function J(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Y=null;function Q(t,r,s){if(Y===null){var o=new Map,u=Y=new Map;u.set(s,o)}else u=Y,o=u.get(s),o||(o=new Map,u.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),u=0;u<s.length;u++){var d=s[u];if(!(d[Xi]||d[_t]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function re(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function me(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function be(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xe=null;function $e(){}function rt(t,r,s){if(xe===null)throw Error(p(475));var o=xe;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=i(s.href),d=t.querySelector(l(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=_e.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=d,Pt(d);return}d=t.ownerDocument||t,s=c(s),(u=Tr.get(u))&&Z(s,u),d=d.createElement("link"),Pt(d);var v=d;v._p=new Promise(function(E,x){v.onload=E,v.onerror=x}),cn(d,"link",s),r.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=_e.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function gt(){if(xe===null)throw Error(p(475));var t=xe;return t.stylesheets&&t.count===0&&Ot(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Ot(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function _e(){if(this.count--,this.count===0){if(this.stylesheets)Ot(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vt=null;function Ot(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vt=new Map,r.forEach(Xt,t),vt=null,_e.call(t))}function Xt(t,r){if(!(r.state.loading&4)){var s=vt.get(t);if(s)var o=s.get(null);else{s=new Map,vt.set(t,s);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var v=u[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}u=r.instance,v=u.getAttribute("data-precedence"),d=s.get(v)||o,d===o&&s.set(null,u),s.set(v,u),this.count++,o=_e.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),d?d.parentNode.insertBefore(u,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),r.state.loading|=4}}var Mn={$$typeof:se,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function mg(t,r,s,o,u,d,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function $f(t,r,s,o,u,d,v,E,x,k,q,ae){return t=new mg(t,r,s,v,E,x,k,ae),r=1,d===!0&&(r|=24),d=An(3,null,null,r),t.current=d,d.stateNode=t,r=Xc(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:r},jc(d),t}function El(t){return t?(t=Bs,t):Bs}function Sp(t,r,s,o,u,d){u=El(u),o.context===null?o.context=u:o.pendingContext=u,o=kn(r),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=di(t,o,r),s!==null&&(fe(s,t,r),Ks(s,t,r))}function Ap(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Im(t,r){Ap(t,r),(t=t.alternate)&&Ap(t,r)}function Ep(t){if(t.tag===13){var r=Vs(t,67108864);r!==null&&fe(r,t,67108864),Im(t,67108864)}}var pg=!0;function tv(t,r,s,o){var u=W.T;W.T=null;var d=he.p;try{he.p=2,xm(t,r,s,o)}finally{he.p=d,W.T=u}}function nv(t,r,s,o){var u=W.T;W.T=null;var d=he.p;try{he.p=8,xm(t,r,s,o)}finally{he.p=d,W.T=u}}function xm(t,r,s,o){if(pg){var u=Dm(o);if(u===null)Zu(t,r,o,yg,s),wp(t,o);else if(av(u,t,r,s,o))o.stopPropagation();else if(wp(t,o),r&4&&-1<rv.indexOf(t)){for(;u!==null;){var d=ma(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=cr(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var x=1<<31-an(v);E.entanglements[1]|=x,v&=~x}ar(d),(dt&6)===0&&(Iu=bn()+500,Vi(0))}}break;case 13:E=Vs(d,2),E!==null&&fe(E,d,2),Ci(),Im(d,2)}if(d=Dm(o),d===null&&Zu(t,r,o,yg,s),d===u)break;u=d}u!==null&&o.stopPropagation()}else Zu(t,r,o,null,s)}}function Dm(t){return t=ko(t),Om(t)}var yg=null;function Om(t){if(yg=null,t=ei(t),t!==null){var r=w(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=C(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return yg=t,null}function Rp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vo()){case or:return 2;case Bl:return 8;case $a:case Nn:return 32;case Ut:return 268435456;default:return 32}default:return 32}}var Vm=!1,go=null,mo=null,po=null,Qf=new Map,qf=new Map,yo=[],rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wp(t,r){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":Qf.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":qf.delete(r.pointerId)}}function eh(t,r,s,o,u,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[u]},r!==null&&(r=ma(r),r!==null&&Ep(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),t)}function av(t,r,s,o,u){switch(r){case"focusin":return go=eh(go,t,r,s,o,u),!0;case"dragenter":return mo=eh(mo,t,r,s,o,u),!0;case"mouseover":return po=eh(po,t,r,s,o,u),!0;case"pointerover":var d=u.pointerId;return Qf.set(d,eh(Qf.get(d)||null,t,r,s,o,u)),!0;case"gotpointercapture":return d=u.pointerId,qf.set(d,eh(qf.get(d)||null,t,r,s,o,u)),!0}return!1}function Tp(t){var r=ei(t.target);if(r!==null){var s=w(r);if(s!==null){if(r=s.tag,r===13){if(r=C(s),r!==null){t.blockedOn=r,ft(t.priority,function(){if(s.tag===13){var o=rn();o=kt(o);var u=Vs(s,o);u!==null&&fe(u,s,o),Im(s,o)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vg(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Dm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);zo=o,s.target.dispatchEvent(o),zo=null}else return r=ma(s),r!==null&&Ep(r),t.blockedOn=s,!1;r.shift()}return!0}function Np(t,r,s){vg(t)&&s.delete(r)}function iv(){Vm=!1,go!==null&&vg(go)&&(go=null),mo!==null&&vg(mo)&&(mo=null),po!==null&&vg(po)&&(po=null),Qf.forEach(Np),qf.forEach(Np)}function bg(t,r){t.blockedOn===r&&(t.blockedOn=null,Vm||(Vm=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,iv)))}var Sg=null;function Cp(t){Sg!==t&&(Sg=t,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){Sg===t&&(Sg=null);for(var r=0;r<t.length;r+=3){var s=t[r],o=t[r+1],u=t[r+2];if(typeof o!="function"){if(Om(o||s)===null)continue;break}var d=ma(s);d!==null&&(t.splice(r,3),r-=3,Pn(d,{pending:!0,data:u,method:s.method,action:o},o,u))}}))}function th(t){function r(x){return bg(x,t)}go!==null&&bg(go,t),mo!==null&&bg(mo,t),po!==null&&bg(po,t),Qf.forEach(r),qf.forEach(r);for(var s=0;s<yo.length;s++){var o=yo[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<yo.length&&(s=yo[0],s.blockedOn===null);)Tp(s),s.blockedOn===null&&yo.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var u=s[o],d=s[o+1],v=u[ht]||null;if(typeof d=="function")v||Cp(s);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(u=d,v=d[ht]||null)E=v.formAction;else if(Om(u)!==null)continue}else E=v.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),Cp(s)}}}function Bm(t){this._internalRoot=t}Ag.prototype.render=Bm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(p(409));var s=r.current,o=rn();Sp(s,o,t,r,null,null)},Ag.prototype.unmount=Bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Sp(t.current,2,null,t,null,null),Ci(),r[on]=null}};function Ag(t){this._internalRoot=t}Ag.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ki();t={blockedOn:null,target:t,priority:r};for(var s=0;s<yo.length&&r!==0&&r<yo[s].priority;s++);yo.splice(s,0,t),s===0&&Tp(t)}};var Ip=h.version;if(Ip!=="19.1.0")throw Error(p(527,Ip,"19.1.0"));he.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(p(188)):(t=Object.keys(t).join(","),Error(p(268,t)));return t=S(r),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var sv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eg.isDisabled&&Eg.supportsFiber)try{lr=Eg.inject(sv),qe=Eg}catch{}}return rh.createRoot=function(t,r){if(!A(t))throw Error(p(299));var s=!1,o="",u=bf,d=cs,v=Jr,E=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(u=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=$f(t,1,!1,null,null,s,o,u,d,v,E,null),t[on]=r.current,vl(t),new Bm(r)},rh.hydrateRoot=function(t,r,s){if(!A(t))throw Error(p(299));var o=!1,u="",d=bf,v=cs,E=Jr,x=null,k=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks),s.formState!==void 0&&(k=s.formState)),r=$f(t,1,!0,r,s??null,o,u,d,v,E,x,k),r.context=El(null),s=r.current,o=rn(),o=kt(o),u=kn(o),u.callback=null,di(s,u,o),s=o,r.current.lanes=s,ga(r,s),ar(r),t[on]=r.current,vl(t),new Ag(r)},rh.version="19.1.0",rh}var Zp;function yv(){if(Zp)return Mm.exports;Zp=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(h){console.error(h)}}return f(),Mm.exports=pv(),Mm.exports}var vv=yv();const bv="modulepreload",Sv=function(f){return"/"+f},Gp={},Vl=function(h,m,p){let A=Promise.resolve();if(m&&m.length>0){document.getElementsByTagName("link");const C=document.querySelector("meta[property=csp-nonce]"),B=(C==null?void 0:C.nonce)||(C==null?void 0:C.getAttribute("nonce"));A=Promise.allSettled(m.map(S=>{if(S=Sv(S),S in Gp)return;Gp[S]=!0;const T=S.endsWith(".css"),_=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${_}`))return;const N=document.createElement("link");if(N.rel=T?"stylesheet":bv,T||(N.as="script"),N.crossOrigin="",N.href=S,B&&N.setAttribute("nonce",B),document.head.appendChild(N),T)return new Promise((F,ee)=>{N.addEventListener("load",F),N.addEventListener("error",()=>ee(new Error(`Unable to preload CSS for ${S}`)))})}))}function w(C){const B=new Event("vite:preloadError",{cancelable:!0});if(B.payload=C,window.dispatchEvent(B),!B.defaultPrevented)throw C}return A.then(C=>{for(const B of C||[])B.status==="rejected"&&w(B.reason);return h().catch(w)})};var X=Og();const de=yy(X),OS=cv({__proto__:null,default:de},[X]);var ah={},zp;function Av(){if(zp)return ah;zp=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.parse=C,ah.serialize=T;const f=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,h=/^[\u0021-\u003A\u003C-\u007E]*$/,m=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,p=/^[\u0020-\u003A\u003D-\u007E]*$/,A=Object.prototype.toString,w=(()=>{const F=function(){};return F.prototype=Object.create(null),F})();function C(F,ee){const j=new w,ie=F.length;if(ie<2)return j;const H=(ee==null?void 0:ee.decode)||_;let ne=0;do{const pe=F.indexOf("=",ne);if(pe===-1)break;const se=F.indexOf(";",ne),Ne=se===-1?ie:se;if(pe>Ne){ne=F.lastIndexOf(";",pe-1)+1;continue}const le=B(F,ne,pe),Ye=S(F,pe,le),at=F.slice(le,Ye);if(j[at]===void 0){let Me=B(F,pe+1,Ne),Ce=S(F,Ne,Me);const Ke=H(F.slice(Me,Ce));j[at]=Ke}ne=Ne+1}while(ne<ie);return j}function B(F,ee,j){do{const ie=F.charCodeAt(ee);if(ie!==32&&ie!==9)return ee}while(++ee<j);return j}function S(F,ee,j){for(;ee>j;){const ie=F.charCodeAt(--ee);if(ie!==32&&ie!==9)return ee+1}return j}function T(F,ee,j){const ie=(j==null?void 0:j.encode)||encodeURIComponent;if(!f.test(F))throw new TypeError(`argument name is invalid: ${F}`);const H=ie(ee);if(!h.test(H))throw new TypeError(`argument val is invalid: ${ee}`);let ne=F+"="+H;if(!j)return ne;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);ne+="; Max-Age="+j.maxAge}if(j.domain){if(!m.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);ne+="; Domain="+j.domain}if(j.path){if(!p.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);ne+="; Path="+j.path}if(j.expires){if(!N(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);ne+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(ne+="; HttpOnly"),j.secure&&(ne+="; Secure"),j.partitioned&&(ne+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":ne+="; Priority=Low";break;case"medium":ne+="; Priority=Medium";break;case"high":ne+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":ne+="; SameSite=Strict";break;case"lax":ne+="; SameSite=Lax";break;case"none":ne+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return ne}function _(F){if(F.indexOf("%")===-1)return F;try{return decodeURIComponent(F)}catch{return F}}function N(F){return A.call(F)==="[object Date]"}return ah}Av();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kp="popstate";function Ev(f={}){function h(p,A){let{pathname:w,search:C,hash:B}=p.location;return Km("",{pathname:w,search:C,hash:B},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function m(p,A){return typeof A=="string"?A:lh(A)}return wv(h,m,null,f)}function zt(f,h){if(f===!1||f===null||typeof f>"u")throw new Error(h)}function ja(f,h){if(!f){typeof console<"u"&&console.warn(h);try{throw new Error(h)}catch{}}}function Rv(){return Math.random().toString(36).substring(2,10)}function Wp(f,h){return{usr:f.state,key:f.key,idx:h}}function Km(f,h,m=null,p){return{pathname:typeof f=="string"?f:f.pathname,search:"",hash:"",...typeof h=="string"?sc(h):h,state:m,key:h&&h.key||p||Rv()}}function lh({pathname:f="/",search:h="",hash:m=""}){return h&&h!=="?"&&(f+=h.charAt(0)==="?"?h:"?"+h),m&&m!=="#"&&(f+=m.charAt(0)==="#"?m:"#"+m),f}function sc(f){let h={};if(f){let m=f.indexOf("#");m>=0&&(h.hash=f.substring(m),f=f.substring(0,m));let p=f.indexOf("?");p>=0&&(h.search=f.substring(p),f=f.substring(0,p)),f&&(h.pathname=f)}return h}function wv(f,h,m,p={}){let{window:A=document.defaultView,v5Compat:w=!1}=p,C=A.history,B="POP",S=null,T=_();T==null&&(T=0,C.replaceState({...C.state,idx:T},""));function _(){return(C.state||{idx:null}).idx}function N(){B="POP";let H=_(),ne=H==null?null:H-T;T=H,S&&S({action:B,location:ie.location,delta:ne})}function F(H,ne){B="PUSH";let pe=Km(ie.location,H,ne);T=_()+1;let se=Wp(pe,T),Ne=ie.createHref(pe);try{C.pushState(se,"",Ne)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;A.location.assign(Ne)}w&&S&&S({action:B,location:ie.location,delta:1})}function ee(H,ne){B="REPLACE";let pe=Km(ie.location,H,ne);T=_();let se=Wp(pe,T),Ne=ie.createHref(pe);C.replaceState(se,"",Ne),w&&S&&S({action:B,location:ie.location,delta:0})}function j(H){let ne=A.location.origin!=="null"?A.location.origin:A.location.href,pe=typeof H=="string"?H:lh(H);return pe=pe.replace(/ $/,"%20"),zt(ne,`No window.location.(origin|href) available to create URL for href: ${pe}`),new URL(pe,ne)}let ie={get action(){return B},get location(){return f(A,C)},listen(H){if(S)throw new Error("A history only accepts one active listener");return A.addEventListener(kp,N),S=H,()=>{A.removeEventListener(kp,N),S=null}},createHref(H){return h(A,H)},createURL:j,encodeLocation(H){let ne=j(H);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:F,replace:ee,go(H){return C.go(H)}};return ie}function Sy(f,h,m="/"){return Tv(f,h,m,!1)}function Tv(f,h,m,p){let A=typeof h=="string"?sc(h):h,w=Rs(A.pathname||"/",m);if(w==null)return null;let C=Ay(f);Nv(C);let B=null;for(let S=0;B==null&&S<C.length;++S){let T=_v(w);B=Lv(C[S],T,p)}return B}function Ay(f,h=[],m=[],p=""){let A=(w,C,B)=>{let S={relativePath:B===void 0?w.path||"":B,caseSensitive:w.caseSensitive===!0,childrenIndex:C,route:w};S.relativePath.startsWith("/")&&(zt(S.relativePath.startsWith(p),`Absolute route path "${S.relativePath}" nested under path "${p}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(p.length));let T=Es([p,S.relativePath]),_=m.concat(S);w.children&&w.children.length>0&&(zt(w.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Ay(w.children,h,_,T)),!(w.path==null&&!w.index)&&h.push({path:T,score:Bv(T,w.index),routesMeta:_})};return f.forEach((w,C)=>{var B;if(w.path===""||!((B=w.path)!=null&&B.includes("?")))A(w,C);else for(let S of Ey(w.path))A(w,C,S)}),h}function Ey(f){let h=f.split("/");if(h.length===0)return[];let[m,...p]=h,A=m.endsWith("?"),w=m.replace(/\?$/,"");if(p.length===0)return A?[w,""]:[w];let C=Ey(p.join("/")),B=[];return B.push(...C.map(S=>S===""?w:[w,S].join("/"))),A&&B.push(...C),B.map(S=>f.startsWith("/")&&S===""?"/":S)}function Nv(f){f.sort((h,m)=>h.score!==m.score?m.score-h.score:Uv(h.routesMeta.map(p=>p.childrenIndex),m.routesMeta.map(p=>p.childrenIndex)))}var Cv=/^:[\w-]+$/,Iv=3,xv=2,Dv=1,Ov=10,Vv=-2,Kp=f=>f==="*";function Bv(f,h){let m=f.split("/"),p=m.length;return m.some(Kp)&&(p+=Vv),h&&(p+=xv),m.filter(A=>!Kp(A)).reduce((A,w)=>A+(Cv.test(w)?Iv:w===""?Dv:Ov),p)}function Uv(f,h){return f.length===h.length&&f.slice(0,-1).every((p,A)=>p===h[A])?f[f.length-1]-h[h.length-1]:0}function Lv(f,h,m=!1){let{routesMeta:p}=f,A={},w="/",C=[];for(let B=0;B<p.length;++B){let S=p[B],T=B===p.length-1,_=w==="/"?h:h.slice(w.length)||"/",N=xg({path:S.relativePath,caseSensitive:S.caseSensitive,end:T},_),F=S.route;if(!N&&T&&m&&!p[p.length-1].route.index&&(N=xg({path:S.relativePath,caseSensitive:S.caseSensitive,end:!1},_)),!N)return null;Object.assign(A,N.params),C.push({params:A,pathname:Es([w,N.pathname]),pathnameBase:zv(Es([w,N.pathnameBase])),route:F}),N.pathnameBase!=="/"&&(w=Es([w,N.pathnameBase]))}return C}function xg(f,h){typeof f=="string"&&(f={path:f,caseSensitive:!1,end:!0});let[m,p]=Mv(f.path,f.caseSensitive,f.end),A=h.match(m);if(!A)return null;let w=A[0],C=w.replace(/(.)\/+$/,"$1"),B=A.slice(1);return{params:p.reduce((T,{paramName:_,isOptional:N},F)=>{if(_==="*"){let j=B[F]||"";C=w.slice(0,w.length-j.length).replace(/(.)\/+$/,"$1")}const ee=B[F];return N&&!ee?T[_]=void 0:T[_]=(ee||"").replace(/%2F/g,"/"),T},{}),pathname:w,pathnameBase:C,pattern:f}}function Mv(f,h=!1,m=!0){ja(f==="*"||!f.endsWith("*")||f.endsWith("/*"),`Route path "${f}" will be treated as if it were "${f.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${f.replace(/\*$/,"/*")}".`);let p=[],A="^"+f.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(C,B,S)=>(p.push({paramName:B,isOptional:S!=null}),S?"/?([^\\/]+)?":"/([^\\/]+)"));return f.endsWith("*")?(p.push({paramName:"*"}),A+=f==="*"||f==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):m?A+="\\/*$":f!==""&&f!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,h?void 0:"i"),p]}function _v(f){try{return f.split("/").map(h=>decodeURIComponent(h).replace(/\//g,"%2F")).join("/")}catch(h){return ja(!1,`The URL path "${f}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${h}).`),f}}function Rs(f,h){if(h==="/")return f;if(!f.toLowerCase().startsWith(h.toLowerCase()))return null;let m=h.endsWith("/")?h.length-1:h.length,p=f.charAt(m);return p&&p!=="/"?null:f.slice(m)||"/"}function Yv(f,h="/"){let{pathname:m,search:p="",hash:A=""}=typeof f=="string"?sc(f):f;return{pathname:m?m.startsWith("/")?m:Zv(m,h):h,search:kv(p),hash:Wv(A)}}function Zv(f,h){let m=h.replace(/\/+$/,"").split("/");return f.split("/").forEach(A=>{A===".."?m.length>1&&m.pop():A!=="."&&m.push(A)}),m.length>1?m.join("/"):"/"}function zm(f,h,m,p){return`Cannot include a '${f}' character in a manually specified \`to.${h}\` field [${JSON.stringify(p)}].  Please separate it out to the \`to.${m}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gv(f){return f.filter((h,m)=>m===0||h.route.path&&h.route.path.length>0)}function sp(f){let h=Gv(f);return h.map((m,p)=>p===h.length-1?m.pathname:m.pathnameBase)}function op(f,h,m,p=!1){let A;typeof f=="string"?A=sc(f):(A={...f},zt(!A.pathname||!A.pathname.includes("?"),zm("?","pathname","search",A)),zt(!A.pathname||!A.pathname.includes("#"),zm("#","pathname","hash",A)),zt(!A.search||!A.search.includes("#"),zm("#","search","hash",A)));let w=f===""||A.pathname==="",C=w?"/":A.pathname,B;if(C==null)B=m;else{let N=h.length-1;if(!p&&C.startsWith("..")){let F=C.split("/");for(;F[0]==="..";)F.shift(),N-=1;A.pathname=F.join("/")}B=N>=0?h[N]:"/"}let S=Yv(A,B),T=C&&C!=="/"&&C.endsWith("/"),_=(w||C===".")&&m.endsWith("/");return!S.pathname.endsWith("/")&&(T||_)&&(S.pathname+="/"),S}var Es=f=>f.join("/").replace(/\/\/+/g,"/"),zv=f=>f.replace(/\/+$/,"").replace(/^\/*/,"/"),kv=f=>!f||f==="?"?"":f.startsWith("?")?f:"?"+f,Wv=f=>!f||f==="#"?"":f.startsWith("#")?f:"#"+f;function Kv(f){return f!=null&&typeof f.status=="number"&&typeof f.statusText=="string"&&typeof f.internal=="boolean"&&"data"in f}var Ry=["POST","PUT","PATCH","DELETE"];new Set(Ry);var Xv=["GET",...Ry];new Set(Xv);var oc=X.createContext(null);oc.displayName="DataRouter";var Vg=X.createContext(null);Vg.displayName="DataRouterState";var wy=X.createContext({isTransitioning:!1});wy.displayName="ViewTransition";var Pv=X.createContext(new Map);Pv.displayName="Fetchers";var Fv=X.createContext(null);Fv.displayName="Await";var Ha=X.createContext(null);Ha.displayName="Navigation";var mh=X.createContext(null);mh.displayName="Location";var ua=X.createContext({outlet:null,matches:[],isDataRoute:!1});ua.displayName="Route";var lp=X.createContext(null);lp.displayName="RouteError";function Jv(f,{relative:h}={}){zt(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:m,navigator:p}=X.useContext(Ha),{hash:A,pathname:w,search:C}=ph(f,{relative:h}),B=w;return m!=="/"&&(B=w==="/"?m:Es([m,w])),p.createHref({pathname:B,search:C,hash:A})}function lc(){return X.useContext(mh)!=null}function Io(){return zt(lc(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(mh).location}var Ty="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ny(f){X.useContext(Ha).static||X.useLayoutEffect(f)}function Cy(){let{isDataRoute:f}=X.useContext(ua);return f?ub():jv()}function jv(){zt(lc(),"useNavigate() may be used only in the context of a <Router> component.");let f=X.useContext(oc),{basename:h,navigator:m}=X.useContext(Ha),{matches:p}=X.useContext(ua),{pathname:A}=Io(),w=JSON.stringify(sp(p)),C=X.useRef(!1);return Ny(()=>{C.current=!0}),X.useCallback((S,T={})=>{if(ja(C.current,Ty),!C.current)return;if(typeof S=="number"){m.go(S);return}let _=op(S,JSON.parse(w),A,T.relative==="path");f==null&&h!=="/"&&(_.pathname=_.pathname==="/"?h:Es([h,_.pathname])),(T.replace?m.replace:m.push)(_,T.state,T)},[h,m,w,A,f])}var Hv=X.createContext(null);function $v(f){let h=X.useContext(ua).outlet;return h&&X.createElement(Hv.Provider,{value:f},h)}function VS(){let{matches:f}=X.useContext(ua),h=f[f.length-1];return h?h.params:{}}function ph(f,{relative:h}={}){let{matches:m}=X.useContext(ua),{pathname:p}=Io(),A=JSON.stringify(sp(m));return X.useMemo(()=>op(f,JSON.parse(A),p,h==="path"),[f,A,p,h])}function Qv(f,h){return Iy(f,h)}function Iy(f,h,m,p){var pe;zt(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:A,static:w}=X.useContext(Ha),{matches:C}=X.useContext(ua),B=C[C.length-1],S=B?B.params:{},T=B?B.pathname:"/",_=B?B.pathnameBase:"/",N=B&&B.route;{let se=N&&N.path||"";xy(T,!N||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${T}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let F=Io(),ee;if(h){let se=typeof h=="string"?sc(h):h;zt(_==="/"||((pe=se.pathname)==null?void 0:pe.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${se.pathname}" was given in the \`location\` prop.`),ee=se}else ee=F;let j=ee.pathname||"/",ie=j;if(_!=="/"){let se=_.replace(/^\//,"").split("/");ie="/"+j.replace(/^\//,"").split("/").slice(se.length).join("/")}let H=!w&&m&&m.matches&&m.matches.length>0?m.matches:Sy(f,{pathname:ie});ja(N||H!=null,`No routes matched location "${ee.pathname}${ee.search}${ee.hash}" `),ja(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${ee.pathname}${ee.search}${ee.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=rb(H&&H.map(se=>Object.assign({},se,{params:Object.assign({},S,se.params),pathname:Es([_,A.encodeLocation?A.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?_:Es([_,A.encodeLocation?A.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),C,m,p);return h&&ne?X.createElement(mh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ee},navigationType:"POP"}},ne):ne}function qv(){let f=lb(),h=Kv(f)?`${f.status} ${f.statusText}`:f instanceof Error?f.message:JSON.stringify(f),m=f instanceof Error?f.stack:null,p="rgba(200,200,200, 0.5)",A={padding:"0.5rem",backgroundColor:p},w={padding:"2px 4px",backgroundColor:p},C=null;return console.error("Error handled by React Router default ErrorBoundary:",f),C=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:w},"ErrorBoundary")," or"," ",X.createElement("code",{style:w},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},h),m?X.createElement("pre",{style:A},m):null,C)}var eb=X.createElement(qv,null),tb=class extends X.Component{constructor(f){super(f),this.state={location:f.location,revalidation:f.revalidation,error:f.error}}static getDerivedStateFromError(f){return{error:f}}static getDerivedStateFromProps(f,h){return h.location!==f.location||h.revalidation!=="idle"&&f.revalidation==="idle"?{error:f.error,location:f.location,revalidation:f.revalidation}:{error:f.error!==void 0?f.error:h.error,location:h.location,revalidation:f.revalidation||h.revalidation}}componentDidCatch(f,h){console.error("React Router caught the following error during render",f,h)}render(){return this.state.error!==void 0?X.createElement(ua.Provider,{value:this.props.routeContext},X.createElement(lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nb({routeContext:f,match:h,children:m}){let p=X.useContext(oc);return p&&p.static&&p.staticContext&&(h.route.errorElement||h.route.ErrorBoundary)&&(p.staticContext._deepestRenderedBoundaryId=h.route.id),X.createElement(ua.Provider,{value:f},m)}function rb(f,h=[],m=null,p=null){if(f==null){if(!m)return null;if(m.errors)f=m.matches;else if(h.length===0&&!m.initialized&&m.matches.length>0)f=m.matches;else return null}let A=f,w=m==null?void 0:m.errors;if(w!=null){let S=A.findIndex(T=>T.route.id&&(w==null?void 0:w[T.route.id])!==void 0);zt(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(w).join(",")}`),A=A.slice(0,Math.min(A.length,S+1))}let C=!1,B=-1;if(m)for(let S=0;S<A.length;S++){let T=A[S];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(B=S),T.route.id){let{loaderData:_,errors:N}=m,F=T.route.loader&&!_.hasOwnProperty(T.route.id)&&(!N||N[T.route.id]===void 0);if(T.route.lazy||F){C=!0,B>=0?A=A.slice(0,B+1):A=[A[0]];break}}}return A.reduceRight((S,T,_)=>{let N,F=!1,ee=null,j=null;m&&(N=w&&T.route.id?w[T.route.id]:void 0,ee=T.route.errorElement||eb,C&&(B<0&&_===0?(xy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,j=null):B===_&&(F=!0,j=T.route.hydrateFallbackElement||null)));let ie=h.concat(A.slice(0,_+1)),H=()=>{let ne;return N?ne=ee:F?ne=j:T.route.Component?ne=X.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=S,X.createElement(nb,{match:T,routeContext:{outlet:S,matches:ie,isDataRoute:m!=null},children:ne})};return m&&(T.route.ErrorBoundary||T.route.errorElement||_===0)?X.createElement(tb,{location:m.location,revalidation:m.revalidation,component:ee,error:N,children:H(),routeContext:{outlet:null,matches:ie,isDataRoute:!0}}):H()},null)}function up(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ab(f){let h=X.useContext(oc);return zt(h,up(f)),h}function ib(f){let h=X.useContext(Vg);return zt(h,up(f)),h}function sb(f){let h=X.useContext(ua);return zt(h,up(f)),h}function cp(f){let h=sb(f),m=h.matches[h.matches.length-1];return zt(m.route.id,`${f} can only be used on routes that contain a unique "id"`),m.route.id}function ob(){return cp("useRouteId")}function lb(){var p;let f=X.useContext(lp),h=ib("useRouteError"),m=cp("useRouteError");return f!==void 0?f:(p=h.errors)==null?void 0:p[m]}function ub(){let{router:f}=ab("useNavigate"),h=cp("useNavigate"),m=X.useRef(!1);return Ny(()=>{m.current=!0}),X.useCallback(async(A,w={})=>{ja(m.current,Ty),m.current&&(typeof A=="number"?f.navigate(A):await f.navigate(A,{fromRouteId:h,...w}))},[f,h])}var Xp={};function xy(f,h,m){!h&&!Xp[f]&&(Xp[f]=!0,ja(!1,m))}X.memo(cb);function cb({routes:f,future:h,state:m}){return Iy(f,void 0,m,h)}function Dy({to:f,replace:h,state:m,relative:p}){zt(lc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:A}=X.useContext(Ha);ja(!A,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:w}=X.useContext(ua),{pathname:C}=Io(),B=Cy(),S=op(f,sp(w),C,p==="path"),T=JSON.stringify(S);return X.useEffect(()=>{B(JSON.parse(T),{replace:h,state:m,relative:p})},[B,T,p,h,m]),null}function Oy(f){return $v(f.context)}function Li(f){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fb({basename:f="/",children:h=null,location:m,navigationType:p="POP",navigator:A,static:w=!1}){zt(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let C=f.replace(/^\/*/,"/"),B=X.useMemo(()=>({basename:C,navigator:A,static:w,future:{}}),[C,A,w]);typeof m=="string"&&(m=sc(m));let{pathname:S="/",search:T="",hash:_="",state:N=null,key:F="default"}=m,ee=X.useMemo(()=>{let j=Rs(S,C);return j==null?null:{location:{pathname:j,search:T,hash:_,state:N,key:F},navigationType:p}},[C,S,T,_,N,F,p]);return ja(ee!=null,`<Router basename="${C}"> is not able to match the URL "${S}${T}${_}" because it does not start with the basename, so the <Router> won't render anything.`),ee==null?null:X.createElement(Ha.Provider,{value:B},X.createElement(mh.Provider,{children:h,value:ee}))}function hb({children:f,location:h}){return Qv(Xm(f),h)}function Xm(f,h=[]){let m=[];return X.Children.forEach(f,(p,A)=>{if(!X.isValidElement(p))return;let w=[...h,A];if(p.type===X.Fragment){m.push.apply(m,Xm(p.props.children,w));return}zt(p.type===Li,`[${typeof p.type=="string"?p.type:p.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!p.props.index||!p.props.children,"An index route cannot have child routes.");let C={id:p.props.id||w.join("-"),caseSensitive:p.props.caseSensitive,element:p.props.element,Component:p.props.Component,index:p.props.index,path:p.props.path,loader:p.props.loader,action:p.props.action,hydrateFallbackElement:p.props.hydrateFallbackElement,HydrateFallback:p.props.HydrateFallback,errorElement:p.props.errorElement,ErrorBoundary:p.props.ErrorBoundary,hasErrorBoundary:p.props.hasErrorBoundary===!0||p.props.ErrorBoundary!=null||p.props.errorElement!=null,shouldRevalidate:p.props.shouldRevalidate,handle:p.props.handle,lazy:p.props.lazy};p.props.children&&(C.children=Xm(p.props.children,w)),m.push(C)}),m}var Cg="get",Ig="application/x-www-form-urlencoded";function Bg(f){return f!=null&&typeof f.tagName=="string"}function db(f){return Bg(f)&&f.tagName.toLowerCase()==="button"}function gb(f){return Bg(f)&&f.tagName.toLowerCase()==="form"}function mb(f){return Bg(f)&&f.tagName.toLowerCase()==="input"}function pb(f){return!!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)}function yb(f,h){return f.button===0&&(!h||h==="_self")&&!pb(f)}var wg=null;function vb(){if(wg===null)try{new FormData(document.createElement("form"),0),wg=!1}catch{wg=!0}return wg}var bb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(f){return f!=null&&!bb.has(f)?(ja(!1,`"${f}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ig}"`),null):f}function Sb(f,h){let m,p,A,w,C;if(gb(f)){let B=f.getAttribute("action");p=B?Rs(B,h):null,m=f.getAttribute("method")||Cg,A=km(f.getAttribute("enctype"))||Ig,w=new FormData(f)}else if(db(f)||mb(f)&&(f.type==="submit"||f.type==="image")){let B=f.form;if(B==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let S=f.getAttribute("formaction")||B.getAttribute("action");if(p=S?Rs(S,h):null,m=f.getAttribute("formmethod")||B.getAttribute("method")||Cg,A=km(f.getAttribute("formenctype"))||km(B.getAttribute("enctype"))||Ig,w=new FormData(B,f),!vb()){let{name:T,type:_,value:N}=f;if(_==="image"){let F=T?`${T}.`:"";w.append(`${F}x`,"0"),w.append(`${F}y`,"0")}else T&&w.append(T,N)}}else{if(Bg(f))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');m=Cg,p=null,A=Ig,C=f}return w&&A==="text/plain"&&(C=w,w=void 0),{action:p,method:m.toLowerCase(),encType:A,formData:w,body:C}}function fp(f,h){if(f===!1||f===null||typeof f>"u")throw new Error(h)}async function Ab(f,h){if(f.id in h)return h[f.id];try{let m=await import(f.module);return h[f.id]=m,m}catch(m){return console.error(`Error loading route module \`${f.module}\`, reloading page...`),console.error(m),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Eb(f){return f==null?!1:f.href==null?f.rel==="preload"&&typeof f.imageSrcSet=="string"&&typeof f.imageSizes=="string":typeof f.rel=="string"&&typeof f.href=="string"}async function Rb(f,h,m){let p=await Promise.all(f.map(async A=>{let w=h.routes[A.route.id];if(w){let C=await Ab(w,m);return C.links?C.links():[]}return[]}));return Cb(p.flat(1).filter(Eb).filter(A=>A.rel==="stylesheet"||A.rel==="preload").map(A=>A.rel==="stylesheet"?{...A,rel:"prefetch",as:"style"}:{...A,rel:"prefetch"}))}function Pp(f,h,m,p,A,w){let C=(S,T)=>m[T]?S.route.id!==m[T].route.id:!0,B=(S,T)=>{var _;return m[T].pathname!==S.pathname||((_=m[T].route.path)==null?void 0:_.endsWith("*"))&&m[T].params["*"]!==S.params["*"]};return w==="assets"?h.filter((S,T)=>C(S,T)||B(S,T)):w==="data"?h.filter((S,T)=>{var N;let _=p.routes[S.route.id];if(!_||!_.hasLoader)return!1;if(C(S,T)||B(S,T))return!0;if(S.route.shouldRevalidate){let F=S.route.shouldRevalidate({currentUrl:new URL(A.pathname+A.search+A.hash,window.origin),currentParams:((N=m[0])==null?void 0:N.params)||{},nextUrl:new URL(f,window.origin),nextParams:S.params,defaultShouldRevalidate:!0});if(typeof F=="boolean")return F}return!0}):[]}function wb(f,h,{includeHydrateFallback:m}={}){return Tb(f.map(p=>{let A=h.routes[p.route.id];if(!A)return[];let w=[A.module];return A.clientActionModule&&(w=w.concat(A.clientActionModule)),A.clientLoaderModule&&(w=w.concat(A.clientLoaderModule)),m&&A.hydrateFallbackModule&&(w=w.concat(A.hydrateFallbackModule)),A.imports&&(w=w.concat(A.imports)),w}).flat(1))}function Tb(f){return[...new Set(f)]}function Nb(f){let h={},m=Object.keys(f).sort();for(let p of m)h[p]=f[p];return h}function Cb(f,h){let m=new Set;return new Set(h),f.reduce((p,A)=>{let w=JSON.stringify(Nb(A));return m.has(w)||(m.add(w),p.push({key:w,link:A})),p},[])}function Ib(f,h){let m=typeof f=="string"?new URL(f,typeof window>"u"?"server://singlefetch/":window.location.origin):f;return m.pathname==="/"?m.pathname="_root.data":h&&Rs(m.pathname,h)==="/"?m.pathname=`${h.replace(/\/$/,"")}/_root.data`:m.pathname=`${m.pathname.replace(/\/$/,"")}.data`,m}function Vy(){let f=X.useContext(oc);return fp(f,"You must render this element inside a <DataRouterContext.Provider> element"),f}function xb(){let f=X.useContext(Vg);return fp(f,"You must render this element inside a <DataRouterStateContext.Provider> element"),f}var hp=X.createContext(void 0);hp.displayName="FrameworkContext";function By(){let f=X.useContext(hp);return fp(f,"You must render this element inside a <HydratedRouter> element"),f}function Db(f,h){let m=X.useContext(hp),[p,A]=X.useState(!1),[w,C]=X.useState(!1),{onFocus:B,onBlur:S,onMouseEnter:T,onMouseLeave:_,onTouchStart:N}=h,F=X.useRef(null);X.useEffect(()=>{if(f==="render"&&C(!0),f==="viewport"){let ie=ne=>{ne.forEach(pe=>{C(pe.isIntersecting)})},H=new IntersectionObserver(ie,{threshold:.5});return F.current&&H.observe(F.current),()=>{H.disconnect()}}},[f]),X.useEffect(()=>{if(p){let ie=setTimeout(()=>{C(!0)},100);return()=>{clearTimeout(ie)}}},[p]);let ee=()=>{A(!0)},j=()=>{A(!1),C(!1)};return m?f!=="intent"?[w,F,{}]:[w,F,{onFocus:ih(B,ee),onBlur:ih(S,j),onMouseEnter:ih(T,ee),onMouseLeave:ih(_,j),onTouchStart:ih(N,ee)}]:[!1,F,{}]}function ih(f,h){return m=>{f&&f(m),m.defaultPrevented||h(m)}}function Ob({page:f,...h}){let{router:m}=Vy(),p=X.useMemo(()=>Sy(m.routes,f,m.basename),[m.routes,f,m.basename]);return p?X.createElement(Bb,{page:f,matches:p,...h}):null}function Vb(f){let{manifest:h,routeModules:m}=By(),[p,A]=X.useState([]);return X.useEffect(()=>{let w=!1;return Rb(f,h,m).then(C=>{w||A(C)}),()=>{w=!0}},[f,h,m]),p}function Bb({page:f,matches:h,...m}){let p=Io(),{manifest:A,routeModules:w}=By(),{basename:C}=Vy(),{loaderData:B,matches:S}=xb(),T=X.useMemo(()=>Pp(f,h,S,A,p,"data"),[f,h,S,A,p]),_=X.useMemo(()=>Pp(f,h,S,A,p,"assets"),[f,h,S,A,p]),N=X.useMemo(()=>{if(f===p.pathname+p.search+p.hash)return[];let j=new Set,ie=!1;if(h.forEach(ne=>{var se;let pe=A.routes[ne.route.id];!pe||!pe.hasLoader||(!T.some(Ne=>Ne.route.id===ne.route.id)&&ne.route.id in B&&((se=w[ne.route.id])!=null&&se.shouldRevalidate)||pe.hasClientLoader?ie=!0:j.add(ne.route.id))}),j.size===0)return[];let H=Ib(f,C);return ie&&j.size>0&&H.searchParams.set("_routes",h.filter(ne=>j.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[H.pathname+H.search]},[C,B,p,A,T,h,f,w]),F=X.useMemo(()=>wb(_,A),[_,A]),ee=Vb(_);return X.createElement(X.Fragment,null,N.map(j=>X.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...m})),F.map(j=>X.createElement("link",{key:j,rel:"modulepreload",href:j,...m})),ee.map(({key:j,link:ie})=>X.createElement("link",{key:j,...ie})))}function Ub(...f){return h=>{f.forEach(m=>{typeof m=="function"?m(h):m!=null&&(m.current=h)})}}var Uy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uy&&(window.__reactRouterVersion="7.5.0")}catch{}function Lb({basename:f,children:h,window:m}){let p=X.useRef();p.current==null&&(p.current=Ev({window:m,v5Compat:!0}));let A=p.current,[w,C]=X.useState({action:A.action,location:A.location}),B=X.useCallback(S=>{X.startTransition(()=>C(S))},[C]);return X.useLayoutEffect(()=>A.listen(B),[A,B]),X.createElement(fb,{basename:f,children:h,location:w.location,navigationType:w.action,navigator:A})}var Ly=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,My=X.forwardRef(function({onClick:h,discover:m="render",prefetch:p="none",relative:A,reloadDocument:w,replace:C,state:B,target:S,to:T,preventScrollReset:_,viewTransition:N,...F},ee){let{basename:j}=X.useContext(Ha),ie=typeof T=="string"&&Ly.test(T),H,ne=!1;if(typeof T=="string"&&ie&&(H=T,Uy))try{let Ce=new URL(window.location.href),Ke=T.startsWith("//")?new URL(Ce.protocol+T):new URL(T),bt=Rs(Ke.pathname,j);Ke.origin===Ce.origin&&bt!=null?T=bt+Ke.search+Ke.hash:ne=!0}catch{ja(!1,`<Link to="${T}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let pe=Jv(T,{relative:A}),[se,Ne,le]=Db(p,F),Ye=Zb(T,{replace:C,state:B,target:S,preventScrollReset:_,relative:A,viewTransition:N});function at(Ce){h&&h(Ce),Ce.defaultPrevented||Ye(Ce)}let Me=X.createElement("a",{...F,...le,href:H||pe,onClick:ne||w?h:at,ref:Ub(ee,Ne),target:S,"data-discover":!ie&&m==="render"?"true":void 0});return se&&!ie?X.createElement(X.Fragment,null,Me,X.createElement(Ob,{page:pe})):Me});My.displayName="Link";var Mb=X.forwardRef(function({"aria-current":h="page",caseSensitive:m=!1,className:p="",end:A=!1,style:w,to:C,viewTransition:B,children:S,...T},_){let N=ph(C,{relative:T.relative}),F=Io(),ee=X.useContext(Vg),{navigator:j,basename:ie}=X.useContext(Ha),H=ee!=null&&Kb(N)&&B===!0,ne=j.encodeLocation?j.encodeLocation(N).pathname:N.pathname,pe=F.pathname,se=ee&&ee.navigation&&ee.navigation.location?ee.navigation.location.pathname:null;m||(pe=pe.toLowerCase(),se=se?se.toLowerCase():null,ne=ne.toLowerCase()),se&&ie&&(se=Rs(se,ie)||se);const Ne=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let le=pe===ne||!A&&pe.startsWith(ne)&&pe.charAt(Ne)==="/",Ye=se!=null&&(se===ne||!A&&se.startsWith(ne)&&se.charAt(ne.length)==="/"),at={isActive:le,isPending:Ye,isTransitioning:H},Me=le?h:void 0,Ce;typeof p=="function"?Ce=p(at):Ce=[p,le?"active":null,Ye?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let Ke=typeof w=="function"?w(at):w;return X.createElement(My,{...T,"aria-current":Me,className:Ce,ref:_,style:Ke,to:C,viewTransition:B},typeof S=="function"?S(at):S)});Mb.displayName="NavLink";var _b=X.forwardRef(({discover:f="render",fetcherKey:h,navigate:m,reloadDocument:p,replace:A,state:w,method:C=Cg,action:B,onSubmit:S,relative:T,preventScrollReset:_,viewTransition:N,...F},ee)=>{let j=kb(),ie=Wb(B,{relative:T}),H=C.toLowerCase()==="get"?"get":"post",ne=typeof B=="string"&&Ly.test(B),pe=se=>{if(S&&S(se),se.defaultPrevented)return;se.preventDefault();let Ne=se.nativeEvent.submitter,le=(Ne==null?void 0:Ne.getAttribute("formmethod"))||C;j(Ne||se.currentTarget,{fetcherKey:h,method:le,navigate:m,replace:A,state:w,relative:T,preventScrollReset:_,viewTransition:N})};return X.createElement("form",{ref:ee,method:H,action:ie,onSubmit:p?S:pe,...F,"data-discover":!ne&&f==="render"?"true":void 0})});_b.displayName="Form";function Yb(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _y(f){let h=X.useContext(oc);return zt(h,Yb(f)),h}function Zb(f,{target:h,replace:m,state:p,preventScrollReset:A,relative:w,viewTransition:C}={}){let B=Cy(),S=Io(),T=ph(f,{relative:w});return X.useCallback(_=>{if(yb(_,h)){_.preventDefault();let N=m!==void 0?m:lh(S)===lh(T);B(f,{replace:N,state:p,preventScrollReset:A,relative:w,viewTransition:C})}},[S,B,T,m,p,h,f,A,w,C])}var Gb=0,zb=()=>`__${String(++Gb)}__`;function kb(){let{router:f}=_y("useSubmit"),{basename:h}=X.useContext(Ha),m=ob();return X.useCallback(async(p,A={})=>{let{action:w,method:C,encType:B,formData:S,body:T}=Sb(p,h);if(A.navigate===!1){let _=A.fetcherKey||zb();await f.fetch(_,m,A.action||w,{preventScrollReset:A.preventScrollReset,formData:S,body:T,formMethod:A.method||C,formEncType:A.encType||B,flushSync:A.flushSync})}else await f.navigate(A.action||w,{preventScrollReset:A.preventScrollReset,formData:S,body:T,formMethod:A.method||C,formEncType:A.encType||B,replace:A.replace,state:A.state,fromRouteId:m,flushSync:A.flushSync,viewTransition:A.viewTransition})},[f,h,m])}function Wb(f,{relative:h}={}){let{basename:m}=X.useContext(Ha),p=X.useContext(ua);zt(p,"useFormAction must be used inside a RouteContext");let[A]=p.matches.slice(-1),w={...ph(f||".",{relative:h})},C=Io();if(f==null){w.search=C.search;let B=new URLSearchParams(w.search),S=B.getAll("index");if(S.some(_=>_==="")){B.delete("index"),S.filter(N=>N).forEach(N=>B.append("index",N));let _=B.toString();w.search=_?`?${_}`:""}}return(!f||f===".")&&A.route.index&&(w.search=w.search?w.search.replace(/^\?/,"?index&"):"?index"),m!=="/"&&(w.pathname=w.pathname==="/"?m:Es([m,w.pathname])),lh(w)}function Kb(f,h={}){let m=X.useContext(wy);zt(m!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:p}=_y("useViewTransitionState"),A=ph(f,{relative:h.relative});if(!m.isTransitioning)return!1;let w=Rs(m.currentLocation.pathname,p)||m.currentLocation.pathname,C=Rs(m.nextLocation.pathname,p)||m.nextLocation.pathname;return xg(A.pathname,C)!=null||xg(A.pathname,w)!=null}new TextEncoder;var Xb=by();const Pb=yy(Xb);var yh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(f){return this.listeners.add(f),this.onSubscribe(),()=>{this.listeners.delete(f),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ol=typeof window>"u"||"Deno"in globalThis;function la(){}function Fb(f,h){return typeof f=="function"?f(h):f}function Pm(f){return typeof f=="number"&&f>=0&&f!==1/0}function Yy(f,h){return Math.max(f+(h||0)-Date.now(),0)}function Pu(f,h){return typeof f=="function"?f(h):f}function Ja(f,h){return typeof f=="function"?f(h):f}function Fp(f,h){const{type:m="all",exact:p,fetchStatus:A,predicate:w,queryKey:C,stale:B}=f;if(C){if(p){if(h.queryHash!==dp(C,h.options))return!1}else if(!ch(h.queryKey,C))return!1}if(m!=="all"){const S=h.isActive();if(m==="active"&&!S||m==="inactive"&&S)return!1}return!(typeof B=="boolean"&&h.isStale()!==B||A&&A!==h.state.fetchStatus||w&&!w(h))}function Jp(f,h){const{exact:m,status:p,predicate:A,mutationKey:w}=f;if(w){if(!h.options.mutationKey)return!1;if(m){if(uh(h.options.mutationKey)!==uh(w))return!1}else if(!ch(h.options.mutationKey,w))return!1}return!(p&&h.state.status!==p||A&&!A(h))}function dp(f,h){return((h==null?void 0:h.queryKeyHashFn)||uh)(f)}function uh(f){return JSON.stringify(f,(h,m)=>Jm(m)?Object.keys(m).sort().reduce((p,A)=>(p[A]=m[A],p),{}):m)}function ch(f,h){return f===h?!0:typeof f!=typeof h?!1:f&&h&&typeof f=="object"&&typeof h=="object"?Object.keys(h).every(m=>ch(f[m],h[m])):!1}function Zy(f,h){if(f===h)return f;const m=jp(f)&&jp(h);if(m||Jm(f)&&Jm(h)){const p=m?f:Object.keys(f),A=p.length,w=m?h:Object.keys(h),C=w.length,B=m?[]:{};let S=0;for(let T=0;T<C;T++){const _=m?T:w[T];(!m&&p.includes(_)||m)&&f[_]===void 0&&h[_]===void 0?(B[_]=void 0,S++):(B[_]=Zy(f[_],h[_]),B[_]===f[_]&&f[_]!==void 0&&S++)}return A===C&&S===A?f:B}return h}function Fm(f,h){if(!h||Object.keys(f).length!==Object.keys(h).length)return!1;for(const m in f)if(f[m]!==h[m])return!1;return!0}function jp(f){return Array.isArray(f)&&f.length===Object.keys(f).length}function Jm(f){if(!Hp(f))return!1;const h=f.constructor;if(h===void 0)return!0;const m=h.prototype;return!(!Hp(m)||!m.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(f)!==Object.prototype)}function Hp(f){return Object.prototype.toString.call(f)==="[object Object]"}function Jb(f){return new Promise(h=>{setTimeout(h,f)})}function jm(f,h,m){return typeof m.structuralSharing=="function"?m.structuralSharing(f,h):m.structuralSharing!==!1?Zy(f,h):h}function jb(f,h,m=0){const p=[...f,h];return m&&p.length>m?p.slice(1):p}function Hb(f,h,m=0){const p=[h,...f];return m&&p.length>m?p.slice(0,-1):p}var gp=Symbol();function Gy(f,h){return!f.queryFn&&(h!=null&&h.initialPromise)?()=>h.initialPromise:!f.queryFn||f.queryFn===gp?()=>Promise.reject(new Error(`Missing queryFn: '${f.queryHash}'`)):f.queryFn}var Rl,So,Fu,ly,$b=(ly=class extends yh{constructor(){super();Ue(this,Rl);Ue(this,So);Ue(this,Fu);Ae(this,Fu,h=>{if(!Ol&&window.addEventListener){const m=()=>h();return window.addEventListener("visibilitychange",m,!1),()=>{window.removeEventListener("visibilitychange",m)}}})}onSubscribe(){M(this,So)||this.setEventListener(M(this,Fu))}onUnsubscribe(){var h;this.hasListeners()||((h=M(this,So))==null||h.call(this),Ae(this,So,void 0))}setEventListener(h){var m;Ae(this,Fu,h),(m=M(this,So))==null||m.call(this),Ae(this,So,h(p=>{typeof p=="boolean"?this.setFocused(p):this.onFocus()}))}setFocused(h){M(this,Rl)!==h&&(Ae(this,Rl,h),this.onFocus())}onFocus(){const h=this.isFocused();this.listeners.forEach(m=>{m(h)})}isFocused(){var h;return typeof M(this,Rl)=="boolean"?M(this,Rl):((h=globalThis.document)==null?void 0:h.visibilityState)!=="hidden"}},Rl=new WeakMap,So=new WeakMap,Fu=new WeakMap,ly),mp=new $b,Ju,Ao,ju,uy,Qb=(uy=class extends yh{constructor(){super();Ue(this,Ju,!0);Ue(this,Ao);Ue(this,ju);Ae(this,ju,h=>{if(!Ol&&window.addEventListener){const m=()=>h(!0),p=()=>h(!1);return window.addEventListener("online",m,!1),window.addEventListener("offline",p,!1),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",p)}}})}onSubscribe(){M(this,Ao)||this.setEventListener(M(this,ju))}onUnsubscribe(){var h;this.hasListeners()||((h=M(this,Ao))==null||h.call(this),Ae(this,Ao,void 0))}setEventListener(h){var m;Ae(this,ju,h),(m=M(this,Ao))==null||m.call(this),Ae(this,Ao,h(this.setOnline.bind(this)))}setOnline(h){M(this,Ju)!==h&&(Ae(this,Ju,h),this.listeners.forEach(p=>{p(h)}))}isOnline(){return M(this,Ju)}},Ju=new WeakMap,Ao=new WeakMap,ju=new WeakMap,uy),Dg=new Qb;function Hm(){let f,h;const m=new Promise((A,w)=>{f=A,h=w});m.status="pending",m.catch(()=>{});function p(A){Object.assign(m,A),delete m.resolve,delete m.reject}return m.resolve=A=>{p({status:"fulfilled",value:A}),f(A)},m.reject=A=>{p({status:"rejected",reason:A}),h(A)},m}function qb(f){return Math.min(1e3*2**f,3e4)}function zy(f){return(f??"online")==="online"?Dg.isOnline():!0}var ky=class extends Error{constructor(f){super("CancelledError"),this.revert=f==null?void 0:f.revert,this.silent=f==null?void 0:f.silent}};function Wm(f){return f instanceof ky}function Wy(f){let h=!1,m=0,p=!1,A;const w=Hm(),C=ie=>{var H;p||(F(new ky(ie)),(H=f.abort)==null||H.call(f))},B=()=>{h=!0},S=()=>{h=!1},T=()=>mp.isFocused()&&(f.networkMode==="always"||Dg.isOnline())&&f.canRun(),_=()=>zy(f.networkMode)&&f.canRun(),N=ie=>{var H;p||(p=!0,(H=f.onSuccess)==null||H.call(f,ie),A==null||A(),w.resolve(ie))},F=ie=>{var H;p||(p=!0,(H=f.onError)==null||H.call(f,ie),A==null||A(),w.reject(ie))},ee=()=>new Promise(ie=>{var H;A=ne=>{(p||T())&&ie(ne)},(H=f.onPause)==null||H.call(f)}).then(()=>{var ie;A=void 0,p||(ie=f.onContinue)==null||ie.call(f)}),j=()=>{if(p)return;let ie;const H=m===0?f.initialPromise:void 0;try{ie=H??f.fn()}catch(ne){ie=Promise.reject(ne)}Promise.resolve(ie).then(N).catch(ne=>{var Ye;if(p)return;const pe=f.retry??(Ol?0:3),se=f.retryDelay??qb,Ne=typeof se=="function"?se(m,ne):se,le=pe===!0||typeof pe=="number"&&m<pe||typeof pe=="function"&&pe(m,ne);if(h||!le){F(ne);return}m++,(Ye=f.onFail)==null||Ye.call(f,m,ne),Jb(Ne).then(()=>T()?void 0:ee()).then(()=>{h?F(ne):j()})})};return{promise:w,cancel:C,continue:()=>(A==null||A(),w),cancelRetry:B,continueRetry:S,canStart:_,start:()=>(_()?j():ee().then(j),w)}}var e0=f=>setTimeout(f,0);function t0(){let f=[],h=0,m=B=>{B()},p=B=>{B()},A=e0;const w=B=>{h?f.push(B):A(()=>{m(B)})},C=()=>{const B=f;f=[],B.length&&A(()=>{p(()=>{B.forEach(S=>{m(S)})})})};return{batch:B=>{let S;h++;try{S=B()}finally{h--,h||C()}return S},batchCalls:B=>(...S)=>{w(()=>{B(...S)})},schedule:w,setNotifyFunction:B=>{m=B},setBatchNotifyFunction:B=>{p=B},setScheduler:B=>{A=B}}}var _n=t0(),wl,cy,Ky=(cy=class{constructor(){Ue(this,wl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pm(this.gcTime)&&Ae(this,wl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(f){this.gcTime=Math.max(this.gcTime||0,f??(Ol?1/0:5*60*1e3))}clearGcTimeout(){M(this,wl)&&(clearTimeout(M(this,wl)),Ae(this,wl,void 0))}},wl=new WeakMap,cy),Hu,$u,oa,Tl,$n,fh,Nl,Pa,Ss,fy,n0=(fy=class extends Ky{constructor(h){super();Ue(this,Pa);Ue(this,Hu);Ue(this,$u);Ue(this,oa);Ue(this,Tl);Ue(this,$n);Ue(this,fh);Ue(this,Nl);Ae(this,Nl,!1),Ae(this,fh,h.defaultOptions),this.setOptions(h.options),this.observers=[],Ae(this,Tl,h.client),Ae(this,oa,M(this,Tl).getQueryCache()),this.queryKey=h.queryKey,this.queryHash=h.queryHash,Ae(this,Hu,r0(this.options)),this.state=h.state??M(this,Hu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var h;return(h=M(this,$n))==null?void 0:h.promise}setOptions(h){this.options={...M(this,fh),...h},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,oa).remove(this)}setData(h,m){const p=jm(this.state.data,h,this.options);return st(this,Pa,Ss).call(this,{data:p,type:"success",dataUpdatedAt:m==null?void 0:m.updatedAt,manual:m==null?void 0:m.manual}),p}setState(h,m){st(this,Pa,Ss).call(this,{type:"setState",state:h,setStateOptions:m})}cancel(h){var p,A;const m=(p=M(this,$n))==null?void 0:p.promise;return(A=M(this,$n))==null||A.cancel(h),m?m.then(la).catch(la):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Hu))}isActive(){return this.observers.some(h=>Ja(h.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(h=>h.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(h=0){return this.state.isInvalidated||this.state.data===void 0||!Yy(this.state.dataUpdatedAt,h)}onFocus(){var m;const h=this.observers.find(p=>p.shouldFetchOnWindowFocus());h==null||h.refetch({cancelRefetch:!1}),(m=M(this,$n))==null||m.continue()}onOnline(){var m;const h=this.observers.find(p=>p.shouldFetchOnReconnect());h==null||h.refetch({cancelRefetch:!1}),(m=M(this,$n))==null||m.continue()}addObserver(h){this.observers.includes(h)||(this.observers.push(h),this.clearGcTimeout(),M(this,oa).notify({type:"observerAdded",query:this,observer:h}))}removeObserver(h){this.observers.includes(h)&&(this.observers=this.observers.filter(m=>m!==h),this.observers.length||(M(this,$n)&&(M(this,Nl)?M(this,$n).cancel({revert:!0}):M(this,$n).cancelRetry()),this.scheduleGc()),M(this,oa).notify({type:"observerRemoved",query:this,observer:h}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,Pa,Ss).call(this,{type:"invalidate"})}fetch(h,m){var S,T,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(m!=null&&m.cancelRefetch))this.cancel({silent:!0});else if(M(this,$n))return M(this,$n).continueRetry(),M(this,$n).promise}if(h&&this.setOptions(h),!this.options.queryFn){const N=this.observers.find(F=>F.options.queryFn);N&&this.setOptions(N.options)}const p=new AbortController,A=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Ae(this,Nl,!0),p.signal)})},w=()=>{const N=Gy(this.options,m),F={client:M(this,Tl),queryKey:this.queryKey,meta:this.meta};return A(F),Ae(this,Nl,!1),this.options.persister?this.options.persister(N,F,this):N(F)},C={fetchOptions:m,options:this.options,queryKey:this.queryKey,client:M(this,Tl),state:this.state,fetchFn:w};A(C),(S=this.options.behavior)==null||S.onFetch(C,this),Ae(this,$u,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((T=C.fetchOptions)==null?void 0:T.meta))&&st(this,Pa,Ss).call(this,{type:"fetch",meta:(_=C.fetchOptions)==null?void 0:_.meta});const B=N=>{var F,ee,j,ie;Wm(N)&&N.silent||st(this,Pa,Ss).call(this,{type:"error",error:N}),Wm(N)||((ee=(F=M(this,oa).config).onError)==null||ee.call(F,N,this),(ie=(j=M(this,oa).config).onSettled)==null||ie.call(j,this.state.data,N,this)),this.scheduleGc()};return Ae(this,$n,Wy({initialPromise:m==null?void 0:m.initialPromise,fn:C.fetchFn,abort:p.abort.bind(p),onSuccess:N=>{var F,ee,j,ie;if(N===void 0){B(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(N)}catch(H){B(H);return}(ee=(F=M(this,oa).config).onSuccess)==null||ee.call(F,N,this),(ie=(j=M(this,oa).config).onSettled)==null||ie.call(j,N,this.state.error,this),this.scheduleGc()},onError:B,onFail:(N,F)=>{st(this,Pa,Ss).call(this,{type:"failed",failureCount:N,error:F})},onPause:()=>{st(this,Pa,Ss).call(this,{type:"pause"})},onContinue:()=>{st(this,Pa,Ss).call(this,{type:"continue"})},retry:C.options.retry,retryDelay:C.options.retryDelay,networkMode:C.options.networkMode,canRun:()=>!0})),M(this,$n).start()}},Hu=new WeakMap,$u=new WeakMap,oa=new WeakMap,Tl=new WeakMap,$n=new WeakMap,fh=new WeakMap,Nl=new WeakMap,Pa=new WeakSet,Ss=function(h){const m=p=>{switch(h.type){case"failed":return{...p,fetchFailureCount:h.failureCount,fetchFailureReason:h.error};case"pause":return{...p,fetchStatus:"paused"};case"continue":return{...p,fetchStatus:"fetching"};case"fetch":return{...p,...Xy(p.data,this.options),fetchMeta:h.meta??null};case"success":return{...p,data:h.data,dataUpdateCount:p.dataUpdateCount+1,dataUpdatedAt:h.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!h.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const A=h.error;return Wm(A)&&A.revert&&M(this,$u)?{...M(this,$u),fetchStatus:"idle"}:{...p,error:A,errorUpdateCount:p.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:p.fetchFailureCount+1,fetchFailureReason:A,fetchStatus:"idle",status:"error"};case"invalidate":return{...p,isInvalidated:!0};case"setState":return{...p,...h.state}}};this.state=m(this.state),_n.batch(()=>{this.observers.forEach(p=>{p.onQueryUpdate()}),M(this,oa).notify({query:this,type:"updated",action:h})})},fy);function Xy(f,h){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zy(h.networkMode)?"fetching":"paused",...f===void 0&&{error:null,status:"pending"}}}function r0(f){const h=typeof f.initialData=="function"?f.initialData():f.initialData,m=h!==void 0,p=m?typeof f.initialDataUpdatedAt=="function"?f.initialDataUpdatedAt():f.initialDataUpdatedAt:0;return{data:h,dataUpdateCount:0,dataUpdatedAt:m?p??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:m?"success":"pending",fetchStatus:"idle"}}var Mi,hy,a0=(hy=class extends yh{constructor(h={}){super();Ue(this,Mi);this.config=h,Ae(this,Mi,new Map)}build(h,m,p){const A=m.queryKey,w=m.queryHash??dp(A,m);let C=this.get(w);return C||(C=new n0({client:h,queryKey:A,queryHash:w,options:h.defaultQueryOptions(m),state:p,defaultOptions:h.getQueryDefaults(A)}),this.add(C)),C}add(h){M(this,Mi).has(h.queryHash)||(M(this,Mi).set(h.queryHash,h),this.notify({type:"added",query:h}))}remove(h){const m=M(this,Mi).get(h.queryHash);m&&(h.destroy(),m===h&&M(this,Mi).delete(h.queryHash),this.notify({type:"removed",query:h}))}clear(){_n.batch(()=>{this.getAll().forEach(h=>{this.remove(h)})})}get(h){return M(this,Mi).get(h)}getAll(){return[...M(this,Mi).values()]}find(h){const m={exact:!0,...h};return this.getAll().find(p=>Fp(m,p))}findAll(h={}){const m=this.getAll();return Object.keys(h).length>0?m.filter(p=>Fp(h,p)):m}notify(h){_n.batch(()=>{this.listeners.forEach(m=>{m(h)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(h=>{h.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(h=>{h.onOnline()})})}},Mi=new WeakMap,hy),_i,ir,Cl,Yi,bo,dy,i0=(dy=class extends Ky{constructor(h){super();Ue(this,Yi);Ue(this,_i);Ue(this,ir);Ue(this,Cl);this.mutationId=h.mutationId,Ae(this,ir,h.mutationCache),Ae(this,_i,[]),this.state=h.state||s0(),this.setOptions(h.options),this.scheduleGc()}setOptions(h){this.options=h,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(h){M(this,_i).includes(h)||(M(this,_i).push(h),this.clearGcTimeout(),M(this,ir).notify({type:"observerAdded",mutation:this,observer:h}))}removeObserver(h){Ae(this,_i,M(this,_i).filter(m=>m!==h)),this.scheduleGc(),M(this,ir).notify({type:"observerRemoved",mutation:this,observer:h})}optionalRemove(){M(this,_i).length||(this.state.status==="pending"?this.scheduleGc():M(this,ir).remove(this))}continue(){var h;return((h=M(this,Cl))==null?void 0:h.continue())??this.execute(this.state.variables)}async execute(h){var w,C,B,S,T,_,N,F,ee,j,ie,H,ne,pe,se,Ne,le,Ye,at,Me;const m=()=>{st(this,Yi,bo).call(this,{type:"continue"})};Ae(this,Cl,Wy({fn:()=>this.options.mutationFn?this.options.mutationFn(h):Promise.reject(new Error("No mutationFn found")),onFail:(Ce,Ke)=>{st(this,Yi,bo).call(this,{type:"failed",failureCount:Ce,error:Ke})},onPause:()=>{st(this,Yi,bo).call(this,{type:"pause"})},onContinue:m,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,ir).canRun(this)}));const p=this.state.status==="pending",A=!M(this,Cl).canStart();try{if(p)m();else{st(this,Yi,bo).call(this,{type:"pending",variables:h,isPaused:A}),await((C=(w=M(this,ir).config).onMutate)==null?void 0:C.call(w,h,this));const Ke=await((S=(B=this.options).onMutate)==null?void 0:S.call(B,h));Ke!==this.state.context&&st(this,Yi,bo).call(this,{type:"pending",context:Ke,variables:h,isPaused:A})}const Ce=await M(this,Cl).start();return await((_=(T=M(this,ir).config).onSuccess)==null?void 0:_.call(T,Ce,h,this.state.context,this)),await((F=(N=this.options).onSuccess)==null?void 0:F.call(N,Ce,h,this.state.context)),await((j=(ee=M(this,ir).config).onSettled)==null?void 0:j.call(ee,Ce,null,this.state.variables,this.state.context,this)),await((H=(ie=this.options).onSettled)==null?void 0:H.call(ie,Ce,null,h,this.state.context)),st(this,Yi,bo).call(this,{type:"success",data:Ce}),Ce}catch(Ce){try{throw await((pe=(ne=M(this,ir).config).onError)==null?void 0:pe.call(ne,Ce,h,this.state.context,this)),await((Ne=(se=this.options).onError)==null?void 0:Ne.call(se,Ce,h,this.state.context)),await((Ye=(le=M(this,ir).config).onSettled)==null?void 0:Ye.call(le,void 0,Ce,this.state.variables,this.state.context,this)),await((Me=(at=this.options).onSettled)==null?void 0:Me.call(at,void 0,Ce,h,this.state.context)),Ce}finally{st(this,Yi,bo).call(this,{type:"error",error:Ce})}}finally{M(this,ir).runNext(this)}}},_i=new WeakMap,ir=new WeakMap,Cl=new WeakMap,Yi=new WeakSet,bo=function(h){const m=p=>{switch(h.type){case"failed":return{...p,failureCount:h.failureCount,failureReason:h.error};case"pause":return{...p,isPaused:!0};case"continue":return{...p,isPaused:!1};case"pending":return{...p,context:h.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:h.isPaused,status:"pending",variables:h.variables,submittedAt:Date.now()};case"success":return{...p,data:h.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...p,data:void 0,error:h.error,failureCount:p.failureCount+1,failureReason:h.error,isPaused:!1,status:"error"}}};this.state=m(this.state),_n.batch(()=>{M(this,_i).forEach(p=>{p.onMutationUpdate(h)}),M(this,ir).notify({mutation:this,type:"updated",action:h})})},dy);function s0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var As,Fa,hh,gy,o0=(gy=class extends yh{constructor(h={}){super();Ue(this,As);Ue(this,Fa);Ue(this,hh);this.config=h,Ae(this,As,new Set),Ae(this,Fa,new Map),Ae(this,hh,0)}build(h,m,p){const A=new i0({mutationCache:this,mutationId:++Rg(this,hh)._,options:h.defaultMutationOptions(m),state:p});return this.add(A),A}add(h){M(this,As).add(h);const m=Tg(h);if(typeof m=="string"){const p=M(this,Fa).get(m);p?p.push(h):M(this,Fa).set(m,[h])}this.notify({type:"added",mutation:h})}remove(h){if(M(this,As).delete(h)){const m=Tg(h);if(typeof m=="string"){const p=M(this,Fa).get(m);if(p)if(p.length>1){const A=p.indexOf(h);A!==-1&&p.splice(A,1)}else p[0]===h&&M(this,Fa).delete(m)}}this.notify({type:"removed",mutation:h})}canRun(h){const m=Tg(h);if(typeof m=="string"){const p=M(this,Fa).get(m),A=p==null?void 0:p.find(w=>w.state.status==="pending");return!A||A===h}else return!0}runNext(h){var p;const m=Tg(h);if(typeof m=="string"){const A=(p=M(this,Fa).get(m))==null?void 0:p.find(w=>w!==h&&w.state.isPaused);return(A==null?void 0:A.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_n.batch(()=>{M(this,As).forEach(h=>{this.notify({type:"removed",mutation:h})}),M(this,As).clear(),M(this,Fa).clear()})}getAll(){return Array.from(M(this,As))}find(h){const m={exact:!0,...h};return this.getAll().find(p=>Jp(m,p))}findAll(h={}){return this.getAll().filter(m=>Jp(h,m))}notify(h){_n.batch(()=>{this.listeners.forEach(m=>{m(h)})})}resumePausedMutations(){const h=this.getAll().filter(m=>m.state.isPaused);return _n.batch(()=>Promise.all(h.map(m=>m.continue().catch(la))))}},As=new WeakMap,Fa=new WeakMap,hh=new WeakMap,gy);function Tg(f){var h;return(h=f.options.scope)==null?void 0:h.id}function $p(f){return{onFetch:(h,m)=>{var _,N,F,ee,j;const p=h.options,A=(F=(N=(_=h.fetchOptions)==null?void 0:_.meta)==null?void 0:N.fetchMore)==null?void 0:F.direction,w=((ee=h.state.data)==null?void 0:ee.pages)||[],C=((j=h.state.data)==null?void 0:j.pageParams)||[];let B={pages:[],pageParams:[]},S=0;const T=async()=>{let ie=!1;const H=se=>{Object.defineProperty(se,"signal",{enumerable:!0,get:()=>(h.signal.aborted?ie=!0:h.signal.addEventListener("abort",()=>{ie=!0}),h.signal)})},ne=Gy(h.options,h.fetchOptions),pe=async(se,Ne,le)=>{if(ie)return Promise.reject();if(Ne==null&&se.pages.length)return Promise.resolve(se);const Ye={client:h.client,queryKey:h.queryKey,pageParam:Ne,direction:le?"backward":"forward",meta:h.options.meta};H(Ye);const at=await ne(Ye),{maxPages:Me}=h.options,Ce=le?Hb:jb;return{pages:Ce(se.pages,at,Me),pageParams:Ce(se.pageParams,Ne,Me)}};if(A&&w.length){const se=A==="backward",Ne=se?l0:Qp,le={pages:w,pageParams:C},Ye=Ne(p,le);B=await pe(le,Ye,se)}else{const se=f??w.length;do{const Ne=S===0?C[0]??p.initialPageParam:Qp(p,B);if(S>0&&Ne==null)break;B=await pe(B,Ne),S++}while(S<se)}return B};h.options.persister?h.fetchFn=()=>{var ie,H;return(H=(ie=h.options).persister)==null?void 0:H.call(ie,T,{client:h.client,queryKey:h.queryKey,meta:h.options.meta,signal:h.signal},m)}:h.fetchFn=T}}}function Qp(f,{pages:h,pageParams:m}){const p=h.length-1;return h.length>0?f.getNextPageParam(h[p],h,m[p],m):void 0}function l0(f,{pages:h,pageParams:m}){var p;return h.length>0?(p=f.getPreviousPageParam)==null?void 0:p.call(f,h[0],h,m[0],m):void 0}var Ht,Eo,Ro,Qu,qu,wo,ec,tc,my,u0=(my=class{constructor(f={}){Ue(this,Ht);Ue(this,Eo);Ue(this,Ro);Ue(this,Qu);Ue(this,qu);Ue(this,wo);Ue(this,ec);Ue(this,tc);Ae(this,Ht,f.queryCache||new a0),Ae(this,Eo,f.mutationCache||new o0),Ae(this,Ro,f.defaultOptions||{}),Ae(this,Qu,new Map),Ae(this,qu,new Map),Ae(this,wo,0)}mount(){Rg(this,wo)._++,M(this,wo)===1&&(Ae(this,ec,mp.subscribe(async f=>{f&&(await this.resumePausedMutations(),M(this,Ht).onFocus())})),Ae(this,tc,Dg.subscribe(async f=>{f&&(await this.resumePausedMutations(),M(this,Ht).onOnline())})))}unmount(){var f,h;Rg(this,wo)._--,M(this,wo)===0&&((f=M(this,ec))==null||f.call(this),Ae(this,ec,void 0),(h=M(this,tc))==null||h.call(this),Ae(this,tc,void 0))}isFetching(f){return M(this,Ht).findAll({...f,fetchStatus:"fetching"}).length}isMutating(f){return M(this,Eo).findAll({...f,status:"pending"}).length}getQueryData(f){var m;const h=this.defaultQueryOptions({queryKey:f});return(m=M(this,Ht).get(h.queryHash))==null?void 0:m.state.data}ensureQueryData(f){const h=this.defaultQueryOptions(f),m=M(this,Ht).build(this,h),p=m.state.data;return p===void 0?this.fetchQuery(f):(f.revalidateIfStale&&m.isStaleByTime(Pu(h.staleTime,m))&&this.prefetchQuery(h),Promise.resolve(p))}getQueriesData(f){return M(this,Ht).findAll(f).map(({queryKey:h,state:m})=>{const p=m.data;return[h,p]})}setQueryData(f,h,m){const p=this.defaultQueryOptions({queryKey:f}),A=M(this,Ht).get(p.queryHash),w=A==null?void 0:A.state.data,C=Fb(h,w);if(C!==void 0)return M(this,Ht).build(this,p).setData(C,{...m,manual:!0})}setQueriesData(f,h,m){return _n.batch(()=>M(this,Ht).findAll(f).map(({queryKey:p})=>[p,this.setQueryData(p,h,m)]))}getQueryState(f){var m;const h=this.defaultQueryOptions({queryKey:f});return(m=M(this,Ht).get(h.queryHash))==null?void 0:m.state}removeQueries(f){const h=M(this,Ht);_n.batch(()=>{h.findAll(f).forEach(m=>{h.remove(m)})})}resetQueries(f,h){const m=M(this,Ht);return _n.batch(()=>(m.findAll(f).forEach(p=>{p.reset()}),this.refetchQueries({type:"active",...f},h)))}cancelQueries(f,h={}){const m={revert:!0,...h},p=_n.batch(()=>M(this,Ht).findAll(f).map(A=>A.cancel(m)));return Promise.all(p).then(la).catch(la)}invalidateQueries(f,h={}){return _n.batch(()=>(M(this,Ht).findAll(f).forEach(m=>{m.invalidate()}),(f==null?void 0:f.refetchType)==="none"?Promise.resolve():this.refetchQueries({...f,type:(f==null?void 0:f.refetchType)??(f==null?void 0:f.type)??"active"},h)))}refetchQueries(f,h={}){const m={...h,cancelRefetch:h.cancelRefetch??!0},p=_n.batch(()=>M(this,Ht).findAll(f).filter(A=>!A.isDisabled()).map(A=>{let w=A.fetch(void 0,m);return m.throwOnError||(w=w.catch(la)),A.state.fetchStatus==="paused"?Promise.resolve():w}));return Promise.all(p).then(la)}fetchQuery(f){const h=this.defaultQueryOptions(f);h.retry===void 0&&(h.retry=!1);const m=M(this,Ht).build(this,h);return m.isStaleByTime(Pu(h.staleTime,m))?m.fetch(h):Promise.resolve(m.state.data)}prefetchQuery(f){return this.fetchQuery(f).then(la).catch(la)}fetchInfiniteQuery(f){return f.behavior=$p(f.pages),this.fetchQuery(f)}prefetchInfiniteQuery(f){return this.fetchInfiniteQuery(f).then(la).catch(la)}ensureInfiniteQueryData(f){return f.behavior=$p(f.pages),this.ensureQueryData(f)}resumePausedMutations(){return Dg.isOnline()?M(this,Eo).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,Ht)}getMutationCache(){return M(this,Eo)}getDefaultOptions(){return M(this,Ro)}setDefaultOptions(f){Ae(this,Ro,f)}setQueryDefaults(f,h){M(this,Qu).set(uh(f),{queryKey:f,defaultOptions:h})}getQueryDefaults(f){const h=[...M(this,Qu).values()],m={};return h.forEach(p=>{ch(f,p.queryKey)&&Object.assign(m,p.defaultOptions)}),m}setMutationDefaults(f,h){M(this,qu).set(uh(f),{mutationKey:f,defaultOptions:h})}getMutationDefaults(f){const h=[...M(this,qu).values()],m={};return h.forEach(p=>{ch(f,p.mutationKey)&&Object.assign(m,p.defaultOptions)}),m}defaultQueryOptions(f){if(f._defaulted)return f;const h={...M(this,Ro).queries,...this.getQueryDefaults(f.queryKey),...f,_defaulted:!0};return h.queryHash||(h.queryHash=dp(h.queryKey,h)),h.refetchOnReconnect===void 0&&(h.refetchOnReconnect=h.networkMode!=="always"),h.throwOnError===void 0&&(h.throwOnError=!!h.suspense),!h.networkMode&&h.persister&&(h.networkMode="offlineFirst"),h.queryFn===gp&&(h.enabled=!1),h}defaultMutationOptions(f){return f!=null&&f._defaulted?f:{...M(this,Ro).mutations,...(f==null?void 0:f.mutationKey)&&this.getMutationDefaults(f.mutationKey),...f,_defaulted:!0}}clear(){M(this,Ht).clear(),M(this,Eo).clear()}},Ht=new WeakMap,Eo=new WeakMap,Ro=new WeakMap,Qu=new WeakMap,qu=new WeakMap,wo=new WeakMap,ec=new WeakMap,tc=new WeakMap,my),Nr,ot,dh,sr,Il,nc,To,No,gh,rc,ac,xl,Dl,Co,ic,Tt,sh,$m,Qm,qm,ep,tp,np,rp,Py,py,c0=(py=class extends yh{constructor(h,m){super();Ue(this,Tt);Ue(this,Nr);Ue(this,ot);Ue(this,dh);Ue(this,sr);Ue(this,Il);Ue(this,nc);Ue(this,To);Ue(this,No);Ue(this,gh);Ue(this,rc);Ue(this,ac);Ue(this,xl);Ue(this,Dl);Ue(this,Co);Ue(this,ic,new Set);this.options=m,Ae(this,Nr,h),Ae(this,No,null),Ae(this,To,Hm()),this.options.experimental_prefetchInRender||M(this,To).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(m)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,ot).addObserver(this),qp(M(this,ot),this.options)?st(this,Tt,sh).call(this):this.updateResult(),st(this,Tt,ep).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ap(M(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ap(M(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,Tt,tp).call(this),st(this,Tt,np).call(this),M(this,ot).removeObserver(this)}setOptions(h){const m=this.options,p=M(this,ot);if(this.options=M(this,Nr).defaultQueryOptions(h),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ja(this.options.enabled,M(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,Tt,rp).call(this),M(this,ot).setOptions(this.options),m._defaulted&&!Fm(this.options,m)&&M(this,Nr).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,ot),observer:this});const A=this.hasListeners();A&&ey(M(this,ot),p,this.options,m)&&st(this,Tt,sh).call(this),this.updateResult(),A&&(M(this,ot)!==p||Ja(this.options.enabled,M(this,ot))!==Ja(m.enabled,M(this,ot))||Pu(this.options.staleTime,M(this,ot))!==Pu(m.staleTime,M(this,ot)))&&st(this,Tt,$m).call(this);const w=st(this,Tt,Qm).call(this);A&&(M(this,ot)!==p||Ja(this.options.enabled,M(this,ot))!==Ja(m.enabled,M(this,ot))||w!==M(this,Co))&&st(this,Tt,qm).call(this,w)}getOptimisticResult(h){const m=M(this,Nr).getQueryCache().build(M(this,Nr),h),p=this.createResult(m,h);return h0(this,p)&&(Ae(this,sr,p),Ae(this,nc,this.options),Ae(this,Il,M(this,ot).state)),p}getCurrentResult(){return M(this,sr)}trackResult(h,m){const p={};return Object.keys(h).forEach(A=>{Object.defineProperty(p,A,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(A),m==null||m(A),h[A])})}),p}trackProp(h){M(this,ic).add(h)}getCurrentQuery(){return M(this,ot)}refetch({...h}={}){return this.fetch({...h})}fetchOptimistic(h){const m=M(this,Nr).defaultQueryOptions(h),p=M(this,Nr).getQueryCache().build(M(this,Nr),m);return p.fetch().then(()=>this.createResult(p,m))}fetch(h){return st(this,Tt,sh).call(this,{...h,cancelRefetch:h.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,sr)))}createResult(h,m){var Ce;const p=M(this,ot),A=this.options,w=M(this,sr),C=M(this,Il),B=M(this,nc),T=h!==p?h.state:M(this,dh),{state:_}=h;let N={..._},F=!1,ee;if(m._optimisticResults){const Ke=this.hasListeners(),bt=!Ke&&qp(h,m),Xe=Ke&&ey(h,p,m,A);(bt||Xe)&&(N={...N,...Xy(_.data,h.options)}),m._optimisticResults==="isRestoring"&&(N.fetchStatus="idle")}let{error:j,errorUpdatedAt:ie,status:H}=N;ee=N.data;let ne=!1;if(m.placeholderData!==void 0&&ee===void 0&&H==="pending"){let Ke;w!=null&&w.isPlaceholderData&&m.placeholderData===(B==null?void 0:B.placeholderData)?(Ke=w.data,ne=!0):Ke=typeof m.placeholderData=="function"?m.placeholderData((Ce=M(this,ac))==null?void 0:Ce.state.data,M(this,ac)):m.placeholderData,Ke!==void 0&&(H="success",ee=jm(w==null?void 0:w.data,Ke,m),F=!0)}if(m.select&&ee!==void 0&&!ne)if(w&&ee===(C==null?void 0:C.data)&&m.select===M(this,gh))ee=M(this,rc);else try{Ae(this,gh,m.select),ee=m.select(ee),ee=jm(w==null?void 0:w.data,ee,m),Ae(this,rc,ee),Ae(this,No,null)}catch(Ke){Ae(this,No,Ke)}M(this,No)&&(j=M(this,No),ee=M(this,rc),ie=Date.now(),H="error");const pe=N.fetchStatus==="fetching",se=H==="pending",Ne=H==="error",le=se&&pe,Ye=ee!==void 0,Me={status:H,fetchStatus:N.fetchStatus,isPending:se,isSuccess:H==="success",isError:Ne,isInitialLoading:le,isLoading:le,data:ee,dataUpdatedAt:N.dataUpdatedAt,error:j,errorUpdatedAt:ie,failureCount:N.fetchFailureCount,failureReason:N.fetchFailureReason,errorUpdateCount:N.errorUpdateCount,isFetched:N.dataUpdateCount>0||N.errorUpdateCount>0,isFetchedAfterMount:N.dataUpdateCount>T.dataUpdateCount||N.errorUpdateCount>T.errorUpdateCount,isFetching:pe,isRefetching:pe&&!se,isLoadingError:Ne&&!Ye,isPaused:N.fetchStatus==="paused",isPlaceholderData:F,isRefetchError:Ne&&Ye,isStale:pp(h,m),refetch:this.refetch,promise:M(this,To)};if(this.options.experimental_prefetchInRender){const Ke=$t=>{Me.status==="error"?$t.reject(Me.error):Me.data!==void 0&&$t.resolve(Me.data)},bt=()=>{const $t=Ae(this,To,Me.promise=Hm());Ke($t)},Xe=M(this,To);switch(Xe.status){case"pending":h.queryHash===p.queryHash&&Ke(Xe);break;case"fulfilled":(Me.status==="error"||Me.data!==Xe.value)&&bt();break;case"rejected":(Me.status!=="error"||Me.error!==Xe.reason)&&bt();break}}return Me}updateResult(){const h=M(this,sr),m=this.createResult(M(this,ot),this.options);if(Ae(this,Il,M(this,ot).state),Ae(this,nc,this.options),M(this,Il).data!==void 0&&Ae(this,ac,M(this,ot)),Fm(m,h))return;Ae(this,sr,m);const p=()=>{if(!h)return!0;const{notifyOnChangeProps:A}=this.options,w=typeof A=="function"?A():A;if(w==="all"||!w&&!M(this,ic).size)return!0;const C=new Set(w??M(this,ic));return this.options.throwOnError&&C.add("error"),Object.keys(M(this,sr)).some(B=>{const S=B;return M(this,sr)[S]!==h[S]&&C.has(S)})};st(this,Tt,Py).call(this,{listeners:p()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,Tt,ep).call(this)}},Nr=new WeakMap,ot=new WeakMap,dh=new WeakMap,sr=new WeakMap,Il=new WeakMap,nc=new WeakMap,To=new WeakMap,No=new WeakMap,gh=new WeakMap,rc=new WeakMap,ac=new WeakMap,xl=new WeakMap,Dl=new WeakMap,Co=new WeakMap,ic=new WeakMap,Tt=new WeakSet,sh=function(h){st(this,Tt,rp).call(this);let m=M(this,ot).fetch(this.options,h);return h!=null&&h.throwOnError||(m=m.catch(la)),m},$m=function(){st(this,Tt,tp).call(this);const h=Pu(this.options.staleTime,M(this,ot));if(Ol||M(this,sr).isStale||!Pm(h))return;const p=Yy(M(this,sr).dataUpdatedAt,h)+1;Ae(this,xl,setTimeout(()=>{M(this,sr).isStale||this.updateResult()},p))},Qm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,ot)):this.options.refetchInterval)??!1},qm=function(h){st(this,Tt,np).call(this),Ae(this,Co,h),!(Ol||Ja(this.options.enabled,M(this,ot))===!1||!Pm(M(this,Co))||M(this,Co)===0)&&Ae(this,Dl,setInterval(()=>{(this.options.refetchIntervalInBackground||mp.isFocused())&&st(this,Tt,sh).call(this)},M(this,Co)))},ep=function(){st(this,Tt,$m).call(this),st(this,Tt,qm).call(this,st(this,Tt,Qm).call(this))},tp=function(){M(this,xl)&&(clearTimeout(M(this,xl)),Ae(this,xl,void 0))},np=function(){M(this,Dl)&&(clearInterval(M(this,Dl)),Ae(this,Dl,void 0))},rp=function(){const h=M(this,Nr).getQueryCache().build(M(this,Nr),this.options);if(h===M(this,ot))return;const m=M(this,ot);Ae(this,ot,h),Ae(this,dh,h.state),this.hasListeners()&&(m==null||m.removeObserver(this),h.addObserver(this))},Py=function(h){_n.batch(()=>{h.listeners&&this.listeners.forEach(m=>{m(M(this,sr))}),M(this,Nr).getQueryCache().notify({query:M(this,ot),type:"observerResultsUpdated"})})},py);function f0(f,h){return Ja(h.enabled,f)!==!1&&f.state.data===void 0&&!(f.state.status==="error"&&h.retryOnMount===!1)}function qp(f,h){return f0(f,h)||f.state.data!==void 0&&ap(f,h,h.refetchOnMount)}function ap(f,h,m){if(Ja(h.enabled,f)!==!1){const p=typeof m=="function"?m(f):m;return p==="always"||p!==!1&&pp(f,h)}return!1}function ey(f,h,m,p){return(f!==h||Ja(p.enabled,f)===!1)&&(!m.suspense||f.state.status!=="error")&&pp(f,m)}function pp(f,h){return Ja(h.enabled,f)!==!1&&f.isStaleByTime(Pu(h.staleTime,f))}function h0(f,h){return!Fm(f.getCurrentResult(),h)}var Fy=X.createContext(void 0),d0=f=>{const h=X.useContext(Fy);if(!h)throw new Error("No QueryClient set, use QueryClientProvider to set one");return h},g0=({client:f,children:h})=>(X.useEffect(()=>(f.mount(),()=>{f.unmount()}),[f]),He.jsx(Fy.Provider,{value:f,children:h})),Jy=X.createContext(!1),m0=()=>X.useContext(Jy);Jy.Provider;function p0(){let f=!1;return{clearReset:()=>{f=!1},reset:()=>{f=!0},isReset:()=>f}}var y0=X.createContext(p0()),v0=()=>X.useContext(y0);function b0(f,h){return typeof f=="function"?f(...h):!!f}function ty(){}var S0=(f,h)=>{(f.suspense||f.throwOnError||f.experimental_prefetchInRender)&&(h.isReset()||(f.retryOnMount=!1))},A0=f=>{X.useEffect(()=>{f.clearReset()},[f])},E0=({result:f,errorResetBoundary:h,throwOnError:m,query:p,suspense:A})=>f.isError&&!h.isReset()&&!f.isFetching&&p&&(A&&f.data===void 0||b0(m,[f.error,p])),R0=f=>{const h=f.staleTime;f.suspense&&(f.staleTime=typeof h=="function"?(...m)=>Math.max(h(...m),1e3):Math.max(h??1e3,1e3),typeof f.gcTime=="number"&&(f.gcTime=Math.max(f.gcTime,1e3)))},w0=(f,h)=>f.isLoading&&f.isFetching&&!h,T0=(f,h)=>(f==null?void 0:f.suspense)&&h.isPending,ny=(f,h,m)=>h.fetchOptimistic(f).catch(()=>{m.clearReset()});function N0(f,h,m){var N,F,ee,j,ie;const p=d0(),A=m0(),w=v0(),C=p.defaultQueryOptions(f);(F=(N=p.getDefaultOptions().queries)==null?void 0:N._experimental_beforeQuery)==null||F.call(N,C),C._optimisticResults=A?"isRestoring":"optimistic",R0(C),S0(C,w),A0(w);const B=!p.getQueryCache().get(C.queryHash),[S]=X.useState(()=>new h(p,C)),T=S.getOptimisticResult(C),_=!A&&f.subscribed!==!1;if(X.useSyncExternalStore(X.useCallback(H=>{const ne=_?S.subscribe(_n.batchCalls(H)):ty;return S.updateResult(),ne},[S,_]),()=>S.getCurrentResult(),()=>S.getCurrentResult()),X.useEffect(()=>{S.setOptions(C)},[C,S]),T0(C,T))throw ny(C,S,w);if(E0({result:T,errorResetBoundary:w,throwOnError:C.throwOnError,query:p.getQueryCache().get(C.queryHash),suspense:C.suspense}))throw T.error;if((j=(ee=p.getDefaultOptions().queries)==null?void 0:ee._experimental_afterQuery)==null||j.call(ee,C,T),C.experimental_prefetchInRender&&!Ol&&w0(T,A)){const H=B?ny(C,S,w):(ie=p.getQueryCache().get(C.queryHash))==null?void 0:ie.promise;H==null||H.catch(ty).finally(()=>{S.updateResult()})}return C.notifyOnChangeProps?T:S.trackResult(T)}function jy(f,h){return N0(f,c0)}function C0(f){if(typeof document>"u")return;let h=document.head||document.getElementsByTagName("head")[0],m=document.createElement("style");m.type="text/css",h.appendChild(m),m.styleSheet?m.styleSheet.cssText=f:m.appendChild(document.createTextNode(f))}const I0=f=>{switch(f){case"success":return O0;case"info":return B0;case"warning":return V0;case"error":return U0;default:return null}},x0=Array(12).fill(0),D0=({visible:f,className:h})=>de.createElement("div",{className:["sonner-loading-wrapper",h].filter(Boolean).join(" "),"data-visible":f},de.createElement("div",{className:"sonner-spinner"},x0.map((m,p)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${p}`})))),O0=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),V0=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),B0=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),U0=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),L0=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),M0=()=>{const[f,h]=de.useState(document.hidden);return de.useEffect(()=>{const m=()=>{h(document.hidden)};return document.addEventListener("visibilitychange",m),()=>window.removeEventListener("visibilitychange",m)},[]),f};let ip=1;class _0{constructor(){this.subscribe=h=>(this.subscribers.push(h),()=>{const m=this.subscribers.indexOf(h);this.subscribers.splice(m,1)}),this.publish=h=>{this.subscribers.forEach(m=>m(h))},this.addToast=h=>{this.publish(h),this.toasts=[...this.toasts,h]},this.create=h=>{var m;const{message:p,...A}=h,w=typeof(h==null?void 0:h.id)=="number"||((m=h.id)==null?void 0:m.length)>0?h.id:ip++,C=this.toasts.find(S=>S.id===w),B=h.dismissible===void 0?!0:h.dismissible;return this.dismissedToasts.has(w)&&this.dismissedToasts.delete(w),C?this.toasts=this.toasts.map(S=>S.id===w?(this.publish({...S,...h,id:w,title:p}),{...S,...h,id:w,dismissible:B,title:p}):S):this.addToast({title:p,...A,dismissible:B,id:w}),w},this.dismiss=h=>(h?(this.dismissedToasts.add(h),requestAnimationFrame(()=>this.subscribers.forEach(m=>m({id:h,dismiss:!0})))):this.toasts.forEach(m=>{this.subscribers.forEach(p=>p({id:m.id,dismiss:!0}))}),h),this.message=(h,m)=>this.create({...m,message:h}),this.error=(h,m)=>this.create({...m,message:h,type:"error"}),this.success=(h,m)=>this.create({...m,type:"success",message:h}),this.info=(h,m)=>this.create({...m,type:"info",message:h}),this.warning=(h,m)=>this.create({...m,type:"warning",message:h}),this.loading=(h,m)=>this.create({...m,type:"loading",message:h}),this.promise=(h,m)=>{if(!m)return;let p;m.loading!==void 0&&(p=this.create({...m,promise:h,type:"loading",message:m.loading,description:typeof m.description!="function"?m.description:void 0}));const A=Promise.resolve(h instanceof Function?h():h);let w=p!==void 0,C;const B=A.then(async T=>{if(C=["resolve",T],de.isValidElement(T))w=!1,this.create({id:p,type:"default",message:T});else if(Z0(T)&&!T.ok){w=!1;const N=typeof m.error=="function"?await m.error(`HTTP error! status: ${T.status}`):m.error,F=typeof m.description=="function"?await m.description(`HTTP error! status: ${T.status}`):m.description,j=typeof N=="object"&&!de.isValidElement(N)?N:{message:N};this.create({id:p,type:"error",description:F,...j})}else if(T instanceof Error){w=!1;const N=typeof m.error=="function"?await m.error(T):m.error,F=typeof m.description=="function"?await m.description(T):m.description,j=typeof N=="object"&&!de.isValidElement(N)?N:{message:N};this.create({id:p,type:"error",description:F,...j})}else if(m.success!==void 0){w=!1;const N=typeof m.success=="function"?await m.success(T):m.success,F=typeof m.description=="function"?await m.description(T):m.description,j=typeof N=="object"&&!de.isValidElement(N)?N:{message:N};this.create({id:p,type:"success",description:F,...j})}}).catch(async T=>{if(C=["reject",T],m.error!==void 0){w=!1;const _=typeof m.error=="function"?await m.error(T):m.error,N=typeof m.description=="function"?await m.description(T):m.description,ee=typeof _=="object"&&!de.isValidElement(_)?_:{message:_};this.create({id:p,type:"error",description:N,...ee})}}).finally(()=>{w&&(this.dismiss(p),p=void 0),m.finally==null||m.finally.call(m)}),S=()=>new Promise((T,_)=>B.then(()=>C[0]==="reject"?_(C[1]):T(C[1])).catch(_));return typeof p!="string"&&typeof p!="number"?{unwrap:S}:Object.assign(p,{unwrap:S})},this.custom=(h,m)=>{const p=(m==null?void 0:m.id)||ip++;return this.create({jsx:h(p),id:p,...m}),p},this.getActiveToasts=()=>this.toasts.filter(h=>!this.dismissedToasts.has(h.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Cr=new _0,Y0=(f,h)=>{const m=(h==null?void 0:h.id)||ip++;return Cr.addToast({title:f,...h,id:m}),m},Z0=f=>f&&typeof f=="object"&&"ok"in f&&typeof f.ok=="boolean"&&"status"in f&&typeof f.status=="number",G0=Y0,z0=()=>Cr.toasts,k0=()=>Cr.getActiveToasts(),W0=Object.assign(G0,{success:Cr.success,info:Cr.info,warning:Cr.warning,error:Cr.error,custom:Cr.custom,message:Cr.message,promise:Cr.promise,dismiss:Cr.dismiss,loading:Cr.loading},{getHistory:z0,getToasts:k0});C0("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ng(f){return f.label!==void 0}const K0=3,X0="24px",P0="16px",ry=4e3,F0=356,J0=14,j0=45,H0=200;function Ui(...f){return f.filter(Boolean).join(" ")}function $0(f){const[h,m]=f.split("-"),p=[];return h&&p.push(h),m&&p.push(m),p}const Q0=f=>{var h,m,p,A,w,C,B,S,T;const{invert:_,toast:N,unstyled:F,interacting:ee,setHeights:j,visibleToasts:ie,heights:H,index:ne,toasts:pe,expanded:se,removeToast:Ne,defaultRichColors:le,closeButton:Ye,style:at,cancelButtonStyle:Me,actionButtonStyle:Ce,className:Ke="",descriptionClassName:bt="",duration:Xe,position:$t,gap:Ir,expandByDefault:lt,classNames:W,icons:he,closeButtonAriaLabel:Re="Close toast"}=f,[Ve,O]=de.useState(null),[$,ce]=de.useState(null),[oe,ye]=de.useState(!1),[Ze,ve]=de.useState(!1),[Qt,et]=de.useState(!1),[ge,ca]=de.useState(!1),[Zi,ws]=de.useState(!1),[xo,fa]=de.useState(0),[Do,Oo]=de.useState(0),bn=de.useRef(N.duration||Xe||ry),Vo=de.useRef(null),or=de.useRef(null),Bl=ne===0,$a=ne+1<=ie,Nn=N.type,Ut=N.dismissible!==!1,uc=N.className||"",Bo=N.descriptionClassName||"",lr=de.useMemo(()=>H.findIndex(Ee=>Ee.toastId===N.id)||0,[H,N.id]),qe=de.useMemo(()=>{var Ee;return(Ee=N.closeButton)!=null?Ee:Ye},[N.closeButton,Ye]),ur=de.useMemo(()=>N.duration||Xe||ry,[N.duration,Xe]),an=de.useRef(0),ha=de.useRef(0),Uo=de.useRef(0),da=de.useRef(null),[Gi,Qa]=$t.split("-"),cr=de.useMemo(()=>H.reduce((Ee,Lt,kt)=>kt>=lr?Ee:Ee+Lt.height,0),[H,lr]),qa=M0(),zi=N.invert||_,xr=Nn==="loading";ha.current=de.useMemo(()=>lr*Ir+cr,[lr,cr]),de.useEffect(()=>{bn.current=ur},[ur]),de.useEffect(()=>{ye(!0)},[]),de.useEffect(()=>{const Ee=or.current;if(Ee){const Lt=Ee.getBoundingClientRect().height;return Oo(Lt),j(kt=>[{toastId:N.id,height:Lt,position:N.position},...kt]),()=>j(kt=>kt.filter(sn=>sn.toastId!==N.id))}},[j,N.id]),de.useLayoutEffect(()=>{if(!oe)return;const Ee=or.current,Lt=Ee.style.height;Ee.style.height="auto";const kt=Ee.getBoundingClientRect().height;Ee.style.height=Lt,Oo(kt),j(sn=>sn.find(ft=>ft.toastId===N.id)?sn.map(ft=>ft.toastId===N.id?{...ft,height:kt}:ft):[{toastId:N.id,height:kt,position:N.position},...sn])},[oe,N.title,N.description,j,N.id]);const fr=de.useCallback(()=>{ve(!0),fa(ha.current),j(Ee=>Ee.filter(Lt=>Lt.toastId!==N.id)),setTimeout(()=>{Ne(N)},H0)},[N,Ne,j,ha]);de.useEffect(()=>{if(N.promise&&Nn==="loading"||N.duration===1/0||N.type==="loading")return;let Ee;return se||ee||qa?(()=>{if(Uo.current<an.current){const sn=new Date().getTime()-an.current;bn.current=bn.current-sn}Uo.current=new Date().getTime()})():(()=>{bn.current!==1/0&&(an.current=new Date().getTime(),Ee=setTimeout(()=>{N.onAutoClose==null||N.onAutoClose.call(N,N),fr()},bn.current))})(),()=>clearTimeout(Ee)},[se,ee,N,Nn,qa,fr]),de.useEffect(()=>{N.delete&&fr()},[fr,N.delete]);function Ul(){var Ee;if(he!=null&&he.loading){var Lt;return de.createElement("div",{className:Ui(W==null?void 0:W.loader,N==null||(Lt=N.classNames)==null?void 0:Lt.loader,"sonner-loader"),"data-visible":Nn==="loading"},he.loading)}return de.createElement(D0,{className:Ui(W==null?void 0:W.loader,N==null||(Ee=N.classNames)==null?void 0:Ee.loader),visible:Nn==="loading"})}const ki=N.icon||(he==null?void 0:he[Nn])||I0(Nn);var ga,Wi;return de.createElement("li",{tabIndex:0,ref:or,className:Ui(Ke,uc,W==null?void 0:W.toast,N==null||(h=N.classNames)==null?void 0:h.toast,W==null?void 0:W.default,W==null?void 0:W[Nn],N==null||(m=N.classNames)==null?void 0:m[Nn]),"data-sonner-toast":"","data-rich-colors":(ga=N.richColors)!=null?ga:le,"data-styled":!(N.jsx||N.unstyled||F),"data-mounted":oe,"data-promise":!!N.promise,"data-swiped":Zi,"data-removed":Ze,"data-visible":$a,"data-y-position":Gi,"data-x-position":Qa,"data-index":ne,"data-front":Bl,"data-swiping":Qt,"data-dismissible":Ut,"data-type":Nn,"data-invert":zi,"data-swipe-out":ge,"data-swipe-direction":$,"data-expanded":!!(se||lt&&oe),style:{"--index":ne,"--toasts-before":ne,"--z-index":pe.length-ne,"--offset":`${Ze?xo:ha.current}px`,"--initial-height":lt?"auto":`${Do}px`,...at,...N.style},onDragEnd:()=>{et(!1),O(null),da.current=null},onPointerDown:Ee=>{xr||!Ut||(Vo.current=new Date,fa(ha.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(et(!0),da.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,Lt,kt;if(ge||!Ut)return;da.current=null;const sn=Number(((Ee=or.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ki=Number(((Lt=or.current)==null?void 0:Lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ft=new Date().getTime()-((kt=Vo.current)==null?void 0:kt.getTime()),Mt=Ve==="x"?sn:Ki,_t=Math.abs(Mt)/ft;if(Math.abs(Mt)>=j0||_t>.11){fa(ha.current),N.onDismiss==null||N.onDismiss.call(N,N),ce(Ve==="x"?sn>0?"right":"left":Ki>0?"down":"up"),fr(),ca(!0);return}else{var ht,on;(ht=or.current)==null||ht.style.setProperty("--swipe-amount-x","0px"),(on=or.current)==null||on.style.setProperty("--swipe-amount-y","0px")}ws(!1),et(!1),O(null)},onPointerMove:Ee=>{var Lt,kt,sn;if(!da.current||!Ut||((Lt=window.getSelection())==null?void 0:Lt.toString().length)>0)return;const ft=Ee.clientY-da.current.y,Mt=Ee.clientX-da.current.x;var _t;const ht=(_t=f.swipeDirections)!=null?_t:$0($t);!Ve&&(Math.abs(Mt)>1||Math.abs(ft)>1)&&O(Math.abs(Mt)>Math.abs(ft)?"x":"y");let on={x:0,y:0};const Ts=Dr=>1/(1.5+Math.abs(Dr)/20);if(Ve==="y"){if(ht.includes("top")||ht.includes("bottom"))if(ht.includes("top")&&ft<0||ht.includes("bottom")&&ft>0)on.y=ft;else{const Dr=ft*Ts(ft);on.y=Math.abs(Dr)<Math.abs(ft)?Dr:ft}}else if(Ve==="x"&&(ht.includes("left")||ht.includes("right")))if(ht.includes("left")&&Mt<0||ht.includes("right")&&Mt>0)on.x=Mt;else{const Dr=Mt*Ts(Mt);on.x=Math.abs(Dr)<Math.abs(Mt)?Dr:Mt}(Math.abs(on.x)>0||Math.abs(on.y)>0)&&ws(!0),(kt=or.current)==null||kt.style.setProperty("--swipe-amount-x",`${on.x}px`),(sn=or.current)==null||sn.style.setProperty("--swipe-amount-y",`${on.y}px`)}},qe&&!N.jsx&&Nn!=="loading"?de.createElement("button",{"aria-label":Re,"data-disabled":xr,"data-close-button":!0,onClick:xr||!Ut?()=>{}:()=>{fr(),N.onDismiss==null||N.onDismiss.call(N,N)},className:Ui(W==null?void 0:W.closeButton,N==null||(p=N.classNames)==null?void 0:p.closeButton)},(Wi=he==null?void 0:he.close)!=null?Wi:L0):null,(Nn||N.icon||N.promise)&&N.icon!==null&&((he==null?void 0:he[Nn])!==null||N.icon)?de.createElement("div",{"data-icon":"",className:Ui(W==null?void 0:W.icon,N==null||(A=N.classNames)==null?void 0:A.icon)},N.promise||N.type==="loading"&&!N.icon?N.icon||Ul():null,N.type!=="loading"?ki:null):null,de.createElement("div",{"data-content":"",className:Ui(W==null?void 0:W.content,N==null||(w=N.classNames)==null?void 0:w.content)},de.createElement("div",{"data-title":"",className:Ui(W==null?void 0:W.title,N==null||(C=N.classNames)==null?void 0:C.title)},N.jsx?N.jsx:typeof N.title=="function"?N.title():N.title),N.description?de.createElement("div",{"data-description":"",className:Ui(bt,Bo,W==null?void 0:W.description,N==null||(B=N.classNames)==null?void 0:B.description)},typeof N.description=="function"?N.description():N.description):null),de.isValidElement(N.cancel)?N.cancel:N.cancel&&Ng(N.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:N.cancelButtonStyle||Me,onClick:Ee=>{Ng(N.cancel)&&Ut&&(N.cancel.onClick==null||N.cancel.onClick.call(N.cancel,Ee),fr())},className:Ui(W==null?void 0:W.cancelButton,N==null||(S=N.classNames)==null?void 0:S.cancelButton)},N.cancel.label):null,de.isValidElement(N.action)?N.action:N.action&&Ng(N.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:N.actionButtonStyle||Ce,onClick:Ee=>{Ng(N.action)&&(N.action.onClick==null||N.action.onClick.call(N.action,Ee),!Ee.defaultPrevented&&fr())},className:Ui(W==null?void 0:W.actionButton,N==null||(T=N.classNames)==null?void 0:T.actionButton)},N.action.label):null)};function ay(){if(typeof window>"u"||typeof document>"u")return"ltr";const f=document.documentElement.getAttribute("dir");return f==="auto"||!f?window.getComputedStyle(document.documentElement).direction:f}function q0(f,h){const m={};return[f,h].forEach((p,A)=>{const w=A===1,C=w?"--mobile-offset":"--offset",B=w?P0:X0;function S(T){["top","right","bottom","left"].forEach(_=>{m[`${C}-${_}`]=typeof T=="number"?`${T}px`:T})}typeof p=="number"||typeof p=="string"?S(p):typeof p=="object"?["top","right","bottom","left"].forEach(T=>{p[T]===void 0?m[`${C}-${T}`]=B:m[`${C}-${T}`]=typeof p[T]=="number"?`${p[T]}px`:p[T]}):S(B)}),m}const eS=de.forwardRef(function(h,m){const{invert:p,position:A="bottom-right",hotkey:w=["altKey","KeyT"],expand:C,closeButton:B,className:S,offset:T,mobileOffset:_,theme:N="light",richColors:F,duration:ee,style:j,visibleToasts:ie=K0,toastOptions:H,dir:ne=ay(),gap:pe=J0,icons:se,containerAriaLabel:Ne="Notifications"}=h,[le,Ye]=de.useState([]),at=de.useMemo(()=>Array.from(new Set([A].concat(le.filter($=>$.position).map($=>$.position)))),[le,A]),[Me,Ce]=de.useState([]),[Ke,bt]=de.useState(!1),[Xe,$t]=de.useState(!1),[Ir,lt]=de.useState(N!=="system"?N:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=de.useRef(null),he=w.join("+").replace(/Key/g,"").replace(/Digit/g,""),Re=de.useRef(null),Ve=de.useRef(!1),O=de.useCallback($=>{Ye(ce=>{var oe;return(oe=ce.find(ye=>ye.id===$.id))!=null&&oe.delete||Cr.dismiss($.id),ce.filter(({id:ye})=>ye!==$.id)})},[]);return de.useEffect(()=>Cr.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{Ye(ce=>ce.map(oe=>oe.id===$.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{Pb.flushSync(()=>{Ye(ce=>{const oe=ce.findIndex(ye=>ye.id===$.id);return oe!==-1?[...ce.slice(0,oe),{...ce[oe],...$},...ce.slice(oe+1)]:[$,...ce]})})})}),[le]),de.useEffect(()=>{if(N!=="system"){lt(N);return}if(N==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?lt("dark"):lt("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:ce})=>{lt(ce?"dark":"light")})}catch{$.addListener(({matches:oe})=>{try{lt(oe?"dark":"light")}catch(ye){console.error(ye)}})}},[N]),de.useEffect(()=>{le.length<=1&&bt(!1)},[le]),de.useEffect(()=>{const $=ce=>{var oe;if(w.every(ve=>ce[ve]||ce.code===ve)){var Ze;bt(!0),(Ze=W.current)==null||Ze.focus()}ce.code==="Escape"&&(document.activeElement===W.current||(oe=W.current)!=null&&oe.contains(document.activeElement))&&bt(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[w]),de.useEffect(()=>{if(W.current)return()=>{Re.current&&(Re.current.focus({preventScroll:!0}),Re.current=null,Ve.current=!1)}},[W.current]),de.createElement("section",{ref:m,"aria-label":`${Ne} ${he}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},at.map(($,ce)=>{var oe;const[ye,Ze]=$.split("-");return le.length?de.createElement("ol",{key:$,dir:ne==="auto"?ay():ne,tabIndex:-1,ref:W,className:S,"data-sonner-toaster":!0,"data-sonner-theme":Ir,"data-y-position":ye,"data-lifted":Ke&&le.length>1&&!C,"data-x-position":Ze,style:{"--front-toast-height":`${((oe=Me[0])==null?void 0:oe.height)||0}px`,"--width":`${F0}px`,"--gap":`${pe}px`,...j,...q0(T,_)},onBlur:ve=>{Ve.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(Ve.current=!1,Re.current&&(Re.current.focus({preventScroll:!0}),Re.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||Ve.current||(Ve.current=!0,Re.current=ve.relatedTarget)},onMouseEnter:()=>bt(!0),onMouseMove:()=>bt(!0),onMouseLeave:()=>{Xe||bt(!1)},onDragEnd:()=>bt(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||$t(!0)},onPointerUp:()=>$t(!1)},le.filter(ve=>!ve.position&&ce===0||ve.position===$).map((ve,Qt)=>{var et,ge;return de.createElement(Q0,{key:ve.id,icons:se,index:Qt,toast:ve,defaultRichColors:F,duration:(et=H==null?void 0:H.duration)!=null?et:ee,className:H==null?void 0:H.className,descriptionClassName:H==null?void 0:H.descriptionClassName,invert:p,visibleToasts:ie,closeButton:(ge=H==null?void 0:H.closeButton)!=null?ge:B,interacting:Xe,position:$,style:H==null?void 0:H.style,unstyled:H==null?void 0:H.unstyled,classNames:H==null?void 0:H.classNames,cancelButtonStyle:H==null?void 0:H.cancelButtonStyle,actionButtonStyle:H==null?void 0:H.actionButtonStyle,closeButtonAriaLabel:H==null?void 0:H.closeButtonAriaLabel,removeToast:O,toasts:le.filter(ca=>ca.position==ve.position),heights:Me.filter(ca=>ca.position==ve.position),setHeights:Ce,expandByDefault:C,gap:pe,expanded:Ke,swipeDirections:h.swipeDirections})})):null}))});/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=f=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nS=f=>f.replace(/^([A-Z])|[\s-_]+(\w)/g,(h,m,p)=>p?p.toUpperCase():m.toLowerCase()),iy=f=>{const h=nS(f);return h.charAt(0).toUpperCase()+h.slice(1)},Hy=(...f)=>f.filter((h,m,p)=>!!h&&h.trim()!==""&&p.indexOf(h)===m).join(" ").trim(),rS=f=>{for(const h in f)if(h.startsWith("aria-")||h==="role"||h==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=X.forwardRef(({color:f="currentColor",size:h=24,strokeWidth:m=2,absoluteStrokeWidth:p,className:A="",children:w,iconNode:C,...B},S)=>X.createElement("svg",{ref:S,...aS,width:h,height:h,stroke:f,strokeWidth:p?Number(m)*24/Number(h):m,className:Hy("lucide",A),...!w&&!rS(B)&&{"aria-hidden":"true"},...B},[...C.map(([T,_])=>X.createElement(T,_)),...Array.isArray(w)?w:[w]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=(f,h)=>{const m=X.forwardRef(({className:p,...A},w)=>X.createElement(iS,{ref:w,iconNode:h,className:Hy(`lucide-${tS(iy(f))}`,`lucide-${f}`,p),...A}));return m.displayName=iy(f),m};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lS=sS("loader-circle",oS),yp=()=>He.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]","aria-live":"polite",children:[He.jsx(lS,{className:"h-8 w-8 animate-spin text-primary"}),He.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading..."})]});function uS(f){let h=null;return async()=>(h||(h=(async()=>{try{return await f()}finally{h=null}})()),h)}class cS extends Error{constructor(){super("Session expired"),this.name="AuthExpiredError"}}function BS(f){return f instanceof Error&&f.name==="AuthExpiredError"}let sy=!1;function $y(){sy||(sy=!0,window.location.href="/login")}const Qy=uS(async()=>{try{return(await fetch("https://wafflebase-api.yorkie.dev/auth/refresh",{method:"POST",credentials:"include"})).ok}catch{return!1}});async function fS(f={}){const{redirect:h=!0,showSuccessToast:m=!0,suppressFailure:p=!1}=f;let A=null;try{A=await fetch("https://wafflebase-api.yorkie.dev/auth/logout",{method:"POST",credentials:"include"})}catch(w){if(!p)throw w}if(A&&!A.ok&&!p)throw new Error("Failed to log out");m&&(A!=null&&A.ok)&&W0.success("Logged out successfully"),h&&$y()}async function hS(){const f=await qy("https://wafflebase-api.yorkie.dev/auth/me",{method:"GET",credentials:"include"});if(!f.ok)throw new Error("Failed to fetch user");return f.json()}async function dS(){const f=()=>fetch("https://wafflebase-api.yorkie.dev/auth/me",{method:"GET",credentials:"include"});let h=await f();if(h.status===401&&(!await Qy()||(h=await f(),h.status===401)))return null;if(!h.ok)throw new Error("Failed to fetch user");return h.json()}async function qy(f,h,m=!1){const p=await fetch(f,{...h,credentials:"include"});if(p.status===401&&!m&&await Qy())return qy(f,h,!0);if(p.status===401)throw await fS({redirect:!1,showSuccessToast:!1,suppressFailure:!0}),$y(),new cS;return p}var oh={exports:{}},gS=oh.exports,oy;function mS(){return oy||(oy=1,function(f,h){var m={};(function(p,A){A(h,vy(),Og())})(gS,function(p,A,w){var C;(function(a){a[a.Canceled=1]="Canceled",a[a.Unknown=2]="Unknown",a[a.InvalidArgument=3]="InvalidArgument",a[a.DeadlineExceeded=4]="DeadlineExceeded",a[a.NotFound=5]="NotFound",a[a.AlreadyExists=6]="AlreadyExists",a[a.PermissionDenied=7]="PermissionDenied",a[a.ResourceExhausted=8]="ResourceExhausted",a[a.FailedPrecondition=9]="FailedPrecondition",a[a.Aborted=10]="Aborted",a[a.OutOfRange=11]="OutOfRange",a[a.Unimplemented=12]="Unimplemented",a[a.Internal=13]="Internal",a[a.Unavailable=14]="Unavailable",a[a.DataLoss=15]="DataLoss",a[a.Unauthenticated=16]="Unauthenticated"})(C||(C={}));function B(a,e){return a!==null&&typeof a=="object"&&"$typeName"in a&&typeof a.$typeName=="string"?e===void 0?!0:e.typeName===a.$typeName:!1}var S;(function(a){a[a.DOUBLE=1]="DOUBLE",a[a.FLOAT=2]="FLOAT",a[a.INT64=3]="INT64",a[a.UINT64=4]="UINT64",a[a.INT32=5]="INT32",a[a.FIXED64=6]="FIXED64",a[a.FIXED32=7]="FIXED32",a[a.BOOL=8]="BOOL",a[a.STRING=9]="STRING",a[a.BYTES=12]="BYTES",a[a.UINT32=13]="UINT32",a[a.SFIXED32=15]="SFIXED32",a[a.SFIXED64=16]="SFIXED64",a[a.SINT32=17]="SINT32",a[a.SINT64=18]="SINT64"})(S||(S={}));function T(){let a=0,e=0;for(let i=0;i<28;i+=7){let l=this.buf[this.pos++];if(a|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[a,e]}let n=this.buf[this.pos++];if(a|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[a,e];for(let i=3;i<=31;i+=7){let l=this.buf[this.pos++];if(e|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[a,e]}throw new Error("invalid varint")}function _(a,e,n){for(let c=0;c<28;c=c+7){const g=a>>>c,y=!(!(g>>>7)&&e==0),b=(y?g|128:g)&255;if(n.push(b),!y)return}const i=a>>>28&15|(e&7)<<4,l=e>>3!=0;if(n.push((l?i|128:i)&255),!!l){for(let c=3;c<31;c=c+7){const g=e>>>c,y=!!(g>>>7),b=(y?g|128:g)&255;if(n.push(b),!y)return}n.push(e>>>31&1)}}const N=4294967296;function F(a){const e=a[0]==="-";e&&(a=a.slice(1));const n=1e6;let i=0,l=0;function c(g,y){const b=Number(a.slice(g,y));l*=n,i=i*n+b,i>=N&&(l=l+(i/N|0),i=i%N)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),e?ne(i,l):H(i,l)}function ee(a,e){let n=H(a,e);const i=n.hi&2147483648;i&&(n=ne(n.lo,n.hi));const l=j(n.lo,n.hi);return i?"-"+l:l}function j(a,e){if({lo:a,hi:e}=ie(a,e),e<=2097151)return String(N*e+a);const n=a&16777215,i=(a>>>24|e<<8)&16777215,l=e>>16&65535;let c=n+i*6777216+l*6710656,g=i+l*8147497,y=l*2;const b=1e7;return c>=b&&(g+=Math.floor(c/b),c%=b),g>=b&&(y+=Math.floor(g/b),g%=b),y.toString()+pe(g)+pe(c)}function ie(a,e){return{lo:a>>>0,hi:e>>>0}}function H(a,e){return{lo:a|0,hi:e|0}}function ne(a,e){return e=~e,a?a=~a+1:e+=1,H(a,e)}const pe=a=>{const e=String(a);return"0000000".slice(e.length)+e};function se(a,e){if(a>=0){for(;a>127;)e.push(a&127|128),a=a>>>7;e.push(a)}else{for(let n=0;n<9;n++)e.push(a&127|128),a=a>>7;e.push(1)}}function Ne(){let a=this.buf[this.pos++],e=a&127;if((a&128)==0)return this.assertBounds(),e;if(a=this.buf[this.pos++],e|=(a&127)<<7,(a&128)==0)return this.assertBounds(),e;if(a=this.buf[this.pos++],e|=(a&127)<<14,(a&128)==0)return this.assertBounds(),e;if(a=this.buf[this.pos++],e|=(a&127)<<21,(a&128)==0)return this.assertBounds(),e;a=this.buf[this.pos++],e|=(a&15)<<28;for(let n=5;(a&128)!==0&&n<10;n++)a=this.buf[this.pos++];if((a&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}const le=Ye();function Ye(){const a=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof a.getBigInt64=="function"&&typeof a.getBigUint64=="function"&&typeof a.setBigInt64=="function"&&typeof a.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof m!="object"||m.BUF_BIGINT_DISABLE!=="1")){const n=BigInt("-9223372036854775808"),i=BigInt("9223372036854775807"),l=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(g){const y=typeof g=="bigint"?g:BigInt(g);if(y>i||y<n)throw new Error(`invalid int64: ${g}`);return y},uParse(g){const y=typeof g=="bigint"?g:BigInt(g);if(y>c||y<l)throw new Error(`invalid uint64: ${g}`);return y},enc(g){return a.setBigInt64(0,this.parse(g),!0),{lo:a.getInt32(0,!0),hi:a.getInt32(4,!0)}},uEnc(g){return a.setBigInt64(0,this.uParse(g),!0),{lo:a.getInt32(0,!0),hi:a.getInt32(4,!0)}},dec(g,y){return a.setInt32(0,g,!0),a.setInt32(4,y,!0),a.getBigInt64(0,!0)},uDec(g,y){return a.setInt32(0,g,!0),a.setInt32(4,y,!0),a.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(n){return typeof n!="string"&&(n=n.toString()),at(n),n},uParse(n){return typeof n!="string"&&(n=n.toString()),Me(n),n},enc(n){return typeof n!="string"&&(n=n.toString()),at(n),F(n)},uEnc(n){return typeof n!="string"&&(n=n.toString()),Me(n),F(n)},dec(n,i){return ee(n,i)},uDec(n,i){return j(n,i)}}}function at(a){if(!/^-?[0-9]+$/.test(a))throw new Error("invalid int64: "+a)}function Me(a){if(!/^[0-9]+$/.test(a))throw new Error("invalid uint64: "+a)}function Ce(a,e){switch(a){case S.STRING:return"";case S.BOOL:return!1;case S.DOUBLE:case S.FLOAT:return 0;case S.INT64:case S.UINT64:case S.SFIXED64:case S.FIXED64:case S.SINT64:return e?"0":le.zero;case S.BYTES:return new Uint8Array(0);default:return 0}}function Ke(a,e){switch(a){case S.BOOL:return e===!1;case S.STRING:return e==="";case S.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const bt=2,Xe=Symbol.for("reflect unsafe local");function $t(a,e){const n=a[e.localName].case;return n===void 0?n:e.fields.find(i=>i.localName===n)}function Ir(a,e){const n=e.localName;if(e.oneof)return a[e.oneof.localName].case===n;if(e.presence!=bt)return a[n]!==void 0&&Object.prototype.hasOwnProperty.call(a,n);switch(e.fieldKind){case"list":return a[n].length>0;case"map":return Object.keys(a[n]).length>0;case"scalar":return!Ke(e.scalar,a[n]);case"enum":return a[n]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function lt(a,e){return Object.prototype.hasOwnProperty.call(a,e)&&a[e]!==void 0}function W(a,e){if(e.oneof){const n=a[e.oneof.localName];return n.case===e.localName?n.value:void 0}return a[e.localName]}function he(a,e,n){e.oneof?a[e.oneof.localName]={case:e.localName,value:n}:a[e.localName]=n}function Re(a,e){const n=e.localName;if(e.oneof){const i=e.oneof.localName;a[i].case===n&&(a[i]={case:void 0})}else if(e.presence!=bt)delete a[n];else switch(e.fieldKind){case"map":a[n]={};break;case"list":a[n]=[];break;case"enum":a[n]=e.enum.values[0].number;break;case"scalar":a[n]=Ce(e.scalar,e.longAsString);break}}function Ve(a){return a!==null&&typeof a=="object"&&!Array.isArray(a)}function O(a,e){var n,i,l,c;if(Ve(a)&&Xe in a&&"add"in a&&"field"in a&&typeof a.field=="function"){if(e!==void 0){const g=e,y=a.field();return g.listKind==y.listKind&&g.scalar===y.scalar&&((n=g.message)===null||n===void 0?void 0:n.typeName)===((i=y.message)===null||i===void 0?void 0:i.typeName)&&((l=g.enum)===null||l===void 0?void 0:l.typeName)===((c=y.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function $(a,e){var n,i,l,c;if(Ve(a)&&Xe in a&&"has"in a&&"field"in a&&typeof a.field=="function"){if(e!==void 0){const g=e,y=a.field();return g.mapKey===y.mapKey&&g.mapKind==y.mapKind&&g.scalar===y.scalar&&((n=g.message)===null||n===void 0?void 0:n.typeName)===((i=y.message)===null||i===void 0?void 0:i.typeName)&&((l=g.enum)===null||l===void 0?void 0:l.typeName)===((c=y.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function ce(a,e){return Ve(a)&&Xe in a&&"desc"in a&&Ve(a.desc)&&a.desc.kind==="message"&&(e===void 0||a.desc.typeName==e.typeName)}function oe(a){return Ze(a.$typeName)}function ye(a){const e=a.fields[0];return Ze(a.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function Ze(a){return a.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(a.substring(16))}const ve=999,Qt=998,et=2;function ge(a,e){if(B(e,a))return e;const n=or(a);return e!==void 0&&ca(a,n,e),n}function ca(a,e,n){for(const i of a.members){let l=n[i.localName];if(l==null)continue;let c;if(i.kind=="oneof"){const g=$t(n,i);if(!g)continue;c=g,l=W(n,g)}else c=i;switch(c.fieldKind){case"message":l=fa(c,l);break;case"scalar":l=Zi(c,l);break;case"list":l=xo(c,l);break;case"map":l=ws(c,l);break}he(e,c,l)}return e}function Zi(a,e){return a.scalar==S.BYTES?Do(e):e}function ws(a,e){if(Ve(e)){if(a.scalar==S.BYTES)return Oo(e,Do);if(a.mapKind=="message")return Oo(e,n=>fa(a,n))}return e}function xo(a,e){if(Array.isArray(e)){if(a.scalar==S.BYTES)return e.map(Do);if(a.listKind=="message")return e.map(n=>fa(a,n))}return e}function fa(a,e){if(a.fieldKind=="message"&&!a.oneof&&ye(a.message))return Zi(a.message.fields[0],e);if(Ve(e)){if(a.message.typeName=="google.protobuf.Struct"&&a.parent.typeName!=="google.protobuf.Value")return e;if(!B(e,a.message))return ge(a.message,e)}return e}function Do(a){return Array.isArray(a)?new Uint8Array(a):a}function Oo(a,e){const n={};for(const i of Object.entries(a))n[i[0]]=e(i[1]);return n}const bn=Symbol(),Vo=new WeakMap;function or(a){let e;if(Bl(a)){const n=Vo.get(a);let i,l;if(n)({prototype:i,members:l}=n);else{i={},l=new Set;for(const c of a.members)c.kind!="oneof"&&(c.fieldKind!="scalar"&&c.fieldKind!="enum"||c.presence!=et&&(l.add(c),i[c.localName]=$a(c)));Vo.set(a,{prototype:i,members:l})}e=Object.create(i),e.$typeName=a.typeName;for(const c of a.members)l.has(c)||c.kind=="field"&&(c.fieldKind=="message"||(c.fieldKind=="scalar"||c.fieldKind=="enum")&&c.presence!=et)||(e[c.localName]=$a(c))}else{e={$typeName:a.typeName};for(const n of a.members)(n.kind=="oneof"||n.presence==et)&&(e[n.localName]=$a(n))}return e}function Bl(a){switch(a.file.edition){case ve:return!1;case Qt:return!0;default:return a.fields.some(e=>e.presence!=et&&e.fieldKind!="message"&&!e.oneof)}}function $a(a){if(a.kind=="oneof")return{case:void 0};if(a.fieldKind=="list")return[];if(a.fieldKind=="map")return{};if(a.fieldKind=="message")return bn;const e=a.getDefaultValue();return e!==void 0?a.fieldKind=="scalar"&&a.longAsString?e.toString():e:a.fieldKind=="scalar"?Ce(a.scalar,a.longAsString):a.enum.values[0].number}const Nn=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class Ut extends Error{constructor(e,n,i="FieldValueInvalidError"){super(n),this.name=i,this.field=()=>e}}function uc(a){return a instanceof Error&&Nn.includes(a.name)&&"field"in a&&typeof a.field=="function"}const Bo=Symbol.for("@bufbuild/protobuf/text-encoding");function lr(){if(globalThis[Bo]==null){const a=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[Bo]={encodeUtf8(n){return a.encode(n)},decodeUtf8(n){return e.decode(n)},checkUtf8(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[Bo]}var qe;(function(a){a[a.Varint=0]="Varint",a[a.Bit64=1]="Bit64",a[a.LengthDelimited=2]="LengthDelimited",a[a.StartGroup=3]="StartGroup",a[a.EndGroup=4]="EndGroup",a[a.Bit32=5]="Bit32"})(qe||(qe={}));const ur=34028234663852886e22,an=-34028234663852886e22,ha=4294967295,Uo=2147483647,da=-2147483648;class Gi{constructor(e=lr().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let l=0;l<this.chunks.length;l++)e+=this.chunks[l].length;let n=new Uint8Array(e),i=0;for(let l=0;l<this.chunks.length;l++)n.set(this.chunks[l],i),i+=this.chunks[l].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(qa(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return cr(e),se(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.encodeUtf8(e);return this.uint32(n.byteLength),this.raw(n)}float(e){zi(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){qa(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){cr(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return cr(e),e=(e<<1^e>>31)>>>0,se(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),l=le.enc(e);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),l=le.uEnc(e);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(n)}int64(e){let n=le.enc(e);return _(n.lo,n.hi,this.buf),this}sint64(e){const n=le.enc(e),i=n.hi>>31,l=n.lo<<1^i,c=(n.hi<<1|n.lo>>>31)^i;return _(l,c,this.buf),this}uint64(e){const n=le.uEnc(e);return _(n.lo,n.hi,this.buf),this}}class Qa{constructor(e,n=lr().decodeUtf8){this.decodeUtf8=n,this.varint64=T,this.uint32=Ne,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e,n){let i=this.pos;switch(e){case qe.Varint:for(;this.buf[this.pos++]&128;);break;case qe.Bit64:this.pos+=4;case qe.Bit32:this.pos+=4;break;case qe.LengthDelimited:let l=this.uint32();this.pos+=l;break;case qe.StartGroup:for(;;){const[c,g]=this.tag();if(g===qe.EndGroup){if(n!==void 0&&c!==n)throw new Error("invalid end group tag");break}this.skip(g,c)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return le.dec(...this.varint64())}uint64(){return le.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,le.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return le.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return le.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.decodeUtf8(this.bytes())}}function cr(a){if(typeof a=="string")a=Number(a);else if(typeof a!="number")throw new Error("invalid int32: "+typeof a);if(!Number.isInteger(a)||a>Uo||a<da)throw new Error("invalid int32: "+a)}function qa(a){if(typeof a=="string")a=Number(a);else if(typeof a!="number")throw new Error("invalid uint32: "+typeof a);if(!Number.isInteger(a)||a>ha||a<0)throw new Error("invalid uint32: "+a)}function zi(a){if(typeof a=="string"){const e=a;if(a=Number(a),Number.isNaN(a)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof a!="number")throw new Error("invalid float32: "+typeof a);if(Number.isFinite(a)&&(a>ur||a<an))throw new Error("invalid float32: "+a)}function xr(a,e){const n=a.fieldKind=="list"?O(e,a):a.fieldKind=="map"?$(e,a):ki(a,e);if(n===!0)return;let i;switch(a.fieldKind){case"list":i=`expected ${kt(a)}, got ${Ee(e)}`;break;case"map":i=`expected ${sn(a)}, got ${Ee(e)}`;break;default:i=Wi(a,e,n)}return new Ut(a,i)}function fr(a,e,n){const i=ki(a,n);if(i!==!0)return new Ut(a,`list item #${e+1}: ${Wi(a,n,i)}`)}function Ul(a,e,n){const i=ga(e,a.mapKey);if(i!==!0)return new Ut(a,`invalid map key: ${Wi({scalar:a.mapKey},e,i)}`);const l=ki(a,n);if(l!==!0)return new Ut(a,`map entry ${Ee(e)}: ${Wi(a,n,l)}`)}function ki(a,e){return a.scalar!==void 0?ga(e,a.scalar):a.enum!==void 0?a.enum.open?Number.isInteger(e):a.enum.values.some(n=>n.number===e):ce(e,a.message)}function ga(a,e){switch(e){case S.DOUBLE:return typeof a=="number";case S.FLOAT:return typeof a!="number"?!1:Number.isNaN(a)||!Number.isFinite(a)?!0:a>ur||a<an?`${a.toFixed()} out of range`:!0;case S.INT32:case S.SFIXED32:case S.SINT32:return typeof a!="number"||!Number.isInteger(a)?!1:a>Uo||a<da?`${a.toFixed()} out of range`:!0;case S.FIXED32:case S.UINT32:return typeof a!="number"||!Number.isInteger(a)?!1:a>ha||a<0?`${a.toFixed()} out of range`:!0;case S.BOOL:return typeof a=="boolean";case S.STRING:return typeof a!="string"?!1:lr().checkUtf8(a)||"invalid UTF8";case S.BYTES:return a instanceof Uint8Array;case S.INT64:case S.SFIXED64:case S.SINT64:if(typeof a=="bigint"||typeof a=="number"||typeof a=="string"&&a.length>0)try{return le.parse(a),!0}catch{return`${a} out of range`}return!1;case S.FIXED64:case S.UINT64:if(typeof a=="bigint"||typeof a=="number"||typeof a=="string"&&a.length>0)try{return le.uParse(a),!0}catch{return`${a} out of range`}return!1}}function Wi(a,e,n){return n=typeof n=="string"?`: ${n}`:`, got ${Ee(e)}`,a.scalar!==void 0?`expected ${Ki(a.scalar)}`+n:a.enum!==void 0?`expected ${a.enum.toString()}`+n:`expected ${Lt(a.message)}`+n}function Ee(a){switch(typeof a){case"object":return a===null?"null":a instanceof Uint8Array?`Uint8Array(${a.length})`:Array.isArray(a)?`Array(${a.length})`:O(a)?kt(a.field()):$(a)?sn(a.field()):ce(a)?Lt(a.desc):B(a)?`message ${a.$typeName}`:"object";case"string":return a.length>30?"string":`"${a.split('"').join('\\"')}"`;case"boolean":return String(a);case"number":return String(a);case"bigint":return String(a)+"n";default:return typeof a}}function Lt(a){return`ReflectMessage (${a.typeName})`}function kt(a){switch(a.listKind){case"message":return`ReflectList (${a.message.toString()})`;case"enum":return`ReflectList (${a.enum.toString()})`;case"scalar":return`ReflectList (${S[a.scalar]})`}}function sn(a){switch(a.mapKind){case"message":return`ReflectMap (${S[a.mapKey]}, ${a.message.toString()})`;case"enum":return`ReflectMap (${S[a.mapKey]}, ${a.enum.toString()})`;case"scalar":return`ReflectMap (${S[a.mapKey]}, ${S[a.scalar]})`}}function Ki(a){switch(a){case S.STRING:return"string";case S.BOOL:return"boolean";case S.INT64:case S.SINT64:case S.SFIXED64:return"bigint (int64)";case S.UINT64:case S.FIXED64:return"bigint (uint64)";case S.BYTES:return"Uint8Array";case S.DOUBLE:return"number (float64)";case S.FLOAT:return"number (float32)";case S.FIXED32:case S.UINT32:return"number (uint32)";case S.INT32:case S.SFIXED32:case S.SINT32:return"number (int32)"}}function ft(a,e,n=!0){return new _t(a,e,n)}const Mt=new WeakMap;class _t{get sortedFields(){const e=Mt.get(this.desc);if(e)return e;const n=this.desc.fields.concat().sort((i,l)=>i.number-l.number);return Mt.set(this.desc,n),n}constructor(e,n,i=!0){this.lists=new Map,this.maps=new Map,this.check=i,this.desc=e,this.message=this[Xe]=n??ge(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(n=>[n.number,n]))),this._fieldsByNumber.get(e)}oneofCase(e){return ht(this.message,e),$t(this.message,e)}isSet(e){return ht(this.message,e),Ir(this.message,e)}clear(e){ht(this.message,e),Re(this.message,e)}get(e){ht(this.message,e);const n=W(this.message,e);switch(e.fieldKind){case"list":let i=this.lists.get(e);return(!i||i[Xe]!==n)&&this.lists.set(e,i=new on(e,n,this.check)),i;case"map":let l=this.maps.get(e);return(!l||l[Xe]!==n)&&this.maps.set(e,l=new Ts(e,n,this.check)),l;case"message":return Ll(e,n,this.check);case"scalar":return n===void 0?Ce(e.scalar,!1):ti(e,n);case"enum":return n??e.enum.values[0].number}}set(e,n){if(ht(this.message,e),this.check){const l=xr(e,n);if(l)throw l}let i;e.fieldKind=="message"?i=Dr(e,n):$(n)||O(n)?i=n[Xe]:i=Pt(e,n),he(this.message,e,i)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function ht(a,e){if(e.parent.typeName!==a.$typeName)throw new Ut(e,`cannot use ${e.toString()} with message ${a.$typeName}`,"ForeignFieldError")}class on{field(){return this._field}get size(){return this._arr.length}constructor(e,n,i){this._field=e,this._arr=this[Xe]=n,this.check=i}get(e){const n=this._arr[e];return n===void 0?void 0:Xi(this._field,n,this.check)}set(e,n){if(e<0||e>=this._arr.length)throw new Ut(this._field,`list item #${e+1}: out of range`);if(this.check){const i=fr(this._field,e,n);if(i)throw i}this._arr[e]=cc(this._field,n)}add(e){if(this.check){const n=fr(this._field,this._arr.length,e);if(n)throw n}this._arr.push(cc(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield Xi(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,Xi(this._field,this._arr[e],this.check)]}}class Ts{constructor(e,n,i=!0){this.obj=this[Xe]=n??{},this.check=i,this._field=e}field(){return this._field}set(e,n){if(this.check){const i=Ul(this._field,e,n);if(i)throw i}return this.obj[ma(e)]=fc(this._field,n),this}delete(e){const n=ma(e),i=Object.prototype.hasOwnProperty.call(this.obj,n);return i&&delete this.obj[n],i}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let n=this.obj[ma(e)];return n!==void 0&&(n=ei(this._field,n,this.check)),n}has(e){return Object.prototype.hasOwnProperty.call(this.obj,ma(e))}*keys(){for(const e of Object.keys(this.obj))yield Ns(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[Ns(e[0],this._field.mapKey),ei(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield ei(this._field,e,this.check)}forEach(e,n){for(const i of this.entries())e.call(n,i[1],i[0],this)}}function Dr(a,e){return ce(e)?oe(e.message)&&!a.oneof&&a.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&a.parent.typeName!="google.protobuf.Value"?dc(e.message):e.message:e}function Ll(a,e,n){return e!==void 0&&(ye(a.message)&&!a.oneof&&a.fieldKind=="message"?e={$typeName:a.message.typeName,value:ti(a.message.fields[0],e)}:a.message.typeName=="google.protobuf.Struct"&&a.parent.typeName!="google.protobuf.Value"&&Ve(e)&&(e=hc(e))),new _t(a.message,e,n)}function cc(a,e){return a.listKind=="message"?Dr(a,e):Pt(a,e)}function Xi(a,e,n){return a.listKind=="message"?Ll(a,e,n):ti(a,e)}function fc(a,e){return a.mapKind=="message"?Dr(a,e):Pt(a,e)}function ei(a,e,n){return a.mapKind=="message"?Ll(a,e,n):e}function ma(a){return typeof a=="string"||typeof a=="number"?a:String(a)}function Ns(a,e){switch(e){case S.STRING:return a;case S.INT32:case S.FIXED32:case S.UINT32:case S.SFIXED32:case S.SINT32:{const n=Number.parseInt(a);if(Number.isFinite(n))return n;break}case S.BOOL:switch(a){case"true":return!0;case"false":return!1}break;case S.UINT64:case S.FIXED64:try{return le.uParse(a)}catch{}break;default:try{return le.parse(a)}catch{}break}return a}function ti(a,e){switch(a.scalar){case S.INT64:case S.SFIXED64:case S.SINT64:"longAsString"in a&&a.longAsString&&typeof e=="string"&&(e=le.parse(e));break;case S.FIXED64:case S.UINT64:"longAsString"in a&&a.longAsString&&typeof e=="string"&&(e=le.uParse(e));break}return e}function Pt(a,e){switch(a.scalar){case S.INT64:case S.SFIXED64:case S.SINT64:"longAsString"in a&&a.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=le.parse(e));break;case S.FIXED64:case S.UINT64:"longAsString"in a&&a.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=le.uParse(e));break}return e}function hc(a){const e={$typeName:"google.protobuf.Struct",fields:{}};if(Ve(a))for(const[n,i]of Object.entries(a))e.fields[n]=Pi(i);return e}function dc(a){const e={};for(const[n,i]of Object.entries(a.fields))e[n]=ni(i);return e}function ni(a){switch(a.kind.case){case"structValue":return dc(a.kind.value);case"listValue":return a.kind.value.values.map(ni);case"nullValue":case void 0:return null;default:return a.kind.value}}function Pi(a){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof a){case"number":e.kind={case:"numberValue",value:a};break;case"string":e.kind={case:"stringValue",value:a};break;case"boolean":e.kind={case:"boolValue",value:a};break;case"object":if(a===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(a)){const n={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(a))for(const i of a)n.values.push(Pi(i));e.kind={case:"listValue",value:n}}else e.kind={case:"structValue",value:hc(a)};break}return e}function gc(a){const e=ya();let n=a.length*3/4;a[a.length-2]=="="?n-=2:a[a.length-1]=="="&&(n-=1);let i=new Uint8Array(n),l=0,c=0,g,y=0;for(let b=0;b<a.length;b++){if(g=e[a.charCodeAt(b)],g===void 0)switch(a[b]){case"=":c=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(c){case 0:y=g,c=1;break;case 1:i[l++]=y<<2|(g&48)>>4,y=g,c=2;break;case 2:i[l++]=(y&15)<<4|(g&60)>>2,y=g,c=3;break;case 3:i[l++]=(y&3)<<6|g,c=0;break}}if(c==1)throw Error("invalid base64 string");return i.subarray(0,l)}function vh(a,e="std"){const n=Mo(e),i=e=="std";let l="",c=0,g,y=0;for(let b=0;b<a.length;b++)switch(g=a[b],c){case 0:l+=n[g>>2],y=(g&3)<<4,c=1;break;case 1:l+=n[y|g>>4],y=(g&15)<<2,c=2;break;case 2:l+=n[y|g>>6],l+=n[g&63],c=0;break}return c&&(l+=n[y],i&&(l+="=",c==1&&(l+="="))),l}let Lo,bh,pa;function Mo(a){return Lo||(Lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),bh=Lo.slice(0,-2).concat("-","_")),a=="url"?bh:Lo}function ya(){if(!pa){pa=[];const a=Mo("std");for(let e=0;e<a.length;e++)pa[a[e].charCodeAt(0)]=e;pa[45]=a.indexOf("+"),pa[95]=a.indexOf("/")}return pa}function Fi(a){let e=!1;const n=[];for(let i=0;i<a.length;i++){let l=a.charAt(i);switch(l){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(l),e=!1;break;default:e&&(e=!1,l=l.toUpperCase()),n.push(l);break}}return n.join("")}const Sh=new Set(["constructor","toString","toJSON","valueOf"]);function kr(a){return Sh.has(a)?a+"$":a}function _o(a){for(const e of a.field)lt(e,"jsonName")||(e.jsonName=Fi(e.name));a.nestedType.forEach(_o)}function mc(a,e){const n=a.values.find(i=>i.name===e);if(!n)throw new Error(`cannot parse ${a} default value: ${e}`);return n.number}function Ug(a,e){switch(a){case S.STRING:return e;case S.BYTES:{const n=Ah(e);if(n===!1)throw new Error(`cannot parse ${S[a]} default value: ${e}`);return n}case S.INT64:case S.SFIXED64:case S.SINT64:return le.parse(e);case S.UINT64:case S.FIXED64:return le.uParse(e);case S.DOUBLE:case S.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case S.BOOL:return e==="true";case S.INT32:case S.UINT32:case S.SINT32:case S.FIXED32:case S.SFIXED32:return parseInt(e,10)}}function Ah(a){const e=[],n={tail:a,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(i){if(this.tail.length>=i){const l=this.tail.substring(0,i);return this.tail=this.tail.substring(i),l}return!1}};for(;n.next();)switch(n.c){case"\\":if(n.next())switch(n.c){case"\\":e.push(n.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const i=n.c,l=n.take(2);if(l===!1)return!1;const c=parseInt(i+l,8);if(Number.isNaN(c))return!1;e.push(c);break}case"x":{const i=n.c,l=n.take(2);if(l===!1)return!1;const c=parseInt(i+l,16);if(Number.isNaN(c))return!1;e.push(c);break}case"u":{const i=n.c,l=n.take(4);if(l===!1)return!1;const c=parseInt(i+l,16);if(Number.isNaN(c))return!1;const g=new Uint8Array(4);new DataView(g.buffer).setInt32(0,c,!0),e.push(g[0],g[1],g[2],g[3]);break}case"U":{const i=n.c,l=n.take(8);if(l===!1)return!1;const c=le.uEnc(i+l),g=new Uint8Array(8),y=new DataView(g.buffer);y.setInt32(0,c.lo,!0),y.setInt32(4,c.hi,!0),e.push(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7]);break}}break;default:e.push(n.c.charCodeAt(0))}return new Uint8Array(e)}function*Yn(a){switch(a.kind){case"file":for(const e of a.messages)yield e,yield*Yn(e);yield*a.enums,yield*a.services,yield*a.extensions;break;case"message":for(const e of a.nestedMessages)yield e,yield*Yn(e);yield*a.nestedEnums,yield*a.nestedExtensions;break}}function pc(...a){const e=Lg();if(!a.length)return e;if("$typeName"in a[0]&&a[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const n of a[0].file)Go(n,e);return e}if("$typeName"in a[0]){let n=function(g){const y=[];for(const b of g.dependency){if(e.getFile(b)!=null||c.has(b))continue;const R=l(b);if(!R)throw new Error(`Unable to resolve ${b}, imported by ${g.name}`);"kind"in R?e.addFile(R,!1,!0):(c.add(R.name),y.push(R))}return y.concat(...y.map(n))};const i=a[0],l=a[1],c=new Set;for(const g of[i,...n(i)].reverse())Go(g,e)}else for(const n of a)for(const i of n.files)e.addFile(i);return e}function Lg(){const a=new Map,e=new Map,n=new Map;return{kind:"registry",types:a,extendees:e,[Symbol.iterator](){return a.values()},get files(){return n.values()},addFile(i,l,c){if(n.set(i.proto.name,i),!l)for(const g of Yn(i))this.add(g);if(c)for(const g of i.dependencies)this.addFile(g,l,c)},add(i){if(i.kind=="extension"){let l=e.get(i.extendee.typeName);l||e.set(i.extendee.typeName,l=new Map),l.set(i.number,i)}a.set(i.typeName,i)},get(i){return a.get(i)},getFile(i){return n.get(i)},getMessage(i){const l=a.get(i);return(l==null?void 0:l.kind)=="message"?l:void 0},getEnum(i){const l=a.get(i);return(l==null?void 0:l.kind)=="enum"?l:void 0},getExtension(i){const l=a.get(i);return(l==null?void 0:l.kind)=="extension"?l:void 0},getExtensionFor(i,l){var c;return(c=e.get(i.typeName))===null||c===void 0?void 0:c.get(l)},getService(i){const l=a.get(i);return(l==null?void 0:l.kind)=="service"?l:void 0}}}const Ml=998,Eh=999,_l=9,Yo=10,Sn=11,yc=12,vc=14,Zo=3,Cs=2,bc=1,Rh=0,ri=1,wh=2,Th=3,Nh=1,Sc=2,Mg=1,Ch={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function Go(a,e){var n,i;const l={kind:"file",proto:a,deprecated:(i=(n=a.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,edition:va(a),name:a.name.replace(/\.proto$/,""),dependencies:Ec(a,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${a.name}`}},c=new Map,g={get(y){return c.get(y)},add(y){var b;Cn(((b=y.proto.options)===null||b===void 0?void 0:b.mapEntry)===!0),c.set(y.typeName,y)}};for(const y of a.enumType)Ji(y,l,void 0,e);for(const y of a.messageType)ji(y,l,void 0,e,g);for(const y of a.service)Ih(y,l,e);zo(l,e);for(const y of c.values())ko(y,e,g);for(const y of l.messages)ko(y,e,g),zo(y,e);e.addFile(l,!0)}function zo(a,e){switch(a.kind){case"file":for(const n of a.proto.extension){const i=Hi(n,a,e);a.extensions.push(i),e.add(i)}break;case"message":for(const n of a.proto.extension){const i=Hi(n,a,e);a.nestedExtensions.push(i),e.add(i)}for(const n of a.nestedMessages)zo(n,e);break}}function ko(a,e,n){const i=a.proto.oneofDecl.map(c=>xh(c,a)),l=new Set;for(const c of a.proto.field){const g=Dh(c,i),y=Hi(c,a,e,g,n);a.fields.push(y),a.field[y.localName]=y,g===void 0?a.members.push(y):(g.fields.push(y),l.has(g)||(l.add(g),a.members.push(g)))}for(const c of i.filter(g=>l.has(g)))a.oneofs.push(c);for(const c of a.nestedMessages)ko(c,e,n)}function Ji(a,e,n,i){var l,c,g,y,b;const R=Wo(a.name,a.value),I={kind:"enum",proto:a,deprecated:(c=(l=a.options)===null||l===void 0?void 0:l.deprecated)!==null&&c!==void 0?c:!1,file:e,parent:n,open:!0,name:a.name,typeName:Is(a,n,e),value:{},values:[],sharedPrefix:R,toString(){return`enum ${this.typeName}`}};I.open=Zn(I),i.add(I);for(const Z of a.value){const J=Z.name;I.values.push(I.value[Z.number]={kind:"enum_value",proto:Z,deprecated:(y=(g=Z.options)===null||g===void 0?void 0:g.deprecated)!==null&&y!==void 0?y:!1,parent:I,name:J,localName:kr(R==null?J:J.substring(R.length)),number:Z.number,toString(){return`enum value ${I.typeName}.${J}`}})}((b=n==null?void 0:n.nestedEnums)!==null&&b!==void 0?b:e.enums).push(I)}function ji(a,e,n,i,l){var c,g,y,b;const R={kind:"message",proto:a,deprecated:(g=(c=a.options)===null||c===void 0?void 0:c.deprecated)!==null&&g!==void 0?g:!1,file:e,parent:n,name:a.name,typeName:Is(a,n,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((y=a.options)===null||y===void 0?void 0:y.mapEntry)===!0?l.add(R):(((b=n==null?void 0:n.nestedMessages)!==null&&b!==void 0?b:e.messages).push(R),i.add(R));for(const I of a.enumType)Ji(I,e,R,i);for(const I of a.nestedType)ji(I,e,R,i,l)}function Ih(a,e,n){var i,l;const c={kind:"service",proto:a,deprecated:(l=(i=a.options)===null||i===void 0?void 0:i.deprecated)!==null&&l!==void 0?l:!1,file:e,name:a.name,typeName:Is(a,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(c),n.add(c);for(const g of a.method){const y=Ac(g,c,n);c.methods.push(y),c.method[y.localName]=y}}function Ac(a,e,n){var i,l,c,g;let y;a.clientStreaming&&a.serverStreaming?y="bidi_streaming":a.clientStreaming?y="client_streaming":a.serverStreaming?y="server_streaming":y="unary";const b=n.getMessage(hr(a.inputType)),R=n.getMessage(hr(a.outputType));Cn(b,`invalid MethodDescriptorProto: input_type ${a.inputType} not found`),Cn(R,`invalid MethodDescriptorProto: output_type ${a.inputType} not found`);const I=a.name;return{kind:"rpc",proto:a,deprecated:(l=(i=a.options)===null||i===void 0?void 0:i.deprecated)!==null&&l!==void 0?l:!1,parent:e,name:I,localName:kr(I.length?kr(I[0].toLowerCase()+I.substring(1)):I),methodKind:y,input:b,output:R,idempotency:(g=(c=a.options)===null||c===void 0?void 0:c.idempotencyLevel)!==null&&g!==void 0?g:Rh,toString(){return`rpc ${e.typeName}.${I}`}}}function xh(a,e){return{kind:"oneof",proto:a,deprecated:!1,parent:e,fields:[],name:a.name,localName:kr(Fi(a.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function Hi(a,e,n,i,l){var c,g,y;const b=l===void 0,R={kind:"field",proto:a,deprecated:(g=(c=a.options)===null||c===void 0?void 0:c.deprecated)!==null&&g!==void 0?g:!1,name:a.name,number:a.number,scalar:void 0,message:void 0,enum:void 0,presence:Yl(a,i,b,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(b){const Y=e.kind=="file"?e:e.file,Q=e.kind=="file"?void 0:e,re=Is(a,Q,Y);R.kind="extension",R.file=Y,R.parent=Q,R.oneof=void 0,R.typeName=re,R.jsonName=`[${re}]`,R.toString=()=>`extension ${re}`;const me=n.getMessage(hr(a.extendee));Cn(me,`invalid FieldDescriptorProto: extendee ${a.extendee} not found`),R.extendee=me}else{const Y=e;Cn(Y.kind=="message"),R.parent=Y,R.oneof=i,R.localName=i?Fi(a.name):kr(Fi(a.name)),R.jsonName=a.jsonName,R.toString=()=>`field ${Y.typeName}.${a.name}`}const I=a.label,Z=a.type,J=(y=a.options)===null||y===void 0?void 0:y.jstype;if(I===Zo){const Y=Z==Sn?l==null?void 0:l.get(hr(a.typeName)):void 0;if(Y){R.fieldKind="map";const{key:Q,value:re}=Oh(Y);return R.mapKey=Q.scalar,R.mapKind=re.fieldKind,R.message=re.message,R.delimitedEncoding=!1,R.enum=re.enum,R.scalar=re.scalar,R}switch(R.fieldKind="list",Z){case Sn:case Yo:R.listKind="message",R.message=n.getMessage(hr(a.typeName)),Cn(R.message),R.delimitedEncoding=ii(a,e);break;case vc:R.listKind="enum",R.enum=n.getEnum(hr(a.typeName)),Cn(R.enum);break;default:R.listKind="scalar",R.scalar=Z,R.longAsString=J==bc;break}return R.packed=Zl(a,e),R}switch(Z){case Sn:case Yo:R.fieldKind="message",R.message=n.getMessage(hr(a.typeName)),Cn(R.message,`invalid FieldDescriptorProto: type_name ${a.typeName} not found`),R.delimitedEncoding=ii(a,e),R.getDefaultValue=()=>{};break;case vc:{const Y=n.getEnum(hr(a.typeName));Cn(Y!==void 0,`invalid FieldDescriptorProto: type_name ${a.typeName} not found`),R.fieldKind="enum",R.enum=n.getEnum(hr(a.typeName)),R.getDefaultValue=()=>lt(a,"defaultValue")?mc(Y,a.defaultValue):void 0;break}default:{R.fieldKind="scalar",R.scalar=Z,R.longAsString=J==bc,R.getDefaultValue=()=>lt(a,"defaultValue")?Ug(Z,a.defaultValue):void 0;break}}return R}function va(a){switch(a.syntax){case"":case"proto2":return Ml;case"proto3":return Eh;case"editions":if(a.edition in Ch)return a.edition;throw new Error(`${a.name}: unsupported edition`);default:throw new Error(`${a.name}: unsupported syntax "${a.syntax}"`)}}function Ec(a,e){return a.dependency.map(n=>{const i=e.getFile(n);if(!i)throw new Error(`Cannot find ${n}, imported by ${a.name}`);return i})}function Wo(a,e){const n=ai(a)+"_";for(const i of e){if(!i.name.toLowerCase().startsWith(n))return;const l=i.name.substring(n.length);if(l.length==0||/^\d/.test(l))return}return n}function ai(a){return(a.substring(0,1)+a.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function Is(a,e,n){let i;return e?i=`${e.typeName}.${a.name}`:n.proto.package.length>0?i=`${n.proto.package}.${a.name}`:i=`${a.name}`,i}function hr(a){return a.startsWith(".")?a.substring(1):a}function Dh(a,e){if(!lt(a,"oneofIndex")||a.proto3Optional)return;const n=e[a.oneofIndex];return Cn(n,`invalid FieldDescriptorProto: oneof #${a.oneofIndex} for field #${a.number} not found`),n}function Yl(a,e,n,i){if(a.label==Cs)return Th;if(a.label==Zo)return wh;if(e||a.proto3Optional||n)return ri;const l=ba("fieldPresence",{proto:a,parent:i});return l==wh&&(a.type==Sn||a.type==Yo)?ri:l}function Zl(a,e){if(a.label!=Zo)return!1;switch(a.type){case _l:case yc:case Yo:case Sn:return!1}const n=a.options;return n&&lt(n,"packed")?n.packed:Nh==ba("repeatedFieldEncoding",{proto:a,parent:e})}function Oh(a){const e=a.fields.find(i=>i.number===1),n=a.fields.find(i=>i.number===2);return Cn(e&&e.fieldKind=="scalar"&&e.scalar!=S.BYTES&&e.scalar!=S.FLOAT&&e.scalar!=S.DOUBLE&&n&&n.fieldKind!="list"&&n.fieldKind!="map"),{key:e,value:n}}function Zn(a){var e;return Mg==ba("enumType",{proto:a.proto,parent:(e=a.parent)!==null&&e!==void 0?e:a.file})}function ii(a,e){return a.type==Yo?!0:Sc==ba("messageEncoding",{proto:a,parent:e})}function ba(a,e){var n,i;const l=(n=e.proto.options)===null||n===void 0?void 0:n.features;if(l){const c=l[a];if(c!=0)return c}if("kind"in e){if(e.kind=="message")return ba(a,(i=e.parent)!==null&&i!==void 0?i:e.file);const c=Ch[e.edition];if(!c)throw new Error(`feature default for edition ${e.edition} not found`);return c[a]}return ba(a,e.parent)}function Cn(a,e){if(!a)throw new Error(e)}function _g(a){const e=Rc(a);return e.messageType.forEach(_o),pc(e,()=>{}).getFile(e.name)}function Rc(a){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},a),{messageType:a.messageType.map(Gl),enumType:a.enumType.map(wc)}))}function Gl(a){var e,n,i,l,c,g,y,b;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:a.name,field:(n=(e=a.field)===null||e===void 0?void 0:e.map(Ko))!==null&&n!==void 0?n:[],extension:[],nestedType:(l=(i=a.nestedType)===null||i===void 0?void 0:i.map(Gl))!==null&&l!==void 0?l:[],enumType:(g=(c=a.enumType)===null||c===void 0?void 0:c.map(wc))!==null&&g!==void 0?g:[],extensionRange:(b=(y=a.extensionRange)===null||y===void 0?void 0:y.map(I=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},I)))!==null&&b!==void 0?b:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function Ko(a){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},a),{options:a.options?zl(a.options):void 0}))}function zl(a){var e,n,i;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},a),{targets:(e=a.targets)!==null&&e!==void 0?e:[],editionDefaults:(i=(n=a.editionDefaults)===null||n===void 0?void 0:n.map(c=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},c)))!==null&&i!==void 0?i:[],uninterpretedOption:[]}))}function wc(a){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:a.name,reservedName:[],reservedRange:[],value:a.value.map(n=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},n))})}function Le(a,e,...n){return n.reduce((i,l)=>i.nestedMessages[l],a.messages[e])}const Yg=Le(_g({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),1);var kl;(function(a){a[a.DECLARATION=0]="DECLARATION",a[a.UNVERIFIED=1]="UNVERIFIED"})(kl||(kl={}));var Vh;(function(a){a[a.DOUBLE=1]="DOUBLE",a[a.FLOAT=2]="FLOAT",a[a.INT64=3]="INT64",a[a.UINT64=4]="UINT64",a[a.INT32=5]="INT32",a[a.FIXED64=6]="FIXED64",a[a.FIXED32=7]="FIXED32",a[a.BOOL=8]="BOOL",a[a.STRING=9]="STRING",a[a.GROUP=10]="GROUP",a[a.MESSAGE=11]="MESSAGE",a[a.BYTES=12]="BYTES",a[a.UINT32=13]="UINT32",a[a.ENUM=14]="ENUM",a[a.SFIXED32=15]="SFIXED32",a[a.SFIXED64=16]="SFIXED64",a[a.SINT32=17]="SINT32",a[a.SINT64=18]="SINT64"})(Vh||(Vh={}));var Bh;(function(a){a[a.OPTIONAL=1]="OPTIONAL",a[a.REPEATED=3]="REPEATED",a[a.REQUIRED=2]="REQUIRED"})(Bh||(Bh={}));var Uh;(function(a){a[a.SPEED=1]="SPEED",a[a.CODE_SIZE=2]="CODE_SIZE",a[a.LITE_RUNTIME=3]="LITE_RUNTIME"})(Uh||(Uh={}));var Lh;(function(a){a[a.STRING=0]="STRING",a[a.CORD=1]="CORD",a[a.STRING_PIECE=2]="STRING_PIECE"})(Lh||(Lh={}));var Mh;(function(a){a[a.JS_NORMAL=0]="JS_NORMAL",a[a.JS_STRING=1]="JS_STRING",a[a.JS_NUMBER=2]="JS_NUMBER"})(Mh||(Mh={}));var Tc;(function(a){a[a.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",a[a.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",a[a.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(Tc||(Tc={}));var _h;(function(a){a[a.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",a[a.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",a[a.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",a[a.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",a[a.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",a[a.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",a[a.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",a[a.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",a[a.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",a[a.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(_h||(_h={}));var Yh;(function(a){a[a.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",a[a.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",a[a.IDEMPOTENT=2]="IDEMPOTENT"})(Yh||(Yh={}));var Zh;(function(a){a[a.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",a[a.EXPORT_ALL=1]="EXPORT_ALL",a[a.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",a[a.LOCAL_ALL=3]="LOCAL_ALL",a[a.STRICT=4]="STRICT"})(Zh||(Zh={}));var Gh;(function(a){a[a.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",a[a.EXPLICIT=1]="EXPLICIT",a[a.IMPLICIT=2]="IMPLICIT",a[a.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(Gh||(Gh={}));var Wl;(function(a){a[a.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",a[a.OPEN=1]="OPEN",a[a.CLOSED=2]="CLOSED"})(Wl||(Wl={}));var zh;(function(a){a[a.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",a[a.PACKED=1]="PACKED",a[a.EXPANDED=2]="EXPANDED"})(zh||(zh={}));var kh;(function(a){a[a.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",a[a.VERIFY=2]="VERIFY",a[a.NONE=3]="NONE"})(kh||(kh={}));var Wh;(function(a){a[a.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",a[a.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",a[a.DELIMITED=2]="DELIMITED"})(Wh||(Wh={}));var Nc;(function(a){a[a.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",a[a.ALLOW=1]="ALLOW",a[a.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Nc||(Nc={}));var Kh;(function(a){a[a.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",a[a.STYLE2024=1]="STYLE2024",a[a.STYLE_LEGACY=2]="STYLE_LEGACY"})(Kh||(Kh={}));var Xh;(function(a){a[a.NONE=0]="NONE",a[a.SET=1]="SET",a[a.ALIAS=2]="ALIAS"})(Xh||(Xh={}));var Ph;(function(a){a[a.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",a[a.EDITION_LEGACY=900]="EDITION_LEGACY",a[a.EDITION_PROTO2=998]="EDITION_PROTO2",a[a.EDITION_PROTO3=999]="EDITION_PROTO3",a[a.EDITION_2023=1e3]="EDITION_2023",a[a.EDITION_2024=1001]="EDITION_2024",a[a.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",a[a.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",a[a.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",a[a.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",a[a.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",a[a.EDITION_MAX=2147483647]="EDITION_MAX"})(Ph||(Ph={}));var Fh;(function(a){a[a.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",a[a.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",a[a.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(Fh||(Fh={}));const Jh={readUnknownFields:!0};function Zg(a){return a?Object.assign(Object.assign({},Jh),a):Jh}function dr(a,e,n){const i=ft(a,void 0,!1);return jh(i,new Qa(e),Zg(n),!1,e.byteLength),i.message}function jh(a,e,n,i,l){var c;const g=i?e.len:e.pos+l;let y,b;const R=(c=a.getUnknown())!==null&&c!==void 0?c:[];for(;e.pos<g&&([y,b]=e.tag(),!(i&&b==qe.EndGroup));){const I=a.findNumber(y);if(!I){const Z=e.skip(b,y);n.readUnknownFields&&R.push({no:y,wireType:b,data:Z});continue}Hh(a,e,I,b,n)}if(i&&(b!=qe.EndGroup||y!==l))throw new Error("invalid end group tag");R.length>0&&a.setUnknown(R)}function Hh(a,e,n,i,l){var c;switch(n.fieldKind){case"scalar":a.set(n,$i(e,n.scalar));break;case"enum":const g=$i(e,S.INT32);if(n.enum.open)a.set(n,g);else if(n.enum.values.some(b=>b.number===g))a.set(n,g);else if(l.readUnknownFields){const b=[];se(g,b);const R=(c=a.getUnknown())!==null&&c!==void 0?c:[];R.push({no:n.number,wireType:i,data:new Uint8Array(b)}),a.setUnknown(R)}break;case"message":a.set(n,Ic(e,l,n,a.get(n)));break;case"list":Xo(e,i,a.get(n),l);break;case"map":Cc(e,a.get(n),l);break}}function Cc(a,e,n){const i=e.field();let l,c;const g=a.uint32(),y=a.pos+g;for(;a.pos<y;){const[b]=a.tag();switch(b){case 1:l=$i(a,i.mapKey);break;case 2:switch(i.mapKind){case"scalar":c=$i(a,i.scalar);break;case"enum":c=a.int32();break;case"message":c=Ic(a,n,i);break}break}}if(l===void 0&&(l=Ce(i.mapKey,!1)),c===void 0)switch(i.mapKind){case"scalar":c=Ce(i.scalar,!1);break;case"enum":c=i.enum.values[0].number;break;case"message":c=ft(i.message,void 0,!1);break}e.set(l,c)}function Xo(a,e,n,i){var l;const c=n.field();if(c.listKind==="message"){n.add(Ic(a,i,c));return}const g=(l=c.scalar)!==null&&l!==void 0?l:S.INT32;if(!(e==qe.LengthDelimited&&g!=S.STRING&&g!=S.BYTES)){n.add($i(a,g));return}const b=a.uint32()+a.pos;for(;a.pos<b;)n.add($i(a,g))}function Ic(a,e,n,i){const l=n.delimitedEncoding,c=i??ft(n.message,void 0,!1);return jh(c,a,e,l,l?n.number:a.uint32()),c}function $i(a,e){switch(e){case S.STRING:return a.string();case S.BOOL:return a.bool();case S.DOUBLE:return a.double();case S.FLOAT:return a.float();case S.INT32:return a.int32();case S.INT64:return a.int64();case S.UINT64:return a.uint64();case S.FIXED64:return a.fixed64();case S.BYTES:return a.bytes();case S.FIXED32:return a.fixed32();case S.SFIXED32:return a.sfixed32();case S.SFIXED64:return a.sfixed64();case S.SINT64:return a.sint64();case S.UINT32:return a.uint32();case S.SINT32:return a.sint32()}}function Wr(a,e){var n;const i=dr(Yg,gc(a));return i.messageType.forEach(_o),i.dependency=(n=e==null?void 0:e.map(c=>c.proto.name))!==null&&n!==void 0?n:[],pc(i,c=>e==null?void 0:e.find(g=>g.proto.name===c)).getFile(i.name)}const $h=Wr("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function Qh(a){return new Date(qh(a))}function qh(a){return Number(a.seconds)*1e3+Math.round(a.nanos/1e6)}const xs=Wr("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),ed=Wr("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),Gg=Le(ed,0),zg=3,xc={writeUnknownFields:!0};function td(a){return a?Object.assign(Object.assign({},xc),a):xc}function gr(a,e,n){return si(new Gi,td(n),ft(a,e)).finish()}function si(a,e,n){var i;for(const l of n.sortedFields){if(!n.isSet(l)){if(l.presence==zg)throw new Error(`cannot encode ${l} to binary: required field not set`);continue}nd(a,e,n,l)}if(e.writeUnknownFields)for(const{no:l,wireType:c,data:g}of(i=n.getUnknown())!==null&&i!==void 0?i:[])a.tag(l,c).raw(g);return a}function nd(a,e,n,i){var l;switch(i.fieldKind){case"scalar":case"enum":Qi(a,n.desc.typeName,i.name,(l=i.scalar)!==null&&l!==void 0?l:S.INT32,i.number,n.get(i));break;case"list":rd(a,e,i,n.get(i));break;case"message":Dc(a,e,i,n.get(i));break;case"map":for(const[c,g]of n.get(i))Oc(a,e,i,c,g);break}}function Qi(a,e,n,i,l,c){Kl(a.tag(l,ad(i)),e,n,i,c)}function Dc(a,e,n,i){n.delimitedEncoding?si(a.tag(n.number,qe.StartGroup),e,i).tag(n.number,qe.EndGroup):si(a.tag(n.number,qe.LengthDelimited).fork(),e,i).join()}function rd(a,e,n,i){var l;if(n.listKind=="message"){for(const g of i)Dc(a,e,n,g);return}const c=(l=n.scalar)!==null&&l!==void 0?l:S.INT32;if(n.packed){if(!i.size)return;a.tag(n.number,qe.LengthDelimited).fork();for(const g of i)Kl(a,n.parent.typeName,n.name,c,g);a.join();return}for(const g of i)Qi(a,n.parent.typeName,n.name,c,n.number,g)}function Oc(a,e,n,i,l){var c;switch(a.tag(n.number,qe.LengthDelimited).fork(),Qi(a,n.parent.typeName,n.name,n.mapKey,1,i),n.mapKind){case"scalar":case"enum":Qi(a,n.parent.typeName,n.name,(c=n.scalar)!==null&&c!==void 0?c:S.INT32,2,l);break;case"message":si(a.tag(2,qe.LengthDelimited).fork(),e,l).join();break}a.join()}function Kl(a,e,n,i,l){try{switch(i){case S.STRING:a.string(l);break;case S.BOOL:a.bool(l);break;case S.DOUBLE:a.double(l);break;case S.FLOAT:a.float(l);break;case S.INT32:a.int32(l);break;case S.INT64:a.int64(l);break;case S.UINT64:a.uint64(l);break;case S.FIXED64:a.fixed64(l);break;case S.BYTES:a.bytes(l);break;case S.FIXED32:a.fixed32(l);break;case S.SFIXED32:a.sfixed32(l);break;case S.SFIXED64:a.sfixed64(l);break;case S.SINT64:a.sint64(l);break;case S.UINT32:a.uint32(l);break;case S.SINT32:a.sint32(l);break}}catch(c){throw c instanceof Error?new Error(`cannot encode field ${e}.${n} to binary: ${c.message}`):c}}function ad(a){switch(a){case S.BYTES:case S.STRING:return qe.LengthDelimited;case S.DOUBLE:case S.FIXED64:case S.SFIXED64:return qe.Bit64;case S.FIXED32:case S.SFIXED32:case S.FLOAT:return qe.Bit32;default:return qe.Varint}}function id(a,e,n){let i=!1;return n||(n=ge(Gg),i=!0),n.value=gr(a,e),n.typeUrl=Wg(e.$typeName),i?n:void 0}function sd(a,e){if(a.typeUrl==="")return!1;const n=typeof e=="string"?e:e.typeName,i=od(a.typeUrl);return n===i}function kg(a,e){if(a.typeUrl==="")return;const n=e.kind=="message"?e:e.getMessage(od(a.typeUrl));if(!(!n||!sd(a,n)))return dr(n,a.value)}function Wg(a){return`type.googleapis.com/${a}`}function od(a){const e=a.lastIndexOf("/"),n=e>=0?a.substring(e+1):a;if(!n.length)throw new Error(`invalid type url: ${a}`);return n}const Vc=Wr("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),Kg=Le(Vc,0),Gn=Le(Vc,1),Po=Le(Vc,2);var Xl;(function(a){a[a.NULL_VALUE=0]="NULL_VALUE"})(Xl||(Xl={}));const ld=Wr("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function ud(a,e){qi(e,a);const n=Bc(a.$unknown,e),[i,l,c]=Pl(e);for(const g of n)Hh(i,new Qa(g.data),l,g.wireType,{readUnknownFields:!0});return c()}function cd(a,e,n){var i;qi(e,a);const l=((i=a.$unknown)!==null&&i!==void 0?i:[]).filter(R=>R.no!==e.number),[c,g]=Pl(e,n),y=new Gi;nd(y,{writeUnknownFields:!0},c,g);const b=new Qa(y.finish());for(;b.pos<b.len;){const[R,I]=b.tag(),Z=b.skip(I,R);l.push({no:R,wireType:I,data:Z})}a.$unknown=l}function Bc(a,e){if(a===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let n=a.length-1;n>=0;--n)if(a[n].no==e.number)return[a[n]];return[]}return a.filter(n=>n.no===e.number)}function Pl(a,e){const n=a.typeName,i=Object.assign(Object.assign({},a),{kind:"field",parent:a.extendee,localName:n}),l=Object.assign(Object.assign({},a.extendee),{fields:[i],members:[i],oneofs:[]}),c=ge(l,e!==void 0?{[n]:e}:void 0);return[ft(l,c),i,()=>{const g=c[n];if(g===void 0){const y=a.message;return ye(y)?Ce(y.fields[0].scalar,y.fields[0].longAsString):ge(y)}return g}]}function qi(a,e){if(a.extendee.typeName!=e.$typeName)throw new Error(`extension ${a.typeName} can only be applied to message ${a.extendee.typeName}`)}const Uc=3,Fo=2,Fl={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function fd(a){return a?Object.assign(Object.assign({},Fl),a):Fl}function es(a,e,n){return ts(ft(a,e),fd(n))}function Ds(a,e,n){var i;const l=es(a,e,n);return JSON.stringify(l,null,(i=n==null?void 0:n.prettySpaces)!==null&&i!==void 0?i:0)}function ts(a,e){var n;const i=Pg(a,e);if(i!==void 0)return i;const l={};for(const c of a.sortedFields){if(!a.isSet(c)){if(c.presence==Uc)throw new Error(`cannot encode ${c} to JSON: required field not set`);if(!e.alwaysEmitImplicit||c.presence!==Fo)continue}const g=Lc(c,a.get(c),e);g!==void 0&&(l[Xg(c,e)]=g)}if(e.registry){const c=new Set;for(const{no:g}of(n=a.getUnknown())!==null&&n!==void 0?n:[])if(!c.has(g)){c.add(g);const y=e.registry.getExtensionFor(a.desc,g);if(!y)continue;const b=ud(a.message,y),[R,I]=Pl(y,b),Z=Lc(I,R.get(I),e);Z!==void 0&&(l[y.jsonName]=Z)}}return l}function Lc(a,e,n){switch(a.fieldKind){case"scalar":return Jo(a,e);case"message":return ts(e,n);case"enum":return Jl(a.enum,e,n.enumAsInteger);case"list":return hd(e,n);case"map":return ns(e,n)}}function ns(a,e){const n=a.field(),i={};switch(n.mapKind){case"scalar":for(const[l,c]of a)i[l]=Jo(n,c);break;case"message":for(const[l,c]of a)i[l]=ts(c,e);break;case"enum":for(const[l,c]of a)i[l]=Jl(n.enum,c,e.enumAsInteger);break}return e.alwaysEmitImplicit||a.size>0?i:void 0}function hd(a,e){const n=a.field(),i=[];switch(n.listKind){case"scalar":for(const l of a)i.push(Jo(n,l));break;case"enum":for(const l of a)i.push(Jl(n.enum,l,e.enumAsInteger));break;case"message":for(const l of a)i.push(ts(l,e));break}return e.alwaysEmitImplicit||i.length>0?i:void 0}function Jl(a,e,n){var i;if(typeof e!="number")throw new Error(`cannot encode ${a} to JSON: expected number, got ${Ee(e)}`);if(a.typeName=="google.protobuf.NullValue")return null;if(n)return e;const l=a.value[e];return(i=l==null?void 0:l.name)!==null&&i!==void 0?i:e}function Jo(a,e){var n,i,l,c,g,y;switch(a.scalar){case S.INT32:case S.SFIXED32:case S.SINT32:case S.FIXED32:case S.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${a} to JSON: ${(n=xr(a,e))===null||n===void 0?void 0:n.message}`);return e;case S.FLOAT:case S.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${a} to JSON: ${(i=xr(a,e))===null||i===void 0?void 0:i.message}`);return Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case S.STRING:if(typeof e!="string")throw new Error(`cannot encode ${a} to JSON: ${(l=xr(a,e))===null||l===void 0?void 0:l.message}`);return e;case S.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${a} to JSON: ${(c=xr(a,e))===null||c===void 0?void 0:c.message}`);return e;case S.UINT64:case S.FIXED64:case S.INT64:case S.SFIXED64:case S.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${a} to JSON: ${(g=xr(a,e))===null||g===void 0?void 0:g.message}`);return e.toString();case S.BYTES:if(e instanceof Uint8Array)return vh(e);throw new Error(`cannot encode ${a} to JSON: ${(y=xr(a,e))===null||y===void 0?void 0:y.message}`)}}function Xg(a,e){return e.useProtoFieldName?a.name:a.jsonName}function Pg(a,e){if(a.desc.typeName.startsWith("google.protobuf."))switch(a.desc.typeName){case"google.protobuf.Any":return Fg(a.message,e);case"google.protobuf.Timestamp":return mr(a.message);case"google.protobuf.Duration":return dd(a.message);case"google.protobuf.FieldMask":return gd(a.message);case"google.protobuf.Struct":return jl(a.message);case"google.protobuf.Value":return Qn(a.message);case"google.protobuf.ListValue":return Mc(a.message);default:if(ye(a.desc)){const n=a.desc.fields[0];return Jo(n,a.get(n))}return}}function Fg(a,e){if(a.typeUrl==="")return{};const{registry:n}=e;let i,l;if(n&&(i=kg(a,n),i&&(l=n.getMessage(i.$typeName))),!l||!i)throw new Error(`cannot encode message ${a.$typeName} to JSON: "${a.typeUrl}" is not in the type registry`);let c=ts(ft(l,i),e);return(l.typeName.startsWith("google.protobuf.")||c===null||Array.isArray(c)||typeof c!="object")&&(c={value:c}),c["@type"]=a.typeUrl,c}function dd(a){const e=Number(a.seconds),n=a.nanos;if(e>315576e6||e<-315576e6)throw new Error(`cannot encode message ${a.$typeName} to JSON: value out of range`);if(e>0&&n<0||e<0&&n>0)throw new Error(`cannot encode message ${a.$typeName} to JSON: nanos sign must match seconds sign`);let i=a.seconds.toString();if(n!==0){let l=Math.abs(n).toString();l="0".repeat(9-l.length)+l,l.substring(3)==="000000"?l=l.substring(0,3):l.substring(6)==="000"&&(l=l.substring(0,6)),i+="."+l,n<0&&e==0&&(i="-"+i)}return i+"s"}function gd(a){return a.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${a.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return Fi(e)}).join(",")}function jl(a){const e={};for(const[n,i]of Object.entries(a.fields))e[n]=Qn(i);return e}function Qn(a){switch(a.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(a.kind.value))throw new Error(`${a.$typeName} cannot be NaN or Infinity`);return a.kind.value;case"boolValue":return a.kind.value;case"stringValue":return a.kind.value;case"structValue":return jl(a.kind.value);case"listValue":return Mc(a.kind.value);default:throw new Error(`${a.$typeName} must have a value`)}}function Mc(a){return a.values.map(Qn)}function mr(a){const e=Number(a.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${a.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(a.nanos<0)throw new Error(`cannot encode message ${a.$typeName} to JSON: nanos must not be negative`);if(a.nanos>999999999)throw new Error(`cannot encode message ${a.$typeName} to JSON: nanos must not be greater than 99999999`);let n="Z";if(a.nanos>0){const i=(a.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?n="."+i.substring(0,3)+"Z":i.substring(6)==="000"?n="."+i.substring(0,6)+"Z":n="."+i+"Z"}return new Date(e).toISOString().replace(".000Z",n)}const qn={ignoreUnknownFields:!1};function Os(a){return a?Object.assign(Object.assign({},qn),a):qn}function _c(a,e,n){return Hl(a,Yc(e,a.typeName),n)}function Hl(a,e,n){const i=ft(a);try{Sa(i,e,Os(n))}catch(l){throw uc(l)?new Error(`cannot decode ${l.field()} from JSON: ${l.message}`,{cause:l}):l}return i.message}function Sa(a,e,n){var i;if(Zc(a,e,n))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${a.desc} from JSON: ${Ee(e)}`);const l=new Map,c=new Map;for(const g of a.desc.fields)c.set(g.name,g).set(g.jsonName,g);for(const[g,y]of Object.entries(e)){const b=c.get(g);if(b){if(b.oneof){if(y===null&&b.fieldKind=="scalar")continue;const R=l.get(b.oneof);if(R!==void 0)throw new Ut(b.oneof,`oneof set multiple times by ${R.name} and ${b.name}`);l.set(b.oneof,b)}$l(a,b,y,n)}else{let R;if(g.startsWith("[")&&g.endsWith("]")&&(R=(i=n.registry)===null||i===void 0?void 0:i.getExtension(g.substring(1,g.length-1)))&&R.extendee.typeName===a.desc.typeName){const[I,Z,J]=Pl(R);$l(I,Z,y,n),cd(a.message,R,J())}if(!R&&!n.ignoreUnknownFields)throw new Error(`cannot decode ${a.desc} from JSON: key "${g}" is unknown`)}}}function $l(a,e,n,i){switch(e.fieldKind){case"scalar":Jg(a,e,n);break;case"enum":Bs(a,e,n,i);break;case"message":Ql(a,e,n,i);break;case"list":md(a.get(e),n,i);break;case"map":Vs(a.get(e),n,i);break}}function Vs(a,e,n){if(e===null)return;const i=a.field();if(typeof e!="object"||Array.isArray(e))throw new Ut(i,"expected object, got "+Ee(e));for(const[l,c]of Object.entries(e)){if(c===null)throw new Ut(i,"map value must not be null");let g;switch(i.mapKind){case"message":const b=ft(i.message);Sa(b,c,n),g=b;break;case"enum":if(g=jo(i.enum,c,n.ignoreUnknownFields,!0),g===An)return;break;case"scalar":g=Ho(i,c,!0);break}const y=ql(i.mapKey,l);a.set(y,g)}}function md(a,e,n){if(e===null)return;const i=a.field();if(!Array.isArray(e))throw new Ut(i,"expected Array, got "+Ee(e));for(const l of e){if(l===null)throw new Ut(i,"list item must not be null");switch(i.listKind){case"message":const c=ft(i.message);Sa(c,l,n),a.add(c);break;case"enum":const g=jo(i.enum,l,n.ignoreUnknownFields,!0);g!==An&&a.add(g);break;case"scalar":a.add(Ho(i,l,!0));break}}}function Ql(a,e,n,i){if(n===null&&e.message.typeName!="google.protobuf.Value"){a.clear(e);return}const l=a.isSet(e)?a.get(e):ft(e.message);Sa(l,n,i),a.set(e,l)}function Bs(a,e,n,i){const l=jo(e.enum,n,i.ignoreUnknownFields,!1);l===pr?a.clear(e):l!==An&&a.set(e,l)}function Jg(a,e,n){const i=Ho(e,n,!1);i===pr?a.clear(e):a.set(e,i)}const An=Symbol();function jo(a,e,n,i){if(e===null)return a.typeName=="google.protobuf.NullValue"?0:i?a.values[0].number:pr;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const l=a.values.find(c=>c.name===e);if(l!==void 0)return l.number;if(n)return An;break}throw new Error(`cannot decode ${a} from JSON: ${Ee(e)}`)}const pr=Symbol();function Ho(a,e,n){if(e===null)return n?Ce(a.scalar,!1):pr;switch(a.scalar){case S.DOUBLE:case S.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(Number.isNaN(e))throw new Ut(a,"unexpected NaN number");if(!Number.isFinite(e))throw new Ut(a,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const i=Number(e);if(!Number.isFinite(i))break;return i}break;case S.INT32:case S.FIXED32:case S.SFIXED32:case S.SINT32:case S.UINT32:return oi(e);case S.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return gc(e)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Ut(a,l)}}break}return e}function ql(a,e){switch(a){case S.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case S.INT32:case S.FIXED32:case S.UINT32:case S.SFIXED32:case S.SINT32:return oi(e);default:return e}}function oi(a){if(typeof a=="string"){if(a===""||a.trim().length!==a.length)return a;const e=Number(a);return Number.isNaN(e)?a:e}return a}function Yc(a,e){try{return JSON.parse(a)}catch(n){const i=n instanceof Error?n.message:String(n);throw new Error(`cannot decode message ${e} from JSON: ${i}`,{cause:n})}}function Zc(a,e,n){if(!a.desc.typeName.startsWith("google.protobuf."))return!1;switch(a.desc.typeName){case"google.protobuf.Any":return Us(a.message,e,n),!0;case"google.protobuf.Timestamp":return Ls(a.message,e),!0;case"google.protobuf.Duration":return eu(a.message,e),!0;case"google.protobuf.FieldMask":return tu(a.message,e),!0;case"google.protobuf.Struct":return er(a.message,e),!0;case"google.protobuf.Value":return zn(a.message,e),!0;case"google.protobuf.ListValue":return li(a.message,e),!0;default:if(ye(a.desc)){const i=a.desc.fields[0];return e===null?a.clear(i):a.set(i,Ho(i,e,!0)),!0}return!1}}function Us(a,e,n){var i;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${a.$typeName} from JSON: expected object but got ${Ee(e)}`);if(Object.keys(e).length==0)return;const l=e["@type"];if(typeof l!="string"||l=="")throw new Error(`cannot decode message ${a.$typeName} from JSON: "@type" is empty`);const c=l.includes("/")?l.substring(l.lastIndexOf("/")+1):l;if(!c.length)throw new Error(`cannot decode message ${a.$typeName} from JSON: "@type" is invalid`);const g=(i=n.registry)===null||i===void 0?void 0:i.getMessage(c);if(!g)throw new Error(`cannot decode message ${a.$typeName} from JSON: ${l} is not in the type registry`);const y=ft(g);if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const b=e.value;Sa(y,b,n)}else{const b=Object.assign({},e);delete b["@type"],Sa(y,b,n)}id(y.desc,y.message,a)}function Ls(a,e){if(typeof e!="string")throw new Error(`cannot decode message ${a.$typeName} from JSON: ${Ee(e)}`);const n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error(`cannot decode message ${a.$typeName} from JSON: invalid RFC 3339 string`);const i=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(i))throw new Error(`cannot decode message ${a.$typeName} from JSON: invalid RFC 3339 string`);if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${a.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);a.seconds=le.parse(i/1e3),a.nanos=0,n[7]&&(a.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9)}function eu(a,e){if(typeof e!="string")throw new Error(`cannot decode message ${a.$typeName} from JSON: ${Ee(e)}`);const n=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(n===null)throw new Error(`cannot decode message ${a.$typeName} from JSON: ${Ee(e)}`);const i=Number(n[1]);if(i>315576e6||i<-315576e6)throw new Error(`cannot decode message ${a.$typeName} from JSON: ${Ee(e)}`);if(a.seconds=le.parse(i),typeof n[2]!="string")return;const l=n[2]+"0".repeat(9-n[2].length);a.nanos=parseInt(l),(i<0||Object.is(i,-0))&&(a.nanos=-a.nanos)}function tu(a,e){if(typeof e!="string")throw new Error(`cannot decode message ${a.$typeName} from JSON: ${Ee(e)}`);if(e==="")return;function n(i){if(i.includes("_"))throw new Error(`cannot decode message ${a.$typeName} from JSON: path names must be lowerCamelCase`);const l=i.replace(/[A-Z]/g,c=>"_"+c.toLowerCase());return l[0]==="_"?l.substring(1):l}a.paths=e.split(",").map(n)}function er(a,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${a.$typeName} from JSON ${Ee(e)}`);for(const[n,i]of Object.entries(e)){const l=ge(Gn);zn(l,i),a.fields[n]=l}}function zn(a,e){switch(typeof e){case"number":a.kind={case:"numberValue",value:e};break;case"string":a.kind={case:"stringValue",value:e};break;case"boolean":a.kind={case:"boolValue",value:e};break;case"object":if(e===null)a.kind={case:"nullValue",value:Xl.NULL_VALUE};else if(Array.isArray(e)){const n=ge(Po);li(n,e),a.kind={case:"listValue",value:n}}else{const n=ge(Kg);er(n,e),a.kind={case:"structValue",value:n}}break;default:throw new Error(`cannot decode message ${a.$typeName} from JSON ${Ee(e)}`)}return a}function li(a,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${a.$typeName} from JSON ${Ee(e)}`);for(const n of e){const i=ge(Gn);zn(i,n),a.values.push(i)}}function Kr(a){const e=C[a];return typeof e!="string"?a.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class je extends Error{constructor(e,n=C.Unknown,i,l,c){super(rs(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(i??{}),this.details=l??[],this.cause=c}static from(e,n=C.Unknown){return e instanceof je?e:e instanceof Error?e.name=="AbortError"||e.name=="TimeoutError"?new je(e.message,C.Canceled):new je(e.message,n,void 0,void 0,e):new je(String(e),n,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===je.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const n=e.kind==="message"?{getMessage:l=>l===e.typeName?e:void 0}:e,i=[];for(const l of this.details){if("desc"in l){n.getMessage(l.desc.typeName)&&i.push(ge(l.desc,l.value));continue}const c=n.getMessage(l.type);if(c)try{i.push(dr(c,l.value))}catch{}}return i}}function rs(a,e){return a.length?`[${Kr(e)}] ${a}`:`[${Kr(e)}]`}function pd(a,e,n){try{const i=gc(a);return e?dr(e,i,n):i}catch(i){throw je.from(i,C.DataLoss)}}function Gc(a,e){const n={};for(const i of a.methods){const l=e(i);l!=null&&(n[i.localName]=l)}return n}const nu=1;function In(a,e,n=!1){if(e>a){let i=`message size is larger than configured readMaxBytes ${a}`;throw n&&(i=`message size ${e} is larger than configured readMaxBytes ${a}`),new je(i,C.ResourceExhausted)}}function Yt(a){return new ut(a)}class ut{constructor(e){this.readMaxBytes=e,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((e,n)=>e+n.byteLength,0)}decode(e){this.buf.push(e);const n=[];for(;;){let i=this.pop();if(!i)break;n.push(i)}return n}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const e=this.env;return this.env=void 0,e}}head(){if(!this.cons(this.header))return;const e=this.headerView.getUint8(0),n=this.headerView.getUint32(1);return In(this.readMaxBytes,n,!0),{flags:e,data:new Uint8Array(n)}}cons(e){const n=e.byteLength;if(this.byteLength<n)return!1;let i=0;for(;i<n;){const l=this.buf.shift();l.byteLength>n-i?(e.set(l.subarray(0,n-i),i),this.buf.unshift(l.subarray(n-i)),i+=n-i):(e.set(l,i),i+=l.byteLength)}return!0}}function ui(a){let e;const n=Yt(4294967295);return new ReadableStream({start(){e=a.getReader()},async pull(i){let l=!1;for(;!l;){const c=await e.read();if(c.done)n.byteLength>0&&i.error(new je("protocol error: incomplete envelope",C.InvalidArgument)),i.close();else for(const g of n.decode(c.value))i.enqueue(g),l=!0}}})}function Or(a,e){const n=new Uint8Array(e.length+5);n.set(e,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,a),i.setUint32(1,e.length),n}var zc=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a[Symbol.asyncIterator],n;return e?e.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=a[c]&&function(g){return new Promise(function(y,b){g=a[c](g),l(y,b,g.done,g.value)})}}function l(c,g,y,b){Promise.resolve(b).then(function(R){c({value:R,done:y})},g)}},Vr=function(a){return this instanceof Vr?(this.v=a,this):new Vr(a)},yd=function(a,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(a,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",g),l[Symbol.asyncIterator]=function(){return this},l;function g(Y){return function(Q){return Promise.resolve(Q).then(Y,Z)}}function y(Y,Q){i[Y]&&(l[Y]=function(re){return new Promise(function(me,be){c.push([Y,re,me,be])>1||b(Y,re)})},Q&&(l[Y]=Q(l[Y])))}function b(Y,Q){try{R(i[Y](Q))}catch(re){J(c[0][3],re)}}function R(Y){Y.value instanceof Vr?Promise.resolve(Y.value.v).then(I,Z):J(c[0][2],Y)}function I(Y){b("next",Y)}function Z(Y){b("throw",Y)}function J(Y,Q){Y(Q),c.shift(),c.length&&b(c[0][0],c[0][1])}},vd=function(a){var e,n;return e={},i("next"),i("throw",function(l){throw l}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(l,c){e[l]=a[l]?function(g){return(n=!n)?{value:Vr(a[l](g)),done:!1}:c?c(g):g}:c}};function $o(a){return yd(this,arguments,function*(){yield Vr(yield*vd(zc(a)))})}var Ms=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a[Symbol.asyncIterator],n;return e?e.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=a[c]&&function(g){return new Promise(function(y,b){g=a[c](g),l(y,b,g.done,g.value)})}}function l(c,g,y,b){Promise.resolve(b).then(function(R){c({value:R,done:y})},g)}},as=function(a){return this instanceof as?(this.v=a,this):new as(a)},Qo=function(a){var e,n;return e={},i("next"),i("throw",function(l){throw l}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(l,c){e[l]=a[l]?function(g){return(n=!n)?{value:as(a[l](g)),done:!1}:c?c(g):g}:c}},kc=function(a,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(a,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",g),l[Symbol.asyncIterator]=function(){return this},l;function g(Y){return function(Q){return Promise.resolve(Q).then(Y,Z)}}function y(Y,Q){i[Y]&&(l[Y]=function(re){return new Promise(function(me,be){c.push([Y,re,me,be])>1||b(Y,re)})},Q&&(l[Y]=Q(l[Y])))}function b(Y,Q){try{R(i[Y](Q))}catch(re){J(c[0][3],re)}}function R(Y){Y.value instanceof as?Promise.resolve(Y.value.v).then(I,Z):J(c[0][2],Y)}function I(Y){b("next",Y)}function Z(Y){b("throw",Y)}function J(Y,Q){Y(Q),c.shift(),c.length&&b(c[0][0],c[0][1])}};function is(a,e){return Gc(a,n=>{switch(n.methodKind){case"unary":return Aa(e,n);case"server_streaming":return ci(e,n);case"client_streaming":return Ea(e,n);case"bidi_streaming":return Wc(e,n);default:return null}})}function Aa(a,e){return async(n,i)=>{var l,c;const g=await a.unary(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,n,i==null?void 0:i.contextValues);return(l=i==null?void 0:i.onHeader)===null||l===void 0||l.call(i,g.header),(c=i==null?void 0:i.onTrailer)===null||c===void 0||c.call(i,g.trailer),g.message}}function ci(a,e){return(n,i)=>ru(a.stream(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,$o([n]),i==null?void 0:i.contextValues),i)}function Ea(a,e){return async(n,i)=>{var l,c,g,y,b,R;const I=await a.stream(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,n,i==null?void 0:i.contextValues);(b=i==null?void 0:i.onHeader)===null||b===void 0||b.call(i,I.header);let Z,J=0;try{for(var Y=!0,Q=Ms(I.message),re;re=await Q.next(),l=re.done,!l;Y=!0)y=re.value,Y=!1,Z=y,J++}catch(me){c={error:me}}finally{try{!Y&&!l&&(g=Q.return)&&await g.call(Q)}finally{if(c)throw c.error}}if(!Z)throw new je("protocol error: missing response message",C.Unimplemented);if(J>1)throw new je("protocol error: received extra messages for client streaming method",C.Unimplemented);return(R=i==null?void 0:i.onTrailer)===null||R===void 0||R.call(i,I.trailer),Z}}function Wc(a,e){return(n,i)=>ru(a.stream(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,n,i==null?void 0:i.contextValues),i)}function ru(a,e){const n=function(){return kc(this,arguments,function*(){var i,l;const c=yield as(a);(i=e==null?void 0:e.onHeader)===null||i===void 0||i.call(e,c.header),yield as(yield*Qo(Ms(c.message))),(l=e==null?void 0:e.onTrailer)===null||l===void 0||l.call(e,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function qo(...a){const e=new AbortController,n=a.filter(l=>l!==void 0).concat(e.signal);for(const l of n){if(l.aborted){i.apply(l);break}l.addEventListener("abort",i)}function i(){e.signal.aborted||e.abort(fi(this));for(const l of n)l.removeEventListener("abort",i)}return e}function au(a){const e=new AbortController,n=()=>{e.abort(new je("the operation timed out",C.DeadlineExceeded))};let i;return a!==void 0&&(a<=0?n():i=setTimeout(n,a)),{signal:e.signal,cleanup:()=>clearTimeout(i)}}function fi(a){if(!a.aborted)return;if(a.reason!==void 0)return a.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function hn(){return{get(a){return a.id in this?this[a.id]:a.defaultValue},set(a,e){return this[a.id]=e,this},delete(a){return delete this[a.id],this}}}const _s=128;function Kc(a){const e=new Headers,n=new TextDecoder().decode(a).split(`\r
`);for(const i of n){if(i==="")continue;const l=i.indexOf(":");if(l>0){const c=i.substring(0,l).trim(),g=i.substring(l+1).trim();e.append(c,g)}}return e}const jg="Content-Type",Hg="Grpc-Timeout",Ys="Grpc-Status",Ft="Grpc-Message",Xc="Grpc-Status-Details-Bin",el="User-Agent",Zs="X-User-Agent",Pc="X-Grpc-Web",Gs="application/grpc-web+proto",zs="application/grpc-web+json";function $g(a,e,...n){if(n.length>0)throw new Error;return a.services[e]}const qg=Le(Wr("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[ed]),0),bd="0";function hi(a){var e;const n=a.get(Xc);if(n!=null){const l=pd(n,qg);if(l.code==0)return;const c=new je(l.message,l.code,a);return c.details=l.details.map(g=>({type:g.typeUrl.substring(g.typeUrl.lastIndexOf("/")+1),value:g.value})),c}const i=a.get(Ys);if(i!=null){if(i===bd)return;const l=parseInt(i,10);return l in C?new je(decodeURIComponent((e=a.get(Ft))!==null&&e!==void 0?e:""),l,a):new je(`invalid grpc-status: ${i}`,C.Internal,a)}}function iu(a,e){return a.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function tl(a,e){return ge(a,e)}function Sd(a,e){function n(i){return i.done===!0?i:{done:i.done,value:tl(a,i.value)}}return{[Symbol.asyncIterator](){const i=e[Symbol.asyncIterator](),l={next:()=>i.next().then(n)};return i.throw!==void 0&&(l.throw=c=>i.throw(c).then(n)),i.return!==void 0&&(l.return=c=>i.return(c).then(n)),l}}}function ks(a,e){if(!e)return a;for(const n of e.concat().reverse())a=n(a);return a}function Ad(a){var e;const n=Object.assign({},a);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function nl(a,e,n,i){const l=e?su(a.input,i):Fc(a.input,n);return{parse:(e?su(a.output,i):Fc(a.output,n)).parse,serialize:l.serialize}}function su(a,e){return{parse(n){try{return dr(a,n,e)}catch(i){const l=i instanceof Error?i.message:String(i);throw new je(`parse binary: ${l}`,C.Internal)}},serialize(n){try{return gr(a,n,e)}catch(i){const l=i instanceof Error?i.message:String(i);throw new je(`serialize binary: ${l}`,C.Internal)}}}}function Fc(a,e){var n,i;const l=(n=e==null?void 0:e.textEncoder)!==null&&n!==void 0?n:new TextEncoder,c=(i=e==null?void 0:e.textDecoder)!==null&&i!==void 0?i:new TextDecoder,g=Ad(e);return{parse(y){try{const b=c.decode(y);return _c(a,b,g)}catch(b){throw je.from(b,C.InvalidArgument)}},serialize(y){try{const b=Ds(a,y,g);return l.encode(b)}catch(b){throw je.from(b,C.Internal)}}}}function ou(a){const e=ks(a.next,a.interceptors),[n,i,l]=Ws(a),c=Object.assign(Object.assign({},a.req),{message:tl(a.req.method.input,a.req.message),signal:n});return e(c).then(g=>(l(),g),i)}function Ed(a){const e=ks(a.next,a.interceptors),[n,i,l]=Ws(a),c=Object.assign(Object.assign({},a.req),{message:Sd(a.req.method.input,a.req.message),signal:n});let g=!1;return n.addEventListener("abort",function(){var y,b;const R=a.req.message[Symbol.asyncIterator]();g||(y=R.throw)===null||y===void 0||y.call(R,this.reason).catch(()=>{}),(b=R.return)===null||b===void 0||b.call(R).catch(()=>{})}),e(c).then(y=>Object.assign(Object.assign({},y),{message:{[Symbol.asyncIterator](){const b=y.message[Symbol.asyncIterator]();return{next(){return b.next().then(R=>(R.done==!0&&(g=!0,l()),R),i)}}}}}),i)}function Ws(a){const{signal:e,cleanup:n}=au(a.timeoutMs),i=qo(a.signal,e);return[i.signal,function(c){const g=je.from(e.aborted?fi(e):c);return i.abort(g),n(),Promise.reject(g)},function(){n(),i.abort()}]}function Rd(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Jc(a,e){const n=hi(a);if(n)throw e.forEach((i,l)=>{n.metadata.append(l,i)}),n;if(!e.has(Ys)&&!a.has(Ys))throw new je("protocol error: missing status",C.Internal)}function Ra(a,e,n,i){var l,c;const g=new Headers(n??{});g.set(jg,a?Gs:zs),g.set(Pc,"1");const y=(c=(l=g.get(el))!==null&&l!==void 0?l:g.get(Zs))!==null&&c!==void 0?c:"connect-es/2.1.1";return g.set(Zs,y),e!==void 0&&g.set(Hg,`${e}m`),g}function jc(a){switch(a){case 400:return C.Internal;case 401:return C.Unauthenticated;case 403:return C.PermissionDenied;case 404:return C.Unimplemented;case 429:return C.Unavailable;case 502:return C.Unavailable;case 503:return C.Unavailable;case 504:return C.Unavailable;default:return C.Unknown}}function lu(a,e){var n;if(a>=200&&a<300)return{foundStatus:e.has(Ys),headerError:hi(e)};throw new je(decodeURIComponent((n=e.get(Ft))!==null&&n!==void 0?n:`HTTP ${a}`),jc(a),e)}var kn=function(a){return this instanceof kn?(this.v=a,this):new kn(a)},di=function(a,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(a,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",g),l[Symbol.asyncIterator]=function(){return this},l;function g(Y){return function(Q){return Promise.resolve(Q).then(Y,Z)}}function y(Y,Q){i[Y]&&(l[Y]=function(re){return new Promise(function(me,be){c.push([Y,re,me,be])>1||b(Y,re)})},Q&&(l[Y]=Q(l[Y])))}function b(Y,Q){try{R(i[Y](Q))}catch(re){J(c[0][3],re)}}function R(Y){Y.value instanceof kn?Promise.resolve(Y.value.v).then(I,Z):J(c[0][2],Y)}function I(Y){b("next",Y)}function Z(Y){b("throw",Y)}function J(Y,Q){Y(Q),c.shift(),c.length&&b(c[0][0],c[0][1])}};const Ks={redirect:"error"};function Hc(a){var e;Rd();const n=(e=a.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(i,l,c,g,y,b){const{serialize:R,parse:I}=nl(i,n,a.jsonOptions,a.binaryOptions);return c=c===void 0?a.defaultTimeoutMs:c<=0?void 0:c,await ou({interceptors:a.interceptors,signal:l,timeoutMs:c,req:{stream:!1,service:i.parent,method:i,requestMethod:"POST",url:iu(a.baseUrl,i),header:Ra(n,c,g),contextValues:b??hn(),message:y},next:async Z=>{var J;const Q=await((J=a.fetch)!==null&&J!==void 0?J:globalThis.fetch)(Z.url,Object.assign(Object.assign({},Ks),{method:Z.requestMethod,headers:Z.header,signal:Z.signal,body:Or(0,R(Z.message))})),{headerError:re}=lu(Q.status,Q.headers);if(!Q.body)throw re!==void 0?re:"missing response body";const me=ui(Q.body).getReader();let be,xe;for(;;){const $e=await me.read();if($e.done)break;const{flags:rt,data:gt}=$e.value;if((rt&nu)===nu)throw new je("protocol error: received unsupported compressed output",C.Internal);if(rt===_s){if(be!==void 0)throw"extra trailer";be=Kc(gt);continue}if(xe!==void 0)throw new je("extra message",C.Unimplemented);xe=I(gt)}if(be===void 0)throw re!==void 0?re:new je("missing trailer",Q.headers.has(Ys)?C.Unimplemented:C.Unknown);if(Jc(be,Q.headers),xe===void 0)throw new je("missing message",be.has(Ys)?C.Unimplemented:C.Unknown);return{stream:!1,service:i.parent,method:i,header:Q.headers,message:xe,trailer:be}}})},async stream(i,l,c,g,y,b){const{serialize:R,parse:I}=nl(i,n,a.jsonOptions,a.binaryOptions);function Z(Y,Q,re,me,be){return di(this,arguments,function*(){const $e=ui(Y).getReader();if(Q){if(!(yield kn($e.read())).done)throw"extra data for trailers-only";return yield kn(void 0)}let rt=!1;for(;;){const gt=yield kn($e.read());if(gt.done)break;const{flags:_e,data:vt}=gt.value;if((_e&_s)===_s){if(rt)throw"extra trailer";rt=!0;const Ot=Kc(vt);Jc(Ot,me),Ot.forEach((Xt,Mn)=>re.set(Mn,Xt));continue}if(rt)throw"extra message";yield yield kn(I(vt))}if("throwIfAborted"in be&&be.throwIfAborted(),!rt)throw"missing trailer"})}async function J(Y){if(i.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const Q=await Y[Symbol.asyncIterator]().next();if(Q.done==!0)throw"missing request message";return Or(0,R(Q.value))}return c=c===void 0?a.defaultTimeoutMs:c<=0?void 0:c,Ed({interceptors:a.interceptors,signal:l,timeoutMs:c,req:{stream:!0,service:i.parent,method:i,requestMethod:"POST",url:iu(a.baseUrl,i),header:Ra(n,c,g),contextValues:b??hn(),message:y},next:async Y=>{var Q;const me=await((Q=a.fetch)!==null&&Q!==void 0?Q:globalThis.fetch)(Y.url,Object.assign(Object.assign({},Ks),{method:Y.requestMethod,headers:Y.header,signal:Y.signal,body:await J(Y.message)})),{foundStatus:be,headerError:xe}=lu(me.status,me.headers);if(xe!=null)throw xe;if(!me.body)throw"missing response body";const $e=new Headers;return Object.assign(Object.assign({},Y),{header:me.headers,trailer:$e,message:Z(me.body,be,$e,me.headers,Y.signal)})}})}}}const Ge=Wr("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIsoaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGukDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRIcChRhdHRyaWJ1dGVzX3RvX3JlbW92ZRgHIAMoCRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[$h,ld]),rl=Le(Ge,0),al=Le(Ge,1),wd=Le(Ge,2),uu=Le(Ge,3),gi=Le(Ge,4),Xs=Le(Ge,5),Td=Le(Ge,5,0),$c=Le(Ge,5,1),Qc=Le(Ge,5,2),mi=Le(Ge,5,3),ke=Le(Ge,5,4),St=Le(Ge,5,5),Jt=Le(Ge,5,6),cu=Le(Ge,5,7),Ps=Le(Ge,5,8),ss=Le(Ge,5,9),wa=Le(Ge,6),En=Le(Ge,7),Fs=Le(Ge,7,0),em=Le(Ge,7,1),Wt=Le(Ge,7,2),qc=Le(Ge,7,3),ef=Le(Ge,7,4),Nd=Le(Ge,7,5),Cd=Le(Ge,8),tm=Le(Ge,9),fu=Le(Ge,10),tf=Le(Ge,11),nf=Le(Ge,12),Wn=Le(Ge,13),jt=Le(Ge,14),rf=Le(Ge,15),il=Le(Ge,16),sl=Le(Ge,23);var os=(a=>(a[a.UNSPECIFIED=0]="UNSPECIFIED",a[a.PUT=1]="PUT",a[a.DELETE=2]="DELETE",a[a.CLEAR=3]="CLEAR",a))(os||{});const Ta=Le(Ge,24),hu=Le(Ge,26),af=Le(Ge,27),sf=Le(Ge,28);var of=(a=>(a[a.UNSPECIFIED=0]="UNSPECIFIED",a[a.PRESENCE=1]="PRESENCE",a[a.BROADCAST=2]="BROADCAST",a))(of||{}),ze=(a=>(a[a.NULL=0]="NULL",a[a.BOOLEAN=1]="BOOLEAN",a[a.INTEGER=2]="INTEGER",a[a.LONG=3]="LONG",a[a.DOUBLE=4]="DOUBLE",a[a.STRING=5]="STRING",a[a.BYTES=6]="BYTES",a[a.DATE=7]="DATE",a[a.JSON_OBJECT=8]="JSON_OBJECT",a[a.JSON_ARRAY=9]="JSON_ARRAY",a[a.TEXT=10]="TEXT",a[a.INTEGER_CNT=11]="INTEGER_CNT",a[a.LONG_CNT=12]="LONG_CNT",a[a.TREE=13]="TREE",a))(ze||{}),ol=(a=>(a[a.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",a[a.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",a[a.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",a[a.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",a))(ol||{});const Id=$g(Wr("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayJTCgxXYXRjaFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEjAKCXJlc291cmNlcxgCIAMoCzIdLnlvcmtpZS52MS5SZXNvdXJjZURlc2NyaXB0b3IihAEKElJlc291cmNlRGVzY3JpcHRvchIxCghkb2N1bWVudBgBIAEoCzIdLnlvcmtpZS52MS5Eb2N1bWVudERlc2NyaXB0b3JIABIvCgdjaGFubmVsGAIgASgLMhwueW9ya2llLnYxLkNoYW5uZWxEZXNjcmlwdG9ySABCCgoIcmVzb3VyY2UiKQoSRG9jdW1lbnREZXNjcmlwdG9yEhMKC2RvY3VtZW50X2lkGAEgASgJIigKEUNoYW5uZWxEZXNjcmlwdG9yEhMKC2NoYW5uZWxfa2V5GAEgASgJInkKDVdhdGNoUmVzcG9uc2USOAoOaW5pdGlhbGl6YXRpb24YASABKAsyHi55b3JraWUudjEuV2F0Y2hJbml0aWFsaXphdGlvbkgAEiYKBWV2ZW50GAIgASgLMhUueW9ya2llLnYxLldhdGNoRXZlbnRIAEIGCgRib2R5IkYKE1dhdGNoSW5pdGlhbGl6YXRpb24SLwoOcmVzb3VyY2VfaW5pdHMYASADKAsyFy55b3JraWUudjEuUmVzb3VyY2VJbml0IngKDFJlc291cmNlSW5pdBIwCg1kb2N1bWVudF9pbml0GAEgASgLMhcueW9ya2llLnYxLkRvY3VtZW50SW5pdEgAEi4KDGNoYW5uZWxfaW5pdBgCIAEoCzIWLnlvcmtpZS52MS5DaGFubmVsSW5pdEgAQgYKBGluaXQiNwoMRG9jdW1lbnRJbml0EhMKC2RvY3VtZW50X2lkGAEgASgJEhIKCmNsaWVudF9pZHMYAiADKAkiRgoLQ2hhbm5lbEluaXQSEwoLY2hhbm5lbF9rZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoAxILCgNzZXEYAyABKAMiewoKV2F0Y2hFdmVudBItCglkb2NfZXZlbnQYASABKAsyGC55b3JraWUudjEuRG9jV2F0Y2hFdmVudEgAEjUKDWNoYW5uZWxfZXZlbnQYAiABKAsyHC55b3JraWUudjEuQ2hhbm5lbFdhdGNoRXZlbnRIAEIHCgVldmVudCJICg1Eb2NXYXRjaEV2ZW50EhMKC2RvY3VtZW50X2lkGAEgASgJEiIKBWV2ZW50GAIgASgLMhMueW9ya2llLnYxLkRvY0V2ZW50IlAKEUNoYW5uZWxXYXRjaEV2ZW50EhMKC2NoYW5uZWxfa2V5GAEgASgJEiYKBWV2ZW50GAIgASgLMhcueW9ya2llLnYxLkNoYW5uZWxFdmVudCJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMpgKCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAEj4KBVdhdGNoEhcueW9ya2llLnYxLldhdGNoUmVxdWVzdBoYLnlvcmtpZS52MS5XYXRjaFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[Ge]),0),lf=Le(Wr("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[xs]),0);var V=(a=>(a.Ok="ok",a.ErrClientNotActivated="ErrClientNotActivated",a.ErrClientNotFound="ErrClientNotFound",a.ErrUnimplemented="ErrUnimplemented",a.ErrInvalidType="ErrInvalidType",a.ErrDummy="ErrDummy",a.ErrNotAttached="ErrNotAttached",a.ErrNotDetached="ErrNotDetached",a.ErrDocumentRemoved="ErrDocumentRemoved",a.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",a.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",a.ErrInvalidObjectKey="ErrInvalidObjectKey",a.ErrInvalidArgument="ErrInvalidArgument",a.ErrNotInitialized="ErrNotInitialized",a.ErrNotReady="ErrNotReady",a.ErrRefused="ErrRefused",a.ErrContextNotProvided="ErrContextNotProvided",a.ErrPermissionDenied="ErrPermissionDenied",a.ErrUnauthenticated="ErrUnauthenticated",a.ErrTooManySubscribers="ErrTooManySubscribers",a.ErrTooManyAttachments="ErrTooManyAttachments",a))(V||{});class L extends Error{constructor(n,i){super(i);D(this,"name","YorkieError");D(this,"stack");this.code=n,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var Br=(a=>(a.Put="put",a.Clear="clear",a))(Br||{});const du="000000000000000000000000",Ur=24;class Kn{constructor(e,n,i){D(this,"lamport");D(this,"delimiter");D(this,"actorID");this.lamport=e,this.delimiter=n,this.actorID=i}static of(e,n,i){return new Kn(e,n,i)}static fromStruct(e){return Kn.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new Kn(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const n=this.actorID.localeCompare(e.actorID);return n!==0?n:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const gu=0n,uf=0,ll=9223372036854775807n,ls=new Kn(gu,uf,du);function Lr(a){return a.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class ul{constructor(e){D(this,"createdAt");D(this,"movedAt");D(this,"removedAt");this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(e){this.createdAt=e}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.createdAt)&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let e=0;return this.getCreatedAt()&&(e+=Ur),this.getMovedAt()&&(e+=Ur),this.getRemovedAt()&&(e+=Ur),e}}class Na extends ul{constructor(e){super(e)}}class Ca{constructor(e,n){D(this,"strKey");D(this,"value");this.strKey=e,this.value=n}static of(e,n){return new Ca(e,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class Ia{constructor(){D(this,"nodeMapByKey");D(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Ia}set(e,n,i){let l;const c=this.nodeMapByKey.get(e);c&&!c.isRemoved()&&c.remove(i)&&(l=c.getValue());const g=Ca.of(e,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),g),(!c||i.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,g),n.setMovedAt(i)),l}delete(e,n){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new L(V.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const i=this.nodeMapByCreatedAt.get(e.toIDString());return i.remove(n),i.getValue()}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(n)return n.getStrKey()}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!n)throw new L(V.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(e,n){const i=this.nodeMapByKey.get(e);if(i&&i.remove(n))return i.getValue()}has(e){const n=this.nodeMapByKey.get(e);return n?!n.isRemoved():!1}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const n=this.nodeMapByKey.get(e);if(!(!n||n.isRemoved()))return n}deepcopy(){const e=Ia.create();for(const[,n]of this.nodeMapByCreatedAt)e.nodeMapByCreatedAt.set(n.getValue().getCreatedAt().toIDString(),Ca.of(n.getStrKey(),n.getValue().deepcopy()));for(const[n,i]of this.nodeMapByKey)e.nodeMapByKey.set(n,e.nodeMapByCreatedAt.get(i.getValue().getCreatedAt().toIDString()));return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByCreatedAt)yield e}}class dn extends Na{constructor(n,i){super(n);D(this,"memberNodes");this.memberNodes=i}static create(n,i){if(!i)return new dn(n,Ia.create());const l=Ia.create();for(const[c,g]of Object.entries(i))l.set(c,g.deepcopy(),g.getCreatedAt());return new dn(n,l)}subPathOf(n){return this.memberNodes.subPathOf(n)}purge(n){this.memberNodes.purge(n)}set(n,i,l){return this.memberNodes.set(n,i,l)}delete(n,i){return this.memberNodes.delete(n,i)}deleteByKey(n,i){return this.memberNodes.deleteByKey(n,i)}get(n){const i=this.memberNodes.get(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.memberNodes.getByID(n);return i==null?void 0:i.getValue()}has(n){return this.memberNodes.has(n)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const[i,l]of this)n.push(`"${Lr(i)}":${l.toJSON()}`);return`{${n.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(const[i,l]of this){const{createdAt:c,value:g,type:y}=l.toJSForTest();n[i]={key:i,createdAt:c,value:g,type:y}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_OBJECT"}}getKeys(){const n=Array();for(const[i]of this)n.push(i);return n}toSortedJSON(){var l;const n=new Set;for(const[c]of this)n.add(c);const i=[];for(const c of Array.from(n).sort()){const g=(l=this.memberNodes.get(c))==null?void 0:l.getValue();i.push(`"${Lr(c)}":${g.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const n=dn.create(this.getCreatedAt());return n.memberNodes=this.memberNodes.deepcopy(),n.setRemovedAt(this.getRemovedAt()),n.setMovedAt(this.getMovedAt()),n}getDescendants(n){for(const i of this.memberNodes){const l=i.getValue();if(n(l,this))return;l instanceof Na&&l.getDescendants(n)}}*[Symbol.iterator](){for(const n of this.memberNodes)n.isRemoved()||(yield[n.getStrKey(),n.getValue()])}}var Nt=(a=>(a.Local="local",a.Remote="remote",a.UndoRedo="undoredo",a))(Nt||{});class xn{constructor(e,n){D(this,"parentCreatedAt");D(this,"executedAt");this.parentCreatedAt=e,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new L(V.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class cf{constructor(e){D(this,"value");D(this,"left");D(this,"right");D(this,"parent");D(this,"weight");this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class Js{constructor(e){D(this,"root");this.root=e}get length(){return this.root?this.root.getWeight():0}findForText(e){if(!this.root||e<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&e<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<e)e-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{e-=n.getLeftWeight();break}if(e>n.getLength())throw new L(V.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${n.getLength()}`);return this.splayNode(n),[n,e]}findForArray(e){if(!this.root)return;if(e<0||e>=this.length)throw new L(V.ErrInvalidArgument,`out of index range: idx: ${e}, length: ${this.length}`);let n=this.root;for(;;)if(n.hasLeft()&&e<n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<=e)e-=n.getLeftWeight()+n.getLength(),n=n.getRight();else break;return this.splayNode(n),n}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,n){return e?(this.splayNode(e),this.root=n,n.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(n),n.setLeft(e),e.setParent(n),e.setRight(),this.updateWeight(e),this.updateWeight(n),n):(this.root=n,n)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const n=new Js(e.getLeft());n.root&&n.root.setParent();const i=new Js(e.getRight());if(i.root&&i.root.setParent(),n.root){const l=n.getRightmost();n.splayNode(l),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,n){if(!n){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(n),n.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const n=[];this.traversePostorder(e.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const n of e)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,n){e&&(this.traverseInorder(e.getLeft(),n),n.push(e),this.traverseInorder(e.getRight(),n))}traversePostorder(e,n){e&&(this.traversePostorder(e.getLeft(),n),this.traversePostorder(e.getRight(),n),n.push(e))}rotateLeft(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setRight(e.getLeft()),n.hasRight()&&n.getRight().setParent(n),e.setLeft(n),e.getLeft().setParent(e),this.updateWeight(n),this.updateWeight(e)}rotateRight(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setLeft(e.getRight()),n.hasLeft()&&n.getLeft().setParent(n),e.setRight(n),e.getRight().setParent(e),this.updateWeight(n),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var tr=null;try{tr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Pe(a,e,n){this.low=a|0,this.high=e|0,this.unsigned=!!n}Pe.prototype.__isLong__,Object.defineProperty(Pe.prototype,"__isLong__",{value:!0});function gn(a){return(a&&a.__isLong__)===!0}function ff(a){var e=Math.clz32(a&-a);return a?31-e:e}Pe.isLong=gn;var mu={},hf={};function pi(a,e){var n,i,l;return e?(a>>>=0,(l=0<=a&&a<256)&&(i=hf[a],i)?i:(n=tt(a,0,!0),l&&(hf[a]=n),n)):(a|=0,(l=-128<=a&&a<128)&&(i=mu[a],i)?i:(n=tt(a,a<0?-1:0,!1),l&&(mu[a]=n),n))}Pe.fromInt=pi;function Xn(a,e){if(isNaN(a))return e?Xr:Mr;if(e){if(a<0)return Xr;if(a>=mf)return yf}else{if(a<=-9223372036854776e3)return mn;if(a+1>=Dd)return pf}return a<0?Xn(-a,e).neg():tt(a%yi|0,a/yi|0,e)}Pe.fromNumber=Xn;function tt(a,e,n){return new Pe(a,e,n)}Pe.fromBits=tt;var cl=Math.pow;function df(a,e,n){if(a.length===0)throw Error("empty string");if(typeof e=="number"?(n=e,e=!1):e=!!e,a==="NaN"||a==="Infinity"||a==="+Infinity"||a==="-Infinity")return e?Xr:Mr;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=a.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return df(a.substring(1),e,n).neg();for(var l=Xn(cl(n,8)),c=Mr,g=0;g<a.length;g+=8){var y=Math.min(8,a.length-g),b=parseInt(a.substring(g,g+y),n);if(y<8){var R=Xn(cl(n,y));c=c.mul(R).add(Xn(b))}else c=c.mul(l),c=c.add(Xn(b))}return c.unsigned=e,c}Pe.fromString=df;function Pn(a,e){return typeof a=="number"?Xn(a,e):typeof a=="string"?df(a,e):tt(a.low,a.high,typeof e=="boolean"?e:a.unsigned)}Pe.fromValue=Pn;var gf=65536,xd=1<<24,yi=gf*gf,mf=yi*yi,Dd=mf/2,Od=pi(xd),Mr=pi(0);Pe.ZERO=Mr;var Xr=pi(0,!0);Pe.UZERO=Xr;var Pr=pi(1);Pe.ONE=Pr;var pu=pi(1,!0);Pe.UONE=pu;var js=pi(-1);Pe.NEG_ONE=js;var pf=tt(-1,2147483647,!1);Pe.MAX_VALUE=pf;var yf=tt(-1,-1,!0);Pe.MAX_UNSIGNED_VALUE=yf;var mn=tt(0,-2147483648,!1);Pe.MIN_VALUE=mn;var ue=Pe.prototype;ue.toInt=function(){return this.unsigned?this.low>>>0:this.low},ue.toNumber=function(){return this.unsigned?(this.high>>>0)*yi+(this.low>>>0):this.high*yi+(this.low>>>0)},ue.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(mn)){var n=Xn(e),i=this.div(n),l=i.mul(n).sub(this);return i.toString(e)+l.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=Xn(cl(e,6),this.unsigned),g=this,y="";;){var b=g.div(c),R=g.sub(b.mul(c)).toInt()>>>0,I=R.toString(e);if(g=b,g.isZero())return I+y;for(;I.length<6;)I="0"+I;y=""+I+y}},ue.getHighBits=function(){return this.high},ue.getHighBitsUnsigned=function(){return this.high>>>0},ue.getLowBits=function(){return this.low},ue.getLowBitsUnsigned=function(){return this.low>>>0},ue.getNumBitsAbs=function(){if(this.isNegative())return this.eq(mn)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&(e&1<<n)==0;n--);return this.high!=0?n+33:n+1},ue.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0},ue.isZero=function(){return this.high===0&&this.low===0},ue.eqz=ue.isZero,ue.isNegative=function(){return!this.unsigned&&this.high<0},ue.isPositive=function(){return this.unsigned||this.high>=0},ue.isOdd=function(){return(this.low&1)===1},ue.isEven=function(){return(this.low&1)===0},ue.equals=function(e){return gn(e)||(e=Pn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},ue.eq=ue.equals,ue.notEquals=function(e){return!this.eq(e)},ue.neq=ue.notEquals,ue.ne=ue.notEquals,ue.lessThan=function(e){return this.comp(e)<0},ue.lt=ue.lessThan,ue.lessThanOrEqual=function(e){return this.comp(e)<=0},ue.lte=ue.lessThanOrEqual,ue.le=ue.lessThanOrEqual,ue.greaterThan=function(e){return this.comp(e)>0},ue.gt=ue.greaterThan,ue.greaterThanOrEqual=function(e){return this.comp(e)>=0},ue.gte=ue.greaterThanOrEqual,ue.ge=ue.greaterThanOrEqual,ue.compare=function(e){if(gn(e)||(e=Pn(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},ue.comp=ue.compare,ue.negate=function(){return!this.unsigned&&this.eq(mn)?mn:this.not().add(Pr)},ue.neg=ue.negate,ue.add=function(e){gn(e)||(e=Pn(e));var n=this.high>>>16,i=this.high&65535,l=this.low>>>16,c=this.low&65535,g=e.high>>>16,y=e.high&65535,b=e.low>>>16,R=e.low&65535,I=0,Z=0,J=0,Y=0;return Y+=c+R,J+=Y>>>16,Y&=65535,J+=l+b,Z+=J>>>16,J&=65535,Z+=i+y,I+=Z>>>16,Z&=65535,I+=n+g,I&=65535,tt(J<<16|Y,I<<16|Z,this.unsigned)},ue.subtract=function(e){return gn(e)||(e=Pn(e)),this.add(e.neg())},ue.sub=ue.subtract,ue.multiply=function(e){if(this.isZero())return this;if(gn(e)||(e=Pn(e)),tr){var n=tr.mul(this.low,this.high,e.low,e.high);return tt(n,tr.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Xr:Mr;if(this.eq(mn))return e.isOdd()?mn:Mr;if(e.eq(mn))return this.isOdd()?mn:Mr;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Od)&&e.lt(Od))return Xn(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,l=this.high&65535,c=this.low>>>16,g=this.low&65535,y=e.high>>>16,b=e.high&65535,R=e.low>>>16,I=e.low&65535,Z=0,J=0,Y=0,Q=0;return Q+=g*I,Y+=Q>>>16,Q&=65535,Y+=c*I,J+=Y>>>16,Y&=65535,Y+=g*R,J+=Y>>>16,Y&=65535,J+=l*I,Z+=J>>>16,J&=65535,J+=c*R,Z+=J>>>16,J&=65535,J+=g*b,Z+=J>>>16,J&=65535,Z+=i*I+l*R+c*b+g*y,Z&=65535,tt(Y<<16|Q,Z<<16|J,this.unsigned)},ue.mul=ue.multiply,ue.divide=function(e){if(gn(e)||(e=Pn(e)),e.isZero())throw Error("division by zero");if(tr){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?tr.div_u:tr.div_s)(this.low,this.high,e.low,e.high);return tt(n,tr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Xr:Mr;var i,l,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Xr;if(e.gt(this.shru(1)))return pu;c=Xr}else{if(this.eq(mn)){if(e.eq(Pr)||e.eq(js))return mn;if(e.eq(mn))return Pr;var g=this.shr(1);return i=g.div(e).shl(1),i.eq(Mr)?e.isNegative()?Pr:js:(l=this.sub(e.mul(i)),c=i.add(l.div(e)),c)}else if(e.eq(mn))return this.unsigned?Xr:Mr;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=Mr}for(l=this;l.gte(e);){i=Math.max(1,Math.floor(l.toNumber()/e.toNumber()));for(var y=Math.ceil(Math.log(i)/Math.LN2),b=y<=48?1:cl(2,y-48),R=Xn(i),I=R.mul(e);I.isNegative()||I.gt(l);)i-=b,R=Xn(i,this.unsigned),I=R.mul(e);R.isZero()&&(R=Pr),c=c.add(R),l=l.sub(I)}return c},ue.div=ue.divide,ue.modulo=function(e){if(gn(e)||(e=Pn(e)),tr){var n=(this.unsigned?tr.rem_u:tr.rem_s)(this.low,this.high,e.low,e.high);return tt(n,tr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},ue.mod=ue.modulo,ue.rem=ue.modulo,ue.not=function(){return tt(~this.low,~this.high,this.unsigned)},ue.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},ue.clz=ue.countLeadingZeros,ue.countTrailingZeros=function(){return this.low?ff(this.low):ff(this.high)+32},ue.ctz=ue.countTrailingZeros,ue.and=function(e){return gn(e)||(e=Pn(e)),tt(this.low&e.low,this.high&e.high,this.unsigned)},ue.or=function(e){return gn(e)||(e=Pn(e)),tt(this.low|e.low,this.high|e.high,this.unsigned)},ue.xor=function(e){return gn(e)||(e=Pn(e)),tt(this.low^e.low,this.high^e.high,this.unsigned)},ue.shiftLeft=function(e){return gn(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?tt(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):tt(0,this.low<<e-32,this.unsigned)},ue.shl=ue.shiftLeft,ue.shiftRight=function(e){return gn(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?tt(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):tt(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},ue.shr=ue.shiftRight,ue.shiftRightUnsigned=function(e){return gn(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?tt(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?tt(this.high,0,this.unsigned):tt(this.high>>>e-32,0,this.unsigned)},ue.shru=ue.shiftRightUnsigned,ue.shr_u=ue.shiftRightUnsigned,ue.rotateLeft=function(e){var n;return gn(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?tt(this.high,this.low,this.unsigned):e<32?(n=32-e,tt(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned)):(e-=32,n=32-e,tt(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned))},ue.rotl=ue.rotateLeft,ue.rotateRight=function(e){var n;return gn(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?tt(this.high,this.low,this.unsigned):e<32?(n=32-e,tt(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned)):(e-=32,n=32-e,tt(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned))},ue.rotr=ue.rotateRight,ue.toSigned=function(){return this.unsigned?tt(this.low,this.high,!1):this},ue.toUnsigned=function(){return this.unsigned?this:tt(this.low,this.high,!0)},ue.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},ue.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},ue.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},Pe.fromBytes=function(e,n,i){return i?Pe.fromBytesLE(e,n):Pe.fromBytesBE(e,n)},Pe.fromBytesLE=function(e,n){return new Pe(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},Pe.fromBytesBE=function(e,n){return new Pe(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)},typeof BigInt=="function"&&(Pe.fromBigInt=function(e,n){var i=Number(BigInt.asIntN(32,e)),l=Number(BigInt.asIntN(32,e>>BigInt(32)));return tt(i,l,n)},Pe.fromValue=function(e,n){return typeof e=="bigint"?Pe.fromBigInt(e,n):Pn(e,n)},ue.toBigInt=function(){var e=BigInt(this.low>>>0),n=BigInt(this.unsigned?this.high>>>0:this.high);return n<<BigInt(32)|e});var At=(a=>(a[a.Null=0]="Null",a[a.Boolean=1]="Boolean",a[a.Integer=2]="Integer",a[a.Long=3]="Long",a[a.Double=4]="Double",a[a.String=5]="String",a[a.Bytes=6]="Bytes",a[a.Date=7]="Date",a))(At||{});class Vt extends ul{constructor(n,i){super(i);D(this,"valueType");D(this,"value");this.valueType=Vt.getPrimitiveType(n),this.value=n===void 0?null:n}static of(n,i){return new Vt(n,i)}static valueFromBytes(n,i){switch(n){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const l=new DataView(i.buffer);return i.forEach(function(c,g){l.setUint8(g,c)}),l.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return Pe.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(Pe.fromBytesLE(Array.from(i),!0).toNumber());default:throw new L(V.ErrUnimplemented,`unimplemented type: ${n}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new L(V.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Lr(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const n=Vt.of(this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n.setRemovedAt(this.getRemovedAt()),n}getType(){return this.valueType}static getPrimitiveType(n){switch(typeof n){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(n)?2:4;case"string":return 5;case"object":if(n===null)return 0;if(n instanceof Pe)return 3;if(n instanceof Uint8Array)return 6;if(n instanceof Date)return 7}}static isSupport(n){return Vt.getPrimitiveType(n)!==void 0}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===2||n===3||n===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 4:{const n=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,n,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const n=this.value,i=Pe.fromNumber(n.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new L(V.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class xa extends cf{constructor(n){super(n);D(this,"prev");D(this,"next");D(this,"movedFrom");this.value=n}static createAfter(n,i){const l=new xa(i),c=n.next;return n.next=l,l.prev=n,l.next=c,c&&(c.prev=l),l}remove(n){return this.value.remove(n)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(n){this.movedFrom=n}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Da{constructor(){D(this,"dummyHead");D(this,"last");D(this,"nodeMapByIndex");D(this,"nodeMapByCreatedAt");const e=Vt.of(0,ls);e.setRemovedAt(ls),this.dummyHead=new xa(e),this.last=this.dummyHead,this.nodeMapByIndex=new Js,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Da}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,n){let i=this.nodeMapByCreatedAt.get(e.toIDString());if(!i)throw new L(V.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;i.getValue().getMovedAt()&&i.getValue().getMovedAt().after(n)&&i.getMovedFrom();)i=i.getMovedFrom();for(;i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,n,i=n.getCreatedAt()){const l=this.findNextBeforeExecutedAt(e,i),c=xa.createAfter(l,n);return l===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(l,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(e,n,i){let l=this.nodeMapByCreatedAt.get(e.toIDString());if(!l)throw new L(V.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);let c=this.nodeMapByCreatedAt.get(n.toIDString());if(!c)throw new L(V.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);if(l!==c&&i.after(c.getPositionedAt())){const g=c.getPrev();let y=c.getNext();for(this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(g);y&&y.getPositionedAt().after(i);)l=c,c=y,y=c.getNext(),this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(g)}}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(n)return String(this.nodeMapByIndex.indexOf(n))}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!n)throw new L(V.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(n)}getByIndex(e){return e>=this.length?void 0:this.nodeMapByIndex.findForArray(e)}getPrevCreatedAt(e){let n=this.nodeMapByCreatedAt.get(e.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(e,n){const i=this.nodeMapByCreatedAt.get(e.toIDString()),l=i.isRemoved();return i.remove(n)&&!l&&this.nodeMapByIndex.splayNode(i),i.getValue()}set(e,n,i){const l=this.nodeMapByCreatedAt.get(e.toIDString());if(!l)throw new L(V.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);return this.insertAfter(l.getCreatedAt(),n,i),this.delete(e,i)}deleteByIndex(e,n){const i=this.getByIndex(e);if(i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?e.push(`{${i}}`):e.push(`[${i}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class qt extends Na{constructor(n,i){super(n);D(this,"elements");this.elements=i}static create(n,i){if(!i)return new qt(n,Da.create());const l=Da.create();for(const c of i)l.insertAfter(l.getLastCreatedAt(),c.deepcopy());return new qt(n,l)}subPathOf(n){return this.elements.subPathOf(n)}purge(n){this.elements.purge(n)}insertAfter(n,i,l){this.elements.insertAfter(n,i,l)}moveAfter(n,i,l){this.elements.moveAfter(n,i,l)}get(n){const i=this.elements.getByIndex(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.elements.getByID(n);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(n){return this.elements.getPrevCreatedAt(n)}delete(n,i){return this.elements.delete(n,i)}deleteByIndex(n,i){return this.elements.deleteByIndex(n,i)}set(n,i,l){return this.elements.set(n,i,l)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const n of this.elements)n.isRemoved()||(yield n.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(n){for(const i of this.elements){const l=i.getValue();if(n(l,this))return;l instanceof Na&&l.getDescendants(n)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const i of this)n.push(i.toJSON());return`[${n.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(let i=0;i<this.length;i++){const{createdAt:l,value:c,type:g}=this.get(i).toJSForTest();n[i]={key:String(i),createdAt:l,value:c,type:g}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const n=qt.create(this.getCreatedAt());for(const i of this.elements)n.elements.insertAfter(n.getLastCreatedAt(),i.getValue().deepcopy());return n.setRemovedAt(this.getRemovedAt()),n.setMovedAt(this.getMovedAt()),n}}class yr extends xn{constructor(n,i,l,c){super(n,c);D(this,"prevCreatedAt");D(this,"value");this.prevCreatedAt=i,this.value=l}static create(n,i,l,c){return new yr(n,i,l,c)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof qt))throw new L(V.ErrInvalidArgument,"fail to execute, only array can execute add");const l=i,c=this.value.deepcopy();return l.insertAfter(this.prevCreatedAt,c,this.getExecutedAt()),n.registerElement(c,l),{opInfos:[{type:"add",path:n.createPath(this.getParentCreatedAt()),index:Number(l.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return nr.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(n){this.prevCreatedAt=n}}class nr extends xn{constructor(n,i,l){super(n,l);D(this,"createdAt");this.createdAt=i}static create(n,i,l){return new nr(n,i,l)}execute(n,i){var R;const l=n.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof Na))throw new L(V.ErrInvalidArgument,`only object and array can execute remove: ${l}`);if(i===Nt.UndoRedo){let I=l.getByID(this.createdAt);for(;I;){if(I.getRemovedAt())return;I=(R=n.findElementPairByCreatedAt(I.getCreatedAt()))==null?void 0:R.parent}}const c=l.subPathOf(this.createdAt),g=this.toReverseOperation(l),y=l.delete(this.createdAt,this.getExecutedAt());return n.registerRemovedElement(y),{opInfos:l instanceof qt?[{type:"remove",path:n.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:n.createPath(this.getParentCreatedAt()),key:c}],reverseOp:g}}toReverseOperation(n){if(n instanceof qt){const i=n.getByID(this.createdAt);if(i!==void 0){const l=n.getPrevCreatedAt(this.createdAt);return yr.create(this.getParentCreatedAt(),l,i.deepcopy())}}if(n instanceof dn){const i=n.subPathOf(this.createdAt);if(i!==void 0){const l=n.get(i);if(l!==void 0)return vi.create(i,l.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(n){this.createdAt=n}}class vi extends xn{constructor(n,i,l,c){super(l,c);D(this,"key");D(this,"value");this.key=n,this.value=i}static create(n,i,l,c){return new vi(n,i,l,c)}execute(n,i){var R;const l=n.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof dn))throw new L(V.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===Nt.UndoRedo){let I=l;for(;I;){if(I.getRemovedAt())return;I=(R=n.findElementPairByCreatedAt(I.getCreatedAt()))==null?void 0:R.parent}}const c=l.get(this.key),g=this.toReverseOperation(c),y=this.value.deepcopy(),b=l.set(this.key,y,this.getExecutedAt());return i===Nt.UndoRedo&&n.findByCreatedAt(y.getCreatedAt())&&n.deregisterElement(y),n.registerElement(y,l),b&&n.registerRemovedElement(b),{opInfos:[{type:"set",path:n.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:g}}toReverseOperation(n){let i=nr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return n!==void 0&&!n.isRemoved()&&(i=vi.create(this.key,n.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class vr extends xn{constructor(n,i,l,c){super(n,c);D(this,"prevCreatedAt");D(this,"createdAt");this.prevCreatedAt=i,this.createdAt=l}static create(n,i,l,c){return new vr(n,i,l,c)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof qt))throw new L(V.ErrInvalidArgument,"fail to execute, only array can execute move");const l=i,c=this.toReverseOperation(l),g=Number(l.subPathOf(this.createdAt));l.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const y=Number(l.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:n.createPath(this.getParentCreatedAt()),index:y,previousIndex:g}],reverseOp:c}}toReverseOperation(n){const i=n.getPrevCreatedAt(this.createdAt);return vr.create(this.getParentCreatedAt(),i,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(n){this.prevCreatedAt=n}setCreatedAt(n){this.createdAt=n}}const Hs=(a,e)=>a===e?0:a<e?-1:1;class Vd{constructor(e,n,i){D(this,"key");D(this,"value");D(this,"left");D(this,"right");D(this,"isRed");this.key=e,this.value=n,this.isRed=i}}class br{constructor(e){D(this,"stack");this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class _r{constructor(e){D(this,"root");D(this,"comparator");D(this,"counter");this.comparator=typeof e<"u"?e:Hs,this.counter=0}put(e,n){return this.root=this.putInternal(e,n,this.root),this.root.isRed=!1,n}get(e){const n=this.getInternal(e,this.root);return n?n.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new br(this.root)}values(){const e=[];for(const n of this.getIterator().stack)e.push(n.value);return e}floorEntry(e){let n=this.root,i;for(;n;){const l=this.comparator(e,n.key);if(l===0)return n;l<0?n=n.left:(i=n,n=n.right)}return i}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,n){for(;n;){const i=this.comparator(e,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(e,n,i){if(!i)return this.counter+=1,new Vd(e,n,!0);const l=this.comparator(e,i.key);return l<0?i.left=this.putInternal(e,n,i.left):l>0?i.right=this.putInternal(e,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(e,n){if(this.comparator(n,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,n);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(n,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(n,e.key)===0){this.counter-=1;const i=this.min(e.right);e.value=i.value,e.key=i.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,n)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const n=e.right;return e.right=n.left,n.left=e,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(e){const n=e.left;return e.left=n.right,n.right=e,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}function bi(a){return a?vf(a.live)+vf(a.gc):0}function vf(a){return a.data+a.meta}function Ct(a,...e){for(const n of e)a.data+=n.data,a.meta+=n.meta}function Dn(a,e){a.data-=e.data,a.meta-=e.meta}class Et{constructor(e,n){D(this,"createdAt");D(this,"offset");this.createdAt=e,this.offset=n}static of(e,n){return new Et(e,n)}static fromStruct(e){return Et.of(Kn.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new Et(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const yu=Et.of(ls,0);class en{constructor(e,n){D(this,"id");D(this,"relativeOffset");this.id=e,this.relativeOffset=n}static of(e,n){return new en(e,n)}static fromStruct(e){const n=Et.fromStruct(e.id);return en.of(n,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Et.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Fr extends cf{constructor(n,i,l){super(i);D(this,"id");D(this,"removedAt");D(this,"prev");D(this,"next");D(this,"insPrev");D(this,"insNext");this.id=n,this.removedAt=l}static create(n,i){return new Fr(n,i)}static createComparator(){return(n,i)=>{const l=n.getCreatedAt().compare(i.getCreatedAt());return l!==0?l:n.getOffset()>i.getOffset()?1:n.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(n){this.prev=n,n&&(n.next=this)}setNext(n){this.next=n,n&&(n.prev=this)}setInsPrev(n){this.insPrev=n,n&&(n.insNext=this)}setInsNext(n){this.insNext=n,n&&(n.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(n){return new Fr(this.id.split(n),this.splitValue(n),this.removedAt)}canRemove(n,i,l){return i?!!(!this.removedAt||!l&&(n!=null&&n.after(this.removedAt))):!1}canStyle(n,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}setRemovedAt(n){this.removedAt=n}remove(n){if(!this.removedAt){this.removedAt=n;return}n.after(this.removedAt)&&(this.removedAt=n)}createPosRange(){return[en.of(this.id,0),en.of(this.id,this.getLength())]}getDataSize(){const n=this.value.getDataSize();return this.id&&(n.meta+=Ur),this.removedAt&&(n.meta+=Ur),n}deepcopy(){return new Fr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(n){const i=this.value;return this.value=i.substring(0,n),i.substring(n,i.length)}toIDString(){return this.id.toIDString()}}class us{constructor(){D(this,"head");D(this,"treeByIndex");D(this,"treeByID");this.head=Fr.create(yu),this.treeByIndex=new Js,this.treeByID=new _r(Fr.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new us}edit(e,n,i,l){const c={data:0,meta:0},[g,y,b]=this.findNodeWithSplit(e[1],n),[R,I,Z]=this.findNodeWithSplit(e[0],n);Ct(c,y,I);const J=this.findBetween(Z,b),[Y,Q]=this.deleteNodes(J,n,l),re=b?b.getID():g.getID();let me=en.of(re,0);if(i){const $e=this.posToIndex(R.createPosRange()[1],!0),rt=this.insertAfter(R,Fr.create(Et.of(n,0),i));Ct(c,rt.getDataSize()),Y.length&&Y[Y.length-1].from===$e?Y[Y.length-1].value=i:Y.push({actor:n.getActorID(),from:$e,to:$e,value:i}),me=en.of(rt.getID(),rt.getContentLength())}const be=[],xe=[];for(const[,$e]of Q)be.push({parent:this,child:$e}),xe.push($e.getValue());return[me,be,c,Y,xe]}indexToPos(e){const[n,i]=this.treeByIndex.findForText(e),l=n;return en.of(l.getID(),i)}findIndexesFromRange(e){const[n,i]=e;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(e,n){const i=e.getAbsoluteID(),l=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!l)throw new L(V.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const c=this.treeByIndex.indexOf(l),g=l.isRemoved()?0:i.getOffset()-l.getID().getOffset();return c+g}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const n of this)n.isRemoved()||e.push(n.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new us;let n=this.head.getNext(),i=e.head,l;for(;n;){if(l=e.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const c=e.findNode(n.getInsPrevID());l.setInsPrev(c)}i=l,n=n.getNext()}return e}normalizePos(e){const n=this.findFloorNode(e.getID());if(!n)throw new L(V.ErrInvalidArgument,`the node of the given id should be found: ${e.getID().toTestString()}`);let i=e.getRelativeOffset(),l=n,c=n.getPrev();for(;c;)i+=c.getLength(),l=c,c=c.getPrev();return en.of(l.getID(),i)}refinePos(e){let n=this.findFloorNode(e.getID());if(!n)throw new L(V.ErrInvalidArgument,`the node of the given id should be found: ${e.getID().toTestString()}`);let i=e.getRelativeOffset(),l=n.getContentLength();for(;i>l;){i-=l;const c=n.getNext();if(!c)return en.of(n.getID(),l);n=c,l=n.getLength()}return en.of(n.getID(),i)}toTestString(){const e=[];let n=this.head;for(;n;)n.isRemoved()?e.push(`{${n.toTestString()}}`):e.push(`[${n.toTestString()}]`),n=n.getNext();return e.join("")}insertAfter(e,n){const i=e.getNext();return n.setPrev(e),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(e,n),n}findNodeWithSplit(e,n){const i=e.getAbsoluteID();let l=this.findFloorNodePreferToLeft(i);const c=i.getOffset()-l.getID().getOffset(),[,g]=this.splitNode(l,c);for(;l.hasNext()&&l.getNext().getCreatedAt().after(n);)l=l.getNext();return[l,g,l.getNext()]}findFloorNodePreferToLeft(e){let n=this.findFloorNode(e);if(!n)throw new L(V.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&n.getID().getOffset()==e.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(e){const n=this.treeByID.floorEntry(e);if(n&&!(!n.key.equals(e)&&!n.key.hasSameCreatedAt(e)))return n.value}findBetween(e,n){const i=[];let l=e;for(;l&&l!==n;)i.push(l),l=l.getNext();return i}splitNode(e,n){const i={data:0,meta:0};if(n>e.getContentLength())throw new L(V.ErrInvalidArgument,"offset should be less than or equal to length");if(n===0)return[e,i];if(n===e.getContentLength())return[e.getNext(),i];const l=e.getDataSize(),c=e.split(n);this.treeByIndex.updateWeight(c),this.insertAfter(e,c);const g=e.getInsNext();return g&&g.setInsPrev(c),c.setInsPrev(e),Ct(i,e.getDataSize(),c.getDataSize()),Dn(i,l),[c,i]}deleteNodes(e,n,i){if(!e.length)return[[],new Map];const l=i===void 0||i.size()===0,c=[],g=[],[y,b]=this.findEdgesOfCandidates(e);g.push(y);for(const Z of e){let J=!1;if(l)J=!0;else{const Q=i==null?void 0:i.get(Z.getCreatedAt().getActorID());Q&&Q>=Z.getCreatedAt().getLamport()&&(J=!0)}let Y=!1;if(Z.getRemovedAt()){const Q=i==null?void 0:i.get(Z.getRemovedAt().getActorID());(l||Q&&Q>=Z.getRemovedAt().getLamport())&&(Y=!0)}Z.canRemove(n,J,Y)?c.push(Z):g.push(Z)}g.push(b);const R=this.makeChanges(g,n),I=new Map;for(const Z of c)I.set(Z.getID().toIDString(),Z),Z.remove(n);return this.deleteIndexNodes(g),[R,I]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,n){const i=[];let l,c;for(let g=0;g<e.length-1;g++){const y=e[g],b=e[g+1];y.getNext()!=b&&([l]=this.findIndexesFromRange(y.getNext().createPosRange()),b?[,c]=this.findIndexesFromRange(b.getPrev().createPosRange()):c=this.treeByIndex.length,l<c&&i.push({actor:n.getActorID(),from:l,to:c}))}return i.reverse()}deleteIndexNodes(e){for(let n=0;n<e.length-1;n++){const i=e[n],l=e[n+1];i.getNext()!=l&&this.treeByIndex.deleteRange(i,l)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const n=e.getPrev(),i=e.getNext(),l=e.getInsPrev(),c=e.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),e.setPrev(void 0),e.setNext(void 0),l&&l.setInsNext(c),c&&c.setInsPrev(l),e.setInsPrev(void 0),e.setInsNext(void 0)}}class Oa{constructor(e,n,i,l){D(this,"key");D(this,"value");D(this,"updatedAt");D(this,"_isRemoved");this.key=e,this.value=n,this.updatedAt=i,this._isRemoved=l}static of(e,n,i,l){return new Oa(e,n,i,l)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Ur}}}class On{constructor(){D(this,"nodeMapByKey");D(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new On}getNodeMapByKey(){return this.nodeMapByKey}set(e,n,i){const l=this.nodeMapByKey.get(e);if(l&&l.isRemoved()&&i.after(l.getUpdatedAt())&&(this.numberOfRemovedElement-=1),l===void 0||i.after(l.getUpdatedAt())){const c=Oa.of(e,n,i,!1);return this.nodeMapByKey.set(e,c),l!==void 0&&l.isRemoved()?[l,c]:[void 0,c]}return l.isRemoved()?[l,void 0]:[void 0,void 0]}setInternal(e,n,i,l){const c=Oa.of(e,n,i,l);this.nodeMapByKey.set(e,c),l&&this.numberOfRemovedElement++}remove(e,n){const i=this.nodeMapByKey.get(e),l=[];if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const y=Oa.of(e,"",n,!0);return this.nodeMapByKey.set(e,y),l.push(y),l}const c=i.isRemoved();c||(this.numberOfRemovedElement+=1),c&&l.push(i);const g=Oa.of(e,i.getValue(),n,!0);return this.nodeMapByKey.set(e,g),l.push(g),l}return l}has(e){if(this.nodeMapByKey.has(e)){const n=this.nodeMapByKey.get(e);return n!==void 0&&!n.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new On;for(const[,n]of this.nodeMapByKey)e.setInternal(n.getKey(),n.getValue(),n.getUpdatedAt(),n.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||e.push(`"${Lr(n)}":"${Lr(i.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(e[n]=i.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const n=this.nodeMapByKey.get(e.getKey());n==null||n.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}function Fn(a){if(a instanceof Map){const e=Array.from(a);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(a))}const bf=a=>a?Object.entries(a).length===0:!0,cs=a=>{const e={};for(const[n,i]of Object.entries(a))e[n]=JSON.stringify(i);return e},Jr=a=>{const e={};for(const[n,i]of Object.entries(a))e[n]=JSON.parse(i);return e};class Si{constructor(e){D(this,"attributes");D(this,"content");this.attributes=On.create(),this.content=e}static create(e){return new Si(e)}get length(){return this.content.length}substring(e,n){const i=new Si(this.content.substring(e,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(e,n,i){return this.attributes.set(e,n,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const e={data:0,meta:0};e.data+=this.content.length*2;for(const n of this.attributes){const i=n.getDataSize();e.meta+=i.meta,e.data+=i.data}return e}toJSON(){const e=Lr(this.content),n=this.attributes.toObject(),i=[];for(const[l,c]of Object.entries(n)){const g=JSON.parse(c),y=typeof g=="string"?`"${Lr(l)}":"${Lr(g)}"`:`"${Lr(l)}":${String(g)}`;i.push(y)}return i.sort(),i.length===0?`{"val":"${e}"}`:`{"attrs":{${i.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof Oa&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const n of this.attributes)n.getRemovedAt()&&e.push({parent:this,child:n});return e}}class Vn extends ul{constructor(n,i){super(i);D(this,"rgaTreeSplit");this.rgaTreeSplit=n}static create(n,i){return new Vn(n,i)}edit(n,i,l,c,g){const y=i?Si.create(i):void 0;if(y&&c)for(const[Q,re]of Object.entries(c))y.setAttr(Q,re,l);const[b,R,I,Z,J]=this.rgaTreeSplit.edit(n,l,y,g);return[Z.map(Q=>({...Q,value:Q.value?{attributes:Jr(Q.value.getAttributes()),content:Q.value.getContent()}:{attributes:void 0,content:""},type:"content"})),R,I,[b,b],J]}setStyle(n,i,l,c){const g={data:0,meta:0},[,y,b]=this.rgaTreeSplit.findNodeWithSplit(n[1],l),[,R,I]=this.rgaTreeSplit.findNodeWithSplit(n[0],l);Ct(g,y,R);const Z=[],J=this.rgaTreeSplit.findBetween(I,b),Y=[];for(const xe of J){const $e=xe.getCreatedAt().getActorID();let rt=ll;c!=null&&(rt=c.get($e)?c.get($e):0n),xe.canStyle(l,rt)&&Y.push(xe)}const Q=new Map,re=[];let me=!1;const be=[];for(const xe of Y){if(xe.isRemoved())continue;if(!me){for(const gt of Object.keys(i)){const _e=xe.getValue().getAttrs();_e.has(gt)?Q.set(gt,_e.get(gt)):re.push(gt)}me=!0}const[$e,rt]=this.rgaTreeSplit.findIndexesFromRange(xe.createPosRange());Z.push({type:"style",actor:l.getActorID(),from:$e,to:rt,value:{attributes:Jr(i)}});for(const[gt,_e]of Object.entries(i)){const[vt]=xe.getValue().setAttr(gt,_e,l);vt!==void 0&&be.push({parent:xe.getValue(),child:vt});const Ot=xe.getValue().getAttrs().getNodeMapByKey().get(gt);Ot!==void 0&&Ct(g,Ot.getDataSize())}}return[be,g,Z,Q,re]}removeStyle(n,i,l,c){const g={data:0,meta:0},[,y,b]=this.rgaTreeSplit.findNodeWithSplit(n[1],l),[,R,I]=this.rgaTreeSplit.findNodeWithSplit(n[0],l);Ct(g,y,R);const Z=[],J=this.rgaTreeSplit.findBetween(I,b),Y=[];for(const be of J){const xe=be.getCreatedAt().getActorID();let $e=ll;c!=null&&($e=c.get(xe)?c.get(xe):0n),be.canStyle(l,$e)&&Y.push(be)}const Q=new Map;let re=!1;const me=[];for(const be of Y){if(be.isRemoved())continue;if(!re){for(const gt of i){const _e=be.getValue().getAttrs();_e.has(gt)&&Q.set(gt,_e.get(gt))}re=!0}const[xe,$e]=this.rgaTreeSplit.findIndexesFromRange(be.createPosRange()),rt={};for(const gt of i)rt[gt]=null;Z.push({type:"style",actor:l.getActorID(),from:xe,to:$e,value:{attributes:rt}});for(const gt of i){const _e=be.getValue().getAttrs().remove(gt,l);for(const vt of _e)me.push({parent:be.getValue(),child:vt}),Ct(g,vt.getDataSize())}}return[me,g,Z,Q]}indexRangeToPosRange(n,i){const l=this.rgaTreeSplit.indexToPos(n);return n===i?[l,l]:[l,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(n){return this.rgaTreeSplit.refinePos(n)}normalizePos(n){return this.rgaTreeSplit.normalizePos(n)}getDataSize(){const n={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const l=i.getDataSize();n.data+=l.data,n.meta+=l.meta}return{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){const n=[];for(const i of this.rgaTreeSplit)i.isRemoved()||n.push(i.getValue().toJSON());return`[${n.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const n=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const l=i.getValue();n.push({attributes:Jr(l.getAttributes()),content:l.getContent()})}return n}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const n=new Vn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return n.setRemovedAt(this.getRemovedAt()),n.setMovedAt(this.getMovedAt()),n}findIndexesFromRange(n){return this.rgaTreeSplit.findIndexesFromRange(n)}posToIndex(n,i=!1){return this.rgaTreeSplit.posToIndex(n,i)}getGCPairs(){const n=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&n.push({parent:this.rgaTreeSplit,child:i});for(const l of i.getValue().getGCPairs())n.push(l)}return n}}class jr extends xn{constructor(n,i,l,c,g,y,b){super(n,y);D(this,"fromPos");D(this,"toPos");D(this,"content");D(this,"attributes");D(this,"isUndoOp");this.fromPos=i,this.toPos=l,this.content=c,this.attributes=g,this.isUndoOp=b}static create(n,i,l,c,g,y,b){return new jr(n,i,l,c,g,y,b)}execute(n,i,l){const c=n.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Vn))throw new L(V.ErrInvalidArgument,"fail to execute, only Text can execute edit");const g=c;this.isUndoOp&&(this.fromPos=g.refinePos(this.fromPos),this.toPos=g.refinePos(this.toPos));const[y,b,R,,I]=g.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),l),Z=this.toReverseOperation(I,g.normalizePos(this.fromPos));n.acc(R);for(const J of b)n.registerGCPair(J);return{opInfos:y.map(({from:J,to:Y,value:Q})=>({type:"edit",from:J,to:Y,value:Q,path:n.createPath(this.getParentCreatedAt())})),reverseOp:Z}}toReverseOperation(n,i){var g;const l=n!=null&&n.length?n.map(y=>y.getContent()).join(""):"";let c;if(n.length===1){const y=n[0].getAttributes();y&&(c=Array.from(Object.entries(y)))}return jr.create(this.getParentCreatedAt(),i,en.of(i.getID(),i.getRelativeOffset()+(((g=this.content)==null?void 0:g.length)??0)),l,c?new Map(c):new Map,void 0,!0)}normalizePos(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Vn))throw new L(V.ErrInvalidArgument,"only Text can normalize edit");const l=i,c=l.normalizePos(this.fromPos).getRelativeOffset(),g=l.normalizePos(this.toPos).getRelativeOffset();return[c,g]}reconcileOperation(n,i,l){if(!this.isUndoOp||n>i)return;const c=i-n,g=this.fromPos.getRelativeOffset(),y=this.toPos.getRelativeOffset(),b=(R,I)=>{this.fromPos=en.of(this.fromPos.getID(),Math.max(0,R)),this.toPos=en.of(this.toPos.getID(),Math.max(0,I))};if(i<=g){b(g-c+l,y-c+l);return}if(!(y<=n)){if(n<=g&&y<=i&&n!==i){b(n,n);return}if(g<=n&&i<=y&&g!==y){b(g,y-c+l);return}if(n<g&&g<i&&i<y){b(n,n+(y-i));return}if(g<n&&n<y&&y<i){b(g,n);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.content;return`${n}.EDIT(${i},${l},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Hr extends xn{constructor(n,i,l,c,g,y){super(n,y);D(this,"fromPos");D(this,"toPos");D(this,"attributes");D(this,"attributesToRemove");this.fromPos=i,this.toPos=l,this.attributes=c,this.attributesToRemove=g}static create(n,i,l,c,g){return new Hr(n,i,l,c,[],g)}static createRemoveStyleOperation(n,i,l,c,g){return new Hr(n,i,l,new Map,c,g)}execute(n,i,l){const c=n.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Vn))throw new L(V.ErrInvalidArgument,"fail to execute, only Text can execute edit");const g=c,y=[],b=[];let R={data:0,meta:0};const I=new Map,Z=[];if(this.attributesToRemove.length>0){const[Y,Q,re,me]=g.removeStyle([this.fromPos,this.toPos],this.attributesToRemove,this.getExecutedAt(),l);R={data:R.data+Q.data,meta:R.meta+Q.meta},y.push(...Y),b.push(...re);for(const[be,xe]of me)I.set(be,xe)}if(this.attributes.size>0){const[Y,Q,re,me,be]=g.setStyle([this.fromPos,this.toPos],Object.fromEntries(this.attributes),this.getExecutedAt(),l);R={data:R.data+Q.data,meta:R.meta+Q.meta},y.push(...Y),b.push(...re);for(const[xe,$e]of me)I.set(xe,$e);Z.push(...be)}n.acc(R);for(const Y of y)n.registerGCPair(Y);let J;return(I.size>0||Z.length>0)&&(I.size>0&&Z.length>0?J=new Hr(this.getParentCreatedAt(),this.fromPos,this.toPos,I,Z):Z.length>0?J=Hr.createRemoveStyleOperation(this.getParentCreatedAt(),this.fromPos,this.toPos,Z):J=Hr.create(this.getParentCreatedAt(),this.fromPos,this.toPos,I)),{opInfos:b.map(({from:Y,to:Q,value:re})=>({type:"style",from:Y,to:Q,value:re,path:n.createPath(this.getParentCreatedAt())})),reverseOp:J}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.attributes;return`${n}.STYL(${i},${l},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}const Bd=2,am="root",Yr="text";function Zt(a,e,n=!1){let i=0;const l=n?a.allChildren:a.children;for(let c=0;c<e;c++){const g=l[c];!g||!n&&g.isRemoved||(i+=g.paddedSize(n))}return i}class pn{constructor(e,n=[]){D(this,"type");D(this,"parent");D(this,"_children");D(this,"visibleSize");D(this,"totalSize");if(this.type=e,this.visibleSize=0,this.totalSize=0,this._children=n,this.isText&&this._children.length>0)throw new L(V.ErrRefused,"Text node cannot have children")}updateAncestorsSize(e,n=!1){let i=this.parent;for(;i;){if(n)i.totalSize+=e;else if(i.visibleSize+=e,i.isRemoved)break;i=i.parent}}updateDescendantsSize(e=!1){let n=0;for(const i of this._children){const l=i.updateDescendantsSize(e);!e&&i.isRemoved||(n+=l)}return e?this.totalSize+=n:this.visibleSize+=n,this.paddedSize(e)}get isText(){return this.type===Yr}paddedSize(e=!1){let n=this.visibleSize;return e&&(n=this.totalSize),this.isText||(n+=Bd),n}isAncestorOf(e){return Ud(this,e)}get nextSibling(){const e=this.parent.findOffset(this),n=this.parent.children[e+1];if(n)return n}get prevSibling(){const e=this.parent.findOffset(this),n=this.parent.children[e-1];if(n)return n}splitText(e,n){const i={data:0,meta:0};if(e===0||e===this.visibleSize)return[void 0,i];const l=this.value.slice(0,e),c=this.value.slice(e);if(!c.length)return[void 0,i];const g=this.getDataSize();this.value=l;const y=this.cloneText(e+n);return y.value=c,this.parent.insertAfterInternal(y,this),Ct(i,this.getDataSize(),y.getDataSize()),Dn(i,g),[y,i]}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(e=>e.value).join(""):""}append(...e){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const n of e)n.parent=this,n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}prepend(...e){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const n of e)n.parent=this}insertBefore(e,n){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new L(V.ErrInvalidArgument,"child not found");this.insertAtInternal(e,i),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAfter(e,n){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new L(V.ErrInvalidArgument,"child not found");this.insertAtInternal(e,i+1),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAt(e,n){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,n),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}removeChild(e){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");const n=this._children.indexOf(e);if(n===-1)throw new L(V.ErrInvalidArgument,"child not found");this._children.splice(n,1),e.updateAncestorsSize(-e.paddedSize(!0),!0),e.parent=void 0}splitElement(e,n){const i={data:0,meta:0},l=this.getDataSize(),c=this.cloneElement(n);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const g=this.children.slice(0,e),y=this.children.slice(e);this._children=g,c._children=y,this.visibleSize=this._children.reduce((b,R)=>b+R.paddedSize(),0),this.totalSize=this._children.reduce((b,R)=>b+R.paddedSize(!0),0),c.visibleSize=c._children.reduce((b,R)=>b+R.paddedSize(!0),0),c.totalSize=c._children.reduce((b,R)=>b+R.paddedSize(!0),0);for(const b of c._children)b.parent=c;return Ct(i,this.getDataSize(),c.getDataSize()),Dn(i,l),[c,i]}insertAfterInternal(e,n){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new L(V.ErrInvalidArgument,"child not found");this.insertAtInternal(e,i+1)}insertAtInternal(e,n){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");this._children.splice(n,0,e),e.parent=this}findOffset(e,n=!1){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");if(n)return this._children.indexOf(e);if(e.isRemoved){const i=this._children.indexOf(e);return this.allChildren.splice(0,i).filter(c=>!c.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");let n=e;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function Ud(a,e){if(a===e)return!1;for(;e.parent;){if(e.parent===a)return!0;e=e.parent}return!1}var Gt=(a=>(a.Start="Start",a.End="End",a.Text="Text",a))(Gt||{});function Sf(a,e,n,i,l=!1){if(e>n)throw new L(V.ErrInvalidArgument,`from is greater than to: ${e} > ${n}`);const c=l?a.totalSize:a.visibleSize;if(e>c)throw new L(V.ErrInvalidArgument,`from is out of range: ${e} > ${c}`);if(n>c)throw new L(V.ErrInvalidArgument,`to is out of range: ${n} > ${c}`);if(e===n)return;let g=0;const y=l?a._children:a.children;for(const b of y){if(e-b.paddedSize(l)<g&&g<n){const R=b.isText?e-g:e-g-1,I=b.isText?n-g:n-g-1,Z=l?b.totalSize:b.visibleSize,J=!b.isText&&R<0,Y=!b.isText&&I>Z;(b.isText||J)&&i([b,b.isText?"Text":"Start"],Y),Sf(b,Math.max(0,R),Math.min(I,Z),i,l),Y&&i([b,"End"],Y)}g+=b.paddedSize(l)}}function Af(a,e,n=0){for(const i of a.children)Af(i,e,n+1);e(a,n)}function fl(a,e,n=0){for(const i of a._children)fl(i,e,n+1);e(a,n)}function $s(a,e,n=!0){if(e>a.visibleSize)throw new L(V.ErrInvalidArgument,`index is out of range: ${e} > ${a.visibleSize}`);if(a.isText)return{node:a,offset:e};let i=0,l=0;for(const c of a.children){if(n&&c.isText&&c.visibleSize>=e-l)return $s(c,e-l,n);if(e===l)return{node:a,offset:i};if(!n&&c.paddedSize()===e-l)return{node:a,offset:i+1};if(c.paddedSize()>e-l)return $s(c,e-l-1,n);l+=c.paddedSize(),i+=1}return{node:a,offset:i}}function vu(a){return a.isText||a.children.length===0?a:vu(a.children[0])}function Ld(a,e){if(a.visibleSize<e)throw new L(V.ErrInvalidArgument,"unacceptable path");for(let n=0;n<a.children.length;n++){const i=a.children[n];if(i.visibleSize<e)e-=i.visibleSize;else{a=i;break}}return{node:a,offset:e}}class Md{constructor(e){D(this,"root");this.root=e}tokensBetween(e,n,i,l=!1){Sf(this.root,e,n,i,l)}traverse(e){Af(this.root,e,0)}traverseAll(e){fl(this.root,e,0)}findTreePos(e,n=!0){return $s(this.root,e,n)}treePosToPath(e){const n=[];let i=e.node;if(i.isText){const l=i.parent.findOffset(i);if(l===-1)throw new L(V.ErrInvalidArgument,"invalid treePos");const c=Zt(i.parent,l);n.push(c+e.offset),i=i.parent}else if(i.hasTextChild()){const l=Zt(i,e.offset);n.push(l)}else n.push(e.offset);for(;i.parent;){const l=i.parent.findOffset(i);if(l===-1)throw new L(V.ErrInvalidArgument,"invalid treePos");n.push(l),i=i.parent}return n.reverse()}pathToIndex(e){const n=this.pathToTreePos(e);return this.indexOf(n)}pathToTreePos(e){if(!e.length)throw new L(V.ErrInvalidArgument,"unacceptable path");let n=this.root;for(let i=0;i<e.length-1;i++){const l=e[i];if(n=n.children[l],!n)throw new L(V.ErrInvalidArgument,"unacceptable path")}if(n.hasTextChild())return Ld(n,e[e.length-1]);if(n.children.length<e[e.length-1])throw new L(V.ErrInvalidArgument,"unacceptable path");return{node:n,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(e){const{node:n,offset:i}=e;if(n.isText){if(n.visibleSize===i){const l=n.nextSibling;return l||n.parent}return n}return n.children.length===i?n:vu(n.children[i])}indexOf(e,n=!1){let{node:i}=e;const{offset:l}=e;let c=0,g=1;if(i.isText){c+=l;const y=i.parent,b=y.findOffset(i,n);if(b===-1)throw new L(V.ErrInvalidArgument,"invalid pos");c+=Zt(y,b,n),i=i.parent}else c+=Zt(i,l,n);for(;i!=null&&i.parent;){const y=i.parent,b=y.findOffset(i,n);if(b===-1)throw new L(V.ErrInvalidArgument,"invalid pos");c+=Zt(y,b,n),g++,i=i.parent}return c+g-1}indexToPath(e){const n=this.findTreePos(e);return this.treePosToPath(n)}}class Sr{constructor(e,n){D(this,"parentID");D(this,"leftSiblingID");this.parentID=e,this.leftSiblingID=n}static of(e,n){return new Sr(e,n)}static fromTreePos(e){const{offset:n}=e;let{node:i}=e,l;return i.isText?(i.parent.children[0]===i&&n===0?l=i.parent:l=i,i=i.parent):n===0?l=i:l=i.children[n-1],Sr.of(i.id,tn.of(l.getCreatedAt(),l.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(e){return Sr.of(tn.of(Kn.fromStruct(e.parentID.createdAt),e.parentID.offset),tn.of(Kn.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const n=this.getParentID(),i=this.getLeftSiblingID(),l=e.findFloorNode(n);let c=e.findFloorNode(i);if(!l||!c)throw new L(V.ErrRefused,`cannot find node of CRDTTreePos(${n.toTestString()}, ${i.toTestString()})`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=e.findFloorNode(c.insPrevID)),[l,c]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class tn{constructor(e,n){D(this,"createdAt");D(this,"offset");this.createdAt=e,this.offset=n}static of(e,n){return new tn(e,n)}static fromStruct(e){return tn.of(Kn.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,n)=>{const i=e.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:e.getOffset()>n.getOffset()?1:e.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Bn extends pn{constructor(n,i,l,c,g){super(i);D(this,"id");D(this,"removedAt");D(this,"attrs");D(this,"insPrevID");D(this,"insNextID");D(this,"_value","");this.id=n,this.removedAt=g,c&&(this.attrs=c),typeof l=="string"?this.value=l:Array.isArray(l)&&(this._children=l)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(n,i,l,c){return new Bn(n,i,l,c)}deepcopy(){var i;const n=new Bn(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.visibleSize=this.visibleSize,n.totalSize=this.totalSize,n.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),n._children=this._children.map(l=>{const c=l.deepcopy();return c.parent=n,c}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new L(V.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(n){if(!this.isText)throw new L(V.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=n,this.visibleSize=n.length,this.totalSize=n.length}get isRemoved(){return!!this.removedAt}remove(n){return this.removedAt?(n.after(this.removedAt)&&(this.removedAt=n),!1):(this.removedAt=n,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(n){return new Bn(tn.of(this.id.getCreatedAt(),n),this.type,void 0,void 0,this.removedAt)}cloneElement(n){return new Bn(tn.of(n(),0),this.type,void 0,void 0,this.removedAt)}split(n,i,l){const[c,g]=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,l);if(c){if(c.insPrevID=this.id,this.insNextID){const y=n.findFloorNode(this.insNextID);y.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,n.registerNode(c)}return[c,g]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(n,i,l){return i?!!(!this.removedAt||!l&&(n!=null&&n.after(this.removedAt))):!1}canStyle(n,i){return this.isText?!1:this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}setAttrs(n,i){this.attrs||(this.attrs=new On);const l=[];for(const[c,g]of Object.entries(n))l.push(this.attrs.set(c,g,i));return l}purge(n){this.attrs&&this.attrs.purge(n)}getDataSize(){const n={data:0,meta:0};if(this.isText&&(n.data+=this.visibleSize*2),this.id&&(n.meta+=Ur),this.removedAt&&(n.meta+=Ur),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const l=i.getDataSize();n.meta+=l.meta,n.data+=l.data}return n}getGCPairs(){const n=[];if(!this.attrs)return n;for(const i of this.attrs)i.getRemovedAt()&&n.push({parent:this,child:i});return n}}function hl(a){var n;if(a.isText){const i=a;return{type:i.type,value:i.value}}const e={type:a.type,children:a.children.map(hl)};return a.attrs&&(e.attributes=Jr((n=a.attrs)==null?void 0:n.toObject())),e}function bu(a){if(a.isText)return a.value;let e="";return a.attrs&&a.attrs.size()&&(e=" "+Array.from(a.attrs).filter(n=>!n.isRemoved()).sort((n,i)=>n.getKey().localeCompare(i.getKey())).map(n=>{const i=JSON.parse(n.getValue());return typeof i=="string"?`${n.getKey()}="${i}"`:`${n.getKey()}="${Lr(n.getValue())}"`}).join(" ")),`<${a.type}${e}>${a.children.map(n=>bu(n)).join("")}</${a.type}>`}function Su(a){if(a.isText){const e=a;return{type:e.type,value:e.value,visibleSize:e.visibleSize,isRemoved:e.isRemoved}}return{type:a.type,children:a.children.map(Su),visibleSize:a.visibleSize,isRemoved:a.isRemoved}}class Rn extends ul{constructor(n,i){super(i);D(this,"indexTree");D(this,"nodeMapByID");this.indexTree=new Md(n),this.nodeMapByID=new _r(tn.createComparator()),this.indexTree.traverseAll(l=>{this.nodeMapByID.put(l.id,l)})}static create(n,i){return new Rn(n,i)}findFloorNode(n){const i=this.nodeMapByID.floorEntry(n);if(!(!i||!i.key.getCreatedAt().equals(n.getCreatedAt())))return i.value}registerNode(n){this.nodeMapByID.put(n.id,n)}findNodesAndSplitText(n,i){let l={data:0,meta:0};const[c,g]=n.toTreeNodePair(this);let y=g;const b=c===y,R=y.parent&&!b?y.parent:c;if(y.isText){const[,I]=y.split(this,n.getLeftSiblingID().getOffset()-y.id.getOffset());l=I}if(i){const I=R.allChildren,Z=b?0:I.indexOf(y)+1;for(let J=Z;J<I.length;J++){const Y=I[J];if(!Y.id.getCreatedAt().after(i))break;y=Y}}return[[R,y],l]}style(n,i,l,c){const g={data:0,meta:0},[[y,b],R]=this.findNodesAndSplitText(n[0],l),[[I,Z],J]=this.findNodesAndSplitText(n[1],l);Ct(g,J,R);const Y=[],Q=i?Jr(i):{},re=[];return this.traverseInPosRange(y,b,I,Z,([me,be])=>{var rt;const xe=me.getCreatedAt().getActorID();let $e=ll;if(c!=null&&($e=c.get(xe)?c.get(xe):0n),me.canStyle(l,$e)&&i){const gt=me.setAttrs(i,l),_e=gt.reduce((Xt,[,Mn])=>(Mn&&(Xt[Mn.getKey()]=Q[Mn.getKey()]),Xt),{}),vt=me.parent,Ot=me.prevSibling||me.parent;Object.keys(_e).length>0&&Y.push({type:"style",from:this.toIndex(vt,Ot),to:this.toIndex(me,me),fromPath:this.toPath(vt,Ot),toPath:this.toPath(me,me),actor:l.getActorID(),value:_e});for(const[Xt]of gt)Xt&&re.push({parent:me,child:Xt});for(const[Xt]of Object.entries(Q)){const Mn=(rt=me.attrs)==null?void 0:rt.getNodeMapByKey().get(Xt);Mn!==void 0&&be!==Gt.End&&Ct(g,Mn.getDataSize())}}}),[re,Y,g]}removeStyle(n,i,l,c){const g={data:0,meta:0},[[y,b],R]=this.findNodesAndSplitText(n[0],l),[[I,Z],J]=this.findNodesAndSplitText(n[1],l);Ct(g,J,R);const Y=[],Q=[];return this.traverseInPosRange(y,b,I,Z,([re])=>{const me=re.getCreatedAt().getActorID();let be=ll;if(c!=null&&(be=c.get(me)?c.get(me):0n),re.canStyle(l,be)&&i){re.attrs||(re.attrs=new On);for(const rt of i){const gt=re.attrs.remove(rt,l);for(const _e of gt)Q.push({parent:re,child:_e})}const xe=re.parent,$e=re.prevSibling||re.parent;Y.push({actor:l.getActorID(),type:"removeStyle",from:this.toIndex(xe,$e),to:this.toIndex(re,re),fromPath:this.toPath(xe,$e),toPath:this.toPath(re,re),value:i})}}),[Q,Y,g]}edit(n,i,l,c,g,y){const b={data:0,meta:0},[[R,I],Z]=this.findNodesAndSplitText(n[0],c),[[J,Y],Q]=this.findNodesAndSplitText(n[1],c);Ct(b,Q,Z);const re=this.toIndex(R,I),me=this.toPath(R,I),be=[],xe=[],$e=[];this.traverseInPosRange(R,I,J,Y,([_e,vt],Ot)=>{if(vt===Gt.Start&&!Ot)for(const El of _e.children)$e.push(El);const Xt=y===void 0;let Mn=!1;const mg=y==null?void 0:y.get(_e.id.getCreatedAt().getActorID());Mn=Xt||mg!==void 0&&mg>=_e.id.getCreatedAt().getLamport();let $f=!1;if(_e.removedAt){const El=y==null?void 0:y.get(_e.removedAt.getActorID());$f=Xt||El!==void 0&&El>=_e.removedAt.getLamport()}(_e.canDelete(c,Mn,$f)||be.includes(_e.parent))&&((vt===Gt.Text||vt===Gt.Start)&&be.push(_e),xe.push([_e,vt]))},!0);const rt=this.makeDeletionChanges(xe,c),gt=[];for(const _e of be)_e.remove(c),_e.isRemoved&&gt.push({parent:this,child:_e});for(const _e of $e)_e.removedAt||R.append(_e);if(l>0){let _e=0,vt=R,Ot=I;for(;_e<l;)vt.split(this,vt.findOffset(Ot)+1,g),Ot=vt,vt=vt.parent,_e++;rt.push({type:"content",from:re,to:re,fromPath:me,toPath:me,actor:c.getActorID()})}if(i!=null&&i.length){const _e=[];let vt=I;for(const Ot of i)vt===R?R.insertAt(Ot,0):R.insertAfter(Ot,vt),vt=Ot,fl(Ot,Xt=>{R.isRemoved?(Xt.remove(c),gt.push({parent:this,child:Xt})):Ct(b,Xt.getDataSize()),this.nodeMapByID.put(Xt.id,Xt)}),Ot.isRemoved||_e.push(Ot);if(_e.length){const Ot=_e.map(Xt=>hl(Xt));rt.length&&rt[rt.length-1].from===re?rt[rt.length-1].value=Ot:rt.push({type:"content",from:re,to:re,fromPath:me,toPath:me,actor:c.getActorID(),value:Ot})}}return[rt,gt,b]}editT(n,i,l,c,g){const y=this.findPos(n[0]),b=this.findPos(n[1]);return this.edit([y,b],i,l,c,g)}move(n,i,l){throw new L(V.ErrUnimplemented,`not implemented: ${n}, ${i}, ${l}`)}pathToTreePos(n){return this.indexTree.pathToTreePos(n)}purge(n){var c;(c=n.parent)==null||c.removeChild(n),this.nodeMapByID.remove(n.id);const i=n.insPrevID,l=n.insNextID;if(i){const g=this.findFloorNode(i);g.insNextID=l}if(l){const g=this.findFloorNode(l);g.insPrevID=i}n.insPrevID=void 0,n.insNextID=void 0}getGCPairs(){const n=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&n.push({parent:this,child:i});for(const l of i.getGCPairs())n.push(l)}),n}findPos(n,i=!0){const l=this.indexTree.findTreePos(n,i);return Sr.fromTreePos(l)}pathToPosRange(n){const i=this.pathToIndex(n);return[this.findPos(i),this.findPos(i+1)]}pathToPos(n){const i=this.indexTree.pathToIndex(n);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return bu(this.indexTree.getRoot())}getDataSize(){const n={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const l=i.getDataSize();n.data+=l.data,n.meta+=l.meta}),{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const n=this.indexTree.getRoot(),i=(l,c=void 0,g=void 0,y=0)=>{var Y,Q,re,me;let b,R,I;const Z=l.isText?{node:l,offset:0}:c&&g?this.toTreePos(c,g):null;Z&&(b=this.indexTree.indexOf(Z),R=this.indexTree.treePosToPath(Z),I=Sr.fromTreePos(Z).toStruct());const J={type:l.type,parent:c==null?void 0:c.id.toTestString(),size:l.visibleSize,id:l.id.toTestString(),removedAt:(Y=l.removedAt)==null?void 0:Y.toTestString(),insPrev:(Q=l.insPrevID)==null?void 0:Q.toTestString(),insNext:(re=l.insNextID)==null?void 0:re.toTestString(),value:l.isText?l.value:void 0,isRemoved:l.isRemoved,children:[],depth:y,attributes:l.attrs?Jr((me=l.attrs)==null?void 0:me.toObject()):void 0,index:b,path:R,pos:I};for(let be=0;be<l.allChildren.length;be++){const xe=be===0?l:l.allChildren[be-1];J.children.push(i(l.allChildren[be],l,xe,y+1))}return J};return i(n)}getRootTreeNode(){return hl(this.indexTree.getRoot())}toTestTreeNode(){return Su(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const n=this.getRoot(),i=new Rn(n.deepcopy(),this.getCreatedAt());return i.setRemovedAt(this.getRemovedAt()),i.setMovedAt(this.getMovedAt()),i}toPath(n,i){const l=this.toTreePos(n,i);return l?this.indexTree.treePosToPath(l):[]}toIndex(n,i,l=!1){const c=this.toTreePos(n,i,l);return c?this.indexTree.indexOf(c,l):-1}indexToPath(n){return this.indexTree.indexToPath(n)}pathToIndex(n){return this.indexTree.pathToIndex(n)}indexRangeToPosRange(n){const i=this.findPos(n[0]);return n[0]===n[1]?[i,i]:[i,this.findPos(n[1])]}indexRangeToPosStructRange(n){const[i,l]=n,c=this.findPos(i);return i===l?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(l).toStruct()]}posRangeToPathRange(n){const[[i,l]]=this.findNodesAndSplitText(n[0]),[[c,g]]=this.findNodesAndSplitText(n[1]);return[this.toPath(i,l),this.toPath(c,g)]}posRangeToIndexRange(n){const[[i,l]]=this.findNodesAndSplitText(n[0]),[[c,g]]=this.findNodesAndSplitText(n[1]);return[this.toIndex(i,l),this.toIndex(c,g)]}traverseInPosRange(n,i,l,c,g,y=!1){const b=this.toIndex(n,i,y),R=this.toIndex(l,c,y);this.indexTree.tokensBetween(b,R,g,y)}toTreePos(n,i,l=!1){if(!n||!i)return;if(!l&&n.isRemoved){let g;for(;n.isRemoved;)g=n,n=g.parent;const y=n.findOffset(g,l);return{node:n,offset:y}}if(n===i)return{node:n,offset:0};let c=n.findOffset(i,l);if(l||!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize(l)};c++}return{node:n,offset:c}}makeDeletionChanges(n,i){const l=[],c=[];let g=null,y=null;for(let b=0;b<n.length;b++){const R=n[b],I=n[b+1];g||(g=R),y=R;const Z=this.findRightToken(R);(!Z||!I||Z[0]!==I[0]||Z[1]!==I[1])&&(c.push([g,y]),g=null,y=null)}for(const b of c){const[R,I]=b,[Z,J]=this.findLeftToken(R),[Y,Q]=I,re=J===Gt.Start?Z:Z.parent,me=Q===Gt.Start?Y:Y.parent,be=this.toIndex(re,Z),xe=this.toIndex(me,Y);be<xe&&(l.length>0&&be===l[l.length-1].to?(l[l.length-1].to=xe,l[l.length-1].toPath=this.toPath(me,Y)):l.push({type:"content",from:be,to:xe,fromPath:this.toPath(re,Z),toPath:this.toPath(me,Y),actor:i.getActorID()}))}return l.reverse()}findRightToken([n,i]){if(i===Gt.Start){const b=n.allChildren;return b.length>0?[b[0],b[0].isText?Gt.Text:Gt.Start]:[n,Gt.End]}const l=n.parent,c=l.allChildren,g=c.indexOf(n);if(l&&g===c.length-1)return[l,Gt.End];const y=c[g+1];return[y,y.isText?Gt.Text:Gt.Start]}findLeftToken([n,i]){if(i===Gt.End){const b=n.allChildren;if(b.length>0){const R=b[b.length-1];return[R,R.isText?Gt.Text:Gt.End]}return[n,Gt.Start]}const l=n.parent,c=l.allChildren,g=c.indexOf(n);if(l&&g===0)return[l,Gt.Start];const y=c[g-1];return[y,y.isText?Gt.Text:Gt.End]}}class fs extends xn{constructor(n,i,l,c,g,y){super(n,y);D(this,"fromPos");D(this,"toPos");D(this,"contents");D(this,"splitLevel");this.fromPos=i,this.toPos=l,this.contents=c,this.splitLevel=g}static create(n,i,l,c,g,y){return new fs(n,i,l,c,g,y)}execute(n,i,l){var Z;const c=n.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Rn))throw new L(V.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const g=this.getExecutedAt(),y=c,[b,R,I]=y.edit([this.fromPos,this.toPos],(Z=this.contents)==null?void 0:Z.map(J=>J.deepcopy()),this.splitLevel,g,(()=>{let J=g.getDelimiter();return this.contents!==void 0&&(J+=this.contents.length),()=>Kn.of(g.getLamport(),++J,g.getActorID())})(),l);n.acc(I);for(const J of R)n.registerGCPair(J);return{opInfos:b.map(({from:J,to:Y,value:Q,splitLevel:re,fromPath:me,toPath:be})=>({type:"tree-edit",path:n.createPath(this.getParentCreatedAt()),from:J,to:Y,value:Q,splitLevel:re,fromPath:me,toPath:be}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${n}.EDIT(${i},${l},${c.map(g=>bu(g)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class hs{constructor(e){D(this,"vector");this.vector=e||new Map}set(e,n){this.vector.set(e,n)}unset(e){this.vector.delete(e)}get(e){return this.vector.get(e)}has(e){return this.vector.has(e)}maxLamport(){let e=BigInt(0);for(const[,n]of this)n>e&&(e=n);return e}max(e){const n=new Map;for(const[i,l]of e){const c=this.vector.get(i),g=c&&c>l?c:l;n.set(i,g)}for(const[i,l]of this){const c=e.get(i),g=c&&c>l?c:l;n.set(i,g)}return new hs(n)}afterOrEqual(e){const n=this.vector.get(e.getActorID());return n===void 0?!1:n>=e.getLamport()}deepcopy(){const e=new Map;for(const[n,i]of this.vector)e.set(n,i);return new hs(e)}filter(e){const n=new Map;for(const[i]of e){const l=this.vector.get(i);l!==void 0&&n.set(i,l)}return new hs(n)}size(){return this.vector.size}*[Symbol.iterator](){for(const[e,n]of this.vector)yield[e,n]}}const Au=new hs(new Map);class Ar{constructor(e,n,i,l,c){D(this,"clientSeq");D(this,"serverSeq");D(this,"actor");D(this,"lamport");D(this,"versionVector");this.clientSeq=e,this.serverSeq=c,this.lamport=n,this.versionVector=l,this.actor=i}hasClocks(){return this.versionVector.size()>0&&this.lamport!=gu}static of(e,n,i,l,c){return new Ar(e,n,i,l,c)}next(e=!1){if(e)return new Ar(this.clientSeq+1,this.lamport,this.actor,Au,gu);const n=this.versionVector.deepcopy();return n.set(this.actor,this.lamport+1n),new Ar(this.clientSeq+1,this.lamport+1n,this.actor,n)}syncClocks(e){if(!e.hasClocks())return this;const n=e.lamport>this.lamport?e.lamport+1n:this.lamport+1n,i=this.versionVector.max(e.versionVector),l=new Ar(this.clientSeq,n,this.actor,i);return l.versionVector.set(this.actor,n),l}setClocks(e,n){const i=e>this.lamport?e+1n:this.lamport+1n,l=this.versionVector.max(n);return l.set(this.actor,i),Ar.of(this.clientSeq,i,this.actor,l)}createTimeTicket(e){return Kn.of(this.lamport,e,this.actor)}setActor(e){return new Ar(this.clientSeq,this.lamport,e,this.versionVector,this.serverSeq)}setLamport(e){return new Ar(this.clientSeq,e,this.actor,this.versionVector,this.serverSeq)}setVersionVector(e){return new Ar(this.clientSeq,this.lamport,this.actor,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const Va=new Ar(0,0n,du,Au);class Ai{constructor({id:e,operations:n,presenceChange:i,message:l}){D(this,"id");D(this,"operations");D(this,"presenceChange");D(this,"message");this.id=e,this.operations=n||[],this.presenceChange=i,this.message=l}static create({id:e,operations:n,presenceChange:i,message:l}){return new Ai({id:e,operations:n,presenceChange:i,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const n of this.operations)n.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,n,i){const l=[],c=[],g=[];for(const y of this.operations){const b=y.execute(e,i,this.id.getVersionVector());if(!b)continue;const{opInfos:R,reverseOp:I}=b;l.push(...R),c.push(y),I&&g.unshift(I)}return this.presenceChange&&(this.presenceChange.type===Br.Put?n.set(this.id.getActorID(),Fn(this.presenceChange.presence)):n.delete(this.id.getActorID())),{operations:c,opInfos:l,reverseOps:g}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:yt.bytesToHex(yt.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(e=>yt.bytesToHex(yt.operationToBinary(e))),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:n,operations:i,presenceChange:l,message:c}=e;return Ai.create({id:yt.bytesToChangeID(yt.hexToBytes(n)),operations:i==null?void 0:i.map(g=>yt.bytesToOperation(yt.hexToBytes(g))),presenceChange:l,message:c})}}class Eu{constructor(e,n,i,l,c,g){D(this,"documentKey");D(this,"checkpoint");D(this,"isRemoved");D(this,"changes");D(this,"snapshot");D(this,"versionVector");this.documentKey=e,this.checkpoint=n,this.isRemoved=i,this.changes=l,this.snapshot=g,this.versionVector=c}static create(e,n,i,l,c,g){return new Eu(e,n,i,l,c,g)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class ds{constructor(e,n){D(this,"serverSeq");D(this,"clientSeq");this.serverSeq=e,this.clientSeq=n}static of(e,n){return new ds(e,n)}increaseClientSeq(e){return e===0?this:new ds(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const n=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,i=Math.max(this.clientSeq,e.clientSeq);return ds.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const Ba=new ds(0n,0),Ef=a=>a<0?Math.ceil(a):Math.floor(a);var rr=(a=>(a[a.Int=0]="Int",a[a.Long=1]="Long",a))(rr||{});class ln extends ul{constructor(n,i,l){super(l);D(this,"valueType");D(this,"value");switch(this.valueType=n,n){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=Pe.fromNumber(i).toInt():this.value=Ef(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=Pe.fromNumber(i):this.value=i;break;default:throw new L(V.ErrUnimplemented,`unimplemented type: ${n}`)}}static create(n,i,l){return new ln(n,i,l)}static valueFromBytes(n,i){switch(n){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return Pe.fromBytesLE(Array.from(i));default:throw new L(V.ErrUnimplemented,`unimplemented type: ${n}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const n=ln.create(this.valueType,this.value,this.getCreatedAt());return n.setRemovedAt(this.getRemovedAt()),n.setMovedAt(this.getMovedAt()),n}getType(){return this.valueType}static getCounterType(n){switch(typeof n){case"object":return n instanceof Pe?1:void 0;case"number":return n>Math.pow(2,31)-1||n<-Math.pow(2,31)?1:0;default:return}}static isSupport(n){return!!ln.getCounterType(n)}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===0||n===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new L(V.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(n){function i(l){if(!l.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof l.getValue()}`)}return i(this),i(n),this.valueType===1?this.value=this.value.add(n.getValue()):n.getType()===At.Long?this.value=this.value+n.getValue().toInt():this.value=Pe.fromNumber(this.value+Ef(n.getValue())).toInt(),this}}class Rt extends xn{constructor(n,i,l){super(n,l);D(this,"value");this.value=i}static create(n,i,l){return new Rt(n,i,l)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof ln))throw new L(V.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const l=i,c=this.value.deepcopy();return l.increase(c),{opInfos:[{type:"increase",path:n.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const n=this.value.deepcopy(),l=n.getType()===At.Long?n.getValue().multiply(-1):n.getValue()*-1;return Rt.create(this.getParentCreatedAt(),Vt.of(l,n.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Ua extends xn{constructor(n,i,l,c,g,y){super(n,y);D(this,"fromPos");D(this,"toPos");D(this,"attributes");D(this,"attributesToRemove");this.fromPos=i,this.toPos=l,this.attributes=c,this.attributesToRemove=g}static create(n,i,l,c,g){return new Ua(n,i,l,c,[],g)}static createTreeRemoveStyleOperation(n,i,l,c,g){return new Ua(n,i,l,new Map,c,g)}execute(n,i,l){const c=n.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Rn))throw new L(V.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const g=c;let y,b,R={data:0,meta:0};if(this.attributes.size){const I={};[...this.attributes].forEach(([Z,J])=>I[Z]=J),[b,y,R]=g.style([this.fromPos,this.toPos],I,this.getExecutedAt(),l)}else{const I=this.attributesToRemove;[b,y,R]=g.removeStyle([this.fromPos,this.toPos],I,this.getExecutedAt(),l)}n.acc(R);for(const I of b)n.registerGCPair(I);return{opInfos:y.map(({from:I,to:Z,value:J,fromPath:Y,toPath:Q})=>({type:"tree-style",from:I,to:Z,value:this.attributes.size?{attributes:J}:{attributesToRemove:J},fromPath:Y,toPath:Q,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${n}.STYLE(${i},${l},${Object.entries(this.attributes||{}).map(([c,g])=>`${c}:"${g}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class La extends xn{constructor(n,i,l,c){super(n,c);D(this,"createdAt");D(this,"value");this.createdAt=i,this.value=l}static create(n,i,l,c){return new La(n,i,l,c)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof qt))throw new L(V.ErrInvalidArgument,"fail to execute, only array can execute set");const l=i.getByID(this.createdAt).deepcopy(),c=this.toReverseOperation(this.value,l),g=this.value.deepcopy();return i.insertAfter(this.createdAt,g,this.getExecutedAt()),i.delete(this.createdAt,this.getExecutedAt()),n.registerElement(g),{opInfos:[{type:"array-set",path:n.createPath(this.getParentCreatedAt())}],reverseOp:c}}toReverseOperation(n,i){return La.create(this.getParentCreatedAt(),n.getCreatedAt(),i)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(n){this.createdAt=n}}function _d(a){const e={};for(const[n,i]of Object.entries(a))e[n]=JSON.stringify(i);return ge(Ta,{data:e})}function dl(a){if(a.type===Br.Put)return ge(sl,{type:os.PUT,presence:_d(a.presence)});if(a.type===Br.Clear)return ge(sl,{type:os.CLEAR});throw new L(V.ErrUnimplemented,"unimplemented type")}function Ei(a){return ge(hu,{serverSeq:a.getServerSeq(),clientSeq:a.getClientSeq()})}function Ru(a){return ge(uu,{clientSeq:a.getClientSeq(),lamport:a.getLamport(),actorId:Ga(a.getActorID()),versionVector:gs(a.getVersionVector())})}function we(a){if(a)return ge(sf,{lamport:a.getLamport(),delimiter:a.getDelimiter(),actorId:Ga(a.getActorID())})}function gs(a){if(!a)return;const e=ge(gi);for(const[n,i]of a){const l=Df(Ga(n));e.vector[l]=BigInt(i.toString())}return e}function Zr(a){switch(a){case At.Null:return ze.NULL;case At.Boolean:return ze.BOOLEAN;case At.Integer:return ze.INTEGER;case At.Long:return ze.LONG;case At.Double:return ze.DOUBLE;case At.String:return ze.STRING;case At.Bytes:return ze.BYTES;case At.Date:return ze.DATE;default:throw new L(V.ErrInvalidType,`unsupported type: ${a}`)}}function Rf(a){switch(a){case rr.Int:return ze.INTEGER_CNT;case rr.Long:return ze.LONG_CNT;default:throw new L(V.ErrInvalidType,`unsupported type: ${a}`)}}function Qs(a){if(a instanceof dn)return ge(wa,{type:ze.JSON_OBJECT,createdAt:we(a.getCreatedAt()),value:Ln(a)});if(a instanceof qt)return ge(wa,{type:ze.JSON_ARRAY,createdAt:we(a.getCreatedAt()),value:xf(a)});if(a instanceof Vn)return ge(wa,{type:ze.TEXT,createdAt:we(a.getCreatedAt())});if(a instanceof Vt)return ge(wa,{type:Zr(a.getType()),createdAt:we(a.getCreatedAt()),value:a.toBytes()});if(a instanceof ln)return ge(wa,{type:Rf(a.getType()),createdAt:we(a.getCreatedAt()),value:a.toBytes()});if(a instanceof Rn)return ge(wa,{type:ze.TREE,createdAt:we(a.getCreatedAt()),value:xu(a)});throw new L(V.ErrUnimplemented,"unimplemented element")}function Yd(a){return ge(nf,{createdAt:we(a.getCreatedAt()),offset:a.getOffset()})}function qs(a){return ge(af,{createdAt:we(a.getID().getCreatedAt()),offset:a.getID().getOffset(),relativeOffset:a.getRelativeOffset()})}function eo(a){return ge(il,{parentId:Ri(a.getParentID()),leftSiblingId:Ri(a.getLeftSiblingID())})}function Ri(a){return ge(rf,{createdAt:we(a.getCreatedAt()),offset:a.getOffset()})}function wu(a){const e=ge(Xs);if(a instanceof vi){const n=a,i=ge(Td);i.parentCreatedAt=we(n.getParentCreatedAt()),i.key=n.getKey(),i.value=Qs(n.getValue()),i.executedAt=we(n.getExecutedAt()),e.body.case="set",e.body.value=i}else if(a instanceof yr){const n=a,i=ge($c);i.parentCreatedAt=we(n.getParentCreatedAt()),i.prevCreatedAt=we(n.getPrevCreatedAt()),i.value=Qs(n.getValue()),i.executedAt=we(n.getExecutedAt()),e.body.case="add",e.body.value=i}else if(a instanceof vr){const n=a,i=ge(Qc);i.parentCreatedAt=we(n.getParentCreatedAt()),i.prevCreatedAt=we(n.getPrevCreatedAt()),i.createdAt=we(n.getCreatedAt()),i.executedAt=we(n.getExecutedAt()),e.body.case="move",e.body.value=i}else if(a instanceof nr){const n=a,i=ge(mi);i.parentCreatedAt=we(n.getParentCreatedAt()),i.createdAt=we(n.getCreatedAt()),i.executedAt=we(n.getExecutedAt()),e.body.case="remove",e.body.value=i}else if(a instanceof jr){const n=a,i=ge(ke);i.parentCreatedAt=we(n.getParentCreatedAt()),i.from=qs(n.getFromPos()),i.to=qs(n.getToPos()),i.content=n.getContent();const l=i.attributes;for(const[c,g]of n.getAttributes())l[c]=g;i.executedAt=we(n.getExecutedAt()),e.body.case="edit",e.body.value=i}else if(a instanceof Hr){const n=a,i=ge(St);i.parentCreatedAt=we(n.getParentCreatedAt()),i.from=qs(n.getFromPos()),i.to=qs(n.getToPos());const l=n.getAttributesToRemove();l.length>0&&(i.attributesToRemove=l);const c=i.attributes;for(const[g,y]of n.getAttributes())c[g]=y;i.executedAt=we(n.getExecutedAt()),e.body.case="style",e.body.value=i}else if(a instanceof Rt){const n=a,i=ge(Jt);i.parentCreatedAt=we(n.getParentCreatedAt()),i.value=Qs(n.getValue()),i.executedAt=we(n.getExecutedAt()),e.body.case="increase",e.body.value=i}else if(a instanceof fs){const n=a,i=ge(cu);i.parentCreatedAt=we(n.getParentCreatedAt()),i.from=eo(n.getFromPos()),i.to=eo(n.getToPos()),i.contents=Gd(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=we(n.getExecutedAt()),e.body.case="treeEdit",e.body.value=i}else if(a instanceof Ua){const n=a,i=ge(Ps);i.parentCreatedAt=we(n.getParentCreatedAt()),i.from=eo(n.getFromPos()),i.to=eo(n.getToPos());const l=n.getAttributesToRemove();if(l.length>0)i.attributesToRemove=l;else{const c=i.attributes;for(const[g,y]of n.getAttributes())c[g]=y}i.executedAt=we(n.getExecutedAt()),e.body.case="treeStyle",e.body.value=i}else if(a instanceof La){const n=a,i=ge(ss);i.parentCreatedAt=we(n.getParentCreatedAt()),i.createdAt=we(n.getCreatedAt()),i.value=Qs(n.getValue()),i.executedAt=we(n.getExecutedAt()),e.body.case="arraySet",e.body.value=i}else throw new L(V.ErrUnimplemented,"unimplemented operation");return e}function Ma(a){const e=[];for(const n of a)e.push(wu(n));return e}function Kt(a){const e=ge(wd,{id:Ru(a.getID()),message:a.getMessage()});return a.hasOperations()&&(e.operations=Ma(a.getOperations())),a.hasPresenceChange()&&(e.presenceChange=dl(a.getPresenceChange())),e}function wf(a){const e=[];for(const n of a)e.push(Kt(n));return e}function Zd(a){const e=[];for(const n of a)e.push(ge(Cd,{key:n.getStrKey(),element:Un(n.getValue())}));return e}function un(a){const e=[];for(const n of a)e.push(ge(tm,{element:Un(n.getValue())}));return e}function im(a){const e=[];for(const n of a){const i=ge(tf);i.id=Yd(n.getID()),i.value=n.getValue().getContent(),i.removedAt=we(n.getRemovedAt());const l=i.attributes,c=n.getValue().getAttrs();for(const g of c){const y=ge(fu);y.value=g.getValue(),y.updatedAt=we(g.getUpdatedAt()),l[g.getKey()]=y}e.push(i)}return e}function Gd(a){const e=[];if(!a||!a.length)return e;for(const n of a)e.push(ge(jt,{content:It(n)}));return e}function zd(a){const e={};for(const n of a)e[n.getKey()]=ge(fu,{value:n.getValue(),updatedAt:we(n.getUpdatedAt()),isRemoved:n.isRemoved()});return e}function It(a){if(!a)return[];const e=[];return fl(a,(n,i)=>{const l=ge(Wn,{id:Ri(n.id),type:n.type,removedAt:we(n.removedAt),depth:i});n.isText&&(l.value=n.value),n.insPrevID&&(l.insPrevId=Ri(n.insPrevID)),n.insNextID&&(l.insNextId=Ri(n.insNextID)),n.attrs&&(l.attributes=zd(n.attrs)),e.push(l)}),e}function Jn(a){return ge(En,{body:{case:"jsonObject",value:ge(Fs,{nodes:Zd(a.getRHT()),createdAt:we(a.getCreatedAt()),movedAt:we(a.getMovedAt()),removedAt:we(a.getRemovedAt())})}})}function $r(a){return ge(En,{body:{case:"jsonArray",value:ge(em,{nodes:un(a.getElements()),createdAt:we(a.getCreatedAt()),movedAt:we(a.getMovedAt()),removedAt:we(a.getRemovedAt())})}})}function kd(a){return ge(En,{body:{case:"primitive",value:ge(Wt,{type:Zr(a.getType()),value:a.toBytes(),createdAt:we(a.getCreatedAt()),movedAt:we(a.getMovedAt()),removedAt:we(a.getRemovedAt())})}})}function Wd(a){return ge(En,{body:{case:"text",value:ge(qc,{nodes:im(a.getRGATreeSplit()),createdAt:we(a.getCreatedAt()),movedAt:we(a.getMovedAt()),removedAt:we(a.getRemovedAt())})}})}function sm(a){return ge(En,{body:{case:"counter",value:ge(ef,{type:Rf(a.getType()),value:a.toBytes(),createdAt:we(a.getCreatedAt()),movedAt:we(a.getMovedAt()),removedAt:we(a.getRemovedAt())})}})}function Tu(a){return ge(En,{body:{case:"tree",value:ge(Nd,{nodes:It(a.getRoot()),createdAt:we(a.getCreatedAt()),movedAt:we(a.getMovedAt()),removedAt:we(a.getRemovedAt())})}})}function Un(a){if(a instanceof dn)return Jn(a);if(a instanceof qt)return $r(a);if(a instanceof Vt)return kd(a);if(a instanceof Vn)return Wd(a);if(a instanceof ln)return sm(a);if(a instanceof Rn)return Tu(a);throw new L(V.ErrUnimplemented,"unimplemented element")}function Gr(a){return ge(al,{documentKey:a.getDocumentKey(),checkpoint:Ei(a.getCheckpoint()),isRemoved:a.getIsRemoved(),changes:wf(a.getChanges()),snapshot:a.getSnapshot(),versionVector:gs(a.getVersionVector())})}function Kd(a){return{id:a.id,label:a.label,description:a.description,snapshot:a.snapshot,createdAt:a.createdAt?Qh(a.createdAt):new Date}}function yn(a){if(!(a instanceof je))return{};const e=a.findDetails(lf);for(const n of e)return n.metadata;return{}}function ms(a){return yn(a).code??""}function Qr(a,e){return a instanceof je&&ms(a)===e}function wi(a){return Ar.of(a.clientSeq,BigInt(a.lamport),nn(a.actorId),qr(a.versionVector),BigInt(a.serverSeq))}function qr(a){if(!a)return;const e=new hs;return Object.entries(a.vector).forEach(([n,i])=>{const l=zr(io(n));e.set(l,BigInt(i.toString()))}),e}function Te(a){if(a)return Kn.of(BigInt(a.lamport),a.delimiter,nn(a.actorId))}function gl(a){const e={};return Object.entries(a.data).forEach(([n,i])=>{e[n]=JSON.parse(i)}),e}function ea(a){const e=a.type;if(e===os.PUT){const n=gl(a.presence);return{type:Br.Put,presence:n}}if(e===os.CLEAR)return{type:Br.Clear};throw new L(V.ErrInvalidType,`unsupported type: ${e}`)}function Xd(a){const e=new Map;return Object.entries(a).forEach(([n,i])=>{e.set(n,gl(i))}),e}function ps(a){switch(a){case ze.NULL:return At.Null;case ze.BOOLEAN:return At.Boolean;case ze.INTEGER:return At.Integer;case ze.LONG:return At.Long;case ze.DOUBLE:return At.Double;case ze.STRING:return At.String;case ze.BYTES:return At.Bytes;case ze.DATE:return At.Date}throw new L(V.ErrUnimplemented,`unimplemented value type: ${a}`)}function Ti(a){switch(a){case ze.INTEGER_CNT:return rr.Int;case ze.LONG_CNT:return rr.Long}throw new L(V.ErrUnimplemented,`unimplemented value type: ${a}`)}function Ni(a){switch(a.type){case ze.JSON_OBJECT:return a.value?ao(a.value):dn.create(Te(a.createdAt));case ze.JSON_ARRAY:return a.value?If(a.value):qt.create(Te(a.createdAt));case ze.TEXT:return Vn.create(us.create(),Te(a.createdAt));case ze.TREE:return Iu(a.value);case ze.NULL:case ze.BOOLEAN:case ze.INTEGER:case ze.LONG:case ze.DOUBLE:case ze.STRING:case ze.BYTES:case ze.DATE:return Vt.of(Vt.valueFromBytes(ps(a.type),a.value),Te(a.createdAt));case ze.INTEGER_CNT:case ze.LONG_CNT:return ln.create(Ti(a.type),ln.valueFromBytes(Ti(a.type),a.value),Te(a.createdAt))}}function _a(a){return en.of(Et.of(Te(a.createdAt),a.offset),a.relativeOffset)}function Tf(a){return Et.of(Te(a.createdAt),a.offset)}function Pd(a){const e=Si.create(a.value);Object.entries(a.attributes).forEach(([i,l])=>{e.setAttr(i,l.value,Te(l.updatedAt))});const n=Fr.create(Tf(a.id),e);return n.setRemovedAt(Te(a.removedAt)),n}function ta(a){return Sr.of(to(a.parentId),to(a.leftSiblingId))}function to(a){return tn.of(Te(a.createdAt),a.offset)}function Nu(a){if(!a.length)return;const e=[];return a.forEach(n=>{const i=Cu(n.content);e.push(i)}),e}function Cu(a){if(a.length===0)return;const e=[];for(const l of a)e.push(lm(l));const n=e[e.length-1],i=new Map;i.set(a[e.length-1].depth,e[e.length-1]);for(let l=e.length-2;l>=0;l--)i.get(a[l].depth-1).prepend(e[l]),i.set(a[l].depth,e[l]);return n.updateDescendantsSize(),n.updateDescendantsSize(!0),Rn.create(n,ls).getRoot()}function om(a){const e=On.create();for(const[n,i]of Object.entries(a))e.setInternal(n,i.value,Te(i.updatedAt),i.isRemoved);return e}function lm(a){const e=to(a.id),n=Bn.create(e,a.type),i=Object.entries(a.attributes);return n.isText?n.value=a.value:i.length&&(n.attrs=om(a.attributes)),a.insPrevId&&(n.insPrevID=to(a.insPrevId)),a.insNextId&&(n.insNextID=to(a.insNextId)),n.removedAt=Te(a.removedAt),n}function dt(a){if(a.body.case==="set"){const e=a.body.value;return vi.create(e.key,Ni(e.value),Te(e.parentCreatedAt),Te(e.executedAt))}else if(a.body.case==="add"){const e=a.body.value;return yr.create(Te(e.parentCreatedAt),Te(e.prevCreatedAt),Ni(e.value),Te(e.executedAt))}else if(a.body.case==="move"){const e=a.body.value;return vr.create(Te(e.parentCreatedAt),Te(e.prevCreatedAt),Te(e.createdAt),Te(e.executedAt))}else if(a.body.case==="remove"){const e=a.body.value;return nr.create(Te(e.parentCreatedAt),Te(e.createdAt),Te(e.executedAt))}else if(a.body.case==="edit"){const e=a.body.value,n=new Map;return Object.entries(e.attributes).forEach(([i,l])=>{n.set(i,l)}),jr.create(Te(e.parentCreatedAt),_a(e.from),_a(e.to),e.content,n,Te(e.executedAt))}else if(a.body.case==="style"){const e=a.body.value,n=new Map;Object.entries(e.attributes).forEach(([l,c])=>{n.set(l,c)});const i=e.attributesToRemove??[];return new Hr(Te(e.parentCreatedAt),_a(e.from),_a(e.to),n,i,Te(e.executedAt))}else if(a.body.case==="increase"){const e=a.body.value;return Rt.create(Te(e.parentCreatedAt),Ni(e.value),Te(e.executedAt))}else if(a.body.case==="treeEdit"){const e=a.body.value;return fs.create(Te(e.parentCreatedAt),ta(e.from),ta(e.to),Nu(e.contents),e.splitLevel,Te(e.executedAt))}else if(a.body.case==="treeStyle"){const e=a.body.value,n=new Map,i=e.attributesToRemove;return(i==null?void 0:i.length)>0?Ua.createTreeRemoveStyleOperation(Te(e.parentCreatedAt),ta(e.from),ta(e.to),i,Te(e.executedAt)):(Object.entries(e.attributes).forEach(([l,c])=>{n.set(l,c)}),Ua.create(Te(e.parentCreatedAt),ta(e.from),ta(e.to),n,Te(e.executedAt)))}else if(a.body.case==="arraySet"){const e=a.body.value;return La.create(Te(e.parentCreatedAt),Te(e.createdAt),Ni(e.value),Te(e.executedAt))}else throw new L(V.ErrUnimplemented,"unimplemented operation")}function xt(a){const e=[];for(const n of a){const i=dt(n);i&&e.push(i)}return e}function Fe(a){const e=[];for(const n of a)e.push(Ai.create({id:wi(n.id),operations:xt(n.operations),presenceChange:n.presenceChange?ea(n.presenceChange):void 0,message:n.message}));return e}function nt(a){return ds.of(BigInt(a.serverSeq),a.clientSeq)}function pt(a){return Eu.create(a.documentKey,nt(a.checkpoint),a.isRemoved,Fe(a.changes),qr(a.versionVector),a.snapshot)}function jn(a){const e=new Ia;for(const i of a.nodes){const l=na(i.element);e.set(i.key,l,l.getPositionedAt())}const n=new dn(Te(a.createdAt),e);return n.setMovedAt(Te(a.movedAt)),n.setRemovedAt(Te(a.removedAt)),n}function Ya(a){const e=new Da;for(const i of a.nodes)e.insert(na(i.element));const n=new qt(Te(a.createdAt),e);return n.setMovedAt(Te(a.movedAt)),n.setRemovedAt(Te(a.removedAt)),n}function no(a){const e=Vt.of(Vt.valueFromBytes(ps(a.type),a.value),Te(a.createdAt));return e.setMovedAt(Te(a.movedAt)),e.setRemovedAt(Te(a.removedAt)),e}function Nf(a){const e=new us;let n=e.getHead();for(const l of a.nodes){const c=e.insertAfter(n,Pd(l));l.insPrevId&&c.setInsPrev(e.findNode(Tf(l.insPrevId))),n=c}const i=new Vn(e,Te(a.createdAt));return i.setMovedAt(Te(a.movedAt)),i.setRemovedAt(Te(a.removedAt)),i}function Za(a){const e=ln.create(Ti(a.type),ln.valueFromBytes(Ti(a.type),a.value),Te(a.createdAt));return e.setMovedAt(Te(a.movedAt)),e.setRemovedAt(Te(a.removedAt)),e}function Bt(a){const e=Cu(a.nodes);return Rn.create(e,Te(a.createdAt))}function na(a){if(a.body.case==="jsonObject")return jn(a.body.value);if(a.body.case==="jsonArray")return Ya(a.body.value);if(a.body.case==="primitive")return no(a.body.value);if(a.body.case==="text")return Nf(a.body.value);if(a.body.case==="counter")return Za(a.body.value);if(a.body.case==="tree")return Bt(a.body.value);throw new L(V.ErrUnimplemented,"unimplemented element")}function ys(a){return a.map(e=>({path:e.path,type:e.type}))}function Cf(a){if(!a)return{root:dn.create(ls),presences:new Map};const e=dr(rl,a);return{root:na(e.root),presences:Xd(e.presences)}}function Er(a){const e=gs(a);return zr(gr(gi,e))}function ro(a){const e=ra(a),n=dr(gi,e);return qr(n)}function ao(a){if(!a)throw new L(V.ErrInvalidArgument,"bytes is empty");const e=dr(En,a);return jn(e.body.value)}function Ln(a){return gr(En,Un(a))}function If(a){if(!a)throw new L(V.ErrInvalidArgument,"bytes is empty");const e=dr(En,a);return Ya(e.body.value)}function xf(a){return gr(En,$r(a))}function Iu(a){if(!a)throw new L(V.ErrInvalidArgument,"bytes is empty");const e=dr(En,a);return Bt(e.body.value)}function xu(a){return gr(En,Tu(a))}function zr(a){return a?Array.from(a).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function nn(a){return zr(a)}function ra(a){return new Uint8Array(a.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function io(a){if(typeof window<"u"&&typeof window.atob=="function"){const e=window.atob(a),n=e.length,i=new Uint8Array(n);for(let l=0;l<n;l++)i[l]=e.charCodeAt(l);return i}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const e=globalThis.Buffer;return new Uint8Array(e.from(a,"base64"))}else throw new Error("No base64 decoder available")}function Ga(a){return ra(a)}function Df(a){if(typeof window<"u"&&typeof window.btoa=="function"){let e="";for(let n=0;n<a.byteLength;n++)e+=String.fromCharCode(a[n]);return window.btoa(e)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(a).toString("base64");throw new Error("No base64 encoder available")}}function Of(a){const e=dr(uu,a);return wi(e)}function Fd(a){const e=dr(Xs,a);return dt(e)}const yt={fromPresence:gl,toChangePack:Gr,fromChangePack:pt,fromChanges:Fe,toTreeNodes:It,fromTreeNodes:Cu,objectToBytes:Ln,bytesToObject:ao,bytesToSnapshot:Cf,bytesToHex:zr,hexToBytes:ra,toHexString:nn,toUint8Array:Ga,toOperation:wu,toChangeID:Ru,bytesToChangeID:Of,bytesToOperation:Fd,versionVectorToHex:Er,hexToVersionVector:ro,fromSchemaRules:ys,toRevisionSummary:Kd,changeIDToBinary:a=>gr(uu,Ru(a)),operationToBinary:a=>gr(Xs,wu(a))};var wn=(a=>(a[a.Trivial=0]="Trivial",a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warn=3]="Warn",a[a.Error=4]="Error",a[a.Fatal=5]="Fatal",a))(wn||{});let rn=3;function Jd(a){rn=a}const fe={trivial:(...a)=>{rn>0||typeof console<"u"&&console.log("YORKIE T:",...a)},debug:(...a)=>{rn>1||typeof console<"u"&&console.log("YORKIE D:",...a)},info:(...a)=>{rn>2||typeof console<"u"&&console.log("YORKIE I:",...a)},warn:(...a)=>{rn>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...a):console.log("YORKIE W:",...a))},error:(...a)=>{rn>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...a):console.log("YORKIE E:",...a))},fatal:(...a)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...a):console.log("YORKIE F:",...a))},isEnabled:a=>rn<=a};function Vf(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,a=>{const e=Math.random()*16|0;return(a==="x"?e:e&3|8).toString(16)})}const Du=()=>{};class um{constructor(e){D(this,"finalized",!1);D(this,"observers",[]);D(this,"finalError");try{e(this)}catch(n){this.error(n)}}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let l;if(!e)throw new L(V.ErrInvalidArgument,"missing observer");if(this.finalized)throw new L(V.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?l=e:l={next:e,error:n,complete:i},l.next===void 0&&(l.next=Du),l.error===void 0&&(l.error=Du),l.complete===void 0&&(l.complete=Du);const c=Vf(),g=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(y){fe.warn(y)}return g}unsubscribeOne(e){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e].observer)}catch(i){fe.error(i)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function za(a){const e=new um(a);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class Ci{constructor(e,n,i,l){D(this,"prevID");D(this,"nextID");D(this,"delimiter");D(this,"message");D(this,"root");D(this,"operations");D(this,"presenceChange");D(this,"previousPresence");D(this,"reversePresenceKeys");this.prevID=e,this.nextID=e.next(),this.delimiter=uf,this.root=n,this.operations=[],this.previousPresence=Fn(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(e,n,i,l){return new Ci(e,n,i,l)}push(e){this.operations.push(e)}registerElement(e,n){this.root.registerElement(e,n)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const e=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Ai.create({id:e,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,n){for(const i of Object.keys(e))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const n of this.reversePresenceKeys)e[n]=this.previousPresence[n];return e}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(e){this.root.acc(e)}}function Ou(a,e){const n=new aa(a);return new Proxy(e,n.getHandlers())}class aa{constructor(e){D(this,"context");D(this,"handlers");this.context=e,this.handlers={set:(n,i,l)=>(fe.isEnabled(wn.Trivial)&&fe.trivial(`obj[${i}]=${JSON.stringify(l)}`),aa.setInternal(e,n,i,l),!0),get:(n,i)=>(fe.isEnabled(wn.Trivial)&&fe.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():ka(e,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(fe.isEnabled(wn.Trivial)&&fe.trivial(`obj[${i}]`),aa.deleteInternal(e,n,i),!0)}}static setInternal(e,n,i,l){if(i.includes("."))throw new L(V.ErrInvalidObjectKey,"key must not contain the '.'.");const c=e.issueTimeTicket(),g=xi(e,l,c),y=n.set(i,g,c);e.registerElement(g,n),y&&e.registerRemovedElement(y),e.push(vi.create(i,g.deepcopy(),n.getCreatedAt(),c))}static buildObjectMembers(e,n){const i={};for(const[l,c]of Object.entries(n)){if(l.includes("."))throw new L(V.ErrInvalidObjectKey,"key must not contain the '.'.");const g=e.issueTimeTicket(),y=xi(e,c,g);i[l]=y}return i}static deleteInternal(e,n,i){const l=e.issueTimeTicket(),c=n.deleteByKey(i,l);c&&(e.push(nr.create(n.getCreatedAt(),c.getCreatedAt(),l)),e.registerRemovedElement(c))}getHandlers(){return this.handlers}}function jd(a,e){const n=new it(a,e);return new Proxy(e,n.getHandlers())}function Bf(a){return typeof a=="string"||a instanceof String?!isNaN(a):!1}function Hd(a){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(a)}class it{constructor(e,n){D(this,"context");D(this,"handlers");D(this,"array");this.context=e,this.array=n,this.handlers={get:(i,l,c)=>l==="getID"?()=>i.getCreatedAt():l==="getElementByID"?g=>{const y=i.getByID(g);if(!(!y||y.isRemoved()))return Rr(e,y)}:l==="getElementByIndex"?g=>{const y=i.get(g);return Rr(e,y)}:l==="getLast"?()=>Rr(e,i.getLast()):l==="delete"?g=>{const y=it.deleteInternalByIndex(e,i,g);return Rr(e,y)}:l==="deleteByID"?g=>{const y=it.deleteInternalByID(e,i,g);return Rr(e,y)}:l==="insertAfter"?(g,y)=>{const b=it.insertAfterInternal(e,i,g,y);return Rr(e,b)}:l==="insertIntegerAfter"?(g,y)=>{const b=it.insertIntegerAfterInternal(e,i,g,y);return Rr(e,b)}:l==="insertBefore"?(g,y)=>{const b=it.insertBeforeInternal(e,i,g,y);return Rr(e,b)}:l==="setValue"?(g,y)=>{const b=it.setValueInternal(e,i,g,y);return Rr(e,b)}:l==="moveBefore"?(g,y)=>{it.moveBeforeInternal(e,i,g,y)}:l==="moveAfter"?(g,y)=>{it.moveAfterInternal(e,i,g,y)}:l==="moveAfterByIndex"?(g,y)=>{it.moveAfterByIndexInternal(e,i,g,y)}:l==="moveFront"?g=>{it.moveFrontInternal(e,i,g)}:l==="moveLast"?g=>{it.moveLastInternal(e,i,g)}:Bf(l)?ka(e,i.get(Number(l))):l==="push"?g=>it.pushInternal(e,i,g):l==="splice"?(g,y,...b)=>it.splice(e,i,g,y,...b):l==="length"?i.length:typeof l=="symbol"&&l===Symbol.iterator?it.iteratorInternal.bind(this,e,i):l==="elements"?it.wrappedIteratorInternal.bind(this,e,i):l==="includes"?(g,y)=>it.includes(e,i,g,y):l==="indexOf"?(g,y)=>it.indexOf(e,i,g,y):l==="lastIndexOf"?(g,y)=>it.lastIndexOf(e,i,g,y):l==="toJSForTest"?()=>i.toJSForTest():l==="toTestString"?()=>it.toTestString(i):typeof l=="string"&&Hd(l)?(...g)=>{const y=Array.from(i).map(b=>ka(e,b));return Array.prototype[l].apply(y,g)}:Reflect.get(i,l,c),set:(i,l,c)=>{if(Bf(l)){const g=Number(l);return it.setValueInternal(e,i,g,c),!0}return Reflect.set(i,l,c)},deleteProperty:(i,l)=>(fe.isEnabled(wn.Trivial)&&fe.trivial(`array[${l}]`),it.deleteInternalByIndex(e,i,Number.parseInt(l)),!0)}}static*iteratorInternal(e,n){for(const i of n)yield ka(e,i)}static*wrappedIteratorInternal(e,n){for(const i of n)yield Rr(e,i)}static buildArrayElements(e,n){const i=[];for(const l of n){const c=e.issueTimeTicket(),g=xi(e,l,c);i.push(g)}return i}static pushInternal(e,n,i){return it.insertAfterInternal(e,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(e,n,i,l){const c=e.issueTimeTicket(),g=n.getPrevCreatedAt(i);n.moveAfter(g,l,c),e.push(vr.create(n.getCreatedAt(),g,l,c))}static moveAfterInternal(e,n,i,l){const c=e.issueTimeTicket();e.push(vr.create(n.getCreatedAt(),i,l,c)),n.moveAfter(i,l,c)}static moveAfterByIndexInternal(e,n,i,l){const c=n.get(i);if(!c)throw new L(V.ErrInvalidArgument,`index out of bounds: ${i}`);const g=n.get(l);if(!g)throw new L(V.ErrInvalidArgument,`index out of bounds: ${l}`);it.moveAfterInternal(e,n,c.getCreatedAt(),g.getCreatedAt())}static moveFrontInternal(e,n,i){const l=e.issueTimeTicket(),c=n.getHead();n.moveAfter(c.getCreatedAt(),i,l),e.push(vr.create(n.getCreatedAt(),c.getCreatedAt(),i,l))}static moveLastInternal(e,n,i){const l=e.issueTimeTicket(),c=n.getLastCreatedAt();n.moveAfter(c,i,l),e.push(vr.create(n.getCreatedAt(),c,i,l))}static insertAfterInternal(e,n,i,l){const c=e.issueTimeTicket(),g=xi(e,l,c);return n.insertAfter(i,g),e.registerElement(g,n),e.push(yr.create(n.getCreatedAt(),i,g.deepcopy(),c)),g}static insertIntegerAfterInternal(e,n,i,l){const c=n.get(i);if(!c)throw new L(V.ErrInvalidArgument,`index out of bounds: ${i}`);return it.insertAfterInternal(e,n,c.getCreatedAt(),l),n}static insertBeforeInternal(e,n,i,l){return it.insertAfterInternal(e,n,n.getPrevCreatedAt(i),l)}static setValueInternal(e,n,i,l){const c=n.get(i);if(!c)throw new L(V.ErrInvalidArgument,`index out of bounds: ${i}`);return it.setByIndexInternal(e,n,c.getCreatedAt(),l),n}static setByIndexInternal(e,n,i,l){const c=e.issueTimeTicket(),g=xi(e,l,c),y=g.deepcopy();return e.push(La.create(n.getCreatedAt(),i,y,c)),n.set(i,g,c),e.registerElement(g,n),g}static deleteInternalByIndex(e,n,i){const l=e.issueTimeTicket(),c=n.deleteByIndex(i,l);if(c)return e.push(nr.create(n.getCreatedAt(),c.getCreatedAt(),l)),e.registerRemovedElement(c),c}static deleteInternalByID(e,n,i){const l=e.issueTimeTicket(),c=n.delete(i,l);return e.push(nr.create(n.getCreatedAt(),c.getCreatedAt(),l)),e.registerRemovedElement(c),c}static splice(e,n,i,l,...c){const g=n.length,y=i>=0?Math.min(i,g):Math.max(g+i,0),b=l===void 0?g:l<0?y:Math.min(y+l,g),R=[];for(let I=y;I<b;I++){const Z=it.deleteInternalByIndex(e,n,y);if(Z){const J=Z.deepcopy();J.setRemovedAt(),R.push(ka(e,J))}}if(c){let I=y===0?n.getHead().getID():n.get(y-1).getID();for(const Z of c)I=it.insertAfterInternal(e,n,I,Z).getID()}return R}static includes(e,n,i,l){var y;const c=n.length,g=l===void 0?0:l<0?Math.max(l+c,0):l;if(g>=c)return!1;if(Vt.isSupport(i))return Array.from(n).map(R=>ka(e,R)).includes(i,g);for(let b=g;b<c;b++)if(((y=n.get(b))==null?void 0:y.getID())===i.getID())return!0;return!1}static indexOf(e,n,i,l){var y;const c=n.length,g=l===void 0?0:l<0?Math.max(l+c,0):l;if(g>=c)return-1;if(Vt.isSupport(i))return Array.from(n).map(R=>ka(e,R)).indexOf(i,g);for(let b=g;b<c;b++)if(((y=n.get(b))==null?void 0:y.getID())===i.getID())return b;return-1}static lastIndexOf(e,n,i,l){var y;const c=n.length,g=l===void 0||l>=c?c-1:l<0?l+c:l;if(g<0)return-1;if(Vt.isSupport(i))return Array.from(n).map(R=>ka(e,R)).lastIndexOf(i,g);for(let b=g;b>0;b--)if(((y=n.get(b))==null?void 0:y.getID())===i.getID())return b;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class ml{constructor(e,n){D(this,"context");D(this,"text");this.context=e,this.text=n}initialize(e,n){this.context=e,this.text=n}getID(){return this.text.getID()}edit(e,n,i,l){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(e,n);fe.isEnabled(wn.Debug)&&fe.debug(`EDIT: f:${e}->${c[0].toTestString()}, t:${n}->${c[1].toTestString()} c:${i}`);const g=l?cs(l):void 0,y=this.context.issueTimeTicket(),[,b,R,I]=this.text.edit(c,i,y,g);this.context.acc(R);for(const Z of b)this.context.registerGCPair(Z);return this.context.push(new jr(this.text.getCreatedAt(),c[0],c[1],i,g?new Map(Object.entries(g)):new Map,y)),this.text.findIndexesFromRange(I)}delete(e,n){return this.edit(e,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,n,i){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const l=this.text.indexRangeToPosRange(e,n);fe.isEnabled(wn.Debug)&&fe.debug(`STYL: f:${e}->${l[0].toTestString()}, t:${n}->${l[1].toTestString()} a:${JSON.stringify(i)}`);const c=cs(i),g=this.context.issueTimeTicket(),[y,b]=this.text.setStyle(l,c,g);this.context.acc(b);for(const R of y)this.context.registerGCPair(R);return this.context.push(Hr.create(this.text.getCreatedAt(),l[0],l[1],new Map(Object.entries(c)),g)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");const n=this.text.indexRangeToPosRange(e[0],e[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");const n=this.text.findIndexesFromRange([en.fromStruct(e[0]),en.fromStruct(e[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,n){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,n)}}class Uf{constructor(e,n){D(this,"valueType");D(this,"value");D(this,"context");D(this,"counter");this.valueType=e,this.value=n}initialize(e,n){this.valueType=n.getValueType(),this.context=e,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new L(V.ErrNotInitialized,"Counter is not initialized yet");const n=this.context.issueTimeTicket(),i=Vt.of(e,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(Rt.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new L(V.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Lf(a){if(a.isText)return{type:a.type,value:a.value};const e={type:a.type,children:a.children.map(n=>Lf(n))};return a.attrs&&(e.attributes=Jr(a.attrs.toObject())),e}function cm(a,e){const n={type:a.isText?a.parent.type:a.type,children:a.isText?a.parent.getChildrenText().length===e?[]:[{type:Yr,value:a.parent.getChildrenText().slice(e)}]:a.children.slice(e).map(i=>Lf(i))};return a.attrs?n.attributes=Jr(a.attrs.toObject()):a.isText&&a.parent.attrs&&(n.attributes=Jr(a.parent.attrs.toObject())),n}function $d(a,e){const{node:n}=a,i=[...e].slice(0,-1),l=n.isText?n.parent.getChildrenText().length:n.children.length,c=[...i,l],g=[...i],y=[];g[g.length-1]+=1,e.every((R,I)=>R===c[I])||y.push({fromPath:[...e],toPath:c});const b=cm(n,e[e.length-1]);return b&&y.push({fromPath:g,toPath:g,content:b}),y}function Qd(a,e){const{node:n,offset:i}=a,l=n.children[i],c=n.children[i-1],{children:g}=l,y=[...e].slice(0,-1),b=[{fromPath:[...e],toPath:[...y,i+1]}];if(!l.children.length)return b;const R=[...y,i-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],I=g.map(Z=>Lf(Z));return b.push({fromPath:R,toPath:R,content:I}),b}function Ii(a,e,n){const{type:i}=a,l=n.issueTimeTicket();if(i===Yr){Mf(a);const{value:c}=a,g=Bn.create(tn.of(l,0),i,c);e.append(g)}else{const{children:c=[]}=a,{attributes:g}=a;let y;if(typeof g=="object"&&!bf(g)){const R=cs(g);y=new On;for(const[I,Z]of Object.entries(R))y.set(I,Z,l)}const b=Bn.create(tn.of(l,0),i,void 0,y);e.append(b);for(const R of c)Ii(R,b,n)}}function Vu(a,e){const{type:n}=e,i=a.issueTimeTicket();let l;if(e.type===Yr){const{value:c}=e;l=Bn.create(tn.of(i,0),n,c)}else if(e){const{children:c=[]}=e,{attributes:g}=e;let y;if(typeof g=="object"&&!bf(g)){const b=cs(g);y=new On;for(const[R,I]of Object.entries(b))y.set(R,I,i)}l=Bn.create(tn.of(a.issueTimeTicket(),0),n,void 0,y);for(const b of c)Ii(b,l,a)}return l}function Mf(a){if(!a.value.length)throw new L(V.ErrInvalidArgument,"text node cannot have empty value");return!0}function _f(a){if(!a.length)return!0;if(a[0].type===Yr)for(const n of a){const{type:i}=n;if(i!==Yr)throw new L(V.ErrInvalidArgument,"element node and text node cannot be passed together");Mf(n)}else for(const n of a){const{type:i}=n;if(i===Yr)throw new L(V.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Bu{constructor(e){D(this,"initialRoot");D(this,"context");D(this,"tree");this.initialRoot=e}initialize(e,n){this.context=e,this.tree=n}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return Bn.create(tn.of(e.issueTimeTicket(),0),am);const n=Bn.create(tn.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)Ii(i,n,e);return n}getSize(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new L(V.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(e),i=$d(n,e);for(const l of i){const{fromPath:c,toPath:g,content:y}=l,b=this.tree.pathToPos(c),R=this.tree.pathToPos(g);this.editInternal(b,R,y?[y]:[],0)}}mergeByPath(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new L(V.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(e);if(n.node.isText)throw new L(V.ErrInvalidArgument,"text node cannot be merged");const i=Qd(n,e);for(const l of i){const{fromPath:c,toPath:g,content:y}=l,b=this.tree.pathToPos(c),R=this.tree.pathToPos(g);this.editInternal(b,R,y??[],0)}}styleByPath(e,n){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new L(V.ErrInvalidArgument,"path should not be empty");const[i,l]=this.tree.pathToPosRange(e),c=this.context.issueTimeTicket(),g=n?cs(n):void 0,[y,,b]=this.tree.style([i,l],g,c);this.context.acc(b);for(const R of y)this.context.registerGCPair(R);this.context.push(Ua.create(this.tree.getCreatedAt(),i,l,g?new Map(Object.entries(g)):new Map,c))}style(e,n,i){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(e),c=this.tree.findPos(n),g=this.context.issueTimeTicket(),y=i?cs(i):void 0,[b,,R]=this.tree.style([l,c],y,g);this.context.acc(R);for(const I of b)this.context.registerGCPair(I);this.context.push(Ua.create(this.tree.getCreatedAt(),l,c,y?new Map(Object.entries(y)):new Map,g))}removeStyle(e,n,i){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(e),c=this.tree.findPos(n),g=this.context.issueTimeTicket(),[y,,b]=this.tree.removeStyle([l,c],i,g);this.context.acc(b);for(const R of y)this.context.registerGCPair(R);this.context.push(Ua.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),l,c,i,g))}editInternal(e,n,i,l=0){var R;if(i.length!==0&&i[0]&&(_f(i),i[0].type!==Yr))for(const I of i){const{children:Z=[]}=I;_f(Z)}const c=this.context.getLastTimeTicket();let g=new Array;if(((R=i[0])==null?void 0:R.type)===Yr){let I="";for(const Z of i){const{value:J}=Z;I+=J}g.push(Bn.create(tn.of(this.context.issueTimeTicket(),0),Yr,I))}else g=i.map(I=>I&&Vu(this.context,I)).filter(I=>I);const[,y,b]=this.tree.edit([e,n],g.length?g.map(I=>I==null?void 0:I.deepcopy()):void 0,l,c,()=>this.context.issueTimeTicket());this.context.acc(b);for(const I of y)this.context.registerGCPair(I);return this.context.push(fs.create(this.tree.getCreatedAt(),e,n,g.length?g:void 0,l,c)),!0}editByPath(e,n,i,l=0){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==n.length)throw new L(V.ErrInvalidArgument,"path length should be equal");if(!e.length||!n.length)throw new L(V.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),g=this.tree.pathToPos(n);return this.editInternal(c,g,i?[i]:[],l)}editBulkByPath(e,n,i,l=0){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==n.length)throw new L(V.ErrInvalidArgument,"path length should be equal");if(!e.length||!n.length)throw new L(V.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),g=this.tree.pathToPos(n);return this.editInternal(c,g,i,l)}edit(e,n,i,l=0){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),g=this.tree.findPos(n);return this.editInternal(c,g,i?[i]:[],l)}editBulk(e,n,i,l=0){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),g=this.tree.findPos(n);return this.editInternal(c,g,i,l)}toXML(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");const n=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");const n=[Sr.fromStruct(e[0]),Sr.fromStruct(e[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");const n=[Sr.fromStruct(e[0]),Sr.fromStruct(e[1])];return this.tree.posRangeToPathRange(n)}}function Yf(a,e){return Ou(a,e)}function Rr(a,e){if(e){if(e instanceof Vt)return e;if(e instanceof dn)return Ou(a,e);if(e instanceof qt)return jd(a,e);if(e instanceof Vn)return new ml(a,e);if(e instanceof ln){const n=new Uf(rr.Int,0);return n.initialize(a,e),n}else if(e instanceof Rn){const n=new Bu;return n.initialize(a,e),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function ka(a,e){const n=Rr(a,e);return n instanceof Vt?n.getValue():n}function xi(a,e,n){let i;if(Vt.isSupport(e))i=Vt.of(e,n);else if(Array.isArray(e))i=qt.create(n,it.buildArrayElements(a,e));else if(typeof e=="object")e instanceof ml?(i=Vn.create(us.create(),n),e.initialize(a,i)):e instanceof Uf?(i=ln.create(e.getValueType(),e.getValue(),n),e.initialize(a,i)):e instanceof Bu?(i=Rn.create(e.buildRoot(a),n),e.initialize(a,i)):i=dn.create(n,aa.buildObjectMembers(a,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return i}class so{constructor(e){D(this,"rootObject");D(this,"elementPairMapByCreatedAt");D(this,"gcElementSetByCreatedAt");D(this,"gcPairMap");D(this,"docSize");this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(e,void 0),e.getDescendants(n=>{if(n.getRemovedAt()&&this.registerRemovedElement(n),n instanceof Vn||n instanceof Rn)for(const i of n.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new so(dn.create(ls))}findByCreatedAt(e){const n=this.elementPairMapByCreatedAt.get(e.toIDString());if(n)return n.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let n=this.elementPairMapByCreatedAt.get(e.toIDString());if(!n)return[];const i=[];for(;n.parent;){const l=n.element.getCreatedAt(),c=n.parent.subPathOf(l);if(c===void 0)throw new L(V.ErrInvalidArgument,`cant find the given element: ${l.toIDString()}`);i.unshift(c),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,n){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:n,element:e}),Ct(this.docSize.live,e.getDataSize()),e instanceof Na&&e.getDescendants((i,l)=>(this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:l,element:i}),Ct(this.docSize.live,i.getDataSize()),!1))}deregisterElement(e){let n=0;const i=l=>{const c=l.getCreatedAt().toIDString();Dn(this.docSize.gc,l.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),n++};return i(e),e instanceof Na&&e.getDescendants(l=>(i(l),!1)),n}registerRemovedElement(e){Ct(this.docSize.gc,e.getDataSize()),Dn(this.docSize.live,e.getDataSize()),this.docSize.live.meta+=Ur,this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e);const i=this.gcPairMap.get(e.child.toIDString()).child.getDataSize();Ct(this.docSize.gc,i),Dn(this.docSize.live,i),e.child instanceof Oa||(this.docSize.live.meta+=Ur)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const n of this.gcElementSetByCreatedAt){e.add(n);const i=this.elementPairMapByCreatedAt.get(n);i.element instanceof Na&&i.element.getDescendants(l=>(e.add(l.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new so(this.rootObject.deepcopy())}garbageCollect(e){let n=0;for(const i of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(i),c=l.element.getRemovedAt();c&&(e!=null&&e.afterOrEqual(c))&&(l.parent.purge(l.element),n+=this.deregisterElement(l.element))}for(const[,i]of this.gcPairMap){const l=i.child.getRemovedAt();l&&(e!=null&&e.afterOrEqual(l))&&(i.parent.purge(i.child),Dn(this.docSize.gc,i.child.getDataSize()),this.gcPairMap.delete(i.child.toIDString()),n+=1)}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(e){Ct(this.docSize.live,e)}*getGCElementPairs(){for(const e of this.gcElementSetByCreatedAt){const n=this.elementPairMapByCreatedAt.get(e);n&&(yield n)}}}let Zf=class{constructor(e,n){D(this,"context");D(this,"presence");this.context=e,this.presence=n}set(e,n){for(const i of Object.keys(e))this.presence[i]=e[i];this.context.setPresenceChange({type:Br.Put,presence:Fn(this.presence)}),this.context.setReversePresence(e,n)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:Br.Clear})}};const wt=50;class Gf{constructor(){D(this,"undoStack",[]);D(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=wt&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=wt&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(e,n){const i=l=>{for(const c of l)for(const g of c)(g instanceof La||g instanceof nr||g instanceof vr)&&g.getCreatedAt()===e&&g.setCreatedAt(n),(g instanceof yr||g instanceof vr)&&g.getPrevCreatedAt()===e&&g.setPrevCreatedAt(n)};i(this.undoStack),i(this.redoStack)}reconcileTextEdit(e,n,i,l){const c=g=>{for(const y of g)for(const b of y)b instanceof jr&&b.getParentCreatedAt().compare(e)===0&&b.reconcileOperation(n,i,l)};c(this.undoStack),c(this.redoStack)}}function fm(a,e){const n=[];for(const i of e){const l=qd(a,i.path),c=hm(l,i);if(!c.valid)for(const g of c.errors||[])n.push(g)}return{valid:n.length===0,errors:n}}function qd(a,e){if(!e.startsWith("$"))throw new Error(`Path must start with $, got ${e}`);const n=e.split(".");let i=a;for(let l=1;l<n.length;l++){const c=n[l];if(!(i instanceof dn))return;i=i.get(c)}return i}function hm(a,e){switch(e.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return gm(a,e);case"object":if(!(a instanceof dn))return{valid:!1,errors:[{path:e.path,message:`expected object at path ${e.path}`}]};break;case"array":if(!(a instanceof qt))return{valid:!1,errors:[{path:e.path,message:`expected array at path ${e.path}`}]};break;case"yorkie.Text":if(!(a instanceof Vn))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Text at path ${e.path}`}]};break;case"yorkie.Tree":if(!(a instanceof Rn))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Tree at path ${e.path}`}]};break;case"yorkie.Counter":if(!(a instanceof ln))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Counter at path ${e.path}`}]};break;default:throw new Error(`Unknown rule type: ${e.type}`)}return{valid:!0}}function dm(a){switch(a){case"null":return At.Null;case"boolean":return At.Boolean;case"integer":return At.Integer;case"long":return At.Long;case"double":return At.Double;case"string":return At.String;case"bytes":return At.Bytes;case"date":return At.Date;default:throw new Error(`Unknown primitive type: ${a}`)}}function gm(a,e){return a instanceof Vt&&a.getType()===dm(e.type)?{valid:!0}:{valid:!1,errors:[{path:e.path,message:`expected ${e.type} at path ${e.path}`}]}}const Uu="yorkie-devtools-panel",oo="yorkie-devtools-sdk";function zf(a){return[vn.StatusChanged,vn.Snapshot,vn.LocalChange,vn.RemoteChange,vn.Initialized,vn.Watched,vn.Unwatched,vn.PresenceChanged].includes(a.type)}function Lu(a){return a.every(zf)}let Di="disconnected";const Oi=new Map,ar=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=ar);function Vi(a,e){(e!=null&&e.force||Di!=="disconnected")&&window.postMessage({source:oo,...a},"*")}function mm(a){if(!a.isEnableDevtools()||typeof window>"u"||Oi.has(a.getKey()))return;ar.set(a.getKey(),[]);const e=a.subscribe("all",n=>{Lu(n)&&(ar.get(a.getKey()).push(n),Di==="synced"&&Vi({msg:"doc::sync::partial",docKey:a.getKey(),event:n}))});Oi.set(a.getKey(),[e]),Vi({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var l;if(((l=n.data)==null?void 0:l.source)!==Uu)return;switch(n.data.msg){case"devtools::connect":if(Di!=="disconnected")break;Di="connected",Vi({msg:"doc::available",docKey:a.getKey()}),fe.info(`[YD] Devtools connected. Doc: ${a.getKey()}`);break;case"devtools::disconnect":Di="disconnected",fe.info(`[YD] Devtools disconnected. Doc: ${a.getKey()}`);break;case"devtools::subscribe":Di="synced",Vi({msg:"doc::sync::full",docKey:a.getKey(),events:ar.get(a.getKey())}),fe.info(`[YD] Devtools subscribed. Doc: ${a.getKey()}`);break}})}var Wa=(a=>(a.Detached="detached",a.Attached="attached",a.Removed="removed",a))(Wa||{}),vn=(a=>(a.StatusChanged="status-changed",a.ConnectionChanged="connection-changed",a.SyncStatusChanged="sync-status-changed",a.Snapshot="snapshot",a.LocalChange="local-change",a.RemoteChange="remote-change",a.Initialized="initialized",a.Watched="watched",a.Unwatched="unwatched",a.PresenceChanged="presence-changed",a.AuthError="auth-error",a))(vn||{}),lo=(a=>(a.Connected="connected",a.Disconnected="disconnected",a))(lo||{}),Mu=(a=>(a.Synced="synced",a.SyncFailed="sync-failed",a))(Mu||{});class Bi{constructor(e,n){D(this,"key");D(this,"status");D(this,"opts");D(this,"maxSizeLimit");D(this,"schemaRules");D(this,"changeID");D(this,"checkpoint");D(this,"localChanges");D(this,"root");D(this,"presences");D(this,"clone");D(this,"internalHistory");D(this,"isUpdating");D(this,"onlineClients");D(this,"eventStream");D(this,"eventStreamObserver");D(this,"history");this.key=e,this.status="detached",this.opts=n||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=Va,this.checkpoint=Ba,this.localChanges=[],this.root=so.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new Gf,this.isUpdating=!1,this.eventStream=za(i=>this.eventStreamObserver=i),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},mm(this)}update(e,n){var y,b,R;if(this.getStatus()==="removed")throw new L(V.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),l=Ci.create(this.changeID,this.clone.root,this.clone.presences.get(i)||{},n);try{const I=Yf(l,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,e(I,new Zf(l,this.clone.presences.get(i)))}catch(I){throw this.clone=void 0,I}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!l.isPresenceOnlyChange()&&c.length){const I=fm((y=this.clone)==null?void 0:y.root.getObject(),c);if(!I.valid)throw this.clone=void 0,new L(V.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(b=I.errors)==null?void 0:b.map(Z=>Z.message).join(", ")}`)}const g=bi((R=this.clone)==null?void 0:R.root.getDocSize());if(!l.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<g)throw this.clone=void 0,new L(V.ErrDocumentSizeExceedsLimit,`document size exceeded: ${g} > ${this.maxSizeLimit}`);if(l.hasChange()){fe.isEnabled(wn.Trivial)&&fe.trivial(`trying to update a local change: ${this.toJSON()}`);const I=l.toChange(),{opInfos:Z,reverseOps:J}=I.execute(this.root,this.presences,Nt.Local);for(const re of I.getOperations())re instanceof La&&this.internalHistory.reconcileCreatedAt(re.getCreatedAt(),re.getValue().getCreatedAt());const Y=l.getReversePresence();Y&&J.push({type:"presence",value:Y}),this.localChanges.push(I),J.length&&this.internalHistory.pushUndo(J),Z.length&&this.internalHistory.clearRedo(),this.changeID=l.getNextID();const Q=[];Z.length&&Q.push({type:"local-change",source:Nt.Local,value:{message:I.getMessage()||"",operations:Z,actor:i,clientSeq:I.getID().getClientSeq(),serverSeq:I.getID().getServerSeq()},rawChange:this.isEnableDevtools()?I.toStruct():void 0}),I.hasPresenceChange()&&Q.push({type:"presence-changed",source:Nt.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(Q),fe.isEnabled(wn.Trivial)&&fe.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,n,i,l){if(typeof e=="string"){if(typeof n!="function")throw new L(V.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const y=n;return this.eventStream.subscribe(b=>{for(const R of b)R.type!=="initialized"&&R.type!=="watched"&&R.type!=="unwatched"&&R.type!=="presence-changed"||y(R)},i,l)}if(e==="my-presence"){const y=n;return this.eventStream.subscribe(b=>{for(const R of b)R.type!=="initialized"&&R.type!=="presence-changed"||R.type==="presence-changed"&&R.value.clientID!==this.changeID.getActorID()||y(R)},i,l)}if(e==="others"){const y=n;return this.eventStream.subscribe(b=>{for(const R of b)R.type!=="watched"&&R.type!=="unwatched"&&R.type!=="presence-changed"||R.value.clientID!==this.changeID.getActorID()&&y(R)},i,l)}if(e==="connection"){const y=n;return this.eventStream.subscribe(b=>{for(const R of b)R.type==="connection-changed"&&y(R)},i,l)}if(e==="status"){const y=n;return this.eventStream.subscribe(b=>{for(const R of b)R.type==="status-changed"&&y(R)},i,l)}if(e==="sync"){const y=n;return this.eventStream.subscribe(b=>{for(const R of b)R.type==="sync-status-changed"&&y(R)},i,l)}if(e==="auth-error"){const y=n;return this.eventStream.subscribe(b=>{for(const R of b)R.type==="auth-error"&&y(R)},i)}if(e==="all"){const y=n;return this.eventStream.subscribe(y,i,l)}const c=e,g=n;return this.eventStream.subscribe(y=>{for(const b of y){if(b.type!=="local-change"&&b.type!=="remote-change")continue;const R=[];for(const I of b.value.operations)this.isSameElementOrChildOf(I.path,c)&&R.push(I);R.length&&g({...b,value:{...b.value,operations:R}})}},i,l)}if(typeof e=="function"){const c=e,g=n,y=i;return this.eventStream.subscribe(b=>{for(const R of b)R.type!=="snapshot"&&R.type!=="local-change"&&R.type!=="remote-change"||c(R)},g,y)}throw new L(V.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}applyChangePack(e){e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getVersionVector(),e.getSnapshot(),e.getCheckpoint().getClientSeq()):(this.applyChanges(e.getChanges(),Nt.Remote),this.removePushedLocalChanges(e.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),e.hasSnapshot()||this.garbageCollect(e.getVersionVector()),e.getIsRemoved()&&this.applyStatus("removed"),fe.isEnabled(wn.Trivial)&&fe.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Fn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(e.length);return Eu.create(this.key,n,!1,e,this.getVersionVector())}setActor(e){for(const n of this.localChanges)n.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=Ci.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return Yf(e,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(e){this.maxSizeLimit=e}getSchemaRules(){return this.schemaRules}setSchemaRules(e){this.schemaRules=e}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,n,i,l=-1){const{root:c,presences:g}=yt.bytesToSnapshot(i);this.root=new so(c),this.presences=g,this.changeID=this.changeID.setClocks(n.maxLamport(),n),this.clone=void 0,this.removePushedLocalChanges(l),this.applyChanges(this.localChanges,Nt.Local),this.clearHistory(),this.publish([{type:"snapshot",source:Nt.Remote,value:{serverSeq:e.toString(),snapshot:this.isEnableDevtools()?yt.bytesToHex(i):void 0,snapshotVector:yt.versionVectorToHex(n)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(e,n){fe.isEnabled(wn.Debug)&&fe.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),fe.isEnabled(wn.Trivial)&&fe.trivial(e.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of e)this.applyChange(i,n);fe.isEnabled(wn.Debug)&&fe.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,n){var y;this.ensureClone(),e.execute(this.clone.root,this.clone.presences,n);const i=[],l=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(l)){const b=e.getPresenceChange();switch(b.type){case Br.Put:i.push(this.presences.has(l)?{type:"presence-changed",source:n,value:{clientID:l,presence:b.presence}}:{type:"watched",source:Nt.Remote,value:{clientID:l,presence:b.presence}});break;case Br.Clear:i.push({type:"unwatched",source:Nt.Remote,value:{clientID:l,presence:this.getPresence(l)}}),this.removeOnlineClient(l);break}}const{opInfos:c,operations:g}=e.execute(this.root,this.presences,n);for(const b of g)if(b instanceof jr){const[R,I]=b.normalizePos(this.root);this.internalHistory.reconcileTextEdit(b.getParentCreatedAt(),R,I,((y=b.getContent())==null?void 0:y.length)??0)}if(this.changeID=this.changeID.syncClocks(e.getID()),c.length){const b=this.isEnableDevtools()?e.toStruct():void 0;i.push(n===Nt.Remote?{type:"remote-change",source:n,value:{actor:l,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:b}:{type:"local-change",source:n,value:{actor:l,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:b})}i.length&&this.publish(i)}applyWatchInit(e){const n=new Set;for(const i of e)i!==this.changeID.getActorID()&&n.add(i);this.setOnlineClients(n);for(const i of Array.from(this.presences.keys()))i!==this.changeID.getActorID()&&!n.has(i)&&this.presences.delete(i);this.publish([{type:"initialized",source:Nt.Local,value:this.getPresences()}])}applyDocEvent(e,n){const i=[];if(e===ol.DOCUMENT_WATCHED){if(this.onlineClients.has(n)&&this.hasPresence(n))return;this.addOnlineClient(n),this.hasPresence(n)&&i.push({type:"watched",source:Nt.Remote,value:{clientID:n,presence:this.getPresence(n)}})}else if(e===ol.DOCUMENT_UNWATCHED){const l=this.getPresence(n);this.removeOnlineClient(n),this.presences.delete(n),l&&i.push({type:"unwatched",source:Nt.Remote,value:{clientID:n,presence:l}})}i.length&&this.publish(i)}applyStatus(e){this.status=e,e==="detached"&&this.setActor(du),this.publish([{source:e==="removed"?Nt.Remote:Nt.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEventsForReplay(e){for(const n of e){if(n.type==="status-changed"){this.applyStatus(n.value.status),n.value.status==="attached"&&this.setActor(n.value.actorID);continue}if(n.type==="snapshot"){const{snapshot:i,serverSeq:l,snapshotVector:c}=n.value;if(!i)continue;this.applySnapshot(BigInt(l),yt.hexToVersionVector(c),yt.hexToBytes(i));continue}if(n.type==="local-change"||n.type==="remote-change"){if(!n.rawChange)continue;const i=Ai.fromStruct(n.rawChange);this.applyChange(i,n.source)}if(n.type==="initialized"){const i=new Set;for(const{clientID:l,presence:c}of n.value)i.add(l),this.presences.set(l,c);this.setOnlineClients(i)}else if(n.type==="watched"){const{clientID:i,presence:l}=n.value;this.addOnlineClient(i),this.presences.set(i,l)}else if(n.type==="unwatched"){const{clientID:i}=n.value;this.removeOnlineClient(i),this.presences.delete(i)}else if(n.type==="presence-changed"){const{clientID:i,presence:l}=n.value;this.presences.set(i,l)}}}getValueByPath(e){if(!e.startsWith("$"))throw new L(V.ErrInvalidArgument,'path must start with "$"');const n=e.split(".");n.shift();let i=this.getRoot();for(const l of n)if(i=i[l],!i)return;return i}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?Fn(e):{}}getOthersPresences(){const e=[],n=this.changeID.getActorID();for(const i of this.onlineClients)i!==n&&this.presences.has(i)&&e.push({clientID:i,presence:Fn(this.presences.get(i))});return e}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const n=this.presences.get(e);return n?Fn(n):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:Fn(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&e.push({clientID:n,presence:Fn(this.presences.get(n))});return e}getPresenceForTest(e){const n=this.presences.get(e);return n?Fn(n):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==e).sort((n,i)=>n.clientID>i.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(e,n){if(n===e)return!0;const i=e.split(".");return n.split(".").every((l,c)=>l===i[c])}removePushedLocalChanges(e){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e);)this.localChanges.shift()}executeUndoRedo(e){if(this.isUpdating)throw new L(V.ErrRefused,`${e?"Undo":"Redo"} is not allowed during an update`);const n=e?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!n)throw new L(V.ErrRefused,`There is no operation to be ${e?"undone":"redone"}`);this.ensureClone();const i=Ci.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const I of n){if(!(I instanceof xn)){new Zf(i,Fn(this.clone.presences.get(this.changeID.getActorID()))).set(I.value,{addToHistory:!0});continue}const Z=i.issueTimeTicket();if(I.setExecutedAt(Z),I instanceof La){const J=I.getCreatedAt();I.getValue().setCreatedAt(Z),this.internalHistory.reconcileCreatedAt(J,Z)}else if(I instanceof yr){const J=I.getValue().getCreatedAt();I.getValue().setCreatedAt(Z),this.internalHistory.reconcileCreatedAt(J,Z)}i.push(I)}const l=i.toChange();l.execute(this.clone.root,this.clone.presences,Nt.UndoRedo);const{opInfos:c,reverseOps:g}=l.execute(this.root,this.presences,Nt.UndoRedo),y=i.getReversePresence();if(y&&g.push({type:"presence",value:y}),g.length&&(e?this.internalHistory.pushRedo(g):this.internalHistory.pushUndo(g)),!l.hasPresenceChange()&&!c.length)return;this.localChanges.push(l),this.changeID=i.getNextID();const b=this.changeID.getActorID(),R=[];c.length&&R.push({type:"local-change",source:Nt.UndoRedo,value:{message:l.getMessage()||"",operations:c,actor:b,clientSeq:l.getID().getClientSeq(),serverSeq:l.getID().getServerSeq()},rawChange:this.isEnableDevtools()?l.toStruct():void 0}),l.hasPresenceChange()&&R.push({type:"presence-changed",source:Nt.UndoRedo,value:{clientID:b,presence:this.getPresence(b)}}),this.publish(R)}}class _u{constructor(e,n,i,l){D(this,"resource");D(this,"resourceID");D(this,"syncMode");D(this,"changeEventReceived");D(this,"lastHeartbeatTime");D(this,"reconnectStreamDelay");D(this,"cancelled");D(this,"watchStream");D(this,"watchLoopTimerID");D(this,"watchAbortController");this.reconnectStreamDelay=e,this.resource=n,this.resourceID=i,this.syncMode=l,this.changeEventReceived=l!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===vs.RealtimeSyncOff?!1:this.syncMode===vs.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==vs.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(e){return this.resource instanceof Bi?this.needRealtimeSync():this.syncMode===vs.Manual?!1:Date.now()-this.lastHeartbeatTime>=e}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(e){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay))})}catch{}};await n()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function eg(a,e){let n=e;return{authInterceptor:c=>async g=>(a&&g.header.set("x-api-key",a),n&&g.header.set("authorization",n),await c(g)),setToken:c=>{n=c}}}const Yu={name:"@yorkie-js/sdk",version:"0.6.49"};function kf(a){return e=>async n=>(a?n.header.set("x-yorkie-user-agent",a):n.header.set("x-yorkie-user-agent",Yu.name+"/"+Yu.version),await e(n))}const ym=a=>{try{if(JSON.stringify(a)===void 0)return!1}catch{return!1}return!0};var pl=(a=>(a.Detached="detached",a.Attached="attached",a.Removed="removed",a))(pl||{}),ia=(a=>(a.PresenceChanged="presence-changed",a.Initialized="initialized",a.Broadcast="broadcast",a.LocalBroadcast="local-broadcast",a.AuthError="auth-error",a))(ia||{});const yl=".";class sa{constructor(e){D(this,"key");D(this,"status");D(this,"actorID");D(this,"sessionID");D(this,"sessionCount");D(this,"seq");D(this,"eventStream");D(this,"eventStreamObserver");this.validateChannelKey(e),this.key=e,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=za(n=>this.eventStreamObserver=n)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(yl)[0]}getStatus(){return this.status}applyStatus(e){this.status=e}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(e){this.actorID=e}getSessionID(){return this.sessionID}setSessionID(e){this.sessionID=e}getSessionCount(){return this.sessionCount}updateSessionCount(e,n){return n===0||n>this.seq?(this.sessionCount=e,this.seq=n,!0):!1}hasLocalChanges(){return!1}subscribe(e,n){if(typeof e=="function")return this.eventStream.subscribe(e);const i=e,l=n;if(!l)throw new Error("callback is required when subscribing to specific event type or topic");if(i==="broadcast")return this.eventStream.subscribe(g=>{g.type==="broadcast"&&l(g)});if(i==="local-broadcast")return this.eventStream.subscribe(g=>{g.type==="local-broadcast"&&l(g)});if(i==="auth-error")return this.eventStream.subscribe(g=>{g.type==="auth-error"&&l(g)});if(i==="presence")return this.eventStream.subscribe(g=>{(g.type==="presence-changed"||g.type==="initialized")&&l(g)});if(i==="all")return this.eventStream.subscribe(l);const c=i;return this.eventStream.subscribe(g=>{g.type==="broadcast"&&g.topic===c&&l(g)})}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}broadcast(e,n,i){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:e,payload:n,options:i})}validateChannelKey(e){if(e==="")throw new Error("channel key must not be empty");if(e.includes(" "))throw new Error("channel key must not contain a whitespace");if(e.startsWith(yl))throw new Error("channel key must not start with a period");if(e.endsWith(yl))throw new Error("channel key must not end with a period");if(e.includes(`${yl}${yl}`))throw new Error("channel key path must not empty")}}function Je(a,e,n){const{stream:i,ac:l,isInit:c,onResponse:g,onStreamEnd:y,onError:b,onDisconnect:R,shouldIgnoreError:I}=a;return new Promise((Z,J)=>{(async()=>{try{let Q=!1;for await(const re of i)g(re),!Q&&c(re)&&(Q=!0,Z([i,l]));y(),R()}catch(Q){if(I&&I(Q))return;b(Q),await e(Q)?R():n(),J(Q)}})()})}var vs=(a=>(a.Manual="manual",a.Realtime="realtime",a.RealtimePushOnly="realtime-pushonly",a.RealtimeSyncOff="realtime-syncoff",a))(vs||{});const Ka={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},vl={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Wf{constructor(e){D(this,"id");D(this,"key");D(this,"metadata");D(this,"status");D(this,"attachmentMap");D(this,"apiKey");D(this,"authTokenInjector");D(this,"conditions");D(this,"syncLoopDuration");D(this,"reconnectStreamDelay");D(this,"retrySyncLoopDelay");D(this,"channelHeartbeatInterval");D(this,"rpcClient");D(this,"setAuthToken");D(this,"taskQueue");D(this,"processing",!1);D(this,"keepalive",!1);e=e||Ka;const n=e.rpcAddr||Ka.rpcAddr;this.key=e.key||Vf(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??Ka.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??Ka.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??Ka.retrySyncLoopDelay,this.channelHeartbeatInterval=e.channelHeartbeatInterval??Ka.channelHeartbeatInterval;const{authInterceptor:i,setToken:l}=eg(this.apiKey);this.setAuthToken=l,this.rpcClient=is(Id,Hc({baseUrl:n,interceptors:[i,kf(e==null?void 0:e.userAgent)],fetch:(c,g)=>fetch(c,{...g,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const e=await this.authTokenInjector();this.setAuthToken(e)}return this.enqueueTask(async()=>{try{const e=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=e.clientId,this.status="activated",this.runSyncLoop(),fe.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(e){throw fe.error(`[AC] c:"${this.getKey()}" err :`,e),await this.handleConnectError(e),e}})}deactivate(e={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const n=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:e.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),fe.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw fe.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(e.keepalive){this.keepalive=!0;const i=n();return this.keepalive=!1,i}return this.enqueueTask(n)}has(e){return this.attachmentMap.has(e)}attach(e,n){return e instanceof sa?this.attachChannel(e,n):this.attachDocument(e,n)}attachDocument(e,n={}){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Wa.Detached)throw new L(V.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((l,c)=>c.set(n.initialPresence||{}));const i=n.syncMode??"realtime";return this.enqueueTask(async()=>{try{const l=await this.rpcClient.attachDocument({clientId:this.id,changePack:yt.toChangePack(e.createChangePack()),schemaKey:n.schema},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});(l.maxSizePerDocument??0)>0&&e.setMaxSizePerDocument(l.maxSizePerDocument),l.schemaRules.length>0&&e.setSchemaRules(yt.fromSchemaRules(l.schemaRules));const g=yt.fromChangePack(l.changePack);if(e.applyChangePack(g),e.getStatus()===Wa.Removed)return e;e.applyStatus(Wa.Attached),this.attachmentMap.set(e.getKey(),new _u(this.reconnectStreamDelay,e,l.documentId,i)),i!=="manual"&&await this.runWatchLoop(e.getKey()),fe.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`);const y=e.getRootObject();if(n.initialRoot){const b=n.initialRoot;e.update(R=>{for(const[I,Z]of Object.entries(b))if(!y.has(I)){const J=I;R[J]=Z}})}return e}catch(l){throw fe.error(`[AD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}detach(e,n){return e instanceof sa?this.detachChannel(e):this.detachDocument(e,n)}detachDocument(e,n={keepalive:!1}){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);e.update((c,g)=>g.clear());const l=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.resourceID,changePack:yt.toChangePack(e.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),g=yt.fromChangePack(c.changePack);return e.applyChangePack(g),e.getStatus()!==Wa.Removed&&e.applyStatus(Wa.Detached),this.detachInternal(e.getKey()),fe.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}catch(c){throw fe.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(n.keepalive){this.keepalive=!0;const c=l();return this.keepalive=!1,c}return this.enqueueTask(l)}async attachChannel(e,n={}){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==pl.Detached)throw new L(V.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id);const i=async()=>{try{const l=await this.rpcClient.attachChannel({clientId:this.id,channelKey:e.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});e.setSessionID(l.sessionId),e.updateSessionCount(Number(l.sessionCount),0),e.applyStatus(pl.Attached);const c=n.isRealtime!==!1?"realtime":"manual",g=new _u(this.reconnectStreamDelay,e,l.sessionId,c);return e.subscribe("local-broadcast",y=>{const{topic:b,payload:R,options:I}=y;this.broadcast(e.getKey(),b,R,I).catch(Z=>{I!=null&&I.error&&I.error(Z),fe.error(`[BC] c:"${this.getKey()}" failed: ${Z}`)})}),this.attachmentMap.set(e.getKey(),g),c==="realtime"&&await this.runWatchLoop(e.getKey()),fe.info(`[AP] c:"${this.getKey()}" attaches p:"${e.getKey()}" mode:${c} count:${e.getSessionCount()}`),e}catch(l){throw fe.error(`[AP] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}};return this.enqueueTask(i)}async detachChannel(e){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(e.getKey()))throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const n=async()=>{try{const i=await this.rpcClient.detachChannel({clientId:this.id,channelKey:e.getKey(),sessionId:e.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});return e.updateSessionCount(Number(i.sessionCount),0),e.applyStatus(pl.Detached),this.detachInternal(e.getKey()),fe.info(`[DP] c:"${this.getKey()}" detaches p:"${e.getKey()}" count:${e.getSessionCount()}`),e}catch(i){throw fe.error(`[DP] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};return this.enqueueTask(n)}async changeSyncMode(e,n){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const l=i.syncMode;return l===n?e:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),e):(n==="realtime"&&(i.changeEventReceived=!0),l==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);if(e instanceof sa){const n=this.attachmentMap.get(e.getKey());if(!n)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n).catch(async i=>{throw fe.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}if(e instanceof Bi){const n=this.attachmentMap.get(e.getKey());if(!n)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n,"realtime").catch(async i=>{throw fe.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const n=[];for(const[,i]of this.attachmentMap)i.syncMode!==void 0&&i.resource instanceof Bi&&n.push(this.syncInternal(i,i.syncMode));return Promise.all(n).catch(async i=>{throw fe.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(e){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const n=this.attachmentMap.get(e.getKey());if(!n)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const i=yt.toChangePack(e.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const l=await this.rpcClient.removeDocument({clientId:this.id,documentId:n.resourceID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),c=yt.fromChangePack(l.changePack);e.applyChangePack(c),this.detachInternal(e.getKey()),fe.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}catch(l){throw fe.error(`[RD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}async createRevision(e,n,i){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const l=this.attachmentMap.get(e.getKey());if(!l)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const c=async()=>{try{const g=await this.rpcClient.createRevision({clientId:this.id,documentId:l.resourceID,label:n,description:i||""},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!g.revision)throw new L(V.ErrInvalidArgument,"revision is not returned");return fe.info(`[CR] c:"${this.getKey()}" creates revision d:"${e.getKey()}" l:"${n}"`),yt.toRevisionSummary(g.revision)}catch(g){throw fe.error(`[CR] c:"${this.getKey()}" err :`,g),await this.handleConnectError(g),g}};return this.enqueueTask(c)}async listRevisions(e,n){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const l=async()=>{try{const c=await this.rpcClient.listRevisions({clientId:this.id,documentId:i.resourceID,pageSize:(n==null?void 0:n.pageSize)||10,offset:(n==null?void 0:n.offset)||0,isForward:(n==null?void 0:n.isForward)??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});return fe.info(`[LR] c:"${this.getKey()}" lists revisions d:"${e.getKey()}" count:${c.revisions.length}`),c.revisions.map(yt.toRevisionSummary)}catch(c){throw fe.error(`[LR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(l)}async getRevision(e,n){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const l=async()=>{try{const c=await this.rpcClient.getRevision({clientId:this.id,documentId:i.resourceID,revisionId:n},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!c.revision)throw new L(V.ErrInvalidArgument,"revision is not returned");return fe.info(`[GR] c:"${this.getKey()}" gets revision d:"${e.getKey()}" r:"${n}"`),yt.toRevisionSummary(c.revision)}catch(c){throw fe.error(`[GR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(l)}async restoreRevision(e,n){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const l=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:i.resourceID,revisionId:n},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),fe.info(`[RR] c:"${this.getKey()}" restores revision d:"${e.getKey()}" r:"${n}"`)}catch(c){throw fe.error(`[RR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(l)}async broadcast(e,n,i,l){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(e);if(!c)throw new L(V.ErrNotAttached,`${e} is not attached`);if(!ym(i))throw new L(V.ErrInvalidArgument,"payload is not serializable");const g=c.resource,y=(l==null?void 0:l.maxRetries)??vl.maxRetries,b=vl.maxBackoff;let R=0;const I=J=>Math.min(vl.initialRetryInterval*2**J,b),Z=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:e,topic:n,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${g.getFirstKeyPath()}`}}),fe.info(`[BC] c:"${this.getKey()}" broadcasts p:"${e}" t:"${n}"`)}catch(J){if(fe.error(`[BC] c:"${this.getKey()}" err:`,J),await this.handleConnectError(J))if(Qr(J,V.ErrUnauthenticated)&&c.resource instanceof sa&&c.resource.publish({type:ia.AuthError,reason:yn(J).reason||"unauthenticated",method:"Broadcast"}),R<y)R++,setTimeout(()=>Z(),I(R-1)),fe.info(`[BC] c:"${this.getKey()}" retry attempt ${R}/${y}`);else throw fe.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),J}});return Z()}runSyncLoop(){const e=async()=>{if(!this.isActive()){fe.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const n=[];for(const[,i]of this.attachmentMap)i.needSync(this.channelHeartbeatInterval)&&(i.changeEventReceived!==void 0&&(i.changeEventReceived=!1),n.push(this.syncInternal(i,i.syncMode).catch(l=>{throw Qr(l,V.ErrUnauthenticated)&&i.resource.publish([{type:vn.AuthError,value:{reason:yn(l).reason,method:"PushPull"}}]),l})));await Promise.all(n),setTimeout(e,this.syncLoopDuration)})}catch(n){fe.error(`[SL] c:"${this.getKey()}" sync failed:`,n),await this.handleConnectError(n)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};fe.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const n=this.attachmentMap.get(e);if(!n)throw new L(V.ErrNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,n.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new L(V.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(e))return this.conditions.WatchLoop=!1,Promise.reject(new L(V.ErrNotAttached,`${e} is not attached`));const l=new AbortController;return n.resource instanceof Bi?this.createDocumentWatchStream(n,e,l,i):n.resource instanceof sa?this.createChannelWatchStream(n,e,l,i):Promise.reject(new L(V.ErrClientNotActivated,`Unknown resource type for ${e}`))})}createDocumentWatchStream(e,n,i,l){const c=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"document",value:{documentId:e.resourceID}}}]},{headers:{"x-shard-key":`${this.apiKey}/${n}`},signal:i.signal});e.resource.publish([{type:vn.ConnectionChanged,value:lo.Connected}]),fe.info(`[WD] c:"${this.getKey()}" watches d:"${n}"`),e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);const g=()=>{e.resource.resetOnlineClients(),e.resource.publish([{type:vn.Initialized,source:Nt.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:vn.ConnectionChanged,value:lo.Disconnected}])};return Je({stream:c,ac:i,isInit:y=>y.body.case==="initialization",onResponse:y=>this.handleWatchDocumentResponse(e,y),onStreamEnd:()=>{g(),fe.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`)},onError:y=>{g(),fe.debug(`[WD] c:"${this.getKey()}" unwatches`),Qr(y,V.ErrUnauthenticated)&&e.resource.publish([{type:vn.AuthError,value:{reason:yn(y).reason,method:"Watch"}}])},onDisconnect:l},y=>this.handleConnectError(y),()=>{this.conditions.WatchLoop=!1})}createChannelWatchStream(e,n,i,l){const c=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"channel",value:{channelKey:n}}}]},{headers:{"x-shard-key":`${this.apiKey}/${e.resource.getFirstKeyPath()}`},signal:i.signal});return fe.info(`[WP] c:"${this.getKey()}" watches p:"${n}"`),Je({stream:c,ac:i,isInit:g=>g.body.case==="initialization",onResponse:g=>this.handleWatchChannelResponse(e,g),onStreamEnd:()=>{fe.debug(`[WP] c:"${this.getKey()}" p:"${n}" stream ended`)},onError:g=>{fe.debug(`[WP] c:"${this.getKey()}" p:"${n}" err:`,g)},onDisconnect:l,shouldIgnoreError:g=>g instanceof Error&&g.name==="AbortError"?(fe.debug(`[WP] c:"${this.getKey()}" p:"${n}" stream aborted`),!0):!1},g=>this.handleConnectError(g),()=>{this.conditions.WatchLoop=!1})}handleWatchChannelResponse(e,n){const i=e.resource;if(n.body.case==="initialization"){for(const l of n.body.value.resourceInits)if(l.init.case==="channelInit"){const{sessionCount:c,seq:g}=l.init.value;i.updateSessionCount(Number(c),Number(g))&&i.publish({type:ia.Initialized,count:Number(c)})}return}if(n.body.case==="event"){const l=n.body.value;if(l.event.case==="channelEvent"){const c=l.event.value.event;if(!c)return;if(c.type===of.BROADCAST){const g=new TextDecoder;try{const y=JSON.parse(g.decode(c.payload));i.publish({type:ia.Broadcast,clientID:c.publisher,topic:c.topic,payload:y})}catch(y){fe.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,y)}return}i.updateSessionCount(Number(c.sessionCount),Number(c.seq))&&i.publish({type:ia.PresenceChanged,count:Number(c.sessionCount)})}}}handleWatchDocumentResponse(e,n){var i;if(n.body.case==="initialization"){for(const l of n.body.value.resourceInits)l.init.case==="documentInit"&&e.resource.applyWatchInit(l.init.value.clientIds);return}if(n.body.case==="event"){const l=n.body.value;if(l.event.case==="docEvent"){const c=l.event.value;if(((i=c.event)==null?void 0:i.type)===ol.DOCUMENT_CHANGED){e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);return}c.event&&e.resource.applyDocEvent(c.event.type,c.event.publisher)}}}deactivateInternal(){this.status="deactivated";for(const[e,n]of this.attachmentMap)this.detachInternal(e),n.resource instanceof Bi?n.resource.applyStatus(Wa.Detached):n.resource instanceof sa&&n.resource.applyStatus(pl.Detached)}detachInternal(e){const n=this.attachmentMap.get(e);n&&(n.cancelWatchStream(),n.resource instanceof Bi&&n.resource.resetOnlineClients(),this.attachmentMap.delete(e))}async syncInternal(e,n){const{resource:i}=e;if(i instanceof sa){try{const y=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:i.getKey(),sessionId:i.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});i.updateSessionCount(Number(y.sessionCount),0),e.updateHeartbeatTime(),fe.debug(`[RP] c:"${this.getKey()}" refreshes p:"${i.getKey()}" mode:${e.syncMode}`)}catch(y){throw fe.error(`[RP] c:"${this.getKey()}" err :`,y),y}return i}const l=i,{resourceID:c}=e,g=l.createChangePack();try{const y=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:yt.toChangePack(g),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${l.getKey()}`}}),b=yt.fromChangePack(y.changePack);if(b.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return l;l.applyChangePack(b),e.resource.publish([{type:vn.SyncStatusChanged,value:Mu.Synced}]),l.getStatus()===Wa.Removed&&this.detachInternal(l.getKey());const R=l.getKey(),I=b.getChangeSize();return fe.info(`[PP] c:"${this.getKey()}" sync d:"${R}", push:${g.getChangeSize()} pull:${I} cp:${b.getCheckpoint().toTestString()}`),l}catch(y){throw l.publish([{type:vn.SyncStatusChanged,value:Mu.SyncFailed}]),fe.error(`[PP] c:"${this.getKey()}" err :`,y),y}}async handleConnectError(e){if(!(e instanceof je))return!1;if(e.code===C.Canceled||e.code===C.Unknown||e.code===C.ResourceExhausted||e.code===C.Unavailable)return!0;if(ms(e)===V.ErrUnauthenticated){if(this.authTokenInjector){const n=await this.authTokenInjector(yn(e).reason);this.setAuthToken(n)}return!0}return ms(e)===V.ErrTooManySubscribers?(fe.error(`[WD] c:"${this.getKey()}" err :`,e.rawMessage),!0):(ms(e)===V.ErrTooManyAttachments||(ms(e)===V.ErrClientNotActivated||ms(e)===V.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(e){return new Promise((n,i)=>{this.taskQueue.push(()=>e().then(n).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{fe.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function Zu(a){return typeof a=="object"&&a!==null&&a.type==="Text"&&Array.isArray(a.nodes)}function uo(a){return typeof a=="object"&&a!==null&&a.type==="Tree"&&typeof a.root=="object"}function bl(a){return typeof a=="object"&&a!==null&&a.type==="Int"&&typeof a.value=="number"}function bs(a){return typeof a=="object"&&a!==null&&a.type==="Long"&&typeof a.value=="number"}function Kf(a){return typeof a=="object"&&a!==null&&a.type==="Date"&&typeof a.value=="string"}function tg(a){return typeof a=="object"&&a!==null&&a.type==="BinData"&&typeof a.value=="string"}function ng(a){return typeof a=="object"&&a!==null&&a.type==="Counter"&&typeof a.value=="object"}function rg(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)&&!Zu(a)&&!uo(a)&&!bl(a)&&!bs(a)&&!Kf(a)&&!tg(a)&&!ng(a)}function ag(a){try{const e=Gu(a),n=JSON.parse(e);return ct(n)}catch(e){throw new L(V.ErrInvalidArgument,`Failed to parse YSON: ${e instanceof Error?e.message:String(e)}`)}}function Gu(a){let e=a;return e=e.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(n,i,l)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${i}","__yson_data":${l}}}`),e=e.replace(/Int\((-?\d+)\)/g,(n,i)=>`{"__yson_type":"Int","__yson_data":${i}}`),e=e.replace(/Long\((-?\d+)\)/g,(n,i)=>`{"__yson_type":"Long","__yson_data":${i}}`),e=e.replace(/Date\("([^"]*)"\)/g,(n,i)=>`{"__yson_type":"Date","__yson_data":"${i}"}`),e=e.replace(/BinData\("([^"]*)"\)/g,(n,i)=>`{"__yson_type":"BinData","__yson_data":"${i}"}`),e=e.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(n,i)=>`{"__yson_type":"Text","__yson_data":${i}}`),e=e.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(n,i)=>`{"__yson_type":"Tree","__yson_data":${i}}`),e}function ct(a){if(a===null||typeof a!="object")return a;if(a.__yson_type==="Int"&&typeof a.__yson_data=="number")return{type:"Int",value:a.__yson_data};if(a.__yson_type==="Long"&&typeof a.__yson_data=="number")return{type:"Long",value:a.__yson_data};if(a.__yson_type==="Date"&&typeof a.__yson_data=="string")return{type:"Date",value:a.__yson_data};if(a.__yson_type==="BinData"&&typeof a.__yson_data=="string")return{type:"BinData",value:a.__yson_data};if(a.__yson_type==="Counter"&&typeof a.__yson_data=="object"){const n=ct(a.__yson_data);if(typeof n=="object"&&n!==null&&"type"in n&&(n.type==="Int"||n.type==="Long"))return{type:"Counter",value:n};throw new L(V.ErrInvalidArgument,"Counter must contain Int or Long")}if(a.__yson_type==="Text"&&Array.isArray(a.__yson_data))return{type:"Text",nodes:a.__yson_data.map(n=>Xf(n))};if(a.__yson_type==="Tree"&&typeof a.__yson_data=="object")return{type:"Tree",root:cn(a.__yson_data)};if(Array.isArray(a))return a.map(n=>ct(n));const e={};for(const[n,i]of Object.entries(a))e[n]=ct(i);return e}function Xf(a){if(typeof a!="object"||a===null||typeof a.val!="string")throw new L(V.ErrInvalidArgument,"invalid text node format");const e={val:a.val};return a.attrs&&typeof a.attrs=="object"&&(e.attrs=a.attrs),e}function cn(a){if(typeof a!="object"||a===null||typeof a.type!="string")throw new L(V.ErrInvalidArgument,"invalid tree node format");const e={type:a.type};return a.type==="text"&&typeof a.value=="string"?(e.value=a.value,e):(a.attrs&&typeof a.attrs=="object"&&(e.attrs=a.attrs),Array.isArray(a.children)&&(e.children=a.children.map(n=>cn(n))),e)}function vm(a){return a.nodes.map(e=>e.val).join("")}function Pf(a){return zu(a.root)}function zu(a){const e=a.attrs?Object.entries(a.attrs).map(([i,l])=>` ${i}="${Sl(l)}"`).join(""):"";if(a.type==="text"&&a.value!==void 0)return`<${a.type}${e}>${Sl(a.value)}</${a.type}>`;if(!a.children||a.children.length===0)return`<${a.type}${e} />`;const n=a.children.map(i=>zu(i)).join("");return`<${a.type}${e}>${n}</${a.type}>`}function Sl(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const ig=Object.freeze(Object.defineProperty({__proto__:null,isBinData:tg,isCounter:ng,isDate:Kf,isInt:bl,isLong:bs,isObject:rg,isText:Zu,isTree:uo,parse:ag,textToString:vm,treeToXML:Pf},Symbol.toStringTag,{value:"Module"}));rr.Int,rr.Long,typeof globalThis<"u"&&(globalThis.yorkie={Client:Wf,Document:Bi,Primitive:Vt,Text:ml,Counter:Uf,Tree:Bu,Channel:sa,ChannelEventType:ia,YSON:ig,LogLevel:wn,setLogLevel:Jd,IntType:rr.Int,LongType:rr.Long});const co={name:"@yorkie-js/react",version:"0.6.49"},og=w.createContext({client:void 0,loading:!0,error:void 0});function Ff(a){const[e,n]=w.useState(void 0),[i,l]=w.useState(!0),[c,g]=w.useState(void 0),[y,b]=w.useState(!1);return w.useEffect(()=>{b(!0)},[]),w.useEffect(()=>{l(!0),g(void 0);async function R(){if(y)try{const I=new Wf(a);await I.activate(),n(I)}catch(I){g(I instanceof Error?I:new Error("Failed to activate client"))}finally{l(!1)}}return R(),()=>{e!=null&&e.isActive()&&e.deactivate({keepalive:!0})}},[a.apiKey,a.rpcAddr,y]),{client:e,loading:i,error:c}}const Sm=({children:a,...e})=>{const n=w.useMemo(()=>({userAgent:co.name+"/"+co.version,...e}),[e.apiKey,e.rpcAddr]),{client:i,loading:l,error:c}=Ff(n);return A.jsx(og.Provider,{value:{client:i,loading:l,error:c},children:a})},ku=()=>{const a=w.useContext(og);if(!a)throw new Error("useYorkie must be used under YorkieProvider");return{client:a.client,loading:a.loading,error:a.error}};function lg(a){const e=new Set;let n=a;const i=()=>{e.forEach(b=>b(n))};return{subscribe:b=>(e.add(b),()=>e.delete(b)),getSnapshot:()=>n,setState:b=>{const R=n;n=typeof b=="function"?b(R):b,R!==n&&i()},destroy:()=>{e.clear()}}}const ug=a=>lg(a);function fn(a,e,n=Object.is){const i=w.useRef(e),l=w.useRef(n),c=w.useRef(void 0);i.current=e,l.current=n;const g=()=>{const y=a.getSnapshot(),b=i.current?i.current(y):y;return c.current!==void 0&&l.current(c.current,b)?c.current:(c.current=b,b)};return w.useSyncExternalStore(a.subscribe,g,g)}function Jf(a){return a!=null&&typeof a[Symbol.iterator]=="function"}function Wu(a){return"entries"in a&&typeof a.entries=="function"}function Am(a,e){const n=a instanceof Map?a:new Map(a.entries()),i=e instanceof Map?e:new Map(e.entries());if(n.size!==i.size)return!1;for(const[l,c]of n)if(!i.has(l)||!Object.is(c,i.get(l)))return!1;return!0}function Em(a,e){const n=a[Symbol.iterator](),i=e[Symbol.iterator]();let l=n.next(),c=i.next();for(;!l.done&&!c.done;){if(!Object.is(l.value,c.value))return!1;l=n.next(),c=i.next()}return l.done===c.done}function jf(a,e){const n=Object.keys(a),i=Object.keys(e);if(n.length!==i.length)return!1;for(const l of n)if(!Object.prototype.hasOwnProperty.call(e,l)||!Object.is(a[l],e[l]))return!1;return!0}function cg(a,e){if(Object.is(a,e))return!0;if(typeof a!="object"||a===null||typeof e!="object"||e===null||Object.getPrototypeOf(a)!==Object.getPrototypeOf(e))return!1;const n=Jf(a),i=Jf(e);return n!==i?!1:n&&i?Wu(a)&&Wu(e)?Am(a,e):Em(a,e):jf(a,e)}function wr(a,e,n,i,l,c,g,y){const b=w.useRef(l),R=w.useRef(c),[I,Z]=w.useState(!1);w.useEffect(()=>{Z(!0)},[]),w.useEffect(()=>{if(n){y.setState(re=>({...re,loading:!1,error:n}));return}if(!a||e||!I){y.setState(re=>({...re,loading:!0}));return}y.setState(re=>({...re,loading:!0,error:void 0}));const J=new Bi(i,{enableDevtools:g}),Y=[];Y.push(J.subscribe(()=>{y.setState(re=>({...re,root:J.getRoot()}))})),Y.push(J.subscribe("presence",()=>{y.setState(re=>({...re,presences:J.getPresences()}))})),Y.push(J.subscribe("connection",re=>{y.setState(me=>({...me,connection:re.value}))}));async function Q(){try{await(a==null?void 0:a.attach(J,{initialRoot:b.current,initialPresence:R.current}));const re=me=>{try{J.update(me)}catch(be){y.setState(xe=>({...xe,error:be instanceof Error?be:new Error("Failed to update document")}))}};y.setState(me=>({...me,doc:J,root:J.getRoot(),presences:J.getPresences(),update:re}))}catch(re){y.setState(me=>({...me,error:re instanceof Error?re:new Error("Failed to attach document")}))}finally{y.setState(re=>({...re,loading:!1}))}}return Q(),()=>{a&&a.has(i)&&a.detach(J);for(const re of Y)re()}},[a,e,n,i,y,I])}const fo=w.createContext(void 0),fg=({docKey:a,initialRoot:e={},initialPresence:n={},enableDevtools:i=!1,children:l})=>{const{client:c,loading:g,error:y}=ku(),b=w.useRef(void 0);b.current||(b.current=ug({doc:void 0,root:e,presences:[],connection:lo.Disconnected,update:()=>{},loading:!0,error:void 0}));const R=b.current;return wr(c,g,y,a,e,n,i,R),A.jsx(fo.Provider,{value:R,children:l})};function hg(){const a=w.useContext(fo);if(!a)throw new Error("useDocument must be used within a DocumentProvider");return fn(a)}const Al=()=>(a,e=cg)=>{const n=w.useContext(fo);if(!n)throw new Error("useDocument must be used within a DocumentProvider");return fn(n,a,e)},Tr=()=>{const a=Xu("useRoot");return{root:fn(a,n=>n.root)}},dg=()=>{const a=Xu("usePresences");return fn(a,e=>e.presences)},Ku=()=>{const a=Xu("useConnection");return fn(a,e=>e.connection)},Xa=()=>{const{client:a}=ku(),e=Xu("useRevisions"),n=fn(e,y=>y.doc),i=w.useCallback(async(y,b)=>{if(!a||!n)throw new Error("Client or document is not ready");return a.createRevision(n,y,b)},[a,n]),l=w.useCallback(async y=>{if(!a||!n)throw new Error("Client or document is not ready");return a.listRevisions(n,y)},[a,n]),c=w.useCallback(async y=>{if(!a||!n)throw new Error("Client or document is not ready");return a.getRevision(n,y)},[a,n]),g=w.useCallback(async y=>{if(!a||!n)throw new Error("Client or document is not ready");return a.restoreRevision(n,y)},[a,n]);return{createRevision:i,listRevisions:l,getRevision:c,restoreRevision:g}},Xu=a=>{const e=w.useContext(fo);if(!e)throw new Error(`${a} must be used within a DocumentProvider`);return e};function Rm(a,e,n){const i=w.useRef(void 0);i.current||(i.current=ug({doc:void 0,root:(n==null?void 0:n.initialRoot)??{},presences:[],connection:lo.Disconnected,update:()=>{},loading:!0,error:void 0}));const l=i.current,c=w.useMemo(()=>({apiKey:a,userAgent:co.name+"/"+co.version,...n}),[a,n]),{client:g,loading:y,error:b}=Ff(c);wr(g,y,b,e,(n==null?void 0:n.initialRoot)??{},(n==null?void 0:n.initialPresence)??{},(n==null?void 0:n.enableDevtools)??!1,l);const R=fn(l);return{root:R.root,presences:R.presences,connection:R.connection,update:R.update,loading:R.loading,error:R.error}}function ho(a){return lg(a)}const Hf=w.createContext(void 0);function wm(a,e,n,i,l,c){const g=w.useRef(void 0),[y,b]=w.useState(!1);w.useEffect(()=>{b(!0)},[]),w.useEffect(()=>{if(!y||e||n||!a){n&&c.setState(Z=>({...Z,error:n,loading:!1}));return}let R;async function I(){if(!(!a||!a.isActive())){c.setState(Z=>({...Z,loading:!0,error:void 0}));try{const Z=new sa(i);await a.attach(Z,{isRealtime:l}),g.current=Z,R=Z.subscribe(()=>{c.setState(J=>({...J,sessionCount:Z.getSessionCount()}))}),c.setState({channel:Z,sessionCount:Z.getSessionCount(),loading:!1,error:void 0})}catch(Z){c.setState(J=>({...J,loading:!1,error:Z instanceof Error?Z:new Error("Failed to attach channel")}))}}}return I(),()=>{R&&R();async function Z(){if(g.current&&(a!=null&&a.isActive()))try{await a.detach(g.current)}catch(J){console.error("Failed to detach channel:",J)}}Z()}},[a,e,n,i,l,y])}const Tm=({children:a,channelKey:e,isRealtime:n=!0})=>{const{client:i,loading:l,error:c}=ku(),g=w.useRef(void 0);g.current||(g.current=ho({channel:void 0,sessionCount:0,loading:!0,error:void 0}));const y=g.current;return wm(i,l,c,e,n,y),A.jsx(Hf.Provider,{value:y,children:a})},gg=a=>{const e=w.useContext(Hf);if(!e)throw new Error(`${a} must be used within ChannelProvider`);return e},Nm=()=>{const a=gg("useChannel"),e=fn(a,l=>l.sessionCount),n=fn(a,l=>l.loading),i=fn(a,l=>l.error);return{sessionCount:e,loading:n,error:i}},Cm=()=>{const a=gg("useChannelSessionCount");return fn(a,e=>e.sessionCount)};p.ChannelProvider=Tm,p.DocumentProvider=fg,p.YorkieProvider=Sm,p.createDocumentSelector=Al,p.shallowEqual=cg,p.useChannel=Nm,p.useChannelSessionCount=Cm,p.useConnection=Ku,p.useDocument=hg,p.usePresences=dg,p.useRevisions=Xa,p.useRoot=Tr,p.useYorkieDoc=Rm,Object.defineProperty(p,Symbol.toStringTag,{value:"Module"})})}(oh,oh.exports)),oh.exports}var pS=mS();const yS=()=>{const{data:f,isLoading:h}=jy({queryKey:["me"],queryFn:hS,retry:!1});return h?He.jsx(yp,{}):f?He.jsx(pS.YorkieProvider,{rpcAddr:"https://api.yorkie.dev",apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:f.username||"anonymous-user"},children:He.jsx(Oy,{})}):He.jsx(Dy,{to:"/login"})},vS=()=>{const{data:f,isLoading:h}=jy({queryKey:["me","optional"],queryFn:dS,retry:!1});return h?He.jsx(yp,{}):f?He.jsx(Dy,{to:"/"}):He.jsx(Oy,{})},bS={theme:"system",resolvedTheme:"light",setTheme:()=>null},ev=X.createContext(bS);function SS({children:f,defaultTheme:h="system",storageKey:m="vite-ui-theme",...p}){const[A,w]=X.useState(()=>localStorage.getItem(m)||h),[C,B]=X.useState(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");X.useEffect(()=>{const T=window.document.documentElement;T.classList.remove("light","dark");let _;if(A==="system"){const N=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";_=N,T.classList.add(N)}else _=A,T.classList.add(A);B(_)},[A]),X.useEffect(()=>{const T=window.matchMedia("(prefers-color-scheme: dark)"),_=()=>{if(A==="system"){const N=window.document.documentElement,F=T.matches?"dark":"light";N.classList.remove("light","dark"),N.classList.add(F),B(F)}};return T.addEventListener("change",_),()=>T.removeEventListener("change",_)},[A]);const S={theme:A,resolvedTheme:C,setTheme:T=>{localStorage.setItem(m,T),w(T)}};return He.jsx(ev.Provider,{...p,value:S,children:f})}const LS=()=>{const f=X.useContext(ev);if(f===void 0)throw new Error("useTheme must be used within a ThemeProvider");return f},AS=X.lazy(()=>Vl(()=>import("./page-BxjPwPei.js"),__vite__mapDeps([0,1,2,3,4]))),ES=X.lazy(()=>Vl(()=>import("./page-Dp3WtWVP.js"),__vite__mapDeps([5,6,7,1,2,3,8,9,10,11,12,13]))),RS=X.lazy(()=>Vl(()=>import("./document-detail-CwSQ6TsW.js"),__vite__mapDeps([14,6,15,16,11,10,1,4,3,2,9,8,13,17,18,19,20,21]))),wS=X.lazy(()=>Vl(()=>import("./page-DpRpnZ-p.js"),__vite__mapDeps([22,23,7,1,2,3,11,10,12,24,8,9,13,25,18]))),TS=X.lazy(()=>Vl(()=>import("./shared-document-B7cJ-w_B.js"),__vite__mapDeps([26,19,16,11,10,1,27,28,3]))),NS=X.lazy(()=>Vl(()=>import("./page-mr6Mf--S.js"),__vite__mapDeps([29,25,10,1,18]))),CS=X.lazy(()=>Vl(()=>import("./Layout-CRMAHWjl.js"),__vite__mapDeps([30,15,16,11,10,1,4,3,2,9])));function IS(){const[f]=X.useState(()=>new u0);return He.jsxs(SS,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[He.jsx(g0,{client:f,children:He.jsx(Lb,{basename:"/",children:He.jsx(X.Suspense,{fallback:He.jsx(yp,{}),children:He.jsxs(hb,{children:[He.jsx(Li,{element:He.jsx(vS,{}),children:He.jsx(Li,{path:"/login",element:He.jsx(AS,{})})}),He.jsx(Li,{path:"/shared/:token",element:He.jsx(TS,{})}),He.jsxs(Li,{element:He.jsx(yS,{}),children:[He.jsxs(Li,{element:He.jsx(CS,{}),children:[He.jsx(Li,{path:"/",element:He.jsx(ES,{})}),He.jsx(Li,{path:"/datasources",element:He.jsx(wS,{})}),He.jsx(Li,{path:"/settings",element:He.jsx(NS,{})})]}),He.jsx(Li,{path:"/:id",element:He.jsx(RS,{})})]})]})})})}),He.jsx(eS,{})]})}vv.createRoot(document.getElementById("root")).render(He.jsx(X.StrictMode,{children:He.jsx(IS,{})}));export{LS as A,DS as B,yy as C,My as L,Dy as N,Oy as O,de as R,yh as S,ev as T,Vl as _,Cy as a,jy as b,Xb as c,VS as d,yp as e,hS as f,qy as g,sS as h,BS as i,He as j,lS as k,uh as l,s0 as m,_n as n,ty as o,b0 as p,dS as q,X as r,Fm as s,W0 as t,d0 as u,Io as v,fS as w,OS as x,pS as y,Pb as z};
