const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-DTYaZjba.js","assets/index-BlVUo6r5.js","assets/button-Be4NxNDx.js","assets/index-D1_BsMR8.js","assets/grid-2x2-plus-Brtl72cY.js","assets/page-CyU__BwD.js","assets/documents-EtdJE8eI.js","assets/table-DQPsKraq.js","assets/dialog-DFCiCJoT.js","assets/index-DWLbhSGo.js","assets/index-DtcP887E.js","assets/dropdown-menu-B7a3xZ2J.js","assets/input-Dg8YOEYV.js","assets/label-BTqj266A.js","assets/document-detail-Bgatriol.js","assets/site-header-Bpadrp8d.js","assets/IconDotsVertical-DB7q_s_W.js","assets/select-DEYaJzi8.js","assets/index-DGw6FOsd.js","assets/worksheet-DVr1tEGe.js","assets/IconTrash-CU-O_nYs.js","assets/IconPlus-BJ7bhS6V.js","assets/page-QZC0YUqR.js","assets/datasources-GxeZw5o7.js","assets/datasource-dialog-CbNUyJ0k.js","assets/switch-D8q6tN8x.js","assets/shared-document-BBnCP55-.js","assets/sheet-view-Cr2fwAo5.js","assets/use-mobile-sheet-gestures-BLdn_l0X.js","assets/page-D3nhLok4.js","assets/Layout-CLBWkCxd.js"])))=>i.map(i=>d[i]);
var iv=Object.defineProperty;var xp=f=>{throw TypeError(f)};var sv=(f,h,m)=>h in f?iv(f,h,{enumerable:!0,configurable:!0,writable:!0,value:m}):f[h]=m;var D=(f,h,m)=>sv(f,typeof h!="symbol"?h+"":h,m),Bm=(f,h,m)=>h.has(f)||xp("Cannot "+m);var M=(f,h,m)=>(Bm(f,h,"read from private field"),m?m.call(f):h.get(f)),Be=(f,h,m)=>h.has(f)?xp("Cannot add the same private member more than once"):h instanceof WeakSet?h.add(f):h.set(f,m),Se=(f,h,m,p)=>(Bm(f,h,"write to private field"),p?p.call(f,m):h.set(f,m),m),tt=(f,h,m)=>(Bm(f,h,"access private method"),m);var Eg=(f,h,m,p)=>({set _(A){Se(f,h,A,m)},get _(){return M(f,h,p)}});function ov(f,h){for(var m=0;m<h.length;m++){const p=h[m];if(typeof p!="string"&&!Array.isArray(p)){for(const A in p)if(A!=="default"&&!(A in f)){const T=Object.getOwnPropertyDescriptor(p,A);T&&Object.defineProperty(f,A,T.get?T:{enumerable:!0,get:()=>p[A]})}}}return Object.freeze(Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}))}(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))p(A);new MutationObserver(A=>{for(const T of A)if(T.type==="childList")for(const I of T.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&p(I)}).observe(document,{childList:!0,subtree:!0});function m(A){const T={};return A.integrity&&(T.integrity=A.integrity),A.referrerPolicy&&(T.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?T.credentials="include":A.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function p(A){if(A.ep)return;A.ep=!0;const T=m(A);fetch(A.href,T)}})();var TS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function py(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var Um={exports:{}},eh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function lv(){if(Dp)return eh;Dp=1;var f=Symbol.for("react.transitional.element"),h=Symbol.for("react.fragment");function m(p,A,T){var I=null;if(T!==void 0&&(I=""+T),A.key!==void 0&&(I=""+A.key),"key"in A){T={};for(var B in A)B!=="key"&&(T[B]=A[B])}else T=A;return A=T.ref,{$$typeof:f,type:p,key:I,ref:A!==void 0?A:null,props:T}}return eh.Fragment=h,eh.jsx=m,eh.jsxs=m,eh}var Op;function yy(){return Op||(Op=1,Um.exports=lv()),Um.exports}var Je=yy(),Lm={exports:{}},th={},Mm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function uv(){return Vp||(Vp=1,function(f){function h(W,he){var Ee=W.length;W.push(he);e:for(;0<Ee;){var Oe=Ee-1>>>1,O=W[Oe];if(0<A(O,he))W[Oe]=he,W[Ee]=O,Ee=Oe;else break e}}function m(W){return W.length===0?null:W[0]}function p(W){if(W.length===0)return null;var he=W[0],Ee=W.pop();if(Ee!==he){W[0]=Ee;e:for(var Oe=0,O=W.length,$=O>>>1;Oe<$;){var ce=2*(Oe+1)-1,oe=W[ce],ye=ce+1,_e=W[ye];if(0>A(oe,Ee))ye<O&&0>A(_e,oe)?(W[Oe]=_e,W[ye]=Ee,Oe=ye):(W[Oe]=oe,W[ce]=Ee,Oe=ce);else if(ye<O&&0>A(_e,Ee))W[Oe]=_e,W[ye]=Ee,Oe=ye;else break e}}return he}function A(W,he){var Ee=W.sortIndex-he.sortIndex;return Ee!==0?Ee:W.id-he.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var T=performance;f.unstable_now=function(){return T.now()}}else{var I=Date,B=I.now();f.unstable_now=function(){return I.now()-B}}var b=[],w=[],_=1,N=null,F=3,q=!1,j=!1,ie=!1,H=!1,te=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function we(W){for(var he=m(w);he!==null;){if(he.callback===null)p(w);else if(he.startTime<=W)p(w),he.sortIndex=he.expirationTime,h(b,he);else break;he=m(w)}}function le(W){if(ie=!1,we(W),!j)if(m(b)!==null)j=!0,Me||(Me=!0,We());else{var he=m(w);he!==null&&it(le,he.startTime-W)}}var Me=!1,et=-1,Le=5,Ne=-1;function ke(){return H?!0:!(f.unstable_now()-Ne<Le)}function yt(){if(H=!1,Me){var W=f.unstable_now();Ne=W;var he=!0;try{e:{j=!1,ie&&(ie=!1,me(et),et=-1),q=!0;var Ee=F;try{t:{for(we(W),N=m(b);N!==null&&!(N.expirationTime>W&&ke());){var Oe=N.callback;if(typeof Oe=="function"){N.callback=null,F=N.priorityLevel;var O=Oe(N.expirationTime<=W);if(W=f.unstable_now(),typeof O=="function"){N.callback=O,we(W),he=!0;break t}N===m(b)&&p(b),we(W)}else p(b);N=m(b)}if(N!==null)he=!0;else{var $=m(w);$!==null&&it(le,$.startTime-W),he=!1}}break e}finally{N=null,F=Ee,q=!1}he=void 0}}finally{he?We():Me=!1}}}var We;if(typeof se=="function")We=function(){se(yt)};else if(typeof MessageChannel<"u"){var Ht=new MessageChannel,Ir=Ht.port2;Ht.port1.onmessage=yt,We=function(){Ir.postMessage(null)}}else We=function(){te(yt,0)};function it(W,he){et=te(function(){W(f.unstable_now())},he)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(W){W.callback=null},f.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<W?Math.floor(1e3/W):5},f.unstable_getCurrentPriorityLevel=function(){return F},f.unstable_next=function(W){switch(F){case 1:case 2:case 3:var he=3;break;default:he=F}var Ee=F;F=he;try{return W()}finally{F=Ee}},f.unstable_requestPaint=function(){H=!0},f.unstable_runWithPriority=function(W,he){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Ee=F;F=W;try{return he()}finally{F=Ee}},f.unstable_scheduleCallback=function(W,he,Ee){var Oe=f.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Oe+Ee:Oe):Ee=Oe,W){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Ee+O,W={id:_++,callback:he,priorityLevel:W,startTime:Ee,expirationTime:O,sortIndex:-1},Ee>Oe?(W.sortIndex=Ee,h(w,W),m(b)===null&&W===m(w)&&(ie?(me(et),et=-1):ie=!0,it(le,Ee-Oe))):(W.sortIndex=O,h(b,W),j||q||(j=!0,Me||(Me=!0,We()))),W},f.unstable_shouldYield=ke,f.unstable_wrapCallback=function(W){var he=F;return function(){var Ee=F;F=he;try{return W.apply(this,arguments)}finally{F=Ee}}}}(_m)),_m}var Bp;function cv(){return Bp||(Bp=1,Mm.exports=uv()),Mm.exports}var Ym={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function fv(){if(Up)return ze;Up=1;var f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),I=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),N=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,ie={};function H(O,$,ce){this.props=O,this.context=$,this.refs=ie,this.updater=ce||q}H.prototype.isReactComponent={},H.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=H.prototype;function me(O,$,ce){this.props=O,this.context=$,this.refs=ie,this.updater=ce||q}var se=me.prototype=new te;se.constructor=me,j(se,H.prototype),se.isPureReactComponent=!0;var we=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},Me=Object.prototype.hasOwnProperty;function et(O,$,ce,oe,ye,_e){return ce=_e.ref,{$$typeof:f,type:O,key:$,ref:ce!==void 0?ce:null,props:_e}}function Le(O,$){return et(O.type,$,void 0,void 0,void 0,O.props)}function Ne(O){return typeof O=="object"&&O!==null&&O.$$typeof===f}function ke(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return $[ce]})}var yt=/\/+/g;function We(O,$){return typeof O=="object"&&O!==null&&O.key!=null?ke(""+O.key):$.toString(36)}function Ht(){}function Ir(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ht,Ht):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function it(O,$,ce,oe,ye){var _e=typeof O;(_e==="undefined"||_e==="boolean")&&(O=null);var ve=!1;if(O===null)ve=!0;else switch(_e){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(O.$$typeof){case f:case h:ve=!0;break;case _:return ve=O._init,it(ve(O._payload),$,ce,oe,ye)}}if(ve)return ye=ye(O),ve=oe===""?"."+We(O,0):oe,we(ye)?(ce="",ve!=null&&(ce=ve.replace(yt,"$&/")+"/"),it(ye,$,ce,"",function(ge){return ge})):ye!=null&&(Ne(ye)&&(ye=Le(ye,ce+(ye.key==null||O&&O.key===ye.key?"":(""+ye.key).replace(yt,"$&/")+"/")+ve)),$.push(ye)),1;ve=0;var $t=oe===""?".":oe+":";if(we(O))for(var $e=0;$e<O.length;$e++)oe=O[$e],_e=$t+We(oe,$e),ve+=it(oe,$,ce,_e,ye);else if($e=F(O),typeof $e=="function")for(O=$e.call(O),$e=0;!(oe=O.next()).done;)oe=oe.value,_e=$t+We(oe,$e++),ve+=it(oe,$,ce,_e,ye);else if(_e==="object"){if(typeof O.then=="function")return it(Ir(O),$,ce,oe,ye);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ve}function W(O,$,ce){if(O==null)return O;var oe=[],ye=0;return it(O,oe,"","",function(_e){return $.call(ce,_e,ye++)}),oe}function he(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Ee=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Oe(){}return ze.Children={map:W,forEach:function(O,$,ce){W(O,function(){$.apply(this,arguments)},ce)},count:function(O){var $=0;return W(O,function(){$++}),$},toArray:function(O){return W(O,function($){return $})||[]},only:function(O){if(!Ne(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ze.Component=H,ze.Fragment=m,ze.Profiler=A,ze.PureComponent=me,ze.StrictMode=p,ze.Suspense=b,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,ze.__COMPILER_RUNTIME={__proto__:null,c:function(O){return le.H.useMemoCache(O)}},ze.cache=function(O){return function(){return O.apply(null,arguments)}},ze.cloneElement=function(O,$,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=j({},O.props),ye=O.key,_e=void 0;if($!=null)for(ve in $.ref!==void 0&&(_e=void 0),$.key!==void 0&&(ye=""+$.key),$)!Me.call($,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&$.ref===void 0||(oe[ve]=$[ve]);var ve=arguments.length-2;if(ve===1)oe.children=ce;else if(1<ve){for(var $t=Array(ve),$e=0;$e<ve;$e++)$t[$e]=arguments[$e+2];oe.children=$t}return et(O.type,ye,void 0,void 0,_e,oe)},ze.createContext=function(O){return O={$$typeof:I,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:T,_context:O},O},ze.createElement=function(O,$,ce){var oe,ye={},_e=null;if($!=null)for(oe in $.key!==void 0&&(_e=""+$.key),$)Me.call($,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ye[oe]=$[oe]);var ve=arguments.length-2;if(ve===1)ye.children=ce;else if(1<ve){for(var $t=Array(ve),$e=0;$e<ve;$e++)$t[$e]=arguments[$e+2];ye.children=$t}if(O&&O.defaultProps)for(oe in ve=O.defaultProps,ve)ye[oe]===void 0&&(ye[oe]=ve[oe]);return et(O,_e,void 0,void 0,null,ye)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(O){return{$$typeof:B,render:O}},ze.isValidElement=Ne,ze.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:he}},ze.memo=function(O,$){return{$$typeof:w,type:O,compare:$===void 0?null:$}},ze.startTransition=function(O){var $=le.T,ce={};le.T=ce;try{var oe=O(),ye=le.S;ye!==null&&ye(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Oe,Ee)}catch(_e){Ee(_e)}finally{le.T=$}},ze.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},ze.use=function(O){return le.H.use(O)},ze.useActionState=function(O,$,ce){return le.H.useActionState(O,$,ce)},ze.useCallback=function(O,$){return le.H.useCallback(O,$)},ze.useContext=function(O){return le.H.useContext(O)},ze.useDebugValue=function(){},ze.useDeferredValue=function(O,$){return le.H.useDeferredValue(O,$)},ze.useEffect=function(O,$,ce){var oe=le.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(O,$)},ze.useId=function(){return le.H.useId()},ze.useImperativeHandle=function(O,$,ce){return le.H.useImperativeHandle(O,$,ce)},ze.useInsertionEffect=function(O,$){return le.H.useInsertionEffect(O,$)},ze.useLayoutEffect=function(O,$){return le.H.useLayoutEffect(O,$)},ze.useMemo=function(O,$){return le.H.useMemo(O,$)},ze.useOptimistic=function(O,$){return le.H.useOptimistic(O,$)},ze.useReducer=function(O,$,ce){return le.H.useReducer(O,$,ce)},ze.useRef=function(O){return le.H.useRef(O)},ze.useState=function(O){return le.H.useState(O)},ze.useSyncExternalStore=function(O,$,ce){return le.H.useSyncExternalStore(O,$,ce)},ze.useTransition=function(){return le.H.useTransition()},ze.version="19.1.0",ze}var Lp;function Dg(){return Lp||(Lp=1,Ym.exports=fv()),Ym.exports}var Zm={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function hv(){if(Mp)return jn;Mp=1;var f=Dg();function h(b){var w="https://react.dev/errors/"+b;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)w+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+b+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var p={d:{f:m,r:function(){throw Error(h(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},A=Symbol.for("react.portal");function T(b,w,_){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:N==null?null:""+N,children:b,containerInfo:w,implementation:_}}var I=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function B(b,w){if(b==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=p,jn.createPortal=function(b,w){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(h(299));return T(b,w,null,_)},jn.flushSync=function(b){var w=I.T,_=p.p;try{if(I.T=null,p.p=2,b)return b()}finally{I.T=w,p.p=_,p.d.f()}},jn.preconnect=function(b,w){typeof b=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,p.d.C(b,w))},jn.prefetchDNS=function(b){typeof b=="string"&&p.d.D(b)},jn.preinit=function(b,w){if(typeof b=="string"&&w&&typeof w.as=="string"){var _=w.as,N=B(_,w.crossOrigin),F=typeof w.integrity=="string"?w.integrity:void 0,q=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;_==="style"?p.d.S(b,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:N,integrity:F,fetchPriority:q}):_==="script"&&p.d.X(b,{crossOrigin:N,integrity:F,fetchPriority:q,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},jn.preinitModule=function(b,w){if(typeof b=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var _=B(w.as,w.crossOrigin);p.d.M(b,{crossOrigin:_,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&p.d.M(b)},jn.preload=function(b,w){if(typeof b=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var _=w.as,N=B(_,w.crossOrigin);p.d.L(b,_,{crossOrigin:N,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},jn.preloadModule=function(b,w){if(typeof b=="string")if(w){var _=B(w.as,w.crossOrigin);p.d.m(b,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:_,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else p.d.m(b)},jn.requestFormReset=function(b){p.d.r(b)},jn.unstable_batchedUpdates=function(b,w){return b(w)},jn.useFormState=function(b,w,_){return I.H.useFormState(b,w,_)},jn.useFormStatus=function(){return I.H.useHostTransitionStatus()},jn.version="19.1.0",jn}var _p;function vy(){if(_p)return Zm.exports;_p=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(h){console.error(h)}}return f(),Zm.exports=hv(),Zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function dv(){if(Yp)return th;Yp=1;var f=cv(),h=Dg(),m=vy();function p(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function T(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function I(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function B(t){if(T(t)!==t)throw Error(p(188))}function b(t){var r=t.alternate;if(!r){if(r=T(t),r===null)throw Error(p(188));return r!==t?null:t}for(var s=t,o=r;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(o=u.return,o!==null){s=o;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return B(u),t;if(d===o)return B(u),r;d=d.sibling}throw Error(p(188))}if(s.return!==o.return)s=u,o=d;else{for(var v=!1,E=u.child;E;){if(E===s){v=!0,s=u,o=d;break}if(E===o){v=!0,o=u,s=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===s){v=!0,s=d,o=u;break}if(E===o){v=!0,o=d,s=u;break}E=E.sibling}if(!v)throw Error(p(189))}}if(s.alternate!==o)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?t:r}function w(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=w(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,N=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),me=Symbol.for("react.consumer"),se=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function We(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var Ht=Symbol.for("react.client.reference");function Ir(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ht?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case H:return"Profiler";case ie:return"StrictMode";case le:return"Suspense";case Me:return"SuspenseList";case Ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case se:return(t.displayName||"Context")+".Provider";case me:return(t._context.displayName||"Context")+".Consumer";case we:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case et:return r=t.displayName||null,r!==null?r:Ir(t.type)||"Memo";case Le:r=t._payload,t=t._init;try{return Ir(t(r))}catch{}}return null}var it=Array.isArray,W=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Oe=[],O=-1;function $(t){return{current:t}}function ce(t){0>O||(t.current=Oe[O],Oe[O]=null,O--)}function oe(t,r){O++,Oe[O]=t.current,t.current=r}var ye=$(null),_e=$(null),ve=$(null),$t=$(null);function $e(t,r){switch(oe(ve,r),oe(_e,t),oe(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?rg(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=rg(r),t=vm(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ce(ye),oe(ye,t)}function ge(){ce(ye),ce(_e),ce(ve)}function ca(t){t.memoizedState!==null&&oe($t,t);var r=ye.current,s=vm(r,t.type);r!==s&&(oe(_e,t),oe(ye,s))}function Yi(t){_e.current===t&&(ce(ye),ce(_e)),$t.current===t&&(ce($t),go._currentValue=Ee)}var Ts=Object.prototype.hasOwnProperty,Do=f.unstable_scheduleCallback,fa=f.unstable_cancelCallback,Oo=f.unstable_shouldYield,Vo=f.unstable_requestPaint,bn=f.unstable_now,Bo=f.unstable_getCurrentPriorityLevel,sr=f.unstable_ImmediatePriority,Bl=f.unstable_UserBlockingPriority,ja=f.unstable_NormalPriority,Nn=f.unstable_LowPriority,Ut=f.unstable_IdlePriority,lc=f.log,Uo=f.unstable_setDisableYieldValue,or=null,He=null;function lr(t){if(typeof lc=="function"&&Uo(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(or,t)}catch{}}var rn=Math.clz32?Math.clz32:da,ha=Math.log,Lo=Math.LN2;function da(t){return t>>>=0,t===0?32:31-(ha(t)/Lo|0)|0}var Zi=256,Ha=4194304;function ur(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $a(t,r,s){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?u=ur(o):(v&=E,v!==0?u=ur(v):s||(s=E&~t,s!==0&&(u=ur(s))))):(E=o&~d,E!==0?u=ur(E):v!==0?u=ur(v):s||(s=o&~t,s!==0&&(u=ur(s)))),u===0?0:r!==0&&r!==u&&(r&d)===0&&(d=u&-u,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:u}function Gi(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Cr(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cr(){var t=Zi;return Zi<<=1,(Zi&4194048)===0&&(Zi=256),t}function Ul(){var t=Ha;return Ha<<=1,(Ha&62914560)===0&&(Ha=4194304),t}function zi(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function ga(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ki(t,r,s,o,u,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,k=t.hiddenUpdates;for(s=v&~s;0<s;){var Q=31-rn(s),re=1<<Q;E[Q]=0,x[Q]=-1;var K=k[Q];if(K!==null)for(k[Q]=null,Q=0;Q<K.length;Q++){var P=K[Q];P!==null&&(P.lane&=-536870913)}s&=~re}o!==0&&Ae(t,o,0),d!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Ae(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-rn(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function Lt(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var o=31-rn(s),u=1<<o;u&r|t[o]&r&&(t[o]|=r),s&=~u}}function kt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function an(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wi(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:Rp(t.type))}function ut(t,r){var s=he.p;try{return he.p=t,r()}finally{he.p=s}}var Mt=Math.random().toString(36).slice(2),_t="__reactFiber$"+Mt,ct="__reactProps$"+Mt,sn="__reactContainer$"+Mt,ws="__reactEvents$"+Mt,xr="__reactListeners$"+Mt,Ll="__reactHandles$"+Mt,uc="__reactResources$"+Mt,Ki="__reactMarker$"+Mt;function cc(t){delete t[_t],delete t[ct],delete t[ws],delete t[xr],delete t[Ll]}function Qa(t){var r=t[_t];if(r)return r;for(var s=t.parentNode;s;){if(r=s[sn]||s[_t]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=ug(t);t!==null;){if(s=t[_t])return s;t=ug(t)}return r}t=s,s=t.parentNode}return null}function ma(t){if(t=t[_t]||t[sn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Ns(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(p(33))}function qa(t){var r=t[uc];return r||(r=t[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Xt(t){t[Ki]=!0}var fc=new Set,hc={};function ei(t,r){Xi(t,r),Xi(t+"Capture",r)}function Xi(t,r){for(hc[t]=r,t=0;t<r.length;t++)fc.add(r[t])}var dc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ph={},Mo={};function yh(t){return Ts.call(Mo,t)?!0:Ts.call(ph,t)?!1:dc.test(t)?Mo[t]=!0:(ph[t]=!0,!1)}function pa(t,r,s){if(yh(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function _o(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function ya(t,r,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+o)}}var Pi,vh;function Wr(t){if(Pi===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Pi=r&&r[1]||"",vh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pi+t+vh}var Yo=!1;function gc(t,r){if(!t||Yo)return"";Yo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(P){var K=P}Reflect.construct(t,[],re)}else{try{re.call()}catch(P){K=P}t.call(re.prototype)}}else{try{throw Error()}catch(P){K=P}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(P){if(P&&K&&typeof P.stack=="string")return[P.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var x=v.split(`
`),k=E.split(`
`);for(u=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(o===x.length||u===k.length)for(o=x.length-1,u=k.length-1;1<=o&&0<=u&&x[o]!==k[u];)u--;for(;1<=o&&0<=u;o--,u--)if(x[o]!==k[u]){if(o!==1||u!==1)do if(o--,u--,0>u||x[o]!==k[u]){var Q=`
`+x[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=u);break}}}finally{Yo=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Wr(s):""}function Bg(t){switch(t.tag){case 26:case 27:case 5:return Wr(t.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return gc(t.type,!1);case 11:return gc(t.type.render,!1);case 1:return gc(t.type,!0);case 31:return Wr("Activity");default:return""}}function bh(t){try{var r="";do r+=Bg(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function _n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mc(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ug(t){var r=mc(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return u.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ml(t){t._valueTracker||(t._valueTracker=Ug(t))}function Sh(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return t&&(o=mc(t)?t.checked?"true":"false":t.value),t=o,t!==s?(r.setValue(t),!0):!1}function _l(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zo=/[\n"\\]/g;function Sn(t){return t.replace(Zo,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pc(t,r,s,o,u,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+_n(r)):t.value!==""+_n(r)&&(t.value=""+_n(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Go(t,v,_n(r)):s!=null?Go(t,v,_n(s)):o!=null&&t.removeAttribute("value"),u==null&&d!=null&&(t.defaultChecked=!!d),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+_n(E):t.removeAttribute("name")}function yc(t,r,s,o,u,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+_n(s):"",r=r!=null?""+_n(r):s,E||r===t.value||(t.value=r),t.defaultValue=r}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Go(t,r,s){r==="number"&&_l(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Is(t,r,s,o){if(t=t.options,r){r={};for(var u=0;u<s.length;u++)r["$"+s[u]]=!0;for(s=0;s<t.length;s++)u=r.hasOwnProperty("$"+t[s].value),t[s].selected!==u&&(t[s].selected=u),u&&o&&(t[s].defaultSelected=!0)}else{for(s=""+_n(s),r=null,u=0;u<t.length;u++){if(t[u].value===s){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}r!==null||t[u].disabled||(r=t[u])}r!==null&&(r.selected=!0)}}function vc(t,r,s){if(r!=null&&(r=""+_n(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+_n(s):""}function Ah(t,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(p(92));if(it(o)){if(1<o.length)throw Error(p(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=_n(r),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function ti(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Eh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rh(t,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,s):typeof s!="number"||s===0||Eh.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Th(t,r,s){if(r!=null&&typeof r!="object")throw Error(p(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in r)o=r[u],r.hasOwnProperty(u)&&s[u]!==o&&Rh(t,u,o)}else for(var d in r)r.hasOwnProperty(d)&&Rh(t,d,r[d])}function bc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zo(t){return wh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ko=null;function Wo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,Ji=null;function Nh(t){var r=ma(t);if(r&&(t=r.stateNode)){var s=t[ct]||null;e:switch(t=r.stateNode,r.type){case"input":if(pc(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==t&&o.form===t.form){var u=o[ct]||null;if(!u)throw Error(p(90));pc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===t.form&&Sh(o)}break e;case"textarea":vc(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Is(t,!!s.multiple,r,!1)}}}var Sc=!1;function Ih(t,r,s){if(Sc)return t(r,s);Sc=!0;try{var o=t(r);return o}finally{if(Sc=!1,(Fi!==null||Ji!==null)&&(wi(),Fi&&(r=Fi,t=Ji,Ji=Fi=null,Nh(r),t)))for(r=0;r<t.length;r++)Nh(t[r])}}function ji(t,r){var s=t.stateNode;if(s===null)return null;var o=s[ct]||null;if(o===null)return null;s=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(p(231,r,typeof s));return s}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=!1;if(va)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){Ac=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{Ac=!1}var ni=null,Cs=null,fr=null;function Ch(){if(fr)return fr;var t,r=Cs,s=r.length,o,u="value"in ni?ni.value:ni.textContent,d=u.length;for(t=0;t<s&&r[t]===u[t];t++);var v=s-t;for(o=1;o<=v&&r[s-o]===u[d-o];o++);return fr=u.slice(t,1<o?1-o:void 0)}function Yl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Zl(){return!0}function xh(){return!1}function Yn(t){function r(s,o,u,d,v){this._reactName=s,this._targetInst=u,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zl:xh,this.isPropagationStopped=xh,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),r}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Yn(ri),In=_({},ri,{view:0,detail:0}),Mg=Yn(In),Ec,Gl,Xo,zl=_({},In,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xo&&(Xo&&t.type==="mousemove"?(Ec=t.screenX-Xo.screenX,Gl=t.screenY-Xo.screenY):Gl=Ec=0,Xo=t),Ec)},movementY:function(t){return"movementY"in t?t.movementY:Gl}}),Rc=Yn(zl),Ue=_({},zl,{dataTransfer:0}),yp=Yn(Ue),_g=_({},In,{relatedTarget:0}),kl=Yn(_g),Dh=_({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Oh=Yn(Dh),Vh=_({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bh=Yn(Vh),Uh=_({},ri,{data:0}),Tc=Yn(Uh),Lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yh(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=_h[t])?!!r[t]:!1}function Wl(){return Yh}var Zh=_({},In,{key:function(t){if(t.key){var r=Lh[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(t){return t.type==="keypress"?Yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gh=Yn(Zh),zh=_({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wc=Yn(zh),kh=_({},In,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),Wh=Yn(kh),Kh=_({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xh=Yn(Kh),Ph=_({},zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yg=Yn(Ph),hr=_({},ri,{newState:0,oldState:0}),Fh=Yn(hr),Jh=[9,13,27,32],Nc=va&&"CompositionEvent"in window,Po=null;va&&"documentMode"in document&&(Po=document.documentMode);var Ic=va&&"TextEvent"in window&&!Po,Hi=va&&(!Nc||Po&&8<Po&&11>=Po),Kr=" ",jh=!1;function Hh(t,r){switch(t){case"keyup":return Jh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $h(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function Qh(t,r){switch(t){case"compositionend":return $h(r);case"keypress":return r.which!==32?null:(jh=!0,Kr);case"textInput":return t=r.data,t===Kr&&jh?null:t;default:return null}}function Zg(t,r){if(xs)return t==="compositionend"||!Nc&&Hh(t,r)?(t=Ch(),fr=Cs=ni=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hi&&r.locale!=="ko"?null:r.data;default:return null}}var Gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Gg[t.type]:r==="textarea"}function qh(t,r,s,o){Fi?Ji?Ji.push(o):Ji=[o]:Fi=o,r=bl(r,"onChange"),0<r.length&&(s=new ba("onChange","change",null,s,o),t.push({event:s,listeners:r}))}var dr=null,ai=null;function ed(t){sa(t,0)}function $i(t){var r=Ns(t);if(Sh(r))return t}function xc(t,r){if(t==="change")return r}var td=!1;if(va){var Dc;if(va){var Kl="oninput"in document;if(!Kl){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),Kl=typeof nd.oninput=="function"}Dc=Kl}else Dc=!1;td=Dc&&(!document.documentMode||9<document.documentMode)}function rd(){dr&&(dr.detachEvent("onpropertychange",ad),ai=dr=null)}function ad(t){if(t.propertyName==="value"&&$i(ai)){var r=[];qh(r,ai,t,Wo(t)),Ih(ed,r)}}function zg(t,r,s){t==="focusin"?(rd(),dr=r,ai=s,dr.attachEvent("onpropertychange",ad)):t==="focusout"&&rd()}function kg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $i(ai)}function id(t,r){if(t==="click")return $i(r)}function Oc(t,r){if(t==="input"||t==="change")return $i(r)}function Wg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Zn=typeof Object.is=="function"?Object.is:Wg;function Fo(t,r){if(Zn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var u=s[o];if(!Ts.call(r,u)||!Zn(t[u],r[u]))return!1}return!0}function Xl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sd(t,r){var s=Xl(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=r&&o>=r)return{node:s,offset:r-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Xl(s)}}function od(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?od(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ld(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=_l(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=_l(t.document)}return r}function Vc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Pl=va&&"documentMode"in document&&11>=document.documentMode,Qi=null,Bc=null,Jo=null,Fl=!1;function ud(t,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fl||Qi==null||Qi!==_l(o)||(o=Qi,"selectionStart"in o&&Vc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&Fo(Jo,o)||(Jo=o,o=bl(Bc,"onSelect"),0<o.length&&(r=new ba("onSelect","select",null,r,s),t.push({event:r,listeners:o}),r.target=Qi)))}function qi(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Ds={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionrun:qi("Transition","TransitionRun"),transitionstart:qi("Transition","TransitionStart"),transitioncancel:qi("Transition","TransitionCancel"),transitionend:qi("Transition","TransitionEnd")},es={},Uc={};va&&(Uc=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function ts(t){if(es[t])return es[t];if(!Ds[t])return t;var r=Ds[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Uc)return es[t]=r[s];return t}var cd=ts("animationend"),Jl=ts("animationiteration"),jo=ts("animationstart"),Kg=ts("transitionrun"),Xg=ts("transitionstart"),Pg=ts("transitioncancel"),fd=ts("transitionend"),hd=new Map,jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jl.push("scrollEnd");function $n(t,r){hd.set(t,r),ei(r,[t])}var Lc=new WeakMap;function gr(t,r){if(typeof t=="object"&&t!==null){var s=Lc.get(t);return s!==void 0?s:(r={value:t,source:r,stack:bh(r)},Lc.set(t,r),r)}return{value:t,source:r,stack:bh(r)}}var Qn=[],Os=0,Mc=0;function Hl(){for(var t=Os,r=Mc=Os=0;r<t;){var s=Qn[r];Qn[r++]=null;var o=Qn[r];Qn[r++]=null;var u=Qn[r];Qn[r++]=null;var d=Qn[r];if(Qn[r++]=null,o!==null&&u!==null){var v=o.pending;v===null?u.next=u:(u.next=v.next,v.next=u),o.pending=u}d!==0&&dd(s,u,d)}}function Sa(t,r,s,o){Qn[Os++]=t,Qn[Os++]=r,Qn[Os++]=s,Qn[Os++]=o,Mc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function $l(t,r,s,o){return Sa(t,r,s,o),Ql(t)}function Vs(t,r){return Sa(t,null,null,r),Ql(t)}function dd(t,r,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var u=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(u=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,u&&r!==null&&(u=31-rn(s),t=d.hiddenUpdates,o=t[u],o===null?t[u]=[r]:o.push(r),r.lane=s|536870912),d):null}function Ql(t){if(50<mt)throw mt=0,Tn=null,Error(p(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Bs={};function Fg(t,r,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,r,s,o){return new Fg(t,r,s,o)}function Ho(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mr(t,r){var s=t.alternate;return s===null?(s=An(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function $o(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ql(t,r,s,o,u,d){var v=0;if(o=t,typeof t=="function")Ho(t)&&(v=1);else if(typeof t=="string")v=Ce(t,s,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ne:return t=An(31,s,r,u),t.elementType=Ne,t.lanes=d,t;case j:return ii(s.children,u,d,r);case ie:v=8,u|=24;break;case H:return t=An(12,s,r,u|2),t.elementType=H,t.lanes=d,t;case le:return t=An(13,s,r,u),t.elementType=le,t.lanes=d,t;case Me:return t=An(19,s,r,u),t.elementType=Me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:case se:v=10;break e;case me:v=9;break e;case we:v=11;break e;case et:v=14;break e;case Le:v=16,o=null;break e}v=29,s=Error(p(130,t===null?"null":typeof t,"")),o=null}return r=An(v,s,r,u),r.elementType=t,r.type=o,r.lanes=d,r}function ii(t,r,s,o){return t=An(7,t,o,r),t.lanes=s,t}function _c(t,r,s){return t=An(6,t,null,r),t.lanes=s,t}function Yc(t,r,s){return r=An(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Us=[],Ls=0,eu=null,tu=0,qn=[],Gn=0,si=null,Xr=1,Fe="";function ns(t,r){Us[Ls++]=tu,Us[Ls++]=eu,eu=t,tu=r}function gd(t,r,s){qn[Gn++]=Xr,qn[Gn++]=Fe,qn[Gn++]=si,si=t;var o=Xr;t=Fe;var u=32-rn(o)-1;o&=~(1<<u),s+=1;var d=32-rn(r)+u;if(30<d){var v=u-u%5;d=(o&(1<<v)-1).toString(32),o>>=v,u-=v,Xr=1<<32-rn(r)+u|s<<u|o,Fe=d+t}else Xr=1<<d|s<<u|o,Fe=t}function Zc(t){t.return!==null&&(ns(t,1),gd(t,1,0))}function nu(t){for(;t===eu;)eu=Us[--Ls],Us[Ls]=null,tu=Us[--Ls],Us[Ls]=null;for(;t===si;)si=qn[--Gn],qn[Gn]=null,Fe=qn[--Gn],qn[Gn]=null,Xr=qn[--Gn],qn[Gn]=null}var Cn=null,Yt=null,st=!1,oi=null,Dr=!1,Gc=Error(p(519));function Or(t){var r=Error(p(418,""));throw qo(gr(r,t)),Gc}function md(t){var r=t.stateNode,s=t.type,o=t.memoizedProps;switch(r[_t]=t,r[ct]=o,s){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<ia.length;s++)Pe(ia[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),yc(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ml(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Ah(r,o.value,o.defaultValue,o.children),Ml(r)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||ng(r.textContent,s)?(o.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),o.onScroll!=null&&Pe("scroll",r),o.onScrollEnd!=null&&Pe("scrollend",r),o.onClick!=null&&(r.onclick=zu),r=!0):r=!1,r||Or(t)}function pd(t){for(Cn=t.return;Cn;)switch(Cn.tag){case 5:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:Cn=Cn.return}}function Qo(t){if(t!==Cn)return!1;if(!st)return pd(t),st=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||ag(t.type,t.memoizedProps)),s=!s),s&&Yt&&Or(t),pd(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(p(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){Yt=Rr(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}Yt=null}}else r===27?(r=Yt,yn(t.type)?(t=ho,ho=null,Yt=t):Yt=r):Yt=Cn?Rr(t.stateNode.nextSibling):null;return!0}function Ms(){Yt=Cn=null,st=!1}function rs(){var t=oi;return t!==null&&(Ln===null?Ln=t:Ln.push.apply(Ln,t),oi=null),t}function qo(t){oi===null?oi=[t]:oi.push(t)}var zc=$(null),as=null,Aa=null;function li(t,r,s){oe(zc,r._currentValue),r._currentValue=s}function Ea(t){t._currentValue=zc.current,ce(zc)}function kc(t,r,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===s)break;t=t.return}}function ru(t,r,s,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var d=u.dependencies;if(d!==null){var v=u.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=u;for(var x=0;x<r.length;x++)if(E.context===r[x]){d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),kc(d.return,s,t),o||(v=null);break e}d=E.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(p(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),kc(v,s,t),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===t){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function el(t,r,s,o){t=null;for(var u=r,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(p(387));if(v=v.memoizedProps,v!==null){var E=u.type;Zn(u.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(u===$t.current){if(v=u.alternate,v===null)throw Error(p(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(go):t=[go])}u=u.return}t!==null&&ru(r,t,s,o),r.flags|=262144}function au(t){for(t=t.firstContext;t!==null;){if(!Zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ui(t){as=t,Aa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function cn(t){return Wc(as,t)}function _s(t,r){return as===null&&ui(t),Wc(t,r)}function Wc(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Aa===null){if(t===null)throw Error(p(308));Aa=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Aa=Aa.next=r;return s}var Jg=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},jg=f.unstable_scheduleCallback,Ys=f.unstable_NormalPriority,Pt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new Jg,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&jg(Ys,function(){t.controller.abort()})}var Zs=null,Xc=0,Gs=0,zs=null;function Hg(t,r){if(Zs===null){var s=Zs=[];Xc=0,Gs=Yu(),zs={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Xc++,r.then($g,$g),r}function $g(){if(--Xc===0&&Zs!==null){zs!==null&&(zs.status="fulfilled");var t=Zs;Zs=null,Gs=0,zs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Qg(t,r){var s=[],o={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var u=0;u<s.length;u++)(0,s[u])(r)},function(u){for(o.status="rejected",o.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),o}var yd=W.S;W.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Hg(t,r),yd!==null&&yd(t,r)};var ci=$(null);function iu(){var t=ci.current;return t!==null?t:Nt.pooledCache}function nl(t,r){r===null?oe(ci,ci.current):oe(ci,r.pool)}function vd(){var t=iu();return t===null?null:{parent:Pt._currentValue,pool:t}}var ks=Error(p(460)),bd=Error(p(474)),rl=Error(p(542)),su={then:function(){}};function Pc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ou(){}function Sd(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(ou,ou),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Fc(t),t;default:if(typeof r.status=="string")r.then(ou,ou);else{if(t=Nt,t!==null&&100<t.shellSuspendCounter)throw Error(p(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var u=r;u.status="fulfilled",u.value=o}},function(o){if(r.status==="pending"){var u=r;u.status="rejected",u.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Fc(t),t}throw Ws=r,ks}}var Ws=null;function Ad(){if(Ws===null)throw Error(p(459));var t=Ws;return Ws=null,t}function Fc(t){if(t===ks||t===rl)throw Error(p(483))}var Ra=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lu(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fi(t,r,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ft&2)!==0){var u=o.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),o.pending=r,r=Ql(t),dd(t,null,s),r}return Sa(t,o,r,s),Ql(t)}function Ks(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Lt(t,s)}}function jc(t,r){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?u=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?u=d=r:d=d.next=r}else u=d=r;s={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Ye=!1;function al(){if(Ye){var t=zs;if(t!==null)throw t}}function il(t,r,s,o){Ye=!1;var u=t.updateQueue;Ra=!1;var d=u.firstBaseUpdate,v=u.lastBaseUpdate,E=u.shared.pending;if(E!==null){u.shared.pending=null;var x=E,k=x.next;x.next=null,v===null?d=k:v.next=k,v=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=k:E.next=k,Q.lastBaseUpdate=x))}if(d!==null){var re=u.baseState;v=0,Q=k=x=null,E=d;do{var K=E.lane&-536870913,P=K!==E.lane;if(P?(qe&K)===K:(o&K)===K){K!==0&&K===Gs&&(Ye=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ve=t,xe=E;K=r;var It=s;switch(xe.tag){case 1:if(Ve=xe.payload,typeof Ve=="function"){re=Ve.call(It,re,K);break e}re=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=xe.payload,K=typeof Ve=="function"?Ve.call(It,re,K):Ve,K==null)break e;re=_({},re,K);break e;case 2:Ra=!0}}K=E.callback,K!==null&&(t.flags|=64,P&&(t.flags|=8192),P=u.callbacks,P===null?u.callbacks=[K]:P.push(K))}else P={lane:K,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(k=Q=P,x=re):Q=Q.next=P,v|=K;if(E=E.next,E===null){if(E=u.shared.pending,E===null)break;P=E,E=P.next,P.next=null,u.lastBaseUpdate=P,u.shared.pending=null}}while(!0);Q===null&&(x=re),u.baseState=x,u.firstBaseUpdate=k,u.lastBaseUpdate=Q,d===null&&(u.shared.lanes=0),na|=v,t.lanes=v,t.memoizedState=re}}function Ed(t,r){if(typeof t!="function")throw Error(p(191,t));t.call(r)}function uu(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ed(s[t],r)}var hi=$(null),Xs=$(0);function Rd(t,r){t=Za,oe(Xs,t),oe(hi,r),Za=t|r.baseLanes}function Hc(){oe(Xs,Za),oe(hi,hi.current)}function $c(){Za=Xs.current,ce(hi),ce(Xs)}var di=0,Ge=null,vt=null,Ft=null,cu=!1,Ps=!1,is=!1,Ta=0,En=0,Fs=null,qg=0;function Wt(){throw Error(p(321))}function Qc(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Zn(t[s],r[s]))return!1;return!0}function qc(t,r,s,o,u,d){return di=d,Ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=t===null||t.memoizedState===null?ue:bt,is=!1,d=s(o,u),is=!1,Ps&&(d=wd(r,s,o,u)),Td(t),d}function Td(t){W.H=dn;var r=vt!==null&&vt.next!==null;if(di=0,Ft=vt=Ge=null,cu=!1,En=0,Fs=null,r)throw Error(p(300));t===null||Zt||(t=t.dependencies,t!==null&&au(t)&&(Zt=!0))}function wd(t,r,s,o){Ge=t;var u=0;do{if(Ps&&(Fs=null),En=0,Ps=!1,25<=u)throw Error(p(301));if(u+=1,Ft=vt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=xt,d=r(s,o)}while(Ps);return d}function em(){var t=W.H,r=t.useState()[0];return r=typeof r.then=="function"?sl(r):r,t=t.useState()[0],(vt!==null?vt.memoizedState:null)!==t&&(Ge.flags|=1024),r}function fu(){var t=Ta!==0;return Ta=0,t}function ef(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function tf(t){if(cu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}cu=!1}di=0,Ft=vt=Ge=null,Ps=!1,En=Ta=0,Fs=null}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Ge.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function Jt(){if(vt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var r=Ft===null?Ge.memoizedState:Ft.next;if(r!==null)Ft=r,vt=t;else{if(t===null)throw Ge.alternate===null?Error(p(467)):Error(p(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ft===null?Ge.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var r=En;return En+=1,Fs===null&&(Fs=[]),t=Sd(Fs,t,r),r=Ge,(Ft===null?r.memoizedState:Ft.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?ue:bt),t}function ol(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===se)return cn(t)}throw Error(p(438,String(t)))}function ss(t){var r=null,s=Ge.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=Ge.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(u){return u.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=nf(),Ge.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),o=0;o<t;o++)s[o]=ke;return r.index++,s}function wa(t,r){return typeof r=="function"?r(t):r}function hu(t){var r=Jt();return rf(r,vt,t)}function rf(t,r,s){var o=t.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=s;var u=t.baseQueue,d=o.pending;if(d!==null){if(u!==null){var v=u.next;u.next=d.next,d.next=v}r.baseQueue=u=d,o.pending=null}if(d=t.baseState,u===null)t.memoizedState=d;else{r=u.next;var E=v=null,x=null,k=r,Q=!1;do{var re=k.lane&-536870913;if(re!==k.lane?(qe&re)===re:(di&re)===re){var K=k.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),re===Gs&&(Q=!0);else if((di&K)===K){k=k.next,K===Gs&&(Q=!0);continue}else re={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},x===null?(E=x=re,v=d):x=x.next=re,Ge.lanes|=K,na|=K;re=k.action,is&&s(d,re),d=k.hasEagerState?k.eagerState:s(d,re)}else K={lane:re,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},x===null?(E=x=K,v=d):x=x.next=K,Ge.lanes|=re,na|=re;k=k.next}while(k!==null&&k!==r);if(x===null?v=d:x.next=E,!Zn(d,t.memoizedState)&&(Zt=!0,Q&&(s=zs,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=x,o.lastRenderedState=d}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function af(t){var r=Jt(),s=r.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=t;var o=s.dispatch,u=s.pending,d=r.memoizedState;if(u!==null){s.pending=null;var v=u=u.next;do d=t(d,v.action),v=v.next;while(v!==u);Zn(d,r.memoizedState)||(Zt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,o]}function sf(t,r,s){var o=Ge,u=Jt(),d=st;if(d){if(s===void 0)throw Error(p(407));s=s()}else s=r();var v=!Zn((vt||u).memoizedState,s);v&&(u.memoizedState=s,Zt=!0),u=u.queue;var E=tm.bind(null,o,u,t);if(xn(2048,8,E,[t]),u.getSnapshot!==r||v||Ft!==null&&Ft.memoizedState.tag&1){if(o.flags|=2048,Ia(9,Ca(),ll.bind(null,o,u,s,r),null),Nt===null)throw Error(p(349));d||(di&124)!==0||Ze(o,r,s)}return s}function Ze(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Ge.updateQueue,r===null?(r=nf(),Ge.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function ll(t,r,s,o){r.value=s,r.getSnapshot=o,Nd(r)&&nm(t)}function tm(t,r,s){return s(function(){Nd(r)&&nm(t)})}function Nd(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Zn(t,s)}catch{return!0}}function nm(t){var r=Vs(t,2);r!==null&&fe(r,t,2)}function of(t){var r=kn();if(typeof t=="function"){var s=t;if(t=s(),is){lr(!0);try{s()}finally{lr(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:t},r}function V(t,r,s,o){return t.baseState=s,rf(t,vt,typeof o=="function"?o:wa)}function L(t,r,s,o,u){if(js(t))throw Error(p(485));if(t=r.action,t!==null){var d={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?s(!0):d.isTransition=!1,o(d),s=r.pending,s===null?(d.next=r.pending=d,Vr(r,d)):(d.next=s.next,r.pending=s.next=d)}}function Vr(t,r){var s=r.action,o=r.payload,u=t.state;if(r.isTransition){var d=W.T,v={};W.T=v;try{var E=s(u,o),x=W.S;x!==null&&x(v,E),du(t,r,E)}catch(k){Wn(t,r,k)}finally{W.T=d}}else try{d=s(u,o),du(t,r,d)}catch(k){Wn(t,r,k)}}function du(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Br(t,r,o)},function(o){return Wn(t,r,o)}):Br(t,r,s)}function Br(t,r,s){r.status="fulfilled",r.value=s,gu(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Vr(t,s)))}function Wn(t,r,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,gu(r),r=r.next;while(r!==o)}t.action=null}function gu(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function lf(t,r){return r}function mu(t,r){if(st){var s=Nt.formState;if(s!==null){e:{var o=Ge;if(st){if(Yt){t:{for(var u=Yt,d=Dr;u.nodeType!==8;){if(!d){u=null;break t}if(u=Rr(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){Yt=Rr(u.nextSibling),o=u.data==="F!";break e}}Or(o)}o=!1}o&&(r=s[0])}}return s=kn(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lf,lastRenderedState:r},s.queue=o,s=Pr.bind(null,Ge,o),o.dispatch=s,o=of(!1),d=yu.bind(null,Ge,!1,o.queue),o=kn(),u={state:r,dispatch:null,action:t,pending:null},o.queue=u,s=L.bind(null,Ge,u,d,s),u.dispatch=s,o.memoizedState=t,[r,s,!1]}function os(t){var r=Jt();return Ur(r,vt,t)}function Ur(t,r,s){if(r=rf(t,r,lf)[0],t=hu(wa)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=sl(r)}catch(v){throw v===ks?rl:v}else o=r;r=Jt();var u=r.queue,d=u.dispatch;return s!==r.memoizedState&&(Ge.flags|=2048,Ia(9,Ca(),ul.bind(null,u,s),null)),[o,d,t]}function ul(t,r){t.action=r}function Na(t){var r=Jt(),s=vt;if(s!==null)return Ur(r,s,t);Jt(),r=r.memoizedState,s=Jt();var o=s.queue.dispatch;return s.memoizedState=t,[r,o,!1]}function Ia(t,r,s,o){return t={tag:t,create:s,deps:o,inst:r,next:null},r=Ge.updateQueue,r===null&&(r=nf(),Ge.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,r.lastEffect=t),t}function Ca(){return{destroy:void 0,resource:void 0}}function fn(){return Jt().memoizedState}function Tt(t,r,s,o){var u=kn();o=o===void 0?null:o,Ge.flags|=t,u.memoizedState=Ia(1|r,Ca(),s,o)}function xn(t,r,s,o){var u=Jt();o=o===void 0?null:o;var d=u.memoizedState.inst;vt!==null&&o!==null&&Qc(o,vt.memoizedState.deps)?u.memoizedState=Ia(r,d,s,o):(Ge.flags|=t,u.memoizedState=Ia(1|r,d,s,o))}function uf(t,r){Tt(8390656,8,t,r)}function Js(t,r){xn(2048,8,t,r)}function er(t,r){return xn(4,2,t,r)}function Ke(t,r){return xn(4,4,t,r)}function hn(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function cf(t,r,s){s=s!=null?s.concat([t]):null,xn(4,4,hn.bind(null,r,t),s)}function pu(){}function ff(t,r){var s=Jt();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&Qc(r,o[1])?o[0]:(s.memoizedState=[t,r],t)}function gi(t,r){var s=Jt();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&Qc(r,o[1]))return o[0];if(o=t(),is){lr(!0);try{t()}finally{lr(!1)}}return s.memoizedState=[o,r],o}function Kn(t,r,s){return s===void 0||(di&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=Pd(),Ge.lanes|=t,na|=t,s)}function Qe(t,r,s,o){return Zn(s,r)?s:hi.current!==null?(t=Kn(t,s,o),Zn(t,r)||(Zt=!0),t):(di&42)===0?(Zt=!0,t.memoizedState=s):(t=Pd(),Ge.lanes|=t,na|=t,r)}function cl(t,r,s,o,u){var d=he.p;he.p=d!==0&&8>d?d:8;var v=W.T,E={};W.T=E,yu(t,!1,r,s);try{var x=u(),k=W.S;if(k!==null&&k(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=Qg(x,o);Fr(t,r,Q,nn(t))}else Fr(t,r,o,nn(t))}catch(re){Fr(t,r,{then:function(){},status:"rejected",reason:re},nn())}finally{he.p=d,W.T=v}}function hf(){}function Xn(t,r,s,o){if(t.tag!==5)throw Error(p(476));var u=df(t).queue;cl(t,u,r,Ee,s===null?hf:function(){return Id(t),s(o)})}function df(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:Ee},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Id(t){var r=df(t).next.queue;Fr(t,r,{},nn())}function mi(){return cn(go)}function gf(){return Jt().memoizedState}function Cd(){return Jt().memoizedState}function xd(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=nn();t=zn(s);var o=fi(r,t,s);o!==null&&(fe(o,r,s),Ks(o,r,s)),r={cache:Kc()},t.payload=r;return}r=r.return}}function Lr(t,r,s){var o=nn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},js(t)?mf(r,s):(s=$l(t,r,s,o),s!==null&&(fe(s,t,o),pf(s,r,o)))}function Pr(t,r,s){var o=nn();Fr(t,r,s,o)}function Fr(t,r,s,o){var u={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(js(t))mf(r,u);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,E=d(v,s);if(u.hasEagerState=!0,u.eagerState=E,Zn(E,v))return Sa(t,r,u,0),Nt===null&&Hl(),!1}catch{}finally{}if(s=$l(t,r,u,o),s!==null)return fe(s,t,o),pf(s,r,o),!0}return!1}function yu(t,r,s,o){if(o={lane:2,revertLane:Yu(),action:o,hasEagerState:!1,eagerState:null,next:null},js(t)){if(r)throw Error(p(479))}else r=$l(t,s,o,2),r!==null&&fe(r,t,2)}function js(t){var r=t.alternate;return t===Ge||r!==null&&r===Ge}function mf(t,r){Ps=cu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function pf(t,r,s){if((s&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Lt(t,s)}}var dn={readContext:cn,use:ol,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},ue={readContext:cn,use:ol,useCallback:function(t,r){return kn().memoizedState=[t,r===void 0?null:r],t},useContext:cn,useEffect:uf,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Tt(4194308,4,hn.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Tt(4194308,4,t,r)},useInsertionEffect:function(t,r){Tt(4,2,t,r)},useMemo:function(t,r){var s=kn();r=r===void 0?null:r;var o=t();if(is){lr(!0);try{t()}finally{lr(!1)}}return s.memoizedState=[o,r],o},useReducer:function(t,r,s){var o=kn();if(s!==void 0){var u=s(r);if(is){lr(!0);try{s(r)}finally{lr(!1)}}}else u=r;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=Lr.bind(null,Ge,t),[o.memoizedState,t]},useRef:function(t){var r=kn();return t={current:t},r.memoizedState=t},useState:function(t){t=of(t);var r=t.queue,s=Pr.bind(null,Ge,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:pu,useDeferredValue:function(t,r){var s=kn();return Kn(s,t,r)},useTransition:function(){var t=of(!1);return t=cl.bind(null,Ge,t.queue,!0,!1),kn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var o=Ge,u=kn();if(st){if(s===void 0)throw Error(p(407));s=s()}else{if(s=r(),Nt===null)throw Error(p(349));(qe&124)!==0||Ze(o,r,s)}u.memoizedState=s;var d={value:s,getSnapshot:r};return u.queue=d,uf(tm.bind(null,o,d,t),[t]),o.flags|=2048,Ia(9,Ca(),ll.bind(null,o,d,s,r),null),s},useId:function(){var t=kn(),r=Nt.identifierPrefix;if(st){var s=Fe,o=Xr;s=(o&~(1<<32-rn(o)-1)).toString(32)+s,r=""+r+"R"+s,s=Ta++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=qg++,r=""+r+"r"+s.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:mi,useFormState:mu,useActionState:mu,useOptimistic:function(t){var r=kn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=yu.bind(null,Ge,!0,s),s.dispatch=r,[t,r]},useMemoCache:ss,useCacheRefresh:function(){return kn().memoizedState=xd.bind(null,Ge)}},bt={readContext:cn,use:ol,useCallback:ff,useContext:cn,useEffect:Js,useImperativeHandle:cf,useInsertionEffect:er,useLayoutEffect:Ke,useMemo:gi,useReducer:hu,useRef:fn,useState:function(){return hu(wa)},useDebugValue:pu,useDeferredValue:function(t,r){var s=Jt();return Qe(s,vt.memoizedState,t,r)},useTransition:function(){var t=hu(wa)[0],r=Jt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:sf,useId:gf,useHostTransitionStatus:mi,useFormState:os,useActionState:os,useOptimistic:function(t,r){var s=Jt();return V(s,vt,t,r)},useMemoCache:ss,useCacheRefresh:Cd},xt={readContext:cn,use:ol,useCallback:ff,useContext:cn,useEffect:Js,useImperativeHandle:cf,useInsertionEffect:er,useLayoutEffect:Ke,useMemo:gi,useReducer:af,useRef:fn,useState:function(){return af(wa)},useDebugValue:pu,useDeferredValue:function(t,r){var s=Jt();return vt===null?Kn(s,t,r):Qe(s,vt.memoizedState,t,r)},useTransition:function(){var t=af(wa)[0],r=Jt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:sf,useId:gf,useHostTransitionStatus:mi,useFormState:Na,useActionState:Na,useOptimistic:function(t,r){var s=Jt();return vt!==null?V(s,vt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ss,useCacheRefresh:Cd},xa=null,Da=0;function Qt(t){var r=Da;return Da+=1,xa===null&&(xa=[]),Sd(xa,t,r)}function pr(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function tr(t,r){throw r.$$typeof===N?Error(p(525)):(t=Object.prototype.toString.call(r),Error(p(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function pi(t){var r=t._init;return r(t._payload)}function yr(t){function r(Y,U){if(t){var z=Y.deletions;z===null?(Y.deletions=[U],Y.flags|=16):z.push(U)}}function s(Y,U){if(!t)return null;for(;U!==null;)r(Y,U),U=U.sibling;return null}function o(Y){for(var U=new Map;Y!==null;)Y.key!==null?U.set(Y.key,Y):U.set(Y.index,Y),Y=Y.sibling;return U}function u(Y,U){return Y=mr(Y,U),Y.index=0,Y.sibling=null,Y}function d(Y,U,z){return Y.index=z,t?(z=Y.alternate,z!==null?(z=z.index,z<U?(Y.flags|=67108866,U):z):(Y.flags|=67108866,U)):(Y.flags|=1048576,U)}function v(Y){return t&&Y.alternate===null&&(Y.flags|=67108866),Y}function E(Y,U,z,ee){return U===null||U.tag!==6?(U=_c(z,Y.mode,ee),U.return=Y,U):(U=u(U,z),U.return=Y,U)}function x(Y,U,z,ee){var be=z.type;return be===j?Q(Y,U,z.props.children,ee,z.key):U!==null&&(U.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Le&&pi(be)===U.type)?(U=u(U,z.props),pr(U,z),U.return=Y,U):(U=ql(z.type,z.key,z.props,null,Y.mode,ee),pr(U,z),U.return=Y,U)}function k(Y,U,z,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==z.containerInfo||U.stateNode.implementation!==z.implementation?(U=Yc(z,Y.mode,ee),U.return=Y,U):(U=u(U,z.children||[]),U.return=Y,U)}function Q(Y,U,z,ee,be){return U===null||U.tag!==7?(U=ii(z,Y.mode,ee,be),U.return=Y,U):(U=u(U,z),U.return=Y,U)}function re(Y,U,z){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=_c(""+U,Y.mode,z),U.return=Y,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return z=ql(U.type,U.key,U.props,null,Y.mode,z),pr(z,U),z.return=Y,z;case q:return U=Yc(U,Y.mode,z),U.return=Y,U;case Le:var ee=U._init;return U=ee(U._payload),re(Y,U,z)}if(it(U)||We(U))return U=ii(U,Y.mode,z,null),U.return=Y,U;if(typeof U.then=="function")return re(Y,Qt(U),z);if(U.$$typeof===se)return re(Y,_s(Y,U),z);tr(Y,U)}return null}function K(Y,U,z,ee){var be=U!==null?U.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return be!==null?null:E(Y,U,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case F:return z.key===be?x(Y,U,z,ee):null;case q:return z.key===be?k(Y,U,z,ee):null;case Le:return be=z._init,z=be(z._payload),K(Y,U,z,ee)}if(it(z)||We(z))return be!==null?null:Q(Y,U,z,ee,null);if(typeof z.then=="function")return K(Y,U,Qt(z),ee);if(z.$$typeof===se)return K(Y,U,_s(Y,z),ee);tr(Y,z)}return null}function P(Y,U,z,ee,be){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Y=Y.get(z)||null,E(U,Y,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case F:return Y=Y.get(ee.key===null?z:ee.key)||null,x(U,Y,ee,be);case q:return Y=Y.get(ee.key===null?z:ee.key)||null,k(U,Y,ee,be);case Le:var je=ee._init;return ee=je(ee._payload),P(Y,U,z,ee,be)}if(it(ee)||We(ee))return Y=Y.get(z)||null,Q(U,Y,ee,be,null);if(typeof ee.then=="function")return P(Y,U,z,Qt(ee),be);if(ee.$$typeof===se)return P(Y,U,z,_s(U,ee),be);tr(U,ee)}return null}function Ve(Y,U,z,ee){for(var be=null,je=null,Ie=U,De=U=0,wn=null;Ie!==null&&De<z.length;De++){Ie.index>De?(wn=Ie,Ie=null):wn=Ie.sibling;var dt=K(Y,Ie,z[De],ee);if(dt===null){Ie===null&&(Ie=wn);break}t&&Ie&&dt.alternate===null&&r(Y,Ie),U=d(dt,U,De),je===null?be=dt:je.sibling=dt,je=dt,Ie=wn}if(De===z.length)return s(Y,Ie),st&&ns(Y,De),be;if(Ie===null){for(;De<z.length;De++)Ie=re(Y,z[De],ee),Ie!==null&&(U=d(Ie,U,De),je===null?be=Ie:je.sibling=Ie,je=Ie);return st&&ns(Y,De),be}for(Ie=o(Ie);De<z.length;De++)wn=P(Ie,Y,De,z[De],ee),wn!==null&&(t&&wn.alternate!==null&&Ie.delete(wn.key===null?De:wn.key),U=d(wn,U,De),je===null?be=wn:je.sibling=wn,je=wn);return t&&Ie.forEach(function(bo){return r(Y,bo)}),st&&ns(Y,De),be}function xe(Y,U,z,ee){if(z==null)throw Error(p(151));for(var be=null,je=null,Ie=U,De=U=0,wn=null,dt=z.next();Ie!==null&&!dt.done;De++,dt=z.next()){Ie.index>De?(wn=Ie,Ie=null):wn=Ie.sibling;var bo=K(Y,Ie,dt.value,ee);if(bo===null){Ie===null&&(Ie=wn);break}t&&Ie&&bo.alternate===null&&r(Y,Ie),U=d(bo,U,De),je===null?be=bo:je.sibling=bo,je=bo,Ie=wn}if(dt.done)return s(Y,Ie),st&&ns(Y,De),be;if(Ie===null){for(;!dt.done;De++,dt=z.next())dt=re(Y,dt.value,ee),dt!==null&&(U=d(dt,U,De),je===null?be=dt:je.sibling=dt,je=dt);return st&&ns(Y,De),be}for(Ie=o(Ie);!dt.done;De++,dt=z.next())dt=P(Ie,Y,De,dt.value,ee),dt!==null&&(t&&dt.alternate!==null&&Ie.delete(dt.key===null?De:dt.key),U=d(dt,U,De),je===null?be=dt:je.sibling=dt,je=dt);return t&&Ie.forEach(function(av){return r(Y,av)}),st&&ns(Y,De),be}function It(Y,U,z,ee){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case F:e:{for(var be=z.key;U!==null;){if(U.key===be){if(be=z.type,be===j){if(U.tag===7){s(Y,U.sibling),ee=u(U,z.props.children),ee.return=Y,Y=ee;break e}}else if(U.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Le&&pi(be)===U.type){s(Y,U.sibling),ee=u(U,z.props),pr(ee,z),ee.return=Y,Y=ee;break e}s(Y,U);break}else r(Y,U);U=U.sibling}z.type===j?(ee=ii(z.props.children,Y.mode,ee,z.key),ee.return=Y,Y=ee):(ee=ql(z.type,z.key,z.props,null,Y.mode,ee),pr(ee,z),ee.return=Y,Y=ee)}return v(Y);case q:e:{for(be=z.key;U!==null;){if(U.key===be)if(U.tag===4&&U.stateNode.containerInfo===z.containerInfo&&U.stateNode.implementation===z.implementation){s(Y,U.sibling),ee=u(U,z.children||[]),ee.return=Y,Y=ee;break e}else{s(Y,U);break}else r(Y,U);U=U.sibling}ee=Yc(z,Y.mode,ee),ee.return=Y,Y=ee}return v(Y);case Le:return be=z._init,z=be(z._payload),It(Y,U,z,ee)}if(it(z))return Ve(Y,U,z,ee);if(We(z)){if(be=We(z),typeof be!="function")throw Error(p(150));return z=be.call(z),xe(Y,U,z,ee)}if(typeof z.then=="function")return It(Y,U,Qt(z),ee);if(z.$$typeof===se)return It(Y,U,_s(Y,z),ee);tr(Y,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,U!==null&&U.tag===6?(s(Y,U.sibling),ee=u(U,z),ee.return=Y,Y=ee):(s(Y,U),ee=_c(z,Y.mode,ee),ee.return=Y,Y=ee),v(Y)):s(Y,U)}return function(Y,U,z,ee){try{Da=0;var be=It(Y,U,z,ee);return xa=null,be}catch(Ie){if(Ie===ks||Ie===rl)throw Ie;var je=An(29,Ie,null,Y.mode);return je.lanes=ee,je.return=Y,je}finally{}}}var Hs=yr(!0),Dd=yr(!1),vr=$(null),Mr=null;function yi(t){var r=t.alternate;oe(St,St.current&1),oe(vr,t),Mr===null&&(r===null||hi.current!==null||r.memoizedState!==null)&&(Mr=t)}function yf(t){if(t.tag===22){if(oe(St,St.current),oe(vr,t),Mr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Mr=t)}}else Ct()}function Ct(){oe(St,St.current),oe(vr,vr.current)}function Dn(t){ce(vr),Mr===t&&(Mr=null),ce(St)}var St=$(0);function vu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||jf(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function qt(t,r,s,o){r=t.memoizedState,s=s(o,r),s=s==null?r:_({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Jr={enqueueSetState:function(t,r,s){t=t._reactInternals;var o=nn(),u=zn(o);u.payload=r,s!=null&&(u.callback=s),r=fi(t,u,o),r!==null&&(fe(r,t,o),Ks(r,t,o))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var o=nn(),u=zn(o);u.tag=1,u.payload=r,s!=null&&(u.callback=s),r=fi(t,u,o),r!==null&&(fe(r,t,o),Ks(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=nn(),o=zn(s);o.tag=2,r!=null&&(o.callback=r),r=fi(t,o,s),r!==null&&(fe(r,t,s),Ks(r,t,s))}};function ls(t,r,s,o,u,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):r.prototype&&r.prototype.isPureReactComponent?!Fo(s,o)||!Fo(u,d):!0}function Oa(t,r,s,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==t&&Jr.enqueueReplaceState(r,r.state,null)}function On(t,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(t=t.defaultProps){s===r&&(s=_({},s));for(var u in t)s[u]===void 0&&(s[u]=t[u])}return s}var Pn=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function vf(t){Pn(t)}function us(t){console.error(t)}function jr(t){Pn(t)}function vi(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function Vn(t,r,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Hr(t,r,s){return s=zn(s),s.tag=3,s.payload={element:null},s.callback=function(){vi(t,r)},s}function $s(t){return t=zn(t),t.tag=3,t}function Od(t,r,s,o){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var d=o.value;t.payload=function(){return u(d)},t.callback=function(){Vn(r,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Vn(r,s,o),typeof u!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function rm(t,r,s,o,u){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&el(r,s,u,!0),s=vr.current,s!==null){switch(s.tag){case 13:return Mr===null?rt():s.alternate===null&&Dt===0&&(Dt=3),s.flags&=-257,s.flags|=65536,s.lanes=u,o===su?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),Zf(t,o,u)),!1;case 22:return s.flags|=65536,o===su?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),Zf(t,o,u)),!1}throw Error(p(435,s.tag))}return Zf(t,o,u),rt(),!1}if(st)return r=vr.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=u,o!==Gc&&(t=Error(p(422),{cause:o}),qo(gr(t,s)))):(o!==Gc&&(r=Error(p(423),{cause:o}),qo(gr(r,s))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=gr(o,s),u=Hr(t.stateNode,o,u),jc(t,u),Dt!==4&&(Dt=2)),!1;var d=Error(p(520),{cause:o});if(d=gr(d,s),io===null?io=[d]:io.push(d),Dt!==4&&(Dt=2),r===null)return!0;o=gr(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=u&-u,s.lanes|=t,t=Hr(s.stateNode,o,t),jc(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return s.flags|=65536,u&=-u,s.lanes|=u,u=$s(u),Od(u,t,s,o),jc(s,u),!1}s=s.return}while(s!==null);return!1}var _r=Error(p(461)),Zt=!1;function gn(t,r,s,o){r.child=t===null?Dd(r,null,s,o):Hs(r,t.child,s,o)}function Vd(t,r,s,o,u){s=s.render;var d=r.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return ui(r),o=qc(t,r,s,v,d,u),E=fu(),t!==null&&!Zt?(ef(t,r,u),Va(t,r,u)):(st&&E&&Zc(r),r.flags|=1,gn(t,r,o,u),r.child)}function Gt(t,r,s,o,u){if(t===null){var d=s.type;return typeof d=="function"&&!Ho(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,bf(t,r,d,o,u)):(t=ql(s.type,null,o,r,r.mode,u),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!bi(t,u)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Fo,s(v,o)&&t.ref===r.ref)return Va(t,r,u)}return r.flags|=1,t=mr(d,o),t.ref=r.ref,t.return=r,r.child=t}function bf(t,r,s,o,u){if(t!==null){var d=t.memoizedProps;if(Fo(d,o)&&t.ref===r.ref)if(Zt=!1,r.pendingProps=o=d,bi(t,u))(t.flags&131072)!==0&&(Zt=!0);else return r.lanes=t.lanes,Va(t,r,u)}return bu(t,r,s,o,u)}function Sf(t,r,s){var o=r.pendingProps,u=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,t!==null){for(u=r.child=t.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;r.childLanes=d&~o}else r.childLanes=0,r.child=null;return fl(t,r,o,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&nl(r,d!==null?d.cachePool:null),d!==null?Rd(r,d):Hc(),yf(r);else return r.lanes=r.childLanes=536870912,fl(t,r,d!==null?d.baseLanes|s:s,s)}else d!==null?(nl(r,d.cachePool),Rd(r,d),Ct(),r.memoizedState=null):(t!==null&&nl(r,null),Hc(),Ct());return gn(t,r,u,s),r.child}function fl(t,r,s,o){var u=iu();return u=u===null?null:{parent:Pt._currentValue,pool:u},r.memoizedState={baseLanes:s,cachePool:u},t!==null&&nl(r,null),Hc(),yf(r),t!==null&&el(t,r,o,!0),null}function Qs(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(p(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function bu(t,r,s,o,u){return ui(r),s=qc(t,r,s,o,void 0,u),o=fu(),t!==null&&!Zt?(ef(t,r,u),Va(t,r,u)):(st&&o&&Zc(r),r.flags|=1,gn(t,r,s,u),r.child)}function Bd(t,r,s,o,u,d){return ui(r),r.updateQueue=null,s=wd(r,o,s,u),Td(t),o=fu(),t!==null&&!Zt?(ef(t,r,d),Va(t,r,d)):(st&&o&&Zc(r),r.flags|=1,gn(t,r,s,d),r.child)}function Ud(t,r,s,o,u){if(ui(r),r.stateNode===null){var d=Bs,v=s.contextType;typeof v=="object"&&v!==null&&(d=cn(v)),d=new s(o,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jr,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=o,d.state=r.memoizedState,d.refs={},Jc(r),v=s.contextType,d.context=typeof v=="object"&&v!==null?cn(v):Bs,d.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(qt(r,s,v,o),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Jr.enqueueReplaceState(d,d.state,null),il(r,o,d,u),al(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){d=r.stateNode;var E=r.memoizedProps,x=On(s,E);d.props=x;var k=d.context,Q=s.contextType;v=Bs,typeof Q=="object"&&Q!==null&&(v=cn(Q));var re=s.getDerivedStateFromProps;Q=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||k!==v)&&Oa(r,d,o,v),Ra=!1;var K=r.memoizedState;d.state=K,il(r,o,d,u),al(),k=r.memoizedState,E||K!==k||Ra?(typeof re=="function"&&(qt(r,s,re,o),k=r.memoizedState),(x=Ra||ls(r,s,x,o,K,k,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=k),d.props=o,d.state=k,d.context=v,o=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{d=r.stateNode,lu(t,r),v=r.memoizedProps,Q=On(s,v),d.props=Q,re=r.pendingProps,K=d.context,k=s.contextType,x=Bs,typeof k=="object"&&k!==null&&(x=cn(k)),E=s.getDerivedStateFromProps,(k=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==re||K!==x)&&Oa(r,d,o,x),Ra=!1,K=r.memoizedState,d.state=K,il(r,o,d,u),al();var P=r.memoizedState;v!==re||K!==P||Ra||t!==null&&t.dependencies!==null&&au(t.dependencies)?(typeof E=="function"&&(qt(r,s,E,o),P=r.memoizedState),(Q=Ra||ls(r,s,Q,o,K,P,x)||t!==null&&t.dependencies!==null&&au(t.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,P,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,P,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=P),d.props=o,d.state=P,d.context=x,o=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),o=!1)}return d=o,Qs(t,r),o=(r.flags&128)!==0,d||o?(d=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&o?(r.child=Hs(r,t.child,null,u),r.child=Hs(r,null,s,u)):gn(t,r,s,u),r.memoizedState=d.state,t=r.child):t=Va(t,r,u),t}function br(t,r,s,o){return Ms(),r.flags|=256,gn(t,r,s,o),r.child}var en={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bn(t){return{baseLanes:t,cachePool:vd()}}function hl(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Ar),t}function Su(t,r,s){var o=r.pendingProps,u=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(u=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(st){if(u?yi(r):Ct(),st){var E=Yt,x;if(x=E){e:{for(x=E,E=Dr;x.nodeType!==8;){if(!E){E=null;break e}if(x=Rr(x.nextSibling),x===null){E=null;break e}}E=x}E!==null?(r.memoizedState={dehydrated:E,treeContext:si!==null?{id:Xr,overflow:Fe}:null,retryLane:536870912,hydrationErrors:null},x=An(18,null,null,0),x.stateNode=E,x.return=r,r.child=x,Cn=r,Yt=null,x=!0):x=!1}x||Or(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return jf(E)?r.lanes=32:r.lanes=536870912,null;Dn(r)}return E=o.children,o=o.fallback,u?(Ct(),u=r.mode,E=Rn({mode:"hidden",children:E},u),o=ii(o,u,s,null),E.return=r,o.return=r,E.sibling=o,r.child=E,u=r.child,u.memoizedState=Bn(s),u.childLanes=hl(t,v,s),r.memoizedState=en,o):(yi(r),Au(r,E))}if(x=t.memoizedState,x!==null&&(E=x.dehydrated,E!==null)){if(d)r.flags&256?(yi(r),r.flags&=-257,r=cs(t,r,s)):r.memoizedState!==null?(Ct(),r.child=t.child,r.flags|=128,r=null):(Ct(),u=o.fallback,E=r.mode,o=Rn({mode:"visible",children:o.children},E),u=ii(u,E,s,null),u.flags|=2,o.return=r,u.return=r,o.sibling=u,r.child=o,Hs(r,t.child,null,s),o=r.child,o.memoizedState=Bn(s),o.childLanes=hl(t,v,s),r.memoizedState=en,r=u);else if(yi(r),jf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var k=v.dgst;v=k,o=Error(p(419)),o.stack="",o.digest=v,qo({value:o,source:null,stack:null}),r=cs(t,r,s)}else if(Zt||el(t,r,s,!1),v=(s&t.childLanes)!==0,Zt||v){if(v=Nt,v!==null&&(o=s&-s,o=(o&42)!==0?1:kt(o),o=(o&(v.suspendedLanes|s))!==0?0:o,o!==0&&o!==x.retryLane))throw x.retryLane=o,Vs(t,o),fe(v,t,o),_r;E.data==="$?"||rt(),r=cs(t,r,s)}else E.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=x.treeContext,Yt=Rr(E.nextSibling),Cn=r,st=!0,oi=null,Dr=!1,t!==null&&(qn[Gn++]=Xr,qn[Gn++]=Fe,qn[Gn++]=si,Xr=t.id,Fe=t.overflow,si=r),r=Au(r,o.children),r.flags|=4096);return r}return u?(Ct(),u=o.fallback,E=r.mode,x=t.child,k=x.sibling,o=mr(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,k!==null?u=mr(k,u):(u=ii(u,E,s,null),u.flags|=2),u.return=r,o.return=r,o.sibling=u,r.child=o,o=u,u=r.child,E=t.child.memoizedState,E===null?E=Bn(s):(x=E.cachePool,x!==null?(k=Pt._currentValue,x=x.parent!==k?{parent:k,pool:k}:x):x=vd(),E={baseLanes:E.baseLanes|s,cachePool:x}),u.memoizedState=E,u.childLanes=hl(t,v,s),r.memoizedState=en,o):(yi(r),s=t.child,t=s.sibling,s=mr(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=s,r.memoizedState=null,s)}function Au(t,r){return r=Rn({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Rn(t,r){return t=An(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cs(t,r,s){return Hs(r,t.child,null,s),t=Au(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function fs(t,r,s){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),kc(t.return,r,s)}function Eu(t,r,s,o,u){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:u}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=u)}function Sr(t,r,s){var o=r.pendingProps,u=o.revealOrder,d=o.tail;if(gn(t,r,o.children,s),o=St.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fs(t,s,r);else if(t.tag===19)fs(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(oe(St,o),u){case"forwards":for(s=r.child,u=null;s!==null;)t=s.alternate,t!==null&&vu(t)===null&&(u=s),s=s.sibling;s=u,s===null?(u=r.child,r.child=null):(u=s.sibling,s.sibling=null),Eu(r,!1,u,s,d);break;case"backwards":for(s=null,u=r.child,r.child=null;u!==null;){if(t=u.alternate,t!==null&&vu(t)===null){r.child=u;break}t=u.sibling,u.sibling=s,s=u,u=t}Eu(r,!0,s,null,d);break;case"together":Eu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Va(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),na|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(el(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(p(153));if(r.child!==null){for(t=r.child,s=mr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=mr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function bi(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&au(t)))}function Ru(t,r,s){switch(r.tag){case 3:$e(r,r.stateNode.containerInfo),li(r,Pt,t.memoizedState.cache),Ms();break;case 27:case 5:ca(r);break;case 4:$e(r,r.stateNode.containerInfo);break;case 10:li(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(yi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Su(t,r,s):(yi(r),t=Va(t,r,s),t!==null?t.sibling:null);yi(r);break;case 19:var u=(t.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(el(t,r,s,!1),o=(s&r.childLanes)!==0),u){if(o)return Sr(t,r,s);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),oe(St,St.current),o)break;return null;case 22:case 23:return r.lanes=0,Sf(t,r,s);case 24:li(r,Pt,t.memoizedState.cache)}return Va(t,r,s)}function hs(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Zt=!0;else{if(!bi(t,s)&&(r.flags&128)===0)return Zt=!1,Ru(t,r,s);Zt=(t.flags&131072)!==0}else Zt=!1,st&&(r.flags&1048576)!==0&&gd(r,tu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,u=o._init;if(o=u(o._payload),r.type=o,typeof o=="function")Ho(o)?(t=On(o,t),r.tag=1,r=Ud(null,r,o,t,s)):(r.tag=0,r=bu(null,r,o,t,s));else{if(o!=null){if(u=o.$$typeof,u===we){r.tag=11,r=Vd(null,r,o,t,s);break e}else if(u===et){r.tag=14,r=Gt(null,r,o,t,s);break e}}throw r=Ir(o)||o,Error(p(306,r,""))}}return r;case 0:return bu(t,r,r.type,r.pendingProps,s);case 1:return o=r.type,u=On(o,r.pendingProps),Ud(t,r,o,u,s);case 3:e:{if($e(r,r.stateNode.containerInfo),t===null)throw Error(p(387));o=r.pendingProps;var d=r.memoizedState;u=d.element,lu(t,r),il(r,o,null,s);var v=r.memoizedState;if(o=v.cache,li(r,Pt,o),o!==d.cache&&ru(r,[Pt],s,!0),al(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=br(t,r,o,s);break e}else if(o!==u){u=gr(Error(p(424)),r),qo(u),r=br(t,r,o,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Yt=Rr(t.firstChild),Cn=r,st=!0,oi=null,Dr=!0,s=Dd(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ms(),o===u){r=Va(t,r,s);break e}gn(t,r,o,s)}r=r.child}return r;case 26:return Qs(t,r),t===null?(s=i(r.type,null,r.pendingProps,null))?r.memoizedState=s:st||(s=r.type,t=r.pendingProps,o=Sl(ve.current).createElement(s),o[_t]=r,o[ct]=t,un(o,s,t),Xt(o),r.stateNode=o):r.memoizedState=i(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ca(r),t===null&&st&&(o=r.stateNode=cg(r.type,r.pendingProps,ve.current),Cn=r,Dr=!0,u=Yt,yn(r.type)?(ho=u,Yt=Rr(o.firstChild)):Yt=u),gn(t,r,r.pendingProps.children,s),Qs(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&st&&((u=o=Yt)&&(o=Sm(o,r.type,r.pendingProps,Dr),o!==null?(r.stateNode=o,Cn=r,Yt=Rr(o.firstChild),Dr=!1,u=!0):u=!1),u||Or(r)),ca(r),u=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,ag(u,d)?o=null:v!==null&&ag(u,v)&&(r.flags|=32),r.memoizedState!==null&&(u=qc(t,r,em,null,null,s),go._currentValue=u),Qs(t,r),gn(t,r,o,s),r.child;case 6:return t===null&&st&&((t=s=Yt)&&(s=Am(s,r.pendingProps,Dr),s!==null?(r.stateNode=s,Cn=r,Yt=null,t=!0):t=!1),t||Or(r)),null;case 13:return Su(t,r,s);case 4:return $e(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Hs(r,null,o,s):gn(t,r,o,s),r.child;case 11:return Vd(t,r,r.type,r.pendingProps,s);case 7:return gn(t,r,r.pendingProps,s),r.child;case 8:return gn(t,r,r.pendingProps.children,s),r.child;case 12:return gn(t,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,li(r,r.type,o.value),gn(t,r,o.children,s),r.child;case 9:return u=r.type._context,o=r.pendingProps.children,ui(r),u=cn(u),o=o(u),r.flags|=1,gn(t,r,o,s),r.child;case 14:return Gt(t,r,r.type,r.pendingProps,s);case 15:return bf(t,r,r.type,r.pendingProps,s);case 19:return Sr(t,r,s);case 31:return o=r.pendingProps,s=r.mode,o={mode:o.mode,children:o.children},t===null?(s=Rn(o,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=mr(t.child,o),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return Sf(t,r,s);case 24:return ui(r),o=cn(Pt),t===null?(u=iu(),u===null&&(u=Nt,d=Kc(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=s),u=d),r.memoizedState={parent:o,cache:u},Jc(r),li(r,Pt,u)):((t.lanes&s)!==0&&(lu(t,r),il(r,null,null,s),al()),u=t.memoizedState,d=r.memoizedState,u.parent!==o?(u={parent:o,cache:o},r.memoizedState=u,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=u),li(r,Pt,o)):(o=d.cache,li(r,Pt,o),o!==u.cache&&ru(r,[Pt],s,!0))),gn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(p(156,r.tag))}function Ba(t){t.flags|=4}function Af(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!at(r)){if(r=vr.current,r!==null&&((qe&4194048)===qe?Mr!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==Mr))throw Ws=su,bd;t.flags|=8192}}function nr(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ul():536870912,t.lanes|=r,ao|=r)}function on(t,r){if(!st)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function At(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(r)for(var u=t.child;u!==null;)s|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)s|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=s,r}function Ua(t,r,s){var o=r.pendingProps;switch(nu(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return s=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ea(Pt),ge(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Qo(r)?Ba(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,rs())),At(r),null;case 26:return s=r.memoizedState,t===null?(Ba(r),s!==null?(At(r),Af(r,s)):(At(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Ba(r),At(r),Af(r,s)):(At(r),r.flags&=-16777217):(t.memoizedProps!==o&&Ba(r),At(r),r.flags&=-16777217),null;case 27:Yi(r),s=ve.current;var u=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Ba(r);else{if(!o){if(r.stateNode===null)throw Error(p(166));return At(r),null}t=ye.current,Qo(r)?md(r):(t=cg(u,o,s),r.stateNode=t,Ba(r))}return At(r),null;case 5:if(Yi(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Ba(r);else{if(!o){if(r.stateNode===null)throw Error(p(166));return At(r),null}if(t=ye.current,Qo(r))md(r);else{switch(u=Sl(ve.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?u.createElement(s,{is:o.is}):u.createElement(s)}}t[_t]=r,t[ct]=o;e:for(u=r.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break e;for(;u.sibling===null;){if(u.return===null||u.return===r)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r.stateNode=t;e:switch(un(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ba(r)}}return At(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Ba(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(p(166));if(t=ve.current,Qo(r)){if(t=r.stateNode,s=r.memoizedProps,o=null,u=Cn,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[_t]=r,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||ng(t.nodeValue,s)),t||Or(r)}else t=Sl(t).createTextNode(o),t[_t]=r,r.stateNode=t}return At(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Qo(r),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(p(318));if(u=r.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(p(317));u[_t]=r}else Ms(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),u=!1}else u=rs(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return r.flags&256?(Dn(r),r):(Dn(r),null)}if(Dn(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=r.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),nr(r,r.updateQueue),At(r),null;case 4:return ge(),t===null&&vl(r.stateNode.containerInfo),At(r),null;case 10:return Ea(r.type),At(r),null;case 19:if(ce(St),u=r.memoizedState,u===null)return At(r),null;if(o=(r.flags&128)!==0,d=u.rendering,d===null)if(o)on(u,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=vu(t),d!==null){for(r.flags|=128,on(u,!1),t=d.updateQueue,r.updateQueue=t,nr(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)$o(s,t),s=s.sibling;return oe(St,St.current&1|2),r.child}t=t.sibling}u.tail!==null&&bn()>xu&&(r.flags|=128,o=!0,on(u,!1),r.lanes=4194304)}else{if(!o)if(t=vu(d),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,nr(r,t),on(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!st)return At(r),null}else 2*bn()-u.renderingStartTime>xu&&s!==536870912&&(r.flags|=128,o=!0,on(u,!1),r.lanes=4194304);u.isBackwards?(d.sibling=r.child,r.child=d):(t=u.last,t!==null?t.sibling=d:r.child=d,u.last=d)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=bn(),r.sibling=null,t=St.current,oe(St,o?t&1|2:t&1),r):(At(r),null);case 22:case 23:return Dn(r),$c(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),s=r.updateQueue,s!==null&&nr(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),t!==null&&ce(ci),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Ea(Pt),At(r),null;case 25:return null;case 30:return null}throw Error(p(156,r.tag))}function La(t,r){switch(nu(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ea(Pt),ge(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Yi(r),null;case 13:if(Dn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(p(340));Ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ce(St),null;case 4:return ge(),null;case 10:return Ea(r.type),null;case 22:case 23:return Dn(r),$c(),t!==null&&ce(ci),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ea(Pt),null;case 25:return null;default:return null}}function Ld(t,r){switch(nu(r),r.tag){case 3:Ea(Pt),ge();break;case 26:case 27:case 5:Yi(r);break;case 4:ge();break;case 13:Dn(r);break;case 19:ce(St);break;case 10:Ea(r.type);break;case 22:case 23:Dn(r),$c(),t!==null&&ce(ci);break;case 24:Ea(Pt)}}function dl(t,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&t)===t){o=void 0;var d=s.create,v=s.inst;o=d(),v.destroy=o}s=s.next}while(s!==u)}}catch(E){Et(r,r.return,E)}}function Si(t,r,s){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,u=r;var x=s,k=E;try{k()}catch(Q){Et(u,x,Q)}}}o=o.next}while(o!==d)}}catch(Q){Et(r,r.return,Q)}}function Tu(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{uu(r,s)}catch(o){Et(t,t.return,o)}}}function Re(t,r,s){s.props=On(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Et(t,r,o)}}function ds(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(u){Et(t,r,u)}}function Yr(t,r){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(u){Et(t,r,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Et(t,r,u)}else s.current=null}function Ef(t){var r=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(u){Et(t,t.return,u)}}function qs(t,r,s){try{var o=t.stateNode;ym(o,t.type,s,r),o[ct]=r}catch(u){Et(t,t.return,u)}}function Md(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&yn(t.type)||t.tag===4}function eo(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Md(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&yn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function to(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=zu));else if(o!==4&&(o===27&&yn(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(to(t,r,s),t=t.sibling;t!==null;)to(t,r,s),t=t.sibling}function Ai(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(o!==4&&(o===27&&yn(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ai(t,r,s),t=t.sibling;t!==null;)Ai(t,r,s),t=t.sibling}function wu(t){var r=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,u=r.attributes;u.length;)r.removeAttributeNode(u[0]);un(r,o,s),r[_t]=t,r[ct]=s}catch(d){Et(t,t.return,d)}}var Ma=!1,Kt=!1,Rf=!1,_d=typeof WeakSet=="function"?WeakSet:Set,ln=null;function am(t,r){if(t=t.containerInfo,Xf=mg,t=ld(t),Vc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var u=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,E=-1,x=-1,k=0,Q=0,re=t,K=null;t:for(;;){for(var P;re!==s||u!==0&&re.nodeType!==3||(E=v+u),re!==d||o!==0&&re.nodeType!==3||(x=v+o),re.nodeType===3&&(v+=re.nodeValue.length),(P=re.firstChild)!==null;)K=re,re=P;for(;;){if(re===t)break t;if(K===s&&++k===u&&(E=v),K===d&&++Q===o&&(x=v),(P=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=P}s=E===-1||x===-1?null:{start:E,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(ku={focusedElem:t,selectionRange:s},mg=!1,ln=r;ln!==null;)if(r=ln,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,ln=t;else for(;ln!==null;){switch(r=ln,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,u=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Ve=On(s.type,u,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Ve,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(xe){Et(s,s.return,xe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Wu(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(p(163))}if(t=r.sibling,t!==null){t.return=r.return,ln=t;break}ln=r.return}}function Yd(t,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Qr(t,s),o&4&&dl(5,s);break;case 1:if(Qr(t,s),o&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(v){Et(s,s.return,v)}else{var u=On(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(u,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Et(s,s.return,v)}}o&64&&Tu(s),o&512&&ds(s,s.return);break;case 3:if(Qr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{uu(t,r)}catch(v){Et(s,s.return,v)}}break;case 27:r===null&&o&4&&wu(s);case 26:case 5:Qr(t,s),r===null&&o&4&&Ef(s),o&512&&ds(s,s.return);break;case 12:Qr(t,s);break;case 13:Qr(t,s),o&4&&zd(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=fm.bind(null,s),lg(t,s))));break;case 22:if(o=s.memoizedState!==null||Ma,!o){r=r!==null&&r.memoizedState!==null||Kt,u=Ma;var d=Kt;Ma=o,(Kt=r)&&!d?qr(t,s,(s.subtreeFlags&8772)!==0):Qr(t,s),Ma=u,Kt=d}break;case 30:break;default:Qr(t,s)}}function Zd(t){var r=t.alternate;r!==null&&(t.alternate=null,Zd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&cc(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,Fn=!1;function $r(t,r,s){for(s=s.child;s!==null;)Gd(t,r,s),s=s.sibling}function Gd(t,r,s){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(or,s)}catch{}switch(s.tag){case 26:Kt||Yr(s,r),$r(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Kt||Yr(s,r);var o=wt,u=Fn;yn(s.type)&&(wt=s.stateNode,Fn=!1),$r(t,r,s),Al(s.stateNode),wt=o,Fn=u;break;case 5:Kt||Yr(s,r);case 6:if(o=wt,u=Fn,wt=null,$r(t,r,s),wt=o,Fn=u,wt!==null)if(Fn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(s.stateNode)}catch(d){Et(s,r,d)}else try{wt.removeChild(s.stateNode)}catch(d){Et(s,r,d)}break;case 18:wt!==null&&(Fn?(t=wt,Jf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),qf(t)):Jf(wt,s.stateNode));break;case 4:o=wt,u=Fn,wt=s.stateNode.containerInfo,Fn=!0,$r(t,r,s),wt=o,Fn=u;break;case 0:case 11:case 14:case 15:Kt||Si(2,s,r),Kt||Si(4,s,r),$r(t,r,s);break;case 1:Kt||(Yr(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Re(s,r,o)),$r(t,r,s);break;case 21:$r(t,r,s);break;case 22:Kt=(o=Kt)||s.memoizedState!==null,$r(t,r,s),Kt=o;break;default:$r(t,r,s)}}function zd(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qf(t)}catch(s){Et(r,r.return,s)}}function im(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new _d),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new _d),r;default:throw Error(p(435,t.tag))}}function Nu(t,r){var s=im(t);r.forEach(function(o){var u=hm.bind(null,t,o);s.has(o)||(s.add(o),o.then(u,u))})}function Un(t,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var u=s[o],d=t,v=r,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(yn(E.type)){wt=E.stateNode,Fn=!1;break e}break;case 5:wt=E.stateNode,Fn=!1;break e;case 3:case 4:wt=E.stateNode.containerInfo,Fn=!0;break e}E=E.return}if(wt===null)throw Error(p(160));Gd(d,v,u),wt=null,Fn=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)kd(r,t),r=r.sibling}var Zr=null;function kd(t,r){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Un(r,t),mn(t),o&4&&(Si(3,t,t.return),dl(3,t),Si(5,t,t.return));break;case 1:Un(r,t),mn(t),o&512&&(Kt||s===null||Yr(s,s.return)),o&64&&Ma&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var u=Zr;if(Un(r,t),mn(t),o&512&&(Kt||s===null||Yr(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":d=u.getElementsByTagName("title")[0],(!d||d[Ki]||d[_t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(o),u.head.insertBefore(d,u.querySelector("head > title"))),un(d,o,s),d[_t]=t,Xt(d),o=d;break e;case"link":var v=ae("link","href",u).get(o+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break t}}d=u.createElement(o),un(d,o,s),u.head.appendChild(d);break;case"meta":if(v=ae("meta","content",u).get(o+(s.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break t}}d=u.createElement(o),un(d,o,s),u.head.appendChild(d);break;default:throw Error(p(468,o))}d[_t]=t,Xt(d),o=d}t.stateNode=o}else pe(u,t.type,t.stateNode);else t.stateNode=C(u,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?pe(u,t.type,t.stateNode):C(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&qs(t,t.memoizedProps,s.memoizedProps)}break;case 27:Un(r,t),mn(t),o&512&&(Kt||s===null||Yr(s,s.return)),s!==null&&o&4&&qs(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Un(r,t),mn(t),o&512&&(Kt||s===null||Yr(s,s.return)),t.flags&32){u=t.stateNode;try{ti(u,"")}catch(P){Et(t,t.return,P)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,qs(t,u,s!==null?s.memoizedProps:u)),o&1024&&(Rf=!0);break;case 6:if(Un(r,t),mn(t),o&4){if(t.stateNode===null)throw Error(p(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(P){Et(t,t.return,P)}}break;case 3:if(ne=null,u=Zr,Zr=Ku(r.containerInfo),Un(r,t),Zr=u,mn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{qf(r.containerInfo)}catch(P){Et(t,t.return,P)}Rf&&(Rf=!1,gs(t));break;case 4:o=Zr,Zr=Ku(t.stateNode.containerInfo),Un(r,t),mn(t),Zr=o;break;case 12:Un(r,t),mn(t);break;case 13:Un(r,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Cf=bn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nu(t,o)));break;case 22:u=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,k=Ma,Q=Kt;if(Ma=k||u,Kt=Q||x,Un(r,t),Kt=Q,Ma=k,mn(t),o&8192)e:for(r=t.stateNode,r._visibility=u?r._visibility&-2:r._visibility|1,u&&(s===null||x||Ma||Kt||Ei(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){x=s=r;try{if(d=x.stateNode,u)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=x.stateNode;var re=x.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;E.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(P){Et(x,x.return,P)}}}else if(r.tag===6){if(s===null){x=r;try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(P){Et(x,x.return,P)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Nu(t,s))));break;case 19:Un(r,t),mn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nu(t,o)));break;case 30:break;case 21:break;default:Un(r,t),mn(t)}}function mn(t){var r=t.flags;if(r&2){try{for(var s,o=t.return;o!==null;){if(Md(o)){s=o;break}o=o.return}if(s==null)throw Error(p(160));switch(s.tag){case 27:var u=s.stateNode,d=eo(t);Ai(t,d,u);break;case 5:var v=s.stateNode;s.flags&32&&(ti(v,""),s.flags&=-33);var E=eo(t);Ai(t,E,v);break;case 3:case 4:var x=s.stateNode.containerInfo,k=eo(t);to(t,k,x);break;default:throw Error(p(161))}}catch(Q){Et(t,t.return,Q)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function gs(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;gs(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Qr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Yd(t,r.alternate,r),r=r.sibling}function Ei(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Si(4,r,r.return),Ei(r);break;case 1:Yr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Re(r,r.return,s),Ei(r);break;case 27:Al(r.stateNode);case 26:case 5:Yr(r,r.return),Ei(r);break;case 22:r.memoizedState===null&&Ei(r);break;case 30:Ei(r);break;default:Ei(r)}t=t.sibling}}function qr(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,u=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:qr(u,d,s),dl(4,d);break;case 1:if(qr(u,d,s),o=d,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){Et(o,o.return,k)}if(o=d,u=o.updateQueue,u!==null){var E=o.stateNode;try{var x=u.shared.hiddenCallbacks;if(x!==null)for(u.shared.hiddenCallbacks=null,u=0;u<x.length;u++)Ed(x[u],E)}catch(k){Et(o,o.return,k)}}s&&v&64&&Tu(d),ds(d,d.return);break;case 27:wu(d);case 26:case 5:qr(u,d,s),s&&o===null&&v&4&&Ef(d),ds(d,d.return);break;case 12:qr(u,d,s);break;case 13:qr(u,d,s),s&&v&4&&zd(u,d);break;case 22:d.memoizedState===null&&qr(u,d,s),ds(d,d.return);break;case 30:break;default:qr(u,d,s)}r=r.sibling}}function Te(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&tl(s))}function gl(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&tl(t))}function ea(t,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Wd(t,r,s,o),r=r.sibling}function Wd(t,r,s,o){var u=r.flags;switch(r.tag){case 0:case 11:case 15:ea(t,r,s,o),u&2048&&dl(9,r);break;case 1:ea(t,r,s,o);break;case 3:ea(t,r,s,o),u&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&tl(t)));break;case 12:if(u&2048){ea(t,r,s,o),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Et(r,r.return,x)}}else ea(t,r,s,o);break;case 13:ea(t,r,s,o);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ea(t,r,s,o):Ri(t,r):d._visibility&2?ea(t,r,s,o):(d._visibility|=2,ms(t,r,s,o,(r.subtreeFlags&10256)!==0)),u&2048&&Te(v,r);break;case 24:ea(t,r,s,o),u&2048&&gl(r.alternate,r);break;default:ea(t,r,s,o)}}function ms(t,r,s,o,u){for(u=u&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,E=s,x=o,k=v.flags;switch(v.tag){case 0:case 11:case 15:ms(d,v,E,x,u),dl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?ms(d,v,E,x,u):Ri(d,v):(Q._visibility|=2,ms(d,v,E,x,u)),u&&k&2048&&Te(v.alternate,v);break;case 24:ms(d,v,E,x,u),u&&k&2048&&gl(v.alternate,v);break;default:ms(d,v,E,x,u)}r=r.sibling}}function Ri(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,o=r,u=o.flags;switch(o.tag){case 22:Ri(s,o),u&2048&&Te(o.alternate,o);break;case 24:Ri(s,o),u&2048&&gl(o.alternate,o);break;default:Ri(s,o)}r=r.sibling}}var Ti=8192;function _a(t){if(t.subtreeFlags&Ti)for(t=t.child;t!==null;)Tf(t),t=t.sibling}function Tf(t){switch(t.tag){case 26:_a(t),t.flags&Ti&&t.memoizedState!==null&&vn(Zr,t.memoizedState,t.memoizedProps);break;case 5:_a(t);break;case 3:case 4:var r=Zr;Zr=Ku(t.stateNode.containerInfo),_a(t),Zr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ti,Ti=16777216,_a(t),Ti=r):_a(t));break;default:_a(t)}}function Kd(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ta(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];ln=o,Cu(o,t)}Kd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)no(t),t=t.sibling}function no(t){switch(t.tag){case 0:case 11:case 15:ta(t),t.flags&2048&&Si(9,t,t.return);break;case 3:ta(t);break;case 12:ta(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Iu(t)):ta(t);break;default:ta(t)}}function Iu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];ln=o,Cu(o,t)}Kd(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Si(8,r,r.return),Iu(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Iu(r));break;default:Iu(r)}t=t.sibling}}function Cu(t,r){for(;ln!==null;){var s=ln;switch(s.tag){case 0:case 11:case 15:Si(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ln=o;else e:for(s=t;ln!==null;){o=ln;var u=o.sibling,d=o.return;if(Zd(o),o===s){ln=null;break e}if(u!==null){u.return=d,ln=u;break e}ln=d}}}var sm={getCacheForType:function(t){var r=cn(Pt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},om=typeof WeakMap=="function"?WeakMap:Map,ft=0,Nt=null,Xe=null,qe=0,gt=0,Jn=null,Ya=!1,ro=!1,wf=!1,Za=0,Dt=0,na=0,ps=0,Nf=0,Ar=0,ao=0,io=null,Ln=null,If=!1,Cf=0,xu=1/0,Du=null,Gr=null,tn=0,ra=null,so=null,Ga=0,xf=0,Df=null,Xd=null,mt=0,Tn=null;function nn(){if((ft&2)!==0&&qe!==0)return qe&-qe;if(W.T!==null){var t=Gs;return t!==0?t:Yu()}return Wi()}function Pd(){Ar===0&&(Ar=(qe&536870912)===0||st?cr():536870912);var t=vr.current;return t!==null&&(t.flags|=32),Ar}function fe(t,r,s){(t===Nt&&(gt===2||gt===9)||t.cancelPendingCommit!==null)&&(aa(t,0),za(t,qe,Ar,!1)),ga(t,s),((ft&2)===0||t!==Nt)&&(t===Nt&&((ft&2)===0&&(ps|=s),Dt===4&&za(t,qe,Ar,!1)),rr(t))}function Of(t,r,s){if((ft&6)!==0)throw Error(p(327));var o=!s&&(r&124)===0&&(r&t.expiredLanes)===0||Gi(t,r),u=o?Uf(t,r):ml(t,r,!0),d=o;do{if(u===0){ro&&!o&&za(t,r,0,!1);break}else{if(s=t.current.alternate,d&&!lm(s)){u=ml(t,r,!1),d=!1;continue}if(u===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var E=t;u=io;var x=E.current.memoizedState.isDehydrated;if(x&&(aa(E,v).flags|=256),v=ml(E,v,!1),v!==2){if(wf&&!x){E.errorRecoveryDisabledLanes|=d,ps|=d,u=4;break e}d=Ln,Ln=u,d!==null&&(Ln===null?Ln=d:Ln.push.apply(Ln,d))}u=v}if(d=!1,u!==2)continue}}if(u===1){aa(t,0),za(t,r,0,!0);break}e:{switch(o=t,d=u,d){case 0:case 1:throw Error(p(345));case 4:if((r&4194048)!==r)break;case 6:za(o,r,Ar,!Ya);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(p(329))}if((r&62914560)===r&&(u=Cf+300-bn(),10<u)){if(za(o,r,Ar,!Ya),$a(o,0,!0)!==0)break e;o.timeoutHandle=Pf(Ou.bind(null,o,s,Ln,Du,If,r,Ar,ps,ao,Ya,d,2,-0,0),u);break e}Ou(o,s,Ln,Du,If,r,Ar,ps,ao,Ya,d,0,-0,0)}}break}while(!0);rr(t)}function Ou(t,r,s,o,u,d,v,E,x,k,Q,re,K,P){if(t.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(ht={stylesheets:null,count:0,unsuspend:pt},Tf(r),re=lt(),re!==null)){t.cancelPendingCommit=re(Mf.bind(null,t,r,d,s,o,u,v,E,x,Q,1,K,P)),za(t,d,v,!k);return}Mf(t,r,d,s,o,u,v,E,x)}function lm(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var u=s[o],d=u.getSnapshot;u=u.value;try{if(!Zn(d(),u))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function za(t,r,s,o){r&=~Nf,r&=~ps,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var u=r;0<u;){var d=31-rn(u),v=1<<d;o[d]=-1,u&=~v}s!==0&&Ae(t,s,r)}function wi(){return(ft&6)===0?(Oi(0),!1):!0}function Vu(){if(Xe!==null){if(gt===0)var t=Xe.return;else t=Xe,Aa=as=null,tf(t),xa=null,Da=0,t=Xe;for(;t!==null;)Ld(t.alternate,t),t=t.return;Xe=null}}function aa(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,bm(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Vu(),Nt=t,Xe=s=mr(t.current,null),qe=r,gt=0,Jn=null,Ya=!1,ro=Gi(t,r),wf=!1,ao=Ar=Nf=ps=na=Dt=0,Ln=io=null,If=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var u=31-rn(o),d=1<<u;r|=t[u],o&=~d}return Za=r,Hl(),s}function Fd(t,r){Ge=null,W.H=dn,r===ks||r===rl?(r=Ad(),gt=3):r===bd?(r=Ad(),gt=4):gt=r===_r?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Jn=r,Xe===null&&(Dt=1,vi(t,gr(r,t.current)))}function Vf(){var t=W.H;return W.H=dn,t===null?dn:t}function Jd(){var t=W.A;return W.A=sm,t}function rt(){Dt=4,Ya||(qe&4194048)!==qe&&vr.current!==null||(ro=!0),(na&134217727)===0&&(ps&134217727)===0||Nt===null||za(Nt,qe,Ar,!1)}function ml(t,r,s){var o=ft;ft|=2;var u=Vf(),d=Jd();(Nt!==t||qe!==r)&&(Du=null,aa(t,r)),r=!1;var v=Dt;e:do try{if(gt!==0&&Xe!==null){var E=Xe,x=Jn;switch(gt){case 8:Vu(),v=6;break e;case 3:case 2:case 9:case 6:vr.current===null&&(r=!0);var k=gt;if(gt=0,Jn=null,Ni(t,E,x,k),s&&ro){v=0;break e}break;default:k=gt,gt=0,Jn=null,Ni(t,E,x,k)}}Bf(),v=Dt;break}catch(Q){Fd(t,Q)}while(!0);return r&&t.shellSuspendCounter++,Aa=as=null,ft=o,W.H=u,W.A=d,Xe===null&&(Nt=null,qe=0,Hl()),v}function Bf(){for(;Xe!==null;)jd(Xe)}function Uf(t,r){var s=ft;ft|=2;var o=Vf(),u=Jd();Nt!==t||qe!==r?(Du=null,xu=bn()+500,aa(t,r)):ro=Gi(t,r);e:do try{if(gt!==0&&Xe!==null){r=Xe;var d=Jn;t:switch(gt){case 1:gt=0,Jn=null,Ni(t,r,d,1);break;case 2:case 9:if(Pc(d)){gt=0,Jn=null,Hd(r);break}r=function(){gt!==2&&gt!==9||Nt!==t||(gt=7),rr(t)},d.then(r,r);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:Pc(d)?(gt=0,Jn=null,Hd(r)):(gt=0,Jn=null,Ni(t,r,d,7));break;case 5:var v=null;switch(Xe.tag){case 26:v=Xe.memoizedState;case 5:case 27:var E=Xe;if(!v||at(v)){gt=0,Jn=null;var x=E.sibling;if(x!==null)Xe=x;else{var k=E.return;k!==null?(Xe=k,Bu(k)):Xe=null}break t}}gt=0,Jn=null,Ni(t,r,d,5);break;case 6:gt=0,Jn=null,Ni(t,r,d,6);break;case 8:Vu(),Dt=6;break e;default:throw Error(p(462))}}um();break}catch(Q){Fd(t,Q)}while(!0);return Aa=as=null,W.H=o,W.A=u,ft=s,Xe!==null?0:(Nt=null,qe=0,Hl(),Dt)}function um(){for(;Xe!==null&&!Oo();)jd(Xe)}function jd(t){var r=hs(t.alternate,t,Za);t.memoizedProps=t.pendingProps,r===null?Bu(t):Xe=r}function Hd(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Bd(s,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Bd(s,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:tf(r);default:Ld(s,r),r=Xe=$o(r,Za),r=hs(s,r,Za)}t.memoizedProps=t.pendingProps,r===null?Bu(t):Xe=r}function Ni(t,r,s,o){Aa=as=null,tf(r),xa=null,Da=0;var u=r.return;try{if(rm(t,u,r,s,qe)){Dt=1,vi(t,gr(s,t.current)),Xe=null;return}}catch(d){if(u!==null)throw Xe=u,d;Dt=1,vi(t,gr(s,t.current)),Xe=null;return}r.flags&32768?(st||o===1?t=!0:ro||(qe&536870912)!==0?t=!1:(Ya=t=!0,(o===2||o===9||o===3||o===6)&&(o=vr.current,o!==null&&o.tag===13&&(o.flags|=16384))),Lf(r,t)):Bu(r)}function Bu(t){var r=t;do{if((r.flags&32768)!==0){Lf(r,Ya);return}t=r.return;var s=Ua(r.alternate,r,Za);if(s!==null){Xe=s;return}if(r=r.sibling,r!==null){Xe=r;return}Xe=r=t}while(r!==null);Dt===0&&(Dt=5)}function Lf(t,r){do{var s=La(t.alternate,t);if(s!==null){s.flags&=32767,Xe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=s}while(t!==null);Dt=6,Xe=null}function Mf(t,r,s,o,u,d,v,E,x){t.cancelPendingCommit=null;do Ci();while(tn!==0);if((ft&6)!==0)throw Error(p(327));if(r!==null){if(r===t.current)throw Error(p(177));if(d=r.lanes|r.childLanes,d|=Mc,ki(t,s,d,v,E,x),t===Nt&&(Xe=Nt=null,qe=0),so=r,ra=t,Ga=s,xf=d,Df=u,Xd=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dm(ja,function(){return oo(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null,u=he.p,he.p=2,v=ft,ft|=4;try{am(t,r,s)}finally{ft=v,he.p=u,W.T=o}}tn=1,Uu(),_f(),Er()}}function Uu(){if(tn===1){tn=0;var t=ra,r=so,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var o=he.p;he.p=2;var u=ft;ft|=4;try{kd(r,t);var d=ku,v=ld(t.containerInfo),E=d.focusedElem,x=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&od(E.ownerDocument.documentElement,E)){if(x!==null&&Vc(E)){var k=x.start,Q=x.end;if(Q===void 0&&(Q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(Q,E.value.length);else{var re=E.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var P=K.getSelection(),Ve=E.textContent.length,xe=Math.min(x.start,Ve),It=x.end===void 0?xe:Math.min(x.end,Ve);!P.extend&&xe>It&&(v=It,It=xe,xe=v);var Y=sd(E,xe),U=sd(E,It);if(Y&&U&&(P.rangeCount!==1||P.anchorNode!==Y.node||P.anchorOffset!==Y.offset||P.focusNode!==U.node||P.focusOffset!==U.offset)){var z=re.createRange();z.setStart(Y.node,Y.offset),P.removeAllRanges(),xe>It?(P.addRange(z),P.extend(U.node,U.offset)):(z.setEnd(U.node,U.offset),P.addRange(z))}}}}for(re=[],P=E;P=P.parentNode;)P.nodeType===1&&re.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<re.length;E++){var ee=re[E];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}mg=!!Xf,ku=Xf=null}finally{ft=u,he.p=o,W.T=s}}t.current=r,tn=2}}function _f(){if(tn===2){tn=0;var t=ra,r=so,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var o=he.p;he.p=2;var u=ft;ft|=4;try{Yd(t,r.alternate,r)}finally{ft=u,he.p=o,W.T=s}}tn=3}}function Er(){if(tn===4||tn===3){tn=0,Vo();var t=ra,r=so,s=Ga,o=Xd;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?tn=5:(tn=0,so=ra=null,Ii(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Gr=null),an(s),r=r.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(or,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=W.T,u=he.p,he.p=2,W.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{W.T=r,he.p=u}}(Ga&3)!==0&&Ci(),rr(t),u=t.pendingLanes,(s&4194090)!==0&&(u&42)!==0?t===Tn?mt++:(mt=0,Tn=t):mt=0,Oi(0)}}function Ii(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,tl(r)))}function Ci(t){return Uu(),_f(),Er(),oo()}function oo(){if(tn!==5)return!1;var t=ra,r=xf;xf=0;var s=an(Ga),o=W.T,u=he.p;try{he.p=32>s?32:s,W.T=null,s=Df,Df=null;var d=ra,v=Ga;if(tn=0,so=ra=null,Ga=0,(ft&6)!==0)throw Error(p(331));var E=ft;if(ft|=4,no(d.current),Wd(d,d.current,v,s),ft=E,Oi(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(or,d)}catch{}return!0}finally{he.p=u,W.T=o,Ii(t,r)}}function Yf(t,r,s){r=gr(s,r),r=Hr(t.stateNode,r,2),t=fi(t,r,2),t!==null&&(ga(t,2),rr(t))}function Et(t,r,s){if(t.tag===3)Yf(t,t,s);else for(;r!==null;){if(r.tag===3){Yf(r,t,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gr===null||!Gr.has(o))){t=gr(s,t),s=$s(2),o=fi(r,s,2),o!==null&&(Od(s,o,r,t),ga(o,2),rr(o));break}}r=r.return}}function Zf(t,r,s){var o=t.pingCache;if(o===null){o=t.pingCache=new om;var u=new Set;o.set(r,u)}else u=o.get(r),u===void 0&&(u=new Set,o.set(r,u));u.has(s)||(wf=!0,u.add(s),t=cm.bind(null,t,r,s),r.then(t,t))}function cm(t,r,s){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Nt===t&&(qe&s)===s&&(Dt===4||Dt===3&&(qe&62914560)===qe&&300>bn()-Cf?(ft&2)===0&&aa(t,0):Nf|=s,ao===qe&&(ao=0)),rr(t)}function $d(t,r){r===0&&(r=Ul()),t=Vs(t,r),t!==null&&(ga(t,r),rr(t))}function fm(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),$d(t,s)}function hm(t,r){var s=0;switch(t.tag){case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(s=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(p(314))}o!==null&&o.delete(r),$d(t,s)}function dm(t,r){return Do(t,r)}var Lu=null,lo=null,Gf=!1,Mu=!1,xi=!1,Di=0;function rr(t){t!==lo&&t.next===null&&(lo===null?Lu=lo=t:lo=lo.next=t),Mu=!0,Gf||(Gf=!0,Vi())}function Oi(t,r){if(!xi&&Mu){xi=!0;do for(var s=!1,o=Lu;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-rn(42|t)+1)-1,d&=u&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,_u(o,d))}else d=qe,d=$a(o,o===Nt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Gi(o,d)||(s=!0,_u(o,d));o=o.next}while(s);xi=!1}}function gm(){ka()}function ka(){Mu=Gf=!1;var t=0;Di!==0&&(ig()&&(t=Di),Di=0);for(var r=bn(),s=null,o=Lu;o!==null;){var u=o.next,d=pn(o,r);d===0?(o.next=null,s===null?Lu=u:s.next=u,u===null&&(lo=s)):(s=o,(t!==0||(d&3)!==0)&&(Mu=!0)),o=u}Oi(t)}function pn(t,r){for(var s=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-rn(d),E=1<<v,x=u[v];x===-1?((E&s)===0||(E&o)!==0)&&(u[v]=Cr(E,r)):x<=r&&(t.expiredLanes|=E),d&=~E}if(r=Nt,s=qe,s=$a(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===r&&(gt===2||gt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fa(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Gi(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(o!==null&&fa(o),an(s)){case 2:case 8:s=Bl;break;case 32:s=ja;break;case 268435456:s=Ut;break;default:s=ja}return o=uo.bind(null,t),s=Do(s,o),t.callbackPriority=r,t.callbackNode=s,r}return o!==null&&o!==null&&fa(o),t.callbackPriority=2,t.callbackNode=null,2}function uo(t,r){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ci()&&t.callbackNode!==s)return null;var o=qe;return o=$a(t,t===Nt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Of(t,o,r),pn(t,bn()),t.callbackNode!=null&&t.callbackNode===s?uo.bind(null,t):null)}function _u(t,r){if(Ci())return null;Of(t,r,!0)}function Vi(){sg(function(){(ft&6)!==0?Do(sr,gm):ka()})}function Yu(){return Di===0&&(Di=cr()),Di}function Qd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zo(""+t)}function mm(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function vp(t,r,s,o,u){if(r==="submit"&&s&&s.stateNode===u){var d=Qd((u[ct]||null).action),v=o.submitter;v&&(r=(r=v[ct]||null)?Qd(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var E=new ba("action","action",null,o,u);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Di!==0){var x=v?mm(u,v):new FormData(u);Xn(s,{pending:!0,data:x,method:u.method,action:d},null,x)}}else typeof d=="function"&&(E.preventDefault(),x=v?mm(u,v):new FormData(u),Xn(s,{pending:!0,data:x,method:u.method,action:d},d,x))},currentTarget:u}]})}}for(var Zu=0;Zu<jl.length;Zu++){var zf=jl[Zu],pm=zf.toLowerCase(),pl=zf[0].toUpperCase()+zf.slice(1);$n(pm,"on"+pl)}$n(cd,"onAnimationEnd"),$n(Jl,"onAnimationIteration"),$n(jo,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Kg,"onTransitionRun"),$n(Xg,"onTransitionStart"),$n(Pg,"onTransitionCancel"),$n(fd,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yl=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ia));function sa(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],u=o.event;o=o.listeners;e:{var d=void 0;if(r)for(var v=o.length-1;0<=v;v--){var E=o[v],x=E.instance,k=E.currentTarget;if(E=E.listener,x!==d&&u.isPropagationStopped())break e;d=E,u.currentTarget=k;try{d(u)}catch(Q){Pn(Q)}u.currentTarget=null,d=x}else for(v=0;v<o.length;v++){if(E=o[v],x=E.instance,k=E.currentTarget,E=E.listener,x!==d&&u.isPropagationStopped())break e;d=E,u.currentTarget=k;try{d(u)}catch(Q){Pn(Q)}u.currentTarget=null,d=x}}}}function Pe(t,r){var s=r[ws];s===void 0&&(s=r[ws]=new Set);var o=t+"__bubble";s.has(o)||(kf(r,t,2,!1),s.add(o))}function ys(t,r,s){var o=0;r&&(o|=4),kf(s,t,o,r)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function vl(t){if(!t[Wa]){t[Wa]=!0,fc.forEach(function(s){s!=="selectionchange"&&(yl.has(s)||ys(s,!1,t),ys(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Wa]||(r[Wa]=!0,ys("selectionchange",!1,r))}}function kf(t,r,s,o){switch(Rp(r)){case 2:var u=Qy;break;case 8:u=qy;break;default:u=Cm}s=u.bind(null,r,s,t),u=void 0,!Ac||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(r,s,{capture:!0,passive:u}):t.addEventListener(r,s,!0):u!==void 0?t.addEventListener(r,s,{passive:u}):t.addEventListener(r,s,!1)}function Gu(t,r,s,o,u){var d=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===u)break;if(v===4)for(v=o.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;E!==null;){if(v=Qa(E),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){o=d=v;continue e}E=E.parentNode}}o=o.return}Ih(function(){var k=d,Q=Wo(s),re=[];e:{var K=hd.get(t);if(K!==void 0){var P=ba,Ve=t;switch(t){case"keypress":if(Yl(s)===0)break e;case"keydown":case"keyup":P=Gh;break;case"focusin":Ve="focus",P=kl;break;case"focusout":Ve="blur",P=kl;break;case"beforeblur":case"afterblur":P=kl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Wh;break;case cd:case Jl:case jo:P=Oh;break;case fd:P=Xh;break;case"scroll":case"scrollend":P=Mg;break;case"wheel":P=Yg;break;case"copy":case"cut":case"paste":P=Bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=wc;break;case"toggle":case"beforetoggle":P=Fh}var xe=(r&4)!==0,It=!xe&&(t==="scroll"||t==="scrollend"),Y=xe?K!==null?K+"Capture":null:K;xe=[];for(var U=k,z;U!==null;){var ee=U;if(z=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||z===null||Y===null||(ee=ji(U,Y),ee!=null&&xe.push(co(U,ee,z))),It)break;U=U.return}0<xe.length&&(K=new P(K,Ve,null,s,Q),re.push({event:K,listeners:xe}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",K&&s!==ko&&(Ve=s.relatedTarget||s.fromElement)&&(Qa(Ve)||Ve[sn]))break e;if((P||K)&&(K=Q.window===Q?Q:(K=Q.ownerDocument)?K.defaultView||K.parentWindow:window,P?(Ve=s.relatedTarget||s.toElement,P=k,Ve=Ve?Qa(Ve):null,Ve!==null&&(It=T(Ve),xe=Ve.tag,Ve!==It||xe!==5&&xe!==27&&xe!==6)&&(Ve=null)):(P=null,Ve=k),P!==Ve)){if(xe=Rc,ee="onMouseLeave",Y="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(xe=wc,ee="onPointerLeave",Y="onPointerEnter",U="pointer"),It=P==null?K:Ns(P),z=Ve==null?K:Ns(Ve),K=new xe(ee,U+"leave",P,s,Q),K.target=It,K.relatedTarget=z,ee=null,Qa(Q)===k&&(xe=new xe(Y,U+"enter",Ve,s,Q),xe.target=z,xe.relatedTarget=It,ee=xe),It=ee,P&&Ve)t:{for(xe=P,Y=Ve,U=0,z=xe;z;z=vs(z))U++;for(z=0,ee=Y;ee;ee=vs(ee))z++;for(;0<U-z;)xe=vs(xe),U--;for(;0<z-U;)Y=vs(Y),z--;for(;U--;){if(xe===Y||Y!==null&&xe===Y.alternate)break t;xe=vs(xe),Y=vs(Y)}xe=null}else xe=null;P!==null&&Wf(re,K,P,xe,!1),Ve!==null&&It!==null&&Wf(re,It,Ve,xe,!0)}}e:{if(K=k?Ns(k):window,P=K.nodeName&&K.nodeName.toLowerCase(),P==="select"||P==="input"&&K.type==="file")var be=xc;else if(Cc(K))if(td)be=Oc;else{be=kg;var je=zg}else P=K.nodeName,!P||P.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?k&&bc(k.elementType)&&(be=xc):be=id;if(be&&(be=be(t,k))){qh(re,be,s,Q);break e}je&&je(t,K,k),t==="focusout"&&k&&K.type==="number"&&k.memoizedProps.value!=null&&Go(K,"number",K.value)}switch(je=k?Ns(k):window,t){case"focusin":(Cc(je)||je.contentEditable==="true")&&(Qi=je,Bc=k,Jo=null);break;case"focusout":Jo=Bc=Qi=null;break;case"mousedown":Fl=!0;break;case"contextmenu":case"mouseup":case"dragend":Fl=!1,ud(re,s,Q);break;case"selectionchange":if(Pl)break;case"keydown":case"keyup":ud(re,s,Q)}var Ie;if(Nc)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else xs?Hh(t,s)&&(De="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(De="onCompositionStart");De&&(Hi&&s.locale!=="ko"&&(xs||De!=="onCompositionStart"?De==="onCompositionEnd"&&xs&&(Ie=Ch()):(ni=Q,Cs="value"in ni?ni.value:ni.textContent,xs=!0)),je=bl(k,De),0<je.length&&(De=new Tc(De,t,null,s,Q),re.push({event:De,listeners:je}),Ie?De.data=Ie:(Ie=$h(s),Ie!==null&&(De.data=Ie)))),(Ie=Ic?Qh(t,s):Zg(t,s))&&(De=bl(k,"onBeforeInput"),0<De.length&&(je=new Tc("onBeforeInput","beforeinput",null,s,Q),re.push({event:je,listeners:De}),je.data=Ie)),vp(re,t,k,s,Q)}sa(re,r)})}function co(t,r,s){return{instance:t,listener:r,currentTarget:s}}function bl(t,r){for(var s=r+"Capture",o=[];t!==null;){var u=t,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=ji(t,s),u!=null&&o.unshift(co(t,u,d)),u=ji(t,r),u!=null&&o.push(co(t,u,d))),t.tag===3)return o;t=t.return}return[]}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wf(t,r,s,o,u){for(var d=r._reactName,v=[];s!==null&&s!==o;){var E=s,x=E.alternate,k=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||k===null||(x=k,u?(k=ji(s,d),k!=null&&v.unshift(co(s,k,x))):u||(k=ji(s,d),k!=null&&v.push(co(s,k,x)))),s=s.return}v.length!==0&&t.push({event:r,listeners:v})}var qd=/\r\n?/g,eg=/\u0000|\uFFFD/g;function tg(t){return(typeof t=="string"?t:""+t).replace(qd,`
`).replace(eg,"")}function ng(t,r){return r=tg(r),tg(t)===r}function zu(){}function ot(t,r,s,o,u,d){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||ti(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&ti(t,""+o);break;case"className":_o(t,"class",o);break;case"tabIndex":_o(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_o(t,s,o);break;case"style":Th(t,o,d);break;case"data":if(r!=="object"){_o(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=zo(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&ot(t,r,"name",u.name,u,null),ot(t,r,"formEncType",u.formEncType,u,null),ot(t,r,"formMethod",u.formMethod,u,null),ot(t,r,"formTarget",u.formTarget,u,null)):(ot(t,r,"encType",u.encType,u,null),ot(t,r,"method",u.method,u,null),ot(t,r,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=zo(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=zu);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(p(61));if(s=o.__html,s!=null){if(u.children!=null)throw Error(p(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=zo(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),pa(t,"popover",o);break;case"xlinkActuate":ya(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ya(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ya(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ya(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ya(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ya(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ya(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ya(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ya(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Lg.get(s)||s,pa(t,s,o))}}function Kf(t,r,s,o,u,d){switch(s){case"style":Th(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(p(61));if(s=o.__html,s!=null){if(u.children!=null)throw Error(p(60));t.innerHTML=s}}break;case"children":typeof o=="string"?ti(t,o):(typeof o=="number"||typeof o=="bigint")&&ti(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hc.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),r=s.slice(2,u?s.length-7:void 0),d=t[ct]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,u),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,o,u);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):pa(t,s,o)}}}function un(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,u=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(p(137,r));default:ot(t,r,d,v,s,null)}}u&&ot(t,r,"srcSet",s.srcSet,s,null),o&&ot(t,r,"src",s.src,s,null);return;case"input":Pe("invalid",t);var E=d=v=u=null,x=null,k=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":u=Q;break;case"type":v=Q;break;case"checked":x=Q;break;case"defaultChecked":k=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(p(137,r));break;default:ot(t,r,o,Q,s,null)}}yc(t,d,E,x,k,v,u,!1),Ml(t);return;case"select":Pe("invalid",t),o=v=d=null;for(u in s)if(s.hasOwnProperty(u)&&(E=s[u],E!=null))switch(u){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:ot(t,r,u,E,s,null)}r=d,s=v,t.multiple=!!o,r!=null?Is(t,!!o,r,!1):s!=null&&Is(t,!!o,s,!0);return;case"textarea":Pe("invalid",t),d=u=o=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":u=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(p(91));break;default:ot(t,r,v,E,s,null)}Ah(t,o,u,d),Ml(t);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(o=s[x],o!=null))switch(x){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ot(t,r,x,o,s,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<ia.length;o++)Pe(ia[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(o=s[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(p(137,r));default:ot(t,r,k,o,s,null)}return;default:if(bc(r)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&Kf(t,r,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ot(t,r,E,o,s,null))}function ym(t,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,v=null,E=null,x=null,k=null,Q=null;for(P in s){var re=s[P];if(s.hasOwnProperty(P)&&re!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":x=re;default:o.hasOwnProperty(P)||ot(t,r,P,null,o,re)}}for(var K in o){var P=o[K];if(re=s[K],o.hasOwnProperty(K)&&(P!=null||re!=null))switch(K){case"type":d=P;break;case"name":u=P;break;case"checked":k=P;break;case"defaultChecked":Q=P;break;case"value":v=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(p(137,r));break;default:P!==re&&ot(t,r,K,P,o,re)}}pc(t,v,E,x,k,Q,d,u);return;case"select":P=v=E=K=null;for(d in s)if(x=s[d],s.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":P=x;default:o.hasOwnProperty(d)||ot(t,r,d,null,o,x)}for(u in o)if(d=o[u],x=s[u],o.hasOwnProperty(u)&&(d!=null||x!=null))switch(u){case"value":K=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==x&&ot(t,r,u,d,o,x)}r=E,s=v,o=P,K!=null?Is(t,!!s,K,!1):!!o!=!!s&&(r!=null?Is(t,!!s,r,!0):Is(t,!!s,s?[]:"",!1));return;case"textarea":P=K=null;for(E in s)if(u=s[E],s.hasOwnProperty(E)&&u!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(t,r,E,null,o,u)}for(v in o)if(u=o[v],d=s[v],o.hasOwnProperty(v)&&(u!=null||d!=null))switch(v){case"value":K=u;break;case"defaultValue":P=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(p(91));break;default:u!==d&&ot(t,r,v,u,o,d)}vc(t,K,P);return;case"option":for(var Ve in s)if(K=s[Ve],s.hasOwnProperty(Ve)&&K!=null&&!o.hasOwnProperty(Ve))switch(Ve){case"selected":t.selected=!1;break;default:ot(t,r,Ve,null,o,K)}for(x in o)if(K=o[x],P=s[x],o.hasOwnProperty(x)&&K!==P&&(K!=null||P!=null))switch(x){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ot(t,r,x,K,o,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in s)K=s[xe],s.hasOwnProperty(xe)&&K!=null&&!o.hasOwnProperty(xe)&&ot(t,r,xe,null,o,K);for(k in o)if(K=o[k],P=s[k],o.hasOwnProperty(k)&&K!==P&&(K!=null||P!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(p(137,r));break;default:ot(t,r,k,K,o,P)}return;default:if(bc(r)){for(var It in s)K=s[It],s.hasOwnProperty(It)&&K!==void 0&&!o.hasOwnProperty(It)&&Kf(t,r,It,void 0,o,K);for(Q in o)K=o[Q],P=s[Q],!o.hasOwnProperty(Q)||K===P||K===void 0&&P===void 0||Kf(t,r,Q,K,o,P);return}}for(var Y in s)K=s[Y],s.hasOwnProperty(Y)&&K!=null&&!o.hasOwnProperty(Y)&&ot(t,r,Y,null,o,K);for(re in o)K=o[re],P=s[re],!o.hasOwnProperty(re)||K===P||K==null&&P==null||ot(t,r,re,K,o,P)}var Xf=null,ku=null;function Sl(t){return t.nodeType===9?t:t.ownerDocument}function rg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vm(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function ag(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fo=null;function ig(){var t=window.event;return t&&t.type==="popstate"?t===fo?!1:(fo=t,!0):(fo=null,!1)}var Pf=typeof setTimeout=="function"?setTimeout:void 0,bm=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,sg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(t){return Ff.resolve(null).then(t).catch(og)}:Pf;function og(t){setTimeout(function(){throw t})}function yn(t){return t==="head"}function Jf(t,r){var s=r,o=0,u=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var v=t.ownerDocument;if(s&1&&Al(v.documentElement),s&2&&Al(v.body),s&4)for(s=v.head,Al(s),v=s.firstChild;v;){var E=v.nextSibling,x=v.nodeName;v[Ki]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=E}}if(u===0){t.removeChild(d),qf(r);return}u--}else s==="$"||s==="$?"||s==="$!"?u++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);qf(r)}function Wu(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wu(s),cc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Sm(t,r,s,o){for(;t.nodeType===1;){var u=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ki])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Rr(t.nextSibling),t===null)break}return null}function Am(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Rr(t.nextSibling),t===null))return null;return t}function jf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function lg(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Rr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var ho=null;function ug(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function cg(t,r,s){switch(r=Sl(s),t){case"html":if(t=r.documentElement,!t)throw Error(p(452));return t;case"head":if(t=r.head,!t)throw Error(p(453));return t;case"body":if(t=r.body,!t)throw Error(p(454));return t;default:throw Error(p(451))}}function Al(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);cc(t)}var Tr=new Map,fg=new Set;function Ku(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zr=he.d;he.d={f:Em,r:Rm,D:Tm,C:dg,L:wm,m:Nm,X:e,S:a,M:n};function Em(){var t=zr.f(),r=wi();return t||r}function Rm(t){var r=ma(t);r!==null&&r.tag===5&&r.type==="form"?Id(r):zr.r(t)}var bs=typeof document>"u"?null:document;function hg(t,r,s){var o=bs;if(o&&typeof r=="string"&&r){var u=Sn(r);u='link[rel="'+t+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),fg.has(u)||(fg.add(u),t={rel:t,crossOrigin:s,href:r},o.querySelector(u)===null&&(r=o.createElement("link"),un(r,"link",t),Xt(r),o.head.appendChild(r)))}}function Tm(t){zr.D(t),hg("dns-prefetch",t,null)}function dg(t,r){zr.C(t,r),hg("preconnect",t,r)}function wm(t,r,s){zr.L(t,r,s);var o=bs;if(o&&t&&r){var u='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Sn(s.imageSizes)+'"]')):u+='[href="'+Sn(t)+'"]';var d=u;switch(r){case"style":d=l(t);break;case"script":d=S(t)}Tr.has(d)||(t=_({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),Tr.set(d,t),o.querySelector(u)!==null||r==="style"&&o.querySelector(c(d))||r==="script"&&o.querySelector(R(d))||(r=o.createElement("link"),un(r,"link",t),Xt(r),o.head.appendChild(r)))}}function Nm(t,r){zr.m(t,r);var s=bs;if(s&&t){var o=r&&typeof r.as=="string"?r.as:"script",u='link[rel="modulepreload"][as="'+Sn(o)+'"][href="'+Sn(t)+'"]',d=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=S(t)}if(!Tr.has(d)&&(t=_({rel:"modulepreload",href:t},r),Tr.set(d,t),s.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(R(d)))return}o=s.createElement("link"),un(o,"link",t),Xt(o),s.head.appendChild(o)}}}function a(t,r,s){zr.S(t,r,s);var o=bs;if(o&&t){var u=qa(o).hoistableStyles,d=l(t);r=r||"default";var v=u.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(c(d)))E.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},s),(s=Tr.get(d))&&J(t,s);var x=v=o.createElement("link");Xt(x),un(x,"link",t),x._p=new Promise(function(k,Q){x.onload=k,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Z(v,r,o)}v={type:"stylesheet",instance:v,count:1,state:E},u.set(d,v)}}}function e(t,r){zr.X(t,r);var s=bs;if(s&&t){var o=qa(s).hoistableScripts,u=S(t),d=o.get(u);d||(d=s.querySelector(R(u)),d||(t=_({src:t,async:!0},r),(r=Tr.get(u))&&G(t,r),d=s.createElement("script"),Xt(d),un(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(u,d))}}function n(t,r){zr.M(t,r);var s=bs;if(s&&t){var o=qa(s).hoistableScripts,u=S(t),d=o.get(u);d||(d=s.querySelector(R(u)),d||(t=_({src:t,async:!0,type:"module"},r),(r=Tr.get(u))&&G(t,r),d=s.createElement("script"),Xt(d),un(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(u,d))}}function i(t,r,s,o){var u=(u=ve.current)?Ku(u):null;if(!u)throw Error(p(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=l(s.href),s=qa(u).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=l(s.href);var d=qa(u).hoistableStyles,v=d.get(t);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=u.querySelector(c(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Tr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Tr.set(t,s),d||y(u,t,s,v.state))),r&&o===null)throw Error(p(528,""));return v}if(r&&o!==null)throw Error(p(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=S(s),s=qa(u).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(p(444,t))}}function l(t){return'href="'+Sn(t)+'"'}function c(t){return'link[rel="stylesheet"]['+t+"]"}function g(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function y(t,r,s,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),un(r,"link",s),Xt(r),t.head.appendChild(r))}function S(t){return'[src="'+Sn(t)+'"]'}function R(t){return"script[async]"+t}function C(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+Sn(s.href)+'"]');if(o)return r.instance=o,Xt(o),o;var u=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Xt(o),un(o,"style",u),Z(o,s.precedence,t),r.instance=o;case"stylesheet":u=l(s.href);var d=t.querySelector(c(u));if(d)return r.state.loading|=4,r.instance=d,Xt(d),d;o=g(s),(u=Tr.get(u))&&J(o,u),d=(t.ownerDocument||t).createElement("link"),Xt(d);var v=d;return v._p=new Promise(function(E,x){v.onload=E,v.onerror=x}),un(d,"link",o),r.state.loading|=4,Z(d,s.precedence,t),r.instance=d;case"script":return d=S(s.src),(u=t.querySelector(R(d)))?(r.instance=u,Xt(u),u):(o=s,(u=Tr.get(d))&&(o=_({},s),G(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),Xt(u),un(u,"link",o),t.head.appendChild(u),r.instance=u);case"void":return null;default:throw Error(p(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Z(o,s.precedence,t));return r.instance}function Z(t,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,d=u,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===r)d=E;else if(d!==u)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function J(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function G(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var ne=null;function ae(t,r,s){if(ne===null){var o=new Map,u=ne=new Map;u.set(s,o)}else u=ne,o=u.get(s),o||(o=new Map,u.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),u=0;u<s.length;u++){var d=s[u];if(!(d[Ki]||d[_t]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function pe(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function Ce(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function at(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ht=null;function pt(){}function vn(t,r,s){if(ht===null)throw Error(p(475));var o=ht;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=l(s.href),d=t.querySelector(c(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Ot.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=d,Xt(d);return}d=t.ownerDocument||t,s=g(s),(u=Tr.get(u))&&J(s,u),d=d.createElement("link"),Xt(d);var v=d;v._p=new Promise(function(E,x){v.onload=E,v.onerror=x}),un(d,"link",s),r.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Ot.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function lt(){if(ht===null)throw Error(p(475));var t=ht;return t.stylesheets&&t.count===0&&Bt(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Bt(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Ot(){if(this.count--,this.count===0){if(this.stylesheets)Bt(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vt=null;function Bt(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vt=new Map,r.forEach(kr,t),Vt=null,Ot.call(t))}function kr(t,r){if(!(r.state.loading&4)){var s=Vt.get(t);if(s)var o=s.get(null);else{s=new Map,Vt.set(t,s);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var v=u[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}u=r.instance,v=u.getAttribute("data-precedence"),d=s.get(v)||o,d===o&&s.set(null,u),s.set(v,u),this.count++,o=Ot.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),d?d.parentNode.insertBefore(u,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),r.state.loading|=4}}var go={$$typeof:se,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function gg(t,r,s,o,u,d,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function El(t,r,s,o,u,d,v,E,x,k,Q,re){return t=new gg(t,r,s,v,E,x,k,re),r=1,d===!0&&(r|=24),d=An(3,null,null,r),t.current=d,d.stateNode=t,r=Kc(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:r},Jc(d),t}function bp(t){return t?(t=Bs,t):Bs}function Sp(t,r,s,o,u,d){u=bp(u),o.context===null?o.context=u:o.pendingContext=u,o=zn(r),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=fi(t,o,r),s!==null&&(fe(s,t,r),Ks(s,t,r))}function Ap(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Im(t,r){Ap(t,r),(t=t.alternate)&&Ap(t,r)}function Ep(t){if(t.tag===13){var r=Vs(t,67108864);r!==null&&fe(r,t,67108864),Im(t,67108864)}}var mg=!0;function Qy(t,r,s,o){var u=W.T;W.T=null;var d=he.p;try{he.p=2,Cm(t,r,s,o)}finally{he.p=d,W.T=u}}function qy(t,r,s,o){var u=W.T;W.T=null;var d=he.p;try{he.p=8,Cm(t,r,s,o)}finally{he.p=d,W.T=u}}function Cm(t,r,s,o){if(mg){var u=xm(o);if(u===null)Gu(t,r,o,pg,s),Tp(t,o);else if(tv(u,t,r,s,o))o.stopPropagation();else if(Tp(t,o),r&4&&-1<ev.indexOf(t)){for(;u!==null;){var d=ma(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ur(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var x=1<<31-rn(v);E.entanglements[1]|=x,v&=~x}rr(d),(ft&6)===0&&(xu=bn()+500,Oi(0))}}break;case 13:E=Vs(d,2),E!==null&&fe(E,d,2),wi(),Im(d,2)}if(d=xm(o),d===null&&Gu(t,r,o,pg,s),d===u)break;u=d}u!==null&&o.stopPropagation()}else Gu(t,r,o,null,s)}}function xm(t){return t=Wo(t),Dm(t)}var pg=null;function Dm(t){if(pg=null,t=Qa(t),t!==null){var r=T(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=I(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return pg=t,null}function Rp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bo()){case sr:return 2;case Bl:return 8;case ja:case Nn:return 32;case Ut:return 268435456;default:return 32}default:return 32}}var Om=!1,mo=null,po=null,yo=null,Hf=new Map,$f=new Map,vo=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tp(t,r){switch(t){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Hf.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$f.delete(r.pointerId)}}function Qf(t,r,s,o,u,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[u]},r!==null&&(r=ma(r),r!==null&&Ep(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),t)}function tv(t,r,s,o,u){switch(r){case"focusin":return mo=Qf(mo,t,r,s,o,u),!0;case"dragenter":return po=Qf(po,t,r,s,o,u),!0;case"mouseover":return yo=Qf(yo,t,r,s,o,u),!0;case"pointerover":var d=u.pointerId;return Hf.set(d,Qf(Hf.get(d)||null,t,r,s,o,u)),!0;case"gotpointercapture":return d=u.pointerId,$f.set(d,Qf($f.get(d)||null,t,r,s,o,u)),!0}return!1}function wp(t){var r=Qa(t.target);if(r!==null){var s=T(r);if(s!==null){if(r=s.tag,r===13){if(r=I(s),r!==null){t.blockedOn=r,ut(t.priority,function(){if(s.tag===13){var o=nn();o=kt(o);var u=Vs(s,o);u!==null&&fe(u,s,o),Im(s,o)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yg(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=xm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);ko=o,s.target.dispatchEvent(o),ko=null}else return r=ma(s),r!==null&&Ep(r),t.blockedOn=s,!1;r.shift()}return!0}function Np(t,r,s){yg(t)&&s.delete(r)}function nv(){Om=!1,mo!==null&&yg(mo)&&(mo=null),po!==null&&yg(po)&&(po=null),yo!==null&&yg(yo)&&(yo=null),Hf.forEach(Np),$f.forEach(Np)}function vg(t,r){t.blockedOn===r&&(t.blockedOn=null,Om||(Om=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,nv)))}var bg=null;function Ip(t){bg!==t&&(bg=t,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){bg===t&&(bg=null);for(var r=0;r<t.length;r+=3){var s=t[r],o=t[r+1],u=t[r+2];if(typeof o!="function"){if(Dm(o||s)===null)continue;break}var d=ma(s);d!==null&&(t.splice(r,3),r-=3,Xn(d,{pending:!0,data:u,method:s.method,action:o},o,u))}}))}function qf(t){function r(x){return vg(x,t)}mo!==null&&vg(mo,t),po!==null&&vg(po,t),yo!==null&&vg(yo,t),Hf.forEach(r),$f.forEach(r);for(var s=0;s<vo.length;s++){var o=vo[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<vo.length&&(s=vo[0],s.blockedOn===null);)wp(s),s.blockedOn===null&&vo.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var u=s[o],d=s[o+1],v=u[ct]||null;if(typeof d=="function")v||Ip(s);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(u=d,v=d[ct]||null)E=v.formAction;else if(Dm(u)!==null)continue}else E=v.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),Ip(s)}}}function Vm(t){this._internalRoot=t}Sg.prototype.render=Vm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(p(409));var s=r.current,o=nn();Sp(s,o,t,r,null,null)},Sg.prototype.unmount=Vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Sp(t.current,2,null,t,null,null),wi(),r[sn]=null}};function Sg(t){this._internalRoot=t}Sg.prototype.unstable_scheduleHydration=function(t){if(t){var r=Wi();t={blockedOn:null,target:t,priority:r};for(var s=0;s<vo.length&&r!==0&&r<vo[s].priority;s++);vo.splice(s,0,t),s===0&&wp(t)}};var Cp=h.version;if(Cp!=="19.1.0")throw Error(p(527,Cp,"19.1.0"));he.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(p(188)):(t=Object.keys(t).join(","),Error(p(268,t)));return t=b(r),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var rv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ag=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ag.isDisabled&&Ag.supportsFiber)try{or=Ag.inject(rv),He=Ag}catch{}}return th.createRoot=function(t,r){if(!A(t))throw Error(p(299));var s=!1,o="",u=vf,d=us,v=jr,E=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(u=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=El(t,1,!1,null,null,s,o,u,d,v,E,null),t[sn]=r.current,vl(t),new Vm(r)},th.hydrateRoot=function(t,r,s){if(!A(t))throw Error(p(299));var o=!1,u="",d=vf,v=us,E=jr,x=null,k=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks),s.formState!==void 0&&(k=s.formState)),r=El(t,1,!0,r,s??null,o,u,d,v,E,x,k),r.context=bp(null),s=r.current,o=nn(),o=kt(o),u=zn(o),u.callback=null,fi(s,u,o),s=o,r.current.lanes=s,ga(r,s),rr(r),t[sn]=r.current,vl(t),new Sg(r)},th.version="19.1.0",th}var Zp;function gv(){if(Zp)return Lm.exports;Zp=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(h){console.error(h)}}return f(),Lm.exports=dv(),Lm.exports}var mv=gv();const pv="modulepreload",yv=function(f){return"/"+f},Gp={},Vl=function(h,m,p){let A=Promise.resolve();if(m&&m.length>0){document.getElementsByTagName("link");const I=document.querySelector("meta[property=csp-nonce]"),B=(I==null?void 0:I.nonce)||(I==null?void 0:I.getAttribute("nonce"));A=Promise.allSettled(m.map(b=>{if(b=yv(b),b in Gp)return;Gp[b]=!0;const w=b.endsWith(".css"),_=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${_}`))return;const N=document.createElement("link");if(N.rel=w?"stylesheet":pv,w||(N.as="script"),N.crossOrigin="",N.href=b,B&&N.setAttribute("nonce",B),document.head.appendChild(N),w)return new Promise((F,q)=>{N.addEventListener("load",F),N.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${b}`)))})}))}function T(I){const B=new Event("vite:preloadError",{cancelable:!0});if(B.payload=I,window.dispatchEvent(B),!B.defaultPrevented)throw I}return A.then(I=>{for(const B of I||[])B.status==="rejected"&&T(B.reason);return h().catch(T)})};var X=Dg();const de=py(X),wS=ov({__proto__:null,default:de},[X]);var nh={},zp;function vv(){if(zp)return nh;zp=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.parse=I,nh.serialize=w;const f=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,h=/^[\u0021-\u003A\u003C-\u007E]*$/,m=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,p=/^[\u0020-\u003A\u003D-\u007E]*$/,A=Object.prototype.toString,T=(()=>{const F=function(){};return F.prototype=Object.create(null),F})();function I(F,q){const j=new T,ie=F.length;if(ie<2)return j;const H=(q==null?void 0:q.decode)||_;let te=0;do{const me=F.indexOf("=",te);if(me===-1)break;const se=F.indexOf(";",te),we=se===-1?ie:se;if(me>we){te=F.lastIndexOf(";",me-1)+1;continue}const le=B(F,te,me),Me=b(F,me,le),et=F.slice(le,Me);if(j[et]===void 0){let Le=B(F,me+1,we),Ne=b(F,we,Le);const ke=H(F.slice(Le,Ne));j[et]=ke}te=we+1}while(te<ie);return j}function B(F,q,j){do{const ie=F.charCodeAt(q);if(ie!==32&&ie!==9)return q}while(++q<j);return j}function b(F,q,j){for(;q>j;){const ie=F.charCodeAt(--q);if(ie!==32&&ie!==9)return q+1}return j}function w(F,q,j){const ie=(j==null?void 0:j.encode)||encodeURIComponent;if(!f.test(F))throw new TypeError(`argument name is invalid: ${F}`);const H=ie(q);if(!h.test(H))throw new TypeError(`argument val is invalid: ${q}`);let te=F+"="+H;if(!j)return te;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);te+="; Max-Age="+j.maxAge}if(j.domain){if(!m.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);te+="; Domain="+j.domain}if(j.path){if(!p.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);te+="; Path="+j.path}if(j.expires){if(!N(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);te+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(te+="; HttpOnly"),j.secure&&(te+="; Secure"),j.partitioned&&(te+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":te+="; Priority=Low";break;case"medium":te+="; Priority=Medium";break;case"high":te+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":te+="; SameSite=Strict";break;case"lax":te+="; SameSite=Lax";break;case"none":te+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return te}function _(F){if(F.indexOf("%")===-1)return F;try{return decodeURIComponent(F)}catch{return F}}function N(F){return A.call(F)==="[object Date]"}return nh}vv();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kp="popstate";function bv(f={}){function h(p,A){let{pathname:T,search:I,hash:B}=p.location;return Wm("",{pathname:T,search:I,hash:B},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function m(p,A){return typeof A=="string"?A:sh(A)}return Av(h,m,null,f)}function zt(f,h){if(f===!1||f===null||typeof f>"u")throw new Error(h)}function Fa(f,h){if(!f){typeof console<"u"&&console.warn(h);try{throw new Error(h)}catch{}}}function Sv(){return Math.random().toString(36).substring(2,10)}function Wp(f,h){return{usr:f.state,key:f.key,idx:h}}function Wm(f,h,m=null,p){return{pathname:typeof f=="string"?f:f.pathname,search:"",hash:"",...typeof h=="string"?ic(h):h,state:m,key:h&&h.key||p||Sv()}}function sh({pathname:f="/",search:h="",hash:m=""}){return h&&h!=="?"&&(f+=h.charAt(0)==="?"?h:"?"+h),m&&m!=="#"&&(f+=m.charAt(0)==="#"?m:"#"+m),f}function ic(f){let h={};if(f){let m=f.indexOf("#");m>=0&&(h.hash=f.substring(m),f=f.substring(0,m));let p=f.indexOf("?");p>=0&&(h.search=f.substring(p),f=f.substring(0,p)),f&&(h.pathname=f)}return h}function Av(f,h,m,p={}){let{window:A=document.defaultView,v5Compat:T=!1}=p,I=A.history,B="POP",b=null,w=_();w==null&&(w=0,I.replaceState({...I.state,idx:w},""));function _(){return(I.state||{idx:null}).idx}function N(){B="POP";let H=_(),te=H==null?null:H-w;w=H,b&&b({action:B,location:ie.location,delta:te})}function F(H,te){B="PUSH";let me=Wm(ie.location,H,te);w=_()+1;let se=Wp(me,w),we=ie.createHref(me);try{I.pushState(se,"",we)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;A.location.assign(we)}T&&b&&b({action:B,location:ie.location,delta:1})}function q(H,te){B="REPLACE";let me=Wm(ie.location,H,te);w=_();let se=Wp(me,w),we=ie.createHref(me);I.replaceState(se,"",we),T&&b&&b({action:B,location:ie.location,delta:0})}function j(H){let te=A.location.origin!=="null"?A.location.origin:A.location.href,me=typeof H=="string"?H:sh(H);return me=me.replace(/ $/,"%20"),zt(te,`No window.location.(origin|href) available to create URL for href: ${me}`),new URL(me,te)}let ie={get action(){return B},get location(){return f(A,I)},listen(H){if(b)throw new Error("A history only accepts one active listener");return A.addEventListener(kp,N),b=H,()=>{A.removeEventListener(kp,N),b=null}},createHref(H){return h(A,H)},createURL:j,encodeLocation(H){let te=j(H);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:F,replace:q,go(H){return I.go(H)}};return ie}function by(f,h,m="/"){return Ev(f,h,m,!1)}function Ev(f,h,m,p){let A=typeof h=="string"?ic(h):h,T=Rs(A.pathname||"/",m);if(T==null)return null;let I=Sy(f);Rv(I);let B=null;for(let b=0;B==null&&b<I.length;++b){let w=Uv(T);B=Vv(I[b],w,p)}return B}function Sy(f,h=[],m=[],p=""){let A=(T,I,B)=>{let b={relativePath:B===void 0?T.path||"":B,caseSensitive:T.caseSensitive===!0,childrenIndex:I,route:T};b.relativePath.startsWith("/")&&(zt(b.relativePath.startsWith(p),`Absolute route path "${b.relativePath}" nested under path "${p}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(p.length));let w=Es([p,b.relativePath]),_=m.concat(b);T.children&&T.children.length>0&&(zt(T.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Sy(T.children,h,_,w)),!(T.path==null&&!T.index)&&h.push({path:w,score:Dv(w,T.index),routesMeta:_})};return f.forEach((T,I)=>{var B;if(T.path===""||!((B=T.path)!=null&&B.includes("?")))A(T,I);else for(let b of Ay(T.path))A(T,I,b)}),h}function Ay(f){let h=f.split("/");if(h.length===0)return[];let[m,...p]=h,A=m.endsWith("?"),T=m.replace(/\?$/,"");if(p.length===0)return A?[T,""]:[T];let I=Ay(p.join("/")),B=[];return B.push(...I.map(b=>b===""?T:[T,b].join("/"))),A&&B.push(...I),B.map(b=>f.startsWith("/")&&b===""?"/":b)}function Rv(f){f.sort((h,m)=>h.score!==m.score?m.score-h.score:Ov(h.routesMeta.map(p=>p.childrenIndex),m.routesMeta.map(p=>p.childrenIndex)))}var Tv=/^:[\w-]+$/,wv=3,Nv=2,Iv=1,Cv=10,xv=-2,Kp=f=>f==="*";function Dv(f,h){let m=f.split("/"),p=m.length;return m.some(Kp)&&(p+=xv),h&&(p+=Nv),m.filter(A=>!Kp(A)).reduce((A,T)=>A+(Tv.test(T)?wv:T===""?Iv:Cv),p)}function Ov(f,h){return f.length===h.length&&f.slice(0,-1).every((p,A)=>p===h[A])?f[f.length-1]-h[h.length-1]:0}function Vv(f,h,m=!1){let{routesMeta:p}=f,A={},T="/",I=[];for(let B=0;B<p.length;++B){let b=p[B],w=B===p.length-1,_=T==="/"?h:h.slice(T.length)||"/",N=Cg({path:b.relativePath,caseSensitive:b.caseSensitive,end:w},_),F=b.route;if(!N&&w&&m&&!p[p.length-1].route.index&&(N=Cg({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},_)),!N)return null;Object.assign(A,N.params),I.push({params:A,pathname:Es([T,N.pathname]),pathnameBase:Yv(Es([T,N.pathnameBase])),route:F}),N.pathnameBase!=="/"&&(T=Es([T,N.pathnameBase]))}return I}function Cg(f,h){typeof f=="string"&&(f={path:f,caseSensitive:!1,end:!0});let[m,p]=Bv(f.path,f.caseSensitive,f.end),A=h.match(m);if(!A)return null;let T=A[0],I=T.replace(/(.)\/+$/,"$1"),B=A.slice(1);return{params:p.reduce((w,{paramName:_,isOptional:N},F)=>{if(_==="*"){let j=B[F]||"";I=T.slice(0,T.length-j.length).replace(/(.)\/+$/,"$1")}const q=B[F];return N&&!q?w[_]=void 0:w[_]=(q||"").replace(/%2F/g,"/"),w},{}),pathname:T,pathnameBase:I,pattern:f}}function Bv(f,h=!1,m=!0){Fa(f==="*"||!f.endsWith("*")||f.endsWith("/*"),`Route path "${f}" will be treated as if it were "${f.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${f.replace(/\*$/,"/*")}".`);let p=[],A="^"+f.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(I,B,b)=>(p.push({paramName:B,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return f.endsWith("*")?(p.push({paramName:"*"}),A+=f==="*"||f==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):m?A+="\\/*$":f!==""&&f!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,h?void 0:"i"),p]}function Uv(f){try{return f.split("/").map(h=>decodeURIComponent(h).replace(/\//g,"%2F")).join("/")}catch(h){return Fa(!1,`The URL path "${f}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${h}).`),f}}function Rs(f,h){if(h==="/")return f;if(!f.toLowerCase().startsWith(h.toLowerCase()))return null;let m=h.endsWith("/")?h.length-1:h.length,p=f.charAt(m);return p&&p!=="/"?null:f.slice(m)||"/"}function Lv(f,h="/"){let{pathname:m,search:p="",hash:A=""}=typeof f=="string"?ic(f):f;return{pathname:m?m.startsWith("/")?m:Mv(m,h):h,search:Zv(p),hash:Gv(A)}}function Mv(f,h){let m=h.replace(/\/+$/,"").split("/");return f.split("/").forEach(A=>{A===".."?m.length>1&&m.pop():A!=="."&&m.push(A)}),m.length>1?m.join("/"):"/"}function Gm(f,h,m,p){return`Cannot include a '${f}' character in a manually specified \`to.${h}\` field [${JSON.stringify(p)}].  Please separate it out to the \`to.${m}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _v(f){return f.filter((h,m)=>m===0||h.route.path&&h.route.path.length>0)}function ip(f){let h=_v(f);return h.map((m,p)=>p===h.length-1?m.pathname:m.pathnameBase)}function sp(f,h,m,p=!1){let A;typeof f=="string"?A=ic(f):(A={...f},zt(!A.pathname||!A.pathname.includes("?"),Gm("?","pathname","search",A)),zt(!A.pathname||!A.pathname.includes("#"),Gm("#","pathname","hash",A)),zt(!A.search||!A.search.includes("#"),Gm("#","search","hash",A)));let T=f===""||A.pathname==="",I=T?"/":A.pathname,B;if(I==null)B=m;else{let N=h.length-1;if(!p&&I.startsWith("..")){let F=I.split("/");for(;F[0]==="..";)F.shift(),N-=1;A.pathname=F.join("/")}B=N>=0?h[N]:"/"}let b=Lv(A,B),w=I&&I!=="/"&&I.endsWith("/"),_=(T||I===".")&&m.endsWith("/");return!b.pathname.endsWith("/")&&(w||_)&&(b.pathname+="/"),b}var Es=f=>f.join("/").replace(/\/\/+/g,"/"),Yv=f=>f.replace(/\/+$/,"").replace(/^\/*/,"/"),Zv=f=>!f||f==="?"?"":f.startsWith("?")?f:"?"+f,Gv=f=>!f||f==="#"?"":f.startsWith("#")?f:"#"+f;function zv(f){return f!=null&&typeof f.status=="number"&&typeof f.statusText=="string"&&typeof f.internal=="boolean"&&"data"in f}var Ey=["POST","PUT","PATCH","DELETE"];new Set(Ey);var kv=["GET",...Ey];new Set(kv);var sc=X.createContext(null);sc.displayName="DataRouter";var Og=X.createContext(null);Og.displayName="DataRouterState";var Ry=X.createContext({isTransitioning:!1});Ry.displayName="ViewTransition";var Wv=X.createContext(new Map);Wv.displayName="Fetchers";var Kv=X.createContext(null);Kv.displayName="Await";var Ja=X.createContext(null);Ja.displayName="Navigation";var dh=X.createContext(null);dh.displayName="Location";var ua=X.createContext({outlet:null,matches:[],isDataRoute:!1});ua.displayName="Route";var op=X.createContext(null);op.displayName="RouteError";function Xv(f,{relative:h}={}){zt(oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:m,navigator:p}=X.useContext(Ja),{hash:A,pathname:T,search:I}=gh(f,{relative:h}),B=T;return m!=="/"&&(B=T==="/"?m:Es([m,T])),p.createHref({pathname:B,search:I,hash:A})}function oc(){return X.useContext(dh)!=null}function xo(){return zt(oc(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(dh).location}var Ty="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wy(f){X.useContext(Ja).static||X.useLayoutEffect(f)}function Ny(){let{isDataRoute:f}=X.useContext(ua);return f?sb():Pv()}function Pv(){zt(oc(),"useNavigate() may be used only in the context of a <Router> component.");let f=X.useContext(sc),{basename:h,navigator:m}=X.useContext(Ja),{matches:p}=X.useContext(ua),{pathname:A}=xo(),T=JSON.stringify(ip(p)),I=X.useRef(!1);return wy(()=>{I.current=!0}),X.useCallback((b,w={})=>{if(Fa(I.current,Ty),!I.current)return;if(typeof b=="number"){m.go(b);return}let _=sp(b,JSON.parse(T),A,w.relative==="path");f==null&&h!=="/"&&(_.pathname=_.pathname==="/"?h:Es([h,_.pathname])),(w.replace?m.replace:m.push)(_,w.state,w)},[h,m,T,A,f])}var Fv=X.createContext(null);function Jv(f){let h=X.useContext(ua).outlet;return h&&X.createElement(Fv.Provider,{value:f},h)}function NS(){let{matches:f}=X.useContext(ua),h=f[f.length-1];return h?h.params:{}}function gh(f,{relative:h}={}){let{matches:m}=X.useContext(ua),{pathname:p}=xo(),A=JSON.stringify(ip(m));return X.useMemo(()=>sp(f,JSON.parse(A),p,h==="path"),[f,A,p,h])}function jv(f,h){return Iy(f,h)}function Iy(f,h,m,p){var me;zt(oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:A,static:T}=X.useContext(Ja),{matches:I}=X.useContext(ua),B=I[I.length-1],b=B?B.params:{},w=B?B.pathname:"/",_=B?B.pathnameBase:"/",N=B&&B.route;{let se=N&&N.path||"";Cy(w,!N||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let F=xo(),q;if(h){let se=typeof h=="string"?ic(h):h;zt(_==="/"||((me=se.pathname)==null?void 0:me.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${se.pathname}" was given in the \`location\` prop.`),q=se}else q=F;let j=q.pathname||"/",ie=j;if(_!=="/"){let se=_.replace(/^\//,"").split("/");ie="/"+j.replace(/^\//,"").split("/").slice(se.length).join("/")}let H=!T&&m&&m.matches&&m.matches.length>0?m.matches:by(f,{pathname:ie});Fa(N||H!=null,`No routes matched location "${q.pathname}${q.search}${q.hash}" `),Fa(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${q.pathname}${q.search}${q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=eb(H&&H.map(se=>Object.assign({},se,{params:Object.assign({},b,se.params),pathname:Es([_,A.encodeLocation?A.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?_:Es([_,A.encodeLocation?A.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),I,m,p);return h&&te?X.createElement(dh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...q},navigationType:"POP"}},te):te}function Hv(){let f=ib(),h=zv(f)?`${f.status} ${f.statusText}`:f instanceof Error?f.message:JSON.stringify(f),m=f instanceof Error?f.stack:null,p="rgba(200,200,200, 0.5)",A={padding:"0.5rem",backgroundColor:p},T={padding:"2px 4px",backgroundColor:p},I=null;return console.error("Error handled by React Router default ErrorBoundary:",f),I=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:T},"ErrorBoundary")," or"," ",X.createElement("code",{style:T},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},h),m?X.createElement("pre",{style:A},m):null,I)}var $v=X.createElement(Hv,null),Qv=class extends X.Component{constructor(f){super(f),this.state={location:f.location,revalidation:f.revalidation,error:f.error}}static getDerivedStateFromError(f){return{error:f}}static getDerivedStateFromProps(f,h){return h.location!==f.location||h.revalidation!=="idle"&&f.revalidation==="idle"?{error:f.error,location:f.location,revalidation:f.revalidation}:{error:f.error!==void 0?f.error:h.error,location:h.location,revalidation:f.revalidation||h.revalidation}}componentDidCatch(f,h){console.error("React Router caught the following error during render",f,h)}render(){return this.state.error!==void 0?X.createElement(ua.Provider,{value:this.props.routeContext},X.createElement(op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qv({routeContext:f,match:h,children:m}){let p=X.useContext(sc);return p&&p.static&&p.staticContext&&(h.route.errorElement||h.route.ErrorBoundary)&&(p.staticContext._deepestRenderedBoundaryId=h.route.id),X.createElement(ua.Provider,{value:f},m)}function eb(f,h=[],m=null,p=null){if(f==null){if(!m)return null;if(m.errors)f=m.matches;else if(h.length===0&&!m.initialized&&m.matches.length>0)f=m.matches;else return null}let A=f,T=m==null?void 0:m.errors;if(T!=null){let b=A.findIndex(w=>w.route.id&&(T==null?void 0:T[w.route.id])!==void 0);zt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(T).join(",")}`),A=A.slice(0,Math.min(A.length,b+1))}let I=!1,B=-1;if(m)for(let b=0;b<A.length;b++){let w=A[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(B=b),w.route.id){let{loaderData:_,errors:N}=m,F=w.route.loader&&!_.hasOwnProperty(w.route.id)&&(!N||N[w.route.id]===void 0);if(w.route.lazy||F){I=!0,B>=0?A=A.slice(0,B+1):A=[A[0]];break}}}return A.reduceRight((b,w,_)=>{let N,F=!1,q=null,j=null;m&&(N=T&&w.route.id?T[w.route.id]:void 0,q=w.route.errorElement||$v,I&&(B<0&&_===0?(Cy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,j=null):B===_&&(F=!0,j=w.route.hydrateFallbackElement||null)));let ie=h.concat(A.slice(0,_+1)),H=()=>{let te;return N?te=q:F?te=j:w.route.Component?te=X.createElement(w.route.Component,null):w.route.element?te=w.route.element:te=b,X.createElement(qv,{match:w,routeContext:{outlet:b,matches:ie,isDataRoute:m!=null},children:te})};return m&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?X.createElement(Qv,{location:m.location,revalidation:m.revalidation,component:q,error:N,children:H(),routeContext:{outlet:null,matches:ie,isDataRoute:!0}}):H()},null)}function lp(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tb(f){let h=X.useContext(sc);return zt(h,lp(f)),h}function nb(f){let h=X.useContext(Og);return zt(h,lp(f)),h}function rb(f){let h=X.useContext(ua);return zt(h,lp(f)),h}function up(f){let h=rb(f),m=h.matches[h.matches.length-1];return zt(m.route.id,`${f} can only be used on routes that contain a unique "id"`),m.route.id}function ab(){return up("useRouteId")}function ib(){var p;let f=X.useContext(op),h=nb("useRouteError"),m=up("useRouteError");return f!==void 0?f:(p=h.errors)==null?void 0:p[m]}function sb(){let{router:f}=tb("useNavigate"),h=up("useNavigate"),m=X.useRef(!1);return wy(()=>{m.current=!0}),X.useCallback(async(A,T={})=>{Fa(m.current,Ty),m.current&&(typeof A=="number"?f.navigate(A):await f.navigate(A,{fromRouteId:h,...T}))},[f,h])}var Xp={};function Cy(f,h,m){!h&&!Xp[f]&&(Xp[f]=!0,Fa(!1,m))}X.memo(ob);function ob({routes:f,future:h,state:m}){return Iy(f,void 0,m,h)}function xy({to:f,replace:h,state:m,relative:p}){zt(oc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:A}=X.useContext(Ja);Fa(!A,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:T}=X.useContext(ua),{pathname:I}=xo(),B=Ny(),b=sp(f,ip(T),I,p==="path"),w=JSON.stringify(b);return X.useEffect(()=>{B(JSON.parse(w),{replace:h,state:m,relative:p})},[B,w,p,h,m]),null}function Dy(f){return Jv(f.context)}function Ui(f){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lb({basename:f="/",children:h=null,location:m,navigationType:p="POP",navigator:A,static:T=!1}){zt(!oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let I=f.replace(/^\/*/,"/"),B=X.useMemo(()=>({basename:I,navigator:A,static:T,future:{}}),[I,A,T]);typeof m=="string"&&(m=ic(m));let{pathname:b="/",search:w="",hash:_="",state:N=null,key:F="default"}=m,q=X.useMemo(()=>{let j=Rs(b,I);return j==null?null:{location:{pathname:j,search:w,hash:_,state:N,key:F},navigationType:p}},[I,b,w,_,N,F,p]);return Fa(q!=null,`<Router basename="${I}"> is not able to match the URL "${b}${w}${_}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:X.createElement(Ja.Provider,{value:B},X.createElement(dh.Provider,{children:h,value:q}))}function ub({children:f,location:h}){return jv(Km(f),h)}function Km(f,h=[]){let m=[];return X.Children.forEach(f,(p,A)=>{if(!X.isValidElement(p))return;let T=[...h,A];if(p.type===X.Fragment){m.push.apply(m,Km(p.props.children,T));return}zt(p.type===Ui,`[${typeof p.type=="string"?p.type:p.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!p.props.index||!p.props.children,"An index route cannot have child routes.");let I={id:p.props.id||T.join("-"),caseSensitive:p.props.caseSensitive,element:p.props.element,Component:p.props.Component,index:p.props.index,path:p.props.path,loader:p.props.loader,action:p.props.action,hydrateFallbackElement:p.props.hydrateFallbackElement,HydrateFallback:p.props.HydrateFallback,errorElement:p.props.errorElement,ErrorBoundary:p.props.ErrorBoundary,hasErrorBoundary:p.props.hasErrorBoundary===!0||p.props.ErrorBoundary!=null||p.props.errorElement!=null,shouldRevalidate:p.props.shouldRevalidate,handle:p.props.handle,lazy:p.props.lazy};p.props.children&&(I.children=Km(p.props.children,T)),m.push(I)}),m}var Ng="get",Ig="application/x-www-form-urlencoded";function Vg(f){return f!=null&&typeof f.tagName=="string"}function cb(f){return Vg(f)&&f.tagName.toLowerCase()==="button"}function fb(f){return Vg(f)&&f.tagName.toLowerCase()==="form"}function hb(f){return Vg(f)&&f.tagName.toLowerCase()==="input"}function db(f){return!!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)}function gb(f,h){return f.button===0&&(!h||h==="_self")&&!db(f)}var Rg=null;function mb(){if(Rg===null)try{new FormData(document.createElement("form"),0),Rg=!1}catch{Rg=!0}return Rg}var pb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zm(f){return f!=null&&!pb.has(f)?(Fa(!1,`"${f}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ig}"`),null):f}function yb(f,h){let m,p,A,T,I;if(fb(f)){let B=f.getAttribute("action");p=B?Rs(B,h):null,m=f.getAttribute("method")||Ng,A=zm(f.getAttribute("enctype"))||Ig,T=new FormData(f)}else if(cb(f)||hb(f)&&(f.type==="submit"||f.type==="image")){let B=f.form;if(B==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=f.getAttribute("formaction")||B.getAttribute("action");if(p=b?Rs(b,h):null,m=f.getAttribute("formmethod")||B.getAttribute("method")||Ng,A=zm(f.getAttribute("formenctype"))||zm(B.getAttribute("enctype"))||Ig,T=new FormData(B,f),!mb()){let{name:w,type:_,value:N}=f;if(_==="image"){let F=w?`${w}.`:"";T.append(`${F}x`,"0"),T.append(`${F}y`,"0")}else w&&T.append(w,N)}}else{if(Vg(f))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');m=Ng,p=null,A=Ig,I=f}return T&&A==="text/plain"&&(I=T,T=void 0),{action:p,method:m.toLowerCase(),encType:A,formData:T,body:I}}function cp(f,h){if(f===!1||f===null||typeof f>"u")throw new Error(h)}async function vb(f,h){if(f.id in h)return h[f.id];try{let m=await import(f.module);return h[f.id]=m,m}catch(m){return console.error(`Error loading route module \`${f.module}\`, reloading page...`),console.error(m),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bb(f){return f==null?!1:f.href==null?f.rel==="preload"&&typeof f.imageSrcSet=="string"&&typeof f.imageSizes=="string":typeof f.rel=="string"&&typeof f.href=="string"}async function Sb(f,h,m){let p=await Promise.all(f.map(async A=>{let T=h.routes[A.route.id];if(T){let I=await vb(T,m);return I.links?I.links():[]}return[]}));return Tb(p.flat(1).filter(bb).filter(A=>A.rel==="stylesheet"||A.rel==="preload").map(A=>A.rel==="stylesheet"?{...A,rel:"prefetch",as:"style"}:{...A,rel:"prefetch"}))}function Pp(f,h,m,p,A,T){let I=(b,w)=>m[w]?b.route.id!==m[w].route.id:!0,B=(b,w)=>{var _;return m[w].pathname!==b.pathname||((_=m[w].route.path)==null?void 0:_.endsWith("*"))&&m[w].params["*"]!==b.params["*"]};return T==="assets"?h.filter((b,w)=>I(b,w)||B(b,w)):T==="data"?h.filter((b,w)=>{var N;let _=p.routes[b.route.id];if(!_||!_.hasLoader)return!1;if(I(b,w)||B(b,w))return!0;if(b.route.shouldRevalidate){let F=b.route.shouldRevalidate({currentUrl:new URL(A.pathname+A.search+A.hash,window.origin),currentParams:((N=m[0])==null?void 0:N.params)||{},nextUrl:new URL(f,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof F=="boolean")return F}return!0}):[]}function Ab(f,h,{includeHydrateFallback:m}={}){return Eb(f.map(p=>{let A=h.routes[p.route.id];if(!A)return[];let T=[A.module];return A.clientActionModule&&(T=T.concat(A.clientActionModule)),A.clientLoaderModule&&(T=T.concat(A.clientLoaderModule)),m&&A.hydrateFallbackModule&&(T=T.concat(A.hydrateFallbackModule)),A.imports&&(T=T.concat(A.imports)),T}).flat(1))}function Eb(f){return[...new Set(f)]}function Rb(f){let h={},m=Object.keys(f).sort();for(let p of m)h[p]=f[p];return h}function Tb(f,h){let m=new Set;return new Set(h),f.reduce((p,A)=>{let T=JSON.stringify(Rb(A));return m.has(T)||(m.add(T),p.push({key:T,link:A})),p},[])}function wb(f,h){let m=typeof f=="string"?new URL(f,typeof window>"u"?"server://singlefetch/":window.location.origin):f;return m.pathname==="/"?m.pathname="_root.data":h&&Rs(m.pathname,h)==="/"?m.pathname=`${h.replace(/\/$/,"")}/_root.data`:m.pathname=`${m.pathname.replace(/\/$/,"")}.data`,m}function Oy(){let f=X.useContext(sc);return cp(f,"You must render this element inside a <DataRouterContext.Provider> element"),f}function Nb(){let f=X.useContext(Og);return cp(f,"You must render this element inside a <DataRouterStateContext.Provider> element"),f}var fp=X.createContext(void 0);fp.displayName="FrameworkContext";function Vy(){let f=X.useContext(fp);return cp(f,"You must render this element inside a <HydratedRouter> element"),f}function Ib(f,h){let m=X.useContext(fp),[p,A]=X.useState(!1),[T,I]=X.useState(!1),{onFocus:B,onBlur:b,onMouseEnter:w,onMouseLeave:_,onTouchStart:N}=h,F=X.useRef(null);X.useEffect(()=>{if(f==="render"&&I(!0),f==="viewport"){let ie=te=>{te.forEach(me=>{I(me.isIntersecting)})},H=new IntersectionObserver(ie,{threshold:.5});return F.current&&H.observe(F.current),()=>{H.disconnect()}}},[f]),X.useEffect(()=>{if(p){let ie=setTimeout(()=>{I(!0)},100);return()=>{clearTimeout(ie)}}},[p]);let q=()=>{A(!0)},j=()=>{A(!1),I(!1)};return m?f!=="intent"?[T,F,{}]:[T,F,{onFocus:rh(B,q),onBlur:rh(b,j),onMouseEnter:rh(w,q),onMouseLeave:rh(_,j),onTouchStart:rh(N,q)}]:[!1,F,{}]}function rh(f,h){return m=>{f&&f(m),m.defaultPrevented||h(m)}}function Cb({page:f,...h}){let{router:m}=Oy(),p=X.useMemo(()=>by(m.routes,f,m.basename),[m.routes,f,m.basename]);return p?X.createElement(Db,{page:f,matches:p,...h}):null}function xb(f){let{manifest:h,routeModules:m}=Vy(),[p,A]=X.useState([]);return X.useEffect(()=>{let T=!1;return Sb(f,h,m).then(I=>{T||A(I)}),()=>{T=!0}},[f,h,m]),p}function Db({page:f,matches:h,...m}){let p=xo(),{manifest:A,routeModules:T}=Vy(),{basename:I}=Oy(),{loaderData:B,matches:b}=Nb(),w=X.useMemo(()=>Pp(f,h,b,A,p,"data"),[f,h,b,A,p]),_=X.useMemo(()=>Pp(f,h,b,A,p,"assets"),[f,h,b,A,p]),N=X.useMemo(()=>{if(f===p.pathname+p.search+p.hash)return[];let j=new Set,ie=!1;if(h.forEach(te=>{var se;let me=A.routes[te.route.id];!me||!me.hasLoader||(!w.some(we=>we.route.id===te.route.id)&&te.route.id in B&&((se=T[te.route.id])!=null&&se.shouldRevalidate)||me.hasClientLoader?ie=!0:j.add(te.route.id))}),j.size===0)return[];let H=wb(f,I);return ie&&j.size>0&&H.searchParams.set("_routes",h.filter(te=>j.has(te.route.id)).map(te=>te.route.id).join(",")),[H.pathname+H.search]},[I,B,p,A,w,h,f,T]),F=X.useMemo(()=>Ab(_,A),[_,A]),q=xb(_);return X.createElement(X.Fragment,null,N.map(j=>X.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...m})),F.map(j=>X.createElement("link",{key:j,rel:"modulepreload",href:j,...m})),q.map(({key:j,link:ie})=>X.createElement("link",{key:j,...ie})))}function Ob(...f){return h=>{f.forEach(m=>{typeof m=="function"?m(h):m!=null&&(m.current=h)})}}var By=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{By&&(window.__reactRouterVersion="7.5.0")}catch{}function Vb({basename:f,children:h,window:m}){let p=X.useRef();p.current==null&&(p.current=bv({window:m,v5Compat:!0}));let A=p.current,[T,I]=X.useState({action:A.action,location:A.location}),B=X.useCallback(b=>{X.startTransition(()=>I(b))},[I]);return X.useLayoutEffect(()=>A.listen(B),[A,B]),X.createElement(lb,{basename:f,children:h,location:T.location,navigationType:T.action,navigator:A})}var Uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ly=X.forwardRef(function({onClick:h,discover:m="render",prefetch:p="none",relative:A,reloadDocument:T,replace:I,state:B,target:b,to:w,preventScrollReset:_,viewTransition:N,...F},q){let{basename:j}=X.useContext(Ja),ie=typeof w=="string"&&Uy.test(w),H,te=!1;if(typeof w=="string"&&ie&&(H=w,By))try{let Ne=new URL(window.location.href),ke=w.startsWith("//")?new URL(Ne.protocol+w):new URL(w),yt=Rs(ke.pathname,j);ke.origin===Ne.origin&&yt!=null?w=yt+ke.search+ke.hash:te=!0}catch{Fa(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let me=Xv(w,{relative:A}),[se,we,le]=Ib(p,F),Me=Mb(w,{replace:I,state:B,target:b,preventScrollReset:_,relative:A,viewTransition:N});function et(Ne){h&&h(Ne),Ne.defaultPrevented||Me(Ne)}let Le=X.createElement("a",{...F,...le,href:H||me,onClick:te||T?h:et,ref:Ob(q,we),target:b,"data-discover":!ie&&m==="render"?"true":void 0});return se&&!ie?X.createElement(X.Fragment,null,Le,X.createElement(Cb,{page:me})):Le});Ly.displayName="Link";var Bb=X.forwardRef(function({"aria-current":h="page",caseSensitive:m=!1,className:p="",end:A=!1,style:T,to:I,viewTransition:B,children:b,...w},_){let N=gh(I,{relative:w.relative}),F=xo(),q=X.useContext(Og),{navigator:j,basename:ie}=X.useContext(Ja),H=q!=null&&zb(N)&&B===!0,te=j.encodeLocation?j.encodeLocation(N).pathname:N.pathname,me=F.pathname,se=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;m||(me=me.toLowerCase(),se=se?se.toLowerCase():null,te=te.toLowerCase()),se&&ie&&(se=Rs(se,ie)||se);const we=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let le=me===te||!A&&me.startsWith(te)&&me.charAt(we)==="/",Me=se!=null&&(se===te||!A&&se.startsWith(te)&&se.charAt(te.length)==="/"),et={isActive:le,isPending:Me,isTransitioning:H},Le=le?h:void 0,Ne;typeof p=="function"?Ne=p(et):Ne=[p,le?"active":null,Me?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let ke=typeof T=="function"?T(et):T;return X.createElement(Ly,{...w,"aria-current":Le,className:Ne,ref:_,style:ke,to:I,viewTransition:B},typeof b=="function"?b(et):b)});Bb.displayName="NavLink";var Ub=X.forwardRef(({discover:f="render",fetcherKey:h,navigate:m,reloadDocument:p,replace:A,state:T,method:I=Ng,action:B,onSubmit:b,relative:w,preventScrollReset:_,viewTransition:N,...F},q)=>{let j=Zb(),ie=Gb(B,{relative:w}),H=I.toLowerCase()==="get"?"get":"post",te=typeof B=="string"&&Uy.test(B),me=se=>{if(b&&b(se),se.defaultPrevented)return;se.preventDefault();let we=se.nativeEvent.submitter,le=(we==null?void 0:we.getAttribute("formmethod"))||I;j(we||se.currentTarget,{fetcherKey:h,method:le,navigate:m,replace:A,state:T,relative:w,preventScrollReset:_,viewTransition:N})};return X.createElement("form",{ref:q,method:H,action:ie,onSubmit:p?b:me,...F,"data-discover":!te&&f==="render"?"true":void 0})});Ub.displayName="Form";function Lb(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function My(f){let h=X.useContext(sc);return zt(h,Lb(f)),h}function Mb(f,{target:h,replace:m,state:p,preventScrollReset:A,relative:T,viewTransition:I}={}){let B=Ny(),b=xo(),w=gh(f,{relative:T});return X.useCallback(_=>{if(gb(_,h)){_.preventDefault();let N=m!==void 0?m:sh(b)===sh(w);B(f,{replace:N,state:p,preventScrollReset:A,relative:T,viewTransition:I})}},[b,B,w,m,p,h,f,A,T,I])}var _b=0,Yb=()=>`__${String(++_b)}__`;function Zb(){let{router:f}=My("useSubmit"),{basename:h}=X.useContext(Ja),m=ab();return X.useCallback(async(p,A={})=>{let{action:T,method:I,encType:B,formData:b,body:w}=yb(p,h);if(A.navigate===!1){let _=A.fetcherKey||Yb();await f.fetch(_,m,A.action||T,{preventScrollReset:A.preventScrollReset,formData:b,body:w,formMethod:A.method||I,formEncType:A.encType||B,flushSync:A.flushSync})}else await f.navigate(A.action||T,{preventScrollReset:A.preventScrollReset,formData:b,body:w,formMethod:A.method||I,formEncType:A.encType||B,replace:A.replace,state:A.state,fromRouteId:m,flushSync:A.flushSync,viewTransition:A.viewTransition})},[f,h,m])}function Gb(f,{relative:h}={}){let{basename:m}=X.useContext(Ja),p=X.useContext(ua);zt(p,"useFormAction must be used inside a RouteContext");let[A]=p.matches.slice(-1),T={...gh(f||".",{relative:h})},I=xo();if(f==null){T.search=I.search;let B=new URLSearchParams(T.search),b=B.getAll("index");if(b.some(_=>_==="")){B.delete("index"),b.filter(N=>N).forEach(N=>B.append("index",N));let _=B.toString();T.search=_?`?${_}`:""}}return(!f||f===".")&&A.route.index&&(T.search=T.search?T.search.replace(/^\?/,"?index&"):"?index"),m!=="/"&&(T.pathname=T.pathname==="/"?m:Es([m,T.pathname])),sh(T)}function zb(f,h={}){let m=X.useContext(Ry);zt(m!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:p}=My("useViewTransitionState"),A=gh(f,{relative:h.relative});if(!m.isTransitioning)return!1;let T=Rs(m.currentLocation.pathname,p)||m.currentLocation.pathname,I=Rs(m.nextLocation.pathname,p)||m.nextLocation.pathname;return Cg(A.pathname,I)!=null||Cg(A.pathname,T)!=null}new TextEncoder;var kb=vy();const Wb=py(kb);var mh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(f){return this.listeners.add(f),this.onSubscribe(),()=>{this.listeners.delete(f),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ol=typeof window>"u"||"Deno"in globalThis;function la(){}function Kb(f,h){return typeof f=="function"?f(h):f}function Xm(f){return typeof f=="number"&&f>=0&&f!==1/0}function _y(f,h){return Math.max(f+(h||0)-Date.now(),0)}function Xu(f,h){return typeof f=="function"?f(h):f}function Pa(f,h){return typeof f=="function"?f(h):f}function Fp(f,h){const{type:m="all",exact:p,fetchStatus:A,predicate:T,queryKey:I,stale:B}=f;if(I){if(p){if(h.queryHash!==hp(I,h.options))return!1}else if(!lh(h.queryKey,I))return!1}if(m!=="all"){const b=h.isActive();if(m==="active"&&!b||m==="inactive"&&b)return!1}return!(typeof B=="boolean"&&h.isStale()!==B||A&&A!==h.state.fetchStatus||T&&!T(h))}function Jp(f,h){const{exact:m,status:p,predicate:A,mutationKey:T}=f;if(T){if(!h.options.mutationKey)return!1;if(m){if(oh(h.options.mutationKey)!==oh(T))return!1}else if(!lh(h.options.mutationKey,T))return!1}return!(p&&h.state.status!==p||A&&!A(h))}function hp(f,h){return((h==null?void 0:h.queryKeyHashFn)||oh)(f)}function oh(f){return JSON.stringify(f,(h,m)=>Fm(m)?Object.keys(m).sort().reduce((p,A)=>(p[A]=m[A],p),{}):m)}function lh(f,h){return f===h?!0:typeof f!=typeof h?!1:f&&h&&typeof f=="object"&&typeof h=="object"?Object.keys(h).every(m=>lh(f[m],h[m])):!1}function Yy(f,h){if(f===h)return f;const m=jp(f)&&jp(h);if(m||Fm(f)&&Fm(h)){const p=m?f:Object.keys(f),A=p.length,T=m?h:Object.keys(h),I=T.length,B=m?[]:{};let b=0;for(let w=0;w<I;w++){const _=m?w:T[w];(!m&&p.includes(_)||m)&&f[_]===void 0&&h[_]===void 0?(B[_]=void 0,b++):(B[_]=Yy(f[_],h[_]),B[_]===f[_]&&f[_]!==void 0&&b++)}return A===I&&b===A?f:B}return h}function Pm(f,h){if(!h||Object.keys(f).length!==Object.keys(h).length)return!1;for(const m in f)if(f[m]!==h[m])return!1;return!0}function jp(f){return Array.isArray(f)&&f.length===Object.keys(f).length}function Fm(f){if(!Hp(f))return!1;const h=f.constructor;if(h===void 0)return!0;const m=h.prototype;return!(!Hp(m)||!m.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(f)!==Object.prototype)}function Hp(f){return Object.prototype.toString.call(f)==="[object Object]"}function Xb(f){return new Promise(h=>{setTimeout(h,f)})}function Jm(f,h,m){return typeof m.structuralSharing=="function"?m.structuralSharing(f,h):m.structuralSharing!==!1?Yy(f,h):h}function Pb(f,h,m=0){const p=[...f,h];return m&&p.length>m?p.slice(1):p}function Fb(f,h,m=0){const p=[h,...f];return m&&p.length>m?p.slice(0,-1):p}var dp=Symbol();function Zy(f,h){return!f.queryFn&&(h!=null&&h.initialPromise)?()=>h.initialPromise:!f.queryFn||f.queryFn===dp?()=>Promise.reject(new Error(`Missing queryFn: '${f.queryHash}'`)):f.queryFn}var Rl,Ao,Pu,oy,Jb=(oy=class extends mh{constructor(){super();Be(this,Rl);Be(this,Ao);Be(this,Pu);Se(this,Pu,h=>{if(!Ol&&window.addEventListener){const m=()=>h();return window.addEventListener("visibilitychange",m,!1),()=>{window.removeEventListener("visibilitychange",m)}}})}onSubscribe(){M(this,Ao)||this.setEventListener(M(this,Pu))}onUnsubscribe(){var h;this.hasListeners()||((h=M(this,Ao))==null||h.call(this),Se(this,Ao,void 0))}setEventListener(h){var m;Se(this,Pu,h),(m=M(this,Ao))==null||m.call(this),Se(this,Ao,h(p=>{typeof p=="boolean"?this.setFocused(p):this.onFocus()}))}setFocused(h){M(this,Rl)!==h&&(Se(this,Rl,h),this.onFocus())}onFocus(){const h=this.isFocused();this.listeners.forEach(m=>{m(h)})}isFocused(){var h;return typeof M(this,Rl)=="boolean"?M(this,Rl):((h=globalThis.document)==null?void 0:h.visibilityState)!=="hidden"}},Rl=new WeakMap,Ao=new WeakMap,Pu=new WeakMap,oy),gp=new Jb,Fu,Eo,Ju,ly,jb=(ly=class extends mh{constructor(){super();Be(this,Fu,!0);Be(this,Eo);Be(this,Ju);Se(this,Ju,h=>{if(!Ol&&window.addEventListener){const m=()=>h(!0),p=()=>h(!1);return window.addEventListener("online",m,!1),window.addEventListener("offline",p,!1),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",p)}}})}onSubscribe(){M(this,Eo)||this.setEventListener(M(this,Ju))}onUnsubscribe(){var h;this.hasListeners()||((h=M(this,Eo))==null||h.call(this),Se(this,Eo,void 0))}setEventListener(h){var m;Se(this,Ju,h),(m=M(this,Eo))==null||m.call(this),Se(this,Eo,h(this.setOnline.bind(this)))}setOnline(h){M(this,Fu)!==h&&(Se(this,Fu,h),this.listeners.forEach(p=>{p(h)}))}isOnline(){return M(this,Fu)}},Fu=new WeakMap,Eo=new WeakMap,Ju=new WeakMap,ly),xg=new jb;function jm(){let f,h;const m=new Promise((A,T)=>{f=A,h=T});m.status="pending",m.catch(()=>{});function p(A){Object.assign(m,A),delete m.resolve,delete m.reject}return m.resolve=A=>{p({status:"fulfilled",value:A}),f(A)},m.reject=A=>{p({status:"rejected",reason:A}),h(A)},m}function Hb(f){return Math.min(1e3*2**f,3e4)}function Gy(f){return(f??"online")==="online"?xg.isOnline():!0}var zy=class extends Error{constructor(f){super("CancelledError"),this.revert=f==null?void 0:f.revert,this.silent=f==null?void 0:f.silent}};function km(f){return f instanceof zy}function ky(f){let h=!1,m=0,p=!1,A;const T=jm(),I=ie=>{var H;p||(F(new zy(ie)),(H=f.abort)==null||H.call(f))},B=()=>{h=!0},b=()=>{h=!1},w=()=>gp.isFocused()&&(f.networkMode==="always"||xg.isOnline())&&f.canRun(),_=()=>Gy(f.networkMode)&&f.canRun(),N=ie=>{var H;p||(p=!0,(H=f.onSuccess)==null||H.call(f,ie),A==null||A(),T.resolve(ie))},F=ie=>{var H;p||(p=!0,(H=f.onError)==null||H.call(f,ie),A==null||A(),T.reject(ie))},q=()=>new Promise(ie=>{var H;A=te=>{(p||w())&&ie(te)},(H=f.onPause)==null||H.call(f)}).then(()=>{var ie;A=void 0,p||(ie=f.onContinue)==null||ie.call(f)}),j=()=>{if(p)return;let ie;const H=m===0?f.initialPromise:void 0;try{ie=H??f.fn()}catch(te){ie=Promise.reject(te)}Promise.resolve(ie).then(N).catch(te=>{var Me;if(p)return;const me=f.retry??(Ol?0:3),se=f.retryDelay??Hb,we=typeof se=="function"?se(m,te):se,le=me===!0||typeof me=="number"&&m<me||typeof me=="function"&&me(m,te);if(h||!le){F(te);return}m++,(Me=f.onFail)==null||Me.call(f,m,te),Xb(we).then(()=>w()?void 0:q()).then(()=>{h?F(te):j()})})};return{promise:T,cancel:I,continue:()=>(A==null||A(),T),cancelRetry:B,continueRetry:b,canStart:_,start:()=>(_()?j():q().then(j),T)}}var $b=f=>setTimeout(f,0);function Qb(){let f=[],h=0,m=B=>{B()},p=B=>{B()},A=$b;const T=B=>{h?f.push(B):A(()=>{m(B)})},I=()=>{const B=f;f=[],B.length&&A(()=>{p(()=>{B.forEach(b=>{m(b)})})})};return{batch:B=>{let b;h++;try{b=B()}finally{h--,h||I()}return b},batchCalls:B=>(...b)=>{T(()=>{B(...b)})},schedule:T,setNotifyFunction:B=>{m=B},setBatchNotifyFunction:B=>{p=B},setScheduler:B=>{A=B}}}var Mn=Qb(),Tl,uy,Wy=(uy=class{constructor(){Be(this,Tl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xm(this.gcTime)&&Se(this,Tl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(f){this.gcTime=Math.max(this.gcTime||0,f??(Ol?1/0:5*60*1e3))}clearGcTimeout(){M(this,Tl)&&(clearTimeout(M(this,Tl)),Se(this,Tl,void 0))}},Tl=new WeakMap,uy),ju,Hu,oa,wl,Hn,uh,Nl,Ka,Ss,cy,qb=(cy=class extends Wy{constructor(h){super();Be(this,Ka);Be(this,ju);Be(this,Hu);Be(this,oa);Be(this,wl);Be(this,Hn);Be(this,uh);Be(this,Nl);Se(this,Nl,!1),Se(this,uh,h.defaultOptions),this.setOptions(h.options),this.observers=[],Se(this,wl,h.client),Se(this,oa,M(this,wl).getQueryCache()),this.queryKey=h.queryKey,this.queryHash=h.queryHash,Se(this,ju,e0(this.options)),this.state=h.state??M(this,ju),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var h;return(h=M(this,Hn))==null?void 0:h.promise}setOptions(h){this.options={...M(this,uh),...h},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,oa).remove(this)}setData(h,m){const p=Jm(this.state.data,h,this.options);return tt(this,Ka,Ss).call(this,{data:p,type:"success",dataUpdatedAt:m==null?void 0:m.updatedAt,manual:m==null?void 0:m.manual}),p}setState(h,m){tt(this,Ka,Ss).call(this,{type:"setState",state:h,setStateOptions:m})}cancel(h){var p,A;const m=(p=M(this,Hn))==null?void 0:p.promise;return(A=M(this,Hn))==null||A.cancel(h),m?m.then(la).catch(la):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,ju))}isActive(){return this.observers.some(h=>Pa(h.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(h=>h.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(h=0){return this.state.isInvalidated||this.state.data===void 0||!_y(this.state.dataUpdatedAt,h)}onFocus(){var m;const h=this.observers.find(p=>p.shouldFetchOnWindowFocus());h==null||h.refetch({cancelRefetch:!1}),(m=M(this,Hn))==null||m.continue()}onOnline(){var m;const h=this.observers.find(p=>p.shouldFetchOnReconnect());h==null||h.refetch({cancelRefetch:!1}),(m=M(this,Hn))==null||m.continue()}addObserver(h){this.observers.includes(h)||(this.observers.push(h),this.clearGcTimeout(),M(this,oa).notify({type:"observerAdded",query:this,observer:h}))}removeObserver(h){this.observers.includes(h)&&(this.observers=this.observers.filter(m=>m!==h),this.observers.length||(M(this,Hn)&&(M(this,Nl)?M(this,Hn).cancel({revert:!0}):M(this,Hn).cancelRetry()),this.scheduleGc()),M(this,oa).notify({type:"observerRemoved",query:this,observer:h}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tt(this,Ka,Ss).call(this,{type:"invalidate"})}fetch(h,m){var b,w,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(m!=null&&m.cancelRefetch))this.cancel({silent:!0});else if(M(this,Hn))return M(this,Hn).continueRetry(),M(this,Hn).promise}if(h&&this.setOptions(h),!this.options.queryFn){const N=this.observers.find(F=>F.options.queryFn);N&&this.setOptions(N.options)}const p=new AbortController,A=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Se(this,Nl,!0),p.signal)})},T=()=>{const N=Zy(this.options,m),F={client:M(this,wl),queryKey:this.queryKey,meta:this.meta};return A(F),Se(this,Nl,!1),this.options.persister?this.options.persister(N,F,this):N(F)},I={fetchOptions:m,options:this.options,queryKey:this.queryKey,client:M(this,wl),state:this.state,fetchFn:T};A(I),(b=this.options.behavior)==null||b.onFetch(I,this),Se(this,Hu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=I.fetchOptions)==null?void 0:w.meta))&&tt(this,Ka,Ss).call(this,{type:"fetch",meta:(_=I.fetchOptions)==null?void 0:_.meta});const B=N=>{var F,q,j,ie;km(N)&&N.silent||tt(this,Ka,Ss).call(this,{type:"error",error:N}),km(N)||((q=(F=M(this,oa).config).onError)==null||q.call(F,N,this),(ie=(j=M(this,oa).config).onSettled)==null||ie.call(j,this.state.data,N,this)),this.scheduleGc()};return Se(this,Hn,ky({initialPromise:m==null?void 0:m.initialPromise,fn:I.fetchFn,abort:p.abort.bind(p),onSuccess:N=>{var F,q,j,ie;if(N===void 0){B(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(N)}catch(H){B(H);return}(q=(F=M(this,oa).config).onSuccess)==null||q.call(F,N,this),(ie=(j=M(this,oa).config).onSettled)==null||ie.call(j,N,this.state.error,this),this.scheduleGc()},onError:B,onFail:(N,F)=>{tt(this,Ka,Ss).call(this,{type:"failed",failureCount:N,error:F})},onPause:()=>{tt(this,Ka,Ss).call(this,{type:"pause"})},onContinue:()=>{tt(this,Ka,Ss).call(this,{type:"continue"})},retry:I.options.retry,retryDelay:I.options.retryDelay,networkMode:I.options.networkMode,canRun:()=>!0})),M(this,Hn).start()}},ju=new WeakMap,Hu=new WeakMap,oa=new WeakMap,wl=new WeakMap,Hn=new WeakMap,uh=new WeakMap,Nl=new WeakMap,Ka=new WeakSet,Ss=function(h){const m=p=>{switch(h.type){case"failed":return{...p,fetchFailureCount:h.failureCount,fetchFailureReason:h.error};case"pause":return{...p,fetchStatus:"paused"};case"continue":return{...p,fetchStatus:"fetching"};case"fetch":return{...p,...Ky(p.data,this.options),fetchMeta:h.meta??null};case"success":return{...p,data:h.data,dataUpdateCount:p.dataUpdateCount+1,dataUpdatedAt:h.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!h.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const A=h.error;return km(A)&&A.revert&&M(this,Hu)?{...M(this,Hu),fetchStatus:"idle"}:{...p,error:A,errorUpdateCount:p.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:p.fetchFailureCount+1,fetchFailureReason:A,fetchStatus:"idle",status:"error"};case"invalidate":return{...p,isInvalidated:!0};case"setState":return{...p,...h.state}}};this.state=m(this.state),Mn.batch(()=>{this.observers.forEach(p=>{p.onQueryUpdate()}),M(this,oa).notify({query:this,type:"updated",action:h})})},cy);function Ky(f,h){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gy(h.networkMode)?"fetching":"paused",...f===void 0&&{error:null,status:"pending"}}}function e0(f){const h=typeof f.initialData=="function"?f.initialData():f.initialData,m=h!==void 0,p=m?typeof f.initialDataUpdatedAt=="function"?f.initialDataUpdatedAt():f.initialDataUpdatedAt:0;return{data:h,dataUpdateCount:0,dataUpdatedAt:m?p??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:m?"success":"pending",fetchStatus:"idle"}}var Li,fy,t0=(fy=class extends mh{constructor(h={}){super();Be(this,Li);this.config=h,Se(this,Li,new Map)}build(h,m,p){const A=m.queryKey,T=m.queryHash??hp(A,m);let I=this.get(T);return I||(I=new qb({client:h,queryKey:A,queryHash:T,options:h.defaultQueryOptions(m),state:p,defaultOptions:h.getQueryDefaults(A)}),this.add(I)),I}add(h){M(this,Li).has(h.queryHash)||(M(this,Li).set(h.queryHash,h),this.notify({type:"added",query:h}))}remove(h){const m=M(this,Li).get(h.queryHash);m&&(h.destroy(),m===h&&M(this,Li).delete(h.queryHash),this.notify({type:"removed",query:h}))}clear(){Mn.batch(()=>{this.getAll().forEach(h=>{this.remove(h)})})}get(h){return M(this,Li).get(h)}getAll(){return[...M(this,Li).values()]}find(h){const m={exact:!0,...h};return this.getAll().find(p=>Fp(m,p))}findAll(h={}){const m=this.getAll();return Object.keys(h).length>0?m.filter(p=>Fp(h,p)):m}notify(h){Mn.batch(()=>{this.listeners.forEach(m=>{m(h)})})}onFocus(){Mn.batch(()=>{this.getAll().forEach(h=>{h.onFocus()})})}onOnline(){Mn.batch(()=>{this.getAll().forEach(h=>{h.onOnline()})})}},Li=new WeakMap,fy),Mi,ar,Il,_i,So,hy,n0=(hy=class extends Wy{constructor(h){super();Be(this,_i);Be(this,Mi);Be(this,ar);Be(this,Il);this.mutationId=h.mutationId,Se(this,ar,h.mutationCache),Se(this,Mi,[]),this.state=h.state||r0(),this.setOptions(h.options),this.scheduleGc()}setOptions(h){this.options=h,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(h){M(this,Mi).includes(h)||(M(this,Mi).push(h),this.clearGcTimeout(),M(this,ar).notify({type:"observerAdded",mutation:this,observer:h}))}removeObserver(h){Se(this,Mi,M(this,Mi).filter(m=>m!==h)),this.scheduleGc(),M(this,ar).notify({type:"observerRemoved",mutation:this,observer:h})}optionalRemove(){M(this,Mi).length||(this.state.status==="pending"?this.scheduleGc():M(this,ar).remove(this))}continue(){var h;return((h=M(this,Il))==null?void 0:h.continue())??this.execute(this.state.variables)}async execute(h){var T,I,B,b,w,_,N,F,q,j,ie,H,te,me,se,we,le,Me,et,Le;const m=()=>{tt(this,_i,So).call(this,{type:"continue"})};Se(this,Il,ky({fn:()=>this.options.mutationFn?this.options.mutationFn(h):Promise.reject(new Error("No mutationFn found")),onFail:(Ne,ke)=>{tt(this,_i,So).call(this,{type:"failed",failureCount:Ne,error:ke})},onPause:()=>{tt(this,_i,So).call(this,{type:"pause"})},onContinue:m,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,ar).canRun(this)}));const p=this.state.status==="pending",A=!M(this,Il).canStart();try{if(p)m();else{tt(this,_i,So).call(this,{type:"pending",variables:h,isPaused:A}),await((I=(T=M(this,ar).config).onMutate)==null?void 0:I.call(T,h,this));const ke=await((b=(B=this.options).onMutate)==null?void 0:b.call(B,h));ke!==this.state.context&&tt(this,_i,So).call(this,{type:"pending",context:ke,variables:h,isPaused:A})}const Ne=await M(this,Il).start();return await((_=(w=M(this,ar).config).onSuccess)==null?void 0:_.call(w,Ne,h,this.state.context,this)),await((F=(N=this.options).onSuccess)==null?void 0:F.call(N,Ne,h,this.state.context)),await((j=(q=M(this,ar).config).onSettled)==null?void 0:j.call(q,Ne,null,this.state.variables,this.state.context,this)),await((H=(ie=this.options).onSettled)==null?void 0:H.call(ie,Ne,null,h,this.state.context)),tt(this,_i,So).call(this,{type:"success",data:Ne}),Ne}catch(Ne){try{throw await((me=(te=M(this,ar).config).onError)==null?void 0:me.call(te,Ne,h,this.state.context,this)),await((we=(se=this.options).onError)==null?void 0:we.call(se,Ne,h,this.state.context)),await((Me=(le=M(this,ar).config).onSettled)==null?void 0:Me.call(le,void 0,Ne,this.state.variables,this.state.context,this)),await((Le=(et=this.options).onSettled)==null?void 0:Le.call(et,void 0,Ne,h,this.state.context)),Ne}finally{tt(this,_i,So).call(this,{type:"error",error:Ne})}}finally{M(this,ar).runNext(this)}}},Mi=new WeakMap,ar=new WeakMap,Il=new WeakMap,_i=new WeakSet,So=function(h){const m=p=>{switch(h.type){case"failed":return{...p,failureCount:h.failureCount,failureReason:h.error};case"pause":return{...p,isPaused:!0};case"continue":return{...p,isPaused:!1};case"pending":return{...p,context:h.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:h.isPaused,status:"pending",variables:h.variables,submittedAt:Date.now()};case"success":return{...p,data:h.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...p,data:void 0,error:h.error,failureCount:p.failureCount+1,failureReason:h.error,isPaused:!1,status:"error"}}};this.state=m(this.state),Mn.batch(()=>{M(this,Mi).forEach(p=>{p.onMutationUpdate(h)}),M(this,ar).notify({mutation:this,type:"updated",action:h})})},hy);function r0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var As,Xa,ch,dy,a0=(dy=class extends mh{constructor(h={}){super();Be(this,As);Be(this,Xa);Be(this,ch);this.config=h,Se(this,As,new Set),Se(this,Xa,new Map),Se(this,ch,0)}build(h,m,p){const A=new n0({mutationCache:this,mutationId:++Eg(this,ch)._,options:h.defaultMutationOptions(m),state:p});return this.add(A),A}add(h){M(this,As).add(h);const m=Tg(h);if(typeof m=="string"){const p=M(this,Xa).get(m);p?p.push(h):M(this,Xa).set(m,[h])}this.notify({type:"added",mutation:h})}remove(h){if(M(this,As).delete(h)){const m=Tg(h);if(typeof m=="string"){const p=M(this,Xa).get(m);if(p)if(p.length>1){const A=p.indexOf(h);A!==-1&&p.splice(A,1)}else p[0]===h&&M(this,Xa).delete(m)}}this.notify({type:"removed",mutation:h})}canRun(h){const m=Tg(h);if(typeof m=="string"){const p=M(this,Xa).get(m),A=p==null?void 0:p.find(T=>T.state.status==="pending");return!A||A===h}else return!0}runNext(h){var p;const m=Tg(h);if(typeof m=="string"){const A=(p=M(this,Xa).get(m))==null?void 0:p.find(T=>T!==h&&T.state.isPaused);return(A==null?void 0:A.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mn.batch(()=>{M(this,As).forEach(h=>{this.notify({type:"removed",mutation:h})}),M(this,As).clear(),M(this,Xa).clear()})}getAll(){return Array.from(M(this,As))}find(h){const m={exact:!0,...h};return this.getAll().find(p=>Jp(m,p))}findAll(h={}){return this.getAll().filter(m=>Jp(h,m))}notify(h){Mn.batch(()=>{this.listeners.forEach(m=>{m(h)})})}resumePausedMutations(){const h=this.getAll().filter(m=>m.state.isPaused);return Mn.batch(()=>Promise.all(h.map(m=>m.continue().catch(la))))}},As=new WeakMap,Xa=new WeakMap,ch=new WeakMap,dy);function Tg(f){var h;return(h=f.options.scope)==null?void 0:h.id}function $p(f){return{onFetch:(h,m)=>{var _,N,F,q,j;const p=h.options,A=(F=(N=(_=h.fetchOptions)==null?void 0:_.meta)==null?void 0:N.fetchMore)==null?void 0:F.direction,T=((q=h.state.data)==null?void 0:q.pages)||[],I=((j=h.state.data)==null?void 0:j.pageParams)||[];let B={pages:[],pageParams:[]},b=0;const w=async()=>{let ie=!1;const H=se=>{Object.defineProperty(se,"signal",{enumerable:!0,get:()=>(h.signal.aborted?ie=!0:h.signal.addEventListener("abort",()=>{ie=!0}),h.signal)})},te=Zy(h.options,h.fetchOptions),me=async(se,we,le)=>{if(ie)return Promise.reject();if(we==null&&se.pages.length)return Promise.resolve(se);const Me={client:h.client,queryKey:h.queryKey,pageParam:we,direction:le?"backward":"forward",meta:h.options.meta};H(Me);const et=await te(Me),{maxPages:Le}=h.options,Ne=le?Fb:Pb;return{pages:Ne(se.pages,et,Le),pageParams:Ne(se.pageParams,we,Le)}};if(A&&T.length){const se=A==="backward",we=se?i0:Qp,le={pages:T,pageParams:I},Me=we(p,le);B=await me(le,Me,se)}else{const se=f??T.length;do{const we=b===0?I[0]??p.initialPageParam:Qp(p,B);if(b>0&&we==null)break;B=await me(B,we),b++}while(b<se)}return B};h.options.persister?h.fetchFn=()=>{var ie,H;return(H=(ie=h.options).persister)==null?void 0:H.call(ie,w,{client:h.client,queryKey:h.queryKey,meta:h.options.meta,signal:h.signal},m)}:h.fetchFn=w}}}function Qp(f,{pages:h,pageParams:m}){const p=h.length-1;return h.length>0?f.getNextPageParam(h[p],h,m[p],m):void 0}function i0(f,{pages:h,pageParams:m}){var p;return h.length>0?(p=f.getPreviousPageParam)==null?void 0:p.call(f,h[0],h,m[0],m):void 0}var jt,Ro,To,$u,Qu,wo,qu,ec,gy,s0=(gy=class{constructor(f={}){Be(this,jt);Be(this,Ro);Be(this,To);Be(this,$u);Be(this,Qu);Be(this,wo);Be(this,qu);Be(this,ec);Se(this,jt,f.queryCache||new t0),Se(this,Ro,f.mutationCache||new a0),Se(this,To,f.defaultOptions||{}),Se(this,$u,new Map),Se(this,Qu,new Map),Se(this,wo,0)}mount(){Eg(this,wo)._++,M(this,wo)===1&&(Se(this,qu,gp.subscribe(async f=>{f&&(await this.resumePausedMutations(),M(this,jt).onFocus())})),Se(this,ec,xg.subscribe(async f=>{f&&(await this.resumePausedMutations(),M(this,jt).onOnline())})))}unmount(){var f,h;Eg(this,wo)._--,M(this,wo)===0&&((f=M(this,qu))==null||f.call(this),Se(this,qu,void 0),(h=M(this,ec))==null||h.call(this),Se(this,ec,void 0))}isFetching(f){return M(this,jt).findAll({...f,fetchStatus:"fetching"}).length}isMutating(f){return M(this,Ro).findAll({...f,status:"pending"}).length}getQueryData(f){var m;const h=this.defaultQueryOptions({queryKey:f});return(m=M(this,jt).get(h.queryHash))==null?void 0:m.state.data}ensureQueryData(f){const h=this.defaultQueryOptions(f),m=M(this,jt).build(this,h),p=m.state.data;return p===void 0?this.fetchQuery(f):(f.revalidateIfStale&&m.isStaleByTime(Xu(h.staleTime,m))&&this.prefetchQuery(h),Promise.resolve(p))}getQueriesData(f){return M(this,jt).findAll(f).map(({queryKey:h,state:m})=>{const p=m.data;return[h,p]})}setQueryData(f,h,m){const p=this.defaultQueryOptions({queryKey:f}),A=M(this,jt).get(p.queryHash),T=A==null?void 0:A.state.data,I=Kb(h,T);if(I!==void 0)return M(this,jt).build(this,p).setData(I,{...m,manual:!0})}setQueriesData(f,h,m){return Mn.batch(()=>M(this,jt).findAll(f).map(({queryKey:p})=>[p,this.setQueryData(p,h,m)]))}getQueryState(f){var m;const h=this.defaultQueryOptions({queryKey:f});return(m=M(this,jt).get(h.queryHash))==null?void 0:m.state}removeQueries(f){const h=M(this,jt);Mn.batch(()=>{h.findAll(f).forEach(m=>{h.remove(m)})})}resetQueries(f,h){const m=M(this,jt);return Mn.batch(()=>(m.findAll(f).forEach(p=>{p.reset()}),this.refetchQueries({type:"active",...f},h)))}cancelQueries(f,h={}){const m={revert:!0,...h},p=Mn.batch(()=>M(this,jt).findAll(f).map(A=>A.cancel(m)));return Promise.all(p).then(la).catch(la)}invalidateQueries(f,h={}){return Mn.batch(()=>(M(this,jt).findAll(f).forEach(m=>{m.invalidate()}),(f==null?void 0:f.refetchType)==="none"?Promise.resolve():this.refetchQueries({...f,type:(f==null?void 0:f.refetchType)??(f==null?void 0:f.type)??"active"},h)))}refetchQueries(f,h={}){const m={...h,cancelRefetch:h.cancelRefetch??!0},p=Mn.batch(()=>M(this,jt).findAll(f).filter(A=>!A.isDisabled()).map(A=>{let T=A.fetch(void 0,m);return m.throwOnError||(T=T.catch(la)),A.state.fetchStatus==="paused"?Promise.resolve():T}));return Promise.all(p).then(la)}fetchQuery(f){const h=this.defaultQueryOptions(f);h.retry===void 0&&(h.retry=!1);const m=M(this,jt).build(this,h);return m.isStaleByTime(Xu(h.staleTime,m))?m.fetch(h):Promise.resolve(m.state.data)}prefetchQuery(f){return this.fetchQuery(f).then(la).catch(la)}fetchInfiniteQuery(f){return f.behavior=$p(f.pages),this.fetchQuery(f)}prefetchInfiniteQuery(f){return this.fetchInfiniteQuery(f).then(la).catch(la)}ensureInfiniteQueryData(f){return f.behavior=$p(f.pages),this.ensureQueryData(f)}resumePausedMutations(){return xg.isOnline()?M(this,Ro).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,jt)}getMutationCache(){return M(this,Ro)}getDefaultOptions(){return M(this,To)}setDefaultOptions(f){Se(this,To,f)}setQueryDefaults(f,h){M(this,$u).set(oh(f),{queryKey:f,defaultOptions:h})}getQueryDefaults(f){const h=[...M(this,$u).values()],m={};return h.forEach(p=>{lh(f,p.queryKey)&&Object.assign(m,p.defaultOptions)}),m}setMutationDefaults(f,h){M(this,Qu).set(oh(f),{mutationKey:f,defaultOptions:h})}getMutationDefaults(f){const h=[...M(this,Qu).values()],m={};return h.forEach(p=>{lh(f,p.mutationKey)&&Object.assign(m,p.defaultOptions)}),m}defaultQueryOptions(f){if(f._defaulted)return f;const h={...M(this,To).queries,...this.getQueryDefaults(f.queryKey),...f,_defaulted:!0};return h.queryHash||(h.queryHash=hp(h.queryKey,h)),h.refetchOnReconnect===void 0&&(h.refetchOnReconnect=h.networkMode!=="always"),h.throwOnError===void 0&&(h.throwOnError=!!h.suspense),!h.networkMode&&h.persister&&(h.networkMode="offlineFirst"),h.queryFn===dp&&(h.enabled=!1),h}defaultMutationOptions(f){return f!=null&&f._defaulted?f:{...M(this,To).mutations,...(f==null?void 0:f.mutationKey)&&this.getMutationDefaults(f.mutationKey),...f,_defaulted:!0}}clear(){M(this,jt).clear(),M(this,Ro).clear()}},jt=new WeakMap,Ro=new WeakMap,To=new WeakMap,$u=new WeakMap,Qu=new WeakMap,wo=new WeakMap,qu=new WeakMap,ec=new WeakMap,gy),wr,nt,fh,ir,Cl,tc,No,Io,hh,nc,rc,xl,Dl,Co,ac,Rt,ah,Hm,$m,Qm,qm,ep,tp,np,Xy,my,o0=(my=class extends mh{constructor(h,m){super();Be(this,Rt);Be(this,wr);Be(this,nt);Be(this,fh);Be(this,ir);Be(this,Cl);Be(this,tc);Be(this,No);Be(this,Io);Be(this,hh);Be(this,nc);Be(this,rc);Be(this,xl);Be(this,Dl);Be(this,Co);Be(this,ac,new Set);this.options=m,Se(this,wr,h),Se(this,Io,null),Se(this,No,jm()),this.options.experimental_prefetchInRender||M(this,No).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(m)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,nt).addObserver(this),qp(M(this,nt),this.options)?tt(this,Rt,ah).call(this):this.updateResult(),tt(this,Rt,qm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rp(M(this,nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rp(M(this,nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,tt(this,Rt,ep).call(this),tt(this,Rt,tp).call(this),M(this,nt).removeObserver(this)}setOptions(h){const m=this.options,p=M(this,nt);if(this.options=M(this,wr).defaultQueryOptions(h),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pa(this.options.enabled,M(this,nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");tt(this,Rt,np).call(this),M(this,nt).setOptions(this.options),m._defaulted&&!Pm(this.options,m)&&M(this,wr).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,nt),observer:this});const A=this.hasListeners();A&&ey(M(this,nt),p,this.options,m)&&tt(this,Rt,ah).call(this),this.updateResult(),A&&(M(this,nt)!==p||Pa(this.options.enabled,M(this,nt))!==Pa(m.enabled,M(this,nt))||Xu(this.options.staleTime,M(this,nt))!==Xu(m.staleTime,M(this,nt)))&&tt(this,Rt,Hm).call(this);const T=tt(this,Rt,$m).call(this);A&&(M(this,nt)!==p||Pa(this.options.enabled,M(this,nt))!==Pa(m.enabled,M(this,nt))||T!==M(this,Co))&&tt(this,Rt,Qm).call(this,T)}getOptimisticResult(h){const m=M(this,wr).getQueryCache().build(M(this,wr),h),p=this.createResult(m,h);return u0(this,p)&&(Se(this,ir,p),Se(this,tc,this.options),Se(this,Cl,M(this,nt).state)),p}getCurrentResult(){return M(this,ir)}trackResult(h,m){const p={};return Object.keys(h).forEach(A=>{Object.defineProperty(p,A,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(A),m==null||m(A),h[A])})}),p}trackProp(h){M(this,ac).add(h)}getCurrentQuery(){return M(this,nt)}refetch({...h}={}){return this.fetch({...h})}fetchOptimistic(h){const m=M(this,wr).defaultQueryOptions(h),p=M(this,wr).getQueryCache().build(M(this,wr),m);return p.fetch().then(()=>this.createResult(p,m))}fetch(h){return tt(this,Rt,ah).call(this,{...h,cancelRefetch:h.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,ir)))}createResult(h,m){var Ne;const p=M(this,nt),A=this.options,T=M(this,ir),I=M(this,Cl),B=M(this,tc),w=h!==p?h.state:M(this,fh),{state:_}=h;let N={..._},F=!1,q;if(m._optimisticResults){const ke=this.hasListeners(),yt=!ke&&qp(h,m),We=ke&&ey(h,p,m,A);(yt||We)&&(N={...N,...Ky(_.data,h.options)}),m._optimisticResults==="isRestoring"&&(N.fetchStatus="idle")}let{error:j,errorUpdatedAt:ie,status:H}=N;q=N.data;let te=!1;if(m.placeholderData!==void 0&&q===void 0&&H==="pending"){let ke;T!=null&&T.isPlaceholderData&&m.placeholderData===(B==null?void 0:B.placeholderData)?(ke=T.data,te=!0):ke=typeof m.placeholderData=="function"?m.placeholderData((Ne=M(this,rc))==null?void 0:Ne.state.data,M(this,rc)):m.placeholderData,ke!==void 0&&(H="success",q=Jm(T==null?void 0:T.data,ke,m),F=!0)}if(m.select&&q!==void 0&&!te)if(T&&q===(I==null?void 0:I.data)&&m.select===M(this,hh))q=M(this,nc);else try{Se(this,hh,m.select),q=m.select(q),q=Jm(T==null?void 0:T.data,q,m),Se(this,nc,q),Se(this,Io,null)}catch(ke){Se(this,Io,ke)}M(this,Io)&&(j=M(this,Io),q=M(this,nc),ie=Date.now(),H="error");const me=N.fetchStatus==="fetching",se=H==="pending",we=H==="error",le=se&&me,Me=q!==void 0,Le={status:H,fetchStatus:N.fetchStatus,isPending:se,isSuccess:H==="success",isError:we,isInitialLoading:le,isLoading:le,data:q,dataUpdatedAt:N.dataUpdatedAt,error:j,errorUpdatedAt:ie,failureCount:N.fetchFailureCount,failureReason:N.fetchFailureReason,errorUpdateCount:N.errorUpdateCount,isFetched:N.dataUpdateCount>0||N.errorUpdateCount>0,isFetchedAfterMount:N.dataUpdateCount>w.dataUpdateCount||N.errorUpdateCount>w.errorUpdateCount,isFetching:me,isRefetching:me&&!se,isLoadingError:we&&!Me,isPaused:N.fetchStatus==="paused",isPlaceholderData:F,isRefetchError:we&&Me,isStale:mp(h,m),refetch:this.refetch,promise:M(this,No)};if(this.options.experimental_prefetchInRender){const ke=Ht=>{Le.status==="error"?Ht.reject(Le.error):Le.data!==void 0&&Ht.resolve(Le.data)},yt=()=>{const Ht=Se(this,No,Le.promise=jm());ke(Ht)},We=M(this,No);switch(We.status){case"pending":h.queryHash===p.queryHash&&ke(We);break;case"fulfilled":(Le.status==="error"||Le.data!==We.value)&&yt();break;case"rejected":(Le.status!=="error"||Le.error!==We.reason)&&yt();break}}return Le}updateResult(){const h=M(this,ir),m=this.createResult(M(this,nt),this.options);if(Se(this,Cl,M(this,nt).state),Se(this,tc,this.options),M(this,Cl).data!==void 0&&Se(this,rc,M(this,nt)),Pm(m,h))return;Se(this,ir,m);const p=()=>{if(!h)return!0;const{notifyOnChangeProps:A}=this.options,T=typeof A=="function"?A():A;if(T==="all"||!T&&!M(this,ac).size)return!0;const I=new Set(T??M(this,ac));return this.options.throwOnError&&I.add("error"),Object.keys(M(this,ir)).some(B=>{const b=B;return M(this,ir)[b]!==h[b]&&I.has(b)})};tt(this,Rt,Xy).call(this,{listeners:p()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&tt(this,Rt,qm).call(this)}},wr=new WeakMap,nt=new WeakMap,fh=new WeakMap,ir=new WeakMap,Cl=new WeakMap,tc=new WeakMap,No=new WeakMap,Io=new WeakMap,hh=new WeakMap,nc=new WeakMap,rc=new WeakMap,xl=new WeakMap,Dl=new WeakMap,Co=new WeakMap,ac=new WeakMap,Rt=new WeakSet,ah=function(h){tt(this,Rt,np).call(this);let m=M(this,nt).fetch(this.options,h);return h!=null&&h.throwOnError||(m=m.catch(la)),m},Hm=function(){tt(this,Rt,ep).call(this);const h=Xu(this.options.staleTime,M(this,nt));if(Ol||M(this,ir).isStale||!Xm(h))return;const p=_y(M(this,ir).dataUpdatedAt,h)+1;Se(this,xl,setTimeout(()=>{M(this,ir).isStale||this.updateResult()},p))},$m=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,nt)):this.options.refetchInterval)??!1},Qm=function(h){tt(this,Rt,tp).call(this),Se(this,Co,h),!(Ol||Pa(this.options.enabled,M(this,nt))===!1||!Xm(M(this,Co))||M(this,Co)===0)&&Se(this,Dl,setInterval(()=>{(this.options.refetchIntervalInBackground||gp.isFocused())&&tt(this,Rt,ah).call(this)},M(this,Co)))},qm=function(){tt(this,Rt,Hm).call(this),tt(this,Rt,Qm).call(this,tt(this,Rt,$m).call(this))},ep=function(){M(this,xl)&&(clearTimeout(M(this,xl)),Se(this,xl,void 0))},tp=function(){M(this,Dl)&&(clearInterval(M(this,Dl)),Se(this,Dl,void 0))},np=function(){const h=M(this,wr).getQueryCache().build(M(this,wr),this.options);if(h===M(this,nt))return;const m=M(this,nt);Se(this,nt,h),Se(this,fh,h.state),this.hasListeners()&&(m==null||m.removeObserver(this),h.addObserver(this))},Xy=function(h){Mn.batch(()=>{h.listeners&&this.listeners.forEach(m=>{m(M(this,ir))}),M(this,wr).getQueryCache().notify({query:M(this,nt),type:"observerResultsUpdated"})})},my);function l0(f,h){return Pa(h.enabled,f)!==!1&&f.state.data===void 0&&!(f.state.status==="error"&&h.retryOnMount===!1)}function qp(f,h){return l0(f,h)||f.state.data!==void 0&&rp(f,h,h.refetchOnMount)}function rp(f,h,m){if(Pa(h.enabled,f)!==!1){const p=typeof m=="function"?m(f):m;return p==="always"||p!==!1&&mp(f,h)}return!1}function ey(f,h,m,p){return(f!==h||Pa(p.enabled,f)===!1)&&(!m.suspense||f.state.status!=="error")&&mp(f,m)}function mp(f,h){return Pa(h.enabled,f)!==!1&&f.isStaleByTime(Xu(h.staleTime,f))}function u0(f,h){return!Pm(f.getCurrentResult(),h)}var Py=X.createContext(void 0),c0=f=>{const h=X.useContext(Py);if(!h)throw new Error("No QueryClient set, use QueryClientProvider to set one");return h},f0=({client:f,children:h})=>(X.useEffect(()=>(f.mount(),()=>{f.unmount()}),[f]),Je.jsx(Py.Provider,{value:f,children:h})),Fy=X.createContext(!1),h0=()=>X.useContext(Fy);Fy.Provider;function d0(){let f=!1;return{clearReset:()=>{f=!1},reset:()=>{f=!0},isReset:()=>f}}var g0=X.createContext(d0()),m0=()=>X.useContext(g0);function p0(f,h){return typeof f=="function"?f(...h):!!f}function ty(){}var y0=(f,h)=>{(f.suspense||f.throwOnError||f.experimental_prefetchInRender)&&(h.isReset()||(f.retryOnMount=!1))},v0=f=>{X.useEffect(()=>{f.clearReset()},[f])},b0=({result:f,errorResetBoundary:h,throwOnError:m,query:p,suspense:A})=>f.isError&&!h.isReset()&&!f.isFetching&&p&&(A&&f.data===void 0||p0(m,[f.error,p])),S0=f=>{const h=f.staleTime;f.suspense&&(f.staleTime=typeof h=="function"?(...m)=>Math.max(h(...m),1e3):Math.max(h??1e3,1e3),typeof f.gcTime=="number"&&(f.gcTime=Math.max(f.gcTime,1e3)))},A0=(f,h)=>f.isLoading&&f.isFetching&&!h,E0=(f,h)=>(f==null?void 0:f.suspense)&&h.isPending,ny=(f,h,m)=>h.fetchOptimistic(f).catch(()=>{m.clearReset()});function R0(f,h,m){var N,F,q,j,ie;const p=c0(),A=h0(),T=m0(),I=p.defaultQueryOptions(f);(F=(N=p.getDefaultOptions().queries)==null?void 0:N._experimental_beforeQuery)==null||F.call(N,I),I._optimisticResults=A?"isRestoring":"optimistic",S0(I),y0(I,T),v0(T);const B=!p.getQueryCache().get(I.queryHash),[b]=X.useState(()=>new h(p,I)),w=b.getOptimisticResult(I),_=!A&&f.subscribed!==!1;if(X.useSyncExternalStore(X.useCallback(H=>{const te=_?b.subscribe(Mn.batchCalls(H)):ty;return b.updateResult(),te},[b,_]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),X.useEffect(()=>{b.setOptions(I)},[I,b]),E0(I,w))throw ny(I,b,T);if(b0({result:w,errorResetBoundary:T,throwOnError:I.throwOnError,query:p.getQueryCache().get(I.queryHash),suspense:I.suspense}))throw w.error;if((j=(q=p.getDefaultOptions().queries)==null?void 0:q._experimental_afterQuery)==null||j.call(q,I,w),I.experimental_prefetchInRender&&!Ol&&A0(w,A)){const H=B?ny(I,b,T):(ie=p.getQueryCache().get(I.queryHash))==null?void 0:ie.promise;H==null||H.catch(ty).finally(()=>{b.updateResult()})}return I.notifyOnChangeProps?w:b.trackResult(w)}function Jy(f,h){return R0(f,o0)}function T0(f){if(typeof document>"u")return;let h=document.head||document.getElementsByTagName("head")[0],m=document.createElement("style");m.type="text/css",h.appendChild(m),m.styleSheet?m.styleSheet.cssText=f:m.appendChild(document.createTextNode(f))}const w0=f=>{switch(f){case"success":return C0;case"info":return D0;case"warning":return x0;case"error":return O0;default:return null}},N0=Array(12).fill(0),I0=({visible:f,className:h})=>de.createElement("div",{className:["sonner-loading-wrapper",h].filter(Boolean).join(" "),"data-visible":f},de.createElement("div",{className:"sonner-spinner"},N0.map((m,p)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${p}`})))),C0=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),x0=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),D0=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),O0=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),V0=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),B0=()=>{const[f,h]=de.useState(document.hidden);return de.useEffect(()=>{const m=()=>{h(document.hidden)};return document.addEventListener("visibilitychange",m),()=>window.removeEventListener("visibilitychange",m)},[]),f};let ap=1;class U0{constructor(){this.subscribe=h=>(this.subscribers.push(h),()=>{const m=this.subscribers.indexOf(h);this.subscribers.splice(m,1)}),this.publish=h=>{this.subscribers.forEach(m=>m(h))},this.addToast=h=>{this.publish(h),this.toasts=[...this.toasts,h]},this.create=h=>{var m;const{message:p,...A}=h,T=typeof(h==null?void 0:h.id)=="number"||((m=h.id)==null?void 0:m.length)>0?h.id:ap++,I=this.toasts.find(b=>b.id===T),B=h.dismissible===void 0?!0:h.dismissible;return this.dismissedToasts.has(T)&&this.dismissedToasts.delete(T),I?this.toasts=this.toasts.map(b=>b.id===T?(this.publish({...b,...h,id:T,title:p}),{...b,...h,id:T,dismissible:B,title:p}):b):this.addToast({title:p,...A,dismissible:B,id:T}),T},this.dismiss=h=>(h?(this.dismissedToasts.add(h),requestAnimationFrame(()=>this.subscribers.forEach(m=>m({id:h,dismiss:!0})))):this.toasts.forEach(m=>{this.subscribers.forEach(p=>p({id:m.id,dismiss:!0}))}),h),this.message=(h,m)=>this.create({...m,message:h}),this.error=(h,m)=>this.create({...m,message:h,type:"error"}),this.success=(h,m)=>this.create({...m,type:"success",message:h}),this.info=(h,m)=>this.create({...m,type:"info",message:h}),this.warning=(h,m)=>this.create({...m,type:"warning",message:h}),this.loading=(h,m)=>this.create({...m,type:"loading",message:h}),this.promise=(h,m)=>{if(!m)return;let p;m.loading!==void 0&&(p=this.create({...m,promise:h,type:"loading",message:m.loading,description:typeof m.description!="function"?m.description:void 0}));const A=Promise.resolve(h instanceof Function?h():h);let T=p!==void 0,I;const B=A.then(async w=>{if(I=["resolve",w],de.isValidElement(w))T=!1,this.create({id:p,type:"default",message:w});else if(M0(w)&&!w.ok){T=!1;const N=typeof m.error=="function"?await m.error(`HTTP error! status: ${w.status}`):m.error,F=typeof m.description=="function"?await m.description(`HTTP error! status: ${w.status}`):m.description,j=typeof N=="object"&&!de.isValidElement(N)?N:{message:N};this.create({id:p,type:"error",description:F,...j})}else if(w instanceof Error){T=!1;const N=typeof m.error=="function"?await m.error(w):m.error,F=typeof m.description=="function"?await m.description(w):m.description,j=typeof N=="object"&&!de.isValidElement(N)?N:{message:N};this.create({id:p,type:"error",description:F,...j})}else if(m.success!==void 0){T=!1;const N=typeof m.success=="function"?await m.success(w):m.success,F=typeof m.description=="function"?await m.description(w):m.description,j=typeof N=="object"&&!de.isValidElement(N)?N:{message:N};this.create({id:p,type:"success",description:F,...j})}}).catch(async w=>{if(I=["reject",w],m.error!==void 0){T=!1;const _=typeof m.error=="function"?await m.error(w):m.error,N=typeof m.description=="function"?await m.description(w):m.description,q=typeof _=="object"&&!de.isValidElement(_)?_:{message:_};this.create({id:p,type:"error",description:N,...q})}}).finally(()=>{T&&(this.dismiss(p),p=void 0),m.finally==null||m.finally.call(m)}),b=()=>new Promise((w,_)=>B.then(()=>I[0]==="reject"?_(I[1]):w(I[1])).catch(_));return typeof p!="string"&&typeof p!="number"?{unwrap:b}:Object.assign(p,{unwrap:b})},this.custom=(h,m)=>{const p=(m==null?void 0:m.id)||ap++;return this.create({jsx:h(p),id:p,...m}),p},this.getActiveToasts=()=>this.toasts.filter(h=>!this.dismissedToasts.has(h.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Nr=new U0,L0=(f,h)=>{const m=(h==null?void 0:h.id)||ap++;return Nr.addToast({title:f,...h,id:m}),m},M0=f=>f&&typeof f=="object"&&"ok"in f&&typeof f.ok=="boolean"&&"status"in f&&typeof f.status=="number",_0=L0,Y0=()=>Nr.toasts,Z0=()=>Nr.getActiveToasts(),G0=Object.assign(_0,{success:Nr.success,info:Nr.info,warning:Nr.warning,error:Nr.error,custom:Nr.custom,message:Nr.message,promise:Nr.promise,dismiss:Nr.dismiss,loading:Nr.loading},{getHistory:Y0,getToasts:Z0});T0("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function wg(f){return f.label!==void 0}const z0=3,k0="24px",W0="16px",ry=4e3,K0=356,X0=14,P0=45,F0=200;function Bi(...f){return f.filter(Boolean).join(" ")}function J0(f){const[h,m]=f.split("-"),p=[];return h&&p.push(h),m&&p.push(m),p}const j0=f=>{var h,m,p,A,T,I,B,b,w;const{invert:_,toast:N,unstyled:F,interacting:q,setHeights:j,visibleToasts:ie,heights:H,index:te,toasts:me,expanded:se,removeToast:we,defaultRichColors:le,closeButton:Me,style:et,cancelButtonStyle:Le,actionButtonStyle:Ne,className:ke="",descriptionClassName:yt="",duration:We,position:Ht,gap:Ir,expandByDefault:it,classNames:W,icons:he,closeButtonAriaLabel:Ee="Close toast"}=f,[Oe,O]=de.useState(null),[$,ce]=de.useState(null),[oe,ye]=de.useState(!1),[_e,ve]=de.useState(!1),[$t,$e]=de.useState(!1),[ge,ca]=de.useState(!1),[Yi,Ts]=de.useState(!1),[Do,fa]=de.useState(0),[Oo,Vo]=de.useState(0),bn=de.useRef(N.duration||We||ry),Bo=de.useRef(null),sr=de.useRef(null),Bl=te===0,ja=te+1<=ie,Nn=N.type,Ut=N.dismissible!==!1,lc=N.className||"",Uo=N.descriptionClassName||"",or=de.useMemo(()=>H.findIndex(Ae=>Ae.toastId===N.id)||0,[H,N.id]),He=de.useMemo(()=>{var Ae;return(Ae=N.closeButton)!=null?Ae:Me},[N.closeButton,Me]),lr=de.useMemo(()=>N.duration||We||ry,[N.duration,We]),rn=de.useRef(0),ha=de.useRef(0),Lo=de.useRef(0),da=de.useRef(null),[Zi,Ha]=Ht.split("-"),ur=de.useMemo(()=>H.reduce((Ae,Lt,kt)=>kt>=or?Ae:Ae+Lt.height,0),[H,or]),$a=B0(),Gi=N.invert||_,Cr=Nn==="loading";ha.current=de.useMemo(()=>or*Ir+ur,[or,ur]),de.useEffect(()=>{bn.current=lr},[lr]),de.useEffect(()=>{ye(!0)},[]),de.useEffect(()=>{const Ae=sr.current;if(Ae){const Lt=Ae.getBoundingClientRect().height;return Vo(Lt),j(kt=>[{toastId:N.id,height:Lt,position:N.position},...kt]),()=>j(kt=>kt.filter(an=>an.toastId!==N.id))}},[j,N.id]),de.useLayoutEffect(()=>{if(!oe)return;const Ae=sr.current,Lt=Ae.style.height;Ae.style.height="auto";const kt=Ae.getBoundingClientRect().height;Ae.style.height=Lt,Vo(kt),j(an=>an.find(ut=>ut.toastId===N.id)?an.map(ut=>ut.toastId===N.id?{...ut,height:kt}:ut):[{toastId:N.id,height:kt,position:N.position},...an])},[oe,N.title,N.description,j,N.id]);const cr=de.useCallback(()=>{ve(!0),fa(ha.current),j(Ae=>Ae.filter(Lt=>Lt.toastId!==N.id)),setTimeout(()=>{we(N)},F0)},[N,we,j,ha]);de.useEffect(()=>{if(N.promise&&Nn==="loading"||N.duration===1/0||N.type==="loading")return;let Ae;return se||q||$a?(()=>{if(Lo.current<rn.current){const an=new Date().getTime()-rn.current;bn.current=bn.current-an}Lo.current=new Date().getTime()})():(()=>{bn.current!==1/0&&(rn.current=new Date().getTime(),Ae=setTimeout(()=>{N.onAutoClose==null||N.onAutoClose.call(N,N),cr()},bn.current))})(),()=>clearTimeout(Ae)},[se,q,N,Nn,$a,cr]),de.useEffect(()=>{N.delete&&cr()},[cr,N.delete]);function Ul(){var Ae;if(he!=null&&he.loading){var Lt;return de.createElement("div",{className:Bi(W==null?void 0:W.loader,N==null||(Lt=N.classNames)==null?void 0:Lt.loader,"sonner-loader"),"data-visible":Nn==="loading"},he.loading)}return de.createElement(I0,{className:Bi(W==null?void 0:W.loader,N==null||(Ae=N.classNames)==null?void 0:Ae.loader),visible:Nn==="loading"})}const zi=N.icon||(he==null?void 0:he[Nn])||w0(Nn);var ga,ki;return de.createElement("li",{tabIndex:0,ref:sr,className:Bi(ke,lc,W==null?void 0:W.toast,N==null||(h=N.classNames)==null?void 0:h.toast,W==null?void 0:W.default,W==null?void 0:W[Nn],N==null||(m=N.classNames)==null?void 0:m[Nn]),"data-sonner-toast":"","data-rich-colors":(ga=N.richColors)!=null?ga:le,"data-styled":!(N.jsx||N.unstyled||F),"data-mounted":oe,"data-promise":!!N.promise,"data-swiped":Yi,"data-removed":_e,"data-visible":ja,"data-y-position":Zi,"data-x-position":Ha,"data-index":te,"data-front":Bl,"data-swiping":$t,"data-dismissible":Ut,"data-type":Nn,"data-invert":Gi,"data-swipe-out":ge,"data-swipe-direction":$,"data-expanded":!!(se||it&&oe),style:{"--index":te,"--toasts-before":te,"--z-index":me.length-te,"--offset":`${_e?Do:ha.current}px`,"--initial-height":it?"auto":`${Oo}px`,...et,...N.style},onDragEnd:()=>{$e(!1),O(null),da.current=null},onPointerDown:Ae=>{Cr||!Ut||(Bo.current=new Date,fa(ha.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&($e(!0),da.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,Lt,kt;if(ge||!Ut)return;da.current=null;const an=Number(((Ae=sr.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wi=Number(((Lt=sr.current)==null?void 0:Lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ut=new Date().getTime()-((kt=Bo.current)==null?void 0:kt.getTime()),Mt=Oe==="x"?an:Wi,_t=Math.abs(Mt)/ut;if(Math.abs(Mt)>=P0||_t>.11){fa(ha.current),N.onDismiss==null||N.onDismiss.call(N,N),ce(Oe==="x"?an>0?"right":"left":Wi>0?"down":"up"),cr(),ca(!0);return}else{var ct,sn;(ct=sr.current)==null||ct.style.setProperty("--swipe-amount-x","0px"),(sn=sr.current)==null||sn.style.setProperty("--swipe-amount-y","0px")}Ts(!1),$e(!1),O(null)},onPointerMove:Ae=>{var Lt,kt,an;if(!da.current||!Ut||((Lt=window.getSelection())==null?void 0:Lt.toString().length)>0)return;const ut=Ae.clientY-da.current.y,Mt=Ae.clientX-da.current.x;var _t;const ct=(_t=f.swipeDirections)!=null?_t:J0(Ht);!Oe&&(Math.abs(Mt)>1||Math.abs(ut)>1)&&O(Math.abs(Mt)>Math.abs(ut)?"x":"y");let sn={x:0,y:0};const ws=xr=>1/(1.5+Math.abs(xr)/20);if(Oe==="y"){if(ct.includes("top")||ct.includes("bottom"))if(ct.includes("top")&&ut<0||ct.includes("bottom")&&ut>0)sn.y=ut;else{const xr=ut*ws(ut);sn.y=Math.abs(xr)<Math.abs(ut)?xr:ut}}else if(Oe==="x"&&(ct.includes("left")||ct.includes("right")))if(ct.includes("left")&&Mt<0||ct.includes("right")&&Mt>0)sn.x=Mt;else{const xr=Mt*ws(Mt);sn.x=Math.abs(xr)<Math.abs(Mt)?xr:Mt}(Math.abs(sn.x)>0||Math.abs(sn.y)>0)&&Ts(!0),(kt=sr.current)==null||kt.style.setProperty("--swipe-amount-x",`${sn.x}px`),(an=sr.current)==null||an.style.setProperty("--swipe-amount-y",`${sn.y}px`)}},He&&!N.jsx&&Nn!=="loading"?de.createElement("button",{"aria-label":Ee,"data-disabled":Cr,"data-close-button":!0,onClick:Cr||!Ut?()=>{}:()=>{cr(),N.onDismiss==null||N.onDismiss.call(N,N)},className:Bi(W==null?void 0:W.closeButton,N==null||(p=N.classNames)==null?void 0:p.closeButton)},(ki=he==null?void 0:he.close)!=null?ki:V0):null,(Nn||N.icon||N.promise)&&N.icon!==null&&((he==null?void 0:he[Nn])!==null||N.icon)?de.createElement("div",{"data-icon":"",className:Bi(W==null?void 0:W.icon,N==null||(A=N.classNames)==null?void 0:A.icon)},N.promise||N.type==="loading"&&!N.icon?N.icon||Ul():null,N.type!=="loading"?zi:null):null,de.createElement("div",{"data-content":"",className:Bi(W==null?void 0:W.content,N==null||(T=N.classNames)==null?void 0:T.content)},de.createElement("div",{"data-title":"",className:Bi(W==null?void 0:W.title,N==null||(I=N.classNames)==null?void 0:I.title)},N.jsx?N.jsx:typeof N.title=="function"?N.title():N.title),N.description?de.createElement("div",{"data-description":"",className:Bi(yt,Uo,W==null?void 0:W.description,N==null||(B=N.classNames)==null?void 0:B.description)},typeof N.description=="function"?N.description():N.description):null),de.isValidElement(N.cancel)?N.cancel:N.cancel&&wg(N.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:N.cancelButtonStyle||Le,onClick:Ae=>{wg(N.cancel)&&Ut&&(N.cancel.onClick==null||N.cancel.onClick.call(N.cancel,Ae),cr())},className:Bi(W==null?void 0:W.cancelButton,N==null||(b=N.classNames)==null?void 0:b.cancelButton)},N.cancel.label):null,de.isValidElement(N.action)?N.action:N.action&&wg(N.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:N.actionButtonStyle||Ne,onClick:Ae=>{wg(N.action)&&(N.action.onClick==null||N.action.onClick.call(N.action,Ae),!Ae.defaultPrevented&&cr())},className:Bi(W==null?void 0:W.actionButton,N==null||(w=N.classNames)==null?void 0:w.actionButton)},N.action.label):null)};function ay(){if(typeof window>"u"||typeof document>"u")return"ltr";const f=document.documentElement.getAttribute("dir");return f==="auto"||!f?window.getComputedStyle(document.documentElement).direction:f}function H0(f,h){const m={};return[f,h].forEach((p,A)=>{const T=A===1,I=T?"--mobile-offset":"--offset",B=T?W0:k0;function b(w){["top","right","bottom","left"].forEach(_=>{m[`${I}-${_}`]=typeof w=="number"?`${w}px`:w})}typeof p=="number"||typeof p=="string"?b(p):typeof p=="object"?["top","right","bottom","left"].forEach(w=>{p[w]===void 0?m[`${I}-${w}`]=B:m[`${I}-${w}`]=typeof p[w]=="number"?`${p[w]}px`:p[w]}):b(B)}),m}const $0=de.forwardRef(function(h,m){const{invert:p,position:A="bottom-right",hotkey:T=["altKey","KeyT"],expand:I,closeButton:B,className:b,offset:w,mobileOffset:_,theme:N="light",richColors:F,duration:q,style:j,visibleToasts:ie=z0,toastOptions:H,dir:te=ay(),gap:me=X0,icons:se,containerAriaLabel:we="Notifications"}=h,[le,Me]=de.useState([]),et=de.useMemo(()=>Array.from(new Set([A].concat(le.filter($=>$.position).map($=>$.position)))),[le,A]),[Le,Ne]=de.useState([]),[ke,yt]=de.useState(!1),[We,Ht]=de.useState(!1),[Ir,it]=de.useState(N!=="system"?N:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=de.useRef(null),he=T.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ee=de.useRef(null),Oe=de.useRef(!1),O=de.useCallback($=>{Me(ce=>{var oe;return(oe=ce.find(ye=>ye.id===$.id))!=null&&oe.delete||Nr.dismiss($.id),ce.filter(({id:ye})=>ye!==$.id)})},[]);return de.useEffect(()=>Nr.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{Me(ce=>ce.map(oe=>oe.id===$.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{Wb.flushSync(()=>{Me(ce=>{const oe=ce.findIndex(ye=>ye.id===$.id);return oe!==-1?[...ce.slice(0,oe),{...ce[oe],...$},...ce.slice(oe+1)]:[$,...ce]})})})}),[le]),de.useEffect(()=>{if(N!=="system"){it(N);return}if(N==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?it("dark"):it("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:ce})=>{it(ce?"dark":"light")})}catch{$.addListener(({matches:oe})=>{try{it(oe?"dark":"light")}catch(ye){console.error(ye)}})}},[N]),de.useEffect(()=>{le.length<=1&&yt(!1)},[le]),de.useEffect(()=>{const $=ce=>{var oe;if(T.every(ve=>ce[ve]||ce.code===ve)){var _e;yt(!0),(_e=W.current)==null||_e.focus()}ce.code==="Escape"&&(document.activeElement===W.current||(oe=W.current)!=null&&oe.contains(document.activeElement))&&yt(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[T]),de.useEffect(()=>{if(W.current)return()=>{Ee.current&&(Ee.current.focus({preventScroll:!0}),Ee.current=null,Oe.current=!1)}},[W.current]),de.createElement("section",{ref:m,"aria-label":`${we} ${he}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},et.map(($,ce)=>{var oe;const[ye,_e]=$.split("-");return le.length?de.createElement("ol",{key:$,dir:te==="auto"?ay():te,tabIndex:-1,ref:W,className:b,"data-sonner-toaster":!0,"data-sonner-theme":Ir,"data-y-position":ye,"data-lifted":ke&&le.length>1&&!I,"data-x-position":_e,style:{"--front-toast-height":`${((oe=Le[0])==null?void 0:oe.height)||0}px`,"--width":`${K0}px`,"--gap":`${me}px`,...j,...H0(w,_)},onBlur:ve=>{Oe.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(Oe.current=!1,Ee.current&&(Ee.current.focus({preventScroll:!0}),Ee.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||Oe.current||(Oe.current=!0,Ee.current=ve.relatedTarget)},onMouseEnter:()=>yt(!0),onMouseMove:()=>yt(!0),onMouseLeave:()=>{We||yt(!1)},onDragEnd:()=>yt(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||Ht(!0)},onPointerUp:()=>Ht(!1)},le.filter(ve=>!ve.position&&ce===0||ve.position===$).map((ve,$t)=>{var $e,ge;return de.createElement(j0,{key:ve.id,icons:se,index:$t,toast:ve,defaultRichColors:F,duration:($e=H==null?void 0:H.duration)!=null?$e:q,className:H==null?void 0:H.className,descriptionClassName:H==null?void 0:H.descriptionClassName,invert:p,visibleToasts:ie,closeButton:(ge=H==null?void 0:H.closeButton)!=null?ge:B,interacting:We,position:$,style:H==null?void 0:H.style,unstyled:H==null?void 0:H.unstyled,classNames:H==null?void 0:H.classNames,cancelButtonStyle:H==null?void 0:H.cancelButtonStyle,actionButtonStyle:H==null?void 0:H.actionButtonStyle,closeButtonAriaLabel:H==null?void 0:H.closeButtonAriaLabel,removeToast:O,toasts:le.filter(ca=>ca.position==ve.position),heights:Le.filter(ca=>ca.position==ve.position),setHeights:Ne,expandByDefault:I,gap:me,expanded:ke,swipeDirections:h.swipeDirections})})):null}))});/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=f=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q0=f=>f.replace(/^([A-Z])|[\s-_]+(\w)/g,(h,m,p)=>p?p.toUpperCase():m.toLowerCase()),iy=f=>{const h=q0(f);return h.charAt(0).toUpperCase()+h.slice(1)},jy=(...f)=>f.filter((h,m,p)=>!!h&&h.trim()!==""&&p.indexOf(h)===m).join(" ").trim(),eS=f=>{for(const h in f)if(h.startsWith("aria-")||h==="role"||h==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=X.forwardRef(({color:f="currentColor",size:h=24,strokeWidth:m=2,absoluteStrokeWidth:p,className:A="",children:T,iconNode:I,...B},b)=>X.createElement("svg",{ref:b,...tS,width:h,height:h,stroke:f,strokeWidth:p?Number(m)*24/Number(h):m,className:jy("lucide",A),...!T&&!eS(B)&&{"aria-hidden":"true"},...B},[...I.map(([w,_])=>X.createElement(w,_)),...Array.isArray(T)?T:[T]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=(f,h)=>{const m=X.forwardRef(({className:p,...A},T)=>X.createElement(nS,{ref:T,iconNode:h,className:jy(`lucide-${Q0(iy(f))}`,`lucide-${f}`,p),...A}));return m.displayName=iy(f),m};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],iS=rS("loader-circle",aS),pp=()=>Je.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]","aria-live":"polite",children:[Je.jsx(iS,{className:"h-8 w-8 animate-spin text-primary"}),Je.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading..."})]});async function sS(){if(!(await fetch("https://wafflebase-api.yorkie.dev/auth/logout",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to log out");G0.success("Logged out successfully"),window.location.href="/login"}async function Hy(){const f=await oS("https://wafflebase-api.yorkie.dev/auth/me",{method:"GET",credentials:"include"});if(!f.ok)throw new Error("Failed to fetch user");return f.json()}async function oS(f,h){const m=await fetch(f,{...h,credentials:"include"});if(m.status===401)throw await sS(),new Error("Unauthorized");return m}var ih={exports:{}},lS=ih.exports,sy;function uS(){return sy||(sy=1,function(f,h){var m={};(function(p,A){A(h,yy(),Dg())})(lS,function(p,A,T){var I;(function(a){a[a.Canceled=1]="Canceled",a[a.Unknown=2]="Unknown",a[a.InvalidArgument=3]="InvalidArgument",a[a.DeadlineExceeded=4]="DeadlineExceeded",a[a.NotFound=5]="NotFound",a[a.AlreadyExists=6]="AlreadyExists",a[a.PermissionDenied=7]="PermissionDenied",a[a.ResourceExhausted=8]="ResourceExhausted",a[a.FailedPrecondition=9]="FailedPrecondition",a[a.Aborted=10]="Aborted",a[a.OutOfRange=11]="OutOfRange",a[a.Unimplemented=12]="Unimplemented",a[a.Internal=13]="Internal",a[a.Unavailable=14]="Unavailable",a[a.DataLoss=15]="DataLoss",a[a.Unauthenticated=16]="Unauthenticated"})(I||(I={}));function B(a,e){return a!==null&&typeof a=="object"&&"$typeName"in a&&typeof a.$typeName=="string"?e===void 0?!0:e.typeName===a.$typeName:!1}var b;(function(a){a[a.DOUBLE=1]="DOUBLE",a[a.FLOAT=2]="FLOAT",a[a.INT64=3]="INT64",a[a.UINT64=4]="UINT64",a[a.INT32=5]="INT32",a[a.FIXED64=6]="FIXED64",a[a.FIXED32=7]="FIXED32",a[a.BOOL=8]="BOOL",a[a.STRING=9]="STRING",a[a.BYTES=12]="BYTES",a[a.UINT32=13]="UINT32",a[a.SFIXED32=15]="SFIXED32",a[a.SFIXED64=16]="SFIXED64",a[a.SINT32=17]="SINT32",a[a.SINT64=18]="SINT64"})(b||(b={}));function w(){let a=0,e=0;for(let i=0;i<28;i+=7){let l=this.buf[this.pos++];if(a|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[a,e]}let n=this.buf[this.pos++];if(a|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[a,e];for(let i=3;i<=31;i+=7){let l=this.buf[this.pos++];if(e|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[a,e]}throw new Error("invalid varint")}function _(a,e,n){for(let c=0;c<28;c=c+7){const g=a>>>c,y=!(!(g>>>7)&&e==0),S=(y?g|128:g)&255;if(n.push(S),!y)return}const i=a>>>28&15|(e&7)<<4,l=e>>3!=0;if(n.push((l?i|128:i)&255),!!l){for(let c=3;c<31;c=c+7){const g=e>>>c,y=!!(g>>>7),S=(y?g|128:g)&255;if(n.push(S),!y)return}n.push(e>>>31&1)}}const N=4294967296;function F(a){const e=a[0]==="-";e&&(a=a.slice(1));const n=1e6;let i=0,l=0;function c(g,y){const S=Number(a.slice(g,y));l*=n,i=i*n+S,i>=N&&(l=l+(i/N|0),i=i%N)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),e?te(i,l):H(i,l)}function q(a,e){let n=H(a,e);const i=n.hi&2147483648;i&&(n=te(n.lo,n.hi));const l=j(n.lo,n.hi);return i?"-"+l:l}function j(a,e){if({lo:a,hi:e}=ie(a,e),e<=2097151)return String(N*e+a);const n=a&16777215,i=(a>>>24|e<<8)&16777215,l=e>>16&65535;let c=n+i*6777216+l*6710656,g=i+l*8147497,y=l*2;const S=1e7;return c>=S&&(g+=Math.floor(c/S),c%=S),g>=S&&(y+=Math.floor(g/S),g%=S),y.toString()+me(g)+me(c)}function ie(a,e){return{lo:a>>>0,hi:e>>>0}}function H(a,e){return{lo:a|0,hi:e|0}}function te(a,e){return e=~e,a?a=~a+1:e+=1,H(a,e)}const me=a=>{const e=String(a);return"0000000".slice(e.length)+e};function se(a,e){if(a>=0){for(;a>127;)e.push(a&127|128),a=a>>>7;e.push(a)}else{for(let n=0;n<9;n++)e.push(a&127|128),a=a>>7;e.push(1)}}function we(){let a=this.buf[this.pos++],e=a&127;if((a&128)==0)return this.assertBounds(),e;if(a=this.buf[this.pos++],e|=(a&127)<<7,(a&128)==0)return this.assertBounds(),e;if(a=this.buf[this.pos++],e|=(a&127)<<14,(a&128)==0)return this.assertBounds(),e;if(a=this.buf[this.pos++],e|=(a&127)<<21,(a&128)==0)return this.assertBounds(),e;a=this.buf[this.pos++],e|=(a&15)<<28;for(let n=5;(a&128)!==0&&n<10;n++)a=this.buf[this.pos++];if((a&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}const le=Me();function Me(){const a=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof a.getBigInt64=="function"&&typeof a.getBigUint64=="function"&&typeof a.setBigInt64=="function"&&typeof a.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof m!="object"||m.BUF_BIGINT_DISABLE!=="1")){const n=BigInt("-9223372036854775808"),i=BigInt("9223372036854775807"),l=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(g){const y=typeof g=="bigint"?g:BigInt(g);if(y>i||y<n)throw new Error(`invalid int64: ${g}`);return y},uParse(g){const y=typeof g=="bigint"?g:BigInt(g);if(y>c||y<l)throw new Error(`invalid uint64: ${g}`);return y},enc(g){return a.setBigInt64(0,this.parse(g),!0),{lo:a.getInt32(0,!0),hi:a.getInt32(4,!0)}},uEnc(g){return a.setBigInt64(0,this.uParse(g),!0),{lo:a.getInt32(0,!0),hi:a.getInt32(4,!0)}},dec(g,y){return a.setInt32(0,g,!0),a.setInt32(4,y,!0),a.getBigInt64(0,!0)},uDec(g,y){return a.setInt32(0,g,!0),a.setInt32(4,y,!0),a.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(n){return typeof n!="string"&&(n=n.toString()),et(n),n},uParse(n){return typeof n!="string"&&(n=n.toString()),Le(n),n},enc(n){return typeof n!="string"&&(n=n.toString()),et(n),F(n)},uEnc(n){return typeof n!="string"&&(n=n.toString()),Le(n),F(n)},dec(n,i){return q(n,i)},uDec(n,i){return j(n,i)}}}function et(a){if(!/^-?[0-9]+$/.test(a))throw new Error("invalid int64: "+a)}function Le(a){if(!/^[0-9]+$/.test(a))throw new Error("invalid uint64: "+a)}function Ne(a,e){switch(a){case b.STRING:return"";case b.BOOL:return!1;case b.DOUBLE:case b.FLOAT:return 0;case b.INT64:case b.UINT64:case b.SFIXED64:case b.FIXED64:case b.SINT64:return e?"0":le.zero;case b.BYTES:return new Uint8Array(0);default:return 0}}function ke(a,e){switch(a){case b.BOOL:return e===!1;case b.STRING:return e==="";case b.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const yt=2,We=Symbol.for("reflect unsafe local");function Ht(a,e){const n=a[e.localName].case;return n===void 0?n:e.fields.find(i=>i.localName===n)}function Ir(a,e){const n=e.localName;if(e.oneof)return a[e.oneof.localName].case===n;if(e.presence!=yt)return a[n]!==void 0&&Object.prototype.hasOwnProperty.call(a,n);switch(e.fieldKind){case"list":return a[n].length>0;case"map":return Object.keys(a[n]).length>0;case"scalar":return!ke(e.scalar,a[n]);case"enum":return a[n]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function it(a,e){return Object.prototype.hasOwnProperty.call(a,e)&&a[e]!==void 0}function W(a,e){if(e.oneof){const n=a[e.oneof.localName];return n.case===e.localName?n.value:void 0}return a[e.localName]}function he(a,e,n){e.oneof?a[e.oneof.localName]={case:e.localName,value:n}:a[e.localName]=n}function Ee(a,e){const n=e.localName;if(e.oneof){const i=e.oneof.localName;a[i].case===n&&(a[i]={case:void 0})}else if(e.presence!=yt)delete a[n];else switch(e.fieldKind){case"map":a[n]={};break;case"list":a[n]=[];break;case"enum":a[n]=e.enum.values[0].number;break;case"scalar":a[n]=Ne(e.scalar,e.longAsString);break}}function Oe(a){return a!==null&&typeof a=="object"&&!Array.isArray(a)}function O(a,e){var n,i,l,c;if(Oe(a)&&We in a&&"add"in a&&"field"in a&&typeof a.field=="function"){if(e!==void 0){const g=e,y=a.field();return g.listKind==y.listKind&&g.scalar===y.scalar&&((n=g.message)===null||n===void 0?void 0:n.typeName)===((i=y.message)===null||i===void 0?void 0:i.typeName)&&((l=g.enum)===null||l===void 0?void 0:l.typeName)===((c=y.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function $(a,e){var n,i,l,c;if(Oe(a)&&We in a&&"has"in a&&"field"in a&&typeof a.field=="function"){if(e!==void 0){const g=e,y=a.field();return g.mapKey===y.mapKey&&g.mapKind==y.mapKind&&g.scalar===y.scalar&&((n=g.message)===null||n===void 0?void 0:n.typeName)===((i=y.message)===null||i===void 0?void 0:i.typeName)&&((l=g.enum)===null||l===void 0?void 0:l.typeName)===((c=y.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function ce(a,e){return Oe(a)&&We in a&&"desc"in a&&Oe(a.desc)&&a.desc.kind==="message"&&(e===void 0||a.desc.typeName==e.typeName)}function oe(a){return _e(a.$typeName)}function ye(a){const e=a.fields[0];return _e(a.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function _e(a){return a.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(a.substring(16))}const ve=999,$t=998,$e=2;function ge(a,e){if(B(e,a))return e;const n=sr(a);return e!==void 0&&ca(a,n,e),n}function ca(a,e,n){for(const i of a.members){let l=n[i.localName];if(l==null)continue;let c;if(i.kind=="oneof"){const g=Ht(n,i);if(!g)continue;c=g,l=W(n,g)}else c=i;switch(c.fieldKind){case"message":l=fa(c,l);break;case"scalar":l=Yi(c,l);break;case"list":l=Do(c,l);break;case"map":l=Ts(c,l);break}he(e,c,l)}return e}function Yi(a,e){return a.scalar==b.BYTES?Oo(e):e}function Ts(a,e){if(Oe(e)){if(a.scalar==b.BYTES)return Vo(e,Oo);if(a.mapKind=="message")return Vo(e,n=>fa(a,n))}return e}function Do(a,e){if(Array.isArray(e)){if(a.scalar==b.BYTES)return e.map(Oo);if(a.listKind=="message")return e.map(n=>fa(a,n))}return e}function fa(a,e){if(a.fieldKind=="message"&&!a.oneof&&ye(a.message))return Yi(a.message.fields[0],e);if(Oe(e)){if(a.message.typeName=="google.protobuf.Struct"&&a.parent.typeName!=="google.protobuf.Value")return e;if(!B(e,a.message))return ge(a.message,e)}return e}function Oo(a){return Array.isArray(a)?new Uint8Array(a):a}function Vo(a,e){const n={};for(const i of Object.entries(a))n[i[0]]=e(i[1]);return n}const bn=Symbol(),Bo=new WeakMap;function sr(a){let e;if(Bl(a)){const n=Bo.get(a);let i,l;if(n)({prototype:i,members:l}=n);else{i={},l=new Set;for(const c of a.members)c.kind!="oneof"&&(c.fieldKind!="scalar"&&c.fieldKind!="enum"||c.presence!=$e&&(l.add(c),i[c.localName]=ja(c)));Bo.set(a,{prototype:i,members:l})}e=Object.create(i),e.$typeName=a.typeName;for(const c of a.members)l.has(c)||c.kind=="field"&&(c.fieldKind=="message"||(c.fieldKind=="scalar"||c.fieldKind=="enum")&&c.presence!=$e)||(e[c.localName]=ja(c))}else{e={$typeName:a.typeName};for(const n of a.members)(n.kind=="oneof"||n.presence==$e)&&(e[n.localName]=ja(n))}return e}function Bl(a){switch(a.file.edition){case ve:return!1;case $t:return!0;default:return a.fields.some(e=>e.presence!=$e&&e.fieldKind!="message"&&!e.oneof)}}function ja(a){if(a.kind=="oneof")return{case:void 0};if(a.fieldKind=="list")return[];if(a.fieldKind=="map")return{};if(a.fieldKind=="message")return bn;const e=a.getDefaultValue();return e!==void 0?a.fieldKind=="scalar"&&a.longAsString?e.toString():e:a.fieldKind=="scalar"?Ne(a.scalar,a.longAsString):a.enum.values[0].number}const Nn=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class Ut extends Error{constructor(e,n,i="FieldValueInvalidError"){super(n),this.name=i,this.field=()=>e}}function lc(a){return a instanceof Error&&Nn.includes(a.name)&&"field"in a&&typeof a.field=="function"}const Uo=Symbol.for("@bufbuild/protobuf/text-encoding");function or(){if(globalThis[Uo]==null){const a=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[Uo]={encodeUtf8(n){return a.encode(n)},decodeUtf8(n){return e.decode(n)},checkUtf8(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[Uo]}var He;(function(a){a[a.Varint=0]="Varint",a[a.Bit64=1]="Bit64",a[a.LengthDelimited=2]="LengthDelimited",a[a.StartGroup=3]="StartGroup",a[a.EndGroup=4]="EndGroup",a[a.Bit32=5]="Bit32"})(He||(He={}));const lr=34028234663852886e22,rn=-34028234663852886e22,ha=4294967295,Lo=2147483647,da=-2147483648;class Zi{constructor(e=or().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let l=0;l<this.chunks.length;l++)e+=this.chunks[l].length;let n=new Uint8Array(e),i=0;for(let l=0;l<this.chunks.length;l++)n.set(this.chunks[l],i),i+=this.chunks[l].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for($a(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return ur(e),se(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.encodeUtf8(e);return this.uint32(n.byteLength),this.raw(n)}float(e){Gi(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){$a(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){ur(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return ur(e),e=(e<<1^e>>31)>>>0,se(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),l=le.enc(e);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),l=le.uEnc(e);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(n)}int64(e){let n=le.enc(e);return _(n.lo,n.hi,this.buf),this}sint64(e){const n=le.enc(e),i=n.hi>>31,l=n.lo<<1^i,c=(n.hi<<1|n.lo>>>31)^i;return _(l,c,this.buf),this}uint64(e){const n=le.uEnc(e);return _(n.lo,n.hi,this.buf),this}}class Ha{constructor(e,n=or().decodeUtf8){this.decodeUtf8=n,this.varint64=w,this.uint32=we,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e,n){let i=this.pos;switch(e){case He.Varint:for(;this.buf[this.pos++]&128;);break;case He.Bit64:this.pos+=4;case He.Bit32:this.pos+=4;break;case He.LengthDelimited:let l=this.uint32();this.pos+=l;break;case He.StartGroup:for(;;){const[c,g]=this.tag();if(g===He.EndGroup){if(n!==void 0&&c!==n)throw new Error("invalid end group tag");break}this.skip(g,c)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return le.dec(...this.varint64())}uint64(){return le.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,le.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return le.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return le.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.decodeUtf8(this.bytes())}}function ur(a){if(typeof a=="string")a=Number(a);else if(typeof a!="number")throw new Error("invalid int32: "+typeof a);if(!Number.isInteger(a)||a>Lo||a<da)throw new Error("invalid int32: "+a)}function $a(a){if(typeof a=="string")a=Number(a);else if(typeof a!="number")throw new Error("invalid uint32: "+typeof a);if(!Number.isInteger(a)||a>ha||a<0)throw new Error("invalid uint32: "+a)}function Gi(a){if(typeof a=="string"){const e=a;if(a=Number(a),Number.isNaN(a)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof a!="number")throw new Error("invalid float32: "+typeof a);if(Number.isFinite(a)&&(a>lr||a<rn))throw new Error("invalid float32: "+a)}function Cr(a,e){const n=a.fieldKind=="list"?O(e,a):a.fieldKind=="map"?$(e,a):zi(a,e);if(n===!0)return;let i;switch(a.fieldKind){case"list":i=`expected ${kt(a)}, got ${Ae(e)}`;break;case"map":i=`expected ${an(a)}, got ${Ae(e)}`;break;default:i=ki(a,e,n)}return new Ut(a,i)}function cr(a,e,n){const i=zi(a,n);if(i!==!0)return new Ut(a,`list item #${e+1}: ${ki(a,n,i)}`)}function Ul(a,e,n){const i=ga(e,a.mapKey);if(i!==!0)return new Ut(a,`invalid map key: ${ki({scalar:a.mapKey},e,i)}`);const l=zi(a,n);if(l!==!0)return new Ut(a,`map entry ${Ae(e)}: ${ki(a,n,l)}`)}function zi(a,e){return a.scalar!==void 0?ga(e,a.scalar):a.enum!==void 0?a.enum.open?Number.isInteger(e):a.enum.values.some(n=>n.number===e):ce(e,a.message)}function ga(a,e){switch(e){case b.DOUBLE:return typeof a=="number";case b.FLOAT:return typeof a!="number"?!1:Number.isNaN(a)||!Number.isFinite(a)?!0:a>lr||a<rn?`${a.toFixed()} out of range`:!0;case b.INT32:case b.SFIXED32:case b.SINT32:return typeof a!="number"||!Number.isInteger(a)?!1:a>Lo||a<da?`${a.toFixed()} out of range`:!0;case b.FIXED32:case b.UINT32:return typeof a!="number"||!Number.isInteger(a)?!1:a>ha||a<0?`${a.toFixed()} out of range`:!0;case b.BOOL:return typeof a=="boolean";case b.STRING:return typeof a!="string"?!1:or().checkUtf8(a)||"invalid UTF8";case b.BYTES:return a instanceof Uint8Array;case b.INT64:case b.SFIXED64:case b.SINT64:if(typeof a=="bigint"||typeof a=="number"||typeof a=="string"&&a.length>0)try{return le.parse(a),!0}catch{return`${a} out of range`}return!1;case b.FIXED64:case b.UINT64:if(typeof a=="bigint"||typeof a=="number"||typeof a=="string"&&a.length>0)try{return le.uParse(a),!0}catch{return`${a} out of range`}return!1}}function ki(a,e,n){return n=typeof n=="string"?`: ${n}`:`, got ${Ae(e)}`,a.scalar!==void 0?`expected ${Wi(a.scalar)}`+n:a.enum!==void 0?`expected ${a.enum.toString()}`+n:`expected ${Lt(a.message)}`+n}function Ae(a){switch(typeof a){case"object":return a===null?"null":a instanceof Uint8Array?`Uint8Array(${a.length})`:Array.isArray(a)?`Array(${a.length})`:O(a)?kt(a.field()):$(a)?an(a.field()):ce(a)?Lt(a.desc):B(a)?`message ${a.$typeName}`:"object";case"string":return a.length>30?"string":`"${a.split('"').join('\\"')}"`;case"boolean":return String(a);case"number":return String(a);case"bigint":return String(a)+"n";default:return typeof a}}function Lt(a){return`ReflectMessage (${a.typeName})`}function kt(a){switch(a.listKind){case"message":return`ReflectList (${a.message.toString()})`;case"enum":return`ReflectList (${a.enum.toString()})`;case"scalar":return`ReflectList (${b[a.scalar]})`}}function an(a){switch(a.mapKind){case"message":return`ReflectMap (${b[a.mapKey]}, ${a.message.toString()})`;case"enum":return`ReflectMap (${b[a.mapKey]}, ${a.enum.toString()})`;case"scalar":return`ReflectMap (${b[a.mapKey]}, ${b[a.scalar]})`}}function Wi(a){switch(a){case b.STRING:return"string";case b.BOOL:return"boolean";case b.INT64:case b.SINT64:case b.SFIXED64:return"bigint (int64)";case b.UINT64:case b.FIXED64:return"bigint (uint64)";case b.BYTES:return"Uint8Array";case b.DOUBLE:return"number (float64)";case b.FLOAT:return"number (float32)";case b.FIXED32:case b.UINT32:return"number (uint32)";case b.INT32:case b.SFIXED32:case b.SINT32:return"number (int32)"}}function ut(a,e,n=!0){return new _t(a,e,n)}const Mt=new WeakMap;class _t{get sortedFields(){const e=Mt.get(this.desc);if(e)return e;const n=this.desc.fields.concat().sort((i,l)=>i.number-l.number);return Mt.set(this.desc,n),n}constructor(e,n,i=!0){this.lists=new Map,this.maps=new Map,this.check=i,this.desc=e,this.message=this[We]=n??ge(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(n=>[n.number,n]))),this._fieldsByNumber.get(e)}oneofCase(e){return ct(this.message,e),Ht(this.message,e)}isSet(e){return ct(this.message,e),Ir(this.message,e)}clear(e){ct(this.message,e),Ee(this.message,e)}get(e){ct(this.message,e);const n=W(this.message,e);switch(e.fieldKind){case"list":let i=this.lists.get(e);return(!i||i[We]!==n)&&this.lists.set(e,i=new sn(e,n,this.check)),i;case"map":let l=this.maps.get(e);return(!l||l[We]!==n)&&this.maps.set(e,l=new ws(e,n,this.check)),l;case"message":return Ll(e,n,this.check);case"scalar":return n===void 0?Ne(e.scalar,!1):qa(e,n);case"enum":return n??e.enum.values[0].number}}set(e,n){if(ct(this.message,e),this.check){const l=Cr(e,n);if(l)throw l}let i;e.fieldKind=="message"?i=xr(e,n):$(n)||O(n)?i=n[We]:i=Xt(e,n),he(this.message,e,i)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function ct(a,e){if(e.parent.typeName!==a.$typeName)throw new Ut(e,`cannot use ${e.toString()} with message ${a.$typeName}`,"ForeignFieldError")}class sn{field(){return this._field}get size(){return this._arr.length}constructor(e,n,i){this._field=e,this._arr=this[We]=n,this.check=i}get(e){const n=this._arr[e];return n===void 0?void 0:Ki(this._field,n,this.check)}set(e,n){if(e<0||e>=this._arr.length)throw new Ut(this._field,`list item #${e+1}: out of range`);if(this.check){const i=cr(this._field,e,n);if(i)throw i}this._arr[e]=uc(this._field,n)}add(e){if(this.check){const n=cr(this._field,this._arr.length,e);if(n)throw n}this._arr.push(uc(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield Ki(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,Ki(this._field,this._arr[e],this.check)]}}class ws{constructor(e,n,i=!0){this.obj=this[We]=n??{},this.check=i,this._field=e}field(){return this._field}set(e,n){if(this.check){const i=Ul(this._field,e,n);if(i)throw i}return this.obj[ma(e)]=cc(this._field,n),this}delete(e){const n=ma(e),i=Object.prototype.hasOwnProperty.call(this.obj,n);return i&&delete this.obj[n],i}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let n=this.obj[ma(e)];return n!==void 0&&(n=Qa(this._field,n,this.check)),n}has(e){return Object.prototype.hasOwnProperty.call(this.obj,ma(e))}*keys(){for(const e of Object.keys(this.obj))yield Ns(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[Ns(e[0],this._field.mapKey),Qa(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield Qa(this._field,e,this.check)}forEach(e,n){for(const i of this.entries())e.call(n,i[1],i[0],this)}}function xr(a,e){return ce(e)?oe(e.message)&&!a.oneof&&a.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&a.parent.typeName!="google.protobuf.Value"?hc(e.message):e.message:e}function Ll(a,e,n){return e!==void 0&&(ye(a.message)&&!a.oneof&&a.fieldKind=="message"?e={$typeName:a.message.typeName,value:qa(a.message.fields[0],e)}:a.message.typeName=="google.protobuf.Struct"&&a.parent.typeName!="google.protobuf.Value"&&Oe(e)&&(e=fc(e))),new _t(a.message,e,n)}function uc(a,e){return a.listKind=="message"?xr(a,e):Xt(a,e)}function Ki(a,e,n){return a.listKind=="message"?Ll(a,e,n):qa(a,e)}function cc(a,e){return a.mapKind=="message"?xr(a,e):Xt(a,e)}function Qa(a,e,n){return a.mapKind=="message"?Ll(a,e,n):e}function ma(a){return typeof a=="string"||typeof a=="number"?a:String(a)}function Ns(a,e){switch(e){case b.STRING:return a;case b.INT32:case b.FIXED32:case b.UINT32:case b.SFIXED32:case b.SINT32:{const n=Number.parseInt(a);if(Number.isFinite(n))return n;break}case b.BOOL:switch(a){case"true":return!0;case"false":return!1}break;case b.UINT64:case b.FIXED64:try{return le.uParse(a)}catch{}break;default:try{return le.parse(a)}catch{}break}return a}function qa(a,e){switch(a.scalar){case b.INT64:case b.SFIXED64:case b.SINT64:"longAsString"in a&&a.longAsString&&typeof e=="string"&&(e=le.parse(e));break;case b.FIXED64:case b.UINT64:"longAsString"in a&&a.longAsString&&typeof e=="string"&&(e=le.uParse(e));break}return e}function Xt(a,e){switch(a.scalar){case b.INT64:case b.SFIXED64:case b.SINT64:"longAsString"in a&&a.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=le.parse(e));break;case b.FIXED64:case b.UINT64:"longAsString"in a&&a.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=le.uParse(e));break}return e}function fc(a){const e={$typeName:"google.protobuf.Struct",fields:{}};if(Oe(a))for(const[n,i]of Object.entries(a))e.fields[n]=Xi(i);return e}function hc(a){const e={};for(const[n,i]of Object.entries(a.fields))e[n]=ei(i);return e}function ei(a){switch(a.kind.case){case"structValue":return hc(a.kind.value);case"listValue":return a.kind.value.values.map(ei);case"nullValue":case void 0:return null;default:return a.kind.value}}function Xi(a){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof a){case"number":e.kind={case:"numberValue",value:a};break;case"string":e.kind={case:"stringValue",value:a};break;case"boolean":e.kind={case:"boolValue",value:a};break;case"object":if(a===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(a)){const n={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(a))for(const i of a)n.values.push(Xi(i));e.kind={case:"listValue",value:n}}else e.kind={case:"structValue",value:fc(a)};break}return e}function dc(a){const e=ya();let n=a.length*3/4;a[a.length-2]=="="?n-=2:a[a.length-1]=="="&&(n-=1);let i=new Uint8Array(n),l=0,c=0,g,y=0;for(let S=0;S<a.length;S++){if(g=e[a.charCodeAt(S)],g===void 0)switch(a[S]){case"=":c=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(c){case 0:y=g,c=1;break;case 1:i[l++]=y<<2|(g&48)>>4,y=g,c=2;break;case 2:i[l++]=(y&15)<<4|(g&60)>>2,y=g,c=3;break;case 3:i[l++]=(y&3)<<6|g,c=0;break}}if(c==1)throw Error("invalid base64 string");return i.subarray(0,l)}function ph(a,e="std"){const n=_o(e),i=e=="std";let l="",c=0,g,y=0;for(let S=0;S<a.length;S++)switch(g=a[S],c){case 0:l+=n[g>>2],y=(g&3)<<4,c=1;break;case 1:l+=n[y|g>>4],y=(g&15)<<2,c=2;break;case 2:l+=n[y|g>>6],l+=n[g&63],c=0;break}return c&&(l+=n[y],i&&(l+="=",c==1&&(l+="="))),l}let Mo,yh,pa;function _o(a){return Mo||(Mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),yh=Mo.slice(0,-2).concat("-","_")),a=="url"?yh:Mo}function ya(){if(!pa){pa=[];const a=_o("std");for(let e=0;e<a.length;e++)pa[a[e].charCodeAt(0)]=e;pa[45]=a.indexOf("+"),pa[95]=a.indexOf("/")}return pa}function Pi(a){let e=!1;const n=[];for(let i=0;i<a.length;i++){let l=a.charAt(i);switch(l){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(l),e=!1;break;default:e&&(e=!1,l=l.toUpperCase()),n.push(l);break}}return n.join("")}const vh=new Set(["constructor","toString","toJSON","valueOf"]);function Wr(a){return vh.has(a)?a+"$":a}function Yo(a){for(const e of a.field)it(e,"jsonName")||(e.jsonName=Pi(e.name));a.nestedType.forEach(Yo)}function gc(a,e){const n=a.values.find(i=>i.name===e);if(!n)throw new Error(`cannot parse ${a} default value: ${e}`);return n.number}function Bg(a,e){switch(a){case b.STRING:return e;case b.BYTES:{const n=bh(e);if(n===!1)throw new Error(`cannot parse ${b[a]} default value: ${e}`);return n}case b.INT64:case b.SFIXED64:case b.SINT64:return le.parse(e);case b.UINT64:case b.FIXED64:return le.uParse(e);case b.DOUBLE:case b.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case b.BOOL:return e==="true";case b.INT32:case b.UINT32:case b.SINT32:case b.FIXED32:case b.SFIXED32:return parseInt(e,10)}}function bh(a){const e=[],n={tail:a,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(i){if(this.tail.length>=i){const l=this.tail.substring(0,i);return this.tail=this.tail.substring(i),l}return!1}};for(;n.next();)switch(n.c){case"\\":if(n.next())switch(n.c){case"\\":e.push(n.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const i=n.c,l=n.take(2);if(l===!1)return!1;const c=parseInt(i+l,8);if(Number.isNaN(c))return!1;e.push(c);break}case"x":{const i=n.c,l=n.take(2);if(l===!1)return!1;const c=parseInt(i+l,16);if(Number.isNaN(c))return!1;e.push(c);break}case"u":{const i=n.c,l=n.take(4);if(l===!1)return!1;const c=parseInt(i+l,16);if(Number.isNaN(c))return!1;const g=new Uint8Array(4);new DataView(g.buffer).setInt32(0,c,!0),e.push(g[0],g[1],g[2],g[3]);break}case"U":{const i=n.c,l=n.take(8);if(l===!1)return!1;const c=le.uEnc(i+l),g=new Uint8Array(8),y=new DataView(g.buffer);y.setInt32(0,c.lo,!0),y.setInt32(4,c.hi,!0),e.push(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7]);break}}break;default:e.push(n.c.charCodeAt(0))}return new Uint8Array(e)}function*_n(a){switch(a.kind){case"file":for(const e of a.messages)yield e,yield*_n(e);yield*a.enums,yield*a.services,yield*a.extensions;break;case"message":for(const e of a.nestedMessages)yield e,yield*_n(e);yield*a.nestedEnums,yield*a.nestedExtensions;break}}function mc(...a){const e=Ug();if(!a.length)return e;if("$typeName"in a[0]&&a[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const n of a[0].file)zo(n,e);return e}if("$typeName"in a[0]){let n=function(g){const y=[];for(const S of g.dependency){if(e.getFile(S)!=null||c.has(S))continue;const R=l(S);if(!R)throw new Error(`Unable to resolve ${S}, imported by ${g.name}`);"kind"in R?e.addFile(R,!1,!0):(c.add(R.name),y.push(R))}return y.concat(...y.map(n))};const i=a[0],l=a[1],c=new Set;for(const g of[i,...n(i)].reverse())zo(g,e)}else for(const n of a)for(const i of n.files)e.addFile(i);return e}function Ug(){const a=new Map,e=new Map,n=new Map;return{kind:"registry",types:a,extendees:e,[Symbol.iterator](){return a.values()},get files(){return n.values()},addFile(i,l,c){if(n.set(i.proto.name,i),!l)for(const g of _n(i))this.add(g);if(c)for(const g of i.dependencies)this.addFile(g,l,c)},add(i){if(i.kind=="extension"){let l=e.get(i.extendee.typeName);l||e.set(i.extendee.typeName,l=new Map),l.set(i.number,i)}a.set(i.typeName,i)},get(i){return a.get(i)},getFile(i){return n.get(i)},getMessage(i){const l=a.get(i);return(l==null?void 0:l.kind)=="message"?l:void 0},getEnum(i){const l=a.get(i);return(l==null?void 0:l.kind)=="enum"?l:void 0},getExtension(i){const l=a.get(i);return(l==null?void 0:l.kind)=="extension"?l:void 0},getExtensionFor(i,l){var c;return(c=e.get(i.typeName))===null||c===void 0?void 0:c.get(l)},getService(i){const l=a.get(i);return(l==null?void 0:l.kind)=="service"?l:void 0}}}const Ml=998,Sh=999,_l=9,Zo=10,Sn=11,pc=12,yc=14,Go=3,Is=2,vc=1,Ah=0,ti=1,Eh=2,Rh=3,Th=1,bc=2,Lg=1,wh={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function zo(a,e){var n,i;const l={kind:"file",proto:a,deprecated:(i=(n=a.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,edition:va(a),name:a.name.replace(/\.proto$/,""),dependencies:Ac(a,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${a.name}`}},c=new Map,g={get(y){return c.get(y)},add(y){var S;In(((S=y.proto.options)===null||S===void 0?void 0:S.mapEntry)===!0),c.set(y.typeName,y)}};for(const y of a.enumType)Fi(y,l,void 0,e);for(const y of a.messageType)Ji(y,l,void 0,e,g);for(const y of a.service)Nh(y,l,e);ko(l,e);for(const y of c.values())Wo(y,e,g);for(const y of l.messages)Wo(y,e,g),ko(y,e);e.addFile(l,!0)}function ko(a,e){switch(a.kind){case"file":for(const n of a.proto.extension){const i=ji(n,a,e);a.extensions.push(i),e.add(i)}break;case"message":for(const n of a.proto.extension){const i=ji(n,a,e);a.nestedExtensions.push(i),e.add(i)}for(const n of a.nestedMessages)ko(n,e);break}}function Wo(a,e,n){const i=a.proto.oneofDecl.map(c=>Ih(c,a)),l=new Set;for(const c of a.proto.field){const g=Ch(c,i),y=ji(c,a,e,g,n);a.fields.push(y),a.field[y.localName]=y,g===void 0?a.members.push(y):(g.fields.push(y),l.has(g)||(l.add(g),a.members.push(g)))}for(const c of i.filter(g=>l.has(g)))a.oneofs.push(c);for(const c of a.nestedMessages)Wo(c,e,n)}function Fi(a,e,n,i){var l,c,g,y,S;const R=Ko(a.name,a.value),C={kind:"enum",proto:a,deprecated:(c=(l=a.options)===null||l===void 0?void 0:l.deprecated)!==null&&c!==void 0?c:!1,file:e,parent:n,open:!0,name:a.name,typeName:Cs(a,n,e),value:{},values:[],sharedPrefix:R,toString(){return`enum ${this.typeName}`}};C.open=Yn(C),i.add(C);for(const Z of a.value){const J=Z.name;C.values.push(C.value[Z.number]={kind:"enum_value",proto:Z,deprecated:(y=(g=Z.options)===null||g===void 0?void 0:g.deprecated)!==null&&y!==void 0?y:!1,parent:C,name:J,localName:Wr(R==null?J:J.substring(R.length)),number:Z.number,toString(){return`enum value ${C.typeName}.${J}`}})}((S=n==null?void 0:n.nestedEnums)!==null&&S!==void 0?S:e.enums).push(C)}function Ji(a,e,n,i,l){var c,g,y,S;const R={kind:"message",proto:a,deprecated:(g=(c=a.options)===null||c===void 0?void 0:c.deprecated)!==null&&g!==void 0?g:!1,file:e,parent:n,name:a.name,typeName:Cs(a,n,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((y=a.options)===null||y===void 0?void 0:y.mapEntry)===!0?l.add(R):(((S=n==null?void 0:n.nestedMessages)!==null&&S!==void 0?S:e.messages).push(R),i.add(R));for(const C of a.enumType)Fi(C,e,R,i);for(const C of a.nestedType)Ji(C,e,R,i,l)}function Nh(a,e,n){var i,l;const c={kind:"service",proto:a,deprecated:(l=(i=a.options)===null||i===void 0?void 0:i.deprecated)!==null&&l!==void 0?l:!1,file:e,name:a.name,typeName:Cs(a,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(c),n.add(c);for(const g of a.method){const y=Sc(g,c,n);c.methods.push(y),c.method[y.localName]=y}}function Sc(a,e,n){var i,l,c,g;let y;a.clientStreaming&&a.serverStreaming?y="bidi_streaming":a.clientStreaming?y="client_streaming":a.serverStreaming?y="server_streaming":y="unary";const S=n.getMessage(fr(a.inputType)),R=n.getMessage(fr(a.outputType));In(S,`invalid MethodDescriptorProto: input_type ${a.inputType} not found`),In(R,`invalid MethodDescriptorProto: output_type ${a.inputType} not found`);const C=a.name;return{kind:"rpc",proto:a,deprecated:(l=(i=a.options)===null||i===void 0?void 0:i.deprecated)!==null&&l!==void 0?l:!1,parent:e,name:C,localName:Wr(C.length?Wr(C[0].toLowerCase()+C.substring(1)):C),methodKind:y,input:S,output:R,idempotency:(g=(c=a.options)===null||c===void 0?void 0:c.idempotencyLevel)!==null&&g!==void 0?g:Ah,toString(){return`rpc ${e.typeName}.${C}`}}}function Ih(a,e){return{kind:"oneof",proto:a,deprecated:!1,parent:e,fields:[],name:a.name,localName:Wr(Pi(a.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function ji(a,e,n,i,l){var c,g,y;const S=l===void 0,R={kind:"field",proto:a,deprecated:(g=(c=a.options)===null||c===void 0?void 0:c.deprecated)!==null&&g!==void 0?g:!1,name:a.name,number:a.number,scalar:void 0,message:void 0,enum:void 0,presence:Yl(a,i,S,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(S){const G=e.kind=="file"?e:e.file,ne=e.kind=="file"?void 0:e,ae=Cs(a,ne,G);R.kind="extension",R.file=G,R.parent=ne,R.oneof=void 0,R.typeName=ae,R.jsonName=`[${ae}]`,R.toString=()=>`extension ${ae}`;const pe=n.getMessage(fr(a.extendee));In(pe,`invalid FieldDescriptorProto: extendee ${a.extendee} not found`),R.extendee=pe}else{const G=e;In(G.kind=="message"),R.parent=G,R.oneof=i,R.localName=i?Pi(a.name):Wr(Pi(a.name)),R.jsonName=a.jsonName,R.toString=()=>`field ${G.typeName}.${a.name}`}const C=a.label,Z=a.type,J=(y=a.options)===null||y===void 0?void 0:y.jstype;if(C===Go){const G=Z==Sn?l==null?void 0:l.get(fr(a.typeName)):void 0;if(G){R.fieldKind="map";const{key:ne,value:ae}=xh(G);return R.mapKey=ne.scalar,R.mapKind=ae.fieldKind,R.message=ae.message,R.delimitedEncoding=!1,R.enum=ae.enum,R.scalar=ae.scalar,R}switch(R.fieldKind="list",Z){case Sn:case Zo:R.listKind="message",R.message=n.getMessage(fr(a.typeName)),In(R.message),R.delimitedEncoding=ri(a,e);break;case yc:R.listKind="enum",R.enum=n.getEnum(fr(a.typeName)),In(R.enum);break;default:R.listKind="scalar",R.scalar=Z,R.longAsString=J==vc;break}return R.packed=Zl(a,e),R}switch(Z){case Sn:case Zo:R.fieldKind="message",R.message=n.getMessage(fr(a.typeName)),In(R.message,`invalid FieldDescriptorProto: type_name ${a.typeName} not found`),R.delimitedEncoding=ri(a,e),R.getDefaultValue=()=>{};break;case yc:{const G=n.getEnum(fr(a.typeName));In(G!==void 0,`invalid FieldDescriptorProto: type_name ${a.typeName} not found`),R.fieldKind="enum",R.enum=n.getEnum(fr(a.typeName)),R.getDefaultValue=()=>it(a,"defaultValue")?gc(G,a.defaultValue):void 0;break}default:{R.fieldKind="scalar",R.scalar=Z,R.longAsString=J==vc,R.getDefaultValue=()=>it(a,"defaultValue")?Bg(Z,a.defaultValue):void 0;break}}return R}function va(a){switch(a.syntax){case"":case"proto2":return Ml;case"proto3":return Sh;case"editions":if(a.edition in wh)return a.edition;throw new Error(`${a.name}: unsupported edition`);default:throw new Error(`${a.name}: unsupported syntax "${a.syntax}"`)}}function Ac(a,e){return a.dependency.map(n=>{const i=e.getFile(n);if(!i)throw new Error(`Cannot find ${n}, imported by ${a.name}`);return i})}function Ko(a,e){const n=ni(a)+"_";for(const i of e){if(!i.name.toLowerCase().startsWith(n))return;const l=i.name.substring(n.length);if(l.length==0||/^\d/.test(l))return}return n}function ni(a){return(a.substring(0,1)+a.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function Cs(a,e,n){let i;return e?i=`${e.typeName}.${a.name}`:n.proto.package.length>0?i=`${n.proto.package}.${a.name}`:i=`${a.name}`,i}function fr(a){return a.startsWith(".")?a.substring(1):a}function Ch(a,e){if(!it(a,"oneofIndex")||a.proto3Optional)return;const n=e[a.oneofIndex];return In(n,`invalid FieldDescriptorProto: oneof #${a.oneofIndex} for field #${a.number} not found`),n}function Yl(a,e,n,i){if(a.label==Is)return Rh;if(a.label==Go)return Eh;if(e||a.proto3Optional||n)return ti;const l=ba("fieldPresence",{proto:a,parent:i});return l==Eh&&(a.type==Sn||a.type==Zo)?ti:l}function Zl(a,e){if(a.label!=Go)return!1;switch(a.type){case _l:case pc:case Zo:case Sn:return!1}const n=a.options;return n&&it(n,"packed")?n.packed:Th==ba("repeatedFieldEncoding",{proto:a,parent:e})}function xh(a){const e=a.fields.find(i=>i.number===1),n=a.fields.find(i=>i.number===2);return In(e&&e.fieldKind=="scalar"&&e.scalar!=b.BYTES&&e.scalar!=b.FLOAT&&e.scalar!=b.DOUBLE&&n&&n.fieldKind!="list"&&n.fieldKind!="map"),{key:e,value:n}}function Yn(a){var e;return Lg==ba("enumType",{proto:a.proto,parent:(e=a.parent)!==null&&e!==void 0?e:a.file})}function ri(a,e){return a.type==Zo?!0:bc==ba("messageEncoding",{proto:a,parent:e})}function ba(a,e){var n,i;const l=(n=e.proto.options)===null||n===void 0?void 0:n.features;if(l){const c=l[a];if(c!=0)return c}if("kind"in e){if(e.kind=="message")return ba(a,(i=e.parent)!==null&&i!==void 0?i:e.file);const c=wh[e.edition];if(!c)throw new Error(`feature default for edition ${e.edition} not found`);return c[a]}return ba(a,e.parent)}function In(a,e){if(!a)throw new Error(e)}function Mg(a){const e=Ec(a);return e.messageType.forEach(Yo),mc(e,()=>{}).getFile(e.name)}function Ec(a){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},a),{messageType:a.messageType.map(Gl),enumType:a.enumType.map(Rc)}))}function Gl(a){var e,n,i,l,c,g,y,S;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:a.name,field:(n=(e=a.field)===null||e===void 0?void 0:e.map(Xo))!==null&&n!==void 0?n:[],extension:[],nestedType:(l=(i=a.nestedType)===null||i===void 0?void 0:i.map(Gl))!==null&&l!==void 0?l:[],enumType:(g=(c=a.enumType)===null||c===void 0?void 0:c.map(Rc))!==null&&g!==void 0?g:[],extensionRange:(S=(y=a.extensionRange)===null||y===void 0?void 0:y.map(C=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},C)))!==null&&S!==void 0?S:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function Xo(a){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},a),{options:a.options?zl(a.options):void 0}))}function zl(a){var e,n,i;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},a),{targets:(e=a.targets)!==null&&e!==void 0?e:[],editionDefaults:(i=(n=a.editionDefaults)===null||n===void 0?void 0:n.map(c=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},c)))!==null&&i!==void 0?i:[],uninterpretedOption:[]}))}function Rc(a){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:a.name,reservedName:[],reservedRange:[],value:a.value.map(n=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},n))})}function Ue(a,e,...n){return n.reduce((i,l)=>i.nestedMessages[l],a.messages[e])}const _g=Ue(Mg({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),1);var kl;(function(a){a[a.DECLARATION=0]="DECLARATION",a[a.UNVERIFIED=1]="UNVERIFIED"})(kl||(kl={}));var Dh;(function(a){a[a.DOUBLE=1]="DOUBLE",a[a.FLOAT=2]="FLOAT",a[a.INT64=3]="INT64",a[a.UINT64=4]="UINT64",a[a.INT32=5]="INT32",a[a.FIXED64=6]="FIXED64",a[a.FIXED32=7]="FIXED32",a[a.BOOL=8]="BOOL",a[a.STRING=9]="STRING",a[a.GROUP=10]="GROUP",a[a.MESSAGE=11]="MESSAGE",a[a.BYTES=12]="BYTES",a[a.UINT32=13]="UINT32",a[a.ENUM=14]="ENUM",a[a.SFIXED32=15]="SFIXED32",a[a.SFIXED64=16]="SFIXED64",a[a.SINT32=17]="SINT32",a[a.SINT64=18]="SINT64"})(Dh||(Dh={}));var Oh;(function(a){a[a.OPTIONAL=1]="OPTIONAL",a[a.REPEATED=3]="REPEATED",a[a.REQUIRED=2]="REQUIRED"})(Oh||(Oh={}));var Vh;(function(a){a[a.SPEED=1]="SPEED",a[a.CODE_SIZE=2]="CODE_SIZE",a[a.LITE_RUNTIME=3]="LITE_RUNTIME"})(Vh||(Vh={}));var Bh;(function(a){a[a.STRING=0]="STRING",a[a.CORD=1]="CORD",a[a.STRING_PIECE=2]="STRING_PIECE"})(Bh||(Bh={}));var Uh;(function(a){a[a.JS_NORMAL=0]="JS_NORMAL",a[a.JS_STRING=1]="JS_STRING",a[a.JS_NUMBER=2]="JS_NUMBER"})(Uh||(Uh={}));var Tc;(function(a){a[a.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",a[a.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",a[a.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(Tc||(Tc={}));var Lh;(function(a){a[a.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",a[a.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",a[a.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",a[a.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",a[a.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",a[a.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",a[a.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",a[a.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",a[a.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",a[a.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(Lh||(Lh={}));var Mh;(function(a){a[a.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",a[a.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",a[a.IDEMPOTENT=2]="IDEMPOTENT"})(Mh||(Mh={}));var _h;(function(a){a[a.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",a[a.EXPORT_ALL=1]="EXPORT_ALL",a[a.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",a[a.LOCAL_ALL=3]="LOCAL_ALL",a[a.STRICT=4]="STRICT"})(_h||(_h={}));var Yh;(function(a){a[a.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",a[a.EXPLICIT=1]="EXPLICIT",a[a.IMPLICIT=2]="IMPLICIT",a[a.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(Yh||(Yh={}));var Wl;(function(a){a[a.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",a[a.OPEN=1]="OPEN",a[a.CLOSED=2]="CLOSED"})(Wl||(Wl={}));var Zh;(function(a){a[a.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",a[a.PACKED=1]="PACKED",a[a.EXPANDED=2]="EXPANDED"})(Zh||(Zh={}));var Gh;(function(a){a[a.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",a[a.VERIFY=2]="VERIFY",a[a.NONE=3]="NONE"})(Gh||(Gh={}));var zh;(function(a){a[a.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",a[a.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",a[a.DELIMITED=2]="DELIMITED"})(zh||(zh={}));var wc;(function(a){a[a.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",a[a.ALLOW=1]="ALLOW",a[a.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(wc||(wc={}));var kh;(function(a){a[a.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",a[a.STYLE2024=1]="STYLE2024",a[a.STYLE_LEGACY=2]="STYLE_LEGACY"})(kh||(kh={}));var Wh;(function(a){a[a.NONE=0]="NONE",a[a.SET=1]="SET",a[a.ALIAS=2]="ALIAS"})(Wh||(Wh={}));var Kh;(function(a){a[a.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",a[a.EDITION_LEGACY=900]="EDITION_LEGACY",a[a.EDITION_PROTO2=998]="EDITION_PROTO2",a[a.EDITION_PROTO3=999]="EDITION_PROTO3",a[a.EDITION_2023=1e3]="EDITION_2023",a[a.EDITION_2024=1001]="EDITION_2024",a[a.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",a[a.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",a[a.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",a[a.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",a[a.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",a[a.EDITION_MAX=2147483647]="EDITION_MAX"})(Kh||(Kh={}));var Xh;(function(a){a[a.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",a[a.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",a[a.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(Xh||(Xh={}));const Ph={readUnknownFields:!0};function Yg(a){return a?Object.assign(Object.assign({},Ph),a):Ph}function hr(a,e,n){const i=ut(a,void 0,!1);return Fh(i,new Ha(e),Yg(n),!1,e.byteLength),i.message}function Fh(a,e,n,i,l){var c;const g=i?e.len:e.pos+l;let y,S;const R=(c=a.getUnknown())!==null&&c!==void 0?c:[];for(;e.pos<g&&([y,S]=e.tag(),!(i&&S==He.EndGroup));){const C=a.findNumber(y);if(!C){const Z=e.skip(S,y);n.readUnknownFields&&R.push({no:y,wireType:S,data:Z});continue}Jh(a,e,C,S,n)}if(i&&(S!=He.EndGroup||y!==l))throw new Error("invalid end group tag");R.length>0&&a.setUnknown(R)}function Jh(a,e,n,i,l){var c;switch(n.fieldKind){case"scalar":a.set(n,Hi(e,n.scalar));break;case"enum":const g=Hi(e,b.INT32);if(n.enum.open)a.set(n,g);else if(n.enum.values.some(S=>S.number===g))a.set(n,g);else if(l.readUnknownFields){const S=[];se(g,S);const R=(c=a.getUnknown())!==null&&c!==void 0?c:[];R.push({no:n.number,wireType:i,data:new Uint8Array(S)}),a.setUnknown(R)}break;case"message":a.set(n,Ic(e,l,n,a.get(n)));break;case"list":Po(e,i,a.get(n),l);break;case"map":Nc(e,a.get(n),l);break}}function Nc(a,e,n){const i=e.field();let l,c;const g=a.uint32(),y=a.pos+g;for(;a.pos<y;){const[S]=a.tag();switch(S){case 1:l=Hi(a,i.mapKey);break;case 2:switch(i.mapKind){case"scalar":c=Hi(a,i.scalar);break;case"enum":c=a.int32();break;case"message":c=Ic(a,n,i);break}break}}if(l===void 0&&(l=Ne(i.mapKey,!1)),c===void 0)switch(i.mapKind){case"scalar":c=Ne(i.scalar,!1);break;case"enum":c=i.enum.values[0].number;break;case"message":c=ut(i.message,void 0,!1);break}e.set(l,c)}function Po(a,e,n,i){var l;const c=n.field();if(c.listKind==="message"){n.add(Ic(a,i,c));return}const g=(l=c.scalar)!==null&&l!==void 0?l:b.INT32;if(!(e==He.LengthDelimited&&g!=b.STRING&&g!=b.BYTES)){n.add(Hi(a,g));return}const S=a.uint32()+a.pos;for(;a.pos<S;)n.add(Hi(a,g))}function Ic(a,e,n,i){const l=n.delimitedEncoding,c=i??ut(n.message,void 0,!1);return Fh(c,a,e,l,l?n.number:a.uint32()),c}function Hi(a,e){switch(e){case b.STRING:return a.string();case b.BOOL:return a.bool();case b.DOUBLE:return a.double();case b.FLOAT:return a.float();case b.INT32:return a.int32();case b.INT64:return a.int64();case b.UINT64:return a.uint64();case b.FIXED64:return a.fixed64();case b.BYTES:return a.bytes();case b.FIXED32:return a.fixed32();case b.SFIXED32:return a.sfixed32();case b.SFIXED64:return a.sfixed64();case b.SINT64:return a.sint64();case b.UINT32:return a.uint32();case b.SINT32:return a.sint32()}}function Kr(a,e){var n;const i=hr(_g,dc(a));return i.messageType.forEach(Yo),i.dependency=(n=e==null?void 0:e.map(c=>c.proto.name))!==null&&n!==void 0?n:[],mc(i,c=>e==null?void 0:e.find(g=>g.proto.name===c)).getFile(i.name)}const jh=Kr("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function Hh(a){return new Date($h(a))}function $h(a){return Number(a.seconds)*1e3+Math.round(a.nanos/1e6)}const xs=Kr("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),Qh=Kr("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),Zg=Ue(Qh,0),Gg=3,Cc={writeUnknownFields:!0};function qh(a){return a?Object.assign(Object.assign({},Cc),a):Cc}function dr(a,e,n){return ai(new Zi,qh(n),ut(a,e)).finish()}function ai(a,e,n){var i;for(const l of n.sortedFields){if(!n.isSet(l)){if(l.presence==Gg)throw new Error(`cannot encode ${l} to binary: required field not set`);continue}ed(a,e,n,l)}if(e.writeUnknownFields)for(const{no:l,wireType:c,data:g}of(i=n.getUnknown())!==null&&i!==void 0?i:[])a.tag(l,c).raw(g);return a}function ed(a,e,n,i){var l;switch(i.fieldKind){case"scalar":case"enum":$i(a,n.desc.typeName,i.name,(l=i.scalar)!==null&&l!==void 0?l:b.INT32,i.number,n.get(i));break;case"list":td(a,e,i,n.get(i));break;case"message":xc(a,e,i,n.get(i));break;case"map":for(const[c,g]of n.get(i))Dc(a,e,i,c,g);break}}function $i(a,e,n,i,l,c){Kl(a.tag(l,nd(i)),e,n,i,c)}function xc(a,e,n,i){n.delimitedEncoding?ai(a.tag(n.number,He.StartGroup),e,i).tag(n.number,He.EndGroup):ai(a.tag(n.number,He.LengthDelimited).fork(),e,i).join()}function td(a,e,n,i){var l;if(n.listKind=="message"){for(const g of i)xc(a,e,n,g);return}const c=(l=n.scalar)!==null&&l!==void 0?l:b.INT32;if(n.packed){if(!i.size)return;a.tag(n.number,He.LengthDelimited).fork();for(const g of i)Kl(a,n.parent.typeName,n.name,c,g);a.join();return}for(const g of i)$i(a,n.parent.typeName,n.name,c,n.number,g)}function Dc(a,e,n,i,l){var c;switch(a.tag(n.number,He.LengthDelimited).fork(),$i(a,n.parent.typeName,n.name,n.mapKey,1,i),n.mapKind){case"scalar":case"enum":$i(a,n.parent.typeName,n.name,(c=n.scalar)!==null&&c!==void 0?c:b.INT32,2,l);break;case"message":ai(a.tag(2,He.LengthDelimited).fork(),e,l).join();break}a.join()}function Kl(a,e,n,i,l){try{switch(i){case b.STRING:a.string(l);break;case b.BOOL:a.bool(l);break;case b.DOUBLE:a.double(l);break;case b.FLOAT:a.float(l);break;case b.INT32:a.int32(l);break;case b.INT64:a.int64(l);break;case b.UINT64:a.uint64(l);break;case b.FIXED64:a.fixed64(l);break;case b.BYTES:a.bytes(l);break;case b.FIXED32:a.fixed32(l);break;case b.SFIXED32:a.sfixed32(l);break;case b.SFIXED64:a.sfixed64(l);break;case b.SINT64:a.sint64(l);break;case b.UINT32:a.uint32(l);break;case b.SINT32:a.sint32(l);break}}catch(c){throw c instanceof Error?new Error(`cannot encode field ${e}.${n} to binary: ${c.message}`):c}}function nd(a){switch(a){case b.BYTES:case b.STRING:return He.LengthDelimited;case b.DOUBLE:case b.FIXED64:case b.SFIXED64:return He.Bit64;case b.FIXED32:case b.SFIXED32:case b.FLOAT:return He.Bit32;default:return He.Varint}}function rd(a,e,n){let i=!1;return n||(n=ge(Zg),i=!0),n.value=dr(a,e),n.typeUrl=kg(e.$typeName),i?n:void 0}function ad(a,e){if(a.typeUrl==="")return!1;const n=typeof e=="string"?e:e.typeName,i=id(a.typeUrl);return n===i}function zg(a,e){if(a.typeUrl==="")return;const n=e.kind=="message"?e:e.getMessage(id(a.typeUrl));if(!(!n||!ad(a,n)))return hr(n,a.value)}function kg(a){return`type.googleapis.com/${a}`}function id(a){const e=a.lastIndexOf("/"),n=e>=0?a.substring(e+1):a;if(!n.length)throw new Error(`invalid type url: ${a}`);return n}const Oc=Kr("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),Wg=Ue(Oc,0),Zn=Ue(Oc,1),Fo=Ue(Oc,2);var Xl;(function(a){a[a.NULL_VALUE=0]="NULL_VALUE"})(Xl||(Xl={}));const sd=Kr("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function od(a,e){Qi(e,a);const n=Vc(a.$unknown,e),[i,l,c]=Pl(e);for(const g of n)Jh(i,new Ha(g.data),l,g.wireType,{readUnknownFields:!0});return c()}function ld(a,e,n){var i;Qi(e,a);const l=((i=a.$unknown)!==null&&i!==void 0?i:[]).filter(R=>R.no!==e.number),[c,g]=Pl(e,n),y=new Zi;ed(y,{writeUnknownFields:!0},c,g);const S=new Ha(y.finish());for(;S.pos<S.len;){const[R,C]=S.tag(),Z=S.skip(C,R);l.push({no:R,wireType:C,data:Z})}a.$unknown=l}function Vc(a,e){if(a===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let n=a.length-1;n>=0;--n)if(a[n].no==e.number)return[a[n]];return[]}return a.filter(n=>n.no===e.number)}function Pl(a,e){const n=a.typeName,i=Object.assign(Object.assign({},a),{kind:"field",parent:a.extendee,localName:n}),l=Object.assign(Object.assign({},a.extendee),{fields:[i],members:[i],oneofs:[]}),c=ge(l,e!==void 0?{[n]:e}:void 0);return[ut(l,c),i,()=>{const g=c[n];if(g===void 0){const y=a.message;return ye(y)?Ne(y.fields[0].scalar,y.fields[0].longAsString):ge(y)}return g}]}function Qi(a,e){if(a.extendee.typeName!=e.$typeName)throw new Error(`extension ${a.typeName} can only be applied to message ${a.extendee.typeName}`)}const Bc=3,Jo=2,Fl={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function ud(a){return a?Object.assign(Object.assign({},Fl),a):Fl}function qi(a,e,n){return es(ut(a,e),ud(n))}function Ds(a,e,n){var i;const l=qi(a,e,n);return JSON.stringify(l,null,(i=n==null?void 0:n.prettySpaces)!==null&&i!==void 0?i:0)}function es(a,e){var n;const i=Xg(a,e);if(i!==void 0)return i;const l={};for(const c of a.sortedFields){if(!a.isSet(c)){if(c.presence==Bc)throw new Error(`cannot encode ${c} to JSON: required field not set`);if(!e.alwaysEmitImplicit||c.presence!==Jo)continue}const g=Uc(c,a.get(c),e);g!==void 0&&(l[Kg(c,e)]=g)}if(e.registry){const c=new Set;for(const{no:g}of(n=a.getUnknown())!==null&&n!==void 0?n:[])if(!c.has(g)){c.add(g);const y=e.registry.getExtensionFor(a.desc,g);if(!y)continue;const S=od(a.message,y),[R,C]=Pl(y,S),Z=Uc(C,R.get(C),e);Z!==void 0&&(l[y.jsonName]=Z)}}return l}function Uc(a,e,n){switch(a.fieldKind){case"scalar":return jo(a,e);case"message":return es(e,n);case"enum":return Jl(a.enum,e,n.enumAsInteger);case"list":return cd(e,n);case"map":return ts(e,n)}}function ts(a,e){const n=a.field(),i={};switch(n.mapKind){case"scalar":for(const[l,c]of a)i[l]=jo(n,c);break;case"message":for(const[l,c]of a)i[l]=es(c,e);break;case"enum":for(const[l,c]of a)i[l]=Jl(n.enum,c,e.enumAsInteger);break}return e.alwaysEmitImplicit||a.size>0?i:void 0}function cd(a,e){const n=a.field(),i=[];switch(n.listKind){case"scalar":for(const l of a)i.push(jo(n,l));break;case"enum":for(const l of a)i.push(Jl(n.enum,l,e.enumAsInteger));break;case"message":for(const l of a)i.push(es(l,e));break}return e.alwaysEmitImplicit||i.length>0?i:void 0}function Jl(a,e,n){var i;if(typeof e!="number")throw new Error(`cannot encode ${a} to JSON: expected number, got ${Ae(e)}`);if(a.typeName=="google.protobuf.NullValue")return null;if(n)return e;const l=a.value[e];return(i=l==null?void 0:l.name)!==null&&i!==void 0?i:e}function jo(a,e){var n,i,l,c,g,y;switch(a.scalar){case b.INT32:case b.SFIXED32:case b.SINT32:case b.FIXED32:case b.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${a} to JSON: ${(n=Cr(a,e))===null||n===void 0?void 0:n.message}`);return e;case b.FLOAT:case b.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${a} to JSON: ${(i=Cr(a,e))===null||i===void 0?void 0:i.message}`);return Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case b.STRING:if(typeof e!="string")throw new Error(`cannot encode ${a} to JSON: ${(l=Cr(a,e))===null||l===void 0?void 0:l.message}`);return e;case b.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${a} to JSON: ${(c=Cr(a,e))===null||c===void 0?void 0:c.message}`);return e;case b.UINT64:case b.FIXED64:case b.INT64:case b.SFIXED64:case b.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${a} to JSON: ${(g=Cr(a,e))===null||g===void 0?void 0:g.message}`);return e.toString();case b.BYTES:if(e instanceof Uint8Array)return ph(e);throw new Error(`cannot encode ${a} to JSON: ${(y=Cr(a,e))===null||y===void 0?void 0:y.message}`)}}function Kg(a,e){return e.useProtoFieldName?a.name:a.jsonName}function Xg(a,e){if(a.desc.typeName.startsWith("google.protobuf."))switch(a.desc.typeName){case"google.protobuf.Any":return Pg(a.message,e);case"google.protobuf.Timestamp":return gr(a.message);case"google.protobuf.Duration":return fd(a.message);case"google.protobuf.FieldMask":return hd(a.message);case"google.protobuf.Struct":return jl(a.message);case"google.protobuf.Value":return $n(a.message);case"google.protobuf.ListValue":return Lc(a.message);default:if(ye(a.desc)){const n=a.desc.fields[0];return jo(n,a.get(n))}return}}function Pg(a,e){if(a.typeUrl==="")return{};const{registry:n}=e;let i,l;if(n&&(i=zg(a,n),i&&(l=n.getMessage(i.$typeName))),!l||!i)throw new Error(`cannot encode message ${a.$typeName} to JSON: "${a.typeUrl}" is not in the type registry`);let c=es(ut(l,i),e);return(l.typeName.startsWith("google.protobuf.")||c===null||Array.isArray(c)||typeof c!="object")&&(c={value:c}),c["@type"]=a.typeUrl,c}function fd(a){const e=Number(a.seconds),n=a.nanos;if(e>315576e6||e<-315576e6)throw new Error(`cannot encode message ${a.$typeName} to JSON: value out of range`);if(e>0&&n<0||e<0&&n>0)throw new Error(`cannot encode message ${a.$typeName} to JSON: nanos sign must match seconds sign`);let i=a.seconds.toString();if(n!==0){let l=Math.abs(n).toString();l="0".repeat(9-l.length)+l,l.substring(3)==="000000"?l=l.substring(0,3):l.substring(6)==="000"&&(l=l.substring(0,6)),i+="."+l,n<0&&e==0&&(i="-"+i)}return i+"s"}function hd(a){return a.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${a.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return Pi(e)}).join(",")}function jl(a){const e={};for(const[n,i]of Object.entries(a.fields))e[n]=$n(i);return e}function $n(a){switch(a.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(a.kind.value))throw new Error(`${a.$typeName} cannot be NaN or Infinity`);return a.kind.value;case"boolValue":return a.kind.value;case"stringValue":return a.kind.value;case"structValue":return jl(a.kind.value);case"listValue":return Lc(a.kind.value);default:throw new Error(`${a.$typeName} must have a value`)}}function Lc(a){return a.values.map($n)}function gr(a){const e=Number(a.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${a.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(a.nanos<0)throw new Error(`cannot encode message ${a.$typeName} to JSON: nanos must not be negative`);if(a.nanos>999999999)throw new Error(`cannot encode message ${a.$typeName} to JSON: nanos must not be greater than 99999999`);let n="Z";if(a.nanos>0){const i=(a.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?n="."+i.substring(0,3)+"Z":i.substring(6)==="000"?n="."+i.substring(0,6)+"Z":n="."+i+"Z"}return new Date(e).toISOString().replace(".000Z",n)}const Qn={ignoreUnknownFields:!1};function Os(a){return a?Object.assign(Object.assign({},Qn),a):Qn}function Mc(a,e,n){return Hl(a,_c(e,a.typeName),n)}function Hl(a,e,n){const i=ut(a);try{Sa(i,e,Os(n))}catch(l){throw lc(l)?new Error(`cannot decode ${l.field()} from JSON: ${l.message}`,{cause:l}):l}return i.message}function Sa(a,e,n){var i;if(Yc(a,e,n))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${a.desc} from JSON: ${Ae(e)}`);const l=new Map,c=new Map;for(const g of a.desc.fields)c.set(g.name,g).set(g.jsonName,g);for(const[g,y]of Object.entries(e)){const S=c.get(g);if(S){if(S.oneof){if(y===null&&S.fieldKind=="scalar")continue;const R=l.get(S.oneof);if(R!==void 0)throw new Ut(S.oneof,`oneof set multiple times by ${R.name} and ${S.name}`);l.set(S.oneof,S)}$l(a,S,y,n)}else{let R;if(g.startsWith("[")&&g.endsWith("]")&&(R=(i=n.registry)===null||i===void 0?void 0:i.getExtension(g.substring(1,g.length-1)))&&R.extendee.typeName===a.desc.typeName){const[C,Z,J]=Pl(R);$l(C,Z,y,n),ld(a.message,R,J())}if(!R&&!n.ignoreUnknownFields)throw new Error(`cannot decode ${a.desc} from JSON: key "${g}" is unknown`)}}}function $l(a,e,n,i){switch(e.fieldKind){case"scalar":Fg(a,e,n);break;case"enum":Bs(a,e,n,i);break;case"message":Ql(a,e,n,i);break;case"list":dd(a.get(e),n,i);break;case"map":Vs(a.get(e),n,i);break}}function Vs(a,e,n){if(e===null)return;const i=a.field();if(typeof e!="object"||Array.isArray(e))throw new Ut(i,"expected object, got "+Ae(e));for(const[l,c]of Object.entries(e)){if(c===null)throw new Ut(i,"map value must not be null");let g;switch(i.mapKind){case"message":const S=ut(i.message);Sa(S,c,n),g=S;break;case"enum":if(g=Ho(i.enum,c,n.ignoreUnknownFields,!0),g===An)return;break;case"scalar":g=$o(i,c,!0);break}const y=ql(i.mapKey,l);a.set(y,g)}}function dd(a,e,n){if(e===null)return;const i=a.field();if(!Array.isArray(e))throw new Ut(i,"expected Array, got "+Ae(e));for(const l of e){if(l===null)throw new Ut(i,"list item must not be null");switch(i.listKind){case"message":const c=ut(i.message);Sa(c,l,n),a.add(c);break;case"enum":const g=Ho(i.enum,l,n.ignoreUnknownFields,!0);g!==An&&a.add(g);break;case"scalar":a.add($o(i,l,!0));break}}}function Ql(a,e,n,i){if(n===null&&e.message.typeName!="google.protobuf.Value"){a.clear(e);return}const l=a.isSet(e)?a.get(e):ut(e.message);Sa(l,n,i),a.set(e,l)}function Bs(a,e,n,i){const l=Ho(e.enum,n,i.ignoreUnknownFields,!1);l===mr?a.clear(e):l!==An&&a.set(e,l)}function Fg(a,e,n){const i=$o(e,n,!1);i===mr?a.clear(e):a.set(e,i)}const An=Symbol();function Ho(a,e,n,i){if(e===null)return a.typeName=="google.protobuf.NullValue"?0:i?a.values[0].number:mr;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const l=a.values.find(c=>c.name===e);if(l!==void 0)return l.number;if(n)return An;break}throw new Error(`cannot decode ${a} from JSON: ${Ae(e)}`)}const mr=Symbol();function $o(a,e,n){if(e===null)return n?Ne(a.scalar,!1):mr;switch(a.scalar){case b.DOUBLE:case b.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(Number.isNaN(e))throw new Ut(a,"unexpected NaN number");if(!Number.isFinite(e))throw new Ut(a,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const i=Number(e);if(!Number.isFinite(i))break;return i}break;case b.INT32:case b.FIXED32:case b.SFIXED32:case b.SINT32:case b.UINT32:return ii(e);case b.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return dc(e)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Ut(a,l)}}break}return e}function ql(a,e){switch(a){case b.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case b.INT32:case b.FIXED32:case b.UINT32:case b.SFIXED32:case b.SINT32:return ii(e);default:return e}}function ii(a){if(typeof a=="string"){if(a===""||a.trim().length!==a.length)return a;const e=Number(a);return Number.isNaN(e)?a:e}return a}function _c(a,e){try{return JSON.parse(a)}catch(n){const i=n instanceof Error?n.message:String(n);throw new Error(`cannot decode message ${e} from JSON: ${i}`,{cause:n})}}function Yc(a,e,n){if(!a.desc.typeName.startsWith("google.protobuf."))return!1;switch(a.desc.typeName){case"google.protobuf.Any":return Us(a.message,e,n),!0;case"google.protobuf.Timestamp":return Ls(a.message,e),!0;case"google.protobuf.Duration":return eu(a.message,e),!0;case"google.protobuf.FieldMask":return tu(a.message,e),!0;case"google.protobuf.Struct":return qn(a.message,e),!0;case"google.protobuf.Value":return Gn(a.message,e),!0;case"google.protobuf.ListValue":return si(a.message,e),!0;default:if(ye(a.desc)){const i=a.desc.fields[0];return e===null?a.clear(i):a.set(i,$o(i,e,!0)),!0}return!1}}function Us(a,e,n){var i;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${a.$typeName} from JSON: expected object but got ${Ae(e)}`);if(Object.keys(e).length==0)return;const l=e["@type"];if(typeof l!="string"||l=="")throw new Error(`cannot decode message ${a.$typeName} from JSON: "@type" is empty`);const c=l.includes("/")?l.substring(l.lastIndexOf("/")+1):l;if(!c.length)throw new Error(`cannot decode message ${a.$typeName} from JSON: "@type" is invalid`);const g=(i=n.registry)===null||i===void 0?void 0:i.getMessage(c);if(!g)throw new Error(`cannot decode message ${a.$typeName} from JSON: ${l} is not in the type registry`);const y=ut(g);if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const S=e.value;Sa(y,S,n)}else{const S=Object.assign({},e);delete S["@type"],Sa(y,S,n)}rd(y.desc,y.message,a)}function Ls(a,e){if(typeof e!="string")throw new Error(`cannot decode message ${a.$typeName} from JSON: ${Ae(e)}`);const n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error(`cannot decode message ${a.$typeName} from JSON: invalid RFC 3339 string`);const i=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(i))throw new Error(`cannot decode message ${a.$typeName} from JSON: invalid RFC 3339 string`);if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${a.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);a.seconds=le.parse(i/1e3),a.nanos=0,n[7]&&(a.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9)}function eu(a,e){if(typeof e!="string")throw new Error(`cannot decode message ${a.$typeName} from JSON: ${Ae(e)}`);const n=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(n===null)throw new Error(`cannot decode message ${a.$typeName} from JSON: ${Ae(e)}`);const i=Number(n[1]);if(i>315576e6||i<-315576e6)throw new Error(`cannot decode message ${a.$typeName} from JSON: ${Ae(e)}`);if(a.seconds=le.parse(i),typeof n[2]!="string")return;const l=n[2]+"0".repeat(9-n[2].length);a.nanos=parseInt(l),(i<0||Object.is(i,-0))&&(a.nanos=-a.nanos)}function tu(a,e){if(typeof e!="string")throw new Error(`cannot decode message ${a.$typeName} from JSON: ${Ae(e)}`);if(e==="")return;function n(i){if(i.includes("_"))throw new Error(`cannot decode message ${a.$typeName} from JSON: path names must be lowerCamelCase`);const l=i.replace(/[A-Z]/g,c=>"_"+c.toLowerCase());return l[0]==="_"?l.substring(1):l}a.paths=e.split(",").map(n)}function qn(a,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${a.$typeName} from JSON ${Ae(e)}`);for(const[n,i]of Object.entries(e)){const l=ge(Zn);Gn(l,i),a.fields[n]=l}}function Gn(a,e){switch(typeof e){case"number":a.kind={case:"numberValue",value:e};break;case"string":a.kind={case:"stringValue",value:e};break;case"boolean":a.kind={case:"boolValue",value:e};break;case"object":if(e===null)a.kind={case:"nullValue",value:Xl.NULL_VALUE};else if(Array.isArray(e)){const n=ge(Fo);si(n,e),a.kind={case:"listValue",value:n}}else{const n=ge(Wg);qn(n,e),a.kind={case:"structValue",value:n}}break;default:throw new Error(`cannot decode message ${a.$typeName} from JSON ${Ae(e)}`)}return a}function si(a,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${a.$typeName} from JSON ${Ae(e)}`);for(const n of e){const i=ge(Zn);Gn(i,n),a.values.push(i)}}function Xr(a){const e=I[a];return typeof e!="string"?a.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class Fe extends Error{constructor(e,n=I.Unknown,i,l,c){super(ns(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(i??{}),this.details=l??[],this.cause=c}static from(e,n=I.Unknown){return e instanceof Fe?e:e instanceof Error?e.name=="AbortError"||e.name=="TimeoutError"?new Fe(e.message,I.Canceled):new Fe(e.message,n,void 0,void 0,e):new Fe(String(e),n,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===Fe.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const n=e.kind==="message"?{getMessage:l=>l===e.typeName?e:void 0}:e,i=[];for(const l of this.details){if("desc"in l){n.getMessage(l.desc.typeName)&&i.push(ge(l.desc,l.value));continue}const c=n.getMessage(l.type);if(c)try{i.push(hr(c,l.value))}catch{}}return i}}function ns(a,e){return a.length?`[${Xr(e)}] ${a}`:`[${Xr(e)}]`}function gd(a,e,n){try{const i=dc(a);return e?hr(e,i,n):i}catch(i){throw Fe.from(i,I.DataLoss)}}function Zc(a,e){const n={};for(const i of a.methods){const l=e(i);l!=null&&(n[i.localName]=l)}return n}const nu=1;function Cn(a,e,n=!1){if(e>a){let i=`message size is larger than configured readMaxBytes ${a}`;throw n&&(i=`message size ${e} is larger than configured readMaxBytes ${a}`),new Fe(i,I.ResourceExhausted)}}function Yt(a){return new st(a)}class st{constructor(e){this.readMaxBytes=e,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((e,n)=>e+n.byteLength,0)}decode(e){this.buf.push(e);const n=[];for(;;){let i=this.pop();if(!i)break;n.push(i)}return n}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const e=this.env;return this.env=void 0,e}}head(){if(!this.cons(this.header))return;const e=this.headerView.getUint8(0),n=this.headerView.getUint32(1);return Cn(this.readMaxBytes,n,!0),{flags:e,data:new Uint8Array(n)}}cons(e){const n=e.byteLength;if(this.byteLength<n)return!1;let i=0;for(;i<n;){const l=this.buf.shift();l.byteLength>n-i?(e.set(l.subarray(0,n-i),i),this.buf.unshift(l.subarray(n-i)),i+=n-i):(e.set(l,i),i+=l.byteLength)}return!0}}function oi(a){let e;const n=Yt(4294967295);return new ReadableStream({start(){e=a.getReader()},async pull(i){let l=!1;for(;!l;){const c=await e.read();if(c.done)n.byteLength>0&&i.error(new Fe("protocol error: incomplete envelope",I.InvalidArgument)),i.close();else for(const g of n.decode(c.value))i.enqueue(g),l=!0}}})}function Dr(a,e){const n=new Uint8Array(e.length+5);n.set(e,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,a),i.setUint32(1,e.length),n}var Gc=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a[Symbol.asyncIterator],n;return e?e.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=a[c]&&function(g){return new Promise(function(y,S){g=a[c](g),l(y,S,g.done,g.value)})}}function l(c,g,y,S){Promise.resolve(S).then(function(R){c({value:R,done:y})},g)}},Or=function(a){return this instanceof Or?(this.v=a,this):new Or(a)},md=function(a,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(a,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",g),l[Symbol.asyncIterator]=function(){return this},l;function g(G){return function(ne){return Promise.resolve(ne).then(G,Z)}}function y(G,ne){i[G]&&(l[G]=function(ae){return new Promise(function(pe,Ce){c.push([G,ae,pe,Ce])>1||S(G,ae)})},ne&&(l[G]=ne(l[G])))}function S(G,ne){try{R(i[G](ne))}catch(ae){J(c[0][3],ae)}}function R(G){G.value instanceof Or?Promise.resolve(G.value.v).then(C,Z):J(c[0][2],G)}function C(G){S("next",G)}function Z(G){S("throw",G)}function J(G,ne){G(ne),c.shift(),c.length&&S(c[0][0],c[0][1])}},pd=function(a){var e,n;return e={},i("next"),i("throw",function(l){throw l}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(l,c){e[l]=a[l]?function(g){return(n=!n)?{value:Or(a[l](g)),done:!1}:c?c(g):g}:c}};function Qo(a){return md(this,arguments,function*(){yield Or(yield*pd(Gc(a)))})}var Ms=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a[Symbol.asyncIterator],n;return e?e.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=a[c]&&function(g){return new Promise(function(y,S){g=a[c](g),l(y,S,g.done,g.value)})}}function l(c,g,y,S){Promise.resolve(S).then(function(R){c({value:R,done:y})},g)}},rs=function(a){return this instanceof rs?(this.v=a,this):new rs(a)},qo=function(a){var e,n;return e={},i("next"),i("throw",function(l){throw l}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(l,c){e[l]=a[l]?function(g){return(n=!n)?{value:rs(a[l](g)),done:!1}:c?c(g):g}:c}},zc=function(a,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(a,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",g),l[Symbol.asyncIterator]=function(){return this},l;function g(G){return function(ne){return Promise.resolve(ne).then(G,Z)}}function y(G,ne){i[G]&&(l[G]=function(ae){return new Promise(function(pe,Ce){c.push([G,ae,pe,Ce])>1||S(G,ae)})},ne&&(l[G]=ne(l[G])))}function S(G,ne){try{R(i[G](ne))}catch(ae){J(c[0][3],ae)}}function R(G){G.value instanceof rs?Promise.resolve(G.value.v).then(C,Z):J(c[0][2],G)}function C(G){S("next",G)}function Z(G){S("throw",G)}function J(G,ne){G(ne),c.shift(),c.length&&S(c[0][0],c[0][1])}};function as(a,e){return Zc(a,n=>{switch(n.methodKind){case"unary":return Aa(e,n);case"server_streaming":return li(e,n);case"client_streaming":return Ea(e,n);case"bidi_streaming":return kc(e,n);default:return null}})}function Aa(a,e){return async(n,i)=>{var l,c;const g=await a.unary(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,n,i==null?void 0:i.contextValues);return(l=i==null?void 0:i.onHeader)===null||l===void 0||l.call(i,g.header),(c=i==null?void 0:i.onTrailer)===null||c===void 0||c.call(i,g.trailer),g.message}}function li(a,e){return(n,i)=>ru(a.stream(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,Qo([n]),i==null?void 0:i.contextValues),i)}function Ea(a,e){return async(n,i)=>{var l,c,g,y,S,R;const C=await a.stream(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,n,i==null?void 0:i.contextValues);(S=i==null?void 0:i.onHeader)===null||S===void 0||S.call(i,C.header);let Z,J=0;try{for(var G=!0,ne=Ms(C.message),ae;ae=await ne.next(),l=ae.done,!l;G=!0)y=ae.value,G=!1,Z=y,J++}catch(pe){c={error:pe}}finally{try{!G&&!l&&(g=ne.return)&&await g.call(ne)}finally{if(c)throw c.error}}if(!Z)throw new Fe("protocol error: missing response message",I.Unimplemented);if(J>1)throw new Fe("protocol error: received extra messages for client streaming method",I.Unimplemented);return(R=i==null?void 0:i.onTrailer)===null||R===void 0||R.call(i,C.trailer),Z}}function kc(a,e){return(n,i)=>ru(a.stream(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,n,i==null?void 0:i.contextValues),i)}function ru(a,e){const n=function(){return zc(this,arguments,function*(){var i,l;const c=yield rs(a);(i=e==null?void 0:e.onHeader)===null||i===void 0||i.call(e,c.header),yield rs(yield*qo(Ms(c.message))),(l=e==null?void 0:e.onTrailer)===null||l===void 0||l.call(e,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function el(...a){const e=new AbortController,n=a.filter(l=>l!==void 0).concat(e.signal);for(const l of n){if(l.aborted){i.apply(l);break}l.addEventListener("abort",i)}function i(){e.signal.aborted||e.abort(ui(this));for(const l of n)l.removeEventListener("abort",i)}return e}function au(a){const e=new AbortController,n=()=>{e.abort(new Fe("the operation timed out",I.DeadlineExceeded))};let i;return a!==void 0&&(a<=0?n():i=setTimeout(n,a)),{signal:e.signal,cleanup:()=>clearTimeout(i)}}function ui(a){if(!a.aborted)return;if(a.reason!==void 0)return a.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function cn(){return{get(a){return a.id in this?this[a.id]:a.defaultValue},set(a,e){return this[a.id]=e,this},delete(a){return delete this[a.id],this}}}const _s=128;function Wc(a){const e=new Headers,n=new TextDecoder().decode(a).split(`\r
`);for(const i of n){if(i==="")continue;const l=i.indexOf(":");if(l>0){const c=i.substring(0,l).trim(),g=i.substring(l+1).trim();e.append(c,g)}}return e}const Jg="Content-Type",jg="Grpc-Timeout",Ys="Grpc-Status",Pt="Grpc-Message",Kc="Grpc-Status-Details-Bin",tl="User-Agent",Zs="X-User-Agent",Xc="X-Grpc-Web",Gs="application/grpc-web+proto",zs="application/grpc-web+json";function Hg(a,e,...n){if(n.length>0)throw new Error;return a.services[e]}const Qg=Ue(Kr("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[Qh]),0),yd="0";function ci(a){var e;const n=a.get(Kc);if(n!=null){const l=gd(n,Qg);if(l.code==0)return;const c=new Fe(l.message,l.code,a);return c.details=l.details.map(g=>({type:g.typeUrl.substring(g.typeUrl.lastIndexOf("/")+1),value:g.value})),c}const i=a.get(Ys);if(i!=null){if(i===yd)return;const l=parseInt(i,10);return l in I?new Fe(decodeURIComponent((e=a.get(Pt))!==null&&e!==void 0?e:""),l,a):new Fe(`invalid grpc-status: ${i}`,I.Internal,a)}}function iu(a,e){return a.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function nl(a,e){return ge(a,e)}function vd(a,e){function n(i){return i.done===!0?i:{done:i.done,value:nl(a,i.value)}}return{[Symbol.asyncIterator](){const i=e[Symbol.asyncIterator](),l={next:()=>i.next().then(n)};return i.throw!==void 0&&(l.throw=c=>i.throw(c).then(n)),i.return!==void 0&&(l.return=c=>i.return(c).then(n)),l}}}function ks(a,e){if(!e)return a;for(const n of e.concat().reverse())a=n(a);return a}function bd(a){var e;const n=Object.assign({},a);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function rl(a,e,n,i){const l=e?su(a.input,i):Pc(a.input,n);return{parse:(e?su(a.output,i):Pc(a.output,n)).parse,serialize:l.serialize}}function su(a,e){return{parse(n){try{return hr(a,n,e)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Fe(`parse binary: ${l}`,I.Internal)}},serialize(n){try{return dr(a,n,e)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Fe(`serialize binary: ${l}`,I.Internal)}}}}function Pc(a,e){var n,i;const l=(n=e==null?void 0:e.textEncoder)!==null&&n!==void 0?n:new TextEncoder,c=(i=e==null?void 0:e.textDecoder)!==null&&i!==void 0?i:new TextDecoder,g=bd(e);return{parse(y){try{const S=c.decode(y);return Mc(a,S,g)}catch(S){throw Fe.from(S,I.InvalidArgument)}},serialize(y){try{const S=Ds(a,y,g);return l.encode(S)}catch(S){throw Fe.from(S,I.Internal)}}}}function ou(a){const e=ks(a.next,a.interceptors),[n,i,l]=Ws(a),c=Object.assign(Object.assign({},a.req),{message:nl(a.req.method.input,a.req.message),signal:n});return e(c).then(g=>(l(),g),i)}function Sd(a){const e=ks(a.next,a.interceptors),[n,i,l]=Ws(a),c=Object.assign(Object.assign({},a.req),{message:vd(a.req.method.input,a.req.message),signal:n});let g=!1;return n.addEventListener("abort",function(){var y,S;const R=a.req.message[Symbol.asyncIterator]();g||(y=R.throw)===null||y===void 0||y.call(R,this.reason).catch(()=>{}),(S=R.return)===null||S===void 0||S.call(R).catch(()=>{})}),e(c).then(y=>Object.assign(Object.assign({},y),{message:{[Symbol.asyncIterator](){const S=y.message[Symbol.asyncIterator]();return{next(){return S.next().then(R=>(R.done==!0&&(g=!0,l()),R),i)}}}}}),i)}function Ws(a){const{signal:e,cleanup:n}=au(a.timeoutMs),i=el(a.signal,e);return[i.signal,function(c){const g=Fe.from(e.aborted?ui(e):c);return i.abort(g),n(),Promise.reject(g)},function(){n(),i.abort()}]}function Ad(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Fc(a,e){const n=ci(a);if(n)throw e.forEach((i,l)=>{n.metadata.append(l,i)}),n;if(!e.has(Ys)&&!a.has(Ys))throw new Fe("protocol error: missing status",I.Internal)}function Ra(a,e,n,i){var l,c;const g=new Headers(n??{});g.set(Jg,a?Gs:zs),g.set(Xc,"1");const y=(c=(l=g.get(tl))!==null&&l!==void 0?l:g.get(Zs))!==null&&c!==void 0?c:"connect-es/2.1.1";return g.set(Zs,y),e!==void 0&&g.set(jg,`${e}m`),g}function Jc(a){switch(a){case 400:return I.Internal;case 401:return I.Unauthenticated;case 403:return I.PermissionDenied;case 404:return I.Unimplemented;case 429:return I.Unavailable;case 502:return I.Unavailable;case 503:return I.Unavailable;case 504:return I.Unavailable;default:return I.Unknown}}function lu(a,e){var n;if(a>=200&&a<300)return{foundStatus:e.has(Ys),headerError:ci(e)};throw new Fe(decodeURIComponent((n=e.get(Pt))!==null&&n!==void 0?n:`HTTP ${a}`),Jc(a),e)}var zn=function(a){return this instanceof zn?(this.v=a,this):new zn(a)},fi=function(a,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(a,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",g),l[Symbol.asyncIterator]=function(){return this},l;function g(G){return function(ne){return Promise.resolve(ne).then(G,Z)}}function y(G,ne){i[G]&&(l[G]=function(ae){return new Promise(function(pe,Ce){c.push([G,ae,pe,Ce])>1||S(G,ae)})},ne&&(l[G]=ne(l[G])))}function S(G,ne){try{R(i[G](ne))}catch(ae){J(c[0][3],ae)}}function R(G){G.value instanceof zn?Promise.resolve(G.value.v).then(C,Z):J(c[0][2],G)}function C(G){S("next",G)}function Z(G){S("throw",G)}function J(G,ne){G(ne),c.shift(),c.length&&S(c[0][0],c[0][1])}};const Ks={redirect:"error"};function jc(a){var e;Ad();const n=(e=a.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(i,l,c,g,y,S){const{serialize:R,parse:C}=rl(i,n,a.jsonOptions,a.binaryOptions);return c=c===void 0?a.defaultTimeoutMs:c<=0?void 0:c,await ou({interceptors:a.interceptors,signal:l,timeoutMs:c,req:{stream:!1,service:i.parent,method:i,requestMethod:"POST",url:iu(a.baseUrl,i),header:Ra(n,c,g),contextValues:S??cn(),message:y},next:async Z=>{var J;const ne=await((J=a.fetch)!==null&&J!==void 0?J:globalThis.fetch)(Z.url,Object.assign(Object.assign({},Ks),{method:Z.requestMethod,headers:Z.header,signal:Z.signal,body:Dr(0,R(Z.message))})),{headerError:ae}=lu(ne.status,ne.headers);if(!ne.body)throw ae!==void 0?ae:"missing response body";const pe=oi(ne.body).getReader();let Ce,at;for(;;){const ht=await pe.read();if(ht.done)break;const{flags:pt,data:vn}=ht.value;if((pt&nu)===nu)throw new Fe("protocol error: received unsupported compressed output",I.Internal);if(pt===_s){if(Ce!==void 0)throw"extra trailer";Ce=Wc(vn);continue}if(at!==void 0)throw new Fe("extra message",I.Unimplemented);at=C(vn)}if(Ce===void 0)throw ae!==void 0?ae:new Fe("missing trailer",ne.headers.has(Ys)?I.Unimplemented:I.Unknown);if(Fc(Ce,ne.headers),at===void 0)throw new Fe("missing message",Ce.has(Ys)?I.Unimplemented:I.Unknown);return{stream:!1,service:i.parent,method:i,header:ne.headers,message:at,trailer:Ce}}})},async stream(i,l,c,g,y,S){const{serialize:R,parse:C}=rl(i,n,a.jsonOptions,a.binaryOptions);function Z(G,ne,ae,pe,Ce){return fi(this,arguments,function*(){const ht=oi(G).getReader();if(ne){if(!(yield zn(ht.read())).done)throw"extra data for trailers-only";return yield zn(void 0)}let pt=!1;for(;;){const vn=yield zn(ht.read());if(vn.done)break;const{flags:lt,data:Ot}=vn.value;if((lt&_s)===_s){if(pt)throw"extra trailer";pt=!0;const Vt=Wc(Ot);Fc(Vt,pe),Vt.forEach((Bt,kr)=>ae.set(kr,Bt));continue}if(pt)throw"extra message";yield yield zn(C(Ot))}if("throwIfAborted"in Ce&&Ce.throwIfAborted(),!pt)throw"missing trailer"})}async function J(G){if(i.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const ne=await G[Symbol.asyncIterator]().next();if(ne.done==!0)throw"missing request message";return Dr(0,R(ne.value))}return c=c===void 0?a.defaultTimeoutMs:c<=0?void 0:c,Sd({interceptors:a.interceptors,signal:l,timeoutMs:c,req:{stream:!0,service:i.parent,method:i,requestMethod:"POST",url:iu(a.baseUrl,i),header:Ra(n,c,g),contextValues:S??cn(),message:y},next:async G=>{var ne;const pe=await((ne=a.fetch)!==null&&ne!==void 0?ne:globalThis.fetch)(G.url,Object.assign(Object.assign({},Ks),{method:G.requestMethod,headers:G.header,signal:G.signal,body:await J(G.message)})),{foundStatus:Ce,headerError:at}=lu(pe.status,pe.headers);if(at!=null)throw at;if(!pe.body)throw"missing response body";const ht=new Headers;return Object.assign(Object.assign({},G),{header:pe.headers,trailer:ht,message:Z(pe.body,Ce,ht,pe.headers,G.signal)})}})}}}const Ye=Kr("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[jh,sd]),al=Ue(Ye,0),il=Ue(Ye,1),Ed=Ue(Ye,2),uu=Ue(Ye,3),hi=Ue(Ye,4),Xs=Ue(Ye,5),Rd=Ue(Ye,5,0),Hc=Ue(Ye,5,1),$c=Ue(Ye,5,2),di=Ue(Ye,5,3),Ge=Ue(Ye,5,4),vt=Ue(Ye,5,5),Ft=Ue(Ye,5,6),cu=Ue(Ye,5,7),Ps=Ue(Ye,5,8),is=Ue(Ye,5,9),Ta=Ue(Ye,6),En=Ue(Ye,7),Fs=Ue(Ye,7,0),qg=Ue(Ye,7,1),Wt=Ue(Ye,7,2),Qc=Ue(Ye,7,3),qc=Ue(Ye,7,4),Td=Ue(Ye,7,5),wd=Ue(Ye,8),em=Ue(Ye,9),fu=Ue(Ye,10),ef=Ue(Ye,11),tf=Ue(Ye,12),kn=Ue(Ye,13),Jt=Ue(Ye,14),nf=Ue(Ye,15),sl=Ue(Ye,16),ol=Ue(Ye,23);var ss=(a=>(a[a.UNSPECIFIED=0]="UNSPECIFIED",a[a.PUT=1]="PUT",a[a.DELETE=2]="DELETE",a[a.CLEAR=3]="CLEAR",a))(ss||{});const wa=Ue(Ye,24),hu=Ue(Ye,26),rf=Ue(Ye,27),af=Ue(Ye,28);var sf=(a=>(a[a.UNSPECIFIED=0]="UNSPECIFIED",a[a.PRESENCE=1]="PRESENCE",a[a.BROADCAST=2]="BROADCAST",a))(sf||{}),Ze=(a=>(a[a.NULL=0]="NULL",a[a.BOOLEAN=1]="BOOLEAN",a[a.INTEGER=2]="INTEGER",a[a.LONG=3]="LONG",a[a.DOUBLE=4]="DOUBLE",a[a.STRING=5]="STRING",a[a.BYTES=6]="BYTES",a[a.DATE=7]="DATE",a[a.JSON_OBJECT=8]="JSON_OBJECT",a[a.JSON_ARRAY=9]="JSON_ARRAY",a[a.TEXT=10]="TEXT",a[a.INTEGER_CNT=11]="INTEGER_CNT",a[a.LONG_CNT=12]="LONG_CNT",a[a.TREE=13]="TREE",a))(Ze||{}),ll=(a=>(a[a.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",a[a.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",a[a.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",a[a.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",a))(ll||{});const Nd=Hg(Kr("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayJTCgxXYXRjaFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEjAKCXJlc291cmNlcxgCIAMoCzIdLnlvcmtpZS52MS5SZXNvdXJjZURlc2NyaXB0b3IihAEKElJlc291cmNlRGVzY3JpcHRvchIxCghkb2N1bWVudBgBIAEoCzIdLnlvcmtpZS52MS5Eb2N1bWVudERlc2NyaXB0b3JIABIvCgdjaGFubmVsGAIgASgLMhwueW9ya2llLnYxLkNoYW5uZWxEZXNjcmlwdG9ySABCCgoIcmVzb3VyY2UiKQoSRG9jdW1lbnREZXNjcmlwdG9yEhMKC2RvY3VtZW50X2lkGAEgASgJIigKEUNoYW5uZWxEZXNjcmlwdG9yEhMKC2NoYW5uZWxfa2V5GAEgASgJInkKDVdhdGNoUmVzcG9uc2USOAoOaW5pdGlhbGl6YXRpb24YASABKAsyHi55b3JraWUudjEuV2F0Y2hJbml0aWFsaXphdGlvbkgAEiYKBWV2ZW50GAIgASgLMhUueW9ya2llLnYxLldhdGNoRXZlbnRIAEIGCgRib2R5IkYKE1dhdGNoSW5pdGlhbGl6YXRpb24SLwoOcmVzb3VyY2VfaW5pdHMYASADKAsyFy55b3JraWUudjEuUmVzb3VyY2VJbml0IngKDFJlc291cmNlSW5pdBIwCg1kb2N1bWVudF9pbml0GAEgASgLMhcueW9ya2llLnYxLkRvY3VtZW50SW5pdEgAEi4KDGNoYW5uZWxfaW5pdBgCIAEoCzIWLnlvcmtpZS52MS5DaGFubmVsSW5pdEgAQgYKBGluaXQiNwoMRG9jdW1lbnRJbml0EhMKC2RvY3VtZW50X2lkGAEgASgJEhIKCmNsaWVudF9pZHMYAiADKAkiRgoLQ2hhbm5lbEluaXQSEwoLY2hhbm5lbF9rZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoAxILCgNzZXEYAyABKAMiewoKV2F0Y2hFdmVudBItCglkb2NfZXZlbnQYASABKAsyGC55b3JraWUudjEuRG9jV2F0Y2hFdmVudEgAEjUKDWNoYW5uZWxfZXZlbnQYAiABKAsyHC55b3JraWUudjEuQ2hhbm5lbFdhdGNoRXZlbnRIAEIHCgVldmVudCJICg1Eb2NXYXRjaEV2ZW50EhMKC2RvY3VtZW50X2lkGAEgASgJEiIKBWV2ZW50GAIgASgLMhMueW9ya2llLnYxLkRvY0V2ZW50IlAKEUNoYW5uZWxXYXRjaEV2ZW50EhMKC2NoYW5uZWxfa2V5GAEgASgJEiYKBWV2ZW50GAIgASgLMhcueW9ya2llLnYxLkNoYW5uZWxFdmVudCJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMpgKCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAEj4KBVdhdGNoEhcueW9ya2llLnYxLldhdGNoUmVxdWVzdBoYLnlvcmtpZS52MS5XYXRjaFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[Ye]),0),of=Ue(Kr("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[xs]),0);var V=(a=>(a.Ok="ok",a.ErrClientNotActivated="ErrClientNotActivated",a.ErrClientNotFound="ErrClientNotFound",a.ErrUnimplemented="ErrUnimplemented",a.ErrInvalidType="ErrInvalidType",a.ErrDummy="ErrDummy",a.ErrNotAttached="ErrNotAttached",a.ErrNotDetached="ErrNotDetached",a.ErrDocumentRemoved="ErrDocumentRemoved",a.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",a.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",a.ErrInvalidObjectKey="ErrInvalidObjectKey",a.ErrInvalidArgument="ErrInvalidArgument",a.ErrNotInitialized="ErrNotInitialized",a.ErrNotReady="ErrNotReady",a.ErrRefused="ErrRefused",a.ErrContextNotProvided="ErrContextNotProvided",a.ErrPermissionDenied="ErrPermissionDenied",a.ErrUnauthenticated="ErrUnauthenticated",a.ErrTooManySubscribers="ErrTooManySubscribers",a.ErrTooManyAttachments="ErrTooManyAttachments",a))(V||{});class L extends Error{constructor(n,i){super(i);D(this,"name","YorkieError");D(this,"stack");this.code=n,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var Vr=(a=>(a.Put="put",a.Clear="clear",a))(Vr||{});const du="000000000000000000000000",Br=24;class Wn{constructor(e,n,i){D(this,"lamport");D(this,"delimiter");D(this,"actorID");this.lamport=e,this.delimiter=n,this.actorID=i}static of(e,n,i){return new Wn(e,n,i)}static fromStruct(e){return Wn.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new Wn(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const n=this.actorID.localeCompare(e.actorID);return n!==0?n:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const gu=0n,lf=0,mu=9223372036854775807n,os=new Wn(gu,lf,du);function Ur(a){return a.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class ul{constructor(e){D(this,"createdAt");D(this,"movedAt");D(this,"removedAt");this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(e){this.createdAt=e}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.createdAt)&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let e=0;return this.getCreatedAt()&&(e+=Br),this.getMovedAt()&&(e+=Br),this.getRemovedAt()&&(e+=Br),e}}class Na extends ul{constructor(e){super(e)}}class Ia{constructor(e,n){D(this,"strKey");D(this,"value");this.strKey=e,this.value=n}static of(e,n){return new Ia(e,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class Ca{constructor(){D(this,"nodeMapByKey");D(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Ca}set(e,n,i){let l;const c=this.nodeMapByKey.get(e);c&&!c.isRemoved()&&c.remove(i)&&(l=c.getValue());const g=Ia.of(e,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),g),(!c||i.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,g),n.setMovedAt(i)),l}delete(e,n){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new L(V.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const i=this.nodeMapByCreatedAt.get(e.toIDString());return i.remove(n),i.getValue()}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(n)return n.getStrKey()}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!n)throw new L(V.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(e,n){const i=this.nodeMapByKey.get(e);if(i&&i.remove(n))return i.getValue()}has(e){const n=this.nodeMapByKey.get(e);return n?!n.isRemoved():!1}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const n=this.nodeMapByKey.get(e);if(!(!n||n.isRemoved()))return n}deepcopy(){const e=Ca.create();for(const[,n]of this.nodeMapByCreatedAt)e.nodeMapByCreatedAt.set(n.getValue().getCreatedAt().toIDString(),Ia.of(n.getStrKey(),n.getValue().deepcopy()));for(const[n,i]of this.nodeMapByKey)e.nodeMapByKey.set(n,e.nodeMapByCreatedAt.get(i.getValue().getCreatedAt().toIDString()));return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByCreatedAt)yield e}}class fn extends Na{constructor(n,i){super(n);D(this,"memberNodes");this.memberNodes=i}static create(n,i){if(!i)return new fn(n,Ca.create());const l=Ca.create();for(const[c,g]of Object.entries(i))l.set(c,g.deepcopy(),g.getCreatedAt());return new fn(n,l)}subPathOf(n){return this.memberNodes.subPathOf(n)}purge(n){this.memberNodes.purge(n)}set(n,i,l){return this.memberNodes.set(n,i,l)}delete(n,i){return this.memberNodes.delete(n,i)}deleteByKey(n,i){return this.memberNodes.deleteByKey(n,i)}get(n){const i=this.memberNodes.get(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.memberNodes.getByID(n);return i==null?void 0:i.getValue()}has(n){return this.memberNodes.has(n)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const[i,l]of this)n.push(`"${Ur(i)}":${l.toJSON()}`);return`{${n.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(const[i,l]of this){const{createdAt:c,value:g,type:y}=l.toJSForTest();n[i]={key:i,createdAt:c,value:g,type:y}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_OBJECT"}}getKeys(){const n=Array();for(const[i]of this)n.push(i);return n}toSortedJSON(){var l;const n=new Set;for(const[c]of this)n.add(c);const i=[];for(const c of Array.from(n).sort()){const g=(l=this.memberNodes.get(c))==null?void 0:l.getValue();i.push(`"${Ur(c)}":${g.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const n=fn.create(this.getCreatedAt());return n.memberNodes=this.memberNodes.deepcopy(),n.setRemovedAt(this.getRemovedAt()),n.setMovedAt(this.getMovedAt()),n}getDescendants(n){for(const i of this.memberNodes){const l=i.getValue();if(n(l,this))return;l instanceof Na&&l.getDescendants(n)}}*[Symbol.iterator](){for(const n of this.memberNodes)n.isRemoved()||(yield[n.getStrKey(),n.getValue()])}}var Tt=(a=>(a.Local="local",a.Remote="remote",a.UndoRedo="undoredo",a))(Tt||{});class xn{constructor(e,n){D(this,"parentCreatedAt");D(this,"executedAt");this.parentCreatedAt=e,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new L(V.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class uf{constructor(e){D(this,"value");D(this,"left");D(this,"right");D(this,"parent");D(this,"weight");this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class Js{constructor(e){D(this,"root");this.root=e}get length(){return this.root?this.root.getWeight():0}findForText(e){if(!this.root||e<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&e<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<e)e-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{e-=n.getLeftWeight();break}if(e>n.getLength())throw new L(V.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${n.getLength()}`);return this.splayNode(n),[n,e]}findForArray(e){if(!this.root)return;if(e<0||e>=this.length)throw new L(V.ErrInvalidArgument,`out of index range: idx: ${e}, length: ${this.length}`);let n=this.root;for(;;)if(n.hasLeft()&&e<n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<=e)e-=n.getLeftWeight()+n.getLength(),n=n.getRight();else break;return this.splayNode(n),n}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,n){return e?(this.splayNode(e),this.root=n,n.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(n),n.setLeft(e),e.setParent(n),e.setRight(),this.updateWeight(e),this.updateWeight(n),n):(this.root=n,n)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const n=new Js(e.getLeft());n.root&&n.root.setParent();const i=new Js(e.getRight());if(i.root&&i.root.setParent(),n.root){const l=n.getRightmost();n.splayNode(l),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,n){if(!n){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(n),n.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const n=[];this.traversePostorder(e.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const n of e)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,n){e&&(this.traverseInorder(e.getLeft(),n),n.push(e),this.traverseInorder(e.getRight(),n))}traversePostorder(e,n){e&&(this.traversePostorder(e.getLeft(),n),this.traversePostorder(e.getRight(),n),n.push(e))}rotateLeft(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setRight(e.getLeft()),n.hasRight()&&n.getRight().setParent(n),e.setLeft(n),e.getLeft().setParent(e),this.updateWeight(n),this.updateWeight(e)}rotateRight(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setLeft(e.getRight()),n.hasLeft()&&n.getLeft().setParent(n),e.setRight(n),e.getRight().setParent(e),this.updateWeight(n),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var er=null;try{er=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ke(a,e,n){this.low=a|0,this.high=e|0,this.unsigned=!!n}Ke.prototype.__isLong__,Object.defineProperty(Ke.prototype,"__isLong__",{value:!0});function hn(a){return(a&&a.__isLong__)===!0}function cf(a){var e=Math.clz32(a&-a);return a?31-e:e}Ke.isLong=hn;var pu={},ff={};function gi(a,e){var n,i,l;return e?(a>>>=0,(l=0<=a&&a<256)&&(i=ff[a],i)?i:(n=Qe(a,0,!0),l&&(ff[a]=n),n)):(a|=0,(l=-128<=a&&a<128)&&(i=pu[a],i)?i:(n=Qe(a,a<0?-1:0,!1),l&&(pu[a]=n),n))}Ke.fromInt=gi;function Kn(a,e){if(isNaN(a))return e?Pr:Lr;if(e){if(a<0)return Pr;if(a>=gf)return pf}else{if(a<=-9223372036854776e3)return dn;if(a+1>=Cd)return mf}return a<0?Kn(-a,e).neg():Qe(a%mi|0,a/mi|0,e)}Ke.fromNumber=Kn;function Qe(a,e,n){return new Ke(a,e,n)}Ke.fromBits=Qe;var cl=Math.pow;function hf(a,e,n){if(a.length===0)throw Error("empty string");if(typeof e=="number"?(n=e,e=!1):e=!!e,a==="NaN"||a==="Infinity"||a==="+Infinity"||a==="-Infinity")return e?Pr:Lr;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=a.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return hf(a.substring(1),e,n).neg();for(var l=Kn(cl(n,8)),c=Lr,g=0;g<a.length;g+=8){var y=Math.min(8,a.length-g),S=parseInt(a.substring(g,g+y),n);if(y<8){var R=Kn(cl(n,y));c=c.mul(R).add(Kn(S))}else c=c.mul(l),c=c.add(Kn(S))}return c.unsigned=e,c}Ke.fromString=hf;function Xn(a,e){return typeof a=="number"?Kn(a,e):typeof a=="string"?hf(a,e):Qe(a.low,a.high,typeof e=="boolean"?e:a.unsigned)}Ke.fromValue=Xn;var df=65536,Id=1<<24,mi=df*df,gf=mi*mi,Cd=gf/2,xd=gi(Id),Lr=gi(0);Ke.ZERO=Lr;var Pr=gi(0,!0);Ke.UZERO=Pr;var Fr=gi(1);Ke.ONE=Fr;var yu=gi(1,!0);Ke.UONE=yu;var js=gi(-1);Ke.NEG_ONE=js;var mf=Qe(-1,2147483647,!1);Ke.MAX_VALUE=mf;var pf=Qe(-1,-1,!0);Ke.MAX_UNSIGNED_VALUE=pf;var dn=Qe(0,-2147483648,!1);Ke.MIN_VALUE=dn;var ue=Ke.prototype;ue.toInt=function(){return this.unsigned?this.low>>>0:this.low},ue.toNumber=function(){return this.unsigned?(this.high>>>0)*mi+(this.low>>>0):this.high*mi+(this.low>>>0)},ue.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(dn)){var n=Kn(e),i=this.div(n),l=i.mul(n).sub(this);return i.toString(e)+l.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=Kn(cl(e,6),this.unsigned),g=this,y="";;){var S=g.div(c),R=g.sub(S.mul(c)).toInt()>>>0,C=R.toString(e);if(g=S,g.isZero())return C+y;for(;C.length<6;)C="0"+C;y=""+C+y}},ue.getHighBits=function(){return this.high},ue.getHighBitsUnsigned=function(){return this.high>>>0},ue.getLowBits=function(){return this.low},ue.getLowBitsUnsigned=function(){return this.low>>>0},ue.getNumBitsAbs=function(){if(this.isNegative())return this.eq(dn)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&(e&1<<n)==0;n--);return this.high!=0?n+33:n+1},ue.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0},ue.isZero=function(){return this.high===0&&this.low===0},ue.eqz=ue.isZero,ue.isNegative=function(){return!this.unsigned&&this.high<0},ue.isPositive=function(){return this.unsigned||this.high>=0},ue.isOdd=function(){return(this.low&1)===1},ue.isEven=function(){return(this.low&1)===0},ue.equals=function(e){return hn(e)||(e=Xn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},ue.eq=ue.equals,ue.notEquals=function(e){return!this.eq(e)},ue.neq=ue.notEquals,ue.ne=ue.notEquals,ue.lessThan=function(e){return this.comp(e)<0},ue.lt=ue.lessThan,ue.lessThanOrEqual=function(e){return this.comp(e)<=0},ue.lte=ue.lessThanOrEqual,ue.le=ue.lessThanOrEqual,ue.greaterThan=function(e){return this.comp(e)>0},ue.gt=ue.greaterThan,ue.greaterThanOrEqual=function(e){return this.comp(e)>=0},ue.gte=ue.greaterThanOrEqual,ue.ge=ue.greaterThanOrEqual,ue.compare=function(e){if(hn(e)||(e=Xn(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},ue.comp=ue.compare,ue.negate=function(){return!this.unsigned&&this.eq(dn)?dn:this.not().add(Fr)},ue.neg=ue.negate,ue.add=function(e){hn(e)||(e=Xn(e));var n=this.high>>>16,i=this.high&65535,l=this.low>>>16,c=this.low&65535,g=e.high>>>16,y=e.high&65535,S=e.low>>>16,R=e.low&65535,C=0,Z=0,J=0,G=0;return G+=c+R,J+=G>>>16,G&=65535,J+=l+S,Z+=J>>>16,J&=65535,Z+=i+y,C+=Z>>>16,Z&=65535,C+=n+g,C&=65535,Qe(J<<16|G,C<<16|Z,this.unsigned)},ue.subtract=function(e){return hn(e)||(e=Xn(e)),this.add(e.neg())},ue.sub=ue.subtract,ue.multiply=function(e){if(this.isZero())return this;if(hn(e)||(e=Xn(e)),er){var n=er.mul(this.low,this.high,e.low,e.high);return Qe(n,er.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Pr:Lr;if(this.eq(dn))return e.isOdd()?dn:Lr;if(e.eq(dn))return this.isOdd()?dn:Lr;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(xd)&&e.lt(xd))return Kn(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,l=this.high&65535,c=this.low>>>16,g=this.low&65535,y=e.high>>>16,S=e.high&65535,R=e.low>>>16,C=e.low&65535,Z=0,J=0,G=0,ne=0;return ne+=g*C,G+=ne>>>16,ne&=65535,G+=c*C,J+=G>>>16,G&=65535,G+=g*R,J+=G>>>16,G&=65535,J+=l*C,Z+=J>>>16,J&=65535,J+=c*R,Z+=J>>>16,J&=65535,J+=g*S,Z+=J>>>16,J&=65535,Z+=i*C+l*R+c*S+g*y,Z&=65535,Qe(G<<16|ne,Z<<16|J,this.unsigned)},ue.mul=ue.multiply,ue.divide=function(e){if(hn(e)||(e=Xn(e)),e.isZero())throw Error("division by zero");if(er){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?er.div_u:er.div_s)(this.low,this.high,e.low,e.high);return Qe(n,er.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Pr:Lr;var i,l,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Pr;if(e.gt(this.shru(1)))return yu;c=Pr}else{if(this.eq(dn)){if(e.eq(Fr)||e.eq(js))return dn;if(e.eq(dn))return Fr;var g=this.shr(1);return i=g.div(e).shl(1),i.eq(Lr)?e.isNegative()?Fr:js:(l=this.sub(e.mul(i)),c=i.add(l.div(e)),c)}else if(e.eq(dn))return this.unsigned?Pr:Lr;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=Lr}for(l=this;l.gte(e);){i=Math.max(1,Math.floor(l.toNumber()/e.toNumber()));for(var y=Math.ceil(Math.log(i)/Math.LN2),S=y<=48?1:cl(2,y-48),R=Kn(i),C=R.mul(e);C.isNegative()||C.gt(l);)i-=S,R=Kn(i,this.unsigned),C=R.mul(e);R.isZero()&&(R=Fr),c=c.add(R),l=l.sub(C)}return c},ue.div=ue.divide,ue.modulo=function(e){if(hn(e)||(e=Xn(e)),er){var n=(this.unsigned?er.rem_u:er.rem_s)(this.low,this.high,e.low,e.high);return Qe(n,er.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},ue.mod=ue.modulo,ue.rem=ue.modulo,ue.not=function(){return Qe(~this.low,~this.high,this.unsigned)},ue.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},ue.clz=ue.countLeadingZeros,ue.countTrailingZeros=function(){return this.low?cf(this.low):cf(this.high)+32},ue.ctz=ue.countTrailingZeros,ue.and=function(e){return hn(e)||(e=Xn(e)),Qe(this.low&e.low,this.high&e.high,this.unsigned)},ue.or=function(e){return hn(e)||(e=Xn(e)),Qe(this.low|e.low,this.high|e.high,this.unsigned)},ue.xor=function(e){return hn(e)||(e=Xn(e)),Qe(this.low^e.low,this.high^e.high,this.unsigned)},ue.shiftLeft=function(e){return hn(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Qe(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Qe(0,this.low<<e-32,this.unsigned)},ue.shl=ue.shiftLeft,ue.shiftRight=function(e){return hn(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Qe(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Qe(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},ue.shr=ue.shiftRight,ue.shiftRightUnsigned=function(e){return hn(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Qe(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Qe(this.high,0,this.unsigned):Qe(this.high>>>e-32,0,this.unsigned)},ue.shru=ue.shiftRightUnsigned,ue.shr_u=ue.shiftRightUnsigned,ue.rotateLeft=function(e){var n;return hn(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Qe(this.high,this.low,this.unsigned):e<32?(n=32-e,Qe(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned)):(e-=32,n=32-e,Qe(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned))},ue.rotl=ue.rotateLeft,ue.rotateRight=function(e){var n;return hn(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Qe(this.high,this.low,this.unsigned):e<32?(n=32-e,Qe(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned)):(e-=32,n=32-e,Qe(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned))},ue.rotr=ue.rotateRight,ue.toSigned=function(){return this.unsigned?Qe(this.low,this.high,!1):this},ue.toUnsigned=function(){return this.unsigned?this:Qe(this.low,this.high,!0)},ue.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},ue.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},ue.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},Ke.fromBytes=function(e,n,i){return i?Ke.fromBytesLE(e,n):Ke.fromBytesBE(e,n)},Ke.fromBytesLE=function(e,n){return new Ke(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},Ke.fromBytesBE=function(e,n){return new Ke(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)},typeof BigInt=="function"&&(Ke.fromBigInt=function(e,n){var i=Number(BigInt.asIntN(32,e)),l=Number(BigInt.asIntN(32,e>>BigInt(32)));return Qe(i,l,n)},Ke.fromValue=function(e,n){return typeof e=="bigint"?Ke.fromBigInt(e,n):Xn(e,n)},ue.toBigInt=function(){var e=BigInt(this.low>>>0),n=BigInt(this.unsigned?this.high>>>0:this.high);return n<<BigInt(32)|e});var bt=(a=>(a[a.Null=0]="Null",a[a.Boolean=1]="Boolean",a[a.Integer=2]="Integer",a[a.Long=3]="Long",a[a.Double=4]="Double",a[a.String=5]="String",a[a.Bytes=6]="Bytes",a[a.Date=7]="Date",a))(bt||{});class xt extends ul{constructor(n,i){super(i);D(this,"valueType");D(this,"value");this.valueType=xt.getPrimitiveType(n),this.value=n===void 0?null:n}static of(n,i){return new xt(n,i)}static valueFromBytes(n,i){switch(n){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const l=new DataView(i.buffer);return i.forEach(function(c,g){l.setUint8(g,c)}),l.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return Ke.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(Ke.fromBytesLE(Array.from(i),!0).toNumber());default:throw new L(V.ErrUnimplemented,`unimplemented type: ${n}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new L(V.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Ur(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const n=xt.of(this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n.setRemovedAt(this.getRemovedAt()),n}getType(){return this.valueType}static getPrimitiveType(n){switch(typeof n){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(n)?2:4;case"string":return 5;case"object":if(n===null)return 0;if(n instanceof Ke)return 3;if(n instanceof Uint8Array)return 6;if(n instanceof Date)return 7}}static isSupport(n){return xt.getPrimitiveType(n)!==void 0}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===2||n===3||n===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 4:{const n=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,n,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const n=this.value,i=Ke.fromNumber(n.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new L(V.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class xa extends uf{constructor(n){super(n);D(this,"prev");D(this,"next");D(this,"movedFrom");this.value=n}static createAfter(n,i){const l=new xa(i),c=n.next;return n.next=l,l.prev=n,l.next=c,c&&(c.prev=l),l}remove(n){return this.value.remove(n)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(n){this.movedFrom=n}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Da{constructor(){D(this,"dummyHead");D(this,"last");D(this,"nodeMapByIndex");D(this,"nodeMapByCreatedAt");const e=xt.of(0,os);e.setRemovedAt(os),this.dummyHead=new xa(e),this.last=this.dummyHead,this.nodeMapByIndex=new Js,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Da}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,n){let i=this.nodeMapByCreatedAt.get(e.toIDString());if(!i)throw new L(V.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;i.getValue().getMovedAt()&&i.getValue().getMovedAt().after(n)&&i.getMovedFrom();)i=i.getMovedFrom();for(;i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,n,i=n.getCreatedAt()){const l=this.findNextBeforeExecutedAt(e,i),c=xa.createAfter(l,n);return l===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(l,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(e,n,i){let l=this.nodeMapByCreatedAt.get(e.toIDString());if(!l)throw new L(V.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);let c=this.nodeMapByCreatedAt.get(n.toIDString());if(!c)throw new L(V.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);if(l!==c&&i.after(c.getPositionedAt())){const g=c.getPrev();let y=c.getNext();for(this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(g);y&&y.getPositionedAt().after(i);)l=c,c=y,y=c.getNext(),this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(g)}}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(n)return String(this.nodeMapByIndex.indexOf(n))}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!n)throw new L(V.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(n)}getByIndex(e){return e>=this.length?void 0:this.nodeMapByIndex.findForArray(e)}getPrevCreatedAt(e){let n=this.nodeMapByCreatedAt.get(e.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(e,n){const i=this.nodeMapByCreatedAt.get(e.toIDString()),l=i.isRemoved();return i.remove(n)&&!l&&this.nodeMapByIndex.splayNode(i),i.getValue()}set(e,n,i){const l=this.nodeMapByCreatedAt.get(e.toIDString());if(!l)throw new L(V.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);return this.insertAfter(l.getCreatedAt(),n,i),this.delete(e,i)}deleteByIndex(e,n){const i=this.getByIndex(e);if(i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?e.push(`{${i}}`):e.push(`[${i}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class Qt extends Na{constructor(n,i){super(n);D(this,"elements");this.elements=i}static create(n,i){if(!i)return new Qt(n,Da.create());const l=Da.create();for(const c of i)l.insertAfter(l.getLastCreatedAt(),c.deepcopy());return new Qt(n,l)}subPathOf(n){return this.elements.subPathOf(n)}purge(n){this.elements.purge(n)}insertAfter(n,i,l){this.elements.insertAfter(n,i,l)}moveAfter(n,i,l){this.elements.moveAfter(n,i,l)}get(n){const i=this.elements.getByIndex(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.elements.getByID(n);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(n){return this.elements.getPrevCreatedAt(n)}delete(n,i){return this.elements.delete(n,i)}deleteByIndex(n,i){return this.elements.deleteByIndex(n,i)}set(n,i,l){return this.elements.set(n,i,l)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const n of this.elements)n.isRemoved()||(yield n.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(n){for(const i of this.elements){const l=i.getValue();if(n(l,this))return;l instanceof Na&&l.getDescendants(n)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const i of this)n.push(i.toJSON());return`[${n.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(let i=0;i<this.length;i++){const{createdAt:l,value:c,type:g}=this.get(i).toJSForTest();n[i]={key:String(i),createdAt:l,value:c,type:g}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const n=Qt.create(this.getCreatedAt());for(const i of this.elements)n.elements.insertAfter(n.getLastCreatedAt(),i.getValue().deepcopy());return n.setRemovedAt(this.getRemovedAt()),n.setMovedAt(this.getMovedAt()),n}}class pr extends xn{constructor(n,i,l,c){super(n,c);D(this,"prevCreatedAt");D(this,"value");this.prevCreatedAt=i,this.value=l}static create(n,i,l,c){return new pr(n,i,l,c)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Qt))throw new L(V.ErrInvalidArgument,"fail to execute, only array can execute add");const l=i,c=this.value.deepcopy();return l.insertAfter(this.prevCreatedAt,c,this.getExecutedAt()),n.registerElement(c,l),{opInfos:[{type:"add",path:n.createPath(this.getParentCreatedAt()),index:Number(l.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return tr.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(n){this.prevCreatedAt=n}}class tr extends xn{constructor(n,i,l){super(n,l);D(this,"createdAt");this.createdAt=i}static create(n,i,l){return new tr(n,i,l)}execute(n,i){var R;const l=n.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof Na))throw new L(V.ErrInvalidArgument,`only object and array can execute remove: ${l}`);if(i===Tt.UndoRedo){let C=l.getByID(this.createdAt);for(;C;){if(C.getRemovedAt())return;C=(R=n.findElementPairByCreatedAt(C.getCreatedAt()))==null?void 0:R.parent}}const c=l.subPathOf(this.createdAt),g=this.toReverseOperation(l),y=l.delete(this.createdAt,this.getExecutedAt());return n.registerRemovedElement(y),{opInfos:l instanceof Qt?[{type:"remove",path:n.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:n.createPath(this.getParentCreatedAt()),key:c}],reverseOp:g}}toReverseOperation(n){if(n instanceof Qt){const i=n.getByID(this.createdAt);if(i!==void 0){const l=n.getPrevCreatedAt(this.createdAt);return pr.create(this.getParentCreatedAt(),l,i.deepcopy())}}if(n instanceof fn){const i=n.subPathOf(this.createdAt);if(i!==void 0){const l=n.get(i);if(l!==void 0)return pi.create(i,l.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(n){this.createdAt=n}}class pi extends xn{constructor(n,i,l,c){super(l,c);D(this,"key");D(this,"value");this.key=n,this.value=i}static create(n,i,l,c){return new pi(n,i,l,c)}execute(n,i){var R;const l=n.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof fn))throw new L(V.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===Tt.UndoRedo){let C=l;for(;C;){if(C.getRemovedAt())return;C=(R=n.findElementPairByCreatedAt(C.getCreatedAt()))==null?void 0:R.parent}}const c=l.get(this.key),g=this.toReverseOperation(c),y=this.value.deepcopy(),S=l.set(this.key,y,this.getExecutedAt());return i===Tt.UndoRedo&&n.findByCreatedAt(y.getCreatedAt())&&n.deregisterElement(y),n.registerElement(y,l),S&&n.registerRemovedElement(S),{opInfos:[{type:"set",path:n.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:g}}toReverseOperation(n){let i=tr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return n!==void 0&&!n.isRemoved()&&(i=pi.create(this.key,n.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class yr extends xn{constructor(n,i,l,c){super(n,c);D(this,"prevCreatedAt");D(this,"createdAt");this.prevCreatedAt=i,this.createdAt=l}static create(n,i,l,c){return new yr(n,i,l,c)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Qt))throw new L(V.ErrInvalidArgument,"fail to execute, only array can execute move");const l=i,c=this.toReverseOperation(l),g=Number(l.subPathOf(this.createdAt));l.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const y=Number(l.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:n.createPath(this.getParentCreatedAt()),index:y,previousIndex:g}],reverseOp:c}}toReverseOperation(n){const i=n.getPrevCreatedAt(this.createdAt);return yr.create(this.getParentCreatedAt(),i,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(n){this.prevCreatedAt=n}setCreatedAt(n){this.createdAt=n}}const Hs=(a,e)=>a===e?0:a<e?-1:1;class Dd{constructor(e,n,i){D(this,"key");D(this,"value");D(this,"left");D(this,"right");D(this,"isRed");this.key=e,this.value=n,this.isRed=i}}class vr{constructor(e){D(this,"stack");this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class Mr{constructor(e){D(this,"root");D(this,"comparator");D(this,"counter");this.comparator=typeof e<"u"?e:Hs,this.counter=0}put(e,n){return this.root=this.putInternal(e,n,this.root),this.root.isRed=!1,n}get(e){const n=this.getInternal(e,this.root);return n?n.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new vr(this.root)}values(){const e=[];for(const n of this.getIterator().stack)e.push(n.value);return e}floorEntry(e){let n=this.root,i;for(;n;){const l=this.comparator(e,n.key);if(l===0)return n;l<0?n=n.left:(i=n,n=n.right)}return i}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,n){for(;n;){const i=this.comparator(e,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(e,n,i){if(!i)return this.counter+=1,new Dd(e,n,!0);const l=this.comparator(e,i.key);return l<0?i.left=this.putInternal(e,n,i.left):l>0?i.right=this.putInternal(e,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(e,n){if(this.comparator(n,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,n);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(n,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(n,e.key)===0){this.counter-=1;const i=this.min(e.right);e.value=i.value,e.key=i.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,n)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const n=e.right;return e.right=n.left,n.left=e,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(e){const n=e.left;return e.left=n.right,n.right=e,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}function yi(a){return a?yf(a.live)+yf(a.gc):0}function yf(a){return a.data+a.meta}function Ct(a,...e){for(const n of e)a.data+=n.data,a.meta+=n.meta}function Dn(a,e){a.data-=e.data,a.meta-=e.meta}class St{constructor(e,n){D(this,"createdAt");D(this,"offset");this.createdAt=e,this.offset=n}static of(e,n){return new St(e,n)}static fromStruct(e){return St.of(Wn.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new St(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const vu=St.of(os,0);class qt{constructor(e,n){D(this,"id");D(this,"relativeOffset");this.id=e,this.relativeOffset=n}static of(e,n){return new qt(e,n)}static fromStruct(e){const n=St.fromStruct(e.id);return qt.of(n,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return St.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Jr extends uf{constructor(n,i,l){super(i);D(this,"id");D(this,"removedAt");D(this,"prev");D(this,"next");D(this,"insPrev");D(this,"insNext");this.id=n,this.removedAt=l}static create(n,i){return new Jr(n,i)}static createComparator(){return(n,i)=>{const l=n.getCreatedAt().compare(i.getCreatedAt());return l!==0?l:n.getOffset()>i.getOffset()?1:n.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(n){this.prev=n,n&&(n.next=this)}setNext(n){this.next=n,n&&(n.prev=this)}setInsPrev(n){this.insPrev=n,n&&(n.insNext=this)}setInsNext(n){this.insNext=n,n&&(n.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(n){return new Jr(this.id.split(n),this.splitValue(n),this.removedAt)}canRemove(n,i,l){return i?!!(!this.removedAt||!l&&(n!=null&&n.after(this.removedAt))):!1}canStyle(n,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}setRemovedAt(n){this.removedAt=n}remove(n){if(!this.removedAt){this.removedAt=n;return}n.after(this.removedAt)&&(this.removedAt=n)}createPosRange(){return[qt.of(this.id,0),qt.of(this.id,this.getLength())]}getDataSize(){const n=this.value.getDataSize();return this.id&&(n.meta+=Br),this.removedAt&&(n.meta+=Br),n}deepcopy(){return new Jr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(n){const i=this.value;return this.value=i.substring(0,n),i.substring(n,i.length)}toIDString(){return this.id.toIDString()}}class ls{constructor(){D(this,"head");D(this,"treeByIndex");D(this,"treeByID");this.head=Jr.create(vu),this.treeByIndex=new Js,this.treeByID=new Mr(Jr.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new ls}edit(e,n,i,l){const c={data:0,meta:0},[g,y,S]=this.findNodeWithSplit(e[1],n),[R,C,Z]=this.findNodeWithSplit(e[0],n);Ct(c,y,C);const J=this.findBetween(Z,S),[G,ne]=this.deleteNodes(J,n,l),ae=S?S.getID():g.getID();let pe=qt.of(ae,0);if(i){const ht=this.posToIndex(R.createPosRange()[1],!0),pt=this.insertAfter(R,Jr.create(St.of(n,0),i));Ct(c,pt.getDataSize()),G.length&&G[G.length-1].from===ht?G[G.length-1].value=i:G.push({actor:n.getActorID(),from:ht,to:ht,value:i}),pe=qt.of(pt.getID(),pt.getContentLength())}const Ce=[],at=[];for(const[,ht]of ne)Ce.push({parent:this,child:ht}),at.push(ht.getValue());return[pe,Ce,c,G,at]}indexToPos(e){const[n,i]=this.treeByIndex.findForText(e),l=n;return qt.of(l.getID(),i)}findIndexesFromRange(e){const[n,i]=e;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(e,n){const i=e.getAbsoluteID(),l=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!l)throw new L(V.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const c=this.treeByIndex.indexOf(l),g=l.isRemoved()?0:i.getOffset()-l.getID().getOffset();return c+g}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const n of this)n.isRemoved()||e.push(n.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new ls;let n=this.head.getNext(),i=e.head,l;for(;n;){if(l=e.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const c=e.findNode(n.getInsPrevID());l.setInsPrev(c)}i=l,n=n.getNext()}return e}normalizePos(e){const n=this.findFloorNode(e.getID());if(!n)throw new L(V.ErrInvalidArgument,`the node of the given id should be found: ${e.getID().toTestString()}`);let i=e.getRelativeOffset(),l=n,c=n.getPrev();for(;c;)i+=c.getLength(),l=c,c=c.getPrev();return qt.of(l.getID(),i)}refinePos(e){let n=this.findFloorNode(e.getID());if(!n)throw new L(V.ErrInvalidArgument,`the node of the given id should be found: ${e.getID().toTestString()}`);let i=e.getRelativeOffset(),l=n.getContentLength();for(;i>l;){i-=l;const c=n.getNext();if(!c)return qt.of(n.getID(),l);n=c,l=n.getLength()}return qt.of(n.getID(),i)}toTestString(){const e=[];let n=this.head;for(;n;)n.isRemoved()?e.push(`{${n.toTestString()}}`):e.push(`[${n.toTestString()}]`),n=n.getNext();return e.join("")}insertAfter(e,n){const i=e.getNext();return n.setPrev(e),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(e,n),n}findNodeWithSplit(e,n){const i=e.getAbsoluteID();let l=this.findFloorNodePreferToLeft(i);const c=i.getOffset()-l.getID().getOffset(),[,g]=this.splitNode(l,c);for(;l.hasNext()&&l.getNext().getCreatedAt().after(n);)l=l.getNext();return[l,g,l.getNext()]}findFloorNodePreferToLeft(e){let n=this.findFloorNode(e);if(!n)throw new L(V.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&n.getID().getOffset()==e.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(e){const n=this.treeByID.floorEntry(e);if(n&&!(!n.key.equals(e)&&!n.key.hasSameCreatedAt(e)))return n.value}findBetween(e,n){const i=[];let l=e;for(;l&&l!==n;)i.push(l),l=l.getNext();return i}splitNode(e,n){const i={data:0,meta:0};if(n>e.getContentLength())throw new L(V.ErrInvalidArgument,"offset should be less than or equal to length");if(n===0)return[e,i];if(n===e.getContentLength())return[e.getNext(),i];const l=e.getDataSize(),c=e.split(n);this.treeByIndex.updateWeight(c),this.insertAfter(e,c);const g=e.getInsNext();return g&&g.setInsPrev(c),c.setInsPrev(e),Ct(i,e.getDataSize(),c.getDataSize()),Dn(i,l),[c,i]}deleteNodes(e,n,i){if(!e.length)return[[],new Map];const l=i===void 0||i.size()===0,c=[],g=[],[y,S]=this.findEdgesOfCandidates(e);g.push(y);for(const Z of e){let J=!1;if(l)J=!0;else{const ne=i==null?void 0:i.get(Z.getCreatedAt().getActorID());ne&&ne>=Z.getCreatedAt().getLamport()&&(J=!0)}let G=!1;if(Z.getRemovedAt()){const ne=i==null?void 0:i.get(Z.getRemovedAt().getActorID());(l||ne&&ne>=Z.getRemovedAt().getLamport())&&(G=!0)}Z.canRemove(n,J,G)?c.push(Z):g.push(Z)}g.push(S);const R=this.makeChanges(g,n),C=new Map;for(const Z of c)C.set(Z.getID().toIDString(),Z),Z.remove(n);return this.deleteIndexNodes(g),[R,C]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,n){const i=[];let l,c;for(let g=0;g<e.length-1;g++){const y=e[g],S=e[g+1];y.getNext()!=S&&([l]=this.findIndexesFromRange(y.getNext().createPosRange()),S?[,c]=this.findIndexesFromRange(S.getPrev().createPosRange()):c=this.treeByIndex.length,l<c&&i.push({actor:n.getActorID(),from:l,to:c}))}return i.reverse()}deleteIndexNodes(e){for(let n=0;n<e.length-1;n++){const i=e[n],l=e[n+1];i.getNext()!=l&&this.treeByIndex.deleteRange(i,l)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const n=e.getPrev(),i=e.getNext(),l=e.getInsPrev(),c=e.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),e.setPrev(void 0),e.setNext(void 0),l&&l.setInsNext(c),c&&c.setInsPrev(l),e.setInsPrev(void 0),e.setInsNext(void 0)}}class Oa{constructor(e,n,i,l){D(this,"key");D(this,"value");D(this,"updatedAt");D(this,"_isRemoved");this.key=e,this.value=n,this.updatedAt=i,this._isRemoved=l}static of(e,n,i,l){return new Oa(e,n,i,l)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Br}}}class On{constructor(){D(this,"nodeMapByKey");D(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new On}getNodeMapByKey(){return this.nodeMapByKey}set(e,n,i){const l=this.nodeMapByKey.get(e);if(l&&l.isRemoved()&&i.after(l.getUpdatedAt())&&(this.numberOfRemovedElement-=1),l===void 0||i.after(l.getUpdatedAt())){const c=Oa.of(e,n,i,!1);return this.nodeMapByKey.set(e,c),l!==void 0&&l.isRemoved()?[l,c]:[void 0,c]}return l.isRemoved()?[l,void 0]:[void 0,void 0]}setInternal(e,n,i,l){const c=Oa.of(e,n,i,l);this.nodeMapByKey.set(e,c),l&&this.numberOfRemovedElement++}remove(e,n){const i=this.nodeMapByKey.get(e),l=[];if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const y=Oa.of(e,"",n,!0);return this.nodeMapByKey.set(e,y),l.push(y),l}const c=i.isRemoved();c||(this.numberOfRemovedElement+=1),c&&l.push(i);const g=Oa.of(e,i.getValue(),n,!0);return this.nodeMapByKey.set(e,g),l.push(g),l}return l}has(e){if(this.nodeMapByKey.has(e)){const n=this.nodeMapByKey.get(e);return n!==void 0&&!n.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new On;for(const[,n]of this.nodeMapByKey)e.setInternal(n.getKey(),n.getValue(),n.getUpdatedAt(),n.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||e.push(`"${Ur(n)}":"${Ur(i.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(e[n]=i.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const n=this.nodeMapByKey.get(e.getKey());n==null||n.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}function Pn(a){if(a instanceof Map){const e=Array.from(a);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(a))}const vf=a=>a?Object.entries(a).length===0:!0,us=a=>{const e={};for(const[n,i]of Object.entries(a))e[n]=JSON.stringify(i);return e},jr=a=>{const e={};for(const[n,i]of Object.entries(a))e[n]=JSON.parse(i);return e};class vi{constructor(e){D(this,"attributes");D(this,"content");this.attributes=On.create(),this.content=e}static create(e){return new vi(e)}get length(){return this.content.length}substring(e,n){const i=new vi(this.content.substring(e,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(e,n,i){return this.attributes.set(e,n,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const e={data:0,meta:0};e.data+=this.content.length*2;for(const n of this.attributes){const i=n.getDataSize();e.meta+=i.meta,e.data+=i.data}return e}toJSON(){const e=Ur(this.content),n=this.attributes.toObject(),i=[];for(const[l,c]of Object.entries(n)){const g=JSON.parse(c),y=typeof g=="string"?`"${Ur(l)}":"${Ur(g)}"`:`"${Ur(l)}":${String(g)}`;i.push(y)}return i.sort(),i.length===0?`{"val":"${e}"}`:`{"attrs":{${i.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof Oa&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const n of this.attributes)n.getRemovedAt()&&e.push({parent:this,child:n});return e}}class Vn extends ul{constructor(n,i){super(i);D(this,"rgaTreeSplit");this.rgaTreeSplit=n}static create(n,i){return new Vn(n,i)}edit(n,i,l,c,g){const y=i?vi.create(i):void 0;if(y&&c)for(const[ne,ae]of Object.entries(c))y.setAttr(ne,ae,l);const[S,R,C,Z,J]=this.rgaTreeSplit.edit(n,l,y,g);return[Z.map(ne=>({...ne,value:ne.value?{attributes:jr(ne.value.getAttributes()),content:ne.value.getContent()}:{attributes:void 0,content:""},type:"content"})),R,C,[S,S],J]}setStyle(n,i,l,c){const g={data:0,meta:0},[,y,S]=this.rgaTreeSplit.findNodeWithSplit(n[1],l),[,R,C]=this.rgaTreeSplit.findNodeWithSplit(n[0],l);Ct(g,y,R);const Z=[],J=this.rgaTreeSplit.findBetween(C,S),G=[];for(const ae of J){const pe=ae.getCreatedAt().getActorID();let Ce=mu;c!=null&&(Ce=c.get(pe)?c.get(pe):0n),ae.canStyle(l,Ce)&&G.push(ae)}const ne=[];for(const ae of G){if(ae.isRemoved())continue;const[pe,Ce]=this.rgaTreeSplit.findIndexesFromRange(ae.createPosRange());Z.push({type:"style",actor:l.getActorID(),from:pe,to:Ce,value:{attributes:jr(i)}});for(const[at,ht]of Object.entries(i)){const[pt]=ae.getValue().setAttr(at,ht,l);pt!==void 0&&ne.push({parent:ae.getValue(),child:pt});const vn=ae.getValue().getAttrs().getNodeMapByKey().get(at);vn!==void 0&&Ct(g,vn.getDataSize())}}return[ne,g,Z]}indexRangeToPosRange(n,i){const l=this.rgaTreeSplit.indexToPos(n);return n===i?[l,l]:[l,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(n){return this.rgaTreeSplit.refinePos(n)}normalizePos(n){return this.rgaTreeSplit.normalizePos(n)}getDataSize(){const n={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const l=i.getDataSize();n.data+=l.data,n.meta+=l.meta}return{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){const n=[];for(const i of this.rgaTreeSplit)i.isRemoved()||n.push(i.getValue().toJSON());return`[${n.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const n=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const l=i.getValue();n.push({attributes:jr(l.getAttributes()),content:l.getContent()})}return n}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const n=new Vn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return n.setRemovedAt(this.getRemovedAt()),n.setMovedAt(this.getMovedAt()),n}findIndexesFromRange(n){return this.rgaTreeSplit.findIndexesFromRange(n)}posToIndex(n,i=!1){return this.rgaTreeSplit.posToIndex(n,i)}getGCPairs(){const n=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&n.push({parent:this.rgaTreeSplit,child:i});for(const l of i.getValue().getGCPairs())n.push(l)}return n}}class Hr extends xn{constructor(n,i,l,c,g,y,S){super(n,y);D(this,"fromPos");D(this,"toPos");D(this,"content");D(this,"attributes");D(this,"isUndoOp");this.fromPos=i,this.toPos=l,this.content=c,this.attributes=g,this.isUndoOp=S}static create(n,i,l,c,g,y,S){return new Hr(n,i,l,c,g,y,S)}execute(n,i,l){const c=n.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Vn))throw new L(V.ErrInvalidArgument,"fail to execute, only Text can execute edit");const g=c;this.isUndoOp&&(this.fromPos=g.refinePos(this.fromPos),this.toPos=g.refinePos(this.toPos));const[y,S,R,,C]=g.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),l),Z=this.toReverseOperation(C,g.normalizePos(this.fromPos));n.acc(R);for(const J of S)n.registerGCPair(J);return{opInfos:y.map(({from:J,to:G,value:ne})=>({type:"edit",from:J,to:G,value:ne,path:n.createPath(this.getParentCreatedAt())})),reverseOp:Z}}toReverseOperation(n,i){var g;const l=n!=null&&n.length?n.map(y=>y.getContent()).join(""):"";let c;if(n.length===1){const y=n[0].getAttributes();y&&(c=Array.from(Object.entries(y)))}return Hr.create(this.getParentCreatedAt(),i,qt.of(i.getID(),i.getRelativeOffset()+(((g=this.content)==null?void 0:g.length)??0)),l,c?new Map(c):new Map,void 0,!0)}normalizePos(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Vn))throw new L(V.ErrInvalidArgument,"only Text can normalize edit");const l=i,c=l.normalizePos(this.fromPos).getRelativeOffset(),g=l.normalizePos(this.toPos).getRelativeOffset();return[c,g]}reconcileOperation(n,i,l){if(!this.isUndoOp||n>i)return;const c=i-n,g=this.fromPos.getRelativeOffset(),y=this.toPos.getRelativeOffset(),S=(R,C)=>{this.fromPos=qt.of(this.fromPos.getID(),Math.max(0,R)),this.toPos=qt.of(this.toPos.getID(),Math.max(0,C))};if(i<=g){S(g-c+l,y-c+l);return}if(!(y<=n)){if(n<=g&&y<=i&&n!==i){S(n,n);return}if(g<=n&&i<=y&&g!==y){S(g,y-c+l);return}if(n<g&&g<i&&i<y){S(n,n+(y-i));return}if(g<n&&n<y&&y<i){S(g,n);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.content;return`${n}.EDIT(${i},${l},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class $s extends xn{constructor(n,i,l,c,g){super(n,g);D(this,"fromPos");D(this,"toPos");D(this,"attributes");this.fromPos=i,this.toPos=l,this.attributes=c}static create(n,i,l,c,g){return new $s(n,i,l,c,g)}execute(n,i,l){const c=n.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Vn))throw new L(V.ErrInvalidArgument,"fail to execute, only Text can execute edit");const g=c,[y,S,R]=g.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),l);n.acc(S);for(const C of y)n.registerGCPair(C);return{opInfos:R.map(({from:C,to:Z,value:J})=>({type:"style",from:C,to:Z,value:J,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.attributes;return`${n}.STYL(${i},${l},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const Od=2,rm="root",_r="text";function Zt(a,e,n=!1){let i=0;const l=n?a.allChildren:a.children;for(let c=0;c<e;c++){const g=l[c];!g||!n&&g.isRemoved||(i+=g.paddedSize(n))}return i}class gn{constructor(e,n=[]){D(this,"type");D(this,"parent");D(this,"_children");D(this,"visibleSize");D(this,"totalSize");if(this.type=e,this.visibleSize=0,this.totalSize=0,this._children=n,this.isText&&this._children.length>0)throw new L(V.ErrRefused,"Text node cannot have children")}updateAncestorsSize(e,n=!1){let i=this.parent;for(;i;){if(n)i.totalSize+=e;else if(i.visibleSize+=e,i.isRemoved)break;i=i.parent}}updateDescendantsSize(e=!1){let n=0;for(const i of this._children){const l=i.updateDescendantsSize(e);!e&&i.isRemoved||(n+=l)}return e?this.totalSize+=n:this.visibleSize+=n,this.paddedSize(e)}get isText(){return this.type===_r}paddedSize(e=!1){let n=this.visibleSize;return e&&(n=this.totalSize),this.isText||(n+=Od),n}isAncestorOf(e){return Vd(this,e)}get nextSibling(){const e=this.parent.findOffset(this),n=this.parent.children[e+1];if(n)return n}get prevSibling(){const e=this.parent.findOffset(this),n=this.parent.children[e-1];if(n)return n}splitText(e,n){const i={data:0,meta:0};if(e===0||e===this.visibleSize)return[void 0,i];const l=this.value.slice(0,e),c=this.value.slice(e);if(!c.length)return[void 0,i];const g=this.getDataSize();this.value=l;const y=this.cloneText(e+n);return y.value=c,this.parent.insertAfterInternal(y,this),Ct(i,this.getDataSize(),y.getDataSize()),Dn(i,g),[y,i]}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(e=>e.value).join(""):""}append(...e){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const n of e)n.parent=this,n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}prepend(...e){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const n of e)n.parent=this}insertBefore(e,n){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new L(V.ErrInvalidArgument,"child not found");this.insertAtInternal(e,i),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAfter(e,n){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new L(V.ErrInvalidArgument,"child not found");this.insertAtInternal(e,i+1),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAt(e,n){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,n),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}removeChild(e){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");const n=this._children.indexOf(e);if(n===-1)throw new L(V.ErrInvalidArgument,"child not found");this._children.splice(n,1),e.updateAncestorsSize(-e.paddedSize(!0),!0),e.parent=void 0}splitElement(e,n){const i={data:0,meta:0},l=this.getDataSize(),c=this.cloneElement(n);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const g=this.children.slice(0,e),y=this.children.slice(e);this._children=g,c._children=y,this.visibleSize=this._children.reduce((S,R)=>S+R.paddedSize(),0),this.totalSize=this._children.reduce((S,R)=>S+R.paddedSize(!0),0),c.visibleSize=c._children.reduce((S,R)=>S+R.paddedSize(!0),0),c.totalSize=c._children.reduce((S,R)=>S+R.paddedSize(!0),0);for(const S of c._children)S.parent=c;return Ct(i,this.getDataSize(),c.getDataSize()),Dn(i,l),[c,i]}insertAfterInternal(e,n){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new L(V.ErrInvalidArgument,"child not found");this.insertAtInternal(e,i+1)}insertAtInternal(e,n){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");this._children.splice(n,0,e),e.parent=this}findOffset(e,n=!1){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");if(n)return this._children.indexOf(e);if(e.isRemoved){const i=this._children.indexOf(e);return this.allChildren.splice(0,i).filter(c=>!c.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new L(V.ErrRefused,"Text node cannot have children");let n=e;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function Vd(a,e){if(a===e)return!1;for(;e.parent;){if(e.parent===a)return!0;e=e.parent}return!1}var Gt=(a=>(a.Start="Start",a.End="End",a.Text="Text",a))(Gt||{});function bf(a,e,n,i,l=!1){if(e>n)throw new L(V.ErrInvalidArgument,`from is greater than to: ${e} > ${n}`);const c=l?a.totalSize:a.visibleSize;if(e>c)throw new L(V.ErrInvalidArgument,`from is out of range: ${e} > ${c}`);if(n>c)throw new L(V.ErrInvalidArgument,`to is out of range: ${n} > ${c}`);if(e===n)return;let g=0;const y=l?a._children:a.children;for(const S of y){if(e-S.paddedSize(l)<g&&g<n){const R=S.isText?e-g:e-g-1,C=S.isText?n-g:n-g-1,Z=l?S.totalSize:S.visibleSize,J=!S.isText&&R<0,G=!S.isText&&C>Z;(S.isText||J)&&i([S,S.isText?"Text":"Start"],G),bf(S,Math.max(0,R),Math.min(C,Z),i,l),G&&i([S,"End"],G)}g+=S.paddedSize(l)}}function Sf(a,e,n=0){for(const i of a.children)Sf(i,e,n+1);e(a,n)}function fl(a,e,n=0){for(const i of a._children)fl(i,e,n+1);e(a,n)}function Qs(a,e,n=!0){if(e>a.visibleSize)throw new L(V.ErrInvalidArgument,`index is out of range: ${e} > ${a.visibleSize}`);if(a.isText)return{node:a,offset:e};let i=0,l=0;for(const c of a.children){if(n&&c.isText&&c.visibleSize>=e-l)return Qs(c,e-l,n);if(e===l)return{node:a,offset:i};if(!n&&c.paddedSize()===e-l)return{node:a,offset:i+1};if(c.paddedSize()>e-l)return Qs(c,e-l-1,n);l+=c.paddedSize(),i+=1}return{node:a,offset:i}}function bu(a){return a.isText||a.children.length===0?a:bu(a.children[0])}function Bd(a,e){if(a.visibleSize<e)throw new L(V.ErrInvalidArgument,"unacceptable path");for(let n=0;n<a.children.length;n++){const i=a.children[n];if(i.visibleSize<e)e-=i.visibleSize;else{a=i;break}}return{node:a,offset:e}}class Ud{constructor(e){D(this,"root");this.root=e}tokensBetween(e,n,i,l=!1){bf(this.root,e,n,i,l)}traverse(e){Sf(this.root,e,0)}traverseAll(e){fl(this.root,e,0)}findTreePos(e,n=!0){return Qs(this.root,e,n)}treePosToPath(e){const n=[];let i=e.node;if(i.isText){const l=i.parent.findOffset(i);if(l===-1)throw new L(V.ErrInvalidArgument,"invalid treePos");const c=Zt(i.parent,l);n.push(c+e.offset),i=i.parent}else if(i.hasTextChild()){const l=Zt(i,e.offset);n.push(l)}else n.push(e.offset);for(;i.parent;){const l=i.parent.findOffset(i);if(l===-1)throw new L(V.ErrInvalidArgument,"invalid treePos");n.push(l),i=i.parent}return n.reverse()}pathToIndex(e){const n=this.pathToTreePos(e);return this.indexOf(n)}pathToTreePos(e){if(!e.length)throw new L(V.ErrInvalidArgument,"unacceptable path");let n=this.root;for(let i=0;i<e.length-1;i++){const l=e[i];if(n=n.children[l],!n)throw new L(V.ErrInvalidArgument,"unacceptable path")}if(n.hasTextChild())return Bd(n,e[e.length-1]);if(n.children.length<e[e.length-1])throw new L(V.ErrInvalidArgument,"unacceptable path");return{node:n,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(e){const{node:n,offset:i}=e;if(n.isText){if(n.visibleSize===i){const l=n.nextSibling;return l||n.parent}return n}return n.children.length===i?n:bu(n.children[i])}indexOf(e,n=!1){let{node:i}=e;const{offset:l}=e;let c=0,g=1;if(i.isText){c+=l;const y=i.parent,S=y.findOffset(i,n);if(S===-1)throw new L(V.ErrInvalidArgument,"invalid pos");c+=Zt(y,S,n),i=i.parent}else c+=Zt(i,l,n);for(;i!=null&&i.parent;){const y=i.parent,S=y.findOffset(i,n);if(S===-1)throw new L(V.ErrInvalidArgument,"invalid pos");c+=Zt(y,S,n),g++,i=i.parent}return c+g-1}indexToPath(e){const n=this.findTreePos(e);return this.treePosToPath(n)}}class br{constructor(e,n){D(this,"parentID");D(this,"leftSiblingID");this.parentID=e,this.leftSiblingID=n}static of(e,n){return new br(e,n)}static fromTreePos(e){const{offset:n}=e;let{node:i}=e,l;return i.isText?(i.parent.children[0]===i&&n===0?l=i.parent:l=i,i=i.parent):n===0?l=i:l=i.children[n-1],br.of(i.id,en.of(l.getCreatedAt(),l.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(e){return br.of(en.of(Wn.fromStruct(e.parentID.createdAt),e.parentID.offset),en.of(Wn.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const n=this.getParentID(),i=this.getLeftSiblingID(),l=e.findFloorNode(n);let c=e.findFloorNode(i);if(!l||!c)throw new L(V.ErrRefused,`cannot find node of CRDTTreePos(${n.toTestString()}, ${i.toTestString()})`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=e.findFloorNode(c.insPrevID)),[l,c]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class en{constructor(e,n){D(this,"createdAt");D(this,"offset");this.createdAt=e,this.offset=n}static of(e,n){return new en(e,n)}static fromStruct(e){return en.of(Wn.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,n)=>{const i=e.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:e.getOffset()>n.getOffset()?1:e.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Bn extends gn{constructor(n,i,l,c,g){super(i);D(this,"id");D(this,"removedAt");D(this,"attrs");D(this,"insPrevID");D(this,"insNextID");D(this,"_value","");this.id=n,this.removedAt=g,c&&(this.attrs=c),typeof l=="string"?this.value=l:Array.isArray(l)&&(this._children=l)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(n,i,l,c){return new Bn(n,i,l,c)}deepcopy(){var i;const n=new Bn(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.visibleSize=this.visibleSize,n.totalSize=this.totalSize,n.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),n._children=this._children.map(l=>{const c=l.deepcopy();return c.parent=n,c}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new L(V.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(n){if(!this.isText)throw new L(V.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=n,this.visibleSize=n.length,this.totalSize=n.length}get isRemoved(){return!!this.removedAt}remove(n){return this.removedAt?(n.after(this.removedAt)&&(this.removedAt=n),!1):(this.removedAt=n,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(n){return new Bn(en.of(this.id.getCreatedAt(),n),this.type,void 0,void 0,this.removedAt)}cloneElement(n){return new Bn(en.of(n(),0),this.type,void 0,void 0,this.removedAt)}split(n,i,l){const[c,g]=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,l);if(c){if(c.insPrevID=this.id,this.insNextID){const y=n.findFloorNode(this.insNextID);y.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,n.registerNode(c)}return[c,g]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(n,i,l){return i?!!(!this.removedAt||!l&&(n!=null&&n.after(this.removedAt))):!1}canStyle(n,i){return this.isText?!1:this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}setAttrs(n,i){this.attrs||(this.attrs=new On);const l=[];for(const[c,g]of Object.entries(n))l.push(this.attrs.set(c,g,i));return l}purge(n){this.attrs&&this.attrs.purge(n)}getDataSize(){const n={data:0,meta:0};if(this.isText&&(n.data+=this.visibleSize*2),this.id&&(n.meta+=Br),this.removedAt&&(n.meta+=Br),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const l=i.getDataSize();n.meta+=l.meta,n.data+=l.data}return n}getGCPairs(){const n=[];if(!this.attrs)return n;for(const i of this.attrs)i.getRemovedAt()&&n.push({parent:this,child:i});return n}}function hl(a){var n;if(a.isText){const i=a;return{type:i.type,value:i.value}}const e={type:a.type,children:a.children.map(hl)};return a.attrs&&(e.attributes=jr((n=a.attrs)==null?void 0:n.toObject())),e}function Su(a){if(a.isText)return a.value;let e="";return a.attrs&&a.attrs.size()&&(e=" "+Array.from(a.attrs).filter(n=>!n.isRemoved()).sort((n,i)=>n.getKey().localeCompare(i.getKey())).map(n=>{const i=JSON.parse(n.getValue());return typeof i=="string"?`${n.getKey()}="${i}"`:`${n.getKey()}="${Ur(n.getValue())}"`}).join(" ")),`<${a.type}${e}>${a.children.map(n=>Su(n)).join("")}</${a.type}>`}function Au(a){if(a.isText){const e=a;return{type:e.type,value:e.value,visibleSize:e.visibleSize,isRemoved:e.isRemoved}}return{type:a.type,children:a.children.map(Au),visibleSize:a.visibleSize,isRemoved:a.isRemoved}}class Rn extends ul{constructor(n,i){super(i);D(this,"indexTree");D(this,"nodeMapByID");this.indexTree=new Ud(n),this.nodeMapByID=new Mr(en.createComparator()),this.indexTree.traverseAll(l=>{this.nodeMapByID.put(l.id,l)})}static create(n,i){return new Rn(n,i)}findFloorNode(n){const i=this.nodeMapByID.floorEntry(n);if(!(!i||!i.key.getCreatedAt().equals(n.getCreatedAt())))return i.value}registerNode(n){this.nodeMapByID.put(n.id,n)}findNodesAndSplitText(n,i){let l={data:0,meta:0};const[c,g]=n.toTreeNodePair(this);let y=g;const S=c===y,R=y.parent&&!S?y.parent:c;if(y.isText){const[,C]=y.split(this,n.getLeftSiblingID().getOffset()-y.id.getOffset());l=C}if(i){const C=R.allChildren,Z=S?0:C.indexOf(y)+1;for(let J=Z;J<C.length;J++){const G=C[J];if(!G.id.getCreatedAt().after(i))break;y=G}}return[[R,y],l]}style(n,i,l,c){const g={data:0,meta:0},[[y,S],R]=this.findNodesAndSplitText(n[0],l),[[C,Z],J]=this.findNodesAndSplitText(n[1],l);Ct(g,J,R);const G=[],ne=i?jr(i):{},ae=[];return this.traverseInPosRange(y,S,C,Z,([pe,Ce])=>{var pt;const at=pe.getCreatedAt().getActorID();let ht=mu;if(c!=null&&(ht=c.get(at)?c.get(at):0n),pe.canStyle(l,ht)&&i){const vn=pe.setAttrs(i,l),lt=vn.reduce((Bt,[,kr])=>(kr&&(Bt[kr.getKey()]=ne[kr.getKey()]),Bt),{}),Ot=pe.parent,Vt=pe.prevSibling||pe.parent;Object.keys(lt).length>0&&G.push({type:"style",from:this.toIndex(Ot,Vt),to:this.toIndex(pe,pe),fromPath:this.toPath(Ot,Vt),toPath:this.toPath(pe,pe),actor:l.getActorID(),value:lt});for(const[Bt]of vn)Bt&&ae.push({parent:pe,child:Bt});for(const[Bt]of Object.entries(ne)){const kr=(pt=pe.attrs)==null?void 0:pt.getNodeMapByKey().get(Bt);kr!==void 0&&Ce!==Gt.End&&Ct(g,kr.getDataSize())}}}),[ae,G,g]}removeStyle(n,i,l,c){const g={data:0,meta:0},[[y,S],R]=this.findNodesAndSplitText(n[0],l),[[C,Z],J]=this.findNodesAndSplitText(n[1],l);Ct(g,J,R);const G=[],ne=[];return this.traverseInPosRange(y,S,C,Z,([ae])=>{const pe=ae.getCreatedAt().getActorID();let Ce=mu;if(c!=null&&(Ce=c.get(pe)?c.get(pe):0n),ae.canStyle(l,Ce)&&i){ae.attrs||(ae.attrs=new On);for(const pt of i){const vn=ae.attrs.remove(pt,l);for(const lt of vn)ne.push({parent:ae,child:lt})}const at=ae.parent,ht=ae.prevSibling||ae.parent;G.push({actor:l.getActorID(),type:"removeStyle",from:this.toIndex(at,ht),to:this.toIndex(ae,ae),fromPath:this.toPath(at,ht),toPath:this.toPath(ae,ae),value:i})}}),[ne,G,g]}edit(n,i,l,c,g,y){const S={data:0,meta:0},[[R,C],Z]=this.findNodesAndSplitText(n[0],c),[[J,G],ne]=this.findNodesAndSplitText(n[1],c);Ct(S,ne,Z);const ae=this.toIndex(R,C),pe=this.toPath(R,C),Ce=[],at=[],ht=[];this.traverseInPosRange(R,C,J,G,([lt,Ot],Vt)=>{if(Ot===Gt.Start&&!Vt)for(const El of lt.children)ht.push(El);const Bt=y===void 0;let kr=!1;const go=y==null?void 0:y.get(lt.id.getCreatedAt().getActorID());kr=Bt||go!==void 0&&go>=lt.id.getCreatedAt().getLamport();let gg=!1;if(lt.removedAt){const El=y==null?void 0:y.get(lt.removedAt.getActorID());gg=Bt||El!==void 0&&El>=lt.removedAt.getLamport()}(lt.canDelete(c,kr,gg)||Ce.includes(lt.parent))&&((Ot===Gt.Text||Ot===Gt.Start)&&Ce.push(lt),at.push([lt,Ot]))},!0);const pt=this.makeDeletionChanges(at,c),vn=[];for(const lt of Ce)lt.remove(c),lt.isRemoved&&vn.push({parent:this,child:lt});for(const lt of ht)lt.removedAt||R.append(lt);if(l>0){let lt=0,Ot=R,Vt=C;for(;lt<l;)Ot.split(this,Ot.findOffset(Vt)+1,g),Vt=Ot,Ot=Ot.parent,lt++;pt.push({type:"content",from:ae,to:ae,fromPath:pe,toPath:pe,actor:c.getActorID()})}if(i!=null&&i.length){const lt=[];let Ot=C;for(const Vt of i)Ot===R?R.insertAt(Vt,0):R.insertAfter(Vt,Ot),Ot=Vt,fl(Vt,Bt=>{R.isRemoved?(Bt.remove(c),vn.push({parent:this,child:Bt})):Ct(S,Bt.getDataSize()),this.nodeMapByID.put(Bt.id,Bt)}),Vt.isRemoved||lt.push(Vt);if(lt.length){const Vt=lt.map(Bt=>hl(Bt));pt.length&&pt[pt.length-1].from===ae?pt[pt.length-1].value=Vt:pt.push({type:"content",from:ae,to:ae,fromPath:pe,toPath:pe,actor:c.getActorID(),value:Vt})}}return[pt,vn,S]}editT(n,i,l,c,g){const y=this.findPos(n[0]),S=this.findPos(n[1]);return this.edit([y,S],i,l,c,g)}move(n,i,l){throw new L(V.ErrUnimplemented,`not implemented: ${n}, ${i}, ${l}`)}pathToTreePos(n){return this.indexTree.pathToTreePos(n)}purge(n){var c;(c=n.parent)==null||c.removeChild(n),this.nodeMapByID.remove(n.id);const i=n.insPrevID,l=n.insNextID;if(i){const g=this.findFloorNode(i);g.insNextID=l}if(l){const g=this.findFloorNode(l);g.insPrevID=i}n.insPrevID=void 0,n.insNextID=void 0}getGCPairs(){const n=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&n.push({parent:this,child:i});for(const l of i.getGCPairs())n.push(l)}),n}findPos(n,i=!0){const l=this.indexTree.findTreePos(n,i);return br.fromTreePos(l)}pathToPosRange(n){const i=this.pathToIndex(n);return[this.findPos(i),this.findPos(i+1)]}pathToPos(n){const i=this.indexTree.pathToIndex(n);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Su(this.indexTree.getRoot())}getDataSize(){const n={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const l=i.getDataSize();n.data+=l.data,n.meta+=l.meta}),{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const n=this.indexTree.getRoot(),i=(l,c=void 0,g=void 0,y=0)=>{var G,ne,ae,pe;let S,R,C;const Z=l.isText?{node:l,offset:0}:c&&g?this.toTreePos(c,g):null;Z&&(S=this.indexTree.indexOf(Z),R=this.indexTree.treePosToPath(Z),C=br.fromTreePos(Z).toStruct());const J={type:l.type,parent:c==null?void 0:c.id.toTestString(),size:l.visibleSize,id:l.id.toTestString(),removedAt:(G=l.removedAt)==null?void 0:G.toTestString(),insPrev:(ne=l.insPrevID)==null?void 0:ne.toTestString(),insNext:(ae=l.insNextID)==null?void 0:ae.toTestString(),value:l.isText?l.value:void 0,isRemoved:l.isRemoved,children:[],depth:y,attributes:l.attrs?jr((pe=l.attrs)==null?void 0:pe.toObject()):void 0,index:S,path:R,pos:C};for(let Ce=0;Ce<l.allChildren.length;Ce++){const at=Ce===0?l:l.allChildren[Ce-1];J.children.push(i(l.allChildren[Ce],l,at,y+1))}return J};return i(n)}getRootTreeNode(){return hl(this.indexTree.getRoot())}toTestTreeNode(){return Au(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const n=this.getRoot(),i=new Rn(n.deepcopy(),this.getCreatedAt());return i.setRemovedAt(this.getRemovedAt()),i.setMovedAt(this.getMovedAt()),i}toPath(n,i){const l=this.toTreePos(n,i);return l?this.indexTree.treePosToPath(l):[]}toIndex(n,i,l=!1){const c=this.toTreePos(n,i,l);return c?this.indexTree.indexOf(c,l):-1}indexToPath(n){return this.indexTree.indexToPath(n)}pathToIndex(n){return this.indexTree.pathToIndex(n)}indexRangeToPosRange(n){const i=this.findPos(n[0]);return n[0]===n[1]?[i,i]:[i,this.findPos(n[1])]}indexRangeToPosStructRange(n){const[i,l]=n,c=this.findPos(i);return i===l?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(l).toStruct()]}posRangeToPathRange(n){const[[i,l]]=this.findNodesAndSplitText(n[0]),[[c,g]]=this.findNodesAndSplitText(n[1]);return[this.toPath(i,l),this.toPath(c,g)]}posRangeToIndexRange(n){const[[i,l]]=this.findNodesAndSplitText(n[0]),[[c,g]]=this.findNodesAndSplitText(n[1]);return[this.toIndex(i,l),this.toIndex(c,g)]}traverseInPosRange(n,i,l,c,g,y=!1){const S=this.toIndex(n,i,y),R=this.toIndex(l,c,y);this.indexTree.tokensBetween(S,R,g,y)}toTreePos(n,i,l=!1){if(!n||!i)return;if(!l&&n.isRemoved){let g;for(;n.isRemoved;)g=n,n=g.parent;const y=n.findOffset(g,l);return{node:n,offset:y}}if(n===i)return{node:n,offset:0};let c=n.findOffset(i,l);if(l||!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize(l)};c++}return{node:n,offset:c}}makeDeletionChanges(n,i){const l=[],c=[];let g=null,y=null;for(let S=0;S<n.length;S++){const R=n[S],C=n[S+1];g||(g=R),y=R;const Z=this.findRightToken(R);(!Z||!C||Z[0]!==C[0]||Z[1]!==C[1])&&(c.push([g,y]),g=null,y=null)}for(const S of c){const[R,C]=S,[Z,J]=this.findLeftToken(R),[G,ne]=C,ae=J===Gt.Start?Z:Z.parent,pe=ne===Gt.Start?G:G.parent,Ce=this.toIndex(ae,Z),at=this.toIndex(pe,G);Ce<at&&(l.length>0&&Ce===l[l.length-1].to?(l[l.length-1].to=at,l[l.length-1].toPath=this.toPath(pe,G)):l.push({type:"content",from:Ce,to:at,fromPath:this.toPath(ae,Z),toPath:this.toPath(pe,G),actor:i.getActorID()}))}return l.reverse()}findRightToken([n,i]){if(i===Gt.Start){const S=n.allChildren;return S.length>0?[S[0],S[0].isText?Gt.Text:Gt.Start]:[n,Gt.End]}const l=n.parent,c=l.allChildren,g=c.indexOf(n);if(l&&g===c.length-1)return[l,Gt.End];const y=c[g+1];return[y,y.isText?Gt.Text:Gt.Start]}findLeftToken([n,i]){if(i===Gt.End){const S=n.allChildren;if(S.length>0){const R=S[S.length-1];return[R,R.isText?Gt.Text:Gt.End]}return[n,Gt.Start]}const l=n.parent,c=l.allChildren,g=c.indexOf(n);if(l&&g===0)return[l,Gt.Start];const y=c[g-1];return[y,y.isText?Gt.Text:Gt.End]}}class cs extends xn{constructor(n,i,l,c,g,y){super(n,y);D(this,"fromPos");D(this,"toPos");D(this,"contents");D(this,"splitLevel");this.fromPos=i,this.toPos=l,this.contents=c,this.splitLevel=g}static create(n,i,l,c,g,y){return new cs(n,i,l,c,g,y)}execute(n,i,l){var Z;const c=n.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Rn))throw new L(V.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const g=this.getExecutedAt(),y=c,[S,R,C]=y.edit([this.fromPos,this.toPos],(Z=this.contents)==null?void 0:Z.map(J=>J.deepcopy()),this.splitLevel,g,(()=>{let J=g.getDelimiter();return this.contents!==void 0&&(J+=this.contents.length),()=>Wn.of(g.getLamport(),++J,g.getActorID())})(),l);n.acc(C);for(const J of R)n.registerGCPair(J);return{opInfos:S.map(({from:J,to:G,value:ne,splitLevel:ae,fromPath:pe,toPath:Ce})=>({type:"tree-edit",path:n.createPath(this.getParentCreatedAt()),from:J,to:G,value:ne,splitLevel:ae,fromPath:pe,toPath:Ce}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${n}.EDIT(${i},${l},${c.map(g=>Su(g)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class fs{constructor(e){D(this,"vector");this.vector=e||new Map}set(e,n){this.vector.set(e,n)}unset(e){this.vector.delete(e)}get(e){return this.vector.get(e)}has(e){return this.vector.has(e)}maxLamport(){let e=BigInt(0);for(const[,n]of this)n>e&&(e=n);return e}max(e){const n=new Map;for(const[i,l]of e){const c=this.vector.get(i),g=c&&c>l?c:l;n.set(i,g)}for(const[i,l]of this){const c=e.get(i),g=c&&c>l?c:l;n.set(i,g)}return new fs(n)}afterOrEqual(e){const n=this.vector.get(e.getActorID());return n===void 0?!1:n>=e.getLamport()}deepcopy(){const e=new Map;for(const[n,i]of this.vector)e.set(n,i);return new fs(e)}filter(e){const n=new Map;for(const[i]of e){const l=this.vector.get(i);l!==void 0&&n.set(i,l)}return new fs(n)}size(){return this.vector.size}*[Symbol.iterator](){for(const[e,n]of this.vector)yield[e,n]}}const Eu=new fs(new Map);class Sr{constructor(e,n,i,l,c){D(this,"clientSeq");D(this,"serverSeq");D(this,"actor");D(this,"lamport");D(this,"versionVector");this.clientSeq=e,this.serverSeq=c,this.lamport=n,this.versionVector=l,this.actor=i}hasClocks(){return this.versionVector.size()>0&&this.lamport!=gu}static of(e,n,i,l,c){return new Sr(e,n,i,l,c)}next(e=!1){if(e)return new Sr(this.clientSeq+1,this.lamport,this.actor,Eu,gu);const n=this.versionVector.deepcopy();return n.set(this.actor,this.lamport+1n),new Sr(this.clientSeq+1,this.lamport+1n,this.actor,n)}syncClocks(e){if(!e.hasClocks())return this;const n=e.lamport>this.lamport?e.lamport+1n:this.lamport+1n,i=this.versionVector.max(e.versionVector),l=new Sr(this.clientSeq,n,this.actor,i);return l.versionVector.set(this.actor,n),l}setClocks(e,n){const i=e>this.lamport?e+1n:this.lamport+1n,l=this.versionVector.max(n);return l.set(this.actor,i),Sr.of(this.clientSeq,i,this.actor,l)}createTimeTicket(e){return Wn.of(this.lamport,e,this.actor)}setActor(e){return new Sr(this.clientSeq,this.lamport,e,this.versionVector,this.serverSeq)}setLamport(e){return new Sr(this.clientSeq,e,this.actor,this.versionVector,this.serverSeq)}setVersionVector(e){return new Sr(this.clientSeq,this.lamport,this.actor,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const Va=new Sr(0,0n,du,Eu);class bi{constructor({id:e,operations:n,presenceChange:i,message:l}){D(this,"id");D(this,"operations");D(this,"presenceChange");D(this,"message");this.id=e,this.operations=n||[],this.presenceChange=i,this.message=l}static create({id:e,operations:n,presenceChange:i,message:l}){return new bi({id:e,operations:n,presenceChange:i,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const n of this.operations)n.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,n,i){const l=[],c=[],g=[];for(const y of this.operations){const S=y.execute(e,i,this.id.getVersionVector());if(!S)continue;const{opInfos:R,reverseOp:C}=S;l.push(...R),c.push(y),C&&g.unshift(C)}return this.presenceChange&&(this.presenceChange.type===Vr.Put?n.set(this.id.getActorID(),Pn(this.presenceChange.presence)):n.delete(this.id.getActorID())),{operations:c,opInfos:l,reverseOps:g}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:mt.bytesToHex(mt.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(e=>mt.bytesToHex(mt.operationToBinary(e))),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:n,operations:i,presenceChange:l,message:c}=e;return bi.create({id:mt.bytesToChangeID(mt.hexToBytes(n)),operations:i==null?void 0:i.map(g=>mt.bytesToOperation(mt.hexToBytes(g))),presenceChange:l,message:c})}}class Ru{constructor(e,n,i,l,c,g){D(this,"documentKey");D(this,"checkpoint");D(this,"isRemoved");D(this,"changes");D(this,"snapshot");D(this,"versionVector");this.documentKey=e,this.checkpoint=n,this.isRemoved=i,this.changes=l,this.snapshot=g,this.versionVector=c}static create(e,n,i,l,c,g){return new Ru(e,n,i,l,c,g)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class hs{constructor(e,n){D(this,"serverSeq");D(this,"clientSeq");this.serverSeq=e,this.clientSeq=n}static of(e,n){return new hs(e,n)}increaseClientSeq(e){return e===0?this:new hs(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const n=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,i=Math.max(this.clientSeq,e.clientSeq);return hs.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const Ba=new hs(0n,0),Af=a=>a<0?Math.ceil(a):Math.floor(a);var nr=(a=>(a[a.Int=0]="Int",a[a.Long=1]="Long",a))(nr||{});class on extends ul{constructor(n,i,l){super(l);D(this,"valueType");D(this,"value");switch(this.valueType=n,n){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=Ke.fromNumber(i).toInt():this.value=Af(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=Ke.fromNumber(i):this.value=i;break;default:throw new L(V.ErrUnimplemented,`unimplemented type: ${n}`)}}static create(n,i,l){return new on(n,i,l)}static valueFromBytes(n,i){switch(n){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return Ke.fromBytesLE(Array.from(i));default:throw new L(V.ErrUnimplemented,`unimplemented type: ${n}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const n=on.create(this.valueType,this.value,this.getCreatedAt());return n.setRemovedAt(this.getRemovedAt()),n.setMovedAt(this.getMovedAt()),n}getType(){return this.valueType}static getCounterType(n){switch(typeof n){case"object":return n instanceof Ke?1:void 0;case"number":return n>Math.pow(2,31)-1||n<-Math.pow(2,31)?1:0;default:return}}static isSupport(n){return!!on.getCounterType(n)}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===0||n===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new L(V.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(n){function i(l){if(!l.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof l.getValue()}`)}return i(this),i(n),this.valueType===1?this.value=this.value.add(n.getValue()):n.getType()===bt.Long?this.value=this.value+n.getValue().toInt():this.value=Ke.fromNumber(this.value+Af(n.getValue())).toInt(),this}}class At extends xn{constructor(n,i,l){super(n,l);D(this,"value");this.value=i}static create(n,i,l){return new At(n,i,l)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof on))throw new L(V.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const l=i,c=this.value.deepcopy();return l.increase(c),{opInfos:[{type:"increase",path:n.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const n=this.value.deepcopy(),l=n.getType()===bt.Long?n.getValue().multiply(-1):n.getValue()*-1;return At.create(this.getParentCreatedAt(),xt.of(l,n.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Ua extends xn{constructor(n,i,l,c,g,y){super(n,y);D(this,"fromPos");D(this,"toPos");D(this,"attributes");D(this,"attributesToRemove");this.fromPos=i,this.toPos=l,this.attributes=c,this.attributesToRemove=g}static create(n,i,l,c,g){return new Ua(n,i,l,c,[],g)}static createTreeRemoveStyleOperation(n,i,l,c,g){return new Ua(n,i,l,new Map,c,g)}execute(n,i,l){const c=n.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Rn))throw new L(V.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const g=c;let y,S,R={data:0,meta:0};if(this.attributes.size){const C={};[...this.attributes].forEach(([Z,J])=>C[Z]=J),[S,y,R]=g.style([this.fromPos,this.toPos],C,this.getExecutedAt(),l)}else{const C=this.attributesToRemove;[S,y,R]=g.removeStyle([this.fromPos,this.toPos],C,this.getExecutedAt(),l)}n.acc(R);for(const C of S)n.registerGCPair(C);return{opInfos:y.map(({from:C,to:Z,value:J,fromPath:G,toPath:ne})=>({type:"tree-style",from:C,to:Z,value:this.attributes.size?{attributes:J}:{attributesToRemove:J},fromPath:G,toPath:ne,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${n}.STYLE(${i},${l},${Object.entries(this.attributes||{}).map(([c,g])=>`${c}:"${g}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class La extends xn{constructor(n,i,l,c){super(n,c);D(this,"createdAt");D(this,"value");this.createdAt=i,this.value=l}static create(n,i,l,c){return new La(n,i,l,c)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new L(V.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Qt))throw new L(V.ErrInvalidArgument,"fail to execute, only array can execute set");const l=i.getByID(this.createdAt).deepcopy(),c=this.toReverseOperation(this.value,l),g=this.value.deepcopy();return i.insertAfter(this.createdAt,g,this.getExecutedAt()),i.delete(this.createdAt,this.getExecutedAt()),n.registerElement(g),{opInfos:[{type:"array-set",path:n.createPath(this.getParentCreatedAt())}],reverseOp:c}}toReverseOperation(n,i){return La.create(this.getParentCreatedAt(),n.getCreatedAt(),i)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(n){this.createdAt=n}}function Ld(a){const e={};for(const[n,i]of Object.entries(a))e[n]=JSON.stringify(i);return ge(wa,{data:e})}function dl(a){if(a.type===Vr.Put)return ge(ol,{type:ss.PUT,presence:Ld(a.presence)});if(a.type===Vr.Clear)return ge(ol,{type:ss.CLEAR});throw new L(V.ErrUnimplemented,"unimplemented type")}function Si(a){return ge(hu,{serverSeq:a.getServerSeq(),clientSeq:a.getClientSeq()})}function Tu(a){return ge(uu,{clientSeq:a.getClientSeq(),lamport:a.getLamport(),actorId:Ga(a.getActorID()),versionVector:ds(a.getVersionVector())})}function Re(a){if(a)return ge(af,{lamport:a.getLamport(),delimiter:a.getDelimiter(),actorId:Ga(a.getActorID())})}function ds(a){if(!a)return;const e=ge(hi);for(const[n,i]of a){const l=xf(Ga(n));e.vector[l]=BigInt(i.toString())}return e}function Yr(a){switch(a){case bt.Null:return Ze.NULL;case bt.Boolean:return Ze.BOOLEAN;case bt.Integer:return Ze.INTEGER;case bt.Long:return Ze.LONG;case bt.Double:return Ze.DOUBLE;case bt.String:return Ze.STRING;case bt.Bytes:return Ze.BYTES;case bt.Date:return Ze.DATE;default:throw new L(V.ErrInvalidType,`unsupported type: ${a}`)}}function Ef(a){switch(a){case nr.Int:return Ze.INTEGER_CNT;case nr.Long:return Ze.LONG_CNT;default:throw new L(V.ErrInvalidType,`unsupported type: ${a}`)}}function qs(a){if(a instanceof fn)return ge(Ta,{type:Ze.JSON_OBJECT,createdAt:Re(a.getCreatedAt()),value:Ln(a)});if(a instanceof Qt)return ge(Ta,{type:Ze.JSON_ARRAY,createdAt:Re(a.getCreatedAt()),value:Cf(a)});if(a instanceof Vn)return ge(Ta,{type:Ze.TEXT,createdAt:Re(a.getCreatedAt())});if(a instanceof xt)return ge(Ta,{type:Yr(a.getType()),createdAt:Re(a.getCreatedAt()),value:a.toBytes()});if(a instanceof on)return ge(Ta,{type:Ef(a.getType()),createdAt:Re(a.getCreatedAt()),value:a.toBytes()});if(a instanceof Rn)return ge(Ta,{type:Ze.TREE,createdAt:Re(a.getCreatedAt()),value:Du(a)});throw new L(V.ErrUnimplemented,"unimplemented element")}function Md(a){return ge(tf,{createdAt:Re(a.getCreatedAt()),offset:a.getOffset()})}function eo(a){return ge(rf,{createdAt:Re(a.getID().getCreatedAt()),offset:a.getID().getOffset(),relativeOffset:a.getRelativeOffset()})}function to(a){return ge(sl,{parentId:Ai(a.getParentID()),leftSiblingId:Ai(a.getLeftSiblingID())})}function Ai(a){return ge(nf,{createdAt:Re(a.getCreatedAt()),offset:a.getOffset()})}function wu(a){const e=ge(Xs);if(a instanceof pi){const n=a,i=ge(Rd);i.parentCreatedAt=Re(n.getParentCreatedAt()),i.key=n.getKey(),i.value=qs(n.getValue()),i.executedAt=Re(n.getExecutedAt()),e.body.case="set",e.body.value=i}else if(a instanceof pr){const n=a,i=ge(Hc);i.parentCreatedAt=Re(n.getParentCreatedAt()),i.prevCreatedAt=Re(n.getPrevCreatedAt()),i.value=qs(n.getValue()),i.executedAt=Re(n.getExecutedAt()),e.body.case="add",e.body.value=i}else if(a instanceof yr){const n=a,i=ge($c);i.parentCreatedAt=Re(n.getParentCreatedAt()),i.prevCreatedAt=Re(n.getPrevCreatedAt()),i.createdAt=Re(n.getCreatedAt()),i.executedAt=Re(n.getExecutedAt()),e.body.case="move",e.body.value=i}else if(a instanceof tr){const n=a,i=ge(di);i.parentCreatedAt=Re(n.getParentCreatedAt()),i.createdAt=Re(n.getCreatedAt()),i.executedAt=Re(n.getExecutedAt()),e.body.case="remove",e.body.value=i}else if(a instanceof Hr){const n=a,i=ge(Ge);i.parentCreatedAt=Re(n.getParentCreatedAt()),i.from=eo(n.getFromPos()),i.to=eo(n.getToPos()),i.content=n.getContent();const l=i.attributes;for(const[c,g]of n.getAttributes())l[c]=g;i.executedAt=Re(n.getExecutedAt()),e.body.case="edit",e.body.value=i}else if(a instanceof $s){const n=a,i=ge(vt);i.parentCreatedAt=Re(n.getParentCreatedAt()),i.from=eo(n.getFromPos()),i.to=eo(n.getToPos());const l=i.attributes;for(const[c,g]of n.getAttributes())l[c]=g;i.executedAt=Re(n.getExecutedAt()),e.body.case="style",e.body.value=i}else if(a instanceof At){const n=a,i=ge(Ft);i.parentCreatedAt=Re(n.getParentCreatedAt()),i.value=qs(n.getValue()),i.executedAt=Re(n.getExecutedAt()),e.body.case="increase",e.body.value=i}else if(a instanceof cs){const n=a,i=ge(cu);i.parentCreatedAt=Re(n.getParentCreatedAt()),i.from=to(n.getFromPos()),i.to=to(n.getToPos()),i.contents=Yd(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=Re(n.getExecutedAt()),e.body.case="treeEdit",e.body.value=i}else if(a instanceof Ua){const n=a,i=ge(Ps);i.parentCreatedAt=Re(n.getParentCreatedAt()),i.from=to(n.getFromPos()),i.to=to(n.getToPos());const l=n.getAttributesToRemove();if(l.length>0)i.attributesToRemove=l;else{const c=i.attributes;for(const[g,y]of n.getAttributes())c[g]=y}i.executedAt=Re(n.getExecutedAt()),e.body.case="treeStyle",e.body.value=i}else if(a instanceof La){const n=a,i=ge(is);i.parentCreatedAt=Re(n.getParentCreatedAt()),i.createdAt=Re(n.getCreatedAt()),i.value=qs(n.getValue()),i.executedAt=Re(n.getExecutedAt()),e.body.case="arraySet",e.body.value=i}else throw new L(V.ErrUnimplemented,"unimplemented operation");return e}function Ma(a){const e=[];for(const n of a)e.push(wu(n));return e}function Kt(a){const e=ge(Ed,{id:Tu(a.getID()),message:a.getMessage()});return a.hasOperations()&&(e.operations=Ma(a.getOperations())),a.hasPresenceChange()&&(e.presenceChange=dl(a.getPresenceChange())),e}function Rf(a){const e=[];for(const n of a)e.push(Kt(n));return e}function _d(a){const e=[];for(const n of a)e.push(ge(wd,{key:n.getStrKey(),element:Un(n.getValue())}));return e}function ln(a){const e=[];for(const n of a)e.push(ge(em,{element:Un(n.getValue())}));return e}function am(a){const e=[];for(const n of a){const i=ge(ef);i.id=Md(n.getID()),i.value=n.getValue().getContent(),i.removedAt=Re(n.getRemovedAt());const l=i.attributes,c=n.getValue().getAttrs();for(const g of c){const y=ge(fu);y.value=g.getValue(),y.updatedAt=Re(g.getUpdatedAt()),l[g.getKey()]=y}e.push(i)}return e}function Yd(a){const e=[];if(!a||!a.length)return e;for(const n of a)e.push(ge(Jt,{content:wt(n)}));return e}function Zd(a){const e={};for(const n of a)e[n.getKey()]=ge(fu,{value:n.getValue(),updatedAt:Re(n.getUpdatedAt()),isRemoved:n.isRemoved()});return e}function wt(a){if(!a)return[];const e=[];return fl(a,(n,i)=>{const l=ge(kn,{id:Ai(n.id),type:n.type,removedAt:Re(n.removedAt),depth:i});n.isText&&(l.value=n.value),n.insPrevID&&(l.insPrevId=Ai(n.insPrevID)),n.insNextID&&(l.insNextId=Ai(n.insNextID)),n.attrs&&(l.attributes=Zd(n.attrs)),e.push(l)}),e}function Fn(a){return ge(En,{body:{case:"jsonObject",value:ge(Fs,{nodes:_d(a.getRHT()),createdAt:Re(a.getCreatedAt()),movedAt:Re(a.getMovedAt()),removedAt:Re(a.getRemovedAt())})}})}function $r(a){return ge(En,{body:{case:"jsonArray",value:ge(qg,{nodes:ln(a.getElements()),createdAt:Re(a.getCreatedAt()),movedAt:Re(a.getMovedAt()),removedAt:Re(a.getRemovedAt())})}})}function Gd(a){return ge(En,{body:{case:"primitive",value:ge(Wt,{type:Yr(a.getType()),value:a.toBytes(),createdAt:Re(a.getCreatedAt()),movedAt:Re(a.getMovedAt()),removedAt:Re(a.getRemovedAt())})}})}function zd(a){return ge(En,{body:{case:"text",value:ge(Qc,{nodes:am(a.getRGATreeSplit()),createdAt:Re(a.getCreatedAt()),movedAt:Re(a.getMovedAt()),removedAt:Re(a.getRemovedAt())})}})}function im(a){return ge(En,{body:{case:"counter",value:ge(qc,{type:Ef(a.getType()),value:a.toBytes(),createdAt:Re(a.getCreatedAt()),movedAt:Re(a.getMovedAt()),removedAt:Re(a.getRemovedAt())})}})}function Nu(a){return ge(En,{body:{case:"tree",value:ge(Td,{nodes:wt(a.getRoot()),createdAt:Re(a.getCreatedAt()),movedAt:Re(a.getMovedAt()),removedAt:Re(a.getRemovedAt())})}})}function Un(a){if(a instanceof fn)return Fn(a);if(a instanceof Qt)return $r(a);if(a instanceof xt)return Gd(a);if(a instanceof Vn)return zd(a);if(a instanceof on)return im(a);if(a instanceof Rn)return Nu(a);throw new L(V.ErrUnimplemented,"unimplemented element")}function Zr(a){return ge(il,{documentKey:a.getDocumentKey(),checkpoint:Si(a.getCheckpoint()),isRemoved:a.getIsRemoved(),changes:Rf(a.getChanges()),snapshot:a.getSnapshot(),versionVector:ds(a.getVersionVector())})}function kd(a){return{id:a.id,label:a.label,description:a.description,snapshot:a.snapshot,createdAt:a.createdAt?Hh(a.createdAt):new Date}}function mn(a){if(!(a instanceof Fe))return{};const e=a.findDetails(of);for(const n of e)return n.metadata;return{}}function gs(a){return mn(a).code??""}function Qr(a,e){return a instanceof Fe&&gs(a)===e}function Ei(a){return Sr.of(a.clientSeq,BigInt(a.lamport),tn(a.actorId),qr(a.versionVector),BigInt(a.serverSeq))}function qr(a){if(!a)return;const e=new fs;return Object.entries(a.vector).forEach(([n,i])=>{const l=Gr(so(n));e.set(l,BigInt(i.toString()))}),e}function Te(a){if(a)return Wn.of(BigInt(a.lamport),a.delimiter,tn(a.actorId))}function gl(a){const e={};return Object.entries(a.data).forEach(([n,i])=>{e[n]=JSON.parse(i)}),e}function ea(a){const e=a.type;if(e===ss.PUT){const n=gl(a.presence);return{type:Vr.Put,presence:n}}if(e===ss.CLEAR)return{type:Vr.Clear};throw new L(V.ErrInvalidType,`unsupported type: ${e}`)}function Wd(a){const e=new Map;return Object.entries(a).forEach(([n,i])=>{e.set(n,gl(i))}),e}function ms(a){switch(a){case Ze.NULL:return bt.Null;case Ze.BOOLEAN:return bt.Boolean;case Ze.INTEGER:return bt.Integer;case Ze.LONG:return bt.Long;case Ze.DOUBLE:return bt.Double;case Ze.STRING:return bt.String;case Ze.BYTES:return bt.Bytes;case Ze.DATE:return bt.Date}throw new L(V.ErrUnimplemented,`unimplemented value type: ${a}`)}function Ri(a){switch(a){case Ze.INTEGER_CNT:return nr.Int;case Ze.LONG_CNT:return nr.Long}throw new L(V.ErrUnimplemented,`unimplemented value type: ${a}`)}function Ti(a){switch(a.type){case Ze.JSON_OBJECT:return a.value?io(a.value):fn.create(Te(a.createdAt));case Ze.JSON_ARRAY:return a.value?If(a.value):Qt.create(Te(a.createdAt));case Ze.TEXT:return Vn.create(ls.create(),Te(a.createdAt));case Ze.TREE:return xu(a.value);case Ze.NULL:case Ze.BOOLEAN:case Ze.INTEGER:case Ze.LONG:case Ze.DOUBLE:case Ze.STRING:case Ze.BYTES:case Ze.DATE:return xt.of(xt.valueFromBytes(ms(a.type),a.value),Te(a.createdAt));case Ze.INTEGER_CNT:case Ze.LONG_CNT:return on.create(Ri(a.type),on.valueFromBytes(Ri(a.type),a.value),Te(a.createdAt))}}function _a(a){return qt.of(St.of(Te(a.createdAt),a.offset),a.relativeOffset)}function Tf(a){return St.of(Te(a.createdAt),a.offset)}function Kd(a){const e=vi.create(a.value);Object.entries(a.attributes).forEach(([i,l])=>{e.setAttr(i,l.value,Te(l.updatedAt))});const n=Jr.create(Tf(a.id),e);return n.setRemovedAt(Te(a.removedAt)),n}function ta(a){return br.of(no(a.parentId),no(a.leftSiblingId))}function no(a){return en.of(Te(a.createdAt),a.offset)}function Iu(a){if(!a.length)return;const e=[];return a.forEach(n=>{const i=Cu(n.content);e.push(i)}),e}function Cu(a){if(a.length===0)return;const e=[];for(const l of a)e.push(om(l));const n=e[e.length-1],i=new Map;i.set(a[e.length-1].depth,e[e.length-1]);for(let l=e.length-2;l>=0;l--)i.get(a[l].depth-1).prepend(e[l]),i.set(a[l].depth,e[l]);return n.updateDescendantsSize(),n.updateDescendantsSize(!0),Rn.create(n,os).getRoot()}function sm(a){const e=On.create();for(const[n,i]of Object.entries(a))e.setInternal(n,i.value,Te(i.updatedAt),i.isRemoved);return e}function om(a){const e=no(a.id),n=Bn.create(e,a.type),i=Object.entries(a.attributes);return n.isText?n.value=a.value:i.length&&(n.attrs=sm(a.attributes)),a.insPrevId&&(n.insPrevID=no(a.insPrevId)),a.insNextId&&(n.insNextID=no(a.insNextId)),n.removedAt=Te(a.removedAt),n}function ft(a){if(a.body.case==="set"){const e=a.body.value;return pi.create(e.key,Ti(e.value),Te(e.parentCreatedAt),Te(e.executedAt))}else if(a.body.case==="add"){const e=a.body.value;return pr.create(Te(e.parentCreatedAt),Te(e.prevCreatedAt),Ti(e.value),Te(e.executedAt))}else if(a.body.case==="move"){const e=a.body.value;return yr.create(Te(e.parentCreatedAt),Te(e.prevCreatedAt),Te(e.createdAt),Te(e.executedAt))}else if(a.body.case==="remove"){const e=a.body.value;return tr.create(Te(e.parentCreatedAt),Te(e.createdAt),Te(e.executedAt))}else if(a.body.case==="edit"){const e=a.body.value,n=new Map;return Object.entries(e.attributes).forEach(([i,l])=>{n.set(i,l)}),Hr.create(Te(e.parentCreatedAt),_a(e.from),_a(e.to),e.content,n,Te(e.executedAt))}else if(a.body.case==="style"){const e=a.body.value,n=new Map;return Object.entries(e.attributes).forEach(([i,l])=>{n.set(i,l)}),$s.create(Te(e.parentCreatedAt),_a(e.from),_a(e.to),n,Te(e.executedAt))}else if(a.body.case==="increase"){const e=a.body.value;return At.create(Te(e.parentCreatedAt),Ti(e.value),Te(e.executedAt))}else if(a.body.case==="treeEdit"){const e=a.body.value;return cs.create(Te(e.parentCreatedAt),ta(e.from),ta(e.to),Iu(e.contents),e.splitLevel,Te(e.executedAt))}else if(a.body.case==="treeStyle"){const e=a.body.value,n=new Map,i=e.attributesToRemove;return(i==null?void 0:i.length)>0?Ua.createTreeRemoveStyleOperation(Te(e.parentCreatedAt),ta(e.from),ta(e.to),i,Te(e.executedAt)):(Object.entries(e.attributes).forEach(([l,c])=>{n.set(l,c)}),Ua.create(Te(e.parentCreatedAt),ta(e.from),ta(e.to),n,Te(e.executedAt)))}else if(a.body.case==="arraySet"){const e=a.body.value;return La.create(Te(e.parentCreatedAt),Te(e.createdAt),Ti(e.value),Te(e.executedAt))}else throw new L(V.ErrUnimplemented,"unimplemented operation")}function Nt(a){const e=[];for(const n of a){const i=ft(n);i&&e.push(i)}return e}function Xe(a){const e=[];for(const n of a)e.push(bi.create({id:Ei(n.id),operations:Nt(n.operations),presenceChange:n.presenceChange?ea(n.presenceChange):void 0,message:n.message}));return e}function qe(a){return hs.of(BigInt(a.serverSeq),a.clientSeq)}function gt(a){return Ru.create(a.documentKey,qe(a.checkpoint),a.isRemoved,Xe(a.changes),qr(a.versionVector),a.snapshot)}function Jn(a){const e=new Ca;for(const i of a.nodes){const l=na(i.element);e.set(i.key,l,l.getPositionedAt())}const n=new fn(Te(a.createdAt),e);return n.setMovedAt(Te(a.movedAt)),n.setRemovedAt(Te(a.removedAt)),n}function Ya(a){const e=new Da;for(const i of a.nodes)e.insert(na(i.element));const n=new Qt(Te(a.createdAt),e);return n.setMovedAt(Te(a.movedAt)),n.setRemovedAt(Te(a.removedAt)),n}function ro(a){const e=xt.of(xt.valueFromBytes(ms(a.type),a.value),Te(a.createdAt));return e.setMovedAt(Te(a.movedAt)),e.setRemovedAt(Te(a.removedAt)),e}function wf(a){const e=new ls;let n=e.getHead();for(const l of a.nodes){const c=e.insertAfter(n,Kd(l));l.insPrevId&&c.setInsPrev(e.findNode(Tf(l.insPrevId))),n=c}const i=new Vn(e,Te(a.createdAt));return i.setMovedAt(Te(a.movedAt)),i.setRemovedAt(Te(a.removedAt)),i}function Za(a){const e=on.create(Ri(a.type),on.valueFromBytes(Ri(a.type),a.value),Te(a.createdAt));return e.setMovedAt(Te(a.movedAt)),e.setRemovedAt(Te(a.removedAt)),e}function Dt(a){const e=Cu(a.nodes);return Rn.create(e,Te(a.createdAt))}function na(a){if(a.body.case==="jsonObject")return Jn(a.body.value);if(a.body.case==="jsonArray")return Ya(a.body.value);if(a.body.case==="primitive")return ro(a.body.value);if(a.body.case==="text")return wf(a.body.value);if(a.body.case==="counter")return Za(a.body.value);if(a.body.case==="tree")return Dt(a.body.value);throw new L(V.ErrUnimplemented,"unimplemented element")}function ps(a){return a.map(e=>({path:e.path,type:e.type}))}function Nf(a){if(!a)return{root:fn.create(os),presences:new Map};const e=hr(al,a);return{root:na(e.root),presences:Wd(e.presences)}}function Ar(a){const e=ds(a);return Gr(dr(hi,e))}function ao(a){const e=ra(a),n=hr(hi,e);return qr(n)}function io(a){if(!a)throw new L(V.ErrInvalidArgument,"bytes is empty");const e=hr(En,a);return Jn(e.body.value)}function Ln(a){return dr(En,Un(a))}function If(a){if(!a)throw new L(V.ErrInvalidArgument,"bytes is empty");const e=hr(En,a);return Ya(e.body.value)}function Cf(a){return dr(En,$r(a))}function xu(a){if(!a)throw new L(V.ErrInvalidArgument,"bytes is empty");const e=hr(En,a);return Dt(e.body.value)}function Du(a){return dr(En,Nu(a))}function Gr(a){return a?Array.from(a).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function tn(a){return Gr(a)}function ra(a){return new Uint8Array(a.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function so(a){if(typeof window<"u"&&typeof window.atob=="function"){const e=window.atob(a),n=e.length,i=new Uint8Array(n);for(let l=0;l<n;l++)i[l]=e.charCodeAt(l);return i}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const e=globalThis.Buffer;return new Uint8Array(e.from(a,"base64"))}else throw new Error("No base64 decoder available")}function Ga(a){return ra(a)}function xf(a){if(typeof window<"u"&&typeof window.btoa=="function"){let e="";for(let n=0;n<a.byteLength;n++)e+=String.fromCharCode(a[n]);return window.btoa(e)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(a).toString("base64");throw new Error("No base64 encoder available")}}function Df(a){const e=hr(uu,a);return Ei(e)}function Xd(a){const e=hr(Xs,a);return ft(e)}const mt={fromPresence:gl,toChangePack:Zr,fromChangePack:gt,fromChanges:Xe,toTreeNodes:wt,fromTreeNodes:Cu,objectToBytes:Ln,bytesToObject:io,bytesToSnapshot:Nf,bytesToHex:Gr,hexToBytes:ra,toHexString:tn,toUint8Array:Ga,toOperation:wu,toChangeID:Tu,bytesToChangeID:Df,bytesToOperation:Xd,versionVectorToHex:Ar,hexToVersionVector:ao,fromSchemaRules:ps,toRevisionSummary:kd,changeIDToBinary:a=>dr(uu,Tu(a)),operationToBinary:a=>dr(Xs,wu(a))};var Tn=(a=>(a[a.Trivial=0]="Trivial",a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warn=3]="Warn",a[a.Error=4]="Error",a[a.Fatal=5]="Fatal",a))(Tn||{});let nn=3;function Pd(a){nn=a}const fe={trivial:(...a)=>{nn>0||typeof console<"u"&&console.log("YORKIE T:",...a)},debug:(...a)=>{nn>1||typeof console<"u"&&console.log("YORKIE D:",...a)},info:(...a)=>{nn>2||typeof console<"u"&&console.log("YORKIE I:",...a)},warn:(...a)=>{nn>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...a):console.log("YORKIE W:",...a))},error:(...a)=>{nn>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...a):console.log("YORKIE E:",...a))},fatal:(...a)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...a):console.log("YORKIE F:",...a))},isEnabled:a=>nn<=a};function Of(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,a=>{const e=Math.random()*16|0;return(a==="x"?e:e&3|8).toString(16)})}const Ou=()=>{};class lm{constructor(e){D(this,"finalized",!1);D(this,"observers",[]);D(this,"finalError");try{e(this)}catch(n){this.error(n)}}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let l;if(!e)throw new L(V.ErrInvalidArgument,"missing observer");if(this.finalized)throw new L(V.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?l=e:l={next:e,error:n,complete:i},l.next===void 0&&(l.next=Ou),l.error===void 0&&(l.error=Ou),l.complete===void 0&&(l.complete=Ou);const c=Of(),g=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(y){fe.warn(y)}return g}unsubscribeOne(e){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e].observer)}catch(i){fe.error(i)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function za(a){const e=new lm(a);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class wi{constructor(e,n,i,l){D(this,"prevID");D(this,"nextID");D(this,"delimiter");D(this,"message");D(this,"root");D(this,"operations");D(this,"presenceChange");D(this,"previousPresence");D(this,"reversePresenceKeys");this.prevID=e,this.nextID=e.next(),this.delimiter=lf,this.root=n,this.operations=[],this.previousPresence=Pn(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(e,n,i,l){return new wi(e,n,i,l)}push(e){this.operations.push(e)}registerElement(e,n){this.root.registerElement(e,n)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const e=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return bi.create({id:e,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,n){for(const i of Object.keys(e))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const n of this.reversePresenceKeys)e[n]=this.previousPresence[n];return e}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(e){this.root.acc(e)}}function Vu(a,e){const n=new aa(a);return new Proxy(e,n.getHandlers())}class aa{constructor(e){D(this,"context");D(this,"handlers");this.context=e,this.handlers={set:(n,i,l)=>(fe.isEnabled(Tn.Trivial)&&fe.trivial(`obj[${i}]=${JSON.stringify(l)}`),aa.setInternal(e,n,i,l),!0),get:(n,i)=>(fe.isEnabled(Tn.Trivial)&&fe.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():Ii(e,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(fe.isEnabled(Tn.Trivial)&&fe.trivial(`obj[${i}]`),aa.deleteInternal(e,n,i),!0)}}static setInternal(e,n,i,l){if(i.includes("."))throw new L(V.ErrInvalidObjectKey,"key must not contain the '.'.");const c=e.issueTimeTicket(),g=Ci(e,l,c),y=n.set(i,g,c);e.registerElement(g,n),y&&e.registerRemovedElement(y),e.push(pi.create(i,g.deepcopy(),n.getCreatedAt(),c))}static buildObjectMembers(e,n){const i={};for(const[l,c]of Object.entries(n)){if(l.includes("."))throw new L(V.ErrInvalidObjectKey,"key must not contain the '.'.");const g=e.issueTimeTicket(),y=Ci(e,c,g);i[l]=y}return i}static deleteInternal(e,n,i){const l=e.issueTimeTicket(),c=n.deleteByKey(i,l);c&&(e.push(tr.create(n.getCreatedAt(),c.getCreatedAt(),l)),e.registerRemovedElement(c))}getHandlers(){return this.handlers}}function Fd(a,e){const n=new rt(a,e);return new Proxy(e,n.getHandlers())}function Vf(a){return typeof a=="string"||a instanceof String?!isNaN(a):!1}function Jd(a){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(a)}class rt{constructor(e,n){D(this,"context");D(this,"handlers");D(this,"array");this.context=e,this.array=n,this.handlers={get:(i,l,c)=>l==="getID"?()=>i.getCreatedAt():l==="getElementByID"?g=>{const y=i.getByID(g);if(!(!y||y.isRemoved()))return Er(e,y)}:l==="getElementByIndex"?g=>{const y=i.get(g);return Er(e,y)}:l==="getLast"?()=>Er(e,i.getLast()):l==="delete"?g=>{const y=rt.deleteInternalByIndex(e,i,g);return Er(e,y)}:l==="deleteByID"?g=>{const y=rt.deleteInternalByID(e,i,g);return Er(e,y)}:l==="insertAfter"?(g,y)=>{const S=rt.insertAfterInternal(e,i,g,y);return Er(e,S)}:l==="insertIntegerAfter"?(g,y)=>{const S=rt.insertIntegerAfterInternal(e,i,g,y);return Er(e,S)}:l==="insertBefore"?(g,y)=>{const S=rt.insertBeforeInternal(e,i,g,y);return Er(e,S)}:l==="setValue"?(g,y)=>{const S=rt.setValueInternal(e,i,g,y);return Er(e,S)}:l==="moveBefore"?(g,y)=>{rt.moveBeforeInternal(e,i,g,y)}:l==="moveAfter"?(g,y)=>{rt.moveAfterInternal(e,i,g,y)}:l==="moveAfterByIndex"?(g,y)=>{rt.moveAfterByIndexInternal(e,i,g,y)}:l==="moveFront"?g=>{rt.moveFrontInternal(e,i,g)}:l==="moveLast"?g=>{rt.moveLastInternal(e,i,g)}:Vf(l)?Ii(e,i.get(Number(l))):l==="push"?g=>rt.pushInternal(e,i,g):l==="splice"?(g,y,...S)=>rt.splice(e,i,g,y,...S):l==="length"?i.length:typeof l=="symbol"&&l===Symbol.iterator?rt.iteratorInternal.bind(this,e,i):l==="includes"?(g,y)=>rt.includes(e,i,g,y):l==="indexOf"?(g,y)=>rt.indexOf(e,i,g,y):l==="lastIndexOf"?(g,y)=>rt.lastIndexOf(e,i,g,y):l==="toJSForTest"?()=>i.toJSForTest():l==="toTestString"?()=>rt.toTestString(i):typeof l=="string"&&Jd(l)?(...g)=>{const y=Array.from(i).map(S=>Ii(e,S));return Array.prototype[l].apply(y,g)}:Reflect.get(i,l,c),set:(i,l,c)=>{if(Vf(l)){const g=Number(l);return rt.setValueInternal(e,i,g,c),!0}return Reflect.set(i,l,c)},deleteProperty:(i,l)=>(fe.isEnabled(Tn.Trivial)&&fe.trivial(`array[${l}]`),rt.deleteInternalByIndex(e,i,Number.parseInt(l)),!0)}}static*iteratorInternal(e,n){for(const i of n)yield Er(e,i)}static buildArrayElements(e,n){const i=[];for(const l of n){const c=e.issueTimeTicket(),g=Ci(e,l,c);i.push(g)}return i}static pushInternal(e,n,i){return rt.insertAfterInternal(e,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(e,n,i,l){const c=e.issueTimeTicket(),g=n.getPrevCreatedAt(i);n.moveAfter(g,l,c),e.push(yr.create(n.getCreatedAt(),g,l,c))}static moveAfterInternal(e,n,i,l){const c=e.issueTimeTicket();e.push(yr.create(n.getCreatedAt(),i,l,c)),n.moveAfter(i,l,c)}static moveAfterByIndexInternal(e,n,i,l){const c=n.get(i);if(!c)throw new L(V.ErrInvalidArgument,`index out of bounds: ${i}`);const g=n.get(l);if(!g)throw new L(V.ErrInvalidArgument,`index out of bounds: ${l}`);rt.moveAfterInternal(e,n,c.getCreatedAt(),g.getCreatedAt())}static moveFrontInternal(e,n,i){const l=e.issueTimeTicket(),c=n.getHead();n.moveAfter(c.getCreatedAt(),i,l),e.push(yr.create(n.getCreatedAt(),c.getCreatedAt(),i,l))}static moveLastInternal(e,n,i){const l=e.issueTimeTicket(),c=n.getLastCreatedAt();n.moveAfter(c,i,l),e.push(yr.create(n.getCreatedAt(),c,i,l))}static insertAfterInternal(e,n,i,l){const c=e.issueTimeTicket(),g=Ci(e,l,c);return n.insertAfter(i,g),e.registerElement(g,n),e.push(pr.create(n.getCreatedAt(),i,g.deepcopy(),c)),g}static insertIntegerAfterInternal(e,n,i,l){const c=n.get(i);if(!c)throw new L(V.ErrInvalidArgument,`index out of bounds: ${i}`);return rt.insertAfterInternal(e,n,c.getCreatedAt(),l),n}static insertBeforeInternal(e,n,i,l){return rt.insertAfterInternal(e,n,n.getPrevCreatedAt(i),l)}static setValueInternal(e,n,i,l){const c=n.get(i);if(!c)throw new L(V.ErrInvalidArgument,`index out of bounds: ${i}`);return rt.setByIndexInternal(e,n,c.getCreatedAt(),l),n}static setByIndexInternal(e,n,i,l){const c=e.issueTimeTicket(),g=Ci(e,l,c),y=g.deepcopy();return e.push(La.create(n.getCreatedAt(),i,y,c)),n.set(i,g,c),e.registerElement(g,n),g}static deleteInternalByIndex(e,n,i){const l=e.issueTimeTicket(),c=n.deleteByIndex(i,l);if(c)return e.push(tr.create(n.getCreatedAt(),c.getCreatedAt(),l)),e.registerRemovedElement(c),c}static deleteInternalByID(e,n,i){const l=e.issueTimeTicket(),c=n.delete(i,l);return e.push(tr.create(n.getCreatedAt(),c.getCreatedAt(),l)),e.registerRemovedElement(c),c}static splice(e,n,i,l,...c){const g=n.length,y=i>=0?Math.min(i,g):Math.max(g+i,0),S=l===void 0?g:l<0?y:Math.min(y+l,g),R=[];for(let C=y;C<S;C++){const Z=rt.deleteInternalByIndex(e,n,y);if(Z){const J=Z.deepcopy();J.setRemovedAt(),R.push(Ii(e,J))}}if(c){let C=y===0?n.getHead().getID():n.get(y-1).getID();for(const Z of c)C=rt.insertAfterInternal(e,n,C,Z).getID()}return R}static includes(e,n,i,l){var y;const c=n.length,g=l===void 0?0:l<0?Math.max(l+c,0):l;if(g>=c)return!1;if(xt.isSupport(i))return Array.from(n).map(R=>Ii(e,R)).includes(i,g);for(let S=g;S<c;S++)if(((y=n.get(S))==null?void 0:y.getID())===i.getID())return!0;return!1}static indexOf(e,n,i,l){var y;const c=n.length,g=l===void 0?0:l<0?Math.max(l+c,0):l;if(g>=c)return-1;if(xt.isSupport(i))return Array.from(n).map(R=>Ii(e,R)).indexOf(i,g);for(let S=g;S<c;S++)if(((y=n.get(S))==null?void 0:y.getID())===i.getID())return S;return-1}static lastIndexOf(e,n,i,l){var y;const c=n.length,g=l===void 0||l>=c?c-1:l<0?l+c:l;if(g<0)return-1;if(xt.isSupport(i))return Array.from(n).map(R=>Ii(e,R)).lastIndexOf(i,g);for(let S=g;S>0;S--)if(((y=n.get(S))==null?void 0:y.getID())===i.getID())return S;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class ml{constructor(e,n){D(this,"context");D(this,"text");this.context=e,this.text=n}initialize(e,n){this.context=e,this.text=n}getID(){return this.text.getID()}edit(e,n,i,l){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(e,n);fe.isEnabled(Tn.Debug)&&fe.debug(`EDIT: f:${e}->${c[0].toTestString()}, t:${n}->${c[1].toTestString()} c:${i}`);const g=l?us(l):void 0,y=this.context.issueTimeTicket(),[,S,R,C]=this.text.edit(c,i,y,g);this.context.acc(R);for(const Z of S)this.context.registerGCPair(Z);return this.context.push(new Hr(this.text.getCreatedAt(),c[0],c[1],i,g?new Map(Object.entries(g)):new Map,y)),this.text.findIndexesFromRange(C)}delete(e,n){return this.edit(e,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,n,i){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const l=this.text.indexRangeToPosRange(e,n);fe.isEnabled(Tn.Debug)&&fe.debug(`STYL: f:${e}->${l[0].toTestString()}, t:${n}->${l[1].toTestString()} a:${JSON.stringify(i)}`);const c=us(i),g=this.context.issueTimeTicket(),[y,S]=this.text.setStyle(l,c,g);this.context.acc(S);for(const R of y)this.context.registerGCPair(R);return this.context.push(new $s(this.text.getCreatedAt(),l[0],l[1],new Map(Object.entries(c)),g)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");const n=this.text.indexRangeToPosRange(e[0],e[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");const n=this.text.findIndexesFromRange([qt.fromStruct(e[0]),qt.fromStruct(e[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,n){if(!this.context||!this.text)throw new L(V.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,n)}}class Bf{constructor(e,n){D(this,"valueType");D(this,"value");D(this,"context");D(this,"counter");this.valueType=e,this.value=n}initialize(e,n){this.valueType=n.getValueType(),this.context=e,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new L(V.ErrNotInitialized,"Counter is not initialized yet");const n=this.context.issueTimeTicket(),i=xt.of(e,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(At.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new L(V.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Uf(a){if(a.isText)return{type:a.type,value:a.value};const e={type:a.type,children:a.children.map(n=>Uf(n))};return a.attrs&&(e.attributes=jr(a.attrs.toObject())),e}function um(a,e){const n={type:a.isText?a.parent.type:a.type,children:a.isText?a.parent.getChildrenText().length===e?[]:[{type:_r,value:a.parent.getChildrenText().slice(e)}]:a.children.slice(e).map(i=>Uf(i))};return a.attrs?n.attributes=jr(a.attrs.toObject()):a.isText&&a.parent.attrs&&(n.attributes=jr(a.parent.attrs.toObject())),n}function jd(a,e){const{node:n}=a,i=[...e].slice(0,-1),l=n.isText?n.parent.getChildrenText().length:n.children.length,c=[...i,l],g=[...i],y=[];g[g.length-1]+=1,e.every((R,C)=>R===c[C])||y.push({fromPath:[...e],toPath:c});const S=um(n,e[e.length-1]);return S&&y.push({fromPath:g,toPath:g,content:S}),y}function Hd(a,e){const{node:n,offset:i}=a,l=n.children[i],c=n.children[i-1],{children:g}=l,y=[...e].slice(0,-1),S=[{fromPath:[...e],toPath:[...y,i+1]}];if(!l.children.length)return S;const R=[...y,i-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],C=g.map(Z=>Uf(Z));return S.push({fromPath:R,toPath:R,content:C}),S}function Ni(a,e,n){const{type:i}=a,l=n.issueTimeTicket();if(i===_r){Lf(a);const{value:c}=a,g=Bn.create(en.of(l,0),i,c);e.append(g)}else{const{children:c=[]}=a,{attributes:g}=a;let y;if(typeof g=="object"&&!vf(g)){const R=us(g);y=new On;for(const[C,Z]of Object.entries(R))y.set(C,Z,l)}const S=Bn.create(en.of(l,0),i,void 0,y);e.append(S);for(const R of c)Ni(R,S,n)}}function Bu(a,e){const{type:n}=e,i=a.issueTimeTicket();let l;if(e.type===_r){const{value:c}=e;l=Bn.create(en.of(i,0),n,c)}else if(e){const{children:c=[]}=e,{attributes:g}=e;let y;if(typeof g=="object"&&!vf(g)){const S=us(g);y=new On;for(const[R,C]of Object.entries(S))y.set(R,C,i)}l=Bn.create(en.of(a.issueTimeTicket(),0),n,void 0,y);for(const S of c)Ni(S,l,a)}return l}function Lf(a){if(!a.value.length)throw new L(V.ErrInvalidArgument,"text node cannot have empty value");return!0}function Mf(a){if(!a.length)return!0;if(a[0].type===_r)for(const n of a){const{type:i}=n;if(i!==_r)throw new L(V.ErrInvalidArgument,"element node and text node cannot be passed together");Lf(n)}else for(const n of a){const{type:i}=n;if(i===_r)throw new L(V.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Uu{constructor(e){D(this,"initialRoot");D(this,"context");D(this,"tree");this.initialRoot=e}initialize(e,n){this.context=e,this.tree=n}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return Bn.create(en.of(e.issueTimeTicket(),0),rm);const n=Bn.create(en.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)Ni(i,n,e);return n}getSize(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new L(V.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(e),i=jd(n,e);for(const l of i){const{fromPath:c,toPath:g,content:y}=l,S=this.tree.pathToPos(c),R=this.tree.pathToPos(g);this.editInternal(S,R,y?[y]:[],0)}}mergeByPath(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new L(V.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(e);if(n.node.isText)throw new L(V.ErrInvalidArgument,"text node cannot be merged");const i=Hd(n,e);for(const l of i){const{fromPath:c,toPath:g,content:y}=l,S=this.tree.pathToPos(c),R=this.tree.pathToPos(g);this.editInternal(S,R,y??[],0)}}styleByPath(e,n){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new L(V.ErrInvalidArgument,"path should not be empty");const[i,l]=this.tree.pathToPosRange(e),c=this.context.issueTimeTicket(),g=n?us(n):void 0,[y,,S]=this.tree.style([i,l],g,c);this.context.acc(S);for(const R of y)this.context.registerGCPair(R);this.context.push(Ua.create(this.tree.getCreatedAt(),i,l,g?new Map(Object.entries(g)):new Map,c))}style(e,n,i){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(e),c=this.tree.findPos(n),g=this.context.issueTimeTicket(),y=i?us(i):void 0,[S,,R]=this.tree.style([l,c],y,g);this.context.acc(R);for(const C of S)this.context.registerGCPair(C);this.context.push(Ua.create(this.tree.getCreatedAt(),l,c,y?new Map(Object.entries(y)):new Map,g))}removeStyle(e,n,i){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(e),c=this.tree.findPos(n),g=this.context.issueTimeTicket(),[y,,S]=this.tree.removeStyle([l,c],i,g);this.context.acc(S);for(const R of y)this.context.registerGCPair(R);this.context.push(Ua.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),l,c,i,g))}editInternal(e,n,i,l=0){var R;if(i.length!==0&&i[0]&&(Mf(i),i[0].type!==_r))for(const C of i){const{children:Z=[]}=C;Mf(Z)}const c=this.context.getLastTimeTicket();let g=new Array;if(((R=i[0])==null?void 0:R.type)===_r){let C="";for(const Z of i){const{value:J}=Z;C+=J}g.push(Bn.create(en.of(this.context.issueTimeTicket(),0),_r,C))}else g=i.map(C=>C&&Bu(this.context,C)).filter(C=>C);const[,y,S]=this.tree.edit([e,n],g.length?g.map(C=>C==null?void 0:C.deepcopy()):void 0,l,c,()=>this.context.issueTimeTicket());this.context.acc(S);for(const C of y)this.context.registerGCPair(C);return this.context.push(cs.create(this.tree.getCreatedAt(),e,n,g.length?g:void 0,l,c)),!0}editByPath(e,n,i,l=0){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==n.length)throw new L(V.ErrInvalidArgument,"path length should be equal");if(!e.length||!n.length)throw new L(V.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),g=this.tree.pathToPos(n);return this.editInternal(c,g,i?[i]:[],l)}editBulkByPath(e,n,i,l=0){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==n.length)throw new L(V.ErrInvalidArgument,"path length should be equal");if(!e.length||!n.length)throw new L(V.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),g=this.tree.pathToPos(n);return this.editInternal(c,g,i,l)}edit(e,n,i,l=0){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),g=this.tree.findPos(n);return this.editInternal(c,g,i?[i]:[],l)}editBulk(e,n,i,l=0){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");if(e>n)throw new L(V.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),g=this.tree.findPos(n);return this.editInternal(c,g,i,l)}toXML(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");const n=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");const n=[br.fromStruct(e[0]),br.fromStruct(e[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new L(V.ErrNotInitialized,"Tree is not initialized yet");const n=[br.fromStruct(e[0]),br.fromStruct(e[1])];return this.tree.posRangeToPathRange(n)}}function _f(a,e){return Vu(a,e)}function Er(a,e){if(e){if(e instanceof xt)return e;if(e instanceof fn)return Vu(a,e);if(e instanceof Qt)return Fd(a,e);if(e instanceof Vn)return new ml(a,e);if(e instanceof on){const n=new Bf(nr.Int,0);return n.initialize(a,e),n}else if(e instanceof Rn){const n=new Uu;return n.initialize(a,e),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function Ii(a,e){const n=Er(a,e);return n instanceof xt?n.getValue():n}function Ci(a,e,n){let i;if(xt.isSupport(e))i=xt.of(e,n);else if(Array.isArray(e))i=Qt.create(n,rt.buildArrayElements(a,e));else if(typeof e=="object")e instanceof ml?(i=Vn.create(ls.create(),n),e.initialize(a,i)):e instanceof Bf?(i=on.create(e.getValueType(),e.getValue(),n),e.initialize(a,i)):e instanceof Uu?(i=Rn.create(e.buildRoot(a),n),e.initialize(a,i)):i=fn.create(n,aa.buildObjectMembers(a,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return i}class oo{constructor(e){D(this,"rootObject");D(this,"elementPairMapByCreatedAt");D(this,"gcElementSetByCreatedAt");D(this,"gcPairMap");D(this,"docSize");this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(e,void 0),e.getDescendants(n=>{if(n.getRemovedAt()&&this.registerRemovedElement(n),n instanceof Vn||n instanceof Rn)for(const i of n.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new oo(fn.create(os))}findByCreatedAt(e){const n=this.elementPairMapByCreatedAt.get(e.toIDString());if(n)return n.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let n=this.elementPairMapByCreatedAt.get(e.toIDString());if(!n)return[];const i=[];for(;n.parent;){const l=n.element.getCreatedAt(),c=n.parent.subPathOf(l);if(c===void 0)throw new L(V.ErrInvalidArgument,`cant find the given element: ${l.toIDString()}`);i.unshift(c),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,n){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:n,element:e}),Ct(this.docSize.live,e.getDataSize()),e instanceof Na&&e.getDescendants((i,l)=>(this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:l,element:i}),Ct(this.docSize.live,i.getDataSize()),!1))}deregisterElement(e){let n=0;const i=l=>{const c=l.getCreatedAt().toIDString();Dn(this.docSize.gc,l.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),n++};return i(e),e instanceof Na&&e.getDescendants(l=>(i(l),!1)),n}registerRemovedElement(e){Ct(this.docSize.gc,e.getDataSize()),Dn(this.docSize.live,e.getDataSize()),this.docSize.live.meta+=Br,this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e);const i=this.gcPairMap.get(e.child.toIDString()).child.getDataSize();Ct(this.docSize.gc,i),Dn(this.docSize.live,i),e.child instanceof Oa||(this.docSize.live.meta+=Br)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const n of this.gcElementSetByCreatedAt){e.add(n);const i=this.elementPairMapByCreatedAt.get(n);i.element instanceof Na&&i.element.getDescendants(l=>(e.add(l.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new oo(this.rootObject.deepcopy())}garbageCollect(e){let n=0;for(const i of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(i),c=l.element.getRemovedAt();c&&(e!=null&&e.afterOrEqual(c))&&(l.parent.purge(l.element),n+=this.deregisterElement(l.element))}for(const[,i]of this.gcPairMap){const l=i.child.getRemovedAt();l&&(e!=null&&e.afterOrEqual(l))&&(i.parent.purge(i.child),Dn(this.docSize.gc,i.child.getDataSize()),this.gcPairMap.delete(i.child.toIDString()),n+=1)}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(e){Ct(this.docSize.live,e)}*getGCElementPairs(){for(const e of this.gcElementSetByCreatedAt){const n=this.elementPairMapByCreatedAt.get(e);n&&(yield n)}}}let Yf=class{constructor(e,n){D(this,"context");D(this,"presence");this.context=e,this.presence=n}set(e,n){for(const i of Object.keys(e))this.presence[i]=e[i];this.context.setPresenceChange({type:Vr.Put,presence:Pn(this.presence)}),this.context.setReversePresence(e,n)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:Vr.Clear})}};const Et=50;class Zf{constructor(){D(this,"undoStack",[]);D(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=Et&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=Et&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(e,n){const i=l=>{for(const c of l)for(const g of c)(g instanceof La||g instanceof tr||g instanceof yr)&&g.getCreatedAt()===e&&g.setCreatedAt(n),(g instanceof pr||g instanceof yr)&&g.getPrevCreatedAt()===e&&g.setPrevCreatedAt(n)};i(this.undoStack),i(this.redoStack)}reconcileTextEdit(e,n,i,l){const c=g=>{for(const y of g)for(const S of y)S instanceof Hr&&S.getParentCreatedAt().compare(e)===0&&S.reconcileOperation(n,i,l)};c(this.undoStack),c(this.redoStack)}}function cm(a,e){const n=[];for(const i of e){const l=$d(a,i.path),c=fm(l,i);if(!c.valid)for(const g of c.errors||[])n.push(g)}return{valid:n.length===0,errors:n}}function $d(a,e){if(!e.startsWith("$"))throw new Error(`Path must start with $, got ${e}`);const n=e.split(".");let i=a;for(let l=1;l<n.length;l++){const c=n[l];if(!(i instanceof fn))return;i=i.get(c)}return i}function fm(a,e){switch(e.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return dm(a,e);case"object":if(!(a instanceof fn))return{valid:!1,errors:[{path:e.path,message:`expected object at path ${e.path}`}]};break;case"array":if(!(a instanceof Qt))return{valid:!1,errors:[{path:e.path,message:`expected array at path ${e.path}`}]};break;case"yorkie.Text":if(!(a instanceof Vn))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Text at path ${e.path}`}]};break;case"yorkie.Tree":if(!(a instanceof Rn))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Tree at path ${e.path}`}]};break;case"yorkie.Counter":if(!(a instanceof on))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Counter at path ${e.path}`}]};break;default:throw new Error(`Unknown rule type: ${e.type}`)}return{valid:!0}}function hm(a){switch(a){case"null":return bt.Null;case"boolean":return bt.Boolean;case"integer":return bt.Integer;case"long":return bt.Long;case"double":return bt.Double;case"string":return bt.String;case"bytes":return bt.Bytes;case"date":return bt.Date;default:throw new Error(`Unknown primitive type: ${a}`)}}function dm(a,e){return a instanceof xt&&a.getType()===hm(e.type)?{valid:!0}:{valid:!1,errors:[{path:e.path,message:`expected ${e.type} at path ${e.path}`}]}}const Lu="yorkie-devtools-panel",lo="yorkie-devtools-sdk";function Gf(a){return[pn.StatusChanged,pn.Snapshot,pn.LocalChange,pn.RemoteChange,pn.Initialized,pn.Watched,pn.Unwatched,pn.PresenceChanged].includes(a.type)}function Mu(a){return a.every(Gf)}let xi="disconnected";const Di=new Map,rr=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=rr);function Oi(a,e){(e!=null&&e.force||xi!=="disconnected")&&window.postMessage({source:lo,...a},"*")}function gm(a){if(!a.isEnableDevtools()||typeof window>"u"||Di.has(a.getKey()))return;rr.set(a.getKey(),[]);const e=a.subscribe("all",n=>{Mu(n)&&(rr.get(a.getKey()).push(n),xi==="synced"&&Oi({msg:"doc::sync::partial",docKey:a.getKey(),event:n}))});Di.set(a.getKey(),[e]),Oi({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var l;if(((l=n.data)==null?void 0:l.source)!==Lu)return;switch(n.data.msg){case"devtools::connect":if(xi!=="disconnected")break;xi="connected",Oi({msg:"doc::available",docKey:a.getKey()}),fe.info(`[YD] Devtools connected. Doc: ${a.getKey()}`);break;case"devtools::disconnect":xi="disconnected",fe.info(`[YD] Devtools disconnected. Doc: ${a.getKey()}`);break;case"devtools::subscribe":xi="synced",Oi({msg:"doc::sync::full",docKey:a.getKey(),events:rr.get(a.getKey())}),fe.info(`[YD] Devtools subscribed. Doc: ${a.getKey()}`);break}})}var ka=(a=>(a.Detached="detached",a.Attached="attached",a.Removed="removed",a))(ka||{}),pn=(a=>(a.StatusChanged="status-changed",a.ConnectionChanged="connection-changed",a.SyncStatusChanged="sync-status-changed",a.Snapshot="snapshot",a.LocalChange="local-change",a.RemoteChange="remote-change",a.Initialized="initialized",a.Watched="watched",a.Unwatched="unwatched",a.PresenceChanged="presence-changed",a.AuthError="auth-error",a))(pn||{}),uo=(a=>(a.Connected="connected",a.Disconnected="disconnected",a))(uo||{}),_u=(a=>(a.Synced="synced",a.SyncFailed="sync-failed",a))(_u||{});class Vi{constructor(e,n){D(this,"key");D(this,"status");D(this,"opts");D(this,"maxSizeLimit");D(this,"schemaRules");D(this,"changeID");D(this,"checkpoint");D(this,"localChanges");D(this,"root");D(this,"presences");D(this,"clone");D(this,"internalHistory");D(this,"isUpdating");D(this,"onlineClients");D(this,"eventStream");D(this,"eventStreamObserver");D(this,"history");this.key=e,this.status="detached",this.opts=n||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=Va,this.checkpoint=Ba,this.localChanges=[],this.root=oo.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new Zf,this.isUpdating=!1,this.eventStream=za(i=>this.eventStreamObserver=i),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},gm(this)}update(e,n){var y,S,R;if(this.getStatus()==="removed")throw new L(V.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),l=wi.create(this.changeID,this.clone.root,this.clone.presences.get(i)||{},n);try{const C=_f(l,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,e(C,new Yf(l,this.clone.presences.get(i)))}catch(C){throw this.clone=void 0,C}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!l.isPresenceOnlyChange()&&c.length){const C=cm((y=this.clone)==null?void 0:y.root.getObject(),c);if(!C.valid)throw this.clone=void 0,new L(V.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(S=C.errors)==null?void 0:S.map(Z=>Z.message).join(", ")}`)}const g=yi((R=this.clone)==null?void 0:R.root.getDocSize());if(!l.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<g)throw this.clone=void 0,new L(V.ErrDocumentSizeExceedsLimit,`document size exceeded: ${g} > ${this.maxSizeLimit}`);if(l.hasChange()){fe.isEnabled(Tn.Trivial)&&fe.trivial(`trying to update a local change: ${this.toJSON()}`);const C=l.toChange(),{opInfos:Z,reverseOps:J}=C.execute(this.root,this.presences,Tt.Local);for(const ae of C.getOperations())ae instanceof La&&this.internalHistory.reconcileCreatedAt(ae.getCreatedAt(),ae.getValue().getCreatedAt());const G=l.getReversePresence();G&&J.push({type:"presence",value:G}),this.localChanges.push(C),J.length&&this.internalHistory.pushUndo(J),Z.length&&this.internalHistory.clearRedo(),this.changeID=l.getNextID();const ne=[];Z.length&&ne.push({type:"local-change",source:Tt.Local,value:{message:C.getMessage()||"",operations:Z,actor:i,clientSeq:C.getID().getClientSeq(),serverSeq:C.getID().getServerSeq()},rawChange:this.isEnableDevtools()?C.toStruct():void 0}),C.hasPresenceChange()&&ne.push({type:"presence-changed",source:Tt.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(ne),fe.isEnabled(Tn.Trivial)&&fe.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,n,i,l){if(typeof e=="string"){if(typeof n!="function")throw new L(V.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const y=n;return this.eventStream.subscribe(S=>{for(const R of S)R.type!=="initialized"&&R.type!=="watched"&&R.type!=="unwatched"&&R.type!=="presence-changed"||y(R)},i,l)}if(e==="my-presence"){const y=n;return this.eventStream.subscribe(S=>{for(const R of S)R.type!=="initialized"&&R.type!=="presence-changed"||R.type==="presence-changed"&&R.value.clientID!==this.changeID.getActorID()||y(R)},i,l)}if(e==="others"){const y=n;return this.eventStream.subscribe(S=>{for(const R of S)R.type!=="watched"&&R.type!=="unwatched"&&R.type!=="presence-changed"||R.value.clientID!==this.changeID.getActorID()&&y(R)},i,l)}if(e==="connection"){const y=n;return this.eventStream.subscribe(S=>{for(const R of S)R.type==="connection-changed"&&y(R)},i,l)}if(e==="status"){const y=n;return this.eventStream.subscribe(S=>{for(const R of S)R.type==="status-changed"&&y(R)},i,l)}if(e==="sync"){const y=n;return this.eventStream.subscribe(S=>{for(const R of S)R.type==="sync-status-changed"&&y(R)},i,l)}if(e==="auth-error"){const y=n;return this.eventStream.subscribe(S=>{for(const R of S)R.type==="auth-error"&&y(R)},i)}if(e==="all"){const y=n;return this.eventStream.subscribe(y,i,l)}const c=e,g=n;return this.eventStream.subscribe(y=>{for(const S of y){if(S.type!=="local-change"&&S.type!=="remote-change")continue;const R=[];for(const C of S.value.operations)this.isSameElementOrChildOf(C.path,c)&&R.push(C);R.length&&g({...S,value:{...S.value,operations:R}})}},i,l)}if(typeof e=="function"){const c=e,g=n,y=i;return this.eventStream.subscribe(S=>{for(const R of S)R.type!=="snapshot"&&R.type!=="local-change"&&R.type!=="remote-change"||c(R)},g,y)}throw new L(V.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}applyChangePack(e){e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getVersionVector(),e.getSnapshot(),e.getCheckpoint().getClientSeq()):(this.applyChanges(e.getChanges(),Tt.Remote),this.removePushedLocalChanges(e.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),e.hasSnapshot()||this.garbageCollect(e.getVersionVector()),e.getIsRemoved()&&this.applyStatus("removed"),fe.isEnabled(Tn.Trivial)&&fe.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Pn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(e.length);return Ru.create(this.key,n,!1,e,this.getVersionVector())}setActor(e){for(const n of this.localChanges)n.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=wi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return _f(e,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(e){this.maxSizeLimit=e}getSchemaRules(){return this.schemaRules}setSchemaRules(e){this.schemaRules=e}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,n,i,l=-1){const{root:c,presences:g}=mt.bytesToSnapshot(i);this.root=new oo(c),this.presences=g,this.changeID=this.changeID.setClocks(n.maxLamport(),n),this.clone=void 0,this.removePushedLocalChanges(l),this.applyChanges(this.localChanges,Tt.Local),this.clearHistory(),this.publish([{type:"snapshot",source:Tt.Remote,value:{serverSeq:e.toString(),snapshot:this.isEnableDevtools()?mt.bytesToHex(i):void 0,snapshotVector:mt.versionVectorToHex(n)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(e,n){fe.isEnabled(Tn.Debug)&&fe.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),fe.isEnabled(Tn.Trivial)&&fe.trivial(e.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of e)this.applyChange(i,n);fe.isEnabled(Tn.Debug)&&fe.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,n){var y;this.ensureClone(),e.execute(this.clone.root,this.clone.presences,n);const i=[],l=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(l)){const S=e.getPresenceChange();switch(S.type){case Vr.Put:i.push(this.presences.has(l)?{type:"presence-changed",source:n,value:{clientID:l,presence:S.presence}}:{type:"watched",source:Tt.Remote,value:{clientID:l,presence:S.presence}});break;case Vr.Clear:i.push({type:"unwatched",source:Tt.Remote,value:{clientID:l,presence:this.getPresence(l)}}),this.removeOnlineClient(l);break}}const{opInfos:c,operations:g}=e.execute(this.root,this.presences,n);for(const S of g)if(S instanceof Hr){const[R,C]=S.normalizePos(this.root);this.internalHistory.reconcileTextEdit(S.getParentCreatedAt(),R,C,((y=S.getContent())==null?void 0:y.length)??0)}if(this.changeID=this.changeID.syncClocks(e.getID()),c.length){const S=this.isEnableDevtools()?e.toStruct():void 0;i.push(n===Tt.Remote?{type:"remote-change",source:n,value:{actor:l,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:S}:{type:"local-change",source:n,value:{actor:l,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:S})}i.length&&this.publish(i)}applyWatchInit(e){const n=new Set;for(const i of e)i!==this.changeID.getActorID()&&n.add(i);this.setOnlineClients(n);for(const i of Array.from(this.presences.keys()))i!==this.changeID.getActorID()&&!n.has(i)&&this.presences.delete(i);this.publish([{type:"initialized",source:Tt.Local,value:this.getPresences()}])}applyDocEvent(e,n){const i=[];if(e===ll.DOCUMENT_WATCHED){if(this.onlineClients.has(n)&&this.hasPresence(n))return;this.addOnlineClient(n),this.hasPresence(n)&&i.push({type:"watched",source:Tt.Remote,value:{clientID:n,presence:this.getPresence(n)}})}else if(e===ll.DOCUMENT_UNWATCHED){const l=this.getPresence(n);this.removeOnlineClient(n),this.presences.delete(n),l&&i.push({type:"unwatched",source:Tt.Remote,value:{clientID:n,presence:l}})}i.length&&this.publish(i)}applyStatus(e){this.status=e,e==="detached"&&this.setActor(du),this.publish([{source:e==="removed"?Tt.Remote:Tt.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEventsForReplay(e){for(const n of e){if(n.type==="status-changed"){this.applyStatus(n.value.status),n.value.status==="attached"&&this.setActor(n.value.actorID);continue}if(n.type==="snapshot"){const{snapshot:i,serverSeq:l,snapshotVector:c}=n.value;if(!i)continue;this.applySnapshot(BigInt(l),mt.hexToVersionVector(c),mt.hexToBytes(i));continue}if(n.type==="local-change"||n.type==="remote-change"){if(!n.rawChange)continue;const i=bi.fromStruct(n.rawChange);this.applyChange(i,n.source)}if(n.type==="initialized"){const i=new Set;for(const{clientID:l,presence:c}of n.value)i.add(l),this.presences.set(l,c);this.setOnlineClients(i)}else if(n.type==="watched"){const{clientID:i,presence:l}=n.value;this.addOnlineClient(i),this.presences.set(i,l)}else if(n.type==="unwatched"){const{clientID:i}=n.value;this.removeOnlineClient(i),this.presences.delete(i)}else if(n.type==="presence-changed"){const{clientID:i,presence:l}=n.value;this.presences.set(i,l)}}}getValueByPath(e){if(!e.startsWith("$"))throw new L(V.ErrInvalidArgument,'path must start with "$"');const n=e.split(".");n.shift();let i=this.getRoot();for(const l of n)if(i=i[l],!i)return;return i}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?Pn(e):{}}getOthersPresences(){const e=[],n=this.changeID.getActorID();for(const i of this.onlineClients)i!==n&&this.presences.has(i)&&e.push({clientID:i,presence:Pn(this.presences.get(i))});return e}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const n=this.presences.get(e);return n?Pn(n):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:Pn(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&e.push({clientID:n,presence:Pn(this.presences.get(n))});return e}getPresenceForTest(e){const n=this.presences.get(e);return n?Pn(n):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==e).sort((n,i)=>n.clientID>i.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(e,n){if(n===e)return!0;const i=e.split(".");return n.split(".").every((l,c)=>l===i[c])}removePushedLocalChanges(e){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e);)this.localChanges.shift()}executeUndoRedo(e){if(this.isUpdating)throw new L(V.ErrRefused,`${e?"Undo":"Redo"} is not allowed during an update`);const n=e?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!n)throw new L(V.ErrRefused,`There is no operation to be ${e?"undone":"redone"}`);this.ensureClone();const i=wi.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const C of n){if(!(C instanceof xn)){new Yf(i,Pn(this.clone.presences.get(this.changeID.getActorID()))).set(C.value,{addToHistory:!0});continue}const Z=i.issueTimeTicket();if(C.setExecutedAt(Z),C instanceof La){const J=C.getCreatedAt();C.getValue().setCreatedAt(Z),this.internalHistory.reconcileCreatedAt(J,Z)}else if(C instanceof pr){const J=C.getValue().getCreatedAt();C.getValue().setCreatedAt(Z),this.internalHistory.reconcileCreatedAt(J,Z)}i.push(C)}const l=i.toChange();l.execute(this.clone.root,this.clone.presences,Tt.UndoRedo);const{opInfos:c,reverseOps:g}=l.execute(this.root,this.presences,Tt.UndoRedo),y=i.getReversePresence();if(y&&g.push({type:"presence",value:y}),g.length&&(e?this.internalHistory.pushRedo(g):this.internalHistory.pushUndo(g)),!l.hasPresenceChange()&&!c.length)return;this.localChanges.push(l),this.changeID=i.getNextID();const S=this.changeID.getActorID(),R=[];c.length&&R.push({type:"local-change",source:Tt.UndoRedo,value:{message:l.getMessage()||"",operations:c,actor:S,clientSeq:l.getID().getClientSeq(),serverSeq:l.getID().getServerSeq()},rawChange:this.isEnableDevtools()?l.toStruct():void 0}),l.hasPresenceChange()&&R.push({type:"presence-changed",source:Tt.UndoRedo,value:{clientID:S,presence:this.getPresence(S)}}),this.publish(R)}}class Yu{constructor(e,n,i,l){D(this,"resource");D(this,"resourceID");D(this,"syncMode");D(this,"changeEventReceived");D(this,"lastHeartbeatTime");D(this,"reconnectStreamDelay");D(this,"cancelled");D(this,"watchStream");D(this,"watchLoopTimerID");D(this,"watchAbortController");this.reconnectStreamDelay=e,this.resource=n,this.resourceID=i,this.syncMode=l,this.changeEventReceived=l!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===ys.RealtimeSyncOff?!1:this.syncMode===ys.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==ys.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(e){return this.resource instanceof Vi?this.needRealtimeSync():this.syncMode===ys.Manual?!1:Date.now()-this.lastHeartbeatTime>=e}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(e){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay))})}catch{}};await n()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function Qd(a,e){let n=e;return{authInterceptor:c=>async g=>(a&&g.header.set("x-api-key",a),n&&g.header.set("authorization",n),await c(g)),setToken:c=>{n=c}}}const Zu={name:"@yorkie-js/sdk",version:"0.6.48"};function zf(a){return e=>async n=>(a?n.header.set("x-yorkie-user-agent",a):n.header.set("x-yorkie-user-agent",Zu.name+"/"+Zu.version),await e(n))}const pm=a=>{try{if(JSON.stringify(a)===void 0)return!1}catch{return!1}return!0};var pl=(a=>(a.Detached="detached",a.Attached="attached",a.Removed="removed",a))(pl||{}),ia=(a=>(a.PresenceChanged="presence-changed",a.Initialized="initialized",a.Broadcast="broadcast",a.LocalBroadcast="local-broadcast",a.AuthError="auth-error",a))(ia||{});const yl=".";class sa{constructor(e){D(this,"key");D(this,"status");D(this,"actorID");D(this,"sessionID");D(this,"sessionCount");D(this,"seq");D(this,"eventStream");D(this,"eventStreamObserver");this.validateChannelKey(e),this.key=e,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=za(n=>this.eventStreamObserver=n)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(yl)[0]}getStatus(){return this.status}applyStatus(e){this.status=e}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(e){this.actorID=e}getSessionID(){return this.sessionID}setSessionID(e){this.sessionID=e}getSessionCount(){return this.sessionCount}updateSessionCount(e,n){return n===0||n>this.seq?(this.sessionCount=e,this.seq=n,!0):!1}hasLocalChanges(){return!1}subscribe(e,n){if(typeof e=="function")return this.eventStream.subscribe(e);const i=e,l=n;if(!l)throw new Error("callback is required when subscribing to specific event type or topic");if(i==="broadcast")return this.eventStream.subscribe(g=>{g.type==="broadcast"&&l(g)});if(i==="local-broadcast")return this.eventStream.subscribe(g=>{g.type==="local-broadcast"&&l(g)});if(i==="auth-error")return this.eventStream.subscribe(g=>{g.type==="auth-error"&&l(g)});if(i==="presence")return this.eventStream.subscribe(g=>{(g.type==="presence-changed"||g.type==="initialized")&&l(g)});if(i==="all")return this.eventStream.subscribe(l);const c=i;return this.eventStream.subscribe(g=>{g.type==="broadcast"&&g.topic===c&&l(g)})}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}broadcast(e,n,i){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:e,payload:n,options:i})}validateChannelKey(e){if(e==="")throw new Error("channel key must not be empty");if(e.includes(" "))throw new Error("channel key must not contain a whitespace");if(e.startsWith(yl))throw new Error("channel key must not start with a period");if(e.endsWith(yl))throw new Error("channel key must not end with a period");if(e.includes(`${yl}${yl}`))throw new Error("channel key path must not empty")}}function Pe(a,e,n){const{stream:i,ac:l,isInit:c,onResponse:g,onStreamEnd:y,onError:S,onDisconnect:R,shouldIgnoreError:C}=a;return new Promise((Z,J)=>{(async()=>{try{let ne=!1;for await(const ae of i)g(ae),!ne&&c(ae)&&(ne=!0,Z([i,l]));y(),R()}catch(ne){if(C&&C(ne))return;S(ne),await e(ne)?R():n(),J(ne)}})()})}var ys=(a=>(a.Manual="manual",a.Realtime="realtime",a.RealtimePushOnly="realtime-pushonly",a.RealtimeSyncOff="realtime-syncoff",a))(ys||{});const Wa={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},vl={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class kf{constructor(e){D(this,"id");D(this,"key");D(this,"metadata");D(this,"status");D(this,"attachmentMap");D(this,"apiKey");D(this,"authTokenInjector");D(this,"conditions");D(this,"syncLoopDuration");D(this,"reconnectStreamDelay");D(this,"retrySyncLoopDelay");D(this,"channelHeartbeatInterval");D(this,"rpcClient");D(this,"setAuthToken");D(this,"taskQueue");D(this,"processing",!1);D(this,"keepalive",!1);e=e||Wa;const n=e.rpcAddr||Wa.rpcAddr;this.key=e.key||Of(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??Wa.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??Wa.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??Wa.retrySyncLoopDelay,this.channelHeartbeatInterval=e.channelHeartbeatInterval??Wa.channelHeartbeatInterval;const{authInterceptor:i,setToken:l}=Qd(this.apiKey);this.setAuthToken=l,this.rpcClient=as(Nd,jc({baseUrl:n,interceptors:[i,zf(e==null?void 0:e.userAgent)],fetch:(c,g)=>fetch(c,{...g,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const e=await this.authTokenInjector();this.setAuthToken(e)}return this.enqueueTask(async()=>{try{const e=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=e.clientId,this.status="activated",this.runSyncLoop(),fe.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(e){throw fe.error(`[AC] c:"${this.getKey()}" err :`,e),await this.handleConnectError(e),e}})}deactivate(e={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const n=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:e.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),fe.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw fe.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(e.keepalive){this.keepalive=!0;const i=n();return this.keepalive=!1,i}return this.enqueueTask(n)}has(e){return this.attachmentMap.has(e)}attach(e,n){return e instanceof sa?this.attachChannel(e,n):this.attachDocument(e,n)}attachDocument(e,n={}){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==ka.Detached)throw new L(V.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((l,c)=>c.set(n.initialPresence||{}));const i=n.syncMode??"realtime";return this.enqueueTask(async()=>{try{const l=await this.rpcClient.attachDocument({clientId:this.id,changePack:mt.toChangePack(e.createChangePack()),schemaKey:n.schema},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});(l.maxSizePerDocument??0)>0&&e.setMaxSizePerDocument(l.maxSizePerDocument),l.schemaRules.length>0&&e.setSchemaRules(mt.fromSchemaRules(l.schemaRules));const g=mt.fromChangePack(l.changePack);if(e.applyChangePack(g),e.getStatus()===ka.Removed)return e;e.applyStatus(ka.Attached),this.attachmentMap.set(e.getKey(),new Yu(this.reconnectStreamDelay,e,l.documentId,i)),i!=="manual"&&await this.runWatchLoop(e.getKey()),fe.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`);const y=e.getRootObject();if(n.initialRoot){const S=n.initialRoot;e.update(R=>{for(const[C,Z]of Object.entries(S))if(!y.has(C)){const J=C;R[J]=Z}})}return e}catch(l){throw fe.error(`[AD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}detach(e,n){return e instanceof sa?this.detachChannel(e):this.detachDocument(e,n)}detachDocument(e,n={keepalive:!1}){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);e.update((c,g)=>g.clear());const l=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.resourceID,changePack:mt.toChangePack(e.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),g=mt.fromChangePack(c.changePack);return e.applyChangePack(g),e.getStatus()!==ka.Removed&&e.applyStatus(ka.Detached),this.detachInternal(e.getKey()),fe.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}catch(c){throw fe.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(n.keepalive){this.keepalive=!0;const c=l();return this.keepalive=!1,c}return this.enqueueTask(l)}async attachChannel(e,n={}){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==pl.Detached)throw new L(V.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id);const i=async()=>{try{const l=await this.rpcClient.attachChannel({clientId:this.id,channelKey:e.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});e.setSessionID(l.sessionId),e.updateSessionCount(Number(l.sessionCount),0),e.applyStatus(pl.Attached);const c=n.isRealtime!==!1?"realtime":"manual",g=new Yu(this.reconnectStreamDelay,e,l.sessionId,c);return e.subscribe("local-broadcast",y=>{const{topic:S,payload:R,options:C}=y;this.broadcast(e.getKey(),S,R,C).catch(Z=>{C!=null&&C.error&&C.error(Z),fe.error(`[BC] c:"${this.getKey()}" failed: ${Z}`)})}),this.attachmentMap.set(e.getKey(),g),c==="realtime"&&await this.runWatchLoop(e.getKey()),fe.info(`[AP] c:"${this.getKey()}" attaches p:"${e.getKey()}" mode:${c} count:${e.getSessionCount()}`),e}catch(l){throw fe.error(`[AP] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}};return this.enqueueTask(i)}async detachChannel(e){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(e.getKey()))throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const n=async()=>{try{const i=await this.rpcClient.detachChannel({clientId:this.id,channelKey:e.getKey(),sessionId:e.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});return e.updateSessionCount(Number(i.sessionCount),0),e.applyStatus(pl.Detached),this.detachInternal(e.getKey()),fe.info(`[DP] c:"${this.getKey()}" detaches p:"${e.getKey()}" count:${e.getSessionCount()}`),e}catch(i){throw fe.error(`[DP] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};return this.enqueueTask(n)}async changeSyncMode(e,n){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const l=i.syncMode;return l===n?e:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),e):(n==="realtime"&&(i.changeEventReceived=!0),l==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);if(e instanceof sa){const n=this.attachmentMap.get(e.getKey());if(!n)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n).catch(async i=>{throw fe.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}if(e instanceof Vi){const n=this.attachmentMap.get(e.getKey());if(!n)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n,"realtime").catch(async i=>{throw fe.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const n=[];for(const[,i]of this.attachmentMap)i.syncMode!==void 0&&i.resource instanceof Vi&&n.push(this.syncInternal(i,i.syncMode));return Promise.all(n).catch(async i=>{throw fe.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(e){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const n=this.attachmentMap.get(e.getKey());if(!n)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const i=mt.toChangePack(e.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const l=await this.rpcClient.removeDocument({clientId:this.id,documentId:n.resourceID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),c=mt.fromChangePack(l.changePack);e.applyChangePack(c),this.detachInternal(e.getKey()),fe.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}catch(l){throw fe.error(`[RD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}async createRevision(e,n,i){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const l=this.attachmentMap.get(e.getKey());if(!l)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const c=async()=>{try{const g=await this.rpcClient.createRevision({clientId:this.id,documentId:l.resourceID,label:n,description:i||""},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!g.revision)throw new L(V.ErrInvalidArgument,"revision is not returned");return fe.info(`[CR] c:"${this.getKey()}" creates revision d:"${e.getKey()}" l:"${n}"`),mt.toRevisionSummary(g.revision)}catch(g){throw fe.error(`[CR] c:"${this.getKey()}" err :`,g),await this.handleConnectError(g),g}};return this.enqueueTask(c)}async listRevisions(e,n){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const l=async()=>{try{const c=await this.rpcClient.listRevisions({clientId:this.id,documentId:i.resourceID,pageSize:(n==null?void 0:n.pageSize)||10,offset:(n==null?void 0:n.offset)||0,isForward:(n==null?void 0:n.isForward)??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});return fe.info(`[LR] c:"${this.getKey()}" lists revisions d:"${e.getKey()}" count:${c.revisions.length}`),c.revisions.map(mt.toRevisionSummary)}catch(c){throw fe.error(`[LR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(l)}async getRevision(e,n){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const l=async()=>{try{const c=await this.rpcClient.getRevision({clientId:this.id,documentId:i.resourceID,revisionId:n},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!c.revision)throw new L(V.ErrInvalidArgument,"revision is not returned");return fe.info(`[GR] c:"${this.getKey()}" gets revision d:"${e.getKey()}" r:"${n}"`),mt.toRevisionSummary(c.revision)}catch(c){throw fe.error(`[GR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(l)}async restoreRevision(e,n){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new L(V.ErrNotAttached,`${e.getKey()} is not attached`);const l=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:i.resourceID,revisionId:n},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),fe.info(`[RR] c:"${this.getKey()}" restores revision d:"${e.getKey()}" r:"${n}"`)}catch(c){throw fe.error(`[RR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(l)}async broadcast(e,n,i,l){if(!this.isActive())throw new L(V.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(e);if(!c)throw new L(V.ErrNotAttached,`${e} is not attached`);if(!pm(i))throw new L(V.ErrInvalidArgument,"payload is not serializable");const g=c.resource,y=(l==null?void 0:l.maxRetries)??vl.maxRetries,S=vl.maxBackoff;let R=0;const C=J=>Math.min(vl.initialRetryInterval*2**J,S),Z=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:e,topic:n,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${g.getFirstKeyPath()}`}}),fe.info(`[BC] c:"${this.getKey()}" broadcasts p:"${e}" t:"${n}"`)}catch(J){if(fe.error(`[BC] c:"${this.getKey()}" err:`,J),await this.handleConnectError(J))if(Qr(J,V.ErrUnauthenticated)&&c.resource instanceof sa&&c.resource.publish({type:ia.AuthError,reason:mn(J).reason||"unauthenticated",method:"Broadcast"}),R<y)R++,setTimeout(()=>Z(),C(R-1)),fe.info(`[BC] c:"${this.getKey()}" retry attempt ${R}/${y}`);else throw fe.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),J}});return Z()}runSyncLoop(){const e=async()=>{if(!this.isActive()){fe.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const n=[];for(const[,i]of this.attachmentMap)i.needSync(this.channelHeartbeatInterval)&&(i.changeEventReceived!==void 0&&(i.changeEventReceived=!1),n.push(this.syncInternal(i,i.syncMode).catch(l=>{throw Qr(l,V.ErrUnauthenticated)&&i.resource.publish([{type:pn.AuthError,value:{reason:mn(l).reason,method:"PushPull"}}]),l})));await Promise.all(n),setTimeout(e,this.syncLoopDuration)})}catch(n){fe.error(`[SL] c:"${this.getKey()}" sync failed:`,n),await this.handleConnectError(n)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};fe.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const n=this.attachmentMap.get(e);if(!n)throw new L(V.ErrNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,n.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new L(V.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(e))return this.conditions.WatchLoop=!1,Promise.reject(new L(V.ErrNotAttached,`${e} is not attached`));const l=new AbortController;return n.resource instanceof Vi?this.createDocumentWatchStream(n,e,l,i):n.resource instanceof sa?this.createChannelWatchStream(n,e,l,i):Promise.reject(new L(V.ErrClientNotActivated,`Unknown resource type for ${e}`))})}createDocumentWatchStream(e,n,i,l){const c=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"document",value:{documentId:e.resourceID}}}]},{headers:{"x-shard-key":`${this.apiKey}/${n}`},signal:i.signal});e.resource.publish([{type:pn.ConnectionChanged,value:uo.Connected}]),fe.info(`[WD] c:"${this.getKey()}" watches d:"${n}"`),e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);const g=()=>{e.resource.resetOnlineClients(),e.resource.publish([{type:pn.Initialized,source:Tt.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:pn.ConnectionChanged,value:uo.Disconnected}])};return Pe({stream:c,ac:i,isInit:y=>y.body.case==="initialization",onResponse:y=>this.handleWatchDocumentResponse(e,y),onStreamEnd:()=>{g(),fe.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`)},onError:y=>{g(),fe.debug(`[WD] c:"${this.getKey()}" unwatches`),Qr(y,V.ErrUnauthenticated)&&e.resource.publish([{type:pn.AuthError,value:{reason:mn(y).reason,method:"Watch"}}])},onDisconnect:l},y=>this.handleConnectError(y),()=>{this.conditions.WatchLoop=!1})}createChannelWatchStream(e,n,i,l){const c=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"channel",value:{channelKey:n}}}]},{headers:{"x-shard-key":`${this.apiKey}/${e.resource.getFirstKeyPath()}`},signal:i.signal});return fe.info(`[WP] c:"${this.getKey()}" watches p:"${n}"`),Pe({stream:c,ac:i,isInit:g=>g.body.case==="initialization",onResponse:g=>this.handleWatchChannelResponse(e,g),onStreamEnd:()=>{fe.debug(`[WP] c:"${this.getKey()}" p:"${n}" stream ended`)},onError:g=>{fe.debug(`[WP] c:"${this.getKey()}" p:"${n}" err:`,g)},onDisconnect:l,shouldIgnoreError:g=>g instanceof Error&&g.name==="AbortError"?(fe.debug(`[WP] c:"${this.getKey()}" p:"${n}" stream aborted`),!0):!1},g=>this.handleConnectError(g),()=>{this.conditions.WatchLoop=!1})}handleWatchChannelResponse(e,n){const i=e.resource;if(n.body.case==="initialization"){for(const l of n.body.value.resourceInits)if(l.init.case==="channelInit"){const{sessionCount:c,seq:g}=l.init.value;i.updateSessionCount(Number(c),Number(g))&&i.publish({type:ia.Initialized,count:Number(c)})}return}if(n.body.case==="event"){const l=n.body.value;if(l.event.case==="channelEvent"){const c=l.event.value.event;if(!c)return;if(c.type===sf.BROADCAST){const g=new TextDecoder;try{const y=JSON.parse(g.decode(c.payload));i.publish({type:ia.Broadcast,clientID:c.publisher,topic:c.topic,payload:y})}catch(y){fe.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,y)}return}i.updateSessionCount(Number(c.sessionCount),Number(c.seq))&&i.publish({type:ia.PresenceChanged,count:Number(c.sessionCount)})}}}handleWatchDocumentResponse(e,n){var i;if(n.body.case==="initialization"){for(const l of n.body.value.resourceInits)l.init.case==="documentInit"&&e.resource.applyWatchInit(l.init.value.clientIds);return}if(n.body.case==="event"){const l=n.body.value;if(l.event.case==="docEvent"){const c=l.event.value;if(((i=c.event)==null?void 0:i.type)===ll.DOCUMENT_CHANGED){e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);return}c.event&&e.resource.applyDocEvent(c.event.type,c.event.publisher)}}}deactivateInternal(){this.status="deactivated";for(const[e,n]of this.attachmentMap)this.detachInternal(e),n.resource instanceof Vi?n.resource.applyStatus(ka.Detached):n.resource instanceof sa&&n.resource.applyStatus(pl.Detached)}detachInternal(e){const n=this.attachmentMap.get(e);n&&(n.cancelWatchStream(),n.resource instanceof Vi&&n.resource.resetOnlineClients(),this.attachmentMap.delete(e))}async syncInternal(e,n){const{resource:i}=e;if(i instanceof sa){try{const y=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:i.getKey(),sessionId:i.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});i.updateSessionCount(Number(y.sessionCount),0),e.updateHeartbeatTime(),fe.debug(`[RP] c:"${this.getKey()}" refreshes p:"${i.getKey()}" mode:${e.syncMode}`)}catch(y){throw fe.error(`[RP] c:"${this.getKey()}" err :`,y),y}return i}const l=i,{resourceID:c}=e,g=l.createChangePack();try{const y=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:mt.toChangePack(g),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${l.getKey()}`}}),S=mt.fromChangePack(y.changePack);if(S.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return l;l.applyChangePack(S),e.resource.publish([{type:pn.SyncStatusChanged,value:_u.Synced}]),l.getStatus()===ka.Removed&&this.detachInternal(l.getKey());const R=l.getKey(),C=S.getChangeSize();return fe.info(`[PP] c:"${this.getKey()}" sync d:"${R}", push:${g.getChangeSize()} pull:${C} cp:${S.getCheckpoint().toTestString()}`),l}catch(y){throw l.publish([{type:pn.SyncStatusChanged,value:_u.SyncFailed}]),fe.error(`[PP] c:"${this.getKey()}" err :`,y),y}}async handleConnectError(e){if(!(e instanceof Fe))return!1;if(e.code===I.Canceled||e.code===I.Unknown||e.code===I.ResourceExhausted||e.code===I.Unavailable)return!0;if(gs(e)===V.ErrUnauthenticated){if(this.authTokenInjector){const n=await this.authTokenInjector(mn(e).reason);this.setAuthToken(n)}return!0}return gs(e)===V.ErrTooManySubscribers?(fe.error(`[WD] c:"${this.getKey()}" err :`,e.rawMessage),!0):(gs(e)===V.ErrTooManyAttachments||(gs(e)===V.ErrClientNotActivated||gs(e)===V.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(e){return new Promise((n,i)=>{this.taskQueue.push(()=>e().then(n).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{fe.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function Gu(a){return typeof a=="object"&&a!==null&&a.type==="Text"&&Array.isArray(a.nodes)}function co(a){return typeof a=="object"&&a!==null&&a.type==="Tree"&&typeof a.root=="object"}function bl(a){return typeof a=="object"&&a!==null&&a.type==="Int"&&typeof a.value=="number"}function vs(a){return typeof a=="object"&&a!==null&&a.type==="Long"&&typeof a.value=="number"}function Wf(a){return typeof a=="object"&&a!==null&&a.type==="Date"&&typeof a.value=="string"}function qd(a){return typeof a=="object"&&a!==null&&a.type==="BinData"&&typeof a.value=="string"}function eg(a){return typeof a=="object"&&a!==null&&a.type==="Counter"&&typeof a.value=="object"}function tg(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)&&!Gu(a)&&!co(a)&&!bl(a)&&!vs(a)&&!Wf(a)&&!qd(a)&&!eg(a)}function ng(a){try{const e=zu(a),n=JSON.parse(e);return ot(n)}catch(e){throw new L(V.ErrInvalidArgument,`Failed to parse YSON: ${e instanceof Error?e.message:String(e)}`)}}function zu(a){let e=a;return e=e.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(n,i,l)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${i}","__yson_data":${l}}}`),e=e.replace(/Int\((-?\d+)\)/g,(n,i)=>`{"__yson_type":"Int","__yson_data":${i}}`),e=e.replace(/Long\((-?\d+)\)/g,(n,i)=>`{"__yson_type":"Long","__yson_data":${i}}`),e=e.replace(/Date\("([^"]*)"\)/g,(n,i)=>`{"__yson_type":"Date","__yson_data":"${i}"}`),e=e.replace(/BinData\("([^"]*)"\)/g,(n,i)=>`{"__yson_type":"BinData","__yson_data":"${i}"}`),e=e.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(n,i)=>`{"__yson_type":"Text","__yson_data":${i}}`),e=e.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(n,i)=>`{"__yson_type":"Tree","__yson_data":${i}}`),e}function ot(a){if(a===null||typeof a!="object")return a;if(a.__yson_type==="Int"&&typeof a.__yson_data=="number")return{type:"Int",value:a.__yson_data};if(a.__yson_type==="Long"&&typeof a.__yson_data=="number")return{type:"Long",value:a.__yson_data};if(a.__yson_type==="Date"&&typeof a.__yson_data=="string")return{type:"Date",value:a.__yson_data};if(a.__yson_type==="BinData"&&typeof a.__yson_data=="string")return{type:"BinData",value:a.__yson_data};if(a.__yson_type==="Counter"&&typeof a.__yson_data=="object"){const n=ot(a.__yson_data);if(typeof n=="object"&&n!==null&&"type"in n&&(n.type==="Int"||n.type==="Long"))return{type:"Counter",value:n};throw new L(V.ErrInvalidArgument,"Counter must contain Int or Long")}if(a.__yson_type==="Text"&&Array.isArray(a.__yson_data))return{type:"Text",nodes:a.__yson_data.map(n=>Kf(n))};if(a.__yson_type==="Tree"&&typeof a.__yson_data=="object")return{type:"Tree",root:un(a.__yson_data)};if(Array.isArray(a))return a.map(n=>ot(n));const e={};for(const[n,i]of Object.entries(a))e[n]=ot(i);return e}function Kf(a){if(typeof a!="object"||a===null||typeof a.val!="string")throw new L(V.ErrInvalidArgument,"invalid text node format");const e={val:a.val};return a.attrs&&typeof a.attrs=="object"&&(e.attrs=a.attrs),e}function un(a){if(typeof a!="object"||a===null||typeof a.type!="string")throw new L(V.ErrInvalidArgument,"invalid tree node format");const e={type:a.type};return a.type==="text"&&typeof a.value=="string"?(e.value=a.value,e):(a.attrs&&typeof a.attrs=="object"&&(e.attrs=a.attrs),Array.isArray(a.children)&&(e.children=a.children.map(n=>un(n))),e)}function ym(a){return a.nodes.map(e=>e.val).join("")}function Xf(a){return ku(a.root)}function ku(a){const e=a.attrs?Object.entries(a.attrs).map(([i,l])=>` ${i}="${Sl(l)}"`).join(""):"";if(a.type==="text"&&a.value!==void 0)return`<${a.type}${e}>${Sl(a.value)}</${a.type}>`;if(!a.children||a.children.length===0)return`<${a.type}${e} />`;const n=a.children.map(i=>ku(i)).join("");return`<${a.type}${e}>${n}</${a.type}>`}function Sl(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const rg=Object.freeze(Object.defineProperty({__proto__:null,isBinData:qd,isCounter:eg,isDate:Wf,isInt:bl,isLong:vs,isObject:tg,isText:Gu,isTree:co,parse:ng,textToString:ym,treeToXML:Xf},Symbol.toStringTag,{value:"Module"}));nr.Int,nr.Long,typeof globalThis<"u"&&(globalThis.yorkie={Client:kf,Document:Vi,Primitive:xt,Text:ml,Counter:Bf,Tree:Uu,Channel:sa,ChannelEventType:ia,YSON:rg,LogLevel:Tn,setLogLevel:Pd,IntType:nr.Int,LongType:nr.Long});const fo={name:"@yorkie-js/react",version:"0.6.48"},ig=T.createContext({client:void 0,loading:!0,error:void 0});function Pf(a){const[e,n]=T.useState(void 0),[i,l]=T.useState(!0),[c,g]=T.useState(void 0),[y,S]=T.useState(!1);return T.useEffect(()=>{S(!0)},[]),T.useEffect(()=>{l(!0),g(void 0);async function R(){if(y)try{const C=new kf(a);await C.activate(),n(C)}catch(C){g(C instanceof Error?C:new Error("Failed to activate client"))}finally{l(!1)}}return R(),()=>{e!=null&&e.isActive()&&e.deactivate({keepalive:!0})}},[a.apiKey,a.rpcAddr,y]),{client:e,loading:i,error:c}}const bm=({children:a,...e})=>{const n=T.useMemo(()=>({userAgent:fo.name+"/"+fo.version,...e}),[e.apiKey,e.rpcAddr]),{client:i,loading:l,error:c}=Pf(n);return A.jsx(ig.Provider,{value:{client:i,loading:l,error:c},children:a})},Ff=()=>{const a=T.useContext(ig);if(!a)throw new Error("useYorkie must be used under YorkieProvider");return{client:a.client,loading:a.loading,error:a.error}};function sg(a){const e=new Set;let n=a;const i=()=>{e.forEach(S=>S(n))};return{subscribe:S=>(e.add(S),()=>e.delete(S)),getSnapshot:()=>n,setState:S=>{const R=n;n=typeof S=="function"?S(R):S,R!==n&&i()},destroy:()=>{e.clear()}}}const og=a=>sg(a);function yn(a,e,n=Object.is){const i=T.useRef(e),l=T.useRef(n),c=T.useRef(void 0);i.current=e,l.current=n;const g=()=>{const y=a.getSnapshot(),S=i.current?i.current(y):y;return c.current!==void 0&&l.current(c.current,S)?c.current:(c.current=S,S)};return T.useSyncExternalStore(a.subscribe,g,g)}function Jf(a){return a!=null&&typeof a[Symbol.iterator]=="function"}function Wu(a){return"entries"in a&&typeof a.entries=="function"}function Sm(a,e){const n=a instanceof Map?a:new Map(a.entries()),i=e instanceof Map?e:new Map(e.entries());if(n.size!==i.size)return!1;for(const[l,c]of n)if(!i.has(l)||!Object.is(c,i.get(l)))return!1;return!0}function Am(a,e){const n=a[Symbol.iterator](),i=e[Symbol.iterator]();let l=n.next(),c=i.next();for(;!l.done&&!c.done;){if(!Object.is(l.value,c.value))return!1;l=n.next(),c=i.next()}return l.done===c.done}function jf(a,e){const n=Object.keys(a),i=Object.keys(e);if(n.length!==i.length)return!1;for(const l of n)if(!Object.prototype.hasOwnProperty.call(e,l)||!Object.is(a[l],e[l]))return!1;return!0}function lg(a,e){if(Object.is(a,e))return!0;if(typeof a!="object"||a===null||typeof e!="object"||e===null||Object.getPrototypeOf(a)!==Object.getPrototypeOf(e))return!1;const n=Jf(a),i=Jf(e);return n!==i?!1:n&&i?Wu(a)&&Wu(e)?Sm(a,e):Am(a,e):jf(a,e)}function Rr(a,e,n,i,l,c,g,y){const S=T.useRef(l),R=T.useRef(c),[C,Z]=T.useState(!1);T.useEffect(()=>{Z(!0)},[]),T.useEffect(()=>{if(n){y.setState(ae=>({...ae,loading:!1,error:n}));return}if(!a||e||!C){y.setState(ae=>({...ae,loading:!0}));return}y.setState(ae=>({...ae,loading:!0,error:void 0}));const J=new Vi(i,{enableDevtools:g}),G=[];G.push(J.subscribe(()=>{y.setState(ae=>({...ae,root:J.getRoot()}))})),G.push(J.subscribe("presence",()=>{y.setState(ae=>({...ae,presences:J.getPresences()}))})),G.push(J.subscribe("connection",ae=>{y.setState(pe=>({...pe,connection:ae.value}))}));async function ne(){try{await(a==null?void 0:a.attach(J,{initialRoot:S.current,initialPresence:R.current}));const ae=pe=>{try{J.update(pe)}catch(Ce){y.setState(at=>({...at,error:Ce instanceof Error?Ce:new Error("Failed to update document")}))}};y.setState(pe=>({...pe,doc:J,root:J.getRoot(),presences:J.getPresences(),update:ae}))}catch(ae){y.setState(pe=>({...pe,error:ae instanceof Error?ae:new Error("Failed to attach document")}))}finally{y.setState(ae=>({...ae,loading:!1}))}}return ne(),()=>{a&&a.has(i)&&a.detach(J);for(const ae of G)ae()}},[a,e,n,i,y,C])}const ho=T.createContext(void 0),ug=({docKey:a,initialRoot:e={},initialPresence:n={},enableDevtools:i=!1,children:l})=>{const{client:c,loading:g,error:y}=Ff(),S=T.useRef(void 0);S.current||(S.current=og({doc:void 0,root:e,presences:[],connection:uo.Disconnected,update:()=>{},loading:!0,error:void 0}));const R=S.current;return Rr(c,g,y,a,e,n,i,R),A.jsx(ho.Provider,{value:R,children:l})};function cg(){const a=T.useContext(ho);if(!a)throw new Error("useDocument must be used within a DocumentProvider");return yn(a)}const Al=()=>(a,e=lg)=>{const n=T.useContext(ho);if(!n)throw new Error("useDocument must be used within a DocumentProvider");return yn(n,a,e)},Tr=()=>{const a=zr("useRoot");return{root:yn(a,n=>n.root)}},fg=()=>{const a=zr("usePresences");return yn(a,e=>e.presences)},Ku=()=>{const a=zr("useConnection");return yn(a,e=>e.connection)},zr=a=>{const e=T.useContext(ho);if(!e)throw new Error(`${a} must be used within a DocumentProvider`);return e};function Em(a,e,n){const i=T.useRef(void 0);i.current||(i.current=og({doc:void 0,root:(n==null?void 0:n.initialRoot)??{},presences:[],connection:uo.Disconnected,update:()=>{},loading:!0,error:void 0}));const l=i.current,c=T.useMemo(()=>({apiKey:a,userAgent:fo.name+"/"+fo.version,...n}),[a,n]),{client:g,loading:y,error:S}=Pf(c);Rr(g,y,S,e,(n==null?void 0:n.initialRoot)??{},(n==null?void 0:n.initialPresence)??{},(n==null?void 0:n.enableDevtools)??!1,l);const R=yn(l);return{root:R.root,presences:R.presences,connection:R.connection,update:R.update,loading:R.loading,error:R.error}}function Rm(a){return sg(a)}const bs=T.createContext(void 0);function hg(a,e,n,i,l,c){const g=T.useRef(void 0),[y,S]=T.useState(!1);T.useEffect(()=>{S(!0)},[]),T.useEffect(()=>{if(!y||e||n||!a){n&&c.setState(Z=>({...Z,error:n,loading:!1}));return}let R;async function C(){if(!(!a||!a.isActive())){c.setState(Z=>({...Z,loading:!0,error:void 0}));try{const Z=new sa(i);await a.attach(Z,{isRealtime:l}),g.current=Z,R=Z.subscribe(()=>{c.setState(J=>({...J,sessionCount:Z.getSessionCount()}))}),c.setState({channel:Z,sessionCount:Z.getSessionCount(),loading:!1,error:void 0})}catch(Z){c.setState(J=>({...J,loading:!1,error:Z instanceof Error?Z:new Error("Failed to attach channel")}))}}}return C(),()=>{R&&R();async function Z(){if(g.current&&(a!=null&&a.isActive()))try{await a.detach(g.current)}catch(J){console.error("Failed to detach channel:",J)}}Z()}},[a,e,n,i,l,y])}const Tm=({children:a,channelKey:e,isRealtime:n=!0})=>{const{client:i,loading:l,error:c}=Ff(),g=T.useRef(void 0);g.current||(g.current=Rm({channel:void 0,sessionCount:0,loading:!0,error:void 0}));const y=g.current;return hg(i,l,c,e,n,y),A.jsx(bs.Provider,{value:y,children:a})},dg=a=>{const e=T.useContext(bs);if(!e)throw new Error(`${a} must be used within ChannelProvider`);return e},wm=()=>{const a=dg("useChannel"),e=yn(a,l=>l.sessionCount),n=yn(a,l=>l.loading),i=yn(a,l=>l.error);return{sessionCount:e,loading:n,error:i}},Nm=()=>{const a=dg("useChannelSessionCount");return yn(a,e=>e.sessionCount)};p.ChannelProvider=Tm,p.DocumentProvider=ug,p.YorkieProvider=bm,p.createDocumentSelector=Al,p.shallowEqual=lg,p.useChannel=wm,p.useChannelSessionCount=Nm,p.useConnection=Ku,p.useDocument=cg,p.usePresences=fg,p.useRoot=Tr,p.useYorkieDoc=Em,Object.defineProperty(p,Symbol.toStringTag,{value:"Module"})})}(ih,ih.exports)),ih.exports}var cS=uS();const fS=()=>{const{data:f,isLoading:h}=Jy({queryKey:["me"],queryFn:Hy,retry:!1});return h?Je.jsx(pp,{}):f?Je.jsx(cS.YorkieProvider,{apiKey:"fbuqYRxotajGGzb3kUD6aX",metadata:{userID:f.username||"anonymous-user"},children:Je.jsx(Dy,{})}):Je.jsx(xy,{to:"/login"})},hS=()=>{const{data:f,isLoading:h}=Jy({queryKey:["me"],queryFn:Hy,retry:!1});return h?Je.jsx(pp,{}):f?Je.jsx(xy,{to:"/"}):Je.jsx(Dy,{})},dS={theme:"system",resolvedTheme:"light",setTheme:()=>null},$y=X.createContext(dS);function gS({children:f,defaultTheme:h="system",storageKey:m="vite-ui-theme",...p}){const[A,T]=X.useState(()=>localStorage.getItem(m)||h),[I,B]=X.useState(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");X.useEffect(()=>{const w=window.document.documentElement;w.classList.remove("light","dark");let _;if(A==="system"){const N=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";_=N,w.classList.add(N)}else _=A,w.classList.add(A);B(_)},[A]),X.useEffect(()=>{const w=window.matchMedia("(prefers-color-scheme: dark)"),_=()=>{if(A==="system"){const N=window.document.documentElement,F=w.matches?"dark":"light";N.classList.remove("light","dark"),N.classList.add(F),B(F)}};return w.addEventListener("change",_),()=>w.removeEventListener("change",_)},[A]);const b={theme:A,resolvedTheme:I,setTheme:w=>{localStorage.setItem(m,w),T(w)}};return Je.jsx($y.Provider,{...p,value:b,children:f})}const CS=()=>{const f=X.useContext($y);if(f===void 0)throw new Error("useTheme must be used within a ThemeProvider");return f},mS=X.lazy(()=>Vl(()=>import("./page-DTYaZjba.js"),__vite__mapDeps([0,1,2,3,4]))),pS=X.lazy(()=>Vl(()=>import("./page-CyU__BwD.js"),__vite__mapDeps([5,6,7,1,2,3,8,9,10,11,12,13]))),yS=X.lazy(()=>Vl(()=>import("./document-detail-Bgatriol.js"),__vite__mapDeps([14,6,15,16,11,10,1,4,3,2,9,8,13,17,18,19,20,21]))),vS=X.lazy(()=>Vl(()=>import("./page-QZC0YUqR.js"),__vite__mapDeps([22,23,7,1,2,3,11,10,12,24,8,9,13,25,18]))),bS=X.lazy(()=>Vl(()=>import("./shared-document-BBnCP55-.js"),__vite__mapDeps([26,19,16,11,10,1,27,28,3]))),SS=X.lazy(()=>Vl(()=>import("./page-D3nhLok4.js"),__vite__mapDeps([29,25,10,1,18]))),AS=X.lazy(()=>Vl(()=>import("./Layout-CLBWkCxd.js"),__vite__mapDeps([30,15,16,11,10,1,4,3,2,9])));function ES(){const[f]=X.useState(()=>new s0);return Je.jsxs(gS,{defaultTheme:"system",storageKey:"vite-ui-theme",children:[Je.jsx(f0,{client:f,children:Je.jsx(Vb,{basename:"/",children:Je.jsx(X.Suspense,{fallback:Je.jsx(pp,{}),children:Je.jsxs(ub,{children:[Je.jsx(Ui,{element:Je.jsx(hS,{}),children:Je.jsx(Ui,{path:"/login",element:Je.jsx(mS,{})})}),Je.jsx(Ui,{path:"/shared/:token",element:Je.jsx(bS,{})}),Je.jsxs(Ui,{element:Je.jsx(fS,{}),children:[Je.jsxs(Ui,{element:Je.jsx(AS,{}),children:[Je.jsx(Ui,{path:"/",element:Je.jsx(pS,{})}),Je.jsx(Ui,{path:"/datasources",element:Je.jsx(vS,{})}),Je.jsx(Ui,{path:"/settings",element:Je.jsx(SS,{})})]}),Je.jsx(Ui,{path:"/:id",element:Je.jsx(yS,{})})]})]})})})}),Je.jsx($0,{})]})}mv.createRoot(document.getElementById("root")).render(Je.jsx(X.StrictMode,{children:Je.jsx(ES,{})}));export{py as A,Ly as L,xy as N,Dy as O,de as R,mh as S,$y as T,Vl as _,Ny as a,Jy as b,kb as c,NS as d,pp as e,Hy as f,oS as g,rS as h,iS as i,Je as j,oh as k,r0 as l,ty as m,Mn as n,p0 as o,xo as p,sS as q,X as r,Pm as s,G0 as t,c0 as u,wS as v,Wb as w,CS as x,cS as y,TS as z};
